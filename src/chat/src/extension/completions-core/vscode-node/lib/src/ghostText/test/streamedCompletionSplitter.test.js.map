{"version":3,"file":"streamedCompletionSplitter.test.js","sourceRoot":"","sources":["streamedCompletionSplitter.test.ts"],"names":[],"mappings":"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"}