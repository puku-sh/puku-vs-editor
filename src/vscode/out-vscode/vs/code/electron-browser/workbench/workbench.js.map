{"version":3,"sources":["../../../../../file:/home/poridhi/development/puku-vs-editor/src/vscode/src/vs/code/electron-browser/workbench/workbench.ts","../../../../../vs/code/electron-browser/workbench/workbench.ts"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* eslint-disable no-restricted-globals */\n\n(async function () {\n\n\t// Add a perf entry right from the top\n\tperformance.mark('code/didStartRenderer');\n\n\ttype ISandboxConfiguration = import('../../../base/parts/sandbox/common/sandboxTypes.js').ISandboxConfiguration;\n\ttype ILoadResult<M, T extends ISandboxConfiguration> = import('../../../platform/window/electron-browser/window.js').ILoadResult<M, T>;\n\ttype ILoadOptions<T extends ISandboxConfiguration> = import('../../../platform/window/electron-browser/window.js').ILoadOptions<T>;\n\ttype INativeWindowConfiguration = import('../../../platform/window/common/window.ts').INativeWindowConfiguration;\n\ttype IMainWindowSandboxGlobals = import('../../../base/parts/sandbox/electron-browser/globals.js').IMainWindowSandboxGlobals;\n\ttype IDesktopMain = import('../../../workbench/electron-browser/desktop.main.js').IDesktopMain;\n\n\tconst preloadGlobals = (window as unknown as { vscode: IMainWindowSandboxGlobals }).vscode; // defined by preload.ts\n\tconst safeProcess = preloadGlobals.process;\n\n\t//#region Splash Screen Helpers\n\n\tfunction showSplash(configuration: INativeWindowConfiguration) {\n\t\tperformance.mark('code/willShowPartsSplash');\n\n\t\tlet data = configuration.partsSplash;\n\t\tif (data) {\n\t\t\tif (configuration.autoDetectHighContrast && configuration.colorScheme.highContrast) {\n\t\t\t\tif ((configuration.colorScheme.dark && data.baseTheme !== 'hc-black') || (!configuration.colorScheme.dark && data.baseTheme !== 'hc-light')) {\n\t\t\t\t\tdata = undefined; // high contrast mode has been turned by the OS -> ignore stored colors and layouts\n\t\t\t\t}\n\t\t\t} else if (configuration.autoDetectColorScheme) {\n\t\t\t\tif ((configuration.colorScheme.dark && data.baseTheme !== 'vs-dark') || (!configuration.colorScheme.dark && data.baseTheme !== 'vs')) {\n\t\t\t\t\tdata = undefined; // OS color scheme is tracked and has changed\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// developing an extension -> ignore stored layouts\n\t\tif (data && configuration.extensionDevelopmentPath) {\n\t\t\tdata.layoutInfo = undefined;\n\t\t}\n\n\t\t// minimal color configuration (works with or without persisted data)\n\t\tlet baseTheme;\n\t\tlet shellBackground;\n\t\tlet shellForeground;\n\t\tif (data) {\n\t\t\tbaseTheme = data.baseTheme;\n\t\t\tshellBackground = data.colorInfo.editorBackground;\n\t\t\tshellForeground = data.colorInfo.foreground;\n\t\t} else if (configuration.autoDetectHighContrast && configuration.colorScheme.highContrast) {\n\t\t\tif (configuration.colorScheme.dark) {\n\t\t\t\tbaseTheme = 'hc-black';\n\t\t\t\tshellBackground = '#000000';\n\t\t\t\tshellForeground = '#FFFFFF';\n\t\t\t} else {\n\t\t\t\tbaseTheme = 'hc-light';\n\t\t\t\tshellBackground = '#FFFFFF';\n\t\t\t\tshellForeground = '#000000';\n\t\t\t}\n\t\t} else if (configuration.autoDetectColorScheme) {\n\t\t\tif (configuration.colorScheme.dark) {\n\t\t\t\tbaseTheme = 'vs-dark';\n\t\t\t\tshellBackground = '#1E1E1E';\n\t\t\t\tshellForeground = '#CCCCCC';\n\t\t\t} else {\n\t\t\t\tbaseTheme = 'vs';\n\t\t\t\tshellBackground = '#FFFFFF';\n\t\t\t\tshellForeground = '#000000';\n\t\t\t}\n\t\t}\n\n\t\tconst style = document.createElement('style');\n\t\tstyle.className = 'initialShellColors';\n\t\twindow.document.head.appendChild(style);\n\t\tstyle.textContent = `body {\tbackground-color: ${shellBackground}; color: ${shellForeground}; margin: 0; padding: 0; }`;\n\n\t\t// set zoom level as soon as possible\n\t\tif (typeof data?.zoomLevel === 'number' && typeof preloadGlobals?.webFrame?.setZoomLevel === 'function') {\n\t\t\tpreloadGlobals.webFrame.setZoomLevel(data.zoomLevel);\n\t\t}\n\n\t\t// restore parts if possible (we might not always store layout info)\n\t\tif (data?.layoutInfo) {\n\t\t\tconst { layoutInfo, colorInfo } = data;\n\n\t\t\tconst splash = document.createElement('div');\n\t\t\tsplash.id = 'monaco-parts-splash';\n\t\t\tsplash.className = baseTheme ?? 'vs-dark';\n\n\t\t\tif (layoutInfo.windowBorder && colorInfo.windowBorder) {\n\t\t\t\tconst borderElement = document.createElement('div');\n\t\t\t\tborderElement.style.position = 'absolute';\n\t\t\t\tborderElement.style.width = 'calc(100vw - 2px)';\n\t\t\t\tborderElement.style.height = 'calc(100vh - 2px)';\n\t\t\t\tborderElement.style.zIndex = '1'; // allow border above other elements\n\t\t\t\tborderElement.style.border = `1px solid var(--window-border-color)`;\n\t\t\t\tborderElement.style.setProperty('--window-border-color', colorInfo.windowBorder);\n\n\t\t\t\tif (layoutInfo.windowBorderRadius) {\n\t\t\t\t\tborderElement.style.borderRadius = layoutInfo.windowBorderRadius;\n\t\t\t\t}\n\n\t\t\t\tsplash.appendChild(borderElement);\n\t\t\t}\n\n\t\t\tif (layoutInfo.auxiliaryBarWidth === Number.MAX_SAFE_INTEGER) {\n\t\t\t\t// if auxiliary bar is maximized, it goes as wide as the\n\t\t\t\t// window width but leaving room for activity bar\n\t\t\t\tlayoutInfo.auxiliaryBarWidth = window.innerWidth - layoutInfo.activityBarWidth;\n\t\t\t} else {\n\t\t\t\t// otherwise adjust for other parts sizes if not maximized\n\t\t\t\tlayoutInfo.auxiliaryBarWidth = Math.min(layoutInfo.auxiliaryBarWidth, window.innerWidth - (layoutInfo.activityBarWidth + layoutInfo.editorPartMinWidth + layoutInfo.sideBarWidth));\n\t\t\t}\n\t\t\tlayoutInfo.sideBarWidth = Math.min(layoutInfo.sideBarWidth, window.innerWidth - (layoutInfo.activityBarWidth + layoutInfo.editorPartMinWidth + layoutInfo.auxiliaryBarWidth));\n\n\t\t\t// part: title\n\t\t\tif (layoutInfo.titleBarHeight > 0) {\n\t\t\t\tconst titleDiv = document.createElement('div');\n\t\t\t\ttitleDiv.style.position = 'absolute';\n\t\t\t\ttitleDiv.style.width = '100%';\n\t\t\t\ttitleDiv.style.height = `${layoutInfo.titleBarHeight}px`;\n\t\t\t\ttitleDiv.style.left = '0';\n\t\t\t\ttitleDiv.style.top = '0';\n\t\t\t\ttitleDiv.style.backgroundColor = `${colorInfo.titleBarBackground}`;\n\t\t\t\t(titleDiv.style as CSSStyleDeclaration & { '-webkit-app-region': string })['-webkit-app-region'] = 'drag';\n\t\t\t\tsplash.appendChild(titleDiv);\n\n\t\t\t\tif (colorInfo.titleBarBorder) {\n\t\t\t\t\tconst titleBorder = document.createElement('div');\n\t\t\t\t\ttitleBorder.style.position = 'absolute';\n\t\t\t\t\ttitleBorder.style.width = '100%';\n\t\t\t\t\ttitleBorder.style.height = '1px';\n\t\t\t\t\ttitleBorder.style.left = '0';\n\t\t\t\t\ttitleBorder.style.bottom = '0';\n\t\t\t\t\ttitleBorder.style.borderBottom = `1px solid ${colorInfo.titleBarBorder}`;\n\t\t\t\t\ttitleDiv.appendChild(titleBorder);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// part: activity bar\n\t\t\tif (layoutInfo.activityBarWidth > 0) {\n\t\t\t\tconst activityDiv = document.createElement('div');\n\t\t\t\tactivityDiv.style.position = 'absolute';\n\t\t\t\tactivityDiv.style.width = `${layoutInfo.activityBarWidth}px`;\n\t\t\t\tactivityDiv.style.height = `calc(100% - ${layoutInfo.titleBarHeight + layoutInfo.statusBarHeight}px)`;\n\t\t\t\tactivityDiv.style.top = `${layoutInfo.titleBarHeight}px`;\n\t\t\t\tif (layoutInfo.sideBarSide === 'left') {\n\t\t\t\t\tactivityDiv.style.left = '0';\n\t\t\t\t} else {\n\t\t\t\t\tactivityDiv.style.right = '0';\n\t\t\t\t}\n\t\t\t\tactivityDiv.style.backgroundColor = `${colorInfo.activityBarBackground}`;\n\t\t\t\tsplash.appendChild(activityDiv);\n\n\t\t\t\tif (colorInfo.activityBarBorder) {\n\t\t\t\t\tconst activityBorderDiv = document.createElement('div');\n\t\t\t\t\tactivityBorderDiv.style.position = 'absolute';\n\t\t\t\t\tactivityBorderDiv.style.width = '1px';\n\t\t\t\t\tactivityBorderDiv.style.height = '100%';\n\t\t\t\t\tactivityBorderDiv.style.top = '0';\n\t\t\t\t\tif (layoutInfo.sideBarSide === 'left') {\n\t\t\t\t\t\tactivityBorderDiv.style.right = '0';\n\t\t\t\t\t\tactivityBorderDiv.style.borderRight = `1px solid ${colorInfo.activityBarBorder}`;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tactivityBorderDiv.style.left = '0';\n\t\t\t\t\t\tactivityBorderDiv.style.borderLeft = `1px solid ${colorInfo.activityBarBorder}`;\n\t\t\t\t\t}\n\t\t\t\t\tactivityDiv.appendChild(activityBorderDiv);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// part: side bar\n\t\t\tif (layoutInfo.sideBarWidth > 0) {\n\t\t\t\tconst sideDiv = document.createElement('div');\n\t\t\t\tsideDiv.style.position = 'absolute';\n\t\t\t\tsideDiv.style.width = `${layoutInfo.sideBarWidth}px`;\n\t\t\t\tsideDiv.style.height = `calc(100% - ${layoutInfo.titleBarHeight + layoutInfo.statusBarHeight}px)`;\n\t\t\t\tsideDiv.style.top = `${layoutInfo.titleBarHeight}px`;\n\t\t\t\tif (layoutInfo.sideBarSide === 'left') {\n\t\t\t\t\tsideDiv.style.left = `${layoutInfo.activityBarWidth}px`;\n\t\t\t\t} else {\n\t\t\t\t\tsideDiv.style.right = `${layoutInfo.activityBarWidth}px`;\n\t\t\t\t}\n\t\t\t\tsideDiv.style.backgroundColor = `${colorInfo.sideBarBackground}`;\n\t\t\t\tsplash.appendChild(sideDiv);\n\n\t\t\t\tif (colorInfo.sideBarBorder) {\n\t\t\t\t\tconst sideBorderDiv = document.createElement('div');\n\t\t\t\t\tsideBorderDiv.style.position = 'absolute';\n\t\t\t\t\tsideBorderDiv.style.width = '1px';\n\t\t\t\t\tsideBorderDiv.style.height = '100%';\n\t\t\t\t\tsideBorderDiv.style.top = '0';\n\t\t\t\t\tsideBorderDiv.style.right = '0';\n\t\t\t\t\tif (layoutInfo.sideBarSide === 'left') {\n\t\t\t\t\t\tsideBorderDiv.style.borderRight = `1px solid ${colorInfo.sideBarBorder}`;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsideBorderDiv.style.left = '0';\n\t\t\t\t\t\tsideBorderDiv.style.borderLeft = `1px solid ${colorInfo.sideBarBorder}`;\n\t\t\t\t\t}\n\t\t\t\t\tsideDiv.appendChild(sideBorderDiv);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// part: auxiliary sidebar\n\t\t\tif (layoutInfo.auxiliaryBarWidth > 0) {\n\t\t\t\tconst auxSideDiv = document.createElement('div');\n\t\t\t\tauxSideDiv.style.position = 'absolute';\n\t\t\t\tauxSideDiv.style.width = `${layoutInfo.auxiliaryBarWidth}px`;\n\t\t\t\tauxSideDiv.style.height = `calc(100% - ${layoutInfo.titleBarHeight + layoutInfo.statusBarHeight}px)`;\n\t\t\t\tauxSideDiv.style.top = `${layoutInfo.titleBarHeight}px`;\n\t\t\t\tif (layoutInfo.sideBarSide === 'left') {\n\t\t\t\t\tauxSideDiv.style.right = '0';\n\t\t\t\t} else {\n\t\t\t\t\tauxSideDiv.style.left = '0';\n\t\t\t\t}\n\t\t\t\tauxSideDiv.style.backgroundColor = `${colorInfo.sideBarBackground}`;\n\t\t\t\tsplash.appendChild(auxSideDiv);\n\n\t\t\t\tif (colorInfo.sideBarBorder) {\n\t\t\t\t\tconst auxSideBorderDiv = document.createElement('div');\n\t\t\t\t\tauxSideBorderDiv.style.position = 'absolute';\n\t\t\t\t\tauxSideBorderDiv.style.width = '1px';\n\t\t\t\t\tauxSideBorderDiv.style.height = '100%';\n\t\t\t\t\tauxSideBorderDiv.style.top = '0';\n\t\t\t\t\tif (layoutInfo.sideBarSide === 'left') {\n\t\t\t\t\t\tauxSideBorderDiv.style.left = '0';\n\t\t\t\t\t\tauxSideBorderDiv.style.borderLeft = `1px solid ${colorInfo.sideBarBorder}`;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tauxSideBorderDiv.style.right = '0';\n\t\t\t\t\t\tauxSideBorderDiv.style.borderRight = `1px solid ${colorInfo.sideBarBorder}`;\n\t\t\t\t\t}\n\t\t\t\t\tauxSideDiv.appendChild(auxSideBorderDiv);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// part: statusbar\n\t\t\tif (layoutInfo.statusBarHeight > 0) {\n\t\t\t\tconst statusDiv = document.createElement('div');\n\t\t\t\tstatusDiv.style.position = 'absolute';\n\t\t\t\tstatusDiv.style.width = '100%';\n\t\t\t\tstatusDiv.style.height = `${layoutInfo.statusBarHeight}px`;\n\t\t\t\tstatusDiv.style.bottom = '0';\n\t\t\t\tstatusDiv.style.left = '0';\n\t\t\t\tif (configuration.workspace && colorInfo.statusBarBackground) {\n\t\t\t\t\tstatusDiv.style.backgroundColor = colorInfo.statusBarBackground;\n\t\t\t\t} else if (!configuration.workspace && colorInfo.statusBarNoFolderBackground) {\n\t\t\t\t\tstatusDiv.style.backgroundColor = colorInfo.statusBarNoFolderBackground;\n\t\t\t\t}\n\t\t\t\tsplash.appendChild(statusDiv);\n\n\t\t\t\tif (colorInfo.statusBarBorder) {\n\t\t\t\t\tconst statusBorderDiv = document.createElement('div');\n\t\t\t\t\tstatusBorderDiv.style.position = 'absolute';\n\t\t\t\t\tstatusBorderDiv.style.width = '100%';\n\t\t\t\t\tstatusBorderDiv.style.height = '1px';\n\t\t\t\t\tstatusBorderDiv.style.top = '0';\n\t\t\t\t\tstatusBorderDiv.style.borderTop = `1px solid ${colorInfo.statusBarBorder}`;\n\t\t\t\t\tstatusDiv.appendChild(statusBorderDiv);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\twindow.document.body.appendChild(splash);\n\t\t}\n\n\t\tperformance.mark('code/didShowPartsSplash');\n\t}\n\n\t//#endregion\n\n\t//#region Window Helpers\n\n\tasync function load<M, T extends ISandboxConfiguration>(esModule: string, options: ILoadOptions<T>): Promise<ILoadResult<M, T>> {\n\n\t\t// Window Configuration from Preload Script\n\t\tconst configuration = await resolveWindowConfiguration<T>();\n\n\t\t// Signal before import()\n\t\toptions?.beforeImport?.(configuration);\n\n\t\t// Developer settings\n\t\tconst { enableDeveloperKeybindings, removeDeveloperKeybindingsAfterLoad, developerDeveloperKeybindingsDisposable, forceDisableShowDevtoolsOnError } = setupDeveloperKeybindings(configuration, options);\n\n\t\t// NLS\n\t\tsetupNLS<T>(configuration);\n\n\t\t// Compute base URL and set as global\n\t\tconst baseUrl = new URL(`${fileUriFromPath(configuration.appRoot, { isWindows: safeProcess.platform === 'win32', scheme: 'vscode-file', fallbackAuthority: 'vscode-app' })}/out/`);\n\t\tglobalThis._VSCODE_FILE_ROOT = baseUrl.toString();\n\n\t\t// Dev only: CSS import map tricks\n\t\tsetupCSSImportMaps<T>(configuration, baseUrl);\n\n\t\t// ESM Import\n\t\ttry {\n\t\t\tconst result = await import(new URL(`${esModule}.js`, baseUrl).href);\n\n\t\t\tif (developerDeveloperKeybindingsDisposable && removeDeveloperKeybindingsAfterLoad) {\n\t\t\t\tdeveloperDeveloperKeybindingsDisposable();\n\t\t\t}\n\n\t\t\treturn { result, configuration };\n\t\t} catch (error) {\n\t\t\tonUnexpectedError(error, enableDeveloperKeybindings && !forceDisableShowDevtoolsOnError);\n\n\t\t\tthrow error;\n\t\t}\n\t}\n\n\tasync function resolveWindowConfiguration<T extends ISandboxConfiguration>() {\n\t\tconst timeout = setTimeout(() => { console.error(`[resolve window config] Could not resolve window configuration within 10 seconds, but will continue to wait...`); }, 10000);\n\t\tperformance.mark('code/willWaitForWindowConfig');\n\n\t\tconst configuration = await preloadGlobals.context.resolveConfiguration() as T;\n\t\tperformance.mark('code/didWaitForWindowConfig');\n\n\t\tclearTimeout(timeout);\n\n\t\treturn configuration;\n\t}\n\n\tfunction setupDeveloperKeybindings<T extends ISandboxConfiguration>(configuration: T, options: ILoadOptions<T>) {\n\t\tconst {\n\t\t\tforceEnableDeveloperKeybindings,\n\t\t\tdisallowReloadKeybinding,\n\t\t\tremoveDeveloperKeybindingsAfterLoad,\n\t\t\tforceDisableShowDevtoolsOnError\n\t\t} = typeof options?.configureDeveloperSettings === 'function' ? options.configureDeveloperSettings(configuration) : {\n\t\t\tforceEnableDeveloperKeybindings: false,\n\t\t\tdisallowReloadKeybinding: false,\n\t\t\tremoveDeveloperKeybindingsAfterLoad: false,\n\t\t\tforceDisableShowDevtoolsOnError: false\n\t\t};\n\n\t\tconst isDev = !!safeProcess.env['VSCODE_DEV'];\n\t\tconst enableDeveloperKeybindings = Boolean(isDev || forceEnableDeveloperKeybindings);\n\t\tlet developerDeveloperKeybindingsDisposable: Function | undefined = undefined;\n\t\tif (enableDeveloperKeybindings) {\n\t\t\tdeveloperDeveloperKeybindingsDisposable = registerDeveloperKeybindings(disallowReloadKeybinding);\n\t\t}\n\n\t\treturn {\n\t\t\tenableDeveloperKeybindings,\n\t\t\tremoveDeveloperKeybindingsAfterLoad,\n\t\t\tdeveloperDeveloperKeybindingsDisposable,\n\t\t\tforceDisableShowDevtoolsOnError\n\t\t};\n\t}\n\n\tfunction registerDeveloperKeybindings(disallowReloadKeybinding: boolean | undefined): Function {\n\t\tconst ipcRenderer = preloadGlobals.ipcRenderer;\n\n\t\tconst extractKey =\n\t\t\tfunction (e: KeyboardEvent) {\n\t\t\t\treturn [\n\t\t\t\t\te.ctrlKey ? 'ctrl-' : '',\n\t\t\t\t\te.metaKey ? 'meta-' : '',\n\t\t\t\t\te.altKey ? 'alt-' : '',\n\t\t\t\t\te.shiftKey ? 'shift-' : '',\n\t\t\t\t\te.keyCode\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\t// Devtools & reload support\n\t\tconst TOGGLE_DEV_TOOLS_KB = (safeProcess.platform === 'darwin' ? 'meta-alt-73' : 'ctrl-shift-73'); // mac: Cmd-Alt-I, rest: Ctrl-Shift-I\n\t\tconst TOGGLE_DEV_TOOLS_KB_ALT = '123'; // F12\n\t\tconst RELOAD_KB = (safeProcess.platform === 'darwin' ? 'meta-82' : 'ctrl-82'); // mac: Cmd-R, rest: Ctrl-R\n\n\t\tlet listener: ((e: KeyboardEvent) => void) | undefined = function (e) {\n\t\t\tconst key = extractKey(e);\n\t\t\tif (key === TOGGLE_DEV_TOOLS_KB || key === TOGGLE_DEV_TOOLS_KB_ALT) {\n\t\t\t\tipcRenderer.send('vscode:toggleDevTools');\n\t\t\t} else if (key === RELOAD_KB && !disallowReloadKeybinding) {\n\t\t\t\tipcRenderer.send('vscode:reloadWindow');\n\t\t\t}\n\t\t};\n\n\t\twindow.addEventListener('keydown', listener);\n\n\t\treturn function () {\n\t\t\tif (listener) {\n\t\t\t\twindow.removeEventListener('keydown', listener);\n\t\t\t\tlistener = undefined;\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction setupNLS<T extends ISandboxConfiguration>(configuration: T): void {\n\t\tglobalThis._VSCODE_NLS_MESSAGES = configuration.nls.messages;\n\t\tglobalThis._VSCODE_NLS_LANGUAGE = configuration.nls.language;\n\n\t\tlet language = configuration.nls.language || 'en';\n\t\tif (language === 'zh-tw') {\n\t\t\tlanguage = 'zh-Hant';\n\t\t} else if (language === 'zh-cn') {\n\t\t\tlanguage = 'zh-Hans';\n\t\t}\n\n\t\twindow.document.documentElement.setAttribute('lang', language);\n\t}\n\n\tfunction onUnexpectedError(error: string | Error, showDevtoolsOnError: boolean): void {\n\t\tif (showDevtoolsOnError) {\n\t\t\tconst ipcRenderer = preloadGlobals.ipcRenderer;\n\t\t\tipcRenderer.send('vscode:openDevTools');\n\t\t}\n\n\t\tconsole.error(`[uncaught exception]: ${error}`);\n\n\t\tif (error && typeof error !== 'string' && error.stack) {\n\t\t\tconsole.error(error.stack);\n\t\t}\n\t}\n\n\tfunction fileUriFromPath(path: string, config: { isWindows?: boolean; scheme?: string; fallbackAuthority?: string }): string {\n\n\t\t// Since we are building a URI, we normalize any backslash\n\t\t// to slashes and we ensure that the path begins with a '/'.\n\t\tlet pathName = path.replace(/\\\\/g, '/');\n\t\tif (pathName.length > 0 && pathName.charAt(0) !== '/') {\n\t\t\tpathName = `/${pathName}`;\n\t\t}\n\n\t\tlet uri: string;\n\n\t\t// Windows: in order to support UNC paths (which start with '//')\n\t\t// that have their own authority, we do not use the provided authority\n\t\t// but rather preserve it.\n\t\tif (config.isWindows && pathName.startsWith('//')) {\n\t\t\turi = encodeURI(`${config.scheme || 'file'}:${pathName}`);\n\t\t}\n\n\t\t// Otherwise we optionally add the provided authority if specified\n\t\telse {\n\t\t\turi = encodeURI(`${config.scheme || 'file'}://${config.fallbackAuthority || ''}${pathName}`);\n\t\t}\n\n\t\treturn uri.replace(/#/g, '%23');\n\t}\n\n\tfunction setupCSSImportMaps<T extends ISandboxConfiguration>(configuration: T, baseUrl: URL) {\n\n\t\t// DEV ---------------------------------------------------------------------------------------\n\t\t// DEV: This is for development and enables loading CSS via import-statements via import-maps.\n\t\t// DEV: For each CSS modules that we have we defined an entry in the import map that maps to\n\t\t// DEV: a blob URL that loads the CSS via a dynamic @import-rule.\n\t\t// DEV ---------------------------------------------------------------------------------------\n\n\t\tif (Array.isArray(configuration.cssModules) && configuration.cssModules.length > 0) {\n\t\t\tperformance.mark('code/willAddCssLoader');\n\n\t\t\tglobalThis._VSCODE_CSS_LOAD = function (url) {\n\t\t\t\tconst link = document.createElement('link');\n\t\t\t\tlink.setAttribute('rel', 'stylesheet');\n\t\t\t\tlink.setAttribute('type', 'text/css');\n\t\t\t\tlink.setAttribute('href', url);\n\n\t\t\t\twindow.document.head.appendChild(link);\n\t\t\t};\n\n\t\t\tconst importMap: { imports: Record<string, string> } = { imports: {} };\n\t\t\tfor (const cssModule of configuration.cssModules) {\n\t\t\t\tconst cssUrl = new URL(cssModule, baseUrl).href;\n\t\t\t\tconst jsSrc = `globalThis._VSCODE_CSS_LOAD('${cssUrl}');\\n`;\n\t\t\t\tconst blob = new Blob([jsSrc], { type: 'application/javascript' });\n\t\t\t\timportMap.imports[cssUrl] = URL.createObjectURL(blob);\n\t\t\t}\n\n\t\t\tconst ttp = window.trustedTypes?.createPolicy('vscode-bootstrapImportMap', { createScript(value) { return value; }, });\n\t\t\tconst importMapSrc = JSON.stringify(importMap, undefined, 2);\n\t\t\tconst importMapScript = document.createElement('script');\n\t\t\timportMapScript.type = 'importmap';\n\t\t\timportMapScript.setAttribute('nonce', '0c6a828f1297');\n\t\t\t// @ts-expect-error\n\t\t\timportMapScript.textContent = ttp?.createScript(importMapSrc) ?? importMapSrc;\n\t\t\twindow.document.head.appendChild(importMapScript);\n\n\t\t\tperformance.mark('code/didAddCssLoader');\n\t\t}\n\t}\n\n\t//#endregion\n\n\tconst { result, configuration } = await load<IDesktopMain, INativeWindowConfiguration>('vs/workbench/workbench.desktop.main',\n\t\t{\n\t\t\tconfigureDeveloperSettings: function (windowConfig) {\n\t\t\t\treturn {\n\t\t\t\t\t// disable automated devtools opening on error when running extension tests\n\t\t\t\t\t// as this can lead to nondeterministic test execution (devtools steals focus)\n\t\t\t\t\tforceDisableShowDevtoolsOnError: typeof windowConfig.extensionTestsPath === 'string' || windowConfig['enable-smoke-test-driver'] === true,\n\t\t\t\t\t// enable devtools keybindings in extension development window\n\t\t\t\t\tforceEnableDeveloperKeybindings: Array.isArray(windowConfig.extensionDevelopmentPath) && windowConfig.extensionDevelopmentPath.length > 0,\n\t\t\t\t\tremoveDeveloperKeybindingsAfterLoad: true\n\t\t\t\t};\n\t\t\t},\n\t\t\tbeforeImport: function (windowConfig) {\n\n\t\t\t\t// Show our splash as early as possible\n\t\t\t\tshowSplash(windowConfig);\n\n\t\t\t\t// Code windows have a `vscodeWindowId` property to identify them\n\t\t\t\tObject.defineProperty(window, 'vscodeWindowId', {\n\t\t\t\t\tget: () => windowConfig.windowId\n\t\t\t\t});\n\n\t\t\t\t// It looks like browsers only lazily enable\n\t\t\t\t// the <canvas> element when needed. Since we\n\t\t\t\t// leverage canvas elements in our code in many\n\t\t\t\t// locations, we try to help the browser to\n\t\t\t\t// initialize canvas when it is idle, right\n\t\t\t\t// before we wait for the scripts to be loaded.\n\t\t\t\twindow.requestIdleCallback(() => {\n\t\t\t\t\tconst canvas = document.createElement('canvas');\n\t\t\t\t\tconst context = canvas.getContext('2d');\n\t\t\t\t\tcontext?.clearRect(0, 0, canvas.width, canvas.height);\n\t\t\t\t\tcanvas.remove();\n\t\t\t\t}, { timeout: 50 });\n\n\t\t\t\t// Track import() perf\n\t\t\t\tperformance.mark('code/willLoadWorkbenchMain');\n\t\t\t}\n\t\t}\n\t);\n\n\t// Mark start of workbench\n\tperformance.mark('code/didLoadWorkbenchMain');\n\n\t// Load workbench\n\tresult.main(configuration);\n}());\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* eslint-disable no-restricted-globals */\n\n(async function () {\n\n\t// Add a perf entry right from the top\n\tperformance.mark('code/didStartRenderer');\n\n\ttype ISandboxConfiguration = import('../../../base/parts/sandbox/common/sandboxTypes.js').ISandboxConfiguration;\n\ttype ILoadResult<M, T extends ISandboxConfiguration> = import('../../../platform/window/electron-browser/window.js').ILoadResult<M, T>;\n\ttype ILoadOptions<T extends ISandboxConfiguration> = import('../../../platform/window/electron-browser/window.js').ILoadOptions<T>;\n\ttype INativeWindowConfiguration = import('../../../platform/window/common/window.ts').INativeWindowConfiguration;\n\ttype IMainWindowSandboxGlobals = import('../../../base/parts/sandbox/electron-browser/globals.js').IMainWindowSandboxGlobals;\n\ttype IDesktopMain = import('../../../workbench/electron-browser/desktop.main.js').IDesktopMain;\n\n\tconst preloadGlobals = (window as unknown as { vscode: IMainWindowSandboxGlobals }).vscode; // defined by preload.ts\n\tconst safeProcess = preloadGlobals.process;\n\n\t//#region Splash Screen Helpers\n\n\tfunction showSplash(configuration: INativeWindowConfiguration) {\n\t\tperformance.mark('code/willShowPartsSplash');\n\n\t\tlet data = configuration.partsSplash;\n\t\tif (data) {\n\t\t\tif (configuration.autoDetectHighContrast && configuration.colorScheme.highContrast) {\n\t\t\t\tif ((configuration.colorScheme.dark && data.baseTheme !== 'hc-black') || (!configuration.colorScheme.dark && data.baseTheme !== 'hc-light')) {\n\t\t\t\t\tdata = undefined; // high contrast mode has been turned by the OS -> ignore stored colors and layouts\n\t\t\t\t}\n\t\t\t} else if (configuration.autoDetectColorScheme) {\n\t\t\t\tif ((configuration.colorScheme.dark && data.baseTheme !== 'vs-dark') || (!configuration.colorScheme.dark && data.baseTheme !== 'vs')) {\n\t\t\t\t\tdata = undefined; // OS color scheme is tracked and has changed\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// developing an extension -> ignore stored layouts\n\t\tif (data && configuration.extensionDevelopmentPath) {\n\t\t\tdata.layoutInfo = undefined;\n\t\t}\n\n\t\t// minimal color configuration (works with or without persisted data)\n\t\tlet baseTheme;\n\t\tlet shellBackground;\n\t\tlet shellForeground;\n\t\tif (data) {\n\t\t\tbaseTheme = data.baseTheme;\n\t\t\tshellBackground = data.colorInfo.editorBackground;\n\t\t\tshellForeground = data.colorInfo.foreground;\n\t\t} else if (configuration.autoDetectHighContrast && configuration.colorScheme.highContrast) {\n\t\t\tif (configuration.colorScheme.dark) {\n\t\t\t\tbaseTheme = 'hc-black';\n\t\t\t\tshellBackground = '#000000';\n\t\t\t\tshellForeground = '#FFFFFF';\n\t\t\t} else {\n\t\t\t\tbaseTheme = 'hc-light';\n\t\t\t\tshellBackground = '#FFFFFF';\n\t\t\t\tshellForeground = '#000000';\n\t\t\t}\n\t\t} else if (configuration.autoDetectColorScheme) {\n\t\t\tif (configuration.colorScheme.dark) {\n\t\t\t\tbaseTheme = 'vs-dark';\n\t\t\t\tshellBackground = '#1E1E1E';\n\t\t\t\tshellForeground = '#CCCCCC';\n\t\t\t} else {\n\t\t\t\tbaseTheme = 'vs';\n\t\t\t\tshellBackground = '#FFFFFF';\n\t\t\t\tshellForeground = '#000000';\n\t\t\t}\n\t\t}\n\n\t\tconst style = document.createElement('style');\n\t\tstyle.className = 'initialShellColors';\n\t\twindow.document.head.appendChild(style);\n\t\tstyle.textContent = `body {\tbackground-color: ${shellBackground}; color: ${shellForeground}; margin: 0; padding: 0; }`;\n\n\t\t// set zoom level as soon as possible\n\t\tif (typeof data?.zoomLevel === 'number' && typeof preloadGlobals?.webFrame?.setZoomLevel === 'function') {\n\t\t\tpreloadGlobals.webFrame.setZoomLevel(data.zoomLevel);\n\t\t}\n\n\t\t// restore parts if possible (we might not always store layout info)\n\t\tif (data?.layoutInfo) {\n\t\t\tconst { layoutInfo, colorInfo } = data;\n\n\t\t\tconst splash = document.createElement('div');\n\t\t\tsplash.id = 'monaco-parts-splash';\n\t\t\tsplash.className = baseTheme ?? 'vs-dark';\n\n\t\t\tif (layoutInfo.windowBorder && colorInfo.windowBorder) {\n\t\t\t\tconst borderElement = document.createElement('div');\n\t\t\t\tborderElement.style.position = 'absolute';\n\t\t\t\tborderElement.style.width = 'calc(100vw - 2px)';\n\t\t\t\tborderElement.style.height = 'calc(100vh - 2px)';\n\t\t\t\tborderElement.style.zIndex = '1'; // allow border above other elements\n\t\t\t\tborderElement.style.border = `1px solid var(--window-border-color)`;\n\t\t\t\tborderElement.style.setProperty('--window-border-color', colorInfo.windowBorder);\n\n\t\t\t\tif (layoutInfo.windowBorderRadius) {\n\t\t\t\t\tborderElement.style.borderRadius = layoutInfo.windowBorderRadius;\n\t\t\t\t}\n\n\t\t\t\tsplash.appendChild(borderElement);\n\t\t\t}\n\n\t\t\tif (layoutInfo.auxiliaryBarWidth === Number.MAX_SAFE_INTEGER) {\n\t\t\t\t// if auxiliary bar is maximized, it goes as wide as the\n\t\t\t\t// window width but leaving room for activity bar\n\t\t\t\tlayoutInfo.auxiliaryBarWidth = window.innerWidth - layoutInfo.activityBarWidth;\n\t\t\t} else {\n\t\t\t\t// otherwise adjust for other parts sizes if not maximized\n\t\t\t\tlayoutInfo.auxiliaryBarWidth = Math.min(layoutInfo.auxiliaryBarWidth, window.innerWidth - (layoutInfo.activityBarWidth + layoutInfo.editorPartMinWidth + layoutInfo.sideBarWidth));\n\t\t\t}\n\t\t\tlayoutInfo.sideBarWidth = Math.min(layoutInfo.sideBarWidth, window.innerWidth - (layoutInfo.activityBarWidth + layoutInfo.editorPartMinWidth + layoutInfo.auxiliaryBarWidth));\n\n\t\t\t// part: title\n\t\t\tif (layoutInfo.titleBarHeight > 0) {\n\t\t\t\tconst titleDiv = document.createElement('div');\n\t\t\t\ttitleDiv.style.position = 'absolute';\n\t\t\t\ttitleDiv.style.width = '100%';\n\t\t\t\ttitleDiv.style.height = `${layoutInfo.titleBarHeight}px`;\n\t\t\t\ttitleDiv.style.left = '0';\n\t\t\t\ttitleDiv.style.top = '0';\n\t\t\t\ttitleDiv.style.backgroundColor = `${colorInfo.titleBarBackground}`;\n\t\t\t\t(titleDiv.style as CSSStyleDeclaration & { '-webkit-app-region': string })['-webkit-app-region'] = 'drag';\n\t\t\t\tsplash.appendChild(titleDiv);\n\n\t\t\t\tif (colorInfo.titleBarBorder) {\n\t\t\t\t\tconst titleBorder = document.createElement('div');\n\t\t\t\t\ttitleBorder.style.position = 'absolute';\n\t\t\t\t\ttitleBorder.style.width = '100%';\n\t\t\t\t\ttitleBorder.style.height = '1px';\n\t\t\t\t\ttitleBorder.style.left = '0';\n\t\t\t\t\ttitleBorder.style.bottom = '0';\n\t\t\t\t\ttitleBorder.style.borderBottom = `1px solid ${colorInfo.titleBarBorder}`;\n\t\t\t\t\ttitleDiv.appendChild(titleBorder);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// part: activity bar\n\t\t\tif (layoutInfo.activityBarWidth > 0) {\n\t\t\t\tconst activityDiv = document.createElement('div');\n\t\t\t\tactivityDiv.style.position = 'absolute';\n\t\t\t\tactivityDiv.style.width = `${layoutInfo.activityBarWidth}px`;\n\t\t\t\tactivityDiv.style.height = `calc(100% - ${layoutInfo.titleBarHeight + layoutInfo.statusBarHeight}px)`;\n\t\t\t\tactivityDiv.style.top = `${layoutInfo.titleBarHeight}px`;\n\t\t\t\tif (layoutInfo.sideBarSide === 'left') {\n\t\t\t\t\tactivityDiv.style.left = '0';\n\t\t\t\t} else {\n\t\t\t\t\tactivityDiv.style.right = '0';\n\t\t\t\t}\n\t\t\t\tactivityDiv.style.backgroundColor = `${colorInfo.activityBarBackground}`;\n\t\t\t\tsplash.appendChild(activityDiv);\n\n\t\t\t\tif (colorInfo.activityBarBorder) {\n\t\t\t\t\tconst activityBorderDiv = document.createElement('div');\n\t\t\t\t\tactivityBorderDiv.style.position = 'absolute';\n\t\t\t\t\tactivityBorderDiv.style.width = '1px';\n\t\t\t\t\tactivityBorderDiv.style.height = '100%';\n\t\t\t\t\tactivityBorderDiv.style.top = '0';\n\t\t\t\t\tif (layoutInfo.sideBarSide === 'left') {\n\t\t\t\t\t\tactivityBorderDiv.style.right = '0';\n\t\t\t\t\t\tactivityBorderDiv.style.borderRight = `1px solid ${colorInfo.activityBarBorder}`;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tactivityBorderDiv.style.left = '0';\n\t\t\t\t\t\tactivityBorderDiv.style.borderLeft = `1px solid ${colorInfo.activityBarBorder}`;\n\t\t\t\t\t}\n\t\t\t\t\tactivityDiv.appendChild(activityBorderDiv);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// part: side bar\n\t\t\tif (layoutInfo.sideBarWidth > 0) {\n\t\t\t\tconst sideDiv = document.createElement('div');\n\t\t\t\tsideDiv.style.position = 'absolute';\n\t\t\t\tsideDiv.style.width = `${layoutInfo.sideBarWidth}px`;\n\t\t\t\tsideDiv.style.height = `calc(100% - ${layoutInfo.titleBarHeight + layoutInfo.statusBarHeight}px)`;\n\t\t\t\tsideDiv.style.top = `${layoutInfo.titleBarHeight}px`;\n\t\t\t\tif (layoutInfo.sideBarSide === 'left') {\n\t\t\t\t\tsideDiv.style.left = `${layoutInfo.activityBarWidth}px`;\n\t\t\t\t} else {\n\t\t\t\t\tsideDiv.style.right = `${layoutInfo.activityBarWidth}px`;\n\t\t\t\t}\n\t\t\t\tsideDiv.style.backgroundColor = `${colorInfo.sideBarBackground}`;\n\t\t\t\tsplash.appendChild(sideDiv);\n\n\t\t\t\tif (colorInfo.sideBarBorder) {\n\t\t\t\t\tconst sideBorderDiv = document.createElement('div');\n\t\t\t\t\tsideBorderDiv.style.position = 'absolute';\n\t\t\t\t\tsideBorderDiv.style.width = '1px';\n\t\t\t\t\tsideBorderDiv.style.height = '100%';\n\t\t\t\t\tsideBorderDiv.style.top = '0';\n\t\t\t\t\tsideBorderDiv.style.right = '0';\n\t\t\t\t\tif (layoutInfo.sideBarSide === 'left') {\n\t\t\t\t\t\tsideBorderDiv.style.borderRight = `1px solid ${colorInfo.sideBarBorder}`;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsideBorderDiv.style.left = '0';\n\t\t\t\t\t\tsideBorderDiv.style.borderLeft = `1px solid ${colorInfo.sideBarBorder}`;\n\t\t\t\t\t}\n\t\t\t\t\tsideDiv.appendChild(sideBorderDiv);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// part: auxiliary sidebar\n\t\t\tif (layoutInfo.auxiliaryBarWidth > 0) {\n\t\t\t\tconst auxSideDiv = document.createElement('div');\n\t\t\t\tauxSideDiv.style.position = 'absolute';\n\t\t\t\tauxSideDiv.style.width = `${layoutInfo.auxiliaryBarWidth}px`;\n\t\t\t\tauxSideDiv.style.height = `calc(100% - ${layoutInfo.titleBarHeight + layoutInfo.statusBarHeight}px)`;\n\t\t\t\tauxSideDiv.style.top = `${layoutInfo.titleBarHeight}px`;\n\t\t\t\tif (layoutInfo.sideBarSide === 'left') {\n\t\t\t\t\tauxSideDiv.style.right = '0';\n\t\t\t\t} else {\n\t\t\t\t\tauxSideDiv.style.left = '0';\n\t\t\t\t}\n\t\t\t\tauxSideDiv.style.backgroundColor = `${colorInfo.sideBarBackground}`;\n\t\t\t\tsplash.appendChild(auxSideDiv);\n\n\t\t\t\tif (colorInfo.sideBarBorder) {\n\t\t\t\t\tconst auxSideBorderDiv = document.createElement('div');\n\t\t\t\t\tauxSideBorderDiv.style.position = 'absolute';\n\t\t\t\t\tauxSideBorderDiv.style.width = '1px';\n\t\t\t\t\tauxSideBorderDiv.style.height = '100%';\n\t\t\t\t\tauxSideBorderDiv.style.top = '0';\n\t\t\t\t\tif (layoutInfo.sideBarSide === 'left') {\n\t\t\t\t\t\tauxSideBorderDiv.style.left = '0';\n\t\t\t\t\t\tauxSideBorderDiv.style.borderLeft = `1px solid ${colorInfo.sideBarBorder}`;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tauxSideBorderDiv.style.right = '0';\n\t\t\t\t\t\tauxSideBorderDiv.style.borderRight = `1px solid ${colorInfo.sideBarBorder}`;\n\t\t\t\t\t}\n\t\t\t\t\tauxSideDiv.appendChild(auxSideBorderDiv);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// part: statusbar\n\t\t\tif (layoutInfo.statusBarHeight > 0) {\n\t\t\t\tconst statusDiv = document.createElement('div');\n\t\t\t\tstatusDiv.style.position = 'absolute';\n\t\t\t\tstatusDiv.style.width = '100%';\n\t\t\t\tstatusDiv.style.height = `${layoutInfo.statusBarHeight}px`;\n\t\t\t\tstatusDiv.style.bottom = '0';\n\t\t\t\tstatusDiv.style.left = '0';\n\t\t\t\tif (configuration.workspace && colorInfo.statusBarBackground) {\n\t\t\t\t\tstatusDiv.style.backgroundColor = colorInfo.statusBarBackground;\n\t\t\t\t} else if (!configuration.workspace && colorInfo.statusBarNoFolderBackground) {\n\t\t\t\t\tstatusDiv.style.backgroundColor = colorInfo.statusBarNoFolderBackground;\n\t\t\t\t}\n\t\t\t\tsplash.appendChild(statusDiv);\n\n\t\t\t\tif (colorInfo.statusBarBorder) {\n\t\t\t\t\tconst statusBorderDiv = document.createElement('div');\n\t\t\t\t\tstatusBorderDiv.style.position = 'absolute';\n\t\t\t\t\tstatusBorderDiv.style.width = '100%';\n\t\t\t\t\tstatusBorderDiv.style.height = '1px';\n\t\t\t\t\tstatusBorderDiv.style.top = '0';\n\t\t\t\t\tstatusBorderDiv.style.borderTop = `1px solid ${colorInfo.statusBarBorder}`;\n\t\t\t\t\tstatusDiv.appendChild(statusBorderDiv);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\twindow.document.body.appendChild(splash);\n\t\t}\n\n\t\tperformance.mark('code/didShowPartsSplash');\n\t}\n\n\t//#endregion\n\n\t//#region Window Helpers\n\n\tasync function load<M, T extends ISandboxConfiguration>(esModule: string, options: ILoadOptions<T>): Promise<ILoadResult<M, T>> {\n\n\t\t// Window Configuration from Preload Script\n\t\tconst configuration = await resolveWindowConfiguration<T>();\n\n\t\t// Signal before import()\n\t\toptions?.beforeImport?.(configuration);\n\n\t\t// Developer settings\n\t\tconst { enableDeveloperKeybindings, removeDeveloperKeybindingsAfterLoad, developerDeveloperKeybindingsDisposable, forceDisableShowDevtoolsOnError } = setupDeveloperKeybindings(configuration, options);\n\n\t\t// NLS\n\t\tsetupNLS<T>(configuration);\n\n\t\t// Compute base URL and set as global\n\t\tconst baseUrl = new URL(`${fileUriFromPath(configuration.appRoot, { isWindows: safeProcess.platform === 'win32', scheme: 'vscode-file', fallbackAuthority: 'vscode-app' })}/out/`);\n\t\tglobalThis._VSCODE_FILE_ROOT = baseUrl.toString();\n\n\t\t// Dev only: CSS import map tricks\n\t\tsetupCSSImportMaps<T>(configuration, baseUrl);\n\n\t\t// ESM Import\n\t\ttry {\n\t\t\tconst result = await import(new URL(`${esModule}.js`, baseUrl).href);\n\n\t\t\tif (developerDeveloperKeybindingsDisposable && removeDeveloperKeybindingsAfterLoad) {\n\t\t\t\tdeveloperDeveloperKeybindingsDisposable();\n\t\t\t}\n\n\t\t\treturn { result, configuration };\n\t\t} catch (error) {\n\t\t\tonUnexpectedError(error, enableDeveloperKeybindings && !forceDisableShowDevtoolsOnError);\n\n\t\t\tthrow error;\n\t\t}\n\t}\n\n\tasync function resolveWindowConfiguration<T extends ISandboxConfiguration>() {\n\t\tconst timeout = setTimeout(() => { console.error(`[resolve window config] Could not resolve window configuration within 10 seconds, but will continue to wait...`); }, 10000);\n\t\tperformance.mark('code/willWaitForWindowConfig');\n\n\t\tconst configuration = await preloadGlobals.context.resolveConfiguration() as T;\n\t\tperformance.mark('code/didWaitForWindowConfig');\n\n\t\tclearTimeout(timeout);\n\n\t\treturn configuration;\n\t}\n\n\tfunction setupDeveloperKeybindings<T extends ISandboxConfiguration>(configuration: T, options: ILoadOptions<T>) {\n\t\tconst {\n\t\t\tforceEnableDeveloperKeybindings,\n\t\t\tdisallowReloadKeybinding,\n\t\t\tremoveDeveloperKeybindingsAfterLoad,\n\t\t\tforceDisableShowDevtoolsOnError\n\t\t} = typeof options?.configureDeveloperSettings === 'function' ? options.configureDeveloperSettings(configuration) : {\n\t\t\tforceEnableDeveloperKeybindings: false,\n\t\t\tdisallowReloadKeybinding: false,\n\t\t\tremoveDeveloperKeybindingsAfterLoad: false,\n\t\t\tforceDisableShowDevtoolsOnError: false\n\t\t};\n\n\t\tconst isDev = !!safeProcess.env['VSCODE_DEV'];\n\t\tconst enableDeveloperKeybindings = Boolean(isDev || forceEnableDeveloperKeybindings);\n\t\tlet developerDeveloperKeybindingsDisposable: Function | undefined = undefined;\n\t\tif (enableDeveloperKeybindings) {\n\t\t\tdeveloperDeveloperKeybindingsDisposable = registerDeveloperKeybindings(disallowReloadKeybinding);\n\t\t}\n\n\t\treturn {\n\t\t\tenableDeveloperKeybindings,\n\t\t\tremoveDeveloperKeybindingsAfterLoad,\n\t\t\tdeveloperDeveloperKeybindingsDisposable,\n\t\t\tforceDisableShowDevtoolsOnError\n\t\t};\n\t}\n\n\tfunction registerDeveloperKeybindings(disallowReloadKeybinding: boolean | undefined): Function {\n\t\tconst ipcRenderer = preloadGlobals.ipcRenderer;\n\n\t\tconst extractKey =\n\t\t\tfunction (e: KeyboardEvent) {\n\t\t\t\treturn [\n\t\t\t\t\te.ctrlKey ? 'ctrl-' : '',\n\t\t\t\t\te.metaKey ? 'meta-' : '',\n\t\t\t\t\te.altKey ? 'alt-' : '',\n\t\t\t\t\te.shiftKey ? 'shift-' : '',\n\t\t\t\t\te.keyCode\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\t// Devtools & reload support\n\t\tconst TOGGLE_DEV_TOOLS_KB = (safeProcess.platform === 'darwin' ? 'meta-alt-73' : 'ctrl-shift-73'); // mac: Cmd-Alt-I, rest: Ctrl-Shift-I\n\t\tconst TOGGLE_DEV_TOOLS_KB_ALT = '123'; // F12\n\t\tconst RELOAD_KB = (safeProcess.platform === 'darwin' ? 'meta-82' : 'ctrl-82'); // mac: Cmd-R, rest: Ctrl-R\n\n\t\tlet listener: ((e: KeyboardEvent) => void) | undefined = function (e) {\n\t\t\tconst key = extractKey(e);\n\t\t\tif (key === TOGGLE_DEV_TOOLS_KB || key === TOGGLE_DEV_TOOLS_KB_ALT) {\n\t\t\t\tipcRenderer.send('vscode:toggleDevTools');\n\t\t\t} else if (key === RELOAD_KB && !disallowReloadKeybinding) {\n\t\t\t\tipcRenderer.send('vscode:reloadWindow');\n\t\t\t}\n\t\t};\n\n\t\twindow.addEventListener('keydown', listener);\n\n\t\treturn function () {\n\t\t\tif (listener) {\n\t\t\t\twindow.removeEventListener('keydown', listener);\n\t\t\t\tlistener = undefined;\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction setupNLS<T extends ISandboxConfiguration>(configuration: T): void {\n\t\tglobalThis._VSCODE_NLS_MESSAGES = configuration.nls.messages;\n\t\tglobalThis._VSCODE_NLS_LANGUAGE = configuration.nls.language;\n\n\t\tlet language = configuration.nls.language || 'en';\n\t\tif (language === 'zh-tw') {\n\t\t\tlanguage = 'zh-Hant';\n\t\t} else if (language === 'zh-cn') {\n\t\t\tlanguage = 'zh-Hans';\n\t\t}\n\n\t\twindow.document.documentElement.setAttribute('lang', language);\n\t}\n\n\tfunction onUnexpectedError(error: string | Error, showDevtoolsOnError: boolean): void {\n\t\tif (showDevtoolsOnError) {\n\t\t\tconst ipcRenderer = preloadGlobals.ipcRenderer;\n\t\t\tipcRenderer.send('vscode:openDevTools');\n\t\t}\n\n\t\tconsole.error(`[uncaught exception]: ${error}`);\n\n\t\tif (error && typeof error !== 'string' && error.stack) {\n\t\t\tconsole.error(error.stack);\n\t\t}\n\t}\n\n\tfunction fileUriFromPath(path: string, config: { isWindows?: boolean; scheme?: string; fallbackAuthority?: string }): string {\n\n\t\t// Since we are building a URI, we normalize any backslash\n\t\t// to slashes and we ensure that the path begins with a '/'.\n\t\tlet pathName = path.replace(/\\\\/g, '/');\n\t\tif (pathName.length > 0 && pathName.charAt(0) !== '/') {\n\t\t\tpathName = `/${pathName}`;\n\t\t}\n\n\t\tlet uri: string;\n\n\t\t// Windows: in order to support UNC paths (which start with '//')\n\t\t// that have their own authority, we do not use the provided authority\n\t\t// but rather preserve it.\n\t\tif (config.isWindows && pathName.startsWith('//')) {\n\t\t\turi = encodeURI(`${config.scheme || 'file'}:${pathName}`);\n\t\t}\n\n\t\t// Otherwise we optionally add the provided authority if specified\n\t\telse {\n\t\t\turi = encodeURI(`${config.scheme || 'file'}://${config.fallbackAuthority || ''}${pathName}`);\n\t\t}\n\n\t\treturn uri.replace(/#/g, '%23');\n\t}\n\n\tfunction setupCSSImportMaps<T extends ISandboxConfiguration>(configuration: T, baseUrl: URL) {\n\n\t\t// DEV ---------------------------------------------------------------------------------------\n\t\t// DEV: This is for development and enables loading CSS via import-statements via import-maps.\n\t\t// DEV: For each CSS modules that we have we defined an entry in the import map that maps to\n\t\t// DEV: a blob URL that loads the CSS via a dynamic @import-rule.\n\t\t// DEV ---------------------------------------------------------------------------------------\n\n\t\tif (Array.isArray(configuration.cssModules) && configuration.cssModules.length > 0) {\n\t\t\tperformance.mark('code/willAddCssLoader');\n\n\t\t\tglobalThis._VSCODE_CSS_LOAD = function (url) {\n\t\t\t\tconst link = document.createElement('link');\n\t\t\t\tlink.setAttribute('rel', 'stylesheet');\n\t\t\t\tlink.setAttribute('type', 'text/css');\n\t\t\t\tlink.setAttribute('href', url);\n\n\t\t\t\twindow.document.head.appendChild(link);\n\t\t\t};\n\n\t\t\tconst importMap: { imports: Record<string, string> } = { imports: {} };\n\t\t\tfor (const cssModule of configuration.cssModules) {\n\t\t\t\tconst cssUrl = new URL(cssModule, baseUrl).href;\n\t\t\t\tconst jsSrc = `globalThis._VSCODE_CSS_LOAD('${cssUrl}');\\n`;\n\t\t\t\tconst blob = new Blob([jsSrc], { type: 'application/javascript' });\n\t\t\t\timportMap.imports[cssUrl] = URL.createObjectURL(blob);\n\t\t\t}\n\n\t\t\tconst ttp = window.trustedTypes?.createPolicy('vscode-bootstrapImportMap', { createScript(value) { return value; }, });\n\t\t\tconst importMapSrc = JSON.stringify(importMap, undefined, 2);\n\t\t\tconst importMapScript = document.createElement('script');\n\t\t\timportMapScript.type = 'importmap';\n\t\t\timportMapScript.setAttribute('nonce', '0c6a828f1297');\n\t\t\t// @ts-expect-error\n\t\t\timportMapScript.textContent = ttp?.createScript(importMapSrc) ?? importMapSrc;\n\t\t\twindow.document.head.appendChild(importMapScript);\n\n\t\t\tperformance.mark('code/didAddCssLoader');\n\t\t}\n\t}\n\n\t//#endregion\n\n\tconst { result, configuration } = await load<IDesktopMain, INativeWindowConfiguration>('vs/workbench/workbench.desktop.main',\n\t\t{\n\t\t\tconfigureDeveloperSettings: function (windowConfig) {\n\t\t\t\treturn {\n\t\t\t\t\t// disable automated devtools opening on error when running extension tests\n\t\t\t\t\t// as this can lead to nondeterministic test execution (devtools steals focus)\n\t\t\t\t\tforceDisableShowDevtoolsOnError: typeof windowConfig.extensionTestsPath === 'string' || windowConfig['enable-smoke-test-driver'] === true,\n\t\t\t\t\t// enable devtools keybindings in extension development window\n\t\t\t\t\tforceEnableDeveloperKeybindings: Array.isArray(windowConfig.extensionDevelopmentPath) && windowConfig.extensionDevelopmentPath.length > 0,\n\t\t\t\t\tremoveDeveloperKeybindingsAfterLoad: true\n\t\t\t\t};\n\t\t\t},\n\t\t\tbeforeImport: function (windowConfig) {\n\n\t\t\t\t// Show our splash as early as possible\n\t\t\t\tshowSplash(windowConfig);\n\n\t\t\t\t// Code windows have a `vscodeWindowId` property to identify them\n\t\t\t\tObject.defineProperty(window, 'vscodeWindowId', {\n\t\t\t\t\tget: () => windowConfig.windowId\n\t\t\t\t});\n\n\t\t\t\t// It looks like browsers only lazily enable\n\t\t\t\t// the <canvas> element when needed. Since we\n\t\t\t\t// leverage canvas elements in our code in many\n\t\t\t\t// locations, we try to help the browser to\n\t\t\t\t// initialize canvas when it is idle, right\n\t\t\t\t// before we wait for the scripts to be loaded.\n\t\t\t\twindow.requestIdleCallback(() => {\n\t\t\t\t\tconst canvas = document.createElement('canvas');\n\t\t\t\t\tconst context = canvas.getContext('2d');\n\t\t\t\t\tcontext?.clearRect(0, 0, canvas.width, canvas.height);\n\t\t\t\t\tcanvas.remove();\n\t\t\t\t}, { timeout: 50 });\n\n\t\t\t\t// Track import() perf\n\t\t\t\tperformance.mark('code/willLoadWorkbenchMain');\n\t\t\t}\n\t\t}\n\t);\n\n\t// Mark start of workbench\n\tperformance.mark('code/didLoadWorkbenchMain');\n\n\t// Load workbench\n\tresult.main(configuration);\n}());\n"],"mappings":"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","names":["configuration","result"],"file":"workbench.js"}