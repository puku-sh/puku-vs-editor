{"version":3,"sources":["vs/platform/externalTerminal/node/externalTerminalService.ts"],"names":[],"mappings":"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","file":"externalTerminalService.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as cp from 'child_process';\nimport { memoize } from '../../../base/common/decorators.js';\nimport { FileAccess } from '../../../base/common/network.js';\nimport * as path from '../../../base/common/path.js';\nimport * as env from '../../../base/common/platform.js';\nimport { sanitizeProcessEnvironment } from '../../../base/common/processes.js';\nimport * as pfs from '../../../base/node/pfs.js';\nimport * as processes from '../../../base/node/processes.js';\nimport * as nls from '../../../nls.js';\nimport { DEFAULT_TERMINAL_OSX, IExternalTerminalService, IExternalTerminalSettings, ITerminalForPlatform } from '../common/externalTerminal.js';\nimport { ITerminalEnvironment } from '../../terminal/common/terminal.js';\n\nconst TERMINAL_TITLE = nls.localize('console.title', \"VS Code Console\");\n\nabstract class ExternalTerminalService {\n\tpublic _serviceBrand: undefined;\n\n\tasync getDefaultTerminalForPlatforms(): Promise<ITerminalForPlatform> {\n\t\treturn {\n\t\t\twindows: WindowsExternalTerminalService.getDefaultTerminalWindows(),\n\t\t\tlinux: await LinuxExternalTerminalService.getDefaultTerminalLinuxReady(),\n\t\t\tosx: 'xterm'\n\t\t};\n\t}\n}\n\nexport class WindowsExternalTerminalService extends ExternalTerminalService implements IExternalTerminalService {\n\tprivate static readonly CMD = 'cmd.exe';\n\tprivate static _DEFAULT_TERMINAL_WINDOWS: string;\n\n\tpublic openTerminal(configuration: IExternalTerminalSettings, cwd?: string): Promise<void> {\n\t\treturn this.spawnTerminal(cp, configuration, processes.getWindowsShell(), cwd);\n\t}\n\n\tpublic spawnTerminal(spawner: typeof cp, configuration: IExternalTerminalSettings, command: string, cwd?: string): Promise<void> {\n\t\tconst exec = configuration.windowsExec || WindowsExternalTerminalService.getDefaultTerminalWindows();\n\n\t\t// Make the drive letter uppercase on Windows (see #9448)\n\t\tif (cwd && cwd[1] === ':') {\n\t\t\tcwd = cwd[0].toUpperCase() + cwd.substr(1);\n\t\t}\n\n\t\t// cmder ignores the environment cwd and instead opts to always open in %USERPROFILE%\n\t\t// unless otherwise specified\n\t\tconst basename = path.basename(exec, '.exe').toLowerCase();\n\t\tif (basename === 'cmder') {\n\t\t\tspawner.spawn(exec, cwd ? [cwd] : undefined);\n\t\t\treturn Promise.resolve(undefined);\n\t\t}\n\n\t\tconst cmdArgs = ['/c', 'start', '/wait'];\n\t\tif (exec.indexOf(' ') >= 0) {\n\t\t\t// The \"\" argument is the window title. Without this, exec doesn't work when the path\n\t\t\t// contains spaces. #6590\n\t\t\t// Title is Execution Path. #220129\n\t\t\tcmdArgs.push(exec);\n\t\t}\n\t\tcmdArgs.push(exec);\n\t\t// Add starting directory parameter for Windows Terminal (see #90734)\n\t\tif (basename === 'wt') {\n\t\t\tcmdArgs.push('-d .');\n\t\t}\n\n\t\treturn new Promise<void>((c, e) => {\n\t\t\tconst env = getSanitizedEnvironment(process);\n\t\t\tconst child = spawner.spawn(command, cmdArgs, { cwd, env, detached: true });\n\t\t\tchild.on('error', e);\n\t\t\tchild.on('exit', () => c());\n\t\t});\n\t}\n\n\tpublic async runInTerminal(title: string, dir: string, args: string[], envVars: ITerminalEnvironment, settings: IExternalTerminalSettings): Promise<number | undefined> {\n\t\tconst exec = settings.windowsExec || WindowsExternalTerminalService.getDefaultTerminalWindows();\n\t\tconst wt = await WindowsExternalTerminalService.getWtExePath();\n\n\t\treturn new Promise<number | undefined>((resolve, reject) => {\n\n\t\t\tconst title = `\"${dir} - ${TERMINAL_TITLE}\"`;\n\t\t\tconst command = `\"${args.join('\" \"')}\" & pause`; // use '|' to only pause on non-zero exit code\n\n\t\t\t// merge environment variables into a copy of the process.env\n\t\t\tconst env = Object.assign({}, getSanitizedEnvironment(process), envVars);\n\n\t\t\t// delete environment variables that have a null value\n\t\t\tObject.keys(env).filter(v => env[v] === null).forEach(key => delete env[key]);\n\n\t\t\tconst options = {\n\t\t\t\tcwd: dir,\n\t\t\t\tenv: env,\n\t\t\t\twindowsVerbatimArguments: true\n\t\t\t};\n\n\t\t\tlet spawnExec: string;\n\t\t\tlet cmdArgs: string[];\n\n\t\t\tif (path.basename(exec, '.exe') === 'wt') {\n\t\t\t\t// Handle Windows Terminal specially; -d to set the cwd and run a cmd.exe instance\n\t\t\t\t// inside it\n\t\t\t\tspawnExec = exec;\n\t\t\t\tcmdArgs = ['-d', '.', WindowsExternalTerminalService.CMD, '/c', command];\n\t\t\t} else if (wt) {\n\t\t\t\t// prefer to use the window terminal to spawn if it's available instead\n\t\t\t\t// of start, since that allows ctrl+c handling (#81322)\n\t\t\t\tspawnExec = wt;\n\t\t\t\tcmdArgs = ['-d', '.', exec, '/c', command];\n\t\t\t} else {\n\t\t\t\tspawnExec = WindowsExternalTerminalService.CMD;\n\t\t\t\tcmdArgs = ['/c', 'start', title, '/wait', exec, '/c', `\"${command}\"`];\n\t\t\t}\n\n\t\t\tconst cmd = cp.spawn(spawnExec, cmdArgs, options);\n\n\t\t\tcmd.on('error', err => {\n\t\t\t\treject(improveError(err));\n\t\t\t});\n\n\t\t\tresolve(undefined);\n\t\t});\n\t}\n\n\tpublic static getDefaultTerminalWindows(): string {\n\t\tif (!WindowsExternalTerminalService._DEFAULT_TERMINAL_WINDOWS) {\n\t\t\tconst isWoW64 = !!process.env.hasOwnProperty('PROCESSOR_ARCHITEW6432');\n\t\t\tWindowsExternalTerminalService._DEFAULT_TERMINAL_WINDOWS = `${process.env.windir ? process.env.windir : 'C:\\\\Windows'}\\\\${isWoW64 ? 'Sysnative' : 'System32'}\\\\cmd.exe`;\n\t\t}\n\t\treturn WindowsExternalTerminalService._DEFAULT_TERMINAL_WINDOWS;\n\t}\n\n\t@memoize\n\tprivate static async getWtExePath() {\n\t\ttry {\n\t\t\treturn await processes.findExecutable('wt');\n\t\t} catch {\n\t\t\treturn undefined;\n\t\t}\n\t}\n}\n\nexport class MacExternalTerminalService extends ExternalTerminalService implements IExternalTerminalService {\n\tprivate static readonly OSASCRIPT = '/usr/bin/osascript';\t// osascript is the AppleScript interpreter on OS X\n\n\tpublic openTerminal(configuration: IExternalTerminalSettings, cwd?: string): Promise<void> {\n\t\treturn this.spawnTerminal(cp, configuration, cwd);\n\t}\n\n\tpublic runInTerminal(title: string, dir: string, args: string[], envVars: ITerminalEnvironment, settings: IExternalTerminalSettings): Promise<number | undefined> {\n\n\t\tconst terminalApp = settings.osxExec || DEFAULT_TERMINAL_OSX;\n\n\t\treturn new Promise<number | undefined>((resolve, reject) => {\n\n\t\t\tif (terminalApp === DEFAULT_TERMINAL_OSX || terminalApp === 'iTerm.app') {\n\n\t\t\t\t// On OS X we launch an AppleScript that creates (or reuses) a Terminal window\n\t\t\t\t// and then launches the program inside that window.\n\n\t\t\t\tconst script = terminalApp === DEFAULT_TERMINAL_OSX ? 'TerminalHelper' : 'iTermHelper';\n\t\t\t\tconst scriptpath = FileAccess.asFileUri(`vs/workbench/contrib/externalTerminal/node/${script}.scpt`).fsPath;\n\n\t\t\t\tconst osaArgs = [\n\t\t\t\t\tscriptpath,\n\t\t\t\t\t'-t', title || TERMINAL_TITLE,\n\t\t\t\t\t'-w', dir,\n\t\t\t\t];\n\n\t\t\t\tfor (const a of args) {\n\t\t\t\t\tosaArgs.push('-a');\n\t\t\t\t\tosaArgs.push(a);\n\t\t\t\t}\n\n\t\t\t\tif (envVars) {\n\t\t\t\t\t// merge environment variables into a copy of the process.env\n\t\t\t\t\tconst env = Object.assign({}, getSanitizedEnvironment(process), envVars);\n\n\t\t\t\t\tfor (const key in env) {\n\t\t\t\t\t\tconst value = env[key];\n\t\t\t\t\t\tif (value === null) {\n\t\t\t\t\t\t\tosaArgs.push('-u');\n\t\t\t\t\t\t\tosaArgs.push(key);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tosaArgs.push('-e');\n\t\t\t\t\t\t\tosaArgs.push(`${key}=${value}`);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet stderr = '';\n\t\t\t\tconst osa = cp.spawn(MacExternalTerminalService.OSASCRIPT, osaArgs);\n\t\t\t\tosa.on('error', err => {\n\t\t\t\t\treject(improveError(err));\n\t\t\t\t});\n\t\t\t\tosa.stderr.on('data', (data) => {\n\t\t\t\t\tstderr += data.toString();\n\t\t\t\t});\n\t\t\t\tosa.on('exit', (code: number) => {\n\t\t\t\t\tif (code === 0) {\t// OK\n\t\t\t\t\t\tresolve(undefined);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (stderr) {\n\t\t\t\t\t\t\tconst lines = stderr.split('\\n', 1);\n\t\t\t\t\t\t\treject(new Error(lines[0]));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treject(new Error(nls.localize('mac.terminal.script.failed', \"Script '{0}' failed with exit code {1}\", script, code)));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treject(new Error(nls.localize('mac.terminal.type.not.supported', \"'{0}' not supported\", terminalApp)));\n\t\t\t}\n\t\t});\n\t}\n\n\tspawnTerminal(spawner: typeof cp, configuration: IExternalTerminalSettings, cwd?: string): Promise<void> {\n\t\tconst terminalApp = configuration.osxExec || DEFAULT_TERMINAL_OSX;\n\n\t\treturn new Promise<void>((c, e) => {\n\t\t\tconst args = ['-a', terminalApp];\n\t\t\tif (cwd) {\n\t\t\t\targs.push(cwd);\n\t\t\t}\n\t\t\tconst env = getSanitizedEnvironment(process);\n\t\t\tconst child = spawner.spawn('/usr/bin/open', args, { cwd, env });\n\t\t\tchild.on('error', e);\n\t\t\tchild.on('exit', () => c());\n\t\t});\n\t}\n}\n\nexport class LinuxExternalTerminalService extends ExternalTerminalService implements IExternalTerminalService {\n\n\tprivate static readonly WAIT_MESSAGE = nls.localize('press.any.key', \"Press any key to continue...\");\n\n\tpublic openTerminal(configuration: IExternalTerminalSettings, cwd?: string): Promise<void> {\n\t\treturn this.spawnTerminal(cp, configuration, cwd);\n\t}\n\n\tpublic runInTerminal(title: string, dir: string, args: string[], envVars: ITerminalEnvironment, settings: IExternalTerminalSettings): Promise<number | undefined> {\n\n\t\tconst execPromise = settings.linuxExec ? Promise.resolve(settings.linuxExec) : LinuxExternalTerminalService.getDefaultTerminalLinuxReady();\n\n\t\treturn new Promise<number | undefined>((resolve, reject) => {\n\n\t\t\tconst termArgs: string[] = [];\n\t\t\t//termArgs.push('--title');\n\t\t\t//termArgs.push(`\"${TERMINAL_TITLE}\"`);\n\t\t\texecPromise.then(exec => {\n\t\t\t\tif (exec.indexOf('gnome-terminal') >= 0) {\n\t\t\t\t\ttermArgs.push('-x');\n\t\t\t\t} else {\n\t\t\t\t\ttermArgs.push('-e');\n\t\t\t\t}\n\t\t\t\ttermArgs.push('bash');\n\t\t\t\ttermArgs.push('-c');\n\n\t\t\t\tconst bashCommand = `${quote(args)}; echo; read -p \"${LinuxExternalTerminalService.WAIT_MESSAGE}\" -n1;`;\n\t\t\t\ttermArgs.push(`''${bashCommand}''`);\t// wrapping argument in two sets of ' because node is so \"friendly\" that it removes one set...\n\n\n\t\t\t\t// merge environment variables into a copy of the process.env\n\t\t\t\tconst env = Object.assign({}, getSanitizedEnvironment(process), envVars);\n\n\t\t\t\t// delete environment variables that have a null value\n\t\t\t\tObject.keys(env).filter(v => env[v] === null).forEach(key => delete env[key]);\n\n\t\t\t\tconst options = {\n\t\t\t\t\tcwd: dir,\n\t\t\t\t\tenv: env\n\t\t\t\t};\n\n\t\t\t\tlet stderr = '';\n\t\t\t\tconst cmd = cp.spawn(exec, termArgs, options);\n\t\t\t\tcmd.on('error', err => {\n\t\t\t\t\treject(improveError(err));\n\t\t\t\t});\n\t\t\t\tcmd.stderr.on('data', (data) => {\n\t\t\t\t\tstderr += data.toString();\n\t\t\t\t});\n\t\t\t\tcmd.on('exit', (code: number) => {\n\t\t\t\t\tif (code === 0) {\t// OK\n\t\t\t\t\t\tresolve(undefined);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (stderr) {\n\t\t\t\t\t\t\tconst lines = stderr.split('\\n', 1);\n\t\t\t\t\t\t\treject(new Error(lines[0]));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treject(new Error(nls.localize('linux.term.failed', \"'{0}' failed with exit code {1}\", exec, code)));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\n\tprivate static _DEFAULT_TERMINAL_LINUX_READY: Promise<string>;\n\n\tpublic static async getDefaultTerminalLinuxReady(): Promise<string> {\n\t\tif (!LinuxExternalTerminalService._DEFAULT_TERMINAL_LINUX_READY) {\n\t\t\tif (!env.isLinux) {\n\t\t\t\tLinuxExternalTerminalService._DEFAULT_TERMINAL_LINUX_READY = Promise.resolve('xterm');\n\t\t\t} else {\n\t\t\t\tconst isDebian = await pfs.Promises.exists('/etc/debian_version');\n\t\t\t\tLinuxExternalTerminalService._DEFAULT_TERMINAL_LINUX_READY = new Promise<string>(r => {\n\t\t\t\t\tif (isDebian) {\n\t\t\t\t\t\tr('x-terminal-emulator');\n\t\t\t\t\t} else if (process.env.DESKTOP_SESSION === 'gnome' || process.env.DESKTOP_SESSION === 'gnome-classic') {\n\t\t\t\t\t\tr('gnome-terminal');\n\t\t\t\t\t} else if (process.env.DESKTOP_SESSION === 'kde-plasma') {\n\t\t\t\t\t\tr('konsole');\n\t\t\t\t\t} else if (process.env.COLORTERM) {\n\t\t\t\t\t\tr(process.env.COLORTERM);\n\t\t\t\t\t} else if (process.env.TERM) {\n\t\t\t\t\t\tr(process.env.TERM);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tr('xterm');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn LinuxExternalTerminalService._DEFAULT_TERMINAL_LINUX_READY;\n\t}\n\n\tspawnTerminal(spawner: typeof cp, configuration: IExternalTerminalSettings, cwd?: string): Promise<void> {\n\t\tconst execPromise = configuration.linuxExec ? Promise.resolve(configuration.linuxExec) : LinuxExternalTerminalService.getDefaultTerminalLinuxReady();\n\n\t\treturn new Promise<void>((c, e) => {\n\t\t\texecPromise.then(exec => {\n\t\t\t\tconst env = getSanitizedEnvironment(process);\n\t\t\t\tconst child = spawner.spawn(exec, [], { cwd, env });\n\t\t\t\tchild.on('error', e);\n\t\t\t\tchild.on('exit', () => c());\n\t\t\t});\n\t\t});\n\t}\n}\n\nfunction getSanitizedEnvironment(process: NodeJS.Process) {\n\tconst env = { ...process.env };\n\tsanitizeProcessEnvironment(env);\n\treturn env;\n}\n\n/**\n * tries to turn OS errors into more meaningful error messages\n */\nfunction improveError(err: Error & { errno?: string; path?: string }): Error {\n\tif (err.errno === 'ENOENT' && err.path) {\n\t\treturn new Error(nls.localize('ext.term.app.not.found', \"can't find terminal application '{0}'\", err.path));\n\t}\n\treturn err;\n}\n\n/**\n * Quote args if necessary and combine into a space separated string.\n */\nfunction quote(args: string[]): string {\n\tlet r = '';\n\tfor (const a of args) {\n\t\tif (a.indexOf(' ') >= 0) {\n\t\t\tr += '\"' + a + '\"';\n\t\t} else {\n\t\t\tr += a;\n\t\t}\n\t\tr += ' ';\n\t}\n\treturn r;\n}\n"]}