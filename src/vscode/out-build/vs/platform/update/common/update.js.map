{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/platform/update/common/update.ts","vs/platform/update/common/update.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAGhG,OAAO,EAAE,MAAM,EAAE,MAAM,+BAA+B,CAAC;AACvD,OAAO,EAAE,eAAe,EAAE,MAAM,6CAA6C,CAAC;AAW9E;;;;;;;;;;;;;;;;GAgBG;AAEH,MAAM,CAAN,IAAkB,SAUjB;AAVD,WAAkB,SAAS;IAC1B,4CAA+B,CAAA;IAC/B,0BAAa,CAAA;IACb,kCAAqB,CAAA;IACrB,wDAA2C,CAAA;IAC3C,4DAA+C,CAAA;IAC/C,wCAA2B,CAAA;IAC3B,sCAAyB,CAAA;IACzB,kCAAqB,CAAA;IACrB,4BAAe,CAAA;AAChB,CAAC,EAViB,SAAS,KAAT,SAAS,QAU1B;AAED,MAAM,CAAN,IAAkB,UAIjB;AAJD,WAAkB,UAAU;IAC3B,6CAAK,CAAA;IACL,iDAAO,CAAA;IACP,2CAAI,CAAA;AACL,CAAC,EAJiB,UAAU,KAAV,UAAU,QAI3B;AAED,MAAM,CAAN,IAAkB,iBAOjB;AAPD,WAAkB,iBAAiB;IAClC,iEAAQ,CAAA;IACR,2FAAqB,CAAA;IACrB,iFAAgB,CAAA;IAChB,yFAAoB,CAAA;IACpB,yFAAoB,CAAA;IACpB,6EAAc,CAAA;AACf,CAAC,EAPiB,iBAAiB,KAAjB,iBAAiB,QAOlC;AAcD,MAAM,CAAC,MAAM,KAAK,GAAG;IACpB,aAAa,EAAE,MAAM,CAAgB,EAAE,IAAI,+CAAyB,EAAE,CAAC;IACvE,QAAQ,EAAE,CAAC,MAAyB,EAAY,EAAE,CAAC,CAAC,EAAE,IAAI,qCAAoB,EAAE,MAAM,EAAE,CAAC;IACzF,IAAI,EAAE,CAAC,UAAsB,EAAE,KAAc,EAAQ,EAAE,CAAC,CAAC,EAAE,IAAI,6BAAgB,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC;IACrG,kBAAkB,EAAE,CAAC,QAAiB,EAAsB,EAAE,CAAC,CAAC,EAAE,IAAI,2DAA8B,EAAE,QAAQ,EAAE,CAAC;IACjH,oBAAoB,EAAE,CAAC,MAAe,EAAwB,EAAE,CAAC,CAAC,EAAE,IAAI,+DAAgC,EAAE,MAAM,EAAE,CAAC;IACnH,WAAW,EAAE,MAAM,CAAc,EAAE,IAAI,2CAAuB,EAAE,CAAC;IACjE,UAAU,EAAE,CAAC,MAAe,EAAc,EAAE,CAAC,CAAC,EAAE,IAAI,yCAAsB,EAAE,MAAM,EAAE,CAAC;IACrF,QAAQ,EAAE,CAAC,MAAe,EAAY,EAAE,CAAC,CAAC,EAAE,IAAI,qCAAoB,EAAE,MAAM,EAAE,CAAC;IAC/E,KAAK,EAAE,CAAC,MAAe,EAAS,EAAE,CAAC,CAAC,EAAE,IAAI,+BAAiB,EAAE,MAAM,EAAE,CAAC;CACtE,CAAC;AASF,MAAM,CAAC,MAAM,cAAc,GAAG,eAAe,CAAiB,eAAe,CAAC,CAAC","file":"update.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Event } from '../../../base/common/event.js';\nimport { upcast } from '../../../base/common/types.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\n\nexport interface IUpdate {\n\t// Windows and Linux: 9a19815253d91900be5ec1016e0ecc7cc9a6950 (Commit Hash). Mac: 1.54.0 (Product Version)\n\tversion: string;\n\tproductVersion?: string;\n\ttimestamp?: number;\n\turl?: string;\n\tsha256hash?: string;\n}\n\n/**\n * Updates are run as a state machine:\n *\n *      Uninitialized\n *           ↓\n *          Idle\n *          ↓  ↑\n *   Checking for Updates  →  Available for Download\n *         ↓\n *     Downloading  →   Ready\n *         ↓               ↑\n *     Downloaded   →  Updating\n *\n * Available: There is an update available for download (linux).\n * Ready: Code will be updated as soon as it restarts (win32, darwin).\n * Downloaded: There is an update ready to be installed in the background (win32).\n */\n\nexport const enum StateType {\n\tUninitialized = 'uninitialized',\n\tIdle = 'idle',\n\tDisabled = 'disabled',\n\tCheckingForUpdates = 'checking for updates',\n\tAvailableForDownload = 'available for download',\n\tDownloading = 'downloading',\n\tDownloaded = 'downloaded',\n\tUpdating = 'updating',\n\tReady = 'ready',\n}\n\nexport const enum UpdateType {\n\tSetup,\n\tArchive,\n\tSnap\n}\n\nexport const enum DisablementReason {\n\tNotBuilt,\n\tDisabledByEnvironment,\n\tManuallyDisabled,\n\tMissingConfiguration,\n\tInvalidConfiguration,\n\tRunningAsAdmin,\n}\n\nexport type Uninitialized = { type: StateType.Uninitialized };\nexport type Disabled = { type: StateType.Disabled; reason: DisablementReason };\nexport type Idle = { type: StateType.Idle; updateType: UpdateType; error?: string };\nexport type CheckingForUpdates = { type: StateType.CheckingForUpdates; explicit: boolean };\nexport type AvailableForDownload = { type: StateType.AvailableForDownload; update: IUpdate };\nexport type Downloading = { type: StateType.Downloading };\nexport type Downloaded = { type: StateType.Downloaded; update: IUpdate };\nexport type Updating = { type: StateType.Updating; update: IUpdate };\nexport type Ready = { type: StateType.Ready; update: IUpdate };\n\nexport type State = Uninitialized | Disabled | Idle | CheckingForUpdates | AvailableForDownload | Downloading | Downloaded | Updating | Ready;\n\nexport const State = {\n\tUninitialized: upcast<Uninitialized>({ type: StateType.Uninitialized }),\n\tDisabled: (reason: DisablementReason): Disabled => ({ type: StateType.Disabled, reason }),\n\tIdle: (updateType: UpdateType, error?: string): Idle => ({ type: StateType.Idle, updateType, error }),\n\tCheckingForUpdates: (explicit: boolean): CheckingForUpdates => ({ type: StateType.CheckingForUpdates, explicit }),\n\tAvailableForDownload: (update: IUpdate): AvailableForDownload => ({ type: StateType.AvailableForDownload, update }),\n\tDownloading: upcast<Downloading>({ type: StateType.Downloading }),\n\tDownloaded: (update: IUpdate): Downloaded => ({ type: StateType.Downloaded, update }),\n\tUpdating: (update: IUpdate): Updating => ({ type: StateType.Updating, update }),\n\tReady: (update: IUpdate): Ready => ({ type: StateType.Ready, update }),\n};\n\nexport interface IAutoUpdater extends Event.NodeEventEmitter {\n\tsetFeedURL(url: string): void;\n\tcheckForUpdates(): void;\n\tapplyUpdate?(): Promise<void>;\n\tquitAndInstall(): void;\n}\n\nexport const IUpdateService = createDecorator<IUpdateService>('updateService');\n\nexport interface IUpdateService {\n\treadonly _serviceBrand: undefined;\n\n\treadonly onStateChange: Event<State>;\n\treadonly state: State;\n\n\tcheckForUpdates(explicit: boolean): Promise<void>;\n\tdownloadUpdate(): Promise<void>;\n\tapplyUpdate(): Promise<void>;\n\tquitAndInstall(): Promise<void>;\n\n\tisLatestVersion(): Promise<boolean | undefined>;\n\t_applySpecificUpdate(packagePath: string): Promise<void>;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Event } from '../../../base/common/event.js';\nimport { upcast } from '../../../base/common/types.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\n\nexport interface IUpdate {\n\t// Windows and Linux: 9a19815253d91900be5ec1016e0ecc7cc9a6950 (Commit Hash). Mac: 1.54.0 (Product Version)\n\tversion: string;\n\tproductVersion?: string;\n\ttimestamp?: number;\n\turl?: string;\n\tsha256hash?: string;\n}\n\n/**\n * Updates are run as a state machine:\n *\n *      Uninitialized\n *           ↓\n *          Idle\n *          ↓  ↑\n *   Checking for Updates  →  Available for Download\n *         ↓\n *     Downloading  →   Ready\n *         ↓               ↑\n *     Downloaded   →  Updating\n *\n * Available: There is an update available for download (linux).\n * Ready: Code will be updated as soon as it restarts (win32, darwin).\n * Downloaded: There is an update ready to be installed in the background (win32).\n */\n\nexport const enum StateType {\n\tUninitialized = 'uninitialized',\n\tIdle = 'idle',\n\tDisabled = 'disabled',\n\tCheckingForUpdates = 'checking for updates',\n\tAvailableForDownload = 'available for download',\n\tDownloading = 'downloading',\n\tDownloaded = 'downloaded',\n\tUpdating = 'updating',\n\tReady = 'ready',\n}\n\nexport const enum UpdateType {\n\tSetup,\n\tArchive,\n\tSnap\n}\n\nexport const enum DisablementReason {\n\tNotBuilt,\n\tDisabledByEnvironment,\n\tManuallyDisabled,\n\tMissingConfiguration,\n\tInvalidConfiguration,\n\tRunningAsAdmin,\n}\n\nexport type Uninitialized = { type: StateType.Uninitialized };\nexport type Disabled = { type: StateType.Disabled; reason: DisablementReason };\nexport type Idle = { type: StateType.Idle; updateType: UpdateType; error?: string };\nexport type CheckingForUpdates = { type: StateType.CheckingForUpdates; explicit: boolean };\nexport type AvailableForDownload = { type: StateType.AvailableForDownload; update: IUpdate };\nexport type Downloading = { type: StateType.Downloading };\nexport type Downloaded = { type: StateType.Downloaded; update: IUpdate };\nexport type Updating = { type: StateType.Updating; update: IUpdate };\nexport type Ready = { type: StateType.Ready; update: IUpdate };\n\nexport type State = Uninitialized | Disabled | Idle | CheckingForUpdates | AvailableForDownload | Downloading | Downloaded | Updating | Ready;\n\nexport const State = {\n\tUninitialized: upcast<Uninitialized>({ type: StateType.Uninitialized }),\n\tDisabled: (reason: DisablementReason): Disabled => ({ type: StateType.Disabled, reason }),\n\tIdle: (updateType: UpdateType, error?: string): Idle => ({ type: StateType.Idle, updateType, error }),\n\tCheckingForUpdates: (explicit: boolean): CheckingForUpdates => ({ type: StateType.CheckingForUpdates, explicit }),\n\tAvailableForDownload: (update: IUpdate): AvailableForDownload => ({ type: StateType.AvailableForDownload, update }),\n\tDownloading: upcast<Downloading>({ type: StateType.Downloading }),\n\tDownloaded: (update: IUpdate): Downloaded => ({ type: StateType.Downloaded, update }),\n\tUpdating: (update: IUpdate): Updating => ({ type: StateType.Updating, update }),\n\tReady: (update: IUpdate): Ready => ({ type: StateType.Ready, update }),\n};\n\nexport interface IAutoUpdater extends Event.NodeEventEmitter {\n\tsetFeedURL(url: string): void;\n\tcheckForUpdates(): void;\n\tapplyUpdate?(): Promise<void>;\n\tquitAndInstall(): void;\n}\n\nexport const IUpdateService = createDecorator<IUpdateService>('updateService');\n\nexport interface IUpdateService {\n\treadonly _serviceBrand: undefined;\n\n\treadonly onStateChange: Event<State>;\n\treadonly state: State;\n\n\tcheckForUpdates(explicit: boolean): Promise<void>;\n\tdownloadUpdate(): Promise<void>;\n\tapplyUpdate(): Promise<void>;\n\tquitAndInstall(): Promise<void>;\n\n\tisLatestVersion(): Promise<boolean | undefined>;\n\t_applySpecificUpdate(packagePath: string): Promise<void>;\n}\n"]}