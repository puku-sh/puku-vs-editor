{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/platform/telemetry/browser/errorTelemetry.ts","vs/platform/telemetry/browser/errorTelemetry.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,EAAE,UAAU,EAAE,MAAM,iCAAiC,CAAC;AAC7D,OAAO,EAAE,gBAAgB,EAAE,MAAM,gCAAgC,CAAC;AAClE,OAAO,EAAE,YAAY,EAAE,MAAM,mCAAmC,CAAC;AACjE,OAAO,kBAAkC,MAAM,6BAA6B,CAAC;AAE7E,MAAM,CAAC,OAAO,OAAO,cAAe,SAAQ,kBAAkB;IAC1C,qBAAqB;QACvC,IAAI,UAA+B,CAAC;QACpC,MAAM,IAAI,GAAG,IAAI,CAAC;QAClB,IAAI,OAAO,UAAU,CAAC,OAAO,KAAK,UAAU,EAAE,CAAC;YAC9C,UAAU,GAAG,UAAU,CAAC,OAAO,CAAC;QACjC,CAAC;QACD,UAAU,CAAC,OAAO,GAAG,UAAU,OAAuB,EAAE,QAAiB,EAAE,IAAa,EAAE,MAAe,EAAE,KAAa;YACvH,IAAI,CAAC,gBAAgB,CAAC,OAAiB,EAAE,QAAkB,EAAE,IAAc,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;YAC5F,UAAU,EAAE,KAAK,CAAC,IAAI,EAAE,CAAC,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC;QACnE,CAAC,CAAC;QACF,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,YAAY,CAAC,GAAG,EAAE;YACvC,IAAI,UAAU,EAAE,CAAC;gBAChB,UAAU,CAAC,OAAO,GAAG,UAAU,CAAC;YACjC,CAAC;QACF,CAAC,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,gBAAgB,CAAC,GAAW,EAAE,IAAY,EAAE,IAAY,EAAE,MAAe,EAAE,GAAS;QAC3F,MAAM,IAAI,GAAe;YACxB,SAAS,EAAE,GAAG;YACd,GAAG;YACH,IAAI;YACJ,IAAI;YACJ,MAAM;SACN,CAAC;QAEF,IAAI,GAAG,EAAE,CAAC;YACT,uDAAuD;YACvD,IAAI,gBAAgB,CAAC,kBAAkB,CAAC,GAAG,CAAC,EAAE,CAAC;gBAC9C,OAAO;YACR,CAAC;YAED,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,GAAG,CAAC;YACrC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;YAChC,IAAI,OAAO,EAAE,CAAC;gBACb,IAAI,CAAC,kBAAkB,GAAG,OAAO,CAAC;YACnC,CAAC;YACD,IAAI,KAAK,EAAE,CAAC;gBACX,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;oBACxC,CAAC,CAAC,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;oBAClC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC;YACd,CAAC;QACF,CAAC;QAED,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IACrB,CAAC;CACD","file":"errorTelemetry.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { mainWindow } from '../../../base/browser/window.js';\nimport { ErrorNoTelemetry } from '../../../base/common/errors.js';\nimport { toDisposable } from '../../../base/common/lifecycle.js';\nimport BaseErrorTelemetry, { ErrorEvent } from '../common/errorTelemetry.js';\n\nexport default class ErrorTelemetry extends BaseErrorTelemetry {\n\tprotected override installErrorListeners(): void {\n\t\tlet oldOnError: OnErrorEventHandler;\n\t\tconst that = this;\n\t\tif (typeof mainWindow.onerror === 'function') {\n\t\t\toldOnError = mainWindow.onerror;\n\t\t}\n\t\tmainWindow.onerror = function (message: Event | string, filename?: string, line?: number, column?: number, error?: Error) {\n\t\t\tthat._onUncaughtError(message as string, filename as string, line as number, column, error);\n\t\t\toldOnError?.apply(this, [message, filename, line, column, error]);\n\t\t};\n\t\tthis._disposables.add(toDisposable(() => {\n\t\t\tif (oldOnError) {\n\t\t\t\tmainWindow.onerror = oldOnError;\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate _onUncaughtError(msg: string, file: string, line: number, column?: number, err?: any): void {\n\t\tconst data: ErrorEvent = {\n\t\t\tcallstack: msg,\n\t\t\tmsg,\n\t\t\tfile,\n\t\t\tline,\n\t\t\tcolumn\n\t\t};\n\n\t\tif (err) {\n\t\t\t// If it's the no telemetry error it doesn't get logged\n\t\t\tif (ErrorNoTelemetry.isErrorNoTelemetry(err)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst { name, message, stack } = err;\n\t\t\tdata.uncaught_error_name = name;\n\t\t\tif (message) {\n\t\t\t\tdata.uncaught_error_msg = message;\n\t\t\t}\n\t\t\tif (stack) {\n\t\t\t\tdata.callstack = Array.isArray(err.stack)\n\t\t\t\t\t? err.stack = err.stack.join('\\n')\n\t\t\t\t\t: err.stack;\n\t\t\t}\n\t\t}\n\n\t\tthis._enqueue(data);\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { mainWindow } from '../../../base/browser/window.js';\nimport { ErrorNoTelemetry } from '../../../base/common/errors.js';\nimport { toDisposable } from '../../../base/common/lifecycle.js';\nimport BaseErrorTelemetry, { ErrorEvent } from '../common/errorTelemetry.js';\n\nexport default class ErrorTelemetry extends BaseErrorTelemetry {\n\tprotected override installErrorListeners(): void {\n\t\tlet oldOnError: OnErrorEventHandler;\n\t\tconst that = this;\n\t\tif (typeof mainWindow.onerror === 'function') {\n\t\t\toldOnError = mainWindow.onerror;\n\t\t}\n\t\tmainWindow.onerror = function (message: Event | string, filename?: string, line?: number, column?: number, error?: Error) {\n\t\t\tthat._onUncaughtError(message as string, filename as string, line as number, column, error);\n\t\t\toldOnError?.apply(this, [message, filename, line, column, error]);\n\t\t};\n\t\tthis._disposables.add(toDisposable(() => {\n\t\t\tif (oldOnError) {\n\t\t\t\tmainWindow.onerror = oldOnError;\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate _onUncaughtError(msg: string, file: string, line: number, column?: number, err?: any): void {\n\t\tconst data: ErrorEvent = {\n\t\t\tcallstack: msg,\n\t\t\tmsg,\n\t\t\tfile,\n\t\t\tline,\n\t\t\tcolumn\n\t\t};\n\n\t\tif (err) {\n\t\t\t// If it's the no telemetry error it doesn't get logged\n\t\t\tif (ErrorNoTelemetry.isErrorNoTelemetry(err)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst { name, message, stack } = err;\n\t\t\tdata.uncaught_error_name = name;\n\t\t\tif (message) {\n\t\t\t\tdata.uncaught_error_msg = message;\n\t\t\t}\n\t\t\tif (stack) {\n\t\t\t\tdata.callstack = Array.isArray(err.stack)\n\t\t\t\t\t? err.stack = err.stack.join('\\n')\n\t\t\t\t\t: err.stack;\n\t\t\t}\n\t\t}\n\n\t\tthis._enqueue(data);\n\t}\n}\n"]}