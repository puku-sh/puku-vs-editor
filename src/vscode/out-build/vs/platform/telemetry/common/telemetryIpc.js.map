{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/platform/telemetry/common/telemetryIpc.ts","vs/platform/telemetry/common/telemetryIpc.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAYhG,MAAM,OAAO,wBAAwB;IAEpC,YAAoB,SAA+B;QAA/B,cAAS,GAAT,SAAS,CAAsB;IAAI,CAAC;IAExD,MAAM,CAAI,CAAU,EAAE,KAAa;QAClC,MAAM,IAAI,KAAK,CAAC,oBAAoB,KAAK,EAAE,CAAC,CAAC;IAC9C,CAAC;IAED,IAAI,CAAI,CAAU,EAAE,OAAe,EAAE,EAAE,SAAS,EAAE,IAAI,EAAiB;QACtE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,IAAI,EAAE,CAAC,CAAC,CAAC;QAC1D,OAAO,OAAO,CAAC,OAAO,CAAC,IAAoB,CAAC,CAAC;IAC9C,CAAC;CACD;AAED,MAAM,OAAO,uBAAuB;IAEnC,YAAoB,OAAiB;QAAjB,YAAO,GAAP,OAAO,CAAU;IAAI,CAAC;IAE1C,GAAG,CAAC,SAAiB,EAAE,IAAc;QACpC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC;aAC3C,IAAI,CAAC,SAAS,EAAE,GAAG,CAAC,EAAE,CAAC,4BAA4B,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QAE1E,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IAC9B,CAAC;IAED,KAAK;QACJ,OAAO;QACP,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC1B,CAAC;CACD","file":"telemetryIpc.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Event } from '../../../base/common/event.js';\nimport { IChannel, IServerChannel } from '../../../base/parts/ipc/common/ipc.js';\nimport { ITelemetryData } from './telemetry.js';\nimport { ITelemetryAppender } from './telemetryUtils.js';\n\nexport interface ITelemetryLog {\n\teventName: string;\n\tdata?: ITelemetryData;\n}\n\nexport class TelemetryAppenderChannel implements IServerChannel {\n\n\tconstructor(private appenders: ITelemetryAppender[]) { }\n\n\tlisten<T>(_: unknown, event: string): Event<T> {\n\t\tthrow new Error(`Event not found: ${event}`);\n\t}\n\n\tcall<T>(_: unknown, command: string, { eventName, data }: ITelemetryLog) {\n\t\tthis.appenders.forEach(a => a.log(eventName, data ?? {}));\n\t\treturn Promise.resolve(null as unknown as T);\n\t}\n}\n\nexport class TelemetryAppenderClient implements ITelemetryAppender {\n\n\tconstructor(private channel: IChannel) { }\n\n\tlog(eventName: string, data?: unknown): unknown {\n\t\tthis.channel.call('log', { eventName, data })\n\t\t\t.then(undefined, err => `Failed to log telemetry: ${console.warn(err)}`);\n\n\t\treturn Promise.resolve(null);\n\t}\n\n\tflush(): Promise<void> {\n\t\t// TODO\n\t\treturn Promise.resolve();\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Event } from '../../../base/common/event.js';\nimport { IChannel, IServerChannel } from '../../../base/parts/ipc/common/ipc.js';\nimport { ITelemetryData } from './telemetry.js';\nimport { ITelemetryAppender } from './telemetryUtils.js';\n\nexport interface ITelemetryLog {\n\teventName: string;\n\tdata?: ITelemetryData;\n}\n\nexport class TelemetryAppenderChannel implements IServerChannel {\n\n\tconstructor(private appenders: ITelemetryAppender[]) { }\n\n\tlisten<T>(_: unknown, event: string): Event<T> {\n\t\tthrow new Error(`Event not found: ${event}`);\n\t}\n\n\tcall<T>(_: unknown, command: string, { eventName, data }: ITelemetryLog) {\n\t\tthis.appenders.forEach(a => a.log(eventName, data ?? {}));\n\t\treturn Promise.resolve(null as unknown as T);\n\t}\n}\n\nexport class TelemetryAppenderClient implements ITelemetryAppender {\n\n\tconstructor(private channel: IChannel) { }\n\n\tlog(eventName: string, data?: unknown): unknown {\n\t\tthis.channel.call('log', { eventName, data })\n\t\t\t.then(undefined, err => `Failed to log telemetry: ${console.warn(err)}`);\n\n\t\treturn Promise.resolve(null);\n\t}\n\n\tflush(): Promise<void> {\n\t\t// TODO\n\t\treturn Promise.resolve();\n\t}\n}\n"]}