{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/platform/extensions/electron-main/extensionHostStarter.ts","vs/platform/extensions/electron-main/extensionHostStarter.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;;AAEhG,OAAO,EAAE,QAAQ,EAAE,MAAM,+BAA+B,CAAC;AACzD,OAAO,EAAE,QAAQ,EAAE,MAAM,gCAAgC,CAAC;AAC1D,OAAO,EAAE,KAAK,EAAE,MAAM,+BAA+B,CAAC;AACtD,OAAO,EAAE,UAAU,EAAe,MAAM,mCAAmC,CAAC;AAE5E,OAAO,EAAE,qBAAqB,EAAE,MAAM,uDAAuD,CAAC;AAC9F,OAAO,EAAE,WAAW,EAAE,MAAM,yBAAyB,CAAC;AACtD,OAAO,EAAE,iBAAiB,EAAE,MAAM,qCAAqC,CAAC;AACxE,OAAO,EAAE,oBAAoB,EAAE,MAAM,sDAAsD,CAAC;AAC5F,OAAO,EAAE,mBAAmB,EAAE,MAAM,wCAAwC,CAAC;AAC7E,OAAO,EAAE,qBAAqB,EAAE,MAAM,6CAA6C,CAAC;AAE7E,IAAM,oBAAoB,GAA1B,MAAM,oBAAqB,SAAQ,UAAU;;aAIpC,YAAO,GAAW,CAAX,AAAY,CAAC;IAKnC,YACc,WAAyC,EAC/B,qBAA6D,EAC/D,mBAAyD,EAC3D,iBAAqD,EACjD,qBAA6D;QAEpF,KAAK,EAAE,CAAC;QANsB,gBAAW,GAAX,WAAW,CAAa;QACd,0BAAqB,GAArB,qBAAqB,CAAuB;QAC9C,wBAAmB,GAAnB,mBAAmB,CAAqB;QAC1C,sBAAiB,GAAjB,iBAAiB,CAAmB;QAChC,0BAAqB,GAArB,qBAAqB,CAAuB;QARpE,cAAS,GAAG,IAAI,GAAG,EAAgC,CAAC;QAC7D,cAAS,GAAG,KAAK,CAAC;QAWzB,yDAAyD;QACzD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,qBAAqB,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE;YAC5D,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACtB,CAAC,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC;QACtD,CAAC,CAAC,CAAC,CAAC;IACL,CAAC;IAEQ,OAAO;QACf,yDAAyD;QACzD,KAAK,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;IAEO,WAAW,CAAC,EAAU;QAC7B,MAAM,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QAC9C,IAAI,CAAC,cAAc,EAAE,CAAC;YACrB,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC,CAAC;QAC5C,CAAC;QACD,OAAO,cAAc,CAAC;IACvB,CAAC;IAED,eAAe,CAAC,EAAU;QACzB,OAAO,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC;IACtC,CAAC;IAED,eAAe,CAAC,EAAU;QACzB,OAAO,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC;IACtC,CAAC;IAED,gBAAgB,CAAC,EAAU;QAC1B,OAAO,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC;IACvC,CAAC;IAED,aAAa,CAAC,EAAU;QACvB,OAAO,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC;IACpC,CAAC;IAED,KAAK,CAAC,mBAAmB;QACxB,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC;YACpB,MAAM,QAAQ,EAAE,CAAC;QAClB,CAAC;QACD,MAAM,EAAE,GAAG,MAAM,CAAC,EAAE,sBAAoB,CAAC,OAAO,CAAC,CAAC;QAClD,MAAM,OAAO,GAAG,IAAI,oBAAoB,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC;QACzI,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;QAChC,MAAM,UAAU,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,EAAE;YAC3D,UAAU,CAAC,OAAO,EAAE,CAAC;YACrB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,2BAA2B,GAAG,sBAAsB,IAAI,aAAa,MAAM,GAAG,CAAC,CAAC;YACtG,UAAU,CAAC,GAAG,EAAE;gBACf,OAAO,CAAC,OAAO,EAAE,CAAC;gBAClB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;YAC3B,CAAC,CAAC,CAAC;YAEH,wDAAwD;YACxD,4DAA4D;YAC5D,6DAA6D;YAC7D,4DAA4D;YAC5D,qBAAqB;YACrB,UAAU,CAAC,GAAG,EAAE;gBACf,IAAI,CAAC;oBACJ,OAAO,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,mDAAmD;oBACzE,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,2BAA2B,GAAG,yCAAyC,CAAC,CAAC;oBAChG,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBACnB,CAAC;gBAAC,OAAO,EAAE,EAAE,CAAC;oBACb,yCAAyC;gBAC1C,CAAC;YACF,CAAC,EAAE,IAAI,CAAC,CAAC;QACV,CAAC,CAAC,CAAC;QACH,OAAO,EAAE,EAAE,EAAE,CAAC;IACf,CAAC;IAED,KAAK,CAAC,KAAK,CAAC,EAAU,EAAE,IAAkC;QACzD,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC;YACpB,MAAM,QAAQ,EAAE,CAAC;QAClB,CAAC;QACD,MAAM,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;QACrC,MAAM,IAAI,GAAG,CAAC,4BAA4B,CAAC,CAAC;QAC5C,IAAI,IAAI,CAAC,qBAAqB,CAAC,QAAQ,CAAU,uCAAuC,CAAC,EAAE,CAAC;YAC3F,IAAI,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC;QACvC,CAAC;QACD,OAAO,CAAC,KAAK,CAAC;YACb,GAAG,IAAI;YACP,IAAI,EAAE,eAAe;YACrB,IAAI,EAAE,gBAAgB;YACtB,UAAU,EAAE,4CAA4C;YACxD,IAAI;YACJ,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,6BAA6B,EAAE,IAAI;YACnC,oCAAoC,EAAE,IAAI;YAC1C,aAAa,EAAE,EAAE;SACjB,CAAC,CAAC;QACH,MAAM,GAAG,GAAG,MAAM,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QACnD,OAAO,EAAE,GAAG,EAAE,CAAC;IAChB,CAAC;IAED,KAAK,CAAC,iBAAiB,CAAC,EAAU;QACjC,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC;YACpB,MAAM,QAAQ,EAAE,CAAC;QAClB,CAAC;QACD,MAAM,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QAC9C,IAAI,CAAC,cAAc,EAAE,CAAC;YACrB,OAAO,KAAK,CAAC;QACd,CAAC;QACD,OAAO,cAAc,CAAC,iBAAiB,EAAE,CAAC;IAC3C,CAAC;IAED,KAAK,CAAC,IAAI,CAAC,EAAU;QACpB,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC;YACpB,MAAM,QAAQ,EAAE,CAAC;QAClB,CAAC;QACD,MAAM,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QAC9C,IAAI,CAAC,cAAc,EAAE,CAAC;YACrB,gBAAgB;YAChB,OAAO;QACR,CAAC;QACD,cAAc,CAAC,IAAI,EAAE,CAAC;IACvB,CAAC;IAED,KAAK,CAAC,WAAW;QAChB,KAAK,MAAM,CAAC,EAAE,OAAO,CAAC,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC;YAC1C,OAAO,CAAC,IAAI,EAAE,CAAC;QAChB,CAAC;IACF,CAAC;IAED,KAAK,CAAC,eAAe,CAAC,aAAqB;QAC1C,MAAM,YAAY,GAAoB,EAAE,CAAC;QACzC,KAAK,MAAM,CAAC,EAAE,OAAO,CAAC,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC;YAC1C,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC,CAAC;QACvD,CAAC;QACD,OAAO,QAAQ,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;IACvD,CAAC;;AAlJW,oBAAoB;IAU9B,WAAA,WAAW,CAAA;IACX,WAAA,qBAAqB,CAAA;IACrB,WAAA,mBAAmB,CAAA;IACnB,WAAA,iBAAiB,CAAA;IACjB,WAAA,qBAAqB,CAAA;GAdX,oBAAoB,CAmJhC","file":"extensionHostStarter.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Promises } from '../../../base/common/async.js';\nimport { canceled } from '../../../base/common/errors.js';\nimport { Event } from '../../../base/common/event.js';\nimport { Disposable, IDisposable } from '../../../base/common/lifecycle.js';\nimport { IExtensionHostProcessOptions, IExtensionHostStarter } from '../common/extensionHostStarter.js';\nimport { ILifecycleMainService } from '../../lifecycle/electron-main/lifecycleMainService.js';\nimport { ILogService } from '../../log/common/log.js';\nimport { ITelemetryService } from '../../telemetry/common/telemetry.js';\nimport { WindowUtilityProcess } from '../../utilityProcess/electron-main/utilityProcess.js';\nimport { IWindowsMainService } from '../../windows/electron-main/windows.js';\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\n\nexport class ExtensionHostStarter extends Disposable implements IDisposable, IExtensionHostStarter {\n\n\treadonly _serviceBrand: undefined;\n\n\tprivate static _lastId: number = 0;\n\n\tprivate readonly _extHosts = new Map<string, WindowUtilityProcess>();\n\tprivate _shutdown = false;\n\n\tconstructor(\n\t\t@ILogService private readonly _logService: ILogService,\n\t\t@ILifecycleMainService private readonly _lifecycleMainService: ILifecycleMainService,\n\t\t@IWindowsMainService private readonly _windowsMainService: IWindowsMainService,\n\t\t@ITelemetryService private readonly _telemetryService: ITelemetryService,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t) {\n\t\tsuper();\n\n\t\t// On shutdown: gracefully await extension host shutdowns\n\t\tthis._register(this._lifecycleMainService.onWillShutdown(e => {\n\t\t\tthis._shutdown = true;\n\t\t\te.join('extHostStarter', this._waitForAllExit(6000));\n\t\t}));\n\t}\n\n\toverride dispose(): void {\n\t\t// Intentionally not killing the extension host processes\n\t\tsuper.dispose();\n\t}\n\n\tprivate _getExtHost(id: string): WindowUtilityProcess {\n\t\tconst extHostProcess = this._extHosts.get(id);\n\t\tif (!extHostProcess) {\n\t\t\tthrow new Error(`Unknown extension host!`);\n\t\t}\n\t\treturn extHostProcess;\n\t}\n\n\tonDynamicStdout(id: string): Event<string> {\n\t\treturn this._getExtHost(id).onStdout;\n\t}\n\n\tonDynamicStderr(id: string): Event<string> {\n\t\treturn this._getExtHost(id).onStderr;\n\t}\n\n\tonDynamicMessage(id: string): Event<unknown> {\n\t\treturn this._getExtHost(id).onMessage;\n\t}\n\n\tonDynamicExit(id: string): Event<{ code: number; signal: string }> {\n\t\treturn this._getExtHost(id).onExit;\n\t}\n\n\tasync createExtensionHost(): Promise<{ id: string }> {\n\t\tif (this._shutdown) {\n\t\t\tthrow canceled();\n\t\t}\n\t\tconst id = String(++ExtensionHostStarter._lastId);\n\t\tconst extHost = new WindowUtilityProcess(this._logService, this._windowsMainService, this._telemetryService, this._lifecycleMainService);\n\t\tthis._extHosts.set(id, extHost);\n\t\tconst disposable = extHost.onExit(({ pid, code, signal }) => {\n\t\t\tdisposable.dispose();\n\t\t\tthis._logService.info(`Extension host with pid ${pid} exited with code: ${code}, signal: ${signal}.`);\n\t\t\tsetTimeout(() => {\n\t\t\t\textHost.dispose();\n\t\t\t\tthis._extHosts.delete(id);\n\t\t\t});\n\n\t\t\t// See https://github.com/microsoft/vscode/issues/194477\n\t\t\t// We have observed that sometimes the process sends an exit\n\t\t\t// event, but does not really exit and is stuck in an endless\n\t\t\t// loop. In these cases we kill the process forcefully after\n\t\t\t// a certain timeout.\n\t\t\tsetTimeout(() => {\n\t\t\t\ttry {\n\t\t\t\t\tprocess.kill(pid, 0); // will throw if the process doesn't exist anymore.\n\t\t\t\t\tthis._logService.error(`Extension host with pid ${pid} still exists, forcefully killing it...`);\n\t\t\t\t\tprocess.kill(pid);\n\t\t\t\t} catch (er) {\n\t\t\t\t\t// ignore, as the process is already gone\n\t\t\t\t}\n\t\t\t}, 1000);\n\t\t});\n\t\treturn { id };\n\t}\n\n\tasync start(id: string, opts: IExtensionHostProcessOptions): Promise<{ pid: number | undefined }> {\n\t\tif (this._shutdown) {\n\t\t\tthrow canceled();\n\t\t}\n\t\tconst extHost = this._getExtHost(id);\n\t\tconst args = ['--skipWorkspaceStorageLock'];\n\t\tif (this._configurationService.getValue<boolean>('extensions.supportNodeGlobalNavigator')) {\n\t\t\targs.push('--supportGlobalNavigator');\n\t\t}\n\t\textHost.start({\n\t\t\t...opts,\n\t\t\ttype: 'extensionHost',\n\t\t\tname: 'extension-host',\n\t\t\tentryPoint: 'vs/workbench/api/node/extensionHostProcess',\n\t\t\targs,\n\t\t\texecArgv: opts.execArgv,\n\t\t\tallowLoadingUnsignedLibraries: true,\n\t\t\trespondToAuthRequestsFromMainProcess: true,\n\t\t\tcorrelationId: id\n\t\t});\n\t\tconst pid = await Event.toPromise(extHost.onSpawn);\n\t\treturn { pid };\n\t}\n\n\tasync enableInspectPort(id: string): Promise<boolean> {\n\t\tif (this._shutdown) {\n\t\t\tthrow canceled();\n\t\t}\n\t\tconst extHostProcess = this._extHosts.get(id);\n\t\tif (!extHostProcess) {\n\t\t\treturn false;\n\t\t}\n\t\treturn extHostProcess.enableInspectPort();\n\t}\n\n\tasync kill(id: string): Promise<void> {\n\t\tif (this._shutdown) {\n\t\t\tthrow canceled();\n\t\t}\n\t\tconst extHostProcess = this._extHosts.get(id);\n\t\tif (!extHostProcess) {\n\t\t\t// already gone!\n\t\t\treturn;\n\t\t}\n\t\textHostProcess.kill();\n\t}\n\n\tasync _killAllNow(): Promise<void> {\n\t\tfor (const [, extHost] of this._extHosts) {\n\t\t\textHost.kill();\n\t\t}\n\t}\n\n\tasync _waitForAllExit(maxWaitTimeMs: number): Promise<void> {\n\t\tconst exitPromises: Promise<void>[] = [];\n\t\tfor (const [, extHost] of this._extHosts) {\n\t\t\texitPromises.push(extHost.waitForExit(maxWaitTimeMs));\n\t\t}\n\t\treturn Promises.settled(exitPromises).then(() => { });\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Promises } from '../../../base/common/async.js';\nimport { canceled } from '../../../base/common/errors.js';\nimport { Event } from '../../../base/common/event.js';\nimport { Disposable, IDisposable } from '../../../base/common/lifecycle.js';\nimport { IExtensionHostProcessOptions, IExtensionHostStarter } from '../common/extensionHostStarter.js';\nimport { ILifecycleMainService } from '../../lifecycle/electron-main/lifecycleMainService.js';\nimport { ILogService } from '../../log/common/log.js';\nimport { ITelemetryService } from '../../telemetry/common/telemetry.js';\nimport { WindowUtilityProcess } from '../../utilityProcess/electron-main/utilityProcess.js';\nimport { IWindowsMainService } from '../../windows/electron-main/windows.js';\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\n\nexport class ExtensionHostStarter extends Disposable implements IDisposable, IExtensionHostStarter {\n\n\treadonly _serviceBrand: undefined;\n\n\tprivate static _lastId: number = 0;\n\n\tprivate readonly _extHosts = new Map<string, WindowUtilityProcess>();\n\tprivate _shutdown = false;\n\n\tconstructor(\n\t\t@ILogService private readonly _logService: ILogService,\n\t\t@ILifecycleMainService private readonly _lifecycleMainService: ILifecycleMainService,\n\t\t@IWindowsMainService private readonly _windowsMainService: IWindowsMainService,\n\t\t@ITelemetryService private readonly _telemetryService: ITelemetryService,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t) {\n\t\tsuper();\n\n\t\t// On shutdown: gracefully await extension host shutdowns\n\t\tthis._register(this._lifecycleMainService.onWillShutdown(e => {\n\t\t\tthis._shutdown = true;\n\t\t\te.join('extHostStarter', this._waitForAllExit(6000));\n\t\t}));\n\t}\n\n\toverride dispose(): void {\n\t\t// Intentionally not killing the extension host processes\n\t\tsuper.dispose();\n\t}\n\n\tprivate _getExtHost(id: string): WindowUtilityProcess {\n\t\tconst extHostProcess = this._extHosts.get(id);\n\t\tif (!extHostProcess) {\n\t\t\tthrow new Error(`Unknown extension host!`);\n\t\t}\n\t\treturn extHostProcess;\n\t}\n\n\tonDynamicStdout(id: string): Event<string> {\n\t\treturn this._getExtHost(id).onStdout;\n\t}\n\n\tonDynamicStderr(id: string): Event<string> {\n\t\treturn this._getExtHost(id).onStderr;\n\t}\n\n\tonDynamicMessage(id: string): Event<unknown> {\n\t\treturn this._getExtHost(id).onMessage;\n\t}\n\n\tonDynamicExit(id: string): Event<{ code: number; signal: string }> {\n\t\treturn this._getExtHost(id).onExit;\n\t}\n\n\tasync createExtensionHost(): Promise<{ id: string }> {\n\t\tif (this._shutdown) {\n\t\t\tthrow canceled();\n\t\t}\n\t\tconst id = String(++ExtensionHostStarter._lastId);\n\t\tconst extHost = new WindowUtilityProcess(this._logService, this._windowsMainService, this._telemetryService, this._lifecycleMainService);\n\t\tthis._extHosts.set(id, extHost);\n\t\tconst disposable = extHost.onExit(({ pid, code, signal }) => {\n\t\t\tdisposable.dispose();\n\t\t\tthis._logService.info(`Extension host with pid ${pid} exited with code: ${code}, signal: ${signal}.`);\n\t\t\tsetTimeout(() => {\n\t\t\t\textHost.dispose();\n\t\t\t\tthis._extHosts.delete(id);\n\t\t\t});\n\n\t\t\t// See https://github.com/microsoft/vscode/issues/194477\n\t\t\t// We have observed that sometimes the process sends an exit\n\t\t\t// event, but does not really exit and is stuck in an endless\n\t\t\t// loop. In these cases we kill the process forcefully after\n\t\t\t// a certain timeout.\n\t\t\tsetTimeout(() => {\n\t\t\t\ttry {\n\t\t\t\t\tprocess.kill(pid, 0); // will throw if the process doesn't exist anymore.\n\t\t\t\t\tthis._logService.error(`Extension host with pid ${pid} still exists, forcefully killing it...`);\n\t\t\t\t\tprocess.kill(pid);\n\t\t\t\t} catch (er) {\n\t\t\t\t\t// ignore, as the process is already gone\n\t\t\t\t}\n\t\t\t}, 1000);\n\t\t});\n\t\treturn { id };\n\t}\n\n\tasync start(id: string, opts: IExtensionHostProcessOptions): Promise<{ pid: number | undefined }> {\n\t\tif (this._shutdown) {\n\t\t\tthrow canceled();\n\t\t}\n\t\tconst extHost = this._getExtHost(id);\n\t\tconst args = ['--skipWorkspaceStorageLock'];\n\t\tif (this._configurationService.getValue<boolean>('extensions.supportNodeGlobalNavigator')) {\n\t\t\targs.push('--supportGlobalNavigator');\n\t\t}\n\t\textHost.start({\n\t\t\t...opts,\n\t\t\ttype: 'extensionHost',\n\t\t\tname: 'extension-host',\n\t\t\tentryPoint: 'vs/workbench/api/node/extensionHostProcess',\n\t\t\targs,\n\t\t\texecArgv: opts.execArgv,\n\t\t\tallowLoadingUnsignedLibraries: true,\n\t\t\trespondToAuthRequestsFromMainProcess: true,\n\t\t\tcorrelationId: id\n\t\t});\n\t\tconst pid = await Event.toPromise(extHost.onSpawn);\n\t\treturn { pid };\n\t}\n\n\tasync enableInspectPort(id: string): Promise<boolean> {\n\t\tif (this._shutdown) {\n\t\t\tthrow canceled();\n\t\t}\n\t\tconst extHostProcess = this._extHosts.get(id);\n\t\tif (!extHostProcess) {\n\t\t\treturn false;\n\t\t}\n\t\treturn extHostProcess.enableInspectPort();\n\t}\n\n\tasync kill(id: string): Promise<void> {\n\t\tif (this._shutdown) {\n\t\t\tthrow canceled();\n\t\t}\n\t\tconst extHostProcess = this._extHosts.get(id);\n\t\tif (!extHostProcess) {\n\t\t\t// already gone!\n\t\t\treturn;\n\t\t}\n\t\textHostProcess.kill();\n\t}\n\n\tasync _killAllNow(): Promise<void> {\n\t\tfor (const [, extHost] of this._extHosts) {\n\t\t\textHost.kill();\n\t\t}\n\t}\n\n\tasync _waitForAllExit(maxWaitTimeMs: number): Promise<void> {\n\t\tconst exitPromises: Promise<void>[] = [];\n\t\tfor (const [, extHost] of this._extHosts) {\n\t\t\texitPromises.push(extHost.waitForExit(maxWaitTimeMs));\n\t\t}\n\t\treturn Promises.settled(exitPromises).then(() => { });\n\t}\n}\n"]}