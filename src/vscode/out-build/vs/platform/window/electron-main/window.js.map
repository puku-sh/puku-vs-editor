{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/platform/window/electron-main/window.ts","vs/platform/window/electron-main/window.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,QAAQ,MAAM,UAAU,CAAC;AAShC,OAAO,EAAE,uBAAuB,EAAE,yBAAyB,EAAE,6BAA6B,EAA8B,MAAM,qBAAqB,CAAC;AA2EpJ,MAAM,CAAN,IAAkB,UAgBjB;AAhBD,WAAkB,UAAU;IAE3B;;OAEG;IACH,iDAAW,CAAA;IAEX;;OAEG;IACH,2CAAI,CAAA;IAEJ;;OAEG;IACH,+CAAM,CAAA;AACP,CAAC,EAhBiB,UAAU,KAAV,UAAU,QAgB3B;AAED,MAAM,CAAN,IAAkB,YAqBjB;AArBD,WAAkB,YAAY;IAE7B;;OAEG;IACH,iDAAS,CAAA;IAET;;OAEG;IACH,+CAAI,CAAA;IAEJ;;OAEG;IACH,mDAAM,CAAA;IAEN;;OAEG;IACH,+CAAI,CAAA;AACL,CAAC,EArBiB,YAAY,KAAZ,YAAY,QAqB7B;AAYD,MAAM,CAAC,MAAM,kBAAkB,GAAG,UAAU,IAAI,4BAAoB,EAAE,YAAY,GAAG,KAAK;IACzF,MAAM,IAAI,GAAG,YAAY,CAAC,CAAC,CAAC,6BAA6B,CAAC,CAAC,CAAC,yBAAyB,CAAC;IACtF,OAAO;QACN,KAAK,EAAE,IAAI,CAAC,KAAK;QACjB,MAAM,EAAE,IAAI,CAAC,MAAM;QACnB,IAAI;KACJ,CAAC;AACH,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,qBAAqB,GAAG;IAEpC,gEAAgE;IAChE,8DAA8D;IAC9D,8CAA8C;IAC9C,iEAAiE;IACjE,+DAA+D;IAC/D,0CAA0C;IAE1C,MAAM,KAAK,GAAG,uBAAuB,CAAC,KAAK,CAAC;IAC5C,MAAM,MAAM,GAAG,uBAAuB,CAAC,MAAM,CAAC;IAC9C,MAAM,QAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC,iBAAiB,EAAE,CAAC,QAAQ,CAAC;IAC9D,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACvE,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAEzE,OAAO;QACN,CAAC;QACD,CAAC;QACD,KAAK;QACL,MAAM;QACN,IAAI,2BAAmB;KACvB,CAAC;AACH,CAAC,CAAC;AAEF,MAAM,CAAN,IAAkB,UAKjB;AALD,WAAkB,UAAU;IAC3B,qDAAS,CAAA;IACT,+CAAM,CAAA;IACN,qDAAS,CAAA;IACT,uDAAU,CAAA;AACX,CAAC,EALiB,UAAU,KAAV,UAAU,QAK3B;AAOD,MAAM,CAAN,IAAkB,WAqBjB;AArBD,WAAkB,WAAW;IAE5B;;OAEG;IACH,6DAAgB,CAAA;IAEhB;;OAEG;IACH,6DAAgB,CAAA;IAEhB;;OAEG;IACH,6CAAQ,CAAA;IAER;;OAEG;IACH,yDAAc,CAAA;AACf,CAAC,EArBiB,WAAW,KAAX,WAAW,QAqB5B","file":"window.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport electron from 'electron';\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { Event } from '../../../base/common/event.js';\nimport { IDisposable } from '../../../base/common/lifecycle.js';\nimport { ISerializableCommandAction } from '../../action/common/action.js';\nimport { NativeParsedArgs } from '../../environment/common/argv.js';\nimport { FocusMode } from '../../native/common/native.js';\nimport { IUserDataProfile } from '../../userDataProfile/common/userDataProfile.js';\nimport { ISingleFolderWorkspaceIdentifier, IWorkspaceIdentifier } from '../../workspace/common/workspace.js';\nimport { DEFAULT_AUX_WINDOW_SIZE, DEFAULT_EMPTY_WINDOW_SIZE, DEFAULT_WORKSPACE_WINDOW_SIZE, INativeWindowConfiguration } from '../common/window.js';\n\nexport interface IBaseWindow extends IDisposable {\n\n\treadonly onDidMaximize: Event<void>;\n\treadonly onDidUnmaximize: Event<void>;\n\treadonly onDidTriggerSystemContextMenu: Event<{ readonly x: number; readonly y: number }>;\n\treadonly onDidEnterFullScreen: Event<void>;\n\treadonly onDidLeaveFullScreen: Event<void>;\n\treadonly onDidClose: Event<void>;\n\n\treadonly id: number;\n\treadonly win: electron.BrowserWindow | null;\n\n\treadonly lastFocusTime: number;\n\tfocus(options?: { mode: FocusMode }): void;\n\n\tsetRepresentedFilename(name: string): void;\n\tgetRepresentedFilename(): string | undefined;\n\n\tsetDocumentEdited(edited: boolean): void;\n\tisDocumentEdited(): boolean;\n\n\treadonly isFullScreen: boolean;\n\ttoggleFullScreen(): void;\n\n\tupdateWindowControls(options: { height?: number; backgroundColor?: string; foregroundColor?: string }): void;\n\n\tmatches(webContents: electron.WebContents): boolean;\n}\n\nexport interface ICodeWindow extends IBaseWindow {\n\n\treadonly onWillLoad: Event<ILoadEvent>;\n\treadonly onDidSignalReady: Event<void>;\n\treadonly onDidDestroy: Event<void>;\n\n\treadonly whenClosedOrLoaded: Promise<void>;\n\n\treadonly config: INativeWindowConfiguration | undefined;\n\n\treadonly openedWorkspace?: IWorkspaceIdentifier | ISingleFolderWorkspaceIdentifier;\n\n\treadonly profile?: IUserDataProfile;\n\n\treadonly backupPath?: string;\n\n\treadonly remoteAuthority?: string;\n\n\treadonly isExtensionDevelopmentHost: boolean;\n\treadonly isExtensionTestHost: boolean;\n\n\treadonly isReady: boolean;\n\tready(): Promise<ICodeWindow>;\n\tsetReady(): void;\n\n\taddTabbedWindow(window: ICodeWindow): void;\n\n\tload(config: INativeWindowConfiguration, options?: { isReload?: boolean }): void;\n\treload(cli?: NativeParsedArgs): void;\n\n\tclose(): void;\n\n\tgetBounds(): electron.Rectangle;\n\n\tsend(channel: string, ...args: unknown[]): void;\n\tsendWhenReady(channel: string, token: CancellationToken, ...args: unknown[]): void;\n\n\tupdateTouchBar(items: ISerializableCommandAction[][]): void;\n\n\tnotifyZoomLevel(zoomLevel: number | undefined): void;\n\n\tserializeWindowState(): IWindowState;\n}\n\nexport const enum LoadReason {\n\n\t/**\n\t * The window is loaded for the first time.\n\t */\n\tINITIAL = 1,\n\n\t/**\n\t * The window is loaded into a different workspace context.\n\t */\n\tLOAD,\n\n\t/**\n\t * The window is reloaded.\n\t */\n\tRELOAD\n}\n\nexport const enum UnloadReason {\n\n\t/**\n\t * The window is closed.\n\t */\n\tCLOSE = 1,\n\n\t/**\n\t * All windows unload because the application quits.\n\t */\n\tQUIT,\n\n\t/**\n\t * The window is reloaded.\n\t */\n\tRELOAD,\n\n\t/**\n\t * The window is loaded into a different workspace context.\n\t */\n\tLOAD\n}\n\nexport interface IWindowState {\n\twidth?: number;\n\theight?: number;\n\tx?: number;\n\ty?: number;\n\tmode?: WindowMode;\n\tzoomLevel?: number;\n\treadonly display?: number;\n}\n\nexport const defaultWindowState = function (mode = WindowMode.Normal, hasWorkspace = false): IWindowState {\n\tconst size = hasWorkspace ? DEFAULT_WORKSPACE_WINDOW_SIZE : DEFAULT_EMPTY_WINDOW_SIZE;\n\treturn {\n\t\twidth: size.width,\n\t\theight: size.height,\n\t\tmode\n\t};\n};\n\nexport const defaultAuxWindowState = function (): IWindowState {\n\n\t// Auxiliary windows are being created from a `window.open` call\n\t// that sets `windowFeatures` that encode the desired size and\n\t// position of the new window (`top`, `left`).\n\t// In order to truly override this to a good default window state\n\t// we need to set not only width and height but also x and y to\n\t// a good location on the primary display.\n\n\tconst width = DEFAULT_AUX_WINDOW_SIZE.width;\n\tconst height = DEFAULT_AUX_WINDOW_SIZE.height;\n\tconst workArea = electron.screen.getPrimaryDisplay().workArea;\n\tconst x = Math.max(workArea.x + (workArea.width / 2) - (width / 2), 0);\n\tconst y = Math.max(workArea.y + (workArea.height / 2) - (height / 2), 0);\n\n\treturn {\n\t\tx,\n\t\ty,\n\t\twidth,\n\t\theight,\n\t\tmode: WindowMode.Normal\n\t};\n};\n\nexport const enum WindowMode {\n\tMaximized,\n\tNormal,\n\tMinimized, // not used anymore, but also cannot remove due to existing stored UI state (needs migration)\n\tFullscreen\n}\n\nexport interface ILoadEvent {\n\treadonly workspace: IWorkspaceIdentifier | ISingleFolderWorkspaceIdentifier | undefined;\n\treadonly reason: LoadReason;\n}\n\nexport const enum WindowError {\n\n\t/**\n\t * Maps to the `unresponsive` event on a `BrowserWindow`.\n\t */\n\tUNRESPONSIVE = 1,\n\n\t/**\n\t * Maps to the `render-process-gone` event on a `WebContents`.\n\t */\n\tPROCESS_GONE = 2,\n\n\t/**\n\t * Maps to the `did-fail-load` event on a `WebContents`.\n\t */\n\tLOAD = 3,\n\n\t/**\n\t * Maps to the `responsive` event on a `BrowserWindow`.\n\t */\n\tRESPONSIVE = 4,\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport electron from 'electron';\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { Event } from '../../../base/common/event.js';\nimport { IDisposable } from '../../../base/common/lifecycle.js';\nimport { ISerializableCommandAction } from '../../action/common/action.js';\nimport { NativeParsedArgs } from '../../environment/common/argv.js';\nimport { FocusMode } from '../../native/common/native.js';\nimport { IUserDataProfile } from '../../userDataProfile/common/userDataProfile.js';\nimport { ISingleFolderWorkspaceIdentifier, IWorkspaceIdentifier } from '../../workspace/common/workspace.js';\nimport { DEFAULT_AUX_WINDOW_SIZE, DEFAULT_EMPTY_WINDOW_SIZE, DEFAULT_WORKSPACE_WINDOW_SIZE, INativeWindowConfiguration } from '../common/window.js';\n\nexport interface IBaseWindow extends IDisposable {\n\n\treadonly onDidMaximize: Event<void>;\n\treadonly onDidUnmaximize: Event<void>;\n\treadonly onDidTriggerSystemContextMenu: Event<{ readonly x: number; readonly y: number }>;\n\treadonly onDidEnterFullScreen: Event<void>;\n\treadonly onDidLeaveFullScreen: Event<void>;\n\treadonly onDidClose: Event<void>;\n\n\treadonly id: number;\n\treadonly win: electron.BrowserWindow | null;\n\n\treadonly lastFocusTime: number;\n\tfocus(options?: { mode: FocusMode }): void;\n\n\tsetRepresentedFilename(name: string): void;\n\tgetRepresentedFilename(): string | undefined;\n\n\tsetDocumentEdited(edited: boolean): void;\n\tisDocumentEdited(): boolean;\n\n\treadonly isFullScreen: boolean;\n\ttoggleFullScreen(): void;\n\n\tupdateWindowControls(options: { height?: number; backgroundColor?: string; foregroundColor?: string }): void;\n\n\tmatches(webContents: electron.WebContents): boolean;\n}\n\nexport interface ICodeWindow extends IBaseWindow {\n\n\treadonly onWillLoad: Event<ILoadEvent>;\n\treadonly onDidSignalReady: Event<void>;\n\treadonly onDidDestroy: Event<void>;\n\n\treadonly whenClosedOrLoaded: Promise<void>;\n\n\treadonly config: INativeWindowConfiguration | undefined;\n\n\treadonly openedWorkspace?: IWorkspaceIdentifier | ISingleFolderWorkspaceIdentifier;\n\n\treadonly profile?: IUserDataProfile;\n\n\treadonly backupPath?: string;\n\n\treadonly remoteAuthority?: string;\n\n\treadonly isExtensionDevelopmentHost: boolean;\n\treadonly isExtensionTestHost: boolean;\n\n\treadonly isReady: boolean;\n\tready(): Promise<ICodeWindow>;\n\tsetReady(): void;\n\n\taddTabbedWindow(window: ICodeWindow): void;\n\n\tload(config: INativeWindowConfiguration, options?: { isReload?: boolean }): void;\n\treload(cli?: NativeParsedArgs): void;\n\n\tclose(): void;\n\n\tgetBounds(): electron.Rectangle;\n\n\tsend(channel: string, ...args: unknown[]): void;\n\tsendWhenReady(channel: string, token: CancellationToken, ...args: unknown[]): void;\n\n\tupdateTouchBar(items: ISerializableCommandAction[][]): void;\n\n\tnotifyZoomLevel(zoomLevel: number | undefined): void;\n\n\tserializeWindowState(): IWindowState;\n}\n\nexport const enum LoadReason {\n\n\t/**\n\t * The window is loaded for the first time.\n\t */\n\tINITIAL = 1,\n\n\t/**\n\t * The window is loaded into a different workspace context.\n\t */\n\tLOAD,\n\n\t/**\n\t * The window is reloaded.\n\t */\n\tRELOAD\n}\n\nexport const enum UnloadReason {\n\n\t/**\n\t * The window is closed.\n\t */\n\tCLOSE = 1,\n\n\t/**\n\t * All windows unload because the application quits.\n\t */\n\tQUIT,\n\n\t/**\n\t * The window is reloaded.\n\t */\n\tRELOAD,\n\n\t/**\n\t * The window is loaded into a different workspace context.\n\t */\n\tLOAD\n}\n\nexport interface IWindowState {\n\twidth?: number;\n\theight?: number;\n\tx?: number;\n\ty?: number;\n\tmode?: WindowMode;\n\tzoomLevel?: number;\n\treadonly display?: number;\n}\n\nexport const defaultWindowState = function (mode = WindowMode.Normal, hasWorkspace = false): IWindowState {\n\tconst size = hasWorkspace ? DEFAULT_WORKSPACE_WINDOW_SIZE : DEFAULT_EMPTY_WINDOW_SIZE;\n\treturn {\n\t\twidth: size.width,\n\t\theight: size.height,\n\t\tmode\n\t};\n};\n\nexport const defaultAuxWindowState = function (): IWindowState {\n\n\t// Auxiliary windows are being created from a `window.open` call\n\t// that sets `windowFeatures` that encode the desired size and\n\t// position of the new window (`top`, `left`).\n\t// In order to truly override this to a good default window state\n\t// we need to set not only width and height but also x and y to\n\t// a good location on the primary display.\n\n\tconst width = DEFAULT_AUX_WINDOW_SIZE.width;\n\tconst height = DEFAULT_AUX_WINDOW_SIZE.height;\n\tconst workArea = electron.screen.getPrimaryDisplay().workArea;\n\tconst x = Math.max(workArea.x + (workArea.width / 2) - (width / 2), 0);\n\tconst y = Math.max(workArea.y + (workArea.height / 2) - (height / 2), 0);\n\n\treturn {\n\t\tx,\n\t\ty,\n\t\twidth,\n\t\theight,\n\t\tmode: WindowMode.Normal\n\t};\n};\n\nexport const enum WindowMode {\n\tMaximized,\n\tNormal,\n\tMinimized, // not used anymore, but also cannot remove due to existing stored UI state (needs migration)\n\tFullscreen\n}\n\nexport interface ILoadEvent {\n\treadonly workspace: IWorkspaceIdentifier | ISingleFolderWorkspaceIdentifier | undefined;\n\treadonly reason: LoadReason;\n}\n\nexport const enum WindowError {\n\n\t/**\n\t * Maps to the `unresponsive` event on a `BrowserWindow`.\n\t */\n\tUNRESPONSIVE = 1,\n\n\t/**\n\t * Maps to the `render-process-gone` event on a `WebContents`.\n\t */\n\tPROCESS_GONE = 2,\n\n\t/**\n\t * Maps to the `did-fail-load` event on a `WebContents`.\n\t */\n\tLOAD = 3,\n\n\t/**\n\t * Maps to the `responsive` event on a `BrowserWindow`.\n\t */\n\tRESPONSIVE = 4,\n}\n"]}