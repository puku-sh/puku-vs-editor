{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/platform/window/electron-browser/window.ts","vs/platform/window/electron-browser/window.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,EAAE,YAAY,EAAE,aAAa,EAAE,YAAY,EAAE,MAAM,kCAAkC,CAAC;AAC7F,OAAO,EAAE,eAAe,EAAE,UAAU,EAAE,MAAM,8BAA8B,CAAC;AAC3E,OAAO,EAAE,UAAU,EAAE,MAAM,iCAAiC,CAAC;AAE7D,OAAO,EAAmB,WAAW,EAAE,QAAQ,EAAE,MAAM,yDAAyD,CAAC;AACjH,OAAO,EAAE,qBAAqB,EAAE,MAAM,qBAAqB,CAAC;AAE5D,MAAM,CAAN,IAAY,eAGX;AAHD,WAAY,eAAe;IAC1B,uEAAiB,CAAA;IACjB,mEAAW,CAAA;AACZ,CAAC,EAHW,eAAe,KAAf,eAAe,QAG1B;AAED,MAAM,CAAC,MAAM,cAAc,GAAG,CAAC,CAAC;AAChC,MAAM,CAAC,MAAM,cAAc,GAAG,CAAC,CAAC,CAAC;AAEjC;;;GAGG;AACH,MAAM,UAAU,SAAS,CAAC,SAAiB,EAAE,MAAgC;IAC5E,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE,cAAc,CAAC,EAAE,cAAc,CAAC,CAAC,CAAC,mCAAmC;IAE9G,MAAM,aAAa,GAAa,EAAE,CAAC;IACnC,IAAI,MAAM,KAAK,eAAe,CAAC,aAAa,EAAE,CAAC;QAC9C,aAAa,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC;IACvC,CAAC;SAAM,IAAI,MAAM,KAAK,eAAe,CAAC,WAAW,EAAE,CAAC;QACnD,aAAa,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,MAAM,EAAE,EAAE,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;IAC7E,CAAC;SAAM,CAAC;QACP,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC5B,CAAC;IAED,KAAK,MAAM,YAAY,IAAI,aAAa,EAAE,CAAC;QAC1C,UAAU,CAAC,YAAY,CAAC,EAAE,QAAQ,EAAE,YAAY,CAAC,SAAS,CAAC,CAAC;QAC5D,aAAa,CAAC,qBAAqB,CAAC,SAAS,CAAC,EAAE,YAAY,CAAC,CAAC;QAC9D,YAAY,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;IACvC,CAAC;AACF,CAAC;AAED,SAAS,UAAU,CAAC,GAAW;IAC9B,IAAI,GAAG,KAAK,UAAU,EAAE,CAAC;QACxB,cAAc;QACd,OAAO,EAAE,WAAW,EAAE,QAAQ,EAAE,CAAC;IAClC,CAAC;SAAM,CAAC;QACP,mBAAmB;QACnB,MAAM,eAAe,GAAG,GAA6C,CAAC;QACtE,IAAI,eAAe,EAAE,MAAM,EAAE,WAAW,IAAI,eAAe,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC;YAC/E,OAAO,eAAe,CAAC,MAAM,CAAC;QAC/B,CAAC;IACF,CAAC;IAED,OAAO,SAAS,CAAC;AAClB,CAAC;AAED,MAAM,UAAU,MAAM,CAAC,MAAgC;IACtD,SAAS,CAAC,YAAY,CAAC,OAAO,MAAM,KAAK,QAAQ,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC;AAC9F,CAAC;AAED,MAAM,UAAU,OAAO,CAAC,MAAgC;IACvD,SAAS,CAAC,YAAY,CAAC,OAAO,MAAM,KAAK,QAAQ,CAAC,CAAC,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC;AAC9F,CAAC;AA0BD,YAAY","file":"window.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { getZoomLevel, setZoomFactor, setZoomLevel } from '../../../base/browser/browser.js';\nimport { getActiveWindow, getWindows } from '../../../base/browser/dom.js';\nimport { mainWindow } from '../../../base/browser/window.js';\nimport { ISandboxConfiguration } from '../../../base/parts/sandbox/common/sandboxTypes.js';\nimport { ISandboxGlobals, ipcRenderer, webFrame } from '../../../base/parts/sandbox/electron-browser/globals.js';\nimport { zoomLevelToZoomFactor } from '../common/window.js';\n\nexport enum ApplyZoomTarget {\n\tACTIVE_WINDOW = 1,\n\tALL_WINDOWS\n}\n\nexport const MAX_ZOOM_LEVEL = 8;\nexport const MIN_ZOOM_LEVEL = -8;\n\n/**\n * Apply a zoom level to the window. Also sets it in our in-memory\n * browser helper so that it can be accessed in non-electron layers.\n */\nexport function applyZoom(zoomLevel: number, target: ApplyZoomTarget | Window): void {\n\tzoomLevel = Math.min(Math.max(zoomLevel, MIN_ZOOM_LEVEL), MAX_ZOOM_LEVEL); // cap zoom levels between -8 and 8\n\n\tconst targetWindows: Window[] = [];\n\tif (target === ApplyZoomTarget.ACTIVE_WINDOW) {\n\t\ttargetWindows.push(getActiveWindow());\n\t} else if (target === ApplyZoomTarget.ALL_WINDOWS) {\n\t\ttargetWindows.push(...Array.from(getWindows()).map(({ window }) => window));\n\t} else {\n\t\ttargetWindows.push(target);\n\t}\n\n\tfor (const targetWindow of targetWindows) {\n\t\tgetGlobals(targetWindow)?.webFrame?.setZoomLevel(zoomLevel);\n\t\tsetZoomFactor(zoomLevelToZoomFactor(zoomLevel), targetWindow);\n\t\tsetZoomLevel(zoomLevel, targetWindow);\n\t}\n}\n\nfunction getGlobals(win: Window): ISandboxGlobals | undefined {\n\tif (win === mainWindow) {\n\t\t// main window\n\t\treturn { ipcRenderer, webFrame };\n\t} else {\n\t\t// auxiliary window\n\t\tconst auxiliaryWindow = win as unknown as { vscode: ISandboxGlobals };\n\t\tif (auxiliaryWindow?.vscode?.ipcRenderer && auxiliaryWindow?.vscode?.webFrame) {\n\t\t\treturn auxiliaryWindow.vscode;\n\t\t}\n\t}\n\n\treturn undefined;\n}\n\nexport function zoomIn(target: ApplyZoomTarget | Window): void {\n\tapplyZoom(getZoomLevel(typeof target === 'number' ? getActiveWindow() : target) + 1, target);\n}\n\nexport function zoomOut(target: ApplyZoomTarget | Window): void {\n\tapplyZoom(getZoomLevel(typeof target === 'number' ? getActiveWindow() : target) - 1, target);\n}\n\n//#region Bootstrap Window\n\nexport interface ILoadOptions<T extends ISandboxConfiguration = ISandboxConfiguration> {\n\tconfigureDeveloperSettings?: (config: T) => {\n\t\tforceDisableShowDevtoolsOnError?: boolean;\n\t\tforceEnableDeveloperKeybindings?: boolean;\n\t\tdisallowReloadKeybinding?: boolean;\n\t\tremoveDeveloperKeybindingsAfterLoad?: boolean;\n\t};\n\tbeforeImport?: (config: T) => void;\n}\n\nexport interface ILoadResult<M, T> {\n\treadonly result: M;\n\treadonly configuration: T;\n}\n\nexport interface IBootstrapWindow {\n\tload<M, T extends ISandboxConfiguration = ISandboxConfiguration>(\n\t\tesModule: string,\n\t\toptions: ILoadOptions<T>\n\t): Promise<ILoadResult<M, T>>;\n}\n\n//#endregion\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { getZoomLevel, setZoomFactor, setZoomLevel } from '../../../base/browser/browser.js';\nimport { getActiveWindow, getWindows } from '../../../base/browser/dom.js';\nimport { mainWindow } from '../../../base/browser/window.js';\nimport { ISandboxConfiguration } from '../../../base/parts/sandbox/common/sandboxTypes.js';\nimport { ISandboxGlobals, ipcRenderer, webFrame } from '../../../base/parts/sandbox/electron-browser/globals.js';\nimport { zoomLevelToZoomFactor } from '../common/window.js';\n\nexport enum ApplyZoomTarget {\n\tACTIVE_WINDOW = 1,\n\tALL_WINDOWS\n}\n\nexport const MAX_ZOOM_LEVEL = 8;\nexport const MIN_ZOOM_LEVEL = -8;\n\n/**\n * Apply a zoom level to the window. Also sets it in our in-memory\n * browser helper so that it can be accessed in non-electron layers.\n */\nexport function applyZoom(zoomLevel: number, target: ApplyZoomTarget | Window): void {\n\tzoomLevel = Math.min(Math.max(zoomLevel, MIN_ZOOM_LEVEL), MAX_ZOOM_LEVEL); // cap zoom levels between -8 and 8\n\n\tconst targetWindows: Window[] = [];\n\tif (target === ApplyZoomTarget.ACTIVE_WINDOW) {\n\t\ttargetWindows.push(getActiveWindow());\n\t} else if (target === ApplyZoomTarget.ALL_WINDOWS) {\n\t\ttargetWindows.push(...Array.from(getWindows()).map(({ window }) => window));\n\t} else {\n\t\ttargetWindows.push(target);\n\t}\n\n\tfor (const targetWindow of targetWindows) {\n\t\tgetGlobals(targetWindow)?.webFrame?.setZoomLevel(zoomLevel);\n\t\tsetZoomFactor(zoomLevelToZoomFactor(zoomLevel), targetWindow);\n\t\tsetZoomLevel(zoomLevel, targetWindow);\n\t}\n}\n\nfunction getGlobals(win: Window): ISandboxGlobals | undefined {\n\tif (win === mainWindow) {\n\t\t// main window\n\t\treturn { ipcRenderer, webFrame };\n\t} else {\n\t\t// auxiliary window\n\t\tconst auxiliaryWindow = win as unknown as { vscode: ISandboxGlobals };\n\t\tif (auxiliaryWindow?.vscode?.ipcRenderer && auxiliaryWindow?.vscode?.webFrame) {\n\t\t\treturn auxiliaryWindow.vscode;\n\t\t}\n\t}\n\n\treturn undefined;\n}\n\nexport function zoomIn(target: ApplyZoomTarget | Window): void {\n\tapplyZoom(getZoomLevel(typeof target === 'number' ? getActiveWindow() : target) + 1, target);\n}\n\nexport function zoomOut(target: ApplyZoomTarget | Window): void {\n\tapplyZoom(getZoomLevel(typeof target === 'number' ? getActiveWindow() : target) - 1, target);\n}\n\n//#region Bootstrap Window\n\nexport interface ILoadOptions<T extends ISandboxConfiguration = ISandboxConfiguration> {\n\tconfigureDeveloperSettings?: (config: T) => {\n\t\tforceDisableShowDevtoolsOnError?: boolean;\n\t\tforceEnableDeveloperKeybindings?: boolean;\n\t\tdisallowReloadKeybinding?: boolean;\n\t\tremoveDeveloperKeybindingsAfterLoad?: boolean;\n\t};\n\tbeforeImport?: (config: T) => void;\n}\n\nexport interface ILoadResult<M, T> {\n\treadonly result: M;\n\treadonly configuration: T;\n}\n\nexport interface IBootstrapWindow {\n\tload<M, T extends ISandboxConfiguration = ISandboxConfiguration>(\n\t\tesModule: string,\n\t\toptions: ILoadOptions<T>\n\t): Promise<ILoadResult<M, T>>;\n}\n\n//#endregion\n"]}