{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/platform/files/node/watcher/watcherClient.ts","vs/platform/files/node/watcher/watcherClient.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAGhG,OAAO,EAAE,UAAU,EAAE,MAAM,oCAAoC,CAAC;AAChE,OAAO,EAAE,kBAAkB,EAAE,YAAY,EAAE,MAAM,0CAA0C,CAAC;AAC5F,OAAO,EAAE,MAAM,EAAE,MAAM,2CAA2C,CAAC;AAEnE,OAAO,EAAE,8BAA8B,EAAkC,MAAM,yBAAyB,CAAC;AAEzG,MAAM,OAAO,sBAAuB,SAAQ,8BAA8B;IAEzE,YACC,aAA+C,EAC/C,YAAwC,EACxC,cAAuB;QAEvB,KAAK,CAAC,aAAa,EAAE,YAAY,EAAE,cAAc,CAAC,CAAC;QAEnD,IAAI,CAAC,IAAI,EAAE,CAAC;IACb,CAAC;IAEkB,aAAa,CAAC,WAA4B;QAE5D,4DAA4D;QAC5D,6DAA6D;QAC7D,MAAM,MAAM,GAAG,WAAW,CAAC,GAAG,CAAC,IAAI,MAAM,CACxC,UAAU,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC,MAAM,EAC7C;YACC,UAAU,EAAE,cAAc;YAC1B,IAAI,EAAE,CAAC,oBAAoB,CAAC;YAC5B,GAAG,EAAE;gBACJ,qBAAqB,EAAE,4CAA4C;gBACnE,mBAAmB,EAAE,MAAM;gBAC3B,sBAAsB,EAAE,MAAM,CAAC,8CAA8C;aAC7E;SACD,CACD,CAAC,CAAC;QAEH,yDAAyD;QACzD,WAAW,CAAC,GAAG,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,kCAAkC,IAAI,aAAa,MAAM,UAAU,CAAC,CAAC,CAAC,CAAC;QAElJ,OAAO,YAAY,CAAC,SAAS,CAAoB,kBAAkB,CAAC,MAAM,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;IACpG,CAAC;CACD","file":"watcherClient.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { FileAccess } from '../../../../base/common/network.js';\nimport { getNextTickChannel, ProxyChannel } from '../../../../base/parts/ipc/common/ipc.js';\nimport { Client } from '../../../../base/parts/ipc/node/ipc.cp.js';\nimport { IFileChange } from '../../common/files.js';\nimport { AbstractUniversalWatcherClient, ILogMessage, IUniversalWatcher } from '../../common/watcher.js';\n\nexport class UniversalWatcherClient extends AbstractUniversalWatcherClient {\n\n\tconstructor(\n\t\tonFileChanges: (changes: IFileChange[]) => void,\n\t\tonLogMessage: (msg: ILogMessage) => void,\n\t\tverboseLogging: boolean\n\t) {\n\t\tsuper(onFileChanges, onLogMessage, verboseLogging);\n\n\t\tthis.init();\n\t}\n\n\tprotected override createWatcher(disposables: DisposableStore): IUniversalWatcher {\n\n\t\t// Fork the universal file watcher and build a client around\n\t\t// its server for passing over requests and receiving events.\n\t\tconst client = disposables.add(new Client(\n\t\t\tFileAccess.asFileUri('bootstrap-fork').fsPath,\n\t\t\t{\n\t\t\t\tserverName: 'File Watcher',\n\t\t\t\targs: ['--type=fileWatcher'],\n\t\t\t\tenv: {\n\t\t\t\t\tVSCODE_ESM_ENTRYPOINT: 'vs/platform/files/node/watcher/watcherMain',\n\t\t\t\t\tVSCODE_PIPE_LOGGING: 'true',\n\t\t\t\t\tVSCODE_VERBOSE_LOGGING: 'true' // transmit console logs from server to client\n\t\t\t\t}\n\t\t\t}\n\t\t));\n\n\t\t// React on unexpected termination of the watcher process\n\t\tdisposables.add(client.onDidProcessExit(({ code, signal }) => this.onError(`terminated by itself with code ${code}, signal: ${signal} (ETERM)`)));\n\n\t\treturn ProxyChannel.toService<IUniversalWatcher>(getNextTickChannel(client.getChannel('watcher')));\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { FileAccess } from '../../../../base/common/network.js';\nimport { getNextTickChannel, ProxyChannel } from '../../../../base/parts/ipc/common/ipc.js';\nimport { Client } from '../../../../base/parts/ipc/node/ipc.cp.js';\nimport { IFileChange } from '../../common/files.js';\nimport { AbstractUniversalWatcherClient, ILogMessage, IUniversalWatcher } from '../../common/watcher.js';\n\nexport class UniversalWatcherClient extends AbstractUniversalWatcherClient {\n\n\tconstructor(\n\t\tonFileChanges: (changes: IFileChange[]) => void,\n\t\tonLogMessage: (msg: ILogMessage) => void,\n\t\tverboseLogging: boolean\n\t) {\n\t\tsuper(onFileChanges, onLogMessage, verboseLogging);\n\n\t\tthis.init();\n\t}\n\n\tprotected override createWatcher(disposables: DisposableStore): IUniversalWatcher {\n\n\t\t// Fork the universal file watcher and build a client around\n\t\t// its server for passing over requests and receiving events.\n\t\tconst client = disposables.add(new Client(\n\t\t\tFileAccess.asFileUri('bootstrap-fork').fsPath,\n\t\t\t{\n\t\t\t\tserverName: 'File Watcher',\n\t\t\t\targs: ['--type=fileWatcher'],\n\t\t\t\tenv: {\n\t\t\t\t\tVSCODE_ESM_ENTRYPOINT: 'vs/platform/files/node/watcher/watcherMain',\n\t\t\t\t\tVSCODE_PIPE_LOGGING: 'true',\n\t\t\t\t\tVSCODE_VERBOSE_LOGGING: 'true' // transmit console logs from server to client\n\t\t\t\t}\n\t\t\t}\n\t\t));\n\n\t\t// React on unexpected termination of the watcher process\n\t\tdisposables.add(client.onDidProcessExit(({ code, signal }) => this.onError(`terminated by itself with code ${code}, signal: ${signal} (ETERM)`)));\n\n\t\treturn ProxyChannel.toService<IUniversalWatcher>(getNextTickChannel(client.getChannel('watcher')));\n\t}\n}\n"]}