{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/platform/layout/browser/zIndexRegistry.ts","vs/platform/layout/browser/zIndexRegistry.ts"],"names":[],"mappings":"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","file":"zIndexRegistry.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { clearNode } from '../../../base/browser/dom.js';\nimport { createCSSRule, createStyleSheet } from '../../../base/browser/domStylesheets.js';\nimport { RunOnceScheduler } from '../../../base/common/async.js';\n\nexport enum ZIndex {\n\tBase = 0,\n\tSash = 35,\n\tSuggestWidget = 40,\n\tHover = 50,\n\tDragImage = 1000,\n\tMenubarMenuItemsHolder = 2000, // quick-input-widget\n\tContextView = 2500,\n\tModalDialog = 2600,\n\tPaneDropOverlay = 10000\n}\n\nconst ZIndexValues = Object.keys(ZIndex).filter(key => !isNaN(Number(key))).map(key => Number(key)).sort((a, b) => b - a);\nfunction findBase(z: number) {\n\tfor (const zi of ZIndexValues) {\n\t\tif (z >= zi) {\n\t\t\treturn zi;\n\t\t}\n\t}\n\n\treturn -1;\n}\n\nclass ZIndexRegistry {\n\tprivate styleSheet: HTMLStyleElement;\n\tprivate zIndexMap: Map<string, number>;\n\tprivate scheduler: RunOnceScheduler;\n\tconstructor() {\n\t\tthis.styleSheet = createStyleSheet();\n\t\tthis.zIndexMap = new Map<string, number>();\n\t\tthis.scheduler = new RunOnceScheduler(() => this.updateStyleElement(), 200);\n\t}\n\n\tregisterZIndex(relativeLayer: ZIndex, z: number, name: string): string {\n\t\tif (this.zIndexMap.get(name)) {\n\t\t\tthrow new Error(`z-index with name ${name} has already been registered.`);\n\t\t}\n\n\t\tconst proposedZValue = relativeLayer + z;\n\t\tif (findBase(proposedZValue) !== relativeLayer) {\n\t\t\tthrow new Error(`Relative layer: ${relativeLayer} + z-index: ${z} exceeds next layer ${proposedZValue}.`);\n\t\t}\n\n\t\tthis.zIndexMap.set(name, proposedZValue);\n\t\tthis.scheduler.schedule();\n\t\treturn this.getVarName(name);\n\t}\n\n\tprivate getVarName(name: string): string {\n\t\treturn `--z-index-${name}`;\n\t}\n\n\tprivate updateStyleElement(): void {\n\t\tclearNode(this.styleSheet);\n\t\tlet ruleBuilder = '';\n\t\tthis.zIndexMap.forEach((zIndex, name) => {\n\t\t\truleBuilder += `${this.getVarName(name)}: ${zIndex};\\n`;\n\t\t});\n\t\tcreateCSSRule(':root', ruleBuilder, this.styleSheet);\n\t}\n}\n\nconst zIndexRegistry = new ZIndexRegistry();\n\nexport function registerZIndex(relativeLayer: ZIndex, z: number, name: string): string {\n\treturn zIndexRegistry.registerZIndex(relativeLayer, z, name);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { clearNode } from '../../../base/browser/dom.js';\nimport { createCSSRule, createStyleSheet } from '../../../base/browser/domStylesheets.js';\nimport { RunOnceScheduler } from '../../../base/common/async.js';\n\nexport enum ZIndex {\n\tBase = 0,\n\tSash = 35,\n\tSuggestWidget = 40,\n\tHover = 50,\n\tDragImage = 1000,\n\tMenubarMenuItemsHolder = 2000, // quick-input-widget\n\tContextView = 2500,\n\tModalDialog = 2600,\n\tPaneDropOverlay = 10000\n}\n\nconst ZIndexValues = Object.keys(ZIndex).filter(key => !isNaN(Number(key))).map(key => Number(key)).sort((a, b) => b - a);\nfunction findBase(z: number) {\n\tfor (const zi of ZIndexValues) {\n\t\tif (z >= zi) {\n\t\t\treturn zi;\n\t\t}\n\t}\n\n\treturn -1;\n}\n\nclass ZIndexRegistry {\n\tprivate styleSheet: HTMLStyleElement;\n\tprivate zIndexMap: Map<string, number>;\n\tprivate scheduler: RunOnceScheduler;\n\tconstructor() {\n\t\tthis.styleSheet = createStyleSheet();\n\t\tthis.zIndexMap = new Map<string, number>();\n\t\tthis.scheduler = new RunOnceScheduler(() => this.updateStyleElement(), 200);\n\t}\n\n\tregisterZIndex(relativeLayer: ZIndex, z: number, name: string): string {\n\t\tif (this.zIndexMap.get(name)) {\n\t\t\tthrow new Error(`z-index with name ${name} has already been registered.`);\n\t\t}\n\n\t\tconst proposedZValue = relativeLayer + z;\n\t\tif (findBase(proposedZValue) !== relativeLayer) {\n\t\t\tthrow new Error(`Relative layer: ${relativeLayer} + z-index: ${z} exceeds next layer ${proposedZValue}.`);\n\t\t}\n\n\t\tthis.zIndexMap.set(name, proposedZValue);\n\t\tthis.scheduler.schedule();\n\t\treturn this.getVarName(name);\n\t}\n\n\tprivate getVarName(name: string): string {\n\t\treturn `--z-index-${name}`;\n\t}\n\n\tprivate updateStyleElement(): void {\n\t\tclearNode(this.styleSheet);\n\t\tlet ruleBuilder = '';\n\t\tthis.zIndexMap.forEach((zIndex, name) => {\n\t\t\truleBuilder += `${this.getVarName(name)}: ${zIndex};\\n`;\n\t\t});\n\t\tcreateCSSRule(':root', ruleBuilder, this.styleSheet);\n\t}\n}\n\nconst zIndexRegistry = new ZIndexRegistry();\n\nexport function registerZIndex(relativeLayer: ZIndex, z: number, name: string): string {\n\treturn zIndexRegistry.registerZIndex(relativeLayer, z, name);\n}\n"]}