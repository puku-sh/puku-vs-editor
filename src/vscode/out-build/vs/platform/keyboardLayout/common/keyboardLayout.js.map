{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/platform/keyboardLayout/common/keyboardLayout.ts","vs/platform/keyboardLayout/common/keyboardLayout.ts"],"names":[],"mappings":"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","file":"keyboardLayout.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Event } from '../../../base/common/event.js';\nimport { ScanCode, ScanCodeUtils } from '../../../base/common/keyCodes.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nimport { IKeyboardEvent } from '../../keybinding/common/keybinding.js';\nimport { IKeyboardMapper } from './keyboardMapper.js';\n\nexport const IKeyboardLayoutService = createDecorator<IKeyboardLayoutService>('keyboardLayoutService');\n\nexport interface IWindowsKeyMapping {\n\tvkey: string;\n\tvalue: string;\n\twithShift: string;\n\twithAltGr: string;\n\twithShiftAltGr: string;\n}\nexport interface IWindowsKeyboardMapping {\n\t[code: string]: IWindowsKeyMapping;\n}\nexport interface ILinuxKeyMapping {\n\tvalue: string;\n\twithShift: string;\n\twithAltGr: string;\n\twithShiftAltGr: string;\n}\nexport interface ILinuxKeyboardMapping {\n\t[code: string]: ILinuxKeyMapping;\n}\nexport interface IMacKeyMapping {\n\tvalue: string;\n\tvalueIsDeadKey: boolean;\n\twithShift: string;\n\twithShiftIsDeadKey: boolean;\n\twithAltGr: string;\n\twithAltGrIsDeadKey: boolean;\n\twithShiftAltGr: string;\n\twithShiftAltGrIsDeadKey: boolean;\n}\nexport interface IMacKeyboardMapping {\n\t[code: string]: IMacKeyMapping;\n}\n\nexport type IMacLinuxKeyMapping = IMacKeyMapping | ILinuxKeyMapping;\nexport type IMacLinuxKeyboardMapping = IMacKeyboardMapping | ILinuxKeyboardMapping;\nexport type IKeyboardMapping = IWindowsKeyboardMapping | ILinuxKeyboardMapping | IMacKeyboardMapping;\n\nexport interface IWindowsKeyboardLayoutInfo {\n\tname: string;\n\tid: string;\n\ttext: string;\n}\n\nexport interface ILinuxKeyboardLayoutInfo {\n\tmodel: string;\n\tgroup: number;\n\tlayout: string;\n\tvariant: string;\n\toptions: string;\n\trules: string;\n}\n\nexport interface IMacKeyboardLayoutInfo {\n\tid: string;\n\tlang: string;\n\tlocalizedName?: string;\n}\n\nexport type IKeyboardLayoutInfo = (IWindowsKeyboardLayoutInfo | ILinuxKeyboardLayoutInfo | IMacKeyboardLayoutInfo) & { isUserKeyboardLayout?: boolean; isUSStandard?: true };\n\nexport interface IKeyboardLayoutService {\n\treadonly _serviceBrand: undefined;\n\n\treadonly onDidChangeKeyboardLayout: Event<void>;\n\n\tgetRawKeyboardMapping(): IKeyboardMapping | null;\n\tgetCurrentKeyboardLayout(): IKeyboardLayoutInfo | null;\n\tgetAllKeyboardLayouts(): IKeyboardLayoutInfo[];\n\tgetKeyboardMapper(): IKeyboardMapper;\n\tvalidateCurrentKeyboardMapping(keyboardEvent: IKeyboardEvent): void;\n}\n\nexport function areKeyboardLayoutsEqual(a: IKeyboardLayoutInfo | null, b: IKeyboardLayoutInfo | null): boolean {\n\tif (!a || !b) {\n\t\treturn false;\n\t}\n\n\tif ((<IWindowsKeyboardLayoutInfo>a).name && (<IWindowsKeyboardLayoutInfo>b).name && (<IWindowsKeyboardLayoutInfo>a).name === (<IWindowsKeyboardLayoutInfo>b).name) {\n\t\treturn true;\n\t}\n\n\tif ((<IMacKeyboardLayoutInfo>a).id && (<IMacKeyboardLayoutInfo>b).id && (<IMacKeyboardLayoutInfo>a).id === (<IMacKeyboardLayoutInfo>b).id) {\n\t\treturn true;\n\t}\n\n\tif ((<ILinuxKeyboardLayoutInfo>a).model &&\n\t\t(<ILinuxKeyboardLayoutInfo>b).model &&\n\t\t(<ILinuxKeyboardLayoutInfo>a).model === (<ILinuxKeyboardLayoutInfo>b).model &&\n\t\t(<ILinuxKeyboardLayoutInfo>a).layout === (<ILinuxKeyboardLayoutInfo>b).layout\n\t) {\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n\nexport function parseKeyboardLayoutDescription(layout: IKeyboardLayoutInfo | null): { label: string; description: string } {\n\tif (!layout) {\n\t\treturn { label: '', description: '' };\n\t}\n\n\tif ((<IWindowsKeyboardLayoutInfo>layout).name) {\n\t\t// windows\n\t\tconst windowsLayout = <IWindowsKeyboardLayoutInfo>layout;\n\t\treturn {\n\t\t\tlabel: windowsLayout.text,\n\t\t\tdescription: ''\n\t\t};\n\t}\n\n\tif ((<IMacKeyboardLayoutInfo>layout).id) {\n\t\tconst macLayout = <IMacKeyboardLayoutInfo>layout;\n\t\tif (macLayout.localizedName) {\n\t\t\treturn {\n\t\t\t\tlabel: macLayout.localizedName,\n\t\t\t\tdescription: ''\n\t\t\t};\n\t\t}\n\n\t\tif (/^com\\.apple\\.keylayout\\./.test(macLayout.id)) {\n\t\t\treturn {\n\t\t\t\tlabel: macLayout.id.replace(/^com\\.apple\\.keylayout\\./, '').replace(/-/, ' '),\n\t\t\t\tdescription: ''\n\t\t\t};\n\t\t}\n\t\tif (/^.*inputmethod\\./.test(macLayout.id)) {\n\t\t\treturn {\n\t\t\t\tlabel: macLayout.id.replace(/^.*inputmethod\\./, '').replace(/[-\\.]/, ' '),\n\t\t\t\tdescription: `Input Method (${macLayout.lang})`\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tlabel: macLayout.lang,\n\t\t\tdescription: ''\n\t\t};\n\t}\n\n\tconst linuxLayout = <ILinuxKeyboardLayoutInfo>layout;\n\n\treturn {\n\t\tlabel: linuxLayout.layout,\n\t\tdescription: ''\n\t};\n}\n\nexport function getKeyboardLayoutId(layout: IKeyboardLayoutInfo): string {\n\tif ((<IWindowsKeyboardLayoutInfo>layout).name) {\n\t\treturn (<IWindowsKeyboardLayoutInfo>layout).name;\n\t}\n\n\tif ((<IMacKeyboardLayoutInfo>layout).id) {\n\t\treturn (<IMacKeyboardLayoutInfo>layout).id;\n\t}\n\n\treturn (<ILinuxKeyboardLayoutInfo>layout).layout;\n}\n\nfunction windowsKeyMappingEquals(a: IWindowsKeyMapping, b: IWindowsKeyMapping): boolean {\n\tif (!a && !b) {\n\t\treturn true;\n\t}\n\tif (!a || !b) {\n\t\treturn false;\n\t}\n\treturn (\n\t\ta.vkey === b.vkey\n\t\t&& a.value === b.value\n\t\t&& a.withShift === b.withShift\n\t\t&& a.withAltGr === b.withAltGr\n\t\t&& a.withShiftAltGr === b.withShiftAltGr\n\t);\n}\n\nexport function windowsKeyboardMappingEquals(a: IWindowsKeyboardMapping | null, b: IWindowsKeyboardMapping | null): boolean {\n\tif (!a && !b) {\n\t\treturn true;\n\t}\n\tif (!a || !b) {\n\t\treturn false;\n\t}\n\tfor (let scanCode = 0; scanCode < ScanCode.MAX_VALUE; scanCode++) {\n\t\tconst strScanCode = ScanCodeUtils.toString(scanCode);\n\t\tconst aEntry = a[strScanCode];\n\t\tconst bEntry = b[strScanCode];\n\t\tif (!windowsKeyMappingEquals(aEntry, bEntry)) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\n\nfunction macLinuxKeyMappingEquals(a: IMacLinuxKeyMapping, b: IMacLinuxKeyMapping): boolean {\n\tif (!a && !b) {\n\t\treturn true;\n\t}\n\tif (!a || !b) {\n\t\treturn false;\n\t}\n\treturn (\n\t\ta.value === b.value\n\t\t&& a.withShift === b.withShift\n\t\t&& a.withAltGr === b.withAltGr\n\t\t&& a.withShiftAltGr === b.withShiftAltGr\n\t);\n}\n\nexport function macLinuxKeyboardMappingEquals(a: IMacLinuxKeyboardMapping | null, b: IMacLinuxKeyboardMapping | null): boolean {\n\tif (!a && !b) {\n\t\treturn true;\n\t}\n\tif (!a || !b) {\n\t\treturn false;\n\t}\n\tfor (let scanCode = 0; scanCode < ScanCode.MAX_VALUE; scanCode++) {\n\t\tconst strScanCode = ScanCodeUtils.toString(scanCode);\n\t\tconst aEntry = a[strScanCode];\n\t\tconst bEntry = b[strScanCode];\n\t\tif (!macLinuxKeyMappingEquals(aEntry, bEntry)) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Event } from '../../../base/common/event.js';\nimport { ScanCode, ScanCodeUtils } from '../../../base/common/keyCodes.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nimport { IKeyboardEvent } from '../../keybinding/common/keybinding.js';\nimport { IKeyboardMapper } from './keyboardMapper.js';\n\nexport const IKeyboardLayoutService = createDecorator<IKeyboardLayoutService>('keyboardLayoutService');\n\nexport interface IWindowsKeyMapping {\n\tvkey: string;\n\tvalue: string;\n\twithShift: string;\n\twithAltGr: string;\n\twithShiftAltGr: string;\n}\nexport interface IWindowsKeyboardMapping {\n\t[code: string]: IWindowsKeyMapping;\n}\nexport interface ILinuxKeyMapping {\n\tvalue: string;\n\twithShift: string;\n\twithAltGr: string;\n\twithShiftAltGr: string;\n}\nexport interface ILinuxKeyboardMapping {\n\t[code: string]: ILinuxKeyMapping;\n}\nexport interface IMacKeyMapping {\n\tvalue: string;\n\tvalueIsDeadKey: boolean;\n\twithShift: string;\n\twithShiftIsDeadKey: boolean;\n\twithAltGr: string;\n\twithAltGrIsDeadKey: boolean;\n\twithShiftAltGr: string;\n\twithShiftAltGrIsDeadKey: boolean;\n}\nexport interface IMacKeyboardMapping {\n\t[code: string]: IMacKeyMapping;\n}\n\nexport type IMacLinuxKeyMapping = IMacKeyMapping | ILinuxKeyMapping;\nexport type IMacLinuxKeyboardMapping = IMacKeyboardMapping | ILinuxKeyboardMapping;\nexport type IKeyboardMapping = IWindowsKeyboardMapping | ILinuxKeyboardMapping | IMacKeyboardMapping;\n\nexport interface IWindowsKeyboardLayoutInfo {\n\tname: string;\n\tid: string;\n\ttext: string;\n}\n\nexport interface ILinuxKeyboardLayoutInfo {\n\tmodel: string;\n\tgroup: number;\n\tlayout: string;\n\tvariant: string;\n\toptions: string;\n\trules: string;\n}\n\nexport interface IMacKeyboardLayoutInfo {\n\tid: string;\n\tlang: string;\n\tlocalizedName?: string;\n}\n\nexport type IKeyboardLayoutInfo = (IWindowsKeyboardLayoutInfo | ILinuxKeyboardLayoutInfo | IMacKeyboardLayoutInfo) & { isUserKeyboardLayout?: boolean; isUSStandard?: true };\n\nexport interface IKeyboardLayoutService {\n\treadonly _serviceBrand: undefined;\n\n\treadonly onDidChangeKeyboardLayout: Event<void>;\n\n\tgetRawKeyboardMapping(): IKeyboardMapping | null;\n\tgetCurrentKeyboardLayout(): IKeyboardLayoutInfo | null;\n\tgetAllKeyboardLayouts(): IKeyboardLayoutInfo[];\n\tgetKeyboardMapper(): IKeyboardMapper;\n\tvalidateCurrentKeyboardMapping(keyboardEvent: IKeyboardEvent): void;\n}\n\nexport function areKeyboardLayoutsEqual(a: IKeyboardLayoutInfo | null, b: IKeyboardLayoutInfo | null): boolean {\n\tif (!a || !b) {\n\t\treturn false;\n\t}\n\n\tif ((<IWindowsKeyboardLayoutInfo>a).name && (<IWindowsKeyboardLayoutInfo>b).name && (<IWindowsKeyboardLayoutInfo>a).name === (<IWindowsKeyboardLayoutInfo>b).name) {\n\t\treturn true;\n\t}\n\n\tif ((<IMacKeyboardLayoutInfo>a).id && (<IMacKeyboardLayoutInfo>b).id && (<IMacKeyboardLayoutInfo>a).id === (<IMacKeyboardLayoutInfo>b).id) {\n\t\treturn true;\n\t}\n\n\tif ((<ILinuxKeyboardLayoutInfo>a).model &&\n\t\t(<ILinuxKeyboardLayoutInfo>b).model &&\n\t\t(<ILinuxKeyboardLayoutInfo>a).model === (<ILinuxKeyboardLayoutInfo>b).model &&\n\t\t(<ILinuxKeyboardLayoutInfo>a).layout === (<ILinuxKeyboardLayoutInfo>b).layout\n\t) {\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n\nexport function parseKeyboardLayoutDescription(layout: IKeyboardLayoutInfo | null): { label: string; description: string } {\n\tif (!layout) {\n\t\treturn { label: '', description: '' };\n\t}\n\n\tif ((<IWindowsKeyboardLayoutInfo>layout).name) {\n\t\t// windows\n\t\tconst windowsLayout = <IWindowsKeyboardLayoutInfo>layout;\n\t\treturn {\n\t\t\tlabel: windowsLayout.text,\n\t\t\tdescription: ''\n\t\t};\n\t}\n\n\tif ((<IMacKeyboardLayoutInfo>layout).id) {\n\t\tconst macLayout = <IMacKeyboardLayoutInfo>layout;\n\t\tif (macLayout.localizedName) {\n\t\t\treturn {\n\t\t\t\tlabel: macLayout.localizedName,\n\t\t\t\tdescription: ''\n\t\t\t};\n\t\t}\n\n\t\tif (/^com\\.apple\\.keylayout\\./.test(macLayout.id)) {\n\t\t\treturn {\n\t\t\t\tlabel: macLayout.id.replace(/^com\\.apple\\.keylayout\\./, '').replace(/-/, ' '),\n\t\t\t\tdescription: ''\n\t\t\t};\n\t\t}\n\t\tif (/^.*inputmethod\\./.test(macLayout.id)) {\n\t\t\treturn {\n\t\t\t\tlabel: macLayout.id.replace(/^.*inputmethod\\./, '').replace(/[-\\.]/, ' '),\n\t\t\t\tdescription: `Input Method (${macLayout.lang})`\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tlabel: macLayout.lang,\n\t\t\tdescription: ''\n\t\t};\n\t}\n\n\tconst linuxLayout = <ILinuxKeyboardLayoutInfo>layout;\n\n\treturn {\n\t\tlabel: linuxLayout.layout,\n\t\tdescription: ''\n\t};\n}\n\nexport function getKeyboardLayoutId(layout: IKeyboardLayoutInfo): string {\n\tif ((<IWindowsKeyboardLayoutInfo>layout).name) {\n\t\treturn (<IWindowsKeyboardLayoutInfo>layout).name;\n\t}\n\n\tif ((<IMacKeyboardLayoutInfo>layout).id) {\n\t\treturn (<IMacKeyboardLayoutInfo>layout).id;\n\t}\n\n\treturn (<ILinuxKeyboardLayoutInfo>layout).layout;\n}\n\nfunction windowsKeyMappingEquals(a: IWindowsKeyMapping, b: IWindowsKeyMapping): boolean {\n\tif (!a && !b) {\n\t\treturn true;\n\t}\n\tif (!a || !b) {\n\t\treturn false;\n\t}\n\treturn (\n\t\ta.vkey === b.vkey\n\t\t&& a.value === b.value\n\t\t&& a.withShift === b.withShift\n\t\t&& a.withAltGr === b.withAltGr\n\t\t&& a.withShiftAltGr === b.withShiftAltGr\n\t);\n}\n\nexport function windowsKeyboardMappingEquals(a: IWindowsKeyboardMapping | null, b: IWindowsKeyboardMapping | null): boolean {\n\tif (!a && !b) {\n\t\treturn true;\n\t}\n\tif (!a || !b) {\n\t\treturn false;\n\t}\n\tfor (let scanCode = 0; scanCode < ScanCode.MAX_VALUE; scanCode++) {\n\t\tconst strScanCode = ScanCodeUtils.toString(scanCode);\n\t\tconst aEntry = a[strScanCode];\n\t\tconst bEntry = b[strScanCode];\n\t\tif (!windowsKeyMappingEquals(aEntry, bEntry)) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\n\nfunction macLinuxKeyMappingEquals(a: IMacLinuxKeyMapping, b: IMacLinuxKeyMapping): boolean {\n\tif (!a && !b) {\n\t\treturn true;\n\t}\n\tif (!a || !b) {\n\t\treturn false;\n\t}\n\treturn (\n\t\ta.value === b.value\n\t\t&& a.withShift === b.withShift\n\t\t&& a.withAltGr === b.withAltGr\n\t\t&& a.withShiftAltGr === b.withShiftAltGr\n\t);\n}\n\nexport function macLinuxKeyboardMappingEquals(a: IMacLinuxKeyboardMapping | null, b: IMacLinuxKeyboardMapping | null): boolean {\n\tif (!a && !b) {\n\t\treturn true;\n\t}\n\tif (!a || !b) {\n\t\treturn false;\n\t}\n\tfor (let scanCode = 0; scanCode < ScanCode.MAX_VALUE; scanCode++) {\n\t\tconst strScanCode = ScanCodeUtils.toString(scanCode);\n\t\tconst aEntry = a[strScanCode];\n\t\tconst bEntry = b[strScanCode];\n\t\tif (!macLinuxKeyMappingEquals(aEntry, bEntry)) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\n"]}