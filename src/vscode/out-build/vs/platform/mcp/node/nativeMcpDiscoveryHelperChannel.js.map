{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/platform/mcp/node/nativeMcpDiscoveryHelperChannel.ts","vs/platform/mcp/node/nativeMcpDiscoveryHelperChannel.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;AAGhG,OAAO,EAAmB,qBAAqB,EAAE,MAAM,gCAAgC,CAAC;AAGxF,OAAO,EAAE,gCAAgC,EAAE,MAAM,uCAAuC,CAAC;AAElF,IAAM,+BAA+B,GAArC,MAAM,+BAA+B;IAE3C,YACkB,iBAAkG,EACzE,+BAAiE;QAD1F,sBAAiB,GAAjB,iBAAiB,CAAiF;QACzE,oCAA+B,GAA/B,+BAA+B,CAAkC;IACxG,CAAC;IAEL,MAAM,CAAI,OAAqC,EAAE,KAAa;QAC7D,MAAM,IAAI,KAAK,CAAC,gBAAgB,CAAC,CAAC;IACnC,CAAC;IAED,KAAK,CAAC,IAAI,CAAI,OAAqC,EAAE,OAAe,EAAE,IAAc;QACnF,MAAM,cAAc,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC,OAAO,CAAC,CAAC;QACzD,QAAQ,OAAO,EAAE,CAAC;YACjB,KAAK,MAAM,CAAC,CAAC,CAAC;gBACb,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,+BAA+B,CAAC,IAAI,EAAE,CAAC;gBACjE,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC,qBAAqB,CAAC,MAAM,EAAE,cAAc,CAAC,CAAC,CAAC,CAAC,MAAM,CAAM,CAAC;YACvF,CAAC;QACF,CAAC;QACD,MAAM,IAAI,KAAK,CAAC,cAAc,CAAC,CAAC;IACjC,CAAC;CACD,CAAA;AArBY,+BAA+B;IAIzC,WAAA,gCAAgC,CAAA;GAJtB,+BAA+B,CAqB3C","file":"nativeMcpDiscoveryHelperChannel.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Event } from '../../../base/common/event.js';\nimport { IURITransformer, transformOutgoingURIs } from '../../../base/common/uriIpc.js';\nimport { IServerChannel } from '../../../base/parts/ipc/common/ipc.js';\nimport { RemoteAgentConnectionContext } from '../../remote/common/remoteAgentEnvironment.js';\nimport { INativeMcpDiscoveryHelperService } from '../common/nativeMcpDiscoveryHelper.js';\n\nexport class NativeMcpDiscoveryHelperChannel implements IServerChannel<RemoteAgentConnectionContext> {\n\n\tconstructor(\n\t\tprivate readonly getUriTransformer: undefined | ((requestContext: RemoteAgentConnectionContext) => IURITransformer),\n\t\t@INativeMcpDiscoveryHelperService private nativeMcpDiscoveryHelperService: INativeMcpDiscoveryHelperService\n\t) { }\n\n\tlisten<T>(context: RemoteAgentConnectionContext, event: string): Event<T> {\n\t\tthrow new Error('Invalid listen');\n\t}\n\n\tasync call<T>(context: RemoteAgentConnectionContext, command: string, args?: unknown): Promise<T> {\n\t\tconst uriTransformer = this.getUriTransformer?.(context);\n\t\tswitch (command) {\n\t\t\tcase 'load': {\n\t\t\t\tconst result = await this.nativeMcpDiscoveryHelperService.load();\n\t\t\t\treturn (uriTransformer ? transformOutgoingURIs(result, uriTransformer) : result) as T;\n\t\t\t}\n\t\t}\n\t\tthrow new Error('Invalid call');\n\t}\n}\n\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Event } from '../../../base/common/event.js';\nimport { IURITransformer, transformOutgoingURIs } from '../../../base/common/uriIpc.js';\nimport { IServerChannel } from '../../../base/parts/ipc/common/ipc.js';\nimport { RemoteAgentConnectionContext } from '../../remote/common/remoteAgentEnvironment.js';\nimport { INativeMcpDiscoveryHelperService } from '../common/nativeMcpDiscoveryHelper.js';\n\nexport class NativeMcpDiscoveryHelperChannel implements IServerChannel<RemoteAgentConnectionContext> {\n\n\tconstructor(\n\t\tprivate readonly getUriTransformer: undefined | ((requestContext: RemoteAgentConnectionContext) => IURITransformer),\n\t\t@INativeMcpDiscoveryHelperService private nativeMcpDiscoveryHelperService: INativeMcpDiscoveryHelperService\n\t) { }\n\n\tlisten<T>(context: RemoteAgentConnectionContext, event: string): Event<T> {\n\t\tthrow new Error('Invalid listen');\n\t}\n\n\tasync call<T>(context: RemoteAgentConnectionContext, command: string, args?: unknown): Promise<T> {\n\t\tconst uriTransformer = this.getUriTransformer?.(context);\n\t\tswitch (command) {\n\t\t\tcase 'load': {\n\t\t\t\tconst result = await this.nativeMcpDiscoveryHelperService.load();\n\t\t\t\treturn (uriTransformer ? transformOutgoingURIs(result, uriTransformer) : result) as T;\n\t\t\t}\n\t\t}\n\t\tthrow new Error('Invalid call');\n\t}\n}\n\n"]}