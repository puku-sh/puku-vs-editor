{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/platform/windows/electron-main/windowsFinder.ts","vs/platform/windows/electron-main/windowsFinder.ts"],"names":[],"mappings":"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","file":"windowsFinder.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { extUriBiasedIgnorePathCase } from '../../../base/common/resources.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { ICodeWindow } from '../../window/electron-main/window.js';\nimport { IResolvedWorkspace, ISingleFolderWorkspaceIdentifier, isSingleFolderWorkspaceIdentifier, isWorkspaceIdentifier, IWorkspaceIdentifier } from '../../workspace/common/workspace.js';\n\nexport async function findWindowOnFile(windows: ICodeWindow[], fileUri: URI, localWorkspaceResolver: (workspace: IWorkspaceIdentifier) => Promise<IResolvedWorkspace | undefined>): Promise<ICodeWindow | undefined> {\n\n\t// First check for windows with workspaces that have a parent folder of the provided path opened\n\tfor (const window of windows) {\n\t\tconst workspace = window.openedWorkspace;\n\t\tif (isWorkspaceIdentifier(workspace)) {\n\t\t\tconst resolvedWorkspace = await localWorkspaceResolver(workspace);\n\n\t\t\t// resolved workspace: folders are known and can be compared with\n\t\t\tif (resolvedWorkspace) {\n\t\t\t\tif (resolvedWorkspace.folders.some(folder => extUriBiasedIgnorePathCase.isEqualOrParent(fileUri, folder.uri))) {\n\t\t\t\t\treturn window;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// unresolved: can only compare with workspace location\n\t\t\telse {\n\t\t\t\tif (extUriBiasedIgnorePathCase.isEqualOrParent(fileUri, workspace.configPath)) {\n\t\t\t\t\treturn window;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Then go with single folder windows that are parent of the provided file path\n\tconst singleFolderWindowsOnFilePath = windows.filter(window => isSingleFolderWorkspaceIdentifier(window.openedWorkspace) && extUriBiasedIgnorePathCase.isEqualOrParent(fileUri, window.openedWorkspace.uri));\n\tif (singleFolderWindowsOnFilePath.length) {\n\t\treturn singleFolderWindowsOnFilePath.sort((windowA, windowB) => -((windowA.openedWorkspace as ISingleFolderWorkspaceIdentifier).uri.path.length - (windowB.openedWorkspace as ISingleFolderWorkspaceIdentifier).uri.path.length))[0];\n\t}\n\n\treturn undefined;\n}\n\nexport function findWindowOnWorkspaceOrFolder(windows: ICodeWindow[], folderOrWorkspaceConfigUri: URI): ICodeWindow | undefined {\n\n\tfor (const window of windows) {\n\n\t\t// check for workspace config path\n\t\tif (isWorkspaceIdentifier(window.openedWorkspace) && extUriBiasedIgnorePathCase.isEqual(window.openedWorkspace.configPath, folderOrWorkspaceConfigUri)) {\n\t\t\treturn window;\n\t\t}\n\n\t\t// check for folder path\n\t\tif (isSingleFolderWorkspaceIdentifier(window.openedWorkspace) && extUriBiasedIgnorePathCase.isEqual(window.openedWorkspace.uri, folderOrWorkspaceConfigUri)) {\n\t\t\treturn window;\n\t\t}\n\t}\n\n\treturn undefined;\n}\n\n\nexport function findWindowOnExtensionDevelopmentPath(windows: ICodeWindow[], extensionDevelopmentPaths: string[]): ICodeWindow | undefined {\n\n\tconst matches = (uriString: string): boolean => {\n\t\treturn extensionDevelopmentPaths.some(path => extUriBiasedIgnorePathCase.isEqual(URI.file(path), URI.file(uriString)));\n\t};\n\n\tfor (const window of windows) {\n\n\t\t// match on extension development path. the path can be one or more paths\n\t\t// so we check if any of the paths match on any of the provided ones\n\t\tif (window.config?.extensionDevelopmentPath?.some(path => matches(path))) {\n\t\t\treturn window;\n\t\t}\n\t}\n\n\treturn undefined;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { extUriBiasedIgnorePathCase } from '../../../base/common/resources.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { ICodeWindow } from '../../window/electron-main/window.js';\nimport { IResolvedWorkspace, ISingleFolderWorkspaceIdentifier, isSingleFolderWorkspaceIdentifier, isWorkspaceIdentifier, IWorkspaceIdentifier } from '../../workspace/common/workspace.js';\n\nexport async function findWindowOnFile(windows: ICodeWindow[], fileUri: URI, localWorkspaceResolver: (workspace: IWorkspaceIdentifier) => Promise<IResolvedWorkspace | undefined>): Promise<ICodeWindow | undefined> {\n\n\t// First check for windows with workspaces that have a parent folder of the provided path opened\n\tfor (const window of windows) {\n\t\tconst workspace = window.openedWorkspace;\n\t\tif (isWorkspaceIdentifier(workspace)) {\n\t\t\tconst resolvedWorkspace = await localWorkspaceResolver(workspace);\n\n\t\t\t// resolved workspace: folders are known and can be compared with\n\t\t\tif (resolvedWorkspace) {\n\t\t\t\tif (resolvedWorkspace.folders.some(folder => extUriBiasedIgnorePathCase.isEqualOrParent(fileUri, folder.uri))) {\n\t\t\t\t\treturn window;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// unresolved: can only compare with workspace location\n\t\t\telse {\n\t\t\t\tif (extUriBiasedIgnorePathCase.isEqualOrParent(fileUri, workspace.configPath)) {\n\t\t\t\t\treturn window;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Then go with single folder windows that are parent of the provided file path\n\tconst singleFolderWindowsOnFilePath = windows.filter(window => isSingleFolderWorkspaceIdentifier(window.openedWorkspace) && extUriBiasedIgnorePathCase.isEqualOrParent(fileUri, window.openedWorkspace.uri));\n\tif (singleFolderWindowsOnFilePath.length) {\n\t\treturn singleFolderWindowsOnFilePath.sort((windowA, windowB) => -((windowA.openedWorkspace as ISingleFolderWorkspaceIdentifier).uri.path.length - (windowB.openedWorkspace as ISingleFolderWorkspaceIdentifier).uri.path.length))[0];\n\t}\n\n\treturn undefined;\n}\n\nexport function findWindowOnWorkspaceOrFolder(windows: ICodeWindow[], folderOrWorkspaceConfigUri: URI): ICodeWindow | undefined {\n\n\tfor (const window of windows) {\n\n\t\t// check for workspace config path\n\t\tif (isWorkspaceIdentifier(window.openedWorkspace) && extUriBiasedIgnorePathCase.isEqual(window.openedWorkspace.configPath, folderOrWorkspaceConfigUri)) {\n\t\t\treturn window;\n\t\t}\n\n\t\t// check for folder path\n\t\tif (isSingleFolderWorkspaceIdentifier(window.openedWorkspace) && extUriBiasedIgnorePathCase.isEqual(window.openedWorkspace.uri, folderOrWorkspaceConfigUri)) {\n\t\t\treturn window;\n\t\t}\n\t}\n\n\treturn undefined;\n}\n\n\nexport function findWindowOnExtensionDevelopmentPath(windows: ICodeWindow[], extensionDevelopmentPaths: string[]): ICodeWindow | undefined {\n\n\tconst matches = (uriString: string): boolean => {\n\t\treturn extensionDevelopmentPaths.some(path => extUriBiasedIgnorePathCase.isEqual(URI.file(path), URI.file(uriString)));\n\t};\n\n\tfor (const window of windows) {\n\n\t\t// match on extension development path. the path can be one or more paths\n\t\t// so we check if any of the paths match on any of the provided ones\n\t\tif (window.config?.extensionDevelopmentPath?.some(path => matches(path))) {\n\t\t\treturn window;\n\t\t}\n\t}\n\n\treturn undefined;\n}\n"]}