{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/platform/profiling/electron-main/windowProfiling.ts","vs/platform/profiling/electron-main/windowProfiling.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;AAIhG,OAAO,EAAE,OAAO,EAAE,MAAM,+BAA+B,CAAC;AACxD,OAAO,EAAE,WAAW,EAAE,MAAM,yBAAyB,CAAC;AAG/C,IAAM,cAAc,GAApB,MAAM,cAAc;IAE1B,YACkB,OAAsB,EACtB,UAAkB,EACL,WAAwB;QAFrC,YAAO,GAAP,OAAO,CAAe;QACtB,eAAU,GAAV,UAAU,CAAQ;QACL,gBAAW,GAAX,WAAW,CAAa;IACnD,CAAC;IAEL,KAAK,CAAC,OAAO,CAAC,QAAgB;QAE7B,MAAM,IAAI,CAAC,QAAQ,EAAE,CAAC;QAEtB,MAAM,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC;QACpD,MAAM,SAAS,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC;QAC9C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,0BAA0B,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACnE,MAAM,OAAO,CAAC,QAAQ,CAAC,CAAC;QACxB,MAAM,IAAI,GAAkB,MAAM,SAAS,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC;QACzE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,uBAAuB,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAEhE,MAAM,IAAI,CAAC,WAAW,EAAE,CAAC;QACzB,OAAO,IAAI,CAAC,OAAO,CAAC;IACrB,CAAC;IAEO,KAAK,CAAC,QAAQ;QACrB,MAAM,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC;QACpD,SAAS,CAAC,MAAM,EAAE,CAAC;QACnB,MAAM,SAAS,CAAC,WAAW,CAAC,iBAAiB,CAAC,CAAC;IAChD,CAAC;IAEO,KAAK,CAAC,WAAW;QACxB,MAAM,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC;QACpD,MAAM,SAAS,CAAC,WAAW,CAAC,kBAAkB,CAAC,CAAC;QAChD,SAAS,CAAC,MAAM,EAAE,CAAC;IACpB,CAAC;CACD,CAAA;AAlCY,cAAc;IAKxB,WAAA,WAAW,CAAA;GALD,cAAc,CAkC1B","file":"windowProfiling.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type { ProfileResult } from 'v8-inspect-profiler';\nimport { BrowserWindow } from 'electron';\nimport { timeout } from '../../../base/common/async.js';\nimport { ILogService } from '../../log/common/log.js';\nimport { IV8Profile } from '../common/profiling.js';\n\nexport class WindowProfiler {\n\n\tconstructor(\n\t\tprivate readonly _window: BrowserWindow,\n\t\tprivate readonly _sessionId: string,\n\t\t@ILogService private readonly _logService: ILogService,\n\t) { }\n\n\tasync inspect(duration: number): Promise<IV8Profile> {\n\n\t\tawait this._connect();\n\n\t\tconst inspector = this._window.webContents.debugger;\n\t\tawait inspector.sendCommand('Profiler.start');\n\t\tthis._logService.warn('[perf] profiling STARTED', this._sessionId);\n\t\tawait timeout(duration);\n\t\tconst data: ProfileResult = await inspector.sendCommand('Profiler.stop');\n\t\tthis._logService.warn('[perf] profiling DONE', this._sessionId);\n\n\t\tawait this._disconnect();\n\t\treturn data.profile;\n\t}\n\n\tprivate async _connect() {\n\t\tconst inspector = this._window.webContents.debugger;\n\t\tinspector.attach();\n\t\tawait inspector.sendCommand('Profiler.enable');\n\t}\n\n\tprivate async _disconnect() {\n\t\tconst inspector = this._window.webContents.debugger;\n\t\tawait inspector.sendCommand('Profiler.disable');\n\t\tinspector.detach();\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type { ProfileResult } from 'v8-inspect-profiler';\nimport { BrowserWindow } from 'electron';\nimport { timeout } from '../../../base/common/async.js';\nimport { ILogService } from '../../log/common/log.js';\nimport { IV8Profile } from '../common/profiling.js';\n\nexport class WindowProfiler {\n\n\tconstructor(\n\t\tprivate readonly _window: BrowserWindow,\n\t\tprivate readonly _sessionId: string,\n\t\t@ILogService private readonly _logService: ILogService,\n\t) { }\n\n\tasync inspect(duration: number): Promise<IV8Profile> {\n\n\t\tawait this._connect();\n\n\t\tconst inspector = this._window.webContents.debugger;\n\t\tawait inspector.sendCommand('Profiler.start');\n\t\tthis._logService.warn('[perf] profiling STARTED', this._sessionId);\n\t\tawait timeout(duration);\n\t\tconst data: ProfileResult = await inspector.sendCommand('Profiler.stop');\n\t\tthis._logService.warn('[perf] profiling DONE', this._sessionId);\n\n\t\tawait this._disconnect();\n\t\treturn data.profile;\n\t}\n\n\tprivate async _connect() {\n\t\tconst inspector = this._window.webContents.debugger;\n\t\tinspector.attach();\n\t\tawait inspector.sendCommand('Profiler.enable');\n\t}\n\n\tprivate async _disconnect() {\n\t\tconst inspector = this._window.webContents.debugger;\n\t\tawait inspector.sendCommand('Profiler.disable');\n\t\tinspector.detach();\n\t}\n}\n"]}