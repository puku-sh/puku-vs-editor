{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/platform/actions/browser/actionWidgetDropdownActionViewItem.ts","vs/platform/actions/browser/actionWidgetDropdownActionViewItem.ts"],"names":[],"mappings":"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","file":"actionWidgetDropdownActionViewItem.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { $, append } from '../../../base/browser/dom.js';\nimport { BaseActionViewItem } from '../../../base/browser/ui/actionbar/actionViewItems.js';\nimport { ILabelRenderer } from '../../../base/browser/ui/dropdown/dropdown.js';\nimport { getBaseLayerHoverDelegate } from '../../../base/browser/ui/hover/hoverDelegate2.js';\nimport { getDefaultHoverDelegate } from '../../../base/browser/ui/hover/hoverDelegateFactory.js';\nimport { IAction } from '../../../base/common/actions.js';\nimport { IDisposable } from '../../../base/common/lifecycle.js';\nimport { IActionWidgetService } from '../../actionWidget/browser/actionWidget.js';\nimport { ActionWidgetDropdown, IActionWidgetDropdownOptions } from '../../actionWidget/browser/actionWidgetDropdown.js';\nimport { IContextKeyService } from '../../contextkey/common/contextkey.js';\nimport { IKeybindingService } from '../../keybinding/common/keybinding.js';\n\n/**\n * Action view item for the custom action widget dropdown widget.\n * Very closely based off of `DropdownMenuActionViewItem`, would be good to have some code re-use in the future\n */\nexport class ActionWidgetDropdownActionViewItem extends BaseActionViewItem {\n\tprivate actionWidgetDropdown: ActionWidgetDropdown | undefined;\n\tprivate actionItem: HTMLElement | null = null;\n\tconstructor(\n\t\taction: IAction,\n\t\tprivate readonly actionWidgetOptions: Omit<IActionWidgetDropdownOptions, 'label' | 'labelRenderer'>,\n\t\t@IActionWidgetService private readonly _actionWidgetService: IActionWidgetService,\n\t\t@IKeybindingService private readonly _keybindingService: IKeybindingService,\n\t\t@IContextKeyService private readonly _contextKeyService: IContextKeyService,\n\t) {\n\t\tsuper(undefined, action);\n\t}\n\n\toverride render(container: HTMLElement): void {\n\t\tthis.actionItem = container;\n\n\t\tconst labelRenderer: ILabelRenderer = (el: HTMLElement): IDisposable | null => {\n\t\t\tthis.element = append(el, $('a.action-label'));\n\t\t\treturn this.renderLabel(this.element);\n\t\t};\n\n\t\tthis.actionWidgetDropdown = this._register(new ActionWidgetDropdown(container, { ...this.actionWidgetOptions, labelRenderer }, this._actionWidgetService, this._keybindingService));\n\t\tthis._register(this.actionWidgetDropdown.onDidChangeVisibility(visible => {\n\t\t\tthis.element?.setAttribute('aria-expanded', `${visible}`);\n\t\t}));\n\n\t\tthis.updateTooltip();\n\t\tthis.updateEnabled();\n\t}\n\n\tprotected renderLabel(element: HTMLElement): IDisposable | null {\n\t\t// todo@aeschli: remove codicon, should come through `this.options.classNames`\n\t\telement.classList.add('codicon');\n\n\t\tif (this._action.label) {\n\t\t\tthis._register(getBaseLayerHoverDelegate().setupManagedHover(this.options.hoverDelegate ?? getDefaultHoverDelegate('mouse'), element, this._action.label));\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tprotected override updateAriaLabel(): void {\n\t\tif (this.element) {\n\t\t\tthis.setAriaLabelAttributes(this.element);\n\t\t}\n\t}\n\n\tprotected setAriaLabelAttributes(element: HTMLElement): void {\n\t\telement.setAttribute('role', 'button');\n\t\telement.setAttribute('aria-haspopup', 'true');\n\t\telement.setAttribute('aria-expanded', 'false');\n\t\telement.ariaLabel = (this.getTooltip() + ' - ' + (element.textContent || this._action.label)) || '';\n\t}\n\n\tprotected override getTooltip() {\n\t\tconst keybinding = this._keybindingService.lookupKeybinding(this.action.id, this._contextKeyService);\n\t\tconst keybindingLabel = keybinding && keybinding.getLabel();\n\n\t\tconst tooltip = this.action.tooltip ?? this.action.label;\n\t\treturn keybindingLabel\n\t\t\t? `${tooltip} (${keybindingLabel})`\n\t\t\t: tooltip;\n\t}\n\n\tshow(): void {\n\t\tthis.actionWidgetDropdown?.show();\n\t}\n\n\tprotected override updateEnabled(): void {\n\t\tconst disabled = !this.action.enabled;\n\t\tthis.actionItem?.classList.toggle('disabled', disabled);\n\t\tthis.element?.classList.toggle('disabled', disabled);\n\t\tthis.actionWidgetDropdown?.setEnabled(!disabled);\n\t}\n\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { $, append } from '../../../base/browser/dom.js';\nimport { BaseActionViewItem } from '../../../base/browser/ui/actionbar/actionViewItems.js';\nimport { ILabelRenderer } from '../../../base/browser/ui/dropdown/dropdown.js';\nimport { getBaseLayerHoverDelegate } from '../../../base/browser/ui/hover/hoverDelegate2.js';\nimport { getDefaultHoverDelegate } from '../../../base/browser/ui/hover/hoverDelegateFactory.js';\nimport { IAction } from '../../../base/common/actions.js';\nimport { IDisposable } from '../../../base/common/lifecycle.js';\nimport { IActionWidgetService } from '../../actionWidget/browser/actionWidget.js';\nimport { ActionWidgetDropdown, IActionWidgetDropdownOptions } from '../../actionWidget/browser/actionWidgetDropdown.js';\nimport { IContextKeyService } from '../../contextkey/common/contextkey.js';\nimport { IKeybindingService } from '../../keybinding/common/keybinding.js';\n\n/**\n * Action view item for the custom action widget dropdown widget.\n * Very closely based off of `DropdownMenuActionViewItem`, would be good to have some code re-use in the future\n */\nexport class ActionWidgetDropdownActionViewItem extends BaseActionViewItem {\n\tprivate actionWidgetDropdown: ActionWidgetDropdown | undefined;\n\tprivate actionItem: HTMLElement | null = null;\n\tconstructor(\n\t\taction: IAction,\n\t\tprivate readonly actionWidgetOptions: Omit<IActionWidgetDropdownOptions, 'label' | 'labelRenderer'>,\n\t\t@IActionWidgetService private readonly _actionWidgetService: IActionWidgetService,\n\t\t@IKeybindingService private readonly _keybindingService: IKeybindingService,\n\t\t@IContextKeyService private readonly _contextKeyService: IContextKeyService,\n\t) {\n\t\tsuper(undefined, action);\n\t}\n\n\toverride render(container: HTMLElement): void {\n\t\tthis.actionItem = container;\n\n\t\tconst labelRenderer: ILabelRenderer = (el: HTMLElement): IDisposable | null => {\n\t\t\tthis.element = append(el, $('a.action-label'));\n\t\t\treturn this.renderLabel(this.element);\n\t\t};\n\n\t\tthis.actionWidgetDropdown = this._register(new ActionWidgetDropdown(container, { ...this.actionWidgetOptions, labelRenderer }, this._actionWidgetService, this._keybindingService));\n\t\tthis._register(this.actionWidgetDropdown.onDidChangeVisibility(visible => {\n\t\t\tthis.element?.setAttribute('aria-expanded', `${visible}`);\n\t\t}));\n\n\t\tthis.updateTooltip();\n\t\tthis.updateEnabled();\n\t}\n\n\tprotected renderLabel(element: HTMLElement): IDisposable | null {\n\t\t// todo@aeschli: remove codicon, should come through `this.options.classNames`\n\t\telement.classList.add('codicon');\n\n\t\tif (this._action.label) {\n\t\t\tthis._register(getBaseLayerHoverDelegate().setupManagedHover(this.options.hoverDelegate ?? getDefaultHoverDelegate('mouse'), element, this._action.label));\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tprotected override updateAriaLabel(): void {\n\t\tif (this.element) {\n\t\t\tthis.setAriaLabelAttributes(this.element);\n\t\t}\n\t}\n\n\tprotected setAriaLabelAttributes(element: HTMLElement): void {\n\t\telement.setAttribute('role', 'button');\n\t\telement.setAttribute('aria-haspopup', 'true');\n\t\telement.setAttribute('aria-expanded', 'false');\n\t\telement.ariaLabel = (this.getTooltip() + ' - ' + (element.textContent || this._action.label)) || '';\n\t}\n\n\tprotected override getTooltip() {\n\t\tconst keybinding = this._keybindingService.lookupKeybinding(this.action.id, this._contextKeyService);\n\t\tconst keybindingLabel = keybinding && keybinding.getLabel();\n\n\t\tconst tooltip = this.action.tooltip ?? this.action.label;\n\t\treturn keybindingLabel\n\t\t\t? `${tooltip} (${keybindingLabel})`\n\t\t\t: tooltip;\n\t}\n\n\tshow(): void {\n\t\tthis.actionWidgetDropdown?.show();\n\t}\n\n\tprotected override updateEnabled(): void {\n\t\tconst disabled = !this.action.enabled;\n\t\tthis.actionItem?.classList.toggle('disabled', disabled);\n\t\tthis.element?.classList.toggle('disabled', disabled);\n\t\tthis.actionWidgetDropdown?.setEnabled(!disabled);\n\t}\n\n}\n"]}