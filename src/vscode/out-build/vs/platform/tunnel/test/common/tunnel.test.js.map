{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/platform/tunnel/test/common/tunnel.test.ts","vs/platform/tunnel/test/common/tunnel.test.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAChG,OAAO,MAAM,MAAM,QAAQ,CAAC;AAC5B,OAAO,EAAE,GAAG,EAAE,MAAM,gCAAgC,CAAC;AACrD,OAAO,EACN,yCAAyC,EACzC,8CAA8C,EAC9C,MAAM,wBAAwB,CAAC;AAChC,OAAO,EAAE,uCAAuC,EAAE,MAAM,uCAAuC,CAAC;AAGhG,KAAK,CAAC,QAAQ,EAAE,GAAG,EAAE;IACpB,uCAAuC,EAAE,CAAC;IAE1C,SAAS,iBAAiB,CAAC,GAAW,EACrC,IAAiE,EACjE,eAAwB,EACxB,YAAqB;QACrB,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;QACjC,MAAM,CAAC,WAAW,CAAC,CAAC,eAAe,EAAE,CAAC,GAAG,CAAC,CAAC;QAC3C,MAAM,CAAC,WAAW,CAAC,GAAG,EAAE,OAAO,EAAE,eAAe,CAAC,CAAC;QAClD,MAAM,CAAC,WAAW,CAAC,GAAG,EAAE,IAAI,EAAE,YAAY,CAAC,CAAC;IAC7C,CAAC;IAED,SAAS,eAAe,CAAC,GAAW,EAAE,eAAwB,EAAE,YAAqB;QACpF,iBAAiB,CAAC,GAAG,EAAE,yCAAyC,EAAE,eAAe,EAAE,YAAY,CAAC,CAAC;IAClG,CAAC;IAED,SAAS,oBAAoB,CAAC,GAAW,EAAE,eAAwB,EAAE,YAAqB;QACzF,iBAAiB,CAAC,GAAG,EAAE,8CAA8C,EAAE,eAAe,EAAE,YAAY,CAAC,CAAC;IACvG,CAAC;IAED,IAAI,CAAC,aAAa,EAAE,GAAG,EAAE;QACxB,eAAe,CAAC,qBAAqB,CAAC,CAAC;QACvC,eAAe,CAAC,qBAAqB,CAAC,CAAC;QACvC,eAAe,CAAC,uBAAuB,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC;QAC5D,eAAe,CAAC,uBAAuB,EAAE,WAAW,EAAE,GAAG,CAAC,CAAC;QAC3D,eAAe,CAAC,uBAAuB,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC;QAC5D,eAAe,CAAC,qBAAqB,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;QACxD,eAAe,CAAC,oCAAoC,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC;QACzE,eAAe,CAAC,8DAA8D,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC;QACnG,oBAAoB,CAAC,uDAAuD,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC;QACjG,oBAAoB,CAAC,0FAA0F,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC;QACpI,oBAAoB,CAAC,6FAA6F,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC;IACxI,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC,CAAC","file":"tunnel.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport assert from 'assert';\nimport { URI } from '../../../../base/common/uri.js';\nimport {\n\textractLocalHostUriMetaDataForPortMapping,\n\textractQueryLocalHostUriMetaDataForPortMapping\n} from '../../common/tunnel.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\n\n\nsuite('Tunnel', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tfunction portMappingDoTest(uri: string,\n\t\tfunc: (uri: URI) => { address: string; port: number } | undefined,\n\t\texpectedAddress?: string,\n\t\texpectedPort?: number) {\n\t\tconst res = func(URI.parse(uri));\n\t\tassert.strictEqual(!expectedAddress, !res);\n\t\tassert.strictEqual(res?.address, expectedAddress);\n\t\tassert.strictEqual(res?.port, expectedPort);\n\t}\n\n\tfunction portMappingTest(uri: string, expectedAddress?: string, expectedPort?: number) {\n\t\tportMappingDoTest(uri, extractLocalHostUriMetaDataForPortMapping, expectedAddress, expectedPort);\n\t}\n\n\tfunction portMappingTestQuery(uri: string, expectedAddress?: string, expectedPort?: number) {\n\t\tportMappingDoTest(uri, extractQueryLocalHostUriMetaDataForPortMapping, expectedAddress, expectedPort);\n\t}\n\n\ttest('portMapping', () => {\n\t\tportMappingTest('file:///foo.bar/baz');\n\t\tportMappingTest('http://foo.bar:1234');\n\t\tportMappingTest('http://localhost:8080', 'localhost', 8080);\n\t\tportMappingTest('https://localhost:443', 'localhost', 443);\n\t\tportMappingTest('http://127.0.0.1:3456', '127.0.0.1', 3456);\n\t\tportMappingTest('http://0.0.0.0:7654', '0.0.0.0', 7654);\n\t\tportMappingTest('http://localhost:8080/path?foo=bar', 'localhost', 8080);\n\t\tportMappingTest('http://localhost:8080/path?foo=http%3A%2F%2Flocalhost%3A8081', 'localhost', 8080);\n\t\tportMappingTestQuery('http://foo.bar/path?url=http%3A%2F%2Flocalhost%3A8081', 'localhost', 8081);\n\t\tportMappingTestQuery('http://foo.bar/path?url=http%3A%2F%2Flocalhost%3A8081&url2=http%3A%2F%2Flocalhost%3A8082', 'localhost', 8081);\n\t\tportMappingTestQuery('http://foo.bar/path?url=http%3A%2F%2Fmicrosoft.com%2Fbad&url2=http%3A%2F%2Flocalhost%3A8081', 'localhost', 8081);\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport assert from 'assert';\nimport { URI } from '../../../../base/common/uri.js';\nimport {\n\textractLocalHostUriMetaDataForPortMapping,\n\textractQueryLocalHostUriMetaDataForPortMapping\n} from '../../common/tunnel.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\n\n\nsuite('Tunnel', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tfunction portMappingDoTest(uri: string,\n\t\tfunc: (uri: URI) => { address: string; port: number } | undefined,\n\t\texpectedAddress?: string,\n\t\texpectedPort?: number) {\n\t\tconst res = func(URI.parse(uri));\n\t\tassert.strictEqual(!expectedAddress, !res);\n\t\tassert.strictEqual(res?.address, expectedAddress);\n\t\tassert.strictEqual(res?.port, expectedPort);\n\t}\n\n\tfunction portMappingTest(uri: string, expectedAddress?: string, expectedPort?: number) {\n\t\tportMappingDoTest(uri, extractLocalHostUriMetaDataForPortMapping, expectedAddress, expectedPort);\n\t}\n\n\tfunction portMappingTestQuery(uri: string, expectedAddress?: string, expectedPort?: number) {\n\t\tportMappingDoTest(uri, extractQueryLocalHostUriMetaDataForPortMapping, expectedAddress, expectedPort);\n\t}\n\n\ttest('portMapping', () => {\n\t\tportMappingTest('file:///foo.bar/baz');\n\t\tportMappingTest('http://foo.bar:1234');\n\t\tportMappingTest('http://localhost:8080', 'localhost', 8080);\n\t\tportMappingTest('https://localhost:443', 'localhost', 443);\n\t\tportMappingTest('http://127.0.0.1:3456', '127.0.0.1', 3456);\n\t\tportMappingTest('http://0.0.0.0:7654', '0.0.0.0', 7654);\n\t\tportMappingTest('http://localhost:8080/path?foo=bar', 'localhost', 8080);\n\t\tportMappingTest('http://localhost:8080/path?foo=http%3A%2F%2Flocalhost%3A8081', 'localhost', 8080);\n\t\tportMappingTestQuery('http://foo.bar/path?url=http%3A%2F%2Flocalhost%3A8081', 'localhost', 8081);\n\t\tportMappingTestQuery('http://foo.bar/path?url=http%3A%2F%2Flocalhost%3A8081&url2=http%3A%2F%2Flocalhost%3A8082', 'localhost', 8081);\n\t\tportMappingTestQuery('http://foo.bar/path?url=http%3A%2F%2Fmicrosoft.com%2Fbad&url2=http%3A%2F%2Flocalhost%3A8081', 'localhost', 8081);\n\t});\n});\n"]}