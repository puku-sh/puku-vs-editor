{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/platform/userDataProfile/test/common/userDataProfileStorageService.test.ts","vs/platform/userDataProfile/test/common/userDataProfileStorageService.test.ts"],"names":[],"mappings":"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","file":"userDataProfileStorageService.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { InMemoryStorageDatabase, IStorageItemsChangeEvent, IUpdateRequest, Storage } from '../../../../base/parts/storage/common/storage.js';\nimport { AbstractUserDataProfileStorageService, IUserDataProfileStorageService } from '../../common/userDataProfileStorageService.js';\nimport { InMemoryStorageService, loadKeyTargets, StorageTarget, TARGET_KEY } from '../../../storage/common/storage.js';\nimport { IUserDataProfile, toUserDataProfile } from '../../common/userDataProfile.js';\nimport { runWithFakedTimers } from '../../../../base/test/common/timeTravelScheduler.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\n\nclass TestStorageDatabase extends InMemoryStorageDatabase {\n\n\tprivate readonly _onDidChangeItemsExternal = new Emitter<IStorageItemsChangeEvent>();\n\toverride readonly onDidChangeItemsExternal = this._onDidChangeItemsExternal.event;\n\n\toverride async updateItems(request: IUpdateRequest): Promise<void> {\n\t\tawait super.updateItems(request);\n\t\tif (request.insert || request.delete) {\n\t\t\tthis._onDidChangeItemsExternal.fire({ changed: request.insert, deleted: request.delete });\n\t\t}\n\t}\n}\n\nexport class TestUserDataProfileStorageService extends AbstractUserDataProfileStorageService implements IUserDataProfileStorageService {\n\n\treadonly onDidChange = Event.None;\n\tprivate databases = new Map<string, InMemoryStorageDatabase>();\n\n\tprotected async createStorageDatabase(profile: IUserDataProfile): Promise<InMemoryStorageDatabase> {\n\t\tlet database = this.databases.get(profile.id);\n\t\tif (!database) {\n\t\t\tthis.databases.set(profile.id, database = new TestStorageDatabase());\n\t\t}\n\t\treturn database;\n\t}\n\n\tsetupStorageDatabase(profile: IUserDataProfile): Promise<InMemoryStorageDatabase> {\n\t\treturn this.createStorageDatabase(profile);\n\t}\n\n}\n\nsuite('ProfileStorageService', () => {\n\n\tconst disposables = ensureNoDisposablesAreLeakedInTestSuite();\n\tconst profile = toUserDataProfile('test', 'test', URI.file('foo'), URI.file('cache'));\n\tlet testObject: TestUserDataProfileStorageService;\n\tlet storage: Storage;\n\n\tsetup(async () => {\n\t\ttestObject = disposables.add(new TestUserDataProfileStorageService(false, disposables.add(new InMemoryStorageService())));\n\t\tstorage = disposables.add(new Storage(await testObject.setupStorageDatabase(profile)));\n\t\tawait storage.init();\n\t});\n\n\n\ttest('read empty storage', () => runWithFakedTimers<void>({ useFakeTimers: true }, async () => {\n\t\tconst actual = await testObject.readStorageData(profile);\n\n\t\tassert.strictEqual(actual.size, 0);\n\t}));\n\n\ttest('read storage with data', () => runWithFakedTimers<void>({ useFakeTimers: true }, async () => {\n\t\tstorage.set('foo', 'bar');\n\t\tstorage.set(TARGET_KEY, JSON.stringify({ foo: StorageTarget.USER }));\n\t\tawait storage.flush();\n\n\t\tconst actual = await testObject.readStorageData(profile);\n\n\t\tassert.strictEqual(actual.size, 1);\n\t\tassert.deepStrictEqual(actual.get('foo'), { 'value': 'bar', 'target': StorageTarget.USER });\n\t}));\n\n\ttest('write in empty storage', () => runWithFakedTimers<void>({ useFakeTimers: true }, async () => {\n\t\tconst data = new Map<string, string>();\n\t\tdata.set('foo', 'bar');\n\t\tawait testObject.updateStorageData(profile, data, StorageTarget.USER);\n\n\t\tassert.strictEqual(storage.items.size, 2);\n\t\tassert.deepStrictEqual(loadKeyTargets(storage), { foo: StorageTarget.USER });\n\t\tassert.strictEqual(storage.get('foo'), 'bar');\n\t}));\n\n\ttest('write in storage with data', () => runWithFakedTimers<void>({ useFakeTimers: true }, async () => {\n\t\tstorage.set('foo', 'bar');\n\t\tstorage.set(TARGET_KEY, JSON.stringify({ foo: StorageTarget.USER }));\n\t\tawait storage.flush();\n\n\t\tconst data = new Map<string, string>();\n\t\tdata.set('abc', 'xyz');\n\t\tawait testObject.updateStorageData(profile, data, StorageTarget.MACHINE);\n\n\t\tassert.strictEqual(storage.items.size, 3);\n\t\tassert.deepStrictEqual(loadKeyTargets(storage), { foo: StorageTarget.USER, abc: StorageTarget.MACHINE });\n\t\tassert.strictEqual(storage.get('foo'), 'bar');\n\t\tassert.strictEqual(storage.get('abc'), 'xyz');\n\t}));\n\n\ttest('write in storage with data (insert, update, remove)', () => runWithFakedTimers<void>({ useFakeTimers: true }, async () => {\n\t\tstorage.set('foo', 'bar');\n\t\tstorage.set('abc', 'xyz');\n\t\tstorage.set(TARGET_KEY, JSON.stringify({ foo: StorageTarget.USER, abc: StorageTarget.MACHINE }));\n\t\tawait storage.flush();\n\n\t\tconst data = new Map<string, string | undefined>();\n\t\tdata.set('foo', undefined);\n\t\tdata.set('abc', 'def');\n\t\tdata.set('var', 'const');\n\t\tawait testObject.updateStorageData(profile, data, StorageTarget.USER);\n\n\t\tassert.strictEqual(storage.items.size, 3);\n\t\tassert.deepStrictEqual(loadKeyTargets(storage), { abc: StorageTarget.USER, var: StorageTarget.USER });\n\t\tassert.strictEqual(storage.get('abc'), 'def');\n\t\tassert.strictEqual(storage.get('var'), 'const');\n\t}));\n\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { InMemoryStorageDatabase, IStorageItemsChangeEvent, IUpdateRequest, Storage } from '../../../../base/parts/storage/common/storage.js';\nimport { AbstractUserDataProfileStorageService, IUserDataProfileStorageService } from '../../common/userDataProfileStorageService.js';\nimport { InMemoryStorageService, loadKeyTargets, StorageTarget, TARGET_KEY } from '../../../storage/common/storage.js';\nimport { IUserDataProfile, toUserDataProfile } from '../../common/userDataProfile.js';\nimport { runWithFakedTimers } from '../../../../base/test/common/timeTravelScheduler.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\n\nclass TestStorageDatabase extends InMemoryStorageDatabase {\n\n\tprivate readonly _onDidChangeItemsExternal = new Emitter<IStorageItemsChangeEvent>();\n\toverride readonly onDidChangeItemsExternal = this._onDidChangeItemsExternal.event;\n\n\toverride async updateItems(request: IUpdateRequest): Promise<void> {\n\t\tawait super.updateItems(request);\n\t\tif (request.insert || request.delete) {\n\t\t\tthis._onDidChangeItemsExternal.fire({ changed: request.insert, deleted: request.delete });\n\t\t}\n\t}\n}\n\nexport class TestUserDataProfileStorageService extends AbstractUserDataProfileStorageService implements IUserDataProfileStorageService {\n\n\treadonly onDidChange = Event.None;\n\tprivate databases = new Map<string, InMemoryStorageDatabase>();\n\n\tprotected async createStorageDatabase(profile: IUserDataProfile): Promise<InMemoryStorageDatabase> {\n\t\tlet database = this.databases.get(profile.id);\n\t\tif (!database) {\n\t\t\tthis.databases.set(profile.id, database = new TestStorageDatabase());\n\t\t}\n\t\treturn database;\n\t}\n\n\tsetupStorageDatabase(profile: IUserDataProfile): Promise<InMemoryStorageDatabase> {\n\t\treturn this.createStorageDatabase(profile);\n\t}\n\n}\n\nsuite('ProfileStorageService', () => {\n\n\tconst disposables = ensureNoDisposablesAreLeakedInTestSuite();\n\tconst profile = toUserDataProfile('test', 'test', URI.file('foo'), URI.file('cache'));\n\tlet testObject: TestUserDataProfileStorageService;\n\tlet storage: Storage;\n\n\tsetup(async () => {\n\t\ttestObject = disposables.add(new TestUserDataProfileStorageService(false, disposables.add(new InMemoryStorageService())));\n\t\tstorage = disposables.add(new Storage(await testObject.setupStorageDatabase(profile)));\n\t\tawait storage.init();\n\t});\n\n\n\ttest('read empty storage', () => runWithFakedTimers<void>({ useFakeTimers: true }, async () => {\n\t\tconst actual = await testObject.readStorageData(profile);\n\n\t\tassert.strictEqual(actual.size, 0);\n\t}));\n\n\ttest('read storage with data', () => runWithFakedTimers<void>({ useFakeTimers: true }, async () => {\n\t\tstorage.set('foo', 'bar');\n\t\tstorage.set(TARGET_KEY, JSON.stringify({ foo: StorageTarget.USER }));\n\t\tawait storage.flush();\n\n\t\tconst actual = await testObject.readStorageData(profile);\n\n\t\tassert.strictEqual(actual.size, 1);\n\t\tassert.deepStrictEqual(actual.get('foo'), { 'value': 'bar', 'target': StorageTarget.USER });\n\t}));\n\n\ttest('write in empty storage', () => runWithFakedTimers<void>({ useFakeTimers: true }, async () => {\n\t\tconst data = new Map<string, string>();\n\t\tdata.set('foo', 'bar');\n\t\tawait testObject.updateStorageData(profile, data, StorageTarget.USER);\n\n\t\tassert.strictEqual(storage.items.size, 2);\n\t\tassert.deepStrictEqual(loadKeyTargets(storage), { foo: StorageTarget.USER });\n\t\tassert.strictEqual(storage.get('foo'), 'bar');\n\t}));\n\n\ttest('write in storage with data', () => runWithFakedTimers<void>({ useFakeTimers: true }, async () => {\n\t\tstorage.set('foo', 'bar');\n\t\tstorage.set(TARGET_KEY, JSON.stringify({ foo: StorageTarget.USER }));\n\t\tawait storage.flush();\n\n\t\tconst data = new Map<string, string>();\n\t\tdata.set('abc', 'xyz');\n\t\tawait testObject.updateStorageData(profile, data, StorageTarget.MACHINE);\n\n\t\tassert.strictEqual(storage.items.size, 3);\n\t\tassert.deepStrictEqual(loadKeyTargets(storage), { foo: StorageTarget.USER, abc: StorageTarget.MACHINE });\n\t\tassert.strictEqual(storage.get('foo'), 'bar');\n\t\tassert.strictEqual(storage.get('abc'), 'xyz');\n\t}));\n\n\ttest('write in storage with data (insert, update, remove)', () => runWithFakedTimers<void>({ useFakeTimers: true }, async () => {\n\t\tstorage.set('foo', 'bar');\n\t\tstorage.set('abc', 'xyz');\n\t\tstorage.set(TARGET_KEY, JSON.stringify({ foo: StorageTarget.USER, abc: StorageTarget.MACHINE }));\n\t\tawait storage.flush();\n\n\t\tconst data = new Map<string, string | undefined>();\n\t\tdata.set('foo', undefined);\n\t\tdata.set('abc', 'def');\n\t\tdata.set('var', 'const');\n\t\tawait testObject.updateStorageData(profile, data, StorageTarget.USER);\n\n\t\tassert.strictEqual(storage.items.size, 3);\n\t\tassert.deepStrictEqual(loadKeyTargets(storage), { abc: StorageTarget.USER, var: StorageTarget.USER });\n\t\tassert.strictEqual(storage.get('abc'), 'def');\n\t\tassert.strictEqual(storage.get('var'), 'const');\n\t}));\n\n});\n"]}