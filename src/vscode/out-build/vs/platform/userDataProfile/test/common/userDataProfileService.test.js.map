{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/platform/userDataProfile/test/common/userDataProfileService.test.ts","vs/platform/userDataProfile/test/common/userDataProfileService.test.ts"],"names":[],"mappings":"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","file":"userDataProfileService.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { FileService } from '../../../files/common/fileService.js';\nimport { NullLogService } from '../../../log/common/log.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { joinPath } from '../../../../base/common/resources.js';\nimport { InMemoryFileSystemProvider } from '../../../files/common/inMemoryFilesystemProvider.js';\nimport { AbstractNativeEnvironmentService } from '../../../environment/common/environmentService.js';\nimport product from '../../../product/common/product.js';\nimport { InMemoryUserDataProfilesService, UserDataProfilesService } from '../../common/userDataProfile.js';\nimport { UriIdentityService } from '../../../uriIdentity/common/uriIdentityService.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\nimport { Event } from '../../../../base/common/event.js';\n\nconst ROOT = URI.file('tests').with({ scheme: 'vscode-tests' });\n\nclass TestEnvironmentService extends AbstractNativeEnvironmentService {\n\tconstructor(private readonly _appSettingsHome: URI) {\n\t\tsuper(Object.create(null), Object.create(null), { _serviceBrand: undefined, ...product });\n\t}\n\toverride get userRoamingDataHome() { return this._appSettingsHome.with({ scheme: Schemas.vscodeUserData }); }\n\toverride get cacheHome() { return this.userRoamingDataHome; }\n}\n\nsuite('UserDataProfileService (Common)', () => {\n\n\tconst disposables = ensureNoDisposablesAreLeakedInTestSuite();\n\tlet testObject: UserDataProfilesService;\n\tlet environmentService: TestEnvironmentService;\n\n\tsetup(async () => {\n\t\tconst logService = new NullLogService();\n\t\tconst fileService = disposables.add(new FileService(logService));\n\t\tconst fileSystemProvider = disposables.add(new InMemoryFileSystemProvider());\n\t\tdisposables.add(fileService.registerProvider(ROOT.scheme, fileSystemProvider));\n\t\tdisposables.add(fileService.registerProvider(Schemas.vscodeUserData, fileSystemProvider));\n\n\t\tenvironmentService = new TestEnvironmentService(joinPath(ROOT, 'User'));\n\t\ttestObject = disposables.add(new InMemoryUserDataProfilesService(environmentService, fileService, disposables.add(new UriIdentityService(fileService)), logService));\n\t});\n\n\n\ttest('default profile', () => {\n\t\tassert.strictEqual(testObject.defaultProfile.isDefault, true);\n\t\tassert.strictEqual(testObject.defaultProfile.useDefaultFlags, undefined);\n\t\tassert.strictEqual(testObject.defaultProfile.location.toString(), environmentService.userRoamingDataHome.toString());\n\t\tassert.strictEqual(testObject.defaultProfile.globalStorageHome.toString(), joinPath(environmentService.userRoamingDataHome, 'globalStorage').toString());\n\t\tassert.strictEqual(testObject.defaultProfile.keybindingsResource.toString(), joinPath(environmentService.userRoamingDataHome, 'keybindings.json').toString());\n\t\tassert.strictEqual(testObject.defaultProfile.settingsResource.toString(), joinPath(environmentService.userRoamingDataHome, 'settings.json').toString());\n\t\tassert.strictEqual(testObject.defaultProfile.snippetsHome.toString(), joinPath(environmentService.userRoamingDataHome, 'snippets').toString());\n\t\tassert.strictEqual(testObject.defaultProfile.tasksResource.toString(), joinPath(environmentService.userRoamingDataHome, 'tasks.json').toString());\n\t\tassert.strictEqual(testObject.defaultProfile.extensionsResource.toString(), joinPath(environmentService.userRoamingDataHome, 'extensions.json').toString());\n\t});\n\n\ttest('profiles always include default profile', () => {\n\t\tassert.deepStrictEqual(testObject.profiles.length, 1);\n\t\tassert.deepStrictEqual(testObject.profiles[0].isDefault, true);\n\t});\n\n\ttest('create profile with id', async () => {\n\t\tconst profile = await testObject.createProfile('id', 'name');\n\t\tassert.deepStrictEqual(testObject.profiles.length, 2);\n\t\tassert.deepStrictEqual(profile.id, 'id');\n\t\tassert.deepStrictEqual(profile.name, 'name');\n\t\tassert.deepStrictEqual(!!profile.isTransient, false);\n\t\tassert.deepStrictEqual(testObject.profiles[1].id, profile.id);\n\t\tassert.deepStrictEqual(testObject.profiles[1].name, profile.name);\n\t});\n\n\ttest('create profile with id, name and transient', async () => {\n\t\tconst profile = await testObject.createProfile('id', 'name', { transient: true });\n\t\tassert.deepStrictEqual(testObject.profiles.length, 2);\n\t\tassert.deepStrictEqual(profile.id, 'id');\n\t\tassert.deepStrictEqual(profile.name, 'name');\n\t\tassert.deepStrictEqual(!!profile.isTransient, true);\n\t\tassert.deepStrictEqual(testObject.profiles[1].id, profile.id);\n\t});\n\n\ttest('create transient profiles', async () => {\n\t\tconst profile1 = await testObject.createTransientProfile();\n\t\tconst profile2 = await testObject.createTransientProfile();\n\t\tconst profile3 = await testObject.createTransientProfile();\n\t\tconst profile4 = await testObject.createProfile('id', 'name', { transient: true });\n\n\t\tassert.deepStrictEqual(testObject.profiles.length, 5);\n\t\tassert.deepStrictEqual(profile1.name, 'Temp 1');\n\t\tassert.deepStrictEqual(profile1.isTransient, true);\n\t\tassert.deepStrictEqual(testObject.profiles[1].id, profile1.id);\n\t\tassert.deepStrictEqual(profile2.name, 'Temp 2');\n\t\tassert.deepStrictEqual(profile2.isTransient, true);\n\t\tassert.deepStrictEqual(testObject.profiles[2].id, profile2.id);\n\t\tassert.deepStrictEqual(profile3.name, 'Temp 3');\n\t\tassert.deepStrictEqual(profile3.isTransient, true);\n\t\tassert.deepStrictEqual(testObject.profiles[3].id, profile3.id);\n\t\tassert.deepStrictEqual(profile4.name, 'name');\n\t\tassert.deepStrictEqual(profile4.isTransient, true);\n\t\tassert.deepStrictEqual(testObject.profiles[4].id, profile4.id);\n\t});\n\n\ttest('create transient profile when a normal profile with Temp is already created', async () => {\n\t\tawait testObject.createNamedProfile('Temp 1');\n\t\tconst profile1 = await testObject.createTransientProfile();\n\n\t\tassert.deepStrictEqual(profile1.name, 'Temp 2');\n\t\tassert.deepStrictEqual(profile1.isTransient, true);\n\t});\n\n\ttest('profiles include default profile with extension resource defined when transiet prrofile is created', async () => {\n\t\tawait testObject.createTransientProfile();\n\n\t\tassert.deepStrictEqual(testObject.profiles.length, 2);\n\t\tassert.deepStrictEqual(testObject.profiles[0].isDefault, true);\n\t});\n\n\ttest('profiles include default profile with extension resource undefined when transiet prrofile is removed', async () => {\n\t\tconst profile = await testObject.createTransientProfile();\n\t\tawait testObject.removeProfile(profile);\n\n\t\tassert.deepStrictEqual(testObject.profiles.length, 1);\n\t\tassert.deepStrictEqual(testObject.profiles[0].isDefault, true);\n\t});\n\n\ttest('update named profile', async () => {\n\t\tconst profile = await testObject.createNamedProfile('name');\n\t\tawait testObject.updateProfile(profile, { name: 'name changed' });\n\n\t\tassert.deepStrictEqual(testObject.profiles.length, 2);\n\t\tassert.deepStrictEqual(testObject.profiles[1].name, 'name changed');\n\t\tassert.deepStrictEqual(!!testObject.profiles[1].isTransient, false);\n\t\tassert.deepStrictEqual(testObject.profiles[1].id, profile.id);\n\t});\n\n\ttest('persist transient profile', async () => {\n\t\tconst profile = await testObject.createTransientProfile();\n\t\tawait testObject.updateProfile(profile, { name: 'saved', transient: false });\n\n\t\tassert.deepStrictEqual(testObject.profiles.length, 2);\n\t\tassert.deepStrictEqual(testObject.profiles[1].name, 'saved');\n\t\tassert.deepStrictEqual(!!testObject.profiles[1].isTransient, false);\n\t\tassert.deepStrictEqual(testObject.profiles[1].id, profile.id);\n\t});\n\n\ttest('persist transient profile (2)', async () => {\n\t\tconst profile = await testObject.createProfile('id', 'name', { transient: true });\n\t\tawait testObject.updateProfile(profile, { name: 'saved', transient: false });\n\n\t\tassert.deepStrictEqual(testObject.profiles.length, 2);\n\t\tassert.deepStrictEqual(testObject.profiles[1].name, 'saved');\n\t\tassert.deepStrictEqual(!!testObject.profiles[1].isTransient, false);\n\t\tassert.deepStrictEqual(testObject.profiles[1].id, profile.id);\n\t});\n\n\ttest('save transient profile', async () => {\n\t\tconst profile = await testObject.createTransientProfile();\n\t\tawait testObject.updateProfile(profile, { name: 'saved' });\n\n\t\tassert.deepStrictEqual(testObject.profiles.length, 2);\n\t\tassert.deepStrictEqual(testObject.profiles[1].name, 'saved');\n\t\tassert.deepStrictEqual(!!testObject.profiles[1].isTransient, true);\n\t\tassert.deepStrictEqual(testObject.profiles[1].id, profile.id);\n\t});\n\n\ttest('profile using default profile for settings', async () => {\n\t\tconst profile = await testObject.createNamedProfile('name', { useDefaultFlags: { settings: true } });\n\n\t\tassert.strictEqual(profile.isDefault, false);\n\t\tassert.deepStrictEqual(profile.useDefaultFlags, { settings: true });\n\t\tassert.strictEqual(profile.settingsResource.toString(), testObject.defaultProfile.settingsResource.toString());\n\t});\n\n\ttest('profile using default profile for keybindings', async () => {\n\t\tconst profile = await testObject.createNamedProfile('name', { useDefaultFlags: { keybindings: true } });\n\n\t\tassert.strictEqual(profile.isDefault, false);\n\t\tassert.deepStrictEqual(profile.useDefaultFlags, { keybindings: true });\n\t\tassert.strictEqual(profile.keybindingsResource.toString(), testObject.defaultProfile.keybindingsResource.toString());\n\t});\n\n\ttest('profile using default profile for snippets', async () => {\n\t\tconst profile = await testObject.createNamedProfile('name', { useDefaultFlags: { snippets: true } });\n\n\t\tassert.strictEqual(profile.isDefault, false);\n\t\tassert.deepStrictEqual(profile.useDefaultFlags, { snippets: true });\n\t\tassert.strictEqual(profile.snippetsHome.toString(), testObject.defaultProfile.snippetsHome.toString());\n\t});\n\n\ttest('profile using default profile for tasks', async () => {\n\t\tconst profile = await testObject.createNamedProfile('name', { useDefaultFlags: { tasks: true } });\n\n\t\tassert.strictEqual(profile.isDefault, false);\n\t\tassert.deepStrictEqual(profile.useDefaultFlags, { tasks: true });\n\t\tassert.strictEqual(profile.tasksResource.toString(), testObject.defaultProfile.tasksResource.toString());\n\t});\n\n\ttest('profile using default profile for global state', async () => {\n\t\tconst profile = await testObject.createNamedProfile('name', { useDefaultFlags: { globalState: true } });\n\n\t\tassert.strictEqual(profile.isDefault, false);\n\t\tassert.deepStrictEqual(profile.useDefaultFlags, { globalState: true });\n\t\tassert.strictEqual(profile.globalStorageHome.toString(), testObject.defaultProfile.globalStorageHome.toString());\n\t});\n\n\ttest('profile using default profile for extensions', async () => {\n\t\tconst profile = await testObject.createNamedProfile('name', { useDefaultFlags: { extensions: true } });\n\n\t\tassert.strictEqual(profile.isDefault, false);\n\t\tassert.deepStrictEqual(profile.useDefaultFlags, { extensions: true });\n\t\tassert.strictEqual(profile.extensionsResource.toString(), testObject.defaultProfile.extensionsResource.toString());\n\t});\n\n\ttest('update profile using default profile for keybindings', async () => {\n\t\tlet profile = await testObject.createNamedProfile('name');\n\t\tprofile = await testObject.updateProfile(profile, { useDefaultFlags: { keybindings: true } });\n\n\t\tassert.strictEqual(profile.isDefault, false);\n\t\tassert.deepStrictEqual(profile.useDefaultFlags, { keybindings: true });\n\t\tassert.strictEqual(profile.keybindingsResource.toString(), testObject.defaultProfile.keybindingsResource.toString());\n\t});\n\n\ttest('create profile with a workspace associates it to the profile', async () => {\n\t\tconst workspace = URI.file('/workspace1');\n\t\tconst profile = await testObject.createProfile('id', 'name', {}, { id: workspace.path, uri: workspace });\n\t\tassert.deepStrictEqual(profile.workspaces?.length, 1);\n\t\tassert.deepStrictEqual(profile.workspaces?.[0].toString(), workspace.toString());\n\t});\n\n\ttest('associate workspace to a profile should update workspaces', async () => {\n\t\tconst profile = await testObject.createProfile('id', 'name', {});\n\t\tconst workspace = URI.file('/workspace1');\n\n\t\tconst promise = Event.toPromise(testObject.onDidChangeProfiles);\n\t\tawait testObject.setProfileForWorkspace({ id: workspace.path, uri: workspace }, profile);\n\n\t\tconst actual = await promise;\n\t\tassert.deepStrictEqual(actual.added.length, 0);\n\t\tassert.deepStrictEqual(actual.removed.length, 0);\n\t\tassert.deepStrictEqual(actual.updated.length, 1);\n\n\t\tassert.deepStrictEqual(actual.updated[0].id, profile.id);\n\t\tassert.deepStrictEqual(actual.updated[0].workspaces?.length, 1);\n\t\tassert.deepStrictEqual(actual.updated[0].workspaces[0].toString(), workspace.toString());\n\t});\n\n\ttest('associate same workspace to a profile should not duplicate', async () => {\n\t\tconst workspace = URI.file('/workspace1');\n\t\tconst profile = await testObject.createProfile('id', 'name', { workspaces: [workspace] });\n\n\t\tawait testObject.setProfileForWorkspace({ id: workspace.path, uri: workspace }, profile);\n\n\t\tassert.deepStrictEqual(testObject.profiles[1].workspaces?.length, 1);\n\t\tassert.deepStrictEqual(testObject.profiles[1].workspaces[0].toString(), workspace.toString());\n\t});\n\n\ttest('associate workspace to another profile should update workspaces', async () => {\n\t\tconst workspace = URI.file('/workspace1');\n\t\tconst profile1 = await testObject.createProfile('id', 'name', {}, { id: workspace.path, uri: workspace });\n\t\tconst profile2 = await testObject.createProfile('id1', 'name1');\n\n\t\tconst promise = Event.toPromise(testObject.onDidChangeProfiles);\n\t\tawait testObject.setProfileForWorkspace({ id: workspace.path, uri: workspace }, profile2);\n\n\t\tconst actual = await promise;\n\t\tassert.deepStrictEqual(actual.added.length, 0);\n\t\tassert.deepStrictEqual(actual.removed.length, 0);\n\t\tassert.deepStrictEqual(actual.updated.length, 2);\n\n\t\tassert.deepStrictEqual(actual.updated[0].id, profile1.id);\n\t\tassert.deepStrictEqual(actual.updated[0].workspaces, undefined);\n\n\t\tassert.deepStrictEqual(actual.updated[1].id, profile2.id);\n\t\tassert.deepStrictEqual(actual.updated[1].workspaces?.length, 1);\n\t\tassert.deepStrictEqual(actual.updated[1].workspaces[0].toString(), workspace.toString());\n\t});\n\n\ttest('unassociate workspace to a profile should update workspaces', async () => {\n\t\tconst workspace = URI.file('/workspace1');\n\t\tconst profile = await testObject.createProfile('id', 'name', {}, { id: workspace.path, uri: workspace });\n\n\t\tconst promise = Event.toPromise(testObject.onDidChangeProfiles);\n\t\ttestObject.unsetWorkspace({ id: workspace.path, uri: workspace });\n\n\t\tconst actual = await promise;\n\t\tassert.deepStrictEqual(actual.added.length, 0);\n\t\tassert.deepStrictEqual(actual.removed.length, 0);\n\t\tassert.deepStrictEqual(actual.updated.length, 1);\n\n\t\tassert.deepStrictEqual(actual.updated[0].id, profile.id);\n\t\tassert.deepStrictEqual(actual.updated[0].workspaces, undefined);\n\t});\n\n\ttest('update profile workspaces - add workspace', async () => {\n\t\tlet profile = await testObject.createNamedProfile('name');\n\t\tconst workspace = URI.file('/workspace1');\n\t\tprofile = await testObject.updateProfile(profile, { workspaces: [workspace] });\n\n\t\tassert.deepStrictEqual(profile.workspaces?.length, 1);\n\t\tassert.deepStrictEqual(profile.workspaces[0].toString(), workspace.toString());\n\t});\n\n\ttest('update profile workspaces - remove workspace', async () => {\n\t\tlet profile = await testObject.createNamedProfile('name');\n\t\tconst workspace = URI.file('/workspace1');\n\t\tprofile = await testObject.updateProfile(profile, { workspaces: [workspace] });\n\t\tprofile = await testObject.updateProfile(profile, { workspaces: [] });\n\n\t\tassert.deepStrictEqual(profile.workspaces, undefined);\n\t});\n\n\ttest('update profile workspaces - replace workspace', async () => {\n\t\tlet profile = await testObject.createNamedProfile('name');\n\t\tprofile = await testObject.updateProfile(profile, { workspaces: [URI.file('/workspace1')] });\n\n\t\tconst workspace = URI.file('/workspace2');\n\t\tprofile = await testObject.updateProfile(profile, { workspaces: [workspace] });\n\n\t\tassert.deepStrictEqual(profile.workspaces?.length, 1);\n\t\tassert.deepStrictEqual(profile.workspaces[0].toString(), workspace.toString());\n\t});\n\n\ttest('update default profile workspaces - add workspace', async () => {\n\t\tconst workspace = URI.file('/workspace1');\n\t\tawait testObject.updateProfile(testObject.defaultProfile, { workspaces: [workspace] });\n\n\t\tassert.deepStrictEqual(testObject.profiles.length, 1);\n\t\tassert.deepStrictEqual(testObject.profiles[0], testObject.defaultProfile);\n\t\tassert.deepStrictEqual(testObject.defaultProfile.isDefault, true);\n\t\tassert.deepStrictEqual(testObject.defaultProfile.workspaces?.length, 1);\n\t\tassert.deepStrictEqual(testObject.defaultProfile.workspaces[0].toString(), workspace.toString());\n\t});\n\n\ttest('can create transient and persistent profiles with same name', async () => {\n\t\tconst profile1 = await testObject.createNamedProfile('name', { transient: true });\n\t\tconst profile2 = await testObject.createNamedProfile('name', { transient: true });\n\t\tconst profile3 = await testObject.createNamedProfile('name');\n\n\t\tassert.deepStrictEqual(profile1.name, 'name');\n\t\tassert.deepStrictEqual(!!profile1.isTransient, true);\n\t\tassert.deepStrictEqual(profile2.name, 'name');\n\t\tassert.deepStrictEqual(!!profile2.isTransient, true);\n\t\tassert.deepStrictEqual(profile3.name, 'name');\n\t\tassert.deepStrictEqual(!!profile3.isTransient, false);\n\t\tassert.deepStrictEqual(testObject.profiles.length, 4);\n\t\tassert.deepStrictEqual(testObject.profiles[1].id, profile3.id);\n\t\tassert.deepStrictEqual(testObject.profiles[2].id, profile1.id);\n\t\tassert.deepStrictEqual(testObject.profiles[3].id, profile2.id);\n\t});\n\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { FileService } from '../../../files/common/fileService.js';\nimport { NullLogService } from '../../../log/common/log.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { joinPath } from '../../../../base/common/resources.js';\nimport { InMemoryFileSystemProvider } from '../../../files/common/inMemoryFilesystemProvider.js';\nimport { AbstractNativeEnvironmentService } from '../../../environment/common/environmentService.js';\nimport product from '../../../product/common/product.js';\nimport { InMemoryUserDataProfilesService, UserDataProfilesService } from '../../common/userDataProfile.js';\nimport { UriIdentityService } from '../../../uriIdentity/common/uriIdentityService.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\nimport { Event } from '../../../../base/common/event.js';\n\nconst ROOT = URI.file('tests').with({ scheme: 'vscode-tests' });\n\nclass TestEnvironmentService extends AbstractNativeEnvironmentService {\n\tconstructor(private readonly _appSettingsHome: URI) {\n\t\tsuper(Object.create(null), Object.create(null), { _serviceBrand: undefined, ...product });\n\t}\n\toverride get userRoamingDataHome() { return this._appSettingsHome.with({ scheme: Schemas.vscodeUserData }); }\n\toverride get cacheHome() { return this.userRoamingDataHome; }\n}\n\nsuite('UserDataProfileService (Common)', () => {\n\n\tconst disposables = ensureNoDisposablesAreLeakedInTestSuite();\n\tlet testObject: UserDataProfilesService;\n\tlet environmentService: TestEnvironmentService;\n\n\tsetup(async () => {\n\t\tconst logService = new NullLogService();\n\t\tconst fileService = disposables.add(new FileService(logService));\n\t\tconst fileSystemProvider = disposables.add(new InMemoryFileSystemProvider());\n\t\tdisposables.add(fileService.registerProvider(ROOT.scheme, fileSystemProvider));\n\t\tdisposables.add(fileService.registerProvider(Schemas.vscodeUserData, fileSystemProvider));\n\n\t\tenvironmentService = new TestEnvironmentService(joinPath(ROOT, 'User'));\n\t\ttestObject = disposables.add(new InMemoryUserDataProfilesService(environmentService, fileService, disposables.add(new UriIdentityService(fileService)), logService));\n\t});\n\n\n\ttest('default profile', () => {\n\t\tassert.strictEqual(testObject.defaultProfile.isDefault, true);\n\t\tassert.strictEqual(testObject.defaultProfile.useDefaultFlags, undefined);\n\t\tassert.strictEqual(testObject.defaultProfile.location.toString(), environmentService.userRoamingDataHome.toString());\n\t\tassert.strictEqual(testObject.defaultProfile.globalStorageHome.toString(), joinPath(environmentService.userRoamingDataHome, 'globalStorage').toString());\n\t\tassert.strictEqual(testObject.defaultProfile.keybindingsResource.toString(), joinPath(environmentService.userRoamingDataHome, 'keybindings.json').toString());\n\t\tassert.strictEqual(testObject.defaultProfile.settingsResource.toString(), joinPath(environmentService.userRoamingDataHome, 'settings.json').toString());\n\t\tassert.strictEqual(testObject.defaultProfile.snippetsHome.toString(), joinPath(environmentService.userRoamingDataHome, 'snippets').toString());\n\t\tassert.strictEqual(testObject.defaultProfile.tasksResource.toString(), joinPath(environmentService.userRoamingDataHome, 'tasks.json').toString());\n\t\tassert.strictEqual(testObject.defaultProfile.extensionsResource.toString(), joinPath(environmentService.userRoamingDataHome, 'extensions.json').toString());\n\t});\n\n\ttest('profiles always include default profile', () => {\n\t\tassert.deepStrictEqual(testObject.profiles.length, 1);\n\t\tassert.deepStrictEqual(testObject.profiles[0].isDefault, true);\n\t});\n\n\ttest('create profile with id', async () => {\n\t\tconst profile = await testObject.createProfile('id', 'name');\n\t\tassert.deepStrictEqual(testObject.profiles.length, 2);\n\t\tassert.deepStrictEqual(profile.id, 'id');\n\t\tassert.deepStrictEqual(profile.name, 'name');\n\t\tassert.deepStrictEqual(!!profile.isTransient, false);\n\t\tassert.deepStrictEqual(testObject.profiles[1].id, profile.id);\n\t\tassert.deepStrictEqual(testObject.profiles[1].name, profile.name);\n\t});\n\n\ttest('create profile with id, name and transient', async () => {\n\t\tconst profile = await testObject.createProfile('id', 'name', { transient: true });\n\t\tassert.deepStrictEqual(testObject.profiles.length, 2);\n\t\tassert.deepStrictEqual(profile.id, 'id');\n\t\tassert.deepStrictEqual(profile.name, 'name');\n\t\tassert.deepStrictEqual(!!profile.isTransient, true);\n\t\tassert.deepStrictEqual(testObject.profiles[1].id, profile.id);\n\t});\n\n\ttest('create transient profiles', async () => {\n\t\tconst profile1 = await testObject.createTransientProfile();\n\t\tconst profile2 = await testObject.createTransientProfile();\n\t\tconst profile3 = await testObject.createTransientProfile();\n\t\tconst profile4 = await testObject.createProfile('id', 'name', { transient: true });\n\n\t\tassert.deepStrictEqual(testObject.profiles.length, 5);\n\t\tassert.deepStrictEqual(profile1.name, 'Temp 1');\n\t\tassert.deepStrictEqual(profile1.isTransient, true);\n\t\tassert.deepStrictEqual(testObject.profiles[1].id, profile1.id);\n\t\tassert.deepStrictEqual(profile2.name, 'Temp 2');\n\t\tassert.deepStrictEqual(profile2.isTransient, true);\n\t\tassert.deepStrictEqual(testObject.profiles[2].id, profile2.id);\n\t\tassert.deepStrictEqual(profile3.name, 'Temp 3');\n\t\tassert.deepStrictEqual(profile3.isTransient, true);\n\t\tassert.deepStrictEqual(testObject.profiles[3].id, profile3.id);\n\t\tassert.deepStrictEqual(profile4.name, 'name');\n\t\tassert.deepStrictEqual(profile4.isTransient, true);\n\t\tassert.deepStrictEqual(testObject.profiles[4].id, profile4.id);\n\t});\n\n\ttest('create transient profile when a normal profile with Temp is already created', async () => {\n\t\tawait testObject.createNamedProfile('Temp 1');\n\t\tconst profile1 = await testObject.createTransientProfile();\n\n\t\tassert.deepStrictEqual(profile1.name, 'Temp 2');\n\t\tassert.deepStrictEqual(profile1.isTransient, true);\n\t});\n\n\ttest('profiles include default profile with extension resource defined when transiet prrofile is created', async () => {\n\t\tawait testObject.createTransientProfile();\n\n\t\tassert.deepStrictEqual(testObject.profiles.length, 2);\n\t\tassert.deepStrictEqual(testObject.profiles[0].isDefault, true);\n\t});\n\n\ttest('profiles include default profile with extension resource undefined when transiet prrofile is removed', async () => {\n\t\tconst profile = await testObject.createTransientProfile();\n\t\tawait testObject.removeProfile(profile);\n\n\t\tassert.deepStrictEqual(testObject.profiles.length, 1);\n\t\tassert.deepStrictEqual(testObject.profiles[0].isDefault, true);\n\t});\n\n\ttest('update named profile', async () => {\n\t\tconst profile = await testObject.createNamedProfile('name');\n\t\tawait testObject.updateProfile(profile, { name: 'name changed' });\n\n\t\tassert.deepStrictEqual(testObject.profiles.length, 2);\n\t\tassert.deepStrictEqual(testObject.profiles[1].name, 'name changed');\n\t\tassert.deepStrictEqual(!!testObject.profiles[1].isTransient, false);\n\t\tassert.deepStrictEqual(testObject.profiles[1].id, profile.id);\n\t});\n\n\ttest('persist transient profile', async () => {\n\t\tconst profile = await testObject.createTransientProfile();\n\t\tawait testObject.updateProfile(profile, { name: 'saved', transient: false });\n\n\t\tassert.deepStrictEqual(testObject.profiles.length, 2);\n\t\tassert.deepStrictEqual(testObject.profiles[1].name, 'saved');\n\t\tassert.deepStrictEqual(!!testObject.profiles[1].isTransient, false);\n\t\tassert.deepStrictEqual(testObject.profiles[1].id, profile.id);\n\t});\n\n\ttest('persist transient profile (2)', async () => {\n\t\tconst profile = await testObject.createProfile('id', 'name', { transient: true });\n\t\tawait testObject.updateProfile(profile, { name: 'saved', transient: false });\n\n\t\tassert.deepStrictEqual(testObject.profiles.length, 2);\n\t\tassert.deepStrictEqual(testObject.profiles[1].name, 'saved');\n\t\tassert.deepStrictEqual(!!testObject.profiles[1].isTransient, false);\n\t\tassert.deepStrictEqual(testObject.profiles[1].id, profile.id);\n\t});\n\n\ttest('save transient profile', async () => {\n\t\tconst profile = await testObject.createTransientProfile();\n\t\tawait testObject.updateProfile(profile, { name: 'saved' });\n\n\t\tassert.deepStrictEqual(testObject.profiles.length, 2);\n\t\tassert.deepStrictEqual(testObject.profiles[1].name, 'saved');\n\t\tassert.deepStrictEqual(!!testObject.profiles[1].isTransient, true);\n\t\tassert.deepStrictEqual(testObject.profiles[1].id, profile.id);\n\t});\n\n\ttest('profile using default profile for settings', async () => {\n\t\tconst profile = await testObject.createNamedProfile('name', { useDefaultFlags: { settings: true } });\n\n\t\tassert.strictEqual(profile.isDefault, false);\n\t\tassert.deepStrictEqual(profile.useDefaultFlags, { settings: true });\n\t\tassert.strictEqual(profile.settingsResource.toString(), testObject.defaultProfile.settingsResource.toString());\n\t});\n\n\ttest('profile using default profile for keybindings', async () => {\n\t\tconst profile = await testObject.createNamedProfile('name', { useDefaultFlags: { keybindings: true } });\n\n\t\tassert.strictEqual(profile.isDefault, false);\n\t\tassert.deepStrictEqual(profile.useDefaultFlags, { keybindings: true });\n\t\tassert.strictEqual(profile.keybindingsResource.toString(), testObject.defaultProfile.keybindingsResource.toString());\n\t});\n\n\ttest('profile using default profile for snippets', async () => {\n\t\tconst profile = await testObject.createNamedProfile('name', { useDefaultFlags: { snippets: true } });\n\n\t\tassert.strictEqual(profile.isDefault, false);\n\t\tassert.deepStrictEqual(profile.useDefaultFlags, { snippets: true });\n\t\tassert.strictEqual(profile.snippetsHome.toString(), testObject.defaultProfile.snippetsHome.toString());\n\t});\n\n\ttest('profile using default profile for tasks', async () => {\n\t\tconst profile = await testObject.createNamedProfile('name', { useDefaultFlags: { tasks: true } });\n\n\t\tassert.strictEqual(profile.isDefault, false);\n\t\tassert.deepStrictEqual(profile.useDefaultFlags, { tasks: true });\n\t\tassert.strictEqual(profile.tasksResource.toString(), testObject.defaultProfile.tasksResource.toString());\n\t});\n\n\ttest('profile using default profile for global state', async () => {\n\t\tconst profile = await testObject.createNamedProfile('name', { useDefaultFlags: { globalState: true } });\n\n\t\tassert.strictEqual(profile.isDefault, false);\n\t\tassert.deepStrictEqual(profile.useDefaultFlags, { globalState: true });\n\t\tassert.strictEqual(profile.globalStorageHome.toString(), testObject.defaultProfile.globalStorageHome.toString());\n\t});\n\n\ttest('profile using default profile for extensions', async () => {\n\t\tconst profile = await testObject.createNamedProfile('name', { useDefaultFlags: { extensions: true } });\n\n\t\tassert.strictEqual(profile.isDefault, false);\n\t\tassert.deepStrictEqual(profile.useDefaultFlags, { extensions: true });\n\t\tassert.strictEqual(profile.extensionsResource.toString(), testObject.defaultProfile.extensionsResource.toString());\n\t});\n\n\ttest('update profile using default profile for keybindings', async () => {\n\t\tlet profile = await testObject.createNamedProfile('name');\n\t\tprofile = await testObject.updateProfile(profile, { useDefaultFlags: { keybindings: true } });\n\n\t\tassert.strictEqual(profile.isDefault, false);\n\t\tassert.deepStrictEqual(profile.useDefaultFlags, { keybindings: true });\n\t\tassert.strictEqual(profile.keybindingsResource.toString(), testObject.defaultProfile.keybindingsResource.toString());\n\t});\n\n\ttest('create profile with a workspace associates it to the profile', async () => {\n\t\tconst workspace = URI.file('/workspace1');\n\t\tconst profile = await testObject.createProfile('id', 'name', {}, { id: workspace.path, uri: workspace });\n\t\tassert.deepStrictEqual(profile.workspaces?.length, 1);\n\t\tassert.deepStrictEqual(profile.workspaces?.[0].toString(), workspace.toString());\n\t});\n\n\ttest('associate workspace to a profile should update workspaces', async () => {\n\t\tconst profile = await testObject.createProfile('id', 'name', {});\n\t\tconst workspace = URI.file('/workspace1');\n\n\t\tconst promise = Event.toPromise(testObject.onDidChangeProfiles);\n\t\tawait testObject.setProfileForWorkspace({ id: workspace.path, uri: workspace }, profile);\n\n\t\tconst actual = await promise;\n\t\tassert.deepStrictEqual(actual.added.length, 0);\n\t\tassert.deepStrictEqual(actual.removed.length, 0);\n\t\tassert.deepStrictEqual(actual.updated.length, 1);\n\n\t\tassert.deepStrictEqual(actual.updated[0].id, profile.id);\n\t\tassert.deepStrictEqual(actual.updated[0].workspaces?.length, 1);\n\t\tassert.deepStrictEqual(actual.updated[0].workspaces[0].toString(), workspace.toString());\n\t});\n\n\ttest('associate same workspace to a profile should not duplicate', async () => {\n\t\tconst workspace = URI.file('/workspace1');\n\t\tconst profile = await testObject.createProfile('id', 'name', { workspaces: [workspace] });\n\n\t\tawait testObject.setProfileForWorkspace({ id: workspace.path, uri: workspace }, profile);\n\n\t\tassert.deepStrictEqual(testObject.profiles[1].workspaces?.length, 1);\n\t\tassert.deepStrictEqual(testObject.profiles[1].workspaces[0].toString(), workspace.toString());\n\t});\n\n\ttest('associate workspace to another profile should update workspaces', async () => {\n\t\tconst workspace = URI.file('/workspace1');\n\t\tconst profile1 = await testObject.createProfile('id', 'name', {}, { id: workspace.path, uri: workspace });\n\t\tconst profile2 = await testObject.createProfile('id1', 'name1');\n\n\t\tconst promise = Event.toPromise(testObject.onDidChangeProfiles);\n\t\tawait testObject.setProfileForWorkspace({ id: workspace.path, uri: workspace }, profile2);\n\n\t\tconst actual = await promise;\n\t\tassert.deepStrictEqual(actual.added.length, 0);\n\t\tassert.deepStrictEqual(actual.removed.length, 0);\n\t\tassert.deepStrictEqual(actual.updated.length, 2);\n\n\t\tassert.deepStrictEqual(actual.updated[0].id, profile1.id);\n\t\tassert.deepStrictEqual(actual.updated[0].workspaces, undefined);\n\n\t\tassert.deepStrictEqual(actual.updated[1].id, profile2.id);\n\t\tassert.deepStrictEqual(actual.updated[1].workspaces?.length, 1);\n\t\tassert.deepStrictEqual(actual.updated[1].workspaces[0].toString(), workspace.toString());\n\t});\n\n\ttest('unassociate workspace to a profile should update workspaces', async () => {\n\t\tconst workspace = URI.file('/workspace1');\n\t\tconst profile = await testObject.createProfile('id', 'name', {}, { id: workspace.path, uri: workspace });\n\n\t\tconst promise = Event.toPromise(testObject.onDidChangeProfiles);\n\t\ttestObject.unsetWorkspace({ id: workspace.path, uri: workspace });\n\n\t\tconst actual = await promise;\n\t\tassert.deepStrictEqual(actual.added.length, 0);\n\t\tassert.deepStrictEqual(actual.removed.length, 0);\n\t\tassert.deepStrictEqual(actual.updated.length, 1);\n\n\t\tassert.deepStrictEqual(actual.updated[0].id, profile.id);\n\t\tassert.deepStrictEqual(actual.updated[0].workspaces, undefined);\n\t});\n\n\ttest('update profile workspaces - add workspace', async () => {\n\t\tlet profile = await testObject.createNamedProfile('name');\n\t\tconst workspace = URI.file('/workspace1');\n\t\tprofile = await testObject.updateProfile(profile, { workspaces: [workspace] });\n\n\t\tassert.deepStrictEqual(profile.workspaces?.length, 1);\n\t\tassert.deepStrictEqual(profile.workspaces[0].toString(), workspace.toString());\n\t});\n\n\ttest('update profile workspaces - remove workspace', async () => {\n\t\tlet profile = await testObject.createNamedProfile('name');\n\t\tconst workspace = URI.file('/workspace1');\n\t\tprofile = await testObject.updateProfile(profile, { workspaces: [workspace] });\n\t\tprofile = await testObject.updateProfile(profile, { workspaces: [] });\n\n\t\tassert.deepStrictEqual(profile.workspaces, undefined);\n\t});\n\n\ttest('update profile workspaces - replace workspace', async () => {\n\t\tlet profile = await testObject.createNamedProfile('name');\n\t\tprofile = await testObject.updateProfile(profile, { workspaces: [URI.file('/workspace1')] });\n\n\t\tconst workspace = URI.file('/workspace2');\n\t\tprofile = await testObject.updateProfile(profile, { workspaces: [workspace] });\n\n\t\tassert.deepStrictEqual(profile.workspaces?.length, 1);\n\t\tassert.deepStrictEqual(profile.workspaces[0].toString(), workspace.toString());\n\t});\n\n\ttest('update default profile workspaces - add workspace', async () => {\n\t\tconst workspace = URI.file('/workspace1');\n\t\tawait testObject.updateProfile(testObject.defaultProfile, { workspaces: [workspace] });\n\n\t\tassert.deepStrictEqual(testObject.profiles.length, 1);\n\t\tassert.deepStrictEqual(testObject.profiles[0], testObject.defaultProfile);\n\t\tassert.deepStrictEqual(testObject.defaultProfile.isDefault, true);\n\t\tassert.deepStrictEqual(testObject.defaultProfile.workspaces?.length, 1);\n\t\tassert.deepStrictEqual(testObject.defaultProfile.workspaces[0].toString(), workspace.toString());\n\t});\n\n\ttest('can create transient and persistent profiles with same name', async () => {\n\t\tconst profile1 = await testObject.createNamedProfile('name', { transient: true });\n\t\tconst profile2 = await testObject.createNamedProfile('name', { transient: true });\n\t\tconst profile3 = await testObject.createNamedProfile('name');\n\n\t\tassert.deepStrictEqual(profile1.name, 'name');\n\t\tassert.deepStrictEqual(!!profile1.isTransient, true);\n\t\tassert.deepStrictEqual(profile2.name, 'name');\n\t\tassert.deepStrictEqual(!!profile2.isTransient, true);\n\t\tassert.deepStrictEqual(profile3.name, 'name');\n\t\tassert.deepStrictEqual(!!profile3.isTransient, false);\n\t\tassert.deepStrictEqual(testObject.profiles.length, 4);\n\t\tassert.deepStrictEqual(testObject.profiles[1].id, profile3.id);\n\t\tassert.deepStrictEqual(testObject.profiles[2].id, profile1.id);\n\t\tassert.deepStrictEqual(testObject.profiles[3].id, profile2.id);\n\t});\n\n});\n"]}