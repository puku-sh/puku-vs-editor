{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/platform/userDataSync/common/mcpSync.ts","vs/platform/userDataSync/common/mcpSync.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;AAEhG,OAAO,EAAE,qBAAqB,EAAE,MAAM,6CAA6C,CAAC;AACpF,OAAO,EAAE,mBAAmB,EAAE,MAAM,yCAAyC,CAAC;AAC9E,OAAO,EAAE,YAAY,EAAE,MAAM,6BAA6B,CAAC;AAE3D,OAAO,EAAE,eAAe,EAAE,MAAM,iCAAiC,CAAC;AAClE,OAAO,EAAE,iBAAiB,EAAE,MAAM,qCAAqC,CAAC;AACxE,OAAO,EAAE,mBAAmB,EAAE,MAAM,yCAAyC,CAAC;AAE9E,OAAO,EAAE,wBAAwB,EAAE,MAAM,+BAA+B,CAAC;AACzE,OAAO,EAAE,8BAA8B,EAAyB,uBAAuB,EAAE,8BAA8B,EAAE,yBAAyB,EAAgB,MAAM,mBAAmB,CAAC;AAM5L,MAAM,UAAU,4BAA4B,CAAC,WAAmB,EAAE,UAAuB;IACxF,IAAI,CAAC;QACJ,MAAM,MAAM,GAAoB,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;QACxD,OAAO,MAAM,CAAC,GAAG,IAAI,IAAI,CAAC;IAC3B,CAAC;IAAC,OAAO,CAAC,EAAE,CAAC;QACZ,UAAU,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACpB,OAAO,IAAI,CAAC;IACb,CAAC;AACF,CAAC;AAEM,IAAM,eAAe,GAArB,MAAM,eAAgB,SAAQ,wBAAwB;IAE5D,YACC,OAAyB,EACzB,UAA8B,EACH,wBAAmD,EAC9C,6BAA6D,EACpE,UAAmC,EACrC,oBAA2C,EAClC,6BAA6D,EAC/E,WAAyB,EAClB,kBAAuC,EAC3C,cAA+B,EAC7B,gBAAmC,EACjC,kBAAuC;QAE5D,KAAK,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,YAAY,8BAAkB,EAAE,OAAO,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,WAAW,EAAE,kBAAkB,EAAE,cAAc,EAAE,wBAAwB,EAAE,6BAA6B,EAAE,6BAA6B,EAAE,gBAAgB,EAAE,UAAU,EAAE,oBAAoB,EAAE,kBAAkB,CAAC,CAAC;IAClT,CAAC;IAES,yBAAyB,CAAC,WAAmB;QACtD,OAAO,4BAA4B,CAAC,WAAW,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;IACnE,CAAC;IAES,aAAa,CAAC,GAAkB;QACzC,OAAO,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;IAC3B,CAAC;CACD,CAAA;AA1BY,eAAe;IAKzB,WAAA,yBAAyB,CAAA;IACzB,WAAA,8BAA8B,CAAA;IAC9B,WAAA,uBAAuB,CAAA;IACvB,WAAA,qBAAqB,CAAA;IACrB,WAAA,8BAA8B,CAAA;IAC9B,WAAA,YAAY,CAAA;IACZ,WAAA,mBAAmB,CAAA;IACnB,WAAA,eAAe,CAAA;IACf,YAAA,iBAAiB,CAAA;IACjB,YAAA,mBAAmB,CAAA;GAdT,eAAe,CA0B3B","file":"mcpSync.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\nimport { IEnvironmentService } from '../../environment/common/environment.js';\nimport { IFileService } from '../../files/common/files.js';\nimport { ILogService } from '../../log/common/log.js';\nimport { IStorageService } from '../../storage/common/storage.js';\nimport { ITelemetryService } from '../../telemetry/common/telemetry.js';\nimport { IUriIdentityService } from '../../uriIdentity/common/uriIdentity.js';\nimport { IUserDataProfile } from '../../userDataProfile/common/userDataProfile.js';\nimport { AbstractJsonSynchronizer } from './abstractJsonSynchronizer.js';\nimport { IUserDataSyncLocalStoreService, IUserDataSynchroniser, IUserDataSyncLogService, IUserDataSyncEnablementService, IUserDataSyncStoreService, SyncResource } from './userDataSync.js';\n\ninterface IMcpSyncContent {\n\tmcp?: string;\n}\n\nexport function getMcpContentFromSyncContent(syncContent: string, logService: ILogService): string | null {\n\ttry {\n\t\tconst parsed = <IMcpSyncContent>JSON.parse(syncContent);\n\t\treturn parsed.mcp ?? null;\n\t} catch (e) {\n\t\tlogService.error(e);\n\t\treturn null;\n\t}\n}\n\nexport class McpSynchroniser extends AbstractJsonSynchronizer implements IUserDataSynchroniser {\n\n\tconstructor(\n\t\tprofile: IUserDataProfile,\n\t\tcollection: string | undefined,\n\t\t@IUserDataSyncStoreService userDataSyncStoreService: IUserDataSyncStoreService,\n\t\t@IUserDataSyncLocalStoreService userDataSyncLocalStoreService: IUserDataSyncLocalStoreService,\n\t\t@IUserDataSyncLogService logService: IUserDataSyncLogService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IUserDataSyncEnablementService userDataSyncEnablementService: IUserDataSyncEnablementService,\n\t\t@IFileService fileService: IFileService,\n\t\t@IEnvironmentService environmentService: IEnvironmentService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IUriIdentityService uriIdentityService: IUriIdentityService,\n\t) {\n\t\tsuper(profile.mcpResource, { syncResource: SyncResource.Mcp, profile }, collection, 'mcp.json', fileService, environmentService, storageService, userDataSyncStoreService, userDataSyncLocalStoreService, userDataSyncEnablementService, telemetryService, logService, configurationService, uriIdentityService);\n\t}\n\n\tprotected getContentFromSyncContent(syncContent: string): string | null {\n\t\treturn getMcpContentFromSyncContent(syncContent, this.logService);\n\t}\n\n\tprotected toSyncContent(mcp: string | null): IMcpSyncContent {\n\t\treturn mcp ? { mcp } : {};\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\nimport { IEnvironmentService } from '../../environment/common/environment.js';\nimport { IFileService } from '../../files/common/files.js';\nimport { ILogService } from '../../log/common/log.js';\nimport { IStorageService } from '../../storage/common/storage.js';\nimport { ITelemetryService } from '../../telemetry/common/telemetry.js';\nimport { IUriIdentityService } from '../../uriIdentity/common/uriIdentity.js';\nimport { IUserDataProfile } from '../../userDataProfile/common/userDataProfile.js';\nimport { AbstractJsonSynchronizer } from './abstractJsonSynchronizer.js';\nimport { IUserDataSyncLocalStoreService, IUserDataSynchroniser, IUserDataSyncLogService, IUserDataSyncEnablementService, IUserDataSyncStoreService, SyncResource } from './userDataSync.js';\n\ninterface IMcpSyncContent {\n\tmcp?: string;\n}\n\nexport function getMcpContentFromSyncContent(syncContent: string, logService: ILogService): string | null {\n\ttry {\n\t\tconst parsed = <IMcpSyncContent>JSON.parse(syncContent);\n\t\treturn parsed.mcp ?? null;\n\t} catch (e) {\n\t\tlogService.error(e);\n\t\treturn null;\n\t}\n}\n\nexport class McpSynchroniser extends AbstractJsonSynchronizer implements IUserDataSynchroniser {\n\n\tconstructor(\n\t\tprofile: IUserDataProfile,\n\t\tcollection: string | undefined,\n\t\t@IUserDataSyncStoreService userDataSyncStoreService: IUserDataSyncStoreService,\n\t\t@IUserDataSyncLocalStoreService userDataSyncLocalStoreService: IUserDataSyncLocalStoreService,\n\t\t@IUserDataSyncLogService logService: IUserDataSyncLogService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IUserDataSyncEnablementService userDataSyncEnablementService: IUserDataSyncEnablementService,\n\t\t@IFileService fileService: IFileService,\n\t\t@IEnvironmentService environmentService: IEnvironmentService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IUriIdentityService uriIdentityService: IUriIdentityService,\n\t) {\n\t\tsuper(profile.mcpResource, { syncResource: SyncResource.Mcp, profile }, collection, 'mcp.json', fileService, environmentService, storageService, userDataSyncStoreService, userDataSyncLocalStoreService, userDataSyncEnablementService, telemetryService, logService, configurationService, uriIdentityService);\n\t}\n\n\tprotected getContentFromSyncContent(syncContent: string): string | null {\n\t\treturn getMcpContentFromSyncContent(syncContent, this.logService);\n\t}\n\n\tprotected toSyncContent(mcp: string | null): IMcpSyncContent {\n\t\treturn mcp ? { mcp } : {};\n\t}\n}\n"]}