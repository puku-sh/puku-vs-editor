{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/platform/userDataSync/test/common/keybindingsMerge.test.ts","vs/platform/userDataSync/test/common/keybindingsMerge.test.ts"],"names":[],"mappings":"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","file":"keybindingsMerge.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\nimport { merge } from '../../common/keybindingsMerge.js';\nimport { TestUserDataSyncUtilService } from './userDataSyncClient.js';\n\nsuite('KeybindingsMerge - No Conflicts', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('merge when local and remote are same with one entry', async () => {\n\t\tconst localContent = stringify([{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' }]);\n\t\tconst remoteContent = stringify([{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' }]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, null);\n\t\tassert.ok(!actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, localContent);\n\t});\n\n\ttest('merge when local and remote are same with similar when contexts', async () => {\n\t\tconst localContent = stringify([{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' }]);\n\t\tconst remoteContent = stringify([{ key: 'alt+c', command: 'a', when: '!editorReadonly && editorTextFocus' }]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, null);\n\t\tassert.ok(!actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, localContent);\n\t});\n\n\ttest('merge when local and remote has entries in different order', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+d', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+a', command: 'a', when: 'editorTextFocus' }\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+a', command: 'a', when: 'editorTextFocus' },\n\t\t\t{ key: 'alt+d', command: 'a', when: 'editorTextFocus && !editorReadonly' }\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, null);\n\t\tassert.ok(!actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, localContent);\n\t});\n\n\ttest('merge when local and remote are same with multiple entries', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } }\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } }\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, null);\n\t\tassert.ok(!actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, localContent);\n\t});\n\n\ttest('merge when local and remote are same with different base content', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } }\n\t\t]);\n\t\tconst baseContent = stringify([\n\t\t\t{ key: 'ctrl+c', command: 'e' },\n\t\t\t{ key: 'shift+d', command: 'd', args: { text: '`' } }\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } }\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, baseContent);\n\t\tassert.ok(!actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, localContent);\n\t});\n\n\ttest('merge when local and remote are same with multiple entries in different order', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } }\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } },\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, null);\n\t\tassert.ok(!actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, localContent);\n\t});\n\n\ttest('merge when local and remote are same when remove entry is in different order', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } }\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, null);\n\t\tassert.ok(!actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, localContent);\n\t});\n\n\ttest('merge when a new entry is added to remote', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, null);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, remoteContent);\n\t});\n\n\ttest('merge when multiple new entries are added to remote', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } },\n\t\t\t{ key: 'cmd+d', command: 'c' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, null);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, remoteContent);\n\t});\n\n\ttest('merge when multiple new entries are added to remote from base and local has not changed', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } },\n\t\t\t{ key: 'cmd+d', command: 'c' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, localContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, remoteContent);\n\t});\n\n\ttest('merge when an entry is removed from remote from base and local has not changed', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, localContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, remoteContent);\n\t});\n\n\ttest('merge when an entry (same command) is removed from remote from base and local has not changed', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, localContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, remoteContent);\n\t});\n\n\ttest('merge when an entry is updated in remote from base and local has not changed', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+d', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, localContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, remoteContent);\n\t});\n\n\ttest('merge when a command with multiple entries is updated from remote from base and local has not changed', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'shift+c', command: 'c' },\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: 'b' },\n\t\t\t{ key: 'cmd+c', command: 'a' },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'shift+c', command: 'c' },\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: 'b' },\n\t\t\t{ key: 'cmd+d', command: 'a' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, localContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, remoteContent);\n\t});\n\n\ttest('merge when remote has moved forwareded with multiple changes and local stays with base', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'cmd+e', command: 'd' },\n\t\t\t{ key: 'cmd+d', command: 'c', when: 'context1' },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+d', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'cmd+e', command: 'd' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'alt+f', command: 'f' },\n\t\t\t{ key: 'alt+d', command: '-f' },\n\t\t\t{ key: 'cmd+d', command: 'c', when: 'context1' },\n\t\t\t{ key: 'cmd+c', command: '-c' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, localContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, remoteContent);\n\t});\n\n\ttest('merge when a new entry is added to local', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, null);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, localContent);\n\t});\n\n\ttest('merge when multiple new entries are added to local', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } },\n\t\t\t{ key: 'cmd+d', command: 'c' },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, null);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, localContent);\n\t});\n\n\ttest('merge when multiple new entries are added to local from base and remote is not changed', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } },\n\t\t\t{ key: 'cmd+d', command: 'c' },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, remoteContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, localContent);\n\t});\n\n\ttest('merge when an entry is removed from local from base and remote has not changed', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, remoteContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, localContent);\n\t});\n\n\ttest('merge when an entry (with same command) is removed from local from base and remote has not changed', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, remoteContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, localContent);\n\t});\n\n\ttest('merge when an entry is updated in local from base and remote has not changed', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+d', command: 'a', when: 'editorTextFocus' },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, remoteContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, localContent);\n\t});\n\n\ttest('merge when a command with multiple entries is updated from local from base and remote has not changed', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'shift+c', command: 'c' },\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: 'b' },\n\t\t\t{ key: 'cmd+c', command: 'a' },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'shift+c', command: 'c' },\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: 'b' },\n\t\t\t{ key: 'cmd+d', command: 'a' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, remoteContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, localContent);\n\t});\n\n\ttest('merge when local has moved forwareded with multiple changes and remote stays with base', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+d', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'cmd+e', command: 'd' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'alt+f', command: 'f' },\n\t\t\t{ key: 'alt+d', command: '-f' },\n\t\t\t{ key: 'cmd+d', command: 'c', when: 'context1' },\n\t\t\t{ key: 'cmd+c', command: '-c' },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'cmd+e', command: 'd' },\n\t\t\t{ key: 'cmd+d', command: 'c', when: 'context1' },\n\t\t]);\n\t\tconst expected = stringify([\n\t\t\t{ key: 'alt+d', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'cmd+e', command: 'd' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'alt+f', command: 'f' },\n\t\t\t{ key: 'alt+d', command: '-f' },\n\t\t\t{ key: 'cmd+d', command: 'c', when: 'context1' },\n\t\t\t{ key: 'cmd+c', command: '-c' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, remoteContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, expected);\n\t});\n\n\ttest('merge when local and remote has moved forwareded with conflicts', async () => {\n\t\tconst baseContent = stringify([\n\t\t\t{ key: 'alt+d', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'ctrl+c', command: '-a' },\n\t\t\t{ key: 'cmd+e', command: 'd' },\n\t\t\t{ key: 'alt+a', command: 'f' },\n\t\t\t{ key: 'alt+d', command: '-f' },\n\t\t\t{ key: 'cmd+d', command: 'c', when: 'context1' },\n\t\t\t{ key: 'cmd+c', command: '-c' },\n\t\t]);\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+d', command: '-f' },\n\t\t\t{ key: 'cmd+e', command: 'd' },\n\t\t\t{ key: 'cmd+c', command: '-c' },\n\t\t\t{ key: 'cmd+d', command: 'c', when: 'context1' },\n\t\t\t{ key: 'alt+a', command: 'f' },\n\t\t\t{ key: 'alt+e', command: 'e' },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+a', command: 'f' },\n\t\t\t{ key: 'cmd+c', command: '-c' },\n\t\t\t{ key: 'cmd+d', command: 'd' },\n\t\t\t{ key: 'alt+d', command: '-f' },\n\t\t\t{ key: 'alt+c', command: 'c', when: 'context1' },\n\t\t\t{ key: 'alt+g', command: 'g', when: 'context2' },\n\t\t]);\n\t\tconst expected = stringify([\n\t\t\t{ key: 'alt+d', command: '-f' },\n\t\t\t{ key: 'cmd+d', command: 'd' },\n\t\t\t{ key: 'cmd+c', command: '-c' },\n\t\t\t{ key: 'alt+c', command: 'c', when: 'context1' },\n\t\t\t{ key: 'alt+a', command: 'f' },\n\t\t\t{ key: 'alt+e', command: 'e' },\n\t\t\t{ key: 'alt+g', command: 'g', when: 'context2' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, baseContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, expected);\n\t});\n\n\ttest('merge when local and remote with one entry but different value', async () => {\n\t\tconst localContent = stringify([{ key: 'alt+d', command: 'a', when: 'editorTextFocus && !editorReadonly' }]);\n\t\tconst remoteContent = stringify([{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' }]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, null);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent,\n\t\t\t`[\n\t{\n\t\t\"key\": \"alt+d\",\n\t\t\"command\": \"a\",\n\t\t\"when\": \"editorTextFocus && !editorReadonly\"\n\t}\n]`);\n\t});\n\n\ttest('merge when local and remote with different keybinding', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+d', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+a', command: '-a', when: 'editorTextFocus && !editorReadonly' }\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+a', command: '-a', when: 'editorTextFocus && !editorReadonly' }\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, null);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent,\n\t\t\t`[\n\t{\n\t\t\"key\": \"alt+d\",\n\t\t\"command\": \"a\",\n\t\t\"when\": \"editorTextFocus && !editorReadonly\"\n\t},\n\t{\n\t\t\"key\": \"alt+a\",\n\t\t\"command\": \"-a\",\n\t\t\"when\": \"editorTextFocus && !editorReadonly\"\n\t}\n]`);\n\t});\n\n\ttest('merge when the entry is removed in local but updated in remote', async () => {\n\t\tconst baseContent = stringify([{ key: 'alt+d', command: 'a', when: 'editorTextFocus && !editorReadonly' }]);\n\t\tconst localContent = stringify([]);\n\t\tconst remoteContent = stringify([{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' }]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, baseContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent,\n\t\t\t`[]`);\n\t});\n\n\ttest('merge when the entry is removed in local but updated in remote and a new entry is added in local', async () => {\n\t\tconst baseContent = stringify([{ key: 'alt+d', command: 'a', when: 'editorTextFocus && !editorReadonly' }]);\n\t\tconst localContent = stringify([{ key: 'alt+b', command: 'b' }]);\n\t\tconst remoteContent = stringify([{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' }]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, baseContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent,\n\t\t\t`[\n\t{\n\t\t\"key\": \"alt+b\",\n\t\t\"command\": \"b\"\n\t}\n]`);\n\t});\n\n\ttest('merge when the entry is removed in remote but updated in local', async () => {\n\t\tconst baseContent = stringify([{ key: 'alt+d', command: 'a', when: 'editorTextFocus && !editorReadonly' }]);\n\t\tconst localContent = stringify([{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' }]);\n\t\tconst remoteContent = stringify([]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, baseContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent,\n\t\t\t`[\n\t{\n\t\t\"key\": \"alt+c\",\n\t\t\"command\": \"a\",\n\t\t\"when\": \"editorTextFocus && !editorReadonly\"\n\t}\n]`);\n\t});\n\n\ttest('merge when the entry is removed in remote but updated in local and a new entry is added in remote', async () => {\n\t\tconst baseContent = stringify([{ key: 'alt+d', command: 'a', when: 'editorTextFocus && !editorReadonly' }]);\n\t\tconst localContent = stringify([{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' }]);\n\t\tconst remoteContent = stringify([{ key: 'alt+b', command: 'b' }]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, baseContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent,\n\t\t\t`[\n\t{\n\t\t\"key\": \"alt+c\",\n\t\t\"command\": \"a\",\n\t\t\"when\": \"editorTextFocus && !editorReadonly\"\n\t},\n\t{\n\t\t\"key\": \"alt+b\",\n\t\t\"command\": \"b\"\n\t}\n]`);\n\t});\n\n\ttest('merge when local and remote has moved forwareded with conflicts (2)', async () => {\n\t\tconst baseContent = stringify([\n\t\t\t{ key: 'alt+d', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+c', command: '-a' },\n\t\t\t{ key: 'cmd+e', command: 'd' },\n\t\t\t{ key: 'alt+a', command: 'f' },\n\t\t\t{ key: 'alt+d', command: '-f' },\n\t\t\t{ key: 'cmd+d', command: 'c', when: 'context1' },\n\t\t\t{ key: 'cmd+c', command: '-c' },\n\t\t]);\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+d', command: '-f' },\n\t\t\t{ key: 'cmd+e', command: 'd' },\n\t\t\t{ key: 'cmd+c', command: '-c' },\n\t\t\t{ key: 'cmd+d', command: 'c', when: 'context1' },\n\t\t\t{ key: 'alt+a', command: 'f' },\n\t\t\t{ key: 'alt+e', command: 'e' },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+a', command: 'f' },\n\t\t\t{ key: 'cmd+c', command: '-c' },\n\t\t\t{ key: 'cmd+d', command: 'd' },\n\t\t\t{ key: 'alt+d', command: '-f' },\n\t\t\t{ key: 'alt+c', command: 'c', when: 'context1' },\n\t\t\t{ key: 'alt+g', command: 'g', when: 'context2' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, baseContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent,\n\t\t\t`[\n\t{\n\t\t\"key\": \"alt+d\",\n\t\t\"command\": \"-f\"\n\t},\n\t{\n\t\t\"key\": \"cmd+d\",\n\t\t\"command\": \"d\"\n\t},\n\t{\n\t\t\"key\": \"cmd+c\",\n\t\t\"command\": \"-c\"\n\t},\n\t{\n\t\t\"key\": \"cmd+d\",\n\t\t\"command\": \"c\",\n\t\t\"when\": \"context1\"\n\t},\n\t{\n\t\t\"key\": \"alt+a\",\n\t\t\"command\": \"f\"\n\t},\n\t{\n\t\t\"key\": \"alt+e\",\n\t\t\"command\": \"e\"\n\t},\n\t{\n\t\t\"key\": \"alt+g\",\n\t\t\"command\": \"g\",\n\t\t\"when\": \"context2\"\n\t}\n]`);\n\t});\n\n});\n\nasync function mergeKeybindings(localContent: string, remoteContent: string, baseContent: string | null) {\n\tconst userDataSyncUtilService = new TestUserDataSyncUtilService();\n\tconst formattingOptions = await userDataSyncUtilService.resolveFormattingOptions();\n\treturn merge(localContent, remoteContent, baseContent, formattingOptions, userDataSyncUtilService);\n}\n\nfunction stringify(value: any): string {\n\treturn JSON.stringify(value, null, '\\t');\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\nimport { merge } from '../../common/keybindingsMerge.js';\nimport { TestUserDataSyncUtilService } from './userDataSyncClient.js';\n\nsuite('KeybindingsMerge - No Conflicts', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('merge when local and remote are same with one entry', async () => {\n\t\tconst localContent = stringify([{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' }]);\n\t\tconst remoteContent = stringify([{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' }]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, null);\n\t\tassert.ok(!actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, localContent);\n\t});\n\n\ttest('merge when local and remote are same with similar when contexts', async () => {\n\t\tconst localContent = stringify([{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' }]);\n\t\tconst remoteContent = stringify([{ key: 'alt+c', command: 'a', when: '!editorReadonly && editorTextFocus' }]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, null);\n\t\tassert.ok(!actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, localContent);\n\t});\n\n\ttest('merge when local and remote has entries in different order', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+d', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+a', command: 'a', when: 'editorTextFocus' }\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+a', command: 'a', when: 'editorTextFocus' },\n\t\t\t{ key: 'alt+d', command: 'a', when: 'editorTextFocus && !editorReadonly' }\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, null);\n\t\tassert.ok(!actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, localContent);\n\t});\n\n\ttest('merge when local and remote are same with multiple entries', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } }\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } }\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, null);\n\t\tassert.ok(!actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, localContent);\n\t});\n\n\ttest('merge when local and remote are same with different base content', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } }\n\t\t]);\n\t\tconst baseContent = stringify([\n\t\t\t{ key: 'ctrl+c', command: 'e' },\n\t\t\t{ key: 'shift+d', command: 'd', args: { text: '`' } }\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } }\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, baseContent);\n\t\tassert.ok(!actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, localContent);\n\t});\n\n\ttest('merge when local and remote are same with multiple entries in different order', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } }\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } },\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, null);\n\t\tassert.ok(!actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, localContent);\n\t});\n\n\ttest('merge when local and remote are same when remove entry is in different order', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } }\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, null);\n\t\tassert.ok(!actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, localContent);\n\t});\n\n\ttest('merge when a new entry is added to remote', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, null);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, remoteContent);\n\t});\n\n\ttest('merge when multiple new entries are added to remote', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } },\n\t\t\t{ key: 'cmd+d', command: 'c' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, null);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, remoteContent);\n\t});\n\n\ttest('merge when multiple new entries are added to remote from base and local has not changed', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } },\n\t\t\t{ key: 'cmd+d', command: 'c' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, localContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, remoteContent);\n\t});\n\n\ttest('merge when an entry is removed from remote from base and local has not changed', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, localContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, remoteContent);\n\t});\n\n\ttest('merge when an entry (same command) is removed from remote from base and local has not changed', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, localContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, remoteContent);\n\t});\n\n\ttest('merge when an entry is updated in remote from base and local has not changed', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+d', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, localContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, remoteContent);\n\t});\n\n\ttest('merge when a command with multiple entries is updated from remote from base and local has not changed', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'shift+c', command: 'c' },\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: 'b' },\n\t\t\t{ key: 'cmd+c', command: 'a' },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'shift+c', command: 'c' },\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: 'b' },\n\t\t\t{ key: 'cmd+d', command: 'a' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, localContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, remoteContent);\n\t});\n\n\ttest('merge when remote has moved forwareded with multiple changes and local stays with base', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'cmd+e', command: 'd' },\n\t\t\t{ key: 'cmd+d', command: 'c', when: 'context1' },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+d', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'cmd+e', command: 'd' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'alt+f', command: 'f' },\n\t\t\t{ key: 'alt+d', command: '-f' },\n\t\t\t{ key: 'cmd+d', command: 'c', when: 'context1' },\n\t\t\t{ key: 'cmd+c', command: '-c' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, localContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, remoteContent);\n\t});\n\n\ttest('merge when a new entry is added to local', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, null);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, localContent);\n\t});\n\n\ttest('merge when multiple new entries are added to local', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } },\n\t\t\t{ key: 'cmd+d', command: 'c' },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, null);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, localContent);\n\t});\n\n\ttest('merge when multiple new entries are added to local from base and remote is not changed', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } },\n\t\t\t{ key: 'cmd+d', command: 'c' },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, remoteContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, localContent);\n\t});\n\n\ttest('merge when an entry is removed from local from base and remote has not changed', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, remoteContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, localContent);\n\t});\n\n\ttest('merge when an entry (with same command) is removed from local from base and remote has not changed', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, remoteContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, localContent);\n\t});\n\n\ttest('merge when an entry is updated in local from base and remote has not changed', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+d', command: 'a', when: 'editorTextFocus' },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, remoteContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, localContent);\n\t});\n\n\ttest('merge when a command with multiple entries is updated from local from base and remote has not changed', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'shift+c', command: 'c' },\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: 'b' },\n\t\t\t{ key: 'cmd+c', command: 'a' },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'shift+c', command: 'c' },\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+d', command: 'b' },\n\t\t\t{ key: 'cmd+d', command: 'a' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, remoteContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, localContent);\n\t});\n\n\ttest('merge when local has moved forwareded with multiple changes and remote stays with base', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+d', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'cmd+e', command: 'd' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'alt+f', command: 'f' },\n\t\t\t{ key: 'alt+d', command: '-f' },\n\t\t\t{ key: 'cmd+d', command: 'c', when: 'context1' },\n\t\t\t{ key: 'cmd+c', command: '-c' },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'cmd+c', command: 'b', args: { text: '`' } },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'cmd+e', command: 'd' },\n\t\t\t{ key: 'cmd+d', command: 'c', when: 'context1' },\n\t\t]);\n\t\tconst expected = stringify([\n\t\t\t{ key: 'alt+d', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'cmd+e', command: 'd' },\n\t\t\t{ key: 'alt+d', command: '-a' },\n\t\t\t{ key: 'alt+f', command: 'f' },\n\t\t\t{ key: 'alt+d', command: '-f' },\n\t\t\t{ key: 'cmd+d', command: 'c', when: 'context1' },\n\t\t\t{ key: 'cmd+c', command: '-c' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, remoteContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, expected);\n\t});\n\n\ttest('merge when local and remote has moved forwareded with conflicts', async () => {\n\t\tconst baseContent = stringify([\n\t\t\t{ key: 'alt+d', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'ctrl+c', command: '-a' },\n\t\t\t{ key: 'cmd+e', command: 'd' },\n\t\t\t{ key: 'alt+a', command: 'f' },\n\t\t\t{ key: 'alt+d', command: '-f' },\n\t\t\t{ key: 'cmd+d', command: 'c', when: 'context1' },\n\t\t\t{ key: 'cmd+c', command: '-c' },\n\t\t]);\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+d', command: '-f' },\n\t\t\t{ key: 'cmd+e', command: 'd' },\n\t\t\t{ key: 'cmd+c', command: '-c' },\n\t\t\t{ key: 'cmd+d', command: 'c', when: 'context1' },\n\t\t\t{ key: 'alt+a', command: 'f' },\n\t\t\t{ key: 'alt+e', command: 'e' },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+a', command: 'f' },\n\t\t\t{ key: 'cmd+c', command: '-c' },\n\t\t\t{ key: 'cmd+d', command: 'd' },\n\t\t\t{ key: 'alt+d', command: '-f' },\n\t\t\t{ key: 'alt+c', command: 'c', when: 'context1' },\n\t\t\t{ key: 'alt+g', command: 'g', when: 'context2' },\n\t\t]);\n\t\tconst expected = stringify([\n\t\t\t{ key: 'alt+d', command: '-f' },\n\t\t\t{ key: 'cmd+d', command: 'd' },\n\t\t\t{ key: 'cmd+c', command: '-c' },\n\t\t\t{ key: 'alt+c', command: 'c', when: 'context1' },\n\t\t\t{ key: 'alt+a', command: 'f' },\n\t\t\t{ key: 'alt+e', command: 'e' },\n\t\t\t{ key: 'alt+g', command: 'g', when: 'context2' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, baseContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(!actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent, expected);\n\t});\n\n\ttest('merge when local and remote with one entry but different value', async () => {\n\t\tconst localContent = stringify([{ key: 'alt+d', command: 'a', when: 'editorTextFocus && !editorReadonly' }]);\n\t\tconst remoteContent = stringify([{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' }]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, null);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent,\n\t\t\t`[\n\t{\n\t\t\"key\": \"alt+d\",\n\t\t\"command\": \"a\",\n\t\t\"when\": \"editorTextFocus && !editorReadonly\"\n\t}\n]`);\n\t});\n\n\ttest('merge when local and remote with different keybinding', async () => {\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+d', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+a', command: '-a', when: 'editorTextFocus && !editorReadonly' }\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+a', command: '-a', when: 'editorTextFocus && !editorReadonly' }\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, null);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent,\n\t\t\t`[\n\t{\n\t\t\"key\": \"alt+d\",\n\t\t\"command\": \"a\",\n\t\t\"when\": \"editorTextFocus && !editorReadonly\"\n\t},\n\t{\n\t\t\"key\": \"alt+a\",\n\t\t\"command\": \"-a\",\n\t\t\"when\": \"editorTextFocus && !editorReadonly\"\n\t}\n]`);\n\t});\n\n\ttest('merge when the entry is removed in local but updated in remote', async () => {\n\t\tconst baseContent = stringify([{ key: 'alt+d', command: 'a', when: 'editorTextFocus && !editorReadonly' }]);\n\t\tconst localContent = stringify([]);\n\t\tconst remoteContent = stringify([{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' }]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, baseContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent,\n\t\t\t`[]`);\n\t});\n\n\ttest('merge when the entry is removed in local but updated in remote and a new entry is added in local', async () => {\n\t\tconst baseContent = stringify([{ key: 'alt+d', command: 'a', when: 'editorTextFocus && !editorReadonly' }]);\n\t\tconst localContent = stringify([{ key: 'alt+b', command: 'b' }]);\n\t\tconst remoteContent = stringify([{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' }]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, baseContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent,\n\t\t\t`[\n\t{\n\t\t\"key\": \"alt+b\",\n\t\t\"command\": \"b\"\n\t}\n]`);\n\t});\n\n\ttest('merge when the entry is removed in remote but updated in local', async () => {\n\t\tconst baseContent = stringify([{ key: 'alt+d', command: 'a', when: 'editorTextFocus && !editorReadonly' }]);\n\t\tconst localContent = stringify([{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' }]);\n\t\tconst remoteContent = stringify([]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, baseContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent,\n\t\t\t`[\n\t{\n\t\t\"key\": \"alt+c\",\n\t\t\"command\": \"a\",\n\t\t\"when\": \"editorTextFocus && !editorReadonly\"\n\t}\n]`);\n\t});\n\n\ttest('merge when the entry is removed in remote but updated in local and a new entry is added in remote', async () => {\n\t\tconst baseContent = stringify([{ key: 'alt+d', command: 'a', when: 'editorTextFocus && !editorReadonly' }]);\n\t\tconst localContent = stringify([{ key: 'alt+c', command: 'a', when: 'editorTextFocus && !editorReadonly' }]);\n\t\tconst remoteContent = stringify([{ key: 'alt+b', command: 'b' }]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, baseContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent,\n\t\t\t`[\n\t{\n\t\t\"key\": \"alt+c\",\n\t\t\"command\": \"a\",\n\t\t\"when\": \"editorTextFocus && !editorReadonly\"\n\t},\n\t{\n\t\t\"key\": \"alt+b\",\n\t\t\"command\": \"b\"\n\t}\n]`);\n\t});\n\n\ttest('merge when local and remote has moved forwareded with conflicts (2)', async () => {\n\t\tconst baseContent = stringify([\n\t\t\t{ key: 'alt+d', command: 'a', when: 'editorTextFocus && !editorReadonly' },\n\t\t\t{ key: 'alt+c', command: '-a' },\n\t\t\t{ key: 'cmd+e', command: 'd' },\n\t\t\t{ key: 'alt+a', command: 'f' },\n\t\t\t{ key: 'alt+d', command: '-f' },\n\t\t\t{ key: 'cmd+d', command: 'c', when: 'context1' },\n\t\t\t{ key: 'cmd+c', command: '-c' },\n\t\t]);\n\t\tconst localContent = stringify([\n\t\t\t{ key: 'alt+d', command: '-f' },\n\t\t\t{ key: 'cmd+e', command: 'd' },\n\t\t\t{ key: 'cmd+c', command: '-c' },\n\t\t\t{ key: 'cmd+d', command: 'c', when: 'context1' },\n\t\t\t{ key: 'alt+a', command: 'f' },\n\t\t\t{ key: 'alt+e', command: 'e' },\n\t\t]);\n\t\tconst remoteContent = stringify([\n\t\t\t{ key: 'alt+a', command: 'f' },\n\t\t\t{ key: 'cmd+c', command: '-c' },\n\t\t\t{ key: 'cmd+d', command: 'd' },\n\t\t\t{ key: 'alt+d', command: '-f' },\n\t\t\t{ key: 'alt+c', command: 'c', when: 'context1' },\n\t\t\t{ key: 'alt+g', command: 'g', when: 'context2' },\n\t\t]);\n\t\tconst actual = await mergeKeybindings(localContent, remoteContent, baseContent);\n\t\tassert.ok(actual.hasChanges);\n\t\tassert.ok(actual.hasConflicts);\n\t\tassert.strictEqual(actual.mergeContent,\n\t\t\t`[\n\t{\n\t\t\"key\": \"alt+d\",\n\t\t\"command\": \"-f\"\n\t},\n\t{\n\t\t\"key\": \"cmd+d\",\n\t\t\"command\": \"d\"\n\t},\n\t{\n\t\t\"key\": \"cmd+c\",\n\t\t\"command\": \"-c\"\n\t},\n\t{\n\t\t\"key\": \"cmd+d\",\n\t\t\"command\": \"c\",\n\t\t\"when\": \"context1\"\n\t},\n\t{\n\t\t\"key\": \"alt+a\",\n\t\t\"command\": \"f\"\n\t},\n\t{\n\t\t\"key\": \"alt+e\",\n\t\t\"command\": \"e\"\n\t},\n\t{\n\t\t\"key\": \"alt+g\",\n\t\t\"command\": \"g\",\n\t\t\"when\": \"context2\"\n\t}\n]`);\n\t});\n\n});\n\nasync function mergeKeybindings(localContent: string, remoteContent: string, baseContent: string | null) {\n\tconst userDataSyncUtilService = new TestUserDataSyncUtilService();\n\tconst formattingOptions = await userDataSyncUtilService.resolveFormattingOptions();\n\treturn merge(localContent, remoteContent, baseContent, formattingOptions, userDataSyncUtilService);\n}\n\nfunction stringify(value: any): string {\n\treturn JSON.stringify(value, null, '\\t');\n}\n"]}