{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/platform/markers/test/common/markerService.test.ts","vs/platform/markers/test/common/markerService.test.ts"],"names":[],"mappings":"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","file":"markerService.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\nimport { IMarkerData, MarkerSeverity } from '../../common/markers.js';\nimport * as markerService from '../../common/markerService.js';\n\nfunction randomMarkerData(severity = MarkerSeverity.Error): IMarkerData {\n\treturn {\n\t\tseverity,\n\t\tmessage: Math.random().toString(16),\n\t\tstartLineNumber: 1,\n\t\tstartColumn: 1,\n\t\tendLineNumber: 1,\n\t\tendColumn: 1\n\t};\n}\n\nsuite('Marker Service', () => {\n\n\tlet service: markerService.MarkerService;\n\n\tteardown(function () {\n\t\tservice.dispose();\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('query', () => {\n\n\t\tservice = new markerService.MarkerService();\n\n\t\tservice.changeAll('far', [{\n\t\t\tresource: URI.parse('file:///c/test/file.cs'),\n\t\t\tmarker: randomMarkerData(MarkerSeverity.Error)\n\t\t}]);\n\n\t\tassert.strictEqual(service.read().length, 1);\n\t\tassert.strictEqual(service.read({ owner: 'far' }).length, 1);\n\t\tassert.strictEqual(service.read({ resource: URI.parse('file:///c/test/file.cs') }).length, 1);\n\t\tassert.strictEqual(service.read({ owner: 'far', resource: URI.parse('file:///c/test/file.cs') }).length, 1);\n\n\n\t\tservice.changeAll('boo', [{\n\t\t\tresource: URI.parse('file:///c/test/file.cs'),\n\t\t\tmarker: randomMarkerData(MarkerSeverity.Warning)\n\t\t}]);\n\n\t\tassert.strictEqual(service.read().length, 2);\n\t\tassert.strictEqual(service.read({ owner: 'far' }).length, 1);\n\t\tassert.strictEqual(service.read({ owner: 'boo' }).length, 1);\n\n\t\tassert.strictEqual(service.read({ severities: MarkerSeverity.Error }).length, 1);\n\t\tassert.strictEqual(service.read({ severities: MarkerSeverity.Warning }).length, 1);\n\t\tassert.strictEqual(service.read({ severities: MarkerSeverity.Hint }).length, 0);\n\t\tassert.strictEqual(service.read({ severities: MarkerSeverity.Error | MarkerSeverity.Warning }).length, 2);\n\n\t});\n\n\n\ttest('changeOne override', () => {\n\n\t\tservice = new markerService.MarkerService();\n\t\tservice.changeOne('far', URI.parse('file:///path/only.cs'), [randomMarkerData()]);\n\t\tassert.strictEqual(service.read().length, 1);\n\t\tassert.strictEqual(service.read({ owner: 'far' }).length, 1);\n\n\t\tservice.changeOne('boo', URI.parse('file:///path/only.cs'), [randomMarkerData()]);\n\t\tassert.strictEqual(service.read().length, 2);\n\t\tassert.strictEqual(service.read({ owner: 'far' }).length, 1);\n\t\tassert.strictEqual(service.read({ owner: 'boo' }).length, 1);\n\n\t\tservice.changeOne('far', URI.parse('file:///path/only.cs'), [randomMarkerData(), randomMarkerData()]);\n\t\tassert.strictEqual(service.read({ owner: 'far' }).length, 2);\n\t\tassert.strictEqual(service.read({ owner: 'boo' }).length, 1);\n\n\t});\n\n\ttest('changeOne/All clears', () => {\n\n\t\tservice = new markerService.MarkerService();\n\t\tservice.changeOne('far', URI.parse('file:///path/only.cs'), [randomMarkerData()]);\n\t\tservice.changeOne('boo', URI.parse('file:///path/only.cs'), [randomMarkerData()]);\n\t\tassert.strictEqual(service.read({ owner: 'far' }).length, 1);\n\t\tassert.strictEqual(service.read({ owner: 'boo' }).length, 1);\n\t\tassert.strictEqual(service.read().length, 2);\n\n\t\tservice.changeOne('far', URI.parse('file:///path/only.cs'), []);\n\t\tassert.strictEqual(service.read({ owner: 'far' }).length, 0);\n\t\tassert.strictEqual(service.read({ owner: 'boo' }).length, 1);\n\t\tassert.strictEqual(service.read().length, 1);\n\n\t\tservice.changeAll('boo', []);\n\t\tassert.strictEqual(service.read({ owner: 'far' }).length, 0);\n\t\tassert.strictEqual(service.read({ owner: 'boo' }).length, 0);\n\t\tassert.strictEqual(service.read().length, 0);\n\t});\n\n\ttest('changeAll sends event for cleared', () => {\n\n\t\tservice = new markerService.MarkerService();\n\t\tservice.changeAll('far', [{\n\t\t\tresource: URI.parse('file:///d/path'),\n\t\t\tmarker: randomMarkerData()\n\t\t}, {\n\t\t\tresource: URI.parse('file:///d/path'),\n\t\t\tmarker: randomMarkerData()\n\t\t}]);\n\n\t\tassert.strictEqual(service.read({ owner: 'far' }).length, 2);\n\n\t\tconst d = service.onMarkerChanged(changedResources => {\n\t\t\tassert.strictEqual(changedResources.length, 1);\n\t\t\tchangedResources.forEach(u => assert.strictEqual(u.toString(), 'file:///d/path'));\n\t\t\tassert.strictEqual(service.read({ owner: 'far' }).length, 0);\n\t\t});\n\n\t\tservice.changeAll('far', []);\n\n\t\td.dispose();\n\t});\n\n\ttest('changeAll merges', () => {\n\t\tservice = new markerService.MarkerService();\n\n\t\tservice.changeAll('far', [{\n\t\t\tresource: URI.parse('file:///c/test/file.cs'),\n\t\t\tmarker: randomMarkerData()\n\t\t}, {\n\t\t\tresource: URI.parse('file:///c/test/file.cs'),\n\t\t\tmarker: randomMarkerData()\n\t\t}]);\n\n\t\tassert.strictEqual(service.read({ owner: 'far' }).length, 2);\n\t});\n\n\ttest('changeAll must not break integrety, issue #12635', () => {\n\t\tservice = new markerService.MarkerService();\n\n\t\tservice.changeAll('far', [{\n\t\t\tresource: URI.parse('scheme:path1'),\n\t\t\tmarker: randomMarkerData()\n\t\t}, {\n\t\t\tresource: URI.parse('scheme:path2'),\n\t\t\tmarker: randomMarkerData()\n\t\t}]);\n\n\t\tservice.changeAll('boo', [{\n\t\t\tresource: URI.parse('scheme:path1'),\n\t\t\tmarker: randomMarkerData()\n\t\t}]);\n\n\t\tservice.changeAll('far', [{\n\t\t\tresource: URI.parse('scheme:path1'),\n\t\t\tmarker: randomMarkerData()\n\t\t}, {\n\t\t\tresource: URI.parse('scheme:path2'),\n\t\t\tmarker: randomMarkerData()\n\t\t}]);\n\n\t\tassert.strictEqual(service.read({ owner: 'far' }).length, 2);\n\t\tassert.strictEqual(service.read({ resource: URI.parse('scheme:path1') }).length, 2);\n\t});\n\n\ttest('invalid marker data', () => {\n\n\t\tconst data = randomMarkerData();\n\t\tservice = new markerService.MarkerService();\n\n\t\tdata.message = undefined!;\n\t\tservice.changeOne('far', URI.parse('some:uri/path'), [data]);\n\t\tassert.strictEqual(service.read({ owner: 'far' }).length, 0);\n\n\t\tdata.message = null!;\n\t\tservice.changeOne('far', URI.parse('some:uri/path'), [data]);\n\t\tassert.strictEqual(service.read({ owner: 'far' }).length, 0);\n\n\t\tdata.message = 'null';\n\t\tservice.changeOne('far', URI.parse('some:uri/path'), [data]);\n\t\tassert.strictEqual(service.read({ owner: 'far' }).length, 1);\n\t});\n\n\ttest('MapMap#remove returns bad values, https://github.com/microsoft/vscode/issues/13548', () => {\n\t\tservice = new markerService.MarkerService();\n\n\t\tservice.changeOne('o', URI.parse('some:uri/1'), [randomMarkerData()]);\n\t\tservice.changeOne('o', URI.parse('some:uri/2'), []);\n\n\t});\n\n\ttest('Error code of zero in markers get removed, #31275', function () {\n\t\tconst data = <IMarkerData>{\n\t\t\tcode: '0',\n\t\t\tstartLineNumber: 1,\n\t\t\tstartColumn: 2,\n\t\t\tendLineNumber: 1,\n\t\t\tendColumn: 5,\n\t\t\tmessage: 'test',\n\t\t\tseverity: 0 as MarkerSeverity,\n\t\t\tsource: 'me'\n\t\t};\n\t\tservice = new markerService.MarkerService();\n\n\t\tservice.changeOne('far', URI.parse('some:thing'), [data]);\n\t\tconst marker = service.read({ resource: URI.parse('some:thing') });\n\n\t\tassert.strictEqual(marker.length, 1);\n\t\tassert.strictEqual(marker[0].code, '0');\n\t});\n\n\ttest('resource filter hides markers for the filtered resource', () => {\n\t\tservice = new markerService.MarkerService();\n\t\tconst resource1 = URI.parse('file:///path/file1.cs');\n\t\tconst resource2 = URI.parse('file:///path/file2.cs');\n\n\t\t// Add markers to both resources\n\t\tservice.changeOne('owner1', resource1, [randomMarkerData()]);\n\t\tservice.changeOne('owner1', resource2, [randomMarkerData()]);\n\n\t\t// Verify both resources have markers\n\t\tassert.strictEqual(service.read().length, 2);\n\t\tassert.strictEqual(service.read({ resource: resource1 }).length, 1);\n\t\tassert.strictEqual(service.read({ resource: resource2 }).length, 1);\n\n\t\t// Install filter for resource1\n\t\tconst filter = service.installResourceFilter(resource1, 'Test filter');\n\n\t\t// Verify resource1 markers are filtered out, but have 1 info marker instead\n\t\tassert.strictEqual(service.read().length, 2); // 1 real + 1 info\n\t\tassert.strictEqual(service.read({ resource: resource1 }).length, 1); // 1 info\n\t\tassert.strictEqual(service.read({ resource: resource2 }).length, 1);\n\n\t\t// Dispose filter\n\t\tfilter.dispose();\n\n\t\t// Verify resource1 markers are visible again\n\t\tassert.strictEqual(service.read().length, 2);\n\t\tassert.strictEqual(service.read({ resource: resource1 }).length, 1);\n\t\tassert.strictEqual(service.read({ resource: resource2 }).length, 1);\n\t});\n\n\ttest('resource filter hides markers for the filtered resource UNLESS explicit read', () => {\n\t\tservice = new markerService.MarkerService();\n\t\tconst resource1 = URI.parse('file:///path/file1.cs');\n\t\tconst resource2 = URI.parse('file:///path/file2.cs');\n\n\t\t// Add markers to both resources\n\t\tservice.changeOne('owner1', resource1, [randomMarkerData()]);\n\t\tservice.changeOne('owner1', resource2, [randomMarkerData()]);\n\n\t\t// Verify both resources have markers\n\t\tassert.strictEqual(service.read().length, 2);\n\t\tassert.strictEqual(service.read({ resource: resource1 }).length, 1);\n\t\tassert.strictEqual(service.read({ resource: resource2 }).length, 1);\n\n\t\t// Install filter for resource1\n\t\tconst filter = service.installResourceFilter(resource1, 'Test filter');\n\n\t\t// Verify resource1 markers are filtered out, but have 1 info marker instead\n\t\tassert.strictEqual(service.read().length, 2); // 1 real + 1 info\n\t\tassert.strictEqual(service.read({ resource: resource1 }).length, 1); // 1 info\n\t\tassert.strictEqual(service.read({ resource: resource2 }).length, 1);\n\n\t\t// Verify resource1 markers are visible again\n\t\tassert.strictEqual(service.read({ ignoreResourceFilters: true }).length, 2);\n\t\tassert.strictEqual(service.read({ resource: resource1, ignoreResourceFilters: true }).length, 1);\n\t\tassert.strictEqual(service.read({ resource: resource1, ignoreResourceFilters: true })[0].severity, MarkerSeverity.Error);\n\t\tassert.strictEqual(service.read({ resource: resource2, ignoreResourceFilters: true }).length, 1);\n\t\tassert.strictEqual(service.read({ resource: resource2, ignoreResourceFilters: true })[0].severity, MarkerSeverity.Error);\n\n\t\t// Dispose filter\n\t\tfilter.dispose();\n\t});\n\n\ttest('resource filter affects all filter combinations', () => {\n\t\tservice = new markerService.MarkerService();\n\t\tconst resource = URI.parse('file:///path/file.cs');\n\n\t\tservice.changeOne('owner1', resource, [randomMarkerData(MarkerSeverity.Error)]);\n\t\tservice.changeOne('owner2', resource, [randomMarkerData(MarkerSeverity.Warning)]);\n\n\t\t// Verify initial state\n\t\tassert.strictEqual(service.read().length, 2);\n\t\tassert.strictEqual(service.read({ resource }).length, 2);\n\t\tassert.strictEqual(service.read({ owner: 'owner1' }).length, 1);\n\t\tassert.strictEqual(service.read({ owner: 'owner2' }).length, 1);\n\t\tassert.strictEqual(service.read({ owner: 'owner1', resource }).length, 1);\n\t\tassert.strictEqual(service.read({ severities: MarkerSeverity.Error }).length, 1);\n\t\tassert.strictEqual(service.read({ severities: MarkerSeverity.Warning }).length, 1);\n\n\t\t// Install filter\n\t\tconst filter = service.installResourceFilter(resource, 'Filter reason');\n\n\t\t// Verify information marker is shown for resource queries\n\t\tassert.strictEqual(service.read().length, 1); // 1 info marker\n\t\tassert.strictEqual(service.read({ resource }).length, 1); // 1 info marker\n\t\tassert.strictEqual(service.read({ owner: 'owner1' }).length, 1); // 1 info marker\n\t\tassert.strictEqual(service.read({ owner: 'owner2' }).length, 1); // 1 info marker\n\n\t\t// Verify owner+resource query returns an info marker for filtered resources\n\t\tconst ownerResourceMarkers = service.read({ owner: 'owner1', resource });\n\t\tassert.strictEqual(ownerResourceMarkers.length, 1);\n\t\tassert.strictEqual(ownerResourceMarkers[0].severity, MarkerSeverity.Info);\n\t\tassert.strictEqual(ownerResourceMarkers[0].owner, 'markersFilter');\n\n\t\tassert.strictEqual(service.read({ severities: MarkerSeverity.Error }).length, 1); // 1 info marker\n\t\tassert.strictEqual(service.read({ severities: MarkerSeverity.Warning }).length, 1); // 1 info marker\n\t\tassert.strictEqual(service.read({ severities: MarkerSeverity.Info }).length, 1); // Our info marker\n\n\t\t// Remove filter and verify markers are visible again\n\t\tfilter.dispose();\n\t\tassert.strictEqual(service.read().length, 2);\n\t});\n\n\ttest('multiple filters for same resource are handled correctly', () => {\n\t\tservice = new markerService.MarkerService();\n\t\tconst resource = URI.parse('file:///path/file.cs');\n\n\t\t// Add marker to resource\n\t\tservice.changeOne('owner1', resource, [randomMarkerData()]);\n\n\t\t// Verify resource has markers\n\t\tassert.strictEqual(service.read().length, 1);\n\t\tassert.strictEqual(service.read({ resource }).length, 1);\n\n\t\t// Install two filters for the same resource\n\t\tconst filter1 = service.installResourceFilter(resource, 'First filter');\n\t\tconst filter2 = service.installResourceFilter(resource, 'Second filter');\n\n\t\t// Verify resource markers are filtered out but info marker is shown\n\t\tassert.strictEqual(service.read().length, 1); // 1 info marker\n\t\tassert.strictEqual(service.read({ resource }).length, 1); // 1 info marker\n\n\t\t// Dispose only one filter\n\t\tfilter1.dispose();\n\n\t\t// Verify resource markers are still filtered out because one filter remains\n\t\tassert.strictEqual(service.read().length, 1); // still 1 info marker\n\t\tassert.strictEqual(service.read({ resource }).length, 1); // still 1 info marker\n\n\t\t// Dispose the second filter\n\t\tfilter2.dispose();\n\n\t\t// Now all filters are gone, so markers should be visible again\n\t\tassert.strictEqual(service.read().length, 1);\n\t\tassert.strictEqual(service.read({ resource }).length, 1);\n\t});\n\n\ttest('resource filter with reason shows info marker when markers are filtered', () => {\n\t\tservice = new markerService.MarkerService();\n\t\tconst resource = URI.parse('file:///path/file.cs');\n\n\t\t// Add error and warning to the resource\n\t\tservice.changeOne('owner1', resource, [\n\t\t\trandomMarkerData(MarkerSeverity.Error),\n\t\t\trandomMarkerData(MarkerSeverity.Warning)\n\t\t]);\n\n\t\t// Verify initial state\n\t\tassert.strictEqual(service.read().length, 2);\n\t\tassert.strictEqual(service.read({ resource }).length, 2);\n\n\t\t// Apply a filter with reason\n\t\tconst filterReason = 'Test filter reason';\n\t\tconst filter = service.installResourceFilter(resource, filterReason);\n\n\t\t// Verify that we get a single info marker with our reason\n\t\tconst markers = service.read({ resource });\n\t\tassert.strictEqual(markers.length, 1);\n\t\tassert.strictEqual(markers[0].severity, MarkerSeverity.Info);\n\t\tassert.ok(markers[0].message.includes(filterReason));\n\n\t\t// Remove filter and verify the original markers are back\n\t\tfilter.dispose();\n\t\tassert.strictEqual(service.read({ resource }).length, 2);\n\t});\n\n\ttest('reading all markers shows info marker for filtered resources', () => {\n\t\tservice = new markerService.MarkerService();\n\t\tconst resource1 = URI.parse('file:///path/file1.cs');\n\t\tconst resource2 = URI.parse('file:///path/file2.cs');\n\n\t\t// Add markers to both resources\n\t\tservice.changeOne('owner1', resource1, [randomMarkerData()]);\n\t\tservice.changeOne('owner1', resource2, [randomMarkerData()]);\n\n\t\t// Verify initial state\n\t\tassert.strictEqual(service.read().length, 2);\n\n\t\t// Filter one resource with a reason\n\t\tconst filterReason = 'Resource is being edited';\n\t\tconst filter = service.installResourceFilter(resource1, filterReason);\n\n\t\t// Read all markers\n\t\tconst allMarkers = service.read();\n\n\t\t// Should have 2 markers - one real marker and one info marker\n\t\tassert.strictEqual(allMarkers.length, 2);\n\n\t\t// Find the info marker\n\t\tconst infoMarker = allMarkers.find(marker =>\n\t\t\tmarker.owner === 'markersFilter' &&\n\t\t\tmarker.severity === MarkerSeverity.Info\n\t\t);\n\n\t\t// Verify the info marker\n\t\tassert.ok(infoMarker);\n\t\tassert.strictEqual(infoMarker?.resource.toString(), resource1.toString());\n\t\tassert.ok(infoMarker?.message.includes(filterReason));\n\n\t\t// Remove filter\n\t\tfilter.dispose();\n\t});\n\n\ttest('out of order filter disposal works correctly', () => {\n\t\tservice = new markerService.MarkerService();\n\t\tconst resource = URI.parse('file:///path/file.cs');\n\n\t\t// Add marker to resource\n\t\tservice.changeOne('owner1', resource, [randomMarkerData()]);\n\n\t\t// Verify resource has markers\n\t\tassert.strictEqual(service.read().length, 1);\n\t\tassert.strictEqual(service.read({ resource }).length, 1);\n\n\t\t// Install three filters for the same resource\n\t\tconst filter1 = service.installResourceFilter(resource, 'First filter');\n\t\tconst filter2 = service.installResourceFilter(resource, 'Second filter');\n\t\tconst filter3 = service.installResourceFilter(resource, 'Third filter');\n\n\t\t// Verify resource markers are filtered out but info marker is shown\n\t\tassert.strictEqual(service.read().length, 1); // 1 info marker\n\t\tassert.strictEqual(service.read({ resource }).length, 1); // 1 info marker\n\n\t\t// Dispose filters in a different order than they were created\n\t\tfilter2.dispose();  // Remove the second filter first\n\n\t\t// Verify resource markers are still filtered out with 2 filters remaining\n\t\tassert.strictEqual(service.read().length, 1); // still 1 info marker\n\t\tassert.strictEqual(service.read({ resource }).length, 1); // still 1 info marker\n\n\t\t// Check if message contains the correct count of filters\n\t\tconst markers = service.read({ resource });\n\t\tassert.ok(markers[0].message.includes('Problems are paused because'));\n\n\t\t// Remove remaining filters in any order\n\t\tfilter3.dispose();\n\t\tfilter1.dispose();\n\n\t\t// Now all filters are gone, so markers should be visible again\n\t\tassert.strictEqual(service.read().length, 1);\n\t\tassert.strictEqual(service.read({ resource }).length, 1);\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\nimport { IMarkerData, MarkerSeverity } from '../../common/markers.js';\nimport * as markerService from '../../common/markerService.js';\n\nfunction randomMarkerData(severity = MarkerSeverity.Error): IMarkerData {\n\treturn {\n\t\tseverity,\n\t\tmessage: Math.random().toString(16),\n\t\tstartLineNumber: 1,\n\t\tstartColumn: 1,\n\t\tendLineNumber: 1,\n\t\tendColumn: 1\n\t};\n}\n\nsuite('Marker Service', () => {\n\n\tlet service: markerService.MarkerService;\n\n\tteardown(function () {\n\t\tservice.dispose();\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('query', () => {\n\n\t\tservice = new markerService.MarkerService();\n\n\t\tservice.changeAll('far', [{\n\t\t\tresource: URI.parse('file:///c/test/file.cs'),\n\t\t\tmarker: randomMarkerData(MarkerSeverity.Error)\n\t\t}]);\n\n\t\tassert.strictEqual(service.read().length, 1);\n\t\tassert.strictEqual(service.read({ owner: 'far' }).length, 1);\n\t\tassert.strictEqual(service.read({ resource: URI.parse('file:///c/test/file.cs') }).length, 1);\n\t\tassert.strictEqual(service.read({ owner: 'far', resource: URI.parse('file:///c/test/file.cs') }).length, 1);\n\n\n\t\tservice.changeAll('boo', [{\n\t\t\tresource: URI.parse('file:///c/test/file.cs'),\n\t\t\tmarker: randomMarkerData(MarkerSeverity.Warning)\n\t\t}]);\n\n\t\tassert.strictEqual(service.read().length, 2);\n\t\tassert.strictEqual(service.read({ owner: 'far' }).length, 1);\n\t\tassert.strictEqual(service.read({ owner: 'boo' }).length, 1);\n\n\t\tassert.strictEqual(service.read({ severities: MarkerSeverity.Error }).length, 1);\n\t\tassert.strictEqual(service.read({ severities: MarkerSeverity.Warning }).length, 1);\n\t\tassert.strictEqual(service.read({ severities: MarkerSeverity.Hint }).length, 0);\n\t\tassert.strictEqual(service.read({ severities: MarkerSeverity.Error | MarkerSeverity.Warning }).length, 2);\n\n\t});\n\n\n\ttest('changeOne override', () => {\n\n\t\tservice = new markerService.MarkerService();\n\t\tservice.changeOne('far', URI.parse('file:///path/only.cs'), [randomMarkerData()]);\n\t\tassert.strictEqual(service.read().length, 1);\n\t\tassert.strictEqual(service.read({ owner: 'far' }).length, 1);\n\n\t\tservice.changeOne('boo', URI.parse('file:///path/only.cs'), [randomMarkerData()]);\n\t\tassert.strictEqual(service.read().length, 2);\n\t\tassert.strictEqual(service.read({ owner: 'far' }).length, 1);\n\t\tassert.strictEqual(service.read({ owner: 'boo' }).length, 1);\n\n\t\tservice.changeOne('far', URI.parse('file:///path/only.cs'), [randomMarkerData(), randomMarkerData()]);\n\t\tassert.strictEqual(service.read({ owner: 'far' }).length, 2);\n\t\tassert.strictEqual(service.read({ owner: 'boo' }).length, 1);\n\n\t});\n\n\ttest('changeOne/All clears', () => {\n\n\t\tservice = new markerService.MarkerService();\n\t\tservice.changeOne('far', URI.parse('file:///path/only.cs'), [randomMarkerData()]);\n\t\tservice.changeOne('boo', URI.parse('file:///path/only.cs'), [randomMarkerData()]);\n\t\tassert.strictEqual(service.read({ owner: 'far' }).length, 1);\n\t\tassert.strictEqual(service.read({ owner: 'boo' }).length, 1);\n\t\tassert.strictEqual(service.read().length, 2);\n\n\t\tservice.changeOne('far', URI.parse('file:///path/only.cs'), []);\n\t\tassert.strictEqual(service.read({ owner: 'far' }).length, 0);\n\t\tassert.strictEqual(service.read({ owner: 'boo' }).length, 1);\n\t\tassert.strictEqual(service.read().length, 1);\n\n\t\tservice.changeAll('boo', []);\n\t\tassert.strictEqual(service.read({ owner: 'far' }).length, 0);\n\t\tassert.strictEqual(service.read({ owner: 'boo' }).length, 0);\n\t\tassert.strictEqual(service.read().length, 0);\n\t});\n\n\ttest('changeAll sends event for cleared', () => {\n\n\t\tservice = new markerService.MarkerService();\n\t\tservice.changeAll('far', [{\n\t\t\tresource: URI.parse('file:///d/path'),\n\t\t\tmarker: randomMarkerData()\n\t\t}, {\n\t\t\tresource: URI.parse('file:///d/path'),\n\t\t\tmarker: randomMarkerData()\n\t\t}]);\n\n\t\tassert.strictEqual(service.read({ owner: 'far' }).length, 2);\n\n\t\tconst d = service.onMarkerChanged(changedResources => {\n\t\t\tassert.strictEqual(changedResources.length, 1);\n\t\t\tchangedResources.forEach(u => assert.strictEqual(u.toString(), 'file:///d/path'));\n\t\t\tassert.strictEqual(service.read({ owner: 'far' }).length, 0);\n\t\t});\n\n\t\tservice.changeAll('far', []);\n\n\t\td.dispose();\n\t});\n\n\ttest('changeAll merges', () => {\n\t\tservice = new markerService.MarkerService();\n\n\t\tservice.changeAll('far', [{\n\t\t\tresource: URI.parse('file:///c/test/file.cs'),\n\t\t\tmarker: randomMarkerData()\n\t\t}, {\n\t\t\tresource: URI.parse('file:///c/test/file.cs'),\n\t\t\tmarker: randomMarkerData()\n\t\t}]);\n\n\t\tassert.strictEqual(service.read({ owner: 'far' }).length, 2);\n\t});\n\n\ttest('changeAll must not break integrety, issue #12635', () => {\n\t\tservice = new markerService.MarkerService();\n\n\t\tservice.changeAll('far', [{\n\t\t\tresource: URI.parse('scheme:path1'),\n\t\t\tmarker: randomMarkerData()\n\t\t}, {\n\t\t\tresource: URI.parse('scheme:path2'),\n\t\t\tmarker: randomMarkerData()\n\t\t}]);\n\n\t\tservice.changeAll('boo', [{\n\t\t\tresource: URI.parse('scheme:path1'),\n\t\t\tmarker: randomMarkerData()\n\t\t}]);\n\n\t\tservice.changeAll('far', [{\n\t\t\tresource: URI.parse('scheme:path1'),\n\t\t\tmarker: randomMarkerData()\n\t\t}, {\n\t\t\tresource: URI.parse('scheme:path2'),\n\t\t\tmarker: randomMarkerData()\n\t\t}]);\n\n\t\tassert.strictEqual(service.read({ owner: 'far' }).length, 2);\n\t\tassert.strictEqual(service.read({ resource: URI.parse('scheme:path1') }).length, 2);\n\t});\n\n\ttest('invalid marker data', () => {\n\n\t\tconst data = randomMarkerData();\n\t\tservice = new markerService.MarkerService();\n\n\t\tdata.message = undefined!;\n\t\tservice.changeOne('far', URI.parse('some:uri/path'), [data]);\n\t\tassert.strictEqual(service.read({ owner: 'far' }).length, 0);\n\n\t\tdata.message = null!;\n\t\tservice.changeOne('far', URI.parse('some:uri/path'), [data]);\n\t\tassert.strictEqual(service.read({ owner: 'far' }).length, 0);\n\n\t\tdata.message = 'null';\n\t\tservice.changeOne('far', URI.parse('some:uri/path'), [data]);\n\t\tassert.strictEqual(service.read({ owner: 'far' }).length, 1);\n\t});\n\n\ttest('MapMap#remove returns bad values, https://github.com/microsoft/vscode/issues/13548', () => {\n\t\tservice = new markerService.MarkerService();\n\n\t\tservice.changeOne('o', URI.parse('some:uri/1'), [randomMarkerData()]);\n\t\tservice.changeOne('o', URI.parse('some:uri/2'), []);\n\n\t});\n\n\ttest('Error code of zero in markers get removed, #31275', function () {\n\t\tconst data = <IMarkerData>{\n\t\t\tcode: '0',\n\t\t\tstartLineNumber: 1,\n\t\t\tstartColumn: 2,\n\t\t\tendLineNumber: 1,\n\t\t\tendColumn: 5,\n\t\t\tmessage: 'test',\n\t\t\tseverity: 0 as MarkerSeverity,\n\t\t\tsource: 'me'\n\t\t};\n\t\tservice = new markerService.MarkerService();\n\n\t\tservice.changeOne('far', URI.parse('some:thing'), [data]);\n\t\tconst marker = service.read({ resource: URI.parse('some:thing') });\n\n\t\tassert.strictEqual(marker.length, 1);\n\t\tassert.strictEqual(marker[0].code, '0');\n\t});\n\n\ttest('resource filter hides markers for the filtered resource', () => {\n\t\tservice = new markerService.MarkerService();\n\t\tconst resource1 = URI.parse('file:///path/file1.cs');\n\t\tconst resource2 = URI.parse('file:///path/file2.cs');\n\n\t\t// Add markers to both resources\n\t\tservice.changeOne('owner1', resource1, [randomMarkerData()]);\n\t\tservice.changeOne('owner1', resource2, [randomMarkerData()]);\n\n\t\t// Verify both resources have markers\n\t\tassert.strictEqual(service.read().length, 2);\n\t\tassert.strictEqual(service.read({ resource: resource1 }).length, 1);\n\t\tassert.strictEqual(service.read({ resource: resource2 }).length, 1);\n\n\t\t// Install filter for resource1\n\t\tconst filter = service.installResourceFilter(resource1, 'Test filter');\n\n\t\t// Verify resource1 markers are filtered out, but have 1 info marker instead\n\t\tassert.strictEqual(service.read().length, 2); // 1 real + 1 info\n\t\tassert.strictEqual(service.read({ resource: resource1 }).length, 1); // 1 info\n\t\tassert.strictEqual(service.read({ resource: resource2 }).length, 1);\n\n\t\t// Dispose filter\n\t\tfilter.dispose();\n\n\t\t// Verify resource1 markers are visible again\n\t\tassert.strictEqual(service.read().length, 2);\n\t\tassert.strictEqual(service.read({ resource: resource1 }).length, 1);\n\t\tassert.strictEqual(service.read({ resource: resource2 }).length, 1);\n\t});\n\n\ttest('resource filter hides markers for the filtered resource UNLESS explicit read', () => {\n\t\tservice = new markerService.MarkerService();\n\t\tconst resource1 = URI.parse('file:///path/file1.cs');\n\t\tconst resource2 = URI.parse('file:///path/file2.cs');\n\n\t\t// Add markers to both resources\n\t\tservice.changeOne('owner1', resource1, [randomMarkerData()]);\n\t\tservice.changeOne('owner1', resource2, [randomMarkerData()]);\n\n\t\t// Verify both resources have markers\n\t\tassert.strictEqual(service.read().length, 2);\n\t\tassert.strictEqual(service.read({ resource: resource1 }).length, 1);\n\t\tassert.strictEqual(service.read({ resource: resource2 }).length, 1);\n\n\t\t// Install filter for resource1\n\t\tconst filter = service.installResourceFilter(resource1, 'Test filter');\n\n\t\t// Verify resource1 markers are filtered out, but have 1 info marker instead\n\t\tassert.strictEqual(service.read().length, 2); // 1 real + 1 info\n\t\tassert.strictEqual(service.read({ resource: resource1 }).length, 1); // 1 info\n\t\tassert.strictEqual(service.read({ resource: resource2 }).length, 1);\n\n\t\t// Verify resource1 markers are visible again\n\t\tassert.strictEqual(service.read({ ignoreResourceFilters: true }).length, 2);\n\t\tassert.strictEqual(service.read({ resource: resource1, ignoreResourceFilters: true }).length, 1);\n\t\tassert.strictEqual(service.read({ resource: resource1, ignoreResourceFilters: true })[0].severity, MarkerSeverity.Error);\n\t\tassert.strictEqual(service.read({ resource: resource2, ignoreResourceFilters: true }).length, 1);\n\t\tassert.strictEqual(service.read({ resource: resource2, ignoreResourceFilters: true })[0].severity, MarkerSeverity.Error);\n\n\t\t// Dispose filter\n\t\tfilter.dispose();\n\t});\n\n\ttest('resource filter affects all filter combinations', () => {\n\t\tservice = new markerService.MarkerService();\n\t\tconst resource = URI.parse('file:///path/file.cs');\n\n\t\tservice.changeOne('owner1', resource, [randomMarkerData(MarkerSeverity.Error)]);\n\t\tservice.changeOne('owner2', resource, [randomMarkerData(MarkerSeverity.Warning)]);\n\n\t\t// Verify initial state\n\t\tassert.strictEqual(service.read().length, 2);\n\t\tassert.strictEqual(service.read({ resource }).length, 2);\n\t\tassert.strictEqual(service.read({ owner: 'owner1' }).length, 1);\n\t\tassert.strictEqual(service.read({ owner: 'owner2' }).length, 1);\n\t\tassert.strictEqual(service.read({ owner: 'owner1', resource }).length, 1);\n\t\tassert.strictEqual(service.read({ severities: MarkerSeverity.Error }).length, 1);\n\t\tassert.strictEqual(service.read({ severities: MarkerSeverity.Warning }).length, 1);\n\n\t\t// Install filter\n\t\tconst filter = service.installResourceFilter(resource, 'Filter reason');\n\n\t\t// Verify information marker is shown for resource queries\n\t\tassert.strictEqual(service.read().length, 1); // 1 info marker\n\t\tassert.strictEqual(service.read({ resource }).length, 1); // 1 info marker\n\t\tassert.strictEqual(service.read({ owner: 'owner1' }).length, 1); // 1 info marker\n\t\tassert.strictEqual(service.read({ owner: 'owner2' }).length, 1); // 1 info marker\n\n\t\t// Verify owner+resource query returns an info marker for filtered resources\n\t\tconst ownerResourceMarkers = service.read({ owner: 'owner1', resource });\n\t\tassert.strictEqual(ownerResourceMarkers.length, 1);\n\t\tassert.strictEqual(ownerResourceMarkers[0].severity, MarkerSeverity.Info);\n\t\tassert.strictEqual(ownerResourceMarkers[0].owner, 'markersFilter');\n\n\t\tassert.strictEqual(service.read({ severities: MarkerSeverity.Error }).length, 1); // 1 info marker\n\t\tassert.strictEqual(service.read({ severities: MarkerSeverity.Warning }).length, 1); // 1 info marker\n\t\tassert.strictEqual(service.read({ severities: MarkerSeverity.Info }).length, 1); // Our info marker\n\n\t\t// Remove filter and verify markers are visible again\n\t\tfilter.dispose();\n\t\tassert.strictEqual(service.read().length, 2);\n\t});\n\n\ttest('multiple filters for same resource are handled correctly', () => {\n\t\tservice = new markerService.MarkerService();\n\t\tconst resource = URI.parse('file:///path/file.cs');\n\n\t\t// Add marker to resource\n\t\tservice.changeOne('owner1', resource, [randomMarkerData()]);\n\n\t\t// Verify resource has markers\n\t\tassert.strictEqual(service.read().length, 1);\n\t\tassert.strictEqual(service.read({ resource }).length, 1);\n\n\t\t// Install two filters for the same resource\n\t\tconst filter1 = service.installResourceFilter(resource, 'First filter');\n\t\tconst filter2 = service.installResourceFilter(resource, 'Second filter');\n\n\t\t// Verify resource markers are filtered out but info marker is shown\n\t\tassert.strictEqual(service.read().length, 1); // 1 info marker\n\t\tassert.strictEqual(service.read({ resource }).length, 1); // 1 info marker\n\n\t\t// Dispose only one filter\n\t\tfilter1.dispose();\n\n\t\t// Verify resource markers are still filtered out because one filter remains\n\t\tassert.strictEqual(service.read().length, 1); // still 1 info marker\n\t\tassert.strictEqual(service.read({ resource }).length, 1); // still 1 info marker\n\n\t\t// Dispose the second filter\n\t\tfilter2.dispose();\n\n\t\t// Now all filters are gone, so markers should be visible again\n\t\tassert.strictEqual(service.read().length, 1);\n\t\tassert.strictEqual(service.read({ resource }).length, 1);\n\t});\n\n\ttest('resource filter with reason shows info marker when markers are filtered', () => {\n\t\tservice = new markerService.MarkerService();\n\t\tconst resource = URI.parse('file:///path/file.cs');\n\n\t\t// Add error and warning to the resource\n\t\tservice.changeOne('owner1', resource, [\n\t\t\trandomMarkerData(MarkerSeverity.Error),\n\t\t\trandomMarkerData(MarkerSeverity.Warning)\n\t\t]);\n\n\t\t// Verify initial state\n\t\tassert.strictEqual(service.read().length, 2);\n\t\tassert.strictEqual(service.read({ resource }).length, 2);\n\n\t\t// Apply a filter with reason\n\t\tconst filterReason = 'Test filter reason';\n\t\tconst filter = service.installResourceFilter(resource, filterReason);\n\n\t\t// Verify that we get a single info marker with our reason\n\t\tconst markers = service.read({ resource });\n\t\tassert.strictEqual(markers.length, 1);\n\t\tassert.strictEqual(markers[0].severity, MarkerSeverity.Info);\n\t\tassert.ok(markers[0].message.includes(filterReason));\n\n\t\t// Remove filter and verify the original markers are back\n\t\tfilter.dispose();\n\t\tassert.strictEqual(service.read({ resource }).length, 2);\n\t});\n\n\ttest('reading all markers shows info marker for filtered resources', () => {\n\t\tservice = new markerService.MarkerService();\n\t\tconst resource1 = URI.parse('file:///path/file1.cs');\n\t\tconst resource2 = URI.parse('file:///path/file2.cs');\n\n\t\t// Add markers to both resources\n\t\tservice.changeOne('owner1', resource1, [randomMarkerData()]);\n\t\tservice.changeOne('owner1', resource2, [randomMarkerData()]);\n\n\t\t// Verify initial state\n\t\tassert.strictEqual(service.read().length, 2);\n\n\t\t// Filter one resource with a reason\n\t\tconst filterReason = 'Resource is being edited';\n\t\tconst filter = service.installResourceFilter(resource1, filterReason);\n\n\t\t// Read all markers\n\t\tconst allMarkers = service.read();\n\n\t\t// Should have 2 markers - one real marker and one info marker\n\t\tassert.strictEqual(allMarkers.length, 2);\n\n\t\t// Find the info marker\n\t\tconst infoMarker = allMarkers.find(marker =>\n\t\t\tmarker.owner === 'markersFilter' &&\n\t\t\tmarker.severity === MarkerSeverity.Info\n\t\t);\n\n\t\t// Verify the info marker\n\t\tassert.ok(infoMarker);\n\t\tassert.strictEqual(infoMarker?.resource.toString(), resource1.toString());\n\t\tassert.ok(infoMarker?.message.includes(filterReason));\n\n\t\t// Remove filter\n\t\tfilter.dispose();\n\t});\n\n\ttest('out of order filter disposal works correctly', () => {\n\t\tservice = new markerService.MarkerService();\n\t\tconst resource = URI.parse('file:///path/file.cs');\n\n\t\t// Add marker to resource\n\t\tservice.changeOne('owner1', resource, [randomMarkerData()]);\n\n\t\t// Verify resource has markers\n\t\tassert.strictEqual(service.read().length, 1);\n\t\tassert.strictEqual(service.read({ resource }).length, 1);\n\n\t\t// Install three filters for the same resource\n\t\tconst filter1 = service.installResourceFilter(resource, 'First filter');\n\t\tconst filter2 = service.installResourceFilter(resource, 'Second filter');\n\t\tconst filter3 = service.installResourceFilter(resource, 'Third filter');\n\n\t\t// Verify resource markers are filtered out but info marker is shown\n\t\tassert.strictEqual(service.read().length, 1); // 1 info marker\n\t\tassert.strictEqual(service.read({ resource }).length, 1); // 1 info marker\n\n\t\t// Dispose filters in a different order than they were created\n\t\tfilter2.dispose();  // Remove the second filter first\n\n\t\t// Verify resource markers are still filtered out with 2 filters remaining\n\t\tassert.strictEqual(service.read().length, 1); // still 1 info marker\n\t\tassert.strictEqual(service.read({ resource }).length, 1); // still 1 info marker\n\n\t\t// Check if message contains the correct count of filters\n\t\tconst markers = service.read({ resource });\n\t\tassert.ok(markers[0].message.includes('Problems are paused because'));\n\n\t\t// Remove remaining filters in any order\n\t\tfilter3.dispose();\n\t\tfilter1.dispose();\n\n\t\t// Now all filters are gone, so markers should be visible again\n\t\tassert.strictEqual(service.read().length, 1);\n\t\tassert.strictEqual(service.read({ resource }).length, 1);\n\t});\n});\n"]}