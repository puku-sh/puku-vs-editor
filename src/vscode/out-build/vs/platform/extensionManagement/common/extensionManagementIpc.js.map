{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/platform/extensionManagement/common/extensionManagementIpc.ts","vs/platform/extensionManagement/common/extensionManagementIpc.ts"],"names":[],"mappings":"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","file":"extensionManagementIpc.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Emitter, Event } from '../../../base/common/event.js';\nimport { cloneAndChange } from '../../../base/common/objects.js';\nimport { URI, UriComponents } from '../../../base/common/uri.js';\nimport { DefaultURITransformer, IURITransformer, transformAndReviveIncomingURIs } from '../../../base/common/uriIpc.js';\nimport { IChannel, IServerChannel } from '../../../base/parts/ipc/common/ipc.js';\nimport {\n\tIExtensionIdentifier, IExtensionTipsService, IGalleryExtension, ILocalExtension, IExtensionsControlManifest, InstallOptions,\n\tUninstallOptions, Metadata, IExtensionManagementService, DidUninstallExtensionEvent, InstallExtensionEvent, InstallExtensionResult,\n\tUninstallExtensionEvent, InstallOperation, InstallExtensionInfo, IProductVersion, DidUpdateExtensionMetadata, UninstallExtensionInfo,\n\tIAllowedExtensionsService\n} from './extensionManagement.js';\nimport { ExtensionType, IExtensionManifest, TargetPlatform } from '../../extensions/common/extensions.js';\nimport { IProductService } from '../../product/common/productService.js';\nimport { CommontExtensionManagementService } from './abstractExtensionManagementService.js';\nimport { language } from '../../../base/common/platform.js';\nimport { RemoteAgentConnectionContext } from '../../remote/common/remoteAgentEnvironment.js';\n\nfunction transformIncomingURI(uri: UriComponents, transformer: IURITransformer | null): URI;\nfunction transformIncomingURI(uri: UriComponents | undefined, transformer: IURITransformer | null): URI | undefined;\nfunction transformIncomingURI(uri: UriComponents | undefined, transformer: IURITransformer | null): URI | undefined {\n\treturn uri ? URI.revive(transformer ? transformer.transformIncoming(uri) : uri) : undefined;\n}\n\nfunction transformOutgoingURI(uri: URI, transformer: IURITransformer | null): URI {\n\treturn transformer ? transformer.transformOutgoingURI(uri) : uri;\n}\n\nfunction transformIncomingExtension(extension: ILocalExtension, transformer: IURITransformer | null): ILocalExtension {\n\ttransformer = transformer ? transformer : DefaultURITransformer;\n\tconst manifest = extension.manifest;\n\tconst transformed = transformAndReviveIncomingURIs({ ...extension, ...{ manifest: undefined } }, transformer);\n\treturn { ...transformed, ...{ manifest } };\n}\n\nfunction transformIncomingOptions<O extends { profileLocation?: UriComponents }>(options: O | undefined, transformer: IURITransformer | null): O | undefined {\n\treturn options?.profileLocation ? transformAndReviveIncomingURIs(options, transformer ?? DefaultURITransformer) : options;\n}\n\nfunction transformOutgoingExtension(extension: ILocalExtension, transformer: IURITransformer | null): ILocalExtension {\n\treturn transformer ? cloneAndChange(extension, value => value instanceof URI ? transformer.transformOutgoingURI(value) : undefined) : extension;\n}\n\nexport class ExtensionManagementChannel<TContext = RemoteAgentConnectionContext | string> implements IServerChannel<TContext> {\n\n\treadonly onInstallExtension: Event<InstallExtensionEvent>;\n\treadonly onDidInstallExtensions: Event<readonly InstallExtensionResult[]>;\n\treadonly onUninstallExtension: Event<UninstallExtensionEvent>;\n\treadonly onDidUninstallExtension: Event<DidUninstallExtensionEvent>;\n\treadonly onDidUpdateExtensionMetadata: Event<DidUpdateExtensionMetadata>;\n\n\tconstructor(private service: IExtensionManagementService, private getUriTransformer: (requestContext: TContext) => IURITransformer | null) {\n\t\tthis.onInstallExtension = Event.buffer(service.onInstallExtension, true);\n\t\tthis.onDidInstallExtensions = Event.buffer(service.onDidInstallExtensions, true);\n\t\tthis.onUninstallExtension = Event.buffer(service.onUninstallExtension, true);\n\t\tthis.onDidUninstallExtension = Event.buffer(service.onDidUninstallExtension, true);\n\t\tthis.onDidUpdateExtensionMetadata = Event.buffer(service.onDidUpdateExtensionMetadata, true);\n\t}\n\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\tlisten(context: any, event: string): Event<any> {\n\t\tconst uriTransformer = this.getUriTransformer(context);\n\t\tswitch (event) {\n\t\t\tcase 'onInstallExtension': {\n\t\t\t\treturn Event.map<InstallExtensionEvent, InstallExtensionEvent>(this.onInstallExtension, e => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...e,\n\t\t\t\t\t\tprofileLocation: e.profileLocation ? transformOutgoingURI(e.profileLocation, uriTransformer) : e.profileLocation\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t\tcase 'onDidInstallExtensions': {\n\t\t\t\treturn Event.map<readonly InstallExtensionResult[], readonly InstallExtensionResult[]>(this.onDidInstallExtensions, results =>\n\t\t\t\t\tresults.map(i => ({\n\t\t\t\t\t\t...i,\n\t\t\t\t\t\tlocal: i.local ? transformOutgoingExtension(i.local, uriTransformer) : i.local,\n\t\t\t\t\t\tprofileLocation: i.profileLocation ? transformOutgoingURI(i.profileLocation, uriTransformer) : i.profileLocation\n\t\t\t\t\t})));\n\t\t\t}\n\t\t\tcase 'onUninstallExtension': {\n\t\t\t\treturn Event.map<UninstallExtensionEvent, UninstallExtensionEvent>(this.onUninstallExtension, e => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...e,\n\t\t\t\t\t\tprofileLocation: e.profileLocation ? transformOutgoingURI(e.profileLocation, uriTransformer) : e.profileLocation\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t\tcase 'onDidUninstallExtension': {\n\t\t\t\treturn Event.map<DidUninstallExtensionEvent, DidUninstallExtensionEvent>(this.onDidUninstallExtension, e => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...e,\n\t\t\t\t\t\tprofileLocation: e.profileLocation ? transformOutgoingURI(e.profileLocation, uriTransformer) : e.profileLocation\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t\tcase 'onDidUpdateExtensionMetadata': {\n\t\t\t\treturn Event.map<DidUpdateExtensionMetadata, DidUpdateExtensionMetadata>(this.onDidUpdateExtensionMetadata, e => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tlocal: transformOutgoingExtension(e.local, uriTransformer),\n\t\t\t\t\t\tprofileLocation: transformOutgoingURI(e.profileLocation, uriTransformer)\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tthrow new Error('Invalid listen');\n\t}\n\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\tasync call(context: any, command: string, args?: any): Promise<any> {\n\t\tconst uriTransformer: IURITransformer | null = this.getUriTransformer(context);\n\t\tswitch (command) {\n\t\t\tcase 'zip': {\n\t\t\t\tconst extension = transformIncomingExtension(args[0], uriTransformer);\n\t\t\t\tconst uri = await this.service.zip(extension);\n\t\t\t\treturn transformOutgoingURI(uri, uriTransformer);\n\t\t\t}\n\t\t\tcase 'install': {\n\t\t\t\treturn this.service.install(transformIncomingURI(args[0], uriTransformer), transformIncomingOptions(args[1], uriTransformer));\n\t\t\t}\n\t\t\tcase 'installFromLocation': {\n\t\t\t\treturn this.service.installFromLocation(transformIncomingURI(args[0], uriTransformer), transformIncomingURI(args[1], uriTransformer));\n\t\t\t}\n\t\t\tcase 'installExtensionsFromProfile': {\n\t\t\t\treturn this.service.installExtensionsFromProfile(args[0], transformIncomingURI(args[1], uriTransformer), transformIncomingURI(args[2], uriTransformer));\n\t\t\t}\n\t\t\tcase 'getManifest': {\n\t\t\t\treturn this.service.getManifest(transformIncomingURI(args[0], uriTransformer));\n\t\t\t}\n\t\t\tcase 'getTargetPlatform': {\n\t\t\t\treturn this.service.getTargetPlatform();\n\t\t\t}\n\t\t\tcase 'installFromGallery': {\n\t\t\t\treturn this.service.installFromGallery(args[0], transformIncomingOptions(args[1], uriTransformer));\n\t\t\t}\n\t\t\tcase 'installGalleryExtensions': {\n\t\t\t\tconst arg: InstallExtensionInfo[] = args[0];\n\t\t\t\treturn this.service.installGalleryExtensions(arg.map(({ extension, options }) => ({ extension, options: transformIncomingOptions(options, uriTransformer) ?? {} })));\n\t\t\t}\n\t\t\tcase 'uninstall': {\n\t\t\t\treturn this.service.uninstall(transformIncomingExtension(args[0], uriTransformer), transformIncomingOptions(args[1], uriTransformer));\n\t\t\t}\n\t\t\tcase 'uninstallExtensions': {\n\t\t\t\tconst arg: UninstallExtensionInfo[] = args[0];\n\t\t\t\treturn this.service.uninstallExtensions(arg.map(({ extension, options }) => ({ extension: transformIncomingExtension(extension, uriTransformer), options: transformIncomingOptions(options, uriTransformer) })));\n\t\t\t}\n\t\t\tcase 'getInstalled': {\n\t\t\t\tconst extensions = await this.service.getInstalled(args[0], transformIncomingURI(args[1], uriTransformer), args[2], args[3]);\n\t\t\t\treturn extensions.map(e => transformOutgoingExtension(e, uriTransformer));\n\t\t\t}\n\t\t\tcase 'toggleApplicationScope': {\n\t\t\t\tconst extension = await this.service.toggleApplicationScope(transformIncomingExtension(args[0], uriTransformer), transformIncomingURI(args[1], uriTransformer));\n\t\t\t\treturn transformOutgoingExtension(extension, uriTransformer);\n\t\t\t}\n\t\t\tcase 'copyExtensions': {\n\t\t\t\treturn this.service.copyExtensions(transformIncomingURI(args[0], uriTransformer), transformIncomingURI(args[1], uriTransformer));\n\t\t\t}\n\t\t\tcase 'updateMetadata': {\n\t\t\t\tconst e = await this.service.updateMetadata(transformIncomingExtension(args[0], uriTransformer), args[1], transformIncomingURI(args[2], uriTransformer));\n\t\t\t\treturn transformOutgoingExtension(e, uriTransformer);\n\t\t\t}\n\t\t\tcase 'resetPinnedStateForAllUserExtensions': {\n\t\t\t\treturn this.service.resetPinnedStateForAllUserExtensions(args[0]);\n\t\t\t}\n\t\t\tcase 'getExtensionsControlManifest': {\n\t\t\t\treturn this.service.getExtensionsControlManifest();\n\t\t\t}\n\t\t\tcase 'download': {\n\t\t\t\treturn this.service.download(args[0], args[1], args[2]);\n\t\t\t}\n\t\t\tcase 'cleanUp': {\n\t\t\t\treturn this.service.cleanUp();\n\t\t\t}\n\t\t}\n\n\t\tthrow new Error('Invalid call');\n\t}\n}\n\nexport interface ExtensionEventResult {\n\treadonly profileLocation: URI;\n\treadonly local?: ILocalExtension;\n\treadonly applicationScoped?: boolean;\n}\n\nexport class ExtensionManagementChannelClient extends CommontExtensionManagementService implements IExtensionManagementService {\n\n\tdeclare readonly _serviceBrand: undefined;\n\n\tprotected readonly _onInstallExtension = this._register(new Emitter<InstallExtensionEvent>());\n\tget onInstallExtension() { return this._onInstallExtension.event; }\n\n\tprotected readonly _onDidInstallExtensions = this._register(new Emitter<readonly InstallExtensionResult[]>());\n\tget onDidInstallExtensions() { return this._onDidInstallExtensions.event; }\n\n\tprotected readonly _onUninstallExtension = this._register(new Emitter<UninstallExtensionEvent>());\n\tget onUninstallExtension() { return this._onUninstallExtension.event; }\n\n\tprotected readonly _onDidUninstallExtension = this._register(new Emitter<DidUninstallExtensionEvent>());\n\tget onDidUninstallExtension() { return this._onDidUninstallExtension.event; }\n\n\tprotected readonly _onDidUpdateExtensionMetadata = this._register(new Emitter<DidUpdateExtensionMetadata>());\n\tget onDidUpdateExtensionMetadata() { return this._onDidUpdateExtensionMetadata.event; }\n\n\tconstructor(\n\t\tprivate readonly channel: IChannel,\n\t\tproductService: IProductService,\n\t\tallowedExtensionsService: IAllowedExtensionsService,\n\t) {\n\t\tsuper(productService, allowedExtensionsService);\n\t\tthis._register(this.channel.listen<InstallExtensionEvent>('onInstallExtension')(e => this.onInstallExtensionEvent({ ...e, source: this.isUriComponents(e.source) ? URI.revive(e.source) : e.source, profileLocation: URI.revive(e.profileLocation) })));\n\t\tthis._register(this.channel.listen<readonly InstallExtensionResult[]>('onDidInstallExtensions')(results => this.onDidInstallExtensionsEvent(results.map(e => ({ ...e, local: e.local ? transformIncomingExtension(e.local, null) : e.local, source: this.isUriComponents(e.source) ? URI.revive(e.source) : e.source, profileLocation: URI.revive(e.profileLocation) })))));\n\t\tthis._register(this.channel.listen<UninstallExtensionEvent>('onUninstallExtension')(e => this.onUninstallExtensionEvent({ ...e, profileLocation: URI.revive(e.profileLocation) })));\n\t\tthis._register(this.channel.listen<DidUninstallExtensionEvent>('onDidUninstallExtension')(e => this.onDidUninstallExtensionEvent({ ...e, profileLocation: URI.revive(e.profileLocation) })));\n\t\tthis._register(this.channel.listen<DidUpdateExtensionMetadata>('onDidUpdateExtensionMetadata')(e => this.onDidUpdateExtensionMetadataEvent({ profileLocation: URI.revive(e.profileLocation), local: transformIncomingExtension(e.local, null) })));\n\t}\n\n\tprotected onInstallExtensionEvent(event: InstallExtensionEvent): void {\n\t\tthis._onInstallExtension.fire(event);\n\t}\n\n\tprotected onDidInstallExtensionsEvent(results: readonly InstallExtensionResult[]): void {\n\t\tthis._onDidInstallExtensions.fire(results);\n\t}\n\n\tprotected onUninstallExtensionEvent(event: UninstallExtensionEvent): void {\n\t\tthis._onUninstallExtension.fire(event);\n\t}\n\n\tprotected onDidUninstallExtensionEvent(event: DidUninstallExtensionEvent): void {\n\t\tthis._onDidUninstallExtension.fire(event);\n\t}\n\n\tprotected onDidUpdateExtensionMetadataEvent(event: DidUpdateExtensionMetadata): void {\n\t\tthis._onDidUpdateExtensionMetadata.fire(event);\n\t}\n\n\tprivate isUriComponents(obj: unknown): obj is UriComponents {\n\t\tif (!obj) {\n\t\t\treturn false;\n\t\t}\n\t\tconst thing = obj as UriComponents | undefined;\n\t\treturn typeof thing?.path === 'string' &&\n\t\t\ttypeof thing?.scheme === 'string';\n\t}\n\n\tprotected _targetPlatformPromise: Promise<TargetPlatform> | undefined;\n\tgetTargetPlatform(): Promise<TargetPlatform> {\n\t\tif (!this._targetPlatformPromise) {\n\t\t\tthis._targetPlatformPromise = this.channel.call<TargetPlatform>('getTargetPlatform');\n\t\t}\n\t\treturn this._targetPlatformPromise;\n\t}\n\n\tzip(extension: ILocalExtension): Promise<URI> {\n\t\treturn Promise.resolve(this.channel.call<UriComponents>('zip', [extension]).then(result => URI.revive(result)));\n\t}\n\n\tinstall(vsix: URI, options?: InstallOptions): Promise<ILocalExtension> {\n\t\treturn Promise.resolve(this.channel.call<ILocalExtension>('install', [vsix, options])).then(local => transformIncomingExtension(local, null));\n\t}\n\n\tinstallFromLocation(location: URI, profileLocation: URI): Promise<ILocalExtension> {\n\t\treturn Promise.resolve(this.channel.call<ILocalExtension>('installFromLocation', [location, profileLocation])).then(local => transformIncomingExtension(local, null));\n\t}\n\n\tasync installExtensionsFromProfile(extensions: IExtensionIdentifier[], fromProfileLocation: URI, toProfileLocation: URI): Promise<ILocalExtension[]> {\n\t\tconst result = await this.channel.call<ILocalExtension[]>('installExtensionsFromProfile', [extensions, fromProfileLocation, toProfileLocation]);\n\t\treturn result.map(local => transformIncomingExtension(local, null));\n\t}\n\n\tgetManifest(vsix: URI): Promise<IExtensionManifest> {\n\t\treturn Promise.resolve(this.channel.call<IExtensionManifest>('getManifest', [vsix]));\n\t}\n\n\tinstallFromGallery(extension: IGalleryExtension, installOptions?: InstallOptions): Promise<ILocalExtension> {\n\t\treturn Promise.resolve(this.channel.call<ILocalExtension>('installFromGallery', [extension, installOptions])).then(local => transformIncomingExtension(local, null));\n\t}\n\n\tasync installGalleryExtensions(extensions: InstallExtensionInfo[]): Promise<InstallExtensionResult[]> {\n\t\tconst results = await this.channel.call<InstallExtensionResult[]>('installGalleryExtensions', [extensions]);\n\t\treturn results.map(e => ({ ...e, local: e.local ? transformIncomingExtension(e.local, null) : e.local, source: this.isUriComponents(e.source) ? URI.revive(e.source) : e.source, profileLocation: URI.revive(e.profileLocation) }));\n\t}\n\n\tuninstall(extension: ILocalExtension, options?: UninstallOptions): Promise<void> {\n\t\tif (extension.isWorkspaceScoped) {\n\t\t\tthrow new Error('Cannot uninstall a workspace extension');\n\t\t}\n\t\treturn Promise.resolve(this.channel.call<void>('uninstall', [extension, options]));\n\t}\n\n\tuninstallExtensions(extensions: UninstallExtensionInfo[]): Promise<void> {\n\t\tif (extensions.some(e => e.extension.isWorkspaceScoped)) {\n\t\t\tthrow new Error('Cannot uninstall a workspace extension');\n\t\t}\n\t\treturn Promise.resolve(this.channel.call<void>('uninstallExtensions', [extensions]));\n\n\t}\n\n\tgetInstalled(type: ExtensionType | null = null, extensionsProfileResource?: URI, productVersion?: IProductVersion): Promise<ILocalExtension[]> {\n\t\treturn Promise.resolve(this.channel.call<ILocalExtension[]>('getInstalled', [type, extensionsProfileResource, productVersion, language]))\n\t\t\t.then(extensions => extensions.map(extension => transformIncomingExtension(extension, null)));\n\t}\n\n\tupdateMetadata(local: ILocalExtension, metadata: Partial<Metadata>, extensionsProfileResource?: URI): Promise<ILocalExtension> {\n\t\treturn Promise.resolve(this.channel.call<ILocalExtension>('updateMetadata', [local, metadata, extensionsProfileResource]))\n\t\t\t.then(extension => transformIncomingExtension(extension, null));\n\t}\n\n\tresetPinnedStateForAllUserExtensions(pinned: boolean): Promise<void> {\n\t\treturn this.channel.call<void>('resetPinnedStateForAllUserExtensions', [pinned]);\n\t}\n\n\ttoggleApplicationScope(local: ILocalExtension, fromProfileLocation: URI): Promise<ILocalExtension> {\n\t\treturn this.channel.call<ILocalExtension>('toggleApplicationScope', [local, fromProfileLocation])\n\t\t\t.then(extension => transformIncomingExtension(extension, null));\n\t}\n\n\tcopyExtensions(fromProfileLocation: URI, toProfileLocation: URI): Promise<void> {\n\t\treturn this.channel.call<void>('copyExtensions', [fromProfileLocation, toProfileLocation]);\n\t}\n\n\tgetExtensionsControlManifest(): Promise<IExtensionsControlManifest> {\n\t\treturn Promise.resolve(this.channel.call<IExtensionsControlManifest>('getExtensionsControlManifest'));\n\t}\n\n\tasync download(extension: IGalleryExtension, operation: InstallOperation, donotVerifySignature: boolean): Promise<URI> {\n\t\tconst result = await this.channel.call<UriComponents>('download', [extension, operation, donotVerifySignature]);\n\t\treturn URI.revive(result);\n\t}\n\n\tasync cleanUp(): Promise<void> {\n\t\treturn this.channel.call('cleanUp');\n\t}\n\n\tregisterParticipant() { throw new Error('Not Supported'); }\n}\n\nexport class ExtensionTipsChannel implements IServerChannel {\n\n\tconstructor(private service: IExtensionTipsService) {\n\t}\n\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\tlisten(context: any, event: string): Event<any> {\n\t\tthrow new Error('Invalid listen');\n\t}\n\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\tcall(context: any, command: string, args?: any): Promise<any> {\n\t\tswitch (command) {\n\t\t\tcase 'getConfigBasedTips': return this.service.getConfigBasedTips(URI.revive(args[0]));\n\t\t\tcase 'getImportantExecutableBasedTips': return this.service.getImportantExecutableBasedTips();\n\t\t\tcase 'getOtherExecutableBasedTips': return this.service.getOtherExecutableBasedTips();\n\t\t}\n\n\t\tthrow new Error('Invalid call');\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Emitter, Event } from '../../../base/common/event.js';\nimport { cloneAndChange } from '../../../base/common/objects.js';\nimport { URI, UriComponents } from '../../../base/common/uri.js';\nimport { DefaultURITransformer, IURITransformer, transformAndReviveIncomingURIs } from '../../../base/common/uriIpc.js';\nimport { IChannel, IServerChannel } from '../../../base/parts/ipc/common/ipc.js';\nimport {\n\tIExtensionIdentifier, IExtensionTipsService, IGalleryExtension, ILocalExtension, IExtensionsControlManifest, InstallOptions,\n\tUninstallOptions, Metadata, IExtensionManagementService, DidUninstallExtensionEvent, InstallExtensionEvent, InstallExtensionResult,\n\tUninstallExtensionEvent, InstallOperation, InstallExtensionInfo, IProductVersion, DidUpdateExtensionMetadata, UninstallExtensionInfo,\n\tIAllowedExtensionsService\n} from './extensionManagement.js';\nimport { ExtensionType, IExtensionManifest, TargetPlatform } from '../../extensions/common/extensions.js';\nimport { IProductService } from '../../product/common/productService.js';\nimport { CommontExtensionManagementService } from './abstractExtensionManagementService.js';\nimport { language } from '../../../base/common/platform.js';\nimport { RemoteAgentConnectionContext } from '../../remote/common/remoteAgentEnvironment.js';\n\nfunction transformIncomingURI(uri: UriComponents, transformer: IURITransformer | null): URI;\nfunction transformIncomingURI(uri: UriComponents | undefined, transformer: IURITransformer | null): URI | undefined;\nfunction transformIncomingURI(uri: UriComponents | undefined, transformer: IURITransformer | null): URI | undefined {\n\treturn uri ? URI.revive(transformer ? transformer.transformIncoming(uri) : uri) : undefined;\n}\n\nfunction transformOutgoingURI(uri: URI, transformer: IURITransformer | null): URI {\n\treturn transformer ? transformer.transformOutgoingURI(uri) : uri;\n}\n\nfunction transformIncomingExtension(extension: ILocalExtension, transformer: IURITransformer | null): ILocalExtension {\n\ttransformer = transformer ? transformer : DefaultURITransformer;\n\tconst manifest = extension.manifest;\n\tconst transformed = transformAndReviveIncomingURIs({ ...extension, ...{ manifest: undefined } }, transformer);\n\treturn { ...transformed, ...{ manifest } };\n}\n\nfunction transformIncomingOptions<O extends { profileLocation?: UriComponents }>(options: O | undefined, transformer: IURITransformer | null): O | undefined {\n\treturn options?.profileLocation ? transformAndReviveIncomingURIs(options, transformer ?? DefaultURITransformer) : options;\n}\n\nfunction transformOutgoingExtension(extension: ILocalExtension, transformer: IURITransformer | null): ILocalExtension {\n\treturn transformer ? cloneAndChange(extension, value => value instanceof URI ? transformer.transformOutgoingURI(value) : undefined) : extension;\n}\n\nexport class ExtensionManagementChannel<TContext = RemoteAgentConnectionContext | string> implements IServerChannel<TContext> {\n\n\treadonly onInstallExtension: Event<InstallExtensionEvent>;\n\treadonly onDidInstallExtensions: Event<readonly InstallExtensionResult[]>;\n\treadonly onUninstallExtension: Event<UninstallExtensionEvent>;\n\treadonly onDidUninstallExtension: Event<DidUninstallExtensionEvent>;\n\treadonly onDidUpdateExtensionMetadata: Event<DidUpdateExtensionMetadata>;\n\n\tconstructor(private service: IExtensionManagementService, private getUriTransformer: (requestContext: TContext) => IURITransformer | null) {\n\t\tthis.onInstallExtension = Event.buffer(service.onInstallExtension, true);\n\t\tthis.onDidInstallExtensions = Event.buffer(service.onDidInstallExtensions, true);\n\t\tthis.onUninstallExtension = Event.buffer(service.onUninstallExtension, true);\n\t\tthis.onDidUninstallExtension = Event.buffer(service.onDidUninstallExtension, true);\n\t\tthis.onDidUpdateExtensionMetadata = Event.buffer(service.onDidUpdateExtensionMetadata, true);\n\t}\n\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\tlisten(context: any, event: string): Event<any> {\n\t\tconst uriTransformer = this.getUriTransformer(context);\n\t\tswitch (event) {\n\t\t\tcase 'onInstallExtension': {\n\t\t\t\treturn Event.map<InstallExtensionEvent, InstallExtensionEvent>(this.onInstallExtension, e => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...e,\n\t\t\t\t\t\tprofileLocation: e.profileLocation ? transformOutgoingURI(e.profileLocation, uriTransformer) : e.profileLocation\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t\tcase 'onDidInstallExtensions': {\n\t\t\t\treturn Event.map<readonly InstallExtensionResult[], readonly InstallExtensionResult[]>(this.onDidInstallExtensions, results =>\n\t\t\t\t\tresults.map(i => ({\n\t\t\t\t\t\t...i,\n\t\t\t\t\t\tlocal: i.local ? transformOutgoingExtension(i.local, uriTransformer) : i.local,\n\t\t\t\t\t\tprofileLocation: i.profileLocation ? transformOutgoingURI(i.profileLocation, uriTransformer) : i.profileLocation\n\t\t\t\t\t})));\n\t\t\t}\n\t\t\tcase 'onUninstallExtension': {\n\t\t\t\treturn Event.map<UninstallExtensionEvent, UninstallExtensionEvent>(this.onUninstallExtension, e => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...e,\n\t\t\t\t\t\tprofileLocation: e.profileLocation ? transformOutgoingURI(e.profileLocation, uriTransformer) : e.profileLocation\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t\tcase 'onDidUninstallExtension': {\n\t\t\t\treturn Event.map<DidUninstallExtensionEvent, DidUninstallExtensionEvent>(this.onDidUninstallExtension, e => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...e,\n\t\t\t\t\t\tprofileLocation: e.profileLocation ? transformOutgoingURI(e.profileLocation, uriTransformer) : e.profileLocation\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t\tcase 'onDidUpdateExtensionMetadata': {\n\t\t\t\treturn Event.map<DidUpdateExtensionMetadata, DidUpdateExtensionMetadata>(this.onDidUpdateExtensionMetadata, e => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tlocal: transformOutgoingExtension(e.local, uriTransformer),\n\t\t\t\t\t\tprofileLocation: transformOutgoingURI(e.profileLocation, uriTransformer)\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tthrow new Error('Invalid listen');\n\t}\n\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\tasync call(context: any, command: string, args?: any): Promise<any> {\n\t\tconst uriTransformer: IURITransformer | null = this.getUriTransformer(context);\n\t\tswitch (command) {\n\t\t\tcase 'zip': {\n\t\t\t\tconst extension = transformIncomingExtension(args[0], uriTransformer);\n\t\t\t\tconst uri = await this.service.zip(extension);\n\t\t\t\treturn transformOutgoingURI(uri, uriTransformer);\n\t\t\t}\n\t\t\tcase 'install': {\n\t\t\t\treturn this.service.install(transformIncomingURI(args[0], uriTransformer), transformIncomingOptions(args[1], uriTransformer));\n\t\t\t}\n\t\t\tcase 'installFromLocation': {\n\t\t\t\treturn this.service.installFromLocation(transformIncomingURI(args[0], uriTransformer), transformIncomingURI(args[1], uriTransformer));\n\t\t\t}\n\t\t\tcase 'installExtensionsFromProfile': {\n\t\t\t\treturn this.service.installExtensionsFromProfile(args[0], transformIncomingURI(args[1], uriTransformer), transformIncomingURI(args[2], uriTransformer));\n\t\t\t}\n\t\t\tcase 'getManifest': {\n\t\t\t\treturn this.service.getManifest(transformIncomingURI(args[0], uriTransformer));\n\t\t\t}\n\t\t\tcase 'getTargetPlatform': {\n\t\t\t\treturn this.service.getTargetPlatform();\n\t\t\t}\n\t\t\tcase 'installFromGallery': {\n\t\t\t\treturn this.service.installFromGallery(args[0], transformIncomingOptions(args[1], uriTransformer));\n\t\t\t}\n\t\t\tcase 'installGalleryExtensions': {\n\t\t\t\tconst arg: InstallExtensionInfo[] = args[0];\n\t\t\t\treturn this.service.installGalleryExtensions(arg.map(({ extension, options }) => ({ extension, options: transformIncomingOptions(options, uriTransformer) ?? {} })));\n\t\t\t}\n\t\t\tcase 'uninstall': {\n\t\t\t\treturn this.service.uninstall(transformIncomingExtension(args[0], uriTransformer), transformIncomingOptions(args[1], uriTransformer));\n\t\t\t}\n\t\t\tcase 'uninstallExtensions': {\n\t\t\t\tconst arg: UninstallExtensionInfo[] = args[0];\n\t\t\t\treturn this.service.uninstallExtensions(arg.map(({ extension, options }) => ({ extension: transformIncomingExtension(extension, uriTransformer), options: transformIncomingOptions(options, uriTransformer) })));\n\t\t\t}\n\t\t\tcase 'getInstalled': {\n\t\t\t\tconst extensions = await this.service.getInstalled(args[0], transformIncomingURI(args[1], uriTransformer), args[2], args[3]);\n\t\t\t\treturn extensions.map(e => transformOutgoingExtension(e, uriTransformer));\n\t\t\t}\n\t\t\tcase 'toggleApplicationScope': {\n\t\t\t\tconst extension = await this.service.toggleApplicationScope(transformIncomingExtension(args[0], uriTransformer), transformIncomingURI(args[1], uriTransformer));\n\t\t\t\treturn transformOutgoingExtension(extension, uriTransformer);\n\t\t\t}\n\t\t\tcase 'copyExtensions': {\n\t\t\t\treturn this.service.copyExtensions(transformIncomingURI(args[0], uriTransformer), transformIncomingURI(args[1], uriTransformer));\n\t\t\t}\n\t\t\tcase 'updateMetadata': {\n\t\t\t\tconst e = await this.service.updateMetadata(transformIncomingExtension(args[0], uriTransformer), args[1], transformIncomingURI(args[2], uriTransformer));\n\t\t\t\treturn transformOutgoingExtension(e, uriTransformer);\n\t\t\t}\n\t\t\tcase 'resetPinnedStateForAllUserExtensions': {\n\t\t\t\treturn this.service.resetPinnedStateForAllUserExtensions(args[0]);\n\t\t\t}\n\t\t\tcase 'getExtensionsControlManifest': {\n\t\t\t\treturn this.service.getExtensionsControlManifest();\n\t\t\t}\n\t\t\tcase 'download': {\n\t\t\t\treturn this.service.download(args[0], args[1], args[2]);\n\t\t\t}\n\t\t\tcase 'cleanUp': {\n\t\t\t\treturn this.service.cleanUp();\n\t\t\t}\n\t\t}\n\n\t\tthrow new Error('Invalid call');\n\t}\n}\n\nexport interface ExtensionEventResult {\n\treadonly profileLocation: URI;\n\treadonly local?: ILocalExtension;\n\treadonly applicationScoped?: boolean;\n}\n\nexport class ExtensionManagementChannelClient extends CommontExtensionManagementService implements IExtensionManagementService {\n\n\tdeclare readonly _serviceBrand: undefined;\n\n\tprotected readonly _onInstallExtension = this._register(new Emitter<InstallExtensionEvent>());\n\tget onInstallExtension() { return this._onInstallExtension.event; }\n\n\tprotected readonly _onDidInstallExtensions = this._register(new Emitter<readonly InstallExtensionResult[]>());\n\tget onDidInstallExtensions() { return this._onDidInstallExtensions.event; }\n\n\tprotected readonly _onUninstallExtension = this._register(new Emitter<UninstallExtensionEvent>());\n\tget onUninstallExtension() { return this._onUninstallExtension.event; }\n\n\tprotected readonly _onDidUninstallExtension = this._register(new Emitter<DidUninstallExtensionEvent>());\n\tget onDidUninstallExtension() { return this._onDidUninstallExtension.event; }\n\n\tprotected readonly _onDidUpdateExtensionMetadata = this._register(new Emitter<DidUpdateExtensionMetadata>());\n\tget onDidUpdateExtensionMetadata() { return this._onDidUpdateExtensionMetadata.event; }\n\n\tconstructor(\n\t\tprivate readonly channel: IChannel,\n\t\tproductService: IProductService,\n\t\tallowedExtensionsService: IAllowedExtensionsService,\n\t) {\n\t\tsuper(productService, allowedExtensionsService);\n\t\tthis._register(this.channel.listen<InstallExtensionEvent>('onInstallExtension')(e => this.onInstallExtensionEvent({ ...e, source: this.isUriComponents(e.source) ? URI.revive(e.source) : e.source, profileLocation: URI.revive(e.profileLocation) })));\n\t\tthis._register(this.channel.listen<readonly InstallExtensionResult[]>('onDidInstallExtensions')(results => this.onDidInstallExtensionsEvent(results.map(e => ({ ...e, local: e.local ? transformIncomingExtension(e.local, null) : e.local, source: this.isUriComponents(e.source) ? URI.revive(e.source) : e.source, profileLocation: URI.revive(e.profileLocation) })))));\n\t\tthis._register(this.channel.listen<UninstallExtensionEvent>('onUninstallExtension')(e => this.onUninstallExtensionEvent({ ...e, profileLocation: URI.revive(e.profileLocation) })));\n\t\tthis._register(this.channel.listen<DidUninstallExtensionEvent>('onDidUninstallExtension')(e => this.onDidUninstallExtensionEvent({ ...e, profileLocation: URI.revive(e.profileLocation) })));\n\t\tthis._register(this.channel.listen<DidUpdateExtensionMetadata>('onDidUpdateExtensionMetadata')(e => this.onDidUpdateExtensionMetadataEvent({ profileLocation: URI.revive(e.profileLocation), local: transformIncomingExtension(e.local, null) })));\n\t}\n\n\tprotected onInstallExtensionEvent(event: InstallExtensionEvent): void {\n\t\tthis._onInstallExtension.fire(event);\n\t}\n\n\tprotected onDidInstallExtensionsEvent(results: readonly InstallExtensionResult[]): void {\n\t\tthis._onDidInstallExtensions.fire(results);\n\t}\n\n\tprotected onUninstallExtensionEvent(event: UninstallExtensionEvent): void {\n\t\tthis._onUninstallExtension.fire(event);\n\t}\n\n\tprotected onDidUninstallExtensionEvent(event: DidUninstallExtensionEvent): void {\n\t\tthis._onDidUninstallExtension.fire(event);\n\t}\n\n\tprotected onDidUpdateExtensionMetadataEvent(event: DidUpdateExtensionMetadata): void {\n\t\tthis._onDidUpdateExtensionMetadata.fire(event);\n\t}\n\n\tprivate isUriComponents(obj: unknown): obj is UriComponents {\n\t\tif (!obj) {\n\t\t\treturn false;\n\t\t}\n\t\tconst thing = obj as UriComponents | undefined;\n\t\treturn typeof thing?.path === 'string' &&\n\t\t\ttypeof thing?.scheme === 'string';\n\t}\n\n\tprotected _targetPlatformPromise: Promise<TargetPlatform> | undefined;\n\tgetTargetPlatform(): Promise<TargetPlatform> {\n\t\tif (!this._targetPlatformPromise) {\n\t\t\tthis._targetPlatformPromise = this.channel.call<TargetPlatform>('getTargetPlatform');\n\t\t}\n\t\treturn this._targetPlatformPromise;\n\t}\n\n\tzip(extension: ILocalExtension): Promise<URI> {\n\t\treturn Promise.resolve(this.channel.call<UriComponents>('zip', [extension]).then(result => URI.revive(result)));\n\t}\n\n\tinstall(vsix: URI, options?: InstallOptions): Promise<ILocalExtension> {\n\t\treturn Promise.resolve(this.channel.call<ILocalExtension>('install', [vsix, options])).then(local => transformIncomingExtension(local, null));\n\t}\n\n\tinstallFromLocation(location: URI, profileLocation: URI): Promise<ILocalExtension> {\n\t\treturn Promise.resolve(this.channel.call<ILocalExtension>('installFromLocation', [location, profileLocation])).then(local => transformIncomingExtension(local, null));\n\t}\n\n\tasync installExtensionsFromProfile(extensions: IExtensionIdentifier[], fromProfileLocation: URI, toProfileLocation: URI): Promise<ILocalExtension[]> {\n\t\tconst result = await this.channel.call<ILocalExtension[]>('installExtensionsFromProfile', [extensions, fromProfileLocation, toProfileLocation]);\n\t\treturn result.map(local => transformIncomingExtension(local, null));\n\t}\n\n\tgetManifest(vsix: URI): Promise<IExtensionManifest> {\n\t\treturn Promise.resolve(this.channel.call<IExtensionManifest>('getManifest', [vsix]));\n\t}\n\n\tinstallFromGallery(extension: IGalleryExtension, installOptions?: InstallOptions): Promise<ILocalExtension> {\n\t\treturn Promise.resolve(this.channel.call<ILocalExtension>('installFromGallery', [extension, installOptions])).then(local => transformIncomingExtension(local, null));\n\t}\n\n\tasync installGalleryExtensions(extensions: InstallExtensionInfo[]): Promise<InstallExtensionResult[]> {\n\t\tconst results = await this.channel.call<InstallExtensionResult[]>('installGalleryExtensions', [extensions]);\n\t\treturn results.map(e => ({ ...e, local: e.local ? transformIncomingExtension(e.local, null) : e.local, source: this.isUriComponents(e.source) ? URI.revive(e.source) : e.source, profileLocation: URI.revive(e.profileLocation) }));\n\t}\n\n\tuninstall(extension: ILocalExtension, options?: UninstallOptions): Promise<void> {\n\t\tif (extension.isWorkspaceScoped) {\n\t\t\tthrow new Error('Cannot uninstall a workspace extension');\n\t\t}\n\t\treturn Promise.resolve(this.channel.call<void>('uninstall', [extension, options]));\n\t}\n\n\tuninstallExtensions(extensions: UninstallExtensionInfo[]): Promise<void> {\n\t\tif (extensions.some(e => e.extension.isWorkspaceScoped)) {\n\t\t\tthrow new Error('Cannot uninstall a workspace extension');\n\t\t}\n\t\treturn Promise.resolve(this.channel.call<void>('uninstallExtensions', [extensions]));\n\n\t}\n\n\tgetInstalled(type: ExtensionType | null = null, extensionsProfileResource?: URI, productVersion?: IProductVersion): Promise<ILocalExtension[]> {\n\t\treturn Promise.resolve(this.channel.call<ILocalExtension[]>('getInstalled', [type, extensionsProfileResource, productVersion, language]))\n\t\t\t.then(extensions => extensions.map(extension => transformIncomingExtension(extension, null)));\n\t}\n\n\tupdateMetadata(local: ILocalExtension, metadata: Partial<Metadata>, extensionsProfileResource?: URI): Promise<ILocalExtension> {\n\t\treturn Promise.resolve(this.channel.call<ILocalExtension>('updateMetadata', [local, metadata, extensionsProfileResource]))\n\t\t\t.then(extension => transformIncomingExtension(extension, null));\n\t}\n\n\tresetPinnedStateForAllUserExtensions(pinned: boolean): Promise<void> {\n\t\treturn this.channel.call<void>('resetPinnedStateForAllUserExtensions', [pinned]);\n\t}\n\n\ttoggleApplicationScope(local: ILocalExtension, fromProfileLocation: URI): Promise<ILocalExtension> {\n\t\treturn this.channel.call<ILocalExtension>('toggleApplicationScope', [local, fromProfileLocation])\n\t\t\t.then(extension => transformIncomingExtension(extension, null));\n\t}\n\n\tcopyExtensions(fromProfileLocation: URI, toProfileLocation: URI): Promise<void> {\n\t\treturn this.channel.call<void>('copyExtensions', [fromProfileLocation, toProfileLocation]);\n\t}\n\n\tgetExtensionsControlManifest(): Promise<IExtensionsControlManifest> {\n\t\treturn Promise.resolve(this.channel.call<IExtensionsControlManifest>('getExtensionsControlManifest'));\n\t}\n\n\tasync download(extension: IGalleryExtension, operation: InstallOperation, donotVerifySignature: boolean): Promise<URI> {\n\t\tconst result = await this.channel.call<UriComponents>('download', [extension, operation, donotVerifySignature]);\n\t\treturn URI.revive(result);\n\t}\n\n\tasync cleanUp(): Promise<void> {\n\t\treturn this.channel.call('cleanUp');\n\t}\n\n\tregisterParticipant() { throw new Error('Not Supported'); }\n}\n\nexport class ExtensionTipsChannel implements IServerChannel {\n\n\tconstructor(private service: IExtensionTipsService) {\n\t}\n\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\tlisten(context: any, event: string): Event<any> {\n\t\tthrow new Error('Invalid listen');\n\t}\n\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\tcall(context: any, command: string, args?: any): Promise<any> {\n\t\tswitch (command) {\n\t\t\tcase 'getConfigBasedTips': return this.service.getConfigBasedTips(URI.revive(args[0]));\n\t\t\tcase 'getImportantExecutableBasedTips': return this.service.getImportantExecutableBasedTips();\n\t\t\tcase 'getOtherExecutableBasedTips': return this.service.getOtherExecutableBasedTips();\n\t\t}\n\n\t\tthrow new Error('Invalid call');\n\t}\n}\n"]}