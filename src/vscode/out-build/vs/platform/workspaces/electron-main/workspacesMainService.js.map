{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/platform/workspaces/electron-main/workspacesMainService.ts","vs/platform/workspaces/electron-main/workspacesMainService.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;AAIhG,OAAO,EAAE,kBAAkB,EAAE,MAAM,sCAAsC,CAAC;AAC1E,OAAO,EAAE,mBAAmB,EAAE,MAAM,wCAAwC,CAAC;AAG7E,OAAO,EAAE,6BAA6B,EAAE,MAAM,mCAAmC,CAAC;AAClF,OAAO,EAAE,gCAAgC,EAAE,MAAM,sCAAsC,CAAC;AAIjF,IAAM,qBAAqB,GAA3B,MAAM,qBAAqB;IAIjC,YACoD,+BAAiE,EAC9E,kBAAuC,EAC7B,4BAA2D,EACtE,iBAAqC;QAHvB,oCAA+B,GAA/B,+BAA+B,CAAkC;QAC9E,uBAAkB,GAAlB,kBAAkB,CAAqB;QAC7B,iCAA4B,GAA5B,4BAA4B,CAA+B;QACtE,sBAAiB,GAAjB,iBAAiB,CAAoB;QAE1E,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC,4BAA4B,CAAC,yBAAyB,CAAC;IAC9F,CAAC;IAED,8BAA8B;IAE9B,KAAK,CAAC,cAAc,CAAC,QAAgB,EAAE,IAAS;QAC/C,MAAM,MAAM,GAAG,IAAI,CAAC,kBAAkB,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QAC/D,IAAI,MAAM,EAAE,CAAC;YACZ,OAAO,IAAI,CAAC,+BAA+B,CAAC,cAAc,CAAC,MAAM,EAAE,IAAI,CAAC,kBAAkB,CAAC,UAAU,EAAE,EAAE,IAAI,CAAC,CAAC;QAChH,CAAC;QAED,OAAO,SAAS,CAAC;IAClB,CAAC;IAED,uBAAuB,CAAC,QAAgB,EAAE,OAAwC,EAAE,eAAwB;QAC3G,OAAO,IAAI,CAAC,+BAA+B,CAAC,uBAAuB,CAAC,OAAO,EAAE,eAAe,CAAC,CAAC;IAC/F,CAAC;IAED,uBAAuB,CAAC,QAAgB,EAAE,SAA+B;QACxE,OAAO,IAAI,CAAC,+BAA+B,CAAC,uBAAuB,CAAC,SAAS,CAAC,CAAC;IAChF,CAAC;IAED,sBAAsB,CAAC,QAAgB,EAAE,aAAkB;QAC1D,OAAO,IAAI,CAAC,+BAA+B,CAAC,sBAAsB,CAAC,aAAa,CAAC,CAAC;IACnF,CAAC;IAQD,iBAAiB,CAAC,QAAgB;QACjC,OAAO,IAAI,CAAC,4BAA4B,CAAC,iBAAiB,EAAE,CAAC;IAC9D,CAAC;IAED,iBAAiB,CAAC,QAAgB,EAAE,OAAkB;QACrD,OAAO,IAAI,CAAC,4BAA4B,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;IACrE,CAAC;IAED,oBAAoB,CAAC,QAAgB,EAAE,KAAY;QAClD,OAAO,IAAI,CAAC,4BAA4B,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;IACtE,CAAC;IAED,mBAAmB,CAAC,QAAgB;QACnC,OAAO,IAAI,CAAC,4BAA4B,CAAC,mBAAmB,EAAE,CAAC;IAChE,CAAC;IAED,YAAY;IAGZ,0BAA0B;IAE1B,KAAK,CAAC,kBAAkB;QACvB,OAAO,IAAI,CAAC,iBAAiB,CAAC,kBAAkB,EAAE,CAAC;IACpD,CAAC;CAGD,CAAA;AApEY,qBAAqB;IAK/B,WAAA,gCAAgC,CAAA;IAChC,WAAA,mBAAmB,CAAA;IACnB,WAAA,6BAA6B,CAAA;IAC7B,WAAA,kBAAkB,CAAA;GARR,qBAAqB,CAoEjC","file":"workspacesMainService.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { AddFirstParameterToFunctions } from '../../../base/common/types.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { IBackupMainService } from '../../backup/electron-main/backup.js';\nimport { IWindowsMainService } from '../../windows/electron-main/windows.js';\nimport { IEnterWorkspaceResult, IRecent, IRecentlyOpened, IWorkspaceFolderCreationData, IWorkspacesService } from '../common/workspaces.js';\nimport { IWorkspaceIdentifier } from '../../workspace/common/workspace.js';\nimport { IWorkspacesHistoryMainService } from './workspacesHistoryMainService.js';\nimport { IWorkspacesManagementMainService } from './workspacesManagementMainService.js';\nimport { IWorkspaceBackupInfo, IFolderBackupInfo } from '../../backup/common/backup.js';\nimport { Event } from '../../../base/common/event.js';\n\nexport class WorkspacesMainService implements AddFirstParameterToFunctions<IWorkspacesService, Promise<unknown> /* only methods, not events */, number /* window ID */> {\n\n\tdeclare readonly _serviceBrand: undefined;\n\n\tconstructor(\n\t\t@IWorkspacesManagementMainService private readonly workspacesManagementMainService: IWorkspacesManagementMainService,\n\t\t@IWindowsMainService private readonly windowsMainService: IWindowsMainService,\n\t\t@IWorkspacesHistoryMainService private readonly workspacesHistoryMainService: IWorkspacesHistoryMainService,\n\t\t@IBackupMainService private readonly backupMainService: IBackupMainService\n\t) {\n\t\tthis.onDidChangeRecentlyOpened = this.workspacesHistoryMainService.onDidChangeRecentlyOpened;\n\t}\n\n\t//#region Workspace Management\n\n\tasync enterWorkspace(windowId: number, path: URI): Promise<IEnterWorkspaceResult | undefined> {\n\t\tconst window = this.windowsMainService.getWindowById(windowId);\n\t\tif (window) {\n\t\t\treturn this.workspacesManagementMainService.enterWorkspace(window, this.windowsMainService.getWindows(), path);\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tcreateUntitledWorkspace(windowId: number, folders?: IWorkspaceFolderCreationData[], remoteAuthority?: string): Promise<IWorkspaceIdentifier> {\n\t\treturn this.workspacesManagementMainService.createUntitledWorkspace(folders, remoteAuthority);\n\t}\n\n\tdeleteUntitledWorkspace(windowId: number, workspace: IWorkspaceIdentifier): Promise<void> {\n\t\treturn this.workspacesManagementMainService.deleteUntitledWorkspace(workspace);\n\t}\n\n\tgetWorkspaceIdentifier(windowId: number, workspacePath: URI): Promise<IWorkspaceIdentifier> {\n\t\treturn this.workspacesManagementMainService.getWorkspaceIdentifier(workspacePath);\n\t}\n\n\t//#endregion\n\n\t//#region Workspaces History\n\n\treadonly onDidChangeRecentlyOpened: Event<void>;\n\n\tgetRecentlyOpened(windowId: number): Promise<IRecentlyOpened> {\n\t\treturn this.workspacesHistoryMainService.getRecentlyOpened();\n\t}\n\n\taddRecentlyOpened(windowId: number, recents: IRecent[]): Promise<void> {\n\t\treturn this.workspacesHistoryMainService.addRecentlyOpened(recents);\n\t}\n\n\tremoveRecentlyOpened(windowId: number, paths: URI[]): Promise<void> {\n\t\treturn this.workspacesHistoryMainService.removeRecentlyOpened(paths);\n\t}\n\n\tclearRecentlyOpened(windowId: number): Promise<void> {\n\t\treturn this.workspacesHistoryMainService.clearRecentlyOpened();\n\t}\n\n\t//#endregion\n\n\n\t//#region Dirty Workspaces\n\n\tasync getDirtyWorkspaces(): Promise<Array<IWorkspaceBackupInfo | IFolderBackupInfo>> {\n\t\treturn this.backupMainService.getDirtyWorkspaces();\n\t}\n\n\t//#endregion\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { AddFirstParameterToFunctions } from '../../../base/common/types.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { IBackupMainService } from '../../backup/electron-main/backup.js';\nimport { IWindowsMainService } from '../../windows/electron-main/windows.js';\nimport { IEnterWorkspaceResult, IRecent, IRecentlyOpened, IWorkspaceFolderCreationData, IWorkspacesService } from '../common/workspaces.js';\nimport { IWorkspaceIdentifier } from '../../workspace/common/workspace.js';\nimport { IWorkspacesHistoryMainService } from './workspacesHistoryMainService.js';\nimport { IWorkspacesManagementMainService } from './workspacesManagementMainService.js';\nimport { IWorkspaceBackupInfo, IFolderBackupInfo } from '../../backup/common/backup.js';\nimport { Event } from '../../../base/common/event.js';\n\nexport class WorkspacesMainService implements AddFirstParameterToFunctions<IWorkspacesService, Promise<unknown> /* only methods, not events */, number /* window ID */> {\n\n\tdeclare readonly _serviceBrand: undefined;\n\n\tconstructor(\n\t\t@IWorkspacesManagementMainService private readonly workspacesManagementMainService: IWorkspacesManagementMainService,\n\t\t@IWindowsMainService private readonly windowsMainService: IWindowsMainService,\n\t\t@IWorkspacesHistoryMainService private readonly workspacesHistoryMainService: IWorkspacesHistoryMainService,\n\t\t@IBackupMainService private readonly backupMainService: IBackupMainService\n\t) {\n\t\tthis.onDidChangeRecentlyOpened = this.workspacesHistoryMainService.onDidChangeRecentlyOpened;\n\t}\n\n\t//#region Workspace Management\n\n\tasync enterWorkspace(windowId: number, path: URI): Promise<IEnterWorkspaceResult | undefined> {\n\t\tconst window = this.windowsMainService.getWindowById(windowId);\n\t\tif (window) {\n\t\t\treturn this.workspacesManagementMainService.enterWorkspace(window, this.windowsMainService.getWindows(), path);\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tcreateUntitledWorkspace(windowId: number, folders?: IWorkspaceFolderCreationData[], remoteAuthority?: string): Promise<IWorkspaceIdentifier> {\n\t\treturn this.workspacesManagementMainService.createUntitledWorkspace(folders, remoteAuthority);\n\t}\n\n\tdeleteUntitledWorkspace(windowId: number, workspace: IWorkspaceIdentifier): Promise<void> {\n\t\treturn this.workspacesManagementMainService.deleteUntitledWorkspace(workspace);\n\t}\n\n\tgetWorkspaceIdentifier(windowId: number, workspacePath: URI): Promise<IWorkspaceIdentifier> {\n\t\treturn this.workspacesManagementMainService.getWorkspaceIdentifier(workspacePath);\n\t}\n\n\t//#endregion\n\n\t//#region Workspaces History\n\n\treadonly onDidChangeRecentlyOpened: Event<void>;\n\n\tgetRecentlyOpened(windowId: number): Promise<IRecentlyOpened> {\n\t\treturn this.workspacesHistoryMainService.getRecentlyOpened();\n\t}\n\n\taddRecentlyOpened(windowId: number, recents: IRecent[]): Promise<void> {\n\t\treturn this.workspacesHistoryMainService.addRecentlyOpened(recents);\n\t}\n\n\tremoveRecentlyOpened(windowId: number, paths: URI[]): Promise<void> {\n\t\treturn this.workspacesHistoryMainService.removeRecentlyOpened(paths);\n\t}\n\n\tclearRecentlyOpened(windowId: number): Promise<void> {\n\t\treturn this.workspacesHistoryMainService.clearRecentlyOpened();\n\t}\n\n\t//#endregion\n\n\n\t//#region Dirty Workspaces\n\n\tasync getDirtyWorkspaces(): Promise<Array<IWorkspaceBackupInfo | IFolderBackupInfo>> {\n\t\treturn this.backupMainService.getDirtyWorkspaces();\n\t}\n\n\t//#endregion\n}\n"]}