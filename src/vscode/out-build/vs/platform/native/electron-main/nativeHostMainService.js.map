{"version":3,"sources":["vs/platform/native/electron-main/nativeHostMainService.ts"],"names":[],"mappings":"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","file":"nativeHostMainService.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as fs from 'fs';\nimport { exec } from 'child_process';\nimport { app, BrowserWindow, clipboard, contentTracing, Display, Menu, MessageBoxOptions, MessageBoxReturnValue, OpenDevToolsOptions, OpenDialogOptions, OpenDialogReturnValue, powerMonitor, SaveDialogOptions, SaveDialogReturnValue, screen, shell, webContents } from 'electron';\nimport { arch, cpus, freemem, loadavg, platform, release, totalmem, type } from 'os';\nimport { promisify } from 'util';\nimport { memoize } from '../../../base/common/decorators.js';\nimport { Emitter, Event } from '../../../base/common/event.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { matchesSomeScheme, Schemas } from '../../../base/common/network.js';\nimport { dirname, join, posix, resolve, win32 } from '../../../base/common/path.js';\nimport { isLinux, isMacintosh, isWindows } from '../../../base/common/platform.js';\nimport { AddFirstParameterToFunctions } from '../../../base/common/types.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { virtualMachineHint } from '../../../base/node/id.js';\nimport { Promises, SymlinkSupport } from '../../../base/node/pfs.js';\nimport { findFreePort, isPortFree } from '../../../base/node/ports.js';\nimport { localize } from '../../../nls.js';\nimport { ISerializableCommandAction } from '../../action/common/action.js';\nimport { INativeOpenDialogOptions } from '../../dialogs/common/dialogs.js';\nimport { IDialogMainService } from '../../dialogs/electron-main/dialogMainService.js';\nimport { IEnvironmentMainService } from '../../environment/electron-main/environmentMainService.js';\nimport { createDecorator, IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { ILifecycleMainService, IRelaunchOptions } from '../../lifecycle/electron-main/lifecycleMainService.js';\nimport { ILogService } from '../../log/common/log.js';\nimport { FocusMode, ICommonNativeHostService, INativeHostOptions, IOSProperties, IOSStatistics } from '../common/native.js';\nimport { IProductService } from '../../product/common/productService.js';\nimport { IPartsSplash } from '../../theme/common/themeService.js';\nimport { IThemeMainService } from '../../theme/electron-main/themeMainService.js';\nimport { defaultWindowState, ICodeWindow } from '../../window/electron-main/window.js';\nimport { IColorScheme, IOpenedAuxiliaryWindow, IOpenedMainWindow, IOpenEmptyWindowOptions, IOpenWindowOptions, IPoint, IRectangle, IWindowOpenable } from '../../window/common/window.js';\nimport { defaultBrowserWindowOptions, IWindowsMainService, OpenContext } from '../../windows/electron-main/windows.js';\nimport { isWorkspaceIdentifier, toWorkspaceIdentifier } from '../../workspace/common/workspace.js';\nimport { IWorkspacesManagementMainService } from '../../workspaces/electron-main/workspacesManagementMainService.js';\nimport { VSBuffer } from '../../../base/common/buffer.js';\nimport { hasWSLFeatureInstalled } from '../../remote/node/wsl.js';\nimport { WindowProfiler } from '../../profiling/electron-main/windowProfiling.js';\nimport { IV8Profile } from '../../profiling/common/profiling.js';\nimport { IAuxiliaryWindowsMainService } from '../../auxiliaryWindow/electron-main/auxiliaryWindows.js';\nimport { IAuxiliaryWindow } from '../../auxiliaryWindow/electron-main/auxiliaryWindow.js';\nimport { CancellationError } from '../../../base/common/errors.js';\nimport { IConfigurationService } from '../../configuration/common/configuration.js';\nimport { IProxyAuthService } from './auth.js';\nimport { AuthInfo, Credentials, IRequestService } from '../../request/common/request.js';\nimport { randomPath } from '../../../base/common/extpath.js';\n\nexport interface INativeHostMainService extends AddFirstParameterToFunctions<ICommonNativeHostService, Promise<unknown> /* only methods, not events */, number | undefined /* window ID */> { }\n\nexport const INativeHostMainService = createDecorator<INativeHostMainService>('nativeHostMainService');\n\nexport class NativeHostMainService extends Disposable implements INativeHostMainService {\n\n\tdeclare readonly _serviceBrand: undefined;\n\n\tconstructor(\n\t\t@IWindowsMainService private readonly windowsMainService: IWindowsMainService,\n\t\t@IAuxiliaryWindowsMainService private readonly auxiliaryWindowsMainService: IAuxiliaryWindowsMainService,\n\t\t@IDialogMainService private readonly dialogMainService: IDialogMainService,\n\t\t@ILifecycleMainService private readonly lifecycleMainService: ILifecycleMainService,\n\t\t@IEnvironmentMainService private readonly environmentMainService: IEnvironmentMainService,\n\t\t@ILogService private readonly logService: ILogService,\n\t\t@IProductService private readonly productService: IProductService,\n\t\t@IThemeMainService private readonly themeMainService: IThemeMainService,\n\t\t@IWorkspacesManagementMainService private readonly workspacesManagementMainService: IWorkspacesManagementMainService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@IRequestService private readonly requestService: IRequestService,\n\t\t@IProxyAuthService private readonly proxyAuthService: IProxyAuthService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService\n\t) {\n\t\tsuper();\n\n\t\t// Events\n\t\t{\n\t\t\tthis.onDidOpenMainWindow = Event.map(this.windowsMainService.onDidOpenWindow, window => window.id);\n\n\t\t\tthis.onDidTriggerWindowSystemContextMenu = Event.any(\n\t\t\t\tEvent.map(this.windowsMainService.onDidTriggerSystemContextMenu, ({ window, x, y }) => ({ windowId: window.id, x, y })),\n\t\t\t\tEvent.map(this.auxiliaryWindowsMainService.onDidTriggerSystemContextMenu, ({ window, x, y }) => ({ windowId: window.id, x, y }))\n\t\t\t);\n\n\t\t\tthis.onDidMaximizeWindow = Event.any(\n\t\t\t\tEvent.map(this.windowsMainService.onDidMaximizeWindow, window => window.id),\n\t\t\t\tEvent.map(this.auxiliaryWindowsMainService.onDidMaximizeWindow, window => window.id)\n\t\t\t);\n\t\t\tthis.onDidUnmaximizeWindow = Event.any(\n\t\t\t\tEvent.map(this.windowsMainService.onDidUnmaximizeWindow, window => window.id),\n\t\t\t\tEvent.map(this.auxiliaryWindowsMainService.onDidUnmaximizeWindow, window => window.id)\n\t\t\t);\n\n\t\t\tthis.onDidChangeWindowFullScreen = Event.any(\n\t\t\t\tEvent.map(this.windowsMainService.onDidChangeFullScreen, e => ({ windowId: e.window.id, fullscreen: e.fullscreen })),\n\t\t\t\tEvent.map(this.auxiliaryWindowsMainService.onDidChangeFullScreen, e => ({ windowId: e.window.id, fullscreen: e.fullscreen }))\n\t\t\t);\n\n\t\t\tthis.onDidChangeWindowAlwaysOnTop = Event.any(\n\t\t\t\tEvent.None, // always on top is unsupported in main windows currently\n\t\t\t\tEvent.map(this.auxiliaryWindowsMainService.onDidChangeAlwaysOnTop, e => ({ windowId: e.window.id, alwaysOnTop: e.alwaysOnTop }))\n\t\t\t);\n\n\t\t\tthis.onDidBlurMainWindow = Event.filter(Event.fromNodeEventEmitter(app, 'browser-window-blur', (event, window: BrowserWindow) => window.id), windowId => !!this.windowsMainService.getWindowById(windowId));\n\t\t\tthis.onDidFocusMainWindow = Event.any(\n\t\t\t\tEvent.map(Event.filter(Event.map(this.windowsMainService.onDidChangeWindowsCount, () => this.windowsMainService.getLastActiveWindow()), window => !!window), window => window!.id),\n\t\t\t\tEvent.filter(Event.fromNodeEventEmitter(app, 'browser-window-focus', (event, window: BrowserWindow) => window.id), windowId => !!this.windowsMainService.getWindowById(windowId))\n\t\t\t);\n\n\t\t\tthis.onDidBlurMainOrAuxiliaryWindow = Event.any(\n\t\t\t\tthis.onDidBlurMainWindow,\n\t\t\t\tEvent.map(Event.filter(Event.fromNodeEventEmitter(app, 'browser-window-blur', (event, window: BrowserWindow) => this.auxiliaryWindowsMainService.getWindowByWebContents(window.webContents)), window => !!window), window => window!.id)\n\t\t\t);\n\t\t\tthis.onDidFocusMainOrAuxiliaryWindow = Event.any(\n\t\t\t\tthis.onDidFocusMainWindow,\n\t\t\t\tEvent.map(Event.filter(Event.fromNodeEventEmitter(app, 'browser-window-focus', (event, window: BrowserWindow) => this.auxiliaryWindowsMainService.getWindowByWebContents(window.webContents)), window => !!window), window => window!.id)\n\t\t\t);\n\n\t\t\tthis.onDidResumeOS = Event.fromNodeEventEmitter(powerMonitor, 'resume');\n\n\t\t\tthis.onDidChangeColorScheme = this.themeMainService.onDidChangeColorScheme;\n\n\t\t\tthis.onDidChangeDisplay = Event.debounce(Event.any(\n\t\t\t\tEvent.filter(Event.fromNodeEventEmitter(screen, 'display-metrics-changed', (event: Electron.Event, display: Display, changedMetrics?: string[]) => changedMetrics), changedMetrics => {\n\t\t\t\t\t// Electron will emit 'display-metrics-changed' events even when actually\n\t\t\t\t\t// going fullscreen, because the dock hides. However, we do not want to\n\t\t\t\t\t// react on this event as there is no change in display bounds.\n\t\t\t\t\treturn !(Array.isArray(changedMetrics) && changedMetrics.length === 1 && changedMetrics[0] === 'workArea');\n\t\t\t\t}),\n\t\t\t\tEvent.fromNodeEventEmitter(screen, 'display-added'),\n\t\t\t\tEvent.fromNodeEventEmitter(screen, 'display-removed')\n\t\t\t), () => { }, 100);\n\t\t}\n\t}\n\n\n\t//#region Properties\n\n\tget windowId(): never { throw new Error('Not implemented in electron-main'); }\n\n\t//#endregion\n\n\n\t//#region Events\n\n\treadonly onDidOpenMainWindow: Event<number>;\n\n\treadonly onDidTriggerWindowSystemContextMenu: Event<{ windowId: number; x: number; y: number }>;\n\n\treadonly onDidMaximizeWindow: Event<number>;\n\treadonly onDidUnmaximizeWindow: Event<number>;\n\n\treadonly onDidChangeWindowFullScreen: Event<{ readonly windowId: number; readonly fullscreen: boolean }>;\n\n\treadonly onDidBlurMainWindow: Event<number>;\n\treadonly onDidFocusMainWindow: Event<number>;\n\n\treadonly onDidBlurMainOrAuxiliaryWindow: Event<number>;\n\treadonly onDidFocusMainOrAuxiliaryWindow: Event<number>;\n\n\treadonly onDidChangeWindowAlwaysOnTop: Event<{ readonly windowId: number; readonly alwaysOnTop: boolean }>;\n\n\treadonly onDidResumeOS: Event<void>;\n\n\treadonly onDidChangeColorScheme: Event<IColorScheme>;\n\n\tprivate readonly _onDidChangePassword = this._register(new Emitter<{ account: string; service: string }>());\n\treadonly onDidChangePassword = this._onDidChangePassword.event;\n\n\treadonly onDidChangeDisplay: Event<void>;\n\n\t//#endregion\n\n\n\t//#region Window\n\n\tgetWindows(windowId: number | undefined, options: { includeAuxiliaryWindows: true }): Promise<Array<IOpenedMainWindow | IOpenedAuxiliaryWindow>>;\n\tgetWindows(windowId: number | undefined, options: { includeAuxiliaryWindows: false }): Promise<Array<IOpenedMainWindow>>;\n\tasync getWindows(windowId: number | undefined, options: { includeAuxiliaryWindows: boolean }): Promise<Array<IOpenedMainWindow | IOpenedAuxiliaryWindow>> {\n\t\tconst mainWindows = this.windowsMainService.getWindows().map(window => ({\n\t\t\tid: window.id,\n\t\t\tworkspace: window.openedWorkspace ?? toWorkspaceIdentifier(window.backupPath, window.isExtensionDevelopmentHost),\n\t\t\ttitle: window.win?.getTitle() ?? '',\n\t\t\tfilename: window.getRepresentedFilename(),\n\t\t\tdirty: window.isDocumentEdited()\n\t\t}));\n\n\t\tconst auxiliaryWindows = [];\n\t\tif (options.includeAuxiliaryWindows) {\n\t\t\tauxiliaryWindows.push(...this.auxiliaryWindowsMainService.getWindows().map(window => ({\n\t\t\t\tid: window.id,\n\t\t\t\tparentId: window.parentId,\n\t\t\t\ttitle: window.win?.getTitle() ?? '',\n\t\t\t\tfilename: window.getRepresentedFilename()\n\t\t\t})));\n\t\t}\n\n\t\treturn [...mainWindows, ...auxiliaryWindows];\n\t}\n\n\tasync getWindowCount(windowId: number | undefined): Promise<number> {\n\t\treturn this.windowsMainService.getWindowCount();\n\t}\n\n\tasync getActiveWindowId(windowId: number | undefined): Promise<number | undefined> {\n\t\tconst activeWindow = this.windowsMainService.getFocusedWindow() || this.windowsMainService.getLastActiveWindow();\n\t\tif (activeWindow) {\n\t\t\treturn activeWindow.id;\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tasync getActiveWindowPosition(): Promise<IRectangle | undefined> {\n\t\tconst activeWindow = this.windowsMainService.getFocusedWindow() || this.windowsMainService.getLastActiveWindow();\n\t\tif (activeWindow) {\n\t\t\treturn activeWindow.getBounds();\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tasync getNativeWindowHandle(fallbackWindowId: number | undefined, windowId: number): Promise<VSBuffer | undefined> {\n\t\tconst window = this.windowById(windowId, fallbackWindowId);\n\t\tif (window?.win) {\n\t\t\treturn VSBuffer.wrap(window.win.getNativeWindowHandle());\n\t\t}\n\t\treturn undefined;\n\t}\n\n\topenWindow(windowId: number | undefined, options?: IOpenEmptyWindowOptions): Promise<void>;\n\topenWindow(windowId: number | undefined, toOpen: IWindowOpenable[], options?: IOpenWindowOptions): Promise<void>;\n\topenWindow(windowId: number | undefined, arg1?: IOpenEmptyWindowOptions | IWindowOpenable[], arg2?: IOpenWindowOptions): Promise<void> {\n\t\tif (Array.isArray(arg1)) {\n\t\t\treturn this.doOpenWindow(windowId, arg1, arg2);\n\t\t}\n\n\t\treturn this.doOpenEmptyWindow(windowId, arg1);\n\t}\n\n\tprivate async doOpenWindow(windowId: number | undefined, toOpen: IWindowOpenable[], options: IOpenWindowOptions = Object.create(null)): Promise<void> {\n\t\tif (toOpen.length > 0) {\n\t\t\tawait this.windowsMainService.open({\n\t\t\t\tcontext: OpenContext.API,\n\t\t\t\tcontextWindowId: windowId,\n\t\t\t\turisToOpen: toOpen,\n\t\t\t\tcli: this.environmentMainService.args,\n\t\t\t\tforceNewWindow: options.forceNewWindow,\n\t\t\t\tforceReuseWindow: options.forceReuseWindow,\n\t\t\t\tpreferNewWindow: options.preferNewWindow,\n\t\t\t\tdiffMode: options.diffMode,\n\t\t\t\tmergeMode: options.mergeMode,\n\t\t\t\taddMode: options.addMode,\n\t\t\t\tremoveMode: options.removeMode,\n\t\t\t\tgotoLineMode: options.gotoLineMode,\n\t\t\t\tnoRecentEntry: options.noRecentEntry,\n\t\t\t\twaitMarkerFileURI: options.waitMarkerFileURI,\n\t\t\t\tremoteAuthority: options.remoteAuthority || undefined,\n\t\t\t\tforceProfile: options.forceProfile,\n\t\t\t\tforceTempProfile: options.forceTempProfile,\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate async doOpenEmptyWindow(windowId: number | undefined, options?: IOpenEmptyWindowOptions): Promise<void> {\n\t\tawait this.windowsMainService.openEmptyWindow({\n\t\t\tcontext: OpenContext.API,\n\t\t\tcontextWindowId: windowId\n\t\t}, options);\n\t}\n\n\tasync isFullScreen(windowId: number | undefined, options?: INativeHostOptions): Promise<boolean> {\n\t\tconst window = this.windowById(options?.targetWindowId, windowId);\n\t\treturn window?.isFullScreen ?? false;\n\t}\n\n\tasync toggleFullScreen(windowId: number | undefined, options?: INativeHostOptions): Promise<void> {\n\t\tconst window = this.windowById(options?.targetWindowId, windowId);\n\t\twindow?.toggleFullScreen();\n\t}\n\n\tasync getCursorScreenPoint(windowId: number | undefined): Promise<{ readonly point: IPoint; readonly display: IRectangle }> {\n\t\tconst point = screen.getCursorScreenPoint();\n\t\tconst display = screen.getDisplayNearestPoint(point);\n\n\t\treturn { point, display: display.bounds };\n\t}\n\n\tasync isMaximized(windowId: number | undefined, options?: INativeHostOptions): Promise<boolean> {\n\t\tconst window = this.windowById(options?.targetWindowId, windowId);\n\t\treturn window?.win?.isMaximized() ?? false;\n\t}\n\n\tasync maximizeWindow(windowId: number | undefined, options?: INativeHostOptions): Promise<void> {\n\t\tconst window = this.windowById(options?.targetWindowId, windowId);\n\t\twindow?.win?.maximize();\n\t}\n\n\tasync unmaximizeWindow(windowId: number | undefined, options?: INativeHostOptions): Promise<void> {\n\t\tconst window = this.windowById(options?.targetWindowId, windowId);\n\t\twindow?.win?.unmaximize();\n\t}\n\n\tasync minimizeWindow(windowId: number | undefined, options?: INativeHostOptions): Promise<void> {\n\t\tconst window = this.windowById(options?.targetWindowId, windowId);\n\t\twindow?.win?.minimize();\n\t}\n\n\tasync moveWindowTop(windowId: number | undefined, options?: INativeHostOptions): Promise<void> {\n\t\tconst window = this.windowById(options?.targetWindowId, windowId);\n\t\twindow?.win?.moveTop();\n\t}\n\n\tasync isWindowAlwaysOnTop(windowId: number | undefined, options?: INativeHostOptions): Promise<boolean> {\n\t\tconst window = this.windowById(options?.targetWindowId, windowId);\n\t\treturn window?.win?.isAlwaysOnTop() ?? false;\n\t}\n\n\tasync toggleWindowAlwaysOnTop(windowId: number | undefined, options?: INativeHostOptions): Promise<void> {\n\t\tconst window = this.windowById(options?.targetWindowId, windowId);\n\t\twindow?.win?.setAlwaysOnTop(!window.win.isAlwaysOnTop());\n\t}\n\n\tasync setWindowAlwaysOnTop(windowId: number | undefined, alwaysOnTop: boolean, options?: INativeHostOptions): Promise<void> {\n\t\tconst window = this.windowById(options?.targetWindowId, windowId);\n\t\twindow?.win?.setAlwaysOnTop(alwaysOnTop);\n\t}\n\n\tasync positionWindow(windowId: number | undefined, position: IRectangle, options?: INativeHostOptions): Promise<void> {\n\t\tconst window = this.windowById(options?.targetWindowId, windowId);\n\t\tif (window?.win) {\n\t\t\tif (window.win.isFullScreen()) {\n\t\t\t\tconst fullscreenLeftFuture = Event.toPromise(Event.once(Event.fromNodeEventEmitter(window.win, 'leave-full-screen')));\n\t\t\t\twindow.win.setFullScreen(false);\n\t\t\t\tawait fullscreenLeftFuture;\n\t\t\t}\n\n\t\t\twindow.win.setBounds(position);\n\t\t}\n\t}\n\n\tasync updateWindowControls(windowId: number | undefined, options: INativeHostOptions & { height?: number; backgroundColor?: string; foregroundColor?: string }): Promise<void> {\n\t\tconst window = this.windowById(options?.targetWindowId, windowId);\n\t\twindow?.updateWindowControls(options);\n\t}\n\n\tasync updateWindowAccentColor(windowId: number | undefined, color: 'default' | 'off' | string, inactiveColor: string | undefined): Promise<void> {\n\t\tif (!isWindows) {\n\t\t\treturn; // windows only\n\t\t}\n\n\t\tconst window = this.windowById(windowId);\n\t\tif (!window) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet activeWindowAccentColor: string | boolean | null;\n\t\tlet inactiveWindowAccentColor: string | boolean | null;\n\n\t\tif (color === 'default') {\n\t\t\tactiveWindowAccentColor = null;\n\t\t\tinactiveWindowAccentColor = null;\n\t\t} else if (color === 'off') {\n\t\t\tactiveWindowAccentColor = false;\n\t\t\tinactiveWindowAccentColor = false;\n\t\t} else {\n\t\t\tactiveWindowAccentColor = color;\n\t\t\tinactiveWindowAccentColor = inactiveColor ?? color;\n\t\t}\n\n\t\tconst windows = [window];\n\t\tfor (const auxiliaryWindow of this.auxiliaryWindowsMainService.getWindows()) {\n\t\t\tif (auxiliaryWindow.parentId === windowId) {\n\t\t\t\twindows.push(auxiliaryWindow);\n\t\t\t}\n\t\t}\n\n\t\tfor (const window of windows) {\n\t\t\twindow.win?.setAccentColor(window.win.isFocused() ? activeWindowAccentColor : inactiveWindowAccentColor);\n\t\t}\n\t}\n\n\tasync focusWindow(windowId: number | undefined, options?: INativeHostOptions & { mode?: FocusMode }): Promise<void> {\n\t\tconst window = this.windowById(options?.targetWindowId, windowId);\n\t\twindow?.focus({ mode: options?.mode ?? FocusMode.Transfer });\n\t}\n\n\tasync setMinimumSize(windowId: number | undefined, width: number | undefined, height: number | undefined): Promise<void> {\n\t\tconst window = this.codeWindowById(windowId);\n\t\tif (window?.win) {\n\t\t\tconst [windowWidth, windowHeight] = window.win.getSize();\n\t\t\tconst [minWindowWidth, minWindowHeight] = window.win.getMinimumSize();\n\t\t\tconst [newMinWindowWidth, newMinWindowHeight] = [width ?? minWindowWidth, height ?? minWindowHeight];\n\t\t\tconst [newWindowWidth, newWindowHeight] = [Math.max(windowWidth, newMinWindowWidth), Math.max(windowHeight, newMinWindowHeight)];\n\n\t\t\tif (minWindowWidth !== newMinWindowWidth || minWindowHeight !== newMinWindowHeight) {\n\t\t\t\twindow.win.setMinimumSize(newMinWindowWidth, newMinWindowHeight);\n\t\t\t}\n\t\t\tif (windowWidth !== newWindowWidth || windowHeight !== newWindowHeight) {\n\t\t\t\twindow.win.setSize(newWindowWidth, newWindowHeight);\n\t\t\t}\n\t\t}\n\t}\n\n\tasync saveWindowSplash(windowId: number | undefined, splash: IPartsSplash): Promise<void> {\n\t\tconst window = this.codeWindowById(windowId);\n\n\t\tthis.themeMainService.saveWindowSplash(windowId, window?.openedWorkspace, splash);\n\t}\n\n\tasync setBackgroundThrottling(windowId: number | undefined, allowed: boolean): Promise<void> {\n\t\tconst window = this.codeWindowById(windowId);\n\n\t\tthis.logService.trace(`Setting background throttling for window ${windowId} to '${allowed}'`);\n\n\t\twindow?.win?.webContents?.setBackgroundThrottling(allowed);\n\t}\n\n\t//#endregion\n\n\n\t//#region macOS Shell Command\n\n\tasync installShellCommand(windowId: number | undefined): Promise<void> {\n\t\tconst { source, target } = await this.getShellCommandLink();\n\n\t\t// Only install unless already existing\n\t\ttry {\n\t\t\tconst { symbolicLink } = await SymlinkSupport.stat(source);\n\t\t\tif (symbolicLink && !symbolicLink.dangling) {\n\t\t\t\tconst linkTargetRealPath = await Promises.realpath(source);\n\t\t\t\tif (target === linkTargetRealPath) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tif (error.code !== 'ENOENT') {\n\t\t\t\tthrow error; // throw on any error but file not found\n\t\t\t}\n\t\t}\n\n\t\tawait this.installShellCommandWithPrivileges(windowId, source, target);\n\t}\n\n\tprivate async installShellCommandWithPrivileges(windowId: number | undefined, source: string, target: string): Promise<void> {\n\t\tconst { response } = await this.showMessageBox(windowId, {\n\t\t\ttype: 'info',\n\t\t\tmessage: localize('warnEscalation', \"{0} will now prompt with 'osascript' for Administrator privileges to install the shell command.\", this.productService.nameShort),\n\t\t\tbuttons: [\n\t\t\t\tlocalize({ key: 'ok', comment: ['&& denotes a mnemonic'] }, \"&&OK\"),\n\t\t\t\tlocalize('cancel', \"Cancel\")\n\t\t\t]\n\t\t});\n\n\t\tif (response === 1 /* Cancel */) {\n\t\t\tthrow new CancellationError();\n\t\t}\n\n\t\ttry {\n\t\t\tconst command = `osascript -e \"do shell script \\\\\"mkdir -p /usr/local/bin && ln -sf \\'${target}\\' \\'${source}\\'\\\\\" with administrator privileges\"`;\n\t\t\tawait promisify(exec)(command);\n\t\t} catch (error) {\n\t\t\tthrow new Error(localize('cantCreateBinFolder', \"Unable to install the shell command '{0}'.\", source));\n\t\t}\n\t}\n\n\tasync uninstallShellCommand(windowId: number | undefined): Promise<void> {\n\t\tconst { source } = await this.getShellCommandLink();\n\n\t\ttry {\n\t\t\tawait fs.promises.unlink(source);\n\t\t} catch (error) {\n\t\t\tswitch (error.code) {\n\t\t\t\tcase 'EACCES': {\n\t\t\t\t\tconst { response } = await this.showMessageBox(windowId, {\n\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\tmessage: localize('warnEscalationUninstall', \"{0} will now prompt with 'osascript' for Administrator privileges to uninstall the shell command.\", this.productService.nameShort),\n\t\t\t\t\t\tbuttons: [\n\t\t\t\t\t\t\tlocalize({ key: 'ok', comment: ['&& denotes a mnemonic'] }, \"&&OK\"),\n\t\t\t\t\t\t\tlocalize('cancel', \"Cancel\")\n\t\t\t\t\t\t]\n\t\t\t\t\t});\n\n\t\t\t\t\tif (response === 1 /* Cancel */) {\n\t\t\t\t\t\tthrow new CancellationError();\n\t\t\t\t\t}\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst command = `osascript -e \"do shell script \\\\\"rm \\'${source}\\'\\\\\" with administrator privileges\"`;\n\t\t\t\t\t\tawait promisify(exec)(command);\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tthrow new Error(localize('cantUninstall', \"Unable to uninstall the shell command '{0}'.\", source));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 'ENOENT':\n\t\t\t\t\tbreak; // ignore file not found\n\t\t\t\tdefault:\n\t\t\t\t\tthrow error;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate async getShellCommandLink(): Promise<{ readonly source: string; readonly target: string }> {\n\t\tconst target = resolve(this.environmentMainService.appRoot, 'bin', 'code');\n\t\tconst source = `/usr/local/bin/${this.productService.applicationName}`;\n\n\t\t// Ensure source exists\n\t\tconst sourceExists = await Promises.exists(target);\n\t\tif (!sourceExists) {\n\t\t\tthrow new Error(localize('sourceMissing', \"Unable to find shell script in '{0}'\", target));\n\t\t}\n\n\t\treturn { source, target };\n\t}\n\n\t//#endregion\n\n\t//#region Dialog\n\n\tasync showMessageBox(windowId: number | undefined, options: MessageBoxOptions & INativeHostOptions): Promise<MessageBoxReturnValue> {\n\t\tconst window = this.windowById(options?.targetWindowId, windowId);\n\t\treturn this.dialogMainService.showMessageBox(options, window?.win ?? undefined);\n\t}\n\n\tasync showSaveDialog(windowId: number | undefined, options: SaveDialogOptions & INativeHostOptions): Promise<SaveDialogReturnValue> {\n\t\tconst window = this.windowById(options?.targetWindowId, windowId);\n\t\treturn this.dialogMainService.showSaveDialog(options, window?.win ?? undefined);\n\t}\n\n\tasync showOpenDialog(windowId: number | undefined, options: OpenDialogOptions & INativeHostOptions): Promise<OpenDialogReturnValue> {\n\t\tconst window = this.windowById(options?.targetWindowId, windowId);\n\t\treturn this.dialogMainService.showOpenDialog(options, window?.win ?? undefined);\n\t}\n\n\tasync pickFileFolderAndOpen(windowId: number | undefined, options: INativeOpenDialogOptions): Promise<void> {\n\t\tconst paths = await this.dialogMainService.pickFileFolder(options);\n\t\tif (paths) {\n\t\t\tawait this.doOpenPicked(await Promise.all(paths.map(async path => (await SymlinkSupport.existsDirectory(path)) ? { folderUri: URI.file(path) } : { fileUri: URI.file(path) })), options, windowId);\n\t\t}\n\t}\n\n\tasync pickFolderAndOpen(windowId: number | undefined, options: INativeOpenDialogOptions): Promise<void> {\n\t\tconst paths = await this.dialogMainService.pickFolder(options);\n\t\tif (paths) {\n\t\t\tawait this.doOpenPicked(paths.map(path => ({ folderUri: URI.file(path) })), options, windowId);\n\t\t}\n\t}\n\n\tasync pickFileAndOpen(windowId: number | undefined, options: INativeOpenDialogOptions): Promise<void> {\n\t\tconst paths = await this.dialogMainService.pickFile(options);\n\t\tif (paths) {\n\t\t\tawait this.doOpenPicked(paths.map(path => ({ fileUri: URI.file(path) })), options, windowId);\n\t\t}\n\t}\n\n\tasync pickWorkspaceAndOpen(windowId: number | undefined, options: INativeOpenDialogOptions): Promise<void> {\n\t\tconst paths = await this.dialogMainService.pickWorkspace(options);\n\t\tif (paths) {\n\t\t\tawait this.doOpenPicked(paths.map(path => ({ workspaceUri: URI.file(path) })), options, windowId);\n\t\t}\n\t}\n\n\tprivate async doOpenPicked(openable: IWindowOpenable[], options: INativeOpenDialogOptions, windowId: number | undefined): Promise<void> {\n\t\tawait this.windowsMainService.open({\n\t\t\tcontext: OpenContext.DIALOG,\n\t\t\tcontextWindowId: windowId,\n\t\t\tcli: this.environmentMainService.args,\n\t\t\turisToOpen: openable,\n\t\t\tforceNewWindow: options.forceNewWindow,\n\t\t\t/* remoteAuthority will be determined based on openable */\n\t\t});\n\t}\n\n\t//#endregion\n\n\n\t//#region OS\n\n\tasync showItemInFolder(windowId: number | undefined, path: string): Promise<void> {\n\t\tshell.showItemInFolder(path);\n\t}\n\n\tasync setRepresentedFilename(windowId: number | undefined, path: string, options?: INativeHostOptions): Promise<void> {\n\t\tconst window = this.windowById(options?.targetWindowId, windowId);\n\t\twindow?.setRepresentedFilename(path);\n\t}\n\n\tasync setDocumentEdited(windowId: number | undefined, edited: boolean, options?: INativeHostOptions): Promise<void> {\n\t\tconst window = this.windowById(options?.targetWindowId, windowId);\n\t\twindow?.setDocumentEdited(edited);\n\t}\n\n\tasync openExternal(windowId: number | undefined, url: string, defaultApplication?: string): Promise<boolean> {\n\t\tthis.environmentMainService.unsetSnapExportedVariables();\n\t\ttry {\n\t\t\tif (matchesSomeScheme(url, Schemas.http, Schemas.https)) {\n\t\t\t\tthis.openExternalBrowser(windowId, url, defaultApplication);\n\t\t\t} else {\n\t\t\t\tthis.doOpenShellExternal(windowId, url);\n\t\t\t}\n\t\t} finally {\n\t\t\tthis.environmentMainService.restoreSnapExportedVariables();\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tprivate async openExternalBrowser(windowId: number | undefined, url: string, defaultApplication?: string): Promise<void> {\n\t\tconst configuredBrowser = defaultApplication ?? this.configurationService.getValue<string>('workbench.externalBrowser');\n\t\tif (!configuredBrowser) {\n\t\t\treturn this.doOpenShellExternal(windowId, url);\n\t\t}\n\n\t\tif (configuredBrowser.includes(posix.sep) || configuredBrowser.includes(win32.sep)) {\n\t\t\tconst browserPathExists = await Promises.exists(configuredBrowser);\n\t\t\tif (!browserPathExists) {\n\t\t\t\tthis.logService.error(`Configured external browser path does not exist: ${configuredBrowser}`);\n\t\t\t\treturn this.doOpenShellExternal(windowId, url);\n\t\t\t}\n\t\t}\n\n\t\ttry {\n\t\t\tconst { default: open, apps } = await import('open');\n\t\t\tconst res = await open(url, {\n\t\t\t\tapp: {\n\t\t\t\t\t// Use `open.apps` helper to allow cross-platform browser\n\t\t\t\t\t// aliases to be looked up properly. Fallback to the\n\t\t\t\t\t// configured value if not found.\n\t\t\t\t\tname: Object.hasOwn(apps, configuredBrowser) ? apps[(configuredBrowser as keyof typeof apps)] : configuredBrowser\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (!isWindows) {\n\t\t\t\t// On Linux/macOS, listen to stderr and treat that as failure\n\t\t\t\t// for opening the browser to fallback to the default.\n\t\t\t\t// On Windows, unfortunately PowerShell seems to always write\n\t\t\t\t// to stderr so we cannot use it there\n\t\t\t\t// (see also https://github.com/microsoft/vscode/issues/230636)\n\t\t\t\tres.stderr?.once('data', (data: Buffer) => {\n\t\t\t\t\tthis.logService.error(`Error openening external URL '${url}' using browser '${configuredBrowser}': ${data.toString()}`);\n\t\t\t\t\treturn this.doOpenShellExternal(windowId, url);\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tthis.logService.error(`Unable to open external URL '${url}' using browser '${configuredBrowser}' due to ${error}.`);\n\t\t\treturn this.doOpenShellExternal(windowId, url);\n\t\t}\n\t}\n\n\tprivate async doOpenShellExternal(windowId: number | undefined, url: string): Promise<void> {\n\t\ttry {\n\t\t\tawait shell.openExternal(url);\n\t\t} catch (error) {\n\t\t\tlet isLink: boolean;\n\t\t\tlet message: string;\n\t\t\tif (matchesSomeScheme(url, Schemas.http, Schemas.https)) {\n\t\t\t\tisLink = true;\n\t\t\t\tmessage = localize('openExternalErrorLinkMessage', \"An error occurred opening a link in your default browser.\");\n\t\t\t} else {\n\t\t\t\tisLink = false;\n\t\t\t\tmessage = localize('openExternalProgramErrorMessage', \"An error occurred opening an external program.\");\n\t\t\t}\n\n\t\t\tconst { response } = await this.dialogMainService.showMessageBox({\n\t\t\t\ttype: 'error',\n\t\t\t\tmessage,\n\t\t\t\tdetail: error.message,\n\t\t\t\tbuttons: isLink ? [\n\t\t\t\t\tlocalize({ key: 'copyLink', comment: ['&& denotes a mnemonic'] }, \"&&Copy Link\"),\n\t\t\t\t\tlocalize('cancel', \"Cancel\")\n\t\t\t\t] : [\n\t\t\t\t\tlocalize({ key: 'ok', comment: ['&& denotes a mnemonic'] }, \"&&OK\")\n\t\t\t\t]\n\t\t\t}, this.windowById(windowId)?.win ?? undefined);\n\n\t\t\tif (response === 1 /* Cancel */) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.writeClipboardText(windowId, url);\n\t\t}\n\t}\n\n\tmoveItemToTrash(windowId: number | undefined, fullPath: string): Promise<void> {\n\t\treturn shell.trashItem(fullPath);\n\t}\n\n\tasync isAdmin(): Promise<boolean> {\n\t\tlet isAdmin: boolean;\n\t\tif (isWindows) {\n\t\t\tisAdmin = (await import('native-is-elevated')).default();\n\t\t} else {\n\t\t\tisAdmin = process.getuid?.() === 0;\n\t\t}\n\n\t\treturn isAdmin;\n\t}\n\n\tasync writeElevated(windowId: number | undefined, source: URI, target: URI, options?: { unlock?: boolean }): Promise<void> {\n\t\tconst sudoPrompt = await import('@vscode/sudo-prompt');\n\n\t\tconst argsFile = randomPath(this.environmentMainService.userDataPath, 'code-elevated');\n\t\tawait Promises.writeFile(argsFile, JSON.stringify({ source: source.fsPath, target: target.fsPath }));\n\n\t\ttry {\n\t\t\tawait new Promise<void>((resolve, reject) => {\n\t\t\t\tconst sudoCommand: string[] = [`\"${this.cliPath}\"`];\n\t\t\t\tif (options?.unlock) {\n\t\t\t\t\tsudoCommand.push('--file-chmod');\n\t\t\t\t}\n\n\t\t\t\tsudoCommand.push('--file-write', `\"${argsFile}\"`);\n\n\t\t\t\tconst promptOptions = {\n\t\t\t\t\tname: this.productService.nameLong.replace('-', ''),\n\t\t\t\t\ticns: (isMacintosh && this.environmentMainService.isBuilt) ? join(dirname(this.environmentMainService.appRoot), `${this.productService.nameShort}.icns`) : undefined\n\t\t\t\t};\n\n\t\t\t\tthis.logService.trace(`[sudo-prompt] running command: ${sudoCommand.join(' ')}`);\n\n\t\t\t\tsudoPrompt.exec(sudoCommand.join(' '), promptOptions, (error?, stdout?, stderr?) => {\n\t\t\t\t\tif (stdout) {\n\t\t\t\t\t\tthis.logService.trace(`[sudo-prompt] received stdout: ${stdout}`);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (stderr) {\n\t\t\t\t\t\tthis.logService.error(`[sudo-prompt] received stderr: ${stderr}`);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (error) {\n\t\t\t\t\t\treject(error);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve(undefined);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t} finally {\n\t\t\tawait fs.promises.unlink(argsFile);\n\t\t}\n\t}\n\n\tasync isRunningUnderARM64Translation(): Promise<boolean> {\n\t\tif (isLinux || isWindows) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn app.runningUnderARM64Translation;\n\t}\n\n\t@memoize\n\tprivate get cliPath(): string {\n\n\t\t// Windows\n\t\tif (isWindows) {\n\t\t\tif (this.environmentMainService.isBuilt) {\n\t\t\t\treturn join(dirname(process.execPath), 'bin', `${this.productService.applicationName}.cmd`);\n\t\t\t}\n\n\t\t\treturn join(this.environmentMainService.appRoot, 'scripts', 'code-cli.bat');\n\t\t}\n\n\t\t// Linux\n\t\tif (isLinux) {\n\t\t\tif (this.environmentMainService.isBuilt) {\n\t\t\t\treturn join(dirname(process.execPath), 'bin', `${this.productService.applicationName}`);\n\t\t\t}\n\n\t\t\treturn join(this.environmentMainService.appRoot, 'scripts', 'code-cli.sh');\n\t\t}\n\n\t\t// macOS\n\t\tif (this.environmentMainService.isBuilt) {\n\t\t\treturn join(this.environmentMainService.appRoot, 'bin', 'code');\n\t\t}\n\n\t\treturn join(this.environmentMainService.appRoot, 'scripts', 'code-cli.sh');\n\t}\n\n\tasync getOSStatistics(): Promise<IOSStatistics> {\n\t\treturn {\n\t\t\ttotalmem: totalmem(),\n\t\t\tfreemem: freemem(),\n\t\t\tloadavg: loadavg()\n\t\t};\n\t}\n\n\tasync getOSProperties(): Promise<IOSProperties> {\n\t\treturn {\n\t\t\tarch: arch(),\n\t\t\tplatform: platform(),\n\t\t\trelease: release(),\n\t\t\ttype: type(),\n\t\t\tcpus: cpus()\n\t\t};\n\t}\n\n\tasync getOSVirtualMachineHint(): Promise<number> {\n\t\treturn virtualMachineHint.value();\n\t}\n\n\tasync getOSColorScheme(): Promise<IColorScheme> {\n\t\treturn this.themeMainService.getColorScheme();\n\t}\n\n\t// WSL\n\tasync hasWSLFeatureInstalled(): Promise<boolean> {\n\t\treturn isWindows && hasWSLFeatureInstalled();\n\t}\n\n\t//#endregion\n\n\n\t//#region Screenshots\n\n\tasync getScreenshot(windowId: number | undefined, rect?: IRectangle, options?: INativeHostOptions): Promise<VSBuffer | undefined> {\n\t\tconst window = this.windowById(options?.targetWindowId, windowId);\n\t\tconst captured = await window?.win?.webContents.capturePage(rect);\n\n\t\tconst buf = captured?.toJPEG(95);\n\t\treturn buf && VSBuffer.wrap(buf);\n\t}\n\n\t//#endregion\n\n\n\t//#region Process\n\n\tasync getProcessId(windowId: number | undefined): Promise<number | undefined> {\n\t\tconst window = this.windowById(undefined, windowId);\n\t\treturn window?.win?.webContents.getOSProcessId();\n\t}\n\n\tasync killProcess(windowId: number | undefined, pid: number, code: string): Promise<void> {\n\t\tprocess.kill(pid, code);\n\t}\n\n\t//#endregion\n\n\n\t//#region Clipboard\n\n\tasync readClipboardText(windowId: number | undefined, type?: 'selection' | 'clipboard'): Promise<string> {\n\t\tthis.logService.trace(`readClipboardText in window ${windowId} with type:`, type);\n\t\tconst clipboardText = clipboard.readText(type);\n\t\tthis.logService.trace(`clipboardText.length :`, clipboardText.length);\n\t\treturn clipboardText;\n\t}\n\n\tasync triggerPaste(windowId: number | undefined, options?: INativeHostOptions): Promise<void> {\n\t\tthis.logService.trace(`Triggering paste in window ${windowId} with options:`, options);\n\t\tconst window = this.windowById(options?.targetWindowId, windowId);\n\t\treturn window?.win?.webContents.paste() ?? Promise.resolve();\n\t}\n\n\tasync readImage(): Promise<Uint8Array> {\n\t\treturn clipboard.readImage().toPNG();\n\t}\n\n\tasync writeClipboardText(windowId: number | undefined, text: string, type?: 'selection' | 'clipboard'): Promise<void> {\n\t\treturn clipboard.writeText(text, type);\n\t}\n\n\tasync readClipboardFindText(windowId: number | undefined,): Promise<string> {\n\t\treturn clipboard.readFindText();\n\t}\n\n\tasync writeClipboardFindText(windowId: number | undefined, text: string): Promise<void> {\n\t\treturn clipboard.writeFindText(text);\n\t}\n\n\tasync writeClipboardBuffer(windowId: number | undefined, format: string, buffer: VSBuffer, type?: 'selection' | 'clipboard'): Promise<void> {\n\t\treturn clipboard.writeBuffer(format, Buffer.from(buffer.buffer), type);\n\t}\n\n\tasync readClipboardBuffer(windowId: number | undefined, format: string): Promise<VSBuffer> {\n\t\treturn VSBuffer.wrap(clipboard.readBuffer(format));\n\t}\n\n\tasync hasClipboard(windowId: number | undefined, format: string, type?: 'selection' | 'clipboard'): Promise<boolean> {\n\t\treturn clipboard.has(format, type);\n\t}\n\n\t//#endregion\n\n\n\t//#region macOS Touchbar\n\n\tasync newWindowTab(): Promise<void> {\n\t\tawait this.windowsMainService.open({\n\t\t\tcontext: OpenContext.API,\n\t\t\tcli: this.environmentMainService.args,\n\t\t\tforceNewTabbedWindow: true,\n\t\t\tforceEmpty: true,\n\t\t\tremoteAuthority: this.environmentMainService.args.remote || undefined\n\t\t});\n\t}\n\n\tasync showPreviousWindowTab(): Promise<void> {\n\t\tMenu.sendActionToFirstResponder('selectPreviousTab:');\n\t}\n\n\tasync showNextWindowTab(): Promise<void> {\n\t\tMenu.sendActionToFirstResponder('selectNextTab:');\n\t}\n\n\tasync moveWindowTabToNewWindow(): Promise<void> {\n\t\tMenu.sendActionToFirstResponder('moveTabToNewWindow:');\n\t}\n\n\tasync mergeAllWindowTabs(): Promise<void> {\n\t\tMenu.sendActionToFirstResponder('mergeAllWindows:');\n\t}\n\n\tasync toggleWindowTabsBar(): Promise<void> {\n\t\tMenu.sendActionToFirstResponder('toggleTabBar:');\n\t}\n\n\tasync updateTouchBar(windowId: number | undefined, items: ISerializableCommandAction[][]): Promise<void> {\n\t\tconst window = this.codeWindowById(windowId);\n\t\twindow?.updateTouchBar(items);\n\t}\n\n\t//#endregion\n\n\n\t//#region Lifecycle\n\n\tasync notifyReady(windowId: number | undefined): Promise<void> {\n\t\tconst window = this.codeWindowById(windowId);\n\t\twindow?.setReady();\n\t}\n\n\tasync relaunch(windowId: number | undefined, options?: IRelaunchOptions): Promise<void> {\n\t\treturn this.lifecycleMainService.relaunch(options);\n\t}\n\n\tasync reload(windowId: number | undefined, options?: { disableExtensions?: boolean }): Promise<void> {\n\t\tconst window = this.codeWindowById(windowId);\n\t\tif (window) {\n\n\t\t\t// Special case: support `transient` workspaces by preventing\n\t\t\t// the reload and rather go back to an empty window. Transient\n\t\t\t// workspaces should never restore, even when the user wants\n\t\t\t// to reload.\n\t\t\t// For: https://github.com/microsoft/vscode/issues/119695\n\t\t\tif (isWorkspaceIdentifier(window.openedWorkspace)) {\n\t\t\t\tconst configPath = window.openedWorkspace.configPath;\n\t\t\t\tif (configPath.scheme === Schemas.file) {\n\t\t\t\t\tconst workspace = await this.workspacesManagementMainService.resolveLocalWorkspace(configPath);\n\t\t\t\t\tif (workspace?.transient) {\n\t\t\t\t\t\treturn this.openWindow(window.id, { forceReuseWindow: true });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Proceed normally to reload the window\n\t\t\treturn this.lifecycleMainService.reload(window, options?.disableExtensions !== undefined ? { _: [], 'disable-extensions': options.disableExtensions } : undefined);\n\t\t}\n\t}\n\n\tasync closeWindow(windowId: number | undefined, options?: INativeHostOptions): Promise<void> {\n\t\tconst window = this.windowById(options?.targetWindowId, windowId);\n\t\treturn window?.win?.close();\n\t}\n\n\tasync quit(windowId: number | undefined): Promise<void> {\n\n\t\t// If the user selected to exit from an extension development host window, do not quit, but just\n\t\t// close the window unless this is the last window that is opened.\n\t\tconst window = this.windowsMainService.getLastActiveWindow();\n\t\tif (window?.isExtensionDevelopmentHost && this.windowsMainService.getWindowCount() > 1 && window.win) {\n\t\t\twindow.win.close();\n\t\t}\n\n\t\t// Otherwise: normal quit\n\t\telse {\n\t\t\tthis.lifecycleMainService.quit();\n\t\t}\n\t}\n\n\tasync exit(windowId: number | undefined, code: number): Promise<void> {\n\t\tawait this.lifecycleMainService.kill(code);\n\t}\n\n\t//#endregion\n\n\n\t//#region Connectivity\n\n\tasync resolveProxy(windowId: number | undefined, url: string): Promise<string | undefined> {\n\t\tconst window = this.codeWindowById(windowId);\n\t\tconst session = window?.win?.webContents?.session;\n\n\t\treturn session?.resolveProxy(url);\n\t}\n\n\tasync lookupAuthorization(_windowId: number | undefined, authInfo: AuthInfo): Promise<Credentials | undefined> {\n\t\treturn this.proxyAuthService.lookupAuthorization(authInfo);\n\t}\n\n\tasync lookupKerberosAuthorization(_windowId: number | undefined, url: string): Promise<string | undefined> {\n\t\treturn this.requestService.lookupKerberosAuthorization(url);\n\t}\n\n\tasync loadCertificates(_windowId: number | undefined): Promise<string[]> {\n\t\treturn this.requestService.loadCertificates();\n\t}\n\n\tisPortFree(windowId: number | undefined, port: number): Promise<boolean> {\n\t\treturn isPortFree(port, 1_000);\n\t}\n\n\tfindFreePort(windowId: number | undefined, startPort: number, giveUpAfter: number, timeout: number, stride = 1): Promise<number> {\n\t\treturn findFreePort(startPort, giveUpAfter, timeout, stride);\n\t}\n\n\t//#endregion\n\n\n\t//#region Development\n\n\tprivate gpuInfoWindowId: number | undefined;\n\n\tasync openDevTools(windowId: number | undefined, options?: Partial<OpenDevToolsOptions> & INativeHostOptions): Promise<void> {\n\t\tconst window = this.windowById(options?.targetWindowId, windowId);\n\t\twindow?.win?.webContents.openDevTools(options?.mode ? { mode: options.mode, activate: options.activate } : undefined);\n\t}\n\n\tasync toggleDevTools(windowId: number | undefined, options?: INativeHostOptions): Promise<void> {\n\t\tconst window = this.windowById(options?.targetWindowId, windowId);\n\t\twindow?.win?.webContents.toggleDevTools();\n\t}\n\n\tasync openDevToolsWindow(windowId: number | undefined, url: string): Promise<void> {\n\t\tconst parentWindow = this.codeWindowById(windowId);\n\t\tif (!parentWindow) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.openChildWindow(parentWindow.win, url);\n\t}\n\n\tprivate openChildWindow(parentWindow: BrowserWindow | null, url: string): BrowserWindow {\n\t\tconst options = this.instantiationService.invokeFunction(defaultBrowserWindowOptions, defaultWindowState(), { forceNativeTitlebar: true });\n\t\toptions.parent = parentWindow ?? undefined;\n\n\t\tconst window = new BrowserWindow(options);\n\t\twindow.setMenuBarVisibility(false);\n\t\twindow.loadURL(url);\n\n\t\twindow.once('ready-to-show', () => window.show());\n\n\t\treturn window;\n\t}\n\n\tasync openGPUInfoWindow(windowId: number | undefined): Promise<void> {\n\t\tconst parentWindow = this.codeWindowById(windowId);\n\t\tif (!parentWindow) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (typeof this.gpuInfoWindowId !== 'number') {\n\t\t\tconst gpuInfoWindow = this.openChildWindow(parentWindow.win, 'chrome://gpu');\n\t\t\tgpuInfoWindow.once('close', () => this.gpuInfoWindowId = undefined);\n\n\t\t\tthis.gpuInfoWindowId = gpuInfoWindow.id;\n\t\t}\n\n\t\tif (typeof this.gpuInfoWindowId === 'number') {\n\t\t\tconst window = BrowserWindow.fromId(this.gpuInfoWindowId);\n\t\t\tif (window?.isMinimized()) {\n\t\t\t\twindow?.restore();\n\t\t\t}\n\t\t\twindow?.focus();\n\t\t}\n\t}\n\n\tasync stopTracing(windowId: number | undefined): Promise<void> {\n\t\tif (!this.environmentMainService.args.trace) {\n\t\t\treturn; // requires tracing to be on\n\t\t}\n\n\t\tconst path = await contentTracing.stopRecording(`${randomPath(this.environmentMainService.userHome.fsPath, this.productService.applicationName)}.trace.txt`);\n\n\t\t// Inform user to report an issue\n\t\tawait this.dialogMainService.showMessageBox({\n\t\t\ttype: 'info',\n\t\t\tmessage: localize('trace.message', \"Successfully created the trace file\"),\n\t\t\tdetail: localize('trace.detail', \"Please create an issue and manually attach the following file:\\n{0}\", path),\n\t\t\tbuttons: [localize({ key: 'trace.ok', comment: ['&& denotes a mnemonic'] }, \"&&OK\")],\n\t\t}, BrowserWindow.getFocusedWindow() ?? undefined);\n\n\t\t// Show item in explorer\n\t\tthis.showItemInFolder(undefined, path);\n\t}\n\n\t//#endregion\n\n\t// #region Performance\n\n\tasync profileRenderer(windowId: number | undefined, session: string, duration: number): Promise<IV8Profile> {\n\t\tconst window = this.codeWindowById(windowId);\n\t\tif (!window?.win) {\n\t\t\tthrow new Error();\n\t\t}\n\n\t\tconst profiler = new WindowProfiler(window.win, session, this.logService);\n\t\tconst result = await profiler.inspect(duration);\n\t\treturn result;\n\t}\n\n\t// #endregion\n\n\t//#region Registry (windows)\n\n\tasync windowsGetStringRegKey(windowId: number | undefined, hive: 'HKEY_CURRENT_USER' | 'HKEY_LOCAL_MACHINE' | 'HKEY_CLASSES_ROOT' | 'HKEY_USERS' | 'HKEY_CURRENT_CONFIG', path: string, name: string): Promise<string | undefined> {\n\t\tif (!isWindows) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst Registry = await import('@vscode/windows-registry');\n\t\ttry {\n\t\t\treturn Registry.GetStringRegKey(hive, path, name);\n\t\t} catch {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\n\t//#endregion\n\n\tprivate windowById(windowId: number | undefined, fallbackCodeWindowId?: number): ICodeWindow | IAuxiliaryWindow | undefined {\n\t\treturn this.codeWindowById(windowId) ?? this.auxiliaryWindowById(windowId) ?? this.codeWindowById(fallbackCodeWindowId);\n\t}\n\n\tprivate codeWindowById(windowId: number | undefined): ICodeWindow | undefined {\n\t\tif (typeof windowId !== 'number') {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn this.windowsMainService.getWindowById(windowId);\n\t}\n\n\tprivate auxiliaryWindowById(windowId: number | undefined): IAuxiliaryWindow | undefined {\n\t\tif (typeof windowId !== 'number') {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst contents = webContents.fromId(windowId);\n\t\tif (!contents) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn this.auxiliaryWindowsMainService.getWindowByWebContents(contents);\n\t}\n}\n"]}