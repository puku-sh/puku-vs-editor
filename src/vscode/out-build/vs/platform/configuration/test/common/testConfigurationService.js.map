{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/platform/configuration/test/common/testConfigurationService.ts","vs/platform/configuration/test/common/testConfigurationService.ts"],"names":[],"mappings":"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","file":"testConfigurationService.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Emitter } from '../../../../base/common/event.js';\nimport { TernarySearchTree } from '../../../../base/common/ternarySearchTree.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { getConfigurationValue, IConfigurationChangeEvent, IConfigurationOverrides, IConfigurationService, IConfigurationValue, isConfigurationOverrides } from '../../common/configuration.js';\nimport { Extensions, IConfigurationRegistry } from '../../common/configurationRegistry.js';\nimport { Registry } from '../../../registry/common/platform.js';\n\nexport class TestConfigurationService implements IConfigurationService {\n\tpublic _serviceBrand: undefined;\n\n\tprivate configuration: Record<string, unknown>;\n\treadonly onDidChangeConfigurationEmitter = new Emitter<IConfigurationChangeEvent>();\n\treadonly onDidChangeConfiguration = this.onDidChangeConfigurationEmitter.event;\n\n\tconstructor(configuration?: Record<string, unknown>) {\n\t\tthis.configuration = configuration || Object.create(null);\n\t}\n\n\tprivate configurationByRoot: TernarySearchTree<string, Record<string, unknown>> = TernarySearchTree.forPaths<Record<string, unknown>>();\n\n\tpublic reloadConfiguration<T>(): Promise<T> {\n\t\treturn Promise.resolve(this.getValue() as T);\n\t}\n\n\tpublic getValue<T>(arg1?: string | IConfigurationOverrides, arg2?: IConfigurationOverrides): T | undefined {\n\t\tlet configuration;\n\t\tconst overrides = isConfigurationOverrides(arg1) ? arg1 : isConfigurationOverrides(arg2) ? arg2 : undefined;\n\t\tif (overrides) {\n\t\t\tif (overrides.resource) {\n\t\t\t\tconfiguration = this.configurationByRoot.findSubstr(overrides.resource.fsPath);\n\t\t\t}\n\t\t}\n\t\tconfiguration = configuration ? configuration : this.configuration;\n\t\tif (arg1 && typeof arg1 === 'string') {\n\t\t\treturn (configuration[arg1] ?? getConfigurationValue(configuration, arg1)) as T;\n\t\t}\n\t\treturn configuration as T;\n\t}\n\n\tpublic updateValue(key: string, value: unknown): Promise<void> {\n\t\treturn Promise.resolve(undefined);\n\t}\n\n\tpublic setUserConfiguration(key: string, value: unknown, root?: URI): Promise<void> {\n\t\tif (root) {\n\t\t\tconst configForRoot = this.configurationByRoot.get(root.fsPath) || Object.create(null);\n\t\t\tconfigForRoot[key] = value;\n\t\t\tthis.configurationByRoot.set(root.fsPath, configForRoot);\n\t\t} else {\n\t\t\tthis.configuration[key] = value;\n\t\t}\n\n\t\treturn Promise.resolve(undefined);\n\t}\n\n\tprivate overrideIdentifiers: Map<string, string[]> = new Map();\n\tpublic setOverrideIdentifiers(key: string, identifiers: string[]): void {\n\t\tthis.overrideIdentifiers.set(key, identifiers);\n\t}\n\n\tpublic inspect<T>(key: string, overrides?: IConfigurationOverrides): IConfigurationValue<T> {\n\t\tconst value = this.getValue(key, overrides) as T;\n\n\t\treturn {\n\t\t\tvalue,\n\t\t\tdefaultValue: undefined,\n\t\t\tuserValue: value,\n\t\t\tuserLocalValue: value,\n\t\t\toverrideIdentifiers: this.overrideIdentifiers.get(key)\n\t\t};\n\t}\n\n\tpublic keys() {\n\t\treturn {\n\t\t\tdefault: Object.keys(Registry.as<IConfigurationRegistry>(Extensions.Configuration).getConfigurationProperties()),\n\t\t\tpolicy: [],\n\t\t\tuser: Object.keys(this.configuration),\n\t\t\tworkspace: [],\n\t\t\tworkspaceFolder: []\n\t\t};\n\t}\n\n\tpublic getConfigurationData() {\n\t\treturn null;\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Emitter } from '../../../../base/common/event.js';\nimport { TernarySearchTree } from '../../../../base/common/ternarySearchTree.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { getConfigurationValue, IConfigurationChangeEvent, IConfigurationOverrides, IConfigurationService, IConfigurationValue, isConfigurationOverrides } from '../../common/configuration.js';\nimport { Extensions, IConfigurationRegistry } from '../../common/configurationRegistry.js';\nimport { Registry } from '../../../registry/common/platform.js';\n\nexport class TestConfigurationService implements IConfigurationService {\n\tpublic _serviceBrand: undefined;\n\n\tprivate configuration: Record<string, unknown>;\n\treadonly onDidChangeConfigurationEmitter = new Emitter<IConfigurationChangeEvent>();\n\treadonly onDidChangeConfiguration = this.onDidChangeConfigurationEmitter.event;\n\n\tconstructor(configuration?: Record<string, unknown>) {\n\t\tthis.configuration = configuration || Object.create(null);\n\t}\n\n\tprivate configurationByRoot: TernarySearchTree<string, Record<string, unknown>> = TernarySearchTree.forPaths<Record<string, unknown>>();\n\n\tpublic reloadConfiguration<T>(): Promise<T> {\n\t\treturn Promise.resolve(this.getValue() as T);\n\t}\n\n\tpublic getValue<T>(arg1?: string | IConfigurationOverrides, arg2?: IConfigurationOverrides): T | undefined {\n\t\tlet configuration;\n\t\tconst overrides = isConfigurationOverrides(arg1) ? arg1 : isConfigurationOverrides(arg2) ? arg2 : undefined;\n\t\tif (overrides) {\n\t\t\tif (overrides.resource) {\n\t\t\t\tconfiguration = this.configurationByRoot.findSubstr(overrides.resource.fsPath);\n\t\t\t}\n\t\t}\n\t\tconfiguration = configuration ? configuration : this.configuration;\n\t\tif (arg1 && typeof arg1 === 'string') {\n\t\t\treturn (configuration[arg1] ?? getConfigurationValue(configuration, arg1)) as T;\n\t\t}\n\t\treturn configuration as T;\n\t}\n\n\tpublic updateValue(key: string, value: unknown): Promise<void> {\n\t\treturn Promise.resolve(undefined);\n\t}\n\n\tpublic setUserConfiguration(key: string, value: unknown, root?: URI): Promise<void> {\n\t\tif (root) {\n\t\t\tconst configForRoot = this.configurationByRoot.get(root.fsPath) || Object.create(null);\n\t\t\tconfigForRoot[key] = value;\n\t\t\tthis.configurationByRoot.set(root.fsPath, configForRoot);\n\t\t} else {\n\t\t\tthis.configuration[key] = value;\n\t\t}\n\n\t\treturn Promise.resolve(undefined);\n\t}\n\n\tprivate overrideIdentifiers: Map<string, string[]> = new Map();\n\tpublic setOverrideIdentifiers(key: string, identifiers: string[]): void {\n\t\tthis.overrideIdentifiers.set(key, identifiers);\n\t}\n\n\tpublic inspect<T>(key: string, overrides?: IConfigurationOverrides): IConfigurationValue<T> {\n\t\tconst value = this.getValue(key, overrides) as T;\n\n\t\treturn {\n\t\t\tvalue,\n\t\t\tdefaultValue: undefined,\n\t\t\tuserValue: value,\n\t\t\tuserLocalValue: value,\n\t\t\toverrideIdentifiers: this.overrideIdentifiers.get(key)\n\t\t};\n\t}\n\n\tpublic keys() {\n\t\treturn {\n\t\t\tdefault: Object.keys(Registry.as<IConfigurationRegistry>(Extensions.Configuration).getConfigurationProperties()),\n\t\t\tpolicy: [],\n\t\t\tuser: Object.keys(this.configuration),\n\t\t\tworkspace: [],\n\t\t\tworkspaceFolder: []\n\t\t};\n\t}\n\n\tpublic getConfigurationData() {\n\t\treturn null;\n\t}\n}\n"]}