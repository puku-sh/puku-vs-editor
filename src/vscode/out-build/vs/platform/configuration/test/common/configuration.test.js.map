{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/platform/configuration/test/common/configuration.test.ts","vs/platform/configuration/test/common/configuration.test.ts"],"names":[],"mappings":"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","file":"configuration.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport assert from 'assert';\nimport { merge, removeFromValueTree } from '../../common/configuration.js';\nimport { mergeChanges } from '../../common/configurationModels.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\n\nsuite('Configuration', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('simple merge', () => {\n\t\tlet base = { 'a': 1, 'b': 2 };\n\t\tmerge(base, { 'a': 3, 'c': 4 }, true);\n\t\tassert.deepStrictEqual(base, { 'a': 3, 'b': 2, 'c': 4 });\n\t\tbase = { 'a': 1, 'b': 2 };\n\t\tmerge(base, { 'a': 3, 'c': 4 }, false);\n\t\tassert.deepStrictEqual(base, { 'a': 1, 'b': 2, 'c': 4 });\n\t});\n\n\ttest('object merge', () => {\n\t\tconst base = { 'a': { 'b': 1, 'c': true, 'd': 2 } };\n\t\tmerge(base, { 'a': { 'b': undefined, 'c': false, 'e': 'a' } }, true);\n\t\tassert.deepStrictEqual(base, { 'a': { 'b': undefined, 'c': false, 'd': 2, 'e': 'a' } });\n\t});\n\n\ttest('array merge', () => {\n\t\tconst base = { 'a': ['b', 'c'] };\n\t\tmerge(base, { 'a': ['b', 'd'] }, true);\n\t\tassert.deepStrictEqual(base, { 'a': ['b', 'd'] });\n\t});\n\n\ttest('removeFromValueTree: remove a non existing key', () => {\n\t\tconst target = { 'a': { 'b': 2 } };\n\n\t\tremoveFromValueTree(target, 'c');\n\n\t\tassert.deepStrictEqual(target, { 'a': { 'b': 2 } });\n\t});\n\n\ttest('removeFromValueTree: remove a multi segmented key from an object that has only sub sections of the key', () => {\n\t\tconst target = { 'a': { 'b': 2 } };\n\n\t\tremoveFromValueTree(target, 'a.b.c');\n\n\t\tassert.deepStrictEqual(target, { 'a': { 'b': 2 } });\n\t});\n\n\ttest('removeFromValueTree: remove a single segmented key', () => {\n\t\tconst target = { 'a': 1 };\n\n\t\tremoveFromValueTree(target, 'a');\n\n\t\tassert.deepStrictEqual(target, {});\n\t});\n\n\ttest('removeFromValueTree: remove a single segmented key when its value is undefined', () => {\n\t\tconst target = { 'a': undefined };\n\n\t\tremoveFromValueTree(target, 'a');\n\n\t\tassert.deepStrictEqual(target, {});\n\t});\n\n\ttest('removeFromValueTree: remove a multi segmented key when its value is undefined', () => {\n\t\tconst target = { 'a': { 'b': 1 } };\n\n\t\tremoveFromValueTree(target, 'a.b');\n\n\t\tassert.deepStrictEqual(target, {});\n\t});\n\n\ttest('removeFromValueTree: remove a multi segmented key when its value is array', () => {\n\t\tconst target = { 'a': { 'b': [1] } };\n\n\t\tremoveFromValueTree(target, 'a.b');\n\n\t\tassert.deepStrictEqual(target, {});\n\t});\n\n\ttest('removeFromValueTree: remove a multi segmented key first segment value is array', () => {\n\t\tconst target = { 'a': [1] };\n\n\t\tremoveFromValueTree(target, 'a.0');\n\n\t\tassert.deepStrictEqual(target, { 'a': [1] });\n\t});\n\n\ttest('removeFromValueTree: remove when key is the first segmenet', () => {\n\t\tconst target = { 'a': { 'b': 1 } };\n\n\t\tremoveFromValueTree(target, 'a');\n\n\t\tassert.deepStrictEqual(target, {});\n\t});\n\n\ttest('removeFromValueTree: remove a multi segmented key when the first node has more values', () => {\n\t\tconst target = { 'a': { 'b': { 'c': 1 }, 'd': 1 } };\n\n\t\tremoveFromValueTree(target, 'a.b.c');\n\n\t\tassert.deepStrictEqual(target, { 'a': { 'd': 1 } });\n\t});\n\n\ttest('removeFromValueTree: remove a multi segmented key when in between node has more values', () => {\n\t\tconst target = { 'a': { 'b': { 'c': { 'd': 1 }, 'd': 1 } } };\n\n\t\tremoveFromValueTree(target, 'a.b.c.d');\n\n\t\tassert.deepStrictEqual(target, { 'a': { 'b': { 'd': 1 } } });\n\t});\n\n\ttest('removeFromValueTree: remove a multi segmented key when the last but one node has more values', () => {\n\t\tconst target = { 'a': { 'b': { 'c': 1, 'd': 1 } } };\n\n\t\tremoveFromValueTree(target, 'a.b.c');\n\n\t\tassert.deepStrictEqual(target, { 'a': { 'b': { 'd': 1 } } });\n\t});\n\n});\n\nsuite('Configuration Changes: Merge', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('merge only keys', () => {\n\t\tconst actual = mergeChanges({ keys: ['a', 'b'], overrides: [] }, { keys: ['c', 'd'], overrides: [] });\n\t\tassert.deepStrictEqual(actual, { keys: ['a', 'b', 'c', 'd'], overrides: [] });\n\t});\n\n\ttest('merge only keys with duplicates', () => {\n\t\tconst actual = mergeChanges({ keys: ['a', 'b'], overrides: [] }, { keys: ['c', 'd'], overrides: [] }, { keys: ['a', 'd', 'e'], overrides: [] });\n\t\tassert.deepStrictEqual(actual, { keys: ['a', 'b', 'c', 'd', 'e'], overrides: [] });\n\t});\n\n\ttest('merge only overrides', () => {\n\t\tconst actual = mergeChanges({ keys: [], overrides: [['a', ['1', '2']]] }, { keys: [], overrides: [['b', ['3', '4']]] });\n\t\tassert.deepStrictEqual(actual, { keys: [], overrides: [['a', ['1', '2']], ['b', ['3', '4']]] });\n\t});\n\n\ttest('merge only overrides with duplicates', () => {\n\t\tconst actual = mergeChanges({ keys: [], overrides: [['a', ['1', '2']], ['b', ['5', '4']]] }, { keys: [], overrides: [['b', ['3', '4']]] }, { keys: [], overrides: [['c', ['1', '4']], ['a', ['2', '3']]] });\n\t\tassert.deepStrictEqual(actual, { keys: [], overrides: [['a', ['1', '2', '3']], ['b', ['5', '4', '3']], ['c', ['1', '4']]] });\n\t});\n\n\ttest('merge', () => {\n\t\tconst actual = mergeChanges({ keys: ['b', 'b'], overrides: [['a', ['1', '2']], ['b', ['5', '4']]] }, { keys: ['b'], overrides: [['b', ['3', '4']]] }, { keys: ['c', 'a'], overrides: [['c', ['1', '4']], ['a', ['2', '3']]] });\n\t\tassert.deepStrictEqual(actual, { keys: ['b', 'c', 'a'], overrides: [['a', ['1', '2', '3']], ['b', ['5', '4', '3']], ['c', ['1', '4']]] });\n\t});\n\n\ttest('merge single change', () => {\n\t\tconst actual = mergeChanges({ keys: ['b', 'b'], overrides: [['a', ['1', '2']], ['b', ['5', '4']]] });\n\t\tassert.deepStrictEqual(actual, { keys: ['b', 'b'], overrides: [['a', ['1', '2']], ['b', ['5', '4']]] });\n\t});\n\n\ttest('merge no changes', () => {\n\t\tconst actual = mergeChanges();\n\t\tassert.deepStrictEqual(actual, { keys: [], overrides: [] });\n\t});\n\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport assert from 'assert';\nimport { merge, removeFromValueTree } from '../../common/configuration.js';\nimport { mergeChanges } from '../../common/configurationModels.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\n\nsuite('Configuration', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('simple merge', () => {\n\t\tlet base = { 'a': 1, 'b': 2 };\n\t\tmerge(base, { 'a': 3, 'c': 4 }, true);\n\t\tassert.deepStrictEqual(base, { 'a': 3, 'b': 2, 'c': 4 });\n\t\tbase = { 'a': 1, 'b': 2 };\n\t\tmerge(base, { 'a': 3, 'c': 4 }, false);\n\t\tassert.deepStrictEqual(base, { 'a': 1, 'b': 2, 'c': 4 });\n\t});\n\n\ttest('object merge', () => {\n\t\tconst base = { 'a': { 'b': 1, 'c': true, 'd': 2 } };\n\t\tmerge(base, { 'a': { 'b': undefined, 'c': false, 'e': 'a' } }, true);\n\t\tassert.deepStrictEqual(base, { 'a': { 'b': undefined, 'c': false, 'd': 2, 'e': 'a' } });\n\t});\n\n\ttest('array merge', () => {\n\t\tconst base = { 'a': ['b', 'c'] };\n\t\tmerge(base, { 'a': ['b', 'd'] }, true);\n\t\tassert.deepStrictEqual(base, { 'a': ['b', 'd'] });\n\t});\n\n\ttest('removeFromValueTree: remove a non existing key', () => {\n\t\tconst target = { 'a': { 'b': 2 } };\n\n\t\tremoveFromValueTree(target, 'c');\n\n\t\tassert.deepStrictEqual(target, { 'a': { 'b': 2 } });\n\t});\n\n\ttest('removeFromValueTree: remove a multi segmented key from an object that has only sub sections of the key', () => {\n\t\tconst target = { 'a': { 'b': 2 } };\n\n\t\tremoveFromValueTree(target, 'a.b.c');\n\n\t\tassert.deepStrictEqual(target, { 'a': { 'b': 2 } });\n\t});\n\n\ttest('removeFromValueTree: remove a single segmented key', () => {\n\t\tconst target = { 'a': 1 };\n\n\t\tremoveFromValueTree(target, 'a');\n\n\t\tassert.deepStrictEqual(target, {});\n\t});\n\n\ttest('removeFromValueTree: remove a single segmented key when its value is undefined', () => {\n\t\tconst target = { 'a': undefined };\n\n\t\tremoveFromValueTree(target, 'a');\n\n\t\tassert.deepStrictEqual(target, {});\n\t});\n\n\ttest('removeFromValueTree: remove a multi segmented key when its value is undefined', () => {\n\t\tconst target = { 'a': { 'b': 1 } };\n\n\t\tremoveFromValueTree(target, 'a.b');\n\n\t\tassert.deepStrictEqual(target, {});\n\t});\n\n\ttest('removeFromValueTree: remove a multi segmented key when its value is array', () => {\n\t\tconst target = { 'a': { 'b': [1] } };\n\n\t\tremoveFromValueTree(target, 'a.b');\n\n\t\tassert.deepStrictEqual(target, {});\n\t});\n\n\ttest('removeFromValueTree: remove a multi segmented key first segment value is array', () => {\n\t\tconst target = { 'a': [1] };\n\n\t\tremoveFromValueTree(target, 'a.0');\n\n\t\tassert.deepStrictEqual(target, { 'a': [1] });\n\t});\n\n\ttest('removeFromValueTree: remove when key is the first segmenet', () => {\n\t\tconst target = { 'a': { 'b': 1 } };\n\n\t\tremoveFromValueTree(target, 'a');\n\n\t\tassert.deepStrictEqual(target, {});\n\t});\n\n\ttest('removeFromValueTree: remove a multi segmented key when the first node has more values', () => {\n\t\tconst target = { 'a': { 'b': { 'c': 1 }, 'd': 1 } };\n\n\t\tremoveFromValueTree(target, 'a.b.c');\n\n\t\tassert.deepStrictEqual(target, { 'a': { 'd': 1 } });\n\t});\n\n\ttest('removeFromValueTree: remove a multi segmented key when in between node has more values', () => {\n\t\tconst target = { 'a': { 'b': { 'c': { 'd': 1 }, 'd': 1 } } };\n\n\t\tremoveFromValueTree(target, 'a.b.c.d');\n\n\t\tassert.deepStrictEqual(target, { 'a': { 'b': { 'd': 1 } } });\n\t});\n\n\ttest('removeFromValueTree: remove a multi segmented key when the last but one node has more values', () => {\n\t\tconst target = { 'a': { 'b': { 'c': 1, 'd': 1 } } };\n\n\t\tremoveFromValueTree(target, 'a.b.c');\n\n\t\tassert.deepStrictEqual(target, { 'a': { 'b': { 'd': 1 } } });\n\t});\n\n});\n\nsuite('Configuration Changes: Merge', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('merge only keys', () => {\n\t\tconst actual = mergeChanges({ keys: ['a', 'b'], overrides: [] }, { keys: ['c', 'd'], overrides: [] });\n\t\tassert.deepStrictEqual(actual, { keys: ['a', 'b', 'c', 'd'], overrides: [] });\n\t});\n\n\ttest('merge only keys with duplicates', () => {\n\t\tconst actual = mergeChanges({ keys: ['a', 'b'], overrides: [] }, { keys: ['c', 'd'], overrides: [] }, { keys: ['a', 'd', 'e'], overrides: [] });\n\t\tassert.deepStrictEqual(actual, { keys: ['a', 'b', 'c', 'd', 'e'], overrides: [] });\n\t});\n\n\ttest('merge only overrides', () => {\n\t\tconst actual = mergeChanges({ keys: [], overrides: [['a', ['1', '2']]] }, { keys: [], overrides: [['b', ['3', '4']]] });\n\t\tassert.deepStrictEqual(actual, { keys: [], overrides: [['a', ['1', '2']], ['b', ['3', '4']]] });\n\t});\n\n\ttest('merge only overrides with duplicates', () => {\n\t\tconst actual = mergeChanges({ keys: [], overrides: [['a', ['1', '2']], ['b', ['5', '4']]] }, { keys: [], overrides: [['b', ['3', '4']]] }, { keys: [], overrides: [['c', ['1', '4']], ['a', ['2', '3']]] });\n\t\tassert.deepStrictEqual(actual, { keys: [], overrides: [['a', ['1', '2', '3']], ['b', ['5', '4', '3']], ['c', ['1', '4']]] });\n\t});\n\n\ttest('merge', () => {\n\t\tconst actual = mergeChanges({ keys: ['b', 'b'], overrides: [['a', ['1', '2']], ['b', ['5', '4']]] }, { keys: ['b'], overrides: [['b', ['3', '4']]] }, { keys: ['c', 'a'], overrides: [['c', ['1', '4']], ['a', ['2', '3']]] });\n\t\tassert.deepStrictEqual(actual, { keys: ['b', 'c', 'a'], overrides: [['a', ['1', '2', '3']], ['b', ['5', '4', '3']], ['c', ['1', '4']]] });\n\t});\n\n\ttest('merge single change', () => {\n\t\tconst actual = mergeChanges({ keys: ['b', 'b'], overrides: [['a', ['1', '2']], ['b', ['5', '4']]] });\n\t\tassert.deepStrictEqual(actual, { keys: ['b', 'b'], overrides: [['a', ['1', '2']], ['b', ['5', '4']]] });\n\t});\n\n\ttest('merge no changes', () => {\n\t\tconst actual = mergeChanges();\n\t\tassert.deepStrictEqual(actual, { keys: [], overrides: [] });\n\t});\n\n});\n"]}