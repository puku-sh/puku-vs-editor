{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/platform/terminal/node/terminalContrib/autoReplies/autoRepliesContribController.ts","vs/platform/terminal/node/terminalContrib/autoReplies/autoRepliesContribController.ts"],"names":[],"mappings":"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","file":"autoRepliesContribController.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ILogService } from '../../../../log/common/log.js';\nimport type { IPtyServiceContribution, ITerminalChildProcess } from '../../../common/terminal.js';\nimport { TerminalAutoResponder } from './terminalAutoResponder.js';\n\nexport class AutoRepliesPtyServiceContribution implements IPtyServiceContribution {\n\tprivate readonly _autoReplies: Map<string, string> = new Map();\n\tprivate readonly _terminalProcesses: Map<number, ITerminalChildProcess> = new Map();\n\tprivate readonly _autoResponders: Map<number, Map<string, TerminalAutoResponder>> = new Map();\n\n\tconstructor(\n\t\t@ILogService private readonly _logService: ILogService\n\t) {\n\t}\n\n\tasync installAutoReply(match: string, reply: string) {\n\t\tthis._autoReplies.set(match, reply);\n\t\t// If the auto reply exists on any existing terminals it will be overridden\n\t\tfor (const persistentProcessId of this._autoResponders.keys()) {\n\t\t\tconst process = this._terminalProcesses.get(persistentProcessId);\n\t\t\tif (!process) {\n\t\t\t\tthis._logService.error('Could not find terminal process to install auto reply');\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tthis._processInstallAutoReply(persistentProcessId, process, match, reply);\n\t\t}\n\t}\n\n\tasync uninstallAllAutoReplies() {\n\t\tfor (const match of this._autoReplies.keys()) {\n\t\t\tfor (const processAutoResponders of this._autoResponders.values()) {\n\t\t\t\tprocessAutoResponders.get(match)?.dispose();\n\t\t\t\tprocessAutoResponders.delete(match);\n\t\t\t}\n\t\t}\n\t}\n\n\thandleProcessReady(persistentProcessId: number, process: ITerminalChildProcess): void {\n\t\tthis._terminalProcesses.set(persistentProcessId, process);\n\t\tthis._autoResponders.set(persistentProcessId, new Map());\n\t\tfor (const [match, reply] of this._autoReplies.entries()) {\n\t\t\tthis._processInstallAutoReply(persistentProcessId, process, match, reply);\n\t\t}\n\t}\n\n\thandleProcessDispose(persistentProcessId: number): void {\n\t\tconst processAutoResponders = this._autoResponders.get(persistentProcessId);\n\t\tif (processAutoResponders) {\n\t\t\tfor (const e of processAutoResponders.values()) {\n\t\t\t\te.dispose();\n\t\t\t}\n\t\t\tprocessAutoResponders.clear();\n\t\t}\n\t}\n\n\thandleProcessInput(persistentProcessId: number, data: string) {\n\t\tconst processAutoResponders = this._autoResponders.get(persistentProcessId);\n\t\tif (processAutoResponders) {\n\t\t\tfor (const listener of processAutoResponders.values()) {\n\t\t\t\tlistener.handleInput();\n\t\t\t}\n\t\t}\n\t}\n\n\thandleProcessResize(persistentProcessId: number, cols: number, rows: number) {\n\t\tconst processAutoResponders = this._autoResponders.get(persistentProcessId);\n\t\tif (processAutoResponders) {\n\t\t\tfor (const listener of processAutoResponders.values()) {\n\t\t\t\tlistener.handleResize();\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate _processInstallAutoReply(persistentProcessId: number, terminalProcess: ITerminalChildProcess, match: string, reply: string) {\n\t\tconst processAutoResponders = this._autoResponders.get(persistentProcessId);\n\t\tif (processAutoResponders) {\n\t\t\tprocessAutoResponders.get(match)?.dispose();\n\t\t\tprocessAutoResponders.set(match, new TerminalAutoResponder(terminalProcess, match, reply, this._logService));\n\t\t}\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ILogService } from '../../../../log/common/log.js';\nimport type { IPtyServiceContribution, ITerminalChildProcess } from '../../../common/terminal.js';\nimport { TerminalAutoResponder } from './terminalAutoResponder.js';\n\nexport class AutoRepliesPtyServiceContribution implements IPtyServiceContribution {\n\tprivate readonly _autoReplies: Map<string, string> = new Map();\n\tprivate readonly _terminalProcesses: Map<number, ITerminalChildProcess> = new Map();\n\tprivate readonly _autoResponders: Map<number, Map<string, TerminalAutoResponder>> = new Map();\n\n\tconstructor(\n\t\t@ILogService private readonly _logService: ILogService\n\t) {\n\t}\n\n\tasync installAutoReply(match: string, reply: string) {\n\t\tthis._autoReplies.set(match, reply);\n\t\t// If the auto reply exists on any existing terminals it will be overridden\n\t\tfor (const persistentProcessId of this._autoResponders.keys()) {\n\t\t\tconst process = this._terminalProcesses.get(persistentProcessId);\n\t\t\tif (!process) {\n\t\t\t\tthis._logService.error('Could not find terminal process to install auto reply');\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tthis._processInstallAutoReply(persistentProcessId, process, match, reply);\n\t\t}\n\t}\n\n\tasync uninstallAllAutoReplies() {\n\t\tfor (const match of this._autoReplies.keys()) {\n\t\t\tfor (const processAutoResponders of this._autoResponders.values()) {\n\t\t\t\tprocessAutoResponders.get(match)?.dispose();\n\t\t\t\tprocessAutoResponders.delete(match);\n\t\t\t}\n\t\t}\n\t}\n\n\thandleProcessReady(persistentProcessId: number, process: ITerminalChildProcess): void {\n\t\tthis._terminalProcesses.set(persistentProcessId, process);\n\t\tthis._autoResponders.set(persistentProcessId, new Map());\n\t\tfor (const [match, reply] of this._autoReplies.entries()) {\n\t\t\tthis._processInstallAutoReply(persistentProcessId, process, match, reply);\n\t\t}\n\t}\n\n\thandleProcessDispose(persistentProcessId: number): void {\n\t\tconst processAutoResponders = this._autoResponders.get(persistentProcessId);\n\t\tif (processAutoResponders) {\n\t\t\tfor (const e of processAutoResponders.values()) {\n\t\t\t\te.dispose();\n\t\t\t}\n\t\t\tprocessAutoResponders.clear();\n\t\t}\n\t}\n\n\thandleProcessInput(persistentProcessId: number, data: string) {\n\t\tconst processAutoResponders = this._autoResponders.get(persistentProcessId);\n\t\tif (processAutoResponders) {\n\t\t\tfor (const listener of processAutoResponders.values()) {\n\t\t\t\tlistener.handleInput();\n\t\t\t}\n\t\t}\n\t}\n\n\thandleProcessResize(persistentProcessId: number, cols: number, rows: number) {\n\t\tconst processAutoResponders = this._autoResponders.get(persistentProcessId);\n\t\tif (processAutoResponders) {\n\t\t\tfor (const listener of processAutoResponders.values()) {\n\t\t\t\tlistener.handleResize();\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate _processInstallAutoReply(persistentProcessId: number, terminalProcess: ITerminalChildProcess, match: string, reply: string) {\n\t\tconst processAutoResponders = this._autoResponders.get(persistentProcessId);\n\t\tif (processAutoResponders) {\n\t\t\tprocessAutoResponders.get(match)?.dispose();\n\t\t\tprocessAutoResponders.set(match, new TerminalAutoResponder(terminalProcess, match, reply, this._logService));\n\t\t}\n\t}\n}\n"]}