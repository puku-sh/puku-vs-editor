{"version":3,"sources":["vs/platform/terminal/common/terminalLogService.ts"],"names":[],"mappings":"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","file":"terminalLogService.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { Event } from '../../../base/common/event.js';\nimport { localize } from '../../../nls.js';\nimport { ILogger, ILoggerService, LogLevel } from '../../log/common/log.js';\nimport { ITerminalLogService } from './terminal.js';\nimport { IWorkspaceContextService } from '../../workspace/common/workspace.js';\nimport { IEnvironmentService } from '../../environment/common/environment.js';\nimport { joinPath } from '../../../base/common/resources.js';\n\nexport class TerminalLogService extends Disposable implements ITerminalLogService {\n\tdeclare _serviceBrand: undefined;\n\tdeclare _logBrand: undefined;\n\n\tprivate readonly _logger: ILogger;\n\n\tprivate _workspaceId!: string;\n\n\tget onDidChangeLogLevel(): Event<LogLevel> { return this._logger.onDidChangeLogLevel; }\n\n\tconstructor(\n\t\t@ILoggerService private readonly _loggerService: ILoggerService,\n\t\t@IWorkspaceContextService workspaceContextService: IWorkspaceContextService,\n\t\t@IEnvironmentService environmentService: IEnvironmentService,\n\t) {\n\t\tsuper();\n\t\tthis._logger = this._loggerService.createLogger(joinPath(environmentService.logsHome, 'terminal.log'), { id: 'terminal', name: localize('terminalLoggerName', 'Terminal') });\n\t\tthis._register(Event.runAndSubscribe(workspaceContextService.onDidChangeWorkspaceFolders, () => {\n\t\t\tthis._workspaceId = workspaceContextService.getWorkspace().id.substring(0, 7);\n\t\t}));\n\t}\n\n\tgetLevel(): LogLevel { return this._logger.getLevel(); }\n\tsetLevel(level: LogLevel): void { this._logger.setLevel(level); }\n\tflush(): void { this._logger.flush(); }\n\n\ttrace(message: string, ...args: unknown[]): void { this._logger.trace(this._formatMessage(message), args); }\n\tdebug(message: string, ...args: unknown[]): void { this._logger.debug(this._formatMessage(message), args); }\n\tinfo(message: string, ...args: unknown[]): void { this._logger.info(this._formatMessage(message), args); }\n\twarn(message: string, ...args: unknown[]): void { this._logger.warn(this._formatMessage(message), args); }\n\terror(message: string | Error, ...args: unknown[]): void {\n\t\tif (message instanceof Error) {\n\t\t\tthis._logger.error(this._formatMessage(''), message, args);\n\t\t\treturn;\n\t\t}\n\t\tthis._logger.error(this._formatMessage(message), args);\n\t}\n\n\tprivate _formatMessage(message: string): string {\n\t\tif (this._logger.getLevel() === LogLevel.Trace) {\n\t\t\treturn `[${this._workspaceId}] ${message}`;\n\t\t}\n\t\treturn message;\n\t}\n}\n"]}