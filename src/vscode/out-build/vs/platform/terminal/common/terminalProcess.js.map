{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/platform/terminal/common/terminalProcess.ts","vs/platform/terminal/common/terminalProcess.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAqEhG,IAAW,SAQV;AARD,WAAW,SAAS;IACnB;;;;;OAKG;IACH,oEAAsB,CAAA;AACvB,CAAC,EARU,SAAS,KAAT,SAAS,QAQnB;AAED;;;GAGG;AACH,MAAM,UAAU,UAAU,CAAC,IAAY;IACtC,MAAM,MAAM,GAAa,EAAE,CAAC;IAC5B,IAAI,mBAAmB,GAAG,CAAC,CAAC;IAC5B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;QAC1C;QACC,mCAAmC;QACnC,CAAC,GAAG,mBAAmB,GAAG,CAAC,wCAA+B;YAC1D,oFAAoF;YACpF,YAAY;YACZ,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,KAAK,MAAM,EACrB,CAAC;YACF,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,mBAAmB,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YACxD,mBAAmB,GAAG,CAAC,GAAG,CAAC,CAAC;YAC5B,mEAAmE;YACnE,CAAC,EAAE,CAAC;QACL,CAAC;IACF,CAAC;IACD,mBAAmB;IACnB,IAAI,mBAAmB,KAAK,IAAI,CAAC,MAAM,EAAE,CAAC;QACzC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC,CAAC,CAAC;IAClD,CAAC;IACD,OAAO,MAAM,CAAC;AACf,CAAC","file":"terminalProcess.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { UriComponents } from '../../../base/common/uri.js';\nimport { ISerializableEnvironmentVariableCollection, ISerializableEnvironmentVariableCollections } from './environmentVariable.js';\nimport { IFixedTerminalDimensions, IRawTerminalTabLayoutInfo, IReconnectionProperties, ITerminalEnvironment, ITerminalTabAction, ITerminalTabLayoutInfoById, TerminalIcon, TerminalType, TitleEventSource, WaitOnExitValue } from './terminal.js';\n\nexport interface ISingleTerminalConfiguration<T> {\n\tuserValue: T | undefined;\n\tvalue: T | undefined;\n\tdefaultValue: T | undefined;\n}\n\nexport interface ICompleteTerminalConfiguration {\n\t'terminal.integrated.env.windows': ISingleTerminalConfiguration<ITerminalEnvironment>;\n\t'terminal.integrated.env.osx': ISingleTerminalConfiguration<ITerminalEnvironment>;\n\t'terminal.integrated.env.linux': ISingleTerminalConfiguration<ITerminalEnvironment>;\n\t'terminal.integrated.cwd': string;\n\t'terminal.integrated.detectLocale': 'auto' | 'off' | 'on';\n}\n\nexport type ITerminalEnvironmentVariableCollections = [string, ISerializableEnvironmentVariableCollection][];\n\nexport interface IWorkspaceFolderData {\n\turi: UriComponents;\n\tname: string;\n\tindex: number;\n}\n\nexport interface ISetTerminalLayoutInfoArgs {\n\tworkspaceId: string;\n\ttabs: ITerminalTabLayoutInfoById[];\n\tbackground: number[] | null;\n}\n\nexport interface IGetTerminalLayoutInfoArgs {\n\tworkspaceId: string;\n}\n\nexport interface IProcessDetails {\n\tid: number;\n\tpid: number;\n\ttitle: string;\n\ttitleSource: TitleEventSource;\n\tcwd: string;\n\tworkspaceId: string;\n\tworkspaceName: string;\n\tisOrphan: boolean;\n\ticon: TerminalIcon | undefined;\n\tcolor: string | undefined;\n\tfixedDimensions: IFixedTerminalDimensions | undefined;\n\tenvironmentVariableCollections: ISerializableEnvironmentVariableCollections | undefined;\n\treconnectionProperties?: IReconnectionProperties;\n\twaitOnExit?: WaitOnExitValue;\n\thideFromUser?: boolean;\n\tisFeatureTerminal?: boolean;\n\ttype?: TerminalType;\n\thasChildProcesses: boolean;\n\tshellIntegrationNonce: string;\n\ttabActions?: ITerminalTabAction[];\n}\n\nexport type ITerminalTabLayoutInfoDto = IRawTerminalTabLayoutInfo<IProcessDetails>;\n\nexport interface ReplayEntry {\n\tcols: number;\n\trows: number;\n\tdata: string;\n}\n\nconst enum Constants {\n\t/**\n\t * Writing large amounts of data can be corrupted for some reason, after looking into this is\n\t * appears to be a race condition around writing to the FD which may be based on how powerful\n\t * the hardware is. The workaround for this is to space out when large amounts of data is being\n\t * written to the terminal. See https://github.com/microsoft/vscode/issues/38137\n\t */\n\tWriteMaxChunkSize = 50,\n}\n\n/**\n * Splits incoming pty data into chunks to try prevent data corruption that could occur when pasting\n * large amounts of data.\n */\nexport function chunkInput(data: string): string[] {\n\tconst chunks: string[] = [];\n\tlet nextChunkStartIndex = 0;\n\tfor (let i = 0; i < data.length - 1; i++) {\n\t\tif (\n\t\t\t// If the max chunk size is reached\n\t\t\ti - nextChunkStartIndex + 1 >= Constants.WriteMaxChunkSize ||\n\t\t\t// If the next character is ESC, send the pending data to avoid splitting the escape\n\t\t\t// sequence.\n\t\t\tdata[i + 1] === '\\x1b'\n\t\t) {\n\t\t\tchunks.push(data.substring(nextChunkStartIndex, i + 1));\n\t\t\tnextChunkStartIndex = i + 1;\n\t\t\t// Skip the next character as the chunk would be a single character\n\t\t\ti++;\n\t\t}\n\t}\n\t// Push final chunk\n\tif (nextChunkStartIndex !== data.length) {\n\t\tchunks.push(data.substring(nextChunkStartIndex));\n\t}\n\treturn chunks;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { UriComponents } from '../../../base/common/uri.js';\nimport { ISerializableEnvironmentVariableCollection, ISerializableEnvironmentVariableCollections } from './environmentVariable.js';\nimport { IFixedTerminalDimensions, IRawTerminalTabLayoutInfo, IReconnectionProperties, ITerminalEnvironment, ITerminalTabAction, ITerminalTabLayoutInfoById, TerminalIcon, TerminalType, TitleEventSource, WaitOnExitValue } from './terminal.js';\n\nexport interface ISingleTerminalConfiguration<T> {\n\tuserValue: T | undefined;\n\tvalue: T | undefined;\n\tdefaultValue: T | undefined;\n}\n\nexport interface ICompleteTerminalConfiguration {\n\t'terminal.integrated.env.windows': ISingleTerminalConfiguration<ITerminalEnvironment>;\n\t'terminal.integrated.env.osx': ISingleTerminalConfiguration<ITerminalEnvironment>;\n\t'terminal.integrated.env.linux': ISingleTerminalConfiguration<ITerminalEnvironment>;\n\t'terminal.integrated.cwd': string;\n\t'terminal.integrated.detectLocale': 'auto' | 'off' | 'on';\n}\n\nexport type ITerminalEnvironmentVariableCollections = [string, ISerializableEnvironmentVariableCollection][];\n\nexport interface IWorkspaceFolderData {\n\turi: UriComponents;\n\tname: string;\n\tindex: number;\n}\n\nexport interface ISetTerminalLayoutInfoArgs {\n\tworkspaceId: string;\n\ttabs: ITerminalTabLayoutInfoById[];\n\tbackground: number[] | null;\n}\n\nexport interface IGetTerminalLayoutInfoArgs {\n\tworkspaceId: string;\n}\n\nexport interface IProcessDetails {\n\tid: number;\n\tpid: number;\n\ttitle: string;\n\ttitleSource: TitleEventSource;\n\tcwd: string;\n\tworkspaceId: string;\n\tworkspaceName: string;\n\tisOrphan: boolean;\n\ticon: TerminalIcon | undefined;\n\tcolor: string | undefined;\n\tfixedDimensions: IFixedTerminalDimensions | undefined;\n\tenvironmentVariableCollections: ISerializableEnvironmentVariableCollections | undefined;\n\treconnectionProperties?: IReconnectionProperties;\n\twaitOnExit?: WaitOnExitValue;\n\thideFromUser?: boolean;\n\tisFeatureTerminal?: boolean;\n\ttype?: TerminalType;\n\thasChildProcesses: boolean;\n\tshellIntegrationNonce: string;\n\ttabActions?: ITerminalTabAction[];\n}\n\nexport type ITerminalTabLayoutInfoDto = IRawTerminalTabLayoutInfo<IProcessDetails>;\n\nexport interface ReplayEntry {\n\tcols: number;\n\trows: number;\n\tdata: string;\n}\n\nconst enum Constants {\n\t/**\n\t * Writing large amounts of data can be corrupted for some reason, after looking into this is\n\t * appears to be a race condition around writing to the FD which may be based on how powerful\n\t * the hardware is. The workaround for this is to space out when large amounts of data is being\n\t * written to the terminal. See https://github.com/microsoft/vscode/issues/38137\n\t */\n\tWriteMaxChunkSize = 50,\n}\n\n/**\n * Splits incoming pty data into chunks to try prevent data corruption that could occur when pasting\n * large amounts of data.\n */\nexport function chunkInput(data: string): string[] {\n\tconst chunks: string[] = [];\n\tlet nextChunkStartIndex = 0;\n\tfor (let i = 0; i < data.length - 1; i++) {\n\t\tif (\n\t\t\t// If the max chunk size is reached\n\t\t\ti - nextChunkStartIndex + 1 >= Constants.WriteMaxChunkSize ||\n\t\t\t// If the next character is ESC, send the pending data to avoid splitting the escape\n\t\t\t// sequence.\n\t\t\tdata[i + 1] === '\\x1b'\n\t\t) {\n\t\t\tchunks.push(data.substring(nextChunkStartIndex, i + 1));\n\t\t\tnextChunkStartIndex = i + 1;\n\t\t\t// Skip the next character as the chunk would be a single character\n\t\t\ti++;\n\t\t}\n\t}\n\t// Push final chunk\n\tif (nextChunkStartIndex !== data.length) {\n\t\tchunks.push(data.substring(nextChunkStartIndex));\n\t}\n\treturn chunks;\n}\n"]}