{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/test/common/notifications.test.ts","vs/workbench/test/common/notifications.test.ts"],"names":[],"mappings":"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","file":"notifications.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { NotificationsModel, NotificationViewItem, INotificationChangeEvent, NotificationChangeType, NotificationViewItemContentChangeKind, IStatusMessageChangeEvent, StatusMessageChangeType, INotificationsFilter } from '../../common/notifications.js';\nimport { Action } from '../../../base/common/actions.js';\nimport { INotification, Severity, NotificationsFilter, NotificationPriority } from '../../../platform/notification/common/notification.js';\nimport { createErrorWithActions } from '../../../base/common/errorMessage.js';\nimport { timeout } from '../../../base/common/async.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../base/test/common/utils.js';\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\n\nsuite('Notifications', () => {\n\n\tconst disposables = new DisposableStore();\n\tconst noFilter: INotificationsFilter = { global: NotificationsFilter.OFF, sources: new Map() };\n\n\tteardown(() => {\n\t\tdisposables.clear();\n\t});\n\n\ttest('Items', () => {\n\n\t\t// Invalid\n\t\tassert.ok(!NotificationViewItem.create({ severity: Severity.Error, message: '' }, noFilter));\n\t\tassert.ok(!NotificationViewItem.create({ severity: Severity.Error, message: null! }, noFilter));\n\n\t\t// Duplicates\n\t\tconst item1 = NotificationViewItem.create({ severity: Severity.Error, message: 'Error Message' }, noFilter)!;\n\t\tconst item2 = NotificationViewItem.create({ severity: Severity.Error, message: 'Error Message' }, noFilter)!;\n\t\tconst item3 = NotificationViewItem.create({ severity: Severity.Info, message: 'Info Message' }, noFilter)!;\n\t\tconst item4 = NotificationViewItem.create({ severity: Severity.Error, message: 'Error Message', source: 'Source' }, noFilter)!;\n\t\tconst item5 = NotificationViewItem.create({ severity: Severity.Error, message: 'Error Message', actions: { primary: [disposables.add(new Action('id', 'label'))] } }, noFilter)!;\n\t\tconst item6 = NotificationViewItem.create({ severity: Severity.Error, message: 'Error Message', actions: { primary: [disposables.add(new Action('id', 'label'))] }, progress: { infinite: true } }, noFilter)!;\n\n\t\tassert.strictEqual(item1.equals(item1), true);\n\t\tassert.strictEqual(item2.equals(item2), true);\n\t\tassert.strictEqual(item3.equals(item3), true);\n\t\tassert.strictEqual(item4.equals(item4), true);\n\t\tassert.strictEqual(item5.equals(item5), true);\n\n\t\tassert.strictEqual(item1.equals(item2), true);\n\t\tassert.strictEqual(item1.equals(item3), false);\n\t\tassert.strictEqual(item1.equals(item4), false);\n\t\tassert.strictEqual(item1.equals(item5), false);\n\n\t\tconst itemId1 = NotificationViewItem.create({ id: 'same', message: 'Info Message', severity: Severity.Info }, noFilter)!;\n\t\tconst itemId2 = NotificationViewItem.create({ id: 'same', message: 'Error Message', severity: Severity.Error }, noFilter)!;\n\n\t\tassert.strictEqual(itemId1.equals(itemId2), true);\n\t\tassert.strictEqual(itemId1.equals(item3), false);\n\n\t\t// Progress\n\t\tassert.strictEqual(item1.hasProgress, false);\n\t\tassert.strictEqual(item6.hasProgress, true);\n\n\t\t// Message Box\n\t\tassert.strictEqual(item5.canCollapse, false);\n\t\tassert.strictEqual(item5.expanded, true);\n\n\t\t// Events\n\t\tlet called = 0;\n\t\tdisposables.add(item1.onDidChangeExpansion(() => {\n\t\t\tcalled++;\n\t\t}));\n\n\t\titem1.expand();\n\t\titem1.expand();\n\t\titem1.collapse();\n\t\titem1.collapse();\n\n\t\tassert.strictEqual(called, 2);\n\n\t\tcalled = 0;\n\t\tdisposables.add(item1.onDidChangeContent(e => {\n\t\t\tif (e.kind === NotificationViewItemContentChangeKind.PROGRESS) {\n\t\t\t\tcalled++;\n\t\t\t}\n\t\t}));\n\n\t\titem1.progress.infinite();\n\t\titem1.progress.done();\n\n\t\tassert.strictEqual(called, 2);\n\n\t\tcalled = 0;\n\t\tdisposables.add(item1.onDidChangeContent(e => {\n\t\t\tif (e.kind === NotificationViewItemContentChangeKind.MESSAGE) {\n\t\t\t\tcalled++;\n\t\t\t}\n\t\t}));\n\n\t\titem1.updateMessage('message update');\n\n\t\tcalled = 0;\n\t\tdisposables.add(item1.onDidChangeContent(e => {\n\t\t\tif (e.kind === NotificationViewItemContentChangeKind.SEVERITY) {\n\t\t\t\tcalled++;\n\t\t\t}\n\t\t}));\n\n\t\titem1.updateSeverity(Severity.Error);\n\n\t\tcalled = 0;\n\t\tdisposables.add(item1.onDidChangeContent(e => {\n\t\t\tif (e.kind === NotificationViewItemContentChangeKind.ACTIONS) {\n\t\t\t\tcalled++;\n\t\t\t}\n\t\t}));\n\n\t\titem1.updateActions({ primary: [disposables.add(new Action('id2', 'label'))] });\n\n\t\tassert.strictEqual(called, 1);\n\n\t\tcalled = 0;\n\t\tdisposables.add(item1.onDidChangeVisibility(e => {\n\t\t\tcalled++;\n\t\t}));\n\n\t\titem1.updateVisibility(true);\n\t\titem1.updateVisibility(false);\n\t\titem1.updateVisibility(false);\n\n\t\tassert.strictEqual(called, 2);\n\n\t\tcalled = 0;\n\t\tdisposables.add(item1.onDidClose(() => {\n\t\t\tcalled++;\n\t\t}));\n\n\t\titem1.close();\n\t\tassert.strictEqual(called, 1);\n\n\t\t// Error with Action\n\t\tconst item7 = NotificationViewItem.create({ severity: Severity.Error, message: createErrorWithActions('Hello Error', [disposables.add(new Action('id', 'label'))]) }, noFilter)!;\n\t\tassert.strictEqual(item7.actions!.primary!.length, 1);\n\n\t\t// Filter\n\t\tconst item8 = NotificationViewItem.create({ severity: Severity.Error, message: 'Error Message' }, { global: NotificationsFilter.OFF, sources: new Map() })!;\n\t\tassert.strictEqual(item8.priority, NotificationPriority.DEFAULT);\n\n\t\tconst item9 = NotificationViewItem.create({ severity: Severity.Error, message: 'Error Message' }, { global: NotificationsFilter.ERROR, sources: new Map() })!;\n\t\tassert.strictEqual(item9.priority, NotificationPriority.DEFAULT);\n\n\t\tconst item10 = NotificationViewItem.create({ severity: Severity.Warning, message: 'Error Message' }, { global: NotificationsFilter.ERROR, sources: new Map() })!;\n\t\tassert.strictEqual(item10.priority, NotificationPriority.SILENT);\n\n\t\tconst sources = new Map<string, NotificationsFilter>();\n\t\tsources.set('test.source', NotificationsFilter.ERROR);\n\t\tconst item11 = NotificationViewItem.create({ severity: Severity.Warning, message: 'Error Message', source: 'test.source' }, { global: NotificationsFilter.OFF, sources })!;\n\t\tassert.strictEqual(item11.priority, NotificationPriority.DEFAULT);\n\t\tconst item12 = NotificationViewItem.create({ severity: Severity.Warning, message: 'Error Message', source: { id: 'test.source', label: 'foo' } }, { global: NotificationsFilter.OFF, sources })!;\n\t\tassert.strictEqual(item12.priority, NotificationPriority.SILENT);\n\t\tconst item13 = NotificationViewItem.create({ severity: Severity.Warning, message: 'Error Message', source: { id: 'test.source2', label: 'foo' } }, { global: NotificationsFilter.OFF, sources })!;\n\t\tassert.strictEqual(item13.priority, NotificationPriority.DEFAULT);\n\n\t\tfor (const item of [item1, item2, item3, item4, item5, item6, itemId1, itemId2, item7, item8, item9, item10, item11, item12, item13]) {\n\t\t\titem.close();\n\t\t}\n\t});\n\n\ttest('Items - does not fire changed when message did not change (content, severity)', async () => {\n\t\tconst item1 = NotificationViewItem.create({ severity: Severity.Error, message: 'Error Message' }, noFilter)!;\n\n\t\tlet fired = false;\n\t\tdisposables.add(item1.onDidChangeContent(() => {\n\t\t\tfired = true;\n\t\t}));\n\n\t\titem1.updateMessage('Error Message');\n\t\tawait timeout(0);\n\t\tassert.ok(!fired, 'Expected onDidChangeContent to not be fired');\n\n\t\titem1.updateSeverity(Severity.Error);\n\t\tawait timeout(0);\n\t\tassert.ok(!fired, 'Expected onDidChangeContent to not be fired');\n\n\t\tfor (const item of [item1]) {\n\t\t\titem.close();\n\t\t}\n\t});\n\n\ttest('Model', () => {\n\t\tconst model = disposables.add(new NotificationsModel());\n\n\t\tlet lastNotificationEvent!: INotificationChangeEvent;\n\t\tdisposables.add(model.onDidChangeNotification(e => {\n\t\t\tlastNotificationEvent = e;\n\t\t}));\n\n\t\tlet lastStatusMessageEvent!: IStatusMessageChangeEvent;\n\t\tdisposables.add(model.onDidChangeStatusMessage(e => {\n\t\t\tlastStatusMessageEvent = e;\n\t\t}));\n\n\t\tconst item1: INotification = { severity: Severity.Error, message: 'Error Message', actions: { primary: [disposables.add(new Action('id', 'label'))] } };\n\t\tconst item2: INotification = { severity: Severity.Warning, message: 'Warning Message', source: 'Some Source' };\n\t\tconst item2Duplicate: INotification = { severity: Severity.Warning, message: 'Warning Message', source: 'Some Source' };\n\t\tconst item3: INotification = { severity: Severity.Info, message: 'Info Message' };\n\n\t\tconst item1Handle = model.addNotification(item1);\n\t\tassert.strictEqual(lastNotificationEvent.item.severity, item1.severity);\n\t\tassert.strictEqual(lastNotificationEvent.item.message.linkedText.toString(), item1.message);\n\t\tassert.strictEqual(lastNotificationEvent.index, 0);\n\t\tassert.strictEqual(lastNotificationEvent.kind, NotificationChangeType.ADD);\n\n\t\titem1Handle.updateMessage('Different Error Message');\n\t\tassert.strictEqual(lastNotificationEvent.kind, NotificationChangeType.CHANGE);\n\t\tassert.strictEqual(lastNotificationEvent.detail, NotificationViewItemContentChangeKind.MESSAGE);\n\n\t\titem1Handle.updateSeverity(Severity.Warning);\n\t\tassert.strictEqual(lastNotificationEvent.kind, NotificationChangeType.CHANGE);\n\t\tassert.strictEqual(lastNotificationEvent.detail, NotificationViewItemContentChangeKind.SEVERITY);\n\n\t\titem1Handle.updateActions({ primary: [], secondary: [] });\n\t\tassert.strictEqual(lastNotificationEvent.kind, NotificationChangeType.CHANGE);\n\t\tassert.strictEqual(lastNotificationEvent.detail, NotificationViewItemContentChangeKind.ACTIONS);\n\n\t\titem1Handle.progress.infinite();\n\t\tassert.strictEqual(lastNotificationEvent.kind, NotificationChangeType.CHANGE);\n\t\tassert.strictEqual(lastNotificationEvent.detail, NotificationViewItemContentChangeKind.PROGRESS);\n\n\t\tconst item2Handle = model.addNotification(item2);\n\t\tassert.strictEqual(lastNotificationEvent.item.severity, item2.severity);\n\t\tassert.strictEqual(lastNotificationEvent.item.message.linkedText.toString(), item2.message);\n\t\tassert.strictEqual(lastNotificationEvent.index, 0);\n\t\tassert.strictEqual(lastNotificationEvent.kind, NotificationChangeType.ADD);\n\n\t\tconst item3Handle = model.addNotification(item3);\n\t\tassert.strictEqual(lastNotificationEvent.item.severity, item3.severity);\n\t\tassert.strictEqual(lastNotificationEvent.item.message.linkedText.toString(), item3.message);\n\t\tassert.strictEqual(lastNotificationEvent.index, 0);\n\t\tassert.strictEqual(lastNotificationEvent.kind, NotificationChangeType.ADD);\n\n\t\tassert.strictEqual(model.notifications.length, 3);\n\n\t\tlet called = 0;\n\t\tdisposables.add(item1Handle.onDidClose(() => {\n\t\t\tcalled++;\n\t\t}));\n\n\t\titem1Handle.close();\n\t\tassert.strictEqual(called, 1);\n\t\tassert.strictEqual(model.notifications.length, 2);\n\t\tassert.strictEqual(lastNotificationEvent.item.severity, Severity.Warning);\n\t\tassert.strictEqual(lastNotificationEvent.item.message.linkedText.toString(), 'Different Error Message');\n\t\tassert.strictEqual(lastNotificationEvent.index, 2);\n\t\tassert.strictEqual(lastNotificationEvent.kind, NotificationChangeType.REMOVE);\n\n\t\tconst item2DuplicateHandle = model.addNotification(item2Duplicate);\n\t\tassert.strictEqual(model.notifications.length, 2);\n\t\tassert.strictEqual(lastNotificationEvent.item.severity, item2Duplicate.severity);\n\t\tassert.strictEqual(lastNotificationEvent.item.message.linkedText.toString(), item2Duplicate.message);\n\t\tassert.strictEqual(lastNotificationEvent.index, 0);\n\t\tassert.strictEqual(lastNotificationEvent.kind, NotificationChangeType.ADD);\n\n\t\titem2Handle.close();\n\t\tassert.strictEqual(model.notifications.length, 1);\n\t\tassert.strictEqual(lastNotificationEvent.item.severity, item2Duplicate.severity);\n\t\tassert.strictEqual(lastNotificationEvent.item.message.linkedText.toString(), item2Duplicate.message);\n\t\tassert.strictEqual(lastNotificationEvent.index, 0);\n\t\tassert.strictEqual(lastNotificationEvent.kind, NotificationChangeType.REMOVE);\n\n\t\tmodel.notifications[0].expand();\n\t\tassert.strictEqual(lastNotificationEvent.item.severity, item3.severity);\n\t\tassert.strictEqual(lastNotificationEvent.item.message.linkedText.toString(), item3.message);\n\t\tassert.strictEqual(lastNotificationEvent.index, 0);\n\t\tassert.strictEqual(lastNotificationEvent.kind, NotificationChangeType.EXPAND_COLLAPSE);\n\n\t\tconst disposable = model.showStatusMessage('Hello World');\n\t\tassert.strictEqual(model.statusMessage!.message, 'Hello World');\n\t\tassert.strictEqual(lastStatusMessageEvent.item.message, model.statusMessage!.message);\n\t\tassert.strictEqual(lastStatusMessageEvent.kind, StatusMessageChangeType.ADD);\n\t\tdisposable.close();\n\t\tassert.ok(!model.statusMessage);\n\t\tassert.strictEqual(lastStatusMessageEvent.kind, StatusMessageChangeType.REMOVE);\n\n\t\tconst disposable2 = model.showStatusMessage('Hello World 2');\n\t\tconst disposable3 = model.showStatusMessage('Hello World 3');\n\n\t\tassert.strictEqual(model.statusMessage!.message, 'Hello World 3');\n\n\t\tdisposable2.close();\n\t\tassert.strictEqual(model.statusMessage!.message, 'Hello World 3');\n\n\t\tdisposable3.close();\n\t\tassert.ok(!model.statusMessage);\n\n\t\titem2DuplicateHandle.close();\n\t\titem3Handle.close();\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { NotificationsModel, NotificationViewItem, INotificationChangeEvent, NotificationChangeType, NotificationViewItemContentChangeKind, IStatusMessageChangeEvent, StatusMessageChangeType, INotificationsFilter } from '../../common/notifications.js';\nimport { Action } from '../../../base/common/actions.js';\nimport { INotification, Severity, NotificationsFilter, NotificationPriority } from '../../../platform/notification/common/notification.js';\nimport { createErrorWithActions } from '../../../base/common/errorMessage.js';\nimport { timeout } from '../../../base/common/async.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../base/test/common/utils.js';\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\n\nsuite('Notifications', () => {\n\n\tconst disposables = new DisposableStore();\n\tconst noFilter: INotificationsFilter = { global: NotificationsFilter.OFF, sources: new Map() };\n\n\tteardown(() => {\n\t\tdisposables.clear();\n\t});\n\n\ttest('Items', () => {\n\n\t\t// Invalid\n\t\tassert.ok(!NotificationViewItem.create({ severity: Severity.Error, message: '' }, noFilter));\n\t\tassert.ok(!NotificationViewItem.create({ severity: Severity.Error, message: null! }, noFilter));\n\n\t\t// Duplicates\n\t\tconst item1 = NotificationViewItem.create({ severity: Severity.Error, message: 'Error Message' }, noFilter)!;\n\t\tconst item2 = NotificationViewItem.create({ severity: Severity.Error, message: 'Error Message' }, noFilter)!;\n\t\tconst item3 = NotificationViewItem.create({ severity: Severity.Info, message: 'Info Message' }, noFilter)!;\n\t\tconst item4 = NotificationViewItem.create({ severity: Severity.Error, message: 'Error Message', source: 'Source' }, noFilter)!;\n\t\tconst item5 = NotificationViewItem.create({ severity: Severity.Error, message: 'Error Message', actions: { primary: [disposables.add(new Action('id', 'label'))] } }, noFilter)!;\n\t\tconst item6 = NotificationViewItem.create({ severity: Severity.Error, message: 'Error Message', actions: { primary: [disposables.add(new Action('id', 'label'))] }, progress: { infinite: true } }, noFilter)!;\n\n\t\tassert.strictEqual(item1.equals(item1), true);\n\t\tassert.strictEqual(item2.equals(item2), true);\n\t\tassert.strictEqual(item3.equals(item3), true);\n\t\tassert.strictEqual(item4.equals(item4), true);\n\t\tassert.strictEqual(item5.equals(item5), true);\n\n\t\tassert.strictEqual(item1.equals(item2), true);\n\t\tassert.strictEqual(item1.equals(item3), false);\n\t\tassert.strictEqual(item1.equals(item4), false);\n\t\tassert.strictEqual(item1.equals(item5), false);\n\n\t\tconst itemId1 = NotificationViewItem.create({ id: 'same', message: 'Info Message', severity: Severity.Info }, noFilter)!;\n\t\tconst itemId2 = NotificationViewItem.create({ id: 'same', message: 'Error Message', severity: Severity.Error }, noFilter)!;\n\n\t\tassert.strictEqual(itemId1.equals(itemId2), true);\n\t\tassert.strictEqual(itemId1.equals(item3), false);\n\n\t\t// Progress\n\t\tassert.strictEqual(item1.hasProgress, false);\n\t\tassert.strictEqual(item6.hasProgress, true);\n\n\t\t// Message Box\n\t\tassert.strictEqual(item5.canCollapse, false);\n\t\tassert.strictEqual(item5.expanded, true);\n\n\t\t// Events\n\t\tlet called = 0;\n\t\tdisposables.add(item1.onDidChangeExpansion(() => {\n\t\t\tcalled++;\n\t\t}));\n\n\t\titem1.expand();\n\t\titem1.expand();\n\t\titem1.collapse();\n\t\titem1.collapse();\n\n\t\tassert.strictEqual(called, 2);\n\n\t\tcalled = 0;\n\t\tdisposables.add(item1.onDidChangeContent(e => {\n\t\t\tif (e.kind === NotificationViewItemContentChangeKind.PROGRESS) {\n\t\t\t\tcalled++;\n\t\t\t}\n\t\t}));\n\n\t\titem1.progress.infinite();\n\t\titem1.progress.done();\n\n\t\tassert.strictEqual(called, 2);\n\n\t\tcalled = 0;\n\t\tdisposables.add(item1.onDidChangeContent(e => {\n\t\t\tif (e.kind === NotificationViewItemContentChangeKind.MESSAGE) {\n\t\t\t\tcalled++;\n\t\t\t}\n\t\t}));\n\n\t\titem1.updateMessage('message update');\n\n\t\tcalled = 0;\n\t\tdisposables.add(item1.onDidChangeContent(e => {\n\t\t\tif (e.kind === NotificationViewItemContentChangeKind.SEVERITY) {\n\t\t\t\tcalled++;\n\t\t\t}\n\t\t}));\n\n\t\titem1.updateSeverity(Severity.Error);\n\n\t\tcalled = 0;\n\t\tdisposables.add(item1.onDidChangeContent(e => {\n\t\t\tif (e.kind === NotificationViewItemContentChangeKind.ACTIONS) {\n\t\t\t\tcalled++;\n\t\t\t}\n\t\t}));\n\n\t\titem1.updateActions({ primary: [disposables.add(new Action('id2', 'label'))] });\n\n\t\tassert.strictEqual(called, 1);\n\n\t\tcalled = 0;\n\t\tdisposables.add(item1.onDidChangeVisibility(e => {\n\t\t\tcalled++;\n\t\t}));\n\n\t\titem1.updateVisibility(true);\n\t\titem1.updateVisibility(false);\n\t\titem1.updateVisibility(false);\n\n\t\tassert.strictEqual(called, 2);\n\n\t\tcalled = 0;\n\t\tdisposables.add(item1.onDidClose(() => {\n\t\t\tcalled++;\n\t\t}));\n\n\t\titem1.close();\n\t\tassert.strictEqual(called, 1);\n\n\t\t// Error with Action\n\t\tconst item7 = NotificationViewItem.create({ severity: Severity.Error, message: createErrorWithActions('Hello Error', [disposables.add(new Action('id', 'label'))]) }, noFilter)!;\n\t\tassert.strictEqual(item7.actions!.primary!.length, 1);\n\n\t\t// Filter\n\t\tconst item8 = NotificationViewItem.create({ severity: Severity.Error, message: 'Error Message' }, { global: NotificationsFilter.OFF, sources: new Map() })!;\n\t\tassert.strictEqual(item8.priority, NotificationPriority.DEFAULT);\n\n\t\tconst item9 = NotificationViewItem.create({ severity: Severity.Error, message: 'Error Message' }, { global: NotificationsFilter.ERROR, sources: new Map() })!;\n\t\tassert.strictEqual(item9.priority, NotificationPriority.DEFAULT);\n\n\t\tconst item10 = NotificationViewItem.create({ severity: Severity.Warning, message: 'Error Message' }, { global: NotificationsFilter.ERROR, sources: new Map() })!;\n\t\tassert.strictEqual(item10.priority, NotificationPriority.SILENT);\n\n\t\tconst sources = new Map<string, NotificationsFilter>();\n\t\tsources.set('test.source', NotificationsFilter.ERROR);\n\t\tconst item11 = NotificationViewItem.create({ severity: Severity.Warning, message: 'Error Message', source: 'test.source' }, { global: NotificationsFilter.OFF, sources })!;\n\t\tassert.strictEqual(item11.priority, NotificationPriority.DEFAULT);\n\t\tconst item12 = NotificationViewItem.create({ severity: Severity.Warning, message: 'Error Message', source: { id: 'test.source', label: 'foo' } }, { global: NotificationsFilter.OFF, sources })!;\n\t\tassert.strictEqual(item12.priority, NotificationPriority.SILENT);\n\t\tconst item13 = NotificationViewItem.create({ severity: Severity.Warning, message: 'Error Message', source: { id: 'test.source2', label: 'foo' } }, { global: NotificationsFilter.OFF, sources })!;\n\t\tassert.strictEqual(item13.priority, NotificationPriority.DEFAULT);\n\n\t\tfor (const item of [item1, item2, item3, item4, item5, item6, itemId1, itemId2, item7, item8, item9, item10, item11, item12, item13]) {\n\t\t\titem.close();\n\t\t}\n\t});\n\n\ttest('Items - does not fire changed when message did not change (content, severity)', async () => {\n\t\tconst item1 = NotificationViewItem.create({ severity: Severity.Error, message: 'Error Message' }, noFilter)!;\n\n\t\tlet fired = false;\n\t\tdisposables.add(item1.onDidChangeContent(() => {\n\t\t\tfired = true;\n\t\t}));\n\n\t\titem1.updateMessage('Error Message');\n\t\tawait timeout(0);\n\t\tassert.ok(!fired, 'Expected onDidChangeContent to not be fired');\n\n\t\titem1.updateSeverity(Severity.Error);\n\t\tawait timeout(0);\n\t\tassert.ok(!fired, 'Expected onDidChangeContent to not be fired');\n\n\t\tfor (const item of [item1]) {\n\t\t\titem.close();\n\t\t}\n\t});\n\n\ttest('Model', () => {\n\t\tconst model = disposables.add(new NotificationsModel());\n\n\t\tlet lastNotificationEvent!: INotificationChangeEvent;\n\t\tdisposables.add(model.onDidChangeNotification(e => {\n\t\t\tlastNotificationEvent = e;\n\t\t}));\n\n\t\tlet lastStatusMessageEvent!: IStatusMessageChangeEvent;\n\t\tdisposables.add(model.onDidChangeStatusMessage(e => {\n\t\t\tlastStatusMessageEvent = e;\n\t\t}));\n\n\t\tconst item1: INotification = { severity: Severity.Error, message: 'Error Message', actions: { primary: [disposables.add(new Action('id', 'label'))] } };\n\t\tconst item2: INotification = { severity: Severity.Warning, message: 'Warning Message', source: 'Some Source' };\n\t\tconst item2Duplicate: INotification = { severity: Severity.Warning, message: 'Warning Message', source: 'Some Source' };\n\t\tconst item3: INotification = { severity: Severity.Info, message: 'Info Message' };\n\n\t\tconst item1Handle = model.addNotification(item1);\n\t\tassert.strictEqual(lastNotificationEvent.item.severity, item1.severity);\n\t\tassert.strictEqual(lastNotificationEvent.item.message.linkedText.toString(), item1.message);\n\t\tassert.strictEqual(lastNotificationEvent.index, 0);\n\t\tassert.strictEqual(lastNotificationEvent.kind, NotificationChangeType.ADD);\n\n\t\titem1Handle.updateMessage('Different Error Message');\n\t\tassert.strictEqual(lastNotificationEvent.kind, NotificationChangeType.CHANGE);\n\t\tassert.strictEqual(lastNotificationEvent.detail, NotificationViewItemContentChangeKind.MESSAGE);\n\n\t\titem1Handle.updateSeverity(Severity.Warning);\n\t\tassert.strictEqual(lastNotificationEvent.kind, NotificationChangeType.CHANGE);\n\t\tassert.strictEqual(lastNotificationEvent.detail, NotificationViewItemContentChangeKind.SEVERITY);\n\n\t\titem1Handle.updateActions({ primary: [], secondary: [] });\n\t\tassert.strictEqual(lastNotificationEvent.kind, NotificationChangeType.CHANGE);\n\t\tassert.strictEqual(lastNotificationEvent.detail, NotificationViewItemContentChangeKind.ACTIONS);\n\n\t\titem1Handle.progress.infinite();\n\t\tassert.strictEqual(lastNotificationEvent.kind, NotificationChangeType.CHANGE);\n\t\tassert.strictEqual(lastNotificationEvent.detail, NotificationViewItemContentChangeKind.PROGRESS);\n\n\t\tconst item2Handle = model.addNotification(item2);\n\t\tassert.strictEqual(lastNotificationEvent.item.severity, item2.severity);\n\t\tassert.strictEqual(lastNotificationEvent.item.message.linkedText.toString(), item2.message);\n\t\tassert.strictEqual(lastNotificationEvent.index, 0);\n\t\tassert.strictEqual(lastNotificationEvent.kind, NotificationChangeType.ADD);\n\n\t\tconst item3Handle = model.addNotification(item3);\n\t\tassert.strictEqual(lastNotificationEvent.item.severity, item3.severity);\n\t\tassert.strictEqual(lastNotificationEvent.item.message.linkedText.toString(), item3.message);\n\t\tassert.strictEqual(lastNotificationEvent.index, 0);\n\t\tassert.strictEqual(lastNotificationEvent.kind, NotificationChangeType.ADD);\n\n\t\tassert.strictEqual(model.notifications.length, 3);\n\n\t\tlet called = 0;\n\t\tdisposables.add(item1Handle.onDidClose(() => {\n\t\t\tcalled++;\n\t\t}));\n\n\t\titem1Handle.close();\n\t\tassert.strictEqual(called, 1);\n\t\tassert.strictEqual(model.notifications.length, 2);\n\t\tassert.strictEqual(lastNotificationEvent.item.severity, Severity.Warning);\n\t\tassert.strictEqual(lastNotificationEvent.item.message.linkedText.toString(), 'Different Error Message');\n\t\tassert.strictEqual(lastNotificationEvent.index, 2);\n\t\tassert.strictEqual(lastNotificationEvent.kind, NotificationChangeType.REMOVE);\n\n\t\tconst item2DuplicateHandle = model.addNotification(item2Duplicate);\n\t\tassert.strictEqual(model.notifications.length, 2);\n\t\tassert.strictEqual(lastNotificationEvent.item.severity, item2Duplicate.severity);\n\t\tassert.strictEqual(lastNotificationEvent.item.message.linkedText.toString(), item2Duplicate.message);\n\t\tassert.strictEqual(lastNotificationEvent.index, 0);\n\t\tassert.strictEqual(lastNotificationEvent.kind, NotificationChangeType.ADD);\n\n\t\titem2Handle.close();\n\t\tassert.strictEqual(model.notifications.length, 1);\n\t\tassert.strictEqual(lastNotificationEvent.item.severity, item2Duplicate.severity);\n\t\tassert.strictEqual(lastNotificationEvent.item.message.linkedText.toString(), item2Duplicate.message);\n\t\tassert.strictEqual(lastNotificationEvent.index, 0);\n\t\tassert.strictEqual(lastNotificationEvent.kind, NotificationChangeType.REMOVE);\n\n\t\tmodel.notifications[0].expand();\n\t\tassert.strictEqual(lastNotificationEvent.item.severity, item3.severity);\n\t\tassert.strictEqual(lastNotificationEvent.item.message.linkedText.toString(), item3.message);\n\t\tassert.strictEqual(lastNotificationEvent.index, 0);\n\t\tassert.strictEqual(lastNotificationEvent.kind, NotificationChangeType.EXPAND_COLLAPSE);\n\n\t\tconst disposable = model.showStatusMessage('Hello World');\n\t\tassert.strictEqual(model.statusMessage!.message, 'Hello World');\n\t\tassert.strictEqual(lastStatusMessageEvent.item.message, model.statusMessage!.message);\n\t\tassert.strictEqual(lastStatusMessageEvent.kind, StatusMessageChangeType.ADD);\n\t\tdisposable.close();\n\t\tassert.ok(!model.statusMessage);\n\t\tassert.strictEqual(lastStatusMessageEvent.kind, StatusMessageChangeType.REMOVE);\n\n\t\tconst disposable2 = model.showStatusMessage('Hello World 2');\n\t\tconst disposable3 = model.showStatusMessage('Hello World 3');\n\n\t\tassert.strictEqual(model.statusMessage!.message, 'Hello World 3');\n\n\t\tdisposable2.close();\n\t\tassert.strictEqual(model.statusMessage!.message, 'Hello World 3');\n\n\t\tdisposable3.close();\n\t\tassert.ok(!model.statusMessage);\n\n\t\titem2DuplicateHandle.close();\n\t\titem3Handle.close();\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n});\n"]}