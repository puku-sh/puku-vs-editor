{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/test/common/resources.test.ts","vs/workbench/test/common/resources.test.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,MAAM,MAAM,QAAQ,CAAC;AAC5B,OAAO,EAAE,eAAe,EAAE,MAAM,mCAAmC,CAAC;AACpE,OAAO,EAAE,GAAG,EAAE,MAAM,6BAA6B,CAAC;AAClD,OAAO,EAAE,uCAAuC,EAAE,MAAM,oCAAoC,CAAC;AAC7F,OAAO,EAAE,wBAAwB,EAAE,MAAM,yEAAyE,CAAC;AAEnH,OAAO,EAAE,mBAAmB,EAAE,MAAM,2BAA2B,CAAC;AAChE,OAAO,EAAE,kBAAkB,EAAE,MAAM,4BAA4B,CAAC;AAEhE,KAAK,CAAC,qBAAqB,EAAE,GAAG,EAAE;IAEjC,MAAM,OAAO,GAAG,cAAc,CAAC;IAE/B,IAAI,cAAwC,CAAC;IAC7C,IAAI,oBAA8C,CAAC;IAEnD,MAAM,WAAW,GAAG,IAAI,eAAe,EAAE,CAAC;IAE1C,KAAK,CAAC,GAAG,EAAE;QACV,cAAc,GAAG,IAAI,kBAAkB,EAAE,CAAC;QAC1C,oBAAoB,GAAG,IAAI,wBAAwB,CAAC;YACnD,CAAC,OAAO,CAAC,EAAE;gBACV,SAAS,EAAE,IAAI;gBACf,UAAU,EAAE,KAAK;aACjB;SACD,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,GAAG,EAAE;QACb,WAAW,CAAC,KAAK,EAAE,CAAC;IACrB,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,QAAQ,EAAE,KAAK,IAAI,EAAE;QACzB,MAAM,OAAO,GAAG,WAAW,CAAC,GAAG,CAAC,IAAI,mBAAmB,CAAC,GAAG,EAAE,CAAC,oBAAoB,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,oBAAoB,CAAC,OAAO,CAAC,EAAE,cAAc,EAAE,oBAAoB,CAAC,CAAC,CAAC;QAEnL,WAAW;QACX,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;QAC3D,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;QAC7D,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;QAE/D,SAAS;QACT,IAAI,YAAY,GAAG,CAAC,CAAC;QACrB,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,kBAAkB,CAAC,GAAG,EAAE,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;QAElE,MAAM,oBAAoB,CAAC,oBAAoB,CAAC,OAAO,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;QAC/E,mDAAmD;QACnD,oBAAoB,CAAC,+BAA+B,CAAC,IAAI,CAAC,EAAE,oBAAoB,EAAE,CAAC,GAAW,EAAE,EAAE,CAAC,GAAG,KAAK,OAAO,EAAS,CAAC,CAAC;QAC7H,MAAM,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;QAE9B,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;QAC9D,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;QAE9D,MAAM,oBAAoB,CAAC,oBAAoB,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;QACpE,mDAAmD;QACnD,oBAAoB,CAAC,+BAA+B,CAAC,IAAI,CAAC,EAAE,oBAAoB,EAAE,CAAC,GAAW,EAAE,EAAE,CAAC,GAAG,KAAK,OAAO,EAAS,CAAC,CAAC;QAC7H,MAAM,CAAC,KAAK,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;QAE9B,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;QAC9D,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;QAE/D,MAAM,oBAAoB,CAAC,oBAAoB,CAAC,OAAO,EAAE;YACxD,SAAS,EAAE,IAAI;YACf,UAAU,EAAE,KAAK;YACjB,WAAW,EAAE,IAAI;YACjB,SAAS,EAAE,IAAI;SACf,CAAC,CAAC;QACH,mDAAmD;QACnD,oBAAoB,CAAC,+BAA+B,CAAC,IAAI,CAAC,EAAE,oBAAoB,EAAE,CAAC,GAAW,EAAE,EAAE,CAAC,GAAG,KAAK,OAAO,EAAS,CAAC,CAAC;QAE7H,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;QAC5D,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;IAC/D,CAAC,CAAC,CAAC;IAEH,uCAAuC,EAAE,CAAC;AAC3C,CAAC,CAAC,CAAC","file":"resources.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../base/test/common/utils.js';\nimport { TestConfigurationService } from '../../../platform/configuration/test/common/testConfigurationService.js';\nimport { IWorkspaceContextService } from '../../../platform/workspace/common/workspace.js';\nimport { ResourceGlobMatcher } from '../../common/resources.js';\nimport { TestContextService } from './workbenchTestServices.js';\n\nsuite('ResourceGlobMatcher', () => {\n\n\tconst SETTING = 'test.matcher';\n\n\tlet contextService: IWorkspaceContextService;\n\tlet configurationService: TestConfigurationService;\n\n\tconst disposables = new DisposableStore();\n\n\tsetup(() => {\n\t\tcontextService = new TestContextService();\n\t\tconfigurationService = new TestConfigurationService({\n\t\t\t[SETTING]: {\n\t\t\t\t'**/*.md': true,\n\t\t\t\t'**/*.txt': false\n\t\t\t}\n\t\t});\n\t});\n\n\tteardown(() => {\n\t\tdisposables.clear();\n\t});\n\n\ttest('Basics', async () => {\n\t\tconst matcher = disposables.add(new ResourceGlobMatcher(() => configurationService.getValue(SETTING), e => e.affectsConfiguration(SETTING), contextService, configurationService));\n\n\t\t// Matching\n\t\tassert.equal(matcher.matches(URI.file('/foo/bar')), false);\n\t\tassert.equal(matcher.matches(URI.file('/foo/bar.md')), true);\n\t\tassert.equal(matcher.matches(URI.file('/foo/bar.txt')), false);\n\n\t\t// Events\n\t\tlet eventCounter = 0;\n\t\tdisposables.add(matcher.onExpressionChange(() => eventCounter++));\n\n\t\tawait configurationService.setUserConfiguration(SETTING, { '**/*.foo': true });\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tconfigurationService.onDidChangeConfigurationEmitter.fire({ affectsConfiguration: (key: string) => key === SETTING } as any);\n\t\tassert.equal(eventCounter, 1);\n\n\t\tassert.equal(matcher.matches(URI.file('/foo/bar.md')), false);\n\t\tassert.equal(matcher.matches(URI.file('/foo/bar.foo')), true);\n\n\t\tawait configurationService.setUserConfiguration(SETTING, undefined);\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tconfigurationService.onDidChangeConfigurationEmitter.fire({ affectsConfiguration: (key: string) => key === SETTING } as any);\n\t\tassert.equal(eventCounter, 2);\n\n\t\tassert.equal(matcher.matches(URI.file('/foo/bar.md')), false);\n\t\tassert.equal(matcher.matches(URI.file('/foo/bar.foo')), false);\n\n\t\tawait configurationService.setUserConfiguration(SETTING, {\n\t\t\t'**/*.md': true,\n\t\t\t'**/*.txt': false,\n\t\t\t'C:/bar/**': true,\n\t\t\t'/bar/**': true\n\t\t});\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tconfigurationService.onDidChangeConfigurationEmitter.fire({ affectsConfiguration: (key: string) => key === SETTING } as any);\n\n\t\tassert.equal(matcher.matches(URI.file('/bar/foo.1')), true);\n\t\tassert.equal(matcher.matches(URI.file('C:/bar/foo.1')), true);\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { DisposableStore } from '../../../base/common/lifecycle.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../base/test/common/utils.js';\nimport { TestConfigurationService } from '../../../platform/configuration/test/common/testConfigurationService.js';\nimport { IWorkspaceContextService } from '../../../platform/workspace/common/workspace.js';\nimport { ResourceGlobMatcher } from '../../common/resources.js';\nimport { TestContextService } from './workbenchTestServices.js';\n\nsuite('ResourceGlobMatcher', () => {\n\n\tconst SETTING = 'test.matcher';\n\n\tlet contextService: IWorkspaceContextService;\n\tlet configurationService: TestConfigurationService;\n\n\tconst disposables = new DisposableStore();\n\n\tsetup(() => {\n\t\tcontextService = new TestContextService();\n\t\tconfigurationService = new TestConfigurationService({\n\t\t\t[SETTING]: {\n\t\t\t\t'**/*.md': true,\n\t\t\t\t'**/*.txt': false\n\t\t\t}\n\t\t});\n\t});\n\n\tteardown(() => {\n\t\tdisposables.clear();\n\t});\n\n\ttest('Basics', async () => {\n\t\tconst matcher = disposables.add(new ResourceGlobMatcher(() => configurationService.getValue(SETTING), e => e.affectsConfiguration(SETTING), contextService, configurationService));\n\n\t\t// Matching\n\t\tassert.equal(matcher.matches(URI.file('/foo/bar')), false);\n\t\tassert.equal(matcher.matches(URI.file('/foo/bar.md')), true);\n\t\tassert.equal(matcher.matches(URI.file('/foo/bar.txt')), false);\n\n\t\t// Events\n\t\tlet eventCounter = 0;\n\t\tdisposables.add(matcher.onExpressionChange(() => eventCounter++));\n\n\t\tawait configurationService.setUserConfiguration(SETTING, { '**/*.foo': true });\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tconfigurationService.onDidChangeConfigurationEmitter.fire({ affectsConfiguration: (key: string) => key === SETTING } as any);\n\t\tassert.equal(eventCounter, 1);\n\n\t\tassert.equal(matcher.matches(URI.file('/foo/bar.md')), false);\n\t\tassert.equal(matcher.matches(URI.file('/foo/bar.foo')), true);\n\n\t\tawait configurationService.setUserConfiguration(SETTING, undefined);\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tconfigurationService.onDidChangeConfigurationEmitter.fire({ affectsConfiguration: (key: string) => key === SETTING } as any);\n\t\tassert.equal(eventCounter, 2);\n\n\t\tassert.equal(matcher.matches(URI.file('/foo/bar.md')), false);\n\t\tassert.equal(matcher.matches(URI.file('/foo/bar.foo')), false);\n\n\t\tawait configurationService.setUserConfiguration(SETTING, {\n\t\t\t'**/*.md': true,\n\t\t\t'**/*.txt': false,\n\t\t\t'C:/bar/**': true,\n\t\t\t'/bar/**': true\n\t\t});\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tconfigurationService.onDidChangeConfigurationEmitter.fire({ affectsConfiguration: (key: string) => key === SETTING } as any);\n\n\t\tassert.equal(matcher.matches(URI.file('/bar/foo.1')), true);\n\t\tassert.equal(matcher.matches(URI.file('C:/bar/foo.1')), true);\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n});\n"]}