{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/test/browser/parts/editor/editorGroupModel.test.ts","vs/workbench/test/browser/parts/editor/editorGroupModel.test.ts"],"names":[],"mappings":"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","file":"editorGroupModel.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { EditorGroupModel, IGroupEditorChangeEvent, IGroupEditorCloseEvent, IGroupEditorMoveEvent, IGroupEditorOpenEvent, ISerializedEditorGroupModel, isGroupEditorChangeEvent, isGroupEditorCloseEvent, isGroupEditorMoveEvent, isGroupEditorOpenEvent } from '../../../../common/editor/editorGroupModel.js';\nimport { EditorExtensions, IEditorFactoryRegistry, IFileEditorInput, IEditorSerializer, CloseDirection, EditorsOrder, IResourceDiffEditorInput, IResourceSideBySideEditorInput, SideBySideEditor, EditorCloseContext, GroupModelChangeKind } from '../../../../common/editor.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { TestLifecycleService, workbenchInstantiationService } from '../../workbenchTestServices.js';\nimport { TestConfigurationService } from '../../../../../platform/configuration/test/common/testConfigurationService.js';\nimport { TestInstantiationService } from '../../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { ILifecycleService } from '../../../../services/lifecycle/common/lifecycle.js';\nimport { IWorkspaceContextService } from '../../../../../platform/workspace/common/workspace.js';\nimport { Registry } from '../../../../../platform/registry/common/platform.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { ITelemetryService } from '../../../../../platform/telemetry/common/telemetry.js';\nimport { NullTelemetryService } from '../../../../../platform/telemetry/common/telemetryUtils.js';\nimport { DiffEditorInput } from '../../../../common/editor/diffEditorInput.js';\nimport { IStorageService } from '../../../../../platform/storage/common/storage.js';\nimport { DisposableStore, IDisposable, toDisposable } from '../../../../../base/common/lifecycle.js';\nimport { TestContextService, TestStorageService } from '../../../common/workbenchTestServices.js';\nimport { EditorInput } from '../../../../common/editor/editorInput.js';\nimport { SideBySideEditorInput } from '../../../../common/editor/sideBySideEditorInput.js';\nimport { isEqual } from '../../../../../base/common/resources.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\n\nsuite('EditorGroupModel', () => {\n\n\tlet testInstService: TestInstantiationService | undefined;\n\n\tsuiteTeardown(() => {\n\t\ttestInstService?.dispose();\n\t\ttestInstService = undefined;\n\t});\n\n\tfunction inst(): IInstantiationService {\n\t\tif (!testInstService) {\n\t\t\ttestInstService = new TestInstantiationService();\n\t\t}\n\t\tconst inst = testInstService;\n\t\tinst.stub(IStorageService, disposables.add(new TestStorageService()));\n\t\tinst.stub(ILifecycleService, disposables.add(new TestLifecycleService()));\n\t\tinst.stub(IWorkspaceContextService, new TestContextService());\n\t\tinst.stub(ITelemetryService, NullTelemetryService);\n\n\t\tconst config = new TestConfigurationService();\n\t\tconfig.setUserConfiguration('workbench', { editor: { openPositioning: 'right', focusRecentEditorAfterClose: true } });\n\t\tinst.stub(IConfigurationService, config);\n\n\t\treturn inst;\n\t}\n\n\tfunction createEditorGroupModel(serialized?: ISerializedEditorGroupModel): EditorGroupModel {\n\t\tconst group = disposables.add(inst().createInstance(EditorGroupModel, serialized));\n\n\t\tdisposables.add(toDisposable(() => {\n\t\t\tfor (const editor of group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)) {\n\t\t\t\tgroup.closeEditor(editor);\n\t\t\t}\n\t\t}));\n\n\t\treturn group;\n\t}\n\n\tfunction closeAllEditors(group: EditorGroupModel): void {\n\t\tfor (const editor of group.getEditors(EditorsOrder.SEQUENTIAL)) {\n\t\t\tgroup.closeEditor(editor, undefined, false);\n\t\t}\n\t}\n\n\tfunction closeEditors(group: EditorGroupModel, except: EditorInput, direction?: CloseDirection): void {\n\t\tconst index = group.indexOf(except);\n\t\tif (index === -1) {\n\t\t\treturn; // not found\n\t\t}\n\n\t\t// Close to the left\n\t\tif (direction === CloseDirection.LEFT) {\n\t\t\tfor (let i = index - 1; i >= 0; i--) {\n\t\t\t\tgroup.closeEditor(group.getEditorByIndex(i)!);\n\t\t\t}\n\t\t}\n\n\t\t// Close to the right\n\t\telse if (direction === CloseDirection.RIGHT) {\n\t\t\tfor (let i = group.getEditors(EditorsOrder.SEQUENTIAL).length - 1; i > index; i--) {\n\t\t\t\tgroup.closeEditor(group.getEditorByIndex(i)!);\n\t\t\t}\n\t\t}\n\n\t\t// Both directions\n\t\telse {\n\t\t\tgroup.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).filter(editor => !editor.matches(except)).forEach(editor => group.closeEditor(editor));\n\t\t}\n\t}\n\n\tinterface GroupEvents {\n\t\tlocked: number[];\n\t\tactive: number[];\n\t\tindex: number[];\n\t\tlabel: number[];\n\t\topened: IGroupEditorOpenEvent[];\n\t\tactivated: IGroupEditorChangeEvent[];\n\t\tclosed: IGroupEditorCloseEvent[];\n\t\tpinned: IGroupEditorChangeEvent[];\n\t\tunpinned: IGroupEditorChangeEvent[];\n\t\tsticky: IGroupEditorChangeEvent[];\n\t\tunsticky: IGroupEditorChangeEvent[];\n\t\ttransient: IGroupEditorChangeEvent[];\n\t\tmoved: IGroupEditorMoveEvent[];\n\t\tdisposed: IGroupEditorChangeEvent[];\n\t}\n\n\tfunction groupListener(group: EditorGroupModel): GroupEvents {\n\t\tconst groupEvents: GroupEvents = {\n\t\t\tactive: [],\n\t\t\tindex: [],\n\t\t\tlabel: [],\n\t\t\tlocked: [],\n\t\t\topened: [],\n\t\t\tclosed: [],\n\t\t\tactivated: [],\n\t\t\tpinned: [],\n\t\t\tunpinned: [],\n\t\t\tsticky: [],\n\t\t\tunsticky: [],\n\t\t\ttransient: [],\n\t\t\tmoved: [],\n\t\t\tdisposed: []\n\t\t};\n\n\t\tdisposables.add(group.onDidModelChange(e => {\n\t\t\tif (e.kind === GroupModelChangeKind.GROUP_LOCKED) {\n\t\t\t\tgroupEvents.locked.push(group.id);\n\t\t\t\treturn;\n\t\t\t} else if (e.kind === GroupModelChangeKind.GROUP_ACTIVE) {\n\t\t\t\tgroupEvents.active.push(group.id);\n\t\t\t\treturn;\n\t\t\t} else if (e.kind === GroupModelChangeKind.GROUP_INDEX) {\n\t\t\t\tgroupEvents.index.push(group.id);\n\t\t\t\treturn;\n\t\t\t} else if (e.kind === GroupModelChangeKind.GROUP_LABEL) {\n\t\t\t\tgroupEvents.label.push(group.id);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!e.editor) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tswitch (e.kind) {\n\t\t\t\tcase GroupModelChangeKind.EDITOR_OPEN:\n\t\t\t\t\tif (isGroupEditorOpenEvent(e)) {\n\t\t\t\t\t\tgroupEvents.opened.push(e);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase GroupModelChangeKind.EDITOR_CLOSE:\n\t\t\t\t\tif (isGroupEditorCloseEvent(e)) {\n\t\t\t\t\t\tgroupEvents.closed.push(e);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase GroupModelChangeKind.EDITOR_ACTIVE:\n\t\t\t\t\tif (isGroupEditorChangeEvent(e)) {\n\t\t\t\t\t\tgroupEvents.activated.push(e);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase GroupModelChangeKind.EDITOR_PIN:\n\t\t\t\t\tif (isGroupEditorChangeEvent(e)) {\n\t\t\t\t\t\tgroup.isPinned(e.editor) ? groupEvents.pinned.push(e) : groupEvents.unpinned.push(e);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase GroupModelChangeKind.EDITOR_STICKY:\n\t\t\t\t\tif (isGroupEditorChangeEvent(e)) {\n\t\t\t\t\t\tgroup.isSticky(e.editor) ? groupEvents.sticky.push(e) : groupEvents.unsticky.push(e);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase GroupModelChangeKind.EDITOR_TRANSIENT:\n\t\t\t\t\tif (isGroupEditorChangeEvent(e)) {\n\t\t\t\t\t\tgroupEvents.transient.push(e);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase GroupModelChangeKind.EDITOR_MOVE:\n\t\t\t\t\tif (isGroupEditorMoveEvent(e)) {\n\t\t\t\t\t\tgroupEvents.moved.push(e);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase GroupModelChangeKind.EDITOR_WILL_DISPOSE:\n\t\t\t\t\tif (isGroupEditorChangeEvent(e)) {\n\t\t\t\t\t\tgroupEvents.disposed.push(e);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}));\n\n\t\treturn groupEvents;\n\t}\n\n\tlet index = 0;\n\tclass TestEditorInput extends EditorInput {\n\n\t\treadonly resource = undefined;\n\n\t\tconstructor(public id: string) {\n\t\t\tsuper();\n\t\t}\n\t\toverride get typeId() { return 'testEditorInputForGroups'; }\n\t\toverride async resolve(): Promise<IDisposable> { return null!; }\n\n\t\toverride matches(other: TestEditorInput): boolean {\n\t\t\treturn other && this.id === other.id && other instanceof TestEditorInput;\n\t\t}\n\n\t\tsetDirty(): void {\n\t\t\tthis._onDidChangeDirty.fire();\n\t\t}\n\n\t\tsetLabel(): void {\n\t\t\tthis._onDidChangeLabel.fire();\n\t\t}\n\t}\n\n\tclass NonSerializableTestEditorInput extends EditorInput {\n\n\t\treadonly resource = undefined;\n\n\t\tconstructor(public id: string) {\n\t\t\tsuper();\n\t\t}\n\t\toverride get typeId() { return 'testEditorInputForGroups-nonSerializable'; }\n\t\toverride async resolve(): Promise<IDisposable | null> { return null; }\n\n\t\toverride matches(other: NonSerializableTestEditorInput): boolean {\n\t\t\treturn other && this.id === other.id && other instanceof NonSerializableTestEditorInput;\n\t\t}\n\t}\n\n\tclass TestFileEditorInput extends EditorInput implements IFileEditorInput {\n\n\t\treadonly preferredResource;\n\n\t\tconstructor(public id: string, public resource: URI) {\n\t\t\tsuper();\n\n\t\t\tthis.preferredResource = this.resource;\n\t\t}\n\t\toverride get typeId() { return 'testFileEditorInputForGroups'; }\n\t\toverride get editorId() { return this.id; }\n\t\toverride async resolve(): Promise<IDisposable | null> { return null; }\n\t\tsetPreferredName(name: string): void { }\n\t\tsetPreferredDescription(description: string): void { }\n\t\tsetPreferredResource(resource: URI): void { }\n\t\tasync setEncoding(encoding: string) { }\n\t\tgetEncoding() { return undefined; }\n\t\tsetPreferredEncoding(encoding: string) { }\n\t\tsetForceOpenAsBinary(): void { }\n\t\tsetPreferredContents(contents: string): void { }\n\t\tsetLanguageId(languageId: string) { }\n\t\tsetPreferredLanguageId(languageId: string) { }\n\t\tisResolved(): boolean { return false; }\n\n\t\toverride matches(other: TestFileEditorInput): boolean {\n\t\t\tif (super.matches(other)) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (other instanceof TestFileEditorInput) {\n\t\t\t\treturn isEqual(other.resource, this.resource);\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tfunction input(id = String(index++), nonSerializable?: boolean, resource?: URI): EditorInput {\n\t\tif (resource) {\n\t\t\treturn disposables.add(new TestFileEditorInput(id, resource));\n\t\t}\n\n\t\treturn nonSerializable ? disposables.add(new NonSerializableTestEditorInput(id)) : disposables.add(new TestEditorInput(id));\n\t}\n\n\tinterface ISerializedTestInput {\n\t\tid: string;\n\t}\n\n\tclass TestEditorInputSerializer implements IEditorSerializer {\n\n\t\tstatic disableSerialize = false;\n\t\tstatic disableDeserialize = false;\n\n\t\tcanSerialize(editorInput: EditorInput): boolean {\n\t\t\treturn true;\n\t\t}\n\n\t\tserialize(editorInput: EditorInput): string | undefined {\n\t\t\tif (TestEditorInputSerializer.disableSerialize) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\tconst testEditorInput = <TestEditorInput>editorInput;\n\t\t\tconst testInput: ISerializedTestInput = {\n\t\t\t\tid: testEditorInput.id\n\t\t\t};\n\n\t\t\treturn JSON.stringify(testInput);\n\t\t}\n\n\t\tdeserialize(instantiationService: IInstantiationService, serializedEditorInput: string): EditorInput | undefined {\n\t\t\tif (TestEditorInputSerializer.disableDeserialize) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\tconst testInput: ISerializedTestInput = JSON.parse(serializedEditorInput);\n\n\t\t\treturn disposables.add(new TestEditorInput(testInput.id));\n\t\t}\n\t}\n\n\tconst disposables = new DisposableStore();\n\n\tsetup(() => {\n\t\tTestEditorInputSerializer.disableSerialize = false;\n\t\tTestEditorInputSerializer.disableDeserialize = false;\n\n\t\tdisposables.add(Registry.as<IEditorFactoryRegistry>(EditorExtensions.EditorFactory).registerEditorSerializer('testEditorInputForGroups', TestEditorInputSerializer));\n\t});\n\n\tteardown(() => {\n\t\tdisposables.clear();\n\n\t\tindex = 1;\n\t});\n\n\ttest('Clone Group', function () {\n\t\tconst group = createEditorGroupModel();\n\n\t\tconst input1 = input() as TestEditorInput;\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\n\t\t// Pinned and Active\n\t\tgroup.openEditor(input1, { pinned: true, active: true });\n\t\tgroup.openEditor(input2, { pinned: true, active: true });\n\t\tgroup.openEditor(input3, { pinned: false, active: true });\n\n\t\t// Sticky\n\t\tgroup.stick(input2);\n\t\tassert.ok(group.isSticky(input2));\n\n\t\t// Locked\n\t\tassert.strictEqual(group.isLocked, false);\n\t\tgroup.lock(true);\n\t\tassert.strictEqual(group.isLocked, true);\n\n\t\tconst clone = disposables.add(group.clone());\n\t\tassert.notStrictEqual(group.id, clone.id);\n\t\tassert.strictEqual(clone.count, 3);\n\t\tassert.strictEqual(clone.isLocked, false); // locking does not clone over\n\n\t\tlet didEditorLabelChange = false;\n\t\tconst toDispose = clone.onDidModelChange((e) => {\n\t\t\tif (e.kind === GroupModelChangeKind.EDITOR_LABEL) {\n\t\t\t\tdidEditorLabelChange = true;\n\t\t\t}\n\t\t});\n\t\tinput1.setLabel();\n\t\tassert.ok(didEditorLabelChange);\n\n\t\tassert.strictEqual(clone.isPinned(input1), true);\n\t\tassert.strictEqual(clone.isActive(input1), false);\n\t\tassert.strictEqual(clone.isSticky(input1), false);\n\n\t\tassert.strictEqual(clone.isPinned(input2), true);\n\t\tassert.strictEqual(clone.isActive(input2), false);\n\t\tassert.strictEqual(clone.isSticky(input2), true);\n\n\t\tassert.strictEqual(clone.isPinned(input3), false);\n\t\tassert.strictEqual(clone.isActive(input3), true);\n\t\tassert.strictEqual(clone.isSticky(input3), false);\n\n\t\ttoDispose.dispose();\n\t});\n\n\ttest('isActive - untyped', () => {\n\t\tconst group = createEditorGroupModel();\n\t\tconst input = disposables.add(new TestFileEditorInput('testInput', URI.file('fake')));\n\t\tconst input2 = disposables.add(new TestFileEditorInput('testInput2', URI.file('fake2')));\n\t\tconst untypedInput = { resource: URI.file('/fake'), options: { override: 'testInput' } };\n\t\tconst untypedNonActiveInput = { resource: URI.file('/fake2'), options: { override: 'testInput2' } };\n\n\t\tgroup.openEditor(input, { pinned: true, active: true });\n\t\tgroup.openEditor(input2, { active: false });\n\n\t\tassert.ok(group.isActive(input));\n\t\tassert.ok(group.isActive(untypedInput));\n\t\tassert.ok(!group.isActive(untypedNonActiveInput));\n\t});\n\n\ttest('openEditor - prefers existing side by side editor if same', () => {\n\t\tconst instantiationService = workbenchInstantiationService(undefined, disposables);\n\n\t\tconst group = createEditorGroupModel();\n\t\tconst input1 = disposables.add(new TestFileEditorInput('testInput', URI.file('fake1')));\n\t\tconst input2 = disposables.add(new TestFileEditorInput('testInput', URI.file('fake2')));\n\n\t\tconst sideBySideInputSame = instantiationService.createInstance(SideBySideEditorInput, undefined, undefined, input1, input1);\n\t\tconst sideBySideInputDifferent = instantiationService.createInstance(SideBySideEditorInput, undefined, undefined, input1, input2);\n\n\t\tlet res = group.openEditor(sideBySideInputSame, { pinned: true, active: true });\n\t\tassert.strictEqual(res.editor, sideBySideInputSame);\n\t\tassert.strictEqual(res.isNew, true);\n\n\t\tres = group.openEditor(input1, { pinned: true, active: true, supportSideBySide: SideBySideEditor.BOTH });\n\t\tassert.strictEqual(res.editor, sideBySideInputSame);\n\t\tassert.strictEqual(res.isNew, false);\n\n\t\tgroup.closeEditor(sideBySideInputSame);\n\t\tres = group.openEditor(sideBySideInputDifferent, { pinned: true, active: true });\n\t\tassert.strictEqual(res.editor, sideBySideInputDifferent);\n\t\tassert.strictEqual(res.isNew, true);\n\n\t\tres = group.openEditor(input1, { pinned: true, active: true });\n\t\tassert.strictEqual(res.editor, input1);\n\t\tassert.strictEqual(res.isNew, true);\n\t});\n\n\ttest('indexOf() - prefers direct matching editor over side by side matching one', () => {\n\t\tconst instantiationService = workbenchInstantiationService(undefined, disposables);\n\n\t\tconst group = createEditorGroupModel();\n\t\tconst input1 = disposables.add(new TestFileEditorInput('testInput', URI.file('fake1')));\n\n\t\tconst sideBySideInput = instantiationService.createInstance(SideBySideEditorInput, undefined, undefined, input1, input1);\n\n\t\tgroup.openEditor(sideBySideInput, { pinned: true, active: true });\n\t\tassert.strictEqual(group.indexOf(sideBySideInput), 0);\n\t\tassert.strictEqual(group.indexOf(input1), -1);\n\t\tassert.strictEqual(group.indexOf(input1, undefined, { supportSideBySide: SideBySideEditor.BOTH }), 0);\n\t\tassert.strictEqual(group.indexOf(input1, undefined, { supportSideBySide: SideBySideEditor.ANY }), 0);\n\n\t\tgroup.openEditor(input1, { pinned: true, active: true });\n\t\tassert.strictEqual(group.indexOf(input1), 1);\n\t\tassert.strictEqual(group.indexOf(input1, undefined, { supportSideBySide: SideBySideEditor.BOTH }), 1);\n\t\tassert.strictEqual(group.indexOf(input1, undefined, { supportSideBySide: SideBySideEditor.ANY }), 1);\n\t});\n\n\ttest('contains() - untyped', function () {\n\t\tconst group = createEditorGroupModel();\n\t\tconst instantiationService = workbenchInstantiationService(undefined, disposables);\n\n\t\tconst input1 = input('input1', false, URI.file('/input1'));\n\t\tconst input2 = input('input2', false, URI.file('/input2'));\n\n\t\tconst untypedInput1 = { resource: URI.file('/input1'), options: { override: 'input1' } };\n\t\tconst untypedInput2 = { resource: URI.file('/input2'), options: { override: 'input2' } };\n\n\t\tconst diffInput1 = instantiationService.createInstance(DiffEditorInput, 'name', 'description', input1, input2, undefined);\n\t\tconst diffInput2 = instantiationService.createInstance(DiffEditorInput, 'name', 'description', input2, input1, undefined);\n\n\t\tconst untypedDiffInput1: IResourceDiffEditorInput = {\n\t\t\toriginal: untypedInput1,\n\t\t\tmodified: untypedInput2\n\t\t};\n\t\tconst untypedDiffInput2: IResourceDiffEditorInput = {\n\t\t\toriginal: untypedInput2,\n\t\t\tmodified: untypedInput1\n\t\t};\n\n\t\tconst sideBySideInputSame = instantiationService.createInstance(SideBySideEditorInput, 'name', undefined, input1, input1);\n\t\tconst sideBySideInputDifferent = instantiationService.createInstance(SideBySideEditorInput, 'name', undefined, input1, input2);\n\n\t\tconst untypedSideBySideInputSame: IResourceSideBySideEditorInput = {\n\t\t\tprimary: untypedInput1,\n\t\t\tsecondary: untypedInput1\n\t\t};\n\t\tconst untypedSideBySideInputDifferent: IResourceSideBySideEditorInput = {\n\t\t\tprimary: untypedInput2,\n\t\t\tsecondary: untypedInput1\n\t\t};\n\n\t\tgroup.openEditor(input1, { pinned: true, active: true });\n\n\t\tassert.strictEqual(group.contains(untypedInput1), true);\n\t\tassert.strictEqual(group.contains(untypedInput1, { strictEquals: true }), false);\n\t\tassert.strictEqual(group.contains(untypedInput1, { supportSideBySide: SideBySideEditor.ANY }), true);\n\t\tassert.strictEqual(group.contains(untypedInput1, { supportSideBySide: SideBySideEditor.BOTH }), true);\n\t\tassert.strictEqual(group.contains(untypedInput2), false);\n\t\tassert.strictEqual(group.contains(untypedInput2, { strictEquals: true }), false);\n\t\tassert.strictEqual(group.contains(untypedInput2, { supportSideBySide: SideBySideEditor.ANY }), false);\n\t\tassert.strictEqual(group.contains(untypedInput2, { supportSideBySide: SideBySideEditor.BOTH }), false);\n\t\tassert.strictEqual(group.contains(untypedDiffInput1), false);\n\t\tassert.strictEqual(group.contains(untypedDiffInput2), false);\n\n\t\tgroup.openEditor(input2, { pinned: true, active: true });\n\n\t\tassert.strictEqual(group.contains(untypedInput1), true);\n\t\tassert.strictEqual(group.contains(untypedInput2), true);\n\t\tassert.strictEqual(group.contains(untypedDiffInput1), false);\n\t\tassert.strictEqual(group.contains(untypedDiffInput2), false);\n\n\t\tgroup.openEditor(diffInput1, { pinned: true, active: true });\n\n\t\tassert.strictEqual(group.contains(untypedInput1), true);\n\t\tassert.strictEqual(group.contains(untypedInput2), true);\n\t\tassert.strictEqual(group.contains(untypedDiffInput1), true);\n\t\tassert.strictEqual(group.contains(untypedDiffInput2), false);\n\n\t\tgroup.openEditor(diffInput2, { pinned: true, active: true });\n\n\t\tassert.strictEqual(group.contains(untypedInput1), true);\n\t\tassert.strictEqual(group.contains(untypedInput2), true);\n\t\tassert.strictEqual(group.contains(untypedDiffInput1), true);\n\t\tassert.strictEqual(group.contains(untypedDiffInput2), true);\n\n\t\tgroup.closeEditor(input1);\n\n\t\tassert.strictEqual(group.contains(untypedInput1), false);\n\t\tassert.strictEqual(group.contains(untypedInput1, { supportSideBySide: SideBySideEditor.ANY }), true);\n\t\tassert.strictEqual(group.contains(untypedInput1, { supportSideBySide: SideBySideEditor.BOTH }), false);\n\t\tassert.strictEqual(group.contains(untypedInput2), true);\n\t\tassert.strictEqual(group.contains(untypedDiffInput1), true);\n\t\tassert.strictEqual(group.contains(untypedDiffInput2), true);\n\n\t\tgroup.closeEditor(input2);\n\n\t\tassert.strictEqual(group.contains(untypedInput1), false);\n\t\tassert.strictEqual(group.contains(untypedInput1, { supportSideBySide: SideBySideEditor.ANY }), true);\n\t\tassert.strictEqual(group.contains(untypedInput2), false);\n\t\tassert.strictEqual(group.contains(untypedInput2, { supportSideBySide: SideBySideEditor.ANY }), true);\n\t\tassert.strictEqual(group.contains(untypedDiffInput1), true);\n\t\tassert.strictEqual(group.contains(untypedDiffInput2), true);\n\n\t\tgroup.closeEditor(diffInput1);\n\n\t\tassert.strictEqual(group.contains(untypedInput1), false);\n\t\tassert.strictEqual(group.contains(untypedInput1, { supportSideBySide: SideBySideEditor.ANY }), true);\n\t\tassert.strictEqual(group.contains(untypedInput2), false);\n\t\tassert.strictEqual(group.contains(untypedInput2, { supportSideBySide: SideBySideEditor.ANY }), true);\n\t\tassert.strictEqual(group.contains(untypedDiffInput1), false);\n\t\tassert.strictEqual(group.contains(untypedDiffInput2), true);\n\n\t\tgroup.closeEditor(diffInput2);\n\n\t\tassert.strictEqual(group.contains(untypedInput1), false);\n\t\tassert.strictEqual(group.contains(untypedInput1, { supportSideBySide: SideBySideEditor.ANY }), false);\n\t\tassert.strictEqual(group.contains(untypedInput2), false);\n\t\tassert.strictEqual(group.contains(untypedInput2, { supportSideBySide: SideBySideEditor.ANY }), false);\n\t\tassert.strictEqual(group.contains(untypedDiffInput1), false);\n\t\tassert.strictEqual(group.contains(untypedDiffInput2), false);\n\n\t\tassert.strictEqual(group.count, 0);\n\t\tgroup.openEditor(sideBySideInputSame, { pinned: true, active: true });\n\t\tassert.strictEqual(group.contains(untypedSideBySideInputSame), true);\n\t\tassert.strictEqual(group.contains(untypedInput1, { supportSideBySide: SideBySideEditor.ANY }), true);\n\t\tassert.strictEqual(group.contains(untypedInput1, { supportSideBySide: SideBySideEditor.BOTH }), true);\n\t\tassert.strictEqual(group.contains(untypedInput1, { supportSideBySide: SideBySideEditor.ANY, strictEquals: true }), false);\n\t\tassert.strictEqual(group.contains(untypedInput1, { supportSideBySide: SideBySideEditor.BOTH, strictEquals: true }), false);\n\n\t\tgroup.closeEditor(sideBySideInputSame);\n\n\t\tassert.strictEqual(group.count, 0);\n\t\tgroup.openEditor(sideBySideInputDifferent, { pinned: true, active: true });\n\t\tassert.strictEqual(group.contains(untypedSideBySideInputDifferent), true);\n\t\tassert.strictEqual(group.contains(untypedInput1, { supportSideBySide: SideBySideEditor.ANY }), true);\n\t\tassert.strictEqual(group.contains(untypedInput1, { supportSideBySide: SideBySideEditor.BOTH }), false);\n\t});\n\n\ttest('contains()', () => {\n\t\tconst group = createEditorGroupModel();\n\t\tconst instantiationService = workbenchInstantiationService(undefined, disposables);\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\n\t\tconst diffInput1 = instantiationService.createInstance(DiffEditorInput, 'name', 'description', input1, input2, undefined);\n\t\tconst diffInput2 = instantiationService.createInstance(DiffEditorInput, 'name', 'description', input2, input1, undefined);\n\n\t\tconst sideBySideInputSame = instantiationService.createInstance(SideBySideEditorInput, 'name', undefined, input1, input1);\n\t\tconst sideBySideInputDifferent = instantiationService.createInstance(SideBySideEditorInput, 'name', undefined, input1, input2);\n\n\t\tgroup.openEditor(input1, { pinned: true, active: true });\n\n\t\tassert.strictEqual(group.contains(input1), true);\n\t\tassert.strictEqual(group.contains(input1, { strictEquals: true }), true);\n\t\tassert.strictEqual(group.contains(input1, { supportSideBySide: SideBySideEditor.ANY }), true);\n\t\tassert.strictEqual(group.contains(input2), false);\n\t\tassert.strictEqual(group.contains(input2, { strictEquals: true }), false);\n\t\tassert.strictEqual(group.contains(input2, { supportSideBySide: SideBySideEditor.ANY }), false);\n\t\tassert.strictEqual(group.contains(diffInput1), false);\n\t\tassert.strictEqual(group.contains(diffInput2), false);\n\n\t\tgroup.openEditor(input2, { pinned: true, active: true });\n\n\t\tassert.strictEqual(group.contains(input1), true);\n\t\tassert.strictEqual(group.contains(input2), true);\n\t\tassert.strictEqual(group.contains(diffInput1), false);\n\t\tassert.strictEqual(group.contains(diffInput2), false);\n\n\t\tgroup.openEditor(diffInput1, { pinned: true, active: true });\n\n\t\tassert.strictEqual(group.contains(input1), true);\n\t\tassert.strictEqual(group.contains(input2), true);\n\t\tassert.strictEqual(group.contains(diffInput1), true);\n\t\tassert.strictEqual(group.contains(diffInput2), false);\n\n\t\tgroup.openEditor(diffInput2, { pinned: true, active: true });\n\n\t\tassert.strictEqual(group.contains(input1), true);\n\t\tassert.strictEqual(group.contains(input2), true);\n\t\tassert.strictEqual(group.contains(diffInput1), true);\n\t\tassert.strictEqual(group.contains(diffInput2), true);\n\n\t\tgroup.closeEditor(input1);\n\n\t\tassert.strictEqual(group.contains(input1), false);\n\t\tassert.strictEqual(group.contains(input1, { supportSideBySide: SideBySideEditor.ANY }), true);\n\t\tassert.strictEqual(group.contains(input2), true);\n\t\tassert.strictEqual(group.contains(diffInput1), true);\n\t\tassert.strictEqual(group.contains(diffInput2), true);\n\n\t\tgroup.closeEditor(input2);\n\n\t\tassert.strictEqual(group.contains(input1), false);\n\t\tassert.strictEqual(group.contains(input1, { supportSideBySide: SideBySideEditor.ANY }), true);\n\t\tassert.strictEqual(group.contains(input2), false);\n\t\tassert.strictEqual(group.contains(input2, { supportSideBySide: SideBySideEditor.ANY }), true);\n\t\tassert.strictEqual(group.contains(diffInput1), true);\n\t\tassert.strictEqual(group.contains(diffInput2), true);\n\n\t\tgroup.closeEditor(diffInput1);\n\n\t\tassert.strictEqual(group.contains(input1), false);\n\t\tassert.strictEqual(group.contains(input1, { supportSideBySide: SideBySideEditor.ANY }), true);\n\t\tassert.strictEqual(group.contains(input2), false);\n\t\tassert.strictEqual(group.contains(input2, { supportSideBySide: SideBySideEditor.ANY }), true);\n\t\tassert.strictEqual(group.contains(diffInput1), false);\n\t\tassert.strictEqual(group.contains(diffInput2), true);\n\n\t\tgroup.closeEditor(diffInput2);\n\n\t\tassert.strictEqual(group.contains(input1), false);\n\t\tassert.strictEqual(group.contains(input1, { supportSideBySide: SideBySideEditor.ANY }), false);\n\t\tassert.strictEqual(group.contains(input2), false);\n\t\tassert.strictEqual(group.contains(input2, { supportSideBySide: SideBySideEditor.ANY }), false);\n\t\tassert.strictEqual(group.contains(diffInput1), false);\n\t\tassert.strictEqual(group.contains(diffInput2), false);\n\n\t\tconst input3 = input(undefined, true, URI.parse('foo://bar'));\n\n\t\tconst input4 = input(undefined, true, URI.parse('foo://barsomething'));\n\n\t\tgroup.openEditor(input3, { pinned: true, active: true });\n\t\tassert.strictEqual(group.contains(input4), false);\n\t\tassert.strictEqual(group.contains(input3), true);\n\n\t\tgroup.closeEditor(input3);\n\n\t\tassert.strictEqual(group.contains(input3), false);\n\n\t\tassert.strictEqual(group.count, 0);\n\t\tgroup.openEditor(sideBySideInputSame, { pinned: true, active: true });\n\n\t\tassert.strictEqual(group.contains(sideBySideInputSame), true);\n\t\tassert.strictEqual(group.contains(input1, { supportSideBySide: SideBySideEditor.ANY }), true);\n\t\tassert.strictEqual(group.contains(input1, { supportSideBySide: SideBySideEditor.BOTH }), true);\n\t\tassert.strictEqual(group.contains(input1, { supportSideBySide: SideBySideEditor.ANY, strictEquals: true }), true);\n\t\tassert.strictEqual(group.contains(input1, { supportSideBySide: SideBySideEditor.BOTH, strictEquals: true }), true);\n\n\t\tgroup.closeEditor(sideBySideInputSame);\n\n\t\tassert.strictEqual(group.count, 0);\n\t\tgroup.openEditor(sideBySideInputDifferent, { pinned: true, active: true });\n\t\tassert.strictEqual(group.contains(sideBySideInputDifferent), true);\n\t\tassert.strictEqual(group.contains(input1, { supportSideBySide: SideBySideEditor.ANY }), true);\n\t\tassert.strictEqual(group.contains(input1, { supportSideBySide: SideBySideEditor.ANY, strictEquals: true }), true);\n\t\tassert.strictEqual(group.contains(input1, { supportSideBySide: SideBySideEditor.BOTH }), false);\n\t\tassert.strictEqual(group.contains(input1, { supportSideBySide: SideBySideEditor.BOTH, strictEquals: true }), false);\n\t});\n\n\ttest('group serialization', function () {\n\t\tinst().invokeFunction(accessor => Registry.as<IEditorFactoryRegistry>(EditorExtensions.EditorFactory).start(accessor));\n\t\tconst group = createEditorGroupModel();\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\n\t\t// Case 1: inputs can be serialized and deserialized\n\n\t\tgroup.openEditor(input1, { pinned: true, active: true });\n\t\tgroup.openEditor(input2, { pinned: true, active: true });\n\t\tgroup.openEditor(input3, { pinned: false, active: true });\n\n\t\tlet deserialized = createEditorGroupModel(group.serialize());\n\t\tassert.strictEqual(group.id, deserialized.id);\n\t\tassert.strictEqual(deserialized.count, 3);\n\t\tassert.strictEqual(deserialized.getEditors(EditorsOrder.SEQUENTIAL).length, 3);\n\t\tassert.strictEqual(deserialized.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 3);\n\t\tassert.strictEqual(deserialized.isPinned(input1), true);\n\t\tassert.strictEqual(deserialized.isPinned(input2), true);\n\t\tassert.strictEqual(deserialized.isPinned(input3), false);\n\t\tassert.strictEqual(deserialized.isActive(input3), true);\n\n\t\t// Case 2: inputs cannot be serialized\n\t\tTestEditorInputSerializer.disableSerialize = true;\n\n\t\tdeserialized = createEditorGroupModel(group.serialize());\n\t\tassert.strictEqual(group.id, deserialized.id);\n\t\tassert.strictEqual(deserialized.count, 0);\n\t\tassert.strictEqual(deserialized.getEditors(EditorsOrder.SEQUENTIAL).length, 0);\n\t\tassert.strictEqual(deserialized.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 0);\n\n\t\t// Case 3: inputs cannot be deserialized\n\t\tTestEditorInputSerializer.disableSerialize = false;\n\t\tTestEditorInputSerializer.disableDeserialize = true;\n\n\t\tdeserialized = createEditorGroupModel(group.serialize());\n\t\tassert.strictEqual(group.id, deserialized.id);\n\t\tassert.strictEqual(deserialized.count, 0);\n\t\tassert.strictEqual(deserialized.getEditors(EditorsOrder.SEQUENTIAL).length, 0);\n\t\tassert.strictEqual(deserialized.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 0);\n\t});\n\n\ttest('group serialization (sticky editor)', function () {\n\t\tinst().invokeFunction(accessor => Registry.as<IEditorFactoryRegistry>(EditorExtensions.EditorFactory).start(accessor));\n\t\tconst group = createEditorGroupModel();\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\n\t\t// Case 1: inputs can be serialized and deserialized\n\n\t\tgroup.openEditor(input1, { pinned: true, active: true });\n\t\tgroup.openEditor(input2, { pinned: true, active: true });\n\t\tgroup.openEditor(input3, { pinned: false, active: true });\n\n\t\tgroup.stick(input2);\n\t\tassert.ok(group.isSticky(input2));\n\n\t\tlet deserialized = createEditorGroupModel(group.serialize());\n\t\tassert.strictEqual(group.id, deserialized.id);\n\t\tassert.strictEqual(deserialized.count, 3);\n\n\t\tassert.strictEqual(deserialized.isPinned(input1), true);\n\t\tassert.strictEqual(deserialized.isActive(input1), false);\n\t\tassert.strictEqual(deserialized.isSticky(input1), false);\n\n\t\tassert.strictEqual(deserialized.isPinned(input2), true);\n\t\tassert.strictEqual(deserialized.isActive(input2), false);\n\t\tassert.strictEqual(deserialized.isSticky(input2), true);\n\n\t\tassert.strictEqual(deserialized.isPinned(input3), false);\n\t\tassert.strictEqual(deserialized.isActive(input3), true);\n\t\tassert.strictEqual(deserialized.isSticky(input3), false);\n\n\t\t// Case 2: inputs cannot be serialized\n\t\tTestEditorInputSerializer.disableSerialize = true;\n\n\t\tdeserialized = createEditorGroupModel(group.serialize());\n\t\tassert.strictEqual(group.id, deserialized.id);\n\t\tassert.strictEqual(deserialized.count, 0);\n\t\tassert.strictEqual(deserialized.stickyCount, 0);\n\t\tassert.strictEqual(deserialized.getEditors(EditorsOrder.SEQUENTIAL).length, 0);\n\t\tassert.strictEqual(deserialized.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 0);\n\n\t\t// Case 3: inputs cannot be deserialized\n\t\tTestEditorInputSerializer.disableSerialize = false;\n\t\tTestEditorInputSerializer.disableDeserialize = true;\n\n\t\tdeserialized = createEditorGroupModel(group.serialize());\n\t\tassert.strictEqual(group.id, deserialized.id);\n\t\tassert.strictEqual(deserialized.count, 0);\n\t\tassert.strictEqual(deserialized.stickyCount, 0);\n\t\tassert.strictEqual(deserialized.getEditors(EditorsOrder.SEQUENTIAL).length, 0);\n\t\tassert.strictEqual(deserialized.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 0);\n\t});\n\n\ttest('group serialization (locked group)', function () {\n\t\tconst group = createEditorGroupModel();\n\t\tconst events = groupListener(group);\n\n\t\tassert.strictEqual(events.locked.length, 0);\n\n\t\tgroup.lock(true);\n\t\tgroup.lock(true);\n\n\t\tassert.strictEqual(events.locked.length, 1);\n\n\t\tgroup.lock(false);\n\t\tgroup.lock(false);\n\n\t\tassert.strictEqual(events.locked.length, 2);\n\t});\n\n\ttest('locked group', function () {\n\t\tconst group = createEditorGroupModel();\n\t\tgroup.lock(true);\n\n\t\tlet deserialized = createEditorGroupModel(group.serialize());\n\t\tassert.strictEqual(group.id, deserialized.id);\n\t\tassert.strictEqual(deserialized.count, 0);\n\t\tassert.strictEqual(deserialized.isLocked, true);\n\n\t\tgroup.lock(false);\n\t\tdeserialized = createEditorGroupModel(group.serialize());\n\t\tassert.strictEqual(group.id, deserialized.id);\n\t\tassert.strictEqual(deserialized.count, 0);\n\t\tassert.strictEqual(deserialized.isLocked, false);\n\t});\n\n\ttest('index', function () {\n\t\tconst group = createEditorGroupModel();\n\t\tconst events = groupListener(group);\n\n\t\tassert.strictEqual(events.index.length, 0);\n\n\t\tgroup.setIndex(4);\n\n\t\tassert.strictEqual(events.index.length, 1);\n\t});\n\n\ttest('label', function () {\n\t\tconst group = createEditorGroupModel();\n\t\tconst events = groupListener(group);\n\n\t\tassert.strictEqual(events.label.length, 0);\n\n\t\tgroup.setLabel('Window 1');\n\n\t\tassert.strictEqual(events.label.length, 1);\n\t});\n\n\ttest('active', function () {\n\t\tconst group = createEditorGroupModel();\n\t\tconst events = groupListener(group);\n\n\t\tassert.strictEqual(events.active.length, 0);\n\n\t\tgroup.setActive(undefined);\n\n\t\tassert.strictEqual(events.active.length, 1);\n\t});\n\n\ttest('One Editor', function () {\n\t\tconst group = createEditorGroupModel();\n\t\tconst events = groupListener(group);\n\n\t\tassert.strictEqual(group.count, 0);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 0);\n\n\t\t// Active && Pinned\n\t\tconst input1 = input();\n\t\tconst { editor: openedEditor, isNew } = group.openEditor(input1, { active: true, pinned: true });\n\t\tassert.strictEqual(openedEditor, input1);\n\t\tassert.strictEqual(isNew, true);\n\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 1);\n\t\tassert.strictEqual(group.findEditor(input1)![0], input1);\n\t\tassert.strictEqual(group.activeEditor, input1);\n\t\tassert.strictEqual(group.isActive(input1), true);\n\t\tassert.strictEqual(group.isPinned(input1), true);\n\t\tassert.strictEqual(group.isPinned(0), true);\n\t\tassert.strictEqual(group.isFirst(input1), true);\n\t\tassert.strictEqual(group.isLast(input1), true);\n\n\t\tassert.strictEqual(events.opened[0].editor, input1);\n\t\tassert.strictEqual(events.opened[0].editorIndex, 0);\n\t\tassert.strictEqual(events.activated[0].editor, input1);\n\t\tassert.strictEqual(events.activated[0].editorIndex, 0);\n\n\t\tconst index = group.indexOf(input1);\n\t\tassert.strictEqual(group.findEditor(input1)![1], index);\n\t\tlet event = group.closeEditor(input1, EditorCloseContext.UNPIN);\n\t\tassert.strictEqual(event?.editor, input1);\n\t\tassert.strictEqual(event?.editorIndex, index);\n\t\tassert.strictEqual(group.count, 0);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 0);\n\t\tassert.strictEqual(group.activeEditor, null);\n\t\tassert.strictEqual(group.isFirst(input1), false);\n\t\tassert.strictEqual(group.isLast(input1), false);\n\t\tassert.strictEqual(events.closed[0].editor, input1);\n\t\tassert.strictEqual(events.closed[0].editorIndex, 0);\n\t\tassert.strictEqual(events.closed[0].context === EditorCloseContext.UNPIN, true);\n\n\t\t// Active && Preview\n\t\tconst input2 = input();\n\t\tgroup.openEditor(input2, { active: true, pinned: false });\n\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 1);\n\t\tassert.strictEqual(group.activeEditor, input2);\n\t\tassert.strictEqual(group.isActive(input2), true);\n\t\tassert.strictEqual(group.isPinned(input2), false);\n\t\tassert.strictEqual(group.isPinned(0), false);\n\n\t\tassert.strictEqual(events.opened[1].editor, input2);\n\t\tassert.strictEqual(events.opened[1].editorIndex, 0);\n\t\tassert.strictEqual(events.activated[1].editor, input2);\n\t\tassert.strictEqual(events.activated[1].editorIndex, 0);\n\n\t\tgroup.closeEditor(input2);\n\t\tassert.strictEqual(group.count, 0);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 0);\n\t\tassert.strictEqual(group.activeEditor, null);\n\t\tassert.strictEqual(events.closed[1].editor, input2);\n\t\tassert.strictEqual(events.closed[1].editorIndex, 0);\n\t\tassert.strictEqual(events.closed[1].context === EditorCloseContext.REPLACE, false);\n\n\t\tevent = group.closeEditor(input2);\n\t\tassert.ok(!event);\n\t\tassert.strictEqual(group.count, 0);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 0);\n\t\tassert.strictEqual(group.activeEditor, null);\n\t\tassert.strictEqual(events.closed[1].editor, input2);\n\n\t\t// Nonactive && Pinned => gets active because its first editor\n\t\tconst input3 = input();\n\t\tgroup.openEditor(input3, { active: false, pinned: true });\n\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 1);\n\t\tassert.strictEqual(group.activeEditor, input3);\n\t\tassert.strictEqual(group.isActive(input3), true);\n\t\tassert.strictEqual(group.isPinned(input3), true);\n\t\tassert.strictEqual(group.isPinned(0), true);\n\n\t\tassert.strictEqual(events.opened[2].editor, input3);\n\t\tassert.strictEqual(events.activated[2].editor, input3);\n\n\t\tgroup.closeEditor(input3);\n\t\tassert.strictEqual(group.count, 0);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 0);\n\t\tassert.strictEqual(group.activeEditor, null);\n\t\tassert.strictEqual(events.closed[2].editor, input3);\n\n\t\tassert.strictEqual(events.opened[2].editor, input3);\n\t\tassert.strictEqual(events.activated[2].editor, input3);\n\n\t\tgroup.closeEditor(input3);\n\t\tassert.strictEqual(group.count, 0);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 0);\n\t\tassert.strictEqual(group.activeEditor, null);\n\t\tassert.strictEqual(events.closed[2].editor, input3);\n\n\t\t// Nonactive && Preview => gets active because its first editor\n\t\tconst input4 = input();\n\t\tgroup.openEditor(input4);\n\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 1);\n\t\tassert.strictEqual(group.activeEditor, input4);\n\t\tassert.strictEqual(group.isActive(input4), true);\n\t\tassert.strictEqual(group.isPinned(input4), false);\n\t\tassert.strictEqual(group.isPinned(0), false);\n\n\t\tassert.strictEqual(events.opened[3].editor, input4);\n\t\tassert.strictEqual(events.activated[3].editor, input4);\n\n\t\tgroup.closeEditor(input4);\n\t\tassert.strictEqual(group.count, 0);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 0);\n\t\tassert.strictEqual(group.activeEditor, null);\n\t\tassert.strictEqual(events.closed[3].editor, input4);\n\t});\n\n\ttest('Multiple Editors - Pinned and Active', function () {\n\t\tconst group = createEditorGroupModel();\n\t\tconst events = groupListener(group);\n\n\t\tconst input1 = input('1');\n\t\tconst input1Copy = input('1');\n\t\tconst input2 = input('2');\n\t\tconst input3 = input('3');\n\n\t\t// Pinned and Active\n\t\tlet openedEditorResult = group.openEditor(input1, { pinned: true, active: true });\n\t\tassert.strictEqual(openedEditorResult.editor, input1);\n\t\tassert.strictEqual(openedEditorResult.isNew, true);\n\n\t\topenedEditorResult = group.openEditor(input1Copy, { pinned: true, active: true }); // opening copy of editor should still return existing one\n\t\tassert.strictEqual(openedEditorResult.editor, input1);\n\t\tassert.strictEqual(openedEditorResult.isNew, false);\n\n\t\tgroup.openEditor(input2, { pinned: true, active: true });\n\t\tgroup.openEditor(input3, { pinned: true, active: true });\n\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 3);\n\t\tassert.strictEqual(group.activeEditor, input3);\n\t\tassert.strictEqual(group.isActive(input1), false);\n\t\tassert.strictEqual(group.isPinned(input1), true);\n\t\tassert.strictEqual(group.isActive(input2), false);\n\t\tassert.strictEqual(group.isPinned(input2), true);\n\t\tassert.strictEqual(group.isActive(input3), true);\n\t\tassert.strictEqual(group.isPinned(input3), true);\n\t\tassert.strictEqual(group.isFirst(input1), true);\n\t\tassert.strictEqual(group.isFirst(input2), false);\n\t\tassert.strictEqual(group.isFirst(input3), false);\n\t\tassert.strictEqual(group.isLast(input1), false);\n\t\tassert.strictEqual(group.isLast(input2), false);\n\t\tassert.strictEqual(group.isLast(input3), true);\n\n\t\tassert.strictEqual(events.opened[0].editor, input1);\n\t\tassert.strictEqual(events.opened[1].editor, input2);\n\t\tassert.strictEqual(events.opened[2].editor, input3);\n\n\t\tassert.strictEqual(events.activated[0].editor, input1);\n\t\tassert.strictEqual(events.activated[0].editorIndex, 0);\n\t\tassert.strictEqual(events.activated[1].editor, input2);\n\t\tassert.strictEqual(events.activated[1].editorIndex, 1);\n\t\tassert.strictEqual(events.activated[2].editor, input3);\n\t\tassert.strictEqual(events.activated[2].editorIndex, 2);\n\n\t\tconst mru = group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE);\n\t\tassert.strictEqual(mru[0], input3);\n\t\tassert.strictEqual(mru[1], input2);\n\t\tassert.strictEqual(mru[2], input1);\n\n\t\t// Add some tests where a matching input is used\n\t\t// and verify that events carry the original input\n\t\tconst sameInput1 = input('1');\n\t\tgroup.openEditor(sameInput1, { pinned: true, active: true });\n\t\tassert.strictEqual(events.activated[3].editor, input1);\n\t\tassert.strictEqual(events.activated[3].editorIndex, 0);\n\n\t\tgroup.unpin(sameInput1);\n\t\tassert.strictEqual(events.unpinned[0].editor, input1);\n\t\tassert.strictEqual(events.unpinned[0].editorIndex, 0);\n\n\t\tgroup.pin(sameInput1);\n\t\tassert.strictEqual(events.pinned[0].editor, input1);\n\t\tassert.strictEqual(events.pinned[0].editorIndex, 0);\n\n\t\tgroup.stick(sameInput1);\n\t\tassert.strictEqual(events.sticky[0].editor, input1);\n\t\tassert.strictEqual(events.sticky[0].editorIndex, 0);\n\n\t\tgroup.unstick(sameInput1);\n\t\tassert.strictEqual(events.unsticky[0].editor, input1);\n\t\tassert.strictEqual(events.unsticky[0].editorIndex, 0);\n\n\t\tgroup.moveEditor(sameInput1, 1);\n\t\tassert.strictEqual(events.moved[0].editor, input1);\n\t\tassert.strictEqual(events.moved[0].oldEditorIndex, 0);\n\t\tassert.strictEqual(events.moved[0].editorIndex, 1);\n\n\t\tgroup.closeEditor(sameInput1);\n\t\tassert.strictEqual(events.closed[0].editor, input1);\n\t\tassert.strictEqual(events.closed[0].editorIndex, 1);\n\n\t\tcloseAllEditors(group);\n\n\t\tassert.strictEqual(events.closed.length, 3);\n\t\tassert.strictEqual(group.count, 0);\n\t});\n\n\ttest('Multiple Editors - Preview editor moves to the side of the active one', function () {\n\t\tconst group = createEditorGroupModel();\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\n\t\tgroup.openEditor(input1, { pinned: false, active: true });\n\t\tgroup.openEditor(input2, { pinned: true, active: true });\n\t\tgroup.openEditor(input3, { pinned: true, active: true });\n\n\t\tassert.strictEqual(input3, group.getEditors(EditorsOrder.SEQUENTIAL)[2]);\n\n\t\tconst input4 = input();\n\t\tgroup.openEditor(input4, { pinned: false, active: true }); // this should cause the preview editor to move after input3\n\n\t\tassert.strictEqual(input4, group.getEditors(EditorsOrder.SEQUENTIAL)[2]);\n\t});\n\n\ttest('Multiple Editors - Pinned and Active (DEFAULT_OPEN_EDITOR_DIRECTION = Direction.LEFT)', function () {\n\t\tconst inst = new TestInstantiationService();\n\t\tinst.stub(IStorageService, disposables.add(new TestStorageService()));\n\t\tinst.stub(ILifecycleService, disposables.add(new TestLifecycleService()));\n\t\tinst.stub(IWorkspaceContextService, new TestContextService());\n\t\tinst.stub(ITelemetryService, NullTelemetryService);\n\n\t\tconst config = new TestConfigurationService();\n\t\tinst.stub(IConfigurationService, config);\n\t\tconfig.setUserConfiguration('workbench', { editor: { openPositioning: 'left' } });\n\n\t\tconst group: EditorGroupModel = disposables.add(inst.createInstance(EditorGroupModel, undefined));\n\n\t\tconst events = groupListener(group);\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\n\t\t// Pinned and Active\n\t\tgroup.openEditor(input1, { pinned: true, active: true });\n\t\tgroup.openEditor(input2, { pinned: true, active: true });\n\t\tgroup.openEditor(input3, { pinned: true, active: true });\n\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], input3);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[1], input2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[2], input1);\n\n\t\tcloseAllEditors(group);\n\n\t\tassert.strictEqual(events.closed.length, 3);\n\t\tassert.strictEqual(group.count, 0);\n\t\tinst.dispose();\n\t});\n\n\ttest('Multiple Editors - Pinned and Not Active', function () {\n\t\tconst group = createEditorGroupModel();\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\n\t\t// Pinned and Active\n\t\tgroup.openEditor(input1, { pinned: true });\n\t\tgroup.openEditor(input2, { pinned: true });\n\t\tgroup.openEditor(input3, { pinned: true });\n\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 3);\n\t\tassert.strictEqual(group.activeEditor, input1);\n\t\tassert.strictEqual(group.isActive(input1), true);\n\t\tassert.strictEqual(group.isPinned(input1), true);\n\t\tassert.strictEqual(group.isPinned(0), true);\n\t\tassert.strictEqual(group.isActive(input2), false);\n\t\tassert.strictEqual(group.isPinned(input2), true);\n\t\tassert.strictEqual(group.isPinned(1), true);\n\t\tassert.strictEqual(group.isActive(input3), false);\n\t\tassert.strictEqual(group.isPinned(input3), true);\n\t\tassert.strictEqual(group.isPinned(2), true);\n\t\tassert.strictEqual(group.isPinned(input3), true);\n\n\t\tconst mru = group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE);\n\t\tassert.strictEqual(mru[0], input1);\n\t\tassert.strictEqual(mru[1], input3);\n\t\tassert.strictEqual(mru[2], input2);\n\t});\n\n\ttest('Multiple Editors - Preview gets overwritten', function () {\n\t\tconst group = createEditorGroupModel();\n\t\tconst events = groupListener(group);\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\n\t\t// Non active, preview\n\t\tgroup.openEditor(input1); // becomes active, preview\n\t\tgroup.openEditor(input2); // overwrites preview\n\t\tgroup.openEditor(input3); // overwrites preview\n\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 1);\n\t\tassert.strictEqual(group.activeEditor, input3);\n\t\tassert.strictEqual(group.isActive(input3), true);\n\t\tassert.strictEqual(group.isPinned(input3), false);\n\t\tassert.strictEqual(!group.isPinned(input3), true);\n\n\t\tassert.strictEqual(events.opened[0].editor, input1);\n\t\tassert.strictEqual(events.opened[1].editor, input2);\n\t\tassert.strictEqual(events.opened[2].editor, input3);\n\t\tassert.strictEqual(events.closed[0].editor, input1);\n\t\tassert.strictEqual(events.closed[1].editor, input2);\n\t\tassert.strictEqual(events.closed[0].context === EditorCloseContext.REPLACE, true);\n\t\tassert.strictEqual(events.closed[1].context === EditorCloseContext.REPLACE, true);\n\n\t\tconst mru = group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE);\n\t\tassert.strictEqual(mru[0], input3);\n\t\tassert.strictEqual(mru.length, 1);\n\t});\n\n\ttest('Multiple Editors - set active', function () {\n\t\tconst group = createEditorGroupModel();\n\t\tconst events = groupListener(group);\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\n\t\tgroup.openEditor(input1, { pinned: true, active: true });\n\t\tgroup.openEditor(input2, { pinned: true, active: true });\n\t\tgroup.openEditor(input3, { pinned: false, active: true });\n\n\t\tassert.strictEqual(group.activeEditor, input3);\n\n\t\tlet mru = group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE);\n\t\tassert.strictEqual(mru[0], input3);\n\t\tassert.strictEqual(mru[1], input2);\n\t\tassert.strictEqual(mru[2], input1);\n\n\t\tgroup.setActive(input3);\n\t\tassert.strictEqual(events.activated.length, 3);\n\n\t\tgroup.setActive(input1);\n\t\tassert.strictEqual(events.activated[3].editor, input1);\n\t\tassert.strictEqual(group.activeEditor, input1);\n\t\tassert.strictEqual(group.isActive(input1), true);\n\t\tassert.strictEqual(group.isActive(input2), false);\n\t\tassert.strictEqual(group.isActive(input3), false);\n\n\t\tmru = group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE);\n\t\tassert.strictEqual(mru[0], input1);\n\t\tassert.strictEqual(mru[1], input3);\n\t\tassert.strictEqual(mru[2], input2);\n\t});\n\n\ttest('Multiple Editors - pin and unpin', function () {\n\t\tconst group = createEditorGroupModel();\n\t\tconst events = groupListener(group);\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\n\t\tgroup.openEditor(input1, { pinned: true, active: true });\n\t\tgroup.openEditor(input2, { pinned: true, active: true });\n\t\tgroup.openEditor(input3, { pinned: false, active: true });\n\n\t\tassert.strictEqual(group.activeEditor, input3);\n\t\tassert.strictEqual(group.count, 3);\n\n\t\tgroup.pin(input3);\n\n\t\tassert.strictEqual(group.activeEditor, input3);\n\t\tassert.strictEqual(group.isPinned(input3), true);\n\t\tassert.strictEqual(group.isActive(input3), true);\n\t\tassert.strictEqual(events.pinned[0].editor, input3);\n\t\tassert.strictEqual(group.count, 3);\n\n\t\tgroup.unpin(input1);\n\n\t\tassert.strictEqual(group.activeEditor, input3);\n\t\tassert.strictEqual(group.isPinned(input1), false);\n\t\tassert.strictEqual(group.isActive(input1), false);\n\t\tassert.strictEqual(events.unpinned[0].editor, input1);\n\t\tassert.strictEqual(group.count, 3);\n\n\t\tgroup.unpin(input2);\n\n\t\tassert.strictEqual(group.activeEditor, input3);\n\t\tassert.strictEqual(group.count, 2); // 2 previews got merged into one\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], input2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[1], input3);\n\t\tassert.strictEqual(events.closed[0].editor, input1);\n\t\tassert.strictEqual(group.count, 2);\n\n\t\tgroup.unpin(input3);\n\n\t\tassert.strictEqual(group.activeEditor, input3);\n\t\tassert.strictEqual(group.count, 1); // pinning replaced the preview\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], input3);\n\t\tassert.strictEqual(events.closed[1].editor, input2);\n\t\tassert.strictEqual(group.count, 1);\n\t});\n\n\ttest('Multiple Editors - closing picks next from MRU list', function () {\n\t\tconst group = createEditorGroupModel();\n\t\tconst events = groupListener(group);\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\t\tconst input4 = input();\n\t\tconst input5 = input();\n\n\t\tgroup.openEditor(input1, { pinned: true, active: true });\n\t\tgroup.openEditor(input2, { pinned: true, active: true });\n\t\tgroup.openEditor(input3, { pinned: true, active: true });\n\t\tgroup.openEditor(input4, { pinned: true, active: true });\n\t\tgroup.openEditor(input5, { pinned: true, active: true });\n\n\t\tassert.strictEqual(group.activeEditor, input5);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[0], input5);\n\t\tassert.strictEqual(group.count, 5);\n\n\t\tgroup.closeEditor(input5);\n\t\tassert.strictEqual(group.activeEditor, input4);\n\t\tassert.strictEqual(events.activated[5].editor, input4);\n\t\tassert.strictEqual(group.count, 4);\n\n\t\tgroup.setActive(input1);\n\t\tgroup.setActive(input4);\n\t\tgroup.closeEditor(input4);\n\n\t\tassert.strictEqual(group.activeEditor, input1);\n\t\tassert.strictEqual(group.count, 3);\n\n\t\tgroup.closeEditor(input1);\n\n\t\tassert.strictEqual(group.activeEditor, input3);\n\t\tassert.strictEqual(group.count, 2);\n\n\t\tgroup.setActive(input2);\n\t\tgroup.closeEditor(input2);\n\n\t\tassert.strictEqual(group.activeEditor, input3);\n\t\tassert.strictEqual(group.count, 1);\n\n\t\tgroup.closeEditor(input3);\n\n\t\tassert.ok(!group.activeEditor);\n\t\tassert.strictEqual(group.count, 0);\n\t});\n\n\ttest('Multiple Editors - closing picks next to the right', function () {\n\t\tconst inst = new TestInstantiationService();\n\t\tinst.stub(IStorageService, disposables.add(new TestStorageService()));\n\t\tinst.stub(ILifecycleService, disposables.add(new TestLifecycleService()));\n\t\tinst.stub(IWorkspaceContextService, new TestContextService());\n\t\tinst.stub(ITelemetryService, NullTelemetryService);\n\n\t\tconst config = new TestConfigurationService();\n\t\tconfig.setUserConfiguration('workbench', { editor: { focusRecentEditorAfterClose: false } });\n\t\tinst.stub(IConfigurationService, config);\n\n\t\tconst group = disposables.add(inst.createInstance(EditorGroupModel, undefined));\n\t\tconst events = groupListener(group);\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\t\tconst input4 = input();\n\t\tconst input5 = input();\n\n\t\tgroup.openEditor(input1, { pinned: true, active: true });\n\t\tgroup.openEditor(input2, { pinned: true, active: true });\n\t\tgroup.openEditor(input3, { pinned: true, active: true });\n\t\tgroup.openEditor(input4, { pinned: true, active: true });\n\t\tgroup.openEditor(input5, { pinned: true, active: true });\n\n\t\tassert.strictEqual(group.activeEditor, input5);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[0], input5);\n\t\tassert.strictEqual(group.count, 5);\n\n\t\tgroup.closeEditor(input5);\n\t\tassert.strictEqual(group.activeEditor, input4);\n\t\tassert.strictEqual(events.activated[5].editor, input4);\n\t\tassert.strictEqual(group.count, 4);\n\n\t\tgroup.setActive(input1);\n\t\tgroup.closeEditor(input1);\n\n\t\tassert.strictEqual(group.activeEditor, input2);\n\t\tassert.strictEqual(group.count, 3);\n\n\t\tgroup.setActive(input3);\n\t\tgroup.closeEditor(input3);\n\n\t\tassert.strictEqual(group.activeEditor, input4);\n\t\tassert.strictEqual(group.count, 2);\n\n\t\tgroup.closeEditor(input4);\n\n\t\tassert.strictEqual(group.activeEditor, input2);\n\t\tassert.strictEqual(group.count, 1);\n\n\t\tgroup.closeEditor(input2);\n\n\t\tassert.ok(!group.activeEditor);\n\t\tassert.strictEqual(group.count, 0);\n\t\tinst.dispose();\n\t});\n\n\ttest('Multiple Editors - move editor', function () {\n\t\tconst group = createEditorGroupModel();\n\t\tconst events = groupListener(group);\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\t\tconst input4 = input();\n\t\tconst input5 = input();\n\n\t\tgroup.openEditor(input1, { pinned: true, active: true });\n\t\tgroup.openEditor(input2, { pinned: true, active: true });\n\n\t\tgroup.moveEditor(input1, 1);\n\n\t\tassert.strictEqual(events.moved[0].editor, input1);\n\t\tassert.strictEqual(events.moved[0].oldEditorIndex, 0);\n\t\tassert.strictEqual(events.moved[0].editorIndex, 1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], input2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[1], input1);\n\n\t\tgroup.setActive(input1);\n\t\tgroup.openEditor(input3, { pinned: true, active: true });\n\t\tgroup.openEditor(input4, { pinned: true, active: true });\n\t\tgroup.openEditor(input5, { pinned: true, active: true });\n\n\t\tgroup.moveEditor(input4, 0);\n\n\t\tassert.strictEqual(events.moved[1].editor, input4);\n\t\tassert.strictEqual(events.moved[1].oldEditorIndex, 3);\n\t\tassert.strictEqual(events.moved[1].editorIndex, 0);\n\t\tassert.strictEqual(events.moved[1].editor, input4);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], input4);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[1], input2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[2], input1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[3], input3);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[4], input5);\n\n\t\tgroup.moveEditor(input4, 3);\n\t\tgroup.moveEditor(input2, 1);\n\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], input1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[1], input2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[2], input3);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[3], input4);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[4], input5);\n\n\t\tassert.strictEqual(events.moved.length, 4);\n\t\tgroup.moveEditor(input1, 0);\n\t\tassert.strictEqual(events.moved.length, 4);\n\t\tgroup.moveEditor(input1, -1);\n\t\tassert.strictEqual(events.moved.length, 4);\n\n\t\tgroup.moveEditor(input5, 4);\n\t\tassert.strictEqual(events.moved.length, 4);\n\t\tgroup.moveEditor(input5, 100);\n\t\tassert.strictEqual(events.moved.length, 4);\n\n\t\tgroup.moveEditor(input5, -1);\n\t\tassert.strictEqual(events.moved.length, 5);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], input5);\n\n\t\tgroup.moveEditor(input1, 100);\n\t\tassert.strictEqual(events.moved.length, 6);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[4], input1);\n\t});\n\n\ttest('Multiple Editors - move editor across groups', function () {\n\t\tconst group1 = createEditorGroupModel();\n\t\tconst group2 = createEditorGroupModel();\n\n\t\tconst g1_input1 = input();\n\t\tconst g1_input2 = input();\n\t\tconst g2_input1 = input();\n\n\t\tgroup1.openEditor(g1_input1, { active: true, pinned: true });\n\t\tgroup1.openEditor(g1_input2, { active: true, pinned: true });\n\t\tgroup2.openEditor(g2_input1, { active: true, pinned: true });\n\n\t\t// A move across groups is a close in the one group and an open in the other group at a specific index\n\t\tgroup2.closeEditor(g2_input1);\n\t\tgroup1.openEditor(g2_input1, { active: true, pinned: true, index: 1 });\n\n\t\tassert.strictEqual(group1.count, 3);\n\t\tassert.strictEqual(group1.getEditors(EditorsOrder.SEQUENTIAL)[0], g1_input1);\n\t\tassert.strictEqual(group1.getEditors(EditorsOrder.SEQUENTIAL)[1], g2_input1);\n\t\tassert.strictEqual(group1.getEditors(EditorsOrder.SEQUENTIAL)[2], g1_input2);\n\t});\n\n\ttest('Multiple Editors - move editor across groups (input already exists in group 1)', function () {\n\t\tconst group1 = createEditorGroupModel();\n\t\tconst group2 = createEditorGroupModel();\n\n\t\tconst g1_input1 = input();\n\t\tconst g1_input2 = input();\n\t\tconst g1_input3 = input();\n\t\tconst g2_input1 = g1_input2;\n\n\t\tgroup1.openEditor(g1_input1, { active: true, pinned: true });\n\t\tgroup1.openEditor(g1_input2, { active: true, pinned: true });\n\t\tgroup1.openEditor(g1_input3, { active: true, pinned: true });\n\t\tgroup2.openEditor(g2_input1, { active: true, pinned: true });\n\n\t\t// A move across groups is a close in the one group and an open in the other group at a specific index\n\t\tgroup2.closeEditor(g2_input1);\n\t\tgroup1.openEditor(g2_input1, { active: true, pinned: true, index: 0 });\n\n\t\tassert.strictEqual(group1.count, 3);\n\t\tassert.strictEqual(group1.getEditors(EditorsOrder.SEQUENTIAL)[0], g1_input2);\n\t\tassert.strictEqual(group1.getEditors(EditorsOrder.SEQUENTIAL)[1], g1_input1);\n\t\tassert.strictEqual(group1.getEditors(EditorsOrder.SEQUENTIAL)[2], g1_input3);\n\t});\n\n\ttest('Multiple Editors - Pinned & Non Active', function () {\n\t\tconst group = createEditorGroupModel();\n\n\t\tconst input1 = input();\n\t\tgroup.openEditor(input1);\n\t\tassert.strictEqual(group.activeEditor, input1);\n\t\tassert.strictEqual(group.previewEditor, input1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], input1);\n\t\tassert.strictEqual(group.count, 1);\n\n\t\tconst input2 = input();\n\t\tgroup.openEditor(input2, { pinned: true, active: false });\n\t\tassert.strictEqual(group.activeEditor, input1);\n\t\tassert.strictEqual(group.previewEditor, input1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], input1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[1], input2);\n\t\tassert.strictEqual(group.count, 2);\n\n\t\tconst input3 = input();\n\t\tgroup.openEditor(input3, { pinned: true, active: false });\n\t\tassert.strictEqual(group.activeEditor, input1);\n\t\tassert.strictEqual(group.previewEditor, input1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], input1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[1], input3);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[2], input2);\n\t\tassert.strictEqual(group.isPinned(input1), false);\n\t\tassert.strictEqual(group.isPinned(input2), true);\n\t\tassert.strictEqual(group.isPinned(input3), true);\n\t\tassert.strictEqual(group.count, 3);\n\t});\n\n\ttest('Multiple Editors - Close Others, Close Left, Close Right', function () {\n\t\tconst group = createEditorGroupModel();\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\t\tconst input4 = input();\n\t\tconst input5 = input();\n\n\t\tgroup.openEditor(input1, { active: true, pinned: true });\n\t\tgroup.openEditor(input2, { active: true, pinned: true });\n\t\tgroup.openEditor(input3, { active: true, pinned: true });\n\t\tgroup.openEditor(input4, { active: true, pinned: true });\n\t\tgroup.openEditor(input5, { active: true, pinned: true });\n\n\t\t// Close Others\n\t\tcloseEditors(group, group.activeEditor!);\n\t\tassert.strictEqual(group.activeEditor, input5);\n\t\tassert.strictEqual(group.count, 1);\n\n\t\tcloseAllEditors(group);\n\t\tgroup.openEditor(input1, { active: true, pinned: true });\n\t\tgroup.openEditor(input2, { active: true, pinned: true });\n\t\tgroup.openEditor(input3, { active: true, pinned: true });\n\t\tgroup.openEditor(input4, { active: true, pinned: true });\n\t\tgroup.openEditor(input5, { active: true, pinned: true });\n\t\tgroup.setActive(input3);\n\n\t\t// Close Left\n\t\tassert.strictEqual(group.activeEditor, input3);\n\t\tcloseEditors(group, group.activeEditor, CloseDirection.LEFT);\n\t\tassert.strictEqual(group.activeEditor, input3);\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], input3);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[1], input4);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[2], input5);\n\n\t\tcloseAllEditors(group);\n\t\tgroup.openEditor(input1, { active: true, pinned: true });\n\t\tgroup.openEditor(input2, { active: true, pinned: true });\n\t\tgroup.openEditor(input3, { active: true, pinned: true });\n\t\tgroup.openEditor(input4, { active: true, pinned: true });\n\t\tgroup.openEditor(input5, { active: true, pinned: true });\n\t\tgroup.setActive(input3);\n\n\t\t// Close Right\n\t\tassert.strictEqual(group.activeEditor, input3);\n\t\tcloseEditors(group, group.activeEditor, CloseDirection.RIGHT);\n\t\tassert.strictEqual(group.activeEditor, input3);\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], input1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[1], input2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[2], input3);\n\t});\n\n\ttest('Multiple Editors - real user example', function () {\n\t\tconst group = createEditorGroupModel();\n\n\t\t// [] -> /index.html/\n\t\tconst indexHtml = input('index.html');\n\t\tlet openedEditor = group.openEditor(indexHtml).editor;\n\t\tassert.strictEqual(openedEditor, indexHtml);\n\t\tassert.strictEqual(group.activeEditor, indexHtml);\n\t\tassert.strictEqual(group.previewEditor, indexHtml);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], indexHtml);\n\t\tassert.strictEqual(group.count, 1);\n\n\t\t// /index.html/ -> /index.html/\n\t\tconst sameIndexHtml = input('index.html');\n\t\topenedEditor = group.openEditor(sameIndexHtml).editor;\n\t\tassert.strictEqual(openedEditor, indexHtml);\n\t\tassert.strictEqual(group.activeEditor, indexHtml);\n\t\tassert.strictEqual(group.previewEditor, indexHtml);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], indexHtml);\n\t\tassert.strictEqual(group.count, 1);\n\n\t\t// /index.html/ -> /style.css/\n\t\tconst styleCss = input('style.css');\n\t\topenedEditor = group.openEditor(styleCss).editor;\n\t\tassert.strictEqual(openedEditor, styleCss);\n\t\tassert.strictEqual(group.activeEditor, styleCss);\n\t\tassert.strictEqual(group.previewEditor, styleCss);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], styleCss);\n\t\tassert.strictEqual(group.count, 1);\n\n\t\t// /style.css/ -> [/style.css/, test.js]\n\t\tconst testJs = input('test.js');\n\t\topenedEditor = group.openEditor(testJs, { active: true, pinned: true }).editor;\n\t\tassert.strictEqual(openedEditor, testJs);\n\t\tassert.strictEqual(group.previewEditor, styleCss);\n\t\tassert.strictEqual(group.activeEditor, testJs);\n\t\tassert.strictEqual(group.isPinned(styleCss), false);\n\t\tassert.strictEqual(group.isPinned(testJs), true);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], styleCss);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[1], testJs);\n\t\tassert.strictEqual(group.count, 2);\n\n\t\t// [/style.css/, test.js] -> [test.js, /index.html/]\n\t\tconst indexHtml2 = input('index.html');\n\t\tgroup.openEditor(indexHtml2, { active: true });\n\t\tassert.strictEqual(group.activeEditor, indexHtml2);\n\t\tassert.strictEqual(group.previewEditor, indexHtml2);\n\t\tassert.strictEqual(group.isPinned(indexHtml2), false);\n\t\tassert.strictEqual(group.isPinned(testJs), true);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], testJs);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[1], indexHtml2);\n\t\tassert.strictEqual(group.count, 2);\n\n\t\t// make test.js active\n\t\tconst testJs2 = input('test.js');\n\t\tgroup.setActive(testJs2);\n\t\tassert.strictEqual(group.activeEditor, testJs);\n\t\tassert.strictEqual(group.isActive(testJs2), true);\n\t\tassert.strictEqual(group.count, 2);\n\n\t\t// [test.js, /indexHtml/] -> [test.js, index.html]\n\t\tconst indexHtml3 = input('index.html');\n\t\tgroup.pin(indexHtml3);\n\t\tassert.strictEqual(group.isPinned(indexHtml3), true);\n\t\tassert.strictEqual(group.activeEditor, testJs);\n\n\t\t// [test.js, index.html] -> [test.js, file.ts, index.html]\n\t\tconst fileTs = input('file.ts');\n\t\tgroup.openEditor(fileTs, { active: true, pinned: true });\n\t\tassert.strictEqual(group.isPinned(fileTs), true);\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.activeEditor, fileTs);\n\n\t\t// [test.js, index.html, file.ts] -> [test.js, /file.ts/, index.html]\n\t\tgroup.unpin(fileTs);\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.isPinned(fileTs), false);\n\t\tassert.strictEqual(group.activeEditor, fileTs);\n\n\t\t// [test.js, /file.ts/, index.html] -> [test.js, /other.ts/, index.html]\n\t\tconst otherTs = input('other.ts');\n\t\tgroup.openEditor(otherTs, { active: true });\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.activeEditor, otherTs);\n\t\tassert.ok(group.getEditors(EditorsOrder.SEQUENTIAL)[0].matches(testJs));\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[1], otherTs);\n\t\tassert.ok(group.getEditors(EditorsOrder.SEQUENTIAL)[2].matches(indexHtml));\n\n\t\t// make index.html active\n\t\tconst indexHtml4 = input('index.html');\n\t\tgroup.setActive(indexHtml4);\n\t\tassert.strictEqual(group.activeEditor, indexHtml2);\n\n\t\t// [test.js, /other.ts/, index.html] -> [test.js, /other.ts/]\n\t\tgroup.closeEditor(indexHtml);\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(group.activeEditor, otherTs);\n\t\tassert.ok(group.getEditors(EditorsOrder.SEQUENTIAL)[0].matches(testJs));\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[1], otherTs);\n\n\t\t// [test.js, /other.ts/] -> [test.js]\n\t\tgroup.closeEditor(otherTs);\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.activeEditor, testJs);\n\t\tassert.ok(group.getEditors(EditorsOrder.SEQUENTIAL)[0].matches(testJs));\n\n\t\t// [test.js] -> /test.js/\n\t\tgroup.unpin(testJs);\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.activeEditor, testJs);\n\t\tassert.ok(group.getEditors(EditorsOrder.SEQUENTIAL)[0].matches(testJs));\n\t\tassert.strictEqual(group.isPinned(testJs), false);\n\n\t\t// /test.js/ -> []\n\t\tgroup.closeEditor(testJs);\n\t\tassert.strictEqual(group.count, 0);\n\t\tassert.strictEqual(group.activeEditor, null);\n\t\tassert.strictEqual(group.previewEditor, null);\n\t});\n\n\ttest('Single Group, Single Editor - persist', function () {\n\t\tconst inst = new TestInstantiationService();\n\n\t\tinst.stub(IStorageService, disposables.add(new TestStorageService()));\n\t\tinst.stub(IWorkspaceContextService, new TestContextService());\n\t\tconst lifecycle = disposables.add(new TestLifecycleService());\n\t\tinst.stub(ILifecycleService, lifecycle);\n\t\tinst.stub(ITelemetryService, NullTelemetryService);\n\n\t\tconst config = new TestConfigurationService();\n\t\tconfig.setUserConfiguration('workbench', { editor: { openPositioning: 'right' } });\n\t\tinst.stub(IConfigurationService, config);\n\n\t\tinst.invokeFunction(accessor => Registry.as<IEditorFactoryRegistry>(EditorExtensions.EditorFactory).start(accessor));\n\n\t\tlet group = createEditorGroupModel();\n\n\t\tconst input1 = input();\n\t\tgroup.openEditor(input1);\n\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.activeEditor!.matches(input1), true);\n\t\tassert.strictEqual(group.previewEditor!.matches(input1), true);\n\t\tassert.strictEqual(group.isActive(input1), true);\n\n\t\t// Create model again - should load from storage\n\t\tgroup = disposables.add(inst.createInstance(EditorGroupModel, group.serialize()));\n\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.activeEditor!.matches(input1), true);\n\t\tassert.strictEqual(group.previewEditor!.matches(input1), true);\n\t\tassert.strictEqual(group.isActive(input1), true);\n\t\tinst.dispose();\n\t});\n\n\ttest('Multiple Groups, Multiple editors - persist', function () {\n\t\tconst inst = new TestInstantiationService();\n\n\t\tinst.stub(IStorageService, disposables.add(new TestStorageService()));\n\t\tinst.stub(IWorkspaceContextService, new TestContextService());\n\t\tconst lifecycle = disposables.add(new TestLifecycleService());\n\t\tinst.stub(ILifecycleService, lifecycle);\n\t\tinst.stub(ITelemetryService, NullTelemetryService);\n\n\t\tconst config = new TestConfigurationService();\n\t\tconfig.setUserConfiguration('workbench', { editor: { openPositioning: 'right' } });\n\t\tinst.stub(IConfigurationService, config);\n\n\t\tinst.invokeFunction(accessor => Registry.as<IEditorFactoryRegistry>(EditorExtensions.EditorFactory).start(accessor));\n\n\t\tlet group1 = createEditorGroupModel();\n\n\t\tconst g1_input1 = input();\n\t\tconst g1_input2 = input();\n\t\tconst g1_input3 = input();\n\n\t\tgroup1.openEditor(g1_input1, { active: true, pinned: true });\n\t\tgroup1.openEditor(g1_input2, { active: true, pinned: false });\n\t\tgroup1.openEditor(g1_input3, { active: false, pinned: true });\n\n\t\tlet group2 = createEditorGroupModel();\n\n\t\tconst g2_input1 = input();\n\t\tconst g2_input2 = input();\n\t\tconst g2_input3 = input();\n\n\t\tgroup2.openEditor(g2_input1, { active: true, pinned: true });\n\t\tgroup2.openEditor(g2_input2, { active: false, pinned: false });\n\t\tgroup2.openEditor(g2_input3, { active: false, pinned: true });\n\n\t\tassert.strictEqual(group1.count, 3);\n\t\tassert.strictEqual(group2.count, 3);\n\t\tassert.strictEqual(group1.activeEditor!.matches(g1_input2), true);\n\t\tassert.strictEqual(group2.activeEditor!.matches(g2_input1), true);\n\t\tassert.strictEqual(group1.previewEditor!.matches(g1_input2), true);\n\t\tassert.strictEqual(group2.previewEditor!.matches(g2_input2), true);\n\n\t\tassert.strictEqual(group1.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[0].matches(g1_input2), true);\n\t\tassert.strictEqual(group1.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[1].matches(g1_input3), true);\n\t\tassert.strictEqual(group1.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[2].matches(g1_input1), true);\n\n\t\tassert.strictEqual(group2.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[0].matches(g2_input1), true);\n\t\tassert.strictEqual(group2.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[1].matches(g2_input3), true);\n\t\tassert.strictEqual(group2.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[2].matches(g2_input2), true);\n\n\t\t// Create model again - should load from storage\n\t\tgroup1 = disposables.add(inst.createInstance(EditorGroupModel, group1.serialize()));\n\t\tgroup2 = disposables.add(inst.createInstance(EditorGroupModel, group2.serialize()));\n\n\t\tassert.strictEqual(group1.count, 3);\n\t\tassert.strictEqual(group2.count, 3);\n\t\tassert.strictEqual(group1.activeEditor!.matches(g1_input2), true);\n\t\tassert.strictEqual(group2.activeEditor!.matches(g2_input1), true);\n\t\tassert.strictEqual(group1.previewEditor!.matches(g1_input2), true);\n\t\tassert.strictEqual(group2.previewEditor!.matches(g2_input2), true);\n\n\t\tassert.strictEqual(group1.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[0].matches(g1_input2), true);\n\t\tassert.strictEqual(group1.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[1].matches(g1_input3), true);\n\t\tassert.strictEqual(group1.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[2].matches(g1_input1), true);\n\n\t\tassert.strictEqual(group2.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[0].matches(g2_input1), true);\n\t\tassert.strictEqual(group2.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[1].matches(g2_input3), true);\n\t\tassert.strictEqual(group2.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[2].matches(g2_input2), true);\n\t\tinst.dispose();\n\t});\n\n\ttest('Single group, multiple editors - persist (some not persistable)', function () {\n\t\tconst inst = new TestInstantiationService();\n\n\t\tinst.stub(IStorageService, disposables.add(new TestStorageService()));\n\t\tinst.stub(IWorkspaceContextService, new TestContextService());\n\t\tconst lifecycle = disposables.add(new TestLifecycleService());\n\t\tinst.stub(ILifecycleService, lifecycle);\n\t\tinst.stub(ITelemetryService, NullTelemetryService);\n\n\t\tconst config = new TestConfigurationService();\n\t\tconfig.setUserConfiguration('workbench', { editor: { openPositioning: 'right' } });\n\t\tinst.stub(IConfigurationService, config);\n\n\t\tinst.invokeFunction(accessor => Registry.as<IEditorFactoryRegistry>(EditorExtensions.EditorFactory).start(accessor));\n\n\t\tlet group = createEditorGroupModel();\n\n\t\tconst serializableInput1 = input();\n\t\tconst nonSerializableInput2 = input('3', true);\n\t\tconst serializableInput2 = input();\n\n\t\tgroup.openEditor(serializableInput1, { active: true, pinned: true });\n\t\tgroup.openEditor(nonSerializableInput2, { active: true, pinned: false });\n\t\tgroup.openEditor(serializableInput2, { active: false, pinned: true });\n\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.activeEditor!.matches(nonSerializableInput2), true);\n\t\tassert.strictEqual(group.previewEditor!.matches(nonSerializableInput2), true);\n\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[0].matches(nonSerializableInput2), true);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[1].matches(serializableInput2), true);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[2].matches(serializableInput1), true);\n\n\t\t// Create model again - should load from storage\n\t\tgroup = disposables.add(inst.createInstance(EditorGroupModel, group.serialize()));\n\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(group.activeEditor!.matches(serializableInput2), true);\n\t\tassert.strictEqual(group.previewEditor, null);\n\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[0].matches(serializableInput2), true);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[1].matches(serializableInput1), true);\n\t\tinst.dispose();\n\t});\n\n\ttest('Single group, multiple editors - persist (some not persistable, sticky editors)', function () {\n\t\tconst inst = new TestInstantiationService();\n\n\t\tinst.stub(IStorageService, disposables.add(new TestStorageService()));\n\t\tinst.stub(IWorkspaceContextService, new TestContextService());\n\t\tconst lifecycle = disposables.add(new TestLifecycleService());\n\t\tinst.stub(ILifecycleService, lifecycle);\n\t\tinst.stub(ITelemetryService, NullTelemetryService);\n\n\t\tconst config = new TestConfigurationService();\n\t\tconfig.setUserConfiguration('workbench', { editor: { openPositioning: 'right' } });\n\t\tinst.stub(IConfigurationService, config);\n\n\t\tinst.invokeFunction(accessor => Registry.as<IEditorFactoryRegistry>(EditorExtensions.EditorFactory).start(accessor));\n\n\t\tlet group = createEditorGroupModel();\n\n\t\tconst serializableInput1 = input();\n\t\tconst nonSerializableInput2 = input('3', true);\n\t\tconst serializableInput2 = input();\n\n\t\tgroup.openEditor(serializableInput1, { active: true, pinned: true });\n\t\tgroup.openEditor(nonSerializableInput2, { active: true, pinned: true, sticky: true });\n\t\tgroup.openEditor(serializableInput2, { active: false, pinned: true });\n\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.stickyCount, 1);\n\n\t\t// Create model again - should load from storage\n\t\tgroup = disposables.add(inst.createInstance(EditorGroupModel, group.serialize()));\n\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(group.stickyCount, 0);\n\t\tinst.dispose();\n\t});\n\n\ttest('Multiple groups, multiple editors - persist (some not persistable, causes empty group)', function () {\n\t\tconst inst = new TestInstantiationService();\n\n\t\tinst.stub(IStorageService, disposables.add(new TestStorageService()));\n\t\tinst.stub(IWorkspaceContextService, new TestContextService());\n\t\tconst lifecycle = disposables.add(new TestLifecycleService());\n\t\tinst.stub(ILifecycleService, lifecycle);\n\t\tinst.stub(ITelemetryService, NullTelemetryService);\n\n\t\tconst config = new TestConfigurationService();\n\t\tconfig.setUserConfiguration('workbench', { editor: { openPositioning: 'right' } });\n\t\tinst.stub(IConfigurationService, config);\n\n\t\tinst.invokeFunction(accessor => Registry.as<IEditorFactoryRegistry>(EditorExtensions.EditorFactory).start(accessor));\n\n\t\tlet group1 = createEditorGroupModel();\n\t\tlet group2 = createEditorGroupModel();\n\n\t\tconst serializableInput1 = input();\n\t\tconst serializableInput2 = input();\n\t\tconst nonSerializableInput = input('2', true);\n\n\t\tgroup1.openEditor(serializableInput1, { pinned: true });\n\t\tgroup1.openEditor(serializableInput2);\n\n\t\tgroup2.openEditor(nonSerializableInput);\n\n\t\t// Create model again - should load from storage\n\t\tgroup1 = disposables.add(inst.createInstance(EditorGroupModel, group1.serialize()));\n\t\tgroup2 = disposables.add(inst.createInstance(EditorGroupModel, group2.serialize()));\n\n\t\tassert.strictEqual(group1.count, 2);\n\t\tassert.strictEqual(group1.getEditors(EditorsOrder.SEQUENTIAL)[0].matches(serializableInput1), true);\n\t\tassert.strictEqual(group1.getEditors(EditorsOrder.SEQUENTIAL)[1].matches(serializableInput2), true);\n\t\tinst.dispose();\n\t});\n\n\ttest('Multiple Editors - Editor Dispose', function () {\n\t\tconst group1 = createEditorGroupModel();\n\t\tconst group2 = createEditorGroupModel();\n\n\t\tconst group1Listener = groupListener(group1);\n\t\tconst group2Listener = groupListener(group2);\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\n\t\tgroup1.openEditor(input1, { pinned: true, active: true });\n\t\tgroup1.openEditor(input2, { pinned: true, active: true });\n\t\tgroup1.openEditor(input3, { pinned: true, active: true });\n\n\t\tgroup2.openEditor(input1, { pinned: true, active: true });\n\t\tgroup2.openEditor(input2, { pinned: true, active: true });\n\n\t\tinput1.dispose();\n\n\t\tassert.strictEqual(group1Listener.disposed.length, 1);\n\t\tassert.strictEqual(group1Listener.disposed[0].editorIndex, 0);\n\t\tassert.strictEqual(group2Listener.disposed.length, 1);\n\t\tassert.strictEqual(group2Listener.disposed[0].editorIndex, 0);\n\t\tassert.ok(group1Listener.disposed[0].editor.matches(input1));\n\t\tassert.ok(group2Listener.disposed[0].editor.matches(input1));\n\n\t\tinput3.dispose();\n\t\tassert.strictEqual(group1Listener.disposed.length, 2);\n\t\tassert.strictEqual(group1Listener.disposed[1].editorIndex, 2);\n\t\tassert.strictEqual(group2Listener.disposed.length, 1);\n\t\tassert.ok(group1Listener.disposed[1].editor.matches(input3));\n\t});\n\n\ttest('Preview tab does not have a stable position (https://github.com/microsoft/vscode/issues/8245)', function () {\n\t\tconst group1 = createEditorGroupModel();\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\n\t\tgroup1.openEditor(input1, { pinned: true, active: true });\n\t\tgroup1.openEditor(input2, { active: true });\n\t\tgroup1.setActive(input1);\n\n\t\tgroup1.openEditor(input3, { active: true });\n\t\tassert.strictEqual(group1.indexOf(input3), 1);\n\t});\n\n\ttest('Multiple Editors - Editor Emits Dirty and Label Changed', function () {\n\t\tconst group1 = createEditorGroupModel();\n\t\tconst group2 = createEditorGroupModel();\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\n\t\tgroup1.openEditor(input1, { pinned: true, active: true });\n\t\tgroup2.openEditor(input2, { pinned: true, active: true });\n\n\t\tlet dirty1Counter = 0;\n\t\tdisposables.add(group1.onDidModelChange((e) => {\n\t\t\tif (e.kind === GroupModelChangeKind.EDITOR_DIRTY) {\n\t\t\t\tdirty1Counter++;\n\t\t\t}\n\t\t}));\n\n\t\tlet dirty2Counter = 0;\n\t\tdisposables.add(group2.onDidModelChange((e) => {\n\t\t\tif (e.kind === GroupModelChangeKind.EDITOR_DIRTY) {\n\t\t\t\tdirty2Counter++;\n\t\t\t}\n\t\t}));\n\n\t\tlet label1ChangeCounter = 0;\n\t\tdisposables.add(group1.onDidModelChange((e) => {\n\t\t\tif (e.kind === GroupModelChangeKind.EDITOR_LABEL) {\n\t\t\t\tlabel1ChangeCounter++;\n\t\t\t}\n\t\t}));\n\n\t\tlet label2ChangeCounter = 0;\n\t\tdisposables.add(group2.onDidModelChange((e) => {\n\t\t\tif (e.kind === GroupModelChangeKind.EDITOR_LABEL) {\n\t\t\t\tlabel2ChangeCounter++;\n\t\t\t}\n\t\t}));\n\n\t\t(<TestEditorInput>input1).setDirty();\n\t\t(<TestEditorInput>input1).setLabel();\n\n\t\tassert.strictEqual(dirty1Counter, 1);\n\t\tassert.strictEqual(label1ChangeCounter, 1);\n\n\t\t(<TestEditorInput>input2).setDirty();\n\t\t(<TestEditorInput>input2).setLabel();\n\n\t\tassert.strictEqual(dirty2Counter, 1);\n\t\tassert.strictEqual(label2ChangeCounter, 1);\n\n\t\tcloseAllEditors(group2);\n\n\t\t(<TestEditorInput>input2).setDirty();\n\t\t(<TestEditorInput>input2).setLabel();\n\n\t\tassert.strictEqual(dirty2Counter, 1);\n\t\tassert.strictEqual(label2ChangeCounter, 1);\n\t\tassert.strictEqual(dirty1Counter, 1);\n\t\tassert.strictEqual(label1ChangeCounter, 1);\n\t});\n\n\ttest('Sticky Editors', function () {\n\t\tconst group = createEditorGroupModel();\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\t\tconst input4 = input();\n\n\t\tgroup.openEditor(input1, { pinned: true, active: true });\n\t\tgroup.openEditor(input2, { pinned: true, active: true });\n\t\tgroup.openEditor(input3, { pinned: false, active: true });\n\n\t\tassert.strictEqual(group.stickyCount, 0);\n\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL).length, 3);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL, { excludeSticky: true }).length, 3);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 3);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE, { excludeSticky: true }).length, 3);\n\n\t\t// Stick last editor should move it first and pin\n\t\tgroup.stick(input3);\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE, { excludeSticky: true }).length, 2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE, { excludeSticky: false }).length, 3);\n\t\tassert.strictEqual(group.isSticky(input1), false);\n\t\tassert.strictEqual(group.isSticky(input2), false);\n\t\tassert.strictEqual(group.isSticky(input3), true);\n\t\tassert.strictEqual(group.isPinned(input3), true);\n\t\tassert.strictEqual(group.indexOf(input1), 1);\n\t\tassert.strictEqual(group.indexOf(input2), 2);\n\t\tassert.strictEqual(group.indexOf(input3), 0);\n\n\t\tlet sequentialAllEditors = group.getEditors(EditorsOrder.SEQUENTIAL);\n\t\tassert.strictEqual(sequentialAllEditors.length, 3);\n\t\tlet sequentialEditorsExcludingSticky = group.getEditors(EditorsOrder.SEQUENTIAL, { excludeSticky: true });\n\t\tassert.strictEqual(sequentialEditorsExcludingSticky.length, 2);\n\t\tassert.ok(sequentialEditorsExcludingSticky.indexOf(input1) >= 0);\n\t\tassert.ok(sequentialEditorsExcludingSticky.indexOf(input2) >= 0);\n\t\tlet mruAllEditors = group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE);\n\t\tassert.strictEqual(mruAllEditors.length, 3);\n\t\tlet mruEditorsExcludingSticky = group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE, { excludeSticky: true });\n\t\tassert.strictEqual(mruEditorsExcludingSticky.length, 2);\n\t\tassert.ok(mruEditorsExcludingSticky.indexOf(input1) >= 0);\n\t\tassert.ok(mruEditorsExcludingSticky.indexOf(input2) >= 0);\n\n\t\t// Sticking same editor again is a no-op\n\t\tgroup.stick(input3);\n\t\tassert.strictEqual(group.isSticky(input3), true);\n\n\t\t// Sticking last editor now should move it after sticky one\n\t\tgroup.stick(input2);\n\t\tassert.strictEqual(group.stickyCount, 2);\n\t\tassert.strictEqual(group.isSticky(input1), false);\n\t\tassert.strictEqual(group.isSticky(input2), true);\n\t\tassert.strictEqual(group.isSticky(input3), true);\n\t\tassert.strictEqual(group.indexOf(input1), 2);\n\t\tassert.strictEqual(group.indexOf(input2), 1);\n\t\tassert.strictEqual(group.indexOf(input3), 0);\n\n\t\tsequentialAllEditors = group.getEditors(EditorsOrder.SEQUENTIAL);\n\t\tassert.strictEqual(sequentialAllEditors.length, 3);\n\t\tsequentialEditorsExcludingSticky = group.getEditors(EditorsOrder.SEQUENTIAL, { excludeSticky: true });\n\t\tassert.strictEqual(sequentialEditorsExcludingSticky.length, 1);\n\t\tassert.ok(sequentialEditorsExcludingSticky.indexOf(input1) >= 0);\n\t\tmruAllEditors = group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE);\n\t\tassert.strictEqual(mruAllEditors.length, 3);\n\t\tmruEditorsExcludingSticky = group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE, { excludeSticky: true });\n\t\tassert.strictEqual(mruEditorsExcludingSticky.length, 1);\n\t\tassert.ok(mruEditorsExcludingSticky.indexOf(input1) >= 0);\n\n\t\t// Sticking remaining editor also works\n\t\tgroup.stick(input1);\n\t\tassert.strictEqual(group.stickyCount, 3);\n\t\tassert.strictEqual(group.isSticky(input1), true);\n\t\tassert.strictEqual(group.isSticky(input2), true);\n\t\tassert.strictEqual(group.isSticky(input3), true);\n\t\tassert.strictEqual(group.indexOf(input1), 2);\n\t\tassert.strictEqual(group.indexOf(input2), 1);\n\t\tassert.strictEqual(group.indexOf(input3), 0);\n\n\t\tsequentialAllEditors = group.getEditors(EditorsOrder.SEQUENTIAL);\n\t\tassert.strictEqual(sequentialAllEditors.length, 3);\n\t\tsequentialEditorsExcludingSticky = group.getEditors(EditorsOrder.SEQUENTIAL, { excludeSticky: true });\n\t\tassert.strictEqual(sequentialEditorsExcludingSticky.length, 0);\n\t\tmruAllEditors = group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE);\n\t\tassert.strictEqual(mruAllEditors.length, 3);\n\t\tmruEditorsExcludingSticky = group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE, { excludeSticky: true });\n\t\tassert.strictEqual(mruEditorsExcludingSticky.length, 0);\n\n\t\t// Unsticking moves editor after sticky ones\n\t\tgroup.unstick(input3);\n\t\tassert.strictEqual(group.stickyCount, 2);\n\t\tassert.strictEqual(group.isSticky(input1), true);\n\t\tassert.strictEqual(group.isSticky(input2), true);\n\t\tassert.strictEqual(group.isSticky(input3), false);\n\t\tassert.strictEqual(group.indexOf(input1), 1);\n\t\tassert.strictEqual(group.indexOf(input2), 0);\n\t\tassert.strictEqual(group.indexOf(input3), 2);\n\n\t\t// Unsticking all works\n\t\tgroup.unstick(input1);\n\t\tgroup.unstick(input2);\n\t\tassert.strictEqual(group.stickyCount, 0);\n\t\tassert.strictEqual(group.isSticky(input1), false);\n\t\tassert.strictEqual(group.isSticky(input2), false);\n\t\tassert.strictEqual(group.isSticky(input3), false);\n\n\t\tgroup.moveEditor(input1, 0);\n\t\tgroup.moveEditor(input2, 1);\n\t\tgroup.moveEditor(input3, 2);\n\n\t\t// Opening a new editor always opens after sticky editors\n\t\tgroup.stick(input1);\n\t\tgroup.stick(input2);\n\t\tgroup.setActive(input1);\n\n\t\tconst events = groupListener(group);\n\n\t\tgroup.openEditor(input4, { pinned: true, active: true });\n\t\tassert.strictEqual(group.indexOf(input4), 2);\n\t\tgroup.closeEditor(input4);\n\n\t\tassert.strictEqual(events.closed[0].sticky, false);\n\n\t\tgroup.setActive(input2);\n\n\t\tgroup.openEditor(input4, { pinned: true, active: true });\n\t\tassert.strictEqual(group.indexOf(input4), 2);\n\t\tgroup.closeEditor(input4);\n\n\t\tassert.strictEqual(events.closed[1].sticky, false);\n\n\t\t// Reset\n\t\tassert.strictEqual(group.stickyCount, 2);\n\t\tassert.strictEqual(group.isSticky(input1), true);\n\t\tassert.strictEqual(group.isSticky(input2), true);\n\t\tassert.strictEqual(group.isSticky(input3), false);\n\t\tassert.strictEqual(group.indexOf(input1), 0);\n\t\tassert.strictEqual(group.indexOf(input2), 1);\n\t\tassert.strictEqual(group.indexOf(input3), 2);\n\n\t\t// Moving a sticky editor works\n\t\tgroup.moveEditor(input1, 1); // still moved within sticky range\n\t\tassert.strictEqual(group.isSticky(input1), true);\n\t\tassert.strictEqual(group.isSticky(input2), true);\n\t\tassert.strictEqual(group.isSticky(input3), false);\n\t\tassert.strictEqual(group.indexOf(input1), 1);\n\t\tassert.strictEqual(group.indexOf(input2), 0);\n\t\tassert.strictEqual(group.indexOf(input3), 2);\n\n\t\tgroup.moveEditor(input1, 0); // still moved within sticky range\n\t\tassert.strictEqual(group.isSticky(input1), true);\n\t\tassert.strictEqual(group.isSticky(input2), true);\n\t\tassert.strictEqual(group.isSticky(input3), false);\n\t\tassert.strictEqual(group.indexOf(input1), 0);\n\t\tassert.strictEqual(group.indexOf(input2), 1);\n\t\tassert.strictEqual(group.indexOf(input3), 2);\n\n\t\tgroup.moveEditor(input1, 2); // moved out of sticky range//\n\t\tassert.strictEqual(group.isSticky(input1), false);\n\t\tassert.strictEqual(group.isSticky(input2), true);\n\t\tassert.strictEqual(group.isSticky(input3), false);\n\t\tassert.strictEqual(group.indexOf(input1), 2);\n\t\tassert.strictEqual(group.indexOf(input2), 0);\n\t\tassert.strictEqual(group.indexOf(input3), 1);\n\n\t\tgroup.moveEditor(input2, 2); // moved out of sticky range\n\t\tassert.strictEqual(group.isSticky(input1), false);\n\t\tassert.strictEqual(group.isSticky(input2), false);\n\t\tassert.strictEqual(group.isSticky(input3), false);\n\t\tassert.strictEqual(group.indexOf(input1), 1);\n\t\tassert.strictEqual(group.indexOf(input2), 2);\n\t\tassert.strictEqual(group.indexOf(input3), 0);\n\n\t\t// Reset\n\t\tgroup.moveEditor(input1, 0);\n\t\tgroup.moveEditor(input2, 1);\n\t\tgroup.moveEditor(input3, 2);\n\t\tgroup.stick(input1);\n\t\tgroup.unstick(input2);\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tassert.strictEqual(group.isSticky(input1), true);\n\t\tassert.strictEqual(group.isSticky(input2), false);\n\t\tassert.strictEqual(group.isSticky(input3), false);\n\t\tassert.strictEqual(group.indexOf(input1), 0);\n\t\tassert.strictEqual(group.indexOf(input2), 1);\n\t\tassert.strictEqual(group.indexOf(input3), 2);\n\n\t\t// Moving a unsticky editor in works\n\t\tgroup.moveEditor(input3, 1); // still moved within unsticked range\n\t\tassert.strictEqual(group.isSticky(input1), true);\n\t\tassert.strictEqual(group.isSticky(input2), false);\n\t\tassert.strictEqual(group.isSticky(input3), false);\n\t\tassert.strictEqual(group.indexOf(input1), 0);\n\t\tassert.strictEqual(group.indexOf(input2), 2);\n\t\tassert.strictEqual(group.indexOf(input3), 1);\n\n\t\tgroup.moveEditor(input3, 2); // still moved within unsticked range\n\t\tassert.strictEqual(group.isSticky(input1), true);\n\t\tassert.strictEqual(group.isSticky(input2), false);\n\t\tassert.strictEqual(group.isSticky(input3), false);\n\t\tassert.strictEqual(group.indexOf(input1), 0);\n\t\tassert.strictEqual(group.indexOf(input2), 1);\n\t\tassert.strictEqual(group.indexOf(input3), 2);\n\n\t\tgroup.moveEditor(input3, 0); // moved into sticky range//\n\t\tassert.strictEqual(group.isSticky(input1), true);\n\t\tassert.strictEqual(group.isSticky(input2), false);\n\t\tassert.strictEqual(group.isSticky(input3), true);\n\t\tassert.strictEqual(group.indexOf(input1), 1);\n\t\tassert.strictEqual(group.indexOf(input2), 2);\n\t\tassert.strictEqual(group.indexOf(input3), 0);\n\n\t\tgroup.moveEditor(input2, 0); // moved into sticky range\n\t\tassert.strictEqual(group.isSticky(input1), true);\n\t\tassert.strictEqual(group.isSticky(input2), true);\n\t\tassert.strictEqual(group.isSticky(input3), true);\n\t\tassert.strictEqual(group.indexOf(input1), 2);\n\t\tassert.strictEqual(group.indexOf(input2), 0);\n\t\tassert.strictEqual(group.indexOf(input3), 1);\n\n\t\t// Closing a sticky editor updates state properly\n\t\tgroup.stick(input1);\n\t\tgroup.stick(input2);\n\t\tgroup.unstick(input3);\n\t\tassert.strictEqual(group.stickyCount, 2);\n\t\tgroup.closeEditor(input1);\n\t\tassert.strictEqual(events.closed[2].sticky, true);\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tgroup.closeEditor(input2);\n\t\tassert.strictEqual(events.closed[3].sticky, true);\n\t\tassert.strictEqual(group.stickyCount, 0);\n\n\t\tcloseAllEditors(group);\n\t\tassert.strictEqual(group.stickyCount, 0);\n\n\t\t// Open sticky\n\t\tgroup.openEditor(input1, { sticky: true });\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tassert.strictEqual(group.isSticky(input1), true);\n\n\t\tgroup.openEditor(input2, { pinned: true, active: true });\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tassert.strictEqual(group.isSticky(input1), true);\n\t\tassert.strictEqual(group.isSticky(input2), false);\n\n\t\tgroup.openEditor(input2, { sticky: true });\n\t\tassert.strictEqual(group.stickyCount, 2);\n\t\tassert.strictEqual(group.isSticky(input1), true);\n\t\tassert.strictEqual(group.isSticky(input2), true);\n\n\t\tgroup.openEditor(input3, { pinned: true, active: true });\n\t\tgroup.openEditor(input4, { pinned: false, active: true, sticky: true });\n\t\tassert.strictEqual(group.stickyCount, 3);\n\t\tassert.strictEqual(group.isSticky(input1), true);\n\t\tassert.strictEqual(group.isSticky(input2), true);\n\t\tassert.strictEqual(group.isSticky(input3), false);\n\t\tassert.strictEqual(group.isSticky(input4), true);\n\t\tassert.strictEqual(group.isPinned(input4), true);\n\n\t\tassert.strictEqual(group.indexOf(input1), 0);\n\t\tassert.strictEqual(group.indexOf(input2), 1);\n\t\tassert.strictEqual(group.indexOf(input3), 3);\n\t\tassert.strictEqual(group.indexOf(input4), 2);\n\t});\n\n\ttest('Sticky/Unsticky Editors sends correct editor index', function () {\n\t\tconst group = createEditorGroupModel();\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\n\t\tgroup.openEditor(input1, { pinned: true, active: true });\n\t\tgroup.openEditor(input2, { pinned: true, active: true });\n\t\tgroup.openEditor(input3, { pinned: false, active: true });\n\n\t\tassert.strictEqual(group.stickyCount, 0);\n\n\t\tconst events = groupListener(group);\n\n\t\tgroup.stick(input3);\n\n\t\tassert.strictEqual(events.sticky[0].editorIndex, 0);\n\t\tassert.strictEqual(group.isSticky(input3), true);\n\t\tassert.strictEqual(group.stickyCount, 1);\n\n\t\tgroup.stick(input2);\n\n\t\tassert.strictEqual(events.sticky[1].editorIndex, 1);\n\t\tassert.strictEqual(group.isSticky(input2), true);\n\t\tassert.strictEqual(group.stickyCount, 2);\n\n\t\tgroup.unstick(input3);\n\t\tassert.strictEqual(events.unsticky[0].editorIndex, 1);\n\t\tassert.strictEqual(group.isSticky(input3), false);\n\t\tassert.strictEqual(group.isSticky(input2), true);\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t});\n\n\ttest('onDidMoveEditor Event', () => {\n\t\tconst group1 = createEditorGroupModel();\n\t\tconst group2 = createEditorGroupModel();\n\n\t\tconst input1group1 = input();\n\t\tconst input2group1 = input();\n\t\tconst input1group2 = input();\n\t\tconst input2group2 = input();\n\n\t\t// Open all the editors\n\t\tgroup1.openEditor(input1group1, { pinned: true, active: true, index: 0 });\n\t\tgroup1.openEditor(input2group1, { pinned: true, active: false, index: 1 });\n\t\tgroup2.openEditor(input1group2, { pinned: true, active: true, index: 0 });\n\t\tgroup2.openEditor(input2group2, { pinned: true, active: false, index: 1 });\n\n\t\tconst group1Events = groupListener(group1);\n\t\tconst group2Events = groupListener(group2);\n\n\t\tgroup1.moveEditor(input1group1, 1);\n\t\tassert.strictEqual(group1Events.moved[0].editor, input1group1);\n\t\tassert.strictEqual(group1Events.moved[0].oldEditorIndex, 0);\n\t\tassert.strictEqual(group1Events.moved[0].editorIndex, 1);\n\n\t\tgroup2.moveEditor(input1group2, 1);\n\t\tassert.strictEqual(group2Events.moved[0].editor, input1group2);\n\t\tassert.strictEqual(group2Events.moved[0].oldEditorIndex, 0);\n\t\tassert.strictEqual(group2Events.moved[0].editorIndex, 1);\n\t});\n\n\ttest('onDidOpeneditor Event', () => {\n\t\tconst group1 = createEditorGroupModel();\n\t\tconst group2 = createEditorGroupModel();\n\n\t\tconst group1Events = groupListener(group1);\n\t\tconst group2Events = groupListener(group2);\n\n\t\tconst input1group1 = input();\n\t\tconst input2group1 = input();\n\t\tconst input1group2 = input();\n\t\tconst input2group2 = input();\n\n\t\t// Open all the editors\n\t\tgroup1.openEditor(input1group1, { pinned: true, active: true, index: 0 });\n\t\tgroup1.openEditor(input2group1, { pinned: true, active: false, index: 1 });\n\t\tgroup2.openEditor(input1group2, { pinned: true, active: true, index: 0 });\n\t\tgroup2.openEditor(input2group2, { pinned: true, active: false, index: 1 });\n\n\t\tassert.strictEqual(group1Events.opened.length, 2);\n\t\tassert.strictEqual(group1Events.opened[0].editor, input1group1);\n\t\tassert.strictEqual(group1Events.opened[0].editorIndex, 0);\n\t\tassert.strictEqual(group1Events.opened[1].editor, input2group1);\n\t\tassert.strictEqual(group1Events.opened[1].editorIndex, 1);\n\n\t\tassert.strictEqual(group2Events.opened.length, 2);\n\t\tassert.strictEqual(group2Events.opened[0].editor, input1group2);\n\t\tassert.strictEqual(group2Events.opened[0].editorIndex, 0);\n\t\tassert.strictEqual(group2Events.opened[1].editor, input2group2);\n\t\tassert.strictEqual(group2Events.opened[1].editorIndex, 1);\n\t});\n\n\ttest('moving editor sends sticky event when sticky changes', () => {\n\t\tconst group1 = createEditorGroupModel();\n\n\t\tconst input1group1 = input();\n\t\tconst input2group1 = input();\n\t\tconst input3group1 = input();\n\n\t\t// Open all the editors\n\t\tgroup1.openEditor(input1group1, { pinned: true, active: true, index: 0, sticky: true });\n\t\tgroup1.openEditor(input2group1, { pinned: true, active: false, index: 1 });\n\t\tgroup1.openEditor(input3group1, { pinned: true, active: false, index: 2 });\n\n\t\tconst group1Events = groupListener(group1);\n\n\t\tgroup1.moveEditor(input2group1, 0);\n\t\tassert.strictEqual(group1Events.sticky[0].editor, input2group1);\n\t\tassert.strictEqual(group1Events.sticky[0].editorIndex, 0);\n\n\t\tconst group2 = createEditorGroupModel();\n\n\t\tconst input1group2 = input();\n\t\tconst input2group2 = input();\n\t\tconst input3group2 = input();\n\n\t\t// Open all the editors\n\t\tgroup2.openEditor(input1group2, { pinned: true, active: true, index: 0, sticky: true });\n\t\tgroup2.openEditor(input2group2, { pinned: true, active: false, index: 1 });\n\t\tgroup2.openEditor(input3group2, { pinned: true, active: false, index: 2 });\n\n\t\tconst group2Events = groupListener(group2);\n\n\t\tgroup2.moveEditor(input1group2, 1);\n\t\tassert.strictEqual(group2Events.unsticky[0].editor, input1group2);\n\t\tassert.strictEqual(group2Events.unsticky[0].editorIndex, 1);\n\t});\n\n\tfunction assertSelection(group: EditorGroupModel, activeEditor: EditorInput, selectedEditors: EditorInput[]): void {\n\t\tassert.strictEqual(group.activeEditor, activeEditor);\n\t\tassert.strictEqual(group.selectedEditors.length, selectedEditors.length);\n\t\tfor (let i = 0; i < selectedEditors.length; i++) {\n\t\t\tassert.strictEqual(group.selectedEditors[i], selectedEditors[i]);\n\t\t}\n\t}\n\n\ttest('editor selection: selectedEditors', () => {\n\t\tconst group = createEditorGroupModel();\n\n\t\tconst activeEditor = group.activeEditor;\n\t\tconst selectedEditors = group.selectedEditors;\n\t\tassert.strictEqual(activeEditor, null);\n\t\tassert.strictEqual(selectedEditors.length, 0);\n\n\t\t// active editor: input1, selection: [input1]\n\t\tconst input1 = input();\n\t\tgroup.openEditor(input1, { pinned: true, active: true, index: 0 });\n\t\tassertSelection(group, input1, [input1]);\n\n\t\t// active editor: input3, selection: [input3]\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\t\tgroup.openEditor(input2, { pinned: true, active: true, index: 1 });\n\t\tgroup.openEditor(input3, { pinned: true, active: true, index: 2 });\n\t\tassertSelection(group, input3, [input3]);\n\n\t\t// active editor: input2, selection: [input1, input2] (in sequential order)\n\t\tgroup.setSelection(input2, [input1]);\n\t\tassertSelection(group, input2, [input1, input2]);\n\t});\n\n\ttest('editor selection: openEditor with inactive selection', () => {\n\t\tconst group = createEditorGroupModel();\n\n\t\t// active editor: input3, selection: [input3]\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\t\tgroup.openEditor(input1, { pinned: true, active: true, index: 0 });\n\t\tgroup.openEditor(input2, { pinned: true, active: true, index: 1 });\n\t\tgroup.openEditor(input3, { pinned: true, active: true, index: 2 });\n\n\t\t// active editor: input2, selection: [input1, input2, input3] (in sequential order)\n\t\tgroup.openEditor(input2, { active: true, inactiveSelection: [input3, input1] });\n\t\tassertSelection(group, input2, [input1, input2, input3]);\n\n\t\t// active editor: input1, selection: [input1, input3] (in sequential order)\n\t\t// test duplicate entries\n\t\tgroup.openEditor(input1, { active: true, inactiveSelection: [input3, input1, input3] });\n\t\tassertSelection(group, input1, [input1, input3]);\n\n\t\t// active editor: input1, selection: [input1, input2] (in sequential order)\n\t\t// open new Editor as inactive with selection\n\t\tconst input4 = input();\n\t\tgroup.openEditor(input4, { pinned: true, active: false, inactiveSelection: [input2], index: 3 });\n\t\tassertSelection(group, input1, [input1, input2]);\n\n\t\t// active editor: input5, selection: [input4, input5] (in sequential order)\n\t\t// open new Editor as active with selection\n\t\tconst input5 = input();\n\t\tgroup.openEditor(input5, { pinned: true, active: true, inactiveSelection: [input4], index: 4 });\n\t\tassertSelection(group, input5, [input4, input5]);\n\t});\n\n\ttest('editor selection: closeEditor keeps selection', () => {\n\t\tconst group = createEditorGroupModel();\n\n\t\t// active editor: input3, selection: [input3]\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\t\tgroup.openEditor(input1, { pinned: true, active: true, index: 0 });\n\t\tgroup.openEditor(input2, { pinned: true, active: true, index: 1 });\n\t\tgroup.openEditor(input3, { pinned: true, active: true, index: 2 });\n\n\t\tgroup.setSelection(input2, [input3, input1]);\n\t\tgroup.closeEditor(input3);\n\t\tassertSelection(group, input2, [input1, input2]);\n\t});\n\n\ttest('editor selection: setSeletion', () => {\n\t\tconst group = createEditorGroupModel();\n\n\t\t// active editor: input3, selection: [input3]\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\t\tgroup.openEditor(input1, { pinned: true, active: true, index: 0 });\n\t\tgroup.openEditor(input2, { pinned: true, active: true, index: 1 });\n\t\tgroup.openEditor(input3, { pinned: true, active: true, index: 2 });\n\n\t\t// active editor: input2, selection: [input1, input2, input3] (in sequential order)\n\t\tgroup.setSelection(input2, [input3, input1]);\n\t\tassertSelection(group, input2, [input1, input2, input3]);\n\n\t\t// active editor: input3, selection: [input3]\n\t\tgroup.setSelection(input3, []);\n\t\tassertSelection(group, input3, [input3]);\n\n\t\t// active editor: input2, selection: [input1, input2]\n\t\t// test duplicate entries\n\t\tgroup.setSelection(input2, [input1, input2, input1]);\n\t\tassertSelection(group, input2, [input1, input2]);\n\t});\n\n\ttest('editor selection: isSelected', () => {\n\t\tconst group = createEditorGroupModel();\n\n\t\t// active editor: input3, selection: [input3]\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\t\tgroup.openEditor(input1, { pinned: true, active: true, index: 0 });\n\t\tgroup.openEditor(input2, { pinned: true, active: true, index: 1 });\n\t\tgroup.openEditor(input3, { pinned: true, active: true, index: 2 });\n\n\t\t// active editor: input2, selection: [input1, input2, input3] (in sequential order)\n\t\tgroup.setSelection(input2, [input3, input1]);\n\n\t\tassert.strictEqual(group.isSelected(input1), true);\n\t\tassert.strictEqual(group.isSelected(input2), true);\n\t\tassert.strictEqual(group.isSelected(input3), true);\n\n\t\t// active editor: input3, selection: [input3]\n\t\tgroup.setSelection(input3, []);\n\n\t\tassert.strictEqual(group.isSelected(input1), false);\n\t\tassert.strictEqual(group.isSelected(input2), false);\n\t\tassert.strictEqual(group.isSelected(input3), true);\n\n\t\t// use index\n\t\tassert.strictEqual(group.isSelected(0), false);\n\t\tassert.strictEqual(group.isSelected(1), false);\n\t\tassert.strictEqual(group.isSelected(2), true);\n\t});\n\n\ttest('editor selection: select invalid editor', () => {\n\t\tconst group = createEditorGroupModel();\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tgroup.openEditor(input1, { pinned: true, active: true, index: 0 });\n\n\t\tgroup.setSelection(input2, [input1]);\n\n\t\tassert.strictEqual(group.activeEditor, input1);\n\t\tassert.strictEqual(group.selectedEditors.length, 1);\n\t\tassert.strictEqual(group.isSelected(input1), true);\n\t\tassert.strictEqual(group.isSelected(input1), true);\n\t\tassert.strictEqual(group.isSelected(input2), false);\n\n\t\tgroup.setSelection(input1, [input2]);\n\n\t\tassert.strictEqual(group.activeEditor, input1);\n\t\tassert.strictEqual(group.selectedEditors.length, 1);\n\t\tassert.strictEqual(group.isSelected(input1), true);\n\t\tassert.strictEqual(group.isSelected(input1), true);\n\t\tassert.strictEqual(group.isSelected(input2), false);\n\t});\n\n\ttest('editor transient: basics', () => {\n\t\tconst group = createEditorGroupModel();\n\t\tconst events = groupListener(group);\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tgroup.openEditor(input1, { pinned: true, active: true });\n\n\t\tassert.strictEqual(group.isTransient(input1), false);\n\t\tassert.strictEqual(events.transient.length, 0);\n\n\t\tgroup.openEditor(input2, { pinned: true, active: true, transient: true });\n\t\tassert.strictEqual(events.transient[0].editor, input2);\n\n\t\tassert.strictEqual(group.isTransient(input2), true);\n\n\t\tgroup.setTransient(input1, true);\n\t\tassert.strictEqual(group.isTransient(input1), true);\n\t\tassert.strictEqual(events.transient[1].editor, input1);\n\n\t\tgroup.setTransient(input2, false);\n\t\tassert.strictEqual(group.isTransient(input2), false);\n\t\tassert.strictEqual(events.transient[2].editor, input2);\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { EditorGroupModel, IGroupEditorChangeEvent, IGroupEditorCloseEvent, IGroupEditorMoveEvent, IGroupEditorOpenEvent, ISerializedEditorGroupModel, isGroupEditorChangeEvent, isGroupEditorCloseEvent, isGroupEditorMoveEvent, isGroupEditorOpenEvent } from '../../../../common/editor/editorGroupModel.js';\nimport { EditorExtensions, IEditorFactoryRegistry, IFileEditorInput, IEditorSerializer, CloseDirection, EditorsOrder, IResourceDiffEditorInput, IResourceSideBySideEditorInput, SideBySideEditor, EditorCloseContext, GroupModelChangeKind } from '../../../../common/editor.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { TestLifecycleService, workbenchInstantiationService } from '../../workbenchTestServices.js';\nimport { TestConfigurationService } from '../../../../../platform/configuration/test/common/testConfigurationService.js';\nimport { TestInstantiationService } from '../../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { ILifecycleService } from '../../../../services/lifecycle/common/lifecycle.js';\nimport { IWorkspaceContextService } from '../../../../../platform/workspace/common/workspace.js';\nimport { Registry } from '../../../../../platform/registry/common/platform.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { ITelemetryService } from '../../../../../platform/telemetry/common/telemetry.js';\nimport { NullTelemetryService } from '../../../../../platform/telemetry/common/telemetryUtils.js';\nimport { DiffEditorInput } from '../../../../common/editor/diffEditorInput.js';\nimport { IStorageService } from '../../../../../platform/storage/common/storage.js';\nimport { DisposableStore, IDisposable, toDisposable } from '../../../../../base/common/lifecycle.js';\nimport { TestContextService, TestStorageService } from '../../../common/workbenchTestServices.js';\nimport { EditorInput } from '../../../../common/editor/editorInput.js';\nimport { SideBySideEditorInput } from '../../../../common/editor/sideBySideEditorInput.js';\nimport { isEqual } from '../../../../../base/common/resources.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\n\nsuite('EditorGroupModel', () => {\n\n\tlet testInstService: TestInstantiationService | undefined;\n\n\tsuiteTeardown(() => {\n\t\ttestInstService?.dispose();\n\t\ttestInstService = undefined;\n\t});\n\n\tfunction inst(): IInstantiationService {\n\t\tif (!testInstService) {\n\t\t\ttestInstService = new TestInstantiationService();\n\t\t}\n\t\tconst inst = testInstService;\n\t\tinst.stub(IStorageService, disposables.add(new TestStorageService()));\n\t\tinst.stub(ILifecycleService, disposables.add(new TestLifecycleService()));\n\t\tinst.stub(IWorkspaceContextService, new TestContextService());\n\t\tinst.stub(ITelemetryService, NullTelemetryService);\n\n\t\tconst config = new TestConfigurationService();\n\t\tconfig.setUserConfiguration('workbench', { editor: { openPositioning: 'right', focusRecentEditorAfterClose: true } });\n\t\tinst.stub(IConfigurationService, config);\n\n\t\treturn inst;\n\t}\n\n\tfunction createEditorGroupModel(serialized?: ISerializedEditorGroupModel): EditorGroupModel {\n\t\tconst group = disposables.add(inst().createInstance(EditorGroupModel, serialized));\n\n\t\tdisposables.add(toDisposable(() => {\n\t\t\tfor (const editor of group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)) {\n\t\t\t\tgroup.closeEditor(editor);\n\t\t\t}\n\t\t}));\n\n\t\treturn group;\n\t}\n\n\tfunction closeAllEditors(group: EditorGroupModel): void {\n\t\tfor (const editor of group.getEditors(EditorsOrder.SEQUENTIAL)) {\n\t\t\tgroup.closeEditor(editor, undefined, false);\n\t\t}\n\t}\n\n\tfunction closeEditors(group: EditorGroupModel, except: EditorInput, direction?: CloseDirection): void {\n\t\tconst index = group.indexOf(except);\n\t\tif (index === -1) {\n\t\t\treturn; // not found\n\t\t}\n\n\t\t// Close to the left\n\t\tif (direction === CloseDirection.LEFT) {\n\t\t\tfor (let i = index - 1; i >= 0; i--) {\n\t\t\t\tgroup.closeEditor(group.getEditorByIndex(i)!);\n\t\t\t}\n\t\t}\n\n\t\t// Close to the right\n\t\telse if (direction === CloseDirection.RIGHT) {\n\t\t\tfor (let i = group.getEditors(EditorsOrder.SEQUENTIAL).length - 1; i > index; i--) {\n\t\t\t\tgroup.closeEditor(group.getEditorByIndex(i)!);\n\t\t\t}\n\t\t}\n\n\t\t// Both directions\n\t\telse {\n\t\t\tgroup.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).filter(editor => !editor.matches(except)).forEach(editor => group.closeEditor(editor));\n\t\t}\n\t}\n\n\tinterface GroupEvents {\n\t\tlocked: number[];\n\t\tactive: number[];\n\t\tindex: number[];\n\t\tlabel: number[];\n\t\topened: IGroupEditorOpenEvent[];\n\t\tactivated: IGroupEditorChangeEvent[];\n\t\tclosed: IGroupEditorCloseEvent[];\n\t\tpinned: IGroupEditorChangeEvent[];\n\t\tunpinned: IGroupEditorChangeEvent[];\n\t\tsticky: IGroupEditorChangeEvent[];\n\t\tunsticky: IGroupEditorChangeEvent[];\n\t\ttransient: IGroupEditorChangeEvent[];\n\t\tmoved: IGroupEditorMoveEvent[];\n\t\tdisposed: IGroupEditorChangeEvent[];\n\t}\n\n\tfunction groupListener(group: EditorGroupModel): GroupEvents {\n\t\tconst groupEvents: GroupEvents = {\n\t\t\tactive: [],\n\t\t\tindex: [],\n\t\t\tlabel: [],\n\t\t\tlocked: [],\n\t\t\topened: [],\n\t\t\tclosed: [],\n\t\t\tactivated: [],\n\t\t\tpinned: [],\n\t\t\tunpinned: [],\n\t\t\tsticky: [],\n\t\t\tunsticky: [],\n\t\t\ttransient: [],\n\t\t\tmoved: [],\n\t\t\tdisposed: []\n\t\t};\n\n\t\tdisposables.add(group.onDidModelChange(e => {\n\t\t\tif (e.kind === GroupModelChangeKind.GROUP_LOCKED) {\n\t\t\t\tgroupEvents.locked.push(group.id);\n\t\t\t\treturn;\n\t\t\t} else if (e.kind === GroupModelChangeKind.GROUP_ACTIVE) {\n\t\t\t\tgroupEvents.active.push(group.id);\n\t\t\t\treturn;\n\t\t\t} else if (e.kind === GroupModelChangeKind.GROUP_INDEX) {\n\t\t\t\tgroupEvents.index.push(group.id);\n\t\t\t\treturn;\n\t\t\t} else if (e.kind === GroupModelChangeKind.GROUP_LABEL) {\n\t\t\t\tgroupEvents.label.push(group.id);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!e.editor) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tswitch (e.kind) {\n\t\t\t\tcase GroupModelChangeKind.EDITOR_OPEN:\n\t\t\t\t\tif (isGroupEditorOpenEvent(e)) {\n\t\t\t\t\t\tgroupEvents.opened.push(e);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase GroupModelChangeKind.EDITOR_CLOSE:\n\t\t\t\t\tif (isGroupEditorCloseEvent(e)) {\n\t\t\t\t\t\tgroupEvents.closed.push(e);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase GroupModelChangeKind.EDITOR_ACTIVE:\n\t\t\t\t\tif (isGroupEditorChangeEvent(e)) {\n\t\t\t\t\t\tgroupEvents.activated.push(e);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase GroupModelChangeKind.EDITOR_PIN:\n\t\t\t\t\tif (isGroupEditorChangeEvent(e)) {\n\t\t\t\t\t\tgroup.isPinned(e.editor) ? groupEvents.pinned.push(e) : groupEvents.unpinned.push(e);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase GroupModelChangeKind.EDITOR_STICKY:\n\t\t\t\t\tif (isGroupEditorChangeEvent(e)) {\n\t\t\t\t\t\tgroup.isSticky(e.editor) ? groupEvents.sticky.push(e) : groupEvents.unsticky.push(e);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase GroupModelChangeKind.EDITOR_TRANSIENT:\n\t\t\t\t\tif (isGroupEditorChangeEvent(e)) {\n\t\t\t\t\t\tgroupEvents.transient.push(e);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase GroupModelChangeKind.EDITOR_MOVE:\n\t\t\t\t\tif (isGroupEditorMoveEvent(e)) {\n\t\t\t\t\t\tgroupEvents.moved.push(e);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase GroupModelChangeKind.EDITOR_WILL_DISPOSE:\n\t\t\t\t\tif (isGroupEditorChangeEvent(e)) {\n\t\t\t\t\t\tgroupEvents.disposed.push(e);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}));\n\n\t\treturn groupEvents;\n\t}\n\n\tlet index = 0;\n\tclass TestEditorInput extends EditorInput {\n\n\t\treadonly resource = undefined;\n\n\t\tconstructor(public id: string) {\n\t\t\tsuper();\n\t\t}\n\t\toverride get typeId() { return 'testEditorInputForGroups'; }\n\t\toverride async resolve(): Promise<IDisposable> { return null!; }\n\n\t\toverride matches(other: TestEditorInput): boolean {\n\t\t\treturn other && this.id === other.id && other instanceof TestEditorInput;\n\t\t}\n\n\t\tsetDirty(): void {\n\t\t\tthis._onDidChangeDirty.fire();\n\t\t}\n\n\t\tsetLabel(): void {\n\t\t\tthis._onDidChangeLabel.fire();\n\t\t}\n\t}\n\n\tclass NonSerializableTestEditorInput extends EditorInput {\n\n\t\treadonly resource = undefined;\n\n\t\tconstructor(public id: string) {\n\t\t\tsuper();\n\t\t}\n\t\toverride get typeId() { return 'testEditorInputForGroups-nonSerializable'; }\n\t\toverride async resolve(): Promise<IDisposable | null> { return null; }\n\n\t\toverride matches(other: NonSerializableTestEditorInput): boolean {\n\t\t\treturn other && this.id === other.id && other instanceof NonSerializableTestEditorInput;\n\t\t}\n\t}\n\n\tclass TestFileEditorInput extends EditorInput implements IFileEditorInput {\n\n\t\treadonly preferredResource;\n\n\t\tconstructor(public id: string, public resource: URI) {\n\t\t\tsuper();\n\n\t\t\tthis.preferredResource = this.resource;\n\t\t}\n\t\toverride get typeId() { return 'testFileEditorInputForGroups'; }\n\t\toverride get editorId() { return this.id; }\n\t\toverride async resolve(): Promise<IDisposable | null> { return null; }\n\t\tsetPreferredName(name: string): void { }\n\t\tsetPreferredDescription(description: string): void { }\n\t\tsetPreferredResource(resource: URI): void { }\n\t\tasync setEncoding(encoding: string) { }\n\t\tgetEncoding() { return undefined; }\n\t\tsetPreferredEncoding(encoding: string) { }\n\t\tsetForceOpenAsBinary(): void { }\n\t\tsetPreferredContents(contents: string): void { }\n\t\tsetLanguageId(languageId: string) { }\n\t\tsetPreferredLanguageId(languageId: string) { }\n\t\tisResolved(): boolean { return false; }\n\n\t\toverride matches(other: TestFileEditorInput): boolean {\n\t\t\tif (super.matches(other)) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (other instanceof TestFileEditorInput) {\n\t\t\t\treturn isEqual(other.resource, this.resource);\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tfunction input(id = String(index++), nonSerializable?: boolean, resource?: URI): EditorInput {\n\t\tif (resource) {\n\t\t\treturn disposables.add(new TestFileEditorInput(id, resource));\n\t\t}\n\n\t\treturn nonSerializable ? disposables.add(new NonSerializableTestEditorInput(id)) : disposables.add(new TestEditorInput(id));\n\t}\n\n\tinterface ISerializedTestInput {\n\t\tid: string;\n\t}\n\n\tclass TestEditorInputSerializer implements IEditorSerializer {\n\n\t\tstatic disableSerialize = false;\n\t\tstatic disableDeserialize = false;\n\n\t\tcanSerialize(editorInput: EditorInput): boolean {\n\t\t\treturn true;\n\t\t}\n\n\t\tserialize(editorInput: EditorInput): string | undefined {\n\t\t\tif (TestEditorInputSerializer.disableSerialize) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\tconst testEditorInput = <TestEditorInput>editorInput;\n\t\t\tconst testInput: ISerializedTestInput = {\n\t\t\t\tid: testEditorInput.id\n\t\t\t};\n\n\t\t\treturn JSON.stringify(testInput);\n\t\t}\n\n\t\tdeserialize(instantiationService: IInstantiationService, serializedEditorInput: string): EditorInput | undefined {\n\t\t\tif (TestEditorInputSerializer.disableDeserialize) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\tconst testInput: ISerializedTestInput = JSON.parse(serializedEditorInput);\n\n\t\t\treturn disposables.add(new TestEditorInput(testInput.id));\n\t\t}\n\t}\n\n\tconst disposables = new DisposableStore();\n\n\tsetup(() => {\n\t\tTestEditorInputSerializer.disableSerialize = false;\n\t\tTestEditorInputSerializer.disableDeserialize = false;\n\n\t\tdisposables.add(Registry.as<IEditorFactoryRegistry>(EditorExtensions.EditorFactory).registerEditorSerializer('testEditorInputForGroups', TestEditorInputSerializer));\n\t});\n\n\tteardown(() => {\n\t\tdisposables.clear();\n\n\t\tindex = 1;\n\t});\n\n\ttest('Clone Group', function () {\n\t\tconst group = createEditorGroupModel();\n\n\t\tconst input1 = input() as TestEditorInput;\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\n\t\t// Pinned and Active\n\t\tgroup.openEditor(input1, { pinned: true, active: true });\n\t\tgroup.openEditor(input2, { pinned: true, active: true });\n\t\tgroup.openEditor(input3, { pinned: false, active: true });\n\n\t\t// Sticky\n\t\tgroup.stick(input2);\n\t\tassert.ok(group.isSticky(input2));\n\n\t\t// Locked\n\t\tassert.strictEqual(group.isLocked, false);\n\t\tgroup.lock(true);\n\t\tassert.strictEqual(group.isLocked, true);\n\n\t\tconst clone = disposables.add(group.clone());\n\t\tassert.notStrictEqual(group.id, clone.id);\n\t\tassert.strictEqual(clone.count, 3);\n\t\tassert.strictEqual(clone.isLocked, false); // locking does not clone over\n\n\t\tlet didEditorLabelChange = false;\n\t\tconst toDispose = clone.onDidModelChange((e) => {\n\t\t\tif (e.kind === GroupModelChangeKind.EDITOR_LABEL) {\n\t\t\t\tdidEditorLabelChange = true;\n\t\t\t}\n\t\t});\n\t\tinput1.setLabel();\n\t\tassert.ok(didEditorLabelChange);\n\n\t\tassert.strictEqual(clone.isPinned(input1), true);\n\t\tassert.strictEqual(clone.isActive(input1), false);\n\t\tassert.strictEqual(clone.isSticky(input1), false);\n\n\t\tassert.strictEqual(clone.isPinned(input2), true);\n\t\tassert.strictEqual(clone.isActive(input2), false);\n\t\tassert.strictEqual(clone.isSticky(input2), true);\n\n\t\tassert.strictEqual(clone.isPinned(input3), false);\n\t\tassert.strictEqual(clone.isActive(input3), true);\n\t\tassert.strictEqual(clone.isSticky(input3), false);\n\n\t\ttoDispose.dispose();\n\t});\n\n\ttest('isActive - untyped', () => {\n\t\tconst group = createEditorGroupModel();\n\t\tconst input = disposables.add(new TestFileEditorInput('testInput', URI.file('fake')));\n\t\tconst input2 = disposables.add(new TestFileEditorInput('testInput2', URI.file('fake2')));\n\t\tconst untypedInput = { resource: URI.file('/fake'), options: { override: 'testInput' } };\n\t\tconst untypedNonActiveInput = { resource: URI.file('/fake2'), options: { override: 'testInput2' } };\n\n\t\tgroup.openEditor(input, { pinned: true, active: true });\n\t\tgroup.openEditor(input2, { active: false });\n\n\t\tassert.ok(group.isActive(input));\n\t\tassert.ok(group.isActive(untypedInput));\n\t\tassert.ok(!group.isActive(untypedNonActiveInput));\n\t});\n\n\ttest('openEditor - prefers existing side by side editor if same', () => {\n\t\tconst instantiationService = workbenchInstantiationService(undefined, disposables);\n\n\t\tconst group = createEditorGroupModel();\n\t\tconst input1 = disposables.add(new TestFileEditorInput('testInput', URI.file('fake1')));\n\t\tconst input2 = disposables.add(new TestFileEditorInput('testInput', URI.file('fake2')));\n\n\t\tconst sideBySideInputSame = instantiationService.createInstance(SideBySideEditorInput, undefined, undefined, input1, input1);\n\t\tconst sideBySideInputDifferent = instantiationService.createInstance(SideBySideEditorInput, undefined, undefined, input1, input2);\n\n\t\tlet res = group.openEditor(sideBySideInputSame, { pinned: true, active: true });\n\t\tassert.strictEqual(res.editor, sideBySideInputSame);\n\t\tassert.strictEqual(res.isNew, true);\n\n\t\tres = group.openEditor(input1, { pinned: true, active: true, supportSideBySide: SideBySideEditor.BOTH });\n\t\tassert.strictEqual(res.editor, sideBySideInputSame);\n\t\tassert.strictEqual(res.isNew, false);\n\n\t\tgroup.closeEditor(sideBySideInputSame);\n\t\tres = group.openEditor(sideBySideInputDifferent, { pinned: true, active: true });\n\t\tassert.strictEqual(res.editor, sideBySideInputDifferent);\n\t\tassert.strictEqual(res.isNew, true);\n\n\t\tres = group.openEditor(input1, { pinned: true, active: true });\n\t\tassert.strictEqual(res.editor, input1);\n\t\tassert.strictEqual(res.isNew, true);\n\t});\n\n\ttest('indexOf() - prefers direct matching editor over side by side matching one', () => {\n\t\tconst instantiationService = workbenchInstantiationService(undefined, disposables);\n\n\t\tconst group = createEditorGroupModel();\n\t\tconst input1 = disposables.add(new TestFileEditorInput('testInput', URI.file('fake1')));\n\n\t\tconst sideBySideInput = instantiationService.createInstance(SideBySideEditorInput, undefined, undefined, input1, input1);\n\n\t\tgroup.openEditor(sideBySideInput, { pinned: true, active: true });\n\t\tassert.strictEqual(group.indexOf(sideBySideInput), 0);\n\t\tassert.strictEqual(group.indexOf(input1), -1);\n\t\tassert.strictEqual(group.indexOf(input1, undefined, { supportSideBySide: SideBySideEditor.BOTH }), 0);\n\t\tassert.strictEqual(group.indexOf(input1, undefined, { supportSideBySide: SideBySideEditor.ANY }), 0);\n\n\t\tgroup.openEditor(input1, { pinned: true, active: true });\n\t\tassert.strictEqual(group.indexOf(input1), 1);\n\t\tassert.strictEqual(group.indexOf(input1, undefined, { supportSideBySide: SideBySideEditor.BOTH }), 1);\n\t\tassert.strictEqual(group.indexOf(input1, undefined, { supportSideBySide: SideBySideEditor.ANY }), 1);\n\t});\n\n\ttest('contains() - untyped', function () {\n\t\tconst group = createEditorGroupModel();\n\t\tconst instantiationService = workbenchInstantiationService(undefined, disposables);\n\n\t\tconst input1 = input('input1', false, URI.file('/input1'));\n\t\tconst input2 = input('input2', false, URI.file('/input2'));\n\n\t\tconst untypedInput1 = { resource: URI.file('/input1'), options: { override: 'input1' } };\n\t\tconst untypedInput2 = { resource: URI.file('/input2'), options: { override: 'input2' } };\n\n\t\tconst diffInput1 = instantiationService.createInstance(DiffEditorInput, 'name', 'description', input1, input2, undefined);\n\t\tconst diffInput2 = instantiationService.createInstance(DiffEditorInput, 'name', 'description', input2, input1, undefined);\n\n\t\tconst untypedDiffInput1: IResourceDiffEditorInput = {\n\t\t\toriginal: untypedInput1,\n\t\t\tmodified: untypedInput2\n\t\t};\n\t\tconst untypedDiffInput2: IResourceDiffEditorInput = {\n\t\t\toriginal: untypedInput2,\n\t\t\tmodified: untypedInput1\n\t\t};\n\n\t\tconst sideBySideInputSame = instantiationService.createInstance(SideBySideEditorInput, 'name', undefined, input1, input1);\n\t\tconst sideBySideInputDifferent = instantiationService.createInstance(SideBySideEditorInput, 'name', undefined, input1, input2);\n\n\t\tconst untypedSideBySideInputSame: IResourceSideBySideEditorInput = {\n\t\t\tprimary: untypedInput1,\n\t\t\tsecondary: untypedInput1\n\t\t};\n\t\tconst untypedSideBySideInputDifferent: IResourceSideBySideEditorInput = {\n\t\t\tprimary: untypedInput2,\n\t\t\tsecondary: untypedInput1\n\t\t};\n\n\t\tgroup.openEditor(input1, { pinned: true, active: true });\n\n\t\tassert.strictEqual(group.contains(untypedInput1), true);\n\t\tassert.strictEqual(group.contains(untypedInput1, { strictEquals: true }), false);\n\t\tassert.strictEqual(group.contains(untypedInput1, { supportSideBySide: SideBySideEditor.ANY }), true);\n\t\tassert.strictEqual(group.contains(untypedInput1, { supportSideBySide: SideBySideEditor.BOTH }), true);\n\t\tassert.strictEqual(group.contains(untypedInput2), false);\n\t\tassert.strictEqual(group.contains(untypedInput2, { strictEquals: true }), false);\n\t\tassert.strictEqual(group.contains(untypedInput2, { supportSideBySide: SideBySideEditor.ANY }), false);\n\t\tassert.strictEqual(group.contains(untypedInput2, { supportSideBySide: SideBySideEditor.BOTH }), false);\n\t\tassert.strictEqual(group.contains(untypedDiffInput1), false);\n\t\tassert.strictEqual(group.contains(untypedDiffInput2), false);\n\n\t\tgroup.openEditor(input2, { pinned: true, active: true });\n\n\t\tassert.strictEqual(group.contains(untypedInput1), true);\n\t\tassert.strictEqual(group.contains(untypedInput2), true);\n\t\tassert.strictEqual(group.contains(untypedDiffInput1), false);\n\t\tassert.strictEqual(group.contains(untypedDiffInput2), false);\n\n\t\tgroup.openEditor(diffInput1, { pinned: true, active: true });\n\n\t\tassert.strictEqual(group.contains(untypedInput1), true);\n\t\tassert.strictEqual(group.contains(untypedInput2), true);\n\t\tassert.strictEqual(group.contains(untypedDiffInput1), true);\n\t\tassert.strictEqual(group.contains(untypedDiffInput2), false);\n\n\t\tgroup.openEditor(diffInput2, { pinned: true, active: true });\n\n\t\tassert.strictEqual(group.contains(untypedInput1), true);\n\t\tassert.strictEqual(group.contains(untypedInput2), true);\n\t\tassert.strictEqual(group.contains(untypedDiffInput1), true);\n\t\tassert.strictEqual(group.contains(untypedDiffInput2), true);\n\n\t\tgroup.closeEditor(input1);\n\n\t\tassert.strictEqual(group.contains(untypedInput1), false);\n\t\tassert.strictEqual(group.contains(untypedInput1, { supportSideBySide: SideBySideEditor.ANY }), true);\n\t\tassert.strictEqual(group.contains(untypedInput1, { supportSideBySide: SideBySideEditor.BOTH }), false);\n\t\tassert.strictEqual(group.contains(untypedInput2), true);\n\t\tassert.strictEqual(group.contains(untypedDiffInput1), true);\n\t\tassert.strictEqual(group.contains(untypedDiffInput2), true);\n\n\t\tgroup.closeEditor(input2);\n\n\t\tassert.strictEqual(group.contains(untypedInput1), false);\n\t\tassert.strictEqual(group.contains(untypedInput1, { supportSideBySide: SideBySideEditor.ANY }), true);\n\t\tassert.strictEqual(group.contains(untypedInput2), false);\n\t\tassert.strictEqual(group.contains(untypedInput2, { supportSideBySide: SideBySideEditor.ANY }), true);\n\t\tassert.strictEqual(group.contains(untypedDiffInput1), true);\n\t\tassert.strictEqual(group.contains(untypedDiffInput2), true);\n\n\t\tgroup.closeEditor(diffInput1);\n\n\t\tassert.strictEqual(group.contains(untypedInput1), false);\n\t\tassert.strictEqual(group.contains(untypedInput1, { supportSideBySide: SideBySideEditor.ANY }), true);\n\t\tassert.strictEqual(group.contains(untypedInput2), false);\n\t\tassert.strictEqual(group.contains(untypedInput2, { supportSideBySide: SideBySideEditor.ANY }), true);\n\t\tassert.strictEqual(group.contains(untypedDiffInput1), false);\n\t\tassert.strictEqual(group.contains(untypedDiffInput2), true);\n\n\t\tgroup.closeEditor(diffInput2);\n\n\t\tassert.strictEqual(group.contains(untypedInput1), false);\n\t\tassert.strictEqual(group.contains(untypedInput1, { supportSideBySide: SideBySideEditor.ANY }), false);\n\t\tassert.strictEqual(group.contains(untypedInput2), false);\n\t\tassert.strictEqual(group.contains(untypedInput2, { supportSideBySide: SideBySideEditor.ANY }), false);\n\t\tassert.strictEqual(group.contains(untypedDiffInput1), false);\n\t\tassert.strictEqual(group.contains(untypedDiffInput2), false);\n\n\t\tassert.strictEqual(group.count, 0);\n\t\tgroup.openEditor(sideBySideInputSame, { pinned: true, active: true });\n\t\tassert.strictEqual(group.contains(untypedSideBySideInputSame), true);\n\t\tassert.strictEqual(group.contains(untypedInput1, { supportSideBySide: SideBySideEditor.ANY }), true);\n\t\tassert.strictEqual(group.contains(untypedInput1, { supportSideBySide: SideBySideEditor.BOTH }), true);\n\t\tassert.strictEqual(group.contains(untypedInput1, { supportSideBySide: SideBySideEditor.ANY, strictEquals: true }), false);\n\t\tassert.strictEqual(group.contains(untypedInput1, { supportSideBySide: SideBySideEditor.BOTH, strictEquals: true }), false);\n\n\t\tgroup.closeEditor(sideBySideInputSame);\n\n\t\tassert.strictEqual(group.count, 0);\n\t\tgroup.openEditor(sideBySideInputDifferent, { pinned: true, active: true });\n\t\tassert.strictEqual(group.contains(untypedSideBySideInputDifferent), true);\n\t\tassert.strictEqual(group.contains(untypedInput1, { supportSideBySide: SideBySideEditor.ANY }), true);\n\t\tassert.strictEqual(group.contains(untypedInput1, { supportSideBySide: SideBySideEditor.BOTH }), false);\n\t});\n\n\ttest('contains()', () => {\n\t\tconst group = createEditorGroupModel();\n\t\tconst instantiationService = workbenchInstantiationService(undefined, disposables);\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\n\t\tconst diffInput1 = instantiationService.createInstance(DiffEditorInput, 'name', 'description', input1, input2, undefined);\n\t\tconst diffInput2 = instantiationService.createInstance(DiffEditorInput, 'name', 'description', input2, input1, undefined);\n\n\t\tconst sideBySideInputSame = instantiationService.createInstance(SideBySideEditorInput, 'name', undefined, input1, input1);\n\t\tconst sideBySideInputDifferent = instantiationService.createInstance(SideBySideEditorInput, 'name', undefined, input1, input2);\n\n\t\tgroup.openEditor(input1, { pinned: true, active: true });\n\n\t\tassert.strictEqual(group.contains(input1), true);\n\t\tassert.strictEqual(group.contains(input1, { strictEquals: true }), true);\n\t\tassert.strictEqual(group.contains(input1, { supportSideBySide: SideBySideEditor.ANY }), true);\n\t\tassert.strictEqual(group.contains(input2), false);\n\t\tassert.strictEqual(group.contains(input2, { strictEquals: true }), false);\n\t\tassert.strictEqual(group.contains(input2, { supportSideBySide: SideBySideEditor.ANY }), false);\n\t\tassert.strictEqual(group.contains(diffInput1), false);\n\t\tassert.strictEqual(group.contains(diffInput2), false);\n\n\t\tgroup.openEditor(input2, { pinned: true, active: true });\n\n\t\tassert.strictEqual(group.contains(input1), true);\n\t\tassert.strictEqual(group.contains(input2), true);\n\t\tassert.strictEqual(group.contains(diffInput1), false);\n\t\tassert.strictEqual(group.contains(diffInput2), false);\n\n\t\tgroup.openEditor(diffInput1, { pinned: true, active: true });\n\n\t\tassert.strictEqual(group.contains(input1), true);\n\t\tassert.strictEqual(group.contains(input2), true);\n\t\tassert.strictEqual(group.contains(diffInput1), true);\n\t\tassert.strictEqual(group.contains(diffInput2), false);\n\n\t\tgroup.openEditor(diffInput2, { pinned: true, active: true });\n\n\t\tassert.strictEqual(group.contains(input1), true);\n\t\tassert.strictEqual(group.contains(input2), true);\n\t\tassert.strictEqual(group.contains(diffInput1), true);\n\t\tassert.strictEqual(group.contains(diffInput2), true);\n\n\t\tgroup.closeEditor(input1);\n\n\t\tassert.strictEqual(group.contains(input1), false);\n\t\tassert.strictEqual(group.contains(input1, { supportSideBySide: SideBySideEditor.ANY }), true);\n\t\tassert.strictEqual(group.contains(input2), true);\n\t\tassert.strictEqual(group.contains(diffInput1), true);\n\t\tassert.strictEqual(group.contains(diffInput2), true);\n\n\t\tgroup.closeEditor(input2);\n\n\t\tassert.strictEqual(group.contains(input1), false);\n\t\tassert.strictEqual(group.contains(input1, { supportSideBySide: SideBySideEditor.ANY }), true);\n\t\tassert.strictEqual(group.contains(input2), false);\n\t\tassert.strictEqual(group.contains(input2, { supportSideBySide: SideBySideEditor.ANY }), true);\n\t\tassert.strictEqual(group.contains(diffInput1), true);\n\t\tassert.strictEqual(group.contains(diffInput2), true);\n\n\t\tgroup.closeEditor(diffInput1);\n\n\t\tassert.strictEqual(group.contains(input1), false);\n\t\tassert.strictEqual(group.contains(input1, { supportSideBySide: SideBySideEditor.ANY }), true);\n\t\tassert.strictEqual(group.contains(input2), false);\n\t\tassert.strictEqual(group.contains(input2, { supportSideBySide: SideBySideEditor.ANY }), true);\n\t\tassert.strictEqual(group.contains(diffInput1), false);\n\t\tassert.strictEqual(group.contains(diffInput2), true);\n\n\t\tgroup.closeEditor(diffInput2);\n\n\t\tassert.strictEqual(group.contains(input1), false);\n\t\tassert.strictEqual(group.contains(input1, { supportSideBySide: SideBySideEditor.ANY }), false);\n\t\tassert.strictEqual(group.contains(input2), false);\n\t\tassert.strictEqual(group.contains(input2, { supportSideBySide: SideBySideEditor.ANY }), false);\n\t\tassert.strictEqual(group.contains(diffInput1), false);\n\t\tassert.strictEqual(group.contains(diffInput2), false);\n\n\t\tconst input3 = input(undefined, true, URI.parse('foo://bar'));\n\n\t\tconst input4 = input(undefined, true, URI.parse('foo://barsomething'));\n\n\t\tgroup.openEditor(input3, { pinned: true, active: true });\n\t\tassert.strictEqual(group.contains(input4), false);\n\t\tassert.strictEqual(group.contains(input3), true);\n\n\t\tgroup.closeEditor(input3);\n\n\t\tassert.strictEqual(group.contains(input3), false);\n\n\t\tassert.strictEqual(group.count, 0);\n\t\tgroup.openEditor(sideBySideInputSame, { pinned: true, active: true });\n\n\t\tassert.strictEqual(group.contains(sideBySideInputSame), true);\n\t\tassert.strictEqual(group.contains(input1, { supportSideBySide: SideBySideEditor.ANY }), true);\n\t\tassert.strictEqual(group.contains(input1, { supportSideBySide: SideBySideEditor.BOTH }), true);\n\t\tassert.strictEqual(group.contains(input1, { supportSideBySide: SideBySideEditor.ANY, strictEquals: true }), true);\n\t\tassert.strictEqual(group.contains(input1, { supportSideBySide: SideBySideEditor.BOTH, strictEquals: true }), true);\n\n\t\tgroup.closeEditor(sideBySideInputSame);\n\n\t\tassert.strictEqual(group.count, 0);\n\t\tgroup.openEditor(sideBySideInputDifferent, { pinned: true, active: true });\n\t\tassert.strictEqual(group.contains(sideBySideInputDifferent), true);\n\t\tassert.strictEqual(group.contains(input1, { supportSideBySide: SideBySideEditor.ANY }), true);\n\t\tassert.strictEqual(group.contains(input1, { supportSideBySide: SideBySideEditor.ANY, strictEquals: true }), true);\n\t\tassert.strictEqual(group.contains(input1, { supportSideBySide: SideBySideEditor.BOTH }), false);\n\t\tassert.strictEqual(group.contains(input1, { supportSideBySide: SideBySideEditor.BOTH, strictEquals: true }), false);\n\t});\n\n\ttest('group serialization', function () {\n\t\tinst().invokeFunction(accessor => Registry.as<IEditorFactoryRegistry>(EditorExtensions.EditorFactory).start(accessor));\n\t\tconst group = createEditorGroupModel();\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\n\t\t// Case 1: inputs can be serialized and deserialized\n\n\t\tgroup.openEditor(input1, { pinned: true, active: true });\n\t\tgroup.openEditor(input2, { pinned: true, active: true });\n\t\tgroup.openEditor(input3, { pinned: false, active: true });\n\n\t\tlet deserialized = createEditorGroupModel(group.serialize());\n\t\tassert.strictEqual(group.id, deserialized.id);\n\t\tassert.strictEqual(deserialized.count, 3);\n\t\tassert.strictEqual(deserialized.getEditors(EditorsOrder.SEQUENTIAL).length, 3);\n\t\tassert.strictEqual(deserialized.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 3);\n\t\tassert.strictEqual(deserialized.isPinned(input1), true);\n\t\tassert.strictEqual(deserialized.isPinned(input2), true);\n\t\tassert.strictEqual(deserialized.isPinned(input3), false);\n\t\tassert.strictEqual(deserialized.isActive(input3), true);\n\n\t\t// Case 2: inputs cannot be serialized\n\t\tTestEditorInputSerializer.disableSerialize = true;\n\n\t\tdeserialized = createEditorGroupModel(group.serialize());\n\t\tassert.strictEqual(group.id, deserialized.id);\n\t\tassert.strictEqual(deserialized.count, 0);\n\t\tassert.strictEqual(deserialized.getEditors(EditorsOrder.SEQUENTIAL).length, 0);\n\t\tassert.strictEqual(deserialized.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 0);\n\n\t\t// Case 3: inputs cannot be deserialized\n\t\tTestEditorInputSerializer.disableSerialize = false;\n\t\tTestEditorInputSerializer.disableDeserialize = true;\n\n\t\tdeserialized = createEditorGroupModel(group.serialize());\n\t\tassert.strictEqual(group.id, deserialized.id);\n\t\tassert.strictEqual(deserialized.count, 0);\n\t\tassert.strictEqual(deserialized.getEditors(EditorsOrder.SEQUENTIAL).length, 0);\n\t\tassert.strictEqual(deserialized.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 0);\n\t});\n\n\ttest('group serialization (sticky editor)', function () {\n\t\tinst().invokeFunction(accessor => Registry.as<IEditorFactoryRegistry>(EditorExtensions.EditorFactory).start(accessor));\n\t\tconst group = createEditorGroupModel();\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\n\t\t// Case 1: inputs can be serialized and deserialized\n\n\t\tgroup.openEditor(input1, { pinned: true, active: true });\n\t\tgroup.openEditor(input2, { pinned: true, active: true });\n\t\tgroup.openEditor(input3, { pinned: false, active: true });\n\n\t\tgroup.stick(input2);\n\t\tassert.ok(group.isSticky(input2));\n\n\t\tlet deserialized = createEditorGroupModel(group.serialize());\n\t\tassert.strictEqual(group.id, deserialized.id);\n\t\tassert.strictEqual(deserialized.count, 3);\n\n\t\tassert.strictEqual(deserialized.isPinned(input1), true);\n\t\tassert.strictEqual(deserialized.isActive(input1), false);\n\t\tassert.strictEqual(deserialized.isSticky(input1), false);\n\n\t\tassert.strictEqual(deserialized.isPinned(input2), true);\n\t\tassert.strictEqual(deserialized.isActive(input2), false);\n\t\tassert.strictEqual(deserialized.isSticky(input2), true);\n\n\t\tassert.strictEqual(deserialized.isPinned(input3), false);\n\t\tassert.strictEqual(deserialized.isActive(input3), true);\n\t\tassert.strictEqual(deserialized.isSticky(input3), false);\n\n\t\t// Case 2: inputs cannot be serialized\n\t\tTestEditorInputSerializer.disableSerialize = true;\n\n\t\tdeserialized = createEditorGroupModel(group.serialize());\n\t\tassert.strictEqual(group.id, deserialized.id);\n\t\tassert.strictEqual(deserialized.count, 0);\n\t\tassert.strictEqual(deserialized.stickyCount, 0);\n\t\tassert.strictEqual(deserialized.getEditors(EditorsOrder.SEQUENTIAL).length, 0);\n\t\tassert.strictEqual(deserialized.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 0);\n\n\t\t// Case 3: inputs cannot be deserialized\n\t\tTestEditorInputSerializer.disableSerialize = false;\n\t\tTestEditorInputSerializer.disableDeserialize = true;\n\n\t\tdeserialized = createEditorGroupModel(group.serialize());\n\t\tassert.strictEqual(group.id, deserialized.id);\n\t\tassert.strictEqual(deserialized.count, 0);\n\t\tassert.strictEqual(deserialized.stickyCount, 0);\n\t\tassert.strictEqual(deserialized.getEditors(EditorsOrder.SEQUENTIAL).length, 0);\n\t\tassert.strictEqual(deserialized.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 0);\n\t});\n\n\ttest('group serialization (locked group)', function () {\n\t\tconst group = createEditorGroupModel();\n\t\tconst events = groupListener(group);\n\n\t\tassert.strictEqual(events.locked.length, 0);\n\n\t\tgroup.lock(true);\n\t\tgroup.lock(true);\n\n\t\tassert.strictEqual(events.locked.length, 1);\n\n\t\tgroup.lock(false);\n\t\tgroup.lock(false);\n\n\t\tassert.strictEqual(events.locked.length, 2);\n\t});\n\n\ttest('locked group', function () {\n\t\tconst group = createEditorGroupModel();\n\t\tgroup.lock(true);\n\n\t\tlet deserialized = createEditorGroupModel(group.serialize());\n\t\tassert.strictEqual(group.id, deserialized.id);\n\t\tassert.strictEqual(deserialized.count, 0);\n\t\tassert.strictEqual(deserialized.isLocked, true);\n\n\t\tgroup.lock(false);\n\t\tdeserialized = createEditorGroupModel(group.serialize());\n\t\tassert.strictEqual(group.id, deserialized.id);\n\t\tassert.strictEqual(deserialized.count, 0);\n\t\tassert.strictEqual(deserialized.isLocked, false);\n\t});\n\n\ttest('index', function () {\n\t\tconst group = createEditorGroupModel();\n\t\tconst events = groupListener(group);\n\n\t\tassert.strictEqual(events.index.length, 0);\n\n\t\tgroup.setIndex(4);\n\n\t\tassert.strictEqual(events.index.length, 1);\n\t});\n\n\ttest('label', function () {\n\t\tconst group = createEditorGroupModel();\n\t\tconst events = groupListener(group);\n\n\t\tassert.strictEqual(events.label.length, 0);\n\n\t\tgroup.setLabel('Window 1');\n\n\t\tassert.strictEqual(events.label.length, 1);\n\t});\n\n\ttest('active', function () {\n\t\tconst group = createEditorGroupModel();\n\t\tconst events = groupListener(group);\n\n\t\tassert.strictEqual(events.active.length, 0);\n\n\t\tgroup.setActive(undefined);\n\n\t\tassert.strictEqual(events.active.length, 1);\n\t});\n\n\ttest('One Editor', function () {\n\t\tconst group = createEditorGroupModel();\n\t\tconst events = groupListener(group);\n\n\t\tassert.strictEqual(group.count, 0);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 0);\n\n\t\t// Active && Pinned\n\t\tconst input1 = input();\n\t\tconst { editor: openedEditor, isNew } = group.openEditor(input1, { active: true, pinned: true });\n\t\tassert.strictEqual(openedEditor, input1);\n\t\tassert.strictEqual(isNew, true);\n\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 1);\n\t\tassert.strictEqual(group.findEditor(input1)![0], input1);\n\t\tassert.strictEqual(group.activeEditor, input1);\n\t\tassert.strictEqual(group.isActive(input1), true);\n\t\tassert.strictEqual(group.isPinned(input1), true);\n\t\tassert.strictEqual(group.isPinned(0), true);\n\t\tassert.strictEqual(group.isFirst(input1), true);\n\t\tassert.strictEqual(group.isLast(input1), true);\n\n\t\tassert.strictEqual(events.opened[0].editor, input1);\n\t\tassert.strictEqual(events.opened[0].editorIndex, 0);\n\t\tassert.strictEqual(events.activated[0].editor, input1);\n\t\tassert.strictEqual(events.activated[0].editorIndex, 0);\n\n\t\tconst index = group.indexOf(input1);\n\t\tassert.strictEqual(group.findEditor(input1)![1], index);\n\t\tlet event = group.closeEditor(input1, EditorCloseContext.UNPIN);\n\t\tassert.strictEqual(event?.editor, input1);\n\t\tassert.strictEqual(event?.editorIndex, index);\n\t\tassert.strictEqual(group.count, 0);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 0);\n\t\tassert.strictEqual(group.activeEditor, null);\n\t\tassert.strictEqual(group.isFirst(input1), false);\n\t\tassert.strictEqual(group.isLast(input1), false);\n\t\tassert.strictEqual(events.closed[0].editor, input1);\n\t\tassert.strictEqual(events.closed[0].editorIndex, 0);\n\t\tassert.strictEqual(events.closed[0].context === EditorCloseContext.UNPIN, true);\n\n\t\t// Active && Preview\n\t\tconst input2 = input();\n\t\tgroup.openEditor(input2, { active: true, pinned: false });\n\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 1);\n\t\tassert.strictEqual(group.activeEditor, input2);\n\t\tassert.strictEqual(group.isActive(input2), true);\n\t\tassert.strictEqual(group.isPinned(input2), false);\n\t\tassert.strictEqual(group.isPinned(0), false);\n\n\t\tassert.strictEqual(events.opened[1].editor, input2);\n\t\tassert.strictEqual(events.opened[1].editorIndex, 0);\n\t\tassert.strictEqual(events.activated[1].editor, input2);\n\t\tassert.strictEqual(events.activated[1].editorIndex, 0);\n\n\t\tgroup.closeEditor(input2);\n\t\tassert.strictEqual(group.count, 0);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 0);\n\t\tassert.strictEqual(group.activeEditor, null);\n\t\tassert.strictEqual(events.closed[1].editor, input2);\n\t\tassert.strictEqual(events.closed[1].editorIndex, 0);\n\t\tassert.strictEqual(events.closed[1].context === EditorCloseContext.REPLACE, false);\n\n\t\tevent = group.closeEditor(input2);\n\t\tassert.ok(!event);\n\t\tassert.strictEqual(group.count, 0);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 0);\n\t\tassert.strictEqual(group.activeEditor, null);\n\t\tassert.strictEqual(events.closed[1].editor, input2);\n\n\t\t// Nonactive && Pinned => gets active because its first editor\n\t\tconst input3 = input();\n\t\tgroup.openEditor(input3, { active: false, pinned: true });\n\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 1);\n\t\tassert.strictEqual(group.activeEditor, input3);\n\t\tassert.strictEqual(group.isActive(input3), true);\n\t\tassert.strictEqual(group.isPinned(input3), true);\n\t\tassert.strictEqual(group.isPinned(0), true);\n\n\t\tassert.strictEqual(events.opened[2].editor, input3);\n\t\tassert.strictEqual(events.activated[2].editor, input3);\n\n\t\tgroup.closeEditor(input3);\n\t\tassert.strictEqual(group.count, 0);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 0);\n\t\tassert.strictEqual(group.activeEditor, null);\n\t\tassert.strictEqual(events.closed[2].editor, input3);\n\n\t\tassert.strictEqual(events.opened[2].editor, input3);\n\t\tassert.strictEqual(events.activated[2].editor, input3);\n\n\t\tgroup.closeEditor(input3);\n\t\tassert.strictEqual(group.count, 0);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 0);\n\t\tassert.strictEqual(group.activeEditor, null);\n\t\tassert.strictEqual(events.closed[2].editor, input3);\n\n\t\t// Nonactive && Preview => gets active because its first editor\n\t\tconst input4 = input();\n\t\tgroup.openEditor(input4);\n\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 1);\n\t\tassert.strictEqual(group.activeEditor, input4);\n\t\tassert.strictEqual(group.isActive(input4), true);\n\t\tassert.strictEqual(group.isPinned(input4), false);\n\t\tassert.strictEqual(group.isPinned(0), false);\n\n\t\tassert.strictEqual(events.opened[3].editor, input4);\n\t\tassert.strictEqual(events.activated[3].editor, input4);\n\n\t\tgroup.closeEditor(input4);\n\t\tassert.strictEqual(group.count, 0);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 0);\n\t\tassert.strictEqual(group.activeEditor, null);\n\t\tassert.strictEqual(events.closed[3].editor, input4);\n\t});\n\n\ttest('Multiple Editors - Pinned and Active', function () {\n\t\tconst group = createEditorGroupModel();\n\t\tconst events = groupListener(group);\n\n\t\tconst input1 = input('1');\n\t\tconst input1Copy = input('1');\n\t\tconst input2 = input('2');\n\t\tconst input3 = input('3');\n\n\t\t// Pinned and Active\n\t\tlet openedEditorResult = group.openEditor(input1, { pinned: true, active: true });\n\t\tassert.strictEqual(openedEditorResult.editor, input1);\n\t\tassert.strictEqual(openedEditorResult.isNew, true);\n\n\t\topenedEditorResult = group.openEditor(input1Copy, { pinned: true, active: true }); // opening copy of editor should still return existing one\n\t\tassert.strictEqual(openedEditorResult.editor, input1);\n\t\tassert.strictEqual(openedEditorResult.isNew, false);\n\n\t\tgroup.openEditor(input2, { pinned: true, active: true });\n\t\tgroup.openEditor(input3, { pinned: true, active: true });\n\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 3);\n\t\tassert.strictEqual(group.activeEditor, input3);\n\t\tassert.strictEqual(group.isActive(input1), false);\n\t\tassert.strictEqual(group.isPinned(input1), true);\n\t\tassert.strictEqual(group.isActive(input2), false);\n\t\tassert.strictEqual(group.isPinned(input2), true);\n\t\tassert.strictEqual(group.isActive(input3), true);\n\t\tassert.strictEqual(group.isPinned(input3), true);\n\t\tassert.strictEqual(group.isFirst(input1), true);\n\t\tassert.strictEqual(group.isFirst(input2), false);\n\t\tassert.strictEqual(group.isFirst(input3), false);\n\t\tassert.strictEqual(group.isLast(input1), false);\n\t\tassert.strictEqual(group.isLast(input2), false);\n\t\tassert.strictEqual(group.isLast(input3), true);\n\n\t\tassert.strictEqual(events.opened[0].editor, input1);\n\t\tassert.strictEqual(events.opened[1].editor, input2);\n\t\tassert.strictEqual(events.opened[2].editor, input3);\n\n\t\tassert.strictEqual(events.activated[0].editor, input1);\n\t\tassert.strictEqual(events.activated[0].editorIndex, 0);\n\t\tassert.strictEqual(events.activated[1].editor, input2);\n\t\tassert.strictEqual(events.activated[1].editorIndex, 1);\n\t\tassert.strictEqual(events.activated[2].editor, input3);\n\t\tassert.strictEqual(events.activated[2].editorIndex, 2);\n\n\t\tconst mru = group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE);\n\t\tassert.strictEqual(mru[0], input3);\n\t\tassert.strictEqual(mru[1], input2);\n\t\tassert.strictEqual(mru[2], input1);\n\n\t\t// Add some tests where a matching input is used\n\t\t// and verify that events carry the original input\n\t\tconst sameInput1 = input('1');\n\t\tgroup.openEditor(sameInput1, { pinned: true, active: true });\n\t\tassert.strictEqual(events.activated[3].editor, input1);\n\t\tassert.strictEqual(events.activated[3].editorIndex, 0);\n\n\t\tgroup.unpin(sameInput1);\n\t\tassert.strictEqual(events.unpinned[0].editor, input1);\n\t\tassert.strictEqual(events.unpinned[0].editorIndex, 0);\n\n\t\tgroup.pin(sameInput1);\n\t\tassert.strictEqual(events.pinned[0].editor, input1);\n\t\tassert.strictEqual(events.pinned[0].editorIndex, 0);\n\n\t\tgroup.stick(sameInput1);\n\t\tassert.strictEqual(events.sticky[0].editor, input1);\n\t\tassert.strictEqual(events.sticky[0].editorIndex, 0);\n\n\t\tgroup.unstick(sameInput1);\n\t\tassert.strictEqual(events.unsticky[0].editor, input1);\n\t\tassert.strictEqual(events.unsticky[0].editorIndex, 0);\n\n\t\tgroup.moveEditor(sameInput1, 1);\n\t\tassert.strictEqual(events.moved[0].editor, input1);\n\t\tassert.strictEqual(events.moved[0].oldEditorIndex, 0);\n\t\tassert.strictEqual(events.moved[0].editorIndex, 1);\n\n\t\tgroup.closeEditor(sameInput1);\n\t\tassert.strictEqual(events.closed[0].editor, input1);\n\t\tassert.strictEqual(events.closed[0].editorIndex, 1);\n\n\t\tcloseAllEditors(group);\n\n\t\tassert.strictEqual(events.closed.length, 3);\n\t\tassert.strictEqual(group.count, 0);\n\t});\n\n\ttest('Multiple Editors - Preview editor moves to the side of the active one', function () {\n\t\tconst group = createEditorGroupModel();\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\n\t\tgroup.openEditor(input1, { pinned: false, active: true });\n\t\tgroup.openEditor(input2, { pinned: true, active: true });\n\t\tgroup.openEditor(input3, { pinned: true, active: true });\n\n\t\tassert.strictEqual(input3, group.getEditors(EditorsOrder.SEQUENTIAL)[2]);\n\n\t\tconst input4 = input();\n\t\tgroup.openEditor(input4, { pinned: false, active: true }); // this should cause the preview editor to move after input3\n\n\t\tassert.strictEqual(input4, group.getEditors(EditorsOrder.SEQUENTIAL)[2]);\n\t});\n\n\ttest('Multiple Editors - Pinned and Active (DEFAULT_OPEN_EDITOR_DIRECTION = Direction.LEFT)', function () {\n\t\tconst inst = new TestInstantiationService();\n\t\tinst.stub(IStorageService, disposables.add(new TestStorageService()));\n\t\tinst.stub(ILifecycleService, disposables.add(new TestLifecycleService()));\n\t\tinst.stub(IWorkspaceContextService, new TestContextService());\n\t\tinst.stub(ITelemetryService, NullTelemetryService);\n\n\t\tconst config = new TestConfigurationService();\n\t\tinst.stub(IConfigurationService, config);\n\t\tconfig.setUserConfiguration('workbench', { editor: { openPositioning: 'left' } });\n\n\t\tconst group: EditorGroupModel = disposables.add(inst.createInstance(EditorGroupModel, undefined));\n\n\t\tconst events = groupListener(group);\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\n\t\t// Pinned and Active\n\t\tgroup.openEditor(input1, { pinned: true, active: true });\n\t\tgroup.openEditor(input2, { pinned: true, active: true });\n\t\tgroup.openEditor(input3, { pinned: true, active: true });\n\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], input3);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[1], input2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[2], input1);\n\n\t\tcloseAllEditors(group);\n\n\t\tassert.strictEqual(events.closed.length, 3);\n\t\tassert.strictEqual(group.count, 0);\n\t\tinst.dispose();\n\t});\n\n\ttest('Multiple Editors - Pinned and Not Active', function () {\n\t\tconst group = createEditorGroupModel();\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\n\t\t// Pinned and Active\n\t\tgroup.openEditor(input1, { pinned: true });\n\t\tgroup.openEditor(input2, { pinned: true });\n\t\tgroup.openEditor(input3, { pinned: true });\n\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 3);\n\t\tassert.strictEqual(group.activeEditor, input1);\n\t\tassert.strictEqual(group.isActive(input1), true);\n\t\tassert.strictEqual(group.isPinned(input1), true);\n\t\tassert.strictEqual(group.isPinned(0), true);\n\t\tassert.strictEqual(group.isActive(input2), false);\n\t\tassert.strictEqual(group.isPinned(input2), true);\n\t\tassert.strictEqual(group.isPinned(1), true);\n\t\tassert.strictEqual(group.isActive(input3), false);\n\t\tassert.strictEqual(group.isPinned(input3), true);\n\t\tassert.strictEqual(group.isPinned(2), true);\n\t\tassert.strictEqual(group.isPinned(input3), true);\n\n\t\tconst mru = group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE);\n\t\tassert.strictEqual(mru[0], input1);\n\t\tassert.strictEqual(mru[1], input3);\n\t\tassert.strictEqual(mru[2], input2);\n\t});\n\n\ttest('Multiple Editors - Preview gets overwritten', function () {\n\t\tconst group = createEditorGroupModel();\n\t\tconst events = groupListener(group);\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\n\t\t// Non active, preview\n\t\tgroup.openEditor(input1); // becomes active, preview\n\t\tgroup.openEditor(input2); // overwrites preview\n\t\tgroup.openEditor(input3); // overwrites preview\n\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 1);\n\t\tassert.strictEqual(group.activeEditor, input3);\n\t\tassert.strictEqual(group.isActive(input3), true);\n\t\tassert.strictEqual(group.isPinned(input3), false);\n\t\tassert.strictEqual(!group.isPinned(input3), true);\n\n\t\tassert.strictEqual(events.opened[0].editor, input1);\n\t\tassert.strictEqual(events.opened[1].editor, input2);\n\t\tassert.strictEqual(events.opened[2].editor, input3);\n\t\tassert.strictEqual(events.closed[0].editor, input1);\n\t\tassert.strictEqual(events.closed[1].editor, input2);\n\t\tassert.strictEqual(events.closed[0].context === EditorCloseContext.REPLACE, true);\n\t\tassert.strictEqual(events.closed[1].context === EditorCloseContext.REPLACE, true);\n\n\t\tconst mru = group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE);\n\t\tassert.strictEqual(mru[0], input3);\n\t\tassert.strictEqual(mru.length, 1);\n\t});\n\n\ttest('Multiple Editors - set active', function () {\n\t\tconst group = createEditorGroupModel();\n\t\tconst events = groupListener(group);\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\n\t\tgroup.openEditor(input1, { pinned: true, active: true });\n\t\tgroup.openEditor(input2, { pinned: true, active: true });\n\t\tgroup.openEditor(input3, { pinned: false, active: true });\n\n\t\tassert.strictEqual(group.activeEditor, input3);\n\n\t\tlet mru = group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE);\n\t\tassert.strictEqual(mru[0], input3);\n\t\tassert.strictEqual(mru[1], input2);\n\t\tassert.strictEqual(mru[2], input1);\n\n\t\tgroup.setActive(input3);\n\t\tassert.strictEqual(events.activated.length, 3);\n\n\t\tgroup.setActive(input1);\n\t\tassert.strictEqual(events.activated[3].editor, input1);\n\t\tassert.strictEqual(group.activeEditor, input1);\n\t\tassert.strictEqual(group.isActive(input1), true);\n\t\tassert.strictEqual(group.isActive(input2), false);\n\t\tassert.strictEqual(group.isActive(input3), false);\n\n\t\tmru = group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE);\n\t\tassert.strictEqual(mru[0], input1);\n\t\tassert.strictEqual(mru[1], input3);\n\t\tassert.strictEqual(mru[2], input2);\n\t});\n\n\ttest('Multiple Editors - pin and unpin', function () {\n\t\tconst group = createEditorGroupModel();\n\t\tconst events = groupListener(group);\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\n\t\tgroup.openEditor(input1, { pinned: true, active: true });\n\t\tgroup.openEditor(input2, { pinned: true, active: true });\n\t\tgroup.openEditor(input3, { pinned: false, active: true });\n\n\t\tassert.strictEqual(group.activeEditor, input3);\n\t\tassert.strictEqual(group.count, 3);\n\n\t\tgroup.pin(input3);\n\n\t\tassert.strictEqual(group.activeEditor, input3);\n\t\tassert.strictEqual(group.isPinned(input3), true);\n\t\tassert.strictEqual(group.isActive(input3), true);\n\t\tassert.strictEqual(events.pinned[0].editor, input3);\n\t\tassert.strictEqual(group.count, 3);\n\n\t\tgroup.unpin(input1);\n\n\t\tassert.strictEqual(group.activeEditor, input3);\n\t\tassert.strictEqual(group.isPinned(input1), false);\n\t\tassert.strictEqual(group.isActive(input1), false);\n\t\tassert.strictEqual(events.unpinned[0].editor, input1);\n\t\tassert.strictEqual(group.count, 3);\n\n\t\tgroup.unpin(input2);\n\n\t\tassert.strictEqual(group.activeEditor, input3);\n\t\tassert.strictEqual(group.count, 2); // 2 previews got merged into one\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], input2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[1], input3);\n\t\tassert.strictEqual(events.closed[0].editor, input1);\n\t\tassert.strictEqual(group.count, 2);\n\n\t\tgroup.unpin(input3);\n\n\t\tassert.strictEqual(group.activeEditor, input3);\n\t\tassert.strictEqual(group.count, 1); // pinning replaced the preview\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], input3);\n\t\tassert.strictEqual(events.closed[1].editor, input2);\n\t\tassert.strictEqual(group.count, 1);\n\t});\n\n\ttest('Multiple Editors - closing picks next from MRU list', function () {\n\t\tconst group = createEditorGroupModel();\n\t\tconst events = groupListener(group);\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\t\tconst input4 = input();\n\t\tconst input5 = input();\n\n\t\tgroup.openEditor(input1, { pinned: true, active: true });\n\t\tgroup.openEditor(input2, { pinned: true, active: true });\n\t\tgroup.openEditor(input3, { pinned: true, active: true });\n\t\tgroup.openEditor(input4, { pinned: true, active: true });\n\t\tgroup.openEditor(input5, { pinned: true, active: true });\n\n\t\tassert.strictEqual(group.activeEditor, input5);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[0], input5);\n\t\tassert.strictEqual(group.count, 5);\n\n\t\tgroup.closeEditor(input5);\n\t\tassert.strictEqual(group.activeEditor, input4);\n\t\tassert.strictEqual(events.activated[5].editor, input4);\n\t\tassert.strictEqual(group.count, 4);\n\n\t\tgroup.setActive(input1);\n\t\tgroup.setActive(input4);\n\t\tgroup.closeEditor(input4);\n\n\t\tassert.strictEqual(group.activeEditor, input1);\n\t\tassert.strictEqual(group.count, 3);\n\n\t\tgroup.closeEditor(input1);\n\n\t\tassert.strictEqual(group.activeEditor, input3);\n\t\tassert.strictEqual(group.count, 2);\n\n\t\tgroup.setActive(input2);\n\t\tgroup.closeEditor(input2);\n\n\t\tassert.strictEqual(group.activeEditor, input3);\n\t\tassert.strictEqual(group.count, 1);\n\n\t\tgroup.closeEditor(input3);\n\n\t\tassert.ok(!group.activeEditor);\n\t\tassert.strictEqual(group.count, 0);\n\t});\n\n\ttest('Multiple Editors - closing picks next to the right', function () {\n\t\tconst inst = new TestInstantiationService();\n\t\tinst.stub(IStorageService, disposables.add(new TestStorageService()));\n\t\tinst.stub(ILifecycleService, disposables.add(new TestLifecycleService()));\n\t\tinst.stub(IWorkspaceContextService, new TestContextService());\n\t\tinst.stub(ITelemetryService, NullTelemetryService);\n\n\t\tconst config = new TestConfigurationService();\n\t\tconfig.setUserConfiguration('workbench', { editor: { focusRecentEditorAfterClose: false } });\n\t\tinst.stub(IConfigurationService, config);\n\n\t\tconst group = disposables.add(inst.createInstance(EditorGroupModel, undefined));\n\t\tconst events = groupListener(group);\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\t\tconst input4 = input();\n\t\tconst input5 = input();\n\n\t\tgroup.openEditor(input1, { pinned: true, active: true });\n\t\tgroup.openEditor(input2, { pinned: true, active: true });\n\t\tgroup.openEditor(input3, { pinned: true, active: true });\n\t\tgroup.openEditor(input4, { pinned: true, active: true });\n\t\tgroup.openEditor(input5, { pinned: true, active: true });\n\n\t\tassert.strictEqual(group.activeEditor, input5);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[0], input5);\n\t\tassert.strictEqual(group.count, 5);\n\n\t\tgroup.closeEditor(input5);\n\t\tassert.strictEqual(group.activeEditor, input4);\n\t\tassert.strictEqual(events.activated[5].editor, input4);\n\t\tassert.strictEqual(group.count, 4);\n\n\t\tgroup.setActive(input1);\n\t\tgroup.closeEditor(input1);\n\n\t\tassert.strictEqual(group.activeEditor, input2);\n\t\tassert.strictEqual(group.count, 3);\n\n\t\tgroup.setActive(input3);\n\t\tgroup.closeEditor(input3);\n\n\t\tassert.strictEqual(group.activeEditor, input4);\n\t\tassert.strictEqual(group.count, 2);\n\n\t\tgroup.closeEditor(input4);\n\n\t\tassert.strictEqual(group.activeEditor, input2);\n\t\tassert.strictEqual(group.count, 1);\n\n\t\tgroup.closeEditor(input2);\n\n\t\tassert.ok(!group.activeEditor);\n\t\tassert.strictEqual(group.count, 0);\n\t\tinst.dispose();\n\t});\n\n\ttest('Multiple Editors - move editor', function () {\n\t\tconst group = createEditorGroupModel();\n\t\tconst events = groupListener(group);\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\t\tconst input4 = input();\n\t\tconst input5 = input();\n\n\t\tgroup.openEditor(input1, { pinned: true, active: true });\n\t\tgroup.openEditor(input2, { pinned: true, active: true });\n\n\t\tgroup.moveEditor(input1, 1);\n\n\t\tassert.strictEqual(events.moved[0].editor, input1);\n\t\tassert.strictEqual(events.moved[0].oldEditorIndex, 0);\n\t\tassert.strictEqual(events.moved[0].editorIndex, 1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], input2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[1], input1);\n\n\t\tgroup.setActive(input1);\n\t\tgroup.openEditor(input3, { pinned: true, active: true });\n\t\tgroup.openEditor(input4, { pinned: true, active: true });\n\t\tgroup.openEditor(input5, { pinned: true, active: true });\n\n\t\tgroup.moveEditor(input4, 0);\n\n\t\tassert.strictEqual(events.moved[1].editor, input4);\n\t\tassert.strictEqual(events.moved[1].oldEditorIndex, 3);\n\t\tassert.strictEqual(events.moved[1].editorIndex, 0);\n\t\tassert.strictEqual(events.moved[1].editor, input4);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], input4);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[1], input2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[2], input1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[3], input3);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[4], input5);\n\n\t\tgroup.moveEditor(input4, 3);\n\t\tgroup.moveEditor(input2, 1);\n\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], input1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[1], input2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[2], input3);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[3], input4);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[4], input5);\n\n\t\tassert.strictEqual(events.moved.length, 4);\n\t\tgroup.moveEditor(input1, 0);\n\t\tassert.strictEqual(events.moved.length, 4);\n\t\tgroup.moveEditor(input1, -1);\n\t\tassert.strictEqual(events.moved.length, 4);\n\n\t\tgroup.moveEditor(input5, 4);\n\t\tassert.strictEqual(events.moved.length, 4);\n\t\tgroup.moveEditor(input5, 100);\n\t\tassert.strictEqual(events.moved.length, 4);\n\n\t\tgroup.moveEditor(input5, -1);\n\t\tassert.strictEqual(events.moved.length, 5);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], input5);\n\n\t\tgroup.moveEditor(input1, 100);\n\t\tassert.strictEqual(events.moved.length, 6);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[4], input1);\n\t});\n\n\ttest('Multiple Editors - move editor across groups', function () {\n\t\tconst group1 = createEditorGroupModel();\n\t\tconst group2 = createEditorGroupModel();\n\n\t\tconst g1_input1 = input();\n\t\tconst g1_input2 = input();\n\t\tconst g2_input1 = input();\n\n\t\tgroup1.openEditor(g1_input1, { active: true, pinned: true });\n\t\tgroup1.openEditor(g1_input2, { active: true, pinned: true });\n\t\tgroup2.openEditor(g2_input1, { active: true, pinned: true });\n\n\t\t// A move across groups is a close in the one group and an open in the other group at a specific index\n\t\tgroup2.closeEditor(g2_input1);\n\t\tgroup1.openEditor(g2_input1, { active: true, pinned: true, index: 1 });\n\n\t\tassert.strictEqual(group1.count, 3);\n\t\tassert.strictEqual(group1.getEditors(EditorsOrder.SEQUENTIAL)[0], g1_input1);\n\t\tassert.strictEqual(group1.getEditors(EditorsOrder.SEQUENTIAL)[1], g2_input1);\n\t\tassert.strictEqual(group1.getEditors(EditorsOrder.SEQUENTIAL)[2], g1_input2);\n\t});\n\n\ttest('Multiple Editors - move editor across groups (input already exists in group 1)', function () {\n\t\tconst group1 = createEditorGroupModel();\n\t\tconst group2 = createEditorGroupModel();\n\n\t\tconst g1_input1 = input();\n\t\tconst g1_input2 = input();\n\t\tconst g1_input3 = input();\n\t\tconst g2_input1 = g1_input2;\n\n\t\tgroup1.openEditor(g1_input1, { active: true, pinned: true });\n\t\tgroup1.openEditor(g1_input2, { active: true, pinned: true });\n\t\tgroup1.openEditor(g1_input3, { active: true, pinned: true });\n\t\tgroup2.openEditor(g2_input1, { active: true, pinned: true });\n\n\t\t// A move across groups is a close in the one group and an open in the other group at a specific index\n\t\tgroup2.closeEditor(g2_input1);\n\t\tgroup1.openEditor(g2_input1, { active: true, pinned: true, index: 0 });\n\n\t\tassert.strictEqual(group1.count, 3);\n\t\tassert.strictEqual(group1.getEditors(EditorsOrder.SEQUENTIAL)[0], g1_input2);\n\t\tassert.strictEqual(group1.getEditors(EditorsOrder.SEQUENTIAL)[1], g1_input1);\n\t\tassert.strictEqual(group1.getEditors(EditorsOrder.SEQUENTIAL)[2], g1_input3);\n\t});\n\n\ttest('Multiple Editors - Pinned & Non Active', function () {\n\t\tconst group = createEditorGroupModel();\n\n\t\tconst input1 = input();\n\t\tgroup.openEditor(input1);\n\t\tassert.strictEqual(group.activeEditor, input1);\n\t\tassert.strictEqual(group.previewEditor, input1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], input1);\n\t\tassert.strictEqual(group.count, 1);\n\n\t\tconst input2 = input();\n\t\tgroup.openEditor(input2, { pinned: true, active: false });\n\t\tassert.strictEqual(group.activeEditor, input1);\n\t\tassert.strictEqual(group.previewEditor, input1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], input1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[1], input2);\n\t\tassert.strictEqual(group.count, 2);\n\n\t\tconst input3 = input();\n\t\tgroup.openEditor(input3, { pinned: true, active: false });\n\t\tassert.strictEqual(group.activeEditor, input1);\n\t\tassert.strictEqual(group.previewEditor, input1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], input1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[1], input3);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[2], input2);\n\t\tassert.strictEqual(group.isPinned(input1), false);\n\t\tassert.strictEqual(group.isPinned(input2), true);\n\t\tassert.strictEqual(group.isPinned(input3), true);\n\t\tassert.strictEqual(group.count, 3);\n\t});\n\n\ttest('Multiple Editors - Close Others, Close Left, Close Right', function () {\n\t\tconst group = createEditorGroupModel();\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\t\tconst input4 = input();\n\t\tconst input5 = input();\n\n\t\tgroup.openEditor(input1, { active: true, pinned: true });\n\t\tgroup.openEditor(input2, { active: true, pinned: true });\n\t\tgroup.openEditor(input3, { active: true, pinned: true });\n\t\tgroup.openEditor(input4, { active: true, pinned: true });\n\t\tgroup.openEditor(input5, { active: true, pinned: true });\n\n\t\t// Close Others\n\t\tcloseEditors(group, group.activeEditor!);\n\t\tassert.strictEqual(group.activeEditor, input5);\n\t\tassert.strictEqual(group.count, 1);\n\n\t\tcloseAllEditors(group);\n\t\tgroup.openEditor(input1, { active: true, pinned: true });\n\t\tgroup.openEditor(input2, { active: true, pinned: true });\n\t\tgroup.openEditor(input3, { active: true, pinned: true });\n\t\tgroup.openEditor(input4, { active: true, pinned: true });\n\t\tgroup.openEditor(input5, { active: true, pinned: true });\n\t\tgroup.setActive(input3);\n\n\t\t// Close Left\n\t\tassert.strictEqual(group.activeEditor, input3);\n\t\tcloseEditors(group, group.activeEditor, CloseDirection.LEFT);\n\t\tassert.strictEqual(group.activeEditor, input3);\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], input3);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[1], input4);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[2], input5);\n\n\t\tcloseAllEditors(group);\n\t\tgroup.openEditor(input1, { active: true, pinned: true });\n\t\tgroup.openEditor(input2, { active: true, pinned: true });\n\t\tgroup.openEditor(input3, { active: true, pinned: true });\n\t\tgroup.openEditor(input4, { active: true, pinned: true });\n\t\tgroup.openEditor(input5, { active: true, pinned: true });\n\t\tgroup.setActive(input3);\n\n\t\t// Close Right\n\t\tassert.strictEqual(group.activeEditor, input3);\n\t\tcloseEditors(group, group.activeEditor, CloseDirection.RIGHT);\n\t\tassert.strictEqual(group.activeEditor, input3);\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], input1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[1], input2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[2], input3);\n\t});\n\n\ttest('Multiple Editors - real user example', function () {\n\t\tconst group = createEditorGroupModel();\n\n\t\t// [] -> /index.html/\n\t\tconst indexHtml = input('index.html');\n\t\tlet openedEditor = group.openEditor(indexHtml).editor;\n\t\tassert.strictEqual(openedEditor, indexHtml);\n\t\tassert.strictEqual(group.activeEditor, indexHtml);\n\t\tassert.strictEqual(group.previewEditor, indexHtml);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], indexHtml);\n\t\tassert.strictEqual(group.count, 1);\n\n\t\t// /index.html/ -> /index.html/\n\t\tconst sameIndexHtml = input('index.html');\n\t\topenedEditor = group.openEditor(sameIndexHtml).editor;\n\t\tassert.strictEqual(openedEditor, indexHtml);\n\t\tassert.strictEqual(group.activeEditor, indexHtml);\n\t\tassert.strictEqual(group.previewEditor, indexHtml);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], indexHtml);\n\t\tassert.strictEqual(group.count, 1);\n\n\t\t// /index.html/ -> /style.css/\n\t\tconst styleCss = input('style.css');\n\t\topenedEditor = group.openEditor(styleCss).editor;\n\t\tassert.strictEqual(openedEditor, styleCss);\n\t\tassert.strictEqual(group.activeEditor, styleCss);\n\t\tassert.strictEqual(group.previewEditor, styleCss);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], styleCss);\n\t\tassert.strictEqual(group.count, 1);\n\n\t\t// /style.css/ -> [/style.css/, test.js]\n\t\tconst testJs = input('test.js');\n\t\topenedEditor = group.openEditor(testJs, { active: true, pinned: true }).editor;\n\t\tassert.strictEqual(openedEditor, testJs);\n\t\tassert.strictEqual(group.previewEditor, styleCss);\n\t\tassert.strictEqual(group.activeEditor, testJs);\n\t\tassert.strictEqual(group.isPinned(styleCss), false);\n\t\tassert.strictEqual(group.isPinned(testJs), true);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], styleCss);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[1], testJs);\n\t\tassert.strictEqual(group.count, 2);\n\n\t\t// [/style.css/, test.js] -> [test.js, /index.html/]\n\t\tconst indexHtml2 = input('index.html');\n\t\tgroup.openEditor(indexHtml2, { active: true });\n\t\tassert.strictEqual(group.activeEditor, indexHtml2);\n\t\tassert.strictEqual(group.previewEditor, indexHtml2);\n\t\tassert.strictEqual(group.isPinned(indexHtml2), false);\n\t\tassert.strictEqual(group.isPinned(testJs), true);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[0], testJs);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[1], indexHtml2);\n\t\tassert.strictEqual(group.count, 2);\n\n\t\t// make test.js active\n\t\tconst testJs2 = input('test.js');\n\t\tgroup.setActive(testJs2);\n\t\tassert.strictEqual(group.activeEditor, testJs);\n\t\tassert.strictEqual(group.isActive(testJs2), true);\n\t\tassert.strictEqual(group.count, 2);\n\n\t\t// [test.js, /indexHtml/] -> [test.js, index.html]\n\t\tconst indexHtml3 = input('index.html');\n\t\tgroup.pin(indexHtml3);\n\t\tassert.strictEqual(group.isPinned(indexHtml3), true);\n\t\tassert.strictEqual(group.activeEditor, testJs);\n\n\t\t// [test.js, index.html] -> [test.js, file.ts, index.html]\n\t\tconst fileTs = input('file.ts');\n\t\tgroup.openEditor(fileTs, { active: true, pinned: true });\n\t\tassert.strictEqual(group.isPinned(fileTs), true);\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.activeEditor, fileTs);\n\n\t\t// [test.js, index.html, file.ts] -> [test.js, /file.ts/, index.html]\n\t\tgroup.unpin(fileTs);\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.isPinned(fileTs), false);\n\t\tassert.strictEqual(group.activeEditor, fileTs);\n\n\t\t// [test.js, /file.ts/, index.html] -> [test.js, /other.ts/, index.html]\n\t\tconst otherTs = input('other.ts');\n\t\tgroup.openEditor(otherTs, { active: true });\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.activeEditor, otherTs);\n\t\tassert.ok(group.getEditors(EditorsOrder.SEQUENTIAL)[0].matches(testJs));\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[1], otherTs);\n\t\tassert.ok(group.getEditors(EditorsOrder.SEQUENTIAL)[2].matches(indexHtml));\n\n\t\t// make index.html active\n\t\tconst indexHtml4 = input('index.html');\n\t\tgroup.setActive(indexHtml4);\n\t\tassert.strictEqual(group.activeEditor, indexHtml2);\n\n\t\t// [test.js, /other.ts/, index.html] -> [test.js, /other.ts/]\n\t\tgroup.closeEditor(indexHtml);\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(group.activeEditor, otherTs);\n\t\tassert.ok(group.getEditors(EditorsOrder.SEQUENTIAL)[0].matches(testJs));\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL)[1], otherTs);\n\n\t\t// [test.js, /other.ts/] -> [test.js]\n\t\tgroup.closeEditor(otherTs);\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.activeEditor, testJs);\n\t\tassert.ok(group.getEditors(EditorsOrder.SEQUENTIAL)[0].matches(testJs));\n\n\t\t// [test.js] -> /test.js/\n\t\tgroup.unpin(testJs);\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.activeEditor, testJs);\n\t\tassert.ok(group.getEditors(EditorsOrder.SEQUENTIAL)[0].matches(testJs));\n\t\tassert.strictEqual(group.isPinned(testJs), false);\n\n\t\t// /test.js/ -> []\n\t\tgroup.closeEditor(testJs);\n\t\tassert.strictEqual(group.count, 0);\n\t\tassert.strictEqual(group.activeEditor, null);\n\t\tassert.strictEqual(group.previewEditor, null);\n\t});\n\n\ttest('Single Group, Single Editor - persist', function () {\n\t\tconst inst = new TestInstantiationService();\n\n\t\tinst.stub(IStorageService, disposables.add(new TestStorageService()));\n\t\tinst.stub(IWorkspaceContextService, new TestContextService());\n\t\tconst lifecycle = disposables.add(new TestLifecycleService());\n\t\tinst.stub(ILifecycleService, lifecycle);\n\t\tinst.stub(ITelemetryService, NullTelemetryService);\n\n\t\tconst config = new TestConfigurationService();\n\t\tconfig.setUserConfiguration('workbench', { editor: { openPositioning: 'right' } });\n\t\tinst.stub(IConfigurationService, config);\n\n\t\tinst.invokeFunction(accessor => Registry.as<IEditorFactoryRegistry>(EditorExtensions.EditorFactory).start(accessor));\n\n\t\tlet group = createEditorGroupModel();\n\n\t\tconst input1 = input();\n\t\tgroup.openEditor(input1);\n\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.activeEditor!.matches(input1), true);\n\t\tassert.strictEqual(group.previewEditor!.matches(input1), true);\n\t\tassert.strictEqual(group.isActive(input1), true);\n\n\t\t// Create model again - should load from storage\n\t\tgroup = disposables.add(inst.createInstance(EditorGroupModel, group.serialize()));\n\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.activeEditor!.matches(input1), true);\n\t\tassert.strictEqual(group.previewEditor!.matches(input1), true);\n\t\tassert.strictEqual(group.isActive(input1), true);\n\t\tinst.dispose();\n\t});\n\n\ttest('Multiple Groups, Multiple editors - persist', function () {\n\t\tconst inst = new TestInstantiationService();\n\n\t\tinst.stub(IStorageService, disposables.add(new TestStorageService()));\n\t\tinst.stub(IWorkspaceContextService, new TestContextService());\n\t\tconst lifecycle = disposables.add(new TestLifecycleService());\n\t\tinst.stub(ILifecycleService, lifecycle);\n\t\tinst.stub(ITelemetryService, NullTelemetryService);\n\n\t\tconst config = new TestConfigurationService();\n\t\tconfig.setUserConfiguration('workbench', { editor: { openPositioning: 'right' } });\n\t\tinst.stub(IConfigurationService, config);\n\n\t\tinst.invokeFunction(accessor => Registry.as<IEditorFactoryRegistry>(EditorExtensions.EditorFactory).start(accessor));\n\n\t\tlet group1 = createEditorGroupModel();\n\n\t\tconst g1_input1 = input();\n\t\tconst g1_input2 = input();\n\t\tconst g1_input3 = input();\n\n\t\tgroup1.openEditor(g1_input1, { active: true, pinned: true });\n\t\tgroup1.openEditor(g1_input2, { active: true, pinned: false });\n\t\tgroup1.openEditor(g1_input3, { active: false, pinned: true });\n\n\t\tlet group2 = createEditorGroupModel();\n\n\t\tconst g2_input1 = input();\n\t\tconst g2_input2 = input();\n\t\tconst g2_input3 = input();\n\n\t\tgroup2.openEditor(g2_input1, { active: true, pinned: true });\n\t\tgroup2.openEditor(g2_input2, { active: false, pinned: false });\n\t\tgroup2.openEditor(g2_input3, { active: false, pinned: true });\n\n\t\tassert.strictEqual(group1.count, 3);\n\t\tassert.strictEqual(group2.count, 3);\n\t\tassert.strictEqual(group1.activeEditor!.matches(g1_input2), true);\n\t\tassert.strictEqual(group2.activeEditor!.matches(g2_input1), true);\n\t\tassert.strictEqual(group1.previewEditor!.matches(g1_input2), true);\n\t\tassert.strictEqual(group2.previewEditor!.matches(g2_input2), true);\n\n\t\tassert.strictEqual(group1.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[0].matches(g1_input2), true);\n\t\tassert.strictEqual(group1.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[1].matches(g1_input3), true);\n\t\tassert.strictEqual(group1.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[2].matches(g1_input1), true);\n\n\t\tassert.strictEqual(group2.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[0].matches(g2_input1), true);\n\t\tassert.strictEqual(group2.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[1].matches(g2_input3), true);\n\t\tassert.strictEqual(group2.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[2].matches(g2_input2), true);\n\n\t\t// Create model again - should load from storage\n\t\tgroup1 = disposables.add(inst.createInstance(EditorGroupModel, group1.serialize()));\n\t\tgroup2 = disposables.add(inst.createInstance(EditorGroupModel, group2.serialize()));\n\n\t\tassert.strictEqual(group1.count, 3);\n\t\tassert.strictEqual(group2.count, 3);\n\t\tassert.strictEqual(group1.activeEditor!.matches(g1_input2), true);\n\t\tassert.strictEqual(group2.activeEditor!.matches(g2_input1), true);\n\t\tassert.strictEqual(group1.previewEditor!.matches(g1_input2), true);\n\t\tassert.strictEqual(group2.previewEditor!.matches(g2_input2), true);\n\n\t\tassert.strictEqual(group1.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[0].matches(g1_input2), true);\n\t\tassert.strictEqual(group1.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[1].matches(g1_input3), true);\n\t\tassert.strictEqual(group1.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[2].matches(g1_input1), true);\n\n\t\tassert.strictEqual(group2.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[0].matches(g2_input1), true);\n\t\tassert.strictEqual(group2.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[1].matches(g2_input3), true);\n\t\tassert.strictEqual(group2.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[2].matches(g2_input2), true);\n\t\tinst.dispose();\n\t});\n\n\ttest('Single group, multiple editors - persist (some not persistable)', function () {\n\t\tconst inst = new TestInstantiationService();\n\n\t\tinst.stub(IStorageService, disposables.add(new TestStorageService()));\n\t\tinst.stub(IWorkspaceContextService, new TestContextService());\n\t\tconst lifecycle = disposables.add(new TestLifecycleService());\n\t\tinst.stub(ILifecycleService, lifecycle);\n\t\tinst.stub(ITelemetryService, NullTelemetryService);\n\n\t\tconst config = new TestConfigurationService();\n\t\tconfig.setUserConfiguration('workbench', { editor: { openPositioning: 'right' } });\n\t\tinst.stub(IConfigurationService, config);\n\n\t\tinst.invokeFunction(accessor => Registry.as<IEditorFactoryRegistry>(EditorExtensions.EditorFactory).start(accessor));\n\n\t\tlet group = createEditorGroupModel();\n\n\t\tconst serializableInput1 = input();\n\t\tconst nonSerializableInput2 = input('3', true);\n\t\tconst serializableInput2 = input();\n\n\t\tgroup.openEditor(serializableInput1, { active: true, pinned: true });\n\t\tgroup.openEditor(nonSerializableInput2, { active: true, pinned: false });\n\t\tgroup.openEditor(serializableInput2, { active: false, pinned: true });\n\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.activeEditor!.matches(nonSerializableInput2), true);\n\t\tassert.strictEqual(group.previewEditor!.matches(nonSerializableInput2), true);\n\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[0].matches(nonSerializableInput2), true);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[1].matches(serializableInput2), true);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[2].matches(serializableInput1), true);\n\n\t\t// Create model again - should load from storage\n\t\tgroup = disposables.add(inst.createInstance(EditorGroupModel, group.serialize()));\n\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(group.activeEditor!.matches(serializableInput2), true);\n\t\tassert.strictEqual(group.previewEditor, null);\n\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[0].matches(serializableInput2), true);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE)[1].matches(serializableInput1), true);\n\t\tinst.dispose();\n\t});\n\n\ttest('Single group, multiple editors - persist (some not persistable, sticky editors)', function () {\n\t\tconst inst = new TestInstantiationService();\n\n\t\tinst.stub(IStorageService, disposables.add(new TestStorageService()));\n\t\tinst.stub(IWorkspaceContextService, new TestContextService());\n\t\tconst lifecycle = disposables.add(new TestLifecycleService());\n\t\tinst.stub(ILifecycleService, lifecycle);\n\t\tinst.stub(ITelemetryService, NullTelemetryService);\n\n\t\tconst config = new TestConfigurationService();\n\t\tconfig.setUserConfiguration('workbench', { editor: { openPositioning: 'right' } });\n\t\tinst.stub(IConfigurationService, config);\n\n\t\tinst.invokeFunction(accessor => Registry.as<IEditorFactoryRegistry>(EditorExtensions.EditorFactory).start(accessor));\n\n\t\tlet group = createEditorGroupModel();\n\n\t\tconst serializableInput1 = input();\n\t\tconst nonSerializableInput2 = input('3', true);\n\t\tconst serializableInput2 = input();\n\n\t\tgroup.openEditor(serializableInput1, { active: true, pinned: true });\n\t\tgroup.openEditor(nonSerializableInput2, { active: true, pinned: true, sticky: true });\n\t\tgroup.openEditor(serializableInput2, { active: false, pinned: true });\n\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.stickyCount, 1);\n\n\t\t// Create model again - should load from storage\n\t\tgroup = disposables.add(inst.createInstance(EditorGroupModel, group.serialize()));\n\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(group.stickyCount, 0);\n\t\tinst.dispose();\n\t});\n\n\ttest('Multiple groups, multiple editors - persist (some not persistable, causes empty group)', function () {\n\t\tconst inst = new TestInstantiationService();\n\n\t\tinst.stub(IStorageService, disposables.add(new TestStorageService()));\n\t\tinst.stub(IWorkspaceContextService, new TestContextService());\n\t\tconst lifecycle = disposables.add(new TestLifecycleService());\n\t\tinst.stub(ILifecycleService, lifecycle);\n\t\tinst.stub(ITelemetryService, NullTelemetryService);\n\n\t\tconst config = new TestConfigurationService();\n\t\tconfig.setUserConfiguration('workbench', { editor: { openPositioning: 'right' } });\n\t\tinst.stub(IConfigurationService, config);\n\n\t\tinst.invokeFunction(accessor => Registry.as<IEditorFactoryRegistry>(EditorExtensions.EditorFactory).start(accessor));\n\n\t\tlet group1 = createEditorGroupModel();\n\t\tlet group2 = createEditorGroupModel();\n\n\t\tconst serializableInput1 = input();\n\t\tconst serializableInput2 = input();\n\t\tconst nonSerializableInput = input('2', true);\n\n\t\tgroup1.openEditor(serializableInput1, { pinned: true });\n\t\tgroup1.openEditor(serializableInput2);\n\n\t\tgroup2.openEditor(nonSerializableInput);\n\n\t\t// Create model again - should load from storage\n\t\tgroup1 = disposables.add(inst.createInstance(EditorGroupModel, group1.serialize()));\n\t\tgroup2 = disposables.add(inst.createInstance(EditorGroupModel, group2.serialize()));\n\n\t\tassert.strictEqual(group1.count, 2);\n\t\tassert.strictEqual(group1.getEditors(EditorsOrder.SEQUENTIAL)[0].matches(serializableInput1), true);\n\t\tassert.strictEqual(group1.getEditors(EditorsOrder.SEQUENTIAL)[1].matches(serializableInput2), true);\n\t\tinst.dispose();\n\t});\n\n\ttest('Multiple Editors - Editor Dispose', function () {\n\t\tconst group1 = createEditorGroupModel();\n\t\tconst group2 = createEditorGroupModel();\n\n\t\tconst group1Listener = groupListener(group1);\n\t\tconst group2Listener = groupListener(group2);\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\n\t\tgroup1.openEditor(input1, { pinned: true, active: true });\n\t\tgroup1.openEditor(input2, { pinned: true, active: true });\n\t\tgroup1.openEditor(input3, { pinned: true, active: true });\n\n\t\tgroup2.openEditor(input1, { pinned: true, active: true });\n\t\tgroup2.openEditor(input2, { pinned: true, active: true });\n\n\t\tinput1.dispose();\n\n\t\tassert.strictEqual(group1Listener.disposed.length, 1);\n\t\tassert.strictEqual(group1Listener.disposed[0].editorIndex, 0);\n\t\tassert.strictEqual(group2Listener.disposed.length, 1);\n\t\tassert.strictEqual(group2Listener.disposed[0].editorIndex, 0);\n\t\tassert.ok(group1Listener.disposed[0].editor.matches(input1));\n\t\tassert.ok(group2Listener.disposed[0].editor.matches(input1));\n\n\t\tinput3.dispose();\n\t\tassert.strictEqual(group1Listener.disposed.length, 2);\n\t\tassert.strictEqual(group1Listener.disposed[1].editorIndex, 2);\n\t\tassert.strictEqual(group2Listener.disposed.length, 1);\n\t\tassert.ok(group1Listener.disposed[1].editor.matches(input3));\n\t});\n\n\ttest('Preview tab does not have a stable position (https://github.com/microsoft/vscode/issues/8245)', function () {\n\t\tconst group1 = createEditorGroupModel();\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\n\t\tgroup1.openEditor(input1, { pinned: true, active: true });\n\t\tgroup1.openEditor(input2, { active: true });\n\t\tgroup1.setActive(input1);\n\n\t\tgroup1.openEditor(input3, { active: true });\n\t\tassert.strictEqual(group1.indexOf(input3), 1);\n\t});\n\n\ttest('Multiple Editors - Editor Emits Dirty and Label Changed', function () {\n\t\tconst group1 = createEditorGroupModel();\n\t\tconst group2 = createEditorGroupModel();\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\n\t\tgroup1.openEditor(input1, { pinned: true, active: true });\n\t\tgroup2.openEditor(input2, { pinned: true, active: true });\n\n\t\tlet dirty1Counter = 0;\n\t\tdisposables.add(group1.onDidModelChange((e) => {\n\t\t\tif (e.kind === GroupModelChangeKind.EDITOR_DIRTY) {\n\t\t\t\tdirty1Counter++;\n\t\t\t}\n\t\t}));\n\n\t\tlet dirty2Counter = 0;\n\t\tdisposables.add(group2.onDidModelChange((e) => {\n\t\t\tif (e.kind === GroupModelChangeKind.EDITOR_DIRTY) {\n\t\t\t\tdirty2Counter++;\n\t\t\t}\n\t\t}));\n\n\t\tlet label1ChangeCounter = 0;\n\t\tdisposables.add(group1.onDidModelChange((e) => {\n\t\t\tif (e.kind === GroupModelChangeKind.EDITOR_LABEL) {\n\t\t\t\tlabel1ChangeCounter++;\n\t\t\t}\n\t\t}));\n\n\t\tlet label2ChangeCounter = 0;\n\t\tdisposables.add(group2.onDidModelChange((e) => {\n\t\t\tif (e.kind === GroupModelChangeKind.EDITOR_LABEL) {\n\t\t\t\tlabel2ChangeCounter++;\n\t\t\t}\n\t\t}));\n\n\t\t(<TestEditorInput>input1).setDirty();\n\t\t(<TestEditorInput>input1).setLabel();\n\n\t\tassert.strictEqual(dirty1Counter, 1);\n\t\tassert.strictEqual(label1ChangeCounter, 1);\n\n\t\t(<TestEditorInput>input2).setDirty();\n\t\t(<TestEditorInput>input2).setLabel();\n\n\t\tassert.strictEqual(dirty2Counter, 1);\n\t\tassert.strictEqual(label2ChangeCounter, 1);\n\n\t\tcloseAllEditors(group2);\n\n\t\t(<TestEditorInput>input2).setDirty();\n\t\t(<TestEditorInput>input2).setLabel();\n\n\t\tassert.strictEqual(dirty2Counter, 1);\n\t\tassert.strictEqual(label2ChangeCounter, 1);\n\t\tassert.strictEqual(dirty1Counter, 1);\n\t\tassert.strictEqual(label1ChangeCounter, 1);\n\t});\n\n\ttest('Sticky Editors', function () {\n\t\tconst group = createEditorGroupModel();\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\t\tconst input4 = input();\n\n\t\tgroup.openEditor(input1, { pinned: true, active: true });\n\t\tgroup.openEditor(input2, { pinned: true, active: true });\n\t\tgroup.openEditor(input3, { pinned: false, active: true });\n\n\t\tassert.strictEqual(group.stickyCount, 0);\n\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL).length, 3);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL, { excludeSticky: true }).length, 3);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 3);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE, { excludeSticky: true }).length, 3);\n\n\t\t// Stick last editor should move it first and pin\n\t\tgroup.stick(input3);\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE, { excludeSticky: true }).length, 2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE, { excludeSticky: false }).length, 3);\n\t\tassert.strictEqual(group.isSticky(input1), false);\n\t\tassert.strictEqual(group.isSticky(input2), false);\n\t\tassert.strictEqual(group.isSticky(input3), true);\n\t\tassert.strictEqual(group.isPinned(input3), true);\n\t\tassert.strictEqual(group.indexOf(input1), 1);\n\t\tassert.strictEqual(group.indexOf(input2), 2);\n\t\tassert.strictEqual(group.indexOf(input3), 0);\n\n\t\tlet sequentialAllEditors = group.getEditors(EditorsOrder.SEQUENTIAL);\n\t\tassert.strictEqual(sequentialAllEditors.length, 3);\n\t\tlet sequentialEditorsExcludingSticky = group.getEditors(EditorsOrder.SEQUENTIAL, { excludeSticky: true });\n\t\tassert.strictEqual(sequentialEditorsExcludingSticky.length, 2);\n\t\tassert.ok(sequentialEditorsExcludingSticky.indexOf(input1) >= 0);\n\t\tassert.ok(sequentialEditorsExcludingSticky.indexOf(input2) >= 0);\n\t\tlet mruAllEditors = group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE);\n\t\tassert.strictEqual(mruAllEditors.length, 3);\n\t\tlet mruEditorsExcludingSticky = group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE, { excludeSticky: true });\n\t\tassert.strictEqual(mruEditorsExcludingSticky.length, 2);\n\t\tassert.ok(mruEditorsExcludingSticky.indexOf(input1) >= 0);\n\t\tassert.ok(mruEditorsExcludingSticky.indexOf(input2) >= 0);\n\n\t\t// Sticking same editor again is a no-op\n\t\tgroup.stick(input3);\n\t\tassert.strictEqual(group.isSticky(input3), true);\n\n\t\t// Sticking last editor now should move it after sticky one\n\t\tgroup.stick(input2);\n\t\tassert.strictEqual(group.stickyCount, 2);\n\t\tassert.strictEqual(group.isSticky(input1), false);\n\t\tassert.strictEqual(group.isSticky(input2), true);\n\t\tassert.strictEqual(group.isSticky(input3), true);\n\t\tassert.strictEqual(group.indexOf(input1), 2);\n\t\tassert.strictEqual(group.indexOf(input2), 1);\n\t\tassert.strictEqual(group.indexOf(input3), 0);\n\n\t\tsequentialAllEditors = group.getEditors(EditorsOrder.SEQUENTIAL);\n\t\tassert.strictEqual(sequentialAllEditors.length, 3);\n\t\tsequentialEditorsExcludingSticky = group.getEditors(EditorsOrder.SEQUENTIAL, { excludeSticky: true });\n\t\tassert.strictEqual(sequentialEditorsExcludingSticky.length, 1);\n\t\tassert.ok(sequentialEditorsExcludingSticky.indexOf(input1) >= 0);\n\t\tmruAllEditors = group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE);\n\t\tassert.strictEqual(mruAllEditors.length, 3);\n\t\tmruEditorsExcludingSticky = group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE, { excludeSticky: true });\n\t\tassert.strictEqual(mruEditorsExcludingSticky.length, 1);\n\t\tassert.ok(mruEditorsExcludingSticky.indexOf(input1) >= 0);\n\n\t\t// Sticking remaining editor also works\n\t\tgroup.stick(input1);\n\t\tassert.strictEqual(group.stickyCount, 3);\n\t\tassert.strictEqual(group.isSticky(input1), true);\n\t\tassert.strictEqual(group.isSticky(input2), true);\n\t\tassert.strictEqual(group.isSticky(input3), true);\n\t\tassert.strictEqual(group.indexOf(input1), 2);\n\t\tassert.strictEqual(group.indexOf(input2), 1);\n\t\tassert.strictEqual(group.indexOf(input3), 0);\n\n\t\tsequentialAllEditors = group.getEditors(EditorsOrder.SEQUENTIAL);\n\t\tassert.strictEqual(sequentialAllEditors.length, 3);\n\t\tsequentialEditorsExcludingSticky = group.getEditors(EditorsOrder.SEQUENTIAL, { excludeSticky: true });\n\t\tassert.strictEqual(sequentialEditorsExcludingSticky.length, 0);\n\t\tmruAllEditors = group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE);\n\t\tassert.strictEqual(mruAllEditors.length, 3);\n\t\tmruEditorsExcludingSticky = group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE, { excludeSticky: true });\n\t\tassert.strictEqual(mruEditorsExcludingSticky.length, 0);\n\n\t\t// Unsticking moves editor after sticky ones\n\t\tgroup.unstick(input3);\n\t\tassert.strictEqual(group.stickyCount, 2);\n\t\tassert.strictEqual(group.isSticky(input1), true);\n\t\tassert.strictEqual(group.isSticky(input2), true);\n\t\tassert.strictEqual(group.isSticky(input3), false);\n\t\tassert.strictEqual(group.indexOf(input1), 1);\n\t\tassert.strictEqual(group.indexOf(input2), 0);\n\t\tassert.strictEqual(group.indexOf(input3), 2);\n\n\t\t// Unsticking all works\n\t\tgroup.unstick(input1);\n\t\tgroup.unstick(input2);\n\t\tassert.strictEqual(group.stickyCount, 0);\n\t\tassert.strictEqual(group.isSticky(input1), false);\n\t\tassert.strictEqual(group.isSticky(input2), false);\n\t\tassert.strictEqual(group.isSticky(input3), false);\n\n\t\tgroup.moveEditor(input1, 0);\n\t\tgroup.moveEditor(input2, 1);\n\t\tgroup.moveEditor(input3, 2);\n\n\t\t// Opening a new editor always opens after sticky editors\n\t\tgroup.stick(input1);\n\t\tgroup.stick(input2);\n\t\tgroup.setActive(input1);\n\n\t\tconst events = groupListener(group);\n\n\t\tgroup.openEditor(input4, { pinned: true, active: true });\n\t\tassert.strictEqual(group.indexOf(input4), 2);\n\t\tgroup.closeEditor(input4);\n\n\t\tassert.strictEqual(events.closed[0].sticky, false);\n\n\t\tgroup.setActive(input2);\n\n\t\tgroup.openEditor(input4, { pinned: true, active: true });\n\t\tassert.strictEqual(group.indexOf(input4), 2);\n\t\tgroup.closeEditor(input4);\n\n\t\tassert.strictEqual(events.closed[1].sticky, false);\n\n\t\t// Reset\n\t\tassert.strictEqual(group.stickyCount, 2);\n\t\tassert.strictEqual(group.isSticky(input1), true);\n\t\tassert.strictEqual(group.isSticky(input2), true);\n\t\tassert.strictEqual(group.isSticky(input3), false);\n\t\tassert.strictEqual(group.indexOf(input1), 0);\n\t\tassert.strictEqual(group.indexOf(input2), 1);\n\t\tassert.strictEqual(group.indexOf(input3), 2);\n\n\t\t// Moving a sticky editor works\n\t\tgroup.moveEditor(input1, 1); // still moved within sticky range\n\t\tassert.strictEqual(group.isSticky(input1), true);\n\t\tassert.strictEqual(group.isSticky(input2), true);\n\t\tassert.strictEqual(group.isSticky(input3), false);\n\t\tassert.strictEqual(group.indexOf(input1), 1);\n\t\tassert.strictEqual(group.indexOf(input2), 0);\n\t\tassert.strictEqual(group.indexOf(input3), 2);\n\n\t\tgroup.moveEditor(input1, 0); // still moved within sticky range\n\t\tassert.strictEqual(group.isSticky(input1), true);\n\t\tassert.strictEqual(group.isSticky(input2), true);\n\t\tassert.strictEqual(group.isSticky(input3), false);\n\t\tassert.strictEqual(group.indexOf(input1), 0);\n\t\tassert.strictEqual(group.indexOf(input2), 1);\n\t\tassert.strictEqual(group.indexOf(input3), 2);\n\n\t\tgroup.moveEditor(input1, 2); // moved out of sticky range//\n\t\tassert.strictEqual(group.isSticky(input1), false);\n\t\tassert.strictEqual(group.isSticky(input2), true);\n\t\tassert.strictEqual(group.isSticky(input3), false);\n\t\tassert.strictEqual(group.indexOf(input1), 2);\n\t\tassert.strictEqual(group.indexOf(input2), 0);\n\t\tassert.strictEqual(group.indexOf(input3), 1);\n\n\t\tgroup.moveEditor(input2, 2); // moved out of sticky range\n\t\tassert.strictEqual(group.isSticky(input1), false);\n\t\tassert.strictEqual(group.isSticky(input2), false);\n\t\tassert.strictEqual(group.isSticky(input3), false);\n\t\tassert.strictEqual(group.indexOf(input1), 1);\n\t\tassert.strictEqual(group.indexOf(input2), 2);\n\t\tassert.strictEqual(group.indexOf(input3), 0);\n\n\t\t// Reset\n\t\tgroup.moveEditor(input1, 0);\n\t\tgroup.moveEditor(input2, 1);\n\t\tgroup.moveEditor(input3, 2);\n\t\tgroup.stick(input1);\n\t\tgroup.unstick(input2);\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tassert.strictEqual(group.isSticky(input1), true);\n\t\tassert.strictEqual(group.isSticky(input2), false);\n\t\tassert.strictEqual(group.isSticky(input3), false);\n\t\tassert.strictEqual(group.indexOf(input1), 0);\n\t\tassert.strictEqual(group.indexOf(input2), 1);\n\t\tassert.strictEqual(group.indexOf(input3), 2);\n\n\t\t// Moving a unsticky editor in works\n\t\tgroup.moveEditor(input3, 1); // still moved within unsticked range\n\t\tassert.strictEqual(group.isSticky(input1), true);\n\t\tassert.strictEqual(group.isSticky(input2), false);\n\t\tassert.strictEqual(group.isSticky(input3), false);\n\t\tassert.strictEqual(group.indexOf(input1), 0);\n\t\tassert.strictEqual(group.indexOf(input2), 2);\n\t\tassert.strictEqual(group.indexOf(input3), 1);\n\n\t\tgroup.moveEditor(input3, 2); // still moved within unsticked range\n\t\tassert.strictEqual(group.isSticky(input1), true);\n\t\tassert.strictEqual(group.isSticky(input2), false);\n\t\tassert.strictEqual(group.isSticky(input3), false);\n\t\tassert.strictEqual(group.indexOf(input1), 0);\n\t\tassert.strictEqual(group.indexOf(input2), 1);\n\t\tassert.strictEqual(group.indexOf(input3), 2);\n\n\t\tgroup.moveEditor(input3, 0); // moved into sticky range//\n\t\tassert.strictEqual(group.isSticky(input1), true);\n\t\tassert.strictEqual(group.isSticky(input2), false);\n\t\tassert.strictEqual(group.isSticky(input3), true);\n\t\tassert.strictEqual(group.indexOf(input1), 1);\n\t\tassert.strictEqual(group.indexOf(input2), 2);\n\t\tassert.strictEqual(group.indexOf(input3), 0);\n\n\t\tgroup.moveEditor(input2, 0); // moved into sticky range\n\t\tassert.strictEqual(group.isSticky(input1), true);\n\t\tassert.strictEqual(group.isSticky(input2), true);\n\t\tassert.strictEqual(group.isSticky(input3), true);\n\t\tassert.strictEqual(group.indexOf(input1), 2);\n\t\tassert.strictEqual(group.indexOf(input2), 0);\n\t\tassert.strictEqual(group.indexOf(input3), 1);\n\n\t\t// Closing a sticky editor updates state properly\n\t\tgroup.stick(input1);\n\t\tgroup.stick(input2);\n\t\tgroup.unstick(input3);\n\t\tassert.strictEqual(group.stickyCount, 2);\n\t\tgroup.closeEditor(input1);\n\t\tassert.strictEqual(events.closed[2].sticky, true);\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tgroup.closeEditor(input2);\n\t\tassert.strictEqual(events.closed[3].sticky, true);\n\t\tassert.strictEqual(group.stickyCount, 0);\n\n\t\tcloseAllEditors(group);\n\t\tassert.strictEqual(group.stickyCount, 0);\n\n\t\t// Open sticky\n\t\tgroup.openEditor(input1, { sticky: true });\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tassert.strictEqual(group.isSticky(input1), true);\n\n\t\tgroup.openEditor(input2, { pinned: true, active: true });\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tassert.strictEqual(group.isSticky(input1), true);\n\t\tassert.strictEqual(group.isSticky(input2), false);\n\n\t\tgroup.openEditor(input2, { sticky: true });\n\t\tassert.strictEqual(group.stickyCount, 2);\n\t\tassert.strictEqual(group.isSticky(input1), true);\n\t\tassert.strictEqual(group.isSticky(input2), true);\n\n\t\tgroup.openEditor(input3, { pinned: true, active: true });\n\t\tgroup.openEditor(input4, { pinned: false, active: true, sticky: true });\n\t\tassert.strictEqual(group.stickyCount, 3);\n\t\tassert.strictEqual(group.isSticky(input1), true);\n\t\tassert.strictEqual(group.isSticky(input2), true);\n\t\tassert.strictEqual(group.isSticky(input3), false);\n\t\tassert.strictEqual(group.isSticky(input4), true);\n\t\tassert.strictEqual(group.isPinned(input4), true);\n\n\t\tassert.strictEqual(group.indexOf(input1), 0);\n\t\tassert.strictEqual(group.indexOf(input2), 1);\n\t\tassert.strictEqual(group.indexOf(input3), 3);\n\t\tassert.strictEqual(group.indexOf(input4), 2);\n\t});\n\n\ttest('Sticky/Unsticky Editors sends correct editor index', function () {\n\t\tconst group = createEditorGroupModel();\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\n\t\tgroup.openEditor(input1, { pinned: true, active: true });\n\t\tgroup.openEditor(input2, { pinned: true, active: true });\n\t\tgroup.openEditor(input3, { pinned: false, active: true });\n\n\t\tassert.strictEqual(group.stickyCount, 0);\n\n\t\tconst events = groupListener(group);\n\n\t\tgroup.stick(input3);\n\n\t\tassert.strictEqual(events.sticky[0].editorIndex, 0);\n\t\tassert.strictEqual(group.isSticky(input3), true);\n\t\tassert.strictEqual(group.stickyCount, 1);\n\n\t\tgroup.stick(input2);\n\n\t\tassert.strictEqual(events.sticky[1].editorIndex, 1);\n\t\tassert.strictEqual(group.isSticky(input2), true);\n\t\tassert.strictEqual(group.stickyCount, 2);\n\n\t\tgroup.unstick(input3);\n\t\tassert.strictEqual(events.unsticky[0].editorIndex, 1);\n\t\tassert.strictEqual(group.isSticky(input3), false);\n\t\tassert.strictEqual(group.isSticky(input2), true);\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t});\n\n\ttest('onDidMoveEditor Event', () => {\n\t\tconst group1 = createEditorGroupModel();\n\t\tconst group2 = createEditorGroupModel();\n\n\t\tconst input1group1 = input();\n\t\tconst input2group1 = input();\n\t\tconst input1group2 = input();\n\t\tconst input2group2 = input();\n\n\t\t// Open all the editors\n\t\tgroup1.openEditor(input1group1, { pinned: true, active: true, index: 0 });\n\t\tgroup1.openEditor(input2group1, { pinned: true, active: false, index: 1 });\n\t\tgroup2.openEditor(input1group2, { pinned: true, active: true, index: 0 });\n\t\tgroup2.openEditor(input2group2, { pinned: true, active: false, index: 1 });\n\n\t\tconst group1Events = groupListener(group1);\n\t\tconst group2Events = groupListener(group2);\n\n\t\tgroup1.moveEditor(input1group1, 1);\n\t\tassert.strictEqual(group1Events.moved[0].editor, input1group1);\n\t\tassert.strictEqual(group1Events.moved[0].oldEditorIndex, 0);\n\t\tassert.strictEqual(group1Events.moved[0].editorIndex, 1);\n\n\t\tgroup2.moveEditor(input1group2, 1);\n\t\tassert.strictEqual(group2Events.moved[0].editor, input1group2);\n\t\tassert.strictEqual(group2Events.moved[0].oldEditorIndex, 0);\n\t\tassert.strictEqual(group2Events.moved[0].editorIndex, 1);\n\t});\n\n\ttest('onDidOpeneditor Event', () => {\n\t\tconst group1 = createEditorGroupModel();\n\t\tconst group2 = createEditorGroupModel();\n\n\t\tconst group1Events = groupListener(group1);\n\t\tconst group2Events = groupListener(group2);\n\n\t\tconst input1group1 = input();\n\t\tconst input2group1 = input();\n\t\tconst input1group2 = input();\n\t\tconst input2group2 = input();\n\n\t\t// Open all the editors\n\t\tgroup1.openEditor(input1group1, { pinned: true, active: true, index: 0 });\n\t\tgroup1.openEditor(input2group1, { pinned: true, active: false, index: 1 });\n\t\tgroup2.openEditor(input1group2, { pinned: true, active: true, index: 0 });\n\t\tgroup2.openEditor(input2group2, { pinned: true, active: false, index: 1 });\n\n\t\tassert.strictEqual(group1Events.opened.length, 2);\n\t\tassert.strictEqual(group1Events.opened[0].editor, input1group1);\n\t\tassert.strictEqual(group1Events.opened[0].editorIndex, 0);\n\t\tassert.strictEqual(group1Events.opened[1].editor, input2group1);\n\t\tassert.strictEqual(group1Events.opened[1].editorIndex, 1);\n\n\t\tassert.strictEqual(group2Events.opened.length, 2);\n\t\tassert.strictEqual(group2Events.opened[0].editor, input1group2);\n\t\tassert.strictEqual(group2Events.opened[0].editorIndex, 0);\n\t\tassert.strictEqual(group2Events.opened[1].editor, input2group2);\n\t\tassert.strictEqual(group2Events.opened[1].editorIndex, 1);\n\t});\n\n\ttest('moving editor sends sticky event when sticky changes', () => {\n\t\tconst group1 = createEditorGroupModel();\n\n\t\tconst input1group1 = input();\n\t\tconst input2group1 = input();\n\t\tconst input3group1 = input();\n\n\t\t// Open all the editors\n\t\tgroup1.openEditor(input1group1, { pinned: true, active: true, index: 0, sticky: true });\n\t\tgroup1.openEditor(input2group1, { pinned: true, active: false, index: 1 });\n\t\tgroup1.openEditor(input3group1, { pinned: true, active: false, index: 2 });\n\n\t\tconst group1Events = groupListener(group1);\n\n\t\tgroup1.moveEditor(input2group1, 0);\n\t\tassert.strictEqual(group1Events.sticky[0].editor, input2group1);\n\t\tassert.strictEqual(group1Events.sticky[0].editorIndex, 0);\n\n\t\tconst group2 = createEditorGroupModel();\n\n\t\tconst input1group2 = input();\n\t\tconst input2group2 = input();\n\t\tconst input3group2 = input();\n\n\t\t// Open all the editors\n\t\tgroup2.openEditor(input1group2, { pinned: true, active: true, index: 0, sticky: true });\n\t\tgroup2.openEditor(input2group2, { pinned: true, active: false, index: 1 });\n\t\tgroup2.openEditor(input3group2, { pinned: true, active: false, index: 2 });\n\n\t\tconst group2Events = groupListener(group2);\n\n\t\tgroup2.moveEditor(input1group2, 1);\n\t\tassert.strictEqual(group2Events.unsticky[0].editor, input1group2);\n\t\tassert.strictEqual(group2Events.unsticky[0].editorIndex, 1);\n\t});\n\n\tfunction assertSelection(group: EditorGroupModel, activeEditor: EditorInput, selectedEditors: EditorInput[]): void {\n\t\tassert.strictEqual(group.activeEditor, activeEditor);\n\t\tassert.strictEqual(group.selectedEditors.length, selectedEditors.length);\n\t\tfor (let i = 0; i < selectedEditors.length; i++) {\n\t\t\tassert.strictEqual(group.selectedEditors[i], selectedEditors[i]);\n\t\t}\n\t}\n\n\ttest('editor selection: selectedEditors', () => {\n\t\tconst group = createEditorGroupModel();\n\n\t\tconst activeEditor = group.activeEditor;\n\t\tconst selectedEditors = group.selectedEditors;\n\t\tassert.strictEqual(activeEditor, null);\n\t\tassert.strictEqual(selectedEditors.length, 0);\n\n\t\t// active editor: input1, selection: [input1]\n\t\tconst input1 = input();\n\t\tgroup.openEditor(input1, { pinned: true, active: true, index: 0 });\n\t\tassertSelection(group, input1, [input1]);\n\n\t\t// active editor: input3, selection: [input3]\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\t\tgroup.openEditor(input2, { pinned: true, active: true, index: 1 });\n\t\tgroup.openEditor(input3, { pinned: true, active: true, index: 2 });\n\t\tassertSelection(group, input3, [input3]);\n\n\t\t// active editor: input2, selection: [input1, input2] (in sequential order)\n\t\tgroup.setSelection(input2, [input1]);\n\t\tassertSelection(group, input2, [input1, input2]);\n\t});\n\n\ttest('editor selection: openEditor with inactive selection', () => {\n\t\tconst group = createEditorGroupModel();\n\n\t\t// active editor: input3, selection: [input3]\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\t\tgroup.openEditor(input1, { pinned: true, active: true, index: 0 });\n\t\tgroup.openEditor(input2, { pinned: true, active: true, index: 1 });\n\t\tgroup.openEditor(input3, { pinned: true, active: true, index: 2 });\n\n\t\t// active editor: input2, selection: [input1, input2, input3] (in sequential order)\n\t\tgroup.openEditor(input2, { active: true, inactiveSelection: [input3, input1] });\n\t\tassertSelection(group, input2, [input1, input2, input3]);\n\n\t\t// active editor: input1, selection: [input1, input3] (in sequential order)\n\t\t// test duplicate entries\n\t\tgroup.openEditor(input1, { active: true, inactiveSelection: [input3, input1, input3] });\n\t\tassertSelection(group, input1, [input1, input3]);\n\n\t\t// active editor: input1, selection: [input1, input2] (in sequential order)\n\t\t// open new Editor as inactive with selection\n\t\tconst input4 = input();\n\t\tgroup.openEditor(input4, { pinned: true, active: false, inactiveSelection: [input2], index: 3 });\n\t\tassertSelection(group, input1, [input1, input2]);\n\n\t\t// active editor: input5, selection: [input4, input5] (in sequential order)\n\t\t// open new Editor as active with selection\n\t\tconst input5 = input();\n\t\tgroup.openEditor(input5, { pinned: true, active: true, inactiveSelection: [input4], index: 4 });\n\t\tassertSelection(group, input5, [input4, input5]);\n\t});\n\n\ttest('editor selection: closeEditor keeps selection', () => {\n\t\tconst group = createEditorGroupModel();\n\n\t\t// active editor: input3, selection: [input3]\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\t\tgroup.openEditor(input1, { pinned: true, active: true, index: 0 });\n\t\tgroup.openEditor(input2, { pinned: true, active: true, index: 1 });\n\t\tgroup.openEditor(input3, { pinned: true, active: true, index: 2 });\n\n\t\tgroup.setSelection(input2, [input3, input1]);\n\t\tgroup.closeEditor(input3);\n\t\tassertSelection(group, input2, [input1, input2]);\n\t});\n\n\ttest('editor selection: setSeletion', () => {\n\t\tconst group = createEditorGroupModel();\n\n\t\t// active editor: input3, selection: [input3]\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\t\tgroup.openEditor(input1, { pinned: true, active: true, index: 0 });\n\t\tgroup.openEditor(input2, { pinned: true, active: true, index: 1 });\n\t\tgroup.openEditor(input3, { pinned: true, active: true, index: 2 });\n\n\t\t// active editor: input2, selection: [input1, input2, input3] (in sequential order)\n\t\tgroup.setSelection(input2, [input3, input1]);\n\t\tassertSelection(group, input2, [input1, input2, input3]);\n\n\t\t// active editor: input3, selection: [input3]\n\t\tgroup.setSelection(input3, []);\n\t\tassertSelection(group, input3, [input3]);\n\n\t\t// active editor: input2, selection: [input1, input2]\n\t\t// test duplicate entries\n\t\tgroup.setSelection(input2, [input1, input2, input1]);\n\t\tassertSelection(group, input2, [input1, input2]);\n\t});\n\n\ttest('editor selection: isSelected', () => {\n\t\tconst group = createEditorGroupModel();\n\n\t\t// active editor: input3, selection: [input3]\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tconst input3 = input();\n\t\tgroup.openEditor(input1, { pinned: true, active: true, index: 0 });\n\t\tgroup.openEditor(input2, { pinned: true, active: true, index: 1 });\n\t\tgroup.openEditor(input3, { pinned: true, active: true, index: 2 });\n\n\t\t// active editor: input2, selection: [input1, input2, input3] (in sequential order)\n\t\tgroup.setSelection(input2, [input3, input1]);\n\n\t\tassert.strictEqual(group.isSelected(input1), true);\n\t\tassert.strictEqual(group.isSelected(input2), true);\n\t\tassert.strictEqual(group.isSelected(input3), true);\n\n\t\t// active editor: input3, selection: [input3]\n\t\tgroup.setSelection(input3, []);\n\n\t\tassert.strictEqual(group.isSelected(input1), false);\n\t\tassert.strictEqual(group.isSelected(input2), false);\n\t\tassert.strictEqual(group.isSelected(input3), true);\n\n\t\t// use index\n\t\tassert.strictEqual(group.isSelected(0), false);\n\t\tassert.strictEqual(group.isSelected(1), false);\n\t\tassert.strictEqual(group.isSelected(2), true);\n\t});\n\n\ttest('editor selection: select invalid editor', () => {\n\t\tconst group = createEditorGroupModel();\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tgroup.openEditor(input1, { pinned: true, active: true, index: 0 });\n\n\t\tgroup.setSelection(input2, [input1]);\n\n\t\tassert.strictEqual(group.activeEditor, input1);\n\t\tassert.strictEqual(group.selectedEditors.length, 1);\n\t\tassert.strictEqual(group.isSelected(input1), true);\n\t\tassert.strictEqual(group.isSelected(input1), true);\n\t\tassert.strictEqual(group.isSelected(input2), false);\n\n\t\tgroup.setSelection(input1, [input2]);\n\n\t\tassert.strictEqual(group.activeEditor, input1);\n\t\tassert.strictEqual(group.selectedEditors.length, 1);\n\t\tassert.strictEqual(group.isSelected(input1), true);\n\t\tassert.strictEqual(group.isSelected(input1), true);\n\t\tassert.strictEqual(group.isSelected(input2), false);\n\t});\n\n\ttest('editor transient: basics', () => {\n\t\tconst group = createEditorGroupModel();\n\t\tconst events = groupListener(group);\n\n\t\tconst input1 = input();\n\t\tconst input2 = input();\n\t\tgroup.openEditor(input1, { pinned: true, active: true });\n\n\t\tassert.strictEqual(group.isTransient(input1), false);\n\t\tassert.strictEqual(events.transient.length, 0);\n\n\t\tgroup.openEditor(input2, { pinned: true, active: true, transient: true });\n\t\tassert.strictEqual(events.transient[0].editor, input2);\n\n\t\tassert.strictEqual(group.isTransient(input2), true);\n\n\t\tgroup.setTransient(input1, true);\n\t\tassert.strictEqual(group.isTransient(input1), true);\n\t\tassert.strictEqual(events.transient[1].editor, input1);\n\n\t\tgroup.setTransient(input2, false);\n\t\tassert.strictEqual(group.isTransient(input2), false);\n\t\tassert.strictEqual(events.transient[2].editor, input2);\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n});\n"]}