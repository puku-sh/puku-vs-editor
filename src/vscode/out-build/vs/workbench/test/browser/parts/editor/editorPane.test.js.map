{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/test/browser/parts/editor/editorPane.test.ts","vs/workbench/test/browser/parts/editor/editorPane.test.ts"],"names":[],"mappings":"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","file":"editorPane.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { EditorPane, EditorMemento } from '../../../../browser/parts/editor/editorPane.js';\nimport { WorkspaceTrustRequiredPlaceholderEditor } from '../../../../browser/parts/editor/editorPlaceholder.js';\nimport { IEditorSerializer, IEditorFactoryRegistry, EditorExtensions, EditorInputCapabilities, IEditorDescriptor, IEditorPane } from '../../../../common/editor.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { Registry } from '../../../../../platform/registry/common/platform.js';\nimport { SyncDescriptor } from '../../../../../platform/instantiation/common/descriptors.js';\nimport { ITelemetryService } from '../../../../../platform/telemetry/common/telemetry.js';\nimport { NullTelemetryService } from '../../../../../platform/telemetry/common/telemetryUtils.js';\nimport { workbenchInstantiationService, TestEditorGroupView, TestEditorGroupsService, registerTestResourceEditor, TestEditorInput, createEditorPart, TestTextResourceConfigurationService } from '../../workbenchTestServices.js';\nimport { TextResourceEditorInput } from '../../../../common/editor/textResourceEditorInput.js';\nimport { TestThemeService } from '../../../../../platform/theme/test/common/testThemeService.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { EditorPaneDescriptor, EditorPaneRegistry } from '../../../../browser/editor.js';\nimport { CancellationToken } from '../../../../../base/common/cancellation.js';\nimport { DisposableStore, IDisposable } from '../../../../../base/common/lifecycle.js';\nimport { TestStorageService, TestWorkspaceTrustManagementService } from '../../../common/workbenchTestServices.js';\nimport { extUri } from '../../../../../base/common/resources.js';\nimport { EditorService } from '../../../../services/editor/browser/editorService.js';\nimport { IEditorService } from '../../../../services/editor/common/editorService.js';\nimport { IEditorGroup, IEditorGroupsService } from '../../../../services/editor/common/editorGroupsService.js';\nimport { IWorkspaceTrustManagementService } from '../../../../../platform/workspace/common/workspaceTrust.js';\nimport { EditorInput } from '../../../../common/editor/editorInput.js';\nimport { TestConfigurationService } from '../../../../../platform/configuration/test/common/testConfigurationService.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\n\nconst NullThemeService = new TestThemeService();\n\nconst editorRegistry: EditorPaneRegistry = Registry.as(EditorExtensions.EditorPane);\nconst editorInputRegistry: IEditorFactoryRegistry = Registry.as(EditorExtensions.EditorFactory);\n\nclass TestEditor extends EditorPane {\n\n\tconstructor(group: IEditorGroup,) {\n\t\tconst disposables = new DisposableStore();\n\t\tsuper('TestEditor', group, NullTelemetryService, NullThemeService, disposables.add(new TestStorageService()));\n\n\t\tthis._register(disposables);\n\t}\n\n\toverride getId(): string { return 'testEditor'; }\n\tlayout(): void { }\n\tprotected createEditor(): any { }\n}\n\nclass OtherTestEditor extends EditorPane {\n\n\tconstructor(group: IEditorGroup,) {\n\t\tconst disposables = new DisposableStore();\n\t\tsuper('testOtherEditor', group, NullTelemetryService, NullThemeService, disposables.add(new TestStorageService()));\n\n\t\tthis._register(disposables);\n\t}\n\n\toverride getId(): string { return 'testOtherEditor'; }\n\n\tlayout(): void { }\n\tprotected createEditor(): any { }\n}\n\nclass TestInputSerializer implements IEditorSerializer {\n\n\tcanSerialize(editorInput: EditorInput): boolean {\n\t\treturn true;\n\t}\n\n\tserialize(input: EditorInput): string {\n\t\treturn input.toString();\n\t}\n\n\tdeserialize(instantiationService: IInstantiationService, raw: string): EditorInput {\n\t\treturn {} as EditorInput;\n\t}\n}\n\nclass TestInput extends EditorInput {\n\n\treadonly resource = undefined;\n\n\toverride prefersEditorPane<T extends IEditorDescriptor<IEditorPane>>(editors: T[]): T | undefined {\n\t\treturn editors[1];\n\t}\n\n\toverride get typeId(): string {\n\t\treturn 'testInput';\n\t}\n\n\toverride resolve(): any {\n\t\treturn null;\n\t}\n}\n\nclass OtherTestInput extends EditorInput {\n\n\treadonly resource = undefined;\n\n\toverride get typeId(): string {\n\t\treturn 'otherTestInput';\n\t}\n\n\toverride resolve(): any {\n\t\treturn null;\n\t}\n}\nclass TestResourceEditorInput extends TextResourceEditorInput { }\n\nsuite('EditorPane', () => {\n\n\tconst disposables = new DisposableStore();\n\n\tteardown(() => {\n\t\tdisposables.clear();\n\t});\n\n\ttest('EditorPane API', async () => {\n\t\tconst group = new TestEditorGroupView(1);\n\t\tconst editor = new TestEditor(group);\n\t\tassert.ok(editor.group);\n\t\tconst input = disposables.add(new OtherTestInput());\n\t\tconst options = {};\n\n\t\tassert(!editor.isVisible());\n\t\tassert(!editor.input);\n\n\t\tawait editor.setInput(input, options, Object.create(null), CancellationToken.None);\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tassert.strictEqual(<any>input, editor.input);\n\t\teditor.setVisible(true);\n\t\tassert(editor.isVisible());\n\t\teditor.dispose();\n\t\teditor.clearInput();\n\t\teditor.setVisible(false);\n\t\tassert(!editor.isVisible());\n\t\tassert(!editor.input);\n\t\tassert(!editor.getControl());\n\t});\n\n\ttest('EditorPaneDescriptor', () => {\n\t\tconst editorDescriptor = EditorPaneDescriptor.create(TestEditor, 'id', 'name');\n\t\tassert.strictEqual(editorDescriptor.typeId, 'id');\n\t\tassert.strictEqual(editorDescriptor.name, 'name');\n\t});\n\n\ttest('Editor Pane Registration', function () {\n\t\tconst editorDescriptor1 = EditorPaneDescriptor.create(TestEditor, 'id1', 'name');\n\t\tconst editorDescriptor2 = EditorPaneDescriptor.create(OtherTestEditor, 'id2', 'name');\n\n\t\tconst oldEditorsCnt = editorRegistry.getEditorPanes().length;\n\t\tconst oldInputCnt = editorRegistry.getEditors().length;\n\n\t\tdisposables.add(editorRegistry.registerEditorPane(editorDescriptor1, [new SyncDescriptor(TestInput)]));\n\t\tdisposables.add(editorRegistry.registerEditorPane(editorDescriptor2, [new SyncDescriptor(TestInput), new SyncDescriptor(OtherTestInput)]));\n\n\t\tassert.strictEqual(editorRegistry.getEditorPanes().length, oldEditorsCnt + 2);\n\t\tassert.strictEqual(editorRegistry.getEditors().length, oldInputCnt + 3);\n\n\t\tassert.strictEqual(editorRegistry.getEditorPane(disposables.add(new TestInput())), editorDescriptor2);\n\t\tassert.strictEqual(editorRegistry.getEditorPane(disposables.add(new OtherTestInput())), editorDescriptor2);\n\n\t\tassert.strictEqual(editorRegistry.getEditorPaneByType('id1'), editorDescriptor1);\n\t\tassert.strictEqual(editorRegistry.getEditorPaneByType('id2'), editorDescriptor2);\n\t\tassert(!editorRegistry.getEditorPaneByType('id3'));\n\t});\n\n\ttest('Editor Pane Lookup favors specific class over superclass (match on specific class)', function () {\n\t\tconst d1 = EditorPaneDescriptor.create(TestEditor, 'id1', 'name');\n\n\t\tdisposables.add(registerTestResourceEditor());\n\t\tdisposables.add(editorRegistry.registerEditorPane(d1, [new SyncDescriptor(TestResourceEditorInput)]));\n\n\t\tconst inst = workbenchInstantiationService(undefined, disposables);\n\n\t\tconst group = new TestEditorGroupView(1);\n\n\t\tconst editor = disposables.add(editorRegistry.getEditorPane(disposables.add(inst.createInstance(TestResourceEditorInput, URI.file('/fake'), 'fake', '', undefined, undefined)))!.instantiate(inst, group));\n\t\tassert.strictEqual(editor.getId(), 'testEditor');\n\n\t\tconst otherEditor = disposables.add(editorRegistry.getEditorPane(disposables.add(inst.createInstance(TextResourceEditorInput, URI.file('/fake'), 'fake', '', undefined, undefined)))!.instantiate(inst, group));\n\t\tassert.strictEqual(otherEditor.getId(), 'workbench.editors.textResourceEditor');\n\t});\n\n\ttest('Editor Pane Lookup favors specific class over superclass (match on super class)', function () {\n\t\tconst inst = workbenchInstantiationService(undefined, disposables);\n\n\t\tconst group = new TestEditorGroupView(1);\n\n\t\tdisposables.add(registerTestResourceEditor());\n\t\tconst editor = disposables.add(editorRegistry.getEditorPane(disposables.add(inst.createInstance(TestResourceEditorInput, URI.file('/fake'), 'fake', '', undefined, undefined)))!.instantiate(inst, group));\n\n\t\tassert.strictEqual('workbench.editors.textResourceEditor', editor.getId());\n\t});\n\n\ttest('Editor Input Serializer', function () {\n\t\tconst testInput = disposables.add(new TestEditorInput(URI.file('/fake'), 'testTypeId'));\n\t\tworkbenchInstantiationService(undefined, disposables).invokeFunction(accessor => editorInputRegistry.start(accessor));\n\t\tdisposables.add(editorInputRegistry.registerEditorSerializer(testInput.typeId, TestInputSerializer));\n\n\t\tlet factory = editorInputRegistry.getEditorSerializer('testTypeId');\n\t\tassert(factory);\n\n\t\tfactory = editorInputRegistry.getEditorSerializer(testInput);\n\t\tassert(factory);\n\n\t\t// throws when registering serializer for same type\n\t\tassert.throws(() => editorInputRegistry.registerEditorSerializer(testInput.typeId, TestInputSerializer));\n\t});\n\n\ttest('EditorMemento - basics', function () {\n\t\tconst testGroup0 = new TestEditorGroupView(0);\n\t\tconst testGroup1 = new TestEditorGroupView(1);\n\t\tconst testGroup4 = new TestEditorGroupView(4);\n\n\t\tconst configurationService = new TestTextResourceConfigurationService();\n\n\t\tconst editorGroupService = new TestEditorGroupsService([\n\t\t\ttestGroup0,\n\t\t\ttestGroup1,\n\t\t\tnew TestEditorGroupView(2)\n\t\t]);\n\n\t\tinterface TestViewState {\n\t\t\tline: number;\n\t\t}\n\n\t\tconst rawMemento = Object.create(null);\n\t\tlet memento = disposables.add(new EditorMemento<TestViewState>('id', 'key', rawMemento, 3, editorGroupService, configurationService));\n\n\t\tlet res = memento.loadEditorState(testGroup0, URI.file('/A'));\n\t\tassert.ok(!res);\n\n\t\tmemento.saveEditorState(testGroup0, URI.file('/A'), { line: 3 });\n\t\tres = memento.loadEditorState(testGroup0, URI.file('/A'));\n\t\tassert.ok(res);\n\t\tassert.strictEqual(res.line, 3);\n\n\t\tmemento.saveEditorState(testGroup1, URI.file('/A'), { line: 5 });\n\t\tres = memento.loadEditorState(testGroup1, URI.file('/A'));\n\t\tassert.ok(res);\n\t\tassert.strictEqual(res.line, 5);\n\n\t\t// Ensure capped at 3 elements\n\t\tmemento.saveEditorState(testGroup0, URI.file('/B'), { line: 1 });\n\t\tmemento.saveEditorState(testGroup0, URI.file('/C'), { line: 1 });\n\t\tmemento.saveEditorState(testGroup0, URI.file('/D'), { line: 1 });\n\t\tmemento.saveEditorState(testGroup0, URI.file('/E'), { line: 1 });\n\n\t\tassert.ok(!memento.loadEditorState(testGroup0, URI.file('/A')));\n\t\tassert.ok(!memento.loadEditorState(testGroup0, URI.file('/B')));\n\t\tassert.ok(memento.loadEditorState(testGroup0, URI.file('/C')));\n\t\tassert.ok(memento.loadEditorState(testGroup0, URI.file('/D')));\n\t\tassert.ok(memento.loadEditorState(testGroup0, URI.file('/E')));\n\n\t\t// Save at an unknown group\n\t\tmemento.saveEditorState(testGroup4, URI.file('/E'), { line: 1 });\n\t\tassert.ok(memento.loadEditorState(testGroup4, URI.file('/E'))); // only gets removed when memento is saved\n\t\tmemento.saveEditorState(testGroup4, URI.file('/C'), { line: 1 });\n\t\tassert.ok(memento.loadEditorState(testGroup4, URI.file('/C'))); // only gets removed when memento is saved\n\n\t\tmemento.saveState();\n\n\t\tmemento = disposables.add(new EditorMemento('id', 'key', rawMemento, 3, editorGroupService, configurationService));\n\t\tassert.ok(memento.loadEditorState(testGroup0, URI.file('/C')));\n\t\tassert.ok(memento.loadEditorState(testGroup0, URI.file('/D')));\n\t\tassert.ok(memento.loadEditorState(testGroup0, URI.file('/E')));\n\n\t\t// Check on entries no longer there from invalid groups\n\t\tassert.ok(!memento.loadEditorState(testGroup4, URI.file('/E')));\n\t\tassert.ok(!memento.loadEditorState(testGroup4, URI.file('/C')));\n\n\t\tmemento.clearEditorState(URI.file('/C'), testGroup4);\n\t\tmemento.clearEditorState(URI.file('/E'));\n\n\t\tassert.ok(!memento.loadEditorState(testGroup4, URI.file('/C')));\n\t\tassert.ok(memento.loadEditorState(testGroup0, URI.file('/D')));\n\t\tassert.ok(!memento.loadEditorState(testGroup0, URI.file('/E')));\n\t});\n\n\ttest('EditorMemento - move', function () {\n\t\tconst testGroup0 = new TestEditorGroupView(0);\n\n\t\tconst configurationService = new TestTextResourceConfigurationService();\n\t\tconst editorGroupService = new TestEditorGroupsService([testGroup0]);\n\n\t\tinterface TestViewState { line: number }\n\n\t\tconst rawMemento = Object.create(null);\n\t\tconst memento = disposables.add(new EditorMemento<TestViewState>('id', 'key', rawMemento, 3, editorGroupService, configurationService));\n\n\t\tmemento.saveEditorState(testGroup0, URI.file('/some/folder/file-1.txt'), { line: 1 });\n\t\tmemento.saveEditorState(testGroup0, URI.file('/some/folder/file-2.txt'), { line: 2 });\n\t\tmemento.saveEditorState(testGroup0, URI.file('/some/other/file.txt'), { line: 3 });\n\n\t\tmemento.moveEditorState(URI.file('/some/folder/file-1.txt'), URI.file('/some/folder/file-moved.txt'), extUri);\n\n\t\tlet res = memento.loadEditorState(testGroup0, URI.file('/some/folder/file-1.txt'));\n\t\tassert.ok(!res);\n\n\t\tres = memento.loadEditorState(testGroup0, URI.file('/some/folder/file-moved.txt'));\n\t\tassert.strictEqual(res?.line, 1);\n\n\t\tmemento.moveEditorState(URI.file('/some/folder'), URI.file('/some/folder-moved'), extUri);\n\n\t\tres = memento.loadEditorState(testGroup0, URI.file('/some/folder-moved/file-moved.txt'));\n\t\tassert.strictEqual(res?.line, 1);\n\n\t\tres = memento.loadEditorState(testGroup0, URI.file('/some/folder-moved/file-2.txt'));\n\t\tassert.strictEqual(res?.line, 2);\n\t});\n\n\ttest('EditoMemento - use with editor input', function () {\n\t\tconst testGroup0 = new TestEditorGroupView(0);\n\n\t\tinterface TestViewState {\n\t\t\tline: number;\n\t\t}\n\n\t\tclass TestEditorInput extends EditorInput {\n\t\t\tconstructor(public resource: URI, private id = 'testEditorInputForMementoTest') {\n\t\t\t\tsuper();\n\t\t\t}\n\t\t\toverride get typeId() { return 'testEditorInputForMementoTest'; }\n\t\t\toverride async resolve(): Promise<IDisposable | null> { return null; }\n\n\t\t\toverride matches(other: TestEditorInput): boolean {\n\t\t\t\treturn other && this.id === other.id && other instanceof TestEditorInput;\n\t\t\t}\n\t\t}\n\n\t\tconst rawMemento = Object.create(null);\n\t\tconst memento = disposables.add(new EditorMemento<TestViewState>('id', 'key', rawMemento, 3, new TestEditorGroupsService(), new TestTextResourceConfigurationService()));\n\n\t\tconst testInputA = disposables.add(new TestEditorInput(URI.file('/A')));\n\n\t\tlet res = memento.loadEditorState(testGroup0, testInputA);\n\t\tassert.ok(!res);\n\n\t\tmemento.saveEditorState(testGroup0, testInputA, { line: 3 });\n\t\tres = memento.loadEditorState(testGroup0, testInputA);\n\t\tassert.ok(res);\n\t\tassert.strictEqual(res.line, 3);\n\n\t\t// State removed when input gets disposed\n\t\ttestInputA.dispose();\n\t\tres = memento.loadEditorState(testGroup0, testInputA);\n\t\tassert.ok(!res);\n\t});\n\n\ttest('EditoMemento - clear on editor dispose', function () {\n\t\tconst testGroup0 = new TestEditorGroupView(0);\n\n\t\tinterface TestViewState {\n\t\t\tline: number;\n\t\t}\n\n\t\tclass TestEditorInput extends EditorInput {\n\t\t\tconstructor(public resource: URI, private id = 'testEditorInputForMementoTest') {\n\t\t\t\tsuper();\n\t\t\t}\n\t\t\toverride get typeId() { return 'testEditorInputForMementoTest'; }\n\t\t\toverride async resolve(): Promise<IDisposable | null> { return null; }\n\n\t\t\toverride matches(other: TestEditorInput): boolean {\n\t\t\t\treturn other && this.id === other.id && other instanceof TestEditorInput;\n\t\t\t}\n\t\t}\n\n\t\tconst rawMemento = Object.create(null);\n\t\tconst memento = disposables.add(new EditorMemento<TestViewState>('id', 'key', rawMemento, 3, new TestEditorGroupsService(), new TestTextResourceConfigurationService()));\n\n\t\tconst testInputA = disposables.add(new TestEditorInput(URI.file('/A')));\n\n\t\tlet res = memento.loadEditorState(testGroup0, testInputA);\n\t\tassert.ok(!res);\n\n\t\tmemento.saveEditorState(testGroup0, testInputA.resource, { line: 3 });\n\t\tres = memento.loadEditorState(testGroup0, testInputA);\n\t\tassert.ok(res);\n\t\tassert.strictEqual(res.line, 3);\n\n\t\t// State not yet removed when input gets disposed\n\t\t// because we used resource\n\t\ttestInputA.dispose();\n\t\tres = memento.loadEditorState(testGroup0, testInputA);\n\t\tassert.ok(res);\n\n\t\tconst testInputB = disposables.add(new TestEditorInput(URI.file('/B')));\n\n\t\tres = memento.loadEditorState(testGroup0, testInputB);\n\t\tassert.ok(!res);\n\n\t\tmemento.saveEditorState(testGroup0, testInputB.resource, { line: 3 });\n\t\tres = memento.loadEditorState(testGroup0, testInputB);\n\t\tassert.ok(res);\n\t\tassert.strictEqual(res.line, 3);\n\n\t\tmemento.clearEditorStateOnDispose(testInputB.resource, testInputB);\n\n\t\t// State removed when input gets disposed\n\t\ttestInputB.dispose();\n\t\tres = memento.loadEditorState(testGroup0, testInputB);\n\t\tassert.ok(!res);\n\t});\n\n\ttest('EditorMemento - workbench.editor.sharedViewState', function () {\n\t\tconst testGroup0 = new TestEditorGroupView(0);\n\t\tconst testGroup1 = new TestEditorGroupView(1);\n\n\t\tconst configurationService = new TestTextResourceConfigurationService(new TestConfigurationService({\n\t\t\tworkbench: {\n\t\t\t\teditor: {\n\t\t\t\t\tsharedViewState: true\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t\tconst editorGroupService = new TestEditorGroupsService([testGroup0]);\n\n\t\tinterface TestViewState { line: number }\n\n\t\tconst rawMemento = Object.create(null);\n\t\tconst memento = disposables.add(new EditorMemento<TestViewState>('id', 'key', rawMemento, 3, editorGroupService, configurationService));\n\n\t\tconst resource = URI.file('/some/folder/file-1.txt');\n\t\tmemento.saveEditorState(testGroup0, resource, { line: 1 });\n\n\t\tlet res = memento.loadEditorState(testGroup0, resource);\n\t\tassert.strictEqual(res!.line, 1);\n\n\t\tres = memento.loadEditorState(testGroup1, resource);\n\t\tassert.strictEqual(res!.line, 1);\n\n\t\tmemento.saveEditorState(testGroup0, resource, { line: 3 });\n\n\t\tres = memento.loadEditorState(testGroup1, resource);\n\t\tassert.strictEqual(res!.line, 3);\n\n\t\tmemento.saveEditorState(testGroup1, resource, { line: 1 });\n\n\t\tres = memento.loadEditorState(testGroup1, resource);\n\t\tassert.strictEqual(res!.line, 1);\n\n\t\tmemento.clearEditorState(resource, testGroup0);\n\t\tmemento.clearEditorState(resource, testGroup1);\n\n\t\tres = memento.loadEditorState(testGroup1, resource);\n\t\tassert.strictEqual(res!.line, 1);\n\n\t\tmemento.clearEditorState(resource);\n\n\t\tres = memento.loadEditorState(testGroup1, resource);\n\t\tassert.ok(!res);\n\t});\n\n\ttest('WorkspaceTrustRequiredEditor', async function () {\n\n\t\tclass TrustRequiredTestEditor extends EditorPane {\n\t\t\tconstructor(group: IEditorGroup, @ITelemetryService telemetryService: ITelemetryService) {\n\t\t\t\tsuper('TestEditor', group, NullTelemetryService, NullThemeService, disposables.add(new TestStorageService()));\n\t\t\t}\n\n\t\t\toverride getId(): string { return 'trustRequiredTestEditor'; }\n\t\t\tlayout(): void { }\n\t\t\tprotected createEditor(): any { }\n\t\t}\n\n\t\tclass TrustRequiredTestInput extends EditorInput {\n\n\t\t\treadonly resource = undefined;\n\n\t\t\toverride get typeId(): string {\n\t\t\t\treturn 'trustRequiredTestInput';\n\t\t\t}\n\n\t\t\toverride get capabilities(): EditorInputCapabilities {\n\t\t\t\treturn EditorInputCapabilities.RequiresTrust;\n\t\t\t}\n\n\t\t\toverride resolve(): any {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\n\t\tconst instantiationService = workbenchInstantiationService(undefined, disposables);\n\t\tconst workspaceTrustService = disposables.add(instantiationService.createInstance(TestWorkspaceTrustManagementService));\n\t\tinstantiationService.stub(IWorkspaceTrustManagementService, workspaceTrustService);\n\t\tworkspaceTrustService.setWorkspaceTrust(false);\n\n\t\tconst editorPart = await createEditorPart(instantiationService, disposables);\n\t\tinstantiationService.stub(IEditorGroupsService, editorPart);\n\n\t\tconst editorService = disposables.add(instantiationService.createInstance(EditorService, undefined));\n\t\tinstantiationService.stub(IEditorService, editorService);\n\n\t\tconst group = editorPart.activeGroup;\n\n\t\tconst editorDescriptor = EditorPaneDescriptor.create(TrustRequiredTestEditor, 'id1', 'name');\n\t\tdisposables.add(editorRegistry.registerEditorPane(editorDescriptor, [new SyncDescriptor(TrustRequiredTestInput)]));\n\n\t\tconst testInput = disposables.add(new TrustRequiredTestInput());\n\n\t\tawait group.openEditor(testInput);\n\t\tassert.strictEqual(group.activeEditorPane?.getId(), WorkspaceTrustRequiredPlaceholderEditor.ID);\n\n\t\tconst getEditorPaneIdAsync = () => new Promise(resolve => {\n\t\t\tdisposables.add(editorService.onDidActiveEditorChange(() => {\n\t\t\t\tresolve(group.activeEditorPane?.getId());\n\t\t\t}));\n\t\t});\n\n\t\tworkspaceTrustService.setWorkspaceTrust(true);\n\n\t\tassert.strictEqual(await getEditorPaneIdAsync(), 'trustRequiredTestEditor');\n\n\t\tworkspaceTrustService.setWorkspaceTrust(false);\n\t\tassert.strictEqual(await getEditorPaneIdAsync(), WorkspaceTrustRequiredPlaceholderEditor.ID);\n\n\t\tawait group.closeAllEditors();\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { EditorPane, EditorMemento } from '../../../../browser/parts/editor/editorPane.js';\nimport { WorkspaceTrustRequiredPlaceholderEditor } from '../../../../browser/parts/editor/editorPlaceholder.js';\nimport { IEditorSerializer, IEditorFactoryRegistry, EditorExtensions, EditorInputCapabilities, IEditorDescriptor, IEditorPane } from '../../../../common/editor.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { Registry } from '../../../../../platform/registry/common/platform.js';\nimport { SyncDescriptor } from '../../../../../platform/instantiation/common/descriptors.js';\nimport { ITelemetryService } from '../../../../../platform/telemetry/common/telemetry.js';\nimport { NullTelemetryService } from '../../../../../platform/telemetry/common/telemetryUtils.js';\nimport { workbenchInstantiationService, TestEditorGroupView, TestEditorGroupsService, registerTestResourceEditor, TestEditorInput, createEditorPart, TestTextResourceConfigurationService } from '../../workbenchTestServices.js';\nimport { TextResourceEditorInput } from '../../../../common/editor/textResourceEditorInput.js';\nimport { TestThemeService } from '../../../../../platform/theme/test/common/testThemeService.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { EditorPaneDescriptor, EditorPaneRegistry } from '../../../../browser/editor.js';\nimport { CancellationToken } from '../../../../../base/common/cancellation.js';\nimport { DisposableStore, IDisposable } from '../../../../../base/common/lifecycle.js';\nimport { TestStorageService, TestWorkspaceTrustManagementService } from '../../../common/workbenchTestServices.js';\nimport { extUri } from '../../../../../base/common/resources.js';\nimport { EditorService } from '../../../../services/editor/browser/editorService.js';\nimport { IEditorService } from '../../../../services/editor/common/editorService.js';\nimport { IEditorGroup, IEditorGroupsService } from '../../../../services/editor/common/editorGroupsService.js';\nimport { IWorkspaceTrustManagementService } from '../../../../../platform/workspace/common/workspaceTrust.js';\nimport { EditorInput } from '../../../../common/editor/editorInput.js';\nimport { TestConfigurationService } from '../../../../../platform/configuration/test/common/testConfigurationService.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\n\nconst NullThemeService = new TestThemeService();\n\nconst editorRegistry: EditorPaneRegistry = Registry.as(EditorExtensions.EditorPane);\nconst editorInputRegistry: IEditorFactoryRegistry = Registry.as(EditorExtensions.EditorFactory);\n\nclass TestEditor extends EditorPane {\n\n\tconstructor(group: IEditorGroup,) {\n\t\tconst disposables = new DisposableStore();\n\t\tsuper('TestEditor', group, NullTelemetryService, NullThemeService, disposables.add(new TestStorageService()));\n\n\t\tthis._register(disposables);\n\t}\n\n\toverride getId(): string { return 'testEditor'; }\n\tlayout(): void { }\n\tprotected createEditor(): any { }\n}\n\nclass OtherTestEditor extends EditorPane {\n\n\tconstructor(group: IEditorGroup,) {\n\t\tconst disposables = new DisposableStore();\n\t\tsuper('testOtherEditor', group, NullTelemetryService, NullThemeService, disposables.add(new TestStorageService()));\n\n\t\tthis._register(disposables);\n\t}\n\n\toverride getId(): string { return 'testOtherEditor'; }\n\n\tlayout(): void { }\n\tprotected createEditor(): any { }\n}\n\nclass TestInputSerializer implements IEditorSerializer {\n\n\tcanSerialize(editorInput: EditorInput): boolean {\n\t\treturn true;\n\t}\n\n\tserialize(input: EditorInput): string {\n\t\treturn input.toString();\n\t}\n\n\tdeserialize(instantiationService: IInstantiationService, raw: string): EditorInput {\n\t\treturn {} as EditorInput;\n\t}\n}\n\nclass TestInput extends EditorInput {\n\n\treadonly resource = undefined;\n\n\toverride prefersEditorPane<T extends IEditorDescriptor<IEditorPane>>(editors: T[]): T | undefined {\n\t\treturn editors[1];\n\t}\n\n\toverride get typeId(): string {\n\t\treturn 'testInput';\n\t}\n\n\toverride resolve(): any {\n\t\treturn null;\n\t}\n}\n\nclass OtherTestInput extends EditorInput {\n\n\treadonly resource = undefined;\n\n\toverride get typeId(): string {\n\t\treturn 'otherTestInput';\n\t}\n\n\toverride resolve(): any {\n\t\treturn null;\n\t}\n}\nclass TestResourceEditorInput extends TextResourceEditorInput { }\n\nsuite('EditorPane', () => {\n\n\tconst disposables = new DisposableStore();\n\n\tteardown(() => {\n\t\tdisposables.clear();\n\t});\n\n\ttest('EditorPane API', async () => {\n\t\tconst group = new TestEditorGroupView(1);\n\t\tconst editor = new TestEditor(group);\n\t\tassert.ok(editor.group);\n\t\tconst input = disposables.add(new OtherTestInput());\n\t\tconst options = {};\n\n\t\tassert(!editor.isVisible());\n\t\tassert(!editor.input);\n\n\t\tawait editor.setInput(input, options, Object.create(null), CancellationToken.None);\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tassert.strictEqual(<any>input, editor.input);\n\t\teditor.setVisible(true);\n\t\tassert(editor.isVisible());\n\t\teditor.dispose();\n\t\teditor.clearInput();\n\t\teditor.setVisible(false);\n\t\tassert(!editor.isVisible());\n\t\tassert(!editor.input);\n\t\tassert(!editor.getControl());\n\t});\n\n\ttest('EditorPaneDescriptor', () => {\n\t\tconst editorDescriptor = EditorPaneDescriptor.create(TestEditor, 'id', 'name');\n\t\tassert.strictEqual(editorDescriptor.typeId, 'id');\n\t\tassert.strictEqual(editorDescriptor.name, 'name');\n\t});\n\n\ttest('Editor Pane Registration', function () {\n\t\tconst editorDescriptor1 = EditorPaneDescriptor.create(TestEditor, 'id1', 'name');\n\t\tconst editorDescriptor2 = EditorPaneDescriptor.create(OtherTestEditor, 'id2', 'name');\n\n\t\tconst oldEditorsCnt = editorRegistry.getEditorPanes().length;\n\t\tconst oldInputCnt = editorRegistry.getEditors().length;\n\n\t\tdisposables.add(editorRegistry.registerEditorPane(editorDescriptor1, [new SyncDescriptor(TestInput)]));\n\t\tdisposables.add(editorRegistry.registerEditorPane(editorDescriptor2, [new SyncDescriptor(TestInput), new SyncDescriptor(OtherTestInput)]));\n\n\t\tassert.strictEqual(editorRegistry.getEditorPanes().length, oldEditorsCnt + 2);\n\t\tassert.strictEqual(editorRegistry.getEditors().length, oldInputCnt + 3);\n\n\t\tassert.strictEqual(editorRegistry.getEditorPane(disposables.add(new TestInput())), editorDescriptor2);\n\t\tassert.strictEqual(editorRegistry.getEditorPane(disposables.add(new OtherTestInput())), editorDescriptor2);\n\n\t\tassert.strictEqual(editorRegistry.getEditorPaneByType('id1'), editorDescriptor1);\n\t\tassert.strictEqual(editorRegistry.getEditorPaneByType('id2'), editorDescriptor2);\n\t\tassert(!editorRegistry.getEditorPaneByType('id3'));\n\t});\n\n\ttest('Editor Pane Lookup favors specific class over superclass (match on specific class)', function () {\n\t\tconst d1 = EditorPaneDescriptor.create(TestEditor, 'id1', 'name');\n\n\t\tdisposables.add(registerTestResourceEditor());\n\t\tdisposables.add(editorRegistry.registerEditorPane(d1, [new SyncDescriptor(TestResourceEditorInput)]));\n\n\t\tconst inst = workbenchInstantiationService(undefined, disposables);\n\n\t\tconst group = new TestEditorGroupView(1);\n\n\t\tconst editor = disposables.add(editorRegistry.getEditorPane(disposables.add(inst.createInstance(TestResourceEditorInput, URI.file('/fake'), 'fake', '', undefined, undefined)))!.instantiate(inst, group));\n\t\tassert.strictEqual(editor.getId(), 'testEditor');\n\n\t\tconst otherEditor = disposables.add(editorRegistry.getEditorPane(disposables.add(inst.createInstance(TextResourceEditorInput, URI.file('/fake'), 'fake', '', undefined, undefined)))!.instantiate(inst, group));\n\t\tassert.strictEqual(otherEditor.getId(), 'workbench.editors.textResourceEditor');\n\t});\n\n\ttest('Editor Pane Lookup favors specific class over superclass (match on super class)', function () {\n\t\tconst inst = workbenchInstantiationService(undefined, disposables);\n\n\t\tconst group = new TestEditorGroupView(1);\n\n\t\tdisposables.add(registerTestResourceEditor());\n\t\tconst editor = disposables.add(editorRegistry.getEditorPane(disposables.add(inst.createInstance(TestResourceEditorInput, URI.file('/fake'), 'fake', '', undefined, undefined)))!.instantiate(inst, group));\n\n\t\tassert.strictEqual('workbench.editors.textResourceEditor', editor.getId());\n\t});\n\n\ttest('Editor Input Serializer', function () {\n\t\tconst testInput = disposables.add(new TestEditorInput(URI.file('/fake'), 'testTypeId'));\n\t\tworkbenchInstantiationService(undefined, disposables).invokeFunction(accessor => editorInputRegistry.start(accessor));\n\t\tdisposables.add(editorInputRegistry.registerEditorSerializer(testInput.typeId, TestInputSerializer));\n\n\t\tlet factory = editorInputRegistry.getEditorSerializer('testTypeId');\n\t\tassert(factory);\n\n\t\tfactory = editorInputRegistry.getEditorSerializer(testInput);\n\t\tassert(factory);\n\n\t\t// throws when registering serializer for same type\n\t\tassert.throws(() => editorInputRegistry.registerEditorSerializer(testInput.typeId, TestInputSerializer));\n\t});\n\n\ttest('EditorMemento - basics', function () {\n\t\tconst testGroup0 = new TestEditorGroupView(0);\n\t\tconst testGroup1 = new TestEditorGroupView(1);\n\t\tconst testGroup4 = new TestEditorGroupView(4);\n\n\t\tconst configurationService = new TestTextResourceConfigurationService();\n\n\t\tconst editorGroupService = new TestEditorGroupsService([\n\t\t\ttestGroup0,\n\t\t\ttestGroup1,\n\t\t\tnew TestEditorGroupView(2)\n\t\t]);\n\n\t\tinterface TestViewState {\n\t\t\tline: number;\n\t\t}\n\n\t\tconst rawMemento = Object.create(null);\n\t\tlet memento = disposables.add(new EditorMemento<TestViewState>('id', 'key', rawMemento, 3, editorGroupService, configurationService));\n\n\t\tlet res = memento.loadEditorState(testGroup0, URI.file('/A'));\n\t\tassert.ok(!res);\n\n\t\tmemento.saveEditorState(testGroup0, URI.file('/A'), { line: 3 });\n\t\tres = memento.loadEditorState(testGroup0, URI.file('/A'));\n\t\tassert.ok(res);\n\t\tassert.strictEqual(res.line, 3);\n\n\t\tmemento.saveEditorState(testGroup1, URI.file('/A'), { line: 5 });\n\t\tres = memento.loadEditorState(testGroup1, URI.file('/A'));\n\t\tassert.ok(res);\n\t\tassert.strictEqual(res.line, 5);\n\n\t\t// Ensure capped at 3 elements\n\t\tmemento.saveEditorState(testGroup0, URI.file('/B'), { line: 1 });\n\t\tmemento.saveEditorState(testGroup0, URI.file('/C'), { line: 1 });\n\t\tmemento.saveEditorState(testGroup0, URI.file('/D'), { line: 1 });\n\t\tmemento.saveEditorState(testGroup0, URI.file('/E'), { line: 1 });\n\n\t\tassert.ok(!memento.loadEditorState(testGroup0, URI.file('/A')));\n\t\tassert.ok(!memento.loadEditorState(testGroup0, URI.file('/B')));\n\t\tassert.ok(memento.loadEditorState(testGroup0, URI.file('/C')));\n\t\tassert.ok(memento.loadEditorState(testGroup0, URI.file('/D')));\n\t\tassert.ok(memento.loadEditorState(testGroup0, URI.file('/E')));\n\n\t\t// Save at an unknown group\n\t\tmemento.saveEditorState(testGroup4, URI.file('/E'), { line: 1 });\n\t\tassert.ok(memento.loadEditorState(testGroup4, URI.file('/E'))); // only gets removed when memento is saved\n\t\tmemento.saveEditorState(testGroup4, URI.file('/C'), { line: 1 });\n\t\tassert.ok(memento.loadEditorState(testGroup4, URI.file('/C'))); // only gets removed when memento is saved\n\n\t\tmemento.saveState();\n\n\t\tmemento = disposables.add(new EditorMemento('id', 'key', rawMemento, 3, editorGroupService, configurationService));\n\t\tassert.ok(memento.loadEditorState(testGroup0, URI.file('/C')));\n\t\tassert.ok(memento.loadEditorState(testGroup0, URI.file('/D')));\n\t\tassert.ok(memento.loadEditorState(testGroup0, URI.file('/E')));\n\n\t\t// Check on entries no longer there from invalid groups\n\t\tassert.ok(!memento.loadEditorState(testGroup4, URI.file('/E')));\n\t\tassert.ok(!memento.loadEditorState(testGroup4, URI.file('/C')));\n\n\t\tmemento.clearEditorState(URI.file('/C'), testGroup4);\n\t\tmemento.clearEditorState(URI.file('/E'));\n\n\t\tassert.ok(!memento.loadEditorState(testGroup4, URI.file('/C')));\n\t\tassert.ok(memento.loadEditorState(testGroup0, URI.file('/D')));\n\t\tassert.ok(!memento.loadEditorState(testGroup0, URI.file('/E')));\n\t});\n\n\ttest('EditorMemento - move', function () {\n\t\tconst testGroup0 = new TestEditorGroupView(0);\n\n\t\tconst configurationService = new TestTextResourceConfigurationService();\n\t\tconst editorGroupService = new TestEditorGroupsService([testGroup0]);\n\n\t\tinterface TestViewState { line: number }\n\n\t\tconst rawMemento = Object.create(null);\n\t\tconst memento = disposables.add(new EditorMemento<TestViewState>('id', 'key', rawMemento, 3, editorGroupService, configurationService));\n\n\t\tmemento.saveEditorState(testGroup0, URI.file('/some/folder/file-1.txt'), { line: 1 });\n\t\tmemento.saveEditorState(testGroup0, URI.file('/some/folder/file-2.txt'), { line: 2 });\n\t\tmemento.saveEditorState(testGroup0, URI.file('/some/other/file.txt'), { line: 3 });\n\n\t\tmemento.moveEditorState(URI.file('/some/folder/file-1.txt'), URI.file('/some/folder/file-moved.txt'), extUri);\n\n\t\tlet res = memento.loadEditorState(testGroup0, URI.file('/some/folder/file-1.txt'));\n\t\tassert.ok(!res);\n\n\t\tres = memento.loadEditorState(testGroup0, URI.file('/some/folder/file-moved.txt'));\n\t\tassert.strictEqual(res?.line, 1);\n\n\t\tmemento.moveEditorState(URI.file('/some/folder'), URI.file('/some/folder-moved'), extUri);\n\n\t\tres = memento.loadEditorState(testGroup0, URI.file('/some/folder-moved/file-moved.txt'));\n\t\tassert.strictEqual(res?.line, 1);\n\n\t\tres = memento.loadEditorState(testGroup0, URI.file('/some/folder-moved/file-2.txt'));\n\t\tassert.strictEqual(res?.line, 2);\n\t});\n\n\ttest('EditoMemento - use with editor input', function () {\n\t\tconst testGroup0 = new TestEditorGroupView(0);\n\n\t\tinterface TestViewState {\n\t\t\tline: number;\n\t\t}\n\n\t\tclass TestEditorInput extends EditorInput {\n\t\t\tconstructor(public resource: URI, private id = 'testEditorInputForMementoTest') {\n\t\t\t\tsuper();\n\t\t\t}\n\t\t\toverride get typeId() { return 'testEditorInputForMementoTest'; }\n\t\t\toverride async resolve(): Promise<IDisposable | null> { return null; }\n\n\t\t\toverride matches(other: TestEditorInput): boolean {\n\t\t\t\treturn other && this.id === other.id && other instanceof TestEditorInput;\n\t\t\t}\n\t\t}\n\n\t\tconst rawMemento = Object.create(null);\n\t\tconst memento = disposables.add(new EditorMemento<TestViewState>('id', 'key', rawMemento, 3, new TestEditorGroupsService(), new TestTextResourceConfigurationService()));\n\n\t\tconst testInputA = disposables.add(new TestEditorInput(URI.file('/A')));\n\n\t\tlet res = memento.loadEditorState(testGroup0, testInputA);\n\t\tassert.ok(!res);\n\n\t\tmemento.saveEditorState(testGroup0, testInputA, { line: 3 });\n\t\tres = memento.loadEditorState(testGroup0, testInputA);\n\t\tassert.ok(res);\n\t\tassert.strictEqual(res.line, 3);\n\n\t\t// State removed when input gets disposed\n\t\ttestInputA.dispose();\n\t\tres = memento.loadEditorState(testGroup0, testInputA);\n\t\tassert.ok(!res);\n\t});\n\n\ttest('EditoMemento - clear on editor dispose', function () {\n\t\tconst testGroup0 = new TestEditorGroupView(0);\n\n\t\tinterface TestViewState {\n\t\t\tline: number;\n\t\t}\n\n\t\tclass TestEditorInput extends EditorInput {\n\t\t\tconstructor(public resource: URI, private id = 'testEditorInputForMementoTest') {\n\t\t\t\tsuper();\n\t\t\t}\n\t\t\toverride get typeId() { return 'testEditorInputForMementoTest'; }\n\t\t\toverride async resolve(): Promise<IDisposable | null> { return null; }\n\n\t\t\toverride matches(other: TestEditorInput): boolean {\n\t\t\t\treturn other && this.id === other.id && other instanceof TestEditorInput;\n\t\t\t}\n\t\t}\n\n\t\tconst rawMemento = Object.create(null);\n\t\tconst memento = disposables.add(new EditorMemento<TestViewState>('id', 'key', rawMemento, 3, new TestEditorGroupsService(), new TestTextResourceConfigurationService()));\n\n\t\tconst testInputA = disposables.add(new TestEditorInput(URI.file('/A')));\n\n\t\tlet res = memento.loadEditorState(testGroup0, testInputA);\n\t\tassert.ok(!res);\n\n\t\tmemento.saveEditorState(testGroup0, testInputA.resource, { line: 3 });\n\t\tres = memento.loadEditorState(testGroup0, testInputA);\n\t\tassert.ok(res);\n\t\tassert.strictEqual(res.line, 3);\n\n\t\t// State not yet removed when input gets disposed\n\t\t// because we used resource\n\t\ttestInputA.dispose();\n\t\tres = memento.loadEditorState(testGroup0, testInputA);\n\t\tassert.ok(res);\n\n\t\tconst testInputB = disposables.add(new TestEditorInput(URI.file('/B')));\n\n\t\tres = memento.loadEditorState(testGroup0, testInputB);\n\t\tassert.ok(!res);\n\n\t\tmemento.saveEditorState(testGroup0, testInputB.resource, { line: 3 });\n\t\tres = memento.loadEditorState(testGroup0, testInputB);\n\t\tassert.ok(res);\n\t\tassert.strictEqual(res.line, 3);\n\n\t\tmemento.clearEditorStateOnDispose(testInputB.resource, testInputB);\n\n\t\t// State removed when input gets disposed\n\t\ttestInputB.dispose();\n\t\tres = memento.loadEditorState(testGroup0, testInputB);\n\t\tassert.ok(!res);\n\t});\n\n\ttest('EditorMemento - workbench.editor.sharedViewState', function () {\n\t\tconst testGroup0 = new TestEditorGroupView(0);\n\t\tconst testGroup1 = new TestEditorGroupView(1);\n\n\t\tconst configurationService = new TestTextResourceConfigurationService(new TestConfigurationService({\n\t\t\tworkbench: {\n\t\t\t\teditor: {\n\t\t\t\t\tsharedViewState: true\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t\tconst editorGroupService = new TestEditorGroupsService([testGroup0]);\n\n\t\tinterface TestViewState { line: number }\n\n\t\tconst rawMemento = Object.create(null);\n\t\tconst memento = disposables.add(new EditorMemento<TestViewState>('id', 'key', rawMemento, 3, editorGroupService, configurationService));\n\n\t\tconst resource = URI.file('/some/folder/file-1.txt');\n\t\tmemento.saveEditorState(testGroup0, resource, { line: 1 });\n\n\t\tlet res = memento.loadEditorState(testGroup0, resource);\n\t\tassert.strictEqual(res!.line, 1);\n\n\t\tres = memento.loadEditorState(testGroup1, resource);\n\t\tassert.strictEqual(res!.line, 1);\n\n\t\tmemento.saveEditorState(testGroup0, resource, { line: 3 });\n\n\t\tres = memento.loadEditorState(testGroup1, resource);\n\t\tassert.strictEqual(res!.line, 3);\n\n\t\tmemento.saveEditorState(testGroup1, resource, { line: 1 });\n\n\t\tres = memento.loadEditorState(testGroup1, resource);\n\t\tassert.strictEqual(res!.line, 1);\n\n\t\tmemento.clearEditorState(resource, testGroup0);\n\t\tmemento.clearEditorState(resource, testGroup1);\n\n\t\tres = memento.loadEditorState(testGroup1, resource);\n\t\tassert.strictEqual(res!.line, 1);\n\n\t\tmemento.clearEditorState(resource);\n\n\t\tres = memento.loadEditorState(testGroup1, resource);\n\t\tassert.ok(!res);\n\t});\n\n\ttest('WorkspaceTrustRequiredEditor', async function () {\n\n\t\tclass TrustRequiredTestEditor extends EditorPane {\n\t\t\tconstructor(group: IEditorGroup, @ITelemetryService telemetryService: ITelemetryService) {\n\t\t\t\tsuper('TestEditor', group, NullTelemetryService, NullThemeService, disposables.add(new TestStorageService()));\n\t\t\t}\n\n\t\t\toverride getId(): string { return 'trustRequiredTestEditor'; }\n\t\t\tlayout(): void { }\n\t\t\tprotected createEditor(): any { }\n\t\t}\n\n\t\tclass TrustRequiredTestInput extends EditorInput {\n\n\t\t\treadonly resource = undefined;\n\n\t\t\toverride get typeId(): string {\n\t\t\t\treturn 'trustRequiredTestInput';\n\t\t\t}\n\n\t\t\toverride get capabilities(): EditorInputCapabilities {\n\t\t\t\treturn EditorInputCapabilities.RequiresTrust;\n\t\t\t}\n\n\t\t\toverride resolve(): any {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\n\t\tconst instantiationService = workbenchInstantiationService(undefined, disposables);\n\t\tconst workspaceTrustService = disposables.add(instantiationService.createInstance(TestWorkspaceTrustManagementService));\n\t\tinstantiationService.stub(IWorkspaceTrustManagementService, workspaceTrustService);\n\t\tworkspaceTrustService.setWorkspaceTrust(false);\n\n\t\tconst editorPart = await createEditorPart(instantiationService, disposables);\n\t\tinstantiationService.stub(IEditorGroupsService, editorPart);\n\n\t\tconst editorService = disposables.add(instantiationService.createInstance(EditorService, undefined));\n\t\tinstantiationService.stub(IEditorService, editorService);\n\n\t\tconst group = editorPart.activeGroup;\n\n\t\tconst editorDescriptor = EditorPaneDescriptor.create(TrustRequiredTestEditor, 'id1', 'name');\n\t\tdisposables.add(editorRegistry.registerEditorPane(editorDescriptor, [new SyncDescriptor(TrustRequiredTestInput)]));\n\n\t\tconst testInput = disposables.add(new TrustRequiredTestInput());\n\n\t\tawait group.openEditor(testInput);\n\t\tassert.strictEqual(group.activeEditorPane?.getId(), WorkspaceTrustRequiredPlaceholderEditor.ID);\n\n\t\tconst getEditorPaneIdAsync = () => new Promise(resolve => {\n\t\t\tdisposables.add(editorService.onDidActiveEditorChange(() => {\n\t\t\t\tresolve(group.activeEditorPane?.getId());\n\t\t\t}));\n\t\t});\n\n\t\tworkspaceTrustService.setWorkspaceTrust(true);\n\n\t\tassert.strictEqual(await getEditorPaneIdAsync(), 'trustRequiredTestEditor');\n\n\t\tworkspaceTrustService.setWorkspaceTrust(false);\n\t\tassert.strictEqual(await getEditorPaneIdAsync(), WorkspaceTrustRequiredPlaceholderEditor.ID);\n\n\t\tawait group.closeAllEditors();\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n});\n"]}