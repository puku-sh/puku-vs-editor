{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/test/browser/notificationsList.test.ts","vs/workbench/test/browser/notificationsList.test.ts"],"names":[],"mappings":"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","file":"notificationsList.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { NotificationAccessibilityProvider } from '../../browser/parts/notifications/notificationsList.js';\nimport { NotificationViewItem, INotificationsFilter, INotificationViewItem } from '../../common/notifications.js';\nimport { Severity, NotificationsFilter } from '../../../platform/notification/common/notification.js';\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\nimport { IConfigurationService } from '../../../platform/configuration/common/configuration.js';\nimport { TestConfigurationService } from '../../../platform/configuration/test/common/testConfigurationService.js';\nimport { MockKeybindingService } from '../../../platform/keybinding/test/common/mockKeybindingService.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../base/test/common/utils.js';\n\nsuite('NotificationsList AccessibilityProvider', () => {\n\n\tconst noFilter: INotificationsFilter = { global: NotificationsFilter.OFF, sources: new Map() };\n\tlet configurationService: IConfigurationService;\n\tlet keybindingService: IKeybindingService;\n\tlet accessibilityProvider: NotificationAccessibilityProvider;\n\tconst createdNotifications: INotificationViewItem[] = [];\n\n\tsetup(() => {\n\t\tconfigurationService = new TestConfigurationService();\n\t\tkeybindingService = new MockKeybindingService();\n\t\taccessibilityProvider = new NotificationAccessibilityProvider({}, keybindingService, configurationService);\n\t});\n\n\tteardown(() => {\n\t\t// Close all created notifications to prevent disposable leaks\n\t\tfor (const notification of createdNotifications) {\n\t\t\tnotification.close();\n\t\t}\n\t\tcreatedNotifications.length = 0;\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('getAriaLabel includes severity prefix for Error notifications', () => {\n\t\tconst notification = NotificationViewItem.create({ severity: Severity.Error, message: 'Something went wrong' }, noFilter)!;\n\t\tcreatedNotifications.push(notification);\n\t\tconst ariaLabel = accessibilityProvider.getAriaLabel(notification);\n\n\t\tassert.ok(ariaLabel.startsWith('Error: '), `Expected aria label to start with \"Error: \", but got: ${ariaLabel}`);\n\t\tassert.ok(ariaLabel.includes('Something went wrong'), 'Expected aria label to include original message');\n\t\tassert.ok(ariaLabel.includes('notification'), 'Expected aria label to include \"notification\"');\n\t});\n\n\ttest('getAriaLabel includes severity prefix for Warning notifications', () => {\n\t\tconst notification = NotificationViewItem.create({ severity: Severity.Warning, message: 'This is a warning' }, noFilter)!;\n\t\tcreatedNotifications.push(notification);\n\t\tconst ariaLabel = accessibilityProvider.getAriaLabel(notification);\n\n\t\tassert.ok(ariaLabel.startsWith('Warning: '), `Expected aria label to start with \"Warning: \", but got: ${ariaLabel}`);\n\t\tassert.ok(ariaLabel.includes('This is a warning'), 'Expected aria label to include original message');\n\t\tassert.ok(ariaLabel.includes('notification'), 'Expected aria label to include \"notification\"');\n\t});\n\n\ttest('getAriaLabel includes severity prefix for Info notifications', () => {\n\t\tconst notification = NotificationViewItem.create({ severity: Severity.Info, message: 'Information message' }, noFilter)!;\n\t\tcreatedNotifications.push(notification);\n\t\tconst ariaLabel = accessibilityProvider.getAriaLabel(notification);\n\n\t\tassert.ok(ariaLabel.startsWith('Info: '), `Expected aria label to start with \"Info: \", but got: ${ariaLabel}`);\n\t\tassert.ok(ariaLabel.includes('Information message'), 'Expected aria label to include original message');\n\t\tassert.ok(ariaLabel.includes('notification'), 'Expected aria label to include \"notification\"');\n\t});\n\n\ttest('getAriaLabel includes source when present', () => {\n\t\tconst notification = NotificationViewItem.create({\n\t\t\tseverity: Severity.Error,\n\t\t\tmessage: 'Error with source',\n\t\t\tsource: 'TestExtension'\n\t\t}, noFilter)!;\n\t\tcreatedNotifications.push(notification);\n\t\tconst ariaLabel = accessibilityProvider.getAriaLabel(notification);\n\n\t\tassert.ok(ariaLabel.startsWith('Error: '), 'Expected aria label to start with severity prefix');\n\t\tassert.ok(ariaLabel.includes('Error with source'), 'Expected aria label to include original message');\n\t\tassert.ok(ariaLabel.includes('source: TestExtension'), 'Expected aria label to include source information');\n\t\tassert.ok(ariaLabel.includes('notification'), 'Expected aria label to include \"notification\"');\n\t});\n\n\ttest('severity prefix consistency', () => {\n\t\t// Test that the severity prefixes are consistent with the ARIA alerts\n\t\tconst errorNotification = NotificationViewItem.create({ severity: Severity.Error, message: 'Error message' }, noFilter)!;\n\t\tconst warningNotification = NotificationViewItem.create({ severity: Severity.Warning, message: 'Warning message' }, noFilter)!;\n\t\tconst infoNotification = NotificationViewItem.create({ severity: Severity.Info, message: 'Info message' }, noFilter)!;\n\n\t\tcreatedNotifications.push(errorNotification, warningNotification, infoNotification);\n\n\t\tconst errorLabel = accessibilityProvider.getAriaLabel(errorNotification);\n\t\tconst warningLabel = accessibilityProvider.getAriaLabel(warningNotification);\n\t\tconst infoLabel = accessibilityProvider.getAriaLabel(infoNotification);\n\n\t\t// Check that each severity type gets the correct prefix\n\t\tassert.ok(errorLabel.includes('Error: Error message'), 'Error notifications should have Error prefix');\n\t\tassert.ok(warningLabel.includes('Warning: Warning message'), 'Warning notifications should have Warning prefix');\n\t\tassert.ok(infoLabel.includes('Info: Info message'), 'Info notifications should have Info prefix');\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { NotificationAccessibilityProvider } from '../../browser/parts/notifications/notificationsList.js';\nimport { NotificationViewItem, INotificationsFilter, INotificationViewItem } from '../../common/notifications.js';\nimport { Severity, NotificationsFilter } from '../../../platform/notification/common/notification.js';\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\nimport { IConfigurationService } from '../../../platform/configuration/common/configuration.js';\nimport { TestConfigurationService } from '../../../platform/configuration/test/common/testConfigurationService.js';\nimport { MockKeybindingService } from '../../../platform/keybinding/test/common/mockKeybindingService.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../base/test/common/utils.js';\n\nsuite('NotificationsList AccessibilityProvider', () => {\n\n\tconst noFilter: INotificationsFilter = { global: NotificationsFilter.OFF, sources: new Map() };\n\tlet configurationService: IConfigurationService;\n\tlet keybindingService: IKeybindingService;\n\tlet accessibilityProvider: NotificationAccessibilityProvider;\n\tconst createdNotifications: INotificationViewItem[] = [];\n\n\tsetup(() => {\n\t\tconfigurationService = new TestConfigurationService();\n\t\tkeybindingService = new MockKeybindingService();\n\t\taccessibilityProvider = new NotificationAccessibilityProvider({}, keybindingService, configurationService);\n\t});\n\n\tteardown(() => {\n\t\t// Close all created notifications to prevent disposable leaks\n\t\tfor (const notification of createdNotifications) {\n\t\t\tnotification.close();\n\t\t}\n\t\tcreatedNotifications.length = 0;\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('getAriaLabel includes severity prefix for Error notifications', () => {\n\t\tconst notification = NotificationViewItem.create({ severity: Severity.Error, message: 'Something went wrong' }, noFilter)!;\n\t\tcreatedNotifications.push(notification);\n\t\tconst ariaLabel = accessibilityProvider.getAriaLabel(notification);\n\n\t\tassert.ok(ariaLabel.startsWith('Error: '), `Expected aria label to start with \"Error: \", but got: ${ariaLabel}`);\n\t\tassert.ok(ariaLabel.includes('Something went wrong'), 'Expected aria label to include original message');\n\t\tassert.ok(ariaLabel.includes('notification'), 'Expected aria label to include \"notification\"');\n\t});\n\n\ttest('getAriaLabel includes severity prefix for Warning notifications', () => {\n\t\tconst notification = NotificationViewItem.create({ severity: Severity.Warning, message: 'This is a warning' }, noFilter)!;\n\t\tcreatedNotifications.push(notification);\n\t\tconst ariaLabel = accessibilityProvider.getAriaLabel(notification);\n\n\t\tassert.ok(ariaLabel.startsWith('Warning: '), `Expected aria label to start with \"Warning: \", but got: ${ariaLabel}`);\n\t\tassert.ok(ariaLabel.includes('This is a warning'), 'Expected aria label to include original message');\n\t\tassert.ok(ariaLabel.includes('notification'), 'Expected aria label to include \"notification\"');\n\t});\n\n\ttest('getAriaLabel includes severity prefix for Info notifications', () => {\n\t\tconst notification = NotificationViewItem.create({ severity: Severity.Info, message: 'Information message' }, noFilter)!;\n\t\tcreatedNotifications.push(notification);\n\t\tconst ariaLabel = accessibilityProvider.getAriaLabel(notification);\n\n\t\tassert.ok(ariaLabel.startsWith('Info: '), `Expected aria label to start with \"Info: \", but got: ${ariaLabel}`);\n\t\tassert.ok(ariaLabel.includes('Information message'), 'Expected aria label to include original message');\n\t\tassert.ok(ariaLabel.includes('notification'), 'Expected aria label to include \"notification\"');\n\t});\n\n\ttest('getAriaLabel includes source when present', () => {\n\t\tconst notification = NotificationViewItem.create({\n\t\t\tseverity: Severity.Error,\n\t\t\tmessage: 'Error with source',\n\t\t\tsource: 'TestExtension'\n\t\t}, noFilter)!;\n\t\tcreatedNotifications.push(notification);\n\t\tconst ariaLabel = accessibilityProvider.getAriaLabel(notification);\n\n\t\tassert.ok(ariaLabel.startsWith('Error: '), 'Expected aria label to start with severity prefix');\n\t\tassert.ok(ariaLabel.includes('Error with source'), 'Expected aria label to include original message');\n\t\tassert.ok(ariaLabel.includes('source: TestExtension'), 'Expected aria label to include source information');\n\t\tassert.ok(ariaLabel.includes('notification'), 'Expected aria label to include \"notification\"');\n\t});\n\n\ttest('severity prefix consistency', () => {\n\t\t// Test that the severity prefixes are consistent with the ARIA alerts\n\t\tconst errorNotification = NotificationViewItem.create({ severity: Severity.Error, message: 'Error message' }, noFilter)!;\n\t\tconst warningNotification = NotificationViewItem.create({ severity: Severity.Warning, message: 'Warning message' }, noFilter)!;\n\t\tconst infoNotification = NotificationViewItem.create({ severity: Severity.Info, message: 'Info message' }, noFilter)!;\n\n\t\tcreatedNotifications.push(errorNotification, warningNotification, infoNotification);\n\n\t\tconst errorLabel = accessibilityProvider.getAriaLabel(errorNotification);\n\t\tconst warningLabel = accessibilityProvider.getAriaLabel(warningNotification);\n\t\tconst infoLabel = accessibilityProvider.getAriaLabel(infoNotification);\n\n\t\t// Check that each severity type gets the correct prefix\n\t\tassert.ok(errorLabel.includes('Error: Error message'), 'Error notifications should have Error prefix');\n\t\tassert.ok(warningLabel.includes('Warning: Warning message'), 'Warning notifications should have Warning prefix');\n\t\tassert.ok(infoLabel.includes('Info: Info message'), 'Info notifications should have Info prefix');\n\t});\n});\n"]}