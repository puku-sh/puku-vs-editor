{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/test/browser/quickAccess.test.ts","vs/workbench/test/browser/quickAccess.test.ts"],"names":[],"mappings":"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","file":"quickAccess.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { Registry } from '../../../platform/registry/common/platform.js';\nimport { IQuickAccessRegistry, Extensions, IQuickAccessProvider, QuickAccessRegistry } from '../../../platform/quickinput/common/quickAccess.js';\nimport { IQuickPick, IQuickPickItem, IQuickInputService } from '../../../platform/quickinput/common/quickInput.js';\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { TestServiceAccessor, workbenchInstantiationService, createEditorPart } from './workbenchTestServices.js';\nimport { DisposableStore, toDisposable, IDisposable } from '../../../base/common/lifecycle.js';\nimport { timeout } from '../../../base/common/async.js';\nimport { PickerQuickAccessProvider, FastAndSlowPicks } from '../../../platform/quickinput/browser/pickerQuickAccess.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { IEditorGroupsService } from '../../services/editor/common/editorGroupsService.js';\nimport { IEditorService } from '../../services/editor/common/editorService.js';\nimport { EditorService } from '../../services/editor/browser/editorService.js';\nimport { PickerEditorState } from '../../browser/quickaccess.js';\nimport { EditorsOrder } from '../../common/editor.js';\nimport { Range } from '../../../editor/common/core/range.js';\nimport { TestInstantiationService } from '../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../base/test/common/utils.js';\n\nsuite('QuickAccess', () => {\n\n\tconst disposables = ensureNoDisposablesAreLeakedInTestSuite();\n\tlet instantiationService: TestInstantiationService;\n\tlet accessor: TestServiceAccessor;\n\n\tlet providerDefaultCalled = false;\n\tlet providerDefaultCanceled = false;\n\tlet providerDefaultDisposed = false;\n\n\tlet provider1Called = false;\n\tlet provider1Canceled = false;\n\tlet provider1Disposed = false;\n\n\tlet provider2Called = false;\n\tlet provider2Canceled = false;\n\tlet provider2Disposed = false;\n\n\tlet provider3Called = false;\n\tlet provider3Canceled = false;\n\tlet provider3Disposed = false;\n\n\tclass TestProviderDefault implements IQuickAccessProvider {\n\n\t\tconstructor(@IQuickInputService private readonly quickInputService: IQuickInputService, disposables: DisposableStore) { }\n\n\t\tprovide(picker: IQuickPick<IQuickPickItem, { useSeparators: true }>, token: CancellationToken): IDisposable {\n\t\t\tassert.ok(picker);\n\t\t\tproviderDefaultCalled = true;\n\t\t\tconst store = new DisposableStore();\n\t\t\tstore.add(toDisposable(() => providerDefaultDisposed = true));\n\t\t\tstore.add(token.onCancellationRequested(() => providerDefaultCanceled = true));\n\n\t\t\t// bring up provider #3\n\t\t\tsetTimeout(() => this.quickInputService.quickAccess.show(providerDescriptor3.prefix));\n\n\t\t\treturn store;\n\t\t}\n\t}\n\n\tclass TestProvider1 implements IQuickAccessProvider {\n\t\tprovide(picker: IQuickPick<IQuickPickItem, { useSeparators: true }>, token: CancellationToken): IDisposable {\n\t\t\tassert.ok(picker);\n\t\t\tprovider1Called = true;\n\t\t\tconst store = new DisposableStore();\n\t\t\tstore.add(token.onCancellationRequested(() => provider1Canceled = true));\n\n\t\t\tstore.add(toDisposable(() => provider1Disposed = true));\n\t\t\treturn store;\n\t\t}\n\t}\n\n\tclass TestProvider2 implements IQuickAccessProvider {\n\t\tprovide(picker: IQuickPick<IQuickPickItem, { useSeparators: true }>, token: CancellationToken): IDisposable {\n\t\t\tassert.ok(picker);\n\t\t\tprovider2Called = true;\n\t\t\tconst store = new DisposableStore();\n\t\t\tstore.add(token.onCancellationRequested(() => provider2Canceled = true));\n\n\t\t\tstore.add(toDisposable(() => provider2Disposed = true));\n\t\t\treturn store;\n\t\t}\n\t}\n\n\tclass TestProvider3 implements IQuickAccessProvider {\n\t\tprovide(picker: IQuickPick<IQuickPickItem, { useSeparators: true }>, token: CancellationToken): IDisposable {\n\t\t\tassert.ok(picker);\n\t\t\tprovider3Called = true;\n\t\t\tconst store = new DisposableStore();\n\t\t\tstore.add(token.onCancellationRequested(() => provider3Canceled = true));\n\n\t\t\t// hide without picking\n\t\t\tsetTimeout(() => picker.hide());\n\n\t\t\tstore.add(toDisposable(() => provider3Disposed = true));\n\t\t\treturn store;\n\t\t}\n\t}\n\n\tconst providerDescriptorDefault = { ctor: TestProviderDefault, prefix: '', helpEntries: [] };\n\tconst providerDescriptor1 = { ctor: TestProvider1, prefix: 'test', helpEntries: [] };\n\tconst providerDescriptor2 = { ctor: TestProvider2, prefix: 'test something', helpEntries: [] };\n\tconst providerDescriptor3 = { ctor: TestProvider3, prefix: 'changed', helpEntries: [] };\n\n\tsetup(() => {\n\t\tinstantiationService = workbenchInstantiationService(undefined, disposables);\n\t\taccessor = instantiationService.createInstance(TestServiceAccessor);\n\t});\n\n\ttest('registry', () => {\n\t\tconst registry = (Registry.as<IQuickAccessRegistry>(Extensions.Quickaccess));\n\t\tconst restore = (registry as QuickAccessRegistry).clear();\n\n\t\tassert.ok(!registry.getQuickAccessProvider('test'));\n\n\t\tconst disposables = new DisposableStore();\n\n\t\tdisposables.add(registry.registerQuickAccessProvider(providerDescriptorDefault));\n\t\tassert(registry.getQuickAccessProvider('') === providerDescriptorDefault);\n\t\tassert(registry.getQuickAccessProvider('test') === providerDescriptorDefault);\n\n\t\tconst disposable = disposables.add(registry.registerQuickAccessProvider(providerDescriptor1));\n\t\tassert(registry.getQuickAccessProvider('test') === providerDescriptor1);\n\n\t\tconst providers = registry.getQuickAccessProviders();\n\t\tassert(providers.some(provider => provider.prefix === 'test'));\n\n\t\tdisposable.dispose();\n\t\tassert(registry.getQuickAccessProvider('test') === providerDescriptorDefault);\n\n\t\tdisposables.dispose();\n\t\tassert.ok(!registry.getQuickAccessProvider('test'));\n\n\t\trestore();\n\t});\n\n\ttest('provider', async () => {\n\t\tconst registry = (Registry.as<IQuickAccessRegistry>(Extensions.Quickaccess));\n\t\tconst restore = (registry as QuickAccessRegistry).clear();\n\n\t\tconst disposables = new DisposableStore();\n\n\t\tdisposables.add(registry.registerQuickAccessProvider(providerDescriptorDefault));\n\t\tdisposables.add(registry.registerQuickAccessProvider(providerDescriptor1));\n\t\tdisposables.add(registry.registerQuickAccessProvider(providerDescriptor2));\n\t\tdisposables.add(registry.registerQuickAccessProvider(providerDescriptor3));\n\n\t\taccessor.quickInputService.quickAccess.show('test');\n\t\tassert.strictEqual(providerDefaultCalled, false);\n\t\tassert.strictEqual(provider1Called, true);\n\t\tassert.strictEqual(provider2Called, false);\n\t\tassert.strictEqual(provider3Called, false);\n\t\tassert.strictEqual(providerDefaultCanceled, false);\n\t\tassert.strictEqual(provider1Canceled, false);\n\t\tassert.strictEqual(provider2Canceled, false);\n\t\tassert.strictEqual(provider3Canceled, false);\n\t\tassert.strictEqual(providerDefaultDisposed, false);\n\t\tassert.strictEqual(provider1Disposed, false);\n\t\tassert.strictEqual(provider2Disposed, false);\n\t\tassert.strictEqual(provider3Disposed, false);\n\t\tprovider1Called = false;\n\n\t\taccessor.quickInputService.quickAccess.show('test something');\n\t\tassert.strictEqual(providerDefaultCalled, false);\n\t\tassert.strictEqual(provider1Called, false);\n\t\tassert.strictEqual(provider2Called, true);\n\t\tassert.strictEqual(provider3Called, false);\n\t\tassert.strictEqual(providerDefaultCanceled, false);\n\t\tassert.strictEqual(provider1Canceled, true);\n\t\tassert.strictEqual(provider2Canceled, false);\n\t\tassert.strictEqual(provider3Canceled, false);\n\t\tassert.strictEqual(providerDefaultDisposed, false);\n\t\tassert.strictEqual(provider1Disposed, true);\n\t\tassert.strictEqual(provider2Disposed, false);\n\t\tassert.strictEqual(provider3Disposed, false);\n\t\tprovider2Called = false;\n\t\tprovider1Canceled = false;\n\t\tprovider1Disposed = false;\n\n\t\taccessor.quickInputService.quickAccess.show('usedefault');\n\t\tassert.strictEqual(providerDefaultCalled, true);\n\t\tassert.strictEqual(provider1Called, false);\n\t\tassert.strictEqual(provider2Called, false);\n\t\tassert.strictEqual(provider3Called, false);\n\t\tassert.strictEqual(providerDefaultCanceled, false);\n\t\tassert.strictEqual(provider1Canceled, false);\n\t\tassert.strictEqual(provider2Canceled, true);\n\t\tassert.strictEqual(provider3Canceled, false);\n\t\tassert.strictEqual(providerDefaultDisposed, false);\n\t\tassert.strictEqual(provider1Disposed, false);\n\t\tassert.strictEqual(provider2Disposed, true);\n\t\tassert.strictEqual(provider3Disposed, false);\n\n\t\tawait timeout(1);\n\n\t\tassert.strictEqual(providerDefaultCanceled, true);\n\t\tassert.strictEqual(providerDefaultDisposed, true);\n\t\tassert.strictEqual(provider3Called, true);\n\n\t\tawait timeout(1);\n\n\t\tassert.strictEqual(provider3Canceled, true);\n\t\tassert.strictEqual(provider3Disposed, true);\n\n\t\tdisposables.dispose();\n\n\t\trestore();\n\t});\n\n\tlet fastProviderCalled = false;\n\tlet slowProviderCalled = false;\n\tlet fastAndSlowProviderCalled = false;\n\n\tlet slowProviderCanceled = false;\n\tlet fastAndSlowProviderCanceled = false;\n\n\tclass FastTestQuickPickProvider extends PickerQuickAccessProvider<IQuickPickItem> {\n\n\t\tconstructor() {\n\t\t\tsuper('fast');\n\t\t}\n\n\t\tprotected _getPicks(filter: string, disposables: DisposableStore, token: CancellationToken): Array<IQuickPickItem> {\n\t\t\tfastProviderCalled = true;\n\n\t\t\treturn [{ label: 'Fast Pick' }];\n\t\t}\n\t}\n\n\tclass SlowTestQuickPickProvider extends PickerQuickAccessProvider<IQuickPickItem> {\n\n\t\tconstructor() {\n\t\t\tsuper('slow');\n\t\t}\n\n\t\tprotected async _getPicks(filter: string, disposables: DisposableStore, token: CancellationToken): Promise<Array<IQuickPickItem>> {\n\t\t\tslowProviderCalled = true;\n\n\t\t\tawait timeout(1);\n\n\t\t\tif (token.isCancellationRequested) {\n\t\t\t\tslowProviderCanceled = true;\n\t\t\t}\n\n\t\t\treturn [{ label: 'Slow Pick' }];\n\t\t}\n\t}\n\n\tclass FastAndSlowTestQuickPickProvider extends PickerQuickAccessProvider<IQuickPickItem> {\n\n\t\tconstructor() {\n\t\t\tsuper('bothFastAndSlow');\n\t\t}\n\n\t\tprotected _getPicks(filter: string, disposables: DisposableStore, token: CancellationToken): FastAndSlowPicks<IQuickPickItem> {\n\t\t\tfastAndSlowProviderCalled = true;\n\n\t\t\treturn {\n\t\t\t\tpicks: [{ label: 'Fast Pick' }],\n\t\t\t\tadditionalPicks: (async () => {\n\t\t\t\t\tawait timeout(1);\n\n\t\t\t\t\tif (token.isCancellationRequested) {\n\t\t\t\t\t\tfastAndSlowProviderCanceled = true;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn [{ label: 'Slow Pick' }];\n\t\t\t\t})()\n\t\t\t};\n\t\t}\n\t}\n\n\tconst fastProviderDescriptor = { ctor: FastTestQuickPickProvider, prefix: 'fast', helpEntries: [] };\n\tconst slowProviderDescriptor = { ctor: SlowTestQuickPickProvider, prefix: 'slow', helpEntries: [] };\n\tconst fastAndSlowProviderDescriptor = { ctor: FastAndSlowTestQuickPickProvider, prefix: 'bothFastAndSlow', helpEntries: [] };\n\n\ttest('quick pick access - show()', async () => {\n\t\tconst registry = (Registry.as<IQuickAccessRegistry>(Extensions.Quickaccess));\n\t\tconst restore = (registry as QuickAccessRegistry).clear();\n\n\t\tconst disposables = new DisposableStore();\n\n\t\tdisposables.add(registry.registerQuickAccessProvider(fastProviderDescriptor));\n\t\tdisposables.add(registry.registerQuickAccessProvider(slowProviderDescriptor));\n\t\tdisposables.add(registry.registerQuickAccessProvider(fastAndSlowProviderDescriptor));\n\n\t\taccessor.quickInputService.quickAccess.show('fast');\n\t\tassert.strictEqual(fastProviderCalled, true);\n\t\tassert.strictEqual(slowProviderCalled, false);\n\t\tassert.strictEqual(fastAndSlowProviderCalled, false);\n\t\tfastProviderCalled = false;\n\n\t\taccessor.quickInputService.quickAccess.show('slow');\n\t\tawait timeout(2);\n\n\t\tassert.strictEqual(fastProviderCalled, false);\n\t\tassert.strictEqual(slowProviderCalled, true);\n\t\tassert.strictEqual(slowProviderCanceled, false);\n\t\tassert.strictEqual(fastAndSlowProviderCalled, false);\n\t\tslowProviderCalled = false;\n\n\t\taccessor.quickInputService.quickAccess.show('bothFastAndSlow');\n\t\tawait timeout(2);\n\n\t\tassert.strictEqual(fastProviderCalled, false);\n\t\tassert.strictEqual(slowProviderCalled, false);\n\t\tassert.strictEqual(fastAndSlowProviderCalled, true);\n\t\tassert.strictEqual(fastAndSlowProviderCanceled, false);\n\t\tfastAndSlowProviderCalled = false;\n\n\t\taccessor.quickInputService.quickAccess.show('slow');\n\t\taccessor.quickInputService.quickAccess.show('bothFastAndSlow');\n\t\taccessor.quickInputService.quickAccess.show('fast');\n\n\t\tassert.strictEqual(fastProviderCalled, true);\n\t\tassert.strictEqual(slowProviderCalled, true);\n\t\tassert.strictEqual(fastAndSlowProviderCalled, true);\n\n\t\tawait timeout(2);\n\t\tassert.strictEqual(slowProviderCanceled, true);\n\t\tassert.strictEqual(fastAndSlowProviderCanceled, true);\n\n\t\tdisposables.dispose();\n\n\t\trestore();\n\t});\n\n\ttest('quick pick access - pick()', async () => {\n\t\tconst registry = (Registry.as<IQuickAccessRegistry>(Extensions.Quickaccess));\n\t\tconst restore = (registry as QuickAccessRegistry).clear();\n\n\t\tconst disposables = new DisposableStore();\n\n\t\tdisposables.add(registry.registerQuickAccessProvider(fastProviderDescriptor));\n\n\t\tconst result = accessor.quickInputService.quickAccess.pick('fast');\n\t\tassert.strictEqual(fastProviderCalled, true);\n\t\tassert.ok(result instanceof Promise);\n\n\t\tdisposables.dispose();\n\n\t\trestore();\n\t});\n\n\ttest('PickerEditorState can properly restore editors', async () => {\n\n\t\tconst part = await createEditorPart(instantiationService, disposables.add(new DisposableStore()));\n\t\tinstantiationService.stub(IEditorGroupsService, part);\n\n\t\tconst editorService = disposables.add(instantiationService.createInstance(EditorService, undefined));\n\t\tinstantiationService.stub(IEditorService, editorService);\n\n\t\tconst editorViewState = disposables.add(instantiationService.createInstance(PickerEditorState));\n\t\tdisposables.add(part);\n\t\tdisposables.add(editorService);\n\n\t\tconst input1 = {\n\t\t\tresource: URI.parse('foo://bar1'),\n\t\t\toptions: {\n\t\t\t\tpinned: true, preserveFocus: true, selection: new Range(1, 0, 1, 3)\n\t\t\t}\n\t\t};\n\t\tconst input2 = {\n\t\t\tresource: URI.parse('foo://bar2'),\n\t\t\toptions: {\n\t\t\t\tpinned: true, selection: new Range(1, 0, 1, 3)\n\t\t\t}\n\t\t};\n\t\tconst input3 = {\n\t\t\tresource: URI.parse('foo://bar3')\n\t\t};\n\t\tconst input4 = {\n\t\t\tresource: URI.parse('foo://bar4')\n\t\t};\n\n\t\tconst editor = await editorService.openEditor(input1);\n\t\tassert.strictEqual(editor, editorService.activeEditorPane);\n\t\teditorViewState.set();\n\t\tawait editorService.openEditor(input2);\n\t\tawait editorViewState.openTransientEditor(input3);\n\t\tawait editorViewState.openTransientEditor(input4);\n\t\tawait editorViewState.restore();\n\n\t\tassert.strictEqual(part.activeGroup.activeEditor?.resource, input1.resource);\n\t\tassert.deepStrictEqual(part.activeGroup.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).map(e => e.resource), [input1.resource, input2.resource]);\n\t\tif (part.activeGroup.activeEditorPane?.getSelection) {\n\t\t\tassert.deepStrictEqual(part.activeGroup.activeEditorPane?.getSelection(), input1.options.selection);\n\t\t}\n\t\tawait part.activeGroup.closeAllEditors();\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { Registry } from '../../../platform/registry/common/platform.js';\nimport { IQuickAccessRegistry, Extensions, IQuickAccessProvider, QuickAccessRegistry } from '../../../platform/quickinput/common/quickAccess.js';\nimport { IQuickPick, IQuickPickItem, IQuickInputService } from '../../../platform/quickinput/common/quickInput.js';\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { TestServiceAccessor, workbenchInstantiationService, createEditorPart } from './workbenchTestServices.js';\nimport { DisposableStore, toDisposable, IDisposable } from '../../../base/common/lifecycle.js';\nimport { timeout } from '../../../base/common/async.js';\nimport { PickerQuickAccessProvider, FastAndSlowPicks } from '../../../platform/quickinput/browser/pickerQuickAccess.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { IEditorGroupsService } from '../../services/editor/common/editorGroupsService.js';\nimport { IEditorService } from '../../services/editor/common/editorService.js';\nimport { EditorService } from '../../services/editor/browser/editorService.js';\nimport { PickerEditorState } from '../../browser/quickaccess.js';\nimport { EditorsOrder } from '../../common/editor.js';\nimport { Range } from '../../../editor/common/core/range.js';\nimport { TestInstantiationService } from '../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../base/test/common/utils.js';\n\nsuite('QuickAccess', () => {\n\n\tconst disposables = ensureNoDisposablesAreLeakedInTestSuite();\n\tlet instantiationService: TestInstantiationService;\n\tlet accessor: TestServiceAccessor;\n\n\tlet providerDefaultCalled = false;\n\tlet providerDefaultCanceled = false;\n\tlet providerDefaultDisposed = false;\n\n\tlet provider1Called = false;\n\tlet provider1Canceled = false;\n\tlet provider1Disposed = false;\n\n\tlet provider2Called = false;\n\tlet provider2Canceled = false;\n\tlet provider2Disposed = false;\n\n\tlet provider3Called = false;\n\tlet provider3Canceled = false;\n\tlet provider3Disposed = false;\n\n\tclass TestProviderDefault implements IQuickAccessProvider {\n\n\t\tconstructor(@IQuickInputService private readonly quickInputService: IQuickInputService, disposables: DisposableStore) { }\n\n\t\tprovide(picker: IQuickPick<IQuickPickItem, { useSeparators: true }>, token: CancellationToken): IDisposable {\n\t\t\tassert.ok(picker);\n\t\t\tproviderDefaultCalled = true;\n\t\t\tconst store = new DisposableStore();\n\t\t\tstore.add(toDisposable(() => providerDefaultDisposed = true));\n\t\t\tstore.add(token.onCancellationRequested(() => providerDefaultCanceled = true));\n\n\t\t\t// bring up provider #3\n\t\t\tsetTimeout(() => this.quickInputService.quickAccess.show(providerDescriptor3.prefix));\n\n\t\t\treturn store;\n\t\t}\n\t}\n\n\tclass TestProvider1 implements IQuickAccessProvider {\n\t\tprovide(picker: IQuickPick<IQuickPickItem, { useSeparators: true }>, token: CancellationToken): IDisposable {\n\t\t\tassert.ok(picker);\n\t\t\tprovider1Called = true;\n\t\t\tconst store = new DisposableStore();\n\t\t\tstore.add(token.onCancellationRequested(() => provider1Canceled = true));\n\n\t\t\tstore.add(toDisposable(() => provider1Disposed = true));\n\t\t\treturn store;\n\t\t}\n\t}\n\n\tclass TestProvider2 implements IQuickAccessProvider {\n\t\tprovide(picker: IQuickPick<IQuickPickItem, { useSeparators: true }>, token: CancellationToken): IDisposable {\n\t\t\tassert.ok(picker);\n\t\t\tprovider2Called = true;\n\t\t\tconst store = new DisposableStore();\n\t\t\tstore.add(token.onCancellationRequested(() => provider2Canceled = true));\n\n\t\t\tstore.add(toDisposable(() => provider2Disposed = true));\n\t\t\treturn store;\n\t\t}\n\t}\n\n\tclass TestProvider3 implements IQuickAccessProvider {\n\t\tprovide(picker: IQuickPick<IQuickPickItem, { useSeparators: true }>, token: CancellationToken): IDisposable {\n\t\t\tassert.ok(picker);\n\t\t\tprovider3Called = true;\n\t\t\tconst store = new DisposableStore();\n\t\t\tstore.add(token.onCancellationRequested(() => provider3Canceled = true));\n\n\t\t\t// hide without picking\n\t\t\tsetTimeout(() => picker.hide());\n\n\t\t\tstore.add(toDisposable(() => provider3Disposed = true));\n\t\t\treturn store;\n\t\t}\n\t}\n\n\tconst providerDescriptorDefault = { ctor: TestProviderDefault, prefix: '', helpEntries: [] };\n\tconst providerDescriptor1 = { ctor: TestProvider1, prefix: 'test', helpEntries: [] };\n\tconst providerDescriptor2 = { ctor: TestProvider2, prefix: 'test something', helpEntries: [] };\n\tconst providerDescriptor3 = { ctor: TestProvider3, prefix: 'changed', helpEntries: [] };\n\n\tsetup(() => {\n\t\tinstantiationService = workbenchInstantiationService(undefined, disposables);\n\t\taccessor = instantiationService.createInstance(TestServiceAccessor);\n\t});\n\n\ttest('registry', () => {\n\t\tconst registry = (Registry.as<IQuickAccessRegistry>(Extensions.Quickaccess));\n\t\tconst restore = (registry as QuickAccessRegistry).clear();\n\n\t\tassert.ok(!registry.getQuickAccessProvider('test'));\n\n\t\tconst disposables = new DisposableStore();\n\n\t\tdisposables.add(registry.registerQuickAccessProvider(providerDescriptorDefault));\n\t\tassert(registry.getQuickAccessProvider('') === providerDescriptorDefault);\n\t\tassert(registry.getQuickAccessProvider('test') === providerDescriptorDefault);\n\n\t\tconst disposable = disposables.add(registry.registerQuickAccessProvider(providerDescriptor1));\n\t\tassert(registry.getQuickAccessProvider('test') === providerDescriptor1);\n\n\t\tconst providers = registry.getQuickAccessProviders();\n\t\tassert(providers.some(provider => provider.prefix === 'test'));\n\n\t\tdisposable.dispose();\n\t\tassert(registry.getQuickAccessProvider('test') === providerDescriptorDefault);\n\n\t\tdisposables.dispose();\n\t\tassert.ok(!registry.getQuickAccessProvider('test'));\n\n\t\trestore();\n\t});\n\n\ttest('provider', async () => {\n\t\tconst registry = (Registry.as<IQuickAccessRegistry>(Extensions.Quickaccess));\n\t\tconst restore = (registry as QuickAccessRegistry).clear();\n\n\t\tconst disposables = new DisposableStore();\n\n\t\tdisposables.add(registry.registerQuickAccessProvider(providerDescriptorDefault));\n\t\tdisposables.add(registry.registerQuickAccessProvider(providerDescriptor1));\n\t\tdisposables.add(registry.registerQuickAccessProvider(providerDescriptor2));\n\t\tdisposables.add(registry.registerQuickAccessProvider(providerDescriptor3));\n\n\t\taccessor.quickInputService.quickAccess.show('test');\n\t\tassert.strictEqual(providerDefaultCalled, false);\n\t\tassert.strictEqual(provider1Called, true);\n\t\tassert.strictEqual(provider2Called, false);\n\t\tassert.strictEqual(provider3Called, false);\n\t\tassert.strictEqual(providerDefaultCanceled, false);\n\t\tassert.strictEqual(provider1Canceled, false);\n\t\tassert.strictEqual(provider2Canceled, false);\n\t\tassert.strictEqual(provider3Canceled, false);\n\t\tassert.strictEqual(providerDefaultDisposed, false);\n\t\tassert.strictEqual(provider1Disposed, false);\n\t\tassert.strictEqual(provider2Disposed, false);\n\t\tassert.strictEqual(provider3Disposed, false);\n\t\tprovider1Called = false;\n\n\t\taccessor.quickInputService.quickAccess.show('test something');\n\t\tassert.strictEqual(providerDefaultCalled, false);\n\t\tassert.strictEqual(provider1Called, false);\n\t\tassert.strictEqual(provider2Called, true);\n\t\tassert.strictEqual(provider3Called, false);\n\t\tassert.strictEqual(providerDefaultCanceled, false);\n\t\tassert.strictEqual(provider1Canceled, true);\n\t\tassert.strictEqual(provider2Canceled, false);\n\t\tassert.strictEqual(provider3Canceled, false);\n\t\tassert.strictEqual(providerDefaultDisposed, false);\n\t\tassert.strictEqual(provider1Disposed, true);\n\t\tassert.strictEqual(provider2Disposed, false);\n\t\tassert.strictEqual(provider3Disposed, false);\n\t\tprovider2Called = false;\n\t\tprovider1Canceled = false;\n\t\tprovider1Disposed = false;\n\n\t\taccessor.quickInputService.quickAccess.show('usedefault');\n\t\tassert.strictEqual(providerDefaultCalled, true);\n\t\tassert.strictEqual(provider1Called, false);\n\t\tassert.strictEqual(provider2Called, false);\n\t\tassert.strictEqual(provider3Called, false);\n\t\tassert.strictEqual(providerDefaultCanceled, false);\n\t\tassert.strictEqual(provider1Canceled, false);\n\t\tassert.strictEqual(provider2Canceled, true);\n\t\tassert.strictEqual(provider3Canceled, false);\n\t\tassert.strictEqual(providerDefaultDisposed, false);\n\t\tassert.strictEqual(provider1Disposed, false);\n\t\tassert.strictEqual(provider2Disposed, true);\n\t\tassert.strictEqual(provider3Disposed, false);\n\n\t\tawait timeout(1);\n\n\t\tassert.strictEqual(providerDefaultCanceled, true);\n\t\tassert.strictEqual(providerDefaultDisposed, true);\n\t\tassert.strictEqual(provider3Called, true);\n\n\t\tawait timeout(1);\n\n\t\tassert.strictEqual(provider3Canceled, true);\n\t\tassert.strictEqual(provider3Disposed, true);\n\n\t\tdisposables.dispose();\n\n\t\trestore();\n\t});\n\n\tlet fastProviderCalled = false;\n\tlet slowProviderCalled = false;\n\tlet fastAndSlowProviderCalled = false;\n\n\tlet slowProviderCanceled = false;\n\tlet fastAndSlowProviderCanceled = false;\n\n\tclass FastTestQuickPickProvider extends PickerQuickAccessProvider<IQuickPickItem> {\n\n\t\tconstructor() {\n\t\t\tsuper('fast');\n\t\t}\n\n\t\tprotected _getPicks(filter: string, disposables: DisposableStore, token: CancellationToken): Array<IQuickPickItem> {\n\t\t\tfastProviderCalled = true;\n\n\t\t\treturn [{ label: 'Fast Pick' }];\n\t\t}\n\t}\n\n\tclass SlowTestQuickPickProvider extends PickerQuickAccessProvider<IQuickPickItem> {\n\n\t\tconstructor() {\n\t\t\tsuper('slow');\n\t\t}\n\n\t\tprotected async _getPicks(filter: string, disposables: DisposableStore, token: CancellationToken): Promise<Array<IQuickPickItem>> {\n\t\t\tslowProviderCalled = true;\n\n\t\t\tawait timeout(1);\n\n\t\t\tif (token.isCancellationRequested) {\n\t\t\t\tslowProviderCanceled = true;\n\t\t\t}\n\n\t\t\treturn [{ label: 'Slow Pick' }];\n\t\t}\n\t}\n\n\tclass FastAndSlowTestQuickPickProvider extends PickerQuickAccessProvider<IQuickPickItem> {\n\n\t\tconstructor() {\n\t\t\tsuper('bothFastAndSlow');\n\t\t}\n\n\t\tprotected _getPicks(filter: string, disposables: DisposableStore, token: CancellationToken): FastAndSlowPicks<IQuickPickItem> {\n\t\t\tfastAndSlowProviderCalled = true;\n\n\t\t\treturn {\n\t\t\t\tpicks: [{ label: 'Fast Pick' }],\n\t\t\t\tadditionalPicks: (async () => {\n\t\t\t\t\tawait timeout(1);\n\n\t\t\t\t\tif (token.isCancellationRequested) {\n\t\t\t\t\t\tfastAndSlowProviderCanceled = true;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn [{ label: 'Slow Pick' }];\n\t\t\t\t})()\n\t\t\t};\n\t\t}\n\t}\n\n\tconst fastProviderDescriptor = { ctor: FastTestQuickPickProvider, prefix: 'fast', helpEntries: [] };\n\tconst slowProviderDescriptor = { ctor: SlowTestQuickPickProvider, prefix: 'slow', helpEntries: [] };\n\tconst fastAndSlowProviderDescriptor = { ctor: FastAndSlowTestQuickPickProvider, prefix: 'bothFastAndSlow', helpEntries: [] };\n\n\ttest('quick pick access - show()', async () => {\n\t\tconst registry = (Registry.as<IQuickAccessRegistry>(Extensions.Quickaccess));\n\t\tconst restore = (registry as QuickAccessRegistry).clear();\n\n\t\tconst disposables = new DisposableStore();\n\n\t\tdisposables.add(registry.registerQuickAccessProvider(fastProviderDescriptor));\n\t\tdisposables.add(registry.registerQuickAccessProvider(slowProviderDescriptor));\n\t\tdisposables.add(registry.registerQuickAccessProvider(fastAndSlowProviderDescriptor));\n\n\t\taccessor.quickInputService.quickAccess.show('fast');\n\t\tassert.strictEqual(fastProviderCalled, true);\n\t\tassert.strictEqual(slowProviderCalled, false);\n\t\tassert.strictEqual(fastAndSlowProviderCalled, false);\n\t\tfastProviderCalled = false;\n\n\t\taccessor.quickInputService.quickAccess.show('slow');\n\t\tawait timeout(2);\n\n\t\tassert.strictEqual(fastProviderCalled, false);\n\t\tassert.strictEqual(slowProviderCalled, true);\n\t\tassert.strictEqual(slowProviderCanceled, false);\n\t\tassert.strictEqual(fastAndSlowProviderCalled, false);\n\t\tslowProviderCalled = false;\n\n\t\taccessor.quickInputService.quickAccess.show('bothFastAndSlow');\n\t\tawait timeout(2);\n\n\t\tassert.strictEqual(fastProviderCalled, false);\n\t\tassert.strictEqual(slowProviderCalled, false);\n\t\tassert.strictEqual(fastAndSlowProviderCalled, true);\n\t\tassert.strictEqual(fastAndSlowProviderCanceled, false);\n\t\tfastAndSlowProviderCalled = false;\n\n\t\taccessor.quickInputService.quickAccess.show('slow');\n\t\taccessor.quickInputService.quickAccess.show('bothFastAndSlow');\n\t\taccessor.quickInputService.quickAccess.show('fast');\n\n\t\tassert.strictEqual(fastProviderCalled, true);\n\t\tassert.strictEqual(slowProviderCalled, true);\n\t\tassert.strictEqual(fastAndSlowProviderCalled, true);\n\n\t\tawait timeout(2);\n\t\tassert.strictEqual(slowProviderCanceled, true);\n\t\tassert.strictEqual(fastAndSlowProviderCanceled, true);\n\n\t\tdisposables.dispose();\n\n\t\trestore();\n\t});\n\n\ttest('quick pick access - pick()', async () => {\n\t\tconst registry = (Registry.as<IQuickAccessRegistry>(Extensions.Quickaccess));\n\t\tconst restore = (registry as QuickAccessRegistry).clear();\n\n\t\tconst disposables = new DisposableStore();\n\n\t\tdisposables.add(registry.registerQuickAccessProvider(fastProviderDescriptor));\n\n\t\tconst result = accessor.quickInputService.quickAccess.pick('fast');\n\t\tassert.strictEqual(fastProviderCalled, true);\n\t\tassert.ok(result instanceof Promise);\n\n\t\tdisposables.dispose();\n\n\t\trestore();\n\t});\n\n\ttest('PickerEditorState can properly restore editors', async () => {\n\n\t\tconst part = await createEditorPart(instantiationService, disposables.add(new DisposableStore()));\n\t\tinstantiationService.stub(IEditorGroupsService, part);\n\n\t\tconst editorService = disposables.add(instantiationService.createInstance(EditorService, undefined));\n\t\tinstantiationService.stub(IEditorService, editorService);\n\n\t\tconst editorViewState = disposables.add(instantiationService.createInstance(PickerEditorState));\n\t\tdisposables.add(part);\n\t\tdisposables.add(editorService);\n\n\t\tconst input1 = {\n\t\t\tresource: URI.parse('foo://bar1'),\n\t\t\toptions: {\n\t\t\t\tpinned: true, preserveFocus: true, selection: new Range(1, 0, 1, 3)\n\t\t\t}\n\t\t};\n\t\tconst input2 = {\n\t\t\tresource: URI.parse('foo://bar2'),\n\t\t\toptions: {\n\t\t\t\tpinned: true, selection: new Range(1, 0, 1, 3)\n\t\t\t}\n\t\t};\n\t\tconst input3 = {\n\t\t\tresource: URI.parse('foo://bar3')\n\t\t};\n\t\tconst input4 = {\n\t\t\tresource: URI.parse('foo://bar4')\n\t\t};\n\n\t\tconst editor = await editorService.openEditor(input1);\n\t\tassert.strictEqual(editor, editorService.activeEditorPane);\n\t\teditorViewState.set();\n\t\tawait editorService.openEditor(input2);\n\t\tawait editorViewState.openTransientEditor(input3);\n\t\tawait editorViewState.openTransientEditor(input4);\n\t\tawait editorViewState.restore();\n\n\t\tassert.strictEqual(part.activeGroup.activeEditor?.resource, input1.resource);\n\t\tassert.deepStrictEqual(part.activeGroup.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).map(e => e.resource), [input1.resource, input2.resource]);\n\t\tif (part.activeGroup.activeEditorPane?.getSelection) {\n\t\t\tassert.deepStrictEqual(part.activeGroup.activeEditorPane?.getSelection(), input1.options.selection);\n\t\t}\n\t\tawait part.activeGroup.closeAllEditors();\n\t});\n});\n"]}