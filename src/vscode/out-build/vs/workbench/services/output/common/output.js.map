{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/services/output/common/output.ts","vs/workbench/services/output/common/output.ts"],"names":[],"mappings":"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","file":"output.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Event, Emitter } from '../../../../base/common/event.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { LogLevel } from '../../../../platform/log/common/log.js';\nimport { Range } from '../../../../editor/common/core/range.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\n\n/**\n * Mime type used by the output editor.\n */\nexport const OUTPUT_MIME = 'text/x-code-output';\n\n/**\n * Id used by the output editor.\n */\nexport const OUTPUT_MODE_ID = 'Log';\n\n/**\n * Mime type used by the log output editor.\n */\nexport const LOG_MIME = 'text/x-code-log-output';\n\n/**\n * Id used by the log output editor.\n */\nexport const LOG_MODE_ID = 'log';\n\n/**\n * Output view id\n */\nexport const OUTPUT_VIEW_ID = 'workbench.panel.output';\n\nexport const CONTEXT_IN_OUTPUT = new RawContextKey<boolean>('inOutput', false);\nexport const CONTEXT_ACTIVE_FILE_OUTPUT = new RawContextKey<boolean>('activeLogOutput', false);\nexport const CONTEXT_ACTIVE_LOG_FILE_OUTPUT = new RawContextKey<boolean>('activeLogOutput.isLog', false);\nexport const CONTEXT_ACTIVE_OUTPUT_LEVEL_SETTABLE = new RawContextKey<boolean>('activeLogOutput.levelSettable', false);\nexport const CONTEXT_ACTIVE_OUTPUT_LEVEL = new RawContextKey<string>('activeLogOutput.level', '');\nexport const CONTEXT_ACTIVE_OUTPUT_LEVEL_IS_DEFAULT = new RawContextKey<boolean>('activeLogOutput.levelIsDefault', false);\nexport const CONTEXT_OUTPUT_SCROLL_LOCK = new RawContextKey<boolean>(`outputView.scrollLock`, false);\nexport const ACTIVE_OUTPUT_CHANNEL_CONTEXT = new RawContextKey<string>('activeOutputChannel', '');\nexport const SHOW_TRACE_FILTER_CONTEXT = new RawContextKey<boolean>('output.filter.trace', true);\nexport const SHOW_DEBUG_FILTER_CONTEXT = new RawContextKey<boolean>('output.filter.debug', true);\nexport const SHOW_INFO_FILTER_CONTEXT = new RawContextKey<boolean>('output.filter.info', true);\nexport const SHOW_WARNING_FILTER_CONTEXT = new RawContextKey<boolean>('output.filter.warning', true);\nexport const SHOW_ERROR_FILTER_CONTEXT = new RawContextKey<boolean>('output.filter.error', true);\nexport const OUTPUT_FILTER_FOCUS_CONTEXT = new RawContextKey<boolean>('outputFilterFocus', false);\nexport const HIDE_CATEGORY_FILTER_CONTEXT = new RawContextKey<string>('output.filter.categories', '');\n\nexport interface IOutputViewFilters {\n\treadonly onDidChange: Event<void>;\n\ttext: string;\n\ttrace: boolean;\n\tdebug: boolean;\n\tinfo: boolean;\n\twarning: boolean;\n\terror: boolean;\n\tcategories: string;\n\ttoggleCategory(category: string): void;\n\thasCategory(category: string): boolean;\n}\n\nexport const IOutputService = createDecorator<IOutputService>('outputService');\n\n/**\n * The output service to manage output from the various processes running.\n */\nexport interface IOutputService {\n\treadonly _serviceBrand: undefined;\n\n\t/**\n\t *  Output view filters.\n\t */\n\treadonly filters: IOutputViewFilters;\n\n\t/**\n\t * Given the channel id returns the output channel instance.\n\t * Channel should be first registered via OutputChannelRegistry.\n\t */\n\tgetChannel(id: string): IOutputChannel | undefined;\n\n\t/**\n\t * Given the channel id returns the registered output channel descriptor.\n\t */\n\tgetChannelDescriptor(id: string): IOutputChannelDescriptor | undefined;\n\n\t/**\n\t * Returns an array of all known output channels descriptors.\n\t */\n\tgetChannelDescriptors(): IOutputChannelDescriptor[];\n\n\t/**\n\t * Returns the currently active channel.\n\t * Only one channel can be active at a given moment.\n\t */\n\tgetActiveChannel(): IOutputChannel | undefined;\n\n\t/**\n\t * Show the channel with the passed id.\n\t */\n\tshowChannel(id: string, preserveFocus?: boolean): Promise<void>;\n\n\t/**\n\t * Allows to register on active output channel change.\n\t */\n\treadonly onActiveOutputChannel: Event<string>;\n\n\t/**\n\t * Register a compound log channel with the given channels.\n\t */\n\tregisterCompoundLogChannel(channels: IOutputChannelDescriptor[]): string;\n\n\t/**\n\t * Save the logs to a file.\n\t */\n\tsaveOutputAs(outputPath?: URI, ...channels: IOutputChannelDescriptor[]): Promise<void>;\n\n\t/**\n\t * Checks if the log level can be set for the given channel.\n\t * @param channel\n\t */\n\tcanSetLogLevel(channel: IOutputChannelDescriptor): boolean;\n\n\t/**\n\t * Returns the log level for the given channel.\n\t * @param channel\n\t */\n\tgetLogLevel(channel: IOutputChannelDescriptor): LogLevel | undefined;\n\n\t/**\n\t * Sets the log level for the given channel.\n\t * @param channel\n\t * @param logLevel\n\t */\n\tsetLogLevel(channel: IOutputChannelDescriptor, logLevel: LogLevel): void;\n}\n\nexport enum OutputChannelUpdateMode {\n\tAppend = 1,\n\tReplace,\n\tClear\n}\n\nexport interface ILogEntry {\n\treadonly range: Range;\n\treadonly timestamp: number;\n\treadonly timestampRange: Range;\n\treadonly logLevel: LogLevel;\n\treadonly logLevelRange: Range;\n\treadonly category: string | undefined;\n}\n\nexport interface IOutputChannel {\n\n\t/**\n\t * Identifier of the output channel.\n\t */\n\treadonly id: string;\n\n\t/**\n\t * Label of the output channel to be displayed to the user.\n\t */\n\treadonly label: string;\n\n\t/**\n\t * URI of the output channel.\n\t */\n\treadonly uri: URI;\n\n\t/**\n\t * Log entries of the output channel.\n\t */\n\tgetLogEntries(): readonly ILogEntry[];\n\n\t/**\n\t * Appends output to the channel.\n\t */\n\tappend(output: string): void;\n\n\t/**\n\t * Clears all received output for this channel.\n\t */\n\tclear(): void;\n\n\t/**\n\t * Replaces the content of the channel with given output\n\t */\n\treplace(output: string): void;\n\n\t/**\n\t * Update the channel.\n\t */\n\tupdate(mode: OutputChannelUpdateMode.Append): void;\n\tupdate(mode: OutputChannelUpdateMode, till: number): void;\n\n\t/**\n\t * Disposes the output channel.\n\t */\n\tdispose(): void;\n}\n\nexport const Extensions = {\n\tOutputChannels: 'workbench.contributions.outputChannels'\n};\n\nexport interface IOutputChannelDescriptor {\n\tid: string;\n\tlabel: string;\n\tlog: boolean;\n\tlanguageId?: string;\n\tsource?: IOutputContentSource | ReadonlyArray<IOutputContentSource>;\n\textensionId?: string;\n\tuser?: boolean;\n}\n\nexport interface ISingleSourceOutputChannelDescriptor extends IOutputChannelDescriptor {\n\tsource: IOutputContentSource;\n}\n\nexport interface IMultiSourceOutputChannelDescriptor extends IOutputChannelDescriptor {\n\tsource: ReadonlyArray<IOutputContentSource>;\n}\n\nexport function isSingleSourceOutputChannelDescriptor(descriptor: IOutputChannelDescriptor): descriptor is ISingleSourceOutputChannelDescriptor {\n\treturn !!descriptor.source && !Array.isArray(descriptor.source);\n}\n\nexport function isMultiSourceOutputChannelDescriptor(descriptor: IOutputChannelDescriptor): descriptor is IMultiSourceOutputChannelDescriptor {\n\treturn Array.isArray(descriptor.source);\n}\n\nexport interface IOutputContentSource {\n\treadonly name?: string;\n\treadonly resource: URI;\n}\n\nexport interface IOutputChannelRegistry {\n\n\treadonly onDidRegisterChannel: Event<string>;\n\treadonly onDidRemoveChannel: Event<IOutputChannelDescriptor>;\n\treadonly onDidUpdateChannelSources: Event<IMultiSourceOutputChannelDescriptor>;\n\n\t/**\n\t * Make an output channel known to the output world.\n\t */\n\tregisterChannel(descriptor: IOutputChannelDescriptor): void;\n\n\t/**\n\t * Update the files for the given output channel.\n\t */\n\tupdateChannelSources(id: string, sources: IOutputContentSource[]): void;\n\n\t/**\n\t * Returns the list of channels known to the output world.\n\t */\n\tgetChannels(): IOutputChannelDescriptor[];\n\n\t/**\n\t * Returns the channel with the passed id.\n\t */\n\tgetChannel(id: string): IOutputChannelDescriptor | undefined;\n\n\t/**\n\t * Remove the output channel with the passed id.\n\t */\n\tremoveChannel(id: string): void;\n}\n\nclass OutputChannelRegistry extends Disposable implements IOutputChannelRegistry {\n\tprivate channels = new Map<string, IOutputChannelDescriptor>();\n\n\tprivate readonly _onDidRegisterChannel = this._register(new Emitter<string>());\n\treadonly onDidRegisterChannel = this._onDidRegisterChannel.event;\n\n\tprivate readonly _onDidRemoveChannel = this._register(new Emitter<IOutputChannelDescriptor>());\n\treadonly onDidRemoveChannel = this._onDidRemoveChannel.event;\n\n\tprivate readonly _onDidUpdateChannelFiles = this._register(new Emitter<IMultiSourceOutputChannelDescriptor>());\n\treadonly onDidUpdateChannelSources = this._onDidUpdateChannelFiles.event;\n\n\tpublic registerChannel(descriptor: IOutputChannelDescriptor): void {\n\t\tif (!this.channels.has(descriptor.id)) {\n\t\t\tthis.channels.set(descriptor.id, descriptor);\n\t\t\tthis._onDidRegisterChannel.fire(descriptor.id);\n\t\t}\n\t}\n\n\tpublic getChannels(): IOutputChannelDescriptor[] {\n\t\tconst result: IOutputChannelDescriptor[] = [];\n\t\tthis.channels.forEach(value => result.push(value));\n\t\treturn result;\n\t}\n\n\tpublic getChannel(id: string): IOutputChannelDescriptor | undefined {\n\t\treturn this.channels.get(id);\n\t}\n\n\tpublic updateChannelSources(id: string, sources: IOutputContentSource[]): void {\n\t\tconst channel = this.channels.get(id);\n\t\tif (channel && isMultiSourceOutputChannelDescriptor(channel)) {\n\t\t\tchannel.source = sources;\n\t\t\tthis._onDidUpdateChannelFiles.fire(channel);\n\t\t}\n\t}\n\n\tpublic removeChannel(id: string): void {\n\t\tconst channel = this.channels.get(id);\n\t\tif (channel) {\n\t\t\tthis.channels.delete(id);\n\t\t\tthis._onDidRemoveChannel.fire(channel);\n\t\t}\n\t}\n}\n\nRegistry.add(Extensions.OutputChannels, new OutputChannelRegistry());\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Event, Emitter } from '../../../../base/common/event.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { LogLevel } from '../../../../platform/log/common/log.js';\nimport { Range } from '../../../../editor/common/core/range.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\n\n/**\n * Mime type used by the output editor.\n */\nexport const OUTPUT_MIME = 'text/x-code-output';\n\n/**\n * Id used by the output editor.\n */\nexport const OUTPUT_MODE_ID = 'Log';\n\n/**\n * Mime type used by the log output editor.\n */\nexport const LOG_MIME = 'text/x-code-log-output';\n\n/**\n * Id used by the log output editor.\n */\nexport const LOG_MODE_ID = 'log';\n\n/**\n * Output view id\n */\nexport const OUTPUT_VIEW_ID = 'workbench.panel.output';\n\nexport const CONTEXT_IN_OUTPUT = new RawContextKey<boolean>('inOutput', false);\nexport const CONTEXT_ACTIVE_FILE_OUTPUT = new RawContextKey<boolean>('activeLogOutput', false);\nexport const CONTEXT_ACTIVE_LOG_FILE_OUTPUT = new RawContextKey<boolean>('activeLogOutput.isLog', false);\nexport const CONTEXT_ACTIVE_OUTPUT_LEVEL_SETTABLE = new RawContextKey<boolean>('activeLogOutput.levelSettable', false);\nexport const CONTEXT_ACTIVE_OUTPUT_LEVEL = new RawContextKey<string>('activeLogOutput.level', '');\nexport const CONTEXT_ACTIVE_OUTPUT_LEVEL_IS_DEFAULT = new RawContextKey<boolean>('activeLogOutput.levelIsDefault', false);\nexport const CONTEXT_OUTPUT_SCROLL_LOCK = new RawContextKey<boolean>(`outputView.scrollLock`, false);\nexport const ACTIVE_OUTPUT_CHANNEL_CONTEXT = new RawContextKey<string>('activeOutputChannel', '');\nexport const SHOW_TRACE_FILTER_CONTEXT = new RawContextKey<boolean>('output.filter.trace', true);\nexport const SHOW_DEBUG_FILTER_CONTEXT = new RawContextKey<boolean>('output.filter.debug', true);\nexport const SHOW_INFO_FILTER_CONTEXT = new RawContextKey<boolean>('output.filter.info', true);\nexport const SHOW_WARNING_FILTER_CONTEXT = new RawContextKey<boolean>('output.filter.warning', true);\nexport const SHOW_ERROR_FILTER_CONTEXT = new RawContextKey<boolean>('output.filter.error', true);\nexport const OUTPUT_FILTER_FOCUS_CONTEXT = new RawContextKey<boolean>('outputFilterFocus', false);\nexport const HIDE_CATEGORY_FILTER_CONTEXT = new RawContextKey<string>('output.filter.categories', '');\n\nexport interface IOutputViewFilters {\n\treadonly onDidChange: Event<void>;\n\ttext: string;\n\ttrace: boolean;\n\tdebug: boolean;\n\tinfo: boolean;\n\twarning: boolean;\n\terror: boolean;\n\tcategories: string;\n\ttoggleCategory(category: string): void;\n\thasCategory(category: string): boolean;\n}\n\nexport const IOutputService = createDecorator<IOutputService>('outputService');\n\n/**\n * The output service to manage output from the various processes running.\n */\nexport interface IOutputService {\n\treadonly _serviceBrand: undefined;\n\n\t/**\n\t *  Output view filters.\n\t */\n\treadonly filters: IOutputViewFilters;\n\n\t/**\n\t * Given the channel id returns the output channel instance.\n\t * Channel should be first registered via OutputChannelRegistry.\n\t */\n\tgetChannel(id: string): IOutputChannel | undefined;\n\n\t/**\n\t * Given the channel id returns the registered output channel descriptor.\n\t */\n\tgetChannelDescriptor(id: string): IOutputChannelDescriptor | undefined;\n\n\t/**\n\t * Returns an array of all known output channels descriptors.\n\t */\n\tgetChannelDescriptors(): IOutputChannelDescriptor[];\n\n\t/**\n\t * Returns the currently active channel.\n\t * Only one channel can be active at a given moment.\n\t */\n\tgetActiveChannel(): IOutputChannel | undefined;\n\n\t/**\n\t * Show the channel with the passed id.\n\t */\n\tshowChannel(id: string, preserveFocus?: boolean): Promise<void>;\n\n\t/**\n\t * Allows to register on active output channel change.\n\t */\n\treadonly onActiveOutputChannel: Event<string>;\n\n\t/**\n\t * Register a compound log channel with the given channels.\n\t */\n\tregisterCompoundLogChannel(channels: IOutputChannelDescriptor[]): string;\n\n\t/**\n\t * Save the logs to a file.\n\t */\n\tsaveOutputAs(outputPath?: URI, ...channels: IOutputChannelDescriptor[]): Promise<void>;\n\n\t/**\n\t * Checks if the log level can be set for the given channel.\n\t * @param channel\n\t */\n\tcanSetLogLevel(channel: IOutputChannelDescriptor): boolean;\n\n\t/**\n\t * Returns the log level for the given channel.\n\t * @param channel\n\t */\n\tgetLogLevel(channel: IOutputChannelDescriptor): LogLevel | undefined;\n\n\t/**\n\t * Sets the log level for the given channel.\n\t * @param channel\n\t * @param logLevel\n\t */\n\tsetLogLevel(channel: IOutputChannelDescriptor, logLevel: LogLevel): void;\n}\n\nexport enum OutputChannelUpdateMode {\n\tAppend = 1,\n\tReplace,\n\tClear\n}\n\nexport interface ILogEntry {\n\treadonly range: Range;\n\treadonly timestamp: number;\n\treadonly timestampRange: Range;\n\treadonly logLevel: LogLevel;\n\treadonly logLevelRange: Range;\n\treadonly category: string | undefined;\n}\n\nexport interface IOutputChannel {\n\n\t/**\n\t * Identifier of the output channel.\n\t */\n\treadonly id: string;\n\n\t/**\n\t * Label of the output channel to be displayed to the user.\n\t */\n\treadonly label: string;\n\n\t/**\n\t * URI of the output channel.\n\t */\n\treadonly uri: URI;\n\n\t/**\n\t * Log entries of the output channel.\n\t */\n\tgetLogEntries(): readonly ILogEntry[];\n\n\t/**\n\t * Appends output to the channel.\n\t */\n\tappend(output: string): void;\n\n\t/**\n\t * Clears all received output for this channel.\n\t */\n\tclear(): void;\n\n\t/**\n\t * Replaces the content of the channel with given output\n\t */\n\treplace(output: string): void;\n\n\t/**\n\t * Update the channel.\n\t */\n\tupdate(mode: OutputChannelUpdateMode.Append): void;\n\tupdate(mode: OutputChannelUpdateMode, till: number): void;\n\n\t/**\n\t * Disposes the output channel.\n\t */\n\tdispose(): void;\n}\n\nexport const Extensions = {\n\tOutputChannels: 'workbench.contributions.outputChannels'\n};\n\nexport interface IOutputChannelDescriptor {\n\tid: string;\n\tlabel: string;\n\tlog: boolean;\n\tlanguageId?: string;\n\tsource?: IOutputContentSource | ReadonlyArray<IOutputContentSource>;\n\textensionId?: string;\n\tuser?: boolean;\n}\n\nexport interface ISingleSourceOutputChannelDescriptor extends IOutputChannelDescriptor {\n\tsource: IOutputContentSource;\n}\n\nexport interface IMultiSourceOutputChannelDescriptor extends IOutputChannelDescriptor {\n\tsource: ReadonlyArray<IOutputContentSource>;\n}\n\nexport function isSingleSourceOutputChannelDescriptor(descriptor: IOutputChannelDescriptor): descriptor is ISingleSourceOutputChannelDescriptor {\n\treturn !!descriptor.source && !Array.isArray(descriptor.source);\n}\n\nexport function isMultiSourceOutputChannelDescriptor(descriptor: IOutputChannelDescriptor): descriptor is IMultiSourceOutputChannelDescriptor {\n\treturn Array.isArray(descriptor.source);\n}\n\nexport interface IOutputContentSource {\n\treadonly name?: string;\n\treadonly resource: URI;\n}\n\nexport interface IOutputChannelRegistry {\n\n\treadonly onDidRegisterChannel: Event<string>;\n\treadonly onDidRemoveChannel: Event<IOutputChannelDescriptor>;\n\treadonly onDidUpdateChannelSources: Event<IMultiSourceOutputChannelDescriptor>;\n\n\t/**\n\t * Make an output channel known to the output world.\n\t */\n\tregisterChannel(descriptor: IOutputChannelDescriptor): void;\n\n\t/**\n\t * Update the files for the given output channel.\n\t */\n\tupdateChannelSources(id: string, sources: IOutputContentSource[]): void;\n\n\t/**\n\t * Returns the list of channels known to the output world.\n\t */\n\tgetChannels(): IOutputChannelDescriptor[];\n\n\t/**\n\t * Returns the channel with the passed id.\n\t */\n\tgetChannel(id: string): IOutputChannelDescriptor | undefined;\n\n\t/**\n\t * Remove the output channel with the passed id.\n\t */\n\tremoveChannel(id: string): void;\n}\n\nclass OutputChannelRegistry extends Disposable implements IOutputChannelRegistry {\n\tprivate channels = new Map<string, IOutputChannelDescriptor>();\n\n\tprivate readonly _onDidRegisterChannel = this._register(new Emitter<string>());\n\treadonly onDidRegisterChannel = this._onDidRegisterChannel.event;\n\n\tprivate readonly _onDidRemoveChannel = this._register(new Emitter<IOutputChannelDescriptor>());\n\treadonly onDidRemoveChannel = this._onDidRemoveChannel.event;\n\n\tprivate readonly _onDidUpdateChannelFiles = this._register(new Emitter<IMultiSourceOutputChannelDescriptor>());\n\treadonly onDidUpdateChannelSources = this._onDidUpdateChannelFiles.event;\n\n\tpublic registerChannel(descriptor: IOutputChannelDescriptor): void {\n\t\tif (!this.channels.has(descriptor.id)) {\n\t\t\tthis.channels.set(descriptor.id, descriptor);\n\t\t\tthis._onDidRegisterChannel.fire(descriptor.id);\n\t\t}\n\t}\n\n\tpublic getChannels(): IOutputChannelDescriptor[] {\n\t\tconst result: IOutputChannelDescriptor[] = [];\n\t\tthis.channels.forEach(value => result.push(value));\n\t\treturn result;\n\t}\n\n\tpublic getChannel(id: string): IOutputChannelDescriptor | undefined {\n\t\treturn this.channels.get(id);\n\t}\n\n\tpublic updateChannelSources(id: string, sources: IOutputContentSource[]): void {\n\t\tconst channel = this.channels.get(id);\n\t\tif (channel && isMultiSourceOutputChannelDescriptor(channel)) {\n\t\t\tchannel.source = sources;\n\t\t\tthis._onDidUpdateChannelFiles.fire(channel);\n\t\t}\n\t}\n\n\tpublic removeChannel(id: string): void {\n\t\tconst channel = this.channels.get(id);\n\t\tif (channel) {\n\t\t\tthis.channels.delete(id);\n\t\t\tthis._onDidRemoveChannel.fire(channel);\n\t\t}\n\t}\n}\n\nRegistry.add(Extensions.OutputChannels, new OutputChannelRegistry());\n"]}