{"version":3,"sources":["vs/workbench/services/themes/common/themeExtensionPoints.ts"],"names":[],"mappings":"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","file":"themeExtensionPoints.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as nls from '../../../../nls.js';\n\nimport * as types from '../../../../base/common/types.js';\nimport * as resources from '../../../../base/common/resources.js';\nimport { ExtensionMessageCollector, IExtensionPoint, ExtensionsRegistry } from '../../extensions/common/extensionsRegistry.js';\nimport { ExtensionData, IThemeExtensionPoint } from './workbenchThemeService.js';\n\nimport { Event, Emitter } from '../../../../base/common/event.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { Disposable, IDisposable } from '../../../../base/common/lifecycle.js';\nimport { Extensions, IExtensionFeatureMarkdownRenderer, IExtensionFeaturesRegistry, IRenderedData } from '../../extensionManagement/common/extensionFeatures.js';\nimport { IExtensionManifest } from '../../../../platform/extensions/common/extensions.js';\nimport { IMarkdownString, MarkdownString } from '../../../../base/common/htmlContent.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { SyncDescriptor } from '../../../../platform/instantiation/common/descriptors.js';\nimport { ThemeTypeSelector } from '../../../../platform/theme/common/theme.js';\n\nexport function registerColorThemeExtensionPoint() {\n\treturn ExtensionsRegistry.registerExtensionPoint<IThemeExtensionPoint[]>({\n\t\textensionPoint: 'themes',\n\t\tjsonSchema: {\n\t\t\tdescription: nls.localize('vscode.extension.contributes.themes', 'Contributes textmate color themes.'),\n\t\t\ttype: 'array',\n\t\t\titems: {\n\t\t\t\ttype: 'object',\n\t\t\t\tdefaultSnippets: [{ body: { label: '${1:label}', id: '${2:id}', uiTheme: ThemeTypeSelector.VS_DARK, path: './themes/${3:id}.tmTheme.' } }],\n\t\t\t\tproperties: {\n\t\t\t\t\tid: {\n\t\t\t\t\t\tdescription: nls.localize('vscode.extension.contributes.themes.id', 'Id of the color theme as used in the user settings.'),\n\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t},\n\t\t\t\t\tlabel: {\n\t\t\t\t\t\tdescription: nls.localize('vscode.extension.contributes.themes.label', 'Label of the color theme as shown in the UI.'),\n\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t},\n\t\t\t\t\tuiTheme: {\n\t\t\t\t\t\tdescription: nls.localize('vscode.extension.contributes.themes.uiTheme', 'Base theme defining the colors around the editor: \\'vs\\' is the light color theme, \\'vs-dark\\' is the dark color theme. \\'hc-black\\' is the dark high contrast theme, \\'hc-light\\' is the light high contrast theme.'),\n\t\t\t\t\t\tenum: [ThemeTypeSelector.VS, ThemeTypeSelector.VS_DARK, ThemeTypeSelector.HC_BLACK, ThemeTypeSelector.HC_LIGHT]\n\t\t\t\t\t},\n\t\t\t\t\tpath: {\n\t\t\t\t\t\tdescription: nls.localize('vscode.extension.contributes.themes.path', 'Path of the tmTheme file. The path is relative to the extension folder and is typically \\'./colorthemes/awesome-color-theme.json\\'.'),\n\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\trequired: ['path', 'uiTheme']\n\t\t\t}\n\t\t}\n\t});\n}\nexport function registerFileIconThemeExtensionPoint() {\n\treturn ExtensionsRegistry.registerExtensionPoint<IThemeExtensionPoint[]>({\n\t\textensionPoint: 'iconThemes',\n\t\tjsonSchema: {\n\t\t\tdescription: nls.localize('vscode.extension.contributes.iconThemes', 'Contributes file icon themes.'),\n\t\t\ttype: 'array',\n\t\t\titems: {\n\t\t\t\ttype: 'object',\n\t\t\t\tdefaultSnippets: [{ body: { id: '${1:id}', label: '${2:label}', path: './fileicons/${3:id}-icon-theme.json' } }],\n\t\t\t\tproperties: {\n\t\t\t\t\tid: {\n\t\t\t\t\t\tdescription: nls.localize('vscode.extension.contributes.iconThemes.id', 'Id of the file icon theme as used in the user settings.'),\n\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t},\n\t\t\t\t\tlabel: {\n\t\t\t\t\t\tdescription: nls.localize('vscode.extension.contributes.iconThemes.label', 'Label of the file icon theme as shown in the UI.'),\n\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t},\n\t\t\t\t\tpath: {\n\t\t\t\t\t\tdescription: nls.localize('vscode.extension.contributes.iconThemes.path', 'Path of the file icon theme definition file. The path is relative to the extension folder and is typically \\'./fileicons/awesome-icon-theme.json\\'.'),\n\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\trequired: ['path', 'id']\n\t\t\t}\n\t\t}\n\t});\n}\n\nexport function registerProductIconThemeExtensionPoint() {\n\treturn ExtensionsRegistry.registerExtensionPoint<IThemeExtensionPoint[]>({\n\t\textensionPoint: 'productIconThemes',\n\t\tjsonSchema: {\n\t\t\tdescription: nls.localize('vscode.extension.contributes.productIconThemes', 'Contributes product icon themes.'),\n\t\t\ttype: 'array',\n\t\t\titems: {\n\t\t\t\ttype: 'object',\n\t\t\t\tdefaultSnippets: [{ body: { id: '${1:id}', label: '${2:label}', path: './producticons/${3:id}-product-icon-theme.json' } }],\n\t\t\t\tproperties: {\n\t\t\t\t\tid: {\n\t\t\t\t\t\tdescription: nls.localize('vscode.extension.contributes.productIconThemes.id', 'Id of the product icon theme as used in the user settings.'),\n\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t},\n\t\t\t\t\tlabel: {\n\t\t\t\t\t\tdescription: nls.localize('vscode.extension.contributes.productIconThemes.label', 'Label of the product icon theme as shown in the UI.'),\n\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t},\n\t\t\t\t\tpath: {\n\t\t\t\t\t\tdescription: nls.localize('vscode.extension.contributes.productIconThemes.path', 'Path of the product icon theme definition file. The path is relative to the extension folder and is typically \\'./producticons/awesome-product-icon-theme.json\\'.'),\n\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\trequired: ['path', 'id']\n\t\t\t}\n\t\t}\n\t});\n}\n\nclass ThemeDataRenderer extends Disposable implements IExtensionFeatureMarkdownRenderer {\n\n\treadonly type = 'markdown';\n\n\tshouldRender(manifest: IExtensionManifest): boolean {\n\t\treturn !!manifest.contributes?.themes || !!manifest.contributes?.iconThemes || !!manifest.contributes?.productIconThemes;\n\t}\n\n\trender(manifest: IExtensionManifest): IRenderedData<IMarkdownString> {\n\t\tconst markdown = new MarkdownString();\n\t\tif (manifest.contributes?.themes) {\n\t\t\tmarkdown.appendMarkdown(`### ${nls.localize('color themes', \"Color Themes\")}\\n\\n`);\n\t\t\tfor (const theme of manifest.contributes.themes) {\n\t\t\t\tmarkdown.appendMarkdown(`- ${theme.label}\\n`);\n\t\t\t}\n\t\t}\n\t\tif (manifest.contributes?.iconThemes) {\n\t\t\tmarkdown.appendMarkdown(`### ${nls.localize('file icon themes', \"File Icon Themes\")}\\n\\n`);\n\t\t\tfor (const theme of manifest.contributes.iconThemes) {\n\t\t\t\tmarkdown.appendMarkdown(`- ${theme.label}\\n`);\n\t\t\t}\n\t\t}\n\t\tif (manifest.contributes?.productIconThemes) {\n\t\t\tmarkdown.appendMarkdown(`### ${nls.localize('product icon themes', \"Product Icon Themes\")}\\n\\n`);\n\t\t\tfor (const theme of manifest.contributes.productIconThemes) {\n\t\t\t\tmarkdown.appendMarkdown(`- ${theme.label}\\n`);\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\tdata: markdown,\n\t\t\tdispose: () => { /* noop */ }\n\t\t};\n\t}\n}\n\nRegistry.as<IExtensionFeaturesRegistry>(Extensions.ExtensionFeaturesRegistry).registerExtensionFeature({\n\tid: 'themes',\n\tlabel: nls.localize('themes', \"Themes\"),\n\taccess: {\n\t\tcanToggle: false\n\t},\n\trenderer: new SyncDescriptor(ThemeDataRenderer),\n});\n\nexport interface ThemeChangeEvent<T> {\n\tthemes: T[];\n\tadded: T[];\n\tremoved: T[];\n}\n\nexport interface IThemeData {\n\tid: string;\n\tsettingsId: string | null;\n\tlocation?: URI;\n}\n\nexport class ThemeRegistry<T extends IThemeData> implements IDisposable {\n\n\tprivate extensionThemes: T[];\n\n\tprivate readonly onDidChangeEmitter = new Emitter<ThemeChangeEvent<T>>();\n\tpublic readonly onDidChange: Event<ThemeChangeEvent<T>> = this.onDidChangeEmitter.event;\n\n\tconstructor(\n\t\tprivate readonly themesExtPoint: IExtensionPoint<IThemeExtensionPoint[]>,\n\t\tprivate create: (theme: IThemeExtensionPoint, themeLocation: URI, extensionData: ExtensionData) => T,\n\t\tprivate idRequired = false,\n\t\tprivate builtInTheme: T | undefined = undefined\n\t) {\n\t\tthis.extensionThemes = [];\n\t\tthis.initialize();\n\t}\n\n\tdispose() {\n\t\tthis.themesExtPoint.setHandler(() => { });\n\t}\n\n\tprivate initialize() {\n\t\tthis.themesExtPoint.setHandler((extensions, delta) => {\n\t\t\tconst previousIds: { [key: string]: T } = {};\n\n\t\t\tconst added: T[] = [];\n\t\t\tfor (const theme of this.extensionThemes) {\n\t\t\t\tpreviousIds[theme.id] = theme;\n\t\t\t}\n\t\t\tthis.extensionThemes.length = 0;\n\t\t\tfor (const ext of extensions) {\n\t\t\t\tconst extensionData = ExtensionData.fromName(ext.description.publisher, ext.description.name, ext.description.isBuiltin);\n\t\t\t\tthis.onThemes(extensionData, ext.description.extensionLocation, ext.value, this.extensionThemes, ext.collector);\n\t\t\t}\n\t\t\tfor (const theme of this.extensionThemes) {\n\t\t\t\tif (!previousIds[theme.id]) {\n\t\t\t\t\tadded.push(theme);\n\t\t\t\t} else {\n\t\t\t\t\tdelete previousIds[theme.id];\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst removed = Object.values(previousIds);\n\t\t\tthis.onDidChangeEmitter.fire({ themes: this.extensionThemes, added, removed });\n\t\t});\n\t}\n\n\tprivate onThemes(extensionData: ExtensionData, extensionLocation: URI, themeContributions: IThemeExtensionPoint[], resultingThemes: T[] = [], log?: ExtensionMessageCollector): T[] {\n\t\tif (!Array.isArray(themeContributions)) {\n\t\t\tlog?.error(nls.localize(\n\t\t\t\t'reqarray',\n\t\t\t\t\"Extension point `{0}` must be an array.\",\n\t\t\t\tthis.themesExtPoint.name\n\t\t\t));\n\t\t\treturn resultingThemes;\n\t\t}\n\t\tthemeContributions.forEach(theme => {\n\t\t\tif (!theme.path || !types.isString(theme.path)) {\n\t\t\t\tlog?.error(nls.localize(\n\t\t\t\t\t'reqpath',\n\t\t\t\t\t\"Expected string in `contributes.{0}.path`. Provided value: {1}\",\n\t\t\t\t\tthis.themesExtPoint.name,\n\t\t\t\t\tString(theme.path)\n\t\t\t\t));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.idRequired && (!theme.id || !types.isString(theme.id))) {\n\t\t\t\tlog?.error(nls.localize(\n\t\t\t\t\t'reqid',\n\t\t\t\t\t\"Expected string in `contributes.{0}.id`. Provided value: {1}\",\n\t\t\t\t\tthis.themesExtPoint.name,\n\t\t\t\t\tString(theme.id)\n\t\t\t\t));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst themeLocation = resources.joinPath(extensionLocation, theme.path);\n\t\t\tif (!resources.isEqualOrParent(themeLocation, extensionLocation)) {\n\t\t\t\tlog?.warn(nls.localize('invalid.path.1', \"Expected `contributes.{0}.path` ({1}) to be included inside extension's folder ({2}). This might make the extension non-portable.\", this.themesExtPoint.name, themeLocation.path, extensionLocation.path));\n\t\t\t}\n\n\t\t\tconst themeData = this.create(theme, themeLocation, extensionData);\n\t\t\tresultingThemes.push(themeData);\n\t\t});\n\t\treturn resultingThemes;\n\t}\n\n\tpublic findThemeById(themeId: string): T | undefined {\n\t\tif (this.builtInTheme && this.builtInTheme.id === themeId) {\n\t\t\treturn this.builtInTheme;\n\t\t}\n\t\tconst allThemes = this.getThemes();\n\t\tfor (const t of allThemes) {\n\t\t\tif (t.id === themeId) {\n\t\t\t\treturn t;\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tpublic findThemeBySettingsId(settingsId: string | null, defaultSettingsId?: string): T | undefined {\n\t\tif (this.builtInTheme && this.builtInTheme.settingsId === settingsId) {\n\t\t\treturn this.builtInTheme;\n\t\t}\n\t\tconst allThemes = this.getThemes();\n\t\tlet defaultTheme: T | undefined = undefined;\n\t\tfor (const t of allThemes) {\n\t\t\tif (t.settingsId === settingsId) {\n\t\t\t\treturn t;\n\t\t\t}\n\t\t\tif (t.settingsId === defaultSettingsId) {\n\t\t\t\tdefaultTheme = t;\n\t\t\t}\n\t\t}\n\t\treturn defaultTheme;\n\t}\n\n\tpublic findThemeByExtensionLocation(extLocation: URI | undefined): T[] {\n\t\tif (extLocation) {\n\t\t\treturn this.getThemes().filter(t => t.location && resources.isEqualOrParent(t.location, extLocation));\n\t\t}\n\t\treturn [];\n\t}\n\n\tpublic getThemes(): T[] {\n\t\treturn this.extensionThemes;\n\t}\n\n\tpublic getMarketplaceThemes(manifest: any, extensionLocation: URI, extensionData: ExtensionData): T[] {\n\t\tconst themes = manifest?.contributes?.[this.themesExtPoint.name];\n\t\tif (Array.isArray(themes)) {\n\t\t\treturn this.onThemes(extensionData, extensionLocation, themes);\n\t\t}\n\t\treturn [];\n\t}\n\n}\n"]}