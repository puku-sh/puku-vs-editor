{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/services/themes/common/plistParser.ts","vs/workbench/services/themes/common/plistParser.ts"],"names":[],"mappings":"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","file":"plistParser.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nconst enum ChCode {\n\tBOM = 65279,\n\n\tSPACE = 32,\n\tTAB = 9,\n\tCARRIAGE_RETURN = 13,\n\tLINE_FEED = 10,\n\n\tSLASH = 47,\n\n\tLESS_THAN = 60,\n\tQUESTION_MARK = 63,\n\tEXCLAMATION_MARK = 33,\n}\n\nconst enum State {\n\tROOT_STATE = 0,\n\tDICT_STATE = 1,\n\tARR_STATE = 2\n}\n/**\n * A very fast plist parser\n */\nexport function parse(content: string): any {\n\treturn _parse(content, null, null);\n}\n\nfunction _parse(content: string, filename: string | null, locationKeyName: string | null): any {\n\tconst len = content.length;\n\n\tlet pos = 0;\n\tlet line = 1;\n\tlet char = 0;\n\n\t// Skip UTF8 BOM\n\tif (len > 0 && content.charCodeAt(0) === ChCode.BOM) {\n\t\tpos = 1;\n\t}\n\n\tfunction advancePosBy(by: number): void {\n\t\tif (locationKeyName === null) {\n\t\t\tpos = pos + by;\n\t\t} else {\n\t\t\twhile (by > 0) {\n\t\t\t\tconst chCode = content.charCodeAt(pos);\n\t\t\t\tif (chCode === ChCode.LINE_FEED) {\n\t\t\t\t\tpos++; line++; char = 0;\n\t\t\t\t} else {\n\t\t\t\t\tpos++; char++;\n\t\t\t\t}\n\t\t\t\tby--;\n\t\t\t}\n\t\t}\n\t}\n\tfunction advancePosTo(to: number): void {\n\t\tif (locationKeyName === null) {\n\t\t\tpos = to;\n\t\t} else {\n\t\t\tadvancePosBy(to - pos);\n\t\t}\n\t}\n\n\tfunction skipWhitespace(): void {\n\t\twhile (pos < len) {\n\t\t\tconst chCode = content.charCodeAt(pos);\n\t\t\tif (chCode !== ChCode.SPACE && chCode !== ChCode.TAB && chCode !== ChCode.CARRIAGE_RETURN && chCode !== ChCode.LINE_FEED) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tadvancePosBy(1);\n\t\t}\n\t}\n\n\tfunction advanceIfStartsWith(str: string): boolean {\n\t\tif (content.substr(pos, str.length) === str) {\n\t\t\tadvancePosBy(str.length);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction advanceUntil(str: string): void {\n\t\tconst nextOccurence = content.indexOf(str, pos);\n\t\tif (nextOccurence !== -1) {\n\t\t\tadvancePosTo(nextOccurence + str.length);\n\t\t} else {\n\t\t\t// EOF\n\t\t\tadvancePosTo(len);\n\t\t}\n\t}\n\n\tfunction captureUntil(str: string): string {\n\t\tconst nextOccurence = content.indexOf(str, pos);\n\t\tif (nextOccurence !== -1) {\n\t\t\tconst r = content.substring(pos, nextOccurence);\n\t\t\tadvancePosTo(nextOccurence + str.length);\n\t\t\treturn r;\n\t\t} else {\n\t\t\t// EOF\n\t\t\tconst r = content.substr(pos);\n\t\t\tadvancePosTo(len);\n\t\t\treturn r;\n\t\t}\n\t}\n\n\tlet state = State.ROOT_STATE;\n\n\tlet cur: any = null;\n\tconst stateStack: State[] = [];\n\tconst objStack: any[] = [];\n\tlet curKey: string | null = null;\n\n\tfunction pushState(newState: State, newCur: any): void {\n\t\tstateStack.push(state);\n\t\tobjStack.push(cur);\n\t\tstate = newState;\n\t\tcur = newCur;\n\t}\n\n\tfunction popState(): void {\n\t\tif (stateStack.length === 0) {\n\t\t\treturn fail('illegal state stack');\n\t\t}\n\t\tstate = stateStack.pop()!;\n\t\tcur = objStack.pop();\n\t}\n\n\tfunction fail(msg: string): void {\n\t\tthrow new Error('Near offset ' + pos + ': ' + msg + ' ~~~' + content.substr(pos, 50) + '~~~');\n\t}\n\n\tconst dictState = {\n\t\tenterDict: function () {\n\t\t\tif (curKey === null) {\n\t\t\t\treturn fail('missing <key>');\n\t\t\t}\n\t\t\tconst newDict: { [key: string]: any } = {};\n\t\t\tif (locationKeyName !== null) {\n\t\t\t\tnewDict[locationKeyName] = {\n\t\t\t\t\tfilename: filename,\n\t\t\t\t\tline: line,\n\t\t\t\t\tchar: char\n\t\t\t\t};\n\t\t\t}\n\t\t\tcur[curKey] = newDict;\n\t\t\tcurKey = null;\n\t\t\tpushState(State.DICT_STATE, newDict);\n\t\t},\n\t\tenterArray: function () {\n\t\t\tif (curKey === null) {\n\t\t\t\treturn fail('missing <key>');\n\t\t\t}\n\t\t\tconst newArr: any[] = [];\n\t\t\tcur[curKey] = newArr;\n\t\t\tcurKey = null;\n\t\t\tpushState(State.ARR_STATE, newArr);\n\t\t}\n\t};\n\n\tconst arrState = {\n\t\tenterDict: function () {\n\t\t\tconst newDict: { [key: string]: any } = {};\n\t\t\tif (locationKeyName !== null) {\n\t\t\t\tnewDict[locationKeyName] = {\n\t\t\t\t\tfilename: filename,\n\t\t\t\t\tline: line,\n\t\t\t\t\tchar: char\n\t\t\t\t};\n\t\t\t}\n\t\t\tcur.push(newDict);\n\t\t\tpushState(State.DICT_STATE, newDict);\n\t\t},\n\t\tenterArray: function () {\n\t\t\tconst newArr: any[] = [];\n\t\t\tcur.push(newArr);\n\t\t\tpushState(State.ARR_STATE, newArr);\n\t\t}\n\t};\n\n\n\tfunction enterDict() {\n\t\tif (state === State.DICT_STATE) {\n\t\t\tdictState.enterDict();\n\t\t} else if (state === State.ARR_STATE) {\n\t\t\tarrState.enterDict();\n\t\t} else { // ROOT_STATE\n\t\t\tcur = {};\n\t\t\tif (locationKeyName !== null) {\n\t\t\t\tcur[locationKeyName] = {\n\t\t\t\t\tfilename: filename,\n\t\t\t\t\tline: line,\n\t\t\t\t\tchar: char\n\t\t\t\t};\n\t\t\t}\n\t\t\tpushState(State.DICT_STATE, cur);\n\t\t}\n\t}\n\tfunction leaveDict() {\n\t\tif (state === State.DICT_STATE) {\n\t\t\tpopState();\n\t\t} else if (state === State.ARR_STATE) {\n\t\t\treturn fail('unexpected </dict>');\n\t\t} else { // ROOT_STATE\n\t\t\treturn fail('unexpected </dict>');\n\t\t}\n\t}\n\tfunction enterArray() {\n\t\tif (state === State.DICT_STATE) {\n\t\t\tdictState.enterArray();\n\t\t} else if (state === State.ARR_STATE) {\n\t\t\tarrState.enterArray();\n\t\t} else { // ROOT_STATE\n\t\t\tcur = [];\n\t\t\tpushState(State.ARR_STATE, cur);\n\t\t}\n\t}\n\tfunction leaveArray() {\n\t\tif (state === State.DICT_STATE) {\n\t\t\treturn fail('unexpected </array>');\n\t\t} else if (state === State.ARR_STATE) {\n\t\t\tpopState();\n\t\t} else { // ROOT_STATE\n\t\t\treturn fail('unexpected </array>');\n\t\t}\n\t}\n\tfunction acceptKey(val: string) {\n\t\tif (state === State.DICT_STATE) {\n\t\t\tif (curKey !== null) {\n\t\t\t\treturn fail('too many <key>');\n\t\t\t}\n\t\t\tcurKey = val;\n\t\t} else if (state === State.ARR_STATE) {\n\t\t\treturn fail('unexpected <key>');\n\t\t} else { // ROOT_STATE\n\t\t\treturn fail('unexpected <key>');\n\t\t}\n\t}\n\tfunction acceptString(val: string) {\n\t\tif (state === State.DICT_STATE) {\n\t\t\tif (curKey === null) {\n\t\t\t\treturn fail('missing <key>');\n\t\t\t}\n\t\t\tcur[curKey] = val;\n\t\t\tcurKey = null;\n\t\t} else if (state === State.ARR_STATE) {\n\t\t\tcur.push(val);\n\t\t} else { // ROOT_STATE\n\t\t\tcur = val;\n\t\t}\n\t}\n\tfunction acceptReal(val: number) {\n\t\tif (isNaN(val)) {\n\t\t\treturn fail('cannot parse float');\n\t\t}\n\t\tif (state === State.DICT_STATE) {\n\t\t\tif (curKey === null) {\n\t\t\t\treturn fail('missing <key>');\n\t\t\t}\n\t\t\tcur[curKey] = val;\n\t\t\tcurKey = null;\n\t\t} else if (state === State.ARR_STATE) {\n\t\t\tcur.push(val);\n\t\t} else { // ROOT_STATE\n\t\t\tcur = val;\n\t\t}\n\t}\n\tfunction acceptInteger(val: number) {\n\t\tif (isNaN(val)) {\n\t\t\treturn fail('cannot parse integer');\n\t\t}\n\t\tif (state === State.DICT_STATE) {\n\t\t\tif (curKey === null) {\n\t\t\t\treturn fail('missing <key>');\n\t\t\t}\n\t\t\tcur[curKey] = val;\n\t\t\tcurKey = null;\n\t\t} else if (state === State.ARR_STATE) {\n\t\t\tcur.push(val);\n\t\t} else { // ROOT_STATE\n\t\t\tcur = val;\n\t\t}\n\t}\n\tfunction acceptDate(val: Date) {\n\t\tif (state === State.DICT_STATE) {\n\t\t\tif (curKey === null) {\n\t\t\t\treturn fail('missing <key>');\n\t\t\t}\n\t\t\tcur[curKey] = val;\n\t\t\tcurKey = null;\n\t\t} else if (state === State.ARR_STATE) {\n\t\t\tcur.push(val);\n\t\t} else { // ROOT_STATE\n\t\t\tcur = val;\n\t\t}\n\t}\n\tfunction acceptData(val: string) {\n\t\tif (state === State.DICT_STATE) {\n\t\t\tif (curKey === null) {\n\t\t\t\treturn fail('missing <key>');\n\t\t\t}\n\t\t\tcur[curKey] = val;\n\t\t\tcurKey = null;\n\t\t} else if (state === State.ARR_STATE) {\n\t\t\tcur.push(val);\n\t\t} else { // ROOT_STATE\n\t\t\tcur = val;\n\t\t}\n\t}\n\tfunction acceptBool(val: boolean) {\n\t\tif (state === State.DICT_STATE) {\n\t\t\tif (curKey === null) {\n\t\t\t\treturn fail('missing <key>');\n\t\t\t}\n\t\t\tcur[curKey] = val;\n\t\t\tcurKey = null;\n\t\t} else if (state === State.ARR_STATE) {\n\t\t\tcur.push(val);\n\t\t} else { // ROOT_STATE\n\t\t\tcur = val;\n\t\t}\n\t}\n\n\tfunction escapeVal(str: string): string {\n\t\treturn str.replace(/&#([0-9]+);/g, function (_: string, m0: string) {\n\t\t\treturn String.fromCodePoint(parseInt(m0, 10));\n\t\t}).replace(/&#x([0-9a-f]+);/g, function (_: string, m0: string) {\n\t\t\treturn String.fromCodePoint(parseInt(m0, 16));\n\t\t}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g, function (_: string) {\n\t\t\tswitch (_) {\n\t\t\t\tcase '&amp;': return '&';\n\t\t\t\tcase '&lt;': return '<';\n\t\t\t\tcase '&gt;': return '>';\n\t\t\t\tcase '&quot;': return '\"';\n\t\t\t\tcase '&apos;': return '\\'';\n\t\t\t}\n\t\t\treturn _;\n\t\t});\n\t}\n\n\tinterface IParsedTag {\n\t\tname: string;\n\t\tisClosed: boolean;\n\t}\n\n\tfunction parseOpenTag(): IParsedTag {\n\t\tlet r = captureUntil('>');\n\t\tlet isClosed = false;\n\t\tif (r.charCodeAt(r.length - 1) === ChCode.SLASH) {\n\t\t\tisClosed = true;\n\t\t\tr = r.substring(0, r.length - 1);\n\t\t}\n\n\t\treturn {\n\t\t\tname: r.trim(),\n\t\t\tisClosed: isClosed\n\t\t};\n\t}\n\n\tfunction parseTagValue(tag: IParsedTag): string {\n\t\tif (tag.isClosed) {\n\t\t\treturn '';\n\t\t}\n\t\tconst val = captureUntil('</');\n\t\tadvanceUntil('>');\n\t\treturn escapeVal(val);\n\t}\n\n\twhile (pos < len) {\n\t\tskipWhitespace();\n\t\tif (pos >= len) {\n\t\t\tbreak;\n\t\t}\n\n\t\tconst chCode = content.charCodeAt(pos);\n\t\tadvancePosBy(1);\n\t\tif (chCode !== ChCode.LESS_THAN) {\n\t\t\treturn fail('expected <');\n\t\t}\n\n\t\tif (pos >= len) {\n\t\t\treturn fail('unexpected end of input');\n\t\t}\n\n\t\tconst peekChCode = content.charCodeAt(pos);\n\n\t\tif (peekChCode === ChCode.QUESTION_MARK) {\n\t\t\tadvancePosBy(1);\n\t\t\tadvanceUntil('?>');\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (peekChCode === ChCode.EXCLAMATION_MARK) {\n\t\t\tadvancePosBy(1);\n\n\t\t\tif (advanceIfStartsWith('--')) {\n\t\t\t\tadvanceUntil('-->');\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tadvanceUntil('>');\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (peekChCode === ChCode.SLASH) {\n\t\t\tadvancePosBy(1);\n\t\t\tskipWhitespace();\n\n\t\t\tif (advanceIfStartsWith('plist')) {\n\t\t\t\tadvanceUntil('>');\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (advanceIfStartsWith('dict')) {\n\t\t\t\tadvanceUntil('>');\n\t\t\t\tleaveDict();\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (advanceIfStartsWith('array')) {\n\t\t\t\tadvanceUntil('>');\n\t\t\t\tleaveArray();\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\treturn fail('unexpected closed tag');\n\t\t}\n\n\t\tconst tag = parseOpenTag();\n\n\t\tswitch (tag.name) {\n\t\t\tcase 'dict':\n\t\t\t\tenterDict();\n\t\t\t\tif (tag.isClosed) {\n\t\t\t\t\tleaveDict();\n\t\t\t\t}\n\t\t\t\tcontinue;\n\n\t\t\tcase 'array':\n\t\t\t\tenterArray();\n\t\t\t\tif (tag.isClosed) {\n\t\t\t\t\tleaveArray();\n\t\t\t\t}\n\t\t\t\tcontinue;\n\n\t\t\tcase 'key':\n\t\t\t\tacceptKey(parseTagValue(tag));\n\t\t\t\tcontinue;\n\n\t\t\tcase 'string':\n\t\t\t\tacceptString(parseTagValue(tag));\n\t\t\t\tcontinue;\n\n\t\t\tcase 'real':\n\t\t\t\tacceptReal(parseFloat(parseTagValue(tag)));\n\t\t\t\tcontinue;\n\n\t\t\tcase 'integer':\n\t\t\t\tacceptInteger(parseInt(parseTagValue(tag), 10));\n\t\t\t\tcontinue;\n\n\t\t\tcase 'date':\n\t\t\t\tacceptDate(new Date(parseTagValue(tag)));\n\t\t\t\tcontinue;\n\n\t\t\tcase 'data':\n\t\t\t\tacceptData(parseTagValue(tag));\n\t\t\t\tcontinue;\n\n\t\t\tcase 'true':\n\t\t\t\tparseTagValue(tag);\n\t\t\t\tacceptBool(true);\n\t\t\t\tcontinue;\n\n\t\t\tcase 'false':\n\t\t\t\tparseTagValue(tag);\n\t\t\t\tacceptBool(false);\n\t\t\t\tcontinue;\n\t\t}\n\n\t\tif (/^plist/.test(tag.name)) {\n\t\t\tcontinue;\n\t\t}\n\n\t\treturn fail('unexpected opened tag ' + tag.name);\n\t}\n\n\treturn cur;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nconst enum ChCode {\n\tBOM = 65279,\n\n\tSPACE = 32,\n\tTAB = 9,\n\tCARRIAGE_RETURN = 13,\n\tLINE_FEED = 10,\n\n\tSLASH = 47,\n\n\tLESS_THAN = 60,\n\tQUESTION_MARK = 63,\n\tEXCLAMATION_MARK = 33,\n}\n\nconst enum State {\n\tROOT_STATE = 0,\n\tDICT_STATE = 1,\n\tARR_STATE = 2\n}\n/**\n * A very fast plist parser\n */\nexport function parse(content: string): any {\n\treturn _parse(content, null, null);\n}\n\nfunction _parse(content: string, filename: string | null, locationKeyName: string | null): any {\n\tconst len = content.length;\n\n\tlet pos = 0;\n\tlet line = 1;\n\tlet char = 0;\n\n\t// Skip UTF8 BOM\n\tif (len > 0 && content.charCodeAt(0) === ChCode.BOM) {\n\t\tpos = 1;\n\t}\n\n\tfunction advancePosBy(by: number): void {\n\t\tif (locationKeyName === null) {\n\t\t\tpos = pos + by;\n\t\t} else {\n\t\t\twhile (by > 0) {\n\t\t\t\tconst chCode = content.charCodeAt(pos);\n\t\t\t\tif (chCode === ChCode.LINE_FEED) {\n\t\t\t\t\tpos++; line++; char = 0;\n\t\t\t\t} else {\n\t\t\t\t\tpos++; char++;\n\t\t\t\t}\n\t\t\t\tby--;\n\t\t\t}\n\t\t}\n\t}\n\tfunction advancePosTo(to: number): void {\n\t\tif (locationKeyName === null) {\n\t\t\tpos = to;\n\t\t} else {\n\t\t\tadvancePosBy(to - pos);\n\t\t}\n\t}\n\n\tfunction skipWhitespace(): void {\n\t\twhile (pos < len) {\n\t\t\tconst chCode = content.charCodeAt(pos);\n\t\t\tif (chCode !== ChCode.SPACE && chCode !== ChCode.TAB && chCode !== ChCode.CARRIAGE_RETURN && chCode !== ChCode.LINE_FEED) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tadvancePosBy(1);\n\t\t}\n\t}\n\n\tfunction advanceIfStartsWith(str: string): boolean {\n\t\tif (content.substr(pos, str.length) === str) {\n\t\t\tadvancePosBy(str.length);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction advanceUntil(str: string): void {\n\t\tconst nextOccurence = content.indexOf(str, pos);\n\t\tif (nextOccurence !== -1) {\n\t\t\tadvancePosTo(nextOccurence + str.length);\n\t\t} else {\n\t\t\t// EOF\n\t\t\tadvancePosTo(len);\n\t\t}\n\t}\n\n\tfunction captureUntil(str: string): string {\n\t\tconst nextOccurence = content.indexOf(str, pos);\n\t\tif (nextOccurence !== -1) {\n\t\t\tconst r = content.substring(pos, nextOccurence);\n\t\t\tadvancePosTo(nextOccurence + str.length);\n\t\t\treturn r;\n\t\t} else {\n\t\t\t// EOF\n\t\t\tconst r = content.substr(pos);\n\t\t\tadvancePosTo(len);\n\t\t\treturn r;\n\t\t}\n\t}\n\n\tlet state = State.ROOT_STATE;\n\n\tlet cur: any = null;\n\tconst stateStack: State[] = [];\n\tconst objStack: any[] = [];\n\tlet curKey: string | null = null;\n\n\tfunction pushState(newState: State, newCur: any): void {\n\t\tstateStack.push(state);\n\t\tobjStack.push(cur);\n\t\tstate = newState;\n\t\tcur = newCur;\n\t}\n\n\tfunction popState(): void {\n\t\tif (stateStack.length === 0) {\n\t\t\treturn fail('illegal state stack');\n\t\t}\n\t\tstate = stateStack.pop()!;\n\t\tcur = objStack.pop();\n\t}\n\n\tfunction fail(msg: string): void {\n\t\tthrow new Error('Near offset ' + pos + ': ' + msg + ' ~~~' + content.substr(pos, 50) + '~~~');\n\t}\n\n\tconst dictState = {\n\t\tenterDict: function () {\n\t\t\tif (curKey === null) {\n\t\t\t\treturn fail('missing <key>');\n\t\t\t}\n\t\t\tconst newDict: { [key: string]: any } = {};\n\t\t\tif (locationKeyName !== null) {\n\t\t\t\tnewDict[locationKeyName] = {\n\t\t\t\t\tfilename: filename,\n\t\t\t\t\tline: line,\n\t\t\t\t\tchar: char\n\t\t\t\t};\n\t\t\t}\n\t\t\tcur[curKey] = newDict;\n\t\t\tcurKey = null;\n\t\t\tpushState(State.DICT_STATE, newDict);\n\t\t},\n\t\tenterArray: function () {\n\t\t\tif (curKey === null) {\n\t\t\t\treturn fail('missing <key>');\n\t\t\t}\n\t\t\tconst newArr: any[] = [];\n\t\t\tcur[curKey] = newArr;\n\t\t\tcurKey = null;\n\t\t\tpushState(State.ARR_STATE, newArr);\n\t\t}\n\t};\n\n\tconst arrState = {\n\t\tenterDict: function () {\n\t\t\tconst newDict: { [key: string]: any } = {};\n\t\t\tif (locationKeyName !== null) {\n\t\t\t\tnewDict[locationKeyName] = {\n\t\t\t\t\tfilename: filename,\n\t\t\t\t\tline: line,\n\t\t\t\t\tchar: char\n\t\t\t\t};\n\t\t\t}\n\t\t\tcur.push(newDict);\n\t\t\tpushState(State.DICT_STATE, newDict);\n\t\t},\n\t\tenterArray: function () {\n\t\t\tconst newArr: any[] = [];\n\t\t\tcur.push(newArr);\n\t\t\tpushState(State.ARR_STATE, newArr);\n\t\t}\n\t};\n\n\n\tfunction enterDict() {\n\t\tif (state === State.DICT_STATE) {\n\t\t\tdictState.enterDict();\n\t\t} else if (state === State.ARR_STATE) {\n\t\t\tarrState.enterDict();\n\t\t} else { // ROOT_STATE\n\t\t\tcur = {};\n\t\t\tif (locationKeyName !== null) {\n\t\t\t\tcur[locationKeyName] = {\n\t\t\t\t\tfilename: filename,\n\t\t\t\t\tline: line,\n\t\t\t\t\tchar: char\n\t\t\t\t};\n\t\t\t}\n\t\t\tpushState(State.DICT_STATE, cur);\n\t\t}\n\t}\n\tfunction leaveDict() {\n\t\tif (state === State.DICT_STATE) {\n\t\t\tpopState();\n\t\t} else if (state === State.ARR_STATE) {\n\t\t\treturn fail('unexpected </dict>');\n\t\t} else { // ROOT_STATE\n\t\t\treturn fail('unexpected </dict>');\n\t\t}\n\t}\n\tfunction enterArray() {\n\t\tif (state === State.DICT_STATE) {\n\t\t\tdictState.enterArray();\n\t\t} else if (state === State.ARR_STATE) {\n\t\t\tarrState.enterArray();\n\t\t} else { // ROOT_STATE\n\t\t\tcur = [];\n\t\t\tpushState(State.ARR_STATE, cur);\n\t\t}\n\t}\n\tfunction leaveArray() {\n\t\tif (state === State.DICT_STATE) {\n\t\t\treturn fail('unexpected </array>');\n\t\t} else if (state === State.ARR_STATE) {\n\t\t\tpopState();\n\t\t} else { // ROOT_STATE\n\t\t\treturn fail('unexpected </array>');\n\t\t}\n\t}\n\tfunction acceptKey(val: string) {\n\t\tif (state === State.DICT_STATE) {\n\t\t\tif (curKey !== null) {\n\t\t\t\treturn fail('too many <key>');\n\t\t\t}\n\t\t\tcurKey = val;\n\t\t} else if (state === State.ARR_STATE) {\n\t\t\treturn fail('unexpected <key>');\n\t\t} else { // ROOT_STATE\n\t\t\treturn fail('unexpected <key>');\n\t\t}\n\t}\n\tfunction acceptString(val: string) {\n\t\tif (state === State.DICT_STATE) {\n\t\t\tif (curKey === null) {\n\t\t\t\treturn fail('missing <key>');\n\t\t\t}\n\t\t\tcur[curKey] = val;\n\t\t\tcurKey = null;\n\t\t} else if (state === State.ARR_STATE) {\n\t\t\tcur.push(val);\n\t\t} else { // ROOT_STATE\n\t\t\tcur = val;\n\t\t}\n\t}\n\tfunction acceptReal(val: number) {\n\t\tif (isNaN(val)) {\n\t\t\treturn fail('cannot parse float');\n\t\t}\n\t\tif (state === State.DICT_STATE) {\n\t\t\tif (curKey === null) {\n\t\t\t\treturn fail('missing <key>');\n\t\t\t}\n\t\t\tcur[curKey] = val;\n\t\t\tcurKey = null;\n\t\t} else if (state === State.ARR_STATE) {\n\t\t\tcur.push(val);\n\t\t} else { // ROOT_STATE\n\t\t\tcur = val;\n\t\t}\n\t}\n\tfunction acceptInteger(val: number) {\n\t\tif (isNaN(val)) {\n\t\t\treturn fail('cannot parse integer');\n\t\t}\n\t\tif (state === State.DICT_STATE) {\n\t\t\tif (curKey === null) {\n\t\t\t\treturn fail('missing <key>');\n\t\t\t}\n\t\t\tcur[curKey] = val;\n\t\t\tcurKey = null;\n\t\t} else if (state === State.ARR_STATE) {\n\t\t\tcur.push(val);\n\t\t} else { // ROOT_STATE\n\t\t\tcur = val;\n\t\t}\n\t}\n\tfunction acceptDate(val: Date) {\n\t\tif (state === State.DICT_STATE) {\n\t\t\tif (curKey === null) {\n\t\t\t\treturn fail('missing <key>');\n\t\t\t}\n\t\t\tcur[curKey] = val;\n\t\t\tcurKey = null;\n\t\t} else if (state === State.ARR_STATE) {\n\t\t\tcur.push(val);\n\t\t} else { // ROOT_STATE\n\t\t\tcur = val;\n\t\t}\n\t}\n\tfunction acceptData(val: string) {\n\t\tif (state === State.DICT_STATE) {\n\t\t\tif (curKey === null) {\n\t\t\t\treturn fail('missing <key>');\n\t\t\t}\n\t\t\tcur[curKey] = val;\n\t\t\tcurKey = null;\n\t\t} else if (state === State.ARR_STATE) {\n\t\t\tcur.push(val);\n\t\t} else { // ROOT_STATE\n\t\t\tcur = val;\n\t\t}\n\t}\n\tfunction acceptBool(val: boolean) {\n\t\tif (state === State.DICT_STATE) {\n\t\t\tif (curKey === null) {\n\t\t\t\treturn fail('missing <key>');\n\t\t\t}\n\t\t\tcur[curKey] = val;\n\t\t\tcurKey = null;\n\t\t} else if (state === State.ARR_STATE) {\n\t\t\tcur.push(val);\n\t\t} else { // ROOT_STATE\n\t\t\tcur = val;\n\t\t}\n\t}\n\n\tfunction escapeVal(str: string): string {\n\t\treturn str.replace(/&#([0-9]+);/g, function (_: string, m0: string) {\n\t\t\treturn String.fromCodePoint(parseInt(m0, 10));\n\t\t}).replace(/&#x([0-9a-f]+);/g, function (_: string, m0: string) {\n\t\t\treturn String.fromCodePoint(parseInt(m0, 16));\n\t\t}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g, function (_: string) {\n\t\t\tswitch (_) {\n\t\t\t\tcase '&amp;': return '&';\n\t\t\t\tcase '&lt;': return '<';\n\t\t\t\tcase '&gt;': return '>';\n\t\t\t\tcase '&quot;': return '\"';\n\t\t\t\tcase '&apos;': return '\\'';\n\t\t\t}\n\t\t\treturn _;\n\t\t});\n\t}\n\n\tinterface IParsedTag {\n\t\tname: string;\n\t\tisClosed: boolean;\n\t}\n\n\tfunction parseOpenTag(): IParsedTag {\n\t\tlet r = captureUntil('>');\n\t\tlet isClosed = false;\n\t\tif (r.charCodeAt(r.length - 1) === ChCode.SLASH) {\n\t\t\tisClosed = true;\n\t\t\tr = r.substring(0, r.length - 1);\n\t\t}\n\n\t\treturn {\n\t\t\tname: r.trim(),\n\t\t\tisClosed: isClosed\n\t\t};\n\t}\n\n\tfunction parseTagValue(tag: IParsedTag): string {\n\t\tif (tag.isClosed) {\n\t\t\treturn '';\n\t\t}\n\t\tconst val = captureUntil('</');\n\t\tadvanceUntil('>');\n\t\treturn escapeVal(val);\n\t}\n\n\twhile (pos < len) {\n\t\tskipWhitespace();\n\t\tif (pos >= len) {\n\t\t\tbreak;\n\t\t}\n\n\t\tconst chCode = content.charCodeAt(pos);\n\t\tadvancePosBy(1);\n\t\tif (chCode !== ChCode.LESS_THAN) {\n\t\t\treturn fail('expected <');\n\t\t}\n\n\t\tif (pos >= len) {\n\t\t\treturn fail('unexpected end of input');\n\t\t}\n\n\t\tconst peekChCode = content.charCodeAt(pos);\n\n\t\tif (peekChCode === ChCode.QUESTION_MARK) {\n\t\t\tadvancePosBy(1);\n\t\t\tadvanceUntil('?>');\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (peekChCode === ChCode.EXCLAMATION_MARK) {\n\t\t\tadvancePosBy(1);\n\n\t\t\tif (advanceIfStartsWith('--')) {\n\t\t\t\tadvanceUntil('-->');\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tadvanceUntil('>');\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (peekChCode === ChCode.SLASH) {\n\t\t\tadvancePosBy(1);\n\t\t\tskipWhitespace();\n\n\t\t\tif (advanceIfStartsWith('plist')) {\n\t\t\t\tadvanceUntil('>');\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (advanceIfStartsWith('dict')) {\n\t\t\t\tadvanceUntil('>');\n\t\t\t\tleaveDict();\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (advanceIfStartsWith('array')) {\n\t\t\t\tadvanceUntil('>');\n\t\t\t\tleaveArray();\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\treturn fail('unexpected closed tag');\n\t\t}\n\n\t\tconst tag = parseOpenTag();\n\n\t\tswitch (tag.name) {\n\t\t\tcase 'dict':\n\t\t\t\tenterDict();\n\t\t\t\tif (tag.isClosed) {\n\t\t\t\t\tleaveDict();\n\t\t\t\t}\n\t\t\t\tcontinue;\n\n\t\t\tcase 'array':\n\t\t\t\tenterArray();\n\t\t\t\tif (tag.isClosed) {\n\t\t\t\t\tleaveArray();\n\t\t\t\t}\n\t\t\t\tcontinue;\n\n\t\t\tcase 'key':\n\t\t\t\tacceptKey(parseTagValue(tag));\n\t\t\t\tcontinue;\n\n\t\t\tcase 'string':\n\t\t\t\tacceptString(parseTagValue(tag));\n\t\t\t\tcontinue;\n\n\t\t\tcase 'real':\n\t\t\t\tacceptReal(parseFloat(parseTagValue(tag)));\n\t\t\t\tcontinue;\n\n\t\t\tcase 'integer':\n\t\t\t\tacceptInteger(parseInt(parseTagValue(tag), 10));\n\t\t\t\tcontinue;\n\n\t\t\tcase 'date':\n\t\t\t\tacceptDate(new Date(parseTagValue(tag)));\n\t\t\t\tcontinue;\n\n\t\t\tcase 'data':\n\t\t\t\tacceptData(parseTagValue(tag));\n\t\t\t\tcontinue;\n\n\t\t\tcase 'true':\n\t\t\t\tparseTagValue(tag);\n\t\t\t\tacceptBool(true);\n\t\t\t\tcontinue;\n\n\t\t\tcase 'false':\n\t\t\t\tparseTagValue(tag);\n\t\t\t\tacceptBool(false);\n\t\t\t\tcontinue;\n\t\t}\n\n\t\tif (/^plist/.test(tag.name)) {\n\t\t\tcontinue;\n\t\t}\n\n\t\treturn fail('unexpected opened tag ' + tag.name);\n\t}\n\n\treturn cur;\n}\n"]}