{"version":3,"sources":["vs/workbench/services/dialogs/browser/abstractFileDialogService.ts"],"names":[],"mappings":"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","file":"abstractFileDialogService.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as nls from '../../../../nls.js';\nimport { IWindowOpenable, isWorkspaceToOpen, isFileToOpen } from '../../../../platform/window/common/window.js';\nimport { IPickAndOpenOptions, ISaveDialogOptions, IOpenDialogOptions, FileFilter, IFileDialogService, IDialogService, ConfirmResult, getFileNamesMessage } from '../../../../platform/dialogs/common/dialogs.js';\nimport { isSavedWorkspace, isTemporaryWorkspace, IWorkspaceContextService, WorkbenchState, WORKSPACE_EXTENSION } from '../../../../platform/workspace/common/workspace.js';\nimport { IHistoryService } from '../../history/common/history.js';\nimport { IWorkbenchEnvironmentService } from '../../environment/common/environmentService.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport * as resources from '../../../../base/common/resources.js';\nimport { isAbsolute as localPathIsAbsolute, normalize as localPathNormalize } from '../../../../base/common/path.js';\nimport { IInstantiationService, } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ISimpleFileDialog, SimpleFileDialog } from './simpleFileDialog.js';\nimport { IWorkspacesService } from '../../../../platform/workspaces/common/workspaces.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IFileService } from '../../../../platform/files/common/files.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { IHostService } from '../../host/browser/host.js';\nimport Severity from '../../../../base/common/severity.js';\nimport { coalesce, distinct } from '../../../../base/common/arrays.js';\nimport { trim } from '../../../../base/common/strings.js';\nimport { ILanguageService } from '../../../../editor/common/languages/language.js';\nimport { ILabelService } from '../../../../platform/label/common/label.js';\nimport { IPathService } from '../../path/common/pathService.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport { PLAINTEXT_EXTENSION } from '../../../../editor/common/languages/modesRegistry.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { ICodeEditorService } from '../../../../editor/browser/services/codeEditorService.js';\nimport { IEditorService } from '../../editor/common/editorService.js';\nimport { EditorOpenSource } from '../../../../platform/editor/common/editor.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\n\nexport abstract class AbstractFileDialogService implements IFileDialogService {\n\n\tdeclare readonly _serviceBrand: undefined;\n\n\tconstructor(\n\t\t@IHostService protected readonly hostService: IHostService,\n\t\t@IWorkspaceContextService protected readonly contextService: IWorkspaceContextService,\n\t\t@IHistoryService protected readonly historyService: IHistoryService,\n\t\t@IWorkbenchEnvironmentService protected readonly environmentService: IWorkbenchEnvironmentService,\n\t\t@IInstantiationService protected readonly instantiationService: IInstantiationService,\n\t\t@IConfigurationService protected readonly configurationService: IConfigurationService,\n\t\t@IFileService protected readonly fileService: IFileService,\n\t\t@IOpenerService protected readonly openerService: IOpenerService,\n\t\t@IDialogService protected readonly dialogService: IDialogService,\n\t\t@ILanguageService private readonly languageService: ILanguageService,\n\t\t@IWorkspacesService private readonly workspacesService: IWorkspacesService,\n\t\t@ILabelService private readonly labelService: ILabelService,\n\t\t@IPathService private readonly pathService: IPathService,\n\t\t@ICommandService protected readonly commandService: ICommandService,\n\t\t@IEditorService protected readonly editorService: IEditorService,\n\t\t@ICodeEditorService protected readonly codeEditorService: ICodeEditorService,\n\t\t@ILogService private readonly logService: ILogService\n\t) { }\n\n\tasync defaultFilePath(schemeFilter = this.getSchemeFilterForWindow(), authorityFilter = this.getAuthorityFilterForWindow()): Promise<URI> {\n\n\t\t// Check for last active file first...\n\t\tlet candidate = this.historyService.getLastActiveFile(schemeFilter, authorityFilter);\n\n\t\t// ...then for last active file root\n\t\tif (!candidate) {\n\t\t\tcandidate = this.historyService.getLastActiveWorkspaceRoot(schemeFilter, authorityFilter);\n\t\t} else {\n\t\t\tcandidate = resources.dirname(candidate);\n\t\t}\n\n\t\tif (!candidate) {\n\t\t\tcandidate = await this.preferredHome(schemeFilter);\n\t\t}\n\n\t\treturn candidate;\n\t}\n\n\tasync defaultFolderPath(schemeFilter = this.getSchemeFilterForWindow(), authorityFilter = this.getAuthorityFilterForWindow()): Promise<URI> {\n\n\t\t// Check for last active file root first...\n\t\tlet candidate = this.historyService.getLastActiveWorkspaceRoot(schemeFilter, authorityFilter);\n\n\t\t// ...then for last active file\n\t\tif (!candidate) {\n\t\t\tcandidate = this.historyService.getLastActiveFile(schemeFilter, authorityFilter);\n\t\t}\n\n\t\tif (!candidate) {\n\t\t\treturn this.preferredHome(schemeFilter);\n\t\t}\n\n\t\treturn resources.dirname(candidate);\n\t}\n\n\tasync preferredHome(schemeFilter = this.getSchemeFilterForWindow()): Promise<URI> {\n\t\tconst preferLocal = schemeFilter === Schemas.file;\n\t\tconst preferredHomeConfig = this.configurationService.inspect<string>('files.dialog.defaultPath');\n\t\tconst preferredHomeCandidate = preferLocal ? preferredHomeConfig.userLocalValue : preferredHomeConfig.userRemoteValue;\n\t\tif (preferredHomeCandidate) {\n\t\t\tconst isPreferredHomeCandidateAbsolute = preferLocal ? localPathIsAbsolute(preferredHomeCandidate) : (await this.pathService.path).isAbsolute(preferredHomeCandidate);\n\t\t\tif (isPreferredHomeCandidateAbsolute) {\n\t\t\t\tconst preferredHomeNormalized = preferLocal ? localPathNormalize(preferredHomeCandidate) : (await this.pathService.path).normalize(preferredHomeCandidate);\n\t\t\t\tconst preferredHome = resources.toLocalResource(await this.pathService.fileURI(preferredHomeNormalized), this.environmentService.remoteAuthority, this.pathService.defaultUriScheme);\n\t\t\t\tif (await this.fileService.exists(preferredHome)) {\n\t\t\t\t\treturn preferredHome;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.pathService.userHome({ preferLocal });\n\t}\n\n\tasync defaultWorkspacePath(schemeFilter = this.getSchemeFilterForWindow()): Promise<URI> {\n\t\tlet defaultWorkspacePath: URI | undefined;\n\n\t\t// Check for current workspace config file first...\n\t\tif (this.contextService.getWorkbenchState() === WorkbenchState.WORKSPACE) {\n\t\t\tconst configuration = this.contextService.getWorkspace().configuration;\n\t\t\tif (configuration?.scheme === schemeFilter && isSavedWorkspace(configuration, this.environmentService) && !isTemporaryWorkspace(configuration)) {\n\t\t\t\tdefaultWorkspacePath = resources.dirname(configuration);\n\t\t\t}\n\t\t}\n\n\t\t// ...then fallback to default file path\n\t\tif (!defaultWorkspacePath) {\n\t\t\tdefaultWorkspacePath = await this.defaultFilePath(schemeFilter);\n\t\t}\n\n\t\treturn defaultWorkspacePath;\n\t}\n\n\tasync showSaveConfirm(fileNamesOrResources: (string | URI)[]): Promise<ConfirmResult> {\n\t\tif (this.skipDialogs()) {\n\t\t\tthis.logService.trace('FileDialogService: refused to show save confirmation dialog in tests.');\n\n\t\t\t// no veto when we are in extension dev testing mode because we cannot assume we run interactive\n\t\t\treturn ConfirmResult.DONT_SAVE;\n\t\t}\n\n\t\treturn this.doShowSaveConfirm(fileNamesOrResources);\n\t}\n\n\tprivate skipDialogs(): boolean {\n\t\tif (this.environmentService.enableSmokeTestDriver) {\n\t\t\tthis.logService.warn('DialogService: Dialog requested during smoke test.');\n\t\t}\n\t\t// integration tests\n\t\treturn this.environmentService.isExtensionDevelopment && !!this.environmentService.extensionTestsLocationURI;\n\t}\n\n\tprivate async doShowSaveConfirm(fileNamesOrResources: (string | URI)[]): Promise<ConfirmResult> {\n\t\tif (fileNamesOrResources.length === 0) {\n\t\t\treturn ConfirmResult.DONT_SAVE;\n\t\t}\n\n\t\tlet message: string;\n\t\tlet detail = nls.localize('saveChangesDetail', \"Your changes will be lost if you don't save them.\");\n\t\tif (fileNamesOrResources.length === 1) {\n\t\t\tmessage = nls.localize('saveChangesMessage', \"Do you want to save the changes you made to {0}?\", typeof fileNamesOrResources[0] === 'string' ? fileNamesOrResources[0] : resources.basename(fileNamesOrResources[0]));\n\t\t} else {\n\t\t\tmessage = nls.localize('saveChangesMessages', \"Do you want to save the changes to the following {0} files?\", fileNamesOrResources.length);\n\t\t\tdetail = getFileNamesMessage(fileNamesOrResources) + '\\n' + detail;\n\t\t}\n\n\t\tconst { result } = await this.dialogService.prompt<ConfirmResult>({\n\t\t\ttype: Severity.Warning,\n\t\t\tmessage,\n\t\t\tdetail,\n\t\t\tbuttons: [\n\t\t\t\t{\n\t\t\t\t\tlabel: fileNamesOrResources.length > 1 ?\n\t\t\t\t\t\tnls.localize({ key: 'saveAll', comment: ['&& denotes a mnemonic'] }, \"&&Save All\") :\n\t\t\t\t\t\tnls.localize({ key: 'save', comment: ['&& denotes a mnemonic'] }, \"&&Save\"),\n\t\t\t\t\trun: () => ConfirmResult.SAVE\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: nls.localize({ key: 'dontSave', comment: ['&& denotes a mnemonic'] }, \"Do&&n't Save\"),\n\t\t\t\t\trun: () => ConfirmResult.DONT_SAVE\n\t\t\t\t}\n\t\t\t],\n\t\t\tcancelButton: {\n\t\t\t\trun: () => ConfirmResult.CANCEL\n\t\t\t}\n\t\t});\n\n\t\treturn result;\n\t}\n\n\tprotected addFileSchemaIfNeeded(schema: string, _isFolder?: boolean): string[] {\n\t\treturn schema === Schemas.untitled ? [Schemas.file] : (schema !== Schemas.file ? [schema, Schemas.file] : [schema]);\n\t}\n\n\tprotected async pickFileFolderAndOpenSimplified(schema: string, options: IPickAndOpenOptions, preferNewWindow: boolean): Promise<void> {\n\t\tconst title = nls.localize('openFileOrFolder.title', 'Open File or Folder');\n\t\tconst availableFileSystems = this.addFileSchemaIfNeeded(schema);\n\n\t\tconst uri = await this.pickResource({ canSelectFiles: true, canSelectFolders: true, canSelectMany: false, defaultUri: options.defaultUri, title, availableFileSystems });\n\n\t\tif (uri) {\n\t\t\tconst stat = await this.fileService.stat(uri);\n\n\t\t\tconst toOpen: IWindowOpenable = stat.isDirectory ? { folderUri: uri } : { fileUri: uri };\n\t\t\tif (!isWorkspaceToOpen(toOpen) && isFileToOpen(toOpen)) {\n\t\t\t\tthis.addFileToRecentlyOpened(toOpen.fileUri);\n\t\t\t}\n\n\t\t\tif (stat.isDirectory || options.forceNewWindow || preferNewWindow) {\n\t\t\t\tawait this.hostService.openWindow([toOpen], { forceNewWindow: options.forceNewWindow, remoteAuthority: options.remoteAuthority });\n\t\t\t} else {\n\t\t\t\tawait this.editorService.openEditors([{ resource: uri, options: { source: EditorOpenSource.USER, pinned: true } }], undefined, { validateTrust: true });\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected async pickFileAndOpenSimplified(schema: string, options: IPickAndOpenOptions, preferNewWindow: boolean): Promise<void> {\n\t\tconst title = nls.localize('openFile.title', 'Open File');\n\t\tconst availableFileSystems = this.addFileSchemaIfNeeded(schema);\n\n\t\tconst uri = await this.pickResource({ canSelectFiles: true, canSelectFolders: false, canSelectMany: false, defaultUri: options.defaultUri, title, availableFileSystems });\n\t\tif (uri) {\n\t\t\tthis.addFileToRecentlyOpened(uri);\n\n\t\t\tif (options.forceNewWindow || preferNewWindow) {\n\t\t\t\tawait this.hostService.openWindow([{ fileUri: uri }], { forceNewWindow: options.forceNewWindow, remoteAuthority: options.remoteAuthority });\n\t\t\t} else {\n\t\t\t\tawait this.editorService.openEditors([{ resource: uri, options: { source: EditorOpenSource.USER, pinned: true } }], undefined, { validateTrust: true });\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected addFileToRecentlyOpened(uri: URI): void {\n\t\tthis.workspacesService.addRecentlyOpened([{ fileUri: uri, label: this.labelService.getUriLabel(uri, { appendWorkspaceSuffix: true }) }]);\n\t}\n\n\tprotected async pickFolderAndOpenSimplified(schema: string, options: IPickAndOpenOptions): Promise<void> {\n\t\tconst title = nls.localize('openFolder.title', 'Open Folder');\n\t\tconst availableFileSystems = this.addFileSchemaIfNeeded(schema, true);\n\n\t\tconst uri = await this.pickResource({ canSelectFiles: false, canSelectFolders: true, canSelectMany: false, defaultUri: options.defaultUri, title, availableFileSystems });\n\t\tif (uri) {\n\t\t\treturn this.hostService.openWindow([{ folderUri: uri }], { forceNewWindow: options.forceNewWindow, remoteAuthority: options.remoteAuthority });\n\t\t}\n\t}\n\n\tprotected async pickWorkspaceAndOpenSimplified(schema: string, options: IPickAndOpenOptions): Promise<void> {\n\t\tconst title = nls.localize('openWorkspace.title', 'Open Workspace from File');\n\t\tconst filters: FileFilter[] = [{ name: nls.localize('filterName.workspace', 'Workspace'), extensions: [WORKSPACE_EXTENSION] }];\n\t\tconst availableFileSystems = this.addFileSchemaIfNeeded(schema, true);\n\n\t\tconst uri = await this.pickResource({ canSelectFiles: true, canSelectFolders: false, canSelectMany: false, defaultUri: options.defaultUri, title, filters, availableFileSystems });\n\t\tif (uri) {\n\t\t\treturn this.hostService.openWindow([{ workspaceUri: uri }], { forceNewWindow: options.forceNewWindow, remoteAuthority: options.remoteAuthority });\n\t\t}\n\t}\n\n\tprotected async pickFileToSaveSimplified(schema: string, options: ISaveDialogOptions): Promise<URI | undefined> {\n\t\tif (!options.availableFileSystems) {\n\t\t\toptions.availableFileSystems = this.addFileSchemaIfNeeded(schema);\n\t\t}\n\n\t\toptions.title = nls.localize('saveFileAs.title', 'Save As');\n\t\tconst uri = await this.saveRemoteResource(options);\n\n\t\tif (uri) {\n\t\t\tthis.addFileToRecentlyOpened(uri);\n\t\t}\n\n\t\treturn uri;\n\t}\n\n\tprotected async showSaveDialogSimplified(schema: string, options: ISaveDialogOptions): Promise<URI | undefined> {\n\t\tif (!options.availableFileSystems) {\n\t\t\toptions.availableFileSystems = this.addFileSchemaIfNeeded(schema);\n\t\t}\n\n\t\treturn this.saveRemoteResource(options);\n\t}\n\n\tprotected async showOpenDialogSimplified(schema: string, options: IOpenDialogOptions): Promise<URI[] | undefined> {\n\t\tif (!options.availableFileSystems) {\n\t\t\toptions.availableFileSystems = this.addFileSchemaIfNeeded(schema, options.canSelectFolders);\n\t\t}\n\n\t\tconst uri = await this.pickResource(options);\n\n\t\treturn uri ? [uri] : undefined;\n\t}\n\n\tprotected getSimpleFileDialog(): ISimpleFileDialog {\n\t\treturn this.instantiationService.createInstance(SimpleFileDialog);\n\t}\n\n\tprivate pickResource(options: IOpenDialogOptions): Promise<URI | undefined> {\n\t\treturn this.getSimpleFileDialog().showOpenDialog(options);\n\t}\n\n\tprivate saveRemoteResource(options: ISaveDialogOptions): Promise<URI | undefined> {\n\t\treturn this.getSimpleFileDialog().showSaveDialog(options);\n\t}\n\n\tprivate getSchemeFilterForWindow(defaultUriScheme?: string): string {\n\t\treturn defaultUriScheme ?? this.pathService.defaultUriScheme;\n\t}\n\n\tprivate getAuthorityFilterForWindow(): string | undefined {\n\t\treturn this.environmentService.remoteAuthority;\n\t}\n\n\tprotected getFileSystemSchema(options: { availableFileSystems?: readonly string[]; defaultUri?: URI }): string {\n\t\treturn options.availableFileSystems?.[0] || this.getSchemeFilterForWindow(options.defaultUri?.scheme);\n\t}\n\n\tabstract pickFileFolderAndOpen(options: IPickAndOpenOptions): Promise<void>;\n\tabstract pickFileAndOpen(options: IPickAndOpenOptions): Promise<void>;\n\tabstract pickFolderAndOpen(options: IPickAndOpenOptions): Promise<void>;\n\tabstract pickWorkspaceAndOpen(options: IPickAndOpenOptions): Promise<void>;\n\tprotected getWorkspaceAvailableFileSystems(options: IPickAndOpenOptions): string[] {\n\t\tif (options.availableFileSystems && (options.availableFileSystems.length > 0)) {\n\t\t\treturn options.availableFileSystems;\n\t\t}\n\t\tconst availableFileSystems = [Schemas.file];\n\t\tif (this.environmentService.remoteAuthority) {\n\t\t\tavailableFileSystems.unshift(Schemas.vscodeRemote);\n\t\t}\n\t\treturn availableFileSystems;\n\t}\n\tabstract showSaveDialog(options: ISaveDialogOptions): Promise<URI | undefined>;\n\tabstract showOpenDialog(options: IOpenDialogOptions): Promise<URI[] | undefined>;\n\n\tabstract pickFileToSave(defaultUri: URI, availableFileSystems?: string[]): Promise<URI | undefined>;\n\n\tprotected getPickFileToSaveDialogOptions(defaultUri: URI, availableFileSystems?: string[]): ISaveDialogOptions {\n\t\tconst options: ISaveDialogOptions = {\n\t\t\tdefaultUri,\n\t\t\ttitle: nls.localize('saveAsTitle', \"Save As\"),\n\t\t\tavailableFileSystems\n\t\t};\n\n\t\tinterface IFilter { name: string; extensions: string[] }\n\n\t\t// Build the file filter by using our known languages\n\t\tconst ext: string | undefined = defaultUri ? resources.extname(defaultUri) : undefined;\n\t\tlet matchingFilter: IFilter | undefined;\n\n\t\tconst registeredLanguageNames = this.languageService.getSortedRegisteredLanguageNames();\n\t\tconst registeredLanguageFilters: IFilter[] = coalesce(registeredLanguageNames.map(({ languageName, languageId }) => {\n\t\t\tconst extensions = this.languageService.getExtensions(languageId);\n\t\t\tif (!extensions.length) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst filter: IFilter = { name: languageName, extensions: distinct(extensions).slice(0, 10).map(e => trim(e, '.')) };\n\n\t\t\t// https://github.com/microsoft/vscode/issues/115860\n\t\t\tconst extOrPlaintext = ext || PLAINTEXT_EXTENSION;\n\t\t\tif (!matchingFilter && extensions.includes(extOrPlaintext)) {\n\t\t\t\tmatchingFilter = filter;\n\n\t\t\t\t// The selected extension must be in the set of extensions that are in the filter list that is sent to the save dialog.\n\t\t\t\t// If it isn't, add it manually. https://github.com/microsoft/vscode/issues/147657\n\t\t\t\tconst trimmedExt = trim(extOrPlaintext, '.');\n\t\t\t\tif (!filter.extensions.includes(trimmedExt)) {\n\t\t\t\t\tfilter.extensions.unshift(trimmedExt);\n\t\t\t\t}\n\n\t\t\t\treturn null; // first matching filter will be added to the top\n\t\t\t}\n\n\t\t\treturn filter;\n\t\t}));\n\n\t\t// We have no matching filter, e.g. because the language\n\t\t// is unknown. We still add the extension to the list of\n\t\t// filters though so that it can be picked\n\t\t// (https://github.com/microsoft/vscode/issues/96283)\n\t\tif (!matchingFilter && ext) {\n\t\t\tmatchingFilter = { name: trim(ext, '.').toUpperCase(), extensions: [trim(ext, '.')] };\n\t\t}\n\n\t\t// Order of filters is\n\t\t// - All Files (we MUST do this to fix macOS issue https://github.com/microsoft/vscode/issues/102713)\n\t\t// - File Extension Match (if any)\n\t\t// - All Languages\n\t\t// - No Extension\n\t\toptions.filters = coalesce([\n\t\t\t{ name: nls.localize('allFiles', \"All Files\"), extensions: ['*'] },\n\t\t\tmatchingFilter,\n\t\t\t...registeredLanguageFilters,\n\t\t\t{ name: nls.localize('noExt', \"No Extension\"), extensions: [''] }\n\t\t]);\n\n\t\treturn options;\n\t}\n}\n"]}