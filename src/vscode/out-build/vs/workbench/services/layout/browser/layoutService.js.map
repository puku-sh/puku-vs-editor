{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/services/layout/browser/layoutService.ts","vs/workbench/services/layout/browser/layoutService.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,EAAE,sBAAsB,EAAE,MAAM,4DAA4D,CAAC;AAEpG,OAAO,EAAE,cAAc,EAAE,MAAM,sDAAsD,CAAC;AAItF,OAAO,EAAE,WAAW,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,qCAAqC,CAAC;AACnF,OAAO,EAAE,iBAAiB,EAAE,MAAM,oCAAoC,CAAC;AACvE,OAAO,EAA6C,oBAAoB,EAAE,iBAAiB,EAAE,aAAa,EAAE,iBAAiB,EAAE,MAAM,8CAA8C,CAAC;AACpL,OAAO,EAAE,YAAY,EAAE,YAAY,EAAE,MAAM,qCAAqC,CAAC;AAIjF,MAAM,CAAC,MAAM,uBAAuB,GAAG,sBAAsB,CAA0C,cAAc,CAAC,CAAC;AAEvH,MAAM,CAAN,IAAkB,KASjB;AATD,WAAkB,KAAK;IACtB,mDAA0C,CAAA;IAC1C,+CAAsC,CAAA;IACtC,yDAAgD,CAAA;IAChD,iDAAwC,CAAA;IACxC,6CAAoC,CAAA;IACpC,2DAAkD,CAAA;IAClD,+CAAsC,CAAA;IACtC,qDAA4C,CAAA;AAC7C,CAAC,EATiB,KAAK,KAAL,KAAK,QAStB;AAED,MAAM,CAAN,IAAkB,eASjB;AATD,WAAkB,eAAe;IAChC,iDAA8B,CAAA;IAC9B,+DAA4C,CAAA;IAC5C,2DAAwC,CAAA;IACxC,+DAA4C,CAAA;IAC5C,yDAAsC,CAAA;IACtC,oDAAiC,CAAA;IACjC,8CAA2B,CAAA;IAC3B,uEAAoD,CAAA;AACrD,CAAC,EATiB,eAAe,KAAf,eAAe,QAShC;AAED,MAAM,CAAN,IAAkB,cAMjB;AAND,WAAkB,cAAc;IAC/B,0EAAwD,CAAA;IACxD,gEAA8C,CAAA;IAC9C,oFAAkE,CAAA;IAClE,yDAAuC,CAAA;IACvC,oEAAkD,CAAA;AACnD,CAAC,EANiB,cAAc,KAAd,cAAc,QAM/B;AAED,MAAM,CAAN,IAAkB,mBAKjB;AALD,WAAkB,mBAAmB;IACpC,0CAAmB,CAAA;IACnB,kCAAW,CAAA;IACX,wCAAiB,CAAA;IACjB,wCAAiB,CAAA;AAClB,CAAC,EALiB,mBAAmB,KAAnB,mBAAmB,QAKpC;AAED,MAAM,CAAN,IAAkB,cAIjB;AAJD,WAAkB,cAAc;IAC/B,uCAAqB,CAAA;IACrB,mCAAiB,CAAA;IACjB,+BAAa,CAAA;AACd,CAAC,EAJiB,cAAc,KAAd,cAAc,QAI/B;AAED,MAAM,CAAN,IAAkB,qBAIjB;AAJD,WAAkB,qBAAqB;IACtC,4CAAmB,CAAA;IACnB,8CAAqB,CAAA;IACrB,0CAAiB,CAAA;AAClB,CAAC,EAJiB,qBAAqB,KAArB,qBAAqB,QAItC;AAED,MAAM,CAAN,IAAkB,QAKjB;AALD,WAAkB,QAAQ;IACzB,uCAAI,CAAA;IACJ,yCAAK,CAAA;IACL,2CAAM,CAAA;IACN,qCAAG,CAAA;AACJ,CAAC,EALiB,QAAQ,KAAR,QAAQ,QAKzB;AAED,MAAM,UAAU,YAAY,CAAC,QAAkB;IAC9C,OAAO,QAAQ,4BAAoB,IAAI,QAAQ,yBAAiB,CAAC;AAClE,CAAC;AAED,MAAM,CAAN,IAAkB,yBAIjB;AAJD,WAAkB,yBAAyB;IAC1C,6EAAM,CAAA;IACN,2EAAK,CAAA;IACL,2FAAa,CAAA;AACd,CAAC,EAJiB,yBAAyB,KAAzB,yBAAyB,QAI1C;AAID,MAAM,UAAU,gBAAgB,CAAC,QAAkB;IAClD,QAAQ,QAAQ,EAAE,CAAC;QAClB,0BAAkB,CAAC,CAAC,OAAO,MAAM,CAAC;QAClC,2BAAmB,CAAC,CAAC,OAAO,OAAO,CAAC;QACpC,4BAAoB,CAAC,CAAC,OAAO,QAAQ,CAAC;QACtC,yBAAiB,CAAC,CAAC,OAAO,KAAK,CAAC;QAChC,OAAO,CAAC,CAAC,OAAO,QAAQ,CAAC;IAC1B,CAAC;AACF,CAAC;AAED,MAAM,iBAAiB,GAAgC;IACtD,CAAC,gBAAgB,uBAAe,CAAC,uBAAe;IAChD,CAAC,gBAAgB,wBAAgB,CAAC,wBAAgB;IAClD,CAAC,gBAAgB,yBAAiB,CAAC,yBAAiB;IACpD,CAAC,gBAAgB,sBAAc,CAAC,sBAAc;CAC9C,CAAC;AAEF,MAAM,UAAU,kBAAkB,CAAC,GAAW;IAC7C,OAAO,iBAAiB,CAAC,GAAG,CAAC,CAAC;AAC/B,CAAC;AAED,SAAS,iCAAiC,CAAC,OAAkC;IAC5E,QAAQ,OAAO,EAAE,CAAC;QACjB,6CAAqC,CAAC,CAAC,OAAO,QAAQ,CAAC;QACvD,4CAAoC,CAAC,CAAC,OAAO,OAAO,CAAC;QACrD,oDAA4C,CAAC,CAAC,OAAO,UAAU,CAAC;QAChE,OAAO,CAAC,CAAC,OAAO,UAAU,CAAC;IAC5B,CAAC;AACF,CAAC;AAED,MAAM,0BAA0B,GAAiD;IAChF,CAAC,iCAAiC,0CAAkC,CAAC,0CAAkC;IACvG,CAAC,iCAAiC,yCAAiC,CAAC,yCAAiC;IACrG,CAAC,iCAAiC,iDAAyC,CAAC,iDAAyC;CACrH,CAAC;AAEF,MAAM,UAAU,4BAA4B,CAAC,GAAW;IACvD,OAAO,0BAA0B,CAAC,GAAG,CAAC,CAAC;AACxC,CAAC;AAKD,MAAM,UAAU,iBAAiB,CAAC,IAAW;IAC5C,OAAO,IAAI,qDAAsB;QAChC,IAAI,2DAAyB;QAC7B,IAAI,yDAAwB,CAAC;AAC/B,CAAC;AA8ND,MAAM,UAAU,wBAAwB,CAAC,oBAA2C,EAAE,MAAc,EAAE,cAAwB;IAC7H,IAAI,CAAC,iBAAiB,CAAC,oBAAoB,CAAC,EAAE,CAAC;QAC9C,OAAO,KAAK,CAAC;IACd,CAAC;IAED,MAAM,YAAY,GAAG,YAAY,CAAC,MAAM,CAAC,CAAC;IAC1C,MAAM,qBAAqB,GAAG,iBAAiB,CAAC,oBAAoB,CAAC,CAAC;IAEtE,IAAI,CAAC,KAAK,EAAE,CAAC;QACZ,MAAM,kBAAkB,GAAG,oBAAoB,CAAC,QAAQ,qFAAuE,CAAC;QAChI,IAAI,kBAAkB,iDAAmC,IAAI,qBAAqB,IAAI,kBAAkB,uDAAsC,IAAI,YAAY,EAAE,CAAC;YAChK,OAAO,KAAK,CAAC;QACd,CAAC;IACF,CAAC;IAED,IAAI,CAAC,eAAe,CAAC,oBAAoB,CAAC,EAAE,CAAC;QAC5C,OAAO,IAAI,CAAC;IACb,CAAC;IAED,oFAAoF;IACpF,IAAI,qBAAqB,IAAI,aAAa,CAAC,oBAAoB,CAAC,EAAE,CAAC;QAClE,OAAO,KAAK,CAAC;IACd,CAAC;IAED,2DAA2D;IAC3D,IAAI,WAAW,IAAI,QAAQ,EAAE,CAAC;QAC7B,OAAO,CAAC,YAAY,CAAC;IACtB,CAAC;IAED,gDAAgD;IAChD,IAAI,QAAQ,IAAI,CAAC,YAAY,EAAE,CAAC;QAC/B,OAAO,IAAI,CAAC;IACb,CAAC;IAED,mDAAmD;IACnD,IAAI,YAAY,EAAE,IAAI,CAAC,YAAY,EAAE,CAAC;QACrC,OAAO,IAAI,CAAC;IACb,CAAC;IAED,oDAAoD;IACpD,MAAM,iBAAiB,GAAG,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,oBAAoB,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;IAC7G,QAAQ,iBAAiB,EAAE,CAAC;QAC3B,KAAK,SAAS;YACb,OAAO,CAAC,YAAY,IAAI,CAAC,CAAC,cAAc,CAAC;QAC1C,KAAK,SAAS,CAAC;QACf,KAAK,QAAQ;YACZ,OAAO,KAAK,CAAC;QACd,KAAK,QAAQ;YACZ,OAAO,CAAC,CAAC,cAAc,CAAC;QACzB,KAAK,SAAS;YACb,OAAO,IAAI,CAAC;QACb;YACC,OAAO,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,YAAY,IAAI,CAAC,CAAC,cAAc,CAAC;IAC3D,CAAC;AACF,CAAC;AAED,SAAS,eAAe,CAAC,oBAA2C;IAEnE,yDAAyD;IACzD,IAAI,oBAAoB,CAAC,QAAQ,4DAAwC,EAAE,CAAC;QAC3E,OAAO,KAAK,CAAC;IACd,CAAC;IAED,sDAAsD;IACtD,MAAM,mBAAmB,GAAG,oBAAoB,CAAC,QAAQ,6EAA2D,CAAC;IACrH,IAAI,mBAAmB,wCAA4B,IAAI,mBAAmB,8CAA+B,EAAE,CAAC;QAC3G,OAAO,KAAK,CAAC;IACd,CAAC;IAED,wDAAwD;IACxD,MAAM,qBAAqB,GAAG,oBAAoB,CAAC,QAAQ,uFAA+D,CAAC;IAC3H,MAAM,cAAc,GAAG,oBAAoB,CAAC,QAAQ,mEAAiD,CAAC;IACtG,IAAI,qBAAqB,oDAAmC,IAAI,qBAAqB,kDAAkC,IAAI,cAAc,qCAAwB,EAAE,CAAC;QACnK,OAAO,KAAK,CAAC;IACd,CAAC;IAED,wDAAwD;IACxD,IAAI,oBAAoB,CAAC,QAAQ,uEAAwC,EAAE,CAAC;QAC3E,OAAO,KAAK,CAAC;IACd,CAAC;IAED,OAAO,IAAI,CAAC;AACb,CAAC","file":"layoutService.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { refineServiceDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { ILayoutService } from '../../../../platform/layout/browser/layoutService.js';\nimport { Part } from '../../../browser/part.js';\nimport { IDimension } from '../../../../base/browser/dom.js';\nimport { Direction, IViewSize } from '../../../../base/browser/ui/grid/grid.js';\nimport { isMacintosh, isNative, isWeb } from '../../../../base/common/platform.js';\nimport { isAuxiliaryWindow } from '../../../../base/browser/window.js';\nimport { CustomTitleBarVisibility, TitleBarSetting, getMenuBarVisibility, hasCustomTitlebar, hasNativeMenu, hasNativeTitlebar } from '../../../../platform/window/common/window.js';\nimport { isFullscreen, isWCOEnabled } from '../../../../base/browser/browser.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IDisposable } from '../../../../base/common/lifecycle.js';\n\nexport const IWorkbenchLayoutService = refineServiceDecorator<ILayoutService, IWorkbenchLayoutService>(ILayoutService);\n\nexport const enum Parts {\n\tTITLEBAR_PART = 'workbench.parts.titlebar',\n\tBANNER_PART = 'workbench.parts.banner',\n\tACTIVITYBAR_PART = 'workbench.parts.activitybar',\n\tSIDEBAR_PART = 'workbench.parts.sidebar',\n\tPANEL_PART = 'workbench.parts.panel',\n\tAUXILIARYBAR_PART = 'workbench.parts.auxiliarybar',\n\tEDITOR_PART = 'workbench.parts.editor',\n\tSTATUSBAR_PART = 'workbench.parts.statusbar'\n}\n\nexport const enum ZenModeSettings {\n\tSHOW_TABS = 'zenMode.showTabs',\n\tHIDE_LINENUMBERS = 'zenMode.hideLineNumbers',\n\tHIDE_STATUSBAR = 'zenMode.hideStatusBar',\n\tHIDE_ACTIVITYBAR = 'zenMode.hideActivityBar',\n\tCENTER_LAYOUT = 'zenMode.centerLayout',\n\tFULLSCREEN = 'zenMode.fullScreen',\n\tRESTORE = 'zenMode.restore',\n\tSILENT_NOTIFICATIONS = 'zenMode.silentNotifications',\n}\n\nexport const enum LayoutSettings {\n\tACTIVITY_BAR_LOCATION = 'workbench.activityBar.location',\n\tEDITOR_TABS_MODE = 'workbench.editor.showTabs',\n\tEDITOR_ACTIONS_LOCATION = 'workbench.editor.editorActionsLocation',\n\tCOMMAND_CENTER = 'window.commandCenter',\n\tLAYOUT_ACTIONS = 'workbench.layoutControl.enabled'\n}\n\nexport const enum ActivityBarPosition {\n\tDEFAULT = 'default',\n\tTOP = 'top',\n\tBOTTOM = 'bottom',\n\tHIDDEN = 'hidden'\n}\n\nexport const enum EditorTabsMode {\n\tMULTIPLE = 'multiple',\n\tSINGLE = 'single',\n\tNONE = 'none'\n}\n\nexport const enum EditorActionsLocation {\n\tDEFAULT = 'default',\n\tTITLEBAR = 'titleBar',\n\tHIDDEN = 'hidden'\n}\n\nexport const enum Position {\n\tLEFT,\n\tRIGHT,\n\tBOTTOM,\n\tTOP\n}\n\nexport function isHorizontal(position: Position): boolean {\n\treturn position === Position.BOTTOM || position === Position.TOP;\n}\n\nexport const enum PartOpensMaximizedOptions {\n\tALWAYS,\n\tNEVER,\n\tREMEMBER_LAST\n}\n\nexport type PanelAlignment = 'left' | 'center' | 'right' | 'justify';\n\nexport function positionToString(position: Position): string {\n\tswitch (position) {\n\t\tcase Position.LEFT: return 'left';\n\t\tcase Position.RIGHT: return 'right';\n\t\tcase Position.BOTTOM: return 'bottom';\n\t\tcase Position.TOP: return 'top';\n\t\tdefault: return 'bottom';\n\t}\n}\n\nconst positionsByString: { [key: string]: Position } = {\n\t[positionToString(Position.LEFT)]: Position.LEFT,\n\t[positionToString(Position.RIGHT)]: Position.RIGHT,\n\t[positionToString(Position.BOTTOM)]: Position.BOTTOM,\n\t[positionToString(Position.TOP)]: Position.TOP\n};\n\nexport function positionFromString(str: string): Position {\n\treturn positionsByString[str];\n}\n\nfunction partOpensMaximizedSettingToString(setting: PartOpensMaximizedOptions): string {\n\tswitch (setting) {\n\t\tcase PartOpensMaximizedOptions.ALWAYS: return 'always';\n\t\tcase PartOpensMaximizedOptions.NEVER: return 'never';\n\t\tcase PartOpensMaximizedOptions.REMEMBER_LAST: return 'preserve';\n\t\tdefault: return 'preserve';\n\t}\n}\n\nconst partOpensMaximizedByString: { [key: string]: PartOpensMaximizedOptions } = {\n\t[partOpensMaximizedSettingToString(PartOpensMaximizedOptions.ALWAYS)]: PartOpensMaximizedOptions.ALWAYS,\n\t[partOpensMaximizedSettingToString(PartOpensMaximizedOptions.NEVER)]: PartOpensMaximizedOptions.NEVER,\n\t[partOpensMaximizedSettingToString(PartOpensMaximizedOptions.REMEMBER_LAST)]: PartOpensMaximizedOptions.REMEMBER_LAST\n};\n\nexport function partOpensMaximizedFromString(str: string): PartOpensMaximizedOptions {\n\treturn partOpensMaximizedByString[str];\n}\n\nexport type MULTI_WINDOW_PARTS = Parts.EDITOR_PART | Parts.STATUSBAR_PART | Parts.TITLEBAR_PART;\nexport type SINGLE_WINDOW_PARTS = Exclude<Parts, MULTI_WINDOW_PARTS>;\n\nexport function isMultiWindowPart(part: Parts): part is MULTI_WINDOW_PARTS {\n\treturn part === Parts.EDITOR_PART ||\n\t\tpart === Parts.STATUSBAR_PART ||\n\t\tpart === Parts.TITLEBAR_PART;\n}\n\nexport interface IWorkbenchLayoutService extends ILayoutService {\n\n\treadonly _serviceBrand: undefined;\n\n\t/**\n\t * Emits when the zen mode is enabled or disabled.\n\t */\n\treadonly onDidChangeZenMode: Event<boolean>;\n\n\t/**\n\t * Emits when the target window is maximized or unmaximized.\n\t */\n\treadonly onDidChangeWindowMaximized: Event<{ readonly windowId: number; readonly maximized: boolean }>;\n\n\t/**\n\t * Emits when main editor centered layout is enabled or disabled.\n\t */\n\treadonly onDidChangeMainEditorCenteredLayout: Event<boolean>;\n\n\t/*\n\t * Emit when panel position changes.\n\t */\n\treadonly onDidChangePanelPosition: Event<string>;\n\n\t/**\n\t * Emit when panel alignment changes.\n\t */\n\treadonly onDidChangePanelAlignment: Event<PanelAlignment>;\n\n\t/**\n\t * Emit when part visibility changes\n\t */\n\treadonly onDidChangePartVisibility: Event<void>;\n\n\t/**\n\t * Emit when notifications (toasts or center) visibility changes.\n\t */\n\treadonly onDidChangeNotificationsVisibility: Event<boolean>;\n\n\t/*\n\t * Emit when auxiliary bar maximized state changes.\n\t */\n\treadonly onDidChangeAuxiliaryBarMaximized: Event<void>;\n\n\t/**\n\t * True if a default layout with default editors was applied at startup\n\t */\n\treadonly openedDefaultEditors: boolean;\n\n\t/**\n\t * Run a layout of the workbench.\n\t */\n\tlayout(): void;\n\n\t/**\n\t * Asks the part service if all parts have been fully restored. For editor part\n\t * this means that the contents of visible editors have loaded.\n\t */\n\tisRestored(): boolean;\n\n\t/**\n\t * A promise for to await the `isRestored()` condition to be `true`.\n\t */\n\treadonly whenRestored: Promise<void>;\n\n\t/**\n\t * Returns whether the given part has the keyboard focus or not.\n\t */\n\thasFocus(part: Parts): boolean;\n\n\t/**\n\t * Focuses the part in the target window. If the part is not visible this is a noop.\n\t */\n\tfocusPart(part: SINGLE_WINDOW_PARTS): void;\n\tfocusPart(part: MULTI_WINDOW_PARTS, targetWindow: Window): void;\n\tfocusPart(part: Parts, targetWindow: Window): void;\n\n\t/**\n\t * Returns the target window container or parts HTML element within, if there is one.\n\t */\n\tgetContainer(targetWindow: Window): HTMLElement;\n\tgetContainer(targetWindow: Window, part: Parts): HTMLElement | undefined;\n\n\t/**\n\t * Returns if the part is visible in the target window.\n\t */\n\tisVisible(part: SINGLE_WINDOW_PARTS): boolean;\n\tisVisible(part: MULTI_WINDOW_PARTS, targetWindow: Window): boolean;\n\tisVisible(part: Parts, targetWindow: Window): boolean;\n\n\t/**\n\t * Set part hidden or not in the target window.\n\t */\n\tsetPartHidden(hidden: boolean, part: Parts): void;\n\n\t/**\n\t * Maximizes the panel height if the panel is not already maximized.\n\t * Shrinks the panel to the default starting size if the panel is maximized.\n\t */\n\ttoggleMaximizedPanel(): void;\n\n\t/**\n\t * Returns true if the panel is maximized.\n\t */\n\tisPanelMaximized(): boolean;\n\n\t/**\n\t * Maximizes the auxiliary sidebar by hiding the editor and panel areas.\n\t * Restores the previous layout if the auxiliary sidebar is already maximized.\n\t */\n\ttoggleMaximizedAuxiliaryBar(): void;\n\n\t/**\n\t * Maximizes or restores the auxiliary sidebar.\n\t *\n\t * @returns `true` if there was a change in the maximization state.\n\t */\n\tsetAuxiliaryBarMaximized(maximized: boolean): boolean;\n\n\t/**\n\t * Returns true if the auxiliary sidebar is maximized.\n\t */\n\tisAuxiliaryBarMaximized(): boolean;\n\n\t/**\n\t * Returns true if the main window has a border.\n\t */\n\thasMainWindowBorder(): boolean;\n\n\t/**\n\t * Returns the main window border radius if any.\n\t */\n\tgetMainWindowBorderRadius(): string | undefined;\n\n\t/**\n\t * Gets the current side bar position. Note that the sidebar can be hidden too.\n\t */\n\tgetSideBarPosition(): Position;\n\n\t/**\n\t * Toggles the menu bar visibility.\n\t */\n\ttoggleMenuBar(): void;\n\n\t/*\n\t * Gets the current panel position. Note that the panel can be hidden too.\n\t */\n\tgetPanelPosition(): Position;\n\n\t/**\n\t * Sets the panel position.\n\t */\n\tsetPanelPosition(position: Position): void;\n\n\t/**\n\t * Gets the panel alignement.\n\t */\n\tgetPanelAlignment(): PanelAlignment;\n\n\t/**\n\t * Sets the panel alignment.\n\t */\n\tsetPanelAlignment(alignment: PanelAlignment): void;\n\n\t/**\n\t * Gets the maximum possible size for editor in the given container.\n\t */\n\tgetMaximumEditorDimensions(container: HTMLElement): IDimension;\n\n\t/**\n\t * Toggles the workbench in and out of zen mode - parts get hidden and window goes fullscreen.\n\t */\n\ttoggleZenMode(): void;\n\n\t/**\n\t * Returns whether the centered editor layout is active on the main editor part.\n\t */\n\tisMainEditorLayoutCentered(): boolean;\n\n\t/**\n\t * Sets the main editor part in and out of centered layout.\n\t */\n\tcenterMainEditorLayout(active: boolean): void;\n\n\t/**\n\t * Get the provided parts size in the main window.\n\t */\n\tgetSize(part: Parts): IViewSize;\n\n\t/**\n\t * Set the provided parts size in the main window.\n\t */\n\tsetSize(part: Parts, size: IViewSize): void;\n\n\t/**\n\t * Resize the provided part in the main window.\n\t */\n\tresizePart(part: Parts, sizeChangeWidth: number, sizeChangeHeight: number): void;\n\n\t/**\n\t * Register a part to participate in the layout.\n\t */\n\tregisterPart(part: Part): IDisposable;\n\n\t/**\n\t * Returns whether the target window is maximized.\n\t */\n\tisWindowMaximized(targetWindow: Window): boolean;\n\n\t/**\n\t * Updates the maximized state of the target window.\n\t */\n\tupdateWindowMaximizedState(targetWindow: Window, maximized: boolean): void;\n\n\t/**\n\t * Returns the next visible view part in a given direction in the main window.\n\t */\n\tgetVisibleNeighborPart(part: Parts, direction: Direction): Parts | undefined;\n}\n\nexport function shouldShowCustomTitleBar(configurationService: IConfigurationService, window: Window, menuBarToggled?: boolean): boolean {\n\tif (!hasCustomTitlebar(configurationService)) {\n\t\treturn false;\n\t}\n\n\tconst inFullscreen = isFullscreen(window);\n\tconst nativeTitleBarEnabled = hasNativeTitlebar(configurationService);\n\n\tif (!isWeb) {\n\t\tconst showCustomTitleBar = configurationService.getValue<CustomTitleBarVisibility>(TitleBarSetting.CUSTOM_TITLE_BAR_VISIBILITY);\n\t\tif (showCustomTitleBar === CustomTitleBarVisibility.NEVER && nativeTitleBarEnabled || showCustomTitleBar === CustomTitleBarVisibility.WINDOWED && inFullscreen) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tif (!isTitleBarEmpty(configurationService)) {\n\t\treturn true;\n\t}\n\n\t// Hide custom title bar when native title bar enabled and custom title bar is empty\n\tif (nativeTitleBarEnabled && hasNativeMenu(configurationService)) {\n\t\treturn false;\n\t}\n\n\t// macOS desktop does not need a title bar when full screen\n\tif (isMacintosh && isNative) {\n\t\treturn !inFullscreen;\n\t}\n\n\t// non-fullscreen native must show the title bar\n\tif (isNative && !inFullscreen) {\n\t\treturn true;\n\t}\n\n\t// if WCO is visible, we have to show the title bar\n\tif (isWCOEnabled() && !inFullscreen) {\n\t\treturn true;\n\t}\n\n\t// remaining behavior is based on menubar visibility\n\tconst menuBarVisibility = !isAuxiliaryWindow(window) ? getMenuBarVisibility(configurationService) : 'hidden';\n\tswitch (menuBarVisibility) {\n\t\tcase 'classic':\n\t\t\treturn !inFullscreen || !!menuBarToggled;\n\t\tcase 'compact':\n\t\tcase 'hidden':\n\t\t\treturn false;\n\t\tcase 'toggle':\n\t\t\treturn !!menuBarToggled;\n\t\tcase 'visible':\n\t\t\treturn true;\n\t\tdefault:\n\t\t\treturn isWeb ? false : !inFullscreen || !!menuBarToggled;\n\t}\n}\n\nfunction isTitleBarEmpty(configurationService: IConfigurationService): boolean {\n\n\t// with the command center enabled, we should always show\n\tif (configurationService.getValue<boolean>(LayoutSettings.COMMAND_CENTER)) {\n\t\treturn false;\n\t}\n\n\t// with the activity bar on top, we should always show\n\tconst activityBarPosition = configurationService.getValue<ActivityBarPosition>(LayoutSettings.ACTIVITY_BAR_LOCATION);\n\tif (activityBarPosition === ActivityBarPosition.TOP || activityBarPosition === ActivityBarPosition.BOTTOM) {\n\t\treturn false;\n\t}\n\n\t// with the editor actions on top, we should always show\n\tconst editorActionsLocation = configurationService.getValue<EditorActionsLocation>(LayoutSettings.EDITOR_ACTIONS_LOCATION);\n\tconst editorTabsMode = configurationService.getValue<EditorTabsMode>(LayoutSettings.EDITOR_TABS_MODE);\n\tif (editorActionsLocation === EditorActionsLocation.TITLEBAR || editorActionsLocation === EditorActionsLocation.DEFAULT && editorTabsMode === EditorTabsMode.NONE) {\n\t\treturn false;\n\t}\n\n\t// with the layout actions on top, we should always show\n\tif (configurationService.getValue<boolean>(LayoutSettings.LAYOUT_ACTIONS)) {\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { refineServiceDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { ILayoutService } from '../../../../platform/layout/browser/layoutService.js';\nimport { Part } from '../../../browser/part.js';\nimport { IDimension } from '../../../../base/browser/dom.js';\nimport { Direction, IViewSize } from '../../../../base/browser/ui/grid/grid.js';\nimport { isMacintosh, isNative, isWeb } from '../../../../base/common/platform.js';\nimport { isAuxiliaryWindow } from '../../../../base/browser/window.js';\nimport { CustomTitleBarVisibility, TitleBarSetting, getMenuBarVisibility, hasCustomTitlebar, hasNativeMenu, hasNativeTitlebar } from '../../../../platform/window/common/window.js';\nimport { isFullscreen, isWCOEnabled } from '../../../../base/browser/browser.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IDisposable } from '../../../../base/common/lifecycle.js';\n\nexport const IWorkbenchLayoutService = refineServiceDecorator<ILayoutService, IWorkbenchLayoutService>(ILayoutService);\n\nexport const enum Parts {\n\tTITLEBAR_PART = 'workbench.parts.titlebar',\n\tBANNER_PART = 'workbench.parts.banner',\n\tACTIVITYBAR_PART = 'workbench.parts.activitybar',\n\tSIDEBAR_PART = 'workbench.parts.sidebar',\n\tPANEL_PART = 'workbench.parts.panel',\n\tAUXILIARYBAR_PART = 'workbench.parts.auxiliarybar',\n\tEDITOR_PART = 'workbench.parts.editor',\n\tSTATUSBAR_PART = 'workbench.parts.statusbar'\n}\n\nexport const enum ZenModeSettings {\n\tSHOW_TABS = 'zenMode.showTabs',\n\tHIDE_LINENUMBERS = 'zenMode.hideLineNumbers',\n\tHIDE_STATUSBAR = 'zenMode.hideStatusBar',\n\tHIDE_ACTIVITYBAR = 'zenMode.hideActivityBar',\n\tCENTER_LAYOUT = 'zenMode.centerLayout',\n\tFULLSCREEN = 'zenMode.fullScreen',\n\tRESTORE = 'zenMode.restore',\n\tSILENT_NOTIFICATIONS = 'zenMode.silentNotifications',\n}\n\nexport const enum LayoutSettings {\n\tACTIVITY_BAR_LOCATION = 'workbench.activityBar.location',\n\tEDITOR_TABS_MODE = 'workbench.editor.showTabs',\n\tEDITOR_ACTIONS_LOCATION = 'workbench.editor.editorActionsLocation',\n\tCOMMAND_CENTER = 'window.commandCenter',\n\tLAYOUT_ACTIONS = 'workbench.layoutControl.enabled'\n}\n\nexport const enum ActivityBarPosition {\n\tDEFAULT = 'default',\n\tTOP = 'top',\n\tBOTTOM = 'bottom',\n\tHIDDEN = 'hidden'\n}\n\nexport const enum EditorTabsMode {\n\tMULTIPLE = 'multiple',\n\tSINGLE = 'single',\n\tNONE = 'none'\n}\n\nexport const enum EditorActionsLocation {\n\tDEFAULT = 'default',\n\tTITLEBAR = 'titleBar',\n\tHIDDEN = 'hidden'\n}\n\nexport const enum Position {\n\tLEFT,\n\tRIGHT,\n\tBOTTOM,\n\tTOP\n}\n\nexport function isHorizontal(position: Position): boolean {\n\treturn position === Position.BOTTOM || position === Position.TOP;\n}\n\nexport const enum PartOpensMaximizedOptions {\n\tALWAYS,\n\tNEVER,\n\tREMEMBER_LAST\n}\n\nexport type PanelAlignment = 'left' | 'center' | 'right' | 'justify';\n\nexport function positionToString(position: Position): string {\n\tswitch (position) {\n\t\tcase Position.LEFT: return 'left';\n\t\tcase Position.RIGHT: return 'right';\n\t\tcase Position.BOTTOM: return 'bottom';\n\t\tcase Position.TOP: return 'top';\n\t\tdefault: return 'bottom';\n\t}\n}\n\nconst positionsByString: { [key: string]: Position } = {\n\t[positionToString(Position.LEFT)]: Position.LEFT,\n\t[positionToString(Position.RIGHT)]: Position.RIGHT,\n\t[positionToString(Position.BOTTOM)]: Position.BOTTOM,\n\t[positionToString(Position.TOP)]: Position.TOP\n};\n\nexport function positionFromString(str: string): Position {\n\treturn positionsByString[str];\n}\n\nfunction partOpensMaximizedSettingToString(setting: PartOpensMaximizedOptions): string {\n\tswitch (setting) {\n\t\tcase PartOpensMaximizedOptions.ALWAYS: return 'always';\n\t\tcase PartOpensMaximizedOptions.NEVER: return 'never';\n\t\tcase PartOpensMaximizedOptions.REMEMBER_LAST: return 'preserve';\n\t\tdefault: return 'preserve';\n\t}\n}\n\nconst partOpensMaximizedByString: { [key: string]: PartOpensMaximizedOptions } = {\n\t[partOpensMaximizedSettingToString(PartOpensMaximizedOptions.ALWAYS)]: PartOpensMaximizedOptions.ALWAYS,\n\t[partOpensMaximizedSettingToString(PartOpensMaximizedOptions.NEVER)]: PartOpensMaximizedOptions.NEVER,\n\t[partOpensMaximizedSettingToString(PartOpensMaximizedOptions.REMEMBER_LAST)]: PartOpensMaximizedOptions.REMEMBER_LAST\n};\n\nexport function partOpensMaximizedFromString(str: string): PartOpensMaximizedOptions {\n\treturn partOpensMaximizedByString[str];\n}\n\nexport type MULTI_WINDOW_PARTS = Parts.EDITOR_PART | Parts.STATUSBAR_PART | Parts.TITLEBAR_PART;\nexport type SINGLE_WINDOW_PARTS = Exclude<Parts, MULTI_WINDOW_PARTS>;\n\nexport function isMultiWindowPart(part: Parts): part is MULTI_WINDOW_PARTS {\n\treturn part === Parts.EDITOR_PART ||\n\t\tpart === Parts.STATUSBAR_PART ||\n\t\tpart === Parts.TITLEBAR_PART;\n}\n\nexport interface IWorkbenchLayoutService extends ILayoutService {\n\n\treadonly _serviceBrand: undefined;\n\n\t/**\n\t * Emits when the zen mode is enabled or disabled.\n\t */\n\treadonly onDidChangeZenMode: Event<boolean>;\n\n\t/**\n\t * Emits when the target window is maximized or unmaximized.\n\t */\n\treadonly onDidChangeWindowMaximized: Event<{ readonly windowId: number; readonly maximized: boolean }>;\n\n\t/**\n\t * Emits when main editor centered layout is enabled or disabled.\n\t */\n\treadonly onDidChangeMainEditorCenteredLayout: Event<boolean>;\n\n\t/*\n\t * Emit when panel position changes.\n\t */\n\treadonly onDidChangePanelPosition: Event<string>;\n\n\t/**\n\t * Emit when panel alignment changes.\n\t */\n\treadonly onDidChangePanelAlignment: Event<PanelAlignment>;\n\n\t/**\n\t * Emit when part visibility changes\n\t */\n\treadonly onDidChangePartVisibility: Event<void>;\n\n\t/**\n\t * Emit when notifications (toasts or center) visibility changes.\n\t */\n\treadonly onDidChangeNotificationsVisibility: Event<boolean>;\n\n\t/*\n\t * Emit when auxiliary bar maximized state changes.\n\t */\n\treadonly onDidChangeAuxiliaryBarMaximized: Event<void>;\n\n\t/**\n\t * True if a default layout with default editors was applied at startup\n\t */\n\treadonly openedDefaultEditors: boolean;\n\n\t/**\n\t * Run a layout of the workbench.\n\t */\n\tlayout(): void;\n\n\t/**\n\t * Asks the part service if all parts have been fully restored. For editor part\n\t * this means that the contents of visible editors have loaded.\n\t */\n\tisRestored(): boolean;\n\n\t/**\n\t * A promise for to await the `isRestored()` condition to be `true`.\n\t */\n\treadonly whenRestored: Promise<void>;\n\n\t/**\n\t * Returns whether the given part has the keyboard focus or not.\n\t */\n\thasFocus(part: Parts): boolean;\n\n\t/**\n\t * Focuses the part in the target window. If the part is not visible this is a noop.\n\t */\n\tfocusPart(part: SINGLE_WINDOW_PARTS): void;\n\tfocusPart(part: MULTI_WINDOW_PARTS, targetWindow: Window): void;\n\tfocusPart(part: Parts, targetWindow: Window): void;\n\n\t/**\n\t * Returns the target window container or parts HTML element within, if there is one.\n\t */\n\tgetContainer(targetWindow: Window): HTMLElement;\n\tgetContainer(targetWindow: Window, part: Parts): HTMLElement | undefined;\n\n\t/**\n\t * Returns if the part is visible in the target window.\n\t */\n\tisVisible(part: SINGLE_WINDOW_PARTS): boolean;\n\tisVisible(part: MULTI_WINDOW_PARTS, targetWindow: Window): boolean;\n\tisVisible(part: Parts, targetWindow: Window): boolean;\n\n\t/**\n\t * Set part hidden or not in the target window.\n\t */\n\tsetPartHidden(hidden: boolean, part: Parts): void;\n\n\t/**\n\t * Maximizes the panel height if the panel is not already maximized.\n\t * Shrinks the panel to the default starting size if the panel is maximized.\n\t */\n\ttoggleMaximizedPanel(): void;\n\n\t/**\n\t * Returns true if the panel is maximized.\n\t */\n\tisPanelMaximized(): boolean;\n\n\t/**\n\t * Maximizes the auxiliary sidebar by hiding the editor and panel areas.\n\t * Restores the previous layout if the auxiliary sidebar is already maximized.\n\t */\n\ttoggleMaximizedAuxiliaryBar(): void;\n\n\t/**\n\t * Maximizes or restores the auxiliary sidebar.\n\t *\n\t * @returns `true` if there was a change in the maximization state.\n\t */\n\tsetAuxiliaryBarMaximized(maximized: boolean): boolean;\n\n\t/**\n\t * Returns true if the auxiliary sidebar is maximized.\n\t */\n\tisAuxiliaryBarMaximized(): boolean;\n\n\t/**\n\t * Returns true if the main window has a border.\n\t */\n\thasMainWindowBorder(): boolean;\n\n\t/**\n\t * Returns the main window border radius if any.\n\t */\n\tgetMainWindowBorderRadius(): string | undefined;\n\n\t/**\n\t * Gets the current side bar position. Note that the sidebar can be hidden too.\n\t */\n\tgetSideBarPosition(): Position;\n\n\t/**\n\t * Toggles the menu bar visibility.\n\t */\n\ttoggleMenuBar(): void;\n\n\t/*\n\t * Gets the current panel position. Note that the panel can be hidden too.\n\t */\n\tgetPanelPosition(): Position;\n\n\t/**\n\t * Sets the panel position.\n\t */\n\tsetPanelPosition(position: Position): void;\n\n\t/**\n\t * Gets the panel alignement.\n\t */\n\tgetPanelAlignment(): PanelAlignment;\n\n\t/**\n\t * Sets the panel alignment.\n\t */\n\tsetPanelAlignment(alignment: PanelAlignment): void;\n\n\t/**\n\t * Gets the maximum possible size for editor in the given container.\n\t */\n\tgetMaximumEditorDimensions(container: HTMLElement): IDimension;\n\n\t/**\n\t * Toggles the workbench in and out of zen mode - parts get hidden and window goes fullscreen.\n\t */\n\ttoggleZenMode(): void;\n\n\t/**\n\t * Returns whether the centered editor layout is active on the main editor part.\n\t */\n\tisMainEditorLayoutCentered(): boolean;\n\n\t/**\n\t * Sets the main editor part in and out of centered layout.\n\t */\n\tcenterMainEditorLayout(active: boolean): void;\n\n\t/**\n\t * Get the provided parts size in the main window.\n\t */\n\tgetSize(part: Parts): IViewSize;\n\n\t/**\n\t * Set the provided parts size in the main window.\n\t */\n\tsetSize(part: Parts, size: IViewSize): void;\n\n\t/**\n\t * Resize the provided part in the main window.\n\t */\n\tresizePart(part: Parts, sizeChangeWidth: number, sizeChangeHeight: number): void;\n\n\t/**\n\t * Register a part to participate in the layout.\n\t */\n\tregisterPart(part: Part): IDisposable;\n\n\t/**\n\t * Returns whether the target window is maximized.\n\t */\n\tisWindowMaximized(targetWindow: Window): boolean;\n\n\t/**\n\t * Updates the maximized state of the target window.\n\t */\n\tupdateWindowMaximizedState(targetWindow: Window, maximized: boolean): void;\n\n\t/**\n\t * Returns the next visible view part in a given direction in the main window.\n\t */\n\tgetVisibleNeighborPart(part: Parts, direction: Direction): Parts | undefined;\n}\n\nexport function shouldShowCustomTitleBar(configurationService: IConfigurationService, window: Window, menuBarToggled?: boolean): boolean {\n\tif (!hasCustomTitlebar(configurationService)) {\n\t\treturn false;\n\t}\n\n\tconst inFullscreen = isFullscreen(window);\n\tconst nativeTitleBarEnabled = hasNativeTitlebar(configurationService);\n\n\tif (!isWeb) {\n\t\tconst showCustomTitleBar = configurationService.getValue<CustomTitleBarVisibility>(TitleBarSetting.CUSTOM_TITLE_BAR_VISIBILITY);\n\t\tif (showCustomTitleBar === CustomTitleBarVisibility.NEVER && nativeTitleBarEnabled || showCustomTitleBar === CustomTitleBarVisibility.WINDOWED && inFullscreen) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tif (!isTitleBarEmpty(configurationService)) {\n\t\treturn true;\n\t}\n\n\t// Hide custom title bar when native title bar enabled and custom title bar is empty\n\tif (nativeTitleBarEnabled && hasNativeMenu(configurationService)) {\n\t\treturn false;\n\t}\n\n\t// macOS desktop does not need a title bar when full screen\n\tif (isMacintosh && isNative) {\n\t\treturn !inFullscreen;\n\t}\n\n\t// non-fullscreen native must show the title bar\n\tif (isNative && !inFullscreen) {\n\t\treturn true;\n\t}\n\n\t// if WCO is visible, we have to show the title bar\n\tif (isWCOEnabled() && !inFullscreen) {\n\t\treturn true;\n\t}\n\n\t// remaining behavior is based on menubar visibility\n\tconst menuBarVisibility = !isAuxiliaryWindow(window) ? getMenuBarVisibility(configurationService) : 'hidden';\n\tswitch (menuBarVisibility) {\n\t\tcase 'classic':\n\t\t\treturn !inFullscreen || !!menuBarToggled;\n\t\tcase 'compact':\n\t\tcase 'hidden':\n\t\t\treturn false;\n\t\tcase 'toggle':\n\t\t\treturn !!menuBarToggled;\n\t\tcase 'visible':\n\t\t\treturn true;\n\t\tdefault:\n\t\t\treturn isWeb ? false : !inFullscreen || !!menuBarToggled;\n\t}\n}\n\nfunction isTitleBarEmpty(configurationService: IConfigurationService): boolean {\n\n\t// with the command center enabled, we should always show\n\tif (configurationService.getValue<boolean>(LayoutSettings.COMMAND_CENTER)) {\n\t\treturn false;\n\t}\n\n\t// with the activity bar on top, we should always show\n\tconst activityBarPosition = configurationService.getValue<ActivityBarPosition>(LayoutSettings.ACTIVITY_BAR_LOCATION);\n\tif (activityBarPosition === ActivityBarPosition.TOP || activityBarPosition === ActivityBarPosition.BOTTOM) {\n\t\treturn false;\n\t}\n\n\t// with the editor actions on top, we should always show\n\tconst editorActionsLocation = configurationService.getValue<EditorActionsLocation>(LayoutSettings.EDITOR_ACTIONS_LOCATION);\n\tconst editorTabsMode = configurationService.getValue<EditorTabsMode>(LayoutSettings.EDITOR_TABS_MODE);\n\tif (editorActionsLocation === EditorActionsLocation.TITLEBAR || editorActionsLocation === EditorActionsLocation.DEFAULT && editorTabsMode === EditorTabsMode.NONE) {\n\t\treturn false;\n\t}\n\n\t// with the layout actions on top, we should always show\n\tif (configurationService.getValue<boolean>(LayoutSettings.LAYOUT_ACTIONS)) {\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n"]}