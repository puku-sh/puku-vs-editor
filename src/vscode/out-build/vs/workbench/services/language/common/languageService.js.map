{"version":3,"sources":["vs/workbench/services/language/common/languageService.ts"],"names":[],"mappings":"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","file":"languageService.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { localize } from '../../../../nls.js';\nimport { clearConfiguredLanguageAssociations, registerConfiguredLanguageAssociation } from '../../../../editor/common/services/languagesAssociations.js';\nimport { joinPath } from '../../../../base/common/resources.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ILanguageExtensionPoint, ILanguageService } from '../../../../editor/common/languages/language.js';\nimport { LanguageService } from '../../../../editor/common/services/languageService.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IEnvironmentService } from '../../../../platform/environment/common/environment.js';\nimport { FILES_ASSOCIATIONS_CONFIG, IFilesConfiguration } from '../../../../platform/files/common/files.js';\nimport { IExtensionService } from '../../extensions/common/extensions.js';\nimport { ExtensionMessageCollector, ExtensionsRegistry, IExtensionPoint, IExtensionPointUser } from '../../extensions/common/extensionsRegistry.js';\nimport { InstantiationType, registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { IExtensionManifest } from '../../../../platform/extensions/common/extensions.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { Extensions, IExtensionFeatureTableRenderer, IExtensionFeaturesRegistry, IRenderedData, IRowData, ITableData } from '../../extensionManagement/common/extensionFeatures.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { SyncDescriptor } from '../../../../platform/instantiation/common/descriptors.js';\nimport { index } from '../../../../base/common/arrays.js';\nimport { MarkdownString } from '../../../../base/common/htmlContent.js';\nimport { isString } from '../../../../base/common/types.js';\n\nexport interface IRawLanguageExtensionPoint {\n\tid: string;\n\textensions: string[];\n\tfilenames: string[];\n\tfilenamePatterns: string[];\n\tfirstLine: string;\n\taliases: string[];\n\tmimetypes: string[];\n\tconfiguration: string;\n\ticon: { light: string; dark: string };\n}\n\nexport const languagesExtPoint: IExtensionPoint<IRawLanguageExtensionPoint[]> = ExtensionsRegistry.registerExtensionPoint<IRawLanguageExtensionPoint[]>({\n\textensionPoint: 'languages',\n\tjsonSchema: {\n\t\tdescription: localize('vscode.extension.contributes.languages', 'Contributes language declarations.'),\n\t\ttype: 'array',\n\t\titems: {\n\t\t\ttype: 'object',\n\t\t\tdefaultSnippets: [{ body: { id: '${1:languageId}', aliases: ['${2:label}'], extensions: ['${3:extension}'], configuration: './language-configuration.json' } }],\n\t\t\tproperties: {\n\t\t\t\tid: {\n\t\t\t\t\tdescription: localize('vscode.extension.contributes.languages.id', 'ID of the language.'),\n\t\t\t\t\ttype: 'string'\n\t\t\t\t},\n\t\t\t\taliases: {\n\t\t\t\t\tdescription: localize('vscode.extension.contributes.languages.aliases', 'Name aliases for the language.'),\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\titems: {\n\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\textensions: {\n\t\t\t\t\tdescription: localize('vscode.extension.contributes.languages.extensions', 'File extensions associated to the language.'),\n\t\t\t\t\tdefault: ['.foo'],\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\titems: {\n\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfilenames: {\n\t\t\t\t\tdescription: localize('vscode.extension.contributes.languages.filenames', 'File names associated to the language.'),\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\titems: {\n\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfilenamePatterns: {\n\t\t\t\t\tdescription: localize('vscode.extension.contributes.languages.filenamePatterns', 'File name glob patterns associated to the language.'),\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\titems: {\n\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tmimetypes: {\n\t\t\t\t\tdescription: localize('vscode.extension.contributes.languages.mimetypes', 'Mime types associated to the language.'),\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\titems: {\n\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfirstLine: {\n\t\t\t\t\tdescription: localize('vscode.extension.contributes.languages.firstLine', 'A regular expression matching the first line of a file of the language.'),\n\t\t\t\t\ttype: 'string'\n\t\t\t\t},\n\t\t\t\tconfiguration: {\n\t\t\t\t\tdescription: localize('vscode.extension.contributes.languages.configuration', 'A relative path to a file containing configuration options for the language.'),\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tdefault: './language-configuration.json'\n\t\t\t\t},\n\t\t\t\ticon: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tdescription: localize('vscode.extension.contributes.languages.icon', 'A icon to use as file icon, if no icon theme provides one for the language.'),\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tlight: {\n\t\t\t\t\t\t\tdescription: localize('vscode.extension.contributes.languages.icon.light', 'Icon path when a light theme is used'),\n\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdark: {\n\t\t\t\t\t\t\tdescription: localize('vscode.extension.contributes.languages.icon.dark', 'Icon path when a dark theme is used'),\n\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tactivationEventsGenerator: function* (languageContributions) {\n\t\tfor (const languageContribution of languageContributions) {\n\t\t\tif (languageContribution.id && languageContribution.configuration) {\n\t\t\t\tyield `onLanguage:${languageContribution.id}`;\n\t\t\t}\n\t\t}\n\t}\n});\n\nclass LanguageTableRenderer extends Disposable implements IExtensionFeatureTableRenderer {\n\n\treadonly type = 'table';\n\n\tshouldRender(manifest: IExtensionManifest): boolean {\n\t\treturn !!manifest.contributes?.languages;\n\t}\n\n\trender(manifest: IExtensionManifest): IRenderedData<ITableData> {\n\t\tconst contributes = manifest.contributes;\n\t\tconst rawLanguages = contributes?.languages || [];\n\t\tconst languages: { id: string; name: string; extensions: string[]; hasGrammar: boolean; hasSnippets: boolean }[] = [];\n\t\tfor (const l of rawLanguages) {\n\t\t\tif (isValidLanguageExtensionPoint(l)) {\n\t\t\t\tlanguages.push({\n\t\t\t\t\tid: l.id,\n\t\t\t\t\tname: (l.aliases || [])[0] || l.id,\n\t\t\t\t\textensions: l.extensions || [],\n\t\t\t\t\thasGrammar: false,\n\t\t\t\t\thasSnippets: false\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tconst byId = index(languages, l => l.id);\n\n\t\tconst grammars = contributes?.grammars || [];\n\t\tgrammars.forEach(grammar => {\n\t\t\tif (!isString(grammar.language)) {\n\t\t\t\t// ignore the grammars that are only used as includes in other grammars\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet language = byId[grammar.language];\n\n\t\t\tif (language) {\n\t\t\t\tlanguage.hasGrammar = true;\n\t\t\t} else {\n\t\t\t\tlanguage = { id: grammar.language, name: grammar.language, extensions: [], hasGrammar: true, hasSnippets: false };\n\t\t\t\tbyId[language.id] = language;\n\t\t\t\tlanguages.push(language);\n\t\t\t}\n\t\t});\n\n\t\tconst snippets = contributes?.snippets || [];\n\t\tsnippets.forEach(snippet => {\n\t\t\tif (!isString(snippet.language)) {\n\t\t\t\t// ignore invalid snippets\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet language = byId[snippet.language];\n\n\t\t\tif (language) {\n\t\t\t\tlanguage.hasSnippets = true;\n\t\t\t} else {\n\t\t\t\tlanguage = { id: snippet.language, name: snippet.language, extensions: [], hasGrammar: false, hasSnippets: true };\n\t\t\t\tbyId[language.id] = language;\n\t\t\t\tlanguages.push(language);\n\t\t\t}\n\t\t});\n\n\t\tif (!languages.length) {\n\t\t\treturn { data: { headers: [], rows: [] }, dispose: () => { } };\n\t\t}\n\n\t\tconst headers = [\n\t\t\tlocalize('language id', \"ID\"),\n\t\t\tlocalize('language name', \"Name\"),\n\t\t\tlocalize('file extensions', \"File Extensions\"),\n\t\t\tlocalize('grammar', \"Grammar\"),\n\t\t\tlocalize('snippets', \"Snippets\")\n\t\t];\n\t\tconst rows: IRowData[][] = languages.sort((a, b) => a.id.localeCompare(b.id))\n\t\t\t.map(l => {\n\t\t\t\treturn [\n\t\t\t\t\tl.id, l.name,\n\t\t\t\t\tnew MarkdownString().appendMarkdown(`${l.extensions.map(e => `\\`${e}\\``).join('&nbsp;')}`),\n\t\t\t\t\tl.hasGrammar ? '✔︎' : '\\u2014',\n\t\t\t\t\tl.hasSnippets ? '✔︎' : '\\u2014'\n\t\t\t\t];\n\t\t\t});\n\n\t\treturn {\n\t\t\tdata: {\n\t\t\t\theaders,\n\t\t\t\trows\n\t\t\t},\n\t\t\tdispose: () => { }\n\t\t};\n\t}\n}\n\nRegistry.as<IExtensionFeaturesRegistry>(Extensions.ExtensionFeaturesRegistry).registerExtensionFeature({\n\tid: 'languages',\n\tlabel: localize('languages', \"Programming Languages\"),\n\taccess: {\n\t\tcanToggle: false\n\t},\n\trenderer: new SyncDescriptor(LanguageTableRenderer),\n});\n\nexport class WorkbenchLanguageService extends LanguageService {\n\tprivate _configurationService: IConfigurationService;\n\tprivate _extensionService: IExtensionService;\n\n\tconstructor(\n\t\t@IExtensionService extensionService: IExtensionService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IEnvironmentService environmentService: IEnvironmentService,\n\t\t@ILogService private readonly logService: ILogService\n\t) {\n\t\tsuper(environmentService.verbose || environmentService.isExtensionDevelopment || !environmentService.isBuilt);\n\t\tthis._configurationService = configurationService;\n\t\tthis._extensionService = extensionService;\n\n\t\tlanguagesExtPoint.setHandler((extensions: readonly IExtensionPointUser<IRawLanguageExtensionPoint[]>[]) => {\n\t\t\tconst allValidLanguages: ILanguageExtensionPoint[] = [];\n\n\t\t\tfor (let i = 0, len = extensions.length; i < len; i++) {\n\t\t\t\tconst extension = extensions[i];\n\n\t\t\t\tif (!Array.isArray(extension.value)) {\n\t\t\t\t\textension.collector.error(localize('invalid', \"Invalid `contributes.{0}`. Expected an array.\", languagesExtPoint.name));\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tfor (let j = 0, lenJ = extension.value.length; j < lenJ; j++) {\n\t\t\t\t\tconst ext = extension.value[j];\n\t\t\t\t\tif (isValidLanguageExtensionPoint(ext, extension.collector)) {\n\t\t\t\t\t\tlet configuration: URI | undefined = undefined;\n\t\t\t\t\t\tif (ext.configuration) {\n\t\t\t\t\t\t\tconfiguration = joinPath(extension.description.extensionLocation, ext.configuration);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tallValidLanguages.push({\n\t\t\t\t\t\t\tid: ext.id,\n\t\t\t\t\t\t\textensions: ext.extensions,\n\t\t\t\t\t\t\tfilenames: ext.filenames,\n\t\t\t\t\t\t\tfilenamePatterns: ext.filenamePatterns,\n\t\t\t\t\t\t\tfirstLine: ext.firstLine,\n\t\t\t\t\t\t\taliases: ext.aliases,\n\t\t\t\t\t\t\tmimetypes: ext.mimetypes,\n\t\t\t\t\t\t\tconfiguration: configuration,\n\t\t\t\t\t\t\ticon: ext.icon && {\n\t\t\t\t\t\t\t\tlight: joinPath(extension.description.extensionLocation, ext.icon.light),\n\t\t\t\t\t\t\t\tdark: joinPath(extension.description.extensionLocation, ext.icon.dark)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._registry.setDynamicLanguages(allValidLanguages);\n\n\t\t});\n\n\t\tthis.updateMime();\n\t\tthis._register(this._configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration(FILES_ASSOCIATIONS_CONFIG)) {\n\t\t\t\tthis.updateMime();\n\t\t\t}\n\t\t}));\n\t\tthis._extensionService.whenInstalledExtensionsRegistered().then(() => {\n\t\t\tthis.updateMime();\n\t\t});\n\n\t\tthis._register(this.onDidRequestRichLanguageFeatures((languageId) => {\n\t\t\t// extension activation\n\t\t\tthis._extensionService.activateByEvent(`onLanguage:${languageId}`);\n\t\t\tthis._extensionService.activateByEvent(`onLanguage`);\n\t\t}));\n\t}\n\n\tprivate updateMime(): void {\n\t\tconst configuration = this._configurationService.getValue<IFilesConfiguration>();\n\n\t\t// Clear user configured mime associations\n\t\tclearConfiguredLanguageAssociations();\n\n\t\t// Register based on settings\n\t\tif (configuration.files?.associations) {\n\t\t\tObject.keys(configuration.files.associations).forEach(pattern => {\n\t\t\t\tconst langId = configuration.files!.associations[pattern];\n\t\t\t\tif (typeof langId !== 'string') {\n\t\t\t\t\tthis.logService.warn(`Ignoring configured 'files.associations' for '${pattern}' because its type is not a string but '${typeof langId}'`);\n\n\t\t\t\t\treturn; // https://github.com/microsoft/vscode/issues/147284\n\t\t\t\t}\n\n\t\t\t\tconst mimeType = this.getMimeType(langId) || `text/x-${langId}`;\n\n\t\t\t\tregisterConfiguredLanguageAssociation({ id: langId, mime: mimeType, filepattern: pattern });\n\t\t\t});\n\t\t}\n\n\t\tthis._onDidChange.fire();\n\t}\n}\n\nfunction isUndefinedOrStringArray(value: string[]): boolean {\n\tif (typeof value === 'undefined') {\n\t\treturn true;\n\t}\n\tif (!Array.isArray(value)) {\n\t\treturn false;\n\t}\n\treturn value.every(item => typeof item === 'string');\n}\n\nfunction isValidLanguageExtensionPoint(value: any, collector?: ExtensionMessageCollector): value is IRawLanguageExtensionPoint {\n\tif (!value) {\n\t\tcollector?.error(localize('invalid.empty', \"Empty value for `contributes.{0}`\", languagesExtPoint.name));\n\t\treturn false;\n\t}\n\tif (typeof value.id !== 'string') {\n\t\tcollector?.error(localize('require.id', \"property `{0}` is mandatory and must be of type `string`\", 'id'));\n\t\treturn false;\n\t}\n\tif (!isUndefinedOrStringArray(value.extensions)) {\n\t\tcollector?.error(localize('opt.extensions', \"property `{0}` can be omitted and must be of type `string[]`\", 'extensions'));\n\t\treturn false;\n\t}\n\tif (!isUndefinedOrStringArray(value.filenames)) {\n\t\tcollector?.error(localize('opt.filenames', \"property `{0}` can be omitted and must be of type `string[]`\", 'filenames'));\n\t\treturn false;\n\t}\n\tif (typeof value.firstLine !== 'undefined' && typeof value.firstLine !== 'string') {\n\t\tcollector?.error(localize('opt.firstLine', \"property `{0}` can be omitted and must be of type `string`\", 'firstLine'));\n\t\treturn false;\n\t}\n\tif (typeof value.configuration !== 'undefined' && typeof value.configuration !== 'string') {\n\t\tcollector?.error(localize('opt.configuration', \"property `{0}` can be omitted and must be of type `string`\", 'configuration'));\n\t\treturn false;\n\t}\n\tif (!isUndefinedOrStringArray(value.aliases)) {\n\t\tcollector?.error(localize('opt.aliases', \"property `{0}` can be omitted and must be of type `string[]`\", 'aliases'));\n\t\treturn false;\n\t}\n\tif (!isUndefinedOrStringArray(value.mimetypes)) {\n\t\tcollector?.error(localize('opt.mimetypes', \"property `{0}` can be omitted and must be of type `string[]`\", 'mimetypes'));\n\t\treturn false;\n\t}\n\tif (typeof value.icon !== 'undefined') {\n\t\tif (typeof value.icon !== 'object' || typeof value.icon.light !== 'string' || typeof value.icon.dark !== 'string') {\n\t\t\tcollector?.error(localize('opt.icon', \"property `{0}` can be omitted and must be of type `object` with properties `{1}` and `{2}` of type `string`\", 'icon', 'light', 'dark'));\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n}\n\nregisterSingleton(ILanguageService, WorkbenchLanguageService, InstantiationType.Eager);\n"]}