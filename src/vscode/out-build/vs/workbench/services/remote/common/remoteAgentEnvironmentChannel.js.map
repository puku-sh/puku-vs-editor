{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/services/remote/common/remoteAgentEnvironmentChannel.ts","vs/workbench/services/remote/common/remoteAgentEnvironmentChannel.ts"],"names":[],"mappings":"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","file":"remoteAgentEnvironmentChannel.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as platform from '../../../../base/common/platform.js';\nimport * as performance from '../../../../base/common/performance.js';\nimport { URI, UriComponents, UriDto } from '../../../../base/common/uri.js';\nimport { IChannel } from '../../../../base/parts/ipc/common/ipc.js';\nimport { IRemoteAgentEnvironment } from '../../../../platform/remote/common/remoteAgentEnvironment.js';\nimport { IDiagnosticInfoOptions, IDiagnosticInfo } from '../../../../platform/diagnostics/common/diagnostics.js';\nimport { ITelemetryData, TelemetryLevel } from '../../../../platform/telemetry/common/telemetry.js';\nimport { IExtensionHostExitInfo } from './remoteAgentService.js';\nimport { revive } from '../../../../base/common/marshalling.js';\nimport { IUserDataProfile } from '../../../../platform/userDataProfile/common/userDataProfile.js';\nimport { ProtocolConstants } from '../../../../base/parts/ipc/common/ipc.net.js';\n\nexport interface IGetEnvironmentDataArguments {\n\tremoteAuthority: string;\n\tprofile?: string;\n}\n\nexport interface IGetExtensionHostExitInfoArguments {\n\tremoteAuthority: string;\n\treconnectionToken: string;\n}\n\nexport interface IRemoteAgentEnvironmentDTO {\n\tpid: number;\n\tconnectionToken: string;\n\tappRoot: UriComponents;\n\tsettingsPath: UriComponents;\n\tmcpResource: UriComponents;\n\tlogsPath: UriComponents;\n\textensionHostLogsPath: UriComponents;\n\tglobalStorageHome: UriComponents;\n\tworkspaceStorageHome: UriComponents;\n\tlocalHistoryHome: UriComponents;\n\tuserHome: UriComponents;\n\tos: platform.OperatingSystem;\n\tarch: string;\n\tmarks: performance.PerformanceMark[];\n\tuseHostProxy: boolean;\n\tprofiles: {\n\t\tall: UriDto<IUserDataProfile[]>;\n\t\thome: UriComponents;\n\t};\n\tisUnsupportedGlibc: boolean;\n\treconnectionGraceTime?: number;\n}\n\nexport class RemoteExtensionEnvironmentChannelClient {\n\n\tstatic async getEnvironmentData(channel: IChannel, remoteAuthority: string, profile: string | undefined): Promise<IRemoteAgentEnvironment> {\n\t\tconst args: IGetEnvironmentDataArguments = {\n\t\t\tremoteAuthority,\n\t\t\tprofile\n\t\t};\n\n\t\tconst data = await channel.call<IRemoteAgentEnvironmentDTO>('getEnvironmentData', args);\n\t\tconst reconnectionGraceTime = (typeof data.reconnectionGraceTime === 'number' && data.reconnectionGraceTime >= 0)\n\t\t\t? data.reconnectionGraceTime\n\t\t\t: ProtocolConstants.ReconnectionGraceTime;\n\n\t\treturn {\n\t\t\tpid: data.pid,\n\t\t\tconnectionToken: data.connectionToken,\n\t\t\tappRoot: URI.revive(data.appRoot),\n\t\t\tsettingsPath: URI.revive(data.settingsPath),\n\t\t\tmcpResource: URI.revive(data.mcpResource),\n\t\t\tlogsPath: URI.revive(data.logsPath),\n\t\t\textensionHostLogsPath: URI.revive(data.extensionHostLogsPath),\n\t\t\tglobalStorageHome: URI.revive(data.globalStorageHome),\n\t\t\tworkspaceStorageHome: URI.revive(data.workspaceStorageHome),\n\t\t\tlocalHistoryHome: URI.revive(data.localHistoryHome),\n\t\t\tuserHome: URI.revive(data.userHome),\n\t\t\tos: data.os,\n\t\t\tarch: data.arch,\n\t\t\tmarks: data.marks,\n\t\t\tuseHostProxy: data.useHostProxy,\n\t\t\tprofiles: revive(data.profiles),\n\t\t\tisUnsupportedGlibc: data.isUnsupportedGlibc,\n\t\t\treconnectionGraceTime\n\t\t};\n\t}\n\n\tstatic async getExtensionHostExitInfo(channel: IChannel, remoteAuthority: string, reconnectionToken: string): Promise<IExtensionHostExitInfo | null> {\n\t\tconst args: IGetExtensionHostExitInfoArguments = {\n\t\t\tremoteAuthority,\n\t\t\treconnectionToken\n\t\t};\n\t\treturn channel.call<IExtensionHostExitInfo | null>('getExtensionHostExitInfo', args);\n\t}\n\n\tstatic getDiagnosticInfo(channel: IChannel, options: IDiagnosticInfoOptions): Promise<IDiagnosticInfo> {\n\t\treturn channel.call<IDiagnosticInfo>('getDiagnosticInfo', options);\n\t}\n\n\tstatic updateTelemetryLevel(channel: IChannel, telemetryLevel: TelemetryLevel): Promise<void> {\n\t\treturn channel.call<void>('updateTelemetryLevel', { telemetryLevel });\n\t}\n\n\tstatic logTelemetry(channel: IChannel, eventName: string, data: ITelemetryData): Promise<void> {\n\t\treturn channel.call<void>('logTelemetry', { eventName, data });\n\t}\n\n\tstatic flushTelemetry(channel: IChannel): Promise<void> {\n\t\treturn channel.call<void>('flushTelemetry');\n\t}\n\n\tstatic async ping(channel: IChannel): Promise<void> {\n\t\tawait channel.call<void>('ping');\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as platform from '../../../../base/common/platform.js';\nimport * as performance from '../../../../base/common/performance.js';\nimport { URI, UriComponents, UriDto } from '../../../../base/common/uri.js';\nimport { IChannel } from '../../../../base/parts/ipc/common/ipc.js';\nimport { IRemoteAgentEnvironment } from '../../../../platform/remote/common/remoteAgentEnvironment.js';\nimport { IDiagnosticInfoOptions, IDiagnosticInfo } from '../../../../platform/diagnostics/common/diagnostics.js';\nimport { ITelemetryData, TelemetryLevel } from '../../../../platform/telemetry/common/telemetry.js';\nimport { IExtensionHostExitInfo } from './remoteAgentService.js';\nimport { revive } from '../../../../base/common/marshalling.js';\nimport { IUserDataProfile } from '../../../../platform/userDataProfile/common/userDataProfile.js';\nimport { ProtocolConstants } from '../../../../base/parts/ipc/common/ipc.net.js';\n\nexport interface IGetEnvironmentDataArguments {\n\tremoteAuthority: string;\n\tprofile?: string;\n}\n\nexport interface IGetExtensionHostExitInfoArguments {\n\tremoteAuthority: string;\n\treconnectionToken: string;\n}\n\nexport interface IRemoteAgentEnvironmentDTO {\n\tpid: number;\n\tconnectionToken: string;\n\tappRoot: UriComponents;\n\tsettingsPath: UriComponents;\n\tmcpResource: UriComponents;\n\tlogsPath: UriComponents;\n\textensionHostLogsPath: UriComponents;\n\tglobalStorageHome: UriComponents;\n\tworkspaceStorageHome: UriComponents;\n\tlocalHistoryHome: UriComponents;\n\tuserHome: UriComponents;\n\tos: platform.OperatingSystem;\n\tarch: string;\n\tmarks: performance.PerformanceMark[];\n\tuseHostProxy: boolean;\n\tprofiles: {\n\t\tall: UriDto<IUserDataProfile[]>;\n\t\thome: UriComponents;\n\t};\n\tisUnsupportedGlibc: boolean;\n\treconnectionGraceTime?: number;\n}\n\nexport class RemoteExtensionEnvironmentChannelClient {\n\n\tstatic async getEnvironmentData(channel: IChannel, remoteAuthority: string, profile: string | undefined): Promise<IRemoteAgentEnvironment> {\n\t\tconst args: IGetEnvironmentDataArguments = {\n\t\t\tremoteAuthority,\n\t\t\tprofile\n\t\t};\n\n\t\tconst data = await channel.call<IRemoteAgentEnvironmentDTO>('getEnvironmentData', args);\n\t\tconst reconnectionGraceTime = (typeof data.reconnectionGraceTime === 'number' && data.reconnectionGraceTime >= 0)\n\t\t\t? data.reconnectionGraceTime\n\t\t\t: ProtocolConstants.ReconnectionGraceTime;\n\n\t\treturn {\n\t\t\tpid: data.pid,\n\t\t\tconnectionToken: data.connectionToken,\n\t\t\tappRoot: URI.revive(data.appRoot),\n\t\t\tsettingsPath: URI.revive(data.settingsPath),\n\t\t\tmcpResource: URI.revive(data.mcpResource),\n\t\t\tlogsPath: URI.revive(data.logsPath),\n\t\t\textensionHostLogsPath: URI.revive(data.extensionHostLogsPath),\n\t\t\tglobalStorageHome: URI.revive(data.globalStorageHome),\n\t\t\tworkspaceStorageHome: URI.revive(data.workspaceStorageHome),\n\t\t\tlocalHistoryHome: URI.revive(data.localHistoryHome),\n\t\t\tuserHome: URI.revive(data.userHome),\n\t\t\tos: data.os,\n\t\t\tarch: data.arch,\n\t\t\tmarks: data.marks,\n\t\t\tuseHostProxy: data.useHostProxy,\n\t\t\tprofiles: revive(data.profiles),\n\t\t\tisUnsupportedGlibc: data.isUnsupportedGlibc,\n\t\t\treconnectionGraceTime\n\t\t};\n\t}\n\n\tstatic async getExtensionHostExitInfo(channel: IChannel, remoteAuthority: string, reconnectionToken: string): Promise<IExtensionHostExitInfo | null> {\n\t\tconst args: IGetExtensionHostExitInfoArguments = {\n\t\t\tremoteAuthority,\n\t\t\treconnectionToken\n\t\t};\n\t\treturn channel.call<IExtensionHostExitInfo | null>('getExtensionHostExitInfo', args);\n\t}\n\n\tstatic getDiagnosticInfo(channel: IChannel, options: IDiagnosticInfoOptions): Promise<IDiagnosticInfo> {\n\t\treturn channel.call<IDiagnosticInfo>('getDiagnosticInfo', options);\n\t}\n\n\tstatic updateTelemetryLevel(channel: IChannel, telemetryLevel: TelemetryLevel): Promise<void> {\n\t\treturn channel.call<void>('updateTelemetryLevel', { telemetryLevel });\n\t}\n\n\tstatic logTelemetry(channel: IChannel, eventName: string, data: ITelemetryData): Promise<void> {\n\t\treturn channel.call<void>('logTelemetry', { eventName, data });\n\t}\n\n\tstatic flushTelemetry(channel: IChannel): Promise<void> {\n\t\treturn channel.call<void>('flushTelemetry');\n\t}\n\n\tstatic async ping(channel: IChannel): Promise<void> {\n\t\tawait channel.call<void>('ping');\n\t}\n}\n"]}