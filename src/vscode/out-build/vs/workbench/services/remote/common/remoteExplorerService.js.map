{"version":3,"sources":["vs/workbench/services/remote/common/remoteExplorerService.ts"],"names":[],"mappings":"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","file":"remoteExplorerService.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as nls from '../../../../nls.js';\nimport { Event, Emitter } from '../../../../base/common/event.js';\nimport { IInstantiationService, createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { InstantiationType, registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { IStorageService, StorageScope, StorageTarget } from '../../../../platform/storage/common/storage.js';\nimport { ITunnelService, RemoteTunnel, TunnelProtocol } from '../../../../platform/tunnel/common/tunnel.js';\nimport { IDisposable } from '../../../../base/common/lifecycle.js';\nimport { IEditableData } from '../../../common/views.js';\nimport { TunnelInformation, TunnelPrivacy } from '../../../../platform/remote/common/remoteAuthorityResolver.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { Attributes, CandidatePort, TunnelCloseReason, TunnelModel, TunnelProperties, TunnelSource } from './tunnelModel.js';\nimport { ExtensionsRegistry, IExtensionPointUser } from '../../extensions/common/extensionsRegistry.js';\nimport { IExtensionDescription } from '../../../../platform/extensions/common/extensions.js';\nimport { IJSONSchema } from '../../../../base/common/jsonSchema.js';\n\nexport const IRemoteExplorerService = createDecorator<IRemoteExplorerService>('remoteExplorerService');\nexport const REMOTE_EXPLORER_TYPE_KEY: string = 'remote.explorerType';\nexport const TUNNEL_VIEW_ID = '~remote.forwardedPorts';\nexport const TUNNEL_VIEW_CONTAINER_ID = '~remote.forwardedPortsContainer';\nexport const PORT_AUTO_FORWARD_SETTING = 'remote.autoForwardPorts';\nexport const PORT_AUTO_SOURCE_SETTING = 'remote.autoForwardPortsSource';\nexport const PORT_AUTO_FALLBACK_SETTING = 'remote.autoForwardPortsFallback';\nexport const PORT_AUTO_SOURCE_SETTING_PROCESS = 'process';\nexport const PORT_AUTO_SOURCE_SETTING_OUTPUT = 'output';\nexport const PORT_AUTO_SOURCE_SETTING_HYBRID = 'hybrid';\n\nexport enum TunnelType {\n\tCandidate = 'Candidate',\n\tDetected = 'Detected',\n\tForwarded = 'Forwarded',\n\tAdd = 'Add'\n}\n\nexport interface ITunnelItem {\n\ttunnelType: TunnelType;\n\tremoteHost: string;\n\tremotePort: number;\n\tlocalAddress?: string;\n\tprotocol: TunnelProtocol;\n\tlocalUri?: URI;\n\tlocalPort?: number;\n\tname?: string;\n\tcloseable?: boolean;\n\tsource: {\n\t\tsource: TunnelSource;\n\t\tdescription: string;\n\t};\n\tprivacy: TunnelPrivacy;\n\tprocessDescription?: string;\n\treadonly label: string;\n}\n\nexport enum TunnelEditId {\n\tNone = 0,\n\tNew = 1,\n\tLabel = 2,\n\tLocalPort = 3\n}\n\nexport interface HelpInformation {\n\textensionDescription: IExtensionDescription;\n\tgetStarted?: string | { id: string };\n\tdocumentation?: string;\n\tissues?: string;\n\treportIssue?: string;\n\tremoteName?: string[] | string;\n\tvirtualWorkspace?: string;\n}\n\nconst getStartedWalkthrough: IJSONSchema = {\n\ttype: 'object',\n\trequired: ['id'],\n\tproperties: {\n\t\tid: {\n\t\t\tdescription: nls.localize('getStartedWalkthrough.id', 'The ID of a Get Started walkthrough to open.'),\n\t\t\ttype: 'string'\n\t\t},\n\t}\n};\n\nconst remoteHelpExtPoint = ExtensionsRegistry.registerExtensionPoint<HelpInformation>({\n\textensionPoint: 'remoteHelp',\n\tjsonSchema: {\n\t\tdescription: nls.localize('RemoteHelpInformationExtPoint', 'Contributes help information for Remote'),\n\t\ttype: 'object',\n\t\tproperties: {\n\t\t\t'getStarted': {\n\t\t\t\tdescription: nls.localize('RemoteHelpInformationExtPoint.getStarted', \"The url, or a command that returns the url, to your project's Getting Started page, or a walkthrough ID contributed by your project's extension\"),\n\t\t\t\toneOf: [\n\t\t\t\t\t{ type: 'string' },\n\t\t\t\t\tgetStartedWalkthrough\n\t\t\t\t]\n\t\t\t},\n\t\t\t'documentation': {\n\t\t\t\tdescription: nls.localize('RemoteHelpInformationExtPoint.documentation', \"The url, or a command that returns the url, to your project's documentation page\"),\n\t\t\t\ttype: 'string'\n\t\t\t},\n\t\t\t'feedback': {\n\t\t\t\tdescription: nls.localize('RemoteHelpInformationExtPoint.feedback', \"The url, or a command that returns the url, to your project's feedback reporter\"),\n\t\t\t\ttype: 'string',\n\t\t\t\tmarkdownDeprecationMessage: nls.localize('RemoteHelpInformationExtPoint.feedback.deprecated', \"Use {0} instead\", '`reportIssue`')\n\t\t\t},\n\t\t\t'reportIssue': {\n\t\t\t\tdescription: nls.localize('RemoteHelpInformationExtPoint.reportIssue', \"The url, or a command that returns the url, to your project's issue reporter\"),\n\t\t\t\ttype: 'string'\n\t\t\t},\n\t\t\t'issues': {\n\t\t\t\tdescription: nls.localize('RemoteHelpInformationExtPoint.issues', \"The url, or a command that returns the url, to your project's issues list\"),\n\t\t\t\ttype: 'string'\n\t\t\t}\n\t\t}\n\t}\n});\n\nexport enum PortsEnablement {\n\tDisabled = 0,\n\tViewOnly = 1,\n\tAdditionalFeatures = 2\n}\n\nexport interface IRemoteExplorerService {\n\treadonly _serviceBrand: undefined;\n\treadonly onDidChangeTargetType: Event<string[]>;\n\ttargetType: string[];\n\treadonly onDidChangeHelpInformation: Event<readonly IExtensionPointUser<HelpInformation>[]>;\n\thelpInformation: IExtensionPointUser<HelpInformation>[];\n\treadonly tunnelModel: TunnelModel;\n\treadonly onDidChangeEditable: Event<{ tunnel: ITunnelItem; editId: TunnelEditId } | undefined>;\n\tsetEditable(tunnelItem: ITunnelItem | undefined, editId: TunnelEditId, data: IEditableData | null): void;\n\tgetEditableData(tunnelItem: ITunnelItem | undefined, editId?: TunnelEditId): IEditableData | undefined;\n\tforward(tunnelProperties: TunnelProperties, attributes?: Attributes | null): Promise<RemoteTunnel | string | undefined>;\n\tclose(remote: { host: string; port: number }, reason: TunnelCloseReason): Promise<void>;\n\tsetTunnelInformation(tunnelInformation: TunnelInformation | undefined): void;\n\tsetCandidateFilter(filter: ((candidates: CandidatePort[]) => Promise<CandidatePort[]>) | undefined): IDisposable;\n\tonFoundNewCandidates(candidates: CandidatePort[]): void;\n\trestore(): Promise<void>;\n\tenablePortsFeatures(viewOnly: boolean): void;\n\treadonly onEnabledPortsFeatures: Event<void>;\n\tportsFeaturesEnabled: PortsEnablement;\n\treadonly namedProcesses: Map<number, string>;\n}\n\nclass RemoteExplorerService implements IRemoteExplorerService {\n\tpublic _serviceBrand: undefined;\n\tprivate _targetType: string[] = [];\n\tprivate readonly _onDidChangeTargetType: Emitter<string[]> = new Emitter<string[]>();\n\tpublic readonly onDidChangeTargetType: Event<string[]> = this._onDidChangeTargetType.event;\n\tprivate readonly _onDidChangeHelpInformation: Emitter<readonly IExtensionPointUser<HelpInformation>[]> = new Emitter();\n\tpublic readonly onDidChangeHelpInformation: Event<readonly IExtensionPointUser<HelpInformation>[]> = this._onDidChangeHelpInformation.event;\n\tprivate _helpInformation: IExtensionPointUser<HelpInformation>[] = [];\n\tprivate _tunnelModel: TunnelModel;\n\tprivate _editable: { tunnelItem: ITunnelItem | undefined; editId: TunnelEditId; data: IEditableData } | undefined;\n\tprivate readonly _onDidChangeEditable: Emitter<{ tunnel: ITunnelItem; editId: TunnelEditId } | undefined> = new Emitter();\n\tpublic readonly onDidChangeEditable: Event<{ tunnel: ITunnelItem; editId: TunnelEditId } | undefined> = this._onDidChangeEditable.event;\n\tprivate readonly _onEnabledPortsFeatures: Emitter<void> = new Emitter();\n\tpublic readonly onEnabledPortsFeatures: Event<void> = this._onEnabledPortsFeatures.event;\n\tprivate _portsFeaturesEnabled: PortsEnablement = PortsEnablement.Disabled;\n\tpublic readonly namedProcesses = new Map<number, string>();\n\n\tconstructor(\n\t\t@IStorageService private readonly storageService: IStorageService,\n\t\t@ITunnelService private readonly tunnelService: ITunnelService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t) {\n\t\tthis._tunnelModel = instantiationService.createInstance(TunnelModel);\n\n\t\tremoteHelpExtPoint.setHandler((extensions) => {\n\t\t\tthis._helpInformation.push(...extensions);\n\t\t\tthis._onDidChangeHelpInformation.fire(extensions);\n\t\t});\n\t}\n\n\tget helpInformation(): IExtensionPointUser<HelpInformation>[] {\n\t\treturn this._helpInformation;\n\t}\n\n\tset targetType(name: string[]) {\n\t\t// Can just compare the first element of the array since there are no target overlaps\n\t\tconst current: string = this._targetType.length > 0 ? this._targetType[0] : '';\n\t\tconst newName: string = name.length > 0 ? name[0] : '';\n\t\tif (current !== newName) {\n\t\t\tthis._targetType = name;\n\t\t\tthis.storageService.store(REMOTE_EXPLORER_TYPE_KEY, this._targetType.toString(), StorageScope.WORKSPACE, StorageTarget.MACHINE);\n\t\t\tthis.storageService.store(REMOTE_EXPLORER_TYPE_KEY, this._targetType.toString(), StorageScope.PROFILE, StorageTarget.USER);\n\t\t\tthis._onDidChangeTargetType.fire(this._targetType);\n\t\t}\n\t}\n\tget targetType(): string[] {\n\t\treturn this._targetType;\n\t}\n\n\tget tunnelModel(): TunnelModel {\n\t\treturn this._tunnelModel;\n\t}\n\n\tforward(tunnelProperties: TunnelProperties, attributes?: Attributes | null): Promise<RemoteTunnel | string | undefined> {\n\t\treturn this.tunnelModel.forward(tunnelProperties, attributes);\n\t}\n\n\tclose(remote: { host: string; port: number }, reason: TunnelCloseReason): Promise<void> {\n\t\treturn this.tunnelModel.close(remote.host, remote.port, reason);\n\t}\n\n\tsetTunnelInformation(tunnelInformation: TunnelInformation | undefined): void {\n\t\tif (tunnelInformation?.features) {\n\t\t\tthis.tunnelService.setTunnelFeatures(tunnelInformation.features);\n\t\t}\n\t\tthis.tunnelModel.addEnvironmentTunnels(tunnelInformation?.environmentTunnels);\n\t}\n\n\tsetEditable(tunnelItem: ITunnelItem | undefined, editId: TunnelEditId, data: IEditableData | null): void {\n\t\tif (!data) {\n\t\t\tthis._editable = undefined;\n\t\t} else {\n\t\t\tthis._editable = { tunnelItem, data, editId };\n\t\t}\n\t\tthis._onDidChangeEditable.fire(tunnelItem ? { tunnel: tunnelItem, editId } : undefined);\n\t}\n\n\tgetEditableData(tunnelItem: ITunnelItem | undefined, editId: TunnelEditId): IEditableData | undefined {\n\t\treturn (this._editable &&\n\t\t\t((!tunnelItem && (tunnelItem === this._editable.tunnelItem)) ||\n\t\t\t\t(tunnelItem && (this._editable.tunnelItem?.remotePort === tunnelItem.remotePort) && (this._editable.tunnelItem.remoteHost === tunnelItem.remoteHost)\n\t\t\t\t\t&& (this._editable.editId === editId)))) ?\n\t\t\tthis._editable.data : undefined;\n\t}\n\n\tsetCandidateFilter(filter: (candidates: CandidatePort[]) => Promise<CandidatePort[]>): IDisposable {\n\t\tif (!filter) {\n\t\t\treturn {\n\t\t\t\tdispose: () => { }\n\t\t\t};\n\t\t}\n\t\tthis.tunnelModel.setCandidateFilter(filter);\n\t\treturn {\n\t\t\tdispose: () => {\n\t\t\t\tthis.tunnelModel.setCandidateFilter(undefined);\n\t\t\t}\n\t\t};\n\t}\n\n\tonFoundNewCandidates(candidates: CandidatePort[]): void {\n\t\tthis.tunnelModel.setCandidates(candidates);\n\t}\n\n\trestore(): Promise<void> {\n\t\treturn this.tunnelModel.restoreForwarded();\n\t}\n\n\tenablePortsFeatures(viewOnly: boolean): void {\n\t\tthis._portsFeaturesEnabled = viewOnly ? PortsEnablement.ViewOnly : PortsEnablement.AdditionalFeatures;\n\t\tthis._onEnabledPortsFeatures.fire();\n\t}\n\n\tget portsFeaturesEnabled(): PortsEnablement {\n\t\treturn this._portsFeaturesEnabled;\n\t}\n}\n\nregisterSingleton(IRemoteExplorerService, RemoteExplorerService, InstantiationType.Delayed);\n"]}