{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/services/preferences/test/browser/keybindingsEditorModel.test.ts","vs/workbench/services/preferences/test/browser/keybindingsEditorModel.test.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,MAAM,MAAM,QAAQ,CAAC;AAC5B,OAAO,KAAK,IAAI,MAAM,oCAAoC,CAAC;AAC3D,OAAO,EAAE,EAAE,EAAmB,MAAM,wCAAwC,CAAC;AAE7E,OAAO,EAAE,YAAY,EAAE,MAAM,2CAA2C,CAAC;AACzE,OAAO,EAAE,gBAAgB,EAAE,MAAM,qDAAqD,CAAC;AACvF,OAAO,EAAE,kBAAkB,EAAE,MAAM,yDAAyD,CAAC;AAC7F,OAAO,EAAE,iBAAiB,EAAE,MAAM,0CAA0C,CAAC;AAC7E,OAAO,EAAE,cAAc,EAAE,MAAM,yDAAyD,CAAC;AACzF,OAAO,EAAE,sBAAsB,EAAE,MAAM,yCAAyC,CAAC;AACjF,OAAO,EAAE,sBAAsB,EAAE,MAAM,qEAAqE,CAAC;AAC7G,OAAO,EAAE,0BAA0B,EAAE,MAAM,yEAAyE,CAAC;AAErH,OAAO,EAAE,wBAAwB,EAAE,MAAM,+EAA+E,CAAC;AAEzH,OAAO,EAAE,OAAO,EAAE,YAAY,EAAE,eAAe,EAAE,MAAM,mDAAmD,CAAC;AAC3G,OAAO,EAAE,mBAAmB,EAAyB,MAAM,yDAAyD,CAAC;AACrH,OAAO,EAAE,uCAAuC,EAAE,MAAM,0CAA0C,CAAC;AASnG,KAAK,CAAC,wBAAwB,EAAE,GAAG,EAAE;IAEpC,MAAM,WAAW,GAAG,uCAAuC,EAAE,CAAC;IAC9D,IAAI,oBAA8C,CAAC;IACnD,IAAI,UAAkC,CAAC;IACvC,IAAI,UAAU,GAAqC,EAAE,CAAC;IAEtD,KAAK,CAAC,GAAG,EAAE;QACV,UAAU,GAAG,EAAE,CAAC;QAChB,oBAAoB,GAAG,WAAW,CAAC,GAAG,CAAC,IAAI,wBAAwB,EAAE,CAAC,CAAC;QAEvE,oBAAoB,CAAC,IAAI,CAAC,kBAAkB,EAAE,EAAE,CAAC,CAAC;QAClD,oBAAoB,CAAC,IAAI,CAAC,iBAAiB,EAAE;YAC5C,iCAAiC,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC;YAC9D,IAAI,UAAU,KAAK,OAAO,UAAqC,CAAC,CAAC,CAAC;SAClE,CAAC,CAAC;QACH,UAAU,GAAG,WAAW,CAAC,GAAG,CAAC,oBAAoB,CAAC,cAAc,CAAC,sBAAsB,EAAE,EAAE,CAAC,CAAC,CAAC;QAE9F,WAAW,CAAC,GAAG,CAAC,gBAAgB,CAAC,eAAe,CAAC,4BAA4B,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;IAC5F,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,mCAAmC,EAAE,KAAK,IAAI,EAAE;QACpD,MAAM,QAAQ,GAAG,wBAAwB,CACxC,uBAAuB,CAAC,EAAE,OAAO,EAAE,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,CAAC,EACxG,uBAAuB,CAAC,EAAE,OAAO,EAAE,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,WAAW,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,CAAC,CAClJ,CAAC;QAEF,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,OAAO,GAAG,yBAAyB,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;QAChE,qBAAqB,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;IAC1C,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,oCAAoC,EAAE,KAAK,IAAI,EAAE;QACrD,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,wBAAwB,CACxC,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,CAAC,EAC7E,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,CAAC,CAC7E,CAAC;QAEF,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,OAAO,GAAG,yBAAyB,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;QAChE,qBAAqB,CAAC,OAAO,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC/C,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,8CAA8C,EAAE,KAAK,IAAI,EAAE;QAC/D,MAAM,QAAQ,GAAG,wBAAwB,CACxC,uBAAuB,CAAC,EAAE,OAAO,EAAE,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,CAAC,EACxG,uBAAuB,CAAC,EAAE,OAAO,EAAE,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,WAAW,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,CAAC,CAClJ,CAAC;QAEF,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,OAAO,GAAG,yBAAyB,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;QAClF,qBAAqB,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;IAC1C,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,wDAAwD,EAAE,KAAK,IAAI,EAAE;QACzE,MAAM,WAAW,GAAG,wBAAwB,CAC3C,uBAAuB,CAAC,EAAE,OAAO,EAAE,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,CAAC,EACxG,uBAAuB,CAAC,EAAE,OAAO,EAAE,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,WAAW,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,CAAC,EAClJ,uBAAuB,CAAC,EAAE,OAAO,EAAE,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE,UAAU,EAAE,EAAE,OAAO,2BAAmB,EAAE,EAAE,CAAC,CAC3G,CAAC;QACF,MAAM,QAAQ,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QAElE,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,OAAO,GAAG,yBAAyB,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;QAChE,qBAAqB,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;IAC1C,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,qEAAqE,EAAE,KAAK,IAAI,EAAE;QACtF,MAAM,MAAM,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QACzC,MAAM,WAAW,GAAG,wBAAwB,CAC3C,uBAAuB,CAAC,EAAE,OAAO,EAAE,MAAM,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,CAAC,EACrF,uBAAuB,CAAC,EAAE,OAAO,EAAE,MAAM,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,WAAW,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CACjJ,CAAC;QACF,MAAM,QAAQ,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QAElD,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,OAAO,GAAG,yBAAyB,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;QAChE,qBAAqB,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;IAC1C,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,4CAA4C,EAAE,KAAK,IAAI,EAAE;QAC7D,MAAM,WAAW,GAAG,wBAAwB,CAC3C,uBAAuB,CAAC,EAAE,OAAO,EAAE,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,CAAC,EACxG,uBAAuB,CAAC,EAAE,OAAO,EAAE,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,WAAW,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,CAAC,EAClJ,uBAAuB,CAAC,EAAE,OAAO,EAAE,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,WAAW,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,CAAC,EAClJ,uBAAuB,CAAC,EAAE,OAAO,EAAE,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,WAAW,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,CAAC,CAClJ,CAAC;QAEF,wBAAwB,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,OAAQ,EAAE,SAAS,CAAC,CAAC;QAC7D,wBAAwB,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,OAAQ,EAAE,SAAS,CAAC,CAAC;QAE7D,MAAM,QAAQ,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QAClF,oBAAoB,CAAC,IAAI,CAAC,kBAAkB,EAAE,gBAAgB,EAAE,GAAG,EAAE,CAAC,WAAW,CAAC,CAAC;QACnF,oBAAoB,CAAC,IAAI,CAAC,kBAAkB,EAAE,uBAAuB,EAAE,GAAG,EAAE,CAAC,WAAW,CAAC,CAAC;QAE1F,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,OAAO,GAAG,yBAAyB,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;QAChE,qBAAqB,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;IAC1C,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,kEAAkE,EAAE,KAAK,IAAI,EAAE;QACnF,MAAM,MAAM,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QACzC,MAAM,WAAW,GAAG,wBAAwB,CAC3C,uBAAuB,CAAC,EAAE,OAAO,EAAE,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,CAAC,EACxG,uBAAuB,CAAC,EAAE,OAAO,EAAE,MAAM,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,WAAW,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,CAAC,EAC/H,uBAAuB,CAAC,EAAE,OAAO,EAAE,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,WAAW,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,CAAC,EAClJ,uBAAuB,CAAC,EAAE,OAAO,EAAE,MAAM,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CACvG,CAAC;QAEF,wBAAwB,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,OAAQ,EAAE,YAAY,CAAC,CAAC;QAChE,MAAM,QAAQ,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QAElF,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,OAAO,GAAG,yBAAyB,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;QAChE,qBAAqB,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;IAC1C,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,wDAAwD,EAAE,KAAK,IAAI,EAAE;QACzE,MAAM,QAAQ,GAAG,wBAAwB,CACxC,uBAAuB,CAAC,EAAE,OAAO,EAAE,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,CAAC,EACxG,uBAAuB,CAAC,EAAE,OAAO,EAAE,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,WAAW,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,CAAC,EAClJ,uBAAuB,CAAC,EAAE,OAAO,EAAE,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE,UAAU,EAAE,EAAE,OAAO,2BAAmB,EAAE,EAAE,CAAC,CAC3G,CAAC;QAEF,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,OAAO,GAAG,yBAAyB,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC;QACtE,qBAAqB,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;IAC1C,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,2CAA2C,EAAE,KAAK,IAAI,EAAE;QAC5D,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,IAAI,EAAE,sBAAsB,EAAE,CAAC,CAAC;QACxJ,wBAAwB,CAAC,QAAQ,CAAC,CAAC;QAEnC,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QACvC,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,cAAc,CAAC,OAAO,EAAE,QAAQ,CAAC,OAAO,CAAC,CAAC;QACpE,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,cAAc,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC;QAC3D,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,cAAc,CAAC,mBAAmB,EAAE,IAAI,CAAC,CAAC;QACpE,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,cAAc,CAAC,UAAU,CAAC,YAAY,EAAE,EAAE,QAAQ,CAAC,kBAAmB,CAAC,YAAY,EAAE,CAAC,CAAC;QACjH,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,QAAQ,CAAC,IAAK,CAAC,SAAS,EAAE,CAAC,CAAC;IAC5E,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,wCAAwC,EAAE,KAAK,IAAI,EAAE;QACzD,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,IAAI,EAAE,sBAAsB,EAAE,CAAC,CAAC;QACxJ,wBAAwB,CAAC,QAAQ,CAAC,CAAC;QACnC,wBAAwB,CAAC,QAAQ,CAAC,OAAQ,EAAE,YAAY,CAAC,CAAC;QAE1D,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QACvC,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,cAAc,CAAC,OAAO,EAAE,QAAQ,CAAC,OAAO,CAAC,CAAC;QACpE,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,cAAc,CAAC,YAAY,EAAE,YAAY,CAAC,CAAC;QACrE,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,cAAc,CAAC,mBAAmB,EAAE,IAAI,CAAC,CAAC;QACpE,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,cAAc,CAAC,UAAU,CAAC,YAAY,EAAE,EAAE,QAAQ,CAAC,kBAAmB,CAAC,YAAY,EAAE,CAAC,CAAC;QACjH,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,QAAQ,CAAC,IAAK,CAAC,SAAS,EAAE,CAAC,CAAC;IAC5E,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,4CAA4C,EAAE,KAAK,IAAI,EAAE;QAC7D,WAAW,CAAC,GAAG,CAAC,gBAAgB,CAAC,eAAe,CAAC,4BAA4B,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;QAC3F,wBAAwB,EAAE,CAAC;QAE3B,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,4BAA4B,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1H,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,cAAc,CAAC,OAAO,EAAE,4BAA4B,CAAC,CAAC;QAChF,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,cAAc,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC;QAC3D,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,cAAc,CAAC,mBAAmB,EAAE,IAAI,CAAC,CAAC;QACpE,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,cAAc,CAAC,UAAU,EAAE,SAAS,CAAC,CAAC;QAChE,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;IACpD,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,iDAAiD,EAAE,KAAK,IAAI,EAAE;QAClE,MAAM,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QACrC,wBAAwB,CAAC,EAAE,EAAE,YAAY,CAAC,CAAC;QAC3C,wBAAwB,EAAE,CAAC;QAE3B,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAChG,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,cAAc,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;QACtD,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,cAAc,CAAC,YAAY,EAAE,YAAY,CAAC,CAAC;QACrE,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,cAAc,CAAC,mBAAmB,EAAE,IAAI,CAAC,CAAC;QACpE,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,cAAc,CAAC,UAAU,EAAE,SAAS,CAAC,CAAC;QAChE,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;IACpD,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,sBAAsB,EAAE,KAAK,IAAI,EAAE;QACvC,MAAM,EAAE,GAAG,mCAAmC,CAAC;QAC/C,wBAAwB,CAAC,EAAE,EAAE,YAAY,CAAC,CAAC;QAC3C,wBAAwB,EAAE,CAAC;QAE3B,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,4BAA4B,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1H,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;IACnB,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,yBAAyB,EAAE,KAAK,IAAI,EAAE;QAC1C,MAAM,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QACrC,wBAAwB,CAAC,EAAE,EAAE,oBAAoB,CAAC,CAAC;QACnD,wBAAwB,EAAE,CAAC;QAE3B,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7G,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;IACnB,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,yBAAyB,EAAE,KAAK,IAAI,EAAE;QAC1C,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,IAAI,EAAE,sBAAsB,EAAE,CAAC,CAAC;QAC7H,wBAAwB,CAAC,QAAQ,CAAC,CAAC;QAEnC,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3G,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;IACnB,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,uBAAuB,EAAE,KAAK,IAAI,EAAE;QACxC,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,IAAI,EAAE,sBAAsB,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QAC/I,wBAAwB,CAAC,QAAQ,CAAC,CAAC;QAEnC,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;QACzG,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;IACnB,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,kDAAkD,EAAE,KAAK,IAAI,EAAE;QACnE,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,IAAI,EAAE,sBAAsB,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;QAC9I,wBAAwB,CAAC,QAAQ,CAAC,CAAC;QAEnC,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;QACrH,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;IACnB,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,+CAA+C,EAAE,KAAK,IAAI,EAAE;QAChE,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,IAAI,EAAE,sBAAsB,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QAC/I,wBAAwB,CAAC,QAAQ,CAAC,CAAC;QAEnC,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;QAClH,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;IACnB,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,kDAAkD,EAAE,KAAK,IAAI,EAAE;QACnE,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,IAAI,EAAE,sBAAsB,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;QAC9I,wBAAwB,CAAC,QAAQ,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,YAAY,EAAE,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;QAE3N,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,YAAY,OAAO,EAAE,CAAC,CAAC;QACvD,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;QACrC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;IACnE,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,6CAA6C,EAAE,KAAK,IAAI,EAAE;QAC9D,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,IAAI,EAAE,sBAAsB,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;QAC9I,wBAAwB,CAAC,QAAQ,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;QAEtM,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,YAAY,OAAO,EAAE,CAAC,CAAC;QACvD,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;QACrC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QAClE,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;IACnE,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,wBAAwB,EAAE,KAAK,IAAI,EAAE;QACzC,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QACvJ,wBAAwB,CAAC,QAAQ,CAAC,CAAC;QAEnC,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;QACjH,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;IACnB,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,mBAAmB,EAAE,KAAK,IAAI,EAAE;QACpC,UAAU,GAAG,WAAW,CAAC,GAAG,CAAC,oBAAoB,CAAC,cAAc,CAAC,sBAAsB,oCAA4B,CAAC,CAAC;QAErH,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QACrL,wBAAwB,CAAC,QAAQ,CAAC,CAAC;QAEnC,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC;QACrG,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;QACrC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QAClF,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;IACpE,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,oBAAoB,EAAE,KAAK,IAAI,EAAE;QACrC,UAAU,GAAG,WAAW,CAAC,GAAG,CAAC,oBAAoB,CAAC,cAAc,CAAC,sBAAsB,oCAA4B,CAAC,CAAC;QAErH,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QACrL,wBAAwB,CAAC,QAAQ,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QAEzM,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC;QACtG,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;QACrC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QAClF,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;IACpE,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,uBAAuB,EAAE,KAAK,IAAI,EAAE;QACxC,UAAU,GAAG,WAAW,CAAC,GAAG,CAAC,oBAAoB,CAAC,cAAc,CAAC,sBAAsB,oCAA4B,CAAC,CAAC;QAErH,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QACrL,wBAAwB,CAAC,QAAQ,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QAEvM,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC;QACzG,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;QACrC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QAClF,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;IACpE,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,uBAAuB,EAAE,KAAK,IAAI,EAAE;QACxC,UAAU,GAAG,WAAW,CAAC,GAAG,CAAC,oBAAoB,CAAC,cAAc,CAAC,sBAAsB,kCAA0B,CAAC,CAAC;QAEnH,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QACrL,wBAAwB,CAAC,QAAQ,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QAExM,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC;QACzG,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;QACrC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QAClF,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;IACpE,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,mBAAmB,EAAE,KAAK,IAAI,EAAE;QACpC,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QACpL,wBAAwB,CAAC,QAAQ,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QAExM,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC;QACrG,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;QACrC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;QACjF,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;IACpE,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,sBAAsB,EAAE,KAAK,IAAI,EAAE;QACvC,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QACpL,wBAAwB,CAAC,QAAQ,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QAExM,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC;QACxG,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;QACrC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;QACjF,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;IACpE,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,oBAAoB,EAAE,KAAK,IAAI,EAAE;QACrC,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QACrL,wBAAwB,CAAC,QAAQ,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QAEzM,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC;QACtG,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;QACrC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QAClF,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;IACpE,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,uBAAuB,EAAE,KAAK,IAAI,EAAE;QACxC,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QACrL,wBAAwB,CAAC,QAAQ,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QAExM,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC;QACzG,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;QACrC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QAClF,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;IACpE,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,qBAAqB,EAAE,KAAK,IAAI,EAAE;QACtC,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QACtL,wBAAwB,CAAC,QAAQ,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QAExM,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC;QACvG,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;QACrC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;QACnF,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;IACpE,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,iBAAiB,EAAE,KAAK,IAAI,EAAE;QAClC,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,6BAAoB,EAAE,SAAS,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QAC1L,wBAAwB,CAAC,QAAQ,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QAExM,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC;QACvG,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;QACrC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QAClF,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;IACpE,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,4BAA4B,EAAE,KAAK,IAAI,EAAE;QAC7C,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,6BAAoB,EAAE,SAAS,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QACxL,wBAAwB,CAAC,QAAQ,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,6BAAoB,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QAE5M,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC;QAC3G,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;QACrC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QAChG,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;IACpE,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,4BAA4B,EAAE,KAAK,IAAI,EAAE;QAC7C,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,6BAAoB,EAAE,SAAS,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QACxL,wBAAwB,CAAC,QAAQ,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,6BAAoB,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QAE5M,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC;QAC3G,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,6BAA6B,EAAE,KAAK,IAAI,EAAE;QAC9C,UAAU,GAAG,WAAW,CAAC,GAAG,CAAC,oBAAoB,CAAC,cAAc,CAAC,sBAAsB,oCAA4B,CAAC,CAAC;QACrH,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QACnM,wBAAwB,CAAC,QAAQ,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QAExM,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC;QAC7G,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;QACrC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QAC/G,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;IACpE,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,6CAA6C,EAAE,KAAK,IAAI,EAAE;QAC9D,UAAU,GAAG,WAAW,CAAC,GAAG,CAAC,oBAAoB,CAAC,cAAc,CAAC,sBAAsB,oCAA4B,CAAC,CAAC;QACrH,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QACrM,wBAAwB,CAAC,QAAQ,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QAExM,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC;QAC/G,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;QACrC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QACjH,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;IACpE,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,sBAAsB,EAAE,KAAK,IAAI,EAAE;QACvC,UAAU,GAAG,WAAW,CAAC,GAAG,CAAC,oBAAoB,CAAC,cAAc,CAAC,sBAAsB,oCAA4B,CAAC,CAAC;QACrH,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,WAAW,EAAE,EAAE,OAAO,yBAAgB,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QAC/O,wBAAwB,CAAC,QAAQ,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QAExM,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC;QAC/G,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;QACrC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QACjH,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;IACpE,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,8BAA8B,EAAE,KAAK,IAAI,EAAE;QAC/C,UAAU,GAAG,WAAW,CAAC,GAAG,CAAC,oBAAoB,CAAC,cAAc,CAAC,sBAAsB,oCAA4B,CAAC,CAAC;QACrH,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,WAAW,EAAE,EAAE,OAAO,yBAAgB,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QAC/O,wBAAwB,CAAC,QAAQ,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QAExM,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC;QACzG,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;QACrC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QAClF,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;IACnF,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,6CAA6C,EAAE,KAAK,IAAI,EAAE;QAC9D,UAAU,GAAG,WAAW,CAAC,GAAG,CAAC,oBAAoB,CAAC,cAAc,CAAC,sBAAsB,oCAA4B,CAAC,CAAC;QACrH,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,WAAW,EAAE,EAAE,OAAO,yBAAgB,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QAC/O,wBAAwB,CAAC,QAAQ,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,WAAW,EAAE,EAAE,OAAO,0BAAiB,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QAEnQ,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,mBAAmB,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC;QACnH,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;QACrC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QACjH,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;IACnF,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,sBAAsB,EAAE,KAAK,IAAI,EAAE;QACvC,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,uBAAc,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QACnL,wBAAwB,CAAC,QAAQ,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,WAAW,EAAE,EAAE,OAAO,uBAAc,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QAE9R,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC;QAC1G,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;QACrC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QACjG,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;IACpE,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,gDAAgD,EAAE,KAAK,IAAI,EAAE;QACjE,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,WAAW,EAAE,EAAE,OAAO,uBAAc,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QAC3Q,wBAAwB,CAAC,QAAQ,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,uBAAc,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QAEtM,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,4BAA4B,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC;QAC5H,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;QACrC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QACjH,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;IAClG,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,2DAA2D,EAAE,KAAK,IAAI,EAAE;QAC5E,UAAU,GAAG,WAAW,CAAC,GAAG,CAAC,oBAAoB,CAAC,cAAc,CAAC,sBAAsB,oCAA4B,CAAC,CAAC;QACrH,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,WAAW,EAAE,EAAE,OAAO,yBAAgB,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QAC7Q,wBAAwB,CAAC,QAAQ,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,WAAW,EAAE,EAAE,OAAO,0BAAiB,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QAEnQ,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,qBAAqB,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC;QACrH,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,iCAAiC,EAAE,KAAK,IAAI,EAAE;QAClD,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,uBAAc,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QACnL,wBAAwB,CAAC,QAAQ,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,WAAW,EAAE,EAAE,OAAO,uBAAc,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QAE9R,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC;QAC7G,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;QACrC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QACjG,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;IACpE,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,6BAA6B,EAAE,KAAK,IAAI,EAAE;QAC9C,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,uBAAc,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QACnL,wBAAwB,CAAC,QAAQ,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,WAAW,EAAE,EAAE,OAAO,uBAAc,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QAE9R,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,uBAAuB,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC;QACvH,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;QACrC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QACjG,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;IACpE,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,0DAA0D,EAAE,KAAK,IAAI,EAAE;QAC3E,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,WAAW,EAAE,EAAE,OAAO,uBAAc,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QAC3Q,wBAAwB,CAAC,QAAQ,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,uBAAc,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QAEtM,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,4BAA4B,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC;QAC5H,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;QACrC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QACjH,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;IAClG,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,wCAAwC,EAAE,KAAK,IAAI,EAAE;QACzD,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,WAAW,EAAE,EAAE,OAAO,uBAAc,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QAC3Q,wBAAwB,CAAC,QAAQ,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,uBAAc,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QAEtM,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,wCAAwC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC;QACxI,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;QACrC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QACjH,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;IAClG,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,wCAAwC,EAAE,KAAK,IAAI,EAAE;QACzD,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAe,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QACpL,wBAAwB,CAAC,QAAQ,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,2BAAmB,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QAE3M,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC;QAC9G,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,+CAA+C,EAAE,KAAK,IAAI,EAAE;QAChE,UAAU,GAAG,WAAW,CAAC,GAAG,CAAC,oBAAoB,CAAC,cAAc,CAAC,sBAAsB,oCAA4B,CAAC,CAAC;QACrH,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,4BAAmB,EAAE,EAAE,CAAC,CAAC;QAClG,wBAAwB,CAAC,QAAQ,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,MAAM,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,CAAC,CAAC,CAAC;QAE1H,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC;QACxG,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;QACrC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;IACnF,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,yCAAyC,EAAE,KAAK,IAAI,EAAE;QAC1D,MAAM,OAAO,GAAG,GAAG,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QAC1C,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,uBAAc,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,WAAW,EAAE,EAAE,OAAO,uBAAc,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QACzP,wBAAwB,CAAC,QAAQ,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,WAAW,EAAE,EAAE,OAAO,uBAAc,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,8BAA8B,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QAE9R,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC;QAC7G,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;QACrC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;QACjG,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;IACpE,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,uEAAuE,EAAE,KAAK,IAAI,EAAE;QACxF,UAAU,GAAG,WAAW,CAAC,GAAG,CAAC,oBAAoB,CAAC,cAAc,CAAC,sBAAsB,oCAA4B,CAAC,CAAC;QACrH,MAAM,IAAI,GAAG,OAAO,IAAI,CAAC,YAAY,EAAE,EAAE,CAAC;QAC1C,MAAM,OAAO,GAAG,WAAW,IAAI,EAAE,CAAC;QAClC,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QACjH,wBAAwB,CAAC,QAAQ,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,cAAc,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QAEjL,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACtC,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;QACrC,MAAM,CAAC,WAAW,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QAC9D,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC;IAC3D,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,yEAAyE,EAAE,KAAK,IAAI,EAAE;QAC1F,UAAU,GAAG,WAAW,CAAC,GAAG,CAAC,oBAAoB,CAAC,cAAc,CAAC,sBAAsB,oCAA4B,CAAC,CAAC;QACrH,MAAM,IAAI,GAAG,aAAa,IAAI,CAAC,YAAY,EAAE,EAAE,CAAC;QAChD,MAAM,OAAO,GAAG,WAAW,IAAI,EAAE,CAAC;QAClC,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QACjH,wBAAwB,CAAC,QAAQ,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,cAAc,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QAEjL,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACtC,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;QACrC,MAAM,CAAC,WAAW,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QAC9D,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC;IAC3D,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,iDAAiD,EAAE,KAAK,IAAI,EAAE;QAClE,UAAU,GAAG,WAAW,CAAC,GAAG,CAAC,oBAAoB,CAAC,cAAc,CAAC,sBAAsB,oCAA4B,CAAC,CAAC;QACrH,MAAM,OAAO,GAAG,WAAW,IAAI,CAAC,YAAY,EAAE,EAAE,CAAC;QACjD,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC;QAC9I,wBAAwB,CAAC,QAAQ,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,cAAc,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;QAEpJ,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,KAAK,OAAO,CAAC,CAAC;QACrG,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;QACrC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,iBAAkB,CAAC,SAAS,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC;IAClF,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,qBAAqB,EAAE,KAAK,IAAI,EAAE;QACtC,UAAU,GAAG,WAAW,CAAC,GAAG,CAAC,oBAAoB,CAAC,cAAc,CAAC,sBAAsB,oCAA4B,CAAC,CAAC;QACrH,MAAM,QAAQ,GAAG,WAAW,IAAI,CAAC,YAAY,EAAE,EAAE,CAAC;QAClD,MAAM,QAAQ,GAAG,WAAW,IAAI,CAAC,YAAY,EAAE,EAAE,CAAC;QAClD,UAAU,CAAC,IAAI,CAAC,EAAE,UAAU,EAAE,IAAI,mBAAmB,CAAC,KAAK,CAAC,EAAE,WAAW,EAAE,SAAS,EAAE,EAAE,EAAE,UAAU,EAAE,IAAI,mBAAmB,CAAC,KAAK,CAAC,EAAE,WAAW,EAAE,SAAS,EAAE,CAAC,CAAC;QAChK,WAAW,CAAC,GAAG,CAAC,YAAY,CAAC,UAAU,CAAC,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,UAAU,EAAE,MAAM,EAAE,EAAE,EAAE,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC,UAAW,CAAC,KAAK,EAAE,KAAK,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC,WAAY,EAAE,EAAE,CAAC,CAAC,CAAC;QACrL,MAAM,QAAQ,GAAG,uBAAuB,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAE,UAAU,EAAE,EAAE,OAAO,wBAAgB,EAAE,SAAS,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,WAAW,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC,UAAW,CAAC,KAAK,EAAE,CAAC,CAAC;QACrM,wBAAwB,CAAC,QAAQ,EAAE,uBAAuB,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;QAEpG,MAAM,UAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAkB,CAAC,CAAC;QACpD,IAAI,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;QAC1C,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;QACrC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;QAEnE,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;QAC5C,MAAM,CAAC,WAAW,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;QACrC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;IACpE,CAAC,CAAC,CAAC;IAEH,SAAS,wBAAwB,CAAC,GAAG,eAAyC;QAC7E,oBAAoB,CAAC,IAAI,CAAC,kBAAkB,EAAE,gBAAgB,EAAE,GAAG,EAAE,CAAC,eAAe,CAAC,CAAC;QACvF,oBAAoB,CAAC,IAAI,CAAC,kBAAkB,EAAE,uBAAuB,EAAE,GAAG,EAAE,CAAC,eAAe,CAAC,CAAC;QAC9F,OAAO,eAAe,CAAC;IACxB,CAAC;IAED,SAAS,wBAAwB,CAAC,OAAe,EAAE,KAAa;QAC/D,WAAW,CAAC,GAAG,CAAC,eAAe,CAAC,KAAM,SAAQ,OAAO;YACpD;gBACC,KAAK,CAAC;oBACL,EAAE,EAAE,OAAO;oBACX,KAAK,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE;oBACxC,EAAE,EAAE,IAAI;iBACR,CAAC,CAAC;YACJ,CAAC;YACD,KAAK,CAAC,GAAG,KAAoB,CAAC;SAC9B,CAAC,CAAC,CAAC;IACL,CAAC;IAED,SAAS,qBAAqB,CAAC,MAAgC,EAAE,QAAkC;QAClG,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,MAAM,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;QACnD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACxC,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9C,CAAC;IACF,CAAC;IAED,SAAS,oBAAoB,CAAC,MAA8B,EAAE,QAAgC;QAC7F,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,OAAO,CAAC,CAAC;QACrD,IAAI,MAAM,CAAC,IAAI,EAAE,CAAC;YACjB,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAC3B,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,EAAE,QAAQ,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;QACxE,CAAC;aAAM,CAAC;YACP,MAAM,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QAC3B,CAAC;QACD,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,SAAS,EAAE,QAAQ,CAAC,SAAS,CAAC,CAAC;QAEzD,IAAI,MAAM,CAAC,kBAAkB,EAAE,CAAC;YAC/B,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;YACzC,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,kBAAkB,CAAC,QAAQ,EAAE,EAAE,QAAQ,CAAC,kBAAkB,CAAC,QAAQ,EAAE,CAAC,CAAC;QAClG,CAAC;aAAM,CAAC;YACP,MAAM,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC;QACzC,CAAC;IACF,CAAC;IAED,SAAS,uBAAuB,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,SAAS,EAAE,UAAU,EAAE,WAAW,EAAE,WAAW,EAAuM;QACvS,MAAM,iBAAiB,GAAG,UAAU,KAAkD;YACrF,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,GAAG,KAAK,CAAC,SAAS,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;YACrI,OAAO,IAAI,YAAY,CAAC,OAAQ,EAAE,QAAS,EAAE,MAAO,EAAE,OAAQ,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;QAChF,CAAC,CAAC;QACF,MAAM,MAAM,GAAmB,EAAE,CAAC;QAClC,IAAI,UAAU,EAAE,CAAC;YAChB,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC,CAAC;YAC3C,IAAI,WAAW,EAAE,CAAC;gBACjB,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC,CAAC;YAC7C,CAAC;QACF,CAAC;QACD,MAAM,UAAU,GAAG,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,0BAA0B,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;QAC9F,OAAO,IAAI,sBAAsB,CAAC,UAAU,EAAE,OAAO,IAAI,cAAc,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,cAAc,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,SAAS,KAAK,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,EAAE,WAAW,IAAI,IAAI,EAAE,KAAK,CAAC,CAAC;IAC7M,CAAC;IAED,SAAS,yBAAyB,CAAC,iBAAyC,EAAE,iBAA0B,KAAK;QAC5G,IAAI,CAAC,cAAc,EAAE,CAAC;YACrB,iBAAiB,GAAG,iBAAiB,CAAC,MAAM,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,CAAC,eAAe,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;QAC9G,CAAC;QACD,OAAO,iBAAiB,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;IAC5E,CAAC;AAGF,CAAC,CAAC,CAAC","file":"keybindingsEditorModel.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport * as uuid from '../../../../../base/common/uuid.js';\nimport { OS, OperatingSystem } from '../../../../../base/common/platform.js';\nimport { KeyCode } from '../../../../../base/common/keyCodes.js';\nimport { KeyCodeChord } from '../../../../../base/common/keybindings.js';\nimport { CommandsRegistry } from '../../../../../platform/commands/common/commands.js';\nimport { IKeybindingService } from '../../../../../platform/keybinding/common/keybinding.js';\nimport { IExtensionService } from '../../../extensions/common/extensions.js';\nimport { ContextKeyExpr } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { KeybindingsEditorModel } from '../../browser/keybindingsEditorModel.js';\nimport { ResolvedKeybindingItem } from '../../../../../platform/keybinding/common/resolvedKeybindingItem.js';\nimport { USLayoutResolvedKeybinding } from '../../../../../platform/keybinding/common/usLayoutResolvedKeybinding.js';\n\nimport { TestInstantiationService } from '../../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { IKeybindingItemEntry } from '../../common/preferences.js';\nimport { Action2, MenuRegistry, registerAction2 } from '../../../../../platform/actions/common/actions.js';\nimport { ExtensionIdentifier, IExtensionDescription } from '../../../../../platform/extensions/common/extensions.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\n\ninterface Modifiers {\n\tmetaKey?: boolean;\n\tctrlKey?: boolean;\n\taltKey?: boolean;\n\tshiftKey?: boolean;\n}\n\nsuite('KeybindingsEditorModel', () => {\n\n\tconst disposables = ensureNoDisposablesAreLeakedInTestSuite();\n\tlet instantiationService: TestInstantiationService;\n\tlet testObject: KeybindingsEditorModel;\n\tlet extensions: Partial<IExtensionDescription>[] = [];\n\n\tsetup(() => {\n\t\textensions = [];\n\t\tinstantiationService = disposables.add(new TestInstantiationService());\n\n\t\tinstantiationService.stub(IKeybindingService, {});\n\t\tinstantiationService.stub(IExtensionService, {\n\t\t\twhenInstalledExtensionsRegistered: () => Promise.resolve(true),\n\t\t\tget extensions() { return extensions as IExtensionDescription[]; }\n\t\t});\n\t\ttestObject = disposables.add(instantiationService.createInstance(KeybindingsEditorModel, OS));\n\n\t\tdisposables.add(CommandsRegistry.registerCommand('command_without_keybinding', () => { }));\n\t});\n\n\ttest('fetch returns default keybindings', async () => {\n\t\tconst expected = prepareKeybindingService(\n\t\t\taResolvedKeybindingItem({ command: 'a' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape } }),\n\t\t\taResolvedKeybindingItem({ command: 'b' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape }, secondChord: { keyCode: KeyCode.Escape } })\n\t\t);\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actuals = asResolvedKeybindingItems(testObject.fetch(''));\n\t\tassertKeybindingItems(actuals, expected);\n\t});\n\n\ttest('fetch returns distinct keybindings', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = prepareKeybindingService(\n\t\t\taResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape } }),\n\t\t\taResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape } }),\n\t\t);\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actuals = asResolvedKeybindingItems(testObject.fetch(''));\n\t\tassertKeybindingItems(actuals, [expected[0]]);\n\t});\n\n\ttest('fetch returns default keybindings at the top', async () => {\n\t\tconst expected = prepareKeybindingService(\n\t\t\taResolvedKeybindingItem({ command: 'a' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape } }),\n\t\t\taResolvedKeybindingItem({ command: 'b' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape }, secondChord: { keyCode: KeyCode.Escape } })\n\t\t);\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actuals = asResolvedKeybindingItems(testObject.fetch('').slice(0, 2), true);\n\t\tassertKeybindingItems(actuals, expected);\n\t});\n\n\ttest('fetch returns default keybindings sorted by command id', async () => {\n\t\tconst keybindings = prepareKeybindingService(\n\t\t\taResolvedKeybindingItem({ command: 'b' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape } }),\n\t\t\taResolvedKeybindingItem({ command: 'c' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape }, secondChord: { keyCode: KeyCode.Escape } }),\n\t\t\taResolvedKeybindingItem({ command: 'a' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Backspace } })\n\t\t);\n\t\tconst expected = [keybindings[2], keybindings[0], keybindings[1]];\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actuals = asResolvedKeybindingItems(testObject.fetch(''));\n\t\tassertKeybindingItems(actuals, expected);\n\t});\n\n\ttest('fetch returns user keybinding first if default and user has same id', async () => {\n\t\tconst sameId = 'b' + uuid.generateUuid();\n\t\tconst keybindings = prepareKeybindingService(\n\t\t\taResolvedKeybindingItem({ command: sameId, firstChord: { keyCode: KeyCode.Escape } }),\n\t\t\taResolvedKeybindingItem({ command: sameId, firstChord: { keyCode: KeyCode.Escape }, secondChord: { keyCode: KeyCode.Escape }, isDefault: false })\n\t\t);\n\t\tconst expected = [keybindings[1], keybindings[0]];\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actuals = asResolvedKeybindingItems(testObject.fetch(''));\n\t\tassertKeybindingItems(actuals, expected);\n\t});\n\n\ttest('fetch returns keybinding with titles first', async () => {\n\t\tconst keybindings = prepareKeybindingService(\n\t\t\taResolvedKeybindingItem({ command: 'a' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape } }),\n\t\t\taResolvedKeybindingItem({ command: 'b' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape }, secondChord: { keyCode: KeyCode.Escape } }),\n\t\t\taResolvedKeybindingItem({ command: 'c' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape }, secondChord: { keyCode: KeyCode.Escape } }),\n\t\t\taResolvedKeybindingItem({ command: 'd' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape }, secondChord: { keyCode: KeyCode.Escape } })\n\t\t);\n\n\t\tregisterCommandWithTitle(keybindings[1].command!, 'B Title');\n\t\tregisterCommandWithTitle(keybindings[3].command!, 'A Title');\n\n\t\tconst expected = [keybindings[3], keybindings[1], keybindings[0], keybindings[2]];\n\t\tinstantiationService.stub(IKeybindingService, 'getKeybindings', () => keybindings);\n\t\tinstantiationService.stub(IKeybindingService, 'getDefaultKeybindings', () => keybindings);\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actuals = asResolvedKeybindingItems(testObject.fetch(''));\n\t\tassertKeybindingItems(actuals, expected);\n\t});\n\n\ttest('fetch returns keybinding with user first if title and id matches', async () => {\n\t\tconst sameId = 'b' + uuid.generateUuid();\n\t\tconst keybindings = prepareKeybindingService(\n\t\t\taResolvedKeybindingItem({ command: 'a' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape } }),\n\t\t\taResolvedKeybindingItem({ command: sameId, firstChord: { keyCode: KeyCode.Escape }, secondChord: { keyCode: KeyCode.Escape } }),\n\t\t\taResolvedKeybindingItem({ command: 'c' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape }, secondChord: { keyCode: KeyCode.Escape } }),\n\t\t\taResolvedKeybindingItem({ command: sameId, firstChord: { keyCode: KeyCode.Escape }, isDefault: false })\n\t\t);\n\n\t\tregisterCommandWithTitle(keybindings[1].command!, 'Same Title');\n\t\tconst expected = [keybindings[3], keybindings[1], keybindings[0], keybindings[2]];\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actuals = asResolvedKeybindingItems(testObject.fetch(''));\n\t\tassertKeybindingItems(actuals, expected);\n\t});\n\n\ttest('fetch returns default keybindings sorted by precedence', async () => {\n\t\tconst expected = prepareKeybindingService(\n\t\t\taResolvedKeybindingItem({ command: 'b' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape } }),\n\t\t\taResolvedKeybindingItem({ command: 'c' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape }, secondChord: { keyCode: KeyCode.Escape } }),\n\t\t\taResolvedKeybindingItem({ command: 'a' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Backspace } })\n\t\t);\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actuals = asResolvedKeybindingItems(testObject.fetch('', true));\n\t\tassertKeybindingItems(actuals, expected);\n\t});\n\n\ttest('convert keybinding without title to entry', async () => {\n\t\tconst expected = aResolvedKeybindingItem({ command: 'a' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape }, when: 'context1 && context2' });\n\t\tprepareKeybindingService(expected);\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('')[0];\n\t\tassert.strictEqual(actual.keybindingItem.command, expected.command);\n\t\tassert.strictEqual(actual.keybindingItem.commandLabel, '');\n\t\tassert.strictEqual(actual.keybindingItem.commandDefaultLabel, null);\n\t\tassert.strictEqual(actual.keybindingItem.keybinding.getAriaLabel(), expected.resolvedKeybinding!.getAriaLabel());\n\t\tassert.strictEqual(actual.keybindingItem.when, expected.when!.serialize());\n\t});\n\n\ttest('convert keybinding with title to entry', async () => {\n\t\tconst expected = aResolvedKeybindingItem({ command: 'a' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape }, when: 'context1 && context2' });\n\t\tprepareKeybindingService(expected);\n\t\tregisterCommandWithTitle(expected.command!, 'Some Title');\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('')[0];\n\t\tassert.strictEqual(actual.keybindingItem.command, expected.command);\n\t\tassert.strictEqual(actual.keybindingItem.commandLabel, 'Some Title');\n\t\tassert.strictEqual(actual.keybindingItem.commandDefaultLabel, null);\n\t\tassert.strictEqual(actual.keybindingItem.keybinding.getAriaLabel(), expected.resolvedKeybinding!.getAriaLabel());\n\t\tassert.strictEqual(actual.keybindingItem.when, expected.when!.serialize());\n\t});\n\n\ttest('convert without title and binding to entry', async () => {\n\t\tdisposables.add(CommandsRegistry.registerCommand('command_without_keybinding', () => { }));\n\t\tprepareKeybindingService();\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('').filter(element => element.keybindingItem.command === 'command_without_keybinding')[0];\n\t\tassert.strictEqual(actual.keybindingItem.command, 'command_without_keybinding');\n\t\tassert.strictEqual(actual.keybindingItem.commandLabel, '');\n\t\tassert.strictEqual(actual.keybindingItem.commandDefaultLabel, null);\n\t\tassert.strictEqual(actual.keybindingItem.keybinding, undefined);\n\t\tassert.strictEqual(actual.keybindingItem.when, '');\n\t});\n\n\ttest('convert with title and without binding to entry', async () => {\n\t\tconst id = 'a' + uuid.generateUuid();\n\t\tregisterCommandWithTitle(id, 'some title');\n\t\tprepareKeybindingService();\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('').filter(element => element.keybindingItem.command === id)[0];\n\t\tassert.strictEqual(actual.keybindingItem.command, id);\n\t\tassert.strictEqual(actual.keybindingItem.commandLabel, 'some title');\n\t\tassert.strictEqual(actual.keybindingItem.commandDefaultLabel, null);\n\t\tassert.strictEqual(actual.keybindingItem.keybinding, undefined);\n\t\tassert.strictEqual(actual.keybindingItem.when, '');\n\t});\n\n\ttest('filter by command id', async () => {\n\t\tconst id = 'workbench.action.increaseViewSize';\n\t\tregisterCommandWithTitle(id, 'some title');\n\t\tprepareKeybindingService();\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('workbench action view size').filter(element => element.keybindingItem.command === id)[0];\n\t\tassert.ok(actual);\n\t});\n\n\ttest('filter by command title', async () => {\n\t\tconst id = 'a' + uuid.generateUuid();\n\t\tregisterCommandWithTitle(id, 'Increase view size');\n\t\tprepareKeybindingService();\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('increase size').filter(element => element.keybindingItem.command === id)[0];\n\t\tassert.ok(actual);\n\t});\n\n\ttest('filter by system source', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape }, when: 'context1 && context2' });\n\t\tprepareKeybindingService(expected);\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('system').filter(element => element.keybindingItem.command === command)[0];\n\t\tassert.ok(actual);\n\t});\n\n\ttest('filter by user source', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape }, when: 'context1 && context2', isDefault: false });\n\t\tprepareKeybindingService(expected);\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('user').filter(element => element.keybindingItem.command === command)[0];\n\t\tassert.ok(actual);\n\t});\n\n\ttest('filter by default source with \"@source: \" prefix', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape }, when: 'context1 && context2', isDefault: true });\n\t\tprepareKeybindingService(expected);\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('@source: default').filter(element => element.keybindingItem.command === command)[0];\n\t\tassert.ok(actual);\n\t});\n\n\ttest('filter by user source with \"@source: \" prefix', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape }, when: 'context1 && context2', isDefault: false });\n\t\tprepareKeybindingService(expected);\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('@source: user').filter(element => element.keybindingItem.command === command)[0];\n\t\tassert.ok(actual);\n\t});\n\n\ttest('filter by command prefix with different commands', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape }, when: 'context1 && context2', isDefault: true });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command: uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape, modifiers: { altKey: true } }, when: 'whenContext1 && whenContext2', isDefault: true }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch(`@command:${command}`);\n\t\tassert.strictEqual(actual.length, 1);\n\t\tassert.deepStrictEqual(actual[0].keybindingItem.command, command);\n\t});\n\n\ttest('filter by command prefix with same commands', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape }, when: 'context1 && context2', isDefault: true });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { altKey: true } }, when: 'whenContext1 && whenContext2', isDefault: true }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch(`@command:${command}`);\n\t\tassert.strictEqual(actual.length, 2);\n\t\tassert.deepStrictEqual(actual[0].keybindingItem.command, command);\n\t\tassert.deepStrictEqual(actual[1].keybindingItem.command, command);\n\t});\n\n\ttest('filter by when context', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected);\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('when context').filter(element => element.keybindingItem.command === command)[0];\n\t\tassert.ok(actual);\n\t});\n\n\ttest('filter by cmd key', async () => {\n\t\ttestObject = disposables.add(instantiationService.createInstance(KeybindingsEditorModel, OperatingSystem.Macintosh));\n\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected);\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('cmd').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { metaKey: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter by meta key', async () => {\n\t\ttestObject = disposables.add(instantiationService.createInstance(KeybindingsEditorModel, OperatingSystem.Macintosh));\n\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('meta').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { metaKey: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter by command key', async () => {\n\t\ttestObject = disposables.add(instantiationService.createInstance(KeybindingsEditorModel, OperatingSystem.Macintosh));\n\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { altKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('command').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { metaKey: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter by windows key', async () => {\n\t\ttestObject = disposables.add(instantiationService.createInstance(KeybindingsEditorModel, OperatingSystem.Windows));\n\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('windows').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { metaKey: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter by alt key', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { altKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('alt').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { altKey: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter by option key', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { altKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('option').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { altKey: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter by ctrl key', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('ctrl').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { ctrlKey: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter by control key', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('control').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { ctrlKey: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter by shift key', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('shift').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { shiftKey: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter by arrow', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.RightArrow, modifiers: { shiftKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('arrow').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { keyCode: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter by modifier and key', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.RightArrow, modifiers: { altKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.RightArrow, modifiers: { metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('alt right').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { altKey: true, keyCode: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter by key and modifier', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.RightArrow, modifiers: { altKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.RightArrow, modifiers: { metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('right alt').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(0, actual.length);\n\t});\n\n\ttest('filter by modifiers and key', async () => {\n\t\ttestObject = disposables.add(instantiationService.createInstance(KeybindingsEditorModel, OperatingSystem.Macintosh));\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { altKey: true, metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('alt cmd esc').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { altKey: true, metaKey: true, keyCode: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter by modifiers in random order and key', async () => {\n\t\ttestObject = disposables.add(instantiationService.createInstance(KeybindingsEditorModel, OperatingSystem.Macintosh));\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true, metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('cmd shift esc').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { metaKey: true, shiftKey: true, keyCode: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter by first part', async () => {\n\t\ttestObject = disposables.add(instantiationService.createInstance(KeybindingsEditorModel, OperatingSystem.Macintosh));\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true, metaKey: true } }, secondChord: { keyCode: KeyCode.Delete }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('cmd shift esc').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { metaKey: true, shiftKey: true, keyCode: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter matches in chord part', async () => {\n\t\ttestObject = disposables.add(instantiationService.createInstance(KeybindingsEditorModel, OperatingSystem.Macintosh));\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true, metaKey: true } }, secondChord: { keyCode: KeyCode.Delete }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('cmd del').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { metaKey: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, { keyCode: true });\n\t});\n\n\ttest('filter matches first part and in chord part', async () => {\n\t\ttestObject = disposables.add(instantiationService.createInstance(KeybindingsEditorModel, OperatingSystem.Macintosh));\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true, metaKey: true } }, secondChord: { keyCode: KeyCode.Delete }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true, metaKey: true } }, secondChord: { keyCode: KeyCode.UpArrow }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('cmd shift esc del').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { shiftKey: true, metaKey: true, keyCode: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, { keyCode: true });\n\t});\n\n\ttest('filter exact matches', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.KeyC, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true, metaKey: true } }, secondChord: { keyCode: KeyCode.KeyC, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('\"ctrl c\"').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { ctrlKey: true, keyCode: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter exact matches with first and chord part', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true, metaKey: true } }, secondChord: { keyCode: KeyCode.KeyC, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.KeyC, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('\"shift meta escape ctrl c\"').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { shiftKey: true, metaKey: true, keyCode: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, { ctrlKey: true, keyCode: true });\n\t});\n\n\ttest('filter exact matches with first and chord part no results', async () => {\n\t\ttestObject = disposables.add(instantiationService.createInstance(KeybindingsEditorModel, OperatingSystem.Macintosh));\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true, metaKey: true } }, secondChord: { keyCode: KeyCode.Delete, modifiers: { metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true, metaKey: true } }, secondChord: { keyCode: KeyCode.UpArrow }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('\"cmd shift esc del\"').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(0, actual.length);\n\t});\n\n\ttest('filter matches with + separator', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.KeyC, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true, metaKey: true } }, secondChord: { keyCode: KeyCode.KeyC, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('\"control+c\"').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { ctrlKey: true, keyCode: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter by keybinding prefix', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.KeyC, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true, metaKey: true } }, secondChord: { keyCode: KeyCode.KeyC, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('@keybinding:control+c').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { ctrlKey: true, keyCode: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter matches with + separator in first and chord parts', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true, metaKey: true } }, secondChord: { keyCode: KeyCode.KeyC, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.KeyC, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('\"shift+meta+escape ctrl+c\"').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { shiftKey: true, metaKey: true, keyCode: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, { keyCode: true, ctrlKey: true });\n\t});\n\n\ttest('filter by keybinding prefix with chord', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true, metaKey: true } }, secondChord: { keyCode: KeyCode.KeyC, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.KeyC, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('@keybinding:\"shift+meta+escape ctrl+c\"').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { shiftKey: true, metaKey: true, keyCode: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, { keyCode: true, ctrlKey: true });\n\t});\n\n\ttest('filter exact matches with space #32993', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Space, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Backspace, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('\"ctrl+space\"').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t});\n\n\ttest('filter exact matches with user settings label', async () => {\n\t\ttestObject = disposables.add(instantiationService.createInstance(KeybindingsEditorModel, OperatingSystem.Macintosh));\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.DownArrow } });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command: 'down', firstChord: { keyCode: KeyCode.Escape } }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('\"down\"').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { keyCode: true });\n\t});\n\n\ttest('filter exact matches also return chords', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.KeyK, modifiers: { ctrlKey: true } }, secondChord: { keyCode: KeyCode.KeyC, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true, metaKey: true } }, secondChord: { keyCode: KeyCode.KeyC, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('\"control+k\"').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { ctrlKey: true, keyCode: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter modifiers are not matched when not completely matched (prefix)', async () => {\n\t\ttestObject = disposables.add(instantiationService.createInstance(KeybindingsEditorModel, OperatingSystem.Macintosh));\n\t\tconst term = `alt.${uuid.generateUuid()}`;\n\t\tconst command = `command.${term}`;\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape }, isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command: 'some_command', firstChord: { keyCode: KeyCode.Escape, modifiers: { altKey: true } }, isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch(term);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.strictEqual(command, actual[0].keybindingItem.command);\n\t\tassert.strictEqual(1, actual[0].commandIdMatches?.length);\n\t});\n\n\ttest('filter modifiers are not matched when not completely matched (includes)', async () => {\n\t\ttestObject = disposables.add(instantiationService.createInstance(KeybindingsEditorModel, OperatingSystem.Macintosh));\n\t\tconst term = `abcaltdef.${uuid.generateUuid()}`;\n\t\tconst command = `command.${term}`;\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape }, isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command: 'some_command', firstChord: { keyCode: KeyCode.Escape, modifiers: { altKey: true } }, isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch(term);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.strictEqual(command, actual[0].keybindingItem.command);\n\t\tassert.strictEqual(1, actual[0].commandIdMatches?.length);\n\t});\n\n\ttest('filter modifiers are matched with complete term', async () => {\n\t\ttestObject = disposables.add(instantiationService.createInstance(KeybindingsEditorModel, OperatingSystem.Macintosh));\n\t\tconst command = `command.${uuid.generateUuid()}`;\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { altKey: true } }, isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command: 'some_command', firstChord: { keyCode: KeyCode.Escape }, isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('alt').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { altKey: true });\n\t});\n\n\ttest('filter by extension', async () => {\n\t\ttestObject = disposables.add(instantiationService.createInstance(KeybindingsEditorModel, OperatingSystem.Macintosh));\n\t\tconst command1 = `command.${uuid.generateUuid()}`;\n\t\tconst command2 = `command.${uuid.generateUuid()}`;\n\t\textensions.push({ identifier: new ExtensionIdentifier('foo'), displayName: 'foo bar' }, { identifier: new ExtensionIdentifier('bar'), displayName: 'bar foo' });\n\t\tdisposables.add(MenuRegistry.addCommand({ id: command2, title: 'title', category: 'category', source: { id: extensions[1].identifier!.value, title: extensions[1].displayName! } }));\n\t\tconst expected = aResolvedKeybindingItem({ command: command1, firstChord: { keyCode: KeyCode.Escape, modifiers: { altKey: true } }, isDefault: true, extensionId: extensions[0].identifier!.value });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command: command2, isDefault: true }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tlet actual = testObject.fetch('@ext:foo');\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingItem.command, command1);\n\n\t\tactual = testObject.fetch('@ext:\"bar foo\"');\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingItem.command, command2);\n\t});\n\n\tfunction prepareKeybindingService(...keybindingItems: ResolvedKeybindingItem[]): ResolvedKeybindingItem[] {\n\t\tinstantiationService.stub(IKeybindingService, 'getKeybindings', () => keybindingItems);\n\t\tinstantiationService.stub(IKeybindingService, 'getDefaultKeybindings', () => keybindingItems);\n\t\treturn keybindingItems;\n\t}\n\n\tfunction registerCommandWithTitle(command: string, title: string): void {\n\t\tdisposables.add(registerAction2(class extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: command,\n\t\t\t\t\ttitle: { value: title, original: title },\n\t\t\t\t\tf1: true\n\t\t\t\t});\n\t\t\t}\n\t\t\tasync run(): Promise<void> { }\n\t\t}));\n\t}\n\n\tfunction assertKeybindingItems(actual: ResolvedKeybindingItem[], expected: ResolvedKeybindingItem[]) {\n\t\tassert.strictEqual(actual.length, expected.length);\n\t\tfor (let i = 0; i < actual.length; i++) {\n\t\t\tassertKeybindingItem(actual[i], expected[i]);\n\t\t}\n\t}\n\n\tfunction assertKeybindingItem(actual: ResolvedKeybindingItem, expected: ResolvedKeybindingItem): void {\n\t\tassert.strictEqual(actual.command, expected.command);\n\t\tif (actual.when) {\n\t\t\tassert.ok(!!expected.when);\n\t\t\tassert.strictEqual(actual.when.serialize(), expected.when.serialize());\n\t\t} else {\n\t\t\tassert.ok(!expected.when);\n\t\t}\n\t\tassert.strictEqual(actual.isDefault, expected.isDefault);\n\n\t\tif (actual.resolvedKeybinding) {\n\t\t\tassert.ok(!!expected.resolvedKeybinding);\n\t\t\tassert.strictEqual(actual.resolvedKeybinding.getLabel(), expected.resolvedKeybinding.getLabel());\n\t\t} else {\n\t\t\tassert.ok(!expected.resolvedKeybinding);\n\t\t}\n\t}\n\n\tfunction aResolvedKeybindingItem({ command, when, isDefault, firstChord, secondChord, extensionId }: { command?: string; when?: string; isDefault?: boolean; firstChord?: { keyCode: KeyCode; modifiers?: Modifiers }; secondChord?: { keyCode: KeyCode; modifiers?: Modifiers }; extensionId?: string }): ResolvedKeybindingItem {\n\t\tconst aSimpleKeybinding = function (chord: { keyCode: KeyCode; modifiers?: Modifiers }): KeyCodeChord {\n\t\t\tconst { ctrlKey, shiftKey, altKey, metaKey } = chord.modifiers || { ctrlKey: false, shiftKey: false, altKey: false, metaKey: false };\n\t\t\treturn new KeyCodeChord(ctrlKey!, shiftKey!, altKey!, metaKey!, chord.keyCode);\n\t\t};\n\t\tconst chords: KeyCodeChord[] = [];\n\t\tif (firstChord) {\n\t\t\tchords.push(aSimpleKeybinding(firstChord));\n\t\t\tif (secondChord) {\n\t\t\t\tchords.push(aSimpleKeybinding(secondChord));\n\t\t\t}\n\t\t}\n\t\tconst keybinding = chords.length > 0 ? new USLayoutResolvedKeybinding(chords, OS) : undefined;\n\t\treturn new ResolvedKeybindingItem(keybinding, command || 'some command', null, when ? ContextKeyExpr.deserialize(when) : undefined, isDefault === undefined ? true : isDefault, extensionId ?? null, false);\n\t}\n\n\tfunction asResolvedKeybindingItems(keybindingEntries: IKeybindingItemEntry[], keepUnassigned: boolean = false): ResolvedKeybindingItem[] {\n\t\tif (!keepUnassigned) {\n\t\t\tkeybindingEntries = keybindingEntries.filter(keybindingEntry => !!keybindingEntry.keybindingItem.keybinding);\n\t\t}\n\t\treturn keybindingEntries.map(entry => entry.keybindingItem.keybindingItem);\n\t}\n\n\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport * as uuid from '../../../../../base/common/uuid.js';\nimport { OS, OperatingSystem } from '../../../../../base/common/platform.js';\nimport { KeyCode } from '../../../../../base/common/keyCodes.js';\nimport { KeyCodeChord } from '../../../../../base/common/keybindings.js';\nimport { CommandsRegistry } from '../../../../../platform/commands/common/commands.js';\nimport { IKeybindingService } from '../../../../../platform/keybinding/common/keybinding.js';\nimport { IExtensionService } from '../../../extensions/common/extensions.js';\nimport { ContextKeyExpr } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { KeybindingsEditorModel } from '../../browser/keybindingsEditorModel.js';\nimport { ResolvedKeybindingItem } from '../../../../../platform/keybinding/common/resolvedKeybindingItem.js';\nimport { USLayoutResolvedKeybinding } from '../../../../../platform/keybinding/common/usLayoutResolvedKeybinding.js';\n\nimport { TestInstantiationService } from '../../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { IKeybindingItemEntry } from '../../common/preferences.js';\nimport { Action2, MenuRegistry, registerAction2 } from '../../../../../platform/actions/common/actions.js';\nimport { ExtensionIdentifier, IExtensionDescription } from '../../../../../platform/extensions/common/extensions.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\n\ninterface Modifiers {\n\tmetaKey?: boolean;\n\tctrlKey?: boolean;\n\taltKey?: boolean;\n\tshiftKey?: boolean;\n}\n\nsuite('KeybindingsEditorModel', () => {\n\n\tconst disposables = ensureNoDisposablesAreLeakedInTestSuite();\n\tlet instantiationService: TestInstantiationService;\n\tlet testObject: KeybindingsEditorModel;\n\tlet extensions: Partial<IExtensionDescription>[] = [];\n\n\tsetup(() => {\n\t\textensions = [];\n\t\tinstantiationService = disposables.add(new TestInstantiationService());\n\n\t\tinstantiationService.stub(IKeybindingService, {});\n\t\tinstantiationService.stub(IExtensionService, {\n\t\t\twhenInstalledExtensionsRegistered: () => Promise.resolve(true),\n\t\t\tget extensions() { return extensions as IExtensionDescription[]; }\n\t\t});\n\t\ttestObject = disposables.add(instantiationService.createInstance(KeybindingsEditorModel, OS));\n\n\t\tdisposables.add(CommandsRegistry.registerCommand('command_without_keybinding', () => { }));\n\t});\n\n\ttest('fetch returns default keybindings', async () => {\n\t\tconst expected = prepareKeybindingService(\n\t\t\taResolvedKeybindingItem({ command: 'a' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape } }),\n\t\t\taResolvedKeybindingItem({ command: 'b' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape }, secondChord: { keyCode: KeyCode.Escape } })\n\t\t);\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actuals = asResolvedKeybindingItems(testObject.fetch(''));\n\t\tassertKeybindingItems(actuals, expected);\n\t});\n\n\ttest('fetch returns distinct keybindings', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = prepareKeybindingService(\n\t\t\taResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape } }),\n\t\t\taResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape } }),\n\t\t);\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actuals = asResolvedKeybindingItems(testObject.fetch(''));\n\t\tassertKeybindingItems(actuals, [expected[0]]);\n\t});\n\n\ttest('fetch returns default keybindings at the top', async () => {\n\t\tconst expected = prepareKeybindingService(\n\t\t\taResolvedKeybindingItem({ command: 'a' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape } }),\n\t\t\taResolvedKeybindingItem({ command: 'b' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape }, secondChord: { keyCode: KeyCode.Escape } })\n\t\t);\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actuals = asResolvedKeybindingItems(testObject.fetch('').slice(0, 2), true);\n\t\tassertKeybindingItems(actuals, expected);\n\t});\n\n\ttest('fetch returns default keybindings sorted by command id', async () => {\n\t\tconst keybindings = prepareKeybindingService(\n\t\t\taResolvedKeybindingItem({ command: 'b' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape } }),\n\t\t\taResolvedKeybindingItem({ command: 'c' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape }, secondChord: { keyCode: KeyCode.Escape } }),\n\t\t\taResolvedKeybindingItem({ command: 'a' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Backspace } })\n\t\t);\n\t\tconst expected = [keybindings[2], keybindings[0], keybindings[1]];\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actuals = asResolvedKeybindingItems(testObject.fetch(''));\n\t\tassertKeybindingItems(actuals, expected);\n\t});\n\n\ttest('fetch returns user keybinding first if default and user has same id', async () => {\n\t\tconst sameId = 'b' + uuid.generateUuid();\n\t\tconst keybindings = prepareKeybindingService(\n\t\t\taResolvedKeybindingItem({ command: sameId, firstChord: { keyCode: KeyCode.Escape } }),\n\t\t\taResolvedKeybindingItem({ command: sameId, firstChord: { keyCode: KeyCode.Escape }, secondChord: { keyCode: KeyCode.Escape }, isDefault: false })\n\t\t);\n\t\tconst expected = [keybindings[1], keybindings[0]];\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actuals = asResolvedKeybindingItems(testObject.fetch(''));\n\t\tassertKeybindingItems(actuals, expected);\n\t});\n\n\ttest('fetch returns keybinding with titles first', async () => {\n\t\tconst keybindings = prepareKeybindingService(\n\t\t\taResolvedKeybindingItem({ command: 'a' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape } }),\n\t\t\taResolvedKeybindingItem({ command: 'b' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape }, secondChord: { keyCode: KeyCode.Escape } }),\n\t\t\taResolvedKeybindingItem({ command: 'c' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape }, secondChord: { keyCode: KeyCode.Escape } }),\n\t\t\taResolvedKeybindingItem({ command: 'd' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape }, secondChord: { keyCode: KeyCode.Escape } })\n\t\t);\n\n\t\tregisterCommandWithTitle(keybindings[1].command!, 'B Title');\n\t\tregisterCommandWithTitle(keybindings[3].command!, 'A Title');\n\n\t\tconst expected = [keybindings[3], keybindings[1], keybindings[0], keybindings[2]];\n\t\tinstantiationService.stub(IKeybindingService, 'getKeybindings', () => keybindings);\n\t\tinstantiationService.stub(IKeybindingService, 'getDefaultKeybindings', () => keybindings);\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actuals = asResolvedKeybindingItems(testObject.fetch(''));\n\t\tassertKeybindingItems(actuals, expected);\n\t});\n\n\ttest('fetch returns keybinding with user first if title and id matches', async () => {\n\t\tconst sameId = 'b' + uuid.generateUuid();\n\t\tconst keybindings = prepareKeybindingService(\n\t\t\taResolvedKeybindingItem({ command: 'a' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape } }),\n\t\t\taResolvedKeybindingItem({ command: sameId, firstChord: { keyCode: KeyCode.Escape }, secondChord: { keyCode: KeyCode.Escape } }),\n\t\t\taResolvedKeybindingItem({ command: 'c' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape }, secondChord: { keyCode: KeyCode.Escape } }),\n\t\t\taResolvedKeybindingItem({ command: sameId, firstChord: { keyCode: KeyCode.Escape }, isDefault: false })\n\t\t);\n\n\t\tregisterCommandWithTitle(keybindings[1].command!, 'Same Title');\n\t\tconst expected = [keybindings[3], keybindings[1], keybindings[0], keybindings[2]];\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actuals = asResolvedKeybindingItems(testObject.fetch(''));\n\t\tassertKeybindingItems(actuals, expected);\n\t});\n\n\ttest('fetch returns default keybindings sorted by precedence', async () => {\n\t\tconst expected = prepareKeybindingService(\n\t\t\taResolvedKeybindingItem({ command: 'b' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape } }),\n\t\t\taResolvedKeybindingItem({ command: 'c' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape }, secondChord: { keyCode: KeyCode.Escape } }),\n\t\t\taResolvedKeybindingItem({ command: 'a' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Backspace } })\n\t\t);\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actuals = asResolvedKeybindingItems(testObject.fetch('', true));\n\t\tassertKeybindingItems(actuals, expected);\n\t});\n\n\ttest('convert keybinding without title to entry', async () => {\n\t\tconst expected = aResolvedKeybindingItem({ command: 'a' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape }, when: 'context1 && context2' });\n\t\tprepareKeybindingService(expected);\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('')[0];\n\t\tassert.strictEqual(actual.keybindingItem.command, expected.command);\n\t\tassert.strictEqual(actual.keybindingItem.commandLabel, '');\n\t\tassert.strictEqual(actual.keybindingItem.commandDefaultLabel, null);\n\t\tassert.strictEqual(actual.keybindingItem.keybinding.getAriaLabel(), expected.resolvedKeybinding!.getAriaLabel());\n\t\tassert.strictEqual(actual.keybindingItem.when, expected.when!.serialize());\n\t});\n\n\ttest('convert keybinding with title to entry', async () => {\n\t\tconst expected = aResolvedKeybindingItem({ command: 'a' + uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape }, when: 'context1 && context2' });\n\t\tprepareKeybindingService(expected);\n\t\tregisterCommandWithTitle(expected.command!, 'Some Title');\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('')[0];\n\t\tassert.strictEqual(actual.keybindingItem.command, expected.command);\n\t\tassert.strictEqual(actual.keybindingItem.commandLabel, 'Some Title');\n\t\tassert.strictEqual(actual.keybindingItem.commandDefaultLabel, null);\n\t\tassert.strictEqual(actual.keybindingItem.keybinding.getAriaLabel(), expected.resolvedKeybinding!.getAriaLabel());\n\t\tassert.strictEqual(actual.keybindingItem.when, expected.when!.serialize());\n\t});\n\n\ttest('convert without title and binding to entry', async () => {\n\t\tdisposables.add(CommandsRegistry.registerCommand('command_without_keybinding', () => { }));\n\t\tprepareKeybindingService();\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('').filter(element => element.keybindingItem.command === 'command_without_keybinding')[0];\n\t\tassert.strictEqual(actual.keybindingItem.command, 'command_without_keybinding');\n\t\tassert.strictEqual(actual.keybindingItem.commandLabel, '');\n\t\tassert.strictEqual(actual.keybindingItem.commandDefaultLabel, null);\n\t\tassert.strictEqual(actual.keybindingItem.keybinding, undefined);\n\t\tassert.strictEqual(actual.keybindingItem.when, '');\n\t});\n\n\ttest('convert with title and without binding to entry', async () => {\n\t\tconst id = 'a' + uuid.generateUuid();\n\t\tregisterCommandWithTitle(id, 'some title');\n\t\tprepareKeybindingService();\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('').filter(element => element.keybindingItem.command === id)[0];\n\t\tassert.strictEqual(actual.keybindingItem.command, id);\n\t\tassert.strictEqual(actual.keybindingItem.commandLabel, 'some title');\n\t\tassert.strictEqual(actual.keybindingItem.commandDefaultLabel, null);\n\t\tassert.strictEqual(actual.keybindingItem.keybinding, undefined);\n\t\tassert.strictEqual(actual.keybindingItem.when, '');\n\t});\n\n\ttest('filter by command id', async () => {\n\t\tconst id = 'workbench.action.increaseViewSize';\n\t\tregisterCommandWithTitle(id, 'some title');\n\t\tprepareKeybindingService();\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('workbench action view size').filter(element => element.keybindingItem.command === id)[0];\n\t\tassert.ok(actual);\n\t});\n\n\ttest('filter by command title', async () => {\n\t\tconst id = 'a' + uuid.generateUuid();\n\t\tregisterCommandWithTitle(id, 'Increase view size');\n\t\tprepareKeybindingService();\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('increase size').filter(element => element.keybindingItem.command === id)[0];\n\t\tassert.ok(actual);\n\t});\n\n\ttest('filter by system source', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape }, when: 'context1 && context2' });\n\t\tprepareKeybindingService(expected);\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('system').filter(element => element.keybindingItem.command === command)[0];\n\t\tassert.ok(actual);\n\t});\n\n\ttest('filter by user source', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape }, when: 'context1 && context2', isDefault: false });\n\t\tprepareKeybindingService(expected);\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('user').filter(element => element.keybindingItem.command === command)[0];\n\t\tassert.ok(actual);\n\t});\n\n\ttest('filter by default source with \"@source: \" prefix', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape }, when: 'context1 && context2', isDefault: true });\n\t\tprepareKeybindingService(expected);\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('@source: default').filter(element => element.keybindingItem.command === command)[0];\n\t\tassert.ok(actual);\n\t});\n\n\ttest('filter by user source with \"@source: \" prefix', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape }, when: 'context1 && context2', isDefault: false });\n\t\tprepareKeybindingService(expected);\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('@source: user').filter(element => element.keybindingItem.command === command)[0];\n\t\tassert.ok(actual);\n\t});\n\n\ttest('filter by command prefix with different commands', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape }, when: 'context1 && context2', isDefault: true });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command: uuid.generateUuid(), firstChord: { keyCode: KeyCode.Escape, modifiers: { altKey: true } }, when: 'whenContext1 && whenContext2', isDefault: true }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch(`@command:${command}`);\n\t\tassert.strictEqual(actual.length, 1);\n\t\tassert.deepStrictEqual(actual[0].keybindingItem.command, command);\n\t});\n\n\ttest('filter by command prefix with same commands', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape }, when: 'context1 && context2', isDefault: true });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { altKey: true } }, when: 'whenContext1 && whenContext2', isDefault: true }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch(`@command:${command}`);\n\t\tassert.strictEqual(actual.length, 2);\n\t\tassert.deepStrictEqual(actual[0].keybindingItem.command, command);\n\t\tassert.deepStrictEqual(actual[1].keybindingItem.command, command);\n\t});\n\n\ttest('filter by when context', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected);\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('when context').filter(element => element.keybindingItem.command === command)[0];\n\t\tassert.ok(actual);\n\t});\n\n\ttest('filter by cmd key', async () => {\n\t\ttestObject = disposables.add(instantiationService.createInstance(KeybindingsEditorModel, OperatingSystem.Macintosh));\n\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected);\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('cmd').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { metaKey: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter by meta key', async () => {\n\t\ttestObject = disposables.add(instantiationService.createInstance(KeybindingsEditorModel, OperatingSystem.Macintosh));\n\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('meta').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { metaKey: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter by command key', async () => {\n\t\ttestObject = disposables.add(instantiationService.createInstance(KeybindingsEditorModel, OperatingSystem.Macintosh));\n\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { altKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('command').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { metaKey: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter by windows key', async () => {\n\t\ttestObject = disposables.add(instantiationService.createInstance(KeybindingsEditorModel, OperatingSystem.Windows));\n\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('windows').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { metaKey: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter by alt key', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { altKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('alt').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { altKey: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter by option key', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { altKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('option').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { altKey: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter by ctrl key', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('ctrl').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { ctrlKey: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter by control key', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('control').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { ctrlKey: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter by shift key', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('shift').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { shiftKey: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter by arrow', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.RightArrow, modifiers: { shiftKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('arrow').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { keyCode: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter by modifier and key', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.RightArrow, modifiers: { altKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.RightArrow, modifiers: { metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('alt right').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { altKey: true, keyCode: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter by key and modifier', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.RightArrow, modifiers: { altKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.RightArrow, modifiers: { metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('right alt').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(0, actual.length);\n\t});\n\n\ttest('filter by modifiers and key', async () => {\n\t\ttestObject = disposables.add(instantiationService.createInstance(KeybindingsEditorModel, OperatingSystem.Macintosh));\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { altKey: true, metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('alt cmd esc').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { altKey: true, metaKey: true, keyCode: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter by modifiers in random order and key', async () => {\n\t\ttestObject = disposables.add(instantiationService.createInstance(KeybindingsEditorModel, OperatingSystem.Macintosh));\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true, metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('cmd shift esc').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { metaKey: true, shiftKey: true, keyCode: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter by first part', async () => {\n\t\ttestObject = disposables.add(instantiationService.createInstance(KeybindingsEditorModel, OperatingSystem.Macintosh));\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true, metaKey: true } }, secondChord: { keyCode: KeyCode.Delete }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('cmd shift esc').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { metaKey: true, shiftKey: true, keyCode: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter matches in chord part', async () => {\n\t\ttestObject = disposables.add(instantiationService.createInstance(KeybindingsEditorModel, OperatingSystem.Macintosh));\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true, metaKey: true } }, secondChord: { keyCode: KeyCode.Delete }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('cmd del').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { metaKey: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, { keyCode: true });\n\t});\n\n\ttest('filter matches first part and in chord part', async () => {\n\t\ttestObject = disposables.add(instantiationService.createInstance(KeybindingsEditorModel, OperatingSystem.Macintosh));\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true, metaKey: true } }, secondChord: { keyCode: KeyCode.Delete }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true, metaKey: true } }, secondChord: { keyCode: KeyCode.UpArrow }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('cmd shift esc del').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { shiftKey: true, metaKey: true, keyCode: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, { keyCode: true });\n\t});\n\n\ttest('filter exact matches', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.KeyC, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true, metaKey: true } }, secondChord: { keyCode: KeyCode.KeyC, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('\"ctrl c\"').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { ctrlKey: true, keyCode: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter exact matches with first and chord part', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true, metaKey: true } }, secondChord: { keyCode: KeyCode.KeyC, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.KeyC, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('\"shift meta escape ctrl c\"').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { shiftKey: true, metaKey: true, keyCode: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, { ctrlKey: true, keyCode: true });\n\t});\n\n\ttest('filter exact matches with first and chord part no results', async () => {\n\t\ttestObject = disposables.add(instantiationService.createInstance(KeybindingsEditorModel, OperatingSystem.Macintosh));\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true, metaKey: true } }, secondChord: { keyCode: KeyCode.Delete, modifiers: { metaKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true, metaKey: true } }, secondChord: { keyCode: KeyCode.UpArrow }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('\"cmd shift esc del\"').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(0, actual.length);\n\t});\n\n\ttest('filter matches with + separator', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.KeyC, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true, metaKey: true } }, secondChord: { keyCode: KeyCode.KeyC, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('\"control+c\"').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { ctrlKey: true, keyCode: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter by keybinding prefix', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.KeyC, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true, metaKey: true } }, secondChord: { keyCode: KeyCode.KeyC, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('@keybinding:control+c').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { ctrlKey: true, keyCode: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter matches with + separator in first and chord parts', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true, metaKey: true } }, secondChord: { keyCode: KeyCode.KeyC, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.KeyC, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('\"shift+meta+escape ctrl+c\"').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { shiftKey: true, metaKey: true, keyCode: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, { keyCode: true, ctrlKey: true });\n\t});\n\n\ttest('filter by keybinding prefix with chord', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true, metaKey: true } }, secondChord: { keyCode: KeyCode.KeyC, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.KeyC, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('@keybinding:\"shift+meta+escape ctrl+c\"').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { shiftKey: true, metaKey: true, keyCode: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, { keyCode: true, ctrlKey: true });\n\t});\n\n\ttest('filter exact matches with space #32993', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Space, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Backspace, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('\"ctrl+space\"').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t});\n\n\ttest('filter exact matches with user settings label', async () => {\n\t\ttestObject = disposables.add(instantiationService.createInstance(KeybindingsEditorModel, OperatingSystem.Macintosh));\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.DownArrow } });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command: 'down', firstChord: { keyCode: KeyCode.Escape } }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('\"down\"').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { keyCode: true });\n\t});\n\n\ttest('filter exact matches also return chords', async () => {\n\t\tconst command = 'a' + uuid.generateUuid();\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.KeyK, modifiers: { ctrlKey: true } }, secondChord: { keyCode: KeyCode.KeyC, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { shiftKey: true, metaKey: true } }, secondChord: { keyCode: KeyCode.KeyC, modifiers: { ctrlKey: true } }, when: 'whenContext1 && whenContext2', isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('\"control+k\"').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { ctrlKey: true, keyCode: true });\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.chordPart, {});\n\t});\n\n\ttest('filter modifiers are not matched when not completely matched (prefix)', async () => {\n\t\ttestObject = disposables.add(instantiationService.createInstance(KeybindingsEditorModel, OperatingSystem.Macintosh));\n\t\tconst term = `alt.${uuid.generateUuid()}`;\n\t\tconst command = `command.${term}`;\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape }, isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command: 'some_command', firstChord: { keyCode: KeyCode.Escape, modifiers: { altKey: true } }, isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch(term);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.strictEqual(command, actual[0].keybindingItem.command);\n\t\tassert.strictEqual(1, actual[0].commandIdMatches?.length);\n\t});\n\n\ttest('filter modifiers are not matched when not completely matched (includes)', async () => {\n\t\ttestObject = disposables.add(instantiationService.createInstance(KeybindingsEditorModel, OperatingSystem.Macintosh));\n\t\tconst term = `abcaltdef.${uuid.generateUuid()}`;\n\t\tconst command = `command.${term}`;\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape }, isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command: 'some_command', firstChord: { keyCode: KeyCode.Escape, modifiers: { altKey: true } }, isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch(term);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.strictEqual(command, actual[0].keybindingItem.command);\n\t\tassert.strictEqual(1, actual[0].commandIdMatches?.length);\n\t});\n\n\ttest('filter modifiers are matched with complete term', async () => {\n\t\ttestObject = disposables.add(instantiationService.createInstance(KeybindingsEditorModel, OperatingSystem.Macintosh));\n\t\tconst command = `command.${uuid.generateUuid()}`;\n\t\tconst expected = aResolvedKeybindingItem({ command, firstChord: { keyCode: KeyCode.Escape, modifiers: { altKey: true } }, isDefault: false });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command: 'some_command', firstChord: { keyCode: KeyCode.Escape }, isDefault: false }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tconst actual = testObject.fetch('alt').filter(element => element.keybindingItem.command === command);\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingMatches!.firstPart, { altKey: true });\n\t});\n\n\ttest('filter by extension', async () => {\n\t\ttestObject = disposables.add(instantiationService.createInstance(KeybindingsEditorModel, OperatingSystem.Macintosh));\n\t\tconst command1 = `command.${uuid.generateUuid()}`;\n\t\tconst command2 = `command.${uuid.generateUuid()}`;\n\t\textensions.push({ identifier: new ExtensionIdentifier('foo'), displayName: 'foo bar' }, { identifier: new ExtensionIdentifier('bar'), displayName: 'bar foo' });\n\t\tdisposables.add(MenuRegistry.addCommand({ id: command2, title: 'title', category: 'category', source: { id: extensions[1].identifier!.value, title: extensions[1].displayName! } }));\n\t\tconst expected = aResolvedKeybindingItem({ command: command1, firstChord: { keyCode: KeyCode.Escape, modifiers: { altKey: true } }, isDefault: true, extensionId: extensions[0].identifier!.value });\n\t\tprepareKeybindingService(expected, aResolvedKeybindingItem({ command: command2, isDefault: true }));\n\n\t\tawait testObject.resolve(new Map<string, string>());\n\t\tlet actual = testObject.fetch('@ext:foo');\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingItem.command, command1);\n\n\t\tactual = testObject.fetch('@ext:\"bar foo\"');\n\t\tassert.strictEqual(1, actual.length);\n\t\tassert.deepStrictEqual(actual[0].keybindingItem.command, command2);\n\t});\n\n\tfunction prepareKeybindingService(...keybindingItems: ResolvedKeybindingItem[]): ResolvedKeybindingItem[] {\n\t\tinstantiationService.stub(IKeybindingService, 'getKeybindings', () => keybindingItems);\n\t\tinstantiationService.stub(IKeybindingService, 'getDefaultKeybindings', () => keybindingItems);\n\t\treturn keybindingItems;\n\t}\n\n\tfunction registerCommandWithTitle(command: string, title: string): void {\n\t\tdisposables.add(registerAction2(class extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: command,\n\t\t\t\t\ttitle: { value: title, original: title },\n\t\t\t\t\tf1: true\n\t\t\t\t});\n\t\t\t}\n\t\t\tasync run(): Promise<void> { }\n\t\t}));\n\t}\n\n\tfunction assertKeybindingItems(actual: ResolvedKeybindingItem[], expected: ResolvedKeybindingItem[]) {\n\t\tassert.strictEqual(actual.length, expected.length);\n\t\tfor (let i = 0; i < actual.length; i++) {\n\t\t\tassertKeybindingItem(actual[i], expected[i]);\n\t\t}\n\t}\n\n\tfunction assertKeybindingItem(actual: ResolvedKeybindingItem, expected: ResolvedKeybindingItem): void {\n\t\tassert.strictEqual(actual.command, expected.command);\n\t\tif (actual.when) {\n\t\t\tassert.ok(!!expected.when);\n\t\t\tassert.strictEqual(actual.when.serialize(), expected.when.serialize());\n\t\t} else {\n\t\t\tassert.ok(!expected.when);\n\t\t}\n\t\tassert.strictEqual(actual.isDefault, expected.isDefault);\n\n\t\tif (actual.resolvedKeybinding) {\n\t\t\tassert.ok(!!expected.resolvedKeybinding);\n\t\t\tassert.strictEqual(actual.resolvedKeybinding.getLabel(), expected.resolvedKeybinding.getLabel());\n\t\t} else {\n\t\t\tassert.ok(!expected.resolvedKeybinding);\n\t\t}\n\t}\n\n\tfunction aResolvedKeybindingItem({ command, when, isDefault, firstChord, secondChord, extensionId }: { command?: string; when?: string; isDefault?: boolean; firstChord?: { keyCode: KeyCode; modifiers?: Modifiers }; secondChord?: { keyCode: KeyCode; modifiers?: Modifiers }; extensionId?: string }): ResolvedKeybindingItem {\n\t\tconst aSimpleKeybinding = function (chord: { keyCode: KeyCode; modifiers?: Modifiers }): KeyCodeChord {\n\t\t\tconst { ctrlKey, shiftKey, altKey, metaKey } = chord.modifiers || { ctrlKey: false, shiftKey: false, altKey: false, metaKey: false };\n\t\t\treturn new KeyCodeChord(ctrlKey!, shiftKey!, altKey!, metaKey!, chord.keyCode);\n\t\t};\n\t\tconst chords: KeyCodeChord[] = [];\n\t\tif (firstChord) {\n\t\t\tchords.push(aSimpleKeybinding(firstChord));\n\t\t\tif (secondChord) {\n\t\t\t\tchords.push(aSimpleKeybinding(secondChord));\n\t\t\t}\n\t\t}\n\t\tconst keybinding = chords.length > 0 ? new USLayoutResolvedKeybinding(chords, OS) : undefined;\n\t\treturn new ResolvedKeybindingItem(keybinding, command || 'some command', null, when ? ContextKeyExpr.deserialize(when) : undefined, isDefault === undefined ? true : isDefault, extensionId ?? null, false);\n\t}\n\n\tfunction asResolvedKeybindingItems(keybindingEntries: IKeybindingItemEntry[], keepUnassigned: boolean = false): ResolvedKeybindingItem[] {\n\t\tif (!keepUnassigned) {\n\t\t\tkeybindingEntries = keybindingEntries.filter(keybindingEntry => !!keybindingEntry.keybindingItem.keybinding);\n\t\t}\n\t\treturn keybindingEntries.map(entry => entry.keybindingItem.keybindingItem);\n\t}\n\n\n});\n"]}