{"version":3,"sources":["vs/workbench/services/preferences/browser/keybindingsEditorModel.ts"],"names":[],"mappings":"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","file":"keybindingsEditorModel.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { localize } from '../../../../nls.js';\nimport { distinct, coalesce } from '../../../../base/common/arrays.js';\nimport * as strings from '../../../../base/common/strings.js';\nimport { OperatingSystem, Language } from '../../../../base/common/platform.js';\nimport { IMatch, IFilter, or, matchesCamelCase, matchesWords, matchesBaseContiguousSubString, matchesContiguousSubString } from '../../../../base/common/filters.js';\nimport { ResolvedKeybinding, ResolvedChord } from '../../../../base/common/keybindings.js';\nimport { AriaLabelProvider, UserSettingsLabelProvider, UILabelProvider, ModifierLabels as ModLabels } from '../../../../base/common/keybindingLabels.js';\nimport { MenuRegistry } from '../../../../platform/actions/common/actions.js';\nimport { EditorModel } from '../../../common/editor/editorModel.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { ResolvedKeybindingItem } from '../../../../platform/keybinding/common/resolvedKeybindingItem.js';\nimport { getAllUnboundCommands } from '../../keybinding/browser/unboundCommands.js';\nimport { IKeybindingItemEntry, KeybindingMatches, KeybindingMatch, IKeybindingItem } from '../common/preferences.js';\nimport { ICommandAction, ILocalizedString } from '../../../../platform/action/common/action.js';\nimport { isEmptyObject, isString } from '../../../../base/common/types.js';\nimport { IExtensionService } from '../../extensions/common/extensions.js';\nimport { ExtensionIdentifier, ExtensionIdentifierMap, IExtensionDescription } from '../../../../platform/extensions/common/extensions.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\n\nexport const KEYBINDING_ENTRY_TEMPLATE_ID = 'keybinding.entry.template';\n\nconst SOURCE_SYSTEM = localize('default', \"System\");\nconst SOURCE_EXTENSION = localize('extension', \"Extension\");\nconst SOURCE_USER = localize('user', \"User\");\n\ninterface ModifierLabels {\n\tui: ModLabels;\n\taria: ModLabels;\n\tuser: ModLabels;\n}\n\nexport function createKeybindingCommandQuery(commandId: string, when?: string): string {\n\tconst whenPart = when ? ` +when:${when}` : '';\n\treturn `@command:${commandId}${whenPart}`;\n}\n\nconst wordFilter = or(matchesBaseContiguousSubString, matchesWords);\nconst COMMAND_REGEX = /@command:\\s*([^\\+]+)/i;\nconst WHEN_REGEX = /\\+when:\\s*(.+)/i;\nconst SOURCE_REGEX = /@source:\\s*(user|default|system|extension)/i;\nconst EXTENSION_REGEX = /@ext:\\s*((\".+\")|([^\\s]+))/i;\nconst KEYBINDING_REGEX = /@keybinding:\\s*((\\\".+\\\")|(\\S+))/i;\n\nexport class KeybindingsEditorModel extends EditorModel {\n\n\tprivate _keybindingItems: IKeybindingItem[];\n\tprivate _keybindingItemsSortedByPrecedence: IKeybindingItem[];\n\tprivate modifierLabels: ModifierLabels;\n\n\tconstructor(\n\t\tos: OperatingSystem,\n\t\t@IKeybindingService private readonly keybindingsService: IKeybindingService,\n\t\t@IExtensionService private readonly extensionService: IExtensionService,\n\t) {\n\t\tsuper();\n\t\tthis._keybindingItems = [];\n\t\tthis._keybindingItemsSortedByPrecedence = [];\n\t\tthis.modifierLabels = {\n\t\t\tui: UILabelProvider.modifierLabels[os],\n\t\t\taria: AriaLabelProvider.modifierLabels[os],\n\t\t\tuser: UserSettingsLabelProvider.modifierLabels[os]\n\t\t};\n\t}\n\n\tfetch(searchValue: string, sortByPrecedence: boolean = false): IKeybindingItemEntry[] {\n\t\tlet keybindingItems = sortByPrecedence ? this._keybindingItemsSortedByPrecedence : this._keybindingItems;\n\n\t\t// @command:COMMAND_ID\n\t\tconst commandIdMatches = COMMAND_REGEX.exec(searchValue);\n\t\tif (commandIdMatches && commandIdMatches[1]) {\n\t\t\tconst command = commandIdMatches[1].trim();\n\t\t\tlet filteredKeybindingItems = keybindingItems.filter(k => k.command === command);\n\n\t\t\t// +when:WHEN_EXPRESSION\n\t\t\tif (filteredKeybindingItems.length) {\n\t\t\t\tconst whenMatches = WHEN_REGEX.exec(searchValue);\n\t\t\t\tif (whenMatches && whenMatches[1]) {\n\t\t\t\t\tconst whenValue = whenMatches[1].trim();\n\t\t\t\t\tfilteredKeybindingItems = this.filterByWhen(filteredKeybindingItems, command, whenValue);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn filteredKeybindingItems.map((keybindingItem): IKeybindingItemEntry => ({ id: KeybindingsEditorModel.getId(keybindingItem), keybindingItem, templateId: KEYBINDING_ENTRY_TEMPLATE_ID }));\n\t\t}\n\n\t\t// @source:SOURCE\n\t\tif (SOURCE_REGEX.test(searchValue)) {\n\t\t\tkeybindingItems = this.filterBySource(keybindingItems, searchValue);\n\t\t\tsearchValue = searchValue.replace(SOURCE_REGEX, '');\n\t\t} else {\n\t\t\t// @ext:EXTENSION_ID\n\t\t\tconst extensionMatches = EXTENSION_REGEX.exec(searchValue);\n\t\t\tif (extensionMatches && (extensionMatches[2] || extensionMatches[3])) {\n\t\t\t\tconst extensionId = extensionMatches[2] ? extensionMatches[2].substring(1, extensionMatches[2].length - 1) : extensionMatches[3];\n\t\t\t\tkeybindingItems = this.filterByExtension(keybindingItems, extensionId);\n\t\t\t\tsearchValue = searchValue.replace(EXTENSION_REGEX, '');\n\t\t\t} else {\n\t\t\t\t// @keybinding:KEYBINDING\n\t\t\t\tconst keybindingMatches = KEYBINDING_REGEX.exec(searchValue);\n\t\t\t\tif (keybindingMatches && (keybindingMatches[2] || keybindingMatches[3])) {\n\t\t\t\t\tsearchValue = keybindingMatches[2] || `\"${keybindingMatches[3]}\"`;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tsearchValue = searchValue.trim();\n\t\tif (!searchValue) {\n\t\t\treturn keybindingItems.map((keybindingItem): IKeybindingItemEntry => ({ id: KeybindingsEditorModel.getId(keybindingItem), keybindingItem, templateId: KEYBINDING_ENTRY_TEMPLATE_ID }));\n\t\t}\n\n\t\treturn this.filterByText(keybindingItems, searchValue);\n\t}\n\n\tprivate filterBySource(keybindingItems: IKeybindingItem[], searchValue: string): IKeybindingItem[] {\n\t\tif (/@source:\\s*default/i.test(searchValue) || /@source:\\s*system/i.test(searchValue)) {\n\t\t\treturn keybindingItems.filter(k => k.source === SOURCE_SYSTEM);\n\t\t}\n\t\tif (/@source:\\s*user/i.test(searchValue)) {\n\t\t\treturn keybindingItems.filter(k => k.source === SOURCE_USER);\n\t\t}\n\t\tif (/@source:\\s*extension/i.test(searchValue)) {\n\t\t\treturn keybindingItems.filter(k => !isString(k.source) || k.source === SOURCE_EXTENSION);\n\t\t}\n\t\treturn keybindingItems;\n\t}\n\n\tprivate filterByExtension(keybindingItems: IKeybindingItem[], extension: string): IKeybindingItem[] {\n\t\textension = extension.toLowerCase().trim();\n\t\treturn keybindingItems.filter(k => !isString(k.source) && (ExtensionIdentifier.equals(k.source.identifier, extension) || k.source.displayName?.toLowerCase() === extension.toLowerCase()));\n\t}\n\n\tprivate filterByText(keybindingItems: IKeybindingItem[], searchValue: string): IKeybindingItemEntry[] {\n\t\tconst quoteAtFirstChar = searchValue.charAt(0) === '\"';\n\t\tconst quoteAtLastChar = searchValue.charAt(searchValue.length - 1) === '\"';\n\t\tconst completeMatch = quoteAtFirstChar && quoteAtLastChar;\n\t\tif (quoteAtFirstChar) {\n\t\t\tsearchValue = searchValue.substring(1);\n\t\t}\n\t\tif (quoteAtLastChar) {\n\t\t\tsearchValue = searchValue.substring(0, searchValue.length - 1);\n\t\t}\n\t\tsearchValue = searchValue.trim();\n\n\t\tconst result: IKeybindingItemEntry[] = [];\n\t\tconst words = searchValue.split(' ');\n\t\tconst keybindingWords = this.splitKeybindingWords(words);\n\t\tfor (const keybindingItem of keybindingItems) {\n\t\t\tconst keybindingMatches = new KeybindingItemMatches(this.modifierLabels, keybindingItem, searchValue, words, keybindingWords, completeMatch);\n\t\t\tif (keybindingMatches.commandIdMatches\n\t\t\t\t|| keybindingMatches.commandLabelMatches\n\t\t\t\t|| keybindingMatches.commandDefaultLabelMatches\n\t\t\t\t|| keybindingMatches.sourceMatches\n\t\t\t\t|| keybindingMatches.whenMatches\n\t\t\t\t|| keybindingMatches.keybindingMatches\n\t\t\t\t|| keybindingMatches.extensionIdMatches\n\t\t\t\t|| keybindingMatches.extensionLabelMatches\n\t\t\t) {\n\t\t\t\tresult.push({\n\t\t\t\t\tid: KeybindingsEditorModel.getId(keybindingItem),\n\t\t\t\t\ttemplateId: KEYBINDING_ENTRY_TEMPLATE_ID,\n\t\t\t\t\tcommandLabelMatches: keybindingMatches.commandLabelMatches || undefined,\n\t\t\t\t\tcommandDefaultLabelMatches: keybindingMatches.commandDefaultLabelMatches || undefined,\n\t\t\t\t\tkeybindingItem,\n\t\t\t\t\tkeybindingMatches: keybindingMatches.keybindingMatches || undefined,\n\t\t\t\t\tcommandIdMatches: keybindingMatches.commandIdMatches || undefined,\n\t\t\t\t\tsourceMatches: keybindingMatches.sourceMatches || undefined,\n\t\t\t\t\twhenMatches: keybindingMatches.whenMatches || undefined,\n\t\t\t\t\textensionIdMatches: keybindingMatches.extensionIdMatches || undefined,\n\t\t\t\t\textensionLabelMatches: keybindingMatches.extensionLabelMatches || undefined\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tprivate filterByWhen(keybindingItems: IKeybindingItem[], command: string, when: string): IKeybindingItem[] {\n\t\tif (keybindingItems.length === 0) {\n\t\t\treturn [];\n\t\t}\n\n\t\t// Check if a keybinding with the same command id and when clause exists\n\t\tconst keybindingItemsWithWhen = keybindingItems.filter(k => k.when === when);\n\t\tif (keybindingItemsWithWhen.length) {\n\t\t\treturn keybindingItemsWithWhen;\n\t\t}\n\n\t\t// Create a new entry with the when clause which does not live in the model\n\t\t// We can reuse some of the properties from the same command with different when clause\n\t\tconst commandLabel = keybindingItems[0].commandLabel;\n\n\t\tconst keybindingItem = new ResolvedKeybindingItem(undefined, command, null, ContextKeyExpr.deserialize(when), false, null, false);\n\t\tconst actionLabels = new Map([[command, commandLabel]]);\n\t\treturn [KeybindingsEditorModel.toKeybindingEntry(command, keybindingItem, actionLabels, this.getExtensionsMapping())];\n\t}\n\n\tprivate splitKeybindingWords(wordsSeparatedBySpaces: string[]): string[] {\n\t\tconst result: string[] = [];\n\t\tfor (const word of wordsSeparatedBySpaces) {\n\t\t\tresult.push(...coalesce(word.split('+')));\n\t\t}\n\t\treturn result;\n\t}\n\n\toverride async resolve(actionLabels = new Map<string, string>()): Promise<void> {\n\t\tconst extensions = this.getExtensionsMapping();\n\n\t\tthis._keybindingItemsSortedByPrecedence = [];\n\t\tconst boundCommands: Map<string, boolean> = new Map<string, boolean>();\n\t\tfor (const keybinding of this.keybindingsService.getKeybindings()) {\n\t\t\tif (keybinding.command) { // Skip keybindings without commands\n\t\t\t\tthis._keybindingItemsSortedByPrecedence.push(KeybindingsEditorModel.toKeybindingEntry(keybinding.command, keybinding, actionLabels, extensions));\n\t\t\t\tboundCommands.set(keybinding.command, true);\n\t\t\t}\n\t\t}\n\n\t\tconst commandsWithDefaultKeybindings = this.keybindingsService.getDefaultKeybindings().map(keybinding => keybinding.command);\n\t\tfor (const command of getAllUnboundCommands(boundCommands)) {\n\t\t\tconst keybindingItem = new ResolvedKeybindingItem(undefined, command, null, undefined, commandsWithDefaultKeybindings.indexOf(command) === -1, null, false);\n\t\t\tthis._keybindingItemsSortedByPrecedence.push(KeybindingsEditorModel.toKeybindingEntry(command, keybindingItem, actionLabels, extensions));\n\t\t}\n\t\tthis._keybindingItemsSortedByPrecedence = distinct(this._keybindingItemsSortedByPrecedence, keybindingItem => KeybindingsEditorModel.getId(keybindingItem));\n\t\tthis._keybindingItems = this._keybindingItemsSortedByPrecedence.slice(0).sort((a, b) => KeybindingsEditorModel.compareKeybindingData(a, b));\n\n\t\treturn super.resolve();\n\t}\n\n\tprivate static getId(keybindingItem: IKeybindingItem): string {\n\t\treturn keybindingItem.command + (keybindingItem?.keybinding?.getAriaLabel() ?? '') + keybindingItem.when + (isString(keybindingItem.source) ? keybindingItem.source : keybindingItem.source.identifier.value);\n\t}\n\n\tprivate getExtensionsMapping(): ExtensionIdentifierMap<IExtensionDescription> {\n\t\tconst extensions = new ExtensionIdentifierMap<IExtensionDescription>();\n\t\tfor (const extension of this.extensionService.extensions) {\n\t\t\textensions.set(extension.identifier, extension);\n\t\t}\n\t\treturn extensions;\n\t}\n\n\tprivate static compareKeybindingData(a: IKeybindingItem, b: IKeybindingItem): number {\n\t\tif (a.keybinding && !b.keybinding) {\n\t\t\treturn -1;\n\t\t}\n\t\tif (b.keybinding && !a.keybinding) {\n\t\t\treturn 1;\n\t\t}\n\t\tif (a.commandLabel && !b.commandLabel) {\n\t\t\treturn -1;\n\t\t}\n\t\tif (b.commandLabel && !a.commandLabel) {\n\t\t\treturn 1;\n\t\t}\n\t\tif (a.commandLabel && b.commandLabel) {\n\t\t\tif (a.commandLabel !== b.commandLabel) {\n\t\t\t\treturn a.commandLabel.localeCompare(b.commandLabel);\n\t\t\t}\n\t\t}\n\t\tif (a.command === b.command) {\n\t\t\treturn a.keybindingItem.isDefault ? 1 : -1;\n\t\t}\n\t\treturn a.command.localeCompare(b.command);\n\t}\n\n\tprivate static toKeybindingEntry(command: string, keybindingItem: ResolvedKeybindingItem, actions: Map<string, string>, extensions: ExtensionIdentifierMap<IExtensionDescription>): IKeybindingItem {\n\t\tconst menuCommand = MenuRegistry.getCommand(command);\n\t\tconst editorActionLabel = actions.get(command);\n\t\tlet source: string | IExtensionDescription = SOURCE_USER;\n\t\tif (keybindingItem.isDefault) {\n\t\t\tconst extensionId = keybindingItem.extensionId ?? (keybindingItem.resolvedKeybinding ? undefined : menuCommand?.source?.id);\n\t\t\tsource = extensionId ? extensions.get(extensionId) ?? SOURCE_EXTENSION : SOURCE_SYSTEM;\n\t\t}\n\t\t// eslint-disable-next-line local/code-no-dangerous-type-assertions\n\t\treturn <IKeybindingItem>{\n\t\t\tkeybinding: keybindingItem.resolvedKeybinding,\n\t\t\tkeybindingItem,\n\t\t\tcommand,\n\t\t\tcommandLabel: KeybindingsEditorModel.getCommandLabel(menuCommand, editorActionLabel),\n\t\t\tcommandDefaultLabel: KeybindingsEditorModel.getCommandDefaultLabel(menuCommand),\n\t\t\twhen: keybindingItem.when ? keybindingItem.when.serialize() : '',\n\t\t\tsource\n\n\t\t};\n\t}\n\n\tprivate static getCommandDefaultLabel(menuCommand: ICommandAction | undefined): string | null {\n\t\tif (!Language.isDefaultVariant()) {\n\t\t\tif (menuCommand && menuCommand.title && (<ILocalizedString>menuCommand.title).original) {\n\t\t\t\tconst category: string | undefined = menuCommand.category ? (<ILocalizedString>menuCommand.category).original : undefined;\n\t\t\t\tconst title = (<ILocalizedString>menuCommand.title).original;\n\t\t\t\treturn category ? localize('cat.title', \"{0}: {1}\", category, title) : title;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tprivate static getCommandLabel(menuCommand: ICommandAction | undefined, editorActionLabel: string | undefined): string {\n\t\tif (menuCommand) {\n\t\t\tconst category: string | undefined = menuCommand.category ? typeof menuCommand.category === 'string' ? menuCommand.category : menuCommand.category.value : undefined;\n\t\t\tconst title = typeof menuCommand.title === 'string' ? menuCommand.title : menuCommand.title.value;\n\t\t\treturn category ? localize('cat.title', \"{0}: {1}\", category, title) : title;\n\t\t}\n\n\t\tif (editorActionLabel) {\n\t\t\treturn editorActionLabel;\n\t\t}\n\n\t\treturn '';\n\t}\n}\n\nclass KeybindingItemMatches {\n\n\treadonly commandIdMatches: IMatch[] | null = null;\n\treadonly commandLabelMatches: IMatch[] | null = null;\n\treadonly commandDefaultLabelMatches: IMatch[] | null = null;\n\treadonly sourceMatches: IMatch[] | null = null;\n\treadonly whenMatches: IMatch[] | null = null;\n\treadonly keybindingMatches: KeybindingMatches | null = null;\n\treadonly extensionIdMatches: IMatch[] | null = null;\n\treadonly extensionLabelMatches: IMatch[] | null = null;\n\n\tconstructor(private modifierLabels: ModifierLabels, keybindingItem: IKeybindingItem, searchValue: string, words: string[], keybindingWords: string[], completeMatch: boolean) {\n\t\tif (!completeMatch) {\n\t\t\tthis.commandIdMatches = this.matches(searchValue, keybindingItem.command, or(matchesWords, matchesCamelCase), words);\n\t\t\tthis.commandLabelMatches = keybindingItem.commandLabel ? this.matches(searchValue, keybindingItem.commandLabel, (word, wordToMatchAgainst) => matchesWords(word, keybindingItem.commandLabel, true), words) : null;\n\t\t\tthis.commandDefaultLabelMatches = keybindingItem.commandDefaultLabel ? this.matches(searchValue, keybindingItem.commandDefaultLabel, (word, wordToMatchAgainst) => matchesWords(word, keybindingItem.commandDefaultLabel, true), words) : null;\n\t\t\tthis.whenMatches = keybindingItem.when ? this.matches(null, keybindingItem.when, or(matchesWords, matchesCamelCase), words) : null;\n\t\t\tif (isString(keybindingItem.source)) {\n\t\t\t\tthis.sourceMatches = this.matches(searchValue, keybindingItem.source, (word, wordToMatchAgainst) => matchesWords(word, keybindingItem.source as string, true), words);\n\t\t\t} else {\n\t\t\t\tthis.extensionLabelMatches = keybindingItem.source.displayName ? this.matches(searchValue, keybindingItem.source.displayName, (word, wordToMatchAgainst) => matchesWords(word, keybindingItem.commandLabel, true), words) : null;\n\t\t\t}\n\t\t}\n\t\tthis.keybindingMatches = keybindingItem.keybinding ? this.matchesKeybinding(keybindingItem.keybinding, searchValue, keybindingWords, completeMatch) : null;\n\t}\n\n\tprivate matches(searchValue: string | null, wordToMatchAgainst: string, wordMatchesFilter: IFilter, words: string[]): IMatch[] | null {\n\t\tlet matches = searchValue ? wordFilter(searchValue, wordToMatchAgainst) : null;\n\t\tif (!matches) {\n\t\t\tmatches = this.matchesWords(words, wordToMatchAgainst, wordMatchesFilter);\n\t\t}\n\t\tif (matches) {\n\t\t\tmatches = this.filterAndSort(matches);\n\t\t}\n\t\treturn matches;\n\t}\n\n\tprivate matchesWords(words: string[], wordToMatchAgainst: string, wordMatchesFilter: IFilter): IMatch[] | null {\n\t\tlet matches: IMatch[] | null = [];\n\t\tfor (const word of words) {\n\t\t\tconst wordMatches = wordMatchesFilter(word, wordToMatchAgainst);\n\t\t\tif (wordMatches) {\n\t\t\t\tmatches = [...(matches || []), ...wordMatches];\n\t\t\t} else {\n\t\t\t\tmatches = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn matches;\n\t}\n\n\tprivate filterAndSort(matches: IMatch[]): IMatch[] {\n\t\treturn distinct(matches, (a => a.start + '.' + a.end)).filter(match => !matches.some(m => !(m.start === match.start && m.end === match.end) && (m.start <= match.start && m.end >= match.end))).sort((a, b) => a.start - b.start);\n\t}\n\n\tprivate matchesKeybinding(keybinding: ResolvedKeybinding, searchValue: string, words: string[], completeMatch: boolean): KeybindingMatches | null {\n\t\tconst [firstPart, chordPart] = keybinding.getChords();\n\n\t\tconst userSettingsLabel = keybinding.getUserSettingsLabel();\n\t\tconst ariaLabel = keybinding.getAriaLabel();\n\t\tconst label = keybinding.getLabel();\n\t\tif ((userSettingsLabel && strings.compareIgnoreCase(searchValue, userSettingsLabel) === 0)\n\t\t\t|| (ariaLabel && strings.compareIgnoreCase(searchValue, ariaLabel) === 0)\n\t\t\t|| (label && strings.compareIgnoreCase(searchValue, label) === 0)) {\n\t\t\treturn {\n\t\t\t\tfirstPart: this.createCompleteMatch(firstPart),\n\t\t\t\tchordPart: this.createCompleteMatch(chordPart)\n\t\t\t};\n\t\t}\n\n\t\tconst firstPartMatch: KeybindingMatch = {};\n\t\tlet chordPartMatch: KeybindingMatch = {};\n\n\t\tconst matchedWords: number[] = [];\n\t\tconst firstPartMatchedWords: number[] = [];\n\t\tlet chordPartMatchedWords: number[] = [];\n\t\tlet matchFirstPart = true;\n\t\tfor (let index = 0; index < words.length; index++) {\n\t\t\tconst word = words[index];\n\t\t\tlet firstPartMatched = false;\n\t\t\tlet chordPartMatched = false;\n\n\t\t\tmatchFirstPart = matchFirstPart && !firstPartMatch.keyCode;\n\t\t\tlet matchChordPart = !chordPartMatch.keyCode;\n\n\t\t\tif (matchFirstPart) {\n\t\t\t\tfirstPartMatched = this.matchPart(firstPart, firstPartMatch, word, completeMatch);\n\t\t\t\tif (firstPartMatch.keyCode) {\n\t\t\t\t\tfor (const cordPartMatchedWordIndex of chordPartMatchedWords) {\n\t\t\t\t\t\tif (firstPartMatchedWords.indexOf(cordPartMatchedWordIndex) === -1) {\n\t\t\t\t\t\t\tmatchedWords.splice(matchedWords.indexOf(cordPartMatchedWordIndex), 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tchordPartMatch = {};\n\t\t\t\t\tchordPartMatchedWords = [];\n\t\t\t\t\tmatchChordPart = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (matchChordPart) {\n\t\t\t\tchordPartMatched = this.matchPart(chordPart, chordPartMatch, word, completeMatch);\n\t\t\t}\n\n\t\t\tif (firstPartMatched) {\n\t\t\t\tfirstPartMatchedWords.push(index);\n\t\t\t}\n\t\t\tif (chordPartMatched) {\n\t\t\t\tchordPartMatchedWords.push(index);\n\t\t\t}\n\t\t\tif (firstPartMatched || chordPartMatched) {\n\t\t\t\tmatchedWords.push(index);\n\t\t\t}\n\n\t\t\tmatchFirstPart = matchFirstPart && this.isModifier(word);\n\t\t}\n\t\tif (matchedWords.length !== words.length) {\n\t\t\treturn null;\n\t\t}\n\t\tif (completeMatch) {\n\t\t\tif (!this.isCompleteMatch(firstPart, firstPartMatch)) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (!isEmptyObject(chordPartMatch) && !this.isCompleteMatch(chordPart, chordPartMatch)) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t\treturn this.hasAnyMatch(firstPartMatch) || this.hasAnyMatch(chordPartMatch) ? { firstPart: firstPartMatch, chordPart: chordPartMatch } : null;\n\t}\n\n\tprivate matchPart(chord: ResolvedChord | null, match: KeybindingMatch, word: string, completeMatch: boolean): boolean {\n\t\tlet matched = false;\n\t\tif (this.matchesMetaModifier(chord, word)) {\n\t\t\tmatched = true;\n\t\t\tmatch.metaKey = true;\n\t\t}\n\t\tif (this.matchesCtrlModifier(chord, word)) {\n\t\t\tmatched = true;\n\t\t\tmatch.ctrlKey = true;\n\t\t}\n\t\tif (this.matchesShiftModifier(chord, word)) {\n\t\t\tmatched = true;\n\t\t\tmatch.shiftKey = true;\n\t\t}\n\t\tif (this.matchesAltModifier(chord, word)) {\n\t\t\tmatched = true;\n\t\t\tmatch.altKey = true;\n\t\t}\n\t\tif (this.matchesKeyCode(chord, word, completeMatch)) {\n\t\t\tmatch.keyCode = true;\n\t\t\tmatched = true;\n\t\t}\n\t\treturn matched;\n\t}\n\n\tprivate matchesKeyCode(chord: ResolvedChord | null, word: string, completeMatch: boolean): boolean {\n\t\tif (!chord) {\n\t\t\treturn false;\n\t\t}\n\t\tconst ariaLabel: string = chord.keyAriaLabel || '';\n\t\tif (completeMatch || ariaLabel.length === 1 || word.length === 1) {\n\t\t\tif (strings.compareIgnoreCase(ariaLabel, word) === 0) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} else {\n\t\t\tif (matchesContiguousSubString(word, ariaLabel)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate matchesMetaModifier(chord: ResolvedChord | null, word: string): boolean {\n\t\tif (!chord) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!chord.metaKey) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this.wordMatchesMetaModifier(word);\n\t}\n\n\tprivate matchesCtrlModifier(chord: ResolvedChord | null, word: string): boolean {\n\t\tif (!chord) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!chord.ctrlKey) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this.wordMatchesCtrlModifier(word);\n\t}\n\n\tprivate matchesShiftModifier(chord: ResolvedChord | null, word: string): boolean {\n\t\tif (!chord) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!chord.shiftKey) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this.wordMatchesShiftModifier(word);\n\t}\n\n\tprivate matchesAltModifier(chord: ResolvedChord | null, word: string): boolean {\n\t\tif (!chord) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!chord.altKey) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this.wordMatchesAltModifier(word);\n\t}\n\n\tprivate hasAnyMatch(keybindingMatch: KeybindingMatch): boolean {\n\t\treturn !!keybindingMatch.altKey ||\n\t\t\t!!keybindingMatch.ctrlKey ||\n\t\t\t!!keybindingMatch.metaKey ||\n\t\t\t!!keybindingMatch.shiftKey ||\n\t\t\t!!keybindingMatch.keyCode;\n\t}\n\n\tprivate isCompleteMatch(chord: ResolvedChord | null, match: KeybindingMatch): boolean {\n\t\tif (!chord) {\n\t\t\treturn true;\n\t\t}\n\t\tif (!match.keyCode) {\n\t\t\treturn false;\n\t\t}\n\t\tif (chord.metaKey && !match.metaKey) {\n\t\t\treturn false;\n\t\t}\n\t\tif (chord.altKey && !match.altKey) {\n\t\t\treturn false;\n\t\t}\n\t\tif (chord.ctrlKey && !match.ctrlKey) {\n\t\t\treturn false;\n\t\t}\n\t\tif (chord.shiftKey && !match.shiftKey) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tprivate createCompleteMatch(chord: ResolvedChord | null): KeybindingMatch {\n\t\tconst match: KeybindingMatch = {};\n\t\tif (chord) {\n\t\t\tmatch.keyCode = true;\n\t\t\tif (chord.metaKey) {\n\t\t\t\tmatch.metaKey = true;\n\t\t\t}\n\t\t\tif (chord.altKey) {\n\t\t\t\tmatch.altKey = true;\n\t\t\t}\n\t\t\tif (chord.ctrlKey) {\n\t\t\t\tmatch.ctrlKey = true;\n\t\t\t}\n\t\t\tif (chord.shiftKey) {\n\t\t\t\tmatch.shiftKey = true;\n\t\t\t}\n\t\t}\n\t\treturn match;\n\t}\n\n\tprivate isModifier(word: string): boolean {\n\t\tif (this.wordMatchesAltModifier(word)) {\n\t\t\treturn true;\n\t\t}\n\t\tif (this.wordMatchesCtrlModifier(word)) {\n\t\t\treturn true;\n\t\t}\n\t\tif (this.wordMatchesMetaModifier(word)) {\n\t\t\treturn true;\n\t\t}\n\t\tif (this.wordMatchesShiftModifier(word)) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate wordMatchesAltModifier(word: string): boolean {\n\t\tif (strings.equalsIgnoreCase(this.modifierLabels.ui.altKey, word)) {\n\t\t\treturn true;\n\t\t}\n\t\tif (strings.equalsIgnoreCase(this.modifierLabels.aria.altKey, word)) {\n\t\t\treturn true;\n\t\t}\n\t\tif (strings.equalsIgnoreCase(this.modifierLabels.user.altKey, word)) {\n\t\t\treturn true;\n\t\t}\n\t\tif (strings.equalsIgnoreCase(localize('option', \"option\"), word)) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate wordMatchesCtrlModifier(word: string): boolean {\n\t\tif (strings.equalsIgnoreCase(this.modifierLabels.ui.ctrlKey, word)) {\n\t\t\treturn true;\n\t\t}\n\t\tif (strings.equalsIgnoreCase(this.modifierLabels.aria.ctrlKey, word)) {\n\t\t\treturn true;\n\t\t}\n\t\tif (strings.equalsIgnoreCase(this.modifierLabels.user.ctrlKey, word)) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate wordMatchesMetaModifier(word: string): boolean {\n\t\tif (strings.equalsIgnoreCase(this.modifierLabels.ui.metaKey, word)) {\n\t\t\treturn true;\n\t\t}\n\t\tif (strings.equalsIgnoreCase(this.modifierLabels.aria.metaKey, word)) {\n\t\t\treturn true;\n\t\t}\n\t\tif (strings.equalsIgnoreCase(this.modifierLabels.user.metaKey, word)) {\n\t\t\treturn true;\n\t\t}\n\t\tif (strings.equalsIgnoreCase(localize('meta', \"meta\"), word)) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate wordMatchesShiftModifier(word: string): boolean {\n\t\tif (strings.equalsIgnoreCase(this.modifierLabels.ui.shiftKey, word)) {\n\t\t\treturn true;\n\t\t}\n\t\tif (strings.equalsIgnoreCase(this.modifierLabels.aria.shiftKey, word)) {\n\t\t\treturn true;\n\t\t}\n\t\tif (strings.equalsIgnoreCase(this.modifierLabels.user.shiftKey, word)) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n}\n"]}