{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/services/authentication/test/browser/authenticationQueryServiceMocks.ts","vs/workbench/services/authentication/test/browser/authenticationQueryServiceMocks.ts"],"names":[],"mappings":"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","file":"authenticationQueryServiceMocks.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Emitter } from '../../../../../base/common/event.js';\nimport { Disposable, IDisposable } from '../../../../../base/common/lifecycle.js';\nimport { AuthenticationSession, AuthenticationSessionAccount, IAuthenticationProvider, IAuthenticationService, IAuthenticationExtensionsService } from '../../common/authentication.js';\nimport { IAuthenticationUsageService } from '../../browser/authenticationUsageService.js';\nimport { IAuthenticationMcpUsageService } from '../../browser/authenticationMcpUsageService.js';\nimport { IAuthenticationAccessService } from '../../browser/authenticationAccessService.js';\nimport { IAuthenticationMcpAccessService } from '../../browser/authenticationMcpAccessService.js';\nimport { IAuthenticationMcpService } from '../../browser/authenticationMcpService.js';\n\n/**\n * Helper function to create a mock authentication provider\n */\nexport function createProvider(overrides: Partial<IAuthenticationProvider> = {}): IAuthenticationProvider {\n\treturn {\n\t\tid: 'test-provider',\n\t\tlabel: 'Test Provider',\n\t\tsupportsMultipleAccounts: true,\n\t\tcreateSession: () => Promise.resolve(createSession()),\n\t\tremoveSession: () => Promise.resolve(),\n\t\tgetSessions: () => Promise.resolve([]),\n\t\tonDidChangeSessions: new Emitter<any>().event,\n\t\t...overrides\n\t};\n}\n\n/**\n * Helper function to create a mock authentication session\n */\nexport function createSession(): AuthenticationSession {\n\treturn {\n\t\tid: 'test-session',\n\t\taccessToken: 'test-token',\n\t\taccount: { id: 'test-account', label: 'Test Account' },\n\t\tscopes: ['read', 'write'],\n\t\tidToken: undefined\n\t};\n}\n\n/**\n * Interface for tracking method calls in mock services\n */\ninterface MethodCall {\n\tmethod: string;\n\targs: any[];\n\ttimestamp: number;\n}\n\n/**\n * Base class for test services with common functionality and call tracking\n */\nexport abstract class BaseTestService extends Disposable {\n\tprotected readonly data = new Map<string, any>();\n\tprivate readonly _methodCalls: MethodCall[] = [];\n\n\tprotected getKey(...parts: string[]): string {\n\t\treturn parts.join('::');\n\t}\n\n\t/**\n\t * Track a method call for verification in tests\n\t */\n\tprotected trackCall(method: string, ...args: any[]): void {\n\t\tthis._methodCalls.push({\n\t\t\tmethod,\n\t\t\targs: [...args],\n\t\t\ttimestamp: Date.now()\n\t\t});\n\t}\n\n\t/**\n\t * Get all method calls for verification\n\t */\n\tgetMethodCalls(): readonly MethodCall[] {\n\t\treturn [...this._methodCalls];\n\t}\n\n\t/**\n\t * Get calls for a specific method\n\t */\n\tgetCallsFor(method: string): readonly MethodCall[] {\n\t\treturn this._methodCalls.filter(call => call.method === method);\n\t}\n\n\t/**\n\t * Clear method call history\n\t */\n\tclearCallHistory(): void {\n\t\tthis._methodCalls.length = 0;\n\t}\n\n\t/**\n\t * Get the last call for a specific method\n\t */\n\tgetLastCallFor(method: string): MethodCall | undefined {\n\t\tconst calls = this.getCallsFor(method);\n\t\treturn calls[calls.length - 1];\n\t}\n}\n\n/**\n * Test implementation that actually stores and retrieves data\n */\nexport class TestUsageService extends BaseTestService implements IAuthenticationUsageService {\n\tdeclare readonly _serviceBrand: undefined;\n\n\treadAccountUsages(providerId: string, accountName: string): any[] {\n\t\tthis.trackCall('readAccountUsages', providerId, accountName);\n\t\treturn this.data.get(this.getKey(providerId, accountName)) || [];\n\t}\n\n\taddAccountUsage(providerId: string, accountName: string, scopes: readonly string[], extensionId: string, extensionName: string): void {\n\t\tthis.trackCall('addAccountUsage', providerId, accountName, scopes, extensionId, extensionName);\n\t\tconst key = this.getKey(providerId, accountName);\n\t\tconst usages = this.data.get(key) || [];\n\t\tusages.push({ extensionId, extensionName, scopes: [...scopes], lastUsed: Date.now() });\n\t\tthis.data.set(key, usages);\n\t}\n\n\tremoveAccountUsage(providerId: string, accountName: string): void {\n\t\tthis.trackCall('removeAccountUsage', providerId, accountName);\n\t\tthis.data.delete(this.getKey(providerId, accountName));\n\t}\n\n\t// Stub implementations for missing methods\n\tasync initializeExtensionUsageCache(): Promise<void> { }\n\tasync extensionUsesAuth(extensionId: string): Promise<boolean> { return false; }\n}\n\nexport class TestMcpUsageService extends BaseTestService implements IAuthenticationMcpUsageService {\n\tdeclare readonly _serviceBrand: undefined;\n\n\treadAccountUsages(providerId: string, accountName: string): any[] {\n\t\tthis.trackCall('readAccountUsages', providerId, accountName);\n\t\treturn this.data.get(this.getKey(providerId, accountName)) || [];\n\t}\n\n\taddAccountUsage(providerId: string, accountName: string, scopes: readonly string[], mcpServerId: string, mcpServerName: string): void {\n\t\tthis.trackCall('addAccountUsage', providerId, accountName, scopes, mcpServerId, mcpServerName);\n\t\tconst key = this.getKey(providerId, accountName);\n\t\tconst usages = this.data.get(key) || [];\n\t\tusages.push({ mcpServerId, mcpServerName, scopes: [...scopes], lastUsed: Date.now() });\n\t\tthis.data.set(key, usages);\n\t}\n\n\tremoveAccountUsage(providerId: string, accountName: string): void {\n\t\tthis.trackCall('removeAccountUsage', providerId, accountName);\n\t\tthis.data.delete(this.getKey(providerId, accountName));\n\t}\n\n\t// Stub implementations for missing methods\n\tasync initializeUsageCache(): Promise<void> { }\n\tasync hasUsedAuth(mcpServerId: string): Promise<boolean> { return false; }\n}\n\nexport class TestAccessService extends BaseTestService implements IAuthenticationAccessService {\n\tdeclare readonly _serviceBrand: undefined;\n\tprivate readonly _onDidChangeExtensionSessionAccess = this._register(new Emitter<any>());\n\tonDidChangeExtensionSessionAccess = this._onDidChangeExtensionSessionAccess.event;\n\n\tisAccessAllowed(providerId: string, accountName: string, extensionId: string): boolean | undefined {\n\t\tthis.trackCall('isAccessAllowed', providerId, accountName, extensionId);\n\t\tconst extensions = this.data.get(this.getKey(providerId, accountName)) || [];\n\t\tconst extension = extensions.find((e: any) => e.id === extensionId);\n\t\treturn extension?.allowed;\n\t}\n\n\treadAllowedExtensions(providerId: string, accountName: string): any[] {\n\t\tthis.trackCall('readAllowedExtensions', providerId, accountName);\n\t\treturn this.data.get(this.getKey(providerId, accountName)) || [];\n\t}\n\n\tupdateAllowedExtensions(providerId: string, accountName: string, extensions: any[]): void {\n\t\tthis.trackCall('updateAllowedExtensions', providerId, accountName, extensions);\n\t\tconst key = this.getKey(providerId, accountName);\n\t\tconst existing = this.data.get(key) || [];\n\n\t\t// Merge with existing data, updating or adding extensions\n\t\tconst merged = [...existing];\n\t\tfor (const ext of extensions) {\n\t\t\tconst existingIndex = merged.findIndex(e => e.id === ext.id);\n\t\t\tif (existingIndex >= 0) {\n\t\t\t\tmerged[existingIndex] = ext;\n\t\t\t} else {\n\t\t\t\tmerged.push(ext);\n\t\t\t}\n\t\t}\n\n\t\tthis.data.set(key, merged);\n\t\tthis._onDidChangeExtensionSessionAccess.fire({ providerId, accountName });\n\t}\n\n\tremoveAllowedExtensions(providerId: string, accountName: string): void {\n\t\tthis.trackCall('removeAllowedExtensions', providerId, accountName);\n\t\tthis.data.delete(this.getKey(providerId, accountName));\n\t}\n}\n\nexport class TestMcpAccessService extends BaseTestService implements IAuthenticationMcpAccessService {\n\tdeclare readonly _serviceBrand: undefined;\n\tprivate readonly _onDidChangeMcpSessionAccess = this._register(new Emitter<any>());\n\tonDidChangeMcpSessionAccess = this._onDidChangeMcpSessionAccess.event;\n\n\tisAccessAllowed(providerId: string, accountName: string, mcpServerId: string): boolean | undefined {\n\t\tthis.trackCall('isAccessAllowed', providerId, accountName, mcpServerId);\n\t\tconst servers = this.data.get(this.getKey(providerId, accountName)) || [];\n\t\tconst server = servers.find((s: any) => s.id === mcpServerId);\n\t\treturn server?.allowed;\n\t}\n\n\treadAllowedMcpServers(providerId: string, accountName: string): any[] {\n\t\tthis.trackCall('readAllowedMcpServers', providerId, accountName);\n\t\treturn this.data.get(this.getKey(providerId, accountName)) || [];\n\t}\n\n\tupdateAllowedMcpServers(providerId: string, accountName: string, mcpServers: any[]): void {\n\t\tthis.trackCall('updateAllowedMcpServers', providerId, accountName, mcpServers);\n\t\tconst key = this.getKey(providerId, accountName);\n\t\tconst existing = this.data.get(key) || [];\n\n\t\t// Merge with existing data, updating or adding MCP servers\n\t\tconst merged = [...existing];\n\t\tfor (const server of mcpServers) {\n\t\t\tconst existingIndex = merged.findIndex(s => s.id === server.id);\n\t\t\tif (existingIndex >= 0) {\n\t\t\t\tmerged[existingIndex] = server;\n\t\t\t} else {\n\t\t\t\tmerged.push(server);\n\t\t\t}\n\t\t}\n\n\t\tthis.data.set(key, merged);\n\t\tthis._onDidChangeMcpSessionAccess.fire({ providerId, accountName });\n\t}\n\n\tremoveAllowedMcpServers(providerId: string, accountName: string): void {\n\t\tthis.trackCall('removeAllowedMcpServers', providerId, accountName);\n\t\tthis.data.delete(this.getKey(providerId, accountName));\n\t\tthis._onDidChangeMcpSessionAccess.fire({ providerId, accountName });\n\t}\n}\n\nexport class TestPreferencesService extends BaseTestService {\n\tprivate readonly _onDidChangeAccountPreference = this._register(new Emitter<any>());\n\tonDidChangeAccountPreference = this._onDidChangeAccountPreference.event;\n\n\tgetAccountPreference(clientId: string, providerId: string): string | undefined {\n\t\treturn this.data.get(this.getKey(clientId, providerId));\n\t}\n\n\tupdateAccountPreference(clientId: string, providerId: string, account: any): void {\n\t\tthis.data.set(this.getKey(clientId, providerId), account.label);\n\t}\n\n\tremoveAccountPreference(clientId: string, providerId: string): void {\n\t\tthis.data.delete(this.getKey(clientId, providerId));\n\t}\n}\n\nexport class TestExtensionsService extends TestPreferencesService implements IAuthenticationExtensionsService {\n\tdeclare readonly _serviceBrand: undefined;\n\n\t// Stub implementations for methods we don't test\n\tupdateSessionPreference(): void { }\n\tgetSessionPreference(): string | undefined { return undefined; }\n\tremoveSessionPreference(): void { }\n\tselectSession(): Promise<any> { return Promise.resolve(createSession()); }\n\trequestSessionAccess(): void { }\n\trequestNewSession(): Promise<void> { return Promise.resolve(); }\n\tupdateNewSessionRequests(): void { }\n}\n\nexport class TestMcpService extends TestPreferencesService implements IAuthenticationMcpService {\n\tdeclare readonly _serviceBrand: undefined;\n\n\t// Stub implementations for methods we don't test\n\tupdateSessionPreference(): void { }\n\tgetSessionPreference(): string | undefined { return undefined; }\n\tremoveSessionPreference(): void { }\n\tselectSession(): Promise<any> { return Promise.resolve(createSession()); }\n\trequestSessionAccess(): void { }\n\trequestNewSession(): Promise<void> { return Promise.resolve(); }\n}\n\n/**\n * Minimal authentication service mock that only implements what we need\n */\nexport class TestAuthenticationService extends BaseTestService implements IAuthenticationService {\n\tdeclare readonly _serviceBrand: undefined;\n\n\tprivate readonly _onDidChangeSessions = this._register(new Emitter<any>());\n\tprivate readonly _onDidRegisterAuthenticationProvider = this._register(new Emitter<any>());\n\tprivate readonly _onDidUnregisterAuthenticationProvider = this._register(new Emitter<any>());\n\tprivate readonly _onDidChangeDeclaredProviders = this._register(new Emitter<void>());\n\n\tonDidChangeSessions = this._onDidChangeSessions.event;\n\tonDidRegisterAuthenticationProvider = this._onDidRegisterAuthenticationProvider.event;\n\tonDidUnregisterAuthenticationProvider = this._onDidUnregisterAuthenticationProvider.event;\n\tonDidChangeDeclaredProviders = this._onDidChangeDeclaredProviders.event;\n\n\tprivate readonly accountsMap = new Map<string, AuthenticationSessionAccount[]>();\n\n\tregisterAuthenticationProvider(id: string, provider: IAuthenticationProvider): void {\n\t\tthis.data.set(id, provider);\n\t\tthis._onDidRegisterAuthenticationProvider.fire({ id, label: provider.label });\n\t}\n\n\tgetProviderIds(): string[] {\n\t\treturn Array.from(this.data.keys());\n\t}\n\n\tisAuthenticationProviderRegistered(id: string): boolean {\n\t\treturn this.data.has(id);\n\t}\n\n\tgetProvider(id: string): IAuthenticationProvider {\n\t\treturn this.data.get(id)!;\n\t}\n\n\taddAccounts(providerId: string, accounts: AuthenticationSessionAccount[]): void {\n\t\tthis.accountsMap.set(providerId, accounts);\n\t}\n\n\tasync getAccounts(providerId: string): Promise<readonly AuthenticationSessionAccount[]> {\n\t\treturn this.accountsMap.get(providerId) || [];\n\t}\n\n\t// All other methods are stubs since we don't test them\n\tget declaredProviders(): any[] { return []; }\n\tisDynamicAuthenticationProvider(): boolean { return false; }\n\tasync getSessions(): Promise<readonly AuthenticationSession[]> { return []; }\n\tasync createSession(): Promise<AuthenticationSession> { return createSession(); }\n\tasync removeSession(): Promise<void> { }\n\tmanageTrustedExtensionsForAccount(): void { }\n\tasync removeAccountSessions(): Promise<void> { }\n\tregisterDeclaredAuthenticationProvider(): void { }\n\tunregisterDeclaredAuthenticationProvider(): void { }\n\tunregisterAuthenticationProvider(): void { }\n\tregisterAuthenticationProviderHostDelegate(): IDisposable { return { dispose: () => { } }; }\n\tcreateDynamicAuthenticationProvider(): Promise<any> { return Promise.resolve(undefined); }\n\tasync requestNewSession(): Promise<AuthenticationSession> { return createSession(); }\n\tasync getSession(): Promise<AuthenticationSession | undefined> { return createSession(); }\n\tgetOrActivateProviderIdForServer(): Promise<string | undefined> { return Promise.resolve(undefined); }\n\tsupportsHeimdallConnection(): boolean { return false; }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Emitter } from '../../../../../base/common/event.js';\nimport { Disposable, IDisposable } from '../../../../../base/common/lifecycle.js';\nimport { AuthenticationSession, AuthenticationSessionAccount, IAuthenticationProvider, IAuthenticationService, IAuthenticationExtensionsService } from '../../common/authentication.js';\nimport { IAuthenticationUsageService } from '../../browser/authenticationUsageService.js';\nimport { IAuthenticationMcpUsageService } from '../../browser/authenticationMcpUsageService.js';\nimport { IAuthenticationAccessService } from '../../browser/authenticationAccessService.js';\nimport { IAuthenticationMcpAccessService } from '../../browser/authenticationMcpAccessService.js';\nimport { IAuthenticationMcpService } from '../../browser/authenticationMcpService.js';\n\n/**\n * Helper function to create a mock authentication provider\n */\nexport function createProvider(overrides: Partial<IAuthenticationProvider> = {}): IAuthenticationProvider {\n\treturn {\n\t\tid: 'test-provider',\n\t\tlabel: 'Test Provider',\n\t\tsupportsMultipleAccounts: true,\n\t\tcreateSession: () => Promise.resolve(createSession()),\n\t\tremoveSession: () => Promise.resolve(),\n\t\tgetSessions: () => Promise.resolve([]),\n\t\tonDidChangeSessions: new Emitter<any>().event,\n\t\t...overrides\n\t};\n}\n\n/**\n * Helper function to create a mock authentication session\n */\nexport function createSession(): AuthenticationSession {\n\treturn {\n\t\tid: 'test-session',\n\t\taccessToken: 'test-token',\n\t\taccount: { id: 'test-account', label: 'Test Account' },\n\t\tscopes: ['read', 'write'],\n\t\tidToken: undefined\n\t};\n}\n\n/**\n * Interface for tracking method calls in mock services\n */\ninterface MethodCall {\n\tmethod: string;\n\targs: any[];\n\ttimestamp: number;\n}\n\n/**\n * Base class for test services with common functionality and call tracking\n */\nexport abstract class BaseTestService extends Disposable {\n\tprotected readonly data = new Map<string, any>();\n\tprivate readonly _methodCalls: MethodCall[] = [];\n\n\tprotected getKey(...parts: string[]): string {\n\t\treturn parts.join('::');\n\t}\n\n\t/**\n\t * Track a method call for verification in tests\n\t */\n\tprotected trackCall(method: string, ...args: any[]): void {\n\t\tthis._methodCalls.push({\n\t\t\tmethod,\n\t\t\targs: [...args],\n\t\t\ttimestamp: Date.now()\n\t\t});\n\t}\n\n\t/**\n\t * Get all method calls for verification\n\t */\n\tgetMethodCalls(): readonly MethodCall[] {\n\t\treturn [...this._methodCalls];\n\t}\n\n\t/**\n\t * Get calls for a specific method\n\t */\n\tgetCallsFor(method: string): readonly MethodCall[] {\n\t\treturn this._methodCalls.filter(call => call.method === method);\n\t}\n\n\t/**\n\t * Clear method call history\n\t */\n\tclearCallHistory(): void {\n\t\tthis._methodCalls.length = 0;\n\t}\n\n\t/**\n\t * Get the last call for a specific method\n\t */\n\tgetLastCallFor(method: string): MethodCall | undefined {\n\t\tconst calls = this.getCallsFor(method);\n\t\treturn calls[calls.length - 1];\n\t}\n}\n\n/**\n * Test implementation that actually stores and retrieves data\n */\nexport class TestUsageService extends BaseTestService implements IAuthenticationUsageService {\n\tdeclare readonly _serviceBrand: undefined;\n\n\treadAccountUsages(providerId: string, accountName: string): any[] {\n\t\tthis.trackCall('readAccountUsages', providerId, accountName);\n\t\treturn this.data.get(this.getKey(providerId, accountName)) || [];\n\t}\n\n\taddAccountUsage(providerId: string, accountName: string, scopes: readonly string[], extensionId: string, extensionName: string): void {\n\t\tthis.trackCall('addAccountUsage', providerId, accountName, scopes, extensionId, extensionName);\n\t\tconst key = this.getKey(providerId, accountName);\n\t\tconst usages = this.data.get(key) || [];\n\t\tusages.push({ extensionId, extensionName, scopes: [...scopes], lastUsed: Date.now() });\n\t\tthis.data.set(key, usages);\n\t}\n\n\tremoveAccountUsage(providerId: string, accountName: string): void {\n\t\tthis.trackCall('removeAccountUsage', providerId, accountName);\n\t\tthis.data.delete(this.getKey(providerId, accountName));\n\t}\n\n\t// Stub implementations for missing methods\n\tasync initializeExtensionUsageCache(): Promise<void> { }\n\tasync extensionUsesAuth(extensionId: string): Promise<boolean> { return false; }\n}\n\nexport class TestMcpUsageService extends BaseTestService implements IAuthenticationMcpUsageService {\n\tdeclare readonly _serviceBrand: undefined;\n\n\treadAccountUsages(providerId: string, accountName: string): any[] {\n\t\tthis.trackCall('readAccountUsages', providerId, accountName);\n\t\treturn this.data.get(this.getKey(providerId, accountName)) || [];\n\t}\n\n\taddAccountUsage(providerId: string, accountName: string, scopes: readonly string[], mcpServerId: string, mcpServerName: string): void {\n\t\tthis.trackCall('addAccountUsage', providerId, accountName, scopes, mcpServerId, mcpServerName);\n\t\tconst key = this.getKey(providerId, accountName);\n\t\tconst usages = this.data.get(key) || [];\n\t\tusages.push({ mcpServerId, mcpServerName, scopes: [...scopes], lastUsed: Date.now() });\n\t\tthis.data.set(key, usages);\n\t}\n\n\tremoveAccountUsage(providerId: string, accountName: string): void {\n\t\tthis.trackCall('removeAccountUsage', providerId, accountName);\n\t\tthis.data.delete(this.getKey(providerId, accountName));\n\t}\n\n\t// Stub implementations for missing methods\n\tasync initializeUsageCache(): Promise<void> { }\n\tasync hasUsedAuth(mcpServerId: string): Promise<boolean> { return false; }\n}\n\nexport class TestAccessService extends BaseTestService implements IAuthenticationAccessService {\n\tdeclare readonly _serviceBrand: undefined;\n\tprivate readonly _onDidChangeExtensionSessionAccess = this._register(new Emitter<any>());\n\tonDidChangeExtensionSessionAccess = this._onDidChangeExtensionSessionAccess.event;\n\n\tisAccessAllowed(providerId: string, accountName: string, extensionId: string): boolean | undefined {\n\t\tthis.trackCall('isAccessAllowed', providerId, accountName, extensionId);\n\t\tconst extensions = this.data.get(this.getKey(providerId, accountName)) || [];\n\t\tconst extension = extensions.find((e: any) => e.id === extensionId);\n\t\treturn extension?.allowed;\n\t}\n\n\treadAllowedExtensions(providerId: string, accountName: string): any[] {\n\t\tthis.trackCall('readAllowedExtensions', providerId, accountName);\n\t\treturn this.data.get(this.getKey(providerId, accountName)) || [];\n\t}\n\n\tupdateAllowedExtensions(providerId: string, accountName: string, extensions: any[]): void {\n\t\tthis.trackCall('updateAllowedExtensions', providerId, accountName, extensions);\n\t\tconst key = this.getKey(providerId, accountName);\n\t\tconst existing = this.data.get(key) || [];\n\n\t\t// Merge with existing data, updating or adding extensions\n\t\tconst merged = [...existing];\n\t\tfor (const ext of extensions) {\n\t\t\tconst existingIndex = merged.findIndex(e => e.id === ext.id);\n\t\t\tif (existingIndex >= 0) {\n\t\t\t\tmerged[existingIndex] = ext;\n\t\t\t} else {\n\t\t\t\tmerged.push(ext);\n\t\t\t}\n\t\t}\n\n\t\tthis.data.set(key, merged);\n\t\tthis._onDidChangeExtensionSessionAccess.fire({ providerId, accountName });\n\t}\n\n\tremoveAllowedExtensions(providerId: string, accountName: string): void {\n\t\tthis.trackCall('removeAllowedExtensions', providerId, accountName);\n\t\tthis.data.delete(this.getKey(providerId, accountName));\n\t}\n}\n\nexport class TestMcpAccessService extends BaseTestService implements IAuthenticationMcpAccessService {\n\tdeclare readonly _serviceBrand: undefined;\n\tprivate readonly _onDidChangeMcpSessionAccess = this._register(new Emitter<any>());\n\tonDidChangeMcpSessionAccess = this._onDidChangeMcpSessionAccess.event;\n\n\tisAccessAllowed(providerId: string, accountName: string, mcpServerId: string): boolean | undefined {\n\t\tthis.trackCall('isAccessAllowed', providerId, accountName, mcpServerId);\n\t\tconst servers = this.data.get(this.getKey(providerId, accountName)) || [];\n\t\tconst server = servers.find((s: any) => s.id === mcpServerId);\n\t\treturn server?.allowed;\n\t}\n\n\treadAllowedMcpServers(providerId: string, accountName: string): any[] {\n\t\tthis.trackCall('readAllowedMcpServers', providerId, accountName);\n\t\treturn this.data.get(this.getKey(providerId, accountName)) || [];\n\t}\n\n\tupdateAllowedMcpServers(providerId: string, accountName: string, mcpServers: any[]): void {\n\t\tthis.trackCall('updateAllowedMcpServers', providerId, accountName, mcpServers);\n\t\tconst key = this.getKey(providerId, accountName);\n\t\tconst existing = this.data.get(key) || [];\n\n\t\t// Merge with existing data, updating or adding MCP servers\n\t\tconst merged = [...existing];\n\t\tfor (const server of mcpServers) {\n\t\t\tconst existingIndex = merged.findIndex(s => s.id === server.id);\n\t\t\tif (existingIndex >= 0) {\n\t\t\t\tmerged[existingIndex] = server;\n\t\t\t} else {\n\t\t\t\tmerged.push(server);\n\t\t\t}\n\t\t}\n\n\t\tthis.data.set(key, merged);\n\t\tthis._onDidChangeMcpSessionAccess.fire({ providerId, accountName });\n\t}\n\n\tremoveAllowedMcpServers(providerId: string, accountName: string): void {\n\t\tthis.trackCall('removeAllowedMcpServers', providerId, accountName);\n\t\tthis.data.delete(this.getKey(providerId, accountName));\n\t\tthis._onDidChangeMcpSessionAccess.fire({ providerId, accountName });\n\t}\n}\n\nexport class TestPreferencesService extends BaseTestService {\n\tprivate readonly _onDidChangeAccountPreference = this._register(new Emitter<any>());\n\tonDidChangeAccountPreference = this._onDidChangeAccountPreference.event;\n\n\tgetAccountPreference(clientId: string, providerId: string): string | undefined {\n\t\treturn this.data.get(this.getKey(clientId, providerId));\n\t}\n\n\tupdateAccountPreference(clientId: string, providerId: string, account: any): void {\n\t\tthis.data.set(this.getKey(clientId, providerId), account.label);\n\t}\n\n\tremoveAccountPreference(clientId: string, providerId: string): void {\n\t\tthis.data.delete(this.getKey(clientId, providerId));\n\t}\n}\n\nexport class TestExtensionsService extends TestPreferencesService implements IAuthenticationExtensionsService {\n\tdeclare readonly _serviceBrand: undefined;\n\n\t// Stub implementations for methods we don't test\n\tupdateSessionPreference(): void { }\n\tgetSessionPreference(): string | undefined { return undefined; }\n\tremoveSessionPreference(): void { }\n\tselectSession(): Promise<any> { return Promise.resolve(createSession()); }\n\trequestSessionAccess(): void { }\n\trequestNewSession(): Promise<void> { return Promise.resolve(); }\n\tupdateNewSessionRequests(): void { }\n}\n\nexport class TestMcpService extends TestPreferencesService implements IAuthenticationMcpService {\n\tdeclare readonly _serviceBrand: undefined;\n\n\t// Stub implementations for methods we don't test\n\tupdateSessionPreference(): void { }\n\tgetSessionPreference(): string | undefined { return undefined; }\n\tremoveSessionPreference(): void { }\n\tselectSession(): Promise<any> { return Promise.resolve(createSession()); }\n\trequestSessionAccess(): void { }\n\trequestNewSession(): Promise<void> { return Promise.resolve(); }\n}\n\n/**\n * Minimal authentication service mock that only implements what we need\n */\nexport class TestAuthenticationService extends BaseTestService implements IAuthenticationService {\n\tdeclare readonly _serviceBrand: undefined;\n\n\tprivate readonly _onDidChangeSessions = this._register(new Emitter<any>());\n\tprivate readonly _onDidRegisterAuthenticationProvider = this._register(new Emitter<any>());\n\tprivate readonly _onDidUnregisterAuthenticationProvider = this._register(new Emitter<any>());\n\tprivate readonly _onDidChangeDeclaredProviders = this._register(new Emitter<void>());\n\n\tonDidChangeSessions = this._onDidChangeSessions.event;\n\tonDidRegisterAuthenticationProvider = this._onDidRegisterAuthenticationProvider.event;\n\tonDidUnregisterAuthenticationProvider = this._onDidUnregisterAuthenticationProvider.event;\n\tonDidChangeDeclaredProviders = this._onDidChangeDeclaredProviders.event;\n\n\tprivate readonly accountsMap = new Map<string, AuthenticationSessionAccount[]>();\n\n\tregisterAuthenticationProvider(id: string, provider: IAuthenticationProvider): void {\n\t\tthis.data.set(id, provider);\n\t\tthis._onDidRegisterAuthenticationProvider.fire({ id, label: provider.label });\n\t}\n\n\tgetProviderIds(): string[] {\n\t\treturn Array.from(this.data.keys());\n\t}\n\n\tisAuthenticationProviderRegistered(id: string): boolean {\n\t\treturn this.data.has(id);\n\t}\n\n\tgetProvider(id: string): IAuthenticationProvider {\n\t\treturn this.data.get(id)!;\n\t}\n\n\taddAccounts(providerId: string, accounts: AuthenticationSessionAccount[]): void {\n\t\tthis.accountsMap.set(providerId, accounts);\n\t}\n\n\tasync getAccounts(providerId: string): Promise<readonly AuthenticationSessionAccount[]> {\n\t\treturn this.accountsMap.get(providerId) || [];\n\t}\n\n\t// All other methods are stubs since we don't test them\n\tget declaredProviders(): any[] { return []; }\n\tisDynamicAuthenticationProvider(): boolean { return false; }\n\tasync getSessions(): Promise<readonly AuthenticationSession[]> { return []; }\n\tasync createSession(): Promise<AuthenticationSession> { return createSession(); }\n\tasync removeSession(): Promise<void> { }\n\tmanageTrustedExtensionsForAccount(): void { }\n\tasync removeAccountSessions(): Promise<void> { }\n\tregisterDeclaredAuthenticationProvider(): void { }\n\tunregisterDeclaredAuthenticationProvider(): void { }\n\tunregisterAuthenticationProvider(): void { }\n\tregisterAuthenticationProviderHostDelegate(): IDisposable { return { dispose: () => { } }; }\n\tcreateDynamicAuthenticationProvider(): Promise<any> { return Promise.resolve(undefined); }\n\tasync requestNewSession(): Promise<AuthenticationSession> { return createSession(); }\n\tasync getSession(): Promise<AuthenticationSession | undefined> { return createSession(); }\n\tgetOrActivateProviderIdForServer(): Promise<string | undefined> { return Promise.resolve(undefined); }\n\tsupportsHeimdallConnection(): boolean { return false; }\n}\n"]}