{"version":3,"sources":["vs/workbench/services/label/common/labelService.ts"],"names":[],"mappings":"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","file":"labelService.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { localize } from '../../../../nls.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { IDisposable, Disposable, dispose } from '../../../../base/common/lifecycle.js';\nimport { posix, sep, win32 } from '../../../../base/common/path.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { Extensions as WorkbenchExtensions, IWorkbenchContributionsRegistry, IWorkbenchContribution } from '../../../common/contributions.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { IWorkbenchEnvironmentService } from '../../environment/common/environmentService.js';\nimport { IWorkspaceContextService, IWorkspace, isWorkspace, ISingleFolderWorkspaceIdentifier, isSingleFolderWorkspaceIdentifier, isWorkspaceIdentifier, IWorkspaceIdentifier, toWorkspaceIdentifier, WORKSPACE_EXTENSION, isUntitledWorkspace, isTemporaryWorkspace } from '../../../../platform/workspace/common/workspace.js';\nimport { basenameOrAuthority, basename, joinPath, dirname } from '../../../../base/common/resources.js';\nimport { tildify, getPathLabel } from '../../../../base/common/labels.js';\nimport { ILabelService, ResourceLabelFormatter, ResourceLabelFormatting, IFormatterChangeEvent, Verbosity } from '../../../../platform/label/common/label.js';\nimport { ExtensionsRegistry } from '../../extensions/common/extensionsRegistry.js';\nimport { match } from '../../../../base/common/glob.js';\nimport { ILifecycleService, LifecyclePhase } from '../../lifecycle/common/lifecycle.js';\nimport { InstantiationType, registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { IPathService } from '../../path/common/pathService.js';\nimport { isProposedApiEnabled } from '../../extensions/common/extensions.js';\nimport { OperatingSystem, OS } from '../../../../base/common/platform.js';\nimport { IRemoteAgentService } from '../../remote/common/remoteAgentService.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport { IStorageService, StorageScope, StorageTarget } from '../../../../platform/storage/common/storage.js';\nimport { Memento } from '../../../common/memento.js';\n\nconst resourceLabelFormattersExtPoint = ExtensionsRegistry.registerExtensionPoint<ResourceLabelFormatter[]>({\n\textensionPoint: 'resourceLabelFormatters',\n\tjsonSchema: {\n\t\tdescription: localize('vscode.extension.contributes.resourceLabelFormatters', 'Contributes resource label formatting rules.'),\n\t\ttype: 'array',\n\t\titems: {\n\t\t\ttype: 'object',\n\t\t\trequired: ['scheme', 'formatting'],\n\t\t\tproperties: {\n\t\t\t\tscheme: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tdescription: localize('vscode.extension.contributes.resourceLabelFormatters.scheme', 'URI scheme on which to match the formatter on. For example \"file\". Simple glob patterns are supported.'),\n\t\t\t\t},\n\t\t\t\tauthority: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tdescription: localize('vscode.extension.contributes.resourceLabelFormatters.authority', 'URI authority on which to match the formatter on. Simple glob patterns are supported.'),\n\t\t\t\t},\n\t\t\t\tformatting: {\n\t\t\t\t\tdescription: localize('vscode.extension.contributes.resourceLabelFormatters.formatting', \"Rules for formatting uri resource labels.\"),\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tlabel: {\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tdescription: localize('vscode.extension.contributes.resourceLabelFormatters.label', \"Label rules to display. For example: myLabel:/${path}. ${path}, ${scheme}, ${authority} and ${authoritySuffix} are supported as variables.\")\n\t\t\t\t\t\t},\n\t\t\t\t\t\tseparator: {\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tdescription: localize('vscode.extension.contributes.resourceLabelFormatters.separator', \"Separator to be used in the uri label display. '/' or '\\' as an example.\")\n\t\t\t\t\t\t},\n\t\t\t\t\t\tstripPathStartingSeparator: {\n\t\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\t\tdescription: localize('vscode.extension.contributes.resourceLabelFormatters.stripPathStartingSeparator', \"Controls whether `${path}` substitutions should have starting separator characters stripped.\")\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttildify: {\n\t\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\t\tdescription: localize('vscode.extension.contributes.resourceLabelFormatters.tildify', \"Controls if the start of the uri label should be tildified when possible.\")\n\t\t\t\t\t\t},\n\t\t\t\t\t\tworkspaceSuffix: {\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tdescription: localize('vscode.extension.contributes.resourceLabelFormatters.formatting.workspaceSuffix', \"Suffix appended to the workspace label.\")\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n});\n\nconst posixPathSeparatorRegexp = /\\//g; // on Unix, backslash is a valid filename character\nconst winPathSeparatorRegexp = /[\\\\\\/]/g; // on Windows, neither slash nor backslash are valid filename characters\nconst labelMatchingRegexp = /\\$\\{(scheme|authoritySuffix|authority|path|(query)\\.(.+?))\\}/g;\n\nfunction hasDriveLetterIgnorePlatform(path: string): boolean {\n\treturn !!(path && path[2] === ':');\n}\n\nclass ResourceLabelFormattersHandler implements IWorkbenchContribution {\n\n\tprivate readonly formattersDisposables = new Map<ResourceLabelFormatter, IDisposable>();\n\n\tconstructor(@ILabelService labelService: ILabelService) {\n\t\tresourceLabelFormattersExtPoint.setHandler((extensions, delta) => {\n\t\t\tfor (const added of delta.added) {\n\t\t\t\tfor (const untrustedFormatter of added.value) {\n\n\t\t\t\t\t// We cannot trust that the formatter as it comes from an extension\n\t\t\t\t\t// adheres to our interface, so for the required properties we fill\n\t\t\t\t\t// in some defaults if missing.\n\n\t\t\t\t\tconst formatter = { ...untrustedFormatter };\n\t\t\t\t\tif (typeof formatter.formatting.label !== 'string') {\n\t\t\t\t\t\tformatter.formatting.label = '${authority}${path}';\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof formatter.formatting.separator !== `string`) {\n\t\t\t\t\t\tformatter.formatting.separator = sep;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!isProposedApiEnabled(added.description, 'contribLabelFormatterWorkspaceTooltip') && formatter.formatting.workspaceTooltip) {\n\t\t\t\t\t\tformatter.formatting.workspaceTooltip = undefined; // workspaceTooltip is only proposed\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.formattersDisposables.set(formatter, labelService.registerFormatter(formatter));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (const removed of delta.removed) {\n\t\t\t\tfor (const formatter of removed.value) {\n\t\t\t\t\tdispose(this.formattersDisposables.get(formatter));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\nRegistry.as<IWorkbenchContributionsRegistry>(WorkbenchExtensions.Workbench).registerWorkbenchContribution(ResourceLabelFormattersHandler, LifecyclePhase.Restored);\n\nconst FORMATTER_CACHE_SIZE = 50;\n\ninterface IStoredFormatters {\n\tformatters?: ResourceLabelFormatter[];\n\ti?: number;\n}\n\nexport class LabelService extends Disposable implements ILabelService {\n\n\tdeclare readonly _serviceBrand: undefined;\n\n\tprivate formatters: ResourceLabelFormatter[];\n\n\tprivate readonly _onDidChangeFormatters = this._register(new Emitter<IFormatterChangeEvent>({ leakWarningThreshold: 400 }));\n\treadonly onDidChangeFormatters = this._onDidChangeFormatters.event;\n\n\tprivate readonly storedFormattersMemento: Memento<IStoredFormatters>;\n\tprivate readonly storedFormatters: IStoredFormatters;\n\tprivate os: OperatingSystem;\n\tprivate userHome: URI | undefined;\n\n\tconstructor(\n\t\t@IWorkbenchEnvironmentService private readonly environmentService: IWorkbenchEnvironmentService,\n\t\t@IWorkspaceContextService private readonly contextService: IWorkspaceContextService,\n\t\t@IPathService private readonly pathService: IPathService,\n\t\t@IRemoteAgentService private readonly remoteAgentService: IRemoteAgentService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@ILifecycleService lifecycleService: ILifecycleService,\n\t) {\n\t\tsuper();\n\n\t\t// Find some meaningful defaults until the remote environment\n\t\t// is resolved, by taking the current OS we are running in\n\t\t// and by taking the local `userHome` if we run on a local\n\t\t// file scheme.\n\t\tthis.os = OS;\n\t\tthis.userHome = pathService.defaultUriScheme === Schemas.file ? this.pathService.userHome({ preferLocal: true }) : undefined;\n\n\t\tconst memento = this.storedFormattersMemento = new Memento('cachedResourceLabelFormatters2', storageService);\n\t\tthis.storedFormatters = memento.getMemento(StorageScope.PROFILE, StorageTarget.MACHINE);\n\t\tthis.formatters = this.storedFormatters?.formatters?.slice() || [];\n\n\t\t// Remote environment is potentially long running\n\t\tthis.resolveRemoteEnvironment();\n\t}\n\n\tprivate async resolveRemoteEnvironment(): Promise<void> {\n\n\t\t// OS\n\t\tconst env = await this.remoteAgentService.getEnvironment();\n\t\tthis.os = env?.os ?? OS;\n\n\t\t// User home\n\t\tthis.userHome = await this.pathService.userHome();\n\t}\n\n\tfindFormatting(resource: URI): ResourceLabelFormatting | undefined {\n\t\tlet bestResult: ResourceLabelFormatter | undefined;\n\n\t\tfor (const formatter of this.formatters) {\n\t\t\tif (formatter.scheme === resource.scheme) {\n\t\t\t\tif (!formatter.authority && (!bestResult || formatter.priority)) {\n\t\t\t\t\tbestResult = formatter;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (!formatter.authority) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (match(formatter.authority, resource.authority, { ignoreCase: true }) &&\n\t\t\t\t\t(\n\t\t\t\t\t\t!bestResult?.authority ||\n\t\t\t\t\t\tformatter.authority.length > bestResult.authority.length ||\n\t\t\t\t\t\t((formatter.authority.length === bestResult.authority.length) && formatter.priority)\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tbestResult = formatter;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn bestResult ? bestResult.formatting : undefined;\n\t}\n\n\tgetUriLabel(resource: URI, options: { relative?: boolean; noPrefix?: boolean; separator?: '/' | '\\\\'; appendWorkspaceSuffix?: boolean } = {}): string {\n\t\tlet formatting = this.findFormatting(resource);\n\t\tif (formatting && options.separator) {\n\t\t\t// mixin separator if defined from the outside\n\t\t\tformatting = { ...formatting, separator: options.separator };\n\t\t}\n\n\t\tlet label = this.doGetUriLabel(resource, formatting, options);\n\n\t\t// Without formatting we still need to support the separator\n\t\t// as provided in options (https://github.com/microsoft/vscode/issues/130019)\n\t\tif (!formatting && options.separator) {\n\t\t\tlabel = this.adjustPathSeparators(label, options.separator);\n\t\t}\n\n\t\tif (options.appendWorkspaceSuffix && formatting?.workspaceSuffix) {\n\t\t\tlabel = this.appendWorkspaceSuffix(label, resource);\n\t\t}\n\n\t\treturn label;\n\t}\n\n\tprivate doGetUriLabel(resource: URI, formatting?: ResourceLabelFormatting, options: { relative?: boolean; noPrefix?: boolean } = {}): string {\n\t\tif (!formatting) {\n\t\t\treturn getPathLabel(resource, {\n\t\t\t\tos: this.os,\n\t\t\t\ttildify: this.userHome ? { userHome: this.userHome } : undefined,\n\t\t\t\trelative: options.relative ? {\n\t\t\t\t\tnoPrefix: options.noPrefix,\n\t\t\t\t\tgetWorkspace: () => this.contextService.getWorkspace(),\n\t\t\t\t\tgetWorkspaceFolder: resource => this.contextService.getWorkspaceFolder(resource)\n\t\t\t\t} : undefined\n\t\t\t});\n\t\t}\n\n\t\t// Relative label\n\t\tif (options.relative && this.contextService) {\n\t\t\tlet folder = this.contextService.getWorkspaceFolder(resource);\n\t\t\tif (!folder) {\n\n\t\t\t\t// It is possible that the resource we want to resolve the\n\t\t\t\t// workspace folder for is not using the same scheme as\n\t\t\t\t// the folders in the workspace, so we help by trying again\n\t\t\t\t// to resolve a workspace folder by trying again with a\n\t\t\t\t// scheme that is workspace contained.\n\n\t\t\t\tconst workspace = this.contextService.getWorkspace();\n\t\t\t\tconst firstFolder = workspace.folders.at(0);\n\t\t\t\tif (firstFolder && resource.scheme !== firstFolder.uri.scheme && resource.path.startsWith(posix.sep)) {\n\t\t\t\t\tfolder = this.contextService.getWorkspaceFolder(firstFolder.uri.with({ path: resource.path }));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (folder) {\n\t\t\t\tconst folderLabel = this.formatUri(folder.uri, formatting, options.noPrefix);\n\n\t\t\t\tlet relativeLabel = this.formatUri(resource, formatting, options.noPrefix);\n\t\t\t\tlet overlap = 0;\n\t\t\t\twhile (relativeLabel[overlap] && relativeLabel[overlap] === folderLabel[overlap]) {\n\t\t\t\t\toverlap++;\n\t\t\t\t}\n\n\t\t\t\tif (!relativeLabel[overlap] || relativeLabel[overlap] === formatting.separator) {\n\t\t\t\t\trelativeLabel = relativeLabel.substring(1 + overlap);\n\t\t\t\t} else if (overlap === folderLabel.length && folder.uri.path === posix.sep) {\n\t\t\t\t\trelativeLabel = relativeLabel.substring(overlap);\n\t\t\t\t}\n\n\t\t\t\t// always show root basename if there are multiple folders\n\t\t\t\tconst hasMultipleRoots = this.contextService.getWorkspace().folders.length > 1;\n\t\t\t\tif (hasMultipleRoots && !options.noPrefix) {\n\t\t\t\t\tconst rootName = folder?.name ?? basenameOrAuthority(folder.uri);\n\t\t\t\t\trelativeLabel = relativeLabel ? `${rootName} â€¢ ${relativeLabel}` : rootName;\n\t\t\t\t}\n\n\t\t\t\treturn relativeLabel;\n\t\t\t}\n\t\t}\n\n\t\t// Absolute label\n\t\treturn this.formatUri(resource, formatting, options.noPrefix);\n\t}\n\n\tgetUriBasenameLabel(resource: URI): string {\n\t\tconst formatting = this.findFormatting(resource);\n\t\tconst label = this.doGetUriLabel(resource, formatting);\n\n\t\tlet pathLib: typeof win32 | typeof posix;\n\t\tif (formatting?.separator === win32.sep) {\n\t\t\tpathLib = win32;\n\t\t} else if (formatting?.separator === posix.sep) {\n\t\t\tpathLib = posix;\n\t\t} else {\n\t\t\tpathLib = (this.os === OperatingSystem.Windows) ? win32 : posix;\n\t\t}\n\n\t\treturn pathLib.basename(label);\n\t}\n\n\tgetWorkspaceLabel(workspace: IWorkspace | IWorkspaceIdentifier | ISingleFolderWorkspaceIdentifier | URI, options?: { verbose: Verbosity }): string {\n\t\tif (isWorkspace(workspace)) {\n\t\t\tconst identifier = toWorkspaceIdentifier(workspace);\n\t\t\tif (isSingleFolderWorkspaceIdentifier(identifier) || isWorkspaceIdentifier(identifier)) {\n\t\t\t\treturn this.getWorkspaceLabel(identifier, options);\n\t\t\t}\n\n\t\t\treturn '';\n\t\t}\n\n\t\t// Workspace: Single Folder (as URI)\n\t\tif (URI.isUri(workspace)) {\n\t\t\treturn this.doGetSingleFolderWorkspaceLabel(workspace, options);\n\t\t}\n\n\t\t// Workspace: Single Folder (as workspace identifier)\n\t\tif (isSingleFolderWorkspaceIdentifier(workspace)) {\n\t\t\treturn this.doGetSingleFolderWorkspaceLabel(workspace.uri, options);\n\t\t}\n\n\t\t// Workspace: Multi Root\n\t\tif (isWorkspaceIdentifier(workspace)) {\n\t\t\treturn this.doGetWorkspaceLabel(workspace.configPath, options);\n\t\t}\n\n\t\treturn '';\n\t}\n\n\tprivate doGetWorkspaceLabel(workspaceUri: URI, options?: { verbose: Verbosity }): string {\n\n\t\t// Workspace: Untitled\n\t\tif (isUntitledWorkspace(workspaceUri, this.environmentService)) {\n\t\t\treturn localize('untitledWorkspace', \"Untitled (Workspace)\");\n\t\t}\n\n\t\t// Workspace: Temporary\n\t\tif (isTemporaryWorkspace(workspaceUri)) {\n\t\t\treturn localize('temporaryWorkspace', \"Workspace\");\n\t\t}\n\n\t\t// Workspace: Saved\n\t\tlet filename = basename(workspaceUri);\n\t\tif (filename.endsWith(WORKSPACE_EXTENSION)) {\n\t\t\tfilename = filename.substr(0, filename.length - WORKSPACE_EXTENSION.length - 1);\n\t\t}\n\n\t\tlet label: string;\n\t\tswitch (options?.verbose) {\n\t\t\tcase Verbosity.SHORT:\n\t\t\t\tlabel = filename; // skip suffix for short label\n\t\t\t\tbreak;\n\t\t\tcase Verbosity.LONG:\n\t\t\t\tlabel = localize('workspaceNameVerbose', \"{0} (Workspace)\", this.getUriLabel(joinPath(dirname(workspaceUri), filename)));\n\t\t\t\tbreak;\n\t\t\tcase Verbosity.MEDIUM:\n\t\t\tdefault:\n\t\t\t\tlabel = localize('workspaceName', \"{0} (Workspace)\", filename);\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (options?.verbose === Verbosity.SHORT) {\n\t\t\treturn label; // skip suffix for short label\n\t\t}\n\n\t\treturn this.appendWorkspaceSuffix(label, workspaceUri);\n\t}\n\n\tprivate doGetSingleFolderWorkspaceLabel(folderUri: URI, options?: { verbose: Verbosity }): string {\n\t\tlet label: string;\n\t\tswitch (options?.verbose) {\n\t\t\tcase Verbosity.LONG:\n\t\t\t\tlabel = this.getUriLabel(folderUri);\n\t\t\t\tbreak;\n\t\t\tcase Verbosity.SHORT:\n\t\t\tcase Verbosity.MEDIUM:\n\t\t\tdefault:\n\t\t\t\tlabel = basename(folderUri) || posix.sep;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (options?.verbose === Verbosity.SHORT) {\n\t\t\treturn label; // skip suffix for short label\n\t\t}\n\n\t\treturn this.appendWorkspaceSuffix(label, folderUri);\n\t}\n\n\tgetSeparator(scheme: string, authority?: string): '/' | '\\\\' {\n\t\tconst formatter = this.findFormatting(URI.from({ scheme, authority }));\n\n\t\treturn formatter?.separator || posix.sep;\n\t}\n\n\tgetHostLabel(scheme: string, authority?: string): string {\n\t\tconst formatter = this.findFormatting(URI.from({ scheme, authority }));\n\n\t\treturn formatter?.workspaceSuffix || authority || '';\n\t}\n\n\tgetHostTooltip(scheme: string, authority?: string): string | undefined {\n\t\tconst formatter = this.findFormatting(URI.from({ scheme, authority }));\n\n\t\treturn formatter?.workspaceTooltip;\n\t}\n\n\tregisterCachedFormatter(formatter: ResourceLabelFormatter): IDisposable {\n\t\tconst list = this.storedFormatters.formatters ??= [];\n\n\t\tlet replace = list.findIndex(f => f.scheme === formatter.scheme && f.authority === formatter.authority);\n\t\tif (replace === -1 && list.length >= FORMATTER_CACHE_SIZE) {\n\t\t\treplace = FORMATTER_CACHE_SIZE - 1; // at max capacity, replace the last element\n\t\t}\n\n\t\tif (replace === -1) {\n\t\t\tlist.unshift(formatter);\n\t\t} else {\n\t\t\tfor (let i = replace; i > 0; i--) {\n\t\t\t\tlist[i] = list[i - 1];\n\t\t\t}\n\t\t\tlist[0] = formatter;\n\t\t}\n\n\t\tthis.storedFormattersMemento.saveMemento();\n\n\t\treturn this.registerFormatter(formatter);\n\t}\n\n\tregisterFormatter(formatter: ResourceLabelFormatter): IDisposable {\n\t\tthis.formatters.push(formatter);\n\t\tthis._onDidChangeFormatters.fire({ scheme: formatter.scheme });\n\n\t\treturn {\n\t\t\tdispose: () => {\n\t\t\t\tthis.formatters = this.formatters.filter(f => f !== formatter);\n\t\t\t\tthis._onDidChangeFormatters.fire({ scheme: formatter.scheme });\n\t\t\t}\n\t\t};\n\t}\n\n\tprivate formatUri(resource: URI, formatting: ResourceLabelFormatting, forceNoTildify?: boolean): string {\n\t\tlet label = formatting.label.replace(labelMatchingRegexp, (match, token, qsToken, qsValue) => {\n\t\t\tswitch (token) {\n\t\t\t\tcase 'scheme': return resource.scheme;\n\t\t\t\tcase 'authority': return resource.authority;\n\t\t\t\tcase 'authoritySuffix': {\n\t\t\t\t\tconst i = resource.authority.indexOf('+');\n\t\t\t\t\treturn i === -1 ? resource.authority : resource.authority.slice(i + 1);\n\t\t\t\t}\n\t\t\t\tcase 'path':\n\t\t\t\t\treturn formatting.stripPathStartingSeparator\n\t\t\t\t\t\t? resource.path.slice(resource.path[0] === formatting.separator ? 1 : 0)\n\t\t\t\t\t\t: resource.path;\n\t\t\t\tdefault: {\n\t\t\t\t\tif (qsToken === 'query') {\n\t\t\t\t\t\tconst { query } = resource;\n\t\t\t\t\t\tif (query && query[0] === '{' && query[query.length - 1] === '}') {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\treturn JSON.parse(query)[qsValue] || '';\n\t\t\t\t\t\t\t} catch { }\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t// convert \\c:\\something => C:\\something\n\t\tif (formatting.normalizeDriveLetter && hasDriveLetterIgnorePlatform(label)) {\n\t\t\tlabel = label.charAt(1).toUpperCase() + label.substr(2);\n\t\t}\n\n\t\tif (formatting.tildify && !forceNoTildify) {\n\t\t\tif (this.userHome) {\n\t\t\t\tlabel = tildify(label, this.userHome.fsPath, this.os);\n\t\t\t}\n\t\t}\n\n\t\tif (formatting.authorityPrefix && resource.authority) {\n\t\t\tlabel = formatting.authorityPrefix + label;\n\t\t}\n\n\t\treturn this.adjustPathSeparators(label, formatting.separator);\n\t}\n\n\tprivate adjustPathSeparators(label: string, separator: '/' | '\\\\' | ''): string {\n\t\treturn label.replace(this.os === OperatingSystem.Windows ? winPathSeparatorRegexp : posixPathSeparatorRegexp, separator);\n\t}\n\n\tprivate appendWorkspaceSuffix(label: string, uri: URI): string {\n\t\tconst formatting = this.findFormatting(uri);\n\t\tconst suffix = formatting && (typeof formatting.workspaceSuffix === 'string') ? formatting.workspaceSuffix : undefined;\n\n\t\treturn suffix ? `${label} [${suffix}]` : label;\n\t}\n}\n\nregisterSingleton(ILabelService, LabelService, InstantiationType.Delayed);\n"]}