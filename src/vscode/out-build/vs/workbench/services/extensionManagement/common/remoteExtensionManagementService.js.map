{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/services/extensionManagement/common/remoteExtensionManagementService.ts","vs/workbench/services/extensionManagement/common/remoteExtensionManagementService.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;AAKhG,OAAO,EAAE,mBAAmB,EAAE,MAAM,wDAAwD,CAAC;AAC7F,OAAO,EAAE,8BAA8B,EAAE,MAAM,wDAAwD,CAAC;AACxG,OAAO,EAAE,4CAA4C,EAAE,MAAM,uCAAuC,CAAC;AACrG,OAAO,EAAE,uBAAuB,EAAE,MAAM,iDAAiD,CAAC;AAC1F,OAAO,EAAE,wBAAwB,EAAE,MAAM,gEAAgE,CAAC;AAE1G,OAAO,EAAE,eAAe,EAAE,MAAM,uDAAuD,CAAC;AACxF,OAAO,EAAE,yBAAyB,EAAE,MAAM,wEAAwE,CAAC;AAE5G,IAAM,gCAAgC,GAAtC,MAAM,gCAAiC,SAAQ,4CAA4C;IAEjG,YACC,OAAiB,EACA,cAA+B,EACrB,wBAAmD,EACrD,sBAA+C,EAC7B,uBAAiD,EAC3C,6BAA6D,EACzF,kBAAuC;QAE5D,KAAK,CAAC,OAAO,EAAE,cAAc,EAAE,wBAAwB,EAAE,sBAAsB,EAAE,kBAAkB,CAAC,CAAC;QAJ1D,4BAAuB,GAAvB,uBAAuB,CAA0B;QAC3C,kCAA6B,GAA7B,6BAA6B,CAAgC;IAI/G,CAAC;IAES,KAAK,CAAC,WAAW,CAAC,eAAoB,EAAE,iBAA0B;QAC3E,IAAI,iBAAiB,EAAE,CAAC;YACvB,OAAO,IAAI,CAAC;QACb,CAAC;QACD,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,sBAAsB,CAAC,cAAc,CAAC,SAAS,EAAE,CAAC;YAC9E,OAAO,IAAI,CAAC;QACb,CAAC;QACD,MAAM,oBAAoB,GAAG,MAAM,IAAI,CAAC,6BAA6B,CAAC,gBAAgB,CAAC,IAAI,CAAC,sBAAsB,CAAC,cAAc,CAAC,CAAC;QACnI,IAAI,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,OAAO,CAAC,oBAAoB,CAAC,kBAAkB,EAAE,eAAe,CAAC,EAAE,CAAC;YACtG,OAAO,IAAI,CAAC;QACb,CAAC;QACD,OAAO,KAAK,CAAC;IACd,CAAC;IAIkB,KAAK,CAAC,kBAAkB,CAAC,eAAqB;QAChE,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,sBAAsB,CAAC,cAAc,CAAC,SAAS,EAAE,CAAC;YAC9E,OAAO,SAAS,CAAC;QAClB,CAAC;QACD,eAAe,GAAG,MAAM,KAAK,CAAC,kBAAkB,CAAC,eAAe,CAAC,CAAC;QAClE,IAAI,OAAO,GAAG,IAAI,CAAC,uBAAuB,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,kBAAkB,EAAE,eAAe,CAAC,CAAC,CAAC;QAC7I,IAAI,OAAO,EAAE,CAAC;YACb,OAAO,GAAG,MAAM,IAAI,CAAC,6BAA6B,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;QAC9E,CAAC;aAAM,CAAC;YACP,OAAO,GAAG,CAAC,MAAM,IAAI,CAAC,6BAA6B,CAAC,iBAAiB,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,kBAAkB,EAAE,eAAe,CAAC,CAAC,CAAC;QACnK,CAAC;QACD,OAAO,OAAO,EAAE,kBAAkB,CAAC;IACpC,CAAC;IAEkB,KAAK,CAAC,uBAAuB,CAAC,uBAA4B,EAAE,sBAA2B,EAAE,kBAA0C;QACrJ,MAAM,cAAc,GAAG,MAAM,IAAI,CAAC,6BAA6B,CAAC,iBAAiB,EAAE,CAAC;QACpF,MAAM,eAAe,GAAG,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,kBAAkB,EAAE,uBAAuB,CAAC,CAAC,CAAC;QACxI,MAAM,cAAc,GAAG,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,kBAAkB,EAAE,sBAAsB,CAAC,CAAC,CAAC;QACtI,IAAI,eAAe,EAAE,EAAE,KAAK,cAAc,EAAE,EAAE,EAAE,CAAC;YAChD,OAAO,EAAE,KAAK,EAAE,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC;QACnC,CAAC;QACD,OAAO,KAAK,CAAC,uBAAuB,CAAC,uBAAuB,EAAE,sBAAsB,EAAE,kBAAkB,CAAC,CAAC;IAC3G,CAAC;CACD,CAAA;AArDY,gCAAgC;IAI1C,WAAA,eAAe,CAAA;IACf,WAAA,yBAAyB,CAAA;IACzB,WAAA,uBAAuB,CAAA;IACvB,WAAA,wBAAwB,CAAA;IACxB,WAAA,8BAA8B,CAAA;IAC9B,WAAA,mBAAmB,CAAA;GATT,gCAAgC,CAqD5C","file":"remoteExtensionManagementService.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IChannel } from '../../../../base/parts/ipc/common/ipc.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { DidChangeProfileEvent, IProfileAwareExtensionManagementService } from './extensionManagement.js';\nimport { IUriIdentityService } from '../../../../platform/uriIdentity/common/uriIdentity.js';\nimport { IRemoteUserDataProfilesService } from '../../userDataProfile/common/remoteUserDataProfiles.js';\nimport { ProfileAwareExtensionManagementChannelClient } from './extensionManagementChannelClient.js';\nimport { IUserDataProfileService } from '../../userDataProfile/common/userDataProfile.js';\nimport { IUserDataProfilesService } from '../../../../platform/userDataProfile/common/userDataProfile.js';\nimport { ExtensionIdentifier } from '../../../../platform/extensions/common/extensions.js';\nimport { IProductService } from '../../../../platform/product/common/productService.js';\nimport { IAllowedExtensionsService } from '../../../../platform/extensionManagement/common/extensionManagement.js';\n\nexport class RemoteExtensionManagementService extends ProfileAwareExtensionManagementChannelClient implements IProfileAwareExtensionManagementService {\n\n\tconstructor(\n\t\tchannel: IChannel,\n\t\t@IProductService productService: IProductService,\n\t\t@IAllowedExtensionsService allowedExtensionsService: IAllowedExtensionsService,\n\t\t@IUserDataProfileService userDataProfileService: IUserDataProfileService,\n\t\t@IUserDataProfilesService private readonly userDataProfilesService: IUserDataProfilesService,\n\t\t@IRemoteUserDataProfilesService private readonly remoteUserDataProfilesService: IRemoteUserDataProfilesService,\n\t\t@IUriIdentityService uriIdentityService: IUriIdentityService\n\t) {\n\t\tsuper(channel, productService, allowedExtensionsService, userDataProfileService, uriIdentityService);\n\t}\n\n\tprotected async filterEvent(profileLocation: URI, applicationScoped: boolean): Promise<boolean> {\n\t\tif (applicationScoped) {\n\t\t\treturn true;\n\t\t}\n\t\tif (!profileLocation && this.userDataProfileService.currentProfile.isDefault) {\n\t\t\treturn true;\n\t\t}\n\t\tconst currentRemoteProfile = await this.remoteUserDataProfilesService.getRemoteProfile(this.userDataProfileService.currentProfile);\n\t\tif (this.uriIdentityService.extUri.isEqual(currentRemoteProfile.extensionsResource, profileLocation)) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tprotected override getProfileLocation(profileLocation: URI): Promise<URI>;\n\tprotected override getProfileLocation(profileLocation?: URI): Promise<URI | undefined>;\n\tprotected override async getProfileLocation(profileLocation?: URI): Promise<URI | undefined> {\n\t\tif (!profileLocation && this.userDataProfileService.currentProfile.isDefault) {\n\t\t\treturn undefined;\n\t\t}\n\t\tprofileLocation = await super.getProfileLocation(profileLocation);\n\t\tlet profile = this.userDataProfilesService.profiles.find(p => this.uriIdentityService.extUri.isEqual(p.extensionsResource, profileLocation));\n\t\tif (profile) {\n\t\t\tprofile = await this.remoteUserDataProfilesService.getRemoteProfile(profile);\n\t\t} else {\n\t\t\tprofile = (await this.remoteUserDataProfilesService.getRemoteProfiles()).find(p => this.uriIdentityService.extUri.isEqual(p.extensionsResource, profileLocation));\n\t\t}\n\t\treturn profile?.extensionsResource;\n\t}\n\n\tprotected override async switchExtensionsProfile(previousProfileLocation: URI, currentProfileLocation: URI, preserveExtensions?: ExtensionIdentifier[]): Promise<DidChangeProfileEvent> {\n\t\tconst remoteProfiles = await this.remoteUserDataProfilesService.getRemoteProfiles();\n\t\tconst previousProfile = remoteProfiles.find(p => this.uriIdentityService.extUri.isEqual(p.extensionsResource, previousProfileLocation));\n\t\tconst currentProfile = remoteProfiles.find(p => this.uriIdentityService.extUri.isEqual(p.extensionsResource, currentProfileLocation));\n\t\tif (previousProfile?.id === currentProfile?.id) {\n\t\t\treturn { added: [], removed: [] };\n\t\t}\n\t\treturn super.switchExtensionsProfile(previousProfileLocation, currentProfileLocation, preserveExtensions);\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IChannel } from '../../../../base/parts/ipc/common/ipc.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { DidChangeProfileEvent, IProfileAwareExtensionManagementService } from './extensionManagement.js';\nimport { IUriIdentityService } from '../../../../platform/uriIdentity/common/uriIdentity.js';\nimport { IRemoteUserDataProfilesService } from '../../userDataProfile/common/remoteUserDataProfiles.js';\nimport { ProfileAwareExtensionManagementChannelClient } from './extensionManagementChannelClient.js';\nimport { IUserDataProfileService } from '../../userDataProfile/common/userDataProfile.js';\nimport { IUserDataProfilesService } from '../../../../platform/userDataProfile/common/userDataProfile.js';\nimport { ExtensionIdentifier } from '../../../../platform/extensions/common/extensions.js';\nimport { IProductService } from '../../../../platform/product/common/productService.js';\nimport { IAllowedExtensionsService } from '../../../../platform/extensionManagement/common/extensionManagement.js';\n\nexport class RemoteExtensionManagementService extends ProfileAwareExtensionManagementChannelClient implements IProfileAwareExtensionManagementService {\n\n\tconstructor(\n\t\tchannel: IChannel,\n\t\t@IProductService productService: IProductService,\n\t\t@IAllowedExtensionsService allowedExtensionsService: IAllowedExtensionsService,\n\t\t@IUserDataProfileService userDataProfileService: IUserDataProfileService,\n\t\t@IUserDataProfilesService private readonly userDataProfilesService: IUserDataProfilesService,\n\t\t@IRemoteUserDataProfilesService private readonly remoteUserDataProfilesService: IRemoteUserDataProfilesService,\n\t\t@IUriIdentityService uriIdentityService: IUriIdentityService\n\t) {\n\t\tsuper(channel, productService, allowedExtensionsService, userDataProfileService, uriIdentityService);\n\t}\n\n\tprotected async filterEvent(profileLocation: URI, applicationScoped: boolean): Promise<boolean> {\n\t\tif (applicationScoped) {\n\t\t\treturn true;\n\t\t}\n\t\tif (!profileLocation && this.userDataProfileService.currentProfile.isDefault) {\n\t\t\treturn true;\n\t\t}\n\t\tconst currentRemoteProfile = await this.remoteUserDataProfilesService.getRemoteProfile(this.userDataProfileService.currentProfile);\n\t\tif (this.uriIdentityService.extUri.isEqual(currentRemoteProfile.extensionsResource, profileLocation)) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tprotected override getProfileLocation(profileLocation: URI): Promise<URI>;\n\tprotected override getProfileLocation(profileLocation?: URI): Promise<URI | undefined>;\n\tprotected override async getProfileLocation(profileLocation?: URI): Promise<URI | undefined> {\n\t\tif (!profileLocation && this.userDataProfileService.currentProfile.isDefault) {\n\t\t\treturn undefined;\n\t\t}\n\t\tprofileLocation = await super.getProfileLocation(profileLocation);\n\t\tlet profile = this.userDataProfilesService.profiles.find(p => this.uriIdentityService.extUri.isEqual(p.extensionsResource, profileLocation));\n\t\tif (profile) {\n\t\t\tprofile = await this.remoteUserDataProfilesService.getRemoteProfile(profile);\n\t\t} else {\n\t\t\tprofile = (await this.remoteUserDataProfilesService.getRemoteProfiles()).find(p => this.uriIdentityService.extUri.isEqual(p.extensionsResource, profileLocation));\n\t\t}\n\t\treturn profile?.extensionsResource;\n\t}\n\n\tprotected override async switchExtensionsProfile(previousProfileLocation: URI, currentProfileLocation: URI, preserveExtensions?: ExtensionIdentifier[]): Promise<DidChangeProfileEvent> {\n\t\tconst remoteProfiles = await this.remoteUserDataProfilesService.getRemoteProfiles();\n\t\tconst previousProfile = remoteProfiles.find(p => this.uriIdentityService.extUri.isEqual(p.extensionsResource, previousProfileLocation));\n\t\tconst currentProfile = remoteProfiles.find(p => this.uriIdentityService.extUri.isEqual(p.extensionsResource, currentProfileLocation));\n\t\tif (previousProfile?.id === currentProfile?.id) {\n\t\t\treturn { added: [], removed: [] };\n\t\t}\n\t\treturn super.switchExtensionsProfile(previousProfileLocation, currentProfileLocation, preserveExtensions);\n\t}\n}\n"]}