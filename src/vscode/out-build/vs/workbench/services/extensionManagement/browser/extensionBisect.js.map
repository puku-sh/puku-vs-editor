{"version":3,"sources":["vs/workbench/services/extensionManagement/browser/extensionBisect.ts"],"names":[],"mappings":"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","file":"extensionBisect.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { localize, localize2 } from '../../../../nls.js';\nimport { IExtensionManagementService, IGlobalExtensionEnablementService, ILocalExtension } from '../../../../platform/extensionManagement/common/extensionManagement.js';\nimport { IStorageService, StorageScope, StorageTarget } from '../../../../platform/storage/common/storage.js';\nimport { ExtensionType, IExtension, isResolverExtension } from '../../../../platform/extensions/common/extensions.js';\nimport { InstantiationType, registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { INotificationService, IPromptChoice, NotificationPriority, Severity } from '../../../../platform/notification/common/notification.js';\nimport { IHostService } from '../../host/browser/host.js';\nimport { createDecorator, ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { Action2, MenuId, registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { ContextKeyExpr, IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IDialogService } from '../../../../platform/dialogs/common/dialogs.js';\nimport { LifecyclePhase } from '../../lifecycle/common/lifecycle.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { Extensions, IWorkbenchContributionsRegistry } from '../../../common/contributions.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\nimport { IProductService } from '../../../../platform/product/common/productService.js';\nimport { IWorkbenchEnvironmentService } from '../../environment/common/environmentService.js';\nimport { areSameExtensions } from '../../../../platform/extensionManagement/common/extensionManagementUtil.js';\nimport { Categories } from '../../../../platform/action/common/actionCommonCategories.js';\nimport { IWorkbenchExtensionEnablementService } from '../common/extensionManagement.js';\n\n// --- bisect service\n\nexport const IExtensionBisectService = createDecorator<IExtensionBisectService>('IExtensionBisectService');\n\nexport interface IExtensionBisectService {\n\n\treadonly _serviceBrand: undefined;\n\n\tisDisabledByBisect(extension: IExtension): boolean;\n\tisActive: boolean;\n\tdisabledCount: number;\n\tstart(extensions: ILocalExtension[]): Promise<void>;\n\tnext(seeingBad: boolean): Promise<{ id: string; bad: boolean } | undefined>;\n\treset(): Promise<void>;\n}\n\nclass BisectState {\n\n\tstatic fromJSON(raw: string | undefined): BisectState | undefined {\n\t\tif (!raw) {\n\t\t\treturn undefined;\n\t\t}\n\t\ttry {\n\t\t\tinterface Raw extends BisectState { }\n\t\t\tconst data: Raw = JSON.parse(raw);\n\t\t\treturn new BisectState(data.extensions, data.low, data.high, data.mid);\n\t\t} catch {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\n\tconstructor(\n\t\treadonly extensions: string[],\n\t\treadonly low: number,\n\t\treadonly high: number,\n\t\treadonly mid: number = ((low + high) / 2) | 0\n\t) { }\n}\n\nclass ExtensionBisectService implements IExtensionBisectService {\n\n\tdeclare readonly _serviceBrand: undefined;\n\n\tprivate static readonly _storageKey = 'extensionBisectState';\n\n\tprivate readonly _state: BisectState | undefined;\n\tprivate readonly _disabled = new Map<string, boolean>();\n\n\tconstructor(\n\t\t@ILogService logService: ILogService,\n\t\t@IStorageService private readonly _storageService: IStorageService,\n\t\t@IWorkbenchEnvironmentService private readonly _envService: IWorkbenchEnvironmentService\n\t) {\n\t\tconst raw = _storageService.get(ExtensionBisectService._storageKey, StorageScope.APPLICATION);\n\t\tthis._state = BisectState.fromJSON(raw);\n\n\t\tif (this._state) {\n\t\t\tconst { mid, high } = this._state;\n\t\t\tfor (let i = 0; i < this._state.extensions.length; i++) {\n\t\t\t\tconst isDisabled = i >= mid && i < high;\n\t\t\t\tthis._disabled.set(this._state.extensions[i], isDisabled);\n\t\t\t}\n\t\t\tlogService.warn('extension BISECT active', [...this._disabled]);\n\t\t}\n\t}\n\n\tget isActive() {\n\t\treturn !!this._state;\n\t}\n\n\tget disabledCount() {\n\t\treturn this._state ? this._state.high - this._state.mid : -1;\n\t}\n\n\tisDisabledByBisect(extension: IExtension): boolean {\n\t\tif (!this._state) {\n\t\t\t// bisect isn't active\n\t\t\treturn false;\n\t\t}\n\t\tif (isResolverExtension(extension.manifest, this._envService.remoteAuthority)) {\n\t\t\t// the current remote resolver extension cannot be disabled\n\t\t\treturn false;\n\t\t}\n\t\tif (this._isEnabledInEnv(extension)) {\n\t\t\t// Extension enabled in env cannot be disabled\n\t\t\treturn false;\n\t\t}\n\t\tconst disabled = this._disabled.get(extension.identifier.id);\n\t\treturn disabled ?? false;\n\t}\n\n\tprivate _isEnabledInEnv(extension: IExtension): boolean {\n\t\treturn Array.isArray(this._envService.enableExtensions) && this._envService.enableExtensions.some(id => areSameExtensions({ id }, extension.identifier));\n\t}\n\n\tasync start(extensions: ILocalExtension[]): Promise<void> {\n\t\tif (this._state) {\n\t\t\tthrow new Error('invalid state');\n\t\t}\n\t\tconst extensionIds = extensions.map(ext => ext.identifier.id);\n\t\tconst newState = new BisectState(extensionIds, 0, extensionIds.length, 0);\n\t\tthis._storageService.store(ExtensionBisectService._storageKey, JSON.stringify(newState), StorageScope.APPLICATION, StorageTarget.MACHINE);\n\t\tawait this._storageService.flush();\n\t}\n\n\tasync next(seeingBad: boolean): Promise<{ id: string; bad: boolean } | undefined> {\n\t\tif (!this._state) {\n\t\t\tthrow new Error('invalid state');\n\t\t}\n\t\t// check if bad when all extensions are disabled\n\t\tif (seeingBad && this._state.mid === 0 && this._state.high === this._state.extensions.length) {\n\t\t\treturn { bad: true, id: '' };\n\t\t}\n\t\t// check if there is only one left\n\t\tif (this._state.low === this._state.high - 1) {\n\t\t\tawait this.reset();\n\t\t\treturn { id: this._state.extensions[this._state.low], bad: seeingBad };\n\t\t}\n\t\t// the second half is disabled so if there is still bad it must be\n\t\t// in the first half\n\t\tconst nextState = new BisectState(\n\t\t\tthis._state.extensions,\n\t\t\tseeingBad ? this._state.low : this._state.mid,\n\t\t\tseeingBad ? this._state.mid : this._state.high,\n\t\t);\n\t\tthis._storageService.store(ExtensionBisectService._storageKey, JSON.stringify(nextState), StorageScope.APPLICATION, StorageTarget.MACHINE);\n\t\tawait this._storageService.flush();\n\t\treturn undefined;\n\t}\n\n\tasync reset(): Promise<void> {\n\t\tthis._storageService.remove(ExtensionBisectService._storageKey, StorageScope.APPLICATION);\n\t\tawait this._storageService.flush();\n\t}\n}\n\nregisterSingleton(IExtensionBisectService, ExtensionBisectService, InstantiationType.Delayed);\n\n// --- bisect UI\n\nclass ExtensionBisectUi {\n\n\tstatic ctxIsBisectActive = new RawContextKey<boolean>('isExtensionBisectActive', false);\n\n\tconstructor(\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IExtensionBisectService private readonly _extensionBisectService: IExtensionBisectService,\n\t\t@INotificationService private readonly _notificationService: INotificationService,\n\t\t@ICommandService private readonly _commandService: ICommandService,\n\t) {\n\t\tif (_extensionBisectService.isActive) {\n\t\t\tExtensionBisectUi.ctxIsBisectActive.bindTo(contextKeyService).set(true);\n\t\t\tthis._showBisectPrompt();\n\t\t}\n\t}\n\n\tprivate _showBisectPrompt(): void {\n\n\t\tconst goodPrompt: IPromptChoice = {\n\t\t\tlabel: localize('I cannot reproduce', \"I can't reproduce\"),\n\t\t\trun: () => this._commandService.executeCommand('extension.bisect.next', false)\n\t\t};\n\t\tconst badPrompt: IPromptChoice = {\n\t\t\tlabel: localize('This is Bad', \"I can reproduce\"),\n\t\t\trun: () => this._commandService.executeCommand('extension.bisect.next', true)\n\t\t};\n\t\tconst stop: IPromptChoice = {\n\t\t\tlabel: 'Stop Bisect',\n\t\t\trun: () => this._commandService.executeCommand('extension.bisect.stop')\n\t\t};\n\n\t\tconst message = this._extensionBisectService.disabledCount === 1\n\t\t\t? localize('bisect.singular', \"Extension Bisect is active and has disabled 1 extension. Check if you can still reproduce the problem and proceed by selecting from these options.\")\n\t\t\t: localize('bisect.plural', \"Extension Bisect is active and has disabled {0} extensions. Check if you can still reproduce the problem and proceed by selecting from these options.\", this._extensionBisectService.disabledCount);\n\n\t\tthis._notificationService.prompt(\n\t\t\tSeverity.Info,\n\t\t\tmessage,\n\t\t\t[goodPrompt, badPrompt, stop],\n\t\t\t{ sticky: true, priority: NotificationPriority.URGENT }\n\t\t);\n\t}\n}\n\nRegistry.as<IWorkbenchContributionsRegistry>(Extensions.Workbench).registerWorkbenchContribution(\n\tExtensionBisectUi,\n\tLifecyclePhase.Restored\n);\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'extension.bisect.start',\n\t\t\ttitle: localize2('title.start', 'Start Extension Bisect'),\n\t\t\tcategory: Categories.Help,\n\t\t\tf1: true,\n\t\t\tprecondition: ExtensionBisectUi.ctxIsBisectActive.negate(),\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.ViewContainerTitle,\n\t\t\t\twhen: ContextKeyExpr.equals('viewContainer', 'workbench.view.extensions'),\n\t\t\t\tgroup: '2_enablement',\n\t\t\t\torder: 4\n\t\t\t}\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst dialogService = accessor.get(IDialogService);\n\t\tconst hostService = accessor.get(IHostService);\n\t\tconst extensionManagement = accessor.get(IExtensionManagementService);\n\t\tconst extensionEnablementService = accessor.get(IWorkbenchExtensionEnablementService);\n\t\tconst extensionsBisect = accessor.get(IExtensionBisectService);\n\n\t\tconst extensions = (await extensionManagement.getInstalled(ExtensionType.User)).filter(ext => extensionEnablementService.isEnabled(ext));\n\n\t\tconst res = await dialogService.confirm({\n\t\t\tmessage: localize('msg.start', \"Extension Bisect\"),\n\t\t\tdetail: localize('detail.start', \"Extension Bisect will use binary search to find an extension that causes a problem. During the process the window reloads repeatedly (~{0} times). Each time you must confirm if you are still seeing problems.\", 2 + Math.log2(extensions.length) | 0),\n\t\t\tprimaryButton: localize({ key: 'msg2', comment: ['&& denotes a mnemonic'] }, \"&&Start Extension Bisect\")\n\t\t});\n\n\t\tif (res.confirmed) {\n\t\t\tawait extensionsBisect.start(extensions);\n\t\t\thostService.reload();\n\t\t}\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'extension.bisect.next',\n\t\t\ttitle: localize2('title.isBad', 'Continue Extension Bisect'),\n\t\t\tcategory: Categories.Help,\n\t\t\tf1: true,\n\t\t\tprecondition: ExtensionBisectUi.ctxIsBisectActive\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor, seeingBad: boolean | undefined): Promise<void> {\n\t\tconst dialogService = accessor.get(IDialogService);\n\t\tconst hostService = accessor.get(IHostService);\n\t\tconst bisectService = accessor.get(IExtensionBisectService);\n\t\tconst productService = accessor.get(IProductService);\n\t\tconst extensionEnablementService = accessor.get(IGlobalExtensionEnablementService);\n\t\tconst commandService = accessor.get(ICommandService);\n\n\t\tif (!bisectService.isActive) {\n\t\t\treturn;\n\t\t}\n\t\tif (seeingBad === undefined) {\n\t\t\tconst goodBadStopCancel = await this._checkForBad(dialogService, bisectService);\n\t\t\tif (goodBadStopCancel === null) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tseeingBad = goodBadStopCancel;\n\t\t}\n\t\tif (seeingBad === undefined) {\n\t\t\tawait bisectService.reset();\n\t\t\thostService.reload();\n\t\t\treturn;\n\t\t}\n\t\tconst done = await bisectService.next(seeingBad);\n\t\tif (!done) {\n\t\t\thostService.reload();\n\t\t\treturn;\n\t\t}\n\n\t\tif (done.bad) {\n\t\t\t// DONE but nothing found\n\t\t\tawait dialogService.info(\n\t\t\t\tlocalize('done.msg', \"Extension Bisect\"),\n\t\t\t\tlocalize('done.detail2', \"Extension Bisect is done but no extension has been identified. This might be a problem with {0}.\", productService.nameShort)\n\t\t\t);\n\n\t\t} else {\n\t\t\t// DONE and identified extension\n\t\t\tconst res = await dialogService.confirm({\n\t\t\t\ttype: Severity.Info,\n\t\t\t\tmessage: localize('done.msg', \"Extension Bisect\"),\n\t\t\t\tprimaryButton: localize({ key: 'report', comment: ['&& denotes a mnemonic'] }, \"&&Report Issue & Continue\"),\n\t\t\t\tcancelButton: localize('continue', \"Continue\"),\n\t\t\t\tdetail: localize('done.detail', \"Extension Bisect is done and has identified {0} as the extension causing the problem.\", done.id),\n\t\t\t\tcheckbox: { label: localize('done.disbale', \"Keep this extension disabled\"), checked: true }\n\t\t\t});\n\t\t\tif (res.checkboxChecked) {\n\t\t\t\tawait extensionEnablementService.disableExtension({ id: done.id }, undefined);\n\t\t\t}\n\t\t\tif (res.confirmed) {\n\t\t\t\tawait commandService.executeCommand('workbench.action.openIssueReporter', done.id);\n\t\t\t}\n\t\t}\n\t\tawait bisectService.reset();\n\t\thostService.reload();\n\t}\n\n\tprivate async _checkForBad(dialogService: IDialogService, bisectService: IExtensionBisectService): Promise<boolean | undefined | null> {\n\t\tconst { result } = await dialogService.prompt<boolean | undefined | null>({\n\t\t\ttype: Severity.Info,\n\t\t\tmessage: localize('msg.next', \"Extension Bisect\"),\n\t\t\tdetail: localize('bisect', \"Extension Bisect is active and has disabled {0} extensions. Check if you can still reproduce the problem and proceed by selecting from these options.\", bisectService.disabledCount),\n\t\t\tbuttons: [\n\t\t\t\t{\n\t\t\t\t\tlabel: localize({ key: 'next.good', comment: ['&& denotes a mnemonic'] }, \"I ca&&n't reproduce\"),\n\t\t\t\t\trun: () => false // good now\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: localize({ key: 'next.bad', comment: ['&& denotes a mnemonic'] }, \"I can &&reproduce\"),\n\t\t\t\t\trun: () => true // bad\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: localize({ key: 'next.stop', comment: ['&& denotes a mnemonic'] }, \"&&Stop Bisect\"),\n\t\t\t\t\trun: () => undefined // stop\n\t\t\t\t}\n\t\t\t],\n\t\t\tcancelButton: {\n\t\t\t\tlabel: localize({ key: 'next.cancel', comment: ['&& denotes a mnemonic'] }, \"&&Cancel Bisect\"),\n\t\t\t\trun: () => null // cancel\n\t\t\t}\n\t\t});\n\t\treturn result;\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'extension.bisect.stop',\n\t\t\ttitle: localize2('title.stop', 'Stop Extension Bisect'),\n\t\t\tcategory: Categories.Help,\n\t\t\tf1: true,\n\t\t\tprecondition: ExtensionBisectUi.ctxIsBisectActive\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst extensionsBisect = accessor.get(IExtensionBisectService);\n\t\tconst hostService = accessor.get(IHostService);\n\t\tawait extensionsBisect.reset();\n\t\thostService.reload();\n\t}\n});\n"]}