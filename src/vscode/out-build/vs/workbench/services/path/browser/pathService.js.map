{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/services/path/browser/pathService.ts","vs/workbench/services/path/browser/pathService.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;AAEhG,OAAO,EAAqB,iBAAiB,EAAE,MAAM,yDAAyD,CAAC;AAC/G,OAAO,EAAE,mBAAmB,EAAE,MAAM,2CAA2C,CAAC;AAChF,OAAO,EAAE,YAAY,EAAE,mBAAmB,EAAE,MAAM,0BAA0B,CAAC;AAC7E,OAAO,EAAE,GAAG,EAAE,MAAM,gCAAgC,CAAC;AACrD,OAAO,EAAE,4BAA4B,EAAE,MAAM,gDAAgD,CAAC;AAC9F,OAAO,EAAE,wBAAwB,EAAE,MAAM,oDAAoD,CAAC;AAC9F,OAAO,EAAE,OAAO,EAAE,MAAM,sCAAsC,CAAC;AAExD,IAAM,kBAAkB,GAAxB,MAAM,kBAAmB,SAAQ,mBAAmB;IAE1D,YACsB,kBAAuC,EAC9B,kBAAgD,EACpD,cAAwC;QAElE,KAAK,CACJ,kBAAkB,CAAC,kBAAkB,EAAE,cAAc,CAAC,EACtD,kBAAkB,EAClB,kBAAkB,EAClB,cAAc,CACd,CAAC;IACH,CAAC;CACD,CAAA;AAdY,kBAAkB;IAG5B,WAAA,mBAAmB,CAAA;IACnB,WAAA,4BAA4B,CAAA;IAC5B,WAAA,wBAAwB,CAAA;GALd,kBAAkB,CAc9B;;AAED,SAAS,kBAAkB,CAAC,kBAAgD,EAAE,cAAwC;IAErH,kEAAkE;IAClE,iEAAiE;IACjE,gEAAgE;IAChE,eAAe;IAEf,MAAM,SAAS,GAAG,cAAc,CAAC,YAAY,EAAE,CAAC;IAEhD,MAAM,WAAW,GAAG,SAAS,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAC5C,IAAI,WAAW,EAAE,CAAC;QACjB,OAAO,WAAW,CAAC,GAAG,CAAC;IACxB,CAAC;IAED,IAAI,SAAS,CAAC,aAAa,EAAE,CAAC;QAC7B,OAAO,OAAO,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;IACzC,CAAC;IAED,wEAAwE;IACxE,uEAAuE;IACvE,uCAAuC;IAEvC,OAAO,GAAG,CAAC,IAAI,CAAC;QACf,MAAM,EAAE,mBAAmB,CAAC,oBAAoB,CAAC,kBAAkB,EAAE,cAAc,CAAC;QACpF,SAAS,EAAE,kBAAkB,CAAC,eAAe;QAC7C,IAAI,EAAE,GAAG;KACT,CAAC,CAAC;AACJ,CAAC;AAED,iBAAiB,CAAC,YAAY,EAAE,kBAAkB,oCAA4B,CAAC","file":"pathService.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { InstantiationType, registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { IRemoteAgentService } from '../../remote/common/remoteAgentService.js';\nimport { IPathService, AbstractPathService } from '../common/pathService.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { IWorkbenchEnvironmentService } from '../../environment/common/environmentService.js';\nimport { IWorkspaceContextService } from '../../../../platform/workspace/common/workspace.js';\nimport { dirname } from '../../../../base/common/resources.js';\n\nexport class BrowserPathService extends AbstractPathService {\n\n\tconstructor(\n\t\t@IRemoteAgentService remoteAgentService: IRemoteAgentService,\n\t\t@IWorkbenchEnvironmentService environmentService: IWorkbenchEnvironmentService,\n\t\t@IWorkspaceContextService contextService: IWorkspaceContextService\n\t) {\n\t\tsuper(\n\t\t\tguessLocalUserHome(environmentService, contextService),\n\t\t\tremoteAgentService,\n\t\t\tenvironmentService,\n\t\t\tcontextService\n\t\t);\n\t}\n}\n\nfunction guessLocalUserHome(environmentService: IWorkbenchEnvironmentService, contextService: IWorkspaceContextService): URI {\n\n\t// In web we do not really have the concept of a \"local\" user home\n\t// but we still require it in many places as a fallback. As such,\n\t// we have to come up with a synthetic location derived from the\n\t// environment.\n\n\tconst workspace = contextService.getWorkspace();\n\n\tconst firstFolder = workspace.folders.at(0);\n\tif (firstFolder) {\n\t\treturn firstFolder.uri;\n\t}\n\n\tif (workspace.configuration) {\n\t\treturn dirname(workspace.configuration);\n\t}\n\n\t// This is not ideal because with a user home location of `/`, all paths\n\t// will potentially appear with `~/...`, but at this point we really do\n\t// not have any other good alternative.\n\n\treturn URI.from({\n\t\tscheme: AbstractPathService.findDefaultUriScheme(environmentService, contextService),\n\t\tauthority: environmentService.remoteAuthority,\n\t\tpath: '/'\n\t});\n}\n\nregisterSingleton(IPathService, BrowserPathService, InstantiationType.Delayed);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { InstantiationType, registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { IRemoteAgentService } from '../../remote/common/remoteAgentService.js';\nimport { IPathService, AbstractPathService } from '../common/pathService.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { IWorkbenchEnvironmentService } from '../../environment/common/environmentService.js';\nimport { IWorkspaceContextService } from '../../../../platform/workspace/common/workspace.js';\nimport { dirname } from '../../../../base/common/resources.js';\n\nexport class BrowserPathService extends AbstractPathService {\n\n\tconstructor(\n\t\t@IRemoteAgentService remoteAgentService: IRemoteAgentService,\n\t\t@IWorkbenchEnvironmentService environmentService: IWorkbenchEnvironmentService,\n\t\t@IWorkspaceContextService contextService: IWorkspaceContextService\n\t) {\n\t\tsuper(\n\t\t\tguessLocalUserHome(environmentService, contextService),\n\t\t\tremoteAgentService,\n\t\t\tenvironmentService,\n\t\t\tcontextService\n\t\t);\n\t}\n}\n\nfunction guessLocalUserHome(environmentService: IWorkbenchEnvironmentService, contextService: IWorkspaceContextService): URI {\n\n\t// In web we do not really have the concept of a \"local\" user home\n\t// but we still require it in many places as a fallback. As such,\n\t// we have to come up with a synthetic location derived from the\n\t// environment.\n\n\tconst workspace = contextService.getWorkspace();\n\n\tconst firstFolder = workspace.folders.at(0);\n\tif (firstFolder) {\n\t\treturn firstFolder.uri;\n\t}\n\n\tif (workspace.configuration) {\n\t\treturn dirname(workspace.configuration);\n\t}\n\n\t// This is not ideal because with a user home location of `/`, all paths\n\t// will potentially appear with `~/...`, but at this point we really do\n\t// not have any other good alternative.\n\n\treturn URI.from({\n\t\tscheme: AbstractPathService.findDefaultUriScheme(environmentService, contextService),\n\t\tauthority: environmentService.remoteAuthority,\n\t\tpath: '/'\n\t});\n}\n\nregisterSingleton(IPathService, BrowserPathService, InstantiationType.Delayed);\n"]}