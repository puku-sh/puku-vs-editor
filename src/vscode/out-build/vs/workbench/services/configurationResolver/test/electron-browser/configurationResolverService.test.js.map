{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/services/configurationResolver/test/electron-browser/configurationResolverService.test.ts","vs/workbench/services/configurationResolver/test/electron-browser/configurationResolverService.test.ts"],"names":[],"mappings":"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","file":"configurationResolverService.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { stub } from 'sinon';\nimport { Emitter, Event } from '../../../../../base/common/event.js';\nimport { Disposable, IDisposable } from '../../../../../base/common/lifecycle.js';\nimport { Schemas } from '../../../../../base/common/network.js';\nimport { IPath, normalize } from '../../../../../base/common/path.js';\nimport * as platform from '../../../../../base/common/platform.js';\nimport { isLinux, isMacintosh, isWindows } from '../../../../../base/common/platform.js';\nimport { isObject } from '../../../../../base/common/types.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { Selection } from '../../../../../editor/common/core/selection.js';\nimport { EditorType } from '../../../../../editor/common/editorCommon.js';\nimport { ICommandService } from '../../../../../platform/commands/common/commands.js';\nimport { IConfigurationOverrides, IConfigurationService, IConfigurationValue } from '../../../../../platform/configuration/common/configuration.js';\nimport { TestConfigurationService } from '../../../../../platform/configuration/test/common/testConfigurationService.js';\nimport { IExtensionDescription } from '../../../../../platform/extensions/common/extensions.js';\nimport { IFormatterChangeEvent, ILabelService, ResourceLabelFormatter, Verbosity } from '../../../../../platform/label/common/label.js';\nimport { IWorkspace, IWorkspaceFolder, IWorkspaceIdentifier, Workspace } from '../../../../../platform/workspace/common/workspace.js';\nimport { testWorkspace } from '../../../../../platform/workspace/test/common/testWorkspace.js';\nimport { TestEditorService, TestQuickInputService } from '../../../../test/browser/workbenchTestServices.js';\nimport { TestContextService, TestExtensionService, TestStorageService } from '../../../../test/common/workbenchTestServices.js';\nimport { IExtensionService } from '../../../extensions/common/extensions.js';\nimport { IPathService } from '../../../path/common/pathService.js';\nimport { BaseConfigurationResolverService } from '../../browser/baseConfigurationResolverService.js';\nimport { IConfigurationResolverService } from '../../common/configurationResolver.js';\nimport { ConfigurationResolverExpression } from '../../common/configurationResolverExpression.js';\n\nconst mockLineNumber = 10;\nclass TestEditorServiceWithActiveEditor extends TestEditorService {\n\toverride get activeTextEditorControl(): any {\n\t\treturn {\n\t\t\tgetEditorType() {\n\t\t\t\treturn EditorType.ICodeEditor;\n\t\t\t},\n\t\t\tgetSelection() {\n\t\t\t\treturn new Selection(mockLineNumber, 1, mockLineNumber, 10);\n\t\t\t}\n\t\t};\n\t}\n\toverride get activeEditor(): any {\n\t\treturn {\n\t\t\tget resource(): any {\n\t\t\t\treturn URI.parse('file:///VSCode/workspaceLocation/file');\n\t\t\t}\n\t\t};\n\t}\n}\n\nclass TestConfigurationResolverService extends BaseConfigurationResolverService {\n\n}\n\nconst nullContext = {\n\tgetAppRoot: () => undefined,\n\tgetExecPath: () => undefined\n};\n\nsuite('Configuration Resolver Service', () => {\n\tlet configurationResolverService: IConfigurationResolverService | null;\n\tconst envVariables: { [key: string]: string } = { key1: 'Value for key1', key2: 'Value for key2' };\n\t// let environmentService: MockWorkbenchEnvironmentService;\n\tlet mockCommandService: MockCommandService;\n\tlet editorService: TestEditorServiceWithActiveEditor;\n\tlet containingWorkspace: Workspace;\n\tlet workspace: IWorkspaceFolder;\n\tlet quickInputService: TestQuickInputService;\n\tlet labelService: MockLabelService;\n\tlet pathService: MockPathService;\n\tlet extensionService: IExtensionService;\n\n\tconst disposables = ensureNoDisposablesAreLeakedInTestSuite();\n\n\tsetup(() => {\n\t\tmockCommandService = new MockCommandService();\n\t\teditorService = disposables.add(new TestEditorServiceWithActiveEditor());\n\t\tquickInputService = new TestQuickInputService();\n\t\t// environmentService = new MockWorkbenchEnvironmentService(envVariables);\n\t\tlabelService = new MockLabelService();\n\t\tpathService = new MockPathService();\n\t\textensionService = new TestExtensionService();\n\t\tcontainingWorkspace = testWorkspace(URI.parse('file:///VSCode/workspaceLocation'));\n\t\tworkspace = containingWorkspace.folders[0];\n\t\tconfigurationResolverService = new TestConfigurationResolverService(nullContext, Promise.resolve(envVariables), editorService, new MockInputsConfigurationService(), mockCommandService, new TestContextService(containingWorkspace), quickInputService, labelService, pathService, extensionService, disposables.add(new TestStorageService()));\n\t});\n\n\tteardown(() => {\n\t\tconfigurationResolverService = null;\n\t});\n\n\ttest('substitute one', async () => {\n\t\tif (platform.isWindows) {\n\t\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, 'abc ${workspaceFolder} xyz'), 'abc \\\\VSCode\\\\workspaceLocation xyz');\n\t\t} else {\n\t\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, 'abc ${workspaceFolder} xyz'), 'abc /VSCode/workspaceLocation xyz');\n\t\t}\n\t});\n\n\ttest('does not preserve platform config even when not matched', async () => {\n\t\tconst obj = {\n\t\t\tprogram: 'osx.sh',\n\t\t\twindows: {\n\t\t\t\tprogram: 'windows.exe'\n\t\t\t},\n\t\t\tlinux: {\n\t\t\t\tprogram: 'linux.sh'\n\t\t\t}\n\t\t};\n\t\tconst config: any = await configurationResolverService!.resolveAsync(workspace, obj);\n\n\t\tconst expected = isWindows ? 'windows.exe' : isMacintosh ? 'osx.sh' : isLinux ? 'linux.sh' : undefined;\n\n\t\tassert.strictEqual(config.windows, undefined);\n\t\tassert.strictEqual(config.osx, undefined);\n\t\tassert.strictEqual(config.linux, undefined);\n\t\tassert.strictEqual(config.program, expected);\n\t});\n\n\ttest('apples platform specific config', async () => {\n\t\tconst expected = isWindows ? 'windows.exe' : isMacintosh ? 'osx.sh' : isLinux ? 'linux.sh' : undefined;\n\t\tconst obj = {\n\t\t\twindows: {\n\t\t\t\tprogram: 'windows.exe'\n\t\t\t},\n\t\t\tosx: {\n\t\t\t\tprogram: 'osx.sh'\n\t\t\t},\n\t\t\tlinux: {\n\t\t\t\tprogram: 'linux.sh'\n\t\t\t}\n\t\t};\n\t\tconst originalObj = JSON.stringify(obj);\n\t\tconst config: any = await configurationResolverService!.resolveAsync(workspace, obj);\n\n\t\tassert.strictEqual(config.program, expected);\n\t\tassert.strictEqual(config.windows, undefined);\n\t\tassert.strictEqual(config.osx, undefined);\n\t\tassert.strictEqual(config.linux, undefined);\n\t\tassert.strictEqual(JSON.stringify(obj), originalObj); // did not mutate original\n\t});\n\n\ttest('workspace folder with argument', async () => {\n\t\tif (platform.isWindows) {\n\t\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, 'abc ${workspaceFolder:workspaceLocation} xyz'), 'abc \\\\VSCode\\\\workspaceLocation xyz');\n\t\t} else {\n\t\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, 'abc ${workspaceFolder:workspaceLocation} xyz'), 'abc /VSCode/workspaceLocation xyz');\n\t\t}\n\t});\n\n\ttest('workspace folder with invalid argument', async () => {\n\t\tawait assert.rejects(async () => await configurationResolverService!.resolveAsync(workspace, 'abc ${workspaceFolder:invalidLocation} xyz'));\n\t});\n\n\ttest('workspace folder with undefined workspace folder', async () => {\n\t\tawait assert.rejects(async () => await configurationResolverService!.resolveAsync(undefined, 'abc ${workspaceFolder} xyz'));\n\t});\n\n\ttest('workspace folder with argument and undefined workspace folder', async () => {\n\t\tif (platform.isWindows) {\n\t\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(undefined, 'abc ${workspaceFolder:workspaceLocation} xyz'), 'abc \\\\VSCode\\\\workspaceLocation xyz');\n\t\t} else {\n\t\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(undefined, 'abc ${workspaceFolder:workspaceLocation} xyz'), 'abc /VSCode/workspaceLocation xyz');\n\t\t}\n\t});\n\n\ttest('workspace folder with invalid argument and undefined workspace folder', () => {\n\t\tassert.rejects(async () => await configurationResolverService!.resolveAsync(undefined, 'abc ${workspaceFolder:invalidLocation} xyz'));\n\t});\n\n\ttest('workspace root folder name', async () => {\n\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, 'abc ${workspaceRootFolderName} xyz'), 'abc workspaceLocation xyz');\n\t});\n\n\ttest('current selected line number', async () => {\n\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, 'abc ${lineNumber} xyz'), `abc ${mockLineNumber} xyz`);\n\t});\n\n\ttest('relative file', async () => {\n\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, 'abc ${relativeFile} xyz'), 'abc file xyz');\n\t});\n\n\ttest('relative file with argument', async () => {\n\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, 'abc ${relativeFile:workspaceLocation} xyz'), 'abc file xyz');\n\t});\n\n\ttest('relative file with invalid argument', () => {\n\t\tassert.rejects(async () => await configurationResolverService!.resolveAsync(workspace, 'abc ${relativeFile:invalidLocation} xyz'));\n\t});\n\n\ttest('relative file with undefined workspace folder', async () => {\n\t\tif (platform.isWindows) {\n\t\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(undefined, 'abc ${relativeFile} xyz'), 'abc \\\\VSCode\\\\workspaceLocation\\\\file xyz');\n\t\t} else {\n\t\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(undefined, 'abc ${relativeFile} xyz'), 'abc /VSCode/workspaceLocation/file xyz');\n\t\t}\n\t});\n\n\ttest('relative file with argument and undefined workspace folder', async () => {\n\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(undefined, 'abc ${relativeFile:workspaceLocation} xyz'), 'abc file xyz');\n\t});\n\n\ttest('relative file with invalid argument and undefined workspace folder', () => {\n\t\tassert.rejects(async () => await configurationResolverService!.resolveAsync(undefined, 'abc ${relativeFile:invalidLocation} xyz'));\n\t});\n\n\ttest('substitute many', async () => {\n\t\tif (platform.isWindows) {\n\t\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, '${workspaceFolder} - ${workspaceFolder}'), '\\\\VSCode\\\\workspaceLocation - \\\\VSCode\\\\workspaceLocation');\n\t\t} else {\n\t\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, '${workspaceFolder} - ${workspaceFolder}'), '/VSCode/workspaceLocation - /VSCode/workspaceLocation');\n\t\t}\n\t});\n\n\ttest('substitute one env variable', async () => {\n\t\tif (platform.isWindows) {\n\t\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, 'abc ${workspaceFolder} ${env:key1} xyz'), 'abc \\\\VSCode\\\\workspaceLocation Value for key1 xyz');\n\t\t} else {\n\t\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, 'abc ${workspaceFolder} ${env:key1} xyz'), 'abc /VSCode/workspaceLocation Value for key1 xyz');\n\t\t}\n\t});\n\n\ttest('substitute many env variable', async () => {\n\t\tif (platform.isWindows) {\n\t\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, '${workspaceFolder} - ${workspaceFolder} ${env:key1} - ${env:key2}'), '\\\\VSCode\\\\workspaceLocation - \\\\VSCode\\\\workspaceLocation Value for key1 - Value for key2');\n\t\t} else {\n\t\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, '${workspaceFolder} - ${workspaceFolder} ${env:key1} - ${env:key2}'), '/VSCode/workspaceLocation - /VSCode/workspaceLocation Value for key1 - Value for key2');\n\t\t}\n\t});\n\n\ttest('disallows nested keys (#77289)', async () => {\n\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, '${env:key1} ${env:key1${env:key2}}'), 'Value for key1 ');\n\t});\n\n\ttest('supports extensionDir', async () => {\n\t\tconst getExtension = stub(extensionService, 'getExtension');\n\t\tgetExtension.withArgs('publisher.extId').returns(Promise.resolve({ extensionLocation: URI.file('/some/path') } as IExtensionDescription));\n\n\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, '${extensionInstallFolder:publisher.extId}'), URI.file('/some/path').fsPath);\n\t});\n\n\t// test('substitute keys and values in object', () => {\n\t// \tconst myObject = {\n\t// \t\t'${workspaceRootFolderName}': '${lineNumber}',\n\t// \t\t'hey ${env:key1} ': '${workspaceRootFolderName}'\n\t// \t};\n\t// \tassert.deepStrictEqual(configurationResolverService!.resolveAsync(workspace, myObject), {\n\t// \t\t'workspaceLocation': `${editorService.mockLineNumber}`,\n\t// \t\t'hey Value for key1 ': 'workspaceLocation'\n\t// \t});\n\t// });\n\n\n\ttest('substitute one env variable using platform case sensitivity', async () => {\n\t\tif (platform.isWindows) {\n\t\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, '${env:key1} - ${env:Key1}'), 'Value for key1 - Value for key1');\n\t\t} else {\n\t\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, '${env:key1} - ${env:Key1}'), 'Value for key1 - ');\n\t\t}\n\t});\n\n\ttest('substitute one configuration variable', async () => {\n\t\tconst configurationService: IConfigurationService = new TestConfigurationService({\n\t\t\teditor: {\n\t\t\t\tfontFamily: 'foo'\n\t\t\t},\n\t\t\tterminal: {\n\t\t\t\tintegrated: {\n\t\t\t\t\tfontFamily: 'bar'\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tconst service = new TestConfigurationResolverService(nullContext, Promise.resolve(envVariables), disposables.add(new TestEditorServiceWithActiveEditor()), configurationService, mockCommandService, new TestContextService(), quickInputService, labelService, pathService, extensionService, disposables.add(new TestStorageService()));\n\t\tassert.strictEqual(await service.resolveAsync(workspace, 'abc ${config:editor.fontFamily} xyz'), 'abc foo xyz');\n\t});\n\n\ttest('inlines an array (#245718)', async () => {\n\t\tconst configurationService: IConfigurationService = new TestConfigurationService({\n\t\t\teditor: {\n\t\t\t\tfontFamily: ['foo', 'bar']\n\t\t\t},\n\t\t});\n\n\t\tconst service = new TestConfigurationResolverService(nullContext, Promise.resolve(envVariables), disposables.add(new TestEditorServiceWithActiveEditor()), configurationService, mockCommandService, new TestContextService(), quickInputService, labelService, pathService, extensionService, disposables.add(new TestStorageService()));\n\t\tassert.strictEqual(await service.resolveAsync(workspace, 'abc ${config:editor.fontFamily} xyz'), 'abc foo,bar xyz');\n\t});\n\n\ttest('substitute configuration variable with undefined workspace folder', async () => {\n\t\tconst configurationService: IConfigurationService = new TestConfigurationService({\n\t\t\teditor: {\n\t\t\t\tfontFamily: 'foo'\n\t\t\t}\n\t\t});\n\n\t\tconst service = new TestConfigurationResolverService(nullContext, Promise.resolve(envVariables), disposables.add(new TestEditorServiceWithActiveEditor()), configurationService, mockCommandService, new TestContextService(), quickInputService, labelService, pathService, extensionService, disposables.add(new TestStorageService()));\n\t\tassert.strictEqual(await service.resolveAsync(undefined, 'abc ${config:editor.fontFamily} xyz'), 'abc foo xyz');\n\t});\n\n\ttest('substitute many configuration variables', async () => {\n\t\tconst configurationService = new TestConfigurationService({\n\t\t\teditor: {\n\t\t\t\tfontFamily: 'foo'\n\t\t\t},\n\t\t\tterminal: {\n\t\t\t\tintegrated: {\n\t\t\t\t\tfontFamily: 'bar'\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tconst service = new TestConfigurationResolverService(nullContext, Promise.resolve(envVariables), disposables.add(new TestEditorServiceWithActiveEditor()), configurationService, mockCommandService, new TestContextService(), quickInputService, labelService, pathService, extensionService, disposables.add(new TestStorageService()));\n\t\tassert.strictEqual(await service.resolveAsync(workspace, 'abc ${config:editor.fontFamily} ${config:terminal.integrated.fontFamily} xyz'), 'abc foo bar xyz');\n\t});\n\n\ttest('substitute one env variable and a configuration variable', async () => {\n\t\tconst configurationService = new TestConfigurationService({\n\t\t\teditor: {\n\t\t\t\tfontFamily: 'foo'\n\t\t\t},\n\t\t\tterminal: {\n\t\t\t\tintegrated: {\n\t\t\t\t\tfontFamily: 'bar'\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tconst service = new TestConfigurationResolverService(nullContext, Promise.resolve(envVariables), disposables.add(new TestEditorServiceWithActiveEditor()), configurationService, mockCommandService, new TestContextService(), quickInputService, labelService, pathService, extensionService, disposables.add(new TestStorageService()));\n\t\tif (platform.isWindows) {\n\t\t\tassert.strictEqual(await service.resolveAsync(workspace, 'abc ${config:editor.fontFamily} ${workspaceFolder} ${env:key1} xyz'), 'abc foo \\\\VSCode\\\\workspaceLocation Value for key1 xyz');\n\t\t} else {\n\t\t\tassert.strictEqual(await service.resolveAsync(workspace, 'abc ${config:editor.fontFamily} ${workspaceFolder} ${env:key1} xyz'), 'abc foo /VSCode/workspaceLocation Value for key1 xyz');\n\t\t}\n\t});\n\n\ttest('recursively resolve variables', async () => {\n\t\tconst configurationService = new TestConfigurationService({\n\t\t\tkey1: 'key1=${config:key2}',\n\t\t\tkey2: 'key2=${config:key3}',\n\t\t\tkey3: 'we did it!',\n\t\t});\n\n\t\tconst service = new TestConfigurationResolverService(nullContext, Promise.resolve(envVariables), disposables.add(new TestEditorServiceWithActiveEditor()), configurationService, mockCommandService, new TestContextService(), quickInputService, labelService, pathService, extensionService, disposables.add(new TestStorageService()));\n\t\tassert.strictEqual(await service.resolveAsync(workspace, '${config:key1}'), 'key1=key2=we did it!');\n\t});\n\n\ttest('substitute many env variable and a configuration variable', async () => {\n\t\tconst configurationService = new TestConfigurationService({\n\t\t\teditor: {\n\t\t\t\tfontFamily: 'foo'\n\t\t\t},\n\t\t\tterminal: {\n\t\t\t\tintegrated: {\n\t\t\t\t\tfontFamily: 'bar'\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tconst service = new TestConfigurationResolverService(nullContext, Promise.resolve(envVariables), disposables.add(new TestEditorServiceWithActiveEditor()), configurationService, mockCommandService, new TestContextService(), quickInputService, labelService, pathService, extensionService, disposables.add(new TestStorageService()));\n\t\tif (platform.isWindows) {\n\t\t\tassert.strictEqual(await service.resolveAsync(workspace, '${config:editor.fontFamily} ${config:terminal.integrated.fontFamily} ${workspaceFolder} - ${workspaceFolder} ${env:key1} - ${env:key2}'), 'foo bar \\\\VSCode\\\\workspaceLocation - \\\\VSCode\\\\workspaceLocation Value for key1 - Value for key2');\n\t\t} else {\n\t\t\tassert.strictEqual(await service.resolveAsync(workspace, '${config:editor.fontFamily} ${config:terminal.integrated.fontFamily} ${workspaceFolder} - ${workspaceFolder} ${env:key1} - ${env:key2}'), 'foo bar /VSCode/workspaceLocation - /VSCode/workspaceLocation Value for key1 - Value for key2');\n\t\t}\n\t});\n\n\ttest('mixed types of configuration variables', async () => {\n\t\tconst configurationService = new TestConfigurationService({\n\t\t\teditor: {\n\t\t\t\tfontFamily: 'foo',\n\t\t\t\tlineNumbers: 123,\n\t\t\t\tinsertSpaces: false\n\t\t\t},\n\t\t\tterminal: {\n\t\t\t\tintegrated: {\n\t\t\t\t\tfontFamily: 'bar'\n\t\t\t\t}\n\t\t\t},\n\t\t\tjson: {\n\t\t\t\tschemas: [\n\t\t\t\t\t{\n\t\t\t\t\t\tfileMatch: [\n\t\t\t\t\t\t\t'/myfile',\n\t\t\t\t\t\t\t'/myOtherfile'\n\t\t\t\t\t\t],\n\t\t\t\t\t\turl: 'schemaURL'\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t});\n\n\t\tconst service = new TestConfigurationResolverService(nullContext, Promise.resolve(envVariables), disposables.add(new TestEditorServiceWithActiveEditor()), configurationService, mockCommandService, new TestContextService(), quickInputService, labelService, pathService, extensionService, disposables.add(new TestStorageService()));\n\t\tassert.strictEqual(await service.resolveAsync(workspace, 'abc ${config:editor.fontFamily} ${config:editor.lineNumbers} ${config:editor.insertSpaces} xyz'), 'abc foo 123 false xyz');\n\t});\n\n\ttest('uses original variable as fallback', async () => {\n\t\tconst configurationService = new TestConfigurationService({\n\t\t\teditor: {}\n\t\t});\n\n\t\tconst service = new TestConfigurationResolverService(nullContext, Promise.resolve(envVariables), disposables.add(new TestEditorServiceWithActiveEditor()), configurationService, mockCommandService, new TestContextService(), quickInputService, labelService, pathService, extensionService, disposables.add(new TestStorageService()));\n\t\tassert.strictEqual(await service.resolveAsync(workspace, 'abc ${unknownVariable} xyz'), 'abc ${unknownVariable} xyz');\n\t\tassert.strictEqual(await service.resolveAsync(workspace, 'abc ${env:unknownVariable} xyz'), 'abc  xyz');\n\t});\n\n\ttest('configuration variables with invalid accessor', () => {\n\t\tconst configurationService = new TestConfigurationService({\n\t\t\teditor: {\n\t\t\t\tfontFamily: 'foo'\n\t\t\t}\n\t\t});\n\n\t\tconst service = new TestConfigurationResolverService(nullContext, Promise.resolve(envVariables), disposables.add(new TestEditorServiceWithActiveEditor()), configurationService, mockCommandService, new TestContextService(), quickInputService, labelService, pathService, extensionService, disposables.add(new TestStorageService()));\n\n\t\tassert.rejects(async () => await service.resolveAsync(workspace, 'abc ${env} xyz'));\n\t\tassert.rejects(async () => await service.resolveAsync(workspace, 'abc ${env:} xyz'));\n\t\tassert.rejects(async () => await service.resolveAsync(workspace, 'abc ${config} xyz'));\n\t\tassert.rejects(async () => await service.resolveAsync(workspace, 'abc ${config:} xyz'));\n\t\tassert.rejects(async () => await service.resolveAsync(workspace, 'abc ${config:editor} xyz'));\n\t\tassert.rejects(async () => await service.resolveAsync(workspace, 'abc ${config:editor..fontFamily} xyz'));\n\t\tassert.rejects(async () => await service.resolveAsync(workspace, 'abc ${config:editor.none.none2} xyz'));\n\t});\n\n\ttest('a single command variable', () => {\n\n\t\tconst configuration = {\n\t\t\t'name': 'Attach to Process',\n\t\t\t'type': 'node',\n\t\t\t'request': 'attach',\n\t\t\t'processId': '${command:command1}',\n\t\t\t'port': 5858,\n\t\t\t'sourceMaps': false,\n\t\t\t'outDir': null\n\t\t};\n\n\t\treturn configurationResolverService!.resolveWithInteractionReplace(undefined, configuration).then(result => {\n\t\t\tassert.deepStrictEqual({ ...result }, {\n\t\t\t\t'name': 'Attach to Process',\n\t\t\t\t'type': 'node',\n\t\t\t\t'request': 'attach',\n\t\t\t\t'processId': 'command1-result',\n\t\t\t\t'port': 5858,\n\t\t\t\t'sourceMaps': false,\n\t\t\t\t'outDir': null\n\t\t\t});\n\n\t\t\tassert.strictEqual(1, mockCommandService.callCount);\n\t\t});\n\t});\n\n\ttest('an old style command variable', () => {\n\t\tconst configuration = {\n\t\t\t'name': 'Attach to Process',\n\t\t\t'type': 'node',\n\t\t\t'request': 'attach',\n\t\t\t'processId': '${command:commandVariable1}',\n\t\t\t'port': 5858,\n\t\t\t'sourceMaps': false,\n\t\t\t'outDir': null\n\t\t};\n\t\tconst commandVariables = Object.create(null);\n\t\tcommandVariables['commandVariable1'] = 'command1';\n\n\t\treturn configurationResolverService!.resolveWithInteractionReplace(undefined, configuration, undefined, commandVariables).then(result => {\n\t\t\tassert.deepStrictEqual({ ...result }, {\n\t\t\t\t'name': 'Attach to Process',\n\t\t\t\t'type': 'node',\n\t\t\t\t'request': 'attach',\n\t\t\t\t'processId': 'command1-result',\n\t\t\t\t'port': 5858,\n\t\t\t\t'sourceMaps': false,\n\t\t\t\t'outDir': null\n\t\t\t});\n\n\t\t\tassert.strictEqual(1, mockCommandService.callCount);\n\t\t});\n\t});\n\n\ttest('multiple new and old-style command variables', () => {\n\n\t\tconst configuration = {\n\t\t\t'name': 'Attach to Process',\n\t\t\t'type': 'node',\n\t\t\t'request': 'attach',\n\t\t\t'processId': '${command:commandVariable1}',\n\t\t\t'pid': '${command:command2}',\n\t\t\t'sourceMaps': false,\n\t\t\t'outDir': 'src/${command:command2}',\n\t\t\t'env': {\n\t\t\t\t'processId': '__${command:command2}__',\n\t\t\t}\n\t\t};\n\t\tconst commandVariables = Object.create(null);\n\t\tcommandVariables['commandVariable1'] = 'command1';\n\n\t\treturn configurationResolverService!.resolveWithInteractionReplace(undefined, configuration, undefined, commandVariables).then(result => {\n\t\t\tconst expected = {\n\t\t\t\t'name': 'Attach to Process',\n\t\t\t\t'type': 'node',\n\t\t\t\t'request': 'attach',\n\t\t\t\t'processId': 'command1-result',\n\t\t\t\t'pid': 'command2-result',\n\t\t\t\t'sourceMaps': false,\n\t\t\t\t'outDir': 'src/command2-result',\n\t\t\t\t'env': {\n\t\t\t\t\t'processId': '__command2-result__',\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tassert.deepStrictEqual(Object.keys(result), Object.keys(expected));\n\t\t\tObject.keys(result).forEach(property => {\n\t\t\t\tconst expectedProperty = (expected as Record<string, unknown>)[property];\n\t\t\t\tif (isObject(result[property])) {\n\t\t\t\t\tassert.deepStrictEqual({ ...result[property] }, expectedProperty);\n\t\t\t\t} else {\n\t\t\t\t\tassert.deepStrictEqual(result[property], expectedProperty);\n\t\t\t\t}\n\t\t\t});\n\t\t\tassert.strictEqual(2, mockCommandService.callCount);\n\t\t});\n\t});\n\n\ttest('a command variable that relies on resolved env vars', () => {\n\n\t\tconst configuration = {\n\t\t\t'name': 'Attach to Process',\n\t\t\t'type': 'node',\n\t\t\t'request': 'attach',\n\t\t\t'processId': '${command:commandVariable1}',\n\t\t\t'value': '${env:key1}'\n\t\t};\n\t\tconst commandVariables = Object.create(null);\n\t\tcommandVariables['commandVariable1'] = 'command1';\n\n\t\treturn configurationResolverService!.resolveWithInteractionReplace(undefined, configuration, undefined, commandVariables).then(result => {\n\n\t\t\tassert.deepStrictEqual({ ...result }, {\n\t\t\t\t'name': 'Attach to Process',\n\t\t\t\t'type': 'node',\n\t\t\t\t'request': 'attach',\n\t\t\t\t'processId': 'Value for key1',\n\t\t\t\t'value': 'Value for key1'\n\t\t\t});\n\n\t\t\tassert.strictEqual(1, mockCommandService.callCount);\n\t\t});\n\t});\n\n\ttest('a single prompt input variable', () => {\n\n\t\tconst configuration = {\n\t\t\t'name': 'Attach to Process',\n\t\t\t'type': 'node',\n\t\t\t'request': 'attach',\n\t\t\t'processId': '${input:input1}',\n\t\t\t'port': 5858,\n\t\t\t'sourceMaps': false,\n\t\t\t'outDir': null\n\t\t};\n\n\t\treturn configurationResolverService!.resolveWithInteractionReplace(workspace, configuration, 'tasks').then(result => {\n\n\t\t\tassert.deepStrictEqual({ ...result }, {\n\t\t\t\t'name': 'Attach to Process',\n\t\t\t\t'type': 'node',\n\t\t\t\t'request': 'attach',\n\t\t\t\t'processId': 'resolvedEnterinput1',\n\t\t\t\t'port': 5858,\n\t\t\t\t'sourceMaps': false,\n\t\t\t\t'outDir': null\n\t\t\t});\n\n\t\t\tassert.strictEqual(0, mockCommandService.callCount);\n\t\t});\n\t});\n\n\ttest('a single pick input variable', () => {\n\n\t\tconst configuration = {\n\t\t\t'name': 'Attach to Process',\n\t\t\t'type': 'node',\n\t\t\t'request': 'attach',\n\t\t\t'processId': '${input:input2}',\n\t\t\t'port': 5858,\n\t\t\t'sourceMaps': false,\n\t\t\t'outDir': null\n\t\t};\n\n\t\treturn configurationResolverService!.resolveWithInteractionReplace(workspace, configuration, 'tasks').then(result => {\n\n\t\t\tassert.deepStrictEqual({ ...result }, {\n\t\t\t\t'name': 'Attach to Process',\n\t\t\t\t'type': 'node',\n\t\t\t\t'request': 'attach',\n\t\t\t\t'processId': 'selectedPick',\n\t\t\t\t'port': 5858,\n\t\t\t\t'sourceMaps': false,\n\t\t\t\t'outDir': null\n\t\t\t});\n\n\t\t\tassert.strictEqual(0, mockCommandService.callCount);\n\t\t});\n\t});\n\n\ttest('a single command input variable', () => {\n\n\t\tconst configuration = {\n\t\t\t'name': 'Attach to Process',\n\t\t\t'type': 'node',\n\t\t\t'request': 'attach',\n\t\t\t'processId': '${input:input4}',\n\t\t\t'port': 5858,\n\t\t\t'sourceMaps': false,\n\t\t\t'outDir': null\n\t\t};\n\n\t\treturn configurationResolverService!.resolveWithInteractionReplace(workspace, configuration, 'tasks').then(result => {\n\n\t\t\tassert.deepStrictEqual({ ...result }, {\n\t\t\t\t'name': 'Attach to Process',\n\t\t\t\t'type': 'node',\n\t\t\t\t'request': 'attach',\n\t\t\t\t'processId': 'arg for command',\n\t\t\t\t'port': 5858,\n\t\t\t\t'sourceMaps': false,\n\t\t\t\t'outDir': null\n\t\t\t});\n\n\t\t\tassert.strictEqual(1, mockCommandService.callCount);\n\t\t});\n\t});\n\n\ttest('several input variables and command', () => {\n\n\t\tconst configuration = {\n\t\t\t'name': '${input:input3}',\n\t\t\t'type': '${command:command1}',\n\t\t\t'request': '${input:input1}',\n\t\t\t'processId': '${input:input2}',\n\t\t\t'command': '${input:input4}',\n\t\t\t'port': 5858,\n\t\t\t'sourceMaps': false,\n\t\t\t'outDir': null\n\t\t};\n\n\t\treturn configurationResolverService!.resolveWithInteractionReplace(workspace, configuration, 'tasks').then(result => {\n\n\t\t\tassert.deepStrictEqual({ ...result }, {\n\t\t\t\t'name': 'resolvedEnterinput3',\n\t\t\t\t'type': 'command1-result',\n\t\t\t\t'request': 'resolvedEnterinput1',\n\t\t\t\t'processId': 'selectedPick',\n\t\t\t\t'command': 'arg for command',\n\t\t\t\t'port': 5858,\n\t\t\t\t'sourceMaps': false,\n\t\t\t\t'outDir': null\n\t\t\t});\n\n\t\t\tassert.strictEqual(2, mockCommandService.callCount);\n\t\t});\n\t});\n\n\ttest('input variable with undefined workspace folder', () => {\n\n\t\tconst configuration = {\n\t\t\t'name': 'Attach to Process',\n\t\t\t'type': 'node',\n\t\t\t'request': 'attach',\n\t\t\t'processId': '${input:input1}',\n\t\t\t'port': 5858,\n\t\t\t'sourceMaps': false,\n\t\t\t'outDir': null\n\t\t};\n\n\t\treturn configurationResolverService!.resolveWithInteractionReplace(undefined, configuration, 'tasks').then(result => {\n\n\t\t\tassert.deepStrictEqual({ ...result }, {\n\t\t\t\t'name': 'Attach to Process',\n\t\t\t\t'type': 'node',\n\t\t\t\t'request': 'attach',\n\t\t\t\t'processId': 'resolvedEnterinput1',\n\t\t\t\t'port': 5858,\n\t\t\t\t'sourceMaps': false,\n\t\t\t\t'outDir': null\n\t\t\t});\n\n\t\t\tassert.strictEqual(0, mockCommandService.callCount);\n\t\t});\n\t});\n\n\ttest('contributed variable', () => {\n\t\tconst buildTask = 'npm: compile';\n\t\tconst variable = 'defaultBuildTask';\n\t\tconst configuration = {\n\t\t\t'name': '${' + variable + '}',\n\t\t};\n\t\tconfigurationResolverService!.contributeVariable(variable, async () => { return buildTask; });\n\t\treturn configurationResolverService!.resolveWithInteractionReplace(workspace, configuration).then(result => {\n\t\t\tassert.deepStrictEqual({ ...result }, {\n\t\t\t\t'name': `${buildTask}`\n\t\t\t});\n\t\t});\n\t});\n\n\ttest('resolveWithEnvironment', async () => {\n\t\tconst env = {\n\t\t\t'VAR_1': 'VAL_1',\n\t\t\t'VAR_2': 'VAL_2'\n\t\t};\n\t\tconst configuration = 'echo ${env:VAR_1}${env:VAR_2}';\n\t\tconst resolvedResult = await configurationResolverService!.resolveWithEnvironment({ ...env }, undefined, configuration);\n\t\tassert.deepStrictEqual(resolvedResult, 'echo VAL_1VAL_2');\n\t});\n\n\ttest('substitution in object key', async () => {\n\n\t\tconst configuration = {\n\t\t\t'name': 'Test',\n\t\t\t'mappings': {\n\t\t\t\t'pos1': 'value1',\n\t\t\t\t'${workspaceFolder}/test1': '${workspaceFolder}/test2',\n\t\t\t\t'pos3': 'value3'\n\t\t\t}\n\t\t};\n\n\t\treturn configurationResolverService!.resolveWithInteractionReplace(workspace, configuration, 'tasks').then(result => {\n\n\t\t\tif (platform.isWindows) {\n\t\t\t\tassert.deepStrictEqual({ ...result }, {\n\t\t\t\t\t'name': 'Test',\n\t\t\t\t\t'mappings': {\n\t\t\t\t\t\t'pos1': 'value1',\n\t\t\t\t\t\t'\\\\VSCode\\\\workspaceLocation/test1': '\\\\VSCode\\\\workspaceLocation/test2',\n\t\t\t\t\t\t'pos3': 'value3'\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tassert.deepStrictEqual({ ...result }, {\n\t\t\t\t\t'name': 'Test',\n\t\t\t\t\t'mappings': {\n\t\t\t\t\t\t'pos1': 'value1',\n\t\t\t\t\t\t'/VSCode/workspaceLocation/test1': '/VSCode/workspaceLocation/test2',\n\t\t\t\t\t\t'pos3': 'value3'\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tassert.strictEqual(0, mockCommandService.callCount);\n\t\t});\n\t});\n});\n\n\nclass MockCommandService implements ICommandService {\n\n\tpublic _serviceBrand: undefined;\n\tpublic callCount = 0;\n\n\tonWillExecuteCommand = () => Disposable.None;\n\tonDidExecuteCommand = () => Disposable.None;\n\tpublic executeCommand(commandId: string, ...args: any[]): Promise<any> {\n\t\tthis.callCount++;\n\n\t\tlet result = `${commandId}-result`;\n\t\tif (args.length >= 1) {\n\t\t\tif (args[0] && args[0].value) {\n\t\t\t\tresult = args[0].value;\n\t\t\t}\n\t\t}\n\n\t\treturn Promise.resolve(result);\n\t}\n}\n\nclass MockLabelService implements ILabelService {\n\t_serviceBrand: undefined;\n\tgetUriLabel(resource: URI, options?: { relative?: boolean | undefined; noPrefix?: boolean | undefined }): string {\n\t\treturn normalize(resource.fsPath);\n\t}\n\tgetUriBasenameLabel(resource: URI): string {\n\t\tthrow new Error('Method not implemented.');\n\t}\n\tgetWorkspaceLabel(workspace: URI | IWorkspaceIdentifier | IWorkspace, options?: { verbose: Verbosity }): string {\n\t\tthrow new Error('Method not implemented.');\n\t}\n\tgetHostLabel(scheme: string, authority?: string): string {\n\t\tthrow new Error('Method not implemented.');\n\t}\n\tpublic getHostTooltip(): string | undefined {\n\t\tthrow new Error('Method not implemented.');\n\t}\n\tgetSeparator(scheme: string, authority?: string): '/' | '\\\\' {\n\t\tthrow new Error('Method not implemented.');\n\t}\n\tregisterFormatter(formatter: ResourceLabelFormatter): IDisposable {\n\t\tthrow new Error('Method not implemented.');\n\t}\n\tregisterCachedFormatter(formatter: ResourceLabelFormatter): IDisposable {\n\t\tthrow new Error('Method not implemented.');\n\t}\n\treadonly onDidChangeFormatters: Event<IFormatterChangeEvent> = new Emitter<IFormatterChangeEvent>().event;\n}\n\nclass MockPathService implements IPathService {\n\t_serviceBrand: undefined;\n\tget path(): Promise<IPath> {\n\t\tthrow new Error('Property not implemented');\n\t}\n\tdefaultUriScheme: string = Schemas.file;\n\tfileURI(path: string): Promise<URI> {\n\t\tthrow new Error('Method not implemented.');\n\t}\n\tuserHome(options?: { preferLocal: boolean }): Promise<URI>;\n\tuserHome(options: { preferLocal: true }): URI;\n\tuserHome(options?: { preferLocal: boolean }): Promise<URI> | URI {\n\t\tconst uri = URI.file('c:\\\\users\\\\username');\n\t\treturn options?.preferLocal ? uri : Promise.resolve(uri);\n\t}\n\thasValidBasename(resource: URI, basename?: string): Promise<boolean>;\n\thasValidBasename(resource: URI, os: platform.OperatingSystem, basename?: string): boolean;\n\thasValidBasename(resource: URI, arg2?: string | platform.OperatingSystem, name?: string): boolean | Promise<boolean> {\n\t\tthrow new Error('Method not implemented.');\n\t}\n\tresolvedUserHome: URI | undefined;\n}\n\nclass MockInputsConfigurationService extends TestConfigurationService {\n\tpublic override getValue(arg1?: any, arg2?: any): any {\n\t\tlet configuration;\n\t\tif (arg1 === 'tasks') {\n\t\t\tconfiguration = {\n\t\t\t\tinputs: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'input1',\n\t\t\t\t\t\ttype: 'promptString',\n\t\t\t\t\t\tdescription: 'Enterinput1',\n\t\t\t\t\t\tdefault: 'default input1'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'input2',\n\t\t\t\t\t\ttype: 'pickString',\n\t\t\t\t\t\tdescription: 'Enterinput1',\n\t\t\t\t\t\tdefault: 'option2',\n\t\t\t\t\t\toptions: ['option1', 'option2', 'option3']\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'input3',\n\t\t\t\t\t\ttype: 'promptString',\n\t\t\t\t\t\tdescription: 'Enterinput3',\n\t\t\t\t\t\tdefault: 'default input3',\n\t\t\t\t\t\tprovide: true,\n\t\t\t\t\t\tpassword: true\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'input4',\n\t\t\t\t\t\ttype: 'command',\n\t\t\t\t\t\tcommand: 'command1',\n\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\tvalue: 'arg for command'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t};\n\t\t}\n\t\treturn configuration;\n\t}\n\n\tpublic override inspect<T>(key: string, overrides?: IConfigurationOverrides): IConfigurationValue<T> {\n\t\treturn {\n\t\t\tvalue: undefined,\n\t\t\tdefaultValue: undefined,\n\t\t\tuserValue: undefined,\n\t\t\toverrideIdentifiers: []\n\t\t};\n\t}\n}\n\nsuite('ConfigurationResolverExpression', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('parse empty object', () => {\n\t\tconst expr = ConfigurationResolverExpression.parse({});\n\t\tassert.strictEqual(Array.from(expr.unresolved()).length, 0);\n\t\tassert.deepStrictEqual(expr.toObject(), {});\n\t});\n\n\ttest('parse simple string', () => {\n\t\tconst expr = ConfigurationResolverExpression.parse({ value: '${env:HOME}' });\n\t\tconst unresolved = Array.from(expr.unresolved());\n\t\tassert.strictEqual(unresolved.length, 1);\n\t\tassert.strictEqual(unresolved[0].name, 'env');\n\t\tassert.strictEqual(unresolved[0].arg, 'HOME');\n\t});\n\n\ttest('parse string with argument and colon', () => {\n\t\tconst expr = ConfigurationResolverExpression.parse({ value: '${config:path:to:value}' });\n\t\tconst unresolved = Array.from(expr.unresolved());\n\t\tassert.strictEqual(unresolved.length, 1);\n\t\tassert.strictEqual(unresolved[0].name, 'config');\n\t\tassert.strictEqual(unresolved[0].arg, 'path:to:value');\n\t});\n\n\ttest('parse object with nested variables', () => {\n\t\tconst expr = ConfigurationResolverExpression.parse({\n\t\t\tname: '${env:USERNAME}',\n\t\t\tpath: '${env:HOME}/folder',\n\t\t\tsettings: {\n\t\t\t\tvalue: '${config:path}'\n\t\t\t},\n\t\t\tarray: ['${env:TERM}', { key: '${env:KEY}' }]\n\t\t});\n\n\t\tconst unresolved = Array.from(expr.unresolved());\n\t\tassert.strictEqual(unresolved.length, 5);\n\t\tassert.deepStrictEqual(unresolved.map(r => r.name).sort(), ['config', 'env', 'env', 'env', 'env']);\n\t});\n\n\ttest('resolve and get result', () => {\n\t\tconst expr = ConfigurationResolverExpression.parse({\n\t\t\tname: '${env:USERNAME}',\n\t\t\tpath: '${env:HOME}/folder'\n\t\t});\n\n\t\texpr.resolve({ inner: 'env:USERNAME', id: '${env:USERNAME}', name: 'env', arg: 'USERNAME' }, 'testuser');\n\t\texpr.resolve({ inner: 'env:HOME', id: '${env:HOME}', name: 'env', arg: 'HOME' }, '/home/testuser');\n\n\t\tassert.deepStrictEqual(expr.toObject(), {\n\t\t\tname: 'testuser',\n\t\t\tpath: '/home/testuser/folder'\n\t\t});\n\t});\n\n\ttest('keeps unresolved variables', () => {\n\t\tconst expr = ConfigurationResolverExpression.parse({\n\t\t\tname: '${env:USERNAME}'\n\t\t});\n\n\t\tassert.deepStrictEqual(expr.toObject(), {\n\t\t\tname: '${env:USERNAME}'\n\t\t});\n\t});\n\n\ttest('deduplicates identical variables', () => {\n\t\tconst expr = ConfigurationResolverExpression.parse({\n\t\t\tfirst: '${env:HOME}',\n\t\t\tsecond: '${env:HOME}'\n\t\t});\n\n\t\tconst unresolved = Array.from(expr.unresolved());\n\t\tassert.strictEqual(unresolved.length, 1);\n\t\tassert.strictEqual(unresolved[0].name, 'env');\n\t\tassert.strictEqual(unresolved[0].arg, 'HOME');\n\n\t\texpr.resolve(unresolved[0], '/home/user');\n\t\tassert.deepStrictEqual(expr.toObject(), {\n\t\t\tfirst: '/home/user',\n\t\t\tsecond: '/home/user'\n\t\t});\n\t});\n\n\ttest('handles root string value', () => {\n\t\tconst expr = ConfigurationResolverExpression.parse('abc ${env:HOME} xyz');\n\t\tconst unresolved = Array.from(expr.unresolved());\n\t\tassert.strictEqual(unresolved.length, 1);\n\t\tassert.strictEqual(unresolved[0].name, 'env');\n\t\tassert.strictEqual(unresolved[0].arg, 'HOME');\n\n\t\texpr.resolve(unresolved[0], '/home/user');\n\t\tassert.strictEqual(expr.toObject(), 'abc /home/user xyz');\n\t});\n\n\ttest('handles root string value with multiple variables', () => {\n\t\tconst expr = ConfigurationResolverExpression.parse('${env:HOME}/folder${env:SHELL}');\n\t\tconst unresolved = Array.from(expr.unresolved());\n\t\tassert.strictEqual(unresolved.length, 2);\n\n\t\texpr.resolve({ id: '${env:HOME}', inner: 'env:HOME', name: 'env', arg: 'HOME' }, '/home/user');\n\t\texpr.resolve({ id: '${env:SHELL}', inner: 'env:SHELL', name: 'env', arg: 'SHELL' }, '/bin/bash');\n\t\tassert.strictEqual(expr.toObject(), '/home/user/folder/bin/bash');\n\t});\n\n\ttest('handles root string with escaped variables', () => {\n\t\tconst expr = ConfigurationResolverExpression.parse('abc ${env:HOME${env:USER}} xyz');\n\t\tconst unresolved = Array.from(expr.unresolved());\n\t\tassert.strictEqual(unresolved.length, 1);\n\t\tassert.strictEqual(unresolved[0].name, 'env');\n\t\tassert.strictEqual(unresolved[0].arg, 'HOME${env:USER}');\n\t});\n\n\ttest('resolves nested values', () => {\n\t\tconst expr = ConfigurationResolverExpression.parse({\n\t\t\tname: '${env:REDIRECTED}',\n\t\t\t'key that is ${env:REDIRECTED}': 'cool!',\n\t\t});\n\n\t\tfor (const r of expr.unresolved()) {\n\t\t\tif (r.arg === 'REDIRECTED') {\n\t\t\t\texpr.resolve(r, 'username: ${env:USERNAME}');\n\t\t\t} else if (r.arg === 'USERNAME') {\n\t\t\t\texpr.resolve(r, 'testuser');\n\t\t\t}\n\t\t}\n\n\t\tassert.deepStrictEqual(expr.toObject(), {\n\t\t\tname: 'username: testuser',\n\t\t\t'key that is username: testuser': 'cool!'\n\t\t});\n\t});\n\n\ttest('resolves nested values 2 (#245798)', () => {\n\t\tconst expr = ConfigurationResolverExpression.parse({\n\t\t\tenv: {\n\t\t\t\tSITE: '${input:site}',\n\t\t\t\tTLD: '${input:tld}',\n\t\t\t\tHOST: '${input:host}',\n\t\t\t},\n\t\t});\n\n\t\tfor (const r of expr.unresolved()) {\n\t\t\tif (r.arg === 'site') {\n\t\t\t\texpr.resolve(r, 'example');\n\t\t\t} else if (r.arg === 'tld') {\n\t\t\t\texpr.resolve(r, 'com');\n\t\t\t} else if (r.arg === 'host') {\n\t\t\t\texpr.resolve(r, 'local.${input:site}.${input:tld}');\n\t\t\t}\n\t\t}\n\n\t\tassert.deepStrictEqual(expr.toObject(), {\n\t\t\tenv: {\n\t\t\t\tSITE: 'example',\n\t\t\t\tTLD: 'com',\n\t\t\t\tHOST: 'local.example.com'\n\t\t\t}\n\t\t});\n\t});\n\n\ttest('out-of-order key resolution (#248550)', () => {\n\t\tconst expr = ConfigurationResolverExpression.parse({\n\t\t\t'${input:key}': '${input:value}',\n\t\t});\n\n\t\tfor (const r of expr.unresolved()) {\n\t\t\tif (r.arg === 'key') {\n\t\t\t\texpr.resolve(r, 'the-key');\n\t\t\t}\n\t\t}\n\t\tfor (const r of expr.unresolved()) {\n\t\t\tif (r.arg === 'value') {\n\t\t\t\texpr.resolve(r, 'the-value');\n\t\t\t}\n\t\t}\n\n\t\tassert.deepStrictEqual(expr.toObject(), {\n\t\t\t'the-key': 'the-value'\n\t\t});\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { stub } from 'sinon';\nimport { Emitter, Event } from '../../../../../base/common/event.js';\nimport { Disposable, IDisposable } from '../../../../../base/common/lifecycle.js';\nimport { Schemas } from '../../../../../base/common/network.js';\nimport { IPath, normalize } from '../../../../../base/common/path.js';\nimport * as platform from '../../../../../base/common/platform.js';\nimport { isLinux, isMacintosh, isWindows } from '../../../../../base/common/platform.js';\nimport { isObject } from '../../../../../base/common/types.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { Selection } from '../../../../../editor/common/core/selection.js';\nimport { EditorType } from '../../../../../editor/common/editorCommon.js';\nimport { ICommandService } from '../../../../../platform/commands/common/commands.js';\nimport { IConfigurationOverrides, IConfigurationService, IConfigurationValue } from '../../../../../platform/configuration/common/configuration.js';\nimport { TestConfigurationService } from '../../../../../platform/configuration/test/common/testConfigurationService.js';\nimport { IExtensionDescription } from '../../../../../platform/extensions/common/extensions.js';\nimport { IFormatterChangeEvent, ILabelService, ResourceLabelFormatter, Verbosity } from '../../../../../platform/label/common/label.js';\nimport { IWorkspace, IWorkspaceFolder, IWorkspaceIdentifier, Workspace } from '../../../../../platform/workspace/common/workspace.js';\nimport { testWorkspace } from '../../../../../platform/workspace/test/common/testWorkspace.js';\nimport { TestEditorService, TestQuickInputService } from '../../../../test/browser/workbenchTestServices.js';\nimport { TestContextService, TestExtensionService, TestStorageService } from '../../../../test/common/workbenchTestServices.js';\nimport { IExtensionService } from '../../../extensions/common/extensions.js';\nimport { IPathService } from '../../../path/common/pathService.js';\nimport { BaseConfigurationResolverService } from '../../browser/baseConfigurationResolverService.js';\nimport { IConfigurationResolverService } from '../../common/configurationResolver.js';\nimport { ConfigurationResolverExpression } from '../../common/configurationResolverExpression.js';\n\nconst mockLineNumber = 10;\nclass TestEditorServiceWithActiveEditor extends TestEditorService {\n\toverride get activeTextEditorControl(): any {\n\t\treturn {\n\t\t\tgetEditorType() {\n\t\t\t\treturn EditorType.ICodeEditor;\n\t\t\t},\n\t\t\tgetSelection() {\n\t\t\t\treturn new Selection(mockLineNumber, 1, mockLineNumber, 10);\n\t\t\t}\n\t\t};\n\t}\n\toverride get activeEditor(): any {\n\t\treturn {\n\t\t\tget resource(): any {\n\t\t\t\treturn URI.parse('file:///VSCode/workspaceLocation/file');\n\t\t\t}\n\t\t};\n\t}\n}\n\nclass TestConfigurationResolverService extends BaseConfigurationResolverService {\n\n}\n\nconst nullContext = {\n\tgetAppRoot: () => undefined,\n\tgetExecPath: () => undefined\n};\n\nsuite('Configuration Resolver Service', () => {\n\tlet configurationResolverService: IConfigurationResolverService | null;\n\tconst envVariables: { [key: string]: string } = { key1: 'Value for key1', key2: 'Value for key2' };\n\t// let environmentService: MockWorkbenchEnvironmentService;\n\tlet mockCommandService: MockCommandService;\n\tlet editorService: TestEditorServiceWithActiveEditor;\n\tlet containingWorkspace: Workspace;\n\tlet workspace: IWorkspaceFolder;\n\tlet quickInputService: TestQuickInputService;\n\tlet labelService: MockLabelService;\n\tlet pathService: MockPathService;\n\tlet extensionService: IExtensionService;\n\n\tconst disposables = ensureNoDisposablesAreLeakedInTestSuite();\n\n\tsetup(() => {\n\t\tmockCommandService = new MockCommandService();\n\t\teditorService = disposables.add(new TestEditorServiceWithActiveEditor());\n\t\tquickInputService = new TestQuickInputService();\n\t\t// environmentService = new MockWorkbenchEnvironmentService(envVariables);\n\t\tlabelService = new MockLabelService();\n\t\tpathService = new MockPathService();\n\t\textensionService = new TestExtensionService();\n\t\tcontainingWorkspace = testWorkspace(URI.parse('file:///VSCode/workspaceLocation'));\n\t\tworkspace = containingWorkspace.folders[0];\n\t\tconfigurationResolverService = new TestConfigurationResolverService(nullContext, Promise.resolve(envVariables), editorService, new MockInputsConfigurationService(), mockCommandService, new TestContextService(containingWorkspace), quickInputService, labelService, pathService, extensionService, disposables.add(new TestStorageService()));\n\t});\n\n\tteardown(() => {\n\t\tconfigurationResolverService = null;\n\t});\n\n\ttest('substitute one', async () => {\n\t\tif (platform.isWindows) {\n\t\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, 'abc ${workspaceFolder} xyz'), 'abc \\\\VSCode\\\\workspaceLocation xyz');\n\t\t} else {\n\t\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, 'abc ${workspaceFolder} xyz'), 'abc /VSCode/workspaceLocation xyz');\n\t\t}\n\t});\n\n\ttest('does not preserve platform config even when not matched', async () => {\n\t\tconst obj = {\n\t\t\tprogram: 'osx.sh',\n\t\t\twindows: {\n\t\t\t\tprogram: 'windows.exe'\n\t\t\t},\n\t\t\tlinux: {\n\t\t\t\tprogram: 'linux.sh'\n\t\t\t}\n\t\t};\n\t\tconst config: any = await configurationResolverService!.resolveAsync(workspace, obj);\n\n\t\tconst expected = isWindows ? 'windows.exe' : isMacintosh ? 'osx.sh' : isLinux ? 'linux.sh' : undefined;\n\n\t\tassert.strictEqual(config.windows, undefined);\n\t\tassert.strictEqual(config.osx, undefined);\n\t\tassert.strictEqual(config.linux, undefined);\n\t\tassert.strictEqual(config.program, expected);\n\t});\n\n\ttest('apples platform specific config', async () => {\n\t\tconst expected = isWindows ? 'windows.exe' : isMacintosh ? 'osx.sh' : isLinux ? 'linux.sh' : undefined;\n\t\tconst obj = {\n\t\t\twindows: {\n\t\t\t\tprogram: 'windows.exe'\n\t\t\t},\n\t\t\tosx: {\n\t\t\t\tprogram: 'osx.sh'\n\t\t\t},\n\t\t\tlinux: {\n\t\t\t\tprogram: 'linux.sh'\n\t\t\t}\n\t\t};\n\t\tconst originalObj = JSON.stringify(obj);\n\t\tconst config: any = await configurationResolverService!.resolveAsync(workspace, obj);\n\n\t\tassert.strictEqual(config.program, expected);\n\t\tassert.strictEqual(config.windows, undefined);\n\t\tassert.strictEqual(config.osx, undefined);\n\t\tassert.strictEqual(config.linux, undefined);\n\t\tassert.strictEqual(JSON.stringify(obj), originalObj); // did not mutate original\n\t});\n\n\ttest('workspace folder with argument', async () => {\n\t\tif (platform.isWindows) {\n\t\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, 'abc ${workspaceFolder:workspaceLocation} xyz'), 'abc \\\\VSCode\\\\workspaceLocation xyz');\n\t\t} else {\n\t\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, 'abc ${workspaceFolder:workspaceLocation} xyz'), 'abc /VSCode/workspaceLocation xyz');\n\t\t}\n\t});\n\n\ttest('workspace folder with invalid argument', async () => {\n\t\tawait assert.rejects(async () => await configurationResolverService!.resolveAsync(workspace, 'abc ${workspaceFolder:invalidLocation} xyz'));\n\t});\n\n\ttest('workspace folder with undefined workspace folder', async () => {\n\t\tawait assert.rejects(async () => await configurationResolverService!.resolveAsync(undefined, 'abc ${workspaceFolder} xyz'));\n\t});\n\n\ttest('workspace folder with argument and undefined workspace folder', async () => {\n\t\tif (platform.isWindows) {\n\t\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(undefined, 'abc ${workspaceFolder:workspaceLocation} xyz'), 'abc \\\\VSCode\\\\workspaceLocation xyz');\n\t\t} else {\n\t\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(undefined, 'abc ${workspaceFolder:workspaceLocation} xyz'), 'abc /VSCode/workspaceLocation xyz');\n\t\t}\n\t});\n\n\ttest('workspace folder with invalid argument and undefined workspace folder', () => {\n\t\tassert.rejects(async () => await configurationResolverService!.resolveAsync(undefined, 'abc ${workspaceFolder:invalidLocation} xyz'));\n\t});\n\n\ttest('workspace root folder name', async () => {\n\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, 'abc ${workspaceRootFolderName} xyz'), 'abc workspaceLocation xyz');\n\t});\n\n\ttest('current selected line number', async () => {\n\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, 'abc ${lineNumber} xyz'), `abc ${mockLineNumber} xyz`);\n\t});\n\n\ttest('relative file', async () => {\n\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, 'abc ${relativeFile} xyz'), 'abc file xyz');\n\t});\n\n\ttest('relative file with argument', async () => {\n\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, 'abc ${relativeFile:workspaceLocation} xyz'), 'abc file xyz');\n\t});\n\n\ttest('relative file with invalid argument', () => {\n\t\tassert.rejects(async () => await configurationResolverService!.resolveAsync(workspace, 'abc ${relativeFile:invalidLocation} xyz'));\n\t});\n\n\ttest('relative file with undefined workspace folder', async () => {\n\t\tif (platform.isWindows) {\n\t\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(undefined, 'abc ${relativeFile} xyz'), 'abc \\\\VSCode\\\\workspaceLocation\\\\file xyz');\n\t\t} else {\n\t\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(undefined, 'abc ${relativeFile} xyz'), 'abc /VSCode/workspaceLocation/file xyz');\n\t\t}\n\t});\n\n\ttest('relative file with argument and undefined workspace folder', async () => {\n\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(undefined, 'abc ${relativeFile:workspaceLocation} xyz'), 'abc file xyz');\n\t});\n\n\ttest('relative file with invalid argument and undefined workspace folder', () => {\n\t\tassert.rejects(async () => await configurationResolverService!.resolveAsync(undefined, 'abc ${relativeFile:invalidLocation} xyz'));\n\t});\n\n\ttest('substitute many', async () => {\n\t\tif (platform.isWindows) {\n\t\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, '${workspaceFolder} - ${workspaceFolder}'), '\\\\VSCode\\\\workspaceLocation - \\\\VSCode\\\\workspaceLocation');\n\t\t} else {\n\t\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, '${workspaceFolder} - ${workspaceFolder}'), '/VSCode/workspaceLocation - /VSCode/workspaceLocation');\n\t\t}\n\t});\n\n\ttest('substitute one env variable', async () => {\n\t\tif (platform.isWindows) {\n\t\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, 'abc ${workspaceFolder} ${env:key1} xyz'), 'abc \\\\VSCode\\\\workspaceLocation Value for key1 xyz');\n\t\t} else {\n\t\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, 'abc ${workspaceFolder} ${env:key1} xyz'), 'abc /VSCode/workspaceLocation Value for key1 xyz');\n\t\t}\n\t});\n\n\ttest('substitute many env variable', async () => {\n\t\tif (platform.isWindows) {\n\t\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, '${workspaceFolder} - ${workspaceFolder} ${env:key1} - ${env:key2}'), '\\\\VSCode\\\\workspaceLocation - \\\\VSCode\\\\workspaceLocation Value for key1 - Value for key2');\n\t\t} else {\n\t\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, '${workspaceFolder} - ${workspaceFolder} ${env:key1} - ${env:key2}'), '/VSCode/workspaceLocation - /VSCode/workspaceLocation Value for key1 - Value for key2');\n\t\t}\n\t});\n\n\ttest('disallows nested keys (#77289)', async () => {\n\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, '${env:key1} ${env:key1${env:key2}}'), 'Value for key1 ');\n\t});\n\n\ttest('supports extensionDir', async () => {\n\t\tconst getExtension = stub(extensionService, 'getExtension');\n\t\tgetExtension.withArgs('publisher.extId').returns(Promise.resolve({ extensionLocation: URI.file('/some/path') } as IExtensionDescription));\n\n\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, '${extensionInstallFolder:publisher.extId}'), URI.file('/some/path').fsPath);\n\t});\n\n\t// test('substitute keys and values in object', () => {\n\t// \tconst myObject = {\n\t// \t\t'${workspaceRootFolderName}': '${lineNumber}',\n\t// \t\t'hey ${env:key1} ': '${workspaceRootFolderName}'\n\t// \t};\n\t// \tassert.deepStrictEqual(configurationResolverService!.resolveAsync(workspace, myObject), {\n\t// \t\t'workspaceLocation': `${editorService.mockLineNumber}`,\n\t// \t\t'hey Value for key1 ': 'workspaceLocation'\n\t// \t});\n\t// });\n\n\n\ttest('substitute one env variable using platform case sensitivity', async () => {\n\t\tif (platform.isWindows) {\n\t\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, '${env:key1} - ${env:Key1}'), 'Value for key1 - Value for key1');\n\t\t} else {\n\t\t\tassert.strictEqual(await configurationResolverService!.resolveAsync(workspace, '${env:key1} - ${env:Key1}'), 'Value for key1 - ');\n\t\t}\n\t});\n\n\ttest('substitute one configuration variable', async () => {\n\t\tconst configurationService: IConfigurationService = new TestConfigurationService({\n\t\t\teditor: {\n\t\t\t\tfontFamily: 'foo'\n\t\t\t},\n\t\t\tterminal: {\n\t\t\t\tintegrated: {\n\t\t\t\t\tfontFamily: 'bar'\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tconst service = new TestConfigurationResolverService(nullContext, Promise.resolve(envVariables), disposables.add(new TestEditorServiceWithActiveEditor()), configurationService, mockCommandService, new TestContextService(), quickInputService, labelService, pathService, extensionService, disposables.add(new TestStorageService()));\n\t\tassert.strictEqual(await service.resolveAsync(workspace, 'abc ${config:editor.fontFamily} xyz'), 'abc foo xyz');\n\t});\n\n\ttest('inlines an array (#245718)', async () => {\n\t\tconst configurationService: IConfigurationService = new TestConfigurationService({\n\t\t\teditor: {\n\t\t\t\tfontFamily: ['foo', 'bar']\n\t\t\t},\n\t\t});\n\n\t\tconst service = new TestConfigurationResolverService(nullContext, Promise.resolve(envVariables), disposables.add(new TestEditorServiceWithActiveEditor()), configurationService, mockCommandService, new TestContextService(), quickInputService, labelService, pathService, extensionService, disposables.add(new TestStorageService()));\n\t\tassert.strictEqual(await service.resolveAsync(workspace, 'abc ${config:editor.fontFamily} xyz'), 'abc foo,bar xyz');\n\t});\n\n\ttest('substitute configuration variable with undefined workspace folder', async () => {\n\t\tconst configurationService: IConfigurationService = new TestConfigurationService({\n\t\t\teditor: {\n\t\t\t\tfontFamily: 'foo'\n\t\t\t}\n\t\t});\n\n\t\tconst service = new TestConfigurationResolverService(nullContext, Promise.resolve(envVariables), disposables.add(new TestEditorServiceWithActiveEditor()), configurationService, mockCommandService, new TestContextService(), quickInputService, labelService, pathService, extensionService, disposables.add(new TestStorageService()));\n\t\tassert.strictEqual(await service.resolveAsync(undefined, 'abc ${config:editor.fontFamily} xyz'), 'abc foo xyz');\n\t});\n\n\ttest('substitute many configuration variables', async () => {\n\t\tconst configurationService = new TestConfigurationService({\n\t\t\teditor: {\n\t\t\t\tfontFamily: 'foo'\n\t\t\t},\n\t\t\tterminal: {\n\t\t\t\tintegrated: {\n\t\t\t\t\tfontFamily: 'bar'\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tconst service = new TestConfigurationResolverService(nullContext, Promise.resolve(envVariables), disposables.add(new TestEditorServiceWithActiveEditor()), configurationService, mockCommandService, new TestContextService(), quickInputService, labelService, pathService, extensionService, disposables.add(new TestStorageService()));\n\t\tassert.strictEqual(await service.resolveAsync(workspace, 'abc ${config:editor.fontFamily} ${config:terminal.integrated.fontFamily} xyz'), 'abc foo bar xyz');\n\t});\n\n\ttest('substitute one env variable and a configuration variable', async () => {\n\t\tconst configurationService = new TestConfigurationService({\n\t\t\teditor: {\n\t\t\t\tfontFamily: 'foo'\n\t\t\t},\n\t\t\tterminal: {\n\t\t\t\tintegrated: {\n\t\t\t\t\tfontFamily: 'bar'\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tconst service = new TestConfigurationResolverService(nullContext, Promise.resolve(envVariables), disposables.add(new TestEditorServiceWithActiveEditor()), configurationService, mockCommandService, new TestContextService(), quickInputService, labelService, pathService, extensionService, disposables.add(new TestStorageService()));\n\t\tif (platform.isWindows) {\n\t\t\tassert.strictEqual(await service.resolveAsync(workspace, 'abc ${config:editor.fontFamily} ${workspaceFolder} ${env:key1} xyz'), 'abc foo \\\\VSCode\\\\workspaceLocation Value for key1 xyz');\n\t\t} else {\n\t\t\tassert.strictEqual(await service.resolveAsync(workspace, 'abc ${config:editor.fontFamily} ${workspaceFolder} ${env:key1} xyz'), 'abc foo /VSCode/workspaceLocation Value for key1 xyz');\n\t\t}\n\t});\n\n\ttest('recursively resolve variables', async () => {\n\t\tconst configurationService = new TestConfigurationService({\n\t\t\tkey1: 'key1=${config:key2}',\n\t\t\tkey2: 'key2=${config:key3}',\n\t\t\tkey3: 'we did it!',\n\t\t});\n\n\t\tconst service = new TestConfigurationResolverService(nullContext, Promise.resolve(envVariables), disposables.add(new TestEditorServiceWithActiveEditor()), configurationService, mockCommandService, new TestContextService(), quickInputService, labelService, pathService, extensionService, disposables.add(new TestStorageService()));\n\t\tassert.strictEqual(await service.resolveAsync(workspace, '${config:key1}'), 'key1=key2=we did it!');\n\t});\n\n\ttest('substitute many env variable and a configuration variable', async () => {\n\t\tconst configurationService = new TestConfigurationService({\n\t\t\teditor: {\n\t\t\t\tfontFamily: 'foo'\n\t\t\t},\n\t\t\tterminal: {\n\t\t\t\tintegrated: {\n\t\t\t\t\tfontFamily: 'bar'\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tconst service = new TestConfigurationResolverService(nullContext, Promise.resolve(envVariables), disposables.add(new TestEditorServiceWithActiveEditor()), configurationService, mockCommandService, new TestContextService(), quickInputService, labelService, pathService, extensionService, disposables.add(new TestStorageService()));\n\t\tif (platform.isWindows) {\n\t\t\tassert.strictEqual(await service.resolveAsync(workspace, '${config:editor.fontFamily} ${config:terminal.integrated.fontFamily} ${workspaceFolder} - ${workspaceFolder} ${env:key1} - ${env:key2}'), 'foo bar \\\\VSCode\\\\workspaceLocation - \\\\VSCode\\\\workspaceLocation Value for key1 - Value for key2');\n\t\t} else {\n\t\t\tassert.strictEqual(await service.resolveAsync(workspace, '${config:editor.fontFamily} ${config:terminal.integrated.fontFamily} ${workspaceFolder} - ${workspaceFolder} ${env:key1} - ${env:key2}'), 'foo bar /VSCode/workspaceLocation - /VSCode/workspaceLocation Value for key1 - Value for key2');\n\t\t}\n\t});\n\n\ttest('mixed types of configuration variables', async () => {\n\t\tconst configurationService = new TestConfigurationService({\n\t\t\teditor: {\n\t\t\t\tfontFamily: 'foo',\n\t\t\t\tlineNumbers: 123,\n\t\t\t\tinsertSpaces: false\n\t\t\t},\n\t\t\tterminal: {\n\t\t\t\tintegrated: {\n\t\t\t\t\tfontFamily: 'bar'\n\t\t\t\t}\n\t\t\t},\n\t\t\tjson: {\n\t\t\t\tschemas: [\n\t\t\t\t\t{\n\t\t\t\t\t\tfileMatch: [\n\t\t\t\t\t\t\t'/myfile',\n\t\t\t\t\t\t\t'/myOtherfile'\n\t\t\t\t\t\t],\n\t\t\t\t\t\turl: 'schemaURL'\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t});\n\n\t\tconst service = new TestConfigurationResolverService(nullContext, Promise.resolve(envVariables), disposables.add(new TestEditorServiceWithActiveEditor()), configurationService, mockCommandService, new TestContextService(), quickInputService, labelService, pathService, extensionService, disposables.add(new TestStorageService()));\n\t\tassert.strictEqual(await service.resolveAsync(workspace, 'abc ${config:editor.fontFamily} ${config:editor.lineNumbers} ${config:editor.insertSpaces} xyz'), 'abc foo 123 false xyz');\n\t});\n\n\ttest('uses original variable as fallback', async () => {\n\t\tconst configurationService = new TestConfigurationService({\n\t\t\teditor: {}\n\t\t});\n\n\t\tconst service = new TestConfigurationResolverService(nullContext, Promise.resolve(envVariables), disposables.add(new TestEditorServiceWithActiveEditor()), configurationService, mockCommandService, new TestContextService(), quickInputService, labelService, pathService, extensionService, disposables.add(new TestStorageService()));\n\t\tassert.strictEqual(await service.resolveAsync(workspace, 'abc ${unknownVariable} xyz'), 'abc ${unknownVariable} xyz');\n\t\tassert.strictEqual(await service.resolveAsync(workspace, 'abc ${env:unknownVariable} xyz'), 'abc  xyz');\n\t});\n\n\ttest('configuration variables with invalid accessor', () => {\n\t\tconst configurationService = new TestConfigurationService({\n\t\t\teditor: {\n\t\t\t\tfontFamily: 'foo'\n\t\t\t}\n\t\t});\n\n\t\tconst service = new TestConfigurationResolverService(nullContext, Promise.resolve(envVariables), disposables.add(new TestEditorServiceWithActiveEditor()), configurationService, mockCommandService, new TestContextService(), quickInputService, labelService, pathService, extensionService, disposables.add(new TestStorageService()));\n\n\t\tassert.rejects(async () => await service.resolveAsync(workspace, 'abc ${env} xyz'));\n\t\tassert.rejects(async () => await service.resolveAsync(workspace, 'abc ${env:} xyz'));\n\t\tassert.rejects(async () => await service.resolveAsync(workspace, 'abc ${config} xyz'));\n\t\tassert.rejects(async () => await service.resolveAsync(workspace, 'abc ${config:} xyz'));\n\t\tassert.rejects(async () => await service.resolveAsync(workspace, 'abc ${config:editor} xyz'));\n\t\tassert.rejects(async () => await service.resolveAsync(workspace, 'abc ${config:editor..fontFamily} xyz'));\n\t\tassert.rejects(async () => await service.resolveAsync(workspace, 'abc ${config:editor.none.none2} xyz'));\n\t});\n\n\ttest('a single command variable', () => {\n\n\t\tconst configuration = {\n\t\t\t'name': 'Attach to Process',\n\t\t\t'type': 'node',\n\t\t\t'request': 'attach',\n\t\t\t'processId': '${command:command1}',\n\t\t\t'port': 5858,\n\t\t\t'sourceMaps': false,\n\t\t\t'outDir': null\n\t\t};\n\n\t\treturn configurationResolverService!.resolveWithInteractionReplace(undefined, configuration).then(result => {\n\t\t\tassert.deepStrictEqual({ ...result }, {\n\t\t\t\t'name': 'Attach to Process',\n\t\t\t\t'type': 'node',\n\t\t\t\t'request': 'attach',\n\t\t\t\t'processId': 'command1-result',\n\t\t\t\t'port': 5858,\n\t\t\t\t'sourceMaps': false,\n\t\t\t\t'outDir': null\n\t\t\t});\n\n\t\t\tassert.strictEqual(1, mockCommandService.callCount);\n\t\t});\n\t});\n\n\ttest('an old style command variable', () => {\n\t\tconst configuration = {\n\t\t\t'name': 'Attach to Process',\n\t\t\t'type': 'node',\n\t\t\t'request': 'attach',\n\t\t\t'processId': '${command:commandVariable1}',\n\t\t\t'port': 5858,\n\t\t\t'sourceMaps': false,\n\t\t\t'outDir': null\n\t\t};\n\t\tconst commandVariables = Object.create(null);\n\t\tcommandVariables['commandVariable1'] = 'command1';\n\n\t\treturn configurationResolverService!.resolveWithInteractionReplace(undefined, configuration, undefined, commandVariables).then(result => {\n\t\t\tassert.deepStrictEqual({ ...result }, {\n\t\t\t\t'name': 'Attach to Process',\n\t\t\t\t'type': 'node',\n\t\t\t\t'request': 'attach',\n\t\t\t\t'processId': 'command1-result',\n\t\t\t\t'port': 5858,\n\t\t\t\t'sourceMaps': false,\n\t\t\t\t'outDir': null\n\t\t\t});\n\n\t\t\tassert.strictEqual(1, mockCommandService.callCount);\n\t\t});\n\t});\n\n\ttest('multiple new and old-style command variables', () => {\n\n\t\tconst configuration = {\n\t\t\t'name': 'Attach to Process',\n\t\t\t'type': 'node',\n\t\t\t'request': 'attach',\n\t\t\t'processId': '${command:commandVariable1}',\n\t\t\t'pid': '${command:command2}',\n\t\t\t'sourceMaps': false,\n\t\t\t'outDir': 'src/${command:command2}',\n\t\t\t'env': {\n\t\t\t\t'processId': '__${command:command2}__',\n\t\t\t}\n\t\t};\n\t\tconst commandVariables = Object.create(null);\n\t\tcommandVariables['commandVariable1'] = 'command1';\n\n\t\treturn configurationResolverService!.resolveWithInteractionReplace(undefined, configuration, undefined, commandVariables).then(result => {\n\t\t\tconst expected = {\n\t\t\t\t'name': 'Attach to Process',\n\t\t\t\t'type': 'node',\n\t\t\t\t'request': 'attach',\n\t\t\t\t'processId': 'command1-result',\n\t\t\t\t'pid': 'command2-result',\n\t\t\t\t'sourceMaps': false,\n\t\t\t\t'outDir': 'src/command2-result',\n\t\t\t\t'env': {\n\t\t\t\t\t'processId': '__command2-result__',\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tassert.deepStrictEqual(Object.keys(result), Object.keys(expected));\n\t\t\tObject.keys(result).forEach(property => {\n\t\t\t\tconst expectedProperty = (expected as Record<string, unknown>)[property];\n\t\t\t\tif (isObject(result[property])) {\n\t\t\t\t\tassert.deepStrictEqual({ ...result[property] }, expectedProperty);\n\t\t\t\t} else {\n\t\t\t\t\tassert.deepStrictEqual(result[property], expectedProperty);\n\t\t\t\t}\n\t\t\t});\n\t\t\tassert.strictEqual(2, mockCommandService.callCount);\n\t\t});\n\t});\n\n\ttest('a command variable that relies on resolved env vars', () => {\n\n\t\tconst configuration = {\n\t\t\t'name': 'Attach to Process',\n\t\t\t'type': 'node',\n\t\t\t'request': 'attach',\n\t\t\t'processId': '${command:commandVariable1}',\n\t\t\t'value': '${env:key1}'\n\t\t};\n\t\tconst commandVariables = Object.create(null);\n\t\tcommandVariables['commandVariable1'] = 'command1';\n\n\t\treturn configurationResolverService!.resolveWithInteractionReplace(undefined, configuration, undefined, commandVariables).then(result => {\n\n\t\t\tassert.deepStrictEqual({ ...result }, {\n\t\t\t\t'name': 'Attach to Process',\n\t\t\t\t'type': 'node',\n\t\t\t\t'request': 'attach',\n\t\t\t\t'processId': 'Value for key1',\n\t\t\t\t'value': 'Value for key1'\n\t\t\t});\n\n\t\t\tassert.strictEqual(1, mockCommandService.callCount);\n\t\t});\n\t});\n\n\ttest('a single prompt input variable', () => {\n\n\t\tconst configuration = {\n\t\t\t'name': 'Attach to Process',\n\t\t\t'type': 'node',\n\t\t\t'request': 'attach',\n\t\t\t'processId': '${input:input1}',\n\t\t\t'port': 5858,\n\t\t\t'sourceMaps': false,\n\t\t\t'outDir': null\n\t\t};\n\n\t\treturn configurationResolverService!.resolveWithInteractionReplace(workspace, configuration, 'tasks').then(result => {\n\n\t\t\tassert.deepStrictEqual({ ...result }, {\n\t\t\t\t'name': 'Attach to Process',\n\t\t\t\t'type': 'node',\n\t\t\t\t'request': 'attach',\n\t\t\t\t'processId': 'resolvedEnterinput1',\n\t\t\t\t'port': 5858,\n\t\t\t\t'sourceMaps': false,\n\t\t\t\t'outDir': null\n\t\t\t});\n\n\t\t\tassert.strictEqual(0, mockCommandService.callCount);\n\t\t});\n\t});\n\n\ttest('a single pick input variable', () => {\n\n\t\tconst configuration = {\n\t\t\t'name': 'Attach to Process',\n\t\t\t'type': 'node',\n\t\t\t'request': 'attach',\n\t\t\t'processId': '${input:input2}',\n\t\t\t'port': 5858,\n\t\t\t'sourceMaps': false,\n\t\t\t'outDir': null\n\t\t};\n\n\t\treturn configurationResolverService!.resolveWithInteractionReplace(workspace, configuration, 'tasks').then(result => {\n\n\t\t\tassert.deepStrictEqual({ ...result }, {\n\t\t\t\t'name': 'Attach to Process',\n\t\t\t\t'type': 'node',\n\t\t\t\t'request': 'attach',\n\t\t\t\t'processId': 'selectedPick',\n\t\t\t\t'port': 5858,\n\t\t\t\t'sourceMaps': false,\n\t\t\t\t'outDir': null\n\t\t\t});\n\n\t\t\tassert.strictEqual(0, mockCommandService.callCount);\n\t\t});\n\t});\n\n\ttest('a single command input variable', () => {\n\n\t\tconst configuration = {\n\t\t\t'name': 'Attach to Process',\n\t\t\t'type': 'node',\n\t\t\t'request': 'attach',\n\t\t\t'processId': '${input:input4}',\n\t\t\t'port': 5858,\n\t\t\t'sourceMaps': false,\n\t\t\t'outDir': null\n\t\t};\n\n\t\treturn configurationResolverService!.resolveWithInteractionReplace(workspace, configuration, 'tasks').then(result => {\n\n\t\t\tassert.deepStrictEqual({ ...result }, {\n\t\t\t\t'name': 'Attach to Process',\n\t\t\t\t'type': 'node',\n\t\t\t\t'request': 'attach',\n\t\t\t\t'processId': 'arg for command',\n\t\t\t\t'port': 5858,\n\t\t\t\t'sourceMaps': false,\n\t\t\t\t'outDir': null\n\t\t\t});\n\n\t\t\tassert.strictEqual(1, mockCommandService.callCount);\n\t\t});\n\t});\n\n\ttest('several input variables and command', () => {\n\n\t\tconst configuration = {\n\t\t\t'name': '${input:input3}',\n\t\t\t'type': '${command:command1}',\n\t\t\t'request': '${input:input1}',\n\t\t\t'processId': '${input:input2}',\n\t\t\t'command': '${input:input4}',\n\t\t\t'port': 5858,\n\t\t\t'sourceMaps': false,\n\t\t\t'outDir': null\n\t\t};\n\n\t\treturn configurationResolverService!.resolveWithInteractionReplace(workspace, configuration, 'tasks').then(result => {\n\n\t\t\tassert.deepStrictEqual({ ...result }, {\n\t\t\t\t'name': 'resolvedEnterinput3',\n\t\t\t\t'type': 'command1-result',\n\t\t\t\t'request': 'resolvedEnterinput1',\n\t\t\t\t'processId': 'selectedPick',\n\t\t\t\t'command': 'arg for command',\n\t\t\t\t'port': 5858,\n\t\t\t\t'sourceMaps': false,\n\t\t\t\t'outDir': null\n\t\t\t});\n\n\t\t\tassert.strictEqual(2, mockCommandService.callCount);\n\t\t});\n\t});\n\n\ttest('input variable with undefined workspace folder', () => {\n\n\t\tconst configuration = {\n\t\t\t'name': 'Attach to Process',\n\t\t\t'type': 'node',\n\t\t\t'request': 'attach',\n\t\t\t'processId': '${input:input1}',\n\t\t\t'port': 5858,\n\t\t\t'sourceMaps': false,\n\t\t\t'outDir': null\n\t\t};\n\n\t\treturn configurationResolverService!.resolveWithInteractionReplace(undefined, configuration, 'tasks').then(result => {\n\n\t\t\tassert.deepStrictEqual({ ...result }, {\n\t\t\t\t'name': 'Attach to Process',\n\t\t\t\t'type': 'node',\n\t\t\t\t'request': 'attach',\n\t\t\t\t'processId': 'resolvedEnterinput1',\n\t\t\t\t'port': 5858,\n\t\t\t\t'sourceMaps': false,\n\t\t\t\t'outDir': null\n\t\t\t});\n\n\t\t\tassert.strictEqual(0, mockCommandService.callCount);\n\t\t});\n\t});\n\n\ttest('contributed variable', () => {\n\t\tconst buildTask = 'npm: compile';\n\t\tconst variable = 'defaultBuildTask';\n\t\tconst configuration = {\n\t\t\t'name': '${' + variable + '}',\n\t\t};\n\t\tconfigurationResolverService!.contributeVariable(variable, async () => { return buildTask; });\n\t\treturn configurationResolverService!.resolveWithInteractionReplace(workspace, configuration).then(result => {\n\t\t\tassert.deepStrictEqual({ ...result }, {\n\t\t\t\t'name': `${buildTask}`\n\t\t\t});\n\t\t});\n\t});\n\n\ttest('resolveWithEnvironment', async () => {\n\t\tconst env = {\n\t\t\t'VAR_1': 'VAL_1',\n\t\t\t'VAR_2': 'VAL_2'\n\t\t};\n\t\tconst configuration = 'echo ${env:VAR_1}${env:VAR_2}';\n\t\tconst resolvedResult = await configurationResolverService!.resolveWithEnvironment({ ...env }, undefined, configuration);\n\t\tassert.deepStrictEqual(resolvedResult, 'echo VAL_1VAL_2');\n\t});\n\n\ttest('substitution in object key', async () => {\n\n\t\tconst configuration = {\n\t\t\t'name': 'Test',\n\t\t\t'mappings': {\n\t\t\t\t'pos1': 'value1',\n\t\t\t\t'${workspaceFolder}/test1': '${workspaceFolder}/test2',\n\t\t\t\t'pos3': 'value3'\n\t\t\t}\n\t\t};\n\n\t\treturn configurationResolverService!.resolveWithInteractionReplace(workspace, configuration, 'tasks').then(result => {\n\n\t\t\tif (platform.isWindows) {\n\t\t\t\tassert.deepStrictEqual({ ...result }, {\n\t\t\t\t\t'name': 'Test',\n\t\t\t\t\t'mappings': {\n\t\t\t\t\t\t'pos1': 'value1',\n\t\t\t\t\t\t'\\\\VSCode\\\\workspaceLocation/test1': '\\\\VSCode\\\\workspaceLocation/test2',\n\t\t\t\t\t\t'pos3': 'value3'\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tassert.deepStrictEqual({ ...result }, {\n\t\t\t\t\t'name': 'Test',\n\t\t\t\t\t'mappings': {\n\t\t\t\t\t\t'pos1': 'value1',\n\t\t\t\t\t\t'/VSCode/workspaceLocation/test1': '/VSCode/workspaceLocation/test2',\n\t\t\t\t\t\t'pos3': 'value3'\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tassert.strictEqual(0, mockCommandService.callCount);\n\t\t});\n\t});\n});\n\n\nclass MockCommandService implements ICommandService {\n\n\tpublic _serviceBrand: undefined;\n\tpublic callCount = 0;\n\n\tonWillExecuteCommand = () => Disposable.None;\n\tonDidExecuteCommand = () => Disposable.None;\n\tpublic executeCommand(commandId: string, ...args: any[]): Promise<any> {\n\t\tthis.callCount++;\n\n\t\tlet result = `${commandId}-result`;\n\t\tif (args.length >= 1) {\n\t\t\tif (args[0] && args[0].value) {\n\t\t\t\tresult = args[0].value;\n\t\t\t}\n\t\t}\n\n\t\treturn Promise.resolve(result);\n\t}\n}\n\nclass MockLabelService implements ILabelService {\n\t_serviceBrand: undefined;\n\tgetUriLabel(resource: URI, options?: { relative?: boolean | undefined; noPrefix?: boolean | undefined }): string {\n\t\treturn normalize(resource.fsPath);\n\t}\n\tgetUriBasenameLabel(resource: URI): string {\n\t\tthrow new Error('Method not implemented.');\n\t}\n\tgetWorkspaceLabel(workspace: URI | IWorkspaceIdentifier | IWorkspace, options?: { verbose: Verbosity }): string {\n\t\tthrow new Error('Method not implemented.');\n\t}\n\tgetHostLabel(scheme: string, authority?: string): string {\n\t\tthrow new Error('Method not implemented.');\n\t}\n\tpublic getHostTooltip(): string | undefined {\n\t\tthrow new Error('Method not implemented.');\n\t}\n\tgetSeparator(scheme: string, authority?: string): '/' | '\\\\' {\n\t\tthrow new Error('Method not implemented.');\n\t}\n\tregisterFormatter(formatter: ResourceLabelFormatter): IDisposable {\n\t\tthrow new Error('Method not implemented.');\n\t}\n\tregisterCachedFormatter(formatter: ResourceLabelFormatter): IDisposable {\n\t\tthrow new Error('Method not implemented.');\n\t}\n\treadonly onDidChangeFormatters: Event<IFormatterChangeEvent> = new Emitter<IFormatterChangeEvent>().event;\n}\n\nclass MockPathService implements IPathService {\n\t_serviceBrand: undefined;\n\tget path(): Promise<IPath> {\n\t\tthrow new Error('Property not implemented');\n\t}\n\tdefaultUriScheme: string = Schemas.file;\n\tfileURI(path: string): Promise<URI> {\n\t\tthrow new Error('Method not implemented.');\n\t}\n\tuserHome(options?: { preferLocal: boolean }): Promise<URI>;\n\tuserHome(options: { preferLocal: true }): URI;\n\tuserHome(options?: { preferLocal: boolean }): Promise<URI> | URI {\n\t\tconst uri = URI.file('c:\\\\users\\\\username');\n\t\treturn options?.preferLocal ? uri : Promise.resolve(uri);\n\t}\n\thasValidBasename(resource: URI, basename?: string): Promise<boolean>;\n\thasValidBasename(resource: URI, os: platform.OperatingSystem, basename?: string): boolean;\n\thasValidBasename(resource: URI, arg2?: string | platform.OperatingSystem, name?: string): boolean | Promise<boolean> {\n\t\tthrow new Error('Method not implemented.');\n\t}\n\tresolvedUserHome: URI | undefined;\n}\n\nclass MockInputsConfigurationService extends TestConfigurationService {\n\tpublic override getValue(arg1?: any, arg2?: any): any {\n\t\tlet configuration;\n\t\tif (arg1 === 'tasks') {\n\t\t\tconfiguration = {\n\t\t\t\tinputs: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'input1',\n\t\t\t\t\t\ttype: 'promptString',\n\t\t\t\t\t\tdescription: 'Enterinput1',\n\t\t\t\t\t\tdefault: 'default input1'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'input2',\n\t\t\t\t\t\ttype: 'pickString',\n\t\t\t\t\t\tdescription: 'Enterinput1',\n\t\t\t\t\t\tdefault: 'option2',\n\t\t\t\t\t\toptions: ['option1', 'option2', 'option3']\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'input3',\n\t\t\t\t\t\ttype: 'promptString',\n\t\t\t\t\t\tdescription: 'Enterinput3',\n\t\t\t\t\t\tdefault: 'default input3',\n\t\t\t\t\t\tprovide: true,\n\t\t\t\t\t\tpassword: true\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'input4',\n\t\t\t\t\t\ttype: 'command',\n\t\t\t\t\t\tcommand: 'command1',\n\t\t\t\t\t\targs: {\n\t\t\t\t\t\t\tvalue: 'arg for command'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t};\n\t\t}\n\t\treturn configuration;\n\t}\n\n\tpublic override inspect<T>(key: string, overrides?: IConfigurationOverrides): IConfigurationValue<T> {\n\t\treturn {\n\t\t\tvalue: undefined,\n\t\t\tdefaultValue: undefined,\n\t\t\tuserValue: undefined,\n\t\t\toverrideIdentifiers: []\n\t\t};\n\t}\n}\n\nsuite('ConfigurationResolverExpression', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('parse empty object', () => {\n\t\tconst expr = ConfigurationResolverExpression.parse({});\n\t\tassert.strictEqual(Array.from(expr.unresolved()).length, 0);\n\t\tassert.deepStrictEqual(expr.toObject(), {});\n\t});\n\n\ttest('parse simple string', () => {\n\t\tconst expr = ConfigurationResolverExpression.parse({ value: '${env:HOME}' });\n\t\tconst unresolved = Array.from(expr.unresolved());\n\t\tassert.strictEqual(unresolved.length, 1);\n\t\tassert.strictEqual(unresolved[0].name, 'env');\n\t\tassert.strictEqual(unresolved[0].arg, 'HOME');\n\t});\n\n\ttest('parse string with argument and colon', () => {\n\t\tconst expr = ConfigurationResolverExpression.parse({ value: '${config:path:to:value}' });\n\t\tconst unresolved = Array.from(expr.unresolved());\n\t\tassert.strictEqual(unresolved.length, 1);\n\t\tassert.strictEqual(unresolved[0].name, 'config');\n\t\tassert.strictEqual(unresolved[0].arg, 'path:to:value');\n\t});\n\n\ttest('parse object with nested variables', () => {\n\t\tconst expr = ConfigurationResolverExpression.parse({\n\t\t\tname: '${env:USERNAME}',\n\t\t\tpath: '${env:HOME}/folder',\n\t\t\tsettings: {\n\t\t\t\tvalue: '${config:path}'\n\t\t\t},\n\t\t\tarray: ['${env:TERM}', { key: '${env:KEY}' }]\n\t\t});\n\n\t\tconst unresolved = Array.from(expr.unresolved());\n\t\tassert.strictEqual(unresolved.length, 5);\n\t\tassert.deepStrictEqual(unresolved.map(r => r.name).sort(), ['config', 'env', 'env', 'env', 'env']);\n\t});\n\n\ttest('resolve and get result', () => {\n\t\tconst expr = ConfigurationResolverExpression.parse({\n\t\t\tname: '${env:USERNAME}',\n\t\t\tpath: '${env:HOME}/folder'\n\t\t});\n\n\t\texpr.resolve({ inner: 'env:USERNAME', id: '${env:USERNAME}', name: 'env', arg: 'USERNAME' }, 'testuser');\n\t\texpr.resolve({ inner: 'env:HOME', id: '${env:HOME}', name: 'env', arg: 'HOME' }, '/home/testuser');\n\n\t\tassert.deepStrictEqual(expr.toObject(), {\n\t\t\tname: 'testuser',\n\t\t\tpath: '/home/testuser/folder'\n\t\t});\n\t});\n\n\ttest('keeps unresolved variables', () => {\n\t\tconst expr = ConfigurationResolverExpression.parse({\n\t\t\tname: '${env:USERNAME}'\n\t\t});\n\n\t\tassert.deepStrictEqual(expr.toObject(), {\n\t\t\tname: '${env:USERNAME}'\n\t\t});\n\t});\n\n\ttest('deduplicates identical variables', () => {\n\t\tconst expr = ConfigurationResolverExpression.parse({\n\t\t\tfirst: '${env:HOME}',\n\t\t\tsecond: '${env:HOME}'\n\t\t});\n\n\t\tconst unresolved = Array.from(expr.unresolved());\n\t\tassert.strictEqual(unresolved.length, 1);\n\t\tassert.strictEqual(unresolved[0].name, 'env');\n\t\tassert.strictEqual(unresolved[0].arg, 'HOME');\n\n\t\texpr.resolve(unresolved[0], '/home/user');\n\t\tassert.deepStrictEqual(expr.toObject(), {\n\t\t\tfirst: '/home/user',\n\t\t\tsecond: '/home/user'\n\t\t});\n\t});\n\n\ttest('handles root string value', () => {\n\t\tconst expr = ConfigurationResolverExpression.parse('abc ${env:HOME} xyz');\n\t\tconst unresolved = Array.from(expr.unresolved());\n\t\tassert.strictEqual(unresolved.length, 1);\n\t\tassert.strictEqual(unresolved[0].name, 'env');\n\t\tassert.strictEqual(unresolved[0].arg, 'HOME');\n\n\t\texpr.resolve(unresolved[0], '/home/user');\n\t\tassert.strictEqual(expr.toObject(), 'abc /home/user xyz');\n\t});\n\n\ttest('handles root string value with multiple variables', () => {\n\t\tconst expr = ConfigurationResolverExpression.parse('${env:HOME}/folder${env:SHELL}');\n\t\tconst unresolved = Array.from(expr.unresolved());\n\t\tassert.strictEqual(unresolved.length, 2);\n\n\t\texpr.resolve({ id: '${env:HOME}', inner: 'env:HOME', name: 'env', arg: 'HOME' }, '/home/user');\n\t\texpr.resolve({ id: '${env:SHELL}', inner: 'env:SHELL', name: 'env', arg: 'SHELL' }, '/bin/bash');\n\t\tassert.strictEqual(expr.toObject(), '/home/user/folder/bin/bash');\n\t});\n\n\ttest('handles root string with escaped variables', () => {\n\t\tconst expr = ConfigurationResolverExpression.parse('abc ${env:HOME${env:USER}} xyz');\n\t\tconst unresolved = Array.from(expr.unresolved());\n\t\tassert.strictEqual(unresolved.length, 1);\n\t\tassert.strictEqual(unresolved[0].name, 'env');\n\t\tassert.strictEqual(unresolved[0].arg, 'HOME${env:USER}');\n\t});\n\n\ttest('resolves nested values', () => {\n\t\tconst expr = ConfigurationResolverExpression.parse({\n\t\t\tname: '${env:REDIRECTED}',\n\t\t\t'key that is ${env:REDIRECTED}': 'cool!',\n\t\t});\n\n\t\tfor (const r of expr.unresolved()) {\n\t\t\tif (r.arg === 'REDIRECTED') {\n\t\t\t\texpr.resolve(r, 'username: ${env:USERNAME}');\n\t\t\t} else if (r.arg === 'USERNAME') {\n\t\t\t\texpr.resolve(r, 'testuser');\n\t\t\t}\n\t\t}\n\n\t\tassert.deepStrictEqual(expr.toObject(), {\n\t\t\tname: 'username: testuser',\n\t\t\t'key that is username: testuser': 'cool!'\n\t\t});\n\t});\n\n\ttest('resolves nested values 2 (#245798)', () => {\n\t\tconst expr = ConfigurationResolverExpression.parse({\n\t\t\tenv: {\n\t\t\t\tSITE: '${input:site}',\n\t\t\t\tTLD: '${input:tld}',\n\t\t\t\tHOST: '${input:host}',\n\t\t\t},\n\t\t});\n\n\t\tfor (const r of expr.unresolved()) {\n\t\t\tif (r.arg === 'site') {\n\t\t\t\texpr.resolve(r, 'example');\n\t\t\t} else if (r.arg === 'tld') {\n\t\t\t\texpr.resolve(r, 'com');\n\t\t\t} else if (r.arg === 'host') {\n\t\t\t\texpr.resolve(r, 'local.${input:site}.${input:tld}');\n\t\t\t}\n\t\t}\n\n\t\tassert.deepStrictEqual(expr.toObject(), {\n\t\t\tenv: {\n\t\t\t\tSITE: 'example',\n\t\t\t\tTLD: 'com',\n\t\t\t\tHOST: 'local.example.com'\n\t\t\t}\n\t\t});\n\t});\n\n\ttest('out-of-order key resolution (#248550)', () => {\n\t\tconst expr = ConfigurationResolverExpression.parse({\n\t\t\t'${input:key}': '${input:value}',\n\t\t});\n\n\t\tfor (const r of expr.unresolved()) {\n\t\t\tif (r.arg === 'key') {\n\t\t\t\texpr.resolve(r, 'the-key');\n\t\t\t}\n\t\t}\n\t\tfor (const r of expr.unresolved()) {\n\t\t\tif (r.arg === 'value') {\n\t\t\t\texpr.resolve(r, 'the-value');\n\t\t\t}\n\t\t}\n\n\t\tassert.deepStrictEqual(expr.toObject(), {\n\t\t\t'the-key': 'the-value'\n\t\t});\n\t});\n});\n"]}