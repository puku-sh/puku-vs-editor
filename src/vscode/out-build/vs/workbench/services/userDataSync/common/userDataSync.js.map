{"version":3,"sources":["vs/workbench/services/userDataSync/common/userDataSync.ts"],"names":[],"mappings":"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","file":"userDataSync.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IAuthenticationProvider, SyncStatus, SyncResource, IUserDataSyncResource, IResourcePreview } from '../../../../platform/userDataSync/common/userDataSync.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { ContextKeyExpr, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { localize, localize2 } from '../../../../nls.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { registerIcon } from '../../../../platform/theme/common/iconRegistry.js';\nimport { IView } from '../../../common/views.js';\nimport { Categories } from '../../../../platform/action/common/actionCommonCategories.js';\nimport { IAction2Options } from '../../../../platform/actions/common/actions.js';\nimport { ILocalizedString } from '../../../../platform/action/common/action.js';\n\nexport interface IUserDataSyncAccount {\n\treadonly authenticationProviderId: string;\n\treadonly accountName: string;\n\treadonly accountId: string;\n}\n\nexport const IUserDataSyncWorkbenchService = createDecorator<IUserDataSyncWorkbenchService>('IUserDataSyncWorkbenchService');\nexport interface IUserDataSyncWorkbenchService {\n\t_serviceBrand: undefined;\n\n\treadonly enabled: boolean;\n\treadonly authenticationProviders: IAuthenticationProvider[];\n\n\treadonly current: IUserDataSyncAccount | undefined;\n\n\treadonly accountStatus: AccountStatus;\n\treadonly onDidChangeAccountStatus: Event<AccountStatus>;\n\n\treadonly onDidTurnOnSync: Event<void>;\n\n\tturnOn(): Promise<void>;\n\tturnoff(everyWhere: boolean): Promise<void>;\n\tsignIn(): Promise<void>;\n\n\tresetSyncedData(): Promise<void>;\n\tshowSyncActivity(): Promise<void>;\n\tsyncNow(): Promise<void>;\n\n\tsynchroniseUserDataSyncStoreType(): Promise<void>;\n\n\tshowConflicts(conflictToOpen?: IResourcePreview): Promise<void>;\n\taccept(resource: IUserDataSyncResource, conflictResource: URI, content: string | null | undefined, apply: boolean): Promise<void>;\n\n\tgetAllLogResources(): Promise<URI[]>;\n\tdownloadSyncActivity(): Promise<URI | undefined>;\n}\n\nexport function getSyncAreaLabel(source: SyncResource): string {\n\tswitch (source) {\n\t\tcase SyncResource.Settings: return localize('settings', \"Settings\");\n\t\tcase SyncResource.Keybindings: return localize('keybindings', \"Keyboard Shortcuts\");\n\t\tcase SyncResource.Snippets: return localize('snippets', \"Snippets\");\n\t\tcase SyncResource.Prompts: return localize('prompts', \"Prompts and Instructions\");\n\t\tcase SyncResource.Tasks: return localize('tasks', \"Tasks\");\n\t\tcase SyncResource.Mcp: return localize('mcp', \"MCP Servers\");\n\t\tcase SyncResource.Extensions: return localize('extensions', \"Extensions\");\n\t\tcase SyncResource.GlobalState: return localize('ui state label', \"UI State\");\n\t\tcase SyncResource.Profiles: return localize('profiles', \"Profiles\");\n\t\tcase SyncResource.WorkspaceState: return localize('workspace state label', \"Workspace State\");\n\t}\n}\n\nexport const enum AccountStatus {\n\tUninitialized = 'uninitialized',\n\tUnavailable = 'unavailable',\n\tAvailable = 'available',\n}\n\nexport interface IUserDataSyncConflictsView extends IView {\n\topen(conflict: IResourcePreview): Promise<void>;\n}\n\nexport const SYNC_TITLE: ILocalizedString = localize2('sync category', \"Settings Sync\");\n\nexport const SYNC_VIEW_ICON = registerIcon('settings-sync-view-icon', Codicon.sync, localize('syncViewIcon', 'View icon of the Settings Sync view.'));\n\n// Contexts\nexport const CONTEXT_SYNC_STATE = new RawContextKey<string>('syncStatus', SyncStatus.Uninitialized);\nexport const CONTEXT_SYNC_ENABLEMENT = new RawContextKey<boolean>('syncEnabled', false);\nexport const CONTEXT_ACCOUNT_STATE = new RawContextKey<string>('userDataSyncAccountStatus', AccountStatus.Uninitialized);\nexport const CONTEXT_ENABLE_ACTIVITY_VIEWS = new RawContextKey<boolean>(`enableSyncActivityViews`, false);\nexport const CONTEXT_ENABLE_SYNC_CONFLICTS_VIEW = new RawContextKey<boolean>(`enableSyncConflictsView`, false);\nexport const CONTEXT_HAS_CONFLICTS = new RawContextKey<boolean>('hasConflicts', false);\n\n// Commands\nexport const CONFIGURE_SYNC_COMMAND_ID = 'workbench.userDataSync.actions.configure';\nexport const SHOW_SYNC_LOG_COMMAND_ID = 'workbench.userDataSync.actions.showLog';\n\n// VIEWS\nexport const SYNC_VIEW_CONTAINER_ID = 'workbench.view.sync';\nexport const SYNC_CONFLICTS_VIEW_ID = 'workbench.views.sync.conflicts';\n\nexport const DOWNLOAD_ACTIVITY_ACTION_DESCRIPTOR: Readonly<IAction2Options> = {\n\tid: 'workbench.userDataSync.actions.downloadSyncActivity',\n\ttitle: localize2('download sync activity title', \"Download Settings Sync Activity\"),\n\tcategory: Categories.Developer,\n\tf1: true,\n\tprecondition: ContextKeyExpr.and(CONTEXT_ACCOUNT_STATE.isEqualTo(AccountStatus.Available), CONTEXT_SYNC_STATE.notEqualsTo(SyncStatus.Uninitialized))\n};\n"]}