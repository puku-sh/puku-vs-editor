{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/services/userDataSync/common/userDataSyncUtil.ts","vs/workbench/services/userDataSync/common/userDataSyncUtil.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;AAEhG,OAAO,EAAE,kBAAkB,EAAE,MAAM,sDAAsD,CAAC;AAC1F,OAAO,EAAE,wBAAwB,EAAE,yBAAyB,EAAE,MAAM,0DAA0D,CAAC;AAE/H,OAAO,EAAqB,iBAAiB,EAAE,MAAM,yDAAyD,CAAC;AAG/G,OAAO,EAAE,iBAAiB,EAAE,MAAM,uDAAuD,CAAC;AAC1F,OAAO,EAAE,8BAA8B,EAAE,iCAAiC,EAAE,MAAM,iEAAiE,CAAC;AAEpJ,IAAM,uBAAuB,GAA7B,MAAM,uBAAuB;IAI5B,YACsC,kBAAsC,EACvC,gBAAmC,EACtB,6BAA6D,EAC1D,gCAAmE;QAHlF,uBAAkB,GAAlB,kBAAkB,CAAoB;QACvC,qBAAgB,GAAhB,gBAAgB,CAAmB;QACtB,kCAA6B,GAA7B,6BAA6B,CAAgC;QAC1D,qCAAgC,GAAhC,gCAAgC,CAAmC;IACpH,CAAC;IAEL,KAAK,CAAC,iCAAiC;QACtC,OAAO,yBAAyB,CAAC,IAAI,CAAC,CAAC;IACxC,CAAC;IAED,KAAK,CAAC,mBAAmB,CAAC,YAAsB;QAC/C,MAAM,IAAI,GAA8B,EAAE,CAAC;QAC3C,KAAK,MAAM,WAAW,IAAI,YAAY,EAAE,CAAC;YACxC,IAAI,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,kBAAkB,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,oBAAoB,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAChI,CAAC;QACD,OAAO,IAAI,CAAC;IACb,CAAC;IAED,KAAK,CAAC,wBAAwB,CAAC,QAAa;QAC3C,IAAI,CAAC;YACJ,MAAM,cAAc,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC;YAClF,MAAM,EAAE,YAAY,EAAE,OAAO,EAAE,GAAG,cAAc,CAAC,MAAM,CAAC,eAAe,CAAC,UAAU,EAAE,CAAC;YACrF,MAAM,GAAG,GAAG,cAAc,CAAC,MAAM,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;YAC3D,cAAc,CAAC,OAAO,EAAE,CAAC;YACzB,OAAO,EAAE,GAAG,EAAE,YAAY,EAAE,OAAO,EAAE,CAAC;QACvC,CAAC;QAAC,OAAO,CAAC,EAAE,CAAC;QACb,CAAC;QACD,OAAO;YACN,GAAG,EAAE,IAAI,CAAC,6BAA6B,CAAC,MAAM,CAAC,QAAQ,CAAC;YACxD,YAAY,EAAE,CAAC,CAAC,IAAI,CAAC,gCAAgC,CAAC,QAAQ,CAAC,QAAQ,EAAE,qBAAqB,CAAC;YAC/F,OAAO,EAAE,IAAI,CAAC,gCAAgC,CAAC,QAAQ,CAAC,QAAQ,EAAE,gBAAgB,CAAC;SACnF,CAAC;IACH,CAAC;CAED,CAAA;AAvCK,uBAAuB;IAK1B,WAAA,kBAAkB,CAAA;IAClB,WAAA,iBAAiB,CAAA;IACjB,WAAA,8BAA8B,CAAA;IAC9B,WAAA,iCAAiC,CAAA;GAR9B,uBAAuB,CAuC5B;AAED,iBAAiB,CAAC,wBAAwB,EAAE,uBAAuB,oCAA4B,CAAC","file":"userDataSyncUtil.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { IUserDataSyncUtilService, getDefaultIgnoredSettings } from '../../../../platform/userDataSync/common/userDataSync.js';\nimport { IStringDictionary } from '../../../../base/common/collections.js';\nimport { InstantiationType, registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { FormattingOptions } from '../../../../base/common/jsonFormatter.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ITextModelService } from '../../../../editor/common/services/resolverService.js';\nimport { ITextResourcePropertiesService, ITextResourceConfigurationService } from '../../../../editor/common/services/textResourceConfiguration.js';\n\nclass UserDataSyncUtilService implements IUserDataSyncUtilService {\n\n\tdeclare readonly _serviceBrand: undefined;\n\n\tconstructor(\n\t\t@IKeybindingService private readonly keybindingsService: IKeybindingService,\n\t\t@ITextModelService private readonly textModelService: ITextModelService,\n\t\t@ITextResourcePropertiesService private readonly textResourcePropertiesService: ITextResourcePropertiesService,\n\t\t@ITextResourceConfigurationService private readonly textResourceConfigurationService: ITextResourceConfigurationService,\n\t) { }\n\n\tasync resolveDefaultCoreIgnoredSettings(): Promise<string[]> {\n\t\treturn getDefaultIgnoredSettings(true);\n\t}\n\n\tasync resolveUserBindings(userBindings: string[]): Promise<IStringDictionary<string>> {\n\t\tconst keys: IStringDictionary<string> = {};\n\t\tfor (const userbinding of userBindings) {\n\t\t\tkeys[userbinding] = this.keybindingsService.resolveUserBinding(userbinding).map(part => part.getUserSettingsLabel()).join(' ');\n\t\t}\n\t\treturn keys;\n\t}\n\n\tasync resolveFormattingOptions(resource: URI): Promise<FormattingOptions> {\n\t\ttry {\n\t\t\tconst modelReference = await this.textModelService.createModelReference(resource);\n\t\t\tconst { insertSpaces, tabSize } = modelReference.object.textEditorModel.getOptions();\n\t\t\tconst eol = modelReference.object.textEditorModel.getEOL();\n\t\t\tmodelReference.dispose();\n\t\t\treturn { eol, insertSpaces, tabSize };\n\t\t} catch (e) {\n\t\t}\n\t\treturn {\n\t\t\teol: this.textResourcePropertiesService.getEOL(resource),\n\t\t\tinsertSpaces: !!this.textResourceConfigurationService.getValue(resource, 'editor.insertSpaces'),\n\t\t\ttabSize: this.textResourceConfigurationService.getValue(resource, 'editor.tabSize')\n\t\t};\n\t}\n\n}\n\nregisterSingleton(IUserDataSyncUtilService, UserDataSyncUtilService, InstantiationType.Delayed);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { IUserDataSyncUtilService, getDefaultIgnoredSettings } from '../../../../platform/userDataSync/common/userDataSync.js';\nimport { IStringDictionary } from '../../../../base/common/collections.js';\nimport { InstantiationType, registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { FormattingOptions } from '../../../../base/common/jsonFormatter.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ITextModelService } from '../../../../editor/common/services/resolverService.js';\nimport { ITextResourcePropertiesService, ITextResourceConfigurationService } from '../../../../editor/common/services/textResourceConfiguration.js';\n\nclass UserDataSyncUtilService implements IUserDataSyncUtilService {\n\n\tdeclare readonly _serviceBrand: undefined;\n\n\tconstructor(\n\t\t@IKeybindingService private readonly keybindingsService: IKeybindingService,\n\t\t@ITextModelService private readonly textModelService: ITextModelService,\n\t\t@ITextResourcePropertiesService private readonly textResourcePropertiesService: ITextResourcePropertiesService,\n\t\t@ITextResourceConfigurationService private readonly textResourceConfigurationService: ITextResourceConfigurationService,\n\t) { }\n\n\tasync resolveDefaultCoreIgnoredSettings(): Promise<string[]> {\n\t\treturn getDefaultIgnoredSettings(true);\n\t}\n\n\tasync resolveUserBindings(userBindings: string[]): Promise<IStringDictionary<string>> {\n\t\tconst keys: IStringDictionary<string> = {};\n\t\tfor (const userbinding of userBindings) {\n\t\t\tkeys[userbinding] = this.keybindingsService.resolveUserBinding(userbinding).map(part => part.getUserSettingsLabel()).join(' ');\n\t\t}\n\t\treturn keys;\n\t}\n\n\tasync resolveFormattingOptions(resource: URI): Promise<FormattingOptions> {\n\t\ttry {\n\t\t\tconst modelReference = await this.textModelService.createModelReference(resource);\n\t\t\tconst { insertSpaces, tabSize } = modelReference.object.textEditorModel.getOptions();\n\t\t\tconst eol = modelReference.object.textEditorModel.getEOL();\n\t\t\tmodelReference.dispose();\n\t\t\treturn { eol, insertSpaces, tabSize };\n\t\t} catch (e) {\n\t\t}\n\t\treturn {\n\t\t\teol: this.textResourcePropertiesService.getEOL(resource),\n\t\t\tinsertSpaces: !!this.textResourceConfigurationService.getValue(resource, 'editor.insertSpaces'),\n\t\t\ttabSize: this.textResourceConfigurationService.getValue(resource, 'editor.tabSize')\n\t\t};\n\t}\n\n}\n\nregisterSingleton(IUserDataSyncUtilService, UserDataSyncUtilService, InstantiationType.Delayed);\n"]}