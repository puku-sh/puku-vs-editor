{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/services/editor/test/browser/editorResolverService.test.ts","vs/workbench/services/editor/test/browser/editorResolverService.test.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,MAAM,MAAM,QAAQ,CAAC;AAC5B,OAAO,EAAE,eAAe,EAAE,MAAM,yCAAyC,CAAC;AAC1E,OAAO,EAAE,OAAO,EAAE,MAAM,uCAAuC,CAAC;AAChE,OAAO,EAAE,GAAG,EAAE,MAAM,mCAAmC,CAAC;AACxD,OAAO,EAAE,uCAAuC,EAAE,MAAM,0CAA0C,CAAC;AAEnG,OAAO,EAAE,eAAe,EAAE,MAAM,8CAA8C,CAAC;AAC/E,OAAO,EAAE,qBAAqB,EAAE,MAAM,wCAAwC,CAAC;AAC/E,OAAO,EAAE,oBAAoB,EAAE,MAAM,qCAAqC,CAAC;AAC3E,OAAO,EAAE,sBAAsB,EAAkB,wBAAwB,EAAE,MAAM,uCAAuC,CAAC;AACzH,OAAO,EAAE,gBAAgB,EAA6B,mBAAmB,EAAE,mBAAmB,EAAE,6BAA6B,EAAE,MAAM,mDAAmD,CAAC;AAEzL,KAAK,CAAC,uBAAuB,EAAE,GAAG,EAAE;IAEnC,MAAM,oBAAoB,GAAG,yCAAyC,CAAC;IACvE,MAAM,WAAW,GAAG,IAAI,eAAe,EAAE,CAAC;IAE1C,QAAQ,CAAC,GAAG,EAAE,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC,CAAC;IAEpC,uCAAuC,EAAE,CAAC;IAE1C,KAAK,UAAU,2BAA2B,CAAC,uBAAkD,6BAA6B,CAAC,SAAS,EAAE,WAAW,CAAC;QACjJ,MAAM,IAAI,GAAG,MAAM,gBAAgB,CAAC,oBAAoB,EAAE,WAAW,CAAC,CAAC;QACvE,oBAAoB,CAAC,IAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC,CAAC;QAEtD,MAAM,qBAAqB,GAAG,oBAAoB,CAAC,cAAc,CAAC,qBAAqB,CAAC,CAAC;QACzF,oBAAoB,CAAC,IAAI,CAAC,sBAAsB,EAAE,qBAAqB,CAAC,CAAC;QACzE,WAAW,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;QAEvC,OAAO,CAAC,IAAI,EAAE,qBAAqB,EAAE,oBAAoB,CAAC,cAAc,CAAC,mBAAmB,CAAC,CAAC,CAAC;IAChG,CAAC;IAED,SAAS,kCAAkC,CAAC,GAAQ,EAAE,MAAc,EAAE,KAAsB;QAC3F,MAAM,MAAM,GAAG,IAAI,mBAAmB,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;QACpD,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAClB,OAAO,MAAM,CAAC;IACf,CAAC;IAED,IAAI,CAAC,gBAAgB,EAAE,KAAK,IAAI,EAAE;QACjC,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,GAAG,MAAM,2BAA2B,EAAE,CAAC;QAC5D,MAAM,gBAAgB,GAAG,OAAO,CAAC,cAAc,CAAC,QAAQ,EACvD;YACC,EAAE,EAAE,aAAa;YACjB,KAAK,EAAE,mBAAmB;YAC1B,MAAM,EAAE,qBAAqB;YAC7B,QAAQ,EAAE,wBAAwB,CAAC,OAAO;SAC1C,EACD,EAAE,EACF;YACC,iBAAiB,EAAE,CAAC,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,EAAE,MAAM,EAAE,IAAI,mBAAmB,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,EAAE,oBAAoB,CAAC,EAAE,CAAC;SAChJ,CACD,CAAC;QAEF,MAAM,mBAAmB,GAAG,MAAM,OAAO,CAAC,aAAa,CAAC,EAAE,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,2BAA2B,CAAC,EAAE,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAC/H,MAAM,CAAC,EAAE,CAAC,mBAAmB,CAAC,CAAC;QAC/B,MAAM,CAAC,cAAc,CAAC,OAAO,mBAAmB,EAAE,QAAQ,CAAC,CAAC;QAC5D,IAAI,mBAAmB,iCAAyB,IAAI,mBAAmB,gCAAwB,EAAE,CAAC;YACjG,MAAM,CAAC,WAAW,CAAC,mBAAmB,CAAC,MAAM,CAAC,MAAM,EAAE,oBAAoB,CAAC,CAAC;YAC5E,mBAAmB,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;QACtC,CAAC;QACD,gBAAgB,CAAC,OAAO,EAAE,CAAC;IAC5B,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,kBAAkB,EAAE,KAAK,IAAI,EAAE;QACnC,MAAM,6BAA6B,GAAG,qBAAqB,CAAC;QAC5D,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,GAAG,MAAM,2BAA2B,EAAE,CAAC;QAC5D,MAAM,gBAAgB,GAAG,OAAO,CAAC,cAAc,CAAC,QAAQ,EACvD;YACC,EAAE,EAAE,aAAa;YACjB,KAAK,EAAE,mBAAmB;YAC1B,MAAM,EAAE,qBAAqB;YAC7B,QAAQ,EAAE,wBAAwB,CAAC,OAAO;SAC1C,EACD,EAAE,EACF;YACC,iBAAiB,EAAE,CAAC,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,EAAE,MAAM,EAAE,IAAI,mBAAmB,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,EAAE,oBAAoB,CAAC,EAAE,CAAC;YAChJ,yBAAyB,EAAE,CAAC,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,EAAE,MAAM,EAAE,IAAI,mBAAmB,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,OAAO,CAAC,QAAQ,EAAE,CAAC,CAAC,EAAE,6BAA6B,CAAC,EAAE,CAAC;SACjM,CACD,CAAC;QAEF,iCAAiC;QACjC,IAAI,mBAAmB,GAAG,MAAM,OAAO,CAAC,aAAa,CAAC,EAAE,QAAQ,EAAE,SAAS,EAAE,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACjG,MAAM,CAAC,EAAE,CAAC,mBAAmB,CAAC,CAAC;QAC/B,oDAAoD;QACpD,MAAM,CAAC,WAAW,CAAC,OAAO,mBAAmB,EAAE,QAAQ,CAAC,CAAC;QAEzD,4CAA4C;QAC5C,mBAAmB,GAAG,MAAM,OAAO,CAAC,aAAa,CAAC,EAAE,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,OAAO,CAAC,QAAQ,EAAE,IAAI,EAAE,UAAU,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAC5I,MAAM,CAAC,EAAE,CAAC,mBAAmB,CAAC,CAAC;QAC/B,MAAM,CAAC,cAAc,CAAC,OAAO,mBAAmB,EAAE,QAAQ,CAAC,CAAC;QAC5D,IAAI,mBAAmB,iCAAyB,IAAI,mBAAmB,gCAAwB,EAAE,CAAC;YACjG,MAAM,CAAC,WAAW,CAAC,mBAAmB,CAAC,MAAM,CAAC,MAAM,EAAE,6BAA6B,CAAC,CAAC;YACrF,mBAAmB,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;QACtC,CAAC;QAED,sDAAsD;QACtD,mBAAmB,GAAG,MAAM,OAAO,CAAC,aAAa,CAAC,EAAE,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,aAAa,EAAE,IAAI,EAAE,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QAC/H,MAAM,CAAC,EAAE,CAAC,mBAAmB,CAAC,CAAC;QAC/B,MAAM,CAAC,cAAc,CAAC,OAAO,mBAAmB,EAAE,QAAQ,CAAC,CAAC;QAC5D,IAAI,mBAAmB,iCAAyB,IAAI,mBAAmB,gCAAwB,EAAE,CAAC;YACjG,MAAM,CAAC,WAAW,CAAC,mBAAmB,CAAC,MAAM,CAAC,MAAM,EAAE,6BAA6B,CAAC,CAAC;YACrF,mBAAmB,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;QACtC,CAAC;QAED,gBAAgB,CAAC,OAAO,EAAE,CAAC;IAC5B,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,sBAAsB,EAAE,KAAK,IAAI,EAAE;QACvC,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,GAAG,MAAM,2BAA2B,EAAE,CAAC;QAC5D,MAAM,uBAAuB,GAAG,OAAO,CAAC,cAAc,CAAC,gBAAgB,EACtE;YACC,EAAE,EAAE,qBAAqB;YACzB,KAAK,EAAE,2BAA2B;YAClC,MAAM,EAAE,6BAA6B;YACrC,QAAQ,EAAE,wBAAwB,CAAC,OAAO;SAC1C,EACD,EAAE,EACF;YACC,iBAAiB,EAAE,CAAC,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,EAAE,MAAM,EAAE,kCAAkC,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,EAAE,oBAAoB,EAAE,WAAW,CAAC,EAAE,CAAC;SACxK,CACD,CAAC;QAEF,MAAM,yBAAyB,GAAG,OAAO,CAAC,cAAc,CAAC,kBAAkB,EAC1E;YACC,EAAE,EAAE,uBAAuB;YAC3B,KAAK,EAAE,6BAA6B;YACpC,MAAM,EAAE,+BAA+B;YACvC,QAAQ,EAAE,wBAAwB,CAAC,OAAO;SAC1C,EACD,EAAE,EACF;YACC,iBAAiB,EAAE,CAAC,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,EAAE,MAAM,EAAE,kCAAkC,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,EAAE,oBAAoB,EAAE,WAAW,CAAC,EAAE,CAAC;SACxK,CACD,CAAC;QAEF,MAAM,mBAAmB,GAAG,MAAM,OAAO,CAAC,aAAa,CAAC;YACvD,OAAO,EAAE,EAAE,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,mCAAmC,CAAC,EAAE;YACpE,SAAS,EAAE,EAAE,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,qCAAqC,CAAC,EAAE;SACxE,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACrB,MAAM,CAAC,EAAE,CAAC,mBAAmB,CAAC,CAAC;QAC/B,MAAM,CAAC,cAAc,CAAC,OAAO,mBAAmB,EAAE,QAAQ,CAAC,CAAC;QAC5D,IAAI,mBAAmB,iCAAyB,IAAI,mBAAmB,gCAAwB,EAAE,CAAC;YACjG,MAAM,CAAC,WAAW,CAAC,mBAAmB,CAAC,MAAM,CAAC,MAAM,EAAE,8CAA8C,CAAC,CAAC;YACtG,mBAAmB,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;QACtC,CAAC;aAAM,CAAC;YACP,MAAM,CAAC,IAAI,EAAE,CAAC;QACf,CAAC;QACD,uBAAuB,CAAC,OAAO,EAAE,CAAC;QAClC,yBAAyB,CAAC,OAAO,EAAE,CAAC;IACrC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,qBAAqB,EAAE,KAAK,IAAI,EAAE;QACtC,MAAM,CAAC,IAAI,EAAE,OAAO,EAAE,QAAQ,CAAC,GAAG,MAAM,2BAA2B,EAAE,CAAC;QACtE,MAAM,gBAAgB,GAAG,OAAO,CAAC,cAAc,CAAC,aAAa,EAC5D;YACC,EAAE,EAAE,aAAa;YACjB,KAAK,EAAE,mBAAmB;YAC1B,MAAM,EAAE,qBAAqB;YAC7B,QAAQ,EAAE,wBAAwB,CAAC,OAAO;SAC1C,EACD,EAAE,EACF;YACC,iBAAiB,EAAE,CAAC,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,EAAE,MAAM,EAAE,kCAAkC,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,EAAE,oBAAoB,EAAE,WAAW,CAAC,EAAE,CAAC;YACxK,qBAAqB,EAAE,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC;gBACnE,MAAM,EAAE,QAAQ,CAAC,oBAAoB,CAAC,cAAc,CACnD,eAAe,EACf,MAAM,EACN,aAAa,EACb,kCAAkC,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,EAAE,oBAAoB,EAAE,WAAW,CAAC,EACrG,kCAAkC,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,EAAE,oBAAoB,EAAE,WAAW,CAAC,EACrG,SAAS,CAAC;aACX,CAAC;SACF,CACD,CAAC;QAEF,MAAM,mBAAmB,GAAG,MAAM,OAAO,CAAC,aAAa,CAAC;YACvD,QAAQ,EAAE,EAAE,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,gCAAgC,CAAC,EAAE;YAClE,QAAQ,EAAE,EAAE,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,gCAAgC,CAAC,EAAE;SAClE,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACrB,MAAM,CAAC,EAAE,CAAC,mBAAmB,CAAC,CAAC;QAC/B,MAAM,CAAC,cAAc,CAAC,OAAO,mBAAmB,EAAE,QAAQ,CAAC,CAAC;QAC5D,IAAI,mBAAmB,iCAAyB,IAAI,mBAAmB,gCAAwB,EAAE,CAAC;YACjG,MAAM,CAAC,WAAW,CAAC,mBAAmB,CAAC,MAAM,CAAC,MAAM,EAAE,mCAAmC,CAAC,CAAC;YAC3F,mBAAmB,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;QACtC,CAAC;aAAM,CAAC;YACP,MAAM,CAAC,IAAI,EAAE,CAAC;QACf,CAAC;QACD,gBAAgB,CAAC,OAAO,EAAE,CAAC;IAC5B,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,uCAAuC,EAAE,KAAK,IAAI,EAAE;QACxD,MAAM,CAAC,IAAI,EAAE,OAAO,EAAE,QAAQ,CAAC,GAAG,MAAM,2BAA2B,EAAE,CAAC;QACtE,IAAI,cAAc,GAAG,CAAC,CAAC;QACvB,IAAI,cAAc,GAAG,CAAC,CAAC;QACvB,IAAI,kBAAkB,GAAG,CAAC,CAAC;QAC3B,MAAM,gBAAgB,GAAG,OAAO,CAAC,cAAc,CAAC,aAAa,EAC5D;YACC,EAAE,EAAE,aAAa;YACjB,KAAK,EAAE,mBAAmB;YAC1B,MAAM,EAAE,qBAAqB;YAC7B,QAAQ,EAAE,wBAAwB,CAAC,OAAO;SAC1C,EACD,EAAE,EACF;YACC,iBAAiB,EAAE,CAAC,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,EAAE,MAAM,EAAE,kCAAkC,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,EAAE,oBAAoB,EAAE,WAAW,CAAC,EAAE,CAAC;YACxK,qBAAqB,EAAE,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE,KAAK,EAAE,EAAE;gBACjE,cAAc,EAAE,CAAC;gBACjB,OAAO;oBACN,MAAM,EAAE,QAAQ,CAAC,oBAAoB,CAAC,cAAc,CACnD,eAAe,EACf,MAAM,EACN,aAAa,EACb,kCAAkC,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,EAAE,oBAAoB,EAAE,WAAW,CAAC,EACrG,kCAAkC,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,EAAE,oBAAoB,EAAE,WAAW,CAAC,EACrG,SAAS,CAAC;iBACX,CAAC;YACH,CAAC;SACD,CACD,CAAC;QAEF,MAAM,sBAAsB,GAAG,OAAO,CAAC,cAAc,CAAC,mBAAmB,EACxE;YACC,EAAE,EAAE,eAAe;YACnB,KAAK,EAAE,mBAAmB;YAC1B,MAAM,EAAE,qBAAqB;YAC7B,QAAQ,EAAE,wBAAwB,CAAC,OAAO;SAC1C,EACD,EAAE,EACF;YACC,iBAAiB,EAAE,CAAC,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,EAAE,MAAM,EAAE,IAAI,mBAAmB,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,EAAE,oBAAoB,CAAC,EAAE,CAAC;YAChJ,qBAAqB,EAAE,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE,KAAK,EAAE,EAAE;gBACjE,cAAc,EAAE,CAAC;gBACjB,OAAO;oBACN,MAAM,EAAE,QAAQ,CAAC,oBAAoB,CAAC,cAAc,CACnD,eAAe,EACf,MAAM,EACN,aAAa,EACb,kCAAkC,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,EAAE,oBAAoB,EAAE,WAAW,CAAC,EACrG,kCAAkC,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,EAAE,oBAAoB,EAAE,WAAW,CAAC,EACrG,SAAS,CAAC;iBACX,CAAC;YACH,CAAC;SACD,CACD,CAAC;QAEF,MAAM,uBAAuB,GAAG,OAAO,CAAC,cAAc,CAAC,GAAG,EACzD;YACC,EAAE,EAAE,SAAS;YACb,KAAK,EAAE,mBAAmB;YAC1B,MAAM,EAAE,qBAAqB;YAC7B,QAAQ,EAAE,wBAAwB,CAAC,MAAM;SACzC,EACD,EAAE,EACF;YACC,iBAAiB,EAAE,CAAC,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,EAAE,MAAM,EAAE,IAAI,mBAAmB,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,EAAE,oBAAoB,CAAC,EAAE,CAAC;YAChJ,qBAAqB,EAAE,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE,KAAK,EAAE,EAAE;gBACjE,kBAAkB,EAAE,CAAC;gBACrB,OAAO;oBACN,MAAM,EAAE,QAAQ,CAAC,oBAAoB,CAAC,cAAc,CACnD,eAAe,EACf,MAAM,EACN,aAAa,EACb,kCAAkC,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,EAAE,oBAAoB,EAAE,WAAW,CAAC,EACrG,kCAAkC,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,EAAE,oBAAoB,EAAE,WAAW,CAAC,EACrG,SAAS,CAAC;iBACX,CAAC;YACH,CAAC;SACD,CACD,CAAC;QAEF,IAAI,mBAAmB,GAAG,MAAM,OAAO,CAAC,aAAa,CAAC;YACrD,QAAQ,EAAE,EAAE,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,gCAAgC,CAAC,EAAE;YAClE,QAAQ,EAAE,EAAE,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,gCAAgC,CAAC,EAAE;SAClE,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACrB,MAAM,CAAC,EAAE,CAAC,mBAAmB,CAAC,CAAC;QAC/B,MAAM,CAAC,cAAc,CAAC,OAAO,mBAAmB,EAAE,QAAQ,CAAC,CAAC;QAC5D,IAAI,mBAAmB,iCAAyB,IAAI,mBAAmB,gCAAwB,EAAE,CAAC;YACjG,MAAM,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;YACtC,MAAM,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;YACtC,MAAM,CAAC,WAAW,CAAC,kBAAkB,EAAE,CAAC,CAAC,CAAC;YAC1C,MAAM,CAAC,WAAW,CAAC,mBAAmB,CAAC,MAAM,CAAC,MAAM,EAAE,mCAAmC,CAAC,CAAC;YAC3F,mBAAmB,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;QACtC,CAAC;aAAM,CAAC;YACP,MAAM,CAAC,IAAI,EAAE,CAAC;QACf,CAAC;QAED,mBAAmB,GAAG,MAAM,OAAO,CAAC,aAAa,CAAC;YACjD,QAAQ,EAAE,EAAE,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,sCAAsC,CAAC,EAAE;YACxE,QAAQ,EAAE,EAAE,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,sCAAsC,CAAC,EAAE;SACxE,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACrB,MAAM,CAAC,EAAE,CAAC,mBAAmB,CAAC,CAAC;QAC/B,MAAM,CAAC,cAAc,CAAC,OAAO,mBAAmB,EAAE,QAAQ,CAAC,CAAC;QAC5D,IAAI,mBAAmB,iCAAyB,IAAI,mBAAmB,gCAAwB,EAAE,CAAC;YACjG,MAAM,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;YACtC,MAAM,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;YACtC,MAAM,CAAC,WAAW,CAAC,kBAAkB,EAAE,CAAC,CAAC,CAAC;YAC1C,MAAM,CAAC,WAAW,CAAC,mBAAmB,CAAC,MAAM,CAAC,MAAM,EAAE,mCAAmC,CAAC,CAAC;YAC3F,mBAAmB,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;QACtC,CAAC;aAAM,CAAC;YACP,MAAM,CAAC,IAAI,EAAE,CAAC;QACf,CAAC;QAED,mBAAmB,GAAG,MAAM,OAAO,CAAC,aAAa,CAAC;YACjD,QAAQ,EAAE,EAAE,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,sCAAsC,CAAC,EAAE;YACxE,QAAQ,EAAE,EAAE,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,gCAAgC,CAAC,EAAE;SAClE,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACrB,MAAM,CAAC,EAAE,CAAC,mBAAmB,CAAC,CAAC;QAC/B,MAAM,CAAC,cAAc,CAAC,OAAO,mBAAmB,EAAE,QAAQ,CAAC,CAAC;QAC5D,IAAI,mBAAmB,iCAAyB,IAAI,mBAAmB,gCAAwB,EAAE,CAAC;YACjG,MAAM,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;YACtC,MAAM,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;YACtC,MAAM,CAAC,WAAW,CAAC,kBAAkB,EAAE,CAAC,CAAC,CAAC;YAC1C,MAAM,CAAC,WAAW,CAAC,mBAAmB,CAAC,MAAM,CAAC,MAAM,EAAE,mCAAmC,CAAC,CAAC;YAC3F,mBAAmB,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;QACtC,CAAC;aAAM,CAAC;YACP,MAAM,CAAC,IAAI,EAAE,CAAC;QACf,CAAC;QAED,mBAAmB,GAAG,MAAM,OAAO,CAAC,aAAa,CAAC;YACjD,QAAQ,EAAE,EAAE,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,gCAAgC,CAAC,EAAE;YAClE,QAAQ,EAAE,EAAE,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,sCAAsC,CAAC,EAAE;SACxE,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACrB,MAAM,CAAC,EAAE,CAAC,mBAAmB,CAAC,CAAC;QAC/B,MAAM,CAAC,cAAc,CAAC,OAAO,mBAAmB,EAAE,QAAQ,CAAC,CAAC;QAC5D,IAAI,mBAAmB,iCAAyB,IAAI,mBAAmB,gCAAwB,EAAE,CAAC;YACjG,MAAM,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;YACtC,MAAM,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;YACtC,MAAM,CAAC,WAAW,CAAC,kBAAkB,EAAE,CAAC,CAAC,CAAC;YAC1C,MAAM,CAAC,WAAW,CAAC,mBAAmB,CAAC,MAAM,CAAC,MAAM,EAAE,mCAAmC,CAAC,CAAC;YAC3F,mBAAmB,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;QACtC,CAAC;aAAM,CAAC;YACP,MAAM,CAAC,IAAI,EAAE,CAAC;QACf,CAAC;QAED,mBAAmB,GAAG,MAAM,OAAO,CAAC,aAAa,CAAC;YACjD,QAAQ,EAAE,EAAE,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,sCAAsC,CAAC,EAAE;YACxE,QAAQ,EAAE,EAAE,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,gCAAgC,CAAC,EAAE;YAClE,OAAO,EAAE,EAAE,QAAQ,EAAE,aAAa,EAAE;SACpC,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACrB,MAAM,CAAC,EAAE,CAAC,mBAAmB,CAAC,CAAC;QAC/B,MAAM,CAAC,cAAc,CAAC,OAAO,mBAAmB,EAAE,QAAQ,CAAC,CAAC;QAC5D,IAAI,mBAAmB,iCAAyB,IAAI,mBAAmB,gCAAwB,EAAE,CAAC;YACjG,MAAM,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;YACtC,MAAM,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;YACtC,MAAM,CAAC,WAAW,CAAC,kBAAkB,EAAE,CAAC,CAAC,CAAC;YAC1C,MAAM,CAAC,WAAW,CAAC,mBAAmB,CAAC,MAAM,CAAC,MAAM,EAAE,mCAAmC,CAAC,CAAC;YAC3F,mBAAmB,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;QACtC,CAAC;aAAM,CAAC;YACP,MAAM,CAAC,IAAI,EAAE,CAAC;QACf,CAAC;QAED,gBAAgB,CAAC,OAAO,EAAE,CAAC;QAC3B,sBAAsB,CAAC,OAAO,EAAE,CAAC;QACjC,uBAAuB,CAAC,OAAO,EAAE,CAAC;IACnC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,mBAAmB,EAAE,KAAK,IAAI,EAAE;QACpC,MAAM,CAAC,EAAE,OAAO,CAAC,GAAG,MAAM,2BAA2B,EAAE,CAAC;QAExD,IAAI,YAAY,GAAG,CAAC,CAAC;QACrB,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,8BAA8B,CAAC,GAAG,EAAE;YAC3D,YAAY,EAAE,CAAC;QAChB,CAAC,CAAC,CAAC,CAAC;QAEJ,MAAM,OAAO,GAAG,OAAO,CAAC,UAAU,EAAE,CAAC;QAErC,MAAM,gBAAgB,GAAG,OAAO,CAAC,cAAc,CAAC,QAAQ,EACvD;YACC,EAAE,EAAE,aAAa;YACjB,KAAK,EAAE,mBAAmB;YAC1B,MAAM,EAAE,qBAAqB;YAC7B,QAAQ,EAAE,wBAAwB,CAAC,OAAO;SAC1C,EACD,EAAE,EACF;YACC,iBAAiB,EAAE,CAAC,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,EAAE,MAAM,EAAE,IAAI,mBAAmB,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,EAAE,oBAAoB,CAAC,EAAE,CAAC;SAChJ,CACD,CAAC;QAEF,MAAM,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;QACpC,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC,MAAM,EAAE,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QACpE,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,KAAK,aAAa,CAAC,EAAE,IAAI,CAAC,CAAC;QAE3F,gBAAgB,CAAC,OAAO,EAAE,CAAC;QAE3B,MAAM,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;QACpC,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC,MAAM,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC;QAChE,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,KAAK,aAAa,CAAC,EAAE,KAAK,CAAC,CAAC;IAC7F,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,oDAAoD,EAAE,KAAK,IAAI,EAAE;QACrE,MAAM,CAAC,IAAI,EAAE,OAAO,EAAE,QAAQ,CAAC,GAAG,MAAM,2BAA2B,EAAE,CAAC;QACtE,MAAM,cAAc,GAAG;YACtB,EAAE,EAAE,aAAa;YACjB,KAAK,EAAE,mBAAmB;YAC1B,MAAM,EAAE,qBAAqB;YAC7B,QAAQ,EAAE,wBAAwB,CAAC,OAAO;SAC1C,CAAC;QACF,MAAM,sBAAsB,GAAG,OAAO,CAAC,cAAc,CAAC,QAAQ,EAC7D,cAAc,EACd,EAAE,EACF;YACC,iBAAiB,EAAE,CAAC,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC,EAAE,MAAM,EAAE,IAAI,mBAAmB,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,EAAE,oBAAoB,CAAC,EAAE,CAAC;SAChJ,CACD,CAAC;QAEF,MAAM,oBAAoB,GAAG,OAAO,CAAC,cAAc,CAAC,QAAQ,EAC3D,cAAc,EACd,EAAE,EACF;YACC,qBAAqB,EAAE,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC;gBACnE,MAAM,EAAE,QAAQ,CAAC,oBAAoB,CAAC,cAAc,CACnD,eAAe,EACf,MAAM,EACN,aAAa,EACb,kCAAkC,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,EAAE,oBAAoB,EAAE,WAAW,CAAC,EACrG,kCAAkC,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,EAAE,oBAAoB,EAAE,WAAW,CAAC,EACrG,SAAS,CAAC;aACX,CAAC;SACF,CACD,CAAC;QAEF,iBAAiB;QACjB,IAAI,mBAAmB,GAAG,MAAM,OAAO,CAAC,aAAa,CAAC;YACrD,QAAQ,EAAE,EAAE,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,2BAA2B,CAAC,EAAE;YAC7D,QAAQ,EAAE,EAAE,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,2BAA2B,CAAC,EAAE;SAC7D,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACrB,MAAM,CAAC,EAAE,CAAC,mBAAmB,CAAC,CAAC;QAC/B,MAAM,CAAC,cAAc,CAAC,OAAO,mBAAmB,EAAE,QAAQ,CAAC,CAAC;QAC5D,IAAI,mBAAmB,iCAAyB,IAAI,mBAAmB,gCAAwB,EAAE,CAAC;YACjG,MAAM,CAAC,WAAW,CAAC,mBAAmB,CAAC,MAAM,CAAC,MAAM,EAAE,mCAAmC,CAAC,CAAC;YAC3F,mBAAmB,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;QACtC,CAAC;aAAM,CAAC;YACP,MAAM,CAAC,IAAI,EAAE,CAAC;QACf,CAAC;QAED,2BAA2B;QAC3B,oBAAoB,CAAC,OAAO,EAAE,CAAC;QAE/B,yCAAyC;QACzC,mBAAmB,GAAG,MAAM,OAAO,CAAC,aAAa,CAAC;YACjD,QAAQ,EAAE,EAAE,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,2BAA2B,CAAC,EAAE;YAC7D,QAAQ,EAAE,EAAE,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,2BAA2B,CAAC,EAAE;SAC7D,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACrB,MAAM,CAAC,EAAE,CAAC,mBAAmB,CAAC,CAAC;QAC/B,MAAM,CAAC,WAAW,CAAC,OAAO,mBAAmB,EAAE,QAAQ,CAAC,CAAC;QACzD,IAAI,mBAAmB,gCAAwB,EAAE,CAAC;YACjD,MAAM,CAAC,IAAI,EAAE,CAAC;QACf,CAAC;QAED,sBAAsB,CAAC,OAAO,EAAE,CAAC;IAClC,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC,CAAC","file":"editorResolverService.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { Schemas } from '../../../../../base/common/network.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { EditorPart } from '../../../../browser/parts/editor/editorPart.js';\nimport { DiffEditorInput } from '../../../../common/editor/diffEditorInput.js';\nimport { EditorResolverService } from '../../browser/editorResolverService.js';\nimport { IEditorGroupsService } from '../../common/editorGroupsService.js';\nimport { IEditorResolverService, ResolvedStatus, RegisteredEditorPriority } from '../../common/editorResolverService.js';\nimport { createEditorPart, ITestInstantiationService, TestFileEditorInput, TestServiceAccessor, workbenchInstantiationService } from '../../../../test/browser/workbenchTestServices.js';\n\nsuite('EditorResolverService', () => {\n\n\tconst TEST_EDITOR_INPUT_ID = 'testEditorInputForEditorResolverService';\n\tconst disposables = new DisposableStore();\n\n\tteardown(() => disposables.clear());\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tasync function createEditorResolverService(instantiationService: ITestInstantiationService = workbenchInstantiationService(undefined, disposables)): Promise<[EditorPart, EditorResolverService, TestServiceAccessor]> {\n\t\tconst part = await createEditorPart(instantiationService, disposables);\n\t\tinstantiationService.stub(IEditorGroupsService, part);\n\n\t\tconst editorResolverService = instantiationService.createInstance(EditorResolverService);\n\t\tinstantiationService.stub(IEditorResolverService, editorResolverService);\n\t\tdisposables.add(editorResolverService);\n\n\t\treturn [part, editorResolverService, instantiationService.createInstance(TestServiceAccessor)];\n\t}\n\n\tfunction constructDisposableFileEditorInput(uri: URI, typeId: string, store: DisposableStore): TestFileEditorInput {\n\t\tconst editor = new TestFileEditorInput(uri, typeId);\n\t\tstore.add(editor);\n\t\treturn editor;\n\t}\n\n\ttest('Simple Resolve', async () => {\n\t\tconst [part, service] = await createEditorResolverService();\n\t\tconst registeredEditor = service.registerEditor('*.test',\n\t\t\t{\n\t\t\t\tid: 'TEST_EDITOR',\n\t\t\t\tlabel: 'Test Editor Label',\n\t\t\t\tdetail: 'Test Editor Details',\n\t\t\t\tpriority: RegisteredEditorPriority.default\n\t\t\t},\n\t\t\t{},\n\t\t\t{\n\t\t\t\tcreateEditorInput: ({ resource, options }, group) => ({ editor: new TestFileEditorInput(URI.parse(resource.toString()), TEST_EDITOR_INPUT_ID) }),\n\t\t\t}\n\t\t);\n\n\t\tconst resultingResolution = await service.resolveEditor({ resource: URI.file('my://resource-basics.test') }, part.activeGroup);\n\t\tassert.ok(resultingResolution);\n\t\tassert.notStrictEqual(typeof resultingResolution, 'number');\n\t\tif (resultingResolution !== ResolvedStatus.ABORT && resultingResolution !== ResolvedStatus.NONE) {\n\t\t\tassert.strictEqual(resultingResolution.editor.typeId, TEST_EDITOR_INPUT_ID);\n\t\t\tresultingResolution.editor.dispose();\n\t\t}\n\t\tregisteredEditor.dispose();\n\t});\n\n\ttest('Untitled Resolve', async () => {\n\t\tconst UNTITLED_TEST_EDITOR_INPUT_ID = 'UNTITLED_TEST_INPUT';\n\t\tconst [part, service] = await createEditorResolverService();\n\t\tconst registeredEditor = service.registerEditor('*.test',\n\t\t\t{\n\t\t\t\tid: 'TEST_EDITOR',\n\t\t\t\tlabel: 'Test Editor Label',\n\t\t\t\tdetail: 'Test Editor Details',\n\t\t\t\tpriority: RegisteredEditorPriority.default\n\t\t\t},\n\t\t\t{},\n\t\t\t{\n\t\t\t\tcreateEditorInput: ({ resource, options }, group) => ({ editor: new TestFileEditorInput(URI.parse(resource.toString()), TEST_EDITOR_INPUT_ID) }),\n\t\t\t\tcreateUntitledEditorInput: ({ resource, options }, group) => ({ editor: new TestFileEditorInput((resource ? resource : URI.from({ scheme: Schemas.untitled })), UNTITLED_TEST_EDITOR_INPUT_ID) }),\n\t\t\t}\n\t\t);\n\n\t\t// Untyped untitled - no resource\n\t\tlet resultingResolution = await service.resolveEditor({ resource: undefined }, part.activeGroup);\n\t\tassert.ok(resultingResolution);\n\t\t// We don't expect untitled to match the *.test glob\n\t\tassert.strictEqual(typeof resultingResolution, 'number');\n\n\t\t// Untyped untitled - with untitled resource\n\t\tresultingResolution = await service.resolveEditor({ resource: URI.from({ scheme: Schemas.untitled, path: 'foo.test' }) }, part.activeGroup);\n\t\tassert.ok(resultingResolution);\n\t\tassert.notStrictEqual(typeof resultingResolution, 'number');\n\t\tif (resultingResolution !== ResolvedStatus.ABORT && resultingResolution !== ResolvedStatus.NONE) {\n\t\t\tassert.strictEqual(resultingResolution.editor.typeId, UNTITLED_TEST_EDITOR_INPUT_ID);\n\t\t\tresultingResolution.editor.dispose();\n\t\t}\n\n\t\t// Untyped untitled - file resource with forceUntitled\n\t\tresultingResolution = await service.resolveEditor({ resource: URI.file('/fake.test'), forceUntitled: true }, part.activeGroup);\n\t\tassert.ok(resultingResolution);\n\t\tassert.notStrictEqual(typeof resultingResolution, 'number');\n\t\tif (resultingResolution !== ResolvedStatus.ABORT && resultingResolution !== ResolvedStatus.NONE) {\n\t\t\tassert.strictEqual(resultingResolution.editor.typeId, UNTITLED_TEST_EDITOR_INPUT_ID);\n\t\t\tresultingResolution.editor.dispose();\n\t\t}\n\n\t\tregisteredEditor.dispose();\n\t});\n\n\ttest('Side by side Resolve', async () => {\n\t\tconst [part, service] = await createEditorResolverService();\n\t\tconst registeredEditorPrimary = service.registerEditor('*.test-primary',\n\t\t\t{\n\t\t\t\tid: 'TEST_EDITOR_PRIMARY',\n\t\t\t\tlabel: 'Test Editor Label Primary',\n\t\t\t\tdetail: 'Test Editor Details Primary',\n\t\t\t\tpriority: RegisteredEditorPriority.default\n\t\t\t},\n\t\t\t{},\n\t\t\t{\n\t\t\t\tcreateEditorInput: ({ resource, options }, group) => ({ editor: constructDisposableFileEditorInput(URI.parse(resource.toString()), TEST_EDITOR_INPUT_ID, disposables) }),\n\t\t\t}\n\t\t);\n\n\t\tconst registeredEditorSecondary = service.registerEditor('*.test-secondary',\n\t\t\t{\n\t\t\t\tid: 'TEST_EDITOR_SECONDARY',\n\t\t\t\tlabel: 'Test Editor Label Secondary',\n\t\t\t\tdetail: 'Test Editor Details Secondary',\n\t\t\t\tpriority: RegisteredEditorPriority.default\n\t\t\t},\n\t\t\t{},\n\t\t\t{\n\t\t\t\tcreateEditorInput: ({ resource, options }, group) => ({ editor: constructDisposableFileEditorInput(URI.parse(resource.toString()), TEST_EDITOR_INPUT_ID, disposables) }),\n\t\t\t}\n\t\t);\n\n\t\tconst resultingResolution = await service.resolveEditor({\n\t\t\tprimary: { resource: URI.file('my://resource-basics.test-primary') },\n\t\t\tsecondary: { resource: URI.file('my://resource-basics.test-secondary') }\n\t\t}, part.activeGroup);\n\t\tassert.ok(resultingResolution);\n\t\tassert.notStrictEqual(typeof resultingResolution, 'number');\n\t\tif (resultingResolution !== ResolvedStatus.ABORT && resultingResolution !== ResolvedStatus.NONE) {\n\t\t\tassert.strictEqual(resultingResolution.editor.typeId, 'workbench.editorinputs.sidebysideEditorInput');\n\t\t\tresultingResolution.editor.dispose();\n\t\t} else {\n\t\t\tassert.fail();\n\t\t}\n\t\tregisteredEditorPrimary.dispose();\n\t\tregisteredEditorSecondary.dispose();\n\t});\n\n\ttest('Diff editor Resolve', async () => {\n\t\tconst [part, service, accessor] = await createEditorResolverService();\n\t\tconst registeredEditor = service.registerEditor('*.test-diff',\n\t\t\t{\n\t\t\t\tid: 'TEST_EDITOR',\n\t\t\t\tlabel: 'Test Editor Label',\n\t\t\t\tdetail: 'Test Editor Details',\n\t\t\t\tpriority: RegisteredEditorPriority.default\n\t\t\t},\n\t\t\t{},\n\t\t\t{\n\t\t\t\tcreateEditorInput: ({ resource, options }, group) => ({ editor: constructDisposableFileEditorInput(URI.parse(resource.toString()), TEST_EDITOR_INPUT_ID, disposables) }),\n\t\t\t\tcreateDiffEditorInput: ({ modified, original, options }, group) => ({\n\t\t\t\t\teditor: accessor.instantiationService.createInstance(\n\t\t\t\t\t\tDiffEditorInput,\n\t\t\t\t\t\t'name',\n\t\t\t\t\t\t'description',\n\t\t\t\t\t\tconstructDisposableFileEditorInput(URI.parse(original.toString()), TEST_EDITOR_INPUT_ID, disposables),\n\t\t\t\t\t\tconstructDisposableFileEditorInput(URI.parse(modified.toString()), TEST_EDITOR_INPUT_ID, disposables),\n\t\t\t\t\t\tundefined)\n\t\t\t\t})\n\t\t\t}\n\t\t);\n\n\t\tconst resultingResolution = await service.resolveEditor({\n\t\t\toriginal: { resource: URI.file('my://resource-basics.test-diff') },\n\t\t\tmodified: { resource: URI.file('my://resource-basics.test-diff') }\n\t\t}, part.activeGroup);\n\t\tassert.ok(resultingResolution);\n\t\tassert.notStrictEqual(typeof resultingResolution, 'number');\n\t\tif (resultingResolution !== ResolvedStatus.ABORT && resultingResolution !== ResolvedStatus.NONE) {\n\t\t\tassert.strictEqual(resultingResolution.editor.typeId, 'workbench.editors.diffEditorInput');\n\t\t\tresultingResolution.editor.dispose();\n\t\t} else {\n\t\t\tassert.fail();\n\t\t}\n\t\tregisteredEditor.dispose();\n\t});\n\n\ttest('Diff editor Resolve - Different Types', async () => {\n\t\tconst [part, service, accessor] = await createEditorResolverService();\n\t\tlet diffOneCounter = 0;\n\t\tlet diffTwoCounter = 0;\n\t\tlet defaultDiffCounter = 0;\n\t\tconst registeredEditor = service.registerEditor('*.test-diff',\n\t\t\t{\n\t\t\t\tid: 'TEST_EDITOR',\n\t\t\t\tlabel: 'Test Editor Label',\n\t\t\t\tdetail: 'Test Editor Details',\n\t\t\t\tpriority: RegisteredEditorPriority.default\n\t\t\t},\n\t\t\t{},\n\t\t\t{\n\t\t\t\tcreateEditorInput: ({ resource, options }, group) => ({ editor: constructDisposableFileEditorInput(URI.parse(resource.toString()), TEST_EDITOR_INPUT_ID, disposables) }),\n\t\t\t\tcreateDiffEditorInput: ({ modified, original, options }, group) => {\n\t\t\t\t\tdiffOneCounter++;\n\t\t\t\t\treturn {\n\t\t\t\t\t\teditor: accessor.instantiationService.createInstance(\n\t\t\t\t\t\t\tDiffEditorInput,\n\t\t\t\t\t\t\t'name',\n\t\t\t\t\t\t\t'description',\n\t\t\t\t\t\t\tconstructDisposableFileEditorInput(URI.parse(original.toString()), TEST_EDITOR_INPUT_ID, disposables),\n\t\t\t\t\t\t\tconstructDisposableFileEditorInput(URI.parse(modified.toString()), TEST_EDITOR_INPUT_ID, disposables),\n\t\t\t\t\t\t\tundefined)\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tconst secondRegisteredEditor = service.registerEditor('*.test-secondDiff',\n\t\t\t{\n\t\t\t\tid: 'TEST_EDITOR_2',\n\t\t\t\tlabel: 'Test Editor Label',\n\t\t\t\tdetail: 'Test Editor Details',\n\t\t\t\tpriority: RegisteredEditorPriority.default\n\t\t\t},\n\t\t\t{},\n\t\t\t{\n\t\t\t\tcreateEditorInput: ({ resource, options }, group) => ({ editor: new TestFileEditorInput(URI.parse(resource.toString()), TEST_EDITOR_INPUT_ID) }),\n\t\t\t\tcreateDiffEditorInput: ({ modified, original, options }, group) => {\n\t\t\t\t\tdiffTwoCounter++;\n\t\t\t\t\treturn {\n\t\t\t\t\t\teditor: accessor.instantiationService.createInstance(\n\t\t\t\t\t\t\tDiffEditorInput,\n\t\t\t\t\t\t\t'name',\n\t\t\t\t\t\t\t'description',\n\t\t\t\t\t\t\tconstructDisposableFileEditorInput(URI.parse(original.toString()), TEST_EDITOR_INPUT_ID, disposables),\n\t\t\t\t\t\t\tconstructDisposableFileEditorInput(URI.parse(modified.toString()), TEST_EDITOR_INPUT_ID, disposables),\n\t\t\t\t\t\t\tundefined)\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tconst defaultRegisteredEditor = service.registerEditor('*',\n\t\t\t{\n\t\t\t\tid: 'default',\n\t\t\t\tlabel: 'Test Editor Label',\n\t\t\t\tdetail: 'Test Editor Details',\n\t\t\t\tpriority: RegisteredEditorPriority.option\n\t\t\t},\n\t\t\t{},\n\t\t\t{\n\t\t\t\tcreateEditorInput: ({ resource, options }, group) => ({ editor: new TestFileEditorInput(URI.parse(resource.toString()), TEST_EDITOR_INPUT_ID) }),\n\t\t\t\tcreateDiffEditorInput: ({ modified, original, options }, group) => {\n\t\t\t\t\tdefaultDiffCounter++;\n\t\t\t\t\treturn {\n\t\t\t\t\t\teditor: accessor.instantiationService.createInstance(\n\t\t\t\t\t\t\tDiffEditorInput,\n\t\t\t\t\t\t\t'name',\n\t\t\t\t\t\t\t'description',\n\t\t\t\t\t\t\tconstructDisposableFileEditorInput(URI.parse(original.toString()), TEST_EDITOR_INPUT_ID, disposables),\n\t\t\t\t\t\t\tconstructDisposableFileEditorInput(URI.parse(modified.toString()), TEST_EDITOR_INPUT_ID, disposables),\n\t\t\t\t\t\t\tundefined)\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tlet resultingResolution = await service.resolveEditor({\n\t\t\toriginal: { resource: URI.file('my://resource-basics.test-diff') },\n\t\t\tmodified: { resource: URI.file('my://resource-basics.test-diff') }\n\t\t}, part.activeGroup);\n\t\tassert.ok(resultingResolution);\n\t\tassert.notStrictEqual(typeof resultingResolution, 'number');\n\t\tif (resultingResolution !== ResolvedStatus.ABORT && resultingResolution !== ResolvedStatus.NONE) {\n\t\t\tassert.strictEqual(diffOneCounter, 1);\n\t\t\tassert.strictEqual(diffTwoCounter, 0);\n\t\t\tassert.strictEqual(defaultDiffCounter, 0);\n\t\t\tassert.strictEqual(resultingResolution.editor.typeId, 'workbench.editors.diffEditorInput');\n\t\t\tresultingResolution.editor.dispose();\n\t\t} else {\n\t\t\tassert.fail();\n\t\t}\n\n\t\tresultingResolution = await service.resolveEditor({\n\t\t\toriginal: { resource: URI.file('my://resource-basics.test-secondDiff') },\n\t\t\tmodified: { resource: URI.file('my://resource-basics.test-secondDiff') }\n\t\t}, part.activeGroup);\n\t\tassert.ok(resultingResolution);\n\t\tassert.notStrictEqual(typeof resultingResolution, 'number');\n\t\tif (resultingResolution !== ResolvedStatus.ABORT && resultingResolution !== ResolvedStatus.NONE) {\n\t\t\tassert.strictEqual(diffOneCounter, 1);\n\t\t\tassert.strictEqual(diffTwoCounter, 1);\n\t\t\tassert.strictEqual(defaultDiffCounter, 0);\n\t\t\tassert.strictEqual(resultingResolution.editor.typeId, 'workbench.editors.diffEditorInput');\n\t\t\tresultingResolution.editor.dispose();\n\t\t} else {\n\t\t\tassert.fail();\n\t\t}\n\n\t\tresultingResolution = await service.resolveEditor({\n\t\t\toriginal: { resource: URI.file('my://resource-basics.test-secondDiff') },\n\t\t\tmodified: { resource: URI.file('my://resource-basics.test-diff') }\n\t\t}, part.activeGroup);\n\t\tassert.ok(resultingResolution);\n\t\tassert.notStrictEqual(typeof resultingResolution, 'number');\n\t\tif (resultingResolution !== ResolvedStatus.ABORT && resultingResolution !== ResolvedStatus.NONE) {\n\t\t\tassert.strictEqual(diffOneCounter, 1);\n\t\t\tassert.strictEqual(diffTwoCounter, 1);\n\t\t\tassert.strictEqual(defaultDiffCounter, 1);\n\t\t\tassert.strictEqual(resultingResolution.editor.typeId, 'workbench.editors.diffEditorInput');\n\t\t\tresultingResolution.editor.dispose();\n\t\t} else {\n\t\t\tassert.fail();\n\t\t}\n\n\t\tresultingResolution = await service.resolveEditor({\n\t\t\toriginal: { resource: URI.file('my://resource-basics.test-diff') },\n\t\t\tmodified: { resource: URI.file('my://resource-basics.test-secondDiff') }\n\t\t}, part.activeGroup);\n\t\tassert.ok(resultingResolution);\n\t\tassert.notStrictEqual(typeof resultingResolution, 'number');\n\t\tif (resultingResolution !== ResolvedStatus.ABORT && resultingResolution !== ResolvedStatus.NONE) {\n\t\t\tassert.strictEqual(diffOneCounter, 1);\n\t\t\tassert.strictEqual(diffTwoCounter, 1);\n\t\t\tassert.strictEqual(defaultDiffCounter, 2);\n\t\t\tassert.strictEqual(resultingResolution.editor.typeId, 'workbench.editors.diffEditorInput');\n\t\t\tresultingResolution.editor.dispose();\n\t\t} else {\n\t\t\tassert.fail();\n\t\t}\n\n\t\tresultingResolution = await service.resolveEditor({\n\t\t\toriginal: { resource: URI.file('my://resource-basics.test-secondDiff') },\n\t\t\tmodified: { resource: URI.file('my://resource-basics.test-diff') },\n\t\t\toptions: { override: 'TEST_EDITOR' }\n\t\t}, part.activeGroup);\n\t\tassert.ok(resultingResolution);\n\t\tassert.notStrictEqual(typeof resultingResolution, 'number');\n\t\tif (resultingResolution !== ResolvedStatus.ABORT && resultingResolution !== ResolvedStatus.NONE) {\n\t\t\tassert.strictEqual(diffOneCounter, 2);\n\t\t\tassert.strictEqual(diffTwoCounter, 1);\n\t\t\tassert.strictEqual(defaultDiffCounter, 2);\n\t\t\tassert.strictEqual(resultingResolution.editor.typeId, 'workbench.editors.diffEditorInput');\n\t\t\tresultingResolution.editor.dispose();\n\t\t} else {\n\t\t\tassert.fail();\n\t\t}\n\n\t\tregisteredEditor.dispose();\n\t\tsecondRegisteredEditor.dispose();\n\t\tdefaultRegisteredEditor.dispose();\n\t});\n\n\ttest('Registry & Events', async () => {\n\t\tconst [, service] = await createEditorResolverService();\n\n\t\tlet eventCounter = 0;\n\t\tdisposables.add(service.onDidChangeEditorRegistrations(() => {\n\t\t\teventCounter++;\n\t\t}));\n\n\t\tconst editors = service.getEditors();\n\n\t\tconst registeredEditor = service.registerEditor('*.test',\n\t\t\t{\n\t\t\t\tid: 'TEST_EDITOR',\n\t\t\t\tlabel: 'Test Editor Label',\n\t\t\t\tdetail: 'Test Editor Details',\n\t\t\t\tpriority: RegisteredEditorPriority.default\n\t\t\t},\n\t\t\t{},\n\t\t\t{\n\t\t\t\tcreateEditorInput: ({ resource, options }, group) => ({ editor: new TestFileEditorInput(URI.parse(resource.toString()), TEST_EDITOR_INPUT_ID) })\n\t\t\t}\n\t\t);\n\n\t\tassert.strictEqual(eventCounter, 1);\n\t\tassert.strictEqual(service.getEditors().length, editors.length + 1);\n\t\tassert.strictEqual(service.getEditors().some(editor => editor.id === 'TEST_EDITOR'), true);\n\n\t\tregisteredEditor.dispose();\n\n\t\tassert.strictEqual(eventCounter, 2);\n\t\tassert.strictEqual(service.getEditors().length, editors.length);\n\t\tassert.strictEqual(service.getEditors().some(editor => editor.id === 'TEST_EDITOR'), false);\n\t});\n\n\ttest('Multiple registrations to same glob and id #155859', async () => {\n\t\tconst [part, service, accessor] = await createEditorResolverService();\n\t\tconst testEditorInfo = {\n\t\t\tid: 'TEST_EDITOR',\n\t\t\tlabel: 'Test Editor Label',\n\t\t\tdetail: 'Test Editor Details',\n\t\t\tpriority: RegisteredEditorPriority.default\n\t\t};\n\t\tconst registeredSingleEditor = service.registerEditor('*.test',\n\t\t\ttestEditorInfo,\n\t\t\t{},\n\t\t\t{\n\t\t\t\tcreateEditorInput: ({ resource, options }, group) => ({ editor: new TestFileEditorInput(URI.parse(resource.toString()), TEST_EDITOR_INPUT_ID) })\n\t\t\t}\n\t\t);\n\n\t\tconst registeredDiffEditor = service.registerEditor('*.test',\n\t\t\ttestEditorInfo,\n\t\t\t{},\n\t\t\t{\n\t\t\t\tcreateDiffEditorInput: ({ modified, original, options }, group) => ({\n\t\t\t\t\teditor: accessor.instantiationService.createInstance(\n\t\t\t\t\t\tDiffEditorInput,\n\t\t\t\t\t\t'name',\n\t\t\t\t\t\t'description',\n\t\t\t\t\t\tconstructDisposableFileEditorInput(URI.parse(original.toString()), TEST_EDITOR_INPUT_ID, disposables),\n\t\t\t\t\t\tconstructDisposableFileEditorInput(URI.parse(modified.toString()), TEST_EDITOR_INPUT_ID, disposables),\n\t\t\t\t\t\tundefined)\n\t\t\t\t})\n\t\t\t}\n\t\t);\n\n\t\t// Resolve a diff\n\t\tlet resultingResolution = await service.resolveEditor({\n\t\t\toriginal: { resource: URI.file('my://resource-basics.test') },\n\t\t\tmodified: { resource: URI.file('my://resource-basics.test') }\n\t\t}, part.activeGroup);\n\t\tassert.ok(resultingResolution);\n\t\tassert.notStrictEqual(typeof resultingResolution, 'number');\n\t\tif (resultingResolution !== ResolvedStatus.ABORT && resultingResolution !== ResolvedStatus.NONE) {\n\t\t\tassert.strictEqual(resultingResolution.editor.typeId, 'workbench.editors.diffEditorInput');\n\t\t\tresultingResolution.editor.dispose();\n\t\t} else {\n\t\t\tassert.fail();\n\t\t}\n\n\t\t// Remove diff registration\n\t\tregisteredDiffEditor.dispose();\n\n\t\t// Resolve a diff again, expected failure\n\t\tresultingResolution = await service.resolveEditor({\n\t\t\toriginal: { resource: URI.file('my://resource-basics.test') },\n\t\t\tmodified: { resource: URI.file('my://resource-basics.test') }\n\t\t}, part.activeGroup);\n\t\tassert.ok(resultingResolution);\n\t\tassert.strictEqual(typeof resultingResolution, 'number');\n\t\tif (resultingResolution !== ResolvedStatus.NONE) {\n\t\t\tassert.fail();\n\t\t}\n\n\t\tregisteredSingleEditor.dispose();\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { Schemas } from '../../../../../base/common/network.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { EditorPart } from '../../../../browser/parts/editor/editorPart.js';\nimport { DiffEditorInput } from '../../../../common/editor/diffEditorInput.js';\nimport { EditorResolverService } from '../../browser/editorResolverService.js';\nimport { IEditorGroupsService } from '../../common/editorGroupsService.js';\nimport { IEditorResolverService, ResolvedStatus, RegisteredEditorPriority } from '../../common/editorResolverService.js';\nimport { createEditorPart, ITestInstantiationService, TestFileEditorInput, TestServiceAccessor, workbenchInstantiationService } from '../../../../test/browser/workbenchTestServices.js';\n\nsuite('EditorResolverService', () => {\n\n\tconst TEST_EDITOR_INPUT_ID = 'testEditorInputForEditorResolverService';\n\tconst disposables = new DisposableStore();\n\n\tteardown(() => disposables.clear());\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tasync function createEditorResolverService(instantiationService: ITestInstantiationService = workbenchInstantiationService(undefined, disposables)): Promise<[EditorPart, EditorResolverService, TestServiceAccessor]> {\n\t\tconst part = await createEditorPart(instantiationService, disposables);\n\t\tinstantiationService.stub(IEditorGroupsService, part);\n\n\t\tconst editorResolverService = instantiationService.createInstance(EditorResolverService);\n\t\tinstantiationService.stub(IEditorResolverService, editorResolverService);\n\t\tdisposables.add(editorResolverService);\n\n\t\treturn [part, editorResolverService, instantiationService.createInstance(TestServiceAccessor)];\n\t}\n\n\tfunction constructDisposableFileEditorInput(uri: URI, typeId: string, store: DisposableStore): TestFileEditorInput {\n\t\tconst editor = new TestFileEditorInput(uri, typeId);\n\t\tstore.add(editor);\n\t\treturn editor;\n\t}\n\n\ttest('Simple Resolve', async () => {\n\t\tconst [part, service] = await createEditorResolverService();\n\t\tconst registeredEditor = service.registerEditor('*.test',\n\t\t\t{\n\t\t\t\tid: 'TEST_EDITOR',\n\t\t\t\tlabel: 'Test Editor Label',\n\t\t\t\tdetail: 'Test Editor Details',\n\t\t\t\tpriority: RegisteredEditorPriority.default\n\t\t\t},\n\t\t\t{},\n\t\t\t{\n\t\t\t\tcreateEditorInput: ({ resource, options }, group) => ({ editor: new TestFileEditorInput(URI.parse(resource.toString()), TEST_EDITOR_INPUT_ID) }),\n\t\t\t}\n\t\t);\n\n\t\tconst resultingResolution = await service.resolveEditor({ resource: URI.file('my://resource-basics.test') }, part.activeGroup);\n\t\tassert.ok(resultingResolution);\n\t\tassert.notStrictEqual(typeof resultingResolution, 'number');\n\t\tif (resultingResolution !== ResolvedStatus.ABORT && resultingResolution !== ResolvedStatus.NONE) {\n\t\t\tassert.strictEqual(resultingResolution.editor.typeId, TEST_EDITOR_INPUT_ID);\n\t\t\tresultingResolution.editor.dispose();\n\t\t}\n\t\tregisteredEditor.dispose();\n\t});\n\n\ttest('Untitled Resolve', async () => {\n\t\tconst UNTITLED_TEST_EDITOR_INPUT_ID = 'UNTITLED_TEST_INPUT';\n\t\tconst [part, service] = await createEditorResolverService();\n\t\tconst registeredEditor = service.registerEditor('*.test',\n\t\t\t{\n\t\t\t\tid: 'TEST_EDITOR',\n\t\t\t\tlabel: 'Test Editor Label',\n\t\t\t\tdetail: 'Test Editor Details',\n\t\t\t\tpriority: RegisteredEditorPriority.default\n\t\t\t},\n\t\t\t{},\n\t\t\t{\n\t\t\t\tcreateEditorInput: ({ resource, options }, group) => ({ editor: new TestFileEditorInput(URI.parse(resource.toString()), TEST_EDITOR_INPUT_ID) }),\n\t\t\t\tcreateUntitledEditorInput: ({ resource, options }, group) => ({ editor: new TestFileEditorInput((resource ? resource : URI.from({ scheme: Schemas.untitled })), UNTITLED_TEST_EDITOR_INPUT_ID) }),\n\t\t\t}\n\t\t);\n\n\t\t// Untyped untitled - no resource\n\t\tlet resultingResolution = await service.resolveEditor({ resource: undefined }, part.activeGroup);\n\t\tassert.ok(resultingResolution);\n\t\t// We don't expect untitled to match the *.test glob\n\t\tassert.strictEqual(typeof resultingResolution, 'number');\n\n\t\t// Untyped untitled - with untitled resource\n\t\tresultingResolution = await service.resolveEditor({ resource: URI.from({ scheme: Schemas.untitled, path: 'foo.test' }) }, part.activeGroup);\n\t\tassert.ok(resultingResolution);\n\t\tassert.notStrictEqual(typeof resultingResolution, 'number');\n\t\tif (resultingResolution !== ResolvedStatus.ABORT && resultingResolution !== ResolvedStatus.NONE) {\n\t\t\tassert.strictEqual(resultingResolution.editor.typeId, UNTITLED_TEST_EDITOR_INPUT_ID);\n\t\t\tresultingResolution.editor.dispose();\n\t\t}\n\n\t\t// Untyped untitled - file resource with forceUntitled\n\t\tresultingResolution = await service.resolveEditor({ resource: URI.file('/fake.test'), forceUntitled: true }, part.activeGroup);\n\t\tassert.ok(resultingResolution);\n\t\tassert.notStrictEqual(typeof resultingResolution, 'number');\n\t\tif (resultingResolution !== ResolvedStatus.ABORT && resultingResolution !== ResolvedStatus.NONE) {\n\t\t\tassert.strictEqual(resultingResolution.editor.typeId, UNTITLED_TEST_EDITOR_INPUT_ID);\n\t\t\tresultingResolution.editor.dispose();\n\t\t}\n\n\t\tregisteredEditor.dispose();\n\t});\n\n\ttest('Side by side Resolve', async () => {\n\t\tconst [part, service] = await createEditorResolverService();\n\t\tconst registeredEditorPrimary = service.registerEditor('*.test-primary',\n\t\t\t{\n\t\t\t\tid: 'TEST_EDITOR_PRIMARY',\n\t\t\t\tlabel: 'Test Editor Label Primary',\n\t\t\t\tdetail: 'Test Editor Details Primary',\n\t\t\t\tpriority: RegisteredEditorPriority.default\n\t\t\t},\n\t\t\t{},\n\t\t\t{\n\t\t\t\tcreateEditorInput: ({ resource, options }, group) => ({ editor: constructDisposableFileEditorInput(URI.parse(resource.toString()), TEST_EDITOR_INPUT_ID, disposables) }),\n\t\t\t}\n\t\t);\n\n\t\tconst registeredEditorSecondary = service.registerEditor('*.test-secondary',\n\t\t\t{\n\t\t\t\tid: 'TEST_EDITOR_SECONDARY',\n\t\t\t\tlabel: 'Test Editor Label Secondary',\n\t\t\t\tdetail: 'Test Editor Details Secondary',\n\t\t\t\tpriority: RegisteredEditorPriority.default\n\t\t\t},\n\t\t\t{},\n\t\t\t{\n\t\t\t\tcreateEditorInput: ({ resource, options }, group) => ({ editor: constructDisposableFileEditorInput(URI.parse(resource.toString()), TEST_EDITOR_INPUT_ID, disposables) }),\n\t\t\t}\n\t\t);\n\n\t\tconst resultingResolution = await service.resolveEditor({\n\t\t\tprimary: { resource: URI.file('my://resource-basics.test-primary') },\n\t\t\tsecondary: { resource: URI.file('my://resource-basics.test-secondary') }\n\t\t}, part.activeGroup);\n\t\tassert.ok(resultingResolution);\n\t\tassert.notStrictEqual(typeof resultingResolution, 'number');\n\t\tif (resultingResolution !== ResolvedStatus.ABORT && resultingResolution !== ResolvedStatus.NONE) {\n\t\t\tassert.strictEqual(resultingResolution.editor.typeId, 'workbench.editorinputs.sidebysideEditorInput');\n\t\t\tresultingResolution.editor.dispose();\n\t\t} else {\n\t\t\tassert.fail();\n\t\t}\n\t\tregisteredEditorPrimary.dispose();\n\t\tregisteredEditorSecondary.dispose();\n\t});\n\n\ttest('Diff editor Resolve', async () => {\n\t\tconst [part, service, accessor] = await createEditorResolverService();\n\t\tconst registeredEditor = service.registerEditor('*.test-diff',\n\t\t\t{\n\t\t\t\tid: 'TEST_EDITOR',\n\t\t\t\tlabel: 'Test Editor Label',\n\t\t\t\tdetail: 'Test Editor Details',\n\t\t\t\tpriority: RegisteredEditorPriority.default\n\t\t\t},\n\t\t\t{},\n\t\t\t{\n\t\t\t\tcreateEditorInput: ({ resource, options }, group) => ({ editor: constructDisposableFileEditorInput(URI.parse(resource.toString()), TEST_EDITOR_INPUT_ID, disposables) }),\n\t\t\t\tcreateDiffEditorInput: ({ modified, original, options }, group) => ({\n\t\t\t\t\teditor: accessor.instantiationService.createInstance(\n\t\t\t\t\t\tDiffEditorInput,\n\t\t\t\t\t\t'name',\n\t\t\t\t\t\t'description',\n\t\t\t\t\t\tconstructDisposableFileEditorInput(URI.parse(original.toString()), TEST_EDITOR_INPUT_ID, disposables),\n\t\t\t\t\t\tconstructDisposableFileEditorInput(URI.parse(modified.toString()), TEST_EDITOR_INPUT_ID, disposables),\n\t\t\t\t\t\tundefined)\n\t\t\t\t})\n\t\t\t}\n\t\t);\n\n\t\tconst resultingResolution = await service.resolveEditor({\n\t\t\toriginal: { resource: URI.file('my://resource-basics.test-diff') },\n\t\t\tmodified: { resource: URI.file('my://resource-basics.test-diff') }\n\t\t}, part.activeGroup);\n\t\tassert.ok(resultingResolution);\n\t\tassert.notStrictEqual(typeof resultingResolution, 'number');\n\t\tif (resultingResolution !== ResolvedStatus.ABORT && resultingResolution !== ResolvedStatus.NONE) {\n\t\t\tassert.strictEqual(resultingResolution.editor.typeId, 'workbench.editors.diffEditorInput');\n\t\t\tresultingResolution.editor.dispose();\n\t\t} else {\n\t\t\tassert.fail();\n\t\t}\n\t\tregisteredEditor.dispose();\n\t});\n\n\ttest('Diff editor Resolve - Different Types', async () => {\n\t\tconst [part, service, accessor] = await createEditorResolverService();\n\t\tlet diffOneCounter = 0;\n\t\tlet diffTwoCounter = 0;\n\t\tlet defaultDiffCounter = 0;\n\t\tconst registeredEditor = service.registerEditor('*.test-diff',\n\t\t\t{\n\t\t\t\tid: 'TEST_EDITOR',\n\t\t\t\tlabel: 'Test Editor Label',\n\t\t\t\tdetail: 'Test Editor Details',\n\t\t\t\tpriority: RegisteredEditorPriority.default\n\t\t\t},\n\t\t\t{},\n\t\t\t{\n\t\t\t\tcreateEditorInput: ({ resource, options }, group) => ({ editor: constructDisposableFileEditorInput(URI.parse(resource.toString()), TEST_EDITOR_INPUT_ID, disposables) }),\n\t\t\t\tcreateDiffEditorInput: ({ modified, original, options }, group) => {\n\t\t\t\t\tdiffOneCounter++;\n\t\t\t\t\treturn {\n\t\t\t\t\t\teditor: accessor.instantiationService.createInstance(\n\t\t\t\t\t\t\tDiffEditorInput,\n\t\t\t\t\t\t\t'name',\n\t\t\t\t\t\t\t'description',\n\t\t\t\t\t\t\tconstructDisposableFileEditorInput(URI.parse(original.toString()), TEST_EDITOR_INPUT_ID, disposables),\n\t\t\t\t\t\t\tconstructDisposableFileEditorInput(URI.parse(modified.toString()), TEST_EDITOR_INPUT_ID, disposables),\n\t\t\t\t\t\t\tundefined)\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tconst secondRegisteredEditor = service.registerEditor('*.test-secondDiff',\n\t\t\t{\n\t\t\t\tid: 'TEST_EDITOR_2',\n\t\t\t\tlabel: 'Test Editor Label',\n\t\t\t\tdetail: 'Test Editor Details',\n\t\t\t\tpriority: RegisteredEditorPriority.default\n\t\t\t},\n\t\t\t{},\n\t\t\t{\n\t\t\t\tcreateEditorInput: ({ resource, options }, group) => ({ editor: new TestFileEditorInput(URI.parse(resource.toString()), TEST_EDITOR_INPUT_ID) }),\n\t\t\t\tcreateDiffEditorInput: ({ modified, original, options }, group) => {\n\t\t\t\t\tdiffTwoCounter++;\n\t\t\t\t\treturn {\n\t\t\t\t\t\teditor: accessor.instantiationService.createInstance(\n\t\t\t\t\t\t\tDiffEditorInput,\n\t\t\t\t\t\t\t'name',\n\t\t\t\t\t\t\t'description',\n\t\t\t\t\t\t\tconstructDisposableFileEditorInput(URI.parse(original.toString()), TEST_EDITOR_INPUT_ID, disposables),\n\t\t\t\t\t\t\tconstructDisposableFileEditorInput(URI.parse(modified.toString()), TEST_EDITOR_INPUT_ID, disposables),\n\t\t\t\t\t\t\tundefined)\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tconst defaultRegisteredEditor = service.registerEditor('*',\n\t\t\t{\n\t\t\t\tid: 'default',\n\t\t\t\tlabel: 'Test Editor Label',\n\t\t\t\tdetail: 'Test Editor Details',\n\t\t\t\tpriority: RegisteredEditorPriority.option\n\t\t\t},\n\t\t\t{},\n\t\t\t{\n\t\t\t\tcreateEditorInput: ({ resource, options }, group) => ({ editor: new TestFileEditorInput(URI.parse(resource.toString()), TEST_EDITOR_INPUT_ID) }),\n\t\t\t\tcreateDiffEditorInput: ({ modified, original, options }, group) => {\n\t\t\t\t\tdefaultDiffCounter++;\n\t\t\t\t\treturn {\n\t\t\t\t\t\teditor: accessor.instantiationService.createInstance(\n\t\t\t\t\t\t\tDiffEditorInput,\n\t\t\t\t\t\t\t'name',\n\t\t\t\t\t\t\t'description',\n\t\t\t\t\t\t\tconstructDisposableFileEditorInput(URI.parse(original.toString()), TEST_EDITOR_INPUT_ID, disposables),\n\t\t\t\t\t\t\tconstructDisposableFileEditorInput(URI.parse(modified.toString()), TEST_EDITOR_INPUT_ID, disposables),\n\t\t\t\t\t\t\tundefined)\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tlet resultingResolution = await service.resolveEditor({\n\t\t\toriginal: { resource: URI.file('my://resource-basics.test-diff') },\n\t\t\tmodified: { resource: URI.file('my://resource-basics.test-diff') }\n\t\t}, part.activeGroup);\n\t\tassert.ok(resultingResolution);\n\t\tassert.notStrictEqual(typeof resultingResolution, 'number');\n\t\tif (resultingResolution !== ResolvedStatus.ABORT && resultingResolution !== ResolvedStatus.NONE) {\n\t\t\tassert.strictEqual(diffOneCounter, 1);\n\t\t\tassert.strictEqual(diffTwoCounter, 0);\n\t\t\tassert.strictEqual(defaultDiffCounter, 0);\n\t\t\tassert.strictEqual(resultingResolution.editor.typeId, 'workbench.editors.diffEditorInput');\n\t\t\tresultingResolution.editor.dispose();\n\t\t} else {\n\t\t\tassert.fail();\n\t\t}\n\n\t\tresultingResolution = await service.resolveEditor({\n\t\t\toriginal: { resource: URI.file('my://resource-basics.test-secondDiff') },\n\t\t\tmodified: { resource: URI.file('my://resource-basics.test-secondDiff') }\n\t\t}, part.activeGroup);\n\t\tassert.ok(resultingResolution);\n\t\tassert.notStrictEqual(typeof resultingResolution, 'number');\n\t\tif (resultingResolution !== ResolvedStatus.ABORT && resultingResolution !== ResolvedStatus.NONE) {\n\t\t\tassert.strictEqual(diffOneCounter, 1);\n\t\t\tassert.strictEqual(diffTwoCounter, 1);\n\t\t\tassert.strictEqual(defaultDiffCounter, 0);\n\t\t\tassert.strictEqual(resultingResolution.editor.typeId, 'workbench.editors.diffEditorInput');\n\t\t\tresultingResolution.editor.dispose();\n\t\t} else {\n\t\t\tassert.fail();\n\t\t}\n\n\t\tresultingResolution = await service.resolveEditor({\n\t\t\toriginal: { resource: URI.file('my://resource-basics.test-secondDiff') },\n\t\t\tmodified: { resource: URI.file('my://resource-basics.test-diff') }\n\t\t}, part.activeGroup);\n\t\tassert.ok(resultingResolution);\n\t\tassert.notStrictEqual(typeof resultingResolution, 'number');\n\t\tif (resultingResolution !== ResolvedStatus.ABORT && resultingResolution !== ResolvedStatus.NONE) {\n\t\t\tassert.strictEqual(diffOneCounter, 1);\n\t\t\tassert.strictEqual(diffTwoCounter, 1);\n\t\t\tassert.strictEqual(defaultDiffCounter, 1);\n\t\t\tassert.strictEqual(resultingResolution.editor.typeId, 'workbench.editors.diffEditorInput');\n\t\t\tresultingResolution.editor.dispose();\n\t\t} else {\n\t\t\tassert.fail();\n\t\t}\n\n\t\tresultingResolution = await service.resolveEditor({\n\t\t\toriginal: { resource: URI.file('my://resource-basics.test-diff') },\n\t\t\tmodified: { resource: URI.file('my://resource-basics.test-secondDiff') }\n\t\t}, part.activeGroup);\n\t\tassert.ok(resultingResolution);\n\t\tassert.notStrictEqual(typeof resultingResolution, 'number');\n\t\tif (resultingResolution !== ResolvedStatus.ABORT && resultingResolution !== ResolvedStatus.NONE) {\n\t\t\tassert.strictEqual(diffOneCounter, 1);\n\t\t\tassert.strictEqual(diffTwoCounter, 1);\n\t\t\tassert.strictEqual(defaultDiffCounter, 2);\n\t\t\tassert.strictEqual(resultingResolution.editor.typeId, 'workbench.editors.diffEditorInput');\n\t\t\tresultingResolution.editor.dispose();\n\t\t} else {\n\t\t\tassert.fail();\n\t\t}\n\n\t\tresultingResolution = await service.resolveEditor({\n\t\t\toriginal: { resource: URI.file('my://resource-basics.test-secondDiff') },\n\t\t\tmodified: { resource: URI.file('my://resource-basics.test-diff') },\n\t\t\toptions: { override: 'TEST_EDITOR' }\n\t\t}, part.activeGroup);\n\t\tassert.ok(resultingResolution);\n\t\tassert.notStrictEqual(typeof resultingResolution, 'number');\n\t\tif (resultingResolution !== ResolvedStatus.ABORT && resultingResolution !== ResolvedStatus.NONE) {\n\t\t\tassert.strictEqual(diffOneCounter, 2);\n\t\t\tassert.strictEqual(diffTwoCounter, 1);\n\t\t\tassert.strictEqual(defaultDiffCounter, 2);\n\t\t\tassert.strictEqual(resultingResolution.editor.typeId, 'workbench.editors.diffEditorInput');\n\t\t\tresultingResolution.editor.dispose();\n\t\t} else {\n\t\t\tassert.fail();\n\t\t}\n\n\t\tregisteredEditor.dispose();\n\t\tsecondRegisteredEditor.dispose();\n\t\tdefaultRegisteredEditor.dispose();\n\t});\n\n\ttest('Registry & Events', async () => {\n\t\tconst [, service] = await createEditorResolverService();\n\n\t\tlet eventCounter = 0;\n\t\tdisposables.add(service.onDidChangeEditorRegistrations(() => {\n\t\t\teventCounter++;\n\t\t}));\n\n\t\tconst editors = service.getEditors();\n\n\t\tconst registeredEditor = service.registerEditor('*.test',\n\t\t\t{\n\t\t\t\tid: 'TEST_EDITOR',\n\t\t\t\tlabel: 'Test Editor Label',\n\t\t\t\tdetail: 'Test Editor Details',\n\t\t\t\tpriority: RegisteredEditorPriority.default\n\t\t\t},\n\t\t\t{},\n\t\t\t{\n\t\t\t\tcreateEditorInput: ({ resource, options }, group) => ({ editor: new TestFileEditorInput(URI.parse(resource.toString()), TEST_EDITOR_INPUT_ID) })\n\t\t\t}\n\t\t);\n\n\t\tassert.strictEqual(eventCounter, 1);\n\t\tassert.strictEqual(service.getEditors().length, editors.length + 1);\n\t\tassert.strictEqual(service.getEditors().some(editor => editor.id === 'TEST_EDITOR'), true);\n\n\t\tregisteredEditor.dispose();\n\n\t\tassert.strictEqual(eventCounter, 2);\n\t\tassert.strictEqual(service.getEditors().length, editors.length);\n\t\tassert.strictEqual(service.getEditors().some(editor => editor.id === 'TEST_EDITOR'), false);\n\t});\n\n\ttest('Multiple registrations to same glob and id #155859', async () => {\n\t\tconst [part, service, accessor] = await createEditorResolverService();\n\t\tconst testEditorInfo = {\n\t\t\tid: 'TEST_EDITOR',\n\t\t\tlabel: 'Test Editor Label',\n\t\t\tdetail: 'Test Editor Details',\n\t\t\tpriority: RegisteredEditorPriority.default\n\t\t};\n\t\tconst registeredSingleEditor = service.registerEditor('*.test',\n\t\t\ttestEditorInfo,\n\t\t\t{},\n\t\t\t{\n\t\t\t\tcreateEditorInput: ({ resource, options }, group) => ({ editor: new TestFileEditorInput(URI.parse(resource.toString()), TEST_EDITOR_INPUT_ID) })\n\t\t\t}\n\t\t);\n\n\t\tconst registeredDiffEditor = service.registerEditor('*.test',\n\t\t\ttestEditorInfo,\n\t\t\t{},\n\t\t\t{\n\t\t\t\tcreateDiffEditorInput: ({ modified, original, options }, group) => ({\n\t\t\t\t\teditor: accessor.instantiationService.createInstance(\n\t\t\t\t\t\tDiffEditorInput,\n\t\t\t\t\t\t'name',\n\t\t\t\t\t\t'description',\n\t\t\t\t\t\tconstructDisposableFileEditorInput(URI.parse(original.toString()), TEST_EDITOR_INPUT_ID, disposables),\n\t\t\t\t\t\tconstructDisposableFileEditorInput(URI.parse(modified.toString()), TEST_EDITOR_INPUT_ID, disposables),\n\t\t\t\t\t\tundefined)\n\t\t\t\t})\n\t\t\t}\n\t\t);\n\n\t\t// Resolve a diff\n\t\tlet resultingResolution = await service.resolveEditor({\n\t\t\toriginal: { resource: URI.file('my://resource-basics.test') },\n\t\t\tmodified: { resource: URI.file('my://resource-basics.test') }\n\t\t}, part.activeGroup);\n\t\tassert.ok(resultingResolution);\n\t\tassert.notStrictEqual(typeof resultingResolution, 'number');\n\t\tif (resultingResolution !== ResolvedStatus.ABORT && resultingResolution !== ResolvedStatus.NONE) {\n\t\t\tassert.strictEqual(resultingResolution.editor.typeId, 'workbench.editors.diffEditorInput');\n\t\t\tresultingResolution.editor.dispose();\n\t\t} else {\n\t\t\tassert.fail();\n\t\t}\n\n\t\t// Remove diff registration\n\t\tregisteredDiffEditor.dispose();\n\n\t\t// Resolve a diff again, expected failure\n\t\tresultingResolution = await service.resolveEditor({\n\t\t\toriginal: { resource: URI.file('my://resource-basics.test') },\n\t\t\tmodified: { resource: URI.file('my://resource-basics.test') }\n\t\t}, part.activeGroup);\n\t\tassert.ok(resultingResolution);\n\t\tassert.strictEqual(typeof resultingResolution, 'number');\n\t\tif (resultingResolution !== ResolvedStatus.NONE) {\n\t\t\tassert.fail();\n\t\t}\n\n\t\tregisteredSingleEditor.dispose();\n\t});\n});\n"]}