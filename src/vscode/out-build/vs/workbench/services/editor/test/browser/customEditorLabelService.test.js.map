{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/services/editor/test/browser/customEditorLabelService.test.ts","vs/workbench/services/editor/test/browser/customEditorLabelService.test.ts"],"names":[],"mappings":"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","file":"customEditorLabelService.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { ConfigurationTarget, IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { TestConfigurationService } from '../../../../../platform/configuration/test/common/testConfigurationService.js';\nimport { CustomEditorLabelService } from '../../common/customEditorLabelService.js';\nimport { ITestInstantiationService, TestServiceAccessor, workbenchInstantiationService } from '../../../../test/browser/workbenchTestServices.js';\n\nsuite('Custom Editor Label Service', () => {\n\n\tconst disposables = new DisposableStore();\n\n\tsetup(() => { });\n\n\tteardown(async () => {\n\t\tdisposables.clear();\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tasync function createCustomLabelService(instantiationService: ITestInstantiationService = workbenchInstantiationService(undefined, disposables)): Promise<[CustomEditorLabelService, TestConfigurationService, TestServiceAccessor]> {\n\t\tconst configService = new TestConfigurationService();\n\t\tawait configService.setUserConfiguration(CustomEditorLabelService.SETTING_ID_ENABLED, true);\n\t\tinstantiationService.stub(IConfigurationService, configService);\n\n\t\tconst customLabelService = disposables.add(instantiationService.createInstance(CustomEditorLabelService));\n\t\treturn [customLabelService, configService, instantiationService.createInstance(TestServiceAccessor)];\n\t}\n\n\tasync function updatePattern(configService: TestConfigurationService, value: unknown): Promise<void> {\n\t\tawait configService.setUserConfiguration(CustomEditorLabelService.SETTING_ID_PATTERNS, value);\n\t\tconfigService.onDidChangeConfigurationEmitter.fire({\n\t\t\taffectsConfiguration: (key: string) => key === CustomEditorLabelService.SETTING_ID_PATTERNS,\n\t\t\tsource: ConfigurationTarget.USER,\n\t\t\taffectedKeys: new Set(CustomEditorLabelService.SETTING_ID_PATTERNS),\n\t\t\tchange: {\n\t\t\t\tkeys: [],\n\t\t\t\toverrides: []\n\t\t\t}\n\t\t});\n\t}\n\n\ttest('Custom Labels: filename.extname', async () => {\n\t\tconst [customLabelService, configService] = await createCustomLabelService();\n\n\t\tawait updatePattern(configService, {\n\t\t\t'**': '${filename}.${extname}'\n\t\t});\n\n\t\tconst filenames = [\n\t\t\t'file.txt',\n\t\t\t'file.txt1.tx2',\n\t\t\t'.file.txt',\n\t\t];\n\n\t\tfor (const filename of filenames) {\n\t\t\tconst label = customLabelService.getName(URI.file(filename));\n\t\t\tassert.strictEqual(label, filename);\n\t\t}\n\n\t\tlet label = customLabelService.getName(URI.file('file'));\n\t\tassert.strictEqual(label, 'file.${extname}');\n\n\t\tlabel = customLabelService.getName(URI.file('.file'));\n\t\tassert.strictEqual(label, '.file.${extname}');\n\t});\n\n\ttest('Custom Labels: filename', async () => {\n\t\tconst [customLabelService, configService] = await createCustomLabelService();\n\n\t\tawait updatePattern(configService, {\n\t\t\t'**': '${filename}',\n\t\t});\n\n\t\tassert.strictEqual(customLabelService.getName(URI.file('file')), 'file');\n\t\tassert.strictEqual(customLabelService.getName(URI.file('file.txt')), 'file');\n\t\tassert.strictEqual(customLabelService.getName(URI.file('file.txt1.txt2')), 'file');\n\t\tassert.strictEqual(customLabelService.getName(URI.file('folder/file.txt1.txt2')), 'file');\n\n\t\tassert.strictEqual(customLabelService.getName(URI.file('.file')), '.file');\n\t\tassert.strictEqual(customLabelService.getName(URI.file('.file.txt')), '.file');\n\t\tassert.strictEqual(customLabelService.getName(URI.file('.file.txt1.txt2')), '.file');\n\t\tassert.strictEqual(customLabelService.getName(URI.file('folder/.file.txt1.txt2')), '.file');\n\t});\n\n\ttest('Custom Labels: extname(N)', async () => {\n\t\tconst [customLabelService, configService] = await createCustomLabelService();\n\n\t\tawait updatePattern(configService, {\n\t\t\t'**/ext/**': '${extname}',\n\t\t\t'**/ext0/**': '${extname(0)}',\n\t\t\t'**/ext1/**': '${extname(1)}',\n\t\t\t'**/ext2/**': '${extname(2)}',\n\t\t\t'**/extMinus1/**': '${extname(-1)}',\n\t\t\t'**/extMinus2/**': '${extname(-2)}',\n\t\t});\n\n\t\tinterface IExt {\n\t\t\textname?: string;\n\t\t\text0?: string;\n\t\t\text1?: string;\n\t\t\text2?: string;\n\t\t\textMinus1?: string;\n\t\t\textMinus2?: string;\n\t\t}\n\n\t\tfunction assertExtname(filename: string, ext: IExt): void {\n\t\t\tassert.strictEqual(customLabelService.getName(URI.file(`test/ext/${filename}`)), ext.extname ?? '${extname}', filename);\n\t\t\tassert.strictEqual(customLabelService.getName(URI.file(`test/ext0/${filename}`)), ext.ext0 ?? '${extname(0)}', filename);\n\t\t\tassert.strictEqual(customLabelService.getName(URI.file(`test/ext1/${filename}`)), ext.ext1 ?? '${extname(1)}', filename);\n\t\t\tassert.strictEqual(customLabelService.getName(URI.file(`test/ext2/${filename}`)), ext.ext2 ?? '${extname(2)}', filename);\n\t\t\tassert.strictEqual(customLabelService.getName(URI.file(`test/extMinus1/${filename}`)), ext.extMinus1 ?? '${extname(-1)}', filename);\n\t\t\tassert.strictEqual(customLabelService.getName(URI.file(`test/extMinus2/${filename}`)), ext.extMinus2 ?? '${extname(-2)}', filename);\n\t\t}\n\n\t\tassertExtname('file.txt', {\n\t\t\textname: 'txt',\n\t\t\text0: 'txt',\n\t\t\textMinus1: 'txt',\n\t\t});\n\n\t\tassertExtname('file.txt1.txt2', {\n\t\t\textname: 'txt1.txt2',\n\t\t\text0: 'txt2',\n\t\t\text1: 'txt1',\n\t\t\textMinus1: 'txt1',\n\t\t\textMinus2: 'txt2',\n\t\t});\n\n\t\tassertExtname('.file.txt1.txt2', {\n\t\t\textname: 'txt1.txt2',\n\t\t\text0: 'txt2',\n\t\t\text1: 'txt1',\n\t\t\textMinus1: 'txt1',\n\t\t\textMinus2: 'txt2',\n\t\t});\n\n\t\tassertExtname('.file.txt1.txt2.txt3.txt4', {\n\t\t\textname: 'txt1.txt2.txt3.txt4',\n\t\t\text0: 'txt4',\n\t\t\text1: 'txt3',\n\t\t\text2: 'txt2',\n\t\t\textMinus1: 'txt1',\n\t\t\textMinus2: 'txt2',\n\t\t});\n\n\t\tassertExtname('file', {});\n\t\tassertExtname('.file', {});\n\t});\n\n\ttest('Custom Labels: dirname(N)', async () => {\n\t\tconst [customLabelService, configService] = await createCustomLabelService();\n\n\t\tawait updatePattern(configService, {\n\t\t\t'**': '${dirname},${dirname(0)},${dirname(1)},${dirname(2)},${dirname(-1)},${dirname(-2)}',\n\t\t});\n\n\t\tinterface IDir {\n\t\t\tdirname?: string;\n\t\t\tdir0?: string;\n\t\t\tdir1?: string;\n\t\t\tdir2?: string;\n\t\t\tdirMinus1?: string;\n\t\t\tdirMinus2?: string;\n\t\t}\n\n\t\tfunction assertDirname(path: string, dir: IDir): void {\n\t\t\tassert.strictEqual(customLabelService.getName(URI.file(path))?.split(',')[0], dir.dirname ?? '${dirname}', path);\n\t\t\tassert.strictEqual(customLabelService.getName(URI.file(path))?.split(',')[1], dir.dir0 ?? '${dirname(0)}', path);\n\t\t\tassert.strictEqual(customLabelService.getName(URI.file(path))?.split(',')[2], dir.dir1 ?? '${dirname(1)}', path);\n\t\t\tassert.strictEqual(customLabelService.getName(URI.file(path))?.split(',')[3], dir.dir2 ?? '${dirname(2)}', path);\n\t\t\tassert.strictEqual(customLabelService.getName(URI.file(path))?.split(',')[4], dir.dirMinus1 ?? '${dirname(-1)}', path);\n\t\t\tassert.strictEqual(customLabelService.getName(URI.file(path))?.split(',')[5], dir.dirMinus2 ?? '${dirname(-2)}', path);\n\t\t}\n\n\t\tassertDirname('folder/file.txt', {\n\t\t\tdirname: 'folder',\n\t\t\tdir0: 'folder',\n\t\t\tdirMinus1: 'folder',\n\t\t});\n\n\t\tassertDirname('root/folder/file.txt', {\n\t\t\tdirname: 'folder',\n\t\t\tdir0: 'folder',\n\t\t\tdir1: 'root',\n\t\t\tdirMinus1: 'root',\n\t\t\tdirMinus2: 'folder',\n\t\t});\n\n\t\tassertDirname('root/.folder/file.txt', {\n\t\t\tdirname: '.folder',\n\t\t\tdir0: '.folder',\n\t\t\tdir1: 'root',\n\t\t\tdirMinus1: 'root',\n\t\t\tdirMinus2: '.folder',\n\t\t});\n\n\t\tassertDirname('root/parent/folder/file.txt', {\n\t\t\tdirname: 'folder',\n\t\t\tdir0: 'folder',\n\t\t\tdir1: 'parent',\n\t\t\tdir2: 'root',\n\t\t\tdirMinus1: 'root',\n\t\t\tdirMinus2: 'parent',\n\t\t});\n\n\t\tassertDirname('file.txt', {});\n\t});\n\n\ttest('Custom Labels: no pattern match', async () => {\n\t\tconst [customLabelService, configService] = await createCustomLabelService();\n\n\t\tawait updatePattern(configService, {\n\t\t\t'**/folder/**': 'folder',\n\t\t\t'file': 'file',\n\t\t});\n\n\t\tassert.strictEqual(customLabelService.getName(URI.file('file')), undefined);\n\t\tassert.strictEqual(customLabelService.getName(URI.file('file.txt')), undefined);\n\t\tassert.strictEqual(customLabelService.getName(URI.file('file.txt1.txt2')), undefined);\n\t\tassert.strictEqual(customLabelService.getName(URI.file('folder1/file.txt1.txt2')), undefined);\n\n\t\tassert.strictEqual(customLabelService.getName(URI.file('.file')), undefined);\n\t\tassert.strictEqual(customLabelService.getName(URI.file('.file.txt')), undefined);\n\t\tassert.strictEqual(customLabelService.getName(URI.file('.file.txt1.txt2')), undefined);\n\t\tassert.strictEqual(customLabelService.getName(URI.file('folder1/file.txt1.txt2')), undefined);\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { ConfigurationTarget, IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { TestConfigurationService } from '../../../../../platform/configuration/test/common/testConfigurationService.js';\nimport { CustomEditorLabelService } from '../../common/customEditorLabelService.js';\nimport { ITestInstantiationService, TestServiceAccessor, workbenchInstantiationService } from '../../../../test/browser/workbenchTestServices.js';\n\nsuite('Custom Editor Label Service', () => {\n\n\tconst disposables = new DisposableStore();\n\n\tsetup(() => { });\n\n\tteardown(async () => {\n\t\tdisposables.clear();\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tasync function createCustomLabelService(instantiationService: ITestInstantiationService = workbenchInstantiationService(undefined, disposables)): Promise<[CustomEditorLabelService, TestConfigurationService, TestServiceAccessor]> {\n\t\tconst configService = new TestConfigurationService();\n\t\tawait configService.setUserConfiguration(CustomEditorLabelService.SETTING_ID_ENABLED, true);\n\t\tinstantiationService.stub(IConfigurationService, configService);\n\n\t\tconst customLabelService = disposables.add(instantiationService.createInstance(CustomEditorLabelService));\n\t\treturn [customLabelService, configService, instantiationService.createInstance(TestServiceAccessor)];\n\t}\n\n\tasync function updatePattern(configService: TestConfigurationService, value: unknown): Promise<void> {\n\t\tawait configService.setUserConfiguration(CustomEditorLabelService.SETTING_ID_PATTERNS, value);\n\t\tconfigService.onDidChangeConfigurationEmitter.fire({\n\t\t\taffectsConfiguration: (key: string) => key === CustomEditorLabelService.SETTING_ID_PATTERNS,\n\t\t\tsource: ConfigurationTarget.USER,\n\t\t\taffectedKeys: new Set(CustomEditorLabelService.SETTING_ID_PATTERNS),\n\t\t\tchange: {\n\t\t\t\tkeys: [],\n\t\t\t\toverrides: []\n\t\t\t}\n\t\t});\n\t}\n\n\ttest('Custom Labels: filename.extname', async () => {\n\t\tconst [customLabelService, configService] = await createCustomLabelService();\n\n\t\tawait updatePattern(configService, {\n\t\t\t'**': '${filename}.${extname}'\n\t\t});\n\n\t\tconst filenames = [\n\t\t\t'file.txt',\n\t\t\t'file.txt1.tx2',\n\t\t\t'.file.txt',\n\t\t];\n\n\t\tfor (const filename of filenames) {\n\t\t\tconst label = customLabelService.getName(URI.file(filename));\n\t\t\tassert.strictEqual(label, filename);\n\t\t}\n\n\t\tlet label = customLabelService.getName(URI.file('file'));\n\t\tassert.strictEqual(label, 'file.${extname}');\n\n\t\tlabel = customLabelService.getName(URI.file('.file'));\n\t\tassert.strictEqual(label, '.file.${extname}');\n\t});\n\n\ttest('Custom Labels: filename', async () => {\n\t\tconst [customLabelService, configService] = await createCustomLabelService();\n\n\t\tawait updatePattern(configService, {\n\t\t\t'**': '${filename}',\n\t\t});\n\n\t\tassert.strictEqual(customLabelService.getName(URI.file('file')), 'file');\n\t\tassert.strictEqual(customLabelService.getName(URI.file('file.txt')), 'file');\n\t\tassert.strictEqual(customLabelService.getName(URI.file('file.txt1.txt2')), 'file');\n\t\tassert.strictEqual(customLabelService.getName(URI.file('folder/file.txt1.txt2')), 'file');\n\n\t\tassert.strictEqual(customLabelService.getName(URI.file('.file')), '.file');\n\t\tassert.strictEqual(customLabelService.getName(URI.file('.file.txt')), '.file');\n\t\tassert.strictEqual(customLabelService.getName(URI.file('.file.txt1.txt2')), '.file');\n\t\tassert.strictEqual(customLabelService.getName(URI.file('folder/.file.txt1.txt2')), '.file');\n\t});\n\n\ttest('Custom Labels: extname(N)', async () => {\n\t\tconst [customLabelService, configService] = await createCustomLabelService();\n\n\t\tawait updatePattern(configService, {\n\t\t\t'**/ext/**': '${extname}',\n\t\t\t'**/ext0/**': '${extname(0)}',\n\t\t\t'**/ext1/**': '${extname(1)}',\n\t\t\t'**/ext2/**': '${extname(2)}',\n\t\t\t'**/extMinus1/**': '${extname(-1)}',\n\t\t\t'**/extMinus2/**': '${extname(-2)}',\n\t\t});\n\n\t\tinterface IExt {\n\t\t\textname?: string;\n\t\t\text0?: string;\n\t\t\text1?: string;\n\t\t\text2?: string;\n\t\t\textMinus1?: string;\n\t\t\textMinus2?: string;\n\t\t}\n\n\t\tfunction assertExtname(filename: string, ext: IExt): void {\n\t\t\tassert.strictEqual(customLabelService.getName(URI.file(`test/ext/${filename}`)), ext.extname ?? '${extname}', filename);\n\t\t\tassert.strictEqual(customLabelService.getName(URI.file(`test/ext0/${filename}`)), ext.ext0 ?? '${extname(0)}', filename);\n\t\t\tassert.strictEqual(customLabelService.getName(URI.file(`test/ext1/${filename}`)), ext.ext1 ?? '${extname(1)}', filename);\n\t\t\tassert.strictEqual(customLabelService.getName(URI.file(`test/ext2/${filename}`)), ext.ext2 ?? '${extname(2)}', filename);\n\t\t\tassert.strictEqual(customLabelService.getName(URI.file(`test/extMinus1/${filename}`)), ext.extMinus1 ?? '${extname(-1)}', filename);\n\t\t\tassert.strictEqual(customLabelService.getName(URI.file(`test/extMinus2/${filename}`)), ext.extMinus2 ?? '${extname(-2)}', filename);\n\t\t}\n\n\t\tassertExtname('file.txt', {\n\t\t\textname: 'txt',\n\t\t\text0: 'txt',\n\t\t\textMinus1: 'txt',\n\t\t});\n\n\t\tassertExtname('file.txt1.txt2', {\n\t\t\textname: 'txt1.txt2',\n\t\t\text0: 'txt2',\n\t\t\text1: 'txt1',\n\t\t\textMinus1: 'txt1',\n\t\t\textMinus2: 'txt2',\n\t\t});\n\n\t\tassertExtname('.file.txt1.txt2', {\n\t\t\textname: 'txt1.txt2',\n\t\t\text0: 'txt2',\n\t\t\text1: 'txt1',\n\t\t\textMinus1: 'txt1',\n\t\t\textMinus2: 'txt2',\n\t\t});\n\n\t\tassertExtname('.file.txt1.txt2.txt3.txt4', {\n\t\t\textname: 'txt1.txt2.txt3.txt4',\n\t\t\text0: 'txt4',\n\t\t\text1: 'txt3',\n\t\t\text2: 'txt2',\n\t\t\textMinus1: 'txt1',\n\t\t\textMinus2: 'txt2',\n\t\t});\n\n\t\tassertExtname('file', {});\n\t\tassertExtname('.file', {});\n\t});\n\n\ttest('Custom Labels: dirname(N)', async () => {\n\t\tconst [customLabelService, configService] = await createCustomLabelService();\n\n\t\tawait updatePattern(configService, {\n\t\t\t'**': '${dirname},${dirname(0)},${dirname(1)},${dirname(2)},${dirname(-1)},${dirname(-2)}',\n\t\t});\n\n\t\tinterface IDir {\n\t\t\tdirname?: string;\n\t\t\tdir0?: string;\n\t\t\tdir1?: string;\n\t\t\tdir2?: string;\n\t\t\tdirMinus1?: string;\n\t\t\tdirMinus2?: string;\n\t\t}\n\n\t\tfunction assertDirname(path: string, dir: IDir): void {\n\t\t\tassert.strictEqual(customLabelService.getName(URI.file(path))?.split(',')[0], dir.dirname ?? '${dirname}', path);\n\t\t\tassert.strictEqual(customLabelService.getName(URI.file(path))?.split(',')[1], dir.dir0 ?? '${dirname(0)}', path);\n\t\t\tassert.strictEqual(customLabelService.getName(URI.file(path))?.split(',')[2], dir.dir1 ?? '${dirname(1)}', path);\n\t\t\tassert.strictEqual(customLabelService.getName(URI.file(path))?.split(',')[3], dir.dir2 ?? '${dirname(2)}', path);\n\t\t\tassert.strictEqual(customLabelService.getName(URI.file(path))?.split(',')[4], dir.dirMinus1 ?? '${dirname(-1)}', path);\n\t\t\tassert.strictEqual(customLabelService.getName(URI.file(path))?.split(',')[5], dir.dirMinus2 ?? '${dirname(-2)}', path);\n\t\t}\n\n\t\tassertDirname('folder/file.txt', {\n\t\t\tdirname: 'folder',\n\t\t\tdir0: 'folder',\n\t\t\tdirMinus1: 'folder',\n\t\t});\n\n\t\tassertDirname('root/folder/file.txt', {\n\t\t\tdirname: 'folder',\n\t\t\tdir0: 'folder',\n\t\t\tdir1: 'root',\n\t\t\tdirMinus1: 'root',\n\t\t\tdirMinus2: 'folder',\n\t\t});\n\n\t\tassertDirname('root/.folder/file.txt', {\n\t\t\tdirname: '.folder',\n\t\t\tdir0: '.folder',\n\t\t\tdir1: 'root',\n\t\t\tdirMinus1: 'root',\n\t\t\tdirMinus2: '.folder',\n\t\t});\n\n\t\tassertDirname('root/parent/folder/file.txt', {\n\t\t\tdirname: 'folder',\n\t\t\tdir0: 'folder',\n\t\t\tdir1: 'parent',\n\t\t\tdir2: 'root',\n\t\t\tdirMinus1: 'root',\n\t\t\tdirMinus2: 'parent',\n\t\t});\n\n\t\tassertDirname('file.txt', {});\n\t});\n\n\ttest('Custom Labels: no pattern match', async () => {\n\t\tconst [customLabelService, configService] = await createCustomLabelService();\n\n\t\tawait updatePattern(configService, {\n\t\t\t'**/folder/**': 'folder',\n\t\t\t'file': 'file',\n\t\t});\n\n\t\tassert.strictEqual(customLabelService.getName(URI.file('file')), undefined);\n\t\tassert.strictEqual(customLabelService.getName(URI.file('file.txt')), undefined);\n\t\tassert.strictEqual(customLabelService.getName(URI.file('file.txt1.txt2')), undefined);\n\t\tassert.strictEqual(customLabelService.getName(URI.file('folder1/file.txt1.txt2')), undefined);\n\n\t\tassert.strictEqual(customLabelService.getName(URI.file('.file')), undefined);\n\t\tassert.strictEqual(customLabelService.getName(URI.file('.file.txt')), undefined);\n\t\tassert.strictEqual(customLabelService.getName(URI.file('.file.txt1.txt2')), undefined);\n\t\tassert.strictEqual(customLabelService.getName(URI.file('folder1/file.txt1.txt2')), undefined);\n\t});\n});\n"]}