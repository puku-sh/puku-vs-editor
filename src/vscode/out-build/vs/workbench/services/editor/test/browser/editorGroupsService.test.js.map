{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/services/editor/test/browser/editorGroupsService.test.ts","vs/workbench/services/editor/test/browser/editorGroupsService.test.ts"],"names":[],"mappings":"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","file":"editorGroupsService.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { workbenchInstantiationService, registerTestEditor, TestFileEditorInput, TestEditorPart, TestServiceAccessor, ITestInstantiationService, workbenchTeardown, createEditorParts, TestEditorParts } from '../../../../test/browser/workbenchTestServices.js';\nimport { GroupDirection, GroupsOrder, MergeGroupMode, GroupOrientation, GroupLocation, isEditorGroup, IEditorGroupsService, GroupsArrangement, IEditorGroupContextKeyProvider } from '../../common/editorGroupsService.js';\nimport { CloseDirection, IEditorPartOptions, EditorsOrder, EditorInputCapabilities, GroupModelChangeKind, SideBySideEditor, IEditorFactoryRegistry, EditorExtensions } from '../../../../common/editor.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { SyncDescriptor } from '../../../../../platform/instantiation/common/descriptors.js';\nimport { DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { MockScopableContextKeyService } from '../../../../../platform/keybinding/test/common/mockKeybindingService.js';\nimport { ConfirmResult } from '../../../../../platform/dialogs/common/dialogs.js';\nimport { TestConfigurationService } from '../../../../../platform/configuration/test/common/testConfigurationService.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { SideBySideEditorInput } from '../../../../common/editor/sideBySideEditorInput.js';\nimport { IGroupModelChangeEvent, IGroupEditorMoveEvent, IGroupEditorOpenEvent } from '../../../../common/editor/editorGroupModel.js';\nimport { TestInstantiationService } from '../../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { Registry } from '../../../../../platform/registry/common/platform.js';\nimport { IContextKeyService, RawContextKey } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { Emitter } from '../../../../../base/common/event.js';\nimport { isEqual } from '../../../../../base/common/resources.js';\n\nsuite('EditorGroupsService', () => {\n\n\tconst TEST_EDITOR_ID = 'MyFileEditorForEditorGroupService';\n\tconst TEST_EDITOR_INPUT_ID = 'testEditorInputForEditorGroupService';\n\n\tconst disposables = new DisposableStore();\n\n\tlet testLocalInstantiationService: ITestInstantiationService | undefined = undefined;\n\n\tsetup(() => {\n\t\tdisposables.add(registerTestEditor(TEST_EDITOR_ID, [new SyncDescriptor(TestFileEditorInput), new SyncDescriptor(SideBySideEditorInput)], TEST_EDITOR_INPUT_ID));\n\t});\n\n\tteardown(async () => {\n\t\tif (testLocalInstantiationService) {\n\t\t\tawait workbenchTeardown(testLocalInstantiationService);\n\t\t\ttestLocalInstantiationService = undefined;\n\t\t}\n\n\t\tdisposables.clear();\n\t});\n\n\tasync function createParts(instantiationService = workbenchInstantiationService(undefined, disposables)): Promise<[TestEditorParts, TestInstantiationService]> {\n\t\tinstantiationService.invokeFunction(accessor => Registry.as<IEditorFactoryRegistry>(EditorExtensions.EditorFactory).start(accessor));\n\t\tconst parts = await createEditorParts(instantiationService, disposables);\n\t\tinstantiationService.stub(IEditorGroupsService, parts);\n\n\t\ttestLocalInstantiationService = instantiationService;\n\n\t\treturn [parts, instantiationService];\n\t}\n\n\tasync function createPart(instantiationService?: TestInstantiationService): Promise<[TestEditorPart, TestInstantiationService]> {\n\t\tconst [parts, testInstantiationService] = await createParts(instantiationService);\n\t\treturn [parts.testMainPart, testInstantiationService];\n\t}\n\n\tfunction createTestFileEditorInput(resource: URI, typeId: string): TestFileEditorInput {\n\t\treturn disposables.add(new TestFileEditorInput(resource, typeId));\n\t}\n\n\ttest('groups basics', async function () {\n\t\tconst instantiationService = workbenchInstantiationService({ contextKeyService: instantiationService => instantiationService.createInstance(MockScopableContextKeyService) }, disposables);\n\t\tconst [part] = await createPart(instantiationService);\n\n\t\tlet activeGroupModelChangeCounter = 0;\n\t\tconst activeGroupModelChangeListener = part.onDidChangeActiveGroup(() => {\n\t\t\tactiveGroupModelChangeCounter++;\n\t\t});\n\n\t\tlet groupAddedCounter = 0;\n\t\tconst groupAddedListener = part.onDidAddGroup(() => {\n\t\t\tgroupAddedCounter++;\n\t\t});\n\n\t\tlet groupRemovedCounter = 0;\n\t\tconst groupRemovedListener = part.onDidRemoveGroup(() => {\n\t\t\tgroupRemovedCounter++;\n\t\t});\n\n\t\tlet groupMovedCounter = 0;\n\t\tconst groupMovedListener = part.onDidMoveGroup(() => {\n\t\t\tgroupMovedCounter++;\n\t\t});\n\n\t\t// always a root group\n\t\tconst rootGroup = part.groups[0];\n\t\tassert.strictEqual(isEditorGroup(rootGroup), true);\n\t\tassert.strictEqual(part.groups.length, 1);\n\t\tassert.strictEqual(part.count, 1);\n\t\tassert.strictEqual(rootGroup, part.getGroup(rootGroup.id));\n\t\tassert.ok(part.activeGroup === rootGroup);\n\t\tassert.strictEqual(rootGroup.label, 'Group 1');\n\n\t\tlet mru = part.getGroups(GroupsOrder.MOST_RECENTLY_ACTIVE);\n\t\tassert.strictEqual(mru.length, 1);\n\t\tassert.strictEqual(mru[0], rootGroup);\n\n\t\tconst rightGroup = part.addGroup(rootGroup, GroupDirection.RIGHT);\n\t\tassert.strictEqual(rightGroup, part.getGroup(rightGroup.id));\n\t\tassert.strictEqual(groupAddedCounter, 1);\n\t\tassert.strictEqual(part.groups.length, 2);\n\t\tassert.strictEqual(part.count, 2);\n\t\tassert.ok(part.activeGroup === rootGroup);\n\t\tassert.strictEqual(rootGroup.label, 'Group 1');\n\t\tassert.strictEqual(rightGroup.label, 'Group 2');\n\n\t\tmru = part.getGroups(GroupsOrder.MOST_RECENTLY_ACTIVE);\n\t\tassert.strictEqual(mru.length, 2);\n\t\tassert.strictEqual(mru[0], rootGroup);\n\t\tassert.strictEqual(mru[1], rightGroup);\n\n\t\tassert.strictEqual(activeGroupModelChangeCounter, 0);\n\n\t\tlet rootGroupActiveChangeCounter = 0;\n\t\tconst rootGroupModelChangeListener = rootGroup.onDidModelChange(e => {\n\t\t\tif (e.kind === GroupModelChangeKind.GROUP_ACTIVE) {\n\t\t\t\trootGroupActiveChangeCounter++;\n\t\t\t}\n\t\t});\n\n\t\tlet rightGroupActiveChangeCounter = 0;\n\t\tconst rightGroupModelChangeListener = rightGroup.onDidModelChange(e => {\n\t\t\tif (e.kind === GroupModelChangeKind.GROUP_ACTIVE) {\n\t\t\t\trightGroupActiveChangeCounter++;\n\t\t\t}\n\t\t});\n\n\t\tpart.activateGroup(rightGroup);\n\t\tassert.ok(part.activeGroup === rightGroup);\n\t\tassert.strictEqual(activeGroupModelChangeCounter, 1);\n\t\tassert.strictEqual(rootGroupActiveChangeCounter, 1);\n\t\tassert.strictEqual(rightGroupActiveChangeCounter, 1);\n\n\t\trootGroupModelChangeListener.dispose();\n\t\trightGroupModelChangeListener.dispose();\n\n\t\tmru = part.getGroups(GroupsOrder.MOST_RECENTLY_ACTIVE);\n\t\tassert.strictEqual(mru.length, 2);\n\t\tassert.strictEqual(mru[0], rightGroup);\n\t\tassert.strictEqual(mru[1], rootGroup);\n\n\t\tconst downGroup = part.addGroup(rightGroup, GroupDirection.DOWN);\n\t\tlet didDispose = false;\n\t\tdisposables.add(downGroup.onWillDispose(() => {\n\t\t\tdidDispose = true;\n\t\t}));\n\t\tassert.strictEqual(groupAddedCounter, 2);\n\t\tassert.strictEqual(part.groups.length, 3);\n\t\tassert.ok(part.activeGroup === rightGroup);\n\t\tassert.ok(!downGroup.activeEditorPane);\n\t\tassert.strictEqual(rootGroup.label, 'Group 1');\n\t\tassert.strictEqual(rightGroup.label, 'Group 2');\n\t\tassert.strictEqual(downGroup.label, 'Group 3');\n\n\t\tmru = part.getGroups(GroupsOrder.MOST_RECENTLY_ACTIVE);\n\t\tassert.strictEqual(mru.length, 3);\n\t\tassert.strictEqual(mru[0], rightGroup);\n\t\tassert.strictEqual(mru[1], rootGroup);\n\t\tassert.strictEqual(mru[2], downGroup);\n\n\t\tconst gridOrder = part.getGroups(GroupsOrder.GRID_APPEARANCE);\n\t\tassert.strictEqual(gridOrder.length, 3);\n\t\tassert.strictEqual(gridOrder[0], rootGroup);\n\t\tassert.strictEqual(gridOrder[0].index, 0);\n\t\tassert.strictEqual(gridOrder[1], rightGroup);\n\t\tassert.strictEqual(gridOrder[1].index, 1);\n\t\tassert.strictEqual(gridOrder[2], downGroup);\n\t\tassert.strictEqual(gridOrder[2].index, 2);\n\n\t\tpart.moveGroup(downGroup, rightGroup, GroupDirection.DOWN);\n\t\tassert.strictEqual(groupMovedCounter, 1);\n\n\t\tpart.removeGroup(downGroup);\n\t\tassert.ok(!part.getGroup(downGroup.id));\n\t\tassert.ok(!part.hasGroup(downGroup.id));\n\t\tassert.strictEqual(didDispose, true);\n\t\tassert.strictEqual(groupRemovedCounter, 1);\n\t\tassert.strictEqual(part.groups.length, 2);\n\t\tassert.ok(part.activeGroup === rightGroup);\n\t\tassert.strictEqual(rootGroup.label, 'Group 1');\n\t\tassert.strictEqual(rightGroup.label, 'Group 2');\n\n\t\tmru = part.getGroups(GroupsOrder.MOST_RECENTLY_ACTIVE);\n\t\tassert.strictEqual(mru.length, 2);\n\t\tassert.strictEqual(mru[0], rightGroup);\n\t\tassert.strictEqual(mru[1], rootGroup);\n\n\t\tconst rightGroupContextKeyService = part.activeGroup.scopedContextKeyService;\n\t\tconst rootGroupContextKeyService = rootGroup.scopedContextKeyService;\n\n\t\tassert.ok(rightGroupContextKeyService);\n\t\tassert.ok(rootGroupContextKeyService);\n\t\tassert.ok(rightGroupContextKeyService !== rootGroupContextKeyService);\n\n\t\tpart.removeGroup(rightGroup);\n\t\tassert.strictEqual(groupRemovedCounter, 2);\n\t\tassert.strictEqual(part.groups.length, 1);\n\t\tassert.ok(part.activeGroup === rootGroup);\n\n\t\tmru = part.getGroups(GroupsOrder.MOST_RECENTLY_ACTIVE);\n\t\tassert.strictEqual(mru.length, 1);\n\t\tassert.strictEqual(mru[0], rootGroup);\n\n\t\tpart.removeGroup(rootGroup); // cannot remove root group\n\t\tassert.strictEqual(part.groups.length, 1);\n\t\tassert.strictEqual(groupRemovedCounter, 2);\n\t\tassert.ok(part.activeGroup === rootGroup);\n\n\t\tpart.setGroupOrientation(part.orientation === GroupOrientation.HORIZONTAL ? GroupOrientation.VERTICAL : GroupOrientation.HORIZONTAL);\n\n\t\tactiveGroupModelChangeListener.dispose();\n\t\tgroupAddedListener.dispose();\n\t\tgroupRemovedListener.dispose();\n\t\tgroupMovedListener.dispose();\n\t});\n\n\ttest('sideGroup', async () => {\n\t\tconst instantiationService = workbenchInstantiationService({ contextKeyService: instantiationService => instantiationService.createInstance(MockScopableContextKeyService) }, disposables);\n\t\tconst [part] = await createPart(instantiationService);\n\n\t\tconst rootGroup = part.activeGroup;\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait rootGroup.openEditor(input1, { pinned: true });\n\t\tawait part.sideGroup.openEditor(input2, { pinned: true });\n\t\tassert.strictEqual(part.count, 2);\n\n\t\tpart.activateGroup(rootGroup);\n\t\tawait part.sideGroup.openEditor(input3, { pinned: true });\n\t\tassert.strictEqual(part.count, 2);\n\t});\n\n\ttest('save & restore state', async function () {\n\t\tconst [part, instantiationService] = await createPart();\n\n\t\tconst rootGroup = part.groups[0];\n\t\tconst rightGroup = part.addGroup(rootGroup, GroupDirection.RIGHT);\n\t\tconst downGroup = part.addGroup(rightGroup, GroupDirection.DOWN);\n\n\t\tconst rootGroupInput = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tawait rootGroup.openEditor(rootGroupInput, { pinned: true });\n\n\t\tconst rightGroupInput = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\t\tawait rightGroup.openEditor(rightGroupInput, { pinned: true });\n\n\t\tassert.strictEqual(part.groups.length, 3);\n\n\t\tpart.testSaveState();\n\t\tpart.dispose();\n\n\t\tconst [restoredPart] = await createPart(instantiationService);\n\n\t\tassert.strictEqual(restoredPart.groups.length, 3);\n\t\tassert.ok(restoredPart.getGroup(rootGroup.id));\n\t\tassert.ok(restoredPart.hasGroup(rootGroup.id));\n\t\tassert.ok(restoredPart.getGroup(rightGroup.id));\n\t\tassert.ok(restoredPart.hasGroup(rightGroup.id));\n\t\tassert.ok(restoredPart.getGroup(downGroup.id));\n\t\tassert.ok(restoredPart.hasGroup(downGroup.id));\n\n\t\trestoredPart.clearState();\n\t});\n\n\ttest('groups index / labels', async function () {\n\t\tconst [part] = await createPart();\n\n\t\tconst rootGroup = part.groups[0];\n\t\tconst rightGroup = part.addGroup(rootGroup, GroupDirection.RIGHT);\n\t\tconst downGroup = part.addGroup(rightGroup, GroupDirection.DOWN);\n\n\t\tlet groupIndexChangedCounter = 0;\n\t\tconst groupIndexChangedListener = part.onDidChangeGroupIndex(() => {\n\t\t\tgroupIndexChangedCounter++;\n\t\t});\n\n\t\tlet indexChangeCounter = 0;\n\t\tconst labelChangeListener = downGroup.onDidModelChange(e => {\n\t\t\tif (e.kind === GroupModelChangeKind.GROUP_INDEX) {\n\t\t\t\tindexChangeCounter++;\n\t\t\t}\n\t\t});\n\n\t\tassert.strictEqual(rootGroup.index, 0);\n\t\tassert.strictEqual(rightGroup.index, 1);\n\t\tassert.strictEqual(downGroup.index, 2);\n\t\tassert.strictEqual(rootGroup.label, 'Group 1');\n\t\tassert.strictEqual(rightGroup.label, 'Group 2');\n\t\tassert.strictEqual(downGroup.label, 'Group 3');\n\n\t\tpart.removeGroup(rightGroup);\n\t\tassert.strictEqual(rootGroup.index, 0);\n\t\tassert.strictEqual(downGroup.index, 1);\n\t\tassert.strictEqual(rootGroup.label, 'Group 1');\n\t\tassert.strictEqual(downGroup.label, 'Group 2');\n\t\tassert.strictEqual(indexChangeCounter, 1);\n\t\tassert.strictEqual(groupIndexChangedCounter, 1);\n\n\t\tpart.moveGroup(downGroup, rootGroup, GroupDirection.UP);\n\t\tassert.strictEqual(downGroup.index, 0);\n\t\tassert.strictEqual(rootGroup.index, 1);\n\t\tassert.strictEqual(downGroup.label, 'Group 1');\n\t\tassert.strictEqual(rootGroup.label, 'Group 2');\n\t\tassert.strictEqual(indexChangeCounter, 2);\n\t\tassert.strictEqual(groupIndexChangedCounter, 3);\n\n\t\tconst newFirstGroup = part.addGroup(downGroup, GroupDirection.UP);\n\t\tassert.strictEqual(newFirstGroup.index, 0);\n\t\tassert.strictEqual(downGroup.index, 1);\n\t\tassert.strictEqual(rootGroup.index, 2);\n\t\tassert.strictEqual(newFirstGroup.label, 'Group 1');\n\t\tassert.strictEqual(downGroup.label, 'Group 2');\n\t\tassert.strictEqual(rootGroup.label, 'Group 3');\n\t\tassert.strictEqual(indexChangeCounter, 3);\n\t\tassert.strictEqual(groupIndexChangedCounter, 6);\n\n\t\tlabelChangeListener.dispose();\n\t\tgroupIndexChangedListener.dispose();\n\t});\n\n\ttest('groups label', async function () {\n\t\tconst [part] = await createPart();\n\n\t\tconst rootGroup = part.groups[0];\n\t\tconst rightGroup = part.addGroup(rootGroup, GroupDirection.RIGHT);\n\n\t\tlet partLabelChangedCounter = 0;\n\t\tconst groupIndexChangedListener = part.onDidChangeGroupLabel(() => {\n\t\t\tpartLabelChangedCounter++;\n\t\t});\n\n\t\tlet rootGroupLabelChangeCounter = 0;\n\t\tconst rootGroupLabelChangeListener = rootGroup.onDidModelChange(e => {\n\t\t\tif (e.kind === GroupModelChangeKind.GROUP_LABEL) {\n\t\t\t\trootGroupLabelChangeCounter++;\n\t\t\t}\n\t\t});\n\n\t\tlet rightGroupLabelChangeCounter = 0;\n\t\tconst rightGroupLabelChangeListener = rightGroup.onDidModelChange(e => {\n\t\t\tif (e.kind === GroupModelChangeKind.GROUP_LABEL) {\n\t\t\t\trightGroupLabelChangeCounter++;\n\t\t\t}\n\t\t});\n\n\t\tassert.strictEqual(rootGroup.label, 'Group 1');\n\t\tassert.strictEqual(rightGroup.label, 'Group 2');\n\n\t\tpart.notifyGroupsLabelChange('Window 2');\n\n\t\tassert.strictEqual(rootGroup.label, 'Window 2: Group 1');\n\t\tassert.strictEqual(rightGroup.label, 'Window 2: Group 2');\n\n\t\tassert.strictEqual(rootGroupLabelChangeCounter, 1);\n\t\tassert.strictEqual(rightGroupLabelChangeCounter, 1);\n\t\tassert.strictEqual(partLabelChangedCounter, 2);\n\n\t\tpart.notifyGroupsLabelChange('Window 3');\n\n\t\tassert.strictEqual(rootGroup.label, 'Window 3: Group 1');\n\t\tassert.strictEqual(rightGroup.label, 'Window 3: Group 2');\n\n\t\tassert.strictEqual(rootGroupLabelChangeCounter, 2);\n\t\tassert.strictEqual(rightGroupLabelChangeCounter, 2);\n\t\tassert.strictEqual(partLabelChangedCounter, 4);\n\n\t\trootGroupLabelChangeListener.dispose();\n\t\trightGroupLabelChangeListener.dispose();\n\t\tgroupIndexChangedListener.dispose();\n\t});\n\n\ttest('copy/merge groups', async () => {\n\t\tconst [part] = await createPart();\n\n\t\tlet groupAddedCounter = 0;\n\t\tconst groupAddedListener = part.onDidAddGroup(() => {\n\t\t\tgroupAddedCounter++;\n\t\t});\n\n\t\tlet groupRemovedCounter = 0;\n\t\tconst groupRemovedListener = part.onDidRemoveGroup(() => {\n\t\t\tgroupRemovedCounter++;\n\t\t});\n\n\t\tconst rootGroup = part.groups[0];\n\t\tlet rootGroupDisposed = false;\n\t\tconst disposeListener = rootGroup.onWillDispose(() => {\n\t\t\trootGroupDisposed = true;\n\t\t});\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait rootGroup.openEditor(input, { pinned: true });\n\t\tconst rightGroup = part.addGroup(rootGroup, GroupDirection.RIGHT);\n\t\tpart.activateGroup(rightGroup);\n\t\tconst downGroup = part.copyGroup(rootGroup, rightGroup, GroupDirection.DOWN);\n\t\tassert.strictEqual(groupAddedCounter, 2);\n\t\tassert.strictEqual(downGroup.count, 1);\n\t\tassert.ok(downGroup.activeEditor instanceof TestFileEditorInput);\n\t\tlet res = part.mergeGroup(rootGroup, rightGroup, { mode: MergeGroupMode.COPY_EDITORS });\n\t\tassert.strictEqual(res, true);\n\t\tassert.strictEqual(rightGroup.count, 1);\n\t\tassert.ok(rightGroup.activeEditor instanceof TestFileEditorInput);\n\t\tres = part.mergeGroup(rootGroup, rightGroup, { mode: MergeGroupMode.MOVE_EDITORS });\n\t\tassert.strictEqual(res, true);\n\t\tassert.strictEqual(rootGroup.count, 0);\n\t\tres = part.mergeGroup(rootGroup, downGroup);\n\t\tassert.strictEqual(res, true);\n\t\tassert.strictEqual(groupRemovedCounter, 1);\n\t\tassert.strictEqual(rootGroupDisposed, true);\n\n\t\tgroupAddedListener.dispose();\n\t\tgroupRemovedListener.dispose();\n\t\tdisposeListener.dispose();\n\t\tpart.dispose();\n\t});\n\n\ttest('merge all groups', async () => {\n\t\tconst [part] = await createPart();\n\n\t\tconst rootGroup = part.groups[0];\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait rootGroup.openEditor(input1, { pinned: true });\n\n\t\tconst rightGroup = part.addGroup(rootGroup, GroupDirection.RIGHT);\n\t\tawait rightGroup.openEditor(input2, { pinned: true });\n\n\t\tconst downGroup = part.copyGroup(rootGroup, rightGroup, GroupDirection.DOWN);\n\t\tawait downGroup.openEditor(input3, { pinned: true });\n\n\t\tpart.activateGroup(rootGroup);\n\n\t\tassert.strictEqual(rootGroup.count, 1);\n\n\t\tconst result = part.mergeAllGroups(part.activeGroup);\n\t\tassert.strictEqual(result, true);\n\t\tassert.strictEqual(rootGroup.count, 3);\n\n\t\tpart.dispose();\n\t});\n\n\ttest('whenReady / whenRestored', async () => {\n\t\tconst [part] = await createPart();\n\n\t\tawait part.whenReady;\n\t\tassert.strictEqual(part.isReady, true);\n\t\tawait part.whenRestored;\n\t});\n\n\ttest('options', async () => {\n\t\tconst [part] = await createPart();\n\n\t\tlet oldOptions!: IEditorPartOptions;\n\t\tlet newOptions!: IEditorPartOptions;\n\t\tdisposables.add(part.onDidChangeEditorPartOptions(event => {\n\t\t\toldOptions = event.oldPartOptions;\n\t\t\tnewOptions = event.newPartOptions;\n\t\t}));\n\n\t\tconst currentOptions = part.partOptions;\n\t\tassert.ok(currentOptions);\n\n\t\tdisposables.add(part.enforcePartOptions({ showTabs: 'single' }));\n\t\tassert.strictEqual(part.partOptions.showTabs, 'single');\n\t\tassert.strictEqual(newOptions.showTabs, 'single');\n\t\tassert.strictEqual(oldOptions, currentOptions);\n\t});\n\n\ttest('editor basics', async function () {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tlet activeEditorChangeCounter = 0;\n\t\tlet editorDidOpenCounter = 0;\n\t\tconst editorOpenEvents: IGroupModelChangeEvent[] = [];\n\t\tlet editorCloseCounter = 0;\n\t\tconst editorCloseEvents: IGroupModelChangeEvent[] = [];\n\t\tlet editorPinCounter = 0;\n\t\tlet editorStickyCounter = 0;\n\t\tlet editorCapabilitiesCounter = 0;\n\t\tconst editorGroupModelChangeListener = group.onDidModelChange(e => {\n\t\t\tif (e.kind === GroupModelChangeKind.EDITOR_OPEN) {\n\t\t\t\tassert.ok(e.editor);\n\t\t\t\teditorDidOpenCounter++;\n\t\t\t\teditorOpenEvents.push(e);\n\t\t\t} else if (e.kind === GroupModelChangeKind.EDITOR_PIN) {\n\t\t\t\tassert.ok(e.editor);\n\t\t\t\teditorPinCounter++;\n\t\t\t} else if (e.kind === GroupModelChangeKind.EDITOR_STICKY) {\n\t\t\t\tassert.ok(e.editor);\n\t\t\t\teditorStickyCounter++;\n\t\t\t} else if (e.kind === GroupModelChangeKind.EDITOR_CAPABILITIES) {\n\t\t\t\tassert.ok(e.editor);\n\t\t\t\teditorCapabilitiesCounter++;\n\t\t\t} else if (e.kind === GroupModelChangeKind.EDITOR_CLOSE) {\n\t\t\t\tassert.ok(e.editor);\n\t\t\t\teditorCloseCounter++;\n\t\t\t\teditorCloseEvents.push(e);\n\t\t\t}\n\t\t});\n\t\tconst activeEditorChangeListener = group.onDidActiveEditorChange(e => {\n\t\t\tassert.ok(e.editor);\n\t\t\tactiveEditorChangeCounter++;\n\t\t});\n\n\t\tlet editorCloseCounter1 = 0;\n\t\tconst editorCloseListener = group.onDidCloseEditor(() => {\n\t\t\teditorCloseCounter1++;\n\t\t});\n\n\t\tlet editorWillCloseCounter = 0;\n\t\tconst editorWillCloseListener = group.onWillCloseEditor(() => {\n\t\t\teditorWillCloseCounter++;\n\t\t});\n\n\t\tlet editorDidCloseCounter = 0;\n\t\tconst editorDidCloseListener = group.onDidCloseEditor(() => {\n\t\t\teditorDidCloseCounter++;\n\t\t});\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputInactive = createTestFileEditorInput(URI.file('foo/bar/inactive'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditor(input, { pinned: true });\n\t\tawait group.openEditor(inputInactive, { inactive: true });\n\n\t\tassert.strictEqual(group.isActive(input), true);\n\t\tassert.strictEqual(group.isActive(inputInactive), false);\n\t\tassert.strictEqual(group.contains(input), true);\n\t\tassert.strictEqual(group.contains(inputInactive), true);\n\t\tassert.strictEqual(group.isEmpty, false);\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(editorCapabilitiesCounter, 0);\n\t\tassert.strictEqual(editorDidOpenCounter, 2);\n\t\tassert.strictEqual((editorOpenEvents[0] as IGroupEditorOpenEvent).editorIndex, 0);\n\t\tassert.strictEqual((editorOpenEvents[1] as IGroupEditorOpenEvent).editorIndex, 1);\n\t\tassert.strictEqual(editorOpenEvents[0].editor, input);\n\t\tassert.strictEqual(editorOpenEvents[1].editor, inputInactive);\n\t\tassert.strictEqual(activeEditorChangeCounter, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input);\n\t\tassert.strictEqual(group.getEditorByIndex(1), inputInactive);\n\t\tassert.strictEqual(group.getIndexOfEditor(input), 0);\n\t\tassert.strictEqual(group.getIndexOfEditor(inputInactive), 1);\n\t\tassert.strictEqual(group.isFirst(input), true);\n\t\tassert.strictEqual(group.isFirst(inputInactive), false);\n\t\tassert.strictEqual(group.isLast(input), false);\n\t\tassert.strictEqual(group.isLast(inputInactive), true);\n\n\t\tinput.capabilities = EditorInputCapabilities.RequiresTrust;\n\t\tassert.strictEqual(editorCapabilitiesCounter, 1);\n\n\t\tinputInactive.capabilities = EditorInputCapabilities.Singleton;\n\t\tassert.strictEqual(editorCapabilitiesCounter, 2);\n\n\t\tassert.strictEqual(group.previewEditor, inputInactive);\n\t\tassert.strictEqual(group.isPinned(inputInactive), false);\n\t\tgroup.pinEditor(inputInactive);\n\t\tassert.strictEqual(editorPinCounter, 1);\n\t\tassert.strictEqual(group.isPinned(inputInactive), true);\n\t\tassert.ok(!group.previewEditor);\n\n\t\tassert.strictEqual(group.activeEditor, input);\n\t\tassert.strictEqual(group.activeEditorPane?.getId(), TEST_EDITOR_ID);\n\t\tassert.strictEqual(group.count, 2);\n\n\t\tconst mru = group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE);\n\t\tassert.strictEqual(mru[0], input);\n\t\tassert.strictEqual(mru[1], inputInactive);\n\n\t\tawait group.openEditor(inputInactive);\n\t\tassert.strictEqual(activeEditorChangeCounter, 2);\n\t\tassert.strictEqual(group.activeEditor, inputInactive);\n\n\t\tawait group.openEditor(input);\n\t\tconst closed = await group.closeEditor(inputInactive);\n\t\tassert.strictEqual(closed, true);\n\n\t\tassert.strictEqual(activeEditorChangeCounter, 3);\n\t\tassert.strictEqual(editorCloseCounter, 1);\n\t\tassert.strictEqual((editorCloseEvents[0] as IGroupEditorOpenEvent).editorIndex, 1);\n\t\tassert.strictEqual(editorCloseEvents[0].editor, inputInactive);\n\t\tassert.strictEqual(editorCloseCounter1, 1);\n\t\tassert.strictEqual(editorWillCloseCounter, 1);\n\t\tassert.strictEqual(editorDidCloseCounter, 1);\n\n\t\tassert.ok(inputInactive.gotDisposed);\n\n\t\tassert.strictEqual(group.activeEditor, input);\n\n\t\tassert.strictEqual(editorStickyCounter, 0);\n\t\tgroup.stickEditor(input);\n\t\tassert.strictEqual(editorStickyCounter, 1);\n\t\tgroup.unstickEditor(input);\n\t\tassert.strictEqual(editorStickyCounter, 2);\n\n\t\teditorCloseListener.dispose();\n\t\teditorWillCloseListener.dispose();\n\t\teditorDidCloseListener.dispose();\n\t\tactiveEditorChangeListener.dispose();\n\t\teditorGroupModelChangeListener.dispose();\n\t});\n\n\ttest('openEditors / closeEditors', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputInactive = createTestFileEditorInput(URI.file('foo/bar/inactive'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([\n\t\t\t{ editor: input, options: { pinned: true } },\n\t\t\t{ editor: inputInactive }\n\t\t]);\n\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input);\n\t\tassert.strictEqual(group.getEditorByIndex(1), inputInactive);\n\n\t\tawait group.closeEditors([input, inputInactive]);\n\n\t\tassert.ok(input.gotDisposed);\n\t\tassert.ok(inputInactive.gotDisposed);\n\n\t\tassert.strictEqual(group.isEmpty, true);\n\t});\n\n\ttest('closeEditor - dirty editor handling', async () => {\n\t\tconst [part, instantiationService] = await createPart();\n\n\t\tconst accessor = instantiationService.createInstance(TestServiceAccessor);\n\t\taccessor.fileDialogService.setConfirmResult(ConfirmResult.DONT_SAVE);\n\n\t\tconst group = part.activeGroup;\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tinput.dirty = true;\n\n\t\tawait group.openEditor(input);\n\n\t\taccessor.fileDialogService.setConfirmResult(ConfirmResult.CANCEL);\n\t\tlet closed = await group.closeEditor(input);\n\t\tassert.strictEqual(closed, false);\n\n\t\tassert.ok(!input.gotDisposed);\n\n\t\taccessor.fileDialogService.setConfirmResult(ConfirmResult.DONT_SAVE);\n\t\tclosed = await group.closeEditor(input);\n\t\tassert.strictEqual(closed, true);\n\n\t\tassert.ok(input.gotDisposed);\n\t});\n\n\ttest('closeEditor (one, opened in multiple groups)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst rightGroup = part.addGroup(group, GroupDirection.RIGHT);\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputInactive = createTestFileEditorInput(URI.file('foo/bar/inactive'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([{ editor: input, options: { pinned: true } }, { editor: inputInactive }]);\n\t\tawait rightGroup.openEditors([{ editor: input, options: { pinned: true } }, { editor: inputInactive }]);\n\n\t\tlet closed = await rightGroup.closeEditor(input);\n\t\tassert.strictEqual(closed, true);\n\n\t\tassert.ok(!input.gotDisposed);\n\n\t\tclosed = await group.closeEditor(input);\n\t\tassert.strictEqual(closed, true);\n\n\t\tassert.ok(input.gotDisposed);\n\t});\n\n\ttest('closeEditors - dirty editor handling', async () => {\n\t\tconst [part, instantiationService] = await createPart();\n\n\t\tconst accessor = instantiationService.createInstance(TestServiceAccessor);\n\t\taccessor.fileDialogService.setConfirmResult(ConfirmResult.DONT_SAVE);\n\t\tlet closeResult = false;\n\n\t\tconst group = part.activeGroup;\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tinput1.dirty = true;\n\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditor(input1);\n\t\tawait group.openEditor(input2);\n\n\t\taccessor.fileDialogService.setConfirmResult(ConfirmResult.CANCEL);\n\t\tcloseResult = await group.closeEditors([input1, input2]);\n\t\tassert.strictEqual(closeResult, false);\n\n\t\tassert.ok(!input1.gotDisposed);\n\t\tassert.ok(!input2.gotDisposed);\n\n\t\taccessor.fileDialogService.setConfirmResult(ConfirmResult.DONT_SAVE);\n\t\tcloseResult = await group.closeEditors([input1, input2]);\n\t\tassert.strictEqual(closeResult, true);\n\n\t\tassert.ok(input1.gotDisposed);\n\t\tassert.ok(input2.gotDisposed);\n\t});\n\n\ttest('closeEditors (except one)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([\n\t\t\t{ editor: input1, options: { pinned: true } },\n\t\t\t{ editor: input2, options: { pinned: true } },\n\t\t\t{ editor: input3 }\n\t\t]);\n\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\t\tassert.strictEqual(group.getEditorByIndex(2), input3);\n\n\t\tawait group.closeEditors({ except: input2 });\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input2);\n\t});\n\n\ttest('closeEditors (except one, sticky editor)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([\n\t\t\t{ editor: input1, options: { pinned: true, sticky: true } },\n\t\t\t{ editor: input2, options: { pinned: true } },\n\t\t\t{ editor: input3 }\n\t\t]);\n\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\t\tassert.strictEqual(group.getEditorByIndex(2), input3);\n\n\t\tawait group.closeEditors({ except: input2, excludeSticky: true });\n\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\n\t\tawait group.closeEditors({ except: input2 });\n\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.stickyCount, 0);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input2);\n\t});\n\n\ttest('closeEditors (saved only)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([\n\t\t\t{ editor: input1, options: { pinned: true } },\n\t\t\t{ editor: input2, options: { pinned: true } },\n\t\t\t{ editor: input3 }\n\t\t]);\n\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\t\tassert.strictEqual(group.getEditorByIndex(2), input3);\n\n\t\tawait group.closeEditors({ savedOnly: true });\n\t\tassert.strictEqual(group.count, 0);\n\t});\n\n\ttest('closeEditors (saved only, sticky editor)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([\n\t\t\t{ editor: input1, options: { pinned: true, sticky: true } },\n\t\t\t{ editor: input2, options: { pinned: true } },\n\t\t\t{ editor: input3 }\n\t\t]);\n\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\t\tassert.strictEqual(group.getEditorByIndex(2), input3);\n\n\t\tawait group.closeEditors({ savedOnly: true, excludeSticky: true });\n\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\n\t\tawait group.closeEditors({ savedOnly: true });\n\t\tassert.strictEqual(group.count, 0);\n\t});\n\n\ttest('closeEditors (direction: right)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([\n\t\t\t{ editor: input1, options: { pinned: true } },\n\t\t\t{ editor: input2, options: { pinned: true } },\n\t\t\t{ editor: input3 }\n\t\t]);\n\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\t\tassert.strictEqual(group.getEditorByIndex(2), input3);\n\n\t\tawait group.closeEditors({ direction: CloseDirection.RIGHT, except: input2 });\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\t});\n\n\ttest('closeEditors (direction: right, sticky editor)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([\n\t\t\t{ editor: input1, options: { pinned: true, sticky: true } },\n\t\t\t{ editor: input2, options: { pinned: true } },\n\t\t\t{ editor: input3 }\n\t\t]);\n\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\t\tassert.strictEqual(group.getEditorByIndex(2), input3);\n\n\t\tawait group.closeEditors({ direction: CloseDirection.RIGHT, except: input2, excludeSticky: true });\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\n\t\tawait group.closeEditors({ direction: CloseDirection.RIGHT, except: input2 });\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\t});\n\n\ttest('closeEditors (direction: left)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([\n\t\t\t{ editor: input1, options: { pinned: true } },\n\t\t\t{ editor: input2, options: { pinned: true } },\n\t\t\t{ editor: input3 }\n\t\t]);\n\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\t\tassert.strictEqual(group.getEditorByIndex(2), input3);\n\n\t\tawait group.closeEditors({ direction: CloseDirection.LEFT, except: input2 });\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input2);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input3);\n\t});\n\n\ttest('closeEditors (direction: left, sticky editor)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([\n\t\t\t{ editor: input1, options: { pinned: true, sticky: true } },\n\t\t\t{ editor: input2, options: { pinned: true } },\n\t\t\t{ editor: input3 }\n\t\t]);\n\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\t\tassert.strictEqual(group.getEditorByIndex(2), input3);\n\n\t\tawait group.closeEditors({ direction: CloseDirection.LEFT, except: input2, excludeSticky: true });\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\t\tassert.strictEqual(group.getEditorByIndex(2), input3);\n\n\t\tawait group.closeEditors({ direction: CloseDirection.LEFT, except: input2 });\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input2);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input3);\n\t});\n\n\ttest('closeAllEditors', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputInactive = createTestFileEditorInput(URI.file('foo/bar/inactive'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([\n\t\t\t{ editor: input, options: { pinned: true } },\n\t\t\t{ editor: inputInactive }\n\t\t]);\n\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input);\n\t\tassert.strictEqual(group.getEditorByIndex(1), inputInactive);\n\n\t\tawait group.closeAllEditors();\n\t\tassert.strictEqual(group.isEmpty, true);\n\t});\n\n\ttest('closeAllEditors - dirty editor handling', async () => {\n\t\tconst [part, instantiationService] = await createPart();\n\t\tlet closeResult = true;\n\n\t\tconst accessor = instantiationService.createInstance(TestServiceAccessor);\n\t\taccessor.fileDialogService.setConfirmResult(ConfirmResult.DONT_SAVE);\n\n\t\tconst group = part.activeGroup;\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tinput1.dirty = true;\n\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditor(input1);\n\t\tawait group.openEditor(input2);\n\n\t\taccessor.fileDialogService.setConfirmResult(ConfirmResult.CANCEL);\n\t\tcloseResult = await group.closeAllEditors();\n\n\t\tassert.strictEqual(closeResult, false);\n\t\tassert.ok(!input1.gotDisposed);\n\t\tassert.ok(!input2.gotDisposed);\n\n\t\taccessor.fileDialogService.setConfirmResult(ConfirmResult.DONT_SAVE);\n\t\tcloseResult = await group.closeAllEditors();\n\n\t\tassert.strictEqual(closeResult, true);\n\t\tassert.ok(input1.gotDisposed);\n\t\tassert.ok(input2.gotDisposed);\n\t});\n\n\ttest('closeAllEditors (sticky editor)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputInactive = createTestFileEditorInput(URI.file('foo/bar/inactive'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([\n\t\t\t{ editor: input, options: { pinned: true, sticky: true } },\n\t\t\t{ editor: inputInactive }\n\t\t]);\n\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(group.stickyCount, 1);\n\n\t\tawait group.closeAllEditors({ excludeSticky: true });\n\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input);\n\n\t\tawait group.closeAllEditors();\n\n\t\tassert.strictEqual(group.isEmpty, true);\n\t});\n\n\ttest('moveEditor (same group)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputInactive = createTestFileEditorInput(URI.file('foo/bar/inactive'), TEST_EDITOR_INPUT_ID);\n\n\t\tconst moveEvents: IGroupModelChangeEvent[] = [];\n\t\tconst editorGroupModelChangeListener = group.onDidModelChange(e => {\n\t\t\tif (e.kind === GroupModelChangeKind.EDITOR_MOVE) {\n\t\t\t\tassert.ok(e.editor);\n\t\t\t\tmoveEvents.push(e);\n\t\t\t}\n\t\t});\n\n\t\tawait group.openEditors([{ editor: input, options: { pinned: true } }, { editor: inputInactive }]);\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input);\n\t\tassert.strictEqual(group.getEditorByIndex(1), inputInactive);\n\t\tgroup.moveEditor(inputInactive, group, { index: 0 });\n\t\tassert.strictEqual(moveEvents.length, 1);\n\t\tassert.strictEqual((moveEvents[0] as IGroupEditorOpenEvent).editorIndex, 0);\n\t\tassert.strictEqual((moveEvents[0] as IGroupEditorMoveEvent).oldEditorIndex, 1);\n\t\tassert.strictEqual(moveEvents[0].editor, inputInactive);\n\t\tassert.strictEqual(group.getEditorByIndex(0), inputInactive);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input);\n\n\t\tconst res = group.moveEditors([{ editor: inputInactive, options: { index: 1 } }], group);\n\t\tassert.strictEqual(res, true);\n\t\tassert.strictEqual(moveEvents.length, 2);\n\t\tassert.strictEqual((moveEvents[1] as IGroupEditorOpenEvent).editorIndex, 1);\n\t\tassert.strictEqual((moveEvents[1] as IGroupEditorMoveEvent).oldEditorIndex, 0);\n\t\tassert.strictEqual(moveEvents[1].editor, inputInactive);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input);\n\t\tassert.strictEqual(group.getEditorByIndex(1), inputInactive);\n\n\t\teditorGroupModelChangeListener.dispose();\n\t});\n\n\ttest('moveEditor (across groups)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst rightGroup = part.addGroup(group, GroupDirection.RIGHT);\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputInactive = createTestFileEditorInput(URI.file('foo/bar/inactive'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([{ editor: input, options: { pinned: true } }, { editor: inputInactive }]);\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input);\n\t\tassert.strictEqual(group.getEditorByIndex(1), inputInactive);\n\t\tgroup.moveEditor(inputInactive, rightGroup, { index: 0 });\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input);\n\t\tassert.strictEqual(rightGroup.count, 1);\n\t\tassert.strictEqual(rightGroup.getEditorByIndex(0), inputInactive);\n\t});\n\n\ttest('moveEditors (across groups)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst rightGroup = part.addGroup(group, GroupDirection.RIGHT);\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([{ editor: input1, options: { pinned: true } }, { editor: input2, options: { pinned: true } }, { editor: input3, options: { pinned: true } }]);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\t\tassert.strictEqual(group.getEditorByIndex(2), input3);\n\t\tgroup.moveEditors([{ editor: input2 }, { editor: input3 }], rightGroup);\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(rightGroup.count, 2);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\tassert.strictEqual(rightGroup.getEditorByIndex(0), input2);\n\t\tassert.strictEqual(rightGroup.getEditorByIndex(1), input3);\n\t});\n\n\ttest('copyEditor (across groups)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst rightGroup = part.addGroup(group, GroupDirection.RIGHT);\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputInactive = createTestFileEditorInput(URI.file('foo/bar/inactive'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([{ editor: input, options: { pinned: true } }, { editor: inputInactive }]);\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input);\n\t\tassert.strictEqual(group.getEditorByIndex(1), inputInactive);\n\t\tgroup.copyEditor(inputInactive, rightGroup, { index: 0 });\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input);\n\t\tassert.strictEqual(group.getEditorByIndex(1), inputInactive);\n\t\tassert.strictEqual(rightGroup.count, 1);\n\t\tassert.strictEqual(rightGroup.getEditorByIndex(0), inputInactive);\n\t});\n\n\ttest('copyEditors (across groups)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst rightGroup = part.addGroup(group, GroupDirection.RIGHT);\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([{ editor: input1, options: { pinned: true } }, { editor: input2, options: { pinned: true } }, { editor: input3, options: { pinned: true } }]);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\t\tassert.strictEqual(group.getEditorByIndex(2), input3);\n\t\tgroup.copyEditors([{ editor: input1 }, { editor: input2 }, { editor: input3 }], rightGroup);\n\t\t[group, rightGroup].forEach(group => {\n\t\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\t\t\tassert.strictEqual(group.getEditorByIndex(2), input3);\n\t\t});\n\t});\n\n\ttest('replaceEditors', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputInactive = createTestFileEditorInput(URI.file('foo/bar/inactive'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditor(input);\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input);\n\n\t\tawait group.replaceEditors([{ editor: input, replacement: inputInactive }]);\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), inputInactive);\n\t});\n\n\ttest('replaceEditors - dirty editor handling', async () => {\n\t\tconst [part, instantiationService] = await createPart();\n\n\t\tconst accessor = instantiationService.createInstance(TestServiceAccessor);\n\t\taccessor.fileDialogService.setConfirmResult(ConfirmResult.DONT_SAVE);\n\n\t\tconst group = part.activeGroup;\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tinput1.dirty = true;\n\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditor(input1);\n\t\tassert.strictEqual(group.activeEditor, input1);\n\n\t\taccessor.fileDialogService.setConfirmResult(ConfirmResult.CANCEL);\n\t\tawait group.replaceEditors([{ editor: input1, replacement: input2 }]);\n\n\t\tassert.strictEqual(group.activeEditor, input1);\n\t\tassert.ok(!input1.gotDisposed);\n\n\t\taccessor.fileDialogService.setConfirmResult(ConfirmResult.DONT_SAVE);\n\t\tawait group.replaceEditors([{ editor: input1, replacement: input2 }]);\n\n\t\tassert.strictEqual(group.activeEditor, input2);\n\t\tassert.ok(input1.gotDisposed);\n\t});\n\n\ttest('replaceEditors - forceReplaceDirty flag', async () => {\n\t\tconst [part, instantiationService] = await createPart();\n\n\t\tconst accessor = instantiationService.createInstance(TestServiceAccessor);\n\t\taccessor.fileDialogService.setConfirmResult(ConfirmResult.DONT_SAVE);\n\n\t\tconst group = part.activeGroup;\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tinput1.dirty = true;\n\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditor(input1);\n\t\tassert.strictEqual(group.activeEditor, input1);\n\t\taccessor.fileDialogService.setConfirmResult(ConfirmResult.CANCEL);\n\t\tawait group.replaceEditors([{ editor: input1, replacement: input2, forceReplaceDirty: false }]);\n\n\t\tassert.strictEqual(group.activeEditor, input1);\n\t\tassert.ok(!input1.gotDisposed);\n\n\t\tawait group.replaceEditors([{ editor: input1, replacement: input2, forceReplaceDirty: true }]);\n\n\t\tassert.strictEqual(group.activeEditor, input2);\n\t\tassert.ok(input1.gotDisposed);\n\t});\n\n\ttest('replaceEditors - proper index handling', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\t\tconst input4 = createTestFileEditorInput(URI.file('foo/bar4'), TEST_EDITOR_INPUT_ID);\n\t\tconst input5 = createTestFileEditorInput(URI.file('foo/bar5'), TEST_EDITOR_INPUT_ID);\n\n\t\tconst input6 = createTestFileEditorInput(URI.file('foo/bar6'), TEST_EDITOR_INPUT_ID);\n\t\tconst input7 = createTestFileEditorInput(URI.file('foo/bar7'), TEST_EDITOR_INPUT_ID);\n\t\tconst input8 = createTestFileEditorInput(URI.file('foo/bar8'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditor(input1, { pinned: true });\n\t\tawait group.openEditor(input2, { pinned: true });\n\t\tawait group.openEditor(input3, { pinned: true });\n\t\tawait group.openEditor(input4, { pinned: true });\n\t\tawait group.openEditor(input5, { pinned: true });\n\n\t\tawait group.replaceEditors([\n\t\t\t{ editor: input1, replacement: input6 },\n\t\t\t{ editor: input3, replacement: input7 },\n\t\t\t{ editor: input5, replacement: input8 }\n\t\t]);\n\n\t\tassert.strictEqual(group.getEditorByIndex(0), input6);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\t\tassert.strictEqual(group.getEditorByIndex(2), input7);\n\t\tassert.strictEqual(group.getEditorByIndex(3), input4);\n\t\tassert.strictEqual(group.getEditorByIndex(4), input8);\n\t});\n\n\ttest('replaceEditors - should be able to replace when side by side editor is involved with same input side by side', async () => {\n\t\tconst [part, instantiationService] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst sideBySideInput = instantiationService.createInstance(SideBySideEditorInput, undefined, undefined, input, input);\n\n\t\tawait group.openEditor(input);\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input);\n\n\t\tawait group.replaceEditors([{ editor: input, replacement: sideBySideInput }]);\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), sideBySideInput);\n\n\t\tawait group.replaceEditors([{ editor: sideBySideInput, replacement: input }]);\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input);\n\t});\n\n\ttest('find editors', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tconst group2 = part.addGroup(group, GroupDirection.RIGHT);\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar1'), `${TEST_EDITOR_INPUT_ID}-1`);\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\t\tconst input4 = createTestFileEditorInput(URI.file('foo/bar4'), TEST_EDITOR_INPUT_ID);\n\t\tconst input5 = createTestFileEditorInput(URI.file('foo/bar4'), `${TEST_EDITOR_INPUT_ID}-1`);\n\n\t\tawait group.openEditor(input1, { pinned: true });\n\t\tawait group.openEditor(input2, { pinned: true });\n\t\tawait group.openEditor(input3, { pinned: true });\n\t\tawait group.openEditor(input4, { pinned: true });\n\t\tawait group2.openEditor(input5, { pinned: true });\n\n\t\tlet foundEditors = group.findEditors(URI.file('foo/bar1'));\n\t\tassert.strictEqual(foundEditors.length, 2);\n\t\tfoundEditors = group2.findEditors(URI.file('foo/bar4'));\n\t\tassert.strictEqual(foundEditors.length, 1);\n\t});\n\n\ttest('find editors (side by side support)', async () => {\n\t\tconst [part, instantiationService] = await createPart();\n\n\t\tconst accessor = instantiationService.createInstance(TestServiceAccessor);\n\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst secondaryInput = createTestFileEditorInput(URI.file('foo/bar-secondary'), TEST_EDITOR_INPUT_ID);\n\t\tconst primaryInput = createTestFileEditorInput(URI.file('foo/bar-primary'), `${TEST_EDITOR_INPUT_ID}-1`);\n\n\t\tconst sideBySideEditor = new SideBySideEditorInput(undefined, undefined, secondaryInput, primaryInput, accessor.editorService);\n\t\tawait group.openEditor(sideBySideEditor, { pinned: true });\n\n\t\tlet foundEditors = group.findEditors(URI.file('foo/bar-secondary'));\n\t\tassert.strictEqual(foundEditors.length, 0);\n\n\t\tfoundEditors = group.findEditors(URI.file('foo/bar-secondary'), { supportSideBySide: SideBySideEditor.PRIMARY });\n\t\tassert.strictEqual(foundEditors.length, 0);\n\n\t\tfoundEditors = group.findEditors(URI.file('foo/bar-primary'), { supportSideBySide: SideBySideEditor.PRIMARY });\n\t\tassert.strictEqual(foundEditors.length, 1);\n\n\t\tfoundEditors = group.findEditors(URI.file('foo/bar-secondary'), { supportSideBySide: SideBySideEditor.SECONDARY });\n\t\tassert.strictEqual(foundEditors.length, 1);\n\n\t\tfoundEditors = group.findEditors(URI.file('foo/bar-primary'), { supportSideBySide: SideBySideEditor.SECONDARY });\n\t\tassert.strictEqual(foundEditors.length, 0);\n\n\t\tfoundEditors = group.findEditors(URI.file('foo/bar-secondary'), { supportSideBySide: SideBySideEditor.ANY });\n\t\tassert.strictEqual(foundEditors.length, 1);\n\n\t\tfoundEditors = group.findEditors(URI.file('foo/bar-primary'), { supportSideBySide: SideBySideEditor.ANY });\n\t\tassert.strictEqual(foundEditors.length, 1);\n\t});\n\n\ttest('find neighbour group (left/right)', async function () {\n\t\tconst [part] = await createPart();\n\t\tconst rootGroup = part.activeGroup;\n\t\tconst rightGroup = part.addGroup(rootGroup, GroupDirection.RIGHT);\n\n\t\tassert.strictEqual(rightGroup, part.findGroup({ direction: GroupDirection.RIGHT }, rootGroup));\n\t\tassert.strictEqual(rootGroup, part.findGroup({ direction: GroupDirection.LEFT }, rightGroup));\n\t});\n\n\ttest('find neighbour group (up/down)', async function () {\n\t\tconst [part] = await createPart();\n\t\tconst rootGroup = part.activeGroup;\n\t\tconst downGroup = part.addGroup(rootGroup, GroupDirection.DOWN);\n\n\t\tassert.strictEqual(downGroup, part.findGroup({ direction: GroupDirection.DOWN }, rootGroup));\n\t\tassert.strictEqual(rootGroup, part.findGroup({ direction: GroupDirection.UP }, downGroup));\n\t});\n\n\ttest('find group by location (left/right)', async function () {\n\t\tconst [part] = await createPart();\n\t\tconst rootGroup = part.activeGroup;\n\t\tconst rightGroup = part.addGroup(rootGroup, GroupDirection.RIGHT);\n\t\tconst downGroup = part.addGroup(rightGroup, GroupDirection.DOWN);\n\n\t\tassert.strictEqual(rootGroup, part.findGroup({ location: GroupLocation.FIRST }));\n\t\tassert.strictEqual(downGroup, part.findGroup({ location: GroupLocation.LAST }));\n\n\t\tassert.strictEqual(rightGroup, part.findGroup({ location: GroupLocation.NEXT }, rootGroup));\n\t\tassert.strictEqual(rootGroup, part.findGroup({ location: GroupLocation.PREVIOUS }, rightGroup));\n\n\t\tassert.strictEqual(downGroup, part.findGroup({ location: GroupLocation.NEXT }, rightGroup));\n\t\tassert.strictEqual(rightGroup, part.findGroup({ location: GroupLocation.PREVIOUS }, downGroup));\n\t});\n\n\ttest('applyLayout (2x2)', async function () {\n\t\tconst [part] = await createPart();\n\n\t\tpart.applyLayout({ groups: [{ groups: [{}, {}] }, { groups: [{}, {}] }], orientation: GroupOrientation.HORIZONTAL });\n\n\t\tassert.strictEqual(part.groups.length, 4);\n\t});\n\n\ttest('getLayout', async function () {\n\t\tconst [part] = await createPart();\n\n\t\t// 2x2\n\t\tpart.applyLayout({ groups: [{ groups: [{}, {}] }, { groups: [{}, {}] }], orientation: GroupOrientation.HORIZONTAL });\n\t\tlet layout = part.getLayout();\n\n\t\tassert.strictEqual(layout.orientation, GroupOrientation.HORIZONTAL);\n\t\tassert.strictEqual(layout.groups.length, 2);\n\t\tassert.strictEqual(layout.groups[0].groups!.length, 2);\n\t\tassert.strictEqual(layout.groups[1].groups!.length, 2);\n\n\t\t// 3 columns\n\t\tpart.applyLayout({ groups: [{}, {}, {}], orientation: GroupOrientation.VERTICAL });\n\t\tlayout = part.getLayout();\n\n\t\tassert.strictEqual(layout.orientation, GroupOrientation.VERTICAL);\n\t\tassert.strictEqual(layout.groups.length, 3);\n\t\tassert.ok(typeof layout.groups[0].size === 'number');\n\t\tassert.ok(typeof layout.groups[1].size === 'number');\n\t\tassert.ok(typeof layout.groups[2].size === 'number');\n\t});\n\n\ttest('centeredLayout', async function () {\n\t\tconst [part] = await createPart();\n\n\t\tpart.centerLayout(true);\n\n\t\tassert.strictEqual(part.isLayoutCentered(), true);\n\t});\n\n\ttest('sticky editors', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\n\t\tassert.strictEqual(group.stickyCount, 0);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL).length, 0);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 0);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL, { excludeSticky: true }).length, 0);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE, { excludeSticky: true }).length, 0);\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputInactive = createTestFileEditorInput(URI.file('foo/bar/inactive'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditor(input, { pinned: true });\n\t\tawait group.openEditor(inputInactive, { inactive: true });\n\n\t\tassert.strictEqual(group.stickyCount, 0);\n\t\tassert.strictEqual(group.isSticky(input), false);\n\t\tassert.strictEqual(group.isSticky(inputInactive), false);\n\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL).length, 2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL, { excludeSticky: true }).length, 2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE, { excludeSticky: true }).length, 2);\n\n\t\tgroup.stickEditor(input);\n\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tassert.strictEqual(group.isSticky(input), true);\n\t\tassert.strictEqual(group.isSticky(inputInactive), false);\n\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL).length, 2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL, { excludeSticky: true }).length, 1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE, { excludeSticky: true }).length, 1);\n\n\t\tgroup.unstickEditor(input);\n\n\t\tassert.strictEqual(group.stickyCount, 0);\n\t\tassert.strictEqual(group.isSticky(input), false);\n\t\tassert.strictEqual(group.isSticky(inputInactive), false);\n\n\t\tassert.strictEqual(group.getIndexOfEditor(input), 0);\n\t\tassert.strictEqual(group.getIndexOfEditor(inputInactive), 1);\n\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL).length, 2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL, { excludeSticky: true }).length, 2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE, { excludeSticky: true }).length, 2);\n\n\t\tlet editorMoveCounter = 0;\n\t\tconst editorGroupModelChangeListener = group.onDidModelChange(e => {\n\t\t\tif (e.kind === GroupModelChangeKind.EDITOR_MOVE) {\n\t\t\t\tassert.ok(e.editor);\n\t\t\t\teditorMoveCounter++;\n\t\t\t}\n\t\t});\n\n\t\tgroup.stickEditor(inputInactive);\n\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tassert.strictEqual(group.isSticky(input), false);\n\t\tassert.strictEqual(group.isSticky(inputInactive), true);\n\n\t\tassert.strictEqual(group.getIndexOfEditor(input), 1);\n\t\tassert.strictEqual(group.getIndexOfEditor(inputInactive), 0);\n\t\tassert.strictEqual(editorMoveCounter, 1);\n\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL).length, 2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL, { excludeSticky: true }).length, 1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE, { excludeSticky: true }).length, 1);\n\n\t\tconst inputSticky = createTestFileEditorInput(URI.file('foo/bar/sticky'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditor(inputSticky, { sticky: true });\n\n\t\tassert.strictEqual(group.stickyCount, 2);\n\t\tassert.strictEqual(group.isSticky(input), false);\n\t\tassert.strictEqual(group.isSticky(inputInactive), true);\n\t\tassert.strictEqual(group.isSticky(inputSticky), true);\n\n\t\tassert.strictEqual(group.getIndexOfEditor(inputInactive), 0);\n\t\tassert.strictEqual(group.getIndexOfEditor(inputSticky), 1);\n\t\tassert.strictEqual(group.getIndexOfEditor(input), 2);\n\n\t\tawait group.openEditor(input, { sticky: true });\n\n\t\tassert.strictEqual(group.stickyCount, 3);\n\t\tassert.strictEqual(group.isSticky(input), true);\n\t\tassert.strictEqual(group.isSticky(inputInactive), true);\n\t\tassert.strictEqual(group.isSticky(inputSticky), true);\n\n\t\tassert.strictEqual(group.getIndexOfEditor(inputInactive), 0);\n\t\tassert.strictEqual(group.getIndexOfEditor(inputSticky), 1);\n\t\tassert.strictEqual(group.getIndexOfEditor(input), 2);\n\n\t\teditorGroupModelChangeListener.dispose();\n\t});\n\n\ttest('sticky: true wins over index', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\n\t\tassert.strictEqual(group.stickyCount, 0);\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputInactive = createTestFileEditorInput(URI.file('foo/bar/inactive'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputSticky = createTestFileEditorInput(URI.file('foo/bar/sticky'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditor(input, { pinned: true });\n\t\tawait group.openEditor(inputInactive, { inactive: true });\n\t\tawait group.openEditor(inputSticky, { sticky: true, index: 2 });\n\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tassert.strictEqual(group.isSticky(inputSticky), true);\n\n\t\tassert.strictEqual(group.getIndexOfEditor(input), 1);\n\t\tassert.strictEqual(group.getIndexOfEditor(inputInactive), 2);\n\t\tassert.strictEqual(group.getIndexOfEditor(inputSticky), 0);\n\t});\n\n\ttest('selection: setSelection, isSelected, selectedEditors', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\n\t\tfunction isSelection(inputs: TestFileEditorInput[]): boolean {\n\t\t\tfor (const input of inputs) {\n\t\t\t\tif (group.selectedEditors.indexOf(input) === -1) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn inputs.length === group.selectedEditors.length;\n\t\t}\n\n\t\t// Active: input1, Selected: input1\n\t\tawait group.openEditors([input1, input2, input3].map(editor => ({ editor, options: { pinned: true } })));\n\n\t\tassert.strictEqual(group.isActive(input1), true);\n\t\tassert.strictEqual(group.isSelected(input1), true);\n\t\tassert.strictEqual(group.isSelected(input2), false);\n\t\tassert.strictEqual(group.isSelected(input3), false);\n\n\t\tassert.strictEqual(isSelection([input1]), true);\n\n\t\t// Active: input1, Selected: input1, input3\n\t\tawait group.setSelection(input1, [input3]);\n\n\t\tassert.strictEqual(group.isActive(input1), true);\n\t\tassert.strictEqual(group.isSelected(input1), true);\n\t\tassert.strictEqual(group.isSelected(input2), false);\n\t\tassert.strictEqual(group.isSelected(input3), true);\n\n\t\tassert.strictEqual(isSelection([input1, input3]), true);\n\n\t\t// Active: input2, Selected: input1, input3\n\t\tawait group.setSelection(input2, [input1, input3]);\n\n\t\tassert.strictEqual(group.isSelected(input1), true);\n\t\tassert.strictEqual(group.isActive(input2), true);\n\t\tassert.strictEqual(group.isSelected(input2), true);\n\t\tassert.strictEqual(group.isSelected(input3), true);\n\n\t\tassert.strictEqual(isSelection([input1, input2, input3]), true);\n\n\t\tawait group.setSelection(input1, []);\n\n\t\t// Selected: input3\n\t\tassert.strictEqual(group.isActive(input1), true);\n\t\tassert.strictEqual(group.isSelected(input1), true);\n\t\tassert.strictEqual(group.isSelected(input2), false);\n\t\tassert.strictEqual(group.isSelected(input3), false);\n\n\t\tassert.strictEqual(isSelection([input1]), true);\n\t});\n\n\ttest('moveEditor with context (across groups)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst rightGroup = part.addGroup(group, GroupDirection.RIGHT);\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputInactive = createTestFileEditorInput(URI.file('foo/bar/inactive'), TEST_EDITOR_INPUT_ID);\n\t\tconst thirdInput = createTestFileEditorInput(URI.file('foo/bar/third'), TEST_EDITOR_INPUT_ID);\n\n\t\tlet leftFiredCount = 0;\n\t\tconst leftGroupListener = group.onWillMoveEditor(() => {\n\t\t\tleftFiredCount++;\n\t\t});\n\n\t\tlet rightFiredCount = 0;\n\t\tconst rightGroupListener = rightGroup.onWillMoveEditor(() => {\n\t\t\trightFiredCount++;\n\t\t});\n\n\t\tawait group.openEditors([{ editor: input, options: { pinned: true } }, { editor: inputInactive }, { editor: thirdInput }]);\n\t\tassert.strictEqual(leftFiredCount, 0);\n\t\tassert.strictEqual(rightFiredCount, 0);\n\n\t\tlet result = group.moveEditor(input, rightGroup);\n\t\tassert.strictEqual(result, true);\n\t\tassert.strictEqual(leftFiredCount, 1);\n\t\tassert.strictEqual(rightFiredCount, 0);\n\n\t\tresult = group.moveEditor(inputInactive, rightGroup);\n\t\tassert.strictEqual(result, true);\n\t\tassert.strictEqual(leftFiredCount, 2);\n\t\tassert.strictEqual(rightFiredCount, 0);\n\n\t\tresult = rightGroup.moveEditor(inputInactive, group);\n\t\tassert.strictEqual(result, true);\n\t\tassert.strictEqual(leftFiredCount, 2);\n\t\tassert.strictEqual(rightFiredCount, 1);\n\n\t\tleftGroupListener.dispose();\n\t\trightGroupListener.dispose();\n\t});\n\n\ttest('moveEditor disabled', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst rightGroup = part.addGroup(group, GroupDirection.RIGHT);\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputInactive = createTestFileEditorInput(URI.file('foo/bar/inactive'), TEST_EDITOR_INPUT_ID);\n\t\tconst thirdInput = createTestFileEditorInput(URI.file('foo/bar/third'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([{ editor: input, options: { pinned: true } }, { editor: inputInactive }, { editor: thirdInput }]);\n\n\t\tinput.setMoveDisabled('disabled');\n\t\tconst result = group.moveEditor(input, rightGroup);\n\n\t\tassert.strictEqual(result, false);\n\t\tassert.strictEqual(group.count, 3);\n\t});\n\n\ttest('onWillOpenEditor', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst rightGroup = part.addGroup(group, GroupDirection.RIGHT);\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst secondInput = createTestFileEditorInput(URI.file('foo/bar/second'), TEST_EDITOR_INPUT_ID);\n\t\tconst thirdInput = createTestFileEditorInput(URI.file('foo/bar/third'), TEST_EDITOR_INPUT_ID);\n\n\t\tlet leftFiredCount = 0;\n\t\tconst leftGroupListener = group.onWillOpenEditor(() => {\n\t\t\tleftFiredCount++;\n\t\t});\n\n\t\tlet rightFiredCount = 0;\n\t\tconst rightGroupListener = rightGroup.onWillOpenEditor(() => {\n\t\t\trightFiredCount++;\n\t\t});\n\n\t\tawait group.openEditor(input);\n\t\tassert.strictEqual(leftFiredCount, 1);\n\t\tassert.strictEqual(rightFiredCount, 0);\n\n\t\trightGroup.openEditor(secondInput);\n\t\tassert.strictEqual(leftFiredCount, 1);\n\t\tassert.strictEqual(rightFiredCount, 1);\n\n\t\tgroup.openEditor(thirdInput);\n\t\tassert.strictEqual(leftFiredCount, 2);\n\t\tassert.strictEqual(rightFiredCount, 1);\n\n\t\t// Ensure move fires the open event too\n\t\trightGroup.moveEditor(secondInput, group);\n\t\tassert.strictEqual(leftFiredCount, 3);\n\t\tassert.strictEqual(rightFiredCount, 1);\n\n\t\tleftGroupListener.dispose();\n\t\trightGroupListener.dispose();\n\t});\n\n\ttest('copyEditor with context (across groups)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\t\tlet firedCount = 0;\n\t\tconst moveListener = group.onWillMoveEditor(() => firedCount++);\n\n\t\tconst rightGroup = part.addGroup(group, GroupDirection.RIGHT);\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputInactive = createTestFileEditorInput(URI.file('foo/bar/inactive'), TEST_EDITOR_INPUT_ID);\n\t\tawait group.openEditors([{ editor: input, options: { pinned: true } }, { editor: inputInactive }]);\n\t\tassert.strictEqual(firedCount, 0);\n\n\t\tgroup.copyEditor(inputInactive, rightGroup, { index: 0 });\n\n\t\tassert.strictEqual(firedCount, 0);\n\t\tmoveListener.dispose();\n\t});\n\n\ttest('locked groups - basics', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\n\t\tconst rightGroup = part.addGroup(group, GroupDirection.RIGHT);\n\n\t\tlet leftFiredCountFromPart = 0;\n\t\tlet rightFiredCountFromPart = 0;\n\t\tconst partListener = part.onDidChangeGroupLocked(g => {\n\t\t\tif (g === group) {\n\t\t\t\tleftFiredCountFromPart++;\n\t\t\t} else if (g === rightGroup) {\n\t\t\t\trightFiredCountFromPart++;\n\t\t\t}\n\t\t});\n\n\t\tlet leftFiredCountFromGroup = 0;\n\t\tconst leftGroupListener = group.onDidModelChange(e => {\n\t\t\tif (e.kind === GroupModelChangeKind.GROUP_LOCKED) {\n\t\t\t\tleftFiredCountFromGroup++;\n\t\t\t}\n\t\t});\n\n\t\tlet rightFiredCountFromGroup = 0;\n\t\tconst rightGroupListener = rightGroup.onDidModelChange(e => {\n\t\t\tif (e.kind === GroupModelChangeKind.GROUP_LOCKED) {\n\t\t\t\trightFiredCountFromGroup++;\n\t\t\t}\n\t\t});\n\n\t\trightGroup.lock(true);\n\t\trightGroup.lock(true);\n\n\t\tassert.strictEqual(leftFiredCountFromGroup, 0);\n\t\tassert.strictEqual(leftFiredCountFromPart, 0);\n\t\tassert.strictEqual(rightFiredCountFromGroup, 1);\n\t\tassert.strictEqual(rightFiredCountFromPart, 1);\n\n\t\trightGroup.lock(false);\n\t\trightGroup.lock(false);\n\n\t\tassert.strictEqual(leftFiredCountFromGroup, 0);\n\t\tassert.strictEqual(leftFiredCountFromPart, 0);\n\t\tassert.strictEqual(rightFiredCountFromGroup, 2);\n\t\tassert.strictEqual(rightFiredCountFromPart, 2);\n\n\t\tgroup.lock(true);\n\t\tgroup.lock(true);\n\n\t\tassert.strictEqual(leftFiredCountFromGroup, 1);\n\t\tassert.strictEqual(leftFiredCountFromPart, 1);\n\t\tassert.strictEqual(rightFiredCountFromGroup, 2);\n\t\tassert.strictEqual(rightFiredCountFromPart, 2);\n\n\t\tgroup.lock(false);\n\t\tgroup.lock(false);\n\n\t\tassert.strictEqual(leftFiredCountFromGroup, 2);\n\t\tassert.strictEqual(leftFiredCountFromPart, 2);\n\t\tassert.strictEqual(rightFiredCountFromGroup, 2);\n\t\tassert.strictEqual(rightFiredCountFromPart, 2);\n\n\t\tpartListener.dispose();\n\t\tleftGroupListener.dispose();\n\t\trightGroupListener.dispose();\n\t});\n\n\ttest('locked groups - single group is can be locked', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\n\t\tgroup.lock(true);\n\t\tassert.strictEqual(group.isLocked, true);\n\n\t\tconst rightGroup = part.addGroup(group, GroupDirection.RIGHT);\n\t\trightGroup.lock(true);\n\n\t\tassert.strictEqual(rightGroup.isLocked, true);\n\n\t\tpart.removeGroup(group);\n\t\tassert.strictEqual(rightGroup.isLocked, true);\n\n\t\tconst rightGroup2 = part.addGroup(rightGroup, GroupDirection.RIGHT);\n\t\trightGroup.lock(true);\n\t\trightGroup2.lock(true);\n\n\t\tassert.strictEqual(rightGroup.isLocked, true);\n\t\tassert.strictEqual(rightGroup2.isLocked, true);\n\n\t\tpart.removeGroup(rightGroup2);\n\n\t\tassert.strictEqual(rightGroup.isLocked, true);\n\t});\n\n\ttest('locked groups - auto locking via setting', async () => {\n\t\tconst instantiationService = workbenchInstantiationService(undefined, disposables);\n\t\tconst configurationService = new TestConfigurationService();\n\t\tawait configurationService.setUserConfiguration('workbench', { 'editor': { 'autoLockGroups': { 'testEditorInputForEditorGroupService': true } } });\n\t\tinstantiationService.stub(IConfigurationService, configurationService);\n\n\t\tconst [part] = await createPart(instantiationService);\n\n\t\tconst rootGroup = part.activeGroup;\n\t\tlet rightGroup = part.addGroup(rootGroup, GroupDirection.RIGHT);\n\n\t\tlet input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tlet input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\n\t\t// First editor opens in right group: Locked=true\n\t\tawait rightGroup.openEditor(input1, { pinned: true });\n\t\tassert.strictEqual(rightGroup.isLocked, true);\n\n\t\t// Second editors opens in now unlocked right group: Locked=false\n\t\trightGroup.lock(false);\n\t\tawait rightGroup.openEditor(input2, { pinned: true });\n\t\tassert.strictEqual(rightGroup.isLocked, false);\n\n\t\t//First editor opens in root group without other groups being opened: Locked=false\n\t\tawait rightGroup.closeAllEditors();\n\t\tpart.removeGroup(rightGroup);\n\t\tawait rootGroup.closeAllEditors();\n\n\t\tinput1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tinput2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait rootGroup.openEditor(input1, { pinned: true });\n\t\tassert.strictEqual(rootGroup.isLocked, false);\n\t\trightGroup = part.addGroup(rootGroup, GroupDirection.RIGHT);\n\t\tassert.strictEqual(rootGroup.isLocked, false);\n\t\tconst leftGroup = part.addGroup(rootGroup, GroupDirection.LEFT);\n\t\tassert.strictEqual(rootGroup.isLocked, false);\n\t\tpart.removeGroup(leftGroup);\n\t\tassert.strictEqual(rootGroup.isLocked, false);\n\t});\n\n\ttest('maximize editor group', async () => {\n\t\tconst instantiationService = workbenchInstantiationService(undefined, disposables);\n\t\tconst [part] = await createPart(instantiationService);\n\n\t\tconst rootGroup = part.activeGroup;\n\t\tconst editorPartSize = part.getSize(rootGroup);\n\n\t\t// If there is only one group, it should not be considered maximized\n\t\tassert.strictEqual(part.hasMaximizedGroup(), false);\n\n\t\tconst rightGroup = part.addGroup(rootGroup, GroupDirection.RIGHT);\n\t\tconst rightBottomGroup = part.addGroup(rightGroup, GroupDirection.DOWN);\n\n\t\tconst sizeRootGroup = part.getSize(rootGroup);\n\t\tconst sizeRightGroup = part.getSize(rightGroup);\n\t\tconst sizeRightBottomGroup = part.getSize(rightBottomGroup);\n\n\t\tlet maximizedValue;\n\t\tconst maxiizeGroupEventDisposable = part.onDidChangeGroupMaximized((maximized) => {\n\t\t\tmaximizedValue = maximized;\n\t\t});\n\n\t\tassert.strictEqual(part.hasMaximizedGroup(), false);\n\n\t\tpart.arrangeGroups(GroupsArrangement.MAXIMIZE, rootGroup);\n\n\t\tassert.strictEqual(part.hasMaximizedGroup(), true);\n\n\t\t// getSize()\n\t\tassert.deepStrictEqual(part.getSize(rootGroup), editorPartSize);\n\t\tassert.deepStrictEqual(part.getSize(rightGroup), { width: 0, height: 0 });\n\t\tassert.deepStrictEqual(part.getSize(rightBottomGroup), { width: 0, height: 0 });\n\n\t\tassert.deepStrictEqual(maximizedValue, true);\n\n\t\tpart.toggleMaximizeGroup();\n\n\t\tassert.strictEqual(part.hasMaximizedGroup(), false);\n\n\t\t// Size is restored\n\t\tassert.deepStrictEqual(part.getSize(rootGroup), sizeRootGroup);\n\t\tassert.deepStrictEqual(part.getSize(rightGroup), sizeRightGroup);\n\t\tassert.deepStrictEqual(part.getSize(rightBottomGroup), sizeRightBottomGroup);\n\n\t\tassert.deepStrictEqual(maximizedValue, false);\n\t\tmaxiizeGroupEventDisposable.dispose();\n\t});\n\n\ttest('transient editors - basics', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputTransient = createTestFileEditorInput(URI.file('foo/bar/inactive'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditor(input, { pinned: true });\n\t\tawait group.openEditor(inputTransient, { transient: true });\n\n\t\tassert.strictEqual(group.isTransient(input), false);\n\t\tassert.strictEqual(group.isTransient(inputTransient), true);\n\n\t\tawait group.openEditor(input, { pinned: true });\n\t\tawait group.openEditor(inputTransient, { transient: true });\n\n\t\tassert.strictEqual(group.isTransient(inputTransient), true);\n\n\t\tawait group.openEditor(inputTransient, { transient: false });\n\t\tassert.strictEqual(group.isTransient(inputTransient), false);\n\n\t\tawait group.openEditor(inputTransient, { transient: true });\n\t\tassert.strictEqual(group.isTransient(inputTransient), false); // cannot make a non-transient editor transient when already opened\n\t});\n\n\ttest('transient editors - pinning clears transient', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputTransient = createTestFileEditorInput(URI.file('foo/bar/inactive'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditor(input, { pinned: true });\n\t\tawait group.openEditor(inputTransient, { transient: true });\n\n\t\tassert.strictEqual(group.isTransient(input), false);\n\t\tassert.strictEqual(group.isTransient(inputTransient), true);\n\n\t\tawait group.openEditor(input, { pinned: true });\n\t\tawait group.openEditor(inputTransient, { pinned: true, transient: true });\n\n\t\tassert.strictEqual(group.isTransient(inputTransient), false);\n\t});\n\n\ttest('transient editors - overrides enablePreview setting', async function () {\n\t\tconst instantiationService = workbenchInstantiationService(undefined, disposables);\n\t\tconst configurationService = new TestConfigurationService();\n\t\tawait configurationService.setUserConfiguration('workbench', { 'editor': { 'enablePreview': false } });\n\t\tinstantiationService.stub(IConfigurationService, configurationService);\n\n\t\tconst [part] = await createPart(instantiationService);\n\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditor(input, { pinned: false });\n\t\tassert.strictEqual(group.isPinned(input), true);\n\n\t\tawait group.openEditor(input2, { transient: true });\n\t\tassert.strictEqual(group.isPinned(input2), false);\n\n\t\tgroup.focus();\n\t\tassert.strictEqual(group.isPinned(input2), true);\n\t});\n\n\ttest('working sets - create / apply state', async function () {\n\t\tconst [part] = await createPart();\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\n\t\tconst pane1 = await part.activeGroup.openEditor(input, { pinned: true });\n\t\tconst pane2 = await part.sideGroup.openEditor(input2, { pinned: true });\n\n\t\tconst state = part.createState();\n\n\t\tawait pane2?.group.closeAllEditors();\n\t\tawait pane1?.group.closeAllEditors();\n\n\t\tassert.strictEqual(part.count, 1);\n\t\tassert.strictEqual(part.activeGroup.isEmpty, true);\n\n\t\tawait part.applyState(state);\n\n\t\tassert.strictEqual(part.count, 2);\n\n\t\tassert.strictEqual(part.groups[0].contains(input), true);\n\t\tassert.strictEqual(part.groups[1].contains(input2), true);\n\n\t\tfor (const group of part.groups) {\n\t\t\tawait group.closeAllEditors();\n\t\t}\n\n\t\tconst emptyState = part.createState();\n\n\t\tawait part.applyState(emptyState);\n\t\tassert.strictEqual(part.count, 1);\n\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\t\tinput3.dirty = true;\n\t\tawait part.activeGroup.openEditor(input3, { pinned: true });\n\n\t\tawait part.applyState(emptyState);\n\n\t\tassert.strictEqual(part.count, 1);\n\t\tassert.strictEqual(part.groups[0].contains(input3), true); // dirty editors enforce to be there even when state is empty\n\n\t\tawait part.applyState('empty');\n\n\t\tassert.strictEqual(part.count, 1);\n\t\tassert.strictEqual(part.groups[0].contains(input3), true); // dirty editors enforce to be there even when state is empty\n\n\t\tinput3.dirty = false;\n\n\t\tawait part.applyState('empty');\n\n\t\tassert.strictEqual(part.count, 1);\n\t\tassert.strictEqual(part.activeGroup.isEmpty, true);\n\t});\n\n\ttest('context key provider', async function () {\n\t\tconst disposables = new DisposableStore();\n\n\t\t// Instantiate workbench and setup initial state\n\t\tconst instantiationService = workbenchInstantiationService({ contextKeyService: instantiationService => instantiationService.createInstance(MockScopableContextKeyService) }, disposables);\n\t\tconst rootContextKeyService = instantiationService.get(IContextKeyService);\n\n\t\tconst [parts] = await createParts(instantiationService);\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\n\t\tconst group1 = parts.activeGroup;\n\t\tconst group2 = parts.addGroup(group1, GroupDirection.RIGHT);\n\n\t\tawait group2.openEditor(input2, { pinned: true });\n\t\tawait group1.openEditor(input1, { pinned: true });\n\n\t\t// Create context key provider\n\t\tconst rawContextKey = new RawContextKey<number>('testContextKey', parts.activeGroup.id);\n\t\tconst contextKeyProvider: IEditorGroupContextKeyProvider<number> = {\n\t\t\tcontextKey: rawContextKey,\n\t\t\tgetGroupContextKeyValue: (group) => group.id\n\t\t};\n\t\tdisposables.add(parts.registerContextKeyProvider(contextKeyProvider));\n\n\t\t// Initial state: group1 is active\n\t\tassert.strictEqual(parts.activeGroup.id, group1.id);\n\n\t\tlet globalContextKeyValue = rootContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tlet group1ContextKeyValue = group1.scopedContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tlet group2ContextKeyValue = group2.scopedContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tassert.strictEqual(globalContextKeyValue, group1.id);\n\t\tassert.strictEqual(group1ContextKeyValue, group1.id);\n\t\tassert.strictEqual(group2ContextKeyValue, group2.id);\n\n\t\t// Make group2 active and ensure both gloabal and local context key values are updated\n\t\tparts.activateGroup(group2);\n\n\t\tglobalContextKeyValue = rootContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tgroup1ContextKeyValue = group1.scopedContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tgroup2ContextKeyValue = group2.scopedContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tassert.strictEqual(globalContextKeyValue, group2.id);\n\t\tassert.strictEqual(group1ContextKeyValue, group1.id);\n\t\tassert.strictEqual(group2ContextKeyValue, group2.id);\n\n\t\t// Add a new group and ensure both gloabal and local context key values are updated\n\t\t// Group 3 will be active\n\t\tconst group3 = parts.addGroup(group2, GroupDirection.RIGHT);\n\t\tawait group3.openEditor(input3, { pinned: true });\n\n\t\tglobalContextKeyValue = rootContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tgroup1ContextKeyValue = group1.scopedContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tgroup2ContextKeyValue = group2.scopedContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tconst group3ContextKeyValue = group3.scopedContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tassert.strictEqual(globalContextKeyValue, group3.id);\n\t\tassert.strictEqual(group1ContextKeyValue, group1.id);\n\t\tassert.strictEqual(group2ContextKeyValue, group2.id);\n\t\tassert.strictEqual(group3ContextKeyValue, group3.id);\n\n\t\tdisposables.dispose();\n\t});\n\n\ttest('context key provider: onDidChange', async function () {\n\t\tconst disposables = new DisposableStore();\n\n\t\t// Instantiate workbench and setup initial state\n\t\tconst instantiationService = workbenchInstantiationService({ contextKeyService: instantiationService => instantiationService.createInstance(MockScopableContextKeyService) }, disposables);\n\t\tconst rootContextKeyService = instantiationService.get(IContextKeyService);\n\n\t\tconst parts = await createEditorParts(instantiationService, disposables);\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\n\t\tconst group1 = parts.activeGroup;\n\t\tconst group2 = parts.addGroup(group1, GroupDirection.RIGHT);\n\n\t\tawait group2.openEditor(input2, { pinned: true });\n\t\tawait group1.openEditor(input1, { pinned: true });\n\n\t\t// Create context key provider\n\t\tlet offset = 0;\n\t\tconst _onDidChange = new Emitter<void>();\n\n\t\tconst rawContextKey = new RawContextKey<number>('testContextKey', parts.activeGroup.id);\n\t\tconst contextKeyProvider: IEditorGroupContextKeyProvider<number> = {\n\t\t\tcontextKey: rawContextKey,\n\t\t\tgetGroupContextKeyValue: (group) => group.id + offset,\n\t\t\tonDidChange: _onDidChange.event\n\t\t};\n\t\tdisposables.add(parts.registerContextKeyProvider(contextKeyProvider));\n\n\t\t// Initial state: group1 is active\n\t\tassert.strictEqual(parts.activeGroup.id, group1.id);\n\n\t\tlet globalContextKeyValue = rootContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tlet group1ContextKeyValue = group1.scopedContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tlet group2ContextKeyValue = group2.scopedContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tassert.strictEqual(globalContextKeyValue, group1.id + offset);\n\t\tassert.strictEqual(group1ContextKeyValue, group1.id + offset);\n\t\tassert.strictEqual(group2ContextKeyValue, group2.id + offset);\n\n\t\t// Make a change to the context key provider and fire onDidChange such that all context key values are updated\n\t\toffset = 10;\n\t\t_onDidChange.fire();\n\n\t\tglobalContextKeyValue = rootContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tgroup1ContextKeyValue = group1.scopedContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tgroup2ContextKeyValue = group2.scopedContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tassert.strictEqual(globalContextKeyValue, group1.id + offset);\n\t\tassert.strictEqual(group1ContextKeyValue, group1.id + offset);\n\t\tassert.strictEqual(group2ContextKeyValue, group2.id + offset);\n\n\t\tdisposables.dispose();\n\t});\n\n\ttest('context key provider: active editor change', async function () {\n\t\tconst disposables = new DisposableStore();\n\n\t\t// Instantiate workbench and setup initial state\n\t\tconst instantiationService = workbenchInstantiationService({ contextKeyService: instantiationService => instantiationService.createInstance(MockScopableContextKeyService) }, disposables);\n\t\tconst rootContextKeyService = instantiationService.get(IContextKeyService);\n\n\t\tconst parts = await createEditorParts(instantiationService, disposables);\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\n\t\tconst group1 = parts.activeGroup;\n\n\t\tawait group1.openEditor(input2, { pinned: true });\n\t\tawait group1.openEditor(input1, { pinned: true });\n\n\t\t// Create context key provider\n\t\tconst rawContextKey = new RawContextKey<string>('testContextKey', input1.resource.toString());\n\t\tconst contextKeyProvider: IEditorGroupContextKeyProvider<string> = {\n\t\t\tcontextKey: rawContextKey,\n\t\t\tgetGroupContextKeyValue: (group) => group.activeEditor?.resource?.toString() ?? '',\n\t\t};\n\t\tdisposables.add(parts.registerContextKeyProvider(contextKeyProvider));\n\n\t\t// Initial state: input1 is active\n\t\tassert.strictEqual(isEqual(group1.activeEditor?.resource, input1.resource), true);\n\n\t\tlet globalContextKeyValue = rootContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tlet group1ContextKeyValue = group1.scopedContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tassert.strictEqual(globalContextKeyValue, input1.resource.toString());\n\t\tassert.strictEqual(group1ContextKeyValue, input1.resource.toString());\n\n\t\t// Make input2 active and ensure both gloabal and local context key values are updated\n\t\tawait group1.openEditor(input2);\n\n\t\tglobalContextKeyValue = rootContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tgroup1ContextKeyValue = group1.scopedContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tassert.strictEqual(globalContextKeyValue, input2.resource.toString());\n\t\tassert.strictEqual(group1ContextKeyValue, input2.resource.toString());\n\n\t\tdisposables.dispose();\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { workbenchInstantiationService, registerTestEditor, TestFileEditorInput, TestEditorPart, TestServiceAccessor, ITestInstantiationService, workbenchTeardown, createEditorParts, TestEditorParts } from '../../../../test/browser/workbenchTestServices.js';\nimport { GroupDirection, GroupsOrder, MergeGroupMode, GroupOrientation, GroupLocation, isEditorGroup, IEditorGroupsService, GroupsArrangement, IEditorGroupContextKeyProvider } from '../../common/editorGroupsService.js';\nimport { CloseDirection, IEditorPartOptions, EditorsOrder, EditorInputCapabilities, GroupModelChangeKind, SideBySideEditor, IEditorFactoryRegistry, EditorExtensions } from '../../../../common/editor.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { SyncDescriptor } from '../../../../../platform/instantiation/common/descriptors.js';\nimport { DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { MockScopableContextKeyService } from '../../../../../platform/keybinding/test/common/mockKeybindingService.js';\nimport { ConfirmResult } from '../../../../../platform/dialogs/common/dialogs.js';\nimport { TestConfigurationService } from '../../../../../platform/configuration/test/common/testConfigurationService.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { SideBySideEditorInput } from '../../../../common/editor/sideBySideEditorInput.js';\nimport { IGroupModelChangeEvent, IGroupEditorMoveEvent, IGroupEditorOpenEvent } from '../../../../common/editor/editorGroupModel.js';\nimport { TestInstantiationService } from '../../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { Registry } from '../../../../../platform/registry/common/platform.js';\nimport { IContextKeyService, RawContextKey } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { Emitter } from '../../../../../base/common/event.js';\nimport { isEqual } from '../../../../../base/common/resources.js';\n\nsuite('EditorGroupsService', () => {\n\n\tconst TEST_EDITOR_ID = 'MyFileEditorForEditorGroupService';\n\tconst TEST_EDITOR_INPUT_ID = 'testEditorInputForEditorGroupService';\n\n\tconst disposables = new DisposableStore();\n\n\tlet testLocalInstantiationService: ITestInstantiationService | undefined = undefined;\n\n\tsetup(() => {\n\t\tdisposables.add(registerTestEditor(TEST_EDITOR_ID, [new SyncDescriptor(TestFileEditorInput), new SyncDescriptor(SideBySideEditorInput)], TEST_EDITOR_INPUT_ID));\n\t});\n\n\tteardown(async () => {\n\t\tif (testLocalInstantiationService) {\n\t\t\tawait workbenchTeardown(testLocalInstantiationService);\n\t\t\ttestLocalInstantiationService = undefined;\n\t\t}\n\n\t\tdisposables.clear();\n\t});\n\n\tasync function createParts(instantiationService = workbenchInstantiationService(undefined, disposables)): Promise<[TestEditorParts, TestInstantiationService]> {\n\t\tinstantiationService.invokeFunction(accessor => Registry.as<IEditorFactoryRegistry>(EditorExtensions.EditorFactory).start(accessor));\n\t\tconst parts = await createEditorParts(instantiationService, disposables);\n\t\tinstantiationService.stub(IEditorGroupsService, parts);\n\n\t\ttestLocalInstantiationService = instantiationService;\n\n\t\treturn [parts, instantiationService];\n\t}\n\n\tasync function createPart(instantiationService?: TestInstantiationService): Promise<[TestEditorPart, TestInstantiationService]> {\n\t\tconst [parts, testInstantiationService] = await createParts(instantiationService);\n\t\treturn [parts.testMainPart, testInstantiationService];\n\t}\n\n\tfunction createTestFileEditorInput(resource: URI, typeId: string): TestFileEditorInput {\n\t\treturn disposables.add(new TestFileEditorInput(resource, typeId));\n\t}\n\n\ttest('groups basics', async function () {\n\t\tconst instantiationService = workbenchInstantiationService({ contextKeyService: instantiationService => instantiationService.createInstance(MockScopableContextKeyService) }, disposables);\n\t\tconst [part] = await createPart(instantiationService);\n\n\t\tlet activeGroupModelChangeCounter = 0;\n\t\tconst activeGroupModelChangeListener = part.onDidChangeActiveGroup(() => {\n\t\t\tactiveGroupModelChangeCounter++;\n\t\t});\n\n\t\tlet groupAddedCounter = 0;\n\t\tconst groupAddedListener = part.onDidAddGroup(() => {\n\t\t\tgroupAddedCounter++;\n\t\t});\n\n\t\tlet groupRemovedCounter = 0;\n\t\tconst groupRemovedListener = part.onDidRemoveGroup(() => {\n\t\t\tgroupRemovedCounter++;\n\t\t});\n\n\t\tlet groupMovedCounter = 0;\n\t\tconst groupMovedListener = part.onDidMoveGroup(() => {\n\t\t\tgroupMovedCounter++;\n\t\t});\n\n\t\t// always a root group\n\t\tconst rootGroup = part.groups[0];\n\t\tassert.strictEqual(isEditorGroup(rootGroup), true);\n\t\tassert.strictEqual(part.groups.length, 1);\n\t\tassert.strictEqual(part.count, 1);\n\t\tassert.strictEqual(rootGroup, part.getGroup(rootGroup.id));\n\t\tassert.ok(part.activeGroup === rootGroup);\n\t\tassert.strictEqual(rootGroup.label, 'Group 1');\n\n\t\tlet mru = part.getGroups(GroupsOrder.MOST_RECENTLY_ACTIVE);\n\t\tassert.strictEqual(mru.length, 1);\n\t\tassert.strictEqual(mru[0], rootGroup);\n\n\t\tconst rightGroup = part.addGroup(rootGroup, GroupDirection.RIGHT);\n\t\tassert.strictEqual(rightGroup, part.getGroup(rightGroup.id));\n\t\tassert.strictEqual(groupAddedCounter, 1);\n\t\tassert.strictEqual(part.groups.length, 2);\n\t\tassert.strictEqual(part.count, 2);\n\t\tassert.ok(part.activeGroup === rootGroup);\n\t\tassert.strictEqual(rootGroup.label, 'Group 1');\n\t\tassert.strictEqual(rightGroup.label, 'Group 2');\n\n\t\tmru = part.getGroups(GroupsOrder.MOST_RECENTLY_ACTIVE);\n\t\tassert.strictEqual(mru.length, 2);\n\t\tassert.strictEqual(mru[0], rootGroup);\n\t\tassert.strictEqual(mru[1], rightGroup);\n\n\t\tassert.strictEqual(activeGroupModelChangeCounter, 0);\n\n\t\tlet rootGroupActiveChangeCounter = 0;\n\t\tconst rootGroupModelChangeListener = rootGroup.onDidModelChange(e => {\n\t\t\tif (e.kind === GroupModelChangeKind.GROUP_ACTIVE) {\n\t\t\t\trootGroupActiveChangeCounter++;\n\t\t\t}\n\t\t});\n\n\t\tlet rightGroupActiveChangeCounter = 0;\n\t\tconst rightGroupModelChangeListener = rightGroup.onDidModelChange(e => {\n\t\t\tif (e.kind === GroupModelChangeKind.GROUP_ACTIVE) {\n\t\t\t\trightGroupActiveChangeCounter++;\n\t\t\t}\n\t\t});\n\n\t\tpart.activateGroup(rightGroup);\n\t\tassert.ok(part.activeGroup === rightGroup);\n\t\tassert.strictEqual(activeGroupModelChangeCounter, 1);\n\t\tassert.strictEqual(rootGroupActiveChangeCounter, 1);\n\t\tassert.strictEqual(rightGroupActiveChangeCounter, 1);\n\n\t\trootGroupModelChangeListener.dispose();\n\t\trightGroupModelChangeListener.dispose();\n\n\t\tmru = part.getGroups(GroupsOrder.MOST_RECENTLY_ACTIVE);\n\t\tassert.strictEqual(mru.length, 2);\n\t\tassert.strictEqual(mru[0], rightGroup);\n\t\tassert.strictEqual(mru[1], rootGroup);\n\n\t\tconst downGroup = part.addGroup(rightGroup, GroupDirection.DOWN);\n\t\tlet didDispose = false;\n\t\tdisposables.add(downGroup.onWillDispose(() => {\n\t\t\tdidDispose = true;\n\t\t}));\n\t\tassert.strictEqual(groupAddedCounter, 2);\n\t\tassert.strictEqual(part.groups.length, 3);\n\t\tassert.ok(part.activeGroup === rightGroup);\n\t\tassert.ok(!downGroup.activeEditorPane);\n\t\tassert.strictEqual(rootGroup.label, 'Group 1');\n\t\tassert.strictEqual(rightGroup.label, 'Group 2');\n\t\tassert.strictEqual(downGroup.label, 'Group 3');\n\n\t\tmru = part.getGroups(GroupsOrder.MOST_RECENTLY_ACTIVE);\n\t\tassert.strictEqual(mru.length, 3);\n\t\tassert.strictEqual(mru[0], rightGroup);\n\t\tassert.strictEqual(mru[1], rootGroup);\n\t\tassert.strictEqual(mru[2], downGroup);\n\n\t\tconst gridOrder = part.getGroups(GroupsOrder.GRID_APPEARANCE);\n\t\tassert.strictEqual(gridOrder.length, 3);\n\t\tassert.strictEqual(gridOrder[0], rootGroup);\n\t\tassert.strictEqual(gridOrder[0].index, 0);\n\t\tassert.strictEqual(gridOrder[1], rightGroup);\n\t\tassert.strictEqual(gridOrder[1].index, 1);\n\t\tassert.strictEqual(gridOrder[2], downGroup);\n\t\tassert.strictEqual(gridOrder[2].index, 2);\n\n\t\tpart.moveGroup(downGroup, rightGroup, GroupDirection.DOWN);\n\t\tassert.strictEqual(groupMovedCounter, 1);\n\n\t\tpart.removeGroup(downGroup);\n\t\tassert.ok(!part.getGroup(downGroup.id));\n\t\tassert.ok(!part.hasGroup(downGroup.id));\n\t\tassert.strictEqual(didDispose, true);\n\t\tassert.strictEqual(groupRemovedCounter, 1);\n\t\tassert.strictEqual(part.groups.length, 2);\n\t\tassert.ok(part.activeGroup === rightGroup);\n\t\tassert.strictEqual(rootGroup.label, 'Group 1');\n\t\tassert.strictEqual(rightGroup.label, 'Group 2');\n\n\t\tmru = part.getGroups(GroupsOrder.MOST_RECENTLY_ACTIVE);\n\t\tassert.strictEqual(mru.length, 2);\n\t\tassert.strictEqual(mru[0], rightGroup);\n\t\tassert.strictEqual(mru[1], rootGroup);\n\n\t\tconst rightGroupContextKeyService = part.activeGroup.scopedContextKeyService;\n\t\tconst rootGroupContextKeyService = rootGroup.scopedContextKeyService;\n\n\t\tassert.ok(rightGroupContextKeyService);\n\t\tassert.ok(rootGroupContextKeyService);\n\t\tassert.ok(rightGroupContextKeyService !== rootGroupContextKeyService);\n\n\t\tpart.removeGroup(rightGroup);\n\t\tassert.strictEqual(groupRemovedCounter, 2);\n\t\tassert.strictEqual(part.groups.length, 1);\n\t\tassert.ok(part.activeGroup === rootGroup);\n\n\t\tmru = part.getGroups(GroupsOrder.MOST_RECENTLY_ACTIVE);\n\t\tassert.strictEqual(mru.length, 1);\n\t\tassert.strictEqual(mru[0], rootGroup);\n\n\t\tpart.removeGroup(rootGroup); // cannot remove root group\n\t\tassert.strictEqual(part.groups.length, 1);\n\t\tassert.strictEqual(groupRemovedCounter, 2);\n\t\tassert.ok(part.activeGroup === rootGroup);\n\n\t\tpart.setGroupOrientation(part.orientation === GroupOrientation.HORIZONTAL ? GroupOrientation.VERTICAL : GroupOrientation.HORIZONTAL);\n\n\t\tactiveGroupModelChangeListener.dispose();\n\t\tgroupAddedListener.dispose();\n\t\tgroupRemovedListener.dispose();\n\t\tgroupMovedListener.dispose();\n\t});\n\n\ttest('sideGroup', async () => {\n\t\tconst instantiationService = workbenchInstantiationService({ contextKeyService: instantiationService => instantiationService.createInstance(MockScopableContextKeyService) }, disposables);\n\t\tconst [part] = await createPart(instantiationService);\n\n\t\tconst rootGroup = part.activeGroup;\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait rootGroup.openEditor(input1, { pinned: true });\n\t\tawait part.sideGroup.openEditor(input2, { pinned: true });\n\t\tassert.strictEqual(part.count, 2);\n\n\t\tpart.activateGroup(rootGroup);\n\t\tawait part.sideGroup.openEditor(input3, { pinned: true });\n\t\tassert.strictEqual(part.count, 2);\n\t});\n\n\ttest('save & restore state', async function () {\n\t\tconst [part, instantiationService] = await createPart();\n\n\t\tconst rootGroup = part.groups[0];\n\t\tconst rightGroup = part.addGroup(rootGroup, GroupDirection.RIGHT);\n\t\tconst downGroup = part.addGroup(rightGroup, GroupDirection.DOWN);\n\n\t\tconst rootGroupInput = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tawait rootGroup.openEditor(rootGroupInput, { pinned: true });\n\n\t\tconst rightGroupInput = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\t\tawait rightGroup.openEditor(rightGroupInput, { pinned: true });\n\n\t\tassert.strictEqual(part.groups.length, 3);\n\n\t\tpart.testSaveState();\n\t\tpart.dispose();\n\n\t\tconst [restoredPart] = await createPart(instantiationService);\n\n\t\tassert.strictEqual(restoredPart.groups.length, 3);\n\t\tassert.ok(restoredPart.getGroup(rootGroup.id));\n\t\tassert.ok(restoredPart.hasGroup(rootGroup.id));\n\t\tassert.ok(restoredPart.getGroup(rightGroup.id));\n\t\tassert.ok(restoredPart.hasGroup(rightGroup.id));\n\t\tassert.ok(restoredPart.getGroup(downGroup.id));\n\t\tassert.ok(restoredPart.hasGroup(downGroup.id));\n\n\t\trestoredPart.clearState();\n\t});\n\n\ttest('groups index / labels', async function () {\n\t\tconst [part] = await createPart();\n\n\t\tconst rootGroup = part.groups[0];\n\t\tconst rightGroup = part.addGroup(rootGroup, GroupDirection.RIGHT);\n\t\tconst downGroup = part.addGroup(rightGroup, GroupDirection.DOWN);\n\n\t\tlet groupIndexChangedCounter = 0;\n\t\tconst groupIndexChangedListener = part.onDidChangeGroupIndex(() => {\n\t\t\tgroupIndexChangedCounter++;\n\t\t});\n\n\t\tlet indexChangeCounter = 0;\n\t\tconst labelChangeListener = downGroup.onDidModelChange(e => {\n\t\t\tif (e.kind === GroupModelChangeKind.GROUP_INDEX) {\n\t\t\t\tindexChangeCounter++;\n\t\t\t}\n\t\t});\n\n\t\tassert.strictEqual(rootGroup.index, 0);\n\t\tassert.strictEqual(rightGroup.index, 1);\n\t\tassert.strictEqual(downGroup.index, 2);\n\t\tassert.strictEqual(rootGroup.label, 'Group 1');\n\t\tassert.strictEqual(rightGroup.label, 'Group 2');\n\t\tassert.strictEqual(downGroup.label, 'Group 3');\n\n\t\tpart.removeGroup(rightGroup);\n\t\tassert.strictEqual(rootGroup.index, 0);\n\t\tassert.strictEqual(downGroup.index, 1);\n\t\tassert.strictEqual(rootGroup.label, 'Group 1');\n\t\tassert.strictEqual(downGroup.label, 'Group 2');\n\t\tassert.strictEqual(indexChangeCounter, 1);\n\t\tassert.strictEqual(groupIndexChangedCounter, 1);\n\n\t\tpart.moveGroup(downGroup, rootGroup, GroupDirection.UP);\n\t\tassert.strictEqual(downGroup.index, 0);\n\t\tassert.strictEqual(rootGroup.index, 1);\n\t\tassert.strictEqual(downGroup.label, 'Group 1');\n\t\tassert.strictEqual(rootGroup.label, 'Group 2');\n\t\tassert.strictEqual(indexChangeCounter, 2);\n\t\tassert.strictEqual(groupIndexChangedCounter, 3);\n\n\t\tconst newFirstGroup = part.addGroup(downGroup, GroupDirection.UP);\n\t\tassert.strictEqual(newFirstGroup.index, 0);\n\t\tassert.strictEqual(downGroup.index, 1);\n\t\tassert.strictEqual(rootGroup.index, 2);\n\t\tassert.strictEqual(newFirstGroup.label, 'Group 1');\n\t\tassert.strictEqual(downGroup.label, 'Group 2');\n\t\tassert.strictEqual(rootGroup.label, 'Group 3');\n\t\tassert.strictEqual(indexChangeCounter, 3);\n\t\tassert.strictEqual(groupIndexChangedCounter, 6);\n\n\t\tlabelChangeListener.dispose();\n\t\tgroupIndexChangedListener.dispose();\n\t});\n\n\ttest('groups label', async function () {\n\t\tconst [part] = await createPart();\n\n\t\tconst rootGroup = part.groups[0];\n\t\tconst rightGroup = part.addGroup(rootGroup, GroupDirection.RIGHT);\n\n\t\tlet partLabelChangedCounter = 0;\n\t\tconst groupIndexChangedListener = part.onDidChangeGroupLabel(() => {\n\t\t\tpartLabelChangedCounter++;\n\t\t});\n\n\t\tlet rootGroupLabelChangeCounter = 0;\n\t\tconst rootGroupLabelChangeListener = rootGroup.onDidModelChange(e => {\n\t\t\tif (e.kind === GroupModelChangeKind.GROUP_LABEL) {\n\t\t\t\trootGroupLabelChangeCounter++;\n\t\t\t}\n\t\t});\n\n\t\tlet rightGroupLabelChangeCounter = 0;\n\t\tconst rightGroupLabelChangeListener = rightGroup.onDidModelChange(e => {\n\t\t\tif (e.kind === GroupModelChangeKind.GROUP_LABEL) {\n\t\t\t\trightGroupLabelChangeCounter++;\n\t\t\t}\n\t\t});\n\n\t\tassert.strictEqual(rootGroup.label, 'Group 1');\n\t\tassert.strictEqual(rightGroup.label, 'Group 2');\n\n\t\tpart.notifyGroupsLabelChange('Window 2');\n\n\t\tassert.strictEqual(rootGroup.label, 'Window 2: Group 1');\n\t\tassert.strictEqual(rightGroup.label, 'Window 2: Group 2');\n\n\t\tassert.strictEqual(rootGroupLabelChangeCounter, 1);\n\t\tassert.strictEqual(rightGroupLabelChangeCounter, 1);\n\t\tassert.strictEqual(partLabelChangedCounter, 2);\n\n\t\tpart.notifyGroupsLabelChange('Window 3');\n\n\t\tassert.strictEqual(rootGroup.label, 'Window 3: Group 1');\n\t\tassert.strictEqual(rightGroup.label, 'Window 3: Group 2');\n\n\t\tassert.strictEqual(rootGroupLabelChangeCounter, 2);\n\t\tassert.strictEqual(rightGroupLabelChangeCounter, 2);\n\t\tassert.strictEqual(partLabelChangedCounter, 4);\n\n\t\trootGroupLabelChangeListener.dispose();\n\t\trightGroupLabelChangeListener.dispose();\n\t\tgroupIndexChangedListener.dispose();\n\t});\n\n\ttest('copy/merge groups', async () => {\n\t\tconst [part] = await createPart();\n\n\t\tlet groupAddedCounter = 0;\n\t\tconst groupAddedListener = part.onDidAddGroup(() => {\n\t\t\tgroupAddedCounter++;\n\t\t});\n\n\t\tlet groupRemovedCounter = 0;\n\t\tconst groupRemovedListener = part.onDidRemoveGroup(() => {\n\t\t\tgroupRemovedCounter++;\n\t\t});\n\n\t\tconst rootGroup = part.groups[0];\n\t\tlet rootGroupDisposed = false;\n\t\tconst disposeListener = rootGroup.onWillDispose(() => {\n\t\t\trootGroupDisposed = true;\n\t\t});\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait rootGroup.openEditor(input, { pinned: true });\n\t\tconst rightGroup = part.addGroup(rootGroup, GroupDirection.RIGHT);\n\t\tpart.activateGroup(rightGroup);\n\t\tconst downGroup = part.copyGroup(rootGroup, rightGroup, GroupDirection.DOWN);\n\t\tassert.strictEqual(groupAddedCounter, 2);\n\t\tassert.strictEqual(downGroup.count, 1);\n\t\tassert.ok(downGroup.activeEditor instanceof TestFileEditorInput);\n\t\tlet res = part.mergeGroup(rootGroup, rightGroup, { mode: MergeGroupMode.COPY_EDITORS });\n\t\tassert.strictEqual(res, true);\n\t\tassert.strictEqual(rightGroup.count, 1);\n\t\tassert.ok(rightGroup.activeEditor instanceof TestFileEditorInput);\n\t\tres = part.mergeGroup(rootGroup, rightGroup, { mode: MergeGroupMode.MOVE_EDITORS });\n\t\tassert.strictEqual(res, true);\n\t\tassert.strictEqual(rootGroup.count, 0);\n\t\tres = part.mergeGroup(rootGroup, downGroup);\n\t\tassert.strictEqual(res, true);\n\t\tassert.strictEqual(groupRemovedCounter, 1);\n\t\tassert.strictEqual(rootGroupDisposed, true);\n\n\t\tgroupAddedListener.dispose();\n\t\tgroupRemovedListener.dispose();\n\t\tdisposeListener.dispose();\n\t\tpart.dispose();\n\t});\n\n\ttest('merge all groups', async () => {\n\t\tconst [part] = await createPart();\n\n\t\tconst rootGroup = part.groups[0];\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait rootGroup.openEditor(input1, { pinned: true });\n\n\t\tconst rightGroup = part.addGroup(rootGroup, GroupDirection.RIGHT);\n\t\tawait rightGroup.openEditor(input2, { pinned: true });\n\n\t\tconst downGroup = part.copyGroup(rootGroup, rightGroup, GroupDirection.DOWN);\n\t\tawait downGroup.openEditor(input3, { pinned: true });\n\n\t\tpart.activateGroup(rootGroup);\n\n\t\tassert.strictEqual(rootGroup.count, 1);\n\n\t\tconst result = part.mergeAllGroups(part.activeGroup);\n\t\tassert.strictEqual(result, true);\n\t\tassert.strictEqual(rootGroup.count, 3);\n\n\t\tpart.dispose();\n\t});\n\n\ttest('whenReady / whenRestored', async () => {\n\t\tconst [part] = await createPart();\n\n\t\tawait part.whenReady;\n\t\tassert.strictEqual(part.isReady, true);\n\t\tawait part.whenRestored;\n\t});\n\n\ttest('options', async () => {\n\t\tconst [part] = await createPart();\n\n\t\tlet oldOptions!: IEditorPartOptions;\n\t\tlet newOptions!: IEditorPartOptions;\n\t\tdisposables.add(part.onDidChangeEditorPartOptions(event => {\n\t\t\toldOptions = event.oldPartOptions;\n\t\t\tnewOptions = event.newPartOptions;\n\t\t}));\n\n\t\tconst currentOptions = part.partOptions;\n\t\tassert.ok(currentOptions);\n\n\t\tdisposables.add(part.enforcePartOptions({ showTabs: 'single' }));\n\t\tassert.strictEqual(part.partOptions.showTabs, 'single');\n\t\tassert.strictEqual(newOptions.showTabs, 'single');\n\t\tassert.strictEqual(oldOptions, currentOptions);\n\t});\n\n\ttest('editor basics', async function () {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tlet activeEditorChangeCounter = 0;\n\t\tlet editorDidOpenCounter = 0;\n\t\tconst editorOpenEvents: IGroupModelChangeEvent[] = [];\n\t\tlet editorCloseCounter = 0;\n\t\tconst editorCloseEvents: IGroupModelChangeEvent[] = [];\n\t\tlet editorPinCounter = 0;\n\t\tlet editorStickyCounter = 0;\n\t\tlet editorCapabilitiesCounter = 0;\n\t\tconst editorGroupModelChangeListener = group.onDidModelChange(e => {\n\t\t\tif (e.kind === GroupModelChangeKind.EDITOR_OPEN) {\n\t\t\t\tassert.ok(e.editor);\n\t\t\t\teditorDidOpenCounter++;\n\t\t\t\teditorOpenEvents.push(e);\n\t\t\t} else if (e.kind === GroupModelChangeKind.EDITOR_PIN) {\n\t\t\t\tassert.ok(e.editor);\n\t\t\t\teditorPinCounter++;\n\t\t\t} else if (e.kind === GroupModelChangeKind.EDITOR_STICKY) {\n\t\t\t\tassert.ok(e.editor);\n\t\t\t\teditorStickyCounter++;\n\t\t\t} else if (e.kind === GroupModelChangeKind.EDITOR_CAPABILITIES) {\n\t\t\t\tassert.ok(e.editor);\n\t\t\t\teditorCapabilitiesCounter++;\n\t\t\t} else if (e.kind === GroupModelChangeKind.EDITOR_CLOSE) {\n\t\t\t\tassert.ok(e.editor);\n\t\t\t\teditorCloseCounter++;\n\t\t\t\teditorCloseEvents.push(e);\n\t\t\t}\n\t\t});\n\t\tconst activeEditorChangeListener = group.onDidActiveEditorChange(e => {\n\t\t\tassert.ok(e.editor);\n\t\t\tactiveEditorChangeCounter++;\n\t\t});\n\n\t\tlet editorCloseCounter1 = 0;\n\t\tconst editorCloseListener = group.onDidCloseEditor(() => {\n\t\t\teditorCloseCounter1++;\n\t\t});\n\n\t\tlet editorWillCloseCounter = 0;\n\t\tconst editorWillCloseListener = group.onWillCloseEditor(() => {\n\t\t\teditorWillCloseCounter++;\n\t\t});\n\n\t\tlet editorDidCloseCounter = 0;\n\t\tconst editorDidCloseListener = group.onDidCloseEditor(() => {\n\t\t\teditorDidCloseCounter++;\n\t\t});\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputInactive = createTestFileEditorInput(URI.file('foo/bar/inactive'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditor(input, { pinned: true });\n\t\tawait group.openEditor(inputInactive, { inactive: true });\n\n\t\tassert.strictEqual(group.isActive(input), true);\n\t\tassert.strictEqual(group.isActive(inputInactive), false);\n\t\tassert.strictEqual(group.contains(input), true);\n\t\tassert.strictEqual(group.contains(inputInactive), true);\n\t\tassert.strictEqual(group.isEmpty, false);\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(editorCapabilitiesCounter, 0);\n\t\tassert.strictEqual(editorDidOpenCounter, 2);\n\t\tassert.strictEqual((editorOpenEvents[0] as IGroupEditorOpenEvent).editorIndex, 0);\n\t\tassert.strictEqual((editorOpenEvents[1] as IGroupEditorOpenEvent).editorIndex, 1);\n\t\tassert.strictEqual(editorOpenEvents[0].editor, input);\n\t\tassert.strictEqual(editorOpenEvents[1].editor, inputInactive);\n\t\tassert.strictEqual(activeEditorChangeCounter, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input);\n\t\tassert.strictEqual(group.getEditorByIndex(1), inputInactive);\n\t\tassert.strictEqual(group.getIndexOfEditor(input), 0);\n\t\tassert.strictEqual(group.getIndexOfEditor(inputInactive), 1);\n\t\tassert.strictEqual(group.isFirst(input), true);\n\t\tassert.strictEqual(group.isFirst(inputInactive), false);\n\t\tassert.strictEqual(group.isLast(input), false);\n\t\tassert.strictEqual(group.isLast(inputInactive), true);\n\n\t\tinput.capabilities = EditorInputCapabilities.RequiresTrust;\n\t\tassert.strictEqual(editorCapabilitiesCounter, 1);\n\n\t\tinputInactive.capabilities = EditorInputCapabilities.Singleton;\n\t\tassert.strictEqual(editorCapabilitiesCounter, 2);\n\n\t\tassert.strictEqual(group.previewEditor, inputInactive);\n\t\tassert.strictEqual(group.isPinned(inputInactive), false);\n\t\tgroup.pinEditor(inputInactive);\n\t\tassert.strictEqual(editorPinCounter, 1);\n\t\tassert.strictEqual(group.isPinned(inputInactive), true);\n\t\tassert.ok(!group.previewEditor);\n\n\t\tassert.strictEqual(group.activeEditor, input);\n\t\tassert.strictEqual(group.activeEditorPane?.getId(), TEST_EDITOR_ID);\n\t\tassert.strictEqual(group.count, 2);\n\n\t\tconst mru = group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE);\n\t\tassert.strictEqual(mru[0], input);\n\t\tassert.strictEqual(mru[1], inputInactive);\n\n\t\tawait group.openEditor(inputInactive);\n\t\tassert.strictEqual(activeEditorChangeCounter, 2);\n\t\tassert.strictEqual(group.activeEditor, inputInactive);\n\n\t\tawait group.openEditor(input);\n\t\tconst closed = await group.closeEditor(inputInactive);\n\t\tassert.strictEqual(closed, true);\n\n\t\tassert.strictEqual(activeEditorChangeCounter, 3);\n\t\tassert.strictEqual(editorCloseCounter, 1);\n\t\tassert.strictEqual((editorCloseEvents[0] as IGroupEditorOpenEvent).editorIndex, 1);\n\t\tassert.strictEqual(editorCloseEvents[0].editor, inputInactive);\n\t\tassert.strictEqual(editorCloseCounter1, 1);\n\t\tassert.strictEqual(editorWillCloseCounter, 1);\n\t\tassert.strictEqual(editorDidCloseCounter, 1);\n\n\t\tassert.ok(inputInactive.gotDisposed);\n\n\t\tassert.strictEqual(group.activeEditor, input);\n\n\t\tassert.strictEqual(editorStickyCounter, 0);\n\t\tgroup.stickEditor(input);\n\t\tassert.strictEqual(editorStickyCounter, 1);\n\t\tgroup.unstickEditor(input);\n\t\tassert.strictEqual(editorStickyCounter, 2);\n\n\t\teditorCloseListener.dispose();\n\t\teditorWillCloseListener.dispose();\n\t\teditorDidCloseListener.dispose();\n\t\tactiveEditorChangeListener.dispose();\n\t\teditorGroupModelChangeListener.dispose();\n\t});\n\n\ttest('openEditors / closeEditors', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputInactive = createTestFileEditorInput(URI.file('foo/bar/inactive'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([\n\t\t\t{ editor: input, options: { pinned: true } },\n\t\t\t{ editor: inputInactive }\n\t\t]);\n\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input);\n\t\tassert.strictEqual(group.getEditorByIndex(1), inputInactive);\n\n\t\tawait group.closeEditors([input, inputInactive]);\n\n\t\tassert.ok(input.gotDisposed);\n\t\tassert.ok(inputInactive.gotDisposed);\n\n\t\tassert.strictEqual(group.isEmpty, true);\n\t});\n\n\ttest('closeEditor - dirty editor handling', async () => {\n\t\tconst [part, instantiationService] = await createPart();\n\n\t\tconst accessor = instantiationService.createInstance(TestServiceAccessor);\n\t\taccessor.fileDialogService.setConfirmResult(ConfirmResult.DONT_SAVE);\n\n\t\tconst group = part.activeGroup;\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tinput.dirty = true;\n\n\t\tawait group.openEditor(input);\n\n\t\taccessor.fileDialogService.setConfirmResult(ConfirmResult.CANCEL);\n\t\tlet closed = await group.closeEditor(input);\n\t\tassert.strictEqual(closed, false);\n\n\t\tassert.ok(!input.gotDisposed);\n\n\t\taccessor.fileDialogService.setConfirmResult(ConfirmResult.DONT_SAVE);\n\t\tclosed = await group.closeEditor(input);\n\t\tassert.strictEqual(closed, true);\n\n\t\tassert.ok(input.gotDisposed);\n\t});\n\n\ttest('closeEditor (one, opened in multiple groups)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst rightGroup = part.addGroup(group, GroupDirection.RIGHT);\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputInactive = createTestFileEditorInput(URI.file('foo/bar/inactive'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([{ editor: input, options: { pinned: true } }, { editor: inputInactive }]);\n\t\tawait rightGroup.openEditors([{ editor: input, options: { pinned: true } }, { editor: inputInactive }]);\n\n\t\tlet closed = await rightGroup.closeEditor(input);\n\t\tassert.strictEqual(closed, true);\n\n\t\tassert.ok(!input.gotDisposed);\n\n\t\tclosed = await group.closeEditor(input);\n\t\tassert.strictEqual(closed, true);\n\n\t\tassert.ok(input.gotDisposed);\n\t});\n\n\ttest('closeEditors - dirty editor handling', async () => {\n\t\tconst [part, instantiationService] = await createPart();\n\n\t\tconst accessor = instantiationService.createInstance(TestServiceAccessor);\n\t\taccessor.fileDialogService.setConfirmResult(ConfirmResult.DONT_SAVE);\n\t\tlet closeResult = false;\n\n\t\tconst group = part.activeGroup;\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tinput1.dirty = true;\n\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditor(input1);\n\t\tawait group.openEditor(input2);\n\n\t\taccessor.fileDialogService.setConfirmResult(ConfirmResult.CANCEL);\n\t\tcloseResult = await group.closeEditors([input1, input2]);\n\t\tassert.strictEqual(closeResult, false);\n\n\t\tassert.ok(!input1.gotDisposed);\n\t\tassert.ok(!input2.gotDisposed);\n\n\t\taccessor.fileDialogService.setConfirmResult(ConfirmResult.DONT_SAVE);\n\t\tcloseResult = await group.closeEditors([input1, input2]);\n\t\tassert.strictEqual(closeResult, true);\n\n\t\tassert.ok(input1.gotDisposed);\n\t\tassert.ok(input2.gotDisposed);\n\t});\n\n\ttest('closeEditors (except one)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([\n\t\t\t{ editor: input1, options: { pinned: true } },\n\t\t\t{ editor: input2, options: { pinned: true } },\n\t\t\t{ editor: input3 }\n\t\t]);\n\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\t\tassert.strictEqual(group.getEditorByIndex(2), input3);\n\n\t\tawait group.closeEditors({ except: input2 });\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input2);\n\t});\n\n\ttest('closeEditors (except one, sticky editor)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([\n\t\t\t{ editor: input1, options: { pinned: true, sticky: true } },\n\t\t\t{ editor: input2, options: { pinned: true } },\n\t\t\t{ editor: input3 }\n\t\t]);\n\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\t\tassert.strictEqual(group.getEditorByIndex(2), input3);\n\n\t\tawait group.closeEditors({ except: input2, excludeSticky: true });\n\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\n\t\tawait group.closeEditors({ except: input2 });\n\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.stickyCount, 0);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input2);\n\t});\n\n\ttest('closeEditors (saved only)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([\n\t\t\t{ editor: input1, options: { pinned: true } },\n\t\t\t{ editor: input2, options: { pinned: true } },\n\t\t\t{ editor: input3 }\n\t\t]);\n\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\t\tassert.strictEqual(group.getEditorByIndex(2), input3);\n\n\t\tawait group.closeEditors({ savedOnly: true });\n\t\tassert.strictEqual(group.count, 0);\n\t});\n\n\ttest('closeEditors (saved only, sticky editor)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([\n\t\t\t{ editor: input1, options: { pinned: true, sticky: true } },\n\t\t\t{ editor: input2, options: { pinned: true } },\n\t\t\t{ editor: input3 }\n\t\t]);\n\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\t\tassert.strictEqual(group.getEditorByIndex(2), input3);\n\n\t\tawait group.closeEditors({ savedOnly: true, excludeSticky: true });\n\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\n\t\tawait group.closeEditors({ savedOnly: true });\n\t\tassert.strictEqual(group.count, 0);\n\t});\n\n\ttest('closeEditors (direction: right)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([\n\t\t\t{ editor: input1, options: { pinned: true } },\n\t\t\t{ editor: input2, options: { pinned: true } },\n\t\t\t{ editor: input3 }\n\t\t]);\n\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\t\tassert.strictEqual(group.getEditorByIndex(2), input3);\n\n\t\tawait group.closeEditors({ direction: CloseDirection.RIGHT, except: input2 });\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\t});\n\n\ttest('closeEditors (direction: right, sticky editor)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([\n\t\t\t{ editor: input1, options: { pinned: true, sticky: true } },\n\t\t\t{ editor: input2, options: { pinned: true } },\n\t\t\t{ editor: input3 }\n\t\t]);\n\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\t\tassert.strictEqual(group.getEditorByIndex(2), input3);\n\n\t\tawait group.closeEditors({ direction: CloseDirection.RIGHT, except: input2, excludeSticky: true });\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\n\t\tawait group.closeEditors({ direction: CloseDirection.RIGHT, except: input2 });\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\t});\n\n\ttest('closeEditors (direction: left)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([\n\t\t\t{ editor: input1, options: { pinned: true } },\n\t\t\t{ editor: input2, options: { pinned: true } },\n\t\t\t{ editor: input3 }\n\t\t]);\n\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\t\tassert.strictEqual(group.getEditorByIndex(2), input3);\n\n\t\tawait group.closeEditors({ direction: CloseDirection.LEFT, except: input2 });\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input2);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input3);\n\t});\n\n\ttest('closeEditors (direction: left, sticky editor)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([\n\t\t\t{ editor: input1, options: { pinned: true, sticky: true } },\n\t\t\t{ editor: input2, options: { pinned: true } },\n\t\t\t{ editor: input3 }\n\t\t]);\n\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\t\tassert.strictEqual(group.getEditorByIndex(2), input3);\n\n\t\tawait group.closeEditors({ direction: CloseDirection.LEFT, except: input2, excludeSticky: true });\n\t\tassert.strictEqual(group.count, 3);\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\t\tassert.strictEqual(group.getEditorByIndex(2), input3);\n\n\t\tawait group.closeEditors({ direction: CloseDirection.LEFT, except: input2 });\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input2);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input3);\n\t});\n\n\ttest('closeAllEditors', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputInactive = createTestFileEditorInput(URI.file('foo/bar/inactive'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([\n\t\t\t{ editor: input, options: { pinned: true } },\n\t\t\t{ editor: inputInactive }\n\t\t]);\n\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input);\n\t\tassert.strictEqual(group.getEditorByIndex(1), inputInactive);\n\n\t\tawait group.closeAllEditors();\n\t\tassert.strictEqual(group.isEmpty, true);\n\t});\n\n\ttest('closeAllEditors - dirty editor handling', async () => {\n\t\tconst [part, instantiationService] = await createPart();\n\t\tlet closeResult = true;\n\n\t\tconst accessor = instantiationService.createInstance(TestServiceAccessor);\n\t\taccessor.fileDialogService.setConfirmResult(ConfirmResult.DONT_SAVE);\n\n\t\tconst group = part.activeGroup;\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tinput1.dirty = true;\n\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditor(input1);\n\t\tawait group.openEditor(input2);\n\n\t\taccessor.fileDialogService.setConfirmResult(ConfirmResult.CANCEL);\n\t\tcloseResult = await group.closeAllEditors();\n\n\t\tassert.strictEqual(closeResult, false);\n\t\tassert.ok(!input1.gotDisposed);\n\t\tassert.ok(!input2.gotDisposed);\n\n\t\taccessor.fileDialogService.setConfirmResult(ConfirmResult.DONT_SAVE);\n\t\tcloseResult = await group.closeAllEditors();\n\n\t\tassert.strictEqual(closeResult, true);\n\t\tassert.ok(input1.gotDisposed);\n\t\tassert.ok(input2.gotDisposed);\n\t});\n\n\ttest('closeAllEditors (sticky editor)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputInactive = createTestFileEditorInput(URI.file('foo/bar/inactive'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([\n\t\t\t{ editor: input, options: { pinned: true, sticky: true } },\n\t\t\t{ editor: inputInactive }\n\t\t]);\n\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(group.stickyCount, 1);\n\n\t\tawait group.closeAllEditors({ excludeSticky: true });\n\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input);\n\n\t\tawait group.closeAllEditors();\n\n\t\tassert.strictEqual(group.isEmpty, true);\n\t});\n\n\ttest('moveEditor (same group)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputInactive = createTestFileEditorInput(URI.file('foo/bar/inactive'), TEST_EDITOR_INPUT_ID);\n\n\t\tconst moveEvents: IGroupModelChangeEvent[] = [];\n\t\tconst editorGroupModelChangeListener = group.onDidModelChange(e => {\n\t\t\tif (e.kind === GroupModelChangeKind.EDITOR_MOVE) {\n\t\t\t\tassert.ok(e.editor);\n\t\t\t\tmoveEvents.push(e);\n\t\t\t}\n\t\t});\n\n\t\tawait group.openEditors([{ editor: input, options: { pinned: true } }, { editor: inputInactive }]);\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input);\n\t\tassert.strictEqual(group.getEditorByIndex(1), inputInactive);\n\t\tgroup.moveEditor(inputInactive, group, { index: 0 });\n\t\tassert.strictEqual(moveEvents.length, 1);\n\t\tassert.strictEqual((moveEvents[0] as IGroupEditorOpenEvent).editorIndex, 0);\n\t\tassert.strictEqual((moveEvents[0] as IGroupEditorMoveEvent).oldEditorIndex, 1);\n\t\tassert.strictEqual(moveEvents[0].editor, inputInactive);\n\t\tassert.strictEqual(group.getEditorByIndex(0), inputInactive);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input);\n\n\t\tconst res = group.moveEditors([{ editor: inputInactive, options: { index: 1 } }], group);\n\t\tassert.strictEqual(res, true);\n\t\tassert.strictEqual(moveEvents.length, 2);\n\t\tassert.strictEqual((moveEvents[1] as IGroupEditorOpenEvent).editorIndex, 1);\n\t\tassert.strictEqual((moveEvents[1] as IGroupEditorMoveEvent).oldEditorIndex, 0);\n\t\tassert.strictEqual(moveEvents[1].editor, inputInactive);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input);\n\t\tassert.strictEqual(group.getEditorByIndex(1), inputInactive);\n\n\t\teditorGroupModelChangeListener.dispose();\n\t});\n\n\ttest('moveEditor (across groups)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst rightGroup = part.addGroup(group, GroupDirection.RIGHT);\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputInactive = createTestFileEditorInput(URI.file('foo/bar/inactive'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([{ editor: input, options: { pinned: true } }, { editor: inputInactive }]);\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input);\n\t\tassert.strictEqual(group.getEditorByIndex(1), inputInactive);\n\t\tgroup.moveEditor(inputInactive, rightGroup, { index: 0 });\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input);\n\t\tassert.strictEqual(rightGroup.count, 1);\n\t\tassert.strictEqual(rightGroup.getEditorByIndex(0), inputInactive);\n\t});\n\n\ttest('moveEditors (across groups)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst rightGroup = part.addGroup(group, GroupDirection.RIGHT);\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([{ editor: input1, options: { pinned: true } }, { editor: input2, options: { pinned: true } }, { editor: input3, options: { pinned: true } }]);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\t\tassert.strictEqual(group.getEditorByIndex(2), input3);\n\t\tgroup.moveEditors([{ editor: input2 }, { editor: input3 }], rightGroup);\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(rightGroup.count, 2);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\tassert.strictEqual(rightGroup.getEditorByIndex(0), input2);\n\t\tassert.strictEqual(rightGroup.getEditorByIndex(1), input3);\n\t});\n\n\ttest('copyEditor (across groups)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst rightGroup = part.addGroup(group, GroupDirection.RIGHT);\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputInactive = createTestFileEditorInput(URI.file('foo/bar/inactive'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([{ editor: input, options: { pinned: true } }, { editor: inputInactive }]);\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input);\n\t\tassert.strictEqual(group.getEditorByIndex(1), inputInactive);\n\t\tgroup.copyEditor(inputInactive, rightGroup, { index: 0 });\n\t\tassert.strictEqual(group.count, 2);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input);\n\t\tassert.strictEqual(group.getEditorByIndex(1), inputInactive);\n\t\tassert.strictEqual(rightGroup.count, 1);\n\t\tassert.strictEqual(rightGroup.getEditorByIndex(0), inputInactive);\n\t});\n\n\ttest('copyEditors (across groups)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst rightGroup = part.addGroup(group, GroupDirection.RIGHT);\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([{ editor: input1, options: { pinned: true } }, { editor: input2, options: { pinned: true } }, { editor: input3, options: { pinned: true } }]);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\t\tassert.strictEqual(group.getEditorByIndex(2), input3);\n\t\tgroup.copyEditors([{ editor: input1 }, { editor: input2 }, { editor: input3 }], rightGroup);\n\t\t[group, rightGroup].forEach(group => {\n\t\t\tassert.strictEqual(group.getEditorByIndex(0), input1);\n\t\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\t\t\tassert.strictEqual(group.getEditorByIndex(2), input3);\n\t\t});\n\t});\n\n\ttest('replaceEditors', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputInactive = createTestFileEditorInput(URI.file('foo/bar/inactive'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditor(input);\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input);\n\n\t\tawait group.replaceEditors([{ editor: input, replacement: inputInactive }]);\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), inputInactive);\n\t});\n\n\ttest('replaceEditors - dirty editor handling', async () => {\n\t\tconst [part, instantiationService] = await createPart();\n\n\t\tconst accessor = instantiationService.createInstance(TestServiceAccessor);\n\t\taccessor.fileDialogService.setConfirmResult(ConfirmResult.DONT_SAVE);\n\n\t\tconst group = part.activeGroup;\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tinput1.dirty = true;\n\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditor(input1);\n\t\tassert.strictEqual(group.activeEditor, input1);\n\n\t\taccessor.fileDialogService.setConfirmResult(ConfirmResult.CANCEL);\n\t\tawait group.replaceEditors([{ editor: input1, replacement: input2 }]);\n\n\t\tassert.strictEqual(group.activeEditor, input1);\n\t\tassert.ok(!input1.gotDisposed);\n\n\t\taccessor.fileDialogService.setConfirmResult(ConfirmResult.DONT_SAVE);\n\t\tawait group.replaceEditors([{ editor: input1, replacement: input2 }]);\n\n\t\tassert.strictEqual(group.activeEditor, input2);\n\t\tassert.ok(input1.gotDisposed);\n\t});\n\n\ttest('replaceEditors - forceReplaceDirty flag', async () => {\n\t\tconst [part, instantiationService] = await createPart();\n\n\t\tconst accessor = instantiationService.createInstance(TestServiceAccessor);\n\t\taccessor.fileDialogService.setConfirmResult(ConfirmResult.DONT_SAVE);\n\n\t\tconst group = part.activeGroup;\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tinput1.dirty = true;\n\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditor(input1);\n\t\tassert.strictEqual(group.activeEditor, input1);\n\t\taccessor.fileDialogService.setConfirmResult(ConfirmResult.CANCEL);\n\t\tawait group.replaceEditors([{ editor: input1, replacement: input2, forceReplaceDirty: false }]);\n\n\t\tassert.strictEqual(group.activeEditor, input1);\n\t\tassert.ok(!input1.gotDisposed);\n\n\t\tawait group.replaceEditors([{ editor: input1, replacement: input2, forceReplaceDirty: true }]);\n\n\t\tassert.strictEqual(group.activeEditor, input2);\n\t\tassert.ok(input1.gotDisposed);\n\t});\n\n\ttest('replaceEditors - proper index handling', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\t\tconst input4 = createTestFileEditorInput(URI.file('foo/bar4'), TEST_EDITOR_INPUT_ID);\n\t\tconst input5 = createTestFileEditorInput(URI.file('foo/bar5'), TEST_EDITOR_INPUT_ID);\n\n\t\tconst input6 = createTestFileEditorInput(URI.file('foo/bar6'), TEST_EDITOR_INPUT_ID);\n\t\tconst input7 = createTestFileEditorInput(URI.file('foo/bar7'), TEST_EDITOR_INPUT_ID);\n\t\tconst input8 = createTestFileEditorInput(URI.file('foo/bar8'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditor(input1, { pinned: true });\n\t\tawait group.openEditor(input2, { pinned: true });\n\t\tawait group.openEditor(input3, { pinned: true });\n\t\tawait group.openEditor(input4, { pinned: true });\n\t\tawait group.openEditor(input5, { pinned: true });\n\n\t\tawait group.replaceEditors([\n\t\t\t{ editor: input1, replacement: input6 },\n\t\t\t{ editor: input3, replacement: input7 },\n\t\t\t{ editor: input5, replacement: input8 }\n\t\t]);\n\n\t\tassert.strictEqual(group.getEditorByIndex(0), input6);\n\t\tassert.strictEqual(group.getEditorByIndex(1), input2);\n\t\tassert.strictEqual(group.getEditorByIndex(2), input7);\n\t\tassert.strictEqual(group.getEditorByIndex(3), input4);\n\t\tassert.strictEqual(group.getEditorByIndex(4), input8);\n\t});\n\n\ttest('replaceEditors - should be able to replace when side by side editor is involved with same input side by side', async () => {\n\t\tconst [part, instantiationService] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst sideBySideInput = instantiationService.createInstance(SideBySideEditorInput, undefined, undefined, input, input);\n\n\t\tawait group.openEditor(input);\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input);\n\n\t\tawait group.replaceEditors([{ editor: input, replacement: sideBySideInput }]);\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), sideBySideInput);\n\n\t\tawait group.replaceEditors([{ editor: sideBySideInput, replacement: input }]);\n\t\tassert.strictEqual(group.count, 1);\n\t\tassert.strictEqual(group.getEditorByIndex(0), input);\n\t});\n\n\ttest('find editors', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tconst group2 = part.addGroup(group, GroupDirection.RIGHT);\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar1'), `${TEST_EDITOR_INPUT_ID}-1`);\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\t\tconst input4 = createTestFileEditorInput(URI.file('foo/bar4'), TEST_EDITOR_INPUT_ID);\n\t\tconst input5 = createTestFileEditorInput(URI.file('foo/bar4'), `${TEST_EDITOR_INPUT_ID}-1`);\n\n\t\tawait group.openEditor(input1, { pinned: true });\n\t\tawait group.openEditor(input2, { pinned: true });\n\t\tawait group.openEditor(input3, { pinned: true });\n\t\tawait group.openEditor(input4, { pinned: true });\n\t\tawait group2.openEditor(input5, { pinned: true });\n\n\t\tlet foundEditors = group.findEditors(URI.file('foo/bar1'));\n\t\tassert.strictEqual(foundEditors.length, 2);\n\t\tfoundEditors = group2.findEditors(URI.file('foo/bar4'));\n\t\tassert.strictEqual(foundEditors.length, 1);\n\t});\n\n\ttest('find editors (side by side support)', async () => {\n\t\tconst [part, instantiationService] = await createPart();\n\n\t\tconst accessor = instantiationService.createInstance(TestServiceAccessor);\n\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst secondaryInput = createTestFileEditorInput(URI.file('foo/bar-secondary'), TEST_EDITOR_INPUT_ID);\n\t\tconst primaryInput = createTestFileEditorInput(URI.file('foo/bar-primary'), `${TEST_EDITOR_INPUT_ID}-1`);\n\n\t\tconst sideBySideEditor = new SideBySideEditorInput(undefined, undefined, secondaryInput, primaryInput, accessor.editorService);\n\t\tawait group.openEditor(sideBySideEditor, { pinned: true });\n\n\t\tlet foundEditors = group.findEditors(URI.file('foo/bar-secondary'));\n\t\tassert.strictEqual(foundEditors.length, 0);\n\n\t\tfoundEditors = group.findEditors(URI.file('foo/bar-secondary'), { supportSideBySide: SideBySideEditor.PRIMARY });\n\t\tassert.strictEqual(foundEditors.length, 0);\n\n\t\tfoundEditors = group.findEditors(URI.file('foo/bar-primary'), { supportSideBySide: SideBySideEditor.PRIMARY });\n\t\tassert.strictEqual(foundEditors.length, 1);\n\n\t\tfoundEditors = group.findEditors(URI.file('foo/bar-secondary'), { supportSideBySide: SideBySideEditor.SECONDARY });\n\t\tassert.strictEqual(foundEditors.length, 1);\n\n\t\tfoundEditors = group.findEditors(URI.file('foo/bar-primary'), { supportSideBySide: SideBySideEditor.SECONDARY });\n\t\tassert.strictEqual(foundEditors.length, 0);\n\n\t\tfoundEditors = group.findEditors(URI.file('foo/bar-secondary'), { supportSideBySide: SideBySideEditor.ANY });\n\t\tassert.strictEqual(foundEditors.length, 1);\n\n\t\tfoundEditors = group.findEditors(URI.file('foo/bar-primary'), { supportSideBySide: SideBySideEditor.ANY });\n\t\tassert.strictEqual(foundEditors.length, 1);\n\t});\n\n\ttest('find neighbour group (left/right)', async function () {\n\t\tconst [part] = await createPart();\n\t\tconst rootGroup = part.activeGroup;\n\t\tconst rightGroup = part.addGroup(rootGroup, GroupDirection.RIGHT);\n\n\t\tassert.strictEqual(rightGroup, part.findGroup({ direction: GroupDirection.RIGHT }, rootGroup));\n\t\tassert.strictEqual(rootGroup, part.findGroup({ direction: GroupDirection.LEFT }, rightGroup));\n\t});\n\n\ttest('find neighbour group (up/down)', async function () {\n\t\tconst [part] = await createPart();\n\t\tconst rootGroup = part.activeGroup;\n\t\tconst downGroup = part.addGroup(rootGroup, GroupDirection.DOWN);\n\n\t\tassert.strictEqual(downGroup, part.findGroup({ direction: GroupDirection.DOWN }, rootGroup));\n\t\tassert.strictEqual(rootGroup, part.findGroup({ direction: GroupDirection.UP }, downGroup));\n\t});\n\n\ttest('find group by location (left/right)', async function () {\n\t\tconst [part] = await createPart();\n\t\tconst rootGroup = part.activeGroup;\n\t\tconst rightGroup = part.addGroup(rootGroup, GroupDirection.RIGHT);\n\t\tconst downGroup = part.addGroup(rightGroup, GroupDirection.DOWN);\n\n\t\tassert.strictEqual(rootGroup, part.findGroup({ location: GroupLocation.FIRST }));\n\t\tassert.strictEqual(downGroup, part.findGroup({ location: GroupLocation.LAST }));\n\n\t\tassert.strictEqual(rightGroup, part.findGroup({ location: GroupLocation.NEXT }, rootGroup));\n\t\tassert.strictEqual(rootGroup, part.findGroup({ location: GroupLocation.PREVIOUS }, rightGroup));\n\n\t\tassert.strictEqual(downGroup, part.findGroup({ location: GroupLocation.NEXT }, rightGroup));\n\t\tassert.strictEqual(rightGroup, part.findGroup({ location: GroupLocation.PREVIOUS }, downGroup));\n\t});\n\n\ttest('applyLayout (2x2)', async function () {\n\t\tconst [part] = await createPart();\n\n\t\tpart.applyLayout({ groups: [{ groups: [{}, {}] }, { groups: [{}, {}] }], orientation: GroupOrientation.HORIZONTAL });\n\n\t\tassert.strictEqual(part.groups.length, 4);\n\t});\n\n\ttest('getLayout', async function () {\n\t\tconst [part] = await createPart();\n\n\t\t// 2x2\n\t\tpart.applyLayout({ groups: [{ groups: [{}, {}] }, { groups: [{}, {}] }], orientation: GroupOrientation.HORIZONTAL });\n\t\tlet layout = part.getLayout();\n\n\t\tassert.strictEqual(layout.orientation, GroupOrientation.HORIZONTAL);\n\t\tassert.strictEqual(layout.groups.length, 2);\n\t\tassert.strictEqual(layout.groups[0].groups!.length, 2);\n\t\tassert.strictEqual(layout.groups[1].groups!.length, 2);\n\n\t\t// 3 columns\n\t\tpart.applyLayout({ groups: [{}, {}, {}], orientation: GroupOrientation.VERTICAL });\n\t\tlayout = part.getLayout();\n\n\t\tassert.strictEqual(layout.orientation, GroupOrientation.VERTICAL);\n\t\tassert.strictEqual(layout.groups.length, 3);\n\t\tassert.ok(typeof layout.groups[0].size === 'number');\n\t\tassert.ok(typeof layout.groups[1].size === 'number');\n\t\tassert.ok(typeof layout.groups[2].size === 'number');\n\t});\n\n\ttest('centeredLayout', async function () {\n\t\tconst [part] = await createPart();\n\n\t\tpart.centerLayout(true);\n\n\t\tassert.strictEqual(part.isLayoutCentered(), true);\n\t});\n\n\ttest('sticky editors', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\n\t\tassert.strictEqual(group.stickyCount, 0);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL).length, 0);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 0);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL, { excludeSticky: true }).length, 0);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE, { excludeSticky: true }).length, 0);\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputInactive = createTestFileEditorInput(URI.file('foo/bar/inactive'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditor(input, { pinned: true });\n\t\tawait group.openEditor(inputInactive, { inactive: true });\n\n\t\tassert.strictEqual(group.stickyCount, 0);\n\t\tassert.strictEqual(group.isSticky(input), false);\n\t\tassert.strictEqual(group.isSticky(inputInactive), false);\n\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL).length, 2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL, { excludeSticky: true }).length, 2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE, { excludeSticky: true }).length, 2);\n\n\t\tgroup.stickEditor(input);\n\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tassert.strictEqual(group.isSticky(input), true);\n\t\tassert.strictEqual(group.isSticky(inputInactive), false);\n\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL).length, 2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL, { excludeSticky: true }).length, 1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE, { excludeSticky: true }).length, 1);\n\n\t\tgroup.unstickEditor(input);\n\n\t\tassert.strictEqual(group.stickyCount, 0);\n\t\tassert.strictEqual(group.isSticky(input), false);\n\t\tassert.strictEqual(group.isSticky(inputInactive), false);\n\n\t\tassert.strictEqual(group.getIndexOfEditor(input), 0);\n\t\tassert.strictEqual(group.getIndexOfEditor(inputInactive), 1);\n\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL).length, 2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL, { excludeSticky: true }).length, 2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE, { excludeSticky: true }).length, 2);\n\n\t\tlet editorMoveCounter = 0;\n\t\tconst editorGroupModelChangeListener = group.onDidModelChange(e => {\n\t\t\tif (e.kind === GroupModelChangeKind.EDITOR_MOVE) {\n\t\t\t\tassert.ok(e.editor);\n\t\t\t\teditorMoveCounter++;\n\t\t\t}\n\t\t});\n\n\t\tgroup.stickEditor(inputInactive);\n\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tassert.strictEqual(group.isSticky(input), false);\n\t\tassert.strictEqual(group.isSticky(inputInactive), true);\n\n\t\tassert.strictEqual(group.getIndexOfEditor(input), 1);\n\t\tassert.strictEqual(group.getIndexOfEditor(inputInactive), 0);\n\t\tassert.strictEqual(editorMoveCounter, 1);\n\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL).length, 2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE).length, 2);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.SEQUENTIAL, { excludeSticky: true }).length, 1);\n\t\tassert.strictEqual(group.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE, { excludeSticky: true }).length, 1);\n\n\t\tconst inputSticky = createTestFileEditorInput(URI.file('foo/bar/sticky'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditor(inputSticky, { sticky: true });\n\n\t\tassert.strictEqual(group.stickyCount, 2);\n\t\tassert.strictEqual(group.isSticky(input), false);\n\t\tassert.strictEqual(group.isSticky(inputInactive), true);\n\t\tassert.strictEqual(group.isSticky(inputSticky), true);\n\n\t\tassert.strictEqual(group.getIndexOfEditor(inputInactive), 0);\n\t\tassert.strictEqual(group.getIndexOfEditor(inputSticky), 1);\n\t\tassert.strictEqual(group.getIndexOfEditor(input), 2);\n\n\t\tawait group.openEditor(input, { sticky: true });\n\n\t\tassert.strictEqual(group.stickyCount, 3);\n\t\tassert.strictEqual(group.isSticky(input), true);\n\t\tassert.strictEqual(group.isSticky(inputInactive), true);\n\t\tassert.strictEqual(group.isSticky(inputSticky), true);\n\n\t\tassert.strictEqual(group.getIndexOfEditor(inputInactive), 0);\n\t\tassert.strictEqual(group.getIndexOfEditor(inputSticky), 1);\n\t\tassert.strictEqual(group.getIndexOfEditor(input), 2);\n\n\t\teditorGroupModelChangeListener.dispose();\n\t});\n\n\ttest('sticky: true wins over index', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\n\t\tassert.strictEqual(group.stickyCount, 0);\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputInactive = createTestFileEditorInput(URI.file('foo/bar/inactive'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputSticky = createTestFileEditorInput(URI.file('foo/bar/sticky'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditor(input, { pinned: true });\n\t\tawait group.openEditor(inputInactive, { inactive: true });\n\t\tawait group.openEditor(inputSticky, { sticky: true, index: 2 });\n\n\t\tassert.strictEqual(group.stickyCount, 1);\n\t\tassert.strictEqual(group.isSticky(inputSticky), true);\n\n\t\tassert.strictEqual(group.getIndexOfEditor(input), 1);\n\t\tassert.strictEqual(group.getIndexOfEditor(inputInactive), 2);\n\t\tassert.strictEqual(group.getIndexOfEditor(inputSticky), 0);\n\t});\n\n\ttest('selection: setSelection, isSelected, selectedEditors', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\n\t\tfunction isSelection(inputs: TestFileEditorInput[]): boolean {\n\t\t\tfor (const input of inputs) {\n\t\t\t\tif (group.selectedEditors.indexOf(input) === -1) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn inputs.length === group.selectedEditors.length;\n\t\t}\n\n\t\t// Active: input1, Selected: input1\n\t\tawait group.openEditors([input1, input2, input3].map(editor => ({ editor, options: { pinned: true } })));\n\n\t\tassert.strictEqual(group.isActive(input1), true);\n\t\tassert.strictEqual(group.isSelected(input1), true);\n\t\tassert.strictEqual(group.isSelected(input2), false);\n\t\tassert.strictEqual(group.isSelected(input3), false);\n\n\t\tassert.strictEqual(isSelection([input1]), true);\n\n\t\t// Active: input1, Selected: input1, input3\n\t\tawait group.setSelection(input1, [input3]);\n\n\t\tassert.strictEqual(group.isActive(input1), true);\n\t\tassert.strictEqual(group.isSelected(input1), true);\n\t\tassert.strictEqual(group.isSelected(input2), false);\n\t\tassert.strictEqual(group.isSelected(input3), true);\n\n\t\tassert.strictEqual(isSelection([input1, input3]), true);\n\n\t\t// Active: input2, Selected: input1, input3\n\t\tawait group.setSelection(input2, [input1, input3]);\n\n\t\tassert.strictEqual(group.isSelected(input1), true);\n\t\tassert.strictEqual(group.isActive(input2), true);\n\t\tassert.strictEqual(group.isSelected(input2), true);\n\t\tassert.strictEqual(group.isSelected(input3), true);\n\n\t\tassert.strictEqual(isSelection([input1, input2, input3]), true);\n\n\t\tawait group.setSelection(input1, []);\n\n\t\t// Selected: input3\n\t\tassert.strictEqual(group.isActive(input1), true);\n\t\tassert.strictEqual(group.isSelected(input1), true);\n\t\tassert.strictEqual(group.isSelected(input2), false);\n\t\tassert.strictEqual(group.isSelected(input3), false);\n\n\t\tassert.strictEqual(isSelection([input1]), true);\n\t});\n\n\ttest('moveEditor with context (across groups)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst rightGroup = part.addGroup(group, GroupDirection.RIGHT);\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputInactive = createTestFileEditorInput(URI.file('foo/bar/inactive'), TEST_EDITOR_INPUT_ID);\n\t\tconst thirdInput = createTestFileEditorInput(URI.file('foo/bar/third'), TEST_EDITOR_INPUT_ID);\n\n\t\tlet leftFiredCount = 0;\n\t\tconst leftGroupListener = group.onWillMoveEditor(() => {\n\t\t\tleftFiredCount++;\n\t\t});\n\n\t\tlet rightFiredCount = 0;\n\t\tconst rightGroupListener = rightGroup.onWillMoveEditor(() => {\n\t\t\trightFiredCount++;\n\t\t});\n\n\t\tawait group.openEditors([{ editor: input, options: { pinned: true } }, { editor: inputInactive }, { editor: thirdInput }]);\n\t\tassert.strictEqual(leftFiredCount, 0);\n\t\tassert.strictEqual(rightFiredCount, 0);\n\n\t\tlet result = group.moveEditor(input, rightGroup);\n\t\tassert.strictEqual(result, true);\n\t\tassert.strictEqual(leftFiredCount, 1);\n\t\tassert.strictEqual(rightFiredCount, 0);\n\n\t\tresult = group.moveEditor(inputInactive, rightGroup);\n\t\tassert.strictEqual(result, true);\n\t\tassert.strictEqual(leftFiredCount, 2);\n\t\tassert.strictEqual(rightFiredCount, 0);\n\n\t\tresult = rightGroup.moveEditor(inputInactive, group);\n\t\tassert.strictEqual(result, true);\n\t\tassert.strictEqual(leftFiredCount, 2);\n\t\tassert.strictEqual(rightFiredCount, 1);\n\n\t\tleftGroupListener.dispose();\n\t\trightGroupListener.dispose();\n\t});\n\n\ttest('moveEditor disabled', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst rightGroup = part.addGroup(group, GroupDirection.RIGHT);\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputInactive = createTestFileEditorInput(URI.file('foo/bar/inactive'), TEST_EDITOR_INPUT_ID);\n\t\tconst thirdInput = createTestFileEditorInput(URI.file('foo/bar/third'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditors([{ editor: input, options: { pinned: true } }, { editor: inputInactive }, { editor: thirdInput }]);\n\n\t\tinput.setMoveDisabled('disabled');\n\t\tconst result = group.moveEditor(input, rightGroup);\n\n\t\tassert.strictEqual(result, false);\n\t\tassert.strictEqual(group.count, 3);\n\t});\n\n\ttest('onWillOpenEditor', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst rightGroup = part.addGroup(group, GroupDirection.RIGHT);\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst secondInput = createTestFileEditorInput(URI.file('foo/bar/second'), TEST_EDITOR_INPUT_ID);\n\t\tconst thirdInput = createTestFileEditorInput(URI.file('foo/bar/third'), TEST_EDITOR_INPUT_ID);\n\n\t\tlet leftFiredCount = 0;\n\t\tconst leftGroupListener = group.onWillOpenEditor(() => {\n\t\t\tleftFiredCount++;\n\t\t});\n\n\t\tlet rightFiredCount = 0;\n\t\tconst rightGroupListener = rightGroup.onWillOpenEditor(() => {\n\t\t\trightFiredCount++;\n\t\t});\n\n\t\tawait group.openEditor(input);\n\t\tassert.strictEqual(leftFiredCount, 1);\n\t\tassert.strictEqual(rightFiredCount, 0);\n\n\t\trightGroup.openEditor(secondInput);\n\t\tassert.strictEqual(leftFiredCount, 1);\n\t\tassert.strictEqual(rightFiredCount, 1);\n\n\t\tgroup.openEditor(thirdInput);\n\t\tassert.strictEqual(leftFiredCount, 2);\n\t\tassert.strictEqual(rightFiredCount, 1);\n\n\t\t// Ensure move fires the open event too\n\t\trightGroup.moveEditor(secondInput, group);\n\t\tassert.strictEqual(leftFiredCount, 3);\n\t\tassert.strictEqual(rightFiredCount, 1);\n\n\t\tleftGroupListener.dispose();\n\t\trightGroupListener.dispose();\n\t});\n\n\ttest('copyEditor with context (across groups)', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\t\tlet firedCount = 0;\n\t\tconst moveListener = group.onWillMoveEditor(() => firedCount++);\n\n\t\tconst rightGroup = part.addGroup(group, GroupDirection.RIGHT);\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputInactive = createTestFileEditorInput(URI.file('foo/bar/inactive'), TEST_EDITOR_INPUT_ID);\n\t\tawait group.openEditors([{ editor: input, options: { pinned: true } }, { editor: inputInactive }]);\n\t\tassert.strictEqual(firedCount, 0);\n\n\t\tgroup.copyEditor(inputInactive, rightGroup, { index: 0 });\n\n\t\tassert.strictEqual(firedCount, 0);\n\t\tmoveListener.dispose();\n\t});\n\n\ttest('locked groups - basics', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\n\t\tconst rightGroup = part.addGroup(group, GroupDirection.RIGHT);\n\n\t\tlet leftFiredCountFromPart = 0;\n\t\tlet rightFiredCountFromPart = 0;\n\t\tconst partListener = part.onDidChangeGroupLocked(g => {\n\t\t\tif (g === group) {\n\t\t\t\tleftFiredCountFromPart++;\n\t\t\t} else if (g === rightGroup) {\n\t\t\t\trightFiredCountFromPart++;\n\t\t\t}\n\t\t});\n\n\t\tlet leftFiredCountFromGroup = 0;\n\t\tconst leftGroupListener = group.onDidModelChange(e => {\n\t\t\tif (e.kind === GroupModelChangeKind.GROUP_LOCKED) {\n\t\t\t\tleftFiredCountFromGroup++;\n\t\t\t}\n\t\t});\n\n\t\tlet rightFiredCountFromGroup = 0;\n\t\tconst rightGroupListener = rightGroup.onDidModelChange(e => {\n\t\t\tif (e.kind === GroupModelChangeKind.GROUP_LOCKED) {\n\t\t\t\trightFiredCountFromGroup++;\n\t\t\t}\n\t\t});\n\n\t\trightGroup.lock(true);\n\t\trightGroup.lock(true);\n\n\t\tassert.strictEqual(leftFiredCountFromGroup, 0);\n\t\tassert.strictEqual(leftFiredCountFromPart, 0);\n\t\tassert.strictEqual(rightFiredCountFromGroup, 1);\n\t\tassert.strictEqual(rightFiredCountFromPart, 1);\n\n\t\trightGroup.lock(false);\n\t\trightGroup.lock(false);\n\n\t\tassert.strictEqual(leftFiredCountFromGroup, 0);\n\t\tassert.strictEqual(leftFiredCountFromPart, 0);\n\t\tassert.strictEqual(rightFiredCountFromGroup, 2);\n\t\tassert.strictEqual(rightFiredCountFromPart, 2);\n\n\t\tgroup.lock(true);\n\t\tgroup.lock(true);\n\n\t\tassert.strictEqual(leftFiredCountFromGroup, 1);\n\t\tassert.strictEqual(leftFiredCountFromPart, 1);\n\t\tassert.strictEqual(rightFiredCountFromGroup, 2);\n\t\tassert.strictEqual(rightFiredCountFromPart, 2);\n\n\t\tgroup.lock(false);\n\t\tgroup.lock(false);\n\n\t\tassert.strictEqual(leftFiredCountFromGroup, 2);\n\t\tassert.strictEqual(leftFiredCountFromPart, 2);\n\t\tassert.strictEqual(rightFiredCountFromGroup, 2);\n\t\tassert.strictEqual(rightFiredCountFromPart, 2);\n\n\t\tpartListener.dispose();\n\t\tleftGroupListener.dispose();\n\t\trightGroupListener.dispose();\n\t});\n\n\ttest('locked groups - single group is can be locked', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\n\t\tgroup.lock(true);\n\t\tassert.strictEqual(group.isLocked, true);\n\n\t\tconst rightGroup = part.addGroup(group, GroupDirection.RIGHT);\n\t\trightGroup.lock(true);\n\n\t\tassert.strictEqual(rightGroup.isLocked, true);\n\n\t\tpart.removeGroup(group);\n\t\tassert.strictEqual(rightGroup.isLocked, true);\n\n\t\tconst rightGroup2 = part.addGroup(rightGroup, GroupDirection.RIGHT);\n\t\trightGroup.lock(true);\n\t\trightGroup2.lock(true);\n\n\t\tassert.strictEqual(rightGroup.isLocked, true);\n\t\tassert.strictEqual(rightGroup2.isLocked, true);\n\n\t\tpart.removeGroup(rightGroup2);\n\n\t\tassert.strictEqual(rightGroup.isLocked, true);\n\t});\n\n\ttest('locked groups - auto locking via setting', async () => {\n\t\tconst instantiationService = workbenchInstantiationService(undefined, disposables);\n\t\tconst configurationService = new TestConfigurationService();\n\t\tawait configurationService.setUserConfiguration('workbench', { 'editor': { 'autoLockGroups': { 'testEditorInputForEditorGroupService': true } } });\n\t\tinstantiationService.stub(IConfigurationService, configurationService);\n\n\t\tconst [part] = await createPart(instantiationService);\n\n\t\tconst rootGroup = part.activeGroup;\n\t\tlet rightGroup = part.addGroup(rootGroup, GroupDirection.RIGHT);\n\n\t\tlet input1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tlet input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\n\t\t// First editor opens in right group: Locked=true\n\t\tawait rightGroup.openEditor(input1, { pinned: true });\n\t\tassert.strictEqual(rightGroup.isLocked, true);\n\n\t\t// Second editors opens in now unlocked right group: Locked=false\n\t\trightGroup.lock(false);\n\t\tawait rightGroup.openEditor(input2, { pinned: true });\n\t\tassert.strictEqual(rightGroup.isLocked, false);\n\n\t\t//First editor opens in root group without other groups being opened: Locked=false\n\t\tawait rightGroup.closeAllEditors();\n\t\tpart.removeGroup(rightGroup);\n\t\tawait rootGroup.closeAllEditors();\n\n\t\tinput1 = createTestFileEditorInput(URI.file('foo/bar1'), TEST_EDITOR_INPUT_ID);\n\t\tinput2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait rootGroup.openEditor(input1, { pinned: true });\n\t\tassert.strictEqual(rootGroup.isLocked, false);\n\t\trightGroup = part.addGroup(rootGroup, GroupDirection.RIGHT);\n\t\tassert.strictEqual(rootGroup.isLocked, false);\n\t\tconst leftGroup = part.addGroup(rootGroup, GroupDirection.LEFT);\n\t\tassert.strictEqual(rootGroup.isLocked, false);\n\t\tpart.removeGroup(leftGroup);\n\t\tassert.strictEqual(rootGroup.isLocked, false);\n\t});\n\n\ttest('maximize editor group', async () => {\n\t\tconst instantiationService = workbenchInstantiationService(undefined, disposables);\n\t\tconst [part] = await createPart(instantiationService);\n\n\t\tconst rootGroup = part.activeGroup;\n\t\tconst editorPartSize = part.getSize(rootGroup);\n\n\t\t// If there is only one group, it should not be considered maximized\n\t\tassert.strictEqual(part.hasMaximizedGroup(), false);\n\n\t\tconst rightGroup = part.addGroup(rootGroup, GroupDirection.RIGHT);\n\t\tconst rightBottomGroup = part.addGroup(rightGroup, GroupDirection.DOWN);\n\n\t\tconst sizeRootGroup = part.getSize(rootGroup);\n\t\tconst sizeRightGroup = part.getSize(rightGroup);\n\t\tconst sizeRightBottomGroup = part.getSize(rightBottomGroup);\n\n\t\tlet maximizedValue;\n\t\tconst maxiizeGroupEventDisposable = part.onDidChangeGroupMaximized((maximized) => {\n\t\t\tmaximizedValue = maximized;\n\t\t});\n\n\t\tassert.strictEqual(part.hasMaximizedGroup(), false);\n\n\t\tpart.arrangeGroups(GroupsArrangement.MAXIMIZE, rootGroup);\n\n\t\tassert.strictEqual(part.hasMaximizedGroup(), true);\n\n\t\t// getSize()\n\t\tassert.deepStrictEqual(part.getSize(rootGroup), editorPartSize);\n\t\tassert.deepStrictEqual(part.getSize(rightGroup), { width: 0, height: 0 });\n\t\tassert.deepStrictEqual(part.getSize(rightBottomGroup), { width: 0, height: 0 });\n\n\t\tassert.deepStrictEqual(maximizedValue, true);\n\n\t\tpart.toggleMaximizeGroup();\n\n\t\tassert.strictEqual(part.hasMaximizedGroup(), false);\n\n\t\t// Size is restored\n\t\tassert.deepStrictEqual(part.getSize(rootGroup), sizeRootGroup);\n\t\tassert.deepStrictEqual(part.getSize(rightGroup), sizeRightGroup);\n\t\tassert.deepStrictEqual(part.getSize(rightBottomGroup), sizeRightBottomGroup);\n\n\t\tassert.deepStrictEqual(maximizedValue, false);\n\t\tmaxiizeGroupEventDisposable.dispose();\n\t});\n\n\ttest('transient editors - basics', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputTransient = createTestFileEditorInput(URI.file('foo/bar/inactive'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditor(input, { pinned: true });\n\t\tawait group.openEditor(inputTransient, { transient: true });\n\n\t\tassert.strictEqual(group.isTransient(input), false);\n\t\tassert.strictEqual(group.isTransient(inputTransient), true);\n\n\t\tawait group.openEditor(input, { pinned: true });\n\t\tawait group.openEditor(inputTransient, { transient: true });\n\n\t\tassert.strictEqual(group.isTransient(inputTransient), true);\n\n\t\tawait group.openEditor(inputTransient, { transient: false });\n\t\tassert.strictEqual(group.isTransient(inputTransient), false);\n\n\t\tawait group.openEditor(inputTransient, { transient: true });\n\t\tassert.strictEqual(group.isTransient(inputTransient), false); // cannot make a non-transient editor transient when already opened\n\t});\n\n\ttest('transient editors - pinning clears transient', async () => {\n\t\tconst [part] = await createPart();\n\t\tconst group = part.activeGroup;\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst inputTransient = createTestFileEditorInput(URI.file('foo/bar/inactive'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditor(input, { pinned: true });\n\t\tawait group.openEditor(inputTransient, { transient: true });\n\n\t\tassert.strictEqual(group.isTransient(input), false);\n\t\tassert.strictEqual(group.isTransient(inputTransient), true);\n\n\t\tawait group.openEditor(input, { pinned: true });\n\t\tawait group.openEditor(inputTransient, { pinned: true, transient: true });\n\n\t\tassert.strictEqual(group.isTransient(inputTransient), false);\n\t});\n\n\ttest('transient editors - overrides enablePreview setting', async function () {\n\t\tconst instantiationService = workbenchInstantiationService(undefined, disposables);\n\t\tconst configurationService = new TestConfigurationService();\n\t\tawait configurationService.setUserConfiguration('workbench', { 'editor': { 'enablePreview': false } });\n\t\tinstantiationService.stub(IConfigurationService, configurationService);\n\n\t\tconst [part] = await createPart(instantiationService);\n\n\t\tconst group = part.activeGroup;\n\t\tassert.strictEqual(group.isEmpty, true);\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\n\t\tawait group.openEditor(input, { pinned: false });\n\t\tassert.strictEqual(group.isPinned(input), true);\n\n\t\tawait group.openEditor(input2, { transient: true });\n\t\tassert.strictEqual(group.isPinned(input2), false);\n\n\t\tgroup.focus();\n\t\tassert.strictEqual(group.isPinned(input2), true);\n\t});\n\n\ttest('working sets - create / apply state', async function () {\n\t\tconst [part] = await createPart();\n\n\t\tconst input = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\n\t\tconst pane1 = await part.activeGroup.openEditor(input, { pinned: true });\n\t\tconst pane2 = await part.sideGroup.openEditor(input2, { pinned: true });\n\n\t\tconst state = part.createState();\n\n\t\tawait pane2?.group.closeAllEditors();\n\t\tawait pane1?.group.closeAllEditors();\n\n\t\tassert.strictEqual(part.count, 1);\n\t\tassert.strictEqual(part.activeGroup.isEmpty, true);\n\n\t\tawait part.applyState(state);\n\n\t\tassert.strictEqual(part.count, 2);\n\n\t\tassert.strictEqual(part.groups[0].contains(input), true);\n\t\tassert.strictEqual(part.groups[1].contains(input2), true);\n\n\t\tfor (const group of part.groups) {\n\t\t\tawait group.closeAllEditors();\n\t\t}\n\n\t\tconst emptyState = part.createState();\n\n\t\tawait part.applyState(emptyState);\n\t\tassert.strictEqual(part.count, 1);\n\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\t\tinput3.dirty = true;\n\t\tawait part.activeGroup.openEditor(input3, { pinned: true });\n\n\t\tawait part.applyState(emptyState);\n\n\t\tassert.strictEqual(part.count, 1);\n\t\tassert.strictEqual(part.groups[0].contains(input3), true); // dirty editors enforce to be there even when state is empty\n\n\t\tawait part.applyState('empty');\n\n\t\tassert.strictEqual(part.count, 1);\n\t\tassert.strictEqual(part.groups[0].contains(input3), true); // dirty editors enforce to be there even when state is empty\n\n\t\tinput3.dirty = false;\n\n\t\tawait part.applyState('empty');\n\n\t\tassert.strictEqual(part.count, 1);\n\t\tassert.strictEqual(part.activeGroup.isEmpty, true);\n\t});\n\n\ttest('context key provider', async function () {\n\t\tconst disposables = new DisposableStore();\n\n\t\t// Instantiate workbench and setup initial state\n\t\tconst instantiationService = workbenchInstantiationService({ contextKeyService: instantiationService => instantiationService.createInstance(MockScopableContextKeyService) }, disposables);\n\t\tconst rootContextKeyService = instantiationService.get(IContextKeyService);\n\n\t\tconst [parts] = await createParts(instantiationService);\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\t\tconst input3 = createTestFileEditorInput(URI.file('foo/bar3'), TEST_EDITOR_INPUT_ID);\n\n\t\tconst group1 = parts.activeGroup;\n\t\tconst group2 = parts.addGroup(group1, GroupDirection.RIGHT);\n\n\t\tawait group2.openEditor(input2, { pinned: true });\n\t\tawait group1.openEditor(input1, { pinned: true });\n\n\t\t// Create context key provider\n\t\tconst rawContextKey = new RawContextKey<number>('testContextKey', parts.activeGroup.id);\n\t\tconst contextKeyProvider: IEditorGroupContextKeyProvider<number> = {\n\t\t\tcontextKey: rawContextKey,\n\t\t\tgetGroupContextKeyValue: (group) => group.id\n\t\t};\n\t\tdisposables.add(parts.registerContextKeyProvider(contextKeyProvider));\n\n\t\t// Initial state: group1 is active\n\t\tassert.strictEqual(parts.activeGroup.id, group1.id);\n\n\t\tlet globalContextKeyValue = rootContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tlet group1ContextKeyValue = group1.scopedContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tlet group2ContextKeyValue = group2.scopedContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tassert.strictEqual(globalContextKeyValue, group1.id);\n\t\tassert.strictEqual(group1ContextKeyValue, group1.id);\n\t\tassert.strictEqual(group2ContextKeyValue, group2.id);\n\n\t\t// Make group2 active and ensure both gloabal and local context key values are updated\n\t\tparts.activateGroup(group2);\n\n\t\tglobalContextKeyValue = rootContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tgroup1ContextKeyValue = group1.scopedContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tgroup2ContextKeyValue = group2.scopedContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tassert.strictEqual(globalContextKeyValue, group2.id);\n\t\tassert.strictEqual(group1ContextKeyValue, group1.id);\n\t\tassert.strictEqual(group2ContextKeyValue, group2.id);\n\n\t\t// Add a new group and ensure both gloabal and local context key values are updated\n\t\t// Group 3 will be active\n\t\tconst group3 = parts.addGroup(group2, GroupDirection.RIGHT);\n\t\tawait group3.openEditor(input3, { pinned: true });\n\n\t\tglobalContextKeyValue = rootContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tgroup1ContextKeyValue = group1.scopedContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tgroup2ContextKeyValue = group2.scopedContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tconst group3ContextKeyValue = group3.scopedContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tassert.strictEqual(globalContextKeyValue, group3.id);\n\t\tassert.strictEqual(group1ContextKeyValue, group1.id);\n\t\tassert.strictEqual(group2ContextKeyValue, group2.id);\n\t\tassert.strictEqual(group3ContextKeyValue, group3.id);\n\n\t\tdisposables.dispose();\n\t});\n\n\ttest('context key provider: onDidChange', async function () {\n\t\tconst disposables = new DisposableStore();\n\n\t\t// Instantiate workbench and setup initial state\n\t\tconst instantiationService = workbenchInstantiationService({ contextKeyService: instantiationService => instantiationService.createInstance(MockScopableContextKeyService) }, disposables);\n\t\tconst rootContextKeyService = instantiationService.get(IContextKeyService);\n\n\t\tconst parts = await createEditorParts(instantiationService, disposables);\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\n\t\tconst group1 = parts.activeGroup;\n\t\tconst group2 = parts.addGroup(group1, GroupDirection.RIGHT);\n\n\t\tawait group2.openEditor(input2, { pinned: true });\n\t\tawait group1.openEditor(input1, { pinned: true });\n\n\t\t// Create context key provider\n\t\tlet offset = 0;\n\t\tconst _onDidChange = new Emitter<void>();\n\n\t\tconst rawContextKey = new RawContextKey<number>('testContextKey', parts.activeGroup.id);\n\t\tconst contextKeyProvider: IEditorGroupContextKeyProvider<number> = {\n\t\t\tcontextKey: rawContextKey,\n\t\t\tgetGroupContextKeyValue: (group) => group.id + offset,\n\t\t\tonDidChange: _onDidChange.event\n\t\t};\n\t\tdisposables.add(parts.registerContextKeyProvider(contextKeyProvider));\n\n\t\t// Initial state: group1 is active\n\t\tassert.strictEqual(parts.activeGroup.id, group1.id);\n\n\t\tlet globalContextKeyValue = rootContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tlet group1ContextKeyValue = group1.scopedContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tlet group2ContextKeyValue = group2.scopedContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tassert.strictEqual(globalContextKeyValue, group1.id + offset);\n\t\tassert.strictEqual(group1ContextKeyValue, group1.id + offset);\n\t\tassert.strictEqual(group2ContextKeyValue, group2.id + offset);\n\n\t\t// Make a change to the context key provider and fire onDidChange such that all context key values are updated\n\t\toffset = 10;\n\t\t_onDidChange.fire();\n\n\t\tglobalContextKeyValue = rootContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tgroup1ContextKeyValue = group1.scopedContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tgroup2ContextKeyValue = group2.scopedContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tassert.strictEqual(globalContextKeyValue, group1.id + offset);\n\t\tassert.strictEqual(group1ContextKeyValue, group1.id + offset);\n\t\tassert.strictEqual(group2ContextKeyValue, group2.id + offset);\n\n\t\tdisposables.dispose();\n\t});\n\n\ttest('context key provider: active editor change', async function () {\n\t\tconst disposables = new DisposableStore();\n\n\t\t// Instantiate workbench and setup initial state\n\t\tconst instantiationService = workbenchInstantiationService({ contextKeyService: instantiationService => instantiationService.createInstance(MockScopableContextKeyService) }, disposables);\n\t\tconst rootContextKeyService = instantiationService.get(IContextKeyService);\n\n\t\tconst parts = await createEditorParts(instantiationService, disposables);\n\n\t\tconst input1 = createTestFileEditorInput(URI.file('foo/bar'), TEST_EDITOR_INPUT_ID);\n\t\tconst input2 = createTestFileEditorInput(URI.file('foo/bar2'), TEST_EDITOR_INPUT_ID);\n\n\t\tconst group1 = parts.activeGroup;\n\n\t\tawait group1.openEditor(input2, { pinned: true });\n\t\tawait group1.openEditor(input1, { pinned: true });\n\n\t\t// Create context key provider\n\t\tconst rawContextKey = new RawContextKey<string>('testContextKey', input1.resource.toString());\n\t\tconst contextKeyProvider: IEditorGroupContextKeyProvider<string> = {\n\t\t\tcontextKey: rawContextKey,\n\t\t\tgetGroupContextKeyValue: (group) => group.activeEditor?.resource?.toString() ?? '',\n\t\t};\n\t\tdisposables.add(parts.registerContextKeyProvider(contextKeyProvider));\n\n\t\t// Initial state: input1 is active\n\t\tassert.strictEqual(isEqual(group1.activeEditor?.resource, input1.resource), true);\n\n\t\tlet globalContextKeyValue = rootContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tlet group1ContextKeyValue = group1.scopedContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tassert.strictEqual(globalContextKeyValue, input1.resource.toString());\n\t\tassert.strictEqual(group1ContextKeyValue, input1.resource.toString());\n\n\t\t// Make input2 active and ensure both gloabal and local context key values are updated\n\t\tawait group1.openEditor(input2);\n\n\t\tglobalContextKeyValue = rootContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tgroup1ContextKeyValue = group1.scopedContextKeyService.getContextKeyValue(rawContextKey.key);\n\t\tassert.strictEqual(globalContextKeyValue, input2.resource.toString());\n\t\tassert.strictEqual(group1ContextKeyValue, input2.resource.toString());\n\n\t\tdisposables.dispose();\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n});\n"]}