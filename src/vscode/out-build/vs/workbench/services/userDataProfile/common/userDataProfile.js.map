{"version":3,"sources":["vs/workbench/services/userDataProfile/common/userDataProfile.ts"],"names":[],"mappings":"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","file":"userDataProfile.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { isUndefined } from '../../../../base/common/types.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { localize, localize2 } from '../../../../nls.js';\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IUserDataProfile, IUserDataProfileOptions, IUserDataProfileUpdateOptions, ProfileResourceType, ProfileResourceTypeFlags } from '../../../../platform/userDataProfile/common/userDataProfile.js';\nimport { RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { registerIcon } from '../../../../platform/theme/common/iconRegistry.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { ITreeItem, ITreeItemLabel } from '../../../common/views.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { IDisposable } from '../../../../base/common/lifecycle.js';\nimport { IProductService } from '../../../../platform/product/common/productService.js';\n\nexport interface DidChangeUserDataProfileEvent {\n\treadonly previous: IUserDataProfile;\n\treadonly profile: IUserDataProfile;\n\tjoin(promise: Promise<void>): void;\n}\n\nexport const IUserDataProfileService = createDecorator<IUserDataProfileService>('IUserDataProfileService');\nexport interface IUserDataProfileService {\n\treadonly _serviceBrand: undefined;\n\treadonly currentProfile: IUserDataProfile;\n\treadonly onDidChangeCurrentProfile: Event<DidChangeUserDataProfileEvent>;\n\tupdateCurrentProfile(currentProfile: IUserDataProfile): Promise<void>;\n}\n\nexport interface IProfileTemplateInfo {\n\treadonly name: string;\n\treadonly url: string;\n}\n\nexport const IUserDataProfileManagementService = createDecorator<IUserDataProfileManagementService>('IUserDataProfileManagementService');\nexport interface IUserDataProfileManagementService {\n\treadonly _serviceBrand: undefined;\n\n\tcreateProfile(name: string, options?: IUserDataProfileOptions): Promise<IUserDataProfile>;\n\tcreateAndEnterProfile(name: string, options?: IUserDataProfileOptions): Promise<IUserDataProfile>;\n\tcreateAndEnterTransientProfile(): Promise<IUserDataProfile>;\n\tremoveProfile(profile: IUserDataProfile): Promise<void>;\n\tupdateProfile(profile: IUserDataProfile, updateOptions: IUserDataProfileUpdateOptions): Promise<IUserDataProfile>;\n\tswitchProfile(profile: IUserDataProfile): Promise<void>;\n\tgetBuiltinProfileTemplates(): Promise<IProfileTemplateInfo[]>;\n\tgetDefaultProfileToUse(): IUserDataProfile;\n}\n\nexport interface IUserDataProfileTemplate {\n\treadonly name: string;\n\treadonly icon?: string;\n\treadonly settings?: string;\n\treadonly keybindings?: string;\n\treadonly tasks?: string;\n\treadonly snippets?: string;\n\treadonly globalState?: string;\n\treadonly extensions?: string;\n\treadonly mcp?: string;\n}\n\nexport function isUserDataProfileTemplate(thing: unknown): thing is IUserDataProfileTemplate {\n\tconst candidate = thing as IUserDataProfileTemplate | undefined;\n\n\treturn !!(candidate && typeof candidate === 'object'\n\t\t&& (isUndefined(candidate.settings) || typeof candidate.settings === 'string')\n\t\t&& (isUndefined(candidate.globalState) || typeof candidate.globalState === 'string')\n\t\t&& (isUndefined(candidate.extensions) || typeof candidate.extensions === 'string')\n\t\t&& (isUndefined(candidate.mcp) || typeof candidate.mcp === 'string'));\n}\n\nexport const PROFILE_URL_AUTHORITY = 'profile';\nexport function toUserDataProfileUri(path: string, productService: IProductService): URI {\n\treturn URI.from({\n\t\tscheme: productService.urlProtocol,\n\t\tauthority: PROFILE_URL_AUTHORITY,\n\t\tpath: path.startsWith('/') ? path : `/${path}`\n\t});\n}\n\nexport const PROFILE_URL_AUTHORITY_PREFIX = 'profile-';\nexport function isProfileURL(uri: URI): boolean {\n\treturn uri.authority === PROFILE_URL_AUTHORITY || new RegExp(`^${PROFILE_URL_AUTHORITY_PREFIX}`).test(uri.authority);\n}\n\nexport interface IUserDataProfileCreateOptions extends IUserDataProfileOptions {\n\treadonly name?: string;\n\treadonly resourceTypeFlags?: ProfileResourceTypeFlags;\n}\n\nexport interface IProfileImportOptions extends IUserDataProfileCreateOptions {\n\treadonly name?: string;\n\treadonly icon?: string;\n\treadonly mode?: 'apply';\n}\n\nexport const IUserDataProfileImportExportService = createDecorator<IUserDataProfileImportExportService>('IUserDataProfileImportExportService');\nexport interface IUserDataProfileImportExportService {\n\treadonly _serviceBrand: undefined;\n\n\tregisterProfileContentHandler(id: string, profileContentHandler: IUserDataProfileContentHandler): IDisposable;\n\tunregisterProfileContentHandler(id: string): void;\n\n\tresolveProfileTemplate(uri: URI): Promise<IUserDataProfileTemplate | null>;\n\texportProfile(profile: IUserDataProfile, exportFlags?: ProfileResourceTypeFlags): Promise<void>;\n\tcreateFromProfile(from: IUserDataProfile, options: IUserDataProfileCreateOptions, token: CancellationToken): Promise<IUserDataProfile | undefined>;\n\tcreateProfileFromTemplate(profileTemplate: IUserDataProfileTemplate, options: IUserDataProfileCreateOptions, token: CancellationToken): Promise<IUserDataProfile | undefined>;\n\tcreateTroubleshootProfile(): Promise<void>;\n}\n\nexport interface IProfileResourceInitializer {\n\tinitialize(content: string): Promise<void>;\n}\n\nexport interface IProfileResource {\n\tgetContent(profile: IUserDataProfile): Promise<string>;\n\tapply(content: string, profile: IUserDataProfile): Promise<void>;\n}\n\nexport interface IProfileResourceTreeItem extends ITreeItem {\n\treadonly type: ProfileResourceType;\n\treadonly label: ITreeItemLabel;\n\tisFromDefaultProfile(): boolean;\n\tgetChildren(): Promise<IProfileResourceChildTreeItem[] | undefined>;\n\tgetContent(): Promise<string>;\n}\n\nexport interface IProfileResourceChildTreeItem extends ITreeItem {\n\tparent: IProfileResourceTreeItem;\n}\n\nexport interface ISaveProfileResult {\n\treadonly id: string;\n\treadonly link: URI;\n}\n\nexport interface IUserDataProfileContentHandler {\n\treadonly name: string;\n\treadonly description?: string;\n\treadonly extensionId?: string;\n\tsaveProfile(name: string, content: string, token: CancellationToken): Promise<ISaveProfileResult | null>;\n\treadProfile(idOrUri: string | URI, token: CancellationToken): Promise<string | null>;\n}\n\nexport const defaultUserDataProfileIcon = registerIcon('defaultProfile-icon', Codicon.settings, localize('defaultProfileIcon', 'Icon for Default Profile.'));\n\nexport const PROFILES_TITLE = localize2('profiles', 'Profiles');\nexport const PROFILES_CATEGORY = { ...PROFILES_TITLE };\nexport const PROFILE_EXTENSION = 'code-profile';\nexport const PROFILE_FILTER = [{ name: localize('profile', \"Profile\"), extensions: [PROFILE_EXTENSION] }];\nexport const CURRENT_PROFILE_CONTEXT = new RawContextKey<string>('currentProfile', '');\nexport const IS_CURRENT_PROFILE_TRANSIENT_CONTEXT = new RawContextKey<boolean>('isCurrentProfileTransient', false);\nexport const HAS_PROFILES_CONTEXT = new RawContextKey<boolean>('hasProfiles', false);\n"]}