{"version":3,"sources":["vs/workbench/services/userDataProfile/browser/extensionsResource.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;AAEhG,OAAO,EAAE,iBAAiB,EAAE,MAAM,yCAAyC,CAAC;AAC5E,OAAO,EAAE,OAAO,EAAE,MAAM,qCAAqC,CAAC;AAC9D,OAAO,EAAE,eAAe,EAAE,MAAM,sCAAsC,CAAC;AACvE,OAAO,EAAE,QAAQ,EAAE,MAAM,oBAAoB,CAAC;AAC9C,OAAO,EAAE,gCAAgC,EAAE,MAAM,+EAA+E,CAAC;AACjI,OAAO,EAAE,8CAA8C,EAAE,0CAA0C,EAAE,wBAAwB,EAAwB,2BAA2B,EAAE,iCAAiC,EAAyC,MAAM,wEAAwE,CAAC;AAC3U,OAAO,EAAE,iBAAiB,EAAE,MAAM,4EAA4E,CAAC;AAE/G,OAAO,EAAE,qBAAqB,EAAE,MAAM,4DAA4D,CAAC;AACnG,OAAO,EAAE,iBAAiB,EAAE,MAAM,gEAAgE,CAAC;AACnG,OAAO,EAAE,WAAW,EAAE,MAAM,wCAAwC,CAAC;AACrE,OAAO,EAAE,eAAe,EAAE,MAAM,gDAAgD,CAAC;AAEjF,OAAO,EAAE,8BAA8B,EAAE,MAAM,8EAA8E,CAAC;AAC9H,OAAO,EAA0B,wBAAwB,EAAE,MAAM,0BAA0B,CAAC;AAC5F,OAAO,EAAE,oCAAoC,EAAE,MAAM,yDAAyD,CAAC;AAC/G,OAAO,EAA0G,uBAAuB,EAAE,MAAM,8BAA8B,CAAC;AAWxK,IAAM,6BAA6B,GAAnC,MAAM,6BAA6B;IAEzC,YAC2C,sBAA+C,EAC3C,0BAAuD,EAC1D,uBAAiD,EACxC,0BAA6D,EACnF,UAAuB;QAJX,2BAAsB,GAAtB,sBAAsB,CAAyB;QAC3C,+BAA0B,GAA1B,0BAA0B,CAA6B;QAC1D,4BAAuB,GAAvB,uBAAuB,CAA0B;QACxC,+BAA0B,GAA1B,0BAA0B,CAAmC;QACnF,eAAU,GAAV,UAAU,CAAa;IAEtD,CAAC;IAED,KAAK,CAAC,UAAU,CAAC,OAAe;QAC/B,MAAM,iBAAiB,GAAwB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QACnE,MAAM,mBAAmB,GAAG,MAAM,IAAI,CAAC,0BAA0B,CAAC,YAAY,CAAC,SAAS,EAAE,IAAI,CAAC,sBAAsB,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAC;QACzJ,MAAM,2BAA2B,GAA2D,EAAE,CAAC;QAC/F,MAAM,mBAAmB,GAAwB,EAAE,CAAC;QACpD,KAAK,MAAM,CAAC,IAAI,iBAAiB,EAAE,CAAC;YACnC,MAAM,UAAU,GAAG,IAAI,CAAC,0BAA0B,CAAC,qBAAqB,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,iBAAiB,CAAC,iBAAiB,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;YACzJ,MAAM,kBAAkB,GAAG,mBAAmB,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,iBAAiB,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;YACxH,IAAI,CAAC,kBAAkB,IAAI,CAAC,CAAC,kBAAkB,CAAC,SAAS,IAAI,kBAAkB,CAAC,UAAU,KAAK,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC9G,mBAAmB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAC7B,CAAC;YACD,IAAI,UAAU,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC;gBACjC,2BAA2B,CAAC,IAAI,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,UAAU,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;YACpF,CAAC;QACF,CAAC;QACD,MAAM,qBAAqB,GAAsB,mBAAmB,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,SAAS,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC,EAAE,UAAU,EAAE,EAAE,EAAE,CAAC,iBAAiB,CAAC,UAAU,EAAE,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QACnN,KAAK,MAAM,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,2BAA2B,EAAE,CAAC;YACjE,IAAI,MAAM,EAAE,CAAC;gBACZ,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,6CAA6C,EAAE,SAAS,CAAC,EAAE,CAAC,CAAC;gBACnF,MAAM,IAAI,CAAC,0BAA0B,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;gBACjE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,4CAA4C,EAAE,SAAS,CAAC,EAAE,CAAC,CAAC;YAClF,CAAC;iBAAM,CAAC;gBACP,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,8CAA8C,EAAE,SAAS,CAAC,EAAE,CAAC,CAAC;gBACpF,MAAM,IAAI,CAAC,0BAA0B,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC;gBAClE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,6CAA6C,EAAE,SAAS,CAAC,EAAE,CAAC,CAAC;YACnF,CAAC;QACF,CAAC;QACD,IAAI,mBAAmB,CAAC,MAAM,EAAE,CAAC;YAChC,MAAM,iBAAiB,GAAG,MAAM,IAAI,CAAC,uBAAuB,CAAC,aAAa,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,UAAU,EAAE,OAAO,EAAE,CAAC,CAAC,OAAO,EAAE,aAAa,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,EAAE,CAAC,CAAC,EAAE,iBAAiB,CAAC,IAAI,CAAC,CAAC;YACjO,MAAM,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,GAAG,CAAC,KAAK,EAAC,CAAC,EAAC,EAAE;gBACnD,MAAM,SAAS,GAAG,iBAAiB,CAAC,IAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,UAAU,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;gBAC3H,IAAI,CAAC,SAAS,EAAE,CAAC;oBAChB,OAAO;gBACR,CAAC;gBACD,IAAI,MAAM,IAAI,CAAC,0BAA0B,CAAC,UAAU,CAAC,SAAS,CAAC,KAAK,IAAI,EAAE,CAAC;oBAC1E,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,+CAA+C,EAAE,SAAS,CAAC,UAAU,CAAC,EAAE,EAAE,SAAS,CAAC,OAAO,CAAC,CAAC;oBACnH,MAAM,IAAI,CAAC,0BAA0B,CAAC,kBAAkB,CAAC,SAAS,EAAE;wBACnE,eAAe,EAAE,KAAK,EAAC,yEAAyE;wBAChG,+BAA+B,EAAE,IAAI;wBACrC,mBAAmB,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO;wBAChC,wBAAwB,EAAE,CAAC,CAAC,UAAU;wBACtC,eAAe,EAAE,IAAI,CAAC,sBAAsB,CAAC,cAAc,CAAC,kBAAkB;wBAC9E,OAAO,EAAE,EAAE,CAAC,0CAA0C,CAAC,EAAE,IAAI,EAAE,CAAC,8CAA8C,CAAC,EAAE,IAAI,EAAE;qBACvH,CAAC,CAAC;oBACH,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,8CAA8C,EAAE,SAAS,CAAC,UAAU,CAAC,EAAE,EAAE,SAAS,CAAC,OAAO,CAAC,CAAC;gBAClH,CAAC;qBAAM,CAAC;oBACP,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,oFAAoF,EAAE,SAAS,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;gBACrI,CAAC;YACF,CAAC,CAAC,CAAC,CAAC;QACL,CAAC;QACD,IAAI,qBAAqB,CAAC,MAAM,EAAE,CAAC;YAClC,MAAM,OAAO,CAAC,GAAG,CAAC,qBAAqB,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,0BAA0B,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACjG,CAAC;IACF,CAAC;CACD,CAAA;AAjEY,6BAA6B;IAGvC,WAAA,uBAAuB,CAAA;IACvB,WAAA,2BAA2B,CAAA;IAC3B,WAAA,wBAAwB,CAAA;IACxB,WAAA,iCAAiC,CAAA;IACjC,WAAA,WAAW,CAAA;GAPD,6BAA6B,CAiEzC;;AAEM,IAAM,kBAAkB,GAAxB,MAAM,kBAAkB;IAE9B,YACwD,0BAAgE,EAC5E,uBAAiD,EAC3C,6BAA6D,EACtE,oBAA2C,EACrD,UAAuB;QAJE,+BAA0B,GAA1B,0BAA0B,CAAsC;QAC5E,4BAAuB,GAAvB,uBAAuB,CAA0B;QAC3C,kCAA6B,GAA7B,6BAA6B,CAAgC;QACtE,yBAAoB,GAApB,oBAAoB,CAAuB;QACrD,eAAU,GAAV,UAAU,CAAa;IAEtD,CAAC;IAED,KAAK,CAAC,UAAU,CAAC,OAAyB,EAAE,OAAkB;QAC7D,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC;QAC1D,OAAO,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;IAC5C,CAAC;IAED,SAAS,CAAC,UAA+B,EAAE,OAAkB;QAC5D,OAAO,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;IAChI,CAAC;IAED,KAAK,CAAC,KAAK,CAAC,OAAe,EAAE,OAAyB,EAAE,QAAoC,EAAE,KAAyB;QACtH,OAAO,IAAI,CAAC,yBAAyB,CAAC,OAAO,EAAE,KAAK,EAAE,0BAA0B,EAAE,EAAE;YACnF,MAAM,iBAAiB,GAAwB,MAAM,IAAI,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC;YACxF,MAAM,mBAAmB,GAAG,MAAM,IAAI,CAAC,0BAA0B,CAAC,YAAY,CAAC,SAAS,EAAE,OAAO,CAAC,kBAAkB,CAAC,CAAC;YACtH,MAAM,2BAA2B,GAA2D,EAAE,CAAC;YAC/F,MAAM,mBAAmB,GAAwB,EAAE,CAAC;YACpD,KAAK,MAAM,CAAC,IAAI,iBAAiB,EAAE,CAAC;gBACnC,MAAM,UAAU,GAAG,0BAA0B,CAAC,qBAAqB,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,iBAAiB,CAAC,iBAAiB,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;gBACpJ,MAAM,kBAAkB,GAAG,mBAAmB,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,iBAAiB,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;gBACxH,IAAI,CAAC,kBAAkB,IAAI,CAAC,CAAC,kBAAkB,CAAC,SAAS,IAAI,kBAAkB,CAAC,UAAU,KAAK,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;oBAC9G,mBAAmB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC7B,CAAC;gBACD,IAAI,UAAU,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC;oBACjC,2BAA2B,CAAC,IAAI,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,UAAU,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;gBACpF,CAAC;YACF,CAAC;YACD,MAAM,qBAAqB,GAAsB,mBAAmB,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,SAAS,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC,EAAE,UAAU,EAAE,EAAE,EAAE,CAAC,iBAAiB,CAAC,UAAU,EAAE,SAAS,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,mBAAmB,CAAC,CAAC;YACrP,KAAK,MAAM,EAAE,SAAS,EAAE,MAAM,EAAE,IAAI,2BAA2B,EAAE,CAAC;gBACjE,IAAI,MAAM,EAAE,CAAC;oBACZ,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,sBAAsB,OAAO,CAAC,IAAI,0BAA0B,EAAE,SAAS,CAAC,EAAE,CAAC,CAAC;oBAClG,MAAM,0BAA0B,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;oBAC5D,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,sBAAsB,OAAO,CAAC,IAAI,yBAAyB,EAAE,SAAS,CAAC,EAAE,CAAC,CAAC;gBACjG,CAAC;qBAAM,CAAC;oBACP,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,sBAAsB,OAAO,CAAC,IAAI,2BAA2B,EAAE,SAAS,CAAC,EAAE,CAAC,CAAC;oBACnG,MAAM,0BAA0B,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC;oBAC7D,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,sBAAsB,OAAO,CAAC,IAAI,0BAA0B,EAAE,SAAS,CAAC,EAAE,CAAC,CAAC;gBAClG,CAAC;YACF,CAAC;YACD,IAAI,mBAAmB,CAAC,MAAM,EAAE,CAAC;gBAChC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,sBAAsB,OAAO,CAAC,IAAI,mCAAmC,CAAC,CAAC;gBAC5F,MAAM,iBAAiB,GAAG,MAAM,IAAI,CAAC,uBAAuB,CAAC,aAAa,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,UAAU,EAAE,OAAO,EAAE,CAAC,CAAC,OAAO,EAAE,aAAa,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,EAAE,CAAC,CAAC,EAAE,iBAAiB,CAAC,IAAI,CAAC,CAAC;gBACjO,MAAM,qBAAqB,GAA2B,EAAE,CAAC;gBACzD,MAAM,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,GAAG,CAAC,KAAK,EAAC,CAAC,EAAC,EAAE;oBACnD,MAAM,SAAS,GAAG,iBAAiB,CAAC,IAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,UAAU,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;oBAC3H,IAAI,CAAC,SAAS,EAAE,CAAC;wBAChB,OAAO;oBACR,CAAC;oBACD,IAAI,MAAM,IAAI,CAAC,0BAA0B,CAAC,UAAU,CAAC,SAAS,CAAC,KAAK,IAAI,EAAE,CAAC;wBAC1E,qBAAqB,CAAC,IAAI,CAAC;4BAC1B,SAAS;4BACT,OAAO,EAAE;gCACR,eAAe,EAAE,KAAK,EAAC,yEAAyE;gCAChG,+BAA+B,EAAE,IAAI;gCACrC,mBAAmB,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO;gCAChC,wBAAwB,EAAE,CAAC,CAAC,UAAU;gCACtC,eAAe,EAAE,OAAO,CAAC,kBAAkB;gCAC3C,OAAO,EAAE,EAAE,CAAC,0CAA0C,CAAC,EAAE,IAAI,EAAE;6BAC/D;yBACD,CAAC,CAAC;oBACJ,CAAC;yBAAM,CAAC;wBACP,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,sBAAsB,OAAO,CAAC,IAAI,iEAAiE,EAAE,SAAS,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;oBACpJ,CAAC;gBACF,CAAC,CAAC,CAAC,CAAC;gBACJ,IAAI,qBAAqB,CAAC,MAAM,EAAE,CAAC;oBAClC,IAAI,KAAK,EAAE,CAAC;wBACX,MAAM,IAAI,CAAC,0BAA0B,CAAC,qBAAqB,CAAC,qBAAqB,CAAC,CAAC;wBACnF,KAAK,MAAM,oBAAoB,IAAI,qBAAqB,EAAE,CAAC;4BAC1D,IAAI,KAAK,CAAC,uBAAuB,EAAE,CAAC;gCACnC,OAAO;4BACR,CAAC;4BACD,QAAQ,EAAE,CAAC,QAAQ,CAAC,KAAqB,EAAE,IAA6B,EAAE,oBAAoB,CAAC,SAAS,CAAC,WAAW,IAAI,oBAAoB,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC;4BACvK,MAAM,IAAI,CAAC,0BAA0B,CAAC,kBAAkB,CAAC,oBAAoB,CAAC,SAAS,EAAE,oBAAoB,CAAC,OAAO,CAAC,CAAC;wBACxH,CAAC;oBACF,CAAC;yBAAM,CAAC;wBACP,MAAM,IAAI,CAAC,0BAA0B,CAAC,wBAAwB,CAAC,qBAAqB,CAAC,CAAC;oBACvF,CAAC;gBACF,CAAC;gBACD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,sBAAsB,OAAO,CAAC,IAAI,oCAAoC,CAAC,CAAC;YAC9F,CAAC;YACD,IAAI,qBAAqB,CAAC,MAAM,EAAE,CAAC;gBAClC,MAAM,OAAO,CAAC,GAAG,CAAC,qBAAqB,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,0BAA0B,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACjG,CAAC;QACF,CAAC,CAAC,CAAC;IACJ,CAAC;IAED,KAAK,CAAC,IAAI,CAAC,IAAsB,EAAE,EAAoB,EAAE,iBAA0B;QAClF,MAAM,IAAI,CAAC,0BAA0B,CAAC,cAAc,CAAC,IAAI,CAAC,kBAAkB,EAAE,EAAE,CAAC,kBAAkB,CAAC,CAAC;QACrG,MAAM,mBAAmB,GAAG,MAAM,IAAI,CAAC,yBAAyB,CAAC,IAAI,EAAE,KAAK,EAAE,0BAA0B,EAAE,EAAE,CAC3G,0BAA0B,CAAC,qBAAqB,EAAE,CAAC,CAAC;QACrD,IAAI,iBAAiB,EAAE,CAAC;YACvB,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,0BAA0B,CAAC,YAAY,6BAAqB,EAAE,CAAC,kBAAkB,CAAC,CAAC;YACjH,KAAK,MAAM,SAAS,IAAI,UAAU,EAAE,CAAC;gBACpC,mBAAmB,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;YAChD,CAAC;QACF,CAAC;QACD,MAAM,IAAI,CAAC,yBAAyB,CAAC,EAAE,EAAE,KAAK,EAAE,0BAA0B,EAAE,EAAE,CAC7E,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,CAAC,0BAA0B,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7G,CAAC;IAED,KAAK,CAAC,kBAAkB,CAAC,OAAyB;QACjD,OAAO,IAAI,CAAC,yBAAyB,CAAC,OAAO,EAAE,KAAK,EAAE,0BAA0B,EAAE,EAAE;YACnF,MAAM,MAAM,GAAG,IAAI,GAAG,EAAwD,CAAC;YAC/E,MAAM,mBAAmB,GAAG,MAAM,IAAI,CAAC,0BAA0B,CAAC,YAAY,CAAC,SAAS,EAAE,OAAO,CAAC,kBAAkB,CAAC,CAAC;YACtH,MAAM,kBAAkB,GAAG,0BAA0B,CAAC,qBAAqB,EAAE,CAAC;YAC9E,KAAK,MAAM,SAAS,IAAI,mBAAmB,EAAE,CAAC;gBAC7C,MAAM,EAAE,UAAU,EAAE,UAAU,EAAE,GAAG,SAAS,CAAC;gBAC7C,MAAM,QAAQ,GAAG,kBAAkB,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,iBAAiB,CAAC,iBAAiB,EAAE,UAAU,CAAC,CAAC,CAAC;gBAChH,IAAI,SAAS,CAAC,SAAS,IAAI,CAAC,QAAQ,EAAE,CAAC;oBACtC,kCAAkC;oBAClC,SAAS;gBACV,CAAC;gBACD,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC;oBAC1B,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;wBAChC,oCAAoC;wBACpC,SAAS;oBACV,CAAC;gBACF,CAAC;gBACD,MAAM,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,CAAC,WAAW,EAAE,CAAC,CAAC;gBACzD,IAAI,QAAQ,EAAE,QAAQ,EAAE,CAAC;oBACxB,0CAA0C;oBAC1C,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE,CAAC,WAAW,EAAE,CAAC,CAAC;gBAC5C,CAAC;gBACD,MAAM,gBAAgB,GAAsB,EAAE,UAAU,EAAE,WAAW,EAAE,SAAS,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;gBACxG,IAAI,QAAQ,EAAE,CAAC;oBACd,gBAAgB,CAAC,QAAQ,GAAG,IAAI,CAAC;gBAClC,CAAC;gBACD,IAAI,CAAC,SAAS,CAAC,SAAS,IAAI,SAAS,CAAC,MAAM,EAAE,CAAC;oBAC9C,gBAAgB,CAAC,OAAO,GAAG,SAAS,CAAC,QAAQ,CAAC,OAAO,CAAC;gBACvD,CAAC;gBACD,IAAI,CAAC,gBAAgB,CAAC,OAAO,IAAI,UAAU,EAAE,CAAC;oBAC7C,gBAAgB,CAAC,UAAU,GAAG,IAAI,CAAC;gBACpC,CAAC;gBACD,gBAAgB,CAAC,iBAAiB,GAAG,SAAS,CAAC,mBAAmB,CAAC;gBACnE,MAAM,CAAC,GAAG,CAAC,gBAAgB,CAAC,UAAU,CAAC,EAAE,CAAC,WAAW,EAAE,EAAE,gBAAgB,CAAC,CAAC;YAC5E,CAAC;YACD,OAAO,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC;QAC7B,CAAC,CAAC,CAAC;IACJ,CAAC;IAED,KAAK,CAAC,oBAAoB,CAAC,OAAe;QACzC,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;IAC5B,CAAC;IAEO,KAAK,CAAC,yBAAyB,CAAI,OAAyB,EAAE,EAAiF;QACtJ,OAAO,IAAI,CAAC,6BAA6B,CAAC,+BAA+B,CAAC,OAAO,EAChF,KAAK,EAAC,cAAc,EAAC,EAAE;YACtB,MAAM,WAAW,GAAG,IAAI,eAAe,EAAE,CAAC;YAC1C,MAAM,oBAAoB,GAAG,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,oBAAoB,CAAC,WAAW,CAAC,IAAI,iBAAiB,CAAC,CAAC,eAAe,EAAE,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;YAC9I,MAAM,0BAA0B,GAAG,WAAW,CAAC,GAAG,CAAC,oBAAoB,CAAC,cAAc,CAAC,gCAAgC,CAAC,CAAC,CAAC;YAC1H,IAAI,CAAC;gBACJ,OAAO,MAAM,EAAE,CAAC,0BAA0B,CAAC,CAAC;YAC7C,CAAC;oBAAS,CAAC;gBACV,WAAW,CAAC,OAAO,EAAE,CAAC;YACvB,CAAC;QACF,CAAC,CAAC,CAAC;IACL,CAAC;CACD,CAAA;AAtKY,kBAAkB;IAG5B,WAAA,oCAAoC,CAAA;IACpC,WAAA,wBAAwB,CAAA;IACxB,WAAA,8BAA8B,CAAA;IAC9B,WAAA,qBAAqB,CAAA;IACrB,WAAA,WAAW,CAAA;GAPD,kBAAkB,CAsK9B;;AAED,MAAM,OAAgB,0BAA0B;IAAhD;QAEU,SAAI,qDAAkC;QACtC,WAAM,qDAAkC;QACxC,UAAK,GAAG,EAAE,KAAK,EAAE,QAAQ,CAAC,KAAY,EAAE,IAAY,CAAC,EAAE,CAAC;QACxD,qBAAgB,GAAG,wBAAwB,CAAC,QAAQ,CAAC;QAC9D,iBAAY,qDAAkC;QAG3B,uBAAkB,GAAG,IAAI,GAAG,EAAU,CAAC;IA4C3D,CAAC;IA1CA,KAAK,CAAC,WAAW;QAChB,MAAM,UAAU,GAAG,CAAC,MAAM,IAAI,CAAC,aAAa,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,WAAW,IAAI,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC;QACnJ,MAAM,IAAI,GAAG,IAAI,CAAC;QAClB,OAAO,UAAU,CAAC,GAAG,CAAoD,CAAC,CAAC,EAAE,CAAC,CAAC;YAC9E,GAAG,CAAC;YACJ,MAAM,EAAE,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,WAAW,EAAE;YACrC,MAAM,EAAE,IAAI;YACZ,KAAK,EAAE,EAAE,KAAK,EAAE,CAAC,CAAC,WAAW,IAAI,CAAC,CAAC,UAAU,CAAC,EAAE,EAAE;YAClD,WAAW,EAAE,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC,QAAQ,CAAC,KAA2B,EAAE,IAAc,CAAC,CAAC,CAAC,CAAC,SAAS;YACpG,gBAAgB,EAAE,wBAAwB,CAAC,IAAI;YAC/C,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACzB,IAAI,SAAS,KAAK,OAAO,CAAC,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC,CAAC;gBACvF,IAAI,SAAS,CAAC,KAAc;oBAC3B,IAAI,KAAK,EAAE,CAAC;wBACX,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,WAAW,EAAE,CAAC,CAAC;oBAC/D,CAAC;yBAAM,CAAC;wBACP,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,WAAW,EAAE,CAAC,CAAC;oBAC5D,CAAC;gBACF,CAAC;gBACD,OAAO,EAAE,QAAQ,CAAC,KAAS,EAAE,IAAsB,EAAE,CAAC,CAAC,WAAW,IAAI,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;gBACtF,wBAAwB,EAAE;oBACzB,KAAK,EAAE,QAAQ,CAAC,KAAS,EAAE,IAAsB,EAAE,CAAC,CAAC,WAAW,IAAI,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC;iBACpF;aACD,CAAC,CAAC,CAAC,SAAS;YACb,SAAS,EAAE,OAAO,CAAC,UAAU;YAC7B,OAAO,EAAE;gBACR,EAAE,EAAE,gBAAgB;gBACpB,KAAK,EAAE,EAAE;gBACT,SAAS,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,EAAE,EAAE,SAAS,EAAE,IAAI,CAAC;aAC7C;SACD,CAAC,CAAC,CAAC;IACL,CAAC;IAED,KAAK,CAAC,UAAU;QACf,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,aAAa,EAAE,CAAC;QAC9C,OAAO,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC;IAC9B,CAAC;CAMD;AAEM,IAAM,gCAAgC,GAAtC,MAAM,gCAAiC,SAAQ,0BAA0B;IAE/E,YACkB,OAAyB,EACF,oBAA2C;QAEnF,KAAK,EAAE,CAAC;QAHS,YAAO,GAAP,OAAO,CAAkB;QACF,yBAAoB,GAApB,oBAAoB,CAAuB;IAGpF,CAAC;IAED,oBAAoB;QACnB,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,EAAE,UAAU,CAAC;IAC9E,CAAC;IAES,aAAa;QACtB,OAAO,IAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAC,kBAAkB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IACtG,CAAC;IAED,KAAK,CAAC,UAAU;QACf,OAAO,IAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;IACrI,CAAC;CAED,CAAA;AArBY,gCAAgC;IAI1C,WAAA,qBAAqB,CAAA;GAJX,gCAAgC,CAqB5C;;AAEM,IAAM,gCAAgC,GAAtC,MAAM,gCAAiC,SAAQ,0BAA0B;IAE/E,YACkB,OAAe,EACQ,oBAA2C;QAEnF,KAAK,EAAE,CAAC;QAHS,YAAO,GAAP,OAAO,CAAQ;QACQ,yBAAoB,GAApB,oBAAoB,CAAuB;IAGpF,CAAC;IAED,oBAAoB;QACnB,OAAO,KAAK,CAAC;IACd,CAAC;IAES,aAAa;QACtB,OAAO,IAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAC,oBAAoB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IACxG,CAAC;IAED,KAAK,CAAC,UAAU;QACf,MAAM,kBAAkB,GAAG,IAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAC;QACxF,MAAM,UAAU,GAAG,MAAM,kBAAkB,CAAC,oBAAoB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC/E,OAAO,kBAAkB,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;IACxF,CAAC;CAED,CAAA;AAvBY,gCAAgC;IAI1C,WAAA,qBAAqB,CAAA;GAJX,gCAAgC,CAuB5C","file":"extensionsResource.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { localize } from '../../../../nls.js';\nimport { GlobalExtensionEnablementService } from '../../../../platform/extensionManagement/common/extensionEnablementService.js';\nimport { EXTENSION_INSTALL_SKIP_PUBLISHER_TRUST_CONTEXT, EXTENSION_INSTALL_SKIP_WALKTHROUGH_CONTEXT, IExtensionGalleryService, IExtensionIdentifier, IExtensionManagementService, IGlobalExtensionEnablementService, ILocalExtension, InstallExtensionInfo } from '../../../../platform/extensionManagement/common/extensionManagement.js';\nimport { areSameExtensions } from '../../../../platform/extensionManagement/common/extensionManagementUtil.js';\nimport { ExtensionType } from '../../../../platform/extensions/common/extensions.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ServiceCollection } from '../../../../platform/instantiation/common/serviceCollection.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\nimport { IStorageService } from '../../../../platform/storage/common/storage.js';\nimport { IUserDataProfile, ProfileResourceType } from '../../../../platform/userDataProfile/common/userDataProfile.js';\nimport { IUserDataProfileStorageService } from '../../../../platform/userDataProfile/common/userDataProfileStorageService.js';\nimport { ITreeItemCheckboxState, TreeItemCollapsibleState } from '../../../common/views.js';\nimport { IWorkbenchExtensionManagementService } from '../../extensionManagement/common/extensionManagement.js';\nimport { IProfileResource, IProfileResourceChildTreeItem, IProfileResourceInitializer, IProfileResourceTreeItem, IUserDataProfileService } from '../common/userDataProfile.js';\n\ninterface IProfileExtension {\n\tidentifier: IExtensionIdentifier;\n\tdisplayName?: string;\n\tpreRelease?: boolean;\n\tapplicationScoped?: boolean;\n\tdisabled?: boolean;\n\tversion?: string;\n}\n\nexport class ExtensionsResourceInitializer implements IProfileResourceInitializer {\n\n\tconstructor(\n\t\t@IUserDataProfileService private readonly userDataProfileService: IUserDataProfileService,\n\t\t@IExtensionManagementService private readonly extensionManagementService: IExtensionManagementService,\n\t\t@IExtensionGalleryService private readonly extensionGalleryService: IExtensionGalleryService,\n\t\t@IGlobalExtensionEnablementService private readonly extensionEnablementService: IGlobalExtensionEnablementService,\n\t\t@ILogService private readonly logService: ILogService,\n\t) {\n\t}\n\n\tasync initialize(content: string): Promise<void> {\n\t\tconst profileExtensions: IProfileExtension[] = JSON.parse(content);\n\t\tconst installedExtensions = await this.extensionManagementService.getInstalled(undefined, this.userDataProfileService.currentProfile.extensionsResource);\n\t\tconst extensionsToEnableOrDisable: { extension: IExtensionIdentifier; enable: boolean }[] = [];\n\t\tconst extensionsToInstall: IProfileExtension[] = [];\n\t\tfor (const e of profileExtensions) {\n\t\t\tconst isDisabled = this.extensionEnablementService.getDisabledExtensions().some(disabledExtension => areSameExtensions(disabledExtension, e.identifier));\n\t\t\tconst installedExtension = installedExtensions.find(installed => areSameExtensions(installed.identifier, e.identifier));\n\t\t\tif (!installedExtension || (!installedExtension.isBuiltin && installedExtension.preRelease !== e.preRelease)) {\n\t\t\t\textensionsToInstall.push(e);\n\t\t\t}\n\t\t\tif (isDisabled !== !!e.disabled) {\n\t\t\t\textensionsToEnableOrDisable.push({ extension: e.identifier, enable: !e.disabled });\n\t\t\t}\n\t\t}\n\t\tconst extensionsToUninstall: ILocalExtension[] = installedExtensions.filter(extension => !extension.isBuiltin && !profileExtensions.some(({ identifier }) => areSameExtensions(identifier, extension.identifier)));\n\t\tfor (const { extension, enable } of extensionsToEnableOrDisable) {\n\t\t\tif (enable) {\n\t\t\t\tthis.logService.trace(`Initializing Profile: Enabling extension...`, extension.id);\n\t\t\t\tawait this.extensionEnablementService.enableExtension(extension);\n\t\t\t\tthis.logService.info(`Initializing Profile: Enabled extension...`, extension.id);\n\t\t\t} else {\n\t\t\t\tthis.logService.trace(`Initializing Profile: Disabling extension...`, extension.id);\n\t\t\t\tawait this.extensionEnablementService.disableExtension(extension);\n\t\t\t\tthis.logService.info(`Initializing Profile: Disabled extension...`, extension.id);\n\t\t\t}\n\t\t}\n\t\tif (extensionsToInstall.length) {\n\t\t\tconst galleryExtensions = await this.extensionGalleryService.getExtensions(extensionsToInstall.map(e => ({ ...e.identifier, version: e.version, hasPreRelease: e.version ? undefined : e.preRelease })), CancellationToken.None);\n\t\t\tawait Promise.all(extensionsToInstall.map(async e => {\n\t\t\t\tconst extension = galleryExtensions.find(galleryExtension => areSameExtensions(galleryExtension.identifier, e.identifier));\n\t\t\t\tif (!extension) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (await this.extensionManagementService.canInstall(extension) === true) {\n\t\t\t\t\tthis.logService.trace(`Initializing Profile: Installing extension...`, extension.identifier.id, extension.version);\n\t\t\t\t\tawait this.extensionManagementService.installFromGallery(extension, {\n\t\t\t\t\t\tisMachineScoped: false,/* set isMachineScoped value to prevent install and sync dialog in web */\n\t\t\t\t\t\tdonotIncludePackAndDependencies: true,\n\t\t\t\t\t\tinstallGivenVersion: !!e.version,\n\t\t\t\t\t\tinstallPreReleaseVersion: e.preRelease,\n\t\t\t\t\t\tprofileLocation: this.userDataProfileService.currentProfile.extensionsResource,\n\t\t\t\t\t\tcontext: { [EXTENSION_INSTALL_SKIP_WALKTHROUGH_CONTEXT]: true, [EXTENSION_INSTALL_SKIP_PUBLISHER_TRUST_CONTEXT]: true }\n\t\t\t\t\t});\n\t\t\t\t\tthis.logService.info(`Initializing Profile: Installed extension...`, extension.identifier.id, extension.version);\n\t\t\t\t} else {\n\t\t\t\t\tthis.logService.info(`Initializing Profile: Skipped installing extension because it cannot be installed.`, extension.identifier.id);\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t\tif (extensionsToUninstall.length) {\n\t\t\tawait Promise.all(extensionsToUninstall.map(e => this.extensionManagementService.uninstall(e)));\n\t\t}\n\t}\n}\n\nexport class ExtensionsResource implements IProfileResource {\n\n\tconstructor(\n\t\t@IWorkbenchExtensionManagementService private readonly extensionManagementService: IWorkbenchExtensionManagementService,\n\t\t@IExtensionGalleryService private readonly extensionGalleryService: IExtensionGalleryService,\n\t\t@IUserDataProfileStorageService private readonly userDataProfileStorageService: IUserDataProfileStorageService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@ILogService private readonly logService: ILogService,\n\t) {\n\t}\n\n\tasync getContent(profile: IUserDataProfile, exclude?: string[]): Promise<string> {\n\t\tconst extensions = await this.getLocalExtensions(profile);\n\t\treturn this.toContent(extensions, exclude);\n\t}\n\n\ttoContent(extensions: IProfileExtension[], exclude?: string[]): string {\n\t\treturn JSON.stringify(exclude?.length ? extensions.filter(e => !exclude.includes(e.identifier.id.toLowerCase())) : extensions);\n\t}\n\n\tasync apply(content: string, profile: IUserDataProfile, progress?: (message: string) => void, token?: CancellationToken): Promise<void> {\n\t\treturn this.withProfileScopedServices(profile, async (extensionEnablementService) => {\n\t\t\tconst profileExtensions: IProfileExtension[] = await this.getProfileExtensions(content);\n\t\t\tconst installedExtensions = await this.extensionManagementService.getInstalled(undefined, profile.extensionsResource);\n\t\t\tconst extensionsToEnableOrDisable: { extension: IExtensionIdentifier; enable: boolean }[] = [];\n\t\t\tconst extensionsToInstall: IProfileExtension[] = [];\n\t\t\tfor (const e of profileExtensions) {\n\t\t\t\tconst isDisabled = extensionEnablementService.getDisabledExtensions().some(disabledExtension => areSameExtensions(disabledExtension, e.identifier));\n\t\t\t\tconst installedExtension = installedExtensions.find(installed => areSameExtensions(installed.identifier, e.identifier));\n\t\t\t\tif (!installedExtension || (!installedExtension.isBuiltin && installedExtension.preRelease !== e.preRelease)) {\n\t\t\t\t\textensionsToInstall.push(e);\n\t\t\t\t}\n\t\t\t\tif (isDisabled !== !!e.disabled) {\n\t\t\t\t\textensionsToEnableOrDisable.push({ extension: e.identifier, enable: !e.disabled });\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst extensionsToUninstall: ILocalExtension[] = installedExtensions.filter(extension => !extension.isBuiltin && !profileExtensions.some(({ identifier }) => areSameExtensions(identifier, extension.identifier)) && !extension.isApplicationScoped);\n\t\t\tfor (const { extension, enable } of extensionsToEnableOrDisable) {\n\t\t\t\tif (enable) {\n\t\t\t\t\tthis.logService.trace(`Importing Profile (${profile.name}): Enabling extension...`, extension.id);\n\t\t\t\t\tawait extensionEnablementService.enableExtension(extension);\n\t\t\t\t\tthis.logService.info(`Importing Profile (${profile.name}): Enabled extension...`, extension.id);\n\t\t\t\t} else {\n\t\t\t\t\tthis.logService.trace(`Importing Profile (${profile.name}): Disabling extension...`, extension.id);\n\t\t\t\t\tawait extensionEnablementService.disableExtension(extension);\n\t\t\t\t\tthis.logService.info(`Importing Profile (${profile.name}): Disabled extension...`, extension.id);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (extensionsToInstall.length) {\n\t\t\t\tthis.logService.info(`Importing Profile (${profile.name}): Started installing extensions.`);\n\t\t\t\tconst galleryExtensions = await this.extensionGalleryService.getExtensions(extensionsToInstall.map(e => ({ ...e.identifier, version: e.version, hasPreRelease: e.version ? undefined : e.preRelease })), CancellationToken.None);\n\t\t\t\tconst installExtensionInfos: InstallExtensionInfo[] = [];\n\t\t\t\tawait Promise.all(extensionsToInstall.map(async e => {\n\t\t\t\t\tconst extension = galleryExtensions.find(galleryExtension => areSameExtensions(galleryExtension.identifier, e.identifier));\n\t\t\t\t\tif (!extension) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (await this.extensionManagementService.canInstall(extension) === true) {\n\t\t\t\t\t\tinstallExtensionInfos.push({\n\t\t\t\t\t\t\textension,\n\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\tisMachineScoped: false,/* set isMachineScoped value to prevent install and sync dialog in web */\n\t\t\t\t\t\t\t\tdonotIncludePackAndDependencies: true,\n\t\t\t\t\t\t\t\tinstallGivenVersion: !!e.version,\n\t\t\t\t\t\t\t\tinstallPreReleaseVersion: e.preRelease,\n\t\t\t\t\t\t\t\tprofileLocation: profile.extensionsResource,\n\t\t\t\t\t\t\t\tcontext: { [EXTENSION_INSTALL_SKIP_WALKTHROUGH_CONTEXT]: true }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.logService.info(`Importing Profile (${profile.name}): Skipped installing extension because it cannot be installed.`, extension.identifier.id);\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t\tif (installExtensionInfos.length) {\n\t\t\t\t\tif (token) {\n\t\t\t\t\t\tawait this.extensionManagementService.requestPublisherTrust(installExtensionInfos);\n\t\t\t\t\t\tfor (const installExtensionInfo of installExtensionInfos) {\n\t\t\t\t\t\t\tif (token.isCancellationRequested) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tprogress?.(localize('installingExtension', \"Installing extension {0}...\", installExtensionInfo.extension.displayName ?? installExtensionInfo.extension.identifier.id));\n\t\t\t\t\t\t\tawait this.extensionManagementService.installFromGallery(installExtensionInfo.extension, installExtensionInfo.options);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tawait this.extensionManagementService.installGalleryExtensions(installExtensionInfos);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.logService.info(`Importing Profile (${profile.name}): Finished installing extensions.`);\n\t\t\t}\n\t\t\tif (extensionsToUninstall.length) {\n\t\t\t\tawait Promise.all(extensionsToUninstall.map(e => this.extensionManagementService.uninstall(e)));\n\t\t\t}\n\t\t});\n\t}\n\n\tasync copy(from: IUserDataProfile, to: IUserDataProfile, disableExtensions: boolean): Promise<void> {\n\t\tawait this.extensionManagementService.copyExtensions(from.extensionsResource, to.extensionsResource);\n\t\tconst extensionsToDisable = await this.withProfileScopedServices(from, async (extensionEnablementService) =>\n\t\t\textensionEnablementService.getDisabledExtensions());\n\t\tif (disableExtensions) {\n\t\t\tconst extensions = await this.extensionManagementService.getInstalled(ExtensionType.User, to.extensionsResource);\n\t\t\tfor (const extension of extensions) {\n\t\t\t\textensionsToDisable.push(extension.identifier);\n\t\t\t}\n\t\t}\n\t\tawait this.withProfileScopedServices(to, async (extensionEnablementService) =>\n\t\t\tPromise.all(extensionsToDisable.map(extension => extensionEnablementService.disableExtension(extension))));\n\t}\n\n\tasync getLocalExtensions(profile: IUserDataProfile): Promise<IProfileExtension[]> {\n\t\treturn this.withProfileScopedServices(profile, async (extensionEnablementService) => {\n\t\t\tconst result = new Map<string, IProfileExtension & { displayName?: string }>();\n\t\t\tconst installedExtensions = await this.extensionManagementService.getInstalled(undefined, profile.extensionsResource);\n\t\t\tconst disabledExtensions = extensionEnablementService.getDisabledExtensions();\n\t\t\tfor (const extension of installedExtensions) {\n\t\t\t\tconst { identifier, preRelease } = extension;\n\t\t\t\tconst disabled = disabledExtensions.some(disabledExtension => areSameExtensions(disabledExtension, identifier));\n\t\t\t\tif (extension.isBuiltin && !disabled) {\n\t\t\t\t\t// skip enabled builtin extensions\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (!extension.isBuiltin) {\n\t\t\t\t\tif (!extension.identifier.uuid) {\n\t\t\t\t\t\t// skip user extensions without uuid\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst existing = result.get(identifier.id.toLowerCase());\n\t\t\t\tif (existing?.disabled) {\n\t\t\t\t\t// Remove the duplicate disabled extension\n\t\t\t\t\tresult.delete(identifier.id.toLowerCase());\n\t\t\t\t}\n\t\t\t\tconst profileExtension: IProfileExtension = { identifier, displayName: extension.manifest.displayName };\n\t\t\t\tif (disabled) {\n\t\t\t\t\tprofileExtension.disabled = true;\n\t\t\t\t}\n\t\t\t\tif (!extension.isBuiltin && extension.pinned) {\n\t\t\t\t\tprofileExtension.version = extension.manifest.version;\n\t\t\t\t}\n\t\t\t\tif (!profileExtension.version && preRelease) {\n\t\t\t\t\tprofileExtension.preRelease = true;\n\t\t\t\t}\n\t\t\t\tprofileExtension.applicationScoped = extension.isApplicationScoped;\n\t\t\t\tresult.set(profileExtension.identifier.id.toLowerCase(), profileExtension);\n\t\t\t}\n\t\t\treturn [...result.values()];\n\t\t});\n\t}\n\n\tasync getProfileExtensions(content: string): Promise<IProfileExtension[]> {\n\t\treturn JSON.parse(content);\n\t}\n\n\tprivate async withProfileScopedServices<T>(profile: IUserDataProfile, fn: (extensionEnablementService: IGlobalExtensionEnablementService) => Promise<T>): Promise<T> {\n\t\treturn this.userDataProfileStorageService.withProfileScopedStorageService(profile,\n\t\t\tasync storageService => {\n\t\t\t\tconst disposables = new DisposableStore();\n\t\t\t\tconst instantiationService = disposables.add(this.instantiationService.createChild(new ServiceCollection([IStorageService, storageService])));\n\t\t\t\tconst extensionEnablementService = disposables.add(instantiationService.createInstance(GlobalExtensionEnablementService));\n\t\t\t\ttry {\n\t\t\t\t\treturn await fn(extensionEnablementService);\n\t\t\t\t} finally {\n\t\t\t\t\tdisposables.dispose();\n\t\t\t\t}\n\t\t\t});\n\t}\n}\n\nexport abstract class ExtensionsResourceTreeItem implements IProfileResourceTreeItem {\n\n\treadonly type = ProfileResourceType.Extensions;\n\treadonly handle = ProfileResourceType.Extensions;\n\treadonly label = { label: localize('extensions', \"Extensions\") };\n\treadonly collapsibleState = TreeItemCollapsibleState.Expanded;\n\tcontextValue = ProfileResourceType.Extensions;\n\tcheckbox: ITreeItemCheckboxState | undefined;\n\n\tprotected readonly excludedExtensions = new Set<string>();\n\n\tasync getChildren(): Promise<Array<IProfileResourceChildTreeItem & IProfileExtension>> {\n\t\tconst extensions = (await this.getExtensions()).sort((a, b) => (a.displayName ?? a.identifier.id).localeCompare(b.displayName ?? b.identifier.id));\n\t\tconst that = this;\n\t\treturn extensions.map<IProfileResourceChildTreeItem & IProfileExtension>(e => ({\n\t\t\t...e,\n\t\t\thandle: e.identifier.id.toLowerCase(),\n\t\t\tparent: this,\n\t\t\tlabel: { label: e.displayName || e.identifier.id },\n\t\t\tdescription: e.applicationScoped ? localize('all profiles and disabled', \"All Profiles\") : undefined,\n\t\t\tcollapsibleState: TreeItemCollapsibleState.None,\n\t\t\tcheckbox: that.checkbox ? {\n\t\t\t\tget isChecked() { return !that.excludedExtensions.has(e.identifier.id.toLowerCase()); },\n\t\t\t\tset isChecked(value: boolean) {\n\t\t\t\t\tif (value) {\n\t\t\t\t\t\tthat.excludedExtensions.delete(e.identifier.id.toLowerCase());\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthat.excludedExtensions.add(e.identifier.id.toLowerCase());\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ttooltip: localize('exclude', \"Select {0} Extension\", e.displayName || e.identifier.id),\n\t\t\t\taccessibilityInformation: {\n\t\t\t\t\tlabel: localize('exclude', \"Select {0} Extension\", e.displayName || e.identifier.id),\n\t\t\t\t}\n\t\t\t} : undefined,\n\t\t\tthemeIcon: Codicon.extensions,\n\t\t\tcommand: {\n\t\t\t\tid: 'extension.open',\n\t\t\t\ttitle: '',\n\t\t\t\targuments: [e.identifier.id, undefined, true]\n\t\t\t}\n\t\t}));\n\t}\n\n\tasync hasContent(): Promise<boolean> {\n\t\tconst extensions = await this.getExtensions();\n\t\treturn extensions.length > 0;\n\t}\n\n\tabstract isFromDefaultProfile(): boolean;\n\tabstract getContent(): Promise<string>;\n\tprotected abstract getExtensions(): Promise<IProfileExtension[]>;\n\n}\n\nexport class ExtensionsResourceExportTreeItem extends ExtensionsResourceTreeItem {\n\n\tconstructor(\n\t\tprivate readonly profile: IUserDataProfile,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t) {\n\t\tsuper();\n\t}\n\n\tisFromDefaultProfile(): boolean {\n\t\treturn !this.profile.isDefault && !!this.profile.useDefaultFlags?.extensions;\n\t}\n\n\tprotected getExtensions(): Promise<IProfileExtension[]> {\n\t\treturn this.instantiationService.createInstance(ExtensionsResource).getLocalExtensions(this.profile);\n\t}\n\n\tasync getContent(): Promise<string> {\n\t\treturn this.instantiationService.createInstance(ExtensionsResource).getContent(this.profile, [...this.excludedExtensions.values()]);\n\t}\n\n}\n\nexport class ExtensionsResourceImportTreeItem extends ExtensionsResourceTreeItem {\n\n\tconstructor(\n\t\tprivate readonly content: string,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t) {\n\t\tsuper();\n\t}\n\n\tisFromDefaultProfile(): boolean {\n\t\treturn false;\n\t}\n\n\tprotected getExtensions(): Promise<IProfileExtension[]> {\n\t\treturn this.instantiationService.createInstance(ExtensionsResource).getProfileExtensions(this.content);\n\t}\n\n\tasync getContent(): Promise<string> {\n\t\tconst extensionsResource = this.instantiationService.createInstance(ExtensionsResource);\n\t\tconst extensions = await extensionsResource.getProfileExtensions(this.content);\n\t\treturn extensionsResource.toContent(extensions, [...this.excludedExtensions.values()]);\n\t}\n\n}\n"]}