{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/services/search/test/common/ignoreFile.test.ts","vs/workbench/services/search/test/common/ignoreFile.test.ts"],"names":[],"mappings":"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","file":"ignoreFile.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { IgnoreFile } from '../../common/ignoreFile.js';\n\nfunction runAssert(input: string, ignoreFile: string, ignoreFileLocation: string, shouldMatch: boolean, traverse: boolean, ignoreCase: boolean) {\n\treturn (prefix: string) => {\n\t\tconst isDir = input.endsWith('/');\n\t\tconst rawInput = isDir ? input.slice(0, input.length - 1) : input;\n\n\t\tconst matcher = new IgnoreFile(ignoreFile, prefix + ignoreFileLocation, undefined, ignoreCase);\n\t\tif (traverse) {\n\t\t\tconst traverses = matcher.isPathIncludedInTraversal(prefix + rawInput, isDir);\n\n\t\t\tif (shouldMatch) {\n\t\t\t\tassert(traverses, `${ignoreFileLocation}: ${ignoreFile} should traverse ${isDir ? 'dir' : 'file'} ${prefix}${rawInput}`);\n\t\t\t} else {\n\t\t\t\tassert(!traverses, `${ignoreFileLocation}: ${ignoreFile} should not traverse ${isDir ? 'dir' : 'file'} ${prefix}${rawInput}`);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tconst ignores = matcher.isArbitraryPathIgnored(prefix + rawInput, isDir);\n\n\t\t\tif (shouldMatch) {\n\t\t\t\tassert(ignores, `${ignoreFileLocation}: ${ignoreFile} should ignore ${isDir ? 'dir' : 'file'} ${prefix}${rawInput}`);\n\t\t\t} else {\n\t\t\t\tassert(!ignores, `${ignoreFileLocation}: ${ignoreFile} should not ignore ${isDir ? 'dir' : 'file'} ${prefix}${rawInput}`);\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction assertNoTraverses(ignoreFile: string, ignoreFileLocation: string, input: string, ignoreCase = false) {\n\tconst runWithPrefix = runAssert(input, ignoreFile, ignoreFileLocation, false, true, ignoreCase);\n\n\trunWithPrefix('');\n\trunWithPrefix('/someFolder');\n}\n\nfunction assertTraverses(ignoreFile: string, ignoreFileLocation: string, input: string, ignoreCase = false) {\n\tconst runWithPrefix = runAssert(input, ignoreFile, ignoreFileLocation, true, true, ignoreCase);\n\n\trunWithPrefix('');\n\trunWithPrefix('/someFolder');\n}\n\nfunction assertIgnoreMatch(ignoreFile: string, ignoreFileLocation: string, input: string, ignoreCase = false) {\n\tconst runWithPrefix = runAssert(input, ignoreFile, ignoreFileLocation, true, false, ignoreCase);\n\n\trunWithPrefix('');\n\trunWithPrefix('/someFolder');\n}\n\nfunction assertNoIgnoreMatch(ignoreFile: string, ignoreFileLocation: string, input: string, ignoreCase = false) {\n\tconst runWithPrefix = runAssert(input, ignoreFile, ignoreFileLocation, false, false, ignoreCase);\n\n\trunWithPrefix('');\n\trunWithPrefix('/someFolder');\n}\n\nsuite('Parsing .gitignore files', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('paths with trailing slashes do not match files', () => {\n\t\tconst i = 'node_modules/\\n';\n\n\t\tassertNoIgnoreMatch(i, '/', '/node_modules');\n\t\tassertIgnoreMatch(i, '/', '/node_modules/');\n\n\t\tassertNoIgnoreMatch(i, '/', '/inner/node_modules');\n\t\tassertIgnoreMatch(i, '/', '/inner/node_modules/');\n\t});\n\n\ttest('parsing simple gitignore files', () => {\n\t\tlet i = 'node_modules\\nout\\n';\n\n\t\tassertIgnoreMatch(i, '/', '/node_modules');\n\t\tassertNoTraverses(i, '/', '/node_modules');\n\t\tassertIgnoreMatch(i, '/', '/node_modules/file');\n\t\tassertIgnoreMatch(i, '/', '/dir/node_modules');\n\t\tassertIgnoreMatch(i, '/', '/dir/node_modules/file');\n\n\t\tassertIgnoreMatch(i, '/', '/out');\n\t\tassertNoTraverses(i, '/', '/out');\n\t\tassertIgnoreMatch(i, '/', '/out/file');\n\t\tassertIgnoreMatch(i, '/', '/dir/out');\n\t\tassertIgnoreMatch(i, '/', '/dir/out/file');\n\n\t\ti = '/node_modules\\n/out\\n';\n\n\t\tassertIgnoreMatch(i, '/', '/node_modules');\n\t\tassertIgnoreMatch(i, '/', '/node_modules/file');\n\t\tassertNoIgnoreMatch(i, '/', '/dir/node_modules');\n\t\tassertNoIgnoreMatch(i, '/', '/dir/node_modules/file');\n\n\t\tassertIgnoreMatch(i, '/', '/out');\n\t\tassertIgnoreMatch(i, '/', '/out/file');\n\t\tassertNoIgnoreMatch(i, '/', '/dir/out');\n\t\tassertNoIgnoreMatch(i, '/', '/dir/out/file');\n\n\t\ti = 'node_modules/\\nout/\\n';\n\n\t\tassertNoIgnoreMatch(i, '/', '/node_modules');\n\t\tassertIgnoreMatch(i, '/', '/node_modules/');\n\t\tassertIgnoreMatch(i, '/', '/node_modules/file');\n\t\tassertIgnoreMatch(i, '/', '/dir/node_modules/');\n\t\tassertNoIgnoreMatch(i, '/', '/dir/node_modules');\n\t\tassertIgnoreMatch(i, '/', '/dir/node_modules/file');\n\n\t\tassertIgnoreMatch(i, '/', '/out/');\n\t\tassertNoIgnoreMatch(i, '/', '/out');\n\t\tassertIgnoreMatch(i, '/', '/out/file');\n\t\tassertNoIgnoreMatch(i, '/', '/dir/out');\n\t\tassertIgnoreMatch(i, '/', '/dir/out/');\n\t\tassertIgnoreMatch(i, '/', '/dir/out/file');\n\t});\n\n\ttest('parsing files-in-folder exclude', () => {\n\t\tlet i = 'node_modules/*\\n';\n\n\t\tassertNoIgnoreMatch(i, '/', '/node_modules');\n\t\tassertNoIgnoreMatch(i, '/', '/node_modules/');\n\t\tassertTraverses(i, '/', '/node_modules');\n\t\tassertTraverses(i, '/', '/node_modules/');\n\t\tassertIgnoreMatch(i, '/', '/node_modules/something');\n\t\tassertNoTraverses(i, '/', '/node_modules/something');\n\t\tassertIgnoreMatch(i, '/', '/node_modules/something/else');\n\t\tassertIgnoreMatch(i, '/', '/node_modules/@types');\n\t\tassertNoTraverses(i, '/', '/node_modules/@types');\n\n\t\ti = 'node_modules/**/*\\n';\n\n\t\tassertNoIgnoreMatch(i, '/', '/node_modules');\n\t\tassertNoIgnoreMatch(i, '/', '/node_modules/');\n\t\tassertIgnoreMatch(i, '/', '/node_modules/something');\n\t\tassertIgnoreMatch(i, '/', '/node_modules/something/else');\n\t\tassertIgnoreMatch(i, '/', '/node_modules/@types');\n\t});\n\n\ttest('parsing simple negations', () => {\n\t\tlet i = 'node_modules/*\\n!node_modules/@types\\n';\n\n\t\tassertNoIgnoreMatch(i, '/', '/node_modules');\n\t\tassertTraverses(i, '/', '/node_modules');\n\n\t\tassertIgnoreMatch(i, '/', '/node_modules/something');\n\t\tassertNoTraverses(i, '/', '/node_modules/something');\n\t\tassertIgnoreMatch(i, '/', '/node_modules/something/else');\n\n\t\tassertNoIgnoreMatch(i, '/', '/node_modules/@types');\n\t\tassertTraverses(i, '/', '/node_modules/@types');\n\t\tassertTraverses(i, '/', '/node_modules/@types/boop');\n\n\t\ti = '*.log\\n!important.log\\n';\n\n\t\tassertIgnoreMatch(i, '/', '/test.log');\n\t\tassertIgnoreMatch(i, '/', '/inner/test.log');\n\n\t\tassertNoIgnoreMatch(i, '/', '/important.log');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/important.log');\n\n\t\tassertNoTraverses(i, '/', '/test.log');\n\t\tassertNoTraverses(i, '/', '/inner/test.log');\n\t\tassertTraverses(i, '/', '/important.log');\n\t\tassertTraverses(i, '/', '/inner/important.log');\n\t});\n\n\ttest('nested .gitignores', () => {\n\t\tlet i = 'node_modules\\nout\\n';\n\n\t\tassertIgnoreMatch(i, '/inner/', '/inner/node_modules');\n\t\tassertIgnoreMatch(i, '/inner/', '/inner/more/node_modules');\n\n\n\t\ti = '/node_modules\\n/out\\n';\n\n\t\tassertIgnoreMatch(i, '/inner/', '/inner/node_modules');\n\t\tassertNoIgnoreMatch(i, '/inner/', '/inner/more/node_modules');\n\t\tassertNoIgnoreMatch(i, '/inner/', '/node_modules');\n\n\t\ti = 'node_modules/\\nout/\\n';\n\n\t\tassertNoIgnoreMatch(i, '/inner/', '/inner/node_modules');\n\t\tassertIgnoreMatch(i, '/inner/', '/inner/node_modules/');\n\t\tassertNoIgnoreMatch(i, '/inner/', '/inner/more/node_modules');\n\t\tassertIgnoreMatch(i, '/inner/', '/inner/more/node_modules/');\n\t\tassertNoIgnoreMatch(i, '/inner/', '/node_modules');\n\t});\n\n\ttest('file extension matches', () => {\n\t\tlet i = '*.js\\n';\n\n\t\tassertNoIgnoreMatch(i, '/', '/myFile.ts');\n\t\tassertIgnoreMatch(i, '/', '/myFile.js');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/myFile.ts');\n\t\tassertIgnoreMatch(i, '/', '/inner/myFile.js');\n\n\t\ti = '/*.js';\n\t\tassertNoIgnoreMatch(i, '/', '/myFile.ts');\n\t\tassertIgnoreMatch(i, '/', '/myFile.js');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/myFile.ts');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/myFile.js');\n\n\t\ti = '**/*.js';\n\t\tassertNoIgnoreMatch(i, '/', '/myFile.ts');\n\t\tassertIgnoreMatch(i, '/', '/myFile.js');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/myFile.ts');\n\t\tassertIgnoreMatch(i, '/', '/inner/myFile.js');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/more/myFile.ts');\n\t\tassertIgnoreMatch(i, '/', '/inner/more/myFile.js');\n\n\t\ti = 'inner/*.js';\n\t\tassertNoIgnoreMatch(i, '/', '/myFile.ts');\n\t\tassertNoIgnoreMatch(i, '/', '/myFile.js');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/myFile.ts');\n\t\tassertIgnoreMatch(i, '/', '/inner/myFile.js');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/more/myFile.ts');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/more/myFile.js');\n\n\t\ti = '/inner/*.js';\n\t\tassertNoIgnoreMatch(i, '/', '/myFile.ts');\n\t\tassertNoIgnoreMatch(i, '/', '/myFile.js');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/myFile.ts');\n\t\tassertIgnoreMatch(i, '/', '/inner/myFile.js');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/more/myFile.ts');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/more/myFile.js');\n\n\t\ti = '**/inner/*.js';\n\t\tassertNoIgnoreMatch(i, '/', '/myFile.ts');\n\t\tassertNoIgnoreMatch(i, '/', '/myFile.js');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/myFile.ts');\n\t\tassertIgnoreMatch(i, '/', '/inner/myFile.js');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/more/myFile.ts');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/more/myFile.js');\n\n\t\ti = '**/inner/**/*.js';\n\t\tassertNoIgnoreMatch(i, '/', '/myFile.ts');\n\t\tassertNoIgnoreMatch(i, '/', '/myFile.js');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/myFile.ts');\n\t\tassertIgnoreMatch(i, '/', '/inner/myFile.js');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/more/myFile.ts');\n\t\tassertIgnoreMatch(i, '/', '/inner/more/myFile.js');\n\n\t\ti = '**/more/*.js';\n\t\tassertNoIgnoreMatch(i, '/', '/myFile.ts');\n\t\tassertNoIgnoreMatch(i, '/', '/myFile.js');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/myFile.ts');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/myFile.js');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/more/myFile.ts');\n\t\tassertIgnoreMatch(i, '/', '/inner/more/myFile.js');\n\t});\n\n\ttest('real world example: vscode-js-debug', () => {\n\t\tconst i = `.cache/\n\t\t\t.profile/\n\t\t\t.cdp-profile/\n\t\t\t.headless-profile/\n\t\t\t.vscode-test/\n\t\t\t.DS_Store\n\t\t\tnode_modules/\n\t\t\tout/\n\t\t\tdist\n\t\t\t/coverage\n\t\t\t/.nyc_output\n\t\t\tdemos/web-worker/vscode-pwa-dap.log\n\t\t\tdemos/web-worker/vscode-pwa-cdp.log\n\t\t\t.dynamic-testWorkspace\n\t\t\t**/test/**/*.actual\n\t\t\t/testWorkspace/web/tmp\n\t\t\t/testWorkspace/**/debug.log\n\t\t\t/testWorkspace/webview/win/true/\n\t\t\t*.cpuprofile`;\n\n\t\tconst included = [\n\t\t\t'/distro',\n\n\t\t\t'/inner/coverage',\n\t\t\t'/inner/.nyc_output',\n\n\t\t\t'/inner/demos/web-worker/vscode-pwa-dap.log',\n\t\t\t'/inner/demos/web-worker/vscode-pwa-cdp.log',\n\n\t\t\t'/testWorkspace/webview/win/true',\n\n\t\t\t'/a/best/b/c.actual',\n\t\t\t'/best/b/c.actual',\n\t\t];\n\n\t\tconst excluded = [\n\t\t\t'/.profile/',\n\t\t\t'/inner/.profile/',\n\n\t\t\t'/.DS_Store',\n\t\t\t'/inner/.DS_Store',\n\n\t\t\t'/coverage',\n\t\t\t'/.nyc_output',\n\n\t\t\t'/demos/web-worker/vscode-pwa-dap.log',\n\t\t\t'/demos/web-worker/vscode-pwa-cdp.log',\n\n\t\t\t'/.dynamic-testWorkspace',\n\t\t\t'/inner/.dynamic-testWorkspace',\n\n\t\t\t'/test/.actual',\n\t\t\t'/test/hello.actual',\n\t\t\t'/a/test/.actual',\n\t\t\t'/a/test/b.actual',\n\t\t\t'/a/test/b/.actual',\n\t\t\t'/a/test/b/c.actual',\n\t\t\t'/a/b/test/.actual',\n\t\t\t'/a/b/test/f/c.actual',\n\n\t\t\t'/testWorkspace/web/tmp',\n\n\t\t\t'/testWorkspace/debug.log',\n\t\t\t'/testWorkspace/a/debug.log',\n\t\t\t'/testWorkspace/a/b/debug.log',\n\n\t\t\t'/testWorkspace/webview/win/true/',\n\n\t\t\t'/.cpuprofile',\n\t\t\t'/a.cpuprofile',\n\t\t\t'/aa/a.cpuprofile',\n\t\t\t'/aaa/aa/a.cpuprofile',\n\t\t];\n\n\t\tfor (const include of included) {\n\t\t\tassertNoIgnoreMatch(i, '/', include);\n\t\t}\n\n\t\tfor (const exclude of excluded) {\n\t\t\tassertIgnoreMatch(i, '/', exclude);\n\t\t}\n\t});\n\n\ttest('real world example: vscode', () => {\n\t\tconst i = `.DS_Store\n\t\t\t.cache\n\t\t\tnpm-debug.log\n\t\t\tThumbs.db\n\t\t\tnode_modules/\n\t\t\t.build/\n\t\t\textensions/**/dist/\n\t\t\t/out*/\n\t\t\t/extensions/**/out/\n\t\t\tsrc/vs/server\n\t\t\tresources/server\n\t\t\tbuild/node_modules\n\t\t\tcoverage/\n\t\t\ttest_data/\n\t\t\ttest-results/\n\t\t\tyarn-error.log\n\t\t\tvscode.lsif\n\t\t\tvscode.db\n\t\t\t/.profile-oss`;\n\n\t\tconst included = [\n\t\t\t'/inner/extensions/dist',\n\t\t\t'/inner/extensions/boop/dist/test',\n\t\t\t'/inner/extensions/boop/doop/dist',\n\t\t\t'/inner/extensions/boop/doop/dist/test',\n\t\t\t'/inner/extensions/boop/doop/dist/test',\n\n\t\t\t'/inner/extensions/out/test',\n\t\t\t'/inner/extensions/boop/out',\n\t\t\t'/inner/extensions/boop/out/test',\n\n\t\t\t'/inner/out/',\n\t\t\t'/inner/out/test',\n\t\t\t'/inner/out1/',\n\t\t\t'/inner/out1/test',\n\t\t\t'/inner/out2/',\n\t\t\t'/inner/out2/test',\n\n\t\t\t'/inner/.profile-oss',\n\n\t\t\t// Files.\n\t\t\t'/extensions/dist',\n\t\t\t'/extensions/boop/doop/dist',\n\t\t\t'/extensions/boop/out',\n\t\t];\n\n\t\tconst excluded = [\n\t\t\t'/extensions/dist/',\n\t\t\t'/extensions/boop/dist/test',\n\t\t\t'/extensions/boop/doop/dist/',\n\t\t\t'/extensions/boop/doop/dist/test',\n\t\t\t'/extensions/boop/doop/dist/test',\n\n\t\t\t'/extensions/out/test',\n\t\t\t'/extensions/boop/out/',\n\t\t\t'/extensions/boop/out/test',\n\n\t\t\t'/out/',\n\t\t\t'/out/test',\n\t\t\t'/out1/',\n\t\t\t'/out1/test',\n\t\t\t'/out2/',\n\t\t\t'/out2/test',\n\n\t\t\t'/.profile-oss',\n\t\t];\n\n\t\tfor (const include of included) {\n\t\t\tassertNoIgnoreMatch(i, '/', include);\n\t\t}\n\n\t\tfor (const exclude of excluded) {\n\t\t\tassertIgnoreMatch(i, '/', exclude);\n\t\t}\n\n\t});\n\n\ttest('various advanced constructs found in popular repos', () => {\n\t\tconst runTest = ({ pattern, included, excluded }: { pattern: string; included: string[]; excluded: string[] }) => {\n\t\t\tfor (const include of included) {\n\t\t\t\tassertNoIgnoreMatch(pattern, '/', include);\n\t\t\t}\n\n\t\t\tfor (const exclude of excluded) {\n\t\t\t\tassertIgnoreMatch(pattern, '/', exclude);\n\t\t\t}\n\t\t};\n\n\t\trunTest({\n\t\t\tpattern: `**/node_modules\n\t\t\t/packages/*/dist`,\n\n\t\t\texcluded: [\n\t\t\t\t'/node_modules',\n\t\t\t\t'/test/node_modules',\n\t\t\t\t'/node_modules/test',\n\t\t\t\t'/test/node_modules/test',\n\n\t\t\t\t'/packages/a/dist',\n\t\t\t\t'/packages/abc/dist',\n\t\t\t\t'/packages/abc/dist/test',\n\t\t\t],\n\t\t\tincluded: [\n\t\t\t\t'/inner/packages/a/dist',\n\t\t\t\t'/inner/packages/abc/dist',\n\t\t\t\t'/inner/packages/abc/dist/test',\n\n\t\t\t\t'/packages/dist',\n\t\t\t\t'/packages/dist/test',\n\t\t\t\t'/packages/a/b/dist',\n\t\t\t\t'/packages/a/b/dist/test',\n\t\t\t],\n\t\t});\n\n\t\trunTest({\n\t\t\tpattern: `.yarn/*\n\t\t\t# !.yarn/cache\n\t\t\t!.yarn/patches\n\t\t\t!.yarn/plugins\n\t\t\t!.yarn/releases\n\t\t\t!.yarn/sdks\n\t\t\t!.yarn/versions`,\n\n\t\t\texcluded: [\n\t\t\t\t'/.yarn/test',\n\t\t\t\t'/.yarn/cache',\n\t\t\t],\n\t\t\tincluded: [\n\t\t\t\t'/inner/.yarn/test',\n\t\t\t\t'/inner/.yarn/cache',\n\n\t\t\t\t'/.yarn/patches',\n\t\t\t\t'/.yarn/plugins',\n\t\t\t\t'/.yarn/releases',\n\t\t\t\t'/.yarn/sdks',\n\t\t\t\t'/.yarn/versions',\n\t\t\t],\n\t\t});\n\n\t\trunTest({\n\t\t\tpattern: `[._]*s[a-w][a-z]\n\t\t\t[._]s[a-w][a-z]\n\t\t\t*.un~\n\t\t\t*~`,\n\n\t\t\texcluded: [\n\t\t\t\t'/~',\n\t\t\t\t'/abc~',\n\t\t\t\t'/inner/~',\n\t\t\t\t'/inner/abc~',\n\t\t\t\t'/.un~',\n\t\t\t\t'/a.un~',\n\t\t\t\t'/test/.un~',\n\t\t\t\t'/test/a.un~',\n\t\t\t\t'/.saa',\n\t\t\t\t'/....saa',\n\t\t\t\t'/._._sby',\n\t\t\t\t'/inner/._._sby',\n\t\t\t\t'/_swz',\n\t\t\t],\n\t\t\tincluded: [\n\t\t\t\t'/.jaa',\n\t\t\t],\n\t\t});\n\n\t\t// TODO: the rest of these :)\n\t\trunTest({\n\t\t\tpattern: `*.pbxuser\n\t\t\t!default.pbxuser\n\t\t\t*.mode1v3\n\t\t\t!default.mode1v3\n\t\t\t*.mode2v3\n\t\t\t!default.mode2v3\n\t\t\t*.perspectivev3\n\t\t\t!default.perspectivev3`,\n\t\t\texcluded: [],\n\t\t\tincluded: [],\n\t\t});\n\n\t\trunTest({\n\t\t\tpattern: `[Dd]ebug/\n\t\t\t[Dd]ebugPublic/\n\t\t\t[Rr]elease/\n\t\t\t[Rr]eleases/\n\t\t\t*.[Mm]etrics.xml\n\t\t\t[Tt]est[Rr]esult*/\n\t\t\t[Bb]uild[Ll]og.*\n\t\t\tbld/\n\t\t\t[Bb]in/\n\t\t\t[Oo]bj/\n\t\t\t[Ll]og/`,\n\t\t\texcluded: [],\n\t\t\tincluded: [],\n\t\t});\n\n\t\trunTest({\n\t\t\tpattern: `Dockerfile*\n\t\t\t!/tests/bud/*/Dockerfile*\n\t\t\t!/tests/conformance/**/Dockerfile*`,\n\t\t\texcluded: [],\n\t\t\tincluded: [],\n\t\t});\n\n\t\trunTest({\n\t\t\tpattern: `*.pdf\n\t\t\t*.html\n\t\t\t!author_bio.html\n\t\t\t!colo.html\n\t\t\t!copyright.html\n\t\t\t!cover.html\n\t\t\t!ix.html\n\t\t\t!titlepage.html\n\t\t\t!toc.html`,\n\t\t\texcluded: [],\n\t\t\tincluded: [],\n\t\t});\n\n\t\trunTest({\n\t\t\tpattern: `/log/*\n\t\t\t/tmp/*\n\t\t\t!/log/.keep\n\t\t\t!/tmp/.keep`,\n\t\t\texcluded: [],\n\t\t\tincluded: [],\n\t\t});\n\n\t});\n\n\ttest('case-insensitive ignore files', () => {\n\t\tconst f1 = 'node_modules/\\n';\n\t\tassertNoIgnoreMatch(f1, '/', '/Node_Modules/', false);\n\t\tassertIgnoreMatch(f1, '/', '/Node_Modules/', true);\n\n\t\tconst f2 = 'NODE_MODULES/\\n';\n\t\tassertNoIgnoreMatch(f2, '/', '/Node_Modules/', false);\n\t\tassertIgnoreMatch(f2, '/', '/Node_Modules/', true);\n\n\t\tconst f3 = `\n\t\t\ttemp/*\n\t\t\t!temp/keep\n\t\t`;\n\t\tassertNoIgnoreMatch(f3, '/', '/TEMP/other', false);\n\t\tassertIgnoreMatch(f3, '/', '/temp/KEEP', false);\n\t\tassertIgnoreMatch(f3, '/', '/TEMP/other', true);\n\t\tassertNoIgnoreMatch(f3, '/', '/TEMP/KEEP', true);\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { IgnoreFile } from '../../common/ignoreFile.js';\n\nfunction runAssert(input: string, ignoreFile: string, ignoreFileLocation: string, shouldMatch: boolean, traverse: boolean, ignoreCase: boolean) {\n\treturn (prefix: string) => {\n\t\tconst isDir = input.endsWith('/');\n\t\tconst rawInput = isDir ? input.slice(0, input.length - 1) : input;\n\n\t\tconst matcher = new IgnoreFile(ignoreFile, prefix + ignoreFileLocation, undefined, ignoreCase);\n\t\tif (traverse) {\n\t\t\tconst traverses = matcher.isPathIncludedInTraversal(prefix + rawInput, isDir);\n\n\t\t\tif (shouldMatch) {\n\t\t\t\tassert(traverses, `${ignoreFileLocation}: ${ignoreFile} should traverse ${isDir ? 'dir' : 'file'} ${prefix}${rawInput}`);\n\t\t\t} else {\n\t\t\t\tassert(!traverses, `${ignoreFileLocation}: ${ignoreFile} should not traverse ${isDir ? 'dir' : 'file'} ${prefix}${rawInput}`);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tconst ignores = matcher.isArbitraryPathIgnored(prefix + rawInput, isDir);\n\n\t\t\tif (shouldMatch) {\n\t\t\t\tassert(ignores, `${ignoreFileLocation}: ${ignoreFile} should ignore ${isDir ? 'dir' : 'file'} ${prefix}${rawInput}`);\n\t\t\t} else {\n\t\t\t\tassert(!ignores, `${ignoreFileLocation}: ${ignoreFile} should not ignore ${isDir ? 'dir' : 'file'} ${prefix}${rawInput}`);\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction assertNoTraverses(ignoreFile: string, ignoreFileLocation: string, input: string, ignoreCase = false) {\n\tconst runWithPrefix = runAssert(input, ignoreFile, ignoreFileLocation, false, true, ignoreCase);\n\n\trunWithPrefix('');\n\trunWithPrefix('/someFolder');\n}\n\nfunction assertTraverses(ignoreFile: string, ignoreFileLocation: string, input: string, ignoreCase = false) {\n\tconst runWithPrefix = runAssert(input, ignoreFile, ignoreFileLocation, true, true, ignoreCase);\n\n\trunWithPrefix('');\n\trunWithPrefix('/someFolder');\n}\n\nfunction assertIgnoreMatch(ignoreFile: string, ignoreFileLocation: string, input: string, ignoreCase = false) {\n\tconst runWithPrefix = runAssert(input, ignoreFile, ignoreFileLocation, true, false, ignoreCase);\n\n\trunWithPrefix('');\n\trunWithPrefix('/someFolder');\n}\n\nfunction assertNoIgnoreMatch(ignoreFile: string, ignoreFileLocation: string, input: string, ignoreCase = false) {\n\tconst runWithPrefix = runAssert(input, ignoreFile, ignoreFileLocation, false, false, ignoreCase);\n\n\trunWithPrefix('');\n\trunWithPrefix('/someFolder');\n}\n\nsuite('Parsing .gitignore files', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('paths with trailing slashes do not match files', () => {\n\t\tconst i = 'node_modules/\\n';\n\n\t\tassertNoIgnoreMatch(i, '/', '/node_modules');\n\t\tassertIgnoreMatch(i, '/', '/node_modules/');\n\n\t\tassertNoIgnoreMatch(i, '/', '/inner/node_modules');\n\t\tassertIgnoreMatch(i, '/', '/inner/node_modules/');\n\t});\n\n\ttest('parsing simple gitignore files', () => {\n\t\tlet i = 'node_modules\\nout\\n';\n\n\t\tassertIgnoreMatch(i, '/', '/node_modules');\n\t\tassertNoTraverses(i, '/', '/node_modules');\n\t\tassertIgnoreMatch(i, '/', '/node_modules/file');\n\t\tassertIgnoreMatch(i, '/', '/dir/node_modules');\n\t\tassertIgnoreMatch(i, '/', '/dir/node_modules/file');\n\n\t\tassertIgnoreMatch(i, '/', '/out');\n\t\tassertNoTraverses(i, '/', '/out');\n\t\tassertIgnoreMatch(i, '/', '/out/file');\n\t\tassertIgnoreMatch(i, '/', '/dir/out');\n\t\tassertIgnoreMatch(i, '/', '/dir/out/file');\n\n\t\ti = '/node_modules\\n/out\\n';\n\n\t\tassertIgnoreMatch(i, '/', '/node_modules');\n\t\tassertIgnoreMatch(i, '/', '/node_modules/file');\n\t\tassertNoIgnoreMatch(i, '/', '/dir/node_modules');\n\t\tassertNoIgnoreMatch(i, '/', '/dir/node_modules/file');\n\n\t\tassertIgnoreMatch(i, '/', '/out');\n\t\tassertIgnoreMatch(i, '/', '/out/file');\n\t\tassertNoIgnoreMatch(i, '/', '/dir/out');\n\t\tassertNoIgnoreMatch(i, '/', '/dir/out/file');\n\n\t\ti = 'node_modules/\\nout/\\n';\n\n\t\tassertNoIgnoreMatch(i, '/', '/node_modules');\n\t\tassertIgnoreMatch(i, '/', '/node_modules/');\n\t\tassertIgnoreMatch(i, '/', '/node_modules/file');\n\t\tassertIgnoreMatch(i, '/', '/dir/node_modules/');\n\t\tassertNoIgnoreMatch(i, '/', '/dir/node_modules');\n\t\tassertIgnoreMatch(i, '/', '/dir/node_modules/file');\n\n\t\tassertIgnoreMatch(i, '/', '/out/');\n\t\tassertNoIgnoreMatch(i, '/', '/out');\n\t\tassertIgnoreMatch(i, '/', '/out/file');\n\t\tassertNoIgnoreMatch(i, '/', '/dir/out');\n\t\tassertIgnoreMatch(i, '/', '/dir/out/');\n\t\tassertIgnoreMatch(i, '/', '/dir/out/file');\n\t});\n\n\ttest('parsing files-in-folder exclude', () => {\n\t\tlet i = 'node_modules/*\\n';\n\n\t\tassertNoIgnoreMatch(i, '/', '/node_modules');\n\t\tassertNoIgnoreMatch(i, '/', '/node_modules/');\n\t\tassertTraverses(i, '/', '/node_modules');\n\t\tassertTraverses(i, '/', '/node_modules/');\n\t\tassertIgnoreMatch(i, '/', '/node_modules/something');\n\t\tassertNoTraverses(i, '/', '/node_modules/something');\n\t\tassertIgnoreMatch(i, '/', '/node_modules/something/else');\n\t\tassertIgnoreMatch(i, '/', '/node_modules/@types');\n\t\tassertNoTraverses(i, '/', '/node_modules/@types');\n\n\t\ti = 'node_modules/**/*\\n';\n\n\t\tassertNoIgnoreMatch(i, '/', '/node_modules');\n\t\tassertNoIgnoreMatch(i, '/', '/node_modules/');\n\t\tassertIgnoreMatch(i, '/', '/node_modules/something');\n\t\tassertIgnoreMatch(i, '/', '/node_modules/something/else');\n\t\tassertIgnoreMatch(i, '/', '/node_modules/@types');\n\t});\n\n\ttest('parsing simple negations', () => {\n\t\tlet i = 'node_modules/*\\n!node_modules/@types\\n';\n\n\t\tassertNoIgnoreMatch(i, '/', '/node_modules');\n\t\tassertTraverses(i, '/', '/node_modules');\n\n\t\tassertIgnoreMatch(i, '/', '/node_modules/something');\n\t\tassertNoTraverses(i, '/', '/node_modules/something');\n\t\tassertIgnoreMatch(i, '/', '/node_modules/something/else');\n\n\t\tassertNoIgnoreMatch(i, '/', '/node_modules/@types');\n\t\tassertTraverses(i, '/', '/node_modules/@types');\n\t\tassertTraverses(i, '/', '/node_modules/@types/boop');\n\n\t\ti = '*.log\\n!important.log\\n';\n\n\t\tassertIgnoreMatch(i, '/', '/test.log');\n\t\tassertIgnoreMatch(i, '/', '/inner/test.log');\n\n\t\tassertNoIgnoreMatch(i, '/', '/important.log');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/important.log');\n\n\t\tassertNoTraverses(i, '/', '/test.log');\n\t\tassertNoTraverses(i, '/', '/inner/test.log');\n\t\tassertTraverses(i, '/', '/important.log');\n\t\tassertTraverses(i, '/', '/inner/important.log');\n\t});\n\n\ttest('nested .gitignores', () => {\n\t\tlet i = 'node_modules\\nout\\n';\n\n\t\tassertIgnoreMatch(i, '/inner/', '/inner/node_modules');\n\t\tassertIgnoreMatch(i, '/inner/', '/inner/more/node_modules');\n\n\n\t\ti = '/node_modules\\n/out\\n';\n\n\t\tassertIgnoreMatch(i, '/inner/', '/inner/node_modules');\n\t\tassertNoIgnoreMatch(i, '/inner/', '/inner/more/node_modules');\n\t\tassertNoIgnoreMatch(i, '/inner/', '/node_modules');\n\n\t\ti = 'node_modules/\\nout/\\n';\n\n\t\tassertNoIgnoreMatch(i, '/inner/', '/inner/node_modules');\n\t\tassertIgnoreMatch(i, '/inner/', '/inner/node_modules/');\n\t\tassertNoIgnoreMatch(i, '/inner/', '/inner/more/node_modules');\n\t\tassertIgnoreMatch(i, '/inner/', '/inner/more/node_modules/');\n\t\tassertNoIgnoreMatch(i, '/inner/', '/node_modules');\n\t});\n\n\ttest('file extension matches', () => {\n\t\tlet i = '*.js\\n';\n\n\t\tassertNoIgnoreMatch(i, '/', '/myFile.ts');\n\t\tassertIgnoreMatch(i, '/', '/myFile.js');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/myFile.ts');\n\t\tassertIgnoreMatch(i, '/', '/inner/myFile.js');\n\n\t\ti = '/*.js';\n\t\tassertNoIgnoreMatch(i, '/', '/myFile.ts');\n\t\tassertIgnoreMatch(i, '/', '/myFile.js');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/myFile.ts');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/myFile.js');\n\n\t\ti = '**/*.js';\n\t\tassertNoIgnoreMatch(i, '/', '/myFile.ts');\n\t\tassertIgnoreMatch(i, '/', '/myFile.js');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/myFile.ts');\n\t\tassertIgnoreMatch(i, '/', '/inner/myFile.js');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/more/myFile.ts');\n\t\tassertIgnoreMatch(i, '/', '/inner/more/myFile.js');\n\n\t\ti = 'inner/*.js';\n\t\tassertNoIgnoreMatch(i, '/', '/myFile.ts');\n\t\tassertNoIgnoreMatch(i, '/', '/myFile.js');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/myFile.ts');\n\t\tassertIgnoreMatch(i, '/', '/inner/myFile.js');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/more/myFile.ts');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/more/myFile.js');\n\n\t\ti = '/inner/*.js';\n\t\tassertNoIgnoreMatch(i, '/', '/myFile.ts');\n\t\tassertNoIgnoreMatch(i, '/', '/myFile.js');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/myFile.ts');\n\t\tassertIgnoreMatch(i, '/', '/inner/myFile.js');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/more/myFile.ts');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/more/myFile.js');\n\n\t\ti = '**/inner/*.js';\n\t\tassertNoIgnoreMatch(i, '/', '/myFile.ts');\n\t\tassertNoIgnoreMatch(i, '/', '/myFile.js');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/myFile.ts');\n\t\tassertIgnoreMatch(i, '/', '/inner/myFile.js');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/more/myFile.ts');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/more/myFile.js');\n\n\t\ti = '**/inner/**/*.js';\n\t\tassertNoIgnoreMatch(i, '/', '/myFile.ts');\n\t\tassertNoIgnoreMatch(i, '/', '/myFile.js');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/myFile.ts');\n\t\tassertIgnoreMatch(i, '/', '/inner/myFile.js');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/more/myFile.ts');\n\t\tassertIgnoreMatch(i, '/', '/inner/more/myFile.js');\n\n\t\ti = '**/more/*.js';\n\t\tassertNoIgnoreMatch(i, '/', '/myFile.ts');\n\t\tassertNoIgnoreMatch(i, '/', '/myFile.js');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/myFile.ts');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/myFile.js');\n\t\tassertNoIgnoreMatch(i, '/', '/inner/more/myFile.ts');\n\t\tassertIgnoreMatch(i, '/', '/inner/more/myFile.js');\n\t});\n\n\ttest('real world example: vscode-js-debug', () => {\n\t\tconst i = `.cache/\n\t\t\t.profile/\n\t\t\t.cdp-profile/\n\t\t\t.headless-profile/\n\t\t\t.vscode-test/\n\t\t\t.DS_Store\n\t\t\tnode_modules/\n\t\t\tout/\n\t\t\tdist\n\t\t\t/coverage\n\t\t\t/.nyc_output\n\t\t\tdemos/web-worker/vscode-pwa-dap.log\n\t\t\tdemos/web-worker/vscode-pwa-cdp.log\n\t\t\t.dynamic-testWorkspace\n\t\t\t**/test/**/*.actual\n\t\t\t/testWorkspace/web/tmp\n\t\t\t/testWorkspace/**/debug.log\n\t\t\t/testWorkspace/webview/win/true/\n\t\t\t*.cpuprofile`;\n\n\t\tconst included = [\n\t\t\t'/distro',\n\n\t\t\t'/inner/coverage',\n\t\t\t'/inner/.nyc_output',\n\n\t\t\t'/inner/demos/web-worker/vscode-pwa-dap.log',\n\t\t\t'/inner/demos/web-worker/vscode-pwa-cdp.log',\n\n\t\t\t'/testWorkspace/webview/win/true',\n\n\t\t\t'/a/best/b/c.actual',\n\t\t\t'/best/b/c.actual',\n\t\t];\n\n\t\tconst excluded = [\n\t\t\t'/.profile/',\n\t\t\t'/inner/.profile/',\n\n\t\t\t'/.DS_Store',\n\t\t\t'/inner/.DS_Store',\n\n\t\t\t'/coverage',\n\t\t\t'/.nyc_output',\n\n\t\t\t'/demos/web-worker/vscode-pwa-dap.log',\n\t\t\t'/demos/web-worker/vscode-pwa-cdp.log',\n\n\t\t\t'/.dynamic-testWorkspace',\n\t\t\t'/inner/.dynamic-testWorkspace',\n\n\t\t\t'/test/.actual',\n\t\t\t'/test/hello.actual',\n\t\t\t'/a/test/.actual',\n\t\t\t'/a/test/b.actual',\n\t\t\t'/a/test/b/.actual',\n\t\t\t'/a/test/b/c.actual',\n\t\t\t'/a/b/test/.actual',\n\t\t\t'/a/b/test/f/c.actual',\n\n\t\t\t'/testWorkspace/web/tmp',\n\n\t\t\t'/testWorkspace/debug.log',\n\t\t\t'/testWorkspace/a/debug.log',\n\t\t\t'/testWorkspace/a/b/debug.log',\n\n\t\t\t'/testWorkspace/webview/win/true/',\n\n\t\t\t'/.cpuprofile',\n\t\t\t'/a.cpuprofile',\n\t\t\t'/aa/a.cpuprofile',\n\t\t\t'/aaa/aa/a.cpuprofile',\n\t\t];\n\n\t\tfor (const include of included) {\n\t\t\tassertNoIgnoreMatch(i, '/', include);\n\t\t}\n\n\t\tfor (const exclude of excluded) {\n\t\t\tassertIgnoreMatch(i, '/', exclude);\n\t\t}\n\t});\n\n\ttest('real world example: vscode', () => {\n\t\tconst i = `.DS_Store\n\t\t\t.cache\n\t\t\tnpm-debug.log\n\t\t\tThumbs.db\n\t\t\tnode_modules/\n\t\t\t.build/\n\t\t\textensions/**/dist/\n\t\t\t/out*/\n\t\t\t/extensions/**/out/\n\t\t\tsrc/vs/server\n\t\t\tresources/server\n\t\t\tbuild/node_modules\n\t\t\tcoverage/\n\t\t\ttest_data/\n\t\t\ttest-results/\n\t\t\tyarn-error.log\n\t\t\tvscode.lsif\n\t\t\tvscode.db\n\t\t\t/.profile-oss`;\n\n\t\tconst included = [\n\t\t\t'/inner/extensions/dist',\n\t\t\t'/inner/extensions/boop/dist/test',\n\t\t\t'/inner/extensions/boop/doop/dist',\n\t\t\t'/inner/extensions/boop/doop/dist/test',\n\t\t\t'/inner/extensions/boop/doop/dist/test',\n\n\t\t\t'/inner/extensions/out/test',\n\t\t\t'/inner/extensions/boop/out',\n\t\t\t'/inner/extensions/boop/out/test',\n\n\t\t\t'/inner/out/',\n\t\t\t'/inner/out/test',\n\t\t\t'/inner/out1/',\n\t\t\t'/inner/out1/test',\n\t\t\t'/inner/out2/',\n\t\t\t'/inner/out2/test',\n\n\t\t\t'/inner/.profile-oss',\n\n\t\t\t// Files.\n\t\t\t'/extensions/dist',\n\t\t\t'/extensions/boop/doop/dist',\n\t\t\t'/extensions/boop/out',\n\t\t];\n\n\t\tconst excluded = [\n\t\t\t'/extensions/dist/',\n\t\t\t'/extensions/boop/dist/test',\n\t\t\t'/extensions/boop/doop/dist/',\n\t\t\t'/extensions/boop/doop/dist/test',\n\t\t\t'/extensions/boop/doop/dist/test',\n\n\t\t\t'/extensions/out/test',\n\t\t\t'/extensions/boop/out/',\n\t\t\t'/extensions/boop/out/test',\n\n\t\t\t'/out/',\n\t\t\t'/out/test',\n\t\t\t'/out1/',\n\t\t\t'/out1/test',\n\t\t\t'/out2/',\n\t\t\t'/out2/test',\n\n\t\t\t'/.profile-oss',\n\t\t];\n\n\t\tfor (const include of included) {\n\t\t\tassertNoIgnoreMatch(i, '/', include);\n\t\t}\n\n\t\tfor (const exclude of excluded) {\n\t\t\tassertIgnoreMatch(i, '/', exclude);\n\t\t}\n\n\t});\n\n\ttest('various advanced constructs found in popular repos', () => {\n\t\tconst runTest = ({ pattern, included, excluded }: { pattern: string; included: string[]; excluded: string[] }) => {\n\t\t\tfor (const include of included) {\n\t\t\t\tassertNoIgnoreMatch(pattern, '/', include);\n\t\t\t}\n\n\t\t\tfor (const exclude of excluded) {\n\t\t\t\tassertIgnoreMatch(pattern, '/', exclude);\n\t\t\t}\n\t\t};\n\n\t\trunTest({\n\t\t\tpattern: `**/node_modules\n\t\t\t/packages/*/dist`,\n\n\t\t\texcluded: [\n\t\t\t\t'/node_modules',\n\t\t\t\t'/test/node_modules',\n\t\t\t\t'/node_modules/test',\n\t\t\t\t'/test/node_modules/test',\n\n\t\t\t\t'/packages/a/dist',\n\t\t\t\t'/packages/abc/dist',\n\t\t\t\t'/packages/abc/dist/test',\n\t\t\t],\n\t\t\tincluded: [\n\t\t\t\t'/inner/packages/a/dist',\n\t\t\t\t'/inner/packages/abc/dist',\n\t\t\t\t'/inner/packages/abc/dist/test',\n\n\t\t\t\t'/packages/dist',\n\t\t\t\t'/packages/dist/test',\n\t\t\t\t'/packages/a/b/dist',\n\t\t\t\t'/packages/a/b/dist/test',\n\t\t\t],\n\t\t});\n\n\t\trunTest({\n\t\t\tpattern: `.yarn/*\n\t\t\t# !.yarn/cache\n\t\t\t!.yarn/patches\n\t\t\t!.yarn/plugins\n\t\t\t!.yarn/releases\n\t\t\t!.yarn/sdks\n\t\t\t!.yarn/versions`,\n\n\t\t\texcluded: [\n\t\t\t\t'/.yarn/test',\n\t\t\t\t'/.yarn/cache',\n\t\t\t],\n\t\t\tincluded: [\n\t\t\t\t'/inner/.yarn/test',\n\t\t\t\t'/inner/.yarn/cache',\n\n\t\t\t\t'/.yarn/patches',\n\t\t\t\t'/.yarn/plugins',\n\t\t\t\t'/.yarn/releases',\n\t\t\t\t'/.yarn/sdks',\n\t\t\t\t'/.yarn/versions',\n\t\t\t],\n\t\t});\n\n\t\trunTest({\n\t\t\tpattern: `[._]*s[a-w][a-z]\n\t\t\t[._]s[a-w][a-z]\n\t\t\t*.un~\n\t\t\t*~`,\n\n\t\t\texcluded: [\n\t\t\t\t'/~',\n\t\t\t\t'/abc~',\n\t\t\t\t'/inner/~',\n\t\t\t\t'/inner/abc~',\n\t\t\t\t'/.un~',\n\t\t\t\t'/a.un~',\n\t\t\t\t'/test/.un~',\n\t\t\t\t'/test/a.un~',\n\t\t\t\t'/.saa',\n\t\t\t\t'/....saa',\n\t\t\t\t'/._._sby',\n\t\t\t\t'/inner/._._sby',\n\t\t\t\t'/_swz',\n\t\t\t],\n\t\t\tincluded: [\n\t\t\t\t'/.jaa',\n\t\t\t],\n\t\t});\n\n\t\t// TODO: the rest of these :)\n\t\trunTest({\n\t\t\tpattern: `*.pbxuser\n\t\t\t!default.pbxuser\n\t\t\t*.mode1v3\n\t\t\t!default.mode1v3\n\t\t\t*.mode2v3\n\t\t\t!default.mode2v3\n\t\t\t*.perspectivev3\n\t\t\t!default.perspectivev3`,\n\t\t\texcluded: [],\n\t\t\tincluded: [],\n\t\t});\n\n\t\trunTest({\n\t\t\tpattern: `[Dd]ebug/\n\t\t\t[Dd]ebugPublic/\n\t\t\t[Rr]elease/\n\t\t\t[Rr]eleases/\n\t\t\t*.[Mm]etrics.xml\n\t\t\t[Tt]est[Rr]esult*/\n\t\t\t[Bb]uild[Ll]og.*\n\t\t\tbld/\n\t\t\t[Bb]in/\n\t\t\t[Oo]bj/\n\t\t\t[Ll]og/`,\n\t\t\texcluded: [],\n\t\t\tincluded: [],\n\t\t});\n\n\t\trunTest({\n\t\t\tpattern: `Dockerfile*\n\t\t\t!/tests/bud/*/Dockerfile*\n\t\t\t!/tests/conformance/**/Dockerfile*`,\n\t\t\texcluded: [],\n\t\t\tincluded: [],\n\t\t});\n\n\t\trunTest({\n\t\t\tpattern: `*.pdf\n\t\t\t*.html\n\t\t\t!author_bio.html\n\t\t\t!colo.html\n\t\t\t!copyright.html\n\t\t\t!cover.html\n\t\t\t!ix.html\n\t\t\t!titlepage.html\n\t\t\t!toc.html`,\n\t\t\texcluded: [],\n\t\t\tincluded: [],\n\t\t});\n\n\t\trunTest({\n\t\t\tpattern: `/log/*\n\t\t\t/tmp/*\n\t\t\t!/log/.keep\n\t\t\t!/tmp/.keep`,\n\t\t\texcluded: [],\n\t\t\tincluded: [],\n\t\t});\n\n\t});\n\n\ttest('case-insensitive ignore files', () => {\n\t\tconst f1 = 'node_modules/\\n';\n\t\tassertNoIgnoreMatch(f1, '/', '/Node_Modules/', false);\n\t\tassertIgnoreMatch(f1, '/', '/Node_Modules/', true);\n\n\t\tconst f2 = 'NODE_MODULES/\\n';\n\t\tassertNoIgnoreMatch(f2, '/', '/Node_Modules/', false);\n\t\tassertIgnoreMatch(f2, '/', '/Node_Modules/', true);\n\n\t\tconst f3 = `\n\t\t\ttemp/*\n\t\t\t!temp/keep\n\t\t`;\n\t\tassertNoIgnoreMatch(f3, '/', '/TEMP/other', false);\n\t\tassertIgnoreMatch(f3, '/', '/temp/KEEP', false);\n\t\tassertIgnoreMatch(f3, '/', '/TEMP/other', true);\n\t\tassertNoIgnoreMatch(f3, '/', '/TEMP/KEEP', true);\n\t});\n});\n"]}