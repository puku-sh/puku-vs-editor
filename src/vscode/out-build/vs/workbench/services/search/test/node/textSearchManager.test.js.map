{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/services/search/test/node/textSearchManager.test.ts","vs/workbench/services/search/test/node/textSearchManager.test.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,MAAM,MAAM,QAAQ,CAAC;AAC5B,OAAO,EAAE,iBAAiB,EAAE,MAAM,4CAA4C,CAAC;AAC/E,OAAO,EAAE,GAAG,EAAE,MAAM,mCAAmC,CAAC;AACxD,OAAO,EAAE,uCAAuC,EAAE,MAAM,0CAA0C,CAAC;AAInG,OAAO,EAAE,uBAAuB,EAAE,MAAM,iCAAiC,CAAC;AAE1E,KAAK,CAAC,yBAAyB,EAAE,GAAG,EAAE;IACrC,IAAI,CAAC,gBAAgB,EAAE,KAAK,IAAI,EAAE;QACjC,IAAI,eAAe,GAAG,KAAK,CAAC;QAC5B,MAAM,QAAQ,GAAwB;YACrC,wBAAwB,CAAC,KAAuB,EAAE,OAAkC,EAAE,QAAqC,EAAE,KAAwB;gBACpJ,eAAe,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,QAAQ,KAAK,cAAc,CAAC;gBAEvE,OAAO,IAAI,CAAC;YACb,CAAC;SACD,CAAC;QAEF,MAAM,KAAK,GAAe;YACzB,IAAI,wBAAgB;YACpB,cAAc,EAAE;gBACf,OAAO,EAAE,GAAG;aACZ;YACD,aAAa,EAAE,CAAC;oBACf,MAAM,EAAE,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC;oBAChC,YAAY,EAAE,aAAa;iBAC3B,CAAC;SACF,CAAC;QAEF,MAAM,CAAC,GAAG,IAAI,uBAAuB,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QACvD,MAAM,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE,iBAAiB,CAAC,IAAI,CAAC,CAAC;QAElD,MAAM,CAAC,EAAE,CAAC,eAAe,CAAC,CAAC;IAC5B,CAAC,CAAC,CAAC;IAEH,uCAAuC,EAAE,CAAC;AAC3C,CAAC,CAAC,CAAC","file":"textSearchManager.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { CancellationToken } from '../../../../../base/common/cancellation.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { Progress } from '../../../../../platform/progress/common/progress.js';\nimport { ITextQuery, QueryType } from '../../common/search.js';\nimport { ProviderResult, TextSearchComplete2, TextSearchProviderOptions, TextSearchProvider2, TextSearchQuery2, TextSearchResult2 } from '../../common/searchExtTypes.js';\nimport { NativeTextSearchManager } from '../../node/textSearchManager.js';\n\nsuite('NativeTextSearchManager', () => {\n\ttest('fixes encoding', async () => {\n\t\tlet correctEncoding = false;\n\t\tconst provider: TextSearchProvider2 = {\n\t\t\tprovideTextSearchResults(query: TextSearchQuery2, options: TextSearchProviderOptions, progress: Progress<TextSearchResult2>, token: CancellationToken): ProviderResult<TextSearchComplete2> {\n\t\t\t\tcorrectEncoding = options.folderOptions[0].encoding === 'windows-1252';\n\n\t\t\t\treturn null;\n\t\t\t}\n\t\t};\n\n\t\tconst query: ITextQuery = {\n\t\t\ttype: QueryType.Text,\n\t\t\tcontentPattern: {\n\t\t\t\tpattern: 'a'\n\t\t\t},\n\t\t\tfolderQueries: [{\n\t\t\t\tfolder: URI.file('/some/folder'),\n\t\t\t\tfileEncoding: 'windows1252'\n\t\t\t}]\n\t\t};\n\n\t\tconst m = new NativeTextSearchManager(query, provider);\n\t\tawait m.search(() => { }, CancellationToken.None);\n\n\t\tassert.ok(correctEncoding);\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { CancellationToken } from '../../../../../base/common/cancellation.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { Progress } from '../../../../../platform/progress/common/progress.js';\nimport { ITextQuery, QueryType } from '../../common/search.js';\nimport { ProviderResult, TextSearchComplete2, TextSearchProviderOptions, TextSearchProvider2, TextSearchQuery2, TextSearchResult2 } from '../../common/searchExtTypes.js';\nimport { NativeTextSearchManager } from '../../node/textSearchManager.js';\n\nsuite('NativeTextSearchManager', () => {\n\ttest('fixes encoding', async () => {\n\t\tlet correctEncoding = false;\n\t\tconst provider: TextSearchProvider2 = {\n\t\t\tprovideTextSearchResults(query: TextSearchQuery2, options: TextSearchProviderOptions, progress: Progress<TextSearchResult2>, token: CancellationToken): ProviderResult<TextSearchComplete2> {\n\t\t\t\tcorrectEncoding = options.folderOptions[0].encoding === 'windows-1252';\n\n\t\t\t\treturn null;\n\t\t\t}\n\t\t};\n\n\t\tconst query: ITextQuery = {\n\t\t\ttype: QueryType.Text,\n\t\t\tcontentPattern: {\n\t\t\t\tpattern: 'a'\n\t\t\t},\n\t\t\tfolderQueries: [{\n\t\t\t\tfolder: URI.file('/some/folder'),\n\t\t\t\tfileEncoding: 'windows1252'\n\t\t\t}]\n\t\t};\n\n\t\tconst m = new NativeTextSearchManager(query, provider);\n\t\tawait m.search(() => { }, CancellationToken.None);\n\n\t\tassert.ok(correctEncoding);\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n});\n"]}