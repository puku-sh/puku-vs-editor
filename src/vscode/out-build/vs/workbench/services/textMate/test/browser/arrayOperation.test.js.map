{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/services/textMate/test/browser/arrayOperation.test.ts","vs/workbench/services/textMate/test/browser/arrayOperation.test.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,MAAM,MAAM,QAAQ,CAAC;AAC5B,OAAO,EAAE,uCAAuC,EAAE,MAAM,0CAA0C,CAAC;AACnG,OAAO,EAAE,0BAA0B,EAAE,MAAM,mCAAmC,CAAC;AAC/E,OAAO,EAAE,UAAU,EAAE,iBAAiB,EAAE,MAAM,uDAAuD,CAAC;AAEtG,KAAK,CAAC,iBAAiB,EAAE,GAAG,EAAE;IAC7B,SAAS,GAAG,CAAC,KAAa,EAAE,GAAW;QACtC,MAAM,MAAM,GAAa,EAAE,CAAC;QAC5B,KAAK,IAAI,CAAC,GAAG,KAAK,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC;YAClC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAChB,CAAC;QACD,OAAO,MAAM,CAAC;IACf,CAAC;IAED,IAAI,CAAC,QAAQ,EAAE,GAAG,EAAE;QACnB,MAAM,IAAI,GAAG,UAAU,CAAC,MAAM,CAAC;YAC9B,iBAAiB,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;YACjC,iBAAiB,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;YACjC,iBAAiB,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;SAClC,CAAC,CAAC;QAEH,MAAM,GAAG,GAAG,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QAC5C,MAAM,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;QAC/C,MAAM,CAAC,eAAe,CAAC,MAAM,EAAE;YAC9B,OAAO;YACP,OAAO;YACP,OAAO;YACP,OAAO;YACP,SAAS;YACT,SAAS;YACT,OAAO;YACP,SAAS;YACT,SAAS;YACT,OAAO;YACP,QAAQ;YACR,QAAQ;YACR,QAAQ;YACR,QAAQ;SACR,CAAC,CAAC;QAEH,MAAM,WAAW,GAAG,IAAI,0BAA0B,CAAC,IAAI,CAAC,CAAC;QACzD,MAAM,CAAC,eAAe,CACrB,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;YACpB,MAAM,CAAC,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YACnC,IAAI,CAAC,GAAG,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC;YACnC,IAAI,CAAC,KAAK,SAAS,EAAE,CAAC;gBACrB,CAAC,IAAI,UAAU,CAAC,MAAM,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC;YACnC,CAAC;iBAAM,CAAC;gBACP,CAAC,IAAI,WAAW,CAAC;YAClB,CAAC;YACD,OAAO,CAAC,CAAC;QACV,CAAC,CAAC,EACF;YACC,mCAAmC;YACnC,mCAAmC;YACnC,mCAAmC;YACnC,mCAAmC;YACnC,4BAA4B;YAC5B,4BAA4B;YAC5B,4BAA4B;YAC5B,mCAAmC;YACnC,mCAAmC;YACnC,4BAA4B;YAC5B,8BAA8B;YAC9B,uCAAuC;YACvC,uCAAuC;YACvC,uCAAuC;YACvC,uCAAuC;SACvC,CACD,CAAC;IACH,CAAC,CAAC,CAAC;IAEH,uCAAuC,EAAE,CAAC;AAC3C,CAAC,CAAC,CAAC","file":"arrayOperation.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { MonotonousIndexTransformer } from '../../browser/indexTransformer.js';\nimport { LengthEdit, LengthReplacement } from '../../../../../editor/common/core/edits/lengthEdit.js';\n\nsuite('array operation', () => {\n\tfunction seq(start: number, end: number) {\n\t\tconst result: number[] = [];\n\t\tfor (let i = start; i < end; i++) {\n\t\t\tresult.push(i);\n\t\t}\n\t\treturn result;\n\t}\n\n\ttest('simple', () => {\n\t\tconst edit = LengthEdit.create([\n\t\t\tLengthReplacement.create(4, 7, 2),\n\t\t\tLengthReplacement.create(8, 8, 2),\n\t\t\tLengthReplacement.create(9, 11, 0),\n\t\t]);\n\n\t\tconst arr = seq(0, 15).map(x => `item${x}`);\n\t\tconst newArr = edit.applyArray(arr, undefined);\n\t\tassert.deepStrictEqual(newArr, [\n\t\t\t'item0',\n\t\t\t'item1',\n\t\t\t'item2',\n\t\t\t'item3',\n\t\t\tundefined,\n\t\t\tundefined,\n\t\t\t'item7',\n\t\t\tundefined,\n\t\t\tundefined,\n\t\t\t'item8',\n\t\t\t'item11',\n\t\t\t'item12',\n\t\t\t'item13',\n\t\t\t'item14',\n\t\t]);\n\n\t\tconst transformer = new MonotonousIndexTransformer(edit);\n\t\tassert.deepStrictEqual(\n\t\t\tseq(0, 15).map((x) => {\n\t\t\t\tconst t = transformer.transform(x);\n\t\t\t\tlet r = `arr[${x}]: ${arr[x]} -> `;\n\t\t\t\tif (t !== undefined) {\n\t\t\t\t\tr += `newArr[${t}]: ${newArr[t]}`;\n\t\t\t\t} else {\n\t\t\t\t\tr += 'undefined';\n\t\t\t\t}\n\t\t\t\treturn r;\n\t\t\t}),\n\t\t\t[\n\t\t\t\t'arr[0]: item0 -> newArr[0]: item0',\n\t\t\t\t'arr[1]: item1 -> newArr[1]: item1',\n\t\t\t\t'arr[2]: item2 -> newArr[2]: item2',\n\t\t\t\t'arr[3]: item3 -> newArr[3]: item3',\n\t\t\t\t'arr[4]: item4 -> undefined',\n\t\t\t\t'arr[5]: item5 -> undefined',\n\t\t\t\t'arr[6]: item6 -> undefined',\n\t\t\t\t'arr[7]: item7 -> newArr[6]: item7',\n\t\t\t\t'arr[8]: item8 -> newArr[9]: item8',\n\t\t\t\t'arr[9]: item9 -> undefined',\n\t\t\t\t'arr[10]: item10 -> undefined',\n\t\t\t\t'arr[11]: item11 -> newArr[10]: item11',\n\t\t\t\t'arr[12]: item12 -> newArr[11]: item12',\n\t\t\t\t'arr[13]: item13 -> newArr[12]: item13',\n\t\t\t\t'arr[14]: item14 -> newArr[13]: item14',\n\t\t\t]\n\t\t);\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { MonotonousIndexTransformer } from '../../browser/indexTransformer.js';\nimport { LengthEdit, LengthReplacement } from '../../../../../editor/common/core/edits/lengthEdit.js';\n\nsuite('array operation', () => {\n\tfunction seq(start: number, end: number) {\n\t\tconst result: number[] = [];\n\t\tfor (let i = start; i < end; i++) {\n\t\t\tresult.push(i);\n\t\t}\n\t\treturn result;\n\t}\n\n\ttest('simple', () => {\n\t\tconst edit = LengthEdit.create([\n\t\t\tLengthReplacement.create(4, 7, 2),\n\t\t\tLengthReplacement.create(8, 8, 2),\n\t\t\tLengthReplacement.create(9, 11, 0),\n\t\t]);\n\n\t\tconst arr = seq(0, 15).map(x => `item${x}`);\n\t\tconst newArr = edit.applyArray(arr, undefined);\n\t\tassert.deepStrictEqual(newArr, [\n\t\t\t'item0',\n\t\t\t'item1',\n\t\t\t'item2',\n\t\t\t'item3',\n\t\t\tundefined,\n\t\t\tundefined,\n\t\t\t'item7',\n\t\t\tundefined,\n\t\t\tundefined,\n\t\t\t'item8',\n\t\t\t'item11',\n\t\t\t'item12',\n\t\t\t'item13',\n\t\t\t'item14',\n\t\t]);\n\n\t\tconst transformer = new MonotonousIndexTransformer(edit);\n\t\tassert.deepStrictEqual(\n\t\t\tseq(0, 15).map((x) => {\n\t\t\t\tconst t = transformer.transform(x);\n\t\t\t\tlet r = `arr[${x}]: ${arr[x]} -> `;\n\t\t\t\tif (t !== undefined) {\n\t\t\t\t\tr += `newArr[${t}]: ${newArr[t]}`;\n\t\t\t\t} else {\n\t\t\t\t\tr += 'undefined';\n\t\t\t\t}\n\t\t\t\treturn r;\n\t\t\t}),\n\t\t\t[\n\t\t\t\t'arr[0]: item0 -> newArr[0]: item0',\n\t\t\t\t'arr[1]: item1 -> newArr[1]: item1',\n\t\t\t\t'arr[2]: item2 -> newArr[2]: item2',\n\t\t\t\t'arr[3]: item3 -> newArr[3]: item3',\n\t\t\t\t'arr[4]: item4 -> undefined',\n\t\t\t\t'arr[5]: item5 -> undefined',\n\t\t\t\t'arr[6]: item6 -> undefined',\n\t\t\t\t'arr[7]: item7 -> newArr[6]: item7',\n\t\t\t\t'arr[8]: item8 -> newArr[9]: item8',\n\t\t\t\t'arr[9]: item9 -> undefined',\n\t\t\t\t'arr[10]: item10 -> undefined',\n\t\t\t\t'arr[11]: item11 -> newArr[10]: item11',\n\t\t\t\t'arr[12]: item12 -> newArr[11]: item12',\n\t\t\t\t'arr[13]: item13 -> newArr[12]: item13',\n\t\t\t\t'arr[14]: item14 -> newArr[13]: item14',\n\t\t\t]\n\t\t);\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n});\n"]}