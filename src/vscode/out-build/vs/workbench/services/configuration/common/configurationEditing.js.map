{"version":3,"sources":["vs/workbench/services/configuration/common/configurationEditing.ts"],"names":[],"mappings":"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","file":"configurationEditing.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as nls from '../../../../nls.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport * as json from '../../../../base/common/json.js';\nimport { setProperty } from '../../../../base/common/jsonEdit.js';\nimport { Queue } from '../../../../base/common/async.js';\nimport { Edit, FormattingOptions } from '../../../../base/common/jsonFormatter.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { IWorkspaceContextService, WorkbenchState } from '../../../../platform/workspace/common/workspace.js';\nimport { ITextFileService } from '../../textfile/common/textfiles.js';\nimport { IConfigurationUpdateOptions, IConfigurationUpdateOverrides } from '../../../../platform/configuration/common/configuration.js';\nimport { FOLDER_SETTINGS_PATH, WORKSPACE_STANDALONE_CONFIGURATIONS, TASKS_CONFIGURATION_KEY, LAUNCH_CONFIGURATION_KEY, USER_STANDALONE_CONFIGURATIONS, TASKS_DEFAULT, FOLDER_SCOPES, IWorkbenchConfigurationService, APPLICATION_SCOPES, MCP_CONFIGURATION_KEY } from './configuration.js';\nimport { FileOperationError, FileOperationResult, IFileService } from '../../../../platform/files/common/files.js';\nimport { IResolvedTextEditorModel, ITextModelService } from '../../../../editor/common/services/resolverService.js';\nimport { IConfigurationRegistry, Extensions as ConfigurationExtensions, ConfigurationScope, keyFromOverrideIdentifiers, OVERRIDE_PROPERTY_REGEX } from '../../../../platform/configuration/common/configurationRegistry.js';\nimport { IEditorService } from '../../editor/common/editorService.js';\nimport { INotificationService, Severity } from '../../../../platform/notification/common/notification.js';\nimport { IOpenSettingsOptions, IPreferencesService } from '../../preferences/common/preferences.js';\nimport { IUriIdentityService } from '../../../../platform/uriIdentity/common/uriIdentity.js';\nimport { ITextModel } from '../../../../editor/common/model.js';\nimport { IDisposable, IReference } from '../../../../base/common/lifecycle.js';\nimport { Range } from '../../../../editor/common/core/range.js';\nimport { EditOperation } from '../../../../editor/common/core/editOperation.js';\nimport { Selection } from '../../../../editor/common/core/selection.js';\nimport { IUserDataProfileService } from '../../userDataProfile/common/userDataProfile.js';\nimport { IUserDataProfilesService } from '../../../../platform/userDataProfile/common/userDataProfile.js';\nimport { ErrorNoTelemetry } from '../../../../base/common/errors.js';\nimport { IFilesConfigurationService } from '../../filesConfiguration/common/filesConfigurationService.js';\n\nexport const enum ConfigurationEditingErrorCode {\n\n\t/**\n\t * Error when trying to write a configuration key that is not registered.\n\t */\n\tERROR_UNKNOWN_KEY,\n\n\t/**\n\t * Error when trying to write an application setting into workspace settings.\n\t */\n\tERROR_INVALID_WORKSPACE_CONFIGURATION_APPLICATION,\n\n\t/**\n\t * Error when trying to write a machne setting into workspace settings.\n\t */\n\tERROR_INVALID_WORKSPACE_CONFIGURATION_MACHINE,\n\n\t/**\n\t * Error when trying to write an invalid folder configuration key to folder settings.\n\t */\n\tERROR_INVALID_FOLDER_CONFIGURATION,\n\n\t/**\n\t * Error when trying to write to user target but not supported for provided key.\n\t */\n\tERROR_INVALID_USER_TARGET,\n\n\t/**\n\t * Error when trying to write to user target but not supported for provided key.\n\t */\n\tERROR_INVALID_WORKSPACE_TARGET,\n\n\t/**\n\t * Error when trying to write a configuration key to folder target\n\t */\n\tERROR_INVALID_FOLDER_TARGET,\n\n\t/**\n\t * Error when trying to write to language specific setting but not supported for preovided key\n\t */\n\tERROR_INVALID_RESOURCE_LANGUAGE_CONFIGURATION,\n\n\t/**\n\t * Error when trying to write to the workspace configuration without having a workspace opened.\n\t */\n\tERROR_NO_WORKSPACE_OPENED,\n\n\t/**\n\t * Error when trying to write and save to the configuration file while it is dirty in the editor.\n\t */\n\tERROR_CONFIGURATION_FILE_DIRTY,\n\n\t/**\n\t * Error when trying to write and save to the configuration file while it is not the latest in the disk.\n\t */\n\tERROR_CONFIGURATION_FILE_MODIFIED_SINCE,\n\n\t/**\n\t * Error when trying to write to a configuration file that contains JSON errors.\n\t */\n\tERROR_INVALID_CONFIGURATION,\n\n\t/**\n\t * Error when trying to write a policy configuration\n\t */\n\tERROR_POLICY_CONFIGURATION,\n\n\t/**\n\t * Internal Error.\n\t */\n\tERROR_INTERNAL\n}\n\nexport class ConfigurationEditingError extends ErrorNoTelemetry {\n\tconstructor(message: string, public code: ConfigurationEditingErrorCode) {\n\t\tsuper(message);\n\t}\n}\n\nexport interface IConfigurationValue {\n\tkey: string;\n\tvalue: unknown;\n}\n\nexport interface IConfigurationEditingOptions extends IConfigurationUpdateOptions {\n\t/**\n\t * Scope of configuration to be written into.\n\t */\n\tscopes?: IConfigurationUpdateOverrides;\n}\n\nexport const enum EditableConfigurationTarget {\n\tUSER_LOCAL = 1,\n\tUSER_REMOTE,\n\tWORKSPACE,\n\tWORKSPACE_FOLDER\n}\n\ninterface IConfigurationEditOperation extends IConfigurationValue {\n\ttarget: EditableConfigurationTarget;\n\tjsonPath: json.JSONPath;\n\tresource?: URI;\n\tworkspaceStandAloneConfigurationKey?: string;\n}\n\nexport class ConfigurationEditing {\n\n\tpublic _serviceBrand: undefined;\n\n\tprivate queue: Queue<void>;\n\n\tconstructor(\n\t\tprivate readonly remoteSettingsResource: URI | null,\n\t\t@IWorkbenchConfigurationService private readonly configurationService: IWorkbenchConfigurationService,\n\t\t@IWorkspaceContextService private readonly contextService: IWorkspaceContextService,\n\t\t@IUserDataProfileService private readonly userDataProfileService: IUserDataProfileService,\n\t\t@IUserDataProfilesService private readonly userDataProfilesService: IUserDataProfilesService,\n\t\t@IFileService private readonly fileService: IFileService,\n\t\t@ITextModelService private readonly textModelResolverService: ITextModelService,\n\t\t@ITextFileService private readonly textFileService: ITextFileService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IPreferencesService private readonly preferencesService: IPreferencesService,\n\t\t@IEditorService private readonly editorService: IEditorService,\n\t\t@IUriIdentityService private readonly uriIdentityService: IUriIdentityService,\n\t\t@IFilesConfigurationService private readonly filesConfigurationService: IFilesConfigurationService\n\t) {\n\t\tthis.queue = new Queue<void>();\n\t}\n\n\tasync writeConfiguration(target: EditableConfigurationTarget, value: IConfigurationValue, options: IConfigurationEditingOptions = {}): Promise<void> {\n\t\tconst operation = this.getConfigurationEditOperation(target, value, options.scopes || {});\n\t\t// queue up writes to prevent race conditions\n\t\treturn this.queue.queue(async () => {\n\t\t\ttry {\n\t\t\t\tawait this.doWriteConfiguration(operation, options);\n\t\t\t} catch (error) {\n\t\t\t\tif (options.donotNotifyError) {\n\t\t\t\t\tthrow error;\n\t\t\t\t}\n\t\t\t\tawait this.onError(error, operation, options.scopes);\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate async doWriteConfiguration(operation: IConfigurationEditOperation, options: IConfigurationEditingOptions): Promise<void> {\n\t\tawait this.validate(operation.target, operation, !options.handleDirtyFile, options.scopes || {});\n\t\tconst resource: URI = operation.resource!;\n\t\tconst reference = await this.resolveModelReference(resource);\n\t\ttry {\n\t\t\tconst formattingOptions = this.getFormattingOptions(reference.object.textEditorModel);\n\t\t\tawait this.updateConfiguration(operation, reference.object.textEditorModel, formattingOptions, options);\n\t\t} finally {\n\t\t\treference.dispose();\n\t\t}\n\t}\n\n\tprivate async updateConfiguration(operation: IConfigurationEditOperation, model: ITextModel, formattingOptions: FormattingOptions, options: IConfigurationEditingOptions): Promise<void> {\n\t\tif (this.hasParseErrors(model.getValue(), operation)) {\n\t\t\tthrow this.toConfigurationEditingError(ConfigurationEditingErrorCode.ERROR_INVALID_CONFIGURATION, operation.target, operation);\n\t\t}\n\n\t\tif (this.textFileService.isDirty(model.uri) && options.handleDirtyFile) {\n\t\t\tswitch (options.handleDirtyFile) {\n\t\t\t\tcase 'save': await this.save(model, operation); break;\n\t\t\t\tcase 'revert': await this.textFileService.revert(model.uri); break;\n\t\t\t}\n\t\t}\n\n\t\tconst edit = this.getEdits(operation, model.getValue(), formattingOptions)[0];\n\t\tif (edit) {\n\t\t\tlet disposable: IDisposable | undefined;\n\t\t\ttry {\n\t\t\t\t// Optimization: we apply edits to a text model and save it\n\t\t\t\t// right after. Use the files config service to signal this\n\t\t\t\t// to the workbench to optimise the UI during this operation.\n\t\t\t\t// For example, avoids to briefly show dirty indicators.\n\t\t\t\tdisposable = this.filesConfigurationService.enableAutoSaveAfterShortDelay(model.uri);\n\t\t\t\tif (this.applyEditsToBuffer(edit, model)) {\n\t\t\t\t\tawait this.save(model, operation);\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tdisposable?.dispose();\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate async save(model: ITextModel, operation: IConfigurationEditOperation): Promise<void> {\n\t\ttry {\n\t\t\tawait this.textFileService.save(model.uri, { ignoreErrorHandler: true });\n\t\t} catch (error) {\n\t\t\tif ((<FileOperationError>error).fileOperationResult === FileOperationResult.FILE_MODIFIED_SINCE) {\n\t\t\t\tthrow this.toConfigurationEditingError(ConfigurationEditingErrorCode.ERROR_CONFIGURATION_FILE_MODIFIED_SINCE, operation.target, operation);\n\t\t\t}\n\t\t\tthrow new ConfigurationEditingError(nls.localize('fsError', \"Error while writing to {0}. {1}\", this.stringifyTarget(operation.target), error.message), ConfigurationEditingErrorCode.ERROR_INTERNAL);\n\t\t}\n\t}\n\n\tprivate applyEditsToBuffer(edit: Edit, model: ITextModel): boolean {\n\t\tconst startPosition = model.getPositionAt(edit.offset);\n\t\tconst endPosition = model.getPositionAt(edit.offset + edit.length);\n\t\tconst range = new Range(startPosition.lineNumber, startPosition.column, endPosition.lineNumber, endPosition.column);\n\t\tconst currentText = model.getValueInRange(range);\n\t\tif (edit.content !== currentText) {\n\t\t\tconst editOperation = currentText ? EditOperation.replace(range, edit.content) : EditOperation.insert(startPosition, edit.content);\n\t\t\tmodel.pushEditOperations([new Selection(startPosition.lineNumber, startPosition.column, startPosition.lineNumber, startPosition.column)], [editOperation], () => []);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate getEdits({ value, jsonPath }: IConfigurationEditOperation, modelContent: string, formattingOptions: FormattingOptions): Edit[] {\n\t\tif (jsonPath.length) {\n\t\t\treturn setProperty(modelContent, jsonPath, value, formattingOptions);\n\t\t}\n\n\t\t// Without jsonPath, the entire configuration file is being replaced, so we just use JSON.stringify\n\t\tconst content = JSON.stringify(value, null, formattingOptions.insertSpaces && formattingOptions.tabSize ? ' '.repeat(formattingOptions.tabSize) : '\\t');\n\t\treturn [{\n\t\t\tcontent,\n\t\t\tlength: modelContent.length,\n\t\t\toffset: 0\n\t\t}];\n\t}\n\n\tprivate getFormattingOptions(model: ITextModel): FormattingOptions {\n\t\tconst { insertSpaces, tabSize } = model.getOptions();\n\t\tconst eol = model.getEOL();\n\t\treturn { insertSpaces, tabSize, eol };\n\t}\n\n\tprivate async onError(error: ConfigurationEditingError, operation: IConfigurationEditOperation, scopes: IConfigurationUpdateOverrides | undefined): Promise<void> {\n\t\tswitch (error.code) {\n\t\t\tcase ConfigurationEditingErrorCode.ERROR_INVALID_CONFIGURATION:\n\t\t\t\tthis.onInvalidConfigurationError(error, operation);\n\t\t\t\tbreak;\n\t\t\tcase ConfigurationEditingErrorCode.ERROR_CONFIGURATION_FILE_DIRTY:\n\t\t\t\tthis.onConfigurationFileDirtyError(error, operation, scopes);\n\t\t\t\tbreak;\n\t\t\tcase ConfigurationEditingErrorCode.ERROR_CONFIGURATION_FILE_MODIFIED_SINCE:\n\t\t\t\treturn this.doWriteConfiguration(operation, { scopes, handleDirtyFile: 'revert' });\n\t\t\tdefault:\n\t\t\t\tthis.notificationService.error(error.message);\n\t\t}\n\t}\n\n\tprivate onInvalidConfigurationError(error: ConfigurationEditingError, operation: IConfigurationEditOperation,): void {\n\t\tconst openStandAloneConfigurationActionLabel = operation.workspaceStandAloneConfigurationKey === TASKS_CONFIGURATION_KEY ? nls.localize('openTasksConfiguration', \"Open Tasks Configuration\")\n\t\t\t: operation.workspaceStandAloneConfigurationKey === LAUNCH_CONFIGURATION_KEY ? nls.localize('openLaunchConfiguration', \"Open Launch Configuration\")\n\t\t\t\t: operation.workspaceStandAloneConfigurationKey === MCP_CONFIGURATION_KEY ? nls.localize('openMcpConfiguration', \"Open MCP Configuration\")\n\t\t\t\t\t: null;\n\t\tif (openStandAloneConfigurationActionLabel) {\n\t\t\tthis.notificationService.prompt(Severity.Error, error.message,\n\t\t\t\t[{\n\t\t\t\t\tlabel: openStandAloneConfigurationActionLabel,\n\t\t\t\t\trun: () => this.openFile(operation.resource!)\n\t\t\t\t}]\n\t\t\t);\n\t\t} else {\n\t\t\tthis.notificationService.prompt(Severity.Error, error.message,\n\t\t\t\t[{\n\t\t\t\t\tlabel: nls.localize('open', \"Open Settings\"),\n\t\t\t\t\trun: () => this.openSettings(operation)\n\t\t\t\t}]\n\t\t\t);\n\t\t}\n\t}\n\n\tprivate onConfigurationFileDirtyError(error: ConfigurationEditingError, operation: IConfigurationEditOperation, scopes: IConfigurationUpdateOverrides | undefined): void {\n\t\tconst openStandAloneConfigurationActionLabel = operation.workspaceStandAloneConfigurationKey === TASKS_CONFIGURATION_KEY ? nls.localize('openTasksConfiguration', \"Open Tasks Configuration\")\n\t\t\t: operation.workspaceStandAloneConfigurationKey === LAUNCH_CONFIGURATION_KEY ? nls.localize('openLaunchConfiguration', \"Open Launch Configuration\")\n\t\t\t\t: null;\n\t\tif (openStandAloneConfigurationActionLabel) {\n\t\t\tthis.notificationService.prompt(Severity.Error, error.message,\n\t\t\t\t[{\n\t\t\t\t\tlabel: nls.localize('saveAndRetry', \"Save and Retry\"),\n\t\t\t\t\trun: () => {\n\t\t\t\t\t\tconst key = operation.key ? `${operation.workspaceStandAloneConfigurationKey}.${operation.key}` : operation.workspaceStandAloneConfigurationKey!;\n\t\t\t\t\t\tthis.writeConfiguration(operation.target, { key, value: operation.value }, { handleDirtyFile: 'save', scopes });\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: openStandAloneConfigurationActionLabel,\n\t\t\t\t\trun: () => this.openFile(operation.resource!)\n\t\t\t\t}]\n\t\t\t);\n\t\t} else {\n\t\t\tthis.notificationService.prompt(Severity.Error, error.message,\n\t\t\t\t[{\n\t\t\t\t\tlabel: nls.localize('saveAndRetry', \"Save and Retry\"),\n\t\t\t\t\trun: () => this.writeConfiguration(operation.target, { key: operation.key, value: operation.value }, { handleDirtyFile: 'save', scopes })\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: nls.localize('open', \"Open Settings\"),\n\t\t\t\t\trun: () => this.openSettings(operation)\n\t\t\t\t}]\n\t\t\t);\n\t\t}\n\t}\n\n\tprivate openSettings(operation: IConfigurationEditOperation): void {\n\t\tconst options: IOpenSettingsOptions = { jsonEditor: true };\n\t\tswitch (operation.target) {\n\t\t\tcase EditableConfigurationTarget.USER_LOCAL:\n\t\t\t\tthis.preferencesService.openUserSettings(options);\n\t\t\t\tbreak;\n\t\t\tcase EditableConfigurationTarget.USER_REMOTE:\n\t\t\t\tthis.preferencesService.openRemoteSettings(options);\n\t\t\t\tbreak;\n\t\t\tcase EditableConfigurationTarget.WORKSPACE:\n\t\t\t\tthis.preferencesService.openWorkspaceSettings(options);\n\t\t\t\tbreak;\n\t\t\tcase EditableConfigurationTarget.WORKSPACE_FOLDER:\n\t\t\t\tif (operation.resource) {\n\t\t\t\t\tconst workspaceFolder = this.contextService.getWorkspaceFolder(operation.resource);\n\t\t\t\t\tif (workspaceFolder) {\n\t\t\t\t\t\tthis.preferencesService.openFolderSettings({ folderUri: workspaceFolder.uri, jsonEditor: true });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tprivate openFile(resource: URI): void {\n\t\tthis.editorService.openEditor({ resource, options: { pinned: true } });\n\t}\n\n\tprivate toConfigurationEditingError(code: ConfigurationEditingErrorCode, target: EditableConfigurationTarget, operation: IConfigurationEditOperation): ConfigurationEditingError {\n\t\tconst message = this.toErrorMessage(code, target, operation);\n\t\treturn new ConfigurationEditingError(message, code);\n\t}\n\n\tprivate toErrorMessage(error: ConfigurationEditingErrorCode, target: EditableConfigurationTarget, operation: IConfigurationEditOperation): string {\n\t\tswitch (error) {\n\n\t\t\t// API constraints\n\t\t\tcase ConfigurationEditingErrorCode.ERROR_POLICY_CONFIGURATION: return nls.localize('errorPolicyConfiguration', \"Unable to write {0} because it is configured in system policy.\", operation.key);\n\t\t\tcase ConfigurationEditingErrorCode.ERROR_UNKNOWN_KEY: return nls.localize('errorUnknownKey', \"Unable to write to {0} because {1} is not a registered configuration.\", this.stringifyTarget(target), operation.key);\n\t\t\tcase ConfigurationEditingErrorCode.ERROR_INVALID_WORKSPACE_CONFIGURATION_APPLICATION: return nls.localize('errorInvalidWorkspaceConfigurationApplication', \"Unable to write {0} to Workspace Settings. This setting can be written only into User settings.\", operation.key);\n\t\t\tcase ConfigurationEditingErrorCode.ERROR_INVALID_WORKSPACE_CONFIGURATION_MACHINE: return nls.localize('errorInvalidWorkspaceConfigurationMachine', \"Unable to write {0} to Workspace Settings. This setting can be written only into User settings.\", operation.key);\n\t\t\tcase ConfigurationEditingErrorCode.ERROR_INVALID_FOLDER_CONFIGURATION: return nls.localize('errorInvalidFolderConfiguration', \"Unable to write to Folder Settings because {0} does not support the folder resource scope.\", operation.key);\n\t\t\tcase ConfigurationEditingErrorCode.ERROR_INVALID_USER_TARGET: return nls.localize('errorInvalidUserTarget', \"Unable to write to User Settings because {0} does not support for global scope.\", operation.key);\n\t\t\tcase ConfigurationEditingErrorCode.ERROR_INVALID_WORKSPACE_TARGET: return nls.localize('errorInvalidWorkspaceTarget', \"Unable to write to Workspace Settings because {0} does not support for workspace scope in a multi folder workspace.\", operation.key);\n\t\t\tcase ConfigurationEditingErrorCode.ERROR_INVALID_FOLDER_TARGET: return nls.localize('errorInvalidFolderTarget', \"Unable to write to Folder Settings because no resource is provided.\");\n\t\t\tcase ConfigurationEditingErrorCode.ERROR_INVALID_RESOURCE_LANGUAGE_CONFIGURATION: return nls.localize('errorInvalidResourceLanguageConfiguration', \"Unable to write to Language Settings because {0} is not a resource language setting.\", operation.key);\n\t\t\tcase ConfigurationEditingErrorCode.ERROR_NO_WORKSPACE_OPENED: return nls.localize('errorNoWorkspaceOpened', \"Unable to write to {0} because no workspace is opened. Please open a workspace first and try again.\", this.stringifyTarget(target));\n\n\t\t\t// User issues\n\t\t\tcase ConfigurationEditingErrorCode.ERROR_INVALID_CONFIGURATION: {\n\t\t\t\tif (operation.workspaceStandAloneConfigurationKey === TASKS_CONFIGURATION_KEY) {\n\t\t\t\t\treturn nls.localize('errorInvalidTaskConfiguration', \"Unable to write into the tasks configuration file. Please open it to correct errors/warnings in it and try again.\");\n\t\t\t\t}\n\t\t\t\tif (operation.workspaceStandAloneConfigurationKey === LAUNCH_CONFIGURATION_KEY) {\n\t\t\t\t\treturn nls.localize('errorInvalidLaunchConfiguration', \"Unable to write into the launch configuration file. Please open it to correct errors/warnings in it and try again.\");\n\t\t\t\t}\n\t\t\t\tif (operation.workspaceStandAloneConfigurationKey === MCP_CONFIGURATION_KEY) {\n\t\t\t\t\treturn nls.localize('errorInvalidMCPConfiguration', \"Unable to write into the MCP configuration file. Please open it to correct errors/warnings in it and try again.\");\n\t\t\t\t}\n\t\t\t\tswitch (target) {\n\t\t\t\t\tcase EditableConfigurationTarget.USER_LOCAL:\n\t\t\t\t\t\treturn nls.localize('errorInvalidConfiguration', \"Unable to write into user settings. Please open the user settings to correct errors/warnings in it and try again.\");\n\t\t\t\t\tcase EditableConfigurationTarget.USER_REMOTE:\n\t\t\t\t\t\treturn nls.localize('errorInvalidRemoteConfiguration', \"Unable to write into remote user settings. Please open the remote user settings to correct errors/warnings in it and try again.\");\n\t\t\t\t\tcase EditableConfigurationTarget.WORKSPACE:\n\t\t\t\t\t\treturn nls.localize('errorInvalidConfigurationWorkspace', \"Unable to write into workspace settings. Please open the workspace settings to correct errors/warnings in the file and try again.\");\n\t\t\t\t\tcase EditableConfigurationTarget.WORKSPACE_FOLDER: {\n\t\t\t\t\t\tlet workspaceFolderName: string = '<<unknown>>';\n\t\t\t\t\t\tif (operation.resource) {\n\t\t\t\t\t\t\tconst folder = this.contextService.getWorkspaceFolder(operation.resource);\n\t\t\t\t\t\t\tif (folder) {\n\t\t\t\t\t\t\t\tworkspaceFolderName = folder.name;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn nls.localize('errorInvalidConfigurationFolder', \"Unable to write into folder settings. Please open the '{0}' folder settings to correct errors/warnings in it and try again.\", workspaceFolderName);\n\t\t\t\t\t}\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t}\n\t\t\tcase ConfigurationEditingErrorCode.ERROR_CONFIGURATION_FILE_DIRTY: {\n\t\t\t\tif (operation.workspaceStandAloneConfigurationKey === TASKS_CONFIGURATION_KEY) {\n\t\t\t\t\treturn nls.localize('errorTasksConfigurationFileDirty', \"Unable to write into tasks configuration file because the file has unsaved changes. Please save it first and then try again.\");\n\t\t\t\t}\n\t\t\t\tif (operation.workspaceStandAloneConfigurationKey === LAUNCH_CONFIGURATION_KEY) {\n\t\t\t\t\treturn nls.localize('errorLaunchConfigurationFileDirty', \"Unable to write into launch configuration file because the file has unsaved changes. Please save it first and then try again.\");\n\t\t\t\t}\n\t\t\t\tif (operation.workspaceStandAloneConfigurationKey === MCP_CONFIGURATION_KEY) {\n\t\t\t\t\treturn nls.localize('errorMCPConfigurationFileDirty', \"Unable to write into MCP configuration file because the file has unsaved changes. Please save it first and then try again.\");\n\t\t\t\t}\n\t\t\t\tswitch (target) {\n\t\t\t\t\tcase EditableConfigurationTarget.USER_LOCAL:\n\t\t\t\t\t\treturn nls.localize('errorConfigurationFileDirty', \"Unable to write into user settings because the file has unsaved changes. Please save the user settings file first and then try again.\");\n\t\t\t\t\tcase EditableConfigurationTarget.USER_REMOTE:\n\t\t\t\t\t\treturn nls.localize('errorRemoteConfigurationFileDirty', \"Unable to write into remote user settings because the file has unsaved changes. Please save the remote user settings file first and then try again.\");\n\t\t\t\t\tcase EditableConfigurationTarget.WORKSPACE:\n\t\t\t\t\t\treturn nls.localize('errorConfigurationFileDirtyWorkspace', \"Unable to write into workspace settings because the file has unsaved changes. Please save the workspace settings file first and then try again.\");\n\t\t\t\t\tcase EditableConfigurationTarget.WORKSPACE_FOLDER: {\n\t\t\t\t\t\tlet workspaceFolderName: string = '<<unknown>>';\n\t\t\t\t\t\tif (operation.resource) {\n\t\t\t\t\t\t\tconst folder = this.contextService.getWorkspaceFolder(operation.resource);\n\t\t\t\t\t\t\tif (folder) {\n\t\t\t\t\t\t\t\tworkspaceFolderName = folder.name;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn nls.localize('errorConfigurationFileDirtyFolder', \"Unable to write into folder settings because the file has unsaved changes. Please save the '{0}' folder settings file first and then try again.\", workspaceFolderName);\n\t\t\t\t\t}\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t}\n\t\t\tcase ConfigurationEditingErrorCode.ERROR_CONFIGURATION_FILE_MODIFIED_SINCE:\n\t\t\t\tif (operation.workspaceStandAloneConfigurationKey === TASKS_CONFIGURATION_KEY) {\n\t\t\t\t\treturn nls.localize('errorTasksConfigurationFileModifiedSince', \"Unable to write into tasks configuration file because the content of the file is newer.\");\n\t\t\t\t}\n\t\t\t\tif (operation.workspaceStandAloneConfigurationKey === LAUNCH_CONFIGURATION_KEY) {\n\t\t\t\t\treturn nls.localize('errorLaunchConfigurationFileModifiedSince', \"Unable to write into launch configuration file because the content of the file is newer.\");\n\t\t\t\t}\n\t\t\t\tif (operation.workspaceStandAloneConfigurationKey === MCP_CONFIGURATION_KEY) {\n\t\t\t\t\treturn nls.localize('errorMCPConfigurationFileModifiedSince', \"Unable to write into MCP configuration file because the content of the file is newer.\");\n\t\t\t\t}\n\t\t\t\tswitch (target) {\n\t\t\t\t\tcase EditableConfigurationTarget.USER_LOCAL:\n\t\t\t\t\t\treturn nls.localize('errorConfigurationFileModifiedSince', \"Unable to write into user settings because the content of the file is newer.\");\n\t\t\t\t\tcase EditableConfigurationTarget.USER_REMOTE:\n\t\t\t\t\t\treturn nls.localize('errorRemoteConfigurationFileModifiedSince', \"Unable to write into remote user settings because the content of the file is newer.\");\n\t\t\t\t\tcase EditableConfigurationTarget.WORKSPACE:\n\t\t\t\t\t\treturn nls.localize('errorConfigurationFileModifiedSinceWorkspace', \"Unable to write into workspace settings because the content of the file is newer.\");\n\t\t\t\t\tcase EditableConfigurationTarget.WORKSPACE_FOLDER:\n\t\t\t\t\t\treturn nls.localize('errorConfigurationFileModifiedSinceFolder', \"Unable to write into folder settings because the content of the file is newer.\");\n\t\t\t\t}\n\t\t\tcase ConfigurationEditingErrorCode.ERROR_INTERNAL: return nls.localize('errorUnknown', \"Unable to write to {0} because of an internal error.\", this.stringifyTarget(target));\n\t\t}\n\t}\n\n\tprivate stringifyTarget(target: EditableConfigurationTarget): string {\n\t\tswitch (target) {\n\t\t\tcase EditableConfigurationTarget.USER_LOCAL:\n\t\t\t\treturn nls.localize('userTarget', \"User Settings\");\n\t\t\tcase EditableConfigurationTarget.USER_REMOTE:\n\t\t\t\treturn nls.localize('remoteUserTarget', \"Remote User Settings\");\n\t\t\tcase EditableConfigurationTarget.WORKSPACE:\n\t\t\t\treturn nls.localize('workspaceTarget', \"Workspace Settings\");\n\t\t\tcase EditableConfigurationTarget.WORKSPACE_FOLDER:\n\t\t\t\treturn nls.localize('folderTarget', \"Folder Settings\");\n\t\t\tdefault:\n\t\t\t\treturn '';\n\t\t}\n\t}\n\n\tprivate defaultResourceValue(resource: URI): string {\n\t\tconst basename: string = this.uriIdentityService.extUri.basename(resource);\n\t\tconst configurationValue: string = basename.substr(0, basename.length - this.uriIdentityService.extUri.extname(resource).length);\n\t\tswitch (configurationValue) {\n\t\t\tcase TASKS_CONFIGURATION_KEY: return TASKS_DEFAULT;\n\t\t\tdefault: return '{}';\n\t\t}\n\t}\n\n\tprivate async resolveModelReference(resource: URI): Promise<IReference<IResolvedTextEditorModel>> {\n\t\tconst exists = await this.fileService.exists(resource);\n\t\tif (!exists) {\n\t\t\tawait this.textFileService.write(resource, this.defaultResourceValue(resource), { encoding: 'utf8' });\n\t\t}\n\t\treturn this.textModelResolverService.createModelReference(resource);\n\t}\n\n\tprivate hasParseErrors(content: string, operation: IConfigurationEditOperation): boolean {\n\t\t// If we write to a workspace standalone file and replace the entire contents (no key provided)\n\t\t// we can return here because any parse errors can safely be ignored since all contents are replaced\n\t\tif (operation.workspaceStandAloneConfigurationKey && !operation.key) {\n\t\t\treturn false;\n\t\t}\n\t\tconst parseErrors: json.ParseError[] = [];\n\t\tjson.parse(content, parseErrors, { allowTrailingComma: true, allowEmptyContent: true });\n\t\treturn parseErrors.length > 0;\n\t}\n\n\tprivate async validate(target: EditableConfigurationTarget, operation: IConfigurationEditOperation, checkDirty: boolean, overrides: IConfigurationUpdateOverrides): Promise<void> {\n\n\t\tif (this.configurationService.inspect(operation.key).policyValue !== undefined) {\n\t\t\tthrow this.toConfigurationEditingError(ConfigurationEditingErrorCode.ERROR_POLICY_CONFIGURATION, target, operation);\n\t\t}\n\n\t\tconst configurationProperties = Registry.as<IConfigurationRegistry>(ConfigurationExtensions.Configuration).getConfigurationProperties();\n\t\tconst configurationScope = configurationProperties[operation.key]?.scope;\n\n\t\t/**\n\t\t * Key to update must be a known setting from the registry unless\n\t\t * \t- the key is standalone configuration (eg: tasks, debug)\n\t\t * \t- the key is an override identifier\n\t\t * \t- the operation is to delete the key\n\t\t */\n\t\tif (!operation.workspaceStandAloneConfigurationKey) {\n\t\t\tconst validKeys = this.configurationService.keys().default;\n\t\t\tif (validKeys.indexOf(operation.key) < 0 && !OVERRIDE_PROPERTY_REGEX.test(operation.key) && operation.value !== undefined) {\n\t\t\t\tthrow this.toConfigurationEditingError(ConfigurationEditingErrorCode.ERROR_UNKNOWN_KEY, target, operation);\n\t\t\t}\n\t\t}\n\n\t\tif (operation.workspaceStandAloneConfigurationKey) {\n\t\t\t// Global launches are not supported\n\t\t\tif ((operation.workspaceStandAloneConfigurationKey !== TASKS_CONFIGURATION_KEY) && (operation.workspaceStandAloneConfigurationKey !== MCP_CONFIGURATION_KEY) && (target === EditableConfigurationTarget.USER_LOCAL || target === EditableConfigurationTarget.USER_REMOTE)) {\n\t\t\t\tthrow this.toConfigurationEditingError(ConfigurationEditingErrorCode.ERROR_INVALID_USER_TARGET, target, operation);\n\t\t\t}\n\t\t}\n\n\t\t// Target cannot be workspace or folder if no workspace opened\n\t\tif ((target === EditableConfigurationTarget.WORKSPACE || target === EditableConfigurationTarget.WORKSPACE_FOLDER) && this.contextService.getWorkbenchState() === WorkbenchState.EMPTY) {\n\t\t\tthrow this.toConfigurationEditingError(ConfigurationEditingErrorCode.ERROR_NO_WORKSPACE_OPENED, target, operation);\n\t\t}\n\n\t\tif (target === EditableConfigurationTarget.WORKSPACE) {\n\t\t\tif (!operation.workspaceStandAloneConfigurationKey && !OVERRIDE_PROPERTY_REGEX.test(operation.key)) {\n\t\t\t\tif (configurationScope && APPLICATION_SCOPES.includes(configurationScope)) {\n\t\t\t\t\tthrow this.toConfigurationEditingError(ConfigurationEditingErrorCode.ERROR_INVALID_WORKSPACE_CONFIGURATION_APPLICATION, target, operation);\n\t\t\t\t}\n\t\t\t\tif (configurationScope === ConfigurationScope.MACHINE) {\n\t\t\t\t\tthrow this.toConfigurationEditingError(ConfigurationEditingErrorCode.ERROR_INVALID_WORKSPACE_CONFIGURATION_MACHINE, target, operation);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (target === EditableConfigurationTarget.WORKSPACE_FOLDER) {\n\t\t\tif (!operation.resource) {\n\t\t\t\tthrow this.toConfigurationEditingError(ConfigurationEditingErrorCode.ERROR_INVALID_FOLDER_TARGET, target, operation);\n\t\t\t}\n\n\t\t\tif (!operation.workspaceStandAloneConfigurationKey && !OVERRIDE_PROPERTY_REGEX.test(operation.key)) {\n\t\t\t\tif (configurationScope !== undefined && !FOLDER_SCOPES.includes(configurationScope)) {\n\t\t\t\t\tthrow this.toConfigurationEditingError(ConfigurationEditingErrorCode.ERROR_INVALID_FOLDER_CONFIGURATION, target, operation);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (overrides.overrideIdentifiers?.length) {\n\t\t\tif (configurationScope !== ConfigurationScope.LANGUAGE_OVERRIDABLE) {\n\t\t\t\tthrow this.toConfigurationEditingError(ConfigurationEditingErrorCode.ERROR_INVALID_RESOURCE_LANGUAGE_CONFIGURATION, target, operation);\n\t\t\t}\n\t\t}\n\n\t\tif (!operation.resource) {\n\t\t\tthrow this.toConfigurationEditingError(ConfigurationEditingErrorCode.ERROR_INVALID_FOLDER_TARGET, target, operation);\n\t\t}\n\n\t\tif (checkDirty && this.textFileService.isDirty(operation.resource)) {\n\t\t\tthrow this.toConfigurationEditingError(ConfigurationEditingErrorCode.ERROR_CONFIGURATION_FILE_DIRTY, target, operation);\n\t\t}\n\n\t}\n\n\tprivate getConfigurationEditOperation(target: EditableConfigurationTarget, config: IConfigurationValue, overrides: IConfigurationUpdateOverrides): IConfigurationEditOperation {\n\n\t\t// Check for standalone workspace configurations\n\t\tif (config.key) {\n\t\t\tconst standaloneConfigurationMap = target === EditableConfigurationTarget.USER_LOCAL ? USER_STANDALONE_CONFIGURATIONS : WORKSPACE_STANDALONE_CONFIGURATIONS;\n\t\t\tconst standaloneConfigurationKeys = Object.keys(standaloneConfigurationMap);\n\t\t\tfor (const key of standaloneConfigurationKeys) {\n\t\t\t\tconst resource = this.getConfigurationFileResource(target, key, standaloneConfigurationMap[key], overrides.resource, undefined);\n\n\t\t\t\t// Check for prefix\n\t\t\t\tif (config.key === key) {\n\t\t\t\t\tconst jsonPath = this.isWorkspaceConfigurationResource(resource) ? [key] : [];\n\t\t\t\t\treturn { key: jsonPath[jsonPath.length - 1], jsonPath, value: config.value, resource: resource ?? undefined, workspaceStandAloneConfigurationKey: key, target };\n\t\t\t\t}\n\n\t\t\t\t// Check for prefix.<setting>\n\t\t\t\tconst keyPrefix = `${key}.`;\n\t\t\t\tif (config.key.indexOf(keyPrefix) === 0) {\n\t\t\t\t\tconst jsonPath = this.isWorkspaceConfigurationResource(resource) ? [key, config.key.substring(keyPrefix.length)] : [config.key.substring(keyPrefix.length)];\n\t\t\t\t\treturn { key: jsonPath[jsonPath.length - 1], jsonPath, value: config.value, resource: resource ?? undefined, workspaceStandAloneConfigurationKey: key, target };\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst key = config.key;\n\t\tconst configurationProperties = Registry.as<IConfigurationRegistry>(ConfigurationExtensions.Configuration).getConfigurationProperties();\n\t\tconst configurationScope = configurationProperties[key]?.scope;\n\t\tlet jsonPath = overrides.overrideIdentifiers?.length ? [keyFromOverrideIdentifiers(overrides.overrideIdentifiers), key] : [key];\n\t\tif (target === EditableConfigurationTarget.USER_LOCAL || target === EditableConfigurationTarget.USER_REMOTE) {\n\t\t\treturn { key, jsonPath, value: config.value, resource: this.getConfigurationFileResource(target, key, '', null, configurationScope) ?? undefined, target };\n\t\t}\n\n\t\tconst resource = this.getConfigurationFileResource(target, key, FOLDER_SETTINGS_PATH, overrides.resource, configurationScope);\n\t\tif (this.isWorkspaceConfigurationResource(resource)) {\n\t\t\tjsonPath = ['settings', ...jsonPath];\n\t\t}\n\t\treturn { key, jsonPath, value: config.value, resource: resource ?? undefined, target };\n\t}\n\n\tprivate isWorkspaceConfigurationResource(resource: URI | null): boolean {\n\t\tconst workspace = this.contextService.getWorkspace();\n\t\treturn !!(workspace.configuration && resource && workspace.configuration.fsPath === resource.fsPath);\n\t}\n\n\tprivate getConfigurationFileResource(target: EditableConfigurationTarget, key: string, relativePath: string, resource: URI | null | undefined, scope: ConfigurationScope | undefined): URI | null {\n\t\tif (target === EditableConfigurationTarget.USER_LOCAL) {\n\t\t\tif (key === TASKS_CONFIGURATION_KEY) {\n\t\t\t\treturn this.userDataProfileService.currentProfile.tasksResource;\n\t\t\t} if (key === MCP_CONFIGURATION_KEY) {\n\t\t\t\treturn this.userDataProfileService.currentProfile.mcpResource;\n\t\t\t} else {\n\t\t\t\tif (!this.userDataProfileService.currentProfile.isDefault && this.configurationService.isSettingAppliedForAllProfiles(key)) {\n\t\t\t\t\treturn this.userDataProfilesService.defaultProfile.settingsResource;\n\t\t\t\t}\n\t\t\t\treturn this.userDataProfileService.currentProfile.settingsResource;\n\t\t\t}\n\t\t}\n\t\tif (target === EditableConfigurationTarget.USER_REMOTE) {\n\t\t\treturn this.remoteSettingsResource;\n\t\t}\n\t\tconst workbenchState = this.contextService.getWorkbenchState();\n\t\tif (workbenchState !== WorkbenchState.EMPTY) {\n\n\t\t\tconst workspace = this.contextService.getWorkspace();\n\n\t\t\tif (target === EditableConfigurationTarget.WORKSPACE) {\n\t\t\t\tif (workbenchState === WorkbenchState.WORKSPACE) {\n\t\t\t\t\treturn workspace.configuration ?? null;\n\t\t\t\t}\n\t\t\t\tif (workbenchState === WorkbenchState.FOLDER) {\n\t\t\t\t\treturn workspace.folders[0].toResource(relativePath);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (target === EditableConfigurationTarget.WORKSPACE_FOLDER) {\n\t\t\t\tif (resource) {\n\t\t\t\t\tconst folder = this.contextService.getWorkspaceFolder(resource);\n\t\t\t\t\tif (folder) {\n\t\t\t\t\t\treturn folder.toResource(relativePath);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n}\n"]}