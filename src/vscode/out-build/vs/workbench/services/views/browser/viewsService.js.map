{"version":3,"sources":["vs/workbench/services/views/browser/viewsService.ts"],"names":[],"mappings":"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","file":"viewsService.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable, IDisposable, toDisposable, DisposableStore, DisposableMap } from '../../../../base/common/lifecycle.js';\nimport { IViewDescriptorService, ViewContainer, IViewDescriptor, IView, ViewContainerLocation, IViewPaneContainer } from '../../../common/views.js';\nimport { FocusedViewContext, getVisbileViewContextKey } from '../../../common/contextkeys.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { IStorageService } from '../../../../platform/storage/common/storage.js';\nimport { ContextKeyExpr, IContextKey, IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { Event, Emitter } from '../../../../base/common/event.js';\nimport { isString } from '../../../../base/common/types.js';\nimport { MenuId, registerAction2, Action2, MenuRegistry } from '../../../../platform/actions/common/actions.js';\nimport { localize, localize2 } from '../../../../nls.js';\nimport { KeybindingWeight } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { InstantiationType, registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { IPaneComposite } from '../../../common/panecomposite.js';\nimport { ServicesAccessor, IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ViewPaneContainer } from '../../../browser/parts/views/viewPaneContainer.js';\nimport { ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { IExtensionService } from '../../extensions/common/extensions.js';\nimport { IWorkspaceContextService } from '../../../../platform/workspace/common/workspace.js';\nimport { PaneCompositeDescriptor, PaneCompositeRegistry, Extensions as PaneCompositeExtensions, PaneComposite } from '../../../browser/panecomposite.js';\nimport { IWorkbenchLayoutService, Parts } from '../../layout/browser/layoutService.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { IProgressIndicator } from '../../../../platform/progress/common/progress.js';\nimport { Categories } from '../../../../platform/action/common/actionCommonCategories.js';\nimport { IEditorGroupsService } from '../../editor/common/editorGroupsService.js';\nimport { FilterViewPaneContainer } from '../../../browser/parts/views/viewsViewlet.js';\nimport { IPaneCompositePartService } from '../../panecomposite/browser/panecomposite.js';\nimport { ICommandActionTitle, ILocalizedString } from '../../../../platform/action/common/action.js';\nimport { IEditorService } from '../../editor/common/editorService.js';\nimport { IViewsService } from '../common/viewsService.js';\n\nexport class ViewsService extends Disposable implements IViewsService {\n\n\tdeclare readonly _serviceBrand: undefined;\n\n\tprivate readonly viewDisposable: Map<IViewDescriptor, IDisposable>;\n\tprivate readonly viewPaneContainers: Map<string, ViewPaneContainer>;\n\n\tprivate readonly _onDidChangeViewVisibility: Emitter<{ id: string; visible: boolean }> = this._register(new Emitter<{ id: string; visible: boolean }>());\n\treadonly onDidChangeViewVisibility: Event<{ id: string; visible: boolean }> = this._onDidChangeViewVisibility.event;\n\n\tprivate readonly _onDidChangeViewContainerVisibility = this._register(new Emitter<{ id: string; visible: boolean; location: ViewContainerLocation }>());\n\treadonly onDidChangeViewContainerVisibility = this._onDidChangeViewContainerVisibility.event;\n\n\tprivate readonly _onDidChangeFocusedView = this._register(new Emitter<void>());\n\treadonly onDidChangeFocusedView = this._onDidChangeFocusedView.event;\n\n\tprivate readonly viewContainerDisposables = this._register(new DisposableMap());\n\tprivate readonly enabledViewContainersContextKeys: Map<string, IContextKey<boolean>>;\n\tprivate readonly visibleViewContextKeys: Map<string, IContextKey<boolean>>;\n\tprivate readonly focusedViewContextKey: IContextKey<string>;\n\n\tconstructor(\n\t\t@IViewDescriptorService private readonly viewDescriptorService: IViewDescriptorService,\n\t\t@IPaneCompositePartService private readonly paneCompositeService: IPaneCompositePartService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IWorkbenchLayoutService private readonly layoutService: IWorkbenchLayoutService,\n\t\t@IEditorService private readonly editorService: IEditorService\n\t) {\n\t\tsuper();\n\n\t\tthis.viewDisposable = new Map<IViewDescriptor, IDisposable>();\n\t\tthis.enabledViewContainersContextKeys = new Map<string, IContextKey<boolean>>();\n\t\tthis.visibleViewContextKeys = new Map<string, IContextKey<boolean>>();\n\t\tthis.viewPaneContainers = new Map<string, ViewPaneContainer>();\n\n\t\tthis._register(toDisposable(() => {\n\t\t\tthis.viewDisposable.forEach(disposable => disposable.dispose());\n\t\t\tthis.viewDisposable.clear();\n\t\t}));\n\n\t\tthis.viewDescriptorService.viewContainers.forEach(viewContainer => this.onDidRegisterViewContainer(viewContainer, this.viewDescriptorService.getViewContainerLocation(viewContainer)!));\n\t\tthis._register(this.viewDescriptorService.onDidChangeViewContainers(({ added, removed }) => this.onDidChangeContainers(added, removed)));\n\t\tthis._register(this.viewDescriptorService.onDidChangeContainerLocation(({ viewContainer, from, to }) => this.onDidChangeContainerLocation(viewContainer, from, to)));\n\n\t\t// View Container Visibility\n\t\tthis._register(this.paneCompositeService.onDidPaneCompositeOpen(e => this._onDidChangeViewContainerVisibility.fire({ id: e.composite.getId(), visible: true, location: e.viewContainerLocation })));\n\t\tthis._register(this.paneCompositeService.onDidPaneCompositeClose(e => this._onDidChangeViewContainerVisibility.fire({ id: e.composite.getId(), visible: false, location: e.viewContainerLocation })));\n\n\t\tthis.focusedViewContextKey = FocusedViewContext.bindTo(contextKeyService);\n\t}\n\n\tprivate onViewsAdded(added: IView[]): void {\n\t\tfor (const view of added) {\n\t\t\tthis.onViewsVisibilityChanged(view, view.isBodyVisible());\n\t\t}\n\t}\n\n\tprivate onViewsVisibilityChanged(view: IView, visible: boolean): void {\n\t\tthis.getOrCreateActiveViewContextKey(view).set(visible);\n\t\tthis._onDidChangeViewVisibility.fire({ id: view.id, visible: visible });\n\t}\n\n\tprivate onViewsRemoved(removed: IView[]): void {\n\t\tfor (const view of removed) {\n\t\t\tthis.onViewsVisibilityChanged(view, false);\n\t\t}\n\t}\n\n\tprivate getOrCreateActiveViewContextKey(view: IView): IContextKey<boolean> {\n\t\tconst visibleContextKeyId = getVisbileViewContextKey(view.id);\n\t\tlet contextKey = this.visibleViewContextKeys.get(visibleContextKeyId);\n\t\tif (!contextKey) {\n\t\t\tcontextKey = new RawContextKey(visibleContextKeyId, false).bindTo(this.contextKeyService);\n\t\t\tthis.visibleViewContextKeys.set(visibleContextKeyId, contextKey);\n\t\t}\n\t\treturn contextKey;\n\t}\n\n\tprivate onDidChangeContainers(added: ReadonlyArray<{ container: ViewContainer; location: ViewContainerLocation }>, removed: ReadonlyArray<{ container: ViewContainer; location: ViewContainerLocation }>): void {\n\t\tfor (const { container, location } of removed) {\n\t\t\tthis.onDidDeregisterViewContainer(container, location);\n\t\t}\n\t\tfor (const { container, location } of added) {\n\t\t\tthis.onDidRegisterViewContainer(container, location);\n\t\t}\n\t}\n\n\tprivate onDidRegisterViewContainer(viewContainer: ViewContainer, viewContainerLocation: ViewContainerLocation): void {\n\t\tthis.registerPaneComposite(viewContainer, viewContainerLocation);\n\t\tconst disposables = new DisposableStore();\n\n\t\tconst viewContainerModel = this.viewDescriptorService.getViewContainerModel(viewContainer);\n\t\tthis.onViewDescriptorsAdded(viewContainerModel.allViewDescriptors, viewContainer);\n\t\tdisposables.add(viewContainerModel.onDidChangeAllViewDescriptors(({ added, removed }) => {\n\t\t\tthis.onViewDescriptorsAdded(added, viewContainer);\n\t\t\tthis.onViewDescriptorsRemoved(removed);\n\t\t}));\n\t\tthis.updateViewContainerEnablementContextKey(viewContainer);\n\t\tdisposables.add(viewContainerModel.onDidChangeActiveViewDescriptors(() => this.updateViewContainerEnablementContextKey(viewContainer)));\n\t\tdisposables.add(this.registerOpenViewContainerAction(viewContainer));\n\n\t\tthis.viewContainerDisposables.set(viewContainer.id, disposables);\n\t}\n\n\tprivate onDidDeregisterViewContainer(viewContainer: ViewContainer, viewContainerLocation: ViewContainerLocation): void {\n\t\tthis.deregisterPaneComposite(viewContainer, viewContainerLocation);\n\t\tthis.viewContainerDisposables.deleteAndDispose(viewContainer.id);\n\t}\n\n\tprivate onDidChangeContainerLocation(viewContainer: ViewContainer, from: ViewContainerLocation, to: ViewContainerLocation): void {\n\t\tthis.deregisterPaneComposite(viewContainer, from);\n\t\tthis.registerPaneComposite(viewContainer, to);\n\n\t\t// Open view container if part is visible and there is only one view container in location\n\t\tif (\n\t\t\tthis.layoutService.isVisible(getPartByLocation(to)) &&\n\t\t\tthis.viewDescriptorService.getViewContainersByLocation(to).filter(vc => this.isViewContainerActive(vc.id)).length === 1\n\t\t) {\n\t\t\tthis.openViewContainer(viewContainer.id);\n\t\t}\n\t}\n\n\tprivate onViewDescriptorsAdded(views: ReadonlyArray<IViewDescriptor>, container: ViewContainer): void {\n\t\tconst location = this.viewDescriptorService.getViewContainerLocation(container);\n\t\tif (location === null) {\n\t\t\treturn;\n\t\t}\n\n\t\tfor (const viewDescriptor of views) {\n\t\t\tconst disposables = new DisposableStore();\n\t\t\tdisposables.add(this.registerOpenViewAction(viewDescriptor));\n\t\t\tdisposables.add(this.registerFocusViewAction(viewDescriptor, container.title));\n\t\t\tdisposables.add(this.registerResetViewLocationAction(viewDescriptor));\n\t\t\tthis.viewDisposable.set(viewDescriptor, disposables);\n\t\t}\n\t}\n\n\tprivate onViewDescriptorsRemoved(views: ReadonlyArray<IViewDescriptor>): void {\n\t\tfor (const view of views) {\n\t\t\tconst disposable = this.viewDisposable.get(view);\n\t\t\tif (disposable) {\n\t\t\t\tdisposable.dispose();\n\t\t\t\tthis.viewDisposable.delete(view);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate updateViewContainerEnablementContextKey(viewContainer: ViewContainer): void {\n\t\tlet contextKey = this.enabledViewContainersContextKeys.get(viewContainer.id);\n\t\tif (!contextKey) {\n\t\t\tcontextKey = this.contextKeyService.createKey(getEnabledViewContainerContextKey(viewContainer.id), false);\n\t\t\tthis.enabledViewContainersContextKeys.set(viewContainer.id, contextKey);\n\t\t}\n\t\tcontextKey.set(!(viewContainer.hideIfEmpty && this.viewDescriptorService.getViewContainerModel(viewContainer).activeViewDescriptors.length === 0));\n\t}\n\n\tprivate async openComposite(compositeId: string, location: ViewContainerLocation, focus?: boolean): Promise<IPaneComposite | undefined> {\n\t\treturn this.paneCompositeService.openPaneComposite(compositeId, location, focus);\n\t}\n\n\tprivate getComposite(compositeId: string, location: ViewContainerLocation): { id: string; name: string } | undefined {\n\t\treturn this.paneCompositeService.getPaneComposite(compositeId, location);\n\t}\n\n\t// One view container can be visible at a time in a location\n\tisViewContainerVisible(id: string): boolean {\n\t\tconst viewContainer = this.viewDescriptorService.getViewContainerById(id);\n\t\tif (!viewContainer) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst viewContainerLocation = this.viewDescriptorService.getViewContainerLocation(viewContainer);\n\t\tif (viewContainerLocation === null) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn this.paneCompositeService.getActivePaneComposite(viewContainerLocation)?.getId() === id;\n\t}\n\n\t// Multiple view containers can be active/inactive at a time in a location\n\tisViewContainerActive(id: string): boolean {\n\t\tconst viewContainer = this.viewDescriptorService.getViewContainerById(id);\n\t\tif (!viewContainer) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!viewContainer.hideIfEmpty) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn this.viewDescriptorService.getViewContainerModel(viewContainer).activeViewDescriptors.length > 0;\n\t}\n\n\tgetVisibleViewContainer(location: ViewContainerLocation): ViewContainer | null {\n\t\tconst viewContainerId = this.paneCompositeService.getActivePaneComposite(location)?.getId();\n\t\treturn viewContainerId ? this.viewDescriptorService.getViewContainerById(viewContainerId) : null;\n\t}\n\n\tgetActiveViewPaneContainerWithId(viewContainerId: string): IViewPaneContainer | null {\n\t\tconst viewContainer = this.viewDescriptorService.getViewContainerById(viewContainerId);\n\t\treturn viewContainer ? this.getActiveViewPaneContainer(viewContainer) : null;\n\t}\n\n\tasync openViewContainer(id: string, focus?: boolean): Promise<IPaneComposite | null> {\n\t\tconst viewContainer = this.viewDescriptorService.getViewContainerById(id);\n\t\tif (viewContainer) {\n\t\t\tconst viewContainerLocation = this.viewDescriptorService.getViewContainerLocation(viewContainer);\n\t\t\tif (viewContainerLocation !== null) {\n\t\t\t\tconst paneComposite = await this.paneCompositeService.openPaneComposite(id, viewContainerLocation, focus);\n\t\t\t\treturn paneComposite || null;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tasync closeViewContainer(id: string): Promise<void> {\n\t\tconst viewContainer = this.viewDescriptorService.getViewContainerById(id);\n\t\tif (viewContainer) {\n\t\t\tconst viewContainerLocation = this.viewDescriptorService.getViewContainerLocation(viewContainer);\n\t\t\tconst isActive = viewContainerLocation !== null && this.paneCompositeService.getActivePaneComposite(viewContainerLocation);\n\t\t\tif (viewContainerLocation !== null) {\n\t\t\t\treturn isActive ? this.layoutService.setPartHidden(true, getPartByLocation(viewContainerLocation)) : undefined;\n\t\t\t}\n\t\t}\n\t}\n\n\tisViewVisible(id: string): boolean {\n\t\tconst activeView = this.getActiveViewWithId(id);\n\t\treturn activeView?.isBodyVisible() || false;\n\t}\n\n\tgetActiveViewWithId<T extends IView>(id: string): T | null {\n\t\tconst viewContainer = this.viewDescriptorService.getViewContainerByViewId(id);\n\t\tif (viewContainer) {\n\t\t\tconst activeViewPaneContainer = this.getActiveViewPaneContainer(viewContainer);\n\t\t\tif (activeViewPaneContainer) {\n\t\t\t\treturn activeViewPaneContainer.getView(id) as T;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tgetViewWithId<T extends IView>(id: string): T | null {\n\t\tconst viewContainer = this.viewDescriptorService.getViewContainerByViewId(id);\n\t\tif (viewContainer) {\n\t\t\tconst viewPaneContainer: IViewPaneContainer | undefined = this.viewPaneContainers.get(viewContainer.id);\n\t\t\tif (viewPaneContainer) {\n\t\t\t\treturn viewPaneContainer.getView(id) as T;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tgetFocusedView(): IViewDescriptor | null {\n\t\tconst viewId: string = this.contextKeyService.getContextKeyValue(FocusedViewContext.key) ?? '';\n\t\treturn this.viewDescriptorService.getViewDescriptorById(viewId.toString());\n\t}\n\n\tgetFocusedViewName(): string {\n\t\tconst textEditorFocused = this.editorService.activeTextEditorControl?.hasTextFocus() ? localize('editor', \"Text Editor\") : undefined;\n\t\treturn this.getFocusedView()?.name?.value ?? textEditorFocused ?? '';\n\t}\n\n\tasync openView<T extends IView>(id: string, focus?: boolean): Promise<T | null> {\n\t\tconst viewContainer = this.viewDescriptorService.getViewContainerByViewId(id);\n\t\tif (!viewContainer) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (!this.viewDescriptorService.getViewContainerModel(viewContainer).activeViewDescriptors.some(viewDescriptor => viewDescriptor.id === id)) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst location = this.viewDescriptorService.getViewContainerLocation(viewContainer);\n\t\tconst compositeDescriptor = this.getComposite(viewContainer.id, location!);\n\t\tif (compositeDescriptor) {\n\t\t\tconst paneComposite = await this.openComposite(compositeDescriptor.id, location!) as IPaneComposite | undefined;\n\t\t\tif (paneComposite?.openView) {\n\t\t\t\treturn paneComposite.openView<T>(id, focus) || null;\n\t\t\t} else if (focus) {\n\t\t\t\tpaneComposite?.focus();\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tcloseView(id: string): void {\n\t\tconst viewContainer = this.viewDescriptorService.getViewContainerByViewId(id);\n\t\tif (viewContainer) {\n\t\t\tconst activeViewPaneContainer = this.getActiveViewPaneContainer(viewContainer);\n\t\t\tif (activeViewPaneContainer) {\n\t\t\t\tconst view = activeViewPaneContainer.getView(id);\n\t\t\t\tif (view) {\n\t\t\t\t\tif (activeViewPaneContainer.views.length === 1) {\n\t\t\t\t\t\tconst location = this.viewDescriptorService.getViewContainerLocation(viewContainer);\n\t\t\t\t\t\tif (location === ViewContainerLocation.Sidebar) {\n\t\t\t\t\t\t\tthis.layoutService.setPartHidden(true, Parts.SIDEBAR_PART);\n\t\t\t\t\t\t} else if (location === ViewContainerLocation.Panel || location === ViewContainerLocation.AuxiliaryBar) {\n\t\t\t\t\t\t\tthis.paneCompositeService.hideActivePaneComposite(location);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// The blur event doesn't fire on WebKit when the focused element is hidden,\n\t\t\t\t\t\t// so the context key needs to be forced here too otherwise a view may still\n\t\t\t\t\t\t// think it's showing, breaking toggle commands.\n\t\t\t\t\t\tif (this.focusedViewContextKey.get() === id) {\n\t\t\t\t\t\t\tthis.focusedViewContextKey.reset();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tview.setExpanded(false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate getActiveViewPaneContainer(viewContainer: ViewContainer): IViewPaneContainer | null {\n\t\tconst location = this.viewDescriptorService.getViewContainerLocation(viewContainer);\n\t\tif (location === null) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst activePaneComposite = this.paneCompositeService.getActivePaneComposite(location);\n\t\tif (activePaneComposite?.getId() === viewContainer.id) {\n\t\t\treturn activePaneComposite.getViewPaneContainer() || null;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tgetViewProgressIndicator(viewId: string): IProgressIndicator | undefined {\n\t\tconst viewContainer = this.viewDescriptorService.getViewContainerByViewId(viewId);\n\t\tif (!viewContainer) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst viewPaneContainer = this.viewPaneContainers.get(viewContainer.id);\n\t\tif (!viewPaneContainer) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst view = viewPaneContainer.getView(viewId);\n\t\tif (!view) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (viewPaneContainer.isViewMergedWithContainer()) {\n\t\t\treturn this.getViewContainerProgressIndicator(viewContainer);\n\t\t}\n\n\t\treturn view.getProgressIndicator();\n\t}\n\n\tprivate getViewContainerProgressIndicator(viewContainer: ViewContainer): IProgressIndicator | undefined {\n\t\tconst viewContainerLocation = this.viewDescriptorService.getViewContainerLocation(viewContainer);\n\t\tif (viewContainerLocation === null) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn this.paneCompositeService.getProgressIndicator(viewContainer.id, viewContainerLocation);\n\t}\n\n\tprivate registerOpenViewContainerAction(viewContainer: ViewContainer): IDisposable {\n\t\tconst disposables = new DisposableStore();\n\t\tif (viewContainer.openCommandActionDescriptor) {\n\t\t\tconst { id, mnemonicTitle, keybindings, order } = viewContainer.openCommandActionDescriptor ?? { id: viewContainer.id };\n\t\t\tconst title = viewContainer.openCommandActionDescriptor.title ?? viewContainer.title;\n\t\t\tconst that = this;\n\t\t\tdisposables.add(registerAction2(class OpenViewContainerAction extends Action2 {\n\t\t\t\tconstructor() {\n\t\t\t\t\tsuper({\n\t\t\t\t\t\tid,\n\t\t\t\t\t\tget title(): ICommandActionTitle {\n\t\t\t\t\t\t\tconst viewContainerLocation = that.viewDescriptorService.getViewContainerLocation(viewContainer);\n\t\t\t\t\t\t\tconst localizedTitle = typeof title === 'string' ? title : title.value;\n\t\t\t\t\t\t\tconst originalTitle = typeof title === 'string' ? title : title.original;\n\t\t\t\t\t\t\tif (viewContainerLocation === ViewContainerLocation.Sidebar) {\n\t\t\t\t\t\t\t\treturn { value: localize('show view', \"Show {0}\", localizedTitle), original: `Show ${originalTitle}` };\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn { value: localize('toggle view', \"Toggle {0}\", localizedTitle), original: `Toggle ${originalTitle}` };\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcategory: Categories.View,\n\t\t\t\t\t\tprecondition: ContextKeyExpr.has(getEnabledViewContainerContextKey(viewContainer.id)),\n\t\t\t\t\t\tkeybinding: keybindings ? { ...keybindings, weight: KeybindingWeight.WorkbenchContrib } : undefined,\n\t\t\t\t\t\tf1: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tpublic async run(serviceAccessor: ServicesAccessor): Promise<void> {\n\t\t\t\t\tconst editorGroupService = serviceAccessor.get(IEditorGroupsService);\n\t\t\t\t\tconst viewDescriptorService = serviceAccessor.get(IViewDescriptorService);\n\t\t\t\t\tconst layoutService = serviceAccessor.get(IWorkbenchLayoutService);\n\t\t\t\t\tconst viewsService = serviceAccessor.get(IViewsService);\n\t\t\t\t\tconst viewContainerLocation = viewDescriptorService.getViewContainerLocation(viewContainer);\n\t\t\t\t\tswitch (viewContainerLocation) {\n\t\t\t\t\t\tcase ViewContainerLocation.AuxiliaryBar:\n\t\t\t\t\t\tcase ViewContainerLocation.Sidebar: {\n\t\t\t\t\t\t\tconst part = viewContainerLocation === ViewContainerLocation.Sidebar ? Parts.SIDEBAR_PART : Parts.AUXILIARYBAR_PART;\n\t\t\t\t\t\t\tif (!viewsService.isViewContainerVisible(viewContainer.id) || !layoutService.hasFocus(part)) {\n\t\t\t\t\t\t\t\tawait viewsService.openViewContainer(viewContainer.id, true);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\teditorGroupService.activeGroup.focus();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase ViewContainerLocation.Panel:\n\t\t\t\t\t\t\tif (!viewsService.isViewContainerVisible(viewContainer.id) || !layoutService.hasFocus(Parts.PANEL_PART)) {\n\t\t\t\t\t\t\t\tawait viewsService.openViewContainer(viewContainer.id, true);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tviewsService.closeViewContainer(viewContainer.id);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\tif (mnemonicTitle) {\n\t\t\t\tconst defaultLocation = this.viewDescriptorService.getDefaultViewContainerLocation(viewContainer);\n\t\t\t\tdisposables.add(MenuRegistry.appendMenuItem(MenuId.MenubarViewMenu, {\n\t\t\t\t\tcommand: {\n\t\t\t\t\t\tid,\n\t\t\t\t\t\ttitle: mnemonicTitle,\n\t\t\t\t\t},\n\t\t\t\t\tgroup: defaultLocation === ViewContainerLocation.Sidebar ? '3_sidebar' : defaultLocation === ViewContainerLocation.AuxiliaryBar ? '4_auxbar' : '5_panel',\n\t\t\t\t\twhen: ContextKeyExpr.has(getEnabledViewContainerContextKey(viewContainer.id)),\n\t\t\t\t\torder: order ?? Number.MAX_VALUE\n\t\t\t\t}));\n\t\t\t}\n\t\t}\n\n\t\treturn disposables;\n\t}\n\n\tprivate registerOpenViewAction(viewDescriptor: IViewDescriptor): IDisposable {\n\t\tconst disposables = new DisposableStore();\n\t\tconst title = viewDescriptor.openCommandActionDescriptor?.title ?? viewDescriptor.name;\n\t\tconst commandId = viewDescriptor.openCommandActionDescriptor?.id ?? `${viewDescriptor.id}.open`;\n\t\tconst that = this;\n\t\tdisposables.add(registerAction2(class OpenViewAction extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: commandId,\n\t\t\t\t\tget title(): ICommandActionTitle {\n\t\t\t\t\t\tconst viewContainerLocation = that.viewDescriptorService.getViewLocationById(viewDescriptor.id);\n\t\t\t\t\t\tconst localizedTitle = typeof title === 'string' ? title : title.value;\n\t\t\t\t\t\tconst originalTitle = typeof title === 'string' ? title : title.original;\n\t\t\t\t\t\tif (viewContainerLocation === ViewContainerLocation.Sidebar) {\n\t\t\t\t\t\t\treturn { value: localize('show view', \"Show {0}\", localizedTitle), original: `Show ${originalTitle}` };\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn { value: localize('toggle view', \"Toggle {0}\", localizedTitle), original: `Toggle ${originalTitle}` };\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tcategory: Categories.View,\n\t\t\t\t\tprecondition: ContextKeyExpr.has(`${viewDescriptor.id}.active`),\n\t\t\t\t\tkeybinding: viewDescriptor.openCommandActionDescriptor?.keybindings ? { ...viewDescriptor.openCommandActionDescriptor.keybindings, weight: KeybindingWeight.WorkbenchContrib } : undefined,\n\t\t\t\t\tf1: viewDescriptor.openCommandActionDescriptor ? true : undefined,\n\t\t\t\t\tmetadata: {\n\t\t\t\t\t\tdescription: localize('open view', \"Opens view {0}\", viewDescriptor.name.value),\n\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'options',\n\t\t\t\t\t\t\t\tschema: {\n\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\t'preserveFocus': {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\t\t\t\t\t\tdefault: false,\n\t\t\t\t\t\t\t\t\t\t\tdescription: localize('preserveFocus', \"Whether to preserve the existing focus when opening the view.\")\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tpublic async run(serviceAccessor: ServicesAccessor, options?: { preserveFocus?: boolean }): Promise<void> {\n\t\t\t\tconst editorGroupService = serviceAccessor.get(IEditorGroupsService);\n\t\t\t\tconst viewDescriptorService = serviceAccessor.get(IViewDescriptorService);\n\t\t\t\tconst layoutService = serviceAccessor.get(IWorkbenchLayoutService);\n\t\t\t\tconst viewsService = serviceAccessor.get(IViewsService);\n\t\t\t\tconst contextKeyService = serviceAccessor.get(IContextKeyService);\n\n\t\t\t\tconst focusedViewId = FocusedViewContext.getValue(contextKeyService);\n\t\t\t\tif (focusedViewId === viewDescriptor.id && !options?.preserveFocus) {\n\n\t\t\t\t\tconst viewLocation = viewDescriptorService.getViewLocationById(viewDescriptor.id);\n\t\t\t\t\tif (viewDescriptorService.getViewLocationById(viewDescriptor.id) === ViewContainerLocation.Sidebar) {\n\t\t\t\t\t\t// focus the editor if the view is focused and in the side bar\n\t\t\t\t\t\teditorGroupService.activeGroup.focus();\n\t\t\t\t\t} else if (viewLocation !== null) {\n\t\t\t\t\t\t// otherwise hide the part where the view lives if focused\n\t\t\t\t\t\tlayoutService.setPartHidden(true, getPartByLocation(viewLocation));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tawait viewsService.openView(viewDescriptor.id, !options?.preserveFocus);\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tif (viewDescriptor.openCommandActionDescriptor?.mnemonicTitle) {\n\t\t\tconst defaultViewContainer = this.viewDescriptorService.getDefaultContainerById(viewDescriptor.id);\n\t\t\tif (defaultViewContainer) {\n\t\t\t\tconst defaultLocation = this.viewDescriptorService.getDefaultViewContainerLocation(defaultViewContainer);\n\t\t\t\tdisposables.add(MenuRegistry.appendMenuItem(MenuId.MenubarViewMenu, {\n\t\t\t\t\tcommand: {\n\t\t\t\t\t\tid: commandId,\n\t\t\t\t\t\ttitle: viewDescriptor.openCommandActionDescriptor.mnemonicTitle,\n\t\t\t\t\t},\n\t\t\t\t\tgroup: defaultLocation === ViewContainerLocation.Sidebar ? '3_sidebar' : defaultLocation === ViewContainerLocation.AuxiliaryBar ? '4_auxbar' : '5_panel',\n\t\t\t\t\twhen: ContextKeyExpr.has(`${viewDescriptor.id}.active`),\n\t\t\t\t\torder: viewDescriptor.openCommandActionDescriptor.order ?? Number.MAX_VALUE\n\t\t\t\t}));\n\t\t\t}\n\t\t}\n\t\treturn disposables;\n\t}\n\n\tprivate registerFocusViewAction(viewDescriptor: IViewDescriptor, category?: string | ILocalizedString): IDisposable {\n\t\treturn registerAction2(class FocusViewAction extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tconst title = localize2({ key: 'focus view', comment: ['{0} indicates the name of the view to be focused.'] }, \"Focus on {0} View\", viewDescriptor.name.value);\n\t\t\t\tsuper({\n\t\t\t\t\tid: viewDescriptor.focusCommand ? viewDescriptor.focusCommand.id : `${viewDescriptor.id}.focus`,\n\t\t\t\t\ttitle,\n\t\t\t\t\tcategory,\n\t\t\t\t\tmenu: [{\n\t\t\t\t\t\tid: MenuId.CommandPalette,\n\t\t\t\t\t\twhen: viewDescriptor.when,\n\t\t\t\t\t}],\n\t\t\t\t\tkeybinding: {\n\t\t\t\t\t\twhen: ContextKeyExpr.has(`${viewDescriptor.id}.active`),\n\t\t\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t\t\t\tprimary: viewDescriptor.focusCommand?.keybindings?.primary,\n\t\t\t\t\t\tsecondary: viewDescriptor.focusCommand?.keybindings?.secondary,\n\t\t\t\t\t\tlinux: viewDescriptor.focusCommand?.keybindings?.linux,\n\t\t\t\t\t\tmac: viewDescriptor.focusCommand?.keybindings?.mac,\n\t\t\t\t\t\twin: viewDescriptor.focusCommand?.keybindings?.win\n\t\t\t\t\t},\n\t\t\t\t\tmetadata: {\n\t\t\t\t\t\tdescription: title.value,\n\t\t\t\t\t\targs: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tname: 'focusOptions',\n\t\t\t\t\t\t\t\tdescription: 'Focus Options',\n\t\t\t\t\t\t\t\tschema: {\n\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\t'preserveFocus': {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'boolean',\n\t\t\t\t\t\t\t\t\t\t\tdefault: false\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\trun(accessor: ServicesAccessor, options?: { preserveFocus?: boolean }): void {\n\t\t\t\taccessor.get(IViewsService).openView(viewDescriptor.id, !options?.preserveFocus);\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate registerResetViewLocationAction(viewDescriptor: IViewDescriptor): IDisposable {\n\t\treturn registerAction2(class ResetViewLocationAction extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: `${viewDescriptor.id}.resetViewLocation`,\n\t\t\t\t\ttitle: localize2('resetViewLocation', \"Reset Location\"),\n\t\t\t\t\tmenu: [{\n\t\t\t\t\t\tid: MenuId.ViewTitleContext,\n\t\t\t\t\t\twhen: ContextKeyExpr.or(\n\t\t\t\t\t\t\tContextKeyExpr.and(\n\t\t\t\t\t\t\t\tContextKeyExpr.equals('view', viewDescriptor.id),\n\t\t\t\t\t\t\t\tContextKeyExpr.equals(`${viewDescriptor.id}.defaultViewLocation`, false)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t\tgroup: '1_hide',\n\t\t\t\t\t\torder: 2\n\t\t\t\t\t}],\n\t\t\t\t});\n\t\t\t}\n\t\t\trun(accessor: ServicesAccessor): void {\n\t\t\t\tconst viewDescriptorService = accessor.get(IViewDescriptorService);\n\t\t\t\tconst defaultContainer = viewDescriptorService.getDefaultContainerById(viewDescriptor.id)!;\n\t\t\t\tconst containerModel = viewDescriptorService.getViewContainerModel(defaultContainer)!;\n\n\t\t\t\t// The default container is hidden so we should try to reset its location first\n\t\t\t\tif (defaultContainer.hideIfEmpty && containerModel.visibleViewDescriptors.length === 0) {\n\t\t\t\t\tconst defaultLocation = viewDescriptorService.getDefaultViewContainerLocation(defaultContainer)!;\n\t\t\t\t\tviewDescriptorService.moveViewContainerToLocation(defaultContainer, defaultLocation, undefined, this.desc.id);\n\t\t\t\t}\n\n\t\t\t\tviewDescriptorService.moveViewsToContainer([viewDescriptor], defaultContainer, undefined, this.desc.id);\n\t\t\t\taccessor.get(IViewsService).openView(viewDescriptor.id, true);\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate registerPaneComposite(viewContainer: ViewContainer, viewContainerLocation: ViewContainerLocation): void {\n\t\tconst that = this;\n\t\tclass PaneContainer extends PaneComposite {\n\t\t\tconstructor(\n\t\t\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t\t\t@IWorkspaceContextService contextService: IWorkspaceContextService,\n\t\t\t\t@IStorageService storageService: IStorageService,\n\t\t\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t\t\t@IThemeService themeService: IThemeService,\n\t\t\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t\t\t@IExtensionService extensionService: IExtensionService,\n\t\t\t) {\n\t\t\t\tsuper(viewContainer.id, telemetryService, storageService, instantiationService, themeService, contextMenuService, extensionService, contextService);\n\t\t\t}\n\n\t\t\tprotected createViewPaneContainer(element: HTMLElement): ViewPaneContainer {\n\t\t\t\tconst viewPaneContainerDisposables = this._register(new DisposableStore());\n\n\t\t\t\t// Use composite's instantiation service to get the editor progress service for any editors instantiated within the composite\n\t\t\t\tconst viewPaneContainer = that.createViewPaneContainer(element, viewContainer, viewContainerLocation, viewPaneContainerDisposables, this.instantiationService);\n\n\t\t\t\t// Only updateTitleArea for non-filter views: microsoft/vscode-remote-release#3676\n\t\t\t\tif (!(viewPaneContainer instanceof FilterViewPaneContainer)) {\n\t\t\t\t\tviewPaneContainerDisposables.add(Event.any(viewPaneContainer.onDidAddViews, viewPaneContainer.onDidRemoveViews, viewPaneContainer.onTitleAreaUpdate)(() => {\n\t\t\t\t\t\t// Update title area since there is no better way to update secondary actions\n\t\t\t\t\t\tthis.updateTitleArea();\n\t\t\t\t\t}));\n\t\t\t\t}\n\n\t\t\t\treturn viewPaneContainer;\n\t\t\t}\n\t\t}\n\n\t\tRegistry.as<PaneCompositeRegistry>(getPaneCompositeExtension(viewContainerLocation)).registerPaneComposite(PaneCompositeDescriptor.create(\n\t\t\tPaneContainer,\n\t\t\tviewContainer.id,\n\t\t\ttypeof viewContainer.title === 'string' ? viewContainer.title : viewContainer.title.value,\n\t\t\tisString(viewContainer.icon) ? viewContainer.icon : undefined,\n\t\t\tviewContainer.order,\n\t\t\tviewContainer.requestedIndex,\n\t\t\tviewContainer.icon instanceof URI ? viewContainer.icon : undefined\n\t\t));\n\t}\n\n\tprivate deregisterPaneComposite(viewContainer: ViewContainer, viewContainerLocation: ViewContainerLocation): void {\n\t\tRegistry.as<PaneCompositeRegistry>(getPaneCompositeExtension(viewContainerLocation)).deregisterPaneComposite(viewContainer.id);\n\t}\n\n\tprivate createViewPaneContainer(element: HTMLElement, viewContainer: ViewContainer, viewContainerLocation: ViewContainerLocation, disposables: DisposableStore, instantiationService: IInstantiationService): ViewPaneContainer {\n\t\tconst viewPaneContainer: ViewPaneContainer = instantiationService.createInstance(viewContainer.ctorDescriptor.ctor, ...(viewContainer.ctorDescriptor.staticArguments || []));\n\n\t\tthis.viewPaneContainers.set(viewPaneContainer.getId(), viewPaneContainer);\n\t\tdisposables.add(toDisposable(() => this.viewPaneContainers.delete(viewPaneContainer.getId())));\n\t\tdisposables.add(viewPaneContainer.onDidAddViews(views => this.onViewsAdded(views)));\n\t\tdisposables.add(viewPaneContainer.onDidChangeViewVisibility(view => this.onViewsVisibilityChanged(view, view.isBodyVisible())));\n\t\tdisposables.add(viewPaneContainer.onDidRemoveViews(views => this.onViewsRemoved(views)));\n\t\tdisposables.add(viewPaneContainer.onDidFocusView(view => {\n\t\t\tif (this.focusedViewContextKey.get() !== view.id) {\n\t\t\t\tthis.focusedViewContextKey.set(view.id);\n\t\t\t\tthis._onDidChangeFocusedView.fire();\n\t\t\t}\n\t\t}));\n\t\tdisposables.add(viewPaneContainer.onDidBlurView(view => {\n\t\t\tif (this.focusedViewContextKey.get() === view.id) {\n\t\t\t\tthis.focusedViewContextKey.reset();\n\t\t\t\tthis._onDidChangeFocusedView.fire();\n\t\t\t}\n\t\t}));\n\n\t\treturn viewPaneContainer;\n\t}\n}\n\nfunction getEnabledViewContainerContextKey(viewContainerId: string): string { return `viewContainer.${viewContainerId}.enabled`; }\n\nfunction getPaneCompositeExtension(viewContainerLocation: ViewContainerLocation): string {\n\tswitch (viewContainerLocation) {\n\t\tcase ViewContainerLocation.AuxiliaryBar:\n\t\t\treturn PaneCompositeExtensions.Auxiliary;\n\t\tcase ViewContainerLocation.Panel:\n\t\t\treturn PaneCompositeExtensions.Panels;\n\t\tcase ViewContainerLocation.Sidebar:\n\t\tdefault:\n\t\t\treturn PaneCompositeExtensions.Viewlets;\n\t}\n}\n\nexport function getPartByLocation(viewContainerLocation: ViewContainerLocation): Parts.AUXILIARYBAR_PART | Parts.SIDEBAR_PART | Parts.PANEL_PART {\n\tswitch (viewContainerLocation) {\n\t\tcase ViewContainerLocation.AuxiliaryBar:\n\t\t\treturn Parts.AUXILIARYBAR_PART;\n\t\tcase ViewContainerLocation.Panel:\n\t\t\treturn Parts.PANEL_PART;\n\t\tcase ViewContainerLocation.Sidebar:\n\t\tdefault:\n\t\t\treturn Parts.SIDEBAR_PART;\n\t}\n}\n\nregisterSingleton(IViewsService, ViewsService, InstantiationType.Eager /* Eager because it registers viewlets and panels in the constructor which are required during workbench layout */);\n"]}