{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/services/extensions/common/extensionHostKind.ts","vs/workbench/services/extensions/common/extensionHostKind.ts"],"names":[],"mappings":"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","file":"extensionHostKind.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ExtensionKind } from '../../../../platform/environment/common/environment.js';\nimport { ExtensionIdentifier, IExtensionDescription } from '../../../../platform/extensions/common/extensions.js';\n\nexport const enum ExtensionHostKind {\n\tLocalProcess = 1,\n\tLocalWebWorker = 2,\n\tRemote = 3\n}\n\nexport function extensionHostKindToString(kind: ExtensionHostKind | null): string {\n\tif (kind === null) {\n\t\treturn 'None';\n\t}\n\tswitch (kind) {\n\t\tcase ExtensionHostKind.LocalProcess: return 'LocalProcess';\n\t\tcase ExtensionHostKind.LocalWebWorker: return 'LocalWebWorker';\n\t\tcase ExtensionHostKind.Remote: return 'Remote';\n\t}\n}\n\nexport const enum ExtensionRunningPreference {\n\tNone,\n\tLocal,\n\tRemote\n}\n\nexport function extensionRunningPreferenceToString(preference: ExtensionRunningPreference) {\n\tswitch (preference) {\n\t\tcase ExtensionRunningPreference.None:\n\t\t\treturn 'None';\n\t\tcase ExtensionRunningPreference.Local:\n\t\t\treturn 'Local';\n\t\tcase ExtensionRunningPreference.Remote:\n\t\t\treturn 'Remote';\n\t}\n}\n\nexport interface IExtensionHostKindPicker {\n\tpickExtensionHostKind(extensionId: ExtensionIdentifier, extensionKinds: ExtensionKind[], isInstalledLocally: boolean, isInstalledRemotely: boolean, preference: ExtensionRunningPreference): ExtensionHostKind | null;\n}\n\nexport function determineExtensionHostKinds(\n\t_localExtensions: IExtensionDescription[],\n\t_remoteExtensions: IExtensionDescription[],\n\tgetExtensionKind: (extensionDescription: IExtensionDescription) => ExtensionKind[],\n\tpickExtensionHostKind: (extensionId: ExtensionIdentifier, extensionKinds: ExtensionKind[], isInstalledLocally: boolean, isInstalledRemotely: boolean, preference: ExtensionRunningPreference) => ExtensionHostKind | null\n): Map<string, ExtensionHostKind | null> {\n\tconst localExtensions = toExtensionWithKind(_localExtensions, getExtensionKind);\n\tconst remoteExtensions = toExtensionWithKind(_remoteExtensions, getExtensionKind);\n\n\tconst allExtensions = new Map<string, ExtensionInfo>();\n\tconst collectExtension = (ext: ExtensionWithKind) => {\n\t\tif (allExtensions.has(ext.key)) {\n\t\t\treturn;\n\t\t}\n\t\tconst local = localExtensions.get(ext.key) || null;\n\t\tconst remote = remoteExtensions.get(ext.key) || null;\n\t\tconst info = new ExtensionInfo(local, remote);\n\t\tallExtensions.set(info.key, info);\n\t};\n\tlocalExtensions.forEach((ext) => collectExtension(ext));\n\tremoteExtensions.forEach((ext) => collectExtension(ext));\n\n\tconst extensionHostKinds = new Map<string, ExtensionHostKind | null>();\n\tallExtensions.forEach((ext) => {\n\t\tconst isInstalledLocally = Boolean(ext.local);\n\t\tconst isInstalledRemotely = Boolean(ext.remote);\n\n\t\tconst isLocallyUnderDevelopment = Boolean(ext.local && ext.local.isUnderDevelopment);\n\t\tconst isRemotelyUnderDevelopment = Boolean(ext.remote && ext.remote.isUnderDevelopment);\n\n\t\tlet preference = ExtensionRunningPreference.None;\n\t\tif (isLocallyUnderDevelopment && !isRemotelyUnderDevelopment) {\n\t\t\tpreference = ExtensionRunningPreference.Local;\n\t\t} else if (isRemotelyUnderDevelopment && !isLocallyUnderDevelopment) {\n\t\t\tpreference = ExtensionRunningPreference.Remote;\n\t\t}\n\n\t\textensionHostKinds.set(ext.key, pickExtensionHostKind(ext.identifier, ext.kind, isInstalledLocally, isInstalledRemotely, preference));\n\t});\n\n\treturn extensionHostKinds;\n}\n\nfunction toExtensionWithKind(\n\textensions: IExtensionDescription[],\n\tgetExtensionKind: (extensionDescription: IExtensionDescription) => ExtensionKind[]\n): Map<string, ExtensionWithKind> {\n\tconst result = new Map<string, ExtensionWithKind>();\n\textensions.forEach((desc) => {\n\t\tconst ext = new ExtensionWithKind(desc, getExtensionKind(desc));\n\t\tresult.set(ext.key, ext);\n\t});\n\treturn result;\n}\n\nclass ExtensionWithKind {\n\n\tconstructor(\n\t\tpublic readonly desc: IExtensionDescription,\n\t\tpublic readonly kind: ExtensionKind[]\n\t) { }\n\n\tpublic get key(): string {\n\t\treturn ExtensionIdentifier.toKey(this.desc.identifier);\n\t}\n\n\tpublic get isUnderDevelopment(): boolean {\n\t\treturn this.desc.isUnderDevelopment;\n\t}\n}\n\nclass ExtensionInfo {\n\n\tconstructor(\n\t\tpublic readonly local: ExtensionWithKind | null,\n\t\tpublic readonly remote: ExtensionWithKind | null,\n\t) { }\n\n\tpublic get key(): string {\n\t\tif (this.local) {\n\t\t\treturn this.local.key;\n\t\t}\n\t\treturn this.remote!.key;\n\t}\n\n\tpublic get identifier(): ExtensionIdentifier {\n\t\tif (this.local) {\n\t\t\treturn this.local.desc.identifier;\n\t\t}\n\t\treturn this.remote!.desc.identifier;\n\t}\n\n\tpublic get kind(): ExtensionKind[] {\n\t\t// in case of disagreements between extension kinds, it is always\n\t\t// better to pick the local extension because it has a much higher\n\t\t// chance of being up-to-date\n\t\tif (this.local) {\n\t\t\treturn this.local.kind;\n\t\t}\n\t\treturn this.remote!.kind;\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ExtensionKind } from '../../../../platform/environment/common/environment.js';\nimport { ExtensionIdentifier, IExtensionDescription } from '../../../../platform/extensions/common/extensions.js';\n\nexport const enum ExtensionHostKind {\n\tLocalProcess = 1,\n\tLocalWebWorker = 2,\n\tRemote = 3\n}\n\nexport function extensionHostKindToString(kind: ExtensionHostKind | null): string {\n\tif (kind === null) {\n\t\treturn 'None';\n\t}\n\tswitch (kind) {\n\t\tcase ExtensionHostKind.LocalProcess: return 'LocalProcess';\n\t\tcase ExtensionHostKind.LocalWebWorker: return 'LocalWebWorker';\n\t\tcase ExtensionHostKind.Remote: return 'Remote';\n\t}\n}\n\nexport const enum ExtensionRunningPreference {\n\tNone,\n\tLocal,\n\tRemote\n}\n\nexport function extensionRunningPreferenceToString(preference: ExtensionRunningPreference) {\n\tswitch (preference) {\n\t\tcase ExtensionRunningPreference.None:\n\t\t\treturn 'None';\n\t\tcase ExtensionRunningPreference.Local:\n\t\t\treturn 'Local';\n\t\tcase ExtensionRunningPreference.Remote:\n\t\t\treturn 'Remote';\n\t}\n}\n\nexport interface IExtensionHostKindPicker {\n\tpickExtensionHostKind(extensionId: ExtensionIdentifier, extensionKinds: ExtensionKind[], isInstalledLocally: boolean, isInstalledRemotely: boolean, preference: ExtensionRunningPreference): ExtensionHostKind | null;\n}\n\nexport function determineExtensionHostKinds(\n\t_localExtensions: IExtensionDescription[],\n\t_remoteExtensions: IExtensionDescription[],\n\tgetExtensionKind: (extensionDescription: IExtensionDescription) => ExtensionKind[],\n\tpickExtensionHostKind: (extensionId: ExtensionIdentifier, extensionKinds: ExtensionKind[], isInstalledLocally: boolean, isInstalledRemotely: boolean, preference: ExtensionRunningPreference) => ExtensionHostKind | null\n): Map<string, ExtensionHostKind | null> {\n\tconst localExtensions = toExtensionWithKind(_localExtensions, getExtensionKind);\n\tconst remoteExtensions = toExtensionWithKind(_remoteExtensions, getExtensionKind);\n\n\tconst allExtensions = new Map<string, ExtensionInfo>();\n\tconst collectExtension = (ext: ExtensionWithKind) => {\n\t\tif (allExtensions.has(ext.key)) {\n\t\t\treturn;\n\t\t}\n\t\tconst local = localExtensions.get(ext.key) || null;\n\t\tconst remote = remoteExtensions.get(ext.key) || null;\n\t\tconst info = new ExtensionInfo(local, remote);\n\t\tallExtensions.set(info.key, info);\n\t};\n\tlocalExtensions.forEach((ext) => collectExtension(ext));\n\tremoteExtensions.forEach((ext) => collectExtension(ext));\n\n\tconst extensionHostKinds = new Map<string, ExtensionHostKind | null>();\n\tallExtensions.forEach((ext) => {\n\t\tconst isInstalledLocally = Boolean(ext.local);\n\t\tconst isInstalledRemotely = Boolean(ext.remote);\n\n\t\tconst isLocallyUnderDevelopment = Boolean(ext.local && ext.local.isUnderDevelopment);\n\t\tconst isRemotelyUnderDevelopment = Boolean(ext.remote && ext.remote.isUnderDevelopment);\n\n\t\tlet preference = ExtensionRunningPreference.None;\n\t\tif (isLocallyUnderDevelopment && !isRemotelyUnderDevelopment) {\n\t\t\tpreference = ExtensionRunningPreference.Local;\n\t\t} else if (isRemotelyUnderDevelopment && !isLocallyUnderDevelopment) {\n\t\t\tpreference = ExtensionRunningPreference.Remote;\n\t\t}\n\n\t\textensionHostKinds.set(ext.key, pickExtensionHostKind(ext.identifier, ext.kind, isInstalledLocally, isInstalledRemotely, preference));\n\t});\n\n\treturn extensionHostKinds;\n}\n\nfunction toExtensionWithKind(\n\textensions: IExtensionDescription[],\n\tgetExtensionKind: (extensionDescription: IExtensionDescription) => ExtensionKind[]\n): Map<string, ExtensionWithKind> {\n\tconst result = new Map<string, ExtensionWithKind>();\n\textensions.forEach((desc) => {\n\t\tconst ext = new ExtensionWithKind(desc, getExtensionKind(desc));\n\t\tresult.set(ext.key, ext);\n\t});\n\treturn result;\n}\n\nclass ExtensionWithKind {\n\n\tconstructor(\n\t\tpublic readonly desc: IExtensionDescription,\n\t\tpublic readonly kind: ExtensionKind[]\n\t) { }\n\n\tpublic get key(): string {\n\t\treturn ExtensionIdentifier.toKey(this.desc.identifier);\n\t}\n\n\tpublic get isUnderDevelopment(): boolean {\n\t\treturn this.desc.isUnderDevelopment;\n\t}\n}\n\nclass ExtensionInfo {\n\n\tconstructor(\n\t\tpublic readonly local: ExtensionWithKind | null,\n\t\tpublic readonly remote: ExtensionWithKind | null,\n\t) { }\n\n\tpublic get key(): string {\n\t\tif (this.local) {\n\t\t\treturn this.local.key;\n\t\t}\n\t\treturn this.remote!.key;\n\t}\n\n\tpublic get identifier(): ExtensionIdentifier {\n\t\tif (this.local) {\n\t\t\treturn this.local.desc.identifier;\n\t\t}\n\t\treturn this.remote!.desc.identifier;\n\t}\n\n\tpublic get kind(): ExtensionKind[] {\n\t\t// in case of disagreements between extension kinds, it is always\n\t\t// better to pick the local extension because it has a much higher\n\t\t// chance of being up-to-date\n\t\tif (this.local) {\n\t\t\treturn this.local.kind;\n\t\t}\n\t\treturn this.remote!.kind;\n\t}\n}\n"]}