{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/services/extensions/common/extHostCustomers.ts","vs/workbench/services/extensions/common/extHostCustomers.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAwBhG,MAAM,UAAU,oBAAoB,CAAwB,EAAsB;IACjF,OAAO,UAA6C,IAAiE;QACpH,4BAA4B,CAAC,QAAQ,CAAC,qBAAqB,CAAC,EAAE,EAAE,IAA+B,CAAC,CAAC;IAClG,CAAC,CAAC;AACH,CAAC;AAED,MAAM,UAAU,eAAe,CAA2D,IAAiE;IAC1J,4BAA4B,CAAC,QAAQ,CAAC,gBAAgB,CAAC,IAA+B,CAAC,CAAC;AACzF,CAAC;AAED,MAAM,KAAW,wBAAwB,CASxC;AATD,WAAiB,wBAAwB;IAExC,SAAgB,iBAAiB;QAChC,OAAO,4BAA4B,CAAC,QAAQ,CAAC,iBAAiB,EAAE,CAAC;IAClE,CAAC;IAFe,0CAAiB,oBAEhC,CAAA;IAED,SAAgB,YAAY;QAC3B,OAAO,4BAA4B,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC;IAC7D,CAAC;IAFe,qCAAY,eAE3B,CAAA;AACF,CAAC,EATgB,wBAAwB,KAAxB,wBAAwB,QASxC;AAED,MAAM,4BAA4B;aAEV,aAAQ,GAAG,IAAI,4BAA4B,EAAE,CAAC;IAKrE;QACC,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAC1B,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;IACtB,CAAC;IAEM,qBAAqB,CAAwB,EAAsB,EAAE,IAA6B;QACxG,MAAM,KAAK,GAA6B,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;QACnD,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAClC,CAAC;IACM,iBAAiB;QACvB,OAAO,IAAI,CAAC,eAAe,CAAC;IAC7B,CAAC;IAEM,gBAAgB,CAAwB,IAA6B;QAC3E,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC5B,CAAC;IACM,YAAY;QAClB,OAAO,IAAI,CAAC,UAAU,CAAC;IACxB,CAAC","file":"extHostCustomers.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IDisposable } from '../../../../base/common/lifecycle.js';\nimport { BrandedService, IConstructorSignature } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ExtensionHostKind } from './extensionHostKind.js';\nimport { IExtensionHostProxy } from './extensionHostProxy.js';\nimport { IInternalExtensionService } from './extensions.js';\nimport { IRPCProtocol, ProxyIdentifier } from './proxyIdentifier.js';\n\nexport interface IExtHostContext extends IRPCProtocol {\n\treadonly remoteAuthority: string | null;\n\treadonly extensionHostKind: ExtensionHostKind;\n}\n\nexport interface IInternalExtHostContext extends IExtHostContext {\n\treadonly internalExtensionService: IInternalExtensionService;\n\t_setExtensionHostProxy(extensionHostProxy: IExtensionHostProxy): void;\n\t_setAllMainProxyIdentifiers(mainProxyIdentifiers: ProxyIdentifier<unknown>[]): void;\n}\n\nexport type IExtHostNamedCustomer<T extends IDisposable> = [ProxyIdentifier<T>, IExtHostCustomerCtor<T>];\n\nexport type IExtHostCustomerCtor<T extends IDisposable> = IConstructorSignature<T, [IExtHostContext]>;\n\nexport function extHostNamedCustomer<T extends IDisposable>(id: ProxyIdentifier<T>) {\n\treturn function <Services extends BrandedService[]>(ctor: { new(context: IExtHostContext, ...services: Services): T }): void {\n\t\tExtHostCustomersRegistryImpl.INSTANCE.registerNamedCustomer(id, ctor as IExtHostCustomerCtor<T>);\n\t};\n}\n\nexport function extHostCustomer<T extends IDisposable, Services extends BrandedService[]>(ctor: { new(context: IExtHostContext, ...services: Services): T }): void {\n\tExtHostCustomersRegistryImpl.INSTANCE.registerCustomer(ctor as IExtHostCustomerCtor<T>);\n}\n\nexport namespace ExtHostCustomersRegistry {\n\n\texport function getNamedCustomers(): IExtHostNamedCustomer<IDisposable>[] {\n\t\treturn ExtHostCustomersRegistryImpl.INSTANCE.getNamedCustomers();\n\t}\n\n\texport function getCustomers(): IExtHostCustomerCtor<IDisposable>[] {\n\t\treturn ExtHostCustomersRegistryImpl.INSTANCE.getCustomers();\n\t}\n}\n\nclass ExtHostCustomersRegistryImpl {\n\n\tpublic static readonly INSTANCE = new ExtHostCustomersRegistryImpl();\n\n\tprivate _namedCustomers: IExtHostNamedCustomer<IDisposable>[];\n\tprivate _customers: IExtHostCustomerCtor<IDisposable>[];\n\n\tconstructor() {\n\t\tthis._namedCustomers = [];\n\t\tthis._customers = [];\n\t}\n\n\tpublic registerNamedCustomer<T extends IDisposable>(id: ProxyIdentifier<T>, ctor: IExtHostCustomerCtor<T>): void {\n\t\tconst entry: IExtHostNamedCustomer<T> = [id, ctor];\n\t\tthis._namedCustomers.push(entry);\n\t}\n\tpublic getNamedCustomers(): IExtHostNamedCustomer<IDisposable>[] {\n\t\treturn this._namedCustomers;\n\t}\n\n\tpublic registerCustomer<T extends IDisposable>(ctor: IExtHostCustomerCtor<T>): void {\n\t\tthis._customers.push(ctor);\n\t}\n\tpublic getCustomers(): IExtHostCustomerCtor<IDisposable>[] {\n\t\treturn this._customers;\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IDisposable } from '../../../../base/common/lifecycle.js';\nimport { BrandedService, IConstructorSignature } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ExtensionHostKind } from './extensionHostKind.js';\nimport { IExtensionHostProxy } from './extensionHostProxy.js';\nimport { IInternalExtensionService } from './extensions.js';\nimport { IRPCProtocol, ProxyIdentifier } from './proxyIdentifier.js';\n\nexport interface IExtHostContext extends IRPCProtocol {\n\treadonly remoteAuthority: string | null;\n\treadonly extensionHostKind: ExtensionHostKind;\n}\n\nexport interface IInternalExtHostContext extends IExtHostContext {\n\treadonly internalExtensionService: IInternalExtensionService;\n\t_setExtensionHostProxy(extensionHostProxy: IExtensionHostProxy): void;\n\t_setAllMainProxyIdentifiers(mainProxyIdentifiers: ProxyIdentifier<unknown>[]): void;\n}\n\nexport type IExtHostNamedCustomer<T extends IDisposable> = [ProxyIdentifier<T>, IExtHostCustomerCtor<T>];\n\nexport type IExtHostCustomerCtor<T extends IDisposable> = IConstructorSignature<T, [IExtHostContext]>;\n\nexport function extHostNamedCustomer<T extends IDisposable>(id: ProxyIdentifier<T>) {\n\treturn function <Services extends BrandedService[]>(ctor: { new(context: IExtHostContext, ...services: Services): T }): void {\n\t\tExtHostCustomersRegistryImpl.INSTANCE.registerNamedCustomer(id, ctor as IExtHostCustomerCtor<T>);\n\t};\n}\n\nexport function extHostCustomer<T extends IDisposable, Services extends BrandedService[]>(ctor: { new(context: IExtHostContext, ...services: Services): T }): void {\n\tExtHostCustomersRegistryImpl.INSTANCE.registerCustomer(ctor as IExtHostCustomerCtor<T>);\n}\n\nexport namespace ExtHostCustomersRegistry {\n\n\texport function getNamedCustomers(): IExtHostNamedCustomer<IDisposable>[] {\n\t\treturn ExtHostCustomersRegistryImpl.INSTANCE.getNamedCustomers();\n\t}\n\n\texport function getCustomers(): IExtHostCustomerCtor<IDisposable>[] {\n\t\treturn ExtHostCustomersRegistryImpl.INSTANCE.getCustomers();\n\t}\n}\n\nclass ExtHostCustomersRegistryImpl {\n\n\tpublic static readonly INSTANCE = new ExtHostCustomersRegistryImpl();\n\n\tprivate _namedCustomers: IExtHostNamedCustomer<IDisposable>[];\n\tprivate _customers: IExtHostCustomerCtor<IDisposable>[];\n\n\tconstructor() {\n\t\tthis._namedCustomers = [];\n\t\tthis._customers = [];\n\t}\n\n\tpublic registerNamedCustomer<T extends IDisposable>(id: ProxyIdentifier<T>, ctor: IExtHostCustomerCtor<T>): void {\n\t\tconst entry: IExtHostNamedCustomer<T> = [id, ctor];\n\t\tthis._namedCustomers.push(entry);\n\t}\n\tpublic getNamedCustomers(): IExtHostNamedCustomer<IDisposable>[] {\n\t\treturn this._namedCustomers;\n\t}\n\n\tpublic registerCustomer<T extends IDisposable>(ctor: IExtHostCustomerCtor<T>): void {\n\t\tthis._customers.push(ctor);\n\t}\n\tpublic getCustomers(): IExtHostCustomerCtor<IDisposable>[] {\n\t\treturn this._customers;\n\t}\n}\n"]}