{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/services/extensions/test/common/extensionManifestPropertiesService.test.ts","vs/workbench/services/extensions/test/common/extensionManifestPropertiesService.test.ts"],"names":[],"mappings":"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","file":"extensionManifestPropertiesService.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { isWeb } from '../../../../../base/common/platform.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { TestConfigurationService } from '../../../../../platform/configuration/test/common/testConfigurationService.js';\nimport { ExtensionUntrustedWorkspaceSupportType, IExtensionManifest } from '../../../../../platform/extensions/common/extensions.js';\nimport { TestInstantiationService } from '../../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { NullLogService } from '../../../../../platform/log/common/log.js';\nimport { IProductService } from '../../../../../platform/product/common/productService.js';\nimport { IWorkspaceTrustEnablementService } from '../../../../../platform/workspace/common/workspaceTrust.js';\nimport { ExtensionManifestPropertiesService } from '../../common/extensionManifestPropertiesService.js';\nimport { TestProductService, TestWorkspaceTrustEnablementService } from '../../../../test/common/workbenchTestServices.js';\n\nsuite('ExtensionManifestPropertiesService - ExtensionKind', () => {\n\n\tlet disposables: DisposableStore;\n\tlet testObject: ExtensionManifestPropertiesService;\n\n\tsetup(() => {\n\t\tdisposables = new DisposableStore();\n\t\ttestObject = disposables.add(new ExtensionManifestPropertiesService(TestProductService, new TestConfigurationService(), new TestWorkspaceTrustEnablementService(), new NullLogService()));\n\t});\n\n\tteardown(() => {\n\t\tdisposables.dispose();\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('declarative with extension dependencies', () => {\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<IExtensionManifest>{ extensionDependencies: ['ext1'] }), isWeb ? ['workspace', 'web'] : ['workspace']);\n\t});\n\n\ttest('declarative extension pack', () => {\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<IExtensionManifest>{ extensionPack: ['ext1', 'ext2'] }), isWeb ? ['workspace', 'web'] : ['workspace']);\n\t});\n\n\ttest('declarative extension pack and extension dependencies', () => {\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<IExtensionManifest>{ extensionPack: ['ext1', 'ext2'], extensionDependencies: ['ext1', 'ext2'] }), isWeb ? ['workspace', 'web'] : ['workspace']);\n\t});\n\n\ttest('declarative with unknown contribution point => workspace, web in web and => workspace in desktop', () => {\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<IExtensionManifest>{ contributes: <any>{ 'unknownPoint': { something: true } } }), isWeb ? ['workspace', 'web'] : ['workspace']);\n\t});\n\n\ttest('declarative extension pack with unknown contribution point', () => {\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<IExtensionManifest>{ extensionPack: ['ext1', 'ext2'], contributes: <any>{ 'unknownPoint': { something: true } } }), isWeb ? ['workspace', 'web'] : ['workspace']);\n\t});\n\n\ttest('simple declarative => ui, workspace, web', () => {\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<IExtensionManifest>{}), ['ui', 'workspace', 'web']);\n\t});\n\n\ttest('only browser => web', () => {\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<IExtensionManifest>{ browser: 'main.browser.js' }), ['web']);\n\t});\n\n\ttest('only main => workspace', () => {\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<IExtensionManifest>{ main: 'main.js' }), ['workspace']);\n\t});\n\n\ttest('main and browser => workspace, web in web and workspace in desktop', () => {\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<IExtensionManifest>{ main: 'main.js', browser: 'main.browser.js' }), isWeb ? ['workspace', 'web'] : ['workspace']);\n\t});\n\n\ttest('browser entry point with workspace extensionKind => workspace, web in web and workspace in desktop', () => {\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<IExtensionManifest>{ main: 'main.js', browser: 'main.browser.js', extensionKind: ['workspace'] }), isWeb ? ['workspace', 'web'] : ['workspace']);\n\t});\n\n\ttest('only browser entry point with out extensionKind => web', () => {\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<IExtensionManifest>{ browser: 'main.browser.js' }), ['web']);\n\t});\n\n\ttest('simple descriptive with workspace, ui extensionKind => workspace, ui, web in web and workspace, ui in desktop', () => {\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<IExtensionManifest>{ extensionKind: ['workspace', 'ui'] }), isWeb ? ['workspace', 'ui', 'web'] : ['workspace', 'ui']);\n\t});\n\n\ttest('opt out from web through settings even if it can run in web', () => {\n\t\ttestObject = disposables.add(new ExtensionManifestPropertiesService(TestProductService, new TestConfigurationService({ remote: { extensionKind: { 'pub.a': ['-web'] } } }), new TestWorkspaceTrustEnablementService(), new NullLogService()));\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<IExtensionManifest>{ browser: 'main.browser.js', publisher: 'pub', name: 'a' }), ['ui', 'workspace']);\n\t});\n\n\ttest('opt out from web and include only workspace through settings even if it can run in web', () => {\n\t\ttestObject = disposables.add(new ExtensionManifestPropertiesService(TestProductService, new TestConfigurationService({ remote: { extensionKind: { 'pub.a': ['-web', 'workspace'] } } }), new TestWorkspaceTrustEnablementService(), new NullLogService()));\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<IExtensionManifest>{ browser: 'main.browser.js', publisher: 'pub', name: 'a' }), ['workspace']);\n\t});\n\n\ttest('extension cannot opt out from web', () => {\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<any>{ browser: 'main.browser.js', extensionKind: ['-web'] }), ['web']);\n\t});\n\n\ttest('extension cannot opt into web', () => {\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<any>{ main: 'main.js', extensionKind: ['web', 'workspace', 'ui'] }), ['workspace', 'ui']);\n\t});\n\n\ttest('extension cannot opt into web only', () => {\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<any>{ main: 'main.js', extensionKind: ['web'] }), ['workspace']);\n\t});\n});\n\n\n// Workspace Trust is disabled in web at the moment\nif (!isWeb) {\n\tsuite('ExtensionManifestPropertiesService - ExtensionUntrustedWorkspaceSupportType', () => {\n\t\tlet testObject: ExtensionManifestPropertiesService;\n\t\tlet instantiationService: TestInstantiationService;\n\t\tlet testConfigurationService: TestConfigurationService;\n\n\t\tsetup(async () => {\n\t\t\tinstantiationService = new TestInstantiationService();\n\n\t\t\ttestConfigurationService = new TestConfigurationService();\n\t\t\tinstantiationService.stub(IConfigurationService, testConfigurationService);\n\t\t});\n\n\t\tteardown(() => {\n\t\t\ttestObject.dispose();\n\t\t\tinstantiationService.dispose();\n\t\t});\n\n\t\tfunction assertUntrustedWorkspaceSupport(extensionManifest: IExtensionManifest, expected: ExtensionUntrustedWorkspaceSupportType): void {\n\t\t\ttestObject = instantiationService.createInstance(ExtensionManifestPropertiesService);\n\t\t\tconst untrustedWorkspaceSupport = testObject.getExtensionUntrustedWorkspaceSupportType(extensionManifest);\n\n\t\t\tassert.strictEqual(untrustedWorkspaceSupport, expected);\n\t\t}\n\n\t\tfunction getExtensionManifest(properties: any = {}): IExtensionManifest {\n\t\t\treturn Object.create({ name: 'a', publisher: 'pub', version: '1.0.0', ...properties }) as IExtensionManifest;\n\t\t}\n\n\t\ttest('test extension workspace trust request when main entry point is missing', () => {\n\t\t\tinstantiationService.stub(IProductService, {});\n\t\t\tinstantiationService.stub(IWorkspaceTrustEnablementService, new TestWorkspaceTrustEnablementService());\n\n\t\t\tconst extensionManifest = getExtensionManifest();\n\t\t\tassertUntrustedWorkspaceSupport(extensionManifest, true);\n\t\t});\n\n\t\ttest('test extension workspace trust request when workspace trust is disabled', async () => {\n\t\t\tinstantiationService.stub(IProductService, {});\n\t\t\tinstantiationService.stub(IWorkspaceTrustEnablementService, new TestWorkspaceTrustEnablementService(false));\n\n\t\t\tconst extensionManifest = getExtensionManifest({ main: './out/extension.js' });\n\t\t\tassertUntrustedWorkspaceSupport(extensionManifest, true);\n\t\t});\n\n\t\ttest('test extension workspace trust request when \"true\" override exists in settings.json', async () => {\n\t\t\tinstantiationService.stub(IProductService, {});\n\t\t\tinstantiationService.stub(IWorkspaceTrustEnablementService, new TestWorkspaceTrustEnablementService());\n\n\t\t\tawait testConfigurationService.setUserConfiguration('extensions', { supportUntrustedWorkspaces: { 'pub.a': { supported: true } } });\n\t\t\tconst extensionManifest = getExtensionManifest({ main: './out/extension.js', capabilities: { untrustedWorkspaces: { supported: 'limited' } } });\n\t\t\tassertUntrustedWorkspaceSupport(extensionManifest, true);\n\t\t});\n\n\t\ttest('test extension workspace trust request when override (false) exists in settings.json', async () => {\n\t\t\tinstantiationService.stub(IProductService, {});\n\t\t\tinstantiationService.stub(IWorkspaceTrustEnablementService, new TestWorkspaceTrustEnablementService());\n\n\t\t\tawait testConfigurationService.setUserConfiguration('extensions', { supportUntrustedWorkspaces: { 'pub.a': { supported: false } } });\n\t\t\tconst extensionManifest = getExtensionManifest({ main: './out/extension.js', capabilities: { untrustedWorkspaces: { supported: 'limited' } } });\n\t\t\tassertUntrustedWorkspaceSupport(extensionManifest, false);\n\t\t});\n\n\t\ttest('test extension workspace trust request when override (true) for the version exists in settings.json', async () => {\n\t\t\tinstantiationService.stub(IProductService, {});\n\t\t\tinstantiationService.stub(IWorkspaceTrustEnablementService, new TestWorkspaceTrustEnablementService());\n\n\t\t\tawait testConfigurationService.setUserConfiguration('extensions', { supportUntrustedWorkspaces: { 'pub.a': { supported: true, version: '1.0.0' } } });\n\t\t\tconst extensionManifest = getExtensionManifest({ main: './out/extension.js', capabilities: { untrustedWorkspaces: { supported: 'limited' } } });\n\t\t\tassertUntrustedWorkspaceSupport(extensionManifest, true);\n\t\t});\n\n\t\ttest('test extension workspace trust request when override (false) for the version exists in settings.json', async () => {\n\t\t\tinstantiationService.stub(IProductService, {});\n\t\t\tinstantiationService.stub(IWorkspaceTrustEnablementService, new TestWorkspaceTrustEnablementService());\n\n\t\t\tawait testConfigurationService.setUserConfiguration('extensions', { supportUntrustedWorkspaces: { 'pub.a': { supported: false, version: '1.0.0' } } });\n\t\t\tconst extensionManifest = getExtensionManifest({ main: './out/extension.js', capabilities: { untrustedWorkspaces: { supported: 'limited' } } });\n\t\t\tassertUntrustedWorkspaceSupport(extensionManifest, false);\n\t\t});\n\n\t\ttest('test extension workspace trust request when override for a different version exists in settings.json', async () => {\n\t\t\tinstantiationService.stub(IProductService, {});\n\t\t\tinstantiationService.stub(IWorkspaceTrustEnablementService, new TestWorkspaceTrustEnablementService());\n\n\t\t\tawait testConfigurationService.setUserConfiguration('extensions', { supportUntrustedWorkspaces: { 'pub.a': { supported: true, version: '2.0.0' } } });\n\t\t\tconst extensionManifest = getExtensionManifest({ main: './out/extension.js', capabilities: { untrustedWorkspaces: { supported: 'limited' } } });\n\t\t\tassertUntrustedWorkspaceSupport(extensionManifest, 'limited');\n\t\t});\n\n\t\ttest('test extension workspace trust request when default (true) exists in product.json', () => {\n\t\t\tinstantiationService.stub(IProductService, { extensionUntrustedWorkspaceSupport: { 'pub.a': { default: true } } });\n\t\t\tinstantiationService.stub(IWorkspaceTrustEnablementService, new TestWorkspaceTrustEnablementService());\n\n\t\t\tconst extensionManifest = getExtensionManifest({ main: './out/extension.js' });\n\t\t\tassertUntrustedWorkspaceSupport(extensionManifest, true);\n\t\t});\n\n\t\ttest('test extension workspace trust request when default (false) exists in product.json', () => {\n\t\t\tinstantiationService.stub(IProductService, { extensionUntrustedWorkspaceSupport: { 'pub.a': { default: false } } });\n\t\t\tinstantiationService.stub(IWorkspaceTrustEnablementService, new TestWorkspaceTrustEnablementService());\n\n\t\t\tconst extensionManifest = getExtensionManifest({ main: './out/extension.js' });\n\t\t\tassertUntrustedWorkspaceSupport(extensionManifest, false);\n\t\t});\n\n\t\ttest('test extension workspace trust request when override (limited) exists in product.json', () => {\n\t\t\tinstantiationService.stub(IProductService, { extensionUntrustedWorkspaceSupport: { 'pub.a': { override: 'limited' } } });\n\t\t\tinstantiationService.stub(IWorkspaceTrustEnablementService, new TestWorkspaceTrustEnablementService());\n\n\t\t\tconst extensionManifest = getExtensionManifest({ main: './out/extension.js', capabilities: { untrustedWorkspaces: { supported: true } } });\n\t\t\tassertUntrustedWorkspaceSupport(extensionManifest, 'limited');\n\t\t});\n\n\t\ttest('test extension workspace trust request when override (false) exists in product.json', () => {\n\t\t\tinstantiationService.stub(IProductService, { extensionUntrustedWorkspaceSupport: { 'pub.a': { override: false } } });\n\t\t\tinstantiationService.stub(IWorkspaceTrustEnablementService, new TestWorkspaceTrustEnablementService());\n\n\t\t\tconst extensionManifest = getExtensionManifest({ main: './out/extension.js', capabilities: { untrustedWorkspaces: { supported: true } } });\n\t\t\tassertUntrustedWorkspaceSupport(extensionManifest, false);\n\t\t});\n\n\t\ttest('test extension workspace trust request when value exists in package.json', () => {\n\t\t\tinstantiationService.stub(IProductService, {});\n\t\t\tinstantiationService.stub(IWorkspaceTrustEnablementService, new TestWorkspaceTrustEnablementService());\n\n\t\t\tconst extensionManifest = getExtensionManifest({ main: './out/extension.js', capabilities: { untrustedWorkspaces: { supported: 'limited' } } });\n\t\t\tassertUntrustedWorkspaceSupport(extensionManifest, 'limited');\n\t\t});\n\n\t\ttest('test extension workspace trust request when no value exists in package.json', () => {\n\t\t\tinstantiationService.stub(IProductService, {});\n\t\t\tinstantiationService.stub(IWorkspaceTrustEnablementService, new TestWorkspaceTrustEnablementService());\n\n\t\t\tconst extensionManifest = getExtensionManifest({ main: './out/extension.js' });\n\t\t\tassertUntrustedWorkspaceSupport(extensionManifest, false);\n\t\t});\n\t});\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { isWeb } from '../../../../../base/common/platform.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { TestConfigurationService } from '../../../../../platform/configuration/test/common/testConfigurationService.js';\nimport { ExtensionUntrustedWorkspaceSupportType, IExtensionManifest } from '../../../../../platform/extensions/common/extensions.js';\nimport { TestInstantiationService } from '../../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { NullLogService } from '../../../../../platform/log/common/log.js';\nimport { IProductService } from '../../../../../platform/product/common/productService.js';\nimport { IWorkspaceTrustEnablementService } from '../../../../../platform/workspace/common/workspaceTrust.js';\nimport { ExtensionManifestPropertiesService } from '../../common/extensionManifestPropertiesService.js';\nimport { TestProductService, TestWorkspaceTrustEnablementService } from '../../../../test/common/workbenchTestServices.js';\n\nsuite('ExtensionManifestPropertiesService - ExtensionKind', () => {\n\n\tlet disposables: DisposableStore;\n\tlet testObject: ExtensionManifestPropertiesService;\n\n\tsetup(() => {\n\t\tdisposables = new DisposableStore();\n\t\ttestObject = disposables.add(new ExtensionManifestPropertiesService(TestProductService, new TestConfigurationService(), new TestWorkspaceTrustEnablementService(), new NullLogService()));\n\t});\n\n\tteardown(() => {\n\t\tdisposables.dispose();\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('declarative with extension dependencies', () => {\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<IExtensionManifest>{ extensionDependencies: ['ext1'] }), isWeb ? ['workspace', 'web'] : ['workspace']);\n\t});\n\n\ttest('declarative extension pack', () => {\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<IExtensionManifest>{ extensionPack: ['ext1', 'ext2'] }), isWeb ? ['workspace', 'web'] : ['workspace']);\n\t});\n\n\ttest('declarative extension pack and extension dependencies', () => {\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<IExtensionManifest>{ extensionPack: ['ext1', 'ext2'], extensionDependencies: ['ext1', 'ext2'] }), isWeb ? ['workspace', 'web'] : ['workspace']);\n\t});\n\n\ttest('declarative with unknown contribution point => workspace, web in web and => workspace in desktop', () => {\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<IExtensionManifest>{ contributes: <any>{ 'unknownPoint': { something: true } } }), isWeb ? ['workspace', 'web'] : ['workspace']);\n\t});\n\n\ttest('declarative extension pack with unknown contribution point', () => {\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<IExtensionManifest>{ extensionPack: ['ext1', 'ext2'], contributes: <any>{ 'unknownPoint': { something: true } } }), isWeb ? ['workspace', 'web'] : ['workspace']);\n\t});\n\n\ttest('simple declarative => ui, workspace, web', () => {\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<IExtensionManifest>{}), ['ui', 'workspace', 'web']);\n\t});\n\n\ttest('only browser => web', () => {\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<IExtensionManifest>{ browser: 'main.browser.js' }), ['web']);\n\t});\n\n\ttest('only main => workspace', () => {\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<IExtensionManifest>{ main: 'main.js' }), ['workspace']);\n\t});\n\n\ttest('main and browser => workspace, web in web and workspace in desktop', () => {\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<IExtensionManifest>{ main: 'main.js', browser: 'main.browser.js' }), isWeb ? ['workspace', 'web'] : ['workspace']);\n\t});\n\n\ttest('browser entry point with workspace extensionKind => workspace, web in web and workspace in desktop', () => {\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<IExtensionManifest>{ main: 'main.js', browser: 'main.browser.js', extensionKind: ['workspace'] }), isWeb ? ['workspace', 'web'] : ['workspace']);\n\t});\n\n\ttest('only browser entry point with out extensionKind => web', () => {\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<IExtensionManifest>{ browser: 'main.browser.js' }), ['web']);\n\t});\n\n\ttest('simple descriptive with workspace, ui extensionKind => workspace, ui, web in web and workspace, ui in desktop', () => {\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<IExtensionManifest>{ extensionKind: ['workspace', 'ui'] }), isWeb ? ['workspace', 'ui', 'web'] : ['workspace', 'ui']);\n\t});\n\n\ttest('opt out from web through settings even if it can run in web', () => {\n\t\ttestObject = disposables.add(new ExtensionManifestPropertiesService(TestProductService, new TestConfigurationService({ remote: { extensionKind: { 'pub.a': ['-web'] } } }), new TestWorkspaceTrustEnablementService(), new NullLogService()));\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<IExtensionManifest>{ browser: 'main.browser.js', publisher: 'pub', name: 'a' }), ['ui', 'workspace']);\n\t});\n\n\ttest('opt out from web and include only workspace through settings even if it can run in web', () => {\n\t\ttestObject = disposables.add(new ExtensionManifestPropertiesService(TestProductService, new TestConfigurationService({ remote: { extensionKind: { 'pub.a': ['-web', 'workspace'] } } }), new TestWorkspaceTrustEnablementService(), new NullLogService()));\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<IExtensionManifest>{ browser: 'main.browser.js', publisher: 'pub', name: 'a' }), ['workspace']);\n\t});\n\n\ttest('extension cannot opt out from web', () => {\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<any>{ browser: 'main.browser.js', extensionKind: ['-web'] }), ['web']);\n\t});\n\n\ttest('extension cannot opt into web', () => {\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<any>{ main: 'main.js', extensionKind: ['web', 'workspace', 'ui'] }), ['workspace', 'ui']);\n\t});\n\n\ttest('extension cannot opt into web only', () => {\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tassert.deepStrictEqual(testObject.getExtensionKind(<any>{ main: 'main.js', extensionKind: ['web'] }), ['workspace']);\n\t});\n});\n\n\n// Workspace Trust is disabled in web at the moment\nif (!isWeb) {\n\tsuite('ExtensionManifestPropertiesService - ExtensionUntrustedWorkspaceSupportType', () => {\n\t\tlet testObject: ExtensionManifestPropertiesService;\n\t\tlet instantiationService: TestInstantiationService;\n\t\tlet testConfigurationService: TestConfigurationService;\n\n\t\tsetup(async () => {\n\t\t\tinstantiationService = new TestInstantiationService();\n\n\t\t\ttestConfigurationService = new TestConfigurationService();\n\t\t\tinstantiationService.stub(IConfigurationService, testConfigurationService);\n\t\t});\n\n\t\tteardown(() => {\n\t\t\ttestObject.dispose();\n\t\t\tinstantiationService.dispose();\n\t\t});\n\n\t\tfunction assertUntrustedWorkspaceSupport(extensionManifest: IExtensionManifest, expected: ExtensionUntrustedWorkspaceSupportType): void {\n\t\t\ttestObject = instantiationService.createInstance(ExtensionManifestPropertiesService);\n\t\t\tconst untrustedWorkspaceSupport = testObject.getExtensionUntrustedWorkspaceSupportType(extensionManifest);\n\n\t\t\tassert.strictEqual(untrustedWorkspaceSupport, expected);\n\t\t}\n\n\t\tfunction getExtensionManifest(properties: any = {}): IExtensionManifest {\n\t\t\treturn Object.create({ name: 'a', publisher: 'pub', version: '1.0.0', ...properties }) as IExtensionManifest;\n\t\t}\n\n\t\ttest('test extension workspace trust request when main entry point is missing', () => {\n\t\t\tinstantiationService.stub(IProductService, {});\n\t\t\tinstantiationService.stub(IWorkspaceTrustEnablementService, new TestWorkspaceTrustEnablementService());\n\n\t\t\tconst extensionManifest = getExtensionManifest();\n\t\t\tassertUntrustedWorkspaceSupport(extensionManifest, true);\n\t\t});\n\n\t\ttest('test extension workspace trust request when workspace trust is disabled', async () => {\n\t\t\tinstantiationService.stub(IProductService, {});\n\t\t\tinstantiationService.stub(IWorkspaceTrustEnablementService, new TestWorkspaceTrustEnablementService(false));\n\n\t\t\tconst extensionManifest = getExtensionManifest({ main: './out/extension.js' });\n\t\t\tassertUntrustedWorkspaceSupport(extensionManifest, true);\n\t\t});\n\n\t\ttest('test extension workspace trust request when \"true\" override exists in settings.json', async () => {\n\t\t\tinstantiationService.stub(IProductService, {});\n\t\t\tinstantiationService.stub(IWorkspaceTrustEnablementService, new TestWorkspaceTrustEnablementService());\n\n\t\t\tawait testConfigurationService.setUserConfiguration('extensions', { supportUntrustedWorkspaces: { 'pub.a': { supported: true } } });\n\t\t\tconst extensionManifest = getExtensionManifest({ main: './out/extension.js', capabilities: { untrustedWorkspaces: { supported: 'limited' } } });\n\t\t\tassertUntrustedWorkspaceSupport(extensionManifest, true);\n\t\t});\n\n\t\ttest('test extension workspace trust request when override (false) exists in settings.json', async () => {\n\t\t\tinstantiationService.stub(IProductService, {});\n\t\t\tinstantiationService.stub(IWorkspaceTrustEnablementService, new TestWorkspaceTrustEnablementService());\n\n\t\t\tawait testConfigurationService.setUserConfiguration('extensions', { supportUntrustedWorkspaces: { 'pub.a': { supported: false } } });\n\t\t\tconst extensionManifest = getExtensionManifest({ main: './out/extension.js', capabilities: { untrustedWorkspaces: { supported: 'limited' } } });\n\t\t\tassertUntrustedWorkspaceSupport(extensionManifest, false);\n\t\t});\n\n\t\ttest('test extension workspace trust request when override (true) for the version exists in settings.json', async () => {\n\t\t\tinstantiationService.stub(IProductService, {});\n\t\t\tinstantiationService.stub(IWorkspaceTrustEnablementService, new TestWorkspaceTrustEnablementService());\n\n\t\t\tawait testConfigurationService.setUserConfiguration('extensions', { supportUntrustedWorkspaces: { 'pub.a': { supported: true, version: '1.0.0' } } });\n\t\t\tconst extensionManifest = getExtensionManifest({ main: './out/extension.js', capabilities: { untrustedWorkspaces: { supported: 'limited' } } });\n\t\t\tassertUntrustedWorkspaceSupport(extensionManifest, true);\n\t\t});\n\n\t\ttest('test extension workspace trust request when override (false) for the version exists in settings.json', async () => {\n\t\t\tinstantiationService.stub(IProductService, {});\n\t\t\tinstantiationService.stub(IWorkspaceTrustEnablementService, new TestWorkspaceTrustEnablementService());\n\n\t\t\tawait testConfigurationService.setUserConfiguration('extensions', { supportUntrustedWorkspaces: { 'pub.a': { supported: false, version: '1.0.0' } } });\n\t\t\tconst extensionManifest = getExtensionManifest({ main: './out/extension.js', capabilities: { untrustedWorkspaces: { supported: 'limited' } } });\n\t\t\tassertUntrustedWorkspaceSupport(extensionManifest, false);\n\t\t});\n\n\t\ttest('test extension workspace trust request when override for a different version exists in settings.json', async () => {\n\t\t\tinstantiationService.stub(IProductService, {});\n\t\t\tinstantiationService.stub(IWorkspaceTrustEnablementService, new TestWorkspaceTrustEnablementService());\n\n\t\t\tawait testConfigurationService.setUserConfiguration('extensions', { supportUntrustedWorkspaces: { 'pub.a': { supported: true, version: '2.0.0' } } });\n\t\t\tconst extensionManifest = getExtensionManifest({ main: './out/extension.js', capabilities: { untrustedWorkspaces: { supported: 'limited' } } });\n\t\t\tassertUntrustedWorkspaceSupport(extensionManifest, 'limited');\n\t\t});\n\n\t\ttest('test extension workspace trust request when default (true) exists in product.json', () => {\n\t\t\tinstantiationService.stub(IProductService, { extensionUntrustedWorkspaceSupport: { 'pub.a': { default: true } } });\n\t\t\tinstantiationService.stub(IWorkspaceTrustEnablementService, new TestWorkspaceTrustEnablementService());\n\n\t\t\tconst extensionManifest = getExtensionManifest({ main: './out/extension.js' });\n\t\t\tassertUntrustedWorkspaceSupport(extensionManifest, true);\n\t\t});\n\n\t\ttest('test extension workspace trust request when default (false) exists in product.json', () => {\n\t\t\tinstantiationService.stub(IProductService, { extensionUntrustedWorkspaceSupport: { 'pub.a': { default: false } } });\n\t\t\tinstantiationService.stub(IWorkspaceTrustEnablementService, new TestWorkspaceTrustEnablementService());\n\n\t\t\tconst extensionManifest = getExtensionManifest({ main: './out/extension.js' });\n\t\t\tassertUntrustedWorkspaceSupport(extensionManifest, false);\n\t\t});\n\n\t\ttest('test extension workspace trust request when override (limited) exists in product.json', () => {\n\t\t\tinstantiationService.stub(IProductService, { extensionUntrustedWorkspaceSupport: { 'pub.a': { override: 'limited' } } });\n\t\t\tinstantiationService.stub(IWorkspaceTrustEnablementService, new TestWorkspaceTrustEnablementService());\n\n\t\t\tconst extensionManifest = getExtensionManifest({ main: './out/extension.js', capabilities: { untrustedWorkspaces: { supported: true } } });\n\t\t\tassertUntrustedWorkspaceSupport(extensionManifest, 'limited');\n\t\t});\n\n\t\ttest('test extension workspace trust request when override (false) exists in product.json', () => {\n\t\t\tinstantiationService.stub(IProductService, { extensionUntrustedWorkspaceSupport: { 'pub.a': { override: false } } });\n\t\t\tinstantiationService.stub(IWorkspaceTrustEnablementService, new TestWorkspaceTrustEnablementService());\n\n\t\t\tconst extensionManifest = getExtensionManifest({ main: './out/extension.js', capabilities: { untrustedWorkspaces: { supported: true } } });\n\t\t\tassertUntrustedWorkspaceSupport(extensionManifest, false);\n\t\t});\n\n\t\ttest('test extension workspace trust request when value exists in package.json', () => {\n\t\t\tinstantiationService.stub(IProductService, {});\n\t\t\tinstantiationService.stub(IWorkspaceTrustEnablementService, new TestWorkspaceTrustEnablementService());\n\n\t\t\tconst extensionManifest = getExtensionManifest({ main: './out/extension.js', capabilities: { untrustedWorkspaces: { supported: 'limited' } } });\n\t\t\tassertUntrustedWorkspaceSupport(extensionManifest, 'limited');\n\t\t});\n\n\t\ttest('test extension workspace trust request when no value exists in package.json', () => {\n\t\t\tinstantiationService.stub(IProductService, {});\n\t\t\tinstantiationService.stub(IWorkspaceTrustEnablementService, new TestWorkspaceTrustEnablementService());\n\n\t\t\tconst extensionManifest = getExtensionManifest({ main: './out/extension.js' });\n\t\t\tassertUntrustedWorkspaceSupport(extensionManifest, false);\n\t\t});\n\t});\n}\n"]}