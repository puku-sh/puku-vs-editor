{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/services/clipboard/electron-browser/clipboardService.ts","vs/workbench/services/clipboard/electron-browser/clipboardService.ts"],"names":[],"mappings":"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","file":"clipboardService.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IClipboardService } from '../../../../platform/clipboard/common/clipboardService.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { isMacintosh } from '../../../../base/common/platform.js';\nimport { InstantiationType, registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { INativeHostService } from '../../../../platform/native/common/native.js';\nimport { VSBuffer } from '../../../../base/common/buffer.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\n\nexport class NativeClipboardService implements IClipboardService {\n\n\tprivate static readonly FILE_FORMAT = 'code/file-list'; // Clipboard format for files\n\n\tdeclare readonly _serviceBrand: undefined;\n\n\tconstructor(\n\t\t@INativeHostService private readonly nativeHostService: INativeHostService,\n\t\t@ILogService private readonly logService: ILogService\n\t) { }\n\n\tasync triggerPaste(targetWindowId: number): Promise<void> {\n\t\tthis.logService.trace('NativeClipboardService#triggerPaste called');\n\t\treturn this.nativeHostService.triggerPaste({ targetWindowId });\n\t}\n\n\tasync readImage(): Promise<Uint8Array> {\n\t\treturn this.nativeHostService.readImage();\n\t}\n\n\tasync writeText(text: string, type?: 'selection' | 'clipboard'): Promise<void> {\n\t\tthis.logService.trace('NativeClipboardService#writeText called with type:', type, ' with text.length:', text.length);\n\t\treturn this.nativeHostService.writeClipboardText(text, type);\n\t}\n\n\tasync readText(type?: 'selection' | 'clipboard'): Promise<string> {\n\t\tthis.logService.trace('NativeClipboardService#readText called with type:', type);\n\t\treturn this.nativeHostService.readClipboardText(type);\n\t}\n\n\tasync readFindText(): Promise<string> {\n\t\tif (isMacintosh) {\n\t\t\treturn this.nativeHostService.readClipboardFindText();\n\t\t}\n\n\t\treturn '';\n\t}\n\n\tasync writeFindText(text: string): Promise<void> {\n\t\tif (isMacintosh) {\n\t\t\treturn this.nativeHostService.writeClipboardFindText(text);\n\t\t}\n\t}\n\n\tasync writeResources(resources: URI[]): Promise<void> {\n\t\tif (resources.length) {\n\t\t\treturn this.nativeHostService.writeClipboardBuffer(NativeClipboardService.FILE_FORMAT, this.resourcesToBuffer(resources));\n\t\t}\n\t}\n\n\tasync readResources(): Promise<URI[]> {\n\t\treturn this.bufferToResources(await this.nativeHostService.readClipboardBuffer(NativeClipboardService.FILE_FORMAT));\n\t}\n\n\tasync hasResources(): Promise<boolean> {\n\t\treturn this.nativeHostService.hasClipboard(NativeClipboardService.FILE_FORMAT);\n\t}\n\n\tprivate resourcesToBuffer(resources: URI[]): VSBuffer {\n\t\treturn VSBuffer.fromString(resources.map(r => r.toString()).join('\\n'));\n\t}\n\n\tprivate bufferToResources(buffer: VSBuffer): URI[] {\n\t\tif (!buffer) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst bufferValue = buffer.toString();\n\t\tif (!bufferValue) {\n\t\t\treturn [];\n\t\t}\n\n\t\ttry {\n\t\t\treturn bufferValue.split('\\n').map(f => URI.parse(f));\n\t\t} catch (error) {\n\t\t\treturn []; // do not trust clipboard data\n\t\t}\n\t}\n}\n\nregisterSingleton(IClipboardService, NativeClipboardService, InstantiationType.Delayed);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IClipboardService } from '../../../../platform/clipboard/common/clipboardService.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { isMacintosh } from '../../../../base/common/platform.js';\nimport { InstantiationType, registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { INativeHostService } from '../../../../platform/native/common/native.js';\nimport { VSBuffer } from '../../../../base/common/buffer.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\n\nexport class NativeClipboardService implements IClipboardService {\n\n\tprivate static readonly FILE_FORMAT = 'code/file-list'; // Clipboard format for files\n\n\tdeclare readonly _serviceBrand: undefined;\n\n\tconstructor(\n\t\t@INativeHostService private readonly nativeHostService: INativeHostService,\n\t\t@ILogService private readonly logService: ILogService\n\t) { }\n\n\tasync triggerPaste(targetWindowId: number): Promise<void> {\n\t\tthis.logService.trace('NativeClipboardService#triggerPaste called');\n\t\treturn this.nativeHostService.triggerPaste({ targetWindowId });\n\t}\n\n\tasync readImage(): Promise<Uint8Array> {\n\t\treturn this.nativeHostService.readImage();\n\t}\n\n\tasync writeText(text: string, type?: 'selection' | 'clipboard'): Promise<void> {\n\t\tthis.logService.trace('NativeClipboardService#writeText called with type:', type, ' with text.length:', text.length);\n\t\treturn this.nativeHostService.writeClipboardText(text, type);\n\t}\n\n\tasync readText(type?: 'selection' | 'clipboard'): Promise<string> {\n\t\tthis.logService.trace('NativeClipboardService#readText called with type:', type);\n\t\treturn this.nativeHostService.readClipboardText(type);\n\t}\n\n\tasync readFindText(): Promise<string> {\n\t\tif (isMacintosh) {\n\t\t\treturn this.nativeHostService.readClipboardFindText();\n\t\t}\n\n\t\treturn '';\n\t}\n\n\tasync writeFindText(text: string): Promise<void> {\n\t\tif (isMacintosh) {\n\t\t\treturn this.nativeHostService.writeClipboardFindText(text);\n\t\t}\n\t}\n\n\tasync writeResources(resources: URI[]): Promise<void> {\n\t\tif (resources.length) {\n\t\t\treturn this.nativeHostService.writeClipboardBuffer(NativeClipboardService.FILE_FORMAT, this.resourcesToBuffer(resources));\n\t\t}\n\t}\n\n\tasync readResources(): Promise<URI[]> {\n\t\treturn this.bufferToResources(await this.nativeHostService.readClipboardBuffer(NativeClipboardService.FILE_FORMAT));\n\t}\n\n\tasync hasResources(): Promise<boolean> {\n\t\treturn this.nativeHostService.hasClipboard(NativeClipboardService.FILE_FORMAT);\n\t}\n\n\tprivate resourcesToBuffer(resources: URI[]): VSBuffer {\n\t\treturn VSBuffer.fromString(resources.map(r => r.toString()).join('\\n'));\n\t}\n\n\tprivate bufferToResources(buffer: VSBuffer): URI[] {\n\t\tif (!buffer) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst bufferValue = buffer.toString();\n\t\tif (!bufferValue) {\n\t\t\treturn [];\n\t\t}\n\n\t\ttry {\n\t\t\treturn bufferValue.split('\\n').map(f => URI.parse(f));\n\t\t} catch (error) {\n\t\t\treturn []; // do not trust clipboard data\n\t\t}\n\t}\n}\n\nregisterSingleton(IClipboardService, NativeClipboardService, InstantiationType.Delayed);\n"]}