{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/common/notifications.ts","vs/workbench/common/notifications.ts"],"names":[],"mappings":"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","file":"notifications.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { INotification, INotificationHandle, INotificationActions, INotificationProgress, NoOpNotification, Severity, NotificationMessage, IPromptChoice, IStatusMessageOptions, NotificationsFilter, INotificationProgressProperties, IPromptChoiceWithMenu, NotificationPriority, INotificationSource, isNotificationSource, IStatusHandle } from '../../platform/notification/common/notification.js';\nimport { toErrorMessage, isErrorWithActions } from '../../base/common/errorMessage.js';\nimport { Event, Emitter } from '../../base/common/event.js';\nimport { Disposable } from '../../base/common/lifecycle.js';\nimport { isCancellationError } from '../../base/common/errors.js';\nimport { Action } from '../../base/common/actions.js';\nimport { equals } from '../../base/common/arrays.js';\nimport { parseLinkedText, LinkedText } from '../../base/common/linkedText.js';\nimport { mapsStrictEqualIgnoreOrder } from '../../base/common/map.js';\n\nexport interface INotificationsModel {\n\n\t//#region Notifications as Toasts/Center\n\n\treadonly notifications: INotificationViewItem[];\n\n\treadonly onDidChangeNotification: Event<INotificationChangeEvent>;\n\treadonly onDidChangeFilter: Event<Partial<INotificationsFilter>>;\n\n\taddNotification(notification: INotification): INotificationHandle;\n\n\tsetFilter(filter: Partial<INotificationsFilter>): void;\n\n\t//#endregion\n\n\n\t//#region Notifications as Status\n\n\treadonly statusMessage: IStatusMessageViewItem | undefined;\n\n\treadonly onDidChangeStatusMessage: Event<IStatusMessageChangeEvent>;\n\n\tshowStatusMessage(message: NotificationMessage, options?: IStatusMessageOptions): IStatusHandle;\n\n\t//#endregion\n}\n\nexport const enum NotificationChangeType {\n\n\t/**\n\t * A notification was added.\n\t */\n\tADD,\n\n\t/**\n\t * A notification changed. Check `detail` property\n\t * on the event for additional information.\n\t */\n\tCHANGE,\n\n\t/**\n\t * A notification expanded or collapsed.\n\t */\n\tEXPAND_COLLAPSE,\n\n\t/**\n\t * A notification was removed.\n\t */\n\tREMOVE\n}\n\nexport interface INotificationChangeEvent {\n\n\t/**\n\t * The index this notification has in the list of notifications.\n\t */\n\tindex: number;\n\n\t/**\n\t * The notification this change is about.\n\t */\n\titem: INotificationViewItem;\n\n\t/**\n\t * The kind of notification change.\n\t */\n\tkind: NotificationChangeType;\n\n\t/**\n\t * Additional detail about the item change. Only applies to\n\t * `NotificationChangeType.CHANGE`.\n\t */\n\tdetail?: NotificationViewItemContentChangeKind;\n}\n\nexport const enum StatusMessageChangeType {\n\tADD,\n\tREMOVE\n}\n\nexport interface IStatusMessageViewItem {\n\tmessage: string;\n\toptions?: IStatusMessageOptions;\n}\n\nexport interface IStatusMessageChangeEvent {\n\n\t/**\n\t * The status message item this change is about.\n\t */\n\titem: IStatusMessageViewItem;\n\n\t/**\n\t * The kind of status message change.\n\t */\n\tkind: StatusMessageChangeType;\n}\n\nexport class NotificationHandle extends Disposable implements INotificationHandle {\n\n\tprivate readonly _onDidClose = this._register(new Emitter<void>());\n\treadonly onDidClose = this._onDidClose.event;\n\n\tprivate readonly _onDidChangeVisibility = this._register(new Emitter<boolean>());\n\treadonly onDidChangeVisibility = this._onDidChangeVisibility.event;\n\n\tconstructor(private readonly item: INotificationViewItem, private readonly onClose: (item: INotificationViewItem) => void) {\n\t\tsuper();\n\n\t\tthis.registerListeners();\n\t}\n\n\tprivate registerListeners(): void {\n\n\t\t// Visibility\n\t\tthis._register(this.item.onDidChangeVisibility(visible => this._onDidChangeVisibility.fire(visible)));\n\n\t\t// Closing\n\t\tEvent.once(this.item.onDidClose)(() => {\n\t\t\tthis._onDidClose.fire();\n\n\t\t\tthis.dispose();\n\t\t});\n\t}\n\n\tget progress(): INotificationProgress {\n\t\treturn this.item.progress;\n\t}\n\n\tupdateSeverity(severity: Severity): void {\n\t\tthis.item.updateSeverity(severity);\n\t}\n\n\tupdateMessage(message: NotificationMessage): void {\n\t\tthis.item.updateMessage(message);\n\t}\n\n\tupdateActions(actions?: INotificationActions): void {\n\t\tthis.item.updateActions(actions);\n\t}\n\n\tclose(): void {\n\t\tthis.onClose(this.item);\n\n\t\tthis.dispose();\n\t}\n}\n\nexport interface INotificationsFilter {\n\treadonly global: NotificationsFilter;\n\treadonly sources: Map<string, NotificationsFilter>;\n}\n\nexport class NotificationsModel extends Disposable implements INotificationsModel {\n\n\tprivate static readonly NO_OP_NOTIFICATION = new NoOpNotification();\n\n\tprivate readonly _onDidChangeNotification = this._register(new Emitter<INotificationChangeEvent>());\n\treadonly onDidChangeNotification = this._onDidChangeNotification.event;\n\n\tprivate readonly _onDidChangeStatusMessage = this._register(new Emitter<IStatusMessageChangeEvent>());\n\treadonly onDidChangeStatusMessage = this._onDidChangeStatusMessage.event;\n\n\tprivate readonly _onDidChangeFilter = this._register(new Emitter<Partial<INotificationsFilter>>());\n\treadonly onDidChangeFilter = this._onDidChangeFilter.event;\n\n\tprivate readonly _notifications: INotificationViewItem[] = [];\n\tget notifications(): INotificationViewItem[] { return this._notifications; }\n\n\tprivate _statusMessage: IStatusMessageViewItem | undefined;\n\tget statusMessage(): IStatusMessageViewItem | undefined { return this._statusMessage; }\n\n\tprivate readonly filter = {\n\t\tglobal: NotificationsFilter.OFF,\n\t\tsources: new Map<string, NotificationsFilter>()\n\t};\n\n\tsetFilter(filter: Partial<INotificationsFilter>): void {\n\t\tlet globalChanged = false;\n\t\tif (typeof filter.global === 'number') {\n\t\t\tglobalChanged = this.filter.global !== filter.global;\n\t\t\tthis.filter.global = filter.global;\n\t\t}\n\n\t\tlet sourcesChanged = false;\n\t\tif (filter.sources) {\n\t\t\tsourcesChanged = !mapsStrictEqualIgnoreOrder(this.filter.sources, filter.sources);\n\t\t\tthis.filter.sources = filter.sources;\n\t\t}\n\n\t\tif (globalChanged || sourcesChanged) {\n\t\t\tthis._onDidChangeFilter.fire({\n\t\t\t\tglobal: globalChanged ? filter.global : undefined,\n\t\t\t\tsources: sourcesChanged ? filter.sources : undefined\n\t\t\t});\n\t\t}\n\t}\n\n\taddNotification(notification: INotification): INotificationHandle {\n\t\tconst item = this.createViewItem(notification);\n\t\tif (!item) {\n\t\t\treturn NotificationsModel.NO_OP_NOTIFICATION; // return early if this is a no-op\n\t\t}\n\n\t\t// Deduplicate\n\t\tconst duplicate = this.findNotification(item);\n\t\tduplicate?.close();\n\n\t\t// Add to list as first entry\n\t\tthis._notifications.splice(0, 0, item);\n\n\t\t// Events\n\t\tthis._onDidChangeNotification.fire({ item, index: 0, kind: NotificationChangeType.ADD });\n\n\t\t// Wrap into handle\n\t\treturn new NotificationHandle(item, item => this.onClose(item));\n\t}\n\n\tprivate onClose(item: INotificationViewItem): void {\n\t\tconst liveItem = this.findNotification(item);\n\t\tif (liveItem && liveItem !== item) {\n\t\t\tliveItem.close(); // item could have been replaced with another one, make sure to close the live item\n\t\t} else {\n\t\t\titem.close(); // otherwise just close the item that was passed in\n\t\t}\n\t}\n\n\tprivate findNotification(item: INotificationViewItem): INotificationViewItem | undefined {\n\t\treturn this._notifications.find(notification => notification.equals(item));\n\t}\n\n\tprivate createViewItem(notification: INotification): INotificationViewItem | undefined {\n\t\tconst item = NotificationViewItem.create(notification, this.filter);\n\t\tif (!item) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// Item Events\n\t\tconst fireNotificationChangeEvent = (kind: NotificationChangeType, detail?: NotificationViewItemContentChangeKind) => {\n\t\t\tconst index = this._notifications.indexOf(item);\n\t\t\tif (index >= 0) {\n\t\t\t\tthis._onDidChangeNotification.fire({ item, index, kind, detail });\n\t\t\t}\n\t\t};\n\n\t\tconst itemExpansionChangeListener = item.onDidChangeExpansion(() => fireNotificationChangeEvent(NotificationChangeType.EXPAND_COLLAPSE));\n\t\tconst itemContentChangeListener = item.onDidChangeContent(e => fireNotificationChangeEvent(NotificationChangeType.CHANGE, e.kind));\n\n\t\tEvent.once(item.onDidClose)(() => {\n\t\t\titemExpansionChangeListener.dispose();\n\t\t\titemContentChangeListener.dispose();\n\n\t\t\tconst index = this._notifications.indexOf(item);\n\t\t\tif (index >= 0) {\n\t\t\t\tthis._notifications.splice(index, 1);\n\t\t\t\tthis._onDidChangeNotification.fire({ item, index, kind: NotificationChangeType.REMOVE });\n\t\t\t}\n\t\t});\n\n\t\treturn item;\n\t}\n\n\tshowStatusMessage(message: NotificationMessage, options?: IStatusMessageOptions): IStatusHandle {\n\t\tconst item = StatusMessageViewItem.create(message, options);\n\t\tif (!item) {\n\t\t\treturn { close: () => { } };\n\t\t}\n\n\t\tthis._statusMessage = item;\n\t\tthis._onDidChangeStatusMessage.fire({ kind: StatusMessageChangeType.ADD, item });\n\n\t\treturn {\n\t\t\tclose: () => {\n\t\t\t\tif (this._statusMessage === item) {\n\t\t\t\t\tthis._statusMessage = undefined;\n\t\t\t\t\tthis._onDidChangeStatusMessage.fire({ kind: StatusMessageChangeType.REMOVE, item });\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n}\n\nexport interface INotificationViewItem {\n\treadonly id: string | undefined;\n\treadonly severity: Severity;\n\treadonly sticky: boolean;\n\treadonly priority: NotificationPriority;\n\treadonly message: INotificationMessage;\n\treadonly source: string | undefined;\n\treadonly sourceId: string | undefined;\n\treadonly actions: INotificationActions | undefined;\n\treadonly progress: INotificationViewItemProgress;\n\n\treadonly expanded: boolean;\n\treadonly visible: boolean;\n\treadonly canCollapse: boolean;\n\treadonly hasProgress: boolean;\n\n\treadonly onDidChangeExpansion: Event<void>;\n\treadonly onDidChangeVisibility: Event<boolean>;\n\treadonly onDidChangeContent: Event<INotificationViewItemContentChangeEvent>;\n\treadonly onDidClose: Event<void>;\n\n\texpand(): void;\n\tcollapse(skipEvents?: boolean): void;\n\ttoggle(): void;\n\n\tupdateSeverity(severity: Severity): void;\n\tupdateMessage(message: NotificationMessage): void;\n\tupdateActions(actions?: INotificationActions): void;\n\n\tupdateVisibility(visible: boolean): void;\n\n\tclose(): void;\n\n\tequals(item: INotificationViewItem): boolean;\n}\n\nexport function isNotificationViewItem(obj: unknown): obj is INotificationViewItem {\n\treturn obj instanceof NotificationViewItem;\n}\n\nexport const enum NotificationViewItemContentChangeKind {\n\tSEVERITY,\n\tMESSAGE,\n\tACTIONS,\n\tPROGRESS\n}\n\nexport interface INotificationViewItemContentChangeEvent {\n\tkind: NotificationViewItemContentChangeKind;\n}\n\nexport interface INotificationViewItemProgressState {\n\tinfinite?: boolean;\n\ttotal?: number;\n\tworked?: number;\n\tdone?: boolean;\n}\n\nexport interface INotificationViewItemProgress extends INotificationProgress {\n\treadonly state: INotificationViewItemProgressState;\n\n\tdispose(): void;\n}\n\nexport class NotificationViewItemProgress extends Disposable implements INotificationViewItemProgress {\n\tprivate readonly _state: INotificationViewItemProgressState;\n\n\tprivate readonly _onDidChange = this._register(new Emitter<void>());\n\treadonly onDidChange = this._onDidChange.event;\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis._state = Object.create(null);\n\t}\n\n\tget state(): INotificationViewItemProgressState {\n\t\treturn this._state;\n\t}\n\n\tinfinite(): void {\n\t\tif (this._state.infinite) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._state.infinite = true;\n\n\t\tthis._state.total = undefined;\n\t\tthis._state.worked = undefined;\n\t\tthis._state.done = undefined;\n\n\t\tthis._onDidChange.fire();\n\t}\n\n\tdone(): void {\n\t\tif (this._state.done) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._state.done = true;\n\n\t\tthis._state.infinite = undefined;\n\t\tthis._state.total = undefined;\n\t\tthis._state.worked = undefined;\n\n\t\tthis._onDidChange.fire();\n\t}\n\n\ttotal(value: number): void {\n\t\tif (this._state.total === value) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._state.total = value;\n\n\t\tthis._state.infinite = undefined;\n\t\tthis._state.done = undefined;\n\n\t\tthis._onDidChange.fire();\n\t}\n\n\tworked(value: number): void {\n\t\tif (typeof this._state.worked === 'number') {\n\t\t\tthis._state.worked += value;\n\t\t} else {\n\t\t\tthis._state.worked = value;\n\t\t}\n\n\t\tthis._state.infinite = undefined;\n\t\tthis._state.done = undefined;\n\n\t\tthis._onDidChange.fire();\n\t}\n}\n\nexport interface IMessageLink {\n\thref: string;\n\tname: string;\n\ttitle: string;\n\toffset: number;\n\tlength: number;\n}\n\nexport interface INotificationMessage {\n\traw: string;\n\toriginal: NotificationMessage;\n\tlinkedText: LinkedText;\n}\n\nexport class NotificationViewItem extends Disposable implements INotificationViewItem {\n\n\tprivate static readonly MAX_MESSAGE_LENGTH = 1000;\n\n\tprivate _expanded: boolean | undefined;\n\tprivate _visible: boolean = false;\n\n\tprivate _actions: INotificationActions | undefined;\n\tprivate _progress: NotificationViewItemProgress | undefined;\n\n\tprivate readonly _onDidChangeExpansion = this._register(new Emitter<void>());\n\treadonly onDidChangeExpansion = this._onDidChangeExpansion.event;\n\n\tprivate readonly _onDidClose = this._register(new Emitter<void>());\n\treadonly onDidClose = this._onDidClose.event;\n\n\tprivate readonly _onDidChangeContent = this._register(new Emitter<INotificationViewItemContentChangeEvent>());\n\treadonly onDidChangeContent = this._onDidChangeContent.event;\n\n\tprivate readonly _onDidChangeVisibility = this._register(new Emitter<boolean>());\n\treadonly onDidChangeVisibility = this._onDidChangeVisibility.event;\n\n\tstatic create(notification: INotification, filter: INotificationsFilter): INotificationViewItem | undefined {\n\t\tif (!notification?.message || isCancellationError(notification.message)) {\n\t\t\treturn undefined; // we need a message to show\n\t\t}\n\n\t\tlet severity: Severity;\n\t\tif (typeof notification.severity === 'number') {\n\t\t\tseverity = notification.severity;\n\t\t} else {\n\t\t\tseverity = Severity.Info;\n\t\t}\n\n\t\tconst message = NotificationViewItem.parseNotificationMessage(notification.message);\n\t\tif (!message) {\n\t\t\treturn undefined; // we need a message to show\n\t\t}\n\n\t\tlet actions: INotificationActions | undefined;\n\t\tif (notification.actions) {\n\t\t\tactions = notification.actions;\n\t\t} else if (isErrorWithActions(notification.message)) {\n\t\t\tactions = { primary: notification.message.actions };\n\t\t}\n\n\t\tlet priority = notification.priority ?? NotificationPriority.DEFAULT;\n\t\tif ((priority === NotificationPriority.DEFAULT || priority === NotificationPriority.OPTIONAL) && severity !== Severity.Error) {\n\t\t\tif (filter.global === NotificationsFilter.ERROR) {\n\t\t\t\tpriority = NotificationPriority.SILENT; // filtered globally\n\t\t\t} else if (isNotificationSource(notification.source) && filter.sources.get(notification.source.id) === NotificationsFilter.ERROR) {\n\t\t\t\tpriority = NotificationPriority.SILENT; // filtered by source\n\t\t\t}\n\t\t}\n\n\t\treturn new NotificationViewItem(notification.id, severity, notification.sticky, priority, message, notification.source, notification.progress, actions);\n\t}\n\n\tprivate static parseNotificationMessage(input: NotificationMessage): INotificationMessage | undefined {\n\t\tlet message: string | undefined;\n\t\tif (input instanceof Error) {\n\t\t\tmessage = toErrorMessage(input, false);\n\t\t} else if (typeof input === 'string') {\n\t\t\tmessage = input;\n\t\t}\n\n\t\tif (!message) {\n\t\t\treturn undefined; // we need a message to show\n\t\t}\n\n\t\tconst raw = message;\n\n\t\t// Make sure message is in the limits\n\t\tif (message.length > NotificationViewItem.MAX_MESSAGE_LENGTH) {\n\t\t\tmessage = `${message.substr(0, NotificationViewItem.MAX_MESSAGE_LENGTH)}...`;\n\t\t}\n\n\t\t// Remove newlines from messages as we do not support that and it makes link parsing hard\n\t\tmessage = message.replace(/(\\r\\n|\\n|\\r)/gm, ' ').trim();\n\n\t\t// Parse Links\n\t\tconst linkedText = parseLinkedText(message);\n\n\t\treturn { raw, linkedText, original: input };\n\t}\n\n\tprivate constructor(\n\t\treadonly id: string | undefined,\n\t\tprivate _severity: Severity,\n\t\tprivate _sticky: boolean | undefined,\n\t\tprivate _priority: NotificationPriority,\n\t\tprivate _message: INotificationMessage,\n\t\tprivate _source: string | INotificationSource | undefined,\n\t\tprogress: INotificationProgressProperties | undefined,\n\t\tactions?: INotificationActions\n\t) {\n\t\tsuper();\n\n\t\tif (progress) {\n\t\t\tthis.setProgress(progress);\n\t\t}\n\n\t\tthis.setActions(actions);\n\t}\n\n\tprivate setProgress(progress: INotificationProgressProperties): void {\n\t\tif (progress.infinite) {\n\t\t\tthis.progress.infinite();\n\t\t} else if (progress.total) {\n\t\t\tthis.progress.total(progress.total);\n\n\t\t\tif (progress.worked) {\n\t\t\t\tthis.progress.worked(progress.worked);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate setActions(actions: INotificationActions = { primary: [], secondary: [] }): void {\n\t\tthis._actions = {\n\t\t\tprimary: Array.isArray(actions.primary) ? actions.primary : [],\n\t\t\tsecondary: Array.isArray(actions.secondary) ? actions.secondary : []\n\t\t};\n\n\t\tthis._expanded = actions.primary && actions.primary.length > 0;\n\t}\n\n\tget canCollapse(): boolean {\n\t\treturn !this.hasActions;\n\t}\n\n\tget expanded(): boolean {\n\t\treturn !!this._expanded;\n\t}\n\n\tget severity(): Severity {\n\t\treturn this._severity;\n\t}\n\n\tget sticky(): boolean {\n\t\tif (this._sticky) {\n\t\t\treturn true; // explicitly sticky\n\t\t}\n\n\t\tconst hasActions = this.hasActions;\n\t\tif (\n\t\t\t(hasActions && this._severity === Severity.Error) || // notification errors with actions are sticky\n\t\t\t(!hasActions && this._expanded) ||\t\t\t\t\t // notifications that got expanded are sticky\n\t\t\t(this._progress && !this._progress.state.done)\t\t // notifications with running progress are sticky\n\t\t) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false; // not sticky\n\t}\n\n\tget priority(): NotificationPriority {\n\t\treturn this._priority;\n\t}\n\n\tprivate get hasActions(): boolean {\n\t\tif (!this._actions) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this._actions.primary) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn this._actions.primary.length > 0;\n\t}\n\n\tget hasProgress(): boolean {\n\t\treturn !!this._progress;\n\t}\n\n\tget progress(): INotificationViewItemProgress {\n\t\tif (!this._progress) {\n\t\t\tthis._progress = this._register(new NotificationViewItemProgress());\n\t\t\tthis._register(this._progress.onDidChange(() => this._onDidChangeContent.fire({ kind: NotificationViewItemContentChangeKind.PROGRESS })));\n\t\t}\n\n\t\treturn this._progress;\n\t}\n\n\tget message(): INotificationMessage {\n\t\treturn this._message;\n\t}\n\n\tget source(): string | undefined {\n\t\treturn typeof this._source === 'string' ? this._source : (this._source ? this._source.label : undefined);\n\t}\n\n\tget sourceId(): string | undefined {\n\t\treturn (this._source && typeof this._source !== 'string' && 'id' in this._source) ? this._source.id : undefined;\n\t}\n\n\tget actions(): INotificationActions | undefined {\n\t\treturn this._actions;\n\t}\n\n\tget visible(): boolean {\n\t\treturn this._visible;\n\t}\n\n\tupdateSeverity(severity: Severity): void {\n\t\tif (severity === this._severity) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._severity = severity;\n\t\tthis._onDidChangeContent.fire({ kind: NotificationViewItemContentChangeKind.SEVERITY });\n\t}\n\n\tupdateMessage(input: NotificationMessage): void {\n\t\tconst message = NotificationViewItem.parseNotificationMessage(input);\n\t\tif (!message || message.raw === this._message.raw) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._message = message;\n\t\tthis._onDidChangeContent.fire({ kind: NotificationViewItemContentChangeKind.MESSAGE });\n\t}\n\n\tupdateActions(actions?: INotificationActions): void {\n\t\tthis.setActions(actions);\n\t\tthis._onDidChangeContent.fire({ kind: NotificationViewItemContentChangeKind.ACTIONS });\n\t}\n\n\tupdateVisibility(visible: boolean): void {\n\t\tif (this._visible !== visible) {\n\t\t\tthis._visible = visible;\n\n\t\t\tthis._onDidChangeVisibility.fire(visible);\n\t\t}\n\t}\n\n\texpand(): void {\n\t\tif (this._expanded || !this.canCollapse) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._expanded = true;\n\t\tthis._onDidChangeExpansion.fire();\n\t}\n\n\tcollapse(skipEvents?: boolean): void {\n\t\tif (!this._expanded || !this.canCollapse) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._expanded = false;\n\n\t\tif (!skipEvents) {\n\t\t\tthis._onDidChangeExpansion.fire();\n\t\t}\n\t}\n\n\ttoggle(): void {\n\t\tif (this._expanded) {\n\t\t\tthis.collapse();\n\t\t} else {\n\t\t\tthis.expand();\n\t\t}\n\t}\n\n\tclose(): void {\n\t\tthis._onDidClose.fire();\n\n\t\tthis.dispose();\n\t}\n\n\tequals(other: INotificationViewItem): boolean {\n\t\tif (this.hasProgress || other.hasProgress) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (typeof this.id === 'string' || typeof other.id === 'string') {\n\t\t\treturn this.id === other.id;\n\t\t}\n\n\t\tif (typeof this._source === 'object') {\n\t\t\tif (this._source.label !== other.source || this._source.id !== other.sourceId) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else if (this._source !== other.source) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this._message.raw !== other.message.raw) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst primaryActions = this._actions?.primary || [];\n\t\tconst otherPrimaryActions = other.actions?.primary || [];\n\t\treturn equals(primaryActions, otherPrimaryActions, (action, otherAction) => (action.id + action.label) === (otherAction.id + otherAction.label));\n\t}\n}\n\nexport class ChoiceAction extends Action {\n\n\tprivate readonly _onDidRun = this._register(new Emitter<void>());\n\treadonly onDidRun = this._onDidRun.event;\n\n\tprivate readonly _keepOpen: boolean;\n\tprivate readonly _menu: ChoiceAction[] | undefined;\n\n\tconstructor(id: string, choice: IPromptChoice) {\n\t\tsuper(id, choice.label, undefined, true, async () => {\n\n\t\t\t// Pass to runner\n\t\t\tchoice.run();\n\n\t\t\t// Emit Event\n\t\t\tthis._onDidRun.fire();\n\t\t});\n\n\t\tthis._keepOpen = !!choice.keepOpen;\n\t\tthis._menu = !choice.isSecondary && (<IPromptChoiceWithMenu>choice).menu ? (<IPromptChoiceWithMenu>choice).menu.map((c, index) => new ChoiceAction(`${id}.${index}`, c)) : undefined;\n\t}\n\n\tget menu(): ChoiceAction[] | undefined {\n\t\treturn this._menu;\n\t}\n\n\tget keepOpen(): boolean {\n\t\treturn this._keepOpen;\n\t}\n}\n\nclass StatusMessageViewItem {\n\n\tstatic create(notification: NotificationMessage, options?: IStatusMessageOptions): IStatusMessageViewItem | undefined {\n\t\tif (!notification || isCancellationError(notification)) {\n\t\t\treturn undefined; // we need a message to show\n\t\t}\n\n\t\tlet message: string | undefined;\n\t\tif (notification instanceof Error) {\n\t\t\tmessage = toErrorMessage(notification, false);\n\t\t} else if (typeof notification === 'string') {\n\t\t\tmessage = notification;\n\t\t}\n\n\t\tif (!message) {\n\t\t\treturn undefined; // we need a message to show\n\t\t}\n\n\t\treturn { message, options };\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { INotification, INotificationHandle, INotificationActions, INotificationProgress, NoOpNotification, Severity, NotificationMessage, IPromptChoice, IStatusMessageOptions, NotificationsFilter, INotificationProgressProperties, IPromptChoiceWithMenu, NotificationPriority, INotificationSource, isNotificationSource, IStatusHandle } from '../../platform/notification/common/notification.js';\nimport { toErrorMessage, isErrorWithActions } from '../../base/common/errorMessage.js';\nimport { Event, Emitter } from '../../base/common/event.js';\nimport { Disposable } from '../../base/common/lifecycle.js';\nimport { isCancellationError } from '../../base/common/errors.js';\nimport { Action } from '../../base/common/actions.js';\nimport { equals } from '../../base/common/arrays.js';\nimport { parseLinkedText, LinkedText } from '../../base/common/linkedText.js';\nimport { mapsStrictEqualIgnoreOrder } from '../../base/common/map.js';\n\nexport interface INotificationsModel {\n\n\t//#region Notifications as Toasts/Center\n\n\treadonly notifications: INotificationViewItem[];\n\n\treadonly onDidChangeNotification: Event<INotificationChangeEvent>;\n\treadonly onDidChangeFilter: Event<Partial<INotificationsFilter>>;\n\n\taddNotification(notification: INotification): INotificationHandle;\n\n\tsetFilter(filter: Partial<INotificationsFilter>): void;\n\n\t//#endregion\n\n\n\t//#region Notifications as Status\n\n\treadonly statusMessage: IStatusMessageViewItem | undefined;\n\n\treadonly onDidChangeStatusMessage: Event<IStatusMessageChangeEvent>;\n\n\tshowStatusMessage(message: NotificationMessage, options?: IStatusMessageOptions): IStatusHandle;\n\n\t//#endregion\n}\n\nexport const enum NotificationChangeType {\n\n\t/**\n\t * A notification was added.\n\t */\n\tADD,\n\n\t/**\n\t * A notification changed. Check `detail` property\n\t * on the event for additional information.\n\t */\n\tCHANGE,\n\n\t/**\n\t * A notification expanded or collapsed.\n\t */\n\tEXPAND_COLLAPSE,\n\n\t/**\n\t * A notification was removed.\n\t */\n\tREMOVE\n}\n\nexport interface INotificationChangeEvent {\n\n\t/**\n\t * The index this notification has in the list of notifications.\n\t */\n\tindex: number;\n\n\t/**\n\t * The notification this change is about.\n\t */\n\titem: INotificationViewItem;\n\n\t/**\n\t * The kind of notification change.\n\t */\n\tkind: NotificationChangeType;\n\n\t/**\n\t * Additional detail about the item change. Only applies to\n\t * `NotificationChangeType.CHANGE`.\n\t */\n\tdetail?: NotificationViewItemContentChangeKind;\n}\n\nexport const enum StatusMessageChangeType {\n\tADD,\n\tREMOVE\n}\n\nexport interface IStatusMessageViewItem {\n\tmessage: string;\n\toptions?: IStatusMessageOptions;\n}\n\nexport interface IStatusMessageChangeEvent {\n\n\t/**\n\t * The status message item this change is about.\n\t */\n\titem: IStatusMessageViewItem;\n\n\t/**\n\t * The kind of status message change.\n\t */\n\tkind: StatusMessageChangeType;\n}\n\nexport class NotificationHandle extends Disposable implements INotificationHandle {\n\n\tprivate readonly _onDidClose = this._register(new Emitter<void>());\n\treadonly onDidClose = this._onDidClose.event;\n\n\tprivate readonly _onDidChangeVisibility = this._register(new Emitter<boolean>());\n\treadonly onDidChangeVisibility = this._onDidChangeVisibility.event;\n\n\tconstructor(private readonly item: INotificationViewItem, private readonly onClose: (item: INotificationViewItem) => void) {\n\t\tsuper();\n\n\t\tthis.registerListeners();\n\t}\n\n\tprivate registerListeners(): void {\n\n\t\t// Visibility\n\t\tthis._register(this.item.onDidChangeVisibility(visible => this._onDidChangeVisibility.fire(visible)));\n\n\t\t// Closing\n\t\tEvent.once(this.item.onDidClose)(() => {\n\t\t\tthis._onDidClose.fire();\n\n\t\t\tthis.dispose();\n\t\t});\n\t}\n\n\tget progress(): INotificationProgress {\n\t\treturn this.item.progress;\n\t}\n\n\tupdateSeverity(severity: Severity): void {\n\t\tthis.item.updateSeverity(severity);\n\t}\n\n\tupdateMessage(message: NotificationMessage): void {\n\t\tthis.item.updateMessage(message);\n\t}\n\n\tupdateActions(actions?: INotificationActions): void {\n\t\tthis.item.updateActions(actions);\n\t}\n\n\tclose(): void {\n\t\tthis.onClose(this.item);\n\n\t\tthis.dispose();\n\t}\n}\n\nexport interface INotificationsFilter {\n\treadonly global: NotificationsFilter;\n\treadonly sources: Map<string, NotificationsFilter>;\n}\n\nexport class NotificationsModel extends Disposable implements INotificationsModel {\n\n\tprivate static readonly NO_OP_NOTIFICATION = new NoOpNotification();\n\n\tprivate readonly _onDidChangeNotification = this._register(new Emitter<INotificationChangeEvent>());\n\treadonly onDidChangeNotification = this._onDidChangeNotification.event;\n\n\tprivate readonly _onDidChangeStatusMessage = this._register(new Emitter<IStatusMessageChangeEvent>());\n\treadonly onDidChangeStatusMessage = this._onDidChangeStatusMessage.event;\n\n\tprivate readonly _onDidChangeFilter = this._register(new Emitter<Partial<INotificationsFilter>>());\n\treadonly onDidChangeFilter = this._onDidChangeFilter.event;\n\n\tprivate readonly _notifications: INotificationViewItem[] = [];\n\tget notifications(): INotificationViewItem[] { return this._notifications; }\n\n\tprivate _statusMessage: IStatusMessageViewItem | undefined;\n\tget statusMessage(): IStatusMessageViewItem | undefined { return this._statusMessage; }\n\n\tprivate readonly filter = {\n\t\tglobal: NotificationsFilter.OFF,\n\t\tsources: new Map<string, NotificationsFilter>()\n\t};\n\n\tsetFilter(filter: Partial<INotificationsFilter>): void {\n\t\tlet globalChanged = false;\n\t\tif (typeof filter.global === 'number') {\n\t\t\tglobalChanged = this.filter.global !== filter.global;\n\t\t\tthis.filter.global = filter.global;\n\t\t}\n\n\t\tlet sourcesChanged = false;\n\t\tif (filter.sources) {\n\t\t\tsourcesChanged = !mapsStrictEqualIgnoreOrder(this.filter.sources, filter.sources);\n\t\t\tthis.filter.sources = filter.sources;\n\t\t}\n\n\t\tif (globalChanged || sourcesChanged) {\n\t\t\tthis._onDidChangeFilter.fire({\n\t\t\t\tglobal: globalChanged ? filter.global : undefined,\n\t\t\t\tsources: sourcesChanged ? filter.sources : undefined\n\t\t\t});\n\t\t}\n\t}\n\n\taddNotification(notification: INotification): INotificationHandle {\n\t\tconst item = this.createViewItem(notification);\n\t\tif (!item) {\n\t\t\treturn NotificationsModel.NO_OP_NOTIFICATION; // return early if this is a no-op\n\t\t}\n\n\t\t// Deduplicate\n\t\tconst duplicate = this.findNotification(item);\n\t\tduplicate?.close();\n\n\t\t// Add to list as first entry\n\t\tthis._notifications.splice(0, 0, item);\n\n\t\t// Events\n\t\tthis._onDidChangeNotification.fire({ item, index: 0, kind: NotificationChangeType.ADD });\n\n\t\t// Wrap into handle\n\t\treturn new NotificationHandle(item, item => this.onClose(item));\n\t}\n\n\tprivate onClose(item: INotificationViewItem): void {\n\t\tconst liveItem = this.findNotification(item);\n\t\tif (liveItem && liveItem !== item) {\n\t\t\tliveItem.close(); // item could have been replaced with another one, make sure to close the live item\n\t\t} else {\n\t\t\titem.close(); // otherwise just close the item that was passed in\n\t\t}\n\t}\n\n\tprivate findNotification(item: INotificationViewItem): INotificationViewItem | undefined {\n\t\treturn this._notifications.find(notification => notification.equals(item));\n\t}\n\n\tprivate createViewItem(notification: INotification): INotificationViewItem | undefined {\n\t\tconst item = NotificationViewItem.create(notification, this.filter);\n\t\tif (!item) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// Item Events\n\t\tconst fireNotificationChangeEvent = (kind: NotificationChangeType, detail?: NotificationViewItemContentChangeKind) => {\n\t\t\tconst index = this._notifications.indexOf(item);\n\t\t\tif (index >= 0) {\n\t\t\t\tthis._onDidChangeNotification.fire({ item, index, kind, detail });\n\t\t\t}\n\t\t};\n\n\t\tconst itemExpansionChangeListener = item.onDidChangeExpansion(() => fireNotificationChangeEvent(NotificationChangeType.EXPAND_COLLAPSE));\n\t\tconst itemContentChangeListener = item.onDidChangeContent(e => fireNotificationChangeEvent(NotificationChangeType.CHANGE, e.kind));\n\n\t\tEvent.once(item.onDidClose)(() => {\n\t\t\titemExpansionChangeListener.dispose();\n\t\t\titemContentChangeListener.dispose();\n\n\t\t\tconst index = this._notifications.indexOf(item);\n\t\t\tif (index >= 0) {\n\t\t\t\tthis._notifications.splice(index, 1);\n\t\t\t\tthis._onDidChangeNotification.fire({ item, index, kind: NotificationChangeType.REMOVE });\n\t\t\t}\n\t\t});\n\n\t\treturn item;\n\t}\n\n\tshowStatusMessage(message: NotificationMessage, options?: IStatusMessageOptions): IStatusHandle {\n\t\tconst item = StatusMessageViewItem.create(message, options);\n\t\tif (!item) {\n\t\t\treturn { close: () => { } };\n\t\t}\n\n\t\tthis._statusMessage = item;\n\t\tthis._onDidChangeStatusMessage.fire({ kind: StatusMessageChangeType.ADD, item });\n\n\t\treturn {\n\t\t\tclose: () => {\n\t\t\t\tif (this._statusMessage === item) {\n\t\t\t\t\tthis._statusMessage = undefined;\n\t\t\t\t\tthis._onDidChangeStatusMessage.fire({ kind: StatusMessageChangeType.REMOVE, item });\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n}\n\nexport interface INotificationViewItem {\n\treadonly id: string | undefined;\n\treadonly severity: Severity;\n\treadonly sticky: boolean;\n\treadonly priority: NotificationPriority;\n\treadonly message: INotificationMessage;\n\treadonly source: string | undefined;\n\treadonly sourceId: string | undefined;\n\treadonly actions: INotificationActions | undefined;\n\treadonly progress: INotificationViewItemProgress;\n\n\treadonly expanded: boolean;\n\treadonly visible: boolean;\n\treadonly canCollapse: boolean;\n\treadonly hasProgress: boolean;\n\n\treadonly onDidChangeExpansion: Event<void>;\n\treadonly onDidChangeVisibility: Event<boolean>;\n\treadonly onDidChangeContent: Event<INotificationViewItemContentChangeEvent>;\n\treadonly onDidClose: Event<void>;\n\n\texpand(): void;\n\tcollapse(skipEvents?: boolean): void;\n\ttoggle(): void;\n\n\tupdateSeverity(severity: Severity): void;\n\tupdateMessage(message: NotificationMessage): void;\n\tupdateActions(actions?: INotificationActions): void;\n\n\tupdateVisibility(visible: boolean): void;\n\n\tclose(): void;\n\n\tequals(item: INotificationViewItem): boolean;\n}\n\nexport function isNotificationViewItem(obj: unknown): obj is INotificationViewItem {\n\treturn obj instanceof NotificationViewItem;\n}\n\nexport const enum NotificationViewItemContentChangeKind {\n\tSEVERITY,\n\tMESSAGE,\n\tACTIONS,\n\tPROGRESS\n}\n\nexport interface INotificationViewItemContentChangeEvent {\n\tkind: NotificationViewItemContentChangeKind;\n}\n\nexport interface INotificationViewItemProgressState {\n\tinfinite?: boolean;\n\ttotal?: number;\n\tworked?: number;\n\tdone?: boolean;\n}\n\nexport interface INotificationViewItemProgress extends INotificationProgress {\n\treadonly state: INotificationViewItemProgressState;\n\n\tdispose(): void;\n}\n\nexport class NotificationViewItemProgress extends Disposable implements INotificationViewItemProgress {\n\tprivate readonly _state: INotificationViewItemProgressState;\n\n\tprivate readonly _onDidChange = this._register(new Emitter<void>());\n\treadonly onDidChange = this._onDidChange.event;\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis._state = Object.create(null);\n\t}\n\n\tget state(): INotificationViewItemProgressState {\n\t\treturn this._state;\n\t}\n\n\tinfinite(): void {\n\t\tif (this._state.infinite) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._state.infinite = true;\n\n\t\tthis._state.total = undefined;\n\t\tthis._state.worked = undefined;\n\t\tthis._state.done = undefined;\n\n\t\tthis._onDidChange.fire();\n\t}\n\n\tdone(): void {\n\t\tif (this._state.done) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._state.done = true;\n\n\t\tthis._state.infinite = undefined;\n\t\tthis._state.total = undefined;\n\t\tthis._state.worked = undefined;\n\n\t\tthis._onDidChange.fire();\n\t}\n\n\ttotal(value: number): void {\n\t\tif (this._state.total === value) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._state.total = value;\n\n\t\tthis._state.infinite = undefined;\n\t\tthis._state.done = undefined;\n\n\t\tthis._onDidChange.fire();\n\t}\n\n\tworked(value: number): void {\n\t\tif (typeof this._state.worked === 'number') {\n\t\t\tthis._state.worked += value;\n\t\t} else {\n\t\t\tthis._state.worked = value;\n\t\t}\n\n\t\tthis._state.infinite = undefined;\n\t\tthis._state.done = undefined;\n\n\t\tthis._onDidChange.fire();\n\t}\n}\n\nexport interface IMessageLink {\n\thref: string;\n\tname: string;\n\ttitle: string;\n\toffset: number;\n\tlength: number;\n}\n\nexport interface INotificationMessage {\n\traw: string;\n\toriginal: NotificationMessage;\n\tlinkedText: LinkedText;\n}\n\nexport class NotificationViewItem extends Disposable implements INotificationViewItem {\n\n\tprivate static readonly MAX_MESSAGE_LENGTH = 1000;\n\n\tprivate _expanded: boolean | undefined;\n\tprivate _visible: boolean = false;\n\n\tprivate _actions: INotificationActions | undefined;\n\tprivate _progress: NotificationViewItemProgress | undefined;\n\n\tprivate readonly _onDidChangeExpansion = this._register(new Emitter<void>());\n\treadonly onDidChangeExpansion = this._onDidChangeExpansion.event;\n\n\tprivate readonly _onDidClose = this._register(new Emitter<void>());\n\treadonly onDidClose = this._onDidClose.event;\n\n\tprivate readonly _onDidChangeContent = this._register(new Emitter<INotificationViewItemContentChangeEvent>());\n\treadonly onDidChangeContent = this._onDidChangeContent.event;\n\n\tprivate readonly _onDidChangeVisibility = this._register(new Emitter<boolean>());\n\treadonly onDidChangeVisibility = this._onDidChangeVisibility.event;\n\n\tstatic create(notification: INotification, filter: INotificationsFilter): INotificationViewItem | undefined {\n\t\tif (!notification?.message || isCancellationError(notification.message)) {\n\t\t\treturn undefined; // we need a message to show\n\t\t}\n\n\t\tlet severity: Severity;\n\t\tif (typeof notification.severity === 'number') {\n\t\t\tseverity = notification.severity;\n\t\t} else {\n\t\t\tseverity = Severity.Info;\n\t\t}\n\n\t\tconst message = NotificationViewItem.parseNotificationMessage(notification.message);\n\t\tif (!message) {\n\t\t\treturn undefined; // we need a message to show\n\t\t}\n\n\t\tlet actions: INotificationActions | undefined;\n\t\tif (notification.actions) {\n\t\t\tactions = notification.actions;\n\t\t} else if (isErrorWithActions(notification.message)) {\n\t\t\tactions = { primary: notification.message.actions };\n\t\t}\n\n\t\tlet priority = notification.priority ?? NotificationPriority.DEFAULT;\n\t\tif ((priority === NotificationPriority.DEFAULT || priority === NotificationPriority.OPTIONAL) && severity !== Severity.Error) {\n\t\t\tif (filter.global === NotificationsFilter.ERROR) {\n\t\t\t\tpriority = NotificationPriority.SILENT; // filtered globally\n\t\t\t} else if (isNotificationSource(notification.source) && filter.sources.get(notification.source.id) === NotificationsFilter.ERROR) {\n\t\t\t\tpriority = NotificationPriority.SILENT; // filtered by source\n\t\t\t}\n\t\t}\n\n\t\treturn new NotificationViewItem(notification.id, severity, notification.sticky, priority, message, notification.source, notification.progress, actions);\n\t}\n\n\tprivate static parseNotificationMessage(input: NotificationMessage): INotificationMessage | undefined {\n\t\tlet message: string | undefined;\n\t\tif (input instanceof Error) {\n\t\t\tmessage = toErrorMessage(input, false);\n\t\t} else if (typeof input === 'string') {\n\t\t\tmessage = input;\n\t\t}\n\n\t\tif (!message) {\n\t\t\treturn undefined; // we need a message to show\n\t\t}\n\n\t\tconst raw = message;\n\n\t\t// Make sure message is in the limits\n\t\tif (message.length > NotificationViewItem.MAX_MESSAGE_LENGTH) {\n\t\t\tmessage = `${message.substr(0, NotificationViewItem.MAX_MESSAGE_LENGTH)}...`;\n\t\t}\n\n\t\t// Remove newlines from messages as we do not support that and it makes link parsing hard\n\t\tmessage = message.replace(/(\\r\\n|\\n|\\r)/gm, ' ').trim();\n\n\t\t// Parse Links\n\t\tconst linkedText = parseLinkedText(message);\n\n\t\treturn { raw, linkedText, original: input };\n\t}\n\n\tprivate constructor(\n\t\treadonly id: string | undefined,\n\t\tprivate _severity: Severity,\n\t\tprivate _sticky: boolean | undefined,\n\t\tprivate _priority: NotificationPriority,\n\t\tprivate _message: INotificationMessage,\n\t\tprivate _source: string | INotificationSource | undefined,\n\t\tprogress: INotificationProgressProperties | undefined,\n\t\tactions?: INotificationActions\n\t) {\n\t\tsuper();\n\n\t\tif (progress) {\n\t\t\tthis.setProgress(progress);\n\t\t}\n\n\t\tthis.setActions(actions);\n\t}\n\n\tprivate setProgress(progress: INotificationProgressProperties): void {\n\t\tif (progress.infinite) {\n\t\t\tthis.progress.infinite();\n\t\t} else if (progress.total) {\n\t\t\tthis.progress.total(progress.total);\n\n\t\t\tif (progress.worked) {\n\t\t\t\tthis.progress.worked(progress.worked);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate setActions(actions: INotificationActions = { primary: [], secondary: [] }): void {\n\t\tthis._actions = {\n\t\t\tprimary: Array.isArray(actions.primary) ? actions.primary : [],\n\t\t\tsecondary: Array.isArray(actions.secondary) ? actions.secondary : []\n\t\t};\n\n\t\tthis._expanded = actions.primary && actions.primary.length > 0;\n\t}\n\n\tget canCollapse(): boolean {\n\t\treturn !this.hasActions;\n\t}\n\n\tget expanded(): boolean {\n\t\treturn !!this._expanded;\n\t}\n\n\tget severity(): Severity {\n\t\treturn this._severity;\n\t}\n\n\tget sticky(): boolean {\n\t\tif (this._sticky) {\n\t\t\treturn true; // explicitly sticky\n\t\t}\n\n\t\tconst hasActions = this.hasActions;\n\t\tif (\n\t\t\t(hasActions && this._severity === Severity.Error) || // notification errors with actions are sticky\n\t\t\t(!hasActions && this._expanded) ||\t\t\t\t\t // notifications that got expanded are sticky\n\t\t\t(this._progress && !this._progress.state.done)\t\t // notifications with running progress are sticky\n\t\t) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false; // not sticky\n\t}\n\n\tget priority(): NotificationPriority {\n\t\treturn this._priority;\n\t}\n\n\tprivate get hasActions(): boolean {\n\t\tif (!this._actions) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!this._actions.primary) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn this._actions.primary.length > 0;\n\t}\n\n\tget hasProgress(): boolean {\n\t\treturn !!this._progress;\n\t}\n\n\tget progress(): INotificationViewItemProgress {\n\t\tif (!this._progress) {\n\t\t\tthis._progress = this._register(new NotificationViewItemProgress());\n\t\t\tthis._register(this._progress.onDidChange(() => this._onDidChangeContent.fire({ kind: NotificationViewItemContentChangeKind.PROGRESS })));\n\t\t}\n\n\t\treturn this._progress;\n\t}\n\n\tget message(): INotificationMessage {\n\t\treturn this._message;\n\t}\n\n\tget source(): string | undefined {\n\t\treturn typeof this._source === 'string' ? this._source : (this._source ? this._source.label : undefined);\n\t}\n\n\tget sourceId(): string | undefined {\n\t\treturn (this._source && typeof this._source !== 'string' && 'id' in this._source) ? this._source.id : undefined;\n\t}\n\n\tget actions(): INotificationActions | undefined {\n\t\treturn this._actions;\n\t}\n\n\tget visible(): boolean {\n\t\treturn this._visible;\n\t}\n\n\tupdateSeverity(severity: Severity): void {\n\t\tif (severity === this._severity) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._severity = severity;\n\t\tthis._onDidChangeContent.fire({ kind: NotificationViewItemContentChangeKind.SEVERITY });\n\t}\n\n\tupdateMessage(input: NotificationMessage): void {\n\t\tconst message = NotificationViewItem.parseNotificationMessage(input);\n\t\tif (!message || message.raw === this._message.raw) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._message = message;\n\t\tthis._onDidChangeContent.fire({ kind: NotificationViewItemContentChangeKind.MESSAGE });\n\t}\n\n\tupdateActions(actions?: INotificationActions): void {\n\t\tthis.setActions(actions);\n\t\tthis._onDidChangeContent.fire({ kind: NotificationViewItemContentChangeKind.ACTIONS });\n\t}\n\n\tupdateVisibility(visible: boolean): void {\n\t\tif (this._visible !== visible) {\n\t\t\tthis._visible = visible;\n\n\t\t\tthis._onDidChangeVisibility.fire(visible);\n\t\t}\n\t}\n\n\texpand(): void {\n\t\tif (this._expanded || !this.canCollapse) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._expanded = true;\n\t\tthis._onDidChangeExpansion.fire();\n\t}\n\n\tcollapse(skipEvents?: boolean): void {\n\t\tif (!this._expanded || !this.canCollapse) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._expanded = false;\n\n\t\tif (!skipEvents) {\n\t\t\tthis._onDidChangeExpansion.fire();\n\t\t}\n\t}\n\n\ttoggle(): void {\n\t\tif (this._expanded) {\n\t\t\tthis.collapse();\n\t\t} else {\n\t\t\tthis.expand();\n\t\t}\n\t}\n\n\tclose(): void {\n\t\tthis._onDidClose.fire();\n\n\t\tthis.dispose();\n\t}\n\n\tequals(other: INotificationViewItem): boolean {\n\t\tif (this.hasProgress || other.hasProgress) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (typeof this.id === 'string' || typeof other.id === 'string') {\n\t\t\treturn this.id === other.id;\n\t\t}\n\n\t\tif (typeof this._source === 'object') {\n\t\t\tif (this._source.label !== other.source || this._source.id !== other.sourceId) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else if (this._source !== other.source) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this._message.raw !== other.message.raw) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst primaryActions = this._actions?.primary || [];\n\t\tconst otherPrimaryActions = other.actions?.primary || [];\n\t\treturn equals(primaryActions, otherPrimaryActions, (action, otherAction) => (action.id + action.label) === (otherAction.id + otherAction.label));\n\t}\n}\n\nexport class ChoiceAction extends Action {\n\n\tprivate readonly _onDidRun = this._register(new Emitter<void>());\n\treadonly onDidRun = this._onDidRun.event;\n\n\tprivate readonly _keepOpen: boolean;\n\tprivate readonly _menu: ChoiceAction[] | undefined;\n\n\tconstructor(id: string, choice: IPromptChoice) {\n\t\tsuper(id, choice.label, undefined, true, async () => {\n\n\t\t\t// Pass to runner\n\t\t\tchoice.run();\n\n\t\t\t// Emit Event\n\t\t\tthis._onDidRun.fire();\n\t\t});\n\n\t\tthis._keepOpen = !!choice.keepOpen;\n\t\tthis._menu = !choice.isSecondary && (<IPromptChoiceWithMenu>choice).menu ? (<IPromptChoiceWithMenu>choice).menu.map((c, index) => new ChoiceAction(`${id}.${index}`, c)) : undefined;\n\t}\n\n\tget menu(): ChoiceAction[] | undefined {\n\t\treturn this._menu;\n\t}\n\n\tget keepOpen(): boolean {\n\t\treturn this._keepOpen;\n\t}\n}\n\nclass StatusMessageViewItem {\n\n\tstatic create(notification: NotificationMessage, options?: IStatusMessageOptions): IStatusMessageViewItem | undefined {\n\t\tif (!notification || isCancellationError(notification)) {\n\t\t\treturn undefined; // we need a message to show\n\t\t}\n\n\t\tlet message: string | undefined;\n\t\tif (notification instanceof Error) {\n\t\t\tmessage = toErrorMessage(notification, false);\n\t\t} else if (typeof notification === 'string') {\n\t\t\tmessage = notification;\n\t\t}\n\n\t\tif (!message) {\n\t\t\treturn undefined; // we need a message to show\n\t\t}\n\n\t\treturn { message, options };\n\t}\n}\n"]}