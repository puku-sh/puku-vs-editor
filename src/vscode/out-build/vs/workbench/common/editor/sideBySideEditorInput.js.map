{"version":3,"sources":["vs/workbench/common/editor/sideBySideEditorInput.ts"],"names":[],"mappings":"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","file":"sideBySideEditorInput.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Event } from '../../../base/common/event.js';\nimport { IMarkdownString } from '../../../base/common/htmlContent.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { localize } from '../../../nls.js';\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\nimport { Registry } from '../../../platform/registry/common/platform.js';\nimport { EditorInputCapabilities, GroupIdentifier, ISaveOptions, IRevertOptions, EditorExtensions, IEditorFactoryRegistry, IEditorSerializer, ISideBySideEditorInput, IUntypedEditorInput, isResourceSideBySideEditorInput, isDiffEditorInput, isResourceDiffEditorInput, IResourceSideBySideEditorInput, findViewStateForEditor, IMoveResult, isEditorInput, isResourceEditorInput, Verbosity, isResourceMergeEditorInput, isResourceMultiDiffEditorInput } from '../editor.js';\nimport { EditorInput, IUntypedEditorOptions } from './editorInput.js';\nimport { IEditorService } from '../../services/editor/common/editorService.js';\n\n/**\n * Side by side editor inputs that have a primary and secondary side.\n */\nexport class SideBySideEditorInput extends EditorInput implements ISideBySideEditorInput {\n\n\tstatic readonly ID: string = 'workbench.editorinputs.sidebysideEditorInput';\n\n\toverride get typeId(): string {\n\t\treturn SideBySideEditorInput.ID;\n\t}\n\n\toverride get capabilities(): EditorInputCapabilities {\n\n\t\t// Use primary capabilities as main capabilities...\n\t\tlet capabilities = this.primary.capabilities;\n\n\t\t// ...with the exception of `CanSplitInGroup` which\n\t\t// is only relevant to single editors.\n\t\tcapabilities &= ~EditorInputCapabilities.CanSplitInGroup;\n\n\t\t// Trust: should be considered for both sides\n\t\tif (this.secondary.hasCapability(EditorInputCapabilities.RequiresTrust)) {\n\t\t\tcapabilities |= EditorInputCapabilities.RequiresTrust;\n\t\t}\n\n\t\t// Singleton: should be considered for both sides\n\t\tif (this.secondary.hasCapability(EditorInputCapabilities.Singleton)) {\n\t\t\tcapabilities |= EditorInputCapabilities.Singleton;\n\t\t}\n\n\t\t// Indicate we show more than one editor\n\t\tcapabilities |= EditorInputCapabilities.MultipleEditors;\n\n\t\treturn capabilities;\n\t}\n\n\tget resource(): URI | undefined {\n\t\tif (this.hasIdenticalSides) {\n\t\t\t// pretend to be just primary side when being asked for a resource\n\t\t\t// in case both sides are the same. this can help when components\n\t\t\t// want to identify this input among others (e.g. in history).\n\t\t\treturn this.primary.resource;\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tprivate hasIdenticalSides: boolean;\n\n\tconstructor(\n\t\tprotected readonly preferredName: string | undefined,\n\t\tprotected readonly preferredDescription: string | undefined,\n\t\treadonly secondary: EditorInput,\n\t\treadonly primary: EditorInput,\n\t\t@IEditorService private readonly editorService: IEditorService\n\t) {\n\t\tsuper();\n\n\t\tthis.hasIdenticalSides = this.primary.matches(this.secondary);\n\n\t\tthis.registerListeners();\n\t}\n\n\tprivate registerListeners(): void {\n\n\t\t// When the primary or secondary input gets disposed, dispose this diff editor input\n\t\tthis._register(Event.once(Event.any(this.primary.onWillDispose, this.secondary.onWillDispose))(() => {\n\t\t\tif (!this.isDisposed()) {\n\t\t\t\tthis.dispose();\n\t\t\t}\n\t\t}));\n\n\t\t// Re-emit some events from the primary side to the outside\n\t\tthis._register(this.primary.onDidChangeDirty(() => this._onDidChangeDirty.fire()));\n\n\t\t// Re-emit some events from both sides to the outside\n\t\tthis._register(this.primary.onDidChangeCapabilities(() => this._onDidChangeCapabilities.fire()));\n\t\tthis._register(this.secondary.onDidChangeCapabilities(() => this._onDidChangeCapabilities.fire()));\n\t\tthis._register(this.primary.onDidChangeLabel(() => this._onDidChangeLabel.fire()));\n\t\tthis._register(this.secondary.onDidChangeLabel(() => this._onDidChangeLabel.fire()));\n\t}\n\n\toverride getName(): string {\n\t\tconst preferredName = this.getPreferredName();\n\t\tif (preferredName) {\n\t\t\treturn preferredName;\n\t\t}\n\n\t\tif (this.hasIdenticalSides) {\n\t\t\treturn this.primary.getName(); // keep name concise when same editor is opened side by side\n\t\t}\n\n\t\treturn localize('sideBySideLabels', \"{0} - {1}\", this.secondary.getName(), this.primary.getName());\n\t}\n\n\tgetPreferredName(): string | undefined {\n\t\treturn this.preferredName;\n\t}\n\n\toverride getDescription(verbosity?: Verbosity): string | undefined {\n\t\tconst preferredDescription = this.getPreferredDescription();\n\t\tif (preferredDescription) {\n\t\t\treturn preferredDescription;\n\t\t}\n\n\t\tif (this.hasIdenticalSides) {\n\t\t\treturn this.primary.getDescription(verbosity);\n\t\t}\n\n\t\treturn super.getDescription(verbosity);\n\t}\n\n\tgetPreferredDescription(): string | undefined {\n\t\treturn this.preferredDescription;\n\t}\n\n\toverride getTitle(verbosity?: Verbosity): string {\n\t\tlet title: string;\n\t\tif (this.hasIdenticalSides) {\n\t\t\ttitle = this.primary.getTitle(verbosity) ?? this.getName();\n\t\t} else {\n\t\t\ttitle = super.getTitle(verbosity);\n\t\t}\n\n\t\tconst preferredTitle = this.getPreferredTitle();\n\t\tif (preferredTitle) {\n\t\t\ttitle = `${preferredTitle} (${title})`;\n\t\t}\n\n\t\treturn title;\n\t}\n\n\tprotected getPreferredTitle(): string | undefined {\n\t\tif (this.preferredName && this.preferredDescription) {\n\t\t\treturn `${this.preferredName} ${this.preferredDescription}`;\n\t\t}\n\n\t\tif (this.preferredName || this.preferredDescription) {\n\t\t\treturn this.preferredName ?? this.preferredDescription;\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\toverride getLabelExtraClasses(): string[] {\n\t\tif (this.hasIdenticalSides) {\n\t\t\treturn this.primary.getLabelExtraClasses();\n\t\t}\n\n\t\treturn super.getLabelExtraClasses();\n\t}\n\n\toverride getAriaLabel(): string {\n\t\tif (this.hasIdenticalSides) {\n\t\t\treturn this.primary.getAriaLabel();\n\t\t}\n\n\t\treturn super.getAriaLabel();\n\t}\n\n\toverride getTelemetryDescriptor(): { [key: string]: unknown } {\n\t\tconst descriptor = this.primary.getTelemetryDescriptor();\n\n\t\treturn { ...descriptor, ...super.getTelemetryDescriptor() };\n\t}\n\n\toverride isDirty(): boolean {\n\t\treturn this.primary.isDirty();\n\t}\n\n\toverride isSaving(): boolean {\n\t\treturn this.primary.isSaving();\n\t}\n\n\toverride async save(group: GroupIdentifier, options?: ISaveOptions): Promise<EditorInput | IUntypedEditorInput | undefined> {\n\t\tconst primarySaveResult = await this.primary.save(group, options);\n\n\t\treturn this.saveResultToEditor(primarySaveResult);\n\t}\n\n\toverride async saveAs(group: GroupIdentifier, options?: ISaveOptions): Promise<EditorInput | IUntypedEditorInput | undefined> {\n\t\tconst primarySaveResult = await this.primary.saveAs(group, options);\n\n\t\treturn this.saveResultToEditor(primarySaveResult);\n\t}\n\n\tprivate saveResultToEditor(primarySaveResult: EditorInput | IUntypedEditorInput | undefined): EditorInput | IUntypedEditorInput | undefined {\n\t\tif (!primarySaveResult || !this.hasIdenticalSides) {\n\t\t\treturn primarySaveResult;\n\t\t}\n\n\t\tif (this.primary.matches(primarySaveResult)) {\n\t\t\treturn this;\n\t\t}\n\n\t\tif (primarySaveResult instanceof EditorInput) {\n\t\t\treturn new SideBySideEditorInput(this.preferredName, this.preferredDescription, primarySaveResult, primarySaveResult, this.editorService);\n\t\t}\n\n\t\tif (!isResourceDiffEditorInput(primarySaveResult) && !isResourceMultiDiffEditorInput(primarySaveResult) && !isResourceSideBySideEditorInput(primarySaveResult) && !isResourceMergeEditorInput(primarySaveResult)) {\n\t\t\treturn {\n\t\t\t\tprimary: primarySaveResult,\n\t\t\t\tsecondary: primarySaveResult,\n\t\t\t\tlabel: this.preferredName,\n\t\t\t\tdescription: this.preferredDescription\n\t\t\t};\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\toverride revert(group: GroupIdentifier, options?: IRevertOptions): Promise<void> {\n\t\treturn this.primary.revert(group, options);\n\t}\n\n\toverride async rename(group: GroupIdentifier, target: URI): Promise<IMoveResult | undefined> {\n\t\tif (!this.hasIdenticalSides) {\n\t\t\treturn; // currently only enabled when both sides are identical\n\t\t}\n\n\t\t// Forward rename to primary side\n\t\tconst renameResult = await this.primary.rename(group, target);\n\t\tif (!renameResult) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// Build a side-by-side result from the rename result\n\n\t\tif (isEditorInput(renameResult.editor)) {\n\t\t\treturn {\n\t\t\t\teditor: new SideBySideEditorInput(this.preferredName, this.preferredDescription, renameResult.editor, renameResult.editor, this.editorService),\n\t\t\t\toptions: {\n\t\t\t\t\t...renameResult.options,\n\t\t\t\t\tviewState: findViewStateForEditor(this, group, this.editorService)\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tif (isResourceEditorInput(renameResult.editor)) {\n\t\t\treturn {\n\t\t\t\teditor: {\n\t\t\t\t\tlabel: this.preferredName,\n\t\t\t\t\tdescription: this.preferredDescription,\n\t\t\t\t\tprimary: renameResult.editor,\n\t\t\t\t\tsecondary: renameResult.editor,\n\t\t\t\t\toptions: {\n\t\t\t\t\t\t...renameResult.options,\n\t\t\t\t\t\tviewState: findViewStateForEditor(this, group, this.editorService)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\toverride isReadonly(): boolean | IMarkdownString {\n\t\treturn this.primary.isReadonly();\n\t}\n\n\toverride toUntyped(options?: IUntypedEditorOptions): IResourceSideBySideEditorInput | undefined {\n\t\tconst primaryResourceEditorInput = this.primary.toUntyped(options);\n\t\tconst secondaryResourceEditorInput = this.secondary.toUntyped(options);\n\n\t\t// Prevent nested side by side editors which are unsupported\n\t\tif (\n\t\t\tprimaryResourceEditorInput && secondaryResourceEditorInput &&\n\t\t\t!isResourceDiffEditorInput(primaryResourceEditorInput) && !isResourceDiffEditorInput(secondaryResourceEditorInput) &&\n\t\t\t!isResourceMultiDiffEditorInput(primaryResourceEditorInput) && !isResourceMultiDiffEditorInput(secondaryResourceEditorInput) &&\n\t\t\t!isResourceSideBySideEditorInput(primaryResourceEditorInput) && !isResourceSideBySideEditorInput(secondaryResourceEditorInput) &&\n\t\t\t!isResourceMergeEditorInput(primaryResourceEditorInput) && !isResourceMergeEditorInput(secondaryResourceEditorInput)\n\t\t) {\n\t\t\tconst untypedInput: IResourceSideBySideEditorInput = {\n\t\t\t\tlabel: this.preferredName,\n\t\t\t\tdescription: this.preferredDescription,\n\t\t\t\tprimary: primaryResourceEditorInput,\n\t\t\t\tsecondary: secondaryResourceEditorInput\n\t\t\t};\n\n\t\t\tif (typeof options?.preserveViewState === 'number') {\n\t\t\t\tuntypedInput.options = {\n\t\t\t\t\tviewState: findViewStateForEditor(this, options.preserveViewState, this.editorService)\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn untypedInput;\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\toverride matches(otherInput: EditorInput | IUntypedEditorInput): boolean {\n\t\tif (this === otherInput) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (isDiffEditorInput(otherInput) || isResourceDiffEditorInput(otherInput)) {\n\t\t\treturn false; // prevent subclass from matching\n\t\t}\n\n\t\tif (otherInput instanceof SideBySideEditorInput) {\n\t\t\treturn this.primary.matches(otherInput.primary) && this.secondary.matches(otherInput.secondary);\n\t\t}\n\n\t\tif (isResourceSideBySideEditorInput(otherInput)) {\n\t\t\treturn this.primary.matches(otherInput.primary) && this.secondary.matches(otherInput.secondary);\n\t\t}\n\n\t\treturn false;\n\t}\n}\n\n// Register SideBySide/DiffEditor Input Serializer\ninterface ISerializedSideBySideEditorInput {\n\tname: string | undefined;\n\tdescription: string | undefined;\n\n\tprimarySerialized: string;\n\tsecondarySerialized: string;\n\n\tprimaryTypeId: string;\n\tsecondaryTypeId: string;\n}\n\nexport abstract class AbstractSideBySideEditorInputSerializer implements IEditorSerializer {\n\n\tcanSerialize(editorInput: EditorInput): boolean {\n\t\tconst input = editorInput as SideBySideEditorInput;\n\n\t\tif (input.primary && input.secondary) {\n\t\t\tconst [secondaryInputSerializer, primaryInputSerializer] = this.getSerializers(input.secondary.typeId, input.primary.typeId);\n\n\t\t\treturn !!(secondaryInputSerializer?.canSerialize(input.secondary) && primaryInputSerializer?.canSerialize(input.primary));\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tserialize(editorInput: EditorInput): string | undefined {\n\t\tconst input = editorInput as SideBySideEditorInput;\n\n\t\tif (input.primary && input.secondary) {\n\t\t\tconst [secondaryInputSerializer, primaryInputSerializer] = this.getSerializers(input.secondary.typeId, input.primary.typeId);\n\t\t\tif (primaryInputSerializer && secondaryInputSerializer) {\n\t\t\t\tconst primarySerialized = primaryInputSerializer.serialize(input.primary);\n\t\t\t\tconst secondarySerialized = secondaryInputSerializer.serialize(input.secondary);\n\n\t\t\t\tif (primarySerialized && secondarySerialized) {\n\t\t\t\t\tconst serializedEditorInput: ISerializedSideBySideEditorInput = {\n\t\t\t\t\t\tname: input.getPreferredName(),\n\t\t\t\t\t\tdescription: input.getPreferredDescription(),\n\t\t\t\t\t\tprimarySerialized,\n\t\t\t\t\t\tsecondarySerialized,\n\t\t\t\t\t\tprimaryTypeId: input.primary.typeId,\n\t\t\t\t\t\tsecondaryTypeId: input.secondary.typeId\n\t\t\t\t\t};\n\n\t\t\t\t\treturn JSON.stringify(serializedEditorInput);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tdeserialize(instantiationService: IInstantiationService, serializedEditorInput: string): EditorInput | undefined {\n\t\tconst deserialized: ISerializedSideBySideEditorInput = JSON.parse(serializedEditorInput);\n\n\t\tconst [secondaryInputSerializer, primaryInputSerializer] = this.getSerializers(deserialized.secondaryTypeId, deserialized.primaryTypeId);\n\t\tif (primaryInputSerializer && secondaryInputSerializer) {\n\t\t\tconst primaryInput = primaryInputSerializer.deserialize(instantiationService, deserialized.primarySerialized);\n\t\t\tconst secondaryInput = secondaryInputSerializer.deserialize(instantiationService, deserialized.secondarySerialized);\n\n\t\t\tif (primaryInput instanceof EditorInput && secondaryInput instanceof EditorInput) {\n\t\t\t\treturn this.createEditorInput(instantiationService, deserialized.name, deserialized.description, secondaryInput, primaryInput);\n\t\t\t}\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tprivate getSerializers(secondaryEditorInputTypeId: string, primaryEditorInputTypeId: string): [IEditorSerializer | undefined, IEditorSerializer | undefined] {\n\t\tconst registry = Registry.as<IEditorFactoryRegistry>(EditorExtensions.EditorFactory);\n\n\t\treturn [registry.getEditorSerializer(secondaryEditorInputTypeId), registry.getEditorSerializer(primaryEditorInputTypeId)];\n\t}\n\n\tprotected abstract createEditorInput(instantiationService: IInstantiationService, name: string | undefined, description: string | undefined, secondaryInput: EditorInput, primaryInput: EditorInput): EditorInput;\n}\n\nexport class SideBySideEditorInputSerializer extends AbstractSideBySideEditorInputSerializer {\n\n\tprotected createEditorInput(instantiationService: IInstantiationService, name: string | undefined, description: string | undefined, secondaryInput: EditorInput, primaryInput: EditorInput): EditorInput {\n\t\treturn instantiationService.createInstance(SideBySideEditorInput, name, description, secondaryInput, primaryInput);\n\t}\n}\n"]}