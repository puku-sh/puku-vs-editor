{"version":3,"sources":["vs/workbench/electron-browser/desktop.main.ts"],"names":[],"mappings":"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","file":"desktop.main.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { localize } from '../../nls.js';\nimport product from '../../platform/product/common/product.js';\nimport { INativeWindowConfiguration, IWindowsConfiguration } from '../../platform/window/common/window.js';\nimport { Workbench } from '../browser/workbench.js';\nimport { NativeWindow } from './window.js';\nimport { setFullscreen } from '../../base/browser/browser.js';\nimport { domContentLoaded } from '../../base/browser/dom.js';\nimport { onUnexpectedError } from '../../base/common/errors.js';\nimport { URI } from '../../base/common/uri.js';\nimport { WorkspaceService } from '../services/configuration/browser/configurationService.js';\nimport { INativeWorkbenchEnvironmentService, NativeWorkbenchEnvironmentService } from '../services/environment/electron-browser/environmentService.js';\nimport { ServiceCollection } from '../../platform/instantiation/common/serviceCollection.js';\nimport { ILoggerService, ILogService, LogLevel } from '../../platform/log/common/log.js';\nimport { NativeWorkbenchStorageService } from '../services/storage/electron-browser/storageService.js';\nimport { IWorkspaceContextService, isSingleFolderWorkspaceIdentifier, isWorkspaceIdentifier, IAnyWorkspaceIdentifier, reviveIdentifier, toWorkspaceIdentifier } from '../../platform/workspace/common/workspace.js';\nimport { IWorkbenchConfigurationService } from '../services/configuration/common/configuration.js';\nimport { IStorageService } from '../../platform/storage/common/storage.js';\nimport { Disposable } from '../../base/common/lifecycle.js';\nimport { ISharedProcessService } from '../../platform/ipc/electron-browser/services.js';\nimport { IMainProcessService } from '../../platform/ipc/common/mainProcessService.js';\nimport { SharedProcessService } from '../services/sharedProcess/electron-browser/sharedProcessService.js';\nimport { RemoteAuthorityResolverService } from '../../platform/remote/electron-browser/remoteAuthorityResolverService.js';\nimport { IRemoteAuthorityResolverService, RemoteConnectionType } from '../../platform/remote/common/remoteAuthorityResolver.js';\nimport { RemoteAgentService } from '../services/remote/electron-browser/remoteAgentService.js';\nimport { IRemoteAgentService } from '../services/remote/common/remoteAgentService.js';\nimport { FileService } from '../../platform/files/common/fileService.js';\nimport { IFileService } from '../../platform/files/common/files.js';\nimport { RemoteFileSystemProviderClient } from '../services/remote/common/remoteFileSystemProviderClient.js';\nimport { ConfigurationCache } from '../services/configuration/common/configurationCache.js';\nimport { ISignService } from '../../platform/sign/common/sign.js';\nimport { IProductService } from '../../platform/product/common/productService.js';\nimport { IUriIdentityService } from '../../platform/uriIdentity/common/uriIdentity.js';\nimport { UriIdentityService } from '../../platform/uriIdentity/common/uriIdentityService.js';\nimport { INativeKeyboardLayoutService, NativeKeyboardLayoutService } from '../services/keybinding/electron-browser/nativeKeyboardLayoutService.js';\nimport { ElectronIPCMainProcessService } from '../../platform/ipc/electron-browser/mainProcessService.js';\nimport { LoggerChannelClient } from '../../platform/log/common/logIpc.js';\nimport { ProxyChannel } from '../../base/parts/ipc/common/ipc.js';\nimport { NativeLogService } from '../services/log/electron-browser/logService.js';\nimport { WorkspaceTrustEnablementService, WorkspaceTrustManagementService } from '../services/workspaces/common/workspaceTrust.js';\nimport { IWorkspaceTrustEnablementService, IWorkspaceTrustManagementService } from '../../platform/workspace/common/workspaceTrust.js';\nimport { safeStringify } from '../../base/common/objects.js';\nimport { IUtilityProcessWorkerWorkbenchService, UtilityProcessWorkerWorkbenchService } from '../services/utilityProcess/electron-browser/utilityProcessWorkerWorkbenchService.js';\nimport { isCI, isMacintosh, isTahoeOrNewer } from '../../base/common/platform.js';\nimport { Schemas } from '../../base/common/network.js';\nimport { DiskFileSystemProvider } from '../services/files/electron-browser/diskFileSystemProvider.js';\nimport { FileUserDataProvider } from '../../platform/userData/common/fileUserDataProvider.js';\nimport { IUserDataProfilesService, reviveProfile } from '../../platform/userDataProfile/common/userDataProfile.js';\nimport { UserDataProfilesService } from '../../platform/userDataProfile/common/userDataProfileIpc.js';\nimport { PolicyChannelClient } from '../../platform/policy/common/policyIpc.js';\nimport { IPolicyService } from '../../platform/policy/common/policy.js';\nimport { UserDataProfileService } from '../services/userDataProfile/common/userDataProfileService.js';\nimport { IUserDataProfileService } from '../services/userDataProfile/common/userDataProfile.js';\nimport { BrowserSocketFactory } from '../../platform/remote/browser/browserSocketFactory.js';\nimport { RemoteSocketFactoryService, IRemoteSocketFactoryService } from '../../platform/remote/common/remoteSocketFactoryService.js';\nimport { ElectronRemoteResourceLoader } from '../../platform/remote/electron-browser/electronRemoteResourceLoader.js';\nimport { IConfigurationService } from '../../platform/configuration/common/configuration.js';\nimport { applyZoom } from '../../platform/window/electron-browser/window.js';\nimport { mainWindow } from '../../base/browser/window.js';\nimport { DefaultAccountService, IDefaultAccountService } from '../services/accounts/common/defaultAccount.js';\nimport { AccountPolicyService } from '../services/policies/common/accountPolicyService.js';\nimport { MultiplexPolicyService } from '../services/policies/common/multiplexPolicyService.js';\n\nexport class DesktopMain extends Disposable {\n\n\tconstructor(\n\t\tprivate readonly configuration: INativeWindowConfiguration\n\t) {\n\t\tsuper();\n\n\t\tthis.init();\n\t}\n\n\tprivate init(): void {\n\n\t\t// Massage configuration file URIs\n\t\tthis.reviveUris();\n\n\t\t// Apply fullscreen early if configured\n\t\tsetFullscreen(!!this.configuration.fullscreen, mainWindow);\n\t}\n\n\tprivate reviveUris() {\n\n\t\t// Workspace\n\t\tconst workspace = reviveIdentifier(this.configuration.workspace);\n\t\tif (isWorkspaceIdentifier(workspace) || isSingleFolderWorkspaceIdentifier(workspace)) {\n\t\t\tthis.configuration.workspace = workspace;\n\t\t}\n\n\t\t// Files\n\t\tconst filesToWait = this.configuration.filesToWait;\n\t\tconst filesToWaitPaths = filesToWait?.paths;\n\t\tfor (const paths of [filesToWaitPaths, this.configuration.filesToOpenOrCreate, this.configuration.filesToDiff, this.configuration.filesToMerge]) {\n\t\t\tif (Array.isArray(paths)) {\n\t\t\t\tfor (const path of paths) {\n\t\t\t\t\tif (path.fileUri) {\n\t\t\t\t\t\tpath.fileUri = URI.revive(path.fileUri);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (filesToWait) {\n\t\t\tfilesToWait.waitMarkerFileUri = URI.revive(filesToWait.waitMarkerFileUri);\n\t\t}\n\t}\n\n\tasync open(): Promise<void> {\n\n\t\t// Init services and wait for DOM to be ready in parallel\n\t\tconst [services] = await Promise.all([this.initServices(), domContentLoaded(mainWindow)]);\n\n\t\t// Apply zoom level early once we have a configuration service\n\t\t// and before the workbench is created to prevent flickering.\n\t\t// We also need to respect that zoom level can be configured per\n\t\t// workspace, so we need the resolved configuration service.\n\t\t// Finally, it is possible for the window to have a custom\n\t\t// zoom level that is not derived from settings.\n\t\t// (fixes https://github.com/microsoft/vscode/issues/187982)\n\t\tthis.applyWindowZoomLevel(services.configurationService);\n\n\t\t// Create Workbench\n\t\tconst workbench = new Workbench(mainWindow.document.body, {\n\t\t\textraClasses: this.getExtraClasses(),\n\t\t\tresetLayout: this.configuration['disable-layout-restore'] === true\n\t\t}, services.serviceCollection, services.logService);\n\n\t\t// Listeners\n\t\tthis.registerListeners(workbench, services.storageService);\n\n\t\t// Startup\n\t\tconst instantiationService = workbench.startup();\n\n\t\t// Window\n\t\tthis._register(instantiationService.createInstance(NativeWindow));\n\t}\n\n\tprivate applyWindowZoomLevel(configurationService: IConfigurationService) {\n\t\tlet zoomLevel: number | undefined = undefined;\n\t\tif (this.configuration.isCustomZoomLevel && typeof this.configuration.zoomLevel === 'number') {\n\t\t\tzoomLevel = this.configuration.zoomLevel;\n\t\t} else {\n\t\t\tconst windowConfig = configurationService.getValue<IWindowsConfiguration>();\n\t\t\tzoomLevel = typeof windowConfig.window?.zoomLevel === 'number' ? windowConfig.window.zoomLevel : 0;\n\t\t}\n\n\t\tapplyZoom(zoomLevel, mainWindow);\n\t}\n\n\tprivate getExtraClasses(): string[] {\n\t\tif (isMacintosh) {\n\t\t\tif (isTahoeOrNewer(this.configuration.os.release)) {\n\t\t\t\treturn ['macos-rounded-tahoe'];\n\t\t\t} else {\n\t\t\t\treturn ['macos-rounded-default'];\n\t\t\t}\n\t\t}\n\n\t\treturn [];\n\t}\n\n\tprivate registerListeners(workbench: Workbench, storageService: NativeWorkbenchStorageService): void {\n\n\t\t// Workbench Lifecycle\n\t\tthis._register(workbench.onWillShutdown(event => event.join(storageService.close(), { id: 'join.closeStorage', label: localize('join.closeStorage', \"Saving UI state\") })));\n\t\tthis._register(workbench.onDidShutdown(() => this.dispose()));\n\t}\n\n\tprivate async initServices(): Promise<{ serviceCollection: ServiceCollection; logService: ILogService; storageService: NativeWorkbenchStorageService; configurationService: IConfigurationService }> {\n\t\tconst serviceCollection = new ServiceCollection();\n\n\n\t\t// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\t\t//\n\t\t// NOTE: Please do NOT register services here. Use `registerSingleton()`\n\t\t//       from `workbench.common.main.ts` if the service is shared between\n\t\t//       desktop and web or `workbench.desktop.main.ts` if the service\n\t\t//       is desktop only.\n\t\t//\n\t\t// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\n\n\t\t// Main Process\n\t\tconst mainProcessService = this._register(new ElectronIPCMainProcessService(this.configuration.windowId));\n\t\tserviceCollection.set(IMainProcessService, mainProcessService);\n\n\t\t// Product\n\t\tconst productService: IProductService = { _serviceBrand: undefined, ...product };\n\t\tserviceCollection.set(IProductService, productService);\n\n\t\t// Environment\n\t\tconst environmentService = new NativeWorkbenchEnvironmentService(this.configuration, productService);\n\t\tserviceCollection.set(INativeWorkbenchEnvironmentService, environmentService);\n\n\t\t// Logger\n\t\tconst loggers = this.configuration.loggers.map(loggerResource => ({ ...loggerResource, resource: URI.revive(loggerResource.resource) }));\n\t\tconst loggerService = new LoggerChannelClient(this.configuration.windowId, this.configuration.logLevel, environmentService.windowLogsPath, loggers, mainProcessService.getChannel('logger'));\n\t\tserviceCollection.set(ILoggerService, loggerService);\n\n\t\t// Log\n\t\tconst logService = this._register(new NativeLogService(loggerService, environmentService));\n\t\tserviceCollection.set(ILogService, logService);\n\t\tif (isCI) {\n\t\t\tlogService.info('workbench#open()'); // marking workbench open helps to diagnose flaky integration/smoke tests\n\t\t}\n\t\tif (logService.getLevel() === LogLevel.Trace) {\n\t\t\tlogService.trace('workbench#open(): with configuration', safeStringify({ ...this.configuration, nls: undefined /* exclude large property */ }));\n\t\t}\n\n\t\t// Default Account\n\t\tconst defaultAccountService = this._register(new DefaultAccountService());\n\t\tserviceCollection.set(IDefaultAccountService, defaultAccountService);\n\n\t\t// Policies\n\t\tlet policyService: IPolicyService;\n\t\tconst accountPolicy = new AccountPolicyService(logService, defaultAccountService);\n\t\tif (this.configuration.policiesData) {\n\t\t\tconst policyChannel = new PolicyChannelClient(this.configuration.policiesData, mainProcessService.getChannel('policy'));\n\t\t\tpolicyService = new MultiplexPolicyService([policyChannel, accountPolicy], logService);\n\t\t} else {\n\t\t\tpolicyService = accountPolicy;\n\t\t}\n\t\tserviceCollection.set(IPolicyService, policyService);\n\n\t\t// Shared Process\n\t\tconst sharedProcessService = new SharedProcessService(this.configuration.windowId, logService);\n\t\tserviceCollection.set(ISharedProcessService, sharedProcessService);\n\n\t\t// Utility Process Worker\n\t\tconst utilityProcessWorkerWorkbenchService = new UtilityProcessWorkerWorkbenchService(this.configuration.windowId, logService, mainProcessService);\n\t\tserviceCollection.set(IUtilityProcessWorkerWorkbenchService, utilityProcessWorkerWorkbenchService);\n\n\t\t// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\t\t//\n\t\t// NOTE: Please do NOT register services here. Use `registerSingleton()`\n\t\t//       from `workbench.common.main.ts` if the service is shared between\n\t\t//       desktop and web or `workbench.desktop.main.ts` if the service\n\t\t//       is desktop only.\n\t\t//\n\t\t// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\n\n\t\t// Sign\n\t\tconst signService = ProxyChannel.toService<ISignService>(mainProcessService.getChannel('sign'));\n\t\tserviceCollection.set(ISignService, signService);\n\n\t\t// Files\n\t\tconst fileService = this._register(new FileService(logService));\n\t\tserviceCollection.set(IFileService, fileService);\n\n\t\t// Remote\n\t\tconst remoteAuthorityResolverService = new RemoteAuthorityResolverService(productService, new ElectronRemoteResourceLoader(environmentService.window.id, mainProcessService, fileService));\n\t\tserviceCollection.set(IRemoteAuthorityResolverService, remoteAuthorityResolverService);\n\n\t\t// Local Files\n\t\tconst diskFileSystemProvider = this._register(new DiskFileSystemProvider(mainProcessService, utilityProcessWorkerWorkbenchService, logService, loggerService));\n\t\tfileService.registerProvider(Schemas.file, diskFileSystemProvider);\n\n\t\t// URI Identity\n\t\tconst uriIdentityService = new UriIdentityService(fileService);\n\t\tserviceCollection.set(IUriIdentityService, uriIdentityService);\n\n\t\t// User Data Profiles\n\t\tconst userDataProfilesService = new UserDataProfilesService(this.configuration.profiles.all, URI.revive(this.configuration.profiles.home).with({ scheme: environmentService.userRoamingDataHome.scheme }), mainProcessService.getChannel('userDataProfiles'));\n\t\tserviceCollection.set(IUserDataProfilesService, userDataProfilesService);\n\t\tconst userDataProfileService = new UserDataProfileService(reviveProfile(this.configuration.profiles.profile, userDataProfilesService.profilesHome.scheme));\n\t\tserviceCollection.set(IUserDataProfileService, userDataProfileService);\n\n\t\t// Use FileUserDataProvider for user data to\n\t\t// enable atomic read / write operations.\n\t\tfileService.registerProvider(Schemas.vscodeUserData, this._register(new FileUserDataProvider(Schemas.file, diskFileSystemProvider, Schemas.vscodeUserData, userDataProfilesService, uriIdentityService, logService)));\n\n\t\t// Remote Agent\n\t\tconst remoteSocketFactoryService = new RemoteSocketFactoryService();\n\t\tremoteSocketFactoryService.register(RemoteConnectionType.WebSocket, new BrowserSocketFactory(null));\n\t\tserviceCollection.set(IRemoteSocketFactoryService, remoteSocketFactoryService);\n\t\tconst remoteAgentService = this._register(new RemoteAgentService(remoteSocketFactoryService, userDataProfileService, environmentService, productService, remoteAuthorityResolverService, signService, logService));\n\t\tserviceCollection.set(IRemoteAgentService, remoteAgentService);\n\n\t\t// Remote Files\n\t\tthis._register(RemoteFileSystemProviderClient.register(remoteAgentService, fileService, logService));\n\n\t\t// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\t\t//\n\t\t// NOTE: Please do NOT register services here. Use `registerSingleton()`\n\t\t//       from `workbench.common.main.ts` if the service is shared between\n\t\t//       desktop and web or `workbench.desktop.main.ts` if the service\n\t\t//       is desktop only.\n\t\t//\n\t\t// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\n\t\t// Create services that require resolving in parallel\n\t\tconst workspace = this.resolveWorkspaceIdentifier(environmentService);\n\t\tconst [configurationService, storageService] = await Promise.all([\n\t\t\tthis.createWorkspaceService(workspace, environmentService, userDataProfileService, userDataProfilesService, fileService, remoteAgentService, uriIdentityService, logService, policyService).then(service => {\n\n\t\t\t\t// Workspace\n\t\t\t\tserviceCollection.set(IWorkspaceContextService, service);\n\n\t\t\t\t// Configuration\n\t\t\t\tserviceCollection.set(IWorkbenchConfigurationService, service);\n\n\t\t\t\treturn service;\n\t\t\t}),\n\n\t\t\tthis.createStorageService(workspace, environmentService, userDataProfileService, userDataProfilesService, mainProcessService).then(service => {\n\n\t\t\t\t// Storage\n\t\t\t\tserviceCollection.set(IStorageService, service);\n\n\t\t\t\treturn service;\n\t\t\t}),\n\n\t\t\tthis.createKeyboardLayoutService(mainProcessService).then(service => {\n\n\t\t\t\t// KeyboardLayout\n\t\t\t\tserviceCollection.set(INativeKeyboardLayoutService, service);\n\n\t\t\t\treturn service;\n\t\t\t})\n\t\t]);\n\n\t\t// Workspace Trust Service\n\t\tconst workspaceTrustEnablementService = new WorkspaceTrustEnablementService(configurationService, environmentService);\n\t\tserviceCollection.set(IWorkspaceTrustEnablementService, workspaceTrustEnablementService);\n\n\t\tconst workspaceTrustManagementService = new WorkspaceTrustManagementService(configurationService, remoteAuthorityResolverService, storageService, uriIdentityService, environmentService, configurationService, workspaceTrustEnablementService, fileService);\n\t\tserviceCollection.set(IWorkspaceTrustManagementService, workspaceTrustManagementService);\n\n\t\t// Update workspace trust so that configuration is updated accordingly\n\t\tconfigurationService.updateWorkspaceTrust(workspaceTrustManagementService.isWorkspaceTrusted());\n\t\tthis._register(workspaceTrustManagementService.onDidChangeTrust(() => configurationService.updateWorkspaceTrust(workspaceTrustManagementService.isWorkspaceTrusted())));\n\n\n\t\t// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\t\t//\n\t\t// NOTE: Please do NOT register services here. Use `registerSingleton()`\n\t\t//       from `workbench.common.main.ts` if the service is shared between\n\t\t//       desktop and web or `workbench.desktop.main.ts` if the service\n\t\t//       is desktop only.\n\t\t//\n\t\t// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n\n\n\t\treturn { serviceCollection, logService, storageService, configurationService };\n\t}\n\n\tprivate resolveWorkspaceIdentifier(environmentService: INativeWorkbenchEnvironmentService): IAnyWorkspaceIdentifier {\n\n\t\t// Return early for when a folder or multi-root is opened\n\t\tif (this.configuration.workspace) {\n\t\t\treturn this.configuration.workspace;\n\t\t}\n\n\t\t// Otherwise, workspace is empty, so we derive an identifier\n\t\treturn toWorkspaceIdentifier(this.configuration.backupPath, environmentService.isExtensionDevelopment);\n\t}\n\n\tprivate async createWorkspaceService(\n\t\tworkspace: IAnyWorkspaceIdentifier,\n\t\tenvironmentService: INativeWorkbenchEnvironmentService,\n\t\tuserDataProfileService: IUserDataProfileService,\n\t\tuserDataProfilesService: IUserDataProfilesService,\n\t\tfileService: FileService,\n\t\tremoteAgentService: IRemoteAgentService,\n\t\turiIdentityService: IUriIdentityService,\n\t\tlogService: ILogService,\n\t\tpolicyService: IPolicyService\n\t): Promise<WorkspaceService> {\n\t\tconst configurationCache = new ConfigurationCache([Schemas.file, Schemas.vscodeUserData] /* Cache all non native resources */, environmentService, fileService);\n\t\tconst workspaceService = new WorkspaceService({ remoteAuthority: environmentService.remoteAuthority, configurationCache }, environmentService, userDataProfileService, userDataProfilesService, fileService, remoteAgentService, uriIdentityService, logService, policyService);\n\n\t\ttry {\n\t\t\tawait workspaceService.initialize(workspace);\n\n\t\t\treturn workspaceService;\n\t\t} catch (error) {\n\t\t\tonUnexpectedError(error);\n\n\t\t\treturn workspaceService;\n\t\t}\n\t}\n\n\tprivate async createStorageService(workspace: IAnyWorkspaceIdentifier, environmentService: INativeWorkbenchEnvironmentService, userDataProfileService: IUserDataProfileService, userDataProfilesService: IUserDataProfilesService, mainProcessService: IMainProcessService): Promise<NativeWorkbenchStorageService> {\n\t\tconst storageService = new NativeWorkbenchStorageService(workspace, userDataProfileService, userDataProfilesService, mainProcessService, environmentService);\n\n\t\ttry {\n\t\t\tawait storageService.initialize();\n\n\t\t\treturn storageService;\n\t\t} catch (error) {\n\t\t\tonUnexpectedError(error);\n\n\t\t\treturn storageService;\n\t\t}\n\t}\n\n\tprivate async createKeyboardLayoutService(mainProcessService: IMainProcessService): Promise<NativeKeyboardLayoutService> {\n\t\tconst keyboardLayoutService = new NativeKeyboardLayoutService(mainProcessService);\n\n\t\ttry {\n\t\t\tawait keyboardLayoutService.initialize();\n\n\t\t\treturn keyboardLayoutService;\n\t\t} catch (error) {\n\t\t\tonUnexpectedError(error);\n\n\t\t\treturn keyboardLayoutService;\n\t\t}\n\t}\n}\n\nexport interface IDesktopMain {\n\tmain(configuration: INativeWindowConfiguration): Promise<void>;\n}\n\nexport function main(configuration: INativeWindowConfiguration): Promise<void> {\n\tconst workbench = new DesktopMain(configuration);\n\n\treturn workbench.open();\n}\n"]}