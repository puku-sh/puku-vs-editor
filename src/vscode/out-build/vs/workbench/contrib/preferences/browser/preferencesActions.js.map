{"version":3,"sources":["vs/workbench/contrib/preferences/browser/preferencesActions.ts"],"names":[],"mappings":"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","file":"preferencesActions.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Action } from '../../../../base/common/actions.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { getIconClasses } from '../../../../editor/common/services/getIconClasses.js';\nimport { IModelService } from '../../../../editor/common/services/model.js';\nimport { ILanguageService } from '../../../../editor/common/languages/language.js';\nimport * as nls from '../../../../nls.js';\nimport { IQuickInputService, IQuickPickItem } from '../../../../platform/quickinput/common/quickInput.js';\nimport { IPreferencesService } from '../../../services/preferences/common/preferences.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { Extensions, IConfigurationRegistry } from '../../../../platform/configuration/common/configurationRegistry.js';\nimport { EditorExtensionsRegistry } from '../../../../editor/browser/editorExtensions.js';\nimport { MenuId, MenuRegistry, isIMenuItem } from '../../../../platform/actions/common/actions.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { isLocalizedString } from '../../../../platform/action/common/action.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\n\nexport class ConfigureLanguageBasedSettingsAction extends Action {\n\n\tstatic readonly ID = 'workbench.action.configureLanguageBasedSettings';\n\tstatic readonly LABEL = nls.localize2('configureLanguageBasedSettings', \"Configure Language Specific Settings...\");\n\n\tconstructor(\n\t\tid: string,\n\t\tlabel: string,\n\t\t@IModelService private readonly modelService: IModelService,\n\t\t@ILanguageService private readonly languageService: ILanguageService,\n\t\t@IQuickInputService private readonly quickInputService: IQuickInputService,\n\t\t@IPreferencesService private readonly preferencesService: IPreferencesService\n\t) {\n\t\tsuper(id, label);\n\t}\n\n\toverride async run(): Promise<void> {\n\t\tconst languages = this.languageService.getSortedRegisteredLanguageNames();\n\t\tconst picks: IQuickPickItem[] = languages.map(({ languageName, languageId }): IQuickPickItem => {\n\t\t\tconst description: string = nls.localize('languageDescriptionConfigured', \"({0})\", languageId);\n\t\t\t// construct a fake resource to be able to show nice icons if any\n\t\t\tlet fakeResource: URI | undefined;\n\t\t\tconst extensions = this.languageService.getExtensions(languageId);\n\t\t\tif (extensions.length) {\n\t\t\t\tfakeResource = URI.file(extensions[0]);\n\t\t\t} else {\n\t\t\t\tconst filenames = this.languageService.getFilenames(languageId);\n\t\t\t\tif (filenames.length) {\n\t\t\t\t\tfakeResource = URI.file(filenames[0]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tlabel: languageName,\n\t\t\t\ticonClasses: getIconClasses(this.modelService, this.languageService, fakeResource),\n\t\t\t\tdescription\n\t\t\t};\n\t\t});\n\n\t\tawait this.quickInputService.pick(picks, { placeHolder: nls.localize('pickLanguage', \"Select Language\") })\n\t\t\t.then(pick => {\n\t\t\t\tif (pick) {\n\t\t\t\t\tconst languageId = this.languageService.getLanguageIdByLanguageName(pick.label);\n\t\t\t\t\tif (typeof languageId === 'string') {\n\t\t\t\t\t\treturn this.preferencesService.openLanguageSpecificSettings(languageId);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t});\n\n\t}\n}\n\n// Register a command that gets all settings\nCommandsRegistry.registerCommand({\n\tid: '_getAllSettings',\n\thandler: () => {\n\t\tconst configRegistry = Registry.as<IConfigurationRegistry>(Extensions.Configuration);\n\t\tconst allSettings = configRegistry.getConfigurationProperties();\n\t\treturn allSettings;\n\t}\n});\n\n//#region --- Register a command to get all actions from the command palette\nCommandsRegistry.registerCommand('_getAllCommands', function (accessor, filterByPrecondition?: boolean) {\n\tconst keybindingService = accessor.get(IKeybindingService);\n\tconst contextKeyService = accessor.get(IContextKeyService);\n\tconst actions: { command: string; label: string; keybinding: string; description?: string; precondition?: string }[] = [];\n\tfor (const editorAction of EditorExtensionsRegistry.getEditorActions()) {\n\t\tconst keybinding = keybindingService.lookupKeybinding(editorAction.id);\n\t\tif (filterByPrecondition && !contextKeyService.contextMatchesRules(editorAction.precondition)) {\n\t\t\tcontinue;\n\t\t}\n\t\tactions.push({\n\t\t\tcommand: editorAction.id,\n\t\t\tlabel: editorAction.label,\n\t\t\tdescription: isLocalizedString(editorAction.metadata?.description) ? editorAction.metadata.description.value : editorAction.metadata?.description,\n\t\t\tprecondition: editorAction.precondition?.serialize(),\n\t\t\tkeybinding: keybinding?.getLabel() ?? 'Not set'\n\t\t});\n\t}\n\tfor (const menuItem of MenuRegistry.getMenuItems(MenuId.CommandPalette)) {\n\t\tif (isIMenuItem(menuItem)) {\n\t\t\tif (filterByPrecondition && !contextKeyService.contextMatchesRules(menuItem.when)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconst title = typeof menuItem.command.title === 'string' ? menuItem.command.title : menuItem.command.title.value;\n\t\t\tconst category = menuItem.command.category ? typeof menuItem.command.category === 'string' ? menuItem.command.category : menuItem.command.category.value : undefined;\n\t\t\tconst label = category ? `${category}: ${title}` : title;\n\t\t\tconst description = isLocalizedString(menuItem.command.metadata?.description) ? menuItem.command.metadata.description.value : menuItem.command.metadata?.description;\n\t\t\tconst keybinding = keybindingService.lookupKeybinding(menuItem.command.id);\n\t\t\tactions.push({\n\t\t\t\tcommand: menuItem.command.id,\n\t\t\t\tlabel,\n\t\t\t\tdescription,\n\t\t\t\tprecondition: menuItem.when?.serialize(),\n\t\t\t\tkeybinding: keybinding?.getLabel() ?? 'Not set'\n\t\t\t});\n\t\t}\n\t}\n\n\treturn actions;\n});\n//#endregion\n"]}