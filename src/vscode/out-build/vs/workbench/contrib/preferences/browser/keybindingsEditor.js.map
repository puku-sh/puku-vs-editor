{"version":3,"sources":["vs/workbench/contrib/preferences/browser/keybindingsEditor.ts"],"names":[],"mappings":"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","file":"keybindingsEditor.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/* eslint-disable local/code-no-dangerous-type-assertions */\n\nimport './media/keybindingsEditor.css';\nimport { localize } from '../../../../nls.js';\nimport { Delayer } from '../../../../base/common/async.js';\nimport * as DOM from '../../../../base/browser/dom.js';\nimport { isIOS, OS } from '../../../../base/common/platform.js';\nimport { Disposable, DisposableStore, IDisposable, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { ToggleActionViewItem } from '../../../../base/browser/ui/toggle/toggle.js';\nimport { HighlightedLabel } from '../../../../base/browser/ui/highlightedlabel/highlightedLabel.js';\nimport { KeybindingLabel } from '../../../../base/browser/ui/keybindingLabel/keybindingLabel.js';\nimport { IAction, Action, Separator } from '../../../../base/common/actions.js';\nimport { ActionBar } from '../../../../base/browser/ui/actionbar/actionbar.js';\nimport { EditorPane } from '../../../browser/parts/editor/editorPane.js';\nimport { IEditorOpenContext } from '../../../common/editor.js';\nimport { ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nimport { IClipboardService } from '../../../../platform/clipboard/common/clipboardService.js';\nimport { KeybindingsEditorModel, KEYBINDING_ENTRY_TEMPLATE_ID } from '../../../services/preferences/browser/keybindingsEditorModel.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService, IUserFriendlyKeybinding } from '../../../../platform/keybinding/common/keybinding.js';\nimport { DefineKeybindingWidget, KeybindingsSearchWidget } from './keybindingWidgets.js';\nimport { CONTEXT_KEYBINDING_FOCUS, CONTEXT_KEYBINDINGS_EDITOR, CONTEXT_KEYBINDINGS_SEARCH_FOCUS, KEYBINDINGS_EDITOR_COMMAND_RECORD_SEARCH_KEYS, KEYBINDINGS_EDITOR_COMMAND_SORTBY_PRECEDENCE, KEYBINDINGS_EDITOR_COMMAND_DEFINE, KEYBINDINGS_EDITOR_COMMAND_REMOVE, KEYBINDINGS_EDITOR_COMMAND_RESET, KEYBINDINGS_EDITOR_COMMAND_COPY, KEYBINDINGS_EDITOR_COMMAND_COPY_COMMAND, KEYBINDINGS_EDITOR_COMMAND_CLEAR_SEARCH_RESULTS, KEYBINDINGS_EDITOR_COMMAND_DEFINE_WHEN, KEYBINDINGS_EDITOR_COMMAND_SHOW_SIMILAR, KEYBINDINGS_EDITOR_COMMAND_ADD, KEYBINDINGS_EDITOR_COMMAND_COPY_COMMAND_TITLE, CONTEXT_WHEN_FOCUS } from '../common/preferences.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { IKeybindingEditingService } from '../../../services/keybinding/common/keybindingEditing.js';\nimport { IListContextMenuEvent } from '../../../../base/browser/ui/list/list.js';\nimport { IThemeService, registerThemingParticipant, IColorTheme, ICssStyleCollector } from '../../../../platform/theme/common/themeService.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { IContextKeyService, IContextKey, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { KeyCode } from '../../../../base/common/keyCodes.js';\nimport { badgeBackground, contrastBorder, badgeForeground, listActiveSelectionForeground, listInactiveSelectionForeground, listHoverForeground, listFocusForeground, editorBackground, foreground, listActiveSelectionBackground, listInactiveSelectionBackground, listFocusBackground, listHoverBackground, registerColor, tableOddRowsBackgroundColor, asCssVariable } from '../../../../platform/theme/common/colorRegistry.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { EditorExtensionsRegistry } from '../../../../editor/browser/editorExtensions.js';\nimport { WorkbenchTable } from '../../../../platform/list/browser/listService.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { IStorageService, StorageScope, StorageTarget } from '../../../../platform/storage/common/storage.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { MenuRegistry, MenuId, isIMenuItem } from '../../../../platform/actions/common/actions.js';\nimport { IListAccessibilityProvider } from '../../../../base/browser/ui/list/listWidget.js';\nimport { WORKBENCH_BACKGROUND } from '../../../common/theme.js';\nimport { IKeybindingItemEntry, IKeybindingsEditorPane } from '../../../services/preferences/common/preferences.js';\nimport { keybindingsRecordKeysIcon, keybindingsSortIcon, keybindingsAddIcon, preferencesClearInputIcon, keybindingsEditIcon } from './preferencesIcons.js';\nimport { ITableRenderer, ITableVirtualDelegate } from '../../../../base/browser/ui/table/table.js';\nimport { KeybindingsEditorInput } from '../../../services/preferences/browser/keybindingsEditorInput.js';\nimport { IEditorOptions } from '../../../../platform/editor/common/editor.js';\nimport { ToolBar } from '../../../../base/browser/ui/toolbar/toolbar.js';\nimport { defaultKeybindingLabelStyles, defaultToggleStyles, getInputBoxStyle } from '../../../../platform/theme/browser/defaultStyles.js';\nimport { IExtensionsWorkbenchService } from '../../extensions/common/extensions.js';\nimport { StandardKeyboardEvent } from '../../../../base/browser/keyboardEvent.js';\nimport { isString } from '../../../../base/common/types.js';\nimport { SuggestEnabledInput } from '../../codeEditor/browser/suggestEnabledInput/suggestEnabledInput.js';\nimport { CompletionItemKind } from '../../../../editor/common/languages.js';\nimport { settingsTextInputBorder } from '../common/settingsEditorColorRegistry.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { AccessibilityVerbositySettingId } from '../../accessibility/browser/accessibilityConfiguration.js';\nimport { registerNavigableContainer } from '../../../browser/actions/widgetNavigationCommands.js';\nimport { IActionViewItemOptions } from '../../../../base/browser/ui/actionbar/actionViewItems.js';\nimport { getDefaultHoverDelegate } from '../../../../base/browser/ui/hover/hoverDelegateFactory.js';\nimport { IEditorGroup } from '../../../services/editor/common/editorGroupsService.js';\nimport type { IManagedHover } from '../../../../base/browser/ui/hover/hover.js';\nimport { IHoverService } from '../../../../platform/hover/browser/hover.js';\nimport { IAccessibilityService } from '../../../../platform/accessibility/common/accessibility.js';\n\nconst $ = DOM.$;\n\ninterface IKeybindingsEditorMemento {\n\tsearchHistory?: string[];\n}\n\nexport class KeybindingsEditor extends EditorPane<IKeybindingsEditorMemento> implements IKeybindingsEditorPane {\n\n\tstatic readonly ID: string = 'workbench.editor.keybindings';\n\n\tprivate _onDefineWhenExpression: Emitter<IKeybindingItemEntry> = this._register(new Emitter<IKeybindingItemEntry>());\n\treadonly onDefineWhenExpression: Event<IKeybindingItemEntry> = this._onDefineWhenExpression.event;\n\n\tprivate _onRejectWhenExpression = this._register(new Emitter<IKeybindingItemEntry>());\n\treadonly onRejectWhenExpression = this._onRejectWhenExpression.event;\n\n\tprivate _onAcceptWhenExpression = this._register(new Emitter<IKeybindingItemEntry>());\n\treadonly onAcceptWhenExpression = this._onAcceptWhenExpression.event;\n\n\tprivate _onLayout: Emitter<void> = this._register(new Emitter<void>());\n\treadonly onLayout: Event<void> = this._onLayout.event;\n\n\tprivate keybindingsEditorModel: KeybindingsEditorModel | null = null;\n\n\tprivate headerContainer!: HTMLElement;\n\tprivate actionsContainer!: HTMLElement;\n\tprivate searchWidget!: KeybindingsSearchWidget;\n\tprivate searchHistoryDelayer: Delayer<void>;\n\n\tprivate overlayContainer!: HTMLElement;\n\tprivate defineKeybindingWidget!: DefineKeybindingWidget;\n\n\tprivate unAssignedKeybindingItemToRevealAndFocus: IKeybindingItemEntry | null = null;\n\tprivate tableEntries: IKeybindingItemEntry[] = [];\n\tprivate keybindingsTableContainer!: HTMLElement;\n\tprivate keybindingsTable!: WorkbenchTable<IKeybindingItemEntry>;\n\n\tprivate dimension: DOM.Dimension | null = null;\n\tprivate delayedFiltering: Delayer<void>;\n\tprivate latestEmptyFilters: string[] = [];\n\tprivate keybindingsEditorContextKey: IContextKey<boolean>;\n\tprivate keybindingFocusContextKey: IContextKey<boolean>;\n\tprivate searchFocusContextKey: IContextKey<boolean>;\n\n\tprivate readonly sortByPrecedenceAction: Action;\n\tprivate readonly recordKeysAction: Action;\n\n\tprivate ariaLabelElement!: HTMLElement;\n\treadonly overflowWidgetsDomNode: HTMLElement;\n\n\tconstructor(\n\t\tgroup: IEditorGroup,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IKeybindingService private readonly keybindingsService: IKeybindingService,\n\t\t@IContextMenuService private readonly contextMenuService: IContextMenuService,\n\t\t@IKeybindingEditingService private readonly keybindingEditingService: IKeybindingEditingService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IClipboardService private readonly clipboardService: IClipboardService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IEditorService private readonly editorService: IEditorService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@IAccessibilityService private readonly accessibilityService: IAccessibilityService\n\t) {\n\t\tsuper(KeybindingsEditor.ID, group, telemetryService, themeService, storageService);\n\t\tthis.delayedFiltering = new Delayer<void>(300);\n\t\tthis._register(keybindingsService.onDidUpdateKeybindings(() => this.render(!!this.keybindingFocusContextKey.get())));\n\n\t\tthis.keybindingsEditorContextKey = CONTEXT_KEYBINDINGS_EDITOR.bindTo(this.contextKeyService);\n\t\tthis.searchFocusContextKey = CONTEXT_KEYBINDINGS_SEARCH_FOCUS.bindTo(this.contextKeyService);\n\t\tthis.keybindingFocusContextKey = CONTEXT_KEYBINDING_FOCUS.bindTo(this.contextKeyService);\n\t\tthis.searchHistoryDelayer = new Delayer<void>(500);\n\n\t\tthis.recordKeysAction = this._register(new Action(KEYBINDINGS_EDITOR_COMMAND_RECORD_SEARCH_KEYS, localize('recordKeysLabel', \"Record Keys\"), ThemeIcon.asClassName(keybindingsRecordKeysIcon)));\n\t\tthis.recordKeysAction.checked = false;\n\n\t\tthis.sortByPrecedenceAction = this._register(new Action(KEYBINDINGS_EDITOR_COMMAND_SORTBY_PRECEDENCE, localize('sortByPrecedeneLabel', \"Sort by Precedence (Highest first)\"), ThemeIcon.asClassName(keybindingsSortIcon)));\n\t\tthis.sortByPrecedenceAction.checked = false;\n\t\tthis.overflowWidgetsDomNode = $('.keybindings-overflow-widgets-container.monaco-editor');\n\t}\n\n\toverride create(parent: HTMLElement): void {\n\t\tsuper.create(parent);\n\t\tthis._register(registerNavigableContainer({\n\t\t\tname: 'keybindingsEditor',\n\t\t\tfocusNotifiers: [this],\n\t\t\tfocusNextWidget: () => {\n\t\t\t\tif (this.searchWidget.hasFocus()) {\n\t\t\t\t\tthis.focusKeybindings();\n\t\t\t\t}\n\t\t\t},\n\t\t\tfocusPreviousWidget: () => {\n\t\t\t\tif (!this.searchWidget.hasFocus()) {\n\t\t\t\t\tthis.focusSearch();\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t}\n\n\tprotected createEditor(parent: HTMLElement): void {\n\t\tconst keybindingsEditorElement = DOM.append(parent, $('div', { class: 'keybindings-editor' }));\n\n\t\tthis.createAriaLabelElement(keybindingsEditorElement);\n\t\tthis.createOverlayContainer(keybindingsEditorElement);\n\t\tthis.createHeader(keybindingsEditorElement);\n\t\tthis.createBody(keybindingsEditorElement);\n\t}\n\n\toverride setInput(input: KeybindingsEditorInput, options: IEditorOptions | undefined, context: IEditorOpenContext, token: CancellationToken): Promise<void> {\n\t\tthis.keybindingsEditorContextKey.set(true);\n\t\treturn super.setInput(input, options, context, token)\n\t\t\t.then(() => this.render(!!(options && options.preserveFocus)));\n\t}\n\n\toverride clearInput(): void {\n\t\tsuper.clearInput();\n\t\tthis.keybindingsEditorContextKey.reset();\n\t\tthis.keybindingFocusContextKey.reset();\n\t}\n\n\tlayout(dimension: DOM.Dimension): void {\n\t\tthis.dimension = dimension;\n\t\tthis.layoutSearchWidget(dimension);\n\n\t\tthis.overlayContainer.style.width = dimension.width + 'px';\n\t\tthis.overlayContainer.style.height = dimension.height + 'px';\n\t\tthis.defineKeybindingWidget.layout(this.dimension);\n\n\t\tthis.layoutKeybindingsTable();\n\t\tthis._onLayout.fire();\n\t}\n\n\toverride focus(): void {\n\t\tsuper.focus();\n\n\t\tconst activeKeybindingEntry = this.activeKeybindingEntry;\n\t\tif (activeKeybindingEntry) {\n\t\t\tthis.selectEntry(activeKeybindingEntry);\n\t\t} else if (!isIOS) {\n\t\t\tthis.searchWidget.focus();\n\t\t}\n\t}\n\n\tget activeKeybindingEntry(): IKeybindingItemEntry | null {\n\t\tconst focusedElement = this.keybindingsTable.getFocusedElements()[0];\n\t\treturn focusedElement && focusedElement.templateId === KEYBINDING_ENTRY_TEMPLATE_ID ? <IKeybindingItemEntry>focusedElement : null;\n\t}\n\n\tasync defineKeybinding(keybindingEntry: IKeybindingItemEntry, add: boolean): Promise<void> {\n\t\tthis.selectEntry(keybindingEntry);\n\t\tthis.showOverlayContainer();\n\t\ttry {\n\t\t\tconst key = await this.defineKeybindingWidget.define();\n\t\t\tif (key) {\n\t\t\t\tawait this.updateKeybinding(keybindingEntry, key, keybindingEntry.keybindingItem.when, add);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tthis.onKeybindingEditingError(error);\n\t\t} finally {\n\t\t\tthis.hideOverlayContainer();\n\t\t\tthis.selectEntry(keybindingEntry);\n\t\t}\n\t}\n\n\tdefineWhenExpression(keybindingEntry: IKeybindingItemEntry): void {\n\t\tif (keybindingEntry.keybindingItem.keybinding) {\n\t\t\tthis.selectEntry(keybindingEntry);\n\t\t\tthis._onDefineWhenExpression.fire(keybindingEntry);\n\t\t}\n\t}\n\n\trejectWhenExpression(keybindingEntry: IKeybindingItemEntry): void {\n\t\tthis._onRejectWhenExpression.fire(keybindingEntry);\n\t}\n\n\tacceptWhenExpression(keybindingEntry: IKeybindingItemEntry): void {\n\t\tthis._onAcceptWhenExpression.fire(keybindingEntry);\n\t}\n\n\tasync updateKeybinding(keybindingEntry: IKeybindingItemEntry, key: string, when: string | undefined, add?: boolean): Promise<void> {\n\t\tconst currentKey = keybindingEntry.keybindingItem.keybinding ? keybindingEntry.keybindingItem.keybinding.getUserSettingsLabel() : '';\n\t\tif (currentKey !== key || keybindingEntry.keybindingItem.when !== when) {\n\t\t\tif (add) {\n\t\t\t\tawait this.keybindingEditingService.addKeybinding(keybindingEntry.keybindingItem.keybindingItem, key, when || undefined);\n\t\t\t} else {\n\t\t\t\tawait this.keybindingEditingService.editKeybinding(keybindingEntry.keybindingItem.keybindingItem, key, when || undefined);\n\t\t\t}\n\t\t\tif (!keybindingEntry.keybindingItem.keybinding) { // reveal only if keybinding was added to unassinged. Because the entry will be placed in different position after rendering\n\t\t\t\tthis.unAssignedKeybindingItemToRevealAndFocus = keybindingEntry;\n\t\t\t}\n\t\t}\n\t}\n\n\tasync removeKeybinding(keybindingEntry: IKeybindingItemEntry): Promise<void> {\n\t\tthis.selectEntry(keybindingEntry);\n\t\tif (keybindingEntry.keybindingItem.keybinding) { // This should be a pre-condition\n\t\t\ttry {\n\t\t\t\tawait this.keybindingEditingService.removeKeybinding(keybindingEntry.keybindingItem.keybindingItem);\n\t\t\t\tthis.focus();\n\t\t\t} catch (error) {\n\t\t\t\tthis.onKeybindingEditingError(error);\n\t\t\t\tthis.selectEntry(keybindingEntry);\n\t\t\t}\n\t\t}\n\t}\n\n\tasync resetKeybinding(keybindingEntry: IKeybindingItemEntry): Promise<void> {\n\t\tthis.selectEntry(keybindingEntry);\n\t\ttry {\n\t\t\tawait this.keybindingEditingService.resetKeybinding(keybindingEntry.keybindingItem.keybindingItem);\n\t\t\tif (!keybindingEntry.keybindingItem.keybinding) { // reveal only if keybinding was added to unassinged. Because the entry will be placed in different position after rendering\n\t\t\t\tthis.unAssignedKeybindingItemToRevealAndFocus = keybindingEntry;\n\t\t\t}\n\t\t\tthis.selectEntry(keybindingEntry);\n\t\t} catch (error) {\n\t\t\tthis.onKeybindingEditingError(error);\n\t\t\tthis.selectEntry(keybindingEntry);\n\t\t}\n\t}\n\n\tasync copyKeybinding(keybinding: IKeybindingItemEntry): Promise<void> {\n\t\tthis.selectEntry(keybinding);\n\t\tconst userFriendlyKeybinding: IUserFriendlyKeybinding = {\n\t\t\tkey: keybinding.keybindingItem.keybinding ? keybinding.keybindingItem.keybinding.getUserSettingsLabel() || '' : '',\n\t\t\tcommand: keybinding.keybindingItem.command\n\t\t};\n\t\tif (keybinding.keybindingItem.when) {\n\t\t\tuserFriendlyKeybinding.when = keybinding.keybindingItem.when;\n\t\t}\n\t\tawait this.clipboardService.writeText(JSON.stringify(userFriendlyKeybinding, null, '  '));\n\t}\n\n\tasync copyKeybindingCommand(keybinding: IKeybindingItemEntry): Promise<void> {\n\t\tthis.selectEntry(keybinding);\n\t\tawait this.clipboardService.writeText(keybinding.keybindingItem.command);\n\t}\n\n\tasync copyKeybindingCommandTitle(keybinding: IKeybindingItemEntry): Promise<void> {\n\t\tthis.selectEntry(keybinding);\n\t\tawait this.clipboardService.writeText(keybinding.keybindingItem.commandLabel);\n\t}\n\n\tfocusSearch(): void {\n\t\tthis.searchWidget.focus();\n\t}\n\n\tsearch(filter: string): void {\n\t\tthis.focusSearch();\n\t\tthis.searchWidget.setValue(filter);\n\t\tthis.selectEntry(0);\n\t}\n\n\tclearSearchResults(): void {\n\t\tthis.searchWidget.clear();\n\t}\n\n\tshowSimilarKeybindings(keybindingEntry: IKeybindingItemEntry): void {\n\t\tconst value = `\"${keybindingEntry.keybindingItem.keybinding.getAriaLabel()}\"`;\n\t\tif (value !== this.searchWidget.getValue()) {\n\t\t\tthis.searchWidget.setValue(value);\n\t\t}\n\t}\n\n\tprivate createAriaLabelElement(parent: HTMLElement): void {\n\t\tthis.ariaLabelElement = DOM.append(parent, DOM.$(''));\n\t\tthis.ariaLabelElement.setAttribute('id', 'keybindings-editor-aria-label-element');\n\t\tthis.ariaLabelElement.setAttribute('aria-live', 'assertive');\n\t}\n\n\tprivate createOverlayContainer(parent: HTMLElement): void {\n\t\tthis.overlayContainer = DOM.append(parent, $('.overlay-container'));\n\t\tthis.overlayContainer.style.position = 'absolute';\n\t\tthis.overlayContainer.style.zIndex = '40'; // has to greater than sash z-index which is 35\n\t\tthis.defineKeybindingWidget = this._register(this.instantiationService.createInstance(DefineKeybindingWidget, this.overlayContainer));\n\t\tthis._register(this.defineKeybindingWidget.onDidChange(keybindingStr => this.defineKeybindingWidget.printExisting(this.keybindingsEditorModel!.fetch(`\"${keybindingStr}\"`).length)));\n\t\tthis._register(this.defineKeybindingWidget.onShowExistingKeybidings(keybindingStr => this.searchWidget.setValue(`\"${keybindingStr}\"`)));\n\t\tthis.hideOverlayContainer();\n\t}\n\n\tprivate showOverlayContainer() {\n\t\tthis.overlayContainer.style.display = 'block';\n\t}\n\n\tprivate hideOverlayContainer() {\n\t\tthis.overlayContainer.style.display = 'none';\n\t}\n\n\tprivate createHeader(parent: HTMLElement): void {\n\t\tthis.headerContainer = DOM.append(parent, $('.keybindings-header'));\n\t\tconst fullTextSearchPlaceholder = localize('SearchKeybindings.FullTextSearchPlaceholder', \"Type to search in keybindings\");\n\t\tconst keybindingsSearchPlaceholder = localize('SearchKeybindings.KeybindingsSearchPlaceholder', \"Recording Keys. Press Escape to exit\");\n\n\t\tconst clearInputAction = this._register(new Action(KEYBINDINGS_EDITOR_COMMAND_CLEAR_SEARCH_RESULTS, localize('clearInput', \"Clear Keybindings Search Input\"), ThemeIcon.asClassName(preferencesClearInputIcon), false, async () => this.clearSearchResults()));\n\n\t\tconst searchContainer = DOM.append(this.headerContainer, $('.search-container'));\n\t\tthis.searchWidget = this._register(this.instantiationService.createInstance(KeybindingsSearchWidget, searchContainer, {\n\t\t\tariaLabel: fullTextSearchPlaceholder,\n\t\t\tplaceholder: fullTextSearchPlaceholder,\n\t\t\tfocusKey: this.searchFocusContextKey,\n\t\t\tariaLabelledBy: 'keybindings-editor-aria-label-element',\n\t\t\trecordEnter: true,\n\t\t\tquoteRecordedKeys: true,\n\t\t\thistory: new Set<string>((this.getMemento(StorageScope.PROFILE, StorageTarget.USER)).searchHistory ?? []),\n\t\t\tinputBoxStyles: getInputBoxStyle({\n\t\t\t\tinputBorder: settingsTextInputBorder\n\t\t\t})\n\t\t}));\n\t\tthis._register(this.searchWidget.onDidChange(searchValue => {\n\t\t\tclearInputAction.enabled = !!searchValue;\n\t\t\tthis.delayedFiltering.trigger(() => this.filterKeybindings());\n\t\t\tthis.updateSearchOptions();\n\t\t}));\n\t\tthis._register(this.searchWidget.onEscape(() => this.recordKeysAction.checked = false));\n\n\t\tthis.actionsContainer = DOM.append(searchContainer, DOM.$('.keybindings-search-actions-container'));\n\t\tconst recordingBadge = this.createRecordingBadge(this.actionsContainer);\n\n\t\tthis._register(this.sortByPrecedenceAction.onDidChange(e => {\n\t\t\tif (e.checked !== undefined) {\n\t\t\t\tthis.renderKeybindingsEntries(false);\n\t\t\t}\n\t\t\tthis.updateSearchOptions();\n\t\t}));\n\n\t\tthis._register(this.recordKeysAction.onDidChange(e => {\n\t\t\tif (e.checked !== undefined) {\n\t\t\t\trecordingBadge.classList.toggle('disabled', !e.checked);\n\t\t\t\tif (e.checked) {\n\t\t\t\t\tthis.searchWidget.inputBox.setPlaceHolder(keybindingsSearchPlaceholder);\n\t\t\t\t\tthis.searchWidget.inputBox.setAriaLabel(keybindingsSearchPlaceholder);\n\t\t\t\t\tthis.searchWidget.startRecordingKeys();\n\t\t\t\t\tthis.searchWidget.focus();\n\t\t\t\t} else {\n\t\t\t\t\tthis.searchWidget.inputBox.setPlaceHolder(fullTextSearchPlaceholder);\n\t\t\t\t\tthis.searchWidget.inputBox.setAriaLabel(fullTextSearchPlaceholder);\n\t\t\t\t\tthis.searchWidget.stopRecordingKeys();\n\t\t\t\t\tthis.searchWidget.focus();\n\t\t\t\t}\n\t\t\t\tthis.updateSearchOptions();\n\t\t\t}\n\t\t}));\n\n\t\tconst actions = [this.recordKeysAction, this.sortByPrecedenceAction, clearInputAction];\n\t\tconst toolBar = this._register(new ToolBar(this.actionsContainer, this.contextMenuService, {\n\t\t\tactionViewItemProvider: (action: IAction, options: IActionViewItemOptions) => {\n\t\t\t\tif (action.id === this.sortByPrecedenceAction.id || action.id === this.recordKeysAction.id) {\n\t\t\t\t\treturn new ToggleActionViewItem(null, action, { ...options, keybinding: this.keybindingsService.lookupKeybinding(action.id)?.getLabel(), toggleStyles: defaultToggleStyles });\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t},\n\t\t\tgetKeyBinding: action => this.keybindingsService.lookupKeybinding(action.id)\n\t\t}));\n\t\ttoolBar.setActions(actions);\n\t\tthis._register(this.keybindingsService.onDidUpdateKeybindings(() => toolBar.setActions(actions)));\n\t}\n\n\tprivate updateSearchOptions(): void {\n\t\tconst keybindingsEditorInput = this.input as KeybindingsEditorInput;\n\t\tif (keybindingsEditorInput) {\n\t\t\tkeybindingsEditorInput.searchOptions = {\n\t\t\t\tsearchValue: this.searchWidget.getValue(),\n\t\t\t\trecordKeybindings: !!this.recordKeysAction.checked,\n\t\t\t\tsortByPrecedence: !!this.sortByPrecedenceAction.checked\n\t\t\t};\n\t\t}\n\t}\n\n\tprivate createRecordingBadge(container: HTMLElement): HTMLElement {\n\t\tconst recordingBadge = DOM.append(container, DOM.$('.recording-badge.monaco-count-badge.long.disabled'));\n\t\trecordingBadge.textContent = localize('recording', \"Recording Keys\");\n\n\t\trecordingBadge.style.backgroundColor = asCssVariable(badgeBackground);\n\t\trecordingBadge.style.color = asCssVariable(badgeForeground);\n\t\trecordingBadge.style.border = `1px solid ${asCssVariable(contrastBorder)}`;\n\n\t\treturn recordingBadge;\n\t}\n\n\tprivate layoutSearchWidget(dimension: DOM.Dimension): void {\n\t\tthis.searchWidget.layout(dimension);\n\t\tthis.headerContainer.classList.toggle('small', dimension.width < 400);\n\t\tthis.searchWidget.inputBox.inputElement.style.paddingRight = `${DOM.getTotalWidth(this.actionsContainer) + 12}px`;\n\t}\n\n\tprivate createBody(parent: HTMLElement): void {\n\t\tconst bodyContainer = DOM.append(parent, $('.keybindings-body'));\n\t\tthis.createTable(bodyContainer);\n\t}\n\n\tprivate createTable(parent: HTMLElement): void {\n\t\tthis.keybindingsTableContainer = DOM.append(parent, $('.keybindings-table-container'));\n\t\tthis.keybindingsTable = this._register(this.instantiationService.createInstance(WorkbenchTable,\n\t\t\t'KeybindingsEditor',\n\t\t\tthis.keybindingsTableContainer,\n\t\t\tnew Delegate(),\n\t\t\t[\n\t\t\t\t{\n\t\t\t\t\tlabel: '',\n\t\t\t\t\ttooltip: '',\n\t\t\t\t\tweight: 0,\n\t\t\t\t\tminimumWidth: 40,\n\t\t\t\t\tmaximumWidth: 40,\n\t\t\t\t\ttemplateId: ActionsColumnRenderer.TEMPLATE_ID,\n\t\t\t\t\tproject(row: IKeybindingItemEntry): IKeybindingItemEntry { return row; }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: localize('command', \"Command\"),\n\t\t\t\t\ttooltip: '',\n\t\t\t\t\tweight: 0.3,\n\t\t\t\t\ttemplateId: CommandColumnRenderer.TEMPLATE_ID,\n\t\t\t\t\tproject(row: IKeybindingItemEntry): IKeybindingItemEntry { return row; }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: localize('keybinding', \"Keybinding\"),\n\t\t\t\t\ttooltip: '',\n\t\t\t\t\tweight: 0.2,\n\t\t\t\t\ttemplateId: KeybindingColumnRenderer.TEMPLATE_ID,\n\t\t\t\t\tproject(row: IKeybindingItemEntry): IKeybindingItemEntry { return row; }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: localize('when', \"When\"),\n\t\t\t\t\ttooltip: '',\n\t\t\t\t\tweight: 0.35,\n\t\t\t\t\ttemplateId: WhenColumnRenderer.TEMPLATE_ID,\n\t\t\t\t\tproject(row: IKeybindingItemEntry): IKeybindingItemEntry { return row; }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: localize('source', \"Source\"),\n\t\t\t\t\ttooltip: '',\n\t\t\t\t\tweight: 0.15,\n\t\t\t\t\ttemplateId: SourceColumnRenderer.TEMPLATE_ID,\n\t\t\t\t\tproject(row: IKeybindingItemEntry): IKeybindingItemEntry { return row; }\n\t\t\t\t},\n\t\t\t],\n\t\t\t[\n\t\t\t\tthis.instantiationService.createInstance(ActionsColumnRenderer, this),\n\t\t\t\tthis.instantiationService.createInstance(CommandColumnRenderer),\n\t\t\t\tthis.instantiationService.createInstance(KeybindingColumnRenderer),\n\t\t\t\tthis.instantiationService.createInstance(WhenColumnRenderer, this),\n\t\t\t\tthis.instantiationService.createInstance(SourceColumnRenderer),\n\t\t\t],\n\t\t\t{\n\t\t\t\tidentityProvider: { getId: (e: IKeybindingItemEntry) => e.id },\n\t\t\t\thorizontalScrolling: false,\n\t\t\t\taccessibilityProvider: new AccessibilityProvider(this.configurationService),\n\t\t\t\tkeyboardNavigationLabelProvider: { getKeyboardNavigationLabel: (e: IKeybindingItemEntry) => e.keybindingItem.commandLabel || e.keybindingItem.command },\n\t\t\t\toverrideStyles: {\n\t\t\t\t\tlistBackground: editorBackground\n\t\t\t\t},\n\t\t\t\tmultipleSelectionSupport: false,\n\t\t\t\tsetRowLineHeight: false,\n\t\t\t\topenOnSingleClick: false,\n\t\t\t\ttransformOptimization: false // disable transform optimization as it causes the editor overflow widgets to be mispositioned\n\t\t\t}\n\t\t)) as WorkbenchTable<IKeybindingItemEntry>;\n\n\t\tthis._register(this.keybindingsTable.onContextMenu(e => this.onContextMenu(e)));\n\t\tthis._register(this.keybindingsTable.onDidChangeFocus(e => this.onFocusChange()));\n\t\tthis._register(this.keybindingsTable.onDidFocus(() => {\n\t\t\tthis.keybindingsTable.getHTMLElement().classList.add('focused');\n\t\t\tthis.onFocusChange();\n\t\t}));\n\t\tthis._register(this.keybindingsTable.onDidBlur(() => {\n\t\t\tthis.keybindingsTable.getHTMLElement().classList.remove('focused');\n\t\t\tthis.keybindingFocusContextKey.reset();\n\t\t}));\n\t\tthis._register(this.keybindingsTable.onDidOpen((e) => {\n\t\t\t// stop double click action on the input #148493\n\t\t\tif (e.browserEvent?.defaultPrevented) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst activeKeybindingEntry = this.activeKeybindingEntry;\n\t\t\tif (activeKeybindingEntry) {\n\t\t\t\tthis.defineKeybinding(activeKeybindingEntry, false);\n\t\t\t}\n\t\t}));\n\n\t\tDOM.append(this.keybindingsTableContainer, this.overflowWidgetsDomNode);\n\t}\n\n\tprivate async render(preserveFocus: boolean): Promise<void> {\n\t\tif (this.input) {\n\t\t\tconst input: KeybindingsEditorInput = this.input as KeybindingsEditorInput;\n\t\t\tthis.keybindingsEditorModel = await input.resolve();\n\t\t\tawait this.keybindingsEditorModel.resolve(this.getActionsLabels());\n\t\t\tthis.renderKeybindingsEntries(false, preserveFocus);\n\t\t\tif (input.searchOptions) {\n\t\t\t\tthis.recordKeysAction.checked = input.searchOptions.recordKeybindings;\n\t\t\t\tthis.sortByPrecedenceAction.checked = input.searchOptions.sortByPrecedence;\n\t\t\t\tthis.searchWidget.setValue(input.searchOptions.searchValue);\n\t\t\t} else {\n\t\t\t\tthis.updateSearchOptions();\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate getActionsLabels(): Map<string, string> {\n\t\tconst actionsLabels: Map<string, string> = new Map<string, string>();\n\t\tfor (const editorAction of EditorExtensionsRegistry.getEditorActions()) {\n\t\t\tactionsLabels.set(editorAction.id, editorAction.label);\n\t\t}\n\t\tfor (const menuItem of MenuRegistry.getMenuItems(MenuId.CommandPalette)) {\n\t\t\tif (isIMenuItem(menuItem)) {\n\t\t\t\tconst title = typeof menuItem.command.title === 'string' ? menuItem.command.title : menuItem.command.title.value;\n\t\t\t\tconst category = menuItem.command.category ? typeof menuItem.command.category === 'string' ? menuItem.command.category : menuItem.command.category.value : undefined;\n\t\t\t\tactionsLabels.set(menuItem.command.id, category ? `${category}: ${title}` : title);\n\t\t\t}\n\t\t}\n\t\treturn actionsLabels;\n\t}\n\n\tprivate filterKeybindings(): void {\n\t\tthis.renderKeybindingsEntries(this.searchWidget.hasFocus());\n\t\tthis.searchHistoryDelayer.trigger(() => {\n\t\t\tthis.searchWidget.inputBox.addToHistory();\n\t\t\t(this.getMemento(StorageScope.PROFILE, StorageTarget.USER)).searchHistory = this.searchWidget.inputBox.getHistory();\n\t\t\tthis.saveState();\n\t\t});\n\t}\n\n\tpublic clearKeyboardShortcutSearchHistory(): void {\n\t\tthis.searchWidget.inputBox.clearHistory();\n\t\t(this.getMemento(StorageScope.PROFILE, StorageTarget.USER)).searchHistory = this.searchWidget.inputBox.getHistory();\n\t\tthis.saveState();\n\t}\n\n\tprivate renderKeybindingsEntries(reset: boolean, preserveFocus?: boolean): void {\n\t\tif (this.keybindingsEditorModel) {\n\t\t\tconst filter = this.searchWidget.getValue();\n\t\t\tconst keybindingsEntries: IKeybindingItemEntry[] = this.keybindingsEditorModel.fetch(filter, this.sortByPrecedenceAction.checked);\n\t\t\tthis.accessibilityService.alert(localize('foundResults', \"{0} results\", keybindingsEntries.length));\n\t\t\tthis.ariaLabelElement.setAttribute('aria-label', this.getAriaLabel(keybindingsEntries));\n\n\t\t\tif (keybindingsEntries.length === 0) {\n\t\t\t\tthis.latestEmptyFilters.push(filter);\n\t\t\t}\n\t\t\tconst currentSelectedIndex = this.keybindingsTable.getSelection()[0];\n\t\t\tthis.tableEntries = keybindingsEntries;\n\t\t\tthis.keybindingsTable.splice(0, this.keybindingsTable.length, this.tableEntries);\n\t\t\tthis.layoutKeybindingsTable();\n\n\t\t\tif (reset) {\n\t\t\t\tthis.keybindingsTable.setSelection([]);\n\t\t\t\tthis.keybindingsTable.setFocus([]);\n\t\t\t} else {\n\t\t\t\tif (this.unAssignedKeybindingItemToRevealAndFocus) {\n\t\t\t\t\tconst index = this.getNewIndexOfUnassignedKeybinding(this.unAssignedKeybindingItemToRevealAndFocus);\n\t\t\t\t\tif (index !== -1) {\n\t\t\t\t\t\tthis.keybindingsTable.reveal(index, 0.2);\n\t\t\t\t\t\tthis.selectEntry(index);\n\t\t\t\t\t}\n\t\t\t\t\tthis.unAssignedKeybindingItemToRevealAndFocus = null;\n\t\t\t\t} else if (currentSelectedIndex !== -1 && currentSelectedIndex < this.tableEntries.length) {\n\t\t\t\t\tthis.selectEntry(currentSelectedIndex, preserveFocus);\n\t\t\t\t} else if (this.editorService.activeEditorPane === this && !preserveFocus) {\n\t\t\t\t\tthis.focus();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate getAriaLabel(keybindingsEntries: IKeybindingItemEntry[]): string {\n\t\tif (this.sortByPrecedenceAction.checked) {\n\t\t\treturn localize('show sorted keybindings', \"Showing {0} Keybindings in precedence order\", keybindingsEntries.length);\n\t\t} else {\n\t\t\treturn localize('show keybindings', \"Showing {0} Keybindings in alphabetical order\", keybindingsEntries.length);\n\t\t}\n\t}\n\n\tprivate layoutKeybindingsTable(): void {\n\t\tif (!this.dimension) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst tableHeight = this.dimension.height - (DOM.getDomNodePagePosition(this.headerContainer).height + 12 /*padding*/);\n\t\tthis.keybindingsTableContainer.style.height = `${tableHeight}px`;\n\t\tthis.keybindingsTable.layout(tableHeight);\n\t}\n\n\tprivate getIndexOf(listEntry: IKeybindingItemEntry): number {\n\t\tconst index = this.tableEntries.indexOf(listEntry);\n\t\tif (index === -1) {\n\t\t\tfor (let i = 0; i < this.tableEntries.length; i++) {\n\t\t\t\tif (this.tableEntries[i].id === listEntry.id) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn index;\n\t}\n\n\tprivate getNewIndexOfUnassignedKeybinding(unassignedKeybinding: IKeybindingItemEntry): number {\n\t\tfor (let index = 0; index < this.tableEntries.length; index++) {\n\t\t\tconst entry = this.tableEntries[index];\n\t\t\tif (entry.templateId === KEYBINDING_ENTRY_TEMPLATE_ID) {\n\t\t\t\tconst keybindingItemEntry = (<IKeybindingItemEntry>entry);\n\t\t\t\tif (keybindingItemEntry.keybindingItem.command === unassignedKeybinding.keybindingItem.command) {\n\t\t\t\t\treturn index;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t}\n\n\tprivate selectEntry(keybindingItemEntry: IKeybindingItemEntry | number, focus: boolean = true): void {\n\t\tconst index = typeof keybindingItemEntry === 'number' ? keybindingItemEntry : this.getIndexOf(keybindingItemEntry);\n\t\tif (index !== -1 && index < this.keybindingsTable.length) {\n\t\t\tif (focus) {\n\t\t\t\tthis.keybindingsTable.domFocus();\n\t\t\t\tthis.keybindingsTable.setFocus([index]);\n\t\t\t}\n\t\t\tthis.keybindingsTable.setSelection([index]);\n\t\t}\n\t}\n\n\tfocusKeybindings(): void {\n\t\tthis.keybindingsTable.domFocus();\n\t\tconst currentFocusIndices = this.keybindingsTable.getFocus();\n\t\tthis.keybindingsTable.setFocus([currentFocusIndices.length ? currentFocusIndices[0] : 0]);\n\t}\n\n\tselectKeybinding(keybindingItemEntry: IKeybindingItemEntry): void {\n\t\tthis.selectEntry(keybindingItemEntry);\n\t}\n\n\trecordSearchKeys(): void {\n\t\tthis.recordKeysAction.checked = true;\n\t}\n\n\ttoggleSortByPrecedence(): void {\n\t\tthis.sortByPrecedenceAction.checked = !this.sortByPrecedenceAction.checked;\n\t}\n\n\tprivate onContextMenu(e: IListContextMenuEvent<IKeybindingItemEntry>): void {\n\t\tif (!e.element) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (e.element.templateId === KEYBINDING_ENTRY_TEMPLATE_ID) {\n\t\t\tconst keybindingItemEntry = <IKeybindingItemEntry>e.element;\n\t\t\tthis.selectEntry(keybindingItemEntry);\n\t\t\tthis.contextMenuService.showContextMenu({\n\t\t\t\tgetAnchor: () => e.anchor,\n\t\t\t\tgetActions: () => [\n\t\t\t\t\tthis.createCopyAction(keybindingItemEntry),\n\t\t\t\t\tthis.createCopyCommandAction(keybindingItemEntry),\n\t\t\t\t\tthis.createCopyCommandTitleAction(keybindingItemEntry),\n\t\t\t\t\tnew Separator(),\n\t\t\t\t\t...(keybindingItemEntry.keybindingItem.keybinding\n\t\t\t\t\t\t? [this.createDefineKeybindingAction(keybindingItemEntry), this.createAddKeybindingAction(keybindingItemEntry)]\n\t\t\t\t\t\t: [this.createDefineKeybindingAction(keybindingItemEntry)]),\n\t\t\t\t\tnew Separator(),\n\t\t\t\t\tthis.createRemoveAction(keybindingItemEntry),\n\t\t\t\t\tthis.createResetAction(keybindingItemEntry),\n\t\t\t\t\tnew Separator(),\n\t\t\t\t\tthis.createDefineWhenExpressionAction(keybindingItemEntry),\n\t\t\t\t\tnew Separator(),\n\t\t\t\t\tthis.createShowConflictsAction(keybindingItemEntry)]\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate onFocusChange(): void {\n\t\tthis.keybindingFocusContextKey.reset();\n\t\tconst element = this.keybindingsTable.getFocusedElements()[0];\n\t\tif (!element) {\n\t\t\treturn;\n\t\t}\n\t\tif (element.templateId === KEYBINDING_ENTRY_TEMPLATE_ID) {\n\t\t\tthis.keybindingFocusContextKey.set(true);\n\t\t}\n\t}\n\n\tprivate createDefineKeybindingAction(keybindingItemEntry: IKeybindingItemEntry): IAction {\n\t\treturn <IAction>{\n\t\t\tlabel: keybindingItemEntry.keybindingItem.keybinding ? localize('changeLabel', \"Change Keybinding...\") : localize('addLabel', \"Add Keybinding...\"),\n\t\t\tenabled: true,\n\t\t\tid: KEYBINDINGS_EDITOR_COMMAND_DEFINE,\n\t\t\trun: () => this.defineKeybinding(keybindingItemEntry, false)\n\t\t};\n\t}\n\n\tprivate createAddKeybindingAction(keybindingItemEntry: IKeybindingItemEntry): IAction {\n\t\treturn <IAction>{\n\t\t\tlabel: localize('addLabel', \"Add Keybinding...\"),\n\t\t\tenabled: true,\n\t\t\tid: KEYBINDINGS_EDITOR_COMMAND_ADD,\n\t\t\trun: () => this.defineKeybinding(keybindingItemEntry, true)\n\t\t};\n\t}\n\n\tprivate createDefineWhenExpressionAction(keybindingItemEntry: IKeybindingItemEntry): IAction {\n\t\treturn <IAction>{\n\t\t\tlabel: localize('editWhen', \"Change When Expression\"),\n\t\t\tenabled: !!keybindingItemEntry.keybindingItem.keybinding,\n\t\t\tid: KEYBINDINGS_EDITOR_COMMAND_DEFINE_WHEN,\n\t\t\trun: () => this.defineWhenExpression(keybindingItemEntry)\n\t\t};\n\t}\n\n\tprivate createRemoveAction(keybindingItem: IKeybindingItemEntry): IAction {\n\t\treturn <IAction>{\n\t\t\tlabel: localize('removeLabel', \"Remove Keybinding\"),\n\t\t\tenabled: !!keybindingItem.keybindingItem.keybinding,\n\t\t\tid: KEYBINDINGS_EDITOR_COMMAND_REMOVE,\n\t\t\trun: () => this.removeKeybinding(keybindingItem)\n\t\t};\n\t}\n\n\tprivate createResetAction(keybindingItem: IKeybindingItemEntry): IAction {\n\t\treturn <IAction>{\n\t\t\tlabel: localize('resetLabel', \"Reset Keybinding\"),\n\t\t\tenabled: !keybindingItem.keybindingItem.keybindingItem.isDefault,\n\t\t\tid: KEYBINDINGS_EDITOR_COMMAND_RESET,\n\t\t\trun: () => this.resetKeybinding(keybindingItem)\n\t\t};\n\t}\n\n\tprivate createShowConflictsAction(keybindingItem: IKeybindingItemEntry): IAction {\n\t\treturn <IAction>{\n\t\t\tlabel: localize('showSameKeybindings', \"Show Same Keybindings\"),\n\t\t\tenabled: !!keybindingItem.keybindingItem.keybinding,\n\t\t\tid: KEYBINDINGS_EDITOR_COMMAND_SHOW_SIMILAR,\n\t\t\trun: () => this.showSimilarKeybindings(keybindingItem)\n\t\t};\n\t}\n\n\tprivate createCopyAction(keybindingItem: IKeybindingItemEntry): IAction {\n\t\treturn <IAction>{\n\t\t\tlabel: localize('copyLabel', \"Copy\"),\n\t\t\tenabled: true,\n\t\t\tid: KEYBINDINGS_EDITOR_COMMAND_COPY,\n\t\t\trun: () => this.copyKeybinding(keybindingItem)\n\t\t};\n\t}\n\n\tprivate createCopyCommandAction(keybinding: IKeybindingItemEntry): IAction {\n\t\treturn <IAction>{\n\t\t\tlabel: localize('copyCommandLabel', \"Copy Command ID\"),\n\t\t\tenabled: true,\n\t\t\tid: KEYBINDINGS_EDITOR_COMMAND_COPY_COMMAND,\n\t\t\trun: () => this.copyKeybindingCommand(keybinding)\n\t\t};\n\t}\n\n\tprivate createCopyCommandTitleAction(keybinding: IKeybindingItemEntry): IAction {\n\t\treturn <IAction>{\n\t\t\tlabel: localize('copyCommandTitleLabel', \"Copy Command Title\"),\n\t\t\tenabled: !!keybinding.keybindingItem.commandLabel,\n\t\t\tid: KEYBINDINGS_EDITOR_COMMAND_COPY_COMMAND_TITLE,\n\t\t\trun: () => this.copyKeybindingCommandTitle(keybinding)\n\t\t};\n\t}\n\n\tprivate onKeybindingEditingError(error: any): void {\n\t\tthis.notificationService.error(typeof error === 'string' ? error : localize('error', \"Error '{0}' while editing the keybinding. Please open 'keybindings.json' file and check for errors.\", `${error}`));\n\t}\n}\n\nclass Delegate implements ITableVirtualDelegate<IKeybindingItemEntry> {\n\n\treadonly headerRowHeight = 30;\n\n\tgetHeight(element: IKeybindingItemEntry) {\n\t\tif (element.templateId === KEYBINDING_ENTRY_TEMPLATE_ID) {\n\t\t\tconst commandIdMatched = (<IKeybindingItemEntry>element).keybindingItem.commandLabel && (<IKeybindingItemEntry>element).commandIdMatches;\n\t\t\tconst commandDefaultLabelMatched = !!(<IKeybindingItemEntry>element).commandDefaultLabelMatches;\n\t\t\tconst extensionIdMatched = !!(<IKeybindingItemEntry>element).extensionIdMatches;\n\t\t\tif (commandIdMatched && commandDefaultLabelMatched) {\n\t\t\t\treturn 60;\n\t\t\t}\n\t\t\tif (extensionIdMatched || commandIdMatched || commandDefaultLabelMatched) {\n\t\t\t\treturn 40;\n\t\t\t}\n\t\t}\n\t\treturn 24;\n\t}\n\n}\n\ninterface IActionsColumnTemplateData {\n\treadonly actionBar: ActionBar;\n}\n\nclass ActionsColumnRenderer implements ITableRenderer<IKeybindingItemEntry, IActionsColumnTemplateData> {\n\n\tstatic readonly TEMPLATE_ID = 'actions';\n\n\treadonly templateId: string = ActionsColumnRenderer.TEMPLATE_ID;\n\n\tconstructor(\n\t\tprivate readonly keybindingsEditor: KeybindingsEditor,\n\t\t@IKeybindingService private readonly keybindingsService: IKeybindingService\n\t) {\n\t}\n\n\trenderTemplate(container: HTMLElement): IActionsColumnTemplateData {\n\t\tconst element = DOM.append(container, $('.actions'));\n\t\tconst actionBar = new ActionBar(element);\n\t\treturn { actionBar };\n\t}\n\n\trenderElement(keybindingItemEntry: IKeybindingItemEntry, index: number, templateData: IActionsColumnTemplateData): void {\n\t\ttemplateData.actionBar.clear();\n\t\tconst actions: IAction[] = [];\n\t\tif (keybindingItemEntry.keybindingItem.keybinding) {\n\t\t\tactions.push(this.createEditAction(keybindingItemEntry));\n\t\t} else {\n\t\t\tactions.push(this.createAddAction(keybindingItemEntry));\n\t\t}\n\t\ttemplateData.actionBar.push(actions, { icon: true });\n\t}\n\n\tprivate createEditAction(keybindingItemEntry: IKeybindingItemEntry): IAction {\n\t\tconst keybinding = this.keybindingsService.lookupKeybinding(KEYBINDINGS_EDITOR_COMMAND_DEFINE);\n\t\treturn <IAction>{\n\t\t\tclass: ThemeIcon.asClassName(keybindingsEditIcon),\n\t\t\tenabled: true,\n\t\t\tid: 'editKeybinding',\n\t\t\ttooltip: keybinding ? localize('editKeybindingLabelWithKey', \"Change Keybinding {0}\", `(${keybinding.getLabel()})`) : localize('editKeybindingLabel', \"Change Keybinding\"),\n\t\t\trun: () => this.keybindingsEditor.defineKeybinding(keybindingItemEntry, false)\n\t\t};\n\t}\n\n\tprivate createAddAction(keybindingItemEntry: IKeybindingItemEntry): IAction {\n\t\tconst keybinding = this.keybindingsService.lookupKeybinding(KEYBINDINGS_EDITOR_COMMAND_DEFINE);\n\t\treturn <IAction>{\n\t\t\tclass: ThemeIcon.asClassName(keybindingsAddIcon),\n\t\t\tenabled: true,\n\t\t\tid: 'addKeybinding',\n\t\t\ttooltip: keybinding ? localize('addKeybindingLabelWithKey', \"Add Keybinding {0}\", `(${keybinding.getLabel()})`) : localize('addKeybindingLabel', \"Add Keybinding\"),\n\t\t\trun: () => this.keybindingsEditor.defineKeybinding(keybindingItemEntry, false)\n\t\t};\n\t}\n\n\tdisposeTemplate(templateData: IActionsColumnTemplateData): void {\n\t\ttemplateData.actionBar.dispose();\n\t}\n\n}\n\ninterface ICommandColumnTemplateData {\n\tcommandColumn: HTMLElement;\n\tcommandColumnHover: IManagedHover;\n\tcommandLabelContainer: HTMLElement;\n\tcommandLabel: HighlightedLabel;\n\tcommandDefaultLabelContainer: HTMLElement;\n\tcommandDefaultLabel: HighlightedLabel;\n\tcommandIdLabelContainer: HTMLElement;\n\tcommandIdLabel: HighlightedLabel;\n}\n\nclass CommandColumnRenderer implements ITableRenderer<IKeybindingItemEntry, ICommandColumnTemplateData> {\n\n\tstatic readonly TEMPLATE_ID = 'commands';\n\n\treadonly templateId: string = CommandColumnRenderer.TEMPLATE_ID;\n\n\tconstructor(\n\t\t@IHoverService private readonly _hoverService: IHoverService\n\t) {\n\t}\n\n\trenderTemplate(container: HTMLElement): ICommandColumnTemplateData {\n\t\tconst commandColumn = DOM.append(container, $('.command'));\n\t\tconst commandColumnHover = this._hoverService.setupManagedHover(getDefaultHoverDelegate('mouse'), commandColumn, '');\n\t\tconst commandLabelContainer = DOM.append(commandColumn, $('.command-label'));\n\t\tconst commandLabel = new HighlightedLabel(commandLabelContainer);\n\t\tconst commandDefaultLabelContainer = DOM.append(commandColumn, $('.command-default-label'));\n\t\tconst commandDefaultLabel = new HighlightedLabel(commandDefaultLabelContainer);\n\t\tconst commandIdLabelContainer = DOM.append(commandColumn, $('.command-id.code'));\n\t\tconst commandIdLabel = new HighlightedLabel(commandIdLabelContainer);\n\t\treturn { commandColumn, commandColumnHover, commandLabelContainer, commandLabel, commandDefaultLabelContainer, commandDefaultLabel, commandIdLabelContainer, commandIdLabel };\n\t}\n\n\trenderElement(keybindingItemEntry: IKeybindingItemEntry, index: number, templateData: ICommandColumnTemplateData): void {\n\t\tconst keybindingItem = keybindingItemEntry.keybindingItem;\n\t\tconst commandIdMatched = !!(keybindingItem.commandLabel && keybindingItemEntry.commandIdMatches);\n\t\tconst commandDefaultLabelMatched = !!keybindingItemEntry.commandDefaultLabelMatches;\n\n\t\ttemplateData.commandColumn.classList.toggle('vertical-align-column', commandIdMatched || commandDefaultLabelMatched);\n\t\tconst title = keybindingItem.commandLabel ? localize('title', \"{0} ({1})\", keybindingItem.commandLabel, keybindingItem.command) : keybindingItem.command;\n\t\ttemplateData.commandColumn.setAttribute('aria-label', title);\n\t\ttemplateData.commandColumnHover.update(title);\n\n\t\tif (keybindingItem.commandLabel) {\n\t\t\ttemplateData.commandLabelContainer.classList.remove('hide');\n\t\t\ttemplateData.commandLabel.set(keybindingItem.commandLabel, keybindingItemEntry.commandLabelMatches);\n\t\t} else {\n\t\t\ttemplateData.commandLabelContainer.classList.add('hide');\n\t\t\ttemplateData.commandLabel.set(undefined);\n\t\t}\n\n\t\tif (keybindingItemEntry.commandDefaultLabelMatches) {\n\t\t\ttemplateData.commandDefaultLabelContainer.classList.remove('hide');\n\t\t\ttemplateData.commandDefaultLabel.set(keybindingItem.commandDefaultLabel, keybindingItemEntry.commandDefaultLabelMatches);\n\t\t} else {\n\t\t\ttemplateData.commandDefaultLabelContainer.classList.add('hide');\n\t\t\ttemplateData.commandDefaultLabel.set(undefined);\n\t\t}\n\n\t\tif (keybindingItemEntry.commandIdMatches || !keybindingItem.commandLabel) {\n\t\t\ttemplateData.commandIdLabelContainer.classList.remove('hide');\n\t\t\ttemplateData.commandIdLabel.set(keybindingItem.command, keybindingItemEntry.commandIdMatches);\n\t\t} else {\n\t\t\ttemplateData.commandIdLabelContainer.classList.add('hide');\n\t\t\ttemplateData.commandIdLabel.set(undefined);\n\t\t}\n\t}\n\n\tdisposeTemplate(templateData: ICommandColumnTemplateData): void {\n\t\ttemplateData.commandColumnHover.dispose();\n\t\ttemplateData.commandDefaultLabel.dispose();\n\t\ttemplateData.commandIdLabel.dispose();\n\t\ttemplateData.commandLabel.dispose();\n\t}\n}\n\ninterface IKeybindingColumnTemplateData {\n\tkeybindingLabel: KeybindingLabel;\n}\n\nclass KeybindingColumnRenderer implements ITableRenderer<IKeybindingItemEntry, IKeybindingColumnTemplateData> {\n\n\tstatic readonly TEMPLATE_ID = 'keybindings';\n\n\treadonly templateId: string = KeybindingColumnRenderer.TEMPLATE_ID;\n\n\tconstructor() { }\n\n\trenderTemplate(container: HTMLElement): IKeybindingColumnTemplateData {\n\t\tconst element = DOM.append(container, $('.keybinding'));\n\t\tconst keybindingLabel = new KeybindingLabel(DOM.append(element, $('div.keybinding-label')), OS, defaultKeybindingLabelStyles);\n\t\treturn { keybindingLabel };\n\t}\n\n\trenderElement(keybindingItemEntry: IKeybindingItemEntry, index: number, templateData: IKeybindingColumnTemplateData): void {\n\t\tif (keybindingItemEntry.keybindingItem.keybinding) {\n\t\t\ttemplateData.keybindingLabel.set(keybindingItemEntry.keybindingItem.keybinding, keybindingItemEntry.keybindingMatches);\n\t\t} else {\n\t\t\ttemplateData.keybindingLabel.set(undefined, undefined);\n\t\t}\n\t}\n\n\tdisposeTemplate(templateData: IKeybindingColumnTemplateData): void {\n\t\ttemplateData.keybindingLabel.dispose();\n\t}\n}\n\ninterface ISourceColumnTemplateData {\n\tsourceColumn: HTMLElement;\n\tsourceColumnHover: IManagedHover;\n\tsourceLabel: HighlightedLabel;\n\textensionContainer: HTMLElement;\n\textensionLabel: HTMLAnchorElement;\n\textensionId: HighlightedLabel;\n\tdisposables: DisposableStore;\n}\n\nfunction onClick(element: HTMLElement, callback: () => void): IDisposable {\n\tconst disposables = new DisposableStore();\n\tdisposables.add(DOM.addDisposableListener(element, DOM.EventType.CLICK, DOM.finalHandler(callback)));\n\tdisposables.add(DOM.addDisposableListener(element, DOM.EventType.KEY_UP, e => {\n\t\tconst keyboardEvent = new StandardKeyboardEvent(e);\n\t\tif (keyboardEvent.equals(KeyCode.Space) || keyboardEvent.equals(KeyCode.Enter)) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\tcallback();\n\t\t}\n\t}));\n\treturn disposables;\n}\n\nclass SourceColumnRenderer implements ITableRenderer<IKeybindingItemEntry, ISourceColumnTemplateData> {\n\n\tstatic readonly TEMPLATE_ID = 'source';\n\n\treadonly templateId: string = SourceColumnRenderer.TEMPLATE_ID;\n\n\tconstructor(\n\t\t@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IHoverService private readonly hoverService: IHoverService,\n\t) { }\n\n\trenderTemplate(container: HTMLElement): ISourceColumnTemplateData {\n\t\tconst sourceColumn = DOM.append(container, $('.source'));\n\t\tconst sourceColumnHover = this.hoverService.setupManagedHover(getDefaultHoverDelegate('mouse'), sourceColumn, '');\n\t\tconst sourceLabel = new HighlightedLabel(DOM.append(sourceColumn, $('.source-label')));\n\t\tconst extensionContainer = DOM.append(sourceColumn, $('.extension-container'));\n\t\tconst extensionLabel = DOM.append<HTMLAnchorElement>(extensionContainer, $('a.extension-label', { tabindex: 0 }));\n\t\tconst extensionId = new HighlightedLabel(DOM.append(extensionContainer, $('.extension-id-container.code')));\n\t\treturn { sourceColumn, sourceColumnHover, sourceLabel, extensionLabel, extensionContainer, extensionId, disposables: new DisposableStore() };\n\t}\n\n\trenderElement(keybindingItemEntry: IKeybindingItemEntry, index: number, templateData: ISourceColumnTemplateData): void {\n\t\ttemplateData.disposables.clear();\n\t\tif (isString(keybindingItemEntry.keybindingItem.source)) {\n\t\t\ttemplateData.extensionContainer.classList.add('hide');\n\t\t\ttemplateData.sourceLabel.element.classList.remove('hide');\n\t\t\ttemplateData.sourceColumnHover.update('');\n\t\t\ttemplateData.sourceLabel.set(keybindingItemEntry.keybindingItem.source || '-', keybindingItemEntry.sourceMatches);\n\t\t} else {\n\t\t\ttemplateData.extensionContainer.classList.remove('hide');\n\t\t\ttemplateData.sourceLabel.element.classList.add('hide');\n\t\t\tconst extension = keybindingItemEntry.keybindingItem.source;\n\t\t\tconst extensionLabel = extension.displayName ?? extension.identifier.value;\n\t\t\ttemplateData.sourceColumnHover.update(localize('extension label', \"Extension ({0})\", extensionLabel));\n\t\t\ttemplateData.extensionLabel.textContent = extensionLabel;\n\t\t\ttemplateData.disposables.add(onClick(templateData.extensionLabel, () => {\n\t\t\t\tthis.extensionsWorkbenchService.open(extension.identifier.value);\n\t\t\t}));\n\t\t\tif (keybindingItemEntry.extensionIdMatches) {\n\t\t\t\ttemplateData.extensionId.element.classList.remove('hide');\n\t\t\t\ttemplateData.extensionId.set(extension.identifier.value, keybindingItemEntry.extensionIdMatches);\n\t\t\t} else {\n\t\t\t\ttemplateData.extensionId.element.classList.add('hide');\n\t\t\t\ttemplateData.extensionId.set(undefined);\n\t\t\t}\n\t\t}\n\t}\n\n\tdisposeTemplate(templateData: ISourceColumnTemplateData): void {\n\t\ttemplateData.sourceColumnHover.dispose();\n\t\ttemplateData.disposables.dispose();\n\t\ttemplateData.sourceLabel.dispose();\n\t\ttemplateData.extensionId.dispose();\n\t}\n}\n\nclass WhenInputWidget extends Disposable {\n\n\tprivate readonly input: SuggestEnabledInput;\n\n\tprivate readonly _onDidAccept = this._register(new Emitter<string>());\n\treadonly onDidAccept = this._onDidAccept.event;\n\n\tprivate readonly _onDidReject = this._register(new Emitter<void>());\n\treadonly onDidReject = this._onDidReject.event;\n\n\tconstructor(\n\t\tparent: HTMLElement,\n\t\tkeybindingsEditor: KeybindingsEditor,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t) {\n\t\tsuper();\n\t\tconst focusContextKey = CONTEXT_WHEN_FOCUS.bindTo(contextKeyService);\n\t\tthis.input = this._register(instantiationService.createInstance(SuggestEnabledInput, 'keyboardshortcutseditor#wheninput', parent, {\n\t\t\tprovideResults: () => {\n\t\t\t\tconst result = [];\n\t\t\t\tfor (const contextKey of RawContextKey.all()) {\n\t\t\t\t\tresult.push({ label: contextKey.key, documentation: contextKey.description, detail: contextKey.type, kind: CompletionItemKind.Constant });\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\ttriggerCharacters: ['!', ' '],\n\t\t\twordDefinition: /[a-zA-Z.]+/,\n\t\t\talwaysShowSuggestions: true,\n\t\t}, '', `keyboardshortcutseditor#wheninput`, { focusContextKey, overflowWidgetsDomNode: keybindingsEditor.overflowWidgetsDomNode }));\n\n\t\tthis._register((DOM.addDisposableListener(this.input.element, DOM.EventType.DBLCLICK, e => DOM.EventHelper.stop(e))));\n\t\tthis._register(toDisposable(() => focusContextKey.reset()));\n\n\t\tthis._register(keybindingsEditor.onAcceptWhenExpression(() => this._onDidAccept.fire(this.input.getValue())));\n\t\tthis._register(Event.any(keybindingsEditor.onRejectWhenExpression, this.input.onDidBlur)(() => this._onDidReject.fire()));\n\t}\n\n\tlayout(dimension: DOM.Dimension): void {\n\t\tthis.input.layout(dimension);\n\t}\n\n\tshow(value: string): void {\n\t\tthis.input.setValue(value);\n\t\tthis.input.focus(true);\n\t}\n\n}\n\ninterface IWhenColumnTemplateData {\n\treadonly element: HTMLElement;\n\treadonly whenLabelContainer: HTMLElement;\n\treadonly whenInputContainer: HTMLElement;\n\treadonly whenLabel: HighlightedLabel;\n\treadonly disposables: DisposableStore;\n}\n\nclass WhenColumnRenderer implements ITableRenderer<IKeybindingItemEntry, IWhenColumnTemplateData> {\n\n\tstatic readonly TEMPLATE_ID = 'when';\n\n\treadonly templateId: string = WhenColumnRenderer.TEMPLATE_ID;\n\n\tconstructor(\n\t\tprivate readonly keybindingsEditor: KeybindingsEditor,\n\t\t@IHoverService private readonly hoverService: IHoverService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t) { }\n\n\trenderTemplate(container: HTMLElement): IWhenColumnTemplateData {\n\t\tconst element = DOM.append(container, $('.when'));\n\n\t\tconst whenLabelContainer = DOM.append(element, $('div.when-label'));\n\t\tconst whenLabel = new HighlightedLabel(whenLabelContainer);\n\n\t\tconst whenInputContainer = DOM.append(element, $('div.when-input-container'));\n\n\t\treturn {\n\t\t\telement,\n\t\t\twhenLabelContainer,\n\t\t\twhenLabel,\n\t\t\twhenInputContainer,\n\t\t\tdisposables: new DisposableStore(),\n\t\t};\n\t}\n\n\trenderElement(keybindingItemEntry: IKeybindingItemEntry, index: number, templateData: IWhenColumnTemplateData): void {\n\t\ttemplateData.disposables.clear();\n\t\tconst whenInputDisposables = templateData.disposables.add(new DisposableStore());\n\t\ttemplateData.disposables.add(this.keybindingsEditor.onDefineWhenExpression(e => {\n\t\t\tif (keybindingItemEntry === e) {\n\t\t\t\ttemplateData.element.classList.add('input-mode');\n\n\t\t\t\tconst inputWidget = whenInputDisposables.add(this.instantiationService.createInstance(WhenInputWidget, templateData.whenInputContainer, this.keybindingsEditor));\n\t\t\t\tinputWidget.layout(new DOM.Dimension(templateData.element.parentElement!.clientWidth, 18));\n\t\t\t\tinputWidget.show(keybindingItemEntry.keybindingItem.when || '');\n\n\t\t\t\tconst hideInputWidget = () => {\n\t\t\t\t\twhenInputDisposables.clear();\n\t\t\t\t\ttemplateData.element.classList.remove('input-mode');\n\t\t\t\t\ttemplateData.element.parentElement!.style.paddingLeft = '10px';\n\t\t\t\t\tDOM.clearNode(templateData.whenInputContainer);\n\t\t\t\t};\n\n\t\t\t\twhenInputDisposables.add(inputWidget.onDidAccept(value => {\n\t\t\t\t\thideInputWidget();\n\t\t\t\t\tthis.keybindingsEditor.updateKeybinding(keybindingItemEntry, keybindingItemEntry.keybindingItem.keybinding ? keybindingItemEntry.keybindingItem.keybinding.getUserSettingsLabel() || '' : '', value);\n\t\t\t\t\tthis.keybindingsEditor.selectKeybinding(keybindingItemEntry);\n\t\t\t\t}));\n\n\t\t\t\twhenInputDisposables.add(inputWidget.onDidReject(() => {\n\t\t\t\t\thideInputWidget();\n\t\t\t\t\tthis.keybindingsEditor.selectKeybinding(keybindingItemEntry);\n\t\t\t\t}));\n\n\t\t\t\ttemplateData.element.parentElement!.style.paddingLeft = '0px';\n\t\t\t}\n\t\t}));\n\n\t\ttemplateData.whenLabelContainer.classList.toggle('code', !!keybindingItemEntry.keybindingItem.when);\n\t\ttemplateData.whenLabelContainer.classList.toggle('empty', !keybindingItemEntry.keybindingItem.when);\n\n\t\tif (keybindingItemEntry.keybindingItem.when) {\n\t\t\ttemplateData.whenLabel.set(keybindingItemEntry.keybindingItem.when, keybindingItemEntry.whenMatches, keybindingItemEntry.keybindingItem.when);\n\t\t\ttemplateData.disposables.add(this.hoverService.setupManagedHover(getDefaultHoverDelegate('mouse'), templateData.element, keybindingItemEntry.keybindingItem.when));\n\t\t} else {\n\t\t\ttemplateData.whenLabel.set('-');\n\t\t}\n\t}\n\n\tdisposeTemplate(templateData: IWhenColumnTemplateData): void {\n\t\ttemplateData.disposables.dispose();\n\t\ttemplateData.whenLabel.dispose();\n\t}\n}\n\nclass AccessibilityProvider implements IListAccessibilityProvider<IKeybindingItemEntry> {\n\n\tconstructor(private readonly configurationService: IConfigurationService) { }\n\n\tgetWidgetAriaLabel(): string {\n\t\treturn localize('keybindingsLabel', \"Keybindings\");\n\t}\n\n\tgetAriaLabel({ keybindingItem }: IKeybindingItemEntry): string {\n\t\tconst ariaLabel = [\n\t\t\tkeybindingItem.commandLabel ? keybindingItem.commandLabel : keybindingItem.command,\n\t\t\tkeybindingItem.keybinding?.getAriaLabel() || localize('noKeybinding', \"No keybinding assigned\"),\n\t\t\tkeybindingItem.when ? keybindingItem.when : localize('noWhen', \"No when context\"),\n\t\t\tisString(keybindingItem.source) ? keybindingItem.source : keybindingItem.source.description ?? keybindingItem.source.identifier.value,\n\t\t];\n\t\tif (this.configurationService.getValue(AccessibilityVerbositySettingId.KeybindingsEditor)) {\n\t\t\tconst kbEditorAriaLabel = localize('keyboard shortcuts aria label', \"use space or enter to change the keybinding.\");\n\t\t\tariaLabel.push(kbEditorAriaLabel);\n\t\t}\n\t\treturn ariaLabel.join(', ');\n\t}\n}\n\nregisterColor('keybindingTable.headerBackground', tableOddRowsBackgroundColor, 'Background color for the keyboard shortcuts table header.');\nregisterColor('keybindingTable.rowsBackground', tableOddRowsBackgroundColor, 'Background color for the keyboard shortcuts table alternating rows.');\n\nregisterThemingParticipant((theme: IColorTheme, collector: ICssStyleCollector) => {\n\tconst foregroundColor = theme.getColor(foreground);\n\tif (foregroundColor) {\n\t\tconst whenForegroundColor = foregroundColor.transparent(.8).makeOpaque(WORKBENCH_BACKGROUND(theme));\n\t\tcollector.addRule(`.keybindings-editor > .keybindings-body > .keybindings-table-container .monaco-table .monaco-table-tr .monaco-table-td .code { color: ${whenForegroundColor}; }`);\n\t}\n\n\tconst listActiveSelectionForegroundColor = theme.getColor(listActiveSelectionForeground);\n\tconst listActiveSelectionBackgroundColor = theme.getColor(listActiveSelectionBackground);\n\tif (listActiveSelectionForegroundColor && listActiveSelectionBackgroundColor) {\n\t\tconst whenForegroundColor = listActiveSelectionForegroundColor.transparent(.8).makeOpaque(listActiveSelectionBackgroundColor);\n\t\tcollector.addRule(`.keybindings-editor > .keybindings-body > .keybindings-table-container .monaco-table.focused .monaco-list-row.selected .monaco-table-tr .monaco-table-td .code { color: ${whenForegroundColor}; }`);\n\t}\n\n\tconst listInactiveSelectionForegroundColor = theme.getColor(listInactiveSelectionForeground);\n\tconst listInactiveSelectionBackgroundColor = theme.getColor(listInactiveSelectionBackground);\n\tif (listInactiveSelectionForegroundColor && listInactiveSelectionBackgroundColor) {\n\t\tconst whenForegroundColor = listInactiveSelectionForegroundColor.transparent(.8).makeOpaque(listInactiveSelectionBackgroundColor);\n\t\tcollector.addRule(`.keybindings-editor > .keybindings-body > .keybindings-table-container .monaco-table .monaco-list-row.selected .monaco-table-tr .monaco-table-td .code { color: ${whenForegroundColor}; }`);\n\t}\n\n\tconst listFocusForegroundColor = theme.getColor(listFocusForeground);\n\tconst listFocusBackgroundColor = theme.getColor(listFocusBackground);\n\tif (listFocusForegroundColor && listFocusBackgroundColor) {\n\t\tconst whenForegroundColor = listFocusForegroundColor.transparent(.8).makeOpaque(listFocusBackgroundColor);\n\t\tcollector.addRule(`.keybindings-editor > .keybindings-body > .keybindings-table-container .monaco-table.focused .monaco-list-row.focused .monaco-table-tr .monaco-table-td .code { color: ${whenForegroundColor}; }`);\n\t}\n\n\tconst listHoverForegroundColor = theme.getColor(listHoverForeground);\n\tconst listHoverBackgroundColor = theme.getColor(listHoverBackground);\n\tif (listHoverForegroundColor && listHoverBackgroundColor) {\n\t\tconst whenForegroundColor = listHoverForegroundColor.transparent(.8).makeOpaque(listHoverBackgroundColor);\n\t\tcollector.addRule(`.keybindings-editor > .keybindings-body > .keybindings-table-container .monaco-table.focused .monaco-list-row:hover:not(.focused):not(.selected) .monaco-table-tr .monaco-table-td .code { color: ${whenForegroundColor}; }`);\n\t}\n});\n"]}