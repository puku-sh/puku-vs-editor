{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/preferences/browser/settingsTreeModels.ts","vs/workbench/contrib/preferences/browser/settingsTreeModels.ts"],"names":[],"mappings":"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","file":"settingsTreeModels.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as arrays from '../../../../base/common/arrays.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { IJSONSchema } from '../../../../base/common/jsonSchema.js';\nimport { Disposable, IDisposable } from '../../../../base/common/lifecycle.js';\nimport { escapeRegExpCharacters, isFalsyOrWhitespace } from '../../../../base/common/strings.js';\nimport { isUndefinedOrNull } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ILanguageService } from '../../../../editor/common/languages/language.js';\nimport { ConfigurationTarget, getLanguageTagSettingPlainKey, IConfigurationValue } from '../../../../platform/configuration/common/configuration.js';\nimport { ConfigurationDefaultValueSource, ConfigurationScope, EditPresentationTypes, Extensions, IConfigurationRegistry } from '../../../../platform/configuration/common/configurationRegistry.js';\nimport { IProductService } from '../../../../platform/product/common/productService.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { USER_LOCAL_AND_REMOTE_SETTINGS } from '../../../../platform/request/common/request.js';\nimport { APPLICATION_SCOPES, FOLDER_SCOPES, IWorkbenchConfigurationService, LOCAL_MACHINE_SCOPES, REMOTE_MACHINE_SCOPES, WORKSPACE_SCOPES } from '../../../services/configuration/common/configuration.js';\nimport { IWorkbenchEnvironmentService } from '../../../services/environment/common/environmentService.js';\nimport { IExtensionSetting, ISearchResult, ISetting, ISettingMatch, SettingMatchType, SettingValueType } from '../../../services/preferences/common/preferences.js';\nimport { IUserDataProfileService } from '../../../services/userDataProfile/common/userDataProfile.js';\nimport { ENABLE_EXTENSION_TOGGLE_SETTINGS, ENABLE_LANGUAGE_FILTER, MODIFIED_SETTING_TAG, POLICY_SETTING_TAG, REQUIRE_TRUSTED_WORKSPACE_SETTING_TAG, compareTwoNullableNumbers, wordifyKey } from '../common/preferences.js';\nimport { SettingsTarget } from './preferencesWidgets.js';\nimport { ITOCEntry, tocData } from './settingsLayout.js';\n\nexport const ONLINE_SERVICES_SETTING_TAG = 'usesOnlineServices';\n\nexport interface ISettingsEditorViewState {\n\tsettingsTarget: SettingsTarget;\n\tquery?: string; // used to keep track of loading from setInput vs loading from cache\n\ttagFilters?: Set<string>;\n\textensionFilters?: Set<string>;\n\tfeatureFilters?: Set<string>;\n\tidFilters?: Set<string>;\n\tlanguageFilter?: string;\n\tfilterToCategory?: SettingsTreeGroupElement;\n}\n\nexport abstract class SettingsTreeElement extends Disposable {\n\tid: string;\n\tparent?: SettingsTreeGroupElement;\n\n\tprivate _tabbable = false;\n\n\tprivate readonly _onDidChangeTabbable = this._register(new Emitter<void>());\n\tget onDidChangeTabbable() { return this._onDidChangeTabbable.event; }\n\n\tconstructor(_id: string) {\n\t\tsuper();\n\t\tthis.id = _id;\n\t}\n\n\tget tabbable(): boolean {\n\t\treturn this._tabbable;\n\t}\n\n\tset tabbable(value: boolean) {\n\t\tthis._tabbable = value;\n\t\tthis._onDidChangeTabbable.fire();\n\t}\n}\n\nexport type SettingsTreeGroupChild = (SettingsTreeGroupElement | SettingsTreeSettingElement | SettingsTreeNewExtensionsElement);\n\nexport class SettingsTreeGroupElement extends SettingsTreeElement {\n\tcount?: number;\n\tlabel: string;\n\tlevel: number;\n\tisFirstGroup: boolean;\n\n\tprivate _childSettingKeys: Set<string> = new Set();\n\tprivate _children: SettingsTreeGroupChild[] = [];\n\n\tget children(): SettingsTreeGroupChild[] {\n\t\treturn this._children;\n\t}\n\n\tset children(newChildren: SettingsTreeGroupChild[]) {\n\t\tthis._children = newChildren;\n\n\t\tthis._childSettingKeys = new Set();\n\t\tthis._children.forEach(child => {\n\t\t\tif (child instanceof SettingsTreeSettingElement) {\n\t\t\t\tthis._childSettingKeys.add(child.setting.key);\n\t\t\t}\n\t\t});\n\t}\n\n\tconstructor(_id: string, count: number | undefined, label: string, level: number, isFirstGroup: boolean) {\n\t\tsuper(_id);\n\n\t\tthis.count = count;\n\t\tthis.label = label;\n\t\tthis.level = level;\n\t\tthis.isFirstGroup = isFirstGroup;\n\t}\n\n\t/**\n\t * Returns whether this group contains the given child key (to a depth of 1 only)\n\t */\n\tcontainsSetting(key: string): boolean {\n\t\treturn this._childSettingKeys.has(key);\n\t}\n}\n\nexport class SettingsTreeNewExtensionsElement extends SettingsTreeElement {\n\tconstructor(_id: string, public readonly extensionIds: string[]) {\n\t\tsuper(_id);\n\t}\n}\n\nexport class SettingsTreeSettingElement extends SettingsTreeElement {\n\tprivate static readonly MAX_DESC_LINES = 20;\n\n\tsetting: ISetting;\n\n\tprivate _displayCategory: string | null = null;\n\tprivate _displayLabel: string | null = null;\n\n\t/**\n\t * scopeValue || defaultValue, for rendering convenience.\n\t */\n\tvalue: any;\n\n\t/**\n\t * The value in the current settings scope.\n\t */\n\tscopeValue: any;\n\n\t/**\n\t * The default value\n\t */\n\tdefaultValue?: any;\n\n\t/**\n\t * The source of the default value to display.\n\t * This value also accounts for extension-contributed language-specific default value overrides.\n\t */\n\tdefaultValueSource: ConfigurationDefaultValueSource | undefined;\n\n\t/**\n\t * Whether the setting is configured in the selected scope.\n\t */\n\tisConfigured = false;\n\n\t/**\n\t * Whether the setting requires trusted target\n\t */\n\tisUntrusted = false;\n\n\t/**\n\t * Whether the setting is under a policy that blocks all changes.\n\t */\n\thasPolicyValue = false;\n\n\ttags?: Set<string>;\n\toverriddenScopeList: string[] = [];\n\toverriddenDefaultsLanguageList: string[] = [];\n\n\t/**\n\t * For each language that contributes setting values or default overrides, we can see those values here.\n\t */\n\tlanguageOverrideValues: Map<string, IConfigurationValue<unknown>> = new Map<string, IConfigurationValue<unknown>>();\n\n\tdescription!: string;\n\tvalueType!: SettingValueType;\n\n\tconstructor(\n\t\tsetting: ISetting,\n\t\tparent: SettingsTreeGroupElement,\n\t\treadonly settingsTarget: SettingsTarget,\n\t\tprivate readonly isWorkspaceTrusted: boolean,\n\t\tprivate readonly languageFilter: string | undefined,\n\t\tprivate readonly languageService: ILanguageService,\n\t\tprivate readonly productService: IProductService,\n\t\tprivate readonly userDataProfileService: IUserDataProfileService,\n\t\tprivate readonly configurationService: IWorkbenchConfigurationService,\n\t) {\n\t\tsuper(sanitizeId(parent.id + '_' + setting.key));\n\t\tthis.setting = setting;\n\t\tthis.parent = parent;\n\n\t\t// Make sure description and valueType are initialized\n\t\tthis.initSettingDescription();\n\t\tthis.initSettingValueType();\n\t}\n\n\tget displayCategory(): string {\n\t\tif (!this._displayCategory) {\n\t\t\tthis.initLabels();\n\t\t}\n\n\t\treturn this._displayCategory!;\n\t}\n\n\tget displayLabel(): string {\n\t\tif (!this._displayLabel) {\n\t\t\tthis.initLabels();\n\t\t}\n\n\t\treturn this._displayLabel!;\n\t}\n\n\tprivate initLabels(): void {\n\t\tif (this.setting.title) {\n\t\t\tthis._displayLabel = this.setting.title;\n\t\t\tthis._displayCategory = this.setting.categoryLabel ?? null;\n\t\t\treturn;\n\t\t}\n\t\tconst displayKeyFormat = settingKeyToDisplayFormat(this.setting.key, this.parent!.id, this.setting.isLanguageTagSetting);\n\t\tthis._displayLabel = displayKeyFormat.label;\n\t\tthis._displayCategory = displayKeyFormat.category;\n\t}\n\n\tprivate initSettingDescription() {\n\t\tif (this.setting.description.length > SettingsTreeSettingElement.MAX_DESC_LINES) {\n\t\t\tconst truncatedDescLines = this.setting.description.slice(0, SettingsTreeSettingElement.MAX_DESC_LINES);\n\t\t\ttruncatedDescLines.push('[...]');\n\t\t\tthis.description = truncatedDescLines.join('\\n');\n\t\t} else {\n\t\t\tthis.description = this.setting.description.join('\\n');\n\t\t}\n\t}\n\n\tprivate initSettingValueType() {\n\t\tif (isExtensionToggleSetting(this.setting, this.productService)) {\n\t\t\tthis.valueType = SettingValueType.ExtensionToggle;\n\t\t} else if (this.setting.enum && (!this.setting.type || settingTypeEnumRenderable(this.setting.type))) {\n\t\t\tthis.valueType = SettingValueType.Enum;\n\t\t} else if (this.setting.type === 'string') {\n\t\t\tif (this.setting.editPresentation === EditPresentationTypes.Multiline) {\n\t\t\t\tthis.valueType = SettingValueType.MultilineString;\n\t\t\t} else {\n\t\t\t\tthis.valueType = SettingValueType.String;\n\t\t\t}\n\t\t} else if (isExcludeSetting(this.setting)) {\n\t\t\tthis.valueType = SettingValueType.Exclude;\n\t\t} else if (isIncludeSetting(this.setting)) {\n\t\t\tthis.valueType = SettingValueType.Include;\n\t\t} else if (this.setting.type === 'integer') {\n\t\t\tthis.valueType = SettingValueType.Integer;\n\t\t} else if (this.setting.type === 'number') {\n\t\t\tthis.valueType = SettingValueType.Number;\n\t\t} else if (this.setting.type === 'boolean') {\n\t\t\tthis.valueType = SettingValueType.Boolean;\n\t\t} else if (this.setting.type === 'array' && this.setting.arrayItemType &&\n\t\t\t['string', 'enum', 'number', 'integer'].includes(this.setting.arrayItemType)) {\n\t\t\tthis.valueType = SettingValueType.Array;\n\t\t} else if (Array.isArray(this.setting.type) && this.setting.type.includes(SettingValueType.Null) && this.setting.type.length === 2) {\n\t\t\tif (this.setting.type.includes(SettingValueType.Integer)) {\n\t\t\t\tthis.valueType = SettingValueType.NullableInteger;\n\t\t\t} else if (this.setting.type.includes(SettingValueType.Number)) {\n\t\t\t\tthis.valueType = SettingValueType.NullableNumber;\n\t\t\t} else {\n\t\t\t\tthis.valueType = SettingValueType.Complex;\n\t\t\t}\n\t\t} else {\n\t\t\tconst schemaType = getObjectSettingSchemaType(this.setting);\n\t\t\tif (schemaType) {\n\t\t\t\tif (this.setting.allKeysAreBoolean) {\n\t\t\t\t\tthis.valueType = SettingValueType.BooleanObject;\n\t\t\t\t} else if (schemaType === 'simple') {\n\t\t\t\t\tthis.valueType = SettingValueType.Object;\n\t\t\t\t} else {\n\t\t\t\t\tthis.valueType = SettingValueType.ComplexObject;\n\t\t\t\t}\n\t\t\t} else if (this.setting.isLanguageTagSetting) {\n\t\t\t\tthis.valueType = SettingValueType.LanguageTag;\n\t\t\t} else {\n\t\t\t\tthis.valueType = SettingValueType.Complex;\n\t\t\t}\n\t\t}\n\t}\n\n\tinspectSelf() {\n\t\tconst targetToInspect = this.getTargetToInspect(this.setting);\n\t\tconst inspectResult = inspectSetting(this.setting.key, targetToInspect, this.languageFilter, this.configurationService);\n\t\tthis.update(inspectResult, this.isWorkspaceTrusted);\n\t}\n\n\tprivate getTargetToInspect(setting: ISetting): SettingsTarget {\n\t\tif (!this.userDataProfileService.currentProfile.isDefault && !this.userDataProfileService.currentProfile.useDefaultFlags?.settings) {\n\t\t\tif (setting.scope === ConfigurationScope.APPLICATION) {\n\t\t\t\treturn ConfigurationTarget.APPLICATION;\n\t\t\t}\n\t\t\tif (this.configurationService.isSettingAppliedForAllProfiles(setting.key) && this.settingsTarget === ConfigurationTarget.USER_LOCAL) {\n\t\t\t\treturn ConfigurationTarget.APPLICATION;\n\t\t\t}\n\t\t}\n\t\treturn this.settingsTarget;\n\t}\n\n\tprivate update(inspectResult: IInspectResult, isWorkspaceTrusted: boolean): void {\n\t\tlet { isConfigured, inspected, targetSelector, inspectedLanguageOverrides, languageSelector } = inspectResult;\n\n\t\tswitch (targetSelector) {\n\t\t\tcase 'workspaceFolderValue':\n\t\t\tcase 'workspaceValue':\n\t\t\t\tthis.isUntrusted = !!this.setting.restricted && !isWorkspaceTrusted;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tlet displayValue = isConfigured ? inspected[targetSelector] : inspected.defaultValue;\n\t\tconst overriddenScopeList: string[] = [];\n\t\tconst overriddenDefaultsLanguageList: string[] = [];\n\t\tif ((languageSelector || targetSelector !== 'workspaceValue') && typeof inspected.workspaceValue !== 'undefined') {\n\t\t\toverriddenScopeList.push('workspace:');\n\t\t}\n\t\tif ((languageSelector || targetSelector !== 'userRemoteValue') && typeof inspected.userRemoteValue !== 'undefined') {\n\t\t\toverriddenScopeList.push('remote:');\n\t\t}\n\t\tif ((languageSelector || targetSelector !== 'userLocalValue') && typeof inspected.userLocalValue !== 'undefined') {\n\t\t\toverriddenScopeList.push('user:');\n\t\t}\n\n\t\tif (inspected.overrideIdentifiers) {\n\t\t\tfor (const overrideIdentifier of inspected.overrideIdentifiers) {\n\t\t\t\tconst inspectedOverride = inspectedLanguageOverrides.get(overrideIdentifier);\n\t\t\t\tif (inspectedOverride) {\n\t\t\t\t\tif (this.languageService.isRegisteredLanguageId(overrideIdentifier)) {\n\t\t\t\t\t\tif (languageSelector !== overrideIdentifier && typeof inspectedOverride.default?.override !== 'undefined') {\n\t\t\t\t\t\t\toverriddenDefaultsLanguageList.push(overrideIdentifier);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ((languageSelector !== overrideIdentifier || targetSelector !== 'workspaceValue') && typeof inspectedOverride.workspace?.override !== 'undefined') {\n\t\t\t\t\t\t\toverriddenScopeList.push(`workspace:${overrideIdentifier}`);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ((languageSelector !== overrideIdentifier || targetSelector !== 'userRemoteValue') && typeof inspectedOverride.userRemote?.override !== 'undefined') {\n\t\t\t\t\t\t\toverriddenScopeList.push(`remote:${overrideIdentifier}`);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ((languageSelector !== overrideIdentifier || targetSelector !== 'userLocalValue') && typeof inspectedOverride.userLocal?.override !== 'undefined') {\n\t\t\t\t\t\t\toverriddenScopeList.push(`user:${overrideIdentifier}`);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.languageOverrideValues.set(overrideIdentifier, inspectedOverride);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.overriddenScopeList = overriddenScopeList;\n\t\tthis.overriddenDefaultsLanguageList = overriddenDefaultsLanguageList;\n\n\t\t// The user might have added, removed, or modified a language filter,\n\t\t// so we reset the default value source to the non-language-specific default value source for now.\n\t\tthis.defaultValueSource = this.setting.nonLanguageSpecificDefaultValueSource;\n\n\t\tif (inspected.policyValue !== undefined) {\n\t\t\tthis.hasPolicyValue = true;\n\t\t\tisConfigured = false; // The user did not manually configure the setting themselves.\n\t\t\tdisplayValue = inspected.policyValue;\n\t\t\tthis.scopeValue = inspected.policyValue;\n\t\t\tthis.defaultValue = inspected.defaultValue;\n\t\t} else if (languageSelector && this.languageOverrideValues.has(languageSelector)) {\n\t\t\tconst overrideValues = this.languageOverrideValues.get(languageSelector)!;\n\t\t\t// In the worst case, go back to using the previous display value.\n\t\t\t// Also, sometimes the override is in the form of a default value override, so consider that second.\n\t\t\tdisplayValue = (isConfigured ? overrideValues[targetSelector] : overrideValues.defaultValue) ?? displayValue;\n\t\t\tthis.scopeValue = isConfigured && overrideValues[targetSelector];\n\t\t\tthis.defaultValue = overrideValues.defaultValue ?? inspected.defaultValue;\n\n\t\t\tconst registryValues = Registry.as<IConfigurationRegistry>(Extensions.Configuration).getConfigurationDefaultsOverrides();\n\t\t\tconst source = registryValues.get(`[${languageSelector}]`)?.source;\n\t\t\tconst overrideValueSource = source instanceof Map ? source.get(this.setting.key) : undefined;\n\t\t\tif (overrideValueSource) {\n\t\t\t\tthis.defaultValueSource = overrideValueSource;\n\t\t\t}\n\t\t} else {\n\t\t\tthis.scopeValue = isConfigured && inspected[targetSelector];\n\t\t\tthis.defaultValue = inspected.defaultValue;\n\t\t}\n\n\t\tthis.value = displayValue;\n\t\tthis.isConfigured = isConfigured;\n\t\tif (isConfigured || this.setting.tags || this.tags || this.setting.restricted || this.hasPolicyValue) {\n\t\t\t// Don't create an empty Set for all 1000 settings, only if needed\n\t\t\tthis.tags = new Set<string>();\n\t\t\tif (isConfigured) {\n\t\t\t\tthis.tags.add(MODIFIED_SETTING_TAG);\n\t\t\t}\n\n\t\t\tthis.setting.tags?.forEach(tag => this.tags!.add(tag));\n\n\t\t\tif (this.setting.restricted) {\n\t\t\t\tthis.tags.add(REQUIRE_TRUSTED_WORKSPACE_SETTING_TAG);\n\t\t\t}\n\n\t\t\tif (this.hasPolicyValue) {\n\t\t\t\tthis.tags.add(POLICY_SETTING_TAG);\n\t\t\t}\n\t\t}\n\t}\n\n\tmatchesAllTags(tagFilters?: Set<string>): boolean {\n\t\tif (!tagFilters?.size) {\n\t\t\t// This setting, which may have tags,\n\t\t\t// matches against a query with no tags.\n\t\t\treturn true;\n\t\t}\n\n\t\tif (!this.tags) {\n\t\t\t// The setting must inspect itself to get tag information\n\t\t\t// including for the hasPolicy tag.\n\t\t\tthis.inspectSelf();\n\t\t}\n\n\t\t// Handle the special 'stable' tag filter\n\t\tif (tagFilters.has('stable')) {\n\t\t\t// For stable filter, exclude preview and experimental settings\n\t\t\tif (this.tags?.has('preview') || this.tags?.has('experimental')) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// Check other filters (excluding 'stable' itself)\n\t\t\tconst otherFilters = new Set(Array.from(tagFilters).filter(tag => tag !== 'stable'));\n\t\t\tif (otherFilters.size === 0) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn !!this.tags?.size &&\n\t\t\t\tArray.from(otherFilters).every(tag => this.tags!.has(tag));\n\t\t}\n\n\t\t// Check that the filter tags are a subset of this setting's tags\n\t\treturn !!this.tags?.size &&\n\t\t\tArray.from(tagFilters).every(tag => this.tags!.has(tag));\n\t}\n\n\tmatchesScope(scope: SettingsTarget, isRemote: boolean): boolean {\n\t\tconst configTarget = URI.isUri(scope) ? ConfigurationTarget.WORKSPACE_FOLDER : scope;\n\n\t\tif (!this.setting.scope) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (configTarget === ConfigurationTarget.APPLICATION) {\n\t\t\treturn APPLICATION_SCOPES.includes(this.setting.scope);\n\t\t}\n\n\t\tif (configTarget === ConfigurationTarget.WORKSPACE_FOLDER) {\n\t\t\treturn FOLDER_SCOPES.includes(this.setting.scope);\n\t\t}\n\n\t\tif (configTarget === ConfigurationTarget.WORKSPACE) {\n\t\t\treturn WORKSPACE_SCOPES.includes(this.setting.scope);\n\t\t}\n\n\t\tif (configTarget === ConfigurationTarget.USER_REMOTE) {\n\t\t\treturn REMOTE_MACHINE_SCOPES.includes(this.setting.scope) || USER_LOCAL_AND_REMOTE_SETTINGS.includes(this.setting.key);\n\t\t}\n\n\t\tif (configTarget === ConfigurationTarget.USER_LOCAL) {\n\t\t\tif (isRemote) {\n\t\t\t\treturn LOCAL_MACHINE_SCOPES.includes(this.setting.scope) || USER_LOCAL_AND_REMOTE_SETTINGS.includes(this.setting.key);\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tmatchesAnyExtension(extensionFilters?: Set<string>): boolean {\n\t\tif (!extensionFilters || !extensionFilters.size) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (!this.setting.extensionInfo) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn Array.from(extensionFilters).some(extensionId => extensionId.toLowerCase() === this.setting.extensionInfo!.id.toLowerCase());\n\t}\n\n\tmatchesAnyFeature(featureFilters?: Set<string>): boolean {\n\t\tif (!featureFilters || !featureFilters.size) {\n\t\t\treturn true;\n\t\t}\n\n\t\tconst features = tocData.children!.find(child => child.id === 'features');\n\n\t\treturn Array.from(featureFilters).some(filter => {\n\t\t\tif (features && features.children) {\n\t\t\t\tconst feature = features.children.find(feature => 'features/' + filter === feature.id);\n\t\t\t\tif (feature) {\n\t\t\t\t\tconst patterns = feature.settings?.map(setting => createSettingMatchRegExp(setting));\n\t\t\t\t\treturn patterns && !this.setting.extensionInfo && patterns.some(pattern => pattern.test(this.setting.key.toLowerCase()));\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t}\n\n\tmatchesAnyId(idFilters?: Set<string>): boolean {\n\t\tif (!idFilters || !idFilters.size) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Check for exact match first\n\t\tif (idFilters.has(this.setting.key)) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Check for wildcard patterns (ending with .*)\n\t\tfor (const filter of idFilters) {\n\t\t\tif (filter.endsWith('*')) {\n\t\t\t\tconst prefix = filter.slice(0, -1); // Remove '*' suffix\n\t\t\t\tif (this.setting.key.startsWith(prefix)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tmatchesAllLanguages(languageFilter?: string): boolean {\n\t\tif (!languageFilter) {\n\t\t\t// We're not filtering by language.\n\t\t\treturn true;\n\t\t}\n\n\t\tif (!this.languageService.isRegisteredLanguageId(languageFilter)) {\n\t\t\t// We're trying to filter by an invalid language.\n\t\t\treturn false;\n\t\t}\n\n\t\t// We have a language filter in the search widget at this point.\n\t\t// We decide to show all language overridable settings to make the\n\t\t// lang filter act more like a scope filter,\n\t\t// rather than adding on an implicit @modified as well.\n\t\tif (this.setting.scope === ConfigurationScope.LANGUAGE_OVERRIDABLE) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n}\n\n\nfunction createSettingMatchRegExp(pattern: string): RegExp {\n\tpattern = escapeRegExpCharacters(pattern)\n\t\t.replace(/\\\\\\*/g, '.*');\n\n\treturn new RegExp(`^${pattern}$`, 'i');\n}\n\nexport class SettingsTreeModel implements IDisposable {\n\tprotected _root!: SettingsTreeGroupElement;\n\tprivate _tocRoot!: ITOCEntry<ISetting>;\n\tprivate readonly _treeElementsBySettingName = new Map<string, SettingsTreeSettingElement[]>();\n\n\tconstructor(\n\t\tprotected readonly _viewState: ISettingsEditorViewState,\n\t\tprivate _isWorkspaceTrusted: boolean,\n\t\t@IWorkbenchConfigurationService private readonly _configurationService: IWorkbenchConfigurationService,\n\t\t@ILanguageService private readonly _languageService: ILanguageService,\n\t\t@IUserDataProfileService private readonly _userDataProfileService: IUserDataProfileService,\n\t\t@IProductService private readonly _productService: IProductService\n\t) {\n\t}\n\n\tget root(): SettingsTreeGroupElement {\n\t\treturn this._root;\n\t}\n\n\tupdate(newTocRoot = this._tocRoot): void {\n\t\tthis._treeElementsBySettingName.clear();\n\n\t\tconst newRoot = this.createSettingsTreeGroupElement(newTocRoot);\n\t\tif (newRoot.children[0] instanceof SettingsTreeGroupElement) {\n\t\t\t(<SettingsTreeGroupElement>newRoot.children[0]).isFirstGroup = true;\n\t\t}\n\n\t\tif (this._root) {\n\t\t\tthis.disposeChildren(this._root.children);\n\t\t\tthis._root.children = newRoot.children;\n\t\t\tnewRoot.dispose();\n\t\t} else {\n\t\t\tthis._root = newRoot;\n\t\t}\n\t}\n\n\tupdateWorkspaceTrust(workspaceTrusted: boolean): void {\n\t\tthis._isWorkspaceTrusted = workspaceTrusted;\n\t\tthis.updateRequireTrustedTargetElements();\n\t}\n\n\tprivate disposeChildren(children: SettingsTreeGroupChild[]) {\n\t\tfor (const child of children) {\n\t\t\tthis.disposeChildAndRecurse(child);\n\t\t}\n\t}\n\n\tprivate disposeChildAndRecurse(element: SettingsTreeElement) {\n\t\tif (element instanceof SettingsTreeGroupElement) {\n\t\t\tthis.disposeChildren(element.children);\n\t\t}\n\n\t\telement.dispose();\n\t}\n\n\tgetElementsByName(name: string): SettingsTreeSettingElement[] | null {\n\t\treturn this._treeElementsBySettingName.get(name) ?? null;\n\t}\n\n\tupdateElementsByName(name: string): void {\n\t\tif (!this._treeElementsBySettingName.has(name)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.reinspectSettings(this._treeElementsBySettingName.get(name)!);\n\t}\n\n\tprivate updateRequireTrustedTargetElements(): void {\n\t\tthis.reinspectSettings([...this._treeElementsBySettingName.values()].flat().filter(s => s.isUntrusted));\n\t}\n\n\tprivate reinspectSettings(settings: SettingsTreeSettingElement[]): void {\n\t\tfor (const element of settings) {\n\t\t\telement.inspectSelf();\n\t\t}\n\t}\n\n\tprivate createSettingsTreeGroupElement(tocEntry: ITOCEntry<ISetting>, parent?: SettingsTreeGroupElement): SettingsTreeGroupElement {\n\t\tconst depth = parent ? this.getDepth(parent) + 1 : 0;\n\t\tconst element = new SettingsTreeGroupElement(tocEntry.id, undefined, tocEntry.label, depth, false);\n\t\telement.parent = parent;\n\n\t\tconst children: SettingsTreeGroupChild[] = [];\n\t\tif (tocEntry.settings) {\n\t\t\tconst settingChildren = tocEntry.settings.map(s => this.createSettingsTreeSettingElement(s, element));\n\t\t\tfor (const child of settingChildren) {\n\t\t\t\tif (!child.setting.deprecationMessage) {\n\t\t\t\t\tchildren.push(child);\n\t\t\t\t} else {\n\t\t\t\t\tchild.inspectSelf();\n\t\t\t\t\tif (child.isConfigured) {\n\t\t\t\t\t\tchildren.push(child);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tchild.dispose();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (tocEntry.children) {\n\t\t\tconst groupChildren = tocEntry.children.map(child => this.createSettingsTreeGroupElement(child, element));\n\t\t\tchildren.push(...groupChildren);\n\t\t}\n\n\t\telement.children = children;\n\n\t\treturn element;\n\t}\n\n\tprivate getDepth(element: SettingsTreeElement): number {\n\t\tif (element.parent) {\n\t\t\treturn 1 + this.getDepth(element.parent);\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t}\n\n\tprivate createSettingsTreeSettingElement(setting: ISetting, parent: SettingsTreeGroupElement): SettingsTreeSettingElement {\n\t\tconst element = new SettingsTreeSettingElement(\n\t\t\tsetting,\n\t\t\tparent,\n\t\t\tthis._viewState.settingsTarget,\n\t\t\tthis._isWorkspaceTrusted,\n\t\t\tthis._viewState.languageFilter,\n\t\t\tthis._languageService,\n\t\t\tthis._productService,\n\t\t\tthis._userDataProfileService,\n\t\t\tthis._configurationService);\n\n\t\tconst nameElements = this._treeElementsBySettingName.get(setting.key) ?? [];\n\t\tnameElements.push(element);\n\t\tthis._treeElementsBySettingName.set(setting.key, nameElements);\n\t\treturn element;\n\t}\n\n\tdispose() {\n\t\tthis._treeElementsBySettingName.clear();\n\t\tthis.disposeChildAndRecurse(this._root);\n\t}\n}\n\ninterface IInspectResult {\n\tisConfigured: boolean;\n\tinspected: IConfigurationValue<unknown>;\n\ttargetSelector: 'applicationValue' | 'userLocalValue' | 'userRemoteValue' | 'workspaceValue' | 'workspaceFolderValue';\n\tinspectedLanguageOverrides: Map<string, IConfigurationValue<unknown>>;\n\tlanguageSelector: string | undefined;\n}\n\nexport function inspectSetting(key: string, target: SettingsTarget, languageFilter: string | undefined, configurationService: IWorkbenchConfigurationService): IInspectResult {\n\tconst inspectOverrides = URI.isUri(target) ? { resource: target } : undefined;\n\tconst inspected = configurationService.inspect(key, inspectOverrides);\n\tconst targetSelector = target === ConfigurationTarget.APPLICATION ? 'applicationValue' :\n\t\ttarget === ConfigurationTarget.USER_LOCAL ? 'userLocalValue' :\n\t\t\ttarget === ConfigurationTarget.USER_REMOTE ? 'userRemoteValue' :\n\t\t\t\ttarget === ConfigurationTarget.WORKSPACE ? 'workspaceValue' :\n\t\t\t\t\t'workspaceFolderValue';\n\tconst targetOverrideSelector = target === ConfigurationTarget.APPLICATION ? 'application' :\n\t\ttarget === ConfigurationTarget.USER_LOCAL ? 'userLocal' :\n\t\t\ttarget === ConfigurationTarget.USER_REMOTE ? 'userRemote' :\n\t\t\t\ttarget === ConfigurationTarget.WORKSPACE ? 'workspace' :\n\t\t\t\t\t'workspaceFolder';\n\tlet isConfigured = typeof inspected[targetSelector] !== 'undefined';\n\n\tconst overrideIdentifiers = inspected.overrideIdentifiers;\n\tconst inspectedLanguageOverrides = new Map<string, IConfigurationValue<unknown>>();\n\n\t// We must reset isConfigured to be false if languageFilter is set, and manually\n\t// determine whether it can be set to true later.\n\tif (languageFilter) {\n\t\tisConfigured = false;\n\t}\n\tif (overrideIdentifiers) {\n\t\t// The setting we're looking at has language overrides.\n\t\tfor (const overrideIdentifier of overrideIdentifiers) {\n\t\t\tinspectedLanguageOverrides.set(overrideIdentifier, configurationService.inspect(key, { overrideIdentifier }));\n\t\t}\n\n\t\t// For all language filters, see if there's an override for that filter.\n\t\tif (languageFilter) {\n\t\t\tif (inspectedLanguageOverrides.has(languageFilter)) {\n\t\t\t\tconst overrideValue = inspectedLanguageOverrides.get(languageFilter)![targetOverrideSelector]?.override;\n\t\t\t\tif (typeof overrideValue !== 'undefined') {\n\t\t\t\t\tisConfigured = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { isConfigured, inspected, targetSelector, inspectedLanguageOverrides, languageSelector: languageFilter };\n}\n\nfunction sanitizeId(id: string): string {\n\treturn id.replace(/[\\.\\/]/, '_');\n}\n\nexport function settingKeyToDisplayFormat(key: string, groupId: string = '', isLanguageTagSetting: boolean = false): { category: string; label: string } {\n\tconst lastDotIdx = key.lastIndexOf('.');\n\tlet category = '';\n\tif (lastDotIdx >= 0) {\n\t\tcategory = key.substring(0, lastDotIdx);\n\t\tkey = key.substring(lastDotIdx + 1);\n\t}\n\n\tgroupId = groupId.replace(/\\//g, '.');\n\tcategory = trimCategoryForGroup(category, groupId);\n\tcategory = wordifyKey(category);\n\n\tif (isLanguageTagSetting) {\n\t\tkey = getLanguageTagSettingPlainKey(key);\n\t\tkey = '$(bracket) ' + key;\n\t}\n\n\tconst label = wordifyKey(key);\n\treturn { category, label };\n}\n\n/**\n * Removes redundant sections of the category label.\n * A redundant section is a section already reflected in the groupId.\n *\n * @param category The category of the specific setting.\n * @param groupId The author + extension ID.\n * @returns The new category label to use.\n */\nfunction trimCategoryForGroup(category: string, groupId: string): string {\n\tconst doTrim = (forward: boolean) => {\n\t\t// Remove the Insiders portion if the category doesn't use it.\n\t\tif (!/insiders$/i.test(category)) {\n\t\t\tgroupId = groupId.replace(/-?insiders$/i, '');\n\t\t}\n\t\tconst parts = groupId.split('.')\n\t\t\t.map(part => {\n\t\t\t\t// Remove hyphens, but only if that results in a match with the category.\n\t\t\t\tif (part.replace(/-/g, '').toLowerCase() === category.toLowerCase()) {\n\t\t\t\t\treturn part.replace(/-/g, '');\n\t\t\t\t} else {\n\t\t\t\t\treturn part;\n\t\t\t\t}\n\t\t\t});\n\t\twhile (parts.length) {\n\t\t\tconst reg = new RegExp(`^${parts.join('\\\\.')}(\\\\.|$)`, 'i');\n\t\t\tif (reg.test(category)) {\n\t\t\t\treturn category.replace(reg, '');\n\t\t\t}\n\n\t\t\tif (forward) {\n\t\t\t\tparts.pop();\n\t\t\t} else {\n\t\t\t\tparts.shift();\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t};\n\n\tlet trimmed = doTrim(true);\n\tif (trimmed === null) {\n\t\ttrimmed = doTrim(false);\n\t}\n\n\tif (trimmed === null) {\n\t\ttrimmed = category;\n\t}\n\n\treturn trimmed;\n}\n\nfunction isExtensionToggleSetting(setting: ISetting, productService: IProductService): boolean {\n\treturn ENABLE_EXTENSION_TOGGLE_SETTINGS &&\n\t\t!!productService.extensionRecommendations &&\n\t\t!!setting.displayExtensionId;\n}\n\nfunction isExcludeSetting(setting: ISetting): boolean {\n\treturn setting.key === 'files.exclude' ||\n\t\tsetting.key === 'search.exclude' ||\n\t\tsetting.key === 'workbench.localHistory.exclude' ||\n\t\tsetting.key === 'explorer.autoRevealExclude' ||\n\t\tsetting.key === 'files.readonlyExclude' ||\n\t\tsetting.key === 'files.watcherExclude';\n}\n\nfunction isIncludeSetting(setting: ISetting): boolean {\n\treturn setting.key === 'files.readonlyInclude';\n}\n\n// The values of the following settings when a default values has been removed\nexport function objectSettingSupportsRemoveDefaultValue(key: string): boolean {\n\treturn key === 'workbench.editor.customLabels.patterns';\n}\n\nfunction isSimpleType(type: string | undefined): boolean {\n\treturn type === 'string' || type === 'boolean' || type === 'integer' || type === 'number';\n}\n\nfunction getObjectRenderableSchemaType(schema: IJSONSchema, key: string): 'simple' | 'complex' | false {\n\tconst { type } = schema;\n\n\tif (Array.isArray(type)) {\n\t\tif (objectSettingSupportsRemoveDefaultValue(key) && type.length === 2) {\n\t\t\tif (type.includes('null') && (type.includes('string') || type.includes('boolean') || type.includes('integer') || type.includes('number'))) {\n\t\t\t\treturn 'simple';\n\t\t\t}\n\t\t}\n\n\t\tfor (const t of type) {\n\t\t\tif (!isSimpleType(t)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn 'complex';\n\t}\n\n\tif (isSimpleType(type)) {\n\t\treturn 'simple';\n\t}\n\n\tif (type === 'array') {\n\t\tif (schema.items) {\n\t\t\tconst itemSchemas = Array.isArray(schema.items) ? schema.items : [schema.items];\n\t\t\tfor (const { type } of itemSchemas) {\n\t\t\t\tif (Array.isArray(type)) {\n\t\t\t\t\tfor (const t of type) {\n\t\t\t\t\t\tif (!isSimpleType(t)) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn 'complex';\n\t\t\t\t}\n\t\t\t\tif (!isSimpleType(type)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn 'complex';\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\treturn false;\n}\n\nfunction getObjectSettingSchemaType({\n\tkey,\n\ttype,\n\tobjectProperties,\n\tobjectPatternProperties,\n\tobjectAdditionalProperties\n}: ISetting): 'simple' | 'complex' | false {\n\tif (type !== 'object') {\n\t\treturn false;\n\t}\n\n\t// object can have any shape\n\tif (\n\t\tisUndefinedOrNull(objectProperties) &&\n\t\tisUndefinedOrNull(objectPatternProperties) &&\n\t\tisUndefinedOrNull(objectAdditionalProperties)\n\t) {\n\t\treturn false;\n\t}\n\n\t// objectAdditionalProperties allow the setting to have any shape,\n\t// but if there's a pattern property that handles everything, then every\n\t// property will match that patternProperty, so we don't need to look at\n\t// the value of objectAdditionalProperties in that case.\n\tif ((objectAdditionalProperties === true || objectAdditionalProperties === undefined)\n\t\t&& !Object.keys(objectPatternProperties ?? {}).includes('.*')) {\n\t\treturn false;\n\t}\n\n\tconst schemas = [...Object.values(objectProperties ?? {}), ...Object.values(objectPatternProperties ?? {})];\n\n\tif (objectAdditionalProperties && typeof objectAdditionalProperties === 'object') {\n\t\tschemas.push(objectAdditionalProperties);\n\t}\n\n\tlet schemaType: 'simple' | 'complex' | false = 'simple';\n\tfor (const schema of schemas) {\n\t\tfor (const subSchema of Array.isArray(schema.anyOf) ? schema.anyOf : [schema]) {\n\t\t\tconst subSchemaType = getObjectRenderableSchemaType(subSchema, key);\n\t\t\tif (subSchemaType === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (subSchemaType === 'complex') {\n\t\t\t\tschemaType = 'complex';\n\t\t\t}\n\t\t}\n\t}\n\n\treturn schemaType;\n}\n\nfunction settingTypeEnumRenderable(_type: string | string[]) {\n\tconst enumRenderableSettingTypes = ['string', 'boolean', 'null', 'integer', 'number'];\n\tconst type = Array.isArray(_type) ? _type : [_type];\n\treturn type.every(type => enumRenderableSettingTypes.includes(type));\n}\n\nexport const enum SearchResultIdx {\n\tLocal = 0,\n\tRemote = 1,\n\tNewExtensions = 2,\n\tEmbeddings = 3,\n\tAiSelected = 4\n}\n\nexport class SearchResultModel extends SettingsTreeModel {\n\tprivate rawSearchResults: ISearchResult[] | null = null;\n\tprivate cachedUniqueSearchResults: Map<boolean, ISearchResult | null>;\n\tprivate newExtensionSearchResults: ISearchResult | null = null;\n\tprivate searchResultCount: number | null = null;\n\tprivate settingsOrderByTocIndex: Map<string, number> | null;\n\tprivate aiFilterEnabled: boolean = false;\n\n\treadonly id = 'searchResultModel';\n\n\tconstructor(\n\t\tviewState: ISettingsEditorViewState,\n\t\tsettingsOrderByTocIndex: Map<string, number> | null,\n\t\tisWorkspaceTrusted: boolean,\n\t\t@IWorkbenchConfigurationService configurationService: IWorkbenchConfigurationService,\n\t\t@IWorkbenchEnvironmentService private readonly environmentService: IWorkbenchEnvironmentService,\n\t\t@ILanguageService languageService: ILanguageService,\n\t\t@IUserDataProfileService userDataProfileService: IUserDataProfileService,\n\t\t@IProductService productService: IProductService\n\t) {\n\t\tsuper(viewState, isWorkspaceTrusted, configurationService, languageService, userDataProfileService, productService);\n\t\tthis.settingsOrderByTocIndex = settingsOrderByTocIndex;\n\t\tthis.cachedUniqueSearchResults = new Map();\n\t\tthis.update({ id: 'searchResultModel', label: '' });\n\t}\n\n\tset showAiResults(show: boolean) {\n\t\tthis.aiFilterEnabled = show;\n\t\tthis.updateChildren();\n\t}\n\n\tprivate sortResults(filterMatches: ISettingMatch[]): ISettingMatch[] {\n\t\tif (this.settingsOrderByTocIndex) {\n\t\t\tfor (const match of filterMatches) {\n\t\t\t\tmatch.setting.internalOrder = this.settingsOrderByTocIndex.get(match.setting.key);\n\t\t\t}\n\t\t}\n\n\t\t// The search only has filters, so we can sort by the order in the TOC.\n\t\tif (!this._viewState.query) {\n\t\t\treturn filterMatches.sort((a, b) => compareTwoNullableNumbers(a.setting.internalOrder, b.setting.internalOrder));\n\t\t}\n\n\t\t// Sort the settings according to their relevancy.\n\t\t// https://github.com/microsoft/vscode/issues/197773\n\t\tfilterMatches.sort((a, b) => {\n\t\t\tif (a.matchType !== b.matchType) {\n\t\t\t\t// Sort by match type if the match types are not the same.\n\t\t\t\t// The priority of the match type is given by the SettingMatchType enum.\n\t\t\t\treturn b.matchType - a.matchType;\n\t\t\t} else if ((a.matchType & SettingMatchType.NonContiguousWordsInSettingsLabel) || (a.matchType & SettingMatchType.ContiguousWordsInSettingsLabel)) {\n\t\t\t\t// The match types of a and b are the same and can be sorted by their number of matched words.\n\t\t\t\t// If those numbers are the same, sort by the order in the table of contents.\n\t\t\t\treturn (b.keyMatchScore - a.keyMatchScore) || compareTwoNullableNumbers(a.setting.internalOrder, b.setting.internalOrder);\n\t\t\t} else if (a.matchType === SettingMatchType.RemoteMatch) {\n\t\t\t\t// The match types are the same and are RemoteMatch.\n\t\t\t\t// Sort by score.\n\t\t\t\treturn b.score - a.score;\n\t\t\t} else {\n\t\t\t\t// The match types are the same but are not RemoteMatch.\n\t\t\t\t// Sort by their order in the table of contents.\n\t\t\t\treturn compareTwoNullableNumbers(a.setting.internalOrder, b.setting.internalOrder);\n\t\t\t}\n\t\t});\n\n\t\t// Remove duplicates, which sometimes occur with settings\n\t\t// such as the experimental toggle setting.\n\t\treturn arrays.distinct(filterMatches, (match) => match.setting.key);\n\t}\n\n\tgetUniqueSearchResults(): ISearchResult | null {\n\t\tconst cachedResults = this.cachedUniqueSearchResults.get(this.aiFilterEnabled);\n\t\tif (cachedResults) {\n\t\t\treturn cachedResults;\n\t\t}\n\n\t\tif (!this.rawSearchResults) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet combinedFilterMatches: ISettingMatch[] = [];\n\n\t\tif (this.aiFilterEnabled) {\n\t\t\tconst aiSelectedKeys = new Set<string>();\n\t\t\tconst aiSelectedResult = this.rawSearchResults[SearchResultIdx.AiSelected];\n\t\t\tif (aiSelectedResult) {\n\t\t\t\taiSelectedResult.filterMatches.forEach(m => aiSelectedKeys.add(m.setting.key));\n\t\t\t\tcombinedFilterMatches = aiSelectedResult.filterMatches;\n\t\t\t}\n\n\t\t\tconst embeddingsResult = this.rawSearchResults[SearchResultIdx.Embeddings];\n\t\t\tif (embeddingsResult) {\n\t\t\t\tembeddingsResult.filterMatches = embeddingsResult.filterMatches.filter(m => !aiSelectedKeys.has(m.setting.key));\n\t\t\t\tcombinedFilterMatches = combinedFilterMatches.concat(embeddingsResult.filterMatches);\n\t\t\t}\n\t\t\tconst result = {\n\t\t\t\tfilterMatches: combinedFilterMatches,\n\t\t\t\texactMatch: false\n\t\t\t};\n\t\t\tthis.cachedUniqueSearchResults.set(true, result);\n\t\t\treturn result;\n\t\t}\n\n\t\tconst localMatchKeys = new Set<string>();\n\t\tconst localResult = this.rawSearchResults[SearchResultIdx.Local];\n\t\tif (localResult) {\n\t\t\tlocalResult.filterMatches.forEach(m => localMatchKeys.add(m.setting.key));\n\t\t\tcombinedFilterMatches = localResult.filterMatches;\n\t\t}\n\n\t\tconst remoteResult = this.rawSearchResults[SearchResultIdx.Remote];\n\t\tif (remoteResult) {\n\t\t\tremoteResult.filterMatches = remoteResult.filterMatches.filter(m => !localMatchKeys.has(m.setting.key));\n\t\t\tcombinedFilterMatches = combinedFilterMatches.concat(remoteResult.filterMatches);\n\n\t\t\tthis.newExtensionSearchResults = this.rawSearchResults[SearchResultIdx.NewExtensions];\n\t\t}\n\t\tcombinedFilterMatches = this.sortResults(combinedFilterMatches);\n\t\tconst result = {\n\t\t\tfilterMatches: combinedFilterMatches,\n\t\t\texactMatch: localResult.exactMatch // remote results should never have an exact match\n\t\t};\n\t\tthis.cachedUniqueSearchResults.set(false, result);\n\t\treturn result;\n\t}\n\n\tgetRawResults(): ISearchResult[] {\n\t\treturn this.rawSearchResults ?? [];\n\t}\n\n\tprivate getUniqueSearchResultSettings(): ISetting[] {\n\t\treturn this.getUniqueSearchResults()?.filterMatches.map(m => m.setting) ?? [];\n\t}\n\n\tupdateChildren(): void {\n\t\tthis.update({\n\t\t\tid: 'searchResultModel',\n\t\t\tlabel: 'searchResultModel',\n\t\t\tsettings: this.getUniqueSearchResultSettings()\n\t\t});\n\n\t\t// Save time by filtering children in the search model instead of relying on the tree filter, which still requires heights to be calculated.\n\t\tconst isRemote = !!this.environmentService.remoteAuthority;\n\n\t\tconst newChildren = [];\n\t\tfor (const child of this.root.children) {\n\t\t\tif (child instanceof SettingsTreeSettingElement\n\t\t\t\t&& child.matchesAllTags(this._viewState.tagFilters)\n\t\t\t\t&& child.matchesScope(this._viewState.settingsTarget, isRemote)\n\t\t\t\t&& child.matchesAnyExtension(this._viewState.extensionFilters)\n\t\t\t\t&& child.matchesAnyId(this._viewState.idFilters)\n\t\t\t\t&& child.matchesAnyFeature(this._viewState.featureFilters)\n\t\t\t\t&& child.matchesAllLanguages(this._viewState.languageFilter)) {\n\t\t\t\tnewChildren.push(child);\n\t\t\t} else {\n\t\t\t\tchild.dispose();\n\t\t\t}\n\t\t}\n\t\tthis.root.children = newChildren;\n\t\tthis.searchResultCount = this.root.children.length;\n\n\t\tif (this.newExtensionSearchResults?.filterMatches.length) {\n\t\t\tlet resultExtensionIds = this.newExtensionSearchResults.filterMatches\n\t\t\t\t.map(result => (<IExtensionSetting>result.setting))\n\t\t\t\t.filter(setting => setting.extensionName && setting.extensionPublisher)\n\t\t\t\t.map(setting => `${setting.extensionPublisher}.${setting.extensionName}`);\n\t\t\tresultExtensionIds = arrays.distinct(resultExtensionIds);\n\n\t\t\tif (resultExtensionIds.length) {\n\t\t\t\tconst newExtElement = new SettingsTreeNewExtensionsElement('newExtensions', resultExtensionIds);\n\t\t\t\tnewExtElement.parent = this._root;\n\t\t\t\tthis._root.children.push(newExtElement);\n\t\t\t}\n\t\t}\n\t}\n\n\tsetResult(order: SearchResultIdx, result: ISearchResult | null): void {\n\t\tthis.cachedUniqueSearchResults.clear();\n\t\tthis.newExtensionSearchResults = null;\n\n\t\tif (this.rawSearchResults && order === SearchResultIdx.Local) {\n\t\t\t// To prevent the Settings editor from showing\n\t\t\t// stale remote results mid-search.\n\t\t\tdelete this.rawSearchResults[SearchResultIdx.Remote];\n\t\t}\n\n\t\tthis.rawSearchResults ??= [];\n\t\tif (!result) {\n\t\t\tdelete this.rawSearchResults[order];\n\t\t\treturn;\n\t\t}\n\n\t\tthis.rawSearchResults[order] = result;\n\t\tthis.updateChildren();\n\t}\n\n\tgetUniqueResultsCount(): number {\n\t\treturn this.searchResultCount ?? 0;\n\t}\n}\n\nexport interface IParsedQuery {\n\ttags: string[];\n\tquery: string;\n\textensionFilters: string[];\n\tidFilters: string[];\n\tfeatureFilters: string[];\n\tlanguageFilter: string | undefined;\n}\n\nconst tagRegex = /(^|\\s)@tag:(\"([^\"]*)\"|[^\"]\\S*)/g;\nconst extensionRegex = /(^|\\s)@ext:(\"([^\"]*)\"|[^\"]\\S*)?/g;\nconst featureRegex = /(^|\\s)@feature:(\"([^\"]*)\"|[^\"]\\S*)?/g;\nconst idRegex = /(^|\\s)@id:(\"([^\"]*)\"|[^\"]\\S*)?/g;\nconst languageRegex = /(^|\\s)@lang:(\"([^\"]*)\"|[^\"]\\S*)?/g;\n\nexport function parseQuery(query: string): IParsedQuery {\n\t/**\n\t * A helper function to parse the query on one type of regex.\n\t *\n\t * @param query The search query\n\t * @param filterRegex The regex to use on the query\n\t * @param parsedParts The parts that the regex parses out will be appended to the array passed in here.\n\t * @returns The query with the parsed parts removed\n\t */\n\tfunction getTagsForType(query: string, filterRegex: RegExp, parsedParts: string[]): string {\n\t\treturn query.replace(filterRegex, (_, __, quotedParsedElement, unquotedParsedElement) => {\n\t\t\tconst parsedElement: string = unquotedParsedElement || quotedParsedElement;\n\t\t\tif (parsedElement) {\n\t\t\t\tparsedParts.push(...parsedElement.split(',').map(s => s.trim()).filter(s => !isFalsyOrWhitespace(s)));\n\t\t\t}\n\t\t\treturn '';\n\t\t});\n\t}\n\n\tconst tags: string[] = [];\n\tquery = query.replace(tagRegex, (_, __, quotedTag, tag) => {\n\t\ttags.push(tag || quotedTag);\n\t\treturn '';\n\t});\n\n\tquery = query.replace(`@${MODIFIED_SETTING_TAG}`, () => {\n\t\ttags.push(MODIFIED_SETTING_TAG);\n\t\treturn '';\n\t});\n\n\tquery = query.replace(`@${POLICY_SETTING_TAG}`, () => {\n\t\ttags.push(POLICY_SETTING_TAG);\n\t\treturn '';\n\t});\n\n\t// Handle @stable by excluding preview and experimental tags\n\tquery = query.replace(/@stable/g, () => {\n\t\ttags.push('stable');\n\t\treturn '';\n\t});\n\n\tconst extensions: string[] = [];\n\tconst features: string[] = [];\n\tconst ids: string[] = [];\n\tconst langs: string[] = [];\n\tquery = getTagsForType(query, extensionRegex, extensions);\n\tquery = getTagsForType(query, featureRegex, features);\n\tquery = getTagsForType(query, idRegex, ids);\n\n\tif (ENABLE_LANGUAGE_FILTER) {\n\t\tquery = getTagsForType(query, languageRegex, langs);\n\t}\n\n\tquery = query.trim();\n\n\t// For now, only return the first found language filter\n\treturn {\n\t\ttags,\n\t\textensionFilters: extensions,\n\t\tfeatureFilters: features,\n\t\tidFilters: ids,\n\t\tlanguageFilter: langs.length ? langs[0] : undefined,\n\t\tquery,\n\t};\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as arrays from '../../../../base/common/arrays.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { IJSONSchema } from '../../../../base/common/jsonSchema.js';\nimport { Disposable, IDisposable } from '../../../../base/common/lifecycle.js';\nimport { escapeRegExpCharacters, isFalsyOrWhitespace } from '../../../../base/common/strings.js';\nimport { isUndefinedOrNull } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ILanguageService } from '../../../../editor/common/languages/language.js';\nimport { ConfigurationTarget, getLanguageTagSettingPlainKey, IConfigurationValue } from '../../../../platform/configuration/common/configuration.js';\nimport { ConfigurationDefaultValueSource, ConfigurationScope, EditPresentationTypes, Extensions, IConfigurationRegistry } from '../../../../platform/configuration/common/configurationRegistry.js';\nimport { IProductService } from '../../../../platform/product/common/productService.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { USER_LOCAL_AND_REMOTE_SETTINGS } from '../../../../platform/request/common/request.js';\nimport { APPLICATION_SCOPES, FOLDER_SCOPES, IWorkbenchConfigurationService, LOCAL_MACHINE_SCOPES, REMOTE_MACHINE_SCOPES, WORKSPACE_SCOPES } from '../../../services/configuration/common/configuration.js';\nimport { IWorkbenchEnvironmentService } from '../../../services/environment/common/environmentService.js';\nimport { IExtensionSetting, ISearchResult, ISetting, ISettingMatch, SettingMatchType, SettingValueType } from '../../../services/preferences/common/preferences.js';\nimport { IUserDataProfileService } from '../../../services/userDataProfile/common/userDataProfile.js';\nimport { ENABLE_EXTENSION_TOGGLE_SETTINGS, ENABLE_LANGUAGE_FILTER, MODIFIED_SETTING_TAG, POLICY_SETTING_TAG, REQUIRE_TRUSTED_WORKSPACE_SETTING_TAG, compareTwoNullableNumbers, wordifyKey } from '../common/preferences.js';\nimport { SettingsTarget } from './preferencesWidgets.js';\nimport { ITOCEntry, tocData } from './settingsLayout.js';\n\nexport const ONLINE_SERVICES_SETTING_TAG = 'usesOnlineServices';\n\nexport interface ISettingsEditorViewState {\n\tsettingsTarget: SettingsTarget;\n\tquery?: string; // used to keep track of loading from setInput vs loading from cache\n\ttagFilters?: Set<string>;\n\textensionFilters?: Set<string>;\n\tfeatureFilters?: Set<string>;\n\tidFilters?: Set<string>;\n\tlanguageFilter?: string;\n\tfilterToCategory?: SettingsTreeGroupElement;\n}\n\nexport abstract class SettingsTreeElement extends Disposable {\n\tid: string;\n\tparent?: SettingsTreeGroupElement;\n\n\tprivate _tabbable = false;\n\n\tprivate readonly _onDidChangeTabbable = this._register(new Emitter<void>());\n\tget onDidChangeTabbable() { return this._onDidChangeTabbable.event; }\n\n\tconstructor(_id: string) {\n\t\tsuper();\n\t\tthis.id = _id;\n\t}\n\n\tget tabbable(): boolean {\n\t\treturn this._tabbable;\n\t}\n\n\tset tabbable(value: boolean) {\n\t\tthis._tabbable = value;\n\t\tthis._onDidChangeTabbable.fire();\n\t}\n}\n\nexport type SettingsTreeGroupChild = (SettingsTreeGroupElement | SettingsTreeSettingElement | SettingsTreeNewExtensionsElement);\n\nexport class SettingsTreeGroupElement extends SettingsTreeElement {\n\tcount?: number;\n\tlabel: string;\n\tlevel: number;\n\tisFirstGroup: boolean;\n\n\tprivate _childSettingKeys: Set<string> = new Set();\n\tprivate _children: SettingsTreeGroupChild[] = [];\n\n\tget children(): SettingsTreeGroupChild[] {\n\t\treturn this._children;\n\t}\n\n\tset children(newChildren: SettingsTreeGroupChild[]) {\n\t\tthis._children = newChildren;\n\n\t\tthis._childSettingKeys = new Set();\n\t\tthis._children.forEach(child => {\n\t\t\tif (child instanceof SettingsTreeSettingElement) {\n\t\t\t\tthis._childSettingKeys.add(child.setting.key);\n\t\t\t}\n\t\t});\n\t}\n\n\tconstructor(_id: string, count: number | undefined, label: string, level: number, isFirstGroup: boolean) {\n\t\tsuper(_id);\n\n\t\tthis.count = count;\n\t\tthis.label = label;\n\t\tthis.level = level;\n\t\tthis.isFirstGroup = isFirstGroup;\n\t}\n\n\t/**\n\t * Returns whether this group contains the given child key (to a depth of 1 only)\n\t */\n\tcontainsSetting(key: string): boolean {\n\t\treturn this._childSettingKeys.has(key);\n\t}\n}\n\nexport class SettingsTreeNewExtensionsElement extends SettingsTreeElement {\n\tconstructor(_id: string, public readonly extensionIds: string[]) {\n\t\tsuper(_id);\n\t}\n}\n\nexport class SettingsTreeSettingElement extends SettingsTreeElement {\n\tprivate static readonly MAX_DESC_LINES = 20;\n\n\tsetting: ISetting;\n\n\tprivate _displayCategory: string | null = null;\n\tprivate _displayLabel: string | null = null;\n\n\t/**\n\t * scopeValue || defaultValue, for rendering convenience.\n\t */\n\tvalue: any;\n\n\t/**\n\t * The value in the current settings scope.\n\t */\n\tscopeValue: any;\n\n\t/**\n\t * The default value\n\t */\n\tdefaultValue?: any;\n\n\t/**\n\t * The source of the default value to display.\n\t * This value also accounts for extension-contributed language-specific default value overrides.\n\t */\n\tdefaultValueSource: ConfigurationDefaultValueSource | undefined;\n\n\t/**\n\t * Whether the setting is configured in the selected scope.\n\t */\n\tisConfigured = false;\n\n\t/**\n\t * Whether the setting requires trusted target\n\t */\n\tisUntrusted = false;\n\n\t/**\n\t * Whether the setting is under a policy that blocks all changes.\n\t */\n\thasPolicyValue = false;\n\n\ttags?: Set<string>;\n\toverriddenScopeList: string[] = [];\n\toverriddenDefaultsLanguageList: string[] = [];\n\n\t/**\n\t * For each language that contributes setting values or default overrides, we can see those values here.\n\t */\n\tlanguageOverrideValues: Map<string, IConfigurationValue<unknown>> = new Map<string, IConfigurationValue<unknown>>();\n\n\tdescription!: string;\n\tvalueType!: SettingValueType;\n\n\tconstructor(\n\t\tsetting: ISetting,\n\t\tparent: SettingsTreeGroupElement,\n\t\treadonly settingsTarget: SettingsTarget,\n\t\tprivate readonly isWorkspaceTrusted: boolean,\n\t\tprivate readonly languageFilter: string | undefined,\n\t\tprivate readonly languageService: ILanguageService,\n\t\tprivate readonly productService: IProductService,\n\t\tprivate readonly userDataProfileService: IUserDataProfileService,\n\t\tprivate readonly configurationService: IWorkbenchConfigurationService,\n\t) {\n\t\tsuper(sanitizeId(parent.id + '_' + setting.key));\n\t\tthis.setting = setting;\n\t\tthis.parent = parent;\n\n\t\t// Make sure description and valueType are initialized\n\t\tthis.initSettingDescription();\n\t\tthis.initSettingValueType();\n\t}\n\n\tget displayCategory(): string {\n\t\tif (!this._displayCategory) {\n\t\t\tthis.initLabels();\n\t\t}\n\n\t\treturn this._displayCategory!;\n\t}\n\n\tget displayLabel(): string {\n\t\tif (!this._displayLabel) {\n\t\t\tthis.initLabels();\n\t\t}\n\n\t\treturn this._displayLabel!;\n\t}\n\n\tprivate initLabels(): void {\n\t\tif (this.setting.title) {\n\t\t\tthis._displayLabel = this.setting.title;\n\t\t\tthis._displayCategory = this.setting.categoryLabel ?? null;\n\t\t\treturn;\n\t\t}\n\t\tconst displayKeyFormat = settingKeyToDisplayFormat(this.setting.key, this.parent!.id, this.setting.isLanguageTagSetting);\n\t\tthis._displayLabel = displayKeyFormat.label;\n\t\tthis._displayCategory = displayKeyFormat.category;\n\t}\n\n\tprivate initSettingDescription() {\n\t\tif (this.setting.description.length > SettingsTreeSettingElement.MAX_DESC_LINES) {\n\t\t\tconst truncatedDescLines = this.setting.description.slice(0, SettingsTreeSettingElement.MAX_DESC_LINES);\n\t\t\ttruncatedDescLines.push('[...]');\n\t\t\tthis.description = truncatedDescLines.join('\\n');\n\t\t} else {\n\t\t\tthis.description = this.setting.description.join('\\n');\n\t\t}\n\t}\n\n\tprivate initSettingValueType() {\n\t\tif (isExtensionToggleSetting(this.setting, this.productService)) {\n\t\t\tthis.valueType = SettingValueType.ExtensionToggle;\n\t\t} else if (this.setting.enum && (!this.setting.type || settingTypeEnumRenderable(this.setting.type))) {\n\t\t\tthis.valueType = SettingValueType.Enum;\n\t\t} else if (this.setting.type === 'string') {\n\t\t\tif (this.setting.editPresentation === EditPresentationTypes.Multiline) {\n\t\t\t\tthis.valueType = SettingValueType.MultilineString;\n\t\t\t} else {\n\t\t\t\tthis.valueType = SettingValueType.String;\n\t\t\t}\n\t\t} else if (isExcludeSetting(this.setting)) {\n\t\t\tthis.valueType = SettingValueType.Exclude;\n\t\t} else if (isIncludeSetting(this.setting)) {\n\t\t\tthis.valueType = SettingValueType.Include;\n\t\t} else if (this.setting.type === 'integer') {\n\t\t\tthis.valueType = SettingValueType.Integer;\n\t\t} else if (this.setting.type === 'number') {\n\t\t\tthis.valueType = SettingValueType.Number;\n\t\t} else if (this.setting.type === 'boolean') {\n\t\t\tthis.valueType = SettingValueType.Boolean;\n\t\t} else if (this.setting.type === 'array' && this.setting.arrayItemType &&\n\t\t\t['string', 'enum', 'number', 'integer'].includes(this.setting.arrayItemType)) {\n\t\t\tthis.valueType = SettingValueType.Array;\n\t\t} else if (Array.isArray(this.setting.type) && this.setting.type.includes(SettingValueType.Null) && this.setting.type.length === 2) {\n\t\t\tif (this.setting.type.includes(SettingValueType.Integer)) {\n\t\t\t\tthis.valueType = SettingValueType.NullableInteger;\n\t\t\t} else if (this.setting.type.includes(SettingValueType.Number)) {\n\t\t\t\tthis.valueType = SettingValueType.NullableNumber;\n\t\t\t} else {\n\t\t\t\tthis.valueType = SettingValueType.Complex;\n\t\t\t}\n\t\t} else {\n\t\t\tconst schemaType = getObjectSettingSchemaType(this.setting);\n\t\t\tif (schemaType) {\n\t\t\t\tif (this.setting.allKeysAreBoolean) {\n\t\t\t\t\tthis.valueType = SettingValueType.BooleanObject;\n\t\t\t\t} else if (schemaType === 'simple') {\n\t\t\t\t\tthis.valueType = SettingValueType.Object;\n\t\t\t\t} else {\n\t\t\t\t\tthis.valueType = SettingValueType.ComplexObject;\n\t\t\t\t}\n\t\t\t} else if (this.setting.isLanguageTagSetting) {\n\t\t\t\tthis.valueType = SettingValueType.LanguageTag;\n\t\t\t} else {\n\t\t\t\tthis.valueType = SettingValueType.Complex;\n\t\t\t}\n\t\t}\n\t}\n\n\tinspectSelf() {\n\t\tconst targetToInspect = this.getTargetToInspect(this.setting);\n\t\tconst inspectResult = inspectSetting(this.setting.key, targetToInspect, this.languageFilter, this.configurationService);\n\t\tthis.update(inspectResult, this.isWorkspaceTrusted);\n\t}\n\n\tprivate getTargetToInspect(setting: ISetting): SettingsTarget {\n\t\tif (!this.userDataProfileService.currentProfile.isDefault && !this.userDataProfileService.currentProfile.useDefaultFlags?.settings) {\n\t\t\tif (setting.scope === ConfigurationScope.APPLICATION) {\n\t\t\t\treturn ConfigurationTarget.APPLICATION;\n\t\t\t}\n\t\t\tif (this.configurationService.isSettingAppliedForAllProfiles(setting.key) && this.settingsTarget === ConfigurationTarget.USER_LOCAL) {\n\t\t\t\treturn ConfigurationTarget.APPLICATION;\n\t\t\t}\n\t\t}\n\t\treturn this.settingsTarget;\n\t}\n\n\tprivate update(inspectResult: IInspectResult, isWorkspaceTrusted: boolean): void {\n\t\tlet { isConfigured, inspected, targetSelector, inspectedLanguageOverrides, languageSelector } = inspectResult;\n\n\t\tswitch (targetSelector) {\n\t\t\tcase 'workspaceFolderValue':\n\t\t\tcase 'workspaceValue':\n\t\t\t\tthis.isUntrusted = !!this.setting.restricted && !isWorkspaceTrusted;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tlet displayValue = isConfigured ? inspected[targetSelector] : inspected.defaultValue;\n\t\tconst overriddenScopeList: string[] = [];\n\t\tconst overriddenDefaultsLanguageList: string[] = [];\n\t\tif ((languageSelector || targetSelector !== 'workspaceValue') && typeof inspected.workspaceValue !== 'undefined') {\n\t\t\toverriddenScopeList.push('workspace:');\n\t\t}\n\t\tif ((languageSelector || targetSelector !== 'userRemoteValue') && typeof inspected.userRemoteValue !== 'undefined') {\n\t\t\toverriddenScopeList.push('remote:');\n\t\t}\n\t\tif ((languageSelector || targetSelector !== 'userLocalValue') && typeof inspected.userLocalValue !== 'undefined') {\n\t\t\toverriddenScopeList.push('user:');\n\t\t}\n\n\t\tif (inspected.overrideIdentifiers) {\n\t\t\tfor (const overrideIdentifier of inspected.overrideIdentifiers) {\n\t\t\t\tconst inspectedOverride = inspectedLanguageOverrides.get(overrideIdentifier);\n\t\t\t\tif (inspectedOverride) {\n\t\t\t\t\tif (this.languageService.isRegisteredLanguageId(overrideIdentifier)) {\n\t\t\t\t\t\tif (languageSelector !== overrideIdentifier && typeof inspectedOverride.default?.override !== 'undefined') {\n\t\t\t\t\t\t\toverriddenDefaultsLanguageList.push(overrideIdentifier);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ((languageSelector !== overrideIdentifier || targetSelector !== 'workspaceValue') && typeof inspectedOverride.workspace?.override !== 'undefined') {\n\t\t\t\t\t\t\toverriddenScopeList.push(`workspace:${overrideIdentifier}`);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ((languageSelector !== overrideIdentifier || targetSelector !== 'userRemoteValue') && typeof inspectedOverride.userRemote?.override !== 'undefined') {\n\t\t\t\t\t\t\toverriddenScopeList.push(`remote:${overrideIdentifier}`);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ((languageSelector !== overrideIdentifier || targetSelector !== 'userLocalValue') && typeof inspectedOverride.userLocal?.override !== 'undefined') {\n\t\t\t\t\t\t\toverriddenScopeList.push(`user:${overrideIdentifier}`);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.languageOverrideValues.set(overrideIdentifier, inspectedOverride);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.overriddenScopeList = overriddenScopeList;\n\t\tthis.overriddenDefaultsLanguageList = overriddenDefaultsLanguageList;\n\n\t\t// The user might have added, removed, or modified a language filter,\n\t\t// so we reset the default value source to the non-language-specific default value source for now.\n\t\tthis.defaultValueSource = this.setting.nonLanguageSpecificDefaultValueSource;\n\n\t\tif (inspected.policyValue !== undefined) {\n\t\t\tthis.hasPolicyValue = true;\n\t\t\tisConfigured = false; // The user did not manually configure the setting themselves.\n\t\t\tdisplayValue = inspected.policyValue;\n\t\t\tthis.scopeValue = inspected.policyValue;\n\t\t\tthis.defaultValue = inspected.defaultValue;\n\t\t} else if (languageSelector && this.languageOverrideValues.has(languageSelector)) {\n\t\t\tconst overrideValues = this.languageOverrideValues.get(languageSelector)!;\n\t\t\t// In the worst case, go back to using the previous display value.\n\t\t\t// Also, sometimes the override is in the form of a default value override, so consider that second.\n\t\t\tdisplayValue = (isConfigured ? overrideValues[targetSelector] : overrideValues.defaultValue) ?? displayValue;\n\t\t\tthis.scopeValue = isConfigured && overrideValues[targetSelector];\n\t\t\tthis.defaultValue = overrideValues.defaultValue ?? inspected.defaultValue;\n\n\t\t\tconst registryValues = Registry.as<IConfigurationRegistry>(Extensions.Configuration).getConfigurationDefaultsOverrides();\n\t\t\tconst source = registryValues.get(`[${languageSelector}]`)?.source;\n\t\t\tconst overrideValueSource = source instanceof Map ? source.get(this.setting.key) : undefined;\n\t\t\tif (overrideValueSource) {\n\t\t\t\tthis.defaultValueSource = overrideValueSource;\n\t\t\t}\n\t\t} else {\n\t\t\tthis.scopeValue = isConfigured && inspected[targetSelector];\n\t\t\tthis.defaultValue = inspected.defaultValue;\n\t\t}\n\n\t\tthis.value = displayValue;\n\t\tthis.isConfigured = isConfigured;\n\t\tif (isConfigured || this.setting.tags || this.tags || this.setting.restricted || this.hasPolicyValue) {\n\t\t\t// Don't create an empty Set for all 1000 settings, only if needed\n\t\t\tthis.tags = new Set<string>();\n\t\t\tif (isConfigured) {\n\t\t\t\tthis.tags.add(MODIFIED_SETTING_TAG);\n\t\t\t}\n\n\t\t\tthis.setting.tags?.forEach(tag => this.tags!.add(tag));\n\n\t\t\tif (this.setting.restricted) {\n\t\t\t\tthis.tags.add(REQUIRE_TRUSTED_WORKSPACE_SETTING_TAG);\n\t\t\t}\n\n\t\t\tif (this.hasPolicyValue) {\n\t\t\t\tthis.tags.add(POLICY_SETTING_TAG);\n\t\t\t}\n\t\t}\n\t}\n\n\tmatchesAllTags(tagFilters?: Set<string>): boolean {\n\t\tif (!tagFilters?.size) {\n\t\t\t// This setting, which may have tags,\n\t\t\t// matches against a query with no tags.\n\t\t\treturn true;\n\t\t}\n\n\t\tif (!this.tags) {\n\t\t\t// The setting must inspect itself to get tag information\n\t\t\t// including for the hasPolicy tag.\n\t\t\tthis.inspectSelf();\n\t\t}\n\n\t\t// Handle the special 'stable' tag filter\n\t\tif (tagFilters.has('stable')) {\n\t\t\t// For stable filter, exclude preview and experimental settings\n\t\t\tif (this.tags?.has('preview') || this.tags?.has('experimental')) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// Check other filters (excluding 'stable' itself)\n\t\t\tconst otherFilters = new Set(Array.from(tagFilters).filter(tag => tag !== 'stable'));\n\t\t\tif (otherFilters.size === 0) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn !!this.tags?.size &&\n\t\t\t\tArray.from(otherFilters).every(tag => this.tags!.has(tag));\n\t\t}\n\n\t\t// Check that the filter tags are a subset of this setting's tags\n\t\treturn !!this.tags?.size &&\n\t\t\tArray.from(tagFilters).every(tag => this.tags!.has(tag));\n\t}\n\n\tmatchesScope(scope: SettingsTarget, isRemote: boolean): boolean {\n\t\tconst configTarget = URI.isUri(scope) ? ConfigurationTarget.WORKSPACE_FOLDER : scope;\n\n\t\tif (!this.setting.scope) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (configTarget === ConfigurationTarget.APPLICATION) {\n\t\t\treturn APPLICATION_SCOPES.includes(this.setting.scope);\n\t\t}\n\n\t\tif (configTarget === ConfigurationTarget.WORKSPACE_FOLDER) {\n\t\t\treturn FOLDER_SCOPES.includes(this.setting.scope);\n\t\t}\n\n\t\tif (configTarget === ConfigurationTarget.WORKSPACE) {\n\t\t\treturn WORKSPACE_SCOPES.includes(this.setting.scope);\n\t\t}\n\n\t\tif (configTarget === ConfigurationTarget.USER_REMOTE) {\n\t\t\treturn REMOTE_MACHINE_SCOPES.includes(this.setting.scope) || USER_LOCAL_AND_REMOTE_SETTINGS.includes(this.setting.key);\n\t\t}\n\n\t\tif (configTarget === ConfigurationTarget.USER_LOCAL) {\n\t\t\tif (isRemote) {\n\t\t\t\treturn LOCAL_MACHINE_SCOPES.includes(this.setting.scope) || USER_LOCAL_AND_REMOTE_SETTINGS.includes(this.setting.key);\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tmatchesAnyExtension(extensionFilters?: Set<string>): boolean {\n\t\tif (!extensionFilters || !extensionFilters.size) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (!this.setting.extensionInfo) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn Array.from(extensionFilters).some(extensionId => extensionId.toLowerCase() === this.setting.extensionInfo!.id.toLowerCase());\n\t}\n\n\tmatchesAnyFeature(featureFilters?: Set<string>): boolean {\n\t\tif (!featureFilters || !featureFilters.size) {\n\t\t\treturn true;\n\t\t}\n\n\t\tconst features = tocData.children!.find(child => child.id === 'features');\n\n\t\treturn Array.from(featureFilters).some(filter => {\n\t\t\tif (features && features.children) {\n\t\t\t\tconst feature = features.children.find(feature => 'features/' + filter === feature.id);\n\t\t\t\tif (feature) {\n\t\t\t\t\tconst patterns = feature.settings?.map(setting => createSettingMatchRegExp(setting));\n\t\t\t\t\treturn patterns && !this.setting.extensionInfo && patterns.some(pattern => pattern.test(this.setting.key.toLowerCase()));\n\t\t\t\t} else {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t}\n\n\tmatchesAnyId(idFilters?: Set<string>): boolean {\n\t\tif (!idFilters || !idFilters.size) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Check for exact match first\n\t\tif (idFilters.has(this.setting.key)) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Check for wildcard patterns (ending with .*)\n\t\tfor (const filter of idFilters) {\n\t\t\tif (filter.endsWith('*')) {\n\t\t\t\tconst prefix = filter.slice(0, -1); // Remove '*' suffix\n\t\t\t\tif (this.setting.key.startsWith(prefix)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tmatchesAllLanguages(languageFilter?: string): boolean {\n\t\tif (!languageFilter) {\n\t\t\t// We're not filtering by language.\n\t\t\treturn true;\n\t\t}\n\n\t\tif (!this.languageService.isRegisteredLanguageId(languageFilter)) {\n\t\t\t// We're trying to filter by an invalid language.\n\t\t\treturn false;\n\t\t}\n\n\t\t// We have a language filter in the search widget at this point.\n\t\t// We decide to show all language overridable settings to make the\n\t\t// lang filter act more like a scope filter,\n\t\t// rather than adding on an implicit @modified as well.\n\t\tif (this.setting.scope === ConfigurationScope.LANGUAGE_OVERRIDABLE) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n}\n\n\nfunction createSettingMatchRegExp(pattern: string): RegExp {\n\tpattern = escapeRegExpCharacters(pattern)\n\t\t.replace(/\\\\\\*/g, '.*');\n\n\treturn new RegExp(`^${pattern}$`, 'i');\n}\n\nexport class SettingsTreeModel implements IDisposable {\n\tprotected _root!: SettingsTreeGroupElement;\n\tprivate _tocRoot!: ITOCEntry<ISetting>;\n\tprivate readonly _treeElementsBySettingName = new Map<string, SettingsTreeSettingElement[]>();\n\n\tconstructor(\n\t\tprotected readonly _viewState: ISettingsEditorViewState,\n\t\tprivate _isWorkspaceTrusted: boolean,\n\t\t@IWorkbenchConfigurationService private readonly _configurationService: IWorkbenchConfigurationService,\n\t\t@ILanguageService private readonly _languageService: ILanguageService,\n\t\t@IUserDataProfileService private readonly _userDataProfileService: IUserDataProfileService,\n\t\t@IProductService private readonly _productService: IProductService\n\t) {\n\t}\n\n\tget root(): SettingsTreeGroupElement {\n\t\treturn this._root;\n\t}\n\n\tupdate(newTocRoot = this._tocRoot): void {\n\t\tthis._treeElementsBySettingName.clear();\n\n\t\tconst newRoot = this.createSettingsTreeGroupElement(newTocRoot);\n\t\tif (newRoot.children[0] instanceof SettingsTreeGroupElement) {\n\t\t\t(<SettingsTreeGroupElement>newRoot.children[0]).isFirstGroup = true;\n\t\t}\n\n\t\tif (this._root) {\n\t\t\tthis.disposeChildren(this._root.children);\n\t\t\tthis._root.children = newRoot.children;\n\t\t\tnewRoot.dispose();\n\t\t} else {\n\t\t\tthis._root = newRoot;\n\t\t}\n\t}\n\n\tupdateWorkspaceTrust(workspaceTrusted: boolean): void {\n\t\tthis._isWorkspaceTrusted = workspaceTrusted;\n\t\tthis.updateRequireTrustedTargetElements();\n\t}\n\n\tprivate disposeChildren(children: SettingsTreeGroupChild[]) {\n\t\tfor (const child of children) {\n\t\t\tthis.disposeChildAndRecurse(child);\n\t\t}\n\t}\n\n\tprivate disposeChildAndRecurse(element: SettingsTreeElement) {\n\t\tif (element instanceof SettingsTreeGroupElement) {\n\t\t\tthis.disposeChildren(element.children);\n\t\t}\n\n\t\telement.dispose();\n\t}\n\n\tgetElementsByName(name: string): SettingsTreeSettingElement[] | null {\n\t\treturn this._treeElementsBySettingName.get(name) ?? null;\n\t}\n\n\tupdateElementsByName(name: string): void {\n\t\tif (!this._treeElementsBySettingName.has(name)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.reinspectSettings(this._treeElementsBySettingName.get(name)!);\n\t}\n\n\tprivate updateRequireTrustedTargetElements(): void {\n\t\tthis.reinspectSettings([...this._treeElementsBySettingName.values()].flat().filter(s => s.isUntrusted));\n\t}\n\n\tprivate reinspectSettings(settings: SettingsTreeSettingElement[]): void {\n\t\tfor (const element of settings) {\n\t\t\telement.inspectSelf();\n\t\t}\n\t}\n\n\tprivate createSettingsTreeGroupElement(tocEntry: ITOCEntry<ISetting>, parent?: SettingsTreeGroupElement): SettingsTreeGroupElement {\n\t\tconst depth = parent ? this.getDepth(parent) + 1 : 0;\n\t\tconst element = new SettingsTreeGroupElement(tocEntry.id, undefined, tocEntry.label, depth, false);\n\t\telement.parent = parent;\n\n\t\tconst children: SettingsTreeGroupChild[] = [];\n\t\tif (tocEntry.settings) {\n\t\t\tconst settingChildren = tocEntry.settings.map(s => this.createSettingsTreeSettingElement(s, element));\n\t\t\tfor (const child of settingChildren) {\n\t\t\t\tif (!child.setting.deprecationMessage) {\n\t\t\t\t\tchildren.push(child);\n\t\t\t\t} else {\n\t\t\t\t\tchild.inspectSelf();\n\t\t\t\t\tif (child.isConfigured) {\n\t\t\t\t\t\tchildren.push(child);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tchild.dispose();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (tocEntry.children) {\n\t\t\tconst groupChildren = tocEntry.children.map(child => this.createSettingsTreeGroupElement(child, element));\n\t\t\tchildren.push(...groupChildren);\n\t\t}\n\n\t\telement.children = children;\n\n\t\treturn element;\n\t}\n\n\tprivate getDepth(element: SettingsTreeElement): number {\n\t\tif (element.parent) {\n\t\t\treturn 1 + this.getDepth(element.parent);\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\t}\n\n\tprivate createSettingsTreeSettingElement(setting: ISetting, parent: SettingsTreeGroupElement): SettingsTreeSettingElement {\n\t\tconst element = new SettingsTreeSettingElement(\n\t\t\tsetting,\n\t\t\tparent,\n\t\t\tthis._viewState.settingsTarget,\n\t\t\tthis._isWorkspaceTrusted,\n\t\t\tthis._viewState.languageFilter,\n\t\t\tthis._languageService,\n\t\t\tthis._productService,\n\t\t\tthis._userDataProfileService,\n\t\t\tthis._configurationService);\n\n\t\tconst nameElements = this._treeElementsBySettingName.get(setting.key) ?? [];\n\t\tnameElements.push(element);\n\t\tthis._treeElementsBySettingName.set(setting.key, nameElements);\n\t\treturn element;\n\t}\n\n\tdispose() {\n\t\tthis._treeElementsBySettingName.clear();\n\t\tthis.disposeChildAndRecurse(this._root);\n\t}\n}\n\ninterface IInspectResult {\n\tisConfigured: boolean;\n\tinspected: IConfigurationValue<unknown>;\n\ttargetSelector: 'applicationValue' | 'userLocalValue' | 'userRemoteValue' | 'workspaceValue' | 'workspaceFolderValue';\n\tinspectedLanguageOverrides: Map<string, IConfigurationValue<unknown>>;\n\tlanguageSelector: string | undefined;\n}\n\nexport function inspectSetting(key: string, target: SettingsTarget, languageFilter: string | undefined, configurationService: IWorkbenchConfigurationService): IInspectResult {\n\tconst inspectOverrides = URI.isUri(target) ? { resource: target } : undefined;\n\tconst inspected = configurationService.inspect(key, inspectOverrides);\n\tconst targetSelector = target === ConfigurationTarget.APPLICATION ? 'applicationValue' :\n\t\ttarget === ConfigurationTarget.USER_LOCAL ? 'userLocalValue' :\n\t\t\ttarget === ConfigurationTarget.USER_REMOTE ? 'userRemoteValue' :\n\t\t\t\ttarget === ConfigurationTarget.WORKSPACE ? 'workspaceValue' :\n\t\t\t\t\t'workspaceFolderValue';\n\tconst targetOverrideSelector = target === ConfigurationTarget.APPLICATION ? 'application' :\n\t\ttarget === ConfigurationTarget.USER_LOCAL ? 'userLocal' :\n\t\t\ttarget === ConfigurationTarget.USER_REMOTE ? 'userRemote' :\n\t\t\t\ttarget === ConfigurationTarget.WORKSPACE ? 'workspace' :\n\t\t\t\t\t'workspaceFolder';\n\tlet isConfigured = typeof inspected[targetSelector] !== 'undefined';\n\n\tconst overrideIdentifiers = inspected.overrideIdentifiers;\n\tconst inspectedLanguageOverrides = new Map<string, IConfigurationValue<unknown>>();\n\n\t// We must reset isConfigured to be false if languageFilter is set, and manually\n\t// determine whether it can be set to true later.\n\tif (languageFilter) {\n\t\tisConfigured = false;\n\t}\n\tif (overrideIdentifiers) {\n\t\t// The setting we're looking at has language overrides.\n\t\tfor (const overrideIdentifier of overrideIdentifiers) {\n\t\t\tinspectedLanguageOverrides.set(overrideIdentifier, configurationService.inspect(key, { overrideIdentifier }));\n\t\t}\n\n\t\t// For all language filters, see if there's an override for that filter.\n\t\tif (languageFilter) {\n\t\t\tif (inspectedLanguageOverrides.has(languageFilter)) {\n\t\t\t\tconst overrideValue = inspectedLanguageOverrides.get(languageFilter)![targetOverrideSelector]?.override;\n\t\t\t\tif (typeof overrideValue !== 'undefined') {\n\t\t\t\t\tisConfigured = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { isConfigured, inspected, targetSelector, inspectedLanguageOverrides, languageSelector: languageFilter };\n}\n\nfunction sanitizeId(id: string): string {\n\treturn id.replace(/[\\.\\/]/, '_');\n}\n\nexport function settingKeyToDisplayFormat(key: string, groupId: string = '', isLanguageTagSetting: boolean = false): { category: string; label: string } {\n\tconst lastDotIdx = key.lastIndexOf('.');\n\tlet category = '';\n\tif (lastDotIdx >= 0) {\n\t\tcategory = key.substring(0, lastDotIdx);\n\t\tkey = key.substring(lastDotIdx + 1);\n\t}\n\n\tgroupId = groupId.replace(/\\//g, '.');\n\tcategory = trimCategoryForGroup(category, groupId);\n\tcategory = wordifyKey(category);\n\n\tif (isLanguageTagSetting) {\n\t\tkey = getLanguageTagSettingPlainKey(key);\n\t\tkey = '$(bracket) ' + key;\n\t}\n\n\tconst label = wordifyKey(key);\n\treturn { category, label };\n}\n\n/**\n * Removes redundant sections of the category label.\n * A redundant section is a section already reflected in the groupId.\n *\n * @param category The category of the specific setting.\n * @param groupId The author + extension ID.\n * @returns The new category label to use.\n */\nfunction trimCategoryForGroup(category: string, groupId: string): string {\n\tconst doTrim = (forward: boolean) => {\n\t\t// Remove the Insiders portion if the category doesn't use it.\n\t\tif (!/insiders$/i.test(category)) {\n\t\t\tgroupId = groupId.replace(/-?insiders$/i, '');\n\t\t}\n\t\tconst parts = groupId.split('.')\n\t\t\t.map(part => {\n\t\t\t\t// Remove hyphens, but only if that results in a match with the category.\n\t\t\t\tif (part.replace(/-/g, '').toLowerCase() === category.toLowerCase()) {\n\t\t\t\t\treturn part.replace(/-/g, '');\n\t\t\t\t} else {\n\t\t\t\t\treturn part;\n\t\t\t\t}\n\t\t\t});\n\t\twhile (parts.length) {\n\t\t\tconst reg = new RegExp(`^${parts.join('\\\\.')}(\\\\.|$)`, 'i');\n\t\t\tif (reg.test(category)) {\n\t\t\t\treturn category.replace(reg, '');\n\t\t\t}\n\n\t\t\tif (forward) {\n\t\t\t\tparts.pop();\n\t\t\t} else {\n\t\t\t\tparts.shift();\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t};\n\n\tlet trimmed = doTrim(true);\n\tif (trimmed === null) {\n\t\ttrimmed = doTrim(false);\n\t}\n\n\tif (trimmed === null) {\n\t\ttrimmed = category;\n\t}\n\n\treturn trimmed;\n}\n\nfunction isExtensionToggleSetting(setting: ISetting, productService: IProductService): boolean {\n\treturn ENABLE_EXTENSION_TOGGLE_SETTINGS &&\n\t\t!!productService.extensionRecommendations &&\n\t\t!!setting.displayExtensionId;\n}\n\nfunction isExcludeSetting(setting: ISetting): boolean {\n\treturn setting.key === 'files.exclude' ||\n\t\tsetting.key === 'search.exclude' ||\n\t\tsetting.key === 'workbench.localHistory.exclude' ||\n\t\tsetting.key === 'explorer.autoRevealExclude' ||\n\t\tsetting.key === 'files.readonlyExclude' ||\n\t\tsetting.key === 'files.watcherExclude';\n}\n\nfunction isIncludeSetting(setting: ISetting): boolean {\n\treturn setting.key === 'files.readonlyInclude';\n}\n\n// The values of the following settings when a default values has been removed\nexport function objectSettingSupportsRemoveDefaultValue(key: string): boolean {\n\treturn key === 'workbench.editor.customLabels.patterns';\n}\n\nfunction isSimpleType(type: string | undefined): boolean {\n\treturn type === 'string' || type === 'boolean' || type === 'integer' || type === 'number';\n}\n\nfunction getObjectRenderableSchemaType(schema: IJSONSchema, key: string): 'simple' | 'complex' | false {\n\tconst { type } = schema;\n\n\tif (Array.isArray(type)) {\n\t\tif (objectSettingSupportsRemoveDefaultValue(key) && type.length === 2) {\n\t\t\tif (type.includes('null') && (type.includes('string') || type.includes('boolean') || type.includes('integer') || type.includes('number'))) {\n\t\t\t\treturn 'simple';\n\t\t\t}\n\t\t}\n\n\t\tfor (const t of type) {\n\t\t\tif (!isSimpleType(t)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn 'complex';\n\t}\n\n\tif (isSimpleType(type)) {\n\t\treturn 'simple';\n\t}\n\n\tif (type === 'array') {\n\t\tif (schema.items) {\n\t\t\tconst itemSchemas = Array.isArray(schema.items) ? schema.items : [schema.items];\n\t\t\tfor (const { type } of itemSchemas) {\n\t\t\t\tif (Array.isArray(type)) {\n\t\t\t\t\tfor (const t of type) {\n\t\t\t\t\t\tif (!isSimpleType(t)) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn 'complex';\n\t\t\t\t}\n\t\t\t\tif (!isSimpleType(type)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn 'complex';\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\treturn false;\n}\n\nfunction getObjectSettingSchemaType({\n\tkey,\n\ttype,\n\tobjectProperties,\n\tobjectPatternProperties,\n\tobjectAdditionalProperties\n}: ISetting): 'simple' | 'complex' | false {\n\tif (type !== 'object') {\n\t\treturn false;\n\t}\n\n\t// object can have any shape\n\tif (\n\t\tisUndefinedOrNull(objectProperties) &&\n\t\tisUndefinedOrNull(objectPatternProperties) &&\n\t\tisUndefinedOrNull(objectAdditionalProperties)\n\t) {\n\t\treturn false;\n\t}\n\n\t// objectAdditionalProperties allow the setting to have any shape,\n\t// but if there's a pattern property that handles everything, then every\n\t// property will match that patternProperty, so we don't need to look at\n\t// the value of objectAdditionalProperties in that case.\n\tif ((objectAdditionalProperties === true || objectAdditionalProperties === undefined)\n\t\t&& !Object.keys(objectPatternProperties ?? {}).includes('.*')) {\n\t\treturn false;\n\t}\n\n\tconst schemas = [...Object.values(objectProperties ?? {}), ...Object.values(objectPatternProperties ?? {})];\n\n\tif (objectAdditionalProperties && typeof objectAdditionalProperties === 'object') {\n\t\tschemas.push(objectAdditionalProperties);\n\t}\n\n\tlet schemaType: 'simple' | 'complex' | false = 'simple';\n\tfor (const schema of schemas) {\n\t\tfor (const subSchema of Array.isArray(schema.anyOf) ? schema.anyOf : [schema]) {\n\t\t\tconst subSchemaType = getObjectRenderableSchemaType(subSchema, key);\n\t\t\tif (subSchemaType === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (subSchemaType === 'complex') {\n\t\t\t\tschemaType = 'complex';\n\t\t\t}\n\t\t}\n\t}\n\n\treturn schemaType;\n}\n\nfunction settingTypeEnumRenderable(_type: string | string[]) {\n\tconst enumRenderableSettingTypes = ['string', 'boolean', 'null', 'integer', 'number'];\n\tconst type = Array.isArray(_type) ? _type : [_type];\n\treturn type.every(type => enumRenderableSettingTypes.includes(type));\n}\n\nexport const enum SearchResultIdx {\n\tLocal = 0,\n\tRemote = 1,\n\tNewExtensions = 2,\n\tEmbeddings = 3,\n\tAiSelected = 4\n}\n\nexport class SearchResultModel extends SettingsTreeModel {\n\tprivate rawSearchResults: ISearchResult[] | null = null;\n\tprivate cachedUniqueSearchResults: Map<boolean, ISearchResult | null>;\n\tprivate newExtensionSearchResults: ISearchResult | null = null;\n\tprivate searchResultCount: number | null = null;\n\tprivate settingsOrderByTocIndex: Map<string, number> | null;\n\tprivate aiFilterEnabled: boolean = false;\n\n\treadonly id = 'searchResultModel';\n\n\tconstructor(\n\t\tviewState: ISettingsEditorViewState,\n\t\tsettingsOrderByTocIndex: Map<string, number> | null,\n\t\tisWorkspaceTrusted: boolean,\n\t\t@IWorkbenchConfigurationService configurationService: IWorkbenchConfigurationService,\n\t\t@IWorkbenchEnvironmentService private readonly environmentService: IWorkbenchEnvironmentService,\n\t\t@ILanguageService languageService: ILanguageService,\n\t\t@IUserDataProfileService userDataProfileService: IUserDataProfileService,\n\t\t@IProductService productService: IProductService\n\t) {\n\t\tsuper(viewState, isWorkspaceTrusted, configurationService, languageService, userDataProfileService, productService);\n\t\tthis.settingsOrderByTocIndex = settingsOrderByTocIndex;\n\t\tthis.cachedUniqueSearchResults = new Map();\n\t\tthis.update({ id: 'searchResultModel', label: '' });\n\t}\n\n\tset showAiResults(show: boolean) {\n\t\tthis.aiFilterEnabled = show;\n\t\tthis.updateChildren();\n\t}\n\n\tprivate sortResults(filterMatches: ISettingMatch[]): ISettingMatch[] {\n\t\tif (this.settingsOrderByTocIndex) {\n\t\t\tfor (const match of filterMatches) {\n\t\t\t\tmatch.setting.internalOrder = this.settingsOrderByTocIndex.get(match.setting.key);\n\t\t\t}\n\t\t}\n\n\t\t// The search only has filters, so we can sort by the order in the TOC.\n\t\tif (!this._viewState.query) {\n\t\t\treturn filterMatches.sort((a, b) => compareTwoNullableNumbers(a.setting.internalOrder, b.setting.internalOrder));\n\t\t}\n\n\t\t// Sort the settings according to their relevancy.\n\t\t// https://github.com/microsoft/vscode/issues/197773\n\t\tfilterMatches.sort((a, b) => {\n\t\t\tif (a.matchType !== b.matchType) {\n\t\t\t\t// Sort by match type if the match types are not the same.\n\t\t\t\t// The priority of the match type is given by the SettingMatchType enum.\n\t\t\t\treturn b.matchType - a.matchType;\n\t\t\t} else if ((a.matchType & SettingMatchType.NonContiguousWordsInSettingsLabel) || (a.matchType & SettingMatchType.ContiguousWordsInSettingsLabel)) {\n\t\t\t\t// The match types of a and b are the same and can be sorted by their number of matched words.\n\t\t\t\t// If those numbers are the same, sort by the order in the table of contents.\n\t\t\t\treturn (b.keyMatchScore - a.keyMatchScore) || compareTwoNullableNumbers(a.setting.internalOrder, b.setting.internalOrder);\n\t\t\t} else if (a.matchType === SettingMatchType.RemoteMatch) {\n\t\t\t\t// The match types are the same and are RemoteMatch.\n\t\t\t\t// Sort by score.\n\t\t\t\treturn b.score - a.score;\n\t\t\t} else {\n\t\t\t\t// The match types are the same but are not RemoteMatch.\n\t\t\t\t// Sort by their order in the table of contents.\n\t\t\t\treturn compareTwoNullableNumbers(a.setting.internalOrder, b.setting.internalOrder);\n\t\t\t}\n\t\t});\n\n\t\t// Remove duplicates, which sometimes occur with settings\n\t\t// such as the experimental toggle setting.\n\t\treturn arrays.distinct(filterMatches, (match) => match.setting.key);\n\t}\n\n\tgetUniqueSearchResults(): ISearchResult | null {\n\t\tconst cachedResults = this.cachedUniqueSearchResults.get(this.aiFilterEnabled);\n\t\tif (cachedResults) {\n\t\t\treturn cachedResults;\n\t\t}\n\n\t\tif (!this.rawSearchResults) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet combinedFilterMatches: ISettingMatch[] = [];\n\n\t\tif (this.aiFilterEnabled) {\n\t\t\tconst aiSelectedKeys = new Set<string>();\n\t\t\tconst aiSelectedResult = this.rawSearchResults[SearchResultIdx.AiSelected];\n\t\t\tif (aiSelectedResult) {\n\t\t\t\taiSelectedResult.filterMatches.forEach(m => aiSelectedKeys.add(m.setting.key));\n\t\t\t\tcombinedFilterMatches = aiSelectedResult.filterMatches;\n\t\t\t}\n\n\t\t\tconst embeddingsResult = this.rawSearchResults[SearchResultIdx.Embeddings];\n\t\t\tif (embeddingsResult) {\n\t\t\t\tembeddingsResult.filterMatches = embeddingsResult.filterMatches.filter(m => !aiSelectedKeys.has(m.setting.key));\n\t\t\t\tcombinedFilterMatches = combinedFilterMatches.concat(embeddingsResult.filterMatches);\n\t\t\t}\n\t\t\tconst result = {\n\t\t\t\tfilterMatches: combinedFilterMatches,\n\t\t\t\texactMatch: false\n\t\t\t};\n\t\t\tthis.cachedUniqueSearchResults.set(true, result);\n\t\t\treturn result;\n\t\t}\n\n\t\tconst localMatchKeys = new Set<string>();\n\t\tconst localResult = this.rawSearchResults[SearchResultIdx.Local];\n\t\tif (localResult) {\n\t\t\tlocalResult.filterMatches.forEach(m => localMatchKeys.add(m.setting.key));\n\t\t\tcombinedFilterMatches = localResult.filterMatches;\n\t\t}\n\n\t\tconst remoteResult = this.rawSearchResults[SearchResultIdx.Remote];\n\t\tif (remoteResult) {\n\t\t\tremoteResult.filterMatches = remoteResult.filterMatches.filter(m => !localMatchKeys.has(m.setting.key));\n\t\t\tcombinedFilterMatches = combinedFilterMatches.concat(remoteResult.filterMatches);\n\n\t\t\tthis.newExtensionSearchResults = this.rawSearchResults[SearchResultIdx.NewExtensions];\n\t\t}\n\t\tcombinedFilterMatches = this.sortResults(combinedFilterMatches);\n\t\tconst result = {\n\t\t\tfilterMatches: combinedFilterMatches,\n\t\t\texactMatch: localResult.exactMatch // remote results should never have an exact match\n\t\t};\n\t\tthis.cachedUniqueSearchResults.set(false, result);\n\t\treturn result;\n\t}\n\n\tgetRawResults(): ISearchResult[] {\n\t\treturn this.rawSearchResults ?? [];\n\t}\n\n\tprivate getUniqueSearchResultSettings(): ISetting[] {\n\t\treturn this.getUniqueSearchResults()?.filterMatches.map(m => m.setting) ?? [];\n\t}\n\n\tupdateChildren(): void {\n\t\tthis.update({\n\t\t\tid: 'searchResultModel',\n\t\t\tlabel: 'searchResultModel',\n\t\t\tsettings: this.getUniqueSearchResultSettings()\n\t\t});\n\n\t\t// Save time by filtering children in the search model instead of relying on the tree filter, which still requires heights to be calculated.\n\t\tconst isRemote = !!this.environmentService.remoteAuthority;\n\n\t\tconst newChildren = [];\n\t\tfor (const child of this.root.children) {\n\t\t\tif (child instanceof SettingsTreeSettingElement\n\t\t\t\t&& child.matchesAllTags(this._viewState.tagFilters)\n\t\t\t\t&& child.matchesScope(this._viewState.settingsTarget, isRemote)\n\t\t\t\t&& child.matchesAnyExtension(this._viewState.extensionFilters)\n\t\t\t\t&& child.matchesAnyId(this._viewState.idFilters)\n\t\t\t\t&& child.matchesAnyFeature(this._viewState.featureFilters)\n\t\t\t\t&& child.matchesAllLanguages(this._viewState.languageFilter)) {\n\t\t\t\tnewChildren.push(child);\n\t\t\t} else {\n\t\t\t\tchild.dispose();\n\t\t\t}\n\t\t}\n\t\tthis.root.children = newChildren;\n\t\tthis.searchResultCount = this.root.children.length;\n\n\t\tif (this.newExtensionSearchResults?.filterMatches.length) {\n\t\t\tlet resultExtensionIds = this.newExtensionSearchResults.filterMatches\n\t\t\t\t.map(result => (<IExtensionSetting>result.setting))\n\t\t\t\t.filter(setting => setting.extensionName && setting.extensionPublisher)\n\t\t\t\t.map(setting => `${setting.extensionPublisher}.${setting.extensionName}`);\n\t\t\tresultExtensionIds = arrays.distinct(resultExtensionIds);\n\n\t\t\tif (resultExtensionIds.length) {\n\t\t\t\tconst newExtElement = new SettingsTreeNewExtensionsElement('newExtensions', resultExtensionIds);\n\t\t\t\tnewExtElement.parent = this._root;\n\t\t\t\tthis._root.children.push(newExtElement);\n\t\t\t}\n\t\t}\n\t}\n\n\tsetResult(order: SearchResultIdx, result: ISearchResult | null): void {\n\t\tthis.cachedUniqueSearchResults.clear();\n\t\tthis.newExtensionSearchResults = null;\n\n\t\tif (this.rawSearchResults && order === SearchResultIdx.Local) {\n\t\t\t// To prevent the Settings editor from showing\n\t\t\t// stale remote results mid-search.\n\t\t\tdelete this.rawSearchResults[SearchResultIdx.Remote];\n\t\t}\n\n\t\tthis.rawSearchResults ??= [];\n\t\tif (!result) {\n\t\t\tdelete this.rawSearchResults[order];\n\t\t\treturn;\n\t\t}\n\n\t\tthis.rawSearchResults[order] = result;\n\t\tthis.updateChildren();\n\t}\n\n\tgetUniqueResultsCount(): number {\n\t\treturn this.searchResultCount ?? 0;\n\t}\n}\n\nexport interface IParsedQuery {\n\ttags: string[];\n\tquery: string;\n\textensionFilters: string[];\n\tidFilters: string[];\n\tfeatureFilters: string[];\n\tlanguageFilter: string | undefined;\n}\n\nconst tagRegex = /(^|\\s)@tag:(\"([^\"]*)\"|[^\"]\\S*)/g;\nconst extensionRegex = /(^|\\s)@ext:(\"([^\"]*)\"|[^\"]\\S*)?/g;\nconst featureRegex = /(^|\\s)@feature:(\"([^\"]*)\"|[^\"]\\S*)?/g;\nconst idRegex = /(^|\\s)@id:(\"([^\"]*)\"|[^\"]\\S*)?/g;\nconst languageRegex = /(^|\\s)@lang:(\"([^\"]*)\"|[^\"]\\S*)?/g;\n\nexport function parseQuery(query: string): IParsedQuery {\n\t/**\n\t * A helper function to parse the query on one type of regex.\n\t *\n\t * @param query The search query\n\t * @param filterRegex The regex to use on the query\n\t * @param parsedParts The parts that the regex parses out will be appended to the array passed in here.\n\t * @returns The query with the parsed parts removed\n\t */\n\tfunction getTagsForType(query: string, filterRegex: RegExp, parsedParts: string[]): string {\n\t\treturn query.replace(filterRegex, (_, __, quotedParsedElement, unquotedParsedElement) => {\n\t\t\tconst parsedElement: string = unquotedParsedElement || quotedParsedElement;\n\t\t\tif (parsedElement) {\n\t\t\t\tparsedParts.push(...parsedElement.split(',').map(s => s.trim()).filter(s => !isFalsyOrWhitespace(s)));\n\t\t\t}\n\t\t\treturn '';\n\t\t});\n\t}\n\n\tconst tags: string[] = [];\n\tquery = query.replace(tagRegex, (_, __, quotedTag, tag) => {\n\t\ttags.push(tag || quotedTag);\n\t\treturn '';\n\t});\n\n\tquery = query.replace(`@${MODIFIED_SETTING_TAG}`, () => {\n\t\ttags.push(MODIFIED_SETTING_TAG);\n\t\treturn '';\n\t});\n\n\tquery = query.replace(`@${POLICY_SETTING_TAG}`, () => {\n\t\ttags.push(POLICY_SETTING_TAG);\n\t\treturn '';\n\t});\n\n\t// Handle @stable by excluding preview and experimental tags\n\tquery = query.replace(/@stable/g, () => {\n\t\ttags.push('stable');\n\t\treturn '';\n\t});\n\n\tconst extensions: string[] = [];\n\tconst features: string[] = [];\n\tconst ids: string[] = [];\n\tconst langs: string[] = [];\n\tquery = getTagsForType(query, extensionRegex, extensions);\n\tquery = getTagsForType(query, featureRegex, features);\n\tquery = getTagsForType(query, idRegex, ids);\n\n\tif (ENABLE_LANGUAGE_FILTER) {\n\t\tquery = getTagsForType(query, languageRegex, langs);\n\t}\n\n\tquery = query.trim();\n\n\t// For now, only return the first found language filter\n\treturn {\n\t\ttags,\n\t\textensionFilters: extensions,\n\t\tfeatureFilters: features,\n\t\tidFilters: ids,\n\t\tlanguageFilter: langs.length ? langs[0] : undefined,\n\t\tquery,\n\t};\n}\n"]}