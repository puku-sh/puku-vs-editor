{"version":3,"sources":["vs/workbench/contrib/preferences/browser/settingsSearchMenu.ts"],"names":[],"mappings":"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","file":"settingsSearchMenu.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IActionViewItemOptions } from '../../../../base/browser/ui/actionbar/actionViewItems.js';\nimport { AnchorAlignment } from '../../../../base/browser/ui/contextview/contextview.js';\nimport { DropdownMenuActionViewItem } from '../../../../base/browser/ui/dropdown/dropdownActionViewItem.js';\nimport { IAction, IActionRunner, Separator } from '../../../../base/common/actions.js';\nimport { SuggestController } from '../../../../editor/contrib/suggest/browser/suggestController.js';\nimport { localize } from '../../../../nls.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { SuggestEnabledInput } from '../../codeEditor/browser/suggestEnabledInput/suggestEnabledInput.js';\nimport { ADVANCED_SETTING_TAG, EXTENSION_SETTING_TAG, FEATURE_SETTING_TAG, GENERAL_TAG_SETTING_TAG, ID_SETTING_TAG, LANGUAGE_SETTING_TAG, MODIFIED_SETTING_TAG, POLICY_SETTING_TAG } from '../common/preferences.js';\n\nexport class SettingsSearchFilterDropdownMenuActionViewItem extends DropdownMenuActionViewItem {\n\tprivate readonly suggestController: SuggestController | null;\n\n\tconstructor(\n\t\taction: IAction,\n\t\toptions: IActionViewItemOptions,\n\t\tactionRunner: IActionRunner | undefined,\n\t\tprivate readonly searchWidget: SuggestEnabledInput,\n\t\t@IContextMenuService contextMenuService: IContextMenuService\n\t) {\n\t\tsuper(action,\n\t\t\t{ getActions: () => this.getActions() },\n\t\t\tcontextMenuService,\n\t\t\t{\n\t\t\t\t...options,\n\t\t\t\tactionRunner,\n\t\t\t\tclassNames: action.class,\n\t\t\t\tanchorAlignmentProvider: () => AnchorAlignment.RIGHT,\n\t\t\t\tmenuAsChild: true\n\t\t\t}\n\t\t);\n\n\t\tthis.suggestController = SuggestController.get(this.searchWidget.inputWidget);\n\t}\n\n\toverride render(container: HTMLElement): void {\n\t\tsuper.render(container);\n\t}\n\n\tprivate doSearchWidgetAction(queryToAppend: string, triggerSuggest: boolean) {\n\t\tthis.searchWidget.setValue(this.searchWidget.getValue().trimEnd() + ' ' + queryToAppend);\n\t\tthis.searchWidget.focus();\n\t\tif (triggerSuggest && this.suggestController) {\n\t\t\tthis.suggestController.triggerSuggest();\n\t\t}\n\t}\n\n\t/**\n\t * The created action appends a query to the search widget search string. It optionally triggers suggestions.\n\t */\n\tprivate createAction(id: string, label: string, tooltip: string, queryToAppend: string, triggerSuggest: boolean): IAction {\n\t\treturn {\n\t\t\tid,\n\t\t\tlabel,\n\t\t\ttooltip,\n\t\t\tclass: undefined,\n\t\t\tenabled: true,\n\t\t\trun: () => { this.doSearchWidgetAction(queryToAppend, triggerSuggest); }\n\t\t};\n\t}\n\n\t/**\n\t * The created action appends a query to the search widget search string, if the query does not exist.\n\t * Otherwise, it removes the query from the search widget search string.\n\t * The action does not trigger suggestions after adding or removing the query.\n\t */\n\tprivate createToggleAction(id: string, label: string, tooltip: string, queryToAppend: string): IAction {\n\t\tconst splitCurrentQuery = this.searchWidget.getValue().split(' ');\n\t\tconst queryContainsQueryToAppend = splitCurrentQuery.includes(queryToAppend);\n\t\treturn {\n\t\t\tid,\n\t\t\tlabel,\n\t\t\ttooltip,\n\t\t\tclass: undefined,\n\t\t\tenabled: true,\n\t\t\tchecked: queryContainsQueryToAppend,\n\t\t\trun: () => {\n\t\t\t\tif (!queryContainsQueryToAppend) {\n\t\t\t\t\tconst trimmedCurrentQuery = this.searchWidget.getValue().trimEnd();\n\t\t\t\t\tconst newQuery = trimmedCurrentQuery ? trimmedCurrentQuery + ' ' + queryToAppend : queryToAppend;\n\t\t\t\t\tthis.searchWidget.setValue(newQuery);\n\t\t\t\t} else {\n\t\t\t\t\tconst queryWithRemovedTags = this.searchWidget.getValue().split(' ')\n\t\t\t\t\t\t.filter(word => word !== queryToAppend).join(' ');\n\t\t\t\t\tthis.searchWidget.setValue(queryWithRemovedTags);\n\t\t\t\t}\n\t\t\t\tthis.searchWidget.focus();\n\t\t\t}\n\t\t};\n\t}\n\n\tprivate createMutuallyExclusiveToggleAction(id: string, label: string, tooltip: string, filter: string, excludeFilters: string[]): IAction {\n\t\tconst isFilterEnabled = this.searchWidget.getValue().split(' ').includes(filter);\n\t\treturn {\n\t\t\tid,\n\t\t\tlabel,\n\t\t\ttooltip,\n\t\t\tclass: undefined,\n\t\t\tenabled: true,\n\t\t\tchecked: isFilterEnabled,\n\t\t\trun: () => {\n\t\t\t\tif (isFilterEnabled) {\n\t\t\t\t\tconst queryWithRemovedTags = this.searchWidget.getValue().split(' ')\n\t\t\t\t\t\t.filter(word => word !== filter).join(' ');\n\t\t\t\t\tthis.searchWidget.setValue(queryWithRemovedTags);\n\t\t\t\t} else {\n\t\t\t\t\tlet newQuery = this.searchWidget.getValue().split(' ')\n\t\t\t\t\t\t.filter(word => !excludeFilters.includes(word) && word !== filter)\n\t\t\t\t\t\t.join(' ')\n\t\t\t\t\t\t.trimEnd();\n\t\t\t\t\tnewQuery = newQuery ? newQuery + ' ' + filter : filter;\n\t\t\t\t\tthis.searchWidget.setValue(newQuery);\n\t\t\t\t}\n\t\t\t\tthis.searchWidget.focus();\n\t\t\t}\n\t\t};\n\t}\n\n\tgetActions(): IAction[] {\n\t\treturn [\n\t\t\tthis.createToggleAction(\n\t\t\t\t'modifiedSettingsSearch',\n\t\t\t\tlocalize('modifiedSettingsSearch', \"Modified\"),\n\t\t\t\tlocalize('modifiedSettingsSearchTooltip', \"Add or remove modified settings filter\"),\n\t\t\t\t`@${MODIFIED_SETTING_TAG}`\n\t\t\t),\n\t\t\tnew Separator(),\n\t\t\tthis.createAction(\n\t\t\t\t'extSettingsSearch',\n\t\t\t\tlocalize('extSettingsSearch', \"Extension ID...\"),\n\t\t\t\tlocalize('extSettingsSearchTooltip', \"Add extension ID filter\"),\n\t\t\t\t`@${EXTENSION_SETTING_TAG}`,\n\t\t\t\ttrue\n\t\t\t),\n\t\t\tthis.createAction(\n\t\t\t\t'featuresSettingsSearch',\n\t\t\t\tlocalize('featureSettingsSearch', \"Feature...\"),\n\t\t\t\tlocalize('featureSettingsSearchTooltip', \"Add feature filter\"),\n\t\t\t\t`@${FEATURE_SETTING_TAG}`,\n\t\t\t\ttrue\n\t\t\t),\n\t\t\tthis.createAction(\n\t\t\t\t'tagSettingsSearch',\n\t\t\t\tlocalize('tagSettingsSearch', \"Tag...\"),\n\t\t\t\tlocalize('tagSettingsSearchTooltip', \"Add tag filter\"),\n\t\t\t\t`@${GENERAL_TAG_SETTING_TAG}`,\n\t\t\t\ttrue\n\t\t\t),\n\t\t\tthis.createAction(\n\t\t\t\t'langSettingsSearch',\n\t\t\t\tlocalize('langSettingsSearch', \"Language...\"),\n\t\t\t\tlocalize('langSettingsSearchTooltip', \"Add language ID filter\"),\n\t\t\t\t`@${LANGUAGE_SETTING_TAG}`,\n\t\t\t\ttrue\n\t\t\t),\n\t\t\tthis.createAction(\n\t\t\t\t'idSettingsSearch',\n\t\t\t\tlocalize('idSettingsSearch', \"Setting ID...\"),\n\t\t\t\tlocalize('idSettingsSearchTooltip', \"Add Setting ID filter\"),\n\t\t\t\t`@${ID_SETTING_TAG}`,\n\t\t\t\tfalse\n\t\t\t),\n\t\t\tnew Separator(),\n\t\t\tthis.createToggleAction(\n\t\t\t\t'onlineSettingsSearch',\n\t\t\t\tlocalize('onlineSettingsSearch', \"Online services\"),\n\t\t\t\tlocalize('onlineSettingsSearchTooltip', \"Show settings for online services\"),\n\t\t\t\t'@tag:usesOnlineServices'\n\t\t\t),\n\t\t\tthis.createToggleAction(\n\t\t\t\t'policySettingsSearch',\n\t\t\t\tlocalize('policySettingsSearch', \"Organization policies\"),\n\t\t\t\tlocalize('policySettingsSearchTooltip', \"Show organization policy settings\"),\n\t\t\t\t`@${POLICY_SETTING_TAG}`\n\t\t\t),\n\t\t\tnew Separator(),\n\t\t\tthis.createMutuallyExclusiveToggleAction(\n\t\t\t\t'stableSettingsSearch',\n\t\t\t\tlocalize('stableSettings', \"Stable\"),\n\t\t\t\tlocalize('stableSettingsSearchTooltip', \"Show stable settings\"),\n\t\t\t\t`@stable`,\n\t\t\t\t['@tag:preview', '@tag:experimental']\n\t\t\t),\n\t\t\tthis.createMutuallyExclusiveToggleAction(\n\t\t\t\t'previewSettingsSearch',\n\t\t\t\tlocalize('previewSettings', \"Preview\"),\n\t\t\t\tlocalize('previewSettingsSearchTooltip', \"Show preview settings\"),\n\t\t\t\t`@tag:preview`,\n\t\t\t\t['@stable', '@tag:experimental']\n\t\t\t),\n\t\t\tthis.createMutuallyExclusiveToggleAction(\n\t\t\t\t'experimentalSettingsSearch',\n\t\t\t\tlocalize('experimental', \"Experimental\"),\n\t\t\t\tlocalize('experimentalSettingsSearchTooltip', \"Show experimental settings\"),\n\t\t\t\t`@tag:experimental`,\n\t\t\t\t['@stable', '@tag:preview']\n\t\t\t),\n\t\t\tnew Separator(),\n\t\t\tthis.createToggleAction(\n\t\t\t\t'advancedSettingsSearch',\n\t\t\t\tlocalize('advancedSettingsSearch', \"Advanced\"),\n\t\t\t\tlocalize('advancedSettingsSearchTooltip', \"Show advanced settings\"),\n\t\t\t\t`@tag:${ADVANCED_SETTING_TAG}`,\n\t\t\t),\n\t\t];\n\t}\n}\n"]}