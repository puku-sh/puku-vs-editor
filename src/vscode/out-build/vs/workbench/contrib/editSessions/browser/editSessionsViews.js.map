{"version":3,"sources":["vs/workbench/contrib/editSessions/browser/editSessionsViews.ts"],"names":[],"mappings":"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","file":"editSessionsViews.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { localize } from '../../../../nls.js';\nimport { SyncDescriptor } from '../../../../platform/instantiation/common/descriptors.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { TreeView, TreeViewPane } from '../../../browser/parts/views/treeView.js';\nimport { Extensions, ITreeItem, ITreeViewDataProvider, ITreeViewDescriptor, IViewsRegistry, TreeItemCollapsibleState, TreeViewItemHandleArg, ViewContainer } from '../../../common/views.js';\nimport { ChangeType, EDIT_SESSIONS_DATA_VIEW_ID, EDIT_SESSIONS_SCHEME, EDIT_SESSIONS_SHOW_VIEW, EDIT_SESSIONS_TITLE, EditSession, IEditSessionsStorageService } from '../common/editSessions.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { fromNow } from '../../../../base/common/date.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { API_OPEN_EDITOR_COMMAND_ID } from '../../../browser/parts/editor/editorCommands.js';\nimport { registerAction2, Action2, MenuId } from '../../../../platform/actions/common/actions.js';\nimport { ContextKeyExpr, IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { IDialogService } from '../../../../platform/dialogs/common/dialogs.js';\nimport { IWorkspaceContextService } from '../../../../platform/workspace/common/workspace.js';\nimport { joinPath } from '../../../../base/common/resources.js';\nimport { IFileService } from '../../../../platform/files/common/files.js';\nimport { basename } from '../../../../base/common/path.js';\nimport { createCommandUri } from '../../../../base/common/htmlContent.js';\n\nconst EDIT_SESSIONS_COUNT_KEY = 'editSessionsCount';\nconst EDIT_SESSIONS_COUNT_CONTEXT_KEY = new RawContextKey<number>(EDIT_SESSIONS_COUNT_KEY, 0);\n\nexport class EditSessionsDataViews extends Disposable {\n\tconstructor(\n\t\tcontainer: ViewContainer,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t) {\n\t\tsuper();\n\t\tthis.registerViews(container);\n\t}\n\n\tprivate registerViews(container: ViewContainer): void {\n\t\tconst viewId = EDIT_SESSIONS_DATA_VIEW_ID;\n\t\tconst treeView = this.instantiationService.createInstance(TreeView, viewId, EDIT_SESSIONS_TITLE.value);\n\t\ttreeView.showCollapseAllAction = true;\n\t\ttreeView.showRefreshAction = true;\n\t\ttreeView.dataProvider = this.instantiationService.createInstance(EditSessionDataViewDataProvider);\n\n\t\tconst viewsRegistry = Registry.as<IViewsRegistry>(Extensions.ViewsRegistry);\n\t\t// eslint-disable-next-line local/code-no-dangerous-type-assertions\n\t\tviewsRegistry.registerViews([<ITreeViewDescriptor>{\n\t\t\tid: viewId,\n\t\t\tname: EDIT_SESSIONS_TITLE,\n\t\t\tctorDescriptor: new SyncDescriptor(TreeViewPane),\n\t\t\tcanToggleVisibility: true,\n\t\t\tcanMoveView: false,\n\t\t\ttreeView,\n\t\t\tcollapsed: false,\n\t\t\twhen: ContextKeyExpr.and(EDIT_SESSIONS_SHOW_VIEW),\n\t\t\torder: 100,\n\t\t\thideByDefault: true,\n\t\t}], container);\n\n\t\tviewsRegistry.registerViewWelcomeContent(viewId, {\n\t\t\tcontent: localize(\n\t\t\t\t'noStoredChanges',\n\t\t\t\t'You have no stored changes in the cloud to display.\\n{0}',\n\t\t\t\t`[${localize('storeWorkingChangesTitle', 'Store Working Changes')}](${createCommandUri('workbench.editSessions.actions.store')})`,\n\t\t\t),\n\t\t\twhen: ContextKeyExpr.equals(EDIT_SESSIONS_COUNT_KEY, 0),\n\t\t\torder: 1\n\t\t});\n\n\t\tthis._register(registerAction2(class extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: 'workbench.editSessions.actions.resume',\n\t\t\t\t\ttitle: localize('workbench.editSessions.actions.resume.v2', \"Resume Working Changes\"),\n\t\t\t\t\ticon: Codicon.desktopDownload,\n\t\t\t\t\tmenu: {\n\t\t\t\t\t\tid: MenuId.ViewItemContext,\n\t\t\t\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.equals('view', viewId), ContextKeyExpr.regex('viewItem', /edit-session/i)),\n\t\t\t\t\t\tgroup: 'inline'\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tasync run(accessor: ServicesAccessor, handle: TreeViewItemHandleArg): Promise<void> {\n\t\t\t\tconst editSessionId = URI.parse(handle.$treeItemHandle).path.substring(1);\n\t\t\t\tconst commandService = accessor.get(ICommandService);\n\t\t\t\tawait commandService.executeCommand('workbench.editSessions.actions.resumeLatest', editSessionId, true);\n\t\t\t\tawait treeView.refresh();\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(registerAction2(class extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: 'workbench.editSessions.actions.store',\n\t\t\t\t\ttitle: localize('workbench.editSessions.actions.store.v2', \"Store Working Changes\"),\n\t\t\t\t\ticon: Codicon.cloudUpload,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tasync run(accessor: ServicesAccessor, handle: TreeViewItemHandleArg): Promise<void> {\n\t\t\t\tconst commandService = accessor.get(ICommandService);\n\t\t\t\tawait commandService.executeCommand('workbench.editSessions.actions.storeCurrent');\n\t\t\t\tawait treeView.refresh();\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(registerAction2(class extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: 'workbench.editSessions.actions.delete',\n\t\t\t\t\ttitle: localize('workbench.editSessions.actions.delete.v2', \"Delete Working Changes\"),\n\t\t\t\t\ticon: Codicon.trash,\n\t\t\t\t\tmenu: {\n\t\t\t\t\t\tid: MenuId.ViewItemContext,\n\t\t\t\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.equals('view', viewId), ContextKeyExpr.regex('viewItem', /edit-session/i)),\n\t\t\t\t\t\tgroup: 'inline'\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tasync run(accessor: ServicesAccessor, handle: TreeViewItemHandleArg): Promise<void> {\n\t\t\t\tconst editSessionId = URI.parse(handle.$treeItemHandle).path.substring(1);\n\t\t\t\tconst dialogService = accessor.get(IDialogService);\n\t\t\t\tconst editSessionStorageService = accessor.get(IEditSessionsStorageService);\n\t\t\t\tconst result = await dialogService.confirm({\n\t\t\t\t\tmessage: localize('confirm delete.v2', 'Are you sure you want to permanently delete your working changes with ref {0}?', editSessionId),\n\t\t\t\t\tdetail: localize('confirm delete detail.v2', ' You cannot undo this action.'),\n\t\t\t\t\ttype: 'warning',\n\t\t\t\t\ttitle: EDIT_SESSIONS_TITLE.value\n\t\t\t\t});\n\t\t\t\tif (result.confirmed) {\n\t\t\t\t\tawait editSessionStorageService.delete('editSessions', editSessionId);\n\t\t\t\t\tawait treeView.refresh();\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(registerAction2(class extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: 'workbench.editSessions.actions.deleteAll',\n\t\t\t\t\ttitle: localize('workbench.editSessions.actions.deleteAll', \"Delete All Working Changes from Cloud\"),\n\t\t\t\t\ticon: Codicon.trash,\n\t\t\t\t\tmenu: {\n\t\t\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.equals('view', viewId), ContextKeyExpr.greater(EDIT_SESSIONS_COUNT_KEY, 0)),\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\t\t\tconst dialogService = accessor.get(IDialogService);\n\t\t\t\tconst editSessionStorageService = accessor.get(IEditSessionsStorageService);\n\t\t\t\tconst result = await dialogService.confirm({\n\t\t\t\t\tmessage: localize('confirm delete all', 'Are you sure you want to permanently delete all stored changes from the cloud?'),\n\t\t\t\t\tdetail: localize('confirm delete all detail', ' You cannot undo this action.'),\n\t\t\t\t\ttype: 'warning',\n\t\t\t\t\ttitle: EDIT_SESSIONS_TITLE.value\n\t\t\t\t});\n\t\t\t\tif (result.confirmed) {\n\t\t\t\t\tawait editSessionStorageService.delete('editSessions', null);\n\t\t\t\t\tawait treeView.refresh();\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t}\n}\n\nclass EditSessionDataViewDataProvider implements ITreeViewDataProvider {\n\n\tprivate editSessionsCount;\n\n\tconstructor(\n\t\t@IEditSessionsStorageService private readonly editSessionsStorageService: IEditSessionsStorageService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IWorkspaceContextService private readonly workspaceContextService: IWorkspaceContextService,\n\t\t@IFileService private readonly fileService: IFileService,\n\t) {\n\t\tthis.editSessionsCount = EDIT_SESSIONS_COUNT_CONTEXT_KEY.bindTo(this.contextKeyService);\n\t}\n\n\tasync getChildren(element?: ITreeItem): Promise<ITreeItem[]> {\n\t\tif (!element) {\n\t\t\treturn this.getAllEditSessions();\n\t\t}\n\n\t\tconst [ref, folderName, filePath] = URI.parse(element.handle).path.substring(1).split('/');\n\n\t\tif (ref && !folderName) {\n\t\t\treturn this.getEditSession(ref);\n\t\t} else if (ref && folderName && !filePath) {\n\t\t\treturn this.getEditSessionFolderContents(ref, folderName);\n\t\t}\n\n\t\treturn [];\n\t}\n\n\tprivate async getAllEditSessions(): Promise<ITreeItem[]> {\n\t\tconst allEditSessions = await this.editSessionsStorageService.list('editSessions');\n\t\tthis.editSessionsCount.set(allEditSessions.length);\n\t\tconst editSessions = [];\n\n\t\tfor (const session of allEditSessions) {\n\t\t\tconst resource = URI.from({ scheme: EDIT_SESSIONS_SCHEME, authority: 'remote-session-content', path: `/${session.ref}` });\n\t\t\tconst sessionData = await this.editSessionsStorageService.read('editSessions', session.ref);\n\t\t\tif (!sessionData) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconst content: EditSession = JSON.parse(sessionData.content);\n\t\t\tconst label = content.folders.map((folder) => folder.name).join(', ') ?? session.ref;\n\t\t\tconst machineId = content.machine;\n\t\t\tconst machineName = machineId ? await this.editSessionsStorageService.getMachineById(machineId) : undefined;\n\t\t\tconst description = machineName === undefined ? fromNow(session.created, true) : `${fromNow(session.created, true)}\\u00a0\\u00a0\\u2022\\u00a0\\u00a0${machineName}`;\n\n\t\t\teditSessions.push({\n\t\t\t\thandle: resource.toString(),\n\t\t\t\tcollapsibleState: TreeItemCollapsibleState.Collapsed,\n\t\t\t\tlabel: { label },\n\t\t\t\tdescription: description,\n\t\t\t\tthemeIcon: Codicon.repo,\n\t\t\t\tcontextValue: `edit-session`\n\t\t\t});\n\t\t}\n\n\t\treturn editSessions;\n\t}\n\n\tprivate async getEditSession(ref: string): Promise<ITreeItem[]> {\n\t\tconst data = await this.editSessionsStorageService.read('editSessions', ref);\n\n\t\tif (!data) {\n\t\t\treturn [];\n\t\t}\n\t\tconst content: EditSession = JSON.parse(data.content);\n\n\t\tif (content.folders.length === 1) {\n\t\t\tconst folder = content.folders[0];\n\t\t\treturn this.getEditSessionFolderContents(ref, folder.name);\n\t\t}\n\n\t\treturn content.folders.map((folder) => {\n\t\t\tconst resource = URI.from({ scheme: EDIT_SESSIONS_SCHEME, authority: 'remote-session-content', path: `/${data.ref}/${folder.name}` });\n\t\t\treturn {\n\t\t\t\thandle: resource.toString(),\n\t\t\t\tcollapsibleState: TreeItemCollapsibleState.Collapsed,\n\t\t\t\tlabel: { label: folder.name },\n\t\t\t\tthemeIcon: Codicon.folder\n\t\t\t};\n\t\t});\n\t}\n\n\tprivate async getEditSessionFolderContents(ref: string, folderName: string): Promise<ITreeItem[]> {\n\t\tconst data = await this.editSessionsStorageService.read('editSessions', ref);\n\n\t\tif (!data) {\n\t\t\treturn [];\n\t\t}\n\t\tconst content: EditSession = JSON.parse(data.content);\n\n\t\tconst currentWorkspaceFolder = this.workspaceContextService.getWorkspace().folders.find((folder) => folder.name === folderName);\n\t\tconst editSessionFolder = content.folders.find((folder) => folder.name === folderName);\n\n\t\tif (!editSessionFolder) {\n\t\t\treturn [];\n\t\t}\n\n\t\treturn Promise.all(editSessionFolder.workingChanges.map(async (change) => {\n\t\t\tconst cloudChangeUri = URI.from({ scheme: EDIT_SESSIONS_SCHEME, authority: 'remote-session-content', path: `/${data.ref}/${folderName}/${change.relativeFilePath}` });\n\n\t\t\tif (currentWorkspaceFolder?.uri) {\n\t\t\t\t// find the corresponding file in the workspace\n\t\t\t\tconst localCopy = joinPath(currentWorkspaceFolder.uri, change.relativeFilePath);\n\t\t\t\tif (change.type === ChangeType.Addition && await this.fileService.exists(localCopy)) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\thandle: cloudChangeUri.toString(),\n\t\t\t\t\t\tresourceUri: cloudChangeUri,\n\t\t\t\t\t\tcollapsibleState: TreeItemCollapsibleState.None,\n\t\t\t\t\t\tlabel: { label: change.relativeFilePath },\n\t\t\t\t\t\tthemeIcon: Codicon.file,\n\t\t\t\t\t\tcommand: {\n\t\t\t\t\t\t\tid: 'vscode.diff',\n\t\t\t\t\t\t\ttitle: localize('compare changes', 'Compare Changes'),\n\t\t\t\t\t\t\targuments: [\n\t\t\t\t\t\t\t\tlocalCopy,\n\t\t\t\t\t\t\t\tcloudChangeUri,\n\t\t\t\t\t\t\t\t`${basename(change.relativeFilePath)} (${localize('local copy', 'Local Copy')} \\u2194 ${localize('cloud changes', 'Cloud Changes')})`,\n\t\t\t\t\t\t\t\tundefined\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\thandle: cloudChangeUri.toString(),\n\t\t\t\tresourceUri: cloudChangeUri,\n\t\t\t\tcollapsibleState: TreeItemCollapsibleState.None,\n\t\t\t\tlabel: { label: change.relativeFilePath },\n\t\t\t\tthemeIcon: Codicon.file,\n\t\t\t\tcommand: {\n\t\t\t\t\tid: API_OPEN_EDITOR_COMMAND_ID,\n\t\t\t\t\ttitle: localize('open file', 'Open File'),\n\t\t\t\t\targuments: [cloudChangeUri, undefined, undefined]\n\t\t\t\t}\n\t\t\t};\n\t\t}));\n\t}\n}\n"]}