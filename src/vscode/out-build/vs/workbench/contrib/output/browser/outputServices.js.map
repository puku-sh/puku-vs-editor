{"version":3,"sources":["vs/workbench/contrib/output/browser/outputServices.ts"],"names":[],"mappings":"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","file":"outputServices.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Event, Emitter } from '../../../../base/common/event.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { Disposable, DisposableMap } from '../../../../base/common/lifecycle.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IStorageService, StorageScope, StorageTarget } from '../../../../platform/storage/common/storage.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { IOutputChannel, IOutputService, OUTPUT_VIEW_ID, LOG_MIME, OUTPUT_MIME, OutputChannelUpdateMode, IOutputChannelDescriptor, Extensions, IOutputChannelRegistry, ACTIVE_OUTPUT_CHANNEL_CONTEXT, CONTEXT_ACTIVE_FILE_OUTPUT, CONTEXT_ACTIVE_OUTPUT_LEVEL_SETTABLE, CONTEXT_ACTIVE_OUTPUT_LEVEL, CONTEXT_ACTIVE_OUTPUT_LEVEL_IS_DEFAULT, IOutputViewFilters, SHOW_DEBUG_FILTER_CONTEXT, SHOW_ERROR_FILTER_CONTEXT, SHOW_INFO_FILTER_CONTEXT, SHOW_TRACE_FILTER_CONTEXT, SHOW_WARNING_FILTER_CONTEXT, CONTEXT_ACTIVE_LOG_FILE_OUTPUT, IMultiSourceOutputChannelDescriptor, isSingleSourceOutputChannelDescriptor, HIDE_CATEGORY_FILTER_CONTEXT, isMultiSourceOutputChannelDescriptor, ILogEntry } from '../../../services/output/common/output.js';\nimport { OutputLinkProvider } from './outputLinkProvider.js';\nimport { ITextModelService, ITextModelContentProvider } from '../../../../editor/common/services/resolverService.js';\nimport { ITextModel } from '../../../../editor/common/model.js';\nimport { ILogService, ILoggerService, LogLevel, LogLevelToString } from '../../../../platform/log/common/log.js';\nimport { ILifecycleService } from '../../../services/lifecycle/common/lifecycle.js';\nimport { DelegatedOutputChannelModel, FileOutputChannelModel, IOutputChannelModel, MultiFileOutputChannelModel } from '../common/outputChannelModel.js';\nimport { IViewsService } from '../../../services/views/common/viewsService.js';\nimport { OutputViewPane } from './outputView.js';\nimport { ILanguageService } from '../../../../editor/common/languages/language.js';\nimport { IContextKey, IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IDefaultLogLevelsService } from '../../logs/common/defaultLogLevels.js';\nimport { IFileDialogService } from '../../../../platform/dialogs/common/dialogs.js';\nimport { IFileService } from '../../../../platform/files/common/files.js';\nimport { localize } from '../../../../nls.js';\nimport { joinPath } from '../../../../base/common/resources.js';\nimport { VSBuffer } from '../../../../base/common/buffer.js';\nimport { telemetryLogId } from '../../../../platform/telemetry/common/telemetryUtils.js';\nimport { toLocalISOString } from '../../../../base/common/date.js';\nimport { IWorkbenchEnvironmentService } from '../../../services/environment/common/environmentService.js';\n\nconst OUTPUT_ACTIVE_CHANNEL_KEY = 'output.activechannel';\n\nclass OutputChannel extends Disposable implements IOutputChannel {\n\n\tscrollLock: boolean = false;\n\treadonly model: IOutputChannelModel;\n\treadonly id: string;\n\treadonly label: string;\n\treadonly uri: URI;\n\n\tconstructor(\n\t\treadonly outputChannelDescriptor: IOutputChannelDescriptor,\n\t\tprivate readonly outputLocation: URI,\n\t\tprivate readonly outputDirPromise: Promise<void>,\n\t\t@ILanguageService private readonly languageService: ILanguageService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t) {\n\t\tsuper();\n\t\tthis.id = outputChannelDescriptor.id;\n\t\tthis.label = outputChannelDescriptor.label;\n\t\tthis.uri = URI.from({ scheme: Schemas.outputChannel, path: this.id });\n\t\tthis.model = this._register(this.createOutputChannelModel(this.uri, outputChannelDescriptor));\n\t}\n\n\tprivate createOutputChannelModel(uri: URI, outputChannelDescriptor: IOutputChannelDescriptor): IOutputChannelModel {\n\t\tconst language = outputChannelDescriptor.languageId ? this.languageService.createById(outputChannelDescriptor.languageId) : this.languageService.createByMimeType(outputChannelDescriptor.log ? LOG_MIME : OUTPUT_MIME);\n\t\tif (isMultiSourceOutputChannelDescriptor(outputChannelDescriptor)) {\n\t\t\treturn this.instantiationService.createInstance(MultiFileOutputChannelModel, uri, language, [...outputChannelDescriptor.source]);\n\t\t}\n\t\tif (isSingleSourceOutputChannelDescriptor(outputChannelDescriptor)) {\n\t\t\treturn this.instantiationService.createInstance(FileOutputChannelModel, uri, language, outputChannelDescriptor.source);\n\t\t}\n\t\treturn this.instantiationService.createInstance(DelegatedOutputChannelModel, this.id, uri, language, this.outputLocation, this.outputDirPromise);\n\t}\n\n\tgetLogEntries(): ReadonlyArray<ILogEntry> {\n\t\treturn this.model.getLogEntries();\n\t}\n\n\tappend(output: string): void {\n\t\tthis.model.append(output);\n\t}\n\n\tupdate(mode: OutputChannelUpdateMode, till?: number): void {\n\t\tthis.model.update(mode, till, true);\n\t}\n\n\tclear(): void {\n\t\tthis.model.clear();\n\t}\n\n\treplace(value: string): void {\n\t\tthis.model.replace(value);\n\t}\n}\n\ninterface IOutputFilterOptions {\n\tfilterHistory: string[];\n\ttrace: boolean;\n\tdebug: boolean;\n\tinfo: boolean;\n\twarning: boolean;\n\terror: boolean;\n\tsources: string;\n}\n\nclass OutputViewFilters extends Disposable implements IOutputViewFilters {\n\n\tprivate readonly _onDidChange = this._register(new Emitter<void>());\n\treadonly onDidChange = this._onDidChange.event;\n\n\tconstructor(\n\t\toptions: IOutputFilterOptions,\n\t\tprivate readonly contextKeyService: IContextKeyService\n\t) {\n\t\tsuper();\n\n\t\tthis._trace = SHOW_TRACE_FILTER_CONTEXT.bindTo(this.contextKeyService);\n\t\tthis._trace.set(options.trace);\n\n\t\tthis._debug = SHOW_DEBUG_FILTER_CONTEXT.bindTo(this.contextKeyService);\n\t\tthis._debug.set(options.debug);\n\n\t\tthis._info = SHOW_INFO_FILTER_CONTEXT.bindTo(this.contextKeyService);\n\t\tthis._info.set(options.info);\n\n\t\tthis._warning = SHOW_WARNING_FILTER_CONTEXT.bindTo(this.contextKeyService);\n\t\tthis._warning.set(options.warning);\n\n\t\tthis._error = SHOW_ERROR_FILTER_CONTEXT.bindTo(this.contextKeyService);\n\t\tthis._error.set(options.error);\n\n\t\tthis._categories = HIDE_CATEGORY_FILTER_CONTEXT.bindTo(this.contextKeyService);\n\t\tthis._categories.set(options.sources);\n\n\t\tthis.filterHistory = options.filterHistory;\n\t}\n\n\tfilterHistory: string[];\n\n\tprivate _filterText = '';\n\tget text(): string {\n\t\treturn this._filterText;\n\t}\n\tset text(filterText: string) {\n\t\tif (this._filterText !== filterText) {\n\t\t\tthis._filterText = filterText;\n\t\t\tthis._onDidChange.fire();\n\t\t}\n\t}\n\n\tprivate readonly _trace: IContextKey<boolean>;\n\tget trace(): boolean {\n\t\treturn !!this._trace.get();\n\t}\n\tset trace(trace: boolean) {\n\t\tif (this._trace.get() !== trace) {\n\t\t\tthis._trace.set(trace);\n\t\t\tthis._onDidChange.fire();\n\t\t}\n\t}\n\n\tprivate readonly _debug: IContextKey<boolean>;\n\tget debug(): boolean {\n\t\treturn !!this._debug.get();\n\t}\n\tset debug(debug: boolean) {\n\t\tif (this._debug.get() !== debug) {\n\t\t\tthis._debug.set(debug);\n\t\t\tthis._onDidChange.fire();\n\t\t}\n\t}\n\n\tprivate readonly _info: IContextKey<boolean>;\n\tget info(): boolean {\n\t\treturn !!this._info.get();\n\t}\n\tset info(info: boolean) {\n\t\tif (this._info.get() !== info) {\n\t\t\tthis._info.set(info);\n\t\t\tthis._onDidChange.fire();\n\t\t}\n\t}\n\n\tprivate readonly _warning: IContextKey<boolean>;\n\tget warning(): boolean {\n\t\treturn !!this._warning.get();\n\t}\n\tset warning(warning: boolean) {\n\t\tif (this._warning.get() !== warning) {\n\t\t\tthis._warning.set(warning);\n\t\t\tthis._onDidChange.fire();\n\t\t}\n\t}\n\n\tprivate readonly _error: IContextKey<boolean>;\n\tget error(): boolean {\n\t\treturn !!this._error.get();\n\t}\n\tset error(error: boolean) {\n\t\tif (this._error.get() !== error) {\n\t\t\tthis._error.set(error);\n\t\t\tthis._onDidChange.fire();\n\t\t}\n\t}\n\n\tprivate readonly _categories: IContextKey<string>;\n\tget categories(): string {\n\t\treturn this._categories.get() || ',';\n\t}\n\tset categories(categories: string) {\n\t\tthis._categories.set(categories);\n\t\tthis._onDidChange.fire();\n\t}\n\n\ttoggleCategory(category: string): void {\n\t\tconst categories = this.categories;\n\t\tif (this.hasCategory(category)) {\n\t\t\tthis.categories = categories.replace(`,${category},`, ',');\n\t\t} else {\n\t\t\tthis.categories = `${categories}${category},`;\n\t\t}\n\t}\n\n\thasCategory(category: string): boolean {\n\t\tif (category === ',') {\n\t\t\treturn false;\n\t\t}\n\t\treturn this.categories.includes(`,${category},`);\n\t}\n}\n\nexport class OutputService extends Disposable implements IOutputService, ITextModelContentProvider {\n\n\tdeclare readonly _serviceBrand: undefined;\n\n\tprivate readonly channels = this._register(new DisposableMap<string, OutputChannel>());\n\tprivate activeChannelIdInStorage: string;\n\tprivate activeChannel?: OutputChannel;\n\n\tprivate readonly _onActiveOutputChannel = this._register(new Emitter<string>());\n\treadonly onActiveOutputChannel: Event<string> = this._onActiveOutputChannel.event;\n\n\tprivate readonly activeOutputChannelContext: IContextKey<string>;\n\tprivate readonly activeFileOutputChannelContext: IContextKey<boolean>;\n\tprivate readonly activeLogOutputChannelContext: IContextKey<boolean>;\n\tprivate readonly activeOutputChannelLevelSettableContext: IContextKey<boolean>;\n\tprivate readonly activeOutputChannelLevelContext: IContextKey<string>;\n\tprivate readonly activeOutputChannelLevelIsDefaultContext: IContextKey<boolean>;\n\n\tprivate readonly outputLocation: URI;\n\n\treadonly filters: OutputViewFilters;\n\n\tconstructor(\n\t\t@IStorageService private readonly storageService: IStorageService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@ITextModelService private readonly textModelService: ITextModelService,\n\t\t@ILogService private readonly logService: ILogService,\n\t\t@ILoggerService private readonly loggerService: ILoggerService,\n\t\t@ILifecycleService private readonly lifecycleService: ILifecycleService,\n\t\t@IViewsService private readonly viewsService: IViewsService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IDefaultLogLevelsService private readonly defaultLogLevelsService: IDefaultLogLevelsService,\n\t\t@IFileDialogService private readonly fileDialogService: IFileDialogService,\n\t\t@IFileService private readonly fileService: IFileService,\n\t\t@IWorkbenchEnvironmentService environmentService: IWorkbenchEnvironmentService\n\t) {\n\t\tsuper();\n\t\tthis.activeChannelIdInStorage = this.storageService.get(OUTPUT_ACTIVE_CHANNEL_KEY, StorageScope.WORKSPACE, '');\n\t\tthis.activeOutputChannelContext = ACTIVE_OUTPUT_CHANNEL_CONTEXT.bindTo(contextKeyService);\n\t\tthis.activeOutputChannelContext.set(this.activeChannelIdInStorage);\n\t\tthis._register(this.onActiveOutputChannel(channel => this.activeOutputChannelContext.set(channel)));\n\n\t\tthis.activeFileOutputChannelContext = CONTEXT_ACTIVE_FILE_OUTPUT.bindTo(contextKeyService);\n\t\tthis.activeLogOutputChannelContext = CONTEXT_ACTIVE_LOG_FILE_OUTPUT.bindTo(contextKeyService);\n\t\tthis.activeOutputChannelLevelSettableContext = CONTEXT_ACTIVE_OUTPUT_LEVEL_SETTABLE.bindTo(contextKeyService);\n\t\tthis.activeOutputChannelLevelContext = CONTEXT_ACTIVE_OUTPUT_LEVEL.bindTo(contextKeyService);\n\t\tthis.activeOutputChannelLevelIsDefaultContext = CONTEXT_ACTIVE_OUTPUT_LEVEL_IS_DEFAULT.bindTo(contextKeyService);\n\n\t\tthis.outputLocation = joinPath(environmentService.windowLogsPath, `output_${toLocalISOString(new Date()).replace(/-|:|\\.\\d+Z$/g, '')}`);\n\n\t\t// Register as text model content provider for output\n\t\tthis._register(textModelService.registerTextModelContentProvider(Schemas.outputChannel, this));\n\t\tthis._register(instantiationService.createInstance(OutputLinkProvider));\n\n\t\t// Create output channels for already registered channels\n\t\tconst registry = Registry.as<IOutputChannelRegistry>(Extensions.OutputChannels);\n\t\tfor (const channelIdentifier of registry.getChannels()) {\n\t\t\tthis.onDidRegisterChannel(channelIdentifier.id);\n\t\t}\n\t\tthis._register(registry.onDidRegisterChannel(id => this.onDidRegisterChannel(id)));\n\t\tthis._register(registry.onDidUpdateChannelSources(channel => this.onDidUpdateChannelSources(channel)));\n\t\tthis._register(registry.onDidRemoveChannel(channel => this.onDidRemoveChannel(channel)));\n\n\t\t// Set active channel to first channel if not set\n\t\tif (!this.activeChannel) {\n\t\t\tconst channels = this.getChannelDescriptors();\n\t\t\tthis.setActiveChannel(channels && channels.length > 0 ? this.getChannel(channels[0].id) : undefined);\n\t\t}\n\n\t\tthis._register(Event.filter(this.viewsService.onDidChangeViewVisibility, e => e.id === OUTPUT_VIEW_ID && e.visible)(() => {\n\t\t\tif (this.activeChannel) {\n\t\t\t\tthis.viewsService.getActiveViewWithId<OutputViewPane>(OUTPUT_VIEW_ID)?.showChannel(this.activeChannel, true);\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.loggerService.onDidChangeLogLevel(() => {\n\t\t\tthis.resetLogLevelFilters();\n\t\t\tthis.setLevelContext();\n\t\t\tthis.setLevelIsDefaultContext();\n\t\t}));\n\t\tthis._register(this.defaultLogLevelsService.onDidChangeDefaultLogLevels(() => {\n\t\t\tthis.setLevelIsDefaultContext();\n\t\t}));\n\n\t\tthis._register(this.lifecycleService.onDidShutdown(() => this.dispose()));\n\n\t\tthis.filters = this._register(new OutputViewFilters({\n\t\t\tfilterHistory: [],\n\t\t\ttrace: true,\n\t\t\tdebug: true,\n\t\t\tinfo: true,\n\t\t\twarning: true,\n\t\t\terror: true,\n\t\t\tsources: '',\n\t\t}, contextKeyService));\n\t}\n\n\tprovideTextContent(resource: URI): Promise<ITextModel> | null {\n\t\tconst channel = <OutputChannel>this.getChannel(resource.path);\n\t\tif (channel) {\n\t\t\treturn channel.model.loadModel();\n\t\t}\n\t\treturn null;\n\t}\n\n\tasync showChannel(id: string, preserveFocus?: boolean): Promise<void> {\n\t\tconst channel = this.getChannel(id);\n\t\tif (this.activeChannel?.id !== channel?.id) {\n\t\t\tthis.setActiveChannel(channel);\n\t\t\tthis._onActiveOutputChannel.fire(id);\n\t\t}\n\t\tconst outputView = await this.viewsService.openView<OutputViewPane>(OUTPUT_VIEW_ID, !preserveFocus);\n\t\tif (outputView && channel) {\n\t\t\toutputView.showChannel(channel, !!preserveFocus);\n\t\t}\n\t}\n\n\tgetChannel(id: string): OutputChannel | undefined {\n\t\treturn this.channels.get(id);\n\t}\n\n\tgetChannelDescriptor(id: string): IOutputChannelDescriptor | undefined {\n\t\treturn Registry.as<IOutputChannelRegistry>(Extensions.OutputChannels).getChannel(id);\n\t}\n\n\tgetChannelDescriptors(): IOutputChannelDescriptor[] {\n\t\treturn Registry.as<IOutputChannelRegistry>(Extensions.OutputChannels).getChannels();\n\t}\n\n\tgetActiveChannel(): IOutputChannel | undefined {\n\t\treturn this.activeChannel;\n\t}\n\n\tcanSetLogLevel(channel: IOutputChannelDescriptor): boolean {\n\t\treturn channel.log && channel.id !== telemetryLogId;\n\t}\n\n\tgetLogLevel(channel: IOutputChannelDescriptor): LogLevel | undefined {\n\t\tif (!channel.log) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst sources = isSingleSourceOutputChannelDescriptor(channel) ? [channel.source] : isMultiSourceOutputChannelDescriptor(channel) ? channel.source : [];\n\t\tif (sources.length === 0) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst logLevel = this.loggerService.getLogLevel();\n\t\treturn sources.reduce((prev, curr) => Math.min(prev, this.loggerService.getLogLevel(curr.resource) ?? logLevel), LogLevel.Error);\n\t}\n\n\tsetLogLevel(channel: IOutputChannelDescriptor, logLevel: LogLevel): void {\n\t\tif (!channel.log) {\n\t\t\treturn;\n\t\t}\n\t\tconst sources = isSingleSourceOutputChannelDescriptor(channel) ? [channel.source] : isMultiSourceOutputChannelDescriptor(channel) ? channel.source : [];\n\t\tif (sources.length === 0) {\n\t\t\treturn;\n\t\t}\n\t\tfor (const source of sources) {\n\t\t\tthis.loggerService.setLogLevel(source.resource, logLevel);\n\t\t}\n\t}\n\n\tregisterCompoundLogChannel(descriptors: IOutputChannelDescriptor[]): string {\n\t\tconst outputChannelRegistry = Registry.as<IOutputChannelRegistry>(Extensions.OutputChannels);\n\t\tdescriptors.sort((a, b) => a.label.localeCompare(b.label));\n\t\tconst id = descriptors.map(r => r.id.toLowerCase()).join('-');\n\t\tif (!outputChannelRegistry.getChannel(id)) {\n\t\t\toutputChannelRegistry.registerChannel({\n\t\t\t\tid,\n\t\t\t\tlabel: descriptors.map(r => r.label).join(', '),\n\t\t\t\tlog: descriptors.some(r => r.log),\n\t\t\t\tuser: true,\n\t\t\t\tsource: descriptors.map(descriptor => {\n\t\t\t\t\tif (isSingleSourceOutputChannelDescriptor(descriptor)) {\n\t\t\t\t\t\treturn [{ resource: descriptor.source.resource, name: descriptor.source.name ?? descriptor.label }];\n\t\t\t\t\t}\n\t\t\t\t\tif (isMultiSourceOutputChannelDescriptor(descriptor)) {\n\t\t\t\t\t\treturn descriptor.source;\n\t\t\t\t\t}\n\t\t\t\t\tconst channel = this.getChannel(descriptor.id);\n\t\t\t\t\tif (channel) {\n\t\t\t\t\t\treturn channel.model.source;\n\t\t\t\t\t}\n\t\t\t\t\treturn [];\n\t\t\t\t}).flat(),\n\t\t\t});\n\t\t}\n\t\treturn id;\n\t}\n\n\tasync saveOutputAs(outputPath?: URI, ...channels: IOutputChannelDescriptor[]): Promise<void> {\n\t\tlet channel: IOutputChannel | undefined;\n\t\tif (channels.length > 1) {\n\t\t\tconst compoundChannelId = this.registerCompoundLogChannel(channels);\n\t\t\tchannel = this.getChannel(compoundChannelId);\n\t\t} else {\n\t\t\tchannel = this.getChannel(channels[0].id);\n\t\t}\n\n\t\tif (!channel) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tlet uri: URI | undefined = outputPath;\n\t\t\tif (!uri) {\n\t\t\t\tconst name = channels.length > 1 ? 'output' : channels[0].label;\n\t\t\t\turi = await this.fileDialogService.showSaveDialog({\n\t\t\t\t\ttitle: localize('saveLog.dialogTitle', \"Save Output As\"),\n\t\t\t\t\tavailableFileSystems: [Schemas.file],\n\t\t\t\t\tdefaultUri: joinPath(await this.fileDialogService.defaultFilePath(), `${name}.log`),\n\t\t\t\t\tfilters: [{\n\t\t\t\t\t\tname,\n\t\t\t\t\t\textensions: ['log']\n\t\t\t\t\t}]\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!uri) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst modelRef = await this.textModelService.createModelReference(channel.uri);\n\t\t\ttry {\n\t\t\t\tawait this.fileService.writeFile(uri, VSBuffer.fromString(modelRef.object.textEditorModel.getValue()));\n\t\t\t} finally {\n\t\t\t\tmodelRef.dispose();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tfinally {\n\t\t\tif (channels.length > 1) {\n\t\t\t\tRegistry.as<IOutputChannelRegistry>(Extensions.OutputChannels).removeChannel(channel.id);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate async onDidRegisterChannel(channelId: string): Promise<void> {\n\t\tconst channel = this.createChannel(channelId);\n\t\tthis.channels.set(channelId, channel);\n\t\tif (!this.activeChannel || this.activeChannelIdInStorage === channelId) {\n\t\t\tthis.setActiveChannel(channel);\n\t\t\tthis._onActiveOutputChannel.fire(channelId);\n\t\t\tconst outputView = this.viewsService.getActiveViewWithId<OutputViewPane>(OUTPUT_VIEW_ID);\n\t\t\toutputView?.showChannel(channel, true);\n\t\t}\n\t}\n\n\tprivate onDidUpdateChannelSources(channel: IMultiSourceOutputChannelDescriptor): void {\n\t\tconst outputChannel = this.channels.get(channel.id);\n\t\tif (outputChannel) {\n\t\t\toutputChannel.model.updateChannelSources(channel.source);\n\t\t}\n\t}\n\n\tprivate onDidRemoveChannel(channel: IOutputChannelDescriptor): void {\n\t\tif (this.activeChannel?.id === channel.id) {\n\t\t\tconst channels = this.getChannelDescriptors();\n\t\t\tif (channels[0]) {\n\t\t\t\tthis.showChannel(channels[0].id);\n\t\t\t}\n\t\t}\n\t\tthis.channels.deleteAndDispose(channel.id);\n\t}\n\n\tprivate createChannel(id: string): OutputChannel {\n\t\tconst channel = this.instantiateChannel(id);\n\t\tthis._register(Event.once(channel.model.onDispose)(() => {\n\t\t\tif (this.activeChannel === channel) {\n\t\t\t\tconst channels = this.getChannelDescriptors();\n\t\t\t\tconst channel = channels.length ? this.getChannel(channels[0].id) : undefined;\n\t\t\t\tif (channel && this.viewsService.isViewVisible(OUTPUT_VIEW_ID)) {\n\t\t\t\t\tthis.showChannel(channel.id);\n\t\t\t\t} else {\n\t\t\t\t\tthis.setActiveChannel(undefined);\n\t\t\t\t}\n\t\t\t}\n\t\t\tRegistry.as<IOutputChannelRegistry>(Extensions.OutputChannels).removeChannel(id);\n\t\t}));\n\n\t\treturn channel;\n\t}\n\n\tprivate outputFolderCreationPromise: Promise<void> | null = null;\n\tprivate instantiateChannel(id: string): OutputChannel {\n\t\tconst channelData = Registry.as<IOutputChannelRegistry>(Extensions.OutputChannels).getChannel(id);\n\t\tif (!channelData) {\n\t\t\tthis.logService.error(`Channel '${id}' is not registered yet`);\n\t\t\tthrow new Error(`Channel '${id}' is not registered yet`);\n\t\t}\n\t\tif (!this.outputFolderCreationPromise) {\n\t\t\tthis.outputFolderCreationPromise = this.fileService.createFolder(this.outputLocation).then(() => undefined);\n\t\t}\n\t\treturn this.instantiationService.createInstance(OutputChannel, channelData, this.outputLocation, this.outputFolderCreationPromise);\n\t}\n\n\tprivate resetLogLevelFilters(): void {\n\t\tconst descriptor = this.activeChannel?.outputChannelDescriptor;\n\t\tconst channelLogLevel = descriptor ? this.getLogLevel(descriptor) : undefined;\n\t\tif (channelLogLevel !== undefined) {\n\t\t\tthis.filters.error = channelLogLevel <= LogLevel.Error;\n\t\t\tthis.filters.warning = channelLogLevel <= LogLevel.Warning;\n\t\t\tthis.filters.info = channelLogLevel <= LogLevel.Info;\n\t\t\tthis.filters.debug = channelLogLevel <= LogLevel.Debug;\n\t\t\tthis.filters.trace = channelLogLevel <= LogLevel.Trace;\n\t\t}\n\t}\n\n\tprivate setLevelContext(): void {\n\t\tconst descriptor = this.activeChannel?.outputChannelDescriptor;\n\t\tconst channelLogLevel = descriptor ? this.getLogLevel(descriptor) : undefined;\n\t\tthis.activeOutputChannelLevelContext.set(channelLogLevel !== undefined ? LogLevelToString(channelLogLevel) : '');\n\t}\n\n\tprivate async setLevelIsDefaultContext(): Promise<void> {\n\t\tconst descriptor = this.activeChannel?.outputChannelDescriptor;\n\t\tconst channelLogLevel = descriptor ? this.getLogLevel(descriptor) : undefined;\n\t\tif (channelLogLevel !== undefined) {\n\t\t\tconst channelDefaultLogLevel = await this.defaultLogLevelsService.getDefaultLogLevel(descriptor?.extensionId);\n\t\t\tthis.activeOutputChannelLevelIsDefaultContext.set(channelDefaultLogLevel === channelLogLevel);\n\t\t} else {\n\t\t\tthis.activeOutputChannelLevelIsDefaultContext.set(false);\n\t\t}\n\t}\n\n\tprivate setActiveChannel(channel: OutputChannel | undefined): void {\n\t\tthis.activeChannel = channel;\n\t\tconst descriptor = channel?.outputChannelDescriptor;\n\t\tthis.activeFileOutputChannelContext.set(!!descriptor && isSingleSourceOutputChannelDescriptor(descriptor));\n\t\tthis.activeLogOutputChannelContext.set(!!descriptor?.log);\n\t\tthis.activeOutputChannelLevelSettableContext.set(descriptor !== undefined && this.canSetLogLevel(descriptor));\n\t\tthis.setLevelIsDefaultContext();\n\t\tthis.setLevelContext();\n\n\t\tif (this.activeChannel) {\n\t\t\tthis.storageService.store(OUTPUT_ACTIVE_CHANNEL_KEY, this.activeChannel.id, StorageScope.WORKSPACE, StorageTarget.MACHINE);\n\t\t} else {\n\t\t\tthis.storageService.remove(OUTPUT_ACTIVE_CHANNEL_KEY, StorageScope.WORKSPACE);\n\t\t}\n\t}\n}\n"]}