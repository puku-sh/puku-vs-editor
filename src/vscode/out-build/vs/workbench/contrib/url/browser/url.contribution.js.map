{"version":3,"sources":["vs/workbench/contrib/url/browser/url.contribution.ts"],"names":[],"mappings":"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","file":"url.contribution.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { URI } from '../../../../base/common/uri.js';\nimport { localize, localize2 } from '../../../../nls.js';\nimport { MenuId, MenuRegistry, Action2, registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nimport { LifecyclePhase } from '../../../services/lifecycle/common/lifecycle.js';\nimport { IQuickInputService } from '../../../../platform/quickinput/common/quickInput.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { IURLService } from '../../../../platform/url/common/url.js';\nimport { Extensions as WorkbenchExtensions, IWorkbenchContributionsRegistry, WorkbenchPhase, registerWorkbenchContribution2 } from '../../../common/contributions.js';\nimport { ExternalUriResolverContribution } from './externalUriResolver.js';\nimport { manageTrustedDomainSettingsCommand } from './trustedDomains.js';\nimport { TrustedDomainsFileSystemProvider } from './trustedDomainsFileSystemProvider.js';\nimport { OpenerValidatorContributions } from './trustedDomainsValidator.js';\nimport { ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { Categories } from '../../../../platform/action/common/actionCommonCategories.js';\nimport { ConfigurationScope, Extensions as ConfigurationExtensions, IConfigurationRegistry } from '../../../../platform/configuration/common/configurationRegistry.js';\nimport { workbenchConfigurationNodeBase } from '../../../common/configuration.js';\nimport { ITrustedDomainService, TrustedDomainService } from './trustedDomainService.js';\nimport { registerSingleton, InstantiationType } from '../../../../platform/instantiation/common/extensions.js';\nimport { IStorageService, StorageScope, StorageTarget } from '../../../../platform/storage/common/storage.js';\n\nclass OpenUrlAction extends Action2 {\n\n\tstatic readonly STORAGE_KEY = 'workbench.action.url.openUrl.lastInput';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.action.url.openUrl',\n\t\t\ttitle: localize2('openUrl', 'Open URL'),\n\t\t\tcategory: Categories.Developer,\n\t\t\tf1: true\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst quickInputService = accessor.get(IQuickInputService);\n\t\tconst urlService = accessor.get(IURLService);\n\t\tconst storageService = accessor.get(IStorageService);\n\n\t\tconst value = storageService.get(OpenUrlAction.STORAGE_KEY, StorageScope.WORKSPACE, '');\n\n\t\treturn quickInputService.input({ prompt: localize('urlToOpen', \"URL to open\"), value }).then(input => {\n\t\t\tif (input) {\n\t\t\t\tconst uri = URI.parse(input);\n\t\t\t\turlService.open(uri, { originalUrl: input });\n\t\t\t\tstorageService.store(OpenUrlAction.STORAGE_KEY, input, StorageScope.WORKSPACE, StorageTarget.MACHINE);\n\t\t\t}\n\t\t});\n\t}\n}\n\nregisterAction2(OpenUrlAction);\n\n/**\n * Trusted Domains Contribution\n */\n\nCommandsRegistry.registerCommand(manageTrustedDomainSettingsCommand);\nMenuRegistry.appendMenuItem(MenuId.CommandPalette, {\n\tcommand: {\n\t\tid: manageTrustedDomainSettingsCommand.id,\n\t\ttitle: manageTrustedDomainSettingsCommand.description.description\n\t}\n});\n\nRegistry.as<IWorkbenchContributionsRegistry>(WorkbenchExtensions.Workbench).registerWorkbenchContribution(\n\tOpenerValidatorContributions,\n\tLifecyclePhase.Restored\n);\nregisterWorkbenchContribution2(\n\tTrustedDomainsFileSystemProvider.ID,\n\tTrustedDomainsFileSystemProvider,\n\tWorkbenchPhase.BlockRestore // registration only\n);\nregisterWorkbenchContribution2(\n\tExternalUriResolverContribution.ID,\n\tExternalUriResolverContribution,\n\tWorkbenchPhase.BlockRestore // registration only\n);\n\n\nconst configurationRegistry = Registry.as<IConfigurationRegistry>(ConfigurationExtensions.Configuration);\nconfigurationRegistry.registerConfiguration({\n\t...workbenchConfigurationNodeBase,\n\tproperties: {\n\t\t'workbench.trustedDomains.promptInTrustedWorkspace': {\n\t\t\tscope: ConfigurationScope.APPLICATION,\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t\tdescription: localize('workbench.trustedDomains.promptInTrustedWorkspace', \"When enabled, trusted domain prompts will appear when opening links in trusted workspaces.\")\n\t\t}\n\t}\n});\n\nregisterSingleton(ITrustedDomainService, TrustedDomainService, InstantiationType.Delayed);\n"]}