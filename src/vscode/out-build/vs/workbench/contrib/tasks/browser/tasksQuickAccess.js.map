{"version":3,"sources":["vs/workbench/contrib/tasks/browser/tasksQuickAccess.ts"],"names":[],"mappings":"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","file":"tasksQuickAccess.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { localize } from '../../../../nls.js';\nimport { IQuickPickSeparator, IQuickInputService } from '../../../../platform/quickinput/common/quickInput.js';\nimport { IPickerQuickAccessItem, PickerQuickAccessProvider, TriggerAction } from '../../../../platform/quickinput/browser/pickerQuickAccess.js';\nimport { matchesFuzzy } from '../../../../base/common/filters.js';\nimport { IExtensionService } from '../../../services/extensions/common/extensions.js';\nimport { ITaskService, Task } from '../common/taskService.js';\nimport { CustomTask, ContributedTask, ConfiguringTask } from '../common/tasks.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { TaskQuickPick, ITaskTwoLevelQuickPickEntry } from './taskQuickPick.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { isString } from '../../../../base/common/types.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nimport { IDialogService } from '../../../../platform/dialogs/common/dialogs.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { IStorageService } from '../../../../platform/storage/common/storage.js';\n\nexport class TasksQuickAccessProvider extends PickerQuickAccessProvider<IPickerQuickAccessItem> {\n\n\tstatic PREFIX = 'task ';\n\n\tconstructor(\n\t\t@IExtensionService extensionService: IExtensionService,\n\t\t@ITaskService private _taskService: ITaskService,\n\t\t@IConfigurationService private _configurationService: IConfigurationService,\n\t\t@IQuickInputService private _quickInputService: IQuickInputService,\n\t\t@INotificationService private _notificationService: INotificationService,\n\t\t@IDialogService private _dialogService: IDialogService,\n\t\t@IThemeService private _themeService: IThemeService,\n\t\t@IStorageService private _storageService: IStorageService\n\t) {\n\t\tsuper(TasksQuickAccessProvider.PREFIX, {\n\t\t\tnoResultsPick: {\n\t\t\t\tlabel: localize('noTaskResults', \"No matching tasks\")\n\t\t\t}\n\t\t});\n\t}\n\n\tprotected async _getPicks(filter: string, disposables: DisposableStore, token: CancellationToken): Promise<Array<IPickerQuickAccessItem | IQuickPickSeparator>> {\n\t\tif (token.isCancellationRequested) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst taskQuickPick = new TaskQuickPick(this._taskService, this._configurationService, this._quickInputService, this._notificationService, this._themeService, this._dialogService, this._storageService);\n\t\tconst topLevelPicks = await taskQuickPick.getTopLevelEntries();\n\t\tconst taskPicks: Array<IPickerQuickAccessItem | IQuickPickSeparator> = [];\n\n\t\tfor (const entry of topLevelPicks.entries) {\n\t\t\tconst highlights = matchesFuzzy(filter, entry.label!);\n\t\t\tif (!highlights) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (entry.type === 'separator') {\n\t\t\t\ttaskPicks.push(entry);\n\t\t\t}\n\n\t\t\tconst task: Task | ConfiguringTask | string = (<ITaskTwoLevelQuickPickEntry>entry).task!;\n\t\t\tconst quickAccessEntry: IPickerQuickAccessItem = <ITaskTwoLevelQuickPickEntry>entry;\n\t\t\tquickAccessEntry.highlights = { label: highlights };\n\t\t\tquickAccessEntry.trigger = (index) => {\n\t\t\t\tif ((index === 1) && (quickAccessEntry.buttons?.length === 2)) {\n\t\t\t\t\tconst key = (task && !isString(task)) ? task.getKey() : undefined;\n\t\t\t\t\tif (key) {\n\t\t\t\t\t\tthis._taskService.removeRecentlyUsedTask(key);\n\t\t\t\t\t}\n\t\t\t\t\treturn TriggerAction.REFRESH_PICKER;\n\t\t\t\t} else {\n\t\t\t\t\tif (ContributedTask.is(task)) {\n\t\t\t\t\t\tthis._taskService.customize(task, undefined, true);\n\t\t\t\t\t} else if (CustomTask.is(task)) {\n\t\t\t\t\t\tthis._taskService.openConfig(task);\n\t\t\t\t\t}\n\t\t\t\t\treturn TriggerAction.CLOSE_PICKER;\n\t\t\t\t}\n\t\t\t};\n\t\t\tquickAccessEntry.accept = async () => {\n\t\t\t\tif (isString(task)) {\n\t\t\t\t\t// switch to quick pick and show second level\n\t\t\t\t\tconst showResult = await taskQuickPick.show(localize('TaskService.pickRunTask', 'Select the task to run'), undefined, task);\n\t\t\t\t\tif (showResult) {\n\t\t\t\t\t\tthis._taskService.run(showResult, { attachProblemMatcher: true });\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis._taskService.run(await this._toTask(task), { attachProblemMatcher: true });\n\t\t\t\t}\n\t\t\t};\n\n\t\t\ttaskPicks.push(quickAccessEntry);\n\t\t}\n\t\treturn taskPicks;\n\t}\n\n\tprivate async _toTask(task: Task | ConfiguringTask): Promise<Task | undefined> {\n\t\tif (!ConfiguringTask.is(task)) {\n\t\t\treturn task;\n\t\t}\n\n\t\treturn this._taskService.tryResolveTask(task);\n\t}\n}\n"]}