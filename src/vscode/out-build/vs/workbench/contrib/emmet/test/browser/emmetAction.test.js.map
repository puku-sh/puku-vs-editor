{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/emmet/test/browser/emmetAction.test.ts","vs/workbench/contrib/emmet/test/browser/emmetAction.test.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,EAAyB,iBAAiB,EAAE,MAAM,+BAA+B,CAAC;AACzF,OAAO,EAAE,kBAAkB,EAAE,MAAM,sDAAsD,CAAC;AAC1F,OAAO,MAAM,MAAM,QAAQ,CAAC;AAC5B,OAAO,EAAE,eAAe,EAAE,MAAM,yCAAyC,CAAC;AAC1E,OAAO,EAAE,gBAAgB,EAAE,MAAM,oDAAoD,CAAC;AACtF,OAAO,EAAE,uCAAuC,EAAE,MAAM,0CAA0C,CAAC;AAEnG,MAAM,wBAAwB;IAG7B,YAAY,SAAiB;QAC5B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;IAC5B,CAAC;IAEM,UAAU,CAAC,IAAY;QAC7B,OAAO,IAAI,CAAC,SAAS,CAAC;IACvB,CAAC;CACD;AAED,KAAK,CAAC,OAAO,EAAE,GAAG,EAAE;IACnB,IAAI,CAAC,6CAA6C,EAAE,GAAG,EAAE;QACxD,kBAAkB,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,MAAM,EAAE,SAAS,EAAE,oBAAoB,EAAE,EAAE;YACtE,MAAM,eAAe,GAAG,oBAAoB,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;YAEnE,MAAM,WAAW,GAAG,IAAI,eAAe,EAAE,CAAC;YAC1C,WAAW,CAAC,GAAG,CAAC,eAAe,CAAC,gBAAgB,CAAC,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC,CAAC,CAAC;YACtE,WAAW,CAAC,GAAG,CAAC,eAAe,CAAC,gBAAgB,CAAC,EAAE,EAAE,EAAE,YAAY,EAAE,CAAC,CAAC,CAAC;YACxE,WAAW,CAAC,GAAG,CAAC,eAAe,CAAC,gBAAgB,CAAC,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC,CAAC,CAAC;YACtE,WAAW,CAAC,GAAG,CAAC,eAAe,CAAC,gBAAgB,CAAC,EAAE,EAAE,EAAE,eAAe,EAAE,CAAC,CAAC,CAAC;YAE3E,SAAS,aAAa,CAAC,IAAY,EAAE,SAAiB,EAAE,gBAAyB,EAAE,sBAA+B;gBACjH,MAAM,KAAK,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;gBAChC,IAAI,CAAC,KAAK,EAAE,CAAC;oBACZ,MAAM,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC;gBACvC,CAAC;gBAED,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;gBACxB,MAAM,UAAU,GAAG,iBAAiB,CAAC,WAAW,CAAC,MAAM,EAAE,IAAI,wBAAwB,CAAC,SAAS,CAAC,CAAC,CAAC;gBAClG,IAAI,CAAC,UAAU,EAAE,CAAC;oBACjB,MAAM,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;gBACrC,CAAC;gBAED,MAAM,CAAC,WAAW,CAAC,UAAU,CAAC,QAAQ,EAAE,gBAAgB,CAAC,CAAC;gBAC1D,MAAM,CAAC,WAAW,CAAC,UAAU,CAAC,UAAU,EAAE,sBAAsB,CAAC,CAAC;YACnE,CAAC;YAED,sDAAsD;YACtD,aAAa,CAAC,UAAU,EAAE,oBAAoB,EAAE,UAAU,EAAE,MAAM,CAAC,CAAC;YACpE,aAAa,CAAC,YAAY,EAAE,sBAAsB,EAAE,YAAY,EAAE,MAAM,CAAC,CAAC;YAC1E,aAAa,CAAC,UAAU,EAAE,oBAAoB,EAAE,UAAU,EAAE,MAAM,CAAC,CAAC;YACpE,aAAa,CAAC,eAAe,EAAE,6BAA6B,EAAE,eAAe,EAAE,MAAM,CAAC,CAAC;YAEvF,0DAA0D;YAC1D,+DAA+D;YAC/D,kEAAkE;YAElE,WAAW,CAAC,OAAO,EAAE,CAAC;QAEvB,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC;IAEH,uCAAuC,EAAE,CAAC;AAC3C,CAAC,CAAC,CAAC","file":"emmetAction.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IGrammarContributions, EmmetEditorAction } from '../../browser/emmetActions.js';\nimport { withTestCodeEditor } from '../../../../../editor/test/browser/testCodeEditor.js';\nimport assert from 'assert';\nimport { DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { ILanguageService } from '../../../../../editor/common/languages/language.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\n\nclass MockGrammarContributions implements IGrammarContributions {\n\tprivate scopeName: string;\n\n\tconstructor(scopeName: string) {\n\t\tthis.scopeName = scopeName;\n\t}\n\n\tpublic getGrammar(mode: string): string {\n\t\treturn this.scopeName;\n\t}\n}\n\nsuite('Emmet', () => {\n\ttest('Get language mode and parent mode for emmet', () => {\n\t\twithTestCodeEditor([], {}, (editor, viewModel, instantiationService) => {\n\t\t\tconst languageService = instantiationService.get(ILanguageService);\n\n\t\t\tconst disposables = new DisposableStore();\n\t\t\tdisposables.add(languageService.registerLanguage({ id: 'markdown' }));\n\t\t\tdisposables.add(languageService.registerLanguage({ id: 'handlebars' }));\n\t\t\tdisposables.add(languageService.registerLanguage({ id: 'nunjucks' }));\n\t\t\tdisposables.add(languageService.registerLanguage({ id: 'laravel-blade' }));\n\n\t\t\tfunction testIsEnabled(mode: string, scopeName: string, expectedLanguage?: string, expectedParentLanguage?: string) {\n\t\t\t\tconst model = editor.getModel();\n\t\t\t\tif (!model) {\n\t\t\t\t\tassert.fail('Editor model not found');\n\t\t\t\t}\n\n\t\t\t\tmodel.setLanguage(mode);\n\t\t\t\tconst langOutput = EmmetEditorAction.getLanguage(editor, new MockGrammarContributions(scopeName));\n\t\t\t\tif (!langOutput) {\n\t\t\t\t\tassert.fail('langOutput not found');\n\t\t\t\t}\n\n\t\t\t\tassert.strictEqual(langOutput.language, expectedLanguage);\n\t\t\t\tassert.strictEqual(langOutput.parentMode, expectedParentLanguage);\n\t\t\t}\n\n\t\t\t// syntaxes mapped using the scope name of the grammar\n\t\t\ttestIsEnabled('markdown', 'text.html.markdown', 'markdown', 'html');\n\t\t\ttestIsEnabled('handlebars', 'text.html.handlebars', 'handlebars', 'html');\n\t\t\ttestIsEnabled('nunjucks', 'text.html.nunjucks', 'nunjucks', 'html');\n\t\t\ttestIsEnabled('laravel-blade', 'text.html.php.laravel-blade', 'laravel-blade', 'html');\n\n\t\t\t// languages that have different Language Id and scopeName\n\t\t\t// testIsEnabled('razor', 'text.html.cshtml', 'razor', 'html');\n\t\t\t// testIsEnabled('HTML (Eex)', 'text.html.elixir', 'boo', 'html');\n\n\t\t\tdisposables.dispose();\n\n\t\t});\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IGrammarContributions, EmmetEditorAction } from '../../browser/emmetActions.js';\nimport { withTestCodeEditor } from '../../../../../editor/test/browser/testCodeEditor.js';\nimport assert from 'assert';\nimport { DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { ILanguageService } from '../../../../../editor/common/languages/language.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\n\nclass MockGrammarContributions implements IGrammarContributions {\n\tprivate scopeName: string;\n\n\tconstructor(scopeName: string) {\n\t\tthis.scopeName = scopeName;\n\t}\n\n\tpublic getGrammar(mode: string): string {\n\t\treturn this.scopeName;\n\t}\n}\n\nsuite('Emmet', () => {\n\ttest('Get language mode and parent mode for emmet', () => {\n\t\twithTestCodeEditor([], {}, (editor, viewModel, instantiationService) => {\n\t\t\tconst languageService = instantiationService.get(ILanguageService);\n\n\t\t\tconst disposables = new DisposableStore();\n\t\t\tdisposables.add(languageService.registerLanguage({ id: 'markdown' }));\n\t\t\tdisposables.add(languageService.registerLanguage({ id: 'handlebars' }));\n\t\t\tdisposables.add(languageService.registerLanguage({ id: 'nunjucks' }));\n\t\t\tdisposables.add(languageService.registerLanguage({ id: 'laravel-blade' }));\n\n\t\t\tfunction testIsEnabled(mode: string, scopeName: string, expectedLanguage?: string, expectedParentLanguage?: string) {\n\t\t\t\tconst model = editor.getModel();\n\t\t\t\tif (!model) {\n\t\t\t\t\tassert.fail('Editor model not found');\n\t\t\t\t}\n\n\t\t\t\tmodel.setLanguage(mode);\n\t\t\t\tconst langOutput = EmmetEditorAction.getLanguage(editor, new MockGrammarContributions(scopeName));\n\t\t\t\tif (!langOutput) {\n\t\t\t\t\tassert.fail('langOutput not found');\n\t\t\t\t}\n\n\t\t\t\tassert.strictEqual(langOutput.language, expectedLanguage);\n\t\t\t\tassert.strictEqual(langOutput.parentMode, expectedParentLanguage);\n\t\t\t}\n\n\t\t\t// syntaxes mapped using the scope name of the grammar\n\t\t\ttestIsEnabled('markdown', 'text.html.markdown', 'markdown', 'html');\n\t\t\ttestIsEnabled('handlebars', 'text.html.handlebars', 'handlebars', 'html');\n\t\t\ttestIsEnabled('nunjucks', 'text.html.nunjucks', 'nunjucks', 'html');\n\t\t\ttestIsEnabled('laravel-blade', 'text.html.php.laravel-blade', 'laravel-blade', 'html');\n\n\t\t\t// languages that have different Language Id and scopeName\n\t\t\t// testIsEnabled('razor', 'text.html.cshtml', 'razor', 'html');\n\t\t\t// testIsEnabled('HTML (Eex)', 'text.html.elixir', 'boo', 'html');\n\n\t\t\tdisposables.dispose();\n\n\t\t});\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n});\n"]}