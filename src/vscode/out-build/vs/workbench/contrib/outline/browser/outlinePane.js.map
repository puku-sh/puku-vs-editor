{"version":3,"sources":["vs/workbench/contrib/outline/browser/outlinePane.ts"],"names":[],"mappings":"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","file":"outlinePane.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport './outlinePane.css';\nimport * as dom from '../../../../base/browser/dom.js';\nimport { ProgressBar } from '../../../../base/browser/ui/progressbar/progressbar.js';\nimport { TimeoutTimer, timeout } from '../../../../base/common/async.js';\nimport { IDisposable, toDisposable, DisposableStore, MutableDisposable } from '../../../../base/common/lifecycle.js';\nimport { LRUCache } from '../../../../base/common/map.js';\nimport { localize } from '../../../../nls.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IContextKey, IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { WorkbenchDataTree } from '../../../../platform/list/browser/listService.js';\nimport { IStorageService } from '../../../../platform/storage/common/storage.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { ViewPane } from '../../../browser/parts/views/viewPane.js';\nimport { IViewletViewOptions } from '../../../browser/parts/views/viewsViewlet.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { FuzzyScore } from '../../../../base/common/filters.js';\nimport { basename } from '../../../../base/common/resources.js';\nimport { IViewDescriptorService } from '../../../common/views.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { OutlineViewState } from './outlineViewState.js';\nimport { IOutline, IOutlineComparator, IOutlineService, OutlineTarget } from '../../../services/outline/browser/outline.js';\nimport { EditorResourceAccessor, IEditorPane } from '../../../common/editor.js';\nimport { CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { ITreeSorter } from '../../../../base/browser/ui/tree/tree.js';\nimport { AbstractTreeViewState, IAbstractTreeViewState, TreeFindMode } from '../../../../base/browser/ui/tree/abstractTree.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ctxAllCollapsed, ctxFilterOnType, ctxFocused, ctxFollowsCursor, ctxSortMode, IOutlinePane, OutlineSortOrder } from './outline.js';\nimport { defaultProgressBarStyles } from '../../../../platform/theme/browser/defaultStyles.js';\nimport { IHoverService } from '../../../../platform/hover/browser/hover.js';\n\nclass OutlineTreeSorter<E> implements ITreeSorter<E> {\n\n\tconstructor(\n\t\tprivate _comparator: IOutlineComparator<E>,\n\t\tpublic order: OutlineSortOrder\n\t) { }\n\n\tcompare(a: E, b: E): number {\n\t\tif (this.order === OutlineSortOrder.ByKind) {\n\t\t\treturn this._comparator.compareByType(a, b);\n\t\t} else if (this.order === OutlineSortOrder.ByName) {\n\t\t\treturn this._comparator.compareByName(a, b);\n\t\t} else {\n\t\t\treturn this._comparator.compareByPosition(a, b);\n\t\t}\n\t}\n}\n\nexport class OutlinePane extends ViewPane implements IOutlinePane {\n\n\tstatic readonly Id = 'outline';\n\n\tprivate readonly _disposables = new DisposableStore();\n\n\tprivate readonly _editorControlDisposables = new DisposableStore();\n\tprivate readonly _editorPaneDisposables = new DisposableStore();\n\tprivate readonly _outlineViewState = new OutlineViewState();\n\n\tprivate readonly _editorListener = new MutableDisposable();\n\n\tprivate _domNode!: HTMLElement;\n\tprivate _message!: HTMLDivElement;\n\tprivate _progressBar!: ProgressBar;\n\tprivate _treeContainer!: HTMLElement;\n\tprivate _tree?: WorkbenchDataTree<IOutline<unknown> | undefined, unknown, FuzzyScore>;\n\tprivate _treeDimensions?: dom.Dimension;\n\tprivate _treeStates = new LRUCache<string, IAbstractTreeViewState>(10);\n\n\tprivate _ctxFollowsCursor!: IContextKey<boolean>;\n\tprivate _ctxFilterOnType!: IContextKey<boolean>;\n\tprivate _ctxSortMode!: IContextKey<OutlineSortOrder>;\n\tprivate _ctxAllCollapsed!: IContextKey<boolean>;\n\n\tconstructor(\n\t\toptions: IViewletViewOptions,\n\t\t@IOutlineService private readonly _outlineService: IOutlineService,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IStorageService private readonly _storageService: IStorageService,\n\t\t@IEditorService private readonly _editorService: IEditorService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IOpenerService openerService: IOpenerService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IHoverService hoverService: IHoverService,\n\t) {\n\t\tsuper(options, keybindingService, contextMenuService, configurationService, contextKeyService, viewDescriptorService, _instantiationService, openerService, themeService, hoverService);\n\t\tthis._outlineViewState.restore(this._storageService);\n\t\tthis._disposables.add(this._outlineViewState);\n\n\t\tcontextKeyService.bufferChangeEvents(() => {\n\t\t\tthis._ctxFollowsCursor = ctxFollowsCursor.bindTo(contextKeyService);\n\t\t\tthis._ctxFilterOnType = ctxFilterOnType.bindTo(contextKeyService);\n\t\t\tthis._ctxSortMode = ctxSortMode.bindTo(contextKeyService);\n\t\t\tthis._ctxAllCollapsed = ctxAllCollapsed.bindTo(contextKeyService);\n\t\t});\n\n\t\tconst updateContext = () => {\n\t\t\tthis._ctxFollowsCursor.set(this._outlineViewState.followCursor);\n\t\t\tthis._ctxFilterOnType.set(this._outlineViewState.filterOnType);\n\t\t\tthis._ctxSortMode.set(this._outlineViewState.sortBy);\n\t\t};\n\t\tupdateContext();\n\t\tthis._disposables.add(this._outlineViewState.onDidChange(updateContext));\n\t}\n\n\toverride dispose(): void {\n\t\tthis._disposables.dispose();\n\t\tthis._editorPaneDisposables.dispose();\n\t\tthis._editorControlDisposables.dispose();\n\t\tthis._editorListener.dispose();\n\t\tsuper.dispose();\n\t}\n\n\toverride focus(): void {\n\t\tthis._editorControlChangePromise.then(() => {\n\t\t\tsuper.focus();\n\t\t\tthis._tree?.domFocus();\n\t\t});\n\t}\n\n\tprotected override renderBody(container: HTMLElement): void {\n\t\tsuper.renderBody(container);\n\n\t\tthis._domNode = container;\n\t\tcontainer.classList.add('outline-pane');\n\n\t\tconst progressContainer = dom.$('.outline-progress');\n\t\tthis._message = dom.$('.outline-message');\n\n\t\tthis._progressBar = new ProgressBar(progressContainer, defaultProgressBarStyles);\n\n\t\tthis._treeContainer = dom.$('.outline-tree');\n\t\tdom.append(container, progressContainer, this._message, this._treeContainer);\n\n\t\tthis._disposables.add(this.onDidChangeBodyVisibility(visible => {\n\t\t\tif (!visible) {\n\t\t\t\t// stop everything when not visible\n\t\t\t\tthis._editorListener.clear();\n\t\t\t\tthis._editorPaneDisposables.clear();\n\t\t\t\tthis._editorControlDisposables.clear();\n\n\t\t\t} else if (!this._editorListener.value) {\n\t\t\t\tconst event = Event.any(this._editorService.onDidActiveEditorChange, this._outlineService.onDidChange);\n\t\t\t\tthis._editorListener.value = event(() => this._handleEditorChanged(this._editorService.activeEditorPane));\n\t\t\t\tthis._handleEditorChanged(this._editorService.activeEditorPane);\n\t\t\t}\n\t\t}));\n\t}\n\n\tprotected override layoutBody(height: number, width: number): void {\n\t\tsuper.layoutBody(height, width);\n\t\tthis._tree?.layout(height, width);\n\t\tthis._treeDimensions = new dom.Dimension(width, height);\n\t}\n\n\tcollapseAll(): void {\n\t\tthis._tree?.collapseAll();\n\t}\n\n\texpandAll(): void {\n\t\tthis._tree?.expandAll();\n\t}\n\n\tget outlineViewState() {\n\t\treturn this._outlineViewState;\n\t}\n\n\tprivate _showMessage(message: string) {\n\t\tthis._domNode.classList.add('message');\n\t\tthis._progressBar.stop().hide();\n\t\tthis._message.textContent = message;\n\t}\n\n\tprivate _captureViewState(uri?: URI): boolean {\n\t\tif (this._tree) {\n\t\t\tconst oldOutline = this._tree.getInput();\n\t\t\tif (!uri) {\n\t\t\t\turi = oldOutline?.uri;\n\t\t\t}\n\t\t\tif (oldOutline && uri) {\n\t\t\t\tthis._treeStates.set(`${oldOutline.outlineKind}/${uri}`, this._tree.getViewState());\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate _editorControlChangePromise: Promise<void> = Promise.resolve();\n\tprivate _handleEditorChanged(pane: IEditorPane | undefined): void {\n\t\tthis._editorPaneDisposables.clear();\n\n\t\tif (pane) {\n\t\t\t// react to control changes from within pane (https://github.com/microsoft/vscode/issues/134008)\n\t\t\tthis._editorPaneDisposables.add(pane.onDidChangeControl(() => {\n\t\t\t\tthis._editorControlChangePromise = this._handleEditorControlChanged(pane);\n\t\t\t}));\n\t\t}\n\n\t\tthis._editorControlChangePromise = this._handleEditorControlChanged(pane);\n\t}\n\n\tprivate async _handleEditorControlChanged(pane: IEditorPane | undefined): Promise<void> {\n\n\t\t// persist state\n\t\tconst resource = EditorResourceAccessor.getOriginalUri(pane?.input);\n\t\tconst didCapture = this._captureViewState();\n\n\t\tthis._editorControlDisposables.clear();\n\n\t\tif (!pane || !this._outlineService.canCreateOutline(pane) || !resource) {\n\t\t\treturn this._showMessage(localize('no-editor', \"The active editor cannot provide outline information.\"));\n\t\t}\n\n\t\tlet loadingMessage: IDisposable | undefined;\n\t\tif (!didCapture) {\n\t\t\tloadingMessage = new TimeoutTimer(() => {\n\t\t\t\tthis._showMessage(localize('loading', \"Loading document symbols for '{0}'...\", basename(resource)));\n\t\t\t}, 100);\n\t\t}\n\n\t\tthis._progressBar.infinite().show(500);\n\n\t\tconst cts = new CancellationTokenSource();\n\t\tthis._editorControlDisposables.add(toDisposable(() => cts.dispose(true)));\n\n\t\tconst newOutline = await this._outlineService.createOutline(pane, OutlineTarget.OutlinePane, cts.token);\n\t\tloadingMessage?.dispose();\n\n\t\tif (!newOutline) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (cts.token.isCancellationRequested) {\n\t\t\tnewOutline?.dispose();\n\t\t\treturn;\n\t\t}\n\n\t\tthis._editorControlDisposables.add(newOutline);\n\t\tthis._progressBar.stop().hide();\n\n\t\tconst sorter = new OutlineTreeSorter(newOutline.config.comparator, this._outlineViewState.sortBy);\n\n\t\tconst tree = this._instantiationService.createInstance(\n\t\t\tWorkbenchDataTree<IOutline<unknown> | undefined, unknown, FuzzyScore>,\n\t\t\t'OutlinePane',\n\t\t\tthis._treeContainer,\n\t\t\tnewOutline.config.delegate,\n\t\t\tnewOutline.config.renderers,\n\t\t\tnewOutline.config.treeDataSource,\n\t\t\t{\n\t\t\t\t...newOutline.config.options,\n\t\t\t\tsorter,\n\t\t\t\texpandOnDoubleClick: false,\n\t\t\t\texpandOnlyOnTwistieClick: true,\n\t\t\t\tmultipleSelectionSupport: false,\n\t\t\t\thideTwistiesOfChildlessElements: true,\n\t\t\t\tdefaultFindMode: this._outlineViewState.filterOnType ? TreeFindMode.Filter : TreeFindMode.Highlight,\n\t\t\t\toverrideStyles: this.getLocationBasedColors().listOverrideStyles\n\t\t\t}\n\t\t);\n\n\t\tctxFocused.bindTo(tree.contextKeyService);\n\n\t\t// update tree, listen to changes\n\t\tconst updateTree = () => {\n\t\t\tif (newOutline.isEmpty) {\n\t\t\t\t// no more elements\n\t\t\t\tthis._showMessage(localize('no-symbols', \"No symbols found in document '{0}'\", basename(resource)));\n\t\t\t\tthis._captureViewState(resource);\n\t\t\t\ttree.setInput(undefined);\n\n\t\t\t} else if (!tree.getInput()) {\n\t\t\t\t// first: init tree\n\t\t\t\tthis._domNode.classList.remove('message');\n\t\t\t\tconst state = this._treeStates.get(`${newOutline.outlineKind}/${newOutline.uri}`);\n\t\t\t\ttree.setInput(newOutline, state && AbstractTreeViewState.lift(state));\n\n\t\t\t} else {\n\t\t\t\t// update: refresh tree\n\t\t\t\tthis._domNode.classList.remove('message');\n\t\t\t\ttree.updateChildren();\n\t\t\t}\n\t\t};\n\t\tupdateTree();\n\t\tthis._editorControlDisposables.add(newOutline.onDidChange(updateTree));\n\n\t\t// feature: apply panel background to tree\n\t\tthis._editorControlDisposables.add(this.viewDescriptorService.onDidChangeLocation(({ views }) => {\n\t\t\tif (views.some(v => v.id === this.id)) {\n\t\t\t\ttree.updateOptions({ overrideStyles: this.getLocationBasedColors().listOverrideStyles });\n\t\t\t}\n\t\t}));\n\n\t\t// feature: filter on type - keep tree and menu in sync\n\t\tthis._editorControlDisposables.add(tree.onDidChangeFindMode(mode => this._outlineViewState.filterOnType = mode === TreeFindMode.Filter));\n\n\t\t// feature: reveal outline selection in editor\n\t\t// on change -> reveal/select defining range\n\t\tlet idPool = 0;\n\t\tthis._editorControlDisposables.add(tree.onDidOpen(async e => {\n\t\t\tconst myId = ++idPool;\n\t\t\tconst isDoubleClick = e.browserEvent?.type === 'dblclick';\n\t\t\tif (!isDoubleClick) {\n\t\t\t\t// workaround for https://github.com/microsoft/vscode/issues/206424\n\t\t\t\tawait timeout(150);\n\t\t\t\tif (myId !== idPool) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tawait newOutline.reveal(e.element, e.editorOptions, e.sideBySide, isDoubleClick);\n\t\t}));\n\t\t// feature: reveal editor selection in outline\n\t\tconst revealActiveElement = () => {\n\t\t\tif (!this._outlineViewState.followCursor || !newOutline.activeElement) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet item = newOutline.activeElement;\n\t\t\twhile (item) {\n\t\t\t\tconst top = tree.getRelativeTop(item);\n\t\t\t\tif (top === null) {\n\t\t\t\t\t// not visible -> reveal\n\t\t\t\t\ttree.reveal(item, 0.5);\n\t\t\t\t}\n\t\t\t\tif (tree.getRelativeTop(item) !== null) {\n\t\t\t\t\ttree.setFocus([item]);\n\t\t\t\t\ttree.setSelection([item]);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t// STILL not visible -> try parent\n\t\t\t\titem = tree.getParentElement(item);\n\t\t\t}\n\t\t};\n\t\trevealActiveElement();\n\t\tthis._editorControlDisposables.add(newOutline.onDidChange(revealActiveElement));\n\n\t\t// feature: update view when user state changes\n\t\tthis._editorControlDisposables.add(this._outlineViewState.onDidChange((e: { followCursor?: boolean; sortBy?: boolean; filterOnType?: boolean }) => {\n\t\t\tthis._outlineViewState.persist(this._storageService);\n\t\t\tif (e.filterOnType) {\n\t\t\t\ttree.findMode = this._outlineViewState.filterOnType ? TreeFindMode.Filter : TreeFindMode.Highlight;\n\t\t\t}\n\t\t\tif (e.followCursor) {\n\t\t\t\trevealActiveElement();\n\t\t\t}\n\t\t\tif (e.sortBy) {\n\t\t\t\tsorter.order = this._outlineViewState.sortBy;\n\t\t\t\ttree.resort();\n\t\t\t}\n\t\t}));\n\n\t\t// feature: expand all nodes when filtering (not when finding)\n\t\tlet viewState: AbstractTreeViewState | undefined;\n\t\tthis._editorControlDisposables.add(tree.onDidChangeFindPattern(pattern => {\n\t\t\tif (tree.findMode === TreeFindMode.Highlight) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!viewState && pattern) {\n\t\t\t\tviewState = tree.getViewState();\n\t\t\t\ttree.expandAll();\n\t\t\t} else if (!pattern && viewState) {\n\t\t\t\ttree.setInput(tree.getInput()!, viewState);\n\t\t\t\tviewState = undefined;\n\t\t\t}\n\t\t}));\n\n\t\t// feature: update all-collapsed context key\n\t\tconst updateAllCollapsedCtx = () => {\n\t\t\tthis._ctxAllCollapsed.set(tree.getNode(null).children.every(node => !node.collapsible || node.collapsed));\n\t\t};\n\t\tthis._editorControlDisposables.add(tree.onDidChangeCollapseState(updateAllCollapsedCtx));\n\t\tthis._editorControlDisposables.add(tree.onDidChangeModel(updateAllCollapsedCtx));\n\t\tupdateAllCollapsedCtx();\n\n\t\t// last: set tree property and wire it up to one of our context keys\n\t\ttree.layout(this._treeDimensions?.height, this._treeDimensions?.width);\n\t\tthis._tree = tree;\n\t\tthis._editorControlDisposables.add(toDisposable(() => {\n\t\t\ttree.dispose();\n\t\t\tthis._tree = undefined;\n\t\t}));\n\t}\n}\n"]}