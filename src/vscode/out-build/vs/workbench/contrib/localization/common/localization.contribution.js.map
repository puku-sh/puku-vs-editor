{"version":3,"sources":["vs/workbench/contrib/localization/common/localization.contribution.ts"],"names":[],"mappings":"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","file":"localization.contribution.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { localize } from '../../../../nls.js';\nimport { registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { IExtensionManifest } from '../../../../platform/extensions/common/extensions.js';\nimport { SyncDescriptor } from '../../../../platform/instantiation/common/descriptors.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { IWorkbenchContribution } from '../../../common/contributions.js';\nimport { ClearDisplayLanguageAction, ConfigureDisplayLanguageAction } from './localizationsActions.js';\nimport { IExtensionFeatureTableRenderer, IRenderedData, ITableData, IRowData, IExtensionFeaturesRegistry, Extensions } from '../../../services/extensionManagement/common/extensionFeatures.js';\nimport { ExtensionsRegistry } from '../../../services/extensions/common/extensionsRegistry.js';\n\nexport class BaseLocalizationWorkbenchContribution extends Disposable implements IWorkbenchContribution {\n\tconstructor() {\n\t\tsuper();\n\n\t\t// Register action to configure locale and related settings\n\t\tregisterAction2(ConfigureDisplayLanguageAction);\n\t\tregisterAction2(ClearDisplayLanguageAction);\n\n\t\tExtensionsRegistry.registerExtensionPoint({\n\t\t\textensionPoint: 'localizations',\n\t\t\tdefaultExtensionKind: ['ui', 'workspace'],\n\t\t\tjsonSchema: {\n\t\t\t\tdescription: localize('vscode.extension.contributes.localizations', \"Contributes localizations to the editor\"),\n\t\t\t\ttype: 'array',\n\t\t\t\tdefault: [],\n\t\t\t\titems: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\trequired: ['languageId', 'translations'],\n\t\t\t\t\tdefaultSnippets: [{ body: { languageId: '', languageName: '', localizedLanguageName: '', translations: [{ id: 'vscode', path: '' }] } }],\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tlanguageId: {\n\t\t\t\t\t\t\tdescription: localize('vscode.extension.contributes.localizations.languageId', 'Id of the language into which the display strings are translated.'),\n\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlanguageName: {\n\t\t\t\t\t\t\tdescription: localize('vscode.extension.contributes.localizations.languageName', 'Name of the language in English.'),\n\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlocalizedLanguageName: {\n\t\t\t\t\t\t\tdescription: localize('vscode.extension.contributes.localizations.languageNameLocalized', 'Name of the language in contributed language.'),\n\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttranslations: {\n\t\t\t\t\t\t\tdescription: localize('vscode.extension.contributes.localizations.translations', 'List of translations associated to the language.'),\n\t\t\t\t\t\t\ttype: 'array',\n\t\t\t\t\t\t\tdefault: [{ id: 'vscode', path: '' }],\n\t\t\t\t\t\t\titems: {\n\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\trequired: ['id', 'path'],\n\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\tid: {\n\t\t\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\t\t\tdescription: localize('vscode.extension.contributes.localizations.translations.id', \"Id of VS Code or Extension for which this translation is contributed to. Id of VS Code is always `vscode` and of extension should be in format `publisherId.extensionName`.\"),\n\t\t\t\t\t\t\t\t\t\tpattern: '^((vscode)|([a-z0-9A-Z][a-z0-9A-Z-]*)\\\\.([a-z0-9A-Z][a-z0-9A-Z-]*))$',\n\t\t\t\t\t\t\t\t\t\tpatternErrorMessage: localize('vscode.extension.contributes.localizations.translations.id.pattern', \"Id should be `vscode` or in format `publisherId.extensionName` for translating VS code or an extension respectively.\")\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\t\t\tdescription: localize('vscode.extension.contributes.localizations.translations.path', \"A relative path to a file containing translations for the language.\")\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tdefaultSnippets: [{ body: { id: '', path: '' } }],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nclass LocalizationsDataRenderer extends Disposable implements IExtensionFeatureTableRenderer {\n\n\treadonly type = 'table';\n\n\tshouldRender(manifest: IExtensionManifest): boolean {\n\t\treturn !!manifest.contributes?.localizations;\n\t}\n\n\trender(manifest: IExtensionManifest): IRenderedData<ITableData> {\n\t\tconst localizations = manifest.contributes?.localizations || [];\n\t\tif (!localizations.length) {\n\t\t\treturn { data: { headers: [], rows: [] }, dispose: () => { } };\n\t\t}\n\n\t\tconst headers = [\n\t\t\tlocalize('language id', \"Language ID\"),\n\t\t\tlocalize('localizations language name', \"Language Name\"),\n\t\t\tlocalize('localizations localized language name', \"Language Name (Localized)\"),\n\t\t];\n\n\t\tconst rows: IRowData[][] = localizations\n\t\t\t.sort((a, b) => a.languageId.localeCompare(b.languageId))\n\t\t\t.map(localization => {\n\t\t\t\treturn [\n\t\t\t\t\tlocalization.languageId,\n\t\t\t\t\tlocalization.languageName ?? '',\n\t\t\t\t\tlocalization.localizedLanguageName ?? ''\n\t\t\t\t];\n\t\t\t});\n\n\t\treturn {\n\t\t\tdata: {\n\t\t\t\theaders,\n\t\t\t\trows\n\t\t\t},\n\t\t\tdispose: () => { }\n\t\t};\n\t}\n}\n\nRegistry.as<IExtensionFeaturesRegistry>(Extensions.ExtensionFeaturesRegistry).registerExtensionFeature({\n\tid: 'localizations',\n\tlabel: localize('localizations', \"Language Packs\"),\n\taccess: {\n\t\tcanToggle: false\n\t},\n\trenderer: new SyncDescriptor(LocalizationsDataRenderer),\n});\n"]}