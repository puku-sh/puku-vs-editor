{"version":3,"sources":["vs/workbench/contrib/localization/common/localizationsActions.ts"],"names":[],"mappings":"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","file":"localizationsActions.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { localize, localize2 } from '../../../../nls.js';\nimport { IQuickInputService, IQuickPickSeparator } from '../../../../platform/quickinput/common/quickInput.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { Action2, MenuId } from '../../../../platform/actions/common/actions.js';\nimport { ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ILanguagePackItem, ILanguagePackService } from '../../../../platform/languagePacks/common/languagePacks.js';\nimport { ILocaleService } from '../../../services/localization/common/locale.js';\nimport { IExtensionsWorkbenchService } from '../../extensions/common/extensions.js';\n\nexport class ConfigureDisplayLanguageAction extends Action2 {\n\tpublic static readonly ID = 'workbench.action.configureLocale';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: ConfigureDisplayLanguageAction.ID,\n\t\t\ttitle: localize2('configureLocale', \"Configure Display Language\"),\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.CommandPalette\n\t\t\t},\n\t\t\tmetadata: {\n\t\t\t\tdescription: localize2('configureLocaleDescription', \"Changes the locale of VS Code based on installed language packs. Common languages include French, Chinese, Spanish, Japanese, German, Korean, and more.\")\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic async run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst languagePackService: ILanguagePackService = accessor.get(ILanguagePackService);\n\t\tconst quickInputService: IQuickInputService = accessor.get(IQuickInputService);\n\t\tconst localeService: ILocaleService = accessor.get(ILocaleService);\n\t\tconst extensionWorkbenchService: IExtensionsWorkbenchService = accessor.get(IExtensionsWorkbenchService);\n\n\t\tconst installedLanguages = await languagePackService.getInstalledLanguages();\n\n\t\tconst disposables = new DisposableStore();\n\t\tconst qp = disposables.add(quickInputService.createQuickPick<ILanguagePackItem>({ useSeparators: true }));\n\t\tqp.matchOnDescription = true;\n\t\tqp.placeholder = localize('chooseLocale', \"Select Display Language\");\n\n\t\tif (installedLanguages?.length) {\n\t\t\tconst items: Array<ILanguagePackItem | IQuickPickSeparator> = [{ type: 'separator', label: localize('installed', \"Installed\") }];\n\t\t\tqp.items = items.concat(this.withMoreInfoButton(installedLanguages));\n\t\t}\n\n\t\tdisposables.add(qp.onDidHide(() => {\n\t\t\tdisposables.dispose();\n\t\t}));\n\n\t\tconst installedSet = new Set<string>(installedLanguages?.map(language => language.id!) ?? []);\n\t\tlanguagePackService.getAvailableLanguages().then(availableLanguages => {\n\t\t\tconst newLanguages = availableLanguages.filter(l => l.id && !installedSet.has(l.id));\n\t\t\tif (newLanguages.length) {\n\t\t\t\tqp.items = [\n\t\t\t\t\t...qp.items,\n\t\t\t\t\t{ type: 'separator', label: localize('available', \"Available\") },\n\t\t\t\t\t...this.withMoreInfoButton(newLanguages)\n\t\t\t\t];\n\t\t\t}\n\t\t\tqp.busy = false;\n\t\t});\n\n\t\tdisposables.add(qp.onDidAccept(async () => {\n\t\t\tconst selectedLanguage = qp.activeItems[0] as ILanguagePackItem | undefined;\n\t\t\tif (selectedLanguage) {\n\t\t\t\tqp.hide();\n\t\t\t\tawait localeService.setLocale(selectedLanguage);\n\t\t\t}\n\t\t}));\n\n\t\tdisposables.add(qp.onDidTriggerItemButton(async e => {\n\t\t\tqp.hide();\n\t\t\tif (e.item.extensionId) {\n\t\t\t\tawait extensionWorkbenchService.open(e.item.extensionId);\n\t\t\t}\n\t\t}));\n\n\t\tqp.show();\n\t\tqp.busy = true;\n\t}\n\n\tprivate withMoreInfoButton(items: ILanguagePackItem[]): ILanguagePackItem[] {\n\t\tfor (const item of items) {\n\t\t\tif (item.extensionId) {\n\t\t\t\titem.buttons = [{\n\t\t\t\t\ttooltip: localize('moreInfo', \"More Info\"),\n\t\t\t\t\ticonClass: 'codicon-info'\n\t\t\t\t}];\n\t\t\t}\n\t\t}\n\t\treturn items;\n\t}\n}\n\nexport class ClearDisplayLanguageAction extends Action2 {\n\tpublic static readonly ID = 'workbench.action.clearLocalePreference';\n\tpublic static readonly LABEL = localize2('clearDisplayLanguage', \"Clear Display Language Preference\");\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: ClearDisplayLanguageAction.ID,\n\t\t\ttitle: ClearDisplayLanguageAction.LABEL,\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.CommandPalette\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic async run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst localeService: ILocaleService = accessor.get(ILocaleService);\n\t\tawait localeService.clearLocalePreference();\n\t}\n}\n"]}