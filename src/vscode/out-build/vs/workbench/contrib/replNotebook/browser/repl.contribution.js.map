{"version":3,"sources":["vs/workbench/contrib/replNotebook/browser/repl.contribution.ts"],"names":[],"mappings":"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","file":"repl.contribution.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Event } from '../../../../base/common/event.js';\nimport { KeyChord, KeyCode, KeyMod } from '../../../../base/common/keyCodes.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { ResourceMap } from '../../../../base/common/map.js';\nimport { parse } from '../../../../base/common/marshalling.js';\nimport { isEqual } from '../../../../base/common/resources.js';\nimport { isFalsyOrWhitespace } from '../../../../base/common/strings.js';\nimport { assertType } from '../../../../base/common/types.js';\nimport { URI, UriComponents } from '../../../../base/common/uri.js';\nimport { IBulkEditService } from '../../../../editor/browser/services/bulkEditService.js';\nimport { CodeEditorWidget } from '../../../../editor/browser/widget/codeEditor/codeEditorWidget.js';\nimport { PLAINTEXT_LANGUAGE_ID } from '../../../../editor/common/languages/modesRegistry.js';\nimport { localize2 } from '../../../../nls.js';\nimport { AccessibleViewRegistry } from '../../../../platform/accessibility/browser/accessibleViewRegistry.js';\nimport { Action2, MenuId, registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { ContextKeyExpr, IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { SyncDescriptor } from '../../../../platform/instantiation/common/descriptors.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { KeybindingsRegistry, KeybindingWeight } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { EditorPaneDescriptor, IEditorPaneRegistry } from '../../../browser/editor.js';\nimport { IWorkbenchContribution, registerWorkbenchContribution2, WorkbenchPhase } from '../../../common/contributions.js';\nimport { EditorExtensions, IEditorControl, IEditorFactoryRegistry, IEditorSerializer } from '../../../common/editor.js';\nimport { EditorInput } from '../../../common/editor/editorInput.js';\nimport { IEditorResolverService, RegisteredEditorPriority } from '../../../services/editor/common/editorResolverService.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { IExtensionService } from '../../../services/extensions/common/extensions.js';\nimport { IViewsService } from '../../../services/views/common/viewsService.js';\nimport { IWorkingCopyIdentifier } from '../../../services/workingCopy/common/workingCopy.js';\nimport { IWorkingCopyEditorHandler, IWorkingCopyEditorService } from '../../../services/workingCopy/common/workingCopyEditorService.js';\nimport { ResourceNotebookCellEdit } from '../../bulkEdit/browser/bulkCellEdits.js';\nimport { getReplView } from '../../debug/browser/repl.js';\nimport { REPL_VIEW_ID } from '../../debug/common/debug.js';\nimport { InlineChatController } from '../../inlineChat/browser/inlineChatController.js';\nimport { IInteractiveHistoryService } from '../../interactive/browser/interactiveHistoryService.js';\nimport { NOTEBOOK_EDITOR_WIDGET_ACTION_WEIGHT } from '../../notebook/browser/controller/coreActions.js';\nimport { INotebookEditorOptions } from '../../notebook/browser/notebookBrowser.js';\nimport { NotebookEditorWidget } from '../../notebook/browser/notebookEditorWidget.js';\nimport * as icons from '../../notebook/browser/notebookIcons.js';\nimport { ReplEditorAccessibleView } from '../../notebook/browser/replEditorAccessibleView.js';\nimport { INotebookEditorService } from '../../notebook/browser/services/notebookEditorService.js';\nimport { CellEditType, CellKind, NotebookSetting, NotebookWorkingCopyTypeIdentifier, REPL_EDITOR_ID } from '../../notebook/common/notebookCommon.js';\nimport { IS_COMPOSITE_NOTEBOOK, MOST_RECENT_REPL_EDITOR, NOTEBOOK_CELL_LIST_FOCUSED, NOTEBOOK_EDITOR_FOCUSED } from '../../notebook/common/notebookContextKeys.js';\nimport { NotebookEditorInputOptions } from '../../notebook/common/notebookEditorInput.js';\nimport { INotebookEditorModelResolverService } from '../../notebook/common/notebookEditorModelResolverService.js';\nimport { INotebookService } from '../../notebook/common/notebookService.js';\nimport { isReplEditorControl, ReplEditor, ReplEditorControl } from './replEditor.js';\nimport { ReplEditorHistoryAccessibilityHelp, ReplEditorInputAccessibilityHelp } from './replEditorAccessibilityHelp.js';\nimport { ReplEditorInput } from './replEditorInput.js';\n\ntype SerializedNotebookEditorData = { resource: URI; preferredResource: URI; viewType: string; options?: NotebookEditorInputOptions; label?: string };\nclass ReplEditorSerializer implements IEditorSerializer {\n\tcanSerialize(input: EditorInput): boolean {\n\t\treturn input.typeId === ReplEditorInput.ID;\n\t}\n\tserialize(input: EditorInput): string {\n\t\tassertType(input instanceof ReplEditorInput);\n\t\tconst data: SerializedNotebookEditorData = {\n\t\t\tresource: input.resource,\n\t\t\tpreferredResource: input.preferredResource,\n\t\t\tviewType: input.viewType,\n\t\t\toptions: input.options,\n\t\t\tlabel: input.getName()\n\t\t};\n\t\treturn JSON.stringify(data);\n\t}\n\tdeserialize(instantiationService: IInstantiationService, raw: string) {\n\t\tconst data = <SerializedNotebookEditorData>parse(raw);\n\t\tif (!data) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst { resource, viewType } = data;\n\t\tif (!data || !URI.isUri(resource) || typeof viewType !== 'string') {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst input = instantiationService.createInstance(ReplEditorInput, resource, data.label);\n\t\treturn input;\n\t}\n}\n\nRegistry.as<IEditorPaneRegistry>(EditorExtensions.EditorPane).registerEditorPane(\n\tEditorPaneDescriptor.create(\n\t\tReplEditor,\n\t\tREPL_EDITOR_ID,\n\t\t'REPL Editor'\n\t),\n\t[\n\t\tnew SyncDescriptor(ReplEditorInput)\n\t]\n);\n\nRegistry.as<IEditorFactoryRegistry>(EditorExtensions.EditorFactory).registerEditorSerializer(\n\tReplEditorInput.ID,\n\tReplEditorSerializer\n);\n\nexport class ReplDocumentContribution extends Disposable implements IWorkbenchContribution {\n\n\tstatic readonly ID = 'workbench.contrib.replDocument';\n\n\tprivate readonly editorInputCache = new ResourceMap<ReplEditorInput>();\n\n\tconstructor(\n\t\t@INotebookService notebookService: INotebookService,\n\t\t@IEditorResolverService editorResolverService: IEditorResolverService,\n\t\t@INotebookEditorModelResolverService private readonly notebookEditorModelResolverService: INotebookEditorModelResolverService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService\n\t) {\n\t\tsuper();\n\n\t\teditorResolverService.registerEditor(\n\t\t\t// don't match anything, we don't need to support re-opening files as REPL editor at this point\n\t\t\t` `,\n\t\t\t{\n\t\t\t\tid: 'repl',\n\t\t\t\tlabel: 'repl Editor',\n\t\t\t\tpriority: RegisteredEditorPriority.option\n\t\t\t},\n\t\t\t{\n\t\t\t\t// We want to support all notebook types which could have any file extension,\n\t\t\t\t// so we just check if the resource corresponds to a notebook\n\t\t\t\tcanSupportResource: uri => notebookService.getNotebookTextModel(uri) !== undefined,\n\t\t\t\tsinglePerResource: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tcreateUntitledEditorInput: async ({ resource, options }) => {\n\t\t\t\t\tif (resource) {\n\t\t\t\t\t\tconst editor = this.editorInputCache.get(resource);\n\t\t\t\t\t\tif (editor && !editor.isDisposed()) {\n\t\t\t\t\t\t\treturn { editor, options };\n\t\t\t\t\t\t} else if (editor) {\n\t\t\t\t\t\t\tthis.editorInputCache.delete(resource);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tconst scratchpad = this.configurationService.getValue<boolean>(NotebookSetting.InteractiveWindowPromptToSave) !== true;\n\t\t\t\t\tconst ref = await this.notebookEditorModelResolverService.resolve({ untitledResource: resource }, 'jupyter-notebook', { scratchpad, viewType: 'repl' });\n\n\t\t\t\t\tconst notebookUri = ref.object.notebook.uri;\n\n\t\t\t\t\t// untitled notebooks are disposed when they get saved. we should not hold a reference\n\t\t\t\t\t// to such a disposed notebook and therefore dispose the reference as well\n\t\t\t\t\tEvent.once(ref.object.notebook.onWillDispose)(() => {\n\t\t\t\t\t\tref.dispose();\n\t\t\t\t\t});\n\t\t\t\t\tconst label = (options as INotebookEditorOptions)?.label ?? undefined;\n\t\t\t\t\tconst editor = this.instantiationService.createInstance(ReplEditorInput, notebookUri, label);\n\t\t\t\t\tthis.editorInputCache.set(notebookUri, editor);\n\t\t\t\t\tEvent.once(editor.onWillDispose)(() => this.editorInputCache.delete(notebookUri));\n\n\t\t\t\t\treturn { editor, options };\n\t\t\t\t},\n\t\t\t\tcreateEditorInput: async ({ resource, options }) => {\n\t\t\t\t\tif (this.editorInputCache.has(resource)) {\n\t\t\t\t\t\treturn { editor: this.editorInputCache.get(resource)!, options };\n\t\t\t\t\t}\n\n\t\t\t\t\tconst label = (options as INotebookEditorOptions)?.label ?? undefined;\n\t\t\t\t\tconst editor = this.instantiationService.createInstance(ReplEditorInput, resource, label);\n\t\t\t\t\tthis.editorInputCache.set(resource, editor);\n\t\t\t\t\tEvent.once(editor.onWillDispose)(() => this.editorInputCache.delete(resource));\n\n\t\t\t\t\treturn { editor, options };\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n}\n\nclass ReplWindowWorkingCopyEditorHandler extends Disposable implements IWorkbenchContribution, IWorkingCopyEditorHandler {\n\n\tstatic readonly ID = 'workbench.contrib.replWorkingCopyEditorHandler';\n\n\tconstructor(\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IWorkingCopyEditorService private readonly workingCopyEditorService: IWorkingCopyEditorService,\n\t\t@IExtensionService private readonly extensionService: IExtensionService,\n\t\t@INotebookService private readonly notebookService: INotebookService\n\t) {\n\t\tsuper();\n\n\t\tthis._installHandler();\n\t}\n\n\tasync handles(workingCopy: IWorkingCopyIdentifier) {\n\t\tconst notebookType = this._getNotebookType(workingCopy);\n\t\tif (!notebookType) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn !!notebookType && notebookType.viewType === 'repl' && await this.notebookService.canResolve(notebookType.notebookType);\n\t}\n\n\tisOpen(workingCopy: IWorkingCopyIdentifier, editor: EditorInput): boolean {\n\t\tif (!this.handles(workingCopy)) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn editor instanceof ReplEditorInput && isEqual(workingCopy.resource, editor.resource);\n\t}\n\n\tcreateEditor(workingCopy: IWorkingCopyIdentifier): EditorInput {\n\t\treturn this.instantiationService.createInstance(ReplEditorInput, workingCopy.resource, undefined);\n\t}\n\n\tprivate async _installHandler(): Promise<void> {\n\t\tawait this.extensionService.whenInstalledExtensionsRegistered();\n\n\t\tthis._register(this.workingCopyEditorService.registerHandler(this));\n\t}\n\n\tprivate _getNotebookType(workingCopy: IWorkingCopyIdentifier) {\n\t\treturn NotebookWorkingCopyTypeIdentifier.parse(workingCopy.typeId);\n\t}\n}\n\nregisterWorkbenchContribution2(ReplWindowWorkingCopyEditorHandler.ID, ReplWindowWorkingCopyEditorHandler, WorkbenchPhase.BlockRestore);\nregisterWorkbenchContribution2(ReplDocumentContribution.ID, ReplDocumentContribution, WorkbenchPhase.BlockRestore);\n\nAccessibleViewRegistry.register(new ReplEditorInputAccessibilityHelp());\nAccessibleViewRegistry.register(new ReplEditorHistoryAccessibilityHelp());\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'repl.focusLastItemExecuted',\n\t\t\ttitle: localize2('repl.focusLastReplOutput', 'Focus Most Recent REPL Execution'),\n\t\t\tcategory: 'REPL',\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.CommandPalette,\n\t\t\t\twhen: MOST_RECENT_REPL_EDITOR,\n\t\t\t},\n\t\t\tkeybinding: [{\n\t\t\t\tprimary: KeyChord(KeyMod.Alt | KeyCode.End, KeyMod.Alt | KeyCode.End),\n\t\t\t\tweight: NOTEBOOK_EDITOR_WIDGET_ACTION_WEIGHT,\n\t\t\t\twhen: ContextKeyExpr.or(IS_COMPOSITE_NOTEBOOK, NOTEBOOK_CELL_LIST_FOCUSED.negate())\n\t\t\t}],\n\t\t\tprecondition: MOST_RECENT_REPL_EDITOR\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor, context?: UriComponents): Promise<void> {\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst editorControl = editorService.activeEditorPane?.getControl();\n\t\tconst contextKeyService = accessor.get(IContextKeyService);\n\n\t\tlet notebookEditor: NotebookEditorWidget | undefined;\n\t\tif (editorControl && isReplEditorControl(editorControl)) {\n\t\t\tnotebookEditor = editorControl.notebookEditor;\n\t\t} else {\n\t\t\tconst uriString = MOST_RECENT_REPL_EDITOR.getValue(contextKeyService);\n\t\t\tconst uri = uriString ? URI.parse(uriString) : undefined;\n\n\t\t\tif (!uri) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst replEditor = editorService.findEditors(uri)[0];\n\n\t\t\tif (replEditor) {\n\t\t\t\tconst editor = await editorService.openEditor(replEditor.editor, replEditor.groupId);\n\t\t\t\tconst editorControl = editor?.getControl();\n\n\t\t\t\tif (editorControl && isReplEditorControl(editorControl)) {\n\t\t\t\t\tnotebookEditor = editorControl.notebookEditor;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst viewModel = notebookEditor?.getViewModel();\n\t\tif (notebookEditor && viewModel) {\n\t\t\t// last cell of the viewmodel is the last cell history\n\t\t\tconst lastCellIndex = viewModel.length - 1;\n\t\t\tif (lastCellIndex >= 0) {\n\t\t\t\tconst cell = viewModel.viewCells[lastCellIndex];\n\t\t\t\tnotebookEditor.focusNotebookCell(cell, 'container');\n\t\t\t}\n\t\t}\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'repl.input.focus',\n\t\t\ttitle: localize2('repl.input.focus', 'Focus Input Editor'),\n\t\t\tcategory: 'REPL',\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.CommandPalette,\n\t\t\t\twhen: MOST_RECENT_REPL_EDITOR,\n\t\t\t},\n\t\t\tkeybinding: [{\n\t\t\t\twhen: ContextKeyExpr.and(IS_COMPOSITE_NOTEBOOK, NOTEBOOK_EDITOR_FOCUSED),\n\t\t\t\tweight: NOTEBOOK_EDITOR_WIDGET_ACTION_WEIGHT,\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.DownArrow\n\t\t\t}, {\n\t\t\t\twhen: ContextKeyExpr.and(MOST_RECENT_REPL_EDITOR),\n\t\t\t\tweight: KeybindingWeight.WorkbenchContrib + 5,\n\t\t\t\tprimary: KeyChord(KeyMod.Alt | KeyCode.Home, KeyMod.Alt | KeyCode.Home),\n\t\t\t}]\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst editorControl = editorService.activeEditorPane?.getControl();\n\t\tconst contextKeyService = accessor.get(IContextKeyService);\n\n\t\tif (editorControl && isReplEditorControl(editorControl) && editorControl.notebookEditor) {\n\t\t\teditorService.activeEditorPane?.focus();\n\t\t}\n\t\telse {\n\t\t\tconst uriString = MOST_RECENT_REPL_EDITOR.getValue(contextKeyService);\n\t\t\tconst uri = uriString ? URI.parse(uriString) : undefined;\n\n\t\t\tif (!uri) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst replEditor = editorService.findEditors(uri)[0];\n\n\t\t\tif (replEditor) {\n\t\t\t\tawait editorService.openEditor({ resource: uri, options: { preserveFocus: false } }, replEditor.groupId);\n\t\t\t}\n\t\t}\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'repl.execute',\n\t\t\ttitle: localize2('repl.execute', 'Execute REPL input'),\n\t\t\tcategory: 'REPL',\n\t\t\tkeybinding: [{\n\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\tIS_COMPOSITE_NOTEBOOK,\n\t\t\t\t\tContextKeyExpr.equals('activeEditor', 'workbench.editor.repl'),\n\t\t\t\t\tNOTEBOOK_CELL_LIST_FOCUSED.negate()\n\t\t\t\t),\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.Enter,\n\t\t\t\tweight: NOTEBOOK_EDITOR_WIDGET_ACTION_WEIGHT\n\t\t\t}, {\n\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\tIS_COMPOSITE_NOTEBOOK,\n\t\t\t\t\tContextKeyExpr.equals('activeEditor', 'workbench.editor.repl'),\n\t\t\t\t\tContextKeyExpr.equals('config.interactiveWindow.executeWithShiftEnter', true),\n\t\t\t\t\tNOTEBOOK_CELL_LIST_FOCUSED.negate()\n\t\t\t\t),\n\t\t\t\tprimary: KeyMod.Shift | KeyCode.Enter,\n\t\t\t\tweight: NOTEBOOK_EDITOR_WIDGET_ACTION_WEIGHT\n\t\t\t}, {\n\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\tIS_COMPOSITE_NOTEBOOK,\n\t\t\t\t\tContextKeyExpr.equals('activeEditor', 'workbench.editor.repl'),\n\t\t\t\t\tContextKeyExpr.equals('config.interactiveWindow.executeWithShiftEnter', false),\n\t\t\t\t\tNOTEBOOK_CELL_LIST_FOCUSED.negate()\n\t\t\t\t),\n\t\t\t\tprimary: KeyCode.Enter,\n\t\t\t\tweight: NOTEBOOK_EDITOR_WIDGET_ACTION_WEIGHT\n\t\t\t}],\n\t\t\tmenu: [\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.ReplInputExecute\n\t\t\t\t}\n\t\t\t],\n\t\t\ticon: icons.executeIcon,\n\t\t\tf1: false,\n\t\t\tmetadata: {\n\t\t\t\tdescription: 'Execute the Contents of the Input Box',\n\t\t\t\targs: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'resource',\n\t\t\t\t\t\tdescription: 'Interactive resource Uri',\n\t\t\t\t\t\tisOptional: true\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor, context?: UriComponents): Promise<void> {\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst bulkEditService = accessor.get(IBulkEditService);\n\t\tconst historyService = accessor.get(IInteractiveHistoryService);\n\t\tconst notebookEditorService = accessor.get(INotebookEditorService);\n\t\tlet editorControl: IEditorControl | undefined;\n\t\tif (context) {\n\t\t\tconst resourceUri = URI.revive(context);\n\t\t\tconst editors = editorService.findEditors(resourceUri);\n\t\t\tfor (const found of editors) {\n\t\t\t\tif (found.editor.typeId === ReplEditorInput.ID) {\n\t\t\t\t\tconst editor = await editorService.openEditor(found.editor, found.groupId);\n\t\t\t\t\teditorControl = editor?.getControl();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\teditorControl = editorService.activeEditorPane?.getControl() as { notebookEditor: NotebookEditorWidget | undefined; codeEditor: CodeEditorWidget } | undefined;\n\t\t}\n\n\t\tif (isReplEditorControl(editorControl)) {\n\t\t\texecuteReplInput(bulkEditService, historyService, notebookEditorService, editorControl);\n\t\t}\n\t}\n});\n\nasync function executeReplInput(\n\tbulkEditService: IBulkEditService,\n\thistoryService: IInteractiveHistoryService,\n\tnotebookEditorService: INotebookEditorService,\n\teditorControl: ReplEditorControl) {\n\n\tif (editorControl && editorControl.notebookEditor && editorControl.activeCodeEditor) {\n\t\tconst notebookDocument = editorControl.notebookEditor.textModel;\n\t\tconst textModel = editorControl.activeCodeEditor.getModel();\n\t\tconst activeKernel = editorControl.notebookEditor.activeKernel;\n\t\tconst language = activeKernel?.supportedLanguages[0] ?? PLAINTEXT_LANGUAGE_ID;\n\n\t\tif (notebookDocument && textModel) {\n\t\t\tconst index = notebookDocument.length - 1;\n\t\t\tconst value = textModel.getValue();\n\n\t\t\tif (isFalsyOrWhitespace(value)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Just accept any existing inline chat hunk\n\t\t\tconst ctrl = InlineChatController.get(editorControl.activeCodeEditor);\n\t\t\tif (ctrl) {\n\t\t\t\tctrl.acceptSession();\n\t\t\t}\n\n\t\t\thistoryService.replaceLast(notebookDocument.uri, value);\n\t\t\thistoryService.addToHistory(notebookDocument.uri, '');\n\t\t\ttextModel.setValue('');\n\t\t\tnotebookDocument.cells[index].resetTextBuffer(textModel.getTextBuffer());\n\n\t\t\tconst collapseState = editorControl.notebookEditor.notebookOptions.getDisplayOptions().interactiveWindowCollapseCodeCells === 'fromEditor' ?\n\t\t\t\t{\n\t\t\t\t\tinputCollapsed: false,\n\t\t\t\t\toutputCollapsed: false\n\t\t\t\t} :\n\t\t\t\tundefined;\n\n\t\t\tawait bulkEditService.apply([\n\t\t\t\tnew ResourceNotebookCellEdit(notebookDocument.uri,\n\t\t\t\t\t{\n\t\t\t\t\t\teditType: CellEditType.Replace,\n\t\t\t\t\t\tindex: index,\n\t\t\t\t\t\tcount: 0,\n\t\t\t\t\t\tcells: [{\n\t\t\t\t\t\t\tcellKind: CellKind.Code,\n\t\t\t\t\t\t\tmime: undefined,\n\t\t\t\t\t\t\tlanguage,\n\t\t\t\t\t\t\tsource: value,\n\t\t\t\t\t\t\toutputs: [],\n\t\t\t\t\t\t\tmetadata: {},\n\t\t\t\t\t\t\tcollapseState\n\t\t\t\t\t\t}]\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t]);\n\n\t\t\t// reveal the cell into view first\n\t\t\tconst range = { start: index, end: index + 1 };\n\t\t\teditorControl.notebookEditor.revealCellRangeInView(range);\n\t\t\tawait editorControl.notebookEditor.executeNotebookCells(editorControl.notebookEditor.getCellsInRange({ start: index, end: index + 1 }));\n\n\t\t\t// update the selection and focus in the extension host model\n\t\t\tconst editor = notebookEditorService.getNotebookEditor(editorControl.notebookEditor.getId());\n\t\t\tif (editor) {\n\t\t\t\teditor.setSelections([range]);\n\t\t\t\teditor.setFocus(range);\n\t\t\t}\n\t\t}\n\t}\n}\n\nAccessibleViewRegistry.register(new ReplEditorAccessibleView());\n\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'list.find.replInputFocus',\n\tweight: KeybindingWeight.WorkbenchContrib + 1,\n\twhen: ContextKeyExpr.equals('view', REPL_VIEW_ID),\n\tprimary: KeyMod.CtrlCmd | KeyMod.Alt | KeyCode.KeyF,\n\tsecondary: [KeyCode.F3],\n\thandler: (accessor) => {\n\t\tgetReplView(accessor.get(IViewsService))?.openFind();\n\t}\n});\n"]}