{"version":3,"sources":["vs/workbench/contrib/scm/browser/scmViewPane.ts"],"names":[],"mappings":"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","file":"scmViewPane.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport './media/scm.css';\nimport { Event, Emitter } from '../../../../base/common/event.js';\nimport { basename, dirname } from '../../../../base/common/resources.js';\nimport { IDisposable, Disposable, DisposableStore, combinedDisposable, dispose, toDisposable, MutableDisposable, DisposableMap } from '../../../../base/common/lifecycle.js';\nimport { ViewPane, IViewPaneOptions, ViewAction } from '../../../browser/parts/views/viewPane.js';\nimport { append, $, Dimension, trackFocus, clearNode, isPointerEvent, isActiveElement } from '../../../../base/browser/dom.js';\nimport { asCSSUrl } from '../../../../base/browser/cssValue.js';\nimport { IListVirtualDelegate, IIdentityProvider } from '../../../../base/browser/ui/list/list.js';\nimport { ISCMResourceGroup, ISCMResource, InputValidationType, ISCMRepository, ISCMInput, IInputValidation, ISCMViewService, ISCMViewVisibleRepositoryChangeEvent, ISCMService, SCMInputChangeReason, VIEW_PANE_ID, ISCMActionButton, ISCMActionButtonDescriptor, ISCMRepositorySortKey, ISCMInputValueProviderContext, ViewMode, ISCMRepositorySelectionMode } from '../common/scm.js';\nimport { ResourceLabels, IResourceLabel, IFileLabelOptions } from '../../../browser/labels.js';\nimport { CountBadge } from '../../../../base/browser/ui/countBadge/countBadge.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IContextViewService, IContextMenuService, IOpenContextView } from '../../../../platform/contextview/browser/contextView.js';\nimport { IContextKeyService, IContextKey, ContextKeyExpr, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { MenuItemAction, IMenuService, registerAction2, MenuId, MenuRegistry, Action2, IMenu } from '../../../../platform/actions/common/actions.js';\nimport { IAction, ActionRunner, Action, Separator, IActionRunner, toAction } from '../../../../base/common/actions.js';\nimport { ActionBar, IActionViewItemProvider } from '../../../../base/browser/ui/actionbar/actionbar.js';\nimport { IThemeService, IFileIconTheme } from '../../../../platform/theme/common/themeService.js';\nimport { isSCMResource, isSCMResourceGroup, isSCMRepository, isSCMInput, collectContextMenuActions, getActionViewItemProvider, isSCMActionButton, isSCMViewService, isSCMResourceNode, connectPrimaryMenu } from './util.js';\nimport { WorkbenchCompressibleAsyncDataTree, IOpenEvent } from '../../../../platform/list/browser/listService.js';\nimport { IConfigurationService, ConfigurationTarget } from '../../../../platform/configuration/common/configuration.js';\nimport { disposableTimeout, Sequencer, ThrottledDelayer, Throttler } from '../../../../base/common/async.js';\nimport { ITreeNode, ITreeFilter, ITreeSorter, ITreeContextMenuEvent, ITreeDragAndDrop, ITreeDragOverReaction, IAsyncDataSource } from '../../../../base/browser/ui/tree/tree.js';\nimport { ResourceTree, IResourceNode } from '../../../../base/common/resourceTree.js';\nimport { ICompressibleTreeRenderer, ICompressibleKeyboardNavigationLabelProvider } from '../../../../base/browser/ui/tree/objectTree.js';\nimport { Iterable } from '../../../../base/common/iterator.js';\nimport { ICompressedTreeNode } from '../../../../base/browser/ui/tree/compressedObjectTreeModel.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { FileKind } from '../../../../platform/files/common/files.js';\nimport { compareFileNames, comparePaths } from '../../../../base/common/comparers.js';\nimport { FuzzyScore, createMatches, IMatch } from '../../../../base/common/filters.js';\nimport { IViewDescriptorService } from '../../../common/views.js';\nimport { localize } from '../../../../nls.js';\nimport { IStorageService, StorageScope, StorageTarget } from '../../../../platform/storage/common/storage.js';\nimport { EditorResourceAccessor, SideBySideEditor } from '../../../common/editor.js';\nimport { CodeEditorWidget, ICodeEditorWidgetOptions } from '../../../../editor/browser/widget/codeEditor/codeEditorWidget.js';\nimport { IEditorConstructionOptions } from '../../../../editor/browser/config/editorConfiguration.js';\nimport { getSimpleEditorOptions, setupSimpleEditorSelectionStyling } from '../../codeEditor/browser/simpleEditorOptions.js';\nimport { IModelService } from '../../../../editor/common/services/model.js';\nimport { EditorExtensionsRegistry } from '../../../../editor/browser/editorExtensions.js';\nimport { MenuPreventer } from '../../codeEditor/browser/menuPreventer.js';\nimport { SelectionClipboardContributionID } from '../../codeEditor/browser/selectionClipboard.js';\nimport { EditorDictation } from '../../codeEditor/browser/dictation/editorDictation.js';\nimport { ContextMenuController } from '../../../../editor/contrib/contextmenu/browser/contextmenu.js';\nimport * as platform from '../../../../base/common/platform.js';\nimport { compare, format } from '../../../../base/common/strings.js';\nimport { SuggestController } from '../../../../editor/contrib/suggest/browser/suggestController.js';\nimport { SnippetController2 } from '../../../../editor/contrib/snippet/browser/snippetController2.js';\nimport { ServiceCollection } from '../../../../platform/instantiation/common/serviceCollection.js';\nimport { ColorDetector } from '../../../../editor/contrib/colorPicker/browser/colorDetector.js';\nimport { LinkDetector } from '../../../../editor/contrib/links/browser/links.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nimport { IListAccessibilityProvider } from '../../../../base/browser/ui/list/listWidget.js';\nimport { ILabelService } from '../../../../platform/label/common/label.js';\nimport { KeyCode } from '../../../../base/common/keyCodes.js';\nimport { DEFAULT_FONT_FAMILY } from '../../../../base/browser/fonts.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { AnchorAlignment } from '../../../../base/browser/ui/contextview/contextview.js';\nimport { RepositoryActionRunner, RepositoryRenderer } from './scmRepositoryRenderer.js';\nimport { isDark } from '../../../../platform/theme/common/theme.js';\nimport { LabelFuzzyScore } from '../../../../base/browser/ui/tree/abstractTree.js';\nimport { Selection } from '../../../../editor/common/core/selection.js';\nimport { API_OPEN_DIFF_EDITOR_COMMAND_ID, API_OPEN_EDITOR_COMMAND_ID } from '../../../browser/parts/editor/editorCommands.js';\nimport { createActionViewItem, getFlatActionBarActions, getFlatContextMenuActions } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { IMarkdownRendererService, openLinkFromMarkdown } from '../../../../platform/markdown/browser/markdownRenderer.js';\nimport { Button, ButtonWithDescription, ButtonWithDropdown } from '../../../../base/browser/ui/button/button.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nimport { RepositoryContextKeys } from './scmViewService.js';\nimport { DragAndDropController } from '../../../../editor/contrib/dnd/browser/dnd.js';\nimport { CopyPasteController } from '../../../../editor/contrib/dropOrPasteInto/browser/copyPasteController.js';\nimport { DropIntoEditorController } from '../../../../editor/contrib/dropOrPasteInto/browser/dropIntoEditorController.js';\nimport { MessageController } from '../../../../editor/contrib/message/browser/messageController.js';\nimport { defaultButtonStyles, defaultCountBadgeStyles } from '../../../../platform/theme/browser/defaultStyles.js';\nimport { InlineCompletionsController } from '../../../../editor/contrib/inlineCompletions/browser/controller/inlineCompletionsController.js';\nimport { CodeActionController } from '../../../../editor/contrib/codeAction/browser/codeActionController.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport { IDragAndDropData } from '../../../../base/browser/dnd.js';\nimport { fillEditorsDragData } from '../../../browser/dnd.js';\nimport { ElementsDragAndDropData, ListViewTargetSector } from '../../../../base/browser/ui/list/listView.js';\nimport { CodeDataTransfers } from '../../../../platform/dnd/browser/dnd.js';\nimport { FormatOnType } from '../../../../editor/contrib/format/browser/formatActions.js';\nimport { EditorOption, EditorOptions, IEditorOptions } from '../../../../editor/common/config/editorOptions.js';\nimport { IAsyncDataTreeViewState, ITreeCompressionDelegate } from '../../../../base/browser/ui/tree/asyncDataTree.js';\nimport { IUriIdentityService } from '../../../../platform/uriIdentity/common/uriIdentity.js';\nimport { EditOperation } from '../../../../editor/common/core/editOperation.js';\nimport { HiddenItemStrategy, IMenuWorkbenchToolBarOptions, WorkbenchToolBar } from '../../../../platform/actions/browser/toolbar.js';\nimport { CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { DropdownWithPrimaryActionViewItem } from '../../../../platform/actions/browser/dropdownWithPrimaryActionViewItem.js';\nimport { clamp, rot } from '../../../../base/common/numbers.js';\nimport { IHoverService } from '../../../../platform/hover/browser/hover.js';\nimport { OpenScmGroupAction } from '../../multiDiffEditor/browser/scmMultiDiffSourceResolver.js';\nimport { ContentHoverController } from '../../../../editor/contrib/hover/browser/contentHoverController.js';\nimport { GlyphHoverController } from '../../../../editor/contrib/hover/browser/glyphHoverController.js';\nimport { ITextModel } from '../../../../editor/common/model.js';\nimport { autorun, runOnChange } from '../../../../base/common/observable.js';\nimport { PlaceholderTextContribution } from '../../../../editor/contrib/placeholderText/browser/placeholderTextContribution.js';\nimport { observableConfigValue } from '../../../../platform/observable/common/platformObservableUtils.js';\nimport { AccessibilityVerbositySettingId } from '../../accessibility/browser/accessibilityConfiguration.js';\nimport { IAccessibilityService } from '../../../../platform/accessibility/common/accessibility.js';\nimport { AccessibilityCommandId } from '../../accessibility/common/accessibilityCommands.js';\nimport { ChatContextKeys } from '../../chat/common/chatContextKeys.js';\nimport product from '../../../../platform/product/common/product.js';\nimport { CHAT_SETUP_SUPPORT_ANONYMOUS_ACTION_ID } from '../../chat/browser/actions/chatActions.js';\n\ntype TreeElement = ISCMRepository | ISCMInput | ISCMActionButton | ISCMResourceGroup | ISCMResource | IResourceNode<ISCMResource, ISCMResourceGroup>;\n\nfunction processResourceFilterData(uri: URI, filterData: FuzzyScore | LabelFuzzyScore | undefined): [IMatch[] | undefined, IMatch[] | undefined] {\n\tif (!filterData) {\n\t\treturn [undefined, undefined];\n\t}\n\n\tif (!(filterData as LabelFuzzyScore).label) {\n\t\tconst matches = createMatches(filterData as FuzzyScore);\n\t\treturn [matches, undefined];\n\t}\n\n\tconst fileName = basename(uri);\n\tconst label = (filterData as LabelFuzzyScore).label;\n\tconst pathLength = label.length - fileName.length;\n\tconst matches = createMatches((filterData as LabelFuzzyScore).score);\n\n\t// FileName match\n\tif (label === fileName) {\n\t\treturn [matches, undefined];\n\t}\n\n\t// FilePath match\n\tconst labelMatches: IMatch[] = [];\n\tconst descriptionMatches: IMatch[] = [];\n\n\tfor (const match of matches) {\n\t\tif (match.start > pathLength) {\n\t\t\t// Label match\n\t\t\tlabelMatches.push({\n\t\t\t\tstart: match.start - pathLength,\n\t\t\t\tend: match.end - pathLength\n\t\t\t});\n\t\t} else if (match.end < pathLength) {\n\t\t\t// Description match\n\t\t\tdescriptionMatches.push(match);\n\t\t} else {\n\t\t\t// Spanning match\n\t\t\tlabelMatches.push({\n\t\t\t\tstart: 0,\n\t\t\t\tend: match.end - pathLength\n\t\t\t});\n\t\t\tdescriptionMatches.push({\n\t\t\t\tstart: match.start,\n\t\t\t\tend: pathLength\n\t\t\t});\n\t\t}\n\t}\n\n\treturn [labelMatches, descriptionMatches];\n}\n\ninterface ISCMLayout {\n\theight: number | undefined;\n\twidth: number | undefined;\n\treadonly onDidChange: Event<void>;\n}\n\ninterface ActionButtonTemplate {\n\treadonly actionButton: SCMActionButton;\n\tdisposable: IDisposable;\n\treadonly templateDisposable: IDisposable;\n}\n\nexport class ActionButtonRenderer implements ICompressibleTreeRenderer<ISCMActionButton, FuzzyScore, ActionButtonTemplate> {\n\tstatic readonly DEFAULT_HEIGHT = 28;\n\n\tstatic readonly TEMPLATE_ID = 'actionButton';\n\tget templateId(): string { return ActionButtonRenderer.TEMPLATE_ID; }\n\n\tprivate actionButtons = new Map<ISCMActionButton, SCMActionButton>();\n\n\tconstructor(\n\t\t@ICommandService private commandService: ICommandService,\n\t\t@IContextMenuService private contextMenuService: IContextMenuService,\n\t\t@INotificationService private notificationService: INotificationService,\n\t) { }\n\n\trenderTemplate(container: HTMLElement): ActionButtonTemplate {\n\t\t// Use default cursor & disable hover for list item\n\t\tcontainer.parentElement!.parentElement!.classList.add('cursor-default', 'force-no-hover');\n\n\t\tconst buttonContainer = append(container, $('.button-container'));\n\t\tconst actionButton = new SCMActionButton(buttonContainer, this.contextMenuService, this.commandService, this.notificationService);\n\n\t\treturn { actionButton, disposable: Disposable.None, templateDisposable: actionButton };\n\t}\n\n\trenderElement(node: ITreeNode<ISCMActionButton, FuzzyScore>, index: number, templateData: ActionButtonTemplate): void {\n\t\ttemplateData.disposable.dispose();\n\n\t\tconst disposables = new DisposableStore();\n\t\tconst actionButton = node.element;\n\t\ttemplateData.actionButton.setButton(node.element.button);\n\n\t\t// Remember action button\n\t\tthis.actionButtons.set(actionButton, templateData.actionButton);\n\t\tdisposables.add({ dispose: () => this.actionButtons.delete(actionButton) });\n\n\t\ttemplateData.disposable = disposables;\n\t}\n\n\trenderCompressedElements(): void {\n\t\tthrow new Error('Should never happen since node is incompressible');\n\t}\n\n\tfocusActionButton(actionButton: ISCMActionButton): void {\n\t\tthis.actionButtons.get(actionButton)?.focus();\n\t}\n\n\tdisposeElement(node: ITreeNode<ISCMActionButton, FuzzyScore>, index: number, template: ActionButtonTemplate): void {\n\t\ttemplate.disposable.dispose();\n\t}\n\n\tdisposeTemplate(templateData: ActionButtonTemplate): void {\n\t\ttemplateData.disposable.dispose();\n\t\ttemplateData.templateDisposable.dispose();\n\t}\n}\n\n\nclass SCMTreeDragAndDrop implements ITreeDragAndDrop<TreeElement> {\n\tconstructor(private readonly instantiationService: IInstantiationService) { }\n\n\tgetDragURI(element: TreeElement): string | null {\n\t\tif (isSCMResource(element)) {\n\t\t\treturn element.sourceUri.toString();\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tonDragStart(data: IDragAndDropData, originalEvent: DragEvent): void {\n\t\tconst items = SCMTreeDragAndDrop.getResourcesFromDragAndDropData(data as ElementsDragAndDropData<TreeElement, TreeElement[]>);\n\t\tif (originalEvent.dataTransfer && items?.length) {\n\t\t\tthis.instantiationService.invokeFunction(accessor => fillEditorsDragData(accessor, items, originalEvent));\n\n\t\t\tconst fileResources = items.filter(s => s.scheme === Schemas.file).map(r => r.fsPath);\n\t\t\tif (fileResources.length) {\n\t\t\t\toriginalEvent.dataTransfer.setData(CodeDataTransfers.FILES, JSON.stringify(fileResources));\n\t\t\t}\n\t\t}\n\t}\n\n\tgetDragLabel(elements: TreeElement[], originalEvent: DragEvent): string | undefined {\n\t\tif (elements.length === 1) {\n\t\t\tconst element = elements[0];\n\t\t\tif (isSCMResource(element)) {\n\t\t\t\treturn basename(element.sourceUri);\n\t\t\t}\n\t\t}\n\n\t\treturn String(elements.length);\n\t}\n\n\tonDragOver(data: IDragAndDropData, targetElement: TreeElement | undefined, targetIndex: number | undefined, targetSector: ListViewTargetSector | undefined, originalEvent: DragEvent): boolean | ITreeDragOverReaction {\n\t\treturn true;\n\t}\n\n\tdrop(data: IDragAndDropData, targetElement: TreeElement | undefined, targetIndex: number | undefined, targetSector: ListViewTargetSector | undefined, originalEvent: DragEvent): void { }\n\n\tprivate static getResourcesFromDragAndDropData(data: ElementsDragAndDropData<TreeElement, TreeElement[]>): URI[] {\n\t\tconst uris: URI[] = [];\n\t\tfor (const element of [...data.context ?? [], ...data.elements]) {\n\t\t\tif (isSCMResource(element)) {\n\t\t\t\turis.push(element.sourceUri);\n\t\t\t}\n\t\t}\n\t\treturn uris;\n\t}\n\n\tdispose(): void { }\n}\n\ninterface InputTemplate {\n\treadonly inputWidget: SCMInputWidget;\n\tinputWidgetHeight: number;\n\treadonly elementDisposables: DisposableStore;\n\treadonly templateDisposable: IDisposable;\n}\n\nclass InputRenderer implements ICompressibleTreeRenderer<ISCMInput, FuzzyScore, InputTemplate> {\n\n\tstatic readonly DEFAULT_HEIGHT = 26;\n\n\tstatic readonly TEMPLATE_ID = 'input';\n\tget templateId(): string { return InputRenderer.TEMPLATE_ID; }\n\n\tprivate inputWidgets = new Map<ISCMInput, SCMInputWidget>();\n\tprivate contentHeights = new WeakMap<ISCMInput, number>();\n\tprivate editorSelections = new WeakMap<ISCMInput, Selection[]>();\n\n\tconstructor(\n\t\tprivate outerLayout: ISCMLayout,\n\t\tprivate overflowWidgetsDomNode: HTMLElement,\n\t\tprivate updateHeight: (input: ISCMInput, height: number) => void,\n\t\t@IInstantiationService private instantiationService: IInstantiationService\n\t) { }\n\n\trenderTemplate(container: HTMLElement): InputTemplate {\n\t\t// Disable hover for list item\n\t\tcontainer.parentElement!.parentElement!.classList.add('force-no-hover');\n\n\t\tconst templateDisposable = new DisposableStore();\n\t\tconst inputElement = append(container, $('.scm-input'));\n\t\tconst inputWidget = this.instantiationService.createInstance(SCMInputWidget, inputElement, this.overflowWidgetsDomNode);\n\t\ttemplateDisposable.add(inputWidget);\n\n\t\treturn { inputWidget, inputWidgetHeight: InputRenderer.DEFAULT_HEIGHT, elementDisposables: new DisposableStore(), templateDisposable };\n\t}\n\n\trenderElement(node: ITreeNode<ISCMInput, FuzzyScore>, index: number, templateData: InputTemplate): void {\n\t\tconst input = node.element;\n\t\ttemplateData.inputWidget.input = input;\n\n\t\t// Remember widget\n\t\tthis.inputWidgets.set(input, templateData.inputWidget);\n\t\ttemplateData.elementDisposables.add({\n\t\t\tdispose: () => this.inputWidgets.delete(input)\n\t\t});\n\n\t\t// Widget cursor selections\n\t\tconst selections = this.editorSelections.get(input);\n\n\t\tif (selections) {\n\t\t\ttemplateData.inputWidget.selections = selections;\n\t\t}\n\n\t\ttemplateData.elementDisposables.add(toDisposable(() => {\n\t\t\tconst selections = templateData.inputWidget.selections;\n\n\t\t\tif (selections) {\n\t\t\t\tthis.editorSelections.set(input, selections);\n\t\t\t}\n\t\t}));\n\n\t\t// Reset widget height so it's recalculated\n\t\ttemplateData.inputWidgetHeight = InputRenderer.DEFAULT_HEIGHT;\n\n\t\t// Rerender the element whenever the editor content height changes\n\t\tconst onDidChangeContentHeight = () => {\n\t\t\tconst contentHeight = templateData.inputWidget.getContentHeight();\n\t\t\tthis.contentHeights.set(input, contentHeight);\n\n\t\t\tif (templateData.inputWidgetHeight !== contentHeight) {\n\t\t\t\tthis.updateHeight(input, contentHeight + 10);\n\t\t\t\ttemplateData.inputWidgetHeight = contentHeight;\n\t\t\t\ttemplateData.inputWidget.layout();\n\t\t\t}\n\t\t};\n\n\t\tconst startListeningContentHeightChange = () => {\n\t\t\ttemplateData.elementDisposables.add(templateData.inputWidget.onDidChangeContentHeight(onDidChangeContentHeight));\n\t\t\tonDidChangeContentHeight();\n\t\t};\n\n\t\t// Setup height change listener on next tick\n\t\tdisposableTimeout(startListeningContentHeightChange, 0, templateData.elementDisposables);\n\n\t\t// Layout the editor whenever the outer layout happens\n\t\tconst layoutEditor = () => templateData.inputWidget.layout();\n\t\ttemplateData.elementDisposables.add(this.outerLayout.onDidChange(layoutEditor));\n\t\tlayoutEditor();\n\t}\n\n\trenderCompressedElements(): void {\n\t\tthrow new Error('Should never happen since node is incompressible');\n\t}\n\n\tdisposeElement(group: ITreeNode<ISCMInput, FuzzyScore>, index: number, template: InputTemplate): void {\n\t\ttemplate.elementDisposables.clear();\n\t}\n\n\tdisposeTemplate(templateData: InputTemplate): void {\n\t\ttemplateData.elementDisposables.dispose();\n\t\ttemplateData.templateDisposable.dispose();\n\t}\n\n\tgetHeight(input: ISCMInput): number {\n\t\treturn (this.contentHeights.get(input) ?? InputRenderer.DEFAULT_HEIGHT) + 10;\n\t}\n\n\tgetRenderedInputWidget(input: ISCMInput): SCMInputWidget | undefined {\n\t\treturn this.inputWidgets.get(input);\n\t}\n\n\tgetFocusedInput(): ISCMInput | undefined {\n\t\tfor (const [input, inputWidget] of this.inputWidgets) {\n\t\t\tif (inputWidget.hasFocus()) {\n\t\t\t\treturn input;\n\t\t\t}\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tclearValidation(): void {\n\t\tfor (const [, inputWidget] of this.inputWidgets) {\n\t\t\tinputWidget.clearValidation();\n\t\t}\n\t}\n}\n\ninterface ResourceGroupTemplate {\n\treadonly name: HTMLElement;\n\treadonly count: CountBadge;\n\treadonly actionBar: WorkbenchToolBar;\n\treadonly elementDisposables: DisposableStore;\n\treadonly disposables: IDisposable;\n}\n\nclass ResourceGroupRenderer implements ICompressibleTreeRenderer<ISCMResourceGroup, FuzzyScore, ResourceGroupTemplate> {\n\n\tstatic readonly TEMPLATE_ID = 'resource group';\n\tget templateId(): string { return ResourceGroupRenderer.TEMPLATE_ID; }\n\n\tconstructor(\n\t\tprivate actionViewItemProvider: IActionViewItemProvider,\n\t\tprivate actionRunner: ActionRunner,\n\t\t@ICommandService private commandService: ICommandService,\n\t\t@IContextKeyService private contextKeyService: IContextKeyService,\n\t\t@IContextMenuService private contextMenuService: IContextMenuService,\n\t\t@IKeybindingService private keybindingService: IKeybindingService,\n\t\t@IMenuService private menuService: IMenuService,\n\t\t@ISCMViewService private scmViewService: ISCMViewService,\n\t\t@ITelemetryService private telemetryService: ITelemetryService\n\t) { }\n\n\trenderTemplate(container: HTMLElement): ResourceGroupTemplate {\n\t\tconst element = append(container, $('.resource-group'));\n\t\tconst name = append(element, $('.name'));\n\t\tconst actionsContainer = append(element, $('.actions'));\n\t\tconst actionBar = new WorkbenchToolBar(actionsContainer, {\n\t\t\tactionViewItemProvider: this.actionViewItemProvider,\n\t\t\tactionRunner: this.actionRunner\n\t\t}, this.menuService, this.contextKeyService, this.contextMenuService, this.keybindingService, this.commandService, this.telemetryService);\n\t\tconst countContainer = append(element, $('.count'));\n\t\tconst count = new CountBadge(countContainer, {}, defaultCountBadgeStyles);\n\t\tconst disposables = combinedDisposable(actionBar, count);\n\n\t\treturn { name, count, actionBar, elementDisposables: new DisposableStore(), disposables };\n\t}\n\n\trenderElement(node: ITreeNode<ISCMResourceGroup, FuzzyScore>, index: number, template: ResourceGroupTemplate): void {\n\t\tconst group = node.element;\n\t\ttemplate.name.textContent = group.label;\n\t\ttemplate.count.setCount(group.resources.length);\n\n\t\tconst menus = this.scmViewService.menus.getRepositoryMenus(group.provider);\n\t\ttemplate.elementDisposables.add(connectPrimaryMenu(menus.getResourceGroupMenu(group), primary => {\n\t\t\ttemplate.actionBar.setActions(primary);\n\t\t}, 'inline'));\n\t\ttemplate.actionBar.context = group;\n\t}\n\n\trenderCompressedElements(node: ITreeNode<ICompressedTreeNode<ISCMResourceGroup>, FuzzyScore>): void {\n\t\tthrow new Error('Should never happen since node is incompressible');\n\t}\n\n\tdisposeElement(group: ITreeNode<ISCMResourceGroup, FuzzyScore>, index: number, template: ResourceGroupTemplate): void {\n\t\ttemplate.elementDisposables.clear();\n\t}\n\n\tdisposeTemplate(template: ResourceGroupTemplate): void {\n\t\ttemplate.elementDisposables.dispose();\n\t\ttemplate.disposables.dispose();\n\t}\n}\n\ninterface ResourceTemplate {\n\telement: HTMLElement;\n\tname: HTMLElement;\n\tfileLabel: IResourceLabel;\n\tdecorationIcon: HTMLElement;\n\tactionBar: WorkbenchToolBar;\n\tactionBarMenu: IMenu | undefined;\n\treadonly actionBarMenuListener: MutableDisposable<IDisposable>;\n\treadonly elementDisposables: DisposableStore;\n\treadonly disposables: IDisposable;\n}\n\ninterface RenderedResourceData {\n\treadonly tooltip: string;\n\treadonly uri: URI;\n\treadonly fileLabelOptions: Partial<IFileLabelOptions>;\n\treadonly iconResource: ISCMResource | undefined;\n}\n\nclass RepositoryPaneActionRunner extends ActionRunner {\n\n\tconstructor(private getSelectedResources: () => (ISCMResourceGroup | ISCMResource | IResourceNode<ISCMResource, ISCMResourceGroup>)[]) {\n\t\tsuper();\n\t}\n\n\tprotected override async runAction(action: IAction, context: ISCMResourceGroup | ISCMResource | IResourceNode<ISCMResource, ISCMResourceGroup>): Promise<void> {\n\t\tif (!(action instanceof MenuItemAction)) {\n\t\t\treturn super.runAction(action, context);\n\t\t}\n\n\t\tconst isContextResourceGroup = isSCMResourceGroup(context);\n\t\tconst selection = this.getSelectedResources().filter(r => isSCMResourceGroup(r) === isContextResourceGroup);\n\n\t\tconst contextIsSelected = selection.some(s => s === context);\n\t\tconst actualContext = contextIsSelected ? selection : [context];\n\t\tconst args = actualContext.map(e => ResourceTree.isResourceNode(e) ? ResourceTree.collect(e) : [e]).flat();\n\t\tawait action.run(...args);\n\t}\n}\n\nclass ResourceRenderer implements ICompressibleTreeRenderer<ISCMResource | IResourceNode<ISCMResource, ISCMResourceGroup>, FuzzyScore | LabelFuzzyScore, ResourceTemplate> {\n\n\tstatic readonly TEMPLATE_ID = 'resource';\n\tget templateId(): string { return ResourceRenderer.TEMPLATE_ID; }\n\n\tprivate readonly disposables = new DisposableStore();\n\tprivate renderedResources = new Map<ResourceTemplate, RenderedResourceData>();\n\n\tconstructor(\n\t\tprivate viewMode: () => ViewMode,\n\t\tprivate labels: ResourceLabels,\n\t\tprivate actionViewItemProvider: IActionViewItemProvider,\n\t\tprivate actionRunner: ActionRunner,\n\t\t@ICommandService private commandService: ICommandService,\n\t\t@IContextKeyService private contextKeyService: IContextKeyService,\n\t\t@IContextMenuService private contextMenuService: IContextMenuService,\n\t\t@IKeybindingService private keybindingService: IKeybindingService,\n\t\t@ILabelService private labelService: ILabelService,\n\t\t@IMenuService private menuService: IMenuService,\n\t\t@ISCMViewService private scmViewService: ISCMViewService,\n\t\t@ITelemetryService private telemetryService: ITelemetryService,\n\t\t@IThemeService private themeService: IThemeService\n\t) {\n\t\tthemeService.onDidColorThemeChange(this.onDidColorThemeChange, this, this.disposables);\n\t}\n\n\trenderTemplate(container: HTMLElement): ResourceTemplate {\n\t\tconst element = append(container, $('.resource'));\n\t\tconst name = append(element, $('.name'));\n\t\tconst fileLabel = this.labels.create(name, { supportDescriptionHighlights: true, supportHighlights: true });\n\t\tconst actionsContainer = append(fileLabel.element, $('.actions'));\n\t\tconst actionBar = new WorkbenchToolBar(actionsContainer, {\n\t\t\tactionViewItemProvider: this.actionViewItemProvider,\n\t\t\tactionRunner: this.actionRunner\n\t\t}, this.menuService, this.contextKeyService, this.contextMenuService, this.keybindingService, this.commandService, this.telemetryService);\n\n\t\tconst decorationIcon = append(element, $('.decoration-icon'));\n\t\tconst actionBarMenuListener = new MutableDisposable<IDisposable>();\n\t\tconst disposables = combinedDisposable(actionBar, fileLabel, actionBarMenuListener);\n\n\t\treturn { element, name, fileLabel, decorationIcon, actionBar, actionBarMenu: undefined, actionBarMenuListener, elementDisposables: new DisposableStore(), disposables };\n\t}\n\n\trenderElement(node: ITreeNode<ISCMResource, FuzzyScore | LabelFuzzyScore> | ITreeNode<ISCMResource | IResourceNode<ISCMResource, ISCMResourceGroup>, FuzzyScore | LabelFuzzyScore>, index: number, template: ResourceTemplate): void {\n\t\tconst resourceOrFolder = node.element;\n\t\tconst iconResource = ResourceTree.isResourceNode(resourceOrFolder) ? resourceOrFolder.element : resourceOrFolder;\n\t\tconst uri = ResourceTree.isResourceNode(resourceOrFolder) ? resourceOrFolder.uri : resourceOrFolder.sourceUri;\n\t\tconst fileKind = ResourceTree.isResourceNode(resourceOrFolder) ? FileKind.FOLDER : FileKind.FILE;\n\t\tconst tooltip = !ResourceTree.isResourceNode(resourceOrFolder) && resourceOrFolder.decorations.tooltip || '';\n\t\tconst hidePath = this.viewMode() === ViewMode.Tree;\n\n\t\tlet matches: IMatch[] | undefined;\n\t\tlet descriptionMatches: IMatch[] | undefined;\n\t\tlet strikethrough: boolean | undefined;\n\n\t\tif (ResourceTree.isResourceNode(resourceOrFolder)) {\n\t\t\tif (resourceOrFolder.element) {\n\t\t\t\tconst menus = this.scmViewService.menus.getRepositoryMenus(resourceOrFolder.element.resourceGroup.provider);\n\t\t\t\tthis._renderActionBar(template, resourceOrFolder, menus.getResourceMenu(resourceOrFolder.element));\n\n\t\t\t\ttemplate.element.classList.toggle('faded', resourceOrFolder.element.decorations.faded);\n\t\t\t\tstrikethrough = resourceOrFolder.element.decorations.strikeThrough;\n\t\t\t} else {\n\t\t\t\tconst menus = this.scmViewService.menus.getRepositoryMenus(resourceOrFolder.context.provider);\n\t\t\t\tthis._renderActionBar(template, resourceOrFolder, menus.getResourceFolderMenu(resourceOrFolder.context));\n\n\t\t\t\tmatches = createMatches(node.filterData as FuzzyScore | undefined);\n\t\t\t\ttemplate.element.classList.remove('faded');\n\t\t\t}\n\t\t} else {\n\t\t\tconst menus = this.scmViewService.menus.getRepositoryMenus(resourceOrFolder.resourceGroup.provider);\n\t\t\tthis._renderActionBar(template, resourceOrFolder, menus.getResourceMenu(resourceOrFolder));\n\n\t\t\t[matches, descriptionMatches] = processResourceFilterData(uri, node.filterData);\n\t\t\ttemplate.element.classList.toggle('faded', resourceOrFolder.decorations.faded);\n\t\t\tstrikethrough = resourceOrFolder.decorations.strikeThrough;\n\t\t}\n\n\t\tconst renderedData: RenderedResourceData = {\n\t\t\ttooltip, uri, fileLabelOptions: { hidePath, fileKind, matches, descriptionMatches, strikethrough }, iconResource\n\t\t};\n\n\t\tthis.renderIcon(template, renderedData);\n\n\t\tthis.renderedResources.set(template, renderedData);\n\t\ttemplate.elementDisposables.add(toDisposable(() => this.renderedResources.delete(template)));\n\n\t\ttemplate.element.setAttribute('data-tooltip', tooltip);\n\t}\n\n\tdisposeElement(resource: ITreeNode<ISCMResource, FuzzyScore | LabelFuzzyScore> | ITreeNode<IResourceNode<ISCMResource, ISCMResourceGroup>, FuzzyScore | LabelFuzzyScore>, index: number, template: ResourceTemplate): void {\n\t\ttemplate.elementDisposables.clear();\n\t}\n\n\trenderCompressedElements(node: ITreeNode<ICompressedTreeNode<ISCMResource> | ICompressedTreeNode<IResourceNode<ISCMResource, ISCMResourceGroup>>, FuzzyScore | LabelFuzzyScore>, index: number, template: ResourceTemplate): void {\n\t\tconst compressed = node.element as ICompressedTreeNode<IResourceNode<ISCMResource, ISCMResourceGroup>>;\n\t\tconst folder = compressed.elements[compressed.elements.length - 1];\n\n\t\tconst label = compressed.elements.map(e => e.name);\n\t\tconst fileKind = FileKind.FOLDER;\n\n\t\tconst matches = createMatches(node.filterData as FuzzyScore | undefined);\n\t\ttemplate.fileLabel.setResource({ resource: folder.uri, name: label }, {\n\t\t\tfileDecorations: { colors: false, badges: true },\n\t\t\tfileKind,\n\t\t\tmatches,\n\t\t\tseparator: this.labelService.getSeparator(folder.uri.scheme)\n\t\t});\n\n\t\tconst menus = this.scmViewService.menus.getRepositoryMenus(folder.context.provider);\n\t\tthis._renderActionBar(template, folder, menus.getResourceFolderMenu(folder.context));\n\n\t\ttemplate.name.classList.remove('strike-through');\n\t\ttemplate.element.classList.remove('faded');\n\t\ttemplate.decorationIcon.style.display = 'none';\n\t\ttemplate.decorationIcon.style.backgroundImage = '';\n\n\t\ttemplate.element.setAttribute('data-tooltip', '');\n\t}\n\n\tdisposeCompressedElements(node: ITreeNode<ICompressedTreeNode<ISCMResource> | ICompressedTreeNode<IResourceNode<ISCMResource, ISCMResourceGroup>>, FuzzyScore | LabelFuzzyScore>, index: number, template: ResourceTemplate): void {\n\t\ttemplate.elementDisposables.clear();\n\t}\n\n\tdisposeTemplate(template: ResourceTemplate): void {\n\t\ttemplate.elementDisposables.dispose();\n\t\ttemplate.disposables.dispose();\n\t}\n\n\tprivate _renderActionBar(template: ResourceTemplate, resourceOrFolder: ISCMResource | IResourceNode<ISCMResource, ISCMResourceGroup>, menu: IMenu): void {\n\t\tif (!template.actionBarMenu || template.actionBarMenu !== menu) {\n\t\t\ttemplate.actionBarMenu = menu;\n\t\t\ttemplate.actionBarMenuListener.value = connectPrimaryMenu(menu, primary => {\n\t\t\t\ttemplate.actionBar.setActions(primary);\n\t\t\t}, 'inline');\n\t\t}\n\n\t\ttemplate.actionBar.context = resourceOrFolder;\n\t}\n\n\tprivate onDidColorThemeChange(): void {\n\t\tfor (const [template, data] of this.renderedResources) {\n\t\t\tthis.renderIcon(template, data);\n\t\t}\n\t}\n\n\tprivate renderIcon(template: ResourceTemplate, data: RenderedResourceData): void {\n\t\tconst theme = this.themeService.getColorTheme();\n\t\tconst icon = isDark(theme.type) ? data.iconResource?.decorations.iconDark : data.iconResource?.decorations.icon;\n\n\t\ttemplate.fileLabel.setFile(data.uri, {\n\t\t\t...data.fileLabelOptions,\n\t\t\tfileDecorations: { colors: false, badges: !icon },\n\t\t});\n\n\t\tif (icon) {\n\t\t\tif (ThemeIcon.isThemeIcon(icon)) {\n\t\t\t\ttemplate.decorationIcon.className = `decoration-icon ${ThemeIcon.asClassName(icon)}`;\n\t\t\t\tif (icon.color) {\n\t\t\t\t\ttemplate.decorationIcon.style.color = theme.getColor(icon.color.id)?.toString() ?? '';\n\t\t\t\t}\n\t\t\t\ttemplate.decorationIcon.style.display = '';\n\t\t\t\ttemplate.decorationIcon.style.backgroundImage = '';\n\t\t\t} else {\n\t\t\t\ttemplate.decorationIcon.className = 'decoration-icon';\n\t\t\t\ttemplate.decorationIcon.style.color = '';\n\t\t\t\ttemplate.decorationIcon.style.display = '';\n\t\t\t\ttemplate.decorationIcon.style.backgroundImage = asCSSUrl(icon);\n\t\t\t}\n\t\t\ttemplate.decorationIcon.title = data.tooltip;\n\t\t} else {\n\t\t\ttemplate.decorationIcon.className = 'decoration-icon';\n\t\t\ttemplate.decorationIcon.style.color = '';\n\t\t\ttemplate.decorationIcon.style.display = 'none';\n\t\t\ttemplate.decorationIcon.style.backgroundImage = '';\n\t\t\ttemplate.decorationIcon.title = '';\n\t\t}\n\t}\n\n\tdispose(): void {\n\t\tthis.disposables.dispose();\n\t}\n}\n\nclass ListDelegate implements IListVirtualDelegate<TreeElement> {\n\n\tconstructor(private readonly inputRenderer: InputRenderer) { }\n\n\tgetHeight(element: TreeElement) {\n\t\tif (isSCMInput(element)) {\n\t\t\treturn this.inputRenderer.getHeight(element);\n\t\t} else if (isSCMActionButton(element)) {\n\t\t\treturn ActionButtonRenderer.DEFAULT_HEIGHT + 8;\n\t\t} else {\n\t\t\treturn 22;\n\t\t}\n\t}\n\n\tgetTemplateId(element: TreeElement) {\n\t\tif (isSCMRepository(element)) {\n\t\t\treturn RepositoryRenderer.TEMPLATE_ID;\n\t\t} else if (isSCMInput(element)) {\n\t\t\treturn InputRenderer.TEMPLATE_ID;\n\t\t} else if (isSCMActionButton(element)) {\n\t\t\treturn ActionButtonRenderer.TEMPLATE_ID;\n\t\t} else if (isSCMResourceGroup(element)) {\n\t\t\treturn ResourceGroupRenderer.TEMPLATE_ID;\n\t\t} else if (isSCMResource(element) || isSCMResourceNode(element)) {\n\t\t\treturn ResourceRenderer.TEMPLATE_ID;\n\t\t} else {\n\t\t\tthrow new Error('Unknown element');\n\t\t}\n\t}\n}\n\nclass SCMTreeCompressionDelegate implements ITreeCompressionDelegate<TreeElement> {\n\n\tisIncompressible(element: TreeElement): boolean {\n\t\tif (ResourceTree.isResourceNode(element)) {\n\t\t\treturn element.childrenCount === 0 || !element.parent || !element.parent.parent;\n\t\t}\n\n\t\treturn true;\n\t}\n\n}\n\nclass SCMTreeFilter implements ITreeFilter<TreeElement> {\n\n\tfilter(element: TreeElement): boolean {\n\t\tif (isSCMResourceGroup(element)) {\n\t\t\treturn element.resources.length > 0 || !element.hideWhenEmpty;\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t}\n}\n\nexport class SCMTreeSorter implements ITreeSorter<TreeElement> {\n\n\tconstructor(\n\t\tprivate readonly viewMode: () => ViewMode,\n\t\tprivate readonly viewSortKey: () => ViewSortKey) { }\n\n\tcompare(one: TreeElement, other: TreeElement): number {\n\t\tif (isSCMRepository(one)) {\n\t\t\tif (!isSCMRepository(other)) {\n\t\t\t\tthrow new Error('Invalid comparison');\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t}\n\n\t\tif (isSCMInput(one)) {\n\t\t\treturn -1;\n\t\t} else if (isSCMInput(other)) {\n\t\t\treturn 1;\n\t\t}\n\n\t\tif (isSCMActionButton(one)) {\n\t\t\treturn -1;\n\t\t} else if (isSCMActionButton(other)) {\n\t\t\treturn 1;\n\t\t}\n\n\t\tif (isSCMResourceGroup(one)) {\n\t\t\treturn isSCMResourceGroup(other) ? 0 : -1;\n\t\t}\n\n\t\t// Resource (List)\n\t\tif (this.viewMode() === ViewMode.List) {\n\t\t\t// FileName\n\t\t\tif (this.viewSortKey() === ViewSortKey.Name) {\n\t\t\t\tconst oneName = basename((one as ISCMResource).sourceUri);\n\t\t\t\tconst otherName = basename((other as ISCMResource).sourceUri);\n\n\t\t\t\treturn compareFileNames(oneName, otherName);\n\t\t\t}\n\n\t\t\t// Status\n\t\t\tif (this.viewSortKey() === ViewSortKey.Status) {\n\t\t\t\tconst oneTooltip = (one as ISCMResource).decorations.tooltip ?? '';\n\t\t\t\tconst otherTooltip = (other as ISCMResource).decorations.tooltip ?? '';\n\n\t\t\t\tif (oneTooltip !== otherTooltip) {\n\t\t\t\t\treturn compare(oneTooltip, otherTooltip);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Path (default)\n\t\t\tconst onePath = (one as ISCMResource).sourceUri.fsPath;\n\t\t\tconst otherPath = (other as ISCMResource).sourceUri.fsPath;\n\n\t\t\treturn comparePaths(onePath, otherPath);\n\t\t}\n\n\t\t// Resource (Tree)\n\t\tconst oneIsDirectory = ResourceTree.isResourceNode(one);\n\t\tconst otherIsDirectory = ResourceTree.isResourceNode(other);\n\n\t\tif (oneIsDirectory !== otherIsDirectory) {\n\t\t\treturn oneIsDirectory ? -1 : 1;\n\t\t}\n\n\t\tconst oneName = ResourceTree.isResourceNode(one) ? one.name : basename((one as ISCMResource).sourceUri);\n\t\tconst otherName = ResourceTree.isResourceNode(other) ? other.name : basename((other as ISCMResource).sourceUri);\n\n\t\treturn compareFileNames(oneName, otherName);\n\t}\n}\n\nexport class SCMTreeKeyboardNavigationLabelProvider implements ICompressibleKeyboardNavigationLabelProvider<TreeElement> {\n\n\tconstructor(\n\t\tprivate viewMode: () => ViewMode,\n\t\t@ILabelService private readonly labelService: ILabelService,\n\t) { }\n\n\tgetKeyboardNavigationLabel(element: TreeElement): { toString(): string } | { toString(): string }[] | undefined {\n\t\tif (ResourceTree.isResourceNode(element)) {\n\t\t\treturn element.name;\n\t\t} else if (isSCMRepository(element) || isSCMInput(element) || isSCMActionButton(element)) {\n\t\t\treturn undefined;\n\t\t} else if (isSCMResourceGroup(element)) {\n\t\t\treturn element.label;\n\t\t} else {\n\t\t\tif (this.viewMode() === ViewMode.List) {\n\t\t\t\t// In List mode match using the file name and the path.\n\t\t\t\t// Since we want to match both on the file name and the\n\t\t\t\t// full path we return an array of labels. A match in the\n\t\t\t\t// file name takes precedence over a match in the path.\n\t\t\t\tconst fileName = basename(element.sourceUri);\n\t\t\t\tconst filePath = this.labelService.getUriLabel(element.sourceUri, { relative: true });\n\n\t\t\t\treturn [fileName, filePath];\n\t\t\t} else {\n\t\t\t\t// In Tree mode only match using the file name\n\t\t\t\treturn basename(element.sourceUri);\n\t\t\t}\n\t\t}\n\t}\n\n\tgetCompressedNodeKeyboardNavigationLabel(elements: TreeElement[]): { toString(): string | undefined } | undefined {\n\t\tconst folders = elements as IResourceNode<ISCMResource, ISCMResourceGroup>[];\n\t\treturn folders.map(e => e.name).join('/');\n\t}\n}\n\nfunction getSCMResourceId(element: TreeElement): string {\n\tif (isSCMRepository(element)) {\n\t\tconst provider = element.provider;\n\t\treturn `repo:${provider.id}`;\n\t} else if (isSCMInput(element)) {\n\t\tconst provider = element.repository.provider;\n\t\treturn `input:${provider.id}`;\n\t} else if (isSCMActionButton(element)) {\n\t\tconst provider = element.repository.provider;\n\t\treturn `actionButton:${provider.id}`;\n\t} else if (isSCMResourceGroup(element)) {\n\t\tconst provider = element.provider;\n\t\treturn `resourceGroup:${provider.id}/${element.id}`;\n\t} else if (isSCMResource(element)) {\n\t\tconst group = element.resourceGroup;\n\t\tconst provider = group.provider;\n\t\treturn `resource:${provider.id}/${group.id}/${element.sourceUri.toString()}`;\n\t} else if (isSCMResourceNode(element)) {\n\t\tconst group = element.context;\n\t\treturn `folder:${group.provider.id}/${group.id}/$FOLDER/${element.uri.toString()}`;\n\t} else {\n\t\tthrow new Error('Invalid tree element');\n\t}\n}\n\nclass SCMResourceIdentityProvider implements IIdentityProvider<TreeElement> {\n\n\tgetId(element: TreeElement): string {\n\t\treturn getSCMResourceId(element);\n\t}\n}\n\nexport class SCMAccessibilityProvider implements IListAccessibilityProvider<TreeElement> {\n\n\tconstructor(\n\t\t@IAccessibilityService private readonly accessibilityService: IAccessibilityService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@IKeybindingService private readonly keybindingService: IKeybindingService,\n\t\t@ILabelService private readonly labelService: ILabelService\n\t) { }\n\n\tgetWidgetAriaLabel(): string {\n\t\treturn localize('scm', \"Source Control Management\");\n\t}\n\n\tgetAriaLabel(element: TreeElement): string {\n\t\tif (ResourceTree.isResourceNode(element)) {\n\t\t\treturn this.labelService.getUriLabel(element.uri, { relative: true, noPrefix: true }) || element.name;\n\t\t} else if (isSCMRepository(element)) {\n\t\t\treturn `${element.provider.name} ${element.provider.label}`;\n\t\t} else if (isSCMInput(element)) {\n\t\t\tconst verbosity = this.configurationService.getValue<boolean>(AccessibilityVerbositySettingId.SourceControl) === true;\n\n\t\t\tif (!verbosity || !this.accessibilityService.isScreenReaderOptimized()) {\n\t\t\t\treturn localize('scmInput', \"Source Control Input\");\n\t\t\t}\n\n\t\t\tconst kbLabel = this.keybindingService.lookupKeybinding(AccessibilityCommandId.OpenAccessibilityHelp)?.getLabel();\n\t\t\treturn kbLabel\n\t\t\t\t? localize('scmInputRow.accessibilityHelp', \"Source Control Input, Use {0} to open Source Control Accessibility Help.\", kbLabel)\n\t\t\t\t: localize('scmInputRow.accessibilityHelpNoKb', \"Source Control Input, Run the Open Accessibility Help command for more information.\");\n\t\t} else if (isSCMActionButton(element)) {\n\t\t\treturn element.button?.command.title ?? '';\n\t\t} else if (isSCMResourceGroup(element)) {\n\t\t\treturn element.label;\n\t\t} else {\n\t\t\tconst result: string[] = [];\n\n\t\t\tresult.push(basename(element.sourceUri));\n\n\t\t\tif (element.decorations.tooltip) {\n\t\t\t\tresult.push(element.decorations.tooltip);\n\t\t\t}\n\n\t\t\tconst path = this.labelService.getUriLabel(dirname(element.sourceUri), { relative: true, noPrefix: true });\n\n\t\t\tif (path) {\n\t\t\t\tresult.push(path);\n\t\t\t}\n\n\t\t\treturn result.join(', ');\n\t\t}\n\t}\n}\n\nconst enum ViewSortKey {\n\tPath = 'path',\n\tName = 'name',\n\tStatus = 'status'\n}\n\nconst Menus = {\n\tViewSort: new MenuId('SCMViewSort'),\n\tRepositories: new MenuId('SCMRepositories'),\n\tChangesSettings: new MenuId('SCMChangesSettings'),\n};\n\nexport const ContextKeys = {\n\tSCMViewMode: new RawContextKey<ViewMode>('scmViewMode', ViewMode.List),\n\tSCMViewSortKey: new RawContextKey<ViewSortKey>('scmViewSortKey', ViewSortKey.Path),\n\tSCMViewAreAllRepositoriesCollapsed: new RawContextKey<boolean>('scmViewAreAllRepositoriesCollapsed', false),\n\tSCMViewIsAnyRepositoryCollapsible: new RawContextKey<boolean>('scmViewIsAnyRepositoryCollapsible', false),\n\tSCMProvider: new RawContextKey<string | undefined>('scmProvider', undefined),\n\tSCMProviderRootUri: new RawContextKey<string | undefined>('scmProviderRootUri', undefined),\n\tSCMProviderHasRootUri: new RawContextKey<boolean>('scmProviderHasRootUri', undefined),\n\tSCMHistoryItemCount: new RawContextKey<number>('scmHistoryItemCount', 0),\n\tSCMHistoryViewMode: new RawContextKey<ViewMode>('scmHistoryViewMode', ViewMode.List),\n\tSCMCurrentHistoryItemRefHasRemote: new RawContextKey<boolean>('scmCurrentHistoryItemRefHasRemote', false),\n\tSCMCurrentHistoryItemRefHasBase: new RawContextKey<boolean>('scmCurrentHistoryItemRefHasBase', false),\n\tSCMCurrentHistoryItemRefInFilter: new RawContextKey<boolean>('scmCurrentHistoryItemRefInFilter', false),\n\tRepositoryCount: new RawContextKey<number>('scmRepositoryCount', 0),\n\tRepositoryVisibilityCount: new RawContextKey<number>('scmRepositoryVisibleCount', 0),\n\tRepositoryVisibility(repository: ISCMRepository) {\n\t\treturn new RawContextKey<boolean>(`scmRepositoryVisible:${repository.provider.id}`, false);\n\t}\n};\n\nMenuRegistry.appendMenuItem(MenuId.SCMTitle, {\n\ttitle: localize('sortAction', \"View & Sort\"),\n\tsubmenu: Menus.ViewSort,\n\twhen: ContextKeyExpr.and(ContextKeyExpr.equals('view', VIEW_PANE_ID), ContextKeys.RepositoryCount.notEqualsTo(0)),\n\tgroup: '0_view&sort',\n\torder: 1\n});\n\nMenuRegistry.appendMenuItem(Menus.ViewSort, {\n\ttitle: localize('repositories', \"Repositories\"),\n\tsubmenu: Menus.Repositories,\n\twhen: ContextKeyExpr.greater(ContextKeys.RepositoryCount.key, 1),\n\tgroup: '0_repositories'\n});\n\nclass RepositoryVisibilityAction extends Action2 {\n\n\tprivate repository: ISCMRepository;\n\n\tconstructor(repository: ISCMRepository) {\n\t\tsuper({\n\t\t\tid: `workbench.scm.action.toggleRepositoryVisibility.${repository.provider.id}`,\n\t\t\ttitle: repository.provider.name,\n\t\t\tf1: false,\n\t\t\tprecondition: ContextKeyExpr.or(ContextKeys.RepositoryVisibilityCount.notEqualsTo(1), ContextKeys.RepositoryVisibility(repository).isEqualTo(false)),\n\t\t\ttoggled: ContextKeys.RepositoryVisibility(repository).isEqualTo(true),\n\t\t\tmenu: { id: Menus.Repositories, group: '0_repositories' }\n\t\t});\n\t\tthis.repository = repository;\n\t}\n\n\trun(accessor: ServicesAccessor) {\n\t\tconst scmViewService = accessor.get(ISCMViewService);\n\t\tscmViewService.toggleVisibility(this.repository);\n\t}\n}\n\ninterface RepositoryVisibilityItem {\n\treadonly contextKey: IContextKey<boolean>;\n\tdispose(): void;\n}\n\nclass RepositoryVisibilityActionController {\n\n\tprivate items = new Map<ISCMRepository, RepositoryVisibilityItem>();\n\tprivate repositoryCountContextKey: IContextKey<number>;\n\tprivate repositoryVisibilityCountContextKey: IContextKey<number>;\n\tprivate readonly disposables = new DisposableStore();\n\n\tconstructor(\n\t\t@IContextKeyService private contextKeyService: IContextKeyService,\n\t\t@ISCMViewService private readonly scmViewService: ISCMViewService,\n\t\t@ISCMService scmService: ISCMService\n\t) {\n\t\tthis.repositoryCountContextKey = ContextKeys.RepositoryCount.bindTo(contextKeyService);\n\t\tthis.repositoryVisibilityCountContextKey = ContextKeys.RepositoryVisibilityCount.bindTo(contextKeyService);\n\n\t\tscmViewService.onDidChangeVisibleRepositories(this.onDidChangeVisibleRepositories, this, this.disposables);\n\t\tscmService.onDidAddRepository(this.onDidAddRepository, this, this.disposables);\n\t\tscmService.onDidRemoveRepository(this.onDidRemoveRepository, this, this.disposables);\n\n\t\tfor (const repository of scmService.repositories) {\n\t\t\tthis.onDidAddRepository(repository);\n\t\t}\n\t}\n\n\tprivate onDidAddRepository(repository: ISCMRepository): void {\n\t\tconst action = registerAction2(class extends RepositoryVisibilityAction {\n\t\t\tconstructor() {\n\t\t\t\tsuper(repository);\n\t\t\t}\n\t\t});\n\n\t\tconst contextKey = ContextKeys.RepositoryVisibility(repository).bindTo(this.contextKeyService);\n\t\tcontextKey.set(this.scmViewService.isVisible(repository));\n\n\t\tthis.items.set(repository, {\n\t\t\tcontextKey,\n\t\t\tdispose() {\n\t\t\t\tcontextKey.reset();\n\t\t\t\taction.dispose();\n\t\t\t}\n\t\t});\n\n\t\tthis.updateRepositoryContextKeys();\n\t}\n\n\tprivate onDidRemoveRepository(repository: ISCMRepository): void {\n\t\tthis.items.get(repository)?.dispose();\n\t\tthis.items.delete(repository);\n\t\tthis.updateRepositoryContextKeys();\n\t}\n\n\tprivate onDidChangeVisibleRepositories(): void {\n\t\tlet count = 0;\n\n\t\tfor (const [repository, item] of this.items) {\n\t\t\tconst isVisible = this.scmViewService.isVisible(repository);\n\t\t\titem.contextKey.set(isVisible);\n\n\t\t\tif (isVisible) {\n\t\t\t\tcount++;\n\t\t\t}\n\t\t}\n\n\t\tthis.repositoryCountContextKey.set(this.items.size);\n\t\tthis.repositoryVisibilityCountContextKey.set(count);\n\t}\n\n\tprivate updateRepositoryContextKeys(): void {\n\t\tthis.repositoryCountContextKey.set(this.items.size);\n\t\tthis.repositoryVisibilityCountContextKey.set(Iterable.reduce(this.items.keys(), (r, repository) => r + (this.scmViewService.isVisible(repository) ? 1 : 0), 0));\n\t}\n\n\tdispose(): void {\n\t\tthis.disposables.dispose();\n\t\tdispose(this.items.values());\n\t\tthis.items.clear();\n\t}\n}\n\nclass SetListViewModeAction extends ViewAction<SCMViewPane> {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.scm.action.setListViewMode',\n\t\t\ttitle: localize('setListViewMode', \"View as List\"),\n\t\t\tviewId: VIEW_PANE_ID,\n\t\t\tf1: false,\n\t\t\ticon: Codicon.listTree,\n\t\t\ttoggled: ContextKeys.SCMViewMode.isEqualTo(ViewMode.List),\n\t\t\tmenu: { id: Menus.ViewSort, group: '1_viewmode' }\n\t\t});\n\t}\n\n\tasync runInView(_: ServicesAccessor, view: SCMViewPane): Promise<void> {\n\t\tview.viewMode = ViewMode.List;\n\t}\n}\n\nclass SetTreeViewModeAction extends ViewAction<SCMViewPane> {\n\tconstructor() {\n\t\tsuper(\n\t\t\t{\n\t\t\t\tid: 'workbench.scm.action.setTreeViewMode',\n\t\t\t\ttitle: localize('setTreeViewMode', \"View as Tree\"),\n\t\t\t\tviewId: VIEW_PANE_ID,\n\t\t\t\tf1: false,\n\t\t\t\ticon: Codicon.listFlat,\n\t\t\t\ttoggled: ContextKeys.SCMViewMode.isEqualTo(ViewMode.Tree),\n\t\t\t\tmenu: { id: Menus.ViewSort, group: '1_viewmode' }\n\t\t\t});\n\t}\n\n\tasync runInView(_: ServicesAccessor, view: SCMViewPane): Promise<void> {\n\t\tview.viewMode = ViewMode.Tree;\n\t}\n}\n\nregisterAction2(SetListViewModeAction);\nregisterAction2(SetTreeViewModeAction);\n\nabstract class RepositorySortAction extends Action2 {\n\tconstructor(private sortKey: ISCMRepositorySortKey, title: string) {\n\t\tsuper({\n\t\t\tid: `workbench.scm.action.repositories.setSortKey.${sortKey}`,\n\t\t\ttitle,\n\t\t\tf1: false,\n\t\t\ttoggled: RepositoryContextKeys.RepositorySortKey.isEqualTo(sortKey),\n\t\t\tmenu: [\n\t\t\t\t{\n\t\t\t\t\tid: Menus.Repositories,\n\t\t\t\t\tgroup: '1_sort'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.SCMSourceControlTitle,\n\t\t\t\t\tgroup: '1_sort',\n\t\t\t\t},\n\t\t\t]\n\t\t});\n\t}\n\n\trun(accessor: ServicesAccessor) {\n\t\taccessor.get(ISCMViewService).toggleSortKey(this.sortKey);\n\t}\n}\n\n\nclass RepositorySortByDiscoveryTimeAction extends RepositorySortAction {\n\tconstructor() {\n\t\tsuper(ISCMRepositorySortKey.DiscoveryTime, localize('repositorySortByDiscoveryTime', \"Sort by Discovery Time\"));\n\t}\n}\n\nclass RepositorySortByNameAction extends RepositorySortAction {\n\tconstructor() {\n\t\tsuper(ISCMRepositorySortKey.Name, localize('repositorySortByName', \"Sort by Name\"));\n\t}\n}\n\nclass RepositorySortByPathAction extends RepositorySortAction {\n\tconstructor() {\n\t\tsuper(ISCMRepositorySortKey.Path, localize('repositorySortByPath', \"Sort by Path\"));\n\t}\n}\n\nregisterAction2(RepositorySortByDiscoveryTimeAction);\nregisterAction2(RepositorySortByNameAction);\nregisterAction2(RepositorySortByPathAction);\n\nabstract class RepositorySelectionModeAction extends Action2 {\n\tconstructor(private readonly selectionMode: ISCMRepositorySelectionMode, title: string, order: number) {\n\t\tsuper({\n\t\t\tid: `workbench.scm.action.repositories.setSelectionMode.${selectionMode}`,\n\t\t\ttitle,\n\t\t\tf1: false,\n\t\t\ttoggled: RepositoryContextKeys.RepositorySelectionMode.isEqualTo(selectionMode),\n\t\t\tmenu: [\n\t\t\t\t{\n\t\t\t\t\tid: Menus.Repositories,\n\t\t\t\t\twhen: ContextKeyExpr.greater(ContextKeys.RepositoryCount.key, 1),\n\t\t\t\t\tgroup: '2_selectionMode',\n\t\t\t\t\torder\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.SCMSourceControlTitle,\n\t\t\t\t\twhen: ContextKeyExpr.greater(ContextKeys.RepositoryCount.key, 1),\n\t\t\t\t\tgroup: '2_selectionMode',\n\t\t\t\t\torder\n\t\t\t\t},\n\t\t\t]\n\t\t});\n\t}\n\n\toverride run(accessor: ServicesAccessor): void {\n\t\taccessor.get(ISCMViewService).toggleSelectionMode(this.selectionMode);\n\t}\n}\n\nclass RepositorySingleSelectionModeAction extends RepositorySelectionModeAction {\n\tconstructor() {\n\t\tsuper(ISCMRepositorySelectionMode.Single, localize('repositorySingleSelectionMode', \"Select Single Repository\"), 1);\n\t}\n}\n\nclass RepositoryMultiSelectionModeAction extends RepositorySelectionModeAction {\n\tconstructor() {\n\t\tsuper(ISCMRepositorySelectionMode.Multiple, localize('repositoryMultiSelectionMode', \"Select Multiple Repositories\"), 2);\n\t}\n}\n\nregisterAction2(RepositorySingleSelectionModeAction);\nregisterAction2(RepositoryMultiSelectionModeAction);\n\nabstract class SetSortKeyAction extends ViewAction<SCMViewPane> {\n\tconstructor(private sortKey: ViewSortKey, title: string) {\n\t\tsuper({\n\t\t\tid: `workbench.scm.action.setSortKey.${sortKey}`,\n\t\t\ttitle,\n\t\t\tviewId: VIEW_PANE_ID,\n\t\t\tf1: false,\n\t\t\ttoggled: ContextKeys.SCMViewSortKey.isEqualTo(sortKey),\n\t\t\tprecondition: ContextKeys.SCMViewMode.isEqualTo(ViewMode.List),\n\t\t\tmenu: { id: Menus.ViewSort, group: '2_sort' }\n\t\t});\n\t}\n\n\tasync runInView(_: ServicesAccessor, view: SCMViewPane): Promise<void> {\n\t\tview.viewSortKey = this.sortKey;\n\t}\n}\n\nclass SetSortByNameAction extends SetSortKeyAction {\n\tconstructor() {\n\t\tsuper(ViewSortKey.Name, localize('sortChangesByName', \"Sort Changes by Name\"));\n\t}\n}\n\nclass SetSortByPathAction extends SetSortKeyAction {\n\tconstructor() {\n\t\tsuper(ViewSortKey.Path, localize('sortChangesByPath', \"Sort Changes by Path\"));\n\t}\n}\n\nclass SetSortByStatusAction extends SetSortKeyAction {\n\tconstructor() {\n\t\tsuper(ViewSortKey.Status, localize('sortChangesByStatus', \"Sort Changes by Status\"));\n\t}\n}\n\nregisterAction2(SetSortByNameAction);\nregisterAction2(SetSortByPathAction);\nregisterAction2(SetSortByStatusAction);\n\nclass CollapseAllRepositoriesAction extends ViewAction<SCMViewPane> {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: `workbench.scm.action.collapseAllRepositories`,\n\t\t\ttitle: localize('collapse all', \"Collapse All Repositories\"),\n\t\t\tviewId: VIEW_PANE_ID,\n\t\t\tf1: false,\n\t\t\ticon: Codicon.collapseAll,\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.SCMTitle,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.equals('view', VIEW_PANE_ID), ContextKeys.SCMViewIsAnyRepositoryCollapsible.isEqualTo(true), ContextKeys.SCMViewAreAllRepositoriesCollapsed.isEqualTo(false))\n\t\t\t}\n\t\t});\n\t}\n\n\tasync runInView(_: ServicesAccessor, view: SCMViewPane): Promise<void> {\n\t\tview.collapseAllRepositories();\n\t}\n}\n\nclass ExpandAllRepositoriesAction extends ViewAction<SCMViewPane> {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: `workbench.scm.action.expandAllRepositories`,\n\t\t\ttitle: localize('expand all', \"Expand All Repositories\"),\n\t\t\tviewId: VIEW_PANE_ID,\n\t\t\tf1: false,\n\t\t\ticon: Codicon.expandAll,\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.SCMTitle,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.equals('view', VIEW_PANE_ID), ContextKeys.SCMViewIsAnyRepositoryCollapsible.isEqualTo(true), ContextKeys.SCMViewAreAllRepositoriesCollapsed.isEqualTo(true))\n\t\t\t}\n\t\t});\n\t}\n\n\tasync runInView(_: ServicesAccessor, view: SCMViewPane): Promise<void> {\n\t\tview.expandAllRepositories();\n\t}\n}\n\nregisterAction2(CollapseAllRepositoriesAction);\nregisterAction2(ExpandAllRepositoriesAction);\n\nconst enum SCMInputWidgetCommandId {\n\tCancelAction = 'scm.input.cancelAction',\n\tSetupAction = 'scm.input.triggerSetup'\n}\n\nconst enum SCMInputWidgetStorageKey {\n\tLastActionId = 'scm.input.lastActionId'\n}\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: SCMInputWidgetCommandId.SetupAction,\n\t\t\ttitle: localize('scmInputGenerateCommitMessage', \"Generate Commit Message\"),\n\t\t\ticon: Codicon.sparkle,\n\t\t\tf1: false,\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.SCMInputBox,\n\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\tChatContextKeys.Setup.hidden.negate(),\n\t\t\t\t\tChatContextKeys.Setup.disabled.negate(),\n\t\t\t\t\tChatContextKeys.Setup.installed.negate(),\n\t\t\t\t\tContextKeyExpr.equals('scmProvider', 'git')\n\t\t\t\t)\n\t\t\t}\n\t\t});\n\t}\n\n\toverride async run(accessor: ServicesAccessor, ...args: unknown[]): Promise<void> {\n\t\tconst commandService = accessor.get(ICommandService);\n\n\t\tconst result = await commandService.executeCommand(CHAT_SETUP_SUPPORT_ANONYMOUS_ACTION_ID);\n\t\tif (!result) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst command = product.defaultChatAgent?.generateCommitMessageCommand;\n\t\tif (!command) {\n\t\t\treturn;\n\t\t}\n\n\t\tawait commandService.executeCommand(command, ...args);\n\t}\n});\n\nclass SCMInputWidgetActionRunner extends ActionRunner {\n\n\tprivate readonly _runningActions = new Set<IAction>();\n\tpublic get runningActions(): Set<IAction> { return this._runningActions; }\n\n\tprivate _cts: CancellationTokenSource | undefined;\n\n\tconstructor(\n\t\tprivate readonly input: ISCMInput,\n\t\t@IStorageService private readonly storageService: IStorageService\n\t) {\n\t\tsuper();\n\t}\n\n\tprotected override async runAction(action: IAction): Promise<void> {\n\t\ttry {\n\t\t\t// Cancel previous action\n\t\t\tif (this.runningActions.size !== 0) {\n\t\t\t\tthis._cts?.cancel();\n\n\t\t\t\tif (action.id === SCMInputWidgetCommandId.CancelAction) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Create action context\n\t\t\tconst context: ISCMInputValueProviderContext[] = [];\n\t\t\tfor (const group of this.input.repository.provider.groups) {\n\t\t\t\tcontext.push({\n\t\t\t\t\tresourceGroupId: group.id,\n\t\t\t\t\tresources: [...group.resources.map(r => r.sourceUri)]\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Run action\n\t\t\tthis._runningActions.add(action);\n\t\t\tthis._cts = new CancellationTokenSource();\n\t\t\tawait action.run(...[this.input.repository.provider.rootUri, context, this._cts.token]);\n\t\t} finally {\n\t\t\tthis._runningActions.delete(action);\n\n\t\t\t// Save last action\n\t\t\tif (this._runningActions.size === 0) {\n\t\t\t\tconst actionId = action.id === SCMInputWidgetCommandId.SetupAction\n\t\t\t\t\t? product.defaultChatAgent?.generateCommitMessageCommand ?? action.id\n\t\t\t\t\t: action.id;\n\t\t\t\tthis.storageService.store(SCMInputWidgetStorageKey.LastActionId, actionId, StorageScope.PROFILE, StorageTarget.USER);\n\t\t\t}\n\t\t}\n\t}\n\n}\n\nclass SCMInputWidgetToolbar extends WorkbenchToolBar {\n\n\tprivate _dropdownActions: IAction[] = [];\n\tget dropdownActions(): IAction[] { return this._dropdownActions; }\n\n\tprivate _dropdownAction: IAction;\n\tget dropdownAction(): IAction { return this._dropdownAction; }\n\n\tprivate _cancelAction: IAction;\n\n\tprivate _onDidChange = new Emitter<void>();\n\treadonly onDidChange: Event<void> = this._onDidChange.event;\n\n\tprivate readonly _disposables = this._register(new MutableDisposable<DisposableStore>());\n\n\tconstructor(\n\t\tcontainer: HTMLElement,\n\t\toptions: IMenuWorkbenchToolBarOptions | undefined,\n\t\t@IMenuService private readonly menuService: IMenuService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@ICommandService commandService: ICommandService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@IStorageService private readonly storageService: IStorageService,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t) {\n\t\tsuper(container, options, menuService, contextKeyService, contextMenuService, keybindingService, commandService, telemetryService);\n\n\t\tthis._dropdownAction = new Action(\n\t\t\t'scmInputMoreActions',\n\t\t\tlocalize('scmInputMoreActions', \"More Actions...\"),\n\t\t\t'codicon-chevron-down');\n\n\t\tthis._cancelAction = new MenuItemAction({\n\t\t\tid: SCMInputWidgetCommandId.CancelAction,\n\t\t\ttitle: localize('scmInputCancelAction', \"Cancel\"),\n\t\t\ticon: Codicon.stopCircle,\n\t\t}, undefined, undefined, undefined, undefined, contextKeyService, commandService);\n\t}\n\n\tpublic setInput(input: ISCMInput): void {\n\t\tthis._disposables.value = new DisposableStore();\n\n\t\tconst contextKeyService = this.contextKeyService.createOverlay([\n\t\t\t['scmProvider', input.repository.provider.providerId],\n\t\t\t['scmProviderRootUri', input.repository.provider.rootUri?.toString()],\n\t\t\t['scmProviderHasRootUri', !!input.repository.provider.rootUri]\n\t\t]);\n\n\t\tconst menu = this._disposables.value.add(this.menuService.createMenu(MenuId.SCMInputBox, contextKeyService, { emitEventsForSubmenuChanges: true }));\n\n\t\tconst isEnabled = (): boolean => {\n\t\t\treturn input.repository.provider.groups.some(g => g.resources.length > 0);\n\t\t};\n\n\t\tconst updateToolbar = () => {\n\t\t\tconst actions = getFlatActionBarActions(menu.getActions({ shouldForwardArgs: true }));\n\n\t\t\tfor (const action of actions) {\n\t\t\t\taction.enabled = isEnabled();\n\t\t\t}\n\t\t\tthis._dropdownAction.enabled = isEnabled();\n\n\t\t\tlet primaryAction: IAction | undefined = undefined;\n\n\t\t\tif ((this.actionRunner as SCMInputWidgetActionRunner).runningActions.size !== 0) {\n\t\t\t\tprimaryAction = this._cancelAction;\n\t\t\t} else if (actions.length === 1) {\n\t\t\t\tprimaryAction = actions[0];\n\t\t\t} else if (actions.length > 1) {\n\t\t\t\tconst lastActionId = this.storageService.get(SCMInputWidgetStorageKey.LastActionId, StorageScope.PROFILE, '');\n\t\t\t\tprimaryAction = actions.find(a => a.id === lastActionId) ?? actions[0];\n\t\t\t}\n\n\t\t\tthis._dropdownActions = actions.length === 1 ? [] : actions;\n\t\t\tsuper.setActions(primaryAction ? [primaryAction] : [], []);\n\n\t\t\tthis._onDidChange.fire();\n\t\t};\n\n\t\tthis._disposables.value.add(menu.onDidChange(() => updateToolbar()));\n\t\tthis._disposables.value.add(input.repository.provider.onDidChangeResources(() => updateToolbar()));\n\t\tthis._disposables.value.add(this.storageService.onDidChangeValue(StorageScope.PROFILE, SCMInputWidgetStorageKey.LastActionId, this._disposables.value)(() => updateToolbar()));\n\n\t\tthis.actionRunner = this._disposables.value.add(new SCMInputWidgetActionRunner(input, this.storageService));\n\t\tthis._disposables.value.add(this.actionRunner.onWillRun(e => {\n\t\t\tif ((this.actionRunner as SCMInputWidgetActionRunner).runningActions.size === 0) {\n\t\t\t\tsuper.setActions([this._cancelAction], []);\n\t\t\t\tthis._onDidChange.fire();\n\t\t\t}\n\t\t}));\n\t\tthis._disposables.value.add(this.actionRunner.onDidRun(e => {\n\t\t\tif ((this.actionRunner as SCMInputWidgetActionRunner).runningActions.size === 0) {\n\t\t\t\tupdateToolbar();\n\t\t\t}\n\t\t}));\n\n\t\tupdateToolbar();\n\t}\n}\n\nclass SCMInputWidgetEditorOptions {\n\n\tprivate readonly _onDidChange = new Emitter<void>();\n\treadonly onDidChange = this._onDidChange.event;\n\n\tprivate readonly defaultInputFontFamily = DEFAULT_FONT_FAMILY;\n\n\tprivate readonly _disposables = new DisposableStore();\n\n\tconstructor(\n\t\tprivate readonly overflowWidgetsDomNode: HTMLElement,\n\t\tprivate readonly configurationService: IConfigurationService) {\n\n\t\tconst onDidChangeConfiguration = Event.filter(\n\t\t\tthis.configurationService.onDidChangeConfiguration,\n\t\t\te => {\n\t\t\t\treturn e.affectsConfiguration('editor.accessibilitySupport') ||\n\t\t\t\t\te.affectsConfiguration('editor.cursorBlinking') ||\n\t\t\t\t\te.affectsConfiguration('editor.cursorStyle') ||\n\t\t\t\t\te.affectsConfiguration('editor.cursorWidth') ||\n\t\t\t\t\te.affectsConfiguration('editor.emptySelectionClipboard') ||\n\t\t\t\t\te.affectsConfiguration('editor.fontFamily') ||\n\t\t\t\t\te.affectsConfiguration('editor.rulers') ||\n\t\t\t\t\te.affectsConfiguration('editor.wordWrap') ||\n\t\t\t\t\te.affectsConfiguration('editor.wordSegmenterLocales') ||\n\t\t\t\t\te.affectsConfiguration('scm.inputFontFamily') ||\n\t\t\t\t\te.affectsConfiguration('scm.inputFontSize');\n\t\t\t},\n\t\t\tthis._disposables\n\t\t);\n\n\t\tthis._disposables.add(onDidChangeConfiguration(() => this._onDidChange.fire()));\n\t}\n\n\tgetEditorConstructionOptions(): IEditorConstructionOptions {\n\t\treturn {\n\t\t\t...getSimpleEditorOptions(this.configurationService),\n\t\t\t...this.getEditorOptions(),\n\t\t\tdragAndDrop: true,\n\t\t\tdropIntoEditor: { enabled: true },\n\t\t\tformatOnType: true,\n\t\t\tlineDecorationsWidth: 6,\n\t\t\toverflowWidgetsDomNode: this.overflowWidgetsDomNode,\n\t\t\tpadding: { top: 2, bottom: 2 },\n\t\t\tquickSuggestions: false,\n\t\t\trenderWhitespace: 'none',\n\t\t\tscrollbar: {\n\t\t\t\talwaysConsumeMouseWheel: false,\n\t\t\t\tvertical: 'hidden'\n\t\t\t},\n\t\t\twrappingIndent: 'none',\n\t\t\twrappingStrategy: 'advanced',\n\t\t};\n\t}\n\n\tgetEditorOptions(): IEditorOptions {\n\t\tconst fontFamily = this._getEditorFontFamily();\n\t\tconst fontSize = this._getEditorFontSize();\n\t\tconst lineHeight = this._getEditorLineHeight(fontSize);\n\t\tconst wordSegmenterLocales = this.configurationService.getValue<string | string[]>('editor.wordSegmenterLocales');\n\t\tconst accessibilitySupport = this.configurationService.getValue<'auto' | 'off' | 'on'>('editor.accessibilitySupport');\n\t\tconst cursorBlinking = this.configurationService.getValue<'blink' | 'smooth' | 'phase' | 'expand' | 'solid'>('editor.cursorBlinking');\n\t\tconst cursorStyle = this.configurationService.getValue<IEditorOptions['cursorStyle']>('editor.cursorStyle');\n\t\tconst cursorWidth = this.configurationService.getValue<IEditorOptions['cursorWidth']>('editor.cursorWidth') ?? 1;\n\t\tconst emptySelectionClipboard = this.configurationService.getValue<boolean>('editor.emptySelectionClipboard') === true;\n\n\t\treturn { ...this._getEditorLanguageConfiguration(), accessibilitySupport, cursorBlinking, cursorStyle, cursorWidth, fontFamily, fontSize, lineHeight, emptySelectionClipboard, wordSegmenterLocales };\n\t}\n\n\tprivate _getEditorFontFamily(): string {\n\t\tconst inputFontFamily = this.configurationService.getValue<string>('scm.inputFontFamily').trim();\n\n\t\tif (inputFontFamily.toLowerCase() === 'editor') {\n\t\t\treturn this.configurationService.getValue<string>('editor.fontFamily').trim();\n\t\t}\n\n\t\tif (inputFontFamily.length !== 0 && inputFontFamily.toLowerCase() !== 'default') {\n\t\t\treturn inputFontFamily;\n\t\t}\n\n\t\treturn this.defaultInputFontFamily;\n\t}\n\n\tprivate _getEditorFontSize(): number {\n\t\treturn this.configurationService.getValue<number>('scm.inputFontSize');\n\t}\n\n\tprivate _getEditorLanguageConfiguration(): IEditorOptions {\n\t\t// editor.rulers\n\t\tconst rulersConfig = this.configurationService.inspect('editor.rulers', { overrideIdentifier: 'scminput' });\n\t\tconst rulers = rulersConfig.overrideIdentifiers?.includes('scminput') ? EditorOptions.rulers.validate(rulersConfig.value) : [];\n\n\t\t// editor.wordWrap\n\t\tconst wordWrapConfig = this.configurationService.inspect('editor.wordWrap', { overrideIdentifier: 'scminput' });\n\t\tconst wordWrap = wordWrapConfig.overrideIdentifiers?.includes('scminput') ? EditorOptions.wordWrap.validate(wordWrapConfig.value) : 'on';\n\n\t\treturn { rulers, wordWrap };\n\t}\n\n\tprivate _getEditorLineHeight(fontSize: number): number {\n\t\treturn Math.round(fontSize * 1.5);\n\t}\n\n\tdispose(): void {\n\t\tthis._disposables.dispose();\n\t}\n\n}\n\nclass SCMInputWidget {\n\n\tprivate static readonly ValidationTimeouts: { [severity: number]: number } = {\n\t\t[InputValidationType.Information]: 5000,\n\t\t[InputValidationType.Warning]: 8000,\n\t\t[InputValidationType.Error]: 10000\n\t};\n\n\tprivate readonly contextKeyService: IContextKeyService;\n\n\tprivate element: HTMLElement;\n\tprivate editorContainer: HTMLElement;\n\tprivate readonly inputEditor: CodeEditorWidget;\n\tprivate readonly inputEditorOptions: SCMInputWidgetEditorOptions;\n\tprivate toolbarContainer: HTMLElement;\n\tprivate toolbar: SCMInputWidgetToolbar;\n\tprivate readonly disposables = new DisposableStore();\n\n\tprivate model: { readonly input: ISCMInput; readonly textModel: ITextModel } | undefined;\n\tprivate repositoryIdContextKey: IContextKey<string | undefined>;\n\tprivate readonly repositoryDisposables = new DisposableStore();\n\n\tprivate validation: IInputValidation | undefined;\n\tprivate validationContextView: IOpenContextView | undefined;\n\tprivate validationHasFocus: boolean = false;\n\tprivate _validationTimer: Timeout | undefined;\n\n\t// This is due to \"Setup height change listener on next tick\" above\n\t// https://github.com/microsoft/vscode/issues/108067\n\tprivate lastLayoutWasTrash = false;\n\tprivate shouldFocusAfterLayout = false;\n\n\treadonly onDidChangeContentHeight: Event<void>;\n\n\tget input(): ISCMInput | undefined {\n\t\treturn this.model?.input;\n\t}\n\n\tset input(input: ISCMInput | undefined) {\n\t\tif (input === this.input) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.clearValidation();\n\t\tthis.element.classList.remove('synthetic-focus');\n\n\t\tthis.repositoryDisposables.clear();\n\t\tthis.repositoryIdContextKey.set(input?.repository.id);\n\n\t\tif (!input) {\n\t\t\tthis.inputEditor.setModel(undefined);\n\t\t\tthis.model = undefined;\n\t\t\treturn;\n\t\t}\n\n\t\tconst textModel = input.repository.provider.inputBoxTextModel;\n\t\tthis.inputEditor.setModel(textModel);\n\n\t\tif (this.configurationService.getValue('editor.wordBasedSuggestions', { resource: textModel.uri }) !== 'off') {\n\t\t\tthis.configurationService.updateValue('editor.wordBasedSuggestions', 'off', { resource: textModel.uri }, ConfigurationTarget.MEMORY);\n\t\t}\n\n\t\t// Validation\n\t\tconst validationDelayer = new ThrottledDelayer<void>(200);\n\t\tconst validate = async () => {\n\t\t\tconst position = this.inputEditor.getSelection()?.getStartPosition();\n\t\t\tconst offset = position && textModel.getOffsetAt(position);\n\t\t\tconst value = textModel.getValue();\n\n\t\t\tthis.setValidation(await input.validateInput(value, offset || 0));\n\t\t};\n\n\t\tconst triggerValidation = () => validationDelayer.trigger(validate);\n\t\tthis.repositoryDisposables.add(validationDelayer);\n\t\tthis.repositoryDisposables.add(this.inputEditor.onDidChangeCursorPosition(triggerValidation));\n\n\t\t// Adaptive indentation rules\n\t\tconst opts = this.modelService.getCreationOptions(textModel.getLanguageId(), textModel.uri, textModel.isForSimpleWidget);\n\t\tconst onEnter = Event.filter(this.inputEditor.onKeyDown, e => e.keyCode === KeyCode.Enter, this.repositoryDisposables);\n\t\tthis.repositoryDisposables.add(onEnter(() => textModel.detectIndentation(opts.insertSpaces, opts.tabSize)));\n\n\t\t// Keep model in sync with API\n\t\ttextModel.setValue(input.value);\n\t\tthis.repositoryDisposables.add(input.onDidChange(({ value, reason }) => {\n\t\t\tconst currentValue = textModel.getValue();\n\t\t\tif (value === currentValue) { // circuit breaker\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttextModel.pushStackElement();\n\t\t\ttextModel.pushEditOperations(null, [EditOperation.replaceMove(textModel.getFullModelRange(), value)], () => []);\n\n\t\t\tconst position = reason === SCMInputChangeReason.HistoryPrevious\n\t\t\t\t? textModel.getFullModelRange().getStartPosition()\n\t\t\t\t: textModel.getFullModelRange().getEndPosition();\n\t\t\tthis.inputEditor.setPosition(position);\n\t\t\tthis.inputEditor.revealPositionInCenterIfOutsideViewport(position);\n\t\t}));\n\t\tthis.repositoryDisposables.add(input.onDidChangeFocus(() => this.focus()));\n\t\tthis.repositoryDisposables.add(input.onDidChangeValidationMessage((e) => this.setValidation(e, { focus: true, timeout: true })));\n\t\tthis.repositoryDisposables.add(input.onDidChangeValidateInput((e) => triggerValidation()));\n\n\t\t// Keep API in sync with model and validate\n\t\tthis.repositoryDisposables.add(textModel.onDidChangeContent(() => {\n\t\t\tinput.setValue(textModel.getValue(), true);\n\t\t\ttriggerValidation();\n\t\t}));\n\n\t\t// Aria label & placeholder text\n\t\tconst accessibilityVerbosityConfig = observableConfigValue(\n\t\t\tAccessibilityVerbositySettingId.SourceControl, true, this.configurationService);\n\n\t\tconst getAriaLabel = (placeholder: string, verbosity?: boolean) => {\n\t\t\tverbosity = verbosity ?? accessibilityVerbosityConfig.get();\n\n\t\t\tif (!verbosity || !this.accessibilityService.isScreenReaderOptimized()) {\n\t\t\t\treturn placeholder;\n\t\t\t}\n\n\t\t\tconst kbLabel = this.keybindingService.lookupKeybinding(AccessibilityCommandId.OpenAccessibilityHelp)?.getLabel();\n\t\t\treturn kbLabel\n\t\t\t\t? localize('scmInput.accessibilityHelp', \"{0}, Use {1} to open Source Control Accessibility Help.\", placeholder, kbLabel)\n\t\t\t\t: localize('scmInput.accessibilityHelpNoKb', \"{0}, Run the Open Accessibility Help command for more information.\", placeholder);\n\t\t};\n\n\t\tconst getPlaceholderText = (): string => {\n\t\t\tconst binding = this.keybindingService.lookupKeybinding('scm.acceptInput');\n\t\t\tconst label = binding ? binding.getLabel() : (platform.isMacintosh ? 'Cmd+Enter' : 'Ctrl+Enter');\n\t\t\treturn format(input.placeholder, label);\n\t\t};\n\n\t\tconst updatePlaceholderText = () => {\n\t\t\tconst placeholder = getPlaceholderText();\n\t\t\tconst ariaLabel = getAriaLabel(placeholder);\n\n\t\t\tthis.inputEditor.updateOptions({ ariaLabel, placeholder });\n\t\t};\n\n\t\tthis.repositoryDisposables.add(input.onDidChangePlaceholder(updatePlaceholderText));\n\t\tthis.repositoryDisposables.add(this.keybindingService.onDidUpdateKeybindings(updatePlaceholderText));\n\n\t\tthis.repositoryDisposables.add(runOnChange(accessibilityVerbosityConfig, verbosity => {\n\t\t\tconst placeholder = getPlaceholderText();\n\t\t\tconst ariaLabel = getAriaLabel(placeholder, verbosity);\n\n\t\t\tthis.inputEditor.updateOptions({ ariaLabel });\n\t\t}));\n\n\t\tupdatePlaceholderText();\n\n\t\t// Update input template\n\t\tlet commitTemplate = '';\n\t\tthis.repositoryDisposables.add(autorun(reader => {\n\t\t\tif (!input.visible) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst oldCommitTemplate = commitTemplate;\n\t\t\tcommitTemplate = input.repository.provider.commitTemplate.read(reader);\n\n\t\t\tconst value = textModel.getValue();\n\t\t\tif (value && value !== oldCommitTemplate) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttextModel.setValue(commitTemplate);\n\t\t}));\n\n\t\t// Update input enablement\n\t\tconst updateEnablement = (enabled: boolean) => {\n\t\t\tthis.inputEditor.updateOptions({ readOnly: !enabled });\n\t\t};\n\t\tthis.repositoryDisposables.add(input.onDidChangeEnablement(enabled => updateEnablement(enabled)));\n\t\tupdateEnablement(input.enabled);\n\n\t\t// Toolbar\n\t\tthis.toolbar.setInput(input);\n\n\t\t// Save model\n\t\tthis.model = { input, textModel };\n\t}\n\n\tget selections(): Selection[] | null {\n\t\treturn this.inputEditor.getSelections();\n\t}\n\n\tset selections(selections: Selection[] | null) {\n\t\tif (selections) {\n\t\t\tthis.inputEditor.setSelections(selections);\n\t\t}\n\t}\n\n\tprivate setValidation(validation: IInputValidation | undefined, options?: { focus?: boolean; timeout?: boolean }) {\n\t\tif (this._validationTimer) {\n\t\t\tclearTimeout(this._validationTimer);\n\t\t\tthis._validationTimer = undefined;\n\t\t}\n\n\t\tthis.validation = validation;\n\t\tthis.renderValidation();\n\n\t\tif (options?.focus && !this.hasFocus()) {\n\t\t\tthis.focus();\n\t\t}\n\n\t\tif (validation && options?.timeout) {\n\t\t\tthis._validationTimer = setTimeout(() => this.setValidation(undefined), SCMInputWidget.ValidationTimeouts[validation.type]);\n\t\t}\n\t}\n\n\tconstructor(\n\t\tcontainer: HTMLElement,\n\t\toverflowWidgetsDomNode: HTMLElement,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IModelService private modelService: IModelService,\n\t\t@IKeybindingService private keybindingService: IKeybindingService,\n\t\t@IConfigurationService private configurationService: IConfigurationService,\n\t\t@ISCMViewService private readonly scmViewService: ISCMViewService,\n\t\t@IContextViewService private readonly contextViewService: IContextViewService,\n\t\t@IOpenerService private readonly openerService: IOpenerService,\n\t\t@IAccessibilityService private readonly accessibilityService: IAccessibilityService,\n\t\t@IMarkdownRendererService private readonly markdownRendererService: IMarkdownRendererService,\n\t) {\n\t\tthis.element = append(container, $('.scm-editor'));\n\t\tthis.editorContainer = append(this.element, $('.scm-editor-container'));\n\t\tthis.toolbarContainer = append(this.element, $('.scm-editor-toolbar'));\n\n\t\tthis.contextKeyService = contextKeyService.createScoped(this.element);\n\t\tthis.repositoryIdContextKey = this.contextKeyService.createKey('scmRepository', undefined);\n\n\t\tthis.inputEditorOptions = new SCMInputWidgetEditorOptions(overflowWidgetsDomNode, this.configurationService);\n\t\tthis.disposables.add(this.inputEditorOptions.onDidChange(this.onDidChangeEditorOptions, this));\n\t\tthis.disposables.add(this.inputEditorOptions);\n\n\t\tconst codeEditorWidgetOptions: ICodeEditorWidgetOptions = {\n\t\t\tcontributions: EditorExtensionsRegistry.getSomeEditorContributions([\n\t\t\t\tCodeActionController.ID,\n\t\t\t\tColorDetector.ID,\n\t\t\t\tContextMenuController.ID,\n\t\t\t\tCopyPasteController.ID,\n\t\t\t\tDragAndDropController.ID,\n\t\t\t\tDropIntoEditorController.ID,\n\t\t\t\tEditorDictation.ID,\n\t\t\t\tFormatOnType.ID,\n\t\t\t\tContentHoverController.ID,\n\t\t\t\tGlyphHoverController.ID,\n\t\t\t\tInlineCompletionsController.ID,\n\t\t\t\tLinkDetector.ID,\n\t\t\t\tMenuPreventer.ID,\n\t\t\t\tMessageController.ID,\n\t\t\t\tPlaceholderTextContribution.ID,\n\t\t\t\tSelectionClipboardContributionID,\n\t\t\t\tSnippetController2.ID,\n\t\t\t\tSuggestController.ID\n\t\t\t]),\n\t\t\tisSimpleWidget: true\n\t\t};\n\n\t\tconst services = new ServiceCollection([IContextKeyService, this.contextKeyService]);\n\t\tconst instantiationService2 = instantiationService.createChild(services, this.disposables);\n\t\tconst editorConstructionOptions = this.inputEditorOptions.getEditorConstructionOptions();\n\t\tthis.inputEditor = instantiationService2.createInstance(CodeEditorWidget, this.editorContainer, editorConstructionOptions, codeEditorWidgetOptions);\n\t\tthis.disposables.add(this.inputEditor);\n\n\t\tthis.disposables.add(this.inputEditor.onDidFocusEditorText(() => {\n\t\t\tif (this.input?.repository) {\n\t\t\t\tthis.scmViewService.focus(this.input.repository);\n\t\t\t}\n\n\t\t\tthis.element.classList.add('synthetic-focus');\n\t\t\tthis.renderValidation();\n\t\t}));\n\t\tthis.disposables.add(this.inputEditor.onDidBlurEditorText(() => {\n\t\t\tthis.element.classList.remove('synthetic-focus');\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (!this.validation || !this.validationHasFocus) {\n\t\t\t\t\tthis.clearValidation();\n\t\t\t\t}\n\t\t\t}, 0);\n\t\t}));\n\n\t\tthis.disposables.add(this.inputEditor.onDidBlurEditorWidget(() => {\n\t\t\tCopyPasteController.get(this.inputEditor)?.clearWidgets();\n\t\t\tDropIntoEditorController.get(this.inputEditor)?.clearWidgets();\n\t\t}));\n\n\t\tconst firstLineKey = this.contextKeyService.createKey<boolean>('scmInputIsInFirstPosition', false);\n\t\tconst lastLineKey = this.contextKeyService.createKey<boolean>('scmInputIsInLastPosition', false);\n\n\t\tthis.disposables.add(this.inputEditor.onDidChangeCursorPosition(({ position }) => {\n\t\t\tconst viewModel = this.inputEditor._getViewModel()!;\n\t\t\tconst lastLineNumber = viewModel.getLineCount();\n\t\t\tconst lastLineCol = viewModel.getLineLength(lastLineNumber) + 1;\n\t\t\tconst viewPosition = viewModel.coordinatesConverter.convertModelPositionToViewPosition(position);\n\t\t\tfirstLineKey.set(viewPosition.lineNumber === 1 && viewPosition.column === 1);\n\t\t\tlastLineKey.set(viewPosition.lineNumber === lastLineNumber && viewPosition.column === lastLineCol);\n\t\t}));\n\t\tthis.disposables.add(this.inputEditor.onDidScrollChange(e => {\n\t\t\tthis.toolbarContainer.classList.toggle('scroll-decoration', e.scrollTop > 0);\n\t\t}));\n\n\t\tEvent.filter(this.configurationService.onDidChangeConfiguration, e => e.affectsConfiguration('scm.showInputActionButton'))(() => this.layout(), this, this.disposables);\n\n\t\tthis.onDidChangeContentHeight = Event.signal(Event.filter(this.inputEditor.onDidContentSizeChange, e => e.contentHeightChanged, this.disposables));\n\n\t\t// Toolbar\n\t\tthis.toolbar = instantiationService2.createInstance(SCMInputWidgetToolbar, this.toolbarContainer, {\n\t\t\tactionViewItemProvider: (action, options) => {\n\t\t\t\tif (action instanceof MenuItemAction && this.toolbar.dropdownActions.length > 1) {\n\t\t\t\t\treturn instantiationService.createInstance(DropdownWithPrimaryActionViewItem, action, this.toolbar.dropdownAction, this.toolbar.dropdownActions, '', { actionRunner: this.toolbar.actionRunner, hoverDelegate: options.hoverDelegate });\n\t\t\t\t}\n\n\t\t\t\treturn createActionViewItem(instantiationService, action, options);\n\t\t\t},\n\t\t\thiddenItemStrategy: HiddenItemStrategy.NoHide,\n\t\t\tmenuOptions: {\n\t\t\t\tshouldForwardArgs: true\n\t\t\t}\n\t\t});\n\t\tthis.disposables.add(this.toolbar.onDidChange(() => this.layout()));\n\t\tthis.disposables.add(this.toolbar);\n\t}\n\n\tgetContentHeight(): number {\n\t\tconst lineHeight = this.inputEditor.getOption(EditorOption.lineHeight);\n\t\tconst { top, bottom } = this.inputEditor.getOption(EditorOption.padding);\n\n\t\tconst inputMinLinesConfig = this.configurationService.getValue('scm.inputMinLineCount');\n\t\tconst inputMinLines = typeof inputMinLinesConfig === 'number' ? clamp(inputMinLinesConfig, 1, 50) : 1;\n\t\tconst editorMinHeight = inputMinLines * lineHeight + top + bottom;\n\n\t\tconst inputMaxLinesConfig = this.configurationService.getValue('scm.inputMaxLineCount');\n\t\tconst inputMaxLines = typeof inputMaxLinesConfig === 'number' ? clamp(inputMaxLinesConfig, 1, 50) : 10;\n\t\tconst editorMaxHeight = inputMaxLines * lineHeight + top + bottom;\n\n\t\treturn clamp(this.inputEditor.getContentHeight(), editorMinHeight, editorMaxHeight);\n\t}\n\n\tlayout(): void {\n\t\tconst editorHeight = this.getContentHeight();\n\t\tconst toolbarWidth = this.getToolbarWidth();\n\t\tconst dimension = new Dimension(this.element.clientWidth - toolbarWidth, editorHeight);\n\n\t\tif (dimension.width < 0) {\n\t\t\tthis.lastLayoutWasTrash = true;\n\t\t\treturn;\n\t\t}\n\n\t\tthis.lastLayoutWasTrash = false;\n\t\tthis.inputEditor.layout(dimension);\n\t\tthis.renderValidation();\n\n\t\tconst showInputActionButton = this.configurationService.getValue<boolean>('scm.showInputActionButton') === true;\n\t\tthis.toolbarContainer.classList.toggle('hidden', !showInputActionButton || this.toolbar?.isEmpty() === true);\n\n\t\tif (this.shouldFocusAfterLayout) {\n\t\t\tthis.shouldFocusAfterLayout = false;\n\t\t\tthis.focus();\n\t\t}\n\t}\n\n\tfocus(): void {\n\t\tif (this.lastLayoutWasTrash) {\n\t\t\tthis.lastLayoutWasTrash = false;\n\t\t\tthis.shouldFocusAfterLayout = true;\n\t\t\treturn;\n\t\t}\n\n\t\tthis.inputEditor.focus();\n\t\tthis.element.classList.add('synthetic-focus');\n\t}\n\n\thasFocus(): boolean {\n\t\treturn this.inputEditor.hasTextFocus();\n\t}\n\n\tprivate onDidChangeEditorOptions(): void {\n\t\tthis.inputEditor.updateOptions(this.inputEditorOptions.getEditorOptions());\n\t}\n\n\tprivate renderValidation(): void {\n\t\tthis.clearValidation();\n\n\t\tthis.element.classList.toggle('validation-info', this.validation?.type === InputValidationType.Information);\n\t\tthis.element.classList.toggle('validation-warning', this.validation?.type === InputValidationType.Warning);\n\t\tthis.element.classList.toggle('validation-error', this.validation?.type === InputValidationType.Error);\n\n\t\tif (!this.validation || !this.inputEditor.hasTextFocus()) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst disposables = new DisposableStore();\n\n\t\tthis.validationContextView = this.contextViewService.showContextView({\n\t\t\tgetAnchor: () => this.element,\n\t\t\trender: container => {\n\t\t\t\tthis.element.style.borderBottomLeftRadius = '0';\n\t\t\t\tthis.element.style.borderBottomRightRadius = '0';\n\n\t\t\t\tconst validationContainer = append(container, $('.scm-editor-validation-container'));\n\t\t\t\tvalidationContainer.classList.toggle('validation-info', this.validation!.type === InputValidationType.Information);\n\t\t\t\tvalidationContainer.classList.toggle('validation-warning', this.validation!.type === InputValidationType.Warning);\n\t\t\t\tvalidationContainer.classList.toggle('validation-error', this.validation!.type === InputValidationType.Error);\n\t\t\t\tvalidationContainer.style.width = `${this.element.clientWidth + 2}px`;\n\t\t\t\tconst element = append(validationContainer, $('.scm-editor-validation'));\n\n\t\t\t\tconst message = this.validation!.message;\n\t\t\t\tif (typeof message === 'string') {\n\t\t\t\t\telement.textContent = message;\n\t\t\t\t} else {\n\t\t\t\t\tconst tracker = trackFocus(element);\n\t\t\t\t\tdisposables.add(tracker);\n\t\t\t\t\tdisposables.add(tracker.onDidFocus(() => (this.validationHasFocus = true)));\n\t\t\t\t\tdisposables.add(tracker.onDidBlur(() => {\n\t\t\t\t\t\tthis.validationHasFocus = false;\n\t\t\t\t\t\tthis.element.style.borderBottomLeftRadius = '2px';\n\t\t\t\t\t\tthis.element.style.borderBottomRightRadius = '2px';\n\t\t\t\t\t\tthis.contextViewService.hideContextView();\n\t\t\t\t\t}));\n\n\t\t\t\t\tconst renderedMarkdown = this.markdownRendererService.render(message, {\n\t\t\t\t\t\tactionHandler: (link, mdStr) => {\n\t\t\t\t\t\t\topenLinkFromMarkdown(this.openerService, link, mdStr.isTrusted);\n\t\t\t\t\t\t\tthis.element.style.borderBottomLeftRadius = '2px';\n\t\t\t\t\t\t\tthis.element.style.borderBottomRightRadius = '2px';\n\t\t\t\t\t\t\tthis.contextViewService.hideContextView();\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t\tdisposables.add(renderedMarkdown);\n\t\t\t\t\telement.appendChild(renderedMarkdown.element);\n\t\t\t\t}\n\t\t\t\tconst actionsContainer = append(validationContainer, $('.scm-editor-validation-actions'));\n\t\t\t\tconst actionbar = new ActionBar(actionsContainer);\n\t\t\t\tconst action = new Action('scmInputWidget.validationMessage.close', localize('label.close', \"Close\"), ThemeIcon.asClassName(Codicon.close), true, () => {\n\t\t\t\t\tthis.contextViewService.hideContextView();\n\t\t\t\t\tthis.element.style.borderBottomLeftRadius = '2px';\n\t\t\t\t\tthis.element.style.borderBottomRightRadius = '2px';\n\t\t\t\t});\n\t\t\t\tdisposables.add(actionbar);\n\t\t\t\tactionbar.push(action, { icon: true, label: false });\n\n\t\t\t\treturn Disposable.None;\n\t\t\t},\n\t\t\tonHide: () => {\n\t\t\t\tthis.validationHasFocus = false;\n\t\t\t\tthis.element.style.borderBottomLeftRadius = '2px';\n\t\t\t\tthis.element.style.borderBottomRightRadius = '2px';\n\t\t\t\tdisposables.dispose();\n\t\t\t},\n\t\t\tanchorAlignment: AnchorAlignment.LEFT\n\t\t});\n\t}\n\n\tprivate getToolbarWidth(): number {\n\t\tconst showInputActionButton = this.configurationService.getValue<boolean>('scm.showInputActionButton');\n\t\tif (!this.toolbar || !showInputActionButton || this.toolbar?.isEmpty() === true) {\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn this.toolbar.dropdownActions.length === 0 ?\n\t\t\t26 /* 22px action + 4px margin */ :\n\t\t\t39 /* 35px action + 4px margin */;\n\t}\n\n\tclearValidation(): void {\n\t\tthis.validationContextView?.close();\n\t\tthis.validationContextView = undefined;\n\t\tthis.validationHasFocus = false;\n\t}\n\n\tdispose(): void {\n\t\tthis.input = undefined;\n\t\tthis.repositoryDisposables.dispose();\n\t\tthis.clearValidation();\n\t\tthis.disposables.dispose();\n\t}\n}\n\nexport class SCMViewPane extends ViewPane {\n\n\tprivate _onDidLayout: Emitter<void>;\n\tprivate layoutCache: ISCMLayout;\n\n\tprivate treeScrollTop: number | undefined;\n\tprivate treeContainer!: HTMLElement;\n\tprivate tree!: WorkbenchCompressibleAsyncDataTree<ISCMViewService, TreeElement, FuzzyScore>;\n\n\tprivate listLabels!: ResourceLabels;\n\tprivate inputRenderer!: InputRenderer;\n\tprivate actionButtonRenderer!: ActionButtonRenderer;\n\n\tprivate _viewMode: ViewMode;\n\tget viewMode(): ViewMode { return this._viewMode; }\n\tset viewMode(mode: ViewMode) {\n\t\tif (this._viewMode === mode) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._viewMode = mode;\n\n\t\t// Update sort key based on view mode\n\t\tthis.viewSortKey = this.getViewSortKey();\n\n\t\tthis.updateChildren();\n\t\tthis.onDidActiveEditorChange();\n\t\tthis._onDidChangeViewMode.fire(mode);\n\t\tthis.viewModeContextKey.set(mode);\n\n\t\tthis.updateIndentStyles(this.themeService.getFileIconTheme());\n\t\tthis.storageService.store(`scm.viewMode`, mode, StorageScope.WORKSPACE, StorageTarget.USER);\n\t}\n\n\tprivate readonly _onDidChangeViewMode = new Emitter<ViewMode>();\n\treadonly onDidChangeViewMode = this._onDidChangeViewMode.event;\n\n\tprivate _viewSortKey: ViewSortKey;\n\tget viewSortKey(): ViewSortKey { return this._viewSortKey; }\n\tset viewSortKey(sortKey: ViewSortKey) {\n\t\tif (this._viewSortKey === sortKey) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._viewSortKey = sortKey;\n\n\t\tthis.updateChildren();\n\t\tthis.viewSortKeyContextKey.set(sortKey);\n\t\tthis._onDidChangeViewSortKey.fire(sortKey);\n\n\t\tif (this._viewMode === ViewMode.List) {\n\t\t\tthis.storageService.store(`scm.viewSortKey`, sortKey, StorageScope.WORKSPACE, StorageTarget.USER);\n\t\t}\n\t}\n\n\tprivate readonly _onDidChangeViewSortKey = new Emitter<ViewSortKey>();\n\treadonly onDidChangeViewSortKey = this._onDidChangeViewSortKey.event;\n\n\tprivate readonly items = new DisposableMap<ISCMRepository, IDisposable>();\n\tprivate readonly visibilityDisposables = new DisposableStore();\n\n\tprivate readonly treeOperationSequencer = new Sequencer();\n\tprivate readonly revealResourceThrottler = new Throttler();\n\tprivate readonly updateChildrenThrottler = new Throttler();\n\n\tprivate viewModeContextKey: IContextKey<ViewMode>;\n\tprivate viewSortKeyContextKey: IContextKey<ViewSortKey>;\n\tprivate areAllRepositoriesCollapsedContextKey: IContextKey<boolean>;\n\tprivate isAnyRepositoryCollapsibleContextKey: IContextKey<boolean>;\n\n\tprivate scmProviderContextKey: IContextKey<string | undefined>;\n\tprivate scmProviderRootUriContextKey: IContextKey<string | undefined>;\n\tprivate scmProviderHasRootUriContextKey: IContextKey<boolean>;\n\n\tprivate readonly disposables = new DisposableStore();\n\n\tconstructor(\n\t\toptions: IViewPaneOptions,\n\t\t@ICommandService private readonly commandService: ICommandService,\n\t\t@IEditorService private readonly editorService: IEditorService,\n\t\t@IMenuService private readonly menuService: IMenuService,\n\t\t@ISCMService private readonly scmService: ISCMService,\n\t\t@ISCMViewService private readonly scmViewService: ISCMViewService,\n\t\t@IStorageService private readonly storageService: IStorageService,\n\t\t@IUriIdentityService private readonly uriIdentityService: IUriIdentityService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IOpenerService openerService: IOpenerService,\n\t\t@IHoverService hoverService: IHoverService,\n\t) {\n\t\tsuper({ ...options, titleMenuId: MenuId.SCMTitle }, keybindingService, contextMenuService, configurationService, contextKeyService, viewDescriptorService, instantiationService, openerService, themeService, hoverService);\n\n\t\t// View mode and sort key\n\t\tthis._viewMode = this.getViewMode();\n\t\tthis._viewSortKey = this.getViewSortKey();\n\n\t\t// Context Keys\n\t\tthis.viewModeContextKey = ContextKeys.SCMViewMode.bindTo(contextKeyService);\n\t\tthis.viewModeContextKey.set(this._viewMode);\n\t\tthis.viewSortKeyContextKey = ContextKeys.SCMViewSortKey.bindTo(contextKeyService);\n\t\tthis.viewSortKeyContextKey.set(this.viewSortKey);\n\t\tthis.areAllRepositoriesCollapsedContextKey = ContextKeys.SCMViewAreAllRepositoriesCollapsed.bindTo(contextKeyService);\n\t\tthis.isAnyRepositoryCollapsibleContextKey = ContextKeys.SCMViewIsAnyRepositoryCollapsible.bindTo(contextKeyService);\n\t\tthis.scmProviderContextKey = ContextKeys.SCMProvider.bindTo(contextKeyService);\n\t\tthis.scmProviderRootUriContextKey = ContextKeys.SCMProviderRootUri.bindTo(contextKeyService);\n\t\tthis.scmProviderHasRootUriContextKey = ContextKeys.SCMProviderHasRootUri.bindTo(contextKeyService);\n\n\t\tthis._onDidLayout = new Emitter<void>();\n\t\tthis.layoutCache = { height: undefined, width: undefined, onDidChange: this._onDidLayout.event };\n\n\t\tthis.storageService.onDidChangeValue(StorageScope.WORKSPACE, undefined, this.disposables)(e => {\n\t\t\tswitch (e.key) {\n\t\t\t\tcase 'scm.viewMode':\n\t\t\t\t\tthis.viewMode = this.getViewMode();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'scm.viewSortKey':\n\t\t\t\t\tthis.viewSortKey = this.getViewSortKey();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}, this, this.disposables);\n\n\t\tthis.storageService.onWillSaveState(e => {\n\t\t\tthis.viewMode = this.getViewMode();\n\t\t\tthis.viewSortKey = this.getViewSortKey();\n\n\t\t\tthis.storeTreeViewState();\n\t\t}, this, this.disposables);\n\n\t\tEvent.any(this.scmService.onDidAddRepository, this.scmService.onDidRemoveRepository)(() => this._onDidChangeViewWelcomeState.fire(), this, this.disposables);\n\n\t\tthis.disposables.add(this.revealResourceThrottler);\n\t\tthis.disposables.add(this.updateChildrenThrottler);\n\t}\n\n\tprotected override layoutBody(height: number | undefined = this.layoutCache.height, width: number | undefined = this.layoutCache.width): void {\n\t\tif (height === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (width !== undefined) {\n\t\t\tsuper.layoutBody(height, width);\n\t\t}\n\n\t\tthis.layoutCache.height = height;\n\t\tthis.layoutCache.width = width;\n\t\tthis._onDidLayout.fire();\n\n\t\tthis.treeContainer.style.height = `${height}px`;\n\t\tthis.tree.layout(height, width);\n\t}\n\n\tprotected override renderBody(container: HTMLElement): void {\n\t\tsuper.renderBody(container);\n\n\t\t// Tree\n\t\tthis.treeContainer = append(container, $('.scm-view.show-file-icons'));\n\t\tthis.treeContainer.classList.add('file-icon-themable-tree');\n\t\tthis.treeContainer.classList.add('show-file-icons');\n\n\t\tconst updateActionsVisibility = () => this.treeContainer.classList.toggle('show-actions', this.configurationService.getValue<boolean>('scm.alwaysShowActions'));\n\t\tEvent.filter(this.configurationService.onDidChangeConfiguration, e => e.affectsConfiguration('scm.alwaysShowActions'), this.disposables)(updateActionsVisibility, this, this.disposables);\n\t\tupdateActionsVisibility();\n\n\t\tconst updateProviderCountVisibility = () => {\n\t\t\tconst value = this.configurationService.getValue<'hidden' | 'auto' | 'visible'>('scm.providerCountBadge');\n\t\t\tthis.treeContainer.classList.toggle('hide-provider-counts', value === 'hidden');\n\t\t\tthis.treeContainer.classList.toggle('auto-provider-counts', value === 'auto');\n\t\t};\n\t\tEvent.filter(this.configurationService.onDidChangeConfiguration, e => e.affectsConfiguration('scm.providerCountBadge'), this.disposables)(updateProviderCountVisibility, this, this.disposables);\n\t\tupdateProviderCountVisibility();\n\n\t\tconst viewState = this.loadTreeViewState();\n\t\tthis.createTree(this.treeContainer, viewState);\n\n\t\tthis.onDidChangeBodyVisibility(async visible => {\n\t\t\tif (visible) {\n\t\t\t\tthis.treeOperationSequencer.queue(async () => {\n\t\t\t\t\tawait this.tree.setInput(this.scmViewService, viewState);\n\n\t\t\t\t\tEvent.filter(this.configurationService.onDidChangeConfiguration,\n\t\t\t\t\t\te =>\n\t\t\t\t\t\t\te.affectsConfiguration('scm.alwaysShowRepositories'),\n\t\t\t\t\t\tthis.visibilityDisposables)\n\t\t\t\t\t\t(() => {\n\t\t\t\t\t\t\tthis.updateActions();\n\t\t\t\t\t\t\tthis.updateChildren();\n\t\t\t\t\t\t}, this, this.visibilityDisposables);\n\n\t\t\t\t\tEvent.filter(this.configurationService.onDidChangeConfiguration,\n\t\t\t\t\t\te =>\n\t\t\t\t\t\t\te.affectsConfiguration('scm.inputMinLineCount') ||\n\t\t\t\t\t\t\te.affectsConfiguration('scm.inputMaxLineCount') ||\n\t\t\t\t\t\t\te.affectsConfiguration('scm.showActionButton'),\n\t\t\t\t\t\tthis.visibilityDisposables)\n\t\t\t\t\t\t(() => this.updateChildren(), this, this.visibilityDisposables);\n\n\t\t\t\t\t// Add visible repositories\n\t\t\t\t\tthis.editorService.onDidActiveEditorChange(this.onDidActiveEditorChange, this, this.visibilityDisposables);\n\t\t\t\t\tthis.scmViewService.onDidChangeVisibleRepositories(this.onDidChangeVisibleRepositories, this, this.visibilityDisposables);\n\t\t\t\t\tthis.onDidChangeVisibleRepositories({ added: this.scmViewService.visibleRepositories, removed: Iterable.empty() });\n\n\t\t\t\t\t// Restore scroll position\n\t\t\t\t\tif (typeof this.treeScrollTop === 'number') {\n\t\t\t\t\t\tthis.tree.scrollTop = this.treeScrollTop;\n\t\t\t\t\t\tthis.treeScrollTop = undefined;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.updateRepositoryCollapseAllContextKeys();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.visibilityDisposables.clear();\n\t\t\t\tthis.onDidChangeVisibleRepositories({ added: Iterable.empty(), removed: [...this.items.keys()] });\n\t\t\t\tthis.treeScrollTop = this.tree.scrollTop;\n\n\t\t\t\tthis.updateRepositoryCollapseAllContextKeys();\n\t\t\t}\n\t\t}, this, this.disposables);\n\n\t\tthis.disposables.add(this.instantiationService.createInstance(RepositoryVisibilityActionController));\n\n\t\tthis.themeService.onDidFileIconThemeChange(this.updateIndentStyles, this, this.disposables);\n\t\tthis.updateIndentStyles(this.themeService.getFileIconTheme());\n\t}\n\n\tprivate createTree(container: HTMLElement, viewState?: IAsyncDataTreeViewState): void {\n\t\tconst overflowWidgetsDomNode = $('.scm-overflow-widgets-container.monaco-editor');\n\n\t\tthis.inputRenderer = this.instantiationService.createInstance(InputRenderer, this.layoutCache, overflowWidgetsDomNode, (input, height) => {\n\t\t\ttry {\n\t\t\t\t// Attempt to update the input element height. There is an\n\t\t\t\t// edge case where the input has already been disposed and\n\t\t\t\t// updating the height would fail.\n\t\t\t\tthis.tree.updateElementHeight(input, height);\n\t\t\t}\n\t\t\tcatch { }\n\t\t});\n\t\tthis.actionButtonRenderer = this.instantiationService.createInstance(ActionButtonRenderer);\n\n\t\tthis.listLabels = this.instantiationService.createInstance(ResourceLabels, { onDidChangeVisibility: this.onDidChangeBodyVisibility });\n\t\tthis.disposables.add(this.listLabels);\n\n\t\tconst resourceActionRunner = new RepositoryPaneActionRunner(() => this.getSelectedResources());\n\t\tresourceActionRunner.onWillRun(() => this.tree.domFocus(), this, this.disposables);\n\t\tthis.disposables.add(resourceActionRunner);\n\n\t\tconst treeDataSource = this.instantiationService.createInstance(SCMTreeDataSource, () => this.viewMode);\n\t\tthis.disposables.add(treeDataSource);\n\n\t\tconst compressionEnabled = observableConfigValue('scm.compactFolders', true, this.configurationService);\n\n\t\tthis.tree = this.instantiationService.createInstance(\n\t\t\tWorkbenchCompressibleAsyncDataTree,\n\t\t\t'SCM Tree Repo',\n\t\t\tcontainer,\n\t\t\tnew ListDelegate(this.inputRenderer),\n\t\t\tnew SCMTreeCompressionDelegate(),\n\t\t\t[\n\t\t\t\tthis.inputRenderer,\n\t\t\t\tthis.actionButtonRenderer,\n\t\t\t\tthis.instantiationService.createInstance(RepositoryRenderer, MenuId.SCMTitle, getActionViewItemProvider(this.instantiationService)),\n\t\t\t\tthis.instantiationService.createInstance(ResourceGroupRenderer, getActionViewItemProvider(this.instantiationService), resourceActionRunner),\n\t\t\t\tthis.instantiationService.createInstance(ResourceRenderer, () => this.viewMode, this.listLabels, getActionViewItemProvider(this.instantiationService), resourceActionRunner)\n\t\t\t],\n\t\t\ttreeDataSource,\n\t\t\t{\n\t\t\t\thorizontalScrolling: false,\n\t\t\t\tsetRowLineHeight: false,\n\t\t\t\ttransformOptimization: false,\n\t\t\t\tfilter: new SCMTreeFilter(),\n\t\t\t\tdnd: new SCMTreeDragAndDrop(this.instantiationService),\n\t\t\t\tidentityProvider: new SCMResourceIdentityProvider(),\n\t\t\t\tsorter: new SCMTreeSorter(() => this.viewMode, () => this.viewSortKey),\n\t\t\t\tkeyboardNavigationLabelProvider: this.instantiationService.createInstance(SCMTreeKeyboardNavigationLabelProvider, () => this.viewMode),\n\t\t\t\toverrideStyles: this.getLocationBasedColors().listOverrideStyles,\n\t\t\t\tcompressionEnabled: compressionEnabled.get(),\n\t\t\t\tcollapseByDefault: (e: unknown) => {\n\t\t\t\t\t// Repository, Resource Group, Resource Folder (Tree)\n\t\t\t\t\tif (isSCMRepository(e) || isSCMResourceGroup(e) || isSCMResourceNode(e)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// History Item Group, History Item, or History Item Change\n\t\t\t\t\treturn (viewState?.expanded ?? []).indexOf(getSCMResourceId(e as TreeElement)) === -1;\n\t\t\t\t},\n\t\t\t\taccessibilityProvider: this.instantiationService.createInstance(SCMAccessibilityProvider),\n\t\t\t\ttwistieAdditionalCssClass: (e: unknown) => {\n\t\t\t\t\tif (isSCMActionButton(e) || isSCMInput(e)) {\n\t\t\t\t\t\treturn 'force-no-twistie';\n\t\t\t\t\t}\n\n\t\t\t\t\treturn undefined;\n\t\t\t\t},\n\t\t\t}) as WorkbenchCompressibleAsyncDataTree<ISCMViewService, TreeElement, FuzzyScore>;\n\n\t\tthis.disposables.add(this.tree);\n\n\t\tthis.tree.onDidOpen(this.open, this, this.disposables);\n\t\tthis.tree.onContextMenu(this.onListContextMenu, this, this.disposables);\n\t\tthis.tree.onDidScroll(this.inputRenderer.clearValidation, this.inputRenderer, this.disposables);\n\t\tEvent.filter(this.tree.onDidChangeCollapseState, e => isSCMRepository(e.node.element?.element), this.disposables)(this.updateRepositoryCollapseAllContextKeys, this, this.disposables);\n\n\t\tthis.disposables.add(autorun(reader => {\n\t\t\tthis.tree.updateOptions({\n\t\t\t\tcompressionEnabled: compressionEnabled.read(reader)\n\t\t\t});\n\t\t}));\n\n\t\tappend(container, overflowWidgetsDomNode);\n\t}\n\n\tprivate async open(e: IOpenEvent<TreeElement | undefined>): Promise<void> {\n\t\tif (!e.element) {\n\t\t\treturn;\n\t\t} else if (isSCMRepository(e.element)) {\n\t\t\tthis.scmViewService.focus(e.element);\n\t\t\treturn;\n\t\t} else if (isSCMInput(e.element)) {\n\t\t\tthis.scmViewService.focus(e.element.repository);\n\n\t\t\tconst widget = this.inputRenderer.getRenderedInputWidget(e.element);\n\n\t\t\tif (widget) {\n\t\t\t\twidget.focus();\n\t\t\t\tthis.tree.setFocus([], e.browserEvent);\n\n\t\t\t\tconst selection = this.tree.getSelection();\n\n\t\t\t\tif (selection.length === 1 && selection[0] === e.element) {\n\t\t\t\t\tsetTimeout(() => this.tree.setSelection([]));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn;\n\t\t} else if (isSCMActionButton(e.element)) {\n\t\t\tthis.scmViewService.focus(e.element.repository);\n\n\t\t\t// Focus the action button\n\t\t\tthis.actionButtonRenderer.focusActionButton(e.element);\n\t\t\tthis.tree.setFocus([], e.browserEvent);\n\n\t\t\treturn;\n\t\t} else if (isSCMResourceGroup(e.element)) {\n\t\t\tconst provider = e.element.provider;\n\t\t\tconst repository = Iterable.find(this.scmService.repositories, r => r.provider === provider);\n\t\t\tif (repository) {\n\t\t\t\tthis.scmViewService.focus(repository);\n\t\t\t}\n\t\t\treturn;\n\t\t} else if (isSCMResource(e.element)) {\n\t\t\tif (e.element.command?.id === API_OPEN_EDITOR_COMMAND_ID || e.element.command?.id === API_OPEN_DIFF_EDITOR_COMMAND_ID) {\n\t\t\t\tif (isPointerEvent(e.browserEvent) && e.browserEvent.button === 1) {\n\t\t\t\t\tconst resourceGroup = e.element.resourceGroup;\n\t\t\t\t\tconst title = `${resourceGroup.provider.label}: ${resourceGroup.label}`;\n\t\t\t\t\tawait OpenScmGroupAction.openMultiFileDiffEditor(this.editorService, title, resourceGroup.provider.rootUri, resourceGroup.id, {\n\t\t\t\t\t\t...e.editorOptions,\n\t\t\t\t\t\tviewState: {\n\t\t\t\t\t\t\trevealData: {\n\t\t\t\t\t\t\t\tresource: {\n\t\t\t\t\t\t\t\t\toriginal: e.element.multiDiffEditorOriginalUri,\n\t\t\t\t\t\t\t\t\tmodified: e.element.multiDiffEditorModifiedUri,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpreserveFocus: true,\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tawait this.commandService.executeCommand(e.element.command.id, ...(e.element.command.arguments || []), e);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tawait e.element.open(!!e.editorOptions.preserveFocus);\n\n\t\t\t\tif (e.editorOptions.pinned) {\n\t\t\t\t\tconst activeEditorPane = this.editorService.activeEditorPane;\n\n\t\t\t\t\tactiveEditorPane?.group.pinEditor(activeEditorPane.input);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst provider = e.element.resourceGroup.provider;\n\t\t\tconst repository = Iterable.find(this.scmService.repositories, r => r.provider === provider);\n\n\t\t\tif (repository) {\n\t\t\t\tthis.scmViewService.focus(repository);\n\t\t\t}\n\t\t} else if (isSCMResourceNode(e.element)) {\n\t\t\tconst provider = e.element.context.provider;\n\t\t\tconst repository = Iterable.find(this.scmService.repositories, r => r.provider === provider);\n\t\t\tif (repository) {\n\t\t\t\tthis.scmViewService.focus(repository);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t}\n\n\tprivate onDidActiveEditorChange(): void {\n\t\tif (!this.configurationService.getValue<boolean>('scm.autoReveal')) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst uri = EditorResourceAccessor.getOriginalUri(this.editorService.activeEditor, { supportSideBySide: SideBySideEditor.PRIMARY });\n\n\t\tif (!uri) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Do not set focus/selection when the resource is already focused and selected\n\t\tif (this.tree.getFocus().some(e => isSCMResource(e) && this.uriIdentityService.extUri.isEqual(e.sourceUri, uri)) &&\n\t\t\tthis.tree.getSelection().some(e => isSCMResource(e) && this.uriIdentityService.extUri.isEqual(e.sourceUri, uri))) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.revealResourceThrottler.queue(\n\t\t\t() => this.treeOperationSequencer.queue(\n\t\t\t\tasync () => {\n\t\t\t\t\tfor (const repository of this.scmViewService.visibleRepositories) {\n\t\t\t\t\t\tconst item = this.items.get(repository);\n\n\t\t\t\t\t\tif (!item) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// go backwards from last group\n\t\t\t\t\t\tfor (let j = repository.provider.groups.length - 1; j >= 0; j--) {\n\t\t\t\t\t\t\tconst groupItem = repository.provider.groups[j];\n\t\t\t\t\t\t\tconst resource = this.viewMode === ViewMode.Tree\n\t\t\t\t\t\t\t\t? groupItem.resourceTree.getNode(uri)?.element\n\t\t\t\t\t\t\t\t: groupItem.resources.find(r => this.uriIdentityService.extUri.isEqual(r.sourceUri, uri));\n\n\t\t\t\t\t\t\tif (resource) {\n\t\t\t\t\t\t\t\tawait this.tree.expandTo(resource);\n\t\t\t\t\t\t\t\tthis.tree.reveal(resource);\n\n\t\t\t\t\t\t\t\tthis.tree.setSelection([resource]);\n\t\t\t\t\t\t\t\tthis.tree.setFocus([resource]);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}));\n\t}\n\n\tprivate onDidChangeVisibleRepositories({ added, removed }: ISCMViewVisibleRepositoryChangeEvent): void {\n\t\t// Added repositories\n\t\tfor (const repository of added) {\n\t\t\tconst repositoryDisposables = new DisposableStore();\n\n\t\t\trepositoryDisposables.add(autorun(reader => {\n\t\t\t\t/** @description action button */\n\t\t\t\trepository.provider.actionButton.read(reader);\n\t\t\t\tthis.updateChildren(repository);\n\t\t\t}));\n\n\t\t\trepositoryDisposables.add(repository.input.onDidChangeVisibility(() => this.updateChildren(repository)));\n\t\t\trepositoryDisposables.add(repository.provider.onDidChangeResourceGroups(() => this.updateChildren(repository)));\n\n\t\t\tconst resourceGroupDisposables = repositoryDisposables.add(new DisposableMap<ISCMResourceGroup, IDisposable>());\n\n\t\t\tconst onDidChangeResourceGroups = () => {\n\t\t\t\tfor (const [resourceGroup] of resourceGroupDisposables) {\n\t\t\t\t\tif (!repository.provider.groups.includes(resourceGroup)) {\n\t\t\t\t\t\tresourceGroupDisposables.deleteAndDispose(resourceGroup);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (const resourceGroup of repository.provider.groups) {\n\t\t\t\t\tif (!resourceGroupDisposables.has(resourceGroup)) {\n\t\t\t\t\t\tconst disposableStore = new DisposableStore();\n\n\t\t\t\t\t\tdisposableStore.add(resourceGroup.onDidChange(() => this.updateChildren(repository)));\n\t\t\t\t\t\tdisposableStore.add(resourceGroup.onDidChangeResources(() => this.updateChildren(repository)));\n\t\t\t\t\t\tresourceGroupDisposables.set(resourceGroup, disposableStore);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\trepositoryDisposables.add(repository.provider.onDidChangeResourceGroups(onDidChangeResourceGroups));\n\t\t\tonDidChangeResourceGroups();\n\n\t\t\tthis.items.set(repository, repositoryDisposables);\n\t\t}\n\n\t\t// Removed repositories\n\t\tfor (const repository of removed) {\n\t\t\tthis.items.deleteAndDispose(repository);\n\t\t}\n\n\t\tthis.updateChildren();\n\t\tthis.onDidActiveEditorChange();\n\t}\n\n\tprivate onListContextMenu(e: ITreeContextMenuEvent<TreeElement | null>): void {\n\t\tif (!e.element) {\n\t\t\tconst menu = this.menuService.getMenuActions(Menus.ViewSort, this.contextKeyService);\n\t\t\tconst actions = getFlatContextMenuActions(menu);\n\n\t\t\treturn this.contextMenuService.showContextMenu({\n\t\t\t\tgetAnchor: () => e.anchor,\n\t\t\t\tgetActions: () => actions,\n\t\t\t\tonHide: () => { }\n\t\t\t});\n\t\t}\n\n\t\tconst element = e.element;\n\t\tlet context: unknown = element;\n\t\tlet actions: IAction[] = [];\n\n\t\tconst disposables = new DisposableStore();\n\t\tlet actionRunner: IActionRunner = new RepositoryPaneActionRunner(() => this.getSelectedResources());\n\t\tdisposables.add(actionRunner);\n\n\t\tif (isSCMRepository(element)) {\n\t\t\tconst menus = this.scmViewService.menus.getRepositoryMenus(element.provider);\n\t\t\tconst menu = menus.getRepositoryContextMenu(element);\n\t\t\tcontext = element.provider;\n\t\t\tactionRunner = new RepositoryActionRunner(() => this.getSelectedRepositories());\n\t\t\tdisposables.add(actionRunner);\n\t\t\tactions = collectContextMenuActions(menu);\n\t\t} else if (isSCMInput(element) || isSCMActionButton(element)) {\n\t\t\t// noop\n\t\t} else if (isSCMResourceGroup(element)) {\n\t\t\tconst menus = this.scmViewService.menus.getRepositoryMenus(element.provider);\n\t\t\tconst menu = menus.getResourceGroupMenu(element);\n\t\t\tactions = collectContextMenuActions(menu);\n\t\t} else if (isSCMResource(element)) {\n\t\t\tconst menus = this.scmViewService.menus.getRepositoryMenus(element.resourceGroup.provider);\n\t\t\tconst menu = menus.getResourceMenu(element);\n\t\t\tactions = collectContextMenuActions(menu);\n\t\t} else if (isSCMResourceNode(element)) {\n\t\t\tif (element.element) {\n\t\t\t\tconst menus = this.scmViewService.menus.getRepositoryMenus(element.element.resourceGroup.provider);\n\t\t\t\tconst menu = menus.getResourceMenu(element.element);\n\t\t\t\tactions = collectContextMenuActions(menu);\n\t\t\t} else {\n\t\t\t\tconst menus = this.scmViewService.menus.getRepositoryMenus(element.context.provider);\n\t\t\t\tconst menu = menus.getResourceFolderMenu(element.context);\n\t\t\t\tactions = collectContextMenuActions(menu);\n\t\t\t}\n\t\t}\n\n\t\tdisposables.add(actionRunner.onWillRun(() => this.tree.domFocus()));\n\n\t\tthis.contextMenuService.showContextMenu({\n\t\t\tactionRunner,\n\t\t\tgetAnchor: () => e.anchor,\n\t\t\tgetActions: () => actions,\n\t\t\tgetActionsContext: () => context,\n\t\t\tonHide: () => disposables.dispose()\n\t\t});\n\t}\n\n\tprivate getSelectedRepositories(): ISCMRepository[] {\n\t\tconst focusedRepositories = this.tree.getFocus().filter(r => !!r && isSCMRepository(r))! as ISCMRepository[];\n\t\tconst selectedRepositories = this.tree.getSelection().filter(r => !!r && isSCMRepository(r))! as ISCMRepository[];\n\n\t\treturn Array.from(new Set<ISCMRepository>([...focusedRepositories, ...selectedRepositories]));\n\t}\n\n\tprivate getSelectedResources(): (ISCMResourceGroup | ISCMResource | IResourceNode<ISCMResource, ISCMResourceGroup>)[] {\n\t\treturn this.tree.getSelection().filter(r => isSCMResourceGroup(r) || isSCMResource(r) || isSCMResourceNode(r));\n\t}\n\n\tprivate getViewMode(): ViewMode {\n\t\tlet mode = this.configurationService.getValue<'tree' | 'list'>('scm.defaultViewMode') === 'list' ? ViewMode.List : ViewMode.Tree;\n\t\tconst storageMode = this.storageService.get(`scm.viewMode`, StorageScope.WORKSPACE) as ViewMode;\n\t\tif (typeof storageMode === 'string') {\n\t\t\tmode = storageMode;\n\t\t}\n\n\t\treturn mode;\n\t}\n\n\tprivate getViewSortKey(): ViewSortKey {\n\t\t// Tree\n\t\tif (this._viewMode === ViewMode.Tree) {\n\t\t\treturn ViewSortKey.Path;\n\t\t}\n\n\t\t// List\n\t\tlet viewSortKey: ViewSortKey;\n\t\tconst viewSortKeyString = this.configurationService.getValue<'path' | 'name' | 'status'>('scm.defaultViewSortKey');\n\t\tswitch (viewSortKeyString) {\n\t\t\tcase 'name':\n\t\t\t\tviewSortKey = ViewSortKey.Name;\n\t\t\t\tbreak;\n\t\t\tcase 'status':\n\t\t\t\tviewSortKey = ViewSortKey.Status;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tviewSortKey = ViewSortKey.Path;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tconst storageSortKey = this.storageService.get(`scm.viewSortKey`, StorageScope.WORKSPACE) as ViewSortKey;\n\t\tif (typeof storageSortKey === 'string') {\n\t\t\tviewSortKey = storageSortKey;\n\t\t}\n\n\t\treturn viewSortKey;\n\t}\n\n\tprivate loadTreeViewState(): IAsyncDataTreeViewState | undefined {\n\t\tconst storageViewState = this.storageService.get('scm.viewState2', StorageScope.WORKSPACE);\n\t\tif (!storageViewState) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\ttry {\n\t\t\tconst treeViewState = JSON.parse(storageViewState);\n\t\t\treturn treeViewState;\n\t\t} catch {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\n\tprivate storeTreeViewState() {\n\t\tif (this.tree) {\n\t\t\tthis.storageService.store('scm.viewState2', JSON.stringify(this.tree.getViewState()), StorageScope.WORKSPACE, StorageTarget.MACHINE);\n\t\t}\n\t}\n\n\tprivate updateChildren(element?: ISCMRepository) {\n\t\tthis.updateChildrenThrottler.queue(\n\t\t\t() => this.treeOperationSequencer.queue(\n\t\t\t\tasync () => {\n\t\t\t\t\tconst focusedInput = this.inputRenderer.getFocusedInput();\n\n\t\t\t\t\tif (element && this.tree.hasNode(element)) {\n\t\t\t\t\t\t// Refresh specific repository\n\t\t\t\t\t\tawait this.tree.updateChildren(element);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Refresh the entire tree\n\t\t\t\t\t\tawait this.tree.updateChildren(undefined);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (focusedInput) {\n\t\t\t\t\t\tthis.inputRenderer.getRenderedInputWidget(focusedInput)?.focus();\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.updateScmProviderContextKeys();\n\t\t\t\t\tthis.updateRepositoryCollapseAllContextKeys();\n\t\t\t\t}));\n\t}\n\n\tprivate updateIndentStyles(theme: IFileIconTheme): void {\n\t\tthis.treeContainer.classList.toggle('list-view-mode', this.viewMode === ViewMode.List);\n\t\tthis.treeContainer.classList.toggle('tree-view-mode', this.viewMode === ViewMode.Tree);\n\t\tthis.treeContainer.classList.toggle('align-icons-and-twisties', (this.viewMode === ViewMode.List && theme.hasFileIcons) || (theme.hasFileIcons && !theme.hasFolderIcons));\n\t\tthis.treeContainer.classList.toggle('hide-arrows', this.viewMode === ViewMode.Tree && theme.hidesExplorerArrows === true);\n\t}\n\n\tprivate updateScmProviderContextKeys(): void {\n\t\tconst alwaysShowRepositories = this.configurationService.getValue<boolean>('scm.alwaysShowRepositories');\n\n\t\tif (!alwaysShowRepositories && this.items.size === 1) {\n\t\t\tconst provider = Iterable.first(this.items.keys())!.provider;\n\t\t\tthis.scmProviderContextKey.set(provider.providerId);\n\t\t\tthis.scmProviderRootUriContextKey.set(provider.rootUri?.toString());\n\t\t\tthis.scmProviderHasRootUriContextKey.set(!!provider.rootUri);\n\t\t} else {\n\t\t\tthis.scmProviderContextKey.set(undefined);\n\t\t\tthis.scmProviderRootUriContextKey.set(undefined);\n\t\t\tthis.scmProviderHasRootUriContextKey.set(false);\n\t\t}\n\t}\n\n\tprivate updateRepositoryCollapseAllContextKeys(): void {\n\t\tif (!this.isBodyVisible() || this.items.size === 1) {\n\t\t\tthis.isAnyRepositoryCollapsibleContextKey.set(false);\n\t\t\tthis.areAllRepositoriesCollapsedContextKey.set(false);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.isAnyRepositoryCollapsibleContextKey.set(this.scmViewService.visibleRepositories.some(r => this.tree.hasNode(r) && this.tree.isCollapsible(r)));\n\t\tthis.areAllRepositoriesCollapsedContextKey.set(this.scmViewService.visibleRepositories.every(r => this.tree.hasNode(r) && (!this.tree.isCollapsible(r) || this.tree.isCollapsed(r))));\n\t}\n\n\tcollapseAllRepositories(): void {\n\t\tfor (const repository of this.scmViewService.visibleRepositories) {\n\t\t\tif (this.tree.isCollapsible(repository)) {\n\t\t\t\tthis.tree.collapse(repository);\n\t\t\t}\n\t\t}\n\t}\n\n\texpandAllRepositories(): void {\n\t\tfor (const repository of this.scmViewService.visibleRepositories) {\n\t\t\tif (this.tree.isCollapsible(repository)) {\n\t\t\t\tthis.tree.expand(repository);\n\t\t\t}\n\t\t}\n\t}\n\n\tfocusPreviousInput(): void {\n\t\tthis.treeOperationSequencer.queue(() => this.focusInput(-1));\n\t}\n\n\tfocusNextInput(): void {\n\t\tthis.treeOperationSequencer.queue(() => this.focusInput(1));\n\t}\n\n\tprivate async focusInput(delta: number): Promise<void> {\n\t\tif (!this.scmViewService.focusedRepository ||\n\t\t\tthis.scmViewService.visibleRepositories.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet input = this.scmViewService.focusedRepository.input;\n\t\tconst repositories = this.scmViewService.visibleRepositories;\n\n\t\t// One visible repository and the input is already focused\n\t\tif (repositories.length === 1 && this.inputRenderer.getRenderedInputWidget(input)?.hasFocus() === true) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Multiple visible repositories and the input already focused\n\t\tif (repositories.length > 1 && this.inputRenderer.getRenderedInputWidget(input)?.hasFocus() === true) {\n\t\t\tconst focusedRepositoryIndex = repositories.indexOf(this.scmViewService.focusedRepository);\n\t\t\tconst newFocusedRepositoryIndex = rot(focusedRepositoryIndex + delta, repositories.length);\n\t\t\tinput = repositories[newFocusedRepositoryIndex].input;\n\t\t}\n\n\t\tawait this.tree.expandTo(input);\n\n\t\tthis.tree.reveal(input);\n\t\tthis.inputRenderer.getRenderedInputWidget(input)?.focus();\n\t}\n\n\tfocusPreviousResourceGroup(): void {\n\t\tthis.treeOperationSequencer.queue(() => this.focusResourceGroup(-1));\n\t}\n\n\tfocusNextResourceGroup(): void {\n\t\tthis.treeOperationSequencer.queue(() => this.focusResourceGroup(1));\n\t}\n\n\tprivate async focusResourceGroup(delta: number): Promise<void> {\n\t\tif (!this.scmViewService.focusedRepository ||\n\t\t\tthis.scmViewService.visibleRepositories.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst treeHasDomFocus = isActiveElement(this.tree.getHTMLElement());\n\t\tconst resourceGroups = this.scmViewService.focusedRepository.provider.groups;\n\t\tconst focusedResourceGroup = this.tree.getFocus().find(e => isSCMResourceGroup(e));\n\t\tconst focusedResourceGroupIndex = treeHasDomFocus && focusedResourceGroup ? resourceGroups.indexOf(focusedResourceGroup) : -1;\n\n\t\tlet resourceGroupNext: ISCMResourceGroup | undefined;\n\n\t\tif (focusedResourceGroupIndex === -1) {\n\t\t\t// First visible resource group\n\t\t\tfor (const resourceGroup of resourceGroups) {\n\t\t\t\tif (this.tree.hasNode(resourceGroup)) {\n\t\t\t\t\tresourceGroupNext = resourceGroup;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\t// Next/Previous visible resource group\n\t\t\tlet index = rot(focusedResourceGroupIndex + delta, resourceGroups.length);\n\t\t\twhile (index !== focusedResourceGroupIndex) {\n\t\t\t\tif (this.tree.hasNode(resourceGroups[index])) {\n\t\t\t\t\tresourceGroupNext = resourceGroups[index];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tindex = rot(index + delta, resourceGroups.length);\n\t\t\t}\n\t\t}\n\n\t\tif (resourceGroupNext) {\n\t\t\tawait this.tree.expandTo(resourceGroupNext);\n\t\t\tthis.tree.reveal(resourceGroupNext);\n\n\t\t\tthis.tree.setSelection([resourceGroupNext]);\n\t\t\tthis.tree.setFocus([resourceGroupNext]);\n\t\t\tthis.tree.domFocus();\n\t\t}\n\t}\n\n\toverride shouldShowWelcome(): boolean {\n\t\treturn this.scmService.repositoryCount === 0;\n\t}\n\n\toverride getActionsContext(): unknown {\n\t\treturn this.scmViewService.visibleRepositories.length === 1 ? this.scmViewService.visibleRepositories[0].provider : undefined;\n\t}\n\n\toverride focus(): void {\n\t\tsuper.focus();\n\n\t\tthis.treeOperationSequencer.queue(() => {\n\t\t\treturn new Promise<void>(resolve => {\n\t\t\t\tif (this.isExpanded()) {\n\t\t\t\t\tif (this.tree.getFocus().length === 0) {\n\t\t\t\t\t\tfor (const repository of this.scmViewService.visibleRepositories) {\n\t\t\t\t\t\t\tconst widget = this.inputRenderer.getRenderedInputWidget(repository.input);\n\n\t\t\t\t\t\t\tif (widget) {\n\t\t\t\t\t\t\t\twidget.focus();\n\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.tree.domFocus();\n\t\t\t\t\tresolve();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\toverride dispose(): void {\n\t\tthis.visibilityDisposables.dispose();\n\t\tthis.disposables.dispose();\n\t\tthis.items.dispose();\n\t\tsuper.dispose();\n\t}\n}\n\nclass SCMTreeDataSource extends Disposable implements IAsyncDataSource<ISCMViewService, TreeElement> {\n\tconstructor(\n\t\tprivate readonly viewMode: () => ViewMode,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@ISCMViewService private readonly scmViewService: ISCMViewService\n\t) {\n\t\tsuper();\n\t}\n\n\tasync getChildren(inputOrElement: ISCMViewService | TreeElement): Promise<Iterable<TreeElement>> {\n\t\tconst repositoryCount = this.scmViewService.visibleRepositories.length;\n\n\t\tconst showActionButton = this.configurationService.getValue<boolean>('scm.showActionButton') === true;\n\t\tconst alwaysShowRepositories = this.configurationService.getValue<boolean>('scm.alwaysShowRepositories') === true;\n\n\t\tif (isSCMViewService(inputOrElement) && (repositoryCount > 1 || alwaysShowRepositories)) {\n\t\t\treturn this.scmViewService.visibleRepositories;\n\t\t} else if ((isSCMViewService(inputOrElement) && repositoryCount === 1 && !alwaysShowRepositories) || isSCMRepository(inputOrElement)) {\n\t\t\tconst children: TreeElement[] = [];\n\n\t\t\tinputOrElement = isSCMRepository(inputOrElement) ? inputOrElement : this.scmViewService.visibleRepositories[0];\n\t\t\tconst actionButton = inputOrElement.provider.actionButton.get();\n\t\t\tconst resourceGroups = inputOrElement.provider.groups;\n\n\t\t\t// SCM Input\n\t\t\tif (inputOrElement.input.visible) {\n\t\t\t\tchildren.push(inputOrElement.input);\n\t\t\t}\n\n\t\t\t// Action Button\n\t\t\tif (showActionButton && actionButton) {\n\t\t\t\tchildren.push({\n\t\t\t\t\ttype: 'actionButton',\n\t\t\t\t\trepository: inputOrElement,\n\t\t\t\t\tbutton: actionButton\n\t\t\t\t} satisfies ISCMActionButton);\n\t\t\t}\n\n\t\t\t// ResourceGroups\n\t\t\tconst hasSomeChanges = resourceGroups.some(group => group.resources.length > 0);\n\t\t\tif (hasSomeChanges || (repositoryCount === 1 && (!showActionButton || !actionButton))) {\n\t\t\t\tchildren.push(...resourceGroups);\n\t\t\t}\n\n\t\t\treturn children;\n\t\t} else if (isSCMResourceGroup(inputOrElement)) {\n\t\t\tif (this.viewMode() === ViewMode.List) {\n\t\t\t\t// Resources (List)\n\t\t\t\treturn inputOrElement.resources;\n\t\t\t} else if (this.viewMode() === ViewMode.Tree) {\n\t\t\t\t// Resources (Tree)\n\t\t\t\tconst children: TreeElement[] = [];\n\t\t\t\tfor (const node of inputOrElement.resourceTree.root.children) {\n\t\t\t\t\tchildren.push(node.element && node.childrenCount === 0 ? node.element : node);\n\t\t\t\t}\n\n\t\t\t\treturn children;\n\t\t\t}\n\t\t} else if (isSCMResourceNode(inputOrElement)) {\n\t\t\t// Resources (Tree), History item changes (Tree)\n\t\t\tconst children: TreeElement[] = [];\n\t\t\tfor (const node of inputOrElement.children) {\n\t\t\t\tchildren.push(node.element && node.childrenCount === 0 ? node.element : node);\n\t\t\t}\n\n\t\t\treturn children;\n\t\t}\n\n\t\treturn [];\n\t}\n\n\tgetParent(element: TreeElement): ISCMViewService | TreeElement {\n\t\tif (isSCMResourceNode(element)) {\n\t\t\tif (element.parent === element.context.resourceTree.root) {\n\t\t\t\treturn element.context;\n\t\t\t} else if (element.parent) {\n\t\t\t\treturn element.parent;\n\t\t\t} else {\n\t\t\t\tthrow new Error('Invalid element passed to getParent');\n\t\t\t}\n\t\t} else if (isSCMResource(element)) {\n\t\t\tif (this.viewMode() === ViewMode.List) {\n\t\t\t\treturn element.resourceGroup;\n\t\t\t}\n\n\t\t\tconst node = element.resourceGroup.resourceTree.getNode(element.sourceUri);\n\t\t\tconst result = node?.parent;\n\n\t\t\tif (!result) {\n\t\t\t\tthrow new Error('Invalid element passed to getParent');\n\t\t\t}\n\n\t\t\tif (result === element.resourceGroup.resourceTree.root) {\n\t\t\t\treturn element.resourceGroup;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t} else if (isSCMInput(element)) {\n\t\t\treturn element.repository;\n\t\t} else if (isSCMResourceGroup(element)) {\n\t\t\tconst repository = this.scmViewService.visibleRepositories.find(r => r.provider === element.provider);\n\t\t\tif (!repository) {\n\t\t\t\tthrow new Error('Invalid element passed to getParent');\n\t\t\t}\n\n\t\t\treturn repository;\n\t\t} else {\n\t\t\tthrow new Error('Unexpected call to getParent');\n\t\t}\n\t}\n\n\thasChildren(inputOrElement: ISCMViewService | TreeElement): boolean {\n\t\tif (isSCMViewService(inputOrElement)) {\n\t\t\treturn this.scmViewService.visibleRepositories.length !== 0;\n\t\t} else if (isSCMRepository(inputOrElement)) {\n\t\t\treturn true;\n\t\t} else if (isSCMInput(inputOrElement)) {\n\t\t\treturn false;\n\t\t} else if (isSCMActionButton(inputOrElement)) {\n\t\t\treturn false;\n\t\t} else if (isSCMResourceGroup(inputOrElement)) {\n\t\t\treturn true;\n\t\t} else if (isSCMResource(inputOrElement)) {\n\t\t\treturn false;\n\t\t} else if (ResourceTree.isResourceNode(inputOrElement)) {\n\t\t\treturn inputOrElement.childrenCount > 0;\n\t\t} else {\n\t\t\tthrow new Error('hasChildren not implemented.');\n\t\t}\n\t}\n}\n\nexport class SCMActionButton implements IDisposable {\n\tprivate button: Button | ButtonWithDescription | ButtonWithDropdown | undefined;\n\tprivate readonly disposables = new MutableDisposable<DisposableStore>();\n\n\tconstructor(\n\t\tprivate readonly container: HTMLElement,\n\t\tprivate readonly contextMenuService: IContextMenuService,\n\t\tprivate readonly commandService: ICommandService,\n\t\tprivate readonly notificationService: INotificationService\n\t) {\n\t}\n\n\tdispose(): void {\n\t\tthis.disposables?.dispose();\n\t}\n\n\tsetButton(button: ISCMActionButtonDescriptor | undefined): void {\n\t\t// Clear old button\n\t\tthis.clear();\n\t\tif (!button) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (button.secondaryCommands?.length) {\n\t\t\tconst actions: IAction[] = [];\n\t\t\tfor (let index = 0; index < button.secondaryCommands.length; index++) {\n\t\t\t\tconst commands = button.secondaryCommands[index];\n\t\t\t\tfor (const command of commands) {\n\t\t\t\t\tactions.push(toAction({\n\t\t\t\t\t\tid: command.id,\n\t\t\t\t\t\tlabel: command.title,\n\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\trun: async () => {\n\t\t\t\t\t\t\tawait this.executeCommand(command.id, ...(command.arguments || []));\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t\tif (commands.length) {\n\t\t\t\t\tactions.push(new Separator());\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Remove last separator\n\t\t\tactions.pop();\n\n\t\t\t// ButtonWithDropdown\n\t\t\tthis.button = new ButtonWithDropdown(this.container, {\n\t\t\t\tactions: actions,\n\t\t\t\taddPrimaryActionToDropdown: false,\n\t\t\t\tcontextMenuProvider: this.contextMenuService,\n\t\t\t\ttitle: button.command.tooltip,\n\t\t\t\tsupportIcons: true,\n\t\t\t\t...defaultButtonStyles\n\t\t\t});\n\t\t} else {\n\t\t\t// Button\n\t\t\tthis.button = new Button(this.container, { supportIcons: true, supportShortLabel: !!button.command.shortTitle, title: button.command.tooltip, ...defaultButtonStyles });\n\t\t}\n\n\t\tthis.button.enabled = button.enabled;\n\t\tthis.button.label = button.command.title;\n\t\tif (this.button instanceof Button && button.command.shortTitle) {\n\t\t\tthis.button.labelShort = button.command.shortTitle;\n\t\t}\n\t\tthis.button.onDidClick(async () => await this.executeCommand(button.command.id, ...(button.command.arguments || [])), null, this.disposables.value);\n\n\t\tthis.disposables.value!.add(this.button);\n\t}\n\n\tfocus(): void {\n\t\tthis.button?.focus();\n\t}\n\n\tprivate clear(): void {\n\t\tthis.disposables.value = new DisposableStore();\n\t\tthis.button = undefined;\n\t\tclearNode(this.container);\n\t}\n\n\tprivate async executeCommand(commandId: string, ...args: unknown[]): Promise<void> {\n\t\ttry {\n\t\t\tawait this.commandService.executeCommand(commandId, ...args);\n\t\t} catch (ex) {\n\t\t\tthis.notificationService.error(ex);\n\t\t}\n\t}\n}\n\nsetupSimpleEditorSelectionStyling('.scm-view .scm-editor-container');\n"]}