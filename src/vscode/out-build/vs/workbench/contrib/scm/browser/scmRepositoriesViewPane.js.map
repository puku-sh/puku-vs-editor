{"version":3,"sources":["vs/workbench/contrib/scm/browser/scmRepositoriesViewPane.ts"],"names":[],"mappings":"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","file":"scmRepositoriesViewPane.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport './media/scm.css';\nimport { localize } from '../../../../nls.js';\nimport { ViewPane, IViewPaneOptions } from '../../../browser/parts/views/viewPane.js';\nimport { append, $ } from '../../../../base/browser/dom.js';\nimport { IListVirtualDelegate, IIdentityProvider } from '../../../../base/browser/ui/list/list.js';\nimport { IAsyncDataSource, ITreeEvent, ITreeContextMenuEvent, ITreeNode, ITreeElementRenderDetails } from '../../../../base/browser/ui/tree/tree.js';\nimport { WorkbenchCompressibleAsyncDataTree } from '../../../../platform/list/browser/listService.js';\nimport { ISCMRepository, ISCMService, ISCMViewService } from '../common/scm.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { combinedDisposable, Disposable, DisposableMap, DisposableStore, IDisposable } from '../../../../base/common/lifecycle.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IViewDescriptorService } from '../../../common/views.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { RepositoryActionRunner, RepositoryRenderer } from './scmRepositoryRenderer.js';\nimport { collectContextMenuActions, connectPrimaryMenu, getActionViewItemProvider, isSCMArtifactGroupTreeElement, isSCMArtifactNode, isSCMArtifactTreeElement, isSCMRepository } from './util.js';\nimport { Orientation } from '../../../../base/browser/ui/sash/sash.js';\nimport { Iterable } from '../../../../base/common/iterator.js';\nimport { IMenuService, MenuId } from '../../../../platform/actions/common/actions.js';\nimport { IHoverService } from '../../../../platform/hover/browser/hover.js';\nimport { observableConfigValue } from '../../../../platform/observable/common/platformObservableUtils.js';\nimport { autorun, IObservable, observableSignalFromEvent, runOnChange } from '../../../../base/common/observable.js';\nimport { Sequencer, Throttler } from '../../../../base/common/async.js';\nimport { SCMArtifactGroupTreeElement, SCMArtifactTreeElement } from '../common/artifact.js';\nimport { FuzzyScore } from '../../../../base/common/fuzzyScorer.js';\nimport { IconLabel } from '../../../../base/browser/ui/iconLabel/iconLabel.js';\nimport { SCMViewService } from './scmViewService.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { WorkbenchToolBar } from '../../../../platform/actions/browser/toolbar.js';\nimport { ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { IResourceNode, ResourceTree } from '../../../../base/common/resourceTree.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { basename } from '../../../../base/common/resources.js';\nimport { ICompressibleTreeRenderer } from '../../../../base/browser/ui/tree/objectTree.js';\nimport { ICompressedTreeNode } from '../../../../base/browser/ui/tree/compressedObjectTreeModel.js';\nimport { ITreeCompressionDelegate } from '../../../../base/browser/ui/tree/asyncDataTree.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\n\ntype TreeElement = ISCMRepository | SCMArtifactGroupTreeElement | SCMArtifactTreeElement | IResourceNode<SCMArtifactTreeElement, SCMArtifactGroupTreeElement>;\n\nclass ListDelegate implements IListVirtualDelegate<ISCMRepository> {\n\n\tgetHeight(): number {\n\t\treturn 22;\n\t}\n\n\tgetTemplateId(element: TreeElement): string {\n\t\tif (isSCMRepository(element)) {\n\t\t\treturn RepositoryRenderer.TEMPLATE_ID;\n\t\t} else if (isSCMArtifactGroupTreeElement(element)) {\n\t\t\treturn ArtifactGroupRenderer.TEMPLATE_ID;\n\t\t} else if (isSCMArtifactTreeElement(element) || isSCMArtifactNode(element)) {\n\t\t\treturn ArtifactRenderer.TEMPLATE_ID;\n\t\t} else {\n\t\t\tthrow new Error('Invalid tree element');\n\t\t}\n\t}\n}\n\ninterface ArtifactGroupTemplate {\n\treadonly icon: HTMLElement;\n\treadonly label: IconLabel;\n\treadonly actionBar: WorkbenchToolBar;\n\treadonly elementDisposables: DisposableStore;\n\treadonly templateDisposable: IDisposable;\n}\n\nclass ArtifactGroupRenderer implements ICompressibleTreeRenderer<SCMArtifactGroupTreeElement, FuzzyScore, ArtifactGroupTemplate> {\n\n\tstatic readonly TEMPLATE_ID = 'artifactGroup';\n\tget templateId(): string { return ArtifactGroupRenderer.TEMPLATE_ID; }\n\n\tconstructor(\n\t\t@IContextMenuService private readonly _contextMenuService: IContextMenuService,\n\t\t@IContextKeyService private readonly _contextKeyService: IContextKeyService,\n\t\t@IKeybindingService private readonly _keybindingService: IKeybindingService,\n\t\t@IMenuService private readonly _menuService: IMenuService,\n\t\t@ICommandService private readonly _commandService: ICommandService,\n\t\t@ISCMViewService private readonly _scmViewService: ISCMViewService,\n\t\t@ITelemetryService private readonly _telemetryService: ITelemetryService\n\t) { }\n\n\trenderTemplate(container: HTMLElement): ArtifactGroupTemplate {\n\t\tconst element = append(container, $('.scm-artifact-group'));\n\t\tconst icon = append(element, $('.icon'));\n\t\tconst label = new IconLabel(element, { supportIcons: false });\n\n\t\tconst actionsContainer = append(element, $('.actions'));\n\t\tconst actionBar = new WorkbenchToolBar(actionsContainer, undefined, this._menuService, this._contextKeyService, this._contextMenuService, this._keybindingService, this._commandService, this._telemetryService);\n\n\t\treturn { icon, label, actionBar, elementDisposables: new DisposableStore(), templateDisposable: combinedDisposable(label, actionBar) };\n\t}\n\n\trenderElement(node: ITreeNode<SCMArtifactGroupTreeElement, FuzzyScore>, index: number, templateData: ArtifactGroupTemplate): void {\n\t\tconst provider = node.element.repository.provider;\n\t\tconst artifactGroup = node.element.artifactGroup;\n\n\t\ttemplateData.icon.className = ThemeIcon.isThemeIcon(artifactGroup.icon)\n\t\t\t? `icon ${ThemeIcon.asClassName(artifactGroup.icon)}`\n\t\t\t: '';\n\t\ttemplateData.label.setLabel(artifactGroup.name);\n\n\t\tconst repositoryMenus = this._scmViewService.menus.getRepositoryMenus(provider);\n\t\ttemplateData.elementDisposables.add(connectPrimaryMenu(repositoryMenus.getArtifactGroupMenu(artifactGroup), primary => {\n\t\t\ttemplateData.actionBar.setActions(primary);\n\t\t}, 'inline', provider));\n\t\ttemplateData.actionBar.context = artifactGroup;\n\t}\n\n\trenderCompressedElements(node: ITreeNode<ICompressedTreeNode<SCMArtifactGroupTreeElement>, FuzzyScore>, index: number, templateData: ArtifactGroupTemplate, details?: ITreeElementRenderDetails): void {\n\t\tthrow new Error('Should never happen since node is incompressible');\n\t}\n\n\tdisposeElement(element: ITreeNode<SCMArtifactGroupTreeElement, FuzzyScore>, index: number, templateData: ArtifactGroupTemplate, details?: ITreeElementRenderDetails): void {\n\t\ttemplateData.elementDisposables.clear();\n\t}\n\n\tdisposeTemplate(templateData: ArtifactGroupTemplate): void {\n\t\ttemplateData.elementDisposables.dispose();\n\t\ttemplateData.templateDisposable.dispose();\n\t}\n}\n\ninterface ArtifactTemplate {\n\treadonly icon: HTMLElement;\n\treadonly label: IconLabel;\n\treadonly actionBar: WorkbenchToolBar;\n\treadonly elementDisposables: DisposableStore;\n\treadonly templateDisposable: IDisposable;\n}\n\nclass ArtifactRenderer implements ICompressibleTreeRenderer<SCMArtifactTreeElement | IResourceNode<SCMArtifactTreeElement, SCMArtifactGroupTreeElement>, FuzzyScore, ArtifactTemplate> {\n\n\tstatic readonly TEMPLATE_ID = 'artifact';\n\tget templateId(): string { return ArtifactRenderer.TEMPLATE_ID; }\n\n\tconstructor(\n\t\t@IContextMenuService private readonly _contextMenuService: IContextMenuService,\n\t\t@IContextKeyService private readonly _contextKeyService: IContextKeyService,\n\t\t@IKeybindingService private readonly _keybindingService: IKeybindingService,\n\t\t@IMenuService private readonly _menuService: IMenuService,\n\t\t@ICommandService private readonly _commandService: ICommandService,\n\t\t@ISCMViewService private readonly _scmViewService: ISCMViewService,\n\t\t@ITelemetryService private readonly _telemetryService: ITelemetryService\n\t) { }\n\n\trenderTemplate(container: HTMLElement): ArtifactTemplate {\n\t\tconst element = append(container, $('.scm-artifact'));\n\t\tconst icon = append(element, $('.icon'));\n\t\tconst label = new IconLabel(element, { supportIcons: false });\n\n\t\tconst actionsContainer = append(element, $('.actions'));\n\t\tconst actionBar = new WorkbenchToolBar(actionsContainer, undefined, this._menuService, this._contextKeyService, this._contextMenuService, this._keybindingService, this._commandService, this._telemetryService);\n\n\t\treturn { icon, label, actionBar, elementDisposables: new DisposableStore(), templateDisposable: combinedDisposable(label, actionBar) };\n\t}\n\n\trenderElement(nodeOrElement: ITreeNode<SCMArtifactTreeElement | IResourceNode<SCMArtifactTreeElement, SCMArtifactGroupTreeElement>, FuzzyScore>, index: number, templateData: ArtifactTemplate): void {\n\t\tconst artifactOrFolder = nodeOrElement.element;\n\n\t\t// Label\n\t\tif (isSCMArtifactTreeElement(artifactOrFolder)) {\n\t\t\t// Artifact\n\t\t\tconst artifact = artifactOrFolder.artifact;\n\n\t\t\tconst artifactIcon = artifact.icon ?? artifactOrFolder.group.icon;\n\t\t\ttemplateData.icon.className = ThemeIcon.isThemeIcon(artifactIcon)\n\t\t\t\t? `icon ${ThemeIcon.asClassName(artifactIcon)}`\n\t\t\t\t: '';\n\n\t\t\tconst artifactLabel = artifact.name.split('/').pop() ?? artifact.name;\n\t\t\ttemplateData.label.setLabel(artifactLabel, artifact.description);\n\t\t} else if (isSCMArtifactNode(artifactOrFolder)) {\n\t\t\t// Folder\n\t\t\ttemplateData.icon.className = `icon ${ThemeIcon.asClassName(Codicon.folder)}`;\n\t\t\ttemplateData.label.setLabel(basename(artifactOrFolder.uri));\n\t\t}\n\n\t\t// Actions\n\t\tthis._renderActionBar(artifactOrFolder, templateData);\n\t}\n\n\trenderCompressedElements(node: ITreeNode<ICompressedTreeNode<SCMArtifactTreeElement | IResourceNode<SCMArtifactTreeElement, SCMArtifactGroupTreeElement>>, FuzzyScore>, index: number, templateData: ArtifactTemplate, details?: ITreeElementRenderDetails): void {\n\t\tconst compressed = node.element;\n\t\tconst artifactOrFolder = compressed.elements[compressed.elements.length - 1];\n\n\t\t// Label\n\t\tif (isSCMArtifactTreeElement(artifactOrFolder)) {\n\t\t\t// Artifact\n\t\t\tconst artifact = artifactOrFolder.artifact;\n\n\t\t\tconst artifactIcon = artifact.icon ?? artifactOrFolder.group.icon;\n\t\t\ttemplateData.icon.className = ThemeIcon.isThemeIcon(artifactIcon)\n\t\t\t\t? `icon ${ThemeIcon.asClassName(artifactIcon)}`\n\t\t\t\t: '';\n\n\t\t\ttemplateData.label.setLabel(artifact.name, artifact.description);\n\t\t} else if (isSCMArtifactNode(artifactOrFolder)) {\n\t\t\t// Folder\n\t\t\ttemplateData.icon.className = `icon ${ThemeIcon.asClassName(Codicon.folder)}`;\n\t\t\ttemplateData.label.setLabel(artifactOrFolder.uri.fsPath.substring(1));\n\t\t}\n\n\t\t// Actions\n\t\tthis._renderActionBar(artifactOrFolder, templateData);\n\t}\n\n\tprivate _renderActionBar(artifactOrFolder: SCMArtifactTreeElement | IResourceNode<SCMArtifactTreeElement, SCMArtifactGroupTreeElement>, templateData: ArtifactTemplate): void {\n\t\tif (isSCMArtifactTreeElement(artifactOrFolder)) {\n\t\t\tconst artifact = artifactOrFolder.artifact;\n\t\t\tconst provider = artifactOrFolder.repository.provider;\n\t\t\tconst repositoryMenus = this._scmViewService.menus.getRepositoryMenus(provider);\n\t\t\ttemplateData.elementDisposables.add(connectPrimaryMenu(repositoryMenus.getArtifactMenu(artifactOrFolder.group, artifact), primary => {\n\t\t\t\ttemplateData.actionBar.setActions(primary);\n\t\t\t}, 'inline', provider));\n\t\t\ttemplateData.actionBar.context = artifact;\n\n\t\t} else if (ResourceTree.isResourceNode(artifactOrFolder)) {\n\t\t\ttemplateData.actionBar.setActions([]);\n\t\t\ttemplateData.actionBar.context = undefined;\n\t\t}\n\t}\n\n\tdisposeElement(element: ITreeNode<SCMArtifactTreeElement | IResourceNode<SCMArtifactTreeElement, SCMArtifactGroupTreeElement>, FuzzyScore>, index: number, templateData: ArtifactTemplate, details?: ITreeElementRenderDetails): void {\n\t\ttemplateData.elementDisposables.clear();\n\t}\n\n\tdisposeTemplate(templateData: ArtifactTemplate): void {\n\t\ttemplateData.elementDisposables.dispose();\n\t\ttemplateData.templateDisposable.dispose();\n\t}\n}\n\nclass RepositoryTreeDataSource extends Disposable implements IAsyncDataSource<ISCMViewService, TreeElement> {\n\tconstructor(@ISCMViewService private readonly scmViewService: ISCMViewService) {\n\t\tsuper();\n\t}\n\n\tasync getChildren(inputOrElement: ISCMViewService | TreeElement): Promise<Iterable<TreeElement>> {\n\t\tif (this.scmViewService.explorerEnabledConfig.get() === false) {\n\t\t\tconst parentId = isSCMRepository(inputOrElement)\n\t\t\t\t? inputOrElement.provider.id\n\t\t\t\t: undefined;\n\n\t\t\tconst repositories = this.scmViewService.repositories\n\t\t\t\t.filter(r => r.provider.parentId === parentId);\n\n\t\t\treturn repositories;\n\t\t}\n\n\t\t// Explorer mode\n\t\tif (inputOrElement instanceof SCMViewService) {\n\t\t\t// Get all top level repositories\n\t\t\tconst repositories = this.scmViewService.repositories\n\t\t\t\t.filter(r => r.provider.parentId === undefined);\n\n\t\t\t// Check whether there are any child repositories\n\t\t\tif (repositories.length !== this.scmViewService.repositories.length) {\n\t\t\t\tfor (const repository of repositories) {\n\t\t\t\t\tconst childRepositories = this.scmViewService.repositories\n\t\t\t\t\t\t.filter(r => r.provider.parentId === repository.provider.id);\n\n\t\t\t\t\tif (childRepositories.length === 0) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Insert child repositories right after the parent\n\t\t\t\t\tconst repositoryIndex = repositories.indexOf(repository);\n\t\t\t\t\trepositories.splice(repositoryIndex + 1, 0, ...childRepositories);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn repositories;\n\t\t} else if (isSCMRepository(inputOrElement)) {\n\t\t\tconst artifactGroups = await inputOrElement.provider.artifactProvider.get()?.provideArtifactGroups() ?? [];\n\t\t\treturn artifactGroups.map(group => ({\n\t\t\t\trepository: inputOrElement,\n\t\t\t\tartifactGroup: group,\n\t\t\t\ttype: 'artifactGroup'\n\t\t\t}));\n\t\t} else if (isSCMArtifactGroupTreeElement(inputOrElement)) {\n\t\t\tconst repository = inputOrElement.repository;\n\t\t\tconst artifacts = await repository.provider.artifactProvider.get()?.provideArtifacts(inputOrElement.artifactGroup.id) ?? [];\n\n\t\t\t// Create resource tree for artifacts\n\t\t\tconst artifactsTree = new ResourceTree<SCMArtifactTreeElement, SCMArtifactGroupTreeElement>(inputOrElement);\n\t\t\tfor (const artifact of artifacts) {\n\t\t\t\tartifactsTree.add(URI.from({\n\t\t\t\t\tscheme: 'scm-artifact', path: artifact.name\n\t\t\t\t}), {\n\t\t\t\t\trepository,\n\t\t\t\t\tgroup: inputOrElement.artifactGroup,\n\t\t\t\t\tartifact,\n\t\t\t\t\ttype: 'artifact'\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn Iterable.map(artifactsTree.root.children, node => node.element ?? node);\n\t\t} else if (isSCMArtifactNode(inputOrElement)) {\n\t\t\treturn Iterable.map(inputOrElement.children,\n\t\t\t\tnode => node.element && node.childrenCount === 0 ? node.element : node);\n\t\t} else if (isSCMArtifactTreeElement(inputOrElement)) { }\n\n\t\treturn [];\n\t}\n\n\thasChildren(inputOrElement: ISCMViewService | TreeElement): boolean {\n\t\tif (this.scmViewService.explorerEnabledConfig.get() === false) {\n\t\t\tconst parentId = isSCMRepository(inputOrElement)\n\t\t\t\t? inputOrElement.provider.id\n\t\t\t\t: undefined;\n\n\t\t\tconst repositories = this.scmViewService.repositories\n\t\t\t\t.filter(r => r.provider.parentId === parentId);\n\n\t\t\treturn repositories.length > 0;\n\t\t}\n\n\t\t// Explorer mode\n\t\tif (inputOrElement instanceof SCMViewService) {\n\t\t\treturn this.scmViewService.repositories.length > 0;\n\t\t} else if (isSCMRepository(inputOrElement)) {\n\t\t\treturn true;\n\t\t} else if (isSCMArtifactGroupTreeElement(inputOrElement)) {\n\t\t\treturn true;\n\t\t} else if (isSCMArtifactTreeElement(inputOrElement)) {\n\t\t\treturn false;\n\t\t} else if (isSCMArtifactNode(inputOrElement)) {\n\t\t\treturn inputOrElement.childrenCount > 0;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n}\n\nclass RepositoryTreeIdentityProvider implements IIdentityProvider<TreeElement> {\n\tgetId(element: TreeElement): string {\n\t\tif (isSCMRepository(element)) {\n\t\t\treturn `repo:${element.provider.id}`;\n\t\t} else if (isSCMArtifactGroupTreeElement(element)) {\n\t\t\treturn `artifactGroup:${element.repository.provider.id}/${element.artifactGroup.id}`;\n\t\t} else if (isSCMArtifactTreeElement(element)) {\n\t\t\treturn `artifact:${element.repository.provider.id}/${element.group.id}/${element.artifact.id}`;\n\t\t} else if (isSCMArtifactNode(element)) {\n\t\t\treturn `artifactFolder:${element.context.repository.provider.id}/${element.context.artifactGroup.id}/${element.uri.fsPath}`;\n\t\t} else {\n\t\t\tthrow new Error('Invalid tree element');\n\t\t}\n\t}\n}\n\nclass RepositoriesTreeCompressionDelegate implements ITreeCompressionDelegate<TreeElement> {\n\tisIncompressible(element: TreeElement): boolean {\n\t\tif (ResourceTree.isResourceNode(element)) {\n\t\t\treturn element.childrenCount > 1;\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t}\n}\n\nexport class SCMRepositoriesViewPane extends ViewPane {\n\n\tprivate tree!: WorkbenchCompressibleAsyncDataTree<ISCMViewService, TreeElement>;\n\tprivate treeDataSource!: RepositoryTreeDataSource;\n\tprivate treeIdentityProvider!: RepositoryTreeIdentityProvider;\n\tprivate readonly treeOperationSequencer = new Sequencer();\n\tprivate readonly updateChildrenThrottler = new Throttler();\n\n\tprivate readonly visibleCountObs: IObservable<number>;\n\tprivate readonly providerCountBadgeObs: IObservable<'hidden' | 'auto' | 'visible'>;\n\n\tprivate readonly visibilityDisposables = new DisposableStore();\n\tprivate readonly repositoryDisposables = new DisposableMap<ISCMRepository>();\n\n\tconstructor(\n\t\toptions: IViewPaneOptions,\n\t\t@ISCMService private readonly scmService: ISCMService,\n\t\t@ISCMViewService private readonly scmViewService: ISCMViewService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IOpenerService openerService: IOpenerService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IHoverService hoverService: IHoverService\n\t) {\n\t\tsuper({ ...options, titleMenuId: MenuId.SCMSourceControlTitle }, keybindingService, contextMenuService, configurationService, contextKeyService, viewDescriptorService, instantiationService, openerService, themeService, hoverService);\n\n\t\tthis.visibleCountObs = observableConfigValue('scm.repositories.visible', 10, this.configurationService);\n\t\tthis.providerCountBadgeObs = observableConfigValue<'hidden' | 'auto' | 'visible'>('scm.providerCountBadge', 'hidden', this.configurationService);\n\n\t\tthis._register(this.updateChildrenThrottler);\n\t}\n\n\tprotected override renderBody(container: HTMLElement): void {\n\t\tsuper.renderBody(container);\n\n\t\tconst treeContainer = append(container, $('.scm-view.scm-repositories-view'));\n\n\t\t// scm.providerCountBadge setting\n\t\tthis._register(autorun(reader => {\n\t\t\tconst providerCountBadge = this.providerCountBadgeObs.read(reader);\n\t\t\ttreeContainer.classList.toggle('hide-provider-counts', providerCountBadge === 'hidden');\n\t\t\ttreeContainer.classList.toggle('auto-provider-counts', providerCountBadge === 'auto');\n\t\t}));\n\n\t\tthis.createTree(treeContainer);\n\n\t\tthis.onDidChangeBodyVisibility(async visible => {\n\t\t\tif (!visible) {\n\t\t\t\tthis.visibilityDisposables.clear();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.treeOperationSequencer.queue(async () => {\n\t\t\t\t// Initial rendering\n\t\t\t\tawait this.tree.setInput(this.scmViewService);\n\n\t\t\t\t// scm.repositories.visible setting\n\t\t\t\tthis.visibilityDisposables.add(autorun(reader => {\n\t\t\t\t\tconst visibleCount = this.visibleCountObs.read(reader);\n\t\t\t\t\tthis.updateBodySize(this.tree.contentHeight, visibleCount);\n\t\t\t\t}));\n\n\t\t\t\t// scm.repositories.explorer setting\n\t\t\t\tthis.visibilityDisposables.add(runOnChange(this.scmViewService.explorerEnabledConfig, async () => {\n\t\t\t\t\tawait this.updateChildren();\n\t\t\t\t\tthis.updateBodySize(this.tree.contentHeight);\n\n\t\t\t\t\t// If we only have one repository, expand it\n\t\t\t\t\tif (this.scmViewService.repositories.length === 1) {\n\t\t\t\t\t\tawait this.treeOperationSequencer.queue(() =>\n\t\t\t\t\t\t\tthis.tree.expand(this.scmViewService.repositories[0]));\n\t\t\t\t\t}\n\t\t\t\t}));\n\n\t\t\t\t// Update tree selection\n\t\t\t\tconst onDidChangeVisibleRepositoriesSignal = observableSignalFromEvent(\n\t\t\t\t\tthis, this.scmViewService.onDidChangeVisibleRepositories);\n\n\t\t\t\tthis.visibilityDisposables.add(autorun(async reader => {\n\t\t\t\t\tonDidChangeVisibleRepositoriesSignal.read(reader);\n\t\t\t\t\tawait this.treeOperationSequencer.queue(() => this.updateTreeSelection());\n\t\t\t\t}));\n\n\t\t\t\t// Add/Remove event handlers\n\t\t\t\tthis.scmService.onDidAddRepository(this.onDidAddRepository, this, this.visibilityDisposables);\n\t\t\t\tthis.scmService.onDidRemoveRepository(this.onDidRemoveRepository, this, this.visibilityDisposables);\n\t\t\t\tfor (const repository of this.scmService.repositories) {\n\t\t\t\t\tthis.onDidAddRepository(repository);\n\t\t\t\t}\n\t\t\t});\n\t\t}, this, this._store);\n\t}\n\n\tprotected override layoutBody(height: number, width: number): void {\n\t\tsuper.layoutBody(height, width);\n\t\tthis.tree.layout(height, width);\n\t}\n\n\toverride focus(): void {\n\t\tsuper.focus();\n\t\tthis.tree.domFocus();\n\t}\n\n\tprivate createTree(container: HTMLElement): void {\n\t\tthis.treeIdentityProvider = new RepositoryTreeIdentityProvider();\n\t\tthis.treeDataSource = this.instantiationService.createInstance(RepositoryTreeDataSource);\n\t\tthis._register(this.treeDataSource);\n\n\t\tthis.tree = this.instantiationService.createInstance(\n\t\t\tWorkbenchCompressibleAsyncDataTree,\n\t\t\t'SCM Repositories',\n\t\t\tcontainer,\n\t\t\tnew ListDelegate(),\n\t\t\tnew RepositoriesTreeCompressionDelegate(),\n\t\t\t[\n\t\t\t\tthis.instantiationService.createInstance(RepositoryRenderer, MenuId.SCMSourceControlInline, getActionViewItemProvider(this.instantiationService)),\n\t\t\t\tthis.instantiationService.createInstance(ArtifactGroupRenderer),\n\t\t\t\tthis.instantiationService.createInstance(ArtifactRenderer)\n\t\t\t],\n\t\t\tthis.treeDataSource,\n\t\t\t{\n\t\t\t\tidentityProvider: this.treeIdentityProvider,\n\t\t\t\thorizontalScrolling: false,\n\t\t\t\tcollapseByDefault: (e: unknown) => {\n\t\t\t\t\tif (this.scmViewService.explorerEnabledConfig.get() === false) {\n\t\t\t\t\t\tif (isSCMRepository(e) && e.provider.parentId === undefined) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Explorer mode\n\t\t\t\t\tif (isSCMArtifactNode(e)) {\n\t\t\t\t\t\t// Only expand artifact folders as they are compressed by default\n\t\t\t\t\t\treturn !(e.childrenCount === 1 && Iterable.first(e.children)?.element === undefined);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcompressionEnabled: true,\n\t\t\t\toverrideStyles: this.getLocationBasedColors().listOverrideStyles,\n\t\t\t\tmultipleSelectionSupport: this.scmViewService.selectionModeConfig.get() === 'multiple',\n\t\t\t\texpandOnDoubleClick: true,\n\t\t\t\texpandOnlyOnTwistieClick: true,\n\t\t\t\taccessibilityProvider: {\n\t\t\t\t\tgetAriaLabel(element: TreeElement): string {\n\t\t\t\t\t\tif (isSCMRepository(element)) {\n\t\t\t\t\t\t\treturn element.provider.label;\n\t\t\t\t\t\t} else if (isSCMArtifactGroupTreeElement(element)) {\n\t\t\t\t\t\t\treturn element.artifactGroup.name;\n\t\t\t\t\t\t} else if (isSCMArtifactTreeElement(element)) {\n\t\t\t\t\t\t\treturn element.artifact.name;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn '';\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tgetWidgetAriaLabel() {\n\t\t\t\t\t\treturn localize('scm', \"Source Control Repositories\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t) as WorkbenchCompressibleAsyncDataTree<ISCMViewService, TreeElement>;\n\t\tthis._register(this.tree);\n\n\t\tthis._register(autorun(reader => {\n\t\t\tconst selectionMode = this.scmViewService.selectionModeConfig.read(reader);\n\t\t\tthis.tree.updateOptions({ multipleSelectionSupport: selectionMode === 'multiple' });\n\t\t}));\n\n\t\tthis._register(this.tree.onDidChangeSelection(this.onTreeSelectionChange, this));\n\t\tthis._register(this.tree.onDidChangeFocus(this.onTreeDidChangeFocus, this));\n\t\tthis._register(this.tree.onDidFocus(this.onDidTreeFocus, this));\n\t\tthis._register(this.tree.onContextMenu(this.onTreeContextMenu, this));\n\t\tthis._register(this.tree.onDidChangeContentHeight(this.onTreeContentHeightChange, this));\n\t}\n\n\tprivate async onDidAddRepository(repository: ISCMRepository): Promise<void> {\n\t\tconst disposables = new DisposableStore();\n\n\t\t// Artifact group changed\n\t\tdisposables.add(autorun(async reader => {\n\t\t\tconst explorerEnabled = this.scmViewService.explorerEnabledConfig.read(reader);\n\t\t\tconst artifactsProvider = repository.provider.artifactProvider.read(reader);\n\t\t\tif (!explorerEnabled || !artifactsProvider) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\treader.store.add(artifactsProvider.onDidChangeArtifacts(async groups => {\n\t\t\t\tawait this.updateRepository(repository);\n\t\t\t}));\n\t\t}));\n\n\t\t// HistoryItemRef changed\n\t\tdisposables.add(autorun(async reader => {\n\t\t\tconst historyProvider = repository.provider.historyProvider.read(reader);\n\t\t\tif (!historyProvider) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\treader.store.add(runOnChange(historyProvider.historyItemRef, async () => {\n\t\t\t\tawait this.updateRepository(repository);\n\t\t\t}));\n\t\t}));\n\n\t\tawait this.updateRepository(repository);\n\t\tthis.repositoryDisposables.set(repository, disposables);\n\t}\n\n\tprivate async onDidRemoveRepository(repository: ISCMRepository): Promise<void> {\n\t\tawait this.updateRepository(repository);\n\t\tthis.repositoryDisposables.deleteAndDispose(repository);\n\t}\n\n\tprivate onTreeContextMenu(e: ITreeContextMenuEvent<TreeElement>): void {\n\t\tif (!e.element) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (isSCMRepository(e.element)) {\n\t\t\t// Repository\n\t\t\tconst provider = e.element.provider;\n\t\t\tconst menus = this.scmViewService.menus.getRepositoryMenus(provider);\n\t\t\tconst menu = menus.getRepositoryContextMenu(e.element);\n\t\t\tconst actions = collectContextMenuActions(menu);\n\n\t\t\tconst disposables = new DisposableStore();\n\t\t\tconst actionRunner = new RepositoryActionRunner(() => {\n\t\t\t\treturn this.getTreeSelection();\n\t\t\t});\n\t\t\tdisposables.add(actionRunner);\n\t\t\tdisposables.add(actionRunner.onWillRun(() => this.tree.domFocus()));\n\n\t\t\tthis.contextMenuService.showContextMenu({\n\t\t\t\tactionRunner,\n\t\t\t\tgetAnchor: () => e.anchor,\n\t\t\t\tgetActions: () => actions,\n\t\t\t\tgetActionsContext: () => provider,\n\t\t\t\tonHide: () => disposables.dispose()\n\t\t\t});\n\t\t} else if (isSCMArtifactTreeElement(e.element)) {\n\t\t\t// Artifact\n\t\t\tconst provider = e.element.repository.provider;\n\t\t\tconst artifact = e.element.artifact;\n\n\t\t\tconst menus = this.scmViewService.menus.getRepositoryMenus(provider);\n\t\t\tconst menu = menus.getArtifactMenu(e.element.group, artifact);\n\t\t\tconst actions = collectContextMenuActions(menu, provider);\n\n\t\t\tthis.contextMenuService.showContextMenu({\n\t\t\t\tgetAnchor: () => e.anchor,\n\t\t\t\tgetActions: () => actions,\n\t\t\t\tgetActionsContext: () => artifact\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate onTreeSelectionChange(e: ITreeEvent<TreeElement>): void {\n\t\tif (e.browserEvent && e.elements.length > 0) {\n\t\t\tconst scrollTop = this.tree.scrollTop;\n\n\t\t\tif (e.elements.every(e => isSCMRepository(e))) {\n\t\t\t\tthis.scmViewService.visibleRepositories = e.elements;\n\t\t\t} else if (e.elements.every(e => isSCMArtifactGroupTreeElement(e) || isSCMArtifactTreeElement(e))) {\n\t\t\t\tthis.scmViewService.visibleRepositories = e.elements.map(e => e.repository);\n\t\t\t}\n\n\t\t\tthis.tree.scrollTop = scrollTop;\n\t\t}\n\t}\n\n\tprivate onTreeDidChangeFocus(e: ITreeEvent<TreeElement>): void {\n\t\tif (e.browserEvent && e.elements.length > 0) {\n\t\t\tif (isSCMRepository(e.elements[0])) {\n\t\t\t\tthis.scmViewService.focus(e.elements[0]);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate onDidTreeFocus(): void {\n\t\tconst focused = this.tree.getFocus();\n\t\tif (focused.length > 0) {\n\t\t\tif (isSCMRepository(focused[0])) {\n\t\t\t\tthis.scmViewService.focus(focused[0]);\n\t\t\t} else if (isSCMArtifactGroupTreeElement(focused[0]) || isSCMArtifactTreeElement(focused[0])) {\n\t\t\t\tthis.scmViewService.focus(focused[0].repository);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate onTreeContentHeightChange(height: number): void {\n\t\tthis.updateBodySize(height);\n\n\t\t// Refresh the selection\n\t\tthis.treeOperationSequencer.queue(() => this.updateTreeSelection());\n\t}\n\n\tprivate async updateChildren(element?: TreeElement): Promise<void> {\n\t\treturn this.updateChildrenThrottler.queue(\n\t\t\t() => this.treeOperationSequencer.queue(async () => {\n\t\t\t\tif (element && this.tree.hasNode(element)) {\n\t\t\t\t\tawait this.tree.updateChildren(element, true);\n\t\t\t\t} else {\n\t\t\t\t\tawait this.tree.updateChildren(undefined, true);\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t}\n\n\tprivate async expand(element: TreeElement): Promise<void> {\n\t\tawait this.treeOperationSequencer.queue(() => this.tree.expand(element, true));\n\t}\n\n\tprivate async updateRepository(repository: ISCMRepository): Promise<void> {\n\t\tif (this.scmViewService.explorerEnabledConfig.get() === false) {\n\t\t\tif (repository.provider.parentId === undefined) {\n\t\t\t\tawait this.updateChildren();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tawait this.updateParentRepository(repository);\n\t\t}\n\n\t\t// Explorer mode\n\t\tawait this.updateChildren();\n\t}\n\n\tprivate async updateParentRepository(repository: ISCMRepository): Promise<void> {\n\t\tconst parentRepository = this.scmViewService.repositories\n\t\t\t.find(r => r.provider.id === repository.provider.parentId);\n\t\tif (!parentRepository) {\n\t\t\treturn;\n\t\t}\n\n\t\tawait this.updateChildren(parentRepository);\n\t\tawait this.expand(parentRepository);\n\t}\n\n\tprivate updateBodySize(contentHeight: number, visibleCount?: number): void {\n\t\tif (this.orientation === Orientation.HORIZONTAL) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.scmViewService.explorerEnabledConfig.get() === false) {\n\t\t\tvisibleCount = visibleCount ?? this.visibleCountObs.get();\n\t\t\tconst empty = this.scmViewService.repositories.length === 0;\n\t\t\tconst size = Math.min(contentHeight / 22, visibleCount) * 22;\n\n\t\t\tthis.minimumBodySize = visibleCount === 0 ? 22 : size;\n\t\t\tthis.maximumBodySize = visibleCount === 0 ? Number.POSITIVE_INFINITY : empty ? Number.POSITIVE_INFINITY : size;\n\t\t} else {\n\t\t\tthis.minimumBodySize = 120;\n\t\t\tthis.maximumBodySize = Number.POSITIVE_INFINITY;\n\t\t}\n\t}\n\n\tprivate async updateTreeSelection(): Promise<void> {\n\t\tconst oldSelection = this.getTreeSelection();\n\t\tconst oldSet = new Set(oldSelection);\n\n\t\tconst set = new Set(this.scmViewService.visibleRepositories);\n\t\tconst added = new Set(Iterable.filter(set, r => !oldSet.has(r)));\n\t\tconst removed = new Set(Iterable.filter(oldSet, r => !set.has(r)));\n\n\t\tif (added.size === 0 && removed.size === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst selection = oldSelection.filter(repo => !removed.has(repo));\n\n\t\tfor (const repo of this.scmViewService.repositories) {\n\t\t\tif (added.has(repo)) {\n\t\t\t\tselection.push(repo);\n\t\t\t}\n\t\t}\n\n\t\tconst visibleSelection = selection\n\t\t\t.filter(s => this.tree.hasNode(s));\n\n\t\tthis.tree.setSelection(visibleSelection);\n\n\t\tif (visibleSelection.length > 0 && !this.tree.getFocus().includes(visibleSelection[0])) {\n\t\t\tthis.tree.setAnchor(visibleSelection[0]);\n\t\t\tthis.tree.setFocus([visibleSelection[0]]);\n\t\t}\n\t}\n\n\tprivate getTreeSelection(): ISCMRepository[] {\n\t\treturn this.tree.getSelection()\n\t\t\t.map(e => {\n\t\t\t\tif (isSCMRepository(e)) {\n\t\t\t\t\treturn e;\n\t\t\t\t} else if (isSCMArtifactGroupTreeElement(e) || isSCMArtifactTreeElement(e)) {\n\t\t\t\t\treturn e.repository;\n\t\t\t\t} else if (isSCMArtifactNode(e)) {\n\t\t\t\t\treturn e.context.repository;\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error('Invalid tree element');\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\toverride dispose(): void {\n\t\tthis.visibilityDisposables.dispose();\n\t\tsuper.dispose();\n\t}\n}\n"]}