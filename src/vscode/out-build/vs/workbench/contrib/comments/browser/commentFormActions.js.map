{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/comments/browser/commentFormActions.ts","vs/workbench/contrib/comments/browser/commentFormActions.ts"],"names":[],"mappings":"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","file":"commentFormActions.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Button, ButtonWithDropdown } from '../../../../base/browser/ui/button/button.js';\nimport { ActionRunner, IAction } from '../../../../base/common/actions.js';\nimport { DisposableStore, IDisposable } from '../../../../base/common/lifecycle.js';\nimport { IMenu, SubmenuItemAction } from '../../../../platform/actions/common/actions.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { defaultButtonStyles } from '../../../../platform/theme/browser/defaultStyles.js';\nimport { CommentCommandId } from '../common/commentCommandIds.js';\n\nexport class CommentFormActions implements IDisposable {\n\tprivate _buttonElements: HTMLElement[] = [];\n\tprivate readonly _toDispose = new DisposableStore();\n\tprivate _actions: IAction[] = [];\n\n\tconstructor(\n\t\tprivate readonly keybindingService: IKeybindingService,\n\t\tprivate readonly contextKeyService: IContextKeyService,\n\t\tprivate readonly contextMenuService: IContextMenuService,\n\t\tprivate container: HTMLElement,\n\t\tprivate actionHandler: (action: IAction) => void,\n\t\tprivate readonly maxActions?: number,\n\t\tprivate readonly supportDropdowns?: boolean,\n\t) { }\n\n\tsetActions(menu: IMenu, hasOnlySecondaryActions: boolean = false) {\n\t\tthis._toDispose.clear();\n\n\t\tthis._buttonElements.forEach(b => b.remove());\n\t\tthis._buttonElements = [];\n\n\t\tconst groups = menu.getActions({ shouldForwardArgs: true });\n\t\tlet isPrimary: boolean = !hasOnlySecondaryActions;\n\t\tfor (const group of groups) {\n\t\t\tconst [, actions] = group;\n\n\t\t\tthis._actions = actions;\n\t\t\tfor (const current of actions) {\n\t\t\t\tconst dropDownActions = this.supportDropdowns && current instanceof SubmenuItemAction ? current.actions : [];\n\t\t\t\tconst action = dropDownActions.length ? dropDownActions[0] : current;\n\t\t\t\tlet keybinding = this.keybindingService.lookupKeybinding(action.id, this.contextKeyService)?.getLabel();\n\t\t\t\tif (!keybinding && isPrimary) {\n\t\t\t\t\tkeybinding = this.keybindingService.lookupKeybinding(CommentCommandId.Submit, this.contextKeyService)?.getLabel();\n\t\t\t\t}\n\t\t\t\tconst title = keybinding ? `${action.label} (${keybinding})` : action.label;\n\t\t\t\tconst actionHandler = this.actionHandler;\n\t\t\t\tconst button = dropDownActions.length ? new ButtonWithDropdown(this.container, {\n\t\t\t\t\tcontextMenuProvider: this.contextMenuService,\n\t\t\t\t\tactions: dropDownActions,\n\t\t\t\t\tactionRunner: this._toDispose.add(new class extends ActionRunner {\n\t\t\t\t\t\tprotected override async runAction(action: IAction, context?: unknown): Promise<void> {\n\t\t\t\t\t\t\treturn actionHandler(action);\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t\tsecondary: !isPrimary,\n\t\t\t\t\ttitle,\n\t\t\t\t\taddPrimaryActionToDropdown: false,\n\t\t\t\t\t...defaultButtonStyles\n\t\t\t\t}) : new Button(this.container, { secondary: !isPrimary, title, ...defaultButtonStyles });\n\n\t\t\t\tisPrimary = false;\n\t\t\t\tthis._buttonElements.push(button.element);\n\n\t\t\t\tthis._toDispose.add(button);\n\t\t\t\tthis._toDispose.add(button.onDidClick(() => this.actionHandler(action)));\n\n\t\t\t\tbutton.enabled = action.enabled;\n\t\t\t\tbutton.label = action.label;\n\t\t\t\tif ((this.maxActions !== undefined) && (this._buttonElements.length >= this.maxActions)) {\n\t\t\t\t\tconsole.warn(`An extension has contributed more than the allowable number of actions to a comments menu.`);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\ttriggerDefaultAction() {\n\t\tif (this._actions.length) {\n\t\t\tconst lastAction = this._actions[0];\n\n\t\t\tif (lastAction.enabled) {\n\t\t\t\treturn this.actionHandler(lastAction);\n\t\t\t}\n\t\t}\n\t}\n\n\tdispose() {\n\t\tthis._toDispose.dispose();\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Button, ButtonWithDropdown } from '../../../../base/browser/ui/button/button.js';\nimport { ActionRunner, IAction } from '../../../../base/common/actions.js';\nimport { DisposableStore, IDisposable } from '../../../../base/common/lifecycle.js';\nimport { IMenu, SubmenuItemAction } from '../../../../platform/actions/common/actions.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { defaultButtonStyles } from '../../../../platform/theme/browser/defaultStyles.js';\nimport { CommentCommandId } from '../common/commentCommandIds.js';\n\nexport class CommentFormActions implements IDisposable {\n\tprivate _buttonElements: HTMLElement[] = [];\n\tprivate readonly _toDispose = new DisposableStore();\n\tprivate _actions: IAction[] = [];\n\n\tconstructor(\n\t\tprivate readonly keybindingService: IKeybindingService,\n\t\tprivate readonly contextKeyService: IContextKeyService,\n\t\tprivate readonly contextMenuService: IContextMenuService,\n\t\tprivate container: HTMLElement,\n\t\tprivate actionHandler: (action: IAction) => void,\n\t\tprivate readonly maxActions?: number,\n\t\tprivate readonly supportDropdowns?: boolean,\n\t) { }\n\n\tsetActions(menu: IMenu, hasOnlySecondaryActions: boolean = false) {\n\t\tthis._toDispose.clear();\n\n\t\tthis._buttonElements.forEach(b => b.remove());\n\t\tthis._buttonElements = [];\n\n\t\tconst groups = menu.getActions({ shouldForwardArgs: true });\n\t\tlet isPrimary: boolean = !hasOnlySecondaryActions;\n\t\tfor (const group of groups) {\n\t\t\tconst [, actions] = group;\n\n\t\t\tthis._actions = actions;\n\t\t\tfor (const current of actions) {\n\t\t\t\tconst dropDownActions = this.supportDropdowns && current instanceof SubmenuItemAction ? current.actions : [];\n\t\t\t\tconst action = dropDownActions.length ? dropDownActions[0] : current;\n\t\t\t\tlet keybinding = this.keybindingService.lookupKeybinding(action.id, this.contextKeyService)?.getLabel();\n\t\t\t\tif (!keybinding && isPrimary) {\n\t\t\t\t\tkeybinding = this.keybindingService.lookupKeybinding(CommentCommandId.Submit, this.contextKeyService)?.getLabel();\n\t\t\t\t}\n\t\t\t\tconst title = keybinding ? `${action.label} (${keybinding})` : action.label;\n\t\t\t\tconst actionHandler = this.actionHandler;\n\t\t\t\tconst button = dropDownActions.length ? new ButtonWithDropdown(this.container, {\n\t\t\t\t\tcontextMenuProvider: this.contextMenuService,\n\t\t\t\t\tactions: dropDownActions,\n\t\t\t\t\tactionRunner: this._toDispose.add(new class extends ActionRunner {\n\t\t\t\t\t\tprotected override async runAction(action: IAction, context?: unknown): Promise<void> {\n\t\t\t\t\t\t\treturn actionHandler(action);\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t\tsecondary: !isPrimary,\n\t\t\t\t\ttitle,\n\t\t\t\t\taddPrimaryActionToDropdown: false,\n\t\t\t\t\t...defaultButtonStyles\n\t\t\t\t}) : new Button(this.container, { secondary: !isPrimary, title, ...defaultButtonStyles });\n\n\t\t\t\tisPrimary = false;\n\t\t\t\tthis._buttonElements.push(button.element);\n\n\t\t\t\tthis._toDispose.add(button);\n\t\t\t\tthis._toDispose.add(button.onDidClick(() => this.actionHandler(action)));\n\n\t\t\t\tbutton.enabled = action.enabled;\n\t\t\t\tbutton.label = action.label;\n\t\t\t\tif ((this.maxActions !== undefined) && (this._buttonElements.length >= this.maxActions)) {\n\t\t\t\t\tconsole.warn(`An extension has contributed more than the allowable number of actions to a comments menu.`);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\ttriggerDefaultAction() {\n\t\tif (this._actions.length) {\n\t\t\tconst lastAction = this._actions[0];\n\n\t\t\tif (lastAction.enabled) {\n\t\t\t\treturn this.actionHandler(lastAction);\n\t\t\t}\n\t\t}\n\t}\n\n\tdispose() {\n\t\tthis._toDispose.dispose();\n\t}\n}\n"]}