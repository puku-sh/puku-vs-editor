{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/comments/browser/timestamp.ts","vs/workbench/contrib/comments/browser/timestamp.ts"],"names":[],"mappings":"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","file":"timestamp.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../base/browser/dom.js';\nimport type { IManagedHover } from '../../../../base/browser/ui/hover/hover.js';\nimport { getDefaultHoverDelegate } from '../../../../base/browser/ui/hover/hoverDelegateFactory.js';\nimport { fromNow } from '../../../../base/common/date.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { language } from '../../../../base/common/platform.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport type { IHoverService } from '../../../../platform/hover/browser/hover.js';\nimport { COMMENTS_SECTION, ICommentsConfiguration } from '../common/commentsConfiguration.js';\n\nexport class TimestampWidget extends Disposable {\n\tprivate _date: HTMLElement;\n\tprivate _timestamp: Date | undefined;\n\tprivate _useRelativeTime: boolean;\n\n\tprivate hover: IManagedHover;\n\n\tconstructor(\n\t\tprivate configurationService: IConfigurationService,\n\t\thoverService: IHoverService,\n\t\tcontainer: HTMLElement,\n\t\ttimeStamp?: Date\n\t) {\n\t\tsuper();\n\t\tthis._date = dom.append(container, dom.$('span.timestamp'));\n\t\tthis._date.style.display = 'none';\n\t\tthis._useRelativeTime = this.useRelativeTimeSetting;\n\t\tthis.hover = this._register(hoverService.setupManagedHover(getDefaultHoverDelegate('mouse'), this._date, ''));\n\t\tthis.setTimestamp(timeStamp);\n\t}\n\n\tprivate get useRelativeTimeSetting(): boolean {\n\t\treturn this.configurationService.getValue<ICommentsConfiguration>(COMMENTS_SECTION).useRelativeTime;\n\t}\n\n\tpublic async setTimestamp(timestamp: Date | undefined) {\n\t\tif ((timestamp !== this._timestamp) || (this.useRelativeTimeSetting !== this._useRelativeTime)) {\n\t\t\tthis.updateDate(timestamp);\n\t\t}\n\t\tthis._timestamp = timestamp;\n\t\tthis._useRelativeTime = this.useRelativeTimeSetting;\n\t}\n\n\tprivate updateDate(timestamp?: Date) {\n\t\tif (!timestamp) {\n\t\t\tthis._date.textContent = '';\n\t\t\tthis._date.style.display = 'none';\n\t\t} else if ((timestamp !== this._timestamp)\n\t\t\t|| (this.useRelativeTimeSetting !== this._useRelativeTime)) {\n\t\t\tthis._date.style.display = '';\n\t\t\tlet textContent: string;\n\t\t\tlet tooltip: string | undefined;\n\t\t\tif (this.useRelativeTimeSetting) {\n\t\t\t\ttextContent = this.getRelative(timestamp);\n\t\t\t\ttooltip = this.getDateString(timestamp);\n\t\t\t} else {\n\t\t\t\ttextContent = this.getDateString(timestamp);\n\t\t\t}\n\n\t\t\tthis._date.textContent = textContent;\n\t\t\tthis.hover.update(tooltip ?? '');\n\t\t}\n\t}\n\n\tprivate getRelative(date: Date): string {\n\t\treturn fromNow(date, true, true);\n\t}\n\n\tprivate getDateString(date: Date): string {\n\t\treturn date.toLocaleString(language);\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../base/browser/dom.js';\nimport type { IManagedHover } from '../../../../base/browser/ui/hover/hover.js';\nimport { getDefaultHoverDelegate } from '../../../../base/browser/ui/hover/hoverDelegateFactory.js';\nimport { fromNow } from '../../../../base/common/date.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { language } from '../../../../base/common/platform.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport type { IHoverService } from '../../../../platform/hover/browser/hover.js';\nimport { COMMENTS_SECTION, ICommentsConfiguration } from '../common/commentsConfiguration.js';\n\nexport class TimestampWidget extends Disposable {\n\tprivate _date: HTMLElement;\n\tprivate _timestamp: Date | undefined;\n\tprivate _useRelativeTime: boolean;\n\n\tprivate hover: IManagedHover;\n\n\tconstructor(\n\t\tprivate configurationService: IConfigurationService,\n\t\thoverService: IHoverService,\n\t\tcontainer: HTMLElement,\n\t\ttimeStamp?: Date\n\t) {\n\t\tsuper();\n\t\tthis._date = dom.append(container, dom.$('span.timestamp'));\n\t\tthis._date.style.display = 'none';\n\t\tthis._useRelativeTime = this.useRelativeTimeSetting;\n\t\tthis.hover = this._register(hoverService.setupManagedHover(getDefaultHoverDelegate('mouse'), this._date, ''));\n\t\tthis.setTimestamp(timeStamp);\n\t}\n\n\tprivate get useRelativeTimeSetting(): boolean {\n\t\treturn this.configurationService.getValue<ICommentsConfiguration>(COMMENTS_SECTION).useRelativeTime;\n\t}\n\n\tpublic async setTimestamp(timestamp: Date | undefined) {\n\t\tif ((timestamp !== this._timestamp) || (this.useRelativeTimeSetting !== this._useRelativeTime)) {\n\t\t\tthis.updateDate(timestamp);\n\t\t}\n\t\tthis._timestamp = timestamp;\n\t\tthis._useRelativeTime = this.useRelativeTimeSetting;\n\t}\n\n\tprivate updateDate(timestamp?: Date) {\n\t\tif (!timestamp) {\n\t\t\tthis._date.textContent = '';\n\t\t\tthis._date.style.display = 'none';\n\t\t} else if ((timestamp !== this._timestamp)\n\t\t\t|| (this.useRelativeTimeSetting !== this._useRelativeTime)) {\n\t\t\tthis._date.style.display = '';\n\t\t\tlet textContent: string;\n\t\t\tlet tooltip: string | undefined;\n\t\t\tif (this.useRelativeTimeSetting) {\n\t\t\t\ttextContent = this.getRelative(timestamp);\n\t\t\t\ttooltip = this.getDateString(timestamp);\n\t\t\t} else {\n\t\t\t\ttextContent = this.getDateString(timestamp);\n\t\t\t}\n\n\t\t\tthis._date.textContent = textContent;\n\t\t\tthis.hover.update(tooltip ?? '');\n\t\t}\n\t}\n\n\tprivate getRelative(date: Date): string {\n\t\treturn fromNow(date, true, true);\n\t}\n\n\tprivate getDateString(date: Date): string {\n\t\treturn date.toLocaleString(language);\n\t}\n}\n"]}