{"version":3,"sources":["vs/workbench/contrib/comments/browser/commentsEditorContribution.ts"],"names":[],"mappings":"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","file":"commentsEditorContribution.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { KeyChord, KeyCode, KeyMod } from '../../../../base/common/keyCodes.js';\nimport './media/review.css';\nimport { IActiveCodeEditor, isCodeEditor, isDiffEditor } from '../../../../editor/browser/editorBrowser.js';\nimport { EditorContributionInstantiation, registerEditorContribution } from '../../../../editor/browser/editorExtensions.js';\nimport { ICodeEditorService } from '../../../../editor/browser/services/codeEditorService.js';\nimport * as nls from '../../../../nls.js';\nimport { ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { KeybindingsRegistry, KeybindingWeight } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { ICommentService } from './commentService.js';\nimport { ctxCommentEditorFocused, SimpleCommentEditor } from './simpleCommentEditor.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { Action2, MenuId, registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { EditorContextKeys } from '../../../../editor/common/editorContextKeys.js';\nimport { CommentController, ID } from './commentsController.js';\nimport { IRange, Range } from '../../../../editor/common/core/range.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nimport { CommentContextKeys } from '../common/commentContextKeys.js';\nimport { CONTEXT_ACCESSIBILITY_MODE_ENABLED } from '../../../../platform/accessibility/common/accessibility.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { accessibilityHelpIsShown, accessibleViewCurrentProviderId } from '../../accessibility/browser/accessibilityConfiguration.js';\nimport { CommentCommandId } from '../common/commentCommandIds.js';\nimport { registerWorkbenchContribution2, WorkbenchPhase } from '../../../common/contributions.js';\nimport { CommentsInputContentProvider } from './commentsInputContentProvider.js';\nimport { AccessibleViewProviderId } from '../../../../platform/accessibility/browser/accessibleView.js';\nimport { CommentWidgetFocus } from './commentThreadZoneWidget.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\n\nregisterEditorContribution(ID, CommentController, EditorContributionInstantiation.AfterFirstRender);\nregisterWorkbenchContribution2(CommentsInputContentProvider.ID, CommentsInputContentProvider, WorkbenchPhase.BlockRestore);\n\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: CommentCommandId.NextThread,\n\thandler: async (accessor, args?: { range: IRange; fileComment: boolean }) => {\n\t\tconst activeEditor = getActiveEditor(accessor);\n\t\tif (!activeEditor) {\n\t\t\treturn Promise.resolve();\n\t\t}\n\n\t\tconst controller = CommentController.get(activeEditor);\n\t\tif (!controller) {\n\t\t\treturn Promise.resolve();\n\t\t}\n\t\tcontroller.nextCommentThread(true);\n\t},\n\tweight: KeybindingWeight.EditorContrib,\n\tprimary: KeyMod.Alt | KeyCode.F9,\n});\n\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: CommentCommandId.PreviousThread,\n\thandler: async (accessor, args?: { range: IRange; fileComment: boolean }) => {\n\t\tconst activeEditor = getActiveEditor(accessor);\n\t\tif (!activeEditor) {\n\t\t\treturn Promise.resolve();\n\t\t}\n\n\t\tconst controller = CommentController.get(activeEditor);\n\t\tif (!controller) {\n\t\t\treturn Promise.resolve();\n\t\t}\n\t\tcontroller.previousCommentThread(true);\n\t},\n\tweight: KeybindingWeight.EditorContrib,\n\tprimary: KeyMod.Shift | KeyMod.Alt | KeyCode.F9\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: CommentCommandId.NextCommentedRange,\n\t\t\ttitle: {\n\t\t\t\tvalue: nls.localize('comments.NextCommentedRange', \"Go to Next Commented Range\"),\n\t\t\t\toriginal: 'Go to Next Commented Range'\n\t\t\t},\n\t\t\tcategory: {\n\t\t\t\tvalue: nls.localize('commentsCategory', \"Comments\"),\n\t\t\t\toriginal: 'Comments'\n\t\t\t},\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.CommandPalette,\n\t\t\t\twhen: CommentContextKeys.activeEditorHasCommentingRange\n\t\t\t}],\n\t\t\tkeybinding: {\n\t\t\t\tprimary: KeyMod.Alt | KeyCode.F10,\n\t\t\t\tweight: KeybindingWeight.EditorContrib,\n\t\t\t\twhen: CommentContextKeys.activeEditorHasCommentingRange\n\t\t\t}\n\t\t});\n\t}\n\toverride run(accessor: ServicesAccessor, ...args: unknown[]): void {\n\t\tconst activeEditor = getActiveEditor(accessor);\n\t\tif (!activeEditor) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst controller = CommentController.get(activeEditor);\n\t\tif (!controller) {\n\t\t\treturn;\n\t\t}\n\t\tcontroller.nextCommentThread(false);\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: CommentCommandId.PreviousCommentedRange,\n\t\t\ttitle: {\n\t\t\t\tvalue: nls.localize('comments.previousCommentedRange', \"Go to Previous Commented Range\"),\n\t\t\t\toriginal: 'Go to Previous Commented Range'\n\t\t\t},\n\t\t\tcategory: {\n\t\t\t\tvalue: nls.localize('commentsCategory', \"Comments\"),\n\t\t\t\toriginal: 'Comments'\n\t\t\t},\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.CommandPalette,\n\t\t\t\twhen: CommentContextKeys.activeEditorHasCommentingRange\n\t\t\t}],\n\t\t\tkeybinding: {\n\t\t\t\tprimary: KeyMod.Shift | KeyMod.Alt | KeyCode.F10,\n\t\t\t\tweight: KeybindingWeight.EditorContrib,\n\t\t\t\twhen: CommentContextKeys.activeEditorHasCommentingRange\n\t\t\t}\n\t\t});\n\t}\n\toverride run(accessor: ServicesAccessor, ...args: unknown[]): void {\n\t\tconst activeEditor = getActiveEditor(accessor);\n\t\tif (!activeEditor) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst controller = CommentController.get(activeEditor);\n\t\tif (!controller) {\n\t\t\treturn;\n\t\t}\n\t\tcontroller.previousCommentThread(false);\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: CommentCommandId.NextRange,\n\t\t\ttitle: {\n\t\t\t\tvalue: nls.localize('comments.nextCommentingRange', \"Go to Next Commenting Range\"),\n\t\t\t\toriginal: 'Go to Next Commenting Range'\n\t\t\t},\n\t\t\tcategory: {\n\t\t\t\tvalue: nls.localize('commentsCategory', \"Comments\"),\n\t\t\t\toriginal: 'Comments'\n\t\t\t},\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.CommandPalette,\n\t\t\t\twhen: CommentContextKeys.activeEditorHasCommentingRange\n\t\t\t}],\n\t\t\tkeybinding: {\n\t\t\t\tprimary: KeyChord(KeyMod.CtrlCmd | KeyCode.KeyK, KeyMod.CtrlCmd | KeyMod.Alt | KeyCode.DownArrow),\n\t\t\t\tweight: KeybindingWeight.EditorContrib,\n\t\t\t\twhen: ContextKeyExpr.and(CONTEXT_ACCESSIBILITY_MODE_ENABLED, ContextKeyExpr.or(EditorContextKeys.focus, CommentContextKeys.commentFocused, ContextKeyExpr.and(accessibilityHelpIsShown, accessibleViewCurrentProviderId.isEqualTo(AccessibleViewProviderId.Comments))))\n\t\t\t}\n\t\t});\n\t}\n\n\toverride run(accessor: ServicesAccessor, args?: { range: IRange; fileComment: boolean }): void {\n\t\tconst activeEditor = getActiveEditor(accessor);\n\t\tif (!activeEditor) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst controller = CommentController.get(activeEditor);\n\t\tif (!controller) {\n\t\t\treturn;\n\t\t}\n\t\tcontroller.nextCommentingRange();\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: CommentCommandId.PreviousRange,\n\t\t\ttitle: {\n\t\t\t\tvalue: nls.localize('comments.previousCommentingRange', \"Go to Previous Commenting Range\"),\n\t\t\t\toriginal: 'Go to Previous Commenting Range'\n\t\t\t},\n\t\t\tcategory: {\n\t\t\t\tvalue: nls.localize('commentsCategory', \"Comments\"),\n\t\t\t\toriginal: 'Comments'\n\t\t\t},\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.CommandPalette,\n\t\t\t\twhen: CommentContextKeys.activeEditorHasCommentingRange\n\t\t\t}],\n\t\t\tkeybinding: {\n\t\t\t\tprimary: KeyChord(KeyMod.CtrlCmd | KeyCode.KeyK, KeyMod.CtrlCmd | KeyMod.Alt | KeyCode.UpArrow),\n\t\t\t\tweight: KeybindingWeight.EditorContrib,\n\t\t\t\twhen: ContextKeyExpr.and(CONTEXT_ACCESSIBILITY_MODE_ENABLED, ContextKeyExpr.or(EditorContextKeys.focus, CommentContextKeys.commentFocused, ContextKeyExpr.and(accessibilityHelpIsShown, accessibleViewCurrentProviderId.isEqualTo(AccessibleViewProviderId.Comments))))\n\t\t\t}\n\t\t});\n\t}\n\n\toverride async run(accessor: ServicesAccessor, ...args: unknown[]): Promise<void> {\n\t\tconst activeEditor = getActiveEditor(accessor);\n\t\tif (!activeEditor) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst controller = CommentController.get(activeEditor);\n\t\tif (!controller) {\n\t\t\treturn;\n\t\t}\n\t\tcontroller.previousCommentingRange();\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: CommentCommandId.ToggleCommenting,\n\t\t\ttitle: {\n\t\t\t\tvalue: nls.localize('comments.toggleCommenting', \"Toggle Editor Commenting\"),\n\t\t\t\toriginal: 'Toggle Editor Commenting'\n\t\t\t},\n\t\t\tcategory: {\n\t\t\t\tvalue: nls.localize('commentsCategory', \"Comments\"),\n\t\t\t\toriginal: 'Comments'\n\t\t\t},\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.CommandPalette,\n\t\t\t\twhen: CommentContextKeys.WorkspaceHasCommenting\n\t\t\t}]\n\t\t});\n\t}\n\toverride run(accessor: ServicesAccessor, ...args: unknown[]): void {\n\t\tconst commentService = accessor.get(ICommentService);\n\t\tconst enable = commentService.isCommentingEnabled;\n\t\tcommentService.enableCommenting(!enable);\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: CommentCommandId.Add,\n\t\t\ttitle: {\n\t\t\t\tvalue: nls.localize('comments.addCommand', \"Add Comment on Current Selection\"),\n\t\t\t\toriginal: 'Add Comment on Current Selection'\n\t\t\t},\n\t\t\tcategory: {\n\t\t\t\tvalue: nls.localize('commentsCategory', \"Comments\"),\n\t\t\t\toriginal: 'Comments'\n\t\t\t},\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.CommandPalette,\n\t\t\t\twhen: CommentContextKeys.activeCursorHasCommentingRange\n\t\t\t}],\n\t\t\tkeybinding: {\n\t\t\t\tprimary: KeyChord(KeyMod.CtrlCmd | KeyCode.KeyK, KeyMod.CtrlCmd | KeyMod.Alt | KeyCode.KeyC),\n\t\t\t\tweight: KeybindingWeight.EditorContrib,\n\t\t\t\twhen: CommentContextKeys.activeCursorHasCommentingRange\n\t\t\t}\n\t\t});\n\t}\n\n\toverride async run(accessor: ServicesAccessor, args?: { range: IRange; fileComment: boolean }): Promise<void> {\n\t\tconst activeEditor = getActiveEditor(accessor);\n\t\tif (!activeEditor) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst controller = CommentController.get(activeEditor);\n\t\tif (!controller) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst position = args?.range ? new Range(args.range.startLineNumber, args.range.startLineNumber, args.range.endLineNumber, args.range.endColumn)\n\t\t\t: (args?.fileComment ? undefined : activeEditor.getSelection());\n\t\tawait controller.addOrToggleCommentAtLine(position, undefined);\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: CommentCommandId.FocusCommentOnCurrentLine,\n\t\t\ttitle: {\n\t\t\t\tvalue: nls.localize('comments.focusCommentOnCurrentLine', \"Focus Comment on Current Line\"),\n\t\t\t\toriginal: 'Focus Comment on Current Line'\n\t\t\t},\n\t\t\tcategory: {\n\t\t\t\tvalue: nls.localize('commentsCategory', \"Comments\"),\n\t\t\t\toriginal: 'Comments'\n\t\t\t},\n\t\t\tf1: true,\n\t\t\tprecondition: CommentContextKeys.activeCursorHasComment,\n\t\t});\n\t}\n\toverride async run(accessor: ServicesAccessor, ...args: unknown[]): Promise<void> {\n\t\tconst activeEditor = getActiveEditor(accessor);\n\t\tif (!activeEditor) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst controller = CommentController.get(activeEditor);\n\t\tif (!controller) {\n\t\t\treturn;\n\t\t}\n\t\tconst position = activeEditor.getSelection();\n\t\tconst notificationService = accessor.get(INotificationService);\n\t\tlet error = false;\n\t\ttry {\n\t\t\tconst commentAtLine = controller.getCommentsAtLine(position);\n\t\t\tif (commentAtLine.length === 0) {\n\t\t\t\terror = true;\n\t\t\t} else {\n\t\t\t\tawait controller.revealCommentThread(commentAtLine[0].commentThread.threadId, undefined, false, CommentWidgetFocus.Widget);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\terror = true;\n\t\t}\n\t\tif (error) {\n\t\t\tnotificationService.error(nls.localize('comments.focusCommand.error', \"The cursor must be on a line with a comment to focus the comment\"));\n\t\t}\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: CommentCommandId.CollapseAll,\n\t\t\ttitle: {\n\t\t\t\tvalue: nls.localize('comments.collapseAll', \"Collapse All Comments\"),\n\t\t\t\toriginal: 'Collapse All Comments'\n\t\t\t},\n\t\t\tcategory: {\n\t\t\t\tvalue: nls.localize('commentsCategory', \"Comments\"),\n\t\t\t\toriginal: 'Comments'\n\t\t\t},\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.CommandPalette,\n\t\t\t\twhen: CommentContextKeys.WorkspaceHasCommenting\n\t\t\t}]\n\t\t});\n\t}\n\toverride run(accessor: ServicesAccessor, ...args: unknown[]): void {\n\t\tgetActiveController(accessor)?.collapseAll();\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: CommentCommandId.ExpandAll,\n\t\t\ttitle: {\n\t\t\t\tvalue: nls.localize('comments.expandAll', \"Expand All Comments\"),\n\t\t\t\toriginal: 'Expand All Comments'\n\t\t\t},\n\t\t\tcategory: {\n\t\t\t\tvalue: nls.localize('commentsCategory', \"Comments\"),\n\t\t\t\toriginal: 'Comments'\n\t\t\t},\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.CommandPalette,\n\t\t\t\twhen: CommentContextKeys.WorkspaceHasCommenting\n\t\t\t}]\n\t\t});\n\t}\n\toverride run(accessor: ServicesAccessor, ...args: unknown[]): void {\n\t\tgetActiveController(accessor)?.expandAll();\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: CommentCommandId.ExpandUnresolved,\n\t\t\ttitle: {\n\t\t\t\tvalue: nls.localize('comments.expandUnresolved', \"Expand Unresolved Comments\"),\n\t\t\t\toriginal: 'Expand Unresolved Comments'\n\t\t\t},\n\t\t\tcategory: {\n\t\t\t\tvalue: nls.localize('commentsCategory', \"Comments\"),\n\t\t\t\toriginal: 'Comments'\n\t\t\t},\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.CommandPalette,\n\t\t\t\twhen: CommentContextKeys.WorkspaceHasCommenting\n\t\t\t}]\n\t\t});\n\t}\n\toverride run(accessor: ServicesAccessor, ...args: unknown[]): void {\n\t\tgetActiveController(accessor)?.expandUnresolved();\n\t}\n});\n\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: CommentCommandId.Submit,\n\tweight: KeybindingWeight.EditorContrib,\n\tprimary: KeyMod.CtrlCmd | KeyCode.Enter,\n\twhen: ctxCommentEditorFocused,\n\thandler: (accessor, args) => {\n\t\tconst activeCodeEditor = accessor.get(ICodeEditorService).getFocusedCodeEditor();\n\t\tif (activeCodeEditor instanceof SimpleCommentEditor) {\n\t\t\tactiveCodeEditor.getParentThread().submitComment();\n\t\t}\n\t}\n});\n\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: CommentCommandId.Hide,\n\tweight: KeybindingWeight.EditorContrib,\n\tprimary: KeyCode.Escape,\n\tsecondary: [KeyMod.Shift | KeyCode.Escape],\n\twhen: ContextKeyExpr.or(ctxCommentEditorFocused, CommentContextKeys.commentFocused),\n\thandler: async (accessor, args) => {\n\t\tconst activeCodeEditor = accessor.get(ICodeEditorService).getFocusedCodeEditor();\n\t\tconst keybindingService = accessor.get(IKeybindingService);\n\t\t// Unfortunate, but collapsing the comment thread might cause a dialog to show\n\t\t// If we don't wait for the key up here, then the dialog will consume it and immediately close\n\t\tawait keybindingService.enableKeybindingHoldMode(CommentCommandId.Hide);\n\t\tif (activeCodeEditor instanceof SimpleCommentEditor) {\n\t\t\tactiveCodeEditor.getParentThread().collapse();\n\t\t} else if (activeCodeEditor) {\n\t\t\tconst controller = CommentController.get(activeCodeEditor);\n\t\t\tif (!controller) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst notificationService = accessor.get(INotificationService);\n\t\t\tconst commentService = accessor.get(ICommentService);\n\t\t\tlet error = false;\n\t\t\ttry {\n\t\t\t\tconst activeComment = commentService.lastActiveCommentcontroller?.activeComment;\n\t\t\t\tif (!activeComment) {\n\t\t\t\t\terror = true;\n\t\t\t\t} else {\n\t\t\t\t\tcontroller.collapseAndFocusRange(activeComment.thread.threadId);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = true;\n\t\t\t}\n\t\t\tif (error) {\n\t\t\t\tnotificationService.error(nls.localize('comments.focusCommand.error', \"The cursor must be on a line with a comment to focus the comment\"));\n\t\t\t}\n\t\t}\n\t}\n});\n\nexport function getActiveEditor(accessor: ServicesAccessor): IActiveCodeEditor | null {\n\tlet activeTextEditorControl = accessor.get(IEditorService).activeTextEditorControl;\n\n\tif (isDiffEditor(activeTextEditorControl)) {\n\t\tif (activeTextEditorControl.getOriginalEditor().hasTextFocus()) {\n\t\t\tactiveTextEditorControl = activeTextEditorControl.getOriginalEditor();\n\t\t} else {\n\t\t\tactiveTextEditorControl = activeTextEditorControl.getModifiedEditor();\n\t\t}\n\t}\n\n\tif (!isCodeEditor(activeTextEditorControl) || !activeTextEditorControl.hasModel()) {\n\t\treturn null;\n\t}\n\n\treturn activeTextEditorControl;\n}\n\nfunction getActiveController(accessor: ServicesAccessor): CommentController | undefined {\n\tconst activeEditor = getActiveEditor(accessor);\n\tif (!activeEditor) {\n\t\treturn undefined;\n\t}\n\n\tconst controller = CommentController.get(activeEditor);\n\tif (!controller) {\n\t\treturn undefined;\n\t}\n\treturn controller;\n}\n\n"]}