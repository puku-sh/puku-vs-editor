{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/notebook/browser/viewModel/OutlineEntry.ts","vs/workbench/contrib/notebook/browser/viewModel/OutlineEntry.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAChG,OAAO,EAAE,OAAO,EAAE,MAAM,wCAAwC,CAAC;AACjE,OAAO,EAAE,SAAS,EAAE,MAAM,yCAAyC,CAAC;AACpE,OAAO,EAAkB,cAAc,EAAE,MAAM,mDAAmD,CAAC;AAEnG,OAAO,EAAE,kBAAkB,EAAE,MAAM,qBAAqB,CAAC;AACzD,OAAO,EAAE,QAAQ,EAAE,MAAM,gCAAgC,CAAC;AAE1D,OAAO,EAAc,WAAW,EAAE,MAAM,2CAA2C,CAAC;AAOpF,MAAM,OAAO,YAAY;IAKxB,IAAI,IAAI;QACP,IAAI,IAAI,CAAC,UAAU,EAAE,CAAC;YACrB,OAAO,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC5C,CAAC;QACD,OAAO,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC;YAC9D,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,kBAAkB,EAAE,MAAM,CAAC,CAAC,CAAC;gBAChE,IAAI,CAAC,IAAI,CAAC,QAAQ,KAAK,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC;IAC5E,CAAC;IAED,YACU,KAAa,EACb,KAAa,EACb,IAAoB,EACpB,KAAa,EACb,WAAoB,EACpB,QAAiB,EACjB,KAAc,EACd,UAAuB;QAPvB,UAAK,GAAL,KAAK,CAAQ;QACb,UAAK,GAAL,KAAK,CAAQ;QACb,SAAI,GAAJ,IAAI,CAAgB;QACpB,UAAK,GAAL,KAAK,CAAQ;QACb,gBAAW,GAAX,WAAW,CAAS;QACpB,aAAQ,GAAR,QAAQ,CAAS;QACjB,UAAK,GAAL,KAAK,CAAS;QACd,eAAU,GAAV,UAAU,CAAa;QArBzB,cAAS,GAAmB,EAAE,CAAC;IAsBnC,CAAC;IAEL,QAAQ,CAAC,KAAmB;QAC3B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC3B,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC;IACtB,CAAC;IAED,IAAI,MAAM;QACT,OAAO,IAAI,CAAC,OAAO,CAAC;IACrB,CAAC;IAED,IAAI,QAAQ;QACX,OAAO,IAAI,CAAC,SAAS,CAAC;IACvB,CAAC;IAED,IAAI,UAAU;QACb,OAAO,IAAI,CAAC,WAAW,CAAC;IACzB,CAAC;IAED,IAAI,QAAQ;QACX,IAAI,IAAI,CAAC,KAAK,EAAE,CAAC;YAChB,OAAO,EAAE,eAAe,EAAE,IAAI,CAAC,KAAK,CAAC,eAAe,EAAE,WAAW,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC;QAC7F,CAAC;QACD,OAAO,SAAS,CAAC;IAClB,CAAC;IAED,aAAa,CAAC,aAA6B;QAC1C,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,KAAK,QAAQ,CAAC,IAAI,EAAE,CAAC;YAC1C,8BAA8B;YAC9B,MAAM,MAAM,GAAG,aAAa,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,UAAU,EAAE,cAAc,CAAC,KAAK,GAAG,cAAc,CAAC,OAAO,EAAE,CAAC,CAAC;YAC1H,IAAI,MAAM,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;gBACzB,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC;YAC9B,CAAC;iBAAM,CAAC;gBACP,MAAM,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,KAAK,cAAc,CAAC,KAAK,CAAC,EAAE,QAAQ,IAAI,cAAc,CAAC,OAAO,CAAC;gBACzG,IAAI,CAAC,WAAW,GAAG,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,CAAC,MAAM,EAAE,CAAC;YACrD,CAAC;QACF,CAAC;aAAM,CAAC;YACP,wDAAwD;YACxD,IAAI,QAAoC,CAAC;YACzC,KAAK,MAAM,KAAK,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;gBACnC,KAAK,CAAC,aAAa,CAAC,aAAa,CAAC,CAAC;gBACnC,IAAI,KAAK,CAAC,UAAU,EAAE,CAAC;oBACtB,QAAQ,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,UAAU,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;gBAC9F,CAAC;YACF,CAAC;YACD,IAAI,CAAC,WAAW,GAAG,QAAQ,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC;QAC/D,CAAC;IACF,CAAC;IAED,YAAY;QACX,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC;QAC7B,KAAK,MAAM,KAAK,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;YACnC,KAAK,CAAC,YAAY,EAAE,CAAC;QACtB,CAAC;IACF,CAAC;IAED,IAAI,CAAC,IAAoB,EAAE,OAAuB;QACjD,IAAI,IAAI,CAAC,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC;YAC9B,OAAO,IAAI,CAAC;QACb,CAAC;QACD,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACnB,KAAK,MAAM,KAAK,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;YACnC,MAAM,MAAM,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;YACzC,IAAI,MAAM,EAAE,CAAC;gBACZ,OAAO,MAAM,CAAC;YACf,CAAC;QACF,CAAC;QACD,OAAO,CAAC,GAAG,EAAE,CAAC;QACd,OAAO,SAAS,CAAC;IAClB,CAAC;IAED,UAAU,CAAC,MAAsB;QAChC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAClB,KAAK,MAAM,KAAK,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;YACnC,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;QAC1B,CAAC;IACF,CAAC;CACD","file":"OutlineEntry.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Codicon } from '../../../../../base/common/codicons.js';\nimport { ThemeIcon } from '../../../../../base/common/themables.js';\nimport { IMarkerService, MarkerSeverity } from '../../../../../platform/markers/common/markers.js';\nimport { ICellViewModel } from '../notebookBrowser.js';\nimport { executingStateIcon } from '../notebookIcons.js';\nimport { CellKind } from '../../common/notebookCommon.js';\nimport { IRange } from '../../../../../editor/common/core/range.js';\nimport { SymbolKind, SymbolKinds } from '../../../../../editor/common/languages.js';\n\nexport interface IOutlineMarkerInfo {\n\treadonly count: number;\n\treadonly topSev: MarkerSeverity;\n}\n\nexport class OutlineEntry {\n\tprivate _children: OutlineEntry[] = [];\n\tprivate _parent: OutlineEntry | undefined;\n\tprivate _markerInfo: IOutlineMarkerInfo | undefined;\n\n\tget icon(): ThemeIcon {\n\t\tif (this.symbolKind) {\n\t\t\treturn SymbolKinds.toIcon(this.symbolKind);\n\t\t}\n\t\treturn this.isExecuting && this.isPaused ? executingStateIcon :\n\t\t\tthis.isExecuting ? ThemeIcon.modify(executingStateIcon, 'spin') :\n\t\t\t\tthis.cell.cellKind === CellKind.Markup ? Codicon.markdown : Codicon.code;\n\t}\n\n\tconstructor(\n\t\treadonly index: number,\n\t\treadonly level: number,\n\t\treadonly cell: ICellViewModel,\n\t\treadonly label: string,\n\t\treadonly isExecuting: boolean,\n\t\treadonly isPaused: boolean,\n\t\treadonly range?: IRange,\n\t\treadonly symbolKind?: SymbolKind,\n\t) { }\n\n\taddChild(entry: OutlineEntry) {\n\t\tthis._children.push(entry);\n\t\tentry._parent = this;\n\t}\n\n\tget parent(): OutlineEntry | undefined {\n\t\treturn this._parent;\n\t}\n\n\tget children(): Iterable<OutlineEntry> {\n\t\treturn this._children;\n\t}\n\n\tget markerInfo(): IOutlineMarkerInfo | undefined {\n\t\treturn this._markerInfo;\n\t}\n\n\tget position() {\n\t\tif (this.range) {\n\t\t\treturn { startLineNumber: this.range.startLineNumber, startColumn: this.range.startColumn };\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tupdateMarkers(markerService: IMarkerService): void {\n\t\tif (this.cell.cellKind === CellKind.Code) {\n\t\t\t// a code cell can have marker\n\t\t\tconst marker = markerService.read({ resource: this.cell.uri, severities: MarkerSeverity.Error | MarkerSeverity.Warning });\n\t\t\tif (marker.length === 0) {\n\t\t\t\tthis._markerInfo = undefined;\n\t\t\t} else {\n\t\t\t\tconst topSev = marker.find(a => a.severity === MarkerSeverity.Error)?.severity ?? MarkerSeverity.Warning;\n\t\t\t\tthis._markerInfo = { topSev, count: marker.length };\n\t\t\t}\n\t\t} else {\n\t\t\t// a markdown cell can inherit markers from its children\n\t\t\tlet topChild: MarkerSeverity | undefined;\n\t\t\tfor (const child of this.children) {\n\t\t\t\tchild.updateMarkers(markerService);\n\t\t\t\tif (child.markerInfo) {\n\t\t\t\t\ttopChild = !topChild ? child.markerInfo.topSev : Math.max(child.markerInfo.topSev, topChild);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._markerInfo = topChild && { topSev: topChild, count: 0 };\n\t\t}\n\t}\n\n\tclearMarkers(): void {\n\t\tthis._markerInfo = undefined;\n\t\tfor (const child of this.children) {\n\t\t\tchild.clearMarkers();\n\t\t}\n\t}\n\n\tfind(cell: ICellViewModel, parents: OutlineEntry[]): OutlineEntry | undefined {\n\t\tif (cell.id === this.cell.id) {\n\t\t\treturn this;\n\t\t}\n\t\tparents.push(this);\n\t\tfor (const child of this.children) {\n\t\t\tconst result = child.find(cell, parents);\n\t\t\tif (result) {\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\t\tparents.pop();\n\t\treturn undefined;\n\t}\n\n\tasFlatList(bucket: OutlineEntry[]): void {\n\t\tbucket.push(this);\n\t\tfor (const child of this.children) {\n\t\t\tchild.asFlatList(bucket);\n\t\t}\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Codicon } from '../../../../../base/common/codicons.js';\nimport { ThemeIcon } from '../../../../../base/common/themables.js';\nimport { IMarkerService, MarkerSeverity } from '../../../../../platform/markers/common/markers.js';\nimport { ICellViewModel } from '../notebookBrowser.js';\nimport { executingStateIcon } from '../notebookIcons.js';\nimport { CellKind } from '../../common/notebookCommon.js';\nimport { IRange } from '../../../../../editor/common/core/range.js';\nimport { SymbolKind, SymbolKinds } from '../../../../../editor/common/languages.js';\n\nexport interface IOutlineMarkerInfo {\n\treadonly count: number;\n\treadonly topSev: MarkerSeverity;\n}\n\nexport class OutlineEntry {\n\tprivate _children: OutlineEntry[] = [];\n\tprivate _parent: OutlineEntry | undefined;\n\tprivate _markerInfo: IOutlineMarkerInfo | undefined;\n\n\tget icon(): ThemeIcon {\n\t\tif (this.symbolKind) {\n\t\t\treturn SymbolKinds.toIcon(this.symbolKind);\n\t\t}\n\t\treturn this.isExecuting && this.isPaused ? executingStateIcon :\n\t\t\tthis.isExecuting ? ThemeIcon.modify(executingStateIcon, 'spin') :\n\t\t\t\tthis.cell.cellKind === CellKind.Markup ? Codicon.markdown : Codicon.code;\n\t}\n\n\tconstructor(\n\t\treadonly index: number,\n\t\treadonly level: number,\n\t\treadonly cell: ICellViewModel,\n\t\treadonly label: string,\n\t\treadonly isExecuting: boolean,\n\t\treadonly isPaused: boolean,\n\t\treadonly range?: IRange,\n\t\treadonly symbolKind?: SymbolKind,\n\t) { }\n\n\taddChild(entry: OutlineEntry) {\n\t\tthis._children.push(entry);\n\t\tentry._parent = this;\n\t}\n\n\tget parent(): OutlineEntry | undefined {\n\t\treturn this._parent;\n\t}\n\n\tget children(): Iterable<OutlineEntry> {\n\t\treturn this._children;\n\t}\n\n\tget markerInfo(): IOutlineMarkerInfo | undefined {\n\t\treturn this._markerInfo;\n\t}\n\n\tget position() {\n\t\tif (this.range) {\n\t\t\treturn { startLineNumber: this.range.startLineNumber, startColumn: this.range.startColumn };\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tupdateMarkers(markerService: IMarkerService): void {\n\t\tif (this.cell.cellKind === CellKind.Code) {\n\t\t\t// a code cell can have marker\n\t\t\tconst marker = markerService.read({ resource: this.cell.uri, severities: MarkerSeverity.Error | MarkerSeverity.Warning });\n\t\t\tif (marker.length === 0) {\n\t\t\t\tthis._markerInfo = undefined;\n\t\t\t} else {\n\t\t\t\tconst topSev = marker.find(a => a.severity === MarkerSeverity.Error)?.severity ?? MarkerSeverity.Warning;\n\t\t\t\tthis._markerInfo = { topSev, count: marker.length };\n\t\t\t}\n\t\t} else {\n\t\t\t// a markdown cell can inherit markers from its children\n\t\t\tlet topChild: MarkerSeverity | undefined;\n\t\t\tfor (const child of this.children) {\n\t\t\t\tchild.updateMarkers(markerService);\n\t\t\t\tif (child.markerInfo) {\n\t\t\t\t\ttopChild = !topChild ? child.markerInfo.topSev : Math.max(child.markerInfo.topSev, topChild);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._markerInfo = topChild && { topSev: topChild, count: 0 };\n\t\t}\n\t}\n\n\tclearMarkers(): void {\n\t\tthis._markerInfo = undefined;\n\t\tfor (const child of this.children) {\n\t\t\tchild.clearMarkers();\n\t\t}\n\t}\n\n\tfind(cell: ICellViewModel, parents: OutlineEntry[]): OutlineEntry | undefined {\n\t\tif (cell.id === this.cell.id) {\n\t\t\treturn this;\n\t\t}\n\t\tparents.push(this);\n\t\tfor (const child of this.children) {\n\t\t\tconst result = child.find(cell, parents);\n\t\t\tif (result) {\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\t\tparents.pop();\n\t\treturn undefined;\n\t}\n\n\tasFlatList(bucket: OutlineEntry[]): void {\n\t\tbucket.push(this);\n\t\tfor (const child of this.children) {\n\t\t\tchild.asFlatList(bucket);\n\t\t}\n\t}\n}\n"]}