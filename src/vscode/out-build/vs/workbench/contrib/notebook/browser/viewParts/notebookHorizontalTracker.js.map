{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/notebook/browser/viewParts/notebookHorizontalTracker.ts","vs/workbench/contrib/notebook/browser/viewParts/notebookHorizontalTracker.ts"],"names":[],"mappings":"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","file":"notebookHorizontalTracker.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { addDisposableListener, EventType, getWindow } from '../../../../../base/browser/dom.js';\nimport { IMouseWheelEvent } from '../../../../../base/browser/mouseEvent.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { isChrome, isMacintosh } from '../../../../../base/common/platform.js';\nimport { CodeEditorWidget } from '../../../../../editor/browser/widget/codeEditor/codeEditorWidget.js';\nimport { INotebookEditorDelegate } from '../notebookBrowser.js';\n\nexport class NotebookHorizontalTracker extends Disposable {\n\tconstructor(\n\t\tprivate readonly _notebookEditor: INotebookEditorDelegate,\n\t\tprivate readonly _listViewScrollablement: HTMLElement,\n\t) {\n\t\tsuper();\n\n\t\tthis._register(addDisposableListener(this._listViewScrollablement, EventType.MOUSE_WHEEL, (event: IMouseWheelEvent) => {\n\t\t\tlet deltaX = event.deltaX;\n\t\t\tlet deltaY = event.deltaY;\n\t\t\tlet wheelDeltaX = event.wheelDeltaX;\n\t\t\tlet wheelDeltaY = event.wheelDeltaY;\n\t\t\tconst wheelDelta = event.wheelDelta;\n\n\t\t\tconst shiftConvert = !isMacintosh && event.shiftKey;\n\t\t\tif (shiftConvert && !deltaX) {\n\t\t\t\tdeltaX = deltaY;\n\t\t\t\tdeltaY = 0;\n\t\t\t\twheelDeltaX = wheelDeltaY;\n\t\t\t\twheelDeltaY = 0;\n\t\t\t}\n\n\t\t\tif (deltaX === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst hoveringOnEditor = this._notebookEditor.codeEditors.find(editor => {\n\t\t\t\tconst editorLayout = editor[1].getLayoutInfo();\n\t\t\t\tif (editorLayout.contentWidth === editorLayout.width) {\n\t\t\t\t\t// no overflow\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tconst editorDOM = editor[1].getDomNode();\n\t\t\t\tif (editorDOM && editorDOM.contains(event.target as HTMLElement)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t});\n\n\t\t\tif (!hoveringOnEditor) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst targetWindow = getWindow(event);\n\t\t\tconst evt = {\n\t\t\t\tdeltaMode: event.deltaMode,\n\t\t\t\tdeltaX: deltaX,\n\t\t\t\tdeltaY: 0,\n\t\t\t\tdeltaZ: 0,\n\t\t\t\twheelDelta: wheelDelta && isChrome ? (wheelDelta / targetWindow.devicePixelRatio) : wheelDelta,\n\t\t\t\twheelDeltaX: wheelDeltaX && isChrome ? (wheelDeltaX / targetWindow.devicePixelRatio) : wheelDeltaX,\n\t\t\t\twheelDeltaY: 0,\n\t\t\t\tdetail: event.detail,\n\t\t\t\tshiftKey: event.shiftKey,\n\t\t\t\ttype: event.type,\n\t\t\t\tdefaultPrevented: false,\n\t\t\t\tpreventDefault: () => { },\n\t\t\t\tstopPropagation: () => { }\n\t\t\t};\n\n\t\t\t(hoveringOnEditor[1] as CodeEditorWidget).delegateScrollFromMouseWheelEvent(evt as unknown as IMouseWheelEvent);\n\t\t}));\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { addDisposableListener, EventType, getWindow } from '../../../../../base/browser/dom.js';\nimport { IMouseWheelEvent } from '../../../../../base/browser/mouseEvent.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { isChrome, isMacintosh } from '../../../../../base/common/platform.js';\nimport { CodeEditorWidget } from '../../../../../editor/browser/widget/codeEditor/codeEditorWidget.js';\nimport { INotebookEditorDelegate } from '../notebookBrowser.js';\n\nexport class NotebookHorizontalTracker extends Disposable {\n\tconstructor(\n\t\tprivate readonly _notebookEditor: INotebookEditorDelegate,\n\t\tprivate readonly _listViewScrollablement: HTMLElement,\n\t) {\n\t\tsuper();\n\n\t\tthis._register(addDisposableListener(this._listViewScrollablement, EventType.MOUSE_WHEEL, (event: IMouseWheelEvent) => {\n\t\t\tlet deltaX = event.deltaX;\n\t\t\tlet deltaY = event.deltaY;\n\t\t\tlet wheelDeltaX = event.wheelDeltaX;\n\t\t\tlet wheelDeltaY = event.wheelDeltaY;\n\t\t\tconst wheelDelta = event.wheelDelta;\n\n\t\t\tconst shiftConvert = !isMacintosh && event.shiftKey;\n\t\t\tif (shiftConvert && !deltaX) {\n\t\t\t\tdeltaX = deltaY;\n\t\t\t\tdeltaY = 0;\n\t\t\t\twheelDeltaX = wheelDeltaY;\n\t\t\t\twheelDeltaY = 0;\n\t\t\t}\n\n\t\t\tif (deltaX === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst hoveringOnEditor = this._notebookEditor.codeEditors.find(editor => {\n\t\t\t\tconst editorLayout = editor[1].getLayoutInfo();\n\t\t\t\tif (editorLayout.contentWidth === editorLayout.width) {\n\t\t\t\t\t// no overflow\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tconst editorDOM = editor[1].getDomNode();\n\t\t\t\tif (editorDOM && editorDOM.contains(event.target as HTMLElement)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t});\n\n\t\t\tif (!hoveringOnEditor) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst targetWindow = getWindow(event);\n\t\t\tconst evt = {\n\t\t\t\tdeltaMode: event.deltaMode,\n\t\t\t\tdeltaX: deltaX,\n\t\t\t\tdeltaY: 0,\n\t\t\t\tdeltaZ: 0,\n\t\t\t\twheelDelta: wheelDelta && isChrome ? (wheelDelta / targetWindow.devicePixelRatio) : wheelDelta,\n\t\t\t\twheelDeltaX: wheelDeltaX && isChrome ? (wheelDeltaX / targetWindow.devicePixelRatio) : wheelDeltaX,\n\t\t\t\twheelDeltaY: 0,\n\t\t\t\tdetail: event.detail,\n\t\t\t\tshiftKey: event.shiftKey,\n\t\t\t\ttype: event.type,\n\t\t\t\tdefaultPrevented: false,\n\t\t\t\tpreventDefault: () => { },\n\t\t\t\tstopPropagation: () => { }\n\t\t\t};\n\n\t\t\t(hoveringOnEditor[1] as CodeEditorWidget).delegateScrollFromMouseWheelEvent(evt as unknown as IMouseWheelEvent);\n\t\t}));\n\t}\n}\n"]}