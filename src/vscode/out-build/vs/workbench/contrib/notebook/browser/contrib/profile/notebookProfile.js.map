{"version":3,"sources":["vs/workbench/contrib/notebook/browser/contrib/profile/notebookProfile.ts"],"names":[],"mappings":"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","file":"notebookProfile.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ServicesAccessor } from '../../../../../../editor/browser/editorExtensions.js';\nimport { localize } from '../../../../../../nls.js';\nimport { Action2, registerAction2 } from '../../../../../../platform/actions/common/actions.js';\nimport { IConfigurationService } from '../../../../../../platform/configuration/common/configuration.js';\nimport { NotebookSetting } from '../../../common/notebookCommon.js';\n\nexport enum NotebookProfileType {\n\tdefault = 'default',\n\tjupyter = 'jupyter',\n\tcolab = 'colab'\n}\n\nconst profiles = {\n\t[NotebookProfileType.default]: {\n\t\t[NotebookSetting.focusIndicator]: 'gutter',\n\t\t[NotebookSetting.insertToolbarLocation]: 'both',\n\t\t[NotebookSetting.globalToolbar]: true,\n\t\t[NotebookSetting.cellToolbarLocation]: { default: 'right' },\n\t\t[NotebookSetting.compactView]: true,\n\t\t[NotebookSetting.showCellStatusBar]: 'visible',\n\t\t[NotebookSetting.consolidatedRunButton]: true,\n\t\t[NotebookSetting.undoRedoPerCell]: false\n\t},\n\t[NotebookProfileType.jupyter]: {\n\t\t[NotebookSetting.focusIndicator]: 'gutter',\n\t\t[NotebookSetting.insertToolbarLocation]: 'notebookToolbar',\n\t\t[NotebookSetting.globalToolbar]: true,\n\t\t[NotebookSetting.cellToolbarLocation]: { default: 'left' },\n\t\t[NotebookSetting.compactView]: true,\n\t\t[NotebookSetting.showCellStatusBar]: 'visible',\n\t\t[NotebookSetting.consolidatedRunButton]: false,\n\t\t[NotebookSetting.undoRedoPerCell]: true\n\t},\n\t[NotebookProfileType.colab]: {\n\t\t[NotebookSetting.focusIndicator]: 'border',\n\t\t[NotebookSetting.insertToolbarLocation]: 'betweenCells',\n\t\t[NotebookSetting.globalToolbar]: false,\n\t\t[NotebookSetting.cellToolbarLocation]: { default: 'right' },\n\t\t[NotebookSetting.compactView]: false,\n\t\t[NotebookSetting.showCellStatusBar]: 'hidden',\n\t\t[NotebookSetting.consolidatedRunButton]: true,\n\t\t[NotebookSetting.undoRedoPerCell]: false\n\t}\n};\n\nasync function applyProfile(configService: IConfigurationService, profile: Record<string, any>): Promise<void> {\n\tconst promises = [];\n\tfor (const settingKey in profile) {\n\t\tpromises.push(configService.updateValue(settingKey, profile[settingKey]));\n\t}\n\n\tawait Promise.all(promises);\n}\n\nexport interface ISetProfileArgs {\n\tprofile: NotebookProfileType;\n}\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'notebook.setProfile',\n\t\t\ttitle: localize('setProfileTitle', \"Set Profile\")\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor, args: unknown): Promise<void> {\n\t\tif (!isSetProfileArgs(args)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst configService = accessor.get(IConfigurationService);\n\t\treturn applyProfile(configService, profiles[args.profile]);\n\t}\n});\n\nfunction isSetProfileArgs(args: unknown): args is ISetProfileArgs {\n\tconst setProfileArgs = args as ISetProfileArgs;\n\treturn setProfileArgs.profile === NotebookProfileType.colab ||\n\t\tsetProfileArgs.profile === NotebookProfileType.default ||\n\t\tsetProfileArgs.profile === NotebookProfileType.jupyter;\n}\n\n// export class NotebookProfileContribution extends Disposable {\n\n// \tstatic readonly ID = 'workbench.contrib.notebookProfile';\n\n// \tconstructor(@IConfigurationService configService: IConfigurationService, @IWorkbenchAssignmentService private readonly experimentService: IWorkbenchAssignmentService) {\n// \t\tsuper();\n\n// \t\tif (this.experimentService) {\n// \t\t\tthis.experimentService.getTreatment<NotebookProfileType.default | NotebookProfileType.jupyter | NotebookProfileType.colab>('notebookprofile').then(treatment => {\n// \t\t\t\tif (treatment === undefined) {\n// \t\t\t\t\treturn;\n// \t\t\t\t} else {\n// \t\t\t\t\t// check if settings are already modified\n// \t\t\t\t\tconst focusIndicator = configService.getValue(NotebookSetting.focusIndicator);\n// \t\t\t\t\tconst insertToolbarPosition = configService.getValue(NotebookSetting.insertToolbarLocation);\n// \t\t\t\t\tconst globalToolbar = configService.getValue(NotebookSetting.globalToolbar);\n// \t\t\t\t\t// const cellToolbarLocation = configService.getValue(NotebookSetting.cellToolbarLocation);\n// \t\t\t\t\tconst compactView = configService.getValue(NotebookSetting.compactView);\n// \t\t\t\t\tconst showCellStatusBar = configService.getValue(NotebookSetting.showCellStatusBar);\n// \t\t\t\t\tconst consolidatedRunButton = configService.getValue(NotebookSetting.consolidatedRunButton);\n// \t\t\t\t\tif (focusIndicator === 'border'\n// \t\t\t\t\t\t&& insertToolbarPosition === 'both'\n// \t\t\t\t\t\t&& globalToolbar === false\n// \t\t\t\t\t\t// && cellToolbarLocation === undefined\n// \t\t\t\t\t\t&& compactView === true\n// \t\t\t\t\t\t&& showCellStatusBar === 'visible'\n// \t\t\t\t\t\t&& consolidatedRunButton === true\n// \t\t\t\t\t) {\n// \t\t\t\t\t\tapplyProfile(configService, profiles[treatment] ?? profiles[NotebookProfileType.default]);\n// \t\t\t\t\t}\n// \t\t\t\t}\n// \t\t\t});\n// \t\t}\n// \t}\n// }\n\n// registerWorkbenchContribution2(NotebookProfileContribution.ID, NotebookProfileContribution, WorkbenchPhase.BlockRestore);\n"]}