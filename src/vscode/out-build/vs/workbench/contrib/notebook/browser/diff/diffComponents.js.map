{"version":3,"sources":["vs/workbench/contrib/notebook/browser/diff/diffComponents.ts"],"names":[],"mappings":"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","file":"diffComponents.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as DOM from '../../../../../base/browser/dom.js';\nimport { Disposable, DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { Schemas } from '../../../../../base/common/network.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { DiffElementCellViewModelBase, getFormattedOutputJSON, OutputComparison, outputEqual, OUTPUT_EDITOR_HEIGHT_MAGIC, PropertyFoldingState, SideBySideDiffElementViewModel, SingleSideDiffElementViewModel, DiffElementPlaceholderViewModel, IDiffElementViewModelBase, NotebookDocumentMetadataViewModel } from './diffElementViewModel.js';\nimport { CellDiffSideBySideRenderTemplate, CellDiffSingleSideRenderTemplate, DiffSide, DIFF_CELL_MARGIN, INotebookTextDiffEditor, NOTEBOOK_DIFF_CELL_INPUT, NOTEBOOK_DIFF_CELL_PROPERTY, NOTEBOOK_DIFF_CELL_PROPERTY_EXPANDED, CellDiffPlaceholderRenderTemplate, IDiffCellMarginOverlay, NOTEBOOK_DIFF_CELL_IGNORE_WHITESPACE, NotebookDocumentDiffElementRenderTemplate, NOTEBOOK_DIFF_METADATA } from './notebookDiffEditorBrowser.js';\nimport { CodeEditorWidget, ICodeEditorWidgetOptions } from '../../../../../editor/browser/widget/codeEditor/codeEditorWidget.js';\nimport { IModelService } from '../../../../../editor/common/services/model.js';\nimport { ILanguageService } from '../../../../../editor/common/languages/language.js';\nimport { CellEditType, CellUri, NotebookCellMetadata } from '../../common/notebookCommon.js';\nimport { ToolBar } from '../../../../../base/browser/ui/toolbar/toolbar.js';\nimport { IContextMenuService } from '../../../../../platform/contextview/browser/contextView.js';\nimport { IMenu, IMenuService, MenuId, MenuItemAction } from '../../../../../platform/actions/common/actions.js';\nimport { IKeybindingService } from '../../../../../platform/keybinding/common/keybinding.js';\nimport { INotificationService } from '../../../../../platform/notification/common/notification.js';\nimport { getFlatActionBarActions } from '../../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { IContextKey, IContextKeyService } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { CodiconActionViewItem } from '../view/cellParts/cellActionView.js';\nimport { collapsedIcon, expandedIcon } from '../notebookIcons.js';\nimport { OutputContainer } from './diffElementOutputs.js';\nimport { EditorExtensionsRegistry } from '../../../../../editor/browser/editorExtensions.js';\nimport { ContextMenuController } from '../../../../../editor/contrib/contextmenu/browser/contextmenu.js';\nimport { SnippetController2 } from '../../../../../editor/contrib/snippet/browser/snippetController2.js';\nimport { SuggestController } from '../../../../../editor/contrib/suggest/browser/suggestController.js';\nimport { MenuPreventer } from '../../../codeEditor/browser/menuPreventer.js';\nimport { SelectionClipboardContributionID } from '../../../codeEditor/browser/selectionClipboard.js';\nimport { TabCompletionController } from '../../../snippets/browser/tabCompletion.js';\nimport { renderIcon, renderLabelWithIcons } from '../../../../../base/browser/ui/iconLabel/iconLabels.js';\nimport * as editorCommon from '../../../../../editor/common/editorCommon.js';\nimport { ITextModelService } from '../../../../../editor/common/services/resolverService.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { IThemeService } from '../../../../../platform/theme/common/themeService.js';\nimport { WorkbenchToolBar } from '../../../../../platform/actions/browser/toolbar.js';\nimport { ITelemetryService } from '../../../../../platform/telemetry/common/telemetry.js';\nimport { fixedDiffEditorOptions, fixedEditorOptions, getEditorPadding } from './diffCellEditorOptions.js';\nimport { AccessibilityVerbositySettingId } from '../../../accessibility/browser/accessibilityConfiguration.js';\nimport { IAccessibilityService } from '../../../../../platform/accessibility/common/accessibility.js';\nimport { DiffEditorWidget } from '../../../../../editor/browser/widget/diffEditor/diffEditorWidget.js';\nimport { ICommandService } from '../../../../../platform/commands/common/commands.js';\nimport { DiffNestedCellViewModel } from './diffNestedCellViewModel.js';\nimport { localize } from '../../../../../nls.js';\nimport { Emitter } from '../../../../../base/common/event.js';\nimport { ITextResourceConfigurationService } from '../../../../../editor/common/services/textResourceConfiguration.js';\nimport { getFormattedMetadataJSON } from '../../common/model/notebookCellTextModel.js';\nimport { IDiffEditorOptions } from '../../../../../editor/common/config/editorOptions.js';\nimport { getUnchangedRegionSettings } from './unchangedEditorRegions.js';\n\nexport function getOptimizedNestedCodeEditorWidgetOptions(): ICodeEditorWidgetOptions {\n\treturn {\n\t\tisSimpleWidget: false,\n\t\tcontributions: EditorExtensionsRegistry.getSomeEditorContributions([\n\t\t\tMenuPreventer.ID,\n\t\t\tSelectionClipboardContributionID,\n\t\t\tContextMenuController.ID,\n\t\t\tSuggestController.ID,\n\t\t\tSnippetController2.ID,\n\t\t\tTabCompletionController.ID,\n\t\t])\n\t};\n}\n\nexport class CellDiffPlaceholderElement extends Disposable {\n\tconstructor(\n\t\tplaceholder: DiffElementPlaceholderViewModel,\n\t\ttemplateData: CellDiffPlaceholderRenderTemplate,\n\t) {\n\t\tsuper();\n\t\ttemplateData.body.classList.remove('left', 'right', 'full');\n\t\tconst text = (placeholder.hiddenCells.length === 1) ?\n\t\t\tlocalize('hiddenCell', '{0} hidden cell', placeholder.hiddenCells.length) :\n\t\t\tlocalize('hiddenCells', '{0} hidden cells', placeholder.hiddenCells.length);\n\t\ttemplateData.placeholder.innerText = text;\n\n\t\tthis._register(DOM.addDisposableListener(templateData.placeholder, 'dblclick', (e: MouseEvent) => {\n\t\t\tif (e.button !== 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\te.preventDefault();\n\t\t\tplaceholder.showHiddenCells();\n\t\t}));\n\t\tthis._register(templateData.marginOverlay.onAction(() => placeholder.showHiddenCells()));\n\t\ttemplateData.marginOverlay.show();\n\t}\n}\n\nclass PropertyHeader extends Disposable {\n\tprotected _foldingIndicator!: HTMLElement;\n\tprotected _statusSpan!: HTMLElement;\n\tprotected _description!: HTMLElement;\n\tprotected _toolbar!: WorkbenchToolBar;\n\tprotected _menu!: IMenu;\n\tprotected _propertyExpanded?: IContextKey<boolean>;\n\tprotected _propertyChanged?: IContextKey<boolean>;\n\n\tconstructor(\n\t\treadonly cell: IDiffElementViewModelBase,\n\t\treadonly propertyHeaderContainer: HTMLElement,\n\t\treadonly notebookEditor: INotebookTextDiffEditor,\n\t\treadonly accessor: {\n\t\t\tupdateInfoRendering: (renderOutput: boolean) => void;\n\t\t\tcheckIfModified: () => false | { reason: string | undefined };\n\t\t\tgetFoldingState: () => PropertyFoldingState;\n\t\t\tupdateFoldingState: (newState: PropertyFoldingState) => void;\n\t\t\tunChangedLabel: string;\n\t\t\tchangedLabel: string;\n\t\t\tprefix: string;\n\t\t\tmenuId: MenuId;\n\t\t},\n\t\t@IContextMenuService private readonly contextMenuService: IContextMenuService,\n\t\t@IKeybindingService private readonly keybindingService: IKeybindingService,\n\t\t@ICommandService private readonly commandService: ICommandService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IMenuService private readonly menuService: IMenuService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IThemeService private readonly themeService: IThemeService,\n\t\t@ITelemetryService private readonly telemetryService: ITelemetryService,\n\t\t@IAccessibilityService private readonly accessibilityService: IAccessibilityService\n\t) {\n\t\tsuper();\n\t}\n\n\tbuildHeader(): void {\n\t\tthis._foldingIndicator = DOM.append(this.propertyHeaderContainer, DOM.$('.property-folding-indicator'));\n\t\tthis._foldingIndicator.classList.add(this.accessor.prefix);\n\t\tconst metadataStatus = DOM.append(this.propertyHeaderContainer, DOM.$('div.property-status'));\n\t\tthis._statusSpan = DOM.append(metadataStatus, DOM.$('span'));\n\t\tthis._description = DOM.append(metadataStatus, DOM.$('span.property-description'));\n\n\t\tconst cellToolbarContainer = DOM.append(this.propertyHeaderContainer, DOM.$('div.property-toolbar'));\n\t\tthis._toolbar = this._register(new WorkbenchToolBar(cellToolbarContainer, {\n\t\t\tactionViewItemProvider: (action, options) => {\n\t\t\t\tif (action instanceof MenuItemAction) {\n\t\t\t\t\tconst item = new CodiconActionViewItem(action, { hoverDelegate: options.hoverDelegate }, this.keybindingService, this.notificationService, this.contextKeyService, this.themeService, this.contextMenuService, this.accessibilityService);\n\t\t\t\t\treturn item;\n\t\t\t\t}\n\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t}, this.menuService, this.contextKeyService, this.contextMenuService, this.keybindingService, this.commandService, this.telemetryService));\n\t\tthis._toolbar.context = this.cell;\n\n\t\tconst scopedContextKeyService = this.contextKeyService.createScoped(cellToolbarContainer);\n\t\tthis._register(scopedContextKeyService);\n\t\tthis._propertyChanged = NOTEBOOK_DIFF_CELL_PROPERTY.bindTo(scopedContextKeyService);\n\t\tthis._propertyExpanded = NOTEBOOK_DIFF_CELL_PROPERTY_EXPANDED.bindTo(scopedContextKeyService);\n\n\t\tthis._menu = this._register(this.menuService.createMenu(this.accessor.menuId, scopedContextKeyService));\n\t\tthis._register(this._menu.onDidChange(() => this.updateMenu()));\n\n\t\tthis._register(this.notebookEditor.onMouseUp(e => {\n\t\t\tif (!e.event.target || e.target !== this.cell) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst target = e.event.target as HTMLElement;\n\n\t\t\tif (\n\t\t\t\ttarget === this.propertyHeaderContainer ||\n\t\t\t\ttarget === this._foldingIndicator || this._foldingIndicator.contains(target) ||\n\t\t\t\ttarget === metadataStatus || metadataStatus.contains(target)\n\t\t\t) {\n\t\t\t\tconst oldFoldingState = this.accessor.getFoldingState();\n\t\t\t\tthis.accessor.updateFoldingState(oldFoldingState === PropertyFoldingState.Expanded ? PropertyFoldingState.Collapsed : PropertyFoldingState.Expanded);\n\t\t\t\tthis._updateFoldingIcon();\n\t\t\t\tthis.accessor.updateInfoRendering(this.cell.renderOutput);\n\t\t\t}\n\t\t}));\n\n\t\tthis.refresh();\n\t\tthis.accessor.updateInfoRendering(this.cell.renderOutput);\n\t}\n\trefresh() {\n\t\tthis.updateMenu();\n\t\tthis._updateFoldingIcon();\n\n\t\tconst metadataChanged = this.accessor.checkIfModified();\n\t\tif (this._propertyChanged) {\n\t\t\tthis._propertyChanged.set(!!metadataChanged);\n\t\t}\n\t\tif (metadataChanged) {\n\t\t\tthis._statusSpan.textContent = this.accessor.changedLabel;\n\t\t\tthis._statusSpan.style.fontWeight = 'bold';\n\t\t\tif (metadataChanged.reason) {\n\t\t\t\tthis._description.textContent = metadataChanged.reason;\n\t\t\t}\n\t\t\tthis.propertyHeaderContainer.classList.add('modified');\n\t\t} else {\n\t\t\tthis._statusSpan.textContent = this.accessor.unChangedLabel;\n\t\t\tthis._statusSpan.style.fontWeight = 'normal';\n\t\t\tthis._description.textContent = '';\n\t\t\tthis.propertyHeaderContainer.classList.remove('modified');\n\t\t}\n\t}\n\n\tprivate updateMenu() {\n\t\tconst metadataChanged = this.accessor.checkIfModified();\n\t\tif (metadataChanged) {\n\t\t\tconst actions = getFlatActionBarActions(this._menu.getActions({ shouldForwardArgs: true }));\n\t\t\tthis._toolbar.setActions(actions);\n\t\t} else {\n\t\t\tthis._toolbar.setActions([]);\n\t\t}\n\t}\n\n\tprivate _updateFoldingIcon() {\n\t\tif (this.accessor.getFoldingState() === PropertyFoldingState.Collapsed) {\n\t\t\tDOM.reset(this._foldingIndicator, renderIcon(collapsedIcon));\n\t\t\tthis._propertyExpanded?.set(false);\n\t\t} else {\n\t\t\tDOM.reset(this._foldingIndicator, renderIcon(expandedIcon));\n\t\t\tthis._propertyExpanded?.set(true);\n\t\t}\n\n\t}\n}\n\ninterface IDiffElementLayoutState {\n\touterWidth?: boolean;\n\teditorHeight?: boolean;\n\tmetadataEditor?: boolean;\n\tmetadataHeight?: boolean;\n\toutputTotalHeight?: boolean;\n}\n\n\nexport class NotebookDocumentMetadataElement extends Disposable {\n\tprivate readonly _editor: DiffEditorWidget;\n\tprivate _editorViewStateChanged: boolean;\n\tprivate _toolbar!: ToolBar;\n\tprivate readonly _cellHeaderContainer: HTMLElement;\n\tprivate readonly _editorContainer: HTMLElement;\n\tprivate _cellHeader!: PropertyHeader;\n\tprivate _diffEditorContainer!: HTMLElement;\n\n\tconstructor(\n\t\treadonly notebookEditor: INotebookTextDiffEditor,\n\t\treadonly viewModel: NotebookDocumentMetadataViewModel,\n\t\treadonly templateData: NotebookDocumentDiffElementRenderTemplate,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@ITextModelService private readonly textModelService: ITextModelService,\n\t\t@IMenuService private readonly menuService: IMenuService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@ITextResourceConfigurationService private readonly textConfigurationService: ITextResourceConfigurationService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t) {\n\t\tsuper();\n\t\tthis._editor = templateData.sourceEditor;\n\t\tthis._cellHeaderContainer = this.templateData.cellHeaderContainer;\n\t\tthis._editorContainer = this.templateData.editorContainer;\n\t\tthis._diffEditorContainer = this.templateData.diffEditorContainer;\n\n\t\tthis._editorViewStateChanged = false;\n\t\t// init\n\t\tthis._register(viewModel.onDidLayoutChange(e => {\n\t\t\tthis.layout(e);\n\t\t\tthis.updateBorders();\n\t\t}));\n\t\tthis.buildBody();\n\t\tthis.updateBorders();\n\t}\n\n\tbuildBody(): void {\n\t\tconst body = this.templateData.body;\n\t\tbody.classList.remove('full');\n\t\tbody.classList.add('full');\n\n\t\tthis.updateSourceEditor();\n\n\t\tif (this.viewModel instanceof NotebookDocumentMetadataViewModel) {\n\t\t\tthis._register(this.viewModel.modifiedMetadata.onDidChange(e => {\n\t\t\t\tthis._cellHeader.refresh();\n\t\t\t}));\n\t\t}\n\t}\n\tprotected layoutNotebookCell() {\n\t\tthis.notebookEditor.layoutNotebookCell(\n\t\t\tthis.viewModel,\n\t\t\tthis.viewModel.layoutInfo.totalHeight\n\t\t);\n\t}\n\n\tupdateBorders() {\n\t\tthis.templateData.leftBorder.style.height = `${this.viewModel.layoutInfo.totalHeight - 32}px`;\n\t\tthis.templateData.rightBorder.style.height = `${this.viewModel.layoutInfo.totalHeight - 32}px`;\n\t\tthis.templateData.bottomBorder.style.top = `${this.viewModel.layoutInfo.totalHeight - 32}px`;\n\t}\n\tupdateSourceEditor(): void {\n\t\tthis._cellHeaderContainer.style.display = 'flex';\n\t\tthis._cellHeaderContainer.innerText = '';\n\t\tthis._editorContainer.classList.add('diff');\n\n\t\tconst updateSourceEditor = () => {\n\t\t\tif (this.viewModel.cellFoldingState === PropertyFoldingState.Collapsed) {\n\t\t\t\tthis._editorContainer.style.display = 'none';\n\t\t\t\tthis.viewModel.editorHeight = 0;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst lineHeight = this.notebookEditor.getLayoutInfo().fontInfo.lineHeight || 17;\n\t\t\tconst editorHeight = this.viewModel.layoutInfo.editorHeight !== 0 ? this.viewModel.layoutInfo.editorHeight : this.viewModel.computeInputEditorHeight(lineHeight);\n\n\t\t\tthis._editorContainer.style.height = `${editorHeight}px`;\n\t\t\tthis._editorContainer.style.display = 'block';\n\n\t\t\tconst contentHeight = this._editor.getContentHeight();\n\t\t\tif (contentHeight >= 0) {\n\t\t\t\tthis.viewModel.editorHeight = contentHeight;\n\t\t\t}\n\t\t\treturn editorHeight;\n\t\t};\n\t\tconst renderSourceEditor = () => {\n\t\t\tconst editorHeight = updateSourceEditor();\n\t\t\tif (!editorHeight) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If there is only 1 line, then ensure we have the necessary padding to display the button for whitespaces.\n\t\t\t// E.g. assume we have a cell with 1 line and we add some whitespace,\n\t\t\t// Then diff editor displays the button `Show Whitespace Differences`, however with 12 paddings on the top, the\n\t\t\t// button can get cut off.\n\t\t\tconst lineCount = this.viewModel.modifiedMetadata.textBuffer.getLineCount();\n\t\t\tconst options: IDiffEditorOptions = {\n\t\t\t\tpadding: getEditorPadding(lineCount)\n\t\t\t};\n\t\t\tconst unchangedRegions = this._register(getUnchangedRegionSettings(this.configurationService));\n\t\t\tif (unchangedRegions.options.enabled) {\n\t\t\t\toptions.hideUnchangedRegions = unchangedRegions.options;\n\t\t\t}\n\t\t\tthis._editor.updateOptions(options);\n\t\t\tthis._register(unchangedRegions.onDidChangeEnablement(() => {\n\t\t\t\toptions.hideUnchangedRegions = unchangedRegions.options;\n\t\t\t\tthis._editor.updateOptions(options);\n\t\t\t}));\n\t\t\tthis._editor.layout({\n\t\t\t\twidth: this.notebookEditor.getLayoutInfo().width - 2 * DIFF_CELL_MARGIN,\n\t\t\t\theight: editorHeight\n\t\t\t});\n\t\t\tthis._register(this._editor.onDidContentSizeChange((e) => {\n\t\t\t\tif (this.viewModel.cellFoldingState === PropertyFoldingState.Expanded && e.contentHeightChanged && this.viewModel.layoutInfo.editorHeight !== e.contentHeight) {\n\t\t\t\t\tthis.viewModel.editorHeight = e.contentHeight;\n\t\t\t\t}\n\t\t\t}));\n\t\t\tthis._initializeSourceDiffEditor();\n\t\t};\n\n\t\tthis._cellHeader = this._register(this.instantiationService.createInstance(\n\t\t\tPropertyHeader,\n\t\t\tthis.viewModel,\n\t\t\tthis._cellHeaderContainer,\n\t\t\tthis.notebookEditor,\n\t\t\t{\n\t\t\t\tupdateInfoRendering: () => renderSourceEditor(),\n\t\t\t\tcheckIfModified: () => {\n\t\t\t\t\treturn this.viewModel.originalMetadata.getHash() !== this.viewModel.modifiedMetadata.getHash() ? { reason: undefined } : false;\n\t\t\t\t},\n\t\t\t\tgetFoldingState: () => this.viewModel.cellFoldingState,\n\t\t\t\tupdateFoldingState: (state) => this.viewModel.cellFoldingState = state,\n\t\t\t\tunChangedLabel: 'Notebook Metadata',\n\t\t\t\tchangedLabel: 'Notebook Metadata changed',\n\t\t\t\tprefix: 'metadata',\n\t\t\t\tmenuId: MenuId.NotebookDiffDocumentMetadata\n\t\t\t}\n\t\t));\n\t\tthis._cellHeader.buildHeader();\n\t\trenderSourceEditor();\n\n\t\tconst scopedContextKeyService = this.contextKeyService.createScoped(this.templateData.inputToolbarContainer);\n\t\tthis._register(scopedContextKeyService);\n\t\tconst inputChanged = NOTEBOOK_DIFF_METADATA.bindTo(scopedContextKeyService);\n\t\tinputChanged.set(this.viewModel.originalMetadata.getHash() !== this.viewModel.modifiedMetadata.getHash());\n\n\t\tthis._toolbar = this.templateData.toolbar;\n\n\t\tthis._toolbar.context = this.viewModel;\n\n\t\tconst refreshToolbar = () => {\n\t\t\tconst hasChanges = this.viewModel.originalMetadata.getHash() !== this.viewModel.modifiedMetadata.getHash();\n\t\t\tinputChanged.set(hasChanges);\n\n\t\t\tif (hasChanges) {\n\t\t\t\tconst menu = this.menuService.getMenuActions(MenuId.NotebookDiffDocumentMetadata, scopedContextKeyService, { shouldForwardArgs: true });\n\t\t\t\tconst actions = getFlatActionBarActions(menu);\n\t\t\t\tthis._toolbar.setActions(actions);\n\t\t\t} else {\n\t\t\t\tthis._toolbar.setActions([]);\n\t\t\t}\n\t\t};\n\n\t\tthis._register(this.viewModel.modifiedMetadata.onDidChange(() => {\n\t\t\trefreshToolbar();\n\t\t}));\n\t\trefreshToolbar();\n\t}\n\n\tprivate async _initializeSourceDiffEditor() {\n\t\tconst [originalRef, modifiedRef] = await Promise.all([\n\t\t\tthis.textModelService.createModelReference(this.viewModel.originalMetadata.uri),\n\t\t\tthis.textModelService.createModelReference(this.viewModel.modifiedMetadata.uri)]);\n\n\t\tif (this._store.isDisposed) {\n\t\t\toriginalRef.dispose();\n\t\t\tmodifiedRef.dispose();\n\t\t\treturn;\n\t\t}\n\n\t\tthis._register(originalRef);\n\t\tthis._register(modifiedRef);\n\n\t\tconst vm = this._register(this._editor.createViewModel({\n\t\t\toriginal: originalRef.object.textEditorModel,\n\t\t\tmodified: modifiedRef.object.textEditorModel,\n\t\t}));\n\n\t\t// Reduces flicker (compute this before setting the model)\n\t\t// Else when the model is set, the height of the editor will be x, after diff is computed, then height will be y.\n\t\t// & that results in flicker.\n\t\tawait vm.waitForDiff();\n\t\tthis._editor.setModel(vm);\n\n\t\tconst handleViewStateChange = () => {\n\t\t\tthis._editorViewStateChanged = true;\n\t\t};\n\n\t\tconst handleScrollChange = (e: editorCommon.IScrollEvent) => {\n\t\t\tif (e.scrollTopChanged || e.scrollLeftChanged) {\n\t\t\t\tthis._editorViewStateChanged = true;\n\t\t\t}\n\t\t};\n\n\t\tthis.updateEditorOptionsForWhitespace();\n\t\tthis._register(this._editor.getOriginalEditor().onDidChangeCursorSelection(handleViewStateChange));\n\t\tthis._register(this._editor.getOriginalEditor().onDidScrollChange(handleScrollChange));\n\t\tthis._register(this._editor.getModifiedEditor().onDidChangeCursorSelection(handleViewStateChange));\n\t\tthis._register(this._editor.getModifiedEditor().onDidScrollChange(handleScrollChange));\n\n\t\tconst editorViewState = this.viewModel.getSourceEditorViewState() as editorCommon.IDiffEditorViewState | null;\n\t\tif (editorViewState) {\n\t\t\tthis._editor.restoreViewState(editorViewState);\n\t\t}\n\n\t\tconst contentHeight = this._editor.getContentHeight();\n\t\tthis.viewModel.editorHeight = contentHeight;\n\t}\n\tprivate updateEditorOptionsForWhitespace() {\n\t\tconst editor = this._editor;\n\t\tconst uri = editor.getModel()?.modified.uri || editor.getModel()?.original.uri;\n\t\tif (!uri) {\n\t\t\treturn;\n\t\t}\n\t\tconst ignoreTrimWhitespace = this.textConfigurationService.getValue<boolean>(uri, 'diffEditor.ignoreTrimWhitespace');\n\t\teditor.updateOptions({ ignoreTrimWhitespace });\n\n\t\tthis._register(this.textConfigurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration(uri, 'diffEditor') &&\n\t\t\t\te.affectedKeys.has('diffEditor.ignoreTrimWhitespace')) {\n\t\t\t\tconst ignoreTrimWhitespace = this.textConfigurationService.getValue<boolean>(uri, 'diffEditor.ignoreTrimWhitespace');\n\t\t\t\teditor.updateOptions({ ignoreTrimWhitespace });\n\t\t\t}\n\t\t}));\n\t}\n\tlayout(state: IDiffElementLayoutState) {\n\t\tDOM.scheduleAtNextAnimationFrame(DOM.getWindow(this._diffEditorContainer), () => {\n\t\t\tif (state.editorHeight) {\n\t\t\t\tthis._editorContainer.style.height = `${this.viewModel.layoutInfo.editorHeight}px`;\n\t\t\t\tthis._editor.layout({\n\t\t\t\t\twidth: this._editor.getViewWidth(),\n\t\t\t\t\theight: this.viewModel.layoutInfo.editorHeight\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (state.outerWidth) {\n\t\t\t\tthis._editorContainer.style.height = `${this.viewModel.layoutInfo.editorHeight}px`;\n\t\t\t\tthis._editor.layout();\n\t\t\t}\n\n\t\t\tthis.layoutNotebookCell();\n\t\t});\n\t}\n\n\toverride dispose() {\n\t\tthis._editor.setModel(null);\n\n\t\tif (this._editorViewStateChanged) {\n\t\t\tthis.viewModel.saveSpirceEditorViewState(this._editor.saveViewState());\n\t\t}\n\n\t\tsuper.dispose();\n\t}\n}\n\n\nabstract class AbstractElementRenderer extends Disposable {\n\tprotected readonly _metadataLocalDisposable = this._register(new DisposableStore());\n\tprotected readonly _outputLocalDisposable = this._register(new DisposableStore());\n\tprotected _ignoreMetadata: boolean = false;\n\tprotected _ignoreOutputs: boolean = false;\n\tprotected _cellHeaderContainer!: HTMLElement;\n\tprotected _editorContainer!: HTMLElement;\n\tprotected _cellHeader!: PropertyHeader;\n\tprotected _metadataHeaderContainer!: HTMLElement;\n\tprotected _metadataHeader!: PropertyHeader;\n\tprotected _metadataInfoContainer!: HTMLElement;\n\tprotected _metadataEditorContainer?: HTMLElement;\n\tprotected readonly _metadataEditorDisposeStore!: DisposableStore;\n\tprotected _metadataEditor?: CodeEditorWidget | DiffEditorWidget;\n\n\tprotected _outputHeaderContainer!: HTMLElement;\n\tprotected _outputHeader!: PropertyHeader;\n\tprotected _outputInfoContainer!: HTMLElement;\n\tprotected _outputEditorContainer?: HTMLElement;\n\tprotected _outputViewContainer?: HTMLElement;\n\tprotected _outputLeftContainer?: HTMLElement;\n\tprotected _outputRightContainer?: HTMLElement;\n\tprotected _outputMetadataContainer?: HTMLElement;\n\tprotected _outputEmptyElement?: HTMLElement;\n\tprotected _outputLeftView?: OutputContainer;\n\tprotected _outputRightView?: OutputContainer;\n\tprotected readonly _outputEditorDisposeStore!: DisposableStore;\n\tprotected _outputEditor?: CodeEditorWidget | DiffEditorWidget;\n\tprotected _outputMetadataEditor?: DiffEditorWidget;\n\n\tprotected _diffEditorContainer!: HTMLElement;\n\tprotected _diagonalFill?: HTMLElement;\n\tprotected _isDisposed: boolean;\n\n\tconstructor(\n\t\treadonly notebookEditor: INotebookTextDiffEditor,\n\t\treadonly cell: DiffElementCellViewModelBase,\n\t\treadonly templateData: CellDiffSingleSideRenderTemplate | CellDiffSideBySideRenderTemplate,\n\t\treadonly style: 'left' | 'right' | 'full',\n\t\tprotected readonly instantiationService: IInstantiationService,\n\t\tprotected readonly languageService: ILanguageService,\n\t\tprotected readonly modelService: IModelService,\n\t\tprotected readonly textModelService: ITextModelService,\n\t\tprotected readonly contextMenuService: IContextMenuService,\n\t\tprotected readonly keybindingService: IKeybindingService,\n\t\tprotected readonly notificationService: INotificationService,\n\t\tprotected readonly menuService: IMenuService,\n\t\tprotected readonly contextKeyService: IContextKeyService,\n\t\tprotected readonly configurationService: IConfigurationService,\n\t\tprotected readonly textConfigurationService: ITextResourceConfigurationService\n\t) {\n\t\tsuper();\n\t\t// init\n\t\tthis._isDisposed = false;\n\t\tthis._metadataEditorDisposeStore = this._register(new DisposableStore());\n\t\tthis._outputEditorDisposeStore = this._register(new DisposableStore());\n\t\tthis._register(cell.onDidLayoutChange(e => {\n\t\t\tthis.layout(e);\n\t\t}));\n\t\tthis._register(cell.onDidLayoutChange(e => this.updateBorders()));\n\t\tthis.init();\n\t\tthis.buildBody();\n\n\t\tthis._register(cell.onDidStateChange(() => {\n\t\t\tthis.updateOutputRendering(this.cell.renderOutput);\n\t\t}));\n\t}\n\n\tabstract init(): void;\n\tabstract styleContainer(container: HTMLElement): void;\n\tabstract _buildOutput(): void;\n\tabstract _disposeOutput(): void;\n\tabstract _buildMetadata(): void;\n\tabstract _disposeMetadata(): void;\n\n\tbuildBody(): void {\n\t\tconst body = this.templateData.body;\n\t\tthis._diffEditorContainer = this.templateData.diffEditorContainer;\n\t\tbody.classList.remove('left', 'right', 'full');\n\t\tswitch (this.style) {\n\t\t\tcase 'left':\n\t\t\t\tbody.classList.add('left');\n\t\t\t\tbreak;\n\t\t\tcase 'right':\n\t\t\t\tbody.classList.add('right');\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbody.classList.add('full');\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis.styleContainer(this._diffEditorContainer);\n\t\tthis.updateSourceEditor();\n\t\tif (this.cell.modified) {\n\t\t\tthis._register(this.cell.modified.textModel.onDidChangeContent(() => this._cellHeader.refresh()));\n\t\t}\n\n\t\tthis._ignoreMetadata = this.configurationService.getValue('notebook.diff.ignoreMetadata');\n\t\tif (this._ignoreMetadata) {\n\t\t\tthis._disposeMetadata();\n\t\t} else {\n\t\t\tthis._buildMetadata();\n\t\t}\n\n\t\tthis._ignoreOutputs = this.configurationService.getValue<boolean>('notebook.diff.ignoreOutputs') || !!(this.notebookEditor.textModel?.transientOptions.transientOutputs);\n\t\tif (this._ignoreOutputs) {\n\t\t\tthis._disposeOutput();\n\t\t} else {\n\t\t\tthis._buildOutput();\n\t\t}\n\n\t\tthis._register(this.configurationService.onDidChangeConfiguration(e => {\n\t\t\tlet metadataLayoutChange = false;\n\t\t\tlet outputLayoutChange = false;\n\t\t\tif (e.affectsConfiguration('notebook.diff.ignoreMetadata')) {\n\t\t\t\tconst newValue = this.configurationService.getValue<boolean>('notebook.diff.ignoreMetadata');\n\n\t\t\t\tif (newValue !== undefined && this._ignoreMetadata !== newValue) {\n\t\t\t\t\tthis._ignoreMetadata = newValue;\n\n\t\t\t\t\tthis._metadataLocalDisposable.clear();\n\t\t\t\t\tif (this.configurationService.getValue('notebook.diff.ignoreMetadata')) {\n\t\t\t\t\t\tthis._disposeMetadata();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.cell.metadataStatusHeight = 25;\n\t\t\t\t\t\tthis._buildMetadata();\n\t\t\t\t\t\tthis.updateMetadataRendering();\n\t\t\t\t\t\tmetadataLayoutChange = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (e.affectsConfiguration('notebook.diff.ignoreOutputs')) {\n\t\t\t\tconst newValue = this.configurationService.getValue<boolean>('notebook.diff.ignoreOutputs');\n\n\t\t\t\tif (newValue !== undefined && this._ignoreOutputs !== (newValue || this.notebookEditor.textModel?.transientOptions.transientOutputs)) {\n\t\t\t\t\tthis._ignoreOutputs = newValue || !!(this.notebookEditor.textModel?.transientOptions.transientOutputs);\n\n\t\t\t\t\tthis._outputLocalDisposable.clear();\n\t\t\t\t\tif (this._ignoreOutputs) {\n\t\t\t\t\t\tthis._disposeOutput();\n\t\t\t\t\t\tthis.cell.layoutChange();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.cell.outputStatusHeight = 25;\n\t\t\t\t\t\tthis._buildOutput();\n\t\t\t\t\t\toutputLayoutChange = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (metadataLayoutChange || outputLayoutChange) {\n\t\t\t\tthis.layout({ metadataHeight: metadataLayoutChange, outputTotalHeight: outputLayoutChange });\n\t\t\t}\n\t\t}));\n\t}\n\n\tupdateMetadataRendering() {\n\t\tif (this.cell.metadataFoldingState === PropertyFoldingState.Expanded) {\n\t\t\t// we should expand the metadata editor\n\t\t\tthis._metadataInfoContainer.style.display = 'block';\n\n\t\t\tif (!this._metadataEditorContainer || !this._metadataEditor) {\n\t\t\t\t// create editor\n\t\t\t\tthis._metadataEditorContainer = DOM.append(this._metadataInfoContainer, DOM.$('.metadata-editor-container'));\n\t\t\t\tthis._buildMetadataEditor();\n\t\t\t} else {\n\t\t\t\tthis.cell.metadataHeight = this._metadataEditor.getContentHeight();\n\t\t\t}\n\t\t} else {\n\t\t\t// we should collapse the metadata editor\n\t\t\tthis._metadataInfoContainer.style.display = 'none';\n\t\t\t// this._metadataEditorDisposeStore.clear();\n\t\t\tthis.cell.metadataHeight = 0;\n\t\t}\n\t}\n\n\tupdateOutputRendering(renderRichOutput: boolean) {\n\t\tif (this.cell.outputFoldingState === PropertyFoldingState.Expanded) {\n\t\t\tthis._outputInfoContainer.style.display = 'block';\n\t\t\tif (renderRichOutput) {\n\t\t\t\tthis._hideOutputsRaw();\n\t\t\t\tthis._buildOutputRendererContainer();\n\t\t\t\tthis._showOutputsRenderer();\n\t\t\t\tthis._showOutputsEmptyView();\n\t\t\t} else {\n\t\t\t\tthis._hideOutputsRenderer();\n\t\t\t\tthis._buildOutputRawContainer();\n\t\t\t\tthis._showOutputsRaw();\n\t\t\t}\n\t\t} else {\n\t\t\tthis._outputInfoContainer.style.display = 'none';\n\n\t\t\tthis._hideOutputsRaw();\n\t\t\tthis._hideOutputsRenderer();\n\t\t\tthis._hideOutputsEmptyView();\n\t\t}\n\t}\n\n\tprivate _buildOutputRawContainer() {\n\t\tif (!this._outputEditorContainer) {\n\t\t\tthis._outputEditorContainer = DOM.append(this._outputInfoContainer, DOM.$('.output-editor-container'));\n\t\t\tthis._buildOutputEditor();\n\t\t}\n\t}\n\n\tprivate _showOutputsRaw() {\n\t\tif (this._outputEditorContainer) {\n\t\t\tthis._outputEditorContainer.style.display = 'block';\n\t\t\tthis.cell.rawOutputHeight = this._outputEditor!.getContentHeight();\n\t\t}\n\t}\n\n\tprivate _showOutputsEmptyView() {\n\t\tthis.cell.layoutChange();\n\t}\n\n\tprotected _hideOutputsRaw() {\n\t\tif (this._outputEditorContainer) {\n\t\t\tthis._outputEditorContainer.style.display = 'none';\n\t\t\tthis.cell.rawOutputHeight = 0;\n\t\t}\n\t}\n\n\tprotected _hideOutputsEmptyView() {\n\t\tthis.cell.layoutChange();\n\t}\n\n\tabstract _buildOutputRendererContainer(): void;\n\tabstract _hideOutputsRenderer(): void;\n\tabstract _showOutputsRenderer(): void;\n\n\tprivate _applySanitizedMetadataChanges(currentMetadata: NotebookCellMetadata, newMetadata: any) {\n\t\tconst result: { [key: string]: any } = {};\n\t\ttry {\n\t\t\tconst newMetadataObj = JSON.parse(newMetadata);\n\t\t\tconst keys = new Set([...Object.keys(newMetadataObj)]);\n\t\t\tfor (const key of keys) {\n\t\t\t\tswitch (key as keyof NotebookCellMetadata) {\n\t\t\t\t\tcase 'inputCollapsed':\n\t\t\t\t\tcase 'outputCollapsed':\n\t\t\t\t\t\t// boolean\n\t\t\t\t\t\tif (typeof newMetadataObj[key] === 'boolean') {\n\t\t\t\t\t\t\tresult[key] = newMetadataObj[key];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult[key] = currentMetadata[key as keyof NotebookCellMetadata];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tresult[key] = newMetadataObj[key];\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst index = this.notebookEditor.textModel!.cells.indexOf(this.cell.modified!.textModel);\n\n\t\t\tif (index < 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.notebookEditor.textModel!.applyEdits([\n\t\t\t\t{ editType: CellEditType.Metadata, index, metadata: result }\n\t\t\t], true, undefined, () => undefined, undefined, true);\n\t\t} catch {\n\t\t}\n\t}\n\n\tprivate async _buildMetadataEditor() {\n\t\tthis._metadataEditorDisposeStore.clear();\n\n\t\tif (this.cell instanceof SideBySideDiffElementViewModel) {\n\t\t\tthis._metadataEditor = this.instantiationService.createInstance(DiffEditorWidget, this._metadataEditorContainer!, {\n\t\t\t\t...fixedDiffEditorOptions,\n\t\t\t\toverflowWidgetsDomNode: this.notebookEditor.getOverflowContainerDomNode(),\n\t\t\t\treadOnly: false,\n\t\t\t\toriginalEditable: false,\n\t\t\t\tignoreTrimWhitespace: false,\n\t\t\t\tautomaticLayout: false,\n\t\t\t\tdimension: {\n\t\t\t\t\theight: this.cell.layoutInfo.metadataHeight,\n\t\t\t\t\twidth: this.cell.getComputedCellContainerWidth(this.notebookEditor.getLayoutInfo(), true, true)\n\t\t\t\t}\n\t\t\t}, {\n\t\t\t\toriginalEditor: getOptimizedNestedCodeEditorWidgetOptions(),\n\t\t\t\tmodifiedEditor: getOptimizedNestedCodeEditorWidgetOptions()\n\t\t\t});\n\n\t\t\tconst unchangedRegions = this._register(getUnchangedRegionSettings(this.configurationService));\n\t\t\tif (unchangedRegions.options.enabled) {\n\t\t\t\tthis._metadataEditor.updateOptions({ hideUnchangedRegions: unchangedRegions.options });\n\t\t\t}\n\t\t\tthis._metadataEditorDisposeStore.add(unchangedRegions.onDidChangeEnablement(() => {\n\t\t\t\tif (this._metadataEditor) {\n\t\t\t\t\tthis._metadataEditor.updateOptions({ hideUnchangedRegions: unchangedRegions.options });\n\t\t\t\t}\n\t\t\t}));\n\n\n\t\t\tthis.layout({ metadataHeight: true });\n\t\t\tthis._metadataEditorDisposeStore.add(this._metadataEditor);\n\n\t\t\tthis._metadataEditorContainer?.classList.add('diff');\n\n\t\t\tconst [originalMetadataModel, modifiedMetadataModel] = await Promise.all([\n\t\t\t\tthis.textModelService.createModelReference(CellUri.generateCellPropertyUri(this.cell.originalDocument.uri, this.cell.original.handle, Schemas.vscodeNotebookCellMetadata)),\n\t\t\t\tthis.textModelService.createModelReference(CellUri.generateCellPropertyUri(this.cell.modifiedDocument.uri, this.cell.modified.handle, Schemas.vscodeNotebookCellMetadata))\n\t\t\t]);\n\n\t\t\tif (this._isDisposed) {\n\t\t\t\toriginalMetadataModel.dispose();\n\t\t\t\tmodifiedMetadataModel.dispose();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._metadataEditorDisposeStore.add(originalMetadataModel);\n\t\t\tthis._metadataEditorDisposeStore.add(modifiedMetadataModel);\n\t\t\tconst vm = this._metadataEditor.createViewModel({\n\t\t\t\toriginal: originalMetadataModel.object.textEditorModel,\n\t\t\t\tmodified: modifiedMetadataModel.object.textEditorModel\n\t\t\t});\n\t\t\tthis._metadataEditor.setModel(vm);\n\t\t\t// Reduces flicker (compute this before setting the model)\n\t\t\t// Else when the model is set, the height of the editor will be x, after diff is computed, then height will be y.\n\t\t\t// & that results in flicker.\n\t\t\tawait vm.waitForDiff();\n\n\t\t\tif (this._isDisposed) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.cell.metadataHeight = this._metadataEditor.getContentHeight();\n\n\t\t\tthis._metadataEditorDisposeStore.add(this._metadataEditor.onDidContentSizeChange((e) => {\n\t\t\t\tif (e.contentHeightChanged && this.cell.metadataFoldingState === PropertyFoldingState.Expanded) {\n\t\t\t\t\tthis.cell.metadataHeight = e.contentHeight;\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\tlet respondingToContentChange = false;\n\n\t\t\tthis._metadataEditorDisposeStore.add(modifiedMetadataModel.object.textEditorModel.onDidChangeContent(() => {\n\t\t\t\trespondingToContentChange = true;\n\t\t\t\tconst value = modifiedMetadataModel.object.textEditorModel.getValue();\n\t\t\t\tthis._applySanitizedMetadataChanges(this.cell.modified!.metadata, value);\n\t\t\t\tthis._metadataHeader.refresh();\n\t\t\t\trespondingToContentChange = false;\n\t\t\t}));\n\n\t\t\tthis._metadataEditorDisposeStore.add(this.cell.modified.textModel.onDidChangeMetadata(() => {\n\t\t\t\tif (respondingToContentChange) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst modifiedMetadataSource = getFormattedMetadataJSON(this.notebookEditor.textModel?.transientOptions.transientCellMetadata, this.cell.modified?.metadata || {}, this.cell.modified?.language, true);\n\t\t\t\tmodifiedMetadataModel.object.textEditorModel.setValue(modifiedMetadataSource);\n\t\t\t}));\n\n\t\t\treturn;\n\t\t} else {\n\t\t\tthis._metadataEditor = this.instantiationService.createInstance(CodeEditorWidget, this._metadataEditorContainer!, {\n\t\t\t\t...fixedEditorOptions,\n\t\t\t\tdimension: {\n\t\t\t\t\twidth: this.cell.getComputedCellContainerWidth(this.notebookEditor.getLayoutInfo(), false, true),\n\t\t\t\t\theight: this.cell.layoutInfo.metadataHeight\n\t\t\t\t},\n\t\t\t\toverflowWidgetsDomNode: this.notebookEditor.getOverflowContainerDomNode(),\n\t\t\t\treadOnly: false,\n\t\t\t\tallowVariableLineHeights: false\n\t\t\t}, {});\n\t\t\tthis.layout({ metadataHeight: true });\n\t\t\tthis._metadataEditorDisposeStore.add(this._metadataEditor);\n\n\t\t\tconst mode = this.languageService.createById('jsonc');\n\t\t\tconst originalMetadataSource = getFormattedMetadataJSON(this.notebookEditor.textModel?.transientOptions.transientCellMetadata,\n\t\t\t\tthis.cell.type === 'insert'\n\t\t\t\t\t? this.cell.modified!.metadata || {}\n\t\t\t\t\t: this.cell.original!.metadata || {}, undefined, true);\n\t\t\tconst uri = this.cell.type === 'insert'\n\t\t\t\t? this.cell.modified!.uri\n\t\t\t\t: this.cell.original!.uri;\n\t\t\tconst handle = this.cell.type === 'insert'\n\t\t\t\t? this.cell.modified!.handle\n\t\t\t\t: this.cell.original!.handle;\n\n\t\t\tconst modelUri = CellUri.generateCellPropertyUri(uri, handle, Schemas.vscodeNotebookCellMetadata);\n\t\t\tconst metadataModel = this.modelService.createModel(originalMetadataSource, mode, modelUri, false);\n\t\t\tthis._metadataEditor.setModel(metadataModel);\n\t\t\tthis._metadataEditorDisposeStore.add(metadataModel);\n\n\t\t\tthis.cell.metadataHeight = this._metadataEditor.getContentHeight();\n\n\t\t\tthis._metadataEditorDisposeStore.add(this._metadataEditor.onDidContentSizeChange((e) => {\n\t\t\t\tif (e.contentHeightChanged && this.cell.metadataFoldingState === PropertyFoldingState.Expanded) {\n\t\t\t\t\tthis.cell.metadataHeight = e.contentHeight;\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t}\n\n\tprivate _buildOutputEditor() {\n\t\tthis._outputEditorDisposeStore.clear();\n\n\t\tif ((this.cell.type === 'modified' || this.cell.type === 'unchanged') && !this.notebookEditor.textModel!.transientOptions.transientOutputs) {\n\t\t\tconst originalOutputsSource = getFormattedOutputJSON(this.cell.original?.outputs || []);\n\t\t\tconst modifiedOutputsSource = getFormattedOutputJSON(this.cell.modified?.outputs || []);\n\t\t\tif (originalOutputsSource !== modifiedOutputsSource) {\n\t\t\t\tconst mode = this.languageService.createById('json');\n\t\t\t\tconst originalModel = this.modelService.createModel(originalOutputsSource, mode, undefined, true);\n\t\t\t\tconst modifiedModel = this.modelService.createModel(modifiedOutputsSource, mode, undefined, true);\n\t\t\t\tthis._outputEditorDisposeStore.add(originalModel);\n\t\t\t\tthis._outputEditorDisposeStore.add(modifiedModel);\n\n\t\t\t\tconst lineHeight = this.notebookEditor.getLayoutInfo().fontInfo.lineHeight || 17;\n\t\t\t\tconst lineCount = Math.max(originalModel.getLineCount(), modifiedModel.getLineCount());\n\t\t\t\tthis._outputEditor = this.instantiationService.createInstance(DiffEditorWidget, this._outputEditorContainer!, {\n\t\t\t\t\t...fixedDiffEditorOptions,\n\t\t\t\t\toverflowWidgetsDomNode: this.notebookEditor.getOverflowContainerDomNode(),\n\t\t\t\t\treadOnly: true,\n\t\t\t\t\tignoreTrimWhitespace: false,\n\t\t\t\t\tautomaticLayout: false,\n\t\t\t\t\tdimension: {\n\t\t\t\t\t\theight: Math.min(OUTPUT_EDITOR_HEIGHT_MAGIC, this.cell.layoutInfo.rawOutputHeight || lineHeight * lineCount),\n\t\t\t\t\t\twidth: this.cell.getComputedCellContainerWidth(this.notebookEditor.getLayoutInfo(), false, true)\n\t\t\t\t\t},\n\t\t\t\t\taccessibilityVerbose: this.configurationService.getValue<boolean>(AccessibilityVerbositySettingId.DiffEditor) ?? false\n\t\t\t\t}, {\n\t\t\t\t\toriginalEditor: getOptimizedNestedCodeEditorWidgetOptions(),\n\t\t\t\t\tmodifiedEditor: getOptimizedNestedCodeEditorWidgetOptions()\n\t\t\t\t});\n\t\t\t\tthis._outputEditorDisposeStore.add(this._outputEditor);\n\n\t\t\t\tthis._outputEditorContainer?.classList.add('diff');\n\n\t\t\t\tthis._outputEditor.setModel({\n\t\t\t\t\toriginal: originalModel,\n\t\t\t\t\tmodified: modifiedModel\n\t\t\t\t});\n\t\t\t\tthis._outputEditor.restoreViewState(this.cell.getOutputEditorViewState() as editorCommon.IDiffEditorViewState);\n\n\t\t\t\tthis.cell.rawOutputHeight = this._outputEditor.getContentHeight();\n\n\t\t\t\tthis._outputEditorDisposeStore.add(this._outputEditor.onDidContentSizeChange((e) => {\n\t\t\t\t\tif (e.contentHeightChanged && this.cell.outputFoldingState === PropertyFoldingState.Expanded) {\n\t\t\t\t\t\tthis.cell.rawOutputHeight = e.contentHeight;\n\t\t\t\t\t}\n\t\t\t\t}));\n\n\t\t\t\tthis._outputEditorDisposeStore.add(this.cell.modified!.textModel.onDidChangeOutputs(() => {\n\t\t\t\t\tconst modifiedOutputsSource = getFormattedOutputJSON(this.cell.modified?.outputs || []);\n\t\t\t\t\tmodifiedModel.setValue(modifiedOutputsSource);\n\t\t\t\t\tthis._outputHeader.refresh();\n\t\t\t\t}));\n\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tthis._outputEditor = this.instantiationService.createInstance(CodeEditorWidget, this._outputEditorContainer!, {\n\t\t\t...fixedEditorOptions,\n\t\t\tdimension: {\n\t\t\t\twidth: Math.min(OUTPUT_EDITOR_HEIGHT_MAGIC, this.cell.getComputedCellContainerWidth(this.notebookEditor.getLayoutInfo(), false, this.cell.type === 'unchanged' || this.cell.type === 'modified') - 32),\n\t\t\t\theight: this.cell.layoutInfo.rawOutputHeight\n\t\t\t},\n\t\t\toverflowWidgetsDomNode: this.notebookEditor.getOverflowContainerDomNode(),\n\t\t\tallowVariableLineHeights: false\n\t\t}, {});\n\t\tthis._outputEditorDisposeStore.add(this._outputEditor);\n\n\t\tconst mode = this.languageService.createById('json');\n\t\tconst originaloutputSource = getFormattedOutputJSON(\n\t\t\tthis.notebookEditor.textModel!.transientOptions.transientOutputs\n\t\t\t\t? []\n\t\t\t\t: this.cell.type === 'insert'\n\t\t\t\t\t? this.cell.modified?.outputs || []\n\t\t\t\t\t: this.cell.original?.outputs || []);\n\t\tconst outputModel = this.modelService.createModel(originaloutputSource, mode, undefined, true);\n\t\tthis._outputEditorDisposeStore.add(outputModel);\n\t\tthis._outputEditor.setModel(outputModel);\n\t\tthis._outputEditor.restoreViewState(this.cell.getOutputEditorViewState());\n\n\t\tthis.cell.rawOutputHeight = this._outputEditor.getContentHeight();\n\n\t\tthis._outputEditorDisposeStore.add(this._outputEditor.onDidContentSizeChange((e) => {\n\t\t\tif (e.contentHeightChanged && this.cell.outputFoldingState === PropertyFoldingState.Expanded) {\n\t\t\t\tthis.cell.rawOutputHeight = e.contentHeight;\n\t\t\t}\n\t\t}));\n\t}\n\n\tprotected layoutNotebookCell() {\n\t\tthis.notebookEditor.layoutNotebookCell(\n\t\t\tthis.cell,\n\t\t\tthis.cell.layoutInfo.totalHeight\n\t\t);\n\t}\n\n\tupdateBorders() {\n\t\tthis.templateData.leftBorder.style.height = `${this.cell.layoutInfo.totalHeight - 32}px`;\n\t\tthis.templateData.rightBorder.style.height = `${this.cell.layoutInfo.totalHeight - 32}px`;\n\t\tthis.templateData.bottomBorder.style.top = `${this.cell.layoutInfo.totalHeight - 32}px`;\n\t}\n\n\toverride dispose() {\n\t\tif (this._outputEditor) {\n\t\t\tthis.cell.saveOutputEditorViewState(this._outputEditor.saveViewState());\n\t\t}\n\n\t\tif (this._metadataEditor) {\n\t\t\tthis.cell.saveMetadataEditorViewState(this._metadataEditor.saveViewState());\n\t\t}\n\n\t\tthis._metadataEditorDisposeStore.dispose();\n\t\tthis._outputEditorDisposeStore.dispose();\n\n\t\tthis._isDisposed = true;\n\t\tsuper.dispose();\n\t}\n\n\tabstract updateSourceEditor(): void;\n\tabstract layout(state: IDiffElementLayoutState): void;\n}\n\nabstract class SingleSideDiffElement extends AbstractElementRenderer {\n\tprotected _editor!: CodeEditorWidget;\n\toverride readonly cell: SingleSideDiffElementViewModel;\n\toverride readonly templateData: CellDiffSingleSideRenderTemplate;\n\tabstract get nestedCellViewModel(): DiffNestedCellViewModel;\n\tabstract get readonly(): boolean;\n\tconstructor(\n\t\tnotebookEditor: INotebookTextDiffEditor,\n\t\tcell: SingleSideDiffElementViewModel,\n\t\ttemplateData: CellDiffSingleSideRenderTemplate,\n\t\tstyle: 'left' | 'right' | 'full',\n\t\tinstantiationService: IInstantiationService,\n\t\tlanguageService: ILanguageService,\n\t\tmodelService: IModelService,\n\t\ttextModelService: ITextModelService,\n\t\tcontextMenuService: IContextMenuService,\n\t\tkeybindingService: IKeybindingService,\n\t\tnotificationService: INotificationService,\n\t\tmenuService: IMenuService,\n\t\tcontextKeyService: IContextKeyService,\n\t\tconfigurationService: IConfigurationService,\n\t\ttextConfigurationService: ITextResourceConfigurationService\n\t) {\n\t\tsuper(\n\t\t\tnotebookEditor,\n\t\t\tcell,\n\t\t\ttemplateData,\n\t\t\tstyle,\n\t\t\tinstantiationService,\n\t\t\tlanguageService,\n\t\t\tmodelService,\n\t\t\ttextModelService,\n\t\t\tcontextMenuService,\n\t\t\tkeybindingService,\n\t\t\tnotificationService,\n\t\t\tmenuService,\n\t\t\tcontextKeyService,\n\t\t\tconfigurationService,\n\t\t\ttextConfigurationService\n\t\t);\n\t\tthis.cell = cell;\n\t\tthis.templateData = templateData;\n\n\t\tthis.updateBorders();\n\t}\n\n\tinit() {\n\t\tthis._diagonalFill = this.templateData.diagonalFill;\n\t}\n\n\toverride buildBody() {\n\t\tconst body = this.templateData.body;\n\t\tthis._diffEditorContainer = this.templateData.diffEditorContainer;\n\t\tbody.classList.remove('left', 'right', 'full');\n\t\tswitch (this.style) {\n\t\t\tcase 'left':\n\t\t\t\tbody.classList.add('left');\n\t\t\t\tbreak;\n\t\t\tcase 'right':\n\t\t\t\tbody.classList.add('right');\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbody.classList.add('full');\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis.styleContainer(this._diffEditorContainer);\n\t\tthis.updateSourceEditor();\n\n\t\tif (this.configurationService.getValue('notebook.diff.ignoreMetadata')) {\n\t\t\tthis._disposeMetadata();\n\t\t} else {\n\t\t\tthis._buildMetadata();\n\t\t}\n\n\t\tif (this.configurationService.getValue('notebook.diff.ignoreOutputs') || this.notebookEditor.textModel?.transientOptions.transientOutputs) {\n\t\t\tthis._disposeOutput();\n\t\t} else {\n\t\t\tthis._buildOutput();\n\t\t}\n\n\t\tthis._register(this.configurationService.onDidChangeConfiguration(e => {\n\t\t\tlet metadataLayoutChange = false;\n\t\t\tlet outputLayoutChange = false;\n\t\t\tif (e.affectsConfiguration('notebook.diff.ignoreMetadata')) {\n\t\t\t\tthis._metadataLocalDisposable.clear();\n\t\t\t\tif (this.configurationService.getValue('notebook.diff.ignoreMetadata')) {\n\t\t\t\t\tthis._disposeMetadata();\n\t\t\t\t} else {\n\t\t\t\t\tthis.cell.metadataStatusHeight = 25;\n\t\t\t\t\tthis._buildMetadata();\n\t\t\t\t\tthis.updateMetadataRendering();\n\t\t\t\t\tmetadataLayoutChange = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (e.affectsConfiguration('notebook.diff.ignoreOutputs')) {\n\t\t\t\tthis._outputLocalDisposable.clear();\n\t\t\t\tif (this.configurationService.getValue('notebook.diff.ignoreOutputs') || this.notebookEditor.textModel?.transientOptions.transientOutputs) {\n\t\t\t\t\tthis._disposeOutput();\n\t\t\t\t} else {\n\t\t\t\t\tthis.cell.outputStatusHeight = 25;\n\t\t\t\t\tthis._buildOutput();\n\t\t\t\t\toutputLayoutChange = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (metadataLayoutChange || outputLayoutChange) {\n\t\t\t\tthis.layout({ metadataHeight: metadataLayoutChange, outputTotalHeight: outputLayoutChange });\n\t\t\t}\n\t\t}));\n\t}\n\n\toverride updateSourceEditor(): void {\n\t\tthis._cellHeaderContainer = this.templateData.cellHeaderContainer;\n\t\tthis._cellHeaderContainer.style.display = 'flex';\n\t\tthis._cellHeaderContainer.innerText = '';\n\t\tthis._editorContainer = this.templateData.editorContainer;\n\t\tthis._editorContainer.classList.add('diff');\n\n\t\tconst renderSourceEditor = () => {\n\t\t\tif (this.cell.cellFoldingState === PropertyFoldingState.Collapsed) {\n\t\t\t\tthis._editorContainer.style.display = 'none';\n\t\t\t\tthis.cell.editorHeight = 0;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst lineHeight = this.notebookEditor.getLayoutInfo().fontInfo.lineHeight || 17;\n\t\t\tconst editorHeight = this.cell.computeInputEditorHeight(lineHeight);\n\n\t\t\tthis._editorContainer.style.height = `${editorHeight}px`;\n\t\t\tthis._editorContainer.style.display = 'block';\n\n\t\t\tif (this._editor) {\n\t\t\t\tconst contentHeight = this._editor.getContentHeight();\n\t\t\t\tif (contentHeight >= 0) {\n\t\t\t\t\tthis.cell.editorHeight = contentHeight;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._editor = this.templateData.sourceEditor;\n\t\t\tthis._editor.layout(\n\t\t\t\t{\n\t\t\t\t\twidth: (this.notebookEditor.getLayoutInfo().width - 2 * DIFF_CELL_MARGIN) / 2 - 18,\n\t\t\t\t\theight: editorHeight\n\t\t\t\t}\n\t\t\t);\n\t\t\tthis._editor.updateOptions({ readOnly: this.readonly });\n\t\t\tthis.cell.editorHeight = editorHeight;\n\n\t\t\tthis._register(this._editor.onDidContentSizeChange((e) => {\n\t\t\t\tif (this.cell.cellFoldingState === PropertyFoldingState.Expanded && e.contentHeightChanged && this.cell.layoutInfo.editorHeight !== e.contentHeight) {\n\t\t\t\t\tthis.cell.editorHeight = e.contentHeight;\n\t\t\t\t}\n\t\t\t}));\n\t\t\tthis._initializeSourceDiffEditor(this.nestedCellViewModel);\n\t\t};\n\n\t\tthis._cellHeader = this._register(this.instantiationService.createInstance(\n\t\t\tPropertyHeader,\n\t\t\tthis.cell,\n\t\t\tthis._cellHeaderContainer,\n\t\t\tthis.notebookEditor,\n\t\t\t{\n\t\t\t\tupdateInfoRendering: () => renderSourceEditor(),\n\t\t\t\tcheckIfModified: () => ({ reason: undefined }),\n\t\t\t\tgetFoldingState: () => this.cell.cellFoldingState,\n\t\t\t\tupdateFoldingState: (state) => this.cell.cellFoldingState = state,\n\t\t\t\tunChangedLabel: 'Input',\n\t\t\t\tchangedLabel: 'Input',\n\t\t\t\tprefix: 'input',\n\t\t\t\tmenuId: MenuId.NotebookDiffCellInputTitle\n\t\t\t}\n\t\t));\n\t\tthis._cellHeader.buildHeader();\n\t\trenderSourceEditor();\n\n\t\tthis._initializeSourceDiffEditor(this.nestedCellViewModel);\n\t}\n\tprotected calculateDiagonalFillHeight() {\n\t\treturn this.cell.layoutInfo.cellStatusHeight + this.cell.layoutInfo.editorHeight + this.cell.layoutInfo.editorMargin + this.cell.layoutInfo.metadataStatusHeight + this.cell.layoutInfo.metadataHeight + this.cell.layoutInfo.outputTotalHeight + this.cell.layoutInfo.outputStatusHeight;\n\t}\n\n\tprivate async _initializeSourceDiffEditor(modifiedCell: DiffNestedCellViewModel) {\n\t\tconst modifiedRef = await this.textModelService.createModelReference(modifiedCell.uri);\n\n\t\tif (this._isDisposed) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst modifiedTextModel = modifiedRef.object.textEditorModel;\n\t\tthis._register(modifiedRef);\n\n\t\tthis._editor!.setModel(modifiedTextModel);\n\n\t\tconst editorViewState = this.cell.getSourceEditorViewState() as editorCommon.IDiffEditorViewState | null;\n\t\tif (editorViewState) {\n\t\t\tthis._editor!.restoreViewState(editorViewState);\n\t\t}\n\n\t\tconst contentHeight = this._editor!.getContentHeight();\n\t\tthis.cell.editorHeight = contentHeight;\n\t\tconst height = `${this.calculateDiagonalFillHeight()}px`;\n\t\tif (this._diagonalFill!.style.height !== height) {\n\t\t\tthis._diagonalFill!.style.height = height;\n\t\t}\n\t}\n\n\t_disposeMetadata() {\n\t\tthis.cell.metadataStatusHeight = 0;\n\t\tthis.cell.metadataHeight = 0;\n\t\tthis.templateData.cellHeaderContainer.style.display = 'none';\n\t\tthis.templateData.metadataHeaderContainer.style.display = 'none';\n\t\tthis.templateData.metadataInfoContainer.style.display = 'none';\n\t\tthis._metadataEditor = undefined;\n\t}\n\n\t_buildMetadata() {\n\t\tthis._metadataHeaderContainer = this.templateData.metadataHeaderContainer;\n\t\tthis._metadataInfoContainer = this.templateData.metadataInfoContainer;\n\t\tthis._metadataHeaderContainer.style.display = 'flex';\n\t\tthis._metadataInfoContainer.style.display = 'block';\n\t\tthis._metadataHeaderContainer.innerText = '';\n\t\tthis._metadataInfoContainer.innerText = '';\n\n\t\tthis._metadataHeader = this.instantiationService.createInstance(\n\t\t\tPropertyHeader,\n\t\t\tthis.cell,\n\t\t\tthis._metadataHeaderContainer,\n\t\t\tthis.notebookEditor,\n\t\t\t{\n\t\t\t\tupdateInfoRendering: this.updateMetadataRendering.bind(this),\n\t\t\t\tcheckIfModified: () => {\n\t\t\t\t\treturn this.cell.checkMetadataIfModified();\n\t\t\t\t},\n\t\t\t\tgetFoldingState: () => {\n\t\t\t\t\treturn this.cell.metadataFoldingState;\n\t\t\t\t},\n\t\t\t\tupdateFoldingState: (state) => {\n\t\t\t\t\tthis.cell.metadataFoldingState = state;\n\t\t\t\t},\n\t\t\t\tunChangedLabel: 'Metadata',\n\t\t\t\tchangedLabel: 'Metadata changed',\n\t\t\t\tprefix: 'metadata',\n\t\t\t\tmenuId: MenuId.NotebookDiffCellMetadataTitle\n\t\t\t}\n\t\t);\n\t\tthis._metadataLocalDisposable.add(this._metadataHeader);\n\t\tthis._metadataHeader.buildHeader();\n\t}\n\n\t_buildOutput() {\n\t\tthis.templateData.outputHeaderContainer.style.display = 'flex';\n\t\tthis.templateData.outputInfoContainer.style.display = 'block';\n\n\t\tthis._outputHeaderContainer = this.templateData.outputHeaderContainer;\n\t\tthis._outputInfoContainer = this.templateData.outputInfoContainer;\n\n\t\tthis._outputHeaderContainer.innerText = '';\n\t\tthis._outputInfoContainer.innerText = '';\n\n\t\tthis._outputHeader = this.instantiationService.createInstance(\n\t\t\tPropertyHeader,\n\t\t\tthis.cell,\n\t\t\tthis._outputHeaderContainer,\n\t\t\tthis.notebookEditor,\n\t\t\t{\n\t\t\t\tupdateInfoRendering: this.updateOutputRendering.bind(this),\n\t\t\t\tcheckIfModified: () => {\n\t\t\t\t\treturn this.cell.checkIfOutputsModified();\n\t\t\t\t},\n\t\t\t\tgetFoldingState: () => {\n\t\t\t\t\treturn this.cell.outputFoldingState;\n\t\t\t\t},\n\t\t\t\tupdateFoldingState: (state) => {\n\t\t\t\t\tthis.cell.outputFoldingState = state;\n\t\t\t\t},\n\t\t\t\tunChangedLabel: 'Outputs',\n\t\t\t\tchangedLabel: 'Outputs changed',\n\t\t\t\tprefix: 'output',\n\t\t\t\tmenuId: MenuId.NotebookDiffCellOutputsTitle\n\t\t\t}\n\t\t);\n\t\tthis._outputLocalDisposable.add(this._outputHeader);\n\t\tthis._outputHeader.buildHeader();\n\t}\n\n\t_disposeOutput() {\n\t\tthis._hideOutputsRaw();\n\t\tthis._hideOutputsRenderer();\n\t\tthis._hideOutputsEmptyView();\n\n\t\tthis.cell.rawOutputHeight = 0;\n\t\tthis.cell.outputMetadataHeight = 0;\n\t\tthis.cell.outputStatusHeight = 0;\n\t\tthis.templateData.outputHeaderContainer.style.display = 'none';\n\t\tthis.templateData.outputInfoContainer.style.display = 'none';\n\t\tthis._outputViewContainer = undefined;\n\t}\n}\nexport class DeletedElement extends SingleSideDiffElement {\n\tconstructor(\n\t\tnotebookEditor: INotebookTextDiffEditor,\n\t\tcell: SingleSideDiffElementViewModel,\n\t\ttemplateData: CellDiffSingleSideRenderTemplate,\n\t\t@ILanguageService languageService: ILanguageService,\n\t\t@IModelService modelService: IModelService,\n\t\t@ITextModelService textModelService: ITextModelService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@INotificationService notificationService: INotificationService,\n\t\t@IMenuService menuService: IMenuService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@ITextResourceConfigurationService textConfigurationService: ITextResourceConfigurationService,\n\t) {\n\t\tsuper(notebookEditor, cell, templateData, 'left', instantiationService, languageService, modelService, textModelService, contextMenuService, keybindingService, notificationService, menuService, contextKeyService, configurationService, textConfigurationService);\n\t}\n\n\tget nestedCellViewModel() {\n\t\treturn this.cell.original!;\n\t}\n\tget readonly() {\n\t\treturn true;\n\t}\n\n\tstyleContainer(container: HTMLElement) {\n\t\tcontainer.classList.remove('inserted');\n\t\tcontainer.classList.add('removed');\n\t}\n\n\tlayout(state: IDiffElementLayoutState) {\n\t\tDOM.scheduleAtNextAnimationFrame(DOM.getWindow(this._diffEditorContainer), () => {\n\t\t\tif ((state.editorHeight || state.outerWidth) && this._editor) {\n\t\t\t\tthis._editorContainer.style.height = `${this.cell.layoutInfo.editorHeight}px`;\n\t\t\t\tthis._editor.layout({\n\t\t\t\t\twidth: this.cell.getComputedCellContainerWidth(this.notebookEditor.getLayoutInfo(), false, false),\n\t\t\t\t\theight: this.cell.layoutInfo.editorHeight\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (state.outerWidth && this._editor) {\n\t\t\t\tthis._editorContainer.style.height = `${this.cell.layoutInfo.editorHeight}px`;\n\t\t\t\tthis._editor.layout();\n\t\t\t}\n\n\t\t\tif (state.metadataHeight || state.outerWidth) {\n\t\t\t\tthis._metadataEditor?.layout({\n\t\t\t\t\twidth: this.cell.getComputedCellContainerWidth(this.notebookEditor.getLayoutInfo(), false, false),\n\t\t\t\t\theight: this.cell.layoutInfo.metadataHeight\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (state.outputTotalHeight || state.outerWidth) {\n\t\t\t\tthis._outputEditor?.layout({\n\t\t\t\t\twidth: this.cell.getComputedCellContainerWidth(this.notebookEditor.getLayoutInfo(), false, false),\n\t\t\t\t\theight: this.cell.layoutInfo.outputTotalHeight\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (this._diagonalFill) {\n\t\t\t\tthis._diagonalFill.style.height = `${this.calculateDiagonalFillHeight()}px`;\n\t\t\t}\n\n\t\t\tthis.layoutNotebookCell();\n\t\t});\n\t}\n\n\n\t_buildOutputRendererContainer() {\n\t\tif (!this._outputViewContainer) {\n\t\t\tthis._outputViewContainer = DOM.append(this._outputInfoContainer, DOM.$('.output-view-container'));\n\t\t\tthis._outputEmptyElement = DOM.append(this._outputViewContainer, DOM.$('.output-empty-view'));\n\t\t\tconst span = DOM.append(this._outputEmptyElement, DOM.$('span'));\n\t\t\tspan.innerText = 'No outputs to render';\n\n\t\t\tif (!this.cell.original?.outputs.length) {\n\t\t\t\tthis._outputEmptyElement.style.display = 'block';\n\t\t\t} else {\n\t\t\t\tthis._outputEmptyElement.style.display = 'none';\n\t\t\t}\n\n\t\t\tthis.cell.layoutChange();\n\n\t\t\tthis._outputLeftView = this.instantiationService.createInstance(OutputContainer, this.notebookEditor, this.notebookEditor.textModel!, this.cell, this.cell.original!, DiffSide.Original, this._outputViewContainer);\n\t\t\tthis._register(this._outputLeftView);\n\t\t\tthis._outputLeftView.render();\n\n\t\t\tconst removedOutputRenderListener = this.notebookEditor.onDidDynamicOutputRendered(e => {\n\t\t\t\tif (e.cell.uri.toString() === this.cell.original!.uri.toString()) {\n\t\t\t\t\tthis.notebookEditor.deltaCellOutputContainerClassNames(DiffSide.Original, this.cell.original!.id, ['nb-cellDeleted'], []);\n\t\t\t\t\tremovedOutputRenderListener.dispose();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis._register(removedOutputRenderListener);\n\t\t}\n\n\t\tthis._outputViewContainer.style.display = 'block';\n\t}\n\n\t_decorate() {\n\t\tthis.notebookEditor.deltaCellOutputContainerClassNames(DiffSide.Original, this.cell.original!.id, ['nb-cellDeleted'], []);\n\t}\n\n\t_showOutputsRenderer() {\n\t\tif (this._outputViewContainer) {\n\t\t\tthis._outputViewContainer.style.display = 'block';\n\n\t\t\tthis._outputLeftView?.showOutputs();\n\t\t\tthis._decorate();\n\t\t}\n\t}\n\n\t_hideOutputsRenderer() {\n\t\tif (this._outputViewContainer) {\n\t\t\tthis._outputViewContainer.style.display = 'none';\n\n\t\t\tthis._outputLeftView?.hideOutputs();\n\t\t}\n\t}\n\n\toverride dispose() {\n\t\tif (this._editor) {\n\t\t\tthis.cell.saveSpirceEditorViewState(this._editor.saveViewState());\n\t\t}\n\n\t\tsuper.dispose();\n\t}\n}\n\nexport class InsertElement extends SingleSideDiffElement {\n\tconstructor(\n\t\tnotebookEditor: INotebookTextDiffEditor,\n\t\tcell: SingleSideDiffElementViewModel,\n\t\ttemplateData: CellDiffSingleSideRenderTemplate,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@ILanguageService languageService: ILanguageService,\n\t\t@IModelService modelService: IModelService,\n\t\t@ITextModelService textModelService: ITextModelService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@INotificationService notificationService: INotificationService,\n\t\t@IMenuService menuService: IMenuService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@ITextResourceConfigurationService textConfigurationService: ITextResourceConfigurationService,\n\t) {\n\t\tsuper(notebookEditor, cell, templateData, 'right', instantiationService, languageService, modelService, textModelService, contextMenuService, keybindingService, notificationService, menuService, contextKeyService, configurationService, textConfigurationService);\n\t}\n\tget nestedCellViewModel() {\n\t\treturn this.cell.modified!;\n\t}\n\tget readonly() {\n\t\treturn false;\n\t}\n\n\tstyleContainer(container: HTMLElement): void {\n\t\tcontainer.classList.remove('removed');\n\t\tcontainer.classList.add('inserted');\n\t}\n\n\t_buildOutputRendererContainer() {\n\t\tif (!this._outputViewContainer) {\n\t\t\tthis._outputViewContainer = DOM.append(this._outputInfoContainer, DOM.$('.output-view-container'));\n\t\t\tthis._outputEmptyElement = DOM.append(this._outputViewContainer, DOM.$('.output-empty-view'));\n\t\t\tthis._outputEmptyElement.innerText = 'No outputs to render';\n\n\t\t\tif (!this.cell.modified?.outputs.length) {\n\t\t\t\tthis._outputEmptyElement.style.display = 'block';\n\t\t\t} else {\n\t\t\t\tthis._outputEmptyElement.style.display = 'none';\n\t\t\t}\n\n\t\t\tthis.cell.layoutChange();\n\n\t\t\tthis._outputRightView = this.instantiationService.createInstance(OutputContainer, this.notebookEditor, this.notebookEditor.textModel!, this.cell, this.cell.modified!, DiffSide.Modified, this._outputViewContainer);\n\t\t\tthis._register(this._outputRightView);\n\t\t\tthis._outputRightView.render();\n\n\t\t\tconst insertOutputRenderListener = this.notebookEditor.onDidDynamicOutputRendered(e => {\n\t\t\t\tif (e.cell.uri.toString() === this.cell.modified!.uri.toString()) {\n\t\t\t\t\tthis.notebookEditor.deltaCellOutputContainerClassNames(DiffSide.Modified, this.cell.modified!.id, ['nb-cellAdded'], []);\n\t\t\t\t\tinsertOutputRenderListener.dispose();\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis._register(insertOutputRenderListener);\n\t\t}\n\n\t\tthis._outputViewContainer.style.display = 'block';\n\t}\n\n\t_decorate() {\n\t\tthis.notebookEditor.deltaCellOutputContainerClassNames(DiffSide.Modified, this.cell.modified!.id, ['nb-cellAdded'], []);\n\t}\n\n\t_showOutputsRenderer() {\n\t\tif (this._outputViewContainer) {\n\t\t\tthis._outputViewContainer.style.display = 'block';\n\t\t\tthis._outputRightView?.showOutputs();\n\t\t\tthis._decorate();\n\t\t}\n\t}\n\n\t_hideOutputsRenderer() {\n\t\tif (this._outputViewContainer) {\n\t\t\tthis._outputViewContainer.style.display = 'none';\n\t\t\tthis._outputRightView?.hideOutputs();\n\t\t}\n\t}\n\n\tlayout(state: IDiffElementLayoutState) {\n\t\tDOM.scheduleAtNextAnimationFrame(DOM.getWindow(this._diffEditorContainer), () => {\n\t\t\tif ((state.editorHeight || state.outerWidth) && this._editor) {\n\t\t\t\tthis._editorContainer.style.height = `${this.cell.layoutInfo.editorHeight}px`;\n\t\t\t\tthis._editor.layout({\n\t\t\t\t\twidth: this.cell.getComputedCellContainerWidth(this.notebookEditor.getLayoutInfo(), false, false),\n\t\t\t\t\theight: this.cell.layoutInfo.editorHeight\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (state.outerWidth && this._editor) {\n\t\t\t\tthis._editorContainer.style.height = `${this.cell.layoutInfo.editorHeight}px`;\n\t\t\t\tthis._editor.layout();\n\t\t\t}\n\n\t\t\tif (state.metadataHeight || state.outerWidth) {\n\t\t\t\tthis._metadataEditor?.layout({\n\t\t\t\t\twidth: this.cell.getComputedCellContainerWidth(this.notebookEditor.getLayoutInfo(), false, true),\n\t\t\t\t\theight: this.cell.layoutInfo.metadataHeight\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (state.outputTotalHeight || state.outerWidth) {\n\t\t\t\tthis._outputEditor?.layout({\n\t\t\t\t\twidth: this.cell.getComputedCellContainerWidth(this.notebookEditor.getLayoutInfo(), false, false),\n\t\t\t\t\theight: this.cell.layoutInfo.outputTotalHeight\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.layoutNotebookCell();\n\n\t\t\tif (this._diagonalFill) {\n\t\t\t\tthis._diagonalFill.style.height = `${this.calculateDiagonalFillHeight()}px`;\n\t\t\t}\n\t\t});\n\t}\n\n\toverride dispose() {\n\t\tif (this._editor) {\n\t\t\tthis.cell.saveSpirceEditorViewState(this._editor.saveViewState());\n\t\t}\n\n\t\tsuper.dispose();\n\t}\n}\n\nexport class ModifiedElement extends AbstractElementRenderer {\n\tprivate _editor?: DiffEditorWidget;\n\tprivate _editorViewStateChanged: boolean;\n\tprotected _toolbar!: ToolBar;\n\tprotected _menu!: IMenu;\n\n\toverride readonly cell: SideBySideDiffElementViewModel;\n\toverride readonly templateData: CellDiffSideBySideRenderTemplate;\n\n\tconstructor(\n\t\tnotebookEditor: INotebookTextDiffEditor,\n\t\tcell: SideBySideDiffElementViewModel,\n\t\ttemplateData: CellDiffSideBySideRenderTemplate,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@ILanguageService languageService: ILanguageService,\n\t\t@IModelService modelService: IModelService,\n\t\t@ITextModelService textModelService: ITextModelService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@INotificationService notificationService: INotificationService,\n\t\t@IMenuService menuService: IMenuService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@ITextResourceConfigurationService textConfigurationService: ITextResourceConfigurationService,\n\t) {\n\t\tsuper(notebookEditor, cell, templateData, 'full', instantiationService, languageService, modelService, textModelService, contextMenuService, keybindingService, notificationService, menuService, contextKeyService, configurationService, textConfigurationService);\n\t\tthis.cell = cell;\n\t\tthis.templateData = templateData;\n\t\tthis._editorViewStateChanged = false;\n\n\t\tthis.updateBorders();\n\t}\n\n\tinit() { }\n\tstyleContainer(container: HTMLElement): void {\n\t\tcontainer.classList.remove('inserted', 'removed');\n\t}\n\n\toverride buildBody(): void {\n\t\tsuper.buildBody();\n\t\tif (this.cell.displayIconToHideUnmodifiedCells) {\n\t\t\tthis._register(this.templateData.marginOverlay.onAction(() => this.cell.hideUnchangedCells()));\n\t\t\tthis.templateData.marginOverlay.show();\n\t\t} else {\n\t\t\tthis.templateData.marginOverlay.hide();\n\t\t}\n\t}\n\t_disposeMetadata() {\n\t\tthis.cell.metadataStatusHeight = 0;\n\t\tthis.cell.metadataHeight = 0;\n\t\tthis.templateData.metadataHeaderContainer.style.display = 'none';\n\t\tthis.templateData.metadataInfoContainer.style.display = 'none';\n\t\tthis._metadataEditor = undefined;\n\t}\n\n\t_buildMetadata() {\n\t\tthis._metadataHeaderContainer = this.templateData.metadataHeaderContainer;\n\t\tthis._metadataInfoContainer = this.templateData.metadataInfoContainer;\n\t\tthis._metadataHeaderContainer.style.display = 'flex';\n\t\tthis._metadataInfoContainer.style.display = 'block';\n\n\t\tthis._metadataHeaderContainer.innerText = '';\n\t\tthis._metadataInfoContainer.innerText = '';\n\n\t\tthis._metadataHeader = this.instantiationService.createInstance(\n\t\t\tPropertyHeader,\n\t\t\tthis.cell,\n\t\t\tthis._metadataHeaderContainer,\n\t\t\tthis.notebookEditor,\n\t\t\t{\n\t\t\t\tupdateInfoRendering: this.updateMetadataRendering.bind(this),\n\t\t\t\tcheckIfModified: () => {\n\t\t\t\t\treturn this.cell.checkMetadataIfModified();\n\t\t\t\t},\n\t\t\t\tgetFoldingState: () => {\n\t\t\t\t\treturn this.cell.metadataFoldingState;\n\t\t\t\t},\n\t\t\t\tupdateFoldingState: (state) => {\n\t\t\t\t\tthis.cell.metadataFoldingState = state;\n\t\t\t\t},\n\t\t\t\tunChangedLabel: 'Metadata',\n\t\t\t\tchangedLabel: 'Metadata changed',\n\t\t\t\tprefix: 'metadata',\n\t\t\t\tmenuId: MenuId.NotebookDiffCellMetadataTitle\n\t\t\t}\n\t\t);\n\t\tthis._metadataLocalDisposable.add(this._metadataHeader);\n\t\tthis._metadataHeader.buildHeader();\n\t}\n\n\t_disposeOutput() {\n\t\tthis._hideOutputsRaw();\n\t\tthis._hideOutputsRenderer();\n\t\tthis._hideOutputsEmptyView();\n\n\t\tthis.cell.rawOutputHeight = 0;\n\t\tthis.cell.outputMetadataHeight = 0;\n\t\tthis.cell.outputStatusHeight = 0;\n\t\tthis.templateData.outputHeaderContainer.style.display = 'none';\n\t\tthis.templateData.outputInfoContainer.style.display = 'none';\n\t\tthis._outputViewContainer = undefined;\n\t}\n\n\t_buildOutput() {\n\t\tthis.templateData.outputHeaderContainer.style.display = 'flex';\n\t\tthis.templateData.outputInfoContainer.style.display = 'block';\n\n\t\tthis._outputHeaderContainer = this.templateData.outputHeaderContainer;\n\t\tthis._outputInfoContainer = this.templateData.outputInfoContainer;\n\t\tthis._outputHeaderContainer.innerText = '';\n\t\tthis._outputInfoContainer.innerText = '';\n\n\t\tif (this.cell.checkIfOutputsModified()) {\n\t\t\tthis._outputInfoContainer.classList.add('modified');\n\t\t} else {\n\t\t\tthis._outputInfoContainer.classList.remove('modified');\n\t\t}\n\n\t\tthis._outputHeader = this.instantiationService.createInstance(\n\t\t\tPropertyHeader,\n\t\t\tthis.cell,\n\t\t\tthis._outputHeaderContainer,\n\t\t\tthis.notebookEditor,\n\t\t\t{\n\t\t\t\tupdateInfoRendering: this.updateOutputRendering.bind(this),\n\t\t\t\tcheckIfModified: () => {\n\t\t\t\t\treturn this.cell.checkIfOutputsModified();\n\t\t\t\t},\n\t\t\t\tgetFoldingState: () => {\n\t\t\t\t\treturn this.cell.outputFoldingState;\n\t\t\t\t},\n\t\t\t\tupdateFoldingState: (state) => {\n\t\t\t\t\tthis.cell.outputFoldingState = state;\n\t\t\t\t},\n\t\t\t\tunChangedLabel: 'Outputs',\n\t\t\t\tchangedLabel: 'Outputs changed',\n\t\t\t\tprefix: 'output',\n\t\t\t\tmenuId: MenuId.NotebookDiffCellOutputsTitle\n\t\t\t}\n\t\t);\n\t\tthis._outputLocalDisposable.add(this._outputHeader);\n\t\tthis._outputHeader.buildHeader();\n\t}\n\n\t_buildOutputRendererContainer() {\n\t\tif (!this._outputViewContainer) {\n\t\t\tthis._outputViewContainer = DOM.append(this._outputInfoContainer, DOM.$('.output-view-container'));\n\t\t\tthis._outputEmptyElement = DOM.append(this._outputViewContainer, DOM.$('.output-empty-view'));\n\t\t\tthis._outputEmptyElement.innerText = 'No outputs to render';\n\n\t\t\tif (!this.cell.checkIfOutputsModified() && this.cell.modified.outputs.length === 0) {\n\t\t\t\tthis._outputEmptyElement.style.display = 'block';\n\t\t\t} else {\n\t\t\t\tthis._outputEmptyElement.style.display = 'none';\n\t\t\t}\n\n\t\t\tthis.cell.layoutChange();\n\n\t\t\tthis._register(this.cell.modified.textModel.onDidChangeOutputs(() => {\n\t\t\t\t// currently we only allow outputs change to the modified cell\n\t\t\t\tif (!this.cell.checkIfOutputsModified() && this.cell.modified.outputs.length === 0) {\n\t\t\t\t\tthis._outputEmptyElement!.style.display = 'block';\n\t\t\t\t} else {\n\t\t\t\t\tthis._outputEmptyElement!.style.display = 'none';\n\t\t\t\t}\n\t\t\t\tthis._decorate();\n\t\t\t}));\n\n\t\t\tthis._outputLeftContainer = DOM.append(this._outputViewContainer, DOM.$('.output-view-container-left'));\n\t\t\tthis._outputRightContainer = DOM.append(this._outputViewContainer, DOM.$('.output-view-container-right'));\n\t\t\tthis._outputMetadataContainer = DOM.append(this._outputViewContainer, DOM.$('.output-view-container-metadata'));\n\n\t\t\tconst outputModified = this.cell.checkIfOutputsModified();\n\t\t\tconst outputMetadataChangeOnly = outputModified\n\t\t\t\t&& outputModified.kind === OutputComparison.Metadata\n\t\t\t\t&& this.cell.original.outputs.length === 1\n\t\t\t\t&& this.cell.modified.outputs.length === 1\n\t\t\t\t&& outputEqual(this.cell.original.outputs[0], this.cell.modified.outputs[0]) === OutputComparison.Metadata;\n\n\t\t\tif (outputModified && !outputMetadataChangeOnly) {\n\t\t\t\tconst originalOutputRenderListener = this.notebookEditor.onDidDynamicOutputRendered(e => {\n\t\t\t\t\tif (e.cell.uri.toString() === this.cell.original.uri.toString() && this.cell.checkIfOutputsModified()) {\n\t\t\t\t\t\tthis.notebookEditor.deltaCellOutputContainerClassNames(DiffSide.Original, this.cell.original.id, ['nb-cellDeleted'], []);\n\t\t\t\t\t\toriginalOutputRenderListener.dispose();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tconst modifiedOutputRenderListener = this.notebookEditor.onDidDynamicOutputRendered(e => {\n\t\t\t\t\tif (e.cell.uri.toString() === this.cell.modified.uri.toString() && this.cell.checkIfOutputsModified()) {\n\t\t\t\t\t\tthis.notebookEditor.deltaCellOutputContainerClassNames(DiffSide.Modified, this.cell.modified.id, ['nb-cellAdded'], []);\n\t\t\t\t\t\tmodifiedOutputRenderListener.dispose();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis._register(originalOutputRenderListener);\n\t\t\t\tthis._register(modifiedOutputRenderListener);\n\t\t\t}\n\n\t\t\t// We should use the original text model here\n\t\t\tthis._outputLeftView = this.instantiationService.createInstance(OutputContainer, this.notebookEditor, this.notebookEditor.textModel!, this.cell, this.cell.original, DiffSide.Original, this._outputLeftContainer);\n\t\t\tthis._outputLeftView.render();\n\t\t\tthis._register(this._outputLeftView);\n\t\t\tthis._outputRightView = this.instantiationService.createInstance(OutputContainer, this.notebookEditor, this.notebookEditor.textModel!, this.cell, this.cell.modified, DiffSide.Modified, this._outputRightContainer);\n\t\t\tthis._outputRightView.render();\n\t\t\tthis._register(this._outputRightView);\n\n\t\t\tif (outputModified && !outputMetadataChangeOnly) {\n\t\t\t\tthis._decorate();\n\t\t\t}\n\n\t\t\tif (outputMetadataChangeOnly) {\n\n\t\t\t\tthis._outputMetadataContainer.style.top = `${this.cell.layoutInfo.rawOutputHeight}px`;\n\t\t\t\t// single output, metadata change, let's render a diff editor for metadata\n\t\t\t\tthis._outputMetadataEditor = this.instantiationService.createInstance(DiffEditorWidget, this._outputMetadataContainer, {\n\t\t\t\t\t...fixedDiffEditorOptions,\n\t\t\t\t\toverflowWidgetsDomNode: this.notebookEditor.getOverflowContainerDomNode(),\n\t\t\t\t\treadOnly: true,\n\t\t\t\t\tignoreTrimWhitespace: false,\n\t\t\t\t\tautomaticLayout: false,\n\t\t\t\t\tdimension: {\n\t\t\t\t\t\theight: OUTPUT_EDITOR_HEIGHT_MAGIC,\n\t\t\t\t\t\twidth: this.cell.getComputedCellContainerWidth(this.notebookEditor.getLayoutInfo(), false, true)\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\toriginalEditor: getOptimizedNestedCodeEditorWidgetOptions(),\n\t\t\t\t\tmodifiedEditor: getOptimizedNestedCodeEditorWidgetOptions()\n\t\t\t\t});\n\n\t\t\t\tthis._register(this._outputMetadataEditor);\n\t\t\t\tconst originalOutputMetadataSource = JSON.stringify(this.cell.original.outputs[0].metadata ?? {}, undefined, '\\t');\n\t\t\t\tconst modifiedOutputMetadataSource = JSON.stringify(this.cell.modified.outputs[0].metadata ?? {}, undefined, '\\t');\n\n\t\t\t\tconst mode = this.languageService.createById('json');\n\t\t\t\tconst originalModel = this.modelService.createModel(originalOutputMetadataSource, mode, undefined, true);\n\t\t\t\tconst modifiedModel = this.modelService.createModel(modifiedOutputMetadataSource, mode, undefined, true);\n\n\t\t\t\tthis._outputMetadataEditor.setModel({\n\t\t\t\t\toriginal: originalModel,\n\t\t\t\t\tmodified: modifiedModel\n\t\t\t\t});\n\n\t\t\t\tthis.cell.outputMetadataHeight = this._outputMetadataEditor.getContentHeight();\n\n\t\t\t\tthis._register(this._outputMetadataEditor.onDidContentSizeChange((e) => {\n\t\t\t\t\tthis.cell.outputMetadataHeight = e.contentHeight;\n\t\t\t\t}));\n\t\t\t}\n\t\t}\n\n\t\tthis._outputViewContainer.style.display = 'block';\n\t}\n\n\t_decorate() {\n\t\tif (this.cell.checkIfOutputsModified()) {\n\t\t\tthis.notebookEditor.deltaCellOutputContainerClassNames(DiffSide.Original, this.cell.original.id, ['nb-cellDeleted'], []);\n\t\t\tthis.notebookEditor.deltaCellOutputContainerClassNames(DiffSide.Modified, this.cell.modified.id, ['nb-cellAdded'], []);\n\t\t} else {\n\t\t\tthis.notebookEditor.deltaCellOutputContainerClassNames(DiffSide.Original, this.cell.original.id, [], ['nb-cellDeleted']);\n\t\t\tthis.notebookEditor.deltaCellOutputContainerClassNames(DiffSide.Modified, this.cell.modified.id, [], ['nb-cellAdded']);\n\t\t}\n\t}\n\n\t_showOutputsRenderer() {\n\t\tif (this._outputViewContainer) {\n\t\t\tthis._outputViewContainer.style.display = 'block';\n\n\t\t\tthis._outputLeftView?.showOutputs();\n\t\t\tthis._outputRightView?.showOutputs();\n\t\t\tthis._outputMetadataEditor?.layout({\n\t\t\t\twidth: this._editor?.getViewWidth() || this.cell.getComputedCellContainerWidth(this.notebookEditor.getLayoutInfo(), false, true),\n\t\t\t\theight: this.cell.layoutInfo.outputMetadataHeight\n\t\t\t});\n\n\t\t\tthis._decorate();\n\t\t}\n\t}\n\n\t_hideOutputsRenderer() {\n\t\tif (this._outputViewContainer) {\n\t\t\tthis._outputViewContainer.style.display = 'none';\n\n\t\t\tthis._outputLeftView?.hideOutputs();\n\t\t\tthis._outputRightView?.hideOutputs();\n\t\t}\n\t}\n\n\tupdateSourceEditor(): void {\n\t\tthis._cellHeaderContainer = this.templateData.cellHeaderContainer;\n\t\tthis._cellHeaderContainer.style.display = 'flex';\n\t\tthis._cellHeaderContainer.innerText = '';\n\t\tconst modifiedCell = this.cell.modified;\n\t\tthis._editorContainer = this.templateData.editorContainer;\n\t\tthis._editorContainer.classList.add('diff');\n\n\t\tconst renderSourceEditor = () => {\n\t\t\tif (this.cell.cellFoldingState === PropertyFoldingState.Collapsed) {\n\t\t\t\tthis._editorContainer.style.display = 'none';\n\t\t\t\tthis.cell.editorHeight = 0;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst lineCount = modifiedCell.textModel.textBuffer.getLineCount();\n\t\t\tconst lineHeight = this.notebookEditor.getLayoutInfo().fontInfo.lineHeight || 17;\n\t\t\tconst editorHeight = this.cell.layoutInfo.editorHeight !== 0 ? this.cell.layoutInfo.editorHeight : this.cell.computeInputEditorHeight(lineHeight);\n\n\t\t\tthis._editorContainer.style.height = `${editorHeight}px`;\n\t\t\tthis._editorContainer.style.display = 'block';\n\n\t\t\tif (this._editor) {\n\t\t\t\tconst contentHeight = this._editor.getContentHeight();\n\t\t\t\tif (contentHeight >= 0) {\n\t\t\t\t\tthis.cell.editorHeight = contentHeight;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._editor = this.templateData.sourceEditor;\n\t\t\t// If there is only 1 line, then ensure we have the necessary padding to display the button for whitespaces.\n\t\t\t// E.g. assume we have a cell with 1 line and we add some whitespace,\n\t\t\t// Then diff editor displays the button `Show Whitespace Differences`, however with 12 paddings on the top, the\n\t\t\t// button can get cut off.\n\t\t\tconst options: IDiffEditorOptions = {\n\t\t\t\tpadding: getEditorPadding(lineCount)\n\t\t\t};\n\t\t\tconst unchangedRegions = this._register(getUnchangedRegionSettings(this.configurationService));\n\t\t\tif (unchangedRegions.options.enabled) {\n\t\t\t\toptions.hideUnchangedRegions = unchangedRegions.options;\n\t\t\t}\n\t\t\tthis._editor.updateOptions(options);\n\t\t\tthis._register(unchangedRegions.onDidChangeEnablement(() => {\n\t\t\t\toptions.hideUnchangedRegions = unchangedRegions.options;\n\t\t\t\tthis._editor?.updateOptions(options);\n\t\t\t}));\n\t\t\tthis._editor.layout({\n\t\t\t\twidth: this.notebookEditor.getLayoutInfo().width - 2 * DIFF_CELL_MARGIN,\n\t\t\t\theight: editorHeight\n\t\t\t});\n\t\t\tthis._register(this._editor.onDidContentSizeChange((e) => {\n\t\t\t\tif (this.cell.cellFoldingState === PropertyFoldingState.Expanded && e.contentHeightChanged && this.cell.layoutInfo.editorHeight !== e.contentHeight) {\n\t\t\t\t\tthis.cell.editorHeight = e.contentHeight;\n\t\t\t\t}\n\t\t\t}));\n\t\t\tthis._initializeSourceDiffEditor();\n\t\t};\n\n\t\tthis._cellHeader = this._register(this.instantiationService.createInstance(\n\t\t\tPropertyHeader,\n\t\t\tthis.cell,\n\t\t\tthis._cellHeaderContainer,\n\t\t\tthis.notebookEditor,\n\t\t\t{\n\t\t\t\tupdateInfoRendering: () => renderSourceEditor(),\n\t\t\t\tcheckIfModified: () => {\n\t\t\t\t\treturn this.cell.modified?.textModel.getTextBufferHash() !== this.cell.original?.textModel.getTextBufferHash() ? { reason: undefined } : false;\n\t\t\t\t},\n\t\t\t\tgetFoldingState: () => this.cell.cellFoldingState,\n\t\t\t\tupdateFoldingState: (state) => this.cell.cellFoldingState = state,\n\t\t\t\tunChangedLabel: 'Input',\n\t\t\t\tchangedLabel: 'Input changed',\n\t\t\t\tprefix: 'input',\n\t\t\t\tmenuId: MenuId.NotebookDiffCellInputTitle\n\t\t\t}\n\t\t));\n\t\tthis._cellHeader.buildHeader();\n\t\trenderSourceEditor();\n\n\t\tconst scopedContextKeyService = this.contextKeyService.createScoped(this.templateData.inputToolbarContainer);\n\t\tthis._register(scopedContextKeyService);\n\t\tconst inputChanged = NOTEBOOK_DIFF_CELL_INPUT.bindTo(scopedContextKeyService);\n\t\tinputChanged.set(this.cell.modified.textModel.getTextBufferHash() !== this.cell.original.textModel.getTextBufferHash());\n\n\t\tconst ignoreWhitespace = NOTEBOOK_DIFF_CELL_IGNORE_WHITESPACE.bindTo(scopedContextKeyService);\n\t\tconst ignore = this.textConfigurationService.getValue<boolean>(this.cell.modified.uri, 'diffEditor.ignoreTrimWhitespace');\n\t\tignoreWhitespace.set(ignore);\n\n\t\tthis._toolbar = this.templateData.toolbar;\n\n\t\tthis._toolbar.context = this.cell;\n\n\t\tconst refreshToolbar = () => {\n\t\t\tconst ignore = this.textConfigurationService.getValue<boolean>(this.cell.modified.uri, 'diffEditor.ignoreTrimWhitespace');\n\t\t\tignoreWhitespace.set(ignore);\n\t\t\tconst hasChanges = this.cell.modified.textModel.getTextBufferHash() !== this.cell.original.textModel.getTextBufferHash();\n\t\t\tinputChanged.set(hasChanges);\n\n\t\t\tif (hasChanges) {\n\t\t\t\tconst menu = this.menuService.getMenuActions(MenuId.NotebookDiffCellInputTitle, scopedContextKeyService, { shouldForwardArgs: true });\n\t\t\t\tconst actions = getFlatActionBarActions(menu);\n\t\t\t\tthis._toolbar.setActions(actions);\n\t\t\t} else {\n\t\t\t\tthis._toolbar.setActions([]);\n\t\t\t}\n\t\t};\n\n\t\tthis._register(this.cell.modified.textModel.onDidChangeContent(() => refreshToolbar()));\n\t\tthis._register(this.textConfigurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration(this.cell.modified.uri, 'diffEditor') &&\n\t\t\t\te.affectedKeys.has('diffEditor.ignoreTrimWhitespace')) {\n\t\t\t\trefreshToolbar();\n\t\t\t}\n\t\t}));\n\t\trefreshToolbar();\n\t}\n\n\tprivate async _initializeSourceDiffEditor() {\n\t\tconst [originalRef, modifiedRef] = await Promise.all([\n\t\t\tthis.textModelService.createModelReference(this.cell.original.uri),\n\t\t\tthis.textModelService.createModelReference(this.cell.modified.uri)]);\n\t\tthis._register(originalRef);\n\t\tthis._register(modifiedRef);\n\n\t\tif (this._isDisposed) {\n\t\t\toriginalRef.dispose();\n\t\t\tmodifiedRef.dispose();\n\t\t\treturn;\n\t\t}\n\n\t\tconst vm = this._register(this._editor!.createViewModel({\n\t\t\toriginal: originalRef.object.textEditorModel,\n\t\t\tmodified: modifiedRef.object.textEditorModel,\n\t\t}));\n\n\t\t// Reduces flicker (compute this before setting the model)\n\t\t// Else when the model is set, the height of the editor will be x, after diff is computed, then height will be y.\n\t\t// & that results in flicker.\n\t\tawait vm.waitForDiff();\n\t\tthis._editor!.setModel(vm);\n\n\t\tconst handleViewStateChange = () => {\n\t\t\tthis._editorViewStateChanged = true;\n\t\t};\n\n\t\tconst handleScrollChange = (e: editorCommon.IScrollEvent) => {\n\t\t\tif (e.scrollTopChanged || e.scrollLeftChanged) {\n\t\t\t\tthis._editorViewStateChanged = true;\n\t\t\t}\n\t\t};\n\n\t\tthis.updateEditorOptionsForWhitespace();\n\t\tthis._register(this._editor!.getOriginalEditor().onDidChangeCursorSelection(handleViewStateChange));\n\t\tthis._register(this._editor!.getOriginalEditor().onDidScrollChange(handleScrollChange));\n\t\tthis._register(this._editor!.getModifiedEditor().onDidChangeCursorSelection(handleViewStateChange));\n\t\tthis._register(this._editor!.getModifiedEditor().onDidScrollChange(handleScrollChange));\n\n\t\tconst editorViewState = this.cell.getSourceEditorViewState() as editorCommon.IDiffEditorViewState | null;\n\t\tif (editorViewState) {\n\t\t\tthis._editor!.restoreViewState(editorViewState);\n\t\t}\n\n\t\tconst contentHeight = this._editor!.getContentHeight();\n\t\tthis.cell.editorHeight = contentHeight;\n\t}\n\tprivate updateEditorOptionsForWhitespace() {\n\t\tconst editor = this._editor;\n\t\tif (!editor) {\n\t\t\treturn;\n\t\t}\n\t\tconst uri = editor.getModel()?.modified.uri || editor.getModel()?.original.uri;\n\t\tif (!uri) {\n\t\t\treturn;\n\t\t}\n\t\tconst ignoreTrimWhitespace = this.textConfigurationService.getValue<boolean>(uri, 'diffEditor.ignoreTrimWhitespace');\n\t\teditor.updateOptions({ ignoreTrimWhitespace });\n\n\t\tthis._register(this.textConfigurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration(uri, 'diffEditor') &&\n\t\t\t\te.affectedKeys.has('diffEditor.ignoreTrimWhitespace')) {\n\t\t\t\tconst ignoreTrimWhitespace = this.textConfigurationService.getValue<boolean>(uri, 'diffEditor.ignoreTrimWhitespace');\n\t\t\t\teditor.updateOptions({ ignoreTrimWhitespace });\n\t\t\t}\n\t\t}));\n\t}\n\tlayout(state: IDiffElementLayoutState) {\n\t\tDOM.scheduleAtNextAnimationFrame(DOM.getWindow(this._diffEditorContainer), () => {\n\t\t\tif (state.editorHeight && this._editor) {\n\t\t\t\tthis._editorContainer.style.height = `${this.cell.layoutInfo.editorHeight}px`;\n\t\t\t\tthis._editor.layout({\n\t\t\t\t\twidth: this._editor!.getViewWidth(),\n\t\t\t\t\theight: this.cell.layoutInfo.editorHeight\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (state.outerWidth && this._editor) {\n\t\t\t\tthis._editorContainer.style.height = `${this.cell.layoutInfo.editorHeight}px`;\n\t\t\t\tthis._editor.layout();\n\t\t\t}\n\n\t\t\tif (state.metadataHeight || state.outerWidth) {\n\t\t\t\tif (this._metadataEditorContainer) {\n\t\t\t\t\tthis._metadataEditorContainer.style.height = `${this.cell.layoutInfo.metadataHeight}px`;\n\t\t\t\t\tthis._metadataEditor?.layout({\n\t\t\t\t\t\twidth: this._editor?.getViewWidth() || this.cell.getComputedCellContainerWidth(this.notebookEditor.getLayoutInfo(), false, true),\n\t\t\t\t\t\theight: this.cell.layoutInfo.metadataHeight\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (state.outputTotalHeight || state.outerWidth) {\n\t\t\t\tif (this._outputEditorContainer) {\n\t\t\t\t\tthis._outputEditorContainer.style.height = `${this.cell.layoutInfo.outputTotalHeight}px`;\n\t\t\t\t\tthis._outputEditor?.layout({\n\t\t\t\t\t\twidth: this._editor?.getViewWidth() || this.cell.getComputedCellContainerWidth(this.notebookEditor.getLayoutInfo(), false, true),\n\t\t\t\t\t\theight: this.cell.layoutInfo.outputTotalHeight\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (this._outputMetadataContainer) {\n\t\t\t\t\tthis._outputMetadataContainer.style.height = `${this.cell.layoutInfo.outputMetadataHeight}px`;\n\t\t\t\t\tthis._outputMetadataContainer.style.top = `${this.cell.layoutInfo.outputTotalHeight - this.cell.layoutInfo.outputMetadataHeight}px`;\n\t\t\t\t\tthis._outputMetadataEditor?.layout({\n\t\t\t\t\t\twidth: this._editor?.getViewWidth() || this.cell.getComputedCellContainerWidth(this.notebookEditor.getLayoutInfo(), false, true),\n\t\t\t\t\t\theight: this.cell.layoutInfo.outputMetadataHeight\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.layoutNotebookCell();\n\t\t});\n\t}\n\n\toverride dispose() {\n\t\t// The editor isn't disposed yet, it can be re-used.\n\t\t// However the model can be disposed before the editor & that causes issues.\n\t\tif (this._editor) {\n\t\t\tthis._editor.setModel(null);\n\t\t}\n\n\t\tif (this._editor && this._editorViewStateChanged) {\n\t\t\tthis.cell.saveSpirceEditorViewState(this._editor.saveViewState());\n\t\t}\n\n\t\tsuper.dispose();\n\t}\n}\n\n\nexport class CollapsedCellOverlayWidget extends Disposable implements IDiffCellMarginOverlay {\n\tprivate readonly _nodes = DOM.h('div.diff-hidden-cells', [\n\t\tDOM.h('div.center@content', { style: { display: 'flex' } }, [\n\t\t\tDOM.$('a', {\n\t\t\t\ttitle: localize('showUnchangedCells', 'Show Unchanged Cells'),\n\t\t\t\trole: 'button',\n\t\t\t\tonclick: () => { this._action.fire(); }\n\t\t\t},\n\t\t\t\t...renderLabelWithIcons('$(unfold)'))]\n\t\t),\n\t]);\n\n\tprivate readonly _action = this._register(new Emitter<void>());\n\tpublic readonly onAction = this._action.event;\n\tconstructor(\n\t\tprivate readonly container: HTMLElement\n\t) {\n\t\tsuper();\n\n\t\tthis._nodes.root.style.display = 'none';\n\t\tcontainer.appendChild(this._nodes.root);\n\t}\n\n\tpublic show() {\n\t\tthis._nodes.root.style.display = 'block';\n\t}\n\n\tpublic hide() {\n\t\tthis._nodes.root.style.display = 'none';\n\t}\n\n\tpublic override dispose() {\n\t\tthis.hide();\n\t\tthis.container.removeChild(this._nodes.root);\n\t\tDOM.reset(this._nodes.root);\n\t\tsuper.dispose();\n\t}\n}\n\nexport class UnchangedCellOverlayWidget extends Disposable implements IDiffCellMarginOverlay {\n\tprivate readonly _nodes = DOM.h('div.diff-hidden-cells', [\n\t\tDOM.h('div.center@content', { style: { display: 'flex' } }, [\n\t\t\tDOM.$('a', {\n\t\t\t\ttitle: localize('hideUnchangedCells', 'Hide Unchanged Cells'),\n\t\t\t\trole: 'button',\n\t\t\t\tonclick: () => { this._action.fire(); }\n\t\t\t},\n\t\t\t\t...renderLabelWithIcons('$(fold)')\n\t\t\t),\n\t\t]\n\t\t),\n\t]);\n\n\tprivate readonly _action = this._register(new Emitter<void>());\n\tpublic readonly onAction = this._action.event;\n\tconstructor(\n\t\tprivate readonly container: HTMLElement\n\t) {\n\t\tsuper();\n\n\t\tthis._nodes.root.style.display = 'none';\n\t\tcontainer.appendChild(this._nodes.root);\n\t}\n\n\tpublic show() {\n\t\tthis._nodes.root.style.display = 'block';\n\t}\n\n\tpublic hide() {\n\t\tthis._nodes.root.style.display = 'none';\n\t}\n\tpublic override dispose() {\n\t\tthis.hide();\n\t\tthis.container.removeChild(this._nodes.root);\n\t\tDOM.reset(this._nodes.root);\n\t\tsuper.dispose();\n\t}\n}\n"]}