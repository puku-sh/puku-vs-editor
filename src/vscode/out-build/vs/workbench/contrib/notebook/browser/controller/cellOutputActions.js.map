{"version":3,"sources":["vs/workbench/contrib/notebook/browser/controller/cellOutputActions.ts"],"names":[],"mappings":"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","file":"cellOutputActions.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ServicesAccessor } from '../../../../../editor/browser/editorExtensions.js';\nimport { localize } from '../../../../../nls.js';\nimport { Action2, MenuId, registerAction2 } from '../../../../../platform/actions/common/actions.js';\nimport { IClipboardService } from '../../../../../platform/clipboard/common/clipboardService.js';\nimport { IOpenerService } from '../../../../../platform/opener/common/opener.js';\nimport { INotebookOutputActionContext, NOTEBOOK_ACTIONS_CATEGORY } from './coreActions.js';\nimport { NOTEBOOK_CELL_HAS_HIDDEN_OUTPUTS, NOTEBOOK_CELL_HAS_OUTPUTS, NOTEBOOK_CELL_OUTPUT_MIMETYPE } from '../../common/notebookContextKeys.js';\nimport * as icons from '../notebookIcons.js';\nimport { ILogService } from '../../../../../platform/log/common/log.js';\nimport { copyCellOutput } from '../viewModel/cellOutputTextHelper.js';\nimport { IEditorService } from '../../../../services/editor/common/editorService.js';\nimport { ICellOutputViewModel, ICellViewModel, INotebookEditor, getNotebookEditorFromEditorPane } from '../notebookBrowser.js';\nimport { CellKind, CellUri } from '../../common/notebookCommon.js';\nimport { CodeCellViewModel } from '../viewModel/codeCellViewModel.js';\nimport { ContextKeyExpr } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { INotebookEditorModelResolverService } from '../../common/notebookEditorModelResolverService.js';\nimport { IFileDialogService } from '../../../../../platform/dialogs/common/dialogs.js';\nimport { IFileService } from '../../../../../platform/files/common/files.js';\nimport { URI } from '../../../../../base/common/uri.js';\n\nexport const COPY_OUTPUT_COMMAND_ID = 'notebook.cellOutput.copy';\n\nregisterAction2(class ShowAllOutputsAction extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'notebook.cellOuput.showEmptyOutputs',\n\t\t\ttitle: localize('notebookActions.showAllOutput', \"Show Empty Outputs\"),\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.NotebookOutputToolbar,\n\t\t\t\twhen: ContextKeyExpr.and(NOTEBOOK_CELL_HAS_OUTPUTS, NOTEBOOK_CELL_HAS_HIDDEN_OUTPUTS)\n\t\t\t},\n\t\t\tf1: false,\n\t\t\tcategory: NOTEBOOK_ACTIONS_CATEGORY\n\t\t});\n\t}\n\n\trun(accessor: ServicesAccessor, context: INotebookOutputActionContext): void {\n\t\tconst cell = context.cell;\n\t\tif (cell && cell.cellKind === CellKind.Code) {\n\n\t\t\tfor (let i = 1; i < cell.outputsViewModels.length; i++) {\n\t\t\t\tif (!cell.outputsViewModels[i].visible.get()) {\n\t\t\t\t\tcell.outputsViewModels[i].setVisible(true, true);\n\t\t\t\t\t(cell as CodeCellViewModel).updateOutputHeight(i, 1, 'command');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n});\n\nregisterAction2(class CopyCellOutputAction extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: COPY_OUTPUT_COMMAND_ID,\n\t\t\ttitle: localize('notebookActions.copyOutput', \"Copy Cell Output\"),\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.NotebookOutputToolbar,\n\t\t\t\twhen: NOTEBOOK_CELL_HAS_OUTPUTS\n\t\t\t},\n\t\t\tcategory: NOTEBOOK_ACTIONS_CATEGORY,\n\t\t\ticon: icons.copyIcon,\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor, outputContext: INotebookOutputActionContext | { outputViewModel: ICellOutputViewModel } | undefined): Promise<void> {\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst clipboardService = accessor.get(IClipboardService);\n\t\tconst logService = accessor.get(ILogService);\n\n\t\tconst notebookEditor = getNotebookEditorFromContext(editorService, outputContext);\n\t\tif (!notebookEditor) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst outputViewModel = getOutputViewModelFromContext(outputContext, notebookEditor);\n\t\tif (!outputViewModel) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst mimeType = outputViewModel.pickedMimeType?.mimeType;\n\n\t\tif (mimeType?.startsWith('image/')) {\n\t\t\tconst focusOptions = { skipReveal: true, outputId: outputViewModel.model.outputId, altOutputId: outputViewModel.model.alternativeOutputId };\n\t\t\tawait notebookEditor.focusNotebookCell(outputViewModel.cellViewModel as ICellViewModel, 'output', focusOptions);\n\t\t\tnotebookEditor.copyOutputImage(outputViewModel);\n\t\t} else {\n\t\t\tcopyCellOutput(mimeType, outputViewModel, clipboardService, logService);\n\t\t}\n\t}\n\n});\n\nexport function getOutputViewModelFromId(outputId: string, notebookEditor: INotebookEditor): ICellOutputViewModel | undefined {\n\tconst notebookViewModel = notebookEditor.getViewModel();\n\tif (notebookViewModel) {\n\t\tconst codeCells = notebookViewModel.viewCells.filter(cell => cell.cellKind === CellKind.Code) as CodeCellViewModel[];\n\t\tfor (const cell of codeCells) {\n\t\t\tconst output = cell.outputsViewModels.find(output => output.model.outputId === outputId || output.model.alternativeOutputId === outputId);\n\t\t\tif (output) {\n\t\t\t\treturn output;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn undefined;\n}\n\nfunction getNotebookEditorFromContext(editorService: IEditorService, outputContext: INotebookOutputActionContext | { outputViewModel: ICellOutputViewModel } | undefined): INotebookEditor | undefined {\n\tif (outputContext && 'notebookEditor' in outputContext) {\n\t\treturn outputContext.notebookEditor;\n\t}\n\treturn getNotebookEditorFromEditorPane(editorService.activeEditorPane);\n}\n\nfunction getOutputViewModelFromContext(outputContext: INotebookOutputActionContext | { outputViewModel: ICellOutputViewModel } | undefined, notebookEditor: INotebookEditor): ICellOutputViewModel | undefined {\n\tlet outputViewModel: ICellOutputViewModel | undefined;\n\n\tif (outputContext && 'outputId' in outputContext && typeof outputContext.outputId === 'string') {\n\t\toutputViewModel = getOutputViewModelFromId(outputContext.outputId, notebookEditor);\n\t} else if (outputContext && 'outputViewModel' in outputContext) {\n\t\toutputViewModel = outputContext.outputViewModel;\n\t}\n\n\tif (!outputViewModel) {\n\t\t// not able to find the output from the provided context, use the active cell\n\t\tconst activeCell = notebookEditor.getActiveCell();\n\t\tif (!activeCell) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (activeCell.focusedOutputId !== undefined) {\n\t\t\toutputViewModel = activeCell.outputsViewModels.find(output => {\n\t\t\t\treturn output.model.outputId === activeCell.focusedOutputId;\n\t\t\t});\n\t\t} else {\n\t\t\toutputViewModel = activeCell.outputsViewModels.find(output => output.pickedMimeType?.isTrusted);\n\t\t}\n\t}\n\n\treturn outputViewModel;\n}\n\nexport const OPEN_OUTPUT_COMMAND_ID = 'notebook.cellOutput.openInTextEditor';\n\nregisterAction2(class OpenCellOutputInEditorAction extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: OPEN_OUTPUT_COMMAND_ID,\n\t\t\ttitle: localize('notebookActions.openOutputInEditor', \"Open Cell Output in Text Editor\"),\n\t\t\tf1: false,\n\t\t\tcategory: NOTEBOOK_ACTIONS_CATEGORY,\n\t\t\ticon: icons.copyIcon,\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor, outputContext: INotebookOutputActionContext | { outputViewModel: ICellOutputViewModel } | undefined): Promise<void> {\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst notebookModelService = accessor.get(INotebookEditorModelResolverService);\n\t\tconst openerService = accessor.get(IOpenerService);\n\n\t\tconst notebookEditor = getNotebookEditorFromContext(editorService, outputContext);\n\t\tif (!notebookEditor) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst outputViewModel = getOutputViewModelFromContext(outputContext, notebookEditor);\n\n\t\tif (outputViewModel?.model.outputId && notebookEditor.textModel?.uri) {\n\t\t\t// reserve notebook document reference since the active notebook editor might not be pinned so it can be replaced by the output editor\n\t\t\tconst ref = await notebookModelService.resolve(notebookEditor.textModel.uri);\n\t\t\tawait openerService.open(CellUri.generateCellOutputUriWithId(notebookEditor.textModel.uri, outputViewModel.model.outputId));\n\t\t\tref.dispose();\n\t\t}\n\t}\n});\n\nexport const SAVE_OUTPUT_IMAGE_COMMAND_ID = 'notebook.cellOutput.saveImage';\n\nregisterAction2(class SaveCellOutputImageAction extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: SAVE_OUTPUT_IMAGE_COMMAND_ID,\n\t\t\ttitle: localize('notebookActions.saveOutputImage', \"Save Image\"),\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.NotebookOutputToolbar,\n\t\t\t\twhen: ContextKeyExpr.regex(NOTEBOOK_CELL_OUTPUT_MIMETYPE.key, /^image\\//)\n\t\t\t},\n\t\t\tf1: false,\n\t\t\tcategory: NOTEBOOK_ACTIONS_CATEGORY,\n\t\t\ticon: icons.saveIcon,\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor, outputContext: INotebookOutputActionContext | { outputViewModel: ICellOutputViewModel } | undefined): Promise<void> {\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst fileDialogService = accessor.get(IFileDialogService);\n\t\tconst fileService = accessor.get(IFileService);\n\t\tconst logService = accessor.get(ILogService);\n\n\t\tconst notebookEditor = getNotebookEditorFromContext(editorService, outputContext);\n\t\tif (!notebookEditor) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst outputViewModel = getOutputViewModelFromContext(outputContext, notebookEditor);\n\t\tif (!outputViewModel) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst mimeType = outputViewModel.pickedMimeType?.mimeType;\n\n\t\t// Only handle image mime types\n\t\tif (!mimeType?.startsWith('image/')) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst outputItem = outputViewModel.model.outputs.find(output => output.mime === mimeType);\n\t\tif (!outputItem) {\n\t\t\tlogService.error('Could not find output item with mime type', mimeType);\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine file extension based on mime type\n\t\tconst mimeToExt: { [key: string]: string } = {\n\t\t\t'image/png': 'png',\n\t\t\t'image/jpeg': 'jpg',\n\t\t\t'image/jpg': 'jpg',\n\t\t\t'image/gif': 'gif',\n\t\t\t'image/svg+xml': 'svg',\n\t\t\t'image/webp': 'webp',\n\t\t\t'image/bmp': 'bmp',\n\t\t\t'image/tiff': 'tiff'\n\t\t};\n\n\t\tconst extension = mimeToExt[mimeType] || 'png';\n\t\tconst defaultFileName = `image.${extension}`;\n\n\t\tconst defaultUri = notebookEditor.textModel?.uri\n\t\t\t? URI.joinPath(URI.file(notebookEditor.textModel.uri.fsPath), '..', defaultFileName)\n\t\t\t: undefined;\n\n\t\tconst uri = await fileDialogService.showSaveDialog({\n\t\t\tdefaultUri,\n\t\t\tfilters: [{\n\t\t\t\tname: localize('imageFiles', \"Image Files\"),\n\t\t\t\textensions: [extension]\n\t\t\t}]\n\t\t});\n\n\t\tif (!uri) {\n\t\t\treturn; // User cancelled\n\t\t}\n\n\t\ttry {\n\t\t\tconst imageData = outputItem.data;\n\t\t\tawait fileService.writeFile(uri, imageData);\n\t\t\tlogService.info('Saved image output to', uri.toString());\n\t\t} catch (error) {\n\t\t\tlogService.error('Failed to save image output', error);\n\t\t}\n\t}\n});\n\nexport const OPEN_OUTPUT_IN_OUTPUT_PREVIEW_COMMAND_ID = 'notebook.cellOutput.openInOutputPreview';\n\nregisterAction2(class OpenCellOutputInNotebookOutputEditorAction extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: OPEN_OUTPUT_IN_OUTPUT_PREVIEW_COMMAND_ID,\n\t\t\ttitle: localize('notebookActions.openOutputInNotebookOutputEditor', \"Open in Output Preview\"),\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.NotebookOutputToolbar,\n\t\t\t\twhen: ContextKeyExpr.and(NOTEBOOK_CELL_HAS_OUTPUTS, ContextKeyExpr.equals('config.notebook.output.openInPreviewEditor.enabled', true))\n\t\t\t},\n\t\t\tf1: false,\n\t\t\tcategory: NOTEBOOK_ACTIONS_CATEGORY,\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor, outputContext: INotebookOutputActionContext | { outputViewModel: ICellOutputViewModel } | undefined): Promise<void> {\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst openerService = accessor.get(IOpenerService);\n\n\t\tconst notebookEditor = getNotebookEditorFromContext(editorService, outputContext);\n\t\tif (!notebookEditor) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst outputViewModel = getOutputViewModelFromContext(outputContext, notebookEditor);\n\n\t\tif (!outputViewModel) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst genericCellViewModel = outputViewModel.cellViewModel;\n\t\tif (!genericCellViewModel) {\n\t\t\treturn;\n\t\t}\n\n\t\t// get cell index\n\t\tconst cellViewModel = notebookEditor.getCellByHandle(genericCellViewModel.handle);\n\t\tif (!cellViewModel) {\n\t\t\treturn;\n\t\t}\n\t\tconst cellIndex = notebookEditor.getCellIndex(cellViewModel);\n\t\tif (cellIndex === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\t// get output index\n\t\tconst outputIndex = genericCellViewModel.outputsViewModels.indexOf(outputViewModel);\n\t\tif (outputIndex === -1) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!notebookEditor.textModel) {\n\t\t\treturn;\n\t\t}\n\n\t\t// craft rich output URI to pass data to the notebook output editor/viewer\n\t\tconst outputURI = CellUri.generateOutputEditorUri(\n\t\t\tnotebookEditor.textModel.uri,\n\t\t\tcellViewModel.id,\n\t\t\tcellIndex,\n\t\t\toutputViewModel.model.outputId,\n\t\t\toutputIndex,\n\t\t);\n\n\t\topenerService.open(outputURI, { openToSide: true });\n\t}\n});\n"]}