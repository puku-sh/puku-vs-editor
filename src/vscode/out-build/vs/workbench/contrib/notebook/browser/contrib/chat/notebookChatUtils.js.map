{"version":3,"sources":["vs/workbench/contrib/notebook/browser/contrib/chat/notebookChatUtils.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,EAAE,oBAAoB,EAAE,MAAM,yCAAyC,CAAC;AAC/E,OAAO,EAAE,mBAAmB,EAAE,MAAM,4CAA4C,CAAC;AACjF,OAAO,EAAE,SAAS,EAAE,MAAM,4CAA4C,CAAC;AACvE,OAAO,EAAE,QAAQ,EAAE,MAAM,0BAA0B,CAAC;AAEpD,OAAO,EAAE,OAAO,EAAE,MAAM,mCAAmC,CAAC;AAG5D,MAAM,CAAC,MAAM,kDAAkD,GAAG;IACjE,YAAY;IACZ,WAAW;IACX,qCAAqC;IACrC,sCAAsC;IACtC,+BAA+B;IAC/B,+BAA+B;IAC/B,sCAAsC;IACtC,+BAA+B;IAC/B,WAAW;IACX,YAAY;IACZ,WAAW;CACX,CAAC;AAEF,MAAM,UAAU,iCAAiC,CAAC,eAAqC,EAAE,QAAgB,EAAE,cAA+B;IAEzI,qBAAqB;IACrB,MAAM,uBAAuB,GAAG,eAAe,CAAC,aAAa,CAAC,MAAM,CAAC;IACrE,MAAM,aAAa,GAAG,cAAc,CAAC,SAAS,CAAC;IAC/C,MAAM,IAAI,GAAG,cAAc,CAAC,eAAe,CAAC,uBAAuB,CAAC,CAAC;IACrE,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,iBAAiB,CAAC,MAAM,KAAK,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC;QACpE,OAAO;IACR,CAAC;IACD,kBAAkB;IAClB,MAAM,WAAW,GAAG,aAAa,CAAC,GAAG,CAAC;IACtC,MAAM,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC;IACzB,MAAM,SAAS,GAAG,aAAa,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAE1D,uBAAuB;IACvB,MAAM,QAAQ,GAAG,eAAe,EAAE,KAAK,CAAC,QAAQ,CAAC;IACjD,IAAI,WAAW,GAAW,CAAC,CAAC;IAC5B,IAAI,QAAQ,KAAK,SAAS,EAAE,CAAC;QAC5B,wBAAwB;QACxB,WAAW,GAAG,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE;YACvD,OAAO,MAAM,CAAC,KAAK,CAAC,QAAQ,KAAK,QAAQ,CAAC;QAC3C,CAAC,CAAC,CAAC;IACJ,CAAC;IAED,wDAAwD;IACxD,MAAM,aAAa,GAAG,OAAO,CAAC,8BAA8B,CAAC,WAAW,EAAE,OAAO,EAAE,WAAW,CAAC,CAAC;IAChG,MAAM,QAAQ,GAAG,oBAAoB,CAAC,mBAAmB,CAAC,WAAW,CAAC,CAAC,CAAC;IAExE,MAAM,CAAC,GAAiC;QACvC,KAAK,EAAE,aAAa;QACpB,EAAE,EAAE,aAAa,CAAC,QAAQ,EAAE;QAC5B,IAAI,EAAE,QAAQ,CAAC,KAAyB,EAAE,IAA6B,EAAE,QAAQ,EAAE,GAAG,SAAS,GAAG,CAAC,EAAE,EAAE,GAAG,WAAW,GAAG,CAAC,EAAE,CAAC;QAC5H,IAAI,EAAE,QAAQ,KAAK,qCAAqC,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS;QAChG,IAAI,EAAE,gBAAgB;QACtB,WAAW;QACX,QAAQ;KACR,CAAC;IAEF,OAAO,CAAC,CAAC;AACV,CAAC","file":"notebookChatUtils.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { normalizeDriveLetter } from '../../../../../../base/common/labels.js';\nimport { basenameOrAuthority } from '../../../../../../base/common/resources.js';\nimport { ThemeIcon } from '../../../../../../base/common/themables.js';\nimport { localize } from '../../../../../../nls.js';\nimport { INotebookOutputVariableEntry } from '../../../../chat/common/chatVariableEntries.js';\nimport { CellUri } from '../../../common/notebookCommon.js';\nimport { ICellOutputViewModel, INotebookEditor } from '../../notebookBrowser.js';\n\nexport const NOTEBOOK_CELL_OUTPUT_MIME_TYPE_LIST_FOR_CHAT_CONST = [\n\t'text/plain',\n\t'text/html',\n\t'application/vnd.code.notebook.error',\n\t'application/vnd.code.notebook.stdout',\n\t'application/x.notebook.stdout',\n\t'application/x.notebook.stream',\n\t'application/vnd.code.notebook.stderr',\n\t'application/x.notebook.stderr',\n\t'image/png',\n\t'image/jpeg',\n\t'image/svg',\n];\n\nexport function createNotebookOutputVariableEntry(outputViewModel: ICellOutputViewModel, mimeType: string, notebookEditor: INotebookEditor): INotebookOutputVariableEntry | undefined {\n\n\t// get the cell index\n\tconst cellFromViewModelHandle = outputViewModel.cellViewModel.handle;\n\tconst notebookModel = notebookEditor.textModel;\n\tconst cell = notebookEditor.getCellByHandle(cellFromViewModelHandle);\n\tif (!cell || cell.outputsViewModels.length === 0 || !notebookModel) {\n\t\treturn;\n\t}\n\t// uri of the cell\n\tconst notebookUri = notebookModel.uri;\n\tconst cellUri = cell.uri;\n\tconst cellIndex = notebookModel.cells.indexOf(cell.model);\n\n\t// get the output index\n\tconst outputId = outputViewModel?.model.outputId;\n\tlet outputIndex: number = 0;\n\tif (outputId !== undefined) {\n\t\t// find the output index\n\t\toutputIndex = cell.outputsViewModels.findIndex(output => {\n\t\t\treturn output.model.outputId === outputId;\n\t\t});\n\t}\n\n\t// construct the URI using the cell uri and output index\n\tconst outputCellUri = CellUri.generateCellOutputUriWithIndex(notebookUri, cellUri, outputIndex);\n\tconst fileName = normalizeDriveLetter(basenameOrAuthority(notebookUri));\n\n\tconst l: INotebookOutputVariableEntry = {\n\t\tvalue: outputCellUri,\n\t\tid: outputCellUri.toString(),\n\t\tname: localize('notebookOutputCellLabel', \"{0} • Cell {1} • Output {2}\", fileName, `${cellIndex + 1}`, `${outputIndex + 1}`),\n\t\ticon: mimeType === 'application/vnd.code.notebook.error' ? ThemeIcon.fromId('error') : undefined,\n\t\tkind: 'notebookOutput',\n\t\toutputIndex,\n\t\tmimeType\n\t};\n\n\treturn l;\n}\n"]}