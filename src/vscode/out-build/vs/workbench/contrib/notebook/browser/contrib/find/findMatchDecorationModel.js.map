{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/notebook/browser/contrib/find/findMatchDecorationModel.ts","vs/workbench/contrib/notebook/browser/contrib/find/findMatchDecorationModel.ts"],"names":[],"mappings":"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","file":"findMatchDecorationModel.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Disposable } from '../../../../../../base/common/lifecycle.js';\nimport { IModelDeltaDecoration } from '../../../../../../editor/common/model.js';\nimport { ModelDecorationOptions } from '../../../../../../editor/common/model/textModel.js';\nimport { FindDecorations } from '../../../../../../editor/contrib/find/browser/findDecorations.js';\nimport { Range } from '../../../../../../editor/common/core/range.js';\nimport { overviewRulerSelectionHighlightForeground, overviewRulerFindMatchForeground } from '../../../../../../platform/theme/common/colorRegistry.js';\nimport { CellFindMatchWithIndex, ICellModelDecorations, ICellModelDeltaDecorations, ICellViewModel, INotebookDeltaDecoration, INotebookEditor, NotebookOverviewRulerLane, } from '../../notebookBrowser.js';\n\nexport class FindMatchDecorationModel extends Disposable {\n\tprivate _allMatchesDecorations: ICellModelDecorations[] = [];\n\tprivate _currentMatchCellDecorations: string[] = [];\n\tprivate _allMatchesCellDecorations: string[] = [];\n\tprivate _currentMatchDecorations: { kind: 'input'; decorations: ICellModelDecorations[] } | { kind: 'output'; index: number } | null = null;\n\n\tconstructor(\n\t\tprivate readonly _notebookEditor: INotebookEditor,\n\t\tprivate readonly ownerID: string,\n\t) {\n\t\tsuper();\n\t}\n\n\tpublic get currentMatchDecorations() {\n\t\treturn this._currentMatchDecorations;\n\t}\n\n\tprivate clearDecorations() {\n\t\tthis.clearCurrentFindMatchDecoration();\n\t\tthis.setAllFindMatchesDecorations([]);\n\t}\n\n\n\tpublic async highlightCurrentFindMatchDecorationInCell(cell: ICellViewModel, cellRange: Range): Promise<number | null> {\n\n\t\tthis.clearCurrentFindMatchDecoration();\n\n\t\t// match is an editor FindMatch, we update find match decoration in the editor\n\t\t// we will highlight the match in the webview\n\t\tthis._notebookEditor.changeModelDecorations(accessor => {\n\t\t\tconst findMatchesOptions: ModelDecorationOptions = FindDecorations._CURRENT_FIND_MATCH_DECORATION;\n\n\t\t\tconst decorations: IModelDeltaDecoration[] = [\n\t\t\t\t{ range: cellRange, options: findMatchesOptions }\n\t\t\t];\n\t\t\tconst deltaDecoration: ICellModelDeltaDecorations = {\n\t\t\t\townerId: cell.handle,\n\t\t\t\tdecorations: decorations\n\t\t\t};\n\n\t\t\tthis._currentMatchDecorations = {\n\t\t\t\tkind: 'input',\n\t\t\t\tdecorations: accessor.deltaDecorations(this._currentMatchDecorations?.kind === 'input' ? this._currentMatchDecorations.decorations : [], [deltaDecoration])\n\t\t\t};\n\t\t});\n\n\t\tthis._currentMatchCellDecorations = this._notebookEditor.deltaCellDecorations(this._currentMatchCellDecorations, [{\n\t\t\thandle: cell.handle,\n\t\t\toptions: {\n\t\t\t\toverviewRuler: {\n\t\t\t\t\tcolor: overviewRulerSelectionHighlightForeground,\n\t\t\t\t\tmodelRanges: [cellRange],\n\t\t\t\t\tincludeOutput: false,\n\t\t\t\t\tposition: NotebookOverviewRulerLane.Center\n\t\t\t\t}\n\t\t\t}\n\t\t}]);\n\n\t\treturn null;\n\t}\n\n\tpublic async highlightCurrentFindMatchDecorationInWebview(cell: ICellViewModel, index: number): Promise<number | null> {\n\n\t\tthis.clearCurrentFindMatchDecoration();\n\n\t\tconst offset = await this._notebookEditor.findHighlightCurrent(index, this.ownerID);\n\t\tthis._currentMatchDecorations = { kind: 'output', index: index };\n\n\t\tthis._currentMatchCellDecorations = this._notebookEditor.deltaCellDecorations(this._currentMatchCellDecorations, [{\n\t\t\thandle: cell.handle,\n\t\t\toptions: {\n\t\t\t\toverviewRuler: {\n\t\t\t\t\tcolor: overviewRulerSelectionHighlightForeground,\n\t\t\t\t\tmodelRanges: [],\n\t\t\t\t\tincludeOutput: true,\n\t\t\t\t\tposition: NotebookOverviewRulerLane.Center\n\t\t\t\t}\n\t\t\t}\n\t\t} satisfies INotebookDeltaDecoration]);\n\n\t\treturn offset;\n\t}\n\n\tpublic clearCurrentFindMatchDecoration() {\n\t\tif (this._currentMatchDecorations?.kind === 'input') {\n\t\t\tthis._notebookEditor.changeModelDecorations(accessor => {\n\t\t\t\taccessor.deltaDecorations(this._currentMatchDecorations?.kind === 'input' ? this._currentMatchDecorations.decorations : [], []);\n\t\t\t\tthis._currentMatchDecorations = null;\n\t\t\t});\n\t\t} else if (this._currentMatchDecorations?.kind === 'output') {\n\t\t\tthis._notebookEditor.findUnHighlightCurrent(this._currentMatchDecorations.index, this.ownerID);\n\t\t}\n\n\t\tthis._currentMatchCellDecorations = this._notebookEditor.deltaCellDecorations(this._currentMatchCellDecorations, []);\n\t}\n\n\tpublic setAllFindMatchesDecorations(cellFindMatches: CellFindMatchWithIndex[]) {\n\t\tthis._notebookEditor.changeModelDecorations((accessor) => {\n\n\t\t\tconst findMatchesOptions: ModelDecorationOptions = FindDecorations._FIND_MATCH_DECORATION;\n\n\t\t\tconst deltaDecorations: ICellModelDeltaDecorations[] = cellFindMatches.map(cellFindMatch => {\n\t\t\t\t// Find matches\n\t\t\t\tconst newFindMatchesDecorations: IModelDeltaDecoration[] = new Array<IModelDeltaDecoration>(cellFindMatch.contentMatches.length);\n\t\t\t\tfor (let i = 0; i < cellFindMatch.contentMatches.length; i++) {\n\t\t\t\t\tnewFindMatchesDecorations[i] = {\n\t\t\t\t\t\trange: cellFindMatch.contentMatches[i].range,\n\t\t\t\t\t\toptions: findMatchesOptions\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn { ownerId: cellFindMatch.cell.handle, decorations: newFindMatchesDecorations };\n\t\t\t});\n\n\t\t\tthis._allMatchesDecorations = accessor.deltaDecorations(this._allMatchesDecorations, deltaDecorations);\n\t\t});\n\n\t\tthis._allMatchesCellDecorations = this._notebookEditor.deltaCellDecorations(this._allMatchesCellDecorations, cellFindMatches.map(cellFindMatch => {\n\t\t\treturn {\n\t\t\t\townerId: cellFindMatch.cell.handle,\n\t\t\t\thandle: cellFindMatch.cell.handle,\n\t\t\t\toptions: {\n\t\t\t\t\toverviewRuler: {\n\t\t\t\t\t\tcolor: overviewRulerFindMatchForeground,\n\t\t\t\t\t\tmodelRanges: cellFindMatch.contentMatches.map(match => match.range),\n\t\t\t\t\t\tincludeOutput: cellFindMatch.webviewMatches.length > 0,\n\t\t\t\t\t\tposition: NotebookOverviewRulerLane.Center\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}));\n\t}\n\n\tstopWebviewFind() {\n\t\tthis._notebookEditor.findStop(this.ownerID);\n\t}\n\n\toverride dispose() {\n\t\tthis.clearDecorations();\n\t\tsuper.dispose();\n\t}\n\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Disposable } from '../../../../../../base/common/lifecycle.js';\nimport { IModelDeltaDecoration } from '../../../../../../editor/common/model.js';\nimport { ModelDecorationOptions } from '../../../../../../editor/common/model/textModel.js';\nimport { FindDecorations } from '../../../../../../editor/contrib/find/browser/findDecorations.js';\nimport { Range } from '../../../../../../editor/common/core/range.js';\nimport { overviewRulerSelectionHighlightForeground, overviewRulerFindMatchForeground } from '../../../../../../platform/theme/common/colorRegistry.js';\nimport { CellFindMatchWithIndex, ICellModelDecorations, ICellModelDeltaDecorations, ICellViewModel, INotebookDeltaDecoration, INotebookEditor, NotebookOverviewRulerLane, } from '../../notebookBrowser.js';\n\nexport class FindMatchDecorationModel extends Disposable {\n\tprivate _allMatchesDecorations: ICellModelDecorations[] = [];\n\tprivate _currentMatchCellDecorations: string[] = [];\n\tprivate _allMatchesCellDecorations: string[] = [];\n\tprivate _currentMatchDecorations: { kind: 'input'; decorations: ICellModelDecorations[] } | { kind: 'output'; index: number } | null = null;\n\n\tconstructor(\n\t\tprivate readonly _notebookEditor: INotebookEditor,\n\t\tprivate readonly ownerID: string,\n\t) {\n\t\tsuper();\n\t}\n\n\tpublic get currentMatchDecorations() {\n\t\treturn this._currentMatchDecorations;\n\t}\n\n\tprivate clearDecorations() {\n\t\tthis.clearCurrentFindMatchDecoration();\n\t\tthis.setAllFindMatchesDecorations([]);\n\t}\n\n\n\tpublic async highlightCurrentFindMatchDecorationInCell(cell: ICellViewModel, cellRange: Range): Promise<number | null> {\n\n\t\tthis.clearCurrentFindMatchDecoration();\n\n\t\t// match is an editor FindMatch, we update find match decoration in the editor\n\t\t// we will highlight the match in the webview\n\t\tthis._notebookEditor.changeModelDecorations(accessor => {\n\t\t\tconst findMatchesOptions: ModelDecorationOptions = FindDecorations._CURRENT_FIND_MATCH_DECORATION;\n\n\t\t\tconst decorations: IModelDeltaDecoration[] = [\n\t\t\t\t{ range: cellRange, options: findMatchesOptions }\n\t\t\t];\n\t\t\tconst deltaDecoration: ICellModelDeltaDecorations = {\n\t\t\t\townerId: cell.handle,\n\t\t\t\tdecorations: decorations\n\t\t\t};\n\n\t\t\tthis._currentMatchDecorations = {\n\t\t\t\tkind: 'input',\n\t\t\t\tdecorations: accessor.deltaDecorations(this._currentMatchDecorations?.kind === 'input' ? this._currentMatchDecorations.decorations : [], [deltaDecoration])\n\t\t\t};\n\t\t});\n\n\t\tthis._currentMatchCellDecorations = this._notebookEditor.deltaCellDecorations(this._currentMatchCellDecorations, [{\n\t\t\thandle: cell.handle,\n\t\t\toptions: {\n\t\t\t\toverviewRuler: {\n\t\t\t\t\tcolor: overviewRulerSelectionHighlightForeground,\n\t\t\t\t\tmodelRanges: [cellRange],\n\t\t\t\t\tincludeOutput: false,\n\t\t\t\t\tposition: NotebookOverviewRulerLane.Center\n\t\t\t\t}\n\t\t\t}\n\t\t}]);\n\n\t\treturn null;\n\t}\n\n\tpublic async highlightCurrentFindMatchDecorationInWebview(cell: ICellViewModel, index: number): Promise<number | null> {\n\n\t\tthis.clearCurrentFindMatchDecoration();\n\n\t\tconst offset = await this._notebookEditor.findHighlightCurrent(index, this.ownerID);\n\t\tthis._currentMatchDecorations = { kind: 'output', index: index };\n\n\t\tthis._currentMatchCellDecorations = this._notebookEditor.deltaCellDecorations(this._currentMatchCellDecorations, [{\n\t\t\thandle: cell.handle,\n\t\t\toptions: {\n\t\t\t\toverviewRuler: {\n\t\t\t\t\tcolor: overviewRulerSelectionHighlightForeground,\n\t\t\t\t\tmodelRanges: [],\n\t\t\t\t\tincludeOutput: true,\n\t\t\t\t\tposition: NotebookOverviewRulerLane.Center\n\t\t\t\t}\n\t\t\t}\n\t\t} satisfies INotebookDeltaDecoration]);\n\n\t\treturn offset;\n\t}\n\n\tpublic clearCurrentFindMatchDecoration() {\n\t\tif (this._currentMatchDecorations?.kind === 'input') {\n\t\t\tthis._notebookEditor.changeModelDecorations(accessor => {\n\t\t\t\taccessor.deltaDecorations(this._currentMatchDecorations?.kind === 'input' ? this._currentMatchDecorations.decorations : [], []);\n\t\t\t\tthis._currentMatchDecorations = null;\n\t\t\t});\n\t\t} else if (this._currentMatchDecorations?.kind === 'output') {\n\t\t\tthis._notebookEditor.findUnHighlightCurrent(this._currentMatchDecorations.index, this.ownerID);\n\t\t}\n\n\t\tthis._currentMatchCellDecorations = this._notebookEditor.deltaCellDecorations(this._currentMatchCellDecorations, []);\n\t}\n\n\tpublic setAllFindMatchesDecorations(cellFindMatches: CellFindMatchWithIndex[]) {\n\t\tthis._notebookEditor.changeModelDecorations((accessor) => {\n\n\t\t\tconst findMatchesOptions: ModelDecorationOptions = FindDecorations._FIND_MATCH_DECORATION;\n\n\t\t\tconst deltaDecorations: ICellModelDeltaDecorations[] = cellFindMatches.map(cellFindMatch => {\n\t\t\t\t// Find matches\n\t\t\t\tconst newFindMatchesDecorations: IModelDeltaDecoration[] = new Array<IModelDeltaDecoration>(cellFindMatch.contentMatches.length);\n\t\t\t\tfor (let i = 0; i < cellFindMatch.contentMatches.length; i++) {\n\t\t\t\t\tnewFindMatchesDecorations[i] = {\n\t\t\t\t\t\trange: cellFindMatch.contentMatches[i].range,\n\t\t\t\t\t\toptions: findMatchesOptions\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn { ownerId: cellFindMatch.cell.handle, decorations: newFindMatchesDecorations };\n\t\t\t});\n\n\t\t\tthis._allMatchesDecorations = accessor.deltaDecorations(this._allMatchesDecorations, deltaDecorations);\n\t\t});\n\n\t\tthis._allMatchesCellDecorations = this._notebookEditor.deltaCellDecorations(this._allMatchesCellDecorations, cellFindMatches.map(cellFindMatch => {\n\t\t\treturn {\n\t\t\t\townerId: cellFindMatch.cell.handle,\n\t\t\t\thandle: cellFindMatch.cell.handle,\n\t\t\t\toptions: {\n\t\t\t\t\toverviewRuler: {\n\t\t\t\t\t\tcolor: overviewRulerFindMatchForeground,\n\t\t\t\t\t\tmodelRanges: cellFindMatch.contentMatches.map(match => match.range),\n\t\t\t\t\t\tincludeOutput: cellFindMatch.webviewMatches.length > 0,\n\t\t\t\t\t\tposition: NotebookOverviewRulerLane.Center\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}));\n\t}\n\n\tstopWebviewFind() {\n\t\tthis._notebookEditor.findStop(this.ownerID);\n\t}\n\n\toverride dispose() {\n\t\tthis.clearDecorations();\n\t\tsuper.dispose();\n\t}\n\n}\n"]}