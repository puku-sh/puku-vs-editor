{"version":3,"sources":["vs/workbench/contrib/notebook/browser/contrib/find/notebookFindReplaceWidget.ts"],"names":[],"mappings":"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","file":"notebookFindReplaceWidget.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as nls from '../../../../../../nls.js';\nimport * as dom from '../../../../../../base/browser/dom.js';\nimport './notebookFindReplaceWidget.css';\nimport { ActionBar } from '../../../../../../base/browser/ui/actionbar/actionbar.js';\nimport { IActionViewItemOptions } from '../../../../../../base/browser/ui/actionbar/actionViewItems.js';\nimport { AnchorAlignment, IContextViewProvider } from '../../../../../../base/browser/ui/contextview/contextview.js';\nimport { DropdownMenuActionViewItem } from '../../../../../../base/browser/ui/dropdown/dropdownActionViewItem.js';\nimport { FindInput, IFindInputOptions } from '../../../../../../base/browser/ui/findinput/findInput.js';\nimport { ReplaceInput } from '../../../../../../base/browser/ui/findinput/replaceInput.js';\nimport { IMessage as InputBoxMessage } from '../../../../../../base/browser/ui/inputbox/inputBox.js';\nimport { ProgressBar } from '../../../../../../base/browser/ui/progressbar/progressbar.js';\nimport { ISashEvent, Orientation, Sash } from '../../../../../../base/browser/ui/sash/sash.js';\nimport { IToggleStyles, Toggle } from '../../../../../../base/browser/ui/toggle/toggle.js';\nimport { Widget } from '../../../../../../base/browser/ui/widget.js';\nimport { Action, ActionRunner, IAction, IActionRunner, Separator } from '../../../../../../base/common/actions.js';\nimport { Delayer } from '../../../../../../base/common/async.js';\nimport { Codicon } from '../../../../../../base/common/codicons.js';\nimport { Event } from '../../../../../../base/common/event.js';\nimport { KeyCode } from '../../../../../../base/common/keyCodes.js';\nimport { Disposable } from '../../../../../../base/common/lifecycle.js';\nimport { isSafari } from '../../../../../../base/common/platform.js';\nimport { IHistory } from '../../../../../../base/common/history.js';\nimport { ThemeIcon } from '../../../../../../base/common/themables.js';\nimport { Range } from '../../../../../../editor/common/core/range.js';\nimport { FindReplaceState, FindReplaceStateChangedEvent } from '../../../../../../editor/contrib/find/browser/findState.js';\nimport { findNextMatchIcon, findPreviousMatchIcon, findReplaceAllIcon, findReplaceIcon, findSelectionIcon, SimpleButton } from '../../../../../../editor/contrib/find/browser/findWidget.js';\nimport { parseReplaceString, ReplacePattern } from '../../../../../../editor/contrib/find/browser/replacePattern.js';\nimport { getActionBarActions } from '../../../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { IMenu } from '../../../../../../platform/actions/common/actions.js';\nimport { IConfigurationService } from '../../../../../../platform/configuration/common/configuration.js';\nimport { IContextKeyService } from '../../../../../../platform/contextkey/common/contextkey.js';\nimport { IContextMenuService, IContextViewService } from '../../../../../../platform/contextview/browser/contextView.js';\nimport { ContextScopedReplaceInput, registerAndCreateHistoryNavigationContext } from '../../../../../../platform/history/browser/contextScopedHistoryWidget.js';\n\nimport { IHoverService } from '../../../../../../platform/hover/browser/hover.js';\nimport { IInstantiationService } from '../../../../../../platform/instantiation/common/instantiation.js';\nimport { defaultInputBoxStyles, defaultProgressBarStyles, defaultToggleStyles } from '../../../../../../platform/theme/browser/defaultStyles.js';\nimport { asCssVariable, inputActiveOptionBackground, inputActiveOptionBorder, inputActiveOptionForeground } from '../../../../../../platform/theme/common/colorRegistry.js';\nimport { registerIcon, widgetClose } from '../../../../../../platform/theme/common/iconRegistry.js';\nimport { registerThemingParticipant } from '../../../../../../platform/theme/common/themeService.js';\nimport { filterIcon } from '../../../../extensions/browser/extensionsIcons.js';\nimport { NotebookFindFilters } from './findFilters.js';\nimport { IShowNotebookFindWidgetOptions } from './notebookFindWidget.js';\nimport { ICellModelDecorations, ICellModelDeltaDecorations, ICellViewModel, INotebookDeltaDecoration, INotebookEditor } from '../../notebookBrowser.js';\nimport { NotebookFindScopeType, NotebookSetting } from '../../../common/notebookCommon.js';\nimport { ICellRange } from '../../../common/notebookRange.js';\nimport type { IHoverLifecycleOptions } from '../../../../../../base/browser/ui/hover/hover.js';\n\n\nconst NLS_FIND_INPUT_LABEL = nls.localize('label.find', \"Find\");\nconst NLS_FIND_INPUT_PLACEHOLDER = nls.localize('placeholder.find', \"Find\");\nconst NLS_PREVIOUS_MATCH_BTN_LABEL = nls.localize('label.previousMatchButton', \"Previous Match\");\nconst NLS_NEXT_MATCH_BTN_LABEL = nls.localize('label.nextMatchButton', \"Next Match\");\nconst NLS_TOGGLE_SELECTION_FIND_TITLE = nls.localize('label.toggleSelectionFind', \"Find in Selection\");\nconst NLS_CLOSE_BTN_LABEL = nls.localize('label.closeButton', \"Close\");\nconst NLS_TOGGLE_REPLACE_MODE_BTN_LABEL = nls.localize('label.toggleReplaceButton', \"Toggle Replace\");\nconst NLS_REPLACE_INPUT_LABEL = nls.localize('label.replace', \"Replace\");\nconst NLS_REPLACE_INPUT_PLACEHOLDER = nls.localize('placeholder.replace', \"Replace\");\nconst NLS_REPLACE_BTN_LABEL = nls.localize('label.replaceButton', \"Replace\");\nconst NLS_REPLACE_ALL_BTN_LABEL = nls.localize('label.replaceAllButton', \"Replace All\");\n\nexport const findFilterButton = registerIcon('find-filter', Codicon.filter, nls.localize('findFilterIcon', 'Icon for Find Filter in find widget.'));\nconst NOTEBOOK_FIND_FILTERS = nls.localize('notebook.find.filter.filterAction', \"Find Filters\");\nconst NOTEBOOK_FIND_IN_MARKUP_INPUT = nls.localize('notebook.find.filter.findInMarkupInput', \"Markdown Source\");\nconst NOTEBOOK_FIND_IN_MARKUP_PREVIEW = nls.localize('notebook.find.filter.findInMarkupPreview', \"Rendered Markdown\");\nconst NOTEBOOK_FIND_IN_CODE_INPUT = nls.localize('notebook.find.filter.findInCodeInput', \"Code Cell Source\");\nconst NOTEBOOK_FIND_IN_CODE_OUTPUT = nls.localize('notebook.find.filter.findInCodeOutput', \"Code Cell Output\");\n\nconst NOTEBOOK_FIND_WIDGET_INITIAL_WIDTH = 419;\nconst NOTEBOOK_FIND_WIDGET_INITIAL_HORIZONTAL_PADDING = 4;\nclass NotebookFindFilterActionViewItem extends DropdownMenuActionViewItem {\n\tconstructor(readonly filters: NotebookFindFilters, action: IAction, options: IActionViewItemOptions, actionRunner: IActionRunner, @IContextMenuService contextMenuService: IContextMenuService) {\n\t\tsuper(action,\n\t\t\t{ getActions: () => this.getActions() },\n\t\t\tcontextMenuService,\n\t\t\t{\n\t\t\t\t...options,\n\t\t\t\tactionRunner,\n\t\t\t\tclassNames: action.class,\n\t\t\t\tanchorAlignmentProvider: () => AnchorAlignment.RIGHT\n\t\t\t}\n\t\t);\n\t}\n\n\toverride render(container: HTMLElement): void {\n\t\tsuper.render(container);\n\t\tthis.updateChecked();\n\t}\n\n\tprivate getActions(): IAction[] {\n\t\tconst markdownInput: IAction = {\n\t\t\tchecked: this.filters.markupInput,\n\t\t\tclass: undefined,\n\t\t\tenabled: true,\n\t\t\tid: 'findInMarkdownInput',\n\t\t\tlabel: NOTEBOOK_FIND_IN_MARKUP_INPUT,\n\t\t\trun: async () => {\n\t\t\t\tthis.filters.markupInput = !this.filters.markupInput;\n\t\t\t},\n\t\t\ttooltip: ''\n\t\t};\n\n\t\tconst markdownPreview: IAction = {\n\t\t\tchecked: this.filters.markupPreview,\n\t\t\tclass: undefined,\n\t\t\tenabled: true,\n\t\t\tid: 'findInMarkdownInput',\n\t\t\tlabel: NOTEBOOK_FIND_IN_MARKUP_PREVIEW,\n\t\t\trun: async () => {\n\t\t\t\tthis.filters.markupPreview = !this.filters.markupPreview;\n\t\t\t},\n\t\t\ttooltip: ''\n\t\t};\n\n\t\tconst codeInput: IAction = {\n\t\t\tchecked: this.filters.codeInput,\n\t\t\tclass: undefined,\n\t\t\tenabled: true,\n\t\t\tid: 'findInCodeInput',\n\t\t\tlabel: NOTEBOOK_FIND_IN_CODE_INPUT,\n\t\t\trun: async () => {\n\t\t\t\tthis.filters.codeInput = !this.filters.codeInput;\n\t\t\t},\n\t\t\ttooltip: ''\n\t\t};\n\n\t\tconst codeOutput = {\n\t\t\tchecked: this.filters.codeOutput,\n\t\t\tclass: undefined,\n\t\t\tenabled: true,\n\t\t\tid: 'findInCodeOutput',\n\t\t\tlabel: NOTEBOOK_FIND_IN_CODE_OUTPUT,\n\t\t\trun: async () => {\n\t\t\t\tthis.filters.codeOutput = !this.filters.codeOutput;\n\t\t\t},\n\t\t\ttooltip: '',\n\t\t\tdispose: () => null\n\t\t};\n\n\t\tif (isSafari) {\n\t\t\treturn [\n\t\t\t\tmarkdownInput,\n\t\t\t\tcodeInput\n\t\t\t];\n\t\t} else {\n\t\t\treturn [\n\t\t\t\tmarkdownInput,\n\t\t\t\tmarkdownPreview,\n\t\t\t\tnew Separator(),\n\t\t\t\tcodeInput,\n\t\t\t\tcodeOutput,\n\t\t\t];\n\t\t}\n\n\t}\n\n\tprotected override updateChecked(): void {\n\t\tthis.element!.classList.toggle('checked', this._action.checked);\n\t}\n}\n\nexport class NotebookFindInputFilterButton extends Disposable {\n\tprivate _filterButtonContainer: HTMLElement;\n\tprivate _actionbar: ActionBar | null = null;\n\tprivate _filtersAction: IAction;\n\tprivate _toggleStyles: IToggleStyles;\n\n\tconstructor(\n\t\treadonly filters: NotebookFindFilters,\n\t\treadonly contextMenuService: IContextMenuService,\n\t\treadonly instantiationService: IInstantiationService,\n\t\toptions: IFindInputOptions,\n\t\ttooltip: string = NOTEBOOK_FIND_FILTERS,\n\t) {\n\n\t\tsuper();\n\t\tthis._toggleStyles = options.toggleStyles;\n\n\t\tthis._filtersAction = this._register(new Action('notebookFindFilterAction', tooltip, 'notebook-filters ' + ThemeIcon.asClassName(filterIcon)));\n\t\tthis._filtersAction.checked = false;\n\t\tthis._filterButtonContainer = dom.$('.find-filter-button');\n\t\tthis._filterButtonContainer.classList.add('monaco-custom-toggle');\n\t\tthis.createFilters(this._filterButtonContainer);\n\t}\n\n\tget container() {\n\t\treturn this._filterButtonContainer;\n\t}\n\n\twidth() {\n\t\treturn 2 /*margin left*/ + 2 /*border*/ + 2 /*padding*/ + 16 /* icon width */;\n\t}\n\n\tenable(): void {\n\t\tthis.container.setAttribute('aria-disabled', String(false));\n\t}\n\n\tdisable(): void {\n\t\tthis.container.setAttribute('aria-disabled', String(true));\n\t}\n\n\tset visible(visible: boolean) {\n\t\tthis._filterButtonContainer.style.display = visible ? '' : 'none';\n\t}\n\n\tget visible() {\n\t\treturn this._filterButtonContainer.style.display !== 'none';\n\t}\n\n\tapplyStyles(filterChecked: boolean): void {\n\t\tconst toggleStyles = this._toggleStyles;\n\n\t\tthis._filterButtonContainer.style.border = '1px solid transparent';\n\t\tthis._filterButtonContainer.style.borderRadius = '3px';\n\t\tthis._filterButtonContainer.style.borderColor = (filterChecked && toggleStyles.inputActiveOptionBorder) || '';\n\t\tthis._filterButtonContainer.style.color = (filterChecked && toggleStyles.inputActiveOptionForeground) || 'inherit';\n\t\tthis._filterButtonContainer.style.backgroundColor = (filterChecked && toggleStyles.inputActiveOptionBackground) || '';\n\t}\n\n\tprivate createFilters(container: HTMLElement): void {\n\t\tthis._actionbar = this._register(new ActionBar(container, {\n\t\t\tactionViewItemProvider: (action, options) => {\n\t\t\t\tif (action.id === this._filtersAction.id) {\n\t\t\t\t\treturn this.instantiationService.createInstance(NotebookFindFilterActionViewItem, this.filters, action, options, this._register(new ActionRunner()));\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t}));\n\t\tthis._actionbar.push(this._filtersAction, { icon: true, label: false });\n\t}\n}\n\nexport class NotebookFindInput extends FindInput {\n\tprivate _findFilter: NotebookFindInputFilterButton;\n\tprivate _filterChecked: boolean = false;\n\n\tconstructor(\n\t\treadonly filters: NotebookFindFilters,\n\t\tcontextKeyService: IContextKeyService,\n\t\treadonly contextMenuService: IContextMenuService,\n\t\treadonly instantiationService: IInstantiationService,\n\t\tparent: HTMLElement | null,\n\t\tcontextViewProvider: IContextViewProvider,\n\t\toptions: IFindInputOptions,\n\t) {\n\t\tsuper(parent, contextViewProvider, options);\n\n\t\tthis._register(registerAndCreateHistoryNavigationContext(contextKeyService, this.inputBox));\n\t\tthis._findFilter = this._register(new NotebookFindInputFilterButton(filters, contextMenuService, instantiationService, options));\n\n\t\tthis.inputBox.paddingRight = (this.caseSensitive?.width() ?? 0) + (this.wholeWords?.width() ?? 0) + (this.regex?.width() ?? 0) + this._findFilter.width();\n\t\tthis.controls.appendChild(this._findFilter.container);\n\t}\n\n\toverride setEnabled(enabled: boolean) {\n\t\tsuper.setEnabled(enabled);\n\t\tif (enabled && !this._filterChecked) {\n\t\t\tthis.regex?.enable();\n\t\t} else {\n\t\t\tthis.regex?.disable();\n\t\t}\n\t}\n\n\tupdateFilterState(changed: boolean) {\n\t\tthis._filterChecked = changed;\n\t\tif (this.regex) {\n\t\t\tif (this._filterChecked) {\n\t\t\t\tthis.regex.disable();\n\t\t\t\tthis.regex.domNode.tabIndex = -1;\n\t\t\t\tthis.regex.domNode.classList.toggle('disabled', true);\n\t\t\t} else {\n\t\t\t\tthis.regex.enable();\n\t\t\t\tthis.regex.domNode.tabIndex = 0;\n\t\t\t\tthis.regex.domNode.classList.toggle('disabled', false);\n\t\t\t}\n\t\t}\n\t\tthis._findFilter.applyStyles(this._filterChecked);\n\t}\n\n\tgetCellToolbarActions(menu: IMenu): { primary: IAction[]; secondary: IAction[] } {\n\t\treturn getActionBarActions(menu.getActions({ shouldForwardArgs: true }), g => /^inline/.test(g));\n\t}\n}\n\nexport abstract class SimpleFindReplaceWidget extends Widget {\n\tprotected readonly _findInput: NotebookFindInput;\n\tprivate readonly _domNode: HTMLElement;\n\tprivate readonly _innerFindDomNode: HTMLElement;\n\tprivate readonly _focusTracker: dom.IFocusTracker;\n\tprivate readonly _findInputFocusTracker: dom.IFocusTracker;\n\tprivate readonly _updateFindHistoryDelayer: Delayer<void>;\n\tprotected readonly _matchesCount!: HTMLElement;\n\tprivate readonly prevBtn: SimpleButton;\n\tprivate readonly nextBtn: SimpleButton;\n\n\tprotected readonly _replaceInput!: ReplaceInput;\n\tprivate readonly _innerReplaceDomNode!: HTMLElement;\n\tprivate _toggleReplaceBtn!: SimpleButton;\n\tprivate readonly _replaceInputFocusTracker!: dom.IFocusTracker;\n\tprivate readonly _updateReplaceHistoryDelayer: Delayer<void>;\n\tprotected _replaceBtn!: SimpleButton;\n\tprotected _replaceAllBtn!: SimpleButton;\n\n\tprivate readonly _resizeSash: Sash;\n\tprivate _resizeOriginalWidth = NOTEBOOK_FIND_WIDGET_INITIAL_WIDTH;\n\n\tprivate _isVisible: boolean = false;\n\tprivate _isReplaceVisible: boolean = false;\n\tprivate foundMatch: boolean = false;\n\n\tprotected _progressBar!: ProgressBar;\n\tprotected _scopedContextKeyService: IContextKeyService;\n\n\tprivate _filters: NotebookFindFilters;\n\n\tprivate readonly inSelectionToggle: Toggle;\n\tprivate cellSelectionDecorationIds: string[] = [];\n\tprivate textSelectionDecorationIds: ICellModelDecorations[] = [];\n\n\tconstructor(\n\t\t@IContextViewService private readonly _contextViewService: IContextViewService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IConfigurationService protected readonly _configurationService: IConfigurationService,\n\t\t@IContextMenuService private readonly contextMenuService: IContextMenuService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IHoverService hoverService: IHoverService,\n\t\tprotected readonly _state: FindReplaceState<NotebookFindFilters> = new FindReplaceState<NotebookFindFilters>(),\n\t\tprotected readonly _notebookEditor: INotebookEditor,\n\t\tprivate readonly _findWidgetSearchHistory: IHistory<string> | undefined,\n\t\tprivate readonly _replaceWidgetHistory: IHistory<string> | undefined,\n\t) {\n\t\tsuper();\n\n\t\tthis._register(this._state);\n\n\t\tconst findFilters = this._configurationService.getValue<{\n\t\t\tmarkupSource: boolean;\n\t\t\tmarkupPreview: boolean;\n\t\t\tcodeSource: boolean;\n\t\t\tcodeOutput: boolean;\n\t\t}>(NotebookSetting.findFilters) ?? { markupSource: true, markupPreview: true, codeSource: true, codeOutput: true };\n\n\t\tconst findHistoryConfig = this._configurationService.getValue<'never' | 'workspace'>('editor.find.history');\n\t\tconst replaceHistoryConfig = this._configurationService.getValue<'never' | 'workspace'>('editor.find.replaceHistory');\n\n\t\tthis._filters = this._register(new NotebookFindFilters(findFilters.markupSource, findFilters.markupPreview, findFilters.codeSource, findFilters.codeOutput, { findScopeType: NotebookFindScopeType.None }));\n\t\tthis._state.change({ filters: this._filters }, false);\n\n\t\tthis._register(this._filters.onDidChange(() => {\n\t\t\tthis._state.change({ filters: this._filters }, false);\n\t\t}));\n\n\t\tthis._domNode = document.createElement('div');\n\t\tthis._domNode.classList.add('simple-fr-find-part-wrapper');\n\n\t\tthis._register(Event.runAndSubscribe(this._configurationService.onDidChangeConfiguration, e => {\n\t\t\tif (!e || e.affectsConfiguration(NotebookSetting.globalToolbar)) {\n\t\t\t\tif (this._notebookEditor.notebookOptions.getLayoutConfiguration().globalToolbar) {\n\t\t\t\t\tthis._domNode.style.top = '26px';\n\t\t\t\t} else {\n\t\t\t\t\tthis._domNode.style.top = '0px';\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this._state.onFindReplaceStateChange((e) => this._onStateChanged(e)));\n\t\tthis._scopedContextKeyService = this._register(contextKeyService.createScoped(this._domNode));\n\n\t\tconst progressContainer = dom.$('.find-replace-progress');\n\t\tthis._progressBar = this._register(new ProgressBar(progressContainer, defaultProgressBarStyles));\n\t\tthis._domNode.appendChild(progressContainer);\n\n\t\tconst isInteractiveWindow = contextKeyService.getContextKeyValue('notebookType') === 'interactive';\n\n\t\tconst hoverLifecycleOptions: IHoverLifecycleOptions = { groupId: 'simple-find-widget' };\n\n\t\t// Toggle replace button\n\t\tthis._toggleReplaceBtn = this._register(new SimpleButton({\n\t\t\tlabel: NLS_TOGGLE_REPLACE_MODE_BTN_LABEL,\n\t\t\tclassName: 'codicon toggle left',\n\t\t\thoverLifecycleOptions,\n\t\t\tonTrigger: isInteractiveWindow ? () => { } :\n\t\t\t\t() => {\n\t\t\t\t\tthis._isReplaceVisible = !this._isReplaceVisible;\n\t\t\t\t\tthis._state.change({ isReplaceRevealed: this._isReplaceVisible }, false);\n\t\t\t\t\tthis._updateReplaceViewDisplay();\n\t\t\t\t}\n\t\t}, hoverService));\n\t\tthis._toggleReplaceBtn.setEnabled(!isInteractiveWindow);\n\t\tthis._toggleReplaceBtn.setExpanded(this._isReplaceVisible);\n\t\tthis._domNode.appendChild(this._toggleReplaceBtn.domNode);\n\n\n\n\t\tthis._innerFindDomNode = document.createElement('div');\n\t\tthis._innerFindDomNode.classList.add('simple-fr-find-part');\n\n\t\tthis._findInput = this._register(new NotebookFindInput(\n\t\t\tthis._filters,\n\t\t\tthis._scopedContextKeyService,\n\t\t\tthis.contextMenuService,\n\t\t\tthis.instantiationService,\n\t\t\tnull,\n\t\t\tthis._contextViewService,\n\t\t\t{\n\t\t\t\t// width:FIND_INPUT_AREA_WIDTH,\n\t\t\t\tlabel: NLS_FIND_INPUT_LABEL,\n\t\t\t\tplaceholder: NLS_FIND_INPUT_PLACEHOLDER,\n\t\t\t\tvalidation: (value: string): InputBoxMessage | null => {\n\t\t\t\t\tif (value.length === 0 || !this._findInput.getRegex()) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t\ttry {\n\t\t\t\t\t\tnew RegExp(value);\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tthis.foundMatch = false;\n\t\t\t\t\t\tthis.updateButtons(this.foundMatch);\n\t\t\t\t\t\treturn { content: e.message };\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tflexibleWidth: true,\n\t\t\t\tshowCommonFindToggles: true,\n\t\t\t\tinputBoxStyles: defaultInputBoxStyles,\n\t\t\t\ttoggleStyles: defaultToggleStyles,\n\t\t\t\thistory: findHistoryConfig === 'workspace' ? this._findWidgetSearchHistory : new Set([]),\n\t\t\t}\n\t\t));\n\n\t\t// Find History with update delayer\n\t\tthis._updateFindHistoryDelayer = new Delayer<void>(500);\n\n\t\tthis.oninput(this._findInput.domNode, (e) => {\n\t\t\tthis.foundMatch = this.onInputChanged();\n\t\t\tthis.updateButtons(this.foundMatch);\n\t\t\tthis._delayedUpdateFindHistory();\n\t\t});\n\n\t\tthis._register(this._findInput.inputBox.onDidChange(() => {\n\t\t\tthis._state.change({ searchString: this._findInput.getValue() }, true);\n\t\t}));\n\n\t\tthis._findInput.setRegex(!!this._state.isRegex);\n\t\tthis._findInput.setCaseSensitive(!!this._state.matchCase);\n\t\tthis._findInput.setWholeWords(!!this._state.wholeWord);\n\n\t\tthis._register(this._findInput.onDidOptionChange(() => {\n\t\t\tthis._state.change({\n\t\t\t\tisRegex: this._findInput.getRegex(),\n\t\t\t\twholeWord: this._findInput.getWholeWords(),\n\t\t\t\tmatchCase: this._findInput.getCaseSensitive()\n\t\t\t}, true);\n\t\t}));\n\n\t\tthis._register(this._state.onFindReplaceStateChange(() => {\n\t\t\tthis._findInput.setRegex(this._state.isRegex);\n\t\t\tthis._findInput.setWholeWords(this._state.wholeWord);\n\t\t\tthis._findInput.setCaseSensitive(this._state.matchCase);\n\t\t\tthis._replaceInput.setPreserveCase(this._state.preserveCase);\n\t\t}));\n\n\t\tthis._matchesCount = document.createElement('div');\n\t\tthis._matchesCount.className = 'matchesCount';\n\t\tthis._updateMatchesCount();\n\n\t\tthis.prevBtn = this._register(new SimpleButton({\n\t\t\tlabel: NLS_PREVIOUS_MATCH_BTN_LABEL,\n\t\t\ticon: findPreviousMatchIcon,\n\t\t\thoverLifecycleOptions,\n\t\t\tonTrigger: () => {\n\t\t\t\tthis.find(true);\n\t\t\t}\n\t\t}, hoverService));\n\n\t\tthis.nextBtn = this._register(new SimpleButton({\n\t\t\tlabel: NLS_NEXT_MATCH_BTN_LABEL,\n\t\t\ticon: findNextMatchIcon,\n\t\t\thoverLifecycleOptions,\n\t\t\tonTrigger: () => {\n\t\t\t\tthis.find(false);\n\t\t\t}\n\t\t}, hoverService));\n\n\t\tthis.inSelectionToggle = this._register(new Toggle({\n\t\t\ticon: findSelectionIcon,\n\t\t\ttitle: NLS_TOGGLE_SELECTION_FIND_TITLE,\n\t\t\tisChecked: false,\n\t\t\thoverLifecycleOptions,\n\t\t\tinputActiveOptionBackground: asCssVariable(inputActiveOptionBackground),\n\t\t\tinputActiveOptionBorder: asCssVariable(inputActiveOptionBorder),\n\t\t\tinputActiveOptionForeground: asCssVariable(inputActiveOptionForeground),\n\t\t}));\n\t\tthis.inSelectionToggle.domNode.style.display = 'inline';\n\n\t\tthis._register(this.inSelectionToggle.onChange(() => {\n\t\t\tconst checked = this.inSelectionToggle.checked;\n\t\t\tif (checked) {\n\t\t\t\t// selection logic:\n\t\t\t\t// 1. if there are multiple cells, do that.\n\t\t\t\t// 2. if there is only one cell, do the following:\n\t\t\t\t// \t\t- if there is a multi-line range highlighted, textual in selection\n\t\t\t\t// \t\t- if there is no range, cell in selection for that cell\n\n\t\t\t\tconst cellSelection: ICellRange[] = this._notebookEditor.getSelections();\n\t\t\t\tconst textSelection: Range[] = this._notebookEditor.getSelectionViewModels()[0].getSelections();\n\n\t\t\t\tif (cellSelection.length > 1 || cellSelection.some(range => range.end - range.start > 1)) {\n\t\t\t\t\tthis._filters.findScope = {\n\t\t\t\t\t\tfindScopeType: NotebookFindScopeType.Cells,\n\t\t\t\t\t\tselectedCellRanges: cellSelection\n\t\t\t\t\t};\n\t\t\t\t\tthis.setCellSelectionDecorations();\n\n\t\t\t\t} else if (textSelection.length > 1 || textSelection.some(range => range.endLineNumber - range.startLineNumber >= 1)) {\n\t\t\t\t\tthis._filters.findScope = {\n\t\t\t\t\t\tfindScopeType: NotebookFindScopeType.Text,\n\t\t\t\t\t\tselectedCellRanges: cellSelection,\n\t\t\t\t\t\tselectedTextRanges: textSelection\n\t\t\t\t\t};\n\t\t\t\t\tthis.setTextSelectionDecorations(textSelection, this._notebookEditor.getSelectionViewModels()[0]);\n\n\t\t\t\t} else {\n\t\t\t\t\tthis._filters.findScope = {\n\t\t\t\t\t\tfindScopeType: NotebookFindScopeType.Cells,\n\t\t\t\t\t\tselectedCellRanges: cellSelection\n\t\t\t\t\t};\n\t\t\t\t\tthis.setCellSelectionDecorations();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis._filters.findScope = {\n\t\t\t\t\tfindScopeType: NotebookFindScopeType.None\n\t\t\t\t};\n\t\t\t\tthis.clearCellSelectionDecorations();\n\t\t\t\tthis.clearTextSelectionDecorations();\n\t\t\t}\n\t\t}));\n\n\t\tconst closeBtn = this._register(new SimpleButton({\n\t\t\tlabel: NLS_CLOSE_BTN_LABEL,\n\t\t\ticon: widgetClose,\n\t\t\thoverLifecycleOptions,\n\t\t\tonTrigger: () => {\n\t\t\t\tthis.hide();\n\t\t\t}\n\t\t}, hoverService));\n\n\t\tthis._innerFindDomNode.appendChild(this._findInput.domNode);\n\t\tthis._innerFindDomNode.appendChild(this._matchesCount);\n\t\tthis._innerFindDomNode.appendChild(this.prevBtn.domNode);\n\t\tthis._innerFindDomNode.appendChild(this.nextBtn.domNode);\n\t\tthis._innerFindDomNode.appendChild(this.inSelectionToggle.domNode);\n\t\tthis._innerFindDomNode.appendChild(closeBtn.domNode);\n\n\t\t// _domNode wraps _innerDomNode, ensuring that\n\t\tthis._domNode.appendChild(this._innerFindDomNode);\n\n\t\tthis.onkeyup(this._innerFindDomNode, e => {\n\t\t\tif (e.equals(KeyCode.Escape)) {\n\t\t\t\tthis.hide();\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\t\t});\n\n\t\tthis._focusTracker = this._register(dom.trackFocus(this._domNode));\n\t\tthis._register(this._focusTracker.onDidFocus(this.onFocusTrackerFocus.bind(this)));\n\t\tthis._register(this._focusTracker.onDidBlur(this.onFocusTrackerBlur.bind(this)));\n\n\t\tthis._findInputFocusTracker = this._register(dom.trackFocus(this._findInput.domNode));\n\t\tthis._register(this._findInputFocusTracker.onDidFocus(this.onFindInputFocusTrackerFocus.bind(this)));\n\t\tthis._register(this._findInputFocusTracker.onDidBlur(this.onFindInputFocusTrackerBlur.bind(this)));\n\n\t\tthis._register(dom.addDisposableListener(this._innerFindDomNode, 'click', (event) => {\n\t\t\tevent.stopPropagation();\n\t\t}));\n\n\t\t// Replace\n\t\tthis._innerReplaceDomNode = document.createElement('div');\n\t\tthis._innerReplaceDomNode.classList.add('simple-fr-replace-part');\n\n\t\tthis._replaceInput = this._register(new ContextScopedReplaceInput(null, undefined, {\n\t\t\tlabel: NLS_REPLACE_INPUT_LABEL,\n\t\t\tplaceholder: NLS_REPLACE_INPUT_PLACEHOLDER,\n\t\t\thistory: replaceHistoryConfig === 'workspace' ? this._replaceWidgetHistory : new Set([]),\n\t\t\tinputBoxStyles: defaultInputBoxStyles,\n\t\t\ttoggleStyles: defaultToggleStyles,\n\t\t\thoverLifecycleOptions,\n\t\t}, contextKeyService, false));\n\t\tthis._innerReplaceDomNode.appendChild(this._replaceInput.domNode);\n\t\tthis._replaceInputFocusTracker = this._register(dom.trackFocus(this._replaceInput.domNode));\n\t\tthis._register(this._replaceInputFocusTracker.onDidFocus(this.onReplaceInputFocusTrackerFocus.bind(this)));\n\t\tthis._register(this._replaceInputFocusTracker.onDidBlur(this.onReplaceInputFocusTrackerBlur.bind(this)));\n\n\t\t// Replace History with update delayer\n\t\tthis._updateReplaceHistoryDelayer = new Delayer<void>(500);\n\n\t\tthis.oninput(this._replaceInput.domNode, (e) => {\n\t\t\tthis._delayedUpdateReplaceHistory();\n\t\t});\n\n\t\tthis._register(this._replaceInput.inputBox.onDidChange(() => {\n\t\t\tthis._state.change({ replaceString: this._replaceInput.getValue() }, true);\n\t\t}));\n\n\t\tthis._domNode.appendChild(this._innerReplaceDomNode);\n\n\t\tthis._updateReplaceViewDisplay();\n\n\t\tthis._replaceBtn = this._register(new SimpleButton({\n\t\t\tlabel: NLS_REPLACE_BTN_LABEL,\n\t\t\ticon: findReplaceIcon,\n\t\t\thoverLifecycleOptions,\n\t\t\tonTrigger: () => {\n\t\t\t\tthis.replaceOne();\n\t\t\t}\n\t\t}, hoverService));\n\n\t\t// Replace all button\n\t\tthis._replaceAllBtn = this._register(new SimpleButton({\n\t\t\tlabel: NLS_REPLACE_ALL_BTN_LABEL,\n\t\t\ticon: findReplaceAllIcon,\n\t\t\thoverLifecycleOptions,\n\t\t\tonTrigger: () => {\n\t\t\t\tthis.replaceAll();\n\t\t\t}\n\t\t}, hoverService));\n\n\t\tthis._innerReplaceDomNode.appendChild(this._replaceBtn.domNode);\n\t\tthis._innerReplaceDomNode.appendChild(this._replaceAllBtn.domNode);\n\n\t\tthis._resizeSash = this._register(new Sash(this._domNode, { getVerticalSashLeft: () => 0 }, { orientation: Orientation.VERTICAL, size: 2 }));\n\n\t\tthis._register(this._resizeSash.onDidStart(() => {\n\t\t\tthis._resizeOriginalWidth = this._getDomWidth();\n\t\t}));\n\n\t\tthis._register(this._resizeSash.onDidChange((evt: ISashEvent) => {\n\t\t\tlet width = this._resizeOriginalWidth + evt.startX - evt.currentX;\n\t\t\tif (width < NOTEBOOK_FIND_WIDGET_INITIAL_WIDTH) {\n\t\t\t\twidth = NOTEBOOK_FIND_WIDGET_INITIAL_WIDTH;\n\t\t\t}\n\n\t\t\tconst maxWidth = this._getMaxWidth();\n\t\t\tif (width > maxWidth) {\n\t\t\t\twidth = maxWidth;\n\t\t\t}\n\n\t\t\tthis._domNode.style.width = `${width}px`;\n\n\t\t\tif (this._isReplaceVisible) {\n\t\t\t\tthis._replaceInput.width = dom.getTotalWidth(this._findInput.domNode);\n\t\t\t}\n\n\t\t\tthis._findInput.inputBox.layout();\n\t\t}));\n\n\t\tthis._register(this._resizeSash.onDidReset(() => {\n\t\t\t// users double click on the sash\n\t\t\t// try to emulate what happens with editor findWidget\n\t\t\tconst currentWidth = this._getDomWidth();\n\t\t\tlet width = NOTEBOOK_FIND_WIDGET_INITIAL_WIDTH;\n\n\t\t\tif (currentWidth <= NOTEBOOK_FIND_WIDGET_INITIAL_WIDTH) {\n\t\t\t\twidth = this._getMaxWidth();\n\t\t\t}\n\n\t\t\tthis._domNode.style.width = `${width}px`;\n\t\t\tif (this._isReplaceVisible) {\n\t\t\t\tthis._replaceInput.width = dom.getTotalWidth(this._findInput.domNode);\n\t\t\t}\n\n\t\t\tthis._findInput.inputBox.layout();\n\t\t}));\n\t}\n\n\tprivate _getMaxWidth() {\n\t\treturn this._notebookEditor.getLayoutInfo().width - 64;\n\t}\n\n\tprivate _getDomWidth() {\n\t\treturn dom.getTotalWidth(this._domNode) - (NOTEBOOK_FIND_WIDGET_INITIAL_HORIZONTAL_PADDING * 2);\n\t}\n\n\tgetCellToolbarActions(menu: IMenu): { primary: IAction[]; secondary: IAction[] } {\n\t\treturn getActionBarActions(menu.getActions({ shouldForwardArgs: true }), g => /^inline/.test(g));\n\t}\n\n\tprotected abstract onInputChanged(): boolean;\n\tprotected abstract find(previous: boolean): void;\n\tprotected abstract replaceOne(): void;\n\tprotected abstract replaceAll(): void;\n\tprotected abstract onFocusTrackerFocus(): void;\n\tprotected abstract onFocusTrackerBlur(): void;\n\tprotected abstract onFindInputFocusTrackerFocus(): void;\n\tprotected abstract onFindInputFocusTrackerBlur(): void;\n\tprotected abstract onReplaceInputFocusTrackerFocus(): void;\n\tprotected abstract onReplaceInputFocusTrackerBlur(): void;\n\n\tprotected get inputValue() {\n\t\treturn this._findInput.getValue();\n\t}\n\n\tprotected get replaceValue() {\n\t\treturn this._replaceInput.getValue();\n\t}\n\n\tprotected get replacePattern() {\n\t\tif (this._state.isRegex) {\n\t\t\treturn parseReplaceString(this.replaceValue);\n\t\t}\n\t\treturn ReplacePattern.fromStaticValue(this.replaceValue);\n\t}\n\n\tpublic get focusTracker(): dom.IFocusTracker {\n\t\treturn this._focusTracker;\n\t}\n\n\tpublic get isVisible(): boolean {\n\t\treturn this._isVisible;\n\t}\n\n\tprivate _onStateChanged(e: FindReplaceStateChangedEvent): void {\n\t\tthis._updateButtons();\n\t\tthis._updateMatchesCount();\n\t}\n\n\tprivate _updateButtons(): void {\n\t\tthis._findInput.setEnabled(this._isVisible);\n\t\tthis._replaceInput.setEnabled(this._isVisible && this._isReplaceVisible);\n\t\tconst findInputIsNonEmpty = (this._state.searchString.length > 0);\n\t\tthis._replaceBtn.setEnabled(this._isVisible && this._isReplaceVisible && findInputIsNonEmpty);\n\t\tthis._replaceAllBtn.setEnabled(this._isVisible && this._isReplaceVisible && findInputIsNonEmpty);\n\n\t\tthis._domNode.classList.toggle('replaceToggled', this._isReplaceVisible);\n\t\tthis._toggleReplaceBtn.setExpanded(this._isReplaceVisible);\n\n\t\tthis.foundMatch = this._state.matchesCount > 0;\n\t\tthis.updateButtons(this.foundMatch);\n\t}\n\n\tprivate setCellSelectionDecorations() {\n\t\tconst cellHandles: number[] = [];\n\t\tthis._notebookEditor.getSelectionViewModels().forEach(viewModel => {\n\t\t\tcellHandles.push(viewModel.handle);\n\t\t});\n\n\t\tconst decorations: INotebookDeltaDecoration[] = [];\n\t\tfor (const handle of cellHandles) {\n\t\t\tdecorations.push({\n\t\t\t\thandle: handle,\n\t\t\t\toptions: { className: 'nb-multiCellHighlight', outputClassName: 'nb-multiCellHighlight' }\n\t\t\t} satisfies INotebookDeltaDecoration);\n\t\t}\n\t\tthis.cellSelectionDecorationIds = this._notebookEditor.deltaCellDecorations([], decorations);\n\t}\n\n\tprivate clearCellSelectionDecorations() {\n\t\tthis._notebookEditor.deltaCellDecorations(this.cellSelectionDecorationIds, []);\n\t}\n\n\tprivate setTextSelectionDecorations(textRanges: Range[], cell: ICellViewModel) {\n\t\tthis._notebookEditor.changeModelDecorations(changeAccessor => {\n\t\t\tconst decorations: ICellModelDeltaDecorations[] = [];\n\t\t\tfor (const range of textRanges) {\n\t\t\t\tdecorations.push({\n\t\t\t\t\townerId: cell.handle,\n\t\t\t\t\tdecorations: [{\n\t\t\t\t\t\trange: range,\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\tdescription: 'text search range for notebook search scope',\n\t\t\t\t\t\t\tisWholeLine: true,\n\t\t\t\t\t\t\tclassName: 'nb-findScope'\n\t\t\t\t\t\t}\n\t\t\t\t\t}]\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.textSelectionDecorationIds = changeAccessor.deltaDecorations([], decorations);\n\t\t});\n\t}\n\n\tprivate clearTextSelectionDecorations() {\n\t\tthis._notebookEditor.changeModelDecorations(changeAccessor => {\n\t\t\tchangeAccessor.deltaDecorations(this.textSelectionDecorationIds, []);\n\t\t});\n\t}\n\n\tprotected _updateMatchesCount(): void {\n\t}\n\n\toverride dispose() {\n\t\tsuper.dispose();\n\n\t\tthis._domNode.remove();\n\t}\n\n\tpublic getDomNode() {\n\t\treturn this._domNode;\n\t}\n\n\tpublic reveal(initialInput?: string): void {\n\t\tif (initialInput) {\n\t\t\tthis._findInput.setValue(initialInput);\n\t\t}\n\n\t\tif (this._isVisible) {\n\t\t\tthis._findInput.select();\n\t\t\treturn;\n\t\t}\n\n\t\tthis._isVisible = true;\n\t\tthis.updateButtons(this.foundMatch);\n\n\t\tsetTimeout(() => {\n\t\t\tthis._domNode.classList.add('visible', 'visible-transition');\n\t\t\tthis._domNode.setAttribute('aria-hidden', 'false');\n\t\t\tthis._findInput.select();\n\t\t}, 0);\n\t}\n\n\tpublic focus(): void {\n\t\tthis._findInput.focus();\n\t}\n\n\tpublic show(initialInput?: string, options?: IShowNotebookFindWidgetOptions): void {\n\t\tif (initialInput) {\n\t\t\tthis._findInput.setValue(initialInput);\n\t\t}\n\n\t\tthis._isVisible = true;\n\n\t\tsetTimeout(() => {\n\t\t\tthis._domNode.classList.add('visible', 'visible-transition');\n\t\t\tthis._domNode.setAttribute('aria-hidden', 'false');\n\n\t\t\tif (options?.focus ?? true) {\n\t\t\t\tthis.focus();\n\t\t\t}\n\t\t}, 0);\n\t}\n\n\tpublic showWithReplace(initialInput?: string, replaceInput?: string): void {\n\t\tif (initialInput) {\n\t\t\tthis._findInput.setValue(initialInput);\n\t\t}\n\n\t\tif (replaceInput) {\n\t\t\tthis._replaceInput.setValue(replaceInput);\n\t\t}\n\n\t\tthis._isVisible = true;\n\t\tthis._isReplaceVisible = true;\n\t\tthis._state.change({ isReplaceRevealed: this._isReplaceVisible }, false);\n\t\tthis._updateReplaceViewDisplay();\n\n\t\tsetTimeout(() => {\n\t\t\tthis._domNode.classList.add('visible', 'visible-transition');\n\t\t\tthis._domNode.setAttribute('aria-hidden', 'false');\n\t\t\tthis._updateButtons();\n\n\t\t\tthis._replaceInput.focus();\n\t\t}, 0);\n\t}\n\n\tprivate _updateReplaceViewDisplay(): void {\n\t\tif (this._isReplaceVisible) {\n\t\t\tthis._innerReplaceDomNode.style.display = 'flex';\n\t\t} else {\n\t\t\tthis._innerReplaceDomNode.style.display = 'none';\n\t\t}\n\n\t\tthis._replaceInput.width = dom.getTotalWidth(this._findInput.domNode);\n\t}\n\n\tpublic hide(): void {\n\t\tif (this._isVisible) {\n\t\t\tthis.inSelectionToggle.checked = false;\n\t\t\tthis._notebookEditor.deltaCellDecorations(this.cellSelectionDecorationIds, []);\n\t\t\tthis._notebookEditor.changeModelDecorations(changeAccessor => {\n\t\t\t\tchangeAccessor.deltaDecorations(this.textSelectionDecorationIds, []);\n\t\t\t});\n\n\t\t\tthis._domNode.classList.remove('visible-transition');\n\t\t\tthis._domNode.setAttribute('aria-hidden', 'true');\n\t\t\t// Need to delay toggling visibility until after Transition, then visibility hidden - removes from tabIndex list\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis._isVisible = false;\n\t\t\t\tthis.updateButtons(this.foundMatch);\n\t\t\t\tthis._domNode.classList.remove('visible');\n\t\t\t}, 200);\n\t\t}\n\t}\n\n\tprotected _delayedUpdateFindHistory() {\n\t\tthis._updateFindHistoryDelayer.trigger(this._updateFindHistory.bind(this));\n\t}\n\n\tprotected _updateFindHistory() {\n\t\tthis._findInput.inputBox.addToHistory();\n\t}\n\n\tprotected _delayedUpdateReplaceHistory() {\n\t\tthis._updateReplaceHistoryDelayer.trigger(this._updateReplaceHistory.bind(this));\n\t}\n\n\tprotected _updateReplaceHistory() {\n\t\tthis._replaceInput.inputBox.addToHistory();\n\t}\n\n\tprotected _getRegexValue(): boolean {\n\t\treturn this._findInput.getRegex();\n\t}\n\n\tprotected _getWholeWordValue(): boolean {\n\t\treturn this._findInput.getWholeWords();\n\t}\n\n\tprotected _getCaseSensitiveValue(): boolean {\n\t\treturn this._findInput.getCaseSensitive();\n\t}\n\n\tprotected updateButtons(foundMatch: boolean) {\n\t\tconst hasInput = this.inputValue.length > 0;\n\t\tthis.prevBtn.setEnabled(this._isVisible && hasInput && foundMatch);\n\t\tthis.nextBtn.setEnabled(this._isVisible && hasInput && foundMatch);\n\t}\n}\n\n// theming\nregisterThemingParticipant((theme, collector) => {\n\tcollector.addRule(`\n\t.notebook-editor {\n\t\t--notebook-find-width: ${NOTEBOOK_FIND_WIDGET_INITIAL_WIDTH}px;\n\t\t--notebook-find-horizontal-padding: ${NOTEBOOK_FIND_WIDGET_INITIAL_HORIZONTAL_PADDING}px;\n\t}\n\t`);\n});\n"]}