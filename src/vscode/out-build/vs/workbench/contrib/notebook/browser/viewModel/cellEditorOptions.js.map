{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/notebook/browser/viewModel/cellEditorOptions.ts","vs/workbench/contrib/notebook/browser/viewModel/cellEditorOptions.ts"],"names":[],"mappings":"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","file":"cellEditorOptions.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Emitter, Event } from '../../../../../base/common/event.js';\nimport { Disposable, DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { deepClone } from '../../../../../base/common/objects.js';\nimport { IEditorOptions } from '../../../../../editor/common/config/editorOptions.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { IBaseCellEditorOptions, INotebookEditorDelegate } from '../notebookBrowser.js';\nimport { NotebookOptions } from '../notebookOptions.js';\n\nexport class BaseCellEditorOptions extends Disposable implements IBaseCellEditorOptions {\n\tprivate static fixedEditorOptions: IEditorOptions = {\n\t\tscrollBeyondLastLine: false,\n\t\tscrollbar: {\n\t\t\tverticalScrollbarSize: 14,\n\t\t\thorizontal: 'auto',\n\t\t\tuseShadows: true,\n\t\t\tverticalHasArrows: false,\n\t\t\thorizontalHasArrows: false,\n\t\t\talwaysConsumeMouseWheel: false\n\t\t},\n\t\trenderLineHighlightOnlyWhenFocus: true,\n\t\toverviewRulerLanes: 0,\n\t\tlineDecorationsWidth: 0,\n\t\tfolding: true,\n\t\tfixedOverflowWidgets: true,\n\t\tminimap: { enabled: false },\n\t\trenderValidationDecorations: 'on',\n\t\tlineNumbersMinChars: 3\n\t};\n\n\tprivate readonly _localDisposableStore = this._register(new DisposableStore());\n\tprivate readonly _onDidChange = this._register(new Emitter<void>());\n\treadonly onDidChange: Event<void> = this._onDidChange.event;\n\tprivate _value: IEditorOptions;\n\n\tget value(): Readonly<IEditorOptions> {\n\t\treturn this._value;\n\t}\n\n\tconstructor(readonly notebookEditor: INotebookEditorDelegate, readonly notebookOptions: NotebookOptions, readonly configurationService: IConfigurationService, readonly language: string) {\n\t\tsuper();\n\t\tthis._register(configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration('editor') || e.affectsConfiguration('notebook')) {\n\t\t\t\tthis._recomputeOptions();\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(notebookOptions.onDidChangeOptions(e => {\n\t\t\tif (e.cellStatusBarVisibility || e.editorTopPadding || e.editorOptionsCustomizations) {\n\t\t\t\tthis._recomputeOptions();\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.notebookEditor.onDidChangeModel(() => {\n\t\t\tthis._localDisposableStore.clear();\n\n\t\t\tif (this.notebookEditor.hasModel()) {\n\t\t\t\tthis._localDisposableStore.add(this.notebookEditor.onDidChangeOptions(() => {\n\t\t\t\t\tthis._recomputeOptions();\n\t\t\t\t}));\n\n\t\t\t\tthis._recomputeOptions();\n\t\t\t}\n\t\t}));\n\n\t\tif (this.notebookEditor.hasModel()) {\n\t\t\tthis._localDisposableStore.add(this.notebookEditor.onDidChangeOptions(() => {\n\t\t\t\tthis._recomputeOptions();\n\t\t\t}));\n\t\t}\n\n\t\tthis._value = this._computeEditorOptions();\n\t}\n\n\tprivate _recomputeOptions(): void {\n\t\tthis._value = this._computeEditorOptions();\n\t\tthis._onDidChange.fire();\n\t}\n\n\tprivate _computeEditorOptions() {\n\t\tconst editorOptions = deepClone(this.configurationService.getValue<IEditorOptions>('editor', { overrideIdentifier: this.language }));\n\t\tconst editorOptionsOverrideRaw = this.notebookOptions.getDisplayOptions().editorOptionsCustomizations;\n\t\tconst editorOptionsOverride: Record<string, unknown> = {};\n\t\tif (editorOptionsOverrideRaw) {\n\t\t\tfor (const key in editorOptionsOverrideRaw) {\n\t\t\t\tif (key.indexOf('editor.') === 0) {\n\t\t\t\t\teditorOptionsOverride[key.substring(7)] = editorOptionsOverrideRaw[key as keyof typeof editorOptionsOverrideRaw];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst computed = Object.freeze({\n\t\t\t...editorOptions,\n\t\t\t...BaseCellEditorOptions.fixedEditorOptions,\n\t\t\t...editorOptionsOverride,\n\t\t\t...{ padding: { top: 12, bottom: 12 } },\n\t\t\treadOnly: this.notebookEditor.isReadOnly\n\t\t});\n\n\t\treturn computed;\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Emitter, Event } from '../../../../../base/common/event.js';\nimport { Disposable, DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { deepClone } from '../../../../../base/common/objects.js';\nimport { IEditorOptions } from '../../../../../editor/common/config/editorOptions.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { IBaseCellEditorOptions, INotebookEditorDelegate } from '../notebookBrowser.js';\nimport { NotebookOptions } from '../notebookOptions.js';\n\nexport class BaseCellEditorOptions extends Disposable implements IBaseCellEditorOptions {\n\tprivate static fixedEditorOptions: IEditorOptions = {\n\t\tscrollBeyondLastLine: false,\n\t\tscrollbar: {\n\t\t\tverticalScrollbarSize: 14,\n\t\t\thorizontal: 'auto',\n\t\t\tuseShadows: true,\n\t\t\tverticalHasArrows: false,\n\t\t\thorizontalHasArrows: false,\n\t\t\talwaysConsumeMouseWheel: false\n\t\t},\n\t\trenderLineHighlightOnlyWhenFocus: true,\n\t\toverviewRulerLanes: 0,\n\t\tlineDecorationsWidth: 0,\n\t\tfolding: true,\n\t\tfixedOverflowWidgets: true,\n\t\tminimap: { enabled: false },\n\t\trenderValidationDecorations: 'on',\n\t\tlineNumbersMinChars: 3\n\t};\n\n\tprivate readonly _localDisposableStore = this._register(new DisposableStore());\n\tprivate readonly _onDidChange = this._register(new Emitter<void>());\n\treadonly onDidChange: Event<void> = this._onDidChange.event;\n\tprivate _value: IEditorOptions;\n\n\tget value(): Readonly<IEditorOptions> {\n\t\treturn this._value;\n\t}\n\n\tconstructor(readonly notebookEditor: INotebookEditorDelegate, readonly notebookOptions: NotebookOptions, readonly configurationService: IConfigurationService, readonly language: string) {\n\t\tsuper();\n\t\tthis._register(configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration('editor') || e.affectsConfiguration('notebook')) {\n\t\t\t\tthis._recomputeOptions();\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(notebookOptions.onDidChangeOptions(e => {\n\t\t\tif (e.cellStatusBarVisibility || e.editorTopPadding || e.editorOptionsCustomizations) {\n\t\t\t\tthis._recomputeOptions();\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.notebookEditor.onDidChangeModel(() => {\n\t\t\tthis._localDisposableStore.clear();\n\n\t\t\tif (this.notebookEditor.hasModel()) {\n\t\t\t\tthis._localDisposableStore.add(this.notebookEditor.onDidChangeOptions(() => {\n\t\t\t\t\tthis._recomputeOptions();\n\t\t\t\t}));\n\n\t\t\t\tthis._recomputeOptions();\n\t\t\t}\n\t\t}));\n\n\t\tif (this.notebookEditor.hasModel()) {\n\t\t\tthis._localDisposableStore.add(this.notebookEditor.onDidChangeOptions(() => {\n\t\t\t\tthis._recomputeOptions();\n\t\t\t}));\n\t\t}\n\n\t\tthis._value = this._computeEditorOptions();\n\t}\n\n\tprivate _recomputeOptions(): void {\n\t\tthis._value = this._computeEditorOptions();\n\t\tthis._onDidChange.fire();\n\t}\n\n\tprivate _computeEditorOptions() {\n\t\tconst editorOptions = deepClone(this.configurationService.getValue<IEditorOptions>('editor', { overrideIdentifier: this.language }));\n\t\tconst editorOptionsOverrideRaw = this.notebookOptions.getDisplayOptions().editorOptionsCustomizations;\n\t\tconst editorOptionsOverride: Record<string, unknown> = {};\n\t\tif (editorOptionsOverrideRaw) {\n\t\t\tfor (const key in editorOptionsOverrideRaw) {\n\t\t\t\tif (key.indexOf('editor.') === 0) {\n\t\t\t\t\teditorOptionsOverride[key.substring(7)] = editorOptionsOverrideRaw[key as keyof typeof editorOptionsOverrideRaw];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst computed = Object.freeze({\n\t\t\t...editorOptions,\n\t\t\t...BaseCellEditorOptions.fixedEditorOptions,\n\t\t\t...editorOptionsOverride,\n\t\t\t...{ padding: { top: 12, bottom: 12 } },\n\t\t\treadOnly: this.notebookEditor.isReadOnly\n\t\t});\n\n\t\treturn computed;\n\t}\n}\n"]}