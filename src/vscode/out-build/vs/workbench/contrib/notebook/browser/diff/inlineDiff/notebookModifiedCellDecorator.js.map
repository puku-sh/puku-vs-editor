{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/notebook/browser/diff/inlineDiff/notebookModifiedCellDecorator.ts","vs/workbench/contrib/notebook/browser/diff/inlineDiff/notebookModifiedCellDecorator.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,EAAE,UAAU,EAAE,eAAe,EAAE,YAAY,EAAE,MAAM,4CAA4C,CAAC;AAEvG,OAAO,EAAmB,yBAAyB,EAAE,MAAM,0BAA0B,CAAC;AAEtF,OAAO,EAAE,+BAA+B,EAAE,MAAM,qCAAqC,CAAC;AAEtF,MAAM,OAAO,6BAA8B,SAAQ,UAAU;IAE5D,YACkB,cAA+B;QAEhD,KAAK,EAAE,CAAC;QAFS,mBAAc,GAAd,cAAc,CAAiB;QAFhC,eAAU,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,eAAe,EAAE,CAAC,CAAC;IAKpE,CAAC;IAEM,KAAK,CAAC,QAAwB;QACpC,MAAM,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC;QAC5C,IAAI,CAAC,KAAK,EAAE,CAAC;YACZ,OAAO;QACR,CAAC;QAED,MAAM,aAAa,GAA4B,EAAE,CAAC;QAClD,KAAK,MAAM,IAAI,IAAI,QAAQ,EAAE,CAAC;YAC7B,IAAI,IAAI,CAAC,IAAI,KAAK,UAAU,EAAE,CAAC;gBAC9B,MAAM,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;gBACjD,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC1B,CAAC;QACF,CAAC;QAED,MAAM,GAAG,GAAG,IAAI,CAAC,cAAc,CAAC,oBAAoB,CAAC,EAAE,EAAE,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YACnF,MAAM,EAAE,IAAI,CAAC,MAAM;YACnB,OAAO,EAAE;gBACR,aAAa,EAAE;oBACd,KAAK,EAAE,+BAA+B;oBACtC,WAAW,EAAE,EAAE;oBACf,aAAa,EAAE,IAAI;oBACnB,QAAQ,EAAE,yBAAyB,CAAC,IAAI;iBACxC;aACD;SACD,CAAC,CAAC,CAAC,CAAC;QAEL,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,YAAY,CAAC,GAAG,EAAE;YACrC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE,CAAC;gBACrC,IAAI,CAAC,cAAc,CAAC,oBAAoB,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;YACnD,CAAC;QACF,CAAC,CAAC,CAAC,CAAC;IACL,CAAC;IACM,KAAK;QACX,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;IACzB,CAAC;CACD","file":"notebookModifiedCellDecorator.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable, DisposableStore, toDisposable } from '../../../../../../base/common/lifecycle.js';\nimport { CellDiffInfo } from '../notebookDiffViewModel.js';\nimport { INotebookEditor, NotebookOverviewRulerLane } from '../../notebookBrowser.js';\nimport { NotebookCellTextModel } from '../../../common/model/notebookCellTextModel.js';\nimport { overviewRulerModifiedForeground } from '../../../../scm/common/quickDiff.js';\n\nexport class NotebookModifiedCellDecorator extends Disposable {\n\tprivate readonly decorators = this._register(new DisposableStore());\n\tconstructor(\n\t\tprivate readonly notebookEditor: INotebookEditor,\n\t) {\n\t\tsuper();\n\t}\n\n\tpublic apply(diffInfo: CellDiffInfo[]) {\n\t\tconst model = this.notebookEditor.textModel;\n\t\tif (!model) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst modifiedCells: NotebookCellTextModel[] = [];\n\t\tfor (const diff of diffInfo) {\n\t\t\tif (diff.type === 'modified') {\n\t\t\t\tconst cell = model.cells[diff.modifiedCellIndex];\n\t\t\t\tmodifiedCells.push(cell);\n\t\t\t}\n\t\t}\n\n\t\tconst ids = this.notebookEditor.deltaCellDecorations([], modifiedCells.map(cell => ({\n\t\t\thandle: cell.handle,\n\t\t\toptions: {\n\t\t\t\toverviewRuler: {\n\t\t\t\t\tcolor: overviewRulerModifiedForeground,\n\t\t\t\t\tmodelRanges: [],\n\t\t\t\t\tincludeOutput: true,\n\t\t\t\t\tposition: NotebookOverviewRulerLane.Full\n\t\t\t\t}\n\t\t\t}\n\t\t})));\n\n\t\tthis.clear();\n\t\tthis.decorators.add(toDisposable(() => {\n\t\t\tif (!this.notebookEditor.isDisposed) {\n\t\t\t\tthis.notebookEditor.deltaCellDecorations(ids, []);\n\t\t\t}\n\t\t}));\n\t}\n\tpublic clear() {\n\t\tthis.decorators.clear();\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable, DisposableStore, toDisposable } from '../../../../../../base/common/lifecycle.js';\nimport { CellDiffInfo } from '../notebookDiffViewModel.js';\nimport { INotebookEditor, NotebookOverviewRulerLane } from '../../notebookBrowser.js';\nimport { NotebookCellTextModel } from '../../../common/model/notebookCellTextModel.js';\nimport { overviewRulerModifiedForeground } from '../../../../scm/common/quickDiff.js';\n\nexport class NotebookModifiedCellDecorator extends Disposable {\n\tprivate readonly decorators = this._register(new DisposableStore());\n\tconstructor(\n\t\tprivate readonly notebookEditor: INotebookEditor,\n\t) {\n\t\tsuper();\n\t}\n\n\tpublic apply(diffInfo: CellDiffInfo[]) {\n\t\tconst model = this.notebookEditor.textModel;\n\t\tif (!model) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst modifiedCells: NotebookCellTextModel[] = [];\n\t\tfor (const diff of diffInfo) {\n\t\t\tif (diff.type === 'modified') {\n\t\t\t\tconst cell = model.cells[diff.modifiedCellIndex];\n\t\t\t\tmodifiedCells.push(cell);\n\t\t\t}\n\t\t}\n\n\t\tconst ids = this.notebookEditor.deltaCellDecorations([], modifiedCells.map(cell => ({\n\t\t\thandle: cell.handle,\n\t\t\toptions: {\n\t\t\t\toverviewRuler: {\n\t\t\t\t\tcolor: overviewRulerModifiedForeground,\n\t\t\t\t\tmodelRanges: [],\n\t\t\t\t\tincludeOutput: true,\n\t\t\t\t\tposition: NotebookOverviewRulerLane.Full\n\t\t\t\t}\n\t\t\t}\n\t\t})));\n\n\t\tthis.clear();\n\t\tthis.decorators.add(toDisposable(() => {\n\t\t\tif (!this.notebookEditor.isDisposed) {\n\t\t\t\tthis.notebookEditor.deltaCellDecorations(ids, []);\n\t\t\t}\n\t\t}));\n\t}\n\tpublic clear() {\n\t\tthis.decorators.clear();\n\t}\n}\n"]}