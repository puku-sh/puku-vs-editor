{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/notebook/browser/view/cellParts/cellProgressBar.ts","vs/workbench/contrib/notebook/browser/view/cellParts/cellProgressBar.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;AAEhG,OAAO,EAAE,WAAW,EAAE,MAAM,8DAA8D,CAAC;AAC3F,OAAO,EAAE,wBAAwB,EAAE,MAAM,2DAA2D,CAAC;AAGrG,OAAO,EAAE,eAAe,EAAE,MAAM,gBAAgB,CAAC;AACjD,OAAO,EAAE,0BAA0B,EAAE,MAAM,mCAAmC,CAAC;AAC/E,OAAO,EAAmC,8BAA8B,EAAE,MAAM,kDAAkD,CAAC;AAE5H,IAAM,eAAe,GAArB,MAAM,eAAgB,SAAQ,eAAe;IAInD,YACC,eAA4B,EAC5B,uBAAoC,EACa,8BAA8D;QAC/G,KAAK,EAAE,CAAC;QADyC,mCAA8B,GAA9B,8BAA8B,CAAgC;QAG/G,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,WAAW,CAAC,eAAe,EAAE,wBAAwB,CAAC,CAAC,CAAC;QAC/F,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;QAEzB,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,WAAW,CAAC,uBAAuB,EAAE,wBAAwB,CAAC,CAAC,CAAC;QAChH,IAAI,CAAC,qBAAqB,CAAC,IAAI,EAAE,CAAC;IACnC,CAAC;IAEQ,aAAa,CAAC,OAAuB;QAC7C,IAAI,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC;IAEQ,uBAAuB,CAAC,OAAuB,EAAE,CAAkC;QAC3F,IAAI,CAAC,wBAAwB,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;IAC3C,CAAC;IAEQ,WAAW,CAAC,OAAuB,EAAE,CAAgC;QAC7E,IAAI,CAAC,CAAC,eAAe,IAAI,CAAC,CAAC,uBAAuB,EAAE,CAAC;YACpD,IAAI,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC;QACxC,CAAC;QAED,IAAI,CAAC,CAAC,qBAAqB,EAAE,CAAC;YAC7B,MAAM,QAAQ,GAAG,IAAI,CAAC,8BAA8B,CAAC,gBAAgB,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;YACnF,IAAI,OAAO,CAAC,gBAAgB,EAAE,CAAC;gBAC9B,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;gBACzB,IAAI,QAAQ,EAAE,KAAK,KAAK,0BAA0B,CAAC,SAAS,EAAE,CAAC;oBAC9D,IAAI,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC;gBACxC,CAAC;YACF,CAAC;iBAAM,CAAC;gBACP,IAAI,CAAC,qBAAqB,CAAC,IAAI,EAAE,CAAC;gBAClC,IAAI,QAAQ,EAAE,KAAK,KAAK,0BAA0B,CAAC,SAAS,EAAE,CAAC;oBAC9D,IAAI,CAAC,wBAAwB,CAAC,OAAO,CAAC,CAAC;gBACxC,CAAC;YACF,CAAC;QACF,CAAC;IACF,CAAC;IAEO,wBAAwB,CAAC,OAAuB,EAAE,CAAmC;QAC5F,MAAM,QAAQ,GAAG,CAAC,EAAE,OAAO,IAAI,IAAI,CAAC,8BAA8B,CAAC,gBAAgB,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QACjG,MAAM,WAAW,GAAG,OAAO,CAAC,gBAAgB,CAAC,CAAC,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC;QAC9F,IAAI,QAAQ,EAAE,KAAK,KAAK,0BAA0B,CAAC,SAAS,IAAI,CAAC,CAAC,QAAQ,CAAC,QAAQ,IAAI,OAAO,CAAC,gBAAgB,CAAC,EAAE,CAAC;YAClH,eAAe,CAAC,WAAW,CAAC,CAAC;QAC9B,CAAC;aAAM,CAAC;YACP,WAAW,CAAC,IAAI,EAAE,CAAC;QACpB,CAAC;IACF,CAAC;CACD,CAAA;AAvDY,eAAe;IAOzB,WAAA,8BAA8B,CAAA;GAPpB,eAAe,CAuD3B;;AAED,SAAS,eAAe,CAAC,WAAwB;IAChD,WAAW,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAClC,CAAC","file":"cellProgressBar.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ProgressBar } from '../../../../../../base/browser/ui/progressbar/progressbar.js';\nimport { defaultProgressBarStyles } from '../../../../../../platform/theme/browser/defaultStyles.js';\nimport { ICellViewModel } from '../../notebookBrowser.js';\nimport { CellViewModelStateChangeEvent } from '../../notebookViewEvents.js';\nimport { CellContentPart } from '../cellPart.js';\nimport { NotebookCellExecutionState } from '../../../common/notebookCommon.js';\nimport { ICellExecutionStateChangedEvent, INotebookExecutionStateService } from '../../../common/notebookExecutionStateService.js';\n\nexport class CellProgressBar extends CellContentPart {\n\tprivate readonly _progressBar: ProgressBar;\n\tprivate readonly _collapsedProgressBar: ProgressBar;\n\n\tconstructor(\n\t\teditorContainer: HTMLElement,\n\t\tcollapsedInputContainer: HTMLElement,\n\t\t@INotebookExecutionStateService private readonly _notebookExecutionStateService: INotebookExecutionStateService) {\n\t\tsuper();\n\n\t\tthis._progressBar = this._register(new ProgressBar(editorContainer, defaultProgressBarStyles));\n\t\tthis._progressBar.hide();\n\n\t\tthis._collapsedProgressBar = this._register(new ProgressBar(collapsedInputContainer, defaultProgressBarStyles));\n\t\tthis._collapsedProgressBar.hide();\n\t}\n\n\toverride didRenderCell(element: ICellViewModel): void {\n\t\tthis._updateForExecutionState(element);\n\t}\n\n\toverride updateForExecutionState(element: ICellViewModel, e: ICellExecutionStateChangedEvent): void {\n\t\tthis._updateForExecutionState(element, e);\n\t}\n\n\toverride updateState(element: ICellViewModel, e: CellViewModelStateChangeEvent): void {\n\t\tif (e.metadataChanged || e.internalMetadataChanged) {\n\t\t\tthis._updateForExecutionState(element);\n\t\t}\n\n\t\tif (e.inputCollapsedChanged) {\n\t\t\tconst exeState = this._notebookExecutionStateService.getCellExecution(element.uri);\n\t\t\tif (element.isInputCollapsed) {\n\t\t\t\tthis._progressBar.hide();\n\t\t\t\tif (exeState?.state === NotebookCellExecutionState.Executing) {\n\t\t\t\t\tthis._updateForExecutionState(element);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis._collapsedProgressBar.hide();\n\t\t\t\tif (exeState?.state === NotebookCellExecutionState.Executing) {\n\t\t\t\t\tthis._updateForExecutionState(element);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate _updateForExecutionState(element: ICellViewModel, e?: ICellExecutionStateChangedEvent): void {\n\t\tconst exeState = e?.changed ?? this._notebookExecutionStateService.getCellExecution(element.uri);\n\t\tconst progressBar = element.isInputCollapsed ? this._collapsedProgressBar : this._progressBar;\n\t\tif (exeState?.state === NotebookCellExecutionState.Executing && (!exeState.didPause || element.isInputCollapsed)) {\n\t\t\tshowProgressBar(progressBar);\n\t\t} else {\n\t\t\tprogressBar.hide();\n\t\t}\n\t}\n}\n\nfunction showProgressBar(progressBar: ProgressBar): void {\n\tprogressBar.infinite().show(500);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ProgressBar } from '../../../../../../base/browser/ui/progressbar/progressbar.js';\nimport { defaultProgressBarStyles } from '../../../../../../platform/theme/browser/defaultStyles.js';\nimport { ICellViewModel } from '../../notebookBrowser.js';\nimport { CellViewModelStateChangeEvent } from '../../notebookViewEvents.js';\nimport { CellContentPart } from '../cellPart.js';\nimport { NotebookCellExecutionState } from '../../../common/notebookCommon.js';\nimport { ICellExecutionStateChangedEvent, INotebookExecutionStateService } from '../../../common/notebookExecutionStateService.js';\n\nexport class CellProgressBar extends CellContentPart {\n\tprivate readonly _progressBar: ProgressBar;\n\tprivate readonly _collapsedProgressBar: ProgressBar;\n\n\tconstructor(\n\t\teditorContainer: HTMLElement,\n\t\tcollapsedInputContainer: HTMLElement,\n\t\t@INotebookExecutionStateService private readonly _notebookExecutionStateService: INotebookExecutionStateService) {\n\t\tsuper();\n\n\t\tthis._progressBar = this._register(new ProgressBar(editorContainer, defaultProgressBarStyles));\n\t\tthis._progressBar.hide();\n\n\t\tthis._collapsedProgressBar = this._register(new ProgressBar(collapsedInputContainer, defaultProgressBarStyles));\n\t\tthis._collapsedProgressBar.hide();\n\t}\n\n\toverride didRenderCell(element: ICellViewModel): void {\n\t\tthis._updateForExecutionState(element);\n\t}\n\n\toverride updateForExecutionState(element: ICellViewModel, e: ICellExecutionStateChangedEvent): void {\n\t\tthis._updateForExecutionState(element, e);\n\t}\n\n\toverride updateState(element: ICellViewModel, e: CellViewModelStateChangeEvent): void {\n\t\tif (e.metadataChanged || e.internalMetadataChanged) {\n\t\t\tthis._updateForExecutionState(element);\n\t\t}\n\n\t\tif (e.inputCollapsedChanged) {\n\t\t\tconst exeState = this._notebookExecutionStateService.getCellExecution(element.uri);\n\t\t\tif (element.isInputCollapsed) {\n\t\t\t\tthis._progressBar.hide();\n\t\t\t\tif (exeState?.state === NotebookCellExecutionState.Executing) {\n\t\t\t\t\tthis._updateForExecutionState(element);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis._collapsedProgressBar.hide();\n\t\t\t\tif (exeState?.state === NotebookCellExecutionState.Executing) {\n\t\t\t\t\tthis._updateForExecutionState(element);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate _updateForExecutionState(element: ICellViewModel, e?: ICellExecutionStateChangedEvent): void {\n\t\tconst exeState = e?.changed ?? this._notebookExecutionStateService.getCellExecution(element.uri);\n\t\tconst progressBar = element.isInputCollapsed ? this._collapsedProgressBar : this._progressBar;\n\t\tif (exeState?.state === NotebookCellExecutionState.Executing && (!exeState.didPause || element.isInputCollapsed)) {\n\t\t\tshowProgressBar(progressBar);\n\t\t} else {\n\t\t\tprogressBar.hide();\n\t\t}\n\t}\n}\n\nfunction showProgressBar(progressBar: ProgressBar): void {\n\tprogressBar.infinite().show(500);\n}\n"]}