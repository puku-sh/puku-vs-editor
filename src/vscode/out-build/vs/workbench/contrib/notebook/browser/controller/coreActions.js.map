{"version":3,"sources":["vs/workbench/contrib/notebook/browser/controller/coreActions.ts"],"names":[],"mappings":"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","file":"coreActions.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { URI, UriComponents } from '../../../../../base/common/uri.js';\nimport { localize, localize2 } from '../../../../../nls.js';\nimport { Action2, IAction2Options, MenuId, MenuRegistry } from '../../../../../platform/actions/common/actions.js';\nimport { ContextKeyExpr } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { ServicesAccessor } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { KeybindingWeight } from '../../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { getNotebookEditorFromEditorPane, IActiveNotebookEditor, ICellViewModel, cellRangeToViewCells, ICellOutputViewModel } from '../notebookBrowser.js';\nimport { INTERACTIVE_WINDOW_IS_ACTIVE_EDITOR, NOTEBOOK_EDITOR_EDITABLE, NOTEBOOK_EDITOR_FOCUSED, NOTEBOOK_IS_ACTIVE_EDITOR, NOTEBOOK_KERNEL_COUNT, NOTEBOOK_KERNEL_SOURCE_COUNT, REPL_NOTEBOOK_IS_ACTIVE_EDITOR } from '../../common/notebookContextKeys.js';\nimport { ICellRange, isICellRange } from '../../common/notebookRange.js';\nimport { IEditorService } from '../../../../services/editor/common/editorService.js';\nimport { isEditorCommandsContext } from '../../../../common/editor.js';\nimport { INotebookEditorService } from '../services/notebookEditorService.js';\nimport { ITelemetryService } from '../../../../../platform/telemetry/common/telemetry.js';\nimport { WorkbenchActionExecutedClassification, WorkbenchActionExecutedEvent } from '../../../../../base/common/actions.js';\nimport { TypeConstraint } from '../../../../../base/common/types.js';\nimport { IJSONSchema } from '../../../../../base/common/jsonSchema.js';\nimport { MarshalledId } from '../../../../../base/common/marshallingIds.js';\nimport { ICodeEditor } from '../../../../../editor/browser/editorBrowser.js';\nimport { isEqual } from '../../../../../base/common/resources.js';\n\n// Kernel Command\nexport const SELECT_KERNEL_ID = '_notebook.selectKernel';\nexport const NOTEBOOK_ACTIONS_CATEGORY = localize2('notebookActions.category', 'Notebook');\n\nexport const CELL_TITLE_CELL_GROUP_ID = 'inline/cell';\nexport const CELL_TITLE_OUTPUT_GROUP_ID = 'inline/output';\n\nexport const NOTEBOOK_EDITOR_WIDGET_ACTION_WEIGHT = KeybindingWeight.EditorContrib; // smaller than Suggest Widget, etc\nexport const NOTEBOOK_OUTPUT_WEBVIEW_ACTION_WEIGHT = KeybindingWeight.WorkbenchContrib + 1; // higher than Workbench contribution (such as Notebook List View), etc\n\nexport const enum CellToolbarOrder {\n\tRunSection,\n\tEditCell,\n\tExecuteAboveCells,\n\tExecuteCellAndBelow,\n\tSaveCell,\n\tSplitCell,\n\tClearCellOutput\n}\n\nexport const enum CellOverflowToolbarGroups {\n\tCopy = '1_copy',\n\tInsert = '2_insert',\n\tEdit = '3_edit',\n\tShare = '4_share'\n}\n\nexport interface INotebookActionContext {\n\treadonly cell?: ICellViewModel;\n\treadonly notebookEditor: IActiveNotebookEditor;\n\treadonly ui?: boolean;\n\treadonly selectedCells?: readonly ICellViewModel[];\n\treadonly autoReveal?: boolean;\n}\n\nexport interface INotebookCellToolbarActionContext extends INotebookActionContext {\n\treadonly ui: true;\n\treadonly cell: ICellViewModel;\n}\n\nexport interface INotebookCommandContext extends INotebookActionContext {\n\treadonly ui: false;\n\treadonly selectedCells: readonly ICellViewModel[];\n}\n\nexport interface INotebookCellActionContext extends INotebookActionContext {\n\tcell: ICellViewModel;\n}\n\nexport interface INotebookOutputActionContext extends INotebookCellActionContext {\n\toutputViewModel: ICellOutputViewModel;\n}\n\nexport function getContextFromActiveEditor(editorService: IEditorService): INotebookActionContext | undefined {\n\tconst editor = getNotebookEditorFromEditorPane(editorService.activeEditorPane);\n\tif (!editor || !editor.hasModel()) {\n\t\treturn;\n\t}\n\n\tconst activeCell = editor.getActiveCell();\n\tconst selectedCells = editor.getSelectionViewModels();\n\treturn {\n\t\tcell: activeCell,\n\t\tselectedCells,\n\t\tnotebookEditor: editor\n\t};\n}\n\nfunction getWidgetFromUri(accessor: ServicesAccessor, uri: URI) {\n\tconst notebookEditorService = accessor.get(INotebookEditorService);\n\tconst widget = notebookEditorService.listNotebookEditors().find(widget => widget.hasModel() && widget.textModel.uri.toString() === uri.toString());\n\n\tif (widget && widget.hasModel()) {\n\t\treturn widget;\n\t}\n\n\treturn undefined;\n}\n\nexport function getContextFromUri(accessor: ServicesAccessor, context?: any) {\n\tconst uri = URI.revive(context);\n\n\tif (uri) {\n\t\tconst widget = getWidgetFromUri(accessor, uri);\n\n\t\tif (widget) {\n\t\t\treturn {\n\t\t\t\tnotebookEditor: widget,\n\t\t\t};\n\t\t}\n\t}\n\n\treturn undefined;\n}\n\nexport function findTargetCellEditor(context: INotebookCellActionContext, targetCell: ICellViewModel) {\n\tlet foundEditor: ICodeEditor | undefined = undefined;\n\tfor (const [, codeEditor] of context.notebookEditor.codeEditors) {\n\t\tif (isEqual(codeEditor.getModel()?.uri, targetCell.uri)) {\n\t\t\tfoundEditor = codeEditor;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn foundEditor;\n}\n\nexport abstract class NotebookAction extends Action2 {\n\tconstructor(desc: IAction2Options) {\n\t\tif (desc.f1 !== false) {\n\t\t\tdesc.f1 = false;\n\t\t\tconst f1Menu = {\n\t\t\t\tid: MenuId.CommandPalette,\n\t\t\t\twhen: ContextKeyExpr.or(NOTEBOOK_IS_ACTIVE_EDITOR, INTERACTIVE_WINDOW_IS_ACTIVE_EDITOR, REPL_NOTEBOOK_IS_ACTIVE_EDITOR)\n\t\t\t};\n\n\t\t\tif (!desc.menu) {\n\t\t\t\tdesc.menu = [];\n\t\t\t} else if (!Array.isArray(desc.menu)) {\n\t\t\t\tdesc.menu = [desc.menu];\n\t\t\t}\n\n\t\t\tdesc.menu = [\n\t\t\t\t...desc.menu,\n\t\t\t\tf1Menu\n\t\t\t];\n\t\t}\n\n\t\tdesc.category = NOTEBOOK_ACTIONS_CATEGORY;\n\n\t\tsuper(desc);\n\t}\n\n\tasync run(accessor: ServicesAccessor, context?: any, ...additionalArgs: any[]): Promise<void> {\n\t\tsendEntryTelemetry(accessor, this.desc.id, context);\n\n\t\tif (!this.isNotebookActionContext(context)) {\n\t\t\tcontext = this.getEditorContextFromArgsOrActive(accessor, context, ...additionalArgs);\n\t\t\tif (!context) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\treturn this.runWithContext(accessor, context);\n\t}\n\n\tabstract runWithContext(accessor: ServicesAccessor, context: INotebookActionContext): Promise<void>;\n\n\tprivate isNotebookActionContext(context?: unknown): context is INotebookActionContext {\n\t\treturn !!context && !!(context as INotebookActionContext).notebookEditor;\n\t}\n\n\tgetEditorContextFromArgsOrActive(accessor: ServicesAccessor, context?: any, ...additionalArgs: any[]): INotebookActionContext | undefined {\n\t\treturn getContextFromActiveEditor(accessor.get(IEditorService));\n\t}\n}\n\n// todo@rebornix, replace NotebookAction with this\nexport abstract class NotebookMultiCellAction extends Action2 {\n\tconstructor(desc: IAction2Options) {\n\t\tif (desc.f1 !== false) {\n\t\t\tdesc.f1 = false;\n\t\t\tconst f1Menu = {\n\t\t\t\tid: MenuId.CommandPalette,\n\t\t\t\twhen: NOTEBOOK_IS_ACTIVE_EDITOR\n\t\t\t};\n\n\t\t\tif (!desc.menu) {\n\t\t\t\tdesc.menu = [];\n\t\t\t} else if (!Array.isArray(desc.menu)) {\n\t\t\t\tdesc.menu = [desc.menu];\n\t\t\t}\n\n\t\t\tdesc.menu = [\n\t\t\t\t...desc.menu,\n\t\t\t\tf1Menu\n\t\t\t];\n\t\t}\n\n\t\tdesc.category = NOTEBOOK_ACTIONS_CATEGORY;\n\n\t\tsuper(desc);\n\t}\n\n\tparseArgs(accessor: ServicesAccessor, ...args: unknown[]): INotebookCommandContext | undefined {\n\t\treturn undefined;\n\t}\n\n\tabstract runWithContext(accessor: ServicesAccessor, context: INotebookCommandContext | INotebookCellToolbarActionContext): Promise<void>;\n\n\t/**\n\t * The action/command args are resolved in following order\n\t * `run(accessor, cellToolbarContext)` from cell toolbar\n\t * `run(accessor, ...args)` from command service with arguments\n\t * `run(accessor, undefined)` from keyboard shortcuts, command palatte, etc\n\t */\n\tasync run(accessor: ServicesAccessor, ...additionalArgs: any[]): Promise<void> {\n\t\tconst context = additionalArgs[0];\n\n\t\tsendEntryTelemetry(accessor, this.desc.id, context);\n\n\t\tconst isFromCellToolbar = isCellToolbarContext(context);\n\t\tif (isFromCellToolbar) {\n\t\t\treturn this.runWithContext(accessor, context);\n\t\t}\n\n\t\t// handle parsed args\n\t\tconst parsedArgs = this.parseArgs(accessor, ...additionalArgs);\n\t\tif (parsedArgs) {\n\t\t\treturn this.runWithContext(accessor, parsedArgs);\n\t\t}\n\n\t\t// no parsed args, try handle active editor\n\t\tconst editor = getEditorFromArgsOrActivePane(accessor);\n\t\tif (editor) {\n\t\t\tconst selectedCellRange: ICellRange[] = editor.getSelections().length === 0 ? [editor.getFocus()] : editor.getSelections();\n\n\n\t\t\treturn this.runWithContext(accessor, {\n\t\t\t\tui: false,\n\t\t\t\tnotebookEditor: editor,\n\t\t\t\tselectedCells: cellRangeToViewCells(editor, selectedCellRange)\n\t\t\t});\n\t\t}\n\t}\n}\n\nexport abstract class NotebookCellAction<T = INotebookCellActionContext> extends NotebookAction {\n\tprotected isCellActionContext(context?: unknown): context is INotebookCellActionContext {\n\t\treturn !!context && !!(context as INotebookCellActionContext).notebookEditor && !!(context as INotebookCellActionContext).cell;\n\t}\n\n\tprotected getCellContextFromArgs(accessor: ServicesAccessor, context?: T, ...additionalArgs: any[]): INotebookCellActionContext | undefined {\n\t\treturn undefined;\n\t}\n\n\toverride async run(accessor: ServicesAccessor, context?: INotebookCellActionContext, ...additionalArgs: any[]): Promise<void> {\n\t\tsendEntryTelemetry(accessor, this.desc.id, context);\n\n\t\tif (this.isCellActionContext(context)) {\n\t\t\treturn this.runWithContext(accessor, context);\n\t\t}\n\n\t\tconst contextFromArgs = this.getCellContextFromArgs(accessor, context, ...additionalArgs);\n\n\t\tif (contextFromArgs) {\n\t\t\treturn this.runWithContext(accessor, contextFromArgs);\n\t\t}\n\n\t\tconst activeEditorContext = this.getEditorContextFromArgsOrActive(accessor);\n\t\tif (this.isCellActionContext(activeEditorContext)) {\n\t\t\treturn this.runWithContext(accessor, activeEditorContext);\n\t\t}\n\t}\n\n\tabstract override runWithContext(accessor: ServicesAccessor, context: INotebookCellActionContext): Promise<void>;\n}\n\nexport const executeNotebookCondition = ContextKeyExpr.or(ContextKeyExpr.greater(NOTEBOOK_KERNEL_COUNT.key, 0), ContextKeyExpr.greater(NOTEBOOK_KERNEL_SOURCE_COUNT.key, 0));\n\ninterface IMultiCellArgs {\n\tranges: ICellRange[];\n\tdocument?: URI;\n\tautoReveal?: boolean;\n}\n\nfunction sendEntryTelemetry(accessor: ServicesAccessor, id: string, context?: any) {\n\tif (context) {\n\t\tconst telemetryService = accessor.get(ITelemetryService);\n\t\tif (context.source) {\n\t\t\ttelemetryService.publicLog2<WorkbenchActionExecutedEvent, WorkbenchActionExecutedClassification>('workbenchActionExecuted', { id: id, from: context.source });\n\t\t} else if (URI.isUri(context)) {\n\t\t\ttelemetryService.publicLog2<WorkbenchActionExecutedEvent, WorkbenchActionExecutedClassification>('workbenchActionExecuted', { id: id, from: 'cellEditorContextMenu' });\n\t\t} else if (context && 'from' in context && context.from === 'cellContainer') {\n\t\t\ttelemetryService.publicLog2<WorkbenchActionExecutedEvent, WorkbenchActionExecutedClassification>('workbenchActionExecuted', { id: id, from: 'cellContainer' });\n\t\t} else {\n\t\t\tconst from = isCellToolbarContext(context) ? 'cellToolbar' : (isEditorCommandsContext(context) ? 'editorToolbar' : 'other');\n\t\t\ttelemetryService.publicLog2<WorkbenchActionExecutedEvent, WorkbenchActionExecutedClassification>('workbenchActionExecuted', { id: id, from: from });\n\t\t}\n\t}\n}\n\nfunction isCellToolbarContext(context?: unknown): context is INotebookCellToolbarActionContext {\n\treturn !!context && !!(context as INotebookActionContext).notebookEditor && (context as INotebookActionContext & { $mid: MarshalledId }).$mid === MarshalledId.NotebookCellActionContext;\n}\n\nfunction isMultiCellArgs(arg: unknown): arg is IMultiCellArgs {\n\tif (arg === undefined) {\n\t\treturn false;\n\t}\n\tconst ranges = (arg as IMultiCellArgs).ranges;\n\tif (!ranges) {\n\t\treturn false;\n\t}\n\n\tif (!Array.isArray(ranges) || ranges.some(range => !isICellRange(range))) {\n\t\treturn false;\n\t}\n\n\tif ((arg as IMultiCellArgs).document) {\n\t\tconst uri = URI.revive((arg as IMultiCellArgs).document);\n\n\t\tif (!uri) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\nexport function getEditorFromArgsOrActivePane(accessor: ServicesAccessor, context?: UriComponents): IActiveNotebookEditor | undefined {\n\tconst editorFromUri = getContextFromUri(accessor, context)?.notebookEditor;\n\n\tif (editorFromUri) {\n\t\treturn editorFromUri;\n\t}\n\n\tconst editor = getNotebookEditorFromEditorPane(accessor.get(IEditorService).activeEditorPane);\n\tif (!editor || !editor.hasModel()) {\n\t\treturn;\n\t}\n\n\treturn editor;\n}\n\nexport function parseMultiCellExecutionArgs(accessor: ServicesAccessor, ...args: any[]): INotebookCommandContext | undefined {\n\tconst firstArg = args[0];\n\n\tif (isMultiCellArgs(firstArg)) {\n\t\tconst editor = getEditorFromArgsOrActivePane(accessor, firstArg.document);\n\t\tif (!editor) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst ranges = firstArg.ranges;\n\t\tconst selectedCells = ranges.map(range => editor.getCellsInRange(range).slice(0)).flat();\n\t\tconst autoReveal = firstArg.autoReveal;\n\t\treturn {\n\t\t\tui: false,\n\t\t\tnotebookEditor: editor,\n\t\t\tselectedCells,\n\t\t\tautoReveal\n\t\t};\n\t}\n\n\t// handle legacy arguments\n\tif (isICellRange(firstArg)) {\n\t\t// cellRange, document\n\t\tconst secondArg = args[1];\n\t\tconst editor = getEditorFromArgsOrActivePane(accessor, secondArg);\n\t\tif (!editor) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn {\n\t\t\tui: false,\n\t\t\tnotebookEditor: editor,\n\t\t\tselectedCells: editor.getCellsInRange(firstArg)\n\t\t};\n\t}\n\n\t// let's just execute the active cell\n\tconst context = getContextFromActiveEditor(accessor.get(IEditorService));\n\treturn context ? {\n\t\tui: false,\n\t\tnotebookEditor: context.notebookEditor,\n\t\tselectedCells: context.selectedCells ?? [],\n\t\tcell: context.cell\n\t} : undefined;\n}\n\nexport const cellExecutionArgs: ReadonlyArray<{\n\treadonly name: string;\n\treadonly isOptional?: boolean;\n\treadonly description?: string;\n\treadonly constraint?: TypeConstraint;\n\treadonly schema?: IJSONSchema;\n}> = [\n\t\t{\n\t\t\tisOptional: true,\n\t\t\tname: 'options',\n\t\t\tdescription: 'The cell range options',\n\t\t\tschema: {\n\t\t\t\t'type': 'object',\n\t\t\t\t'required': ['ranges'],\n\t\t\t\t'properties': {\n\t\t\t\t\t'ranges': {\n\t\t\t\t\t\t'type': 'array',\n\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'type': 'object',\n\t\t\t\t\t\t\t\t'required': ['start', 'end'],\n\t\t\t\t\t\t\t\t'properties': {\n\t\t\t\t\t\t\t\t\t'start': {\n\t\t\t\t\t\t\t\t\t\t'type': 'number'\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t'end': {\n\t\t\t\t\t\t\t\t\t\t'type': 'number'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\t'document': {\n\t\t\t\t\t\t'type': 'object',\n\t\t\t\t\t\t'description': 'The document uri',\n\t\t\t\t\t},\n\t\t\t\t\t'autoReveal': {\n\t\t\t\t\t\t'type': 'boolean',\n\t\t\t\t\t\t'description': 'Whether the cell should be revealed into view automatically'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t];\n\n\nMenuRegistry.appendMenuItem(MenuId.NotebookCellTitle, {\n\tsubmenu: MenuId.NotebookCellInsert,\n\ttitle: localize('notebookMenu.insertCell', \"Insert Cell\"),\n\tgroup: CellOverflowToolbarGroups.Insert,\n\twhen: NOTEBOOK_EDITOR_EDITABLE.isEqualTo(true)\n});\n\nMenuRegistry.appendMenuItem(MenuId.EditorContext, {\n\tsubmenu: MenuId.NotebookCellTitle,\n\ttitle: localize('notebookMenu.cellTitle', \"Notebook Cell\"),\n\tgroup: CellOverflowToolbarGroups.Insert,\n\twhen: NOTEBOOK_EDITOR_FOCUSED\n});\n\nMenuRegistry.appendMenuItem(MenuId.NotebookCellTitle, {\n\ttitle: localize('miShare', \"Share\"),\n\tsubmenu: MenuId.EditorContextShare,\n\tgroup: CellOverflowToolbarGroups.Share\n});\n"]}