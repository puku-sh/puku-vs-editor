{"version":3,"sources":["vs/workbench/contrib/notebook/browser/controller/executeActions.ts"],"names":[],"mappings":"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","file":"executeActions.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Iterable } from '../../../../../base/common/iterator.js';\nimport { KeyCode, KeyMod } from '../../../../../base/common/keyCodes.js';\nimport { isEqual } from '../../../../../base/common/resources.js';\nimport { ThemeIcon } from '../../../../../base/common/themables.js';\nimport { URI, UriComponents } from '../../../../../base/common/uri.js';\nimport { ICodeEditor } from '../../../../../editor/browser/editorBrowser.js';\nimport { ILanguageService } from '../../../../../editor/common/languages/language.js';\nimport { localize, localize2 } from '../../../../../nls.js';\nimport { MenuId, MenuRegistry, registerAction2 } from '../../../../../platform/actions/common/actions.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { ContextKeyExpr } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { ServicesAccessor } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { IDebugService } from '../../../debug/common/debug.js';\nimport { CTX_INLINE_CHAT_FOCUSED } from '../../../inlineChat/common/inlineChat.js';\nimport { insertCell } from './cellOperations.js';\nimport { CELL_TITLE_CELL_GROUP_ID, CellToolbarOrder, INotebookActionContext, INotebookCellActionContext, INotebookCellToolbarActionContext, INotebookCommandContext, NOTEBOOK_EDITOR_WIDGET_ACTION_WEIGHT, NotebookAction, NotebookCellAction, NotebookMultiCellAction, cellExecutionArgs, getContextFromActiveEditor, getContextFromUri, parseMultiCellExecutionArgs } from './coreActions.js';\nimport { CellEditState, CellFocusMode, EXECUTE_CELL_COMMAND_ID, IActiveNotebookEditor, ICellViewModel, IFocusNotebookCellOptions, ScrollToRevealBehavior } from '../notebookBrowser.js';\nimport * as icons from '../notebookIcons.js';\nimport { CellKind, CellUri, NotebookSetting } from '../../common/notebookCommon.js';\nimport { NOTEBOOK_CELL_EXECUTING, NOTEBOOK_CELL_EXECUTION_STATE, NOTEBOOK_CELL_LIST_FOCUSED, NOTEBOOK_CELL_TYPE, NOTEBOOK_HAS_RUNNING_CELL, NOTEBOOK_HAS_SOMETHING_RUNNING, NOTEBOOK_INTERRUPTIBLE_KERNEL, NOTEBOOK_IS_ACTIVE_EDITOR, NOTEBOOK_KERNEL_COUNT, NOTEBOOK_KERNEL_SOURCE_COUNT, NOTEBOOK_LAST_CELL_FAILED, NOTEBOOK_MISSING_KERNEL_EXTENSION } from '../../common/notebookContextKeys.js';\nimport { NotebookEditorInput } from '../../common/notebookEditorInput.js';\nimport { INotebookExecutionStateService } from '../../common/notebookExecutionStateService.js';\nimport { IEditorGroupsService } from '../../../../services/editor/common/editorGroupsService.js';\nimport { IEditorService } from '../../../../services/editor/common/editorService.js';\nimport { CodeCellViewModel } from '../viewModel/codeCellViewModel.js';\n\nconst EXECUTE_NOTEBOOK_COMMAND_ID = 'notebook.execute';\nconst CANCEL_NOTEBOOK_COMMAND_ID = 'notebook.cancelExecution';\nconst INTERRUPT_NOTEBOOK_COMMAND_ID = 'notebook.interruptExecution';\nconst CANCEL_CELL_COMMAND_ID = 'notebook.cell.cancelExecution';\nconst EXECUTE_CELL_FOCUS_CONTAINER_COMMAND_ID = 'notebook.cell.executeAndFocusContainer';\nconst EXECUTE_CELL_SELECT_BELOW = 'notebook.cell.executeAndSelectBelow';\nconst EXECUTE_CELL_INSERT_BELOW = 'notebook.cell.executeAndInsertBelow';\nconst EXECUTE_CELL_AND_BELOW = 'notebook.cell.executeCellAndBelow';\nconst EXECUTE_CELLS_ABOVE = 'notebook.cell.executeCellsAbove';\nconst RENDER_ALL_MARKDOWN_CELLS = 'notebook.renderAllMarkdownCells';\nconst REVEAL_RUNNING_CELL = 'notebook.revealRunningCell';\nconst REVEAL_LAST_FAILED_CELL = 'notebook.revealLastFailedCell';\n\n// If this changes, update getCodeCellExecutionContextKeyService to match\nexport const executeCondition = ContextKeyExpr.and(\n\tNOTEBOOK_CELL_TYPE.isEqualTo('code'),\n\tContextKeyExpr.or(\n\t\tContextKeyExpr.greater(NOTEBOOK_KERNEL_COUNT.key, 0),\n\t\tContextKeyExpr.greater(NOTEBOOK_KERNEL_SOURCE_COUNT.key, 0),\n\t\tNOTEBOOK_MISSING_KERNEL_EXTENSION\n\t));\n\nexport const executeThisCellCondition = ContextKeyExpr.and(\n\texecuteCondition,\n\tNOTEBOOK_CELL_EXECUTING.toNegated());\n\nexport const executeSectionCondition = ContextKeyExpr.and(\n\tNOTEBOOK_CELL_TYPE.isEqualTo('markup'),\n);\n\nfunction renderAllMarkdownCells(context: INotebookActionContext): void {\n\tfor (let i = 0; i < context.notebookEditor.getLength(); i++) {\n\t\tconst cell = context.notebookEditor.cellAt(i);\n\n\t\tif (cell.cellKind === CellKind.Markup) {\n\t\t\tcell.updateEditState(CellEditState.Preview, 'renderAllMarkdownCells');\n\t\t}\n\t}\n}\n\nasync function runCell(editorGroupsService: IEditorGroupsService, context: INotebookActionContext, editorService?: IEditorService): Promise<void> {\n\tconst group = editorGroupsService.activeGroup;\n\n\tif (group) {\n\t\tif (group.activeEditor) {\n\t\t\tgroup.pinEditor(group.activeEditor);\n\t\t}\n\t}\n\n\t// If auto-reveal is enabled, ensure the notebook editor is visible before revealing cells\n\tif (context.autoReveal && (context.cell || context.selectedCells?.length) && editorService) {\n\t\teditorService.openEditor({ resource: context.notebookEditor.textModel.uri, options: { revealIfOpened: true } });\n\t}\n\n\tif (context.ui && context.cell) {\n\t\tif (context.autoReveal) {\n\t\t\thandleAutoReveal(context.cell, context.notebookEditor);\n\t\t}\n\t\tawait context.notebookEditor.executeNotebookCells(Iterable.single(context.cell));\n\t} else if (context.selectedCells?.length || context.cell) {\n\t\tconst selectedCells = context.selectedCells?.length ? context.selectedCells : [context.cell!];\n\t\tconst firstCell = selectedCells[0];\n\n\t\tif (firstCell && context.autoReveal) {\n\t\t\thandleAutoReveal(firstCell, context.notebookEditor);\n\t\t}\n\t\tawait context.notebookEditor.executeNotebookCells(selectedCells);\n\t}\n\n\tlet foundEditor: ICodeEditor | undefined = undefined;\n\tfor (const [, codeEditor] of context.notebookEditor.codeEditors) {\n\t\tif (isEqual(codeEditor.getModel()?.uri, (context.cell ?? context.selectedCells?.[0])?.uri)) {\n\t\t\tfoundEditor = codeEditor;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (!foundEditor) {\n\t\treturn;\n\t}\n}\n\nconst SMART_VIEWPORT_TOP_REVEAL_PADDING = 20; // enough to not cut off top of cell toolbar\nconst SMART_VIEWPORT_BOTTOM_REVEAL_PADDING = 60; // enough to show full bottom of output element + tiny buffer below that vertical bar\nfunction handleAutoReveal(cell: ICellViewModel, notebookEditor: IActiveNotebookEditor): void {\n\t// always focus the container, blue bar is a good visual aid in tracking what's happening\n\tnotebookEditor.focusNotebookCell(cell, 'container', { skipReveal: true });\n\n\t// Handle markup cells with simple reveal\n\tif (cell.cellKind === CellKind.Markup) {\n\t\tconst cellIndex = notebookEditor.getCellIndex(cell);\n\t\tnotebookEditor.revealCellRangeInView({ start: cellIndex, end: cellIndex + 1 });\n\t\treturn;\n\t}\n\n\t// Ensure we're working with a code cell - we need the CodeCellViewModel type for accessing layout properties like outputTotalHeight\n\tif (!(cell instanceof CodeCellViewModel)) {\n\t\treturn;\n\t}\n\n\t// Get all dimensions\n\tconst cellEditorScrollTop = notebookEditor.getAbsoluteTopOfElement(cell);\n\tconst cellEditorScrollBottom = cellEditorScrollTop + cell.layoutInfo.outputContainerOffset;\n\n\tconst cellOutputHeight = cell.layoutInfo.outputTotalHeight;\n\tconst cellOutputScrollBottom = notebookEditor.getAbsoluteBottomOfElement(cell);\n\n\tconst viewportHeight = notebookEditor.getLayoutInfo().height;\n\tconst viewportHeight34 = viewportHeight * 0.34;\n\tconst viewportHeight66 = viewportHeight * 0.66;\n\n\tconst totalHeight = cell.layoutInfo.totalHeight;\n\n\tconst isFullyVisible = cellEditorScrollTop >= notebookEditor.scrollTop && cellOutputScrollBottom <= notebookEditor.scrollBottom;\n\tconst isEditorBottomVisible = ((cellEditorScrollBottom - 25 /* padding for the cell status bar */) >= notebookEditor.scrollTop) &&\n\t\t((cellEditorScrollBottom + 25 /* padding to see a sliver of the beginning of outputs */) <= notebookEditor.scrollBottom);\n\n\t// Common scrolling functions\n\tconst revealWithTopPadding = (position: number) => { notebookEditor.setScrollTop(position - SMART_VIEWPORT_TOP_REVEAL_PADDING); };\n\tconst revealWithNoPadding = (position: number) => { notebookEditor.setScrollTop(position); };\n\tconst revealWithBottomPadding = (position: number) => { notebookEditor.setScrollTop(position + SMART_VIEWPORT_BOTTOM_REVEAL_PADDING); };\n\n\t// CASE 0: Total is already visible\n\tif (isFullyVisible) {\n\t\treturn;\n\t}\n\n\t// CASE 1: Total fits within viewport\n\tif (totalHeight <= viewportHeight && !isEditorBottomVisible) {\n\t\trevealWithTopPadding(cellEditorScrollTop);\n\t\treturn;\n\t}\n\n\t// CASE 2: Total doesn't fit in the viewport\n\tif (totalHeight > viewportHeight && !isEditorBottomVisible) {\n\t\tif (cellOutputHeight > 0 && cellOutputHeight >= viewportHeight66) {\n\t\t\t// has large outputs -- Show 34% editor, 66% output\n\t\t\trevealWithNoPadding(cellEditorScrollBottom - viewportHeight34);\n\t\t} else if (cellOutputHeight > 0) {\n\t\t\t// has small outputs -- Show output at viewport bottom\n\t\t\trevealWithBottomPadding(cellOutputScrollBottom - viewportHeight);\n\t\t} else {\n\t\t\t// No outputs, just big cell -- put editor bottom @ 2/3 of viewport height\n\t\t\trevealWithNoPadding(cellEditorScrollBottom - viewportHeight66);\n\t\t}\n\t}\n}\n\nregisterAction2(class RenderAllMarkdownCellsAction extends NotebookAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: RENDER_ALL_MARKDOWN_CELLS,\n\t\t\ttitle: localize('notebookActions.renderMarkdown', \"Render All Markdown Cells\"),\n\t\t});\n\t}\n\n\tasync runWithContext(accessor: ServicesAccessor, context: INotebookActionContext): Promise<void> {\n\t\trenderAllMarkdownCells(context);\n\t}\n});\n\nregisterAction2(class ExecuteNotebookAction extends NotebookAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: EXECUTE_NOTEBOOK_COMMAND_ID,\n\t\t\ttitle: localize('notebookActions.executeNotebook', \"Run All\"),\n\t\t\ticon: icons.executeAllIcon,\n\t\t\tmetadata: {\n\t\t\t\tdescription: localize('notebookActions.executeNotebook', \"Run All\"),\n\t\t\t\targs: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'uri',\n\t\t\t\t\t\tdescription: 'The document uri'\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\tmenu: [\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.EditorTitle,\n\t\t\t\t\torder: -1,\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\tNOTEBOOK_IS_ACTIVE_EDITOR,\n\t\t\t\t\t\tContextKeyExpr.or(NOTEBOOK_INTERRUPTIBLE_KERNEL.toNegated(), NOTEBOOK_HAS_SOMETHING_RUNNING.toNegated()),\n\t\t\t\t\t\tContextKeyExpr.notEquals('config.notebook.globalToolbar', true)\n\t\t\t\t\t)\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.NotebookToolbar,\n\t\t\t\t\torder: -1,\n\t\t\t\t\tgroup: 'navigation/execute',\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\tContextKeyExpr.or(\n\t\t\t\t\t\t\tNOTEBOOK_INTERRUPTIBLE_KERNEL.toNegated(),\n\t\t\t\t\t\t\tNOTEBOOK_HAS_SOMETHING_RUNNING.toNegated(),\n\t\t\t\t\t\t),\n\t\t\t\t\t\tContextKeyExpr.and(NOTEBOOK_HAS_SOMETHING_RUNNING, NOTEBOOK_INTERRUPTIBLE_KERNEL.toNegated())?.negate(),\n\t\t\t\t\t\tContextKeyExpr.equals('config.notebook.globalToolbar', true)\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\t}\n\n\toverride getEditorContextFromArgsOrActive(accessor: ServicesAccessor, context?: UriComponents): INotebookActionContext | undefined {\n\t\treturn getContextFromUri(accessor, context) ?? getContextFromActiveEditor(accessor.get(IEditorService));\n\t}\n\n\tasync runWithContext(accessor: ServicesAccessor, context: INotebookActionContext): Promise<void> {\n\t\trenderAllMarkdownCells(context);\n\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst editor = editorService.findEditors({\n\t\t\tresource: context.notebookEditor.textModel.uri,\n\t\t\ttypeId: NotebookEditorInput.ID,\n\t\t\teditorId: context.notebookEditor.textModel.viewType\n\t\t}).at(0);\n\t\tconst editorGroupService = accessor.get(IEditorGroupsService);\n\n\t\tif (editor) {\n\t\t\tconst group = editorGroupService.getGroup(editor.groupId);\n\t\t\tgroup?.pinEditor(editor.editor);\n\t\t}\n\n\t\treturn context.notebookEditor.executeNotebookCells();\n\t}\n});\n\nregisterAction2(class ExecuteCell extends NotebookMultiCellAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: EXECUTE_CELL_COMMAND_ID,\n\t\t\tprecondition: executeThisCellCondition,\n\t\t\ttitle: localize('notebookActions.execute', \"Execute Cell\"),\n\t\t\tkeybinding: {\n\t\t\t\twhen: NOTEBOOK_CELL_LIST_FOCUSED,\n\t\t\t\tprimary: KeyMod.WinCtrl | KeyCode.Enter,\n\t\t\t\twin: {\n\t\t\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Alt | KeyCode.Enter\n\t\t\t\t},\n\t\t\t\tweight: NOTEBOOK_EDITOR_WIDGET_ACTION_WEIGHT\n\t\t\t},\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.NotebookCellExecutePrimary,\n\t\t\t\twhen: executeThisCellCondition,\n\t\t\t\tgroup: 'inline'\n\t\t\t},\n\t\t\tmetadata: {\n\t\t\t\tdescription: localize('notebookActions.execute', \"Execute Cell\"),\n\t\t\t\targs: cellExecutionArgs\n\t\t\t},\n\t\t\ticon: icons.executeIcon\n\t\t});\n\t}\n\n\toverride parseArgs(accessor: ServicesAccessor, ...args: unknown[]): INotebookCommandContext | undefined {\n\t\treturn parseMultiCellExecutionArgs(accessor, ...args);\n\t}\n\n\tasync runWithContext(accessor: ServicesAccessor, context: INotebookCommandContext | INotebookCellToolbarActionContext): Promise<void> {\n\t\tconst editorGroupsService = accessor.get(IEditorGroupsService);\n\t\tconst editorService = accessor.get(IEditorService);\n\n\t\tif (context.ui) {\n\t\t\tawait context.notebookEditor.focusNotebookCell(context.cell, 'container', { skipReveal: true });\n\t\t}\n\n\t\tawait runCell(editorGroupsService, context, editorService);\n\t}\n});\n\nregisterAction2(class ExecuteAboveCells extends NotebookMultiCellAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: EXECUTE_CELLS_ABOVE,\n\t\t\tprecondition: executeCondition,\n\t\t\ttitle: localize('notebookActions.executeAbove', \"Execute Above Cells\"),\n\t\t\tmenu: [\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.NotebookCellExecute,\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\texecuteCondition,\n\t\t\t\t\t\tContextKeyExpr.equals(`config.${NotebookSetting.consolidatedRunButton}`, true))\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.NotebookCellTitle,\n\t\t\t\t\torder: CellToolbarOrder.ExecuteAboveCells,\n\t\t\t\t\tgroup: CELL_TITLE_CELL_GROUP_ID,\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\texecuteCondition,\n\t\t\t\t\t\tContextKeyExpr.equals(`config.${NotebookSetting.consolidatedRunButton}`, false))\n\t\t\t\t}\n\t\t\t],\n\t\t\ticon: icons.executeAboveIcon\n\t\t});\n\t}\n\n\toverride parseArgs(accessor: ServicesAccessor, ...args: unknown[]): INotebookCommandContext | undefined {\n\t\treturn parseMultiCellExecutionArgs(accessor, ...args);\n\t}\n\n\tasync runWithContext(accessor: ServicesAccessor, context: INotebookCommandContext | INotebookCellToolbarActionContext): Promise<void> {\n\t\tlet endCellIdx: number | undefined = undefined;\n\t\tif (context.ui) {\n\t\t\tendCellIdx = context.notebookEditor.getCellIndex(context.cell);\n\t\t\tawait context.notebookEditor.focusNotebookCell(context.cell, 'container', { skipReveal: true });\n\t\t} else {\n\t\t\tendCellIdx = Math.min(...context.selectedCells.map(cell => context.notebookEditor.getCellIndex(cell)));\n\t\t}\n\n\t\tif (typeof endCellIdx === 'number') {\n\t\t\tconst range = { start: 0, end: endCellIdx };\n\t\t\tconst cells = context.notebookEditor.getCellsInRange(range);\n\t\t\tcontext.notebookEditor.executeNotebookCells(cells);\n\t\t}\n\t}\n});\n\nregisterAction2(class ExecuteCellAndBelow extends NotebookMultiCellAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: EXECUTE_CELL_AND_BELOW,\n\t\t\tprecondition: executeCondition,\n\t\t\ttitle: localize('notebookActions.executeBelow', \"Execute Cell and Below\"),\n\t\t\tmenu: [\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.NotebookCellExecute,\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\texecuteCondition,\n\t\t\t\t\t\tContextKeyExpr.equals(`config.${NotebookSetting.consolidatedRunButton}`, true))\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.NotebookCellTitle,\n\t\t\t\t\torder: CellToolbarOrder.ExecuteCellAndBelow,\n\t\t\t\t\tgroup: CELL_TITLE_CELL_GROUP_ID,\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\texecuteCondition,\n\t\t\t\t\t\tContextKeyExpr.equals(`config.${NotebookSetting.consolidatedRunButton}`, false))\n\t\t\t\t}\n\t\t\t],\n\t\t\ticon: icons.executeBelowIcon\n\t\t});\n\t}\n\n\toverride parseArgs(accessor: ServicesAccessor, ...args: unknown[]): INotebookCommandContext | undefined {\n\t\treturn parseMultiCellExecutionArgs(accessor, ...args);\n\t}\n\n\tasync runWithContext(accessor: ServicesAccessor, context: INotebookCommandContext | INotebookCellToolbarActionContext): Promise<void> {\n\t\tlet startCellIdx: number | undefined = undefined;\n\t\tif (context.ui) {\n\t\t\tstartCellIdx = context.notebookEditor.getCellIndex(context.cell);\n\t\t\tawait context.notebookEditor.focusNotebookCell(context.cell, 'container', { skipReveal: true });\n\t\t} else {\n\t\t\tstartCellIdx = Math.min(...context.selectedCells.map(cell => context.notebookEditor.getCellIndex(cell)));\n\t\t}\n\n\t\tif (typeof startCellIdx === 'number') {\n\t\t\tconst range = { start: startCellIdx, end: context.notebookEditor.getLength() };\n\t\t\tconst cells = context.notebookEditor.getCellsInRange(range);\n\t\t\tcontext.notebookEditor.executeNotebookCells(cells);\n\t\t}\n\t}\n});\n\nregisterAction2(class ExecuteCellFocusContainer extends NotebookMultiCellAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: EXECUTE_CELL_FOCUS_CONTAINER_COMMAND_ID,\n\t\t\tprecondition: executeThisCellCondition,\n\t\t\ttitle: localize('notebookActions.executeAndFocusContainer', \"Execute Cell and Focus Container\"),\n\t\t\tmetadata: {\n\t\t\t\tdescription: localize('notebookActions.executeAndFocusContainer', \"Execute Cell and Focus Container\"),\n\t\t\t\targs: cellExecutionArgs\n\t\t\t},\n\t\t\ticon: icons.executeIcon\n\t\t});\n\t}\n\n\toverride parseArgs(accessor: ServicesAccessor, ...args: unknown[]): INotebookCommandContext | undefined {\n\t\treturn parseMultiCellExecutionArgs(accessor, ...args);\n\t}\n\n\tasync runWithContext(accessor: ServicesAccessor, context: INotebookCommandContext | INotebookCellToolbarActionContext): Promise<void> {\n\t\tconst editorGroupsService = accessor.get(IEditorGroupsService);\n\t\tconst editorService = accessor.get(IEditorService);\n\n\t\tif (context.ui) {\n\t\t\tawait context.notebookEditor.focusNotebookCell(context.cell, 'container', { skipReveal: true });\n\t\t} else {\n\t\t\tconst firstCell = context.selectedCells[0];\n\n\t\t\tif (firstCell) {\n\t\t\t\tawait context.notebookEditor.focusNotebookCell(firstCell, 'container', { skipReveal: true });\n\t\t\t}\n\t\t}\n\n\t\tawait runCell(editorGroupsService, context, editorService);\n\t}\n});\n\nconst cellCancelCondition = ContextKeyExpr.or(\n\tContextKeyExpr.equals(NOTEBOOK_CELL_EXECUTION_STATE.key, 'executing'),\n\tContextKeyExpr.equals(NOTEBOOK_CELL_EXECUTION_STATE.key, 'pending'),\n);\n\nregisterAction2(class CancelExecuteCell extends NotebookMultiCellAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: CANCEL_CELL_COMMAND_ID,\n\t\t\tprecondition: cellCancelCondition,\n\t\t\ttitle: localize('notebookActions.cancel', \"Stop Cell Execution\"),\n\t\t\ticon: icons.stopIcon,\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.NotebookCellExecutePrimary,\n\t\t\t\twhen: cellCancelCondition,\n\t\t\t\tgroup: 'inline'\n\t\t\t},\n\t\t\tmetadata: {\n\t\t\t\tdescription: localize('notebookActions.cancel', \"Stop Cell Execution\"),\n\t\t\t\targs: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'options',\n\t\t\t\t\t\tdescription: 'The cell range options',\n\t\t\t\t\t\tschema: {\n\t\t\t\t\t\t\t'type': 'object',\n\t\t\t\t\t\t\t'required': ['ranges'],\n\t\t\t\t\t\t\t'properties': {\n\t\t\t\t\t\t\t\t'ranges': {\n\t\t\t\t\t\t\t\t\t'type': 'array',\n\t\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t'type': 'object',\n\t\t\t\t\t\t\t\t\t\t\t'required': ['start', 'end'],\n\t\t\t\t\t\t\t\t\t\t\t'properties': {\n\t\t\t\t\t\t\t\t\t\t\t\t'start': {\n\t\t\t\t\t\t\t\t\t\t\t\t\t'type': 'number'\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t'end': {\n\t\t\t\t\t\t\t\t\t\t\t\t\t'type': 'number'\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t'document': {\n\t\t\t\t\t\t\t\t\t'type': 'object',\n\t\t\t\t\t\t\t\t\t'description': 'The document uri',\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t});\n\t}\n\n\toverride parseArgs(accessor: ServicesAccessor, ...args: unknown[]): INotebookCommandContext | undefined {\n\t\treturn parseMultiCellExecutionArgs(accessor, ...args);\n\t}\n\n\tasync runWithContext(accessor: ServicesAccessor, context: INotebookCommandContext | INotebookCellToolbarActionContext): Promise<void> {\n\t\tif (context.ui) {\n\t\t\tawait context.notebookEditor.focusNotebookCell(context.cell, 'container', { skipReveal: true });\n\t\t\treturn context.notebookEditor.cancelNotebookCells(Iterable.single(context.cell));\n\t\t} else {\n\t\t\treturn context.notebookEditor.cancelNotebookCells(context.selectedCells);\n\t\t}\n\t}\n});\n\nregisterAction2(class ExecuteCellSelectBelow extends NotebookCellAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: EXECUTE_CELL_SELECT_BELOW,\n\t\t\tprecondition: ContextKeyExpr.or(executeThisCellCondition, NOTEBOOK_CELL_TYPE.isEqualTo('markup')),\n\t\t\ttitle: localize('notebookActions.executeAndSelectBelow', \"Execute Notebook Cell and Select Below\"),\n\t\t\tkeybinding: {\n\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\tNOTEBOOK_CELL_LIST_FOCUSED,\n\t\t\t\t\tCTX_INLINE_CHAT_FOCUSED.negate()\n\t\t\t\t),\n\t\t\t\tprimary: KeyMod.Shift | KeyCode.Enter,\n\t\t\t\tweight: NOTEBOOK_EDITOR_WIDGET_ACTION_WEIGHT\n\t\t\t},\n\t\t});\n\t}\n\n\tasync runWithContext(accessor: ServicesAccessor, context: INotebookCellActionContext): Promise<void> {\n\t\tconst editorGroupsService = accessor.get(IEditorGroupsService);\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst idx = context.notebookEditor.getCellIndex(context.cell);\n\t\tif (typeof idx !== 'number') {\n\t\t\treturn;\n\t\t}\n\t\tconst languageService = accessor.get(ILanguageService);\n\n\t\tconst config = accessor.get(IConfigurationService);\n\t\tconst scrollBehavior = config.getValue(NotebookSetting.scrollToRevealCell);\n\t\tlet focusOptions: IFocusNotebookCellOptions;\n\t\tif (scrollBehavior === 'none') {\n\t\t\tfocusOptions = { skipReveal: true };\n\t\t} else {\n\t\t\tfocusOptions = {\n\t\t\t\trevealBehavior: scrollBehavior === 'fullCell' ? ScrollToRevealBehavior.fullCell : ScrollToRevealBehavior.firstLine\n\t\t\t};\n\t\t}\n\n\t\tif (context.cell.cellKind === CellKind.Markup) {\n\t\t\tconst nextCell = context.notebookEditor.cellAt(idx + 1);\n\t\t\tcontext.cell.updateEditState(CellEditState.Preview, EXECUTE_CELL_SELECT_BELOW);\n\t\t\tif (nextCell) {\n\t\t\t\tawait context.notebookEditor.focusNotebookCell(nextCell, 'container', focusOptions);\n\t\t\t} else {\n\t\t\t\tconst newCell = insertCell(languageService, context.notebookEditor, idx, CellKind.Markup, 'below');\n\n\t\t\t\tif (newCell) {\n\t\t\t\t\tawait context.notebookEditor.focusNotebookCell(newCell, 'editor', focusOptions);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn;\n\t\t} else {\n\t\t\tconst nextCell = context.notebookEditor.cellAt(idx + 1);\n\t\t\tif (nextCell) {\n\t\t\t\tawait context.notebookEditor.focusNotebookCell(nextCell, 'container', focusOptions);\n\t\t\t} else {\n\t\t\t\tconst newCell = insertCell(languageService, context.notebookEditor, idx, CellKind.Code, 'below');\n\n\t\t\t\tif (newCell) {\n\t\t\t\t\tawait context.notebookEditor.focusNotebookCell(newCell, 'editor', focusOptions);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn runCell(editorGroupsService, context, editorService);\n\t\t}\n\t}\n});\n\nregisterAction2(class ExecuteCellInsertBelow extends NotebookCellAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: EXECUTE_CELL_INSERT_BELOW,\n\t\t\tprecondition: ContextKeyExpr.or(executeThisCellCondition, NOTEBOOK_CELL_TYPE.isEqualTo('markup')),\n\t\t\ttitle: localize('notebookActions.executeAndInsertBelow', \"Execute Notebook Cell and Insert Below\"),\n\t\t\tkeybinding: {\n\t\t\t\twhen: NOTEBOOK_CELL_LIST_FOCUSED,\n\t\t\t\tprimary: KeyMod.Alt | KeyCode.Enter,\n\t\t\t\tweight: NOTEBOOK_EDITOR_WIDGET_ACTION_WEIGHT\n\t\t\t},\n\t\t});\n\t}\n\n\tasync runWithContext(accessor: ServicesAccessor, context: INotebookCellActionContext): Promise<void> {\n\t\tconst editorGroupsService = accessor.get(IEditorGroupsService);\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst idx = context.notebookEditor.getCellIndex(context.cell);\n\t\tconst languageService = accessor.get(ILanguageService);\n\t\tconst newFocusMode = context.cell.focusMode === CellFocusMode.Editor ? 'editor' : 'container';\n\n\t\tconst newCell = insertCell(languageService, context.notebookEditor, idx, context.cell.cellKind, 'below');\n\t\tif (newCell) {\n\t\t\tawait context.notebookEditor.focusNotebookCell(newCell, newFocusMode);\n\t\t}\n\n\t\tif (context.cell.cellKind === CellKind.Markup) {\n\t\t\tcontext.cell.updateEditState(CellEditState.Preview, EXECUTE_CELL_INSERT_BELOW);\n\t\t} else {\n\t\t\trunCell(editorGroupsService, context, editorService);\n\t\t}\n\t}\n});\n\nclass CancelNotebook extends NotebookAction {\n\toverride getEditorContextFromArgsOrActive(accessor: ServicesAccessor, context?: UriComponents): INotebookActionContext | undefined {\n\t\treturn getContextFromUri(accessor, context) ?? getContextFromActiveEditor(accessor.get(IEditorService));\n\t}\n\n\tasync runWithContext(accessor: ServicesAccessor, context: INotebookActionContext): Promise<void> {\n\t\treturn context.notebookEditor.cancelNotebookCells();\n\t}\n}\n\nregisterAction2(class CancelAllNotebook extends CancelNotebook {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: CANCEL_NOTEBOOK_COMMAND_ID,\n\t\t\ttitle: localize2('notebookActions.cancelNotebook', \"Stop Execution\"),\n\t\t\ticon: icons.stopIcon,\n\t\t\tmenu: [\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.EditorTitle,\n\t\t\t\t\torder: -1,\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\tNOTEBOOK_IS_ACTIVE_EDITOR,\n\t\t\t\t\t\tNOTEBOOK_HAS_SOMETHING_RUNNING,\n\t\t\t\t\t\tNOTEBOOK_INTERRUPTIBLE_KERNEL.toNegated(),\n\t\t\t\t\t\tContextKeyExpr.notEquals('config.notebook.globalToolbar', true)\n\t\t\t\t\t)\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.NotebookToolbar,\n\t\t\t\t\torder: -1,\n\t\t\t\t\tgroup: 'navigation/execute',\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\tNOTEBOOK_HAS_SOMETHING_RUNNING,\n\t\t\t\t\t\tNOTEBOOK_INTERRUPTIBLE_KERNEL.toNegated(),\n\t\t\t\t\t\tContextKeyExpr.equals('config.notebook.globalToolbar', true)\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\t}\n});\n\nregisterAction2(class InterruptNotebook extends CancelNotebook {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: INTERRUPT_NOTEBOOK_COMMAND_ID,\n\t\t\ttitle: localize2('notebookActions.interruptNotebook', \"Interrupt\"),\n\t\t\tprecondition: ContextKeyExpr.and(\n\t\t\t\tNOTEBOOK_HAS_SOMETHING_RUNNING,\n\t\t\t\tNOTEBOOK_INTERRUPTIBLE_KERNEL\n\t\t\t),\n\t\t\ticon: icons.stopIcon,\n\t\t\tmenu: [\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.EditorTitle,\n\t\t\t\t\torder: -1,\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\tNOTEBOOK_IS_ACTIVE_EDITOR,\n\t\t\t\t\t\tNOTEBOOK_HAS_SOMETHING_RUNNING,\n\t\t\t\t\t\tNOTEBOOK_INTERRUPTIBLE_KERNEL,\n\t\t\t\t\t\tContextKeyExpr.notEquals('config.notebook.globalToolbar', true)\n\t\t\t\t\t)\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.NotebookToolbar,\n\t\t\t\t\torder: -1,\n\t\t\t\t\tgroup: 'navigation/execute',\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\tNOTEBOOK_HAS_SOMETHING_RUNNING,\n\t\t\t\t\t\tNOTEBOOK_INTERRUPTIBLE_KERNEL,\n\t\t\t\t\t\tContextKeyExpr.equals('config.notebook.globalToolbar', true)\n\t\t\t\t\t)\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.InteractiveToolbar,\n\t\t\t\t\tgroup: 'navigation/execute'\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\t}\n});\n\n\nMenuRegistry.appendMenuItem(MenuId.NotebookToolbar, {\n\ttitle: localize('revealRunningCellShort', \"Go To\"),\n\tsubmenu: MenuId.NotebookCellExecuteGoTo,\n\tgroup: 'navigation/execute',\n\torder: 20,\n\ticon: ThemeIcon.modify(icons.executingStateIcon, 'spin')\n});\n\nregisterAction2(class RevealRunningCellAction extends NotebookAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: REVEAL_RUNNING_CELL,\n\t\t\ttitle: localize('revealRunningCell', \"Go to Running Cell\"),\n\t\t\ttooltip: localize('revealRunningCell', \"Go to Running Cell\"),\n\t\t\tshortTitle: localize('revealRunningCell', \"Go to Running Cell\"),\n\t\t\tprecondition: NOTEBOOK_HAS_RUNNING_CELL,\n\t\t\tmenu: [\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.EditorTitle,\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\tNOTEBOOK_IS_ACTIVE_EDITOR,\n\t\t\t\t\t\tNOTEBOOK_HAS_RUNNING_CELL,\n\t\t\t\t\t\tContextKeyExpr.notEquals('config.notebook.globalToolbar', true)\n\t\t\t\t\t),\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\torder: 0\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.NotebookCellExecuteGoTo,\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\tNOTEBOOK_IS_ACTIVE_EDITOR,\n\t\t\t\t\t\tNOTEBOOK_HAS_RUNNING_CELL,\n\t\t\t\t\t\tContextKeyExpr.equals('config.notebook.globalToolbar', true)\n\t\t\t\t\t),\n\t\t\t\t\tgroup: 'navigation/execute',\n\t\t\t\t\torder: 20\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.InteractiveToolbar,\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\tNOTEBOOK_HAS_RUNNING_CELL,\n\t\t\t\t\t\tContextKeyExpr.equals('activeEditor', 'workbench.editor.interactive')\n\t\t\t\t\t),\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\torder: 10\n\t\t\t\t}\n\t\t\t],\n\t\t\ticon: ThemeIcon.modify(icons.executingStateIcon, 'spin')\n\t\t});\n\t}\n\n\tasync runWithContext(accessor: ServicesAccessor, context: INotebookActionContext): Promise<void> {\n\t\tconst notebookExecutionStateService = accessor.get(INotebookExecutionStateService);\n\t\tconst notebook = context.notebookEditor.textModel.uri;\n\t\tconst executingCells = notebookExecutionStateService.getCellExecutionsForNotebook(notebook);\n\t\tif (executingCells[0]) {\n\t\t\tconst topStackFrameCell = this.findCellAtTopFrame(accessor, notebook);\n\t\t\tconst focusHandle = topStackFrameCell ?? executingCells[0].cellHandle;\n\t\t\tconst cell = context.notebookEditor.getCellByHandle(focusHandle);\n\t\t\tif (cell) {\n\t\t\t\tcontext.notebookEditor.focusNotebookCell(cell, 'container');\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate findCellAtTopFrame(accessor: ServicesAccessor, notebook: URI): number | undefined {\n\t\tconst debugService = accessor.get(IDebugService);\n\t\tfor (const session of debugService.getModel().getSessions()) {\n\t\t\tfor (const thread of session.getAllThreads()) {\n\t\t\t\tconst sf = thread.getTopStackFrame();\n\t\t\t\tif (sf) {\n\t\t\t\t\tconst parsed = CellUri.parse(sf.source.uri);\n\t\t\t\t\tif (parsed && parsed.notebook.toString() === notebook.toString()) {\n\t\t\t\t\t\treturn parsed.handle;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn undefined;\n\t}\n});\n\nregisterAction2(class RevealLastFailedCellAction extends NotebookAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: REVEAL_LAST_FAILED_CELL,\n\t\t\ttitle: localize('revealLastFailedCell', \"Go to Most Recently Failed Cell\"),\n\t\t\ttooltip: localize('revealLastFailedCell', \"Go to Most Recently Failed Cell\"),\n\t\t\tshortTitle: localize('revealLastFailedCellShort', \"Go to Most Recently Failed Cell\"),\n\t\t\tprecondition: NOTEBOOK_LAST_CELL_FAILED,\n\t\t\tmenu: [\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.EditorTitle,\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\tNOTEBOOK_IS_ACTIVE_EDITOR,\n\t\t\t\t\t\tNOTEBOOK_LAST_CELL_FAILED,\n\t\t\t\t\t\tNOTEBOOK_HAS_RUNNING_CELL.toNegated(),\n\t\t\t\t\t\tContextKeyExpr.notEquals('config.notebook.globalToolbar', true)\n\t\t\t\t\t),\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\torder: 0\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.NotebookCellExecuteGoTo,\n\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\tNOTEBOOK_IS_ACTIVE_EDITOR,\n\t\t\t\t\t\tNOTEBOOK_LAST_CELL_FAILED,\n\t\t\t\t\t\tNOTEBOOK_HAS_RUNNING_CELL.toNegated(),\n\t\t\t\t\t\tContextKeyExpr.equals('config.notebook.globalToolbar', true)\n\t\t\t\t\t),\n\t\t\t\t\tgroup: 'navigation/execute',\n\t\t\t\t\torder: 20\n\t\t\t\t},\n\t\t\t],\n\t\t\ticon: icons.errorStateIcon,\n\t\t});\n\t}\n\n\tasync runWithContext(accessor: ServicesAccessor, context: INotebookActionContext): Promise<void> {\n\t\tconst notebookExecutionStateService = accessor.get(INotebookExecutionStateService);\n\t\tconst notebook = context.notebookEditor.textModel.uri;\n\t\tconst lastFailedCellHandle = notebookExecutionStateService.getLastFailedCellForNotebook(notebook);\n\t\tif (lastFailedCellHandle !== undefined) {\n\t\t\tconst lastFailedCell = context.notebookEditor.getCellByHandle(lastFailedCellHandle);\n\t\t\tif (lastFailedCell) {\n\t\t\t\tcontext.notebookEditor.focusNotebookCell(lastFailedCell, 'container');\n\t\t\t}\n\t\t}\n\t}\n});\n"]}