{"version":3,"sources":["vs/workbench/contrib/notebook/browser/contrib/outline/notebookOutline.ts"],"names":[],"mappings":"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","file":"notebookOutline.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { localize } from '../../../../../../nls.js';\nimport * as DOM from '../../../../../../base/browser/dom.js';\nimport { ToolBar } from '../../../../../../base/browser/ui/toolbar/toolbar.js';\nimport { IIconLabelValueOptions, IconLabel } from '../../../../../../base/browser/ui/iconLabel/iconLabel.js';\nimport { IKeyboardNavigationLabelProvider, IListVirtualDelegate } from '../../../../../../base/browser/ui/list/list.js';\nimport { IListAccessibilityProvider } from '../../../../../../base/browser/ui/list/listWidget.js';\nimport { IDataSource, ITreeNode, ITreeRenderer } from '../../../../../../base/browser/ui/tree/tree.js';\nimport { Emitter, Event } from '../../../../../../base/common/event.js';\nimport { FuzzyScore, createMatches } from '../../../../../../base/common/filters.js';\nimport { Disposable, DisposableStore, IDisposable, toDisposable, type IReference } from '../../../../../../base/common/lifecycle.js';\nimport { ThemeIcon } from '../../../../../../base/common/themables.js';\nimport { URI } from '../../../../../../base/common/uri.js';\nimport { getIconClassesForLanguageId } from '../../../../../../editor/common/services/getIconClasses.js';\nimport { IConfigurationService } from '../../../../../../platform/configuration/common/configuration.js';\nimport { Extensions as ConfigurationExtensions, IConfigurationRegistry } from '../../../../../../platform/configuration/common/configurationRegistry.js';\nimport { IEditorOptions } from '../../../../../../platform/editor/common/editor.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../../../platform/instantiation/common/instantiation.js';\nimport { IWorkbenchDataTreeOptions } from '../../../../../../platform/list/browser/listService.js';\nimport { MarkerSeverity } from '../../../../../../platform/markers/common/markers.js';\nimport { Registry } from '../../../../../../platform/registry/common/platform.js';\nimport { listErrorForeground, listWarningForeground } from '../../../../../../platform/theme/common/colorRegistry.js';\nimport { IThemeService } from '../../../../../../platform/theme/common/themeService.js';\nimport { IWorkbenchContributionsRegistry, Extensions as WorkbenchExtensions } from '../../../../../common/contributions.js';\nimport { IEditorPane } from '../../../../../common/editor.js';\nimport { CellFoldingState, CellRevealType, ICellModelDecorations, ICellModelDeltaDecorations, ICellViewModel, INotebookEditor, INotebookEditorOptions, INotebookEditorPane, INotebookViewModel } from '../../notebookBrowser.js';\nimport { NotebookEditor } from '../../notebookEditor.js';\nimport { INotebookCellOutlineDataSource, NotebookCellOutlineDataSource } from '../../viewModel/notebookOutlineDataSource.js';\nimport { CellKind, NotebookCellsChangeType, NotebookSetting } from '../../../common/notebookCommon.js';\nimport { IEditorService, SIDE_GROUP } from '../../../../../services/editor/common/editorService.js';\nimport { LifecyclePhase } from '../../../../../services/lifecycle/common/lifecycle.js';\nimport { IBreadcrumbsDataSource, IOutline, IOutlineComparator, IOutlineCreator, IOutlineListConfig, IOutlineService, IQuickPickDataSource, IQuickPickOutlineElement, OutlineChangeEvent, OutlineConfigCollapseItemsValues, OutlineConfigKeys, OutlineTarget } from '../../../../../services/outline/browser/outline.js';\nimport { OutlineEntry } from '../../viewModel/OutlineEntry.js';\nimport { CancellationToken } from '../../../../../../base/common/cancellation.js';\nimport { IModelDeltaDecoration } from '../../../../../../editor/common/model.js';\nimport { Range } from '../../../../../../editor/common/core/range.js';\nimport { IContextMenuService } from '../../../../../../platform/contextview/browser/contextView.js';\nimport { Action2, IMenu, IMenuService, MenuId, MenuItemAction, MenuRegistry, registerAction2 } from '../../../../../../platform/actions/common/actions.js';\nimport { ContextKeyExpr, IContextKeyService, RawContextKey } from '../../../../../../platform/contextkey/common/contextkey.js';\nimport { MenuEntryActionViewItem, getActionBarActions } from '../../../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { IAction } from '../../../../../../base/common/actions.js';\nimport { NotebookOutlineEntryArgs } from '../../controller/sectionActions.js';\nimport { MarkupCellViewModel } from '../../viewModel/markupCellViewModel.js';\nimport { Delayer, disposableTimeout } from '../../../../../../base/common/async.js';\nimport { IOutlinePane } from '../../../../outline/browser/outline.js';\nimport { Codicon } from '../../../../../../base/common/codicons.js';\nimport { NOTEBOOK_IS_ACTIVE_EDITOR } from '../../../common/notebookContextKeys.js';\nimport { NotebookOutlineConstants } from '../../viewModel/notebookOutlineEntryFactory.js';\nimport { INotebookCellOutlineDataSourceFactory } from '../../viewModel/notebookOutlineDataSourceFactory.js';\nimport { INotebookExecutionStateService, NotebookExecutionType } from '../../../common/notebookExecutionStateService.js';\nimport { ILanguageFeaturesService } from '../../../../../../editor/common/services/languageFeatures.js';\nimport { safeIntl } from '../../../../../../base/common/date.js';\n\nclass NotebookOutlineTemplate {\n\n\tstatic readonly templateId = 'NotebookOutlineRenderer';\n\n\tconstructor(\n\t\treadonly container: HTMLElement,\n\t\treadonly iconClass: HTMLElement,\n\t\treadonly iconLabel: IconLabel,\n\t\treadonly decoration: HTMLElement,\n\t\treadonly actionMenu: HTMLElement,\n\t\treadonly elementDisposables: DisposableStore,\n\t) { }\n}\n\nclass NotebookOutlineRenderer implements ITreeRenderer<OutlineEntry, FuzzyScore, NotebookOutlineTemplate> {\n\n\ttemplateId: string = NotebookOutlineTemplate.templateId;\n\n\tconstructor(\n\t\tprivate readonly _editor: INotebookEditor | undefined,\n\t\tprivate readonly _target: OutlineTarget,\n\t\t@IThemeService private readonly _themeService: IThemeService,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t\t@IContextMenuService private readonly _contextMenuService: IContextMenuService,\n\t\t@IContextKeyService private readonly _contextKeyService: IContextKeyService,\n\t\t@IMenuService private readonly _menuService: IMenuService,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService,\n\t) { }\n\n\trenderTemplate(container: HTMLElement): NotebookOutlineTemplate {\n\t\tconst elementDisposables = new DisposableStore();\n\n\t\tcontainer.classList.add('notebook-outline-element', 'show-file-icons');\n\t\tconst iconClass = document.createElement('div');\n\t\tcontainer.append(iconClass);\n\t\tconst iconLabel = new IconLabel(container, { supportHighlights: true });\n\t\tconst decoration = document.createElement('div');\n\t\tdecoration.className = 'element-decoration';\n\t\tcontainer.append(decoration);\n\t\tconst actionMenu = document.createElement('div');\n\t\tactionMenu.className = 'action-menu';\n\t\tcontainer.append(actionMenu);\n\n\t\treturn new NotebookOutlineTemplate(container, iconClass, iconLabel, decoration, actionMenu, elementDisposables);\n\t}\n\n\trenderElement(node: ITreeNode<OutlineEntry, FuzzyScore>, _index: number, template: NotebookOutlineTemplate): void {\n\t\tconst extraClasses: string[] = [];\n\t\tconst options: IIconLabelValueOptions = {\n\t\t\tmatches: createMatches(node.filterData),\n\t\t\tlabelEscapeNewLines: true,\n\t\t\textraClasses,\n\t\t};\n\n\t\tconst isCodeCell = node.element.cell.cellKind === CellKind.Code;\n\t\tif (node.element.level >= 8) { // symbol\n\t\t\ttemplate.iconClass.className = 'element-icon ' + ThemeIcon.asClassNameArray(node.element.icon).join(' ');\n\t\t} else if (isCodeCell && this._themeService.getFileIconTheme().hasFileIcons && !node.element.isExecuting) {\n\t\t\ttemplate.iconClass.className = '';\n\t\t\textraClasses.push(...getIconClassesForLanguageId(node.element.cell.language ?? ''));\n\t\t} else {\n\t\t\ttemplate.iconClass.className = 'element-icon ' + ThemeIcon.asClassNameArray(node.element.icon).join(' ');\n\t\t}\n\n\t\ttemplate.iconLabel.setLabel(' ' + node.element.label, undefined, options);\n\n\t\tconst { markerInfo } = node.element;\n\n\t\ttemplate.container.style.removeProperty('--outline-element-color');\n\t\ttemplate.decoration.innerText = '';\n\t\tif (markerInfo) {\n\t\t\tconst problem = this._configurationService.getValue('problems.visibility');\n\t\t\tconst useBadges = this._configurationService.getValue(OutlineConfigKeys.problemsBadges);\n\n\t\t\tif (!useBadges || !problem) {\n\t\t\t\ttemplate.decoration.classList.remove('bubble');\n\t\t\t\ttemplate.decoration.innerText = '';\n\t\t\t} else if (markerInfo.count === 0) {\n\t\t\t\ttemplate.decoration.classList.add('bubble');\n\t\t\t\ttemplate.decoration.innerText = '\\uea71';\n\t\t\t} else {\n\t\t\t\ttemplate.decoration.classList.remove('bubble');\n\t\t\t\ttemplate.decoration.innerText = markerInfo.count > 9 ? '9+' : String(markerInfo.count);\n\t\t\t}\n\t\t\tconst color = this._themeService.getColorTheme().getColor(markerInfo.topSev === MarkerSeverity.Error ? listErrorForeground : listWarningForeground);\n\t\t\tif (problem === undefined) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst useColors = this._configurationService.getValue(OutlineConfigKeys.problemsColors);\n\t\t\tif (!useColors || !problem) {\n\t\t\t\ttemplate.container.style.removeProperty('--outline-element-color');\n\t\t\t\ttemplate.decoration.style.setProperty('--outline-element-color', color?.toString() ?? 'inherit');\n\t\t\t} else {\n\t\t\t\ttemplate.container.style.setProperty('--outline-element-color', color?.toString() ?? 'inherit');\n\t\t\t}\n\t\t}\n\n\t\tif (this._target === OutlineTarget.OutlinePane) {\n\t\t\tif (!this._editor) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst nbCell = node.element.cell;\n\t\t\tconst nbViewModel = this._editor.getViewModel();\n\t\t\tif (!nbViewModel) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst idx = nbViewModel.getCellIndex(nbCell);\n\t\t\tconst length = isCodeCell ? 0 : nbViewModel.getFoldedLength(idx);\n\n\t\t\tconst scopedContextKeyService = template.elementDisposables.add(this._contextKeyService.createScoped(template.container));\n\t\t\tNotebookOutlineContext.CellKind.bindTo(scopedContextKeyService).set(isCodeCell ? CellKind.Code : CellKind.Markup);\n\t\t\tNotebookOutlineContext.CellHasChildren.bindTo(scopedContextKeyService).set(length > 0);\n\t\t\tNotebookOutlineContext.CellHasHeader.bindTo(scopedContextKeyService).set(node.element.level !== NotebookOutlineConstants.NonHeaderOutlineLevel);\n\t\t\tNotebookOutlineContext.OutlineElementTarget.bindTo(scopedContextKeyService).set(this._target);\n\t\t\tthis.setupFolding(isCodeCell, nbViewModel, scopedContextKeyService, template, nbCell);\n\n\t\t\tconst outlineEntryToolbar = template.elementDisposables.add(new ToolBar(template.actionMenu, this._contextMenuService, {\n\t\t\t\tactionViewItemProvider: action => {\n\t\t\t\t\tif (action instanceof MenuItemAction) {\n\t\t\t\t\t\treturn this._instantiationService.createInstance(MenuEntryActionViewItem, action, undefined);\n\t\t\t\t\t}\n\t\t\t\t\treturn undefined;\n\t\t\t\t},\n\t\t\t}));\n\n\t\t\tconst menu = template.elementDisposables.add(this._menuService.createMenu(MenuId.NotebookOutlineActionMenu, scopedContextKeyService));\n\t\t\tconst actions = getOutlineToolbarActions(menu, { notebookEditor: this._editor, outlineEntry: node.element });\n\t\t\toutlineEntryToolbar.setActions(actions.primary, actions.secondary);\n\n\t\t\tthis.setupToolbarListeners(this._editor, outlineEntryToolbar, menu, actions, node.element, template);\n\t\t\ttemplate.actionMenu.style.padding = '0 0.8em 0 0.4em';\n\t\t}\n\t}\n\n\tdisposeTemplate(templateData: NotebookOutlineTemplate): void {\n\t\ttemplateData.iconLabel.dispose();\n\t\ttemplateData.elementDisposables.dispose();\n\t}\n\n\tdisposeElement(element: ITreeNode<OutlineEntry, FuzzyScore>, index: number, templateData: NotebookOutlineTemplate): void {\n\t\ttemplateData.elementDisposables.clear();\n\t\tDOM.clearNode(templateData.actionMenu);\n\t}\n\n\tprivate setupFolding(isCodeCell: boolean, nbViewModel: INotebookViewModel, scopedContextKeyService: IContextKeyService, template: NotebookOutlineTemplate, nbCell: ICellViewModel) {\n\t\tconst foldingState = isCodeCell ? CellFoldingState.None : ((nbCell as MarkupCellViewModel).foldingState);\n\t\tconst foldingStateCtx = NotebookOutlineContext.CellFoldingState.bindTo(scopedContextKeyService);\n\t\tfoldingStateCtx.set(foldingState);\n\n\t\tif (!isCodeCell) {\n\t\t\ttemplate.elementDisposables.add(nbViewModel.onDidFoldingStateChanged(() => {\n\t\t\t\tconst foldingState = (nbCell as MarkupCellViewModel).foldingState;\n\t\t\t\tNotebookOutlineContext.CellFoldingState.bindTo(scopedContextKeyService).set(foldingState);\n\t\t\t\tfoldingStateCtx.set(foldingState);\n\t\t\t}));\n\t\t}\n\t}\n\n\tprivate setupToolbarListeners(editor: INotebookEditor, toolbar: ToolBar, menu: IMenu, initActions: { primary: IAction[]; secondary: IAction[] }, entry: OutlineEntry, templateData: NotebookOutlineTemplate): void {\n\t\t// same fix as in cellToolbars setupListeners re #103926\n\t\tlet dropdownIsVisible = false;\n\t\tlet deferredUpdate: (() => void) | undefined;\n\n\t\ttoolbar.setActions(initActions.primary, initActions.secondary);\n\t\ttemplateData.elementDisposables.add(menu.onDidChange(() => {\n\t\t\tif (dropdownIsVisible) {\n\t\t\t\tconst actions = getOutlineToolbarActions(menu, { notebookEditor: editor, outlineEntry: entry });\n\t\t\t\tdeferredUpdate = () => toolbar.setActions(actions.primary, actions.secondary);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst actions = getOutlineToolbarActions(menu, { notebookEditor: editor, outlineEntry: entry });\n\t\t\ttoolbar.setActions(actions.primary, actions.secondary);\n\t\t}));\n\n\t\ttemplateData.container.classList.remove('notebook-outline-toolbar-dropdown-active');\n\t\ttemplateData.elementDisposables.add(toolbar.onDidChangeDropdownVisibility(visible => {\n\t\t\tdropdownIsVisible = visible;\n\t\t\tif (visible) {\n\t\t\t\ttemplateData.container.classList.add('notebook-outline-toolbar-dropdown-active');\n\t\t\t} else {\n\t\t\t\ttemplateData.container.classList.remove('notebook-outline-toolbar-dropdown-active');\n\t\t\t}\n\n\t\t\tif (deferredUpdate && !visible) {\n\t\t\t\tdisposableTimeout(() => {\n\t\t\t\t\tdeferredUpdate?.();\n\t\t\t\t}, 0, templateData.elementDisposables);\n\n\t\t\t\tdeferredUpdate = undefined;\n\t\t\t}\n\t\t}));\n\n\t}\n}\n\nfunction getOutlineToolbarActions(menu: IMenu, args?: NotebookOutlineEntryArgs): { primary: IAction[]; secondary: IAction[] } {\n\treturn getActionBarActions(menu.getActions({ shouldForwardArgs: true, arg: args }), g => /^inline/.test(g));\n}\n\nclass NotebookOutlineAccessibility implements IListAccessibilityProvider<OutlineEntry> {\n\tgetAriaLabel(element: OutlineEntry): string | null {\n\t\treturn element.label;\n\t}\n\tgetWidgetAriaLabel(): string {\n\t\treturn '';\n\t}\n}\n\nclass NotebookNavigationLabelProvider implements IKeyboardNavigationLabelProvider<OutlineEntry> {\n\tgetKeyboardNavigationLabel(element: OutlineEntry): { toString(): string | undefined } | { toString(): string | undefined }[] | undefined {\n\t\treturn element.label;\n\t}\n}\n\nclass NotebookOutlineVirtualDelegate implements IListVirtualDelegate<OutlineEntry> {\n\n\tgetHeight(_element: OutlineEntry): number {\n\t\treturn 22;\n\t}\n\n\tgetTemplateId(_element: OutlineEntry): string {\n\t\treturn NotebookOutlineTemplate.templateId;\n\t}\n}\n\nexport class NotebookQuickPickProvider implements IQuickPickDataSource<OutlineEntry> {\n\n\tprivate readonly _disposables = new DisposableStore();\n\n\tprivate gotoShowCodeCellSymbols: boolean;\n\n\tconstructor(\n\t\tprivate readonly notebookCellOutlineDataSourceRef: IReference<INotebookCellOutlineDataSource> | undefined,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t\t@IThemeService private readonly _themeService: IThemeService\n\t) {\n\t\tthis.gotoShowCodeCellSymbols = this._configurationService.getValue<boolean>(NotebookSetting.gotoSymbolsAllSymbols);\n\n\t\tthis._disposables.add(this._configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration(NotebookSetting.gotoSymbolsAllSymbols)) {\n\t\t\t\tthis.gotoShowCodeCellSymbols = this._configurationService.getValue<boolean>(NotebookSetting.gotoSymbolsAllSymbols);\n\t\t\t}\n\t\t}));\n\t}\n\n\tgetQuickPickElements(): IQuickPickOutlineElement<OutlineEntry>[] {\n\t\tconst bucket: OutlineEntry[] = [];\n\t\tfor (const entry of this.notebookCellOutlineDataSourceRef?.object?.entries ?? []) {\n\t\t\tentry.asFlatList(bucket);\n\t\t}\n\t\tconst result: IQuickPickOutlineElement<OutlineEntry>[] = [];\n\t\tconst { hasFileIcons } = this._themeService.getFileIconTheme();\n\n\t\tconst isSymbol = (element: OutlineEntry) => !!element.symbolKind;\n\t\tconst isCodeCell = (element: OutlineEntry) => (element.cell.cellKind === CellKind.Code && element.level === NotebookOutlineConstants.NonHeaderOutlineLevel); // code cell entries are exactly level 7 by this constant\n\t\tfor (let i = 0; i < bucket.length; i++) {\n\t\t\tconst element = bucket[i];\n\t\t\tconst nextElement = bucket[i + 1]; // can be undefined\n\n\t\t\tif (!this.gotoShowCodeCellSymbols\n\t\t\t\t&& isSymbol(element)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (this.gotoShowCodeCellSymbols\n\t\t\t\t&& isCodeCell(element)\n\t\t\t\t&& nextElement && isSymbol(nextElement)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst useFileIcon = hasFileIcons && !element.symbolKind;\n\t\t\t// todo@jrieken it is fishy that codicons cannot be used with iconClasses\n\t\t\t// but file icons can...\n\t\t\tresult.push({\n\t\t\t\telement,\n\t\t\t\tlabel: useFileIcon ? element.label : `$(${element.icon.id}) ${element.label}`,\n\t\t\t\tariaLabel: element.label,\n\t\t\t\ticonClasses: useFileIcon ? getIconClassesForLanguageId(element.cell.language ?? '') : undefined,\n\t\t\t});\n\t\t}\n\t\treturn result;\n\t}\n\n\tdispose(): void {\n\t\tthis._disposables.dispose();\n\t}\n}\n\n/**\n * Checks if the given outline entry should be filtered out of the outlinePane\n *\n * @param entry the OutlineEntry to check\n * @param showMarkdownHeadersOnly whether to show only markdown headers\n * @param showCodeCells whether to show code cells\n * @param showCodeCellSymbols whether to show code cell symbols\n * @returns true if the entry should be filtered out of the outlinePane, false if the entry should be visible.\n */\nfunction filterEntry(entry: OutlineEntry, showMarkdownHeadersOnly: boolean, showCodeCells: boolean, showCodeCellSymbols: boolean): boolean {\n\t// if any are true, return true, this entry should NOT be included in the outline\n\tif (\n\t\t(showMarkdownHeadersOnly && entry.cell.cellKind === CellKind.Markup && entry.level === NotebookOutlineConstants.NonHeaderOutlineLevel) ||\t// show headers only   + cell is mkdn + is level 7 (not header)\n\t\t(!showCodeCells && entry.cell.cellKind === CellKind.Code) ||\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// show code cells off + cell is code\n\t\t(!showCodeCellSymbols && entry.cell.cellKind === CellKind.Code && entry.level > NotebookOutlineConstants.NonHeaderOutlineLevel)\t\t\t\t// show symbols off    + cell is code + is level >7 (nb symbol levels)\n\t) {\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n\nexport class NotebookOutlinePaneProvider implements IDataSource<NotebookCellOutline, OutlineEntry> {\n\n\tprivate readonly _disposables = new DisposableStore();\n\n\tprivate showCodeCells: boolean;\n\tprivate showCodeCellSymbols: boolean;\n\tprivate showMarkdownHeadersOnly: boolean;\n\n\tconstructor(\n\t\tprivate readonly outlineDataSourceRef: IReference<INotebookCellOutlineDataSource> | undefined,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t) {\n\t\tthis.showCodeCells = this._configurationService.getValue<boolean>(NotebookSetting.outlineShowCodeCells);\n\t\tthis.showCodeCellSymbols = this._configurationService.getValue<boolean>(NotebookSetting.outlineShowCodeCellSymbols);\n\t\tthis.showMarkdownHeadersOnly = this._configurationService.getValue<boolean>(NotebookSetting.outlineShowMarkdownHeadersOnly);\n\n\t\tthis._disposables.add(this._configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration(NotebookSetting.outlineShowCodeCells)) {\n\t\t\t\tthis.showCodeCells = this._configurationService.getValue<boolean>(NotebookSetting.outlineShowCodeCells);\n\t\t\t}\n\t\t\tif (e.affectsConfiguration(NotebookSetting.outlineShowCodeCellSymbols)) {\n\t\t\t\tthis.showCodeCellSymbols = this._configurationService.getValue<boolean>(NotebookSetting.outlineShowCodeCellSymbols);\n\t\t\t}\n\t\t\tif (e.affectsConfiguration(NotebookSetting.outlineShowMarkdownHeadersOnly)) {\n\t\t\t\tthis.showMarkdownHeadersOnly = this._configurationService.getValue<boolean>(NotebookSetting.outlineShowMarkdownHeadersOnly);\n\t\t\t}\n\t\t}));\n\t}\n\n\tpublic getActiveEntry(): OutlineEntry | undefined {\n\t\tconst newActive = this.outlineDataSourceRef?.object?.activeElement;\n\t\tif (!newActive) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (!filterEntry(newActive, this.showMarkdownHeadersOnly, this.showCodeCells, this.showCodeCellSymbols)) {\n\t\t\treturn newActive;\n\t\t}\n\n\t\t// find a valid parent\n\t\tlet parent = newActive.parent;\n\t\twhile (parent) {\n\t\t\tif (filterEntry(parent, this.showMarkdownHeadersOnly, this.showCodeCells, this.showCodeCellSymbols)) {\n\t\t\t\tparent = parent.parent;\n\t\t\t} else {\n\t\t\t\treturn parent;\n\t\t\t}\n\t\t}\n\n\t\t// no valid parent found, return undefined\n\t\treturn undefined;\n\t}\n\n\t*getChildren(element: NotebookCellOutline | OutlineEntry): Iterable<OutlineEntry> {\n\t\tconst isOutline = element instanceof NotebookCellOutline;\n\t\tconst entries = isOutline ? this.outlineDataSourceRef?.object?.entries ?? [] : element.children;\n\n\t\tfor (const entry of entries) {\n\t\t\tif (entry.cell.cellKind === CellKind.Markup) {\n\t\t\t\tif (!this.showMarkdownHeadersOnly) {\n\t\t\t\t\tyield entry;\n\t\t\t\t} else if (entry.level < NotebookOutlineConstants.NonHeaderOutlineLevel) {\n\t\t\t\t\tyield entry;\n\t\t\t\t}\n\n\t\t\t} else if (this.showCodeCells && entry.cell.cellKind === CellKind.Code) {\n\t\t\t\tif (this.showCodeCellSymbols) {\n\t\t\t\t\tyield entry;\n\t\t\t\t} else if (entry.level === NotebookOutlineConstants.NonHeaderOutlineLevel) {\n\t\t\t\t\tyield entry;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tdispose(): void {\n\t\tthis._disposables.dispose();\n\t}\n}\n\nexport class NotebookBreadcrumbsProvider implements IBreadcrumbsDataSource<OutlineEntry> {\n\n\tprivate readonly _disposables = new DisposableStore();\n\n\tprivate showCodeCells: boolean;\n\n\tconstructor(\n\t\tprivate readonly outlineDataSourceRef: IReference<INotebookCellOutlineDataSource> | undefined,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t) {\n\t\tthis.showCodeCells = this._configurationService.getValue<boolean>(NotebookSetting.breadcrumbsShowCodeCells);\n\t\tthis._disposables.add(this._configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration(NotebookSetting.breadcrumbsShowCodeCells)) {\n\t\t\t\tthis.showCodeCells = this._configurationService.getValue<boolean>(NotebookSetting.breadcrumbsShowCodeCells);\n\t\t\t}\n\t\t}));\n\t}\n\n\tgetBreadcrumbElements(): readonly OutlineEntry[] {\n\t\tconst result: OutlineEntry[] = [];\n\t\tlet candidate = this.outlineDataSourceRef?.object?.activeElement;\n\t\twhile (candidate) {\n\t\t\tif (this.showCodeCells || candidate.cell.cellKind !== CellKind.Code) {\n\t\t\t\tresult.unshift(candidate);\n\t\t\t}\n\t\t\tcandidate = candidate.parent;\n\t\t}\n\t\treturn result;\n\t}\n\n\tdispose(): void {\n\t\tthis._disposables.dispose();\n\t}\n}\n\nclass NotebookComparator implements IOutlineComparator<OutlineEntry> {\n\n\tprivate readonly _collator = safeIntl.Collator(undefined, { numeric: true });\n\n\tcompareByPosition(a: OutlineEntry, b: OutlineEntry): number {\n\t\treturn a.index - b.index;\n\t}\n\tcompareByType(a: OutlineEntry, b: OutlineEntry): number {\n\t\treturn a.cell.cellKind - b.cell.cellKind || this._collator.value.compare(a.label, b.label);\n\t}\n\tcompareByName(a: OutlineEntry, b: OutlineEntry): number {\n\t\treturn this._collator.value.compare(a.label, b.label);\n\t}\n}\n\nexport class NotebookCellOutline implements IOutline<OutlineEntry> {\n\treadonly outlineKind = 'notebookCells';\n\n\tprivate readonly _disposables = new DisposableStore();\n\tprivate readonly _modelDisposables = new DisposableStore();\n\tprivate readonly _dataSourceDisposables = new DisposableStore();\n\n\tprivate readonly _onDidChange = new Emitter<OutlineChangeEvent>();\n\treadonly onDidChange: Event<OutlineChangeEvent> = this._onDidChange.event;\n\n\tprivate readonly delayerRecomputeState: Delayer<void> = this._disposables.add(new Delayer<void>(300));\n\tprivate readonly delayerRecomputeActive: Delayer<void> = this._disposables.add(new Delayer<void>(200));\n\t// this can be long, because it will force a recompute at the end, so ideally we only do this once all nb language features are registered\n\tprivate readonly delayerRecomputeSymbols: Delayer<void> = this._disposables.add(new Delayer<void>(2000));\n\n\treadonly config: IOutlineListConfig<OutlineEntry>;\n\tprivate _outlineDataSourceReference: IReference<NotebookCellOutlineDataSource> | undefined;\n\t// These three fields will always be set via setDataSources() on L475\n\tprivate _treeDataSource!: IDataSource<NotebookCellOutline, OutlineEntry>;\n\tprivate _quickPickDataSource!: IQuickPickDataSource<OutlineEntry>;\n\tprivate _breadcrumbsDataSource!: IBreadcrumbsDataSource<OutlineEntry>;\n\n\t// view settings\n\tprivate outlineShowCodeCells: boolean;\n\tprivate outlineShowCodeCellSymbols: boolean;\n\tprivate outlineShowMarkdownHeadersOnly: boolean;\n\n\t// getters\n\tget activeElement(): OutlineEntry | undefined {\n\t\tthis.checkDelayer();\n\t\tif (this._target === OutlineTarget.OutlinePane) {\n\t\t\treturn (this.config.treeDataSource as NotebookOutlinePaneProvider).getActiveEntry();\n\t\t} else {\n\t\t\tconsole.error('activeElement should not be called outside of the OutlinePane');\n\t\t\treturn undefined;\n\t\t}\n\t}\n\tget entries(): OutlineEntry[] {\n\t\tthis.checkDelayer();\n\t\treturn this._outlineDataSourceReference?.object?.entries ?? [];\n\t}\n\tget uri(): URI | undefined {\n\t\treturn this._outlineDataSourceReference?.object?.uri;\n\t}\n\tget isEmpty(): boolean {\n\t\tif (!this._outlineDataSourceReference?.object?.entries) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn !this._outlineDataSourceReference.object.entries.some(entry => {\n\t\t\treturn !filterEntry(entry, this.outlineShowMarkdownHeadersOnly, this.outlineShowCodeCells, this.outlineShowCodeCellSymbols);\n\t\t});\n\t}\n\n\tprivate checkDelayer() {\n\t\tif (this.delayerRecomputeState.isTriggered()) {\n\t\t\tthis.delayerRecomputeState.cancel();\n\t\t\tthis.recomputeState();\n\t\t}\n\t}\n\n\tconstructor(\n\t\tprivate readonly _editor: INotebookEditorPane,\n\t\tprivate readonly _target: OutlineTarget,\n\t\t@IThemeService private readonly _themeService: IThemeService,\n\t\t@IEditorService private readonly _editorService: IEditorService,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t\t@ILanguageFeaturesService private readonly _languageFeaturesService: ILanguageFeaturesService,\n\t\t@INotebookExecutionStateService private readonly _notebookExecutionStateService: INotebookExecutionStateService,\n\t) {\n\t\tthis.outlineShowCodeCells = this._configurationService.getValue<boolean>(NotebookSetting.outlineShowCodeCells);\n\t\tthis.outlineShowCodeCellSymbols = this._configurationService.getValue<boolean>(NotebookSetting.outlineShowCodeCellSymbols);\n\t\tthis.outlineShowMarkdownHeadersOnly = this._configurationService.getValue<boolean>(NotebookSetting.outlineShowMarkdownHeadersOnly);\n\n\t\tthis.initializeOutline();\n\n\t\tconst delegate = new NotebookOutlineVirtualDelegate();\n\t\tconst renderers = [this._instantiationService.createInstance(NotebookOutlineRenderer, this._editor.getControl(), this._target)];\n\t\tconst comparator = new NotebookComparator();\n\n\t\tconst options: IWorkbenchDataTreeOptions<OutlineEntry, FuzzyScore> = {\n\t\t\tcollapseByDefault: this._target === OutlineTarget.Breadcrumbs || (this._target === OutlineTarget.OutlinePane && this._configurationService.getValue(OutlineConfigKeys.collapseItems) === OutlineConfigCollapseItemsValues.Collapsed),\n\t\t\texpandOnlyOnTwistieClick: true,\n\t\t\tmultipleSelectionSupport: false,\n\t\t\taccessibilityProvider: new NotebookOutlineAccessibility(),\n\t\t\tidentityProvider: { getId: element => element.cell.uri.toString() },\n\t\t\tkeyboardNavigationLabelProvider: new NotebookNavigationLabelProvider()\n\t\t};\n\n\t\tthis.config = {\n\t\t\ttreeDataSource: this._treeDataSource,\n\t\t\tquickPickDataSource: this._quickPickDataSource,\n\t\t\tbreadcrumbsDataSource: this._breadcrumbsDataSource,\n\t\t\tdelegate,\n\t\t\trenderers,\n\t\t\tcomparator,\n\t\t\toptions\n\t\t};\n\t}\n\n\tprivate initializeOutline() {\n\t\t// initial setup\n\t\tthis.setDataSources();\n\t\tthis.setModelListeners();\n\n\t\t// reset the data sources + model listeners when we get a new notebook model\n\t\tthis._disposables.add(this._editor.onDidChangeModel(() => {\n\t\t\tthis.setDataSources();\n\t\t\tthis.setModelListeners();\n\t\t\tthis.computeSymbols();\n\t\t}));\n\n\t\t// recompute symbols as document symbol providers are updated in the language features registry\n\t\tthis._disposables.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(() => {\n\t\t\tthis.delayedComputeSymbols();\n\t\t}));\n\n\t\t// recompute active when the selection changes\n\t\tthis._disposables.add(this._editor.onDidChangeSelection(() => {\n\t\t\tthis.delayedRecomputeActive();\n\t\t}));\n\n\t\t// recompute state when filter config changes\n\t\tthis._disposables.add(this._configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration(NotebookSetting.outlineShowMarkdownHeadersOnly) ||\n\t\t\t\te.affectsConfiguration(NotebookSetting.outlineShowCodeCells) ||\n\t\t\t\te.affectsConfiguration(NotebookSetting.outlineShowCodeCellSymbols) ||\n\t\t\t\te.affectsConfiguration(NotebookSetting.breadcrumbsShowCodeCells)\n\t\t\t) {\n\t\t\t\tthis.outlineShowCodeCells = this._configurationService.getValue<boolean>(NotebookSetting.outlineShowCodeCells);\n\t\t\t\tthis.outlineShowCodeCellSymbols = this._configurationService.getValue<boolean>(NotebookSetting.outlineShowCodeCellSymbols);\n\t\t\t\tthis.outlineShowMarkdownHeadersOnly = this._configurationService.getValue<boolean>(NotebookSetting.outlineShowMarkdownHeadersOnly);\n\n\t\t\t\tthis.delayedRecomputeState();\n\t\t\t}\n\t\t}));\n\n\t\t// recompute state when execution states change\n\t\tthis._disposables.add(this._notebookExecutionStateService.onDidChangeExecution(e => {\n\t\t\tif (e.type === NotebookExecutionType.cell && !!this._editor.textModel && e.affectsNotebook(this._editor.textModel?.uri)) {\n\t\t\t\tthis.delayedRecomputeState();\n\t\t\t}\n\t\t}));\n\n\t\t// recompute symbols when the configuration changes (recompute state - and therefore recompute active - is also called within compute symbols)\n\t\tthis._disposables.add(this._configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration(NotebookSetting.outlineShowCodeCellSymbols)) {\n\t\t\t\tthis.outlineShowCodeCellSymbols = this._configurationService.getValue<boolean>(NotebookSetting.outlineShowCodeCellSymbols);\n\t\t\t\tthis.computeSymbols();\n\t\t\t}\n\t\t}));\n\n\t\t// fire a change event when the theme changes\n\t\tthis._disposables.add(this._themeService.onDidFileIconThemeChange(() => {\n\t\t\tthis._onDidChange.fire({});\n\t\t}));\n\n\t\t// finish with a recompute state\n\t\tthis.recomputeState();\n\t}\n\n\t/**\n\t * set up the primary data source + three viewing sources for the various outline views\n\t */\n\tprivate setDataSources(): void {\n\t\tconst notebookEditor = this._editor.getControl();\n\t\tthis._outlineDataSourceReference?.dispose();\n\t\tthis._dataSourceDisposables.clear();\n\n\t\tif (!notebookEditor?.hasModel()) {\n\t\t\tthis._outlineDataSourceReference = undefined;\n\t\t} else {\n\t\t\tthis._outlineDataSourceReference = this._dataSourceDisposables.add(this._instantiationService.invokeFunction((accessor) => accessor.get(INotebookCellOutlineDataSourceFactory).getOrCreate(notebookEditor)));\n\t\t\t// escalate outline data source change events\n\t\t\tthis._dataSourceDisposables.add(this._outlineDataSourceReference.object.onDidChange(() => {\n\t\t\t\tthis._onDidChange.fire({});\n\t\t\t}));\n\t\t}\n\n\t\t// these fields can be passed undefined outlineDataSources. View Providers all handle it accordingly\n\t\tthis._treeDataSource = this._dataSourceDisposables.add(this._instantiationService.createInstance(NotebookOutlinePaneProvider, this._outlineDataSourceReference));\n\t\tthis._quickPickDataSource = this._dataSourceDisposables.add(this._instantiationService.createInstance(NotebookQuickPickProvider, this._outlineDataSourceReference));\n\t\tthis._breadcrumbsDataSource = this._dataSourceDisposables.add(this._instantiationService.createInstance(NotebookBreadcrumbsProvider, this._outlineDataSourceReference));\n\t}\n\n\t/**\n\t * set up the listeners for the outline content, these respond to model changes in the notebook\n\t */\n\tprivate setModelListeners(): void {\n\t\tthis._modelDisposables.clear();\n\t\tif (!this._editor.textModel) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Perhaps this is the first time we're building the outline\n\t\tif (!this.entries.length) {\n\t\t\tthis.computeSymbols();\n\t\t}\n\n\t\t// recompute state when there are notebook content changes\n\t\tthis._modelDisposables.add(this._editor.textModel.onDidChangeContent(contentChanges => {\n\t\t\tif (contentChanges.rawEvents.some(c =>\n\t\t\t\tc.kind === NotebookCellsChangeType.ChangeCellContent ||\n\t\t\t\tc.kind === NotebookCellsChangeType.ChangeCellInternalMetadata ||\n\t\t\t\tc.kind === NotebookCellsChangeType.Move ||\n\t\t\t\tc.kind === NotebookCellsChangeType.ModelChange)) {\n\t\t\t\tthis.delayedRecomputeState();\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate async computeSymbols(cancelToken: CancellationToken = CancellationToken.None) {\n\t\tif (this._target === OutlineTarget.OutlinePane && this.outlineShowCodeCellSymbols) {\n\t\t\t// No need to wait for this, we want the outline to show up quickly.\n\t\t\tvoid this.doComputeSymbols(cancelToken);\n\t\t}\n\t}\n\tpublic async doComputeSymbols(cancelToken: CancellationToken): Promise<void> {\n\t\tawait this._outlineDataSourceReference?.object?.computeFullSymbols(cancelToken);\n\t}\n\tprivate async delayedComputeSymbols() {\n\t\tthis.delayerRecomputeState.cancel();\n\t\tthis.delayerRecomputeActive.cancel();\n\t\tthis.delayerRecomputeSymbols.trigger(() => { this.computeSymbols(); });\n\t}\n\n\tprivate recomputeState() { this._outlineDataSourceReference?.object?.recomputeState(); }\n\tprivate delayedRecomputeState() {\n\t\tthis.delayerRecomputeActive.cancel(); // Active is always recomputed after a recomputing the State.\n\t\tthis.delayerRecomputeState.trigger(() => { this.recomputeState(); });\n\t}\n\n\tprivate recomputeActive() { this._outlineDataSourceReference?.object?.recomputeActive(); }\n\tprivate delayedRecomputeActive() {\n\t\tthis.delayerRecomputeActive.trigger(() => { this.recomputeActive(); });\n\t}\n\n\tasync reveal(entry: OutlineEntry, options: IEditorOptions, sideBySide: boolean): Promise<void> {\n\t\tconst notebookEditorOptions: INotebookEditorOptions = {\n\t\t\t...options,\n\t\t\toverride: this._editor.input?.editorId,\n\t\t\tcellRevealType: CellRevealType.Top,\n\t\t\tselection: entry.position,\n\t\t\tviewState: undefined,\n\t\t};\n\t\tawait this._editorService.openEditor({\n\t\t\tresource: entry.cell.uri,\n\t\t\toptions: notebookEditorOptions,\n\t\t}, sideBySide ? SIDE_GROUP : undefined);\n\t}\n\n\tpreview(entry: OutlineEntry): IDisposable {\n\t\tconst widget = this._editor.getControl();\n\t\tif (!widget) {\n\t\t\treturn Disposable.None;\n\t\t}\n\n\n\t\tif (entry.range) {\n\t\t\tconst range = Range.lift(entry.range);\n\t\t\twidget.revealRangeInCenterIfOutsideViewportAsync(entry.cell, range);\n\t\t} else {\n\t\t\twidget.revealInCenterIfOutsideViewport(entry.cell);\n\t\t}\n\n\t\tconst ids = widget.deltaCellDecorations([], [{\n\t\t\thandle: entry.cell.handle,\n\t\t\toptions: { className: 'nb-symbolHighlight', outputClassName: 'nb-symbolHighlight' }\n\t\t}]);\n\n\t\tlet editorDecorations: ICellModelDecorations[];\n\t\twidget.changeModelDecorations(accessor => {\n\t\t\tif (entry.range) {\n\t\t\t\tconst decorations: IModelDeltaDecoration[] = [\n\t\t\t\t\t{\n\t\t\t\t\t\trange: entry.range, options: {\n\t\t\t\t\t\t\tdescription: 'document-symbols-outline-range-highlight',\n\t\t\t\t\t\t\tclassName: 'rangeHighlight',\n\t\t\t\t\t\t\tisWholeLine: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t];\n\t\t\t\tconst deltaDecoration: ICellModelDeltaDecorations = {\n\t\t\t\t\townerId: entry.cell.handle,\n\t\t\t\t\tdecorations: decorations\n\t\t\t\t};\n\n\t\t\t\teditorDecorations = accessor.deltaDecorations([], [deltaDecoration]);\n\t\t\t}\n\t\t});\n\n\t\treturn toDisposable(() => {\n\t\t\twidget.deltaCellDecorations(ids, []);\n\t\t\tif (editorDecorations?.length) {\n\t\t\t\twidget.changeModelDecorations(accessor => {\n\t\t\t\t\taccessor.deltaDecorations(editorDecorations, []);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t}\n\n\tcaptureViewState(): IDisposable {\n\t\tconst widget = this._editor.getControl();\n\t\tconst viewState = widget?.getEditorViewState();\n\t\treturn toDisposable(() => {\n\t\t\tif (viewState) {\n\t\t\t\twidget?.restoreListViewState(viewState);\n\t\t\t}\n\t\t});\n\t}\n\n\tdispose(): void {\n\t\tthis._onDidChange.dispose();\n\t\tthis._disposables.dispose();\n\t\tthis._modelDisposables.dispose();\n\t\tthis._dataSourceDisposables.dispose();\n\t\tthis._outlineDataSourceReference?.dispose();\n\t}\n}\n\nexport class NotebookOutlineCreator implements IOutlineCreator<NotebookEditor, OutlineEntry> {\n\n\treadonly dispose: () => void;\n\n\tconstructor(\n\t\t@IOutlineService outlineService: IOutlineService,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService\n\t) {\n\t\tconst reg = outlineService.registerOutlineCreator(this);\n\t\tthis.dispose = () => reg.dispose();\n\t}\n\n\tmatches(candidate: IEditorPane): candidate is NotebookEditor {\n\t\treturn candidate.getId() === NotebookEditor.ID;\n\t}\n\n\tasync createOutline(editor: INotebookEditorPane, target: OutlineTarget, cancelToken: CancellationToken): Promise<IOutline<OutlineEntry> | undefined> {\n\t\tconst outline = this._instantiationService.createInstance(NotebookCellOutline, editor, target);\n\t\tif (target === OutlineTarget.QuickPick) {\n\t\t\t// The quickpick creates the outline on demand\n\t\t\t// so we need to ensure the symbols are pre-cached before the entries are syncronously requested\n\t\t\tawait outline.doComputeSymbols(cancelToken);\n\t\t}\n\t\treturn outline;\n\t}\n}\n\nexport const NotebookOutlineContext = {\n\tCellKind: new RawContextKey<CellKind>('notebookCellKind', undefined),\n\tCellHasChildren: new RawContextKey<boolean>('notebookCellHasChildren', false),\n\tCellHasHeader: new RawContextKey<boolean>('notebookCellHasHeader', false),\n\tCellFoldingState: new RawContextKey<CellFoldingState>('notebookCellFoldingState', CellFoldingState.None),\n\tOutlineElementTarget: new RawContextKey<OutlineTarget>('notebookOutlineElementTarget', undefined),\n};\n\nRegistry.as<IWorkbenchContributionsRegistry>(WorkbenchExtensions.Workbench).registerWorkbenchContribution(NotebookOutlineCreator, LifecyclePhase.Eventually);\n\nRegistry.as<IConfigurationRegistry>(ConfigurationExtensions.Configuration).registerConfiguration({\n\tid: 'notebook',\n\torder: 100,\n\ttype: 'object',\n\t'properties': {\n\t\t[NotebookSetting.outlineShowMarkdownHeadersOnly]: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t\tmarkdownDescription: localize('outline.showMarkdownHeadersOnly', \"When enabled, notebook outline will show only markdown cells containing a header.\")\n\t\t},\n\t\t[NotebookSetting.outlineShowCodeCells]: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t\tmarkdownDescription: localize('outline.showCodeCells', \"When enabled, notebook outline shows code cells.\")\n\t\t},\n\t\t[NotebookSetting.outlineShowCodeCellSymbols]: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t\tmarkdownDescription: localize('outline.showCodeCellSymbols', \"When enabled, notebook outline shows code cell symbols. Relies on `#notebook.outline.showCodeCells#` being enabled.\")\n\t\t},\n\t\t[NotebookSetting.breadcrumbsShowCodeCells]: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t\tmarkdownDescription: localize('breadcrumbs.showCodeCells', \"When enabled, notebook breadcrumbs contain code cells.\")\n\t\t},\n\t\t[NotebookSetting.gotoSymbolsAllSymbols]: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t\tmarkdownDescription: localize('notebook.gotoSymbols.showAllSymbols', \"When enabled, the Go to Symbol Quick Pick will display full code symbols from the notebook, as well as Markdown headers.\")\n\t\t},\n\t}\n});\n\nMenuRegistry.appendMenuItem(MenuId.ViewTitle, {\n\tsubmenu: MenuId.NotebookOutlineFilter,\n\ttitle: localize('filter', \"Filter Entries\"),\n\ticon: Codicon.filter,\n\tgroup: 'navigation',\n\torder: -1,\n\twhen: ContextKeyExpr.and(ContextKeyExpr.equals('view', IOutlinePane.Id), NOTEBOOK_IS_ACTIVE_EDITOR),\n});\n\nregisterAction2(class ToggleShowMarkdownHeadersOnly extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'notebook.outline.toggleShowMarkdownHeadersOnly',\n\t\t\ttitle: localize('toggleShowMarkdownHeadersOnly', \"Markdown Headers Only\"),\n\t\t\tf1: false,\n\t\t\ttoggled: {\n\t\t\t\tcondition: ContextKeyExpr.equals('config.notebook.outline.showMarkdownHeadersOnly', true)\n\t\t\t},\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.NotebookOutlineFilter,\n\t\t\t\tgroup: '0_markdown_cells',\n\t\t\t}\n\t\t});\n\t}\n\n\trun(accessor: ServicesAccessor, ...args: unknown[]) {\n\t\tconst configurationService = accessor.get(IConfigurationService);\n\t\tconst showMarkdownHeadersOnly = configurationService.getValue<boolean>(NotebookSetting.outlineShowMarkdownHeadersOnly);\n\t\tconfigurationService.updateValue(NotebookSetting.outlineShowMarkdownHeadersOnly, !showMarkdownHeadersOnly);\n\t}\n});\n\nregisterAction2(class ToggleCodeCellEntries extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'notebook.outline.toggleCodeCells',\n\t\t\ttitle: localize('toggleCodeCells', \"Code Cells\"),\n\t\t\tf1: false,\n\t\t\ttoggled: {\n\t\t\t\tcondition: ContextKeyExpr.equals('config.notebook.outline.showCodeCells', true)\n\t\t\t},\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.NotebookOutlineFilter,\n\t\t\t\torder: 1,\n\t\t\t\tgroup: '1_code_cells',\n\t\t\t}\n\t\t});\n\t}\n\n\trun(accessor: ServicesAccessor, ...args: unknown[]) {\n\t\tconst configurationService = accessor.get(IConfigurationService);\n\t\tconst showCodeCells = configurationService.getValue<boolean>(NotebookSetting.outlineShowCodeCells);\n\t\tconfigurationService.updateValue(NotebookSetting.outlineShowCodeCells, !showCodeCells);\n\t}\n});\n\nregisterAction2(class ToggleCodeCellSymbolEntries extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'notebook.outline.toggleCodeCellSymbols',\n\t\t\ttitle: localize('toggleCodeCellSymbols', \"Code Cell Symbols\"),\n\t\t\tf1: false,\n\t\t\ttoggled: {\n\t\t\t\tcondition: ContextKeyExpr.equals('config.notebook.outline.showCodeCellSymbols', true)\n\t\t\t},\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.NotebookOutlineFilter,\n\t\t\t\torder: 2,\n\t\t\t\tgroup: '1_code_cells',\n\t\t\t}\n\t\t});\n\t}\n\n\trun(accessor: ServicesAccessor, ...args: unknown[]) {\n\t\tconst configurationService = accessor.get(IConfigurationService);\n\t\tconst showCodeCellSymbols = configurationService.getValue<boolean>(NotebookSetting.outlineShowCodeCellSymbols);\n\t\tconfigurationService.updateValue(NotebookSetting.outlineShowCodeCellSymbols, !showCodeCellSymbols);\n\t}\n});\n"]}