{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/notebook/browser/contrib/marker/markerProvider.ts","vs/workbench/contrib/notebook/browser/contrib/marker/markerProvider.ts"],"names":[],"mappings":"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","file":"markerProvider.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { URI } from '../../../../../../base/common/uri.js';\nimport { WorkbenchPhase, registerWorkbenchContribution2 } from '../../../../../common/contributions.js';\nimport { IMarkerListProvider, MarkerList, IMarkerNavigationService } from '../../../../../../editor/contrib/gotoError/browser/markerNavigationService.js';\nimport { CellUri } from '../../../common/notebookCommon.js';\nimport { IMarkerService, MarkerSeverity } from '../../../../../../platform/markers/common/markers.js';\nimport { IConfigurationService } from '../../../../../../platform/configuration/common/configuration.js';\nimport { Disposable, IDisposable } from '../../../../../../base/common/lifecycle.js';\nimport { INotebookDeltaDecoration, INotebookEditor, INotebookEditorContribution, NotebookOverviewRulerLane } from '../../notebookBrowser.js';\nimport { registerNotebookContribution } from '../../notebookEditorExtensions.js';\nimport { throttle } from '../../../../../../base/common/decorators.js';\nimport { editorErrorForeground, editorWarningForeground } from '../../../../../../platform/theme/common/colorRegistry.js';\nimport { isEqual } from '../../../../../../base/common/resources.js';\n\nclass MarkerListProvider implements IMarkerListProvider {\n\n\tstatic readonly ID = 'workbench.contrib.markerListProvider';\n\n\tprivate readonly _dispoables: IDisposable;\n\n\tconstructor(\n\t\t@IMarkerService private readonly _markerService: IMarkerService,\n\t\t@IMarkerNavigationService markerNavigation: IMarkerNavigationService,\n\t\t@IConfigurationService private readonly _configService: IConfigurationService\n\t) {\n\t\tthis._dispoables = markerNavigation.registerProvider(this);\n\t}\n\n\tdispose() {\n\t\tthis._dispoables.dispose();\n\t}\n\n\tgetMarkerList(resource: URI | undefined): MarkerList | undefined {\n\t\tif (!resource) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst data = CellUri.parse(resource);\n\t\tif (!data) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn new MarkerList(uri => {\n\t\t\tconst otherData = CellUri.parse(uri);\n\t\t\treturn otherData?.notebook.toString() === data.notebook.toString();\n\t\t}, this._markerService, this._configService);\n\t}\n}\n\nclass NotebookMarkerDecorationContribution extends Disposable implements INotebookEditorContribution {\n\tstatic id: string = 'workbench.notebook.markerDecoration';\n\tprivate _markersOverviewRulerDecorations: string[] = [];\n\tconstructor(\n\t\tprivate readonly _notebookEditor: INotebookEditor,\n\t\t@IMarkerService private readonly _markerService: IMarkerService\n\t) {\n\t\tsuper();\n\n\t\tthis._update();\n\t\tthis._register(this._notebookEditor.onDidChangeModel(() => this._update()));\n\t\tthis._register(this._markerService.onMarkerChanged(e => {\n\t\t\tif (e.some(uri => this._notebookEditor.getCellsInRange().some(cell => isEqual(cell.uri, uri)))) {\n\t\t\t\tthis._update();\n\t\t\t}\n\t\t}));\n\t}\n\n\t@throttle(100)\n\tprivate _update() {\n\t\tif (!this._notebookEditor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst cellDecorations: INotebookDeltaDecoration[] = [];\n\t\tthis._notebookEditor.getCellsInRange().forEach(cell => {\n\t\t\tconst marker = this._markerService.read({ resource: cell.uri, severities: MarkerSeverity.Error | MarkerSeverity.Warning });\n\t\t\tmarker.forEach(m => {\n\t\t\t\tconst color = m.severity === MarkerSeverity.Error ? editorErrorForeground : editorWarningForeground;\n\t\t\t\tconst range = { startLineNumber: m.startLineNumber, startColumn: m.startColumn, endLineNumber: m.endLineNumber, endColumn: m.endColumn };\n\t\t\t\tcellDecorations.push({\n\t\t\t\t\thandle: cell.handle,\n\t\t\t\t\toptions: {\n\t\t\t\t\t\toverviewRuler: {\n\t\t\t\t\t\t\tcolor: color,\n\t\t\t\t\t\t\tmodelRanges: [range],\n\t\t\t\t\t\t\tincludeOutput: false,\n\t\t\t\t\t\t\tposition: NotebookOverviewRulerLane.Right\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\n\t\tthis._markersOverviewRulerDecorations = this._notebookEditor.deltaCellDecorations(this._markersOverviewRulerDecorations, cellDecorations);\n\t}\n}\n\nregisterWorkbenchContribution2(MarkerListProvider.ID, MarkerListProvider, WorkbenchPhase.BlockRestore);\n\nregisterNotebookContribution(NotebookMarkerDecorationContribution.id, NotebookMarkerDecorationContribution);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { URI } from '../../../../../../base/common/uri.js';\nimport { WorkbenchPhase, registerWorkbenchContribution2 } from '../../../../../common/contributions.js';\nimport { IMarkerListProvider, MarkerList, IMarkerNavigationService } from '../../../../../../editor/contrib/gotoError/browser/markerNavigationService.js';\nimport { CellUri } from '../../../common/notebookCommon.js';\nimport { IMarkerService, MarkerSeverity } from '../../../../../../platform/markers/common/markers.js';\nimport { IConfigurationService } from '../../../../../../platform/configuration/common/configuration.js';\nimport { Disposable, IDisposable } from '../../../../../../base/common/lifecycle.js';\nimport { INotebookDeltaDecoration, INotebookEditor, INotebookEditorContribution, NotebookOverviewRulerLane } from '../../notebookBrowser.js';\nimport { registerNotebookContribution } from '../../notebookEditorExtensions.js';\nimport { throttle } from '../../../../../../base/common/decorators.js';\nimport { editorErrorForeground, editorWarningForeground } from '../../../../../../platform/theme/common/colorRegistry.js';\nimport { isEqual } from '../../../../../../base/common/resources.js';\n\nclass MarkerListProvider implements IMarkerListProvider {\n\n\tstatic readonly ID = 'workbench.contrib.markerListProvider';\n\n\tprivate readonly _dispoables: IDisposable;\n\n\tconstructor(\n\t\t@IMarkerService private readonly _markerService: IMarkerService,\n\t\t@IMarkerNavigationService markerNavigation: IMarkerNavigationService,\n\t\t@IConfigurationService private readonly _configService: IConfigurationService\n\t) {\n\t\tthis._dispoables = markerNavigation.registerProvider(this);\n\t}\n\n\tdispose() {\n\t\tthis._dispoables.dispose();\n\t}\n\n\tgetMarkerList(resource: URI | undefined): MarkerList | undefined {\n\t\tif (!resource) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst data = CellUri.parse(resource);\n\t\tif (!data) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn new MarkerList(uri => {\n\t\t\tconst otherData = CellUri.parse(uri);\n\t\t\treturn otherData?.notebook.toString() === data.notebook.toString();\n\t\t}, this._markerService, this._configService);\n\t}\n}\n\nclass NotebookMarkerDecorationContribution extends Disposable implements INotebookEditorContribution {\n\tstatic id: string = 'workbench.notebook.markerDecoration';\n\tprivate _markersOverviewRulerDecorations: string[] = [];\n\tconstructor(\n\t\tprivate readonly _notebookEditor: INotebookEditor,\n\t\t@IMarkerService private readonly _markerService: IMarkerService\n\t) {\n\t\tsuper();\n\n\t\tthis._update();\n\t\tthis._register(this._notebookEditor.onDidChangeModel(() => this._update()));\n\t\tthis._register(this._markerService.onMarkerChanged(e => {\n\t\t\tif (e.some(uri => this._notebookEditor.getCellsInRange().some(cell => isEqual(cell.uri, uri)))) {\n\t\t\t\tthis._update();\n\t\t\t}\n\t\t}));\n\t}\n\n\t@throttle(100)\n\tprivate _update() {\n\t\tif (!this._notebookEditor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst cellDecorations: INotebookDeltaDecoration[] = [];\n\t\tthis._notebookEditor.getCellsInRange().forEach(cell => {\n\t\t\tconst marker = this._markerService.read({ resource: cell.uri, severities: MarkerSeverity.Error | MarkerSeverity.Warning });\n\t\t\tmarker.forEach(m => {\n\t\t\t\tconst color = m.severity === MarkerSeverity.Error ? editorErrorForeground : editorWarningForeground;\n\t\t\t\tconst range = { startLineNumber: m.startLineNumber, startColumn: m.startColumn, endLineNumber: m.endLineNumber, endColumn: m.endColumn };\n\t\t\t\tcellDecorations.push({\n\t\t\t\t\thandle: cell.handle,\n\t\t\t\t\toptions: {\n\t\t\t\t\t\toverviewRuler: {\n\t\t\t\t\t\t\tcolor: color,\n\t\t\t\t\t\t\tmodelRanges: [range],\n\t\t\t\t\t\t\tincludeOutput: false,\n\t\t\t\t\t\t\tposition: NotebookOverviewRulerLane.Right\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\n\t\tthis._markersOverviewRulerDecorations = this._notebookEditor.deltaCellDecorations(this._markersOverviewRulerDecorations, cellDecorations);\n\t}\n}\n\nregisterWorkbenchContribution2(MarkerListProvider.ID, MarkerListProvider, WorkbenchPhase.BlockRestore);\n\nregisterNotebookContribution(NotebookMarkerDecorationContribution.id, NotebookMarkerDecorationContribution);\n"]}