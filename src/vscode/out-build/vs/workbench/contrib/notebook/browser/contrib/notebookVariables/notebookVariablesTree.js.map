{"version":3,"sources":["vs/workbench/contrib/notebook/browser/contrib/notebookVariables/notebookVariablesTree.ts"],"names":[],"mappings":"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","file":"notebookVariablesTree.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../../../base/browser/dom.js';\nimport { IListVirtualDelegate } from '../../../../../../base/browser/ui/list/list.js';\nimport { IListAccessibilityProvider } from '../../../../../../base/browser/ui/list/listWidget.js';\nimport { ITreeNode, ITreeRenderer } from '../../../../../../base/browser/ui/tree/tree.js';\nimport { FuzzyScore } from '../../../../../../base/common/filters.js';\nimport { DisposableStore } from '../../../../../../base/common/lifecycle.js';\nimport { observableValue } from '../../../../../../base/common/observable.js';\nimport { ILocalizedString, localize, localize2 } from '../../../../../../nls.js';\nimport { IInstantiationService } from '../../../../../../platform/instantiation/common/instantiation.js';\nimport { WorkbenchObjectTree } from '../../../../../../platform/list/browser/listService.js';\nimport { DebugExpressionRenderer } from '../../../../debug/browser/debugExpressionRenderer.js';\nimport { INotebookVariableElement } from './notebookVariablesDataSource.js';\n\nconst $ = dom.$;\nconst MAX_VALUE_RENDER_LENGTH_IN_VIEWLET = 1024;\n\nexport const NOTEBOOK_TITLE: ILocalizedString = localize2('notebook.notebookVariables', \"Notebook Variables\");\nexport const REPL_TITLE: ILocalizedString = localize2('notebook.ReplVariables', \"REPL Variables\");\n\nexport class NotebookVariablesTree extends WorkbenchObjectTree<INotebookVariableElement> { }\n\nexport class NotebookVariablesDelegate implements IListVirtualDelegate<INotebookVariableElement> {\n\n\tgetHeight(element: INotebookVariableElement): number {\n\t\treturn 22;\n\t}\n\n\tgetTemplateId(element: INotebookVariableElement): string {\n\t\treturn NotebookVariableRenderer.ID;\n\t}\n}\n\n\nexport interface IVariableTemplateData {\n\texpression: HTMLElement;\n\tname: HTMLSpanElement;\n\tvalue: HTMLSpanElement;\n\telementDisposables: DisposableStore;\n}\n\nexport class NotebookVariableRenderer implements ITreeRenderer<INotebookVariableElement, FuzzyScore, IVariableTemplateData> {\n\n\tprivate expressionRenderer: DebugExpressionRenderer;\n\n\tstatic readonly ID = 'variableElement';\n\n\tget templateId(): string {\n\t\treturn NotebookVariableRenderer.ID;\n\t}\n\n\tconstructor(@IInstantiationService instantiationService: IInstantiationService) {\n\t\tthis.expressionRenderer = instantiationService.createInstance(DebugExpressionRenderer);\n\t}\n\n\trenderTemplate(container: HTMLElement): IVariableTemplateData {\n\t\tconst expression = dom.append(container, $('.expression'));\n\t\tconst name = dom.append(expression, $('span.name'));\n\t\tconst value = dom.append(expression, $('span.value'));\n\n\t\tconst template: IVariableTemplateData = { expression, name, value, elementDisposables: new DisposableStore() };\n\n\t\treturn template;\n\t}\n\n\trenderElement(element: ITreeNode<INotebookVariableElement, FuzzyScore>, _index: number, data: IVariableTemplateData): void {\n\t\tconst text = element.element.value.trim() !== '' ? `${element.element.name}:` : element.element.name;\n\t\tdata.name.textContent = text;\n\t\tdata.name.title = element.element.type ?? '';\n\n\t\tdata.elementDisposables.add(this.expressionRenderer.renderValue(data.value, element.element, {\n\t\t\tcolorize: true,\n\t\t\tmaxValueLength: MAX_VALUE_RENDER_LENGTH_IN_VIEWLET,\n\t\t\tsession: undefined,\n\t\t}));\n\t}\n\n\tdisposeElement(element: ITreeNode<INotebookVariableElement, FuzzyScore>, index: number, templateData: IVariableTemplateData): void {\n\t\ttemplateData.elementDisposables.clear();\n\t}\n\n\n\tdisposeTemplate(templateData: IVariableTemplateData): void {\n\t\ttemplateData.elementDisposables.dispose();\n\t}\n}\n\nexport class NotebookVariableAccessibilityProvider implements IListAccessibilityProvider<INotebookVariableElement> {\n\n\tprivate _widgetAriaLabel = observableValue('widgetAriaLabel', NOTEBOOK_TITLE.value);\n\n\tgetWidgetAriaLabel() {\n\t\treturn this._widgetAriaLabel;\n\t}\n\n\tupdateWidgetAriaLabel(label: string): void {\n\t\tthis._widgetAriaLabel.set(label, undefined);\n\t}\n\n\tgetAriaLabel(element: INotebookVariableElement): string {\n\t\treturn localize('notebookVariableAriaLabel', \"Variable {0}, value {1}\", element.name, element.value);\n\t}\n}\n"]}