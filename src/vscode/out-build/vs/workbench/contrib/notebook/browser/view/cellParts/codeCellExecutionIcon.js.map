{"version":3,"sources":["vs/workbench/contrib/notebook/browser/view/cellParts/codeCellExecutionIcon.ts"],"names":[],"mappings":"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","file":"codeCellExecutionIcon.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as DOM from '../../../../../../base/browser/dom.js';\nimport { renderLabelWithIcons } from '../../../../../../base/browser/ui/iconLabel/iconLabels.js';\nimport { Disposable } from '../../../../../../base/common/lifecycle.js';\nimport { localize } from '../../../../../../nls.js';\nimport { ThemeIcon } from '../../../../../../base/common/themables.js';\nimport { ICellViewModel, INotebookEditorDelegate } from '../../notebookBrowser.js';\nimport { errorStateIcon, executingStateIcon, pendingStateIcon, successStateIcon } from '../../notebookIcons.js';\nimport { NotebookCellExecutionState, NotebookCellInternalMetadata } from '../../../common/notebookCommon.js';\nimport { INotebookCellExecution, INotebookExecutionStateService, NotebookExecutionType } from '../../../common/notebookExecutionStateService.js';\n\ninterface IExecutionItem {\n\ttext: string;\n\ttooltip?: string;\n}\n\nexport class CollapsedCodeCellExecutionIcon extends Disposable {\n\tprivate _visible = false;\n\n\tconstructor(\n\t\t_notebookEditor: INotebookEditorDelegate,\n\t\tprivate readonly _cell: ICellViewModel,\n\t\tprivate readonly _element: HTMLElement,\n\t\t@INotebookExecutionStateService private _executionStateService: INotebookExecutionStateService,\n\t) {\n\t\tsuper();\n\n\t\tthis._update();\n\t\tthis._register(this._executionStateService.onDidChangeExecution(e => {\n\t\t\tif (e.type === NotebookExecutionType.cell && e.affectsCell(this._cell.uri)) {\n\t\t\t\tthis._update();\n\t\t\t}\n\t\t}));\n\t\tthis._register(this._cell.model.onDidChangeInternalMetadata(() => this._update()));\n\t}\n\n\tsetVisibility(visible: boolean): void {\n\t\tthis._visible = visible;\n\t\tthis._update();\n\t}\n\n\tprivate _update() {\n\t\tif (!this._visible) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst runState = this._executionStateService.getCellExecution(this._cell.uri);\n\t\tconst item = this._getItemForState(runState, this._cell.model.internalMetadata);\n\t\tif (item) {\n\t\t\tthis._element.style.display = '';\n\t\t\tDOM.reset(this._element, ...renderLabelWithIcons(item.text));\n\t\t\tthis._element.title = item.tooltip ?? '';\n\t\t} else {\n\t\t\tthis._element.style.display = 'none';\n\t\t\tDOM.reset(this._element);\n\t\t}\n\t}\n\n\tprivate _getItemForState(runState: INotebookCellExecution | undefined, internalMetadata: NotebookCellInternalMetadata): IExecutionItem | undefined {\n\t\tconst state = runState?.state;\n\t\tconst { lastRunSuccess } = internalMetadata;\n\t\tif (!state && lastRunSuccess) {\n\t\t\treturn {\n\t\t\t\ttext: `$(${successStateIcon.id})`,\n\t\t\t\ttooltip: localize('notebook.cell.status.success', \"Success\"),\n\t\t\t};\n\t\t} else if (!state && lastRunSuccess === false) {\n\t\t\treturn {\n\t\t\t\ttext: `$(${errorStateIcon.id})`,\n\t\t\t\ttooltip: localize('notebook.cell.status.failure', \"Failure\"),\n\t\t\t};\n\t\t} else if (state === NotebookCellExecutionState.Pending || state === NotebookCellExecutionState.Unconfirmed) {\n\t\t\treturn {\n\t\t\t\ttext: `$(${pendingStateIcon.id})`,\n\t\t\t\ttooltip: localize('notebook.cell.status.pending', \"Pending\"),\n\t\t\t};\n\t\t} else if (state === NotebookCellExecutionState.Executing) {\n\t\t\tconst icon = ThemeIcon.modify(executingStateIcon, 'spin');\n\t\t\treturn {\n\t\t\t\ttext: `$(${icon.id})`,\n\t\t\t\ttooltip: localize('notebook.cell.status.executing', \"Executing\"),\n\t\t\t};\n\t\t}\n\n\t\treturn;\n\t}\n}\n"]}