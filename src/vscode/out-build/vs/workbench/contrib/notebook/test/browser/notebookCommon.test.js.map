{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/notebook/test/browser/notebookCommon.test.ts","vs/workbench/contrib/notebook/test/browser/notebookCommon.test.ts"],"names":[],"mappings":"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","file":"notebookCommon.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { Mimes } from '../../../../../base/common/mime.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { ILanguageService } from '../../../../../editor/common/languages/language.js';\nimport { TestInstantiationService } from '../../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { CellKind, CellUri, diff, MimeTypeDisplayOrder, NotebookWorkingCopyTypeIdentifier } from '../../common/notebookCommon.js';\nimport { cellIndexesToRanges, cellRangesToIndexes, reduceCellRanges } from '../../common/notebookRange.js';\nimport { setupInstantiationService, TestCell } from './testNotebookEditor.js';\n\nsuite('NotebookCommon', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tlet disposables: DisposableStore;\n\tlet instantiationService: TestInstantiationService;\n\tlet languageService: ILanguageService;\n\n\tsetup(() => {\n\t\tdisposables = new DisposableStore();\n\t\tinstantiationService = setupInstantiationService(disposables);\n\t\tlanguageService = instantiationService.get(ILanguageService);\n\t});\n\n\ttest('sortMimeTypes default orders', function () {\n\t\tassert.deepStrictEqual(new MimeTypeDisplayOrder().sort(\n\t\t\t[\n\t\t\t\t'application/json',\n\t\t\t\t'application/javascript',\n\t\t\t\t'text/html',\n\t\t\t\t'image/svg+xml',\n\t\t\t\tMimes.latex,\n\t\t\t\tMimes.markdown,\n\t\t\t\t'image/png',\n\t\t\t\t'image/jpeg',\n\t\t\t\tMimes.text\n\t\t\t]),\n\t\t\t[\n\t\t\t\t'application/json',\n\t\t\t\t'application/javascript',\n\t\t\t\t'text/html',\n\t\t\t\t'image/svg+xml',\n\t\t\t\tMimes.latex,\n\t\t\t\tMimes.markdown,\n\t\t\t\t'image/png',\n\t\t\t\t'image/jpeg',\n\t\t\t\tMimes.text\n\t\t\t]\n\t\t);\n\n\t\tassert.deepStrictEqual(new MimeTypeDisplayOrder().sort(\n\t\t\t[\n\t\t\t\t'application/json',\n\t\t\t\tMimes.latex,\n\t\t\t\tMimes.markdown,\n\t\t\t\t'application/javascript',\n\t\t\t\t'text/html',\n\t\t\t\tMimes.text,\n\t\t\t\t'image/png',\n\t\t\t\t'image/jpeg',\n\t\t\t\t'image/svg+xml'\n\t\t\t]),\n\t\t\t[\n\t\t\t\t'application/json',\n\t\t\t\t'application/javascript',\n\t\t\t\t'text/html',\n\t\t\t\t'image/svg+xml',\n\t\t\t\tMimes.latex,\n\t\t\t\tMimes.markdown,\n\t\t\t\t'image/png',\n\t\t\t\t'image/jpeg',\n\t\t\t\tMimes.text\n\t\t\t]\n\t\t);\n\n\t\tassert.deepStrictEqual(new MimeTypeDisplayOrder().sort(\n\t\t\t[\n\t\t\t\tMimes.markdown,\n\t\t\t\t'application/json',\n\t\t\t\tMimes.text,\n\t\t\t\t'image/jpeg',\n\t\t\t\t'application/javascript',\n\t\t\t\t'text/html',\n\t\t\t\t'image/png',\n\t\t\t\t'image/svg+xml'\n\t\t\t]),\n\t\t\t[\n\t\t\t\t'application/json',\n\t\t\t\t'application/javascript',\n\t\t\t\t'text/html',\n\t\t\t\t'image/svg+xml',\n\t\t\t\tMimes.markdown,\n\t\t\t\t'image/png',\n\t\t\t\t'image/jpeg',\n\t\t\t\tMimes.text\n\t\t\t]\n\t\t);\n\n\t\tdisposables.dispose();\n\t});\n\n\n\n\ttest('sortMimeTypes user orders', function () {\n\t\tassert.deepStrictEqual(\n\t\t\tnew MimeTypeDisplayOrder([\n\t\t\t\t'image/png',\n\t\t\t\tMimes.text,\n\t\t\t\tMimes.markdown,\n\t\t\t\t'text/html',\n\t\t\t\t'application/json'\n\t\t\t]).sort(\n\t\t\t\t[\n\t\t\t\t\t'application/json',\n\t\t\t\t\t'application/javascript',\n\t\t\t\t\t'text/html',\n\t\t\t\t\t'image/svg+xml',\n\t\t\t\t\tMimes.markdown,\n\t\t\t\t\t'image/png',\n\t\t\t\t\t'image/jpeg',\n\t\t\t\t\tMimes.text\n\t\t\t\t]\n\t\t\t),\n\t\t\t[\n\t\t\t\t'image/png',\n\t\t\t\tMimes.text,\n\t\t\t\tMimes.markdown,\n\t\t\t\t'text/html',\n\t\t\t\t'application/json',\n\t\t\t\t'application/javascript',\n\t\t\t\t'image/svg+xml',\n\t\t\t\t'image/jpeg',\n\t\t\t]\n\t\t);\n\n\t\tassert.deepStrictEqual(\n\t\t\tnew MimeTypeDisplayOrder([\n\t\t\t\t'application/json',\n\t\t\t\t'text/html',\n\t\t\t\t'text/html',\n\t\t\t\tMimes.markdown,\n\t\t\t\t'application/json'\n\t\t\t]).sort([\n\t\t\t\tMimes.markdown,\n\t\t\t\t'application/json',\n\t\t\t\tMimes.text,\n\t\t\t\t'application/javascript',\n\t\t\t\t'text/html',\n\t\t\t\t'image/svg+xml',\n\t\t\t\t'image/jpeg',\n\t\t\t\t'image/png'\n\t\t\t]),\n\t\t\t[\n\t\t\t\t'application/json',\n\t\t\t\t'text/html',\n\t\t\t\tMimes.markdown,\n\t\t\t\t'application/javascript',\n\t\t\t\t'image/svg+xml',\n\t\t\t\t'image/png',\n\t\t\t\t'image/jpeg',\n\t\t\t\tMimes.text\n\t\t\t]\n\t\t);\n\n\t\tdisposables.dispose();\n\t});\n\n\ttest('prioritizes mimetypes', () => {\n\t\tconst m = new MimeTypeDisplayOrder([\n\t\t\tMimes.markdown,\n\t\t\t'text/html',\n\t\t\t'application/json'\n\t\t]);\n\t\tassert.deepStrictEqual(m.toArray(), [Mimes.markdown, 'text/html', 'application/json']);\n\n\t\t// no-op if already in the right order\n\t\tm.prioritize('text/html', ['application/json']);\n\t\tassert.deepStrictEqual(m.toArray(), [Mimes.markdown, 'text/html', 'application/json']);\n\n\t\t// sorts to highest priority\n\t\tm.prioritize('text/html', ['application/json', Mimes.markdown]);\n\t\tassert.deepStrictEqual(m.toArray(), ['text/html', Mimes.markdown, 'application/json']);\n\n\t\t// adds in new type\n\t\tm.prioritize('text/plain', ['application/json', Mimes.markdown]);\n\t\tassert.deepStrictEqual(m.toArray(), ['text/plain', 'text/html', Mimes.markdown, 'application/json']);\n\n\t\t// moves multiple, preserves order\n\t\tm.prioritize(Mimes.markdown, ['text/plain', 'application/json', Mimes.markdown]);\n\t\tassert.deepStrictEqual(m.toArray(), ['text/html', Mimes.markdown, 'text/plain', 'application/json']);\n\n\t\t// deletes multiple\n\t\tm.prioritize('text/plain', ['text/plain', 'text/html', Mimes.markdown]);\n\t\tassert.deepStrictEqual(m.toArray(), ['text/plain', 'text/html', Mimes.markdown, 'application/json']);\n\n\t\t// handles multiple mimetypes, unknown mimetype\n\t\tconst m2 = new MimeTypeDisplayOrder(['a', 'b']);\n\t\tm2.prioritize('b', ['a', 'b', 'a', 'q']);\n\t\tassert.deepStrictEqual(m2.toArray(), ['b', 'a']);\n\n\t\tdisposables.dispose();\n\t});\n\n\ttest('sortMimeTypes glob', function () {\n\t\tassert.deepStrictEqual(\n\t\t\tnew MimeTypeDisplayOrder([\n\t\t\t\t'application/vnd-vega*',\n\t\t\t\tMimes.markdown,\n\t\t\t\t'text/html',\n\t\t\t\t'application/json'\n\t\t\t]).sort(\n\t\t\t\t[\n\t\t\t\t\t'application/json',\n\t\t\t\t\t'application/javascript',\n\t\t\t\t\t'text/html',\n\t\t\t\t\t'application/vnd-plot.json',\n\t\t\t\t\t'application/vnd-vega.json'\n\t\t\t\t]\n\t\t\t),\n\t\t\t[\n\t\t\t\t'application/vnd-vega.json',\n\t\t\t\t'text/html',\n\t\t\t\t'application/json',\n\t\t\t\t'application/vnd-plot.json',\n\t\t\t\t'application/javascript',\n\t\t\t],\n\t\t\t'glob *'\n\t\t);\n\n\t\tdisposables.dispose();\n\t});\n\n\ttest('diff cells', function () {\n\t\tconst cells: TestCell[] = [];\n\n\t\tfor (let i = 0; i < 5; i++) {\n\t\t\tcells.push(\n\t\t\t\tdisposables.add(new TestCell('notebook', i, `var a = ${i};`, 'javascript', CellKind.Code, [], languageService))\n\t\t\t);\n\t\t}\n\n\t\tassert.deepStrictEqual(diff<TestCell>(cells, [], (cell) => {\n\t\t\treturn cells.indexOf(cell) > -1;\n\t\t}), [\n\t\t\t{\n\t\t\t\tstart: 0,\n\t\t\t\tdeleteCount: 5,\n\t\t\t\ttoInsert: []\n\t\t\t}\n\t\t]\n\t\t);\n\n\t\tassert.deepStrictEqual(diff<TestCell>([], cells, (cell) => {\n\t\t\treturn false;\n\t\t}), [\n\t\t\t{\n\t\t\t\tstart: 0,\n\t\t\t\tdeleteCount: 0,\n\t\t\t\ttoInsert: cells\n\t\t\t}\n\t\t]\n\t\t);\n\n\t\tconst cellA = disposables.add(new TestCell('notebook', 6, 'var a = 6;', 'javascript', CellKind.Code, [], languageService));\n\t\tconst cellB = disposables.add(new TestCell('notebook', 7, 'var a = 7;', 'javascript', CellKind.Code, [], languageService));\n\n\t\tconst modifiedCells = [\n\t\t\tcells[0],\n\t\t\tcells[1],\n\t\t\tcellA,\n\t\t\tcells[3],\n\t\t\tcellB,\n\t\t\tcells[4]\n\t\t];\n\n\t\tconst splices = diff<TestCell>(cells, modifiedCells, (cell) => {\n\t\t\treturn cells.indexOf(cell) > -1;\n\t\t});\n\n\t\tassert.deepStrictEqual(splices,\n\t\t\t[\n\t\t\t\t{\n\t\t\t\t\tstart: 2,\n\t\t\t\t\tdeleteCount: 1,\n\t\t\t\t\ttoInsert: [cellA]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tstart: 4,\n\t\t\t\t\tdeleteCount: 0,\n\t\t\t\t\ttoInsert: [cellB]\n\t\t\t\t}\n\t\t\t]\n\t\t);\n\n\t\tdisposables.dispose();\n\t});\n\n});\n\n\nsuite('CellUri', function () {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('parse, generate (file-scheme)', function () {\n\n\t\tconst nb = URI.parse('file:///bar/følder/file.nb');\n\t\tconst id = 17;\n\n\t\tconst data = CellUri.generate(nb, id);\n\t\tconst actual = CellUri.parse(data);\n\t\tassert.ok(Boolean(actual));\n\t\tassert.strictEqual(actual?.handle, id);\n\t\tassert.strictEqual(actual?.notebook.toString(), nb.toString());\n\t});\n\n\ttest('parse, generate (foo-scheme)', function () {\n\n\t\tconst nb = URI.parse('foo:///bar/følder/file.nb');\n\t\tconst id = 17;\n\n\t\tconst data = CellUri.generate(nb, id);\n\t\tconst actual = CellUri.parse(data);\n\t\tassert.ok(Boolean(actual));\n\t\tassert.strictEqual(actual?.handle, id);\n\t\tassert.strictEqual(actual?.notebook.toString(), nb.toString());\n\t});\n\n\ttest('stable order', function () {\n\n\t\tconst nb = URI.parse('foo:///bar/følder/file.nb');\n\t\tconst handles = [1, 2, 9, 10, 88, 100, 666666, 7777777];\n\n\t\tconst uris = handles.map(h => CellUri.generate(nb, h)).sort();\n\n\t\tconst strUris = uris.map(String).sort();\n\t\tconst parsedUris = strUris.map(s => URI.parse(s));\n\n\t\tconst actual = parsedUris.map(u => CellUri.parse(u)?.handle);\n\n\t\tassert.deepStrictEqual(actual, handles);\n\t});\n});\n\n\nsuite('CellRange', function () {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('Cell range to index', function () {\n\t\tassert.deepStrictEqual(cellRangesToIndexes([]), []);\n\t\tassert.deepStrictEqual(cellRangesToIndexes([{ start: 0, end: 0 }]), []);\n\t\tassert.deepStrictEqual(cellRangesToIndexes([{ start: 0, end: 1 }]), [0]);\n\t\tassert.deepStrictEqual(cellRangesToIndexes([{ start: 0, end: 2 }]), [0, 1]);\n\t\tassert.deepStrictEqual(cellRangesToIndexes([{ start: 0, end: 2 }, { start: 2, end: 3 }]), [0, 1, 2]);\n\t\tassert.deepStrictEqual(cellRangesToIndexes([{ start: 0, end: 2 }, { start: 3, end: 4 }]), [0, 1, 3]);\n\t});\n\n\ttest('Cell index to range', function () {\n\t\tassert.deepStrictEqual(cellIndexesToRanges([]), []);\n\t\tassert.deepStrictEqual(cellIndexesToRanges([0]), [{ start: 0, end: 1 }]);\n\t\tassert.deepStrictEqual(cellIndexesToRanges([0, 1]), [{ start: 0, end: 2 }]);\n\t\tassert.deepStrictEqual(cellIndexesToRanges([0, 1, 2]), [{ start: 0, end: 3 }]);\n\t\tassert.deepStrictEqual(cellIndexesToRanges([0, 1, 3]), [{ start: 0, end: 2 }, { start: 3, end: 4 }]);\n\n\t\tassert.deepStrictEqual(cellIndexesToRanges([1, 0]), [{ start: 0, end: 2 }]);\n\t\tassert.deepStrictEqual(cellIndexesToRanges([1, 2, 0]), [{ start: 0, end: 3 }]);\n\t\tassert.deepStrictEqual(cellIndexesToRanges([3, 1, 0]), [{ start: 0, end: 2 }, { start: 3, end: 4 }]);\n\n\t\tassert.deepStrictEqual(cellIndexesToRanges([9, 10]), [{ start: 9, end: 11 }]);\n\t\tassert.deepStrictEqual(cellIndexesToRanges([10, 9]), [{ start: 9, end: 11 }]);\n\t});\n\n\ttest('Reduce ranges', function () {\n\t\tassert.deepStrictEqual(reduceCellRanges([{ start: 0, end: 1 }, { start: 1, end: 2 }]), [{ start: 0, end: 2 }]);\n\t\tassert.deepStrictEqual(reduceCellRanges([{ start: 0, end: 2 }, { start: 1, end: 3 }]), [{ start: 0, end: 3 }]);\n\t\tassert.deepStrictEqual(reduceCellRanges([{ start: 1, end: 3 }, { start: 0, end: 2 }]), [{ start: 0, end: 3 }]);\n\t\tassert.deepStrictEqual(reduceCellRanges([{ start: 0, end: 2 }, { start: 4, end: 5 }]), [{ start: 0, end: 2 }, { start: 4, end: 5 }]);\n\n\t\tassert.deepStrictEqual(reduceCellRanges([\n\t\t\t{ start: 0, end: 1 },\n\t\t\t{ start: 1, end: 2 },\n\t\t\t{ start: 4, end: 6 }\n\t\t]), [\n\t\t\t{ start: 0, end: 2 },\n\t\t\t{ start: 4, end: 6 }\n\t\t]);\n\n\t\tassert.deepStrictEqual(reduceCellRanges([\n\t\t\t{ start: 0, end: 1 },\n\t\t\t{ start: 1, end: 3 },\n\t\t\t{ start: 3, end: 4 }\n\t\t]), [\n\t\t\t{ start: 0, end: 4 }\n\t\t]);\n\t});\n\n\ttest('Reduce ranges 2, empty ranges', function () {\n\t\tassert.deepStrictEqual(reduceCellRanges([{ start: 0, end: 0 }, { start: 0, end: 0 }]), [{ start: 0, end: 0 }]);\n\t\tassert.deepStrictEqual(reduceCellRanges([{ start: 0, end: 0 }, { start: 1, end: 2 }]), [{ start: 1, end: 2 }]);\n\t\tassert.deepStrictEqual(reduceCellRanges([{ start: 2, end: 2 }]), [{ start: 2, end: 2 }]);\n\t});\n});\n\nsuite('NotebookWorkingCopyTypeIdentifier', function () {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('supports notebook type only', function () {\n\t\tconst viewType = 'testViewType';\n\t\tconst type = NotebookWorkingCopyTypeIdentifier.create(viewType);\n\t\tassert.deepEqual(NotebookWorkingCopyTypeIdentifier.parse(type), { notebookType: viewType, viewType });\n\t\tassert.strictEqual(NotebookWorkingCopyTypeIdentifier.parse('something'), undefined);\n\t});\n\n\ttest('supports different viewtype', function () {\n\t\tconst notebookType = { notebookType: 'testNotebookType', viewType: 'testViewType' };\n\t\tconst type = NotebookWorkingCopyTypeIdentifier.create(notebookType.notebookType, notebookType.viewType);\n\t\tassert.deepEqual(NotebookWorkingCopyTypeIdentifier.parse(type), notebookType);\n\t\tassert.strictEqual(NotebookWorkingCopyTypeIdentifier.parse('something'), undefined);\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { Mimes } from '../../../../../base/common/mime.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { ILanguageService } from '../../../../../editor/common/languages/language.js';\nimport { TestInstantiationService } from '../../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { CellKind, CellUri, diff, MimeTypeDisplayOrder, NotebookWorkingCopyTypeIdentifier } from '../../common/notebookCommon.js';\nimport { cellIndexesToRanges, cellRangesToIndexes, reduceCellRanges } from '../../common/notebookRange.js';\nimport { setupInstantiationService, TestCell } from './testNotebookEditor.js';\n\nsuite('NotebookCommon', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tlet disposables: DisposableStore;\n\tlet instantiationService: TestInstantiationService;\n\tlet languageService: ILanguageService;\n\n\tsetup(() => {\n\t\tdisposables = new DisposableStore();\n\t\tinstantiationService = setupInstantiationService(disposables);\n\t\tlanguageService = instantiationService.get(ILanguageService);\n\t});\n\n\ttest('sortMimeTypes default orders', function () {\n\t\tassert.deepStrictEqual(new MimeTypeDisplayOrder().sort(\n\t\t\t[\n\t\t\t\t'application/json',\n\t\t\t\t'application/javascript',\n\t\t\t\t'text/html',\n\t\t\t\t'image/svg+xml',\n\t\t\t\tMimes.latex,\n\t\t\t\tMimes.markdown,\n\t\t\t\t'image/png',\n\t\t\t\t'image/jpeg',\n\t\t\t\tMimes.text\n\t\t\t]),\n\t\t\t[\n\t\t\t\t'application/json',\n\t\t\t\t'application/javascript',\n\t\t\t\t'text/html',\n\t\t\t\t'image/svg+xml',\n\t\t\t\tMimes.latex,\n\t\t\t\tMimes.markdown,\n\t\t\t\t'image/png',\n\t\t\t\t'image/jpeg',\n\t\t\t\tMimes.text\n\t\t\t]\n\t\t);\n\n\t\tassert.deepStrictEqual(new MimeTypeDisplayOrder().sort(\n\t\t\t[\n\t\t\t\t'application/json',\n\t\t\t\tMimes.latex,\n\t\t\t\tMimes.markdown,\n\t\t\t\t'application/javascript',\n\t\t\t\t'text/html',\n\t\t\t\tMimes.text,\n\t\t\t\t'image/png',\n\t\t\t\t'image/jpeg',\n\t\t\t\t'image/svg+xml'\n\t\t\t]),\n\t\t\t[\n\t\t\t\t'application/json',\n\t\t\t\t'application/javascript',\n\t\t\t\t'text/html',\n\t\t\t\t'image/svg+xml',\n\t\t\t\tMimes.latex,\n\t\t\t\tMimes.markdown,\n\t\t\t\t'image/png',\n\t\t\t\t'image/jpeg',\n\t\t\t\tMimes.text\n\t\t\t]\n\t\t);\n\n\t\tassert.deepStrictEqual(new MimeTypeDisplayOrder().sort(\n\t\t\t[\n\t\t\t\tMimes.markdown,\n\t\t\t\t'application/json',\n\t\t\t\tMimes.text,\n\t\t\t\t'image/jpeg',\n\t\t\t\t'application/javascript',\n\t\t\t\t'text/html',\n\t\t\t\t'image/png',\n\t\t\t\t'image/svg+xml'\n\t\t\t]),\n\t\t\t[\n\t\t\t\t'application/json',\n\t\t\t\t'application/javascript',\n\t\t\t\t'text/html',\n\t\t\t\t'image/svg+xml',\n\t\t\t\tMimes.markdown,\n\t\t\t\t'image/png',\n\t\t\t\t'image/jpeg',\n\t\t\t\tMimes.text\n\t\t\t]\n\t\t);\n\n\t\tdisposables.dispose();\n\t});\n\n\n\n\ttest('sortMimeTypes user orders', function () {\n\t\tassert.deepStrictEqual(\n\t\t\tnew MimeTypeDisplayOrder([\n\t\t\t\t'image/png',\n\t\t\t\tMimes.text,\n\t\t\t\tMimes.markdown,\n\t\t\t\t'text/html',\n\t\t\t\t'application/json'\n\t\t\t]).sort(\n\t\t\t\t[\n\t\t\t\t\t'application/json',\n\t\t\t\t\t'application/javascript',\n\t\t\t\t\t'text/html',\n\t\t\t\t\t'image/svg+xml',\n\t\t\t\t\tMimes.markdown,\n\t\t\t\t\t'image/png',\n\t\t\t\t\t'image/jpeg',\n\t\t\t\t\tMimes.text\n\t\t\t\t]\n\t\t\t),\n\t\t\t[\n\t\t\t\t'image/png',\n\t\t\t\tMimes.text,\n\t\t\t\tMimes.markdown,\n\t\t\t\t'text/html',\n\t\t\t\t'application/json',\n\t\t\t\t'application/javascript',\n\t\t\t\t'image/svg+xml',\n\t\t\t\t'image/jpeg',\n\t\t\t]\n\t\t);\n\n\t\tassert.deepStrictEqual(\n\t\t\tnew MimeTypeDisplayOrder([\n\t\t\t\t'application/json',\n\t\t\t\t'text/html',\n\t\t\t\t'text/html',\n\t\t\t\tMimes.markdown,\n\t\t\t\t'application/json'\n\t\t\t]).sort([\n\t\t\t\tMimes.markdown,\n\t\t\t\t'application/json',\n\t\t\t\tMimes.text,\n\t\t\t\t'application/javascript',\n\t\t\t\t'text/html',\n\t\t\t\t'image/svg+xml',\n\t\t\t\t'image/jpeg',\n\t\t\t\t'image/png'\n\t\t\t]),\n\t\t\t[\n\t\t\t\t'application/json',\n\t\t\t\t'text/html',\n\t\t\t\tMimes.markdown,\n\t\t\t\t'application/javascript',\n\t\t\t\t'image/svg+xml',\n\t\t\t\t'image/png',\n\t\t\t\t'image/jpeg',\n\t\t\t\tMimes.text\n\t\t\t]\n\t\t);\n\n\t\tdisposables.dispose();\n\t});\n\n\ttest('prioritizes mimetypes', () => {\n\t\tconst m = new MimeTypeDisplayOrder([\n\t\t\tMimes.markdown,\n\t\t\t'text/html',\n\t\t\t'application/json'\n\t\t]);\n\t\tassert.deepStrictEqual(m.toArray(), [Mimes.markdown, 'text/html', 'application/json']);\n\n\t\t// no-op if already in the right order\n\t\tm.prioritize('text/html', ['application/json']);\n\t\tassert.deepStrictEqual(m.toArray(), [Mimes.markdown, 'text/html', 'application/json']);\n\n\t\t// sorts to highest priority\n\t\tm.prioritize('text/html', ['application/json', Mimes.markdown]);\n\t\tassert.deepStrictEqual(m.toArray(), ['text/html', Mimes.markdown, 'application/json']);\n\n\t\t// adds in new type\n\t\tm.prioritize('text/plain', ['application/json', Mimes.markdown]);\n\t\tassert.deepStrictEqual(m.toArray(), ['text/plain', 'text/html', Mimes.markdown, 'application/json']);\n\n\t\t// moves multiple, preserves order\n\t\tm.prioritize(Mimes.markdown, ['text/plain', 'application/json', Mimes.markdown]);\n\t\tassert.deepStrictEqual(m.toArray(), ['text/html', Mimes.markdown, 'text/plain', 'application/json']);\n\n\t\t// deletes multiple\n\t\tm.prioritize('text/plain', ['text/plain', 'text/html', Mimes.markdown]);\n\t\tassert.deepStrictEqual(m.toArray(), ['text/plain', 'text/html', Mimes.markdown, 'application/json']);\n\n\t\t// handles multiple mimetypes, unknown mimetype\n\t\tconst m2 = new MimeTypeDisplayOrder(['a', 'b']);\n\t\tm2.prioritize('b', ['a', 'b', 'a', 'q']);\n\t\tassert.deepStrictEqual(m2.toArray(), ['b', 'a']);\n\n\t\tdisposables.dispose();\n\t});\n\n\ttest('sortMimeTypes glob', function () {\n\t\tassert.deepStrictEqual(\n\t\t\tnew MimeTypeDisplayOrder([\n\t\t\t\t'application/vnd-vega*',\n\t\t\t\tMimes.markdown,\n\t\t\t\t'text/html',\n\t\t\t\t'application/json'\n\t\t\t]).sort(\n\t\t\t\t[\n\t\t\t\t\t'application/json',\n\t\t\t\t\t'application/javascript',\n\t\t\t\t\t'text/html',\n\t\t\t\t\t'application/vnd-plot.json',\n\t\t\t\t\t'application/vnd-vega.json'\n\t\t\t\t]\n\t\t\t),\n\t\t\t[\n\t\t\t\t'application/vnd-vega.json',\n\t\t\t\t'text/html',\n\t\t\t\t'application/json',\n\t\t\t\t'application/vnd-plot.json',\n\t\t\t\t'application/javascript',\n\t\t\t],\n\t\t\t'glob *'\n\t\t);\n\n\t\tdisposables.dispose();\n\t});\n\n\ttest('diff cells', function () {\n\t\tconst cells: TestCell[] = [];\n\n\t\tfor (let i = 0; i < 5; i++) {\n\t\t\tcells.push(\n\t\t\t\tdisposables.add(new TestCell('notebook', i, `var a = ${i};`, 'javascript', CellKind.Code, [], languageService))\n\t\t\t);\n\t\t}\n\n\t\tassert.deepStrictEqual(diff<TestCell>(cells, [], (cell) => {\n\t\t\treturn cells.indexOf(cell) > -1;\n\t\t}), [\n\t\t\t{\n\t\t\t\tstart: 0,\n\t\t\t\tdeleteCount: 5,\n\t\t\t\ttoInsert: []\n\t\t\t}\n\t\t]\n\t\t);\n\n\t\tassert.deepStrictEqual(diff<TestCell>([], cells, (cell) => {\n\t\t\treturn false;\n\t\t}), [\n\t\t\t{\n\t\t\t\tstart: 0,\n\t\t\t\tdeleteCount: 0,\n\t\t\t\ttoInsert: cells\n\t\t\t}\n\t\t]\n\t\t);\n\n\t\tconst cellA = disposables.add(new TestCell('notebook', 6, 'var a = 6;', 'javascript', CellKind.Code, [], languageService));\n\t\tconst cellB = disposables.add(new TestCell('notebook', 7, 'var a = 7;', 'javascript', CellKind.Code, [], languageService));\n\n\t\tconst modifiedCells = [\n\t\t\tcells[0],\n\t\t\tcells[1],\n\t\t\tcellA,\n\t\t\tcells[3],\n\t\t\tcellB,\n\t\t\tcells[4]\n\t\t];\n\n\t\tconst splices = diff<TestCell>(cells, modifiedCells, (cell) => {\n\t\t\treturn cells.indexOf(cell) > -1;\n\t\t});\n\n\t\tassert.deepStrictEqual(splices,\n\t\t\t[\n\t\t\t\t{\n\t\t\t\t\tstart: 2,\n\t\t\t\t\tdeleteCount: 1,\n\t\t\t\t\ttoInsert: [cellA]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tstart: 4,\n\t\t\t\t\tdeleteCount: 0,\n\t\t\t\t\ttoInsert: [cellB]\n\t\t\t\t}\n\t\t\t]\n\t\t);\n\n\t\tdisposables.dispose();\n\t});\n\n});\n\n\nsuite('CellUri', function () {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('parse, generate (file-scheme)', function () {\n\n\t\tconst nb = URI.parse('file:///bar/følder/file.nb');\n\t\tconst id = 17;\n\n\t\tconst data = CellUri.generate(nb, id);\n\t\tconst actual = CellUri.parse(data);\n\t\tassert.ok(Boolean(actual));\n\t\tassert.strictEqual(actual?.handle, id);\n\t\tassert.strictEqual(actual?.notebook.toString(), nb.toString());\n\t});\n\n\ttest('parse, generate (foo-scheme)', function () {\n\n\t\tconst nb = URI.parse('foo:///bar/følder/file.nb');\n\t\tconst id = 17;\n\n\t\tconst data = CellUri.generate(nb, id);\n\t\tconst actual = CellUri.parse(data);\n\t\tassert.ok(Boolean(actual));\n\t\tassert.strictEqual(actual?.handle, id);\n\t\tassert.strictEqual(actual?.notebook.toString(), nb.toString());\n\t});\n\n\ttest('stable order', function () {\n\n\t\tconst nb = URI.parse('foo:///bar/følder/file.nb');\n\t\tconst handles = [1, 2, 9, 10, 88, 100, 666666, 7777777];\n\n\t\tconst uris = handles.map(h => CellUri.generate(nb, h)).sort();\n\n\t\tconst strUris = uris.map(String).sort();\n\t\tconst parsedUris = strUris.map(s => URI.parse(s));\n\n\t\tconst actual = parsedUris.map(u => CellUri.parse(u)?.handle);\n\n\t\tassert.deepStrictEqual(actual, handles);\n\t});\n});\n\n\nsuite('CellRange', function () {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('Cell range to index', function () {\n\t\tassert.deepStrictEqual(cellRangesToIndexes([]), []);\n\t\tassert.deepStrictEqual(cellRangesToIndexes([{ start: 0, end: 0 }]), []);\n\t\tassert.deepStrictEqual(cellRangesToIndexes([{ start: 0, end: 1 }]), [0]);\n\t\tassert.deepStrictEqual(cellRangesToIndexes([{ start: 0, end: 2 }]), [0, 1]);\n\t\tassert.deepStrictEqual(cellRangesToIndexes([{ start: 0, end: 2 }, { start: 2, end: 3 }]), [0, 1, 2]);\n\t\tassert.deepStrictEqual(cellRangesToIndexes([{ start: 0, end: 2 }, { start: 3, end: 4 }]), [0, 1, 3]);\n\t});\n\n\ttest('Cell index to range', function () {\n\t\tassert.deepStrictEqual(cellIndexesToRanges([]), []);\n\t\tassert.deepStrictEqual(cellIndexesToRanges([0]), [{ start: 0, end: 1 }]);\n\t\tassert.deepStrictEqual(cellIndexesToRanges([0, 1]), [{ start: 0, end: 2 }]);\n\t\tassert.deepStrictEqual(cellIndexesToRanges([0, 1, 2]), [{ start: 0, end: 3 }]);\n\t\tassert.deepStrictEqual(cellIndexesToRanges([0, 1, 3]), [{ start: 0, end: 2 }, { start: 3, end: 4 }]);\n\n\t\tassert.deepStrictEqual(cellIndexesToRanges([1, 0]), [{ start: 0, end: 2 }]);\n\t\tassert.deepStrictEqual(cellIndexesToRanges([1, 2, 0]), [{ start: 0, end: 3 }]);\n\t\tassert.deepStrictEqual(cellIndexesToRanges([3, 1, 0]), [{ start: 0, end: 2 }, { start: 3, end: 4 }]);\n\n\t\tassert.deepStrictEqual(cellIndexesToRanges([9, 10]), [{ start: 9, end: 11 }]);\n\t\tassert.deepStrictEqual(cellIndexesToRanges([10, 9]), [{ start: 9, end: 11 }]);\n\t});\n\n\ttest('Reduce ranges', function () {\n\t\tassert.deepStrictEqual(reduceCellRanges([{ start: 0, end: 1 }, { start: 1, end: 2 }]), [{ start: 0, end: 2 }]);\n\t\tassert.deepStrictEqual(reduceCellRanges([{ start: 0, end: 2 }, { start: 1, end: 3 }]), [{ start: 0, end: 3 }]);\n\t\tassert.deepStrictEqual(reduceCellRanges([{ start: 1, end: 3 }, { start: 0, end: 2 }]), [{ start: 0, end: 3 }]);\n\t\tassert.deepStrictEqual(reduceCellRanges([{ start: 0, end: 2 }, { start: 4, end: 5 }]), [{ start: 0, end: 2 }, { start: 4, end: 5 }]);\n\n\t\tassert.deepStrictEqual(reduceCellRanges([\n\t\t\t{ start: 0, end: 1 },\n\t\t\t{ start: 1, end: 2 },\n\t\t\t{ start: 4, end: 6 }\n\t\t]), [\n\t\t\t{ start: 0, end: 2 },\n\t\t\t{ start: 4, end: 6 }\n\t\t]);\n\n\t\tassert.deepStrictEqual(reduceCellRanges([\n\t\t\t{ start: 0, end: 1 },\n\t\t\t{ start: 1, end: 3 },\n\t\t\t{ start: 3, end: 4 }\n\t\t]), [\n\t\t\t{ start: 0, end: 4 }\n\t\t]);\n\t});\n\n\ttest('Reduce ranges 2, empty ranges', function () {\n\t\tassert.deepStrictEqual(reduceCellRanges([{ start: 0, end: 0 }, { start: 0, end: 0 }]), [{ start: 0, end: 0 }]);\n\t\tassert.deepStrictEqual(reduceCellRanges([{ start: 0, end: 0 }, { start: 1, end: 2 }]), [{ start: 1, end: 2 }]);\n\t\tassert.deepStrictEqual(reduceCellRanges([{ start: 2, end: 2 }]), [{ start: 2, end: 2 }]);\n\t});\n});\n\nsuite('NotebookWorkingCopyTypeIdentifier', function () {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('supports notebook type only', function () {\n\t\tconst viewType = 'testViewType';\n\t\tconst type = NotebookWorkingCopyTypeIdentifier.create(viewType);\n\t\tassert.deepEqual(NotebookWorkingCopyTypeIdentifier.parse(type), { notebookType: viewType, viewType });\n\t\tassert.strictEqual(NotebookWorkingCopyTypeIdentifier.parse('something'), undefined);\n\t});\n\n\ttest('supports different viewtype', function () {\n\t\tconst notebookType = { notebookType: 'testNotebookType', viewType: 'testViewType' };\n\t\tconst type = NotebookWorkingCopyTypeIdentifier.create(notebookType.notebookType, notebookType.viewType);\n\t\tassert.deepEqual(NotebookWorkingCopyTypeIdentifier.parse(type), notebookType);\n\t\tassert.strictEqual(NotebookWorkingCopyTypeIdentifier.parse('something'), undefined);\n\t});\n});\n"]}