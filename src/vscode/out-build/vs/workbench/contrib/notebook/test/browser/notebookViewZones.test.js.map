{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/notebook/test/browser/notebookViewZones.test.ts","vs/workbench/contrib/notebook/test/browser/notebookViewZones.test.ts"],"names":[],"mappings":"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","file":"notebookViewZones.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n\nimport assert from 'assert';\nimport { DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { TestConfigurationService } from '../../../../../platform/configuration/test/common/testConfigurationService.js';\nimport { TestInstantiationService } from '../../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { NotebookCellsLayout } from '../../browser/view/notebookCellListView.js';\nimport { FoldingModel } from '../../browser/viewModel/foldingModel.js';\nimport { CellEditType, CellKind } from '../../common/notebookCommon.js';\nimport { createNotebookCellList, setupInstantiationService, withTestNotebook } from './testNotebookEditor.js';\n\nsuite('NotebookRangeMap', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('empty', () => {\n\t\tconst rangeMap = new NotebookCellsLayout();\n\t\tassert.strictEqual(rangeMap.size, 0);\n\t\tassert.strictEqual(rangeMap.count, 0);\n\t});\n\n\tconst one = { size: 1 };\n\tconst two = { size: 2 };\n\tconst three = { size: 3 };\n\tconst five = { size: 5 };\n\tconst ten = { size: 10 };\n\n\ttest('length & count', () => {\n\t\tconst rangeMap = new NotebookCellsLayout();\n\t\trangeMap.splice(0, 0, [one]);\n\t\tassert.strictEqual(rangeMap.size, 1);\n\t\tassert.strictEqual(rangeMap.count, 1);\n\t});\n\n\ttest('length & count #2', () => {\n\t\tconst rangeMap = new NotebookCellsLayout();\n\t\trangeMap.splice(0, 0, [one, one, one, one, one]);\n\t\tassert.strictEqual(rangeMap.size, 5);\n\t\tassert.strictEqual(rangeMap.count, 5);\n\t});\n\n\ttest('length & count #3', () => {\n\t\tconst rangeMap = new NotebookCellsLayout();\n\t\trangeMap.splice(0, 0, [five]);\n\t\tassert.strictEqual(rangeMap.size, 5);\n\t\tassert.strictEqual(rangeMap.count, 1);\n\t});\n\n\ttest('length & count #4', () => {\n\t\tconst rangeMap = new NotebookCellsLayout();\n\t\trangeMap.splice(0, 0, [five, five, five, five, five]);\n\t\tassert.strictEqual(rangeMap.size, 25);\n\t\tassert.strictEqual(rangeMap.count, 5);\n\t});\n\n\ttest('insert', () => {\n\t\tconst rangeMap = new NotebookCellsLayout();\n\t\trangeMap.splice(0, 0, [five, five, five, five, five]);\n\t\tassert.strictEqual(rangeMap.size, 25);\n\t\tassert.strictEqual(rangeMap.count, 5);\n\n\t\trangeMap.splice(0, 0, [five, five, five, five, five]);\n\t\tassert.strictEqual(rangeMap.size, 50);\n\t\tassert.strictEqual(rangeMap.count, 10);\n\n\t\trangeMap.splice(5, 0, [ten, ten]);\n\t\tassert.strictEqual(rangeMap.size, 70);\n\t\tassert.strictEqual(rangeMap.count, 12);\n\n\t\trangeMap.splice(12, 0, [{ size: 200 }]);\n\t\tassert.strictEqual(rangeMap.size, 270);\n\t\tassert.strictEqual(rangeMap.count, 13);\n\t});\n\n\ttest('delete', () => {\n\t\tconst rangeMap = new NotebookCellsLayout();\n\t\trangeMap.splice(0, 0, [five, five, five, five, five,\n\t\t\tfive, five, five, five, five,\n\t\t\tfive, five, five, five, five,\n\t\t\tfive, five, five, five, five]);\n\t\tassert.strictEqual(rangeMap.size, 100);\n\t\tassert.strictEqual(rangeMap.count, 20);\n\n\t\trangeMap.splice(10, 5);\n\t\tassert.strictEqual(rangeMap.size, 75);\n\t\tassert.strictEqual(rangeMap.count, 15);\n\n\t\trangeMap.splice(0, 1);\n\t\tassert.strictEqual(rangeMap.size, 70);\n\t\tassert.strictEqual(rangeMap.count, 14);\n\n\t\trangeMap.splice(1, 13);\n\t\tassert.strictEqual(rangeMap.size, 5);\n\t\tassert.strictEqual(rangeMap.count, 1);\n\n\t\trangeMap.splice(1, 1);\n\t\tassert.strictEqual(rangeMap.size, 5);\n\t\tassert.strictEqual(rangeMap.count, 1);\n\t});\n\n\ttest('insert & delete', () => {\n\t\tconst rangeMap = new NotebookCellsLayout();\n\t\tassert.strictEqual(rangeMap.size, 0);\n\t\tassert.strictEqual(rangeMap.count, 0);\n\n\t\trangeMap.splice(0, 0, [one]);\n\t\tassert.strictEqual(rangeMap.size, 1);\n\t\tassert.strictEqual(rangeMap.count, 1);\n\n\t\trangeMap.splice(0, 1);\n\t\tassert.strictEqual(rangeMap.size, 0);\n\t\tassert.strictEqual(rangeMap.count, 0);\n\t});\n\n\ttest('insert & delete #2', () => {\n\t\tconst rangeMap = new NotebookCellsLayout();\n\t\trangeMap.splice(0, 0, [one, one, one, one, one,\n\t\t\tone, one, one, one, one]);\n\t\trangeMap.splice(2, 6);\n\t\tassert.strictEqual(rangeMap.count, 4);\n\t\tassert.strictEqual(rangeMap.size, 4);\n\t});\n\n\ttest('insert & delete #3', () => {\n\t\tconst rangeMap = new NotebookCellsLayout();\n\t\trangeMap.splice(0, 0, [one, one, one, one, one,\n\t\t\tone, one, one, one, one,\n\t\t\ttwo, two, two, two, two,\n\t\t\ttwo, two, two, two, two]);\n\t\trangeMap.splice(8, 4);\n\t\tassert.strictEqual(rangeMap.count, 16);\n\t\tassert.strictEqual(rangeMap.size, 24);\n\t});\n\n\ttest('insert & delete #4', () => {\n\t\tconst rangeMap = new NotebookCellsLayout();\n\t\trangeMap.splice(0, 0, [one, one, one, one, one,\n\t\t\tone, one, one, one, one,\n\t\t\ttwo, two, two, two, two,\n\t\t\ttwo, two, two, two, two]);\n\t\trangeMap.splice(5, 0, [three, three, three, three, three]);\n\t\tassert.strictEqual(rangeMap.count, 25);\n\t\tassert.strictEqual(rangeMap.size, 45);\n\n\t\trangeMap.splice(4, 7);\n\t\tassert.strictEqual(rangeMap.count, 18);\n\t\tassert.strictEqual(rangeMap.size, 28);\n\t});\n\n\tsuite('indexAt, positionAt', () => {\n\t\ttest('empty', () => {\n\t\t\tconst rangeMap = new NotebookCellsLayout();\n\t\t\tassert.strictEqual(rangeMap.indexAt(0), 0);\n\t\t\tassert.strictEqual(rangeMap.indexAt(10), 0);\n\t\t\tassert.strictEqual(rangeMap.indexAt(-1), -1);\n\t\t\tassert.strictEqual(rangeMap.positionAt(0), -1);\n\t\t\tassert.strictEqual(rangeMap.positionAt(10), -1);\n\t\t\tassert.strictEqual(rangeMap.positionAt(-1), -1);\n\t\t});\n\n\t\ttest('simple', () => {\n\t\t\tconst rangeMap = new NotebookCellsLayout();\n\t\t\trangeMap.splice(0, 0, [one]);\n\t\t\tassert.strictEqual(rangeMap.indexAt(0), 0);\n\t\t\tassert.strictEqual(rangeMap.indexAt(1), 1);\n\t\t\tassert.strictEqual(rangeMap.positionAt(0), 0);\n\t\t\tassert.strictEqual(rangeMap.positionAt(1), -1);\n\t\t});\n\n\t\ttest('simple #2', () => {\n\t\t\tconst rangeMap = new NotebookCellsLayout();\n\t\t\trangeMap.splice(0, 0, [ten]);\n\t\t\tassert.strictEqual(rangeMap.indexAt(0), 0);\n\t\t\tassert.strictEqual(rangeMap.indexAt(5), 0);\n\t\t\tassert.strictEqual(rangeMap.indexAt(9), 0);\n\t\t\tassert.strictEqual(rangeMap.indexAt(10), 1);\n\t\t\tassert.strictEqual(rangeMap.positionAt(0), 0);\n\t\t\tassert.strictEqual(rangeMap.positionAt(1), -1);\n\t\t});\n\n\t\ttest('insert', () => {\n\t\t\tconst rangeMap = new NotebookCellsLayout();\n\t\t\trangeMap.splice(0, 0, [one, one, one, one, one, one, one, one, one, one]);\n\t\t\tassert.strictEqual(rangeMap.indexAt(0), 0);\n\t\t\tassert.strictEqual(rangeMap.indexAt(1), 1);\n\t\t\tassert.strictEqual(rangeMap.indexAt(5), 5);\n\t\t\tassert.strictEqual(rangeMap.indexAt(9), 9);\n\t\t\tassert.strictEqual(rangeMap.indexAt(10), 10);\n\t\t\tassert.strictEqual(rangeMap.indexAt(11), 10);\n\n\t\t\trangeMap.splice(10, 0, [one, one, one, one, one, one, one, one, one, one]);\n\t\t\tassert.strictEqual(rangeMap.indexAt(10), 10);\n\t\t\tassert.strictEqual(rangeMap.indexAt(19), 19);\n\t\t\tassert.strictEqual(rangeMap.indexAt(20), 20);\n\t\t\tassert.strictEqual(rangeMap.indexAt(21), 20);\n\t\t\tassert.strictEqual(rangeMap.positionAt(0), 0);\n\t\t\tassert.strictEqual(rangeMap.positionAt(1), 1);\n\t\t\tassert.strictEqual(rangeMap.positionAt(19), 19);\n\t\t\tassert.strictEqual(rangeMap.positionAt(20), -1);\n\t\t});\n\n\t\ttest('delete', () => {\n\t\t\tconst rangeMap = new NotebookCellsLayout();\n\t\t\trangeMap.splice(0, 0, [one, one, one, one, one, one, one, one, one, one]);\n\t\t\trangeMap.splice(2, 6);\n\n\t\t\tassert.strictEqual(rangeMap.indexAt(0), 0);\n\t\t\tassert.strictEqual(rangeMap.indexAt(1), 1);\n\t\t\tassert.strictEqual(rangeMap.indexAt(3), 3);\n\t\t\tassert.strictEqual(rangeMap.indexAt(4), 4);\n\t\t\tassert.strictEqual(rangeMap.indexAt(5), 4);\n\t\t\tassert.strictEqual(rangeMap.positionAt(0), 0);\n\t\t\tassert.strictEqual(rangeMap.positionAt(1), 1);\n\t\t\tassert.strictEqual(rangeMap.positionAt(3), 3);\n\t\t\tassert.strictEqual(rangeMap.positionAt(4), -1);\n\t\t});\n\n\t\ttest('delete #2', () => {\n\t\t\tconst rangeMap = new NotebookCellsLayout();\n\t\t\trangeMap.splice(0, 0, [ten, ten, ten, ten, ten, ten, ten, ten, ten, ten]);\n\t\t\trangeMap.splice(2, 6);\n\n\t\t\tassert.strictEqual(rangeMap.indexAt(0), 0);\n\t\t\tassert.strictEqual(rangeMap.indexAt(1), 0);\n\t\t\tassert.strictEqual(rangeMap.indexAt(30), 3);\n\t\t\tassert.strictEqual(rangeMap.indexAt(40), 4);\n\t\t\tassert.strictEqual(rangeMap.indexAt(50), 4);\n\t\t\tassert.strictEqual(rangeMap.positionAt(0), 0);\n\t\t\tassert.strictEqual(rangeMap.positionAt(1), 10);\n\t\t\tassert.strictEqual(rangeMap.positionAt(2), 20);\n\t\t\tassert.strictEqual(rangeMap.positionAt(3), 30);\n\t\t\tassert.strictEqual(rangeMap.positionAt(4), -1);\n\t\t});\n\t});\n});\n\nsuite('NotebookRangeMap with top padding', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('empty', () => {\n\t\tconst rangeMap = new NotebookCellsLayout(10);\n\t\tassert.strictEqual(rangeMap.size, 10);\n\t\tassert.strictEqual(rangeMap.count, 0);\n\t});\n\n\tconst one = { size: 1 };\n\tconst five = { size: 5 };\n\tconst ten = { size: 10 };\n\n\ttest('length & count', () => {\n\t\tconst rangeMap = new NotebookCellsLayout(10);\n\t\trangeMap.splice(0, 0, [one]);\n\t\tassert.strictEqual(rangeMap.size, 11);\n\t\tassert.strictEqual(rangeMap.count, 1);\n\t});\n\n\ttest('length & count #2', () => {\n\t\tconst rangeMap = new NotebookCellsLayout(10);\n\t\trangeMap.splice(0, 0, [one, one, one, one, one]);\n\t\tassert.strictEqual(rangeMap.size, 15);\n\t\tassert.strictEqual(rangeMap.count, 5);\n\t});\n\n\ttest('length & count #3', () => {\n\t\tconst rangeMap = new NotebookCellsLayout(10);\n\t\trangeMap.splice(0, 0, [five]);\n\t\tassert.strictEqual(rangeMap.size, 15);\n\t\tassert.strictEqual(rangeMap.count, 1);\n\t});\n\n\ttest('length & count #4', () => {\n\t\tconst rangeMap = new NotebookCellsLayout(10);\n\t\trangeMap.splice(0, 0, [five, five, five, five, five]);\n\t\tassert.strictEqual(rangeMap.size, 35);\n\t\tassert.strictEqual(rangeMap.count, 5);\n\t});\n\n\ttest('insert', () => {\n\t\tconst rangeMap = new NotebookCellsLayout(10);\n\t\trangeMap.splice(0, 0, [five, five, five, five, five]);\n\t\tassert.strictEqual(rangeMap.size, 35);\n\t\tassert.strictEqual(rangeMap.count, 5);\n\n\t\trangeMap.splice(0, 0, [five, five, five, five, five]);\n\t\tassert.strictEqual(rangeMap.size, 60);\n\t\tassert.strictEqual(rangeMap.count, 10);\n\n\t\trangeMap.splice(5, 0, [ten, ten]);\n\t\tassert.strictEqual(rangeMap.size, 80);\n\t\tassert.strictEqual(rangeMap.count, 12);\n\n\t\trangeMap.splice(12, 0, [{ size: 200 }]);\n\t\tassert.strictEqual(rangeMap.size, 280);\n\t\tassert.strictEqual(rangeMap.count, 13);\n\t});\n\n\tsuite('indexAt, positionAt', () => {\n\t\ttest('empty', () => {\n\t\t\tconst rangeMap = new NotebookCellsLayout(10);\n\t\t\tassert.strictEqual(rangeMap.indexAt(0), 0);\n\t\t\tassert.strictEqual(rangeMap.indexAt(10), 0);\n\t\t\tassert.strictEqual(rangeMap.indexAt(-1), -1);\n\t\t\tassert.strictEqual(rangeMap.positionAt(0), -1);\n\t\t\tassert.strictEqual(rangeMap.positionAt(10), -1);\n\t\t\tassert.strictEqual(rangeMap.positionAt(-1), -1);\n\t\t});\n\n\t\ttest('simple', () => {\n\t\t\tconst rangeMap = new NotebookCellsLayout(10);\n\t\t\trangeMap.splice(0, 0, [one]);\n\t\t\tassert.strictEqual(rangeMap.indexAt(0), 0);\n\t\t\tassert.strictEqual(rangeMap.indexAt(1), 0);\n\t\t\tassert.strictEqual(rangeMap.indexAt(10), 0);\n\t\t\tassert.strictEqual(rangeMap.indexAt(11), 1);\n\t\t\tassert.strictEqual(rangeMap.positionAt(0), 10);\n\t\t\tassert.strictEqual(rangeMap.positionAt(1), -1);\n\t\t});\n\t});\n});\n\nsuite('NotebookRangeMap with whitesspaces', () => {\n\tlet testDisposables: DisposableStore;\n\tlet instantiationService: TestInstantiationService;\n\tlet config: TestConfigurationService;\n\n\tteardown(() => {\n\t\ttestDisposables.dispose();\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tsetup(() => {\n\t\ttestDisposables = new DisposableStore();\n\t\tinstantiationService = setupInstantiationService(testDisposables);\n\t\tconfig = new TestConfigurationService();\n\t\tinstantiationService.stub(IConfigurationService, config);\n\t});\n\n\ttest('simple', () => {\n\t\tconst rangeMap = new NotebookCellsLayout(0);\n\t\trangeMap.splice(0, 0, [{ size: 479 }, { size: 163 }, { size: 182 }, { size: 106 }, { size: 106 }, { size: 106 }, { size: 87 }]);\n\n\t\tconst start = rangeMap.indexAt(650);\n\t\tconst end = rangeMap.indexAfter(650 + 890 - 1);\n\t\tassert.strictEqual(start, 2);\n\t\tassert.strictEqual(end, 7);\n\n\t\trangeMap.insertWhitespace('1', 0, 18);\n\t\tassert.strictEqual(rangeMap.indexAt(650), 1);\n\t});\n\n\ttest('Whitespace CRUD', async function () {\n\t\tconst twenty = { size: 20 };\n\n\t\tconst rangeMap = new NotebookCellsLayout(0);\n\t\trangeMap.splice(0, 0, [twenty, twenty, twenty]);\n\t\trangeMap.insertWhitespace('0', 0, 5);\n\t\trangeMap.insertWhitespace('1', 0, 5);\n\t\tassert.strictEqual(rangeMap.indexAt(0), 0);\n\t\tassert.strictEqual(rangeMap.indexAt(1), 0);\n\t\tassert.strictEqual(rangeMap.indexAt(10), 0);\n\t\tassert.strictEqual(rangeMap.indexAt(11), 0);\n\t\tassert.strictEqual(rangeMap.indexAt(21), 0);\n\t\tassert.strictEqual(rangeMap.indexAt(31), 1);\n\t\tassert.strictEqual(rangeMap.positionAt(0), 10);\n\n\t\tassert.strictEqual(rangeMap.getWhitespacePosition('0'), 0);\n\t\tassert.strictEqual(rangeMap.getWhitespacePosition('1'), 5);\n\n\t\tassert.strictEqual(rangeMap.positionAt(0), 10);\n\t\tassert.strictEqual(rangeMap.positionAt(1), 30);\n\n\t\trangeMap.changeOneWhitespace('0', 0, 10);\n\t\tassert.strictEqual(rangeMap.getWhitespacePosition('0'), 0);\n\t\tassert.strictEqual(rangeMap.getWhitespacePosition('1'), 10);\n\n\t\tassert.strictEqual(rangeMap.positionAt(0), 15);\n\t\tassert.strictEqual(rangeMap.positionAt(1), 35);\n\n\t\trangeMap.removeWhitespace('1');\n\t\tassert.strictEqual(rangeMap.getWhitespacePosition('0'), 0);\n\n\t\tassert.strictEqual(rangeMap.positionAt(0), 10);\n\t\tassert.strictEqual(rangeMap.positionAt(1), 30);\n\t});\n\n\ttest('Whitespace with editing', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['# header a', 'markdown', CellKind.Markup, [], {}],\n\t\t\t\t['var b = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['# header b', 'markdown', CellKind.Markup, [], {}],\n\t\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['# header c', 'markdown', CellKind.Markup, [], {}]\n\t\t\t],\n\t\t\tasync (editor, viewModel, disposables) => {\n\t\t\t\tviewModel.restoreEditorViewState({\n\t\t\t\t\teditingCells: [false, false, false, false, false],\n\t\t\t\t\tcellLineNumberStates: {},\n\t\t\t\t\teditorViewStates: [null, null, null, null, null],\n\t\t\t\t\tcellTotalHeights: [50, 100, 50, 100, 50],\n\t\t\t\t\tcollapsedInputCells: {},\n\t\t\t\t\tcollapsedOutputCells: {},\n\t\t\t\t});\n\n\t\t\t\tconst cellList = createNotebookCellList(instantiationService, disposables);\n\t\t\t\tdisposables.add(cellList);\n\t\t\t\tcellList.attachViewModel(viewModel);\n\n\t\t\t\t// render height 210, it can render 3 full cells and 1 partial cell\n\t\t\t\tcellList.layout(210, 100);\n\t\t\t\tassert.strictEqual(cellList.scrollHeight, 350);\n\n\t\t\t\tcellList.changeViewZones(accessor => {\n\t\t\t\t\tconst id = accessor.addZone({\n\t\t\t\t\t\tafterModelPosition: 1,\n\t\t\t\t\t\theightInPx: 20,\n\t\t\t\t\t\tdomNode: document.createElement('div')\n\t\t\t\t\t});\n\n\t\t\t\t\taccessor.layoutZone(id);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 370);\n\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(0), 0);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(1), 70);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(2), 170);\n\n\t\t\t\t\tconst textModel = editor.textModel;\n\t\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t\t{ editType: CellEditType.Replace, index: 0, count: 1, cells: [] },\n\t\t\t\t\t], true, undefined, () => undefined, undefined, true);\n\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(0), 20);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(1), 120);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(2), 170);\n\n\t\t\t\t\taccessor.removeZone(id);\n\t\t\t\t});\n\t\t\t});\n\t});\n\n\ttest('Multiple Whitespaces', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['# header a', 'markdown', CellKind.Markup, [], {}],\n\t\t\t\t['var b = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['# header b', 'markdown', CellKind.Markup, [], {}],\n\t\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['# header c', 'markdown', CellKind.Markup, [], {}]\n\t\t\t],\n\t\t\tasync (editor, viewModel, disposables) => {\n\t\t\t\tviewModel.restoreEditorViewState({\n\t\t\t\t\teditingCells: [false, false, false, false, false],\n\t\t\t\t\tcellLineNumberStates: {},\n\t\t\t\t\teditorViewStates: [null, null, null, null, null],\n\t\t\t\t\tcellTotalHeights: [50, 100, 50, 100, 50],\n\t\t\t\t\tcollapsedInputCells: {},\n\t\t\t\t\tcollapsedOutputCells: {},\n\t\t\t\t});\n\n\t\t\t\tconst cellList = createNotebookCellList(instantiationService, disposables);\n\t\t\t\tdisposables.add(cellList);\n\t\t\t\tcellList.attachViewModel(viewModel);\n\n\t\t\t\t// render height 210, it can render 3 full cells and 1 partial cell\n\t\t\t\tcellList.layout(210, 100);\n\t\t\t\tassert.strictEqual(cellList.scrollHeight, 350);\n\n\t\t\t\tcellList.changeViewZones(accessor => {\n\t\t\t\t\tconst first = accessor.addZone({\n\t\t\t\t\t\tafterModelPosition: 0,\n\t\t\t\t\t\theightInPx: 20,\n\t\t\t\t\t\tdomNode: document.createElement('div')\n\t\t\t\t\t});\n\t\t\t\t\taccessor.layoutZone(first);\n\n\t\t\t\t\tconst second = accessor.addZone({\n\t\t\t\t\t\tafterModelPosition: 3,\n\t\t\t\t\t\theightInPx: 20,\n\t\t\t\t\t\tdomNode: document.createElement('div')\n\t\t\t\t\t});\n\t\t\t\t\taccessor.layoutZone(second);\n\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 390);\n\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(0), 20);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(1), 70);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(2), 170);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(3), 240);\n\n\t\t\t\t\taccessor.removeZone(first);\n\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 370);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(0), 0);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(1), 50);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(2), 150);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(3), 220);\n\n\t\t\t\t\taccessor.removeZone(second);\n\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 350);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(3), 200);\n\t\t\t\t});\n\t\t\t});\n\t});\n\n\ttest('Multiple Whitespaces 2', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['# header a', 'markdown', CellKind.Markup, [], {}],\n\t\t\t\t['var b = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['# header b', 'markdown', CellKind.Markup, [], {}],\n\t\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['# header c', 'markdown', CellKind.Markup, [], {}]\n\t\t\t],\n\t\t\tasync (editor, viewModel, disposables) => {\n\t\t\t\tviewModel.restoreEditorViewState({\n\t\t\t\t\teditingCells: [false, false, false, false, false],\n\t\t\t\t\tcellLineNumberStates: {},\n\t\t\t\t\teditorViewStates: [null, null, null, null, null],\n\t\t\t\t\tcellTotalHeights: [50, 100, 50, 100, 50],\n\t\t\t\t\tcollapsedInputCells: {},\n\t\t\t\t\tcollapsedOutputCells: {},\n\t\t\t\t});\n\n\t\t\t\tconst cellList = createNotebookCellList(instantiationService, disposables);\n\t\t\t\tdisposables.add(cellList);\n\t\t\t\tcellList.attachViewModel(viewModel);\n\n\t\t\t\t// render height 210, it can render 3 full cells and 1 partial cell\n\t\t\t\tcellList.layout(210, 100);\n\t\t\t\tassert.strictEqual(cellList.scrollHeight, 350);\n\n\t\t\t\tcellList.changeViewZones(accessor => {\n\t\t\t\t\tconst first = accessor.addZone({\n\t\t\t\t\t\tafterModelPosition: 0,\n\t\t\t\t\t\theightInPx: 20,\n\t\t\t\t\t\tdomNode: document.createElement('div')\n\t\t\t\t\t});\n\t\t\t\t\taccessor.layoutZone(first);\n\n\t\t\t\t\tconst second = accessor.addZone({\n\t\t\t\t\t\tafterModelPosition: 1,\n\t\t\t\t\t\theightInPx: 20,\n\t\t\t\t\t\tdomNode: document.createElement('div')\n\t\t\t\t\t});\n\t\t\t\t\taccessor.layoutZone(second);\n\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 390);\n\t\t\t\t\tassert.strictEqual(cellList._getView().getWhitespacePosition(first), 0);\n\t\t\t\t\tassert.strictEqual(cellList._getView().getWhitespacePosition(second), 70);\n\n\t\t\t\t\taccessor.removeZone(first);\n\t\t\t\t\taccessor.removeZone(second);\n\t\t\t\t});\n\t\t\t});\n\t});\n\n\ttest('Multiple Whitespaces 3', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['# header a', 'markdown', CellKind.Markup, [], {}],\n\t\t\t\t['var b = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['# header b', 'markdown', CellKind.Markup, [], {}],\n\t\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['# header c', 'markdown', CellKind.Markup, [], {}]\n\t\t\t],\n\t\t\tasync (editor, viewModel, disposables) => {\n\t\t\t\tviewModel.restoreEditorViewState({\n\t\t\t\t\teditingCells: [false, false, false, false, false],\n\t\t\t\t\tcellLineNumberStates: {},\n\t\t\t\t\teditorViewStates: [null, null, null, null, null],\n\t\t\t\t\tcellTotalHeights: [50, 100, 50, 100, 50],\n\t\t\t\t\tcollapsedInputCells: {},\n\t\t\t\t\tcollapsedOutputCells: {},\n\t\t\t\t});\n\n\t\t\t\tconst cellList = createNotebookCellList(instantiationService, disposables);\n\t\t\t\tdisposables.add(cellList);\n\t\t\t\tcellList.attachViewModel(viewModel);\n\n\t\t\t\t// render height 210, it can render 3 full cells and 1 partial cell\n\t\t\t\tcellList.layout(210, 100);\n\t\t\t\tassert.strictEqual(cellList.scrollHeight, 350);\n\n\t\t\t\tcellList.changeViewZones(accessor => {\n\t\t\t\t\tconst first = accessor.addZone({\n\t\t\t\t\t\tafterModelPosition: 1,\n\t\t\t\t\t\theightInPx: 20,\n\t\t\t\t\t\tdomNode: document.createElement('div')\n\t\t\t\t\t});\n\t\t\t\t\taccessor.layoutZone(first);\n\n\t\t\t\t\tconst second = accessor.addZone({\n\t\t\t\t\t\tafterModelPosition: 2,\n\t\t\t\t\t\theightInPx: 20,\n\t\t\t\t\t\tdomNode: document.createElement('div')\n\t\t\t\t\t});\n\t\t\t\t\taccessor.layoutZone(second);\n\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 390);\n\t\t\t\t\tassert.strictEqual(cellList._getView().getWhitespacePosition(first), 50);\n\t\t\t\t\tassert.strictEqual(cellList._getView().getWhitespacePosition(second), 170);\n\n\t\t\t\t\taccessor.removeZone(first);\n\t\t\t\t\taccessor.removeZone(second);\n\t\t\t\t});\n\t\t\t});\n\t});\n\n\t// test('Multiple Whitespaces 4', async function () {\n\t// \tawait withTestNotebook(\n\t// \t\t[\n\t// \t\t\t['# header a', 'markdown', CellKind.Markup, [], {}],\n\t// \t\t\t['var b = 1;', 'javascript', CellKind.Code, [], {}],\n\t// \t\t\t['# header b', 'markdown', CellKind.Markup, [], {}],\n\t// \t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}],\n\t// \t\t\t['# header c', 'markdown', CellKind.Markup, [], {}]\n\t// \t\t],\n\t// \t\tasync (editor, viewModel, disposables) => {\n\t// \t\t\tviewModel.restoreEditorViewState({\n\t// \t\t\t\teditingCells: [false, false, false, false, false],\n\t// \t\t\t\tcellLineNumberStates: {},\n\t// \t\t\t\teditorViewStates: [null, null, null, null, null],\n\t// \t\t\t\tcellTotalHeights: [50, 100, 50, 100, 50],\n\t// \t\t\t\tcollapsedInputCells: {},\n\t// \t\t\t\tcollapsedOutputCells: {},\n\t// \t\t\t});\n\n\t// \t\t\tconst cellList = createNotebookCellList(instantiationService, disposables);\n\t// \t\t\tdisposables.add(cellList);\n\t// \t\t\tcellList.attachViewModel(viewModel);\n\n\t// \t\t\t// render height 210, it can render 3 full cells and 1 partial cell\n\t// \t\t\tcellList.layout(210, 100);\n\t// \t\t\tassert.strictEqual(cellList.scrollHeight, 350);\n\n\t// \t\t\tcellList.changeViewZones(accessor => {\n\t// \t\t\t\tconst first = accessor.addZone({\n\t// \t\t\t\t\tafterModelPosition: 1,\n\t// \t\t\t\t\theightInPx: 20,\n\t// \t\t\t\t\tdomNode: document.createElement('div')\n\t// \t\t\t\t});\n\t// \t\t\t\taccessor.layoutZone(first);\n\n\t// \t\t\t\tconst second = accessor.addZone({\n\t// \t\t\t\t\tafterModelPosition: 1,\n\t// \t\t\t\t\theightInPx: 20,\n\t// \t\t\t\t\tdomNode: document.createElement('div')\n\t// \t\t\t\t});\n\t// \t\t\t\taccessor.layoutZone(second);\n\n\t// \t\t\t\tconst third = accessor.addZone({\n\t// \t\t\t\t\tafterModelPosition: 2,\n\t// \t\t\t\t\theightInPx: 20,\n\t// \t\t\t\t\tdomNode: document.createElement('div')\n\t// \t\t\t\t});\n\t// \t\t\t\taccessor.layoutZone(second);\n\n\t// \t\t\t\tassert.strictEqual(cellList.scrollHeight, 410);\n\t// \t\t\t\tassert.strictEqual(cellList._getView().getWhitespacePosition(first), 50);\n\t// \t\t\t\tassert.strictEqual(cellList._getView().getWhitespacePosition(second), 70);\n\t// \t\t\t\tassert.strictEqual(cellList._getView().getWhitespacePosition(third), 190);\n\n\t// \t\t\t\taccessor.removeZone(first);\n\t// \t\t\t\taccessor.removeZone(second);\n\t// \t\t\t\taccessor.removeZone(third);\n\t// \t\t\t});\n\t// \t\t});\n\t// });\n\n\ttest('Whitespace with folding support', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['# header a', 'markdown', CellKind.Markup, [], {}],\n\t\t\t\t['var b = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['# header b', 'markdown', CellKind.Markup, [], {}],\n\t\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['# header c', 'markdown', CellKind.Markup, [], {}]\n\t\t\t],\n\t\t\tasync (editor, viewModel, disposables) => {\n\t\t\t\tviewModel.restoreEditorViewState({\n\t\t\t\t\teditingCells: [false, false, false, false, false],\n\t\t\t\t\tcellLineNumberStates: {},\n\t\t\t\t\teditorViewStates: [null, null, null, null, null],\n\t\t\t\t\tcellTotalHeights: [50, 100, 50, 100, 50],\n\t\t\t\t\tcollapsedInputCells: {},\n\t\t\t\t\tcollapsedOutputCells: {},\n\t\t\t\t});\n\n\t\t\t\tconst cellList = createNotebookCellList(instantiationService, disposables);\n\t\t\t\tdisposables.add(cellList);\n\t\t\t\tcellList.attachViewModel(viewModel);\n\n\t\t\t\t// render height 210, it can render 3 full cells and 1 partial cell\n\t\t\t\tcellList.layout(210, 100);\n\t\t\t\tassert.strictEqual(cellList.scrollHeight, 350);\n\n\t\t\t\tcellList.changeViewZones(accessor => {\n\t\t\t\t\tconst id = accessor.addZone({\n\t\t\t\t\t\tafterModelPosition: 0,\n\t\t\t\t\t\theightInPx: 20,\n\t\t\t\t\t\tdomNode: document.createElement('div')\n\t\t\t\t\t});\n\n\t\t\t\t\taccessor.layoutZone(id);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 370);\n\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(0), 20);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(1), 70);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(2), 170);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(3), 220);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(4), 320);\n\n\t\t\t\t\taccessor.removeZone(id);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 350);\n\t\t\t\t});\n\n\t\t\t\tcellList.changeViewZones(accessor => {\n\t\t\t\t\tconst id = accessor.addZone({\n\t\t\t\t\t\tafterModelPosition: 1,\n\t\t\t\t\t\theightInPx: 20,\n\t\t\t\t\t\tdomNode: document.createElement('div')\n\t\t\t\t\t});\n\n\t\t\t\t\taccessor.layoutZone(id);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 370);\n\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(0), 0);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(1), 70);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(2), 170);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(3), 220);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(4), 320);\n\n\t\t\t\t\taccessor.removeZone(id);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 350);\n\t\t\t\t});\n\n\t\t\t\t// Whitespace should be hidden if it's after the header in a folding region\n\t\t\t\tcellList.changeViewZones(accessor => {\n\t\t\t\t\tconst id = accessor.addZone({\n\t\t\t\t\t\tafterModelPosition: 3,\n\t\t\t\t\t\theightInPx: 20,\n\t\t\t\t\t\tdomNode: document.createElement('div')\n\t\t\t\t\t});\n\n\t\t\t\t\taccessor.layoutZone(id);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 370);\n\n\t\t\t\t\tconst foldingModel = disposables.add(new FoldingModel());\n\t\t\t\t\tfoldingModel.attachViewModel(viewModel);\n\t\t\t\t\tfoldingModel.applyMemento([{ start: 2, end: 3 }]);\n\t\t\t\t\tviewModel.updateFoldingRanges(foldingModel.regions);\n\t\t\t\t\tassert.deepStrictEqual(viewModel.getHiddenRanges(), [\n\t\t\t\t\t\t{ start: 3, end: 3 }\n\t\t\t\t\t]);\n\t\t\t\t\tcellList.setHiddenAreas(viewModel.getHiddenRanges(), true);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 250);\n\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(0), 0);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(1), 50);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(2), 150);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(3), 200);\n\n\t\t\t\t\tcellList.setHiddenAreas([], true);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 370);\n\t\t\t\t\taccessor.removeZone(id);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 350);\n\t\t\t\t});\n\n\t\t\t\t// Whitespace should not be hidden if it's after the last cell in a folding region\n\t\t\t\tcellList.changeViewZones(accessor => {\n\t\t\t\t\tconst id = accessor.addZone({\n\t\t\t\t\t\tafterModelPosition: 4,\n\t\t\t\t\t\theightInPx: 20,\n\t\t\t\t\t\tdomNode: document.createElement('div')\n\t\t\t\t\t});\n\n\t\t\t\t\taccessor.layoutZone(id);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 370);\n\n\t\t\t\t\tconst foldingModel = disposables.add(new FoldingModel());\n\t\t\t\t\tfoldingModel.attachViewModel(viewModel);\n\t\t\t\t\tfoldingModel.applyMemento([{ start: 2, end: 3 }]);\n\t\t\t\t\tviewModel.updateFoldingRanges(foldingModel.regions);\n\t\t\t\t\tassert.deepStrictEqual(viewModel.getHiddenRanges(), [\n\t\t\t\t\t\t{ start: 3, end: 3 }\n\t\t\t\t\t]);\n\t\t\t\t\tcellList.setHiddenAreas(viewModel.getHiddenRanges(), true);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 270);\n\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(0), 0);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(1), 50);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(2), 150);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(3), 220);\n\n\t\t\t\t\tcellList.setHiddenAreas([], true);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 370);\n\t\t\t\t\taccessor.removeZone(id);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 350);\n\t\t\t\t});\n\n\t\t\t\t// Whitespace move when previous folding regions fold\n\t\t\t\tcellList.changeViewZones(accessor => {\n\t\t\t\t\tconst id = accessor.addZone({\n\t\t\t\t\t\tafterModelPosition: 4,\n\t\t\t\t\t\theightInPx: 20,\n\t\t\t\t\t\tdomNode: document.createElement('div')\n\t\t\t\t\t});\n\n\t\t\t\t\taccessor.layoutZone(id);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 370);\n\n\t\t\t\t\tconst foldingModel = disposables.add(new FoldingModel());\n\t\t\t\t\tfoldingModel.attachViewModel(viewModel);\n\t\t\t\t\tfoldingModel.applyMemento([{ start: 0, end: 1 }]);\n\t\t\t\t\tviewModel.updateFoldingRanges(foldingModel.regions);\n\t\t\t\t\tassert.deepStrictEqual(viewModel.getHiddenRanges(), [\n\t\t\t\t\t\t{ start: 1, end: 1 }\n\t\t\t\t\t]);\n\t\t\t\t\tcellList.setHiddenAreas(viewModel.getHiddenRanges(), true);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 270);\n\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(0), 0);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(1), 50);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(2), 100);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(3), 220);\n\n\t\t\t\t\tcellList.setHiddenAreas([], true);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 370);\n\t\t\t\t\taccessor.removeZone(id);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 350);\n\t\t\t\t});\n\t\t\t});\n\t});\n\n\ttest('Whitespace with multiple viewzones at same position', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['# header a', 'markdown', CellKind.Markup, [], {}],\n\t\t\t\t['var b = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['# header b', 'markdown', CellKind.Markup, [], {}],\n\t\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['# header c', 'markdown', CellKind.Markup, [], {}]\n\t\t\t],\n\t\t\tasync (editor, viewModel, disposables) => {\n\t\t\t\tviewModel.restoreEditorViewState({\n\t\t\t\t\teditingCells: [false, false, false, false, false],\n\t\t\t\t\tcellLineNumberStates: {},\n\t\t\t\t\teditorViewStates: [null, null, null, null, null],\n\t\t\t\t\tcellTotalHeights: [50, 100, 50, 100, 50],\n\t\t\t\t\tcollapsedInputCells: {},\n\t\t\t\t\tcollapsedOutputCells: {},\n\t\t\t\t});\n\n\t\t\t\tconst cellList = createNotebookCellList(instantiationService, disposables);\n\t\t\t\tdisposables.add(cellList);\n\t\t\t\tcellList.attachViewModel(viewModel);\n\n\t\t\t\t// render height 210, it can render 3 full cells and 1 partial cell\n\t\t\t\tcellList.layout(210, 100);\n\t\t\t\tassert.strictEqual(cellList.scrollHeight, 350);\n\n\t\t\t\tcellList.changeViewZones(accessor => {\n\t\t\t\t\tconst first = accessor.addZone({\n\t\t\t\t\t\tafterModelPosition: 0,\n\t\t\t\t\t\theightInPx: 20,\n\t\t\t\t\t\tdomNode: document.createElement('div')\n\t\t\t\t\t});\n\n\t\t\t\t\taccessor.layoutZone(first);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 370);\n\n\t\t\t\t\tconst second = accessor.addZone({\n\t\t\t\t\t\tafterModelPosition: 0,\n\t\t\t\t\t\theightInPx: 20,\n\t\t\t\t\t\tdomNode: document.createElement('div')\n\t\t\t\t\t});\n\t\t\t\t\taccessor.layoutZone(second);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 390);\n\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(0), 40);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(1), 90);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(2), 190);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(3), 240);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(4), 340);\n\n\n\t\t\t\t\taccessor.removeZone(first);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 370);\n\t\t\t\t\taccessor.removeZone(second);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 350);\n\t\t\t\t});\n\t\t\t});\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n\nimport assert from 'assert';\nimport { DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { TestConfigurationService } from '../../../../../platform/configuration/test/common/testConfigurationService.js';\nimport { TestInstantiationService } from '../../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { NotebookCellsLayout } from '../../browser/view/notebookCellListView.js';\nimport { FoldingModel } from '../../browser/viewModel/foldingModel.js';\nimport { CellEditType, CellKind } from '../../common/notebookCommon.js';\nimport { createNotebookCellList, setupInstantiationService, withTestNotebook } from './testNotebookEditor.js';\n\nsuite('NotebookRangeMap', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('empty', () => {\n\t\tconst rangeMap = new NotebookCellsLayout();\n\t\tassert.strictEqual(rangeMap.size, 0);\n\t\tassert.strictEqual(rangeMap.count, 0);\n\t});\n\n\tconst one = { size: 1 };\n\tconst two = { size: 2 };\n\tconst three = { size: 3 };\n\tconst five = { size: 5 };\n\tconst ten = { size: 10 };\n\n\ttest('length & count', () => {\n\t\tconst rangeMap = new NotebookCellsLayout();\n\t\trangeMap.splice(0, 0, [one]);\n\t\tassert.strictEqual(rangeMap.size, 1);\n\t\tassert.strictEqual(rangeMap.count, 1);\n\t});\n\n\ttest('length & count #2', () => {\n\t\tconst rangeMap = new NotebookCellsLayout();\n\t\trangeMap.splice(0, 0, [one, one, one, one, one]);\n\t\tassert.strictEqual(rangeMap.size, 5);\n\t\tassert.strictEqual(rangeMap.count, 5);\n\t});\n\n\ttest('length & count #3', () => {\n\t\tconst rangeMap = new NotebookCellsLayout();\n\t\trangeMap.splice(0, 0, [five]);\n\t\tassert.strictEqual(rangeMap.size, 5);\n\t\tassert.strictEqual(rangeMap.count, 1);\n\t});\n\n\ttest('length & count #4', () => {\n\t\tconst rangeMap = new NotebookCellsLayout();\n\t\trangeMap.splice(0, 0, [five, five, five, five, five]);\n\t\tassert.strictEqual(rangeMap.size, 25);\n\t\tassert.strictEqual(rangeMap.count, 5);\n\t});\n\n\ttest('insert', () => {\n\t\tconst rangeMap = new NotebookCellsLayout();\n\t\trangeMap.splice(0, 0, [five, five, five, five, five]);\n\t\tassert.strictEqual(rangeMap.size, 25);\n\t\tassert.strictEqual(rangeMap.count, 5);\n\n\t\trangeMap.splice(0, 0, [five, five, five, five, five]);\n\t\tassert.strictEqual(rangeMap.size, 50);\n\t\tassert.strictEqual(rangeMap.count, 10);\n\n\t\trangeMap.splice(5, 0, [ten, ten]);\n\t\tassert.strictEqual(rangeMap.size, 70);\n\t\tassert.strictEqual(rangeMap.count, 12);\n\n\t\trangeMap.splice(12, 0, [{ size: 200 }]);\n\t\tassert.strictEqual(rangeMap.size, 270);\n\t\tassert.strictEqual(rangeMap.count, 13);\n\t});\n\n\ttest('delete', () => {\n\t\tconst rangeMap = new NotebookCellsLayout();\n\t\trangeMap.splice(0, 0, [five, five, five, five, five,\n\t\t\tfive, five, five, five, five,\n\t\t\tfive, five, five, five, five,\n\t\t\tfive, five, five, five, five]);\n\t\tassert.strictEqual(rangeMap.size, 100);\n\t\tassert.strictEqual(rangeMap.count, 20);\n\n\t\trangeMap.splice(10, 5);\n\t\tassert.strictEqual(rangeMap.size, 75);\n\t\tassert.strictEqual(rangeMap.count, 15);\n\n\t\trangeMap.splice(0, 1);\n\t\tassert.strictEqual(rangeMap.size, 70);\n\t\tassert.strictEqual(rangeMap.count, 14);\n\n\t\trangeMap.splice(1, 13);\n\t\tassert.strictEqual(rangeMap.size, 5);\n\t\tassert.strictEqual(rangeMap.count, 1);\n\n\t\trangeMap.splice(1, 1);\n\t\tassert.strictEqual(rangeMap.size, 5);\n\t\tassert.strictEqual(rangeMap.count, 1);\n\t});\n\n\ttest('insert & delete', () => {\n\t\tconst rangeMap = new NotebookCellsLayout();\n\t\tassert.strictEqual(rangeMap.size, 0);\n\t\tassert.strictEqual(rangeMap.count, 0);\n\n\t\trangeMap.splice(0, 0, [one]);\n\t\tassert.strictEqual(rangeMap.size, 1);\n\t\tassert.strictEqual(rangeMap.count, 1);\n\n\t\trangeMap.splice(0, 1);\n\t\tassert.strictEqual(rangeMap.size, 0);\n\t\tassert.strictEqual(rangeMap.count, 0);\n\t});\n\n\ttest('insert & delete #2', () => {\n\t\tconst rangeMap = new NotebookCellsLayout();\n\t\trangeMap.splice(0, 0, [one, one, one, one, one,\n\t\t\tone, one, one, one, one]);\n\t\trangeMap.splice(2, 6);\n\t\tassert.strictEqual(rangeMap.count, 4);\n\t\tassert.strictEqual(rangeMap.size, 4);\n\t});\n\n\ttest('insert & delete #3', () => {\n\t\tconst rangeMap = new NotebookCellsLayout();\n\t\trangeMap.splice(0, 0, [one, one, one, one, one,\n\t\t\tone, one, one, one, one,\n\t\t\ttwo, two, two, two, two,\n\t\t\ttwo, two, two, two, two]);\n\t\trangeMap.splice(8, 4);\n\t\tassert.strictEqual(rangeMap.count, 16);\n\t\tassert.strictEqual(rangeMap.size, 24);\n\t});\n\n\ttest('insert & delete #4', () => {\n\t\tconst rangeMap = new NotebookCellsLayout();\n\t\trangeMap.splice(0, 0, [one, one, one, one, one,\n\t\t\tone, one, one, one, one,\n\t\t\ttwo, two, two, two, two,\n\t\t\ttwo, two, two, two, two]);\n\t\trangeMap.splice(5, 0, [three, three, three, three, three]);\n\t\tassert.strictEqual(rangeMap.count, 25);\n\t\tassert.strictEqual(rangeMap.size, 45);\n\n\t\trangeMap.splice(4, 7);\n\t\tassert.strictEqual(rangeMap.count, 18);\n\t\tassert.strictEqual(rangeMap.size, 28);\n\t});\n\n\tsuite('indexAt, positionAt', () => {\n\t\ttest('empty', () => {\n\t\t\tconst rangeMap = new NotebookCellsLayout();\n\t\t\tassert.strictEqual(rangeMap.indexAt(0), 0);\n\t\t\tassert.strictEqual(rangeMap.indexAt(10), 0);\n\t\t\tassert.strictEqual(rangeMap.indexAt(-1), -1);\n\t\t\tassert.strictEqual(rangeMap.positionAt(0), -1);\n\t\t\tassert.strictEqual(rangeMap.positionAt(10), -1);\n\t\t\tassert.strictEqual(rangeMap.positionAt(-1), -1);\n\t\t});\n\n\t\ttest('simple', () => {\n\t\t\tconst rangeMap = new NotebookCellsLayout();\n\t\t\trangeMap.splice(0, 0, [one]);\n\t\t\tassert.strictEqual(rangeMap.indexAt(0), 0);\n\t\t\tassert.strictEqual(rangeMap.indexAt(1), 1);\n\t\t\tassert.strictEqual(rangeMap.positionAt(0), 0);\n\t\t\tassert.strictEqual(rangeMap.positionAt(1), -1);\n\t\t});\n\n\t\ttest('simple #2', () => {\n\t\t\tconst rangeMap = new NotebookCellsLayout();\n\t\t\trangeMap.splice(0, 0, [ten]);\n\t\t\tassert.strictEqual(rangeMap.indexAt(0), 0);\n\t\t\tassert.strictEqual(rangeMap.indexAt(5), 0);\n\t\t\tassert.strictEqual(rangeMap.indexAt(9), 0);\n\t\t\tassert.strictEqual(rangeMap.indexAt(10), 1);\n\t\t\tassert.strictEqual(rangeMap.positionAt(0), 0);\n\t\t\tassert.strictEqual(rangeMap.positionAt(1), -1);\n\t\t});\n\n\t\ttest('insert', () => {\n\t\t\tconst rangeMap = new NotebookCellsLayout();\n\t\t\trangeMap.splice(0, 0, [one, one, one, one, one, one, one, one, one, one]);\n\t\t\tassert.strictEqual(rangeMap.indexAt(0), 0);\n\t\t\tassert.strictEqual(rangeMap.indexAt(1), 1);\n\t\t\tassert.strictEqual(rangeMap.indexAt(5), 5);\n\t\t\tassert.strictEqual(rangeMap.indexAt(9), 9);\n\t\t\tassert.strictEqual(rangeMap.indexAt(10), 10);\n\t\t\tassert.strictEqual(rangeMap.indexAt(11), 10);\n\n\t\t\trangeMap.splice(10, 0, [one, one, one, one, one, one, one, one, one, one]);\n\t\t\tassert.strictEqual(rangeMap.indexAt(10), 10);\n\t\t\tassert.strictEqual(rangeMap.indexAt(19), 19);\n\t\t\tassert.strictEqual(rangeMap.indexAt(20), 20);\n\t\t\tassert.strictEqual(rangeMap.indexAt(21), 20);\n\t\t\tassert.strictEqual(rangeMap.positionAt(0), 0);\n\t\t\tassert.strictEqual(rangeMap.positionAt(1), 1);\n\t\t\tassert.strictEqual(rangeMap.positionAt(19), 19);\n\t\t\tassert.strictEqual(rangeMap.positionAt(20), -1);\n\t\t});\n\n\t\ttest('delete', () => {\n\t\t\tconst rangeMap = new NotebookCellsLayout();\n\t\t\trangeMap.splice(0, 0, [one, one, one, one, one, one, one, one, one, one]);\n\t\t\trangeMap.splice(2, 6);\n\n\t\t\tassert.strictEqual(rangeMap.indexAt(0), 0);\n\t\t\tassert.strictEqual(rangeMap.indexAt(1), 1);\n\t\t\tassert.strictEqual(rangeMap.indexAt(3), 3);\n\t\t\tassert.strictEqual(rangeMap.indexAt(4), 4);\n\t\t\tassert.strictEqual(rangeMap.indexAt(5), 4);\n\t\t\tassert.strictEqual(rangeMap.positionAt(0), 0);\n\t\t\tassert.strictEqual(rangeMap.positionAt(1), 1);\n\t\t\tassert.strictEqual(rangeMap.positionAt(3), 3);\n\t\t\tassert.strictEqual(rangeMap.positionAt(4), -1);\n\t\t});\n\n\t\ttest('delete #2', () => {\n\t\t\tconst rangeMap = new NotebookCellsLayout();\n\t\t\trangeMap.splice(0, 0, [ten, ten, ten, ten, ten, ten, ten, ten, ten, ten]);\n\t\t\trangeMap.splice(2, 6);\n\n\t\t\tassert.strictEqual(rangeMap.indexAt(0), 0);\n\t\t\tassert.strictEqual(rangeMap.indexAt(1), 0);\n\t\t\tassert.strictEqual(rangeMap.indexAt(30), 3);\n\t\t\tassert.strictEqual(rangeMap.indexAt(40), 4);\n\t\t\tassert.strictEqual(rangeMap.indexAt(50), 4);\n\t\t\tassert.strictEqual(rangeMap.positionAt(0), 0);\n\t\t\tassert.strictEqual(rangeMap.positionAt(1), 10);\n\t\t\tassert.strictEqual(rangeMap.positionAt(2), 20);\n\t\t\tassert.strictEqual(rangeMap.positionAt(3), 30);\n\t\t\tassert.strictEqual(rangeMap.positionAt(4), -1);\n\t\t});\n\t});\n});\n\nsuite('NotebookRangeMap with top padding', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('empty', () => {\n\t\tconst rangeMap = new NotebookCellsLayout(10);\n\t\tassert.strictEqual(rangeMap.size, 10);\n\t\tassert.strictEqual(rangeMap.count, 0);\n\t});\n\n\tconst one = { size: 1 };\n\tconst five = { size: 5 };\n\tconst ten = { size: 10 };\n\n\ttest('length & count', () => {\n\t\tconst rangeMap = new NotebookCellsLayout(10);\n\t\trangeMap.splice(0, 0, [one]);\n\t\tassert.strictEqual(rangeMap.size, 11);\n\t\tassert.strictEqual(rangeMap.count, 1);\n\t});\n\n\ttest('length & count #2', () => {\n\t\tconst rangeMap = new NotebookCellsLayout(10);\n\t\trangeMap.splice(0, 0, [one, one, one, one, one]);\n\t\tassert.strictEqual(rangeMap.size, 15);\n\t\tassert.strictEqual(rangeMap.count, 5);\n\t});\n\n\ttest('length & count #3', () => {\n\t\tconst rangeMap = new NotebookCellsLayout(10);\n\t\trangeMap.splice(0, 0, [five]);\n\t\tassert.strictEqual(rangeMap.size, 15);\n\t\tassert.strictEqual(rangeMap.count, 1);\n\t});\n\n\ttest('length & count #4', () => {\n\t\tconst rangeMap = new NotebookCellsLayout(10);\n\t\trangeMap.splice(0, 0, [five, five, five, five, five]);\n\t\tassert.strictEqual(rangeMap.size, 35);\n\t\tassert.strictEqual(rangeMap.count, 5);\n\t});\n\n\ttest('insert', () => {\n\t\tconst rangeMap = new NotebookCellsLayout(10);\n\t\trangeMap.splice(0, 0, [five, five, five, five, five]);\n\t\tassert.strictEqual(rangeMap.size, 35);\n\t\tassert.strictEqual(rangeMap.count, 5);\n\n\t\trangeMap.splice(0, 0, [five, five, five, five, five]);\n\t\tassert.strictEqual(rangeMap.size, 60);\n\t\tassert.strictEqual(rangeMap.count, 10);\n\n\t\trangeMap.splice(5, 0, [ten, ten]);\n\t\tassert.strictEqual(rangeMap.size, 80);\n\t\tassert.strictEqual(rangeMap.count, 12);\n\n\t\trangeMap.splice(12, 0, [{ size: 200 }]);\n\t\tassert.strictEqual(rangeMap.size, 280);\n\t\tassert.strictEqual(rangeMap.count, 13);\n\t});\n\n\tsuite('indexAt, positionAt', () => {\n\t\ttest('empty', () => {\n\t\t\tconst rangeMap = new NotebookCellsLayout(10);\n\t\t\tassert.strictEqual(rangeMap.indexAt(0), 0);\n\t\t\tassert.strictEqual(rangeMap.indexAt(10), 0);\n\t\t\tassert.strictEqual(rangeMap.indexAt(-1), -1);\n\t\t\tassert.strictEqual(rangeMap.positionAt(0), -1);\n\t\t\tassert.strictEqual(rangeMap.positionAt(10), -1);\n\t\t\tassert.strictEqual(rangeMap.positionAt(-1), -1);\n\t\t});\n\n\t\ttest('simple', () => {\n\t\t\tconst rangeMap = new NotebookCellsLayout(10);\n\t\t\trangeMap.splice(0, 0, [one]);\n\t\t\tassert.strictEqual(rangeMap.indexAt(0), 0);\n\t\t\tassert.strictEqual(rangeMap.indexAt(1), 0);\n\t\t\tassert.strictEqual(rangeMap.indexAt(10), 0);\n\t\t\tassert.strictEqual(rangeMap.indexAt(11), 1);\n\t\t\tassert.strictEqual(rangeMap.positionAt(0), 10);\n\t\t\tassert.strictEqual(rangeMap.positionAt(1), -1);\n\t\t});\n\t});\n});\n\nsuite('NotebookRangeMap with whitesspaces', () => {\n\tlet testDisposables: DisposableStore;\n\tlet instantiationService: TestInstantiationService;\n\tlet config: TestConfigurationService;\n\n\tteardown(() => {\n\t\ttestDisposables.dispose();\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tsetup(() => {\n\t\ttestDisposables = new DisposableStore();\n\t\tinstantiationService = setupInstantiationService(testDisposables);\n\t\tconfig = new TestConfigurationService();\n\t\tinstantiationService.stub(IConfigurationService, config);\n\t});\n\n\ttest('simple', () => {\n\t\tconst rangeMap = new NotebookCellsLayout(0);\n\t\trangeMap.splice(0, 0, [{ size: 479 }, { size: 163 }, { size: 182 }, { size: 106 }, { size: 106 }, { size: 106 }, { size: 87 }]);\n\n\t\tconst start = rangeMap.indexAt(650);\n\t\tconst end = rangeMap.indexAfter(650 + 890 - 1);\n\t\tassert.strictEqual(start, 2);\n\t\tassert.strictEqual(end, 7);\n\n\t\trangeMap.insertWhitespace('1', 0, 18);\n\t\tassert.strictEqual(rangeMap.indexAt(650), 1);\n\t});\n\n\ttest('Whitespace CRUD', async function () {\n\t\tconst twenty = { size: 20 };\n\n\t\tconst rangeMap = new NotebookCellsLayout(0);\n\t\trangeMap.splice(0, 0, [twenty, twenty, twenty]);\n\t\trangeMap.insertWhitespace('0', 0, 5);\n\t\trangeMap.insertWhitespace('1', 0, 5);\n\t\tassert.strictEqual(rangeMap.indexAt(0), 0);\n\t\tassert.strictEqual(rangeMap.indexAt(1), 0);\n\t\tassert.strictEqual(rangeMap.indexAt(10), 0);\n\t\tassert.strictEqual(rangeMap.indexAt(11), 0);\n\t\tassert.strictEqual(rangeMap.indexAt(21), 0);\n\t\tassert.strictEqual(rangeMap.indexAt(31), 1);\n\t\tassert.strictEqual(rangeMap.positionAt(0), 10);\n\n\t\tassert.strictEqual(rangeMap.getWhitespacePosition('0'), 0);\n\t\tassert.strictEqual(rangeMap.getWhitespacePosition('1'), 5);\n\n\t\tassert.strictEqual(rangeMap.positionAt(0), 10);\n\t\tassert.strictEqual(rangeMap.positionAt(1), 30);\n\n\t\trangeMap.changeOneWhitespace('0', 0, 10);\n\t\tassert.strictEqual(rangeMap.getWhitespacePosition('0'), 0);\n\t\tassert.strictEqual(rangeMap.getWhitespacePosition('1'), 10);\n\n\t\tassert.strictEqual(rangeMap.positionAt(0), 15);\n\t\tassert.strictEqual(rangeMap.positionAt(1), 35);\n\n\t\trangeMap.removeWhitespace('1');\n\t\tassert.strictEqual(rangeMap.getWhitespacePosition('0'), 0);\n\n\t\tassert.strictEqual(rangeMap.positionAt(0), 10);\n\t\tassert.strictEqual(rangeMap.positionAt(1), 30);\n\t});\n\n\ttest('Whitespace with editing', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['# header a', 'markdown', CellKind.Markup, [], {}],\n\t\t\t\t['var b = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['# header b', 'markdown', CellKind.Markup, [], {}],\n\t\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['# header c', 'markdown', CellKind.Markup, [], {}]\n\t\t\t],\n\t\t\tasync (editor, viewModel, disposables) => {\n\t\t\t\tviewModel.restoreEditorViewState({\n\t\t\t\t\teditingCells: [false, false, false, false, false],\n\t\t\t\t\tcellLineNumberStates: {},\n\t\t\t\t\teditorViewStates: [null, null, null, null, null],\n\t\t\t\t\tcellTotalHeights: [50, 100, 50, 100, 50],\n\t\t\t\t\tcollapsedInputCells: {},\n\t\t\t\t\tcollapsedOutputCells: {},\n\t\t\t\t});\n\n\t\t\t\tconst cellList = createNotebookCellList(instantiationService, disposables);\n\t\t\t\tdisposables.add(cellList);\n\t\t\t\tcellList.attachViewModel(viewModel);\n\n\t\t\t\t// render height 210, it can render 3 full cells and 1 partial cell\n\t\t\t\tcellList.layout(210, 100);\n\t\t\t\tassert.strictEqual(cellList.scrollHeight, 350);\n\n\t\t\t\tcellList.changeViewZones(accessor => {\n\t\t\t\t\tconst id = accessor.addZone({\n\t\t\t\t\t\tafterModelPosition: 1,\n\t\t\t\t\t\theightInPx: 20,\n\t\t\t\t\t\tdomNode: document.createElement('div')\n\t\t\t\t\t});\n\n\t\t\t\t\taccessor.layoutZone(id);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 370);\n\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(0), 0);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(1), 70);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(2), 170);\n\n\t\t\t\t\tconst textModel = editor.textModel;\n\t\t\t\t\ttextModel.applyEdits([\n\t\t\t\t\t\t{ editType: CellEditType.Replace, index: 0, count: 1, cells: [] },\n\t\t\t\t\t], true, undefined, () => undefined, undefined, true);\n\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(0), 20);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(1), 120);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(2), 170);\n\n\t\t\t\t\taccessor.removeZone(id);\n\t\t\t\t});\n\t\t\t});\n\t});\n\n\ttest('Multiple Whitespaces', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['# header a', 'markdown', CellKind.Markup, [], {}],\n\t\t\t\t['var b = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['# header b', 'markdown', CellKind.Markup, [], {}],\n\t\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['# header c', 'markdown', CellKind.Markup, [], {}]\n\t\t\t],\n\t\t\tasync (editor, viewModel, disposables) => {\n\t\t\t\tviewModel.restoreEditorViewState({\n\t\t\t\t\teditingCells: [false, false, false, false, false],\n\t\t\t\t\tcellLineNumberStates: {},\n\t\t\t\t\teditorViewStates: [null, null, null, null, null],\n\t\t\t\t\tcellTotalHeights: [50, 100, 50, 100, 50],\n\t\t\t\t\tcollapsedInputCells: {},\n\t\t\t\t\tcollapsedOutputCells: {},\n\t\t\t\t});\n\n\t\t\t\tconst cellList = createNotebookCellList(instantiationService, disposables);\n\t\t\t\tdisposables.add(cellList);\n\t\t\t\tcellList.attachViewModel(viewModel);\n\n\t\t\t\t// render height 210, it can render 3 full cells and 1 partial cell\n\t\t\t\tcellList.layout(210, 100);\n\t\t\t\tassert.strictEqual(cellList.scrollHeight, 350);\n\n\t\t\t\tcellList.changeViewZones(accessor => {\n\t\t\t\t\tconst first = accessor.addZone({\n\t\t\t\t\t\tafterModelPosition: 0,\n\t\t\t\t\t\theightInPx: 20,\n\t\t\t\t\t\tdomNode: document.createElement('div')\n\t\t\t\t\t});\n\t\t\t\t\taccessor.layoutZone(first);\n\n\t\t\t\t\tconst second = accessor.addZone({\n\t\t\t\t\t\tafterModelPosition: 3,\n\t\t\t\t\t\theightInPx: 20,\n\t\t\t\t\t\tdomNode: document.createElement('div')\n\t\t\t\t\t});\n\t\t\t\t\taccessor.layoutZone(second);\n\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 390);\n\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(0), 20);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(1), 70);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(2), 170);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(3), 240);\n\n\t\t\t\t\taccessor.removeZone(first);\n\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 370);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(0), 0);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(1), 50);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(2), 150);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(3), 220);\n\n\t\t\t\t\taccessor.removeZone(second);\n\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 350);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(3), 200);\n\t\t\t\t});\n\t\t\t});\n\t});\n\n\ttest('Multiple Whitespaces 2', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['# header a', 'markdown', CellKind.Markup, [], {}],\n\t\t\t\t['var b = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['# header b', 'markdown', CellKind.Markup, [], {}],\n\t\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['# header c', 'markdown', CellKind.Markup, [], {}]\n\t\t\t],\n\t\t\tasync (editor, viewModel, disposables) => {\n\t\t\t\tviewModel.restoreEditorViewState({\n\t\t\t\t\teditingCells: [false, false, false, false, false],\n\t\t\t\t\tcellLineNumberStates: {},\n\t\t\t\t\teditorViewStates: [null, null, null, null, null],\n\t\t\t\t\tcellTotalHeights: [50, 100, 50, 100, 50],\n\t\t\t\t\tcollapsedInputCells: {},\n\t\t\t\t\tcollapsedOutputCells: {},\n\t\t\t\t});\n\n\t\t\t\tconst cellList = createNotebookCellList(instantiationService, disposables);\n\t\t\t\tdisposables.add(cellList);\n\t\t\t\tcellList.attachViewModel(viewModel);\n\n\t\t\t\t// render height 210, it can render 3 full cells and 1 partial cell\n\t\t\t\tcellList.layout(210, 100);\n\t\t\t\tassert.strictEqual(cellList.scrollHeight, 350);\n\n\t\t\t\tcellList.changeViewZones(accessor => {\n\t\t\t\t\tconst first = accessor.addZone({\n\t\t\t\t\t\tafterModelPosition: 0,\n\t\t\t\t\t\theightInPx: 20,\n\t\t\t\t\t\tdomNode: document.createElement('div')\n\t\t\t\t\t});\n\t\t\t\t\taccessor.layoutZone(first);\n\n\t\t\t\t\tconst second = accessor.addZone({\n\t\t\t\t\t\tafterModelPosition: 1,\n\t\t\t\t\t\theightInPx: 20,\n\t\t\t\t\t\tdomNode: document.createElement('div')\n\t\t\t\t\t});\n\t\t\t\t\taccessor.layoutZone(second);\n\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 390);\n\t\t\t\t\tassert.strictEqual(cellList._getView().getWhitespacePosition(first), 0);\n\t\t\t\t\tassert.strictEqual(cellList._getView().getWhitespacePosition(second), 70);\n\n\t\t\t\t\taccessor.removeZone(first);\n\t\t\t\t\taccessor.removeZone(second);\n\t\t\t\t});\n\t\t\t});\n\t});\n\n\ttest('Multiple Whitespaces 3', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['# header a', 'markdown', CellKind.Markup, [], {}],\n\t\t\t\t['var b = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['# header b', 'markdown', CellKind.Markup, [], {}],\n\t\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['# header c', 'markdown', CellKind.Markup, [], {}]\n\t\t\t],\n\t\t\tasync (editor, viewModel, disposables) => {\n\t\t\t\tviewModel.restoreEditorViewState({\n\t\t\t\t\teditingCells: [false, false, false, false, false],\n\t\t\t\t\tcellLineNumberStates: {},\n\t\t\t\t\teditorViewStates: [null, null, null, null, null],\n\t\t\t\t\tcellTotalHeights: [50, 100, 50, 100, 50],\n\t\t\t\t\tcollapsedInputCells: {},\n\t\t\t\t\tcollapsedOutputCells: {},\n\t\t\t\t});\n\n\t\t\t\tconst cellList = createNotebookCellList(instantiationService, disposables);\n\t\t\t\tdisposables.add(cellList);\n\t\t\t\tcellList.attachViewModel(viewModel);\n\n\t\t\t\t// render height 210, it can render 3 full cells and 1 partial cell\n\t\t\t\tcellList.layout(210, 100);\n\t\t\t\tassert.strictEqual(cellList.scrollHeight, 350);\n\n\t\t\t\tcellList.changeViewZones(accessor => {\n\t\t\t\t\tconst first = accessor.addZone({\n\t\t\t\t\t\tafterModelPosition: 1,\n\t\t\t\t\t\theightInPx: 20,\n\t\t\t\t\t\tdomNode: document.createElement('div')\n\t\t\t\t\t});\n\t\t\t\t\taccessor.layoutZone(first);\n\n\t\t\t\t\tconst second = accessor.addZone({\n\t\t\t\t\t\tafterModelPosition: 2,\n\t\t\t\t\t\theightInPx: 20,\n\t\t\t\t\t\tdomNode: document.createElement('div')\n\t\t\t\t\t});\n\t\t\t\t\taccessor.layoutZone(second);\n\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 390);\n\t\t\t\t\tassert.strictEqual(cellList._getView().getWhitespacePosition(first), 50);\n\t\t\t\t\tassert.strictEqual(cellList._getView().getWhitespacePosition(second), 170);\n\n\t\t\t\t\taccessor.removeZone(first);\n\t\t\t\t\taccessor.removeZone(second);\n\t\t\t\t});\n\t\t\t});\n\t});\n\n\t// test('Multiple Whitespaces 4', async function () {\n\t// \tawait withTestNotebook(\n\t// \t\t[\n\t// \t\t\t['# header a', 'markdown', CellKind.Markup, [], {}],\n\t// \t\t\t['var b = 1;', 'javascript', CellKind.Code, [], {}],\n\t// \t\t\t['# header b', 'markdown', CellKind.Markup, [], {}],\n\t// \t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}],\n\t// \t\t\t['# header c', 'markdown', CellKind.Markup, [], {}]\n\t// \t\t],\n\t// \t\tasync (editor, viewModel, disposables) => {\n\t// \t\t\tviewModel.restoreEditorViewState({\n\t// \t\t\t\teditingCells: [false, false, false, false, false],\n\t// \t\t\t\tcellLineNumberStates: {},\n\t// \t\t\t\teditorViewStates: [null, null, null, null, null],\n\t// \t\t\t\tcellTotalHeights: [50, 100, 50, 100, 50],\n\t// \t\t\t\tcollapsedInputCells: {},\n\t// \t\t\t\tcollapsedOutputCells: {},\n\t// \t\t\t});\n\n\t// \t\t\tconst cellList = createNotebookCellList(instantiationService, disposables);\n\t// \t\t\tdisposables.add(cellList);\n\t// \t\t\tcellList.attachViewModel(viewModel);\n\n\t// \t\t\t// render height 210, it can render 3 full cells and 1 partial cell\n\t// \t\t\tcellList.layout(210, 100);\n\t// \t\t\tassert.strictEqual(cellList.scrollHeight, 350);\n\n\t// \t\t\tcellList.changeViewZones(accessor => {\n\t// \t\t\t\tconst first = accessor.addZone({\n\t// \t\t\t\t\tafterModelPosition: 1,\n\t// \t\t\t\t\theightInPx: 20,\n\t// \t\t\t\t\tdomNode: document.createElement('div')\n\t// \t\t\t\t});\n\t// \t\t\t\taccessor.layoutZone(first);\n\n\t// \t\t\t\tconst second = accessor.addZone({\n\t// \t\t\t\t\tafterModelPosition: 1,\n\t// \t\t\t\t\theightInPx: 20,\n\t// \t\t\t\t\tdomNode: document.createElement('div')\n\t// \t\t\t\t});\n\t// \t\t\t\taccessor.layoutZone(second);\n\n\t// \t\t\t\tconst third = accessor.addZone({\n\t// \t\t\t\t\tafterModelPosition: 2,\n\t// \t\t\t\t\theightInPx: 20,\n\t// \t\t\t\t\tdomNode: document.createElement('div')\n\t// \t\t\t\t});\n\t// \t\t\t\taccessor.layoutZone(second);\n\n\t// \t\t\t\tassert.strictEqual(cellList.scrollHeight, 410);\n\t// \t\t\t\tassert.strictEqual(cellList._getView().getWhitespacePosition(first), 50);\n\t// \t\t\t\tassert.strictEqual(cellList._getView().getWhitespacePosition(second), 70);\n\t// \t\t\t\tassert.strictEqual(cellList._getView().getWhitespacePosition(third), 190);\n\n\t// \t\t\t\taccessor.removeZone(first);\n\t// \t\t\t\taccessor.removeZone(second);\n\t// \t\t\t\taccessor.removeZone(third);\n\t// \t\t\t});\n\t// \t\t});\n\t// });\n\n\ttest('Whitespace with folding support', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['# header a', 'markdown', CellKind.Markup, [], {}],\n\t\t\t\t['var b = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['# header b', 'markdown', CellKind.Markup, [], {}],\n\t\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['# header c', 'markdown', CellKind.Markup, [], {}]\n\t\t\t],\n\t\t\tasync (editor, viewModel, disposables) => {\n\t\t\t\tviewModel.restoreEditorViewState({\n\t\t\t\t\teditingCells: [false, false, false, false, false],\n\t\t\t\t\tcellLineNumberStates: {},\n\t\t\t\t\teditorViewStates: [null, null, null, null, null],\n\t\t\t\t\tcellTotalHeights: [50, 100, 50, 100, 50],\n\t\t\t\t\tcollapsedInputCells: {},\n\t\t\t\t\tcollapsedOutputCells: {},\n\t\t\t\t});\n\n\t\t\t\tconst cellList = createNotebookCellList(instantiationService, disposables);\n\t\t\t\tdisposables.add(cellList);\n\t\t\t\tcellList.attachViewModel(viewModel);\n\n\t\t\t\t// render height 210, it can render 3 full cells and 1 partial cell\n\t\t\t\tcellList.layout(210, 100);\n\t\t\t\tassert.strictEqual(cellList.scrollHeight, 350);\n\n\t\t\t\tcellList.changeViewZones(accessor => {\n\t\t\t\t\tconst id = accessor.addZone({\n\t\t\t\t\t\tafterModelPosition: 0,\n\t\t\t\t\t\theightInPx: 20,\n\t\t\t\t\t\tdomNode: document.createElement('div')\n\t\t\t\t\t});\n\n\t\t\t\t\taccessor.layoutZone(id);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 370);\n\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(0), 20);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(1), 70);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(2), 170);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(3), 220);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(4), 320);\n\n\t\t\t\t\taccessor.removeZone(id);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 350);\n\t\t\t\t});\n\n\t\t\t\tcellList.changeViewZones(accessor => {\n\t\t\t\t\tconst id = accessor.addZone({\n\t\t\t\t\t\tafterModelPosition: 1,\n\t\t\t\t\t\theightInPx: 20,\n\t\t\t\t\t\tdomNode: document.createElement('div')\n\t\t\t\t\t});\n\n\t\t\t\t\taccessor.layoutZone(id);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 370);\n\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(0), 0);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(1), 70);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(2), 170);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(3), 220);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(4), 320);\n\n\t\t\t\t\taccessor.removeZone(id);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 350);\n\t\t\t\t});\n\n\t\t\t\t// Whitespace should be hidden if it's after the header in a folding region\n\t\t\t\tcellList.changeViewZones(accessor => {\n\t\t\t\t\tconst id = accessor.addZone({\n\t\t\t\t\t\tafterModelPosition: 3,\n\t\t\t\t\t\theightInPx: 20,\n\t\t\t\t\t\tdomNode: document.createElement('div')\n\t\t\t\t\t});\n\n\t\t\t\t\taccessor.layoutZone(id);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 370);\n\n\t\t\t\t\tconst foldingModel = disposables.add(new FoldingModel());\n\t\t\t\t\tfoldingModel.attachViewModel(viewModel);\n\t\t\t\t\tfoldingModel.applyMemento([{ start: 2, end: 3 }]);\n\t\t\t\t\tviewModel.updateFoldingRanges(foldingModel.regions);\n\t\t\t\t\tassert.deepStrictEqual(viewModel.getHiddenRanges(), [\n\t\t\t\t\t\t{ start: 3, end: 3 }\n\t\t\t\t\t]);\n\t\t\t\t\tcellList.setHiddenAreas(viewModel.getHiddenRanges(), true);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 250);\n\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(0), 0);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(1), 50);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(2), 150);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(3), 200);\n\n\t\t\t\t\tcellList.setHiddenAreas([], true);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 370);\n\t\t\t\t\taccessor.removeZone(id);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 350);\n\t\t\t\t});\n\n\t\t\t\t// Whitespace should not be hidden if it's after the last cell in a folding region\n\t\t\t\tcellList.changeViewZones(accessor => {\n\t\t\t\t\tconst id = accessor.addZone({\n\t\t\t\t\t\tafterModelPosition: 4,\n\t\t\t\t\t\theightInPx: 20,\n\t\t\t\t\t\tdomNode: document.createElement('div')\n\t\t\t\t\t});\n\n\t\t\t\t\taccessor.layoutZone(id);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 370);\n\n\t\t\t\t\tconst foldingModel = disposables.add(new FoldingModel());\n\t\t\t\t\tfoldingModel.attachViewModel(viewModel);\n\t\t\t\t\tfoldingModel.applyMemento([{ start: 2, end: 3 }]);\n\t\t\t\t\tviewModel.updateFoldingRanges(foldingModel.regions);\n\t\t\t\t\tassert.deepStrictEqual(viewModel.getHiddenRanges(), [\n\t\t\t\t\t\t{ start: 3, end: 3 }\n\t\t\t\t\t]);\n\t\t\t\t\tcellList.setHiddenAreas(viewModel.getHiddenRanges(), true);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 270);\n\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(0), 0);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(1), 50);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(2), 150);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(3), 220);\n\n\t\t\t\t\tcellList.setHiddenAreas([], true);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 370);\n\t\t\t\t\taccessor.removeZone(id);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 350);\n\t\t\t\t});\n\n\t\t\t\t// Whitespace move when previous folding regions fold\n\t\t\t\tcellList.changeViewZones(accessor => {\n\t\t\t\t\tconst id = accessor.addZone({\n\t\t\t\t\t\tafterModelPosition: 4,\n\t\t\t\t\t\theightInPx: 20,\n\t\t\t\t\t\tdomNode: document.createElement('div')\n\t\t\t\t\t});\n\n\t\t\t\t\taccessor.layoutZone(id);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 370);\n\n\t\t\t\t\tconst foldingModel = disposables.add(new FoldingModel());\n\t\t\t\t\tfoldingModel.attachViewModel(viewModel);\n\t\t\t\t\tfoldingModel.applyMemento([{ start: 0, end: 1 }]);\n\t\t\t\t\tviewModel.updateFoldingRanges(foldingModel.regions);\n\t\t\t\t\tassert.deepStrictEqual(viewModel.getHiddenRanges(), [\n\t\t\t\t\t\t{ start: 1, end: 1 }\n\t\t\t\t\t]);\n\t\t\t\t\tcellList.setHiddenAreas(viewModel.getHiddenRanges(), true);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 270);\n\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(0), 0);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(1), 50);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(2), 100);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(3), 220);\n\n\t\t\t\t\tcellList.setHiddenAreas([], true);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 370);\n\t\t\t\t\taccessor.removeZone(id);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 350);\n\t\t\t\t});\n\t\t\t});\n\t});\n\n\ttest('Whitespace with multiple viewzones at same position', async function () {\n\t\tawait withTestNotebook(\n\t\t\t[\n\t\t\t\t['# header a', 'markdown', CellKind.Markup, [], {}],\n\t\t\t\t['var b = 1;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['# header b', 'markdown', CellKind.Markup, [], {}],\n\t\t\t\t['var b = 2;', 'javascript', CellKind.Code, [], {}],\n\t\t\t\t['# header c', 'markdown', CellKind.Markup, [], {}]\n\t\t\t],\n\t\t\tasync (editor, viewModel, disposables) => {\n\t\t\t\tviewModel.restoreEditorViewState({\n\t\t\t\t\teditingCells: [false, false, false, false, false],\n\t\t\t\t\tcellLineNumberStates: {},\n\t\t\t\t\teditorViewStates: [null, null, null, null, null],\n\t\t\t\t\tcellTotalHeights: [50, 100, 50, 100, 50],\n\t\t\t\t\tcollapsedInputCells: {},\n\t\t\t\t\tcollapsedOutputCells: {},\n\t\t\t\t});\n\n\t\t\t\tconst cellList = createNotebookCellList(instantiationService, disposables);\n\t\t\t\tdisposables.add(cellList);\n\t\t\t\tcellList.attachViewModel(viewModel);\n\n\t\t\t\t// render height 210, it can render 3 full cells and 1 partial cell\n\t\t\t\tcellList.layout(210, 100);\n\t\t\t\tassert.strictEqual(cellList.scrollHeight, 350);\n\n\t\t\t\tcellList.changeViewZones(accessor => {\n\t\t\t\t\tconst first = accessor.addZone({\n\t\t\t\t\t\tafterModelPosition: 0,\n\t\t\t\t\t\theightInPx: 20,\n\t\t\t\t\t\tdomNode: document.createElement('div')\n\t\t\t\t\t});\n\n\t\t\t\t\taccessor.layoutZone(first);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 370);\n\n\t\t\t\t\tconst second = accessor.addZone({\n\t\t\t\t\t\tafterModelPosition: 0,\n\t\t\t\t\t\theightInPx: 20,\n\t\t\t\t\t\tdomNode: document.createElement('div')\n\t\t\t\t\t});\n\t\t\t\t\taccessor.layoutZone(second);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 390);\n\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(0), 40);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(1), 90);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(2), 190);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(3), 240);\n\t\t\t\t\tassert.strictEqual(cellList.getElementTop(4), 340);\n\n\n\t\t\t\t\taccessor.removeZone(first);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 370);\n\t\t\t\t\taccessor.removeZone(second);\n\t\t\t\t\tassert.strictEqual(cellList.scrollHeight, 350);\n\t\t\t\t});\n\t\t\t});\n\t});\n});\n"]}