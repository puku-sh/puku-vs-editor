{"version":3,"sources":["vs/workbench/contrib/accessibilitySignals/browser/openDiffEditorAnnouncement.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;AAEhG,OAAO,EAAE,UAAU,EAAe,MAAM,sCAAsC,CAAC;AAC/E,OAAO,EAAE,YAAY,EAAE,MAAM,6CAA6C,CAAC;AAC3E,OAAO,EAAE,QAAQ,EAAE,MAAM,oBAAoB,CAAC;AAC9C,OAAO,EAAE,qBAAqB,EAAE,MAAM,4DAA4D,CAAC;AACnG,OAAO,EAAE,qBAAqB,EAAE,MAAM,4DAA4D,CAAC;AAEnG,OAAO,EAAE,cAAc,EAAE,MAAM,kDAAkD,CAAC;AAClF,OAAO,EAAE,KAAK,EAAE,MAAM,kCAAkC,CAAC;AAGlD,IAAM,wCAAwC,GAA9C,MAAM,wCAAyC,SAAQ,UAAU;aAEvD,OAAE,GAAG,gDAAH,AAAmD,CAAC;IAItE,YACkC,cAA8B,EACvB,qBAA4C,EAC5C,qBAA4C;QAEpF,KAAK,EAAE,CAAC;QAJyB,mBAAc,GAAd,cAAc,CAAgB;QACvB,0BAAqB,GAArB,qBAAqB,CAAuB;QAC5C,0BAAqB,GAArB,qBAAqB,CAAuB;QAGpF,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,eAAe,CAAC,qBAAqB,CAAC,gCAAgC,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC;QAC5H,IAAI,CAAC,SAAS,CAAC,qBAAqB,CAAC,wBAAwB,CAAC,CAAC,CAAC,EAAE;YACjE,IAAI,CAAC,CAAC,oBAAoB,mGAAkD,EAAE,CAAC;gBAC9E,IAAI,CAAC,eAAe,EAAE,CAAC;YACxB,CAAC;QACF,CAAC,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,eAAe;QACtB,MAAM,mBAAmB,GAAG,IAAI,CAAC,qBAAqB,CAAC,QAAQ,mGAAkD,CAAC;QAClH,MAAM,qBAAqB,GAAG,IAAI,CAAC,qBAAqB,CAAC,uBAAuB,EAAE,CAAC;QAEnF,IAAI,CAAC,mBAAmB,IAAI,CAAC,qBAAqB,EAAE,CAAC;YACpD,IAAI,CAAC,gCAAgC,EAAE,OAAO,EAAE,CAAC;YACjD,IAAI,CAAC,gCAAgC,GAAG,SAAS,CAAC;YAClD,OAAO;QACR,CAAC;QAED,IAAI,IAAI,CAAC,gCAAgC,EAAE,CAAC;YAC3C,OAAO;QACR,CAAC;QAED,IAAI,CAAC,gCAAgC,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,cAAc,CAAC,uBAAuB,CAAC,GAAG,EAAE;YACvG,IAAI,YAAY,CAAC,IAAI,CAAC,cAAc,CAAC,uBAAuB,CAAC,EAAE,CAAC;gBAC/D,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,QAAQ,CAAC,IAA4B,EAAE,IAAa,CAAC,CAAC,CAAC;YACzF,CAAC;QACF,CAAC,CAAC,CAAC,CAAC;IACL,CAAC;;AAvCW,wCAAwC;IAOlD,WAAA,cAAc,CAAA;IACd,WAAA,qBAAqB,CAAA;IACrB,WAAA,qBAAqB,CAAA;GATX,wCAAwC,CAwCpD","file":"openDiffEditorAnnouncement.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable, IDisposable } from '../../../../base/common/lifecycle.js';\nimport { isDiffEditor } from '../../../../editor/browser/editorBrowser.js';\nimport { localize } from '../../../../nls.js';\nimport { IAccessibilityService } from '../../../../platform/accessibility/common/accessibility.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IWorkbenchContribution } from '../../../common/contributions.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { AccessibilityVerbositySettingId } from '../../accessibility/browser/accessibilityConfiguration.js';\n\nexport class DiffEditorActiveAnnouncementContribution extends Disposable implements IWorkbenchContribution {\n\n\tstatic readonly ID = 'workbench.contrib.diffEditorActiveAnnouncement';\n\n\tprivate _onDidActiveEditorChangeListener?: IDisposable;\n\n\tconstructor(\n\t\t@IEditorService private readonly _editorService: IEditorService,\n\t\t@IAccessibilityService private readonly _accessibilityService: IAccessibilityService,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService\n\t) {\n\t\tsuper();\n\t\tthis._register(Event.runAndSubscribe(_accessibilityService.onDidChangeScreenReaderOptimized, () => this._updateListener()));\n\t\tthis._register(_configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration(AccessibilityVerbositySettingId.DiffEditorActive)) {\n\t\t\t\tthis._updateListener();\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate _updateListener(): void {\n\t\tconst announcementEnabled = this._configurationService.getValue(AccessibilityVerbositySettingId.DiffEditorActive);\n\t\tconst screenReaderOptimized = this._accessibilityService.isScreenReaderOptimized();\n\n\t\tif (!announcementEnabled || !screenReaderOptimized) {\n\t\t\tthis._onDidActiveEditorChangeListener?.dispose();\n\t\t\tthis._onDidActiveEditorChangeListener = undefined;\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._onDidActiveEditorChangeListener) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._onDidActiveEditorChangeListener = this._register(this._editorService.onDidActiveEditorChange(() => {\n\t\t\tif (isDiffEditor(this._editorService.activeTextEditorControl)) {\n\t\t\t\tthis._accessibilityService.alert(localize('openDiffEditorAnnouncement', \"Diff editor\"));\n\t\t\t}\n\t\t}));\n\t}\n}\n"]}