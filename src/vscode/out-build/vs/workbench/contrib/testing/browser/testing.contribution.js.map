{"version":3,"sources":["vs/workbench/contrib/testing/browser/testing.contribution.ts"],"names":[],"mappings":"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","file":"testing.contribution.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { URI } from '../../../../base/common/uri.js';\nimport { EditorContributionInstantiation, registerEditorContribution } from '../../../../editor/browser/editorExtensions.js';\nimport { localize, localize2 } from '../../../../nls.js';\nimport { registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { CommandsRegistry, ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { Extensions as ConfigurationExtensions, IConfigurationRegistry } from '../../../../platform/configuration/common/configurationRegistry.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IFileService } from '../../../../platform/files/common/files.js';\nimport { SyncDescriptor } from '../../../../platform/instantiation/common/descriptors.js';\nimport { InstantiationType, registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { IProgressService } from '../../../../platform/progress/common/progress.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { ViewPaneContainer } from '../../../browser/parts/views/viewPaneContainer.js';\nimport { registerWorkbenchContribution2, WorkbenchPhase } from '../../../common/contributions.js';\nimport { IViewContainersRegistry, IViewsRegistry, Extensions as ViewContainerExtensions, ViewContainerLocation } from '../../../common/views.js';\nimport { IViewsService } from '../../../services/views/common/viewsService.js';\nimport { REVEAL_IN_EXPLORER_COMMAND_ID } from '../../files/browser/fileConstants.js';\nimport { testingConfiguration } from '../common/configuration.js';\nimport { TestCommandId, Testing } from '../common/constants.js';\nimport { ITestCoverageService, TestCoverageService } from '../common/testCoverageService.js';\nimport { ITestExplorerFilterState, TestExplorerFilterState } from '../common/testExplorerFilterState.js';\nimport { TestId, TestPosition } from '../common/testId.js';\nimport { canUseProfileWithTest, ITestProfileService, TestProfileService } from '../common/testProfileService.js';\nimport { ITestResultService, TestResultService } from '../common/testResultService.js';\nimport { ITestResultStorage, TestResultStorage } from '../common/testResultStorage.js';\nimport { ITestService } from '../common/testService.js';\nimport { TestService } from '../common/testServiceImpl.js';\nimport { ITestItem, ITestRunProfileReference, TestRunProfileBitset } from '../common/testTypes.js';\nimport { TestingChatAgentToolContribution } from '../common/testingChatAgentTool.js';\nimport { TestingContentProvider } from '../common/testingContentProvider.js';\nimport { TestingContextKeys } from '../common/testingContextKeys.js';\nimport { ITestingContinuousRunService, TestingContinuousRunService } from '../common/testingContinuousRunService.js';\nimport { ITestingDecorationsService } from '../common/testingDecorations.js';\nimport { ITestingPeekOpener } from '../common/testingPeekOpener.js';\nimport { CodeCoverageDecorations } from './codeCoverageDecorations.js';\nimport { testingResultsIcon, testingViewIcon } from './icons.js';\nimport { TestCoverageView } from './testCoverageView.js';\nimport { allTestActions, discoverAndRunTests } from './testExplorerActions.js';\nimport './testingConfigurationUi.js';\nimport { TestingDecorations, TestingDecorationService } from './testingDecorations.js';\nimport { TestingExplorerView } from './testingExplorerView.js';\nimport { CloseTestPeek, CollapsePeekStack, GoToNextMessageAction, GoToPreviousMessageAction, OpenMessageInEditorAction, TestingOutputPeekController, TestingPeekOpener, TestResultsView, ToggleTestingPeekHistory } from './testingOutputPeek.js';\nimport { TestingProgressTrigger } from './testingProgressUiService.js';\nimport { TestingViewPaneContainer } from './testingViewPaneContainer.js';\n\nregisterSingleton(ITestService, TestService, InstantiationType.Delayed);\nregisterSingleton(ITestResultStorage, TestResultStorage, InstantiationType.Delayed);\nregisterSingleton(ITestProfileService, TestProfileService, InstantiationType.Delayed);\nregisterSingleton(ITestCoverageService, TestCoverageService, InstantiationType.Delayed);\nregisterSingleton(ITestingContinuousRunService, TestingContinuousRunService, InstantiationType.Delayed);\nregisterSingleton(ITestResultService, TestResultService, InstantiationType.Delayed);\nregisterSingleton(ITestExplorerFilterState, TestExplorerFilterState, InstantiationType.Delayed);\nregisterSingleton(ITestingPeekOpener, TestingPeekOpener, InstantiationType.Delayed);\nregisterSingleton(ITestingDecorationsService, TestingDecorationService, InstantiationType.Delayed);\n\nconst viewContainer = Registry.as<IViewContainersRegistry>(ViewContainerExtensions.ViewContainersRegistry).registerViewContainer({\n\tid: Testing.ViewletId,\n\ttitle: localize2('test', 'Testing'),\n\tctorDescriptor: new SyncDescriptor(TestingViewPaneContainer),\n\ticon: testingViewIcon,\n\talwaysUseContainerInfo: true,\n\torder: 6,\n\topenCommandActionDescriptor: {\n\t\tid: Testing.ViewletId,\n\t\tmnemonicTitle: localize({ key: 'miViewTesting', comment: ['&& denotes a mnemonic'] }, \"T&&esting\"),\n\t\t// todo: coordinate with joh whether this is available\n\t\t// keybindings: { primary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.US_SEMICOLON },\n\t\torder: 4,\n\t},\n\thideIfEmpty: true,\n}, ViewContainerLocation.Sidebar);\n\n\nconst testResultsViewContainer = Registry.as<IViewContainersRegistry>(ViewContainerExtensions.ViewContainersRegistry).registerViewContainer({\n\tid: Testing.ResultsPanelId,\n\ttitle: localize2('testResultsPanelName', \"Test Results\"),\n\ticon: testingResultsIcon,\n\tctorDescriptor: new SyncDescriptor(ViewPaneContainer, [Testing.ResultsPanelId, { mergeViewWithContainerWhenSingleView: true }]),\n\thideIfEmpty: true,\n\torder: 3,\n}, ViewContainerLocation.Panel, { doNotRegisterOpenCommand: true });\n\nconst viewsRegistry = Registry.as<IViewsRegistry>(ViewContainerExtensions.ViewsRegistry);\n\n\nviewsRegistry.registerViews([{\n\tid: Testing.ResultsViewId,\n\tname: localize2('testResultsPanelName', \"Test Results\"),\n\tcontainerIcon: testingResultsIcon,\n\tcanToggleVisibility: false,\n\tcanMoveView: true,\n\twhen: TestingContextKeys.hasAnyResults.isEqualTo(true),\n\tctorDescriptor: new SyncDescriptor(TestResultsView),\n}], testResultsViewContainer);\n\nviewsRegistry.registerViewWelcomeContent(Testing.ExplorerViewId, {\n\tcontent: localize('noTestProvidersRegistered', \"No tests have been found in this workspace yet.\"),\n});\n\nviewsRegistry.registerViewWelcomeContent(Testing.ExplorerViewId, {\n\tcontent: '[' + localize('searchForAdditionalTestExtensions', \"Install Additional Test Extensions...\") + `](command:${TestCommandId.SearchForTestExtension})`,\n\torder: 10\n});\n\nviewsRegistry.registerViews([{\n\tid: Testing.ExplorerViewId,\n\tname: localize2('testExplorer', \"Test Explorer\"),\n\tctorDescriptor: new SyncDescriptor(TestingExplorerView),\n\tcanToggleVisibility: true,\n\tcanMoveView: true,\n\tweight: 80,\n\torder: -999,\n\tcontainerIcon: testingViewIcon,\n\twhen: ContextKeyExpr.greater(TestingContextKeys.providerCount.key, 0),\n}, {\n\tid: Testing.CoverageViewId,\n\tname: localize2('testCoverage', \"Test Coverage\"),\n\tctorDescriptor: new SyncDescriptor(TestCoverageView),\n\tcanToggleVisibility: true,\n\tcanMoveView: true,\n\tweight: 80,\n\torder: -998,\n\tcontainerIcon: testingViewIcon,\n\twhen: TestingContextKeys.isTestCoverageOpen,\n}], viewContainer);\n\nallTestActions.forEach(registerAction2);\nregisterAction2(OpenMessageInEditorAction);\nregisterAction2(GoToPreviousMessageAction);\nregisterAction2(GoToNextMessageAction);\nregisterAction2(CloseTestPeek);\nregisterAction2(ToggleTestingPeekHistory);\nregisterAction2(CollapsePeekStack);\n\nregisterWorkbenchContribution2(TestingContentProvider.ID, TestingContentProvider, WorkbenchPhase.AfterRestored);\nregisterWorkbenchContribution2(TestingPeekOpener.ID, TestingPeekOpener, WorkbenchPhase.Eventually);\nregisterWorkbenchContribution2(TestingProgressTrigger.ID, TestingProgressTrigger, WorkbenchPhase.Eventually);\nregisterWorkbenchContribution2(TestingChatAgentToolContribution.ID, TestingChatAgentToolContribution, WorkbenchPhase.Eventually);\n\nregisterEditorContribution(Testing.OutputPeekContributionId, TestingOutputPeekController, EditorContributionInstantiation.AfterFirstRender);\nregisterEditorContribution(Testing.DecorationsContributionId, TestingDecorations, EditorContributionInstantiation.AfterFirstRender);\nregisterEditorContribution(Testing.CoverageDecorationsContributionId, CodeCoverageDecorations, EditorContributionInstantiation.Eventually);\n\nCommandsRegistry.registerCommand({\n\tid: '_revealTestInExplorer',\n\thandler: async (accessor: ServicesAccessor, testId: string | ITestItem, focus?: boolean) => {\n\t\taccessor.get(ITestExplorerFilterState).reveal.set(typeof testId === 'string' ? testId : testId.extId, undefined);\n\t\taccessor.get(IViewsService).openView(Testing.ExplorerViewId, focus);\n\t}\n});\nCommandsRegistry.registerCommand({\n\tid: TestCommandId.StartContinousRunFromExtension,\n\thandler: async (accessor: ServicesAccessor, profileRef: ITestRunProfileReference, tests: readonly ITestItem[]) => {\n\t\tconst profiles = accessor.get(ITestProfileService);\n\t\tconst collection = accessor.get(ITestService).collection;\n\t\tconst profile = profiles.getControllerProfiles(profileRef.controllerId).find(p => p.profileId === profileRef.profileId);\n\t\tif (!profile?.supportsContinuousRun) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst crService = accessor.get(ITestingContinuousRunService);\n\t\tfor (const test of tests) {\n\t\t\tconst found = collection.getNodeById(test.extId);\n\t\t\tif (found && canUseProfileWithTest(profile, found)) {\n\t\t\t\tcrService.start([profile], found.item.extId);\n\t\t\t}\n\t\t}\n\t}\n});\nCommandsRegistry.registerCommand({\n\tid: TestCommandId.StopContinousRunFromExtension,\n\thandler: async (accessor: ServicesAccessor, tests: readonly ITestItem[]) => {\n\t\tconst crService = accessor.get(ITestingContinuousRunService);\n\t\tfor (const test of tests) {\n\t\t\tcrService.stop(test.extId);\n\t\t}\n\t}\n});\n\nCommandsRegistry.registerCommand({\n\tid: 'vscode.peekTestError',\n\thandler: async (accessor: ServicesAccessor, extId: string) => {\n\t\tconst lookup = accessor.get(ITestResultService).getStateById(extId);\n\t\tif (!lookup) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst [result, ownState] = lookup;\n\t\tconst opener = accessor.get(ITestingPeekOpener);\n\t\tif (opener.tryPeekFirstError(result, ownState)) { // fast path\n\t\t\treturn true;\n\t\t}\n\n\t\tfor (const test of result.tests) {\n\t\t\tif (TestId.compare(ownState.item.extId, test.item.extId) === TestPosition.IsChild && opener.tryPeekFirstError(result, test)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n});\n\nCommandsRegistry.registerCommand({\n\tid: 'vscode.revealTest',\n\thandler: async (accessor: ServicesAccessor, extId: string, opts?: { preserveFocus?: boolean; openToSide?: boolean }) => {\n\t\tconst test = accessor.get(ITestService).collection.getNodeById(extId);\n\t\tif (!test) {\n\t\t\treturn;\n\t\t}\n\t\tconst commandService = accessor.get(ICommandService);\n\t\tconst fileService = accessor.get(IFileService);\n\t\tconst openerService = accessor.get(IOpenerService);\n\n\t\tconst { range, uri } = test.item;\n\t\tif (!uri) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If an editor has the file open, there are decorations. Try to adjust the\n\t\t// revealed range to those decorations (#133441).\n\t\tconst position = accessor.get(ITestingDecorationsService).getDecoratedTestPosition(uri, extId) || range?.getStartPosition();\n\n\t\taccessor.get(ITestExplorerFilterState).reveal.set(extId, undefined);\n\t\taccessor.get(ITestingPeekOpener).closeAllPeeks();\n\n\t\tlet isFile = true;\n\t\ttry {\n\t\t\tif (!(await fileService.stat(uri)).isFile) {\n\t\t\t\tisFile = false;\n\t\t\t}\n\t\t} catch {\n\t\t\t// ignored\n\t\t}\n\n\t\tif (!isFile) {\n\t\t\tawait commandService.executeCommand(REVEAL_IN_EXPLORER_COMMAND_ID, uri);\n\t\t\treturn;\n\t\t}\n\n\t\tawait openerService.open(position\n\t\t\t? uri.with({ fragment: `L${position.lineNumber}:${position.column}` })\n\t\t\t: uri,\n\t\t\t{\n\t\t\t\topenToSide: opts?.openToSide,\n\t\t\t\teditorOptions: {\n\t\t\t\t\tpreserveFocus: opts?.preserveFocus,\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n});\n\nCommandsRegistry.registerCommand({\n\tid: 'vscode.runTestsById',\n\thandler: async (accessor: ServicesAccessor, group: TestRunProfileBitset, ...testIds: string[]) => {\n\t\tconst testService = accessor.get(ITestService);\n\t\tawait discoverAndRunTests(\n\t\t\taccessor.get(ITestService).collection,\n\t\t\taccessor.get(IProgressService),\n\t\t\ttestIds,\n\t\t\ttests => testService.runTests({ group, tests }),\n\t\t);\n\t}\n});\n\nCommandsRegistry.registerCommand({\n\tid: 'vscode.testing.getControllersWithTests',\n\thandler: async (accessor: ServicesAccessor) => {\n\t\tconst testService = accessor.get(ITestService);\n\t\treturn [...testService.collection.rootItems]\n\t\t\t.filter(r => r.children.size > 0)\n\t\t\t.map(r => r.controllerId);\n\t}\n});\n\nCommandsRegistry.registerCommand({\n\tid: 'vscode.testing.getTestsInFile',\n\thandler: async (accessor: ServicesAccessor, uri: URI) => {\n\t\tconst testService = accessor.get(ITestService);\n\t\treturn [...testService.collection.getNodeByUrl(uri)].map(t => TestId.split(t.item.extId));\n\t}\n});\n\nRegistry.as<IConfigurationRegistry>(ConfigurationExtensions.Configuration).registerConfiguration(testingConfiguration);\n\n"]}