{"version":3,"sources":["vs/workbench/contrib/testing/browser/testResultsView/testResultsTree.ts"],"names":[],"mappings":"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","file":"testResultsTree.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../../base/browser/dom.js';\nimport { ActionBar } from '../../../../../base/browser/ui/actionbar/actionbar.js';\nimport { renderLabelWithIcons } from '../../../../../base/browser/ui/iconLabel/iconLabels.js';\nimport { IIdentityProvider } from '../../../../../base/browser/ui/list/list.js';\nimport { ICompressedTreeElement, ICompressedTreeNode } from '../../../../../base/browser/ui/tree/compressedObjectTreeModel.js';\nimport { ICompressibleTreeRenderer } from '../../../../../base/browser/ui/tree/objectTree.js';\nimport { ITreeContextMenuEvent, ITreeNode } from '../../../../../base/browser/ui/tree/tree.js';\nimport { Action, ActionRunner, IAction, Separator } from '../../../../../base/common/actions.js';\nimport { RunOnceScheduler } from '../../../../../base/common/async.js';\nimport { Codicon } from '../../../../../base/common/codicons.js';\nimport { Emitter, Event } from '../../../../../base/common/event.js';\nimport { FuzzyScore } from '../../../../../base/common/filters.js';\nimport { Iterable } from '../../../../../base/common/iterator.js';\nimport { Disposable, DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { MarshalledId } from '../../../../../base/common/marshallingIds.js';\nimport { autorun } from '../../../../../base/common/observable.js';\nimport { count } from '../../../../../base/common/strings.js';\nimport { ThemeIcon } from '../../../../../base/common/themables.js';\nimport { isDefined } from '../../../../../base/common/types.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { localize } from '../../../../../nls.js';\nimport { MenuEntryActionViewItem, fillInActionBarActions } from '../../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { IMenuService, MenuId, MenuItemAction } from '../../../../../platform/actions/common/actions.js';\nimport { ICommandService } from '../../../../../platform/commands/common/commands.js';\nimport { IContextKeyService } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { IContextMenuService } from '../../../../../platform/contextview/browser/contextView.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { WorkbenchCompressibleObjectTree } from '../../../../../platform/list/browser/listService.js';\nimport { IProgressService } from '../../../../../platform/progress/common/progress.js';\nimport { ITelemetryService } from '../../../../../platform/telemetry/common/telemetry.js';\nimport { widgetClose } from '../../../../../platform/theme/common/iconRegistry.js';\nimport { IEditorService } from '../../../../services/editor/common/editorService.js';\nimport { TestCommandId, Testing } from '../../common/constants.js';\nimport { ITestCoverageService } from '../../common/testCoverageService.js';\nimport { ITestExplorerFilterState } from '../../common/testExplorerFilterState.js';\nimport { TestId } from '../../common/testId.js';\nimport { ITestProfileService } from '../../common/testProfileService.js';\nimport { ITestResult, ITestRunTaskResults, LiveTestResult, TestResultItemChangeReason, maxCountPriority } from '../../common/testResult.js';\nimport { ITestResultService } from '../../common/testResultService.js';\nimport { IRichLocation, ITestItemContext, ITestMessage, InternalTestItem, TestMessageType, TestResultItem, TestResultState, TestRunProfileBitset, testResultStateToContextValues } from '../../common/testTypes.js';\nimport { TestingContextKeys } from '../../common/testingContextKeys.js';\nimport { cmpPriority, isFailedState } from '../../common/testingStates.js';\nimport { TestUriType, buildTestUri } from '../../common/testingUri.js';\nimport { getTestItemContextOverlay } from '../explorerProjections/testItemContextOverlay.js';\nimport * as icons from '../icons.js';\nimport { renderTestMessageAsText } from '../testMessageColorizer.js';\nimport { InspectSubject, MessageSubject, TaskSubject, TestOutputSubject, getMessageArgs, mapFindTestMessage } from './testResultsSubject.js';\n\n\ninterface ITreeElement {\n\ttype: string;\n\tcontext: unknown;\n\tid: string;\n\tlabel: string;\n\treadonly onDidChange: Event<void>;\n\tlabelWithIcons?: readonly (HTMLSpanElement | string)[];\n\ticon?: ThemeIcon;\n\tdescription?: string;\n\tariaLabel?: string;\n}\n\ninterface ITaskContext {\n\ttestRunName: string;\n\tcontrollerId: string;\n\tresultId: string;\n\ttaskId: string;\n}\n\nfunction getTaskContext(resultId: string, task: ITestRunTaskResults): ITaskContext {\n\treturn { testRunName: task.name, controllerId: task.ctrlId, resultId, taskId: task.id };\n}\n\nclass TestResultElement implements ITreeElement {\n\tpublic readonly changeEmitter = new Emitter<void>();\n\tpublic readonly onDidChange = this.changeEmitter.event;\n\tpublic readonly type = 'result';\n\tpublic readonly context: string;\n\tpublic readonly id: string;\n\tpublic readonly label: string;\n\n\tpublic get icon() {\n\t\treturn icons.testingStatesToIcons.get(\n\t\t\tthis.value.completedAt === undefined\n\t\t\t\t? TestResultState.Running\n\t\t\t\t: maxCountPriority(this.value.counts)\n\t\t);\n\t}\n\n\tconstructor(public readonly value: ITestResult) {\n\t\tthis.id = value.id;\n\t\tthis.context = value.id;\n\t\tthis.label = value.name;\n\t}\n}\n\nconst openCoverageLabel = localize('openTestCoverage', 'View Test Coverage');\nconst closeCoverageLabel = localize('closeTestCoverage', 'Close Test Coverage');\n\nclass CoverageElement implements ITreeElement {\n\tpublic readonly type = 'coverage';\n\tpublic readonly context: undefined;\n\tpublic readonly id: string;\n\tpublic readonly onDidChange: Event<void>;\n\n\tpublic get label() {\n\t\treturn this.isOpen ? closeCoverageLabel : openCoverageLabel;\n\t}\n\n\tpublic get icon() {\n\t\treturn this.isOpen ? widgetClose : icons.testingCoverageReport;\n\t}\n\n\tpublic get isOpen() {\n\t\treturn this.coverageService.selected.get()?.fromTaskId === this.task.id;\n\t}\n\n\tconstructor(\n\t\tresults: ITestResult,\n\t\tpublic readonly task: ITestRunTaskResults,\n\t\tprivate readonly coverageService: ITestCoverageService,\n\t) {\n\t\tthis.id = `coverage-${results.id}/${task.id}`;\n\t\tthis.onDidChange = Event.fromObservableLight(coverageService.selected);\n\t}\n}\n\nclass OlderResultsElement implements ITreeElement {\n\tpublic readonly type = 'older';\n\tpublic readonly context: undefined;\n\tpublic readonly id: string;\n\tpublic readonly onDidChange = Event.None;\n\tpublic readonly label: string;\n\n\tconstructor(private readonly n: number) {\n\t\tthis.label = n === 1\n\t\t\t? localize('oneOlderResult', '1 older result')\n\t\t\t: localize('nOlderResults', '{0} older results', n);\n\t\tthis.id = `older-${this.n}`;\n\t}\n}\n\nclass TestCaseElement implements ITreeElement {\n\tpublic readonly type = 'test';\n\tpublic readonly context: ActionSpreadArgs<[ITestItemContext, ITaskContext]>;\n\tpublic readonly id: string;\n\tpublic readonly description?: string;\n\n\tpublic get onDidChange() {\n\t\tif (!(this.results instanceof LiveTestResult)) {\n\t\t\treturn Event.None;\n\t\t}\n\n\t\treturn Event.filter(this.results.onChange, e => e.item.item.extId === this.test.item.extId && e.reason !== TestResultItemChangeReason.NewMessage);\n\t}\n\n\tpublic get state() {\n\t\treturn this.test.tasks[this.taskIndex].state;\n\t}\n\n\tpublic get label() {\n\t\treturn this.test.item.label;\n\t}\n\n\tpublic get labelWithIcons() {\n\t\treturn renderLabelWithIcons(this.label);\n\t}\n\n\tpublic get icon() {\n\t\treturn icons.testingStatesToIcons.get(this.state);\n\t}\n\n\tpublic get outputSubject() {\n\t\treturn new TestOutputSubject(this.results, this.taskIndex, this.test);\n\t}\n\n\n\tconstructor(\n\t\tpublic readonly results: ITestResult,\n\t\tpublic readonly test: TestResultItem,\n\t\tpublic readonly taskIndex: number,\n\t) {\n\t\tthis.id = `${results.id}/${test.item.extId}`;\n\n\t\tconst parentId = TestId.fromString(test.item.extId).parentId;\n\t\tif (parentId) {\n\t\t\tthis.description = '';\n\t\t\tfor (const part of parentId.idsToRoot()) {\n\t\t\t\tif (part.isRoot) { break; }\n\t\t\t\tconst test = results.getStateById(part.toString());\n\t\t\t\tif (!test) { break; }\n\t\t\t\tif (this.description.length) {\n\t\t\t\t\tthis.description += ' \\u2039 ';\n\t\t\t\t}\n\n\t\t\t\tthis.description += test.item.label;\n\t\t\t}\n\t\t}\n\n\t\tthis.context = new ActionSpreadArgs([\n\t\t\t{\n\t\t\t\t$mid: MarshalledId.TestItemContext,\n\t\t\t\ttests: [InternalTestItem.serialize(test)],\n\t\t\t},\n\t\t\tgetTaskContext(results.id, results.tasks[this.taskIndex])\n\t\t]);\n\t}\n}\n\nclass TaskElement implements ITreeElement {\n\tpublic readonly changeEmitter = new Emitter<void>();\n\tpublic readonly onDidChange = this.changeEmitter.event;\n\tpublic readonly type = 'task';\n\tpublic readonly context: ITaskContext;\n\tpublic readonly id: string;\n\tpublic readonly label: string;\n\tpublic readonly itemsCache = new CreationCache<TestCaseElement>();\n\n\tpublic get icon() {\n\t\treturn this.results.tasks[this.index].running ? icons.testingStatesToIcons.get(TestResultState.Running) : undefined;\n\t}\n\n\tconstructor(public readonly results: ITestResult, public readonly task: ITestRunTaskResults, public readonly index: number) {\n\t\tthis.id = `${results.id}/${index}`;\n\t\tthis.task = results.tasks[index];\n\t\tthis.context = getTaskContext(results.id, this.task);\n\t\tthis.label = this.task.name;\n\t}\n}\n\nclass TestMessageElement implements ITreeElement {\n\tpublic readonly type = 'message';\n\tpublic readonly id: string;\n\tpublic readonly label: string;\n\tpublic readonly uri: URI;\n\tpublic readonly location?: IRichLocation;\n\tpublic readonly description?: string;\n\tpublic readonly contextValue?: string;\n\tpublic readonly message: ITestMessage;\n\n\tpublic get onDidChange() {\n\t\tif (!(this.result instanceof LiveTestResult)) {\n\t\t\treturn Event.None;\n\t\t}\n\n\t\t// rerender when the test case changes so it gets retired events\n\t\treturn Event.filter(this.result.onChange, e => e.item.item.extId === this.test.item.extId && e.reason !== TestResultItemChangeReason.NewMessage);\n\t}\n\n\tpublic get context() {\n\t\treturn new ActionSpreadArgs([\n\t\t\tgetMessageArgs(this.test, this.message),\n\t\t\tgetTaskContext(this.result.id, this.result.tasks[this.taskIndex])\n\t\t]);\n\t}\n\n\tpublic get outputSubject() {\n\t\treturn new TestOutputSubject(this.result, this.taskIndex, this.test);\n\t}\n\n\tconstructor(\n\t\tpublic readonly result: ITestResult,\n\t\tpublic readonly test: TestResultItem,\n\t\tpublic readonly taskIndex: number,\n\t\tpublic readonly messageIndex: number,\n\t) {\n\t\tconst m = this.message = test.tasks[taskIndex].messages[messageIndex];\n\n\t\tthis.location = m.location;\n\t\tthis.contextValue = m.type === TestMessageType.Error ? m.contextValue : undefined;\n\t\tthis.uri = buildTestUri({\n\t\t\ttype: TestUriType.ResultMessage,\n\t\t\tmessageIndex,\n\t\t\tresultId: result.id,\n\t\t\ttaskIndex,\n\t\t\ttestExtId: test.item.extId\n\t\t});\n\n\t\tthis.id = this.uri.toString();\n\n\t\tconst asPlaintext = renderTestMessageAsText(m.message);\n\t\tconst lines = count(asPlaintext.trimEnd(), '\\n');\n\t\tthis.label = firstLine(asPlaintext);\n\t\tif (lines > 0) {\n\t\t\tthis.description = lines > 1\n\t\t\t\t? localize('messageMoreLinesN', '+ {0} more lines', lines)\n\t\t\t\t: localize('messageMoreLines1', '+ 1 more line');\n\t\t}\n\t}\n}\n\ntype TreeElement = TestResultElement | TestCaseElement | TestMessageElement | TaskElement | CoverageElement | OlderResultsElement;\n\nexport class OutputPeekTree extends Disposable {\n\tprivate disposed = false;\n\tprivate readonly tree: WorkbenchCompressibleObjectTree<TreeElement, FuzzyScore>;\n\tprivate readonly treeActions: TreeActionsProvider;\n\tprivate readonly requestReveal = this._register(new Emitter<InspectSubject>());\n\tprivate readonly contextMenuActionRunner = this._register(new SpreadableActionRunner());\n\n\tpublic readonly onDidRequestReview = this.requestReveal.event;\n\n\tconstructor(\n\t\tcontainer: HTMLElement,\n\t\treadonly onDidReveal: Event<{ subject: InspectSubject; preserveFocus: boolean }>,\n\t\toptions: { showRevealLocationOnMessages: boolean; locationForProgress: string },\n\t\t@IContextMenuService private readonly contextMenuService: IContextMenuService,\n\t\t@ITestResultService results: ITestResultService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@ITestExplorerFilterState explorerFilter: ITestExplorerFilterState,\n\t\t@ITestCoverageService coverageService: ITestCoverageService,\n\t\t@IProgressService progressService: IProgressService,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t) {\n\t\tsuper();\n\n\t\tthis.treeActions = instantiationService.createInstance(TreeActionsProvider, options.showRevealLocationOnMessages, this.requestReveal,);\n\t\tconst diffIdentityProvider: IIdentityProvider<TreeElement> = {\n\t\t\tgetId(e: TreeElement) {\n\t\t\t\treturn e.id;\n\t\t\t}\n\t\t};\n\n\t\tthis.tree = this._register(instantiationService.createInstance(\n\t\t\tWorkbenchCompressibleObjectTree,\n\t\t\t'Test Output Peek',\n\t\t\tcontainer,\n\t\t\t{\n\t\t\t\tgetHeight: () => 22,\n\t\t\t\tgetTemplateId: () => TestRunElementRenderer.ID,\n\t\t\t},\n\t\t\t[instantiationService.createInstance(TestRunElementRenderer, this.treeActions)],\n\t\t\t{\n\t\t\t\tcompressionEnabled: true,\n\t\t\t\thideTwistiesOfChildlessElements: true,\n\t\t\t\tidentityProvider: diffIdentityProvider,\n\t\t\t\talwaysConsumeMouseWheel: false,\n\t\t\t\tsorter: {\n\t\t\t\t\tcompare(a, b) {\n\t\t\t\t\t\tif (a instanceof TestCaseElement && b instanceof TestCaseElement) {\n\t\t\t\t\t\t\treturn cmpPriority(a.state, b.state);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\taccessibilityProvider: {\n\t\t\t\t\tgetAriaLabel(element: ITreeElement) {\n\t\t\t\t\t\treturn element.ariaLabel || element.label;\n\t\t\t\t\t},\n\t\t\t\t\tgetWidgetAriaLabel() {\n\t\t\t\t\t\treturn localize('testingPeekLabel', 'Test Result Messages');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t)) as WorkbenchCompressibleObjectTree<TreeElement, FuzzyScore>;\n\n\t\tconst cc = new CreationCache<TreeElement>();\n\n\t\tconst getTaskChildren = (taskElem: TaskElement): Iterable<ICompressedTreeElement<TreeElement>> => {\n\t\t\tconst { results, index, itemsCache, task } = taskElem;\n\t\t\tconst tests = Iterable.filter(results.tests, test => test.tasks[index].state >= TestResultState.Running || test.tasks[index].messages.length > 0);\n\t\t\tlet result: Iterable<ICompressedTreeElement<TreeElement>> = Iterable.map(tests, test => ({\n\t\t\t\telement: itemsCache.getOrCreate(test, () => new TestCaseElement(results, test, index)),\n\t\t\t\tincompressible: true,\n\t\t\t\tchildren: getTestChildren(results, test, index),\n\t\t\t}));\n\n\t\t\tif (task.coverage.get()) {\n\t\t\t\tresult = Iterable.concat(\n\t\t\t\t\tIterable.single<ICompressedTreeElement<TreeElement>>({\n\t\t\t\t\t\telement: new CoverageElement(results, task, coverageService),\n\t\t\t\t\t\tcollapsible: true,\n\t\t\t\t\t\tincompressible: true,\n\t\t\t\t\t}),\n\t\t\t\t\tresult,\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn result;\n\t\t};\n\n\t\tconst getTestChildren = (result: ITestResult, test: TestResultItem, taskIndex: number): Iterable<ICompressedTreeElement<TreeElement>> => {\n\t\t\treturn test.tasks[taskIndex].messages\n\t\t\t\t.map((m, messageIndex) =>\n\t\t\t\t\tm.type === TestMessageType.Error\n\t\t\t\t\t\t? { element: cc.getOrCreate(m, () => new TestMessageElement(result, test, taskIndex, messageIndex)), incompressible: false }\n\t\t\t\t\t\t: undefined\n\t\t\t\t)\n\t\t\t\t.filter(isDefined);\n\t\t};\n\n\t\tconst getResultChildren = (result: ITestResult): ICompressedTreeElement<TreeElement>[] => {\n\t\t\treturn result.tasks.map((task, taskIndex) => {\n\t\t\t\tconst taskElem = cc.getOrCreate(task, () => new TaskElement(result, task, taskIndex));\n\t\t\t\treturn ({\n\t\t\t\t\telement: taskElem,\n\t\t\t\t\tincompressible: false,\n\t\t\t\t\tcollapsible: true,\n\t\t\t\t\tchildren: getTaskChildren(taskElem),\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\tconst getRootChildren = (): Iterable<ICompressedTreeElement<TreeElement>> => {\n\t\t\tlet children: ICompressedTreeElement<TreeElement>[] = [];\n\n\t\t\tconst older = [];\n\n\t\t\tfor (const result of results.results) {\n\t\t\t\tif (!children.length && result.tasks.length) {\n\t\t\t\t\tchildren = getResultChildren(result);\n\t\t\t\t} else if (children) {\n\t\t\t\t\tconst element = cc.getOrCreate(result, () => new TestResultElement(result));\n\t\t\t\t\tolder.push({\n\t\t\t\t\t\telement,\n\t\t\t\t\t\tincompressible: true,\n\t\t\t\t\t\tcollapsible: true,\n\t\t\t\t\t\tcollapsed: this.tree.hasElement(element) ? this.tree.isCollapsed(element) : true,\n\t\t\t\t\t\tchildren: getResultChildren(result)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!children.length) {\n\t\t\t\treturn older;\n\t\t\t}\n\n\t\t\tif (older.length) {\n\t\t\t\tchildren.push({\n\t\t\t\t\telement: new OlderResultsElement(older.length),\n\t\t\t\t\tincompressible: true,\n\t\t\t\t\tcollapsible: true,\n\t\t\t\t\tcollapsed: true,\n\t\t\t\t\tchildren: older,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn children;\n\t\t};\n\n\t\t// Queued result updates to prevent spamming CPU when lots of tests are\n\t\t// completing and messaging quickly (#142514)\n\t\tconst taskChildrenToUpdate = new Set<TaskElement>();\n\t\tconst taskChildrenUpdate = this._register(new RunOnceScheduler(() => {\n\t\t\tfor (const taskNode of taskChildrenToUpdate) {\n\t\t\t\tif (this.tree.hasElement(taskNode)) {\n\t\t\t\t\tthis.tree.setChildren(taskNode, getTaskChildren(taskNode), { diffIdentityProvider });\n\t\t\t\t}\n\t\t\t}\n\t\t\ttaskChildrenToUpdate.clear();\n\t\t}, 300));\n\n\t\tconst queueTaskChildrenUpdate = (taskNode: TaskElement) => {\n\t\t\ttaskChildrenToUpdate.add(taskNode);\n\t\t\tif (!taskChildrenUpdate.isScheduled()) {\n\t\t\t\ttaskChildrenUpdate.schedule();\n\t\t\t}\n\t\t};\n\n\t\tconst attachToResults = (result: LiveTestResult) => {\n\t\t\tconst disposable = new DisposableStore();\n\t\t\tdisposable.add(result.onNewTask(i => {\n\t\t\t\tthis.tree.setChildren(null, getRootChildren(), { diffIdentityProvider });\n\n\t\t\t\tif (result.tasks.length === 1) {\n\t\t\t\t\tthis.requestReveal.fire(new TaskSubject(result, 0)); // reveal the first task in new runs\n\t\t\t\t}\n\n\t\t\t\t// note: tasks are bounded and their lifetime is equivalent to that of\n\t\t\t\t// the test result, so this doesn't leak indefinitely.\n\t\t\t\tconst task = result.tasks[i];\n\t\t\t\tdisposable.add(autorun(reader => {\n\t\t\t\t\ttask.coverage.read(reader); // add it to the autorun\n\t\t\t\t\tqueueTaskChildrenUpdate(cc.get(task) as TaskElement);\n\t\t\t\t}));\n\t\t\t}));\n\n\t\t\tdisposable.add(result.onEndTask(index => {\n\t\t\t\t(cc.get(result.tasks[index]) as TaskElement | undefined)?.changeEmitter.fire();\n\t\t\t}));\n\n\t\t\tdisposable.add(result.onChange(e => {\n\t\t\t\t// try updating the item in each of its tasks\n\t\t\t\tfor (const [index, task] of result.tasks.entries()) {\n\t\t\t\t\tconst taskNode = cc.get(task) as TaskElement;\n\t\t\t\t\tif (!this.tree.hasElement(taskNode)) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst itemNode = taskNode.itemsCache.get(e.item);\n\t\t\t\t\tif (itemNode && this.tree.hasElement(itemNode)) {\n\t\t\t\t\t\tif (e.reason === TestResultItemChangeReason.NewMessage && e.message.type === TestMessageType.Error) {\n\t\t\t\t\t\t\tthis.tree.setChildren(itemNode, getTestChildren(result, e.item, index), { diffIdentityProvider });\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tqueueTaskChildrenUpdate(taskNode);\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\tdisposable.add(result.onComplete(() => {\n\t\t\t\t(cc.get(result) as TestResultElement | undefined)?.changeEmitter.fire();\n\t\t\t\tdisposable.dispose();\n\t\t\t}));\n\t\t};\n\n\t\tthis._register(results.onResultsChanged(e => {\n\t\t\t// little hack here: a result change can cause the peek to be disposed,\n\t\t\t// but this listener will still be queued. Doing stuff with the tree\n\t\t\t// will cause errors.\n\t\t\tif (this.disposed) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ('completed' in e) {\n\t\t\t\t(cc.get(e.completed) as TestResultElement | undefined)?.changeEmitter.fire();\n\t\t\t} else if ('started' in e) {\n\t\t\t\tattachToResults(e.started);\n\t\t\t} else {\n\t\t\t\tthis.tree.setChildren(null, getRootChildren(), { diffIdentityProvider });\n\t\t\t}\n\t\t}));\n\n\t\tconst revealItem = (element: TreeElement, preserveFocus: boolean) => {\n\t\t\tthis.tree.setFocus([element]);\n\t\t\tthis.tree.setSelection([element]);\n\t\t\tif (!preserveFocus) {\n\t\t\t\tthis.tree.domFocus();\n\t\t\t}\n\t\t};\n\n\t\tthis._register(onDidReveal(async ({ subject, preserveFocus = false }) => {\n\t\t\tif (subject instanceof TaskSubject) {\n\t\t\t\tconst resultItem = this.tree.getNode(null).children.find(c => {\n\t\t\t\t\tif (c.element instanceof TaskElement) {\n\t\t\t\t\t\treturn c.element.results.id === subject.result.id && c.element.index === subject.taskIndex;\n\t\t\t\t\t}\n\t\t\t\t\tif (c.element instanceof TestResultElement) {\n\t\t\t\t\t\treturn c.element.id === subject.result.id;\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\n\t\t\t\tif (resultItem) {\n\t\t\t\t\trevealItem(resultItem.element!, preserveFocus);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst revealElement = subject instanceof TestOutputSubject\n\t\t\t\t? cc.get<TaskElement>(subject.task)?.itemsCache.get(subject.test)\n\t\t\t\t: cc.get(subject.message);\n\t\t\tif (!revealElement || !this.tree.hasElement(revealElement)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst parents: TreeElement[] = [];\n\t\t\tfor (let parent = this.tree.getParentElement(revealElement); parent; parent = this.tree.getParentElement(parent)) {\n\t\t\t\tparents.unshift(parent);\n\t\t\t}\n\n\t\t\tfor (const parent of parents) {\n\t\t\t\tthis.tree.expand(parent);\n\t\t\t}\n\n\t\t\tif (this.tree.getRelativeTop(revealElement) === null) {\n\t\t\t\tthis.tree.reveal(revealElement, 0.5);\n\t\t\t}\n\n\t\t\trevealItem(revealElement, preserveFocus);\n\t\t}));\n\n\t\tthis._register(this.tree.onDidOpen(async e => {\n\t\t\tif (e.element instanceof TestMessageElement) {\n\t\t\t\tthis.requestReveal.fire(new MessageSubject(e.element.result, e.element.test, e.element.taskIndex, e.element.messageIndex));\n\t\t\t} else if (e.element instanceof TestCaseElement) {\n\t\t\t\tconst t = e.element;\n\t\t\t\tconst message = mapFindTestMessage(e.element.test, (_t, _m, mesasgeIndex, taskIndex) =>\n\t\t\t\t\tnew MessageSubject(t.results, t.test, taskIndex, mesasgeIndex));\n\t\t\t\tthis.requestReveal.fire(message || new TestOutputSubject(t.results, 0, t.test));\n\t\t\t} else if (e.element instanceof CoverageElement) {\n\t\t\t\tconst task = e.element.task;\n\t\t\t\tif (e.element.isOpen) {\n\t\t\t\t\treturn coverageService.closeCoverage();\n\t\t\t\t}\n\t\t\t\tprogressService.withProgress(\n\t\t\t\t\t{ location: options.locationForProgress },\n\t\t\t\t\t() => coverageService.openCoverage(task, true)\n\t\t\t\t);\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.tree.onDidChangeSelection(evt => {\n\t\t\tfor (const element of evt.elements) {\n\t\t\t\tif (element && 'test' in element) {\n\t\t\t\t\texplorerFilter.reveal.set(element.test.item.extId, undefined);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(explorerFilter.onDidSelectTestInExplorer(testId => {\n\t\t\tif (this.tree.getSelection().some(e => e && 'test' in e && e.test.item.extId === testId)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (const node of this.tree.getNode(null).children) {\n\t\t\t\tif (node.element instanceof TaskElement) {\n\t\t\t\t\tfor (const testNode of node.children) {\n\t\t\t\t\t\tif (testNode.element instanceof TestCaseElement && testNode.element.test.item.extId === testId) {\n\t\t\t\t\t\t\tthis.tree.setSelection([testNode.element]);\n\t\t\t\t\t\t\tif (this.tree.getRelativeTop(testNode.element) === null) {\n\t\t\t\t\t\t\t\tthis.tree.reveal(testNode.element, 0.5);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\n\t\tthis._register(this.tree.onContextMenu(e => this.onContextMenu(e)));\n\n\t\tthis._register(this.tree.onDidChangeCollapseState(e => {\n\t\t\tif (e.node.element instanceof OlderResultsElement && !e.node.collapsed) {\n\t\t\t\ttelemetryService.publicLog2<{}, {\n\t\t\t\t\towner: 'connor4312';\n\t\t\t\t\t// we're considering removing or depromoting this feature because we don't think it's used:\n\t\t\t\t\tcomment: 'Records that test history was used';\n\t\t\t\t}>('testing.expandOlderResults');\n\t\t\t}\n\t\t}));\n\n\t\tthis.tree.setChildren(null, getRootChildren());\n\t\tfor (const result of results.results) {\n\t\t\tif (!result.completedAt && result instanceof LiveTestResult) {\n\t\t\t\tattachToResults(result);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic layout(height: number, width: number) {\n\t\tthis.tree.layout(height, width);\n\t}\n\n\tprivate onContextMenu(evt: ITreeContextMenuEvent<ITreeElement | null>) {\n\t\tif (!evt.element) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst actions = this.treeActions.provideActionBar(evt.element);\n\t\tthis.contextMenuService.showContextMenu({\n\t\t\tgetAnchor: () => evt.anchor,\n\t\t\tgetActions: () => actions.secondary.length\n\t\t\t\t? [...actions.primary, new Separator(), ...actions.secondary]\n\t\t\t\t: actions.primary,\n\t\t\tgetActionsContext: () => evt.element?.context,\n\t\t\tactionRunner: this.contextMenuActionRunner,\n\t\t});\n\t}\n\n\tpublic override dispose() {\n\t\tsuper.dispose();\n\t\tthis.disposed = true;\n\t}\n}\n\ninterface TemplateData {\n\tlabel: HTMLElement;\n\ticon: HTMLElement;\n\tactionBar: ActionBar;\n\telementDisposable: DisposableStore;\n\ttemplateDisposable: DisposableStore;\n}\n\nclass TestRunElementRenderer implements ICompressibleTreeRenderer<ITreeElement, FuzzyScore, TemplateData> {\n\tpublic static readonly ID = 'testRunElementRenderer';\n\tpublic readonly templateId = TestRunElementRenderer.ID;\n\n\tconstructor(\n\t\tprivate readonly treeActions: TreeActionsProvider,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t) { }\n\n\t/** @inheritdoc */\n\tpublic renderCompressedElements(node: ITreeNode<ICompressedTreeNode<ITreeElement>, FuzzyScore>, _index: number, templateData: TemplateData): void {\n\t\tconst chain = node.element.elements;\n\t\tconst lastElement = chain[chain.length - 1];\n\t\tif ((lastElement instanceof TaskElement || lastElement instanceof TestMessageElement) && chain.length >= 2) {\n\t\t\tthis.doRender(chain[chain.length - 2], templateData, lastElement);\n\t\t} else {\n\t\t\tthis.doRender(lastElement, templateData);\n\t\t}\n\t}\n\n\t/** @inheritdoc */\n\tpublic renderTemplate(container: HTMLElement): TemplateData {\n\t\tconst templateDisposable = new DisposableStore();\n\t\tcontainer.classList.add('testing-stdtree-container');\n\t\tconst icon = dom.append(container, dom.$('.state'));\n\t\tconst label = dom.append(container, dom.$('.label'));\n\n\t\tconst actionBar = new ActionBar(container, {\n\t\t\tactionRunner: templateDisposable.add(new SpreadableActionRunner()),\n\t\t\tactionViewItemProvider: (action, options) =>\n\t\t\t\taction instanceof MenuItemAction\n\t\t\t\t\t? this.instantiationService.createInstance(MenuEntryActionViewItem, action, { hoverDelegate: options.hoverDelegate })\n\t\t\t\t\t: undefined\n\t\t});\n\n\t\tconst elementDisposable = new DisposableStore();\n\t\ttemplateDisposable.add(elementDisposable);\n\t\ttemplateDisposable.add(actionBar);\n\n\t\treturn {\n\t\t\ticon,\n\t\t\tlabel,\n\t\t\tactionBar,\n\t\t\telementDisposable,\n\t\t\ttemplateDisposable,\n\t\t};\n\t}\n\n\t/** @inheritdoc */\n\tpublic renderElement(element: ITreeNode<ITreeElement, FuzzyScore>, _index: number, templateData: TemplateData): void {\n\t\tthis.doRender(element.element, templateData);\n\t}\n\n\t/** @inheritdoc */\n\tpublic disposeTemplate(templateData: TemplateData): void {\n\t\ttemplateData.templateDisposable.dispose();\n\t}\n\n\t/** Called to render a new element */\n\tprivate doRender(element: ITreeElement, templateData: TemplateData, subjectElement?: ITreeElement) {\n\t\ttemplateData.elementDisposable.clear();\n\t\ttemplateData.elementDisposable.add(\n\t\t\telement.onDidChange(() => this.doRender(element, templateData, subjectElement)),\n\t\t);\n\t\tthis.doRenderInner(element, templateData, subjectElement);\n\t}\n\n\t/** Called, and may be re-called, to render or re-render an element */\n\tprivate doRenderInner(element: ITreeElement, templateData: TemplateData, subjectElement: ITreeElement | undefined) {\n\t\tlet { label, labelWithIcons, description } = element;\n\t\tif (subjectElement instanceof TestMessageElement) {\n\t\t\tdescription = subjectElement.label;\n\t\t\tif (element.description) {\n\t\t\t\tdescription = `${description} @ ${element.description}`;\n\t\t\t}\n\t\t}\n\n\t\tconst descriptionElement = description ? dom.$('span.test-label-description', {}, description) : '';\n\t\tif (labelWithIcons) {\n\t\t\tdom.reset(templateData.label, ...labelWithIcons, descriptionElement);\n\t\t} else {\n\t\t\tdom.reset(templateData.label, label, descriptionElement);\n\t\t}\n\n\t\tconst icon = element.icon;\n\t\ttemplateData.icon.className = `computed-state ${icon ? ThemeIcon.asClassName(icon) : ''}`;\n\n\t\tconst actions = this.treeActions.provideActionBar(element);\n\t\ttemplateData.actionBar.clear();\n\t\ttemplateData.actionBar.context = element.context;\n\t\ttemplateData.actionBar.push(actions.primary, { icon: true, label: false });\n\t}\n}\n\nclass TreeActionsProvider {\n\tconstructor(\n\t\tprivate readonly showRevealLocationOnMessages: boolean,\n\t\tprivate readonly requestReveal: Emitter<InspectSubject>,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IMenuService private readonly menuService: IMenuService,\n\t\t@ICommandService private readonly commandService: ICommandService,\n\t\t@ITestProfileService private readonly testProfileService: ITestProfileService,\n\t\t@IEditorService private readonly editorService: IEditorService,\n\t) { }\n\n\tpublic provideActionBar(element: ITreeElement) {\n\t\tconst test = element instanceof TestCaseElement ? element.test : undefined;\n\t\tconst capabilities = test ? this.testProfileService.capabilitiesForTest(test.item) : 0;\n\n\t\tconst contextKeys: [string, unknown][] = [\n\t\t\t['peek', Testing.OutputPeekContributionId],\n\t\t\t[TestingContextKeys.peekItemType.key, element.type],\n\t\t];\n\n\t\tlet id = MenuId.TestPeekElement;\n\t\tconst primary: IAction[] = [];\n\t\tconst secondary: IAction[] = [];\n\n\t\tif (element instanceof TaskElement) {\n\t\t\tprimary.push(new Action(\n\t\t\t\t'testing.outputPeek.showResultOutput',\n\t\t\t\tlocalize('testing.showResultOutput', \"Show Result Output\"),\n\t\t\t\tThemeIcon.asClassName(Codicon.terminal),\n\t\t\t\tundefined,\n\t\t\t\t() => this.requestReveal.fire(new TaskSubject(element.results, element.index)),\n\t\t\t));\n\t\t\tif (element.task.running) {\n\t\t\t\tprimary.push(new Action(\n\t\t\t\t\t'testing.outputPeek.cancel',\n\t\t\t\t\tlocalize('testing.cancelRun', 'Cancel Test Run'),\n\t\t\t\t\tThemeIcon.asClassName(icons.testingCancelIcon),\n\t\t\t\t\tundefined,\n\t\t\t\t\t() => this.commandService.executeCommand(TestCommandId.CancelTestRunAction, element.results.id, element.task.id),\n\t\t\t\t));\n\t\t\t} else {\n\t\t\t\tprimary.push(new Action(\n\t\t\t\t\t'testing.outputPeek.rerun',\n\t\t\t\t\tlocalize('testing.reRunLastRun', 'Rerun Last Run'),\n\t\t\t\t\tThemeIcon.asClassName(icons.testingRerunIcon),\n\t\t\t\t\tundefined,\n\t\t\t\t\t() => this.commandService.executeCommand(TestCommandId.ReRunLastRun, element.results.id),\n\t\t\t\t));\n\n\t\t\t\tconst hasFailedTests = Iterable.some(element.results.tests, test => isFailedState(test.ownComputedState));\n\t\t\t\tif (hasFailedTests) {\n\t\t\t\t\tprimary.push(new Action(\n\t\t\t\t\t\t'testing.outputPeek.rerunFailed',\n\t\t\t\t\t\tlocalize('testing.reRunFailedFromLastRun', 'Rerun Failed Tests'),\n\t\t\t\t\t\tThemeIcon.asClassName(icons.testingRerunIcon),\n\t\t\t\t\t\tundefined,\n\t\t\t\t\t\t() => this.commandService.executeCommand(TestCommandId.ReRunFailedFromLastRun, element.results.id),\n\t\t\t\t\t));\n\t\t\t\t}\n\n\t\t\t\tprimary.push(new Action(\n\t\t\t\t\t'testing.outputPeek.debug',\n\t\t\t\t\tlocalize('testing.debugLastRun', 'Debug Last Run'),\n\t\t\t\t\tThemeIcon.asClassName(icons.testingDebugIcon),\n\t\t\t\t\tundefined,\n\t\t\t\t\t() => this.commandService.executeCommand(TestCommandId.DebugLastRun, element.results.id),\n\t\t\t\t));\n\n\t\t\t\tif (hasFailedTests) {\n\t\t\t\t\tprimary.push(new Action(\n\t\t\t\t\t\t'testing.outputPeek.debugFailed',\n\t\t\t\t\t\tlocalize('testing.debugFailedFromLastRun', 'Debug Failed Tests'),\n\t\t\t\t\t\tThemeIcon.asClassName(icons.testingDebugIcon),\n\t\t\t\t\t\tundefined,\n\t\t\t\t\t\t() => this.commandService.executeCommand(TestCommandId.DebugFailedFromLastRun, element.results.id),\n\t\t\t\t\t));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (element instanceof TestResultElement) {\n\t\t\t// only show if there are no collapsed test nodes that have more specific choices\n\t\t\tif (element.value.tasks.length === 1) {\n\t\t\t\tprimary.push(new Action(\n\t\t\t\t\t'testing.outputPeek.showResultOutput',\n\t\t\t\t\tlocalize('testing.showResultOutput', \"Show Result Output\"),\n\t\t\t\t\tThemeIcon.asClassName(Codicon.terminal),\n\t\t\t\t\tundefined,\n\t\t\t\t\t() => this.requestReveal.fire(new TaskSubject(element.value, 0)),\n\t\t\t\t));\n\t\t\t}\n\n\t\t\tprimary.push(new Action(\n\t\t\t\t'testing.outputPeek.reRunLastRun',\n\t\t\t\tlocalize('testing.reRunTest', \"Rerun Test\"),\n\t\t\t\tThemeIcon.asClassName(icons.testingRunIcon),\n\t\t\t\tundefined,\n\t\t\t\t() => this.commandService.executeCommand('testing.reRunLastRun', element.value.id),\n\t\t\t));\n\n\t\t\tconst hasFailedTests = Iterable.some(element.value.tests, test => isFailedState(test.ownComputedState));\n\t\t\tif (hasFailedTests) {\n\t\t\t\tprimary.push(new Action(\n\t\t\t\t\t'testing.outputPeek.rerunFailedResult',\n\t\t\t\t\tlocalize('testing.reRunFailedFromLastRun', 'Rerun Failed Tests'),\n\t\t\t\t\tThemeIcon.asClassName(icons.testingRerunIcon),\n\t\t\t\t\tundefined,\n\t\t\t\t\t() => this.commandService.executeCommand(TestCommandId.ReRunFailedFromLastRun, element.value.id),\n\t\t\t\t));\n\t\t\t}\n\n\t\t\tif (capabilities & TestRunProfileBitset.Debug) {\n\t\t\t\tprimary.push(new Action(\n\t\t\t\t\t'testing.outputPeek.debugLastRun',\n\t\t\t\t\tlocalize('testing.debugTest', \"Debug Test\"),\n\t\t\t\t\tThemeIcon.asClassName(icons.testingDebugIcon),\n\t\t\t\t\tundefined,\n\t\t\t\t\t() => this.commandService.executeCommand('testing.debugLastRun', element.value.id),\n\t\t\t\t));\n\n\t\t\t\tif (hasFailedTests) {\n\t\t\t\t\tprimary.push(new Action(\n\t\t\t\t\t\t'testing.outputPeek.debugFailedResult',\n\t\t\t\t\t\tlocalize('testing.debugFailedFromLastRun', 'Debug Failed Tests'),\n\t\t\t\t\t\tThemeIcon.asClassName(icons.testingDebugIcon),\n\t\t\t\t\t\tundefined,\n\t\t\t\t\t\t() => this.commandService.executeCommand(TestCommandId.DebugFailedFromLastRun, element.value.id),\n\t\t\t\t\t));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (element instanceof TestCaseElement || element instanceof TestMessageElement) {\n\t\t\tcontextKeys.push(\n\t\t\t\t[TestingContextKeys.testResultOutdated.key, element.test.retired],\n\t\t\t\t[TestingContextKeys.testResultState.key, testResultStateToContextValues[element.test.ownComputedState]],\n\t\t\t\t...getTestItemContextOverlay(element.test, capabilities),\n\t\t\t);\n\n\t\t\tconst { extId, uri } = element.test.item;\n\t\t\tif (uri) {\n\t\t\t\tprimary.push(new Action(\n\t\t\t\t\t'testing.outputPeek.goToTest',\n\t\t\t\t\tlocalize('testing.goToTest', \"Go to Test\"),\n\t\t\t\t\tThemeIcon.asClassName(Codicon.goToFile),\n\t\t\t\t\tundefined,\n\t\t\t\t\t() => this.commandService.executeCommand('vscode.revealTest', extId),\n\t\t\t\t));\n\t\t\t}\n\n\t\t\tif (element.test.tasks[element.taskIndex].messages.some(m => m.type === TestMessageType.Output)) {\n\t\t\t\tprimary.push(new Action(\n\t\t\t\t\t'testing.outputPeek.showResultOutput',\n\t\t\t\t\tlocalize('testing.showResultOutput', \"Show Result Output\"),\n\t\t\t\t\tThemeIcon.asClassName(Codicon.terminal),\n\t\t\t\t\tundefined,\n\t\t\t\t\t() => this.requestReveal.fire(element.outputSubject),\n\t\t\t\t));\n\t\t\t}\n\n\t\t\tsecondary.push(new Action(\n\t\t\t\t'testing.outputPeek.revealInExplorer',\n\t\t\t\tlocalize('testing.revealInExplorer', \"Reveal in Test Explorer\"),\n\t\t\t\tThemeIcon.asClassName(Codicon.listTree),\n\t\t\t\tundefined,\n\t\t\t\t() => this.commandService.executeCommand('_revealTestInExplorer', extId),\n\t\t\t));\n\n\t\t\tif (capabilities & TestRunProfileBitset.Run) {\n\t\t\t\tprimary.push(new Action(\n\t\t\t\t\t'testing.outputPeek.runTest',\n\t\t\t\t\tlocalize('run test', 'Run Test'),\n\t\t\t\t\tThemeIcon.asClassName(icons.testingRunIcon),\n\t\t\t\t\tundefined,\n\t\t\t\t\t() => this.commandService.executeCommand('vscode.runTestsById', TestRunProfileBitset.Run, extId),\n\t\t\t\t));\n\t\t\t}\n\n\t\t\tif (capabilities & TestRunProfileBitset.Debug) {\n\t\t\t\tprimary.push(new Action(\n\t\t\t\t\t'testing.outputPeek.debugTest',\n\t\t\t\t\tlocalize('debug test', 'Debug Test'),\n\t\t\t\t\tThemeIcon.asClassName(icons.testingDebugIcon),\n\t\t\t\t\tundefined,\n\t\t\t\t\t() => this.commandService.executeCommand('vscode.runTestsById', TestRunProfileBitset.Debug, extId),\n\t\t\t\t));\n\t\t\t}\n\n\t\t}\n\n\t\tif (element instanceof TestMessageElement) {\n\t\t\tid = MenuId.TestMessageContext;\n\t\t\tcontextKeys.push([TestingContextKeys.testMessageContext.key, element.contextValue]);\n\n\t\t\tif (this.showRevealLocationOnMessages && element.location) {\n\t\t\t\tprimary.push(new Action(\n\t\t\t\t\t'testing.outputPeek.goToError',\n\t\t\t\t\tlocalize('testing.goToError', \"Go to Error\"),\n\t\t\t\t\tThemeIcon.asClassName(Codicon.debugStackframe),\n\t\t\t\t\tundefined,\n\t\t\t\t\t() => this.editorService.openEditor({\n\t\t\t\t\t\tresource: element.location!.uri,\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\tselection: element.location!.range,\n\t\t\t\t\t\t\tpreserveFocus: true,\n\t\t\t\t\t\t}\n\t\t\t\t\t}),\n\t\t\t\t));\n\t\t\t}\n\t\t}\n\n\n\t\tconst contextOverlay = this.contextKeyService.createOverlay(contextKeys);\n\t\tconst result = { primary, secondary };\n\t\tconst menu = this.menuService.getMenuActions(id, contextOverlay, { shouldForwardArgs: true });\n\t\tfillInActionBarActions(menu, result, 'inline');\n\t\treturn result;\n\t}\n}\n\nclass CreationCache<T> {\n\tprivate readonly v = new WeakMap<object, T>();\n\n\tpublic get<T2 extends T = T>(key: object): T2 | undefined {\n\t\treturn this.v.get(key) as T2 | undefined;\n\t}\n\n\tpublic getOrCreate<T2 extends T>(ref: object, factory: () => T2): T2 {\n\t\tconst existing = this.v.get(ref);\n\t\tif (existing) {\n\t\t\treturn existing as T2;\n\t\t}\n\n\t\tconst fresh = factory();\n\t\tthis.v.set(ref, fresh);\n\t\treturn fresh;\n\t}\n}\n\nconst firstLine = (str: string) => {\n\tconst index = str.indexOf('\\n');\n\treturn index === -1 ? str : str.slice(0, index);\n};\n\n\n\nclass ActionSpreadArgs<T extends unknown[]> {\n\tconstructor(public readonly value: T) { }\n}\n\nclass SpreadableActionRunner extends ActionRunner {\n\tprotected override async runAction(action: IAction, context?: unknown): Promise<void> {\n\t\tif (context instanceof ActionSpreadArgs) {\n\t\t\tawait action.run(...context.value);\n\t\t} else {\n\t\t\tawait action.run(context);\n\t\t}\n\t}\n}\n"]}