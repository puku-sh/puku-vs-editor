{"version":3,"sources":["vs/workbench/contrib/testing/common/testingProgressMessages.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,EAAE,QAAQ,EAAE,MAAM,oBAAoB,CAAC;AAM9C,MAAM,CAAC,MAAM,sBAAsB,GAAG,CAAC,SAAkB,EAAE,OAAmC,EAAE,EAAE;IACjG,IAAI,MAAM,GAAG,CAAC,CAAC;IACf,IAAI,MAAM,GAAG,CAAC,CAAC;IACf,IAAI,OAAO,GAAG,CAAC,CAAC;IAChB,IAAI,OAAO,GAAG,CAAC,CAAC;IAChB,IAAI,MAAM,GAAG,CAAC,CAAC;IAEf,KAAK,MAAM,MAAM,IAAI,OAAO,EAAE,CAAC;QAC9B,MAAM,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC;QAC5B,MAAM,IAAI,KAAK,iCAAyB,GAAG,KAAK,gCAAwB,CAAC;QACzE,MAAM,IAAI,KAAK,gCAAwB,CAAC;QACxC,OAAO,IAAI,KAAK,iCAAyB,CAAC;QAC1C,OAAO,IAAI,KAAK,iCAAyB,CAAC;QAC1C,MAAM,IAAI,KAAK,gCAAwB,CAAC;IACzC,CAAC;IAED,OAAO;QACN,SAAS;QACT,MAAM;QACN,MAAM;QACN,QAAQ,EAAE,MAAM,GAAG,MAAM;QACzB,cAAc,EAAE,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,OAAO;QAClD,OAAO;KACP,CAAC;AACH,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,mBAAmB,GAAG,CAAC,EAAE,SAAS,EAAE,MAAM,EAAE,QAAQ,EAAE,cAAc,EAAE,OAAO,EAAE,MAAM,EAAgB,EAAE,EAAE;IACrH,IAAI,OAAO,GAAG,MAAM,GAAG,QAAQ,GAAG,GAAG,CAAC;IACtC,IAAI,MAAM,GAAG,CAAC,EAAE,CAAC;QAChB,+DAA+D;QAC/D,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IACnC,CAAC;SAAM,IAAI,QAAQ,KAAK,CAAC,EAAE,CAAC;QAC3B,OAAO,GAAG,CAAC,CAAC;IACb,CAAC;IAED,IAAI,SAAS,EAAE,CAAC;QACf,IAAI,QAAQ,KAAK,CAAC,EAAE,CAAC;YACpB,OAAO,QAAQ,CAAC,KAA6B,EAAE,IAAkB,CAAC,CAAC;QACpE,CAAC;aAAM,IAAI,OAAO,KAAK,CAAC,EAAE,CAAC;YAC1B,OAAO,QAAQ,CAAC,KAAsB,EAAE,IAAsC,EAAE,MAAM,EAAE,cAAc,EAAE,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QACjI,CAAC;aAAM,CAAC;YACP,OAAO,QAAQ,CAAC,KAA8B,EAAE,IAAyD,EAAE,MAAM,EAAE,cAAc,EAAE,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;QACrK,CAAC;IACF,CAAC;SAAM,CAAC;QACP,IAAI,OAAO,KAAK,CAAC,EAAE,CAAC;YACnB,OAAO,QAAQ,CAAC,KAAwB,EAAE,IAA6B,EAAE,MAAM,EAAE,QAAQ,EAAE,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QACpH,CAAC;aAAM,CAAC;YACP,OAAO,QAAQ,CAAC,KAAgC,EAAE,IAA0C,EAAE,MAAM,EAAE,QAAQ,EAAE,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;QAClJ,CAAC;IACF,CAAC;AACF,CAAC,CAAC","file":"testingProgressMessages.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { localize } from '../../../../nls.js';\nimport { ITestResult } from './testResult.js';\nimport { TestResultState } from './testTypes.js';\n\nexport type CountSummary = ReturnType<typeof collectTestStateCounts>;\n\nexport const collectTestStateCounts = (isRunning: boolean, results: ReadonlyArray<ITestResult>) => {\n\tlet passed = 0;\n\tlet failed = 0;\n\tlet skipped = 0;\n\tlet running = 0;\n\tlet queued = 0;\n\n\tfor (const result of results) {\n\t\tconst count = result.counts;\n\t\tfailed += count[TestResultState.Errored] + count[TestResultState.Failed];\n\t\tpassed += count[TestResultState.Passed];\n\t\tskipped += count[TestResultState.Skipped];\n\t\trunning += count[TestResultState.Running];\n\t\tqueued += count[TestResultState.Queued];\n\t}\n\n\treturn {\n\t\tisRunning,\n\t\tpassed,\n\t\tfailed,\n\t\trunSoFar: passed + failed,\n\t\ttotalWillBeRun: passed + failed + queued + running,\n\t\tskipped,\n\t};\n};\n\nexport const getTestProgressText = ({ isRunning, passed, runSoFar, totalWillBeRun, skipped, failed }: CountSummary) => {\n\tlet percent = passed / runSoFar * 100;\n\tif (failed > 0) {\n\t\t// fix: prevent from rounding to 100 if there's any failed test\n\t\tpercent = Math.min(percent, 99.9);\n\t} else if (runSoFar === 0) {\n\t\tpercent = 0;\n\t}\n\n\tif (isRunning) {\n\t\tif (runSoFar === 0) {\n\t\t\treturn localize('testProgress.runningInitial', 'Running tests...');\n\t\t} else if (skipped === 0) {\n\t\t\treturn localize('testProgress.running', 'Running tests, {0}/{1} passed ({2}%)', passed, totalWillBeRun, percent.toPrecision(3));\n\t\t} else {\n\t\t\treturn localize('testProgressWithSkip.running', 'Running tests, {0}/{1} tests passed ({2}%, {3} skipped)', passed, totalWillBeRun, percent.toPrecision(3), skipped);\n\t\t}\n\t} else {\n\t\tif (skipped === 0) {\n\t\t\treturn localize('testProgress.completed', '{0}/{1} tests passed ({2}%)', passed, runSoFar, percent.toPrecision(3));\n\t\t} else {\n\t\t\treturn localize('testProgressWithSkip.completed', '{0}/{1} tests passed ({2}%, {3} skipped)', passed, runSoFar, percent.toPrecision(3), skipped);\n\t\t}\n\t}\n};\n\n"]}