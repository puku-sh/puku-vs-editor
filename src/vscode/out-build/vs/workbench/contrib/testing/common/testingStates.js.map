{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/testing/common/testingStates.ts","vs/workbench/contrib/testing/common/testingStates.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,EAAE,SAAS,EAAE,MAAM,oCAAoC,CAAC;AAK/D;;;;GAIG;AACH,MAAM,CAAC,MAAM,aAAa,GAAuC;IAChE,iCAAyB,EAAE,CAAC;IAC5B,iCAAyB,EAAE,CAAC;IAC5B,gCAAwB,EAAE,CAAC;IAC3B,gCAAwB,EAAE,CAAC;IAC3B,gCAAwB,EAAE,CAAC;IAC3B,+BAAuB,EAAE,CAAC;IAC1B,iCAAyB,EAAE,CAAC;CAC5B,CAAC;AAEF,MAAM,CAAC,MAAM,aAAa,GAAG,CAAC,CAAkB,EAAE,EAAE,CAAC,CAAC,oCAA4B,IAAI,CAAC,mCAA2B,CAAC;AACnH,MAAM,CAAC,MAAM,iBAAiB,GAAG,CAAC,CAAkB,EAAE,EAAE,CAAC,CAAC,oCAA4B,IAAI,CAAC,mCAA2B,IAAI,CAAC,mCAA2B,CAAC;AAEvJ,MAAM,CAAC,MAAM,UAAU,GAA8C,SAAS,CAAC,aAAa,EAAE,CAAC,QAAQ,EAAE,QAAQ,EAAiB,EAAE;IACnI,MAAM,KAAK,GAAG,MAAM,CAAC,QAAQ,CAAoB,CAAC;IAClD,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE,KAAK,EAAE,QAAQ,EAAE,CAAC;AAC9C,CAAC,CAAC,CAAC;AAEH,MAAM,CAAC,MAAM,WAAW,GAAG,CAAC,CAAkB,EAAE,CAAkB,EAAE,EAAE,CAAC,aAAa,CAAC,CAAC,CAAC,GAAG,aAAa,CAAC,CAAC,CAAC,CAAC;AAE3G,MAAM,CAAC,MAAM,WAAW,GAAG,CAAC,GAAG,MAAyB,EAAE,EAAE;IAC3D,QAAQ,MAAM,CAAC,MAAM,EAAE,CAAC;QACvB,KAAK,CAAC;YACL,qCAA6B;QAC9B,KAAK,CAAC;YACL,OAAO,MAAM,CAAC,CAAC,CAAC,CAAC;QAClB,KAAK,CAAC;YACL,OAAO,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QACpF,OAAO,CAAC,CAAC,CAAC;YACT,IAAI,GAAG,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;YACpB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACxC,IAAI,aAAa,CAAC,GAAG,CAAC,GAAG,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;oBACnD,GAAG,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;gBACjB,CAAC;YACF,CAAC;YAED,OAAO,GAAG,CAAC;QACZ,CAAC;IACF,CAAC;AACF,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,aAAa,GAAG,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAoB,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;AAEjH;;;;GAIG;AACH,MAAM,CAAC,MAAM,uBAAuB,GAA0C;IAC7E,gCAAwB,EAAE,CAAC;IAC3B,iCAAyB,EAAE,CAAC;IAC5B,gCAAwB,EAAE,CAAC;IAC3B,iCAAyB,EAAE,CAAC;CAC5B,CAAC;AAOF,MAAM,CAAC,MAAM,eAAe,GAAG,GAAmB,EAAE;IACnD,oDAAoD;IACpD,OAAO,IAAI,WAAW,CAAC,aAAa,CAAC,MAAM,CAA8B,CAAC;AAC3E,CAAC,CAAC","file":"testingStates.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { mapValues } from '../../../../base/common/objects.js';\nimport { TestResultState } from './testTypes.js';\n\nexport type TreeStateNode = { statusNode: true; state: TestResultState; priority: number };\n\n/**\n * List of display priorities for different run states. When tests update,\n * the highest-priority state from any of their children will be the state\n * reflected in the parent node.\n */\nexport const statePriority: { [K in TestResultState]: number } = {\n\t[TestResultState.Running]: 6,\n\t[TestResultState.Errored]: 5,\n\t[TestResultState.Failed]: 4,\n\t[TestResultState.Queued]: 3,\n\t[TestResultState.Passed]: 2,\n\t[TestResultState.Unset]: 0,\n\t[TestResultState.Skipped]: 1,\n};\n\nexport const isFailedState = (s: TestResultState) => s === TestResultState.Errored || s === TestResultState.Failed;\nexport const isStateWithResult = (s: TestResultState) => s === TestResultState.Errored || s === TestResultState.Failed || s === TestResultState.Passed;\n\nexport const stateNodes: { [K in TestResultState]: TreeStateNode } = mapValues(statePriority, (priority, stateStr): TreeStateNode => {\n\tconst state = Number(stateStr) as TestResultState;\n\treturn { statusNode: true, state, priority };\n});\n\nexport const cmpPriority = (a: TestResultState, b: TestResultState) => statePriority[b] - statePriority[a];\n\nexport const maxPriority = (...states: TestResultState[]) => {\n\tswitch (states.length) {\n\t\tcase 0:\n\t\t\treturn TestResultState.Unset;\n\t\tcase 1:\n\t\t\treturn states[0];\n\t\tcase 2:\n\t\t\treturn statePriority[states[0]] > statePriority[states[1]] ? states[0] : states[1];\n\t\tdefault: {\n\t\t\tlet max = states[0];\n\t\t\tfor (let i = 1; i < states.length; i++) {\n\t\t\t\tif (statePriority[max] < statePriority[states[i]]) {\n\t\t\t\t\tmax = states[i];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn max;\n\t\t}\n\t}\n};\n\nexport const statesInOrder = Object.keys(statePriority).map(s => Number(s) as TestResultState).sort(cmpPriority);\n\n/**\n * Some states are considered terminal; once these are set for a given test run, they\n * are not reset back to a non-terminal state, or to a terminal state with lower\n * priority.\n */\nexport const terminalStatePriorities: { [key in TestResultState]?: number } = {\n\t[TestResultState.Passed]: 0,\n\t[TestResultState.Skipped]: 1,\n\t[TestResultState.Failed]: 2,\n\t[TestResultState.Errored]: 3,\n};\n\n/**\n * Count of the number of tests in each run state.\n */\nexport type TestStateCount = { [K in TestResultState]: number };\n\nexport const makeEmptyCounts = (): TestStateCount => {\n\t// shh! don't tell anyone this is actually an array!\n\treturn new Uint32Array(statesInOrder.length) as unknown as TestStateCount;\n};\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { mapValues } from '../../../../base/common/objects.js';\nimport { TestResultState } from './testTypes.js';\n\nexport type TreeStateNode = { statusNode: true; state: TestResultState; priority: number };\n\n/**\n * List of display priorities for different run states. When tests update,\n * the highest-priority state from any of their children will be the state\n * reflected in the parent node.\n */\nexport const statePriority: { [K in TestResultState]: number } = {\n\t[TestResultState.Running]: 6,\n\t[TestResultState.Errored]: 5,\n\t[TestResultState.Failed]: 4,\n\t[TestResultState.Queued]: 3,\n\t[TestResultState.Passed]: 2,\n\t[TestResultState.Unset]: 0,\n\t[TestResultState.Skipped]: 1,\n};\n\nexport const isFailedState = (s: TestResultState) => s === TestResultState.Errored || s === TestResultState.Failed;\nexport const isStateWithResult = (s: TestResultState) => s === TestResultState.Errored || s === TestResultState.Failed || s === TestResultState.Passed;\n\nexport const stateNodes: { [K in TestResultState]: TreeStateNode } = mapValues(statePriority, (priority, stateStr): TreeStateNode => {\n\tconst state = Number(stateStr) as TestResultState;\n\treturn { statusNode: true, state, priority };\n});\n\nexport const cmpPriority = (a: TestResultState, b: TestResultState) => statePriority[b] - statePriority[a];\n\nexport const maxPriority = (...states: TestResultState[]) => {\n\tswitch (states.length) {\n\t\tcase 0:\n\t\t\treturn TestResultState.Unset;\n\t\tcase 1:\n\t\t\treturn states[0];\n\t\tcase 2:\n\t\t\treturn statePriority[states[0]] > statePriority[states[1]] ? states[0] : states[1];\n\t\tdefault: {\n\t\t\tlet max = states[0];\n\t\t\tfor (let i = 1; i < states.length; i++) {\n\t\t\t\tif (statePriority[max] < statePriority[states[i]]) {\n\t\t\t\t\tmax = states[i];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn max;\n\t\t}\n\t}\n};\n\nexport const statesInOrder = Object.keys(statePriority).map(s => Number(s) as TestResultState).sort(cmpPriority);\n\n/**\n * Some states are considered terminal; once these are set for a given test run, they\n * are not reset back to a non-terminal state, or to a terminal state with lower\n * priority.\n */\nexport const terminalStatePriorities: { [key in TestResultState]?: number } = {\n\t[TestResultState.Passed]: 0,\n\t[TestResultState.Skipped]: 1,\n\t[TestResultState.Failed]: 2,\n\t[TestResultState.Errored]: 3,\n};\n\n/**\n * Count of the number of tests in each run state.\n */\nexport type TestStateCount = { [K in TestResultState]: number };\n\nexport const makeEmptyCounts = (): TestStateCount => {\n\t// shh! don't tell anyone this is actually an array!\n\treturn new Uint32Array(statesInOrder.length) as unknown as TestStateCount;\n};\n"]}