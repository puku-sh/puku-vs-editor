{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/testing/test/common/testProfileService.test.ts","vs/workbench/contrib/testing/test/common/testProfileService.test.ts"],"names":[],"mappings":"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","file":"testProfileService.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n\n\nimport assert from 'assert';\nimport { DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { MockContextKeyService } from '../../../../../platform/keybinding/test/common/mockKeybindingService.js';\nimport { TestProfileService } from '../../common/testProfileService.js';\nimport { ITestRunProfile, TestRunProfileBitset } from '../../common/testTypes.js';\nimport { TestStorageService } from '../../../../test/common/workbenchTestServices.js';\nimport { upcastPartial } from '../../../../../base/test/common/mock.js';\nimport { IMainThreadTestController } from '../../common/testService.js';\n\nsuite('Workbench - TestProfileService', () => {\n\tlet t: TestProfileService;\n\tlet ds: DisposableStore;\n\tlet idCounter = 0;\n\n\tteardown(() => {\n\t\tds.dispose();\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tsetup(() => {\n\t\tidCounter = 0;\n\t\tds = new DisposableStore();\n\t\tt = ds.add(new TestProfileService(\n\t\t\tnew MockContextKeyService(),\n\t\t\tds.add(new TestStorageService()),\n\t\t));\n\t});\n\n\tconst addProfile = (profile: Partial<ITestRunProfile>) => {\n\t\tconst p: ITestRunProfile = {\n\t\t\tcontrollerId: 'ctrlId',\n\t\t\tgroup: TestRunProfileBitset.Run,\n\t\t\tisDefault: true,\n\t\t\tlabel: 'profile',\n\t\t\tprofileId: idCounter++,\n\t\t\thasConfigurationHandler: false,\n\t\t\ttag: null,\n\t\t\tsupportsContinuousRun: false,\n\t\t\t...profile,\n\t\t};\n\n\t\tt.addProfile(upcastPartial<IMainThreadTestController>({ id: 'ctrlId' }), p);\n\t\treturn p;\n\t};\n\n\tconst assertGroupDefaults = (group: TestRunProfileBitset, expected: ITestRunProfile[]) => {\n\t\tassert.deepStrictEqual(t.getGroupDefaultProfiles(group).map(p => p.label), expected.map(e => e.label));\n\t};\n\n\tconst expectProfiles = (expected: ITestRunProfile[], actual: string[]) => {\n\t\tconst e = expected.map(e => e.label).sort();\n\t\tconst a = actual.sort();\n\t\tassert.deepStrictEqual(e, a);\n\t};\n\n\ttest('getGroupDefaultProfiles', () => {\n\t\taddProfile({ isDefault: true, group: TestRunProfileBitset.Debug, label: 'a' });\n\t\taddProfile({ isDefault: false, group: TestRunProfileBitset.Debug, label: 'b' });\n\t\taddProfile({ isDefault: true, group: TestRunProfileBitset.Run, label: 'c' });\n\t\taddProfile({ isDefault: true, group: TestRunProfileBitset.Run, label: 'd', controllerId: '2' });\n\t\taddProfile({ isDefault: false, group: TestRunProfileBitset.Run, label: 'e', controllerId: '2' });\n\t\texpectProfiles(t.getGroupDefaultProfiles(TestRunProfileBitset.Run), ['c', 'd']);\n\t\texpectProfiles(t.getGroupDefaultProfiles(TestRunProfileBitset.Debug), ['a']);\n\t});\n\n\tsuite('setGroupDefaultProfiles', () => {\n\t\ttest('applies simple changes', () => {\n\t\t\tconst p1 = addProfile({ isDefault: false, group: TestRunProfileBitset.Debug, label: 'a' });\n\t\t\taddProfile({ isDefault: false, group: TestRunProfileBitset.Debug, label: 'b' });\n\t\t\tconst p3 = addProfile({ isDefault: false, group: TestRunProfileBitset.Run, label: 'c' });\n\t\t\taddProfile({ isDefault: false, group: TestRunProfileBitset.Run, label: 'd' });\n\n\t\t\tt.setGroupDefaultProfiles(TestRunProfileBitset.Run, [p3]);\n\t\t\tassertGroupDefaults(TestRunProfileBitset.Run, [p3]);\n\t\t\tassertGroupDefaults(TestRunProfileBitset.Debug, [p1]);\n\t\t});\n\n\t\ttest('syncs labels if same', () => {\n\t\t\tconst p1 = addProfile({ isDefault: false, group: TestRunProfileBitset.Debug, label: 'a' });\n\t\t\tconst p2 = addProfile({ isDefault: false, group: TestRunProfileBitset.Debug, label: 'b' });\n\t\t\tconst p3 = addProfile({ isDefault: false, group: TestRunProfileBitset.Run, label: 'a' });\n\t\t\tconst p4 = addProfile({ isDefault: false, group: TestRunProfileBitset.Run, label: 'b' });\n\n\t\t\tt.setGroupDefaultProfiles(TestRunProfileBitset.Run, [p3]);\n\t\t\tassertGroupDefaults(TestRunProfileBitset.Run, [p3]);\n\t\t\tassertGroupDefaults(TestRunProfileBitset.Debug, [p1]);\n\n\t\t\tt.setGroupDefaultProfiles(TestRunProfileBitset.Debug, [p2]);\n\t\t\tassertGroupDefaults(TestRunProfileBitset.Run, [p4]);\n\t\t\tassertGroupDefaults(TestRunProfileBitset.Debug, [p2]);\n\t\t});\n\n\t\ttest('does not mess up sync for multiple controllers', () => {\n\t\t\t// ctrl a and b both of have their own labels. ctrl c does not and should be unaffected\n\t\t\tconst p1 = addProfile({ isDefault: false, controllerId: 'a', group: TestRunProfileBitset.Debug, label: 'a' });\n\t\t\tconst p2 = addProfile({ isDefault: false, controllerId: 'b', group: TestRunProfileBitset.Debug, label: 'b1' });\n\t\t\tconst p3 = addProfile({ isDefault: false, controllerId: 'b', group: TestRunProfileBitset.Debug, label: 'b2' });\n\t\t\tconst p4 = addProfile({ isDefault: false, controllerId: 'c', group: TestRunProfileBitset.Debug, label: 'c1' });\n\n\t\t\tconst p5 = addProfile({ isDefault: false, controllerId: 'a', group: TestRunProfileBitset.Run, label: 'a' });\n\t\t\tconst p6 = addProfile({ isDefault: false, controllerId: 'b', group: TestRunProfileBitset.Run, label: 'b1' });\n\t\t\tconst p7 = addProfile({ isDefault: false, controllerId: 'b', group: TestRunProfileBitset.Run, label: 'b2' });\n\t\t\tconst p8 = addProfile({ isDefault: false, controllerId: 'b', group: TestRunProfileBitset.Run, label: 'b3' });\n\n\t\t\t// same profile on both\n\t\t\tt.setGroupDefaultProfiles(TestRunProfileBitset.Debug, [p3]);\n\t\t\tassertGroupDefaults(TestRunProfileBitset.Run, [p7]);\n\t\t\tassertGroupDefaults(TestRunProfileBitset.Debug, [p3]);\n\n\t\t\t// different profile, other should be unaffected\n\t\t\tt.setGroupDefaultProfiles(TestRunProfileBitset.Run, [p8]);\n\t\t\tassertGroupDefaults(TestRunProfileBitset.Run, [p8]);\n\t\t\tassertGroupDefaults(TestRunProfileBitset.Debug, [p5]);\n\n\t\t\t// multiple changes in one go, with unmatched c\n\t\t\tt.setGroupDefaultProfiles(TestRunProfileBitset.Debug, [p1, p2, p4]);\n\t\t\tassertGroupDefaults(TestRunProfileBitset.Run, [p5, p6, p8]);\n\t\t\tassertGroupDefaults(TestRunProfileBitset.Debug, [p1, p2, p4]);\n\n\t\t\t// identity\n\t\t\tt.setGroupDefaultProfiles(TestRunProfileBitset.Run, [p5, p6, p8]);\n\t\t\tassertGroupDefaults(TestRunProfileBitset.Run, [p5, p6, p8]);\n\t\t\tassertGroupDefaults(TestRunProfileBitset.Debug, [p1, p2, p4]);\n\t\t});\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n\n\nimport assert from 'assert';\nimport { DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { MockContextKeyService } from '../../../../../platform/keybinding/test/common/mockKeybindingService.js';\nimport { TestProfileService } from '../../common/testProfileService.js';\nimport { ITestRunProfile, TestRunProfileBitset } from '../../common/testTypes.js';\nimport { TestStorageService } from '../../../../test/common/workbenchTestServices.js';\nimport { upcastPartial } from '../../../../../base/test/common/mock.js';\nimport { IMainThreadTestController } from '../../common/testService.js';\n\nsuite('Workbench - TestProfileService', () => {\n\tlet t: TestProfileService;\n\tlet ds: DisposableStore;\n\tlet idCounter = 0;\n\n\tteardown(() => {\n\t\tds.dispose();\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tsetup(() => {\n\t\tidCounter = 0;\n\t\tds = new DisposableStore();\n\t\tt = ds.add(new TestProfileService(\n\t\t\tnew MockContextKeyService(),\n\t\t\tds.add(new TestStorageService()),\n\t\t));\n\t});\n\n\tconst addProfile = (profile: Partial<ITestRunProfile>) => {\n\t\tconst p: ITestRunProfile = {\n\t\t\tcontrollerId: 'ctrlId',\n\t\t\tgroup: TestRunProfileBitset.Run,\n\t\t\tisDefault: true,\n\t\t\tlabel: 'profile',\n\t\t\tprofileId: idCounter++,\n\t\t\thasConfigurationHandler: false,\n\t\t\ttag: null,\n\t\t\tsupportsContinuousRun: false,\n\t\t\t...profile,\n\t\t};\n\n\t\tt.addProfile(upcastPartial<IMainThreadTestController>({ id: 'ctrlId' }), p);\n\t\treturn p;\n\t};\n\n\tconst assertGroupDefaults = (group: TestRunProfileBitset, expected: ITestRunProfile[]) => {\n\t\tassert.deepStrictEqual(t.getGroupDefaultProfiles(group).map(p => p.label), expected.map(e => e.label));\n\t};\n\n\tconst expectProfiles = (expected: ITestRunProfile[], actual: string[]) => {\n\t\tconst e = expected.map(e => e.label).sort();\n\t\tconst a = actual.sort();\n\t\tassert.deepStrictEqual(e, a);\n\t};\n\n\ttest('getGroupDefaultProfiles', () => {\n\t\taddProfile({ isDefault: true, group: TestRunProfileBitset.Debug, label: 'a' });\n\t\taddProfile({ isDefault: false, group: TestRunProfileBitset.Debug, label: 'b' });\n\t\taddProfile({ isDefault: true, group: TestRunProfileBitset.Run, label: 'c' });\n\t\taddProfile({ isDefault: true, group: TestRunProfileBitset.Run, label: 'd', controllerId: '2' });\n\t\taddProfile({ isDefault: false, group: TestRunProfileBitset.Run, label: 'e', controllerId: '2' });\n\t\texpectProfiles(t.getGroupDefaultProfiles(TestRunProfileBitset.Run), ['c', 'd']);\n\t\texpectProfiles(t.getGroupDefaultProfiles(TestRunProfileBitset.Debug), ['a']);\n\t});\n\n\tsuite('setGroupDefaultProfiles', () => {\n\t\ttest('applies simple changes', () => {\n\t\t\tconst p1 = addProfile({ isDefault: false, group: TestRunProfileBitset.Debug, label: 'a' });\n\t\t\taddProfile({ isDefault: false, group: TestRunProfileBitset.Debug, label: 'b' });\n\t\t\tconst p3 = addProfile({ isDefault: false, group: TestRunProfileBitset.Run, label: 'c' });\n\t\t\taddProfile({ isDefault: false, group: TestRunProfileBitset.Run, label: 'd' });\n\n\t\t\tt.setGroupDefaultProfiles(TestRunProfileBitset.Run, [p3]);\n\t\t\tassertGroupDefaults(TestRunProfileBitset.Run, [p3]);\n\t\t\tassertGroupDefaults(TestRunProfileBitset.Debug, [p1]);\n\t\t});\n\n\t\ttest('syncs labels if same', () => {\n\t\t\tconst p1 = addProfile({ isDefault: false, group: TestRunProfileBitset.Debug, label: 'a' });\n\t\t\tconst p2 = addProfile({ isDefault: false, group: TestRunProfileBitset.Debug, label: 'b' });\n\t\t\tconst p3 = addProfile({ isDefault: false, group: TestRunProfileBitset.Run, label: 'a' });\n\t\t\tconst p4 = addProfile({ isDefault: false, group: TestRunProfileBitset.Run, label: 'b' });\n\n\t\t\tt.setGroupDefaultProfiles(TestRunProfileBitset.Run, [p3]);\n\t\t\tassertGroupDefaults(TestRunProfileBitset.Run, [p3]);\n\t\t\tassertGroupDefaults(TestRunProfileBitset.Debug, [p1]);\n\n\t\t\tt.setGroupDefaultProfiles(TestRunProfileBitset.Debug, [p2]);\n\t\t\tassertGroupDefaults(TestRunProfileBitset.Run, [p4]);\n\t\t\tassertGroupDefaults(TestRunProfileBitset.Debug, [p2]);\n\t\t});\n\n\t\ttest('does not mess up sync for multiple controllers', () => {\n\t\t\t// ctrl a and b both of have their own labels. ctrl c does not and should be unaffected\n\t\t\tconst p1 = addProfile({ isDefault: false, controllerId: 'a', group: TestRunProfileBitset.Debug, label: 'a' });\n\t\t\tconst p2 = addProfile({ isDefault: false, controllerId: 'b', group: TestRunProfileBitset.Debug, label: 'b1' });\n\t\t\tconst p3 = addProfile({ isDefault: false, controllerId: 'b', group: TestRunProfileBitset.Debug, label: 'b2' });\n\t\t\tconst p4 = addProfile({ isDefault: false, controllerId: 'c', group: TestRunProfileBitset.Debug, label: 'c1' });\n\n\t\t\tconst p5 = addProfile({ isDefault: false, controllerId: 'a', group: TestRunProfileBitset.Run, label: 'a' });\n\t\t\tconst p6 = addProfile({ isDefault: false, controllerId: 'b', group: TestRunProfileBitset.Run, label: 'b1' });\n\t\t\tconst p7 = addProfile({ isDefault: false, controllerId: 'b', group: TestRunProfileBitset.Run, label: 'b2' });\n\t\t\tconst p8 = addProfile({ isDefault: false, controllerId: 'b', group: TestRunProfileBitset.Run, label: 'b3' });\n\n\t\t\t// same profile on both\n\t\t\tt.setGroupDefaultProfiles(TestRunProfileBitset.Debug, [p3]);\n\t\t\tassertGroupDefaults(TestRunProfileBitset.Run, [p7]);\n\t\t\tassertGroupDefaults(TestRunProfileBitset.Debug, [p3]);\n\n\t\t\t// different profile, other should be unaffected\n\t\t\tt.setGroupDefaultProfiles(TestRunProfileBitset.Run, [p8]);\n\t\t\tassertGroupDefaults(TestRunProfileBitset.Run, [p8]);\n\t\t\tassertGroupDefaults(TestRunProfileBitset.Debug, [p5]);\n\n\t\t\t// multiple changes in one go, with unmatched c\n\t\t\tt.setGroupDefaultProfiles(TestRunProfileBitset.Debug, [p1, p2, p4]);\n\t\t\tassertGroupDefaults(TestRunProfileBitset.Run, [p5, p6, p8]);\n\t\t\tassertGroupDefaults(TestRunProfileBitset.Debug, [p1, p2, p4]);\n\n\t\t\t// identity\n\t\t\tt.setGroupDefaultProfiles(TestRunProfileBitset.Run, [p5, p6, p8]);\n\t\t\tassertGroupDefaults(TestRunProfileBitset.Run, [p5, p6, p8]);\n\t\t\tassertGroupDefaults(TestRunProfileBitset.Debug, [p1, p2, p4]);\n\t\t});\n\t});\n});\n"]}