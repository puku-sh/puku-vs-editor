{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/testing/test/browser/codeCoverageDecorations.test.ts","vs/workbench/contrib/testing/test/browser/codeCoverageDecorations.test.ts"],"names":[],"mappings":"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","file":"codeCoverageDecorations.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n\nimport { assertSnapshot } from '../../../../../base/test/common/snapshot.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { Position } from '../../../../../editor/common/core/position.js';\nimport { Range } from '../../../../../editor/common/core/range.js';\nimport { ITextModel } from '../../../../../editor/common/model.js';\nimport * as assert from 'assert';\nimport { CoverageDetailsModel } from '../../browser/codeCoverageDecorations.js';\nimport { CoverageDetails, DetailType } from '../../common/testTypes.js';\nimport { upcastPartial } from '../../../../../base/test/common/mock.js';\n\nsuite('Code Coverage Decorations', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tconst textModel = upcastPartial<ITextModel>({ getValueInRange: () => '' });\n\tconst assertRanges = async (model: CoverageDetailsModel) => await assertSnapshot(model.ranges.map(r => ({\n\t\trange: r.range.toString(),\n\t\tcount: r.metadata.detail.type === DetailType.Branch ? r.metadata.detail.detail.branches![r.metadata.detail.branch].count : r.metadata.detail.count,\n\t})));\n\n\ttest('CoverageDetailsModel#1', async () => {\n\t\t// Create some sample coverage details\n\t\tconst details: CoverageDetails[] = [\n\t\t\t{ location: new Range(1, 0, 5, 0), type: DetailType.Statement, count: 1 },\n\t\t\t{ location: new Range(2, 0, 3, 0), type: DetailType.Statement, count: 2 },\n\t\t\t{ location: new Range(4, 0, 6, 0), type: DetailType.Statement, branches: [{ location: new Range(3, 0, 7, 0), count: 3 }], count: 4 },\n\t\t];\n\n\t\t// Create a new CoverageDetailsModel instance\n\t\tconst model = new CoverageDetailsModel(details, textModel);\n\n\t\t// Verify that the ranges are generated correctly\n\t\tawait assertRanges(model);\n\t});\n\n\ttest('CoverageDetailsModel#2', async () => {\n\t\t// Create some sample coverage details\n\t\tconst details: CoverageDetails[] = [\n\t\t\t{ location: new Range(1, 0, 5, 0), type: DetailType.Statement, count: 1 },\n\t\t\t{ location: new Range(2, 0, 4, 0), type: DetailType.Statement, count: 2 },\n\t\t\t{ location: new Range(3, 0, 3, 5), type: DetailType.Statement, count: 3 },\n\t\t];\n\n\t\t// Create a new CoverageDetailsModel instance\n\t\tconst model = new CoverageDetailsModel(details, textModel);\n\n\t\t// Verify that the ranges are generated correctly\n\t\tawait assertRanges(model);\n\t});\n\n\ttest('CoverageDetailsModel#3', async () => {\n\t\t// Create some sample coverage details\n\t\tconst details: CoverageDetails[] = [\n\t\t\t{ location: new Range(1, 0, 5, 0), type: DetailType.Statement, count: 1 },\n\t\t\t{ location: new Range(2, 0, 3, 0), type: DetailType.Statement, count: 2 },\n\t\t\t{ location: new Range(4, 0, 5, 0), type: DetailType.Statement, count: 3 },\n\t\t];\n\n\t\t// Create a new CoverageDetailsModel instance\n\t\tconst model = new CoverageDetailsModel(details, textModel);\n\n\t\t// Verify that the ranges are generated correctly\n\t\tawait assertRanges(model);\n\t});\n\n\ttest('CoverageDetailsModel#4', async () => {\n\t\t// Create some sample coverage details\n\t\tconst details: CoverageDetails[] = [\n\t\t\t{ location: new Range(1, 0, 5, 0), type: DetailType.Statement, count: 1 },\n\t\t\t{ location: new Position(2, 0), type: DetailType.Statement, count: 2 },\n\t\t\t{ location: new Range(4, 0, 5, 0), type: DetailType.Statement, count: 3 },\n\t\t\t{ location: new Position(4, 3), type: DetailType.Statement, count: 4 },\n\t\t];\n\n\t\t// Create a new CoverageDetailsModel instance\n\t\tconst model = new CoverageDetailsModel(details, textModel);\n\n\t\t// Verify that the ranges are generated correctly\n\t\tawait assertRanges(model);\n\t});\n\n\ttest('hasInlineCoverageDetails context key', () => {\n\t\t// Test that CoverageDetailsModel with ranges indicates inline coverage is available\n\t\tconst detailsWithRanges: CoverageDetails[] = [\n\t\t\t{ location: new Range(1, 0, 2, 0), type: DetailType.Statement, count: 1 },\n\t\t];\n\t\tconst modelWithRanges = new CoverageDetailsModel(detailsWithRanges, textModel);\n\n\t\t// Should have ranges available for inline display\n\t\tassert.strictEqual(modelWithRanges.ranges.length > 0, true, 'Model with coverage details should have ranges');\n\n\t\t// Test that empty coverage details indicates no inline coverage\n\t\tconst emptyDetails: CoverageDetails[] = [];\n\t\tconst emptyModel = new CoverageDetailsModel(emptyDetails, textModel);\n\n\t\t// Should have no ranges available for inline display\n\t\tassert.strictEqual(emptyModel.ranges.length === 0, true, 'Model with no coverage details should have no ranges');\n\t});\n\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n\nimport { assertSnapshot } from '../../../../../base/test/common/snapshot.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { Position } from '../../../../../editor/common/core/position.js';\nimport { Range } from '../../../../../editor/common/core/range.js';\nimport { ITextModel } from '../../../../../editor/common/model.js';\nimport * as assert from 'assert';\nimport { CoverageDetailsModel } from '../../browser/codeCoverageDecorations.js';\nimport { CoverageDetails, DetailType } from '../../common/testTypes.js';\nimport { upcastPartial } from '../../../../../base/test/common/mock.js';\n\nsuite('Code Coverage Decorations', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tconst textModel = upcastPartial<ITextModel>({ getValueInRange: () => '' });\n\tconst assertRanges = async (model: CoverageDetailsModel) => await assertSnapshot(model.ranges.map(r => ({\n\t\trange: r.range.toString(),\n\t\tcount: r.metadata.detail.type === DetailType.Branch ? r.metadata.detail.detail.branches![r.metadata.detail.branch].count : r.metadata.detail.count,\n\t})));\n\n\ttest('CoverageDetailsModel#1', async () => {\n\t\t// Create some sample coverage details\n\t\tconst details: CoverageDetails[] = [\n\t\t\t{ location: new Range(1, 0, 5, 0), type: DetailType.Statement, count: 1 },\n\t\t\t{ location: new Range(2, 0, 3, 0), type: DetailType.Statement, count: 2 },\n\t\t\t{ location: new Range(4, 0, 6, 0), type: DetailType.Statement, branches: [{ location: new Range(3, 0, 7, 0), count: 3 }], count: 4 },\n\t\t];\n\n\t\t// Create a new CoverageDetailsModel instance\n\t\tconst model = new CoverageDetailsModel(details, textModel);\n\n\t\t// Verify that the ranges are generated correctly\n\t\tawait assertRanges(model);\n\t});\n\n\ttest('CoverageDetailsModel#2', async () => {\n\t\t// Create some sample coverage details\n\t\tconst details: CoverageDetails[] = [\n\t\t\t{ location: new Range(1, 0, 5, 0), type: DetailType.Statement, count: 1 },\n\t\t\t{ location: new Range(2, 0, 4, 0), type: DetailType.Statement, count: 2 },\n\t\t\t{ location: new Range(3, 0, 3, 5), type: DetailType.Statement, count: 3 },\n\t\t];\n\n\t\t// Create a new CoverageDetailsModel instance\n\t\tconst model = new CoverageDetailsModel(details, textModel);\n\n\t\t// Verify that the ranges are generated correctly\n\t\tawait assertRanges(model);\n\t});\n\n\ttest('CoverageDetailsModel#3', async () => {\n\t\t// Create some sample coverage details\n\t\tconst details: CoverageDetails[] = [\n\t\t\t{ location: new Range(1, 0, 5, 0), type: DetailType.Statement, count: 1 },\n\t\t\t{ location: new Range(2, 0, 3, 0), type: DetailType.Statement, count: 2 },\n\t\t\t{ location: new Range(4, 0, 5, 0), type: DetailType.Statement, count: 3 },\n\t\t];\n\n\t\t// Create a new CoverageDetailsModel instance\n\t\tconst model = new CoverageDetailsModel(details, textModel);\n\n\t\t// Verify that the ranges are generated correctly\n\t\tawait assertRanges(model);\n\t});\n\n\ttest('CoverageDetailsModel#4', async () => {\n\t\t// Create some sample coverage details\n\t\tconst details: CoverageDetails[] = [\n\t\t\t{ location: new Range(1, 0, 5, 0), type: DetailType.Statement, count: 1 },\n\t\t\t{ location: new Position(2, 0), type: DetailType.Statement, count: 2 },\n\t\t\t{ location: new Range(4, 0, 5, 0), type: DetailType.Statement, count: 3 },\n\t\t\t{ location: new Position(4, 3), type: DetailType.Statement, count: 4 },\n\t\t];\n\n\t\t// Create a new CoverageDetailsModel instance\n\t\tconst model = new CoverageDetailsModel(details, textModel);\n\n\t\t// Verify that the ranges are generated correctly\n\t\tawait assertRanges(model);\n\t});\n\n\ttest('hasInlineCoverageDetails context key', () => {\n\t\t// Test that CoverageDetailsModel with ranges indicates inline coverage is available\n\t\tconst detailsWithRanges: CoverageDetails[] = [\n\t\t\t{ location: new Range(1, 0, 2, 0), type: DetailType.Statement, count: 1 },\n\t\t];\n\t\tconst modelWithRanges = new CoverageDetailsModel(detailsWithRanges, textModel);\n\n\t\t// Should have ranges available for inline display\n\t\tassert.strictEqual(modelWithRanges.ranges.length > 0, true, 'Model with coverage details should have ranges');\n\n\t\t// Test that empty coverage details indicates no inline coverage\n\t\tconst emptyDetails: CoverageDetails[] = [];\n\t\tconst emptyModel = new CoverageDetailsModel(emptyDetails, textModel);\n\n\t\t// Should have no ranges available for inline display\n\t\tassert.strictEqual(emptyModel.ranges.length === 0, true, 'Model with no coverage details should have no ranges');\n\t});\n\n});\n"]}