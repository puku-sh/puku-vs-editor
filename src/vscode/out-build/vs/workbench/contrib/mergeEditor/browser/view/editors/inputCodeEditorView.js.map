{"version":3,"sources":["vs/workbench/contrib/mergeEditor/browser/view/editors/inputCodeEditorView.ts"],"names":[],"mappings":"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","file":"inputCodeEditorView.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { addDisposableListener, EventType, h, reset } from '../../../../../../base/browser/dom.js';\nimport { renderLabelWithIcons } from '../../../../../../base/browser/ui/iconLabel/iconLabels.js';\nimport { Toggle } from '../../../../../../base/browser/ui/toggle/toggle.js';\nimport { Action, IAction, Separator } from '../../../../../../base/common/actions.js';\nimport { Codicon } from '../../../../../../base/common/codicons.js';\nimport { Disposable } from '../../../../../../base/common/lifecycle.js';\nimport { clamp } from '../../../../../../base/common/numbers.js';\nimport { autorun, autorunOpts, derived, derivedOpts, IObservable, ISettableObservable, ITransaction, observableValue, transaction } from '../../../../../../base/common/observable.js';\nimport { noBreakWhitespace } from '../../../../../../base/common/strings.js';\nimport { ThemeIcon } from '../../../../../../base/common/themables.js';\nimport { isDefined } from '../../../../../../base/common/types.js';\nimport { IModelDeltaDecoration, MinimapPosition, OverviewRulerLane } from '../../../../../../editor/common/model.js';\nimport { localize } from '../../../../../../nls.js';\nimport { MenuId } from '../../../../../../platform/actions/common/actions.js';\nimport { IConfigurationService } from '../../../../../../platform/configuration/common/configuration.js';\nimport { IContextMenuService } from '../../../../../../platform/contextview/browser/contextView.js';\nimport { IInstantiationService } from '../../../../../../platform/instantiation/common/instantiation.js';\nimport { defaultToggleStyles } from '../../../../../../platform/theme/browser/defaultStyles.js';\nimport { InputState, ModifiedBaseRange, ModifiedBaseRangeState } from '../../model/modifiedBaseRange.js';\nimport { applyObservableDecorations, setFields } from '../../utils.js';\nimport { handledConflictMinimapOverViewRulerColor, unhandledConflictMinimapOverViewRulerColor } from '../colors.js';\nimport { MergeEditorViewModel } from '../viewModel.js';\nimport { EditorGutter, IGutterItemInfo, IGutterItemView } from '../editorGutter.js';\nimport { CodeEditorView, createSelectionsAutorun, TitleMenu } from './codeEditorView.js';\n\nexport class InputCodeEditorView extends CodeEditorView {\n\tpublic readonly otherInputNumber;\n\n\tconstructor(\n\t\tpublic readonly inputNumber: 1 | 2,\n\t\tviewModel: IObservable<MergeEditorViewModel | undefined>,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t) {\n\t\tsuper(instantiationService, viewModel, configurationService);\n\t\tthis.otherInputNumber = this.inputNumber === 1 ? 2 : 1;\n\t\tthis.modifiedBaseRangeGutterItemInfos = derivedOpts({ debugName: `input${this.inputNumber}.modifiedBaseRangeGutterItemInfos` }, reader => {\n\t\t\tconst viewModel = this.viewModel.read(reader);\n\t\t\tif (!viewModel) { return []; }\n\t\t\tconst model = viewModel.model;\n\t\t\tconst inputNumber = this.inputNumber;\n\n\t\t\tconst showNonConflictingChanges = viewModel.showNonConflictingChanges.read(reader);\n\n\t\t\treturn model.modifiedBaseRanges.read(reader)\n\t\t\t\t.filter((r) => r.getInputDiffs(this.inputNumber).length > 0 && (showNonConflictingChanges || r.isConflicting || !model.isHandled(r).read(reader)))\n\t\t\t\t.map((baseRange, idx) => new ModifiedBaseRangeGutterItemModel(idx.toString(), baseRange, inputNumber, viewModel));\n\t\t});\n\t\tthis.decorations = derivedOpts({ debugName: `input${this.inputNumber}.decorations` }, reader => {\n\t\t\tconst viewModel = this.viewModel.read(reader);\n\t\t\tif (!viewModel) {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\tconst model = viewModel.model;\n\t\t\tconst textModel = (this.inputNumber === 1 ? model.input1 : model.input2).textModel;\n\n\t\t\tconst activeModifiedBaseRange = viewModel.activeModifiedBaseRange.read(reader);\n\n\t\t\tconst result = new Array<IModelDeltaDecoration>();\n\n\t\t\tconst showNonConflictingChanges = viewModel.showNonConflictingChanges.read(reader);\n\t\t\tconst showDeletionMarkers = this.showDeletionMarkers.read(reader);\n\t\t\tconst diffWithThis = viewModel.baseCodeEditorView.read(reader) !== undefined && viewModel.baseShowDiffAgainst.read(reader) === this.inputNumber;\n\t\t\tconst useSimplifiedDecorations = !diffWithThis && this.useSimplifiedDecorations.read(reader);\n\n\t\t\tfor (const modifiedBaseRange of model.modifiedBaseRanges.read(reader)) {\n\t\t\t\tconst range = modifiedBaseRange.getInputRange(this.inputNumber);\n\t\t\t\tif (!range) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tconst blockClassNames = ['merge-editor-block'];\n\t\t\t\tlet blockPadding: [top: number, right: number, bottom: number, left: number] = [0, 0, 0, 0];\n\t\t\t\tconst isHandled = model.isInputHandled(modifiedBaseRange, this.inputNumber).read(reader);\n\t\t\t\tif (isHandled) {\n\t\t\t\t\tblockClassNames.push('handled');\n\t\t\t\t}\n\t\t\t\tif (modifiedBaseRange === activeModifiedBaseRange) {\n\t\t\t\t\tblockClassNames.push('focused');\n\t\t\t\t\tblockPadding = [0, 2, 0, 2];\n\t\t\t\t}\n\t\t\t\tif (modifiedBaseRange.isConflicting) {\n\t\t\t\t\tblockClassNames.push('conflicting');\n\t\t\t\t}\n\t\t\t\tconst inputClassName = this.inputNumber === 1 ? 'input i1' : 'input i2';\n\t\t\t\tblockClassNames.push(inputClassName);\n\n\t\t\t\tif (!modifiedBaseRange.isConflicting && !showNonConflictingChanges && isHandled) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (useSimplifiedDecorations && !isHandled) {\n\t\t\t\t\tblockClassNames.push('use-simplified-decorations');\n\t\t\t\t}\n\n\t\t\t\tresult.push({\n\t\t\t\t\trange: range.toInclusiveRangeOrEmpty(),\n\t\t\t\t\toptions: {\n\t\t\t\t\t\tshowIfCollapsed: true,\n\t\t\t\t\t\tblockClassName: blockClassNames.join(' '),\n\t\t\t\t\t\tblockPadding,\n\t\t\t\t\t\tblockIsAfterEnd: range.startLineNumber > textModel.getLineCount(),\n\t\t\t\t\t\tdescription: 'Merge Editor',\n\t\t\t\t\t\tminimap: {\n\t\t\t\t\t\t\tposition: MinimapPosition.Gutter,\n\t\t\t\t\t\t\tcolor: { id: isHandled ? handledConflictMinimapOverViewRulerColor : unhandledConflictMinimapOverViewRulerColor },\n\t\t\t\t\t\t},\n\t\t\t\t\t\toverviewRuler: modifiedBaseRange.isConflicting ? {\n\t\t\t\t\t\t\tposition: OverviewRulerLane.Center,\n\t\t\t\t\t\t\tcolor: { id: isHandled ? handledConflictMinimapOverViewRulerColor : unhandledConflictMinimapOverViewRulerColor },\n\t\t\t\t\t\t} : undefined\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (!useSimplifiedDecorations && (modifiedBaseRange.isConflicting || !model.isHandled(modifiedBaseRange).read(reader))) {\n\t\t\t\t\tconst inputDiffs = modifiedBaseRange.getInputDiffs(this.inputNumber);\n\t\t\t\t\tfor (const diff of inputDiffs) {\n\t\t\t\t\t\tconst range = diff.outputRange.toInclusiveRange();\n\t\t\t\t\t\tif (range) {\n\t\t\t\t\t\t\tresult.push({\n\t\t\t\t\t\t\t\trange,\n\t\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\t\tclassName: `merge-editor-diff ${inputClassName}`,\n\t\t\t\t\t\t\t\t\tdescription: 'Merge Editor',\n\t\t\t\t\t\t\t\t\tisWholeLine: true,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (diff.rangeMappings) {\n\t\t\t\t\t\t\tfor (const d of diff.rangeMappings) {\n\t\t\t\t\t\t\t\tif (showDeletionMarkers || !d.outputRange.isEmpty()) {\n\t\t\t\t\t\t\t\t\tresult.push({\n\t\t\t\t\t\t\t\t\t\trange: d.outputRange,\n\t\t\t\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\t\t\t\tclassName: d.outputRange.isEmpty() ? `merge-editor-diff-empty-word ${inputClassName}` : `merge-editor-diff-word ${inputClassName}`,\n\t\t\t\t\t\t\t\t\t\t\tdescription: 'Merge Editor',\n\t\t\t\t\t\t\t\t\t\t\tshowIfCollapsed: true,\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t});\n\n\t\tthis.htmlElements.root.classList.add(`input`);\n\n\t\tthis._register(\n\t\t\tnew EditorGutter(this.editor, this.htmlElements.gutterDiv, {\n\t\t\t\tgetIntersectingGutterItems: (range, reader) => {\n\t\t\t\t\tif (this.checkboxesVisible.read(reader)) {\n\t\t\t\t\t\treturn this.modifiedBaseRangeGutterItemInfos.read(reader);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn [];\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tcreateView: (item, target) => new MergeConflictGutterItemView(item, target, contextMenuService),\n\t\t\t})\n\t\t);\n\n\t\tthis._register(\n\t\t\tcreateSelectionsAutorun(this, (baseRange, viewModel) =>\n\t\t\t\tviewModel.model.translateBaseRangeToInput(this.inputNumber, baseRange)\n\t\t\t)\n\t\t);\n\n\t\tthis._register(\n\t\t\tinstantiationService.createInstance(\n\t\t\t\tTitleMenu,\n\t\t\t\tinputNumber === 1 ? MenuId.MergeInput1Toolbar : MenuId.MergeInput2Toolbar,\n\t\t\t\tthis.htmlElements.toolbar\n\t\t\t)\n\t\t);\n\n\t\tthis._register(autorunOpts({ debugName: `input${this.inputNumber}: update labels & text model` }, reader => {\n\t\t\tconst vm = this.viewModel.read(reader);\n\t\t\tif (!vm) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.editor.setModel(this.inputNumber === 1 ? vm.model.input1.textModel : vm.model.input2.textModel);\n\n\t\t\tconst title = this.inputNumber === 1\n\t\t\t\t? vm.model.input1.title || localize('input1', 'Input 1')\n\t\t\t\t: vm.model.input2.title || localize('input2', 'Input 2');\n\n\t\t\tconst description = this.inputNumber === 1\n\t\t\t\t? vm.model.input1.description\n\t\t\t\t: vm.model.input2.description;\n\n\t\t\tconst detail = this.inputNumber === 1\n\t\t\t\t? vm.model.input1.detail\n\t\t\t\t: vm.model.input2.detail;\n\n\t\t\treset(this.htmlElements.title, ...renderLabelWithIcons(title));\n\t\t\treset(this.htmlElements.description, ...(description ? renderLabelWithIcons(description) : []));\n\t\t\treset(this.htmlElements.detail, ...(detail ? renderLabelWithIcons(detail) : []));\n\t\t}));\n\n\n\t\tthis._register(applyObservableDecorations(this.editor, this.decorations));\n\t}\n\n\tprivate readonly modifiedBaseRangeGutterItemInfos;\n\n\tprivate readonly decorations;\n}\n\nexport class ModifiedBaseRangeGutterItemModel implements IGutterItemInfo {\n\tprivate readonly model;\n\tpublic readonly range;\n\n\tconstructor(\n\t\tpublic readonly id: string,\n\t\tprivate readonly baseRange: ModifiedBaseRange,\n\t\tprivate readonly inputNumber: 1 | 2,\n\t\tprivate readonly viewModel: MergeEditorViewModel\n\t) {\n\t\tthis.model = this.viewModel.model;\n\t\tthis.range = this.baseRange.getInputRange(this.inputNumber);\n\t\tthis.enabled = this.model.isUpToDate;\n\t\tthis.toggleState = derived(this, reader => {\n\t\t\tconst input = this.model\n\t\t\t\t.getState(this.baseRange)\n\t\t\t\t.read(reader)\n\t\t\t\t.getInput(this.inputNumber);\n\t\t\treturn input === InputState.second && !this.baseRange.isOrderRelevant\n\t\t\t\t? InputState.first\n\t\t\t\t: input;\n\t\t});\n\t\tthis.state = derived(this, reader => {\n\t\t\tconst active = this.viewModel.activeModifiedBaseRange.read(reader);\n\t\t\tif (!this.model.hasBaseRange(this.baseRange)) {\n\t\t\t\treturn { handled: false, focused: false }; // Invalid state, should only be observed temporarily\n\t\t\t}\n\t\t\treturn {\n\t\t\t\thandled: this.model.isHandled(this.baseRange).read(reader),\n\t\t\t\tfocused: this.baseRange === active,\n\t\t\t};\n\t\t});\n\t}\n\n\tpublic readonly enabled;\n\n\tpublic readonly toggleState: IObservable<InputState>;\n\n\tpublic readonly state: IObservable<{ handled: boolean; focused: boolean }>;\n\n\tpublic setState(value: boolean, tx: ITransaction): void {\n\t\tthis.viewModel.setState(\n\t\t\tthis.baseRange,\n\t\t\tthis.model\n\t\t\t\t.getState(this.baseRange)\n\t\t\t\t.get()\n\t\t\t\t.withInputValue(this.inputNumber, value),\n\t\t\ttx,\n\t\t\tthis.inputNumber\n\t\t);\n\t}\n\tpublic toggleBothSides(): void {\n\t\ttransaction(tx => {\n\t\t\t/** @description Context Menu: toggle both sides */\n\t\t\tconst state = this.model\n\t\t\t\t.getState(this.baseRange)\n\t\t\t\t.get();\n\t\t\tthis.model.setState(\n\t\t\t\tthis.baseRange,\n\t\t\t\tstate\n\t\t\t\t\t.toggle(this.inputNumber)\n\t\t\t\t\t.toggle(this.inputNumber === 1 ? 2 : 1),\n\t\t\t\ttrue,\n\t\t\t\ttx\n\t\t\t);\n\t\t});\n\t}\n\n\tpublic getContextMenuActions(): readonly IAction[] {\n\t\tconst state = this.model.getState(this.baseRange).get();\n\t\tconst handled = this.model.isHandled(this.baseRange).get();\n\n\t\tconst update = (newState: ModifiedBaseRangeState) => {\n\t\t\ttransaction(tx => {\n\t\t\t\t/** @description Context Menu: Update Base Range State */\n\t\t\t\treturn this.viewModel.setState(this.baseRange, newState, tx, this.inputNumber);\n\t\t\t});\n\t\t};\n\n\t\tfunction action(id: string, label: string, targetState: ModifiedBaseRangeState, checked: boolean) {\n\t\t\tconst action = new Action(id, label, undefined, true, () => {\n\t\t\t\tupdate(targetState);\n\t\t\t});\n\t\t\taction.checked = checked;\n\t\t\treturn action;\n\t\t}\n\t\tconst both = state.includesInput1 && state.includesInput2;\n\n\t\treturn [\n\t\t\tthis.baseRange.input1Diffs.length > 0\n\t\t\t\t? action(\n\t\t\t\t\t'mergeEditor.acceptInput1',\n\t\t\t\t\tlocalize('mergeEditor.accept', 'Accept {0}', this.model.input1.title),\n\t\t\t\t\tstate.toggle(1),\n\t\t\t\t\tstate.includesInput1\n\t\t\t\t)\n\t\t\t\t: undefined,\n\t\t\tthis.baseRange.input2Diffs.length > 0\n\t\t\t\t? action(\n\t\t\t\t\t'mergeEditor.acceptInput2',\n\t\t\t\t\tlocalize('mergeEditor.accept', 'Accept {0}', this.model.input2.title),\n\t\t\t\t\tstate.toggle(2),\n\t\t\t\t\tstate.includesInput2\n\t\t\t\t)\n\t\t\t\t: undefined,\n\t\t\tthis.baseRange.isConflicting\n\t\t\t\t? setFields(\n\t\t\t\t\taction(\n\t\t\t\t\t\t'mergeEditor.acceptBoth',\n\t\t\t\t\t\tlocalize(\n\t\t\t\t\t\t\t'mergeEditor.acceptBoth',\n\t\t\t\t\t\t\t'Accept Both'\n\t\t\t\t\t\t),\n\t\t\t\t\t\tstate.withInputValue(1, !both).withInputValue(2, !both),\n\t\t\t\t\t\tboth\n\t\t\t\t\t),\n\t\t\t\t\t{ enabled: this.baseRange.canBeCombined }\n\t\t\t\t)\n\t\t\t\t: undefined,\n\t\t\tnew Separator(),\n\t\t\tthis.baseRange.isConflicting\n\t\t\t\t? setFields(\n\t\t\t\t\taction(\n\t\t\t\t\t\t'mergeEditor.swap',\n\t\t\t\t\t\tlocalize('mergeEditor.swap', 'Swap'),\n\t\t\t\t\t\tstate.swap(),\n\t\t\t\t\t\tfalse\n\t\t\t\t\t),\n\t\t\t\t\t{ enabled: !state.kind && (!both || this.baseRange.isOrderRelevant) }\n\t\t\t\t)\n\t\t\t\t: undefined,\n\n\t\t\tsetFields(\n\t\t\t\tnew Action(\n\t\t\t\t\t'mergeEditor.markAsHandled',\n\t\t\t\t\tlocalize('mergeEditor.markAsHandled', 'Mark as Handled'),\n\t\t\t\t\tundefined,\n\t\t\t\t\ttrue,\n\t\t\t\t\t() => {\n\t\t\t\t\t\ttransaction((tx) => {\n\t\t\t\t\t\t\t/** @description Context Menu: Mark as handled */\n\t\t\t\t\t\t\tthis.model.setHandled(this.baseRange, !handled, tx);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t),\n\t\t\t\t{ checked: handled }\n\t\t\t),\n\t\t].filter(isDefined);\n\t}\n}\n\nexport class MergeConflictGutterItemView extends Disposable implements IGutterItemView<ModifiedBaseRangeGutterItemModel> {\n\tprivate readonly item: ISettableObservable<ModifiedBaseRangeGutterItemModel>;\n\n\tprivate readonly checkboxDiv: HTMLDivElement;\n\tprivate readonly isMultiLine = observableValue(this, false);\n\n\tconstructor(\n\t\titem: ModifiedBaseRangeGutterItemModel,\n\t\ttarget: HTMLElement,\n\t\tcontextMenuService: IContextMenuService,\n\t) {\n\t\tsuper();\n\n\t\tthis.item = observableValue(this, item);\n\n\t\tconst checkBox = new Toggle({\n\t\t\tisChecked: false,\n\t\t\ttitle: '',\n\t\t\ticon: Codicon.check,\n\t\t\t...defaultToggleStyles\n\t\t});\n\t\tcheckBox.domNode.classList.add('accept-conflict-group');\n\n\t\tthis._register(\n\t\t\taddDisposableListener(checkBox.domNode, EventType.MOUSE_DOWN, (e) => {\n\t\t\t\tconst item = this.item.get();\n\t\t\t\tif (!item) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (e.button === /* Right */ 2) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\tcontextMenuService.showContextMenu({\n\t\t\t\t\t\tgetAnchor: () => checkBox.domNode,\n\t\t\t\t\t\tgetActions: () => item.getContextMenuActions(),\n\t\t\t\t\t});\n\n\t\t\t\t} else if (e.button === /* Middle */ 1) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\titem.toggleBothSides();\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\n\t\tthis._register(\n\t\t\tautorun(reader => {\n\t\t\t\t/** @description Update Checkbox */\n\t\t\t\tconst item = this.item.read(reader)!;\n\t\t\t\tconst value = item.toggleState.read(reader);\n\t\t\t\tconst iconMap: Record<InputState, { icon: ThemeIcon | undefined; checked: boolean; title: string }> = {\n\t\t\t\t\t[InputState.excluded]: { icon: undefined, checked: false, title: localize('accept.excluded', \"Accept\") },\n\t\t\t\t\t[InputState.unrecognized]: { icon: Codicon.circleFilled, checked: false, title: localize('accept.conflicting', \"Accept (result is dirty)\") },\n\t\t\t\t\t[InputState.first]: { icon: Codicon.check, checked: true, title: localize('accept.first', \"Undo accept\") },\n\t\t\t\t\t[InputState.second]: { icon: Codicon.checkAll, checked: true, title: localize('accept.second', \"Undo accept (currently second)\") },\n\t\t\t\t};\n\t\t\t\tconst state = iconMap[value];\n\t\t\t\tcheckBox.setIcon(state.icon);\n\t\t\t\tcheckBox.checked = state.checked;\n\t\t\t\tcheckBox.setTitle(state.title);\n\n\t\t\t\tif (!item.enabled.read(reader)) {\n\t\t\t\t\tcheckBox.disable();\n\t\t\t\t} else {\n\t\t\t\t\tcheckBox.enable();\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\n\t\tthis._register(autorun(reader => {\n\t\t\t/** @description Update Checkbox CSS ClassNames */\n\t\t\tconst state = this.item.read(reader).state.read(reader);\n\t\t\tconst classNames = [\n\t\t\t\t'merge-accept-gutter-marker',\n\t\t\t\tstate.handled && 'handled',\n\t\t\t\tstate.focused && 'focused',\n\t\t\t\tthis.isMultiLine.read(reader) ? 'multi-line' : 'single-line',\n\t\t\t];\n\t\t\ttarget.className = classNames.filter(c => typeof c === 'string').join(' ');\n\t\t}));\n\n\t\tthis._register(checkBox.onChange(() => {\n\t\t\ttransaction(tx => {\n\t\t\t\t/** @description Handle Checkbox Change */\n\t\t\t\tthis.item.get()!.setState(checkBox.checked, tx);\n\t\t\t});\n\t\t}));\n\n\t\ttarget.appendChild(h('div.background', [noBreakWhitespace]).root);\n\t\ttarget.appendChild(\n\t\t\tthis.checkboxDiv = h('div.checkbox', [h('div.checkbox-background', [checkBox.domNode])]).root\n\t\t);\n\t}\n\n\tlayout(top: number, height: number, viewTop: number, viewHeight: number): void {\n\t\tconst checkboxHeight = this.checkboxDiv.clientHeight;\n\t\tconst middleHeight = height / 2 - checkboxHeight / 2;\n\n\t\tconst margin = checkboxHeight;\n\n\t\tlet effectiveCheckboxTop = top + middleHeight;\n\n\t\tconst preferredViewPortRange = [\n\t\t\tmargin,\n\t\t\tviewTop + viewHeight - margin - checkboxHeight\n\t\t];\n\n\t\tconst preferredParentRange = [\n\t\t\ttop + margin,\n\t\t\ttop + height - checkboxHeight - margin\n\t\t];\n\n\t\tif (preferredParentRange[0] < preferredParentRange[1]) {\n\t\t\teffectiveCheckboxTop = clamp(effectiveCheckboxTop, preferredViewPortRange[0], preferredViewPortRange[1]);\n\t\t\teffectiveCheckboxTop = clamp(effectiveCheckboxTop, preferredParentRange[0], preferredParentRange[1]);\n\t\t}\n\n\t\tthis.checkboxDiv.style.top = `${effectiveCheckboxTop - top}px`;\n\n\t\ttransaction((tx) => {\n\t\t\t/** @description MergeConflictGutterItemView: Update Is Multi Line */\n\t\t\tthis.isMultiLine.set(height > 30, tx);\n\t\t});\n\t}\n\n\tupdate(baseRange: ModifiedBaseRangeGutterItemModel): void {\n\t\ttransaction(tx => {\n\t\t\t/** @description MergeConflictGutterItemView: Updating new base range */\n\t\t\tthis.item.set(baseRange, tx);\n\t\t});\n\t}\n}\n"]}