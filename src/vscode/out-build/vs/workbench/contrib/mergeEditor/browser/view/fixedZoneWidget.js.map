{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/mergeEditor/browser/view/fixedZoneWidget.ts","vs/workbench/contrib/mergeEditor/browser/view/fixedZoneWidget.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,EAAE,CAAC,EAAE,MAAM,oCAAoC,CAAC;AACvD,OAAO,EAAE,UAAU,EAAE,MAAM,yCAAyC,CAAC;AAErE,OAAO,EAAE,KAAK,EAAE,MAAM,qCAAqC,CAAC;AAE5D,MAAM,OAAgB,eAAgB,SAAQ,UAAU;aACxC,YAAO,GAAG,CAAH,AAAI,CAAC;IAW3B,YACkB,MAAmB,EACpC,gBAAyC,EACzC,eAAuB,EACvB,MAAc,EACd,oBAA8B;QAE9B,KAAK,EAAE,CAAC;QANS,WAAM,GAAN,MAAM,CAAa;QAXpB,oBAAe,GAAG,mBAAmB,eAAe,CAAC,OAAO,EAAE,EAAE,CAAC;QAG/D,kBAAa,GAAG,CAAC,CAAC,uBAAuB,CAAC,CAAC,IAAI,CAAC;QAClD,kBAAa,GAAmB;YAChD,KAAK,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,eAAe;YACjC,UAAU,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,aAAa;YACpC,WAAW,EAAE,GAAG,EAAE,CAAC,IAAI;SACvB,CAAC;QAWD,IAAI,CAAC,UAAU,GAAG,gBAAgB,CAAC,OAAO,CAAC;YAC1C,OAAO,EAAE,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;YACtC,eAAe,EAAE,eAAe;YAChC,UAAU,EAAE,MAAM;YAClB,OAAO,EAAE,KAAK,GAAG,CAAC;YAClB,gBAAgB,EAAE,CAAC,MAAM,EAAE,EAAE;gBAC5B,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,MAAM,IAAI,CAAC;YACjD,CAAC;YACD,YAAY,EAAE,CAAC,GAAG,EAAE,EAAE;gBACrB,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC;YAC3C,CAAC;SACD,CAAC,CAAC;QACH,oBAAoB,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAE3C,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,iBAAiB,EAAE,GAAG,EAAE;YACxE,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC,WAAW,GAAG,IAAI,CAAC;QAChF,CAAC,CAAC,CAAC,CAAC;QAEJ,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QAEjD,IAAI,CAAC,SAAS,CAAC;YACd,OAAO,EAAE,GAAG,EAAE;gBACb,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YACrD,CAAC;SACD,CAAC,CAAC;IACJ,CAAC","file":"fixedZoneWidget.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { h } from '../../../../../base/browser/dom.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { ICodeEditor, IOverlayWidget, IViewZoneChangeAccessor } from '../../../../../editor/browser/editorBrowser.js';\nimport { Event } from '../../../../../base/common/event.js';\n\nexport abstract class FixedZoneWidget extends Disposable {\n\tprivate static counter = 0;\n\tprivate readonly overlayWidgetId = `fixedZoneWidget-${FixedZoneWidget.counter++}`;\n\tprivate readonly viewZoneId: string;\n\n\tprotected readonly widgetDomNode = h('div.fixed-zone-widget').root;\n\tprivate readonly overlayWidget: IOverlayWidget = {\n\t\tgetId: () => this.overlayWidgetId,\n\t\tgetDomNode: () => this.widgetDomNode,\n\t\tgetPosition: () => null\n\t};\n\n\tconstructor(\n\t\tprivate readonly editor: ICodeEditor,\n\t\tviewZoneAccessor: IViewZoneChangeAccessor,\n\t\tafterLineNumber: number,\n\t\theight: number,\n\t\tviewZoneIdsToCleanUp: string[],\n\t) {\n\t\tsuper();\n\n\t\tthis.viewZoneId = viewZoneAccessor.addZone({\n\t\t\tdomNode: document.createElement('div'),\n\t\t\tafterLineNumber: afterLineNumber,\n\t\t\theightInPx: height,\n\t\t\tordinal: 50000 + 1,\n\t\t\tonComputedHeight: (height) => {\n\t\t\t\tthis.widgetDomNode.style.height = `${height}px`;\n\t\t\t},\n\t\t\tonDomNodeTop: (top) => {\n\t\t\t\tthis.widgetDomNode.style.top = `${top}px`;\n\t\t\t}\n\t\t});\n\t\tviewZoneIdsToCleanUp.push(this.viewZoneId);\n\n\t\tthis._register(Event.runAndSubscribe(this.editor.onDidLayoutChange, () => {\n\t\t\tthis.widgetDomNode.style.left = this.editor.getLayoutInfo().contentLeft + 'px';\n\t\t}));\n\n\t\tthis.editor.addOverlayWidget(this.overlayWidget);\n\n\t\tthis._register({\n\t\t\tdispose: () => {\n\t\t\t\tthis.editor.removeOverlayWidget(this.overlayWidget);\n\t\t\t},\n\t\t});\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { h } from '../../../../../base/browser/dom.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { ICodeEditor, IOverlayWidget, IViewZoneChangeAccessor } from '../../../../../editor/browser/editorBrowser.js';\nimport { Event } from '../../../../../base/common/event.js';\n\nexport abstract class FixedZoneWidget extends Disposable {\n\tprivate static counter = 0;\n\tprivate readonly overlayWidgetId = `fixedZoneWidget-${FixedZoneWidget.counter++}`;\n\tprivate readonly viewZoneId: string;\n\n\tprotected readonly widgetDomNode = h('div.fixed-zone-widget').root;\n\tprivate readonly overlayWidget: IOverlayWidget = {\n\t\tgetId: () => this.overlayWidgetId,\n\t\tgetDomNode: () => this.widgetDomNode,\n\t\tgetPosition: () => null\n\t};\n\n\tconstructor(\n\t\tprivate readonly editor: ICodeEditor,\n\t\tviewZoneAccessor: IViewZoneChangeAccessor,\n\t\tafterLineNumber: number,\n\t\theight: number,\n\t\tviewZoneIdsToCleanUp: string[],\n\t) {\n\t\tsuper();\n\n\t\tthis.viewZoneId = viewZoneAccessor.addZone({\n\t\t\tdomNode: document.createElement('div'),\n\t\t\tafterLineNumber: afterLineNumber,\n\t\t\theightInPx: height,\n\t\t\tordinal: 50000 + 1,\n\t\t\tonComputedHeight: (height) => {\n\t\t\t\tthis.widgetDomNode.style.height = `${height}px`;\n\t\t\t},\n\t\t\tonDomNodeTop: (top) => {\n\t\t\t\tthis.widgetDomNode.style.top = `${top}px`;\n\t\t\t}\n\t\t});\n\t\tviewZoneIdsToCleanUp.push(this.viewZoneId);\n\n\t\tthis._register(Event.runAndSubscribe(this.editor.onDidLayoutChange, () => {\n\t\t\tthis.widgetDomNode.style.left = this.editor.getLayoutInfo().contentLeft + 'px';\n\t\t}));\n\n\t\tthis.editor.addOverlayWidget(this.overlayWidget);\n\n\t\tthis._register({\n\t\t\tdispose: () => {\n\t\t\t\tthis.editor.removeOverlayWidget(this.overlayWidget);\n\t\t\t},\n\t\t});\n\t}\n}\n"]}