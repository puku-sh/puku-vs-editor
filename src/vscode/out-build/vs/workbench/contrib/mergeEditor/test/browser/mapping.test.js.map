{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/mergeEditor/test/browser/mapping.test.ts","vs/workbench/contrib/mergeEditor/test/browser/mapping.test.ts"],"names":[],"mappings":"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","file":"mapping.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { Position } from '../../../../../editor/common/core/position.js';\nimport { Range } from '../../../../../editor/common/core/range.js';\nimport { TextLength } from '../../../../../editor/common/core/text/textLength.js';\nimport { DocumentRangeMap, RangeMapping } from '../../browser/model/mapping.js';\n\nsuite('merge editor mapping', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tsuite('DocumentRangeMap', () => {\n\t\tconst documentMap = createDocumentRangeMap([\n\t\t\t'1:3',\n\t\t\t['0:2', '0:3'],\n\t\t\t'1:1',\n\t\t\t['1:2', '3:3'],\n\t\t\t'0:2',\n\t\t\t['0:2', '0:3'],\n\t\t]);\n\n\t\ttest('map', () => assert.deepStrictEqual(documentMap.rangeMappings.map(m => m.toString()), [\n\t\t\t'[2:4, 2:6) -> [2:4, 2:7)',\n\t\t\t'[3:2, 4:3) -> [3:2, 6:4)',\n\t\t\t'[4:5, 4:7) -> [6:6, 6:9)'\n\t\t]));\n\n\t\tfunction f(this: Mocha.Context) {\n\t\t\treturn documentMap.project(parsePos(this.test!.title)).toString();\n\t\t}\n\n\t\ttest('1:1', function () { assert.deepStrictEqual(f.apply(this), '[1:1, 1:1) -> [1:1, 1:1)'); });\n\t\ttest('2:3', function () { assert.deepStrictEqual(f.apply(this), '[2:3, 2:3) -> [2:3, 2:3)'); });\n\t\ttest('2:4', function () { assert.deepStrictEqual(f.apply(this), '[2:4, 2:6) -> [2:4, 2:7)'); });\n\t\ttest('2:5', function () { assert.deepStrictEqual(f.apply(this), '[2:4, 2:6) -> [2:4, 2:7)'); });\n\t\ttest('2:6', function () { assert.deepStrictEqual(f.apply(this), '[2:6, 2:6) -> [2:7, 2:7)'); });\n\t\ttest('2:7', function () { assert.deepStrictEqual(f.apply(this), '[2:7, 2:7) -> [2:8, 2:8)'); });\n\t\ttest('3:1', function () { assert.deepStrictEqual(f.apply(this), '[3:1, 3:1) -> [3:1, 3:1)'); });\n\t\ttest('3:2', function () { assert.deepStrictEqual(f.apply(this), '[3:2, 4:3) -> [3:2, 6:4)'); });\n\t\ttest('4:2', function () { assert.deepStrictEqual(f.apply(this), '[3:2, 4:3) -> [3:2, 6:4)'); });\n\t\ttest('4:3', function () { assert.deepStrictEqual(f.apply(this), '[4:3, 4:3) -> [6:4, 6:4)'); });\n\t\ttest('4:4', function () { assert.deepStrictEqual(f.apply(this), '[4:4, 4:4) -> [6:5, 6:5)'); });\n\t\ttest('4:5', function () { assert.deepStrictEqual(f.apply(this), '[4:5, 4:7) -> [6:6, 6:9)'); });\n\t});\n});\n\nfunction parsePos(str: string): Position {\n\tconst [lineCount, columnCount] = str.split(':');\n\treturn new Position(parseInt(lineCount, 10), parseInt(columnCount, 10));\n}\n\nfunction parseLengthObj(str: string): TextLength {\n\tconst [lineCount, columnCount] = str.split(':');\n\treturn new TextLength(parseInt(lineCount, 10), parseInt(columnCount, 10));\n}\n\nfunction toPosition(length: TextLength): Position {\n\treturn new Position(length.lineCount + 1, length.columnCount + 1);\n}\n\nfunction createDocumentRangeMap(items: ([string, string] | string)[]) {\n\tconst mappings: RangeMapping[] = [];\n\tlet lastLen1 = new TextLength(0, 0);\n\tlet lastLen2 = new TextLength(0, 0);\n\tfor (const item of items) {\n\t\tif (typeof item === 'string') {\n\t\t\tconst len = parseLengthObj(item);\n\t\t\tlastLen1 = lastLen1.add(len);\n\t\t\tlastLen2 = lastLen2.add(len);\n\t\t} else {\n\t\t\tconst len1 = parseLengthObj(item[0]);\n\t\t\tconst len2 = parseLengthObj(item[1]);\n\t\t\tmappings.push(new RangeMapping(\n\t\t\t\tRange.fromPositions(toPosition(lastLen1), toPosition(lastLen1.add(len1))),\n\t\t\t\tRange.fromPositions(toPosition(lastLen2), toPosition(lastLen2.add(len2))),\n\t\t\t));\n\t\t\tlastLen1 = lastLen1.add(len1);\n\t\t\tlastLen2 = lastLen2.add(len2);\n\t\t}\n\t}\n\n\treturn new DocumentRangeMap(mappings, lastLen1.lineCount);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { Position } from '../../../../../editor/common/core/position.js';\nimport { Range } from '../../../../../editor/common/core/range.js';\nimport { TextLength } from '../../../../../editor/common/core/text/textLength.js';\nimport { DocumentRangeMap, RangeMapping } from '../../browser/model/mapping.js';\n\nsuite('merge editor mapping', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tsuite('DocumentRangeMap', () => {\n\t\tconst documentMap = createDocumentRangeMap([\n\t\t\t'1:3',\n\t\t\t['0:2', '0:3'],\n\t\t\t'1:1',\n\t\t\t['1:2', '3:3'],\n\t\t\t'0:2',\n\t\t\t['0:2', '0:3'],\n\t\t]);\n\n\t\ttest('map', () => assert.deepStrictEqual(documentMap.rangeMappings.map(m => m.toString()), [\n\t\t\t'[2:4, 2:6) -> [2:4, 2:7)',\n\t\t\t'[3:2, 4:3) -> [3:2, 6:4)',\n\t\t\t'[4:5, 4:7) -> [6:6, 6:9)'\n\t\t]));\n\n\t\tfunction f(this: Mocha.Context) {\n\t\t\treturn documentMap.project(parsePos(this.test!.title)).toString();\n\t\t}\n\n\t\ttest('1:1', function () { assert.deepStrictEqual(f.apply(this), '[1:1, 1:1) -> [1:1, 1:1)'); });\n\t\ttest('2:3', function () { assert.deepStrictEqual(f.apply(this), '[2:3, 2:3) -> [2:3, 2:3)'); });\n\t\ttest('2:4', function () { assert.deepStrictEqual(f.apply(this), '[2:4, 2:6) -> [2:4, 2:7)'); });\n\t\ttest('2:5', function () { assert.deepStrictEqual(f.apply(this), '[2:4, 2:6) -> [2:4, 2:7)'); });\n\t\ttest('2:6', function () { assert.deepStrictEqual(f.apply(this), '[2:6, 2:6) -> [2:7, 2:7)'); });\n\t\ttest('2:7', function () { assert.deepStrictEqual(f.apply(this), '[2:7, 2:7) -> [2:8, 2:8)'); });\n\t\ttest('3:1', function () { assert.deepStrictEqual(f.apply(this), '[3:1, 3:1) -> [3:1, 3:1)'); });\n\t\ttest('3:2', function () { assert.deepStrictEqual(f.apply(this), '[3:2, 4:3) -> [3:2, 6:4)'); });\n\t\ttest('4:2', function () { assert.deepStrictEqual(f.apply(this), '[3:2, 4:3) -> [3:2, 6:4)'); });\n\t\ttest('4:3', function () { assert.deepStrictEqual(f.apply(this), '[4:3, 4:3) -> [6:4, 6:4)'); });\n\t\ttest('4:4', function () { assert.deepStrictEqual(f.apply(this), '[4:4, 4:4) -> [6:5, 6:5)'); });\n\t\ttest('4:5', function () { assert.deepStrictEqual(f.apply(this), '[4:5, 4:7) -> [6:6, 6:9)'); });\n\t});\n});\n\nfunction parsePos(str: string): Position {\n\tconst [lineCount, columnCount] = str.split(':');\n\treturn new Position(parseInt(lineCount, 10), parseInt(columnCount, 10));\n}\n\nfunction parseLengthObj(str: string): TextLength {\n\tconst [lineCount, columnCount] = str.split(':');\n\treturn new TextLength(parseInt(lineCount, 10), parseInt(columnCount, 10));\n}\n\nfunction toPosition(length: TextLength): Position {\n\treturn new Position(length.lineCount + 1, length.columnCount + 1);\n}\n\nfunction createDocumentRangeMap(items: ([string, string] | string)[]) {\n\tconst mappings: RangeMapping[] = [];\n\tlet lastLen1 = new TextLength(0, 0);\n\tlet lastLen2 = new TextLength(0, 0);\n\tfor (const item of items) {\n\t\tif (typeof item === 'string') {\n\t\t\tconst len = parseLengthObj(item);\n\t\t\tlastLen1 = lastLen1.add(len);\n\t\t\tlastLen2 = lastLen2.add(len);\n\t\t} else {\n\t\t\tconst len1 = parseLengthObj(item[0]);\n\t\t\tconst len2 = parseLengthObj(item[1]);\n\t\t\tmappings.push(new RangeMapping(\n\t\t\t\tRange.fromPositions(toPosition(lastLen1), toPosition(lastLen1.add(len1))),\n\t\t\t\tRange.fromPositions(toPosition(lastLen2), toPosition(lastLen2.add(len2))),\n\t\t\t));\n\t\t\tlastLen1 = lastLen1.add(len1);\n\t\t\tlastLen2 = lastLen2.add(len2);\n\t\t}\n\t}\n\n\treturn new DocumentRangeMap(mappings, lastLen1.lineCount);\n}\n"]}