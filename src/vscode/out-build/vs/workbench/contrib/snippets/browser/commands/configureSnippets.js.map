{"version":3,"sources":["vs/workbench/contrib/snippets/browser/commands/configureSnippets.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,EAAE,eAAe,EAAE,MAAM,uCAAuC,CAAC;AACxE,OAAO,EAAE,OAAO,EAAE,MAAM,oCAAoC,CAAC;AAC7D,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAAE,MAAM,yCAAyC,CAAC;AAC7E,OAAO,EAAE,GAAG,EAAE,MAAM,mCAAmC,CAAC;AACxD,OAAO,EAAE,gBAAgB,EAAE,MAAM,oDAAoD,CAAC;AACtF,OAAO,EAAE,2BAA2B,EAAE,MAAM,yDAAyD,CAAC;AACtG,OAAO,KAAK,GAAG,MAAM,uBAAuB,CAAC;AAC7C,OAAO,EAAE,MAAM,EAAE,MAAM,mDAAmD,CAAC;AAC3E,OAAO,EAAE,YAAY,EAAE,MAAM,+CAA+C,CAAC;AAE7E,OAAO,EAAE,aAAa,EAAE,MAAM,+CAA+C,CAAC;AAC9E,OAAO,EAAE,cAAc,EAAE,MAAM,iDAAiD,CAAC;AACjF,OAAO,EAAE,kBAAkB,EAAkC,MAAM,yDAAyD,CAAC;AAC7H,OAAO,EAAE,wBAAwB,EAAE,MAAM,uDAAuD,CAAC;AACjG,OAAO,EAAE,cAAc,EAAE,MAAM,8BAA8B,CAAC;AAC9D,OAAO,EAAE,gBAAgB,EAAE,MAAM,gBAAgB,CAAC;AAElD,OAAO,EAAE,gBAAgB,EAAE,MAAM,mDAAmD,CAAC;AACrF,OAAO,EAAE,uBAAuB,EAAE,MAAM,gEAAgE,CAAC;AAEzG,IAAU,YAAY,CAIrB;AAJD,WAAU,YAAY;IACrB,SAAgB,EAAE,CAAC,KAAyB;QAC3C,OAAO,CAAC,CAAC,KAAK,IAAI,GAAG,CAAC,KAAK,CAAgB,KAAM,CAAC,QAAQ,CAAC,CAAC;IAC7D,CAAC;IAFe,eAAE,KAEjB,CAAA;AACF,CAAC,EAJS,YAAY,KAAZ,YAAY,QAIrB;AAOD,KAAK,UAAU,YAAY,CAAC,cAAgC,EAAE,sBAA+C,EAAE,eAAiC,EAAE,YAA2B;IAE5K,MAAM,QAAQ,GAAmB,EAAE,CAAC;IACpC,MAAM,MAAM,GAAmB,EAAE,CAAC;IAElC,MAAM,IAAI,GAAG,IAAI,GAAG,EAAU,CAAC;IAC/B,MAAM,KAAK,GAAG,IAAI,GAAG,EAAqD,CAAC;IAE3E,KAAK,MAAM,IAAI,IAAI,MAAM,cAAc,CAAC,eAAe,EAAE,EAAE,CAAC;QAE3D,IAAI,IAAI,CAAC,MAAM,oCAA4B,EAAE,CAAC;YAC7C,0BAA0B;YAC1B,SAAS;QACV,CAAC;QAED,IAAI,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAE3B,MAAM,IAAI,CAAC,IAAI,EAAE,CAAC;YAElB,kCAAkC;YAClC,MAAM,KAAK,GAAG,IAAI,GAAG,EAAU,CAAC;YAChC,IAAI,MAA0B,CAAC;YAE/B,KAAK,EAAE,KAAK,MAAM,OAAO,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC;gBACxC,IAAI,CAAC,MAAM,EAAE,CAAC;oBACb,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;gBACzB,CAAC;gBAED,KAAK,MAAM,KAAK,IAAI,OAAO,CAAC,MAAM,EAAE,CAAC;oBACpC,MAAM,IAAI,GAAG,eAAe,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;oBACpD,IAAI,IAAI,EAAE,CAAC;wBACV,IAAI,KAAK,CAAC,IAAI,IAAI,CAAC,EAAE,CAAC;4BACrB,KAAK,CAAC,GAAG,CAAC,GAAG,IAAI,KAAK,CAAC,CAAC;4BACxB,MAAM,KAAK,CAAC;wBACb,CAAC;6BAAM,CAAC;4BACP,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;wBACjB,CAAC;oBACF,CAAC;gBACF,CAAC;YACF,CAAC;YAED,MAAM,OAAO,GAAiB;gBAC7B,KAAK,EAAE,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC;gBAC9B,QAAQ,EAAE,IAAI,CAAC,QAAQ;gBACvB,WAAW,EAAE,KAAK,CAAC,IAAI,KAAK,CAAC;oBAC5B,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAc,EAAE,IAAU,CAAC;oBAC1C,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAU,EAAE,IAAO,EAAE,CAAC,GAAG,KAAK,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAC3D,CAAC;YACF,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAEvB,IAAI,CAAC,MAAM,EAAE,CAAC;gBACb,SAAS;YACV,CAAC;YAED,MAAM,MAAM,GAAG,GAAG,CAAC,QAAQ,CAAC,KAAc,EAAE,IAAW,EAAE,MAAM,EAAE,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;YAC9H,MAAM,QAAQ,GAAG,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YACpD,IAAI,QAAQ,EAAE,CAAC;gBACd,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC;gBACxB,QAAQ,CAAC,OAAO,CAAC,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC;YAC3C,CAAC;YACD,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC,CAAC;QAEzD,CAAC;aAAM,CAAC;YACP,mBAAmB;YACnB,MAAM,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;YAC5D,QAAQ,CAAC,IAAI,CAAC;gBACb,KAAK,EAAE,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC;gBAC9B,WAAW,EAAE,IAAI,eAAe,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,IAAI,GAAG;gBACjE,QAAQ,EAAE,IAAI,CAAC,QAAQ;aACvB,CAAC,CAAC;YACH,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAChB,CAAC;IACF,CAAC;IAED,MAAM,GAAG,GAAG,sBAAsB,CAAC,cAAc,CAAC,YAAY,CAAC;IAC/D,KAAK,MAAM,UAAU,IAAI,eAAe,CAAC,wBAAwB,EAAE,EAAE,CAAC;QACrE,MAAM,KAAK,GAAG,eAAe,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC;QAC1D,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,CAAC;YACpC,MAAM,CAAC,IAAI,CAAC;gBACX,KAAK,EAAE,UAAU;gBACjB,WAAW,EAAE,IAAI,KAAK,GAAG;gBACzB,QAAQ,EAAE,QAAQ,CAAC,GAAG,EAAE,GAAG,UAAU,OAAO,CAAC;gBAC7C,IAAI,EAAE,IAAI;gBACV,WAAW,EAAE,2BAA2B,CAAC,UAAU,CAAC;aACpD,CAAC,CAAC;QACJ,CAAC;IACF,CAAC;IAED,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QACtB,MAAM,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACvC,MAAM,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACvC,IAAI,KAAK,KAAK,KAAK,EAAE,CAAC;YACrB,OAAO,CAAC,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;QACvC,CAAC;aAAM,IAAI,KAAK,KAAK,gBAAgB,EAAE,CAAC;YACvC,OAAO,CAAC,CAAC,CAAC;QACX,CAAC;aAAM,CAAC;YACP,OAAO,CAAC,CAAC;QACV,CAAC;IACF,CAAC,CAAC,CAAC;IAEH,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QACpB,OAAO,CAAC,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;IACvC,CAAC,CAAC,CAAC;IAEH,OAAO,EAAE,QAAQ,EAAE,MAAM,EAAE,CAAC;AAC7B,CAAC;AAED,KAAK,UAAU,iBAAiB,CAAC,KAAa,EAAE,WAAgB,EAAE,iBAAqC,EAAE,WAAyB,EAAE,eAAiC,EAAE,MAAsB;IAE5L,SAAS,gBAAgB,CAAC,KAAa;QACtC,MAAM,QAAQ,GAAG,OAAO,CAAC,KAAK,CAAC,KAAK,gBAAgB;YACnD,CAAC,CAAC,GAAG,KAAK,gBAAgB;YAC1B,CAAC,CAAC,KAAK,CAAC;QACT,OAAO,QAAQ,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC;IACxC,CAAC;IAED,MAAM,WAAW,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;IAE5C,MAAM,KAAK,GAAG,MAAM,iBAAiB,CAAC,KAAK,CAAC;QAC3C,WAAW,EAAE,GAAG,CAAC,QAAQ,CAAC,KAAM,EAAE,IAAwB,CAAC;QAC3D,KAAK,CAAC,aAAa,CAAC,KAAK;YACxB,IAAI,CAAC,KAAK,EAAE,CAAC;gBACZ,OAAO,GAAG,CAAC,QAAQ,CAAC,KAAW,EAAE,IAAmB,CAAC,CAAC;YACvD,CAAC;YACD,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,EAAE,CAAC;gBAC7B,OAAO,GAAG,CAAC,QAAQ,CAAC,KAAW,EAAE,IAAgC,EAAE,KAAK,CAAC,CAAC;YAC3E,CAAC;YACD,IAAI,MAAM,WAAW,CAAC,MAAM,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC;gBACvD,OAAO,GAAG,CAAC,QAAQ,CAAC,KAAW,EAAE,IAAsB,EAAE,KAAK,CAAC,CAAC;YACjE,CAAC;YACD,OAAO,SAAS,CAAC;QAClB,CAAC;KACD,CAAC,CAAC;IAEH,IAAI,CAAC,KAAK,EAAE,CAAC;QACZ,OAAO,SAAS,CAAC;IAClB,CAAC;IAED,MAAM,QAAQ,GAAG,gBAAgB,CAAC,KAAK,CAAC,CAAC;IAEzC,MAAM,eAAe,CAAC,KAAK,CAAC,QAAQ,EAAE;QACrC,GAAG;QACH,kBAAkB,GAAG,KAAK,GAAG,iGAAiG;QAC9H,0HAA0H;QAC1H,kGAAkG;QAClG,uGAAuG;QACvG,8GAA8G;QAC9G,oDAAoD;QACpD,eAAe;QACf,4BAA4B;QAC5B,0CAA0C;QAC1C,yBAAyB;QACzB,kBAAkB;QAClB,kCAAkC;QAClC,eAAe;QACf,WAAW;QACX,+CAA+C;QAC/C,QAAQ;QACR,GAAG;KACH,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAEd,MAAM,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IAC5B,OAAO,SAAS,CAAC;AAClB,CAAC;AAED,KAAK,UAAU,yBAAyB,CAAC,IAAkB,EAAE,WAAyB,EAAE,eAAiC;IACxH,IAAI,MAAM,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC;QAC7C,OAAO;IACR,CAAC;IACD,MAAM,QAAQ,GAAG;QAChB,GAAG;QACH,+BAA+B,GAAG,IAAI,CAAC,KAAK,GAAG,iFAAiF;QAChI,yIAAyI;QACzI,oIAAoI;QACpI,8BAA8B;QAC9B,eAAe;QACf,4BAA4B;QAC5B,yBAAyB;QACzB,kBAAkB;QAClB,kCAAkC;QAClC,eAAe;QACf,WAAW;QACX,+CAA+C;QAC/C,QAAQ;QACR,GAAG;KACH,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACb,MAAM,eAAe,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;AACtD,CAAC;AAED,MAAM,OAAO,uBAAwB,SAAQ,cAAc;IAC1D;QACC,KAAK,CAAC;YACL,EAAE,EAAE,+BAA+B;YACnC,KAAK,EAAE,GAAG,CAAC,SAAS,CAAC,KAAmB,EAAE,oBAAoB,CAAC;YAC/D,UAAU,EAAE;gBACX,GAAG,GAAG,CAAC,SAAS,CAAC,KAAc,EAAE,UAAU,CAAC;gBAC5C,aAAa,EAAE,GAAG,CAAC,QAAQ,CAAC,EAAE,GAAG,AAAwD,EAAtD,AAAwD,IAAY,CAAC,WAArD,EAAE,OAAO,EAAE,CAAC,uBAAuB,CAAC;aACvF;YACD,EAAE,EAAE,IAAI;YACR,IAAI,EAAE;gBACL,EAAE,EAAE,EAAE,MAAM,CAAC,sBAAsB,EAAE,KAAK,EAAE,iBAAiB,EAAE,KAAK,EAAE,CAAC,EAAE;gBACzE,EAAE,EAAE,EAAE,MAAM,CAAC,cAAc,EAAE,KAAK,EAAE,iBAAiB,EAAE,KAAK,EAAE,CAAC,EAAE;aACjE;SACD,CAAC,CAAC;IACJ,CAAC;IAED,KAAK,CAAC,GAAG,CAAC,QAA0B;QAEnC,MAAM,cAAc,GAAG,QAAQ,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;QACtD,MAAM,iBAAiB,GAAG,QAAQ,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;QAC3D,MAAM,MAAM,GAAG,QAAQ,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;QAC5C,MAAM,eAAe,GAAG,QAAQ,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;QACvD,MAAM,sBAAsB,GAAG,QAAQ,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;QACrE,MAAM,gBAAgB,GAAG,QAAQ,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;QAChE,MAAM,WAAW,GAAG,QAAQ,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;QAC/C,MAAM,eAAe,GAAG,QAAQ,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;QACvD,MAAM,YAAY,GAAG,QAAQ,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QAEjD,MAAM,KAAK,GAAG,MAAM,YAAY,CAAC,cAAc,EAAE,sBAAsB,EAAE,eAAe,EAAE,YAAY,CAAC,CAAC;QACxG,MAAM,QAAQ,GAAqB,KAAK,CAAC,QAAQ,CAAC;QAGlD,MAAM,kBAAkB,GAAkB,CAAC;gBAC1C,KAAK,EAAE,GAAG,CAAC,QAAQ,CAAC,KAAkB,EAAE,IAAQ,CAAC;gBACjD,KAAK,EAAE,GAAG,CAAC,QAAQ,CAAC,KAAY,EAAE,IAA6B,CAAC;gBAChE,GAAG,EAAE,sBAAsB,CAAC,cAAc,CAAC,YAAY;aACvD,CAAC,CAAC;QAEH,MAAM,qBAAqB,GAAkB,EAAE,CAAC;QAChD,KAAK,MAAM,MAAM,IAAI,gBAAgB,CAAC,YAAY,EAAE,CAAC,OAAO,EAAE,CAAC;YAC9D,qBAAqB,CAAC,IAAI,CAAC;gBAC1B,KAAK,EAAE,GAAG,CAAC,QAAQ,CAAC,KAAqB,EAAE,IAAe,EAAE,MAAM,CAAC,IAAI,CAAC;gBACxE,KAAK,EAAE,GAAG,CAAC,QAAQ,CAAC,KAAY,EAAE,IAAgC,EAAE,MAAM,CAAC,IAAI,CAAC;gBAChF,GAAG,EAAE,MAAM,CAAC,UAAU,CAAC,SAAS,CAAC;aACjC,CAAC,CAAC;QACJ,CAAC;QAED,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;YACzB,QAAQ,CAAC,OAAO,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,GAAG,CAAC,QAAQ,CAAC,KAAc,EAAE,IAAmB,CAAC,EAAE,CAAC,CAAC;YAClG,QAAQ,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,GAAG,CAAC,QAAQ,CAAC,KAAgB,EAAE,IAAc,CAAC,EAAE,CAAC,CAAC;QAC7F,CAAC;aAAM,CAAC;YACP,QAAQ,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,GAAG,CAAC,QAAQ,CAAC,KAAgB,EAAE,IAAc,CAAC,EAAE,CAAC,CAAC;QAC7F,CAAC;QAED,MAAM,IAAI,GAAG,MAAM,iBAAiB,CAAC,IAAI,CAAE,EAAuB,CAAC,MAAM,CAAC,QAAQ,EAAE,kBAAkB,EAAE,qBAAqB,EAAE,KAAK,CAAC,MAAM,CAAC,EAAE;YAC7I,WAAW,EAAE,GAAG,CAAC,QAAQ,CAAC,KAA0B,EAAE,IAAyC,CAAC;YAChG,kBAAkB,EAAE,IAAI;SACxB,CAAC,CAAC;QAEH,IAAI,kBAAkB,CAAC,OAAO,CAAC,IAAmB,CAAC,IAAI,CAAC,EAAE,CAAC;YAC1D,OAAO,iBAAiB,CAAE,IAAoB,CAAC,KAAK,EAAG,IAAoB,CAAC,GAAG,EAAE,iBAAiB,EAAE,WAAW,EAAE,eAAe,EAAE,MAAM,CAAC,CAAC;QAC3I,CAAC;aAAM,IAAI,qBAAqB,CAAC,OAAO,CAAC,IAAmB,CAAC,IAAI,CAAC,EAAE,CAAC;YACpE,OAAO,iBAAiB,CAAE,IAAoB,CAAC,KAAK,EAAG,IAAoB,CAAC,GAAG,EAAE,iBAAiB,EAAE,WAAW,EAAE,eAAe,EAAE,MAAM,CAAC,CAAC;QAC3I,CAAC;aAAM,IAAI,YAAY,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC;YAClC,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC;gBACf,MAAM,yBAAyB,CAAC,IAAI,EAAE,WAAW,EAAE,eAAe,CAAC,CAAC;YACrE,CAAC;YACD,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACnC,CAAC;IAEF,CAAC;CACD","file":"configureSnippets.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { isValidBasename } from '../../../../../base/common/extpath.js';\nimport { extname } from '../../../../../base/common/path.js';\nimport { basename, joinPath } from '../../../../../base/common/resources.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { ILanguageService } from '../../../../../editor/common/languages/language.js';\nimport { getIconClassesForLanguageId } from '../../../../../editor/common/services/getIconClasses.js';\nimport * as nls from '../../../../../nls.js';\nimport { MenuId } from '../../../../../platform/actions/common/actions.js';\nimport { IFileService } from '../../../../../platform/files/common/files.js';\nimport { ServicesAccessor } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { ILabelService } from '../../../../../platform/label/common/label.js';\nimport { IOpenerService } from '../../../../../platform/opener/common/opener.js';\nimport { IQuickInputService, IQuickPickItem, QuickPickInput } from '../../../../../platform/quickinput/common/quickInput.js';\nimport { IWorkspaceContextService } from '../../../../../platform/workspace/common/workspace.js';\nimport { SnippetsAction } from './abstractSnippetsActions.js';\nimport { ISnippetsService } from '../snippets.js';\nimport { SnippetSource } from '../snippetsFile.js';\nimport { ITextFileService } from '../../../../services/textfile/common/textfiles.js';\nimport { IUserDataProfileService } from '../../../../services/userDataProfile/common/userDataProfile.js';\n\nnamespace ISnippetPick {\n\texport function is(thing: object | undefined): thing is ISnippetPick {\n\t\treturn !!thing && URI.isUri((<ISnippetPick>thing).filepath);\n\t}\n}\n\ninterface ISnippetPick extends IQuickPickItem {\n\tfilepath: URI;\n\thint?: true;\n}\n\nasync function computePicks(snippetService: ISnippetsService, userDataProfileService: IUserDataProfileService, languageService: ILanguageService, labelService: ILabelService) {\n\n\tconst existing: ISnippetPick[] = [];\n\tconst future: ISnippetPick[] = [];\n\n\tconst seen = new Set<string>();\n\tconst added = new Map<string, { snippet: ISnippetPick; detail: string }>();\n\n\tfor (const file of await snippetService.getSnippetFiles()) {\n\n\t\tif (file.source === SnippetSource.Extension) {\n\t\t\t// skip extension snippets\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (file.isGlobalSnippets) {\n\n\t\t\tawait file.load();\n\n\t\t\t// list scopes for global snippets\n\t\t\tconst names = new Set<string>();\n\t\t\tlet source: string | undefined;\n\n\t\t\touter: for (const snippet of file.data) {\n\t\t\t\tif (!source) {\n\t\t\t\t\tsource = snippet.source;\n\t\t\t\t}\n\n\t\t\t\tfor (const scope of snippet.scopes) {\n\t\t\t\t\tconst name = languageService.getLanguageName(scope);\n\t\t\t\t\tif (name) {\n\t\t\t\t\t\tif (names.size >= 4) {\n\t\t\t\t\t\t\tnames.add(`${name}...`);\n\t\t\t\t\t\t\tbreak outer;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnames.add(name);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst snippet: ISnippetPick = {\n\t\t\t\tlabel: basename(file.location),\n\t\t\t\tfilepath: file.location,\n\t\t\t\tdescription: names.size === 0\n\t\t\t\t\t? nls.localize('global.scope', \"(global)\")\n\t\t\t\t\t: nls.localize('global.1', \"({0})\", [...names].join(', '))\n\t\t\t};\n\t\t\texisting.push(snippet);\n\n\t\t\tif (!source) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst detail = nls.localize('detail.label', \"({0}) {1}\", source, labelService.getUriLabel(file.location, { relative: true }));\n\t\t\tconst lastItem = added.get(basename(file.location));\n\t\t\tif (lastItem) {\n\t\t\t\tsnippet.detail = detail;\n\t\t\t\tlastItem.snippet.detail = lastItem.detail;\n\t\t\t}\n\t\t\tadded.set(basename(file.location), { snippet, detail });\n\n\t\t} else {\n\t\t\t// language snippet\n\t\t\tconst mode = basename(file.location).replace(/\\.json$/, '');\n\t\t\texisting.push({\n\t\t\t\tlabel: basename(file.location),\n\t\t\t\tdescription: `(${languageService.getLanguageName(mode) ?? mode})`,\n\t\t\t\tfilepath: file.location\n\t\t\t});\n\t\t\tseen.add(mode);\n\t\t}\n\t}\n\n\tconst dir = userDataProfileService.currentProfile.snippetsHome;\n\tfor (const languageId of languageService.getRegisteredLanguageIds()) {\n\t\tconst label = languageService.getLanguageName(languageId);\n\t\tif (label && !seen.has(languageId)) {\n\t\t\tfuture.push({\n\t\t\t\tlabel: languageId,\n\t\t\t\tdescription: `(${label})`,\n\t\t\t\tfilepath: joinPath(dir, `${languageId}.json`),\n\t\t\t\thint: true,\n\t\t\t\ticonClasses: getIconClassesForLanguageId(languageId)\n\t\t\t});\n\t\t}\n\t}\n\n\texisting.sort((a, b) => {\n\t\tconst a_ext = extname(a.filepath.path);\n\t\tconst b_ext = extname(b.filepath.path);\n\t\tif (a_ext === b_ext) {\n\t\t\treturn a.label.localeCompare(b.label);\n\t\t} else if (a_ext === '.code-snippets') {\n\t\t\treturn -1;\n\t\t} else {\n\t\t\treturn 1;\n\t\t}\n\t});\n\n\tfuture.sort((a, b) => {\n\t\treturn a.label.localeCompare(b.label);\n\t});\n\n\treturn { existing, future };\n}\n\nasync function createSnippetFile(scope: string, defaultPath: URI, quickInputService: IQuickInputService, fileService: IFileService, textFileService: ITextFileService, opener: IOpenerService) {\n\n\tfunction createSnippetUri(input: string) {\n\t\tconst filename = extname(input) !== '.code-snippets'\n\t\t\t? `${input}.code-snippets`\n\t\t\t: input;\n\t\treturn joinPath(defaultPath, filename);\n\t}\n\n\tawait fileService.createFolder(defaultPath);\n\n\tconst input = await quickInputService.input({\n\t\tplaceHolder: nls.localize('name', \"Type snippet file name\"),\n\t\tasync validateInput(input) {\n\t\t\tif (!input) {\n\t\t\t\treturn nls.localize('bad_name1', \"Invalid file name\");\n\t\t\t}\n\t\t\tif (!isValidBasename(input)) {\n\t\t\t\treturn nls.localize('bad_name2', \"'{0}' is not a valid file name\", input);\n\t\t\t}\n\t\t\tif (await fileService.exists(createSnippetUri(input))) {\n\t\t\t\treturn nls.localize('bad_name3', \"'{0}' already exists\", input);\n\t\t\t}\n\t\t\treturn undefined;\n\t\t}\n\t});\n\n\tif (!input) {\n\t\treturn undefined;\n\t}\n\n\tconst resource = createSnippetUri(input);\n\n\tawait textFileService.write(resource, [\n\t\t'{',\n\t\t'\\t// Place your ' + scope + ' snippets here. Each snippet is defined under a snippet name and has a scope, prefix, body and ',\n\t\t'\\t// description. Add comma separated ids of the languages where the snippet is applicable in the scope field. If scope ',\n\t\t'\\t// is left empty or omitted, the snippet gets applied to all languages. The prefix is what is ',\n\t\t'\\t// used to trigger the snippet and the body will be expanded and inserted. Possible variables are: ',\n\t\t'\\t// $1, $2 for tab stops, $0 for the final cursor position, and ${1:label}, ${2:another} for placeholders. ',\n\t\t'\\t// Placeholders with the same ids are connected.',\n\t\t'\\t// Example:',\n\t\t'\\t// \"Print to console\": {',\n\t\t'\\t// \\t\"scope\": \"javascript,typescript\",',\n\t\t'\\t// \\t\"prefix\": \"log\",',\n\t\t'\\t// \\t\"body\": [',\n\t\t'\\t// \\t\\t\"console.log(\\'$1\\');\",',\n\t\t'\\t// \\t\\t\"$2\"',\n\t\t'\\t// \\t],',\n\t\t'\\t// \\t\"description\": \"Log output to console\"',\n\t\t'\\t// }',\n\t\t'}'\n\t].join('\\n'));\n\n\tawait opener.open(resource);\n\treturn undefined;\n}\n\nasync function createLanguageSnippetFile(pick: ISnippetPick, fileService: IFileService, textFileService: ITextFileService) {\n\tif (await fileService.exists(pick.filepath)) {\n\t\treturn;\n\t}\n\tconst contents = [\n\t\t'{',\n\t\t'\\t// Place your snippets for ' + pick.label + ' here. Each snippet is defined under a snippet name and has a prefix, body and ',\n\t\t'\\t// description. The prefix is what is used to trigger the snippet and the body will be expanded and inserted. Possible variables are:',\n\t\t'\\t// $1, $2 for tab stops, $0 for the final cursor position, and ${1:label}, ${2:another} for placeholders. Placeholders with the ',\n\t\t'\\t// same ids are connected.',\n\t\t'\\t// Example:',\n\t\t'\\t// \"Print to console\": {',\n\t\t'\\t// \\t\"prefix\": \"log\",',\n\t\t'\\t// \\t\"body\": [',\n\t\t'\\t// \\t\\t\"console.log(\\'$1\\');\",',\n\t\t'\\t// \\t\\t\"$2\"',\n\t\t'\\t// \\t],',\n\t\t'\\t// \\t\"description\": \"Log output to console\"',\n\t\t'\\t// }',\n\t\t'}'\n\t].join('\\n');\n\tawait textFileService.write(pick.filepath, contents);\n}\n\nexport class ConfigureSnippetsAction extends SnippetsAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.action.openSnippets',\n\t\t\ttitle: nls.localize2('openSnippet.label', \"Configure Snippets\"),\n\t\t\tshortTitle: {\n\t\t\t\t...nls.localize2('userSnippets', \"Snippets\"),\n\t\t\t\tmnemonicTitle: nls.localize({ key: 'miOpenSnippets', comment: ['&& denotes a mnemonic'] }, \"&&Snippets\"),\n\t\t\t},\n\t\t\tf1: true,\n\t\t\tmenu: [\n\t\t\t\t{ id: MenuId.MenubarPreferencesMenu, group: '2_configuration', order: 5 },\n\t\t\t\t{ id: MenuId.GlobalActivity, group: '2_configuration', order: 5 },\n\t\t\t]\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<any> {\n\n\t\tconst snippetService = accessor.get(ISnippetsService);\n\t\tconst quickInputService = accessor.get(IQuickInputService);\n\t\tconst opener = accessor.get(IOpenerService);\n\t\tconst languageService = accessor.get(ILanguageService);\n\t\tconst userDataProfileService = accessor.get(IUserDataProfileService);\n\t\tconst workspaceService = accessor.get(IWorkspaceContextService);\n\t\tconst fileService = accessor.get(IFileService);\n\t\tconst textFileService = accessor.get(ITextFileService);\n\t\tconst labelService = accessor.get(ILabelService);\n\n\t\tconst picks = await computePicks(snippetService, userDataProfileService, languageService, labelService);\n\t\tconst existing: QuickPickInput[] = picks.existing;\n\n\t\ttype SnippetPick = IQuickPickItem & { uri: URI } & { scope: string };\n\t\tconst globalSnippetPicks: SnippetPick[] = [{\n\t\t\tscope: nls.localize('new.global_scope', 'global'),\n\t\t\tlabel: nls.localize('new.global', \"New Global Snippets file...\"),\n\t\t\turi: userDataProfileService.currentProfile.snippetsHome\n\t\t}];\n\n\t\tconst workspaceSnippetPicks: SnippetPick[] = [];\n\t\tfor (const folder of workspaceService.getWorkspace().folders) {\n\t\t\tworkspaceSnippetPicks.push({\n\t\t\t\tscope: nls.localize('new.workspace_scope', \"{0} workspace\", folder.name),\n\t\t\t\tlabel: nls.localize('new.folder', \"New Snippets file for '{0}'...\", folder.name),\n\t\t\t\turi: folder.toResource('.vscode')\n\t\t\t});\n\t\t}\n\n\t\tif (existing.length > 0) {\n\t\t\texisting.unshift({ type: 'separator', label: nls.localize('group.global', \"Existing Snippets\") });\n\t\t\texisting.push({ type: 'separator', label: nls.localize('new.global.sep', \"New Snippets\") });\n\t\t} else {\n\t\t\texisting.push({ type: 'separator', label: nls.localize('new.global.sep', \"New Snippets\") });\n\t\t}\n\n\t\tconst pick = await quickInputService.pick(([] as QuickPickInput[]).concat(existing, globalSnippetPicks, workspaceSnippetPicks, picks.future), {\n\t\t\tplaceHolder: nls.localize('openSnippet.pickLanguage', \"Select Snippets File or Create Snippets\"),\n\t\t\tmatchOnDescription: true\n\t\t});\n\n\t\tif (globalSnippetPicks.indexOf(pick as SnippetPick) >= 0) {\n\t\t\treturn createSnippetFile((pick as SnippetPick).scope, (pick as SnippetPick).uri, quickInputService, fileService, textFileService, opener);\n\t\t} else if (workspaceSnippetPicks.indexOf(pick as SnippetPick) >= 0) {\n\t\t\treturn createSnippetFile((pick as SnippetPick).scope, (pick as SnippetPick).uri, quickInputService, fileService, textFileService, opener);\n\t\t} else if (ISnippetPick.is(pick)) {\n\t\t\tif (pick.hint) {\n\t\t\t\tawait createLanguageSnippetFile(pick, fileService, textFileService);\n\t\t\t}\n\t\t\treturn opener.open(pick.filepath);\n\t\t}\n\n\t}\n}\n"]}