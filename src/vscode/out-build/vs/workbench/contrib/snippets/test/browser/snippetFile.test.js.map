{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/snippets/test/browser/snippetFile.test.ts","vs/workbench/contrib/snippets/test/browser/snippetFile.test.ts"],"names":[],"mappings":"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","file":"snippetFile.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { SnippetFile, Snippet, SnippetSource } from '../../browser/snippetsFile.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { SnippetParser } from '../../../../../editor/contrib/snippet/browser/snippetParser.js';\nimport { generateUuid } from '../../../../../base/common/uuid.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\n\nsuite('Snippets', function () {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tclass TestSnippetFile extends SnippetFile {\n\t\tconstructor(filepath: URI, snippets: Snippet[]) {\n\t\t\tsuper(SnippetSource.Extension, filepath, undefined, undefined, undefined!, undefined!);\n\t\t\tthis.data.push(...snippets);\n\t\t}\n\t}\n\n\ttest('SnippetFile#select', () => {\n\t\tlet file = new TestSnippetFile(URI.file('somepath/foo.code-snippets'), []);\n\t\tlet bucket: Snippet[] = [];\n\t\tfile.select('', bucket);\n\t\tassert.strictEqual(bucket.length, 0);\n\n\t\tfile = new TestSnippetFile(URI.file('somepath/foo.code-snippets'), [\n\t\t\tnew Snippet(false, ['foo'], 'FooSnippet1', 'foo', '', 'snippet', 'test', SnippetSource.User, generateUuid()),\n\t\t\tnew Snippet(false, ['foo'], 'FooSnippet2', 'foo', '', 'snippet', 'test', SnippetSource.User, generateUuid()),\n\t\t\tnew Snippet(false, ['bar'], 'BarSnippet1', 'foo', '', 'snippet', 'test', SnippetSource.User, generateUuid()),\n\t\t\tnew Snippet(false, ['bar.comment'], 'BarSnippet2', 'foo', '', 'snippet', 'test', SnippetSource.User, generateUuid()),\n\t\t\tnew Snippet(false, ['bar.strings'], 'BarSnippet2', 'foo', '', 'snippet', 'test', SnippetSource.User, generateUuid()),\n\t\t\tnew Snippet(false, ['bazz', 'bazz'], 'BazzSnippet1', 'foo', '', 'snippet', 'test', SnippetSource.User, generateUuid()),\n\t\t]);\n\n\t\tbucket = [];\n\t\tfile.select('foo', bucket);\n\t\tassert.strictEqual(bucket.length, 2);\n\n\t\tbucket = [];\n\t\tfile.select('fo', bucket);\n\t\tassert.strictEqual(bucket.length, 0);\n\n\t\tbucket = [];\n\t\tfile.select('bar', bucket);\n\t\tassert.strictEqual(bucket.length, 1);\n\n\t\tbucket = [];\n\t\tfile.select('bar.comment', bucket);\n\t\tassert.strictEqual(bucket.length, 2);\n\n\t\tbucket = [];\n\t\tfile.select('bazz', bucket);\n\t\tassert.strictEqual(bucket.length, 1);\n\t});\n\n\ttest('SnippetFile#select - any scope', function () {\n\n\t\tconst file = new TestSnippetFile(URI.file('somepath/foo.code-snippets'), [\n\t\t\tnew Snippet(false, [], 'AnySnippet1', 'foo', '', 'snippet', 'test', SnippetSource.User, generateUuid()),\n\t\t\tnew Snippet(false, ['foo'], 'FooSnippet1', 'foo', '', 'snippet', 'test', SnippetSource.User, generateUuid()),\n\t\t]);\n\n\t\tconst bucket: Snippet[] = [];\n\t\tfile.select('foo', bucket);\n\t\tassert.strictEqual(bucket.length, 2);\n\n\t});\n\n\ttest('Snippet#needsClipboard', function () {\n\n\t\tfunction assertNeedsClipboard(body: string, expected: boolean): void {\n\t\t\tconst snippet = new Snippet(false, ['foo'], 'FooSnippet1', 'foo', '', body, 'test', SnippetSource.User, generateUuid());\n\t\t\tassert.strictEqual(snippet.needsClipboard, expected);\n\n\t\t\tassert.strictEqual(SnippetParser.guessNeedsClipboard(body), expected);\n\t\t}\n\n\t\tassertNeedsClipboard('foo$CLIPBOARD', true);\n\t\tassertNeedsClipboard('${CLIPBOARD}', true);\n\t\tassertNeedsClipboard('foo${CLIPBOARD}bar', true);\n\t\tassertNeedsClipboard('foo$clipboard', false);\n\t\tassertNeedsClipboard('foo${clipboard}', false);\n\t\tassertNeedsClipboard('baba', false);\n\t});\n\n\ttest('Snippet#isTrivial', function () {\n\n\t\tfunction assertIsTrivial(body: string, expected: boolean): void {\n\t\t\tconst snippet = new Snippet(false, ['foo'], 'FooSnippet1', 'foo', '', body, 'test', SnippetSource.User, generateUuid());\n\t\t\tassert.strictEqual(snippet.isTrivial, expected);\n\t\t}\n\n\t\tassertIsTrivial('foo', true);\n\t\tassertIsTrivial('foo$0', true);\n\t\tassertIsTrivial('foo$0bar', false);\n\t\tassertIsTrivial('foo$1', false);\n\t\tassertIsTrivial('foo$1$0', false);\n\t\tassertIsTrivial('${1:foo}', false);\n\t});\n\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { SnippetFile, Snippet, SnippetSource } from '../../browser/snippetsFile.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { SnippetParser } from '../../../../../editor/contrib/snippet/browser/snippetParser.js';\nimport { generateUuid } from '../../../../../base/common/uuid.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\n\nsuite('Snippets', function () {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tclass TestSnippetFile extends SnippetFile {\n\t\tconstructor(filepath: URI, snippets: Snippet[]) {\n\t\t\tsuper(SnippetSource.Extension, filepath, undefined, undefined, undefined!, undefined!);\n\t\t\tthis.data.push(...snippets);\n\t\t}\n\t}\n\n\ttest('SnippetFile#select', () => {\n\t\tlet file = new TestSnippetFile(URI.file('somepath/foo.code-snippets'), []);\n\t\tlet bucket: Snippet[] = [];\n\t\tfile.select('', bucket);\n\t\tassert.strictEqual(bucket.length, 0);\n\n\t\tfile = new TestSnippetFile(URI.file('somepath/foo.code-snippets'), [\n\t\t\tnew Snippet(false, ['foo'], 'FooSnippet1', 'foo', '', 'snippet', 'test', SnippetSource.User, generateUuid()),\n\t\t\tnew Snippet(false, ['foo'], 'FooSnippet2', 'foo', '', 'snippet', 'test', SnippetSource.User, generateUuid()),\n\t\t\tnew Snippet(false, ['bar'], 'BarSnippet1', 'foo', '', 'snippet', 'test', SnippetSource.User, generateUuid()),\n\t\t\tnew Snippet(false, ['bar.comment'], 'BarSnippet2', 'foo', '', 'snippet', 'test', SnippetSource.User, generateUuid()),\n\t\t\tnew Snippet(false, ['bar.strings'], 'BarSnippet2', 'foo', '', 'snippet', 'test', SnippetSource.User, generateUuid()),\n\t\t\tnew Snippet(false, ['bazz', 'bazz'], 'BazzSnippet1', 'foo', '', 'snippet', 'test', SnippetSource.User, generateUuid()),\n\t\t]);\n\n\t\tbucket = [];\n\t\tfile.select('foo', bucket);\n\t\tassert.strictEqual(bucket.length, 2);\n\n\t\tbucket = [];\n\t\tfile.select('fo', bucket);\n\t\tassert.strictEqual(bucket.length, 0);\n\n\t\tbucket = [];\n\t\tfile.select('bar', bucket);\n\t\tassert.strictEqual(bucket.length, 1);\n\n\t\tbucket = [];\n\t\tfile.select('bar.comment', bucket);\n\t\tassert.strictEqual(bucket.length, 2);\n\n\t\tbucket = [];\n\t\tfile.select('bazz', bucket);\n\t\tassert.strictEqual(bucket.length, 1);\n\t});\n\n\ttest('SnippetFile#select - any scope', function () {\n\n\t\tconst file = new TestSnippetFile(URI.file('somepath/foo.code-snippets'), [\n\t\t\tnew Snippet(false, [], 'AnySnippet1', 'foo', '', 'snippet', 'test', SnippetSource.User, generateUuid()),\n\t\t\tnew Snippet(false, ['foo'], 'FooSnippet1', 'foo', '', 'snippet', 'test', SnippetSource.User, generateUuid()),\n\t\t]);\n\n\t\tconst bucket: Snippet[] = [];\n\t\tfile.select('foo', bucket);\n\t\tassert.strictEqual(bucket.length, 2);\n\n\t});\n\n\ttest('Snippet#needsClipboard', function () {\n\n\t\tfunction assertNeedsClipboard(body: string, expected: boolean): void {\n\t\t\tconst snippet = new Snippet(false, ['foo'], 'FooSnippet1', 'foo', '', body, 'test', SnippetSource.User, generateUuid());\n\t\t\tassert.strictEqual(snippet.needsClipboard, expected);\n\n\t\t\tassert.strictEqual(SnippetParser.guessNeedsClipboard(body), expected);\n\t\t}\n\n\t\tassertNeedsClipboard('foo$CLIPBOARD', true);\n\t\tassertNeedsClipboard('${CLIPBOARD}', true);\n\t\tassertNeedsClipboard('foo${CLIPBOARD}bar', true);\n\t\tassertNeedsClipboard('foo$clipboard', false);\n\t\tassertNeedsClipboard('foo${clipboard}', false);\n\t\tassertNeedsClipboard('baba', false);\n\t});\n\n\ttest('Snippet#isTrivial', function () {\n\n\t\tfunction assertIsTrivial(body: string, expected: boolean): void {\n\t\t\tconst snippet = new Snippet(false, ['foo'], 'FooSnippet1', 'foo', '', body, 'test', SnippetSource.User, generateUuid());\n\t\t\tassert.strictEqual(snippet.isTrivial, expected);\n\t\t}\n\n\t\tassertIsTrivial('foo', true);\n\t\tassertIsTrivial('foo$0', true);\n\t\tassertIsTrivial('foo$0bar', false);\n\t\tassertIsTrivial('foo$1', false);\n\t\tassertIsTrivial('foo$1$0', false);\n\t\tassertIsTrivial('${1:foo}', false);\n\t});\n\n});\n"]}