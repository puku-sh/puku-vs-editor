{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/snippets/test/browser/snippetsRewrite.test.ts","vs/workbench/contrib/snippets/test/browser/snippetsRewrite.test.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,MAAM,MAAM,QAAQ,CAAC;AAC5B,OAAO,EAAE,YAAY,EAAE,MAAM,oCAAoC,CAAC;AAClE,OAAO,EAAE,uCAAuC,EAAE,MAAM,0CAA0C,CAAC;AACnG,OAAO,EAAE,OAAO,EAAiB,MAAM,+BAA+B,CAAC;AAEvE,KAAK,CAAC,gBAAgB,EAAE;IAEvB,uCAAuC,EAAE,CAAC;IAE1C,SAAS,aAAa,CAAC,KAAa,EAAE,QAA0B;QAC/D,MAAM,MAAM,GAAG,IAAI,OAAO,CAAC,KAAK,EAAE,CAAC,KAAK,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,8BAAsB,YAAY,EAAE,CAAC,CAAC;QAClH,IAAI,OAAO,QAAQ,KAAK,SAAS,EAAE,CAAC;YACnC,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;QAC/C,CAAC;aAAM,CAAC;YACP,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC;QAClD,CAAC;IACF,CAAC;IAED,IAAI,CAAC,yBAAyB,EAAE;QAE/B,aAAa,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;QAC5B,aAAa,CAAC,kBAAkB,EAAE,KAAK,CAAC,CAAC;QAEzC,aAAa,CAAC,eAAe,EAAE,uBAAuB,CAAC,CAAC;QACxD,aAAa,CAAC,4BAA4B,EAAE,kCAAkC,CAAC,CAAC;QAGhF,aAAa,CACZ;YACC,kEAAkE;YAClE,wCAAwC;YACxC,MAAM;YACN,GAAG;SACH,CAAC,IAAI,CAAC,IAAI,CAAC,EACZ;YACC,0EAA0E;YAC1E,8CAA8C;YAC9C,MAAM;YACN,KAAK;SACL,CAAC,IAAI,CAAC,IAAI,CAAC,CACZ,CAAC;IACH,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,0DAA0D,EAAE;QAChE,aAAa,CAAC,iDAAiD,EAAE,KAAK,CAAC,CAAC;IACzE,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,8BAA8B,EAAE;QACpC,MAAM,OAAO,GAAG,IAAI,OAAO,CAAC,KAAK,EAAE,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,0CAA0C,EAAE,QAAQ,mCAA2B,YAAY,EAAE,CAAC,CAAC;QACxK,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,EAAE,0CAA0C,CAAC,CAAC;QAC7E,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,WAAW,EAAE,8CAA8C,CAAC,CAAC;QACxF,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IAC5C,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC,CAAC","file":"snippetsRewrite.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { generateUuid } from '../../../../../base/common/uuid.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { Snippet, SnippetSource } from '../../browser/snippetsFile.js';\n\nsuite('SnippetRewrite', function () {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tfunction assertRewrite(input: string, expected: string | boolean): void {\n\t\tconst actual = new Snippet(false, ['foo'], 'foo', 'foo', 'foo', input, 'foo', SnippetSource.User, generateUuid());\n\t\tif (typeof expected === 'boolean') {\n\t\t\tassert.strictEqual(actual.codeSnippet, input);\n\t\t} else {\n\t\t\tassert.strictEqual(actual.codeSnippet, expected);\n\t\t}\n\t}\n\n\ttest('bogous variable rewrite', function () {\n\n\t\tassertRewrite('foo', false);\n\t\tassertRewrite('hello $1 world$0', false);\n\n\t\tassertRewrite('$foo and $foo', '${1:foo} and ${1:foo}');\n\t\tassertRewrite('$1 and $SELECTION and $foo', '$1 and ${SELECTION} and ${2:foo}');\n\n\n\t\tassertRewrite(\n\t\t\t[\n\t\t\t\t'for (var ${index} = 0; ${index} < ${array}.length; ${index}++) {',\n\t\t\t\t'\\tvar ${element} = ${array}[${index}];',\n\t\t\t\t'\\t$0',\n\t\t\t\t'}'\n\t\t\t].join('\\n'),\n\t\t\t[\n\t\t\t\t'for (var ${1:index} = 0; ${1:index} < ${2:array}.length; ${1:index}++) {',\n\t\t\t\t'\\tvar ${3:element} = ${2:array}[${1:index}];',\n\t\t\t\t'\\t$0',\n\t\t\t\t'\\\\}'\n\t\t\t].join('\\n')\n\t\t);\n\t});\n\n\ttest('Snippet choices: unable to escape comma and pipe, #31521', function () {\n\t\tassertRewrite('console.log(${1|not\\\\, not, five, 5, 1   23|});', false);\n\t});\n\n\ttest('lazy bogous variable rewrite', function () {\n\t\tconst snippet = new Snippet(false, ['fooLang'], 'foo', 'prefix', 'desc', 'This is ${bogous} because it is a ${var}', 'source', SnippetSource.Extension, generateUuid());\n\t\tassert.strictEqual(snippet.body, 'This is ${bogous} because it is a ${var}');\n\t\tassert.strictEqual(snippet.codeSnippet, 'This is ${1:bogous} because it is a ${2:var}');\n\t\tassert.strictEqual(snippet.isBogous, true);\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { generateUuid } from '../../../../../base/common/uuid.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { Snippet, SnippetSource } from '../../browser/snippetsFile.js';\n\nsuite('SnippetRewrite', function () {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tfunction assertRewrite(input: string, expected: string | boolean): void {\n\t\tconst actual = new Snippet(false, ['foo'], 'foo', 'foo', 'foo', input, 'foo', SnippetSource.User, generateUuid());\n\t\tif (typeof expected === 'boolean') {\n\t\t\tassert.strictEqual(actual.codeSnippet, input);\n\t\t} else {\n\t\t\tassert.strictEqual(actual.codeSnippet, expected);\n\t\t}\n\t}\n\n\ttest('bogous variable rewrite', function () {\n\n\t\tassertRewrite('foo', false);\n\t\tassertRewrite('hello $1 world$0', false);\n\n\t\tassertRewrite('$foo and $foo', '${1:foo} and ${1:foo}');\n\t\tassertRewrite('$1 and $SELECTION and $foo', '$1 and ${SELECTION} and ${2:foo}');\n\n\n\t\tassertRewrite(\n\t\t\t[\n\t\t\t\t'for (var ${index} = 0; ${index} < ${array}.length; ${index}++) {',\n\t\t\t\t'\\tvar ${element} = ${array}[${index}];',\n\t\t\t\t'\\t$0',\n\t\t\t\t'}'\n\t\t\t].join('\\n'),\n\t\t\t[\n\t\t\t\t'for (var ${1:index} = 0; ${1:index} < ${2:array}.length; ${1:index}++) {',\n\t\t\t\t'\\tvar ${3:element} = ${2:array}[${1:index}];',\n\t\t\t\t'\\t$0',\n\t\t\t\t'\\\\}'\n\t\t\t].join('\\n')\n\t\t);\n\t});\n\n\ttest('Snippet choices: unable to escape comma and pipe, #31521', function () {\n\t\tassertRewrite('console.log(${1|not\\\\, not, five, 5, 1   23|});', false);\n\t});\n\n\ttest('lazy bogous variable rewrite', function () {\n\t\tconst snippet = new Snippet(false, ['fooLang'], 'foo', 'prefix', 'desc', 'This is ${bogous} because it is a ${var}', 'source', SnippetSource.Extension, generateUuid());\n\t\tassert.strictEqual(snippet.body, 'This is ${bogous} because it is a ${var}');\n\t\tassert.strictEqual(snippet.codeSnippet, 'This is ${1:bogous} because it is a ${2:var}');\n\t\tassert.strictEqual(snippet.isBogous, true);\n\t});\n});\n"]}