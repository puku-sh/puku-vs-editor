{"version":3,"sources":["vs/workbench/contrib/search/browser/symbolsQuickAccess.ts"],"names":[],"mappings":"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","file":"symbolsQuickAccess.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { localize } from '../../../../nls.js';\nimport { IPickerQuickAccessItem, PickerQuickAccessProvider, TriggerAction } from '../../../../platform/quickinput/browser/pickerQuickAccess.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { ThrottledDelayer } from '../../../../base/common/async.js';\nimport { getWorkspaceSymbols, IWorkspaceSymbol, IWorkspaceSymbolProvider } from '../common/search.js';\nimport { SymbolKinds, SymbolTag, SymbolKind } from '../../../../editor/common/languages.js';\nimport { ILabelService } from '../../../../platform/label/common/label.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { IEditorService, SIDE_GROUP, ACTIVE_GROUP } from '../../../services/editor/common/editorService.js';\nimport { Range } from '../../../../editor/common/core/range.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IWorkbenchEditorConfiguration } from '../../../common/editor.js';\nimport { IKeyMods, IQuickPickItemWithResource } from '../../../../platform/quickinput/common/quickInput.js';\nimport { ICodeEditorService } from '../../../../editor/browser/services/codeEditorService.js';\nimport { getSelectionSearchString } from '../../../../editor/contrib/find/browser/findController.js';\nimport { prepareQuery, IPreparedQuery, scoreFuzzy2, pieceToQuery } from '../../../../base/common/fuzzyScorer.js';\nimport { IMatch } from '../../../../base/common/filters.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\n\nexport interface ISymbolQuickPickItem extends IPickerQuickAccessItem, IQuickPickItemWithResource {\n\tscore?: number;\n\tsymbol?: IWorkspaceSymbol;\n}\n\nexport class SymbolsQuickAccessProvider extends PickerQuickAccessProvider<ISymbolQuickPickItem> {\n\n\tstatic PREFIX = '#';\n\n\tprivate static readonly TYPING_SEARCH_DELAY = 200; // this delay accommodates for the user typing a word and then stops typing to start searching\n\n\tprivate static TREAT_AS_GLOBAL_SYMBOL_TYPES = new Set<SymbolKind>([\n\t\tSymbolKind.Class,\n\t\tSymbolKind.Enum,\n\t\tSymbolKind.File,\n\t\tSymbolKind.Interface,\n\t\tSymbolKind.Namespace,\n\t\tSymbolKind.Package,\n\t\tSymbolKind.Module\n\t]);\n\n\tprivate delayer = this._register(new ThrottledDelayer<ISymbolQuickPickItem[]>(SymbolsQuickAccessProvider.TYPING_SEARCH_DELAY));\n\n\tget defaultFilterValue(): string | undefined {\n\n\t\t// Prefer the word under the cursor in the active editor as default filter\n\t\tconst editor = this.codeEditorService.getFocusedCodeEditor();\n\t\tif (editor) {\n\t\t\treturn getSelectionSearchString(editor) ?? undefined;\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tconstructor(\n\t\t@ILabelService private readonly labelService: ILabelService,\n\t\t@IOpenerService private readonly openerService: IOpenerService,\n\t\t@IEditorService private readonly editorService: IEditorService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@ICodeEditorService private readonly codeEditorService: ICodeEditorService\n\t) {\n\t\tsuper(SymbolsQuickAccessProvider.PREFIX, {\n\t\t\tcanAcceptInBackground: true,\n\t\t\tnoResultsPick: {\n\t\t\t\tlabel: localize('noSymbolResults', \"No matching workspace symbols\")\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate get configuration() {\n\t\tconst editorConfig = this.configurationService.getValue<IWorkbenchEditorConfiguration>().workbench?.editor;\n\n\t\treturn {\n\t\t\topenEditorPinned: !editorConfig?.enablePreviewFromQuickOpen || !editorConfig?.enablePreview,\n\t\t\topenSideBySideDirection: editorConfig?.openSideBySideDirection\n\t\t};\n\t}\n\n\tprotected _getPicks(filter: string, disposables: DisposableStore, token: CancellationToken): Promise<Array<ISymbolQuickPickItem>> {\n\t\treturn this.getSymbolPicks(filter, undefined, token);\n\t}\n\n\tasync getSymbolPicks(filter: string, options: { skipLocal?: boolean; skipSorting?: boolean; delay?: number } | undefined, token: CancellationToken): Promise<Array<ISymbolQuickPickItem>> {\n\t\treturn this.delayer.trigger(async () => {\n\t\t\tif (token.isCancellationRequested) {\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\treturn this.doGetSymbolPicks(prepareQuery(filter), options, token);\n\t\t}, options?.delay);\n\t}\n\n\tprivate async doGetSymbolPicks(query: IPreparedQuery, options: { skipLocal?: boolean; skipSorting?: boolean } | undefined, token: CancellationToken): Promise<Array<ISymbolQuickPickItem>> {\n\n\t\t// Split between symbol and container query\n\t\tlet symbolQuery: IPreparedQuery;\n\t\tlet containerQuery: IPreparedQuery | undefined;\n\t\tif (query.values && query.values.length > 1) {\n\t\t\tsymbolQuery = pieceToQuery(query.values[0]); \t\t  // symbol: only match on first part\n\t\t\tcontainerQuery = pieceToQuery(query.values.slice(1)); // container: match on all but first parts\n\t\t} else {\n\t\t\tsymbolQuery = query;\n\t\t}\n\n\t\t// Run the workspace symbol query\n\t\tconst workspaceSymbols = await getWorkspaceSymbols(symbolQuery.original, token);\n\t\tif (token.isCancellationRequested) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst symbolPicks: Array<ISymbolQuickPickItem> = [];\n\n\t\t// Convert to symbol picks and apply filtering\n\t\tconst openSideBySideDirection = this.configuration.openSideBySideDirection;\n\t\tfor (const { symbol, provider } of workspaceSymbols) {\n\n\t\t\t// Depending on the workspace symbols filter setting, skip over symbols that:\n\t\t\t// - do not have a container\n\t\t\t// - and are not treated explicitly as global symbols (e.g. classes)\n\t\t\tif (options?.skipLocal && !SymbolsQuickAccessProvider.TREAT_AS_GLOBAL_SYMBOL_TYPES.has(symbol.kind) && !!symbol.containerName) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst symbolLabel = symbol.name;\n\n\t\t\t// Score by symbol label if searching\n\t\t\tlet symbolScore: number | undefined = undefined;\n\t\t\tlet symbolMatches: IMatch[] | undefined = undefined;\n\t\t\tlet skipContainerQuery = false;\n\t\t\tif (symbolQuery.original.length > 0) {\n\n\t\t\t\t// First: try to score on the entire query, it is possible that\n\t\t\t\t// the symbol matches perfectly (e.g. searching for \"change log\"\n\t\t\t\t// can be a match on a markdown symbol \"change log\"). In that\n\t\t\t\t// case we want to skip the container query altogether.\n\t\t\t\tif (symbolQuery !== query) {\n\t\t\t\t\t[symbolScore, symbolMatches] = scoreFuzzy2(symbolLabel, { ...query, values: undefined /* disable multi-query support */ }, 0, 0);\n\t\t\t\t\tif (typeof symbolScore === 'number') {\n\t\t\t\t\t\tskipContainerQuery = true; // since we consumed the query, skip any container matching\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Otherwise: score on the symbol query and match on the container later\n\t\t\t\tif (typeof symbolScore !== 'number') {\n\t\t\t\t\t[symbolScore, symbolMatches] = scoreFuzzy2(symbolLabel, symbolQuery, 0, 0);\n\t\t\t\t\tif (typeof symbolScore !== 'number') {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst symbolUri = symbol.location.uri;\n\t\t\tlet containerLabel: string | undefined = undefined;\n\t\t\tif (symbolUri) {\n\t\t\t\tconst containerPath = this.labelService.getUriLabel(symbolUri, { relative: true });\n\t\t\t\tif (symbol.containerName) {\n\t\t\t\t\tcontainerLabel = `${symbol.containerName} â€¢ ${containerPath}`;\n\t\t\t\t} else {\n\t\t\t\t\tcontainerLabel = containerPath;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Score by container if specified and searching\n\t\t\tlet containerScore: number | undefined = undefined;\n\t\t\tlet containerMatches: IMatch[] | undefined = undefined;\n\t\t\tif (!skipContainerQuery && containerQuery && containerQuery.original.length > 0) {\n\t\t\t\tif (containerLabel) {\n\t\t\t\t\t[containerScore, containerMatches] = scoreFuzzy2(containerLabel, containerQuery);\n\t\t\t\t}\n\n\t\t\t\tif (typeof containerScore !== 'number') {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (typeof symbolScore === 'number') {\n\t\t\t\t\tsymbolScore += containerScore; // boost symbolScore by containerScore\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst deprecated = symbol.tags ? symbol.tags.indexOf(SymbolTag.Deprecated) >= 0 : false;\n\n\t\t\tsymbolPicks.push({\n\t\t\t\tsymbol,\n\t\t\t\tresource: symbolUri,\n\t\t\t\tscore: symbolScore,\n\t\t\t\ticonClass: ThemeIcon.asClassName(SymbolKinds.toIcon(symbol.kind)),\n\t\t\t\tlabel: symbolLabel,\n\t\t\t\tariaLabel: symbolLabel,\n\t\t\t\thighlights: deprecated ? undefined : {\n\t\t\t\t\tlabel: symbolMatches,\n\t\t\t\t\tdescription: containerMatches\n\t\t\t\t},\n\t\t\t\tdescription: containerLabel,\n\t\t\t\tstrikethrough: deprecated,\n\t\t\t\tbuttons: [\n\t\t\t\t\t{\n\t\t\t\t\t\ticonClass: openSideBySideDirection === 'right' ? ThemeIcon.asClassName(Codicon.splitHorizontal) : ThemeIcon.asClassName(Codicon.splitVertical),\n\t\t\t\t\t\ttooltip: openSideBySideDirection === 'right' ? localize('openToSide', \"Open to the Side\") : localize('openToBottom', \"Open to the Bottom\")\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\ttrigger: (buttonIndex, keyMods) => {\n\t\t\t\t\tthis.openSymbol(provider, symbol, token, { keyMods, forceOpenSideBySide: true });\n\n\t\t\t\t\treturn TriggerAction.CLOSE_PICKER;\n\t\t\t\t},\n\t\t\t\taccept: async (keyMods, event) => this.openSymbol(provider, symbol, token, { keyMods, preserveFocus: event.inBackground, forcePinned: event.inBackground }),\n\t\t\t});\n\n\t\t}\n\n\t\t// Sort picks (unless disabled)\n\t\tif (!options?.skipSorting) {\n\t\t\tsymbolPicks.sort((symbolA, symbolB) => this.compareSymbols(symbolA, symbolB));\n\t\t}\n\n\t\treturn symbolPicks;\n\t}\n\n\tprivate async openSymbol(provider: IWorkspaceSymbolProvider, symbol: IWorkspaceSymbol, token: CancellationToken, options: { keyMods: IKeyMods; forceOpenSideBySide?: boolean; preserveFocus?: boolean; forcePinned?: boolean }): Promise<void> {\n\n\t\t// Resolve actual symbol to open for providers that can resolve\n\t\tlet symbolToOpen = symbol;\n\t\tif (typeof provider.resolveWorkspaceSymbol === 'function') {\n\t\t\tsymbolToOpen = await provider.resolveWorkspaceSymbol(symbol, token) || symbol;\n\n\t\t\tif (token.isCancellationRequested) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// Open HTTP(s) links with opener service\n\t\tif (symbolToOpen.location.uri.scheme === Schemas.http || symbolToOpen.location.uri.scheme === Schemas.https) {\n\t\t\tawait this.openerService.open(symbolToOpen.location.uri, { fromUserGesture: true, allowContributedOpeners: true });\n\t\t}\n\n\t\t// Otherwise open as editor\n\t\telse {\n\t\t\tawait this.editorService.openEditor({\n\t\t\t\tresource: symbolToOpen.location.uri,\n\t\t\t\toptions: {\n\t\t\t\t\tpreserveFocus: options?.preserveFocus,\n\t\t\t\t\tpinned: options.keyMods.ctrlCmd || options.forcePinned || this.configuration.openEditorPinned,\n\t\t\t\t\tselection: symbolToOpen.location.range ? Range.collapseToStart(symbolToOpen.location.range) : undefined\n\t\t\t\t}\n\t\t\t}, options.keyMods.alt || (this.configuration.openEditorPinned && options.keyMods.ctrlCmd) || options?.forceOpenSideBySide ? SIDE_GROUP : ACTIVE_GROUP);\n\t\t}\n\t}\n\n\tprivate compareSymbols(symbolA: ISymbolQuickPickItem, symbolB: ISymbolQuickPickItem): number {\n\n\t\t// By score\n\t\tif (typeof symbolA.score === 'number' && typeof symbolB.score === 'number') {\n\t\t\tif (symbolA.score > symbolB.score) {\n\t\t\t\treturn -1;\n\t\t\t}\n\n\t\t\tif (symbolA.score < symbolB.score) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t}\n\n\t\t// By name\n\t\tif (symbolA.symbol && symbolB.symbol) {\n\t\t\tconst symbolAName = symbolA.symbol.name.toLowerCase();\n\t\t\tconst symbolBName = symbolB.symbol.name.toLowerCase();\n\t\t\tconst res = symbolAName.localeCompare(symbolBName);\n\t\t\tif (res !== 0) {\n\t\t\t\treturn res;\n\t\t\t}\n\t\t}\n\n\t\t// By kind\n\t\tif (symbolA.symbol && symbolB.symbol) {\n\t\t\tconst symbolAKind = SymbolKinds.toIcon(symbolA.symbol.kind).id;\n\t\t\tconst symbolBKind = SymbolKinds.toIcon(symbolB.symbol.kind).id;\n\t\t\treturn symbolAKind.localeCompare(symbolBKind);\n\t\t}\n\n\t\treturn 0;\n\t}\n}\n"]}