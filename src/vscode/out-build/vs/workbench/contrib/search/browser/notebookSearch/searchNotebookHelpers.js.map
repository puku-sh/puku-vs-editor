{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/search/browser/notebookSearch/searchNotebookHelpers.ts","vs/workbench/contrib/search/browser/notebookSearch/searchNotebookHelpers.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAGhG,OAAO,EAAgC,eAAe,EAAE,MAAM,8CAA8C,CAAC;AAC7G,OAAO,EAAE,KAAK,EAAE,MAAM,4CAA4C,CAAC;AACnE,OAAO,EAAwD,qCAAqC,EAAE,aAAa,EAAE,MAAM,uCAAuC,CAAC;AAOnK,MAAM,UAAU,2BAA2B,CAAC,KAAyB;IACpE,IAAI,6BAA6B,CAAC,KAAK,CAAC,EAAE,CAAC;QAC1C,OAAO,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC;IACtB,CAAC;SAAM,CAAC;QACP,OAAO,GAAG,aAAa,GAAG,KAAK,CAAC,KAAK,EAAE,CAAC;IACzC,CAAC;AACF,CAAC;AASD,MAAM,UAAU,6BAA6B,CAAC,MAAW;IACxD,OAAO,aAAa,IAAI,MAAM,IAAI,MAAM,CAAC,WAAW,YAAY,KAAK,IAAI,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,6BAA6B,CAAC,CAAC;AAClI,CAAC;AAED,MAAM,UAAU,6BAA6B,CAAC,MAAW;IACxD,OAAO,MAAM,IAAI,MAAM,CAAC;AACzB,CAAC;AAED,MAAM,UAAU,iCAAiC,CAAC,cAA2B,EAAE,IAAoB;IAClG,OAAO,qCAAqC,CAC3C,cAAc,EACd,IAAI,CAAC,UAAU,CACf,CAAC;AACH,CAAC;AAED,MAAM,UAAU,iCAAiC,CAAC,cAAsC;IACvF,OAAO,cAAc;SACnB,GAAG,CAAC,QAAQ,CAAC,EAAE,CACf,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC,CAAC;QAC7B,IAAI,eAAe,CAClB,QAAQ,CAAC,iBAAiB,CAAC,IAAI,EAC/B,IAAI,KAAK,CAAC,CAAC,EAAE,QAAQ,CAAC,iBAAiB,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,EAAE,QAAQ,CAAC,iBAAiB,CAAC,KAAK,CAAC,GAAG,CAAC,EAC7F,SAAS,EACT,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,CAC7B,CAAC,MAAM,CAAC,CAAC,CAAC,EAAwB,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7C,CAAC","file":"searchNotebookHelpers.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { FindMatch } from '../../../../../editor/common/model.js';\nimport { IFileMatch, ITextSearchMatch, TextSearchMatch } from '../../../../services/search/common/search.js';\nimport { Range } from '../../../../../editor/common/core/range.js';\nimport { INotebookCellMatchNoModel, INotebookFileMatchNoModel, genericCellMatchesToTextSearchMatches, rawCellPrefix } from '../../common/searchNotebookHelpers.js';\nimport { CellWebviewFindMatch, ICellViewModel } from '../../../notebook/browser/notebookBrowser.js';\nimport { URI } from '../../../../../base/common/uri.js';\n\nexport type INotebookCellMatch = INotebookCellMatchWithModel | INotebookCellMatchNoModel;\nexport type INotebookFileMatch = INotebookFileMatchWithModel | INotebookFileMatchNoModel;\n\nexport function getIDFromINotebookCellMatch(match: INotebookCellMatch): string {\n\tif (isINotebookCellMatchWithModel(match)) {\n\t\treturn match.cell.id;\n\t} else {\n\t\treturn `${rawCellPrefix}${match.index}`;\n\t}\n}\nexport interface INotebookFileMatchWithModel extends IFileMatch {\n\tcellResults: INotebookCellMatchWithModel[];\n}\n\nexport interface INotebookCellMatchWithModel extends INotebookCellMatchNoModel<URI> {\n\tcell: ICellViewModel;\n}\n\nexport function isINotebookFileMatchWithModel(object: any): object is INotebookFileMatchWithModel {\n\treturn 'cellResults' in object && object.cellResults instanceof Array && object.cellResults.every(isINotebookCellMatchWithModel);\n}\n\nexport function isINotebookCellMatchWithModel(object: any): object is INotebookCellMatchWithModel {\n\treturn 'cell' in object;\n}\n\nexport function contentMatchesToTextSearchMatches(contentMatches: FindMatch[], cell: ICellViewModel): ITextSearchMatch[] {\n\treturn genericCellMatchesToTextSearchMatches(\n\t\tcontentMatches,\n\t\tcell.textBuffer\n\t);\n}\n\nexport function webviewMatchesToTextSearchMatches(webviewMatches: CellWebviewFindMatch[]): ITextSearchMatch[] {\n\treturn webviewMatches\n\t\t.map(rawMatch =>\n\t\t\t(rawMatch.searchPreviewInfo) ?\n\t\t\t\tnew TextSearchMatch(\n\t\t\t\t\trawMatch.searchPreviewInfo.line,\n\t\t\t\t\tnew Range(0, rawMatch.searchPreviewInfo.range.start, 0, rawMatch.searchPreviewInfo.range.end),\n\t\t\t\t\tundefined,\n\t\t\t\t\trawMatch.index) : undefined\n\t\t).filter((e): e is TextSearchMatch => !!e);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { FindMatch } from '../../../../../editor/common/model.js';\nimport { IFileMatch, ITextSearchMatch, TextSearchMatch } from '../../../../services/search/common/search.js';\nimport { Range } from '../../../../../editor/common/core/range.js';\nimport { INotebookCellMatchNoModel, INotebookFileMatchNoModel, genericCellMatchesToTextSearchMatches, rawCellPrefix } from '../../common/searchNotebookHelpers.js';\nimport { CellWebviewFindMatch, ICellViewModel } from '../../../notebook/browser/notebookBrowser.js';\nimport { URI } from '../../../../../base/common/uri.js';\n\nexport type INotebookCellMatch = INotebookCellMatchWithModel | INotebookCellMatchNoModel;\nexport type INotebookFileMatch = INotebookFileMatchWithModel | INotebookFileMatchNoModel;\n\nexport function getIDFromINotebookCellMatch(match: INotebookCellMatch): string {\n\tif (isINotebookCellMatchWithModel(match)) {\n\t\treturn match.cell.id;\n\t} else {\n\t\treturn `${rawCellPrefix}${match.index}`;\n\t}\n}\nexport interface INotebookFileMatchWithModel extends IFileMatch {\n\tcellResults: INotebookCellMatchWithModel[];\n}\n\nexport interface INotebookCellMatchWithModel extends INotebookCellMatchNoModel<URI> {\n\tcell: ICellViewModel;\n}\n\nexport function isINotebookFileMatchWithModel(object: any): object is INotebookFileMatchWithModel {\n\treturn 'cellResults' in object && object.cellResults instanceof Array && object.cellResults.every(isINotebookCellMatchWithModel);\n}\n\nexport function isINotebookCellMatchWithModel(object: any): object is INotebookCellMatchWithModel {\n\treturn 'cell' in object;\n}\n\nexport function contentMatchesToTextSearchMatches(contentMatches: FindMatch[], cell: ICellViewModel): ITextSearchMatch[] {\n\treturn genericCellMatchesToTextSearchMatches(\n\t\tcontentMatches,\n\t\tcell.textBuffer\n\t);\n}\n\nexport function webviewMatchesToTextSearchMatches(webviewMatches: CellWebviewFindMatch[]): ITextSearchMatch[] {\n\treturn webviewMatches\n\t\t.map(rawMatch =>\n\t\t\t(rawMatch.searchPreviewInfo) ?\n\t\t\t\tnew TextSearchMatch(\n\t\t\t\t\trawMatch.searchPreviewInfo.line,\n\t\t\t\t\tnew Range(0, rawMatch.searchPreviewInfo.range.start, 0, rawMatch.searchPreviewInfo.range.end),\n\t\t\t\t\tundefined,\n\t\t\t\t\trawMatch.index) : undefined\n\t\t).filter((e): e is TextSearchMatch => !!e);\n}\n"]}