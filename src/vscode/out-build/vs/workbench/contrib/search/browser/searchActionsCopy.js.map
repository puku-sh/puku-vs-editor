{"version":3,"sources":["vs/workbench/contrib/search/browser/searchActionsCopy.ts"],"names":[],"mappings":"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","file":"searchActionsCopy.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as nls from '../../../../nls.js';\nimport { IClipboardService } from '../../../../platform/clipboard/common/clipboardService.js';\nimport { ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ILabelService } from '../../../../platform/label/common/label.js';\nimport { IViewsService } from '../../../services/views/common/viewsService.js';\nimport * as Constants from '../common/constants.js';\nimport { Action2, MenuId, registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { KeybindingWeight } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { KeyCode, KeyMod } from '../../../../base/common/keyCodes.js';\nimport { category, getSearchView } from './searchActionsBase.js';\nimport { isWindows } from '../../../../base/common/platform.js';\nimport { searchMatchComparer } from './searchCompare.js';\nimport { RenderableMatch, ISearchTreeMatch, isSearchTreeMatch, ISearchTreeFileMatch, ISearchTreeFolderMatch, ISearchTreeFolderMatchWithResource, isSearchTreeFileMatch, isSearchTreeFolderMatch, isSearchTreeFolderMatchWithResource } from './searchTreeModel/searchTreeCommon.js';\n\n//#region Actions\nregisterAction2(class CopyMatchCommandAction extends Action2 {\n\n\tconstructor(\n\t) {\n\t\tsuper({\n\t\t\tid: Constants.SearchCommandIds.CopyMatchCommandId,\n\t\t\ttitle: nls.localize2('copyMatchLabel', \"Copy\"),\n\t\t\tcategory,\n\t\t\tkeybinding: {\n\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t\twhen: Constants.SearchContext.FileMatchOrMatchFocusKey,\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.KeyC,\n\t\t\t},\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.SearchContext,\n\t\t\t\twhen: Constants.SearchContext.FileMatchOrMatchFocusKey,\n\t\t\t\tgroup: 'search_2',\n\t\t\t\torder: 1\n\t\t\t}]\n\t\t});\n\n\t}\n\n\toverride async run(accessor: ServicesAccessor, match: RenderableMatch | undefined): Promise<any> {\n\t\tawait copyMatchCommand(accessor, match);\n\t}\n});\n\nregisterAction2(class CopyPathCommandAction extends Action2 {\n\n\tconstructor(\n\t) {\n\t\tsuper({\n\t\t\tid: Constants.SearchCommandIds.CopyPathCommandId,\n\t\t\ttitle: nls.localize2('copyPathLabel', \"Copy Path\"),\n\t\t\tcategory,\n\t\t\tkeybinding: {\n\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t\twhen: Constants.SearchContext.FileMatchOrFolderMatchWithResourceFocusKey,\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Alt | KeyCode.KeyC,\n\t\t\t\twin: {\n\t\t\t\t\tprimary: KeyMod.Shift | KeyMod.Alt | KeyCode.KeyC\n\t\t\t\t},\n\t\t\t},\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.SearchContext,\n\t\t\t\twhen: Constants.SearchContext.FileMatchOrFolderMatchWithResourceFocusKey,\n\t\t\t\tgroup: 'search_2',\n\t\t\t\torder: 2\n\t\t\t}]\n\t\t});\n\n\t}\n\n\toverride async run(accessor: ServicesAccessor, fileMatch: ISearchTreeFileMatch | ISearchTreeFolderMatchWithResource | undefined): Promise<any> {\n\t\tawait copyPathCommand(accessor, fileMatch);\n\t}\n});\n\nregisterAction2(class CopyAllCommandAction extends Action2 {\n\n\tconstructor(\n\t) {\n\t\tsuper({\n\t\t\tid: Constants.SearchCommandIds.CopyAllCommandId,\n\t\t\ttitle: nls.localize2('copyAllLabel', \"Copy All\"),\n\t\t\tcategory,\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.SearchContext,\n\t\t\t\twhen: Constants.SearchContext.HasSearchResults,\n\t\t\t\tgroup: 'search_2',\n\t\t\t\torder: 3\n\t\t\t}]\n\t\t});\n\n\t}\n\n\toverride async run(accessor: ServicesAccessor): Promise<any> {\n\t\tawait copyAllCommand(accessor);\n\t}\n});\n\nregisterAction2(class GetSearchResultsAction extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: Constants.SearchCommandIds.GetSearchResultsActionId,\n\t\t\ttitle: nls.localize2('getSearchResultsLabel', \"Get Search Results\"),\n\t\t\tcategory,\n\t\t\tf1: false\n\t\t});\n\t}\n\n\toverride async run(accessor: ServicesAccessor): Promise<any> {\n\t\tconst viewsService = accessor.get(IViewsService);\n\t\tconst labelService = accessor.get(ILabelService);\n\n\t\tconst searchView = getSearchView(viewsService);\n\t\tif (searchView) {\n\t\t\tconst root = searchView.searchResult;\n\t\t\tconst textSearchResult = allFolderMatchesToString(root.folderMatches(), labelService);\n\t\t\tconst aiSearchResult = allFolderMatchesToString(root.folderMatches(true), labelService);\n\n\t\t\tconst text = `${textSearchResult}${lineDelimiter}${lineDelimiter}${aiSearchResult}`;\n\n\t\t\treturn text;\n\t\t}\n\n\t\treturn undefined;\n\t}\n});\n\n//#endregion\n\n//#region Helpers\nexport const lineDelimiter = isWindows ? '\\r\\n' : '\\n';\n\nasync function copyPathCommand(accessor: ServicesAccessor, fileMatch: ISearchTreeFileMatch | ISearchTreeFolderMatchWithResource | undefined) {\n\tif (!fileMatch) {\n\t\tconst selection = getSelectedRow(accessor);\n\t\tif (!isSearchTreeFileMatch(selection) || isSearchTreeFolderMatchWithResource(selection)) {\n\t\t\treturn;\n\t\t}\n\n\t\tfileMatch = selection;\n\t}\n\n\tconst clipboardService = accessor.get(IClipboardService);\n\tconst labelService = accessor.get(ILabelService);\n\n\tconst text = labelService.getUriLabel(fileMatch.resource, { noPrefix: true });\n\tawait clipboardService.writeText(text);\n}\n\nasync function copyMatchCommand(accessor: ServicesAccessor, match: RenderableMatch | undefined) {\n\tif (!match) {\n\t\tconst selection = getSelectedRow(accessor);\n\t\tif (!selection) {\n\t\t\treturn;\n\t\t}\n\n\t\tmatch = selection;\n\t}\n\n\tconst clipboardService = accessor.get(IClipboardService);\n\tconst labelService = accessor.get(ILabelService);\n\n\tlet text: string | undefined;\n\tif (isSearchTreeMatch(match)) {\n\t\ttext = matchToString(match);\n\t} else if (isSearchTreeFileMatch(match)) {\n\t\ttext = fileMatchToString(match, labelService).text;\n\t} else if (isSearchTreeFolderMatch(match)) {\n\t\ttext = folderMatchToString(match, labelService).text;\n\t}\n\n\tif (text) {\n\t\tawait clipboardService.writeText(text);\n\t}\n}\n\nasync function copyAllCommand(accessor: ServicesAccessor) {\n\tconst viewsService = accessor.get(IViewsService);\n\tconst clipboardService = accessor.get(IClipboardService);\n\tconst labelService = accessor.get(ILabelService);\n\n\tconst searchView = getSearchView(viewsService);\n\tif (searchView) {\n\t\tconst root = searchView.searchResult;\n\n\t\tconst text = allFolderMatchesToString(root.folderMatches(), labelService);\n\t\tawait clipboardService.writeText(text);\n\t}\n}\n\nfunction matchToString(match: ISearchTreeMatch, indent = 0): string {\n\tconst getFirstLinePrefix = () => `${match.range().startLineNumber},${match.range().startColumn}`;\n\tconst getOtherLinePrefix = (i: number) => match.range().startLineNumber + i + '';\n\n\tconst fullMatchLines = match.fullPreviewLines();\n\tconst largestPrefixSize = fullMatchLines.reduce((largest, _, i) => {\n\t\tconst thisSize = i === 0 ?\n\t\t\tgetFirstLinePrefix().length :\n\t\t\tgetOtherLinePrefix(i).length;\n\n\t\treturn Math.max(thisSize, largest);\n\t}, 0);\n\n\tconst formattedLines = fullMatchLines\n\t\t.map((line, i) => {\n\t\t\tconst prefix = i === 0 ?\n\t\t\t\tgetFirstLinePrefix() :\n\t\t\t\tgetOtherLinePrefix(i);\n\n\t\t\tconst paddingStr = ' '.repeat(largestPrefixSize - prefix.length);\n\t\t\tconst indentStr = ' '.repeat(indent);\n\t\t\treturn `${indentStr}${prefix}: ${paddingStr}${line}`;\n\t\t});\n\n\treturn formattedLines.join('\\n');\n}\n\nfunction fileFolderMatchToString(match: ISearchTreeFileMatch | ISearchTreeFolderMatch | ISearchTreeFolderMatchWithResource, labelService: ILabelService): { text: string; count: number } {\n\tif (isSearchTreeFileMatch(match)) {\n\t\treturn fileMatchToString(match, labelService);\n\t} else {\n\t\treturn folderMatchToString(match, labelService);\n\t}\n}\n\nfunction fileMatchToString(fileMatch: ISearchTreeFileMatch, labelService: ILabelService): { text: string; count: number } {\n\tconst matchTextRows = fileMatch.matches()\n\t\t.sort(searchMatchComparer)\n\t\t.map(match => matchToString(match, 2));\n\tconst uriString = labelService.getUriLabel(fileMatch.resource, { noPrefix: true });\n\treturn {\n\t\ttext: `${uriString}${lineDelimiter}${matchTextRows.join(lineDelimiter)}`,\n\t\tcount: matchTextRows.length\n\t};\n}\n\nfunction folderMatchToString(folderMatch: ISearchTreeFolderMatchWithResource | ISearchTreeFolderMatch, labelService: ILabelService): { text: string; count: number } {\n\tconst results: string[] = [];\n\tlet numMatches = 0;\n\n\tconst matches = folderMatch.matches().sort(searchMatchComparer);\n\n\tmatches.forEach(match => {\n\t\tconst result = fileFolderMatchToString(match, labelService);\n\t\tnumMatches += result.count;\n\t\tresults.push(result.text);\n\t});\n\n\treturn {\n\t\ttext: results.join(lineDelimiter + lineDelimiter),\n\t\tcount: numMatches\n\t};\n}\n\nfunction allFolderMatchesToString(folderMatches: Array<ISearchTreeFolderMatchWithResource | ISearchTreeFolderMatch>, labelService: ILabelService): string {\n\tconst folderResults: string[] = [];\n\tfolderMatches = folderMatches.sort(searchMatchComparer);\n\tfor (let i = 0; i < folderMatches.length; i++) {\n\t\tconst folderResult = folderMatchToString(folderMatches[i], labelService);\n\t\tif (folderResult.count) {\n\t\t\tfolderResults.push(folderResult.text);\n\t\t}\n\t}\n\n\treturn folderResults.join(lineDelimiter + lineDelimiter);\n}\n\nfunction getSelectedRow(accessor: ServicesAccessor): RenderableMatch | undefined | null {\n\tconst viewsService = accessor.get(IViewsService);\n\tconst searchView = getSearchView(viewsService);\n\treturn searchView?.getControl().getSelection()[0];\n}\n\n//#endregion\n"]}