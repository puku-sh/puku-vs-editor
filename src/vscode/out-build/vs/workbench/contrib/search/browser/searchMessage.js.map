{"version":3,"sources":["vs/workbench/contrib/search/browser/searchMessage.ts"],"names":[],"mappings":"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","file":"searchMessage.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as nls from '../../../../nls.js';\nimport * as dom from '../../../../base/browser/dom.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { parseLinkedText } from '../../../../base/common/linkedText.js';\nimport Severity from '../../../../base/common/severity.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nimport { SeverityIcon } from '../../../../base/browser/ui/severityIcon/severityIcon.js';\nimport { TextSearchCompleteMessage, TextSearchCompleteMessageType } from '../../../services/search/common/searchExtTypes.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { Link } from '../../../../platform/opener/browser/link.js';\nimport { URI } from '../../../../base/common/uri.js';\n\nexport const renderSearchMessage = (\n\tmessage: TextSearchCompleteMessage,\n\tinstantiationService: IInstantiationService,\n\tnotificationService: INotificationService,\n\topenerService: IOpenerService,\n\tcommandService: ICommandService,\n\tdisposableStore: DisposableStore,\n\ttriggerSearch: () => void,\n): HTMLElement => {\n\tconst div = dom.$('div.providerMessage');\n\tconst linkedText = parseLinkedText(message.text);\n\tdom.append(div,\n\t\tdom.$('.' +\n\t\t\tSeverityIcon.className(\n\t\t\t\tmessage.type === TextSearchCompleteMessageType.Information\n\t\t\t\t\t? Severity.Info\n\t\t\t\t\t: Severity.Warning)\n\t\t\t\t.split(' ')\n\t\t\t\t.join('.')));\n\n\tfor (const node of linkedText.nodes) {\n\t\tif (typeof node === 'string') {\n\t\t\tdom.append(div, document.createTextNode(node));\n\t\t} else {\n\t\t\tconst link = instantiationService.createInstance(Link, div, node, {\n\t\t\t\topener: async href => {\n\t\t\t\t\tif (!message.trusted) { return; }\n\t\t\t\t\tconst parsed = URI.parse(href, true);\n\t\t\t\t\tif (parsed.scheme === Schemas.command && message.trusted) {\n\t\t\t\t\t\tconst result = await commandService.executeCommand(parsed.path);\n\t\t\t\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\t\t\t\tif ((result as any)?.triggerSearch) {\n\t\t\t\t\t\t\ttriggerSearch();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (parsed.scheme === Schemas.https) {\n\t\t\t\t\t\topenerService.open(parsed);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (parsed.scheme === Schemas.command && !message.trusted) {\n\t\t\t\t\t\t\tnotificationService.error(nls.localize('unable to open trust', \"Unable to open command link from untrusted source: {0}\", href));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnotificationService.error(nls.localize('unable to open', \"Unable to open unknown link: {0}\", href));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tdisposableStore.add(link);\n\t\t}\n\t}\n\treturn div;\n};\n"]}