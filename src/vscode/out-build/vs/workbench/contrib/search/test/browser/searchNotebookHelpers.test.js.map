{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/search/test/browser/searchNotebookHelpers.test.ts","vs/workbench/contrib/search/test/browser/searchNotebookHelpers.test.ts"],"names":[],"mappings":"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","file":"searchNotebookHelpers.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { Range } from '../../../../../editor/common/core/range.js';\nimport { FindMatch, IReadonlyTextBuffer } from '../../../../../editor/common/model.js';\nimport { IFileMatch, ISearchRange, ITextSearchMatch, QueryType } from '../../../../services/search/common/search.js';\nimport { ICellViewModel } from '../../../notebook/browser/notebookBrowser.js';\nimport { CellKind } from '../../../notebook/common/notebookCommon.js';\nimport { contentMatchesToTextSearchMatches, webviewMatchesToTextSearchMatches } from '../../browser/notebookSearch/searchNotebookHelpers.js';\nimport { CellFindMatchModel } from '../../../notebook/browser/contrib/find/findModel.js';\nimport { SearchModelImpl } from '../../browser/searchTreeModel/searchModel.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { TestInstantiationService } from '../../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { createFileUriFromPathFromRoot, stubModelService, stubNotebookEditorService } from './searchTestCommon.js';\nimport { IModelService } from '../../../../../editor/common/services/model.js';\nimport { INotebookEditorService } from '../../../notebook/browser/services/notebookEditorService.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { CellMatch, NotebookCompatibleFileMatch, textSearchMatchesToNotebookMatches } from '../../browser/notebookSearch/notebookSearchModel.js';\nimport { FolderMatchImpl } from '../../browser/searchTreeModel/folderMatch.js';\nimport { INotebookFileInstanceMatch } from '../../browser/notebookSearch/notebookSearchModelBase.js';\n\nsuite('searchNotebookHelpers', () => {\n\tlet instantiationService: TestInstantiationService;\n\tlet mdCellFindMatch: CellFindMatchModel;\n\tlet codeCellFindMatch: CellFindMatchModel;\n\tlet mdInputCell: ICellViewModel;\n\tlet codeCell: ICellViewModel;\n\n\tlet markdownContentResults: ITextSearchMatch[];\n\tlet codeContentResults: ITextSearchMatch[];\n\tlet codeWebviewResults: ITextSearchMatch[];\n\tconst store = ensureNoDisposablesAreLeakedInTestSuite();\n\tlet counter: number = 0;\n\tsetup(() => {\n\n\t\tinstantiationService = new TestInstantiationService();\n\t\tstore.add(instantiationService);\n\t\tconst modelService = stubModelService(instantiationService, (e) => store.add(e));\n\t\tconst notebookEditorService = stubNotebookEditorService(instantiationService, (e) => store.add(e));\n\t\tinstantiationService.stub(IModelService, modelService);\n\t\tinstantiationService.stub(INotebookEditorService, notebookEditorService);\n\t\tmdInputCell = {\n\t\t\tid: 'mdCell',\n\t\t\tcellKind: CellKind.Markup, textBuffer: <IReadonlyTextBuffer>{\n\t\t\t\tgetLineContent(lineNumber: number): string {\n\t\t\t\t\tif (lineNumber === 1) {\n\t\t\t\t\t\treturn '# Hello World Test';\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} as ICellViewModel;\n\n\t\tconst findMatchMds = [new FindMatch(new Range(1, 15, 1, 19), ['Test'])];\n\t\tcodeCell = {\n\t\t\tid: 'codeCell',\n\t\t\tcellKind: CellKind.Code, textBuffer: <IReadonlyTextBuffer>{\n\t\t\t\tgetLineContent(lineNumber: number): string {\n\t\t\t\t\tif (lineNumber === 1) {\n\t\t\t\t\t\treturn 'print(\"test! testing!!\")';\n\t\t\t\t\t} else if (lineNumber === 2) {\n\t\t\t\t\t\treturn 'print(\"this is a Test\")';\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} as ICellViewModel;\n\t\tconst findMatchCodeCells =\n\t\t\t[new FindMatch(new Range(1, 8, 1, 12), ['test']),\n\t\t\tnew FindMatch(new Range(1, 14, 1, 18), ['test']),\n\t\t\tnew FindMatch(new Range(2, 18, 2, 22), ['Test'])\n\t\t\t];\n\n\t\tconst webviewMatches = [{\n\t\t\tindex: 0,\n\t\t\tsearchPreviewInfo: {\n\t\t\t\tline: 'test! testing!!',\n\t\t\t\trange: {\n\t\t\t\t\tstart: 1,\n\t\t\t\t\tend: 5\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tindex: 1,\n\t\t\tsearchPreviewInfo: {\n\t\t\t\tline: 'test! testing!!',\n\t\t\t\trange: {\n\t\t\t\t\tstart: 7,\n\t\t\t\t\tend: 11\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tindex: 3,\n\t\t\tsearchPreviewInfo: {\n\t\t\t\tline: 'this is a Test',\n\t\t\t\trange: {\n\t\t\t\t\tstart: 11,\n\t\t\t\t\tend: 15\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t];\n\n\n\t\tmdCellFindMatch = new CellFindMatchModel(\n\t\t\tmdInputCell,\n\t\t\t0,\n\t\t\tfindMatchMds,\n\t\t\t[],\n\t\t);\n\n\t\tcodeCellFindMatch = new CellFindMatchModel(\n\t\t\tcodeCell,\n\t\t\t5,\n\t\t\tfindMatchCodeCells,\n\t\t\twebviewMatches\n\t\t);\n\n\t});\n\n\tteardown(() => {\n\t\tinstantiationService.dispose();\n\t});\n\n\tsuite('notebookEditorMatchesToTextSearchResults', () => {\n\n\t\tfunction assertRangesEqual(actual: ISearchRange | ISearchRange[], expected: ISearchRange[]) {\n\t\t\tif (!Array.isArray(actual)) {\n\t\t\t\tactual = [actual];\n\t\t\t}\n\n\t\t\tassert.strictEqual(actual.length, expected.length);\n\t\t\tactual.forEach((r, i) => {\n\t\t\t\tconst expectedRange = expected[i];\n\t\t\t\tassert.deepStrictEqual(\n\t\t\t\t\t{ startLineNumber: r.startLineNumber, startColumn: r.startColumn, endLineNumber: r.endLineNumber, endColumn: r.endColumn },\n\t\t\t\t\t{ startLineNumber: expectedRange.startLineNumber, startColumn: expectedRange.startColumn, endLineNumber: expectedRange.endLineNumber, endColumn: expectedRange.endColumn });\n\t\t\t});\n\t\t}\n\n\t\ttest('convert CellFindMatchModel to ITextSearchMatch and check results', () => {\n\t\t\tmarkdownContentResults = contentMatchesToTextSearchMatches(mdCellFindMatch.contentMatches, mdInputCell);\n\t\t\tcodeContentResults = contentMatchesToTextSearchMatches(codeCellFindMatch.contentMatches, codeCell);\n\t\t\tcodeWebviewResults = webviewMatchesToTextSearchMatches(codeCellFindMatch.webviewMatches);\n\n\t\t\tassert.strictEqual(markdownContentResults.length, 1);\n\t\t\tassert.strictEqual(markdownContentResults[0].previewText, '# Hello World Test\\n');\n\t\t\tassertRangesEqual(markdownContentResults[0].rangeLocations.map(e => e.preview), [new Range(0, 14, 0, 18)]);\n\t\t\tassertRangesEqual(markdownContentResults[0].rangeLocations.map(e => e.source), [new Range(0, 14, 0, 18)]);\n\n\n\t\t\tassert.strictEqual(codeContentResults.length, 2);\n\t\t\tassert.strictEqual(codeContentResults[0].previewText, 'print(\"test! testing!!\")\\n');\n\t\t\tassert.strictEqual(codeContentResults[1].previewText, 'print(\"this is a Test\")\\n');\n\t\t\tassertRangesEqual(codeContentResults[0].rangeLocations.map(e => e.preview), [new Range(0, 7, 0, 11), new Range(0, 13, 0, 17)]);\n\t\t\tassertRangesEqual(codeContentResults[0].rangeLocations.map(e => e.source), [new Range(0, 7, 0, 11), new Range(0, 13, 0, 17)]);\n\n\t\t\tassert.strictEqual(codeWebviewResults.length, 3);\n\t\t\tassert.strictEqual(codeWebviewResults[0].previewText, 'test! testing!!');\n\t\t\tassert.strictEqual(codeWebviewResults[1].previewText, 'test! testing!!');\n\t\t\tassert.strictEqual(codeWebviewResults[2].previewText, 'this is a Test');\n\n\t\t\tassertRangesEqual(codeWebviewResults[0].rangeLocations.map(e => e.preview), [new Range(0, 1, 0, 5)]);\n\t\t\tassertRangesEqual(codeWebviewResults[1].rangeLocations.map(e => e.preview), [new Range(0, 7, 0, 11)]);\n\t\t\tassertRangesEqual(codeWebviewResults[2].rangeLocations.map(e => e.preview), [new Range(0, 11, 0, 15)]);\n\t\t\tassertRangesEqual(codeWebviewResults[0].rangeLocations.map(e => e.source), [new Range(0, 1, 0, 5)]);\n\t\t\tassertRangesEqual(codeWebviewResults[1].rangeLocations.map(e => e.source), [new Range(0, 7, 0, 11)]);\n\t\t\tassertRangesEqual(codeWebviewResults[2].rangeLocations.map(e => e.source), [new Range(0, 11, 0, 15)]);\n\t\t});\n\n\t\ttest('convert ITextSearchMatch to MatchInNotebook', () => {\n\t\t\tconst mdCellMatch = new CellMatch(aFileMatch(), mdInputCell, 0);\n\t\t\tconst markdownCellContentMatchObjs = textSearchMatchesToNotebookMatches(markdownContentResults, mdCellMatch);\n\n\t\t\tconst codeCellMatch = new CellMatch(aFileMatch(), codeCell, 0);\n\t\t\tconst codeCellContentMatchObjs = textSearchMatchesToNotebookMatches(codeContentResults, codeCellMatch);\n\t\t\tconst codeWebviewContentMatchObjs = textSearchMatchesToNotebookMatches(codeWebviewResults, codeCellMatch);\n\n\n\t\t\tassert.strictEqual(markdownCellContentMatchObjs[0].cell?.id, mdCellMatch.id);\n\t\t\tassertRangesEqual(markdownCellContentMatchObjs[0].range(), [new Range(1, 15, 1, 19)]);\n\n\t\t\tassert.strictEqual(codeCellContentMatchObjs[0].cell?.id, codeCellMatch.id);\n\t\t\tassert.strictEqual(codeCellContentMatchObjs[1].cell?.id, codeCellMatch.id);\n\t\t\tassertRangesEqual(codeCellContentMatchObjs[0].range(), [new Range(1, 8, 1, 12)]);\n\t\t\tassertRangesEqual(codeCellContentMatchObjs[1].range(), [new Range(1, 14, 1, 18)]);\n\t\t\tassertRangesEqual(codeCellContentMatchObjs[2].range(), [new Range(2, 18, 2, 22)]);\n\n\t\t\tassert.strictEqual(codeWebviewContentMatchObjs[0].cell?.id, codeCellMatch.id);\n\t\t\tassert.strictEqual(codeWebviewContentMatchObjs[1].cell?.id, codeCellMatch.id);\n\t\t\tassert.strictEqual(codeWebviewContentMatchObjs[2].cell?.id, codeCellMatch.id);\n\t\t\tassertRangesEqual(codeWebviewContentMatchObjs[0].range(), [new Range(1, 2, 1, 6)]);\n\t\t\tassertRangesEqual(codeWebviewContentMatchObjs[1].range(), [new Range(1, 8, 1, 12)]);\n\t\t\tassertRangesEqual(codeWebviewContentMatchObjs[2].range(), [new Range(1, 12, 1, 16)]);\n\n\t\t});\n\n\n\t\tfunction aFileMatch(): INotebookFileInstanceMatch {\n\t\t\tconst rawMatch: IFileMatch = {\n\t\t\t\tresource: URI.file('somepath' + ++counter),\n\t\t\t\tresults: []\n\t\t\t};\n\n\t\t\tconst searchModel = instantiationService.createInstance(SearchModelImpl);\n\t\t\tstore.add(searchModel);\n\t\t\tconst folderMatch = instantiationService.createInstance(FolderMatchImpl, URI.file('somepath'), '', 0, {\n\t\t\t\ttype: QueryType.Text, folderQueries: [{ folder: createFileUriFromPathFromRoot() }], contentPattern: {\n\t\t\t\t\tpattern: ''\n\t\t\t\t}\n\t\t\t}, searchModel.searchResult.plainTextSearchResult, searchModel.searchResult, null);\n\t\t\tconst fileMatch = instantiationService.createInstance(NotebookCompatibleFileMatch, {\n\t\t\t\tpattern: ''\n\t\t\t}, undefined, undefined, folderMatch, rawMatch, null, '');\n\t\t\tfileMatch.createMatches();\n\t\t\tstore.add(folderMatch);\n\t\t\tstore.add(fileMatch);\n\n\t\t\treturn fileMatch;\n\t\t}\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { Range } from '../../../../../editor/common/core/range.js';\nimport { FindMatch, IReadonlyTextBuffer } from '../../../../../editor/common/model.js';\nimport { IFileMatch, ISearchRange, ITextSearchMatch, QueryType } from '../../../../services/search/common/search.js';\nimport { ICellViewModel } from '../../../notebook/browser/notebookBrowser.js';\nimport { CellKind } from '../../../notebook/common/notebookCommon.js';\nimport { contentMatchesToTextSearchMatches, webviewMatchesToTextSearchMatches } from '../../browser/notebookSearch/searchNotebookHelpers.js';\nimport { CellFindMatchModel } from '../../../notebook/browser/contrib/find/findModel.js';\nimport { SearchModelImpl } from '../../browser/searchTreeModel/searchModel.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { TestInstantiationService } from '../../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { createFileUriFromPathFromRoot, stubModelService, stubNotebookEditorService } from './searchTestCommon.js';\nimport { IModelService } from '../../../../../editor/common/services/model.js';\nimport { INotebookEditorService } from '../../../notebook/browser/services/notebookEditorService.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { CellMatch, NotebookCompatibleFileMatch, textSearchMatchesToNotebookMatches } from '../../browser/notebookSearch/notebookSearchModel.js';\nimport { FolderMatchImpl } from '../../browser/searchTreeModel/folderMatch.js';\nimport { INotebookFileInstanceMatch } from '../../browser/notebookSearch/notebookSearchModelBase.js';\n\nsuite('searchNotebookHelpers', () => {\n\tlet instantiationService: TestInstantiationService;\n\tlet mdCellFindMatch: CellFindMatchModel;\n\tlet codeCellFindMatch: CellFindMatchModel;\n\tlet mdInputCell: ICellViewModel;\n\tlet codeCell: ICellViewModel;\n\n\tlet markdownContentResults: ITextSearchMatch[];\n\tlet codeContentResults: ITextSearchMatch[];\n\tlet codeWebviewResults: ITextSearchMatch[];\n\tconst store = ensureNoDisposablesAreLeakedInTestSuite();\n\tlet counter: number = 0;\n\tsetup(() => {\n\n\t\tinstantiationService = new TestInstantiationService();\n\t\tstore.add(instantiationService);\n\t\tconst modelService = stubModelService(instantiationService, (e) => store.add(e));\n\t\tconst notebookEditorService = stubNotebookEditorService(instantiationService, (e) => store.add(e));\n\t\tinstantiationService.stub(IModelService, modelService);\n\t\tinstantiationService.stub(INotebookEditorService, notebookEditorService);\n\t\tmdInputCell = {\n\t\t\tid: 'mdCell',\n\t\t\tcellKind: CellKind.Markup, textBuffer: <IReadonlyTextBuffer>{\n\t\t\t\tgetLineContent(lineNumber: number): string {\n\t\t\t\t\tif (lineNumber === 1) {\n\t\t\t\t\t\treturn '# Hello World Test';\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} as ICellViewModel;\n\n\t\tconst findMatchMds = [new FindMatch(new Range(1, 15, 1, 19), ['Test'])];\n\t\tcodeCell = {\n\t\t\tid: 'codeCell',\n\t\t\tcellKind: CellKind.Code, textBuffer: <IReadonlyTextBuffer>{\n\t\t\t\tgetLineContent(lineNumber: number): string {\n\t\t\t\t\tif (lineNumber === 1) {\n\t\t\t\t\t\treturn 'print(\"test! testing!!\")';\n\t\t\t\t\t} else if (lineNumber === 2) {\n\t\t\t\t\t\treturn 'print(\"this is a Test\")';\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} as ICellViewModel;\n\t\tconst findMatchCodeCells =\n\t\t\t[new FindMatch(new Range(1, 8, 1, 12), ['test']),\n\t\t\tnew FindMatch(new Range(1, 14, 1, 18), ['test']),\n\t\t\tnew FindMatch(new Range(2, 18, 2, 22), ['Test'])\n\t\t\t];\n\n\t\tconst webviewMatches = [{\n\t\t\tindex: 0,\n\t\t\tsearchPreviewInfo: {\n\t\t\t\tline: 'test! testing!!',\n\t\t\t\trange: {\n\t\t\t\t\tstart: 1,\n\t\t\t\t\tend: 5\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tindex: 1,\n\t\t\tsearchPreviewInfo: {\n\t\t\t\tline: 'test! testing!!',\n\t\t\t\trange: {\n\t\t\t\t\tstart: 7,\n\t\t\t\t\tend: 11\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tindex: 3,\n\t\t\tsearchPreviewInfo: {\n\t\t\t\tline: 'this is a Test',\n\t\t\t\trange: {\n\t\t\t\t\tstart: 11,\n\t\t\t\t\tend: 15\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t];\n\n\n\t\tmdCellFindMatch = new CellFindMatchModel(\n\t\t\tmdInputCell,\n\t\t\t0,\n\t\t\tfindMatchMds,\n\t\t\t[],\n\t\t);\n\n\t\tcodeCellFindMatch = new CellFindMatchModel(\n\t\t\tcodeCell,\n\t\t\t5,\n\t\t\tfindMatchCodeCells,\n\t\t\twebviewMatches\n\t\t);\n\n\t});\n\n\tteardown(() => {\n\t\tinstantiationService.dispose();\n\t});\n\n\tsuite('notebookEditorMatchesToTextSearchResults', () => {\n\n\t\tfunction assertRangesEqual(actual: ISearchRange | ISearchRange[], expected: ISearchRange[]) {\n\t\t\tif (!Array.isArray(actual)) {\n\t\t\t\tactual = [actual];\n\t\t\t}\n\n\t\t\tassert.strictEqual(actual.length, expected.length);\n\t\t\tactual.forEach((r, i) => {\n\t\t\t\tconst expectedRange = expected[i];\n\t\t\t\tassert.deepStrictEqual(\n\t\t\t\t\t{ startLineNumber: r.startLineNumber, startColumn: r.startColumn, endLineNumber: r.endLineNumber, endColumn: r.endColumn },\n\t\t\t\t\t{ startLineNumber: expectedRange.startLineNumber, startColumn: expectedRange.startColumn, endLineNumber: expectedRange.endLineNumber, endColumn: expectedRange.endColumn });\n\t\t\t});\n\t\t}\n\n\t\ttest('convert CellFindMatchModel to ITextSearchMatch and check results', () => {\n\t\t\tmarkdownContentResults = contentMatchesToTextSearchMatches(mdCellFindMatch.contentMatches, mdInputCell);\n\t\t\tcodeContentResults = contentMatchesToTextSearchMatches(codeCellFindMatch.contentMatches, codeCell);\n\t\t\tcodeWebviewResults = webviewMatchesToTextSearchMatches(codeCellFindMatch.webviewMatches);\n\n\t\t\tassert.strictEqual(markdownContentResults.length, 1);\n\t\t\tassert.strictEqual(markdownContentResults[0].previewText, '# Hello World Test\\n');\n\t\t\tassertRangesEqual(markdownContentResults[0].rangeLocations.map(e => e.preview), [new Range(0, 14, 0, 18)]);\n\t\t\tassertRangesEqual(markdownContentResults[0].rangeLocations.map(e => e.source), [new Range(0, 14, 0, 18)]);\n\n\n\t\t\tassert.strictEqual(codeContentResults.length, 2);\n\t\t\tassert.strictEqual(codeContentResults[0].previewText, 'print(\"test! testing!!\")\\n');\n\t\t\tassert.strictEqual(codeContentResults[1].previewText, 'print(\"this is a Test\")\\n');\n\t\t\tassertRangesEqual(codeContentResults[0].rangeLocations.map(e => e.preview), [new Range(0, 7, 0, 11), new Range(0, 13, 0, 17)]);\n\t\t\tassertRangesEqual(codeContentResults[0].rangeLocations.map(e => e.source), [new Range(0, 7, 0, 11), new Range(0, 13, 0, 17)]);\n\n\t\t\tassert.strictEqual(codeWebviewResults.length, 3);\n\t\t\tassert.strictEqual(codeWebviewResults[0].previewText, 'test! testing!!');\n\t\t\tassert.strictEqual(codeWebviewResults[1].previewText, 'test! testing!!');\n\t\t\tassert.strictEqual(codeWebviewResults[2].previewText, 'this is a Test');\n\n\t\t\tassertRangesEqual(codeWebviewResults[0].rangeLocations.map(e => e.preview), [new Range(0, 1, 0, 5)]);\n\t\t\tassertRangesEqual(codeWebviewResults[1].rangeLocations.map(e => e.preview), [new Range(0, 7, 0, 11)]);\n\t\t\tassertRangesEqual(codeWebviewResults[2].rangeLocations.map(e => e.preview), [new Range(0, 11, 0, 15)]);\n\t\t\tassertRangesEqual(codeWebviewResults[0].rangeLocations.map(e => e.source), [new Range(0, 1, 0, 5)]);\n\t\t\tassertRangesEqual(codeWebviewResults[1].rangeLocations.map(e => e.source), [new Range(0, 7, 0, 11)]);\n\t\t\tassertRangesEqual(codeWebviewResults[2].rangeLocations.map(e => e.source), [new Range(0, 11, 0, 15)]);\n\t\t});\n\n\t\ttest('convert ITextSearchMatch to MatchInNotebook', () => {\n\t\t\tconst mdCellMatch = new CellMatch(aFileMatch(), mdInputCell, 0);\n\t\t\tconst markdownCellContentMatchObjs = textSearchMatchesToNotebookMatches(markdownContentResults, mdCellMatch);\n\n\t\t\tconst codeCellMatch = new CellMatch(aFileMatch(), codeCell, 0);\n\t\t\tconst codeCellContentMatchObjs = textSearchMatchesToNotebookMatches(codeContentResults, codeCellMatch);\n\t\t\tconst codeWebviewContentMatchObjs = textSearchMatchesToNotebookMatches(codeWebviewResults, codeCellMatch);\n\n\n\t\t\tassert.strictEqual(markdownCellContentMatchObjs[0].cell?.id, mdCellMatch.id);\n\t\t\tassertRangesEqual(markdownCellContentMatchObjs[0].range(), [new Range(1, 15, 1, 19)]);\n\n\t\t\tassert.strictEqual(codeCellContentMatchObjs[0].cell?.id, codeCellMatch.id);\n\t\t\tassert.strictEqual(codeCellContentMatchObjs[1].cell?.id, codeCellMatch.id);\n\t\t\tassertRangesEqual(codeCellContentMatchObjs[0].range(), [new Range(1, 8, 1, 12)]);\n\t\t\tassertRangesEqual(codeCellContentMatchObjs[1].range(), [new Range(1, 14, 1, 18)]);\n\t\t\tassertRangesEqual(codeCellContentMatchObjs[2].range(), [new Range(2, 18, 2, 22)]);\n\n\t\t\tassert.strictEqual(codeWebviewContentMatchObjs[0].cell?.id, codeCellMatch.id);\n\t\t\tassert.strictEqual(codeWebviewContentMatchObjs[1].cell?.id, codeCellMatch.id);\n\t\t\tassert.strictEqual(codeWebviewContentMatchObjs[2].cell?.id, codeCellMatch.id);\n\t\t\tassertRangesEqual(codeWebviewContentMatchObjs[0].range(), [new Range(1, 2, 1, 6)]);\n\t\t\tassertRangesEqual(codeWebviewContentMatchObjs[1].range(), [new Range(1, 8, 1, 12)]);\n\t\t\tassertRangesEqual(codeWebviewContentMatchObjs[2].range(), [new Range(1, 12, 1, 16)]);\n\n\t\t});\n\n\n\t\tfunction aFileMatch(): INotebookFileInstanceMatch {\n\t\t\tconst rawMatch: IFileMatch = {\n\t\t\t\tresource: URI.file('somepath' + ++counter),\n\t\t\t\tresults: []\n\t\t\t};\n\n\t\t\tconst searchModel = instantiationService.createInstance(SearchModelImpl);\n\t\t\tstore.add(searchModel);\n\t\t\tconst folderMatch = instantiationService.createInstance(FolderMatchImpl, URI.file('somepath'), '', 0, {\n\t\t\t\ttype: QueryType.Text, folderQueries: [{ folder: createFileUriFromPathFromRoot() }], contentPattern: {\n\t\t\t\t\tpattern: ''\n\t\t\t\t}\n\t\t\t}, searchModel.searchResult.plainTextSearchResult, searchModel.searchResult, null);\n\t\t\tconst fileMatch = instantiationService.createInstance(NotebookCompatibleFileMatch, {\n\t\t\t\tpattern: ''\n\t\t\t}, undefined, undefined, folderMatch, rawMatch, null, '');\n\t\t\tfileMatch.createMatches();\n\t\t\tstore.add(folderMatch);\n\t\t\tstore.add(fileMatch);\n\n\t\t\treturn fileMatch;\n\t\t}\n\t});\n});\n"]}