{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/inlineChat/browser/inlineChatAccessibleView.ts","vs/workbench/contrib/inlineChat/browser/inlineChatAccessibleView.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,EAAE,oBAAoB,EAAE,MAAM,2BAA2B,CAAC;AACjE,OAAO,EAAE,uBAAuB,EAAE,gCAAgC,EAAE,MAAM,yBAAyB,CAAC;AACpG,OAAO,EAAE,kBAAkB,EAAE,MAAM,0DAA0D,CAAC;AAC9F,OAAO,EAAE,cAAc,EAAE,MAAM,sDAAsD,CAAC;AACtF,OAAO,EAAgD,yBAAyB,EAAE,MAAM,8DAA8D,CAAC;AAGvJ,OAAO,EAAE,cAAc,EAAE,MAAM,wCAAwC,CAAC;AACxE,OAAO,EAAE,iBAAiB,EAAE,MAAM,8CAA8C,CAAC;AAGjF,MAAM,OAAO,wBAAwB;IAArC;QACU,aAAQ,GAAG,GAAG,CAAC;QACf,SAAI,GAAG,YAAY,CAAC;QACpB,SAAI,GAAG,cAAc,CAAC,EAAE,CAAC,uBAAuB,EAAE,gCAAgC,CAAC,CAAC;QACpF,SAAI,wCAA2B;IAwBzC,CAAC;IAvBA,WAAW,CAAC,QAA0B;QACrC,MAAM,iBAAiB,GAAG,QAAQ,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;QAE3D,MAAM,MAAM,GAAG,CAAC,iBAAiB,CAAC,mBAAmB,EAAE,IAAI,iBAAiB,CAAC,oBAAoB,EAAE,CAAC,CAAC;QACrG,IAAI,CAAC,MAAM,EAAE,CAAC;YACb,OAAO;QACR,CAAC;QACD,MAAM,UAAU,GAAG,oBAAoB,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACpD,IAAI,CAAC,UAAU,EAAE,CAAC;YACjB,OAAO;QACR,CAAC;QACD,MAAM,eAAe,GAAG,UAAU,CAAC,MAAM,CAAC,eAAe,CAAC;QAC1D,IAAI,CAAC,eAAe,EAAE,CAAC;YACtB,OAAO;QACR,CAAC;QACD,OAAO,IAAI,yBAAyB,yDAEnC,EAAE,IAAI,sCAAyB,EAAE,EACjC,GAAG,EAAE,CAAC,iBAAiB,CAAC,IAAI,cAAc,CAAC,eAAe,CAAC,EAAE,EAAE,uBAAuB,EAAE,IAAI,EAAE,CAAC,EAC/F,GAAG,EAAE,CAAC,UAAU,CAAC,KAAK,EAAE,wFAExB,CAAC;IACH,CAAC;CACD","file":"inlineChatAccessibleView.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { InlineChatController } from './inlineChatController.js';\nimport { CTX_INLINE_CHAT_FOCUSED, CTX_INLINE_CHAT_RESPONSE_FOCUSED } from '../common/inlineChat.js';\nimport { ICodeEditorService } from '../../../../editor/browser/services/codeEditorService.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { AccessibleViewProviderId, AccessibleViewType, AccessibleContentProvider } from '../../../../platform/accessibility/browser/accessibleView.js';\nimport { ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IAccessibleViewImplementation } from '../../../../platform/accessibility/browser/accessibleViewRegistry.js';\nimport { MarkdownString } from '../../../../base/common/htmlContent.js';\nimport { renderAsPlaintext } from '../../../../base/browser/markdownRenderer.js';\nimport { AccessibilityVerbositySettingId } from '../../accessibility/browser/accessibilityConfiguration.js';\n\nexport class InlineChatAccessibleView implements IAccessibleViewImplementation {\n\treadonly priority = 100;\n\treadonly name = 'inlineChat';\n\treadonly when = ContextKeyExpr.or(CTX_INLINE_CHAT_FOCUSED, CTX_INLINE_CHAT_RESPONSE_FOCUSED);\n\treadonly type = AccessibleViewType.View;\n\tgetProvider(accessor: ServicesAccessor) {\n\t\tconst codeEditorService = accessor.get(ICodeEditorService);\n\n\t\tconst editor = (codeEditorService.getActiveCodeEditor() || codeEditorService.getFocusedCodeEditor());\n\t\tif (!editor) {\n\t\t\treturn;\n\t\t}\n\t\tconst controller = InlineChatController.get(editor);\n\t\tif (!controller) {\n\t\t\treturn;\n\t\t}\n\t\tconst responseContent = controller.widget.responseContent;\n\t\tif (!responseContent) {\n\t\t\treturn;\n\t\t}\n\t\treturn new AccessibleContentProvider(\n\t\t\tAccessibleViewProviderId.InlineChat,\n\t\t\t{ type: AccessibleViewType.View },\n\t\t\t() => renderAsPlaintext(new MarkdownString(responseContent), { includeCodeBlocksFences: true }),\n\t\t\t() => controller.focus(),\n\t\t\tAccessibilityVerbositySettingId.InlineChat\n\t\t);\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { InlineChatController } from './inlineChatController.js';\nimport { CTX_INLINE_CHAT_FOCUSED, CTX_INLINE_CHAT_RESPONSE_FOCUSED } from '../common/inlineChat.js';\nimport { ICodeEditorService } from '../../../../editor/browser/services/codeEditorService.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { AccessibleViewProviderId, AccessibleViewType, AccessibleContentProvider } from '../../../../platform/accessibility/browser/accessibleView.js';\nimport { ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IAccessibleViewImplementation } from '../../../../platform/accessibility/browser/accessibleViewRegistry.js';\nimport { MarkdownString } from '../../../../base/common/htmlContent.js';\nimport { renderAsPlaintext } from '../../../../base/browser/markdownRenderer.js';\nimport { AccessibilityVerbositySettingId } from '../../accessibility/browser/accessibilityConfiguration.js';\n\nexport class InlineChatAccessibleView implements IAccessibleViewImplementation {\n\treadonly priority = 100;\n\treadonly name = 'inlineChat';\n\treadonly when = ContextKeyExpr.or(CTX_INLINE_CHAT_FOCUSED, CTX_INLINE_CHAT_RESPONSE_FOCUSED);\n\treadonly type = AccessibleViewType.View;\n\tgetProvider(accessor: ServicesAccessor) {\n\t\tconst codeEditorService = accessor.get(ICodeEditorService);\n\n\t\tconst editor = (codeEditorService.getActiveCodeEditor() || codeEditorService.getFocusedCodeEditor());\n\t\tif (!editor) {\n\t\t\treturn;\n\t\t}\n\t\tconst controller = InlineChatController.get(editor);\n\t\tif (!controller) {\n\t\t\treturn;\n\t\t}\n\t\tconst responseContent = controller.widget.responseContent;\n\t\tif (!responseContent) {\n\t\t\treturn;\n\t\t}\n\t\treturn new AccessibleContentProvider(\n\t\t\tAccessibleViewProviderId.InlineChat,\n\t\t\t{ type: AccessibleViewType.View },\n\t\t\t() => renderAsPlaintext(new MarkdownString(responseContent), { includeCodeBlocksFences: true }),\n\t\t\t() => controller.focus(),\n\t\t\tAccessibilityVerbositySettingId.InlineChat\n\t\t);\n\t}\n}\n"]}