{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/chat/common/promptSyntax/config/promptFileLocations.ts","vs/workbench/contrib/chat/common/promptSyntax/config/promptFileLocations.ts"],"names":[],"mappings":"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","file":"promptFileLocations.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { URI } from '../../../../../../base/common/uri.js';\nimport { basename, dirname } from '../../../../../../base/common/path.js';\nimport { PromptsType } from '../promptTypes.js';\n\n/**\n * File extension for the reusable prompt files.\n */\nexport const PROMPT_FILE_EXTENSION = '.prompt.md';\n\n/**\n * File extension for the reusable instruction files.\n */\nexport const INSTRUCTION_FILE_EXTENSION = '.instructions.md';\n\n/**\n * File extension for the modes files.\n */\nexport const LEGACY_MODE_FILE_EXTENSION = '.chatmode.md';\n\n/**\n * File extension for the agent files.\n */\nexport const AGENT_FILE_EXTENSION = '.agent.md';\n\n/**\n * Copilot custom instructions file name.\n */\nexport const COPILOT_CUSTOM_INSTRUCTIONS_FILENAME = 'copilot-instructions.md';\n\n\n/**\n * Default reusable prompt files source folder.\n */\nexport const PROMPT_DEFAULT_SOURCE_FOLDER = '.github/prompts';\n\n/**\n * Default reusable instructions files source folder.\n */\nexport const INSTRUCTIONS_DEFAULT_SOURCE_FOLDER = '.github/instructions';\n\n/**\n * Default modes source folder.\n */\nexport const LEGACY_MODE_DEFAULT_SOURCE_FOLDER = '.github/chatmodes';\n\n/**\n * Agents folder.\n */\nexport const AGENTS_SOURCE_FOLDER = '.github/agents';\n\n/**\n * Helper function to check if a file is directly in the .github/agents/ folder (not in subfolders).\n */\nfunction isInAgentsFolder(fileUri: URI): boolean {\n\tconst dir = dirname(fileUri.path);\n\treturn dir.endsWith('/' + AGENTS_SOURCE_FOLDER) || dir === AGENTS_SOURCE_FOLDER;\n}\n\n/**\n * Gets the prompt file type from the provided path.\n */\nexport function getPromptFileType(fileUri: URI): PromptsType | undefined {\n\tconst filename = basename(fileUri.path);\n\n\tif (filename.endsWith(PROMPT_FILE_EXTENSION)) {\n\t\treturn PromptsType.prompt;\n\t}\n\n\tif (filename.endsWith(INSTRUCTION_FILE_EXTENSION) || (filename === COPILOT_CUSTOM_INSTRUCTIONS_FILENAME)) {\n\t\treturn PromptsType.instructions;\n\t}\n\n\tif (filename.endsWith(LEGACY_MODE_FILE_EXTENSION) || filename.endsWith(AGENT_FILE_EXTENSION)) {\n\t\treturn PromptsType.agent;\n\t}\n\n\t// Check if it's a .md file in the .github/agents/ folder\n\tif (filename.endsWith('.md') && isInAgentsFolder(fileUri)) {\n\t\treturn PromptsType.agent;\n\t}\n\n\treturn undefined;\n}\n\n/**\n * Check if provided URI points to a file that with prompt file extension.\n */\nexport function isPromptOrInstructionsFile(fileUri: URI): boolean {\n\treturn getPromptFileType(fileUri) !== undefined;\n}\n\nexport function getPromptFileExtension(type: PromptsType): string {\n\tswitch (type) {\n\t\tcase PromptsType.instructions:\n\t\t\treturn INSTRUCTION_FILE_EXTENSION;\n\t\tcase PromptsType.prompt:\n\t\t\treturn PROMPT_FILE_EXTENSION;\n\t\tcase PromptsType.agent:\n\t\t\treturn AGENT_FILE_EXTENSION;\n\t\tdefault:\n\t\t\tthrow new Error('Unknown prompt type');\n\t}\n}\n\nexport function getPromptFileDefaultLocation(type: PromptsType): string {\n\tswitch (type) {\n\t\tcase PromptsType.instructions:\n\t\t\treturn INSTRUCTIONS_DEFAULT_SOURCE_FOLDER;\n\t\tcase PromptsType.prompt:\n\t\t\treturn PROMPT_DEFAULT_SOURCE_FOLDER;\n\t\tcase PromptsType.agent:\n\t\t\treturn AGENTS_SOURCE_FOLDER;\n\t\tdefault:\n\t\t\tthrow new Error('Unknown prompt type');\n\t}\n}\n\n\n/**\n * Gets clean prompt name without file extension.\n */\nexport function getCleanPromptName(fileUri: URI): string {\n\tconst fileName = basename(fileUri.path);\n\n\tconst extensions = [\n\t\tPROMPT_FILE_EXTENSION,\n\t\tINSTRUCTION_FILE_EXTENSION,\n\t\tLEGACY_MODE_FILE_EXTENSION,\n\t\tAGENT_FILE_EXTENSION,\n\t];\n\n\tfor (const ext of extensions) {\n\t\tif (fileName.endsWith(ext)) {\n\t\t\treturn basename(fileUri.path, ext);\n\t\t}\n\t}\n\n\tif (fileName === COPILOT_CUSTOM_INSTRUCTIONS_FILENAME) {\n\t\treturn basename(fileUri.path, '.md');\n\t}\n\n\t// For .md files in .github/agents/ folder, treat them as agent files\n\tif (fileName.endsWith('.md') && isInAgentsFolder(fileUri)) {\n\t\treturn basename(fileUri.path, '.md');\n\t}\n\n\t// because we now rely on the `prompt` language ID that can be explicitly\n\t// set for any document in the editor, any file can be a \"prompt\" file, so\n\t// to account for that, we return the full file name including the file\n\t// extension for all other cases\n\treturn basename(fileUri.path);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { URI } from '../../../../../../base/common/uri.js';\nimport { basename, dirname } from '../../../../../../base/common/path.js';\nimport { PromptsType } from '../promptTypes.js';\n\n/**\n * File extension for the reusable prompt files.\n */\nexport const PROMPT_FILE_EXTENSION = '.prompt.md';\n\n/**\n * File extension for the reusable instruction files.\n */\nexport const INSTRUCTION_FILE_EXTENSION = '.instructions.md';\n\n/**\n * File extension for the modes files.\n */\nexport const LEGACY_MODE_FILE_EXTENSION = '.chatmode.md';\n\n/**\n * File extension for the agent files.\n */\nexport const AGENT_FILE_EXTENSION = '.agent.md';\n\n/**\n * Copilot custom instructions file name.\n */\nexport const COPILOT_CUSTOM_INSTRUCTIONS_FILENAME = 'copilot-instructions.md';\n\n\n/**\n * Default reusable prompt files source folder.\n */\nexport const PROMPT_DEFAULT_SOURCE_FOLDER = '.github/prompts';\n\n/**\n * Default reusable instructions files source folder.\n */\nexport const INSTRUCTIONS_DEFAULT_SOURCE_FOLDER = '.github/instructions';\n\n/**\n * Default modes source folder.\n */\nexport const LEGACY_MODE_DEFAULT_SOURCE_FOLDER = '.github/chatmodes';\n\n/**\n * Agents folder.\n */\nexport const AGENTS_SOURCE_FOLDER = '.github/agents';\n\n/**\n * Helper function to check if a file is directly in the .github/agents/ folder (not in subfolders).\n */\nfunction isInAgentsFolder(fileUri: URI): boolean {\n\tconst dir = dirname(fileUri.path);\n\treturn dir.endsWith('/' + AGENTS_SOURCE_FOLDER) || dir === AGENTS_SOURCE_FOLDER;\n}\n\n/**\n * Gets the prompt file type from the provided path.\n */\nexport function getPromptFileType(fileUri: URI): PromptsType | undefined {\n\tconst filename = basename(fileUri.path);\n\n\tif (filename.endsWith(PROMPT_FILE_EXTENSION)) {\n\t\treturn PromptsType.prompt;\n\t}\n\n\tif (filename.endsWith(INSTRUCTION_FILE_EXTENSION) || (filename === COPILOT_CUSTOM_INSTRUCTIONS_FILENAME)) {\n\t\treturn PromptsType.instructions;\n\t}\n\n\tif (filename.endsWith(LEGACY_MODE_FILE_EXTENSION) || filename.endsWith(AGENT_FILE_EXTENSION)) {\n\t\treturn PromptsType.agent;\n\t}\n\n\t// Check if it's a .md file in the .github/agents/ folder\n\tif (filename.endsWith('.md') && isInAgentsFolder(fileUri)) {\n\t\treturn PromptsType.agent;\n\t}\n\n\treturn undefined;\n}\n\n/**\n * Check if provided URI points to a file that with prompt file extension.\n */\nexport function isPromptOrInstructionsFile(fileUri: URI): boolean {\n\treturn getPromptFileType(fileUri) !== undefined;\n}\n\nexport function getPromptFileExtension(type: PromptsType): string {\n\tswitch (type) {\n\t\tcase PromptsType.instructions:\n\t\t\treturn INSTRUCTION_FILE_EXTENSION;\n\t\tcase PromptsType.prompt:\n\t\t\treturn PROMPT_FILE_EXTENSION;\n\t\tcase PromptsType.agent:\n\t\t\treturn AGENT_FILE_EXTENSION;\n\t\tdefault:\n\t\t\tthrow new Error('Unknown prompt type');\n\t}\n}\n\nexport function getPromptFileDefaultLocation(type: PromptsType): string {\n\tswitch (type) {\n\t\tcase PromptsType.instructions:\n\t\t\treturn INSTRUCTIONS_DEFAULT_SOURCE_FOLDER;\n\t\tcase PromptsType.prompt:\n\t\t\treturn PROMPT_DEFAULT_SOURCE_FOLDER;\n\t\tcase PromptsType.agent:\n\t\t\treturn AGENTS_SOURCE_FOLDER;\n\t\tdefault:\n\t\t\tthrow new Error('Unknown prompt type');\n\t}\n}\n\n\n/**\n * Gets clean prompt name without file extension.\n */\nexport function getCleanPromptName(fileUri: URI): string {\n\tconst fileName = basename(fileUri.path);\n\n\tconst extensions = [\n\t\tPROMPT_FILE_EXTENSION,\n\t\tINSTRUCTION_FILE_EXTENSION,\n\t\tLEGACY_MODE_FILE_EXTENSION,\n\t\tAGENT_FILE_EXTENSION,\n\t];\n\n\tfor (const ext of extensions) {\n\t\tif (fileName.endsWith(ext)) {\n\t\t\treturn basename(fileUri.path, ext);\n\t\t}\n\t}\n\n\tif (fileName === COPILOT_CUSTOM_INSTRUCTIONS_FILENAME) {\n\t\treturn basename(fileUri.path, '.md');\n\t}\n\n\t// For .md files in .github/agents/ folder, treat them as agent files\n\tif (fileName.endsWith('.md') && isInAgentsFolder(fileUri)) {\n\t\treturn basename(fileUri.path, '.md');\n\t}\n\n\t// because we now rely on the `prompt` language ID that can be explicitly\n\t// set for any document in the editor, any file can be a \"prompt\" file, so\n\t// to account for that, we return the full file name including the file\n\t// extension for all other cases\n\treturn basename(fileUri.path);\n}\n"]}