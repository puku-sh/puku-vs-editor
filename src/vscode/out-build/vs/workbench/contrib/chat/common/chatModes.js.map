{"version":3,"sources":["vs/workbench/contrib/chat/common/chatModes.ts"],"names":[],"mappings":"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","file":"chatModes.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { constObservable, IObservable, ISettableObservable, observableValue, transaction } from '../../../../base/common/observable.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { IOffsetRange } from '../../../../editor/common/core/ranges/offsetRange.js';\nimport { localize } from '../../../../nls.js';\nimport { IContextKey, IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { ExtensionIdentifier } from '../../../../platform/extensions/common/extensions.js';\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\nimport { IStorageService, StorageScope, StorageTarget } from '../../../../platform/storage/common/storage.js';\nimport { IChatAgentService } from './chatAgents.js';\nimport { ChatContextKeys } from './chatContextKeys.js';\nimport { ChatModeKind } from './constants.js';\nimport { IHandOff } from './promptSyntax/promptFileParser.js';\nimport { IAgentSource, ICustomAgent, IPromptsService, PromptsStorage } from './promptSyntax/service/promptsService.js';\n\nexport const IChatModeService = createDecorator<IChatModeService>('chatModeService');\nexport interface IChatModeService {\n\treadonly _serviceBrand: undefined;\n\n\t// TODO expose an observable list of modes\n\treadonly onDidChangeChatModes: Event<void>;\n\tgetModes(): { builtin: readonly IChatMode[]; custom: readonly IChatMode[] };\n\tfindModeById(id: string): IChatMode | undefined;\n\tfindModeByName(name: string): IChatMode | undefined;\n}\n\nexport class ChatModeService extends Disposable implements IChatModeService {\n\tdeclare readonly _serviceBrand: undefined;\n\n\tprivate static readonly CUSTOM_MODES_STORAGE_KEY = 'chat.customModes';\n\n\tprivate readonly hasCustomModes: IContextKey<boolean>;\n\tprivate readonly _customModeInstances = new Map<string, CustomChatMode>();\n\n\tprivate readonly _onDidChangeChatModes = new Emitter<void>();\n\tpublic readonly onDidChangeChatModes = this._onDidChangeChatModes.event;\n\n\tconstructor(\n\t\t@IPromptsService private readonly promptsService: IPromptsService,\n\t\t@IChatAgentService private readonly chatAgentService: IChatAgentService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@ILogService private readonly logService: ILogService,\n\t\t@IStorageService private readonly storageService: IStorageService\n\t) {\n\t\tsuper();\n\n\t\tthis.hasCustomModes = ChatContextKeys.Modes.hasCustomChatModes.bindTo(contextKeyService);\n\n\t\t// Load cached modes from storage first\n\t\tthis.loadCachedModes();\n\n\t\tvoid this.refreshCustomPromptModes(true);\n\t\tthis._register(this.promptsService.onDidChangeCustomAgents(() => {\n\t\t\tvoid this.refreshCustomPromptModes(true);\n\t\t}));\n\t\tthis._register(this.storageService.onWillSaveState(() => this.saveCachedModes()));\n\n\t\t// Ideally we can get rid of the setting to disable agent mode?\n\t\tlet didHaveToolsAgent = this.chatAgentService.hasToolsAgent;\n\t\tthis._register(this.chatAgentService.onDidChangeAgents(() => {\n\t\t\tif (didHaveToolsAgent !== this.chatAgentService.hasToolsAgent) {\n\t\t\t\tdidHaveToolsAgent = this.chatAgentService.hasToolsAgent;\n\t\t\t\tthis._onDidChangeChatModes.fire();\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate loadCachedModes(): void {\n\t\ttry {\n\t\t\tconst cachedCustomModes = this.storageService.getObject(ChatModeService.CUSTOM_MODES_STORAGE_KEY, StorageScope.WORKSPACE);\n\t\t\tif (cachedCustomModes) {\n\t\t\t\tthis.deserializeCachedModes(cachedCustomModes);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tthis.logService.error(error, 'Failed to load cached custom agents');\n\t\t}\n\t}\n\n\tprivate deserializeCachedModes(cachedCustomModes: any): void {\n\t\tif (!Array.isArray(cachedCustomModes)) {\n\t\t\tthis.logService.error('Invalid cached custom modes data: expected array');\n\t\t\treturn;\n\t\t}\n\n\t\tfor (const cachedMode of cachedCustomModes) {\n\t\t\tif (isCachedChatModeData(cachedMode) && cachedMode.uri) {\n\t\t\t\ttry {\n\t\t\t\t\tconst uri = URI.revive(cachedMode.uri);\n\t\t\t\t\tconst customChatMode: ICustomAgent = {\n\t\t\t\t\t\turi,\n\t\t\t\t\t\tname: cachedMode.name,\n\t\t\t\t\t\tdescription: cachedMode.description,\n\t\t\t\t\t\ttools: cachedMode.customTools,\n\t\t\t\t\t\tmodel: cachedMode.model,\n\t\t\t\t\t\targumentHint: cachedMode.argumentHint,\n\t\t\t\t\t\tagentInstructions: cachedMode.modeInstructions ?? { content: cachedMode.body ?? '', toolReferences: [] },\n\t\t\t\t\t\thandOffs: cachedMode.handOffs,\n\t\t\t\t\t\ttarget: cachedMode.target,\n\t\t\t\t\t\tsource: reviveChatModeSource(cachedMode.source) ?? { storage: PromptsStorage.local }\n\t\t\t\t\t};\n\t\t\t\t\tconst instance = new CustomChatMode(customChatMode);\n\t\t\t\t\tthis._customModeInstances.set(uri.toString(), instance);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tthis.logService.error(error, 'Failed to revive cached custom agent');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.hasCustomModes.set(this._customModeInstances.size > 0);\n\t}\n\n\tprivate saveCachedModes(): void {\n\t\ttry {\n\t\t\tconst modesToCache = Array.from(this._customModeInstances.values());\n\t\t\tthis.storageService.store(ChatModeService.CUSTOM_MODES_STORAGE_KEY, modesToCache, StorageScope.WORKSPACE, StorageTarget.MACHINE);\n\t\t} catch (error) {\n\t\t\tthis.logService.warn('Failed to save cached custom agents', error);\n\t\t}\n\t}\n\n\tprivate async refreshCustomPromptModes(fireChangeEvent?: boolean): Promise<void> {\n\t\ttry {\n\t\t\tconst customModes = await this.promptsService.getCustomAgents(CancellationToken.None);\n\n\t\t\t// Create a new set of mode instances, reusing existing ones where possible\n\t\t\tconst seenUris = new Set<string>();\n\n\t\t\tfor (const customMode of customModes) {\n\t\t\t\tconst uriString = customMode.uri.toString();\n\t\t\t\tseenUris.add(uriString);\n\n\t\t\t\tlet modeInstance = this._customModeInstances.get(uriString);\n\t\t\t\tif (modeInstance) {\n\t\t\t\t\t// Update existing instance with new data\n\t\t\t\t\tmodeInstance.updateData(customMode);\n\t\t\t\t} else {\n\t\t\t\t\t// Create new instance\n\t\t\t\t\tmodeInstance = new CustomChatMode(customMode);\n\t\t\t\t\tthis._customModeInstances.set(uriString, modeInstance);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Clean up instances for modes that no longer exist\n\t\t\tfor (const [uriString] of this._customModeInstances.entries()) {\n\t\t\t\tif (!seenUris.has(uriString)) {\n\t\t\t\t\tthis._customModeInstances.delete(uriString);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.hasCustomModes.set(this._customModeInstances.size > 0);\n\t\t} catch (error) {\n\t\t\tthis.logService.error(error, 'Failed to load custom agents');\n\t\t\tthis._customModeInstances.clear();\n\t\t\tthis.hasCustomModes.set(false);\n\t\t}\n\t\tif (fireChangeEvent) {\n\t\t\tthis._onDidChangeChatModes.fire();\n\t\t}\n\t}\n\n\tgetModes(): { builtin: readonly IChatMode[]; custom: readonly IChatMode[] } {\n\t\treturn {\n\t\t\tbuiltin: this.getBuiltinModes(),\n\t\t\tcustom: this.getCustomModes(),\n\t\t};\n\t}\n\n\tfindModeById(id: string | ChatModeKind): IChatMode | undefined {\n\t\treturn this.getBuiltinModes().find(mode => mode.id === id) ?? this._customModeInstances.get(id);\n\t}\n\n\tfindModeByName(name: string): IChatMode | undefined {\n\t\treturn this.getBuiltinModes().find(mode => mode.name.get() === name) ?? this.getCustomModes().find(mode => mode.name.get() === name);\n\t}\n\n\tprivate getBuiltinModes(): IChatMode[] {\n\t\tconst builtinModes: IChatMode[] = [\n\t\t\tChatMode.Ask,\n\t\t];\n\n\t\tif (this.chatAgentService.hasToolsAgent) {\n\t\t\tbuiltinModes.unshift(ChatMode.Agent);\n\t\t}\n\t\tbuiltinModes.push(ChatMode.Edit);\n\t\treturn builtinModes;\n\t}\n\n\tprivate getCustomModes(): IChatMode[] {\n\t\treturn this.chatAgentService.hasToolsAgent ? Array.from(this._customModeInstances.values()) : [];\n\t}\n}\n\nexport interface IChatModeData {\n\treadonly id: string;\n\treadonly name: string;\n\treadonly description?: string;\n\treadonly kind: ChatModeKind;\n\treadonly customTools?: readonly string[];\n\treadonly model?: string;\n\treadonly argumentHint?: string;\n\treadonly modeInstructions?: IChatModeInstructions;\n\treadonly body?: string; /* deprecated */\n\treadonly handOffs?: readonly IHandOff[];\n\treadonly uri?: URI;\n\treadonly source?: IChatModeSourceData;\n\treadonly target?: string;\n}\n\nexport interface IChatMode {\n\treadonly id: string;\n\treadonly name: IObservable<string>;\n\treadonly label: IObservable<string>;\n\treadonly description: IObservable<string | undefined>;\n\treadonly isBuiltin: boolean;\n\treadonly kind: ChatModeKind;\n\treadonly customTools?: IObservable<readonly string[] | undefined>;\n\treadonly handOffs?: IObservable<readonly IHandOff[] | undefined>;\n\treadonly model?: IObservable<string | undefined>;\n\treadonly argumentHint?: IObservable<string | undefined>;\n\treadonly modeInstructions?: IObservable<IChatModeInstructions>;\n\treadonly uri?: IObservable<URI>;\n\treadonly source?: IAgentSource;\n\treadonly target?: IObservable<string | undefined>;\n}\n\nexport interface IVariableReference {\n\treadonly name: string;\n\treadonly range: IOffsetRange;\n}\n\nexport interface IChatModeInstructions {\n\treadonly content: string;\n\treadonly toolReferences: readonly IVariableReference[];\n\treadonly metadata?: Record<string, boolean | string | number>;\n}\n\nfunction isCachedChatModeData(data: unknown): data is IChatModeData {\n\tif (typeof data !== 'object' || data === null) {\n\t\treturn false;\n\t}\n\n\tconst mode = data as IChatModeData;\n\treturn typeof mode.id === 'string' &&\n\t\ttypeof mode.name === 'string' &&\n\t\ttypeof mode.kind === 'string' &&\n\t\t(mode.description === undefined || typeof mode.description === 'string') &&\n\t\t(mode.customTools === undefined || Array.isArray(mode.customTools)) &&\n\t\t(mode.modeInstructions === undefined || (typeof mode.modeInstructions === 'object' && mode.modeInstructions !== null)) &&\n\t\t(mode.model === undefined || typeof mode.model === 'string') &&\n\t\t(mode.argumentHint === undefined || typeof mode.argumentHint === 'string') &&\n\t\t(mode.handOffs === undefined || Array.isArray(mode.handOffs)) &&\n\t\t(mode.uri === undefined || (typeof mode.uri === 'object' && mode.uri !== null)) &&\n\t\t(mode.source === undefined || isChatModeSourceData(mode.source)) &&\n\t\t(mode.target === undefined || typeof mode.target === 'string');\n}\n\nexport class CustomChatMode implements IChatMode {\n\tprivate readonly _nameObservable: ISettableObservable<string>;\n\tprivate readonly _descriptionObservable: ISettableObservable<string | undefined>;\n\tprivate readonly _customToolsObservable: ISettableObservable<readonly string[] | undefined>;\n\tprivate readonly _modeInstructions: ISettableObservable<IChatModeInstructions>;\n\tprivate readonly _uriObservable: ISettableObservable<URI>;\n\tprivate readonly _modelObservable: ISettableObservable<string | undefined>;\n\tprivate readonly _argumentHintObservable: ISettableObservable<string | undefined>;\n\tprivate readonly _handoffsObservable: ISettableObservable<readonly IHandOff[] | undefined>;\n\tprivate readonly _targetObservable: ISettableObservable<string | undefined>;\n\tprivate _source: IAgentSource;\n\n\tpublic readonly id: string;\n\n\tget name(): IObservable<string> {\n\t\treturn this._nameObservable;\n\t}\n\n\tget description(): IObservable<string | undefined> {\n\t\treturn this._descriptionObservable;\n\t}\n\n\tpublic get isBuiltin(): boolean {\n\t\treturn isBuiltinChatMode(this);\n\t}\n\n\tget customTools(): IObservable<readonly string[] | undefined> {\n\t\treturn this._customToolsObservable;\n\t}\n\n\tget model(): IObservable<string | undefined> {\n\t\treturn this._modelObservable;\n\t}\n\n\tget argumentHint(): IObservable<string | undefined> {\n\t\treturn this._argumentHintObservable;\n\t}\n\n\tget modeInstructions(): IObservable<IChatModeInstructions> {\n\t\treturn this._modeInstructions;\n\t}\n\n\tget uri(): IObservable<URI> {\n\t\treturn this._uriObservable;\n\t}\n\n\tget label(): IObservable<string> {\n\t\treturn this.name;\n\t}\n\n\tget handOffs(): IObservable<readonly IHandOff[] | undefined> {\n\t\treturn this._handoffsObservable;\n\t}\n\n\tget source(): IAgentSource {\n\t\treturn this._source;\n\t}\n\n\tget target(): IObservable<string | undefined> {\n\t\treturn this._targetObservable;\n\t}\n\n\tpublic readonly kind = ChatModeKind.Agent;\n\n\tconstructor(\n\t\tcustomChatMode: ICustomAgent\n\t) {\n\t\tthis.id = customChatMode.uri.toString();\n\t\tthis._nameObservable = observableValue('name', customChatMode.name);\n\t\tthis._descriptionObservable = observableValue('description', customChatMode.description);\n\t\tthis._customToolsObservable = observableValue('customTools', customChatMode.tools);\n\t\tthis._modelObservable = observableValue('model', customChatMode.model);\n\t\tthis._argumentHintObservable = observableValue('argumentHint', customChatMode.argumentHint);\n\t\tthis._handoffsObservable = observableValue('handOffs', customChatMode.handOffs);\n\t\tthis._targetObservable = observableValue('target', customChatMode.target);\n\t\tthis._modeInstructions = observableValue('_modeInstructions', customChatMode.agentInstructions);\n\t\tthis._uriObservable = observableValue('uri', customChatMode.uri);\n\t\tthis._source = customChatMode.source;\n\t}\n\n\t/**\n\t * Updates the underlying data and triggers observable changes\n\t */\n\tupdateData(newData: ICustomAgent): void {\n\t\ttransaction(tx => {\n\t\t\tthis._nameObservable.set(newData.name, tx);\n\t\t\tthis._descriptionObservable.set(newData.description, tx);\n\t\t\tthis._customToolsObservable.set(newData.tools, tx);\n\t\t\tthis._modelObservable.set(newData.model, tx);\n\t\t\tthis._argumentHintObservable.set(newData.argumentHint, tx);\n\t\t\tthis._handoffsObservable.set(newData.handOffs, tx);\n\t\t\tthis._targetObservable.set(newData.target, tx);\n\t\t\tthis._modeInstructions.set(newData.agentInstructions, tx);\n\t\t\tthis._uriObservable.set(newData.uri, tx);\n\t\t\tthis._source = newData.source;\n\t\t});\n\t}\n\n\ttoJSON(): IChatModeData {\n\t\treturn {\n\t\t\tid: this.id,\n\t\t\tname: this.name.get(),\n\t\t\tdescription: this.description.get(),\n\t\t\tkind: this.kind,\n\t\t\tcustomTools: this.customTools.get(),\n\t\t\tmodel: this.model.get(),\n\t\t\targumentHint: this.argumentHint.get(),\n\t\t\tmodeInstructions: this.modeInstructions.get(),\n\t\t\turi: this.uri.get(),\n\t\t\thandOffs: this.handOffs.get(),\n\t\t\tsource: serializeChatModeSource(this._source),\n\t\t\ttarget: this.target.get()\n\t\t};\n\t}\n}\n\ntype IChatModeSourceData =\n\t| { readonly storage: PromptsStorage.extension; readonly extensionId: string }\n\t| { readonly storage: PromptsStorage.local | PromptsStorage.user };\n\nfunction isChatModeSourceData(value: unknown): value is IChatModeSourceData {\n\tif (typeof value !== 'object' || value === null) {\n\t\treturn false;\n\t}\n\tconst data = value as { storage?: unknown; extensionId?: unknown };\n\tif (data.storage === PromptsStorage.extension) {\n\t\treturn typeof data.extensionId === 'string';\n\t}\n\treturn data.storage === PromptsStorage.local || data.storage === PromptsStorage.user;\n}\n\nfunction serializeChatModeSource(source: IAgentSource | undefined): IChatModeSourceData | undefined {\n\tif (!source) {\n\t\treturn undefined;\n\t}\n\tif (source.storage === PromptsStorage.extension) {\n\t\treturn { storage: PromptsStorage.extension, extensionId: source.extensionId.value };\n\t}\n\treturn { storage: source.storage };\n}\n\nfunction reviveChatModeSource(data: IChatModeSourceData | undefined): IAgentSource | undefined {\n\tif (!data) {\n\t\treturn undefined;\n\t}\n\tif (data.storage === PromptsStorage.extension) {\n\t\treturn { storage: PromptsStorage.extension, extensionId: new ExtensionIdentifier(data.extensionId) };\n\t}\n\treturn { storage: data.storage };\n}\n\nexport class BuiltinChatMode implements IChatMode {\n\tpublic readonly name: IObservable<string>;\n\tpublic readonly label: IObservable<string>;\n\tpublic readonly description: IObservable<string>;\n\n\tconstructor(\n\t\tpublic readonly kind: ChatModeKind,\n\t\tlabel: string,\n\t\tdescription: string\n\t) {\n\t\tthis.name = constObservable(kind);\n\t\tthis.label = constObservable(label);\n\t\tthis.description = observableValue('description', description);\n\t}\n\n\tpublic get isBuiltin(): boolean {\n\t\treturn isBuiltinChatMode(this);\n\t}\n\n\tget id(): string {\n\t\t// Need a differentiator?\n\t\treturn this.kind;\n\t}\n\n\tget target(): IObservable<string | undefined> {\n\t\treturn observableValue('target', undefined);\n\t}\n\n\t/**\n\t * Getters are not json-stringified\n\t */\n\ttoJSON(): IChatModeData {\n\t\treturn {\n\t\t\tid: this.id,\n\t\t\tname: this.name.get(),\n\t\t\tdescription: this.description.get(),\n\t\t\tkind: this.kind\n\t\t};\n\t}\n}\n\nexport namespace ChatMode {\n\texport const Ask = new BuiltinChatMode(ChatModeKind.Ask, 'Ask', localize('chatDescription', \"Explore and understand your code\"));\n\texport const Edit = new BuiltinChatMode(ChatModeKind.Edit, 'Edit', localize('editsDescription', \"Edit or refactor selected code\"));\n\texport const Agent = new BuiltinChatMode(ChatModeKind.Agent, 'Agent', localize('agentDescription', \"Describe what to build next\"));\n}\n\nexport function isBuiltinChatMode(mode: IChatMode): boolean {\n\treturn mode.id === ChatMode.Ask.id ||\n\t\tmode.id === ChatMode.Edit.id ||\n\t\tmode.id === ChatMode.Agent.id;\n}\n"]}