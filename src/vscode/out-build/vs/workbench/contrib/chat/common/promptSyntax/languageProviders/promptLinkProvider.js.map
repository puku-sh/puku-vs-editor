{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/chat/common/promptSyntax/languageProviders/promptLinkProvider.ts","vs/workbench/contrib/chat/common/promptSyntax/languageProviders/promptLinkProvider.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;AAEhG,OAAO,EAAE,eAAe,EAAE,MAAM,8BAA8B,CAAC;AAK/D;;GAEG;AACI,IAAM,kBAAkB,GAAxB,MAAM,kBAAkB;IAC9B,YACmC,cAA+B;QAA/B,mBAAc,GAAd,cAAc,CAAiB;IAElE,CAAC;IAED;;OAEG;IACI,KAAK,CAAC,YAAY,CAAC,KAAiB,EAAE,KAAwB;QACpE,MAAM,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;QACjE,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;YACrB,OAAO;QACR,CAAC;QACD,MAAM,KAAK,GAAY,EAAE,CAAC;QAC1B,KAAK,MAAM,GAAG,IAAI,SAAS,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC;YACjD,IAAI,CAAC,GAAG,CAAC,cAAc,EAAE,CAAC;gBACzB,MAAM,GAAG,GAAG,SAAS,CAAC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;gBACxD,IAAI,GAAG,EAAE,CAAC;oBACT,KAAK,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,GAAG,CAAC,KAAK,EAAE,GAAG,EAAE,CAAC,CAAC;gBACvC,CAAC;YACF,CAAC;QACF,CAAC;QACD,OAAO,EAAE,KAAK,EAAE,CAAC;IAClB,CAAC;CACD,CAAA;AAzBY,kBAAkB;IAE5B,WAAA,eAAe,CAAA;GAFL,kBAAkB,CAyB9B","file":"promptLinkProvider.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IPromptsService } from '../service/promptsService.js';\nimport { ITextModel } from '../../../../../../editor/common/model.js';\nimport { CancellationToken } from '../../../../../../base/common/cancellation.js';\nimport { ILink, ILinksList, LinkProvider } from '../../../../../../editor/common/languages.js';\n\n/**\n * Provides link references for prompt files.\n */\nexport class PromptLinkProvider implements LinkProvider {\n\tconstructor(\n\t\t@IPromptsService private readonly promptsService: IPromptsService,\n\t) {\n\t}\n\n\t/**\n\t * Provide list of links for the provided text model.\n\t */\n\tpublic async provideLinks(model: ITextModel, token: CancellationToken): Promise<ILinksList | undefined> {\n\t\tconst promptAST = this.promptsService.getParsedPromptFile(model);\n\t\tif (!promptAST.body) {\n\t\t\treturn;\n\t\t}\n\t\tconst links: ILink[] = [];\n\t\tfor (const ref of promptAST.body.fileReferences) {\n\t\t\tif (!ref.isMarkdownLink) {\n\t\t\t\tconst url = promptAST.body.resolveFilePath(ref.content);\n\t\t\t\tif (url) {\n\t\t\t\t\tlinks.push({ range: ref.range, url });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn { links };\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IPromptsService } from '../service/promptsService.js';\nimport { ITextModel } from '../../../../../../editor/common/model.js';\nimport { CancellationToken } from '../../../../../../base/common/cancellation.js';\nimport { ILink, ILinksList, LinkProvider } from '../../../../../../editor/common/languages.js';\n\n/**\n * Provides link references for prompt files.\n */\nexport class PromptLinkProvider implements LinkProvider {\n\tconstructor(\n\t\t@IPromptsService private readonly promptsService: IPromptsService,\n\t) {\n\t}\n\n\t/**\n\t * Provide list of links for the provided text model.\n\t */\n\tpublic async provideLinks(model: ITextModel, token: CancellationToken): Promise<ILinksList | undefined> {\n\t\tconst promptAST = this.promptsService.getParsedPromptFile(model);\n\t\tif (!promptAST.body) {\n\t\t\treturn;\n\t\t}\n\t\tconst links: ILink[] = [];\n\t\tfor (const ref of promptAST.body.fileReferences) {\n\t\t\tif (!ref.isMarkdownLink) {\n\t\t\t\tconst url = promptAST.body.resolveFilePath(ref.content);\n\t\t\t\tif (url) {\n\t\t\t\t\tlinks.push({ range: ref.range, url });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn { links };\n\t}\n}\n"]}