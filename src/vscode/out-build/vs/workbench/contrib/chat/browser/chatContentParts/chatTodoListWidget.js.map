{"version":3,"sources":["vs/workbench/contrib/chat/browser/chatContentParts/chatTodoListWidget.ts"],"names":[],"mappings":"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","file":"chatTodoListWidget.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../../base/browser/dom.js';\nimport { Button } from '../../../../../base/browser/ui/button/button.js';\nimport { IconLabel } from '../../../../../base/browser/ui/iconLabel/iconLabel.js';\nimport { IListRenderer, IListVirtualDelegate } from '../../../../../base/browser/ui/list/list.js';\nimport { Codicon } from '../../../../../base/common/codicons.js';\nimport { Emitter, Event } from '../../../../../base/common/event.js';\nimport { Disposable, DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { localize } from '../../../../../nls.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { IContextKeyService } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { WorkbenchList } from '../../../../../platform/list/browser/listService.js';\nimport { IChatTodoListService, IChatTodo } from '../../common/chatTodoListService.js';\nimport { ChatContextKeys } from '../../common/chatContextKeys.js';\nimport { TodoListToolDescriptionFieldSettingId } from '../../common/tools/manageTodoListTool.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { isEqual } from '../../../../../base/common/resources.js';\n\nclass TodoListDelegate implements IListVirtualDelegate<IChatTodo> {\n\tgetHeight(element: IChatTodo): number {\n\t\treturn 22;\n\t}\n\n\tgetTemplateId(element: IChatTodo): string {\n\t\treturn TodoListRenderer.TEMPLATE_ID;\n\t}\n}\n\ninterface ITodoListTemplate {\n\treadonly templateDisposables: DisposableStore;\n\treadonly todoElement: HTMLElement;\n\treadonly statusIcon: HTMLElement;\n\treadonly iconLabel: IconLabel;\n}\n\nclass TodoListRenderer implements IListRenderer<IChatTodo, ITodoListTemplate> {\n\tstatic TEMPLATE_ID = 'todoListRenderer';\n\treadonly templateId: string = TodoListRenderer.TEMPLATE_ID;\n\n\tconstructor(\n\t\tprivate readonly configurationService: IConfigurationService\n\t) { }\n\n\trenderTemplate(container: HTMLElement): ITodoListTemplate {\n\t\tconst templateDisposables = new DisposableStore();\n\t\tconst todoElement = dom.append(container, dom.$('li.todo-item'));\n\t\ttodoElement.setAttribute('role', 'listitem');\n\n\t\tconst statusIcon = dom.append(todoElement, dom.$('.todo-status-icon.codicon'));\n\t\tstatusIcon.setAttribute('aria-hidden', 'true');\n\n\t\tconst todoContent = dom.append(todoElement, dom.$('.todo-content'));\n\t\tconst iconLabel = templateDisposables.add(new IconLabel(todoContent, { supportIcons: false }));\n\n\t\treturn { templateDisposables, todoElement, statusIcon, iconLabel };\n\t}\n\n\trenderElement(todo: IChatTodo, index: number, templateData: ITodoListTemplate): void {\n\t\tconst { todoElement, statusIcon, iconLabel } = templateData;\n\n\t\t// Update status icon\n\t\tstatusIcon.className = `todo-status-icon codicon ${this.getStatusIconClass(todo.status)}`;\n\t\tstatusIcon.style.color = this.getStatusIconColor(todo.status);\n\n\t\t// Update title with tooltip if description exists and description field is enabled\n\t\tconst includeDescription = this.configurationService.getValue<boolean>(TodoListToolDescriptionFieldSettingId) !== false;\n\t\tconst title = includeDescription && todo.description && todo.description.trim() ? todo.description : undefined;\n\t\ticonLabel.setLabel(todo.title, undefined, { title });\n\n\t\t// Update aria-label\n\t\tconst statusText = this.getStatusText(todo.status);\n\t\tconst ariaLabel = includeDescription && todo.description && todo.description.trim()\n\t\t\t? localize('chat.todoList.itemWithDescription', '{0}, {1}, {2}', todo.title, statusText, todo.description)\n\t\t\t: localize('chat.todoList.item', '{0}, {1}', todo.title, statusText);\n\t\ttodoElement.setAttribute('aria-label', ariaLabel);\n\t}\n\n\tdisposeTemplate(templateData: ITodoListTemplate): void {\n\t\ttemplateData.templateDisposables.dispose();\n\t}\n\n\tprivate getStatusText(status: string): string {\n\t\tswitch (status) {\n\t\t\tcase 'completed':\n\t\t\t\treturn localize('chat.todoList.status.completed', 'completed');\n\t\t\tcase 'in-progress':\n\t\t\t\treturn localize('chat.todoList.status.inProgress', 'in progress');\n\t\t\tcase 'not-started':\n\t\t\tdefault:\n\t\t\t\treturn localize('chat.todoList.status.notStarted', 'not started');\n\t\t}\n\t}\n\n\tprivate getStatusIconClass(status: string): string {\n\t\tswitch (status) {\n\t\t\tcase 'completed':\n\t\t\t\treturn 'codicon-pass';\n\t\t\tcase 'in-progress':\n\t\t\t\treturn 'codicon-record';\n\t\t\tcase 'not-started':\n\t\t\tdefault:\n\t\t\t\treturn 'codicon-circle-outline';\n\t\t}\n\t}\n\n\tprivate getStatusIconColor(status: string): string {\n\t\tswitch (status) {\n\t\t\tcase 'completed':\n\t\t\t\treturn 'var(--vscode-charts-green)';\n\t\t\tcase 'in-progress':\n\t\t\t\treturn 'var(--vscode-charts-blue)';\n\t\t\tcase 'not-started':\n\t\t\tdefault:\n\t\t\t\treturn 'var(--vscode-foreground)';\n\t\t}\n\t}\n}\n\nexport class ChatTodoListWidget extends Disposable {\n\tpublic readonly domNode: HTMLElement;\n\n\tprivate readonly _onDidChangeHeight = this._register(new Emitter<void>());\n\tpublic readonly onDidChangeHeight: Event<void> = this._onDidChangeHeight.event;\n\n\tprivate _isExpanded: boolean = false;\n\tprivate _userManuallyExpanded: boolean = false;\n\tprivate expandoButton!: Button;\n\tprivate expandIcon!: HTMLElement;\n\tprivate titleElement!: HTMLElement;\n\tprivate todoListContainer!: HTMLElement;\n\tprivate clearButtonContainer!: HTMLElement;\n\tprivate clearButton!: Button;\n\tprivate _currentSessionResource: URI | undefined;\n\tprivate _todoList: WorkbenchList<IChatTodo> | undefined;\n\n\tconstructor(\n\t\t@IChatTodoListService private readonly chatTodoListService: IChatTodoListService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService\n\t) {\n\t\tsuper();\n\n\t\tthis.domNode = this.createChatTodoWidget();\n\n\t\t// Listen to context key changes to update clear button state when request state changes\n\t\tthis._register(this.contextKeyService.onDidChangeContext(e => {\n\t\t\tif (e.affectsSome(new Set([ChatContextKeys.requestInProgress.key]))) {\n\t\t\t\tthis.updateClearButtonState();\n\t\t\t}\n\t\t}));\n\t}\n\n\tpublic get height(): number {\n\t\treturn this.domNode.style.display === 'none' ? 0 : this.domNode.offsetHeight;\n\t}\n\n\tprivate hideWidget(): void {\n\t\tthis.domNode.style.display = 'none';\n\t\tthis._onDidChangeHeight.fire();\n\t}\n\n\tprivate createChatTodoWidget(): HTMLElement {\n\t\tconst container = dom.$('.chat-todo-list-widget');\n\t\tcontainer.style.display = 'none';\n\n\t\tconst expandoContainer = dom.$('.todo-list-expand');\n\t\tthis.expandoButton = this._register(new Button(expandoContainer, {\n\t\t\tsupportIcons: true\n\t\t}));\n\t\tthis.expandoButton.element.setAttribute('aria-expanded', String(this._isExpanded));\n\t\tthis.expandoButton.element.setAttribute('aria-controls', 'todo-list-container');\n\n\t\t// Create title section to group icon and title\n\t\tconst titleSection = dom.$('.todo-list-title-section');\n\n\t\tthis.expandIcon = dom.$('.expand-icon.codicon');\n\t\tthis.expandIcon.classList.add(this._isExpanded ? 'codicon-chevron-down' : 'codicon-chevron-right');\n\t\tthis.expandIcon.setAttribute('aria-hidden', 'true');\n\n\t\tthis.titleElement = dom.$('.todo-list-title');\n\t\tthis.titleElement.id = 'todo-list-title';\n\t\tthis.titleElement.textContent = localize('chat.todoList.title', 'Todos');\n\n\t\t// Add clear button container to the expand element\n\t\tthis.clearButtonContainer = dom.$('.todo-clear-button-container');\n\t\tthis.createClearButton();\n\n\t\ttitleSection.appendChild(this.expandIcon);\n\t\ttitleSection.appendChild(this.titleElement);\n\n\t\tthis.expandoButton.element.appendChild(titleSection);\n\t\tthis.expandoButton.element.appendChild(this.clearButtonContainer);\n\n\t\tthis.todoListContainer = dom.$('.todo-list-container');\n\t\tthis.todoListContainer.style.display = this._isExpanded ? 'block' : 'none';\n\t\tthis.todoListContainer.id = 'todo-list-container';\n\t\tthis.todoListContainer.setAttribute('role', 'list');\n\t\tthis.todoListContainer.setAttribute('aria-labelledby', 'todo-list-title');\n\n\t\tcontainer.appendChild(expandoContainer);\n\t\tcontainer.appendChild(this.todoListContainer);\n\n\t\tthis._register(this.expandoButton.onDidClick(() => {\n\t\t\tthis.toggleExpanded();\n\t\t}));\n\n\t\treturn container;\n\t}\n\n\tprivate createClearButton(): void {\n\t\tthis.clearButton = new Button(this.clearButtonContainer, {\n\t\t\tsupportIcons: true,\n\t\t});\n\t\tthis.clearButton.element.tabIndex = 0;\n\t\tthis.clearButton.icon = Codicon.clearAll;\n\t\tthis._register(this.clearButton);\n\n\t\tthis._register(this.clearButton.onDidClick(() => {\n\t\t\tthis.clearAllTodos();\n\t\t}));\n\t}\n\n\tpublic render(sessionResource: URI | undefined): void {\n\t\tif (!sessionResource) {\n\t\t\tthis.hideWidget();\n\t\t\treturn;\n\t\t}\n\n\t\tif (!isEqual(this._currentSessionResource, sessionResource)) {\n\t\t\tthis._userManuallyExpanded = false;\n\t\t\tthis._currentSessionResource = sessionResource;\n\t\t\tthis.hideWidget();\n\t\t}\n\n\t\tthis.updateTodoDisplay();\n\t}\n\n\tpublic clear(sessionResource: URI | undefined, force: boolean = false): void {\n\t\tif (!sessionResource || this.domNode.style.display === 'none') {\n\t\t\treturn;\n\t\t}\n\n\t\tconst currentTodos = this.chatTodoListService.getTodos(sessionResource);\n\t\tconst shouldClear = force || (currentTodos.length > 0 && !currentTodos.some(todo => todo.status !== 'completed'));\n\t\tif (shouldClear) {\n\t\t\tthis.clearAllTodos();\n\t\t}\n\t}\n\n\tprivate updateTodoDisplay(): void {\n\t\tif (!this._currentSessionResource) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst todoList = this.chatTodoListService.getTodos(this._currentSessionResource);\n\t\tconst shouldShow = todoList.length > 2;\n\n\t\tif (!shouldShow) {\n\t\t\tthis.domNode.classList.remove('has-todos');\n\t\t\treturn;\n\t\t}\n\n\t\tthis.domNode.classList.add('has-todos');\n\t\tthis.renderTodoList(todoList);\n\t\tthis.domNode.style.display = 'block';\n\t\tthis._onDidChangeHeight.fire();\n\t}\n\n\tprivate renderTodoList(todoList: IChatTodo[]): void {\n\t\tthis.updateTitleElement(this.titleElement, todoList);\n\n\t\tconst allIncomplete = todoList.every(todo => todo.status === 'not-started');\n\t\tif (allIncomplete) {\n\t\t\tthis._userManuallyExpanded = false;\n\t\t}\n\n\t\t// Create or update the WorkbenchList\n\t\tif (!this._todoList) {\n\t\t\tthis._todoList = this._register(this.instantiationService.createInstance(\n\t\t\t\tWorkbenchList<IChatTodo>,\n\t\t\t\t'ChatTodoListRenderer',\n\t\t\t\tthis.todoListContainer,\n\t\t\t\tnew TodoListDelegate(),\n\t\t\t\t[new TodoListRenderer(this.configurationService)],\n\t\t\t\t{\n\t\t\t\t\talwaysConsumeMouseWheel: false,\n\t\t\t\t\taccessibilityProvider: {\n\t\t\t\t\t\tgetAriaLabel: (todo: IChatTodo) => {\n\t\t\t\t\t\t\tconst statusText = this.getStatusText(todo.status);\n\t\t\t\t\t\t\tconst includeDescription = this.configurationService.getValue<boolean>(TodoListToolDescriptionFieldSettingId) !== false;\n\t\t\t\t\t\t\treturn includeDescription && todo.description && todo.description.trim()\n\t\t\t\t\t\t\t\t? localize('chat.todoList.itemWithDescription', '{0}, {1}, {2}', todo.title, statusText, todo.description)\n\t\t\t\t\t\t\t\t: localize('chat.todoList.item', '{0}, {1}', todo.title, statusText);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetWidgetAriaLabel: () => localize('chatTodoList', 'Chat Todo List')\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t));\n\t\t}\n\n\t\t// Update list contents\n\t\tconst maxItemsShown = 6;\n\t\tconst itemsShown = Math.min(todoList.length, maxItemsShown);\n\t\tconst height = itemsShown * 22;\n\t\tthis._todoList.layout(height);\n\t\tthis._todoList.getHTMLElement().style.height = `${height}px`;\n\t\tthis._todoList.splice(0, this._todoList.length, todoList);\n\n\t\tconst hasInProgressTask = todoList.some(todo => todo.status === 'in-progress');\n\t\tconst hasCompletedTask = todoList.some(todo => todo.status === 'completed');\n\n\t\t// Update clear button state based on request progress\n\t\tthis.updateClearButtonState();\n\n\t\t// Only auto-collapse if there are in-progress or completed tasks AND user hasn't manually expanded\n\t\tif ((hasInProgressTask || hasCompletedTask) && this._isExpanded && !this._userManuallyExpanded) {\n\t\t\tthis._isExpanded = false;\n\t\t\tthis.expandoButton.element.setAttribute('aria-expanded', 'false');\n\t\t\tthis.todoListContainer.style.display = 'none';\n\n\t\t\tthis.expandIcon.classList.remove('codicon-chevron-down');\n\t\t\tthis.expandIcon.classList.add('codicon-chevron-right');\n\n\t\t\tthis.updateTitleElement(this.titleElement, todoList);\n\t\t\tthis._onDidChangeHeight.fire();\n\t\t}\n\t}\n\n\tprivate toggleExpanded(): void {\n\t\tthis._isExpanded = !this._isExpanded;\n\t\tthis._userManuallyExpanded = true;\n\n\t\tthis.expandIcon.classList.toggle('codicon-chevron-down', this._isExpanded);\n\t\tthis.expandIcon.classList.toggle('codicon-chevron-right', !this._isExpanded);\n\n\t\tthis.todoListContainer.style.display = this._isExpanded ? 'block' : 'none';\n\n\t\tif (this._currentSessionResource) {\n\t\t\tconst todoList = this.chatTodoListService.getTodos(this._currentSessionResource);\n\t\t\tthis.updateTitleElement(this.titleElement, todoList);\n\t\t}\n\n\t\tthis._onDidChangeHeight.fire();\n\t}\n\n\tprivate clearAllTodos(): void {\n\t\tif (!this._currentSessionResource) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.chatTodoListService.setTodos(this._currentSessionResource, []);\n\t\tthis.hideWidget();\n\t}\n\n\tprivate updateClearButtonState(): void {\n\t\tif (!this._currentSessionResource) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst todoList = this.chatTodoListService.getTodos(this._currentSessionResource);\n\t\tconst hasInProgressTask = todoList.some(todo => todo.status === 'in-progress');\n\t\tconst isRequestInProgress = ChatContextKeys.requestInProgress.getValue(this.contextKeyService) ?? false;\n\t\tconst shouldDisable = isRequestInProgress && hasInProgressTask;\n\n\t\tthis.clearButton.enabled = !shouldDisable;\n\n\t\t// Update tooltip based on state\n\t\tif (shouldDisable) {\n\t\t\tthis.clearButton.setTitle(localize('chat.todoList.clearButton.disabled', 'Cannot clear todos while a task is in progress'));\n\t\t} else {\n\t\t\tthis.clearButton.setTitle(localize('chat.todoList.clearButton', 'Clear all todos'));\n\t\t}\n\t}\n\n\tprivate updateTitleElement(titleElement: HTMLElement, todoList: IChatTodo[]): void {\n\t\ttitleElement.textContent = '';\n\n\t\tconst completedCount = todoList.filter(todo => todo.status === 'completed').length;\n\t\tconst totalCount = todoList.length;\n\t\tconst inProgressTodos = todoList.filter(todo => todo.status === 'in-progress');\n\t\tconst firstInProgressTodo = inProgressTodos.length > 0 ? inProgressTodos[0] : undefined;\n\t\tconst notStartedTodos = todoList.filter(todo => todo.status === 'not-started');\n\t\tconst firstNotStartedTodo = notStartedTodos.length > 0 ? notStartedTodos[0] : undefined;\n\t\tconst currentTaskNumber = inProgressTodos.length > 0 ? completedCount + 1 : Math.max(1, completedCount);\n\n\t\tconst expandButtonLabel = this._isExpanded\n\t\t\t? localize('chat.todoList.collapseButton', 'Collapse Todos')\n\t\t\t: localize('chat.todoList.expandButton', 'Expand Todos');\n\t\tthis.expandoButton.element.setAttribute('aria-label', expandButtonLabel);\n\t\tthis.expandoButton.element.setAttribute('aria-expanded', this._isExpanded ? 'true' : 'false');\n\n\t\tif (this._isExpanded) {\n\t\t\tconst titleText = dom.$('span');\n\t\t\ttitleText.textContent = totalCount > 0 ?\n\t\t\t\tlocalize('chat.todoList.titleWithCount', 'Todos ({0}/{1})', currentTaskNumber, totalCount) :\n\t\t\t\tlocalize('chat.todoList.title', 'Todos');\n\t\t\ttitleElement.appendChild(titleText);\n\t\t} else {\n\t\t\t// Show first in-progress todo, or if none, the first not-started todo\n\t\t\tconst todoToShow = firstInProgressTodo || firstNotStartedTodo;\n\t\t\tif (todoToShow) {\n\t\t\t\tconst icon = dom.$('.codicon');\n\t\t\t\tif (todoToShow === firstInProgressTodo) {\n\t\t\t\t\ticon.classList.add('codicon-record');\n\t\t\t\t\ticon.style.color = 'var(--vscode-charts-blue)';\n\t\t\t\t} else {\n\t\t\t\t\ticon.classList.add('codicon-circle-outline');\n\t\t\t\t\ticon.style.color = 'var(--vscode-foreground)';\n\t\t\t\t}\n\t\t\t\ticon.style.marginRight = '4px';\n\t\t\t\ticon.style.verticalAlign = 'middle';\n\t\t\t\ttitleElement.appendChild(icon);\n\n\t\t\t\tconst todoText = dom.$('span');\n\t\t\t\ttodoText.textContent = localize('chat.todoList.currentTask', '{0} ({1}/{2})', todoToShow.title, currentTaskNumber, totalCount);\n\t\t\t\ttodoText.style.verticalAlign = 'middle';\n\t\t\t\ttodoText.style.overflow = 'hidden';\n\t\t\t\ttodoText.style.textOverflow = 'ellipsis';\n\t\t\t\ttodoText.style.whiteSpace = 'nowrap';\n\t\t\t\ttodoText.style.minWidth = '0';\n\t\t\t\ttitleElement.appendChild(todoText);\n\t\t\t}\n\t\t\t// Show \"Done\" when all tasks are completed\n\t\t\telse if (completedCount > 0 && completedCount === totalCount) {\n\t\t\t\tconst doneText = dom.$('span');\n\t\t\t\tdoneText.textContent = localize('chat.todoList.titleWithCount', 'Todos ({0}/{1})', totalCount, totalCount);\n\t\t\t\tdoneText.style.verticalAlign = 'middle';\n\t\t\t\ttitleElement.appendChild(doneText);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate getStatusText(status: string): string {\n\t\tswitch (status) {\n\t\t\tcase 'completed':\n\t\t\t\treturn localize('chat.todoList.status.completed', 'completed');\n\t\t\tcase 'in-progress':\n\t\t\t\treturn localize('chat.todoList.status.inProgress', 'in progress');\n\t\t\tcase 'not-started':\n\t\t\tdefault:\n\t\t\t\treturn localize('chat.todoList.status.notStarted', 'not started');\n\t\t}\n\t}\n}\n"]}