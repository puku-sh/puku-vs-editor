{"version":3,"sources":["vs/workbench/contrib/chat/browser/chatSessions/view/sessionsTreeRenderer.ts"],"names":[],"mappings":"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","file":"sessionsTreeRenderer.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as DOM from '../../../../../../base/browser/dom.js';\nimport { $, append } from '../../../../../../base/browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../../../../base/browser/keyboardEvent.js';\nimport { ActionBar } from '../../../../../../base/browser/ui/actionbar/actionbar.js';\nimport { HoverStyle } from '../../../../../../base/browser/ui/hover/hover.js';\nimport { HoverPosition } from '../../../../../../base/browser/ui/hover/hoverWidget.js';\nimport { IconLabel } from '../../../../../../base/browser/ui/iconLabel/iconLabel.js';\nimport { InputBox, MessageType } from '../../../../../../base/browser/ui/inputbox/inputBox.js';\nimport { IListRenderer, IListVirtualDelegate } from '../../../../../../base/browser/ui/list/list.js';\nimport { IAsyncDataSource, ITreeNode, ITreeRenderer } from '../../../../../../base/browser/ui/tree/tree.js';\nimport { timeout } from '../../../../../../base/common/async.js';\nimport { CancellationToken } from '../../../../../../base/common/cancellation.js';\nimport { Codicon } from '../../../../../../base/common/codicons.js';\nimport { FuzzyScore, createMatches } from '../../../../../../base/common/filters.js';\nimport { createSingleCallFunction } from '../../../../../../base/common/functional.js';\nimport { isMarkdownString } from '../../../../../../base/common/htmlContent.js';\nimport { KeyCode } from '../../../../../../base/common/keyCodes.js';\nimport { Disposable, DisposableStore, IDisposable, toDisposable } from '../../../../../../base/common/lifecycle.js';\nimport { ResourceSet } from '../../../../../../base/common/map.js';\nimport { MarshalledId } from '../../../../../../base/common/marshallingIds.js';\nimport Severity from '../../../../../../base/common/severity.js';\nimport { ThemeIcon } from '../../../../../../base/common/themables.js';\nimport * as nls from '../../../../../../nls.js';\nimport { getActionBarActions } from '../../../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { IMenuService, MenuId } from '../../../../../../platform/actions/common/actions.js';\nimport { IConfigurationService } from '../../../../../../platform/configuration/common/configuration.js';\nimport { IContextKeyService } from '../../../../../../platform/contextkey/common/contextkey.js';\nimport { IContextViewService } from '../../../../../../platform/contextview/browser/contextView.js';\nimport { IHoverService } from '../../../../../../platform/hover/browser/hover.js';\nimport { IMarkdownRendererService } from '../../../../../../platform/markdown/browser/markdownRenderer.js';\nimport product from '../../../../../../platform/product/common/product.js';\nimport { defaultInputBoxStyles } from '../../../../../../platform/theme/browser/defaultStyles.js';\nimport { IResourceLabel, ResourceLabels } from '../../../../../browser/labels.js';\nimport { IEditableData, ViewContainerLocation } from '../../../../../common/views.js';\nimport { IEditorGroupsService } from '../../../../../services/editor/common/editorGroupsService.js';\nimport { IWorkbenchLayoutService, Position } from '../../../../../services/layout/browser/layoutService.js';\nimport { getLocalHistoryDateFormatter } from '../../../../localHistory/browser/localHistory.js';\nimport { IChatService } from '../../../common/chatService.js';\nimport { ChatSessionStatus, IChatSessionItem, IChatSessionItemProvider, IChatSessionsService, localChatSessionType } from '../../../common/chatSessionsService.js';\nimport { LocalChatSessionUri } from '../../../common/chatUri.js';\nimport { ChatConfiguration } from '../../../common/constants.js';\nimport { IMarshalledChatSessionContext } from '../../actions/chatSessionActions.js';\nimport { IChatWidgetService } from '../../chat.js';\nimport { allowedChatMarkdownHtmlTags } from '../../chatContentMarkdownRenderer.js';\nimport '../../media/chatSessions.css';\nimport { ChatSessionTracker } from '../chatSessionTracker.js';\nimport { ChatSessionItemWithProvider, extractTimestamp, getSessionItemContextOverlay, processSessionsWithTimeGrouping } from '../common.js';\n\ninterface ISessionTemplateData {\n\treadonly container: HTMLElement;\n\treadonly iconLabel: IconLabel;\n\treadonly actionBar: ActionBar;\n\treadonly elementDisposable: DisposableStore;\n\treadonly timestamp: HTMLElement;\n\treadonly descriptionRow: HTMLElement;\n\treadonly descriptionLabel: HTMLElement;\n\treadonly statisticsLabel: HTMLElement;\n\treadonly customIcon: HTMLElement;\n}\n\nexport class ArchivedSessionItems {\n\tprivate readonly items: Map<string, ChatSessionItemWithProvider> = new Map();\n\tconstructor(public readonly label: string) {\n\t}\n\n\tpushItem(item: ChatSessionItemWithProvider): void {\n\t\tconst key = item.resource.toString();\n\t\tthis.items.set(key, item);\n\t}\n\n\tgetItems(): ChatSessionItemWithProvider[] {\n\t\treturn Array.from(this.items.values());\n\t}\n\n\tclear(): void {\n\t\tthis.items.clear();\n\t}\n}\n\nexport interface IGettingStartedItem {\n\tid: string;\n\tlabel: string;\n\tcommandId: string;\n\ticon?: ThemeIcon;\n\targs?: any[];\n}\n\nexport class GettingStartedDelegate implements IListVirtualDelegate<IGettingStartedItem> {\n\tgetHeight(): number {\n\t\treturn 22;\n\t}\n\n\tgetTemplateId(): string {\n\t\treturn 'gettingStartedItem';\n\t}\n}\n\ninterface IGettingStartedTemplateData {\n\tresourceLabel: IResourceLabel;\n}\n\nexport class GettingStartedRenderer implements IListRenderer<IGettingStartedItem, IGettingStartedTemplateData> {\n\treadonly templateId = 'gettingStartedItem';\n\n\tconstructor(private readonly labels: ResourceLabels) { }\n\n\trenderTemplate(container: HTMLElement): IGettingStartedTemplateData {\n\t\tconst resourceLabel = this.labels.create(container, { supportHighlights: true });\n\t\treturn { resourceLabel };\n\t}\n\n\trenderElement(element: IGettingStartedItem, index: number, templateData: IGettingStartedTemplateData): void {\n\t\ttemplateData.resourceLabel.setResource({\n\t\t\tname: element.label,\n\t\t\tresource: undefined\n\t\t}, {\n\t\t\ticon: element.icon,\n\t\t\thideIcon: false\n\t\t});\n\t\ttemplateData.resourceLabel.element.setAttribute('data-command', element.commandId);\n\t}\n\n\tdisposeTemplate(templateData: IGettingStartedTemplateData): void {\n\t\ttemplateData.resourceLabel.dispose();\n\t}\n}\n\nexport class SessionsRenderer extends Disposable implements ITreeRenderer<IChatSessionItem, FuzzyScore, ISessionTemplateData> {\n\tstatic readonly TEMPLATE_ID = 'session';\n\n\tconstructor(\n\t\tprivate readonly viewLocation: ViewContainerLocation | null,\n\t\t@IContextViewService private readonly contextViewService: IContextViewService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@IChatSessionsService private readonly chatSessionsService: IChatSessionsService,\n\t\t@IMenuService private readonly menuService: IMenuService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IHoverService private readonly hoverService: IHoverService,\n\t\t@IChatWidgetService private readonly chatWidgetService: IChatWidgetService,\n\t\t@IChatService private readonly chatService: IChatService,\n\t\t@IEditorGroupsService private readonly editorGroupsService: IEditorGroupsService,\n\t\t@IWorkbenchLayoutService private readonly layoutService: IWorkbenchLayoutService,\n\t\t@IMarkdownRendererService private readonly markdownRendererService: IMarkdownRendererService,\n\t) {\n\t\tsuper();\n\t}\n\n\tget templateId(): string {\n\t\treturn SessionsRenderer.TEMPLATE_ID;\n\t}\n\n\tprivate getHoverPosition(): HoverPosition {\n\t\tconst sideBarPosition = this.layoutService.getSideBarPosition();\n\t\tswitch (this.viewLocation) {\n\t\t\tcase ViewContainerLocation.Sidebar:\n\t\t\t\treturn sideBarPosition === Position.LEFT ? HoverPosition.RIGHT : HoverPosition.LEFT;\n\t\t\tcase ViewContainerLocation.AuxiliaryBar:\n\t\t\t\treturn sideBarPosition === Position.LEFT ? HoverPosition.LEFT : HoverPosition.RIGHT;\n\t\t\tdefault:\n\t\t\t\treturn HoverPosition.RIGHT;\n\t\t}\n\t}\n\n\trenderTemplate(container: HTMLElement): ISessionTemplateData {\n\t\tconst element = append(container, $('.chat-session-item'));\n\n\t\t// Create a container that holds the label, timestamp, and actions\n\t\tconst contentContainer = append(element, $('.session-content'));\n\t\t// Custom icon element rendered separately from label text\n\t\tconst customIcon = append(contentContainer, $('.chat-session-custom-icon'));\n\t\tconst iconLabel = new IconLabel(contentContainer, { supportHighlights: true, supportIcons: true });\n\t\tconst descriptionRow = append(element, $('.description-row'));\n\t\tconst descriptionLabel = append(descriptionRow, $('span.description'));\n\t\tconst statisticsLabel = append(descriptionRow, $('span.statistics'));\n\n\t\t// Create timestamp container and element\n\t\tconst timestampContainer = append(contentContainer, $('.timestamp-container'));\n\t\tconst timestamp = append(timestampContainer, $('.timestamp'));\n\n\t\tconst actionsContainer = append(contentContainer, $('.actions'));\n\t\tconst actionBar = new ActionBar(actionsContainer);\n\t\tconst elementDisposable = new DisposableStore();\n\n\t\treturn {\n\t\t\tcontainer: element,\n\t\t\ticonLabel,\n\t\t\tcustomIcon,\n\t\t\tactionBar,\n\t\t\telementDisposable,\n\t\t\ttimestamp,\n\t\t\tdescriptionRow,\n\t\t\tdescriptionLabel,\n\t\t\tstatisticsLabel,\n\t\t};\n\t}\n\n\tstatusToIcon(status?: ChatSessionStatus) {\n\t\tswitch (status) {\n\t\t\tcase ChatSessionStatus.InProgress:\n\t\t\t\treturn ThemeIcon.modify(Codicon.loading, 'spin');\n\t\t\tcase ChatSessionStatus.Completed:\n\t\t\t\treturn Codicon.pass;\n\t\t\tcase ChatSessionStatus.Failed:\n\t\t\t\treturn Codicon.error;\n\t\t\tdefault:\n\t\t\t\treturn Codicon.circleOutline;\n\t\t}\n\t}\n\n\tprivate renderArchivedNode(node: ArchivedSessionItems, templateData: ISessionTemplateData): void {\n\t\ttemplateData.customIcon.className = '';\n\t\ttemplateData.descriptionRow.style.display = 'none';\n\t\ttemplateData.timestamp.parentElement!.style.display = 'none';\n\n\t\tconst childCount = node.getItems().length;\n\t\ttemplateData.iconLabel.setLabel(node.label, undefined, {\n\t\t\ttitle: childCount === 1 ? nls.localize('chat.sessions.groupNode.single', '1 session') : nls.localize('chat.sessions.groupNode.multiple', '{0} sessions', childCount)\n\t\t});\n\t}\n\n\trenderElement(element: ITreeNode<IChatSessionItem, FuzzyScore>, index: number, templateData: ISessionTemplateData): void {\n\t\tif (element.element instanceof ArchivedSessionItems) {\n\t\t\tthis.renderArchivedNode(element.element, templateData);\n\t\t\treturn;\n\t\t}\n\n\t\tconst session = element.element as ChatSessionItemWithProvider;\n\t\t// Add CSS class for local sessions\n\t\tlet editableData: IEditableData | undefined;\n\t\tif (LocalChatSessionUri.parseLocalSessionId(session.resource)) {\n\t\t\ttemplateData.container.classList.add('local-session');\n\t\t\teditableData = this.chatSessionsService.getEditableData(session.resource);\n\t\t} else {\n\t\t\ttemplateData.container.classList.remove('local-session');\n\t\t}\n\n\t\t// Check if this session is being edited using the actual session ID\n\t\tif (editableData) {\n\t\t\t// Render input box for editing\n\t\t\ttemplateData.actionBar.clear();\n\t\t\tconst editDisposable = this.renderInputBox(templateData.container, session, editableData);\n\t\t\ttemplateData.elementDisposable.add(editDisposable);\n\t\t\treturn;\n\t\t}\n\n\t\t// Normal rendering - clear the action bar in case it was used for editing\n\t\ttemplateData.actionBar.clear();\n\n\t\t// Handle different icon types\n\t\tlet iconTheme: ThemeIcon | undefined;\n\t\tif (!session.iconPath) {\n\t\t\ticonTheme = this.statusToIcon(session.status);\n\t\t} else {\n\t\t\ticonTheme = session.iconPath;\n\t\t}\n\n\t\tconst renderDescriptionOnSecondRow = this.configurationService.getValue<boolean>(ChatConfiguration.ShowAgentSessionsViewDescription) && session.provider.chatSessionType !== localChatSessionType;\n\n\t\tif (renderDescriptionOnSecondRow && session.description) {\n\t\t\ttemplateData.container.classList.toggle('multiline', true);\n\t\t\ttemplateData.descriptionRow.style.display = 'flex';\n\t\t\tif (typeof session.description === 'string') {\n\t\t\t\ttemplateData.descriptionLabel.textContent = session.description;\n\t\t\t} else {\n\t\t\t\ttemplateData.elementDisposable.add(this.markdownRendererService.render(session.description, {\n\t\t\t\t\tsanitizerConfig: {\n\t\t\t\t\t\treplaceWithPlaintext: true,\n\t\t\t\t\t\tallowedTags: {\n\t\t\t\t\t\t\toverride: allowedChatMarkdownHtmlTags,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tallowedLinkSchemes: { augment: [product.urlProtocol] }\n\t\t\t\t\t},\n\t\t\t\t}, templateData.descriptionLabel));\n\t\t\t\ttemplateData.elementDisposable.add(DOM.addDisposableListener(templateData.descriptionLabel, 'mousedown', e => e.stopPropagation()));\n\t\t\t\ttemplateData.elementDisposable.add(DOM.addDisposableListener(templateData.descriptionLabel, 'click', e => e.stopPropagation()));\n\t\t\t\ttemplateData.elementDisposable.add(DOM.addDisposableListener(templateData.descriptionLabel, 'auxclick', e => e.stopPropagation()));\n\t\t\t}\n\n\t\t\tDOM.clearNode(templateData.statisticsLabel);\n\t\t\tconst insertionNode = append(templateData.statisticsLabel, $('span.insertions'));\n\t\t\tinsertionNode.textContent = session.statistics ? `+${session.statistics.insertions}` : '';\n\t\t\tconst deletionNode = append(templateData.statisticsLabel, $('span.deletions'));\n\t\t\tdeletionNode.textContent = session.statistics ? `-${session.statistics.deletions}` : '';\n\t\t} else {\n\t\t\ttemplateData.container.classList.toggle('multiline', false);\n\t\t}\n\n\t\t// Prepare tooltip content\n\t\tconst tooltipContent = 'tooltip' in session && session.tooltip ?\n\t\t\t(typeof session.tooltip === 'string' ? session.tooltip :\n\t\t\t\tisMarkdownString(session.tooltip) ? {\n\t\t\t\t\tmarkdown: session.tooltip,\n\t\t\t\t\tmarkdownNotSupportedFallback: session.tooltip.value\n\t\t\t\t} : undefined) :\n\t\t\tundefined;\n\n\t\ttemplateData.customIcon.className = iconTheme ? `chat-session-custom-icon ${ThemeIcon.asClassName(iconTheme)}` : '';\n\n\t\t// Set the icon label\n\t\ttemplateData.iconLabel.setLabel(\n\t\t\tsession.label,\n\t\t\t!renderDescriptionOnSecondRow && typeof session.description === 'string' ? session.description : undefined,\n\t\t\t{\n\t\t\t\ttitle: !renderDescriptionOnSecondRow || !session.description ? tooltipContent : undefined,\n\t\t\t\tmatches: createMatches(element.filterData)\n\t\t\t}\n\t\t);\n\n\t\t// For two-row items, set tooltip on the container instead\n\t\tif (renderDescriptionOnSecondRow && session.description && tooltipContent) {\n\t\t\tif (typeof tooltipContent === 'string') {\n\t\t\t\ttemplateData.elementDisposable.add(\n\t\t\t\t\tthis.hoverService.setupDelayedHover(templateData.container, () => ({\n\t\t\t\t\t\tcontent: tooltipContent,\n\t\t\t\t\t\tstyle: HoverStyle.Pointer,\n\t\t\t\t\t\tposition: { hoverPosition: this.getHoverPosition() }\n\t\t\t\t\t}), { groupId: 'chat.sessions' })\n\t\t\t\t);\n\t\t\t} else if (tooltipContent && typeof tooltipContent === 'object' && 'markdown' in tooltipContent) {\n\t\t\t\ttemplateData.elementDisposable.add(\n\t\t\t\t\tthis.hoverService.setupDelayedHover(templateData.container, () => ({\n\t\t\t\t\t\tcontent: tooltipContent.markdown,\n\t\t\t\t\t\tstyle: HoverStyle.Pointer,\n\t\t\t\t\t\tposition: { hoverPosition: this.getHoverPosition() }\n\t\t\t\t\t}), { groupId: 'chat.sessions' })\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\t// Handle timestamp display and grouping\n\t\tconst hasTimestamp = session.timing?.startTime !== undefined;\n\t\tif (hasTimestamp) {\n\t\t\ttemplateData.timestamp.textContent = session.relativeTime ?? '';\n\t\t\ttemplateData.timestamp.ariaLabel = session.relativeTimeFullWord ?? '';\n\t\t\ttemplateData.timestamp.parentElement!.classList.toggle('timestamp-duplicate', session.hideRelativeTime === true);\n\t\t\ttemplateData.timestamp.parentElement!.style.display = '';\n\n\t\t\t// Add tooltip showing full date/time when hovering over the timestamp\n\t\t\tif (session.timing?.startTime) {\n\t\t\t\tconst fullDateTime = getLocalHistoryDateFormatter().format(session.timing.startTime);\n\t\t\t\ttemplateData.elementDisposable.add(\n\t\t\t\t\tthis.hoverService.setupDelayedHover(templateData.timestamp, () => ({\n\t\t\t\t\t\tcontent: nls.localize('chat.sessions.lastActivity', 'Last Activity: {0}', fullDateTime),\n\t\t\t\t\t\tstyle: HoverStyle.Pointer,\n\t\t\t\t\t\tposition: { hoverPosition: this.getHoverPosition() }\n\t\t\t\t\t}), { groupId: 'chat.sessions' })\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\t// Hide timestamp container if no timestamp available\n\t\t\ttemplateData.timestamp.parentElement!.style.display = 'none';\n\t\t}\n\n\t\t// Create context overlay for this specific session item\n\t\tconst contextOverlay = getSessionItemContextOverlay(\n\t\t\tsession,\n\t\t\tsession.provider,\n\t\t\tthis.chatWidgetService,\n\t\t\tthis.chatService,\n\t\t\tthis.editorGroupsService\n\t\t);\n\n\t\tconst contextKeyService = this.contextKeyService.createOverlay(contextOverlay);\n\n\t\t// Create menu for this session item\n\t\tconst menu = templateData.elementDisposable.add(\n\t\t\tthis.menuService.createMenu(MenuId.ChatSessionsMenu, contextKeyService)\n\t\t);\n\n\t\t// Setup action bar with contributed actions\n\t\tconst setupActionBar = () => {\n\t\t\ttemplateData.actionBar.clear();\n\n\t\t\t// Create marshalled context for command execution\n\t\t\tconst marshalledSession: IMarshalledChatSessionContext = {\n\t\t\t\tsession: session,\n\t\t\t\t$mid: MarshalledId.ChatSessionContext\n\t\t\t};\n\n\t\t\tconst actions = menu.getActions({ arg: marshalledSession, shouldForwardArgs: true });\n\n\t\t\tconst { primary } = getActionBarActions(\n\t\t\t\tactions,\n\t\t\t\t'inline',\n\t\t\t);\n\n\t\t\ttemplateData.actionBar.push(primary, { icon: true, label: false });\n\n\t\t\t// Set context for the action bar\n\t\t\ttemplateData.actionBar.context = session;\n\t\t};\n\n\t\t// Setup initial action bar and listen for menu changes\n\t\ttemplateData.elementDisposable.add(menu.onDidChange(() => setupActionBar()));\n\t\tsetupActionBar();\n\t}\n\n\tdisposeElement(_element: ITreeNode<IChatSessionItem, FuzzyScore>, _index: number, templateData: ISessionTemplateData): void {\n\t\ttemplateData.elementDisposable.clear();\n\t\ttemplateData.actionBar.clear();\n\t}\n\n\tprivate renderInputBox(container: HTMLElement, session: IChatSessionItem, editableData: IEditableData): DisposableStore {\n\t\t// Hide the existing resource label element and session content\n\t\t// eslint-disable-next-line no-restricted-syntax\n\t\tconst existingResourceLabelElement = container.querySelector('.monaco-icon-label') as HTMLElement;\n\t\tif (existingResourceLabelElement) {\n\t\t\texistingResourceLabelElement.style.display = 'none';\n\t\t}\n\n\t\t// Hide the session content container to avoid layout conflicts\n\t\t// eslint-disable-next-line no-restricted-syntax\n\t\tconst sessionContentElement = container.querySelector('.session-content') as HTMLElement;\n\t\tif (sessionContentElement) {\n\t\t\tsessionContentElement.style.display = 'none';\n\t\t}\n\n\t\t// Create a simple container that mimics the file explorer's structure\n\t\tconst editContainer = DOM.append(container, DOM.$('.explorer-item.explorer-item-edited'));\n\n\t\t// Add the icon\n\t\tconst iconElement = DOM.append(editContainer, DOM.$('.codicon'));\n\t\tif (session.iconPath && ThemeIcon.isThemeIcon(session.iconPath)) {\n\t\t\ticonElement.classList.add(`codicon-${session.iconPath.id}`);\n\t\t} else {\n\t\t\ticonElement.classList.add('codicon-file'); // Default file icon\n\t\t}\n\n\t\t// Create the input box directly\n\t\tconst inputBox = new InputBox(editContainer, this.contextViewService, {\n\t\t\tvalidationOptions: {\n\t\t\t\tvalidation: (value) => {\n\t\t\t\t\tconst message = editableData.validationMessage(value);\n\t\t\t\t\tif (!message || message.severity !== Severity.Error) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t\treturn {\n\t\t\t\t\t\tcontent: message.content,\n\t\t\t\t\t\tformatContent: true,\n\t\t\t\t\t\ttype: MessageType.ERROR\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t},\n\t\t\tariaLabel: nls.localize('chatSessionInputAriaLabel', \"Type session name. Press Enter to confirm or Escape to cancel.\"),\n\t\t\tinputBoxStyles: defaultInputBoxStyles,\n\t\t});\n\n\t\tinputBox.value = session.label;\n\t\tinputBox.focus();\n\t\tinputBox.select({ start: 0, end: session.label.length });\n\n\t\tconst done = createSingleCallFunction((success: boolean, finishEditing: boolean) => {\n\t\t\tconst value = inputBox.value;\n\n\t\t\t// Clean up the edit container\n\t\t\teditContainer.style.display = 'none';\n\t\t\teditContainer.remove();\n\n\t\t\t// Restore the original resource label\n\t\t\tif (existingResourceLabelElement) {\n\t\t\t\texistingResourceLabelElement.style.display = '';\n\t\t\t}\n\n\t\t\t// Restore the session content container\n\t\t\t// eslint-disable-next-line no-restricted-syntax\n\t\t\tconst sessionContentElement = container.querySelector('.session-content') as HTMLElement;\n\t\t\tif (sessionContentElement) {\n\t\t\t\tsessionContentElement.style.display = '';\n\t\t\t}\n\n\t\t\tif (finishEditing) {\n\t\t\t\teditableData.onFinish(value, success);\n\t\t\t}\n\t\t});\n\n\t\tconst showInputBoxNotification = () => {\n\t\t\tif (inputBox.isInputValid()) {\n\t\t\t\tconst message = editableData.validationMessage(inputBox.value);\n\t\t\t\tif (message) {\n\t\t\t\t\tinputBox.showMessage({\n\t\t\t\t\t\tcontent: message.content,\n\t\t\t\t\t\tformatContent: true,\n\t\t\t\t\t\ttype: message.severity === Severity.Info ? MessageType.INFO : message.severity === Severity.Warning ? MessageType.WARNING : MessageType.ERROR\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tinputBox.hideMessage();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tshowInputBoxNotification();\n\n\t\tconst disposables: IDisposable[] = [\n\t\t\tinputBox,\n\t\t\tDOM.addStandardDisposableListener(inputBox.inputElement, DOM.EventType.KEY_DOWN, (e: StandardKeyboardEvent) => {\n\t\t\t\tif (e.equals(KeyCode.Enter)) {\n\t\t\t\t\tif (!inputBox.validate()) {\n\t\t\t\t\t\tdone(true, true);\n\t\t\t\t\t}\n\t\t\t\t} else if (e.equals(KeyCode.Escape)) {\n\t\t\t\t\tdone(false, true);\n\t\t\t\t}\n\t\t\t}),\n\t\t\tDOM.addStandardDisposableListener(inputBox.inputElement, DOM.EventType.KEY_UP, () => {\n\t\t\t\tshowInputBoxNotification();\n\t\t\t}),\n\t\t\tDOM.addDisposableListener(inputBox.inputElement, DOM.EventType.BLUR, async () => {\n\t\t\t\twhile (true) {\n\t\t\t\t\tawait timeout(0);\n\n\t\t\t\t\tconst ownerDocument = inputBox.inputElement.ownerDocument;\n\t\t\t\t\tif (!ownerDocument.hasFocus()) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (DOM.isActiveElement(inputBox.inputElement)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else if (DOM.isHTMLElement(ownerDocument.activeElement) && DOM.hasParentWithClass(ownerDocument.activeElement, 'context-view')) {\n\t\t\t\t\t\t// Do nothing - context menu is open\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tdone(inputBox.isInputValid(), true);\n\t\t\t})\n\t\t];\n\n\t\tconst disposableStore = new DisposableStore();\n\t\tdisposables.forEach(d => disposableStore.add(d));\n\t\tdisposableStore.add(toDisposable(() => done(false, false)));\n\t\treturn disposableStore;\n\t}\n\n\tdisposeTemplate(templateData: ISessionTemplateData): void {\n\t\ttemplateData.elementDisposable.dispose();\n\t\ttemplateData.iconLabel.dispose();\n\t\ttemplateData.actionBar.dispose();\n\t}\n}\n\n// Chat sessions item data source for the tree\nexport class SessionsDataSource implements IAsyncDataSource<IChatSessionItemProvider, ChatSessionItemWithProvider | ArchivedSessionItems> {\n\t// For now call it History until we support archive on all providers\n\tprivate archivedItems = new ArchivedSessionItems(nls.localize('chat.sessions.archivedSessions', 'History'));\n\tconstructor(\n\t\tprivate readonly provider: IChatSessionItemProvider,\n\t\tprivate readonly sessionTracker: ChatSessionTracker,\n\t) {\n\t}\n\n\thasChildren(element: IChatSessionItemProvider | ChatSessionItemWithProvider | ArchivedSessionItems): boolean {\n\t\tif (element === this.provider) {\n\t\t\t// Root provider always has children\n\t\t\treturn true;\n\t\t}\n\n\t\tif (element instanceof ArchivedSessionItems) {\n\t\t\treturn element.getItems().length > 0;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tasync getChildren(element: IChatSessionItemProvider | ChatSessionItemWithProvider | ArchivedSessionItems): Promise<(ChatSessionItemWithProvider | ArchivedSessionItems)[]> {\n\t\tif (element === this.provider) {\n\t\t\ttry {\n\t\t\t\tconst items = await this.provider.provideChatSessionItems(CancellationToken.None);\n\t\t\t\t// Clear archived items from previous calls\n\t\t\t\tthis.archivedItems.clear();\n\t\t\t\tlet ungroupedItems = items.map(item => {\n\t\t\t\t\tconst itemWithProvider = { ...item, provider: this.provider, timing: { startTime: extractTimestamp(item) ?? 0 } };\n\t\t\t\t\tif (itemWithProvider.archived) {\n\t\t\t\t\t\tthis.archivedItems.pushItem(itemWithProvider);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\treturn itemWithProvider;\n\t\t\t\t}).filter(item => item !== undefined);\n\n\t\t\t\t// Add hybrid local editor sessions for this provider\n\t\t\t\tif (this.provider.chatSessionType !== localChatSessionType) {\n\t\t\t\t\tconst hybridSessions = await this.sessionTracker.getHybridSessionsForProvider(this.provider);\n\t\t\t\t\tconst existingSessions = new ResourceSet();\n\t\t\t\t\t// Iterate only over the ungrouped items, the only group we support for now is history\n\t\t\t\t\tungroupedItems.forEach(s => existingSessions.add(s.resource));\n\t\t\t\t\thybridSessions.forEach(session => {\n\t\t\t\t\t\tif (!existingSessions.has(session.resource)) {\n\t\t\t\t\t\t\tungroupedItems.push(session as ChatSessionItemWithProvider);\n\t\t\t\t\t\t\texistingSessions.add(session.resource);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tungroupedItems = processSessionsWithTimeGrouping(ungroupedItems);\n\t\t\t\t}\n\n\t\t\t\tconst result = [];\n\t\t\t\tresult.push(...ungroupedItems);\n\t\t\t\tif (this.archivedItems.getItems().length > 0) {\n\t\t\t\t\tresult.push(this.archivedItems);\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t} catch (error) {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t}\n\n\t\tif (element instanceof ArchivedSessionItems) {\n\t\t\treturn processSessionsWithTimeGrouping(element.getItems());\n\t\t}\n\n\t\t// Individual session items don't have children\n\t\treturn [];\n\t}\n}\n\n\nexport class SessionsDelegate implements IListVirtualDelegate<ChatSessionItemWithProvider> {\n\tstatic readonly ITEM_HEIGHT = 22;\n\tstatic readonly ITEM_HEIGHT_WITH_DESCRIPTION = 44; // Slightly smaller for cleaner look\n\n\tconstructor(private readonly configurationService: IConfigurationService) { }\n\n\tgetHeight(element: ChatSessionItemWithProvider): number {\n\t\t// Return consistent height for all items (single-line layout)\n\t\tif (element.description && this.configurationService.getValue(ChatConfiguration.ShowAgentSessionsViewDescription) && element.provider.chatSessionType !== localChatSessionType) {\n\t\t\treturn SessionsDelegate.ITEM_HEIGHT_WITH_DESCRIPTION;\n\t\t} else {\n\t\t\treturn SessionsDelegate.ITEM_HEIGHT;\n\t\t}\n\t}\n\n\tgetTemplateId(element: ChatSessionItemWithProvider): string {\n\t\treturn SessionsRenderer.TEMPLATE_ID;\n\t}\n}\n"]}