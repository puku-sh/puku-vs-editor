{"version":3,"sources":["vs/workbench/contrib/chat/browser/chatContext.contribution.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;AAEhG,OAAO,EAAE,UAAU,EAAE,MAAM,sCAAsC,CAAC;AAClE,OAAO,EAAE,SAAS,EAAE,MAAM,sCAAsC,CAAC;AACjE,OAAO,EAAE,QAAQ,EAAE,MAAM,oBAAoB,CAAC;AAE9C,OAAO,EAA0B,8BAA8B,EAAkB,MAAM,kCAAkC,CAAC;AAC1H,OAAO,EAAE,mBAAmB,EAAE,MAAM,yBAAyB,CAAC;AAC9D,OAAO,EAAE,oBAAoB,EAAE,MAAM,mDAAmD,CAAC;AACzF,OAAO,EAAE,kBAAkB,EAAE,MAAM,2DAA2D,CAAC;AAQ/F,MAAM,cAAc,GAAG,kBAAkB,CAAC,sBAAsB,CAA+B;IAC9F,cAAc,EAAE,aAAa;IAC7B,UAAU,EAAE;QACX,WAAW,EAAE,QAAQ,CAAC,IAAqB,EAAE,IAA2D,CAAC;QACzG,IAAI,EAAE,OAAO;QACb,KAAK,EAAE;YACN,IAAI,EAAE,QAAQ;YACd,UAAU,EAAE;gBACX,EAAE,EAAE;oBACH,WAAW,EAAE,QAAQ,CAAC,IAAwB,EAAE,IAAoC,CAAC;oBACrF,IAAI,EAAE,QAAQ;iBACd;gBACD,IAAI,EAAE;oBACL,WAAW,EAAE,QAAQ,CAAC,IAA0B,EAAE,IAAkD,CAAC;oBACrG,IAAI,EAAE,QAAQ;iBACd;gBACD,WAAW,EAAE;oBACZ,WAAW,EAAE,QAAQ,CAAC,IAA2B,EAAE,IAAwE,CAAC;oBAC5H,IAAI,EAAE,QAAQ;iBACd;aACD;YACD,QAAQ,EAAE,CAAC,IAAI,EAAE,MAAM,EAAE,aAAa,CAAC;SACvC;KACD;CACD,CAAC,CAAC;AAEI,IAAM,uBAAuB,GAA7B,MAAM,uBAAwB,SAAQ,UAAU;aAC/B,OAAE,GAAG,2CAAH,AAA8C,CAAC;IAExE,YACuC,mBAAwC;QAE9E,KAAK,EAAE,CAAC;QAF8B,wBAAmB,GAAnB,mBAAmB,CAAqB;QAG9E,cAAc,CAAC,UAAU,CAAC,UAAU,CAAC,EAAE;YACtC,KAAK,MAAM,GAAG,IAAI,UAAU,EAAE,CAAC;gBAC9B,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,WAAW,EAAE,qBAAqB,CAAC,EAAE,CAAC;oBACnE,SAAS;gBACV,CAAC;gBACD,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC;oBAC/B,SAAS;gBACV,CAAC;gBACD,KAAK,MAAM,YAAY,IAAI,GAAG,CAAC,KAAK,EAAE,CAAC;oBACtC,MAAM,IAAI,GAAG,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;oBACrF,IAAI,CAAC,IAAI,EAAE,CAAC;wBACX,SAAS;oBACV,CAAC;oBAED,IAAI,CAAC,mBAAmB,CAAC,sBAAsB,CAAC,GAAG,GAAG,CAAC,WAAW,CAAC,EAAE,IAAI,YAAY,CAAC,EAAE,EAAE,EAAE,EAAE,KAAK,EAAE,YAAY,CAAC,WAAW,EAAE,IAAI,EAAE,CAAC,CAAC;gBACxI,CAAC;YACF,CAAC;QACF,CAAC,CAAC,CAAC;IACJ,CAAC;;AAzBW,uBAAuB;IAIjC,WAAA,mBAAmB,CAAA;GAJT,uBAAuB,CA0BnC;;AAED,8BAA8B,CAAC,uBAAuB,CAAC,EAAE,EAAE,uBAAuB,uCAA+B,CAAC","file":"chatContext.contribution.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { localize } from '../../../../nls.js';\n\nimport { IWorkbenchContribution, registerWorkbenchContribution2, WorkbenchPhase } from '../../../common/contributions.js';\nimport { IChatContextService } from './chatContextService.js';\nimport { isProposedApiEnabled } from '../../../services/extensions/common/extensions.js';\nimport { ExtensionsRegistry } from '../../../services/extensions/common/extensionsRegistry.js';\n\ninterface IChatContextExtensionPoint {\n\tid: string;\n\ticon: string;\n\tdisplayName: string;\n}\n\nconst extensionPoint = ExtensionsRegistry.registerExtensionPoint<IChatContextExtensionPoint[]>({\n\textensionPoint: 'chatContext',\n\tjsonSchema: {\n\t\tdescription: localize('chatContextExtPoint', 'Contributes chat context integrations to the chat widget.'),\n\t\ttype: 'array',\n\t\titems: {\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\tid: {\n\t\t\t\t\tdescription: localize('chatContextExtPoint.id', 'A unique identifier for this item.'),\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t\ticon: {\n\t\t\t\t\tdescription: localize('chatContextExtPoint.icon', 'The icon associated with this chat context item.'),\n\t\t\t\t\ttype: 'string'\n\t\t\t\t},\n\t\t\t\tdisplayName: {\n\t\t\t\t\tdescription: localize('chatContextExtPoint.title', 'A user-friendly name for this item which is used for display in menus.'),\n\t\t\t\t\ttype: 'string'\n\t\t\t\t}\n\t\t\t},\n\t\t\trequired: ['id', 'icon', 'displayName'],\n\t\t}\n\t}\n});\n\nexport class ChatContextContribution extends Disposable implements IWorkbenchContribution {\n\tpublic static readonly ID = 'workbench.contrib.chatContextContribution';\n\n\tconstructor(\n\t\t@IChatContextService private readonly _chatContextService: IChatContextService\n\t) {\n\t\tsuper();\n\t\textensionPoint.setHandler(extensions => {\n\t\t\tfor (const ext of extensions) {\n\t\t\t\tif (!isProposedApiEnabled(ext.description, 'chatContextProvider')) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (!Array.isArray(ext.value)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tfor (const contribution of ext.value) {\n\t\t\t\t\tconst icon = contribution.icon ? ThemeIcon.fromString(contribution.icon) : undefined;\n\t\t\t\t\tif (!icon) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._chatContextService.setChatContextProvider(`${ext.description.id}-${contribution.id}`, { title: contribution.displayName, icon });\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nregisterWorkbenchContribution2(ChatContextContribution.ID, ChatContextContribution, WorkbenchPhase.AfterRestored);\n"]}