{"version":3,"sources":["vs/workbench/contrib/chat/browser/actions/chatAccessibilityActions.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,EAAE,KAAK,EAAE,MAAM,6CAA6C,CAAC;AACpE,OAAO,EAAE,QAAQ,EAAE,MAAM,uBAAuB,CAAC;AACjD,OAAO,EAAE,OAAO,EAAE,eAAe,EAAE,MAAM,mDAAmD,CAAC;AAI7F,OAAO,EAAE,kBAAkB,EAAE,MAAM,YAAY,CAAC;AAChD,OAAO,EAAE,eAAe,EAAE,MAAM,iCAAiC,CAAC;AAClE,OAAO,EAAE,YAAY,EAAE,MAAM,+BAA+B,CAAC;AAC7D,OAAO,EAAE,kCAAkC,EAAE,MAAM,+DAA+D,CAAC;AAEnH,MAAM,CAAC,MAAM,iCAAiC,GAAG,yCAAyC,CAAC;AAE3F,MAAM,8BAA+B,SAAQ,OAAO;IACnD;QACC,KAAK,CAAC;YACL,EAAE,EAAE,iCAAiC;YACrC,KAAK,EAAE,EAAE,KAAK,EAAE,QAAQ,CAAC,IAAuB,EAAE,IAAyB,CAAC,EAAE,QAAQ,EAAE,yBAAyB,EAAE;YACnH,QAAQ,EAAE,EAAE,KAAK,EAAE,QAAQ,CAAC,IAAe,EAAE,IAAM,CAAC,EAAE,QAAQ,EAAE,MAAM,EAAE;YACxE,YAAY,EAAE,eAAe,CAAC,OAAO;YACrC,EAAE,EAAE,IAAI;YACR,UAAU,EAAE;gBACX,MAAM,6CAAmC;gBACzC,OAAO,EAAE,iDAA6B,0BAAe;gBACrD,IAAI,EAAE,kCAAkC;aACxC;SACD,CAAC,CAAC;IACJ,CAAC;IAED,KAAK,CAAC,GAAG,CAAC,QAA0B;QACnC,MAAM,iBAAiB,GAAG,QAAQ,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;QAC3D,MAAM,iBAAiB,GAAG,iBAAiB,CAAC,iBAAiB,CAAC;QAE9D,IAAI,CAAC,iBAAiB,EAAE,CAAC;YACxB,KAAK,CAAC,QAAQ,CAAC,IAAe,EAAE,IAA+B,CAAC,CAAC,CAAC;YAClE,OAAO;QACR,CAAC;QAED,MAAM,SAAS,GAAG,iBAAiB,CAAC,SAAS,CAAC;QAC9C,IAAI,CAAC,SAAS,EAAE,CAAC;YAChB,KAAK,CAAC,QAAQ,CAAC,IAAc,EAAE,IAA2B,CAAC,CAAC,CAAC;YAC7D,OAAO;QACR,CAAC;QAED,uDAAuD;QACvD,IAAI,wBAAiD,CAAC;QAEtD,MAAM,YAAY,GAAG,SAAS,CAAC,QAAQ,EAAE,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QAC3E,IAAI,YAAY,CAAC,YAAY,CAAC,EAAE,CAAC;YAChC,gDAAgD;YAChD,MAAM,mBAAmB,GAAG,iBAAiB,CAAC,OAAO,CAAC,gBAAgB,CAAC,qCAAqC,CAAC,CAAC;YAC9G,IAAI,mBAAmB,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBACpC,wBAAwB,GAAG,mBAAmB,CAAC,CAAC,CAAgB,CAAC;YAClE,CAAC;QACF,CAAC;QAED,IAAI,wBAAwB,EAAE,CAAC;YAC9B,wBAAwB,CAAC,KAAK,EAAE,CAAC;QAClC,CAAC;aAAM,CAAC;YACP,KAAK,CAAC,QAAQ,CAAC,IAAwB,EAAE,IAA+B,CAAC,CAAC,CAAC;QAC5E,CAAC;IACF,CAAC;CACD;AAED,MAAM,UAAU,gCAAgC;IAC/C,eAAe,CAAC,8BAA8B,CAAC,CAAC;AACjD,CAAC","file":"chatAccessibilityActions.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { alert } from '../../../../../base/browser/ui/aria/aria.js';\nimport { localize } from '../../../../../nls.js';\nimport { Action2, registerAction2 } from '../../../../../platform/actions/common/actions.js';\nimport { ServicesAccessor } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { KeybindingWeight } from '../../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { KeyCode, KeyMod } from '../../../../../base/common/keyCodes.js';\nimport { IChatWidgetService } from '../chat.js';\nimport { ChatContextKeys } from '../../common/chatContextKeys.js';\nimport { isResponseVM } from '../../common/chatViewModel.js';\nimport { CONTEXT_ACCESSIBILITY_MODE_ENABLED } from '../../../../../platform/accessibility/common/accessibility.js';\n\nexport const ACTION_ID_FOCUS_CHAT_CONFIRMATION = 'workbench.action.chat.focusConfirmation';\n\nclass AnnounceChatConfirmationAction extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: ACTION_ID_FOCUS_CHAT_CONFIRMATION,\n\t\t\ttitle: { value: localize('focusChatConfirmation', 'Focus Chat Confirmation'), original: 'Focus Chat Confirmation' },\n\t\t\tcategory: { value: localize('chat.category', 'Chat'), original: 'Chat' },\n\t\t\tprecondition: ChatContextKeys.enabled,\n\t\t\tf1: true,\n\t\t\tkeybinding: {\n\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.KeyA | KeyMod.Shift,\n\t\t\t\twhen: CONTEXT_ACCESSIBILITY_MODE_ENABLED\n\t\t\t}\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst chatWidgetService = accessor.get(IChatWidgetService);\n\t\tconst lastFocusedWidget = chatWidgetService.lastFocusedWidget;\n\n\t\tif (!lastFocusedWidget) {\n\t\t\talert(localize('noChatSession', 'No active chat session found.'));\n\t\t\treturn;\n\t\t}\n\n\t\tconst viewModel = lastFocusedWidget.viewModel;\n\t\tif (!viewModel) {\n\t\t\talert(localize('chatNotReady', 'Chat interface not ready.'));\n\t\t\treturn;\n\t\t}\n\n\t\t// Check for active confirmations in the chat responses\n\t\tlet firstConfirmationElement: HTMLElement | undefined;\n\n\t\tconst lastResponse = viewModel.getItems()[viewModel.getItems().length - 1];\n\t\tif (isResponseVM(lastResponse)) {\n\t\t\t// eslint-disable-next-line no-restricted-syntax\n\t\t\tconst confirmationWidgets = lastFocusedWidget.domNode.querySelectorAll('.chat-confirmation-widget-container');\n\t\t\tif (confirmationWidgets.length > 0) {\n\t\t\t\tfirstConfirmationElement = confirmationWidgets[0] as HTMLElement;\n\t\t\t}\n\t\t}\n\n\t\tif (firstConfirmationElement) {\n\t\t\tfirstConfirmationElement.focus();\n\t\t} else {\n\t\t\talert(localize('noConfirmationRequired', 'No chat confirmation required'));\n\t\t}\n\t}\n}\n\nexport function registerChatAccessibilityActions(): void {\n\tregisterAction2(AnnounceChatConfirmationAction);\n}\n"]}