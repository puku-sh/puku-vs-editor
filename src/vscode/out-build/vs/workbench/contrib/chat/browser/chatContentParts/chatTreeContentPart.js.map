{"version":3,"sources":["vs/workbench/contrib/chat/browser/chatContentParts/chatTreeContentPart.ts"],"names":[],"mappings":"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","file":"chatTreeContentPart.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../../base/browser/dom.js';\nimport { IListVirtualDelegate } from '../../../../../base/browser/ui/list/list.js';\nimport { ITreeCompressionDelegate } from '../../../../../base/browser/ui/tree/asyncDataTree.js';\nimport { ICompressedTreeNode } from '../../../../../base/browser/ui/tree/compressedObjectTreeModel.js';\nimport { ICompressibleTreeRenderer } from '../../../../../base/browser/ui/tree/objectTree.js';\nimport { IAsyncDataSource, ITreeNode } from '../../../../../base/browser/ui/tree/tree.js';\nimport { Emitter, Event } from '../../../../../base/common/event.js';\nimport { Disposable, DisposableStore, IDisposable } from '../../../../../base/common/lifecycle.js';\nimport { localize } from '../../../../../nls.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { FileKind, FileType } from '../../../../../platform/files/common/files.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { WorkbenchCompressibleAsyncDataTree } from '../../../../../platform/list/browser/listService.js';\nimport { IOpenerService } from '../../../../../platform/opener/common/opener.js';\nimport { IThemeService } from '../../../../../platform/theme/common/themeService.js';\nimport { IResourceLabel, ResourceLabels } from '../../../../browser/labels.js';\nimport { ChatTreeItem } from '../chat.js';\nimport { IDisposableReference, ResourcePool } from './chatCollections.js';\nimport { IChatContentPart } from './chatContentParts.js';\nimport { IChatProgressRenderableResponseContent } from '../../common/chatModel.js';\nimport { IChatResponseProgressFileTreeData } from '../../common/chatService.js';\nimport { createFileIconThemableTreeContainerScope } from '../../../files/browser/views/explorerView.js';\nimport { IFilesConfiguration } from '../../../files/common/files.js';\n\nconst $ = dom.$;\n\nexport class ChatTreeContentPart extends Disposable implements IChatContentPart {\n\tpublic readonly domNode: HTMLElement;\n\n\tprivate readonly _onDidChangeHeight = this._register(new Emitter<void>());\n\tpublic readonly onDidChangeHeight = this._onDidChangeHeight.event;\n\n\tpublic readonly onDidFocus: Event<void>;\n\n\tprivate tree: WorkbenchCompressibleAsyncDataTree<IChatResponseProgressFileTreeData, IChatResponseProgressFileTreeData, void>;\n\n\tconstructor(\n\t\tdata: IChatResponseProgressFileTreeData,\n\t\telement: ChatTreeItem,\n\t\ttreePool: TreePool,\n\t\ttreeDataIndex: number,\n\t\t@IOpenerService private readonly openerService: IOpenerService\n\t) {\n\t\tsuper();\n\n\t\tconst ref = this._register(treePool.get());\n\t\tthis.tree = ref.object;\n\t\tthis.onDidFocus = this.tree.onDidFocus;\n\n\t\tthis._register(this.tree.onDidOpen((e) => {\n\t\t\tif (e.element && !('children' in e.element)) {\n\t\t\t\tthis.openerService.open(e.element.uri);\n\t\t\t}\n\t\t}));\n\t\tthis._register(this.tree.onDidChangeCollapseState(() => {\n\t\t\tthis._onDidChangeHeight.fire();\n\t\t}));\n\t\tthis._register(this.tree.onContextMenu((e) => {\n\t\t\te.browserEvent.preventDefault();\n\t\t\te.browserEvent.stopPropagation();\n\t\t}));\n\n\t\tthis.tree.setInput(data).then(() => {\n\t\t\tif (!ref.isStale()) {\n\t\t\t\tthis.tree.layout();\n\t\t\t\tthis._onDidChangeHeight.fire();\n\t\t\t}\n\t\t});\n\n\t\tthis.domNode = this.tree.getHTMLElement().parentElement!;\n\t}\n\n\tdomFocus() {\n\t\tthis.tree.domFocus();\n\t}\n\n\thasSameContent(other: IChatProgressRenderableResponseContent): boolean {\n\t\t// No other change allowed for this content type\n\t\treturn other.kind === 'treeData';\n\t}\n\n\taddDisposable(disposable: IDisposable): void {\n\t\tthis._register(disposable);\n\t}\n}\n\nexport class TreePool extends Disposable {\n\tprivate _pool: ResourcePool<WorkbenchCompressibleAsyncDataTree<IChatResponseProgressFileTreeData, IChatResponseProgressFileTreeData, void>>;\n\n\tpublic get inUse(): ReadonlySet<WorkbenchCompressibleAsyncDataTree<IChatResponseProgressFileTreeData, IChatResponseProgressFileTreeData, void>> {\n\t\treturn this._pool.inUse;\n\t}\n\n\tconstructor(\n\t\tprivate _onDidChangeVisibility: Event<boolean>,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IConfigurationService private readonly configService: IConfigurationService,\n\t\t@IThemeService private readonly themeService: IThemeService,\n\t) {\n\t\tsuper();\n\t\tthis._pool = this._register(new ResourcePool(() => this.treeFactory()));\n\t}\n\n\tprivate treeFactory(): WorkbenchCompressibleAsyncDataTree<IChatResponseProgressFileTreeData, IChatResponseProgressFileTreeData, void> {\n\t\tconst resourceLabels = this._register(this.instantiationService.createInstance(ResourceLabels, { onDidChangeVisibility: this._onDidChangeVisibility }));\n\n\t\tconst container = $('.interactive-response-progress-tree');\n\t\tthis._register(createFileIconThemableTreeContainerScope(container, this.themeService));\n\n\t\tconst tree = this.instantiationService.createInstance(\n\t\t\tWorkbenchCompressibleAsyncDataTree<IChatResponseProgressFileTreeData, IChatResponseProgressFileTreeData>,\n\t\t\t'ChatListRenderer',\n\t\t\tcontainer,\n\t\t\tnew ChatListTreeDelegate(),\n\t\t\tnew ChatListTreeCompressionDelegate(),\n\t\t\t[new ChatListTreeRenderer(resourceLabels, this.configService.getValue('explorer.decorations'))],\n\t\t\tnew ChatListTreeDataSource(),\n\t\t\t{\n\t\t\t\tcollapseByDefault: () => false,\n\t\t\t\texpandOnlyOnTwistieClick: () => false,\n\t\t\t\tidentityProvider: {\n\t\t\t\t\tgetId: (e: IChatResponseProgressFileTreeData) => e.uri.toString()\n\t\t\t\t},\n\t\t\t\taccessibilityProvider: {\n\t\t\t\t\tgetAriaLabel: (element: IChatResponseProgressFileTreeData) => element.label,\n\t\t\t\t\tgetWidgetAriaLabel: () => localize('treeAriaLabel', \"File Tree\")\n\t\t\t\t},\n\t\t\t\talwaysConsumeMouseWheel: false\n\t\t\t});\n\n\t\treturn tree;\n\t}\n\n\tget(): IDisposableReference<WorkbenchCompressibleAsyncDataTree<IChatResponseProgressFileTreeData, IChatResponseProgressFileTreeData, void>> {\n\t\tconst object = this._pool.get();\n\t\tlet stale = false;\n\t\treturn {\n\t\t\tobject,\n\t\t\tisStale: () => stale,\n\t\t\tdispose: () => {\n\t\t\t\tstale = true;\n\t\t\t\tthis._pool.release(object);\n\t\t\t}\n\t\t};\n\t}\n}\n\nclass ChatListTreeDelegate implements IListVirtualDelegate<IChatResponseProgressFileTreeData> {\n\tstatic readonly ITEM_HEIGHT = 22;\n\n\tgetHeight(element: IChatResponseProgressFileTreeData): number {\n\t\treturn ChatListTreeDelegate.ITEM_HEIGHT;\n\t}\n\n\tgetTemplateId(element: IChatResponseProgressFileTreeData): string {\n\t\treturn 'chatListTreeTemplate';\n\t}\n}\n\nclass ChatListTreeCompressionDelegate implements ITreeCompressionDelegate<IChatResponseProgressFileTreeData> {\n\tisIncompressible(element: IChatResponseProgressFileTreeData): boolean {\n\t\treturn !element.children;\n\t}\n}\n\ninterface IChatListTreeRendererTemplate {\n\ttemplateDisposables: DisposableStore;\n\tlabel: IResourceLabel;\n}\n\nclass ChatListTreeRenderer implements ICompressibleTreeRenderer<IChatResponseProgressFileTreeData, void, IChatListTreeRendererTemplate> {\n\ttemplateId: string = 'chatListTreeTemplate';\n\n\tconstructor(private labels: ResourceLabels, private decorations: IFilesConfiguration['explorer']['decorations']) { }\n\n\trenderCompressedElements(element: ITreeNode<ICompressedTreeNode<IChatResponseProgressFileTreeData>, void>, index: number, templateData: IChatListTreeRendererTemplate): void {\n\t\ttemplateData.label.element.style.display = 'flex';\n\t\tconst label = element.element.elements.map((e) => e.label);\n\t\ttemplateData.label.setResource({ resource: element.element.elements[0].uri, name: label }, {\n\t\t\ttitle: element.element.elements[0].label,\n\t\t\tfileKind: element.children ? FileKind.FOLDER : FileKind.FILE,\n\t\t\textraClasses: ['explorer-item'],\n\t\t\tfileDecorations: this.decorations\n\t\t});\n\t}\n\trenderTemplate(container: HTMLElement): IChatListTreeRendererTemplate {\n\t\tconst templateDisposables = new DisposableStore();\n\t\tconst label = templateDisposables.add(this.labels.create(container, { supportHighlights: true }));\n\t\treturn { templateDisposables, label };\n\t}\n\trenderElement(element: ITreeNode<IChatResponseProgressFileTreeData, void>, index: number, templateData: IChatListTreeRendererTemplate): void {\n\t\ttemplateData.label.element.style.display = 'flex';\n\t\tif (!element.children.length && element.element.type !== FileType.Directory) {\n\t\t\ttemplateData.label.setFile(element.element.uri, {\n\t\t\t\tfileKind: FileKind.FILE,\n\t\t\t\thidePath: true,\n\t\t\t\tfileDecorations: this.decorations,\n\t\t\t});\n\t\t} else {\n\t\t\ttemplateData.label.setResource({ resource: element.element.uri, name: element.element.label }, {\n\t\t\t\ttitle: element.element.label,\n\t\t\t\tfileKind: FileKind.FOLDER,\n\t\t\t\tfileDecorations: this.decorations\n\t\t\t});\n\t\t}\n\t}\n\tdisposeTemplate(templateData: IChatListTreeRendererTemplate): void {\n\t\ttemplateData.templateDisposables.dispose();\n\t}\n}\n\nclass ChatListTreeDataSource implements IAsyncDataSource<IChatResponseProgressFileTreeData, IChatResponseProgressFileTreeData> {\n\thasChildren(element: IChatResponseProgressFileTreeData): boolean {\n\t\treturn !!element.children;\n\t}\n\n\tasync getChildren(element: IChatResponseProgressFileTreeData): Promise<Iterable<IChatResponseProgressFileTreeData>> {\n\t\treturn element.children ?? [];\n\t}\n}\n"]}