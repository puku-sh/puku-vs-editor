{"version":3,"sources":["vs/workbench/contrib/chat/browser/chatContentParts/chatChangesSummaryPart.ts"],"names":[],"mappings":"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","file":"chatChangesSummaryPart.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../../base/browser/dom.js';\nimport { $ } from '../../../../../base/browser/dom.js';\nimport { Disposable, DisposableStore, IDisposable, toDisposable } from '../../../../../base/common/lifecycle.js';\nimport { IChatContentPart, IChatContentPartRenderContext } from './chatContentParts.js';\nimport { IChatChangesSummaryPart as IChatFileChangesSummaryPart, IChatRendererContent } from '../../common/chatViewModel.js';\nimport { ChatTreeItem } from '../chat.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { IChatChangesSummary as IChatFileChangesSummary, IChatService } from '../../common/chatService.js';\nimport { IEditorService } from '../../../../services/editor/common/editorService.js';\nimport { IChatEditingSession, IEditSessionEntryDiff } from '../../common/chatEditingService.js';\nimport { WorkbenchList } from '../../../../../platform/list/browser/listService.js';\nimport { ButtonWithIcon } from '../../../../../base/browser/ui/button/button.js';\nimport { Codicon } from '../../../../../base/common/codicons.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { ThemeIcon } from '../../../../../base/common/themables.js';\nimport { ResourcePool } from './chatCollections.js';\nimport { IResourceLabel, ResourceLabels } from '../../../../browser/labels.js';\nimport { IListRenderer, IListVirtualDelegate } from '../../../../../base/browser/ui/list/list.js';\nimport { FileKind } from '../../../../../platform/files/common/files.js';\nimport { createFileIconThemableTreeContainerScope } from '../../../files/browser/views/explorerView.js';\nimport { IThemeService } from '../../../../../platform/theme/common/themeService.js';\nimport { autorun, derived, IObservable, IObservableWithChange } from '../../../../../base/common/observable.js';\nimport { MultiDiffEditorInput } from '../../../multiDiffEditor/browser/multiDiffEditorInput.js';\nimport { MultiDiffEditorItem } from '../../../multiDiffEditor/browser/multiDiffSourceResolverService.js';\nimport { IEditorGroupsService } from '../../../../services/editor/common/editorGroupsService.js';\nimport { Emitter } from '../../../../../base/common/event.js';\nimport { IHoverService } from '../../../../../platform/hover/browser/hover.js';\nimport { localize2 } from '../../../../../nls.js';\nimport { LocalChatSessionUri } from '../../common/chatUri.js';\n\nexport class ChatCheckpointFileChangesSummaryContentPart extends Disposable implements IChatContentPart {\n\n\tpublic readonly domNode: HTMLElement;\n\n\tpublic readonly ELEMENT_HEIGHT = 22;\n\tpublic readonly MAX_ITEMS_SHOWN = 6;\n\n\tprivate readonly _onDidChangeHeight = this._register(new Emitter<void>());\n\tpublic readonly onDidChangeHeight = this._onDidChangeHeight.event;\n\n\tprivate readonly diffsBetweenRequests = new Map<string, IObservable<IEditSessionEntryDiff | undefined>>();\n\n\tprivate fileChanges: readonly IChatFileChangesSummary[];\n\tprivate fileChangesDiffsObservable: IObservableWithChange<Map<string, IEditSessionEntryDiff>, void>;\n\n\tprivate list!: WorkbenchList<IChatFileChangesSummaryItem>;\n\tprivate isCollapsed: boolean = true;\n\n\tconstructor(\n\t\tcontent: IChatFileChangesSummaryPart,\n\t\tcontext: IChatContentPartRenderContext,\n\t\t@IHoverService private readonly hoverService: IHoverService,\n\t\t@IChatService private readonly chatService: IChatService,\n\t\t@IEditorService private readonly editorService: IEditorService,\n\t\t@IEditorGroupsService private readonly editorGroupsService: IEditorGroupsService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t) {\n\t\tsuper();\n\n\t\tthis.fileChanges = content.fileChanges;\n\t\tthis.fileChangesDiffsObservable = this.computeFileChangesDiffs(context, content.fileChanges);\n\n\t\tconst headerDomNode = $('.checkpoint-file-changes-summary-header');\n\t\tthis.domNode = $('.checkpoint-file-changes-summary', undefined, headerDomNode);\n\t\tthis.domNode.tabIndex = 0;\n\n\t\tthis._register(this.renderHeader(headerDomNode));\n\t\tthis._register(this.renderFilesList(this.domNode));\n\t}\n\n\tprivate changeID(change: IChatFileChangesSummary): string {\n\t\treturn `${change.sessionId}-${change.requestId}-${change.reference.path}`;\n\t}\n\n\tprivate computeFileChangesDiffs(context: IChatContentPartRenderContext, changes: readonly IChatFileChangesSummary[]): IObservableWithChange<Map<string, IEditSessionEntryDiff>, void> {\n\t\treturn derived((r) => {\n\t\t\tconst fileChangesDiffs = new Map<string, IEditSessionEntryDiff>();\n\t\t\tconst firstRequestId = changes[0].requestId;\n\t\t\tconst lastRequestId = changes[changes.length - 1].requestId;\n\t\t\tfor (const change of changes) {\n\t\t\t\tconst sessionId = change.sessionId;\n\t\t\t\tconst session = this.chatService.getSession(LocalChatSessionUri.forSession(sessionId));\n\t\t\t\tif (!session || !session.editingSession) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tconst diff = this.getCachedEntryDiffBetweenRequests(session.editingSession, change.reference, firstRequestId, lastRequestId)?.read(r);\n\t\t\t\tif (!diff) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tfileChangesDiffs.set(this.changeID(change), diff);\n\t\t\t}\n\t\t\treturn fileChangesDiffs;\n\t\t});\n\t}\n\n\tpublic getCachedEntryDiffBetweenRequests(editSession: IChatEditingSession, uri: URI, startRequestId: string, stopRequestId: string): IObservable<IEditSessionEntryDiff | undefined> | undefined {\n\t\tconst key = `${uri}\\0${startRequestId}\\0${stopRequestId}`;\n\t\tlet observable = this.diffsBetweenRequests.get(key);\n\t\tif (!observable) {\n\t\t\tobservable = editSession.getEntryDiffBetweenRequests(uri, startRequestId, stopRequestId);\n\t\t\tthis.diffsBetweenRequests.set(key, observable);\n\t\t}\n\t\treturn observable;\n\t}\n\n\tprivate renderHeader(container: HTMLElement): IDisposable {\n\t\tconst viewListButtonContainer = container.appendChild($('.chat-file-changes-label'));\n\t\tconst viewListButton = new ButtonWithIcon(viewListButtonContainer, {});\n\t\tviewListButton.label = this.fileChanges.length === 1 ? `Changed 1 file` : `Changed ${this.fileChanges.length} files`;\n\n\t\tconst setExpansionState = () => {\n\t\t\tviewListButton.icon = this.isCollapsed ? Codicon.chevronRight : Codicon.chevronDown;\n\t\t\tthis.domNode.classList.toggle('chat-file-changes-collapsed', this.isCollapsed);\n\t\t\tthis._onDidChangeHeight.fire();\n\t\t};\n\t\tsetExpansionState();\n\n\t\tconst disposables = new DisposableStore();\n\t\tdisposables.add(viewListButton);\n\t\tdisposables.add(viewListButton.onDidClick(() => {\n\t\t\tthis.isCollapsed = !this.isCollapsed;\n\t\t\tsetExpansionState();\n\t\t}));\n\t\tdisposables.add(this.renderViewAllFileChangesButton(viewListButton.element));\n\t\treturn toDisposable(() => disposables.dispose());\n\t}\n\n\tprivate renderViewAllFileChangesButton(container: HTMLElement): IDisposable {\n\t\tconst button = container.appendChild($('.chat-view-changes-icon'));\n\t\tthis.hoverService.setupDelayedHover(button, () => ({\n\t\t\tcontent: localize2('chat.viewFileChangesSummary', 'View All File Changes')\n\t\t}));\n\t\tbutton.classList.add(...ThemeIcon.asClassNameArray(Codicon.diffMultiple));\n\t\tbutton.setAttribute('role', 'button');\n\t\tbutton.tabIndex = 0;\n\n\t\treturn dom.addDisposableListener(button, 'click', (e) => {\n\t\t\tconst resources: { originalUri: URI; modifiedUri?: URI }[] = [];\n\t\t\tfor (const fileChange of this.fileChanges) {\n\t\t\t\tconst diffEntry = this.fileChangesDiffsObservable.get().get(this.changeID(fileChange));\n\t\t\t\tif (diffEntry) {\n\t\t\t\t\tresources.push({\n\t\t\t\t\t\toriginalUri: diffEntry.originalURI,\n\t\t\t\t\t\tmodifiedUri: diffEntry.modifiedURI\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tresources.push({\n\t\t\t\t\t\toriginalUri: fileChange.reference\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst source = URI.parse(`multi-diff-editor:${new Date().getMilliseconds().toString() + Math.random().toString()}`);\n\t\t\tconst input = this.instantiationService.createInstance(\n\t\t\t\tMultiDiffEditorInput,\n\t\t\t\tsource,\n\t\t\t\t'Checkpoint File Changes',\n\t\t\t\tresources.map(resource => {\n\t\t\t\t\treturn new MultiDiffEditorItem(\n\t\t\t\t\t\tresource.originalUri,\n\t\t\t\t\t\tresource.modifiedUri,\n\t\t\t\t\t\tundefined,\n\t\t\t\t\t);\n\t\t\t\t}),\n\t\t\t\tfalse\n\t\t\t);\n\t\t\tthis.editorGroupsService.activeGroup.openEditor(input);\n\t\t\tdom.EventHelper.stop(e, true);\n\t\t});\n\t}\n\n\tprivate renderFilesList(container: HTMLElement): IDisposable {\n\t\tconst store = new DisposableStore();\n\t\tthis.list = store.add(this.instantiationService.createInstance(CollapsibleChangesSummaryListPool)).get();\n\t\tconst listNode = this.list.getHTMLElement();\n\t\tconst itemsShown = Math.min(this.fileChanges.length, this.MAX_ITEMS_SHOWN);\n\t\tconst height = itemsShown * this.ELEMENT_HEIGHT;\n\t\tthis.list.layout(height);\n\t\tlistNode.style.height = height + 'px';\n\t\tthis.updateList(this.fileChanges, this.fileChangesDiffsObservable.get());\n\t\tcontainer.appendChild(listNode.parentElement!);\n\n\t\tstore.add(this.list.onDidOpen((item) => {\n\t\t\tconst element = item.element;\n\t\t\tif (!element) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst diff = this.fileChangesDiffsObservable.get().get(this.changeID(element));\n\t\t\tif (diff) {\n\t\t\t\tconst input = {\n\t\t\t\t\toriginal: { resource: diff.originalURI },\n\t\t\t\t\tmodified: { resource: diff.modifiedURI },\n\t\t\t\t\toptions: { preserveFocus: true }\n\t\t\t\t};\n\t\t\t\tthis.editorService.openEditor(input);\n\t\t\t} else {\n\t\t\t\tthis.editorService.openEditor({ resource: element.reference, options: { preserveFocus: true } });\n\t\t\t}\n\t\t}));\n\t\tstore.add(this.list.onContextMenu(e => {\n\t\t\tdom.EventHelper.stop(e.browserEvent, true);\n\t\t}));\n\t\tstore.add(autorun((r) => {\n\t\t\tthis.updateList(this.fileChanges, this.fileChangesDiffsObservable.read(r));\n\t\t}));\n\t\treturn store;\n\t}\n\n\tprivate updateList(fileChanges: readonly IChatFileChangesSummary[], fileChangesDiffs: Map<string, IEditSessionEntryDiff>): void {\n\t\tthis.list.splice(0, this.list.length, this.computeFileChangeSummaryItems(fileChanges, fileChangesDiffs));\n\t}\n\n\tprivate computeFileChangeSummaryItems(fileChanges: readonly IChatFileChangesSummary[], fileChangesDiffs: Map<string, IEditSessionEntryDiff>): IChatFileChangesSummaryItem[] {\n\t\tconst items: IChatFileChangesSummaryItem[] = [];\n\t\tfor (const fileChange of fileChanges) {\n\t\t\tconst diffEntry = fileChangesDiffs.get(this.changeID(fileChange));\n\t\t\tif (diffEntry) {\n\t\t\t\tconst additionalLabels: { description: string; className: string }[] = [];\n\t\t\t\tif (diffEntry) {\n\t\t\t\t\tadditionalLabels.push({\n\t\t\t\t\t\tdescription: ` +${diffEntry.added} `,\n\t\t\t\t\t\tclassName: 'insertions',\n\t\t\t\t\t});\n\t\t\t\t\tadditionalLabels.push({\n\t\t\t\t\t\tdescription: ` -${diffEntry.removed} `,\n\t\t\t\t\t\tclassName: 'deletions',\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tconst item: IChatFileChangesSummaryItem = {\n\t\t\t\t\t...fileChange,\n\t\t\t\t\tadditionalLabels\n\t\t\t\t};\n\t\t\t\titems.push(item);\n\t\t\t} else {\n\t\t\t\titems.push(fileChange);\n\t\t\t}\n\t\t}\n\t\treturn items;\n\t}\n\n\thasSameContent(other: IChatRendererContent, followingContent: IChatRendererContent[], element: ChatTreeItem): boolean {\n\t\treturn other.kind === 'changesSummary' && other.fileChanges.length === this.fileChanges.length;\n\t}\n\n\taddDisposable(disposable: IDisposable): void {\n\t\tthis._register(disposable);\n\t}\n}\n\ninterface IChatFileChangesSummaryItem extends IChatFileChangesSummary {\n\tadditionalLabels?: { description: string; className: string }[];\n}\n\ninterface IChatFileChangesSummaryListWrapper extends IDisposable {\n\tlist: WorkbenchList<IChatFileChangesSummaryItem>;\n}\n\nclass CollapsibleChangesSummaryListPool extends Disposable {\n\n\tprivate _resourcePool: ResourcePool<IChatFileChangesSummaryListWrapper>;\n\n\tconstructor(\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IThemeService private readonly themeService: IThemeService\n\t) {\n\t\tsuper();\n\t\tthis._resourcePool = this._register(new ResourcePool(() => this.listFactory()));\n\t}\n\n\tprivate listFactory(): IChatFileChangesSummaryListWrapper {\n\t\tconst container = $('.chat-summary-list');\n\t\tconst store = new DisposableStore();\n\t\tstore.add(createFileIconThemableTreeContainerScope(container, this.themeService));\n\t\tconst resourceLabels = store.add(this.instantiationService.createInstance(ResourceLabels, { onDidChangeVisibility: () => Disposable.None }));\n\t\tconst list = store.add(this.instantiationService.createInstance(\n\t\t\tWorkbenchList<IChatFileChangesSummaryItem>,\n\t\t\t'ChatListRenderer',\n\t\t\tcontainer,\n\t\t\tnew CollapsibleChangesSummaryListDelegate(),\n\t\t\t[this.instantiationService.createInstance(CollapsibleChangesSummaryListRenderer, resourceLabels)],\n\t\t\t{\n\t\t\t\talwaysConsumeMouseWheel: false\n\t\t\t}\n\t\t));\n\t\treturn {\n\t\t\tlist: list,\n\t\t\tdispose: () => {\n\t\t\t\tstore.dispose();\n\t\t\t}\n\t\t};\n\t}\n\n\tget(): WorkbenchList<IChatFileChangesSummaryItem> {\n\t\treturn this._resourcePool.get().list;\n\t}\n}\n\ninterface ICollapsibleChangesSummaryListTemplate extends IDisposable {\n\treadonly label: IResourceLabel;\n}\n\nclass CollapsibleChangesSummaryListDelegate implements IListVirtualDelegate<IChatFileChangesSummaryItem> {\n\n\tgetHeight(element: IChatFileChangesSummaryItem): number {\n\t\treturn 22;\n\t}\n\n\tgetTemplateId(element: IChatFileChangesSummaryItem): string {\n\t\treturn CollapsibleChangesSummaryListRenderer.TEMPLATE_ID;\n\t}\n}\n\nclass CollapsibleChangesSummaryListRenderer implements IListRenderer<IChatFileChangesSummaryItem, ICollapsibleChangesSummaryListTemplate> {\n\n\tstatic TEMPLATE_ID = 'collapsibleChangesSummaryListRenderer';\n\tstatic CHANGES_SUMMARY_CLASS_NAME = 'insertions-and-deletions';\n\n\treadonly templateId: string = CollapsibleChangesSummaryListRenderer.TEMPLATE_ID;\n\n\tconstructor(private labels: ResourceLabels) { }\n\n\trenderTemplate(container: HTMLElement): ICollapsibleChangesSummaryListTemplate {\n\t\tconst label = this.labels.create(container, { supportHighlights: true, supportIcons: true });\n\t\treturn { label, dispose: () => label.dispose() };\n\t}\n\n\trenderElement(data: IChatFileChangesSummaryItem, index: number, templateData: ICollapsibleChangesSummaryListTemplate): void {\n\t\tconst label = templateData.label;\n\t\tlabel.setFile(data.reference, {\n\t\t\tfileKind: FileKind.FILE,\n\t\t\ttitle: data.reference.path\n\t\t});\n\t\tconst labelElement = label.element;\n\t\t// eslint-disable-next-line no-restricted-syntax\n\t\tlabelElement.querySelector(`.${CollapsibleChangesSummaryListRenderer.CHANGES_SUMMARY_CLASS_NAME}`)?.remove();\n\t\tif (!data.additionalLabels) {\n\t\t\treturn;\n\t\t}\n\t\tconst changesSummary = labelElement.appendChild($(`.${CollapsibleChangesSummaryListRenderer.CHANGES_SUMMARY_CLASS_NAME}`));\n\t\tfor (const additionalLabel of data.additionalLabels) {\n\t\t\tconst element = changesSummary.appendChild($(`.${additionalLabel.className}`));\n\t\t\telement.textContent = additionalLabel.description;\n\t\t}\n\t}\n\n\tdisposeTemplate(templateData: ICollapsibleChangesSummaryListTemplate): void {\n\t\ttemplateData.dispose();\n\t}\n}\n"]}