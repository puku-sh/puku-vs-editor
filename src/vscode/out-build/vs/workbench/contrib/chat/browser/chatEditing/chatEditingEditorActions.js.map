{"version":3,"sources":["vs/workbench/contrib/chat/browser/chatEditing/chatEditingEditorActions.ts"],"names":[],"mappings":"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","file":"chatEditingEditorActions.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Codicon } from '../../../../../base/common/codicons.js';\nimport { KeyCode, KeyMod } from '../../../../../base/common/keyCodes.js';\nimport { ServicesAccessor } from '../../../../../editor/browser/editorExtensions.js';\nimport { EditorContextKeys } from '../../../../../editor/common/editorContextKeys.js';\nimport { localize, localize2 } from '../../../../../nls.js';\nimport { Action2, IAction2Options, MenuId, MenuRegistry, registerAction2 } from '../../../../../platform/actions/common/actions.js';\nimport { ContextKeyExpr } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { KeybindingWeight } from '../../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { IListService } from '../../../../../platform/list/browser/listService.js';\nimport { resolveCommandsContext } from '../../../../browser/parts/editor/editorCommandsContext.js';\nimport { ActiveEditorContext } from '../../../../common/contextkeys.js';\nimport { EditorResourceAccessor, SideBySideEditor, TEXT_DIFF_EDITOR_ID } from '../../../../common/editor.js';\nimport { IEditorGroupsService } from '../../../../services/editor/common/editorGroupsService.js';\nimport { ACTIVE_GROUP, IEditorService } from '../../../../services/editor/common/editorService.js';\nimport { MultiDiffEditorInput } from '../../../multiDiffEditor/browser/multiDiffEditorInput.js';\nimport { NOTEBOOK_CELL_LIST_FOCUSED, NOTEBOOK_EDITOR_FOCUSED } from '../../../notebook/common/notebookContextKeys.js';\nimport { ChatContextKeys } from '../../common/chatContextKeys.js';\nimport { CHAT_EDITING_MULTI_DIFF_SOURCE_RESOLVER_SCHEME, IChatEditingService, IChatEditingSession, IModifiedFileEntry, IModifiedFileEntryChangeHunk, IModifiedFileEntryEditorIntegration, ModifiedFileEntryState } from '../../common/chatEditingService.js';\nimport { LocalChatSessionUri } from '../../common/chatUri.js';\nimport { CHAT_CATEGORY } from '../actions/chatActions.js';\nimport { ctxCursorInChangeRange, ctxHasEditorModification, ctxIsCurrentlyBeingModified, ctxIsGlobalEditingSession, ctxReviewModeEnabled } from './chatEditingEditorContextKeys.js';\n\n\nabstract class ChatEditingEditorAction extends Action2 {\n\n\tconstructor(desc: Readonly<IAction2Options>) {\n\t\tsuper({\n\t\t\tcategory: CHAT_CATEGORY,\n\t\t\t...desc\n\t\t});\n\t}\n\n\toverride async run(accessor: ServicesAccessor, ...args: unknown[]) {\n\n\t\tconst instaService = accessor.get(IInstantiationService);\n\t\tconst chatEditingService = accessor.get(IChatEditingService);\n\t\tconst editorService = accessor.get(IEditorService);\n\n\t\tconst uri = EditorResourceAccessor.getOriginalUri(editorService.activeEditorPane?.input, { supportSideBySide: SideBySideEditor.PRIMARY });\n\n\t\tif (!uri || !editorService.activeEditorPane) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst session = chatEditingService.editingSessionsObs.get()\n\t\t\t.find(candidate => candidate.getEntry(uri));\n\n\t\tif (!session) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst entry = session.getEntry(uri)!;\n\t\tconst ctrl = entry.getEditorIntegration(editorService.activeEditorPane);\n\n\t\treturn instaService.invokeFunction(this.runChatEditingCommand.bind(this), session, entry, ctrl, ...args);\n\t}\n\n\tabstract runChatEditingCommand(accessor: ServicesAccessor, session: IChatEditingSession, entry: IModifiedFileEntry, integration: IModifiedFileEntryEditorIntegration, ...args: unknown[]): Promise<void> | void;\n}\n\nabstract class NavigateAction extends ChatEditingEditorAction {\n\n\tconstructor(readonly next: boolean) {\n\t\tsuper({\n\t\t\tid: next\n\t\t\t\t? 'chatEditor.action.navigateNext'\n\t\t\t\t: 'chatEditor.action.navigatePrevious',\n\t\t\ttitle: next\n\t\t\t\t? localize2('next', 'Go to Next Chat Edit')\n\t\t\t\t: localize2('prev', 'Go to Previous Chat Edit'),\n\t\t\ticon: next ? Codicon.arrowDown : Codicon.arrowUp,\n\t\t\tprecondition: ContextKeyExpr.and(ChatContextKeys.enabled, ctxHasEditorModification),\n\t\t\tkeybinding: {\n\t\t\t\tprimary: next\n\t\t\t\t\t? KeyMod.Alt | KeyCode.F5\n\t\t\t\t\t: KeyMod.Alt | KeyMod.Shift | KeyCode.F5,\n\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\tctxHasEditorModification,\n\t\t\t\t\tContextKeyExpr.or(EditorContextKeys.focus, NOTEBOOK_CELL_LIST_FOCUSED)\n\t\t\t\t),\n\t\t\t},\n\t\t\tf1: true,\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.ChatEditingEditorContent,\n\t\t\t\tgroup: 'navigate',\n\t\t\t\torder: !next ? 2 : 3,\n\t\t\t\twhen: ContextKeyExpr.and(ctxReviewModeEnabled, ctxHasEditorModification)\n\t\t\t}\n\t\t});\n\t}\n\n\toverride async runChatEditingCommand(accessor: ServicesAccessor, session: IChatEditingSession, entry: IModifiedFileEntry, ctrl: IModifiedFileEntryEditorIntegration): Promise<void> {\n\n\t\tconst instaService = accessor.get(IInstantiationService);\n\n\t\tconst done = this.next\n\t\t\t? ctrl.next(false)\n\t\t\t: ctrl.previous(false);\n\n\t\tif (done) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst didOpenNext = await instaService.invokeFunction(openNextOrPreviousChange, session, entry, this.next);\n\t\tif (didOpenNext) {\n\t\t\treturn;\n\t\t}\n\n\t\t//ELSE: wrap inside the same file\n\t\tthis.next\n\t\t\t? ctrl.next(true)\n\t\t\t: ctrl.previous(true);\n\t}\n}\n\nasync function openNextOrPreviousChange(accessor: ServicesAccessor, session: IChatEditingSession, entry: IModifiedFileEntry, next: boolean) {\n\n\tconst editorService = accessor.get(IEditorService);\n\n\tconst entries = session.entries.get();\n\tlet idx = entries.indexOf(entry);\n\n\tlet newEntry: IModifiedFileEntry;\n\twhile (true) {\n\t\tidx = (idx + (next ? 1 : -1) + entries.length) % entries.length;\n\t\tnewEntry = entries[idx];\n\t\tif (newEntry.state.get() === ModifiedFileEntryState.Modified) {\n\t\t\tbreak;\n\t\t} else if (newEntry === entry) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tconst pane = await editorService.openEditor({\n\t\tresource: newEntry.modifiedURI,\n\t\toptions: {\n\t\t\trevealIfOpened: false,\n\t\t\trevealIfVisible: false,\n\t\t}\n\t}, ACTIVE_GROUP);\n\n\tif (!pane) {\n\t\treturn false;\n\t}\n\n\tif (session.entries.get().includes(newEntry)) {\n\t\t// make sure newEntry is still valid!\n\t\tnewEntry.getEditorIntegration(pane).reveal(next);\n\t}\n\n\treturn true;\n}\n\nabstract class KeepOrUndoAction extends ChatEditingEditorAction {\n\n\tconstructor(id: string, private _keep: boolean) {\n\t\tsuper({\n\t\t\tid,\n\t\t\ttitle: _keep\n\t\t\t\t? localize2('accept', 'Keep Chat Edits')\n\t\t\t\t: localize2('discard', 'Undo Chat Edits'),\n\t\t\tshortTitle: _keep\n\t\t\t\t? localize2('accept2', 'Keep')\n\t\t\t\t: localize2('discard2', 'Undo'),\n\t\t\ttooltip: _keep\n\t\t\t\t? localize2('accept3', 'Keep Chat Edits in this File')\n\t\t\t\t: localize2('discard3', 'Undo Chat Edits in this File'),\n\t\t\tprecondition: ContextKeyExpr.and(ctxIsGlobalEditingSession, ctxHasEditorModification, ctxIsCurrentlyBeingModified.negate()),\n\t\t\ticon: _keep\n\t\t\t\t? Codicon.check\n\t\t\t\t: Codicon.discard,\n\t\t\tf1: true,\n\t\t\tkeybinding: {\n\t\t\t\twhen: ContextKeyExpr.or(EditorContextKeys.focus, NOTEBOOK_EDITOR_FOCUSED),\n\t\t\t\tweight: KeybindingWeight.WorkbenchContrib + 10, // win over new-window-action\n\t\t\t\tprimary: _keep\n\t\t\t\t\t? KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.KeyY\n\t\t\t\t\t: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.KeyN,\n\t\t\t},\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.ChatEditingEditorContent,\n\t\t\t\tgroup: 'a_resolve',\n\t\t\t\torder: _keep ? 0 : 1,\n\t\t\t\twhen: !_keep ? ctxReviewModeEnabled : undefined\n\t\t\t}\n\t\t});\n\t}\n\n\toverride async runChatEditingCommand(accessor: ServicesAccessor, session: IChatEditingSession, entry: IModifiedFileEntry, _integration: IModifiedFileEntryEditorIntegration): Promise<void> {\n\n\t\tconst instaService = accessor.get(IInstantiationService);\n\n\t\tif (this._keep) {\n\t\t\tsession.accept(entry.modifiedURI);\n\t\t} else {\n\t\t\tsession.reject(entry.modifiedURI);\n\t\t}\n\n\t\tawait instaService.invokeFunction(openNextOrPreviousChange, session, entry, true);\n\t}\n}\n\nexport class AcceptAction extends KeepOrUndoAction {\n\n\tstatic readonly ID = 'chatEditor.action.accept';\n\n\tconstructor() {\n\t\tsuper(AcceptAction.ID, true);\n\t}\n}\n\nexport class RejectAction extends KeepOrUndoAction {\n\n\tstatic readonly ID = 'chatEditor.action.reject';\n\n\tconstructor() {\n\t\tsuper(RejectAction.ID, false);\n\t}\n}\n\nconst acceptHunkId = 'chatEditor.action.acceptHunk';\nconst undoHunkId = 'chatEditor.action.undoHunk';\nabstract class AcceptRejectHunkAction extends ChatEditingEditorAction {\n\n\tconstructor(private readonly _accept: boolean) {\n\t\tsuper(\n\t\t\t{\n\t\t\t\tid: _accept ? acceptHunkId : undoHunkId,\n\t\t\t\ttitle: _accept ? localize2('acceptHunk', 'Keep this Change') : localize2('undo', 'Undo this Change'),\n\t\t\t\tshortTitle: _accept ? localize2('acceptHunkShort', 'Keep') : localize2('undoShort', 'Undo'),\n\t\t\t\tprecondition: ContextKeyExpr.and(ctxHasEditorModification, ctxIsCurrentlyBeingModified.negate()),\n\t\t\t\tf1: true,\n\t\t\t\tkeybinding: {\n\t\t\t\t\twhen: ContextKeyExpr.and(ctxCursorInChangeRange, ContextKeyExpr.or(EditorContextKeys.focus, NOTEBOOK_CELL_LIST_FOCUSED)),\n\t\t\t\t\tweight: KeybindingWeight.WorkbenchContrib + 1,\n\t\t\t\t\tprimary: _accept\n\t\t\t\t\t\t? KeyMod.CtrlCmd | KeyCode.KeyY\n\t\t\t\t\t\t: KeyMod.CtrlCmd | KeyCode.KeyN\n\t\t\t\t},\n\t\t\t\tmenu: {\n\t\t\t\t\tid: MenuId.ChatEditingEditorHunk,\n\t\t\t\t\torder: 1\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\toverride async runChatEditingCommand(accessor: ServicesAccessor, session: IChatEditingSession, entry: IModifiedFileEntry, ctrl: IModifiedFileEntryEditorIntegration, ...args: unknown[]): Promise<void> {\n\n\t\tconst instaService = accessor.get(IInstantiationService);\n\n\t\tif (this._accept) {\n\t\t\tawait ctrl.acceptNearestChange(args[0] as IModifiedFileEntryChangeHunk | undefined);\n\t\t} else {\n\t\t\tawait ctrl.rejectNearestChange(args[0] as IModifiedFileEntryChangeHunk | undefined);\n\t\t}\n\n\t\tif (entry.changesCount.get() === 0) {\n\t\t\t// no more changes, move to next file\n\t\t\tawait instaService.invokeFunction(openNextOrPreviousChange, session, entry, true);\n\t\t}\n\t}\n}\n\nexport class AcceptHunkAction extends AcceptRejectHunkAction {\n\n\tstatic readonly ID = acceptHunkId;\n\n\tconstructor() {\n\t\tsuper(true);\n\t}\n}\n\nexport class RejectHunkAction extends AcceptRejectHunkAction {\n\n\tstatic readonly ID = undoHunkId;\n\n\tconstructor() {\n\t\tsuper(false);\n\t}\n}\n\nclass ToggleDiffAction extends ChatEditingEditorAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'chatEditor.action.toggleDiff',\n\t\t\ttitle: localize2('diff', 'Toggle Diff Editor for Chat Edits'),\n\t\t\tcategory: CHAT_CATEGORY,\n\t\t\ttoggled: {\n\t\t\t\tcondition: ContextKeyExpr.or(EditorContextKeys.inDiffEditor, ActiveEditorContext.isEqualTo(TEXT_DIFF_EDITOR_ID))!,\n\t\t\t\ticon: Codicon.goToFile,\n\t\t\t},\n\t\t\tprecondition: ContextKeyExpr.and(ctxHasEditorModification),\n\t\t\ticon: Codicon.diffSingle,\n\t\t\tkeybinding: {\n\t\t\t\twhen: EditorContextKeys.focus,\n\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t\tprimary: KeyMod.Alt | KeyMod.Shift | KeyCode.F7,\n\t\t\t},\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.ChatEditingEditorHunk,\n\t\t\t\torder: 10\n\t\t\t}, {\n\t\t\t\tid: MenuId.ChatEditingEditorContent,\n\t\t\t\tgroup: 'a_resolve',\n\t\t\t\torder: 2,\n\t\t\t\twhen: ContextKeyExpr.and(ctxReviewModeEnabled)\n\t\t\t}]\n\t\t});\n\t}\n\n\toverride runChatEditingCommand(_accessor: ServicesAccessor, _session: IChatEditingSession, _entry: IModifiedFileEntry, integration: IModifiedFileEntryEditorIntegration, ...args: unknown[]): Promise<void> | void {\n\t\tintegration.toggleDiff(args[0] as IModifiedFileEntryChangeHunk | undefined);\n\t}\n}\n\nclass ToggleAccessibleDiffViewAction extends ChatEditingEditorAction {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'chatEditor.action.showAccessibleDiffView',\n\t\t\ttitle: localize2('accessibleDiff', 'Show Accessible Diff View for Chat Edits'),\n\t\t\tf1: true,\n\t\t\tprecondition: ContextKeyExpr.and(ctxHasEditorModification, ctxIsCurrentlyBeingModified.negate()),\n\t\t\tkeybinding: {\n\t\t\t\twhen: EditorContextKeys.focus,\n\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t\tprimary: KeyCode.F7,\n\t\t\t}\n\t\t});\n\t}\n\n\toverride runChatEditingCommand(_accessor: ServicesAccessor, _session: IChatEditingSession, _entry: IModifiedFileEntry, integration: IModifiedFileEntryEditorIntegration): Promise<void> | void {\n\t\tintegration.enableAccessibleDiffView();\n\t}\n}\n\nexport class ReviewChangesAction extends ChatEditingEditorAction {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'chatEditor.action.reviewChanges',\n\t\t\ttitle: localize2('review', \"Review\"),\n\t\t\tprecondition: ContextKeyExpr.and(ctxHasEditorModification, ctxIsCurrentlyBeingModified.negate()),\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.ChatEditingEditorContent,\n\t\t\t\tgroup: 'a_resolve',\n\t\t\t\torder: 3,\n\t\t\t\twhen: ContextKeyExpr.and(ctxReviewModeEnabled.negate(), ctxIsCurrentlyBeingModified.negate()),\n\t\t\t}]\n\t\t});\n\t}\n\n\toverride runChatEditingCommand(_accessor: ServicesAccessor, _session: IChatEditingSession, entry: IModifiedFileEntry, _integration: IModifiedFileEntryEditorIntegration, ..._args: unknown[]): void {\n\t\tentry.enableReviewModeUntilSettled();\n\t}\n}\n\nexport class AcceptAllEditsAction extends ChatEditingEditorAction {\n\n\tstatic readonly ID = 'chatEditor.action.acceptAllEdits';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: AcceptAllEditsAction.ID,\n\t\t\ttitle: localize2('acceptAllEdits', 'Keep All Chat Edits'),\n\t\t\ttooltip: localize2('acceptAllEditsTooltip', 'Keep All Chat Edits in this Session'),\n\t\t\tprecondition: ContextKeyExpr.and(ctxHasEditorModification, ctxIsCurrentlyBeingModified.negate()),\n\t\t\ticon: Codicon.checkAll,\n\t\t\tf1: true,\n\t\t\tkeybinding: {\n\t\t\t\twhen: ContextKeyExpr.or(EditorContextKeys.focus, NOTEBOOK_EDITOR_FOCUSED),\n\t\t\t\tweight: KeybindingWeight.WorkbenchContrib + 10,\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Alt | KeyCode.KeyY,\n\t\t\t},\n\t\t});\n\t}\n\n\toverride async runChatEditingCommand(_accessor: ServicesAccessor, session: IChatEditingSession, _entry: IModifiedFileEntry, _integration: IModifiedFileEntryEditorIntegration, ..._args: unknown[]): Promise<void> {\n\t\tawait session.accept();\n\t}\n}\n\n\n// --- multi file diff\n\nabstract class MultiDiffAcceptDiscardAction extends Action2 {\n\n\tconstructor(readonly accept: boolean) {\n\t\tsuper({\n\t\t\tid: accept ? 'chatEditing.multidiff.acceptAllFiles' : 'chatEditing.multidiff.discardAllFiles',\n\t\t\ttitle: accept ? localize('accept4', 'Keep All Edits') : localize('discard4', 'Undo All Edits'),\n\t\t\ticon: accept ? Codicon.check : Codicon.discard,\n\t\t\tmenu: {\n\t\t\t\twhen: ContextKeyExpr.equals('resourceScheme', CHAT_EDITING_MULTI_DIFF_SOURCE_RESOLVER_SCHEME),\n\t\t\t\tid: MenuId.EditorTitle,\n\t\t\t\torder: accept ? 0 : 1,\n\t\t\t\tgroup: 'navigation',\n\t\t\t},\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor, ...args: unknown[]): Promise<void> {\n\t\tconst chatEditingService = accessor.get(IChatEditingService);\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst editorGroupsService = accessor.get(IEditorGroupsService);\n\t\tconst listService = accessor.get(IListService);\n\n\t\tconst resolvedContext = resolveCommandsContext(args, editorService, editorGroupsService, listService);\n\n\t\tconst groupContext = resolvedContext.groupedEditors[0];\n\t\tif (!groupContext) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst editor = groupContext.editors[0];\n\t\tif (!(editor instanceof MultiDiffEditorInput) || !editor.resource) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst session = chatEditingService.getEditingSession(LocalChatSessionUri.forSession(editor.resource.authority));\n\t\tif (this.accept) {\n\t\t\tawait session?.accept();\n\t\t} else {\n\t\t\tawait session?.reject();\n\t\t}\n\t}\n}\n\n\nexport function registerChatEditorActions() {\n\tregisterAction2(class NextAction extends NavigateAction { constructor() { super(true); } });\n\tregisterAction2(class PrevAction extends NavigateAction { constructor() { super(false); } });\n\tregisterAction2(ReviewChangesAction);\n\tregisterAction2(AcceptAction);\n\tregisterAction2(RejectAction);\n\tregisterAction2(AcceptAllEditsAction);\n\tregisterAction2(AcceptHunkAction);\n\tregisterAction2(RejectHunkAction);\n\tregisterAction2(ToggleDiffAction);\n\tregisterAction2(ToggleAccessibleDiffViewAction);\n\n\tregisterAction2(class extends MultiDiffAcceptDiscardAction { constructor() { super(true); } });\n\tregisterAction2(class extends MultiDiffAcceptDiscardAction { constructor() { super(false); } });\n\n\tMenuRegistry.appendMenuItem(MenuId.ChatEditingEditorContent, {\n\t\tcommand: {\n\t\t\tid: navigationBearingFakeActionId,\n\t\t\ttitle: localize('label', \"Navigation Status\"),\n\t\t\tprecondition: ContextKeyExpr.false(),\n\t\t},\n\t\tgroup: 'navigate',\n\t\torder: -1,\n\t\twhen: ContextKeyExpr.and(ctxReviewModeEnabled, ctxHasEditorModification),\n\t});\n}\n\nexport const navigationBearingFakeActionId = 'chatEditor.navigation.bearings';\n"]}