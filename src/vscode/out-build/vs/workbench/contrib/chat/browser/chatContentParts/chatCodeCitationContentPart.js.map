{"version":3,"sources":["vs/workbench/contrib/chat/browser/chatContentParts/chatCodeCitationContentPart.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;AAEhG,OAAO,KAAK,GAAG,MAAM,oCAAoC,CAAC;AAC1D,OAAO,EAAE,MAAM,EAAE,MAAM,iDAAiD,CAAC;AACzE,OAAO,EAAE,UAAU,EAAE,MAAM,yCAAyC,CAAC;AACrE,OAAO,EAAE,QAAQ,EAAE,MAAM,uBAAuB,CAAC;AACjD,OAAO,EAAE,iBAAiB,EAAE,MAAM,uDAAuD,CAAC;AAG1F,OAAO,EAAE,uBAAuB,EAAE,MAAM,2BAA2B,CAAC;AAEpE,OAAO,EAAE,cAAc,EAAE,MAAM,qDAAqD,CAAC;AAO9E,IAAM,2BAA2B,GAAjC,MAAM,2BAA4B,SAAQ,UAAU;IAG1D,YACC,SAA6B,EAC7B,OAAsC,EACL,aAA6B,EAC1B,gBAAmC;QAEvE,KAAK,EAAE,CAAC;QAHyB,kBAAa,GAAb,aAAa,CAAgB;QAC1B,qBAAgB,GAAhB,gBAAgB,CAAmB;QAIvE,MAAM,KAAK,GAAG,uBAAuB,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;QAC3D,MAAM,QAAQ,GAAG,GAAG,CAAC,CAAC,CAAC,kCAAkC,EAAE;YAC1D,GAAG,CAAC,CAAC,CAAC,qCAAqC,CAAC;YAC5C,GAAG,CAAC,CAAC,CAAC,6CAA6C,CAAC;SACpD,CAAC,CAAC;QACH,QAAQ,CAAC,KAAK,CAAC,WAAW,GAAG,KAAK,GAAG,KAAK,CAAC;QAC3C,MAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE;YACzD,gBAAgB,EAAE,SAAS;YAC3B,YAAY,EAAE,SAAS;YACvB,gBAAgB,EAAE,SAAS;YAC3B,qBAAqB,EAAE,SAAS;YAChC,yBAAyB,EAAE,SAAS;YACpC,yBAAyB,EAAE,SAAS;YACpC,8BAA8B,EAAE,SAAS;YACzC,eAAe,EAAE,SAAS;SAC1B,CAAC,CAAC,CAAC;QACJ,MAAM,CAAC,KAAK,GAAG,QAAQ,CAAC,IAAa,EAAE,IAAc,CAAC,CAAC;QACvD,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE;YACrC,MAAM,YAAY,GAAG,sBAAsB,GAAG,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,eAAe,CAAC,CAAC,OAAO,KAAK,CAAC,CAAC,KAAK,CAAC,QAAQ,EAAE,eAAe,CAAC,CAAC,OAAO,cAAc,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC7K,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,EAAE,YAAY,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,CAAC;YACvG,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAA2C,yBAAyB,CAAC,CAAC;QACvG,CAAC,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,IAAI,CAAC;IAC9B,CAAC;IAED,cAAc,CAAC,KAA2B,EAAE,gBAAwC,EAAE,OAAqB;QAC1G,OAAO,KAAK,CAAC,IAAI,KAAK,eAAe,CAAC;IACvC,CAAC;CACD,CAAA;AAvCY,2BAA2B;IAMrC,WAAA,cAAc,CAAA;IACd,WAAA,iBAAiB,CAAA;GAPP,2BAA2B,CAuCvC","file":"chatCodeCitationContentPart.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../../base/browser/dom.js';\nimport { Button } from '../../../../../base/browser/ui/button/button.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { localize } from '../../../../../nls.js';\nimport { ITelemetryService } from '../../../../../platform/telemetry/common/telemetry.js';\nimport { ChatTreeItem } from '../chat.js';\nimport { IChatContentPart, IChatContentPartRenderContext } from './chatContentParts.js';\nimport { getCodeCitationsMessage } from '../../common/chatModel.js';\nimport { IChatCodeCitations, IChatRendererContent } from '../../common/chatViewModel.js';\nimport { IEditorService } from '../../../../services/editor/common/editorService.js';\n\ntype ChatCodeCitationOpenedClassification = {\n\towner: 'roblourens';\n\tcomment: 'Indicates when a user opens chat code citations';\n};\n\nexport class ChatCodeCitationContentPart extends Disposable implements IChatContentPart {\n\tpublic readonly domNode: HTMLElement;\n\n\tconstructor(\n\t\tcitations: IChatCodeCitations,\n\t\tcontext: IChatContentPartRenderContext,\n\t\t@IEditorService private readonly editorService: IEditorService,\n\t\t@ITelemetryService private readonly telemetryService: ITelemetryService\n\t) {\n\t\tsuper();\n\n\t\tconst label = getCodeCitationsMessage(citations.citations);\n\t\tconst elements = dom.h('.chat-code-citation-message@root', [\n\t\t\tdom.h('span.chat-code-citation-label@label'),\n\t\t\tdom.h('.chat-code-citation-button-container@button'),\n\t\t]);\n\t\telements.label.textContent = label + ' - ';\n\t\tconst button = this._register(new Button(elements.button, {\n\t\t\tbuttonBackground: undefined,\n\t\t\tbuttonBorder: undefined,\n\t\t\tbuttonForeground: undefined,\n\t\t\tbuttonHoverBackground: undefined,\n\t\t\tbuttonSecondaryBackground: undefined,\n\t\t\tbuttonSecondaryForeground: undefined,\n\t\t\tbuttonSecondaryHoverBackground: undefined,\n\t\t\tbuttonSeparator: undefined\n\t\t}));\n\t\tbutton.label = localize('viewMatches', \"View matches\");\n\t\tthis._register(button.onDidClick(() => {\n\t\t\tconst citationText = `# Code Citations\\n\\n` + citations.citations.map(c => `## License: ${c.license}\\n${c.value.toString()}\\n\\n\\`\\`\\`\\n${c.snippet}\\n\\`\\`\\`\\n\\n`).join('\\n');\n\t\t\tthis.editorService.openEditor({ resource: undefined, contents: citationText, languageId: 'markdown' });\n\t\t\tthis.telemetryService.publicLog2<{}, ChatCodeCitationOpenedClassification>('openedChatCodeCitations');\n\t\t}));\n\t\tthis.domNode = elements.root;\n\t}\n\n\thasSameContent(other: IChatRendererContent, followingContent: IChatRendererContent[], element: ChatTreeItem): boolean {\n\t\treturn other.kind === 'codeCitations';\n\t}\n}\n"]}