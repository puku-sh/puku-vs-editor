{"version":3,"sources":["vs/workbench/contrib/chat/browser/actions/chatSessionActions.ts"],"names":[],"mappings":"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","file":"chatSessionActions.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from '../../../../../base/common/cancellation.js';\nimport { Codicon } from '../../../../../base/common/codicons.js';\nimport { KeyCode } from '../../../../../base/common/keyCodes.js';\nimport { MarshalledId } from '../../../../../base/common/marshallingIds.js';\nimport { IChatSessionRecommendation } from '../../../../../base/common/product.js';\nimport Severity from '../../../../../base/common/severity.js';\nimport * as nls from '../../../../../nls.js';\nimport { localize } from '../../../../../nls.js';\nimport { Action2, MenuId, MenuRegistry } from '../../../../../platform/actions/common/actions.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { ContextKeyExpr } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { IDialogService } from '../../../../../platform/dialogs/common/dialogs.js';\nimport { IExtensionGalleryService } from '../../../../../platform/extensionManagement/common/extensionManagement.js';\nimport { ServicesAccessor } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { KeybindingWeight } from '../../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { ILogService } from '../../../../../platform/log/common/log.js';\nimport { IProductService } from '../../../../../platform/product/common/productService.js';\nimport { IQuickInputService } from '../../../../../platform/quickinput/common/quickInput.js';\nimport { IEditorGroupsService } from '../../../../services/editor/common/editorGroupsService.js';\nimport { AUX_WINDOW_GROUP, IEditorService, SIDE_GROUP } from '../../../../services/editor/common/editorService.js';\nimport { IWorkbenchExtensionManagementService } from '../../../../services/extensionManagement/common/extensionManagement.js';\nimport { IViewsService } from '../../../../services/views/common/viewsService.js';\nimport { ChatContextKeys } from '../../common/chatContextKeys.js';\nimport { IChatService } from '../../common/chatService.js';\nimport { IChatSessionItem, IChatSessionsService, localChatSessionType } from '../../common/chatSessionsService.js';\nimport { LocalChatSessionUri } from '../../common/chatUri.js';\nimport { LEGACY_AGENT_SESSIONS_VIEW_ID, ChatConfiguration } from '../../common/constants.js';\nimport { AGENT_SESSIONS_VIEW_CONTAINER_ID, AGENT_SESSIONS_VIEW_ID } from '../agentSessions/agentSessions.js';\nimport { ChatViewId, IChatWidgetService } from '../chat.js';\nimport { IChatEditorOptions } from '../chatEditor.js';\nimport { findExistingChatEditorByUri } from '../chatSessions/common.js';\nimport { ChatViewPane } from '../chatViewPane.js';\nimport { ACTION_ID_OPEN_CHAT, CHAT_CATEGORY } from './chatActions.js';\n\nexport interface IMarshalledChatSessionContext {\n\treadonly $mid: MarshalledId.ChatSessionContext;\n\treadonly session: IChatSessionItem;\n}\n\nexport class RenameChatSessionAction extends Action2 {\n\tstatic readonly id = 'workbench.action.chat.renameSession';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: RenameChatSessionAction.id,\n\t\t\ttitle: localize('renameSession', \"Rename\"),\n\t\t\tf1: false,\n\t\t\tcategory: CHAT_CATEGORY,\n\t\t\ticon: Codicon.pencil,\n\t\t\tkeybinding: {\n\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t\tprimary: KeyCode.F2,\n\t\t\t\twhen: ContextKeyExpr.equals('focusedView', 'workbench.view.chat.sessions.local')\n\t\t\t}\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor, context?: IMarshalledChatSessionContext): Promise<void> {\n\t\tif (!context) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Handle marshalled context from menu actions\n\t\tconst label = context.session.label;\n\t\tconst chatSessionsService = accessor.get(IChatSessionsService);\n\t\tconst logService = accessor.get(ILogService);\n\t\tconst chatService = accessor.get(IChatService);\n\n\t\ttry {\n\t\t\t// Find the chat sessions view and trigger inline rename mode\n\t\t\t// This is similar to how file renaming works in the explorer\n\t\t\tawait chatSessionsService.setEditableSession(context.session.resource, {\n\t\t\t\tvalidationMessage: (value: string) => {\n\t\t\t\t\tif (!value || value.trim().length === 0) {\n\t\t\t\t\t\treturn { content: localize('renameSession.emptyName', \"Name cannot be empty\"), severity: Severity.Error };\n\t\t\t\t\t}\n\t\t\t\t\tif (value.length > 100) {\n\t\t\t\t\t\treturn { content: localize('renameSession.nameTooLong', \"Name is too long (maximum 100 characters)\"), severity: Severity.Error };\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t},\n\t\t\t\tplaceholder: localize('renameSession.placeholder', \"Enter new name for chat session\"),\n\t\t\t\tstartingValue: label,\n\t\t\t\tonFinish: async (value: string, success: boolean) => {\n\t\t\t\t\tif (success && value && value.trim() !== label) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst newTitle = value.trim();\n\t\t\t\t\t\t\tchatService.setChatSessionTitle(context.session.resource, newTitle);\n\t\t\t\t\t\t\t// Notify the local sessions provider that items have changed\n\t\t\t\t\t\t\tchatSessionsService.notifySessionItemsChanged(localChatSessionType);\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\tlogService.error(\n\t\t\t\t\t\t\t\tlocalize('renameSession.error', \"Failed to rename chat session: {0}\",\n\t\t\t\t\t\t\t\t\t(error instanceof Error ? error.message : String(error)))\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tawait chatSessionsService.setEditableSession(context.session.resource, null);\n\t\t\t\t}\n\t\t\t});\n\t\t} catch (error) {\n\t\t\tlogService.error('Failed to rename chat session', error instanceof Error ? error.message : String(error));\n\t\t}\n\t}\n}\n\n/**\n * Action to delete a chat session from history\n */\nexport class DeleteChatSessionAction extends Action2 {\n\tstatic readonly id = 'workbench.action.chat.deleteSession';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: DeleteChatSessionAction.id,\n\t\t\ttitle: localize('deleteSession', \"Delete\"),\n\t\t\tf1: false,\n\t\t\tcategory: CHAT_CATEGORY,\n\t\t\ticon: Codicon.x,\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor, context?: IMarshalledChatSessionContext): Promise<void> {\n\t\tif (!context) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Handle marshalled context from menu actions\n\t\tconst chatService = accessor.get(IChatService);\n\t\tconst dialogService = accessor.get(IDialogService);\n\t\tconst logService = accessor.get(ILogService);\n\t\tconst chatSessionsService = accessor.get(IChatSessionsService);\n\n\t\ttry {\n\t\t\t// Show confirmation dialog\n\t\t\tconst result = await dialogService.confirm({\n\t\t\t\tmessage: localize('deleteSession.confirm', \"Are you sure you want to delete this chat session?\"),\n\t\t\t\tdetail: localize('deleteSession.detail', \"This action cannot be undone.\"),\n\t\t\t\tprimaryButton: localize('deleteSession.delete', \"Delete\"),\n\t\t\t\ttype: 'warning'\n\t\t\t});\n\n\t\t\tif (result.confirmed) {\n\t\t\t\tawait chatService.removeHistoryEntry(context.session.resource);\n\t\t\t\t// Notify the local sessions provider that items have changed\n\t\t\t\tchatSessionsService.notifySessionItemsChanged(localChatSessionType);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tlogService.error('Failed to delete chat session', error instanceof Error ? error.message : String(error));\n\t\t}\n\t}\n}\n\n/**\n * Action to open a chat session in a new window\n */\nexport class OpenChatSessionInNewWindowAction extends Action2 {\n\tstatic readonly id = 'workbench.action.chat.openSessionInNewWindow';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: OpenChatSessionInNewWindowAction.id,\n\t\t\ttitle: localize('chat.openSessionInNewWindow.label', \"Move Chat into New Window\"),\n\t\t\tcategory: CHAT_CATEGORY,\n\t\t\tf1: false,\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor, context?: IMarshalledChatSessionContext): Promise<void> {\n\t\tif (!context) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst chatWidgetService = accessor.get(IChatWidgetService);\n\t\tconst editorGroupsService = accessor.get(IEditorGroupsService);\n\n\t\tconst uri = context.session.resource;\n\n\t\t// Check if this session is already open in another editor\n\t\tconst existingEditor = findExistingChatEditorByUri(uri, editorGroupsService);\n\t\tif (existingEditor) {\n\t\t\tawait editorService.openEditor(existingEditor.editor, existingEditor.group);\n\t\t\treturn;\n\t\t} else if (chatWidgetService.getWidgetBySessionResource(uri)) {\n\t\t\treturn;\n\t\t} else {\n\t\t\tconst options: IChatEditorOptions = {\n\t\t\t\tignoreInView: true,\n\t\t\t\tauxiliary: { compact: true, bounds: { width: 800, height: 640 } }\n\t\t\t};\n\t\t\tawait editorService.openEditor({\n\t\t\t\tresource: uri,\n\t\t\t\toptions,\n\t\t\t}, AUX_WINDOW_GROUP);\n\t\t}\n\t}\n}\n\n/**\n * Action to open a chat session in a new editor group to the side\n */\nexport class OpenChatSessionInNewEditorGroupAction extends Action2 {\n\tstatic readonly id = 'workbench.action.chat.openSessionInNewEditorGroup';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: OpenChatSessionInNewEditorGroupAction.id,\n\t\t\ttitle: localize('chat.openSessionInNewEditorGroup.label', \"Move Chat to the Side\"),\n\t\t\tcategory: CHAT_CATEGORY,\n\t\t\tf1: false,\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor, context?: IMarshalledChatSessionContext): Promise<void> {\n\t\tif (!context) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst chatWidgetService = accessor.get(IChatWidgetService);\n\t\tconst editorGroupsService = accessor.get(IEditorGroupsService);\n\n\t\tconst uri = context.session.resource;\n\n\t\t// Check if this session is already open in another editor\n\t\tconst existingEditor = findExistingChatEditorByUri(uri, editorGroupsService);\n\t\tif (existingEditor) {\n\t\t\tawait editorService.openEditor(existingEditor.editor, existingEditor.group);\n\t\t\treturn;\n\t\t} else if (chatWidgetService.getWidgetBySessionResource(uri)) {\n\t\t\t// Already opened in chat widget\n\t\t\treturn;\n\t\t} else {\n\t\t\tconst options: IChatEditorOptions = {\n\t\t\t\tignoreInView: true,\n\t\t\t};\n\t\t\tawait editorService.openEditor({\n\t\t\t\tresource: uri,\n\t\t\t\toptions,\n\t\t\t}, SIDE_GROUP);\n\t\t}\n\t}\n}\n\n/**\n * Action to open a chat session in the sidebar (chat widget)\n */\nexport class OpenChatSessionInSidebarAction extends Action2 {\n\tstatic readonly id = 'workbench.action.chat.openSessionInSidebar';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: OpenChatSessionInSidebarAction.id,\n\t\t\ttitle: localize('chat.openSessionInSidebar.label', \"Move Chat into Side Bar\"),\n\t\t\tcategory: CHAT_CATEGORY,\n\t\t\tf1: false,\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor, context?: IMarshalledChatSessionContext): Promise<void> {\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst viewsService = accessor.get(IViewsService);\n\t\tconst chatWidgetService = accessor.get(IChatWidgetService);\n\t\tconst editorGroupsService = accessor.get(IEditorGroupsService);\n\n\t\tif (!context) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!LocalChatSessionUri.parseLocalSessionId(context.session.resource)) {\n\t\t\t// We only allow local sessions to be opened in the side bar\n\t\t\treturn;\n\t\t}\n\n\t\t// Check if this session is already open in another editor\n\t\t// TODO: this feels strange. Should we prefer moving the editor to the sidebar instead?\n\t\tconst existingEditor = findExistingChatEditorByUri(context.session.resource, editorGroupsService);\n\t\tif (existingEditor) {\n\t\t\tawait editorService.openEditor(existingEditor.editor, existingEditor.group);\n\t\t\treturn;\n\t\t} else if (chatWidgetService.getWidgetBySessionResource(context.session.resource)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Open the chat view in the sidebar\n\t\tconst chatViewPane = await viewsService.openView(ChatViewId) as ChatViewPane;\n\t\tif (chatViewPane) {\n\t\t\t// Handle different session types\n\t\t\tawait chatViewPane.loadSession(context.session.resource);\n\n\t\t\t// Focus the chat input\n\t\t\tchatViewPane.focusInput();\n\t\t}\n\t}\n}\n\n/**\n * Action to toggle the description display mode for Chat Sessions\n */\nexport class ToggleChatSessionsDescriptionDisplayAction extends Action2 {\n\tstatic readonly id = 'workbench.action.chatSessions.toggleDescriptionDisplay';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: ToggleChatSessionsDescriptionDisplayAction.id,\n\t\t\ttitle: localize('chatSessions.toggleDescriptionDisplay.label', \"Show Rich Descriptions\"),\n\t\t\tcategory: CHAT_CATEGORY,\n\t\t\tf1: false,\n\t\t\ttoggled: ContextKeyExpr.equals(`config.${ChatConfiguration.ShowAgentSessionsViewDescription}`, true)\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst configurationService = accessor.get(IConfigurationService);\n\t\tconst currentValue = configurationService.getValue(ChatConfiguration.ShowAgentSessionsViewDescription);\n\n\t\tawait configurationService.updateValue(\n\t\t\tChatConfiguration.ShowAgentSessionsViewDescription,\n\t\t\t!currentValue\n\t\t);\n\t}\n}\n\n/**\n * Action to toggle between 'view' and 'single-view' modes for Agent Sessions\n */\nexport class ToggleAgentSessionsViewLocationAction extends Action2 {\n\n\tstatic readonly id = 'workbench.action.chatSessions.toggleNewCombinedView';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: ToggleAgentSessionsViewLocationAction.id,\n\t\t\ttitle: localize('chatSessions.toggleViewLocation.label', \"Combined Sessions View\"),\n\t\t\tcategory: CHAT_CATEGORY,\n\t\t\tf1: false,\n\t\t\ttoggled: ContextKeyExpr.equals(`config.${ChatConfiguration.AgentSessionsViewLocation}`, 'single-view'),\n\t\t\tmenu: [\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.ViewContainerTitle,\n\t\t\t\t\twhen: ContextKeyExpr.equals('viewContainer', LEGACY_AGENT_SESSIONS_VIEW_ID),\n\t\t\t\t\tgroup: '2_togglenew',\n\t\t\t\t\torder: 1\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: MenuId.ViewContainerTitle,\n\t\t\t\t\twhen: ContextKeyExpr.equals('viewContainer', AGENT_SESSIONS_VIEW_CONTAINER_ID),\n\t\t\t\t\tgroup: '2_togglenew',\n\t\t\t\t\torder: 1\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst configurationService = accessor.get(IConfigurationService);\n\t\tconst viewsService = accessor.get(IViewsService);\n\n\t\tconst currentValue = configurationService.getValue<string>(ChatConfiguration.AgentSessionsViewLocation);\n\n\t\tconst newValue = currentValue === 'single-view' ? 'view' : 'single-view';\n\n\t\tawait configurationService.updateValue(ChatConfiguration.AgentSessionsViewLocation, newValue);\n\n\t\tconst viewId = newValue === 'single-view' ? AGENT_SESSIONS_VIEW_ID : `${LEGACY_AGENT_SESSIONS_VIEW_ID}.local`;\n\t\tawait viewsService.openView(viewId, true);\n\t}\n}\n\nexport class ChatSessionsGettingStartedAction extends Action2 {\n\tstatic readonly ID = 'chat.sessions.gettingStarted';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: ChatSessionsGettingStartedAction.ID,\n\t\t\ttitle: nls.localize2('chat.sessions.gettingStarted.action', \"Getting Started with Chat Sessions\"),\n\t\t\ticon: Codicon.sendToRemoteAgent,\n\t\t\tf1: false,\n\t\t});\n\t}\n\n\toverride async run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst productService = accessor.get(IProductService);\n\t\tconst quickInputService = accessor.get(IQuickInputService);\n\t\tconst extensionManagementService = accessor.get(IWorkbenchExtensionManagementService);\n\t\tconst extensionGalleryService = accessor.get(IExtensionGalleryService);\n\n\t\tconst recommendations = productService.chatSessionRecommendations;\n\t\tif (!recommendations || recommendations.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst installedExtensions = await extensionManagementService.getInstalled();\n\t\tconst isExtensionAlreadyInstalled = (extensionId: string) => {\n\t\t\treturn installedExtensions.find(installed => installed.identifier.id === extensionId);\n\t\t};\n\n\t\tconst quickPickItems = recommendations.map((recommendation: IChatSessionRecommendation) => {\n\t\t\tconst extensionInstalled = !!isExtensionAlreadyInstalled(recommendation.extensionId);\n\t\t\treturn {\n\t\t\t\tlabel: recommendation.displayName,\n\t\t\t\tdescription: recommendation.description,\n\t\t\t\tdetail: extensionInstalled\n\t\t\t\t\t? nls.localize('chatSessions.extensionAlreadyInstalled', \"'{0}' is already installed\", recommendation.extensionName)\n\t\t\t\t\t: nls.localize('chatSessions.installExtension', \"Installs '{0}'\", recommendation.extensionName),\n\t\t\t\textensionId: recommendation.extensionId,\n\t\t\t\tdisabled: extensionInstalled,\n\t\t\t};\n\t\t});\n\n\t\tconst selected = await quickInputService.pick(quickPickItems, {\n\t\t\ttitle: nls.localize('chatSessions.selectExtension', \"Install Chat Extensions\"),\n\t\t\tplaceHolder: nls.localize('chatSessions.pickPlaceholder', \"Choose extensions to enhance your chat experience\"),\n\t\t\tcanPickMany: true,\n\t\t});\n\n\t\tif (!selected) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst galleryExtensions = await extensionGalleryService.getExtensions(selected.map(item => ({ id: item.extensionId })), CancellationToken.None);\n\t\tif (!galleryExtensions) {\n\t\t\treturn;\n\t\t}\n\t\tawait extensionManagementService.installGalleryExtensions(galleryExtensions.map(extension => ({ extension, options: { preRelease: productService.quality !== 'stable' } })));\n\t}\n}\n\n// Register the menu item - show for all local chat sessions (including history items)\nMenuRegistry.appendMenuItem(MenuId.ChatSessionsMenu, {\n\tcommand: {\n\t\tid: RenameChatSessionAction.id,\n\t\ttitle: localize('renameSession', \"Rename\"),\n\t\ticon: Codicon.pencil\n\t},\n\tgroup: 'inline',\n\torder: 1,\n\twhen: ChatContextKeys.sessionType.isEqualTo(localChatSessionType)\n});\n\n// Register delete menu item - only show for non-active sessions (history items)\nMenuRegistry.appendMenuItem(MenuId.ChatSessionsMenu, {\n\tcommand: {\n\t\tid: DeleteChatSessionAction.id,\n\t\ttitle: localize('deleteSession', \"Delete\"),\n\t\ticon: Codicon.x\n\t},\n\tgroup: 'inline',\n\torder: 2,\n\twhen: ContextKeyExpr.and(\n\t\tChatContextKeys.isArchivedItem.isEqualTo(true),\n\t\tChatContextKeys.isActiveSession.isEqualTo(false)\n\t)\n});\n\nMenuRegistry.appendMenuItem(MenuId.ChatSessionsMenu, {\n\tcommand: {\n\t\tid: OpenChatSessionInNewWindowAction.id,\n\t\ttitle: localize('openSessionInNewWindow', \"Open in New Window\")\n\t},\n\tgroup: 'navigation',\n\torder: 1,\n});\n\nMenuRegistry.appendMenuItem(MenuId.ChatSessionsMenu, {\n\tcommand: {\n\t\tid: OpenChatSessionInNewEditorGroupAction.id,\n\t\ttitle: localize('openToSide', \"Open to the Side\")\n\t},\n\tgroup: 'navigation',\n\torder: 2,\n});\n\nMenuRegistry.appendMenuItem(MenuId.ChatSessionsMenu, {\n\tcommand: {\n\t\tid: OpenChatSessionInSidebarAction.id,\n\t\ttitle: localize('openSessionInSidebar', \"Open in Sidebar\")\n\t},\n\tgroup: 'navigation',\n\torder: 3,\n\twhen: ChatContextKeys.sessionType.isEqualTo(localChatSessionType),\n});\n\n// Register the toggle command for the ViewTitle menu\nMenuRegistry.appendMenuItem(MenuId.ViewContainerTitle, {\n\tcommand: {\n\t\tid: ToggleChatSessionsDescriptionDisplayAction.id,\n\t\ttitle: localize('chatSessions.toggleDescriptionDisplay.label', \"Show Rich Descriptions\"),\n\t\ttoggled: ContextKeyExpr.equals(`config.${ChatConfiguration.ShowAgentSessionsViewDescription}`, true)\n\t},\n\tgroup: '1_config',\n\torder: 1,\n\twhen: ContextKeyExpr.equals('viewContainer', LEGACY_AGENT_SESSIONS_VIEW_ID),\n});\n\nMenuRegistry.appendMenuItem(MenuId.ViewTitle, {\n\tcommand: {\n\t\tid: ACTION_ID_OPEN_CHAT,\n\t\ttitle: nls.localize2('interactiveSession.open', \"New Chat Editor\"),\n\t\ticon: Codicon.plus\n\t},\n\tgroup: 'navigation',\n\torder: 1,\n\twhen: ContextKeyExpr.equals('view', `${LEGACY_AGENT_SESSIONS_VIEW_ID}.local`),\n});\n"]}