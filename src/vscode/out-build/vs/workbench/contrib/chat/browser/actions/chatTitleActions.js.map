{"version":3,"sources":["vs/workbench/contrib/chat/browser/actions/chatTitleActions.ts"],"names":[],"mappings":"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","file":"chatTitleActions.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Codicon } from '../../../../../base/common/codicons.js';\nimport { marked } from '../../../../../base/common/marked/marked.js';\nimport { basename } from '../../../../../base/common/resources.js';\nimport { ServicesAccessor } from '../../../../../editor/browser/editorExtensions.js';\nimport { IBulkEditService } from '../../../../../editor/browser/services/bulkEditService.js';\nimport { localize, localize2 } from '../../../../../nls.js';\nimport { Action2, MenuId, registerAction2 } from '../../../../../platform/actions/common/actions.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { ContextKeyExpr } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { IDialogService } from '../../../../../platform/dialogs/common/dialogs.js';\nimport { IEditorService } from '../../../../services/editor/common/editorService.js';\nimport { ResourceNotebookCellEdit } from '../../../bulkEdit/browser/bulkCellEdits.js';\nimport { MENU_INLINE_CHAT_WIDGET_SECONDARY } from '../../../inlineChat/common/inlineChat.js';\nimport { INotebookEditor } from '../../../notebook/browser/notebookBrowser.js';\nimport { CellEditType, CellKind, NOTEBOOK_EDITOR_ID } from '../../../notebook/common/notebookCommon.js';\nimport { NOTEBOOK_IS_ACTIVE_EDITOR } from '../../../notebook/common/notebookContextKeys.js';\nimport { ChatContextKeys } from '../../common/chatContextKeys.js';\nimport { applyingChatEditsFailedContextKey, isChatEditingActionContext } from '../../common/chatEditingService.js';\nimport { ChatAgentVoteDirection, ChatAgentVoteDownReason, IChatService } from '../../common/chatService.js';\nimport { isResponseVM } from '../../common/chatViewModel.js';\nimport { ChatModeKind } from '../../common/constants.js';\nimport { IChatWidgetService } from '../chat.js';\nimport { CHAT_CATEGORY } from './chatActions.js';\n\nexport const MarkUnhelpfulActionId = 'workbench.action.chat.markUnhelpful';\nconst enableFeedbackConfig = 'config.telemetry.feedback.enabled';\n\nexport function registerChatTitleActions() {\n\tregisterAction2(class MarkHelpfulAction extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: 'workbench.action.chat.markHelpful',\n\t\t\t\ttitle: localize2('interactive.helpful.label', \"Helpful\"),\n\t\t\t\tf1: false,\n\t\t\t\tcategory: CHAT_CATEGORY,\n\t\t\t\ticon: Codicon.thumbsup,\n\t\t\t\ttoggled: ChatContextKeys.responseVote.isEqualTo('up'),\n\t\t\t\tmenu: [{\n\t\t\t\t\tid: MenuId.ChatMessageFooter,\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\torder: 2,\n\t\t\t\t\twhen: ContextKeyExpr.and(ChatContextKeys.extensionParticipantRegistered, ChatContextKeys.isResponse, ChatContextKeys.responseHasError.negate(), ContextKeyExpr.has(enableFeedbackConfig))\n\t\t\t\t}, {\n\t\t\t\t\tid: MENU_INLINE_CHAT_WIDGET_SECONDARY,\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\torder: 1,\n\t\t\t\t\twhen: ContextKeyExpr.and(ChatContextKeys.extensionParticipantRegistered, ChatContextKeys.isResponse, ChatContextKeys.responseHasError.negate(), ContextKeyExpr.has(enableFeedbackConfig))\n\t\t\t\t}]\n\t\t\t});\n\t\t}\n\n\t\trun(accessor: ServicesAccessor, ...args: unknown[]) {\n\t\t\tconst item = args[0];\n\t\t\tif (!isResponseVM(item)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst chatService = accessor.get(IChatService);\n\t\t\tchatService.notifyUserAction({\n\t\t\t\tagentId: item.agent?.id,\n\t\t\t\tcommand: item.slashCommand?.name,\n\t\t\t\tsessionResource: item.session.sessionResource,\n\t\t\t\trequestId: item.requestId,\n\t\t\t\tresult: item.result,\n\t\t\t\taction: {\n\t\t\t\t\tkind: 'vote',\n\t\t\t\t\tdirection: ChatAgentVoteDirection.Up,\n\t\t\t\t\treason: undefined\n\t\t\t\t}\n\t\t\t});\n\t\t\titem.setVote(ChatAgentVoteDirection.Up);\n\t\t\titem.setVoteDownReason(undefined);\n\t\t}\n\t});\n\n\tregisterAction2(class MarkUnhelpfulAction extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: MarkUnhelpfulActionId,\n\t\t\t\ttitle: localize2('interactive.unhelpful.label', \"Unhelpful\"),\n\t\t\t\tf1: false,\n\t\t\t\tcategory: CHAT_CATEGORY,\n\t\t\t\ticon: Codicon.thumbsdown,\n\t\t\t\ttoggled: ChatContextKeys.responseVote.isEqualTo('down'),\n\t\t\t\tmenu: [{\n\t\t\t\t\tid: MenuId.ChatMessageFooter,\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\torder: 3,\n\t\t\t\t\twhen: ContextKeyExpr.and(ChatContextKeys.extensionParticipantRegistered, ChatContextKeys.isResponse, ContextKeyExpr.has(enableFeedbackConfig))\n\t\t\t\t}, {\n\t\t\t\t\tid: MENU_INLINE_CHAT_WIDGET_SECONDARY,\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\torder: 2,\n\t\t\t\t\twhen: ContextKeyExpr.and(ChatContextKeys.extensionParticipantRegistered, ChatContextKeys.isResponse, ChatContextKeys.responseHasError.negate(), ContextKeyExpr.has(enableFeedbackConfig))\n\t\t\t\t}]\n\t\t\t});\n\t\t}\n\n\t\trun(accessor: ServicesAccessor, ...args: unknown[]) {\n\t\t\tconst item = args[0];\n\t\t\tif (!isResponseVM(item)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst reason = args[1];\n\t\t\tif (typeof reason !== 'string') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\titem.setVote(ChatAgentVoteDirection.Down);\n\t\t\titem.setVoteDownReason(reason as ChatAgentVoteDownReason);\n\n\t\t\tconst chatService = accessor.get(IChatService);\n\t\t\tchatService.notifyUserAction({\n\t\t\t\tagentId: item.agent?.id,\n\t\t\t\tcommand: item.slashCommand?.name,\n\t\t\t\tsessionResource: item.session.sessionResource,\n\t\t\t\trequestId: item.requestId,\n\t\t\t\tresult: item.result,\n\t\t\t\taction: {\n\t\t\t\t\tkind: 'vote',\n\t\t\t\t\tdirection: ChatAgentVoteDirection.Down,\n\t\t\t\t\treason: item.voteDownReason\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\tregisterAction2(class ReportIssueForBugAction extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: 'workbench.action.chat.reportIssueForBug',\n\t\t\t\ttitle: localize2('interactive.reportIssueForBug.label', \"Report Issue\"),\n\t\t\t\tf1: false,\n\t\t\t\tcategory: CHAT_CATEGORY,\n\t\t\t\ticon: Codicon.report,\n\t\t\t\tmenu: [{\n\t\t\t\t\tid: MenuId.ChatMessageFooter,\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\torder: 4,\n\t\t\t\t\twhen: ContextKeyExpr.and(ChatContextKeys.responseSupportsIssueReporting, ChatContextKeys.isResponse, ContextKeyExpr.has(enableFeedbackConfig))\n\t\t\t\t}, {\n\t\t\t\t\tid: MENU_INLINE_CHAT_WIDGET_SECONDARY,\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\torder: 3,\n\t\t\t\t\twhen: ContextKeyExpr.and(ChatContextKeys.responseSupportsIssueReporting, ChatContextKeys.isResponse, ContextKeyExpr.has(enableFeedbackConfig))\n\t\t\t\t}]\n\t\t\t});\n\t\t}\n\n\t\trun(accessor: ServicesAccessor, ...args: unknown[]) {\n\t\t\tconst item = args[0];\n\t\t\tif (!isResponseVM(item)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst chatService = accessor.get(IChatService);\n\t\t\tchatService.notifyUserAction({\n\t\t\t\tagentId: item.agent?.id,\n\t\t\t\tcommand: item.slashCommand?.name,\n\t\t\t\tsessionResource: item.session.sessionResource,\n\t\t\t\trequestId: item.requestId,\n\t\t\t\tresult: item.result,\n\t\t\t\taction: {\n\t\t\t\t\tkind: 'bug'\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\tregisterAction2(class RetryChatAction extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: 'workbench.action.chat.retry',\n\t\t\t\ttitle: localize2('chat.retry.label', \"Retry\"),\n\t\t\t\tf1: false,\n\t\t\t\tcategory: CHAT_CATEGORY,\n\t\t\t\ticon: Codicon.refresh,\n\t\t\t\tmenu: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: MenuId.ChatMessageFooter,\n\t\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\t\t\tChatContextKeys.isResponse,\n\t\t\t\t\t\t\tContextKeyExpr.in(ChatContextKeys.itemId.key, ChatContextKeys.lastItemId.key))\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: MenuId.ChatEditingWidgetToolbar,\n\t\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\t\twhen: applyingChatEditsFailedContextKey,\n\t\t\t\t\t\torder: 0\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t});\n\t\t}\n\n\t\tasync run(accessor: ServicesAccessor, ...args: unknown[]) {\n\t\t\tconst chatWidgetService = accessor.get(IChatWidgetService);\n\n\t\t\tlet item = args[0];\n\t\t\tif (isChatEditingActionContext(item)) {\n\t\t\t\t// Resolve chat editing action context to the last response VM\n\t\t\t\titem = chatWidgetService.getWidgetBySessionResource(item.sessionResource)?.viewModel?.getItems().at(-1);\n\t\t\t}\n\t\t\tif (!isResponseVM(item)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst chatService = accessor.get(IChatService);\n\t\t\tconst chatModel = chatService.getSession(item.sessionResource);\n\t\t\tconst chatRequests = chatModel?.getRequests();\n\t\t\tif (!chatRequests) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst itemIndex = chatRequests?.findIndex(request => request.id === item.requestId);\n\t\t\tconst widget = chatWidgetService.getWidgetBySessionResource(item.sessionResource);\n\t\t\tconst mode = widget?.input.currentModeKind;\n\t\t\tif (chatModel && (mode === ChatModeKind.Edit || mode === ChatModeKind.Agent)) {\n\t\t\t\tconst configurationService = accessor.get(IConfigurationService);\n\t\t\t\tconst dialogService = accessor.get(IDialogService);\n\t\t\t\tconst currentEditingSession = widget?.viewModel?.model.editingSession;\n\t\t\t\tif (!currentEditingSession) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Prompt if the last request modified the working set and the user hasn't already disabled the dialog\n\t\t\t\tconst entriesModifiedInLastRequest = currentEditingSession.entries.get().filter((entry) => entry.lastModifyingRequestId === item.requestId);\n\t\t\t\tconst shouldPrompt = entriesModifiedInLastRequest.length > 0 && configurationService.getValue('chat.editing.confirmEditRequestRetry') === true;\n\t\t\t\tconst confirmation = shouldPrompt\n\t\t\t\t\t? await dialogService.confirm({\n\t\t\t\t\t\ttitle: localize('chat.retryLast.confirmation.title2', \"Do you want to retry your last request?\"),\n\t\t\t\t\t\tmessage: entriesModifiedInLastRequest.length === 1\n\t\t\t\t\t\t\t? localize('chat.retry.confirmation.message2', \"This will undo edits made to {0} since this request.\", basename(entriesModifiedInLastRequest[0].modifiedURI))\n\t\t\t\t\t\t\t: localize('chat.retryLast.confirmation.message2', \"This will undo edits made to {0} files in your working set since this request. Do you want to proceed?\", entriesModifiedInLastRequest.length),\n\t\t\t\t\t\tprimaryButton: localize('chat.retry.confirmation.primaryButton', \"Yes\"),\n\t\t\t\t\t\tcheckbox: { label: localize('chat.retry.confirmation.checkbox', \"Don't ask again\"), checked: false },\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t})\n\t\t\t\t\t: { confirmed: true };\n\n\t\t\t\tif (!confirmation.confirmed) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (confirmation.checkboxChecked) {\n\t\t\t\t\tawait configurationService.updateValue('chat.editing.confirmEditRequestRetry', false);\n\t\t\t\t}\n\n\t\t\t\t// Reset the snapshot to the first stop (undefined undo index)\n\t\t\t\tconst snapshotRequest = chatRequests[itemIndex];\n\t\t\t\tif (snapshotRequest) {\n\t\t\t\t\tawait currentEditingSession.restoreSnapshot(snapshotRequest.id, undefined);\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst request = chatModel?.getRequests().find(candidate => candidate.id === item.requestId);\n\t\t\tconst languageModelId = widget?.input.currentLanguageModel;\n\n\t\t\tchatService.resendRequest(request!, {\n\t\t\t\tuserSelectedModelId: languageModelId,\n\t\t\t\tattempt: (request?.attempt ?? -1) + 1,\n\t\t\t\t...widget?.getModeRequestOptions(),\n\t\t\t});\n\t\t}\n\t});\n\n\tregisterAction2(class InsertToNotebookAction extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: 'workbench.action.chat.insertIntoNotebook',\n\t\t\t\ttitle: localize2('interactive.insertIntoNotebook.label', \"Insert into Notebook\"),\n\t\t\t\tf1: false,\n\t\t\t\tcategory: CHAT_CATEGORY,\n\t\t\t\ticon: Codicon.insert,\n\t\t\t\tmenu: {\n\t\t\t\t\tid: MenuId.ChatMessageFooter,\n\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\tisHiddenByDefault: true,\n\t\t\t\t\twhen: ContextKeyExpr.and(NOTEBOOK_IS_ACTIVE_EDITOR, ChatContextKeys.isResponse, ChatContextKeys.responseIsFiltered.negate())\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tasync run(accessor: ServicesAccessor, ...args: unknown[]) {\n\t\t\tconst item = args[0];\n\t\t\tif (!isResponseVM(item)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst editorService = accessor.get(IEditorService);\n\n\t\t\tif (editorService.activeEditorPane?.getId() === NOTEBOOK_EDITOR_ID) {\n\t\t\t\tconst notebookEditor = editorService.activeEditorPane.getControl() as INotebookEditor;\n\n\t\t\t\tif (!notebookEditor.hasModel()) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (notebookEditor.isReadOnly) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst value = item.response.toString();\n\t\t\t\tconst splitContents = splitMarkdownAndCodeBlocks(value);\n\n\t\t\t\tconst focusRange = notebookEditor.getFocus();\n\t\t\t\tconst index = Math.max(focusRange.end, 0);\n\t\t\t\tconst bulkEditService = accessor.get(IBulkEditService);\n\n\t\t\t\tawait bulkEditService.apply(\n\t\t\t\t\t[\n\t\t\t\t\t\tnew ResourceNotebookCellEdit(notebookEditor.textModel.uri,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\teditType: CellEditType.Replace,\n\t\t\t\t\t\t\t\tindex: index,\n\t\t\t\t\t\t\t\tcount: 0,\n\t\t\t\t\t\t\t\tcells: splitContents.map(content => {\n\t\t\t\t\t\t\t\t\tconst kind = content.type === 'markdown' ? CellKind.Markup : CellKind.Code;\n\t\t\t\t\t\t\t\t\tconst language = content.type === 'markdown' ? 'markdown' : content.language;\n\t\t\t\t\t\t\t\t\tconst mime = content.type === 'markdown' ? 'text/markdown' : `text/x-${content.language}`;\n\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\tcellKind: kind,\n\t\t\t\t\t\t\t\t\t\tlanguage,\n\t\t\t\t\t\t\t\t\t\tmime,\n\t\t\t\t\t\t\t\t\t\tsource: content.content,\n\t\t\t\t\t\t\t\t\t\toutputs: [],\n\t\t\t\t\t\t\t\t\t\tmetadata: {}\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t)\n\t\t\t\t\t],\n\t\t\t\t\t{ quotableLabel: 'Insert into Notebook' }\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t});\n}\n\ninterface MarkdownContent {\n\ttype: 'markdown';\n\tcontent: string;\n}\n\ninterface CodeContent {\n\ttype: 'code';\n\tlanguage: string;\n\tcontent: string;\n}\n\ntype Content = MarkdownContent | CodeContent;\n\nfunction splitMarkdownAndCodeBlocks(markdown: string): Content[] {\n\tconst lexer = new marked.Lexer();\n\tconst tokens = lexer.lex(markdown);\n\n\tconst splitContent: Content[] = [];\n\n\tlet markdownPart = '';\n\ttokens.forEach((token) => {\n\t\tif (token.type === 'code') {\n\t\t\tif (markdownPart.trim()) {\n\t\t\t\tsplitContent.push({ type: 'markdown', content: markdownPart });\n\t\t\t\tmarkdownPart = '';\n\t\t\t}\n\t\t\tsplitContent.push({\n\t\t\t\ttype: 'code',\n\t\t\t\tlanguage: token.lang || '',\n\t\t\t\tcontent: token.text,\n\t\t\t});\n\t\t} else {\n\t\t\tmarkdownPart += token.raw;\n\t\t}\n\t});\n\n\tif (markdownPart.trim()) {\n\t\tsplitContent.push({ type: 'markdown', content: markdownPart });\n\t}\n\n\treturn splitContent;\n}\n"]}