{"version":3,"sources":["vs/workbench/contrib/chat/browser/chatManagement/chatManagement.contribution.ts"],"names":[],"mappings":"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","file":"chatManagement.contribution.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { KeyCode } from '../../../../../base/common/keyCodes.js';\nimport { isObject, isString } from '../../../../../base/common/types.js';\nimport { localize, localize2 } from '../../../../../nls.js';\nimport { Action2, registerAction2 } from '../../../../../platform/actions/common/actions.js';\nimport { ContextKeyExpr } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { ProductQualityContext } from '../../../../../platform/contextkey/common/contextkeys.js';\nimport { SyncDescriptor } from '../../../../../platform/instantiation/common/descriptors.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { KeybindingWeight } from '../../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { Registry } from '../../../../../platform/registry/common/platform.js';\nimport { IEditorPaneRegistry, EditorPaneDescriptor } from '../../../../browser/editor.js';\nimport { EditorExtensions, IEditorFactoryRegistry, IEditorSerializer } from '../../../../common/editor.js';\nimport { EditorInput } from '../../../../common/editor/editorInput.js';\nimport { IEditorGroupsService } from '../../../../services/editor/common/editorGroupsService.js';\nimport { IEditorService } from '../../../../services/editor/common/editorService.js';\nimport { ChatContextKeys } from '../../common/chatContextKeys.js';\nimport { CONTEXT_MODELS_EDITOR, CONTEXT_MODELS_SEARCH_FOCUS, MANAGE_CHAT_COMMAND_ID } from '../../common/constants.js';\nimport { CHAT_CATEGORY } from '../actions/chatActions.js';\nimport { ChatManagementEditor, ModelsManagementEditor } from './chatManagementEditor.js';\nimport { ChatManagementEditorInput, ModelsManagementEditorInput } from './chatManagementEditorInput.js';\n\nRegistry.as<IEditorPaneRegistry>(EditorExtensions.EditorPane).registerEditorPane(\n\tEditorPaneDescriptor.create(\n\t\tChatManagementEditor,\n\t\tChatManagementEditor.ID,\n\t\tlocalize('chatManagementEditor', \"Chat Management Editor\")\n\t),\n\t[\n\t\tnew SyncDescriptor(ChatManagementEditorInput)\n\t]\n);\n\nRegistry.as<IEditorPaneRegistry>(EditorExtensions.EditorPane).registerEditorPane(\n\tEditorPaneDescriptor.create(\n\t\tModelsManagementEditor,\n\t\tModelsManagementEditor.ID,\n\t\tlocalize('modelsManagementEditor', \"Models Management Editor\")\n\t),\n\t[\n\t\tnew SyncDescriptor(ModelsManagementEditorInput)\n\t]\n);\n\nclass ChatManagementEditorInputSerializer implements IEditorSerializer {\n\n\tcanSerialize(editorInput: EditorInput): boolean {\n\t\treturn true;\n\t}\n\n\tserialize(input: ChatManagementEditorInput): string {\n\t\treturn '';\n\t}\n\n\tdeserialize(instantiationService: IInstantiationService): ChatManagementEditorInput {\n\t\treturn instantiationService.createInstance(ChatManagementEditorInput);\n\t}\n}\n\nclass ModelsManagementEditorInputSerializer implements IEditorSerializer {\n\n\tcanSerialize(editorInput: EditorInput): boolean {\n\t\treturn true;\n\t}\n\n\tserialize(input: ModelsManagementEditorInput): string {\n\t\treturn '';\n\t}\n\n\tdeserialize(instantiationService: IInstantiationService): ModelsManagementEditorInput {\n\t\treturn instantiationService.createInstance(ModelsManagementEditorInput);\n\t}\n}\n\nRegistry.as<IEditorFactoryRegistry>(EditorExtensions.EditorFactory).registerEditorSerializer(ChatManagementEditorInput.ID, ChatManagementEditorInputSerializer);\nRegistry.as<IEditorFactoryRegistry>(EditorExtensions.EditorFactory).registerEditorSerializer(ModelsManagementEditorInput.ID, ModelsManagementEditorInputSerializer);\n\ninterface IOpenManageCopilotEditorActionOptions {\n\tquery?: string;\n\tsection?: string;\n}\n\nfunction sanitizeString(arg: unknown): string | undefined {\n\treturn isString(arg) ? arg : undefined;\n}\n\nfunction sanitizeOpenManageCopilotEditorArgs(input: unknown): IOpenManageCopilotEditorActionOptions {\n\tif (!isObject(input)) {\n\t\tinput = {};\n\t}\n\n\tconst args = <IOpenManageCopilotEditorActionOptions>input;\n\n\treturn {\n\t\tquery: sanitizeString(args?.query),\n\t\tsection: sanitizeString(args?.section)\n\t};\n}\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: MANAGE_CHAT_COMMAND_ID,\n\t\t\ttitle: localize2('openAiManagement', \"Manage Language Models\"),\n\t\t\tcategory: CHAT_CATEGORY,\n\t\t\tprecondition: ContextKeyExpr.and(ProductQualityContext.notEqualsTo('stable'), ChatContextKeys.enabled, ContextKeyExpr.or(\n\t\t\t\tChatContextKeys.Entitlement.planFree,\n\t\t\t\tChatContextKeys.Entitlement.planPro,\n\t\t\t\tChatContextKeys.Entitlement.planProPlus,\n\t\t\t\tChatContextKeys.Entitlement.internal\n\t\t\t)),\n\t\t\tf1: true,\n\t\t});\n\t}\n\tasync run(accessor: ServicesAccessor, args: string | IOpenManageCopilotEditorActionOptions) {\n\t\tconst editorGroupsService = accessor.get(IEditorGroupsService);\n\t\targs = sanitizeOpenManageCopilotEditorArgs(args);\n\t\treturn editorGroupsService.activeGroup.openEditor(new ModelsManagementEditorInput(), { pinned: true });\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'chat.models.action.clearSearchResults',\n\t\t\tprecondition: CONTEXT_MODELS_EDITOR,\n\t\t\tkeybinding: {\n\t\t\t\tprimary: KeyCode.Escape,\n\t\t\t\tweight: KeybindingWeight.EditorContrib,\n\t\t\t\twhen: CONTEXT_MODELS_SEARCH_FOCUS\n\t\t\t},\n\t\t\ttitle: localize2('models.clearResults', \"Clear Models Search Results\")\n\t\t});\n\t}\n\n\trun(accessor: ServicesAccessor) {\n\t\tconst activeEditorPane = accessor.get(IEditorService).activeEditorPane;\n\t\tif (activeEditorPane instanceof ModelsManagementEditor) {\n\t\t\tactiveEditorPane.clearSearch();\n\t\t}\n\t\treturn null;\n\t}\n});\n"]}