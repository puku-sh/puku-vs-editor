{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/chat/browser/chatSessions/chatSessionTracker.ts","vs/workbench/contrib/chat/browser/chatSessions/chatSessionTracker.ts"],"names":[],"mappings":"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","file":"chatSessionTracker.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Emitter } from '../../../../../base/common/event.js';\nimport { Disposable, DisposableMap } from '../../../../../base/common/lifecycle.js';\nimport { GroupModelChangeKind } from '../../../../common/editor.js';\nimport { EditorInput } from '../../../../common/editor/editorInput.js';\nimport { IEditorGroup, IEditorGroupsService } from '../../../../services/editor/common/editorGroupsService.js';\nimport { IChatModel } from '../../common/chatModel.js';\nimport { IChatService } from '../../common/chatService.js';\nimport { ChatSessionStatus, IChatSessionItem, IChatSessionItemProvider, IChatSessionsService, localChatSessionType } from '../../common/chatSessionsService.js';\nimport { ChatEditorInput } from '../chatEditorInput.js';\nimport { ChatSessionItemWithProvider, isChatSession } from './common.js';\n\nexport class ChatSessionTracker extends Disposable {\n\tprivate readonly _onDidChangeEditors = this._register(new Emitter<{ sessionType: string; kind: GroupModelChangeKind }>());\n\tprivate readonly groupDisposables = this._register(new DisposableMap<number>());\n\treadonly onDidChangeEditors = this._onDidChangeEditors.event;\n\n\tconstructor(\n\t\t@IEditorGroupsService private readonly editorGroupsService: IEditorGroupsService,\n\t\t@IChatService private readonly chatService: IChatService,\n\t\t@IChatSessionsService private readonly chatSessionsService: IChatSessionsService,\n\t) {\n\t\tsuper();\n\t\tthis.setupEditorTracking();\n\t}\n\n\tprivate setupEditorTracking(): void {\n\t\t// Listen to all editor groups\n\t\tthis.editorGroupsService.groups.forEach(group => {\n\t\t\tthis.registerGroupListeners(group);\n\t\t});\n\t\t// Listen for new groups\n\t\tthis._register(this.editorGroupsService.onDidAddGroup(group => {\n\t\t\tthis.registerGroupListeners(group);\n\t\t}));\n\t\t// Listen for deleted groups\n\t\tthis._register(this.editorGroupsService.onDidRemoveGroup(group => {\n\t\t\tthis.groupDisposables.deleteAndDispose(group.id);\n\t\t}));\n\t}\n\n\tprivate registerGroupListeners(group: IEditorGroup): void {\n\t\tthis.groupDisposables.set(group.id, group.onDidModelChange(e => {\n\t\t\tif (!isChatSession(this.chatSessionsService.getContentProviderSchemes(), e.editor)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst editor = e.editor as ChatEditorInput;\n\t\t\tconst sessionType = editor.getSessionType();\n\n\t\t\tthis.chatSessionsService.notifySessionItemsChanged(sessionType);\n\n\t\t\t// Emit targeted event for this session type\n\t\t\tthis._onDidChangeEditors.fire({ sessionType, kind: e.kind });\n\t\t}));\n\t}\n\n\tpublic getLocalEditorsForSessionType(sessionType: string): ChatEditorInput[] {\n\t\tconst localEditors: ChatEditorInput[] = [];\n\n\t\tthis.editorGroupsService.groups.forEach(group => {\n\t\t\tgroup.editors.forEach(editor => {\n\t\t\t\tif (editor instanceof ChatEditorInput && editor.getSessionType() === sessionType) {\n\t\t\t\t\tlocalEditors.push(editor);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\treturn localEditors;\n\t}\n\n\tasync getHybridSessionsForProvider(provider: IChatSessionItemProvider): Promise<IChatSessionItem[]> {\n\t\tif (provider.chatSessionType === localChatSessionType) {\n\t\t\treturn []; // Local provider doesn't need hybrid sessions\n\t\t}\n\n\t\tconst localEditors = this.getLocalEditorsForSessionType(provider.chatSessionType);\n\t\tconst hybridSessions: ChatSessionItemWithProvider[] = [];\n\n\t\tlocalEditors.forEach((editor, index) => {\n\t\t\tconst group = this.findGroupForEditor(editor);\n\t\t\tif (!group) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (editor.options.ignoreInView) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet status: ChatSessionStatus = ChatSessionStatus.Completed;\n\t\t\tlet timestamp: number | undefined;\n\n\t\t\tif (editor.sessionResource) {\n\t\t\t\tconst model = this.chatService.getSession(editor.sessionResource);\n\t\t\t\tconst modelStatus = model ? this.modelToStatus(model) : undefined;\n\t\t\t\tif (model && modelStatus) {\n\t\t\t\t\tstatus = modelStatus;\n\t\t\t\t\tconst requests = model.getRequests();\n\t\t\t\t\tif (requests.length > 0) {\n\t\t\t\t\t\ttimestamp = requests[requests.length - 1].timestamp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst hybridSession: ChatSessionItemWithProvider = {\n\t\t\t\tresource: editor.resource,\n\t\t\t\tlabel: editor.getName(),\n\t\t\t\tstatus: status,\n\t\t\t\tprovider,\n\t\t\t\ttiming: {\n\t\t\t\t\tstartTime: timestamp ?? Date.now()\n\t\t\t\t}\n\t\t\t};\n\n\t\t\thybridSessions.push(hybridSession);\n\t\t});\n\n\t\treturn hybridSessions;\n\t}\n\n\tprivate findGroupForEditor(editor: EditorInput): IEditorGroup | undefined {\n\t\tfor (const group of this.editorGroupsService.groups) {\n\t\t\tif (group.editors.includes(editor)) {\n\t\t\t\treturn group;\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tprivate modelToStatus(model: IChatModel): ChatSessionStatus | undefined {\n\t\tif (model.requestInProgress.get()) {\n\t\t\treturn ChatSessionStatus.InProgress;\n\t\t}\n\t\tconst requests = model.getRequests();\n\t\tif (requests.length > 0) {\n\t\t\tconst lastRequest = requests[requests.length - 1];\n\t\t\tif (lastRequest?.response) {\n\t\t\t\tif (lastRequest.response.isCanceled || lastRequest.response.result?.errorDetails) {\n\t\t\t\t\treturn ChatSessionStatus.Failed;\n\t\t\t\t} else if (lastRequest.response.isComplete) {\n\t\t\t\t\treturn ChatSessionStatus.Completed;\n\t\t\t\t} else {\n\t\t\t\t\treturn ChatSessionStatus.InProgress;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Emitter } from '../../../../../base/common/event.js';\nimport { Disposable, DisposableMap } from '../../../../../base/common/lifecycle.js';\nimport { GroupModelChangeKind } from '../../../../common/editor.js';\nimport { EditorInput } from '../../../../common/editor/editorInput.js';\nimport { IEditorGroup, IEditorGroupsService } from '../../../../services/editor/common/editorGroupsService.js';\nimport { IChatModel } from '../../common/chatModel.js';\nimport { IChatService } from '../../common/chatService.js';\nimport { ChatSessionStatus, IChatSessionItem, IChatSessionItemProvider, IChatSessionsService, localChatSessionType } from '../../common/chatSessionsService.js';\nimport { ChatEditorInput } from '../chatEditorInput.js';\nimport { ChatSessionItemWithProvider, isChatSession } from './common.js';\n\nexport class ChatSessionTracker extends Disposable {\n\tprivate readonly _onDidChangeEditors = this._register(new Emitter<{ sessionType: string; kind: GroupModelChangeKind }>());\n\tprivate readonly groupDisposables = this._register(new DisposableMap<number>());\n\treadonly onDidChangeEditors = this._onDidChangeEditors.event;\n\n\tconstructor(\n\t\t@IEditorGroupsService private readonly editorGroupsService: IEditorGroupsService,\n\t\t@IChatService private readonly chatService: IChatService,\n\t\t@IChatSessionsService private readonly chatSessionsService: IChatSessionsService,\n\t) {\n\t\tsuper();\n\t\tthis.setupEditorTracking();\n\t}\n\n\tprivate setupEditorTracking(): void {\n\t\t// Listen to all editor groups\n\t\tthis.editorGroupsService.groups.forEach(group => {\n\t\t\tthis.registerGroupListeners(group);\n\t\t});\n\t\t// Listen for new groups\n\t\tthis._register(this.editorGroupsService.onDidAddGroup(group => {\n\t\t\tthis.registerGroupListeners(group);\n\t\t}));\n\t\t// Listen for deleted groups\n\t\tthis._register(this.editorGroupsService.onDidRemoveGroup(group => {\n\t\t\tthis.groupDisposables.deleteAndDispose(group.id);\n\t\t}));\n\t}\n\n\tprivate registerGroupListeners(group: IEditorGroup): void {\n\t\tthis.groupDisposables.set(group.id, group.onDidModelChange(e => {\n\t\t\tif (!isChatSession(this.chatSessionsService.getContentProviderSchemes(), e.editor)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst editor = e.editor as ChatEditorInput;\n\t\t\tconst sessionType = editor.getSessionType();\n\n\t\t\tthis.chatSessionsService.notifySessionItemsChanged(sessionType);\n\n\t\t\t// Emit targeted event for this session type\n\t\t\tthis._onDidChangeEditors.fire({ sessionType, kind: e.kind });\n\t\t}));\n\t}\n\n\tpublic getLocalEditorsForSessionType(sessionType: string): ChatEditorInput[] {\n\t\tconst localEditors: ChatEditorInput[] = [];\n\n\t\tthis.editorGroupsService.groups.forEach(group => {\n\t\t\tgroup.editors.forEach(editor => {\n\t\t\t\tif (editor instanceof ChatEditorInput && editor.getSessionType() === sessionType) {\n\t\t\t\t\tlocalEditors.push(editor);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\treturn localEditors;\n\t}\n\n\tasync getHybridSessionsForProvider(provider: IChatSessionItemProvider): Promise<IChatSessionItem[]> {\n\t\tif (provider.chatSessionType === localChatSessionType) {\n\t\t\treturn []; // Local provider doesn't need hybrid sessions\n\t\t}\n\n\t\tconst localEditors = this.getLocalEditorsForSessionType(provider.chatSessionType);\n\t\tconst hybridSessions: ChatSessionItemWithProvider[] = [];\n\n\t\tlocalEditors.forEach((editor, index) => {\n\t\t\tconst group = this.findGroupForEditor(editor);\n\t\t\tif (!group) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (editor.options.ignoreInView) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet status: ChatSessionStatus = ChatSessionStatus.Completed;\n\t\t\tlet timestamp: number | undefined;\n\n\t\t\tif (editor.sessionResource) {\n\t\t\t\tconst model = this.chatService.getSession(editor.sessionResource);\n\t\t\t\tconst modelStatus = model ? this.modelToStatus(model) : undefined;\n\t\t\t\tif (model && modelStatus) {\n\t\t\t\t\tstatus = modelStatus;\n\t\t\t\t\tconst requests = model.getRequests();\n\t\t\t\t\tif (requests.length > 0) {\n\t\t\t\t\t\ttimestamp = requests[requests.length - 1].timestamp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst hybridSession: ChatSessionItemWithProvider = {\n\t\t\t\tresource: editor.resource,\n\t\t\t\tlabel: editor.getName(),\n\t\t\t\tstatus: status,\n\t\t\t\tprovider,\n\t\t\t\ttiming: {\n\t\t\t\t\tstartTime: timestamp ?? Date.now()\n\t\t\t\t}\n\t\t\t};\n\n\t\t\thybridSessions.push(hybridSession);\n\t\t});\n\n\t\treturn hybridSessions;\n\t}\n\n\tprivate findGroupForEditor(editor: EditorInput): IEditorGroup | undefined {\n\t\tfor (const group of this.editorGroupsService.groups) {\n\t\t\tif (group.editors.includes(editor)) {\n\t\t\t\treturn group;\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tprivate modelToStatus(model: IChatModel): ChatSessionStatus | undefined {\n\t\tif (model.requestInProgress.get()) {\n\t\t\treturn ChatSessionStatus.InProgress;\n\t\t}\n\t\tconst requests = model.getRequests();\n\t\tif (requests.length > 0) {\n\t\t\tconst lastRequest = requests[requests.length - 1];\n\t\t\tif (lastRequest?.response) {\n\t\t\t\tif (lastRequest.response.isCanceled || lastRequest.response.result?.errorDetails) {\n\t\t\t\t\treturn ChatSessionStatus.Failed;\n\t\t\t\t} else if (lastRequest.response.isComplete) {\n\t\t\t\t\treturn ChatSessionStatus.Completed;\n\t\t\t\t} else {\n\t\t\t\t\treturn ChatSessionStatus.InProgress;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n}\n"]}