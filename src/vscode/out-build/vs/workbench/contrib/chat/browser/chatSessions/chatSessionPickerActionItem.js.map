{"version":3,"sources":["vs/workbench/contrib/chat/browser/chatSessions/chatSessionPickerActionItem.ts"],"names":[],"mappings":"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","file":"chatSessionPickerActionItem.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IAction } from '../../../../../base/common/actions.js';\nimport { Event } from '../../../../../base/common/event.js';\nimport * as dom from '../../../../../base/browser/dom.js';\nimport { IActionWidgetService } from '../../../../../platform/actionWidget/browser/actionWidget.js';\nimport { IActionWidgetDropdownAction, IActionWidgetDropdownOptions } from '../../../../../platform/actionWidget/browser/actionWidgetDropdown.js';\nimport { IContextKeyService } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { ICommandService } from '../../../../../platform/commands/common/commands.js';\nimport { IKeybindingService } from '../../../../../platform/keybinding/common/keybinding.js';\nimport { ITelemetryService } from '../../../../../platform/telemetry/common/telemetry.js';\nimport { IChatEntitlementService } from '../../../../services/chat/common/chatEntitlementService.js';\nimport { ActionWidgetDropdownActionViewItem } from '../../../../../platform/actions/browser/actionWidgetDropdownActionViewItem.js';\nimport { IChatSessionProviderOptionGroup, IChatSessionProviderOptionItem } from '../../common/chatSessionsService.js';\nimport { IDisposable } from '../../../../../base/common/lifecycle.js';\nimport { renderLabelWithIcons } from '../../../../../base/browser/ui/iconLabel/iconLabels.js';\nimport { localize } from '../../../../../nls.js';\n\n\nexport interface IChatSessionPickerDelegate {\n\treadonly onDidChangeOption: Event<IChatSessionProviderOptionItem>;\n\tgetCurrentOption(): IChatSessionProviderOptionItem | undefined;\n\tsetOption(option: IChatSessionProviderOptionItem): void;\n\tgetAllOptions(): IChatSessionProviderOptionItem[];\n}\n\n/**\n * Action view item for making an option selection for a contributed chat session\n * These options are provided by the relevant ChatSession Provider\n */\nexport class ChatSessionPickerActionItem extends ActionWidgetDropdownActionViewItem {\n\tcurrentOption: IChatSessionProviderOptionItem | undefined;\n\tconstructor(\n\t\taction: IAction,\n\t\tinitialState: { group: IChatSessionProviderOptionGroup; item: IChatSessionProviderOptionItem | undefined },\n\t\tprivate readonly delegate: IChatSessionPickerDelegate,\n\t\t@IActionWidgetService actionWidgetService: IActionWidgetService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@ICommandService commandService: ICommandService,\n\t\t@IChatEntitlementService chatEntitlementService: IChatEntitlementService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t) {\n\t\tconst { group, item } = initialState;\n\t\tconst actionWithLabel: IAction = {\n\t\t\t...action,\n\t\t\tlabel: item?.name || group.name,\n\t\t\ttooltip: group.description || group.name,\n\t\t\trun: () => { }\n\t\t};\n\n\t\tconst sessionPickerActionWidgetOptions: Omit<IActionWidgetDropdownOptions, 'label' | 'labelRenderer'> = {\n\t\t\tactionProvider: {\n\t\t\t\tgetActions: () => {\n\t\t\t\t\t// if locked, show the current option only\n\t\t\t\t\tconst currentOption = this.delegate.getCurrentOption();\n\t\t\t\t\tif (currentOption?.locked) {\n\t\t\t\t\t\treturn [{\n\t\t\t\t\t\t\tid: currentOption.id,\n\t\t\t\t\t\t\tenabled: false,\n\t\t\t\t\t\t\ticon: undefined,\n\t\t\t\t\t\t\tchecked: true,\n\t\t\t\t\t\t\tclass: undefined,\n\t\t\t\t\t\t\tdescription: undefined,\n\t\t\t\t\t\t\ttooltip: currentOption.name,\n\t\t\t\t\t\t\tlabel: currentOption.name,\n\t\t\t\t\t\t\trun: () => { }\n\t\t\t\t\t\t} satisfies IActionWidgetDropdownAction];\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn this.delegate.getAllOptions().map(optionItem => {\n\t\t\t\t\t\t\tconst isCurrent = optionItem.id === this.delegate.getCurrentOption()?.id;\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tid: optionItem.id,\n\t\t\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\t\t\ticon: undefined,\n\t\t\t\t\t\t\t\tchecked: isCurrent,\n\t\t\t\t\t\t\t\tclass: undefined,\n\t\t\t\t\t\t\t\tdescription: undefined,\n\t\t\t\t\t\t\t\ttooltip: optionItem.name,\n\t\t\t\t\t\t\t\tlabel: optionItem.name,\n\t\t\t\t\t\t\t\trun: () => {\n\t\t\t\t\t\t\t\t\tthis.delegate.setOption(optionItem);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} satisfies IActionWidgetDropdownAction;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tactionBarActionProvider: undefined,\n\t\t};\n\n\t\tsuper(actionWithLabel, sessionPickerActionWidgetOptions, actionWidgetService, keybindingService, contextKeyService);\n\t\tthis.currentOption = item;\n\n\t\tthis._register(this.delegate.onDidChangeOption(newOption => {\n\t\t\tthis.currentOption = newOption;\n\t\t\tif (this.element) {\n\t\t\t\tthis.renderLabel(this.element);\n\t\t\t}\n\t\t}));\n\t}\n\tprotected override renderLabel(element: HTMLElement): IDisposable | null {\n\t\tconst domChildren = [];\n\t\tdomChildren.push(dom.$('span.chat-session-option-label', undefined, this.currentOption?.name ?? localize('chat.sessionPicker.label', \"Pick Option\")));\n\t\tdomChildren.push(...renderLabelWithIcons(`$(chevron-down)`));\n\t\tdom.reset(element, ...domChildren);\n\t\tthis.setAriaLabelAttributes(element);\n\t\treturn null;\n\t}\n\n\toverride render(container: HTMLElement): void {\n\t\tsuper.render(container);\n\t\tcontainer.classList.add('chat-sessionPicker-item');\n\t}\n\n}\n"]}