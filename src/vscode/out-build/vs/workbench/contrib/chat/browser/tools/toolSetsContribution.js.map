{"version":3,"sources":["vs/workbench/contrib/chat/browser/tools/toolSetsContribution.ts"],"names":[],"mappings":"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","file":"toolSetsContribution.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { isFalsyOrEmpty } from '../../../../../base/common/arrays.js';\nimport { CancellationTokenSource } from '../../../../../base/common/cancellation.js';\nimport { Event } from '../../../../../base/common/event.js';\nimport { Disposable, DisposableStore, toDisposable } from '../../../../../base/common/lifecycle.js';\nimport { observableFromEvent, observableSignalFromEvent, autorun, transaction } from '../../../../../base/common/observable.js';\nimport { basename, joinPath } from '../../../../../base/common/resources.js';\nimport { isFalsyOrWhitespace } from '../../../../../base/common/strings.js';\nimport { ThemeIcon } from '../../../../../base/common/themables.js';\nimport { assertType, isObject } from '../../../../../base/common/types.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { localize, localize2 } from '../../../../../nls.js';\nimport { Action2 } from '../../../../../platform/actions/common/actions.js';\nimport { IFileService } from '../../../../../platform/files/common/files.js';\nimport { ServicesAccessor } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { ILogService } from '../../../../../platform/log/common/log.js';\nimport { IQuickInputService, IQuickPickItem, IQuickPickSeparator } from '../../../../../platform/quickinput/common/quickInput.js';\nimport { IWorkbenchContribution } from '../../../../common/contributions.js';\nimport { IExtensionService } from '../../../../services/extensions/common/extensions.js';\nimport { ILifecycleService, LifecyclePhase } from '../../../../services/lifecycle/common/lifecycle.js';\nimport { IUserDataProfileService } from '../../../../services/userDataProfile/common/userDataProfile.js';\nimport { CHAT_CATEGORY, CHAT_CONFIG_MENU_ID } from '../actions/chatActions.js';\nimport { ILanguageModelToolsService, IToolData, ToolDataSource, ToolSet } from '../../common/languageModelToolsService.js';\nimport { IRawToolSetContribution } from '../../common/tools/languageModelToolsContribution.js';\nimport { IEditorService } from '../../../../services/editor/common/editorService.js';\nimport { Codicon, getAllCodicons } from '../../../../../base/common/codicons.js';\nimport { isValidBasename } from '../../../../../base/common/extpath.js';\nimport { ITextFileService } from '../../../../services/textfile/common/textfiles.js';\nimport { parse } from '../../../../../base/common/jsonc.js';\nimport { IJSONSchema } from '../../../../../base/common/jsonSchema.js';\nimport * as JSONContributionRegistry from '../../../../../platform/jsonschemas/common/jsonContributionRegistry.js';\nimport { Registry } from '../../../../../platform/registry/common/platform.js';\nimport { ContextKeyExpr } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { ChatViewId } from '../chat.js';\nimport { ChatContextKeys } from '../../common/chatContextKeys.js';\n\n\nconst toolEnumValues: string[] = [];\nconst toolEnumDescriptions: string[] = [];\n\nconst toolSetSchemaId = 'vscode://schemas/toolsets';\nconst toolSetsSchema: IJSONSchema = {\n\tid: toolSetSchemaId,\n\tallowComments: true,\n\tallowTrailingCommas: true,\n\tdefaultSnippets: [{\n\t\tlabel: localize('schema.default', \"Empty tool set\"),\n\t\tbody: { '${1:toolSetName}': { 'tools': ['${2:someTool}', '${3:anotherTool}'], 'description': '${4:description}', 'icon': '${5:tools}' } }\n\t}],\n\ttype: 'object',\n\tdescription: localize('toolsetSchema.json', 'User tool sets configuration'),\n\n\tadditionalProperties: {\n\t\ttype: 'object',\n\t\trequired: ['tools'],\n\t\tadditionalProperties: false,\n\t\tproperties: {\n\t\t\ttools: {\n\t\t\t\tdescription: localize('schema.tools', \"A list of tools or tool sets to include in this tool set. Cannot be empty and must reference tools the way they are referenced in prompts.\"),\n\t\t\t\ttype: 'array',\n\t\t\t\tminItems: 1,\n\t\t\t\titems: {\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tenum: toolEnumValues,\n\t\t\t\t\tenumDescriptions: toolEnumDescriptions,\n\t\t\t\t}\n\t\t\t},\n\t\t\ticon: {\n\t\t\t\tdescription: localize('schema.icon', 'Icon to use for this tool set in the UI. Uses the \"\\\\$(name)\"-syntax, like \"\\\\$(zap)\"'),\n\t\t\t\ttype: 'string',\n\t\t\t\tenum: Array.from(getAllCodicons(), icon => icon.id),\n\t\t\t\tmarkdownEnumDescriptions: Array.from(getAllCodicons(), icon => `$(${icon.id})`),\n\t\t\t},\n\t\t\tdescription: {\n\t\t\t\tdescription: localize('schema.description', \"A short description of this tool set.\"),\n\t\t\t\ttype: 'string'\n\t\t\t},\n\t\t},\n\t}\n};\n\nconst reg = Registry.as<JSONContributionRegistry.IJSONContributionRegistry>(JSONContributionRegistry.Extensions.JSONContribution);\n\n\nabstract class RawToolSetsShape {\n\n\tstatic readonly suffix = '.toolsets.jsonc';\n\n\tstatic isToolSetFileName(uri: URI): boolean {\n\t\treturn basename(uri).endsWith(RawToolSetsShape.suffix);\n\t}\n\n\tstatic from(data: unknown, logService: ILogService) {\n\t\tif (!isObject(data)) {\n\t\t\tthrow new Error(`Invalid tool set data`);\n\t\t}\n\n\t\tconst map = new Map<string, Exclude<IRawToolSetContribution, 'name'>>();\n\n\t\tfor (const [name, value] of Object.entries(data as RawToolSetsShape)) {\n\n\t\t\tif (isFalsyOrWhitespace(name)) {\n\t\t\t\tlogService.error(`Tool set name cannot be empty`);\n\t\t\t}\n\t\t\tif (isFalsyOrEmpty(value.tools)) {\n\t\t\t\tlogService.error(`Tool set '${name}' cannot have an empty tools array`);\n\t\t\t}\n\n\t\t\tmap.set(name, {\n\t\t\t\tname,\n\t\t\t\ttools: value.tools,\n\t\t\t\tdescription: value.description,\n\t\t\t\ticon: value.icon,\n\t\t\t});\n\t\t}\n\n\t\treturn new class extends RawToolSetsShape { }(map);\n\t}\n\n\tentries: ReadonlyMap<string, Exclude<IRawToolSetContribution, 'name'>>;\n\n\tprivate constructor(entries: Map<string, Exclude<IRawToolSetContribution, 'name'>>) {\n\t\tthis.entries = Object.freeze(new Map(entries));\n\t}\n}\n\nexport class UserToolSetsContributions extends Disposable implements IWorkbenchContribution {\n\n\tstatic readonly ID = 'chat.userToolSets';\n\n\tconstructor(\n\t\t@IExtensionService extensionService: IExtensionService,\n\t\t@ILifecycleService lifecycleService: ILifecycleService,\n\t\t@ILanguageModelToolsService private readonly _languageModelToolsService: ILanguageModelToolsService,\n\t\t@IUserDataProfileService private readonly _userDataProfileService: IUserDataProfileService,\n\t\t@IFileService private readonly _fileService: IFileService,\n\t\t@ILogService private readonly _logService: ILogService,\n\t) {\n\t\tsuper();\n\t\tPromise.allSettled([\n\t\t\textensionService.whenInstalledExtensionsRegistered,\n\t\t\tlifecycleService.when(LifecyclePhase.Restored)\n\t\t]).then(() => this._initToolSets());\n\n\t\tconst toolsObs = observableFromEvent(this, _languageModelToolsService.onDidChangeTools, () => Array.from(_languageModelToolsService.getTools()));\n\t\tconst store = this._store.add(new DisposableStore());\n\n\t\tthis._store.add(autorun(r => {\n\t\t\tconst tools = toolsObs.read(r);\n\t\t\tconst toolSets = this._languageModelToolsService.toolSets.read(r);\n\n\n\t\t\ttype ToolDesc = {\n\t\t\t\tname: string;\n\t\t\t\tsourceLabel: string;\n\t\t\t\tsourceOrdinal: number;\n\t\t\t\tdescription?: string;\n\t\t\t};\n\n\t\t\tconst data: ToolDesc[] = [];\n\t\t\tfor (const tool of tools) {\n\t\t\t\tif (tool.canBeReferencedInPrompt) {\n\t\t\t\t\tdata.push({\n\t\t\t\t\t\tname: tool.toolReferenceName ?? tool.displayName,\n\t\t\t\t\t\tsourceLabel: ToolDataSource.classify(tool.source).label,\n\t\t\t\t\t\tsourceOrdinal: ToolDataSource.classify(tool.source).ordinal,\n\t\t\t\t\t\tdescription: tool.userDescription ?? tool.modelDescription\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (const toolSet of toolSets) {\n\t\t\t\tdata.push({\n\t\t\t\t\tname: toolSet.referenceName,\n\t\t\t\t\tsourceLabel: ToolDataSource.classify(toolSet.source).label,\n\t\t\t\t\tsourceOrdinal: ToolDataSource.classify(toolSet.source).ordinal,\n\t\t\t\t\tdescription: toolSet.description\n\t\t\t\t});\n\t\t\t}\n\n\t\t\ttoolEnumValues.length = 0;\n\t\t\ttoolEnumDescriptions.length = 0;\n\n\t\t\tdata.sort((a, b) => {\n\t\t\t\tif (a.sourceOrdinal !== b.sourceOrdinal) {\n\t\t\t\t\treturn a.sourceOrdinal - b.sourceOrdinal;\n\t\t\t\t}\n\t\t\t\tif (a.sourceLabel !== b.sourceLabel) {\n\t\t\t\t\treturn a.sourceLabel.localeCompare(b.sourceLabel);\n\t\t\t\t}\n\t\t\t\treturn a.name.localeCompare(b.name);\n\t\t\t});\n\n\t\t\tfor (const item of data) {\n\t\t\t\ttoolEnumValues.push(item.name);\n\t\t\t\ttoolEnumDescriptions.push(localize('tool.description', \"{1} ({0})\\n\\n{2}\", item.sourceLabel, item.name, item.description));\n\t\t\t}\n\n\t\t\tstore.clear(); // reset old schema\n\t\t\treg.registerSchema(toolSetSchemaId, toolSetsSchema, store);\n\t\t}));\n\n\t}\n\n\tprivate _initToolSets(): void {\n\n\t\tconst promptFolder = observableFromEvent(this, this._userDataProfileService.onDidChangeCurrentProfile, () => this._userDataProfileService.currentProfile.promptsHome);\n\n\t\tconst toolsSig = observableSignalFromEvent(this, this._languageModelToolsService.onDidChangeTools);\n\t\tconst fileEventSig = observableSignalFromEvent(this, Event.filter(this._fileService.onDidFilesChange, e => e.affects(promptFolder.get())));\n\n\t\tconst store = this._store.add(new DisposableStore());\n\n\t\tconst getFilesInFolder = async (folder: URI) => {\n\t\t\ttry {\n\t\t\t\treturn (await this._fileService.resolve(folder)).children ?? [];\n\t\t\t} catch (err) {\n\t\t\t\treturn []; // folder does not exist or cannot be read\n\t\t\t}\n\t\t};\n\n\t\tthis._store.add(autorun(async r => {\n\n\t\t\tstore.clear();\n\n\t\t\ttoolsSig.read(r); // SIGNALS\n\t\t\tfileEventSig.read(r);\n\n\t\t\tconst uri = promptFolder.read(r);\n\n\t\t\tconst cts = new CancellationTokenSource();\n\t\t\tstore.add(toDisposable(() => cts.dispose(true)));\n\n\t\t\tconst entries = await getFilesInFolder(uri);\n\n\t\t\tif (cts.token.isCancellationRequested) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (const entry of entries) {\n\n\t\t\t\tif (!entry.isFile || !RawToolSetsShape.isToolSetFileName(entry.resource)) {\n\t\t\t\t\t// not interesting\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// watch this file\n\t\t\t\tstore.add(this._fileService.watch(entry.resource));\n\n\t\t\t\tlet data: RawToolSetsShape | undefined;\n\t\t\t\ttry {\n\t\t\t\t\tconst content = await this._fileService.readFile(entry.resource, undefined, cts.token);\n\t\t\t\t\tconst rawObj = parse(content.value.toString());\n\t\t\t\t\tdata = RawToolSetsShape.from(rawObj, this._logService);\n\n\t\t\t\t} catch (err) {\n\t\t\t\t\tthis._logService.error(`Error reading tool set file ${entry.resource.toString()}:`, err);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (cts.token.isCancellationRequested) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tfor (const [name, value] of data.entries) {\n\n\t\t\t\t\tconst tools: IToolData[] = [];\n\t\t\t\t\tconst toolSets: ToolSet[] = [];\n\t\t\t\t\tvalue.tools.forEach(name => {\n\t\t\t\t\t\tconst tool = this._languageModelToolsService.getToolByName(name);\n\t\t\t\t\t\tif (tool) {\n\t\t\t\t\t\t\ttools.push(tool);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst toolSet = this._languageModelToolsService.getToolSetByName(name);\n\t\t\t\t\t\tif (toolSet) {\n\t\t\t\t\t\t\ttoolSets.push(toolSet);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tif (tools.length === 0 && toolSets.length === 0) {\n\t\t\t\t\t\t// NO tools in this set\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst toolset = this._languageModelToolsService.createToolSet(\n\t\t\t\t\t\t{ type: 'user', file: entry.resource, label: basename(entry.resource) },\n\t\t\t\t\t\t`user/${entry.resource.toString()}/${name}`,\n\t\t\t\t\t\tname,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// toolReferenceName: value.referenceName,\n\t\t\t\t\t\t\ticon: value.icon ? ThemeIcon.fromId(value.icon) : undefined,\n\t\t\t\t\t\t\tdescription: value.description\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t\ttransaction(tx => {\n\t\t\t\t\t\tstore.add(toolset);\n\t\t\t\t\t\ttools.forEach(tool => store.add(toolset.addTool(tool, tx)));\n\t\t\t\t\t\ttoolSets.forEach(toolSet => store.add(toolset.addToolSet(toolSet, tx)));\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t}\n}\n\n// ---- actions\n\nexport class ConfigureToolSets extends Action2 {\n\n\tstatic readonly ID = 'chat.configureToolSets';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: ConfigureToolSets.ID,\n\t\t\ttitle: localize2('chat.configureToolSets', 'Configure Tool Sets...'),\n\t\t\tshortTitle: localize('chat.configureToolSets.short', \"Tool Sets\"),\n\t\t\tcategory: CHAT_CATEGORY,\n\t\t\tf1: true,\n\t\t\tprecondition: ContextKeyExpr.and(ChatContextKeys.enabled, ChatContextKeys.Tools.toolsCount.greater(0)),\n\t\t\tmenu: {\n\t\t\t\tid: CHAT_CONFIG_MENU_ID,\n\t\t\t\twhen: ContextKeyExpr.equals('view', ChatViewId),\n\t\t\t\torder: 11,\n\t\t\t\tgroup: '2_level'\n\t\t\t},\n\t\t});\n\t}\n\n\toverride async run(accessor: ServicesAccessor): Promise<void> {\n\n\t\tconst toolsService = accessor.get(ILanguageModelToolsService);\n\t\tconst quickInputService = accessor.get(IQuickInputService);\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst userDataProfileService = accessor.get(IUserDataProfileService);\n\t\tconst fileService = accessor.get(IFileService);\n\t\tconst textFileService = accessor.get(ITextFileService);\n\n\t\tconst picks: ((IQuickPickItem & { toolset?: ToolSet }) | IQuickPickSeparator)[] = [];\n\n\t\tpicks.push({\n\t\t\tlabel: localize('chat.configureToolSets.add', 'Create new tool sets file...'),\n\t\t\talwaysShow: true,\n\t\t\ticonClass: ThemeIcon.asClassName(Codicon.plus)\n\t\t});\n\n\t\tfor (const toolSet of toolsService.toolSets.get()) {\n\t\t\tif (toolSet.source.type !== 'user') {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tpicks.push({\n\t\t\t\tlabel: toolSet.referenceName,\n\t\t\t\ttoolset: toolSet,\n\t\t\t\ttooltip: toolSet.description,\n\t\t\t\ticonClass: ThemeIcon.asClassName(toolSet.icon)\n\t\t\t});\n\t\t}\n\n\t\tconst pick = await quickInputService.pick(picks, {\n\t\t\tcanPickMany: false,\n\t\t\tplaceHolder: localize('chat.configureToolSets.placeholder', 'Select a tool set to configure'),\n\t\t});\n\n\t\tif (!pick) {\n\t\t\treturn; // user cancelled\n\t\t}\n\n\t\tlet resource: URI | undefined;\n\n\t\tif (!pick.toolset) {\n\n\t\t\tconst name = await quickInputService.input({\n\t\t\t\tplaceHolder: localize('input.placeholder', \"Type tool sets file name\"),\n\t\t\t\tvalidateInput: async (input) => {\n\t\t\t\t\tif (!input) {\n\t\t\t\t\t\treturn localize('bad_name1', \"Invalid file name\");\n\t\t\t\t\t}\n\t\t\t\t\tif (!isValidBasename(input)) {\n\t\t\t\t\t\treturn localize('bad_name2', \"'{0}' is not a valid file name\", input);\n\t\t\t\t\t}\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (isFalsyOrWhitespace(name)) {\n\t\t\t\treturn; // user cancelled\n\t\t\t}\n\n\t\t\tresource = joinPath(userDataProfileService.currentProfile.promptsHome, `${name}${RawToolSetsShape.suffix}`);\n\n\t\t\tif (!await fileService.exists(resource)) {\n\t\t\t\tawait textFileService.write(resource, [\n\t\t\t\t\t'// Place your tool sets here...',\n\t\t\t\t\t'// Example:',\n\t\t\t\t\t'// {',\n\t\t\t\t\t'// \\t\"toolSetName\": {',\n\t\t\t\t\t'// \\t\\t\"tools\": [',\n\t\t\t\t\t'// \\t\\t\\t\"someTool\",',\n\t\t\t\t\t'// \\t\\t\\t\"anotherTool\"',\n\t\t\t\t\t'// \\t\\t],',\n\t\t\t\t\t'// \\t\\t\"description\": \"description\",',\n\t\t\t\t\t'// \\t\\t\"icon\": \"tools\"',\n\t\t\t\t\t'// \\t}',\n\t\t\t\t\t'// }',\n\t\t\t\t].join('\\n'));\n\t\t\t}\n\n\t\t} else {\n\t\t\tassertType(pick.toolset.source.type === 'user');\n\t\t\tresource = pick.toolset.source.file;\n\t\t}\n\n\t\tawait editorService.openEditor({ resource, options: { pinned: true } });\n\t}\n}\n"]}