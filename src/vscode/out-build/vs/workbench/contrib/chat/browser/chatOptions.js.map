{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/chat/browser/chatOptions.ts","vs/workbench/contrib/chat/browser/chatOptions.ts"],"names":[],"mappings":"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","file":"chatOptions.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Color } from '../../../../base/common/color.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { IBracketPairColorizationOptions, IEditorOptions } from '../../../../editor/common/config/editorOptions.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { IViewDescriptorService } from '../../../common/views.js';\n\nexport interface IChatConfiguration {\n\teditor: {\n\t\treadonly fontSize: number;\n\t\treadonly fontFamily: string;\n\t\treadonly lineHeight: number;\n\t\treadonly fontWeight: string;\n\t\treadonly wordWrap: 'off' | 'on';\n\t};\n}\n\nexport interface IChatEditorConfiguration {\n\treadonly foreground: Color | undefined;\n\treadonly inputEditor: IChatInputEditorOptions;\n\treadonly resultEditor: IChatResultEditorOptions;\n}\n\nexport interface IChatInputEditorOptions {\n\treadonly backgroundColor: Color | undefined;\n\treadonly accessibilitySupport: string;\n}\n\nexport interface IChatResultEditorOptions {\n\treadonly fontSize: number;\n\treadonly fontFamily: string | undefined;\n\treadonly lineHeight: number;\n\treadonly fontWeight: string;\n\treadonly backgroundColor: Color | undefined;\n\treadonly bracketPairColorization: IBracketPairColorizationOptions;\n\treadonly fontLigatures: boolean | string | undefined;\n\treadonly wordWrap: 'off' | 'on';\n\n\t// Bring these back if we make the editors editable\n\t// readonly cursorBlinking: string;\n\t// readonly accessibilitySupport: string;\n}\n\n\nexport class ChatEditorOptions extends Disposable {\n\tprivate static readonly lineHeightEm = 1.4;\n\n\tprivate readonly _onDidChange = this._register(new Emitter<void>());\n\treadonly onDidChange = this._onDidChange.event;\n\n\tprivate _config!: IChatEditorConfiguration;\n\tpublic get configuration(): IChatEditorConfiguration {\n\t\treturn this._config;\n\t}\n\n\tprivate static readonly relevantSettingIds = [\n\t\t'chat.editor.lineHeight',\n\t\t'chat.editor.fontSize',\n\t\t'chat.editor.fontFamily',\n\t\t'chat.editor.fontWeight',\n\t\t'chat.editor.wordWrap',\n\t\t'editor.cursorBlinking',\n\t\t'editor.fontLigatures',\n\t\t'editor.accessibilitySupport',\n\t\t'editor.bracketPairColorization.enabled',\n\t\t'editor.bracketPairColorization.independentColorPoolPerBracketType',\n\t];\n\n\tconstructor(\n\t\tviewId: string | undefined,\n\t\tprivate readonly foreground: string,\n\t\tprivate readonly inputEditorBackgroundColor: string,\n\t\tprivate readonly resultEditorBackgroundColor: string,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@IThemeService private readonly themeService: IThemeService,\n\t\t@IViewDescriptorService private readonly viewDescriptorService: IViewDescriptorService\n\t) {\n\t\tsuper();\n\n\t\tthis._register(this.themeService.onDidColorThemeChange(e => this.update()));\n\t\tthis._register(this.viewDescriptorService.onDidChangeLocation(e => {\n\t\t\tif (e.views.some(v => v.id === viewId)) {\n\t\t\t\tthis.update();\n\t\t\t}\n\t\t}));\n\t\tthis._register(this.configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (ChatEditorOptions.relevantSettingIds.some(id => e.affectsConfiguration(id))) {\n\t\t\t\tthis.update();\n\t\t\t}\n\t\t}));\n\t\tthis.update();\n\t}\n\n\tprivate update() {\n\t\tconst editorConfig = this.configurationService.getValue<IEditorOptions>('editor');\n\n\t\t// TODO shouldn't the setting keys be more specific?\n\t\tconst chatEditorConfig = this.configurationService.getValue<IChatConfiguration>('chat')?.editor;\n\t\tconst accessibilitySupport = this.configurationService.getValue<'auto' | 'off' | 'on'>('editor.accessibilitySupport');\n\t\tthis._config = {\n\t\t\tforeground: this.themeService.getColorTheme().getColor(this.foreground),\n\t\t\tinputEditor: {\n\t\t\t\tbackgroundColor: this.themeService.getColorTheme().getColor(this.inputEditorBackgroundColor),\n\t\t\t\taccessibilitySupport,\n\t\t\t},\n\t\t\tresultEditor: {\n\t\t\t\tbackgroundColor: this.themeService.getColorTheme().getColor(this.resultEditorBackgroundColor),\n\t\t\t\tfontSize: chatEditorConfig.fontSize,\n\t\t\t\tfontFamily: chatEditorConfig.fontFamily === 'default' ? editorConfig.fontFamily : chatEditorConfig.fontFamily,\n\t\t\t\tfontWeight: chatEditorConfig.fontWeight,\n\t\t\t\tlineHeight: chatEditorConfig.lineHeight ? chatEditorConfig.lineHeight : ChatEditorOptions.lineHeightEm * chatEditorConfig.fontSize,\n\t\t\t\tbracketPairColorization: {\n\t\t\t\t\tenabled: this.configurationService.getValue<boolean>('editor.bracketPairColorization.enabled'),\n\t\t\t\t\tindependentColorPoolPerBracketType: this.configurationService.getValue<boolean>('editor.bracketPairColorization.independentColorPoolPerBracketType'),\n\t\t\t\t},\n\t\t\t\twordWrap: chatEditorConfig.wordWrap,\n\t\t\t\tfontLigatures: editorConfig.fontLigatures,\n\t\t\t}\n\n\t\t};\n\t\tthis._onDidChange.fire();\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Color } from '../../../../base/common/color.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { IBracketPairColorizationOptions, IEditorOptions } from '../../../../editor/common/config/editorOptions.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { IViewDescriptorService } from '../../../common/views.js';\n\nexport interface IChatConfiguration {\n\teditor: {\n\t\treadonly fontSize: number;\n\t\treadonly fontFamily: string;\n\t\treadonly lineHeight: number;\n\t\treadonly fontWeight: string;\n\t\treadonly wordWrap: 'off' | 'on';\n\t};\n}\n\nexport interface IChatEditorConfiguration {\n\treadonly foreground: Color | undefined;\n\treadonly inputEditor: IChatInputEditorOptions;\n\treadonly resultEditor: IChatResultEditorOptions;\n}\n\nexport interface IChatInputEditorOptions {\n\treadonly backgroundColor: Color | undefined;\n\treadonly accessibilitySupport: string;\n}\n\nexport interface IChatResultEditorOptions {\n\treadonly fontSize: number;\n\treadonly fontFamily: string | undefined;\n\treadonly lineHeight: number;\n\treadonly fontWeight: string;\n\treadonly backgroundColor: Color | undefined;\n\treadonly bracketPairColorization: IBracketPairColorizationOptions;\n\treadonly fontLigatures: boolean | string | undefined;\n\treadonly wordWrap: 'off' | 'on';\n\n\t// Bring these back if we make the editors editable\n\t// readonly cursorBlinking: string;\n\t// readonly accessibilitySupport: string;\n}\n\n\nexport class ChatEditorOptions extends Disposable {\n\tprivate static readonly lineHeightEm = 1.4;\n\n\tprivate readonly _onDidChange = this._register(new Emitter<void>());\n\treadonly onDidChange = this._onDidChange.event;\n\n\tprivate _config!: IChatEditorConfiguration;\n\tpublic get configuration(): IChatEditorConfiguration {\n\t\treturn this._config;\n\t}\n\n\tprivate static readonly relevantSettingIds = [\n\t\t'chat.editor.lineHeight',\n\t\t'chat.editor.fontSize',\n\t\t'chat.editor.fontFamily',\n\t\t'chat.editor.fontWeight',\n\t\t'chat.editor.wordWrap',\n\t\t'editor.cursorBlinking',\n\t\t'editor.fontLigatures',\n\t\t'editor.accessibilitySupport',\n\t\t'editor.bracketPairColorization.enabled',\n\t\t'editor.bracketPairColorization.independentColorPoolPerBracketType',\n\t];\n\n\tconstructor(\n\t\tviewId: string | undefined,\n\t\tprivate readonly foreground: string,\n\t\tprivate readonly inputEditorBackgroundColor: string,\n\t\tprivate readonly resultEditorBackgroundColor: string,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@IThemeService private readonly themeService: IThemeService,\n\t\t@IViewDescriptorService private readonly viewDescriptorService: IViewDescriptorService\n\t) {\n\t\tsuper();\n\n\t\tthis._register(this.themeService.onDidColorThemeChange(e => this.update()));\n\t\tthis._register(this.viewDescriptorService.onDidChangeLocation(e => {\n\t\t\tif (e.views.some(v => v.id === viewId)) {\n\t\t\t\tthis.update();\n\t\t\t}\n\t\t}));\n\t\tthis._register(this.configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (ChatEditorOptions.relevantSettingIds.some(id => e.affectsConfiguration(id))) {\n\t\t\t\tthis.update();\n\t\t\t}\n\t\t}));\n\t\tthis.update();\n\t}\n\n\tprivate update() {\n\t\tconst editorConfig = this.configurationService.getValue<IEditorOptions>('editor');\n\n\t\t// TODO shouldn't the setting keys be more specific?\n\t\tconst chatEditorConfig = this.configurationService.getValue<IChatConfiguration>('chat')?.editor;\n\t\tconst accessibilitySupport = this.configurationService.getValue<'auto' | 'off' | 'on'>('editor.accessibilitySupport');\n\t\tthis._config = {\n\t\t\tforeground: this.themeService.getColorTheme().getColor(this.foreground),\n\t\t\tinputEditor: {\n\t\t\t\tbackgroundColor: this.themeService.getColorTheme().getColor(this.inputEditorBackgroundColor),\n\t\t\t\taccessibilitySupport,\n\t\t\t},\n\t\t\tresultEditor: {\n\t\t\t\tbackgroundColor: this.themeService.getColorTheme().getColor(this.resultEditorBackgroundColor),\n\t\t\t\tfontSize: chatEditorConfig.fontSize,\n\t\t\t\tfontFamily: chatEditorConfig.fontFamily === 'default' ? editorConfig.fontFamily : chatEditorConfig.fontFamily,\n\t\t\t\tfontWeight: chatEditorConfig.fontWeight,\n\t\t\t\tlineHeight: chatEditorConfig.lineHeight ? chatEditorConfig.lineHeight : ChatEditorOptions.lineHeightEm * chatEditorConfig.fontSize,\n\t\t\t\tbracketPairColorization: {\n\t\t\t\t\tenabled: this.configurationService.getValue<boolean>('editor.bracketPairColorization.enabled'),\n\t\t\t\t\tindependentColorPoolPerBracketType: this.configurationService.getValue<boolean>('editor.bracketPairColorization.independentColorPoolPerBracketType'),\n\t\t\t\t},\n\t\t\t\twordWrap: chatEditorConfig.wordWrap,\n\t\t\t\tfontLigatures: editorConfig.fontLigatures,\n\t\t\t}\n\n\t\t};\n\t\tthis._onDidChange.fire();\n\t}\n}\n"]}