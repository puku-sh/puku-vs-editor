{"version":3,"sources":["vs/workbench/contrib/chat/browser/chatContentParts/chatSuggestNextWidget.ts"],"names":[],"mappings":"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","file":"chatSuggestNextWidget.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../../base/browser/dom.js';\nimport { Emitter, Event } from '../../../../../base/common/event.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { localize } from '../../../../../nls.js';\nimport { IChatMode } from '../../common/chatModes.js';\nimport { IHandOff } from '../../common/promptSyntax/promptFileParser.js';\n\nexport interface INextPromptSelection {\n\treadonly handoff: IHandOff;\n}\n\nexport class ChatSuggestNextWidget extends Disposable {\n\tpublic readonly domNode: HTMLElement;\n\n\tprivate readonly _onDidChangeHeight = this._register(new Emitter<void>());\n\tpublic readonly onDidChangeHeight: Event<void> = this._onDidChangeHeight.event;\n\n\tprivate readonly _onDidSelectPrompt = this._register(new Emitter<INextPromptSelection>());\n\tpublic readonly onDidSelectPrompt: Event<INextPromptSelection> = this._onDidSelectPrompt.event;\n\n\tprivate promptsContainer!: HTMLElement;\n\tprivate titleElement!: HTMLElement;\n\tprivate _currentMode: IChatMode | undefined;\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.domNode = this.createSuggestNextWidget();\n\t}\n\n\tpublic get height(): number {\n\t\treturn this.domNode.style.display === 'none' ? 0 : this.domNode.offsetHeight;\n\t}\n\n\tpublic getCurrentMode(): IChatMode | undefined {\n\t\treturn this._currentMode;\n\t}\n\n\tprivate createSuggestNextWidget(): HTMLElement {\n\t\t// Reuse welcome view classes for consistent styling\n\t\tconst container = dom.$('.chat-suggest-next-widget.chat-welcome-view-suggested-prompts');\n\t\tcontainer.style.display = 'none';\n\n\t\t// Title element using welcome view class\n\t\tthis.titleElement = dom.append(container, dom.$('.chat-welcome-view-suggested-prompts-title'));\n\n\t\t// Container for prompt buttons\n\t\tthis.promptsContainer = container;\n\n\t\treturn container;\n\t}\n\n\tpublic render(mode: IChatMode): void {\n\t\tconst handoffs = mode.handOffs?.get();\n\n\t\tif (!handoffs || handoffs.length === 0) {\n\t\t\tthis.hide();\n\t\t\treturn;\n\t\t}\n\n\t\tthis._currentMode = mode;\n\n\t\t// Update title with mode name: \"Proceed from {Mode}\"\n\t\tconst modeName = mode.name.get() || mode.label.get() || localize('chat.currentMode', 'current mode');\n\t\tthis.titleElement.textContent = localize('chat.proceedFrom', 'Proceed from {0}', modeName);\n\n\t\t// Clear existing prompt buttons (keep title which is first child)\n\t\tconst childrenToRemove: HTMLElement[] = [];\n\t\tfor (let i = 1; i < this.promptsContainer.children.length; i++) {\n\t\t\tchildrenToRemove.push(this.promptsContainer.children[i] as HTMLElement);\n\t\t}\n\t\tfor (const child of childrenToRemove) {\n\t\t\tthis.promptsContainer.removeChild(child);\n\t\t}\n\n\t\t// Create prompt buttons using welcome view classes\n\t\tfor (const handoff of handoffs) {\n\t\t\tconst promptButton = this.createPromptButton(handoff);\n\t\t\tthis.promptsContainer.appendChild(promptButton);\n\t\t}\n\n\t\tthis.domNode.style.display = 'flex';\n\t\tthis._onDidChangeHeight.fire();\n\t}\n\n\tprivate createPromptButton(handoff: IHandOff): HTMLElement {\n\t\t// Reuse welcome view prompt button class\n\t\tconst button = dom.$('.chat-welcome-view-suggested-prompt');\n\t\tbutton.setAttribute('tabindex', '0');\n\t\tbutton.setAttribute('role', 'button');\n\t\tbutton.setAttribute('aria-label', localize('chat.suggestNext.item', '{0}', handoff.label));\n\n\t\t// Title element using welcome view class\n\t\tconst titleElement = dom.append(button, dom.$('.chat-welcome-view-suggested-prompt-title'));\n\t\ttitleElement.textContent = handoff.label;\n\n\t\t// Click handler\n\t\tthis._register(dom.addDisposableListener(button, 'click', () => {\n\t\t\tthis._onDidSelectPrompt.fire({ handoff });\n\t\t}));\n\n\t\t// Keyboard handler\n\t\tthis._register(dom.addDisposableListener(button, 'keydown', (e) => {\n\t\t\tif (e.key === 'Enter' || e.key === ' ') {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis._onDidSelectPrompt.fire({ handoff });\n\t\t\t}\n\t\t}));\n\n\t\treturn button;\n\t}\n\n\tpublic hide(): void {\n\t\tif (this.domNode.style.display !== 'none') {\n\t\t\tthis._currentMode = undefined;\n\t\t\tthis.domNode.style.display = 'none';\n\t\t\tthis._onDidChangeHeight.fire();\n\t\t}\n\t}\n}\n"]}