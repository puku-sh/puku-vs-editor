{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/chat/browser/chatContentParts/chatTaskContentPart.ts","vs/workbench/contrib/chat/browser/chatContentParts/chatTaskContentPart.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;AAEhG,OAAO,KAAK,GAAG,MAAM,oCAAoC,CAAC;AAC1D,OAAO,EAAE,KAAK,EAAE,MAAM,qCAAqC,CAAC;AAC5D,OAAO,EAAE,UAAU,EAAe,MAAM,yCAAyC,CAAC;AAElF,OAAO,EAAE,qBAAqB,EAAE,MAAM,+DAA+D,CAAC;AAItG,OAAO,EAAE,uBAAuB,EAAE,MAAM,8BAA8B,CAAC;AACvE,OAAO,EAAE,8BAA8B,EAAuB,MAAM,gCAAgC,CAAC;AAE9F,IAAM,mBAAmB,GAAzB,MAAM,mBAAoB,SAAQ,UAAU;IAMlD,YACkB,IAAqC,EACtD,yBAA8C,EAC9C,2BAA8C,EAC9C,OAAsC,EACf,oBAA2C;QAElE,KAAK,EAAE,CAAC;QANS,SAAI,GAAJ,IAAI,CAAiC;QAQtD,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;YAC1B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACtB,MAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,oBAAoB,CAAC,cAAc,CAAC,8BAA8B,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,OAAO,EAAE,yBAAyB,CAAC,CAAC,CAAC;YAC5K,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,CAAC,CAAC,qBAAqB,CAAC,CAAC;YAC5C,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YAC3C,IAAI,CAAC,iBAAiB,GAAG,QAAQ,CAAC,iBAAiB,CAAC;QACrD,CAAC;aAAM,CAAC;YACP,MAAM,SAAS,GAAG,IAAI,CAAC,IAAI,KAAK,cAAc,CAAC,CAAC;gBAC/C,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;gBAClB,IAAI,CAAC;YACN,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;YAC3B,MAAM,WAAW,GAAG,CAAC,SAAS,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,UAAU,CAAC;YAC9D,MAAM,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,oBAAoB,CAAC,cAAc,CAAC,uBAAuB,EAAE,IAAI,EAAE,2BAA2B,EAAE,OAAO,EAAE,WAAW,EAAE,IAAI,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC,CAAC;YACvL,IAAI,CAAC,OAAO,GAAG,YAAY,CAAC,OAAO,CAAC;YACpC,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC,IAAI,CAAC;QACrC,CAAC;IACF,CAAC;IAED,cAAc,CAAC,KAA6C;QAC3D,IACC,KAAK,CAAC,IAAI,KAAK,cAAc;YAC7B,IAAI,CAAC,IAAI,CAAC,IAAI,KAAK,cAAc;YACjC,KAAK,CAAC,SAAS,EAAE,KAAK,IAAI,CAAC,SAAS,EACnC,CAAC;YACF,OAAO,KAAK,CAAC;QACd,CAAC;QAED,OAAO,KAAK,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,IAAI;YACnC,KAAK,CAAC,QAAQ,CAAC,MAAM,KAAK,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;IACtD,CAAC;IAED,aAAa,CAAC,UAAuB;QACpC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;IAC5B,CAAC;CACD,CAAA;AAjDY,mBAAmB;IAW7B,WAAA,qBAAqB,CAAA;GAXX,mBAAmB,CAiD/B","file":"chatTaskContentPart.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../../base/browser/dom.js';\nimport { Event } from '../../../../../base/common/event.js';\nimport { Disposable, IDisposable } from '../../../../../base/common/lifecycle.js';\nimport { IMarkdownRenderer } from '../../../../../platform/markdown/browser/markdownRenderer.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { IChatProgressRenderableResponseContent } from '../../common/chatModel.js';\nimport { IChatTask, IChatTaskSerialized } from '../../common/chatService.js';\nimport { IChatContentPart, IChatContentPartRenderContext } from './chatContentParts.js';\nimport { ChatProgressContentPart } from './chatProgressContentPart.js';\nimport { ChatCollapsibleListContentPart, CollapsibleListPool } from './chatReferencesContentPart.js';\n\nexport class ChatTaskContentPart extends Disposable implements IChatContentPart {\n\tpublic readonly domNode: HTMLElement;\n\tpublic readonly onDidChangeHeight: Event<void>;\n\n\tprivate isSettled: boolean;\n\n\tconstructor(\n\t\tprivate readonly task: IChatTask | IChatTaskSerialized,\n\t\tcontentReferencesListPool: CollapsibleListPool,\n\t\tchatContentMarkdownRenderer: IMarkdownRenderer,\n\t\tcontext: IChatContentPartRenderContext,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t) {\n\t\tsuper();\n\n\t\tif (task.progress.length) {\n\t\t\tthis.isSettled = true;\n\t\t\tconst refsPart = this._register(instantiationService.createInstance(ChatCollapsibleListContentPart, task.progress, task.content.value, context, contentReferencesListPool));\n\t\t\tthis.domNode = dom.$('.chat-progress-task');\n\t\t\tthis.domNode.appendChild(refsPart.domNode);\n\t\t\tthis.onDidChangeHeight = refsPart.onDidChangeHeight;\n\t\t} else {\n\t\t\tconst isSettled = task.kind === 'progressTask' ?\n\t\t\t\ttask.isSettled() :\n\t\t\t\ttrue;\n\t\t\tthis.isSettled = isSettled;\n\t\t\tconst showSpinner = !isSettled && !context.element.isComplete;\n\t\t\tconst progressPart = this._register(instantiationService.createInstance(ChatProgressContentPart, task, chatContentMarkdownRenderer, context, showSpinner, true, undefined, undefined));\n\t\t\tthis.domNode = progressPart.domNode;\n\t\t\tthis.onDidChangeHeight = Event.None;\n\t\t}\n\t}\n\n\thasSameContent(other: IChatProgressRenderableResponseContent): boolean {\n\t\tif (\n\t\t\tother.kind === 'progressTask' &&\n\t\t\tthis.task.kind === 'progressTask' &&\n\t\t\tother.isSettled() !== this.isSettled\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn other.kind === this.task.kind &&\n\t\t\tother.progress.length === this.task.progress.length;\n\t}\n\n\taddDisposable(disposable: IDisposable): void {\n\t\tthis._register(disposable);\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../../base/browser/dom.js';\nimport { Event } from '../../../../../base/common/event.js';\nimport { Disposable, IDisposable } from '../../../../../base/common/lifecycle.js';\nimport { IMarkdownRenderer } from '../../../../../platform/markdown/browser/markdownRenderer.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { IChatProgressRenderableResponseContent } from '../../common/chatModel.js';\nimport { IChatTask, IChatTaskSerialized } from '../../common/chatService.js';\nimport { IChatContentPart, IChatContentPartRenderContext } from './chatContentParts.js';\nimport { ChatProgressContentPart } from './chatProgressContentPart.js';\nimport { ChatCollapsibleListContentPart, CollapsibleListPool } from './chatReferencesContentPart.js';\n\nexport class ChatTaskContentPart extends Disposable implements IChatContentPart {\n\tpublic readonly domNode: HTMLElement;\n\tpublic readonly onDidChangeHeight: Event<void>;\n\n\tprivate isSettled: boolean;\n\n\tconstructor(\n\t\tprivate readonly task: IChatTask | IChatTaskSerialized,\n\t\tcontentReferencesListPool: CollapsibleListPool,\n\t\tchatContentMarkdownRenderer: IMarkdownRenderer,\n\t\tcontext: IChatContentPartRenderContext,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t) {\n\t\tsuper();\n\n\t\tif (task.progress.length) {\n\t\t\tthis.isSettled = true;\n\t\t\tconst refsPart = this._register(instantiationService.createInstance(ChatCollapsibleListContentPart, task.progress, task.content.value, context, contentReferencesListPool));\n\t\t\tthis.domNode = dom.$('.chat-progress-task');\n\t\t\tthis.domNode.appendChild(refsPart.domNode);\n\t\t\tthis.onDidChangeHeight = refsPart.onDidChangeHeight;\n\t\t} else {\n\t\t\tconst isSettled = task.kind === 'progressTask' ?\n\t\t\t\ttask.isSettled() :\n\t\t\t\ttrue;\n\t\t\tthis.isSettled = isSettled;\n\t\t\tconst showSpinner = !isSettled && !context.element.isComplete;\n\t\t\tconst progressPart = this._register(instantiationService.createInstance(ChatProgressContentPart, task, chatContentMarkdownRenderer, context, showSpinner, true, undefined, undefined));\n\t\t\tthis.domNode = progressPart.domNode;\n\t\t\tthis.onDidChangeHeight = Event.None;\n\t\t}\n\t}\n\n\thasSameContent(other: IChatProgressRenderableResponseContent): boolean {\n\t\tif (\n\t\t\tother.kind === 'progressTask' &&\n\t\t\tthis.task.kind === 'progressTask' &&\n\t\t\tother.isSettled() !== this.isSettled\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn other.kind === this.task.kind &&\n\t\t\tother.progress.length === this.task.progress.length;\n\t}\n\n\taddDisposable(disposable: IDisposable): void {\n\t\tthis._register(disposable);\n\t}\n}\n"]}