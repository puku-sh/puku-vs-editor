{"version":3,"sources":["vs/workbench/contrib/chat/browser/chatManagement/chatModelsWidget.ts"],"names":[],"mappings":"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","file":"chatModelsWidget.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport './media/chatModelsWidget.css';\nimport { Disposable, DisposableStore, IDisposable } from '../../../../../base/common/lifecycle.js';\nimport { Emitter } from '../../../../../base/common/event.js';\nimport * as DOM from '../../../../../base/browser/dom.js';\nimport { Button, IButtonOptions } from '../../../../../base/browser/ui/button/button.js';\nimport { ThemeIcon } from '../../../../../base/common/themables.js';\nimport { ILanguageModelsService } from '../../../chat/common/languageModels.js';\nimport { localize } from '../../../../../nls.js';\nimport { defaultButtonStyles } from '../../../../../platform/theme/browser/defaultStyles.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { WorkbenchTable } from '../../../../../platform/list/browser/listService.js';\nimport { ITableVirtualDelegate, ITableRenderer } from '../../../../../base/browser/ui/table/table.js';\nimport { IHoverService } from '../../../../../platform/hover/browser/hover.js';\nimport { MarkdownString } from '../../../../../base/common/htmlContent.js';\nimport { IExtensionService } from '../../../../services/extensions/common/extensions.js';\nimport { IContextMenuService } from '../../../../../platform/contextview/browser/contextView.js';\nimport { IAction, toAction, Action, Separator } from '../../../../../base/common/actions.js';\nimport { ActionBar } from '../../../../../base/browser/ui/actionbar/actionbar.js';\nimport { Codicon } from '../../../../../base/common/codicons.js';\nimport { ChatModelsViewModel, IModelEntry, IModelItemEntry, IVendorItemEntry, SEARCH_SUGGESTIONS, isVendorEntry } from './chatModelsViewModel.js';\nimport { HighlightedLabel } from '../../../../../base/browser/ui/highlightedlabel/highlightedLabel.js';\nimport { SuggestEnabledInput } from '../../../codeEditor/browser/suggestEnabledInput/suggestEnabledInput.js';\nimport { Delayer } from '../../../../../base/common/async.js';\nimport { settingsTextInputBorder } from '../../../preferences/common/settingsEditorColorRegistry.js';\nimport { IChatEntitlementService, ChatEntitlement } from '../../../../services/chat/common/chatEntitlementService.js';\nimport { DropdownMenuActionViewItem } from '../../../../../base/browser/ui/dropdown/dropdownActionViewItem.js';\nimport { IActionViewItemOptions } from '../../../../../base/browser/ui/actionbar/actionViewItems.js';\nimport { AnchorAlignment } from '../../../../../base/browser/ui/contextview/contextview.js';\nimport { ToolBar } from '../../../../../base/browser/ui/toolbar/toolbar.js';\nimport { preferencesClearInputIcon } from '../../../preferences/browser/preferencesIcons.js';\nimport { ICommandService } from '../../../../../platform/commands/common/commands.js';\nimport { IEditorProgressService } from '../../../../../platform/progress/common/progress.js';\nimport { IContextKey, IContextKeyService } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { CONTEXT_MODELS_SEARCH_FOCUS } from '../../common/constants.js';\n\nconst $ = DOM.$;\n\nconst HEADER_HEIGHT = 30;\nconst VENDOR_ROW_HEIGHT = 30;\nconst MODEL_ROW_HEIGHT = 26;\n\ntype TableEntry = IModelItemEntry | IVendorItemEntry;\n\nexport function getModelHoverContent(model: IModelEntry): MarkdownString {\n\tconst markdown = new MarkdownString('', { isTrusted: true, supportThemeIcons: true });\n\tmarkdown.appendMarkdown(`**${model.metadata.name}**`);\n\tif (model.metadata.id !== model.metadata.version) {\n\t\tmarkdown.appendMarkdown(`&nbsp;<span style=\"background-color:#8080802B;\">&nbsp;_${model.metadata.id}@${model.metadata.version}_&nbsp;</span>`);\n\t} else {\n\t\tmarkdown.appendMarkdown(`&nbsp;<span style=\"background-color:#8080802B;\">&nbsp;_${model.metadata.id}_&nbsp;</span>`);\n\t}\n\tmarkdown.appendText(`\\n`);\n\n\tif (model.metadata.statusIcon && model.metadata.tooltip) {\n\t\tif (model.metadata.statusIcon) {\n\t\t\tmarkdown.appendMarkdown(`$(${model.metadata.statusIcon.id})&nbsp;`);\n\t\t}\n\t\tmarkdown.appendMarkdown(`${model.metadata.tooltip}`);\n\t\tmarkdown.appendText(`\\n`);\n\t}\n\n\tif (model.metadata.detail) {\n\t\tmarkdown.appendMarkdown(`${localize('models.cost', 'Multiplier')}: `);\n\t\tmarkdown.appendMarkdown(model.metadata.detail);\n\t\tmarkdown.appendText(`\\n`);\n\t}\n\n\tif (model.metadata.maxInputTokens || model.metadata.maxOutputTokens) {\n\t\tmarkdown.appendMarkdown(`${localize('models.contextSize', 'Context Size')}: `);\n\t\tlet addSeparator = false;\n\t\tif (model.metadata.maxInputTokens) {\n\t\t\tmarkdown.appendMarkdown(`$(arrow-down) ${formatTokenCount(model.metadata.maxInputTokens)} (${localize('models.input', 'Input')})`);\n\t\t\taddSeparator = true;\n\t\t}\n\t\tif (model.metadata.maxOutputTokens) {\n\t\t\tif (addSeparator) {\n\t\t\t\tmarkdown.appendText(`  |  `);\n\t\t\t}\n\t\t\tmarkdown.appendMarkdown(`$(arrow-up) ${formatTokenCount(model.metadata.maxOutputTokens)} (${localize('models.output', 'Output')})`);\n\t\t}\n\t\tmarkdown.appendText(`\\n`);\n\t}\n\n\tif (model.metadata.capabilities) {\n\t\tmarkdown.appendMarkdown(`${localize('models.capabilities', 'Capabilities')}: `);\n\t\tif (model.metadata.capabilities?.toolCalling) {\n\t\t\tmarkdown.appendMarkdown(`&nbsp;<span style=\"background-color:#8080802B;\">&nbsp;_${localize('models.toolCalling', 'Tools')}_&nbsp;</span>`);\n\t\t}\n\t\tif (model.metadata.capabilities?.vision) {\n\t\t\tmarkdown.appendMarkdown(`&nbsp;<span style=\"background-color:#8080802B;\">&nbsp;_${localize('models.vision', 'Vision')}_&nbsp;</span>`);\n\t\t}\n\t\tif (model.metadata.capabilities?.agentMode) {\n\t\t\tmarkdown.appendMarkdown(`&nbsp;<span style=\"background-color:#8080802B;\">&nbsp;_${localize('models.agentMode', 'Agent Mode')}_&nbsp;</span>`);\n\t\t}\n\t\tfor (const editTool of model.metadata.capabilities.editTools ?? []) {\n\t\t\tmarkdown.appendMarkdown(`&nbsp;<span style=\"background-color:#8080802B;\">&nbsp;_${editTool}_&nbsp;</span>`);\n\t\t}\n\t\tmarkdown.appendText(`\\n`);\n\t}\n\n\treturn markdown;\n}\n\nclass ModelsFilterAction extends Action {\n\tconstructor() {\n\t\tsuper('workbench.models.filter', localize('filter', \"Filter\"), ThemeIcon.asClassName(Codicon.filter));\n\t}\n\toverride async run(): Promise<void> {\n\t}\n}\n\nfunction toggleFilter(currentQuery: string, query: string, alternativeQueries: string[] = []): string {\n\tconst allQueries = [query, ...alternativeQueries];\n\tconst isChecked = allQueries.some(q => currentQuery.includes(q));\n\n\tif (!isChecked) {\n\t\tconst trimmedQuery = currentQuery.trim();\n\t\treturn trimmedQuery ? `${trimmedQuery} ${query}` : query;\n\t} else {\n\t\tlet queryWithRemovedFilter = currentQuery;\n\t\tfor (const q of allQueries) {\n\t\t\tqueryWithRemovedFilter = queryWithRemovedFilter.replace(q, '');\n\t\t}\n\t\treturn queryWithRemovedFilter.replace(/\\s+/g, ' ').trim();\n\t}\n}\n\nclass ModelsSearchFilterDropdownMenuActionViewItem extends DropdownMenuActionViewItem {\n\n\tconstructor(\n\t\taction: IAction,\n\t\toptions: IActionViewItemOptions,\n\t\tprivate readonly searchWidget: SuggestEnabledInput,\n\t\tprivate readonly viewModel: ChatModelsViewModel,\n\t\t@IContextMenuService contextMenuService: IContextMenuService\n\t) {\n\t\tsuper(action,\n\t\t\t{ getActions: () => this.getActions() },\n\t\t\tcontextMenuService,\n\t\t\t{\n\t\t\t\t...options,\n\t\t\t\tclassNames: action.class,\n\t\t\t\tanchorAlignmentProvider: () => AnchorAlignment.RIGHT,\n\t\t\t\tmenuAsChild: true\n\t\t\t}\n\t\t);\n\t}\n\n\tprivate createProviderAction(vendor: string, displayName: string): IAction {\n\t\tconst query = `@provider:\"${displayName}\"`;\n\t\tconst currentQuery = this.searchWidget.getValue();\n\t\tconst isChecked = currentQuery.includes(query) || currentQuery.includes(`@provider:${vendor}`);\n\n\t\treturn {\n\t\t\tid: `provider-${vendor}`,\n\t\t\tlabel: displayName,\n\t\t\ttooltip: localize('filterByProvider', \"Filter by {0}\", displayName),\n\t\t\tclass: undefined,\n\t\t\tenabled: true,\n\t\t\tchecked: isChecked,\n\t\t\trun: () => this.toggleFilterAndSearch(query, [`@provider:${vendor}`])\n\t\t};\n\t}\n\n\tprivate createCapabilityAction(capability: string, label: string): IAction {\n\t\tconst query = `@capability:${capability}`;\n\t\tconst currentQuery = this.searchWidget.getValue();\n\t\tconst isChecked = currentQuery.includes(query);\n\n\t\treturn {\n\t\t\tid: `capability-${capability}`,\n\t\t\tlabel,\n\t\t\ttooltip: localize('filterByCapability', \"Filter by {0}\", label),\n\t\t\tclass: undefined,\n\t\t\tenabled: true,\n\t\t\tchecked: isChecked,\n\t\t\trun: () => this.toggleFilterAndSearch(query)\n\t\t};\n\t}\n\n\tprivate createVisibleAction(visible: boolean, label: string): IAction {\n\t\tconst query = `@visible:${visible}`;\n\t\tconst oppositeQuery = `@visible:${!visible}`;\n\t\tconst currentQuery = this.searchWidget.getValue();\n\t\tconst isChecked = currentQuery.includes(query);\n\n\t\treturn {\n\t\t\tid: `visible-${visible}`,\n\t\t\tlabel,\n\t\t\ttooltip: localize('filterByVisible', \"Filter by {0}\", label),\n\t\t\tclass: undefined,\n\t\t\tenabled: true,\n\t\t\tchecked: isChecked,\n\t\t\trun: () => this.toggleFilterAndSearch(query, [oppositeQuery])\n\t\t};\n\t}\n\n\tprivate toggleFilterAndSearch(query: string, alternativeQueries: string[] = []): void {\n\t\tconst currentQuery = this.searchWidget.getValue();\n\t\tconst newQuery = toggleFilter(currentQuery, query, alternativeQueries);\n\t\tthis.searchWidget.setValue(newQuery);\n\t\tthis.searchWidget.focus();\n\t}\n\n\tprivate getActions(): IAction[] {\n\t\tconst actions: IAction[] = [];\n\n\t\t// Visibility filters\n\t\tactions.push(this.createVisibleAction(true, localize('filter.visible', 'Visible')));\n\t\tactions.push(this.createVisibleAction(false, localize('filter.hidden', 'Hidden')));\n\n\t\t// Capability filters\n\t\tactions.push(new Separator());\n\t\tactions.push(\n\t\t\tthis.createCapabilityAction('tools', localize('capability.tools', 'Tools')),\n\t\t\tthis.createCapabilityAction('vision', localize('capability.vision', 'Vision')),\n\t\t\tthis.createCapabilityAction('agent', localize('capability.agent', 'Agent Mode'))\n\t\t);\n\n\t\t// Provider filters - only show providers with configured models\n\t\tconst configuredVendors = this.viewModel.getConfiguredVendors();\n\t\tif (configuredVendors.length > 1) {\n\t\t\tactions.push(new Separator());\n\t\t\tactions.push(...configuredVendors.map(vendor => this.createProviderAction(vendor.vendor, vendor.vendorDisplayName)));\n\t\t}\n\n\t\treturn actions;\n\t}\n}\n\nclass Delegate implements ITableVirtualDelegate<TableEntry> {\n\treadonly headerRowHeight = HEADER_HEIGHT;\n\tgetHeight(element: TableEntry): number {\n\t\treturn isVendorEntry(element) ? VENDOR_ROW_HEIGHT : MODEL_ROW_HEIGHT;\n\t}\n}\n\ninterface IModelTableColumnTemplateData {\n\treadonly container: HTMLElement;\n\treadonly disposables: DisposableStore;\n\treadonly elementDisposables: DisposableStore;\n}\n\nabstract class ModelsTableColumnRenderer<T extends IModelTableColumnTemplateData> implements ITableRenderer<TableEntry, T> {\n\tabstract readonly templateId: string;\n\tabstract renderTemplate(container: HTMLElement): T;\n\n\trenderElement(element: TableEntry, index: number, templateData: T): void {\n\t\ttemplateData.elementDisposables.clear();\n\t\tconst isVendor = isVendorEntry(element);\n\t\ttemplateData.container.classList.add('models-table-column');\n\t\ttemplateData.container.parentElement!.classList.toggle('models-vendor-row', isVendor);\n\t\ttemplateData.container.parentElement!.classList.toggle('models-model-row', !isVendor);\n\t\ttemplateData.container.parentElement!.classList.toggle('model-hidden', !isVendor && !element.modelEntry.metadata.isUserSelectable);\n\t\tif (isVendor) {\n\t\t\tthis.renderVendorElement(element, index, templateData);\n\t\t} else {\n\t\t\tthis.renderModelElement(element, index, templateData);\n\t\t}\n\t}\n\n\tabstract renderVendorElement(element: IVendorItemEntry, index: number, templateData: T): void;\n\tabstract renderModelElement(element: IModelItemEntry, index: number, templateData: T): void;\n\n\tdisposeTemplate(templateData: T): void {\n\t\ttemplateData.elementDisposables.dispose();\n\t\ttemplateData.disposables.dispose();\n\t}\n}\n\ninterface IToggleCollapseColumnTemplateData extends IModelTableColumnTemplateData {\n\treadonly rowContainer: HTMLElement | null;\n\treadonly container: HTMLElement;\n\treadonly actionBar: ActionBar;\n}\n\nclass GutterColumnRenderer extends ModelsTableColumnRenderer<IToggleCollapseColumnTemplateData> {\n\n\tstatic readonly TEMPLATE_ID = 'gutter';\n\n\treadonly templateId: string = GutterColumnRenderer.TEMPLATE_ID;\n\n\tconstructor(\n\t\tprivate readonly viewModel: ChatModelsViewModel,\n\t) {\n\t\tsuper();\n\t}\n\n\trenderTemplate(container: HTMLElement): IToggleCollapseColumnTemplateData {\n\t\tconst disposables = new DisposableStore();\n\t\tconst elementDisposables = new DisposableStore();\n\t\tcontainer.classList.add('models-gutter-column');\n\t\tconst actionBar = disposables.add(new ActionBar(container));\n\t\treturn {\n\t\t\trowContainer: container.parentElement,\n\t\t\tcontainer,\n\t\t\tactionBar,\n\t\t\tdisposables,\n\t\t\telementDisposables\n\t\t};\n\t}\n\n\toverride renderElement(entry: TableEntry, index: number, templateData: IToggleCollapseColumnTemplateData): void {\n\t\ttemplateData.actionBar.clear();\n\t\tsuper.renderElement(entry, index, templateData);\n\t}\n\n\toverride renderVendorElement(entry: IVendorItemEntry, index: number, templateData: IToggleCollapseColumnTemplateData): void {\n\t\ttemplateData.actionBar.push(this.createToggleCollapseAction(entry), { icon: true, label: false });\n\t}\n\n\tprivate createToggleCollapseAction(entry: IVendorItemEntry): IAction {\n\t\tconst label = entry.collapsed ? localize('expand', 'Expand') : localize('collapse', 'Collapse');\n\t\treturn {\n\t\t\tid: 'toggleCollapse',\n\t\t\tlabel,\n\t\t\ttooltip: label,\n\t\t\tenabled: true,\n\t\t\tclass: ThemeIcon.asClassName(entry.collapsed ? Codicon.chevronRight : Codicon.chevronDown),\n\t\t\trun: () => {\n\t\t\t\tthis.viewModel.toggleVendorCollapsed(entry);\n\t\t\t}\n\t\t};\n\t}\n\n\toverride renderModelElement(entry: IModelItemEntry, index: number, templateData: IToggleCollapseColumnTemplateData): void {\n\t\tconst { modelEntry } = entry;\n\t\tconst isVisible = modelEntry.metadata.isUserSelectable ?? false;\n\t\tconst toggleVisibilityAction = toAction({\n\t\t\tid: 'toggleVisibility',\n\t\t\tlabel: isVisible ? localize('models.hide', 'Hide') : localize('models.show', 'Show'),\n\t\t\tclass: `model-visibility-toggle ${isVisible ? `${ThemeIcon.asClassName(Codicon.eye)} model-visible` : `${ThemeIcon.asClassName(Codicon.eyeClosed)} model-hidden`}`,\n\t\t\ttooltip: isVisible ? localize('models.visible', 'Hide in the chat model picker') : localize('models.hidden', 'Show in the chat model picker'),\n\t\t\tchecked: !isVisible,\n\t\t\trun: async () => this.viewModel.toggleVisibility(entry)\n\t\t});\n\t\ttemplateData.actionBar.push(toggleVisibilityAction, { icon: true, label: false });\n\t}\n}\n\ninterface IModelNameColumnTemplateData extends IModelTableColumnTemplateData {\n\treadonly statusIcon: HTMLElement;\n\treadonly nameLabel: HighlightedLabel;\n\treadonly actionBar: ActionBar;\n}\n\nclass ModelNameColumnRenderer extends ModelsTableColumnRenderer<IModelNameColumnTemplateData> {\n\tstatic readonly TEMPLATE_ID = 'modelName';\n\n\treadonly templateId: string = ModelNameColumnRenderer.TEMPLATE_ID;\n\n\tconstructor(\n\t\t@IHoverService private readonly hoverService: IHoverService\n\t) {\n\t\tsuper();\n\t}\n\n\trenderTemplate(container: HTMLElement): IModelNameColumnTemplateData {\n\t\tconst disposables = new DisposableStore();\n\t\tconst elementDisposables = new DisposableStore();\n\t\tconst nameContainer = DOM.append(container, $('.model-name-container'));\n\t\tconst nameLabel = disposables.add(new HighlightedLabel(DOM.append(nameContainer, $('.model-name'))));\n\t\tconst statusIcon = DOM.append(nameContainer, $('.model-status-icon'));\n\t\tconst actionBar = disposables.add(new ActionBar(DOM.append(nameContainer, $('.model-name-actions'))));\n\t\treturn {\n\t\t\tcontainer,\n\t\t\tstatusIcon,\n\t\t\tnameLabel,\n\t\t\tactionBar,\n\t\t\tdisposables,\n\t\t\telementDisposables\n\t\t};\n\t}\n\n\toverride renderElement(entry: TableEntry, index: number, templateData: IModelNameColumnTemplateData): void {\n\t\tDOM.clearNode(templateData.statusIcon);\n\t\ttemplateData.actionBar.clear();\n\t\tsuper.renderElement(entry, index, templateData);\n\t}\n\n\toverride renderVendorElement(entry: IVendorItemEntry, index: number, templateData: IModelNameColumnTemplateData): void {\n\t\ttemplateData.nameLabel.set(entry.vendorEntry.vendorDisplayName, undefined);\n\t}\n\n\toverride renderModelElement(entry: IModelItemEntry, index: number, templateData: IModelNameColumnTemplateData): void {\n\t\tconst { modelEntry, modelNameMatches } = entry;\n\n\t\ttemplateData.statusIcon.className = 'model-status-icon';\n\t\tif (modelEntry.metadata.statusIcon) {\n\t\t\ttemplateData.statusIcon.classList.add(...ThemeIcon.asClassNameArray(modelEntry.metadata.statusIcon));\n\t\t\ttemplateData.statusIcon.style.display = '';\n\t\t} else {\n\t\t\ttemplateData.statusIcon.style.display = 'none';\n\t\t}\n\n\t\ttemplateData.nameLabel.set(modelEntry.metadata.name, modelNameMatches);\n\n\t\tconst markdown = new MarkdownString('', { isTrusted: true, supportThemeIcons: true });\n\t\tmarkdown.appendMarkdown(`**${entry.modelEntry.metadata.name}**`);\n\t\tif (entry.modelEntry.metadata.id !== entry.modelEntry.metadata.version) {\n\t\t\tmarkdown.appendMarkdown(`&nbsp;<span style=\"background-color:#8080802B;\">&nbsp;_${entry.modelEntry.metadata.id}@${entry.modelEntry.metadata.version}_&nbsp;</span>`);\n\t\t} else {\n\t\t\tmarkdown.appendMarkdown(`&nbsp;<span style=\"background-color:#8080802B;\">&nbsp;_${entry.modelEntry.metadata.id}_&nbsp;</span>`);\n\t\t}\n\t\tmarkdown.appendText(`\\n`);\n\n\t\tif (entry.modelEntry.metadata.statusIcon && entry.modelEntry.metadata.tooltip) {\n\t\t\tif (entry.modelEntry.metadata.statusIcon) {\n\t\t\t\tmarkdown.appendMarkdown(`$(${entry.modelEntry.metadata.statusIcon.id})&nbsp;`);\n\t\t\t}\n\t\t\tmarkdown.appendMarkdown(`${entry.modelEntry.metadata.tooltip}`);\n\t\t\tmarkdown.appendText(`\\n`);\n\t\t}\n\n\t\tif (!entry.modelEntry.metadata.isUserSelectable) {\n\t\t\tmarkdown.appendMarkdown(`\\n\\n${localize('models.userSelectable', 'This model is hidden in the chat model picker')}`);\n\t\t}\n\n\t\ttemplateData.elementDisposables.add(this.hoverService.setupDelayedHoverAtMouse(templateData.container!, () => ({\n\t\t\tcontent: markdown,\n\t\t\tappearance: {\n\t\t\t\tcompact: true,\n\t\t\t\tskipFadeInAnimation: true,\n\t\t\t}\n\t\t})));\n\t}\n}\n\ninterface IMultiplierColumnTemplateData extends IModelTableColumnTemplateData {\n\treadonly multiplierElement: HTMLElement;\n}\n\nclass MultiplierColumnRenderer extends ModelsTableColumnRenderer<IMultiplierColumnTemplateData> {\n\tstatic readonly TEMPLATE_ID = 'multiplier';\n\n\treadonly templateId: string = MultiplierColumnRenderer.TEMPLATE_ID;\n\n\trenderTemplate(container: HTMLElement): IMultiplierColumnTemplateData {\n\t\tconst disposables = new DisposableStore();\n\t\tconst elementDisposables = new DisposableStore();\n\t\tconst multiplierElement = DOM.append(container, $('.model-multiplier'));\n\t\treturn {\n\t\t\tcontainer,\n\t\t\tmultiplierElement,\n\t\t\tdisposables,\n\t\t\telementDisposables\n\t\t};\n\t}\n\n\toverride renderVendorElement(entry: IVendorItemEntry, index: number, templateData: IMultiplierColumnTemplateData): void {\n\t\ttemplateData.multiplierElement.textContent = '';\n\t}\n\n\toverride renderModelElement(entry: IModelItemEntry, index: number, templateData: IMultiplierColumnTemplateData): void {\n\t\ttemplateData.multiplierElement.textContent = (entry.modelEntry.metadata.detail && entry.modelEntry.metadata.detail.trim().toLowerCase() !== entry.modelEntry.vendor.trim().toLowerCase()) ? entry.modelEntry.metadata.detail : '-';\n\t}\n}\n\ninterface ITokenLimitsColumnTemplateData extends IModelTableColumnTemplateData {\n\treadonly tokenLimitsElement: HTMLElement;\n}\n\nclass TokenLimitsColumnRenderer extends ModelsTableColumnRenderer<ITokenLimitsColumnTemplateData> {\n\tstatic readonly TEMPLATE_ID = 'tokenLimits';\n\n\treadonly templateId: string = TokenLimitsColumnRenderer.TEMPLATE_ID;\n\n\tconstructor(\n\t\t@IHoverService private readonly hoverService: IHoverService\n\t) {\n\t\tsuper();\n\t}\n\n\trenderTemplate(container: HTMLElement): ITokenLimitsColumnTemplateData {\n\t\tconst disposables = new DisposableStore();\n\t\tconst elementDisposables = new DisposableStore();\n\t\tconst tokenLimitsElement = DOM.append(container, $('.model-token-limits'));\n\t\treturn {\n\t\t\tcontainer,\n\t\t\ttokenLimitsElement,\n\t\t\tdisposables,\n\t\t\telementDisposables\n\t\t};\n\t}\n\n\toverride renderElement(entry: TableEntry, index: number, templateData: ITokenLimitsColumnTemplateData): void {\n\t\tDOM.clearNode(templateData.tokenLimitsElement);\n\t\tsuper.renderElement(entry, index, templateData);\n\t}\n\n\toverride renderVendorElement(entry: IVendorItemEntry, index: number, templateData: ITokenLimitsColumnTemplateData): void {\n\t}\n\n\toverride renderModelElement(entry: IModelItemEntry, index: number, templateData: ITokenLimitsColumnTemplateData): void {\n\t\tconst { modelEntry } = entry;\n\t\tconst markdown = new MarkdownString('', { isTrusted: true, supportThemeIcons: true });\n\t\tif (modelEntry.metadata.maxInputTokens || modelEntry.metadata.maxOutputTokens) {\n\t\t\tlet addSeparator = false;\n\t\t\tmarkdown.appendMarkdown(`${localize('models.contextSize', 'Context Size')}: `);\n\t\t\tif (modelEntry.metadata.maxInputTokens) {\n\t\t\t\tconst inputDiv = DOM.append(templateData.tokenLimitsElement, $('.token-limit-item'));\n\t\t\t\tDOM.append(inputDiv, $('span.codicon.codicon-arrow-down'));\n\t\t\t\tconst inputText = DOM.append(inputDiv, $('span'));\n\t\t\t\tinputText.textContent = formatTokenCount(modelEntry.metadata.maxInputTokens);\n\n\t\t\t\tmarkdown.appendMarkdown(`$(arrow-down) ${modelEntry.metadata.maxInputTokens} (${localize('models.input', 'Input')})`);\n\t\t\t\taddSeparator = true;\n\t\t\t}\n\t\t\tif (modelEntry.metadata.maxOutputTokens) {\n\t\t\t\tconst outputDiv = DOM.append(templateData.tokenLimitsElement, $('.token-limit-item'));\n\t\t\t\tDOM.append(outputDiv, $('span.codicon.codicon-arrow-up'));\n\t\t\t\tconst outputText = DOM.append(outputDiv, $('span'));\n\t\t\t\toutputText.textContent = formatTokenCount(modelEntry.metadata.maxOutputTokens);\n\t\t\t\tif (addSeparator) {\n\t\t\t\t\tmarkdown.appendText(`  |  `);\n\t\t\t\t}\n\t\t\t\tmarkdown.appendMarkdown(`$(arrow-up) ${modelEntry.metadata.maxOutputTokens} (${localize('models.output', 'Output')})`);\n\t\t\t}\n\t\t}\n\n\t\ttemplateData.elementDisposables.add(this.hoverService.setupDelayedHoverAtMouse(templateData.container, () => ({\n\t\t\tcontent: markdown,\n\t\t\tappearance: {\n\t\t\t\tcompact: true,\n\t\t\t\tskipFadeInAnimation: true,\n\t\t\t}\n\t\t})));\n\t}\n}\n\ninterface ICapabilitiesColumnTemplateData extends IModelTableColumnTemplateData {\n\treadonly metadataRow: HTMLElement;\n}\n\nclass CapabilitiesColumnRenderer extends ModelsTableColumnRenderer<ICapabilitiesColumnTemplateData> {\n\tstatic readonly TEMPLATE_ID = 'capabilities';\n\n\treadonly templateId: string = CapabilitiesColumnRenderer.TEMPLATE_ID;\n\n\tprivate readonly _onDidClickCapability = new Emitter<string>();\n\treadonly onDidClickCapability = this._onDidClickCapability.event;\n\n\trenderTemplate(container: HTMLElement): ICapabilitiesColumnTemplateData {\n\t\tconst disposables = new DisposableStore();\n\t\tconst elementDisposables = new DisposableStore();\n\t\tcontainer.classList.add('model-capability-column');\n\t\tconst metadataRow = DOM.append(container, $('.model-capabilities'));\n\t\treturn {\n\t\t\tcontainer,\n\t\t\tmetadataRow,\n\t\t\tdisposables,\n\t\t\telementDisposables\n\t\t};\n\t}\n\n\toverride renderElement(entry: TableEntry, index: number, templateData: ICapabilitiesColumnTemplateData): void {\n\t\tDOM.clearNode(templateData.metadataRow);\n\t\tsuper.renderElement(entry, index, templateData);\n\t}\n\n\toverride renderVendorElement(entry: IVendorItemEntry, index: number, templateData: ICapabilitiesColumnTemplateData): void {\n\t}\n\n\toverride renderModelElement(entry: IModelItemEntry, index: number, templateData: ICapabilitiesColumnTemplateData): void {\n\t\tconst { modelEntry, capabilityMatches } = entry;\n\n\t\tif (modelEntry.metadata.capabilities?.toolCalling) {\n\t\t\ttemplateData.elementDisposables.add(this.createCapabilityButton(\n\t\t\t\ttemplateData.metadataRow,\n\t\t\t\tcapabilityMatches?.includes('toolCalling') || false,\n\t\t\t\tlocalize('models.tools', 'Tools'),\n\t\t\t\t'tools'\n\t\t\t));\n\t\t}\n\n\t\tif (modelEntry.metadata.capabilities?.vision) {\n\t\t\ttemplateData.elementDisposables.add(this.createCapabilityButton(\n\t\t\t\ttemplateData.metadataRow,\n\t\t\t\tcapabilityMatches?.includes('vision') || false,\n\t\t\t\tlocalize('models.vision', 'Vision'),\n\t\t\t\t'vision'\n\t\t\t));\n\t\t}\n\t}\n\n\tprivate createCapabilityButton(container: HTMLElement, isActive: boolean, label: string, capability: string): IDisposable {\n\t\tconst disposables = new DisposableStore();\n\t\tconst buttonContainer = DOM.append(container, $('.model-badge-container'));\n\t\tconst button = disposables.add(new Button(buttonContainer, { secondary: true }));\n\t\tbutton.element.classList.add('model-capability');\n\t\tbutton.element.classList.toggle('active', isActive);\n\t\tbutton.label = label;\n\t\tdisposables.add(button.onDidClick(() => this._onDidClickCapability.fire(capability)));\n\t\treturn disposables;\n\t}\n}\n\ninterface IActionsColumnTemplateData extends IModelTableColumnTemplateData {\n\treadonly actionBar: ActionBar;\n}\n\nclass ActionsColumnRenderer extends ModelsTableColumnRenderer<IActionsColumnTemplateData> {\n\tstatic readonly TEMPLATE_ID = 'actions';\n\n\treadonly templateId: string = ActionsColumnRenderer.TEMPLATE_ID;\n\n\tconstructor(\n\t\tprivate readonly viewModel: ChatModelsViewModel,\n\t\t@ICommandService private readonly commandService: ICommandService\n\t) {\n\t\tsuper();\n\t}\n\n\trenderTemplate(container: HTMLElement): IActionsColumnTemplateData {\n\t\tconst disposables = new DisposableStore();\n\t\tconst elementDisposables = new DisposableStore();\n\t\tconst parent = DOM.append(container, $('.actions-column'));\n\t\tconst actionBar = disposables.add(new ActionBar(parent));\n\n\t\treturn {\n\t\t\tcontainer,\n\t\t\tactionBar,\n\t\t\tdisposables,\n\t\t\telementDisposables\n\t\t};\n\t}\n\n\toverride renderElement(entry: TableEntry, index: number, templateData: IActionsColumnTemplateData): void {\n\t\ttemplateData.actionBar.clear();\n\t\tsuper.renderElement(entry, index, templateData);\n\t}\n\n\toverride renderVendorElement(entry: IVendorItemEntry, index: number, templateData: IActionsColumnTemplateData): void {\n\t\tif (entry.vendorEntry.managementCommand) {\n\t\t\tconst { vendorEntry } = entry;\n\t\t\tconst action = toAction({\n\t\t\t\tid: 'manageVendor',\n\t\t\t\tlabel: localize('models.manageProvider', 'Manage {0}...', entry.vendorEntry.vendorDisplayName),\n\t\t\t\tclass: ThemeIcon.asClassName(Codicon.gear),\n\t\t\t\trun: async () => {\n\t\t\t\t\tawait this.commandService.executeCommand(vendorEntry.managementCommand!, vendorEntry.vendor);\n\t\t\t\t\tthis.viewModel.refresh();\n\t\t\t\t}\n\n\t\t\t});\n\t\t\ttemplateData.actionBar.push(action, { icon: true, label: false });\n\t\t}\n\t}\n\n\toverride renderModelElement(entry: IModelItemEntry, index: number, templateData: IActionsColumnTemplateData): void {\n\t\t// Visibility action moved to name column\n\t}\n}\n\nfunction formatTokenCount(count: number): string {\n\tif (count >= 1000000) {\n\t\treturn `${(count / 1000000).toFixed(1)}M`;\n\t} else if (count >= 1000) {\n\t\treturn `${(count / 1000).toFixed(0)}K`;\n\t}\n\treturn count.toString();\n}\n\nexport class ChatModelsWidget extends Disposable {\n\n\tprivate static NUM_INSTANCES: number = 0;\n\n\treadonly element: HTMLElement;\n\tprivate searchWidget!: SuggestEnabledInput;\n\tprivate searchActionsContainer!: HTMLElement;\n\tprivate table!: WorkbenchTable<TableEntry>;\n\tprivate tableContainer!: HTMLElement;\n\tprivate addButtonContainer!: HTMLElement;\n\tprivate addButton!: Button;\n\tprivate dropdownActions: IAction[] = [];\n\tprivate viewModel: ChatModelsViewModel;\n\tprivate delayedFiltering: Delayer<void>;\n\n\tprivate readonly searchFocusContextKey: IContextKey<boolean>;\n\n\tconstructor(\n\t\t@ILanguageModelsService private readonly languageModelsService: ILanguageModelsService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IExtensionService private readonly extensionService: IExtensionService,\n\t\t@IContextMenuService private readonly contextMenuService: IContextMenuService,\n\t\t@IChatEntitlementService private readonly chatEntitlementService: IChatEntitlementService,\n\t\t@IEditorProgressService private readonly editorProgressService: IEditorProgressService,\n\t\t@ICommandService private readonly commandService: ICommandService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t) {\n\t\tsuper();\n\n\t\tthis.searchFocusContextKey = CONTEXT_MODELS_SEARCH_FOCUS.bindTo(contextKeyService);\n\t\tthis.delayedFiltering = new Delayer<void>(200);\n\t\tthis.viewModel = this._register(this.instantiationService.createInstance(ChatModelsViewModel));\n\t\tthis.element = DOM.$('.models-widget');\n\t\tthis.create(this.element);\n\n\t\tconst loadingPromise = this.extensionService.whenInstalledExtensionsRegistered().then(() => this.viewModel.resolve());\n\t\tthis.editorProgressService.showWhile(loadingPromise, 300);\n\t}\n\n\tprivate create(container: HTMLElement): void {\n\t\tconst searchAndButtonContainer = DOM.append(container, $('.models-search-and-button-container'));\n\n\t\tconst placeholder = localize('Search.FullTextSearchPlaceholder', \"Type to search...\");\n\t\tconst searchContainer = DOM.append(searchAndButtonContainer, $('.models-search-container'));\n\t\tthis.searchWidget = this._register(this.instantiationService.createInstance(\n\t\t\tSuggestEnabledInput,\n\t\t\t'chatModelsWidget.searchbox',\n\t\t\tsearchContainer,\n\t\t\t{\n\t\t\t\ttriggerCharacters: ['@', ':'],\n\t\t\t\tprovideResults: (query: string) => {\n\t\t\t\t\tconst providerSuggestions = this.viewModel.getVendors().map(v => `@provider:\"${v.displayName}\"`);\n\t\t\t\t\tconst allSuggestions = [\n\t\t\t\t\t\t...providerSuggestions,\n\t\t\t\t\t\t...SEARCH_SUGGESTIONS.CAPABILITIES,\n\t\t\t\t\t\t...SEARCH_SUGGESTIONS.VISIBILITY,\n\t\t\t\t\t];\n\t\t\t\t\tif (!query.trim()) {\n\t\t\t\t\t\treturn allSuggestions;\n\t\t\t\t\t}\n\t\t\t\t\tconst queryParts = query.split(/\\s/g);\n\t\t\t\t\tconst lastPart = queryParts[queryParts.length - 1];\n\t\t\t\t\tif (lastPart.startsWith('@provider:')) {\n\t\t\t\t\t\treturn providerSuggestions;\n\t\t\t\t\t} else if (lastPart.startsWith('@capability:')) {\n\t\t\t\t\t\treturn SEARCH_SUGGESTIONS.CAPABILITIES;\n\t\t\t\t\t} else if (lastPart.startsWith('@visible:')) {\n\t\t\t\t\t\treturn SEARCH_SUGGESTIONS.VISIBILITY;\n\t\t\t\t\t} else if (lastPart.startsWith('@')) {\n\t\t\t\t\t\treturn allSuggestions;\n\t\t\t\t\t}\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\t\t\t},\n\t\t\tplaceholder,\n\t\t\t`chatModelsWidget:searchinput:${ChatModelsWidget.NUM_INSTANCES++}`,\n\t\t\t{\n\t\t\t\tplaceholderText: placeholder,\n\t\t\t\tstyleOverrides: {\n\t\t\t\t\tinputBorder: settingsTextInputBorder\n\t\t\t\t},\n\t\t\t\tfocusContextKey: this.searchFocusContextKey,\n\t\t\t},\n\t\t));\n\n\t\tconst filterAction = this._register(new ModelsFilterAction());\n\t\tconst clearSearchAction = this._register(new Action(\n\t\t\t'workbench.models.clearSearch',\n\t\t\tlocalize('clearSearch', \"Clear Search\"),\n\t\t\tThemeIcon.asClassName(preferencesClearInputIcon),\n\t\t\tfalse,\n\t\t\t() => {\n\t\t\t\tthis.searchWidget.setValue('');\n\t\t\t\tthis.searchWidget.focus();\n\t\t\t}\n\t\t));\n\n\t\tthis._register(this.searchWidget.onInputDidChange(() => {\n\t\t\tclearSearchAction.enabled = !!this.searchWidget.getValue();\n\t\t\tthis.filterModels();\n\t\t}));\n\n\t\tthis.searchActionsContainer = DOM.append(searchContainer, $('.models-search-actions'));\n\t\tconst actions = [clearSearchAction, filterAction];\n\t\tconst toolBar = this._register(new ToolBar(this.searchActionsContainer, this.contextMenuService, {\n\t\t\tactionViewItemProvider: (action: IAction, options: IActionViewItemOptions) => {\n\t\t\t\tif (action.id === filterAction.id) {\n\t\t\t\t\treturn this.instantiationService.createInstance(ModelsSearchFilterDropdownMenuActionViewItem, action, options, this.searchWidget, this.viewModel);\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t},\n\t\t\tgetKeyBinding: () => undefined\n\t\t}));\n\t\ttoolBar.setActions(actions);\n\n\t\t// Add padding to input box for toolbar\n\t\tthis.searchWidget.inputWidget.getContainerDomNode().style.paddingRight = `${DOM.getTotalWidth(this.searchActionsContainer) + 12}px`;\n\n\t\tthis.addButtonContainer = DOM.append(searchAndButtonContainer, $('.section-title-actions'));\n\t\tconst buttonOptions: IButtonOptions = {\n\t\t\t...defaultButtonStyles,\n\t\t\tsupportIcons: true,\n\t\t};\n\t\tthis.addButton = this._register(new Button(this.addButtonContainer, buttonOptions));\n\t\tthis.addButton.label = `$(${Codicon.add.id}) ${localize('models.enableModelProvider', 'Add Models...')}`;\n\t\tthis.addButton.element.classList.add('models-add-model-button');\n\t\tthis.addButton.enabled = false;\n\t\tthis._register(this.addButton.onDidClick((e) => {\n\t\t\tif (this.dropdownActions.length > 0) {\n\t\t\t\tthis.contextMenuService.showContextMenu({\n\t\t\t\t\tgetAnchor: () => this.addButton.element,\n\t\t\t\t\tgetActions: () => this.dropdownActions,\n\t\t\t\t});\n\t\t\t}\n\t\t}));\n\n\t\t// Table container\n\t\tthis.tableContainer = DOM.append(container, $('.models-table-container'));\n\n\t\t// Create table\n\t\tconst gutterColumnRenderer = this.instantiationService.createInstance(GutterColumnRenderer, this.viewModel);\n\t\tconst modelNameColumnRenderer = this.instantiationService.createInstance(ModelNameColumnRenderer);\n\t\tconst costColumnRenderer = this.instantiationService.createInstance(MultiplierColumnRenderer);\n\t\tconst tokenLimitsColumnRenderer = this.instantiationService.createInstance(TokenLimitsColumnRenderer);\n\t\tconst capabilitiesColumnRenderer = this.instantiationService.createInstance(CapabilitiesColumnRenderer);\n\t\tconst actionsColumnRenderer = this.instantiationService.createInstance(ActionsColumnRenderer, this.viewModel);\n\n\t\tthis._register(capabilitiesColumnRenderer.onDidClickCapability(capability => {\n\t\t\tconst currentQuery = this.searchWidget.getValue();\n\t\t\tconst query = `@capability:${capability}`;\n\t\t\tconst newQuery = toggleFilter(currentQuery, query);\n\t\t\tthis.searchWidget.setValue(newQuery);\n\t\t\tthis.searchWidget.focus();\n\t\t}));\n\n\t\tthis.table = this._register(this.instantiationService.createInstance(\n\t\t\tWorkbenchTable,\n\t\t\t'ModelsWidget',\n\t\t\tthis.tableContainer,\n\t\t\tnew Delegate(),\n\t\t\t[\n\t\t\t\t{\n\t\t\t\t\tlabel: '',\n\t\t\t\t\ttooltip: '',\n\t\t\t\t\tweight: 0.05,\n\t\t\t\t\tminimumWidth: 40,\n\t\t\t\t\tmaximumWidth: 40,\n\t\t\t\t\ttemplateId: GutterColumnRenderer.TEMPLATE_ID,\n\t\t\t\t\tproject(row: TableEntry): TableEntry { return row; }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: localize('modelName', 'Name'),\n\t\t\t\t\ttooltip: '',\n\t\t\t\t\tweight: 0.40,\n\t\t\t\t\tminimumWidth: 200,\n\t\t\t\t\ttemplateId: ModelNameColumnRenderer.TEMPLATE_ID,\n\t\t\t\t\tproject(row: TableEntry): TableEntry { return row; }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: localize('capabilities', 'Capabilities'),\n\t\t\t\t\ttooltip: '',\n\t\t\t\t\tweight: 0.30,\n\t\t\t\t\tminimumWidth: 180,\n\t\t\t\t\ttemplateId: CapabilitiesColumnRenderer.TEMPLATE_ID,\n\t\t\t\t\tproject(row: TableEntry): TableEntry { return row; }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: localize('tokenLimits', 'Context Size'),\n\t\t\t\t\ttooltip: '',\n\t\t\t\t\tweight: 0.1,\n\t\t\t\t\tminimumWidth: 140,\n\t\t\t\t\ttemplateId: TokenLimitsColumnRenderer.TEMPLATE_ID,\n\t\t\t\t\tproject(row: TableEntry): TableEntry { return row; }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: localize('cost', 'Multiplier'),\n\t\t\t\t\ttooltip: '',\n\t\t\t\t\tweight: 0.1,\n\t\t\t\t\tminimumWidth: 60,\n\t\t\t\t\ttemplateId: MultiplierColumnRenderer.TEMPLATE_ID,\n\t\t\t\t\tproject(row: TableEntry): TableEntry { return row; }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: '',\n\t\t\t\t\ttooltip: '',\n\t\t\t\t\tweight: 0.05,\n\t\t\t\t\tminimumWidth: 64,\n\t\t\t\t\tmaximumWidth: 64,\n\t\t\t\t\ttemplateId: ActionsColumnRenderer.TEMPLATE_ID,\n\t\t\t\t\tproject(row: TableEntry): TableEntry { return row; }\n\t\t\t\t},\n\t\t\t],\n\t\t\t[\n\t\t\t\tgutterColumnRenderer,\n\t\t\t\tmodelNameColumnRenderer,\n\t\t\t\tcostColumnRenderer,\n\t\t\t\ttokenLimitsColumnRenderer,\n\t\t\t\tcapabilitiesColumnRenderer,\n\t\t\t\tactionsColumnRenderer,\n\t\t\t],\n\t\t\t{\n\t\t\t\tidentityProvider: { getId: (e: TableEntry) => e.id },\n\t\t\t\thorizontalScrolling: false,\n\t\t\t\taccessibilityProvider: {\n\t\t\t\t\tgetAriaLabel: (e: TableEntry) => {\n\t\t\t\t\t\tif (isVendorEntry(e)) {\n\t\t\t\t\t\t\treturn localize('vendor.ariaLabel', '{0} provider', e.vendorEntry.vendorDisplayName);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn localize('model.ariaLabel', '{0} from {1}', e.modelEntry.metadata.name, e.modelEntry.vendorDisplayName);\n\t\t\t\t\t},\n\t\t\t\t\tgetWidgetAriaLabel: () => localize('modelsTable.ariaLabel', 'Language Models')\n\t\t\t\t},\n\t\t\t\tmultipleSelectionSupport: false,\n\t\t\t\tsetRowLineHeight: false,\n\t\t\t\topenOnSingleClick: true,\n\t\t\t\talwaysConsumeMouseWheel: false,\n\t\t\t}\n\t\t)) as WorkbenchTable<TableEntry>;\n\n\t\tthis._register(this.table.onContextMenu(e => {\n\t\t\tif (!e.element) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst entry = e.element;\n\t\t\tif (isVendorEntry(entry) && entry.vendorEntry.managementCommand) {\n\t\t\t\tconst actions: IAction[] = [\n\t\t\t\t\ttoAction({\n\t\t\t\t\t\tid: 'manageVendor',\n\t\t\t\t\t\tlabel: localize('models.manageProvider', 'Manage {0}...', entry.vendorEntry.vendorDisplayName),\n\t\t\t\t\t\trun: async () => {\n\t\t\t\t\t\t\tawait this.commandService.executeCommand(entry.vendorEntry.managementCommand!, entry.vendorEntry.vendor);\n\t\t\t\t\t\t\tawait this.viewModel.resolve();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t];\n\t\t\t\tthis.contextMenuService.showContextMenu({\n\t\t\t\t\tgetAnchor: () => e.anchor,\n\t\t\t\t\tgetActions: () => actions\n\t\t\t\t});\n\t\t\t}\n\t\t}));\n\n\t\tthis.table.splice(0, this.table.length, this.viewModel.viewModelEntries);\n\t\tthis._register(this.viewModel.onDidChange(({ at, removed, added }) => {\n\t\t\tthis.table.splice(at, removed, added);\n\t\t\tif (this.viewModel.selectedEntry) {\n\t\t\t\tconst selectedEntryIndex = this.viewModel.viewModelEntries.indexOf(this.viewModel.selectedEntry);\n\t\t\t\tthis.table.setFocus([selectedEntryIndex]);\n\t\t\t\tthis.table.setSelection([selectedEntryIndex]);\n\t\t\t}\n\n\t\t\tconst vendors = this.viewModel.getVendors();\n\t\t\tconst configuredVendors = new Set(this.viewModel.getConfiguredVendors().map(cv => cv.vendor));\n\t\t\tconst vendorsWithoutModels = vendors.filter(v => !configuredVendors.has(v.vendor));\n\n\t\t\tconst hasPlan = this.chatEntitlementService.entitlement !== ChatEntitlement.Unknown && this.chatEntitlementService.entitlement !== ChatEntitlement.Available;\n\t\t\tthis.addButton.enabled = hasPlan && vendorsWithoutModels.length > 0;\n\n\t\t\tthis.dropdownActions = vendorsWithoutModels.map(vendor => toAction({\n\t\t\t\tid: `enable-${vendor.vendor}`,\n\t\t\t\tlabel: vendor.displayName,\n\t\t\t\trun: async () => {\n\t\t\t\t\tawait this.enableProvider(vendor.vendor);\n\t\t\t\t}\n\t\t\t}));\n\t\t}));\n\n\t\tthis._register(this.table.onDidOpen(async ({ element, browserEvent }) => {\n\t\t\tif (!element) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (isVendorEntry(element)) {\n\t\t\t\tthis.viewModel.toggleVendorCollapsed(element);\n\t\t\t} else if (!DOM.isMouseEvent(browserEvent) || browserEvent.detail === 2) {\n\t\t\t\tthis.viewModel.toggleVisibility(element);\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.table.onDidChangeSelection(e => this.viewModel.selectedEntry = e.elements[0]));\n\t}\n\n\tprivate filterModels(): void {\n\t\tthis.delayedFiltering.trigger(() => {\n\t\t\tthis.viewModel.filter(this.searchWidget.getValue());\n\t\t});\n\t}\n\n\tprivate async enableProvider(vendorId: string): Promise<void> {\n\t\tawait this.languageModelsService.selectLanguageModels({ vendor: vendorId }, true);\n\t\tawait this.viewModel.resolve();\n\t}\n\n\tpublic layout(height: number, width: number): void {\n\t\twidth = width - 24;\n\t\tthis.searchWidget.layout(new DOM.Dimension(width - this.searchActionsContainer.clientWidth - this.addButtonContainer.clientWidth - 8, 22));\n\t\tconst tableHeight = height - 40;\n\t\tthis.tableContainer.style.height = `${tableHeight}px`;\n\t\tthis.table.layout(tableHeight, width);\n\t}\n\n\tpublic focusSearch(): void {\n\t\tthis.searchWidget.focus();\n\t}\n\n\tpublic search(filter: string): void {\n\t\tthis.focusSearch();\n\t\tthis.searchWidget.setValue(filter);\n\t}\n\n\tpublic clearSearch(): void {\n\t\tthis.searchWidget.setValue('');\n\t}\n\n}\n"]}