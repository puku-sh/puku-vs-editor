{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/chat/browser/promptSyntax/promptCodingAgentActionContribution.ts","vs/workbench/contrib/chat/browser/promptSyntax/promptCodingAgentActionContribution.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;AAEhG,OAAO,EAAE,UAAU,EAAE,aAAa,EAAE,MAAM,yCAAyC,CAAC;AAEpF,OAAO,EAAE,0BAA0B,EAAmC,MAAM,mDAAmD,CAAC;AAChI,OAAO,EAAE,qBAAqB,EAAE,MAAM,+DAA+D,CAAC;AACtG,OAAO,EAAE,kBAAkB,EAAE,MAAM,0CAA0C,CAAC;AAC9E,OAAO,EAAE,oCAAoC,EAAE,MAAM,qCAAqC,CAAC;AAEpF,IAAM,mCAAmC,GAAzC,MAAM,mCAAoC,SAAQ,UAAU;aAClD,OAAE,GAAG,qCAAH,AAAwC,CAAC;IAI3D,YACkB,OAAoB,EACd,qBAA6D;QAEpF,KAAK,EAAE,CAAC;QAHS,YAAO,GAAP,OAAO,CAAa;QACG,0BAAqB,GAArB,qBAAqB,CAAuB;QAJpE,oBAAe,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,aAAa,EAAqD,CAAC,CAAC;QAQzH,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,GAAG,EAAE;YACjD,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAC7B,CAAC,CAAC,CAAC,CAAC;QAEJ,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAC7B,CAAC;IACO,oBAAoB;QAC3B,MAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC;QAEtC,qCAAqC;QACrC,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAEpD,uCAAuC;QACvC,IAAI,KAAK,IAAI,KAAK,CAAC,aAAa,EAAE,KAAK,kBAAkB,EAAE,CAAC;YAC3D,MAAM,MAAM,GAAG,IAAI,CAAC,qBAAqB,CAAC,cAAc,CAAC,oCAAoC,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;YAC7G,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QAChD,CAAC;IACF,CAAC;;AA5BW,mCAAmC;IAO7C,WAAA,qBAAqB,CAAA;GAPX,mCAAmC,CA6B/C;;AAED,0BAA0B,CAAC,mCAAmC,CAAC,EAAE,EAAE,mCAAmC,2DAAmD,CAAC","file":"promptCodingAgentActionContribution.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable, DisposableMap } from '../../../../../base/common/lifecycle.js';\nimport { ICodeEditor } from '../../../../../editor/browser/editorBrowser.js';\nimport { registerEditorContribution, EditorContributionInstantiation } from '../../../../../editor/browser/editorExtensions.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { PROMPT_LANGUAGE_ID } from '../../common/promptSyntax/promptTypes.js';\nimport { PromptCodingAgentActionOverlayWidget } from './promptCodingAgentActionOverlay.js';\n\nexport class PromptCodingAgentActionContribution extends Disposable {\n\tstatic readonly ID = 'promptCodingAgentActionContribution';\n\n\tprivate readonly _overlayWidgets = this._register(new DisposableMap<ICodeEditor, PromptCodingAgentActionOverlayWidget>());\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService\n\t) {\n\t\tsuper();\n\n\t\tthis._register(this._editor.onDidChangeModel(() => {\n\t\t\tthis._updateOverlayWidget();\n\t\t}));\n\n\t\tthis._updateOverlayWidget();\n\t}\n\tprivate _updateOverlayWidget(): void {\n\t\tconst model = this._editor.getModel();\n\n\t\t// Remove existing overlay if present\n\t\tthis._overlayWidgets.deleteAndDispose(this._editor);\n\n\t\t// Add overlay if this is a prompt file\n\t\tif (model && model.getLanguageId() === PROMPT_LANGUAGE_ID) {\n\t\t\tconst widget = this._instantiationService.createInstance(PromptCodingAgentActionOverlayWidget, this._editor);\n\t\t\tthis._overlayWidgets.set(this._editor, widget);\n\t\t}\n\t}\n}\n\nregisterEditorContribution(PromptCodingAgentActionContribution.ID, PromptCodingAgentActionContribution, EditorContributionInstantiation.AfterFirstRender);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable, DisposableMap } from '../../../../../base/common/lifecycle.js';\nimport { ICodeEditor } from '../../../../../editor/browser/editorBrowser.js';\nimport { registerEditorContribution, EditorContributionInstantiation } from '../../../../../editor/browser/editorExtensions.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { PROMPT_LANGUAGE_ID } from '../../common/promptSyntax/promptTypes.js';\nimport { PromptCodingAgentActionOverlayWidget } from './promptCodingAgentActionOverlay.js';\n\nexport class PromptCodingAgentActionContribution extends Disposable {\n\tstatic readonly ID = 'promptCodingAgentActionContribution';\n\n\tprivate readonly _overlayWidgets = this._register(new DisposableMap<ICodeEditor, PromptCodingAgentActionOverlayWidget>());\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService\n\t) {\n\t\tsuper();\n\n\t\tthis._register(this._editor.onDidChangeModel(() => {\n\t\t\tthis._updateOverlayWidget();\n\t\t}));\n\n\t\tthis._updateOverlayWidget();\n\t}\n\tprivate _updateOverlayWidget(): void {\n\t\tconst model = this._editor.getModel();\n\n\t\t// Remove existing overlay if present\n\t\tthis._overlayWidgets.deleteAndDispose(this._editor);\n\n\t\t// Add overlay if this is a prompt file\n\t\tif (model && model.getLanguageId() === PROMPT_LANGUAGE_ID) {\n\t\t\tconst widget = this._instantiationService.createInstance(PromptCodingAgentActionOverlayWidget, this._editor);\n\t\t\tthis._overlayWidgets.set(this._editor, widget);\n\t\t}\n\t}\n}\n\nregisterEditorContribution(PromptCodingAgentActionContribution.ID, PromptCodingAgentActionContribution, EditorContributionInstantiation.AfterFirstRender);\n"]}