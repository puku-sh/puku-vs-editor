{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/chat/browser/actions/chatGettingStarted.ts","vs/workbench/contrib/chat/browser/actions/chatGettingStarted.ts"],"names":[],"mappings":"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","file":"chatGettingStarted.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IWorkbenchContribution } from '../../../../common/contributions.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { IProductService } from '../../../../../platform/product/common/productService.js';\nimport { IExtensionService } from '../../../../services/extensions/common/extensions.js';\nimport { ExtensionIdentifier } from '../../../../../platform/extensions/common/extensions.js';\nimport { IExtensionManagementService, InstallOperation } from '../../../../../platform/extensionManagement/common/extensionManagement.js';\nimport { IStorageService, StorageScope, StorageTarget } from '../../../../../platform/storage/common/storage.js';\nimport { IDefaultChatAgent } from '../../../../../base/common/product.js';\nimport { IChatWidgetService } from '../chat.js';\n\nexport class ChatGettingStartedContribution extends Disposable implements IWorkbenchContribution {\n\tstatic readonly ID = 'workbench.contrib.chatGettingStarted';\n\tprivate recentlyInstalled: boolean = false;\n\n\tprivate static readonly hideWelcomeView = 'workbench.chat.hideWelcomeView';\n\n\tconstructor(\n\t\t@IProductService private readonly productService: IProductService,\n\t\t@IExtensionService private readonly extensionService: IExtensionService,\n\t\t@IExtensionManagementService private readonly extensionManagementService: IExtensionManagementService,\n\t\t@IStorageService private readonly storageService: IStorageService,\n\t\t@IChatWidgetService private readonly chatWidgetService: IChatWidgetService,\n\t) {\n\t\tsuper();\n\n\t\tconst defaultChatAgent = this.productService.defaultChatAgent;\n\t\tconst hideWelcomeView = this.storageService.getBoolean(ChatGettingStartedContribution.hideWelcomeView, StorageScope.APPLICATION, false);\n\t\tif (!defaultChatAgent || hideWelcomeView) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.registerListeners(defaultChatAgent);\n\t}\n\n\tprivate registerListeners(defaultChatAgent: IDefaultChatAgent): void {\n\n\t\tthis._register(this.extensionManagementService.onDidInstallExtensions(async (result) => {\n\t\t\tfor (const e of result) {\n\t\t\t\tif (ExtensionIdentifier.equals(defaultChatAgent.extensionId, e.identifier.id) && e.operation === InstallOperation.Install) {\n\t\t\t\t\tthis.recentlyInstalled = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.extensionService.onDidChangeExtensionsStatus(async (event) => {\n\t\t\tfor (const ext of event) {\n\t\t\t\tif (ExtensionIdentifier.equals(defaultChatAgent.extensionId, ext.value)) {\n\t\t\t\t\tconst extensionStatus = this.extensionService.getExtensionsStatus();\n\t\t\t\t\tif (extensionStatus[ext.value].activationTimes && this.recentlyInstalled) {\n\t\t\t\t\t\tthis.onDidInstallChat();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate async onDidInstallChat() {\n\n\t\t// Open Chat view\n\t\tthis.chatWidgetService.revealWidget();\n\n\t\t// Only do this once\n\t\tthis.storageService.store(ChatGettingStartedContribution.hideWelcomeView, true, StorageScope.APPLICATION, StorageTarget.MACHINE);\n\t\tthis.recentlyInstalled = false;\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IWorkbenchContribution } from '../../../../common/contributions.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { IProductService } from '../../../../../platform/product/common/productService.js';\nimport { IExtensionService } from '../../../../services/extensions/common/extensions.js';\nimport { ExtensionIdentifier } from '../../../../../platform/extensions/common/extensions.js';\nimport { IExtensionManagementService, InstallOperation } from '../../../../../platform/extensionManagement/common/extensionManagement.js';\nimport { IStorageService, StorageScope, StorageTarget } from '../../../../../platform/storage/common/storage.js';\nimport { IDefaultChatAgent } from '../../../../../base/common/product.js';\nimport { IChatWidgetService } from '../chat.js';\n\nexport class ChatGettingStartedContribution extends Disposable implements IWorkbenchContribution {\n\tstatic readonly ID = 'workbench.contrib.chatGettingStarted';\n\tprivate recentlyInstalled: boolean = false;\n\n\tprivate static readonly hideWelcomeView = 'workbench.chat.hideWelcomeView';\n\n\tconstructor(\n\t\t@IProductService private readonly productService: IProductService,\n\t\t@IExtensionService private readonly extensionService: IExtensionService,\n\t\t@IExtensionManagementService private readonly extensionManagementService: IExtensionManagementService,\n\t\t@IStorageService private readonly storageService: IStorageService,\n\t\t@IChatWidgetService private readonly chatWidgetService: IChatWidgetService,\n\t) {\n\t\tsuper();\n\n\t\tconst defaultChatAgent = this.productService.defaultChatAgent;\n\t\tconst hideWelcomeView = this.storageService.getBoolean(ChatGettingStartedContribution.hideWelcomeView, StorageScope.APPLICATION, false);\n\t\tif (!defaultChatAgent || hideWelcomeView) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.registerListeners(defaultChatAgent);\n\t}\n\n\tprivate registerListeners(defaultChatAgent: IDefaultChatAgent): void {\n\n\t\tthis._register(this.extensionManagementService.onDidInstallExtensions(async (result) => {\n\t\t\tfor (const e of result) {\n\t\t\t\tif (ExtensionIdentifier.equals(defaultChatAgent.extensionId, e.identifier.id) && e.operation === InstallOperation.Install) {\n\t\t\t\t\tthis.recentlyInstalled = true;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.extensionService.onDidChangeExtensionsStatus(async (event) => {\n\t\t\tfor (const ext of event) {\n\t\t\t\tif (ExtensionIdentifier.equals(defaultChatAgent.extensionId, ext.value)) {\n\t\t\t\t\tconst extensionStatus = this.extensionService.getExtensionsStatus();\n\t\t\t\t\tif (extensionStatus[ext.value].activationTimes && this.recentlyInstalled) {\n\t\t\t\t\t\tthis.onDidInstallChat();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate async onDidInstallChat() {\n\n\t\t// Open Chat view\n\t\tthis.chatWidgetService.revealWidget();\n\n\t\t// Only do this once\n\t\tthis.storageService.store(ChatGettingStartedContribution.hideWelcomeView, true, StorageScope.APPLICATION, StorageTarget.MACHINE);\n\t\tthis.recentlyInstalled = false;\n\t}\n}\n"]}