{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/chat/browser/chat.ts","vs/workbench/contrib/chat/browser/chat.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAWhG,OAAO,EAAE,eAAe,EAAE,MAAM,4DAA4D,CAAC;AAM7F,OAAO,EAAE,gBAAgB,EAAE,MAAM,0CAA0C,CAAC;AAU5E,MAAM,CAAC,MAAM,kBAAkB,GAAG,eAAe,CAAqB,mBAAmB,CAAC,CAAC;AAuC3F,MAAM,CAAC,MAAM,kBAAkB,GAAG,MAAM,CAAC,oBAAoB,CAAC,CAAC;AAE/D,MAAM,CAAC,MAAM,iBAAiB,GAAG,eAAe,CAAoB,kBAAkB,CAAC,CAAC;AA8BxF,MAAM,CAAC,MAAM,yBAAyB,GAAG,eAAe,CAA4B,0BAA0B,CAAC,CAAC;AAgFhH,MAAM,UAAU,sBAAsB,CAAC,OAA+B;IACrE,OAAO,OAAQ,OAAgC,CAAC,MAAM,KAAK,QAAQ,CAAC;AACrE,CAAC;AAOD,MAAM,UAAU,0BAA0B,CAAC,OAA+B;IACzE,OAAO,CAAC,sBAAsB,CAAC,OAAO,CAAC,CAAC;AACzC,CAAC;AA4ED,MAAM,CAAC,MAAM,oCAAoC,GAAG,eAAe,CAAuC,qCAAqC,CAAC,CAAC;AAOjJ,MAAM,CAAC,MAAM,UAAU,GAAG,6BAA6B,gBAAgB,EAAE,CAAC","file":"chat.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IMouseWheelEvent } from '../../../../base/browser/mouseEvent.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { IDisposable } from '../../../../base/common/lifecycle.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ICodeEditor } from '../../../../editor/browser/editorBrowser.js';\nimport { Selection } from '../../../../editor/common/core/selection.js';\nimport { EditDeltaInfo } from '../../../../editor/common/textModelEditSource.js';\nimport { MenuId } from '../../../../platform/actions/common/actions.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { PreferredGroup } from '../../../services/editor/common/editorService.js';\nimport { IChatAgentAttachmentCapabilities, IChatAgentCommand, IChatAgentData } from '../common/chatAgents.js';\nimport { IChatResponseModel, IChatModelInputState } from '../common/chatModel.js';\nimport { IChatMode } from '../common/chatModes.js';\nimport { IParsedChatRequest } from '../common/chatParserTypes.js';\nimport { CHAT_PROVIDER_ID } from '../common/chatParticipantContribTypes.js';\nimport { IChatElicitationRequest, IChatLocationData, IChatSendRequestOptions } from '../common/chatService.js';\nimport { IChatRequestViewModel, IChatResponseViewModel, IChatViewModel } from '../common/chatViewModel.js';\nimport { ChatAgentLocation, ChatModeKind } from '../common/constants.js';\nimport { ChatAttachmentModel } from './chatAttachmentModel.js';\nimport { IChatEditorOptions } from './chatEditor.js';\nimport { ChatInputPart } from './chatInputPart.js';\nimport { ChatWidget, IChatWidgetContrib } from './chatWidget.js';\nimport { ICodeBlockActionContext } from './codeBlockPart.js';\n\nexport const IChatWidgetService = createDecorator<IChatWidgetService>('chatWidgetService');\n\nexport interface IChatWidgetService {\n\n\treadonly _serviceBrand: undefined;\n\n\t/**\n\t * Returns the most recently focused widget if any.\n\t */\n\treadonly lastFocusedWidget: IChatWidget | undefined;\n\n\treadonly onDidAddWidget: Event<IChatWidget>;\n\n\t/**\n\t * Reveals the widget, focusing its input unless `preserveFocus` is true.\n\t */\n\treveal(widget: IChatWidget, preserveFocus?: boolean): Promise<boolean>;\n\n\t/**\n\t * Reveals the last active widget, or creates a new chat if necessary.\n\t */\n\trevealWidget(preserveFocus?: boolean): Promise<IChatWidget | undefined>;\n\n\tgetAllWidgets(): ReadonlyArray<IChatWidget>;\n\tgetWidgetByInputUri(uri: URI): IChatWidget | undefined;\n\topenSession(sessionResource: URI, target?: typeof ChatViewPaneTarget): Promise<IChatWidget | undefined>;\n\topenSession(sessionResource: URI, target?: PreferredGroup, options?: IChatEditorOptions): Promise<IChatWidget | undefined>;\n\topenSession(sessionResource: URI, target?: typeof ChatViewPaneTarget | PreferredGroup, options?: IChatEditorOptions): Promise<IChatWidget | undefined>;\n\n\tgetWidgetBySessionResource(sessionResource: URI): IChatWidget | undefined;\n\n\tgetWidgetsByLocations(location: ChatAgentLocation): ReadonlyArray<IChatWidget>;\n\n\t/**\n\t * An IChatWidget registers itself when created.\n\t */\n\tregister(newWidget: IChatWidget): IDisposable;\n}\n\nexport const ChatViewPaneTarget = Symbol('ChatViewPaneTarget');\n\nexport const IQuickChatService = createDecorator<IQuickChatService>('quickChatService');\nexport interface IQuickChatService {\n\treadonly _serviceBrand: undefined;\n\treadonly onDidClose: Event<void>;\n\treadonly enabled: boolean;\n\treadonly focused: boolean;\n\t/** Defined when quick chat is open */\n\treadonly sessionResource?: URI;\n\ttoggle(options?: IQuickChatOpenOptions): void;\n\tfocus(): void;\n\topen(options?: IQuickChatOpenOptions): void;\n\tclose(): void;\n\topenInChatView(): void;\n}\n\nexport interface IQuickChatOpenOptions {\n\t/**\n\t * The query for quick chat.\n\t */\n\tquery: string;\n\t/**\n\t * Whether the query is partial and will await more input from the user.\n\t */\n\tisPartialQuery?: boolean;\n\t/**\n\t * An optional selection range to apply to the query text box.\n\t */\n\tselection?: Selection;\n}\n\nexport const IChatAccessibilityService = createDecorator<IChatAccessibilityService>('chatAccessibilityService');\nexport interface IChatAccessibilityService {\n\treadonly _serviceBrand: undefined;\n\tacceptRequest(): number;\n\tacceptResponse(widget: ChatWidget, container: HTMLElement, response: IChatResponseViewModel | string | undefined, requestId: number, isVoiceInput?: boolean): void;\n\tacceptElicitation(message: IChatElicitationRequest): void;\n}\n\nexport interface IChatCodeBlockInfo {\n\treadonly ownerMarkdownPartId: string;\n\treadonly codeBlockIndex: number;\n\treadonly elementId: string;\n\treadonly uri: URI | undefined;\n\treadonly uriPromise: Promise<URI | undefined>;\n\tcodemapperUri: URI | undefined;\n\treadonly chatSessionResource: URI | undefined;\n\tfocus(): void;\n\treadonly languageId?: string | undefined;\n\treadonly editDeltaInfo?: EditDeltaInfo | undefined;\n}\n\nexport interface IChatFileTreeInfo {\n\ttreeDataId: string;\n\ttreeIndex: number;\n\tfocus(): void;\n}\n\nexport type ChatTreeItem = IChatRequestViewModel | IChatResponseViewModel;\n\nexport interface IChatListItemRendererOptions {\n\treadonly renderStyle?: 'compact' | 'minimal';\n\treadonly noHeader?: boolean;\n\treadonly noFooter?: boolean;\n\treadonly editableCodeBlock?: boolean;\n\treadonly renderDetectedCommandsWithRequest?: boolean;\n\treadonly restorable?: boolean;\n\treadonly editable?: boolean;\n\treadonly renderTextEditsAsSummary?: (uri: URI) => boolean;\n\treadonly referencesExpandedWhenEmptyResponse?: boolean | ((mode: ChatModeKind) => boolean);\n\treadonly progressMessageAtBottomOfResponse?: boolean | ((mode: ChatModeKind) => boolean);\n}\n\nexport interface IChatWidgetViewOptions {\n\tautoScroll?: boolean | ((mode: ChatModeKind) => boolean);\n\trenderInputOnTop?: boolean;\n\trenderFollowups?: boolean;\n\trenderStyle?: 'compact' | 'minimal';\n\trenderInputToolbarBelowInput?: boolean;\n\tsupportsFileReferences?: boolean;\n\tfilter?: (item: ChatTreeItem) => boolean;\n\t/** Action triggered when 'clear' is called on the widget. */\n\tclear?: () => Promise<void>;\n\trendererOptions?: IChatListItemRendererOptions;\n\tmenus?: {\n\t\t/**\n\t\t * The menu that is inside the input editor, use for send, dictation\n\t\t */\n\t\texecuteToolbar?: MenuId;\n\t\t/**\n\t\t * The menu that next to the input editor, use for close, config etc\n\t\t */\n\t\tinputSideToolbar?: MenuId;\n\t\t/**\n\t\t * The telemetry source for all commands of this widget\n\t\t */\n\t\ttelemetrySource?: string;\n\t};\n\tdefaultElementHeight?: number;\n\teditorOverflowWidgetsDomNode?: HTMLElement;\n\tenableImplicitContext?: boolean;\n\tenableWorkingSet?: 'explicit' | 'implicit';\n\tsupportsChangingModes?: boolean;\n\tdndContainer?: HTMLElement;\n\tdefaultMode?: IChatMode;\n}\n\nexport interface IChatViewViewContext {\n\tviewId: string;\n}\n\nexport function isIChatViewViewContext(context: IChatWidgetViewContext): context is IChatViewViewContext {\n\treturn typeof (context as IChatViewViewContext).viewId === 'string';\n}\n\nexport interface IChatResourceViewContext {\n\tisQuickChat?: boolean;\n\tisInlineChat?: boolean;\n}\n\nexport function isIChatResourceViewContext(context: IChatWidgetViewContext): context is IChatResourceViewContext {\n\treturn !isIChatViewViewContext(context);\n}\n\nexport type IChatWidgetViewContext = IChatViewViewContext | IChatResourceViewContext | {};\n\nexport interface IChatAcceptInputOptions {\n\tnoCommandDetection?: boolean;\n\tisVoiceInput?: boolean;\n\tenableImplicitContext?: boolean; // defaults to true\n}\n\nexport interface IChatWidget {\n\treadonly domNode: HTMLElement;\n\treadonly onDidChangeViewModel: Event<void>;\n\treadonly onDidAcceptInput: Event<void>;\n\treadonly onDidHide: Event<void>;\n\treadonly onDidShow: Event<void>;\n\treadonly onDidSubmitAgent: Event<{ agent: IChatAgentData; slashCommand?: IChatAgentCommand }>;\n\treadonly onDidChangeAgent: Event<{ agent: IChatAgentData; slashCommand?: IChatAgentCommand }>;\n\treadonly onDidChangeParsedInput: Event<void>;\n\treadonly onDidFocus: Event<void>;\n\treadonly location: ChatAgentLocation;\n\treadonly viewContext: IChatWidgetViewContext;\n\treadonly viewModel: IChatViewModel | undefined;\n\treadonly inputEditor: ICodeEditor;\n\treadonly supportsFileReferences: boolean;\n\treadonly attachmentCapabilities: IChatAgentAttachmentCapabilities;\n\treadonly parsedInput: IParsedChatRequest;\n\treadonly lockedAgentId: string | undefined;\n\tlastSelectedAgent: IChatAgentData | undefined;\n\treadonly scopedContextKeyService: IContextKeyService;\n\treadonly input: ChatInputPart;\n\treadonly attachmentModel: ChatAttachmentModel;\n\treadonly locationData?: IChatLocationData;\n\treadonly contribs: readonly IChatWidgetContrib[];\n\n\treadonly supportsChangingModes: boolean;\n\n\tgetContrib<T extends IChatWidgetContrib>(id: string): T | undefined;\n\treveal(item: ChatTreeItem): void;\n\tfocus(item: ChatTreeItem): void;\n\tgetSibling(item: ChatTreeItem, type: 'next' | 'previous'): ChatTreeItem | undefined;\n\tgetFocus(): ChatTreeItem | undefined;\n\tsetInput(query?: string): void;\n\tgetInput(): string;\n\trefreshParsedInput(): void;\n\tlogInputHistory(): void;\n\tacceptInput(query?: string, options?: IChatAcceptInputOptions): Promise<IChatResponseModel | undefined>;\n\tstartEditing(requestId: string): void;\n\tfinishedEditing(completedEdit?: boolean): void;\n\trerunLastRequest(): Promise<void>;\n\tsetInputPlaceholder(placeholder: string): void;\n\tresetInputPlaceholder(): void;\n\t/**\n\t * Focuses the response item in the list.\n\t * @param lastFocused Focuses the most recently focused response. Otherwise, focuses the last response.\n\t */\n\tfocusResponseItem(lastFocused?: boolean): void;\n\tfocusInput(): void;\n\thasInputFocus(): boolean;\n\tgetModeRequestOptions(): Partial<IChatSendRequestOptions>;\n\tgetCodeBlockInfoForEditor(uri: URI): IChatCodeBlockInfo | undefined;\n\tgetCodeBlockInfosForResponse(response: IChatResponseViewModel): IChatCodeBlockInfo[];\n\tgetFileTreeInfosForResponse(response: IChatResponseViewModel): IChatFileTreeInfo[];\n\tgetLastFocusedFileTreeForResponse(response: IChatResponseViewModel): IChatFileTreeInfo | undefined;\n\tclear(): Promise<void>;\n\tgetViewState(): IChatModelInputState | undefined;\n\tlockToCodingAgent(name: string, displayName: string, agentId?: string): void;\n\n\tdelegateScrollFromMouseWheelEvent(event: IMouseWheelEvent): void;\n}\n\n\nexport interface ICodeBlockActionContextProvider {\n\tgetCodeBlockContext(editor?: ICodeEditor): ICodeBlockActionContext | undefined;\n}\n\nexport const IChatCodeBlockContextProviderService = createDecorator<IChatCodeBlockContextProviderService>('chatCodeBlockContextProviderService');\nexport interface IChatCodeBlockContextProviderService {\n\treadonly _serviceBrand: undefined;\n\treadonly providers: ICodeBlockActionContextProvider[];\n\tregisterProvider(provider: ICodeBlockActionContextProvider, id: string): IDisposable;\n}\n\nexport const ChatViewId = `workbench.panel.chat.view.${CHAT_PROVIDER_ID}`;\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IMouseWheelEvent } from '../../../../base/browser/mouseEvent.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { IDisposable } from '../../../../base/common/lifecycle.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ICodeEditor } from '../../../../editor/browser/editorBrowser.js';\nimport { Selection } from '../../../../editor/common/core/selection.js';\nimport { EditDeltaInfo } from '../../../../editor/common/textModelEditSource.js';\nimport { MenuId } from '../../../../platform/actions/common/actions.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { PreferredGroup } from '../../../services/editor/common/editorService.js';\nimport { IChatAgentAttachmentCapabilities, IChatAgentCommand, IChatAgentData } from '../common/chatAgents.js';\nimport { IChatResponseModel, IChatModelInputState } from '../common/chatModel.js';\nimport { IChatMode } from '../common/chatModes.js';\nimport { IParsedChatRequest } from '../common/chatParserTypes.js';\nimport { CHAT_PROVIDER_ID } from '../common/chatParticipantContribTypes.js';\nimport { IChatElicitationRequest, IChatLocationData, IChatSendRequestOptions } from '../common/chatService.js';\nimport { IChatRequestViewModel, IChatResponseViewModel, IChatViewModel } from '../common/chatViewModel.js';\nimport { ChatAgentLocation, ChatModeKind } from '../common/constants.js';\nimport { ChatAttachmentModel } from './chatAttachmentModel.js';\nimport { IChatEditorOptions } from './chatEditor.js';\nimport { ChatInputPart } from './chatInputPart.js';\nimport { ChatWidget, IChatWidgetContrib } from './chatWidget.js';\nimport { ICodeBlockActionContext } from './codeBlockPart.js';\n\nexport const IChatWidgetService = createDecorator<IChatWidgetService>('chatWidgetService');\n\nexport interface IChatWidgetService {\n\n\treadonly _serviceBrand: undefined;\n\n\t/**\n\t * Returns the most recently focused widget if any.\n\t */\n\treadonly lastFocusedWidget: IChatWidget | undefined;\n\n\treadonly onDidAddWidget: Event<IChatWidget>;\n\n\t/**\n\t * Reveals the widget, focusing its input unless `preserveFocus` is true.\n\t */\n\treveal(widget: IChatWidget, preserveFocus?: boolean): Promise<boolean>;\n\n\t/**\n\t * Reveals the last active widget, or creates a new chat if necessary.\n\t */\n\trevealWidget(preserveFocus?: boolean): Promise<IChatWidget | undefined>;\n\n\tgetAllWidgets(): ReadonlyArray<IChatWidget>;\n\tgetWidgetByInputUri(uri: URI): IChatWidget | undefined;\n\topenSession(sessionResource: URI, target?: typeof ChatViewPaneTarget): Promise<IChatWidget | undefined>;\n\topenSession(sessionResource: URI, target?: PreferredGroup, options?: IChatEditorOptions): Promise<IChatWidget | undefined>;\n\topenSession(sessionResource: URI, target?: typeof ChatViewPaneTarget | PreferredGroup, options?: IChatEditorOptions): Promise<IChatWidget | undefined>;\n\n\tgetWidgetBySessionResource(sessionResource: URI): IChatWidget | undefined;\n\n\tgetWidgetsByLocations(location: ChatAgentLocation): ReadonlyArray<IChatWidget>;\n\n\t/**\n\t * An IChatWidget registers itself when created.\n\t */\n\tregister(newWidget: IChatWidget): IDisposable;\n}\n\nexport const ChatViewPaneTarget = Symbol('ChatViewPaneTarget');\n\nexport const IQuickChatService = createDecorator<IQuickChatService>('quickChatService');\nexport interface IQuickChatService {\n\treadonly _serviceBrand: undefined;\n\treadonly onDidClose: Event<void>;\n\treadonly enabled: boolean;\n\treadonly focused: boolean;\n\t/** Defined when quick chat is open */\n\treadonly sessionResource?: URI;\n\ttoggle(options?: IQuickChatOpenOptions): void;\n\tfocus(): void;\n\topen(options?: IQuickChatOpenOptions): void;\n\tclose(): void;\n\topenInChatView(): void;\n}\n\nexport interface IQuickChatOpenOptions {\n\t/**\n\t * The query for quick chat.\n\t */\n\tquery: string;\n\t/**\n\t * Whether the query is partial and will await more input from the user.\n\t */\n\tisPartialQuery?: boolean;\n\t/**\n\t * An optional selection range to apply to the query text box.\n\t */\n\tselection?: Selection;\n}\n\nexport const IChatAccessibilityService = createDecorator<IChatAccessibilityService>('chatAccessibilityService');\nexport interface IChatAccessibilityService {\n\treadonly _serviceBrand: undefined;\n\tacceptRequest(): number;\n\tacceptResponse(widget: ChatWidget, container: HTMLElement, response: IChatResponseViewModel | string | undefined, requestId: number, isVoiceInput?: boolean): void;\n\tacceptElicitation(message: IChatElicitationRequest): void;\n}\n\nexport interface IChatCodeBlockInfo {\n\treadonly ownerMarkdownPartId: string;\n\treadonly codeBlockIndex: number;\n\treadonly elementId: string;\n\treadonly uri: URI | undefined;\n\treadonly uriPromise: Promise<URI | undefined>;\n\tcodemapperUri: URI | undefined;\n\treadonly chatSessionResource: URI | undefined;\n\tfocus(): void;\n\treadonly languageId?: string | undefined;\n\treadonly editDeltaInfo?: EditDeltaInfo | undefined;\n}\n\nexport interface IChatFileTreeInfo {\n\ttreeDataId: string;\n\ttreeIndex: number;\n\tfocus(): void;\n}\n\nexport type ChatTreeItem = IChatRequestViewModel | IChatResponseViewModel;\n\nexport interface IChatListItemRendererOptions {\n\treadonly renderStyle?: 'compact' | 'minimal';\n\treadonly noHeader?: boolean;\n\treadonly noFooter?: boolean;\n\treadonly editableCodeBlock?: boolean;\n\treadonly renderDetectedCommandsWithRequest?: boolean;\n\treadonly restorable?: boolean;\n\treadonly editable?: boolean;\n\treadonly renderTextEditsAsSummary?: (uri: URI) => boolean;\n\treadonly referencesExpandedWhenEmptyResponse?: boolean | ((mode: ChatModeKind) => boolean);\n\treadonly progressMessageAtBottomOfResponse?: boolean | ((mode: ChatModeKind) => boolean);\n}\n\nexport interface IChatWidgetViewOptions {\n\tautoScroll?: boolean | ((mode: ChatModeKind) => boolean);\n\trenderInputOnTop?: boolean;\n\trenderFollowups?: boolean;\n\trenderStyle?: 'compact' | 'minimal';\n\trenderInputToolbarBelowInput?: boolean;\n\tsupportsFileReferences?: boolean;\n\tfilter?: (item: ChatTreeItem) => boolean;\n\t/** Action triggered when 'clear' is called on the widget. */\n\tclear?: () => Promise<void>;\n\trendererOptions?: IChatListItemRendererOptions;\n\tmenus?: {\n\t\t/**\n\t\t * The menu that is inside the input editor, use for send, dictation\n\t\t */\n\t\texecuteToolbar?: MenuId;\n\t\t/**\n\t\t * The menu that next to the input editor, use for close, config etc\n\t\t */\n\t\tinputSideToolbar?: MenuId;\n\t\t/**\n\t\t * The telemetry source for all commands of this widget\n\t\t */\n\t\ttelemetrySource?: string;\n\t};\n\tdefaultElementHeight?: number;\n\teditorOverflowWidgetsDomNode?: HTMLElement;\n\tenableImplicitContext?: boolean;\n\tenableWorkingSet?: 'explicit' | 'implicit';\n\tsupportsChangingModes?: boolean;\n\tdndContainer?: HTMLElement;\n\tdefaultMode?: IChatMode;\n}\n\nexport interface IChatViewViewContext {\n\tviewId: string;\n}\n\nexport function isIChatViewViewContext(context: IChatWidgetViewContext): context is IChatViewViewContext {\n\treturn typeof (context as IChatViewViewContext).viewId === 'string';\n}\n\nexport interface IChatResourceViewContext {\n\tisQuickChat?: boolean;\n\tisInlineChat?: boolean;\n}\n\nexport function isIChatResourceViewContext(context: IChatWidgetViewContext): context is IChatResourceViewContext {\n\treturn !isIChatViewViewContext(context);\n}\n\nexport type IChatWidgetViewContext = IChatViewViewContext | IChatResourceViewContext | {};\n\nexport interface IChatAcceptInputOptions {\n\tnoCommandDetection?: boolean;\n\tisVoiceInput?: boolean;\n\tenableImplicitContext?: boolean; // defaults to true\n}\n\nexport interface IChatWidget {\n\treadonly domNode: HTMLElement;\n\treadonly onDidChangeViewModel: Event<void>;\n\treadonly onDidAcceptInput: Event<void>;\n\treadonly onDidHide: Event<void>;\n\treadonly onDidShow: Event<void>;\n\treadonly onDidSubmitAgent: Event<{ agent: IChatAgentData; slashCommand?: IChatAgentCommand }>;\n\treadonly onDidChangeAgent: Event<{ agent: IChatAgentData; slashCommand?: IChatAgentCommand }>;\n\treadonly onDidChangeParsedInput: Event<void>;\n\treadonly onDidFocus: Event<void>;\n\treadonly location: ChatAgentLocation;\n\treadonly viewContext: IChatWidgetViewContext;\n\treadonly viewModel: IChatViewModel | undefined;\n\treadonly inputEditor: ICodeEditor;\n\treadonly supportsFileReferences: boolean;\n\treadonly attachmentCapabilities: IChatAgentAttachmentCapabilities;\n\treadonly parsedInput: IParsedChatRequest;\n\treadonly lockedAgentId: string | undefined;\n\tlastSelectedAgent: IChatAgentData | undefined;\n\treadonly scopedContextKeyService: IContextKeyService;\n\treadonly input: ChatInputPart;\n\treadonly attachmentModel: ChatAttachmentModel;\n\treadonly locationData?: IChatLocationData;\n\treadonly contribs: readonly IChatWidgetContrib[];\n\n\treadonly supportsChangingModes: boolean;\n\n\tgetContrib<T extends IChatWidgetContrib>(id: string): T | undefined;\n\treveal(item: ChatTreeItem): void;\n\tfocus(item: ChatTreeItem): void;\n\tgetSibling(item: ChatTreeItem, type: 'next' | 'previous'): ChatTreeItem | undefined;\n\tgetFocus(): ChatTreeItem | undefined;\n\tsetInput(query?: string): void;\n\tgetInput(): string;\n\trefreshParsedInput(): void;\n\tlogInputHistory(): void;\n\tacceptInput(query?: string, options?: IChatAcceptInputOptions): Promise<IChatResponseModel | undefined>;\n\tstartEditing(requestId: string): void;\n\tfinishedEditing(completedEdit?: boolean): void;\n\trerunLastRequest(): Promise<void>;\n\tsetInputPlaceholder(placeholder: string): void;\n\tresetInputPlaceholder(): void;\n\t/**\n\t * Focuses the response item in the list.\n\t * @param lastFocused Focuses the most recently focused response. Otherwise, focuses the last response.\n\t */\n\tfocusResponseItem(lastFocused?: boolean): void;\n\tfocusInput(): void;\n\thasInputFocus(): boolean;\n\tgetModeRequestOptions(): Partial<IChatSendRequestOptions>;\n\tgetCodeBlockInfoForEditor(uri: URI): IChatCodeBlockInfo | undefined;\n\tgetCodeBlockInfosForResponse(response: IChatResponseViewModel): IChatCodeBlockInfo[];\n\tgetFileTreeInfosForResponse(response: IChatResponseViewModel): IChatFileTreeInfo[];\n\tgetLastFocusedFileTreeForResponse(response: IChatResponseViewModel): IChatFileTreeInfo | undefined;\n\tclear(): Promise<void>;\n\tgetViewState(): IChatModelInputState | undefined;\n\tlockToCodingAgent(name: string, displayName: string, agentId?: string): void;\n\n\tdelegateScrollFromMouseWheelEvent(event: IMouseWheelEvent): void;\n}\n\n\nexport interface ICodeBlockActionContextProvider {\n\tgetCodeBlockContext(editor?: ICodeEditor): ICodeBlockActionContext | undefined;\n}\n\nexport const IChatCodeBlockContextProviderService = createDecorator<IChatCodeBlockContextProviderService>('chatCodeBlockContextProviderService');\nexport interface IChatCodeBlockContextProviderService {\n\treadonly _serviceBrand: undefined;\n\treadonly providers: ICodeBlockActionContextProvider[];\n\tregisterProvider(provider: ICodeBlockActionContextProvider, id: string): IDisposable;\n}\n\nexport const ChatViewId = `workbench.panel.chat.view.${CHAT_PROVIDER_ID}`;\n"]}