{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/chat/test/common/promptSyntax/utils/promptFilesLocator.test.ts","vs/workbench/contrib/chat/test/common/promptSyntax/utils/promptFilesLocator.test.ts"],"names":[],"mappings":"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","file":"promptFilesLocator.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { CancellationToken } from '../../../../../../../base/common/cancellation.js';\nimport { match } from '../../../../../../../base/common/glob.js';\nimport { Schemas } from '../../../../../../../base/common/network.js';\nimport { basename, relativePath } from '../../../../../../../base/common/resources.js';\nimport { URI } from '../../../../../../../base/common/uri.js';\nimport { mock } from '../../../../../../../base/test/common/mock.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../../../base/test/common/utils.js';\nimport { IConfigurationOverrides, IConfigurationService } from '../../../../../../../platform/configuration/common/configuration.js';\nimport { IFileService } from '../../../../../../../platform/files/common/files.js';\nimport { FileService } from '../../../../../../../platform/files/common/fileService.js';\nimport { InMemoryFileSystemProvider } from '../../../../../../../platform/files/common/inMemoryFilesystemProvider.js';\nimport { TestInstantiationService } from '../../../../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { ILogService, NullLogService } from '../../../../../../../platform/log/common/log.js';\nimport { IWorkspace, IWorkspaceContextService, IWorkspaceFolder } from '../../../../../../../platform/workspace/common/workspace.js';\nimport { IWorkbenchEnvironmentService } from '../../../../../../services/environment/common/environmentService.js';\nimport { IFileMatch, IFileQuery, ISearchService } from '../../../../../../services/search/common/search.js';\nimport { IUserDataProfileService } from '../../../../../../services/userDataProfile/common/userDataProfile.js';\nimport { PromptsConfig } from '../../../../common/promptSyntax/config/config.js';\nimport { PromptsType } from '../../../../common/promptSyntax/promptTypes.js';\nimport { isValidGlob, PromptFilesLocator } from '../../../../common/promptSyntax/utils/promptFilesLocator.js';\nimport { IMockFolder, MockFilesystem } from '../testUtils/mockFilesystem.js';\nimport { mockService } from './mock.js';\nimport { TestUserDataProfileService } from '../../../../../../test/common/workbenchTestServices.js';\nimport { PromptsStorage } from '../../../../common/promptSyntax/service/promptsService.js';\nimport { runWithFakedTimers } from '../../../../../../../base/test/common/timeTravelScheduler.js';\n\n/**\n * Mocked instance of {@link IConfigurationService}.\n */\nfunction mockConfigService<T>(value: T): IConfigurationService {\n\treturn mockService<IConfigurationService>({\n\t\tgetValue(key?: string | IConfigurationOverrides) {\n\t\t\tassert(\n\t\t\t\ttypeof key === 'string',\n\t\t\t\t`Expected string configuration key, got '${typeof key}'.`,\n\t\t\t);\n\t\t\tif ('explorer.excludeGitIgnore' === key) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tassert(\n\t\t\t\t[PromptsConfig.PROMPT_LOCATIONS_KEY, PromptsConfig.INSTRUCTIONS_LOCATION_KEY, PromptsConfig.MODE_LOCATION_KEY].includes(key),\n\t\t\t\t`Unsupported configuration key '${key}'.`,\n\t\t\t);\n\n\t\t\treturn value;\n\t\t},\n\t});\n}\n\n/**\n * Mocked instance of {@link IWorkspaceContextService}.\n */\nfunction mockWorkspaceService(folders: IWorkspaceFolder[]): IWorkspaceContextService {\n\treturn mockService<IWorkspaceContextService>({\n\t\tgetWorkspace(): IWorkspace {\n\t\t\treturn new class extends mock<IWorkspace>() {\n\t\t\t\toverride folders = folders;\n\t\t\t};\n\t\t},\n\t\tgetWorkspaceFolder(): IWorkspaceFolder | null {\n\t\t\treturn null;\n\t\t}\n\n\t});\n}\n\nfunction testT(name: string, fn: () => Promise<void>): Mocha.Test {\n\treturn test(name, () => runWithFakedTimers({ useFakeTimers: true }, fn));\n}\n\nsuite('PromptFilesLocator', () => {\n\tconst disposables = ensureNoDisposablesAreLeakedInTestSuite();\n\n\t// if (isWindows) {\n\t// \treturn;\n\t// }\n\n\tlet instantiationService: TestInstantiationService;\n\tsetup(async () => {\n\t\tinstantiationService = disposables.add(new TestInstantiationService());\n\t\tinstantiationService.stub(ILogService, new NullLogService());\n\n\t\tconst fileService = disposables.add(instantiationService.createInstance(FileService));\n\t\tconst fileSystemProvider = disposables.add(new InMemoryFileSystemProvider());\n\t\tdisposables.add(fileService.registerProvider(Schemas.file, fileSystemProvider));\n\n\t\tinstantiationService.stub(IFileService, fileService);\n\t});\n\n\t/**\n\t * Create a new instance of {@link PromptFilesLocator} with provided mocked\n\t * values for configuration and workspace services.\n\t */\n\tconst createPromptsLocator = async (configValue: unknown, workspaceFolderPaths: string[], filesystem: IMockFolder[]) => {\n\n\t\tconst mockFs = instantiationService.createInstance(MockFilesystem, filesystem);\n\t\tawait mockFs.mock();\n\n\t\tinstantiationService.stub(IConfigurationService, mockConfigService(configValue));\n\n\t\tconst workspaceFolders = workspaceFolderPaths.map((path, index) => {\n\t\t\tconst uri = URI.file(path);\n\n\t\t\treturn new class extends mock<IWorkspaceFolder>() {\n\t\t\t\toverride uri = uri;\n\t\t\t\toverride name = basename(uri);\n\t\t\t\toverride index = index;\n\t\t\t};\n\t\t});\n\t\tinstantiationService.stub(IWorkspaceContextService, mockWorkspaceService(workspaceFolders));\n\t\tinstantiationService.stub(IWorkbenchEnvironmentService, {} as IWorkbenchEnvironmentService);\n\t\tinstantiationService.stub(IUserDataProfileService, new TestUserDataProfileService());\n\t\tinstantiationService.stub(ISearchService, {\n\t\t\tasync fileSearch(query: IFileQuery) {\n\t\t\t\t// mock the search service\n\t\t\t\tconst fs = instantiationService.get(IFileService);\n\t\t\t\tconst findFilesInLocation = async (location: URI, results: URI[] = []) => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst resolve = await fs.resolve(location);\n\t\t\t\t\t\tif (resolve.isFile) {\n\t\t\t\t\t\t\tresults.push(resolve.resource);\n\t\t\t\t\t\t} else if (resolve.isDirectory && resolve.children) {\n\t\t\t\t\t\t\tfor (const child of resolve.children) {\n\t\t\t\t\t\t\t\tawait findFilesInLocation(child.resource, results);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t}\n\t\t\t\t\treturn results;\n\t\t\t\t};\n\t\t\t\tconst results: IFileMatch[] = [];\n\t\t\t\tfor (const folderQuery of query.folderQueries) {\n\t\t\t\t\tconst allFiles = await findFilesInLocation(folderQuery.folder);\n\t\t\t\t\tfor (const resource of allFiles) {\n\t\t\t\t\t\tconst pathInFolder = relativePath(folderQuery.folder, resource) ?? '';\n\t\t\t\t\t\tif (query.filePattern === undefined || match(query.filePattern, pathInFolder)) {\n\t\t\t\t\t\t\tresults.push({ resource });\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\treturn { results, messages: [] };\n\t\t\t}\n\t\t});\n\n\t\tconst locator = instantiationService.createInstance(PromptFilesLocator);\n\n\t\treturn {\n\t\t\tasync listFiles(type: PromptsType, storage: PromptsStorage, token: CancellationToken): Promise<readonly URI[]> {\n\t\t\t\treturn locator.listFiles(type, storage, token);\n\t\t\t},\n\t\t\tgetConfigBasedSourceFolders(type: PromptsType): readonly URI[] {\n\t\t\t\treturn locator.getConfigBasedSourceFolders(type);\n\t\t\t},\n\t\t\tasync disposeAsync(): Promise<void> {\n\t\t\t\tawait mockFs.delete();\n\t\t\t}\n\t\t};\n\t};\n\n\tsuite('empty workspace', () => {\n\t\tconst EMPTY_WORKSPACE: string[] = [];\n\n\t\tsuite('empty filesystem', () => {\n\t\t\ttestT('no config value', async () => {\n\t\t\t\tconst locator = await createPromptsLocator(undefined, EMPTY_WORKSPACE, []);\n\n\t\t\t\tassertOutcome(\n\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t[],\n\t\t\t\t\t'No prompts must be found.',\n\t\t\t\t);\n\t\t\t\tawait locator.disposeAsync();\n\t\t\t});\n\n\t\t\ttestT('object config value', async () => {\n\t\t\t\tconst locator = await createPromptsLocator({\n\t\t\t\t\t'/Users/legomushroom/repos/prompts/': true,\n\t\t\t\t\t'/tmp/prompts/': false,\n\t\t\t\t}, EMPTY_WORKSPACE, []);\n\n\t\t\t\tassertOutcome(\n\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t[],\n\t\t\t\t\t'No prompts must be found.',\n\t\t\t\t);\n\t\t\t\tawait locator.disposeAsync();\n\t\t\t});\n\n\t\t\ttestT('array config value', async () => {\n\t\t\t\tconst locator = await createPromptsLocator([\n\t\t\t\t\t'relative/path/to/prompts/',\n\t\t\t\t\t'/abs/path',\n\t\t\t\t], EMPTY_WORKSPACE, []);\n\n\t\t\t\tassertOutcome(\n\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t[],\n\t\t\t\t\t'No prompts must be found.',\n\t\t\t\t);\n\t\t\t\tawait locator.disposeAsync();\n\t\t\t});\n\n\t\t\ttestT('null config value', async () => {\n\t\t\t\tconst locator = await createPromptsLocator(null, EMPTY_WORKSPACE, []);\n\n\t\t\t\tassertOutcome(\n\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t[],\n\t\t\t\t\t'No prompts must be found.',\n\t\t\t\t);\n\t\t\t\tawait locator.disposeAsync();\n\t\t\t});\n\n\t\t\ttestT('string config value', async () => {\n\t\t\t\tconst locator = await createPromptsLocator('/etc/hosts/prompts', EMPTY_WORKSPACE, []);\n\n\t\t\t\tassertOutcome(\n\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t[],\n\t\t\t\t\t'No prompts must be found.',\n\t\t\t\t);\n\t\t\t\tawait locator.disposeAsync();\n\t\t\t});\n\t\t});\n\n\t\tsuite('non-empty filesystem', () => {\n\t\t\ttestT('core logic', async () => {\n\t\t\t\tconst locator = await createPromptsLocator(\n\t\t\t\t\t{\n\t\t\t\t\t\t'/Users/legomushroom/repos/prompts': true,\n\t\t\t\t\t\t'/tmp/prompts/': true,\n\t\t\t\t\t\t'/absolute/path/prompts': false,\n\t\t\t\t\t\t'.copilot/prompts': true,\n\t\t\t\t\t},\n\t\t\t\t\tEMPTY_WORKSPACE,\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'test.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'Hello, World!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'refactor-tests.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'some file content goes here',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/tmp/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'translate.to-rust.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'some more random file contents',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/absolute/path/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'some-prompt-file.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'hey hey hey',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t]);\n\n\t\t\t\tassertOutcome(\n\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t[\n\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/test.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/refactor-tests.prompt.md',\n\t\t\t\t\t\t'/tmp/prompts/translate.to-rust.prompt.md'\n\t\t\t\t\t],\n\t\t\t\t\t'Must find correct prompts.',\n\t\t\t\t);\n\t\t\t\tawait locator.disposeAsync();\n\t\t\t});\n\n\t\t\tsuite('absolute', () => {\n\t\t\t\ttestT('wild card', async () => {\n\t\t\t\t\tconst settings = [\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/*.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/*',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/*.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/text/**',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/text/**/*',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/text/**/*.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/text/**/*.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/*',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/*.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/*.prompt.md',\n\t\t\t\t\t];\n\n\t\t\t\t\tfor (const setting of settings) {\n\t\t\t\t\t\tconst locator = await createPromptsLocator(\n\t\t\t\t\t\t\t{ [setting]: true },\n\t\t\t\t\t\t\tEMPTY_WORKSPACE,\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'deps/text',\n\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'my.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'nested',\n\t\t\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'specific.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific2.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, rabot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'readme.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'non prompt file',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tassertOutcome(\n\t\t\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/my.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/specific.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/unspecific2.prompt.md',\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t'Must find correct prompts.',\n\t\t\t\t\t\t);\n\t\t\t\t\t\tawait locator.disposeAsync();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\ttestT(`specific`, async () => {\n\t\t\t\t\tconst testSettings = [\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*specific*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*specific*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*specific*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/specific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/unspecific2.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/unspecific*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/nested/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/nested/unspecific*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/nested/*specific*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*spec*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*spec*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*spec*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/deps/**/*spec*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/text/**/*spec*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/*spec*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/*specific*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/*specific*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/specific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/unspecific*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/specific*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/unspecific*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/unspecific2.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/unspecific1*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/unspecific2*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/*specific*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/specific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/unspecific*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/specific*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/unspecific*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/unspecific2.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/unspecific1*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/unspecific2*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t];\n\n\t\t\t\t\tfor (const settings of testSettings) {\n\t\t\t\t\t\tconst vscodeSettings: Record<string, boolean> = {};\n\t\t\t\t\t\tfor (const setting of settings) {\n\t\t\t\t\t\t\tvscodeSettings[setting] = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst locator = await createPromptsLocator(\n\t\t\t\t\t\t\tvscodeSettings,\n\t\t\t\t\t\t\tEMPTY_WORKSPACE,\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'deps/text',\n\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'my.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'nested',\n\t\t\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'default.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'specific.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific2.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, rawbot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'readme.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'non prompt file',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tassertOutcome(\n\t\t\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/specific.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/unspecific2.prompt.md',\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t'Must find correct prompts.',\n\t\t\t\t\t\t);\n\t\t\t\t\t\tawait locator.disposeAsync();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t});\n\n\tsuite('single-root workspace', () => {\n\t\tsuite('glob pattern', () => {\n\t\t\tsuite('relative', () => {\n\t\t\t\ttestT('wild card', async () => {\n\t\t\t\t\tconst testSettings = [\n\t\t\t\t\t\t'**',\n\t\t\t\t\t\t'**/*.prompt.md',\n\t\t\t\t\t\t'**/*.md',\n\t\t\t\t\t\t'**/*',\n\t\t\t\t\t\t'deps/**',\n\t\t\t\t\t\t'deps/**/*.prompt.md',\n\t\t\t\t\t\t'deps/**/*',\n\t\t\t\t\t\t'deps/**/*.md',\n\t\t\t\t\t\t'**/text/**',\n\t\t\t\t\t\t'**/text/**/*',\n\t\t\t\t\t\t'**/text/**/*.md',\n\t\t\t\t\t\t'**/text/**/*.prompt.md',\n\t\t\t\t\t\t'deps/text/**',\n\t\t\t\t\t\t'deps/text/**/*',\n\t\t\t\t\t\t'deps/text/**/*.md',\n\t\t\t\t\t\t'deps/text/**/*.prompt.md',\n\t\t\t\t\t];\n\n\t\t\t\t\tfor (const setting of testSettings) {\n\t\t\t\t\t\tconst locator = await createPromptsLocator(\n\t\t\t\t\t\t\t{ [setting]: true },\n\t\t\t\t\t\t\t['/Users/legomushroom/repos/vscode'],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'deps/text',\n\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'my.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'nested',\n\t\t\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'specific.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific2.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, rabot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'readme.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'non prompt file',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tassertOutcome(\n\t\t\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/my.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/specific.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/unspecific2.prompt.md',\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t'Must find correct prompts.',\n\t\t\t\t\t\t);\n\t\t\t\t\t\tawait locator.disposeAsync();\n\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\ttestT(`specific`, async () => {\n\t\t\t\t\tconst testSettings = [\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/*specific*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/*specific*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/*specific*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/specific*',\n\t\t\t\t\t\t\t'**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'**/unspecific2.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/specific.prompt.md',\n\t\t\t\t\t\t\t'**/unspecific*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/nested/specific.prompt.md',\n\t\t\t\t\t\t\t'**/nested/unspecific*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/nested/*specific*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/*spec*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/*spec*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/*spec*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/deps/**/*spec*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/text/**/*spec*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'deps/text/nested/*spec*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'deps/text/nested/*specific*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'deps/**/*specific*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'deps/**/specific*',\n\t\t\t\t\t\t\t'deps/**/unspecific*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'deps/**/specific*.md',\n\t\t\t\t\t\t\t'deps/**/unspecific*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'deps/**/specific.prompt.md',\n\t\t\t\t\t\t\t'deps/**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'deps/**/unspecific2.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'deps/**/specific.prompt.md',\n\t\t\t\t\t\t\t'deps/**/unspecific1*.md',\n\t\t\t\t\t\t\t'deps/**/unspecific2*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'deps/text/**/*specific*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'deps/text/**/specific*',\n\t\t\t\t\t\t\t'deps/text/**/unspecific*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'deps/text/**/specific*.md',\n\t\t\t\t\t\t\t'deps/text/**/unspecific*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'deps/text/**/specific.prompt.md',\n\t\t\t\t\t\t\t'deps/text/**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'deps/text/**/unspecific2.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'deps/text/**/specific.prompt.md',\n\t\t\t\t\t\t\t'deps/text/**/unspecific1*.md',\n\t\t\t\t\t\t\t'deps/text/**/unspecific2*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t];\n\n\t\t\t\t\tfor (const settings of testSettings) {\n\t\t\t\t\t\tconst vscodeSettings: Record<string, boolean> = {};\n\t\t\t\t\t\tfor (const setting of settings) {\n\t\t\t\t\t\t\tvscodeSettings[setting] = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst locator = await createPromptsLocator(\n\t\t\t\t\t\t\tvscodeSettings,\n\t\t\t\t\t\t\t['/Users/legomushroom/repos/vscode'],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'deps/text',\n\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'my.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'nested',\n\t\t\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'default.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'specific.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific2.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, rawbot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'readme.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'non prompt file',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tassertOutcome(\n\t\t\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/specific.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/unspecific2.prompt.md',\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t'Must find correct prompts.',\n\t\t\t\t\t\t);\n\t\t\t\t\t\tawait locator.disposeAsync();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tsuite('absolute', () => {\n\t\t\t\ttestT('wild card', async () => {\n\t\t\t\t\tconst settings = [\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/*.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/*',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/*.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/text/**',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/text/**/*',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/text/**/*.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/text/**/*.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/*',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/*.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/*.prompt.md',\n\t\t\t\t\t];\n\n\t\t\t\t\tfor (const setting of settings) {\n\n\t\t\t\t\t\tconst locator = await createPromptsLocator(\n\t\t\t\t\t\t\t{ [setting]: true },\n\t\t\t\t\t\t\t['/Users/legomushroom/repos/vscode'],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'deps/text',\n\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'my.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'nested',\n\t\t\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'specific.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific2.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, rabot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'readme.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'non prompt file',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tassertOutcome(\n\t\t\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/my.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/specific.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/unspecific2.prompt.md',\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t'Must find correct prompts.',\n\t\t\t\t\t\t);\n\t\t\t\t\t\tawait locator.disposeAsync();\n\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\ttestT(`specific`, async () => {\n\t\t\t\t\tconst testSettings = [\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*specific*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*specific*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*specific*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/specific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/unspecific2.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/unspecific*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/nested/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/nested/unspecific*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/nested/*specific*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*spec*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*spec*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*spec*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/deps/**/*spec*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/text/**/*spec*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/*spec*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/*specific*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/*specific*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/specific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/unspecific*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/specific*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/unspecific*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/unspecific2.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/unspecific1*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/unspecific2*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/*specific*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/specific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/unspecific*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/specific*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/unspecific*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/unspecific2.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/unspecific1*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/unspecific2*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t];\n\n\t\t\t\t\tfor (const settings of testSettings) {\n\t\t\t\t\t\tconst vscodeSettings: Record<string, boolean> = {};\n\t\t\t\t\t\tfor (const setting of settings) {\n\t\t\t\t\t\t\tvscodeSettings[setting] = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst locator = await createPromptsLocator(\n\t\t\t\t\t\t\tvscodeSettings,\n\t\t\t\t\t\t\t['/Users/legomushroom/repos/vscode'],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'deps/text',\n\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'my.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'nested',\n\t\t\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'default.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'specific.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific2.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, rawbot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'readme.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'non prompt file',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tassertOutcome(\n\t\t\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/specific.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/unspecific2.prompt.md',\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t'Must find correct prompts.',\n\t\t\t\t\t\t);\n\t\t\t\t\t\tawait locator.disposeAsync();\n\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t});\n\n\ttestT('core logic', async () => {\n\t\tconst locator = await createPromptsLocator(\n\t\t\t{\n\t\t\t\t'/Users/legomushroom/repos/prompts': true,\n\t\t\t\t'/tmp/prompts/': true,\n\t\t\t\t'/absolute/path/prompts': false,\n\t\t\t\t'.copilot/prompts': true,\n\t\t\t},\n\t\t\t[\n\t\t\t\t'/Users/legomushroom/repos/vscode',\n\t\t\t],\n\t\t\t[\n\t\t\t\t{\n\t\t\t\t\tname: '/Users/legomushroom/repos/prompts',\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'test.prompt.md',\n\t\t\t\t\t\t\tcontents: 'Hello, World!',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'refactor-tests.prompt.md',\n\t\t\t\t\t\t\tcontents: 'some file content goes here',\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '/tmp/prompts',\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'translate.to-rust.prompt.md',\n\t\t\t\t\t\t\tcontents: 'some more random file contents',\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '/absolute/path/prompts',\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'some-prompt-file.prompt.md',\n\t\t\t\t\t\t\tcontents: 'hey hey hey',\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '/Users/legomushroom/repos/vscode',\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '.copilot/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'default.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '.github/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'my.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t]);\n\n\t\tassertOutcome(\n\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t[\n\t\t\t\t'/Users/legomushroom/repos/vscode/.github/prompts/my.prompt.md',\n\t\t\t\t'/Users/legomushroom/repos/prompts/test.prompt.md',\n\t\t\t\t'/Users/legomushroom/repos/prompts/refactor-tests.prompt.md',\n\t\t\t\t'/tmp/prompts/translate.to-rust.prompt.md',\n\t\t\t\t'/Users/legomushroom/repos/vscode/.copilot/prompts/default.prompt.md',\n\t\t\t],\n\t\t\t'Must find correct prompts.',\n\t\t);\n\t\tawait locator.disposeAsync();\n\t});\n\n\ttestT('with disabled `.github/prompts` location', async () => {\n\t\tconst locator = await createPromptsLocator(\n\t\t\t{\n\t\t\t\t'/Users/legomushroom/repos/prompts': true,\n\t\t\t\t'/tmp/prompts/': true,\n\t\t\t\t'/absolute/path/prompts': false,\n\t\t\t\t'.copilot/prompts': true,\n\t\t\t\t'.github/prompts': false,\n\t\t\t},\n\t\t\t[\n\t\t\t\t'/Users/legomushroom/repos/vscode',\n\t\t\t],\n\t\t\t[\n\t\t\t\t{\n\t\t\t\t\tname: '/Users/legomushroom/repos/prompts',\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'test.prompt.md',\n\t\t\t\t\t\t\tcontents: 'Hello, World!',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'refactor-tests.prompt.md',\n\t\t\t\t\t\t\tcontents: 'some file content goes here',\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '/tmp/prompts',\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'translate.to-rust.prompt.md',\n\t\t\t\t\t\t\tcontents: 'some more random file contents',\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '/absolute/path/prompts',\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'some-prompt-file.prompt.md',\n\t\t\t\t\t\t\tcontents: 'hey hey hey',\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '/Users/legomushroom/repos/vscode',\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '.copilot/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'default.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '.github/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'my.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'your.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t]);\n\n\t\tassertOutcome(\n\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t[\n\t\t\t\t'/Users/legomushroom/repos/prompts/test.prompt.md',\n\t\t\t\t'/Users/legomushroom/repos/prompts/refactor-tests.prompt.md',\n\t\t\t\t'/tmp/prompts/translate.to-rust.prompt.md',\n\t\t\t\t'/Users/legomushroom/repos/vscode/.copilot/prompts/default.prompt.md',\n\t\t\t],\n\t\t\t'Must find correct prompts.',\n\t\t);\n\t\tawait locator.disposeAsync();\n\t});\n\n\tsuite('multi-root workspace', () => {\n\t\tsuite('core logic', () => {\n\t\t\ttestT('without top-level `.github` folder', async () => {\n\t\t\t\tconst locator = await createPromptsLocator(\n\t\t\t\t\t{\n\t\t\t\t\t\t'/Users/legomushroom/repos/prompts': true,\n\t\t\t\t\t\t'/tmp/prompts/': true,\n\t\t\t\t\t\t'/absolute/path/prompts': false,\n\t\t\t\t\t\t'.copilot/prompts': false,\n\t\t\t\t\t},\n\t\t\t\t\t[\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t'/Users/legomushroom/repos/node',\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'test.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'Hello, World!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'refactor-tests.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'some file content goes here',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/tmp/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'translate.to-rust.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'some more random file contents',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/absolute/path/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'some-prompt-file.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'hey hey hey',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '.copilot/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'prompt1.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '.github/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'default.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/node',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '.copilot/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'prompt5.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '.github/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'refactor-static-classes.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\tcontents: 'file contents',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t// note! this folder is not part of the workspace, so prompt files are `ignored`\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/.github/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'prompt-name.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'name-of-the-prompt.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'oh hi, raw bot!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t]);\n\n\t\t\t\tassertOutcome(\n\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t[\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/.github/prompts/default.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/node/.github/prompts/refactor-static-classes.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/test.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/refactor-tests.prompt.md',\n\t\t\t\t\t\t'/tmp/prompts/translate.to-rust.prompt.md',\n\t\t\t\t\t],\n\t\t\t\t\t'Must find correct prompts.',\n\t\t\t\t);\n\t\t\t\tawait locator.disposeAsync();\n\t\t\t});\n\n\t\t\ttestT('with top-level `.github` folder', async () => {\n\t\t\t\tconst locator = await createPromptsLocator(\n\t\t\t\t\t{\n\t\t\t\t\t\t'/Users/legomushroom/repos/prompts': true,\n\t\t\t\t\t\t'/tmp/prompts/': true,\n\t\t\t\t\t\t'/absolute/path/prompts': false,\n\t\t\t\t\t\t'.copilot/prompts': false,\n\t\t\t\t\t},\n\t\t\t\t\t[\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t'/Users/legomushroom/repos/node',\n\t\t\t\t\t\t'/var/shared/prompts',\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'test.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'Hello, World!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'refactor-tests.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'some file content goes here',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/tmp/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'translate.to-rust.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'some more random file contents',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/absolute/path/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'some-prompt-file.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'hey hey hey',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '.copilot/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'prompt1.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '.github/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'default.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/node',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '.copilot/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'prompt5.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '.github/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'refactor-static-classes.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\tcontents: 'file contents',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t// note! this folder is part of the workspace, so prompt files are `included`\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/var/shared/prompts/.github/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'prompt-name.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'name-of-the-prompt.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'oh hi, raw bot!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t]);\n\n\t\t\t\tassertOutcome(\n\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t[\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/.github/prompts/default.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/node/.github/prompts/refactor-static-classes.prompt.md',\n\t\t\t\t\t\t'/var/shared/prompts/.github/prompts/prompt-name.prompt.md',\n\t\t\t\t\t\t'/var/shared/prompts/.github/prompts/name-of-the-prompt.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/test.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/refactor-tests.prompt.md',\n\t\t\t\t\t\t'/tmp/prompts/translate.to-rust.prompt.md',\n\t\t\t\t\t],\n\t\t\t\t\t'Must find correct prompts.',\n\t\t\t\t);\n\t\t\t\tawait locator.disposeAsync();\n\t\t\t});\n\n\t\t\ttestT('with disabled `.github/prompts` location', async () => {\n\t\t\t\tconst locator = await createPromptsLocator(\n\t\t\t\t\t{\n\t\t\t\t\t\t'/Users/legomushroom/repos/prompts': true,\n\t\t\t\t\t\t'/tmp/prompts/': true,\n\t\t\t\t\t\t'/absolute/path/prompts': false,\n\t\t\t\t\t\t'.copilot/prompts': false,\n\t\t\t\t\t\t'.github/prompts': false,\n\t\t\t\t\t},\n\t\t\t\t\t[\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t'/Users/legomushroom/repos/node',\n\t\t\t\t\t\t'/var/shared/prompts',\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'test.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'Hello, World!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'refactor-tests.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'some file content goes here',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/tmp/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'translate.to-rust.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'some more random file contents',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/absolute/path/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'some-prompt-file.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'hey hey hey',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '.copilot/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'prompt1.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '.github/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'default.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/node',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '.copilot/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'prompt5.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '.github/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'refactor-static-classes.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\tcontents: 'file contents',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t// note! this folder is part of the workspace, so prompt files are `included`\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/var/shared/prompts/.github/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'prompt-name.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'name-of-the-prompt.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'oh hi, raw bot!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t]);\n\n\t\t\t\tassertOutcome(\n\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t[\n\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/test.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/refactor-tests.prompt.md',\n\t\t\t\t\t\t'/tmp/prompts/translate.to-rust.prompt.md',\n\t\t\t\t\t],\n\t\t\t\t\t'Must find correct prompts.',\n\t\t\t\t);\n\t\t\t\tawait locator.disposeAsync();\n\t\t\t});\n\n\t\t\ttestT('mixed', async () => {\n\t\t\t\tconst locator = await createPromptsLocator(\n\t\t\t\t\t{\n\t\t\t\t\t\t'/Users/legomushroom/repos/**/*test*': true,\n\t\t\t\t\t\t'.copilot/prompts': false,\n\t\t\t\t\t\t'.github/prompts': true,\n\t\t\t\t\t\t'/absolute/path/prompts/some-prompt-file.prompt.md': true,\n\t\t\t\t\t},\n\t\t\t\t\t[\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t'/Users/legomushroom/repos/node',\n\t\t\t\t\t\t'/var/shared/prompts',\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'test.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'Hello, World!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'refactor-tests.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'some file content goes here',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'elf.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'haalo!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/tmp/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'translate.to-rust.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'some more random file contents',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/absolute/path/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'some-prompt-file.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'hey hey hey',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '.copilot/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'prompt1.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '.github/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'default.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/node',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '.copilot/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'prompt5.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '.github/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'refactor-static-classes.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\tcontents: 'file contents',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t// note! this folder is part of the workspace, so prompt files are `included`\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/var/shared/prompts/.github/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'prompt-name.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'name-of-the-prompt.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'oh hi, raw bot!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t]);\n\n\t\t\t\tassertOutcome(\n\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t[\n\t\t\t\t\t\t// all of these are due to the `.github/prompts` setting\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/.github/prompts/default.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/node/.github/prompts/refactor-static-classes.prompt.md',\n\t\t\t\t\t\t'/var/shared/prompts/.github/prompts/prompt-name.prompt.md',\n\t\t\t\t\t\t'/var/shared/prompts/.github/prompts/name-of-the-prompt.prompt.md',\n\t\t\t\t\t\t// all of these are due to the `/Users/legomushroom/repos/**/*test*` setting\n\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/test.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/refactor-tests.prompt.md',\n\t\t\t\t\t\t// this one is due to the specific `/absolute/path/prompts/some-prompt-file.prompt.md` setting\n\t\t\t\t\t\t'/absolute/path/prompts/some-prompt-file.prompt.md',\n\t\t\t\t\t],\n\t\t\t\t\t'Must find correct prompts.',\n\t\t\t\t);\n\t\t\t\tawait locator.disposeAsync();\n\t\t\t});\n\t\t});\n\n\t\tsuite('glob pattern', () => {\n\t\t\tsuite('relative', () => {\n\t\t\t\ttestT('wild card', async () => {\n\t\t\t\t\tconst testSettings = [\n\t\t\t\t\t\t'**',\n\t\t\t\t\t\t'**/*.prompt.md',\n\t\t\t\t\t\t'**/*.md',\n\t\t\t\t\t\t'**/*',\n\t\t\t\t\t\t'gen*/**',\n\t\t\t\t\t\t'gen*/**/*.prompt.md',\n\t\t\t\t\t\t'gen*/**/*',\n\t\t\t\t\t\t'gen*/**/*.md',\n\t\t\t\t\t\t'**/gen*/**',\n\t\t\t\t\t\t'**/gen*/**/*',\n\t\t\t\t\t\t'**/gen*/**/*.md',\n\t\t\t\t\t\t'**/gen*/**/*.prompt.md',\n\t\t\t\t\t\t'{generic,general,gen}/**',\n\t\t\t\t\t\t'{generic,general,gen}/**/*.prompt.md',\n\t\t\t\t\t\t'{generic,general,gen}/**/*',\n\t\t\t\t\t\t'{generic,general,gen}/**/*.md',\n\t\t\t\t\t\t'**/{generic,general,gen}/**',\n\t\t\t\t\t\t'**/{generic,general,gen}/**/*',\n\t\t\t\t\t\t'**/{generic,general,gen}/**/*.md',\n\t\t\t\t\t\t'**/{generic,general,gen}/**/*.prompt.md',\n\t\t\t\t\t];\n\n\t\t\t\t\tfor (const setting of testSettings) {\n\n\t\t\t\t\t\tconst locator = await createPromptsLocator(\n\t\t\t\t\t\t\t{ [setting]: true },\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/prompts',\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'gen/text',\n\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'my.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'nested',\n\t\t\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'specific.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific2.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, rabot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'readme.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'non prompt file',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'general',\n\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'common.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'uncommon-10.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'license.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'non prompt file',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tassertOutcome(\n\t\t\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/my.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested/specific.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested/unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested/unspecific2.prompt.md',\n\t\t\t\t\t\t\t\t// -\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/general/common.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/general/uncommon-10.prompt.md',\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t'Must find correct prompts.',\n\t\t\t\t\t\t);\n\t\t\t\t\t\tawait locator.disposeAsync();\n\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\ttestT(`specific`, async () => {\n\t\t\t\t\tconst testSettings = [\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/my.prompt.md',\n\t\t\t\t\t\t\t'**/*specific*',\n\t\t\t\t\t\t\t'**/*common*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/my.prompt.md',\n\t\t\t\t\t\t\t'**/*specific*.prompt.md',\n\t\t\t\t\t\t\t'**/*common*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/my*.md',\n\t\t\t\t\t\t\t'**/*specific*.md',\n\t\t\t\t\t\t\t'**/*common*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/my*.md',\n\t\t\t\t\t\t\t'**/specific*',\n\t\t\t\t\t\t\t'**/unspecific*',\n\t\t\t\t\t\t\t'**/common*',\n\t\t\t\t\t\t\t'**/uncommon*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/my.prompt.md',\n\t\t\t\t\t\t\t'**/specific.prompt.md',\n\t\t\t\t\t\t\t'**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'**/unspecific2.prompt.md',\n\t\t\t\t\t\t\t'**/common.prompt.md',\n\t\t\t\t\t\t\t'**/uncommon-10.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'gen*/**/my.prompt.md',\n\t\t\t\t\t\t\t'gen*/**/*specific*',\n\t\t\t\t\t\t\t'gen*/**/*common*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'gen*/**/my.prompt.md',\n\t\t\t\t\t\t\t'gen*/**/*specific*.prompt.md',\n\t\t\t\t\t\t\t'gen*/**/*common*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'gen*/**/my*.md',\n\t\t\t\t\t\t\t'gen*/**/*specific*.md',\n\t\t\t\t\t\t\t'gen*/**/*common*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'gen*/**/my*.md',\n\t\t\t\t\t\t\t'gen*/**/specific*',\n\t\t\t\t\t\t\t'gen*/**/unspecific*',\n\t\t\t\t\t\t\t'gen*/**/common*',\n\t\t\t\t\t\t\t'gen*/**/uncommon*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'gen*/**/my.prompt.md',\n\t\t\t\t\t\t\t'gen*/**/specific.prompt.md',\n\t\t\t\t\t\t\t'gen*/**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'gen*/**/unspecific2.prompt.md',\n\t\t\t\t\t\t\t'gen*/**/common.prompt.md',\n\t\t\t\t\t\t\t'gen*/**/uncommon-10.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'gen/text/my.prompt.md',\n\t\t\t\t\t\t\t'gen/text/nested/specific.prompt.md',\n\t\t\t\t\t\t\t'gen/text/nested/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'gen/text/nested/unspecific2.prompt.md',\n\t\t\t\t\t\t\t'general/common.prompt.md',\n\t\t\t\t\t\t\t'general/uncommon-10.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'gen/text/my.prompt.md',\n\t\t\t\t\t\t\t'gen/text/nested/*specific*',\n\t\t\t\t\t\t\t'general/*common*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'gen/text/my.prompt.md',\n\t\t\t\t\t\t\t'gen/text/**/specific.prompt.md',\n\t\t\t\t\t\t\t'gen/text/**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'gen/text/**/unspecific2.prompt.md',\n\t\t\t\t\t\t\t'general/*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'{gen,general}/**/my.prompt.md',\n\t\t\t\t\t\t\t'{gen,general}/**/*specific*',\n\t\t\t\t\t\t\t'{gen,general}/**/*common*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'{gen,general}/**/my.prompt.md',\n\t\t\t\t\t\t\t'{gen,general}/**/*specific*.prompt.md',\n\t\t\t\t\t\t\t'{gen,general}/**/*common*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'{gen,general}/**/my*.md',\n\t\t\t\t\t\t\t'{gen,general}/**/*specific*.md',\n\t\t\t\t\t\t\t'{gen,general}/**/*common*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'{gen,general}/**/my*.md',\n\t\t\t\t\t\t\t'{gen,general}/**/specific*',\n\t\t\t\t\t\t\t'{gen,general}/**/unspecific*',\n\t\t\t\t\t\t\t'{gen,general}/**/common*',\n\t\t\t\t\t\t\t'{gen,general}/**/uncommon*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'{gen,general}/**/my.prompt.md',\n\t\t\t\t\t\t\t'{gen,general}/**/specific.prompt.md',\n\t\t\t\t\t\t\t'{gen,general}/**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'{gen,general}/**/unspecific2.prompt.md',\n\t\t\t\t\t\t\t'{gen,general}/**/common.prompt.md',\n\t\t\t\t\t\t\t'{gen,general}/**/uncommon-10.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t];\n\n\t\t\t\t\tfor (const settings of testSettings) {\n\t\t\t\t\t\tconst vscodeSettings: Record<string, boolean> = {};\n\t\t\t\t\t\tfor (const setting of settings) {\n\t\t\t\t\t\t\tvscodeSettings[setting] = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst locator = await createPromptsLocator(\n\t\t\t\t\t\t\tvscodeSettings,\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/prompts',\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'gen/text',\n\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'my.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'nested',\n\t\t\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'specific.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific2.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, rabot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'readme.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'non prompt file',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'general',\n\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'common.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'uncommon-10.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'license.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'non prompt file',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tassertOutcome(\n\t\t\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/my.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested/specific.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested/unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested/unspecific2.prompt.md',\n\t\t\t\t\t\t\t\t// -\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/general/common.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/general/uncommon-10.prompt.md',\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t'Must find correct prompts.',\n\t\t\t\t\t\t);\n\t\t\t\t\t\tawait locator.disposeAsync();\n\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tsuite('absolute', () => {\n\t\t\t\ttestT('wild card', async () => {\n\t\t\t\t\tconst testSettings = [\n\t\t\t\t\t\t'/Users/legomushroom/repos/**',\n\t\t\t\t\t\t'/Users/legomushroom/repos/**/*.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/**/*.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/**/*',\n\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**',\n\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/*.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/*',\n\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/*.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**',\n\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/*',\n\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/*.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/*.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/*.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/*.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/*',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/gen*/**',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/gen*/**/*.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/gen*/**/*',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/gen*/**/*.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/gen*/**',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/gen*/**/*',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/gen*/**/*.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/gen*/**/*.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/{general,gen}/**',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/{general,gen}/**/*.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/{general,gen}/**/*',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/{general,gen}/**/*.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/{general,gen}/**',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/{general,gen}/**/*',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/{general,gen}/**/*.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/{general,gen}/**/*.prompt.md',\n\t\t\t\t\t];\n\n\t\t\t\t\tfor (const setting of testSettings) {\n\t\t\t\t\t\tconst locator = await createPromptsLocator(\n\t\t\t\t\t\t\t{ [setting]: true },\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/prompts',\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'gen/text',\n\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'my.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'nested',\n\t\t\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'specific.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific2.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, rabot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'readme.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'non prompt file',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'general',\n\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'common.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'uncommon-10.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'license.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'non prompt file',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tassertOutcome(\n\t\t\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/my.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested/specific.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested/unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested/unspecific2.prompt.md',\n\t\t\t\t\t\t\t\t// -\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/general/common.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/general/uncommon-10.prompt.md',\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t'Must find correct prompts.',\n\t\t\t\t\t\t);\n\t\t\t\t\t\tawait locator.disposeAsync();\n\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\ttestT(`specific`, async () => {\n\t\t\t\t\tconst testSettings = [\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/my.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/*specific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/*common*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/my.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/*specific*.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/*common*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/my*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/*specific*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/*common*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/my*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/specific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/unspecific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/common*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/uncommon*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/my.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/unspecific2.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/common.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/uncommon-10.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/my.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/*specific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/*common*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/my.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/*specific*.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/*common*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/my*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/*specific*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/*common*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/my*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/specific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/unspecific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/common*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/uncommon*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/my.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/unspecific2.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/common.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/uncommon-10.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/my.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested/unspecific2.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/general/common.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/general/uncommon-10.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/my.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested/*specific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/general/*common*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/my.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/**/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/**/unspecific2.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/general/*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/my.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/*specific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/*common*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/my.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/*specific*.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/*common*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/my*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/*specific*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/*common*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/my*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/specific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/unspecific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/common*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/uncommon*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/my.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/unspecific2.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/common.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/uncommon-10.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/my.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/*specific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/*common*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/my.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/*specific*.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/*common*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/my*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/*specific*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/*common*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/my*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/specific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/unspecific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/common*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/uncommon*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/my.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/unspecific2.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/common.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/uncommon-10.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t];\n\n\t\t\t\t\tfor (const settings of testSettings) {\n\t\t\t\t\t\tconst vscodeSettings: Record<string, boolean> = {};\n\t\t\t\t\t\tfor (const setting of settings) {\n\t\t\t\t\t\t\tvscodeSettings[setting] = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst locator = await createPromptsLocator(\n\t\t\t\t\t\t\tvscodeSettings,\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/prompts',\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'gen/text',\n\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'my.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'nested',\n\t\t\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'specific.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific2.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, rabot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'readme.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'non prompt file',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'general',\n\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'common.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'uncommon-10.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'license.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'non prompt file',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tassertOutcome(\n\t\t\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/my.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested/specific.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested/unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested/unspecific2.prompt.md',\n\t\t\t\t\t\t\t\t// -\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/general/common.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/general/uncommon-10.prompt.md',\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t'Must find correct prompts.',\n\t\t\t\t\t\t);\n\t\t\t\t\t\tawait locator.disposeAsync();\n\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t});\n\n\tsuite('isValidGlob', () => {\n\t\ttestT('valid patterns', async () => {\n\t\t\tconst globs = [\n\t\t\t\t'**',\n\t\t\t\t'\\*',\n\t\t\t\t'\\**',\n\t\t\t\t'**/*',\n\t\t\t\t'**/*.prompt.md',\n\t\t\t\t'/Users/legomushroom/**/*.prompt.md',\n\t\t\t\t'/Users/legomushroom/*.prompt.md',\n\t\t\t\t'/Users/legomushroom/*',\n\t\t\t\t'/Users/legomushroom/repos/{repo1,test}',\n\t\t\t\t'/Users/legomushroom/repos/{repo1,test}/**',\n\t\t\t\t'/Users/legomushroom/repos/{repo1,test}/*',\n\t\t\t\t'/Users/legomushroom/**/{repo1,test}/**',\n\t\t\t\t'/Users/legomushroom/**/{repo1,test}',\n\t\t\t\t'/Users/legomushroom/**/{repo1,test}/*',\n\t\t\t\t'/Users/legomushroom/**/repo[1,2,3]',\n\t\t\t\t'/Users/legomushroom/**/repo[1,2,3]/**',\n\t\t\t\t'/Users/legomushroom/**/repo[1,2,3]/*',\n\t\t\t\t'/Users/legomushroom/**/repo[1,2,3]/**/*.prompt.md',\n\t\t\t\t'repo[1,2,3]/**/*.prompt.md',\n\t\t\t\t'repo[[1,2,3]/**/*.prompt.md',\n\t\t\t\t'{repo1,test}/*.prompt.md',\n\t\t\t\t'{repo1,test}/*',\n\t\t\t\t'/{repo1,test}/*',\n\t\t\t\t'/{repo1,test}}/*',\n\t\t\t];\n\n\t\t\tfor (const glob of globs) {\n\t\t\t\tassert(\n\t\t\t\t\t(isValidGlob(glob) === true),\n\t\t\t\t\t`'${glob}' must be a 'valid' glob pattern.`,\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\n\t\ttestT('invalid patterns', async () => {\n\t\t\tconst globs = [\n\t\t\t\t'.',\n\t\t\t\t'\\\\*',\n\t\t\t\t'\\\\?',\n\t\t\t\t'\\\\*\\\\?\\\\*',\n\t\t\t\t'repo[1,2,3',\n\t\t\t\t'repo1,2,3]',\n\t\t\t\t'repo\\\\[1,2,3]',\n\t\t\t\t'repo[1,2,3\\\\]',\n\t\t\t\t'repo\\\\[1,2,3\\\\]',\n\t\t\t\t'{repo1,repo2',\n\t\t\t\t'repo1,repo2}',\n\t\t\t\t'\\\\{repo1,repo2}',\n\t\t\t\t'{repo1,repo2\\\\}',\n\t\t\t\t'\\\\{repo1,repo2\\\\}',\n\t\t\t\t'/Users/legomushroom/repos',\n\t\t\t\t'/Users/legomushroom/repo[1,2,3',\n\t\t\t\t'/Users/legomushroom/repo1,2,3]',\n\t\t\t\t'/Users/legomushroom/repo\\\\[1,2,3]',\n\t\t\t\t'/Users/legomushroom/repo[1,2,3\\\\]',\n\t\t\t\t'/Users/legomushroom/repo\\\\[1,2,3\\\\]',\n\t\t\t\t'/Users/legomushroom/{repo1,repo2',\n\t\t\t\t'/Users/legomushroom/repo1,repo2}',\n\t\t\t\t'/Users/legomushroom/\\\\{repo1,repo2}',\n\t\t\t\t'/Users/legomushroom/{repo1,repo2\\\\}',\n\t\t\t\t'/Users/legomushroom/\\\\{repo1,repo2\\\\}',\n\t\t\t];\n\n\t\t\tfor (const glob of globs) {\n\t\t\t\tassert(\n\t\t\t\t\t(isValidGlob(glob) === false),\n\t\t\t\t\t`'${glob}' must be an 'invalid' glob pattern.`,\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t});\n\n\tsuite('getConfigBasedSourceFolders', () => {\n\t\ttestT('gets unambiguous list of folders', async () => {\n\t\t\tconst locator = await createPromptsLocator(\n\t\t\t\t{\n\t\t\t\t\t'.github/prompts': true,\n\t\t\t\t\t'/Users/**/repos/**': true,\n\t\t\t\t\t'gen/text/**': true,\n\t\t\t\t\t'gen/text/nested/*.prompt.md': true,\n\t\t\t\t\t'general/*': true,\n\t\t\t\t\t'/Users/legomushroom/repos/vscode/my-prompts': true,\n\t\t\t\t\t'/Users/legomushroom/repos/vscode/your-prompts/*.md': true,\n\t\t\t\t\t'/Users/legomushroom/repos/prompts/shared-prompts/*': true,\n\t\t\t\t},\n\t\t\t\t[\n\t\t\t\t\t'/Users/legomushroom/repos/vscode',\n\t\t\t\t\t'/Users/legomushroom/repos/prompts',\n\t\t\t\t],\n\t\t\t\t[],\n\t\t\t);\n\n\t\t\tassertOutcome(\n\t\t\t\tlocator.getConfigBasedSourceFolders(PromptsType.prompt),\n\t\t\t\t[\n\t\t\t\t\t'/Users/legomushroom/repos/vscode/.github/prompts',\n\t\t\t\t\t'/Users/legomushroom/repos/prompts/.github/prompts',\n\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested',\n\t\t\t\t\t'/Users/legomushroom/repos/prompts/gen/text/nested',\n\t\t\t\t\t'/Users/legomushroom/repos/vscode/general',\n\t\t\t\t\t'/Users/legomushroom/repos/prompts/general',\n\t\t\t\t\t'/Users/legomushroom/repos/vscode/my-prompts',\n\t\t\t\t\t'/Users/legomushroom/repos/vscode/your-prompts',\n\t\t\t\t\t'/Users/legomushroom/repos/prompts/shared-prompts',\n\t\t\t\t],\n\t\t\t\t'Must find correct prompts.',\n\t\t\t);\n\t\t\tawait locator.disposeAsync();\n\t\t});\n\t});\n});\n\nfunction assertOutcome(actual: readonly URI[], expected: string[], message: string) {\n\tassert.deepStrictEqual(actual.map((uri) => uri.path), expected, message);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { CancellationToken } from '../../../../../../../base/common/cancellation.js';\nimport { match } from '../../../../../../../base/common/glob.js';\nimport { Schemas } from '../../../../../../../base/common/network.js';\nimport { basename, relativePath } from '../../../../../../../base/common/resources.js';\nimport { URI } from '../../../../../../../base/common/uri.js';\nimport { mock } from '../../../../../../../base/test/common/mock.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../../../base/test/common/utils.js';\nimport { IConfigurationOverrides, IConfigurationService } from '../../../../../../../platform/configuration/common/configuration.js';\nimport { IFileService } from '../../../../../../../platform/files/common/files.js';\nimport { FileService } from '../../../../../../../platform/files/common/fileService.js';\nimport { InMemoryFileSystemProvider } from '../../../../../../../platform/files/common/inMemoryFilesystemProvider.js';\nimport { TestInstantiationService } from '../../../../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { ILogService, NullLogService } from '../../../../../../../platform/log/common/log.js';\nimport { IWorkspace, IWorkspaceContextService, IWorkspaceFolder } from '../../../../../../../platform/workspace/common/workspace.js';\nimport { IWorkbenchEnvironmentService } from '../../../../../../services/environment/common/environmentService.js';\nimport { IFileMatch, IFileQuery, ISearchService } from '../../../../../../services/search/common/search.js';\nimport { IUserDataProfileService } from '../../../../../../services/userDataProfile/common/userDataProfile.js';\nimport { PromptsConfig } from '../../../../common/promptSyntax/config/config.js';\nimport { PromptsType } from '../../../../common/promptSyntax/promptTypes.js';\nimport { isValidGlob, PromptFilesLocator } from '../../../../common/promptSyntax/utils/promptFilesLocator.js';\nimport { IMockFolder, MockFilesystem } from '../testUtils/mockFilesystem.js';\nimport { mockService } from './mock.js';\nimport { TestUserDataProfileService } from '../../../../../../test/common/workbenchTestServices.js';\nimport { PromptsStorage } from '../../../../common/promptSyntax/service/promptsService.js';\nimport { runWithFakedTimers } from '../../../../../../../base/test/common/timeTravelScheduler.js';\n\n/**\n * Mocked instance of {@link IConfigurationService}.\n */\nfunction mockConfigService<T>(value: T): IConfigurationService {\n\treturn mockService<IConfigurationService>({\n\t\tgetValue(key?: string | IConfigurationOverrides) {\n\t\t\tassert(\n\t\t\t\ttypeof key === 'string',\n\t\t\t\t`Expected string configuration key, got '${typeof key}'.`,\n\t\t\t);\n\t\t\tif ('explorer.excludeGitIgnore' === key) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tassert(\n\t\t\t\t[PromptsConfig.PROMPT_LOCATIONS_KEY, PromptsConfig.INSTRUCTIONS_LOCATION_KEY, PromptsConfig.MODE_LOCATION_KEY].includes(key),\n\t\t\t\t`Unsupported configuration key '${key}'.`,\n\t\t\t);\n\n\t\t\treturn value;\n\t\t},\n\t});\n}\n\n/**\n * Mocked instance of {@link IWorkspaceContextService}.\n */\nfunction mockWorkspaceService(folders: IWorkspaceFolder[]): IWorkspaceContextService {\n\treturn mockService<IWorkspaceContextService>({\n\t\tgetWorkspace(): IWorkspace {\n\t\t\treturn new class extends mock<IWorkspace>() {\n\t\t\t\toverride folders = folders;\n\t\t\t};\n\t\t},\n\t\tgetWorkspaceFolder(): IWorkspaceFolder | null {\n\t\t\treturn null;\n\t\t}\n\n\t});\n}\n\nfunction testT(name: string, fn: () => Promise<void>): Mocha.Test {\n\treturn test(name, () => runWithFakedTimers({ useFakeTimers: true }, fn));\n}\n\nsuite('PromptFilesLocator', () => {\n\tconst disposables = ensureNoDisposablesAreLeakedInTestSuite();\n\n\t// if (isWindows) {\n\t// \treturn;\n\t// }\n\n\tlet instantiationService: TestInstantiationService;\n\tsetup(async () => {\n\t\tinstantiationService = disposables.add(new TestInstantiationService());\n\t\tinstantiationService.stub(ILogService, new NullLogService());\n\n\t\tconst fileService = disposables.add(instantiationService.createInstance(FileService));\n\t\tconst fileSystemProvider = disposables.add(new InMemoryFileSystemProvider());\n\t\tdisposables.add(fileService.registerProvider(Schemas.file, fileSystemProvider));\n\n\t\tinstantiationService.stub(IFileService, fileService);\n\t});\n\n\t/**\n\t * Create a new instance of {@link PromptFilesLocator} with provided mocked\n\t * values for configuration and workspace services.\n\t */\n\tconst createPromptsLocator = async (configValue: unknown, workspaceFolderPaths: string[], filesystem: IMockFolder[]) => {\n\n\t\tconst mockFs = instantiationService.createInstance(MockFilesystem, filesystem);\n\t\tawait mockFs.mock();\n\n\t\tinstantiationService.stub(IConfigurationService, mockConfigService(configValue));\n\n\t\tconst workspaceFolders = workspaceFolderPaths.map((path, index) => {\n\t\t\tconst uri = URI.file(path);\n\n\t\t\treturn new class extends mock<IWorkspaceFolder>() {\n\t\t\t\toverride uri = uri;\n\t\t\t\toverride name = basename(uri);\n\t\t\t\toverride index = index;\n\t\t\t};\n\t\t});\n\t\tinstantiationService.stub(IWorkspaceContextService, mockWorkspaceService(workspaceFolders));\n\t\tinstantiationService.stub(IWorkbenchEnvironmentService, {} as IWorkbenchEnvironmentService);\n\t\tinstantiationService.stub(IUserDataProfileService, new TestUserDataProfileService());\n\t\tinstantiationService.stub(ISearchService, {\n\t\t\tasync fileSearch(query: IFileQuery) {\n\t\t\t\t// mock the search service\n\t\t\t\tconst fs = instantiationService.get(IFileService);\n\t\t\t\tconst findFilesInLocation = async (location: URI, results: URI[] = []) => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst resolve = await fs.resolve(location);\n\t\t\t\t\t\tif (resolve.isFile) {\n\t\t\t\t\t\t\tresults.push(resolve.resource);\n\t\t\t\t\t\t} else if (resolve.isDirectory && resolve.children) {\n\t\t\t\t\t\t\tfor (const child of resolve.children) {\n\t\t\t\t\t\t\t\tawait findFilesInLocation(child.resource, results);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t}\n\t\t\t\t\treturn results;\n\t\t\t\t};\n\t\t\t\tconst results: IFileMatch[] = [];\n\t\t\t\tfor (const folderQuery of query.folderQueries) {\n\t\t\t\t\tconst allFiles = await findFilesInLocation(folderQuery.folder);\n\t\t\t\t\tfor (const resource of allFiles) {\n\t\t\t\t\t\tconst pathInFolder = relativePath(folderQuery.folder, resource) ?? '';\n\t\t\t\t\t\tif (query.filePattern === undefined || match(query.filePattern, pathInFolder)) {\n\t\t\t\t\t\t\tresults.push({ resource });\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\treturn { results, messages: [] };\n\t\t\t}\n\t\t});\n\n\t\tconst locator = instantiationService.createInstance(PromptFilesLocator);\n\n\t\treturn {\n\t\t\tasync listFiles(type: PromptsType, storage: PromptsStorage, token: CancellationToken): Promise<readonly URI[]> {\n\t\t\t\treturn locator.listFiles(type, storage, token);\n\t\t\t},\n\t\t\tgetConfigBasedSourceFolders(type: PromptsType): readonly URI[] {\n\t\t\t\treturn locator.getConfigBasedSourceFolders(type);\n\t\t\t},\n\t\t\tasync disposeAsync(): Promise<void> {\n\t\t\t\tawait mockFs.delete();\n\t\t\t}\n\t\t};\n\t};\n\n\tsuite('empty workspace', () => {\n\t\tconst EMPTY_WORKSPACE: string[] = [];\n\n\t\tsuite('empty filesystem', () => {\n\t\t\ttestT('no config value', async () => {\n\t\t\t\tconst locator = await createPromptsLocator(undefined, EMPTY_WORKSPACE, []);\n\n\t\t\t\tassertOutcome(\n\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t[],\n\t\t\t\t\t'No prompts must be found.',\n\t\t\t\t);\n\t\t\t\tawait locator.disposeAsync();\n\t\t\t});\n\n\t\t\ttestT('object config value', async () => {\n\t\t\t\tconst locator = await createPromptsLocator({\n\t\t\t\t\t'/Users/legomushroom/repos/prompts/': true,\n\t\t\t\t\t'/tmp/prompts/': false,\n\t\t\t\t}, EMPTY_WORKSPACE, []);\n\n\t\t\t\tassertOutcome(\n\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t[],\n\t\t\t\t\t'No prompts must be found.',\n\t\t\t\t);\n\t\t\t\tawait locator.disposeAsync();\n\t\t\t});\n\n\t\t\ttestT('array config value', async () => {\n\t\t\t\tconst locator = await createPromptsLocator([\n\t\t\t\t\t'relative/path/to/prompts/',\n\t\t\t\t\t'/abs/path',\n\t\t\t\t], EMPTY_WORKSPACE, []);\n\n\t\t\t\tassertOutcome(\n\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t[],\n\t\t\t\t\t'No prompts must be found.',\n\t\t\t\t);\n\t\t\t\tawait locator.disposeAsync();\n\t\t\t});\n\n\t\t\ttestT('null config value', async () => {\n\t\t\t\tconst locator = await createPromptsLocator(null, EMPTY_WORKSPACE, []);\n\n\t\t\t\tassertOutcome(\n\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t[],\n\t\t\t\t\t'No prompts must be found.',\n\t\t\t\t);\n\t\t\t\tawait locator.disposeAsync();\n\t\t\t});\n\n\t\t\ttestT('string config value', async () => {\n\t\t\t\tconst locator = await createPromptsLocator('/etc/hosts/prompts', EMPTY_WORKSPACE, []);\n\n\t\t\t\tassertOutcome(\n\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t[],\n\t\t\t\t\t'No prompts must be found.',\n\t\t\t\t);\n\t\t\t\tawait locator.disposeAsync();\n\t\t\t});\n\t\t});\n\n\t\tsuite('non-empty filesystem', () => {\n\t\t\ttestT('core logic', async () => {\n\t\t\t\tconst locator = await createPromptsLocator(\n\t\t\t\t\t{\n\t\t\t\t\t\t'/Users/legomushroom/repos/prompts': true,\n\t\t\t\t\t\t'/tmp/prompts/': true,\n\t\t\t\t\t\t'/absolute/path/prompts': false,\n\t\t\t\t\t\t'.copilot/prompts': true,\n\t\t\t\t\t},\n\t\t\t\t\tEMPTY_WORKSPACE,\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'test.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'Hello, World!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'refactor-tests.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'some file content goes here',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/tmp/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'translate.to-rust.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'some more random file contents',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/absolute/path/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'some-prompt-file.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'hey hey hey',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t]);\n\n\t\t\t\tassertOutcome(\n\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t[\n\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/test.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/refactor-tests.prompt.md',\n\t\t\t\t\t\t'/tmp/prompts/translate.to-rust.prompt.md'\n\t\t\t\t\t],\n\t\t\t\t\t'Must find correct prompts.',\n\t\t\t\t);\n\t\t\t\tawait locator.disposeAsync();\n\t\t\t});\n\n\t\t\tsuite('absolute', () => {\n\t\t\t\ttestT('wild card', async () => {\n\t\t\t\t\tconst settings = [\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/*.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/*',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/*.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/text/**',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/text/**/*',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/text/**/*.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/text/**/*.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/*',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/*.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/*.prompt.md',\n\t\t\t\t\t];\n\n\t\t\t\t\tfor (const setting of settings) {\n\t\t\t\t\t\tconst locator = await createPromptsLocator(\n\t\t\t\t\t\t\t{ [setting]: true },\n\t\t\t\t\t\t\tEMPTY_WORKSPACE,\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'deps/text',\n\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'my.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'nested',\n\t\t\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'specific.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific2.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, rabot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'readme.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'non prompt file',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tassertOutcome(\n\t\t\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/my.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/specific.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/unspecific2.prompt.md',\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t'Must find correct prompts.',\n\t\t\t\t\t\t);\n\t\t\t\t\t\tawait locator.disposeAsync();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\ttestT(`specific`, async () => {\n\t\t\t\t\tconst testSettings = [\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*specific*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*specific*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*specific*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/specific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/unspecific2.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/unspecific*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/nested/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/nested/unspecific*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/nested/*specific*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*spec*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*spec*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*spec*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/deps/**/*spec*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/text/**/*spec*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/*spec*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/*specific*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/*specific*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/specific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/unspecific*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/specific*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/unspecific*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/unspecific2.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/unspecific1*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/unspecific2*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/*specific*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/specific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/unspecific*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/specific*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/unspecific*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/unspecific2.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/unspecific1*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/unspecific2*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t];\n\n\t\t\t\t\tfor (const settings of testSettings) {\n\t\t\t\t\t\tconst vscodeSettings: Record<string, boolean> = {};\n\t\t\t\t\t\tfor (const setting of settings) {\n\t\t\t\t\t\t\tvscodeSettings[setting] = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst locator = await createPromptsLocator(\n\t\t\t\t\t\t\tvscodeSettings,\n\t\t\t\t\t\t\tEMPTY_WORKSPACE,\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'deps/text',\n\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'my.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'nested',\n\t\t\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'default.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'specific.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific2.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, rawbot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'readme.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'non prompt file',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tassertOutcome(\n\t\t\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/specific.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/unspecific2.prompt.md',\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t'Must find correct prompts.',\n\t\t\t\t\t\t);\n\t\t\t\t\t\tawait locator.disposeAsync();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t});\n\n\tsuite('single-root workspace', () => {\n\t\tsuite('glob pattern', () => {\n\t\t\tsuite('relative', () => {\n\t\t\t\ttestT('wild card', async () => {\n\t\t\t\t\tconst testSettings = [\n\t\t\t\t\t\t'**',\n\t\t\t\t\t\t'**/*.prompt.md',\n\t\t\t\t\t\t'**/*.md',\n\t\t\t\t\t\t'**/*',\n\t\t\t\t\t\t'deps/**',\n\t\t\t\t\t\t'deps/**/*.prompt.md',\n\t\t\t\t\t\t'deps/**/*',\n\t\t\t\t\t\t'deps/**/*.md',\n\t\t\t\t\t\t'**/text/**',\n\t\t\t\t\t\t'**/text/**/*',\n\t\t\t\t\t\t'**/text/**/*.md',\n\t\t\t\t\t\t'**/text/**/*.prompt.md',\n\t\t\t\t\t\t'deps/text/**',\n\t\t\t\t\t\t'deps/text/**/*',\n\t\t\t\t\t\t'deps/text/**/*.md',\n\t\t\t\t\t\t'deps/text/**/*.prompt.md',\n\t\t\t\t\t];\n\n\t\t\t\t\tfor (const setting of testSettings) {\n\t\t\t\t\t\tconst locator = await createPromptsLocator(\n\t\t\t\t\t\t\t{ [setting]: true },\n\t\t\t\t\t\t\t['/Users/legomushroom/repos/vscode'],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'deps/text',\n\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'my.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'nested',\n\t\t\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'specific.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific2.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, rabot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'readme.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'non prompt file',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tassertOutcome(\n\t\t\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/my.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/specific.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/unspecific2.prompt.md',\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t'Must find correct prompts.',\n\t\t\t\t\t\t);\n\t\t\t\t\t\tawait locator.disposeAsync();\n\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\ttestT(`specific`, async () => {\n\t\t\t\t\tconst testSettings = [\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/*specific*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/*specific*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/*specific*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/specific*',\n\t\t\t\t\t\t\t'**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'**/unspecific2.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/specific.prompt.md',\n\t\t\t\t\t\t\t'**/unspecific*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/nested/specific.prompt.md',\n\t\t\t\t\t\t\t'**/nested/unspecific*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/nested/*specific*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/*spec*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/*spec*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/*spec*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/deps/**/*spec*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/text/**/*spec*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'deps/text/nested/*spec*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'deps/text/nested/*specific*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'deps/**/*specific*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'deps/**/specific*',\n\t\t\t\t\t\t\t'deps/**/unspecific*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'deps/**/specific*.md',\n\t\t\t\t\t\t\t'deps/**/unspecific*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'deps/**/specific.prompt.md',\n\t\t\t\t\t\t\t'deps/**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'deps/**/unspecific2.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'deps/**/specific.prompt.md',\n\t\t\t\t\t\t\t'deps/**/unspecific1*.md',\n\t\t\t\t\t\t\t'deps/**/unspecific2*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'deps/text/**/*specific*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'deps/text/**/specific*',\n\t\t\t\t\t\t\t'deps/text/**/unspecific*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'deps/text/**/specific*.md',\n\t\t\t\t\t\t\t'deps/text/**/unspecific*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'deps/text/**/specific.prompt.md',\n\t\t\t\t\t\t\t'deps/text/**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'deps/text/**/unspecific2.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'deps/text/**/specific.prompt.md',\n\t\t\t\t\t\t\t'deps/text/**/unspecific1*.md',\n\t\t\t\t\t\t\t'deps/text/**/unspecific2*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t];\n\n\t\t\t\t\tfor (const settings of testSettings) {\n\t\t\t\t\t\tconst vscodeSettings: Record<string, boolean> = {};\n\t\t\t\t\t\tfor (const setting of settings) {\n\t\t\t\t\t\t\tvscodeSettings[setting] = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst locator = await createPromptsLocator(\n\t\t\t\t\t\t\tvscodeSettings,\n\t\t\t\t\t\t\t['/Users/legomushroom/repos/vscode'],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'deps/text',\n\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'my.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'nested',\n\t\t\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'default.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'specific.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific2.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, rawbot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'readme.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'non prompt file',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tassertOutcome(\n\t\t\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/specific.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/unspecific2.prompt.md',\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t'Must find correct prompts.',\n\t\t\t\t\t\t);\n\t\t\t\t\t\tawait locator.disposeAsync();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tsuite('absolute', () => {\n\t\t\t\ttestT('wild card', async () => {\n\t\t\t\t\tconst settings = [\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/*.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/*',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/*.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/text/**',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/text/**/*',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/text/**/*.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/text/**/*.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/*',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/*.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/*.prompt.md',\n\t\t\t\t\t];\n\n\t\t\t\t\tfor (const setting of settings) {\n\n\t\t\t\t\t\tconst locator = await createPromptsLocator(\n\t\t\t\t\t\t\t{ [setting]: true },\n\t\t\t\t\t\t\t['/Users/legomushroom/repos/vscode'],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'deps/text',\n\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'my.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'nested',\n\t\t\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'specific.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific2.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, rabot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'readme.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'non prompt file',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tassertOutcome(\n\t\t\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/my.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/specific.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/unspecific2.prompt.md',\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t'Must find correct prompts.',\n\t\t\t\t\t\t);\n\t\t\t\t\t\tawait locator.disposeAsync();\n\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\ttestT(`specific`, async () => {\n\t\t\t\t\tconst testSettings = [\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*specific*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*specific*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*specific*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/specific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/unspecific2.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/unspecific*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/nested/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/nested/unspecific*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/nested/*specific*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*spec*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*spec*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/*spec*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/deps/**/*spec*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/**/text/**/*spec*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/*spec*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/*specific*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/*specific*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/specific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/unspecific*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/specific*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/unspecific*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/unspecific2.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/unspecific1*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/**/unspecific2*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/*specific*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/specific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/unspecific*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/specific*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/unspecific*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/unspecific2.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/unspecific1*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/**/unspecific2*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t];\n\n\t\t\t\t\tfor (const settings of testSettings) {\n\t\t\t\t\t\tconst vscodeSettings: Record<string, boolean> = {};\n\t\t\t\t\t\tfor (const setting of settings) {\n\t\t\t\t\t\t\tvscodeSettings[setting] = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst locator = await createPromptsLocator(\n\t\t\t\t\t\t\tvscodeSettings,\n\t\t\t\t\t\t\t['/Users/legomushroom/repos/vscode'],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'deps/text',\n\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'my.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'nested',\n\t\t\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'default.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'specific.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific2.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, rawbot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'readme.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'non prompt file',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tassertOutcome(\n\t\t\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/specific.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/deps/text/nested/unspecific2.prompt.md',\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t'Must find correct prompts.',\n\t\t\t\t\t\t);\n\t\t\t\t\t\tawait locator.disposeAsync();\n\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t});\n\n\ttestT('core logic', async () => {\n\t\tconst locator = await createPromptsLocator(\n\t\t\t{\n\t\t\t\t'/Users/legomushroom/repos/prompts': true,\n\t\t\t\t'/tmp/prompts/': true,\n\t\t\t\t'/absolute/path/prompts': false,\n\t\t\t\t'.copilot/prompts': true,\n\t\t\t},\n\t\t\t[\n\t\t\t\t'/Users/legomushroom/repos/vscode',\n\t\t\t],\n\t\t\t[\n\t\t\t\t{\n\t\t\t\t\tname: '/Users/legomushroom/repos/prompts',\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'test.prompt.md',\n\t\t\t\t\t\t\tcontents: 'Hello, World!',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'refactor-tests.prompt.md',\n\t\t\t\t\t\t\tcontents: 'some file content goes here',\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '/tmp/prompts',\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'translate.to-rust.prompt.md',\n\t\t\t\t\t\t\tcontents: 'some more random file contents',\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '/absolute/path/prompts',\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'some-prompt-file.prompt.md',\n\t\t\t\t\t\t\tcontents: 'hey hey hey',\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '/Users/legomushroom/repos/vscode',\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '.copilot/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'default.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '.github/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'my.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t]);\n\n\t\tassertOutcome(\n\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t[\n\t\t\t\t'/Users/legomushroom/repos/vscode/.github/prompts/my.prompt.md',\n\t\t\t\t'/Users/legomushroom/repos/prompts/test.prompt.md',\n\t\t\t\t'/Users/legomushroom/repos/prompts/refactor-tests.prompt.md',\n\t\t\t\t'/tmp/prompts/translate.to-rust.prompt.md',\n\t\t\t\t'/Users/legomushroom/repos/vscode/.copilot/prompts/default.prompt.md',\n\t\t\t],\n\t\t\t'Must find correct prompts.',\n\t\t);\n\t\tawait locator.disposeAsync();\n\t});\n\n\ttestT('with disabled `.github/prompts` location', async () => {\n\t\tconst locator = await createPromptsLocator(\n\t\t\t{\n\t\t\t\t'/Users/legomushroom/repos/prompts': true,\n\t\t\t\t'/tmp/prompts/': true,\n\t\t\t\t'/absolute/path/prompts': false,\n\t\t\t\t'.copilot/prompts': true,\n\t\t\t\t'.github/prompts': false,\n\t\t\t},\n\t\t\t[\n\t\t\t\t'/Users/legomushroom/repos/vscode',\n\t\t\t],\n\t\t\t[\n\t\t\t\t{\n\t\t\t\t\tname: '/Users/legomushroom/repos/prompts',\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'test.prompt.md',\n\t\t\t\t\t\t\tcontents: 'Hello, World!',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'refactor-tests.prompt.md',\n\t\t\t\t\t\t\tcontents: 'some file content goes here',\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '/tmp/prompts',\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'translate.to-rust.prompt.md',\n\t\t\t\t\t\t\tcontents: 'some more random file contents',\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '/absolute/path/prompts',\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'some-prompt-file.prompt.md',\n\t\t\t\t\t\t\tcontents: 'hey hey hey',\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '/Users/legomushroom/repos/vscode',\n\t\t\t\t\tchildren: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '.copilot/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'default.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '.github/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'my.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'your.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t]);\n\n\t\tassertOutcome(\n\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t[\n\t\t\t\t'/Users/legomushroom/repos/prompts/test.prompt.md',\n\t\t\t\t'/Users/legomushroom/repos/prompts/refactor-tests.prompt.md',\n\t\t\t\t'/tmp/prompts/translate.to-rust.prompt.md',\n\t\t\t\t'/Users/legomushroom/repos/vscode/.copilot/prompts/default.prompt.md',\n\t\t\t],\n\t\t\t'Must find correct prompts.',\n\t\t);\n\t\tawait locator.disposeAsync();\n\t});\n\n\tsuite('multi-root workspace', () => {\n\t\tsuite('core logic', () => {\n\t\t\ttestT('without top-level `.github` folder', async () => {\n\t\t\t\tconst locator = await createPromptsLocator(\n\t\t\t\t\t{\n\t\t\t\t\t\t'/Users/legomushroom/repos/prompts': true,\n\t\t\t\t\t\t'/tmp/prompts/': true,\n\t\t\t\t\t\t'/absolute/path/prompts': false,\n\t\t\t\t\t\t'.copilot/prompts': false,\n\t\t\t\t\t},\n\t\t\t\t\t[\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t'/Users/legomushroom/repos/node',\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'test.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'Hello, World!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'refactor-tests.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'some file content goes here',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/tmp/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'translate.to-rust.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'some more random file contents',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/absolute/path/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'some-prompt-file.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'hey hey hey',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '.copilot/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'prompt1.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '.github/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'default.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/node',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '.copilot/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'prompt5.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '.github/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'refactor-static-classes.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\tcontents: 'file contents',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t// note! this folder is not part of the workspace, so prompt files are `ignored`\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/.github/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'prompt-name.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'name-of-the-prompt.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'oh hi, raw bot!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t]);\n\n\t\t\t\tassertOutcome(\n\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t[\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/.github/prompts/default.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/node/.github/prompts/refactor-static-classes.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/test.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/refactor-tests.prompt.md',\n\t\t\t\t\t\t'/tmp/prompts/translate.to-rust.prompt.md',\n\t\t\t\t\t],\n\t\t\t\t\t'Must find correct prompts.',\n\t\t\t\t);\n\t\t\t\tawait locator.disposeAsync();\n\t\t\t});\n\n\t\t\ttestT('with top-level `.github` folder', async () => {\n\t\t\t\tconst locator = await createPromptsLocator(\n\t\t\t\t\t{\n\t\t\t\t\t\t'/Users/legomushroom/repos/prompts': true,\n\t\t\t\t\t\t'/tmp/prompts/': true,\n\t\t\t\t\t\t'/absolute/path/prompts': false,\n\t\t\t\t\t\t'.copilot/prompts': false,\n\t\t\t\t\t},\n\t\t\t\t\t[\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t'/Users/legomushroom/repos/node',\n\t\t\t\t\t\t'/var/shared/prompts',\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'test.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'Hello, World!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'refactor-tests.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'some file content goes here',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/tmp/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'translate.to-rust.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'some more random file contents',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/absolute/path/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'some-prompt-file.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'hey hey hey',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '.copilot/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'prompt1.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '.github/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'default.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/node',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '.copilot/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'prompt5.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '.github/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'refactor-static-classes.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\tcontents: 'file contents',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t// note! this folder is part of the workspace, so prompt files are `included`\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/var/shared/prompts/.github/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'prompt-name.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'name-of-the-prompt.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'oh hi, raw bot!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t]);\n\n\t\t\t\tassertOutcome(\n\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t[\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/.github/prompts/default.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/node/.github/prompts/refactor-static-classes.prompt.md',\n\t\t\t\t\t\t'/var/shared/prompts/.github/prompts/prompt-name.prompt.md',\n\t\t\t\t\t\t'/var/shared/prompts/.github/prompts/name-of-the-prompt.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/test.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/refactor-tests.prompt.md',\n\t\t\t\t\t\t'/tmp/prompts/translate.to-rust.prompt.md',\n\t\t\t\t\t],\n\t\t\t\t\t'Must find correct prompts.',\n\t\t\t\t);\n\t\t\t\tawait locator.disposeAsync();\n\t\t\t});\n\n\t\t\ttestT('with disabled `.github/prompts` location', async () => {\n\t\t\t\tconst locator = await createPromptsLocator(\n\t\t\t\t\t{\n\t\t\t\t\t\t'/Users/legomushroom/repos/prompts': true,\n\t\t\t\t\t\t'/tmp/prompts/': true,\n\t\t\t\t\t\t'/absolute/path/prompts': false,\n\t\t\t\t\t\t'.copilot/prompts': false,\n\t\t\t\t\t\t'.github/prompts': false,\n\t\t\t\t\t},\n\t\t\t\t\t[\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t'/Users/legomushroom/repos/node',\n\t\t\t\t\t\t'/var/shared/prompts',\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'test.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'Hello, World!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'refactor-tests.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'some file content goes here',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/tmp/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'translate.to-rust.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'some more random file contents',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/absolute/path/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'some-prompt-file.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'hey hey hey',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '.copilot/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'prompt1.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '.github/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'default.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/node',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '.copilot/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'prompt5.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '.github/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'refactor-static-classes.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\tcontents: 'file contents',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t// note! this folder is part of the workspace, so prompt files are `included`\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/var/shared/prompts/.github/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'prompt-name.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'name-of-the-prompt.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'oh hi, raw bot!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t]);\n\n\t\t\t\tassertOutcome(\n\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t[\n\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/test.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/refactor-tests.prompt.md',\n\t\t\t\t\t\t'/tmp/prompts/translate.to-rust.prompt.md',\n\t\t\t\t\t],\n\t\t\t\t\t'Must find correct prompts.',\n\t\t\t\t);\n\t\t\t\tawait locator.disposeAsync();\n\t\t\t});\n\n\t\t\ttestT('mixed', async () => {\n\t\t\t\tconst locator = await createPromptsLocator(\n\t\t\t\t\t{\n\t\t\t\t\t\t'/Users/legomushroom/repos/**/*test*': true,\n\t\t\t\t\t\t'.copilot/prompts': false,\n\t\t\t\t\t\t'.github/prompts': true,\n\t\t\t\t\t\t'/absolute/path/prompts/some-prompt-file.prompt.md': true,\n\t\t\t\t\t},\n\t\t\t\t\t[\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t'/Users/legomushroom/repos/node',\n\t\t\t\t\t\t'/var/shared/prompts',\n\t\t\t\t\t],\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'test.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'Hello, World!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'refactor-tests.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'some file content goes here',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'elf.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'haalo!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/tmp/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'translate.to-rust.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'some more random file contents',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/absolute/path/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'some-prompt-file.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'hey hey hey',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '.copilot/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'prompt1.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '.github/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'default.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/node',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '.copilot/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'prompt5.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '.github/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'refactor-static-classes.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\tcontents: 'file contents',\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t// note! this folder is part of the workspace, so prompt files are `included`\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: '/var/shared/prompts/.github/prompts',\n\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'prompt-name.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: 'name-of-the-prompt.prompt.md',\n\t\t\t\t\t\t\t\t\tcontents: 'oh hi, raw bot!',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t]);\n\n\t\t\t\tassertOutcome(\n\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t[\n\t\t\t\t\t\t// all of these are due to the `.github/prompts` setting\n\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/.github/prompts/default.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/node/.github/prompts/refactor-static-classes.prompt.md',\n\t\t\t\t\t\t'/var/shared/prompts/.github/prompts/prompt-name.prompt.md',\n\t\t\t\t\t\t'/var/shared/prompts/.github/prompts/name-of-the-prompt.prompt.md',\n\t\t\t\t\t\t// all of these are due to the `/Users/legomushroom/repos/**/*test*` setting\n\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/test.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/refactor-tests.prompt.md',\n\t\t\t\t\t\t// this one is due to the specific `/absolute/path/prompts/some-prompt-file.prompt.md` setting\n\t\t\t\t\t\t'/absolute/path/prompts/some-prompt-file.prompt.md',\n\t\t\t\t\t],\n\t\t\t\t\t'Must find correct prompts.',\n\t\t\t\t);\n\t\t\t\tawait locator.disposeAsync();\n\t\t\t});\n\t\t});\n\n\t\tsuite('glob pattern', () => {\n\t\t\tsuite('relative', () => {\n\t\t\t\ttestT('wild card', async () => {\n\t\t\t\t\tconst testSettings = [\n\t\t\t\t\t\t'**',\n\t\t\t\t\t\t'**/*.prompt.md',\n\t\t\t\t\t\t'**/*.md',\n\t\t\t\t\t\t'**/*',\n\t\t\t\t\t\t'gen*/**',\n\t\t\t\t\t\t'gen*/**/*.prompt.md',\n\t\t\t\t\t\t'gen*/**/*',\n\t\t\t\t\t\t'gen*/**/*.md',\n\t\t\t\t\t\t'**/gen*/**',\n\t\t\t\t\t\t'**/gen*/**/*',\n\t\t\t\t\t\t'**/gen*/**/*.md',\n\t\t\t\t\t\t'**/gen*/**/*.prompt.md',\n\t\t\t\t\t\t'{generic,general,gen}/**',\n\t\t\t\t\t\t'{generic,general,gen}/**/*.prompt.md',\n\t\t\t\t\t\t'{generic,general,gen}/**/*',\n\t\t\t\t\t\t'{generic,general,gen}/**/*.md',\n\t\t\t\t\t\t'**/{generic,general,gen}/**',\n\t\t\t\t\t\t'**/{generic,general,gen}/**/*',\n\t\t\t\t\t\t'**/{generic,general,gen}/**/*.md',\n\t\t\t\t\t\t'**/{generic,general,gen}/**/*.prompt.md',\n\t\t\t\t\t];\n\n\t\t\t\t\tfor (const setting of testSettings) {\n\n\t\t\t\t\t\tconst locator = await createPromptsLocator(\n\t\t\t\t\t\t\t{ [setting]: true },\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/prompts',\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'gen/text',\n\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'my.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'nested',\n\t\t\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'specific.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific2.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, rabot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'readme.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'non prompt file',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'general',\n\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'common.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'uncommon-10.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'license.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'non prompt file',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tassertOutcome(\n\t\t\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/my.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested/specific.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested/unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested/unspecific2.prompt.md',\n\t\t\t\t\t\t\t\t// -\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/general/common.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/general/uncommon-10.prompt.md',\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t'Must find correct prompts.',\n\t\t\t\t\t\t);\n\t\t\t\t\t\tawait locator.disposeAsync();\n\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\ttestT(`specific`, async () => {\n\t\t\t\t\tconst testSettings = [\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/my.prompt.md',\n\t\t\t\t\t\t\t'**/*specific*',\n\t\t\t\t\t\t\t'**/*common*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/my.prompt.md',\n\t\t\t\t\t\t\t'**/*specific*.prompt.md',\n\t\t\t\t\t\t\t'**/*common*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/my*.md',\n\t\t\t\t\t\t\t'**/*specific*.md',\n\t\t\t\t\t\t\t'**/*common*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/my*.md',\n\t\t\t\t\t\t\t'**/specific*',\n\t\t\t\t\t\t\t'**/unspecific*',\n\t\t\t\t\t\t\t'**/common*',\n\t\t\t\t\t\t\t'**/uncommon*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'**/my.prompt.md',\n\t\t\t\t\t\t\t'**/specific.prompt.md',\n\t\t\t\t\t\t\t'**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'**/unspecific2.prompt.md',\n\t\t\t\t\t\t\t'**/common.prompt.md',\n\t\t\t\t\t\t\t'**/uncommon-10.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'gen*/**/my.prompt.md',\n\t\t\t\t\t\t\t'gen*/**/*specific*',\n\t\t\t\t\t\t\t'gen*/**/*common*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'gen*/**/my.prompt.md',\n\t\t\t\t\t\t\t'gen*/**/*specific*.prompt.md',\n\t\t\t\t\t\t\t'gen*/**/*common*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'gen*/**/my*.md',\n\t\t\t\t\t\t\t'gen*/**/*specific*.md',\n\t\t\t\t\t\t\t'gen*/**/*common*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'gen*/**/my*.md',\n\t\t\t\t\t\t\t'gen*/**/specific*',\n\t\t\t\t\t\t\t'gen*/**/unspecific*',\n\t\t\t\t\t\t\t'gen*/**/common*',\n\t\t\t\t\t\t\t'gen*/**/uncommon*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'gen*/**/my.prompt.md',\n\t\t\t\t\t\t\t'gen*/**/specific.prompt.md',\n\t\t\t\t\t\t\t'gen*/**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'gen*/**/unspecific2.prompt.md',\n\t\t\t\t\t\t\t'gen*/**/common.prompt.md',\n\t\t\t\t\t\t\t'gen*/**/uncommon-10.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'gen/text/my.prompt.md',\n\t\t\t\t\t\t\t'gen/text/nested/specific.prompt.md',\n\t\t\t\t\t\t\t'gen/text/nested/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'gen/text/nested/unspecific2.prompt.md',\n\t\t\t\t\t\t\t'general/common.prompt.md',\n\t\t\t\t\t\t\t'general/uncommon-10.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'gen/text/my.prompt.md',\n\t\t\t\t\t\t\t'gen/text/nested/*specific*',\n\t\t\t\t\t\t\t'general/*common*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'gen/text/my.prompt.md',\n\t\t\t\t\t\t\t'gen/text/**/specific.prompt.md',\n\t\t\t\t\t\t\t'gen/text/**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'gen/text/**/unspecific2.prompt.md',\n\t\t\t\t\t\t\t'general/*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'{gen,general}/**/my.prompt.md',\n\t\t\t\t\t\t\t'{gen,general}/**/*specific*',\n\t\t\t\t\t\t\t'{gen,general}/**/*common*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'{gen,general}/**/my.prompt.md',\n\t\t\t\t\t\t\t'{gen,general}/**/*specific*.prompt.md',\n\t\t\t\t\t\t\t'{gen,general}/**/*common*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'{gen,general}/**/my*.md',\n\t\t\t\t\t\t\t'{gen,general}/**/*specific*.md',\n\t\t\t\t\t\t\t'{gen,general}/**/*common*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'{gen,general}/**/my*.md',\n\t\t\t\t\t\t\t'{gen,general}/**/specific*',\n\t\t\t\t\t\t\t'{gen,general}/**/unspecific*',\n\t\t\t\t\t\t\t'{gen,general}/**/common*',\n\t\t\t\t\t\t\t'{gen,general}/**/uncommon*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'{gen,general}/**/my.prompt.md',\n\t\t\t\t\t\t\t'{gen,general}/**/specific.prompt.md',\n\t\t\t\t\t\t\t'{gen,general}/**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'{gen,general}/**/unspecific2.prompt.md',\n\t\t\t\t\t\t\t'{gen,general}/**/common.prompt.md',\n\t\t\t\t\t\t\t'{gen,general}/**/uncommon-10.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t];\n\n\t\t\t\t\tfor (const settings of testSettings) {\n\t\t\t\t\t\tconst vscodeSettings: Record<string, boolean> = {};\n\t\t\t\t\t\tfor (const setting of settings) {\n\t\t\t\t\t\t\tvscodeSettings[setting] = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst locator = await createPromptsLocator(\n\t\t\t\t\t\t\tvscodeSettings,\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/prompts',\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'gen/text',\n\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'my.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'nested',\n\t\t\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'specific.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific2.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, rabot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'readme.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'non prompt file',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'general',\n\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'common.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'uncommon-10.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'license.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'non prompt file',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tassertOutcome(\n\t\t\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/my.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested/specific.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested/unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested/unspecific2.prompt.md',\n\t\t\t\t\t\t\t\t// -\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/general/common.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/general/uncommon-10.prompt.md',\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t'Must find correct prompts.',\n\t\t\t\t\t\t);\n\t\t\t\t\t\tawait locator.disposeAsync();\n\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tsuite('absolute', () => {\n\t\t\t\ttestT('wild card', async () => {\n\t\t\t\t\tconst testSettings = [\n\t\t\t\t\t\t'/Users/legomushroom/repos/**',\n\t\t\t\t\t\t'/Users/legomushroom/repos/**/*.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/**/*.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/**/*',\n\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**',\n\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/*.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/*',\n\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/*.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**',\n\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/*',\n\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/*.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/*.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/*.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/*.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/*',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/gen*/**',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/gen*/**/*.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/gen*/**/*',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/gen*/**/*.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/gen*/**',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/gen*/**/*',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/gen*/**/*.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/gen*/**/*.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/{general,gen}/**',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/{general,gen}/**/*.prompt.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/{general,gen}/**/*',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/{general,gen}/**/*.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/{general,gen}/**',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/{general,gen}/**/*',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/{general,gen}/**/*.md',\n\t\t\t\t\t\t'/Users/legomushroom/repos/{vscode,prompts}/**/{general,gen}/**/*.prompt.md',\n\t\t\t\t\t];\n\n\t\t\t\t\tfor (const setting of testSettings) {\n\t\t\t\t\t\tconst locator = await createPromptsLocator(\n\t\t\t\t\t\t\t{ [setting]: true },\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/prompts',\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'gen/text',\n\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'my.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'nested',\n\t\t\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'specific.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific2.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, rabot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'readme.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'non prompt file',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'general',\n\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'common.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'uncommon-10.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'license.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'non prompt file',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tassertOutcome(\n\t\t\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/my.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested/specific.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested/unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested/unspecific2.prompt.md',\n\t\t\t\t\t\t\t\t// -\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/general/common.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/general/uncommon-10.prompt.md',\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t'Must find correct prompts.',\n\t\t\t\t\t\t);\n\t\t\t\t\t\tawait locator.disposeAsync();\n\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\ttestT(`specific`, async () => {\n\t\t\t\t\tconst testSettings = [\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/my.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/*specific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/*common*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/my.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/*specific*.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/*common*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/my*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/*specific*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/*common*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/my*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/specific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/unspecific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/common*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/uncommon*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/my.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/unspecific2.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/common.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/uncommon-10.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/my.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/*specific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/*common*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/my.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/*specific*.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/*common*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/my*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/*specific*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/*common*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/my*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/specific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/unspecific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/common*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/uncommon*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/my.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/unspecific2.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/common.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/gen*/**/uncommon-10.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/my.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested/unspecific2.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/general/common.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/general/uncommon-10.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/my.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested/*specific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/general/*common*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/my.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/**/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/**/unspecific2.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/general/*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/my.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/*specific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/*common*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/my.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/*specific*.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/*common*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/my*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/*specific*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/*common*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/my*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/specific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/unspecific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/common*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/uncommon*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/my.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/unspecific2.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/common.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/**/{gen,general}/**/uncommon-10.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/my.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/*specific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/*common*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/my.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/*specific*.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/*common*.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/my*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/*specific*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/*common*.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/my*.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/specific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/unspecific*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/common*',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/uncommon*',\n\t\t\t\t\t\t],\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/my.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/specific.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/unspecific1.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/unspecific2.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/common.prompt.md',\n\t\t\t\t\t\t\t'/Users/legomushroom/repos/{prompts,vscode,copilot}/{gen,general}/**/uncommon-10.prompt.md',\n\t\t\t\t\t\t],\n\t\t\t\t\t];\n\n\t\t\t\t\tfor (const settings of testSettings) {\n\t\t\t\t\t\tconst vscodeSettings: Record<string, boolean> = {};\n\t\t\t\t\t\tfor (const setting of settings) {\n\t\t\t\t\t\t\tvscodeSettings[setting] = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst locator = await createPromptsLocator(\n\t\t\t\t\t\t\tvscodeSettings,\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/prompts',\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/vscode',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'gen/text',\n\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'my.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'nested',\n\t\t\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'specific.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'unspecific2.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, rabot!',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'readme.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'non prompt file',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: '/Users/legomushroom/repos/prompts',\n\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tname: 'general',\n\t\t\t\t\t\t\t\t\t\t\tchildren: [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'common.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, bot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'uncommon-10.prompt.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'oh hi, robot!',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'license.md',\n\t\t\t\t\t\t\t\t\t\t\t\t\tcontents: 'non prompt file',\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tassertOutcome(\n\t\t\t\t\t\t\tawait locator.listFiles(PromptsType.prompt, PromptsStorage.local, CancellationToken.None),\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/my.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested/specific.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested/unspecific1.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested/unspecific2.prompt.md',\n\t\t\t\t\t\t\t\t// -\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/general/common.prompt.md',\n\t\t\t\t\t\t\t\t'/Users/legomushroom/repos/prompts/general/uncommon-10.prompt.md',\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t'Must find correct prompts.',\n\t\t\t\t\t\t);\n\t\t\t\t\t\tawait locator.disposeAsync();\n\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t});\n\n\tsuite('isValidGlob', () => {\n\t\ttestT('valid patterns', async () => {\n\t\t\tconst globs = [\n\t\t\t\t'**',\n\t\t\t\t'\\*',\n\t\t\t\t'\\**',\n\t\t\t\t'**/*',\n\t\t\t\t'**/*.prompt.md',\n\t\t\t\t'/Users/legomushroom/**/*.prompt.md',\n\t\t\t\t'/Users/legomushroom/*.prompt.md',\n\t\t\t\t'/Users/legomushroom/*',\n\t\t\t\t'/Users/legomushroom/repos/{repo1,test}',\n\t\t\t\t'/Users/legomushroom/repos/{repo1,test}/**',\n\t\t\t\t'/Users/legomushroom/repos/{repo1,test}/*',\n\t\t\t\t'/Users/legomushroom/**/{repo1,test}/**',\n\t\t\t\t'/Users/legomushroom/**/{repo1,test}',\n\t\t\t\t'/Users/legomushroom/**/{repo1,test}/*',\n\t\t\t\t'/Users/legomushroom/**/repo[1,2,3]',\n\t\t\t\t'/Users/legomushroom/**/repo[1,2,3]/**',\n\t\t\t\t'/Users/legomushroom/**/repo[1,2,3]/*',\n\t\t\t\t'/Users/legomushroom/**/repo[1,2,3]/**/*.prompt.md',\n\t\t\t\t'repo[1,2,3]/**/*.prompt.md',\n\t\t\t\t'repo[[1,2,3]/**/*.prompt.md',\n\t\t\t\t'{repo1,test}/*.prompt.md',\n\t\t\t\t'{repo1,test}/*',\n\t\t\t\t'/{repo1,test}/*',\n\t\t\t\t'/{repo1,test}}/*',\n\t\t\t];\n\n\t\t\tfor (const glob of globs) {\n\t\t\t\tassert(\n\t\t\t\t\t(isValidGlob(glob) === true),\n\t\t\t\t\t`'${glob}' must be a 'valid' glob pattern.`,\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\n\t\ttestT('invalid patterns', async () => {\n\t\t\tconst globs = [\n\t\t\t\t'.',\n\t\t\t\t'\\\\*',\n\t\t\t\t'\\\\?',\n\t\t\t\t'\\\\*\\\\?\\\\*',\n\t\t\t\t'repo[1,2,3',\n\t\t\t\t'repo1,2,3]',\n\t\t\t\t'repo\\\\[1,2,3]',\n\t\t\t\t'repo[1,2,3\\\\]',\n\t\t\t\t'repo\\\\[1,2,3\\\\]',\n\t\t\t\t'{repo1,repo2',\n\t\t\t\t'repo1,repo2}',\n\t\t\t\t'\\\\{repo1,repo2}',\n\t\t\t\t'{repo1,repo2\\\\}',\n\t\t\t\t'\\\\{repo1,repo2\\\\}',\n\t\t\t\t'/Users/legomushroom/repos',\n\t\t\t\t'/Users/legomushroom/repo[1,2,3',\n\t\t\t\t'/Users/legomushroom/repo1,2,3]',\n\t\t\t\t'/Users/legomushroom/repo\\\\[1,2,3]',\n\t\t\t\t'/Users/legomushroom/repo[1,2,3\\\\]',\n\t\t\t\t'/Users/legomushroom/repo\\\\[1,2,3\\\\]',\n\t\t\t\t'/Users/legomushroom/{repo1,repo2',\n\t\t\t\t'/Users/legomushroom/repo1,repo2}',\n\t\t\t\t'/Users/legomushroom/\\\\{repo1,repo2}',\n\t\t\t\t'/Users/legomushroom/{repo1,repo2\\\\}',\n\t\t\t\t'/Users/legomushroom/\\\\{repo1,repo2\\\\}',\n\t\t\t];\n\n\t\t\tfor (const glob of globs) {\n\t\t\t\tassert(\n\t\t\t\t\t(isValidGlob(glob) === false),\n\t\t\t\t\t`'${glob}' must be an 'invalid' glob pattern.`,\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t});\n\n\tsuite('getConfigBasedSourceFolders', () => {\n\t\ttestT('gets unambiguous list of folders', async () => {\n\t\t\tconst locator = await createPromptsLocator(\n\t\t\t\t{\n\t\t\t\t\t'.github/prompts': true,\n\t\t\t\t\t'/Users/**/repos/**': true,\n\t\t\t\t\t'gen/text/**': true,\n\t\t\t\t\t'gen/text/nested/*.prompt.md': true,\n\t\t\t\t\t'general/*': true,\n\t\t\t\t\t'/Users/legomushroom/repos/vscode/my-prompts': true,\n\t\t\t\t\t'/Users/legomushroom/repos/vscode/your-prompts/*.md': true,\n\t\t\t\t\t'/Users/legomushroom/repos/prompts/shared-prompts/*': true,\n\t\t\t\t},\n\t\t\t\t[\n\t\t\t\t\t'/Users/legomushroom/repos/vscode',\n\t\t\t\t\t'/Users/legomushroom/repos/prompts',\n\t\t\t\t],\n\t\t\t\t[],\n\t\t\t);\n\n\t\t\tassertOutcome(\n\t\t\t\tlocator.getConfigBasedSourceFolders(PromptsType.prompt),\n\t\t\t\t[\n\t\t\t\t\t'/Users/legomushroom/repos/vscode/.github/prompts',\n\t\t\t\t\t'/Users/legomushroom/repos/prompts/.github/prompts',\n\t\t\t\t\t'/Users/legomushroom/repos/vscode/gen/text/nested',\n\t\t\t\t\t'/Users/legomushroom/repos/prompts/gen/text/nested',\n\t\t\t\t\t'/Users/legomushroom/repos/vscode/general',\n\t\t\t\t\t'/Users/legomushroom/repos/prompts/general',\n\t\t\t\t\t'/Users/legomushroom/repos/vscode/my-prompts',\n\t\t\t\t\t'/Users/legomushroom/repos/vscode/your-prompts',\n\t\t\t\t\t'/Users/legomushroom/repos/prompts/shared-prompts',\n\t\t\t\t],\n\t\t\t\t'Must find correct prompts.',\n\t\t\t);\n\t\t\tawait locator.disposeAsync();\n\t\t});\n\t});\n});\n\nfunction assertOutcome(actual: readonly URI[], expected: string[], message: string) {\n\tassert.deepStrictEqual(actual.map((uri) => uri.path), expected, message);\n}\n"]}