{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/chat/test/common/promptSyntax/service/newPromptsParser.test.ts","vs/workbench/contrib/chat/test/common/promptSyntax/service/newPromptsParser.test.ts"],"names":[],"mappings":"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","file":"newPromptsParser.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\n\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../../../base/test/common/utils.js';\nimport { Range } from '../../../../../../../editor/common/core/range.js';\nimport { URI } from '../../../../../../../base/common/uri.js';\nimport { PromptFileParser } from '../../../../common/promptSyntax/promptFileParser.js';\n\nsuite('NewPromptsParser', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('agent', async () => {\n\t\tconst uri = URI.parse('file:///test/test.agent.md');\n\t\tconst content = [\n\t\t\t/* 01 */'---',\n\t\t\t/* 02 */`description: \"Agent test\"`,\n\t\t\t/* 03 */'model: GPT 4.1',\n\t\t\t/* 04 */`tools: ['tool1', 'tool2']`,\n\t\t\t/* 05 */'---',\n\t\t\t/* 06 */'This is an agent test.',\n\t\t\t/* 07 */'Here is a #tool:tool1 variable (and one with closing parenthesis after: #tool:tool-2) and a #file:./reference1.md as well as a [reference](./reference2.md).',\n\t\t].join('\\n');\n\t\tconst result = new PromptFileParser().parse(uri, content);\n\t\tassert.deepEqual(result.uri, uri);\n\t\tassert.ok(result.header);\n\t\tassert.ok(result.body);\n\t\tassert.deepEqual(result.header.range, { startLineNumber: 2, startColumn: 1, endLineNumber: 5, endColumn: 1 });\n\t\tassert.deepEqual(result.header.attributes, [\n\t\t\t{ key: 'description', range: new Range(2, 1, 2, 26), value: { type: 'string', value: 'Agent test', range: new Range(2, 14, 2, 26) } },\n\t\t\t{ key: 'model', range: new Range(3, 1, 3, 15), value: { type: 'string', value: 'GPT 4.1', range: new Range(3, 8, 3, 15) } },\n\t\t\t{\n\t\t\t\tkey: 'tools', range: new Range(4, 1, 4, 26), value: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\titems: [{ type: 'string', value: 'tool1', range: new Range(4, 9, 4, 16) }, { type: 'string', value: 'tool2', range: new Range(4, 18, 4, 25) }],\n\t\t\t\t\trange: new Range(4, 8, 4, 26)\n\t\t\t\t}\n\t\t\t},\n\t\t]);\n\t\tassert.deepEqual(result.body.range, { startLineNumber: 6, startColumn: 1, endLineNumber: 8, endColumn: 1 });\n\t\tassert.equal(result.body.offset, 75);\n\t\tassert.equal(result.body.getContent(), 'This is an agent test.\\nHere is a #tool:tool1 variable (and one with closing parenthesis after: #tool:tool-2) and a #file:./reference1.md as well as a [reference](./reference2.md).');\n\n\t\tassert.deepEqual(result.body.fileReferences, [\n\t\t\t{ range: new Range(7, 99, 7, 114), content: './reference1.md', isMarkdownLink: false },\n\t\t\t{ range: new Range(7, 140, 7, 155), content: './reference2.md', isMarkdownLink: true }\n\t\t]);\n\t\tassert.deepEqual(result.body.variableReferences, [\n\t\t\t{ range: new Range(7, 17, 7, 22), name: 'tool1', offset: 108 },\n\t\t\t{ range: new Range(7, 79, 7, 85), name: 'tool-2', offset: 170 }\n\t\t]);\n\t\tassert.deepEqual(result.header.description, 'Agent test');\n\t\tassert.deepEqual(result.header.model, 'GPT 4.1');\n\t\tassert.ok(result.header.tools);\n\t\tassert.deepEqual(result.header.tools, ['tool1', 'tool2']);\n\t});\n\n\ttest('mode with handoff', async () => {\n\t\tconst uri = URI.parse('file:///test/test.agent.md');\n\t\tconst content = [\n\t\t\t/* 01 */'---',\n\t\t\t/* 02 */`description: \"Agent test\"`,\n\t\t\t/* 03 */'model: GPT 4.1',\n\t\t\t/* 04 */'handoffs:',\n\t\t\t/* 05 */'  - label: \"Implement\"',\n\t\t\t/* 06 */'    agent: Default',\n\t\t\t/* 07 */'    prompt: \"Implement the plan\"',\n\t\t\t/* 08 */'    send: false',\n\t\t\t/* 09 */'  - label: \"Save\"',\n\t\t\t/* 10 */'    agent: Default',\n\t\t\t/* 11 */'    prompt: \"Save the plan to a file\"',\n\t\t\t/* 12 */'    send: true',\n\t\t\t/* 13 */'---',\n\t\t].join('\\n');\n\t\tconst result = new PromptFileParser().parse(uri, content);\n\t\tassert.deepEqual(result.uri, uri);\n\t\tassert.ok(result.header);\n\t\tassert.deepEqual(result.header.range, { startLineNumber: 2, startColumn: 1, endLineNumber: 13, endColumn: 1 });\n\t\tassert.deepEqual(result.header.attributes, [\n\t\t\t{ key: 'description', range: new Range(2, 1, 2, 26), value: { type: 'string', value: 'Agent test', range: new Range(2, 14, 2, 26) } },\n\t\t\t{ key: 'model', range: new Range(3, 1, 3, 15), value: { type: 'string', value: 'GPT 4.1', range: new Range(3, 8, 3, 15) } },\n\t\t\t{\n\t\t\t\tkey: 'handoffs', range: new Range(4, 1, 12, 15), value: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\trange: new Range(5, 3, 12, 15),\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'object', range: new Range(5, 5, 8, 16),\n\t\t\t\t\t\t\tproperties: [\n\t\t\t\t\t\t\t\t{ key: { type: 'string', value: 'label', range: new Range(5, 5, 5, 10) }, value: { type: 'string', value: 'Implement', range: new Range(5, 12, 5, 23) } },\n\t\t\t\t\t\t\t\t{ key: { type: 'string', value: 'agent', range: new Range(6, 5, 6, 10) }, value: { type: 'string', value: 'Default', range: new Range(6, 12, 6, 19) } },\n\t\t\t\t\t\t\t\t{ key: { type: 'string', value: 'prompt', range: new Range(7, 5, 7, 11) }, value: { type: 'string', value: 'Implement the plan', range: new Range(7, 13, 7, 33) } },\n\t\t\t\t\t\t\t\t{ key: { type: 'string', value: 'send', range: new Range(8, 5, 8, 9) }, value: { type: 'boolean', value: false, range: new Range(8, 11, 8, 16) } },\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'object', range: new Range(9, 5, 12, 15),\n\t\t\t\t\t\t\tproperties: [\n\t\t\t\t\t\t\t\t{ key: { type: 'string', value: 'label', range: new Range(9, 5, 9, 10) }, value: { type: 'string', value: 'Save', range: new Range(9, 12, 9, 18) } },\n\t\t\t\t\t\t\t\t{ key: { type: 'string', value: 'agent', range: new Range(10, 5, 10, 10) }, value: { type: 'string', value: 'Default', range: new Range(10, 12, 10, 19) } },\n\t\t\t\t\t\t\t\t{ key: { type: 'string', value: 'prompt', range: new Range(11, 5, 11, 11) }, value: { type: 'string', value: 'Save the plan to a file', range: new Range(11, 13, 11, 38) } },\n\t\t\t\t\t\t\t\t{ key: { type: 'string', value: 'send', range: new Range(12, 5, 12, 9) }, value: { type: 'boolean', value: true, range: new Range(12, 11, 12, 15) } },\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t]);\n\t\tassert.deepEqual(result.header.description, 'Agent test');\n\t\tassert.deepEqual(result.header.model, 'GPT 4.1');\n\t\tassert.ok(result.header.handOffs);\n\t\tassert.deepEqual(result.header.handOffs, [\n\t\t\t{ label: 'Implement', agent: 'Default', prompt: 'Implement the plan', send: false },\n\t\t\t{ label: 'Save', agent: 'Default', prompt: 'Save the plan to a file', send: true }\n\t\t]);\n\t});\n\n\ttest('instructions', async () => {\n\t\tconst uri = URI.parse('file:///test/prompt1.md');\n\t\tconst content = [\n\t\t\t/* 01 */'---',\n\t\t\t/* 02 */`description: \"Code style instructions for TypeScript\"`,\n\t\t\t/* 03 */'applyTo: *.ts',\n\t\t\t/* 04 */'---',\n\t\t\t/* 05 */'Follow my companies coding guidlines at [mycomp-ts-guidelines](https://mycomp/guidelines#typescript.md)',\n\t\t].join('\\n');\n\t\tconst result = new PromptFileParser().parse(uri, content);\n\t\tassert.deepEqual(result.uri, uri);\n\t\tassert.ok(result.header);\n\t\tassert.ok(result.body);\n\t\tassert.deepEqual(result.header.range, { startLineNumber: 2, startColumn: 1, endLineNumber: 4, endColumn: 1 });\n\t\tassert.deepEqual(result.header.attributes, [\n\t\t\t{ key: 'description', range: new Range(2, 1, 2, 54), value: { type: 'string', value: 'Code style instructions for TypeScript', range: new Range(2, 14, 2, 54) } },\n\t\t\t{ key: 'applyTo', range: new Range(3, 1, 3, 14), value: { type: 'string', value: '*.ts', range: new Range(3, 10, 3, 14) } },\n\t\t]);\n\t\tassert.deepEqual(result.body.range, { startLineNumber: 5, startColumn: 1, endLineNumber: 6, endColumn: 1 });\n\t\tassert.equal(result.body.offset, 76);\n\t\tassert.equal(result.body.getContent(), 'Follow my companies coding guidlines at [mycomp-ts-guidelines](https://mycomp/guidelines#typescript.md)');\n\n\t\tassert.deepEqual(result.body.fileReferences, [\n\t\t\t{ range: new Range(5, 64, 5, 103), content: 'https://mycomp/guidelines#typescript.md', isMarkdownLink: true },\n\t\t]);\n\t\tassert.deepEqual(result.body.variableReferences, []);\n\t\tassert.deepEqual(result.header.description, 'Code style instructions for TypeScript');\n\t\tassert.deepEqual(result.header.applyTo, '*.ts');\n\t});\n\n\ttest('prompt file', async () => {\n\t\tconst uri = URI.parse('file:///test/prompt2.md');\n\t\tconst content = [\n\t\t\t/* 01 */'---',\n\t\t\t/* 02 */`description: \"General purpose coding assistant\"`,\n\t\t\t/* 03 */'agent: agent',\n\t\t\t/* 04 */'model: GPT 4.1',\n\t\t\t/* 05 */`tools: ['search', 'terminal']`,\n\t\t\t/* 06 */'---',\n\t\t\t/* 07 */'This is a prompt file body referencing #tool:search and [docs](https://example.com/docs).',\n\t\t].join('\\n');\n\t\tconst result = new PromptFileParser().parse(uri, content);\n\t\tassert.deepEqual(result.uri, uri);\n\t\tassert.ok(result.header);\n\t\tassert.ok(result.body);\n\t\tassert.deepEqual(result.header.range, { startLineNumber: 2, startColumn: 1, endLineNumber: 6, endColumn: 1 });\n\t\tassert.deepEqual(result.header.attributes, [\n\t\t\t{ key: 'description', range: new Range(2, 1, 2, 48), value: { type: 'string', value: 'General purpose coding assistant', range: new Range(2, 14, 2, 48) } },\n\t\t\t{ key: 'agent', range: new Range(3, 1, 3, 13), value: { type: 'string', value: 'agent', range: new Range(3, 8, 3, 13) } },\n\t\t\t{ key: 'model', range: new Range(4, 1, 4, 15), value: { type: 'string', value: 'GPT 4.1', range: new Range(4, 8, 4, 15) } },\n\t\t\t{\n\t\t\t\tkey: 'tools', range: new Range(5, 1, 5, 30), value: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\titems: [{ type: 'string', value: 'search', range: new Range(5, 9, 5, 17) }, { type: 'string', value: 'terminal', range: new Range(5, 19, 5, 29) }],\n\t\t\t\t\trange: new Range(5, 8, 5, 30)\n\t\t\t\t}\n\t\t\t},\n\t\t]);\n\t\tassert.deepEqual(result.body.range, { startLineNumber: 7, startColumn: 1, endLineNumber: 8, endColumn: 1 });\n\t\tassert.equal(result.body.offset, 114);\n\t\tassert.equal(result.body.getContent(), 'This is a prompt file body referencing #tool:search and [docs](https://example.com/docs).');\n\t\tassert.deepEqual(result.body.fileReferences, [\n\t\t\t{ range: new Range(7, 64, 7, 88), content: 'https://example.com/docs', isMarkdownLink: true },\n\t\t]);\n\t\tassert.deepEqual(result.body.variableReferences, [\n\t\t\t{ range: new Range(7, 46, 7, 52), name: 'search', offset: 153 }\n\t\t]);\n\t\tassert.deepEqual(result.header.description, 'General purpose coding assistant');\n\t\tassert.deepEqual(result.header.agent, 'agent');\n\t\tassert.deepEqual(result.header.model, 'GPT 4.1');\n\t\tassert.ok(result.header.tools);\n\t\tassert.deepEqual(result.header.tools, ['search', 'terminal']);\n\t});\n\n\ttest('prompt file tools as map', async () => {\n\t\tconst uri = URI.parse('file:///test/prompt2.md');\n\t\tconst content = [\n\t\t\t/* 01 */'---',\n\t\t\t/* 02 */'tools:',\n\t\t\t/* 03 */'  built-in: true',\n\t\t\t/* 04 */'  mcp:',\n\t\t\t/* 05 */'    vscode-playright-mcp:',\n\t\t\t/* 06 */'      browser-click: true',\n\t\t\t/* 07 */'  extensions:',\n\t\t\t/* 08 */'    github.vscode-pull-request-github:',\n\t\t\t/* 09 */'      openPullRequest: true',\n\t\t\t/* 10 */'      copilotCodingAgent: false',\n\t\t\t/* 11 */'---',\n\t\t].join('\\n');\n\t\tconst result = new PromptFileParser().parse(uri, content);\n\t\tassert.deepEqual(result.uri, uri);\n\t\tassert.ok(result.header);\n\t\tassert.ok(!result.body);\n\t\tassert.deepEqual(result.header.range, { startLineNumber: 2, startColumn: 1, endLineNumber: 11, endColumn: 1 });\n\t\tassert.deepEqual(result.header.attributes, [\n\t\t\t{\n\t\t\t\tkey: 'tools', range: new Range(2, 1, 10, 32), value: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'key': { type: 'string', value: 'built-in', range: new Range(3, 3, 3, 11) },\n\t\t\t\t\t\t\t'value': { type: 'boolean', value: true, range: new Range(3, 13, 3, 17) }\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'key': { type: 'string', value: 'mcp', range: new Range(4, 3, 4, 6) },\n\t\t\t\t\t\t\t'value': {\n\t\t\t\t\t\t\t\ttype: 'object', range: new Range(5, 5, 6, 26), properties: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t'key': { type: 'string', value: 'vscode-playright-mcp', range: new Range(5, 5, 5, 25) }, 'value': {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'object', range: new Range(6, 7, 6, 26), properties: [\n\t\t\t\t\t\t\t\t\t\t\t\t{ 'key': { type: 'string', value: 'browser-click', range: new Range(6, 7, 6, 20) }, 'value': { type: 'boolean', value: true, range: new Range(6, 22, 6, 26) } }\n\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'key': { type: 'string', value: 'extensions', range: new Range(7, 3, 7, 13) },\n\t\t\t\t\t\t\t'value': {\n\t\t\t\t\t\t\t\ttype: 'object', range: new Range(8, 5, 10, 32), properties: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t'key': { type: 'string', value: 'github.vscode-pull-request-github', range: new Range(8, 5, 8, 38) }, 'value': {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'object', range: new Range(9, 7, 10, 32), properties: [\n\t\t\t\t\t\t\t\t\t\t\t\t{ 'key': { type: 'string', value: 'openPullRequest', range: new Range(9, 7, 9, 22) }, 'value': { type: 'boolean', value: true, range: new Range(9, 24, 9, 28) } },\n\t\t\t\t\t\t\t\t\t\t\t\t{ 'key': { type: 'string', value: 'copilotCodingAgent', range: new Range(10, 7, 10, 25) }, 'value': { type: 'boolean', value: false, range: new Range(10, 27, 10, 32) } }\n\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\trange: new Range(3, 3, 10, 32)\n\t\t\t\t},\n\t\t\t}\n\t\t]);\n\t\tassert.deepEqual(result.header.description, undefined);\n\t\tassert.deepEqual(result.header.agent, undefined);\n\t\tassert.deepEqual(result.header.model, undefined);\n\t\tassert.ok(result.header.tools);\n\t\tassert.deepEqual(result.header.tools, ['built-in', 'browser-click', 'openPullRequest', 'copilotCodingAgent']);\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\n\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../../../base/test/common/utils.js';\nimport { Range } from '../../../../../../../editor/common/core/range.js';\nimport { URI } from '../../../../../../../base/common/uri.js';\nimport { PromptFileParser } from '../../../../common/promptSyntax/promptFileParser.js';\n\nsuite('NewPromptsParser', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('agent', async () => {\n\t\tconst uri = URI.parse('file:///test/test.agent.md');\n\t\tconst content = [\n\t\t\t/* 01 */'---',\n\t\t\t/* 02 */`description: \"Agent test\"`,\n\t\t\t/* 03 */'model: GPT 4.1',\n\t\t\t/* 04 */`tools: ['tool1', 'tool2']`,\n\t\t\t/* 05 */'---',\n\t\t\t/* 06 */'This is an agent test.',\n\t\t\t/* 07 */'Here is a #tool:tool1 variable (and one with closing parenthesis after: #tool:tool-2) and a #file:./reference1.md as well as a [reference](./reference2.md).',\n\t\t].join('\\n');\n\t\tconst result = new PromptFileParser().parse(uri, content);\n\t\tassert.deepEqual(result.uri, uri);\n\t\tassert.ok(result.header);\n\t\tassert.ok(result.body);\n\t\tassert.deepEqual(result.header.range, { startLineNumber: 2, startColumn: 1, endLineNumber: 5, endColumn: 1 });\n\t\tassert.deepEqual(result.header.attributes, [\n\t\t\t{ key: 'description', range: new Range(2, 1, 2, 26), value: { type: 'string', value: 'Agent test', range: new Range(2, 14, 2, 26) } },\n\t\t\t{ key: 'model', range: new Range(3, 1, 3, 15), value: { type: 'string', value: 'GPT 4.1', range: new Range(3, 8, 3, 15) } },\n\t\t\t{\n\t\t\t\tkey: 'tools', range: new Range(4, 1, 4, 26), value: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\titems: [{ type: 'string', value: 'tool1', range: new Range(4, 9, 4, 16) }, { type: 'string', value: 'tool2', range: new Range(4, 18, 4, 25) }],\n\t\t\t\t\trange: new Range(4, 8, 4, 26)\n\t\t\t\t}\n\t\t\t},\n\t\t]);\n\t\tassert.deepEqual(result.body.range, { startLineNumber: 6, startColumn: 1, endLineNumber: 8, endColumn: 1 });\n\t\tassert.equal(result.body.offset, 75);\n\t\tassert.equal(result.body.getContent(), 'This is an agent test.\\nHere is a #tool:tool1 variable (and one with closing parenthesis after: #tool:tool-2) and a #file:./reference1.md as well as a [reference](./reference2.md).');\n\n\t\tassert.deepEqual(result.body.fileReferences, [\n\t\t\t{ range: new Range(7, 99, 7, 114), content: './reference1.md', isMarkdownLink: false },\n\t\t\t{ range: new Range(7, 140, 7, 155), content: './reference2.md', isMarkdownLink: true }\n\t\t]);\n\t\tassert.deepEqual(result.body.variableReferences, [\n\t\t\t{ range: new Range(7, 17, 7, 22), name: 'tool1', offset: 108 },\n\t\t\t{ range: new Range(7, 79, 7, 85), name: 'tool-2', offset: 170 }\n\t\t]);\n\t\tassert.deepEqual(result.header.description, 'Agent test');\n\t\tassert.deepEqual(result.header.model, 'GPT 4.1');\n\t\tassert.ok(result.header.tools);\n\t\tassert.deepEqual(result.header.tools, ['tool1', 'tool2']);\n\t});\n\n\ttest('mode with handoff', async () => {\n\t\tconst uri = URI.parse('file:///test/test.agent.md');\n\t\tconst content = [\n\t\t\t/* 01 */'---',\n\t\t\t/* 02 */`description: \"Agent test\"`,\n\t\t\t/* 03 */'model: GPT 4.1',\n\t\t\t/* 04 */'handoffs:',\n\t\t\t/* 05 */'  - label: \"Implement\"',\n\t\t\t/* 06 */'    agent: Default',\n\t\t\t/* 07 */'    prompt: \"Implement the plan\"',\n\t\t\t/* 08 */'    send: false',\n\t\t\t/* 09 */'  - label: \"Save\"',\n\t\t\t/* 10 */'    agent: Default',\n\t\t\t/* 11 */'    prompt: \"Save the plan to a file\"',\n\t\t\t/* 12 */'    send: true',\n\t\t\t/* 13 */'---',\n\t\t].join('\\n');\n\t\tconst result = new PromptFileParser().parse(uri, content);\n\t\tassert.deepEqual(result.uri, uri);\n\t\tassert.ok(result.header);\n\t\tassert.deepEqual(result.header.range, { startLineNumber: 2, startColumn: 1, endLineNumber: 13, endColumn: 1 });\n\t\tassert.deepEqual(result.header.attributes, [\n\t\t\t{ key: 'description', range: new Range(2, 1, 2, 26), value: { type: 'string', value: 'Agent test', range: new Range(2, 14, 2, 26) } },\n\t\t\t{ key: 'model', range: new Range(3, 1, 3, 15), value: { type: 'string', value: 'GPT 4.1', range: new Range(3, 8, 3, 15) } },\n\t\t\t{\n\t\t\t\tkey: 'handoffs', range: new Range(4, 1, 12, 15), value: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\trange: new Range(5, 3, 12, 15),\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'object', range: new Range(5, 5, 8, 16),\n\t\t\t\t\t\t\tproperties: [\n\t\t\t\t\t\t\t\t{ key: { type: 'string', value: 'label', range: new Range(5, 5, 5, 10) }, value: { type: 'string', value: 'Implement', range: new Range(5, 12, 5, 23) } },\n\t\t\t\t\t\t\t\t{ key: { type: 'string', value: 'agent', range: new Range(6, 5, 6, 10) }, value: { type: 'string', value: 'Default', range: new Range(6, 12, 6, 19) } },\n\t\t\t\t\t\t\t\t{ key: { type: 'string', value: 'prompt', range: new Range(7, 5, 7, 11) }, value: { type: 'string', value: 'Implement the plan', range: new Range(7, 13, 7, 33) } },\n\t\t\t\t\t\t\t\t{ key: { type: 'string', value: 'send', range: new Range(8, 5, 8, 9) }, value: { type: 'boolean', value: false, range: new Range(8, 11, 8, 16) } },\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'object', range: new Range(9, 5, 12, 15),\n\t\t\t\t\t\t\tproperties: [\n\t\t\t\t\t\t\t\t{ key: { type: 'string', value: 'label', range: new Range(9, 5, 9, 10) }, value: { type: 'string', value: 'Save', range: new Range(9, 12, 9, 18) } },\n\t\t\t\t\t\t\t\t{ key: { type: 'string', value: 'agent', range: new Range(10, 5, 10, 10) }, value: { type: 'string', value: 'Default', range: new Range(10, 12, 10, 19) } },\n\t\t\t\t\t\t\t\t{ key: { type: 'string', value: 'prompt', range: new Range(11, 5, 11, 11) }, value: { type: 'string', value: 'Save the plan to a file', range: new Range(11, 13, 11, 38) } },\n\t\t\t\t\t\t\t\t{ key: { type: 'string', value: 'send', range: new Range(12, 5, 12, 9) }, value: { type: 'boolean', value: true, range: new Range(12, 11, 12, 15) } },\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t]);\n\t\tassert.deepEqual(result.header.description, 'Agent test');\n\t\tassert.deepEqual(result.header.model, 'GPT 4.1');\n\t\tassert.ok(result.header.handOffs);\n\t\tassert.deepEqual(result.header.handOffs, [\n\t\t\t{ label: 'Implement', agent: 'Default', prompt: 'Implement the plan', send: false },\n\t\t\t{ label: 'Save', agent: 'Default', prompt: 'Save the plan to a file', send: true }\n\t\t]);\n\t});\n\n\ttest('instructions', async () => {\n\t\tconst uri = URI.parse('file:///test/prompt1.md');\n\t\tconst content = [\n\t\t\t/* 01 */'---',\n\t\t\t/* 02 */`description: \"Code style instructions for TypeScript\"`,\n\t\t\t/* 03 */'applyTo: *.ts',\n\t\t\t/* 04 */'---',\n\t\t\t/* 05 */'Follow my companies coding guidlines at [mycomp-ts-guidelines](https://mycomp/guidelines#typescript.md)',\n\t\t].join('\\n');\n\t\tconst result = new PromptFileParser().parse(uri, content);\n\t\tassert.deepEqual(result.uri, uri);\n\t\tassert.ok(result.header);\n\t\tassert.ok(result.body);\n\t\tassert.deepEqual(result.header.range, { startLineNumber: 2, startColumn: 1, endLineNumber: 4, endColumn: 1 });\n\t\tassert.deepEqual(result.header.attributes, [\n\t\t\t{ key: 'description', range: new Range(2, 1, 2, 54), value: { type: 'string', value: 'Code style instructions for TypeScript', range: new Range(2, 14, 2, 54) } },\n\t\t\t{ key: 'applyTo', range: new Range(3, 1, 3, 14), value: { type: 'string', value: '*.ts', range: new Range(3, 10, 3, 14) } },\n\t\t]);\n\t\tassert.deepEqual(result.body.range, { startLineNumber: 5, startColumn: 1, endLineNumber: 6, endColumn: 1 });\n\t\tassert.equal(result.body.offset, 76);\n\t\tassert.equal(result.body.getContent(), 'Follow my companies coding guidlines at [mycomp-ts-guidelines](https://mycomp/guidelines#typescript.md)');\n\n\t\tassert.deepEqual(result.body.fileReferences, [\n\t\t\t{ range: new Range(5, 64, 5, 103), content: 'https://mycomp/guidelines#typescript.md', isMarkdownLink: true },\n\t\t]);\n\t\tassert.deepEqual(result.body.variableReferences, []);\n\t\tassert.deepEqual(result.header.description, 'Code style instructions for TypeScript');\n\t\tassert.deepEqual(result.header.applyTo, '*.ts');\n\t});\n\n\ttest('prompt file', async () => {\n\t\tconst uri = URI.parse('file:///test/prompt2.md');\n\t\tconst content = [\n\t\t\t/* 01 */'---',\n\t\t\t/* 02 */`description: \"General purpose coding assistant\"`,\n\t\t\t/* 03 */'agent: agent',\n\t\t\t/* 04 */'model: GPT 4.1',\n\t\t\t/* 05 */`tools: ['search', 'terminal']`,\n\t\t\t/* 06 */'---',\n\t\t\t/* 07 */'This is a prompt file body referencing #tool:search and [docs](https://example.com/docs).',\n\t\t].join('\\n');\n\t\tconst result = new PromptFileParser().parse(uri, content);\n\t\tassert.deepEqual(result.uri, uri);\n\t\tassert.ok(result.header);\n\t\tassert.ok(result.body);\n\t\tassert.deepEqual(result.header.range, { startLineNumber: 2, startColumn: 1, endLineNumber: 6, endColumn: 1 });\n\t\tassert.deepEqual(result.header.attributes, [\n\t\t\t{ key: 'description', range: new Range(2, 1, 2, 48), value: { type: 'string', value: 'General purpose coding assistant', range: new Range(2, 14, 2, 48) } },\n\t\t\t{ key: 'agent', range: new Range(3, 1, 3, 13), value: { type: 'string', value: 'agent', range: new Range(3, 8, 3, 13) } },\n\t\t\t{ key: 'model', range: new Range(4, 1, 4, 15), value: { type: 'string', value: 'GPT 4.1', range: new Range(4, 8, 4, 15) } },\n\t\t\t{\n\t\t\t\tkey: 'tools', range: new Range(5, 1, 5, 30), value: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\titems: [{ type: 'string', value: 'search', range: new Range(5, 9, 5, 17) }, { type: 'string', value: 'terminal', range: new Range(5, 19, 5, 29) }],\n\t\t\t\t\trange: new Range(5, 8, 5, 30)\n\t\t\t\t}\n\t\t\t},\n\t\t]);\n\t\tassert.deepEqual(result.body.range, { startLineNumber: 7, startColumn: 1, endLineNumber: 8, endColumn: 1 });\n\t\tassert.equal(result.body.offset, 114);\n\t\tassert.equal(result.body.getContent(), 'This is a prompt file body referencing #tool:search and [docs](https://example.com/docs).');\n\t\tassert.deepEqual(result.body.fileReferences, [\n\t\t\t{ range: new Range(7, 64, 7, 88), content: 'https://example.com/docs', isMarkdownLink: true },\n\t\t]);\n\t\tassert.deepEqual(result.body.variableReferences, [\n\t\t\t{ range: new Range(7, 46, 7, 52), name: 'search', offset: 153 }\n\t\t]);\n\t\tassert.deepEqual(result.header.description, 'General purpose coding assistant');\n\t\tassert.deepEqual(result.header.agent, 'agent');\n\t\tassert.deepEqual(result.header.model, 'GPT 4.1');\n\t\tassert.ok(result.header.tools);\n\t\tassert.deepEqual(result.header.tools, ['search', 'terminal']);\n\t});\n\n\ttest('prompt file tools as map', async () => {\n\t\tconst uri = URI.parse('file:///test/prompt2.md');\n\t\tconst content = [\n\t\t\t/* 01 */'---',\n\t\t\t/* 02 */'tools:',\n\t\t\t/* 03 */'  built-in: true',\n\t\t\t/* 04 */'  mcp:',\n\t\t\t/* 05 */'    vscode-playright-mcp:',\n\t\t\t/* 06 */'      browser-click: true',\n\t\t\t/* 07 */'  extensions:',\n\t\t\t/* 08 */'    github.vscode-pull-request-github:',\n\t\t\t/* 09 */'      openPullRequest: true',\n\t\t\t/* 10 */'      copilotCodingAgent: false',\n\t\t\t/* 11 */'---',\n\t\t].join('\\n');\n\t\tconst result = new PromptFileParser().parse(uri, content);\n\t\tassert.deepEqual(result.uri, uri);\n\t\tassert.ok(result.header);\n\t\tassert.ok(!result.body);\n\t\tassert.deepEqual(result.header.range, { startLineNumber: 2, startColumn: 1, endLineNumber: 11, endColumn: 1 });\n\t\tassert.deepEqual(result.header.attributes, [\n\t\t\t{\n\t\t\t\tkey: 'tools', range: new Range(2, 1, 10, 32), value: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'key': { type: 'string', value: 'built-in', range: new Range(3, 3, 3, 11) },\n\t\t\t\t\t\t\t'value': { type: 'boolean', value: true, range: new Range(3, 13, 3, 17) }\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'key': { type: 'string', value: 'mcp', range: new Range(4, 3, 4, 6) },\n\t\t\t\t\t\t\t'value': {\n\t\t\t\t\t\t\t\ttype: 'object', range: new Range(5, 5, 6, 26), properties: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t'key': { type: 'string', value: 'vscode-playright-mcp', range: new Range(5, 5, 5, 25) }, 'value': {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'object', range: new Range(6, 7, 6, 26), properties: [\n\t\t\t\t\t\t\t\t\t\t\t\t{ 'key': { type: 'string', value: 'browser-click', range: new Range(6, 7, 6, 20) }, 'value': { type: 'boolean', value: true, range: new Range(6, 22, 6, 26) } }\n\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'key': { type: 'string', value: 'extensions', range: new Range(7, 3, 7, 13) },\n\t\t\t\t\t\t\t'value': {\n\t\t\t\t\t\t\t\ttype: 'object', range: new Range(8, 5, 10, 32), properties: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t'key': { type: 'string', value: 'github.vscode-pull-request-github', range: new Range(8, 5, 8, 38) }, 'value': {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'object', range: new Range(9, 7, 10, 32), properties: [\n\t\t\t\t\t\t\t\t\t\t\t\t{ 'key': { type: 'string', value: 'openPullRequest', range: new Range(9, 7, 9, 22) }, 'value': { type: 'boolean', value: true, range: new Range(9, 24, 9, 28) } },\n\t\t\t\t\t\t\t\t\t\t\t\t{ 'key': { type: 'string', value: 'copilotCodingAgent', range: new Range(10, 7, 10, 25) }, 'value': { type: 'boolean', value: false, range: new Range(10, 27, 10, 32) } }\n\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t\trange: new Range(3, 3, 10, 32)\n\t\t\t\t},\n\t\t\t}\n\t\t]);\n\t\tassert.deepEqual(result.header.description, undefined);\n\t\tassert.deepEqual(result.header.agent, undefined);\n\t\tassert.deepEqual(result.header.model, undefined);\n\t\tassert.ok(result.header.tools);\n\t\tassert.deepEqual(result.header.tools, ['built-in', 'browser-click', 'openPullRequest', 'copilotCodingAgent']);\n\t});\n});\n"]}