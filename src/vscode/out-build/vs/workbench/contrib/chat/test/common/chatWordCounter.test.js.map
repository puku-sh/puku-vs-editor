{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/chat/test/common/chatWordCounter.test.ts","vs/workbench/contrib/chat/test/common/chatWordCounter.test.ts"],"names":[],"mappings":"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","file":"chatWordCounter.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { getNWords, IWordCountResult } from '../../common/chatWordCounter.js';\n\nsuite('ChatWordCounter', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tfunction doTest(str: string, nWords: number, resultStr: string) {\n\t\tconst result = getNWords(str, nWords);\n\t\tassert.strictEqual(result.value, resultStr);\n\t\tassert.strictEqual(result.returnedWordCount, nWords);\n\t}\n\n\tsuite('getNWords', () => {\n\t\ttest('matching actualWordCount', () => {\n\t\t\tconst cases: [string, number, string][] = [\n\t\t\t\t['hello world', 1, 'hello'],\n\t\t\t\t['hello', 1, 'hello'],\n\t\t\t\t['hello world', 0, ''],\n\t\t\t\t['here\\'s, some.   punctuation?', 3, 'here\\'s, some.   punctuation?'],\n\t\t\t\t['| markdown | _table_ | header |', 3, '| markdown | _table_ | header |'],\n\t\t\t\t['| --- | --- | --- |', 1, '| ---'],\n\t\t\t\t['| --- | --- | --- |', 3, '| --- | --- | --- |'],\n\t\t\t\t[' \\t some \\n whitespace     \\n\\n\\nhere   ', 3, ' \\t some \\n whitespace     \\n\\n\\nhere   '],\n\t\t\t];\n\n\t\t\tcases.forEach(([str, nWords, result]) => doTest(str, nWords, result));\n\t\t});\n\n\t\ttest('whitespace', () => {\n\t\t\tassert.deepStrictEqual(\n\t\t\t\tgetNWords('hello ', 1),\n\t\t\t\t{\n\t\t\t\t\tvalue: 'hello ',\n\t\t\t\t\treturnedWordCount: 1,\n\t\t\t\t\tisFullString: true,\n\t\t\t\t\ttotalWordCount: 1,\n\t\t\t\t} satisfies IWordCountResult);\n\t\t\tassert.deepStrictEqual(\n\t\t\t\tgetNWords('hello\\n\\n', 1),\n\t\t\t\t{\n\t\t\t\t\tvalue: 'hello\\n\\n',\n\t\t\t\t\treturnedWordCount: 1,\n\t\t\t\t\tisFullString: true,\n\t\t\t\t\ttotalWordCount: 1,\n\t\t\t\t} satisfies IWordCountResult);\n\t\t\tassert.deepStrictEqual(\n\t\t\t\tgetNWords('\\nhello', 1),\n\t\t\t\t{\n\t\t\t\t\tvalue: '\\nhello',\n\t\t\t\t\treturnedWordCount: 1,\n\t\t\t\t\tisFullString: true,\n\t\t\t\t\ttotalWordCount: 1,\n\t\t\t\t} satisfies IWordCountResult);\n\t\t});\n\n\t\ttest('matching links', () => {\n\t\t\tconst cases: [string, number, string][] = [\n\t\t\t\t['[hello](https://example.com) world', 1, '[hello](https://example.com)'],\n\t\t\t\t['[hello](https://example.com) world', 2, '[hello](https://example.com) world'],\n\t\t\t\t['oh [hello](https://example.com \"title\") world', 1, 'oh'],\n\t\t\t\t['oh [hello](https://example.com \"title\") world', 2, 'oh [hello](https://example.com \"title\")'],\n\t\t\t\t// Parens in link destination\n\t\t\t\t['[hello](https://example.com?()) world', 1, '[hello](https://example.com?())'],\n\t\t\t\t// Escaped brackets in link text\n\t\t\t\t['[he \\\\[l\\\\] \\\\]lo](https://example.com?()) world', 1, '[he \\\\[l\\\\] \\\\]lo](https://example.com?())'],\n\t\t\t];\n\n\t\t\tcases.forEach(([str, nWords, result]) => doTest(str, nWords, result));\n\t\t});\n\n\t\ttest('code', () => {\n\t\t\tconst cases: [string, number, string][] = [\n\t\t\t\t['let a=1-2', 2, 'let a'],\n\t\t\t\t['let a=1-2', 3, 'let a='],\n\t\t\t\t['let a=1-2', 4, 'let a=1'],\n\t\t\t\t['const myVar = 1+2', 4, 'const myVar = 1'],\n\t\t\t\t['<div id=\"myDiv\"></div>', 3, '<div id='],\n\t\t\t\t['<div id=\"myDiv\"></div>', 4, '<div id=\"myDiv\"></div>'],\n\t\t\t];\n\n\t\t\tcases.forEach(([str, nWords, result]) => doTest(str, nWords, result));\n\t\t});\n\n\t\ttest('codeblocks', () => {\n\t\t\tconst cases: [string, number, string][] = [\n\t\t\t\t['hello\\n\\n```\\n```\\n\\nworld foo', 2, 'hello\\n\\n```\\n```\\n\\nworld'],\n\t\t\t];\n\n\t\t\tcases.forEach(([str, nWords, result]) => doTest(str, nWords, result));\n\t\t});\n\n\t\ttest('chinese characters', () => {\n\t\t\tconst cases: [string, number, string][] = [\n\t\t\t\t['我喜欢中国菜', 3, '我喜欢'],\n\t\t\t];\n\n\t\t\tcases.forEach(([str, nWords, result]) => doTest(str, nWords, result));\n\t\t});\n\n\t\ttest(`Inline math shouldn't be broken up`, () => {\n\t\t\tconst cases: [string, number, string][] = [\n\t\t\t\t['a $x + y$ b', 3, 'a $x + y$ b'],\n\t\t\t\t['a $\\\\frac{1}{2} + \\\\sqrt{x^2 + y^2}$ b', 3, 'a $\\\\frac{1}{2} + \\\\sqrt{x^2 + y^2}$ b'],\n\t\t\t];\n\n\t\t\tcases.forEach(([str, nWords, result]) => doTest(str, nWords, result));\n\t\t});\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { getNWords, IWordCountResult } from '../../common/chatWordCounter.js';\n\nsuite('ChatWordCounter', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tfunction doTest(str: string, nWords: number, resultStr: string) {\n\t\tconst result = getNWords(str, nWords);\n\t\tassert.strictEqual(result.value, resultStr);\n\t\tassert.strictEqual(result.returnedWordCount, nWords);\n\t}\n\n\tsuite('getNWords', () => {\n\t\ttest('matching actualWordCount', () => {\n\t\t\tconst cases: [string, number, string][] = [\n\t\t\t\t['hello world', 1, 'hello'],\n\t\t\t\t['hello', 1, 'hello'],\n\t\t\t\t['hello world', 0, ''],\n\t\t\t\t['here\\'s, some.   punctuation?', 3, 'here\\'s, some.   punctuation?'],\n\t\t\t\t['| markdown | _table_ | header |', 3, '| markdown | _table_ | header |'],\n\t\t\t\t['| --- | --- | --- |', 1, '| ---'],\n\t\t\t\t['| --- | --- | --- |', 3, '| --- | --- | --- |'],\n\t\t\t\t[' \\t some \\n whitespace     \\n\\n\\nhere   ', 3, ' \\t some \\n whitespace     \\n\\n\\nhere   '],\n\t\t\t];\n\n\t\t\tcases.forEach(([str, nWords, result]) => doTest(str, nWords, result));\n\t\t});\n\n\t\ttest('whitespace', () => {\n\t\t\tassert.deepStrictEqual(\n\t\t\t\tgetNWords('hello ', 1),\n\t\t\t\t{\n\t\t\t\t\tvalue: 'hello ',\n\t\t\t\t\treturnedWordCount: 1,\n\t\t\t\t\tisFullString: true,\n\t\t\t\t\ttotalWordCount: 1,\n\t\t\t\t} satisfies IWordCountResult);\n\t\t\tassert.deepStrictEqual(\n\t\t\t\tgetNWords('hello\\n\\n', 1),\n\t\t\t\t{\n\t\t\t\t\tvalue: 'hello\\n\\n',\n\t\t\t\t\treturnedWordCount: 1,\n\t\t\t\t\tisFullString: true,\n\t\t\t\t\ttotalWordCount: 1,\n\t\t\t\t} satisfies IWordCountResult);\n\t\t\tassert.deepStrictEqual(\n\t\t\t\tgetNWords('\\nhello', 1),\n\t\t\t\t{\n\t\t\t\t\tvalue: '\\nhello',\n\t\t\t\t\treturnedWordCount: 1,\n\t\t\t\t\tisFullString: true,\n\t\t\t\t\ttotalWordCount: 1,\n\t\t\t\t} satisfies IWordCountResult);\n\t\t});\n\n\t\ttest('matching links', () => {\n\t\t\tconst cases: [string, number, string][] = [\n\t\t\t\t['[hello](https://example.com) world', 1, '[hello](https://example.com)'],\n\t\t\t\t['[hello](https://example.com) world', 2, '[hello](https://example.com) world'],\n\t\t\t\t['oh [hello](https://example.com \"title\") world', 1, 'oh'],\n\t\t\t\t['oh [hello](https://example.com \"title\") world', 2, 'oh [hello](https://example.com \"title\")'],\n\t\t\t\t// Parens in link destination\n\t\t\t\t['[hello](https://example.com?()) world', 1, '[hello](https://example.com?())'],\n\t\t\t\t// Escaped brackets in link text\n\t\t\t\t['[he \\\\[l\\\\] \\\\]lo](https://example.com?()) world', 1, '[he \\\\[l\\\\] \\\\]lo](https://example.com?())'],\n\t\t\t];\n\n\t\t\tcases.forEach(([str, nWords, result]) => doTest(str, nWords, result));\n\t\t});\n\n\t\ttest('code', () => {\n\t\t\tconst cases: [string, number, string][] = [\n\t\t\t\t['let a=1-2', 2, 'let a'],\n\t\t\t\t['let a=1-2', 3, 'let a='],\n\t\t\t\t['let a=1-2', 4, 'let a=1'],\n\t\t\t\t['const myVar = 1+2', 4, 'const myVar = 1'],\n\t\t\t\t['<div id=\"myDiv\"></div>', 3, '<div id='],\n\t\t\t\t['<div id=\"myDiv\"></div>', 4, '<div id=\"myDiv\"></div>'],\n\t\t\t];\n\n\t\t\tcases.forEach(([str, nWords, result]) => doTest(str, nWords, result));\n\t\t});\n\n\t\ttest('codeblocks', () => {\n\t\t\tconst cases: [string, number, string][] = [\n\t\t\t\t['hello\\n\\n```\\n```\\n\\nworld foo', 2, 'hello\\n\\n```\\n```\\n\\nworld'],\n\t\t\t];\n\n\t\t\tcases.forEach(([str, nWords, result]) => doTest(str, nWords, result));\n\t\t});\n\n\t\ttest('chinese characters', () => {\n\t\t\tconst cases: [string, number, string][] = [\n\t\t\t\t['我喜欢中国菜', 3, '我喜欢'],\n\t\t\t];\n\n\t\t\tcases.forEach(([str, nWords, result]) => doTest(str, nWords, result));\n\t\t});\n\n\t\ttest(`Inline math shouldn't be broken up`, () => {\n\t\t\tconst cases: [string, number, string][] = [\n\t\t\t\t['a $x + y$ b', 3, 'a $x + y$ b'],\n\t\t\t\t['a $\\\\frac{1}{2} + \\\\sqrt{x^2 + y^2}$ b', 3, 'a $\\\\frac{1}{2} + \\\\sqrt{x^2 + y^2}$ b'],\n\t\t\t];\n\n\t\t\tcases.forEach(([str, nWords, result]) => doTest(str, nWords, result));\n\t\t});\n\t});\n});\n"]}