{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/chat/test/common/promptSyntax/config/config.test.ts","vs/workbench/contrib/chat/test/common/promptSyntax/config/config.test.ts"],"names":[],"mappings":"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","file":"config.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { mockService } from '../utils/mock.js';\nimport { PromptsConfig } from '../../../../common/promptSyntax/config/config.js';\nimport { PromptsType } from '../../../../common/promptSyntax/promptTypes.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../../../base/test/common/utils.js';\nimport { IConfigurationOverrides, IConfigurationService } from '../../../../../../../platform/configuration/common/configuration.js';\n\n/**\n * Mocked instance of {@link IConfigurationService}.\n */\nfunction createMock<T>(value: T): IConfigurationService {\n\treturn mockService<IConfigurationService>({\n\t\tgetValue(key?: string | IConfigurationOverrides) {\n\t\t\tassert(\n\t\t\t\ttypeof key === 'string',\n\t\t\t\t`Expected string configuration key, got '${typeof key}'.`,\n\t\t\t);\n\n\t\t\tassert(\n\t\t\t\t[PromptsConfig.PROMPT_LOCATIONS_KEY, PromptsConfig.INSTRUCTIONS_LOCATION_KEY, PromptsConfig.MODE_LOCATION_KEY].includes(key),\n\t\t\t\t`Unsupported configuration key '${key}'.`,\n\t\t\t);\n\n\t\t\treturn value;\n\t\t},\n\t});\n}\n\nsuite('PromptsConfig', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tsuite('getLocationsValue', () => {\n\t\ttest('undefined', () => {\n\t\t\tconst configService = createMock(undefined);\n\n\t\t\tassert.strictEqual(\n\t\t\t\tPromptsConfig.getLocationsValue(configService, PromptsType.prompt),\n\t\t\t\tundefined,\n\t\t\t\t'Must read correct value.',\n\t\t\t);\n\t\t});\n\n\t\ttest('null', () => {\n\t\t\tconst configService = createMock(null);\n\n\t\t\tassert.strictEqual(\n\t\t\t\tPromptsConfig.getLocationsValue(configService, PromptsType.prompt),\n\t\t\t\tundefined,\n\t\t\t\t'Must read correct value.',\n\t\t\t);\n\t\t});\n\n\t\tsuite('object', () => {\n\t\t\ttest('empty', () => {\n\t\t\t\tassert.deepStrictEqual(\n\t\t\t\t\tPromptsConfig.getLocationsValue(createMock({}), PromptsType.prompt),\n\t\t\t\t\t{},\n\t\t\t\t\t'Must read correct value.',\n\t\t\t\t);\n\t\t\t});\n\n\t\t\ttest('only valid strings', () => {\n\t\t\t\tassert.deepStrictEqual(\n\t\t\t\t\tPromptsConfig.getLocationsValue(createMock({\n\t\t\t\t\t\t'/root/.bashrc': true,\n\t\t\t\t\t\t'../../folder/.hidden-folder/config.xml': true,\n\t\t\t\t\t\t'/srv/www/Public_html/.htaccess': true,\n\t\t\t\t\t\t'../../another.folder/.WEIRD_FILE.log': true,\n\t\t\t\t\t\t'./folder.name/file.name': true,\n\t\t\t\t\t\t'/media/external/backup.tar.gz': true,\n\t\t\t\t\t\t'/Media/external/.secret.backup': true,\n\t\t\t\t\t\t'../relative/path.to.file': true,\n\t\t\t\t\t\t'./folderName.with.dots/more.dots.extension': true,\n\t\t\t\t\t\t'some/folder.with.dots/another.file': true,\n\t\t\t\t\t\t'/var/logs/app.01.05.error': true,\n\t\t\t\t\t\t'./.tempfile': true,\n\t\t\t\t\t}), PromptsType.prompt),\n\t\t\t\t\t{\n\t\t\t\t\t\t'/root/.bashrc': true,\n\t\t\t\t\t\t'../../folder/.hidden-folder/config.xml': true,\n\t\t\t\t\t\t'/srv/www/Public_html/.htaccess': true,\n\t\t\t\t\t\t'../../another.folder/.WEIRD_FILE.log': true,\n\t\t\t\t\t\t'./folder.name/file.name': true,\n\t\t\t\t\t\t'/media/external/backup.tar.gz': true,\n\t\t\t\t\t\t'/Media/external/.secret.backup': true,\n\t\t\t\t\t\t'../relative/path.to.file': true,\n\t\t\t\t\t\t'./folderName.with.dots/more.dots.extension': true,\n\t\t\t\t\t\t'some/folder.with.dots/another.file': true,\n\t\t\t\t\t\t'/var/logs/app.01.05.error': true,\n\t\t\t\t\t\t'./.tempfile': true,\n\t\t\t\t\t},\n\t\t\t\t\t'Must read correct value.',\n\t\t\t\t);\n\t\t\t});\n\n\t\t\ttest('filters out non valid entries', () => {\n\t\t\t\tassert.deepStrictEqual(\n\t\t\t\t\tPromptsConfig.getLocationsValue(createMock({\n\t\t\t\t\t\t'/etc/hosts.backup': '\\t\\n\\t',\n\t\t\t\t\t\t'./run.tests.sh': '\\v',\n\t\t\t\t\t\t'../assets/img/logo.v2.png': true,\n\t\t\t\t\t\t'/mnt/storage/video.archive/episode.01.mkv': false,\n\t\t\t\t\t\t'../.local/bin/script.sh': true,\n\t\t\t\t\t\t'/usr/local/share/.fonts/CustomFont.otf': '',\n\t\t\t\t\t\t'../../development/branch.name/some.test': true,\n\t\t\t\t\t\t'/Home/user/.ssh/config': true,\n\t\t\t\t\t\t'./hidden.dir/.subhidden': '\\f',\n\t\t\t\t\t\t'/tmp/.temp.folder/cache.db': true,\n\t\t\t\t\t\t'/opt/software/v3.2.1/build.log': '  ',\n\t\t\t\t\t\t'': true,\n\t\t\t\t\t\t'./scripts/.old.build.sh': true,\n\t\t\t\t\t\t'/var/data/datafile.2025-02-05.json': '\\n',\n\t\t\t\t\t\t'\\n\\n': true,\n\t\t\t\t\t\t'\\t': true,\n\t\t\t\t\t\t'\\v': true,\n\t\t\t\t\t\t'\\f': true,\n\t\t\t\t\t\t'\\r\\n': true,\n\t\t\t\t\t\t'\\f\\f': true,\n\t\t\t\t\t\t'../lib/some_library.v1.0.1.so': '\\r\\n',\n\t\t\t\t\t\t'/dev/shm/.shared_resource': 1234,\n\t\t\t\t\t}), PromptsType.prompt),\n\t\t\t\t\t{\n\t\t\t\t\t\t'../assets/img/logo.v2.png': true,\n\t\t\t\t\t\t'/mnt/storage/video.archive/episode.01.mkv': false,\n\t\t\t\t\t\t'../.local/bin/script.sh': true,\n\t\t\t\t\t\t'../../development/branch.name/some.test': true,\n\t\t\t\t\t\t'/Home/user/.ssh/config': true,\n\t\t\t\t\t\t'/tmp/.temp.folder/cache.db': true,\n\t\t\t\t\t\t'./scripts/.old.build.sh': true,\n\t\t\t\t\t},\n\t\t\t\t\t'Must read correct value.',\n\t\t\t\t);\n\t\t\t});\n\n\t\t\ttest('only invalid or false values', () => {\n\t\t\t\tassert.deepStrictEqual(\n\t\t\t\t\tPromptsConfig.getLocationsValue(createMock({\n\t\t\t\t\t\t'/etc/hosts.backup': '\\t\\n\\t',\n\t\t\t\t\t\t'./run.tests.sh': '\\v',\n\t\t\t\t\t\t'../assets/IMG/logo.v2.png': '',\n\t\t\t\t\t\t'/mnt/storage/video.archive/episode.01.mkv': false,\n\t\t\t\t\t\t'/usr/local/share/.fonts/CustomFont.otf': '',\n\t\t\t\t\t\t'./hidden.dir/.subhidden': '\\f',\n\t\t\t\t\t\t'/opt/Software/v3.2.1/build.log': '  ',\n\t\t\t\t\t\t'/var/data/datafile.2025-02-05.json': '\\n',\n\t\t\t\t\t\t'../lib/some_library.v1.0.1.so': '\\r\\n',\n\t\t\t\t\t\t'/dev/shm/.shared_resource': 2345,\n\t\t\t\t\t}), PromptsType.prompt),\n\t\t\t\t\t{\n\t\t\t\t\t\t'/mnt/storage/video.archive/episode.01.mkv': false,\n\t\t\t\t\t},\n\t\t\t\t\t'Must read correct value.',\n\t\t\t\t);\n\t\t\t});\n\t\t});\n\t});\n\n\tsuite('sourceLocations', () => {\n\t\ttest('undefined', () => {\n\t\t\tconst configService = createMock(undefined);\n\n\t\t\tassert.deepStrictEqual(\n\t\t\t\tPromptsConfig.promptSourceFolders(configService, PromptsType.prompt),\n\t\t\t\t[],\n\t\t\t\t'Must read correct value.',\n\t\t\t);\n\t\t});\n\n\t\ttest('null', () => {\n\t\t\tconst configService = createMock(null);\n\n\t\t\tassert.deepStrictEqual(\n\t\t\t\tPromptsConfig.promptSourceFolders(configService, PromptsType.prompt),\n\t\t\t\t[],\n\t\t\t\t'Must read correct value.',\n\t\t\t);\n\t\t});\n\n\t\tsuite('object', () => {\n\t\t\ttest('empty', () => {\n\t\t\t\tassert.deepStrictEqual(\n\t\t\t\t\tPromptsConfig.promptSourceFolders(createMock({}), PromptsType.prompt),\n\t\t\t\t\t['.github/prompts'],\n\t\t\t\t\t'Must read correct value.',\n\t\t\t\t);\n\t\t\t});\n\n\t\t\ttest('only valid strings', () => {\n\t\t\t\tassert.deepStrictEqual(\n\t\t\t\t\tPromptsConfig.promptSourceFolders(createMock({\n\t\t\t\t\t\t'/root/.bashrc': true,\n\t\t\t\t\t\t'../../folder/.hidden-folder/config.xml': true,\n\t\t\t\t\t\t'/srv/www/Public_html/.htaccess': true,\n\t\t\t\t\t\t'../../another.folder/.WEIRD_FILE.log': true,\n\t\t\t\t\t\t'./folder.name/file.name': true,\n\t\t\t\t\t\t'/media/external/backup.tar.gz': true,\n\t\t\t\t\t\t'/Media/external/.secret.backup': true,\n\t\t\t\t\t\t'../relative/path.to.file': true,\n\t\t\t\t\t\t'./folderName.with.dots/more.dots.extension': true,\n\t\t\t\t\t\t'some/folder.with.dots/another.file': true,\n\t\t\t\t\t\t'/var/logs/app.01.05.error': true,\n\t\t\t\t\t\t'.GitHub/prompts': true,\n\t\t\t\t\t\t'./.tempfile': true,\n\t\t\t\t\t}), PromptsType.prompt),\n\t\t\t\t\t[\n\t\t\t\t\t\t'.github/prompts',\n\t\t\t\t\t\t'/root/.bashrc',\n\t\t\t\t\t\t'../../folder/.hidden-folder/config.xml',\n\t\t\t\t\t\t'/srv/www/Public_html/.htaccess',\n\t\t\t\t\t\t'../../another.folder/.WEIRD_FILE.log',\n\t\t\t\t\t\t'./folder.name/file.name',\n\t\t\t\t\t\t'/media/external/backup.tar.gz',\n\t\t\t\t\t\t'/Media/external/.secret.backup',\n\t\t\t\t\t\t'../relative/path.to.file',\n\t\t\t\t\t\t'./folderName.with.dots/more.dots.extension',\n\t\t\t\t\t\t'some/folder.with.dots/another.file',\n\t\t\t\t\t\t'/var/logs/app.01.05.error',\n\t\t\t\t\t\t'.GitHub/prompts',\n\t\t\t\t\t\t'./.tempfile',\n\t\t\t\t\t],\n\t\t\t\t\t'Must read correct value.',\n\t\t\t\t);\n\t\t\t});\n\n\t\t\ttest('filters out non valid entries', () => {\n\t\t\t\tassert.deepStrictEqual(\n\t\t\t\t\tPromptsConfig.promptSourceFolders(createMock({\n\t\t\t\t\t\t'/etc/hosts.backup': '\\t\\n\\t',\n\t\t\t\t\t\t'./run.tests.sh': '\\v',\n\t\t\t\t\t\t'../assets/img/logo.v2.png': true,\n\t\t\t\t\t\t'/mnt/storage/video.archive/episode.01.mkv': false,\n\t\t\t\t\t\t'../.local/bin/script.sh': true,\n\t\t\t\t\t\t'/usr/local/share/.fonts/CustomFont.otf': '',\n\t\t\t\t\t\t'../../development/branch.name/some.test': true,\n\t\t\t\t\t\t'.giThub/prompts': true,\n\t\t\t\t\t\t'/Home/user/.ssh/config': true,\n\t\t\t\t\t\t'./hidden.dir/.subhidden': '\\f',\n\t\t\t\t\t\t'/tmp/.temp.folder/cache.db': true,\n\t\t\t\t\t\t'.github/prompts': true,\n\t\t\t\t\t\t'/opt/software/v3.2.1/build.log': '  ',\n\t\t\t\t\t\t'': true,\n\t\t\t\t\t\t'./scripts/.old.build.sh': true,\n\t\t\t\t\t\t'/var/data/datafile.2025-02-05.json': '\\n',\n\t\t\t\t\t\t'\\n\\n': true,\n\t\t\t\t\t\t'\\t': true,\n\t\t\t\t\t\t'\\v': true,\n\t\t\t\t\t\t'\\f': true,\n\t\t\t\t\t\t'\\r\\n': true,\n\t\t\t\t\t\t'\\f\\f': true,\n\t\t\t\t\t\t'../lib/some_library.v1.0.1.so': '\\r\\n',\n\t\t\t\t\t\t'/dev/shm/.shared_resource': 2345,\n\t\t\t\t\t}), PromptsType.prompt),\n\t\t\t\t\t[\n\t\t\t\t\t\t'.github/prompts',\n\t\t\t\t\t\t'../assets/img/logo.v2.png',\n\t\t\t\t\t\t'../.local/bin/script.sh',\n\t\t\t\t\t\t'../../development/branch.name/some.test',\n\t\t\t\t\t\t'.giThub/prompts',\n\t\t\t\t\t\t'/Home/user/.ssh/config',\n\t\t\t\t\t\t'/tmp/.temp.folder/cache.db',\n\t\t\t\t\t\t'./scripts/.old.build.sh',\n\t\t\t\t\t],\n\t\t\t\t\t'Must read correct value.',\n\t\t\t\t);\n\t\t\t});\n\n\t\t\ttest('only invalid or false values', () => {\n\t\t\t\tassert.deepStrictEqual(\n\t\t\t\t\tPromptsConfig.promptSourceFolders(createMock({\n\t\t\t\t\t\t'/etc/hosts.backup': '\\t\\n\\t',\n\t\t\t\t\t\t'./run.tests.sh': '\\v',\n\t\t\t\t\t\t'../assets/IMG/logo.v2.png': '',\n\t\t\t\t\t\t'/mnt/storage/video.archive/episode.01.mkv': false,\n\t\t\t\t\t\t'/usr/local/share/.fonts/CustomFont.otf': '',\n\t\t\t\t\t\t'./hidden.dir/.subhidden': '\\f',\n\t\t\t\t\t\t'/opt/Software/v3.2.1/build.log': '  ',\n\t\t\t\t\t\t'/var/data/datafile.2025-02-05.json': '\\n',\n\t\t\t\t\t\t'../lib/some_library.v1.0.1.so': '\\r\\n',\n\t\t\t\t\t\t'/dev/shm/.shared_resource': 7654,\n\t\t\t\t\t}), PromptsType.prompt),\n\t\t\t\t\t[\n\t\t\t\t\t\t'.github/prompts',\n\t\t\t\t\t],\n\t\t\t\t\t'Must read correct value.',\n\t\t\t\t);\n\t\t\t});\n\n\t\t\ttest('filters out disabled default location', () => {\n\t\t\t\tassert.deepStrictEqual(\n\t\t\t\t\tPromptsConfig.promptSourceFolders(createMock({\n\t\t\t\t\t\t'/etc/hosts.backup': '\\t\\n\\t',\n\t\t\t\t\t\t'./run.tests.sh': '\\v',\n\t\t\t\t\t\t'.github/prompts': false,\n\t\t\t\t\t\t'../assets/img/logo.v2.png': true,\n\t\t\t\t\t\t'/mnt/storage/video.archive/episode.01.mkv': false,\n\t\t\t\t\t\t'../.local/bin/script.sh': true,\n\t\t\t\t\t\t'/usr/local/share/.fonts/CustomFont.otf': '',\n\t\t\t\t\t\t'../../development/branch.name/some.test': true,\n\t\t\t\t\t\t'.giThub/prompts': true,\n\t\t\t\t\t\t'/Home/user/.ssh/config': true,\n\t\t\t\t\t\t'./hidden.dir/.subhidden': '\\f',\n\t\t\t\t\t\t'/tmp/.temp.folder/cache.db': true,\n\t\t\t\t\t\t'/opt/software/v3.2.1/build.log': '  ',\n\t\t\t\t\t\t'': true,\n\t\t\t\t\t\t'./scripts/.old.build.sh': true,\n\t\t\t\t\t\t'/var/data/datafile.2025-02-05.json': '\\n',\n\t\t\t\t\t\t'\\n\\n': true,\n\t\t\t\t\t\t'\\t': true,\n\t\t\t\t\t\t'\\v': true,\n\t\t\t\t\t\t'\\f': true,\n\t\t\t\t\t\t'\\r\\n': true,\n\t\t\t\t\t\t'\\f\\f': true,\n\t\t\t\t\t\t'../lib/some_library.v1.0.1.so': '\\r\\n',\n\t\t\t\t\t\t'/dev/shm/.shared_resource': 853,\n\t\t\t\t\t}), PromptsType.prompt),\n\t\t\t\t\t[\n\t\t\t\t\t\t'../assets/img/logo.v2.png',\n\t\t\t\t\t\t'../.local/bin/script.sh',\n\t\t\t\t\t\t'../../development/branch.name/some.test',\n\t\t\t\t\t\t'.giThub/prompts',\n\t\t\t\t\t\t'/Home/user/.ssh/config',\n\t\t\t\t\t\t'/tmp/.temp.folder/cache.db',\n\t\t\t\t\t\t'./scripts/.old.build.sh',\n\t\t\t\t\t],\n\t\t\t\t\t'Must read correct value.',\n\t\t\t\t);\n\t\t\t});\n\t\t});\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { mockService } from '../utils/mock.js';\nimport { PromptsConfig } from '../../../../common/promptSyntax/config/config.js';\nimport { PromptsType } from '../../../../common/promptSyntax/promptTypes.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../../../base/test/common/utils.js';\nimport { IConfigurationOverrides, IConfigurationService } from '../../../../../../../platform/configuration/common/configuration.js';\n\n/**\n * Mocked instance of {@link IConfigurationService}.\n */\nfunction createMock<T>(value: T): IConfigurationService {\n\treturn mockService<IConfigurationService>({\n\t\tgetValue(key?: string | IConfigurationOverrides) {\n\t\t\tassert(\n\t\t\t\ttypeof key === 'string',\n\t\t\t\t`Expected string configuration key, got '${typeof key}'.`,\n\t\t\t);\n\n\t\t\tassert(\n\t\t\t\t[PromptsConfig.PROMPT_LOCATIONS_KEY, PromptsConfig.INSTRUCTIONS_LOCATION_KEY, PromptsConfig.MODE_LOCATION_KEY].includes(key),\n\t\t\t\t`Unsupported configuration key '${key}'.`,\n\t\t\t);\n\n\t\t\treturn value;\n\t\t},\n\t});\n}\n\nsuite('PromptsConfig', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tsuite('getLocationsValue', () => {\n\t\ttest('undefined', () => {\n\t\t\tconst configService = createMock(undefined);\n\n\t\t\tassert.strictEqual(\n\t\t\t\tPromptsConfig.getLocationsValue(configService, PromptsType.prompt),\n\t\t\t\tundefined,\n\t\t\t\t'Must read correct value.',\n\t\t\t);\n\t\t});\n\n\t\ttest('null', () => {\n\t\t\tconst configService = createMock(null);\n\n\t\t\tassert.strictEqual(\n\t\t\t\tPromptsConfig.getLocationsValue(configService, PromptsType.prompt),\n\t\t\t\tundefined,\n\t\t\t\t'Must read correct value.',\n\t\t\t);\n\t\t});\n\n\t\tsuite('object', () => {\n\t\t\ttest('empty', () => {\n\t\t\t\tassert.deepStrictEqual(\n\t\t\t\t\tPromptsConfig.getLocationsValue(createMock({}), PromptsType.prompt),\n\t\t\t\t\t{},\n\t\t\t\t\t'Must read correct value.',\n\t\t\t\t);\n\t\t\t});\n\n\t\t\ttest('only valid strings', () => {\n\t\t\t\tassert.deepStrictEqual(\n\t\t\t\t\tPromptsConfig.getLocationsValue(createMock({\n\t\t\t\t\t\t'/root/.bashrc': true,\n\t\t\t\t\t\t'../../folder/.hidden-folder/config.xml': true,\n\t\t\t\t\t\t'/srv/www/Public_html/.htaccess': true,\n\t\t\t\t\t\t'../../another.folder/.WEIRD_FILE.log': true,\n\t\t\t\t\t\t'./folder.name/file.name': true,\n\t\t\t\t\t\t'/media/external/backup.tar.gz': true,\n\t\t\t\t\t\t'/Media/external/.secret.backup': true,\n\t\t\t\t\t\t'../relative/path.to.file': true,\n\t\t\t\t\t\t'./folderName.with.dots/more.dots.extension': true,\n\t\t\t\t\t\t'some/folder.with.dots/another.file': true,\n\t\t\t\t\t\t'/var/logs/app.01.05.error': true,\n\t\t\t\t\t\t'./.tempfile': true,\n\t\t\t\t\t}), PromptsType.prompt),\n\t\t\t\t\t{\n\t\t\t\t\t\t'/root/.bashrc': true,\n\t\t\t\t\t\t'../../folder/.hidden-folder/config.xml': true,\n\t\t\t\t\t\t'/srv/www/Public_html/.htaccess': true,\n\t\t\t\t\t\t'../../another.folder/.WEIRD_FILE.log': true,\n\t\t\t\t\t\t'./folder.name/file.name': true,\n\t\t\t\t\t\t'/media/external/backup.tar.gz': true,\n\t\t\t\t\t\t'/Media/external/.secret.backup': true,\n\t\t\t\t\t\t'../relative/path.to.file': true,\n\t\t\t\t\t\t'./folderName.with.dots/more.dots.extension': true,\n\t\t\t\t\t\t'some/folder.with.dots/another.file': true,\n\t\t\t\t\t\t'/var/logs/app.01.05.error': true,\n\t\t\t\t\t\t'./.tempfile': true,\n\t\t\t\t\t},\n\t\t\t\t\t'Must read correct value.',\n\t\t\t\t);\n\t\t\t});\n\n\t\t\ttest('filters out non valid entries', () => {\n\t\t\t\tassert.deepStrictEqual(\n\t\t\t\t\tPromptsConfig.getLocationsValue(createMock({\n\t\t\t\t\t\t'/etc/hosts.backup': '\\t\\n\\t',\n\t\t\t\t\t\t'./run.tests.sh': '\\v',\n\t\t\t\t\t\t'../assets/img/logo.v2.png': true,\n\t\t\t\t\t\t'/mnt/storage/video.archive/episode.01.mkv': false,\n\t\t\t\t\t\t'../.local/bin/script.sh': true,\n\t\t\t\t\t\t'/usr/local/share/.fonts/CustomFont.otf': '',\n\t\t\t\t\t\t'../../development/branch.name/some.test': true,\n\t\t\t\t\t\t'/Home/user/.ssh/config': true,\n\t\t\t\t\t\t'./hidden.dir/.subhidden': '\\f',\n\t\t\t\t\t\t'/tmp/.temp.folder/cache.db': true,\n\t\t\t\t\t\t'/opt/software/v3.2.1/build.log': '  ',\n\t\t\t\t\t\t'': true,\n\t\t\t\t\t\t'./scripts/.old.build.sh': true,\n\t\t\t\t\t\t'/var/data/datafile.2025-02-05.json': '\\n',\n\t\t\t\t\t\t'\\n\\n': true,\n\t\t\t\t\t\t'\\t': true,\n\t\t\t\t\t\t'\\v': true,\n\t\t\t\t\t\t'\\f': true,\n\t\t\t\t\t\t'\\r\\n': true,\n\t\t\t\t\t\t'\\f\\f': true,\n\t\t\t\t\t\t'../lib/some_library.v1.0.1.so': '\\r\\n',\n\t\t\t\t\t\t'/dev/shm/.shared_resource': 1234,\n\t\t\t\t\t}), PromptsType.prompt),\n\t\t\t\t\t{\n\t\t\t\t\t\t'../assets/img/logo.v2.png': true,\n\t\t\t\t\t\t'/mnt/storage/video.archive/episode.01.mkv': false,\n\t\t\t\t\t\t'../.local/bin/script.sh': true,\n\t\t\t\t\t\t'../../development/branch.name/some.test': true,\n\t\t\t\t\t\t'/Home/user/.ssh/config': true,\n\t\t\t\t\t\t'/tmp/.temp.folder/cache.db': true,\n\t\t\t\t\t\t'./scripts/.old.build.sh': true,\n\t\t\t\t\t},\n\t\t\t\t\t'Must read correct value.',\n\t\t\t\t);\n\t\t\t});\n\n\t\t\ttest('only invalid or false values', () => {\n\t\t\t\tassert.deepStrictEqual(\n\t\t\t\t\tPromptsConfig.getLocationsValue(createMock({\n\t\t\t\t\t\t'/etc/hosts.backup': '\\t\\n\\t',\n\t\t\t\t\t\t'./run.tests.sh': '\\v',\n\t\t\t\t\t\t'../assets/IMG/logo.v2.png': '',\n\t\t\t\t\t\t'/mnt/storage/video.archive/episode.01.mkv': false,\n\t\t\t\t\t\t'/usr/local/share/.fonts/CustomFont.otf': '',\n\t\t\t\t\t\t'./hidden.dir/.subhidden': '\\f',\n\t\t\t\t\t\t'/opt/Software/v3.2.1/build.log': '  ',\n\t\t\t\t\t\t'/var/data/datafile.2025-02-05.json': '\\n',\n\t\t\t\t\t\t'../lib/some_library.v1.0.1.so': '\\r\\n',\n\t\t\t\t\t\t'/dev/shm/.shared_resource': 2345,\n\t\t\t\t\t}), PromptsType.prompt),\n\t\t\t\t\t{\n\t\t\t\t\t\t'/mnt/storage/video.archive/episode.01.mkv': false,\n\t\t\t\t\t},\n\t\t\t\t\t'Must read correct value.',\n\t\t\t\t);\n\t\t\t});\n\t\t});\n\t});\n\n\tsuite('sourceLocations', () => {\n\t\ttest('undefined', () => {\n\t\t\tconst configService = createMock(undefined);\n\n\t\t\tassert.deepStrictEqual(\n\t\t\t\tPromptsConfig.promptSourceFolders(configService, PromptsType.prompt),\n\t\t\t\t[],\n\t\t\t\t'Must read correct value.',\n\t\t\t);\n\t\t});\n\n\t\ttest('null', () => {\n\t\t\tconst configService = createMock(null);\n\n\t\t\tassert.deepStrictEqual(\n\t\t\t\tPromptsConfig.promptSourceFolders(configService, PromptsType.prompt),\n\t\t\t\t[],\n\t\t\t\t'Must read correct value.',\n\t\t\t);\n\t\t});\n\n\t\tsuite('object', () => {\n\t\t\ttest('empty', () => {\n\t\t\t\tassert.deepStrictEqual(\n\t\t\t\t\tPromptsConfig.promptSourceFolders(createMock({}), PromptsType.prompt),\n\t\t\t\t\t['.github/prompts'],\n\t\t\t\t\t'Must read correct value.',\n\t\t\t\t);\n\t\t\t});\n\n\t\t\ttest('only valid strings', () => {\n\t\t\t\tassert.deepStrictEqual(\n\t\t\t\t\tPromptsConfig.promptSourceFolders(createMock({\n\t\t\t\t\t\t'/root/.bashrc': true,\n\t\t\t\t\t\t'../../folder/.hidden-folder/config.xml': true,\n\t\t\t\t\t\t'/srv/www/Public_html/.htaccess': true,\n\t\t\t\t\t\t'../../another.folder/.WEIRD_FILE.log': true,\n\t\t\t\t\t\t'./folder.name/file.name': true,\n\t\t\t\t\t\t'/media/external/backup.tar.gz': true,\n\t\t\t\t\t\t'/Media/external/.secret.backup': true,\n\t\t\t\t\t\t'../relative/path.to.file': true,\n\t\t\t\t\t\t'./folderName.with.dots/more.dots.extension': true,\n\t\t\t\t\t\t'some/folder.with.dots/another.file': true,\n\t\t\t\t\t\t'/var/logs/app.01.05.error': true,\n\t\t\t\t\t\t'.GitHub/prompts': true,\n\t\t\t\t\t\t'./.tempfile': true,\n\t\t\t\t\t}), PromptsType.prompt),\n\t\t\t\t\t[\n\t\t\t\t\t\t'.github/prompts',\n\t\t\t\t\t\t'/root/.bashrc',\n\t\t\t\t\t\t'../../folder/.hidden-folder/config.xml',\n\t\t\t\t\t\t'/srv/www/Public_html/.htaccess',\n\t\t\t\t\t\t'../../another.folder/.WEIRD_FILE.log',\n\t\t\t\t\t\t'./folder.name/file.name',\n\t\t\t\t\t\t'/media/external/backup.tar.gz',\n\t\t\t\t\t\t'/Media/external/.secret.backup',\n\t\t\t\t\t\t'../relative/path.to.file',\n\t\t\t\t\t\t'./folderName.with.dots/more.dots.extension',\n\t\t\t\t\t\t'some/folder.with.dots/another.file',\n\t\t\t\t\t\t'/var/logs/app.01.05.error',\n\t\t\t\t\t\t'.GitHub/prompts',\n\t\t\t\t\t\t'./.tempfile',\n\t\t\t\t\t],\n\t\t\t\t\t'Must read correct value.',\n\t\t\t\t);\n\t\t\t});\n\n\t\t\ttest('filters out non valid entries', () => {\n\t\t\t\tassert.deepStrictEqual(\n\t\t\t\t\tPromptsConfig.promptSourceFolders(createMock({\n\t\t\t\t\t\t'/etc/hosts.backup': '\\t\\n\\t',\n\t\t\t\t\t\t'./run.tests.sh': '\\v',\n\t\t\t\t\t\t'../assets/img/logo.v2.png': true,\n\t\t\t\t\t\t'/mnt/storage/video.archive/episode.01.mkv': false,\n\t\t\t\t\t\t'../.local/bin/script.sh': true,\n\t\t\t\t\t\t'/usr/local/share/.fonts/CustomFont.otf': '',\n\t\t\t\t\t\t'../../development/branch.name/some.test': true,\n\t\t\t\t\t\t'.giThub/prompts': true,\n\t\t\t\t\t\t'/Home/user/.ssh/config': true,\n\t\t\t\t\t\t'./hidden.dir/.subhidden': '\\f',\n\t\t\t\t\t\t'/tmp/.temp.folder/cache.db': true,\n\t\t\t\t\t\t'.github/prompts': true,\n\t\t\t\t\t\t'/opt/software/v3.2.1/build.log': '  ',\n\t\t\t\t\t\t'': true,\n\t\t\t\t\t\t'./scripts/.old.build.sh': true,\n\t\t\t\t\t\t'/var/data/datafile.2025-02-05.json': '\\n',\n\t\t\t\t\t\t'\\n\\n': true,\n\t\t\t\t\t\t'\\t': true,\n\t\t\t\t\t\t'\\v': true,\n\t\t\t\t\t\t'\\f': true,\n\t\t\t\t\t\t'\\r\\n': true,\n\t\t\t\t\t\t'\\f\\f': true,\n\t\t\t\t\t\t'../lib/some_library.v1.0.1.so': '\\r\\n',\n\t\t\t\t\t\t'/dev/shm/.shared_resource': 2345,\n\t\t\t\t\t}), PromptsType.prompt),\n\t\t\t\t\t[\n\t\t\t\t\t\t'.github/prompts',\n\t\t\t\t\t\t'../assets/img/logo.v2.png',\n\t\t\t\t\t\t'../.local/bin/script.sh',\n\t\t\t\t\t\t'../../development/branch.name/some.test',\n\t\t\t\t\t\t'.giThub/prompts',\n\t\t\t\t\t\t'/Home/user/.ssh/config',\n\t\t\t\t\t\t'/tmp/.temp.folder/cache.db',\n\t\t\t\t\t\t'./scripts/.old.build.sh',\n\t\t\t\t\t],\n\t\t\t\t\t'Must read correct value.',\n\t\t\t\t);\n\t\t\t});\n\n\t\t\ttest('only invalid or false values', () => {\n\t\t\t\tassert.deepStrictEqual(\n\t\t\t\t\tPromptsConfig.promptSourceFolders(createMock({\n\t\t\t\t\t\t'/etc/hosts.backup': '\\t\\n\\t',\n\t\t\t\t\t\t'./run.tests.sh': '\\v',\n\t\t\t\t\t\t'../assets/IMG/logo.v2.png': '',\n\t\t\t\t\t\t'/mnt/storage/video.archive/episode.01.mkv': false,\n\t\t\t\t\t\t'/usr/local/share/.fonts/CustomFont.otf': '',\n\t\t\t\t\t\t'./hidden.dir/.subhidden': '\\f',\n\t\t\t\t\t\t'/opt/Software/v3.2.1/build.log': '  ',\n\t\t\t\t\t\t'/var/data/datafile.2025-02-05.json': '\\n',\n\t\t\t\t\t\t'../lib/some_library.v1.0.1.so': '\\r\\n',\n\t\t\t\t\t\t'/dev/shm/.shared_resource': 7654,\n\t\t\t\t\t}), PromptsType.prompt),\n\t\t\t\t\t[\n\t\t\t\t\t\t'.github/prompts',\n\t\t\t\t\t],\n\t\t\t\t\t'Must read correct value.',\n\t\t\t\t);\n\t\t\t});\n\n\t\t\ttest('filters out disabled default location', () => {\n\t\t\t\tassert.deepStrictEqual(\n\t\t\t\t\tPromptsConfig.promptSourceFolders(createMock({\n\t\t\t\t\t\t'/etc/hosts.backup': '\\t\\n\\t',\n\t\t\t\t\t\t'./run.tests.sh': '\\v',\n\t\t\t\t\t\t'.github/prompts': false,\n\t\t\t\t\t\t'../assets/img/logo.v2.png': true,\n\t\t\t\t\t\t'/mnt/storage/video.archive/episode.01.mkv': false,\n\t\t\t\t\t\t'../.local/bin/script.sh': true,\n\t\t\t\t\t\t'/usr/local/share/.fonts/CustomFont.otf': '',\n\t\t\t\t\t\t'../../development/branch.name/some.test': true,\n\t\t\t\t\t\t'.giThub/prompts': true,\n\t\t\t\t\t\t'/Home/user/.ssh/config': true,\n\t\t\t\t\t\t'./hidden.dir/.subhidden': '\\f',\n\t\t\t\t\t\t'/tmp/.temp.folder/cache.db': true,\n\t\t\t\t\t\t'/opt/software/v3.2.1/build.log': '  ',\n\t\t\t\t\t\t'': true,\n\t\t\t\t\t\t'./scripts/.old.build.sh': true,\n\t\t\t\t\t\t'/var/data/datafile.2025-02-05.json': '\\n',\n\t\t\t\t\t\t'\\n\\n': true,\n\t\t\t\t\t\t'\\t': true,\n\t\t\t\t\t\t'\\v': true,\n\t\t\t\t\t\t'\\f': true,\n\t\t\t\t\t\t'\\r\\n': true,\n\t\t\t\t\t\t'\\f\\f': true,\n\t\t\t\t\t\t'../lib/some_library.v1.0.1.so': '\\r\\n',\n\t\t\t\t\t\t'/dev/shm/.shared_resource': 853,\n\t\t\t\t\t}), PromptsType.prompt),\n\t\t\t\t\t[\n\t\t\t\t\t\t'../assets/img/logo.v2.png',\n\t\t\t\t\t\t'../.local/bin/script.sh',\n\t\t\t\t\t\t'../../development/branch.name/some.test',\n\t\t\t\t\t\t'.giThub/prompts',\n\t\t\t\t\t\t'/Home/user/.ssh/config',\n\t\t\t\t\t\t'/tmp/.temp.folder/cache.db',\n\t\t\t\t\t\t'./scripts/.old.build.sh',\n\t\t\t\t\t],\n\t\t\t\t\t'Must read correct value.',\n\t\t\t\t);\n\t\t\t});\n\t\t});\n\t});\n});\n"]}