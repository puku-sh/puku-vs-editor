{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/chat/test/common/promptSyntax/utils/mock.test.ts","vs/workbench/contrib/chat/test/common/promptSyntax/utils/mock.test.ts"],"names":[],"mappings":"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","file":"mock.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { mockObject, mockService } from './mock.js';\nimport { typeCheck } from '../../../../../../../base/common/types.js';\nimport { randomBoolean } from '../../../../../../../base/test/common/testUtils.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../../../base/test/common/utils.js';\n\nsuite('mockService', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tsuite('mockObject', () => {\n\t\ttest('overrides properties and functions', () => {\n\t\t\tinterface ITestObject {\n\t\t\t\tfoo: string;\n\t\t\t\tbar: string;\n\t\t\t\treadonly baz: number;\n\t\t\t\tsomeMethod(arg: boolean): string;\n\t\t\t\tanotherMethod(arg: number): boolean;\n\t\t\t}\n\n\t\t\tconst mock = mockObject<ITestObject>({\n\t\t\t\tbar: 'oh hi!',\n\t\t\t\tbaz: 42,\n\t\t\t\tanotherMethod(arg: number): boolean {\n\t\t\t\t\treturn isNaN(arg);\n\t\t\t\t},\n\t\t\t});\n\n\t\t\ttypeCheck<ITestObject>(mock);\n\n\t\t\tassert.strictEqual(\n\t\t\t\tmock.bar,\n\t\t\t\t'oh hi!',\n\t\t\t\t'bar should be overriden',\n\t\t\t);\n\n\t\t\tassert.strictEqual(\n\t\t\t\tmock.baz,\n\t\t\t\t42,\n\t\t\t\t'baz should be overriden',\n\t\t\t);\n\n\t\t\tassert(\n\t\t\t\t!(mock.anotherMethod(490274)),\n\t\t\t\t'Must execute overriden method correctly 1.',\n\t\t\t);\n\n\t\t\tassert(\n\t\t\t\tmock.anotherMethod(NaN),\n\t\t\t\t'Must execute overriden method correctly 2.',\n\t\t\t);\n\n\t\t\tassert.throws(() => {\n\t\t\t\t// property is not overriden so must throw\n\t\t\t\t// eslint-disable-next-line local/code-no-unused-expressions\n\t\t\t\tmock.foo;\n\t\t\t});\n\n\t\t\tassert.throws(() => {\n\t\t\t\t// function is not overriden so must throw\n\t\t\t\tmock.someMethod(randomBoolean());\n\t\t\t});\n\t\t});\n\n\t\ttest('immutability of the overrides object', () => {\n\t\t\tinterface ITestObject {\n\t\t\t\tfoo: string;\n\t\t\t\tbar: string;\n\t\t\t\treadonly baz: number;\n\t\t\t\tsomeMethod(arg: boolean): string;\n\t\t\t\tanotherMethod(arg: number): boolean;\n\t\t\t}\n\n\t\t\tconst overrides: Partial<ITestObject> = {\n\t\t\t\tbaz: 4,\n\t\t\t};\n\t\t\tconst mock = mockObject<ITestObject>(overrides);\n\t\t\ttypeCheck<ITestObject>(mock);\n\n\t\t\tassert.strictEqual(\n\t\t\t\tmock.baz,\n\t\t\t\t4,\n\t\t\t\t'baz should be overridden',\n\t\t\t);\n\n\t\t\t// overrides object must be immutable\n\t\t\tassert.throws(() => {\n\t\t\t\toverrides.foo = 'test';\n\t\t\t});\n\n\t\t\tassert.throws(() => {\n\t\t\t\toverrides.someMethod = (arg: boolean): string => {\n\t\t\t\t\treturn `${arg}__${arg}`;\n\t\t\t\t};\n\t\t\t});\n\t\t});\n\t});\n\n\tsuite('mockService', () => {\n\t\ttest('overrides properties and functions', () => {\n\t\t\tinterface ITestService {\n\t\t\t\treadonly _serviceBrand: undefined;\n\t\t\t\tprop1: string;\n\t\t\t\tid: string;\n\t\t\t\treadonly counter: number;\n\t\t\t\tmethod1(arg: boolean): string;\n\t\t\t\ttestMethod2(arg: number): boolean;\n\t\t\t}\n\n\t\t\tconst mock = mockService<ITestService>({\n\t\t\t\tid: 'ciao!',\n\t\t\t\tcounter: 74,\n\t\t\t\ttestMethod2(arg: number): boolean {\n\t\t\t\t\treturn !isNaN(arg);\n\t\t\t\t},\n\t\t\t});\n\n\t\t\ttypeCheck<ITestService>(mock);\n\n\t\t\tassert.strictEqual(\n\t\t\t\tmock.id,\n\t\t\t\t'ciao!',\n\t\t\t\t'id should be overridden',\n\t\t\t);\n\n\t\t\tassert.strictEqual(\n\t\t\t\tmock.counter,\n\t\t\t\t74,\n\t\t\t\t'counter should be overridden',\n\t\t\t);\n\n\t\t\tassert(\n\t\t\t\tmock.testMethod2(74368),\n\t\t\t\t'Must execute overridden method correctly 1.',\n\t\t\t);\n\n\t\t\tassert(\n\t\t\t\t!(mock.testMethod2(NaN)),\n\t\t\t\t'Must execute overridden method correctly 2.',\n\t\t\t);\n\n\t\t\tassert.throws(() => {\n\t\t\t\t// property is not overridden so must throw\n\t\t\t\t// eslint-disable-next-line local/code-no-unused-expressions\n\t\t\t\tmock.prop1;\n\t\t\t});\n\n\t\t\tassert.throws(() => {\n\t\t\t\t// function is not overridden so must throw\n\t\t\t\tmock.method1(randomBoolean());\n\t\t\t});\n\t\t});\n\n\t\ttest('immutability of the overrides object', () => {\n\t\t\tinterface ITestService {\n\t\t\t\treadonly _serviceBrand: undefined;\n\t\t\t\tfoo: string;\n\t\t\t\tbar: string;\n\t\t\t\treadonly baz: boolean;\n\t\t\t\tsomeMethod(arg: boolean): string;\n\t\t\t\tanotherMethod(arg: number): boolean;\n\t\t\t}\n\n\t\t\tconst overrides: Partial<ITestService> = {\n\t\t\t\tbaz: false,\n\t\t\t};\n\t\t\tconst mock = mockService<ITestService>(overrides);\n\t\t\ttypeCheck<ITestService>(mock);\n\n\t\t\tassert.strictEqual(\n\t\t\t\tmock.baz,\n\t\t\t\tfalse,\n\t\t\t\t'baz should be overridden',\n\t\t\t);\n\n\t\t\t// overrides object must be immutable\n\t\t\tassert.throws(() => {\n\t\t\t\toverrides.foo = 'test';\n\t\t\t});\n\n\t\t\tassert.throws(() => {\n\t\t\t\toverrides.someMethod = (arg: boolean): string => {\n\t\t\t\t\treturn `${arg}__${arg}`;\n\t\t\t\t};\n\t\t\t});\n\t\t});\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { mockObject, mockService } from './mock.js';\nimport { typeCheck } from '../../../../../../../base/common/types.js';\nimport { randomBoolean } from '../../../../../../../base/test/common/testUtils.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../../../base/test/common/utils.js';\n\nsuite('mockService', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tsuite('mockObject', () => {\n\t\ttest('overrides properties and functions', () => {\n\t\t\tinterface ITestObject {\n\t\t\t\tfoo: string;\n\t\t\t\tbar: string;\n\t\t\t\treadonly baz: number;\n\t\t\t\tsomeMethod(arg: boolean): string;\n\t\t\t\tanotherMethod(arg: number): boolean;\n\t\t\t}\n\n\t\t\tconst mock = mockObject<ITestObject>({\n\t\t\t\tbar: 'oh hi!',\n\t\t\t\tbaz: 42,\n\t\t\t\tanotherMethod(arg: number): boolean {\n\t\t\t\t\treturn isNaN(arg);\n\t\t\t\t},\n\t\t\t});\n\n\t\t\ttypeCheck<ITestObject>(mock);\n\n\t\t\tassert.strictEqual(\n\t\t\t\tmock.bar,\n\t\t\t\t'oh hi!',\n\t\t\t\t'bar should be overriden',\n\t\t\t);\n\n\t\t\tassert.strictEqual(\n\t\t\t\tmock.baz,\n\t\t\t\t42,\n\t\t\t\t'baz should be overriden',\n\t\t\t);\n\n\t\t\tassert(\n\t\t\t\t!(mock.anotherMethod(490274)),\n\t\t\t\t'Must execute overriden method correctly 1.',\n\t\t\t);\n\n\t\t\tassert(\n\t\t\t\tmock.anotherMethod(NaN),\n\t\t\t\t'Must execute overriden method correctly 2.',\n\t\t\t);\n\n\t\t\tassert.throws(() => {\n\t\t\t\t// property is not overriden so must throw\n\t\t\t\t// eslint-disable-next-line local/code-no-unused-expressions\n\t\t\t\tmock.foo;\n\t\t\t});\n\n\t\t\tassert.throws(() => {\n\t\t\t\t// function is not overriden so must throw\n\t\t\t\tmock.someMethod(randomBoolean());\n\t\t\t});\n\t\t});\n\n\t\ttest('immutability of the overrides object', () => {\n\t\t\tinterface ITestObject {\n\t\t\t\tfoo: string;\n\t\t\t\tbar: string;\n\t\t\t\treadonly baz: number;\n\t\t\t\tsomeMethod(arg: boolean): string;\n\t\t\t\tanotherMethod(arg: number): boolean;\n\t\t\t}\n\n\t\t\tconst overrides: Partial<ITestObject> = {\n\t\t\t\tbaz: 4,\n\t\t\t};\n\t\t\tconst mock = mockObject<ITestObject>(overrides);\n\t\t\ttypeCheck<ITestObject>(mock);\n\n\t\t\tassert.strictEqual(\n\t\t\t\tmock.baz,\n\t\t\t\t4,\n\t\t\t\t'baz should be overridden',\n\t\t\t);\n\n\t\t\t// overrides object must be immutable\n\t\t\tassert.throws(() => {\n\t\t\t\toverrides.foo = 'test';\n\t\t\t});\n\n\t\t\tassert.throws(() => {\n\t\t\t\toverrides.someMethod = (arg: boolean): string => {\n\t\t\t\t\treturn `${arg}__${arg}`;\n\t\t\t\t};\n\t\t\t});\n\t\t});\n\t});\n\n\tsuite('mockService', () => {\n\t\ttest('overrides properties and functions', () => {\n\t\t\tinterface ITestService {\n\t\t\t\treadonly _serviceBrand: undefined;\n\t\t\t\tprop1: string;\n\t\t\t\tid: string;\n\t\t\t\treadonly counter: number;\n\t\t\t\tmethod1(arg: boolean): string;\n\t\t\t\ttestMethod2(arg: number): boolean;\n\t\t\t}\n\n\t\t\tconst mock = mockService<ITestService>({\n\t\t\t\tid: 'ciao!',\n\t\t\t\tcounter: 74,\n\t\t\t\ttestMethod2(arg: number): boolean {\n\t\t\t\t\treturn !isNaN(arg);\n\t\t\t\t},\n\t\t\t});\n\n\t\t\ttypeCheck<ITestService>(mock);\n\n\t\t\tassert.strictEqual(\n\t\t\t\tmock.id,\n\t\t\t\t'ciao!',\n\t\t\t\t'id should be overridden',\n\t\t\t);\n\n\t\t\tassert.strictEqual(\n\t\t\t\tmock.counter,\n\t\t\t\t74,\n\t\t\t\t'counter should be overridden',\n\t\t\t);\n\n\t\t\tassert(\n\t\t\t\tmock.testMethod2(74368),\n\t\t\t\t'Must execute overridden method correctly 1.',\n\t\t\t);\n\n\t\t\tassert(\n\t\t\t\t!(mock.testMethod2(NaN)),\n\t\t\t\t'Must execute overridden method correctly 2.',\n\t\t\t);\n\n\t\t\tassert.throws(() => {\n\t\t\t\t// property is not overridden so must throw\n\t\t\t\t// eslint-disable-next-line local/code-no-unused-expressions\n\t\t\t\tmock.prop1;\n\t\t\t});\n\n\t\t\tassert.throws(() => {\n\t\t\t\t// function is not overridden so must throw\n\t\t\t\tmock.method1(randomBoolean());\n\t\t\t});\n\t\t});\n\n\t\ttest('immutability of the overrides object', () => {\n\t\t\tinterface ITestService {\n\t\t\t\treadonly _serviceBrand: undefined;\n\t\t\t\tfoo: string;\n\t\t\t\tbar: string;\n\t\t\t\treadonly baz: boolean;\n\t\t\t\tsomeMethod(arg: boolean): string;\n\t\t\t\tanotherMethod(arg: number): boolean;\n\t\t\t}\n\n\t\t\tconst overrides: Partial<ITestService> = {\n\t\t\t\tbaz: false,\n\t\t\t};\n\t\t\tconst mock = mockService<ITestService>(overrides);\n\t\t\ttypeCheck<ITestService>(mock);\n\n\t\t\tassert.strictEqual(\n\t\t\t\tmock.baz,\n\t\t\t\tfalse,\n\t\t\t\t'baz should be overridden',\n\t\t\t);\n\n\t\t\t// overrides object must be immutable\n\t\t\tassert.throws(() => {\n\t\t\t\toverrides.foo = 'test';\n\t\t\t});\n\n\t\t\tassert.throws(() => {\n\t\t\t\toverrides.someMethod = (arg: boolean): string => {\n\t\t\t\t\treturn `${arg}__${arg}`;\n\t\t\t\t};\n\t\t\t});\n\t\t});\n\t});\n});\n"]}