{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/chat/test/common/annotations.test.ts","vs/workbench/contrib/chat/test/common/annotations.test.ts"],"names":[],"mappings":"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","file":"annotations.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { MarkdownString } from '../../../../../base/common/htmlContent.js';\nimport { assertSnapshot } from '../../../../../base/test/common/snapshot.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { IChatMarkdownContent } from '../../common/chatService.js';\nimport { annotateSpecialMarkdownContent, extractVulnerabilitiesFromText } from '../../common/annotations.js';\n\nfunction content(str: string): IChatMarkdownContent {\n\treturn { kind: 'markdownContent', content: new MarkdownString(str) };\n}\n\nsuite('Annotations', function () {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tsuite('extractVulnerabilitiesFromText', () => {\n\t\ttest('single line', async () => {\n\t\t\tconst before = 'some code ';\n\t\t\tconst vulnContent = 'content with vuln';\n\t\t\tconst after = ' after';\n\t\t\tconst annotatedResult = annotateSpecialMarkdownContent([content(before), { kind: 'markdownVuln', content: new MarkdownString(vulnContent), vulnerabilities: [{ title: 'title', description: 'vuln' }] }, content(after)]);\n\t\t\tawait assertSnapshot(annotatedResult);\n\n\t\t\tconst markdown = annotatedResult[0] as IChatMarkdownContent;\n\t\t\tconst result = extractVulnerabilitiesFromText(markdown.content.value);\n\t\t\tawait assertSnapshot(result);\n\t\t});\n\n\t\ttest('multiline', async () => {\n\t\t\tconst before = 'some code\\nover\\nmultiple lines ';\n\t\t\tconst vulnContent = 'content with vuln\\nand\\nnewlines';\n\t\t\tconst after = 'more code\\nwith newline';\n\t\t\tconst annotatedResult = annotateSpecialMarkdownContent([content(before), { kind: 'markdownVuln', content: new MarkdownString(vulnContent), vulnerabilities: [{ title: 'title', description: 'vuln' }] }, content(after)]);\n\t\t\tawait assertSnapshot(annotatedResult);\n\n\t\t\tconst markdown = annotatedResult[0] as IChatMarkdownContent;\n\t\t\tconst result = extractVulnerabilitiesFromText(markdown.content.value);\n\t\t\tawait assertSnapshot(result);\n\t\t});\n\n\t\ttest('multiple vulns', async () => {\n\t\t\tconst before = 'some code\\nover\\nmultiple lines ';\n\t\t\tconst vulnContent = 'content with vuln\\nand\\nnewlines';\n\t\t\tconst after = 'more code\\nwith newline';\n\t\t\tconst annotatedResult = annotateSpecialMarkdownContent([\n\t\t\t\tcontent(before),\n\t\t\t\t{ kind: 'markdownVuln', content: new MarkdownString(vulnContent), vulnerabilities: [{ title: 'title', description: 'vuln' }] },\n\t\t\t\tcontent(after),\n\t\t\t\t{ kind: 'markdownVuln', content: new MarkdownString(vulnContent), vulnerabilities: [{ title: 'title', description: 'vuln' }] },\n\t\t\t]);\n\t\t\tawait assertSnapshot(annotatedResult);\n\n\t\t\tconst markdown = annotatedResult[0] as IChatMarkdownContent;\n\t\t\tconst result = extractVulnerabilitiesFromText(markdown.content.value);\n\t\t\tawait assertSnapshot(result);\n\t\t});\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { MarkdownString } from '../../../../../base/common/htmlContent.js';\nimport { assertSnapshot } from '../../../../../base/test/common/snapshot.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { IChatMarkdownContent } from '../../common/chatService.js';\nimport { annotateSpecialMarkdownContent, extractVulnerabilitiesFromText } from '../../common/annotations.js';\n\nfunction content(str: string): IChatMarkdownContent {\n\treturn { kind: 'markdownContent', content: new MarkdownString(str) };\n}\n\nsuite('Annotations', function () {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tsuite('extractVulnerabilitiesFromText', () => {\n\t\ttest('single line', async () => {\n\t\t\tconst before = 'some code ';\n\t\t\tconst vulnContent = 'content with vuln';\n\t\t\tconst after = ' after';\n\t\t\tconst annotatedResult = annotateSpecialMarkdownContent([content(before), { kind: 'markdownVuln', content: new MarkdownString(vulnContent), vulnerabilities: [{ title: 'title', description: 'vuln' }] }, content(after)]);\n\t\t\tawait assertSnapshot(annotatedResult);\n\n\t\t\tconst markdown = annotatedResult[0] as IChatMarkdownContent;\n\t\t\tconst result = extractVulnerabilitiesFromText(markdown.content.value);\n\t\t\tawait assertSnapshot(result);\n\t\t});\n\n\t\ttest('multiline', async () => {\n\t\t\tconst before = 'some code\\nover\\nmultiple lines ';\n\t\t\tconst vulnContent = 'content with vuln\\nand\\nnewlines';\n\t\t\tconst after = 'more code\\nwith newline';\n\t\t\tconst annotatedResult = annotateSpecialMarkdownContent([content(before), { kind: 'markdownVuln', content: new MarkdownString(vulnContent), vulnerabilities: [{ title: 'title', description: 'vuln' }] }, content(after)]);\n\t\t\tawait assertSnapshot(annotatedResult);\n\n\t\t\tconst markdown = annotatedResult[0] as IChatMarkdownContent;\n\t\t\tconst result = extractVulnerabilitiesFromText(markdown.content.value);\n\t\t\tawait assertSnapshot(result);\n\t\t});\n\n\t\ttest('multiple vulns', async () => {\n\t\t\tconst before = 'some code\\nover\\nmultiple lines ';\n\t\t\tconst vulnContent = 'content with vuln\\nand\\nnewlines';\n\t\t\tconst after = 'more code\\nwith newline';\n\t\t\tconst annotatedResult = annotateSpecialMarkdownContent([\n\t\t\t\tcontent(before),\n\t\t\t\t{ kind: 'markdownVuln', content: new MarkdownString(vulnContent), vulnerabilities: [{ title: 'title', description: 'vuln' }] },\n\t\t\t\tcontent(after),\n\t\t\t\t{ kind: 'markdownVuln', content: new MarkdownString(vulnContent), vulnerabilities: [{ title: 'title', description: 'vuln' }] },\n\t\t\t]);\n\t\t\tawait assertSnapshot(annotatedResult);\n\n\t\t\tconst markdown = annotatedResult[0] as IChatMarkdownContent;\n\t\t\tconst result = extractVulnerabilitiesFromText(markdown.content.value);\n\t\t\tawait assertSnapshot(result);\n\t\t});\n\t});\n});\n"]}