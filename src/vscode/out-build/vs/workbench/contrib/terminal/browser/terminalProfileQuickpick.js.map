{"version":3,"sources":["vs/workbench/contrib/terminal/browser/terminalProfileQuickpick.ts"],"names":[],"mappings":"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","file":"terminalProfileQuickpick.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { ConfigurationTarget, IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IQuickInputService, IKeyMods, IPickOptions, IQuickPickSeparator, IQuickInputButton, IQuickPickItem } from '../../../../platform/quickinput/common/quickInput.js';\nimport { IExtensionTerminalProfile, ITerminalProfile, ITerminalProfileObject, TerminalSettingPrefix, type ITerminalExecutable } from '../../../../platform/terminal/common/terminal.js';\nimport { getUriClasses, getColorClass, createColorStyleElement } from './terminalIcon.js';\nimport { configureTerminalProfileIcon } from './terminalIcons.js';\nimport * as nls from '../../../../nls.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { ITerminalProfileResolverService, ITerminalProfileService } from '../common/terminal.js';\nimport { IQuickPickTerminalObject, ITerminalInstance } from './terminal.js';\nimport { IPickerQuickAccessItem } from '../../../../platform/quickinput/browser/pickerQuickAccess.js';\nimport { getIconRegistry } from '../../../../platform/theme/common/iconRegistry.js';\nimport { basename } from '../../../../base/common/path.js';\nimport { INotificationService, Severity } from '../../../../platform/notification/common/notification.js';\nimport { hasKey, isString } from '../../../../base/common/types.js';\n\n\ntype DefaultProfileName = string;\nexport class TerminalProfileQuickpick {\n\tconstructor(\n\t\t@ITerminalProfileService private readonly _terminalProfileService: ITerminalProfileService,\n\t\t@ITerminalProfileResolverService private readonly _terminalProfileResolverService: ITerminalProfileResolverService,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t\t@IQuickInputService private readonly _quickInputService: IQuickInputService,\n\t\t@IThemeService private readonly _themeService: IThemeService,\n\t\t@INotificationService private readonly _notificationService: INotificationService\n\t) { }\n\n\tasync showAndGetResult(type: 'setDefault' | 'createInstance'): Promise<IQuickPickTerminalObject | DefaultProfileName | undefined> {\n\t\tconst platformKey = await this._terminalProfileService.getPlatformKey();\n\t\tconst profilesKey = TerminalSettingPrefix.Profiles + platformKey;\n\t\tconst result = await this._createAndShow(type);\n\t\tconst defaultProfileKey = `${TerminalSettingPrefix.DefaultProfile}${platformKey}`;\n\t\tif (!result) {\n\t\t\treturn;\n\t\t}\n\t\tif (type === 'setDefault') {\n\t\t\tif (hasKey(result.profile, { id: true })) {\n\t\t\t\t// extension contributed profile\n\t\t\t\tawait this._configurationService.updateValue(defaultProfileKey, result.profile.title, ConfigurationTarget.USER);\n\t\t\t\treturn {\n\t\t\t\t\tconfig: {\n\t\t\t\t\t\textensionIdentifier: result.profile.extensionIdentifier,\n\t\t\t\t\t\tid: result.profile.id,\n\t\t\t\t\t\ttitle: result.profile.title,\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\tcolor: result.profile.color,\n\t\t\t\t\t\t\ticon: result.profile.icon\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tkeyMods: result.keyMods\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// Add the profile to settings if necessary\n\t\t\tif (hasKey(result.profile, { profileName: true })) {\n\t\t\t\tconst profilesConfig = await this._configurationService.getValue(profilesKey);\n\t\t\t\tif (typeof profilesConfig === 'object') {\n\t\t\t\t\tconst newProfile: ITerminalProfileObject = {\n\t\t\t\t\t\tpath: result.profile.path\n\t\t\t\t\t};\n\t\t\t\t\tif (result.profile.args) {\n\t\t\t\t\t\tnewProfile.args = result.profile.args;\n\t\t\t\t\t}\n\t\t\t\t\t(profilesConfig as { [key: string]: ITerminalProfileObject })[result.profile.profileName] = this._createNewProfileConfig(result.profile);\n\t\t\t\t\tawait this._configurationService.updateValue(profilesKey, profilesConfig, ConfigurationTarget.USER);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Set the default profile\n\t\t\tawait this._configurationService.updateValue(defaultProfileKey, result.profileName, ConfigurationTarget.USER);\n\t\t} else if (type === 'createInstance') {\n\t\t\tif (hasKey(result.profile, { id: true })) {\n\t\t\t\treturn {\n\t\t\t\t\tconfig: {\n\t\t\t\t\t\textensionIdentifier: result.profile.extensionIdentifier,\n\t\t\t\t\t\tid: result.profile.id,\n\t\t\t\t\t\ttitle: result.profile.title,\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\ticon: result.profile.icon,\n\t\t\t\t\t\t\tcolor: result.profile.color,\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tkeyMods: result.keyMods\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn { config: result.profile, keyMods: result.keyMods };\n\t\t\t}\n\t\t}\n\t\t// for tests\n\t\treturn hasKey(result.profile, { profileName: true }) ? result.profile.profileName : result.profile.title;\n\t}\n\n\tprivate async _createAndShow(type: 'setDefault' | 'createInstance'): Promise<IProfileQuickPickItem | undefined> {\n\t\tconst platformKey = await this._terminalProfileService.getPlatformKey();\n\t\tconst profiles = this._terminalProfileService.availableProfiles;\n\t\tconst profilesKey = TerminalSettingPrefix.Profiles + platformKey;\n\t\tconst defaultProfileName = this._terminalProfileService.getDefaultProfileName();\n\t\tlet keyMods: IKeyMods | undefined;\n\t\tconst options: IPickOptions<IProfileQuickPickItem> = {\n\t\t\tplaceHolder: type === 'createInstance' ? nls.localize('terminal.integrated.selectProfileToCreate', \"Select the terminal profile to create\") : nls.localize('terminal.integrated.chooseDefaultProfile', \"Select your default terminal profile\"),\n\t\t\tonDidTriggerItemButton: async (context) => {\n\t\t\t\t// Get the user's explicit permission to use a potentially unsafe path\n\t\t\t\tif (!await this._isProfileSafe(context.item.profile)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (hasKey(context.item.profile, { id: true })) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst configProfiles: { [key: string]: ITerminalExecutable | null | undefined } = this._configurationService.getValue(TerminalSettingPrefix.Profiles + platformKey);\n\t\t\t\tconst existingProfiles = !!configProfiles ? Object.keys(configProfiles) : [];\n\t\t\t\tconst name = await this._quickInputService.input({\n\t\t\t\t\tprompt: nls.localize('enterTerminalProfileName', \"Enter terminal profile name\"),\n\t\t\t\t\tvalue: context.item.profile.profileName,\n\t\t\t\t\tvalidateInput: async input => {\n\t\t\t\t\t\tif (existingProfiles.includes(input)) {\n\t\t\t\t\t\t\treturn nls.localize('terminalProfileAlreadyExists', \"A terminal profile already exists with that name\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (!name) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst newConfigValue: { [key: string]: ITerminalExecutable | null | undefined } = {\n\t\t\t\t\t...configProfiles,\n\t\t\t\t\t[name]: this._createNewProfileConfig(context.item.profile)\n\t\t\t\t};\n\t\t\t\tawait this._configurationService.updateValue(profilesKey, newConfigValue, ConfigurationTarget.USER);\n\t\t\t},\n\t\t\tonKeyMods: mods => keyMods = mods\n\t\t};\n\n\t\t// Build quick pick items\n\t\tconst quickPickItems: (IProfileQuickPickItem | IQuickPickSeparator)[] = [];\n\t\tconst configProfiles = profiles.filter(e => !e.isAutoDetected);\n\t\tconst autoDetectedProfiles = profiles.filter(e => e.isAutoDetected);\n\n\t\tif (configProfiles.length > 0) {\n\t\t\tquickPickItems.push({ type: 'separator', label: nls.localize('terminalProfiles', \"profiles\") });\n\t\t\tquickPickItems.push(...this._sortProfileQuickPickItems(configProfiles.map(e => this._createProfileQuickPickItem(e)), defaultProfileName!));\n\t\t}\n\n\t\tquickPickItems.push({ type: 'separator', label: nls.localize('ICreateContributedTerminalProfileOptions', \"contributed\") });\n\t\tconst contributedProfiles: IProfileQuickPickItem[] = [];\n\t\tfor (const contributed of this._terminalProfileService.contributedProfiles) {\n\t\t\tlet icon: ThemeIcon | undefined;\n\t\t\tif (isString(contributed.icon)) {\n\t\t\t\tif (contributed.icon.startsWith('$(')) {\n\t\t\t\t\ticon = ThemeIcon.fromString(contributed.icon);\n\t\t\t\t} else {\n\t\t\t\t\ticon = ThemeIcon.fromId(contributed.icon);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!icon || !getIconRegistry().getIcon(icon.id)) {\n\t\t\t\ticon = this._terminalProfileResolverService.getDefaultIcon();\n\t\t\t}\n\t\t\tconst uriClasses = getUriClasses(contributed, this._themeService.getColorTheme().type, true);\n\t\t\tconst colorClass = getColorClass(contributed);\n\t\t\tconst iconClasses = [];\n\t\t\tif (uriClasses) {\n\t\t\t\ticonClasses.push(...uriClasses);\n\t\t\t}\n\t\t\tif (colorClass) {\n\t\t\t\ticonClasses.push(colorClass);\n\t\t\t}\n\t\t\tcontributedProfiles.push({\n\t\t\t\tlabel: `$(${icon.id}) ${contributed.title}`,\n\t\t\t\tprofile: {\n\t\t\t\t\textensionIdentifier: contributed.extensionIdentifier,\n\t\t\t\t\ttitle: contributed.title,\n\t\t\t\t\ticon: contributed.icon,\n\t\t\t\t\tid: contributed.id,\n\t\t\t\t\tcolor: contributed.color\n\t\t\t\t},\n\t\t\t\tprofileName: contributed.title,\n\t\t\t\ticonClasses\n\t\t\t});\n\t\t}\n\n\t\tif (contributedProfiles.length > 0) {\n\t\t\tquickPickItems.push(...this._sortProfileQuickPickItems(contributedProfiles, defaultProfileName!));\n\t\t}\n\n\t\tif (autoDetectedProfiles.length > 0) {\n\t\t\tquickPickItems.push({ type: 'separator', label: nls.localize('terminalProfiles.detected', \"detected\") });\n\t\t\tquickPickItems.push(...this._sortProfileQuickPickItems(autoDetectedProfiles.map(e => this._createProfileQuickPickItem(e)), defaultProfileName!));\n\t\t}\n\t\tconst colorStyleDisposable = createColorStyleElement(this._themeService.getColorTheme());\n\n\t\tconst result = await this._quickInputService.pick(quickPickItems, options);\n\t\tcolorStyleDisposable.dispose();\n\t\tif (!result) {\n\t\t\treturn undefined;\n\t\t}\n\t\tif (!await this._isProfileSafe(result.profile)) {\n\t\t\treturn undefined;\n\t\t}\n\t\tif (keyMods) {\n\t\t\tresult.keyMods = keyMods;\n\t\t}\n\t\treturn result;\n\t}\n\n\tprivate _createNewProfileConfig(profile: ITerminalProfile): ITerminalExecutable {\n\t\tconst result: ITerminalExecutable = { path: profile.path };\n\t\tif (profile.args) {\n\t\t\tresult.args = profile.args;\n\t\t}\n\t\tif (profile.env) {\n\t\t\tresult.env = profile.env;\n\t\t}\n\t\treturn result;\n\t}\n\n\tprivate async _isProfileSafe(profile: ITerminalProfile | IExtensionTerminalProfile): Promise<boolean> {\n\t\tconst isUnsafePath = hasKey(profile, { profileName: true }) && profile.isUnsafePath;\n\t\tconst requiresUnsafePath = hasKey(profile, { profileName: true }) && profile.requiresUnsafePath;\n\t\tif (!isUnsafePath && !requiresUnsafePath) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Get the user's explicit permission to use a potentially unsafe path\n\t\treturn await new Promise<boolean>(r => {\n\t\t\tconst unsafePaths = [];\n\t\t\tif (isUnsafePath) {\n\t\t\t\tunsafePaths.push(profile.path);\n\t\t\t}\n\t\t\tif (requiresUnsafePath) {\n\t\t\t\tunsafePaths.push(requiresUnsafePath);\n\t\t\t}\n\t\t\t// Notify about unsafe path(s). At the time of writing, multiple unsafe paths isn't\n\t\t\t// possible so the message is optimized for a single path.\n\t\t\tconst handle = this._notificationService.prompt(\n\t\t\t\tSeverity.Warning,\n\t\t\t\tnls.localize('unsafePathWarning', 'This terminal profile uses a potentially unsafe path that can be modified by another user: {0}. Are you sure you want to use it?', `\"${unsafePaths.join(',')}\"`),\n\t\t\t\t[{\n\t\t\t\t\tlabel: nls.localize('yes', 'Yes'),\n\t\t\t\t\trun: () => r(true)\n\t\t\t\t}, {\n\t\t\t\t\tlabel: nls.localize('cancel', 'Cancel'),\n\t\t\t\t\trun: () => r(false)\n\t\t\t\t}]\n\t\t\t);\n\t\t\thandle.onDidClose(() => r(false));\n\t\t});\n\t}\n\n\tprivate _createProfileQuickPickItem(profile: ITerminalProfile): IProfileQuickPickItem {\n\t\tconst buttons: IQuickInputButton[] = [{\n\t\t\ticonClass: ThemeIcon.asClassName(configureTerminalProfileIcon),\n\t\t\ttooltip: nls.localize('createQuickLaunchProfile', \"Configure Terminal Profile\")\n\t\t}];\n\t\tconst icon = (profile.icon && ThemeIcon.isThemeIcon(profile.icon)) ? profile.icon : Codicon.terminal;\n\t\tconst label = `$(${icon.id}) ${profile.profileName}`;\n\t\tconst friendlyPath = profile.isFromPath ? basename(profile.path) : profile.path;\n\t\tconst colorClass = getColorClass(profile);\n\t\tconst iconClasses = [];\n\t\tif (colorClass) {\n\t\t\ticonClasses.push(colorClass);\n\t\t}\n\n\t\tif (profile.args) {\n\t\t\tif (isString(profile.args)) {\n\t\t\t\treturn { label, description: `${profile.path} ${profile.args}`, profile, profileName: profile.profileName, buttons, iconClasses };\n\t\t\t}\n\t\t\tconst argsString = profile.args.map(e => {\n\t\t\t\tif (e.includes(' ')) {\n\t\t\t\t\treturn `\"${e.replace(/\"/g, '\\\\\"')}\"`; // CodeQL [SM02383] js/incomplete-sanitization This is only used as a label on the UI so this isn't a problem\n\t\t\t\t}\n\t\t\t\treturn e;\n\t\t\t}).join(' ');\n\t\t\treturn { label, description: `${friendlyPath} ${argsString}`, profile, profileName: profile.profileName, buttons, iconClasses };\n\t\t}\n\t\treturn { label, description: friendlyPath, profile, profileName: profile.profileName, buttons, iconClasses };\n\t}\n\n\tprivate _sortProfileQuickPickItems(items: IProfileQuickPickItem[], defaultProfileName: string) {\n\t\treturn items.sort((a, b) => {\n\t\t\tif (b.profileName === defaultProfileName) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif (a.profileName === defaultProfileName) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\treturn a.profileName.localeCompare(b.profileName);\n\t\t});\n\t}\n}\n\nexport interface IProfileQuickPickItem extends IQuickPickItem {\n\tprofile: ITerminalProfile | IExtensionTerminalProfile;\n\tprofileName: string;\n\tkeyMods?: IKeyMods | undefined;\n}\n\nexport interface ITerminalQuickPickItem extends IPickerQuickAccessItem {\n\tterminal: ITerminalInstance;\n}\n"]}