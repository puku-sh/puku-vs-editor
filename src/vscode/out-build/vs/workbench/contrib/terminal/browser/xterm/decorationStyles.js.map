{"version":3,"sources":["vs/workbench/contrib/terminal/browser/xterm/decorationStyles.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,EAAE,OAAO,EAAE,iBAAiB,EAAE,MAAM,oCAAoC,CAAC;AAChF,OAAO,EAAE,QAAQ,EAAE,MAAM,qCAAqC,CAAC;AAE/D,OAAO,EAAE,QAAQ,EAAE,MAAM,uBAAuB,CAAC;AAIjD,OAAO,EAAE,uBAAuB,EAAE,4BAA4B,EAAE,yBAAyB,EAAE,MAAM,qBAAqB,CAAC;AAEvH,IAAW,gBAGV;AAHD,WAAW,gBAAgB;IAC1B,gFAAqB,CAAA;IACrB,qEAAgB,CAAA;AACjB,CAAC,EAHU,gBAAgB,KAAhB,gBAAgB,QAG1B;AAED,MAAM,CAAN,IAAkB,kBASjB;AATD,WAAkB,kBAAkB;IACnC,uEAAiD,CAAA;IACjD,mCAAa,CAAA;IACb,0CAAoB,CAAA;IACpB,oDAA8B,CAAA;IAC9B,yCAAmB,CAAA;IACnB,yCAAmB,CAAA;IACnB,0DAAoC,CAAA;IACpC,wEAAkD,CAAA;AACnD,CAAC,EATiB,kBAAkB,KAAlB,kBAAkB,QASnC;AAED,MAAM,UAAU,iCAAiC,CAAC,OAAqC,EAAE,YAAqB,EAAE,kBAA4B;IAC3I,IAAI,YAAY,GAAG,kBAAkB,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC,KAA2B,EAAE,IAAsB,CAAC,aAAa,CAAC,CAAC,CAAC,EAAE,CAAC;IAC3H,IAAI,CAAC,OAAO,EAAE,CAAC;QACd,IAAI,YAAY,EAAE,CAAC;YAClB,YAAY,GAAG,YAAY,CAAC;QAC7B,CAAC;aAAM,CAAC;YACP,OAAO,EAAE,CAAC;QACX,CAAC;IACF,CAAC;SAAM,IAAI,OAAO,CAAC,cAAc,IAAI,YAAY,EAAE,CAAC;QACnD,IAAI,OAAO,CAAC,cAAc,EAAE,YAAY,IAAI,YAAY,EAAE,CAAC;YAC1D,YAAY,GAAG,OAAO,CAAC,cAAc,EAAE,YAAY,IAAI,YAAY,IAAI,EAAE,CAAC;QAC3E,CAAC;aAAM,CAAC;YACP,OAAO,EAAE,CAAC;QACX,CAAC;IACF,CAAC;SAAM,CAAC;QACP,IAAI,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE,CAAC;YAChC,MAAM,YAAY,GAAG,iBAAiB,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;YACzD,IAAI,OAAO,CAAC,QAAQ,EAAE,CAAC;gBACtB,IAAI,OAAO,CAAC,QAAQ,KAAK,CAAC,CAAC,EAAE,CAAC;oBAC7B,YAAY,IAAI,QAAQ,CAAC,KAAsC,EAAE,IAA2C,EAAE,OAAO,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,EAAE,YAAY,CAAC,CAAC;gBAC/J,CAAC;qBAAM,CAAC;oBACP,YAAY,IAAI,QAAQ,CAAC,KAAkD,EAAE,IAA2D,EAAE,OAAO,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,EAAE,YAAY,EAAE,OAAO,CAAC,QAAQ,CAAC,CAAC;gBAC7M,CAAC;YACF,CAAC;iBAAM,CAAC;gBACP,YAAY,IAAI,QAAQ,CAAC,KAAuC,EAAE,IAAmC,EAAE,OAAO,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,EAAE,YAAY,CAAC,CAAC;YACxJ,CAAC;QACF,CAAC;aAAM,CAAC;YACP,IAAI,OAAO,CAAC,QAAQ,EAAE,CAAC;gBACtB,IAAI,OAAO,CAAC,QAAQ,KAAK,CAAC,CAAC,EAAE,CAAC;oBAC7B,YAAY,IAAI,QAAQ,CAAC,KAA6B,EAAE,IAAiC,EAAE,OAAO,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC,CAAC;gBAC9H,CAAC;qBAAM,CAAC;oBACP,YAAY,IAAI,QAAQ,CAAC,KAAyC,EAAE,IAAiD,EAAE,OAAO,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,EAAE,OAAO,CAAC,QAAQ,CAAC,CAAC;gBAC5K,CAAC;YACF,CAAC;iBAAM,CAAC;gBACP,YAAY,IAAI,QAAQ,CAAC,KAA8B,EAAE,IAA0B,CAAC,CAAC;YACtF,CAAC;QACF,CAAC;IACF,CAAC;IACD,OAAO,YAAY,CAAC;AACrB,CAAC;AAQD,MAAM,CAAN,IAAkB,+BAKjB;AALD,WAAkB,+BAA+B;IAChD,sDAAmB,CAAA;IACnB,sDAAmB,CAAA;IACnB,sDAAmB,CAAA;IACnB,kDAAe,CAAA;AAChB,CAAC,EALiB,+BAA+B,KAA/B,+BAA+B,QAKhD;AAeD,MAAM,WAAW,GAAG,QAAQ,CAAC,KAAmC,EAAE,IAAS,CAAC,CAAC;AAC7E,MAAM,WAAW,GAAG,QAAQ,CAAC,KAAmC,EAAE,IAAS,CAAC,CAAC;AAE7E,MAAM,UAAU,mCAAmC,CAAC,OAA0B,EAAE,WAAsD;IACrI,IAAI,OAAO,EAAE,CAAC;QACb,OAAO,iCAAiC,CAAC,OAAO,CAAC,CAAC;IACnD,CAAC;IACD,IAAI,CAAC,WAAW,EAAE,CAAC;QAClB,OAAO,EAAE,CAAC;IACX,CAAC;IACD,MAAM,SAAS,GAAG,WAAW,CAAC,SAAS,CAAC;IACxC,MAAM,QAAQ,GAAG,WAAW,CAAC,QAAQ,CAAC;IACtC,MAAM,QAAQ,GAAG,WAAW,CAAC,QAAQ,CAAC;IACtC,IAAI,OAAO,SAAS,KAAK,QAAQ,IAAI,SAAS,KAAK,SAAS,EAAE,CAAC;QAC9D,OAAO,EAAE,CAAC;IACX,CAAC;IACD,IAAI,YAAY,GAAG,EAAE,CAAC;IACtB,MAAM,WAAW,GAAG,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IAC7C,IAAI,OAAO,QAAQ,KAAK,QAAQ,EAAE,CAAC;QAClC,MAAM,YAAY,GAAG,iBAAiB,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,CAAC;QAC9D,IAAI,QAAQ,EAAE,CAAC;YACd,IAAI,QAAQ,KAAK,CAAC,CAAC,EAAE,CAAC;gBACrB,YAAY,IAAI,QAAQ,CAAC,KAAsC,EAAE,IAA2C,EAAE,WAAW,EAAE,YAAY,CAAC,CAAC;YAC1I,CAAC;iBAAM,CAAC;gBACP,YAAY,IAAI,QAAQ,CAAC,KAAkD,EAAE,IAA2D,EAAE,WAAW,EAAE,YAAY,EAAE,QAAQ,CAAC,CAAC;YAChL,CAAC;QACF,CAAC;aAAM,CAAC;YACP,YAAY,IAAI,QAAQ,CAAC,KAAuC,EAAE,IAAmC,EAAE,WAAW,EAAE,YAAY,CAAC,CAAC;QACnI,CAAC;IACF,CAAC;SAAM,CAAC;QACP,IAAI,QAAQ,EAAE,CAAC;YACd,IAAI,QAAQ,KAAK,CAAC,CAAC,EAAE,CAAC;gBACrB,YAAY,IAAI,QAAQ,CAAC,KAA6B,EAAE,IAAiC,EAAE,WAAW,CAAC,CAAC;YACzG,CAAC;iBAAM,CAAC;gBACP,YAAY,IAAI,QAAQ,CAAC,KAAyC,EAAE,IAAiD,EAAE,WAAW,EAAE,QAAQ,CAAC,CAAC;YAC/I,CAAC;QACF,CAAC;aAAM,CAAC;YACP,YAAY,IAAI,QAAQ,CAAC,KAA+B,EAAE,IAAuB,EAAE,WAAW,CAAC,CAAC;QACjG,CAAC;IACF,CAAC;IACD,OAAO,YAAY,CAAC;AACrB,CAAC;AAED,MAAM,UAAU,iCAAiC,CAChD,OAAqC,EACrC,WAAsD,EACtD,MAAc,IAAI,CAAC,GAAG,EAAE;IAExB,IAAI,MAAM,0DAA0C,CAAC;IACrD,MAAM,QAAQ,GAAuB,OAAO,EAAE,QAAQ,IAAI,WAAW,EAAE,QAAQ,CAAC;IAChF,IAAI,YAAY,GAAG,WAAW,CAAC;IAC/B,MAAM,cAAc,GAAuB,OAAO,EAAE,SAAS,IAAI,WAAW,EAAE,SAAS,CAAC;IACxF,IAAI,SAAS,GAAG,WAAW,CAAC;IAC5B,IAAI,UAA8B,CAAC;IACnC,IAAI,YAAY,GAAG,WAAW,CAAC;IAE/B,IAAI,OAAO,cAAc,KAAK,QAAQ,EAAE,CAAC;QACxC,SAAS,GAAG,IAAI,IAAI,CAAC,cAAc,CAAC,CAAC,cAAc,EAAE,CAAC;IACvD,CAAC;IAED,IAAI,OAAO,EAAE,CAAC;QACb,IAAI,OAAO,CAAC,QAAQ,KAAK,SAAS,EAAE,CAAC;YACpC,MAAM,0DAA0C,CAAC;YACjD,YAAY,GAAG,WAAW,CAAC;YAC3B,UAAU,GAAG,cAAc,KAAK,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,GAAG,cAAc,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;QAC3F,CAAC;aAAM,IAAI,OAAO,CAAC,QAAQ,KAAK,CAAC,EAAE,CAAC;YACnC,MAAM,sDAAwC,CAAC;YAC/C,YAAY,GAAG,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;YACxC,UAAU,GAAG,OAAO,CAAC,QAAQ,IAAI,CAAC,cAAc,KAAK,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,GAAG,cAAc,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;QACjH,CAAC;aAAM,CAAC;YACP,MAAM,0DAA0C,CAAC;YACjD,YAAY,GAAG,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;YACxC,UAAU,GAAG,OAAO,CAAC,QAAQ,IAAI,CAAC,cAAc,KAAK,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,GAAG,cAAc,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;QACjH,CAAC;IACF,CAAC;SAAM,IAAI,WAAW,EAAE,CAAC;QACxB,IAAI,WAAW,CAAC,QAAQ,KAAK,SAAS,EAAE,CAAC;YACxC,MAAM,0DAA0C,CAAC;YACjD,YAAY,GAAG,WAAW,CAAC;YAC3B,UAAU,GAAG,cAAc,KAAK,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,GAAG,GAAG,cAAc,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;QAC3F,CAAC;aAAM,IAAI,WAAW,CAAC,QAAQ,KAAK,CAAC,EAAE,CAAC;YACvC,MAAM,sDAAwC,CAAC;YAC/C,YAAY,GAAG,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;YAC5C,UAAU,GAAG,WAAW,CAAC,QAAQ,CAAC;QACnC,CAAC;aAAM,CAAC;YACP,MAAM,0DAA0C,CAAC;YACjD,YAAY,GAAG,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;YAC5C,UAAU,GAAG,WAAW,CAAC,QAAQ,CAAC;QACnC,CAAC;IACF,CAAC;IAED,IAAI,OAAO,UAAU,KAAK,QAAQ,EAAE,CAAC;QACpC,YAAY,GAAG,iBAAiB,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC,CAAC;IAC3D,CAAC;IAED,MAAM,UAAU,GAAa,EAAE,CAAC;IAChC,IAAI,IAAI,GAAG,4BAA4B,CAAC;IACxC,QAAQ,MAAM,EAAE,CAAC;QAChB,6DAA6C;QAC7C;YACC,UAAU,CAAC,IAAI,mGAA6D,CAAC;YAC7E,IAAI,GAAG,4BAA4B,CAAC;YACpC,MAAM;QACP;YACC,UAAU,CAAC,IAAI,6CAA+B,CAAC;YAC/C,IAAI,GAAG,uBAAuB,CAAC;YAC/B,MAAM;QACP;YACC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAC3B,IAAI,GAAG,yBAAyB,CAAC;YACjC,MAAM;IACR,CAAC;IAED,MAAM,YAAY,GAAG,mCAAmC,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;IAE/E,OAAO;QACN,MAAM;QACN,IAAI;QACJ,UAAU;QACV,QAAQ;QACR,YAAY;QACZ,cAAc;QACd,SAAS;QACT,QAAQ,EAAE,UAAU;QACpB,YAAY;QACZ,YAAY;KACZ,CAAC;AACH,CAAC;AAED,MAAM,UAAU,YAAY,CAAC,oBAA2C,EAAE,OAAqB;IAC9F,IAAI,CAAC,OAAO,EAAE,CAAC;QACd,OAAO;IACR,CAAC;IACD,MAAM,QAAQ,GAAG,oBAAoB,CAAC,OAAO,iEAA4B,CAAC,KAAK,CAAC;IAChF,MAAM,eAAe,GAAG,oBAAoB,CAAC,OAAO,iEAA4B,CAAC,YAAY,CAAC;IAC9F,MAAM,UAAU,GAAG,oBAAoB,CAAC,OAAO,qEAA8B,CAAC,KAAK,CAAC;IACpF,IAAI,QAAQ,CAAC,QAAQ,CAAC,IAAI,QAAQ,CAAC,eAAe,CAAC,IAAI,QAAQ,CAAC,UAAU,CAAC,EAAE,CAAC;QAC7E,MAAM,MAAM,GAAG,CAAC,QAAQ,GAAG,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpF,4DAA4D;QAC5D,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,GAAG,MAAM,6CAAoC,IAAI,CAAC;QACxE,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,MAAM,6CAAoC,GAAG,UAAU,IAAI,CAAC;QACtF,OAAO,CAAC,KAAK,CAAC,QAAQ,GAAG,GAAG,MAAM,6CAAoC,IAAI,CAAC;QAC3E,OAAO,CAAC,KAAK,CAAC,UAAU,GAAG,GAAG,MAAM,wCAA8B,IAAI,CAAC;IACxE,CAAC;AACF,CAAC","file":"decorationStyles.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { fromNow, getDurationString } from '../../../../../base/common/date.js';\nimport { isNumber } from '../../../../../base/common/types.js';\nimport type { ThemeIcon } from '../../../../../base/common/themables.js';\nimport { localize } from '../../../../../nls.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport type { ITerminalCommand } from '../../../../../platform/terminal/common/capabilities/capabilities.js';\nimport { TerminalSettingId } from '../../../../../platform/terminal/common/terminal.js';\nimport { terminalDecorationError, terminalDecorationIncomplete, terminalDecorationSuccess } from '../terminalIcons.js';\n\nconst enum DecorationStyles {\n\tDefaultDimension = 16,\n\tMarginLeft = -17,\n}\n\nexport const enum DecorationSelector {\n\tCommandDecoration = 'terminal-command-decoration',\n\tHide = 'hide',\n\tErrorColor = 'error',\n\tDefaultColor = 'default-color',\n\tDefault = 'default',\n\tCodicon = 'codicon',\n\tXtermDecoration = 'xterm-decoration',\n\tOverviewRuler = '.xterm-decoration-overview-ruler',\n}\n\nexport function getTerminalDecorationHoverContent(command: ITerminalCommand | undefined, hoverMessage?: string, showCommandActions?: boolean): string {\n\tlet hoverContent = showCommandActions ? `${localize('terminalPromptContextMenu', \"Show Command Actions\")}\\n\\n---\\n\\n` : '';\n\tif (!command) {\n\t\tif (hoverMessage) {\n\t\t\thoverContent = hoverMessage;\n\t\t} else {\n\t\t\treturn '';\n\t\t}\n\t} else if (command.markProperties || hoverMessage) {\n\t\tif (command.markProperties?.hoverMessage || hoverMessage) {\n\t\t\thoverContent = command.markProperties?.hoverMessage || hoverMessage || '';\n\t\t} else {\n\t\t\treturn '';\n\t\t}\n\t} else {\n\t\tif (isNumber(command.duration)) {\n\t\t\tconst durationText = getDurationString(command.duration);\n\t\t\tif (command.exitCode) {\n\t\t\t\tif (command.exitCode === -1) {\n\t\t\t\t\thoverContent += localize('terminalPromptCommandFailed.duration', 'Command executed {0}, took {1} and failed', fromNow(command.timestamp, true), durationText);\n\t\t\t\t} else {\n\t\t\t\t\thoverContent += localize('terminalPromptCommandFailedWithExitCode.duration', 'Command executed {0}, took {1} and failed (Exit Code {2})', fromNow(command.timestamp, true), durationText, command.exitCode);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\thoverContent += localize('terminalPromptCommandSuccess.duration', 'Command executed {0} and took {1}', fromNow(command.timestamp, true), durationText);\n\t\t\t}\n\t\t} else {\n\t\t\tif (command.exitCode) {\n\t\t\t\tif (command.exitCode === -1) {\n\t\t\t\t\thoverContent += localize('terminalPromptCommandFailed', 'Command executed {0} and failed', fromNow(command.timestamp, true));\n\t\t\t\t} else {\n\t\t\t\t\thoverContent += localize('terminalPromptCommandFailedWithExitCode', 'Command executed {0} and failed (Exit Code {1})', fromNow(command.timestamp, true), command.exitCode);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\thoverContent += localize('terminalPromptCommandSuccess', 'Command executed {0} now');\n\t\t\t}\n\t\t}\n\t}\n\treturn hoverContent;\n}\n\nexport interface ITerminalCommandDecorationPersistedState {\n\texitCode?: number;\n\ttimestamp?: number;\n\tduration?: number;\n}\n\nexport const enum TerminalCommandDecorationStatus {\n\tUnknown = 'unknown',\n\tRunning = 'running',\n\tSuccess = 'success',\n\tError = 'error'\n}\n\nexport interface ITerminalCommandDecorationState {\n\tstatus: TerminalCommandDecorationStatus;\n\ticon: ThemeIcon;\n\tclassNames: string[];\n\texitCode?: number;\n\texitCodeText: string;\n\tstartTimestamp?: number;\n\tstartText: string;\n\tduration?: number;\n\tdurationText: string;\n\thoverMessage: string;\n}\n\nconst unknownText = localize('terminalCommandDecoration.unknown', 'Unknown');\nconst runningText = localize('terminalCommandDecoration.running', 'Running');\n\nexport function getTerminalCommandDecorationTooltip(command?: ITerminalCommand, storedState?: ITerminalCommandDecorationPersistedState): string {\n\tif (command) {\n\t\treturn getTerminalDecorationHoverContent(command);\n\t}\n\tif (!storedState) {\n\t\treturn '';\n\t}\n\tconst timestamp = storedState.timestamp;\n\tconst exitCode = storedState.exitCode;\n\tconst duration = storedState.duration;\n\tif (typeof timestamp !== 'number' || timestamp === undefined) {\n\t\treturn '';\n\t}\n\tlet hoverContent = '';\n\tconst fromNowText = fromNow(timestamp, true);\n\tif (typeof duration === 'number') {\n\t\tconst durationText = getDurationString(Math.max(duration, 0));\n\t\tif (exitCode) {\n\t\t\tif (exitCode === -1) {\n\t\t\t\thoverContent += localize('terminalPromptCommandFailed.duration', 'Command executed {0}, took {1} and failed', fromNowText, durationText);\n\t\t\t} else {\n\t\t\t\thoverContent += localize('terminalPromptCommandFailedWithExitCode.duration', 'Command executed {0}, took {1} and failed (Exit Code {2})', fromNowText, durationText, exitCode);\n\t\t\t}\n\t\t} else {\n\t\t\thoverContent += localize('terminalPromptCommandSuccess.duration', 'Command executed {0} and took {1}', fromNowText, durationText);\n\t\t}\n\t} else {\n\t\tif (exitCode) {\n\t\t\tif (exitCode === -1) {\n\t\t\t\thoverContent += localize('terminalPromptCommandFailed', 'Command executed {0} and failed', fromNowText);\n\t\t\t} else {\n\t\t\t\thoverContent += localize('terminalPromptCommandFailedWithExitCode', 'Command executed {0} and failed (Exit Code {1})', fromNowText, exitCode);\n\t\t\t}\n\t\t} else {\n\t\t\thoverContent += localize('terminalPromptCommandSuccess.', 'Command executed {0} ', fromNowText);\n\t\t}\n\t}\n\treturn hoverContent;\n}\n\nexport function getTerminalCommandDecorationState(\n\tcommand: ITerminalCommand | undefined,\n\tstoredState?: ITerminalCommandDecorationPersistedState,\n\tnow: number = Date.now()\n): ITerminalCommandDecorationState {\n\tlet status = TerminalCommandDecorationStatus.Unknown;\n\tconst exitCode: number | undefined = command?.exitCode ?? storedState?.exitCode;\n\tlet exitCodeText = unknownText;\n\tconst startTimestamp: number | undefined = command?.timestamp ?? storedState?.timestamp;\n\tlet startText = unknownText;\n\tlet durationMs: number | undefined;\n\tlet durationText = unknownText;\n\n\tif (typeof startTimestamp === 'number') {\n\t\tstartText = new Date(startTimestamp).toLocaleString();\n\t}\n\n\tif (command) {\n\t\tif (command.exitCode === undefined) {\n\t\t\tstatus = TerminalCommandDecorationStatus.Running;\n\t\t\texitCodeText = runningText;\n\t\t\tdurationMs = startTimestamp !== undefined ? Math.max(0, now - startTimestamp) : undefined;\n\t\t} else if (command.exitCode !== 0) {\n\t\t\tstatus = TerminalCommandDecorationStatus.Error;\n\t\t\texitCodeText = String(command.exitCode);\n\t\t\tdurationMs = command.duration ?? (startTimestamp !== undefined ? Math.max(0, now - startTimestamp) : undefined);\n\t\t} else {\n\t\t\tstatus = TerminalCommandDecorationStatus.Success;\n\t\t\texitCodeText = String(command.exitCode);\n\t\t\tdurationMs = command.duration ?? (startTimestamp !== undefined ? Math.max(0, now - startTimestamp) : undefined);\n\t\t}\n\t} else if (storedState) {\n\t\tif (storedState.exitCode === undefined) {\n\t\t\tstatus = TerminalCommandDecorationStatus.Running;\n\t\t\texitCodeText = runningText;\n\t\t\tdurationMs = startTimestamp !== undefined ? Math.max(0, now - startTimestamp) : undefined;\n\t\t} else if (storedState.exitCode !== 0) {\n\t\t\tstatus = TerminalCommandDecorationStatus.Error;\n\t\t\texitCodeText = String(storedState.exitCode);\n\t\t\tdurationMs = storedState.duration;\n\t\t} else {\n\t\t\tstatus = TerminalCommandDecorationStatus.Success;\n\t\t\texitCodeText = String(storedState.exitCode);\n\t\t\tdurationMs = storedState.duration;\n\t\t}\n\t}\n\n\tif (typeof durationMs === 'number') {\n\t\tdurationText = getDurationString(Math.max(durationMs, 0));\n\t}\n\n\tconst classNames: string[] = [];\n\tlet icon = terminalDecorationIncomplete;\n\tswitch (status) {\n\t\tcase TerminalCommandDecorationStatus.Running:\n\t\tcase TerminalCommandDecorationStatus.Unknown:\n\t\t\tclassNames.push(DecorationSelector.DefaultColor, DecorationSelector.Default);\n\t\t\ticon = terminalDecorationIncomplete;\n\t\t\tbreak;\n\t\tcase TerminalCommandDecorationStatus.Error:\n\t\t\tclassNames.push(DecorationSelector.ErrorColor);\n\t\t\ticon = terminalDecorationError;\n\t\t\tbreak;\n\t\tcase TerminalCommandDecorationStatus.Success:\n\t\t\tclassNames.push('success');\n\t\t\ticon = terminalDecorationSuccess;\n\t\t\tbreak;\n\t}\n\n\tconst hoverMessage = getTerminalCommandDecorationTooltip(command, storedState);\n\n\treturn {\n\t\tstatus,\n\t\ticon,\n\t\tclassNames,\n\t\texitCode,\n\t\texitCodeText,\n\t\tstartTimestamp,\n\t\tstartText,\n\t\tduration: durationMs,\n\t\tdurationText,\n\t\thoverMessage\n\t};\n}\n\nexport function updateLayout(configurationService: IConfigurationService, element?: HTMLElement): void {\n\tif (!element) {\n\t\treturn;\n\t}\n\tconst fontSize = configurationService.inspect(TerminalSettingId.FontSize).value;\n\tconst defaultFontSize = configurationService.inspect(TerminalSettingId.FontSize).defaultValue;\n\tconst lineHeight = configurationService.inspect(TerminalSettingId.LineHeight).value;\n\tif (isNumber(fontSize) && isNumber(defaultFontSize) && isNumber(lineHeight)) {\n\t\tconst scalar = (fontSize / defaultFontSize) <= 1 ? (fontSize / defaultFontSize) : 1;\n\t\t// must be inlined to override the inlined styles from xterm\n\t\telement.style.width = `${scalar * DecorationStyles.DefaultDimension}px`;\n\t\telement.style.height = `${scalar * DecorationStyles.DefaultDimension * lineHeight}px`;\n\t\telement.style.fontSize = `${scalar * DecorationStyles.DefaultDimension}px`;\n\t\telement.style.marginLeft = `${scalar * DecorationStyles.MarginLeft}px`;\n\t}\n}\n"]}