{"version":3,"sources":["vs/workbench/contrib/terminal/browser/terminalActions.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;AAEhG,OAAO,EAAE,eAAe,EAAE,YAAY,EAAE,cAAc,EAAE,eAAe,EAAE,MAAM,iCAAiC,CAAC;AACjH,OAAO,EAAE,MAAM,EAAE,MAAM,oCAAoC,CAAC;AAC5D,OAAO,EAAE,iBAAiB,EAAE,MAAM,yCAAyC,CAAC;AAC5E,OAAO,EAAE,OAAO,EAAE,MAAM,qCAAqC,CAAC;AAC9D,OAAO,EAAE,QAAQ,EAAE,MAAM,qCAAqC,CAAC;AAC/D,OAAO,EAAE,QAAQ,EAAmB,MAAM,qCAAqC,CAAC;AAEhF,OAAO,EAAE,OAAO,EAAE,MAAM,oCAAoC,CAAC;AAC7D,OAAO,EAAE,UAAU,EAAE,MAAM,iCAAiC,CAAC;AAC7D,OAAO,EAAE,SAAS,EAAE,MAAM,qCAAqC,CAAC;AAChE,OAAO,EAAE,OAAO,EAAE,MAAM,sCAAsC,CAAC;AAC/D,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,MAAM,kCAAkC,CAAC;AAC9E,OAAO,EAAE,GAAG,EAAE,MAAM,gCAAgC,CAAC;AACrD,OAAO,EAAE,kBAAkB,EAAE,MAAM,0DAA0D,CAAC;AAC9F,OAAO,EAAE,gBAAgB,EAAE,MAAM,iDAAiD,CAAC;AAEnF,OAAO,EAAE,cAAc,EAAE,MAAM,sDAAsD,CAAC;AACtF,OAAO,EAAE,aAAa,EAAE,MAAM,6CAA6C,CAAC;AAC5E,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,MAAM,oBAAoB,CAAC;AAEzD,OAAO,EAAE,kCAAkC,EAAE,MAAM,4DAA4D,CAAC;AAChH,OAAO,EAAE,OAAO,EAAmB,MAAM,EAAE,eAAe,EAAE,MAAM,gDAAgD,CAAC;AACnH,OAAO,EAAE,eAAe,EAAE,MAAM,kDAAkD,CAAC;AACnF,OAAO,EAAE,qBAAqB,EAAE,MAAM,4DAA4D,CAAC;AACnG,OAAO,EAAE,cAAc,EAAE,MAAM,sDAAsD,CAAC;AACtF,OAAO,EAAE,QAAQ,EAAE,MAAM,4CAA4C,CAAC;AAGtE,OAAO,EAAE,aAAa,EAAE,MAAM,4CAA4C,CAAC;AAC3E,OAAO,EAAE,YAAY,EAAE,MAAM,kDAAkD,CAAC;AAChF,OAAO,EAAE,oBAAoB,EAAE,QAAQ,EAAE,MAAM,0DAA0D,CAAC;AAC1G,OAAO,EAAE,cAAc,EAAE,MAAM,8CAA8C,CAAC;AAC9E,OAAO,EAAgB,kBAAkB,EAAkB,MAAM,sDAAsD,CAAC;AAExH,OAAO,EAAoB,kBAAkB,EAAgB,gBAAgB,EAAqB,MAAM,kDAAkD,CAAC;AAC3J,OAAO,EAAE,wBAAwB,EAAE,MAAM,0DAA0D,CAAC;AACpG,OAAO,EAAE,aAAa,EAAE,MAAM,mDAAmD,CAAC;AAClF,OAAO,EAAE,wBAAwB,EAAoB,MAAM,oDAAoD,CAAC;AAChH,OAAO,EAAE,gCAAgC,EAAE,MAAM,+CAA+C,CAAC;AACjG,OAAO,EAAE,uBAAuB,EAAE,MAAM,iDAAiD,CAAC;AAC1F,OAAO,EAAE,6BAA6B,EAAE,MAAM,yEAAyE,CAAC;AACxH,OAAO,EAAE,+BAA+B,EAAE,MAAM,mFAAmF,CAAC;AACpI,OAAO,EAAE,mBAAmB,EAAE,MAAM,sDAAsD,CAAC;AAC3F,OAAO,EAAE,oBAAoB,EAAE,MAAM,wDAAwD,CAAC;AAC9F,OAAO,EAAE,gBAAgB,EAAE,UAAU,EAAE,MAAM,kDAAkD,CAAC;AAChG,OAAO,EAAE,4BAA4B,EAAE,MAAM,4DAA4D,CAAC;AAC1G,OAAO,EAAE,mBAAmB,EAAE,MAAM,qDAAqD,CAAC;AAC1F,OAAO,EAAE,mBAAmB,EAAE,MAAM,uDAAuD,CAAC;AAC5F,OAAO,EAAE,+BAA+B,EAAE,qBAAqB,EAAE,wBAAwB,EAAE,MAAM,2DAA2D,CAAC;AAC7J,OAAO,EAA+B,+BAA+B,EAAE,uBAAuB,EAAE,gBAAgB,EAAqB,MAAM,uBAAuB,CAAC;AACnK,OAAO,EAAE,mBAAmB,EAAE,MAAM,iCAAiC,CAAC;AACtE,OAAO,EAAE,eAAe,EAAE,MAAM,8BAA8B,CAAC;AAC/D,OAAO,EAAgE,6BAA6B,EAAE,sBAAsB,EAAE,uBAAuB,EAAE,qBAAqB,EAAqB,wBAAwB,EAAE,gBAAgB,EAAkB,MAAM,eAAe,CAAC;AACnR,OAAO,EAAE,iBAAiB,EAAE,MAAM,oCAAoC,CAAC;AACvE,OAAO,EAAE,eAAe,EAAE,MAAM,0BAA0B,CAAC;AAC3D,OAAO,EAAE,aAAa,EAAE,SAAS,EAAE,aAAa,EAAE,MAAM,mBAAmB,CAAC;AAC5E,OAAO,EAAE,gBAAgB,EAAE,eAAe,EAAE,MAAM,oBAAoB,CAAC;AAEvE,OAAO,EAAE,eAAe,EAAE,MAAM,uBAAuB,CAAC;AACxD,OAAO,EAAE,kBAAkB,EAAE,MAAM,gCAAgC,CAAC;AACpE,OAAO,EAAE,qBAAqB,EAAE,MAAM,oDAAoD,CAAC;AAE3F,MAAM,CAAC,MAAM,2BAA2B,GAAG,QAAQ,CAAC,KAAkB,EAAE,IAAW,CAAC,CAAC;AAErF,MAAM,QAAQ,GAAG,eAAe,CAAC,cAAc,CAAC;AAEhD,2FAA2F;AAC3F,0DAA0D;AAC1D,MAAM,CAAC,MAAM,gBAAgB,GAAG,CAAC,GAAG,EAAE;IACrC,MAAM,iBAAiB,GAAG,cAAc,CAAC,EAAE,CAAC,mBAAmB,CAAC,gBAAgB,EAAE,mBAAmB,CAAC,sBAAsB,CAAC,CAAC;IAC9H,OAAO;QACN,iBAAiB;QACjB,4BAA4B,EAAE,cAAc,CAAC,GAAG,CAAC,iBAAiB,EAAE,mBAAmB,CAAC,MAAM,CAAC;QAC/F,kCAAkC,EAAE,cAAc,CAAC,GAAG,CAAC,iBAAiB,EAAE,mBAAmB,CAAC,oBAAoB,CAAC;QACnH,uCAAuC,EAAE,cAAc,CAAC,GAAG,CAAC,iBAAiB,EAAE,mBAAmB,CAAC,qBAAqB,CAAC;QACzH,2BAA2B,EAAE,cAAc,CAAC,GAAG,CAAC,mBAAmB,CAAC,UAAU,EAAE,mBAAmB,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC;KAC7H,CAAC;AACH,CAAC,CAAC,EAAE,CAAC;AASL,MAAM,CAAC,KAAK,UAAU,cAAc,CACnC,QAA2B,EAC3B,OAAuC,EACvC,cAA+B,EAC/B,aAA4C;IAE5C,QAAQ,aAAa,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;QACvC,KAAK,eAAe;YACnB,IAAI,OAAO,KAAK,SAAS,IAAI,cAAc,KAAK,SAAS,EAAE,CAAC;gBAC3D,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;oBAC1B,OAAO,OAAO,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;gBACvB,CAAC;qBAAM,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;oBAC/B,qDAAqD;oBACrD,MAAM,OAAO,GAAiC;wBAC7C,WAAW,EAAE,QAAQ,CAAC,KAAmD,EAAE,IAAmD,CAAC;qBAC/H,CAAC;oBACF,MAAM,SAAS,GAAG,MAAM,cAAc,CAAC,cAAc,CAAmB,gCAAgC,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;oBACrH,IAAI,CAAC,SAAS,EAAE,CAAC;wBAChB,gEAAgE;wBAChE,OAAO,SAAS,CAAC;oBAClB,CAAC;oBACD,OAAO,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;gBACvC,CAAC;YACF,CAAC;YACD,OAAO,EAAE,CAAC;QACX,KAAK,SAAS;YACb,OAAO,QAAQ,CAAC,aAAa,EAAE,CAAC;QACjC,KAAK,WAAW;YACf,OAAO,QAAQ,CAAC,iBAAiB,EAAE,CAAC;IACtC,CAAC;AACF,CAAC;AAEM,IAAM,wBAAwB,GAA9B,MAAM,wBAAyB,SAAQ,MAAM;IAEnD,YACkC,cAA8B;QAE/D,KAAK,CAAC,sCAAsC,EAAE,QAAQ,CAAC,KAAoB,EAAE,IAAW,CAAC,CAAC,CAAC;QAF1D,mBAAc,GAAd,cAAc,CAAgB;IAGhE,CAAC;IAEQ,KAAK,CAAC,GAAG;QACjB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,oDAAoD,CAAC,CAAC;IAChF,CAAC;CACD,CAAA;AAXY,wBAAwB;IAGlC,WAAA,cAAc,CAAA;GAHJ,wBAAwB,CAWpC;;AAED;;;;;;;GAOG;AACH,MAAM,UAAU,sBAAsB,CACrC,OAA4J;IAE5J,eAAe;IACf,OAAO,CAAC,EAAE,GAAG,OAAO,CAAC,EAAE,IAAI,IAAI,CAAC;IAChC,OAAO,CAAC,QAAQ,GAAG,OAAO,CAAC,QAAQ,IAAI,QAAQ,CAAC;IAChD,OAAO,CAAC,YAAY,GAAG,OAAO,CAAC,YAAY,IAAI,mBAAmB,CAAC,gBAAgB,CAAC;IACpF,iFAAiF;IACjF,MAAM,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC;IAC5B,MAAM,aAAa,GAAwI,OAAO,CAAC;IACnK,OAAQ,aAAqJ,CAAC,KAAK,CAAC,CAAC;IACrK,WAAW;IACX,OAAO,eAAe,CAAC,KAAM,SAAQ,OAAO;QAC3C;YACC,KAAK,CAAC,aAAgC,CAAC,CAAC;QACzC,CAAC;QACD,GAAG,CAAC,QAA0B,EAAE,IAAc,EAAE,KAAe;YAC9D,OAAO,OAAO,CAAC,mBAAmB,CAAC,QAAQ,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;QACtE,CAAC;KACD,CAAC,CAAC;AACJ,CAAC;AAED,SAAS,eAAe,CAAC,IAAc;IACtC,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC;QACzB,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,YAAY,eAAe,CAAC,EAAE,CAAC;YACnD,OAAO,IAAyB,CAAC;QAClC,CAAC;IACF,CAAC;SAAM,IAAI,IAAI,YAAY,eAAe,EAAE,CAAC;QAC5C,OAAO,CAAC,IAAI,CAAC,CAAC;IACf,CAAC;IACD,OAAO,SAAS,CAAC;AAClB,CAAC;AACD;;;;GAIG;AACH,MAAM,UAAU,gCAAgC,CAC/C,OAYC;IAED,MAAM,WAAW,GAAG,OAAO,CAAC,GAAG,CAAC;IAChC,OAAO,sBAAsB,CAAC;QAC7B,GAAG,OAAO;QACV,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,mBAAmB,EAAE,eAAe,EAAE,EAAE;YAChE,IAAI,SAAS,GAAG,yBAAyB,CAAC,QAAQ,EAAE,eAAe,CAAC,CAAC;YACrE,IAAI,CAAC,SAAS,EAAE,CAAC;gBAChB,MAAM,cAAc,GAAG,CACtB,OAAO,CAAC,kBAAkB,KAAK,MAAM;oBACpC,CAAC,CAAC,CAAC,CAAC,YAAY;oBAChB,CAAC,CAAC,OAAO,CAAC,kBAAkB,KAAK,QAAQ,CAAC,CAAC;wBAC1C,CAAC,CAAC,aAAa;wBACf,CAAC,CAAC,CAAC,CAAC,OAAO,CACb,CAAC,cAAc,CAAC;gBACjB,IAAI,CAAC,cAAc,EAAE,CAAC;oBACrB,OAAO;gBACR,CAAC;gBACD,SAAS,GAAG,CAAC,cAAc,CAAC,CAAC;YAC9B,CAAC;YACD,MAAM,OAAO,GAAgC,EAAE,CAAC;YAChD,KAAK,MAAM,QAAQ,IAAI,SAAS,EAAE,CAAC;gBAClC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,mBAAmB,CAAC,CAAC,CAAC;YACvE,CAAC;YACD,MAAM,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YAC3B,IAAI,OAAO,CAAC,QAAQ,EAAE,CAAC;gBACtB,OAAO,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC,EAAE,QAAQ,EAAE,mBAAmB,CAAC,CAAC;YAC/D,CAAC;QACF,CAAC;KACD,CAAC,CAAC;AACJ,CAAC;AAED;;;GAGG;AACH,MAAM,UAAU,4BAA4B,CAC3C,OAA8K;IAE9K,MAAM,WAAW,GAAG,OAAO,CAAC,GAAG,CAAC;IAChC,OAAO,sBAAsB,CAAC;QAC7B,GAAG,OAAO;QACV,GAAG,EAAE,CAAC,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE;YAC1B,MAAM,cAAc,GAAG,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC;YAChD,IAAI,cAAc,EAAE,CAAC;gBACpB,OAAO,WAAW,CAAC,cAAc,EAAE,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC;YACvD,CAAC;QACF,CAAC;KACD,CAAC,CAAC;AACJ,CAAC;AAED;;;;;GAKG;AACH,MAAM,UAAU,yBAAyB,CACxC,OAAoM;IAEpM,MAAM,WAAW,GAAG,OAAO,CAAC,GAAG,CAAC;IAChC,OAAO,sBAAsB,CAAC;QAC7B,GAAG,OAAO;QACV,GAAG,EAAE,CAAC,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE;YAC1B,MAAM,cAAc,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,iBAAiB,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;YAC1F,IAAI,cAAc,EAAE,CAAC;gBACpB,OAAO,WAAW,CAAC,cAAc,CAAC,KAAK,EAAE,QAAQ,EAAE,cAAc,EAAE,IAAI,CAAC,CAAC;YAC1E,CAAC;YAED,MAAM,cAAc,GAAG,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC;YAChD,IAAI,cAAc,EAAE,KAAK,EAAE,CAAC;gBAC3B,OAAO,WAAW,CAAC,cAAc,CAAC,KAAK,EAAE,QAAQ,EAAE,cAAc,EAAE,IAAI,CAAC,CAAC;YAC1E,CAAC;QACF,CAAC;KACD,CAAC,CAAC;AACJ,CAAC;AAaD,SAAS,mBAAmB,CAAC,QAA0B;IACtD,OAAO;QACN,OAAO,EAAE,QAAQ,CAAC,GAAG,CAAC,gBAAgB,CAAC;QACvC,aAAa,EAAE,QAAQ,CAAC,GAAG,CAAC,6BAA6B,CAAC;QAC1D,YAAY,EAAE,QAAQ,CAAC,GAAG,CAAC,qBAAqB,CAAC;QACjD,eAAe,EAAE,QAAQ,CAAC,GAAG,CAAC,wBAAwB,CAAC;QACvD,aAAa,EAAE,QAAQ,CAAC,GAAG,CAAC,sBAAsB,CAAC;QACnD,cAAc,EAAE,QAAQ,CAAC,GAAG,CAAC,uBAAuB,CAAC;QACrD,cAAc,EAAE,QAAQ,CAAC,GAAG,CAAC,uBAAuB,CAAC;QACrD,sBAAsB,EAAE,QAAQ,CAAC,GAAG,CAAC,+BAA+B,CAAC;KACrE,CAAC;AACH,CAAC;AAED,MAAM,UAAU,uBAAuB;IACtC,sBAAsB,CAAC;QACtB,EAAE,+FAAwC;QAC1C,KAAK,EAAE,SAAS,CAAC,KAAgD,EAAE,2CAA2C,CAAC;QAC/G,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE;YAChB,IAAI,CAAC,CAAC,OAAO,CAAC,0BAA0B,EAAE,CAAC;gBAC1C,MAAM,QAAQ,GAAG,MAAM,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,aAAa,CAAC,eAAe,EAAE,CAAC,CAAC;gBAC/F,IAAI,CAAC,QAAQ,EAAE,CAAC;oBACf,OAAO;gBACR,CAAC;gBACD,CAAC,CAAC,OAAO,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;gBACtC,MAAM,mBAAmB,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;YACxC,CAAC;QACF,CAAC;KACD,CAAC,CAAC;IAEH,oCAAoC;IACpC,sBAAsB,CAAC,EAAE,CAAC,CAAC;IAE3B,sBAAsB,CAAC;QACtB,EAAE,sFAAwC;QAC1C,KAAK,EAAE,SAAS,CAAC,KAAgD,EAAE,oCAAoC,CAAC;QACxG,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,EAAE;YACzB,SAAS,uBAAuB,CAAC,GAAY;gBAC5C,OAAO,QAAQ,CAAC,GAAG,CAAC,IAAI,UAAU,IAAI,GAAG,CAAC;YAC3C,CAAC;YACD,MAAM,OAAO,GAAG,uBAAuB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,gBAAgB,CAAC,MAAM,EAAE,CAAC;YAC7F,MAAM,QAAQ,GAAG,MAAM,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;YACzD,MAAM,QAAQ,CAAC,cAAc,EAAE,CAAC;QACjC,CAAC;KACD,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,wGAAiD;QACnD,KAAK,EAAE,SAAS,CAAC,KAAgD,EAAE,oCAAoC,CAAC;QACxG,EAAE,EAAE,KAAK;QACT,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE;YAChC,wFAAwF;YACxF,8CAA8C;YAC9C,MAAM,mBAAmB,GAAG,QAAQ,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;YAC/D,MAAM,QAAQ,GAAG,MAAM,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC;gBAC/C,QAAQ,EAAE;oBACT,UAAU,EAAE,mBAAmB,CAAC,mBAAmB,EAAE,mBAAmB,CAAC,WAAW,CAAC;iBACrF;aACD,CAAC,CAAC;YACH,MAAM,QAAQ,CAAC,cAAc,EAAE,CAAC;QACjC,CAAC;KACD,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,8FAA4C;QAC9C,KAAK,EAAE,SAAS,CAAC,KAAoD,EAAE,gDAAgD,CAAC;QACxH,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE;YAChB,MAAM,QAAQ,GAAG,MAAM,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC;gBAC/C,QAAQ,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE;aACpC,CAAC,CAAC;YACH,MAAM,QAAQ,CAAC,cAAc,EAAE,CAAC;QACjC,CAAC;KACD,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,mFAAkC;QACpC,KAAK,EAAE,eAAe,CAAC,cAAc;QACrC,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,UAAU,EAAE;YACX,OAAO,EAAE,mDAA6B,uBAAa,6BAAoB;YACvE,GAAG,EAAE,EAAE,OAAO,EAAE,kDAA6B,uBAAa,6BAAoB,EAAE;YAChF,MAAM,6CAAmC;SACzC;QACD,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE;YAChB,MAAM,QAAQ,GAAG,MAAM,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC;gBAC/C,QAAQ,EAAE;oBACT,UAAU,EAAE,gBAAgB;oBAC5B,SAAS,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE;iBAC5B;aACD,CAAC,CAAC;YACH,MAAM,QAAQ,CAAC,cAAc,EAAE,CAAC;QACjC,CAAC;KACD,CAAC,CAAC;IAEH,gCAAgC,CAAC;QAChC,EAAE,+EAAgC;QAClC,KAAK,EAAE,eAAe,CAAC,YAAY;QACnC,YAAY,EAAE,gBAAgB,CAAC,4BAA4B;QAC3D,kBAAkB,EAAE,MAAM;QAC1B,GAAG,EAAE,CAAC,QAAQ,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,YAAY,CAAC,QAAQ,CAAC;QACtD,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE;KAClD,CAAC,CAAC;IAEH,gCAAgC,CAAC;QAChC,EAAE,yFAAqC;QACvC,KAAK,EAAE,eAAe,CAAC,iBAAiB;QACxC,YAAY,EAAE,gBAAgB,CAAC,4BAA4B;QAC3D,GAAG,EAAE,CAAC,QAAQ,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,iBAAiB,CAAC,QAAQ,CAAC;QAC3D,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE;KAClD,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,6FAAuC;QACzC,KAAK,EAAE,eAAe,CAAC,mBAAmB;QAC1C,YAAY,EAAE,gBAAgB,CAAC,kCAAkC;QACjE,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,EAAE;YACnB,MAAM,MAAM,GAAG,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,aAAa,CAAC,cAAc,CAAC;YACrE,IAAI,MAAM,EAAE,CAAC;gBACZ,CAAC,CAAC,OAAO,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;YACtC,CAAC;QACF,CAAC;KACD,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,yFAAqC;QACvC,KAAK,EAAE,SAAS,CAAC,KAA6C,EAAE,2CAA2C,CAAC;QAC5G,UAAU,EAAE;YACX,OAAO,EAAE,iDAA8B;YACvC,SAAS,EAAE,CAAC,+CAA4B,CAAC;YACzC,GAAG,EAAE;gBACJ,OAAO,EAAE,gDAA2B,6BAAoB;gBACxD,SAAS,EAAE,CAAC,gDAA2B,2BAAkB,CAAC;aAC1D;YACD,IAAI,EAAE,cAAc,CAAC,GAAG,CAAC,mBAAmB,CAAC,KAAK,EAAE,mBAAmB,CAAC,mBAAmB,CAAC;YAC5F,2FAA2F;YAC3F,MAAM,EAAE,8CAAoC,CAAC;SAC7C;QACD,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE;YAChB,CAAC,CAAC,YAAY,CAAC,WAAW,EAAE,iBAAiB,EAAE,CAAC;YAChD,MAAM,CAAC,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACtC,CAAC;KACD,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,iFAAiC;QACnC,KAAK,EAAE,SAAS,CAAC,KAAyC,EAAE,uCAAuC,CAAC;QACpG,UAAU,EAAE;YACX,OAAO,EAAE,kDAA+B;YACxC,SAAS,EAAE,CAAC,iDAA8B,CAAC;YAC3C,GAAG,EAAE;gBACJ,OAAO,EAAE,gDAA2B,8BAAqB;gBACzD,SAAS,EAAE,CAAC,gDAA2B,6BAAoB,CAAC;aAC5D;YACD,IAAI,EAAE,cAAc,CAAC,GAAG,CAAC,mBAAmB,CAAC,KAAK,EAAE,mBAAmB,CAAC,mBAAmB,CAAC;YAC5F,2FAA2F;YAC3F,MAAM,EAAE,8CAAoC,CAAC;SAC7C;QACD,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE;YAChB,CAAC,CAAC,YAAY,CAAC,WAAW,EAAE,aAAa,EAAE,CAAC;YAC5C,MAAM,CAAC,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACtC,CAAC;KACD,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,mFAAkC;QACpC,KAAK,EAAE,SAAS,CAAC,KAA0C,EAAE,sBAAsB,CAAC;QACpF,UAAU,EAAE;YACX,KAAK,EAAE,EAAE,OAAO,EAAE,mDAA6B,6BAAoB,EAAE;YACrE,GAAG,EAAE,EAAE,OAAO,EAAE,oDAA+B,6BAAoB,EAAE;YACrE,IAAI,EAAE,mBAAmB,CAAC,KAAK;YAC/B,MAAM,6CAAmC;SACzC;QACD,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,YAAY,CAAC,WAAW,EAAE,UAAU,wBAAgB;KAClE,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,qFAAmC;QACrC,KAAK,EAAE,SAAS,CAAC,KAA2C,EAAE,uBAAuB,CAAC;QACtF,UAAU,EAAE;YACX,KAAK,EAAE,EAAE,OAAO,EAAE,mDAA6B,8BAAqB,EAAE;YACtE,GAAG,EAAE,EAAE,OAAO,EAAE,oDAA+B,8BAAqB,EAAE;YACtE,IAAI,EAAE,mBAAmB,CAAC,KAAK;YAC/B,MAAM,6CAAmC;SACzC;QACD,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,YAAY,CAAC,WAAW,EAAE,UAAU,yBAAiB;KACnE,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,+EAAgC;QAClC,KAAK,EAAE,SAAS,CAAC,KAAwC,EAAE,oBAAoB,CAAC;QAChF,UAAU,EAAE;YACX,GAAG,EAAE,EAAE,OAAO,EAAE,oDAA+B,2BAAkB,EAAE;YACnE,IAAI,EAAE,mBAAmB,CAAC,KAAK;YAC/B,MAAM,6CAAmC;SACzC;QACD,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,YAAY,CAAC,WAAW,EAAE,UAAU,sBAAc;KAChE,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,mFAAkC;QACpC,KAAK,EAAE,SAAS,CAAC,KAA0C,EAAE,sBAAsB,CAAC;QACpF,UAAU,EAAE;YACX,GAAG,EAAE,EAAE,OAAO,EAAE,oDAA+B,6BAAoB,EAAE;YACrE,IAAI,EAAE,mBAAmB,CAAC,KAAK;YAC/B,MAAM,6CAAmC;SACzC;QACD,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,YAAY,CAAC,WAAW,EAAE,UAAU,wBAAgB;KAClE,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,iEAAyB;QAC3B,KAAK,EAAE,eAAe,CAAC,KAAK;QAC5B,UAAU,EAAE;YACX,IAAI,EAAE,cAAc,CAAC,GAAG,CAAC,kCAAkC,EAAE,wBAAwB,EAAE,+BAA+B,CAAC,SAAS,oDAAmC,CAAC;YACpK,OAAO,EAAE,sDAAkC;YAC3C,MAAM,6CAAmC;SACzC;QACD,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE;YAChB,MAAM,QAAQ,GAAG,CAAC,CAAC,OAAO,CAAC,cAAc,IAAI,MAAM,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE,QAAQ,EAAE,gBAAgB,CAAC,KAAK,EAAE,CAAC,CAAC;YAClH,IAAI,CAAC,QAAQ,EAAE,CAAC;gBACf,OAAO;YACR,CAAC;YACD,CAAC,CAAC,OAAO,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;YACtC,mBAAmB,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;QAClC,CAAC;KACD,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,yEAA6B;QAC/B,KAAK,EAAE,SAAS,CAAC,KAA0C,EAAE,0BAA0B,CAAC;QACxF,UAAU,EAAE;YACX,OAAO,EAAE,mDAA6B,6BAAoB;YAC1D,MAAM,6CAAmC;YACzC,IAAI,EAAE,cAAc,CAAC,EAAE,CAAC,mBAAmB,CAAC,SAAS,EAAE,mBAAmB,CAAC,KAAK,CAAC;SACjF;QACD,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,YAAY,CAAC,SAAS,EAAE;KACtC,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,yEAA6B;QAC/B,KAAK,EAAE,SAAS,CAAC,KAAqC,EAAE,2BAA2B,CAAC;QACpF,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,UAAU,EAAE;YACX,OAAO,EAAE,qDAAiC;YAC1C,GAAG,EAAE;gBACJ,OAAO,EAAE,mDAA6B,gCAAuB;aAC7D;YACD,IAAI,EAAE,cAAc,CAAC,GAAG,CAAC,mBAAmB,CAAC,KAAK,EAAE,mBAAmB,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;YAC7F,MAAM,6CAAmC;SACzC;QACD,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE;YAChB,CAAC,CAAC,YAAY,CAAC,oBAAoB,EAAE,CAAC;YACtC,MAAM,CAAC,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACtC,CAAC;KACD,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,iFAAiC;QACnC,KAAK,EAAE,SAAS,CAAC,KAAyC,EAAE,+BAA+B,CAAC;QAC5F,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,UAAU,EAAE;YACX,OAAO,EAAE,mDAA+B;YACxC,GAAG,EAAE;gBACJ,OAAO,EAAE,mDAA6B,+BAAsB;aAC5D;YACD,IAAI,EAAE,cAAc,CAAC,GAAG,CAAC,mBAAmB,CAAC,KAAK,EAAE,mBAAmB,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;YAC7F,MAAM,6CAAmC;SACzC;QACD,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE;YAChB,CAAC,CAAC,YAAY,CAAC,wBAAwB,EAAE,CAAC;YAC1C,MAAM,CAAC,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACtC,CAAC;KACD,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,qFAAmC;QACrC,KAAK,EAAE,SAAS,CAAC,KAA2C,EAAE,sCAAsC,CAAC;QACrG,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,EAAE;YAC1B,MAAM,iBAAiB,GAAG,QAAQ,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;YAC3D,MAAM,MAAM,GAAG,iBAAiB,CAAC,mBAAmB,EAAE,CAAC;YACvD,IAAI,CAAC,MAAM,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE,CAAC;gBACnC,OAAO;YACR,CAAC;YACD,MAAM,QAAQ,GAAG,MAAM,CAAC,CAAC,OAAO,CAAC,yBAAyB,CAAC,EAAE,YAAY,EAAE,IAAI,EAAE,CAAC,CAAC;YACnF,MAAM,SAAS,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC;YACxC,IAAI,IAAY,CAAC;YACjB,IAAI,SAAS,CAAC,OAAO,EAAE,EAAE,CAAC;gBACzB,IAAI,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC,cAAc,CAAC,SAAS,CAAC,wBAAwB,CAAC,CAAC,IAAI,EAAE,CAAC;YACpF,CAAC;iBAAM,CAAC;gBACP,MAAM,mBAAmB,GAAG,SAAS,CAAC,CAAC,gCAAwB,CAAC,iCAAyB,CAAC;gBAC1F,IAAI,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC,eAAe,CAAC,SAAS,EAAE,mBAAmB,CAAC,CAAC;YAC1E,CAAC;YACD,QAAQ,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YACpC,MAAM,CAAC,CAAC,OAAO,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;QAC5C,CAAC;KACD,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,iFAAiC;QACnC,KAAK,EAAE,SAAS,CAAC,KAAyC,EAAE,oCAAoC,CAAC;QACjG,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,EAAE;YAC1B,MAAM,iBAAiB,GAAG,QAAQ,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;YAC3D,MAAM,mBAAmB,GAAG,QAAQ,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;YAC/D,MAAM,2BAA2B,GAAG,QAAQ,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;YAE/E,MAAM,MAAM,GAAG,iBAAiB,CAAC,mBAAmB,EAAE,CAAC;YACvD,IAAI,CAAC,MAAM,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE,CAAC;gBACnC,OAAO;YACR,CAAC;YAED,MAAM,QAAQ,GAAG,MAAM,CAAC,CAAC,OAAO,CAAC,yBAAyB,CAAC,EAAE,YAAY,EAAE,IAAI,EAAE,CAAC,CAAC;YACnF,MAAM,QAAQ,GAAG,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,2BAA2B,CAAC,eAAe,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;YACvH,MAAM,GAAG,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC,GAAG,CAAC;YAClC,IAAI,CAAC,CAAC,QAAQ,IAAI,GAAG,CAAC,MAAM,KAAK,OAAO,CAAC,IAAI,IAAI,GAAG,CAAC,MAAM,KAAK,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,IAAI,GAAG,CAAC,MAAM,KAAK,OAAO,CAAC,YAAY,CAAC,EAAE,CAAC;gBAC9I,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAgD,EAAE,IAA+C,CAAC,CAAC,CAAC;gBACtI,OAAO;YACR,CAAC;YAED,iDAAiD;YACjD,MAAM,QAAQ,CAAC,QAAQ,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;YACnC,OAAO,CAAC,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC;QACnC,CAAC;KACD,CAAC,CAAC;IAEH,yBAAyB,CAAC;QACzB,EAAE,+EAAkC;QACpC,KAAK,EAAE,SAAS,CAAC,KAAsC,EAAE,oBAAoB,CAAC;QAC9E,UAAU,EAAE;YACX,OAAO,EAAE,gDAA2B,4BAAmB;YACvD,KAAK,EAAE,EAAE,OAAO,EAAE,mDAA6B,6BAAoB,EAAE;YACrE,IAAI,EAAE,gBAAgB,CAAC,2BAA2B;YAClD,MAAM,6CAAmC;SACzC;QACD,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,GAAG,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,cAAc,EAAE;KACtC,CAAC,CAAC;IAEH,yBAAyB,CAAC;QACzB,EAAE,mFAAkC;QACpC,KAAK,EAAE,SAAS,CAAC,KAA0C,EAAE,oBAAoB,CAAC;QAClF,UAAU,EAAE;YACX,OAAO,EAAE,mDAA+B;YACxC,GAAG,EAAE,EAAE,OAAO,2BAAkB,EAAE;YAClC,IAAI,EAAE,gBAAgB,CAAC,2BAA2B;YAClD,MAAM,6CAAmC;SACzC;QACD,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,GAAG,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,cAAc,EAAE;KACtC,CAAC,CAAC;IAEH,yBAAyB,CAAC;QACzB,EAAE,mFAAkC;QACpC,KAAK,EAAE,SAAS,CAAC,KAA0C,EAAE,kBAAkB,CAAC;QAChF,UAAU,EAAE;YACX,OAAO,EAAE,gDAA4B;YACrC,KAAK,EAAE,EAAE,OAAO,EAAE,8CAA0B,EAAE;YAC9C,IAAI,EAAE,gBAAgB,CAAC,2BAA2B;YAClD,MAAM,6CAAmC;SACzC;QACD,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,GAAG,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,cAAc,EAAE;KACtC,CAAC,CAAC;IAEH,yBAAyB,CAAC;QACzB,EAAE,2EAAgC;QAClC,KAAK,EAAE,SAAS,CAAC,KAAoC,EAAE,kBAAkB,CAAC;QAC1E,UAAU,EAAE;YACX,OAAO,EAAE,gDAA2B,0BAAiB;YACrD,KAAK,EAAE,EAAE,OAAO,EAAE,mDAA6B,2BAAkB,EAAE;YACnE,IAAI,EAAE,gBAAgB,CAAC,2BAA2B;YAClD,MAAM,6CAAmC;SACzC;QACD,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,GAAG,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,YAAY,EAAE;KACpC,CAAC,CAAC;IAEH,yBAAyB,CAAC;QACzB,EAAE,+EAAgC;QAClC,KAAK,EAAE,SAAS,CAAC,KAAwC,EAAE,kBAAkB,CAAC;QAC9E,EAAE,EAAE,IAAI;QACR,UAAU,EAAE;YACX,OAAO,EAAE,iDAA6B;YACtC,GAAG,EAAE,EAAE,OAAO,yBAAgB,EAAE;YAChC,IAAI,EAAE,gBAAgB,CAAC,2BAA2B;YAClD,MAAM,6CAAmC;SACzC;QACD,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,GAAG,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,YAAY,EAAE;KACpC,CAAC,CAAC;IAEH,yBAAyB,CAAC;QACzB,EAAE,6EAA+B;QACjC,KAAK,EAAE,SAAS,CAAC,KAAuC,EAAE,eAAe,CAAC;QAC1E,UAAU,EAAE;YACX,OAAO,EAAE,iDAA6B;YACtC,KAAK,EAAE,EAAE,OAAO,EAAE,+CAA2B,EAAE;YAC/C,IAAI,EAAE,gBAAgB,CAAC,2BAA2B;YAClD,MAAM,6CAAmC;SACzC;QACD,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,GAAG,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,WAAW,EAAE;KACnC,CAAC,CAAC;IAEH,yBAAyB,CAAC;QACzB,EAAE,mFAAkC;QACpC,KAAK,EAAE,SAAS,CAAC,KAA0C,EAAE,iBAAiB,CAAC;QAC/E,UAAU,EAAE;YACX,OAAO,wBAAgB;YACvB,IAAI,EAAE,cAAc,CAAC,GAAG,CAAC,mBAAmB,CAAC,UAAU,EAAE,mBAAmB,CAAC,YAAY,EAAE,mBAAmB,CAAC,cAAc,CAAC;YAC9H,MAAM,6CAAmC;SACzC;QACD,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,GAAG,EAAE,CAAC,KAAK,EAAE,EAAE;YACd,IAAI,KAAK,CAAC,YAAY,EAAE,EAAE,CAAC;gBAC1B,KAAK,CAAC,cAAc,EAAE,CAAC;YACxB,CAAC;QACF,CAAC;KACD,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,2EAA8B;QAChC,KAAK,EAAE,eAAe,CAAC,UAAU;QACjC,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,IAAa,EAAE,EAAE,CAAC,2BAA2B,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE,UAAU,EAAE;KAChF,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,6FAAuC;QACzC,KAAK,EAAE,eAAe,CAAC,UAAU;QACjC,EAAE,EAAE,KAAK;QACT,YAAY,EAAE,gBAAgB,CAAC,uCAAuC;QACtE,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE;YAChC,IAAI,IAA8B,CAAC;YACnC,IAAI,CAAC,CAAC,YAAY,CAAC,gBAAgB,KAAK,YAAY,EAAE,CAAC;gBACtD,2BAA2B,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE,UAAU,EAAE,CAAC;gBACnD,OAAO;YACR,CAAC;YACD,KAAK,MAAM,QAAQ,IAAI,wBAAwB,CAAC,QAAQ,CAAC,IAAI,EAAE,EAAE,CAAC;gBACjE,IAAI,GAAG,MAAM,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YACxC,CAAC;QACF,CAAC;KACD,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,6EAA+B;QACjC,KAAK,EAAE,eAAe,CAAC,WAAW;QAClC,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC,2BAA2B,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE,WAAW,EAAE;KACxE,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,+FAAwC;QAC1C,KAAK,EAAE,eAAe,CAAC,WAAW;QAClC,EAAE,EAAE,KAAK;QACT,YAAY,EAAE,gBAAgB,CAAC,uCAAuC;QACtE,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE;YAChC,IAAI,KAAyB,CAAC;YAC9B,IAAI,CAAC,GAAG,CAAC,CAAC;YACV,IAAI,CAAC,CAAC,YAAY,CAAC,gBAAgB,KAAK,YAAY,EAAE,CAAC;gBACtD,2BAA2B,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE,WAAW,EAAE,CAAC;gBACpD,OAAO;YACR,CAAC;YACD,KAAK,MAAM,QAAQ,IAAI,wBAAwB,CAAC,QAAQ,CAAC,IAAI,EAAE,EAAE,CAAC;gBACjE,MAAM,aAAa,GAAG,CAAC,KAAK,CAAC,CAAC;gBAC9B,mDAAmD;gBACnD,KAAK,GAAG,MAAM,QAAQ,CAAC,WAAW,CAAC,KAAK,EAAE,aAAa,CAAC,CAAC;gBACzD,CAAC,EAAE,CAAC;YACL,CAAC;QACF,CAAC;KACD,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,mEAA0B;QAC5B,KAAK,EAAE,eAAe,CAAC,MAAM;QAC7B,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,GAAG,EAAE,CAAC,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE,CAAC,mBAAmB,CAAC,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC;KAClE,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,qFAAmC;QACrC,KAAK,EAAE,eAAe,CAAC,MAAM;QAC7B,EAAE,EAAE,KAAK;QACT,UAAU,EAAE;YACX,OAAO,qBAAY;YACnB,GAAG,EAAE;gBACJ,OAAO,uBAAe;aACtB;YACD,IAAI,EAAE,cAAc,CAAC,GAAG,CAAC,mBAAmB,CAAC,SAAS,CAAC;YACvD,MAAM,6CAAmC;SACzC;QACD,YAAY,EAAE,gBAAgB,CAAC,uCAAuC;QACtE,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,EAAE;YAC1B,MAAM,oBAAoB,GAAG,QAAQ,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;YACjE,MAAM,mBAAmB,GAAG,QAAQ,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;YAC/D,MAAM,SAAS,GAAG,wBAAwB,CAAC,QAAQ,CAAC,CAAC;YACrD,MAAM,aAAa,GAAG,SAAS,EAAE,CAAC,CAAC,CAAC,CAAC;YACrC,IAAI,CAAC,aAAa,EAAE,CAAC;gBACpB,OAAO;YACR,CAAC;YAED,IAAI,oBAAoB,CAAC,gBAAgB,KAAK,YAAY,EAAE,CAAC;gBAC5D,OAAO,mBAAmB,CAAC,CAAC,EAAE,QAAQ,EAAE,aAAa,CAAC,CAAC;YACxD,CAAC;YAED,CAAC,CAAC,cAAc,CAAC,kBAAkB,CAAC,aAAa,CAAC,CAAC;YACnD,CAAC,CAAC,cAAc,CAAC,WAAW,CAAC,aAAa,EAAE;gBAC3C,iBAAiB,EAAE,KAAK,CAAC,EAAE,CAAC,oBAAoB,CAAC,KAAK,CAAC;gBACvD,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,EAAE;oBAClC,gFAAgF;oBAChF,CAAC,CAAC,cAAc,CAAC,WAAW,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;oBAClD,CAAC,CAAC,cAAc,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC;oBAC/C,IAAI,OAAO,EAAE,CAAC;wBACb,MAAM,QAAQ,GAAoB,EAAE,CAAC;wBACrC,KAAK,MAAM,QAAQ,IAAI,SAAS,EAAE,CAAC;4BAClC,QAAQ,CAAC,IAAI,CAAC,CAAC,KAAK,IAAI,EAAE;gCACzB,MAAM,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;4BAC9B,CAAC,CAAC,EAAE,CAAC,CAAC;wBACP,CAAC;wBACD,IAAI,CAAC;4BACJ,MAAM,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;wBAC7B,CAAC;wBAAC,OAAO,CAAC,EAAE,CAAC;4BACZ,mBAAmB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;wBAC9B,CAAC;oBACF,CAAC;gBACF,CAAC;aACD,CAAC,CAAC;QACJ,CAAC;KACD,CAAC,CAAC;IAEH,4BAA4B,CAAC;QAC5B,EAAE,iFAAiC;QACnC,KAAK,EAAE,SAAS,CAAC,KAAyC,EAAE,gBAAgB,CAAC;QAC7E,GAAG,EAAE,CAAC,cAAc,EAAE,EAAE,CAAC,cAAc,CAAC,uBAAuB,CAAC,kBAAkB,CAAC,IAAI,CAAC;KACxF,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,qFAAmC;QACrC,KAAK,EAAE,SAAS,CAAC,KAA2C,EAAE,mBAAmB,CAAC;QAClF,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,EAAE;YAC1B,MAAM,iBAAiB,GAAG,QAAQ,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;YAC3D,MAAM,YAAY,GAAG,QAAQ,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;YACjD,MAAM,kBAAkB,GAAG,QAAQ,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;YAC7D,MAAM,mBAAmB,GAAG,QAAQ,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;YAE/D,MAAM,eAAe,GAAG,kBAAkB,CAAC,aAAa,EAAE,EAAE,eAAe,IAAI,SAAS,CAAC;YACzF,MAAM,OAAO,GAAG,MAAM,QAAQ,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC;YAEzF,IAAI,CAAC,OAAO,EAAE,CAAC;gBACd,MAAM,IAAI,KAAK,CAAC,+CAA+C,eAAe,GAAG,CAAC,CAAC;YACpF,CAAC;YAED,MAAM,KAAK,GAAG,MAAM,OAAO,CAAC,aAAa,EAAE,CAAC;YAE5C,OAAO,CAAC,yBAAyB,EAAE,CAAC;YAEpC,MAAM,eAAe,GAAG,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC,CAAC;YACpF,MAAM,KAAK,GAAG,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;gBACxC,MAAM,QAAQ,GAAG,YAAY,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;gBAC9D,OAAO;oBACN,KAAK,EAAE,IAAI,CAAC,KAAK;oBACjB,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,aAAa,WAAW,QAAQ,EAAE,CAAC,CAAC,CAAC,QAAQ;oBAClF,WAAW,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE;oBAC7C,IAAI;iBACJ,CAAC;YACH,CAAC,CAAC,CAAC;YACH,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;gBACxB,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAuB,EAAE,IAAgD,CAAC,CAAC,CAAC;gBAC9G,OAAO;YACR,CAAC;YACD,MAAM,QAAQ,GAAG,MAAM,iBAAiB,CAAC,IAAI,CAAsB,KAAK,EAAE,EAAE,WAAW,EAAE,KAAK,EAAE,CAAC,CAAC;YAClG,IAAI,QAAQ,EAAE,CAAC;gBACd,MAAM,QAAQ,GAAG,MAAM,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC;oBAC/C,MAAM,EAAE,EAAE,uBAAuB,EAAE,QAAQ,CAAC,IAAI,EAAE;iBAClD,CAAC,CAAC;gBACH,CAAC,CAAC,OAAO,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;gBACtC,MAAM,mBAAmB,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;YACxC,CAAC;QACF,CAAC;KACD,CAAC,CAAC;IAEH,4BAA4B,CAAC;QAC5B,EAAE,qGAA2C;QAC7C,KAAK,EAAE,eAAe,CAAC,uBAAuB;QAC9C,UAAU,EAAE;YACX,OAAO,EAAE,oDAAgC;YACzC,IAAI,EAAE,cAAc,CAAC,GAAG,CAAC,mBAAmB,CAAC,KAAK,EAAE,kCAAkC,CAAC,MAAM,EAAE,CAAC;YAChG,MAAM,6CAAmC;SACzC;QACD,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,IAAI,EAAE,OAAO,CAAC,OAAO;QACrB,IAAI,EAAE;YACL;gBACC,EAAE,EAAE,MAAM,CAAC,SAAS;gBACpB,KAAK,EAAE,YAAY;gBACnB,KAAK,EAAE,CAAC;gBACR,IAAI,EAAE,cAAc,CAAC,MAAM,CAAC,MAAM,EAAE,gBAAgB,CAAC;gBACrD,iBAAiB,EAAE,IAAI;aACvB;YACD,GAAG,CAAC,MAAM,CAAC,WAAW,EAAE,MAAM,CAAC,wBAAwB,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;gBACnE,EAAE;gBACF,KAAK,EAAE,oBAAoB;gBAC3B,KAAK,EAAE,CAAC;gBACR,IAAI,EAAE,kBAAkB,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,cAAc,CAAC;gBACjE,iBAAiB,EAAE,IAAI;aACvB,CAAC,CAAC;SACH;QACD,GAAG,EAAE,CAAC,cAAc,EAAE,EAAE,CAAC,cAAc,CAAC,KAAK,EAAE,WAAW,CAAC,oBAAoB,CAAC,SAAS,EAAE,SAAS,EAAE,cAAc,CAAC,YAAY,CAAC,GAAG,6CAAqC,CAAC;KAC3K,CAAC,CAAC;IAEH,4BAA4B,CAAC;QAC5B,EAAE,6FAAuC;QACzC,KAAK,EAAE,eAAe,CAAC,mBAAmB;QAC1C,UAAU,EAAE;YACX,OAAO,EAAE,sDAAkC;YAC3C,IAAI,EAAE,cAAc,CAAC,GAAG,CAAC,mBAAmB,CAAC,KAAK,EAAE,kCAAkC,CAAC,MAAM,EAAE,CAAC;YAChG,MAAM,6CAAmC;SACzC;QACD,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,IAAI,EAAE,OAAO,CAAC,SAAS;QACvB,IAAI,EAAE;YACL;gBACC,EAAE,EAAE,MAAM,CAAC,SAAS;gBACpB,KAAK,EAAE,YAAY;gBACnB,KAAK,EAAE,CAAC;gBACR,IAAI,EAAE,cAAc,CAAC,MAAM,CAAC,MAAM,EAAE,gBAAgB,CAAC;gBACrD,iBAAiB,EAAE,IAAI;aACvB;YACD,GAAG,CAAC,MAAM,CAAC,WAAW,EAAE,MAAM,CAAC,wBAAwB,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;gBACnE,EAAE;gBACF,KAAK,EAAE,oBAAoB;gBAC3B,KAAK,EAAE,CAAC;gBACR,IAAI,EAAE,kBAAkB,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,cAAc,CAAC;gBACjE,iBAAiB,EAAE,IAAI;aACvB,CAAC,CAAC;SACH;QACD,GAAG,EAAE,CAAC,cAAc,EAAE,EAAE;YACvB,cAAc,CAAC,KAAK,EAAE,WAAW,CAAC,gBAAgB,EAAE,CAAC;YACrD,cAAc,CAAC,KAAK,EAAE,CAAC;QACxB,CAAC;KACD,CAAC,CAAC;IAEH,4BAA4B,CAAC;QAC5B,EAAE,qGAA2C;QAC7C,KAAK,EAAE,SAAS,CAAC,KAAmD,EAAE,4BAA4B,CAAC;QACnG,UAAU,EAAE;YACX,OAAO,EAAE,mDAA6B,2BAAkB;YACxD,IAAI,EAAE,mBAAmB,CAAC,KAAK;YAC/B,MAAM,6CAAmC;SACzC;QACD,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,GAAG,EAAE,CAAC,cAAc,EAAE,EAAE;YACvB,cAAc,CAAC,KAAK,EAAE,WAAW,CAAC,oBAAoB,EAAE,CAAC;YACzD,cAAc,CAAC,KAAK,EAAE,CAAC;QACxB,CAAC;KACD,CAAC,CAAC;IAEH,4BAA4B,CAAC;QAC5B,EAAE,6FAAuC;QACzC,KAAK,EAAE,SAAS,CAAC,KAA+C,EAAE,wBAAwB,CAAC;QAC3F,UAAU,EAAE;YACX,OAAO,EAAE,mDAA6B,6BAAoB;YAC1D,IAAI,EAAE,mBAAmB,CAAC,KAAK;YAC/B,MAAM,6CAAmC;SACzC;QACD,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,GAAG,EAAE,CAAC,cAAc,EAAE,EAAE;YACvB,cAAc,CAAC,KAAK,EAAE,WAAW,CAAC,gBAAgB,EAAE,CAAC;YACrD,cAAc,CAAC,KAAK,EAAE,CAAC;QACxB,CAAC;KACD,CAAC,CAAC;IAEH,yBAAyB,CAAC;QACzB,EAAE,+FAAwC;QAC1C,KAAK,EAAE,SAAS,CAAC,KAAgD,EAAE,yBAAyB,CAAC;QAC7F,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,EAAE;YACjC,KAAK,CAAC,WAAW,CAAC,oBAAoB,EAAE,CAAC;YACzC,qFAAqF;YACrF,CAAC,QAAQ,IAAI,KAAK,CAAC,CAAC,KAAK,EAAE,CAAC;QAC7B,CAAC;KACD,CAAC,CAAC;IAEH,yBAAyB,CAAC;QACzB,EAAE,uFAAoC;QACtC,KAAK,EAAE,SAAS,CAAC,KAA4C,EAAE,qBAAqB,CAAC;QACrF,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,EAAE;YACjC,KAAK,CAAC,WAAW,CAAC,gBAAgB,EAAE,CAAC;YACrC,qFAAqF;YACrF,CAAC,QAAQ,IAAI,KAAK,CAAC,CAAC,KAAK,EAAE,CAAC;QAC7B,CAAC;KACD,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,2EAA8B;QAChC,KAAK,EAAE,eAAe,CAAC,UAAU;QACjC,QAAQ,EAAE;YACT,WAAW,EAAE,eAAe,CAAC,UAAU,CAAC,KAAK;YAC7C,IAAI,EAAE,CAAC;oBACN,IAAI,EAAE,MAAM;oBACZ,MAAM,EAAE;wBACP,IAAI,EAAE,QAAQ;wBACd,QAAQ,EAAE,CAAC,KAAK,CAAC;wBACjB,UAAU,EAAE;4BACX,GAAG,EAAE;gCACJ,WAAW,EAAE,QAAQ,CAAC,KAA0C,EAAE,IAAwC,CAAC;gCAC3G,IAAI,EAAE,QAAQ;6BACd;yBACD;qBACD;iBACD,CAAC;SACF;QACD,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,EAAE;YACzB,MAAM,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,gBAAgB,CAAoB,IAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;YAC9E,MAAM,QAAQ,GAAG,MAAM,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC;YACzD,IAAI,CAAC,QAAQ,EAAE,CAAC;gBACf,OAAO;YACR,CAAC;YACD,CAAC,CAAC,OAAO,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;YACtC,MAAM,mBAAmB,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;QACxC,CAAC;KACD,CAAC,CAAC;IAEH,4BAA4B,CAAC;QAC5B,EAAE,kFAAkC;QACpC,KAAK,EAAE,eAAe,CAAC,cAAc;QACrC,QAAQ,EAAE;YACT,WAAW,EAAE,eAAe,CAAC,cAAc,CAAC,KAAK;YACjD,IAAI,EAAE,CAAC;oBACN,IAAI,EAAE,MAAM;oBACZ,MAAM,EAAE;wBACP,IAAI,EAAE,QAAQ;wBACd,QAAQ,EAAE,CAAC,MAAM,CAAC;wBAClB,UAAU,EAAE;4BACX,IAAI,EAAE;gCACL,WAAW,EAAE,QAAQ,CAAC,KAA8C,EAAE,IAA+B,CAAC;gCACtG,IAAI,EAAE,QAAQ;gCACd,SAAS,EAAE,CAAC;6BACZ;yBACD;qBACD;iBACD,CAAC;SACF;QACD,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,EAAE,EAAE,KAAK;QACT,GAAG,EAAE,KAAK,EAAE,cAAc,EAAE,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE;YAChD,MAAM,mBAAmB,GAAG,QAAQ,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;YAC/D,MAAM,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,gBAAgB,CAAqB,IAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;YACjF,IAAI,CAAC,IAAI,EAAE,CAAC;gBACX,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAgD,EAAE,IAA2B,CAAC,CAAC,CAAC;gBAClH,OAAO;YACR,CAAC;YACD,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAC7B,CAAC;KACD,CAAC,CAAC;IAEH,4BAA4B,CAAC;QAC5B,EAAE,uEAA4B;QAC9B,KAAK,EAAE,SAAS,CAAC,KAAoC,EAAE,0BAA0B,CAAC;QAClF,GAAG,EAAE,CAAC,cAAc,EAAE,EAAE,CAAC,cAAc,CAAC,QAAQ,EAAE;KAClD,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,iEAAyB;QAC3B,KAAK,EAAE,eAAe,CAAC,KAAK;QAC5B,YAAY,EAAE,cAAc,CAAC,EAAE,CAAC,mBAAmB,CAAC,gBAAgB,EAAE,mBAAmB,CAAC,8BAA8B,CAAC;QACzH,UAAU,EAAE;YACX,OAAO,EAAE,mDAA6B,0BAAiB;YACvD,MAAM,6CAAmC;YACzC,GAAG,EAAE;gBACJ,OAAO,EAAE,sDAAkC;gBAC3C,SAAS,EAAE,CAAC,kDAA6B,0BAAiB,CAAC;aAC3D;YACD,IAAI,EAAE,mBAAmB,CAAC,KAAK;SAC/B;QACD,IAAI,EAAE,OAAO,CAAC,eAAe;QAC7B,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE;YAChC,MAAM,gBAAgB,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAiD,CAAC,CAAC,CAAC,SAAS,CAAC;YACxG,MAAM,cAAc,GAAG,QAAQ,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;YACrD,MAAM,uBAAuB,GAAG,QAAQ,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;YACvE,MAAM,OAAO,GAAG,gCAAgC,CAAC,gBAAgB,CAAC,CAAC;YACnE,MAAM,cAAc,GAAG,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,eAAe,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC,CAAC,cAAc,CAAC;YAC3F,IAAI,CAAC,cAAc,EAAE,CAAC;gBACrB,OAAO;YACR,CAAC;YACD,MAAM,GAAG,GAAG,MAAM,cAAc,CAAC,cAAc,EAAE,uBAAuB,CAAC,YAAY,EAAE,CAAC,OAAO,EAAE,cAAc,EAAE,CAAC,CAAC,aAAa,CAAC,CAAC;YAClI,IAAI,GAAG,KAAK,SAAS,EAAE,CAAC;gBACvB,OAAO;YACR,CAAC;YACD,MAAM,QAAQ,GAAG,MAAM,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE,QAAQ,EAAE,EAAE,cAAc,EAAE,cAAc,EAAE,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC;YAChI,MAAM,mBAAmB,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;QACxC,CAAC;KACD,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,mFAAkC;QACpC,KAAK,EAAE,eAAe,CAAC,KAAK;QAC5B,EAAE,EAAE,KAAK;QACT,UAAU,EAAE;YACX,OAAO,EAAE,mDAA6B,0BAAiB;YACvD,GAAG,EAAE;gBACJ,OAAO,EAAE,sDAAkC;gBAC3C,SAAS,EAAE,CAAC,kDAA6B,0BAAiB,CAAC;aAC3D;YACD,MAAM,6CAAmC;YACzC,IAAI,EAAE,mBAAmB,CAAC,SAAS;SACnC;QACD,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,EAAE;YAC1B,MAAM,SAAS,GAAG,wBAAwB,CAAC,QAAQ,CAAC,CAAC;YACrD,IAAI,SAAS,EAAE,CAAC;gBACf,MAAM,QAAQ,GAAoB,EAAE,CAAC;gBACrC,KAAK,MAAM,CAAC,IAAI,SAAS,EAAE,CAAC;oBAC3B,QAAQ,CAAC,IAAI,CAAC,CAAC,KAAK,IAAI,EAAE;wBACzB,MAAM,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE,QAAQ,EAAE,EAAE,cAAc,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;wBACpE,MAAM,CAAC,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;oBACtC,CAAC,CAAC,EAAE,CAAC,CAAC;gBACP,CAAC;gBACD,MAAM,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YAC7B,CAAC;QACF,CAAC;KACD,CAAC,CAAC;IAEH,gCAAgC,CAAC;QAChC,EAAE,qEAA2B;QAC7B,KAAK,EAAE,eAAe,CAAC,OAAO;QAC9B,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,GAAG,EAAE,KAAK,EAAE,QAAQ,EAAE,CAAC,EAAE,EAAE;YAC1B,MAAM,KAAK,GAAG,CAAC,CAAC,YAAY,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC;YAC3D,IAAI,KAAK,IAAI,KAAK,EAAE,iBAAiB,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBAClD,CAAC,CAAC,YAAY,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;YAC1C,CAAC;QACF,CAAC;KACD,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,iFAAiC;QACnC,KAAK,EAAE,SAAS,CAAC,KAAwC,EAAE,gBAAgB,CAAC;QAC5E,YAAY,EAAE,cAAc,CAAC,GAAG,CAAC,gBAAgB,CAAC,iBAAiB,EAAE,mBAAmB,CAAC,qBAAqB,CAAC,SAAS,EAAE,CAAC;QAC3H,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,EAAE;YAC1B,MAAM,SAAS,GAAG,wBAAwB,CAAC,QAAQ,CAAC,CAAC;YACrD,IAAI,SAAS,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBACvC,CAAC,CAAC,YAAY,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;YACzC,CAAC;QACF,CAAC;KACD,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,+DAAwB;QAC1B,KAAK,EAAE,SAAS,CAAC,KAAgC,EAAE,mBAAmB,CAAC;QACvE,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,EAAE;YAC1B,MAAM,YAAY,GAAG,QAAQ,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;YACjD,MAAM,mBAAmB,GAAG,QAAQ,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;YAC/D,MAAM,iBAAiB,GAAG,QAAQ,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;YAE3D,MAAM,KAAK,GAA6B,EAAE,CAAC;YAC3C,IAAI,CAAC,CAAC,YAAY,CAAC,SAAS,CAAC,MAAM,IAAI,CAAC,EAAE,CAAC;gBAC1C,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAsD,EAAE,IAA4C,CAAC,CAAC,CAAC;gBACzI,OAAO;YACR,CAAC;YACD,MAAM,cAAc,GAAG,CAAC,CAAC,YAAY,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,UAAU,KAAK,CAAC,CAAC,YAAY,CAAC,cAAc,EAAE,UAAU,CAAC,CAAC;YACxH,KAAK,MAAM,QAAQ,IAAI,cAAc,EAAE,CAAC;gBACvC,MAAM,KAAK,GAAG,CAAC,CAAC,YAAY,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC;gBAC3D,IAAI,KAAK,EAAE,iBAAiB,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;oBAC3C,MAAM,MAAM,GAAG,SAAS,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;oBAC7C,MAAM,KAAK,GAAG,KAAK,MAAM,MAAM,QAAQ,CAAC,KAAK,EAAE,CAAC;oBAChD,MAAM,WAAW,GAAa,EAAE,CAAC;oBACjC,MAAM,UAAU,GAAG,aAAa,CAAC,QAAQ,CAAC,CAAC;oBAC3C,IAAI,UAAU,EAAE,CAAC;wBAChB,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;oBAC9B,CAAC;oBACD,MAAM,UAAU,GAAG,aAAa,CAAC,QAAQ,EAAE,YAAY,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,CAAC;oBAC9E,IAAI,UAAU,EAAE,CAAC;wBAChB,WAAW,CAAC,IAAI,CAAC,GAAG,UAAU,CAAC,CAAC;oBACjC,CAAC;oBACD,KAAK,CAAC,IAAI,CAAC;wBACV,QAAQ;wBACR,KAAK;wBACL,WAAW;qBACX,CAAC,CAAC;gBACJ,CAAC;YACF,CAAC;YACD,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;gBACxB,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,KAA2C,EAAE,IAAkC,CAAC,CAAC,CAAC;gBACpH,OAAO;YACR,CAAC;YACD,MAAM,MAAM,GAAG,MAAM,iBAAiB,CAAC,IAAI,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;YACvD,IAAI,MAAM,EAAE,CAAC;gBACZ,CAAC,CAAC,YAAY,CAAC,aAAa,CAAC,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,CAAC,YAAY,CAAC,cAAe,CAAC,CAAC,CAAC;YACjF,CAAC;QACF,CAAC;KACD,CAAC,CAAC;IAEH,4BAA4B,CAAC;QAC5B,EAAE,mGAA0C;QAC5C,KAAK,EAAE,SAAS,CAAC,KAAkD,EAAE,sCAAsC,CAAC;QAC5G,GAAG,EAAE,KAAK,EAAE,QAAQ,EAAE,CAAC,EAAE,EAAE;YAC1B,MAAM,WAAW,GAAG,MAAM,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE,QAAQ,EAAE,EAAE,cAAc,EAAE,QAAQ,EAAE,EAAE,CAAC,CAAC;YAC/F,IAAI,WAAW,EAAE,MAAM,KAAK,gBAAgB,CAAC,MAAM,EAAE,CAAC;gBACrD,MAAM,CAAC,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YACtC,CAAC;QACF,CAAC;KACD,CAAC,CAAC;IAEH,yBAAyB,CAAC;QACzB,EAAE,yEAA6B;QAC/B,KAAK,EAAE,SAAS,CAAC,KAAqC,EAAE,YAAY,CAAC;QACrE,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,UAAU,EAAE,CAAC;gBACZ,4EAA4E;gBAC5E,0BAA0B;gBAC1B,OAAO,EAAE,CAAC;gBACV,wEAAwE;gBACxE,0EAA0E;gBAC1E,wDAAwD;gBACxD,GAAG,EAAE,EAAE,OAAO,EAAE,iDAA6B,EAAE;gBAC/C,MAAM,6CAAmC;gBACzC,IAAI,EAAE,mBAAmB,CAAC,UAAU;aACpC,CAAC;QACF,GAAG,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,SAAS,EAAE;KACjC,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,6DAAuB;QACzB,KAAK,EAAE,SAAS,CAAC,KAA+B,EAAE,qBAAqB,CAAC;QACxE,YAAY,EAAE,cAAc,CAAC,EAAE,CAAC,mBAAmB,CAAC,gBAAgB,EAAE,mBAAmB,CAAC,8BAA8B,CAAC;QACzH,IAAI,EAAE,eAAe;QACrB,UAAU,EAAE;YACX,OAAO,EAAE,mDAA6B,6BAAoB;YAC1D,GAAG,EAAE,EAAE,OAAO,EAAE,kDAA6B,6BAAoB,EAAE;YACnE,MAAM,6CAAmC;SACzC;QACD,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE;YAChC,IAAI,cAAc,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAA2C,CAAC,CAAC,CAAC,SAAS,CAAC;YAC9F,MAAM,uBAAuB,GAAG,QAAQ,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;YACvE,MAAM,cAAc,GAAG,QAAQ,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;YACrD,MAAM,mBAAmB,GAAG,QAAQ,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;YAC/D,MAAM,OAAO,GAAG,uBAAuB,CAAC,YAAY,EAAE,CAAC,OAAO,CAAC;YAC/D,IAAI,cAAc,IAAI,YAAY,CAAC,cAAc,CAAC,IAAI,CAAC,cAAc,CAAC,MAAM,IAAI,cAAc,CAAC,OAAO,CAAC,EAAE,CAAC;gBACzG,MAAM,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE,QAAQ,EAAE,EAAE,mBAAmB,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;gBAC5E,OAAO;YACR,CAAC;YAED,IAAI,CAAC,CAAC,OAAO,CAAC,0BAA0B,EAAE,CAAC;gBAC1C,cAAc,GAAG,CAAC,cAAc,IAAI,YAAY,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,cAAc,CAAC;gBAEvF,IAAI,iBAAiB,CAAC,eAAe,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAC;oBACtE,cAAc,CAAC,QAAQ,GAAG,EAAE,UAAU,EAAE,mBAAmB,CAAC,mBAAmB,EAAE,mBAAmB,CAAC,WAAW,CAAC,EAAE,CAAC;gBACrH,CAAC;gBAED,IAAI,QAAuC,CAAC;gBAC5C,IAAI,OAAO,CAAC,MAAM,IAAI,CAAC,EAAE,CAAC;oBACzB,iEAAiE;oBACjE,cAAc;oBACd,QAAQ,GAAG,MAAM,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;gBAC3D,CAAC;qBAAM,CAAC;oBACP,MAAM,GAAG,GAAG,CAAC,MAAM,eAAe,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;oBACnD,IAAI,CAAC,GAAG,EAAE,CAAC;wBACV,iEAAiE;wBACjE,OAAO;oBACR,CAAC;oBACD,cAAc,CAAC,GAAG,GAAG,GAAG,CAAC;oBACzB,QAAQ,GAAG,MAAM,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;gBAC3D,CAAC;gBACD,CAAC,CAAC,OAAO,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;gBACtC,MAAM,mBAAmB,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;YACxC,CAAC;iBAAM,CAAC;gBACP,IAAI,CAAC,CAAC,cAAc,CAAC,mBAAmB,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;oBACrD,cAAc,CAAC,cAAc,mFAAkC,CAAC;gBACjE,CAAC;qBAAM,CAAC;oBACP,cAAc,CAAC,cAAc,2EAA0B,CAAC;gBACzD,CAAC;YACF,CAAC;QACF,CAAC;KACD,CAAC,CAAC;IAEH,KAAK,UAAU,YAAY,CAAC,CAA8B,EAAE,QAAuC;QAClG,IAAI,CAAC,QAAQ,EAAE,CAAC;YACf,OAAO;QACR,CAAC;QACD,MAAM,CAAC,CAAC,OAAO,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC;QAC9C,IAAI,CAAC,CAAC,YAAY,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;YACzC,MAAM,CAAC,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACtC,CAAC;IACF,CAAC;IACD,sBAAsB,CAAC;QACtB,EAAE,+DAAwB;QAC1B,KAAK,EAAE,SAAS,CAAC,KAAgC,EAAE,mCAAmC,CAAC;QACvF,YAAY,EAAE,cAAc,CAAC,EAAE,CAAC,gBAAgB,CAAC,iBAAiB,EAAE,mBAAmB,CAAC,MAAM,CAAC;QAC/F,IAAI,EAAE,gBAAgB;QACtB,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,CAAC,YAAY,CAAC,cAAc,CAAC;KAChE,CAAC,CAAC;IACH,sBAAsB,CAAC;QACtB,EAAE,uFAAoC;QACtC,KAAK,EAAE,eAAe,CAAC,IAAI;QAC3B,EAAE,EAAE,KAAK,EAAE,qDAAqD;QAChE,YAAY,EAAE,cAAc,CAAC,EAAE,CAAC,gBAAgB,CAAC,iBAAiB,EAAE,mBAAmB,CAAC,MAAM,CAAC;QAC/F,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC;KAC3D,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,qEAA2B;QAC7B,KAAK,EAAE,SAAS,CAAC,KAAmC,EAAE,oBAAoB,CAAC;QAC3E,YAAY,EAAE,cAAc,CAAC,EAAE,CAAC,gBAAgB,CAAC,iBAAiB,EAAE,mBAAmB,CAAC,MAAM,CAAC;QAC/F,IAAI,EAAE,OAAO,CAAC,KAAK;QACnB,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE;YAChB,MAAM,eAAe,GAAoB,EAAE,CAAC;YAC5C,KAAK,MAAM,QAAQ,IAAI,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC;gBAC5C,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC/D,CAAC;YACD,MAAM,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;QACpC,CAAC;KACD,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,2EAA8B;QAChC,KAAK,EAAE,SAAS,CAAC,KAAsC,EAAE,yCAAyC,CAAC;QACnG,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,UAAU,EAAE;YACX,OAAO,EAAE,iDAA6B;YACtC,GAAG,EAAE,EAAE,OAAO,EAAE,+CAA2B,EAAE,SAAS,EAAE,CAAC,iDAA6B,CAAC,EAAE;YACzF,MAAM,6CAAmC;YACzC,IAAI,EAAE,cAAc,CAAC,GAAG,CAAC,mBAAmB,CAAC,KAAK,EAAE,mBAAmB,CAAC,WAAW,CAAC;SACpF;QACD,GAAG,EAAE,CAAC,CAAC,EAAE,QAAQ,EAAE,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,cAAc,CAAC,uBAAuB,CAAC;KAC3F,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,iFAAiC;QACnC,KAAK,EAAE,eAAe,CAAC,IAAI;QAC3B,EAAE,EAAE,KAAK;QACT,YAAY,EAAE,cAAc,CAAC,EAAE,CAAC,gBAAgB,CAAC,iBAAiB,EAAE,mBAAmB,CAAC,MAAM,CAAC;QAC/F,UAAU,EAAE;YACX,OAAO,yBAAgB;YACvB,GAAG,EAAE;gBACJ,OAAO,EAAE,qDAAkC;gBAC3C,SAAS,EAAE,yBAAgB;aAC3B;YACD,MAAM,6CAAmC;YACzC,IAAI,EAAE,mBAAmB,CAAC,SAAS;SACnC;QACD,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,EAAE;YAC1B,MAAM,eAAe,GAAoB,EAAE,CAAC;YAC5C,KAAK,MAAM,QAAQ,IAAI,wBAAwB,CAAC,QAAQ,EAAE,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC;gBACvE,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC/D,CAAC;YACD,MAAM,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;YACnC,CAAC,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC;QAC5B,CAAC;KACD,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,2EAA8B;QAChC,KAAK,EAAE,eAAe,CAAC,UAAU;QACjC,YAAY,EAAE,cAAc,CAAC,EAAE,CAAC,gBAAgB,CAAC,iBAAiB,EAAE,mBAAmB,CAAC,MAAM,CAAC;QAC/F,UAAU,EAAE;YACX,OAAO,EAAE,QAAQ,CAAC,iDAA6B,EAAE,iDAA6B,CAAC;YAC/E,MAAM,6CAAmC;YACzC,IAAI,EAAE,cAAc,CAAC,EAAE,CAAC,mBAAmB,CAAC,SAAS,EAAE,mBAAmB,CAAC,KAAK,CAAC;SACjF;QACD,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,YAAY,CAAC,UAAU,EAAE;KACvC,CAAC,CAAC;IAEH,4BAA4B,CAAC;QAC5B,EAAE,iEAAyB;QAC3B,KAAK,EAAE,SAAS,CAAC,KAAiC,EAAE,OAAO,CAAC;QAC5D,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,UAAU,EAAE,CAAC;gBACZ,OAAO,EAAE,CAAC;gBACV,GAAG,EAAE,EAAE,OAAO,EAAE,iDAA6B,EAAE;gBAC/C,+EAA+E;gBAC/E,yDAAyD;gBACzD,MAAM,EAAE,8CAAoC,CAAC;gBAC7C,8EAA8E;gBAC9E,6EAA6E;gBAC7E,IAAI,EAAE,cAAc,CAAC,EAAE,CAAC,cAAc,CAAC,GAAG,CAAC,mBAAmB,CAAC,KAAK,EAAE,kCAAkC,CAAC,MAAM,EAAE,CAAC,EAAE,cAAc,CAAC,GAAG,CAAC,kCAAkC,EAAE,qBAAqB,EAAE,+BAA+B,CAAC,SAAS,oDAAmC,CAAC,CAAC;aAChR,CAAC;QACF,GAAG,EAAE,CAAC,cAAc,EAAE,EAAE,CAAC,cAAc,CAAC,WAAW,EAAE;KACrD,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,6FAAwC;QAC1C,KAAK,EAAE,SAAS,CAAC,KAA8C,EAAE,wBAAwB,CAAC;QAC1F,GAAG,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,oBAAoB,CAAC,YAAY,CAAC;KACxD,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,4FAA6C;QAC/C,KAAK,EAAE,SAAS,CAAC,KAAwC,EAAE,6BAA6B,CAAC;QACzF,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,GAAG,EAAE,CAAC,CAAC,EAAE,QAAQ,EAAE,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC,YAAY,CAAC,EAAE,UAAU,EAAE,KAAK,EAAE,KAAK,EAAE,mBAAmB,EAAE,CAAC;KACvH,CAAC,CAAC;IAEH,4BAA4B,CAAC;QAC5B,EAAE,iFAAiC;QACnC,KAAK,EAAE,SAAS,CAAC,KAA8C,EAAE,sBAAsB,CAAC;QACxF,YAAY,EAAE,gBAAgB,CAAC,4BAA4B;QAC3D,GAAG,EAAE,CAAC,cAAc,EAAE,EAAE,CAAC,cAAc,CAAC,kBAAkB,EAAE;KAC5D,CAAC,CAAC;IAEH,gCAAgC,CAAC;QAChC,EAAE,2FAAsC;QACxC,KAAK,EAAE,eAAe,CAAC,wBAAwB;QAC/C,YAAY,EAAE,gBAAgB,CAAC,4BAA4B;QAC3D,UAAU,EAAE;YACX,OAAO,EAAE,4CAAyB;YAClC,MAAM,6CAAmC;YACzC,IAAI,EAAE,mBAAmB,CAAC,KAAK;SAC/B;QACD,GAAG,EAAE,CAAC,QAAQ,EAAE,EAAE,CAAC,QAAQ,CAAC,wBAAwB,EAAE;KACtD,CAAC,CAAC;IAEH,sBAAsB,CAAC;QACtB,EAAE,mFAAkC;QACpC,KAAK,EAAE,SAAS,CAAC,KAA0C,EAAE,iBAAiB,CAAC;QAC/E,YAAY,EAAE,gBAAgB,CAAC,iBAAiB;QAChD,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAE;YAChC,MAAM,IAAI,GAAG,gBAAgB,CAAC,IAAI,CAAC,CAAC;YACpC,IAAI,CAAC,IAAI,EAAE,CAAC;gBACX,OAAO;YACR,CAAC;YACD,IAAI,IAAI,KAAK,qBAAqB,CAAC,IAAI,EAAE,CAAC;gBACzC,CAAC,CAAC,OAAO,CAAC,kBAAkB,EAAE,CAAC;gBAC/B,OAAO;YACR,CAAC;YACD,IAAI,IAAI,KAAK,2BAA2B,EAAE,CAAC;gBAC1C,QAAQ,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC,WAAW,yEAAgC,IAAI,CAAC,CAAC;gBACrF,OAAO;YACR,CAAC;YAED,MAAM,eAAe,GAAG,aAAa,CAAC;YACtC,MAAM,YAAY,GAAG,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAChD,IAAI,YAAY,EAAE,CAAC;gBAClB,CAAC,CAAC,YAAY,CAAC,qBAAqB,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBAClE,OAAO,CAAC,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YACvC,CAAC;YAED,MAAM,mBAAmB,GAAG,CAAC,CAAC,cAAc,CAAC,iBAAiB,CAAC;YAE/D,+DAA+D;YAC/D,MAAM,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YAC3C,IAAI,mBAAmB,EAAE,CAAC;gBACzB,MAAM,OAAO,GAAG,mBAAmB,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,WAAW,KAAK,gBAAgB,CAAC,CAAC;gBAC9F,IAAI,OAAO,EAAE,CAAC;oBACb,MAAM,QAAQ,GAAG,MAAM,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC;wBAC/C,MAAM,EAAE,OAAO;qBACf,CAAC,CAAC;oBACH,CAAC,CAAC,OAAO,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;gBACvC,CAAC;qBAAM,CAAC;oBACP,OAAO,CAAC,IAAI,CAAC,yBAAyB,gBAAgB,GAAG,CAAC,CAAC;gBAC5D,CAAC;YACF,CAAC;iBAAM,CAAC;gBACP,OAAO,CAAC,IAAI,CAAC,6BAA6B,IAAI,GAAG,CAAC,CAAC;YACpD,CAAC;QACF,CAAC;KACD,CAAC,CAAC;AACJ,CAAC;AAMD,SAAS,yBAAyB,CAAC,QAA0B,EAAE,IAAc;IAC5E,MAAM,eAAe,GAAG,QAAQ,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;IACvD,MAAM,MAAM,GAAwB,EAAE,CAAC;IACvC,MAAM,OAAO,GAAG,eAAe,CAAC,IAAI,CAAC,CAAC;IACtC,IAAI,OAAO,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;QACnC,KAAK,MAAM,eAAe,IAAI,OAAO,EAAE,CAAC;YACvC,MAAM,QAAQ,GAAG,eAAe,CAAC,iBAAiB,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC;YAC/E,IAAI,QAAQ,EAAE,CAAC;gBACd,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACvB,CAAC;QACF,CAAC;QACD,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;YACvB,OAAO,MAAM,CAAC;QACf,CAAC;IACF,CAAC;IACD,OAAO,SAAS,CAAC;AAClB,CAAC;AAED,SAAS,wBAAwB,CAAC,QAA0B,EAAE,IAAc,EAAE,KAAe;IAC5F,MAAM,WAAW,GAAG,QAAQ,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;IAC/C,MAAM,oBAAoB,GAAG,QAAQ,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;IACjE,MAAM,MAAM,GAAwB,EAAE,CAAC;IAEvC,oEAAoE;IACpE,MAAM,IAAI,GAAG,WAAW,CAAC,eAAe,YAAY,eAAe,CAAC,CAAC,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC,CAAC,SAAS,CAAC;IAC9G,oCAAoC;IACpC,MAAM,UAAU,GAAG,IAAI,EAAE,YAAY,EAAE,CAAC;IACxC,uEAAuE;IACvE,IAAI,oBAAoB,CAAC,gBAAgB,KAAK,YAAY,IAAI,CAAC,UAAU,EAAE,MAAM,EAAE,CAAC;QACnF,MAAM,QAAQ,GAAG,oBAAoB,CAAC,cAAc,CAAC;QACrD,OAAO,QAAQ,CAAC,CAAC,CAAC,CAAC,oBAAoB,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;IACrE,CAAC;IAED,IAAI,CAAC,IAAI,IAAI,CAAC,UAAU,EAAE,CAAC;QAC1B,OAAO,SAAS,CAAC;IAClB,CAAC;IACD,MAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;IAEhC,MAAM,aAAa,GAAG,oBAAoB,CAAC,SAAS,CAAC;IACrD,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QAC9D,sCAAsC;QACtC,mEAAmE;QACnE,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACvC,OAAO,MAAM,CAAC;IACf,CAAC;IAED,eAAe;IACf,KAAK,MAAM,SAAS,IAAI,UAAU,EAAE,CAAC;QACpC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,CAAC;IACvC,CAAC;IACD,OAAO,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAChC,CAAC;AAED,MAAM,UAAU,oBAAoB,CAAC,IAAY;IAChD,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;QACvC,OAAO;YACN,OAAO,EAAE,QAAQ,CAAC,KAAuB,EAAE,IAAsD,CAAC;YAClG,QAAQ,EAAE,QAAQ,CAAC,IAAI;SACvB,CAAC;IACH,CAAC;IAED,OAAO,IAAI,CAAC;AACb,CAAC;AAED,SAAS,iBAAiB,CAAC,GAAY;IACtC,OAAO,QAAQ,CAAC,GAAG,CAAC,IAAI,aAAa,IAAI,GAAG,CAAC;AAC9C,CAAC;AAED,SAAS,gCAAgC,CAAC,gBAA4D;IACrG,IAAI,iBAAiB,CAAC,gBAAgB,CAAC,EAAE,CAAC;QACzC,OAAO,EAAE,MAAM,EAAE,gBAAgB,EAAE,QAAQ,EAAG,gBAA2C,CAAC,QAAQ,EAAE,CAAC;IACtG,CAAC;IACD,OAAO,gBAAgB,CAAC;AACzB,CAAC;AAED,IAAI,oBAAiC,CAAC;AAEtC,MAAM,UAAU,sBAAsB,CAAC,gBAAoC;IAC1E,MAAM,WAAW,GAAG,wBAAwB,CAAC,gBAAgB,CAAC,CAAC;IAC/D,oBAAoB,EAAE,OAAO,EAAE,CAAC;IAChC,kCAAkC;IAClC,oBAAoB,GAAG,eAAe,CAAC,KAAM,SAAQ,OAAO;QAC3D;YACC,KAAK,CAAC;gBACL,EAAE,mFAAkC;gBACpC,KAAK,EAAE,SAAS,CAAC,KAA0C,EAAE,oCAAoC,CAAC;gBAClG,EAAE,EAAE,IAAI;gBACR,YAAY,EAAE,cAAc,CAAC,EAAE,CAAC,mBAAmB,CAAC,gBAAgB,EAAE,mBAAmB,CAAC,8BAA8B,CAAC;gBACzH,QAAQ,EAAE;oBACT,WAAW,mFAAkC;oBAC7C,IAAI,EAAE,CAAC;4BACN,IAAI,EAAE,MAAM;4BACZ,MAAM,EAAE;gCACP,IAAI,EAAE,QAAQ;gCACd,QAAQ,EAAE,CAAC,aAAa,CAAC;gCACzB,UAAU,EAAE;oCACX,WAAW,EAAE;wCACZ,WAAW,EAAE,QAAQ,CAAC,KAAsD,EAAE,IAAmC,CAAC;wCAClH,IAAI,EAAE,QAAQ;wCACd,IAAI,EAAE,WAAW,CAAC,MAAM;wCACxB,wBAAwB,EAAE,WAAW,CAAC,oBAAoB;qCAC1D;oCACD,QAAQ,EAAE;wCACT,WAAW,EAAE,QAAQ,CAAC,KAAyB,EAAE,IAA8B,CAAC;wCAChF,IAAI,EAAE,QAAQ;wCACd,IAAI,EAAE,CAAC,MAAM,EAAE,QAAQ,CAAC;wCACxB,gBAAgB,EAAE;4CACjB,QAAQ,CAAC,KAA8B,EAAE,IAA0C,CAAC;4CACpF,QAAQ,CAAC,KAAgC,EAAE,IAAmC,CAAC;yCAC/E;qCACD;iCACD;6BACD;yBACD,CAAC;iBACF;aACD,CAAC,CAAC;QACJ,CAAC;QACD,KAAK,CAAC,GAAG,CACR,QAA0B,EAC1B,uBAA6J,EAC7J,OAA0B;YAE1B,MAAM,CAAC,GAAG,mBAAmB,CAAC,QAAQ,CAAC,CAAC;YACxC,MAAM,uBAAuB,GAAG,QAAQ,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;YACvE,MAAM,cAAc,GAAG,QAAQ,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;YAErD,IAAI,KAA4D,CAAC;YACjE,IAAI,OAA2C,CAAC;YAChD,IAAI,QAAuC,CAAC;YAC5C,IAAI,GAA6B,CAAC;YAElC,IAAI,QAAQ,CAAC,uBAAuB,CAAC,IAAI,uBAAuB,IAAI,MAAM,CAAC,uBAAuB,EAAE,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC;gBAC5H,MAAM,MAAM,GAAG,CAAC,CAAC,cAAc,CAAC,iBAAiB,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,WAAW,KAAK,uBAAuB,CAAC,WAAW,CAAC,CAAC;gBAC/H,IAAI,CAAC,MAAM,EAAE,CAAC;oBACb,MAAM,IAAI,KAAK,CAAC,oCAAoC,uBAAuB,CAAC,WAAW,GAAG,CAAC,CAAC;gBAC7F,CAAC;gBACD,OAAO,GAAG,EAAE,MAAM,EAAE,CAAC;gBACrB,SAAS,YAAY,CAAC,GAAY;oBACjC,OAAO,QAAQ,CAAC,GAAG,CAAC,IAAI,UAAU,IAAI,GAAG,CAAC;gBAC3C,CAAC;gBACD,IAAI,YAAY,CAAC,uBAAuB,CAAC,EAAE,CAAC;oBAC3C,QAAQ,uBAAuB,CAAC,QAAQ,EAAE,CAAC;wBAC1C,KAAK,QAAQ;4BAAE,OAAO,CAAC,QAAQ,GAAG,gBAAgB,CAAC,MAAM,CAAC;4BAAC,MAAM;wBACjE,KAAK,MAAM;4BAAE,OAAO,CAAC,QAAQ,GAAG,gBAAgB,CAAC,KAAK,CAAC;4BAAC,MAAM;oBAC/D,CAAC;gBACF,CAAC;YACF,CAAC;iBAAM,IAAI,YAAY,CAAC,uBAAuB,CAAC,IAAI,cAAc,CAAC,uBAAuB,CAAC,IAAI,eAAe,CAAC,uBAAuB,CAAC,EAAE,CAAC;gBACzI,KAAK,GAAG,uBAAuB,CAAC;gBAChC,OAAO,GAAG,OAAO,CAAC,CAAC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;YACrD,CAAC;iBAAM,CAAC;gBACP,OAAO,GAAG,gCAAgC,CAAC,uBAAuB,CAAC,CAAC;YACrE,CAAC;YAED,iBAAiB;YACjB,IAAI,KAAK,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC;gBAC9C,MAAM,cAAc,GAAG,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC;gBAChD,IAAI,cAAc,EAAE,CAAC;oBACpB,MAAM,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE,QAAQ,EAAE,EAAE,cAAc,EAAE,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC,CAAC;oBAC1F,OAAO;gBACR,CAAC;YACF,CAAC;YAED,MAAM,OAAO,GAAG,uBAAuB,CAAC,YAAY,EAAE,CAAC,OAAO,CAAC;YAC/D,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;gBACxB,2CAA2C;gBAC3C,MAAM,OAAO,GAAiC;oBAC7C,WAAW,EAAE,QAAQ,CAAC,KAAmD,EAAE,IAAmD,CAAC;iBAC/H,CAAC;gBACF,MAAM,SAAS,GAAG,MAAM,cAAc,CAAC,cAAc,CAAmB,gCAAgC,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;gBACrH,IAAI,CAAC,SAAS,EAAE,CAAC;oBAChB,iEAAiE;oBACjE,OAAO;gBACR,CAAC;gBACD,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC;YACrB,CAAC;YAED,IAAI,OAAO,EAAE,CAAC;gBACb,OAAO,CAAC,GAAG,GAAG,GAAG,CAAC;gBAClB,QAAQ,GAAG,MAAM,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;YACpD,CAAC;iBAAM,CAAC;gBACP,QAAQ,GAAG,MAAM,CAAC,CAAC,OAAO,CAAC,oBAAoB,CAAC,gBAAgB,EAAE,GAAG,CAAC,CAAC;YACxE,CAAC;YAED,IAAI,QAAQ,EAAE,CAAC;gBACd,CAAC,CAAC,OAAO,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;gBACtC,MAAM,mBAAmB,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC;YACxC,CAAC;QACF,CAAC;KACD,CAAC,CAAC;IACH,OAAO,oBAAoB,CAAC;AAC7B,CAAC;AAED,SAAS,2BAA2B,CAAC,CAA8B,EAAE,QAAiB;IACrF,OAAO,CAAC,CAAC,OAAO,CAAC,uBAAuB,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC;AAC/F,CAAC;AAED,KAAK,UAAU,eAAe,CAAC,QAA0B,EAAE,MAA0B;IACpF,MAAM,iBAAiB,GAAG,QAAQ,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;IAC3D,MAAM,YAAY,GAAG,QAAQ,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;IACjD,MAAM,cAAc,GAAG,QAAQ,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;IAC9D,MAAM,YAAY,GAAG,QAAQ,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;IACjD,MAAM,eAAe,GAAG,QAAQ,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;IACvD,MAAM,oBAAoB,GAAG,QAAQ,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;IACjE,MAAM,4BAA4B,GAAG,QAAQ,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;IAEjF,MAAM,OAAO,GAAG,cAAc,CAAC,YAAY,EAAE,CAAC,OAAO,CAAC;IACtD,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;QACrB,OAAO;IACR,CAAC;IAED,MAAM,cAAc,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,yBAAyB,CAAC,CAAC,EAAE,oBAAoB,EAAE,4BAA4B,CAAC,CAAC,CAAC,CAAC;IAC7I,MAAM,aAAa,GAAG,6BAA6B,CAAC,cAAc,CAAC,CAAC;IAEpE,IAAI,aAAa,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;QAChC,OAAO,aAAa,CAAC,CAAC,CAAC,CAAC;IACzB,CAAC;IAGD,MAAM,WAAW,GAAW,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;QACpD,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;QAC/B,MAAM,WAAW,GAAG,IAAI,CAAC,YAAY;YACpC,CAAC,CAAC,QAAQ,CAAC,KAAoD,EAAE,IAAiB,EAAE,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,QAAQ,EAAE,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC;YACvJ,CAAC,CAAC,YAAY,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;QAEnE,OAAO;YACN,KAAK;YACL,WAAW,EAAE,WAAW,KAAK,KAAK,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,SAAS;YAC5D,IAAI,EAAE,IAAI;YACV,WAAW,EAAE,cAAc,CAAC,YAAY,EAAE,eAAe,EAAE,IAAI,CAAC,GAAG,EAAE,QAAQ,CAAC,WAAW,CAAC;SAC1F,CAAC;IACH,CAAC,CAAC,CAAC;IACH,MAAM,OAAO,GAAuB;QACnC,WAAW,EAAE,QAAQ,CAAC,KAAmD,EAAE,IAAmD,CAAC;QAC/H,kBAAkB,EAAE,IAAI;QACxB,WAAW,EAAE,KAAK;KAClB,CAAC;IAEF,MAAM,KAAK,GAAsB,MAAM,IAAI,iBAAiB,CAAC,IAAI,CAAC;IAClE,MAAM,IAAI,GAAG,MAAM,iBAAiB,CAAC,IAAI,CAAO,WAAW,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;IAC7E,OAAO,IAAI,EAAE,IAAI,CAAC;AACnB,CAAC;AAED,KAAK,UAAU,yBAAyB,CAAC,MAAwB,EAAE,oBAA2C,EAAE,4BAA2D;IAC1K,MAAM,SAAS,GAAG,oBAAoB,CAAC,QAAQ,wDAAwB,EAAE,QAAQ,EAAE,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC;IACjG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;QACpD,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,CAAC,GAAG,EAAE,UAAU,EAAE,KAAK,EAAE,YAAY,EAAE,KAAK,EAAE,CAAC;IAC5E,CAAC;IAED,MAAM,iBAAiB,GAAG,MAAM,4BAA4B,CAAC,YAAY,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;IAC7F,OAAO,UAAU,CAAC,iBAAiB,CAAC,IAAI,iBAAiB,CAAC,UAAU,CAAC,+BAA+B,CAAC,YAAY,CAAC;QACjH,CAAC,CAAC,EAAE,MAAM,EAAE,UAAU,EAAE,IAAI,EAAE,YAAY,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,MAAM,CAAC,GAAG,EAAE,IAAI,EAAE,iBAAiB,EAAE,CAAC,EAAE;QAC7G,CAAC,CAAC,EAAE,MAAM,EAAE,UAAU,EAAE,KAAK,EAAE,YAAY,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,EAAE,iBAAiB,CAAC,EAAE,CAAC;AACxG,CAAC;AAED;;GAEG;AACH,MAAM,UAAU,6BAA6B,CAAC,KAA+B;IAC5E,MAAM,GAAG,GAAG,IAAI,GAAG,EAAkC,CAAC;IACtD,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE,CAAC;QAC1B,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC;QAChC,MAAM,KAAK,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAC3B,IAAI,CAAC,KAAK,IAAI,GAAG,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,EAAE,EAAE,CAAC;YAClD,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;QACpB,CAAC;IACF,CAAC;IACD,MAAM,aAAa,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC;IAC5C,MAAM,oBAAoB,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACrE,OAAO,oBAAoB,CAAC;AAC7B,CAAC;AAED,KAAK,UAAU,mBAAmB,CAAC,QAAuC,EAAE,CAA8B;IACzG,2EAA2E;IAC3E,IAAI,QAAQ,EAAE,MAAM,KAAK,gBAAgB,CAAC,MAAM,EAAE,CAAC;QAClD,MAAM,CAAC,CAAC,aAAa,CAAC,kBAAkB,EAAE,CAAC;QAC3C,MAAM,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;IACrC,CAAC;SAAM,CAAC;QACP,MAAM,CAAC,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;IACtC,CAAC;AACF,CAAC;AAED,KAAK,UAAU,mBAAmB,CAAC,CAA8B,EAAE,QAA0B,EAAE,QAAkB;IAChH,IAAI,QAAQ,GAAkC,QAA6B,CAAC;IAC5E,gFAAgF;IAChF,IAAI,CAAC,QAAQ,IAAI,CAAC,QAAQ,EAAE,MAAM,EAAE,CAAC;QACpC,2EAA2E;QAC3E,QAAQ,GAAG,2BAA2B,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC;IACrD,CAAC;IAED,IAAI,QAAQ,EAAE,CAAC;QACd,MAAM,KAAK,GAAG,MAAM,QAAQ,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC,KAAK,CAAC;YAC1D,KAAK,EAAE,QAAQ,CAAC,KAAK;YACrB,MAAM,EAAE,QAAQ,CAAC,KAAyC,EAAE,IAAqB,CAAC;SAClF,CAAC,CAAC;QACH,IAAI,KAAK,EAAE,CAAC;YACX,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QACxB,CAAC;IACF,CAAC;AACF,CAAC;AAED,SAAS,aAAa,CAAC,GAAY;IAClC,OAAO,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC;AACzC,CAAC;AAED,SAAS,gBAAgB,CAAC,GAAY;IACrC,OAAO,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC;AACxC,CAAC","file":"terminalActions.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { isKeyboardEvent, isMouseEvent, isPointerEvent, getActiveWindow } from '../../../../base/browser/dom.js';\nimport { Action } from '../../../../base/common/actions.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { Iterable } from '../../../../base/common/iterator.js';\nimport { KeyChord, KeyCode, KeyMod } from '../../../../base/common/keyCodes.js';\nimport { IDisposable } from '../../../../base/common/lifecycle.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport { isAbsolute } from '../../../../base/common/path.js';\nimport { isWindows } from '../../../../base/common/platform.js';\nimport { dirname } from '../../../../base/common/resources.js';\nimport { hasKey, isObject, isString } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ICodeEditorService } from '../../../../editor/browser/services/codeEditorService.js';\nimport { ILanguageService } from '../../../../editor/common/languages/language.js';\nimport { EndOfLinePreference } from '../../../../editor/common/model.js';\nimport { getIconClasses } from '../../../../editor/common/services/getIconClasses.js';\nimport { IModelService } from '../../../../editor/common/services/model.js';\nimport { localize, localize2 } from '../../../../nls.js';\nimport { AccessibleViewProviderId } from '../../../../platform/accessibility/browser/accessibleView.js';\nimport { CONTEXT_ACCESSIBILITY_MODE_ENABLED } from '../../../../platform/accessibility/common/accessibility.js';\nimport { Action2, IAction2Options, MenuId, registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { FileKind } from '../../../../platform/files/common/files.js';\nimport { ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { KeybindingWeight } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { ILabelService } from '../../../../platform/label/common/label.js';\nimport { IListService } from '../../../../platform/list/browser/listService.js';\nimport { INotificationService, Severity } from '../../../../platform/notification/common/notification.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { IPickOptions, IQuickInputService, IQuickPickItem } from '../../../../platform/quickinput/common/quickInput.js';\nimport { TerminalCapability } from '../../../../platform/terminal/common/capabilities/capabilities.js';\nimport { ITerminalProfile, TerminalExitReason, TerminalIcon, TerminalLocation, TerminalSettingId } from '../../../../platform/terminal/common/terminal.js';\nimport { createProfileSchemaEnums } from '../../../../platform/terminal/common/terminalProfiles.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { IWorkspaceContextService, IWorkspaceFolder } from '../../../../platform/workspace/common/workspace.js';\nimport { PICK_WORKSPACE_FOLDER_COMMAND_ID } from '../../../browser/actions/workspaceCommands.js';\nimport { CLOSE_EDITOR_COMMAND_ID } from '../../../browser/parts/editor/editorCommands.js';\nimport { IConfigurationResolverService } from '../../../services/configurationResolver/common/configurationResolver.js';\nimport { ConfigurationResolverExpression } from '../../../services/configurationResolver/common/configurationResolverExpression.js';\nimport { editorGroupToColumn } from '../../../services/editor/common/editorGroupColumn.js';\nimport { IEditorGroupsService } from '../../../services/editor/common/editorGroupsService.js';\nimport { AUX_WINDOW_GROUP, SIDE_GROUP } from '../../../services/editor/common/editorService.js';\nimport { IWorkbenchEnvironmentService } from '../../../services/environment/common/environmentService.js';\nimport { IPreferencesService } from '../../../services/preferences/common/preferences.js';\nimport { IRemoteAgentService } from '../../../services/remote/common/remoteAgentService.js';\nimport { accessibleViewCurrentProviderId, accessibleViewIsShown, accessibleViewOnLastLine } from '../../accessibility/browser/accessibilityConfiguration.js';\nimport { IRemoteTerminalAttachTarget, ITerminalProfileResolverService, ITerminalProfileService, TERMINAL_VIEW_ID, TerminalCommandId } from '../common/terminal.js';\nimport { TerminalContextKeys } from '../common/terminalContextKey.js';\nimport { terminalStrings } from '../common/terminalStrings.js';\nimport { Direction, ICreateTerminalOptions, IDetachedTerminalInstance, ITerminalConfigurationService, ITerminalEditorService, ITerminalEditingService, ITerminalGroupService, ITerminalInstance, ITerminalInstanceService, ITerminalService, IXtermTerminal } from './terminal.js';\nimport { isAuxiliaryWindow } from '../../../../base/browser/window.js';\nimport { InstanceContext } from './terminalContextMenu.js';\nimport { getColorClass, getIconId, getUriClasses } from './terminalIcon.js';\nimport { killTerminalIcon, newTerminalIcon } from './terminalIcons.js';\nimport { ITerminalQuickPickItem } from './terminalProfileQuickpick.js';\nimport { TerminalTabList } from './terminalTabsList.js';\nimport { ResourceContextKey } from '../../../common/contextkeys.js';\nimport { SeparatorSelectOption } from '../../../../base/browser/ui/selectBox/selectBox.js';\n\nexport const switchTerminalShowTabsTitle = localize('showTerminalTabs', \"Show Tabs\");\n\nconst category = terminalStrings.actionCategory;\n\n// Some terminal context keys get complicated. Since normalizing and/or context keys can be\n// expensive this is done once per context key and shared.\nexport const sharedWhenClause = (() => {\n\tconst terminalAvailable = ContextKeyExpr.or(TerminalContextKeys.processSupported, TerminalContextKeys.terminalHasBeenCreated);\n\treturn {\n\t\tterminalAvailable,\n\t\tterminalAvailable_and_opened: ContextKeyExpr.and(terminalAvailable, TerminalContextKeys.isOpen),\n\t\tterminalAvailable_and_editorActive: ContextKeyExpr.and(terminalAvailable, TerminalContextKeys.terminalEditorActive),\n\t\tterminalAvailable_and_singularSelection: ContextKeyExpr.and(terminalAvailable, TerminalContextKeys.tabsSingularSelection),\n\t\tfocusInAny_and_normalBuffer: ContextKeyExpr.and(TerminalContextKeys.focusInAny, TerminalContextKeys.altBufferActive.negate())\n\t};\n})();\n\nexport interface WorkspaceFolderCwdPair {\n\tfolder: IWorkspaceFolder;\n\tcwd: URI;\n\tisAbsolute: boolean;\n\tisOverridden: boolean;\n}\n\nexport async function getCwdForSplit(\n\tinstance: ITerminalInstance,\n\tfolders: IWorkspaceFolder[] | undefined,\n\tcommandService: ICommandService,\n\tconfigService: ITerminalConfigurationService\n): Promise<string | URI | undefined> {\n\tswitch (configService.config.splitCwd) {\n\t\tcase 'workspaceRoot':\n\t\t\tif (folders !== undefined && commandService !== undefined) {\n\t\t\t\tif (folders.length === 1) {\n\t\t\t\t\treturn folders[0].uri;\n\t\t\t\t} else if (folders.length > 1) {\n\t\t\t\t\t// Only choose a path when there's more than 1 folder\n\t\t\t\t\tconst options: IPickOptions<IQuickPickItem> = {\n\t\t\t\t\t\tplaceHolder: localize('workbench.action.terminal.newWorkspacePlaceholder', \"Select current working directory for new terminal\")\n\t\t\t\t\t};\n\t\t\t\t\tconst workspace = await commandService.executeCommand<IWorkspaceFolder>(PICK_WORKSPACE_FOLDER_COMMAND_ID, [options]);\n\t\t\t\t\tif (!workspace) {\n\t\t\t\t\t\t// Don't split the instance if the workspace picker was canceled\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t}\n\t\t\t\t\treturn Promise.resolve(workspace.uri);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn '';\n\t\tcase 'initial':\n\t\t\treturn instance.getInitialCwd();\n\t\tcase 'inherited':\n\t\t\treturn instance.getSpeculativeCwd();\n\t}\n}\n\nexport class TerminalLaunchHelpAction extends Action {\n\n\tconstructor(\n\t\t@IOpenerService private readonly _openerService: IOpenerService\n\t) {\n\t\tsuper('workbench.action.terminal.launchHelp', localize('terminalLaunchHelp', \"Open Help\"));\n\t}\n\n\toverride async run(): Promise<void> {\n\t\tthis._openerService.open('https://aka.ms/vscode-troubleshoot-terminal-launch');\n\t}\n}\n\n/**\n * A wrapper function around registerAction2 to help make registering terminal actions more concise.\n * The following default options are used if undefined:\n *\n * - `f1`: true\n * - `category`: Terminal\n * - `precondition`: TerminalContextKeys.processSupported\n */\nexport function registerTerminalAction(\n\toptions: IAction2Options & { run: (c: ITerminalServicesCollection, accessor: ServicesAccessor, args?: unknown, args2?: unknown) => void | Promise<unknown> }\n): IDisposable {\n\t// Set defaults\n\toptions.f1 = options.f1 ?? true;\n\toptions.category = options.category ?? category;\n\toptions.precondition = options.precondition ?? TerminalContextKeys.processSupported;\n\t// Remove run function from options so it's not passed through to registerAction2\n\tconst runFunc = options.run;\n\tconst strictOptions: IAction2Options & { run?: (c: ITerminalServicesCollection, accessor: ServicesAccessor, args?: unknown) => void | Promise<unknown> } = options;\n\tdelete (strictOptions as IAction2Options & { run?: (c: ITerminalServicesCollection, accessor: ServicesAccessor, args?: unknown) => void | Promise<unknown> })['run'];\n\t// Register\n\treturn registerAction2(class extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper(strictOptions as IAction2Options);\n\t\t}\n\t\trun(accessor: ServicesAccessor, args?: unknown, args2?: unknown) {\n\t\t\treturn runFunc(getTerminalServices(accessor), accessor, args, args2);\n\t\t}\n\t});\n}\n\nfunction parseActionArgs(args?: unknown): InstanceContext[] | undefined {\n\tif (Array.isArray(args)) {\n\t\tif (args.every(e => e instanceof InstanceContext)) {\n\t\t\treturn args as InstanceContext[];\n\t\t}\n\t} else if (args instanceof InstanceContext) {\n\t\treturn [args];\n\t}\n\treturn undefined;\n}\n/**\n * A wrapper around {@link registerTerminalAction} that runs a callback for all currently selected\n * instances provided in the action context. This falls back to the active instance if there are no\n * contextual instances provided.\n */\nexport function registerContextualInstanceAction(\n\toptions: IAction2Options & {\n\t\t/**\n\t\t * When specified, only this type of active instance will be used when there are no\n\t\t * contextual instances.\n\t\t */\n\t\tactiveInstanceType?: 'view' | 'editor';\n\t\trun: (instance: ITerminalInstance, c: ITerminalServicesCollection, accessor: ServicesAccessor, args?: unknown) => void | Promise<unknown>;\n\t\t/**\n\t\t * A callback to run after the `run` callbacks have completed.\n\t\t * @param instances The selected instance(s) that the command was run on.\n\t\t */\n\t\trunAfter?: (instances: ITerminalInstance[], c: ITerminalServicesCollection, accessor: ServicesAccessor, args?: unknown) => void | Promise<unknown>;\n\t}\n): IDisposable {\n\tconst originalRun = options.run;\n\treturn registerTerminalAction({\n\t\t...options,\n\t\trun: async (c, accessor, focusedInstanceArgs, allInstanceArgs) => {\n\t\t\tlet instances = getSelectedViewInstances2(accessor, allInstanceArgs);\n\t\t\tif (!instances) {\n\t\t\t\tconst activeInstance = (\n\t\t\t\t\toptions.activeInstanceType === 'view'\n\t\t\t\t\t\t? c.groupService\n\t\t\t\t\t\t: options.activeInstanceType === 'editor' ?\n\t\t\t\t\t\t\tc.editorService\n\t\t\t\t\t\t\t: c.service\n\t\t\t\t).activeInstance;\n\t\t\t\tif (!activeInstance) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tinstances = [activeInstance];\n\t\t\t}\n\t\t\tconst results: (Promise<unknown> | void)[] = [];\n\t\t\tfor (const instance of instances) {\n\t\t\t\tresults.push(originalRun(instance, c, accessor, focusedInstanceArgs));\n\t\t\t}\n\t\t\tawait Promise.all(results);\n\t\t\tif (options.runAfter) {\n\t\t\t\toptions.runAfter(instances, c, accessor, focusedInstanceArgs);\n\t\t\t}\n\t\t}\n\t});\n}\n\n/**\n * A wrapper around {@link registerTerminalAction} that ensures an active instance exists and\n * provides it to the run function.\n */\nexport function registerActiveInstanceAction(\n\toptions: IAction2Options & { run: (activeInstance: ITerminalInstance, c: ITerminalServicesCollection, accessor: ServicesAccessor, args?: unknown) => void | Promise<unknown> }\n): IDisposable {\n\tconst originalRun = options.run;\n\treturn registerTerminalAction({\n\t\t...options,\n\t\trun: (c, accessor, args) => {\n\t\t\tconst activeInstance = c.service.activeInstance;\n\t\t\tif (activeInstance) {\n\t\t\t\treturn originalRun(activeInstance, c, accessor, args);\n\t\t\t}\n\t\t}\n\t});\n}\n\n/**\n * A wrapper around {@link registerTerminalAction} that ensures an active terminal\n * exists and provides it to the run function.\n *\n * This includes detached xterm terminals that are not managed by an {@link ITerminalInstance}.\n */\nexport function registerActiveXtermAction(\n\toptions: IAction2Options & { run: (activeTerminal: IXtermTerminal, accessor: ServicesAccessor, instance: ITerminalInstance | IDetachedTerminalInstance, args?: unknown) => void | Promise<unknown> }\n): IDisposable {\n\tconst originalRun = options.run;\n\treturn registerTerminalAction({\n\t\t...options,\n\t\trun: (c, accessor, args) => {\n\t\t\tconst activeDetached = Iterable.find(c.service.detachedInstances, d => d.xterm.isFocused);\n\t\t\tif (activeDetached) {\n\t\t\t\treturn originalRun(activeDetached.xterm, accessor, activeDetached, args);\n\t\t\t}\n\n\t\t\tconst activeInstance = c.service.activeInstance;\n\t\t\tif (activeInstance?.xterm) {\n\t\t\t\treturn originalRun(activeInstance.xterm, accessor, activeInstance, args);\n\t\t\t}\n\t\t}\n\t});\n}\n\nexport interface ITerminalServicesCollection {\n\tservice: ITerminalService;\n\tconfigService: ITerminalConfigurationService;\n\tgroupService: ITerminalGroupService;\n\tinstanceService: ITerminalInstanceService;\n\teditorService: ITerminalEditorService;\n\teditingService: ITerminalEditingService;\n\tprofileService: ITerminalProfileService;\n\tprofileResolverService: ITerminalProfileResolverService;\n}\n\nfunction getTerminalServices(accessor: ServicesAccessor): ITerminalServicesCollection {\n\treturn {\n\t\tservice: accessor.get(ITerminalService),\n\t\tconfigService: accessor.get(ITerminalConfigurationService),\n\t\tgroupService: accessor.get(ITerminalGroupService),\n\t\tinstanceService: accessor.get(ITerminalInstanceService),\n\t\teditorService: accessor.get(ITerminalEditorService),\n\t\teditingService: accessor.get(ITerminalEditingService),\n\t\tprofileService: accessor.get(ITerminalProfileService),\n\t\tprofileResolverService: accessor.get(ITerminalProfileResolverService)\n\t};\n}\n\nexport function registerTerminalActions() {\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.NewInActiveWorkspace,\n\t\ttitle: localize2('workbench.action.terminal.newInActiveWorkspace', 'Create New Terminal (In Active Workspace)'),\n\t\trun: async (c) => {\n\t\t\tif (c.service.isProcessSupportRegistered) {\n\t\t\t\tconst instance = await c.service.createTerminal({ location: c.configService.defaultLocation });\n\t\t\t\tif (!instance) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tc.service.setActiveInstance(instance);\n\t\t\t\tawait focusActiveTerminal(instance, c);\n\t\t\t}\n\t\t}\n\t});\n\n\t// Register new with profile command\n\trefreshTerminalActions([]);\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.CreateTerminalEditor,\n\t\ttitle: localize2('workbench.action.terminal.createTerminalEditor', 'Create New Terminal in Editor Area'),\n\t\trun: async (c, _, args) => {\n\t\t\tfunction isCreateTerminalOptions(obj: unknown): obj is ICreateTerminalOptions {\n\t\t\t\treturn isObject(obj) && 'location' in obj;\n\t\t\t}\n\t\t\tconst options = isCreateTerminalOptions(args) ? args : { location: TerminalLocation.Editor };\n\t\t\tconst instance = await c.service.createTerminal(options);\n\t\t\tawait instance.focusWhenReady();\n\t\t}\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.CreateTerminalEditorSameGroup,\n\t\ttitle: localize2('workbench.action.terminal.createTerminalEditor', 'Create New Terminal in Editor Area'),\n\t\tf1: false,\n\t\trun: async (c, accessor, args) => {\n\t\t\t// Force the editor into the same editor group if it's locked. This command is only ever\n\t\t\t// called when a terminal is the active editor\n\t\t\tconst editorGroupsService = accessor.get(IEditorGroupsService);\n\t\t\tconst instance = await c.service.createTerminal({\n\t\t\t\tlocation: {\n\t\t\t\t\tviewColumn: editorGroupToColumn(editorGroupsService, editorGroupsService.activeGroup),\n\t\t\t\t}\n\t\t\t});\n\t\t\tawait instance.focusWhenReady();\n\t\t}\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.CreateTerminalEditorSide,\n\t\ttitle: localize2('workbench.action.terminal.createTerminalEditorSide', 'Create New Terminal in Editor Area to the Side'),\n\t\trun: async (c) => {\n\t\t\tconst instance = await c.service.createTerminal({\n\t\t\t\tlocation: { viewColumn: SIDE_GROUP }\n\t\t\t});\n\t\t\tawait instance.focusWhenReady();\n\t\t}\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.NewInNewWindow,\n\t\ttitle: terminalStrings.newInNewWindow,\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\tkeybinding: {\n\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyMod.Alt | KeyCode.Backquote,\n\t\t\tmac: { primary: KeyMod.WinCtrl | KeyMod.Shift | KeyMod.Alt | KeyCode.Backquote },\n\t\t\tweight: KeybindingWeight.WorkbenchContrib\n\t\t},\n\t\trun: async (c) => {\n\t\t\tconst instance = await c.service.createTerminal({\n\t\t\t\tlocation: {\n\t\t\t\t\tviewColumn: AUX_WINDOW_GROUP,\n\t\t\t\t\tauxiliary: { compact: true },\n\t\t\t\t},\n\t\t\t});\n\t\t\tawait instance.focusWhenReady();\n\t\t}\n\t});\n\n\tregisterContextualInstanceAction({\n\t\tid: TerminalCommandId.MoveToEditor,\n\t\ttitle: terminalStrings.moveToEditor,\n\t\tprecondition: sharedWhenClause.terminalAvailable_and_opened,\n\t\tactiveInstanceType: 'view',\n\t\trun: (instance, c) => c.service.moveToEditor(instance),\n\t\trunAfter: (instances) => instances.at(-1)?.focus()\n\t});\n\n\tregisterContextualInstanceAction({\n\t\tid: TerminalCommandId.MoveIntoNewWindow,\n\t\ttitle: terminalStrings.moveIntoNewWindow,\n\t\tprecondition: sharedWhenClause.terminalAvailable_and_opened,\n\t\trun: (instance, c) => c.service.moveIntoNewEditor(instance),\n\t\trunAfter: (instances) => instances.at(-1)?.focus()\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.MoveToTerminalPanel,\n\t\ttitle: terminalStrings.moveToTerminalPanel,\n\t\tprecondition: sharedWhenClause.terminalAvailable_and_editorActive,\n\t\trun: (c, _, args) => {\n\t\t\tconst source = toOptionalUri(args) ?? c.editorService.activeInstance;\n\t\t\tif (source) {\n\t\t\t\tc.service.moveToTerminalView(source);\n\t\t\t}\n\t\t}\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.FocusPreviousPane,\n\t\ttitle: localize2('workbench.action.terminal.focusPreviousPane', 'Focus Previous Terminal in Terminal Group'),\n\t\tkeybinding: {\n\t\t\tprimary: KeyMod.Alt | KeyCode.LeftArrow,\n\t\t\tsecondary: [KeyMod.Alt | KeyCode.UpArrow],\n\t\t\tmac: {\n\t\t\t\tprimary: KeyMod.Alt | KeyMod.CtrlCmd | KeyCode.LeftArrow,\n\t\t\t\tsecondary: [KeyMod.Alt | KeyMod.CtrlCmd | KeyCode.UpArrow]\n\t\t\t},\n\t\t\twhen: ContextKeyExpr.and(TerminalContextKeys.focus, TerminalContextKeys.splitTerminalActive),\n\t\t\t// Should win over send sequence commands https://github.com/microsoft/vscode/issues/259326\n\t\t\tweight: KeybindingWeight.WorkbenchContrib + 1\n\t\t},\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\trun: async (c) => {\n\t\t\tc.groupService.activeGroup?.focusPreviousPane();\n\t\t\tawait c.groupService.showPanel(true);\n\t\t}\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.FocusNextPane,\n\t\ttitle: localize2('workbench.action.terminal.focusNextPane', 'Focus Next Terminal in Terminal Group'),\n\t\tkeybinding: {\n\t\t\tprimary: KeyMod.Alt | KeyCode.RightArrow,\n\t\t\tsecondary: [KeyMod.Alt | KeyCode.DownArrow],\n\t\t\tmac: {\n\t\t\t\tprimary: KeyMod.Alt | KeyMod.CtrlCmd | KeyCode.RightArrow,\n\t\t\t\tsecondary: [KeyMod.Alt | KeyMod.CtrlCmd | KeyCode.DownArrow]\n\t\t\t},\n\t\t\twhen: ContextKeyExpr.and(TerminalContextKeys.focus, TerminalContextKeys.splitTerminalActive),\n\t\t\t// Should win over send sequence commands https://github.com/microsoft/vscode/issues/259326\n\t\t\tweight: KeybindingWeight.WorkbenchContrib + 1\n\t\t},\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\trun: async (c) => {\n\t\t\tc.groupService.activeGroup?.focusNextPane();\n\t\t\tawait c.groupService.showPanel(true);\n\t\t}\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.ResizePaneLeft,\n\t\ttitle: localize2('workbench.action.terminal.resizePaneLeft', 'Resize Terminal Left'),\n\t\tkeybinding: {\n\t\t\tlinux: { primary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.LeftArrow },\n\t\t\tmac: { primary: KeyMod.CtrlCmd | KeyMod.WinCtrl | KeyCode.LeftArrow },\n\t\t\twhen: TerminalContextKeys.focus,\n\t\t\tweight: KeybindingWeight.WorkbenchContrib\n\t\t},\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\trun: (c) => c.groupService.activeGroup?.resizePane(Direction.Left)\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.ResizePaneRight,\n\t\ttitle: localize2('workbench.action.terminal.resizePaneRight', 'Resize Terminal Right'),\n\t\tkeybinding: {\n\t\t\tlinux: { primary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.RightArrow },\n\t\t\tmac: { primary: KeyMod.CtrlCmd | KeyMod.WinCtrl | KeyCode.RightArrow },\n\t\t\twhen: TerminalContextKeys.focus,\n\t\t\tweight: KeybindingWeight.WorkbenchContrib\n\t\t},\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\trun: (c) => c.groupService.activeGroup?.resizePane(Direction.Right)\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.ResizePaneUp,\n\t\ttitle: localize2('workbench.action.terminal.resizePaneUp', 'Resize Terminal Up'),\n\t\tkeybinding: {\n\t\t\tmac: { primary: KeyMod.CtrlCmd | KeyMod.WinCtrl | KeyCode.UpArrow },\n\t\t\twhen: TerminalContextKeys.focus,\n\t\t\tweight: KeybindingWeight.WorkbenchContrib\n\t\t},\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\trun: (c) => c.groupService.activeGroup?.resizePane(Direction.Up)\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.ResizePaneDown,\n\t\ttitle: localize2('workbench.action.terminal.resizePaneDown', 'Resize Terminal Down'),\n\t\tkeybinding: {\n\t\t\tmac: { primary: KeyMod.CtrlCmd | KeyMod.WinCtrl | KeyCode.DownArrow },\n\t\t\twhen: TerminalContextKeys.focus,\n\t\t\tweight: KeybindingWeight.WorkbenchContrib\n\t\t},\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\trun: (c) => c.groupService.activeGroup?.resizePane(Direction.Down)\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.Focus,\n\t\ttitle: terminalStrings.focus,\n\t\tkeybinding: {\n\t\t\twhen: ContextKeyExpr.and(CONTEXT_ACCESSIBILITY_MODE_ENABLED, accessibleViewOnLastLine, accessibleViewCurrentProviderId.isEqualTo(AccessibleViewProviderId.Terminal)),\n\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.DownArrow,\n\t\t\tweight: KeybindingWeight.WorkbenchContrib\n\t\t},\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\trun: async (c) => {\n\t\t\tconst instance = c.service.activeInstance || await c.service.createTerminal({ location: TerminalLocation.Panel });\n\t\t\tif (!instance) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tc.service.setActiveInstance(instance);\n\t\t\tfocusActiveTerminal(instance, c);\n\t\t}\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.FocusTabs,\n\t\ttitle: localize2('workbench.action.terminal.focus.tabsView', 'Focus Terminal Tabs View'),\n\t\tkeybinding: {\n\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.Backslash,\n\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\twhen: ContextKeyExpr.or(TerminalContextKeys.tabsFocus, TerminalContextKeys.focus),\n\t\t},\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\trun: (c) => c.groupService.focusTabs()\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.FocusNext,\n\t\ttitle: localize2('workbench.action.terminal.focusNext', 'Focus Next Terminal Group'),\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\tkeybinding: {\n\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.PageDown,\n\t\t\tmac: {\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.BracketRight\n\t\t\t},\n\t\t\twhen: ContextKeyExpr.and(TerminalContextKeys.focus, TerminalContextKeys.editorFocus.negate()),\n\t\t\tweight: KeybindingWeight.WorkbenchContrib\n\t\t},\n\t\trun: async (c) => {\n\t\t\tc.groupService.setActiveGroupToNext();\n\t\t\tawait c.groupService.showPanel(true);\n\t\t}\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.FocusPrevious,\n\t\ttitle: localize2('workbench.action.terminal.focusPrevious', 'Focus Previous Terminal Group'),\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\tkeybinding: {\n\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.PageUp,\n\t\t\tmac: {\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.BracketLeft\n\t\t\t},\n\t\t\twhen: ContextKeyExpr.and(TerminalContextKeys.focus, TerminalContextKeys.editorFocus.negate()),\n\t\t\tweight: KeybindingWeight.WorkbenchContrib\n\t\t},\n\t\trun: async (c) => {\n\t\t\tc.groupService.setActiveGroupToPrevious();\n\t\t\tawait c.groupService.showPanel(true);\n\t\t}\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.RunSelectedText,\n\t\ttitle: localize2('workbench.action.terminal.runSelectedText', 'Run Selected Text In Active Terminal'),\n\t\trun: async (c, accessor) => {\n\t\t\tconst codeEditorService = accessor.get(ICodeEditorService);\n\t\t\tconst editor = codeEditorService.getActiveCodeEditor();\n\t\t\tif (!editor || !editor.hasModel()) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst instance = await c.service.getActiveOrCreateInstance({ acceptsInput: true });\n\t\t\tconst selection = editor.getSelection();\n\t\t\tlet text: string;\n\t\t\tif (selection.isEmpty()) {\n\t\t\t\ttext = editor.getModel().getLineContent(selection.selectionStartLineNumber).trim();\n\t\t\t} else {\n\t\t\t\tconst endOfLinePreference = isWindows ? EndOfLinePreference.LF : EndOfLinePreference.CRLF;\n\t\t\t\ttext = editor.getModel().getValueInRange(selection, endOfLinePreference);\n\t\t\t}\n\t\t\tinstance.sendText(text, true, true);\n\t\t\tawait c.service.revealActiveTerminal(true);\n\t\t}\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.RunActiveFile,\n\t\ttitle: localize2('workbench.action.terminal.runActiveFile', 'Run Active File In Active Terminal'),\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\trun: async (c, accessor) => {\n\t\t\tconst codeEditorService = accessor.get(ICodeEditorService);\n\t\t\tconst notificationService = accessor.get(INotificationService);\n\t\t\tconst workbenchEnvironmentService = accessor.get(IWorkbenchEnvironmentService);\n\n\t\t\tconst editor = codeEditorService.getActiveCodeEditor();\n\t\t\tif (!editor || !editor.hasModel()) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst instance = await c.service.getActiveOrCreateInstance({ acceptsInput: true });\n\t\t\tconst isRemote = instance ? instance.hasRemoteAuthority : (workbenchEnvironmentService.remoteAuthority ? true : false);\n\t\t\tconst uri = editor.getModel().uri;\n\t\t\tif ((!isRemote && uri.scheme !== Schemas.file && uri.scheme !== Schemas.vscodeUserData) || (isRemote && uri.scheme !== Schemas.vscodeRemote)) {\n\t\t\t\tnotificationService.warn(localize('workbench.action.terminal.runActiveFile.noFile', 'Only files on disk can be run in the terminal'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// TODO: Convert this to ctrl+c, ctrl+v for pwsh?\n\t\t\tawait instance.sendPath(uri, true);\n\t\t\treturn c.groupService.showPanel();\n\t\t}\n\t});\n\n\tregisterActiveXtermAction({\n\t\tid: TerminalCommandId.ScrollDownLine,\n\t\ttitle: localize2('workbench.action.terminal.scrollDown', 'Scroll Down (Line)'),\n\t\tkeybinding: {\n\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Alt | KeyCode.PageDown,\n\t\t\tlinux: { primary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.DownArrow },\n\t\t\twhen: sharedWhenClause.focusInAny_and_normalBuffer,\n\t\t\tweight: KeybindingWeight.WorkbenchContrib\n\t\t},\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\trun: (xterm) => xterm.scrollDownLine()\n\t});\n\n\tregisterActiveXtermAction({\n\t\tid: TerminalCommandId.ScrollDownPage,\n\t\ttitle: localize2('workbench.action.terminal.scrollDownPage', 'Scroll Down (Page)'),\n\t\tkeybinding: {\n\t\t\tprimary: KeyMod.Shift | KeyCode.PageDown,\n\t\t\tmac: { primary: KeyCode.PageDown },\n\t\t\twhen: sharedWhenClause.focusInAny_and_normalBuffer,\n\t\t\tweight: KeybindingWeight.WorkbenchContrib\n\t\t},\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\trun: (xterm) => xterm.scrollDownPage()\n\t});\n\n\tregisterActiveXtermAction({\n\t\tid: TerminalCommandId.ScrollToBottom,\n\t\ttitle: localize2('workbench.action.terminal.scrollToBottom', 'Scroll to Bottom'),\n\t\tkeybinding: {\n\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.End,\n\t\t\tlinux: { primary: KeyMod.Shift | KeyCode.End },\n\t\t\twhen: sharedWhenClause.focusInAny_and_normalBuffer,\n\t\t\tweight: KeybindingWeight.WorkbenchContrib\n\t\t},\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\trun: (xterm) => xterm.scrollToBottom()\n\t});\n\n\tregisterActiveXtermAction({\n\t\tid: TerminalCommandId.ScrollUpLine,\n\t\ttitle: localize2('workbench.action.terminal.scrollUp', 'Scroll Up (Line)'),\n\t\tkeybinding: {\n\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Alt | KeyCode.PageUp,\n\t\t\tlinux: { primary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.UpArrow },\n\t\t\twhen: sharedWhenClause.focusInAny_and_normalBuffer,\n\t\t\tweight: KeybindingWeight.WorkbenchContrib\n\t\t},\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\trun: (xterm) => xterm.scrollUpLine()\n\t});\n\n\tregisterActiveXtermAction({\n\t\tid: TerminalCommandId.ScrollUpPage,\n\t\ttitle: localize2('workbench.action.terminal.scrollUpPage', 'Scroll Up (Page)'),\n\t\tf1: true,\n\t\tkeybinding: {\n\t\t\tprimary: KeyMod.Shift | KeyCode.PageUp,\n\t\t\tmac: { primary: KeyCode.PageUp },\n\t\t\twhen: sharedWhenClause.focusInAny_and_normalBuffer,\n\t\t\tweight: KeybindingWeight.WorkbenchContrib\n\t\t},\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\trun: (xterm) => xterm.scrollUpPage()\n\t});\n\n\tregisterActiveXtermAction({\n\t\tid: TerminalCommandId.ScrollToTop,\n\t\ttitle: localize2('workbench.action.terminal.scrollToTop', 'Scroll to Top'),\n\t\tkeybinding: {\n\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.Home,\n\t\t\tlinux: { primary: KeyMod.Shift | KeyCode.Home },\n\t\t\twhen: sharedWhenClause.focusInAny_and_normalBuffer,\n\t\t\tweight: KeybindingWeight.WorkbenchContrib\n\t\t},\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\trun: (xterm) => xterm.scrollToTop()\n\t});\n\n\tregisterActiveXtermAction({\n\t\tid: TerminalCommandId.ClearSelection,\n\t\ttitle: localize2('workbench.action.terminal.clearSelection', 'Clear Selection'),\n\t\tkeybinding: {\n\t\t\tprimary: KeyCode.Escape,\n\t\t\twhen: ContextKeyExpr.and(TerminalContextKeys.focusInAny, TerminalContextKeys.textSelected, TerminalContextKeys.notFindVisible),\n\t\t\tweight: KeybindingWeight.WorkbenchContrib\n\t\t},\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\trun: (xterm) => {\n\t\t\tif (xterm.hasSelection()) {\n\t\t\t\txterm.clearSelection();\n\t\t\t}\n\t\t}\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.ChangeIcon,\n\t\ttitle: terminalStrings.changeIcon,\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\trun: (c, _, args: unknown) => getResourceOrActiveInstance(c, args)?.changeIcon()\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.ChangeIconActiveTab,\n\t\ttitle: terminalStrings.changeIcon,\n\t\tf1: false,\n\t\tprecondition: sharedWhenClause.terminalAvailable_and_singularSelection,\n\t\trun: async (c, accessor, args) => {\n\t\t\tlet icon: TerminalIcon | undefined;\n\t\t\tif (c.groupService.lastAccessedMenu === 'inline-tab') {\n\t\t\t\tgetResourceOrActiveInstance(c, args)?.changeIcon();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor (const terminal of getSelectedViewInstances(accessor) ?? []) {\n\t\t\t\ticon = await terminal.changeIcon(icon);\n\t\t\t}\n\t\t}\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.ChangeColor,\n\t\ttitle: terminalStrings.changeColor,\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\trun: (c, _, args) => getResourceOrActiveInstance(c, args)?.changeColor()\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.ChangeColorActiveTab,\n\t\ttitle: terminalStrings.changeColor,\n\t\tf1: false,\n\t\tprecondition: sharedWhenClause.terminalAvailable_and_singularSelection,\n\t\trun: async (c, accessor, args) => {\n\t\t\tlet color: string | undefined;\n\t\t\tlet i = 0;\n\t\t\tif (c.groupService.lastAccessedMenu === 'inline-tab') {\n\t\t\t\tgetResourceOrActiveInstance(c, args)?.changeColor();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor (const terminal of getSelectedViewInstances(accessor) ?? []) {\n\t\t\t\tconst skipQuickPick = i !== 0;\n\t\t\t\t// Always show the quickpick on the first iteration\n\t\t\t\tcolor = await terminal.changeColor(color, skipQuickPick);\n\t\t\t\ti++;\n\t\t\t}\n\t\t}\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.Rename,\n\t\ttitle: terminalStrings.rename,\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\trun: (c, accessor, args) => renameWithQuickPick(c, accessor, args)\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.RenameActiveTab,\n\t\ttitle: terminalStrings.rename,\n\t\tf1: false,\n\t\tkeybinding: {\n\t\t\tprimary: KeyCode.F2,\n\t\t\tmac: {\n\t\t\t\tprimary: KeyCode.Enter\n\t\t\t},\n\t\t\twhen: ContextKeyExpr.and(TerminalContextKeys.tabsFocus),\n\t\t\tweight: KeybindingWeight.WorkbenchContrib\n\t\t},\n\t\tprecondition: sharedWhenClause.terminalAvailable_and_singularSelection,\n\t\trun: async (c, accessor) => {\n\t\t\tconst terminalGroupService = accessor.get(ITerminalGroupService);\n\t\t\tconst notificationService = accessor.get(INotificationService);\n\t\t\tconst instances = getSelectedViewInstances(accessor);\n\t\t\tconst firstInstance = instances?.[0];\n\t\t\tif (!firstInstance) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (terminalGroupService.lastAccessedMenu === 'inline-tab') {\n\t\t\t\treturn renameWithQuickPick(c, accessor, firstInstance);\n\t\t\t}\n\n\t\t\tc.editingService.setEditingTerminal(firstInstance);\n\t\t\tc.editingService.setEditable(firstInstance, {\n\t\t\t\tvalidationMessage: value => validateTerminalName(value),\n\t\t\t\tonFinish: async (value, success) => {\n\t\t\t\t\t// Cancel editing first as instance.rename will trigger a rerender automatically\n\t\t\t\t\tc.editingService.setEditable(firstInstance, null);\n\t\t\t\t\tc.editingService.setEditingTerminal(undefined);\n\t\t\t\t\tif (success) {\n\t\t\t\t\t\tconst promises: Promise<void>[] = [];\n\t\t\t\t\t\tfor (const instance of instances) {\n\t\t\t\t\t\t\tpromises.push((async () => {\n\t\t\t\t\t\t\t\tawait instance.rename(value);\n\t\t\t\t\t\t\t})());\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait Promise.all(promises);\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tnotificationService.error(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\tregisterActiveInstanceAction({\n\t\tid: TerminalCommandId.DetachSession,\n\t\ttitle: localize2('workbench.action.terminal.detachSession', 'Detach Session'),\n\t\trun: (activeInstance) => activeInstance.detachProcessAndDispose(TerminalExitReason.User)\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.AttachToSession,\n\t\ttitle: localize2('workbench.action.terminal.attachToSession', 'Attach to Session'),\n\t\trun: async (c, accessor) => {\n\t\t\tconst quickInputService = accessor.get(IQuickInputService);\n\t\t\tconst labelService = accessor.get(ILabelService);\n\t\t\tconst remoteAgentService = accessor.get(IRemoteAgentService);\n\t\t\tconst notificationService = accessor.get(INotificationService);\n\n\t\t\tconst remoteAuthority = remoteAgentService.getConnection()?.remoteAuthority ?? undefined;\n\t\t\tconst backend = await accessor.get(ITerminalInstanceService).getBackend(remoteAuthority);\n\n\t\t\tif (!backend) {\n\t\t\t\tthrow new Error(`No backend registered for remote authority '${remoteAuthority}'`);\n\t\t\t}\n\n\t\t\tconst terms = await backend.listProcesses();\n\n\t\t\tbackend.reduceConnectionGraceTime();\n\n\t\t\tconst unattachedTerms = terms.filter(term => !c.service.isAttachedToTerminal(term));\n\t\t\tconst items = unattachedTerms.map(term => {\n\t\t\t\tconst cwdLabel = labelService.getUriLabel(URI.file(term.cwd));\n\t\t\t\treturn {\n\t\t\t\t\tlabel: term.title,\n\t\t\t\t\tdetail: term.workspaceName ? `${term.workspaceName} \\u2E31 ${cwdLabel}` : cwdLabel,\n\t\t\t\t\tdescription: term.pid ? String(term.pid) : '',\n\t\t\t\t\tterm\n\t\t\t\t};\n\t\t\t});\n\t\t\tif (items.length === 0) {\n\t\t\t\tnotificationService.info(localize('noUnattachedTerminals', 'There are no unattached terminals to attach to'));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst selected = await quickInputService.pick<IRemoteTerminalPick>(items, { canPickMany: false });\n\t\t\tif (selected) {\n\t\t\t\tconst instance = await c.service.createTerminal({\n\t\t\t\t\tconfig: { attachPersistentProcess: selected.term }\n\t\t\t\t});\n\t\t\t\tc.service.setActiveInstance(instance);\n\t\t\t\tawait focusActiveTerminal(instance, c);\n\t\t\t}\n\t\t}\n\t});\n\n\tregisterActiveInstanceAction({\n\t\tid: TerminalCommandId.ScrollToPreviousCommand,\n\t\ttitle: terminalStrings.scrollToPreviousCommand,\n\t\tkeybinding: {\n\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.UpArrow,\n\t\t\twhen: ContextKeyExpr.and(TerminalContextKeys.focus, CONTEXT_ACCESSIBILITY_MODE_ENABLED.negate()),\n\t\t\tweight: KeybindingWeight.WorkbenchContrib\n\t\t},\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\ticon: Codicon.arrowUp,\n\t\tmenu: [\n\t\t\t{\n\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\torder: 4,\n\t\t\t\twhen: ContextKeyExpr.equals('view', TERMINAL_VIEW_ID),\n\t\t\t\tisHiddenByDefault: true\n\t\t\t},\n\t\t\t...[MenuId.EditorTitle, MenuId.CompactWindowEditorTitle].map(id => ({\n\t\t\t\tid,\n\t\t\t\tgroup: '1_shellIntegration',\n\t\t\t\torder: 4,\n\t\t\t\twhen: ResourceContextKey.Scheme.isEqualTo(Schemas.vscodeTerminal),\n\t\t\t\tisHiddenByDefault: true\n\t\t\t})),\n\t\t],\n\t\trun: (activeInstance) => activeInstance.xterm?.markTracker.scrollToPreviousMark(undefined, undefined, activeInstance.capabilities.has(TerminalCapability.CommandDetection))\n\t});\n\n\tregisterActiveInstanceAction({\n\t\tid: TerminalCommandId.ScrollToNextCommand,\n\t\ttitle: terminalStrings.scrollToNextCommand,\n\t\tkeybinding: {\n\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.DownArrow,\n\t\t\twhen: ContextKeyExpr.and(TerminalContextKeys.focus, CONTEXT_ACCESSIBILITY_MODE_ENABLED.negate()),\n\t\t\tweight: KeybindingWeight.WorkbenchContrib\n\t\t},\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\ticon: Codicon.arrowDown,\n\t\tmenu: [\n\t\t\t{\n\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\torder: 5,\n\t\t\t\twhen: ContextKeyExpr.equals('view', TERMINAL_VIEW_ID),\n\t\t\t\tisHiddenByDefault: true\n\t\t\t},\n\t\t\t...[MenuId.EditorTitle, MenuId.CompactWindowEditorTitle].map(id => ({\n\t\t\t\tid,\n\t\t\t\tgroup: '1_shellIntegration',\n\t\t\t\torder: 5,\n\t\t\t\twhen: ResourceContextKey.Scheme.isEqualTo(Schemas.vscodeTerminal),\n\t\t\t\tisHiddenByDefault: true\n\t\t\t})),\n\t\t],\n\t\trun: (activeInstance) => {\n\t\t\tactiveInstance.xterm?.markTracker.scrollToNextMark();\n\t\t\tactiveInstance.focus();\n\t\t}\n\t});\n\n\tregisterActiveInstanceAction({\n\t\tid: TerminalCommandId.SelectToPreviousCommand,\n\t\ttitle: localize2('workbench.action.terminal.selectToPreviousCommand', 'Select to Previous Command'),\n\t\tkeybinding: {\n\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.UpArrow,\n\t\t\twhen: TerminalContextKeys.focus,\n\t\t\tweight: KeybindingWeight.WorkbenchContrib\n\t\t},\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\trun: (activeInstance) => {\n\t\t\tactiveInstance.xterm?.markTracker.selectToPreviousMark();\n\t\t\tactiveInstance.focus();\n\t\t}\n\t});\n\n\tregisterActiveInstanceAction({\n\t\tid: TerminalCommandId.SelectToNextCommand,\n\t\ttitle: localize2('workbench.action.terminal.selectToNextCommand', 'Select to Next Command'),\n\t\tkeybinding: {\n\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.DownArrow,\n\t\t\twhen: TerminalContextKeys.focus,\n\t\t\tweight: KeybindingWeight.WorkbenchContrib\n\t\t},\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\trun: (activeInstance) => {\n\t\t\tactiveInstance.xterm?.markTracker.selectToNextMark();\n\t\t\tactiveInstance.focus();\n\t\t}\n\t});\n\n\tregisterActiveXtermAction({\n\t\tid: TerminalCommandId.SelectToPreviousLine,\n\t\ttitle: localize2('workbench.action.terminal.selectToPreviousLine', 'Select to Previous Line'),\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\trun: async (xterm, _, instance) => {\n\t\t\txterm.markTracker.selectToPreviousLine();\n\t\t\t// prefer to call focus on the TerminalInstance for additional accessibility triggers\n\t\t\t(instance || xterm).focus();\n\t\t}\n\t});\n\n\tregisterActiveXtermAction({\n\t\tid: TerminalCommandId.SelectToNextLine,\n\t\ttitle: localize2('workbench.action.terminal.selectToNextLine', 'Select to Next Line'),\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\trun: async (xterm, _, instance) => {\n\t\t\txterm.markTracker.selectToNextLine();\n\t\t\t// prefer to call focus on the TerminalInstance for additional accessibility triggers\n\t\t\t(instance || xterm).focus();\n\t\t}\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.NewWithCwd,\n\t\ttitle: terminalStrings.newWithCwd,\n\t\tmetadata: {\n\t\t\tdescription: terminalStrings.newWithCwd.value,\n\t\t\targs: [{\n\t\t\t\tname: 'args',\n\t\t\t\tschema: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\trequired: ['cwd'],\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tcwd: {\n\t\t\t\t\t\t\tdescription: localize('workbench.action.terminal.newWithCwd.cwd', \"The directory to start the terminal at\"),\n\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t}]\n\t\t},\n\t\trun: async (c, _, args) => {\n\t\t\tconst cwd = args ? toOptionalString((<{ cwd?: string }>args).cwd) : undefined;\n\t\t\tconst instance = await c.service.createTerminal({ cwd });\n\t\t\tif (!instance) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tc.service.setActiveInstance(instance);\n\t\t\tawait focusActiveTerminal(instance, c);\n\t\t}\n\t});\n\n\tregisterActiveInstanceAction({\n\t\tid: TerminalCommandId.RenameWithArgs,\n\t\ttitle: terminalStrings.renameWithArgs,\n\t\tmetadata: {\n\t\t\tdescription: terminalStrings.renameWithArgs.value,\n\t\t\targs: [{\n\t\t\t\tname: 'args',\n\t\t\t\tschema: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\trequired: ['name'],\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tname: {\n\t\t\t\t\t\t\tdescription: localize('workbench.action.terminal.renameWithArg.name', \"The new name for the terminal\"),\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tminLength: 1\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}]\n\t\t},\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\tf1: false,\n\t\trun: async (activeInstance, c, accessor, args) => {\n\t\t\tconst notificationService = accessor.get(INotificationService);\n\t\t\tconst name = args ? toOptionalString((<{ name?: string }>args).name) : undefined;\n\t\t\tif (!name) {\n\t\t\t\tnotificationService.warn(localize('workbench.action.terminal.renameWithArg.noName', \"No name argument provided\"));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tactiveInstance.rename(name);\n\t\t}\n\t});\n\n\tregisterActiveInstanceAction({\n\t\tid: TerminalCommandId.Relaunch,\n\t\ttitle: localize2('workbench.action.terminal.relaunch', 'Relaunch Active Terminal'),\n\t\trun: (activeInstance) => activeInstance.relaunch()\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.Split,\n\t\ttitle: terminalStrings.split,\n\t\tprecondition: ContextKeyExpr.or(TerminalContextKeys.processSupported, TerminalContextKeys.webExtensionContributedProfile),\n\t\tkeybinding: {\n\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.Digit5,\n\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\tmac: {\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.Backslash,\n\t\t\t\tsecondary: [KeyMod.WinCtrl | KeyMod.Shift | KeyCode.Digit5]\n\t\t\t},\n\t\t\twhen: TerminalContextKeys.focus\n\t\t},\n\t\ticon: Codicon.splitHorizontal,\n\t\trun: async (c, accessor, args) => {\n\t\t\tconst optionsOrProfile = isObject(args) ? args as ICreateTerminalOptions | ITerminalProfile : undefined;\n\t\t\tconst commandService = accessor.get(ICommandService);\n\t\t\tconst workspaceContextService = accessor.get(IWorkspaceContextService);\n\t\t\tconst options = convertOptionsOrProfileToOptions(optionsOrProfile);\n\t\t\tconst activeInstance = (await c.service.getInstanceHost(options?.location)).activeInstance;\n\t\t\tif (!activeInstance) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst cwd = await getCwdForSplit(activeInstance, workspaceContextService.getWorkspace().folders, commandService, c.configService);\n\t\t\tif (cwd === undefined) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst instance = await c.service.createTerminal({ location: { parentTerminal: activeInstance }, config: options?.config, cwd });\n\t\t\tawait focusActiveTerminal(instance, c);\n\t\t}\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.SplitActiveTab,\n\t\ttitle: terminalStrings.split,\n\t\tf1: false,\n\t\tkeybinding: {\n\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.Digit5,\n\t\t\tmac: {\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.Backslash,\n\t\t\t\tsecondary: [KeyMod.WinCtrl | KeyMod.Shift | KeyCode.Digit5]\n\t\t\t},\n\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\twhen: TerminalContextKeys.tabsFocus\n\t\t},\n\t\trun: async (c, accessor) => {\n\t\t\tconst instances = getSelectedViewInstances(accessor);\n\t\t\tif (instances) {\n\t\t\t\tconst promises: Promise<void>[] = [];\n\t\t\t\tfor (const t of instances) {\n\t\t\t\t\tpromises.push((async () => {\n\t\t\t\t\t\tawait c.service.createTerminal({ location: { parentTerminal: t } });\n\t\t\t\t\t\tawait c.groupService.showPanel(true);\n\t\t\t\t\t})());\n\t\t\t\t}\n\t\t\t\tawait Promise.all(promises);\n\t\t\t}\n\t\t}\n\t});\n\n\tregisterContextualInstanceAction({\n\t\tid: TerminalCommandId.Unsplit,\n\t\ttitle: terminalStrings.unsplit,\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\trun: async (instance, c) => {\n\t\t\tconst group = c.groupService.getGroupForInstance(instance);\n\t\t\tif (group && group?.terminalInstances.length > 1) {\n\t\t\t\tc.groupService.unsplitInstance(instance);\n\t\t\t}\n\t\t}\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.JoinActiveTab,\n\t\ttitle: localize2('workbench.action.terminal.joinInstance', 'Join Terminals'),\n\t\tprecondition: ContextKeyExpr.and(sharedWhenClause.terminalAvailable, TerminalContextKeys.tabsSingularSelection.toNegated()),\n\t\trun: async (c, accessor) => {\n\t\t\tconst instances = getSelectedViewInstances(accessor);\n\t\t\tif (instances && instances.length > 1) {\n\t\t\t\tc.groupService.joinInstances(instances);\n\t\t\t}\n\t\t}\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.Join,\n\t\ttitle: localize2('workbench.action.terminal.join', 'Join Terminals...'),\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\trun: async (c, accessor) => {\n\t\t\tconst themeService = accessor.get(IThemeService);\n\t\t\tconst notificationService = accessor.get(INotificationService);\n\t\t\tconst quickInputService = accessor.get(IQuickInputService);\n\n\t\t\tconst picks: ITerminalQuickPickItem[] = [];\n\t\t\tif (c.groupService.instances.length <= 1) {\n\t\t\t\tnotificationService.warn(localize('workbench.action.terminal.join.insufficientTerminals', 'Insufficient terminals for the join action'));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst otherInstances = c.groupService.instances.filter(i => i.instanceId !== c.groupService.activeInstance?.instanceId);\n\t\t\tfor (const terminal of otherInstances) {\n\t\t\t\tconst group = c.groupService.getGroupForInstance(terminal);\n\t\t\t\tif (group?.terminalInstances.length === 1) {\n\t\t\t\t\tconst iconId = getIconId(accessor, terminal);\n\t\t\t\t\tconst label = `$(${iconId}): ${terminal.title}`;\n\t\t\t\t\tconst iconClasses: string[] = [];\n\t\t\t\t\tconst colorClass = getColorClass(terminal);\n\t\t\t\t\tif (colorClass) {\n\t\t\t\t\t\ticonClasses.push(colorClass);\n\t\t\t\t\t}\n\t\t\t\t\tconst uriClasses = getUriClasses(terminal, themeService.getColorTheme().type);\n\t\t\t\t\tif (uriClasses) {\n\t\t\t\t\t\ticonClasses.push(...uriClasses);\n\t\t\t\t\t}\n\t\t\t\t\tpicks.push({\n\t\t\t\t\t\tterminal,\n\t\t\t\t\t\tlabel,\n\t\t\t\t\t\ticonClasses\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (picks.length === 0) {\n\t\t\t\tnotificationService.warn(localize('workbench.action.terminal.join.onlySplits', 'All terminals are joined already'));\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst result = await quickInputService.pick(picks, {});\n\t\t\tif (result) {\n\t\t\t\tc.groupService.joinInstances([result.terminal, c.groupService.activeInstance!]);\n\t\t\t}\n\t\t}\n\t});\n\n\tregisterActiveInstanceAction({\n\t\tid: TerminalCommandId.SplitInActiveWorkspace,\n\t\ttitle: localize2('workbench.action.terminal.splitInActiveWorkspace', 'Split Terminal (In Active Workspace)'),\n\t\trun: async (instance, c) => {\n\t\t\tconst newInstance = await c.service.createTerminal({ location: { parentTerminal: instance } });\n\t\t\tif (newInstance?.target !== TerminalLocation.Editor) {\n\t\t\t\tawait c.groupService.showPanel(true);\n\t\t\t}\n\t\t}\n\t});\n\n\tregisterActiveXtermAction({\n\t\tid: TerminalCommandId.SelectAll,\n\t\ttitle: localize2('workbench.action.terminal.selectAll', 'Select All'),\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\tkeybinding: [{\n\t\t\t// Don't use ctrl+a by default as that would override the common go to start\n\t\t\t// of prompt shell binding\n\t\t\tprimary: 0,\n\t\t\t// Technically this doesn't need to be here as it will fall back to this\n\t\t\t// behavior anyway when handed to xterm.js, having this handled by VS Code\n\t\t\t// makes it easier for users to see how it works though.\n\t\t\tmac: { primary: KeyMod.CtrlCmd | KeyCode.KeyA },\n\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\twhen: TerminalContextKeys.focusInAny\n\t\t}],\n\t\trun: (xterm) => xterm.selectAll()\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.New,\n\t\ttitle: localize2('workbench.action.terminal.new', 'Create New Terminal'),\n\t\tprecondition: ContextKeyExpr.or(TerminalContextKeys.processSupported, TerminalContextKeys.webExtensionContributedProfile),\n\t\ticon: newTerminalIcon,\n\t\tkeybinding: {\n\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.Backquote,\n\t\t\tmac: { primary: KeyMod.WinCtrl | KeyMod.Shift | KeyCode.Backquote },\n\t\t\tweight: KeybindingWeight.WorkbenchContrib\n\t\t},\n\t\trun: async (c, accessor, args) => {\n\t\t\tlet eventOrOptions = isObject(args) ? args as MouseEvent | ICreateTerminalOptions : undefined;\n\t\t\tconst workspaceContextService = accessor.get(IWorkspaceContextService);\n\t\t\tconst commandService = accessor.get(ICommandService);\n\t\t\tconst editorGroupsService = accessor.get(IEditorGroupsService);\n\t\t\tconst folders = workspaceContextService.getWorkspace().folders;\n\t\t\tif (eventOrOptions && isMouseEvent(eventOrOptions) && (eventOrOptions.altKey || eventOrOptions.ctrlKey)) {\n\t\t\t\tawait c.service.createTerminal({ location: { splitActiveTerminal: true } });\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (c.service.isProcessSupportRegistered) {\n\t\t\t\teventOrOptions = !eventOrOptions || isMouseEvent(eventOrOptions) ? {} : eventOrOptions;\n\n\t\t\t\tif (isAuxiliaryWindow(getActiveWindow()) && !eventOrOptions.location) {\n\t\t\t\t\teventOrOptions.location = { viewColumn: editorGroupToColumn(editorGroupsService, editorGroupsService.activeGroup) };\n\t\t\t\t}\n\n\t\t\t\tlet instance: ITerminalInstance | undefined;\n\t\t\t\tif (folders.length <= 1) {\n\t\t\t\t\t// Allow terminal service to handle the path when there is only a\n\t\t\t\t\t// single root\n\t\t\t\t\tinstance = await c.service.createTerminal(eventOrOptions);\n\t\t\t\t} else {\n\t\t\t\t\tconst cwd = (await pickTerminalCwd(accessor))?.cwd;\n\t\t\t\t\tif (!cwd) {\n\t\t\t\t\t\t// Don't create the instance if the workspace picker was canceled\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\teventOrOptions.cwd = cwd;\n\t\t\t\t\tinstance = await c.service.createTerminal(eventOrOptions);\n\t\t\t\t}\n\t\t\t\tc.service.setActiveInstance(instance);\n\t\t\t\tawait focusActiveTerminal(instance, c);\n\t\t\t} else {\n\t\t\t\tif (c.profileService.contributedProfiles.length > 0) {\n\t\t\t\t\tcommandService.executeCommand(TerminalCommandId.NewWithProfile);\n\t\t\t\t} else {\n\t\t\t\t\tcommandService.executeCommand(TerminalCommandId.Toggle);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\tasync function killInstance(c: ITerminalServicesCollection, instance: ITerminalInstance | undefined): Promise<void> {\n\t\tif (!instance) {\n\t\t\treturn;\n\t\t}\n\t\tawait c.service.safeDisposeTerminal(instance);\n\t\tif (c.groupService.instances.length > 0) {\n\t\t\tawait c.groupService.showPanel(true);\n\t\t}\n\t}\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.Kill,\n\t\ttitle: localize2('workbench.action.terminal.kill', 'Kill the Active Terminal Instance'),\n\t\tprecondition: ContextKeyExpr.or(sharedWhenClause.terminalAvailable, TerminalContextKeys.isOpen),\n\t\ticon: killTerminalIcon,\n\t\trun: async (c) => killInstance(c, c.groupService.activeInstance)\n\t});\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.KillViewOrEditor,\n\t\ttitle: terminalStrings.kill,\n\t\tf1: false, // This is an internal command used for context menus\n\t\tprecondition: ContextKeyExpr.or(sharedWhenClause.terminalAvailable, TerminalContextKeys.isOpen),\n\t\trun: async (c) => killInstance(c, c.service.activeInstance)\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.KillAll,\n\t\ttitle: localize2('workbench.action.terminal.killAll', 'Kill All Terminals'),\n\t\tprecondition: ContextKeyExpr.or(sharedWhenClause.terminalAvailable, TerminalContextKeys.isOpen),\n\t\ticon: Codicon.trash,\n\t\trun: async (c) => {\n\t\t\tconst disposePromises: Promise<void>[] = [];\n\t\t\tfor (const instance of c.service.instances) {\n\t\t\t\tdisposePromises.push(c.service.safeDisposeTerminal(instance));\n\t\t\t}\n\t\t\tawait Promise.all(disposePromises);\n\t\t}\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.KillEditor,\n\t\ttitle: localize2('workbench.action.terminal.killEditor', 'Kill the Active Terminal in Editor Area'),\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\tkeybinding: {\n\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.KeyW,\n\t\t\twin: { primary: KeyMod.CtrlCmd | KeyCode.F4, secondary: [KeyMod.CtrlCmd | KeyCode.KeyW] },\n\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\twhen: ContextKeyExpr.and(TerminalContextKeys.focus, TerminalContextKeys.editorFocus)\n\t\t},\n\t\trun: (c, accessor) => accessor.get(ICommandService).executeCommand(CLOSE_EDITOR_COMMAND_ID)\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.KillActiveTab,\n\t\ttitle: terminalStrings.kill,\n\t\tf1: false,\n\t\tprecondition: ContextKeyExpr.or(sharedWhenClause.terminalAvailable, TerminalContextKeys.isOpen),\n\t\tkeybinding: {\n\t\t\tprimary: KeyCode.Delete,\n\t\t\tmac: {\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.Backspace,\n\t\t\t\tsecondary: [KeyCode.Delete]\n\t\t\t},\n\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\twhen: TerminalContextKeys.tabsFocus\n\t\t},\n\t\trun: async (c, accessor) => {\n\t\t\tconst disposePromises: Promise<void>[] = [];\n\t\t\tfor (const terminal of getSelectedViewInstances(accessor, true) ?? []) {\n\t\t\t\tdisposePromises.push(c.service.safeDisposeTerminal(terminal));\n\t\t\t}\n\t\t\tawait Promise.all(disposePromises);\n\t\t\tc.groupService.focusTabs();\n\t\t}\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.FocusHover,\n\t\ttitle: terminalStrings.focusHover,\n\t\tprecondition: ContextKeyExpr.or(sharedWhenClause.terminalAvailable, TerminalContextKeys.isOpen),\n\t\tkeybinding: {\n\t\t\tprimary: KeyChord(KeyMod.CtrlCmd | KeyCode.KeyK, KeyMod.CtrlCmd | KeyCode.KeyI),\n\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\twhen: ContextKeyExpr.or(TerminalContextKeys.tabsFocus, TerminalContextKeys.focus)\n\t\t},\n\t\trun: (c) => c.groupService.focusHover()\n\t});\n\n\tregisterActiveInstanceAction({\n\t\tid: TerminalCommandId.Clear,\n\t\ttitle: localize2('workbench.action.terminal.clear', 'Clear'),\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\tkeybinding: [{\n\t\t\tprimary: 0,\n\t\t\tmac: { primary: KeyMod.CtrlCmd | KeyCode.KeyK },\n\t\t\t// Weight is higher than work workbench contributions so the keybinding remains\n\t\t\t// highest priority when chords are registered afterwards\n\t\t\tweight: KeybindingWeight.WorkbenchContrib + 1,\n\t\t\t// Disable the keybinding when accessibility mode is enabled as chords include\n\t\t\t// important screen reader keybindings such as cmd+k, cmd+i to show the hover\n\t\t\twhen: ContextKeyExpr.or(ContextKeyExpr.and(TerminalContextKeys.focus, CONTEXT_ACCESSIBILITY_MODE_ENABLED.negate()), ContextKeyExpr.and(CONTEXT_ACCESSIBILITY_MODE_ENABLED, accessibleViewIsShown, accessibleViewCurrentProviderId.isEqualTo(AccessibleViewProviderId.Terminal))),\n\t\t}],\n\t\trun: (activeInstance) => activeInstance.clearBuffer()\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.SelectDefaultProfile,\n\t\ttitle: localize2('workbench.action.terminal.selectDefaultShell', 'Select Default Profile'),\n\t\trun: (c) => c.service.showProfileQuickPick('setDefault')\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.ConfigureTerminalSettings,\n\t\ttitle: localize2('workbench.action.terminal.openSettings', 'Configure Terminal Settings'),\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\trun: (c, accessor) => accessor.get(IPreferencesService).openSettings({ jsonEditor: false, query: '@feature:terminal' })\n\t});\n\n\tregisterActiveInstanceAction({\n\t\tid: TerminalCommandId.SetDimensions,\n\t\ttitle: localize2('workbench.action.terminal.setFixedDimensions', 'Set Fixed Dimensions'),\n\t\tprecondition: sharedWhenClause.terminalAvailable_and_opened,\n\t\trun: (activeInstance) => activeInstance.setFixedDimensions()\n\t});\n\n\tregisterContextualInstanceAction({\n\t\tid: TerminalCommandId.SizeToContentWidth,\n\t\ttitle: terminalStrings.toggleSizeToContentWidth,\n\t\tprecondition: sharedWhenClause.terminalAvailable_and_opened,\n\t\tkeybinding: {\n\t\t\tprimary: KeyMod.Alt | KeyCode.KeyZ,\n\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\twhen: TerminalContextKeys.focus\n\t\t},\n\t\trun: (instance) => instance.toggleSizeToContentWidth()\n\t});\n\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.SwitchTerminal,\n\t\ttitle: localize2('workbench.action.terminal.switchTerminal', 'Switch Terminal'),\n\t\tprecondition: sharedWhenClause.terminalAvailable,\n\t\trun: async (c, accessor, args) => {\n\t\t\tconst item = toOptionalString(args);\n\t\t\tif (!item) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (item === SeparatorSelectOption.text) {\n\t\t\t\tc.service.refreshActiveGroup();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (item === switchTerminalShowTabsTitle) {\n\t\t\t\taccessor.get(IConfigurationService).updateValue(TerminalSettingId.TabsEnabled, true);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst terminalIndexRe = /^([0-9]+): /;\n\t\t\tconst indexMatches = terminalIndexRe.exec(item);\n\t\t\tif (indexMatches) {\n\t\t\t\tc.groupService.setActiveGroupByIndex(Number(indexMatches[1]) - 1);\n\t\t\t\treturn c.groupService.showPanel(true);\n\t\t\t}\n\n\t\t\tconst quickSelectProfiles = c.profileService.availableProfiles;\n\n\t\t\t// Remove 'New ' from the selected item to get the profile name\n\t\t\tconst profileSelection = item.substring(4);\n\t\t\tif (quickSelectProfiles) {\n\t\t\t\tconst profile = quickSelectProfiles.find(profile => profile.profileName === profileSelection);\n\t\t\t\tif (profile) {\n\t\t\t\t\tconst instance = await c.service.createTerminal({\n\t\t\t\t\t\tconfig: profile\n\t\t\t\t\t});\n\t\t\t\t\tc.service.setActiveInstance(instance);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.warn(`No profile with name \"${profileSelection}\"`);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconsole.warn(`Unmatched terminal item: \"${item}\"`);\n\t\t\t}\n\t\t}\n\t});\n}\n\ninterface IRemoteTerminalPick extends IQuickPickItem {\n\tterm: IRemoteTerminalAttachTarget;\n}\n\nfunction getSelectedViewInstances2(accessor: ServicesAccessor, args?: unknown): ITerminalInstance[] | undefined {\n\tconst terminalService = accessor.get(ITerminalService);\n\tconst result: ITerminalInstance[] = [];\n\tconst context = parseActionArgs(args);\n\tif (context && context.length > 0) {\n\t\tfor (const instanceContext of context) {\n\t\t\tconst instance = terminalService.getInstanceFromId(instanceContext.instanceId);\n\t\t\tif (instance) {\n\t\t\t\tresult.push(instance);\n\t\t\t}\n\t\t}\n\t\tif (result.length > 0) {\n\t\t\treturn result;\n\t\t}\n\t}\n\treturn undefined;\n}\n\nfunction getSelectedViewInstances(accessor: ServicesAccessor, args?: unknown, args2?: unknown): ITerminalInstance[] | undefined {\n\tconst listService = accessor.get(IListService);\n\tconst terminalGroupService = accessor.get(ITerminalGroupService);\n\tconst result: ITerminalInstance[] = [];\n\n\t// Assign list only if it's an instance of TerminalTabList (#234791)\n\tconst list = listService.lastFocusedList instanceof TerminalTabList ? listService.lastFocusedList : undefined;\n\t// Get selected tab list instance(s)\n\tconst selections = list?.getSelection();\n\t// Get inline tab instance if there are not tab list selections #196578\n\tif (terminalGroupService.lastAccessedMenu === 'inline-tab' && !selections?.length) {\n\t\tconst instance = terminalGroupService.activeInstance;\n\t\treturn instance ? [terminalGroupService.activeInstance] : undefined;\n\t}\n\n\tif (!list || !selections) {\n\t\treturn undefined;\n\t}\n\tconst focused = list.getFocus();\n\n\tconst viewInstances = terminalGroupService.instances;\n\tif (focused.length === 1 && !selections.includes(focused[0])) {\n\t\t// focused length is always a max of 1\n\t\t// if the focused one is not in the selected list, return that item\n\t\tresult.push(viewInstances[focused[0]]);\n\t\treturn result;\n\t}\n\n\t// multi-select\n\tfor (const selection of selections) {\n\t\tresult.push(viewInstances[selection]);\n\t}\n\treturn result.filter(r => !!r);\n}\n\nexport function validateTerminalName(name: string): { content: string; severity: Severity } | null {\n\tif (!name || name.trim().length === 0) {\n\t\treturn {\n\t\t\tcontent: localize('emptyTerminalNameInfo', \"Providing no name will reset it to the default value\"),\n\t\t\tseverity: Severity.Info\n\t\t};\n\t}\n\n\treturn null;\n}\n\nfunction isTerminalProfile(obj: unknown): obj is ITerminalProfile {\n\treturn isObject(obj) && 'profileName' in obj;\n}\n\nfunction convertOptionsOrProfileToOptions(optionsOrProfile?: ICreateTerminalOptions | ITerminalProfile): ICreateTerminalOptions | undefined {\n\tif (isTerminalProfile(optionsOrProfile)) {\n\t\treturn { config: optionsOrProfile, location: (optionsOrProfile as ICreateTerminalOptions).location };\n\t}\n\treturn optionsOrProfile;\n}\n\nlet newWithProfileAction: IDisposable;\n\nexport function refreshTerminalActions(detectedProfiles: ITerminalProfile[]): IDisposable {\n\tconst profileEnum = createProfileSchemaEnums(detectedProfiles);\n\tnewWithProfileAction?.dispose();\n\t// TODO: Use new register function\n\tnewWithProfileAction = registerAction2(class extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: TerminalCommandId.NewWithProfile,\n\t\t\t\ttitle: localize2('workbench.action.terminal.newWithProfile', 'Create New Terminal (With Profile)'),\n\t\t\t\tf1: true,\n\t\t\t\tprecondition: ContextKeyExpr.or(TerminalContextKeys.processSupported, TerminalContextKeys.webExtensionContributedProfile),\n\t\t\t\tmetadata: {\n\t\t\t\t\tdescription: TerminalCommandId.NewWithProfile,\n\t\t\t\t\targs: [{\n\t\t\t\t\t\tname: 'args',\n\t\t\t\t\t\tschema: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\trequired: ['profileName'],\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\tprofileName: {\n\t\t\t\t\t\t\t\t\tdescription: localize('workbench.action.terminal.newWithProfile.profileName', \"The name of the profile to create\"),\n\t\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\t\tenum: profileEnum.values,\n\t\t\t\t\t\t\t\t\tmarkdownEnumDescriptions: profileEnum.markdownDescriptions\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tlocation: {\n\t\t\t\t\t\t\t\t\tdescription: localize('newWithProfile.location', \"Where to create the terminal\"),\n\t\t\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\t\t\tenum: ['view', 'editor'],\n\t\t\t\t\t\t\t\t\tenumDescriptions: [\n\t\t\t\t\t\t\t\t\t\tlocalize('newWithProfile.location.view', 'Create the terminal in the terminal view'),\n\t\t\t\t\t\t\t\t\t\tlocalize('newWithProfile.location.editor', 'Create the terminal in the editor'),\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}]\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t\tasync run(\n\t\t\taccessor: ServicesAccessor,\n\t\t\teventOrOptionsOrProfile: MouseEvent | ICreateTerminalOptions | ITerminalProfile | { profileName: string; location?: 'view' | 'editor' | unknown } | undefined,\n\t\t\tprofile?: ITerminalProfile\n\t\t) {\n\t\t\tconst c = getTerminalServices(accessor);\n\t\t\tconst workspaceContextService = accessor.get(IWorkspaceContextService);\n\t\t\tconst commandService = accessor.get(ICommandService);\n\n\t\t\tlet event: MouseEvent | PointerEvent | KeyboardEvent | undefined;\n\t\t\tlet options: ICreateTerminalOptions | undefined;\n\t\t\tlet instance: ITerminalInstance | undefined;\n\t\t\tlet cwd: string | URI | undefined;\n\n\t\t\tif (isObject(eventOrOptionsOrProfile) && eventOrOptionsOrProfile && hasKey(eventOrOptionsOrProfile, { profileName: true })) {\n\t\t\t\tconst config = c.profileService.availableProfiles.find(profile => profile.profileName === eventOrOptionsOrProfile.profileName);\n\t\t\t\tif (!config) {\n\t\t\t\t\tthrow new Error(`Could not find terminal profile \"${eventOrOptionsOrProfile.profileName}\"`);\n\t\t\t\t}\n\t\t\t\toptions = { config };\n\t\t\t\tfunction isSimpleArgs(obj: unknown): obj is { profileName: string; location?: 'view' | 'editor' | unknown } {\n\t\t\t\t\treturn isObject(obj) && 'location' in obj;\n\t\t\t\t}\n\t\t\t\tif (isSimpleArgs(eventOrOptionsOrProfile)) {\n\t\t\t\t\tswitch (eventOrOptionsOrProfile.location) {\n\t\t\t\t\t\tcase 'editor': options.location = TerminalLocation.Editor; break;\n\t\t\t\t\t\tcase 'view': options.location = TerminalLocation.Panel; break;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (isMouseEvent(eventOrOptionsOrProfile) || isPointerEvent(eventOrOptionsOrProfile) || isKeyboardEvent(eventOrOptionsOrProfile)) {\n\t\t\t\tevent = eventOrOptionsOrProfile;\n\t\t\t\toptions = profile ? { config: profile } : undefined;\n\t\t\t} else {\n\t\t\t\toptions = convertOptionsOrProfileToOptions(eventOrOptionsOrProfile);\n\t\t\t}\n\n\t\t\t// split terminal\n\t\t\tif (event && (event.altKey || event.ctrlKey)) {\n\t\t\t\tconst parentTerminal = c.service.activeInstance;\n\t\t\t\tif (parentTerminal) {\n\t\t\t\t\tawait c.service.createTerminal({ location: { parentTerminal }, config: options?.config });\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst folders = workspaceContextService.getWorkspace().folders;\n\t\t\tif (folders.length > 1) {\n\t\t\t\t// multi-root workspace, create root picker\n\t\t\t\tconst options: IPickOptions<IQuickPickItem> = {\n\t\t\t\t\tplaceHolder: localize('workbench.action.terminal.newWorkspacePlaceholder', \"Select current working directory for new terminal\")\n\t\t\t\t};\n\t\t\t\tconst workspace = await commandService.executeCommand<IWorkspaceFolder>(PICK_WORKSPACE_FOLDER_COMMAND_ID, [options]);\n\t\t\t\tif (!workspace) {\n\t\t\t\t\t// Don't create the instance if the workspace picker was canceled\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tcwd = workspace.uri;\n\t\t\t}\n\n\t\t\tif (options) {\n\t\t\t\toptions.cwd = cwd;\n\t\t\t\tinstance = await c.service.createTerminal(options);\n\t\t\t} else {\n\t\t\t\tinstance = await c.service.showProfileQuickPick('createInstance', cwd);\n\t\t\t}\n\n\t\t\tif (instance) {\n\t\t\t\tc.service.setActiveInstance(instance);\n\t\t\t\tawait focusActiveTerminal(instance, c);\n\t\t\t}\n\t\t}\n\t});\n\treturn newWithProfileAction;\n}\n\nfunction getResourceOrActiveInstance(c: ITerminalServicesCollection, resource: unknown): ITerminalInstance | undefined {\n\treturn c.service.getInstanceFromResource(toOptionalUri(resource)) || c.service.activeInstance;\n}\n\nasync function pickTerminalCwd(accessor: ServicesAccessor, cancel?: CancellationToken): Promise<WorkspaceFolderCwdPair | undefined> {\n\tconst quickInputService = accessor.get(IQuickInputService);\n\tconst labelService = accessor.get(ILabelService);\n\tconst contextService = accessor.get(IWorkspaceContextService);\n\tconst modelService = accessor.get(IModelService);\n\tconst languageService = accessor.get(ILanguageService);\n\tconst configurationService = accessor.get(IConfigurationService);\n\tconst configurationResolverService = accessor.get(IConfigurationResolverService);\n\n\tconst folders = contextService.getWorkspace().folders;\n\tif (!folders.length) {\n\t\treturn;\n\t}\n\n\tconst folderCwdPairs = await Promise.all(folders.map(e => resolveWorkspaceFolderCwd(e, configurationService, configurationResolverService)));\n\tconst shrinkedPairs = shrinkWorkspaceFolderCwdPairs(folderCwdPairs);\n\n\tif (shrinkedPairs.length === 1) {\n\t\treturn shrinkedPairs[0];\n\t}\n\n\ttype Item = IQuickPickItem & { pair: WorkspaceFolderCwdPair };\n\tconst folderPicks: Item[] = shrinkedPairs.map(pair => {\n\t\tconst label = pair.folder.name;\n\t\tconst description = pair.isOverridden\n\t\t\t? localize('workbench.action.terminal.overriddenCwdDescription', \"(Overriden) {0}\", labelService.getUriLabel(pair.cwd, { relative: !pair.isAbsolute }))\n\t\t\t: labelService.getUriLabel(dirname(pair.cwd), { relative: true });\n\n\t\treturn {\n\t\t\tlabel,\n\t\t\tdescription: description !== label ? description : undefined,\n\t\t\tpair: pair,\n\t\t\ticonClasses: getIconClasses(modelService, languageService, pair.cwd, FileKind.ROOT_FOLDER)\n\t\t};\n\t});\n\tconst options: IPickOptions<Item> = {\n\t\tplaceHolder: localize('workbench.action.terminal.newWorkspacePlaceholder', \"Select current working directory for new terminal\"),\n\t\tmatchOnDescription: true,\n\t\tcanPickMany: false,\n\t};\n\n\tconst token: CancellationToken = cancel || CancellationToken.None;\n\tconst pick = await quickInputService.pick<Item>(folderPicks, options, token);\n\treturn pick?.pair;\n}\n\nasync function resolveWorkspaceFolderCwd(folder: IWorkspaceFolder, configurationService: IConfigurationService, configurationResolverService: IConfigurationResolverService): Promise<WorkspaceFolderCwdPair> {\n\tconst cwdConfig = configurationService.getValue(TerminalSettingId.Cwd, { resource: folder.uri });\n\tif (!isString(cwdConfig) || cwdConfig.length === 0) {\n\t\treturn { folder, cwd: folder.uri, isAbsolute: false, isOverridden: false };\n\t}\n\n\tconst resolvedCwdConfig = await configurationResolverService.resolveAsync(folder, cwdConfig);\n\treturn isAbsolute(resolvedCwdConfig) || resolvedCwdConfig.startsWith(ConfigurationResolverExpression.VARIABLE_LHS)\n\t\t? { folder, isAbsolute: true, isOverridden: true, cwd: URI.from({ ...folder.uri, path: resolvedCwdConfig }) }\n\t\t: { folder, isAbsolute: false, isOverridden: true, cwd: URI.joinPath(folder.uri, resolvedCwdConfig) };\n}\n\n/**\n * Drops repeated CWDs, if any, by keeping the one which best matches the workspace folder. It also preserves the original order.\n */\nexport function shrinkWorkspaceFolderCwdPairs(pairs: WorkspaceFolderCwdPair[]): WorkspaceFolderCwdPair[] {\n\tconst map = new Map<string, WorkspaceFolderCwdPair>();\n\tfor (const pair of pairs) {\n\t\tconst key = pair.cwd.toString();\n\t\tconst value = map.get(key);\n\t\tif (!value || key === pair.folder.uri.toString()) {\n\t\t\tmap.set(key, pair);\n\t\t}\n\t}\n\tconst selectedPairs = new Set(map.values());\n\tconst selectedPairsInOrder = pairs.filter(x => selectedPairs.has(x));\n\treturn selectedPairsInOrder;\n}\n\nasync function focusActiveTerminal(instance: ITerminalInstance | undefined, c: ITerminalServicesCollection): Promise<void> {\n\t// TODO@meganrogge: Is this the right logic for when instance is undefined?\n\tif (instance?.target === TerminalLocation.Editor) {\n\t\tawait c.editorService.revealActiveEditor();\n\t\tawait instance.focusWhenReady(true);\n\t} else {\n\t\tawait c.groupService.showPanel(true);\n\t}\n}\n\nasync function renameWithQuickPick(c: ITerminalServicesCollection, accessor: ServicesAccessor, resource?: unknown) {\n\tlet instance: ITerminalInstance | undefined = resource as ITerminalInstance;\n\t// Check if the 'instance' does not exist or if 'instance.rename' is not defined\n\tif (!instance || !instance?.rename) {\n\t\t// If not, obtain the resource instance using 'getResourceOrActiveInstance'\n\t\tinstance = getResourceOrActiveInstance(c, resource);\n\t}\n\n\tif (instance) {\n\t\tconst title = await accessor.get(IQuickInputService).input({\n\t\t\tvalue: instance.title,\n\t\t\tprompt: localize('workbench.action.terminal.rename.prompt', \"Enter terminal name\"),\n\t\t});\n\t\tif (title) {\n\t\t\tinstance.rename(title);\n\t\t}\n\t}\n}\n\nfunction toOptionalUri(obj: unknown): URI | undefined {\n\treturn URI.isUri(obj) ? obj : undefined;\n}\n\nfunction toOptionalString(obj: unknown): string | undefined {\n\treturn isString(obj) ? obj : undefined;\n}\n"]}