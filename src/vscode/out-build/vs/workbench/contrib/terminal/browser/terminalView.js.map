{"version":3,"sources":["vs/workbench/contrib/terminal/browser/terminalView.ts"],"names":[],"mappings":"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","file":"terminalView.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as nls from '../../../../nls.js';\nimport * as dom from '../../../../base/browser/dom.js';\nimport * as domStylesheetsJs from '../../../../base/browser/domStylesheets.js';\nimport * as cssJs from '../../../../base/browser/cssValue.js';\nimport { Action, IAction } from '../../../../base/common/actions.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IContextMenuService, IContextViewService } from '../../../../platform/contextview/browser/contextView.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IThemeService, Themable } from '../../../../platform/theme/common/themeService.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { switchTerminalShowTabsTitle } from './terminalActions.js';\nimport { INotificationService, IPromptChoice, Severity } from '../../../../platform/notification/common/notification.js';\nimport { ICreateTerminalOptions, ITerminalConfigurationService, ITerminalGroupService, ITerminalInstance, ITerminalService, TerminalConnectionState, TerminalDataTransfers } from './terminal.js';\nimport { ViewPane, IViewPaneOptions } from '../../../browser/parts/views/viewPane.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { IContextKey, IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IViewDescriptorService } from '../../../common/views.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { IMenu, IMenuService, MenuId, MenuItemAction } from '../../../../platform/actions/common/actions.js';\nimport { ITerminalProfileResolverService, ITerminalProfileService, TerminalCommandId } from '../common/terminal.js';\nimport { TerminalSettingId, ITerminalProfile, TerminalLocation } from '../../../../platform/terminal/common/terminal.js';\nimport { ActionViewItem, IBaseActionViewItemOptions, SelectActionViewItem } from '../../../../base/browser/ui/actionbar/actionViewItems.js';\nimport { asCssVariable, selectBorder } from '../../../../platform/theme/common/colorRegistry.js';\nimport { ISelectOptionItem, SeparatorSelectOption } from '../../../../base/browser/ui/selectBox/selectBox.js';\nimport { IActionViewItem } from '../../../../base/browser/ui/actionbar/actionbar.js';\nimport { TerminalTabbedView } from './terminalTabbedView.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { renderLabelWithIcons } from '../../../../base/browser/ui/iconLabel/iconLabels.js';\nimport { getColorForSeverity } from './terminalStatusList.js';\nimport { getFlatContextMenuActions, MenuEntryActionViewItem } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { DropdownWithPrimaryActionViewItem } from '../../../../platform/actions/browser/dropdownWithPrimaryActionViewItem.js';\nimport { DisposableMap, DisposableStore, dispose, IDisposable, MutableDisposable, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { isDark } from '../../../../platform/theme/common/theme.js';\nimport { getColorClass, getUriClasses } from './terminalIcon.js';\nimport { getTerminalActionBarArgs } from './terminalMenus.js';\nimport { TerminalContextKeys } from '../common/terminalContextKey.js';\nimport { getInstanceHoverInfo } from './terminalTooltip.js';\nimport { ServicesAccessor } from '../../../../editor/browser/editorExtensions.js';\nimport { TerminalCapability } from '../../../../platform/terminal/common/capabilities/capabilities.js';\nimport { defaultSelectBoxStyles } from '../../../../platform/theme/browser/defaultStyles.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { IHoverDelegate, IHoverDelegateOptions } from '../../../../base/browser/ui/hover/hoverDelegate.js';\nimport { IHoverService } from '../../../../platform/hover/browser/hover.js';\nimport { IAccessibilityService } from '../../../../platform/accessibility/common/accessibility.js';\nimport { InstanceContext, TerminalContextActionRunner } from './terminalContextMenu.js';\nimport { MicrotaskDelay } from '../../../../base/common/symbols.js';\nimport { IStorageService } from '../../../../platform/storage/common/storage.js';\nimport { hasNativeContextMenu } from '../../../../platform/window/common/window.js';\nimport { hasKey } from '../../../../base/common/types.js';\n\nexport class TerminalViewPane extends ViewPane {\n\tprivate _parentDomElement: HTMLElement | undefined;\n\tprivate _terminalTabbedView?: TerminalTabbedView;\n\tget terminalTabbedView(): TerminalTabbedView | undefined { return this._terminalTabbedView; }\n\tprivate _isInitialized: boolean = false;\n\t/**\n\t * Tracks an active promise of terminal creation requested by this component. This helps prevent\n\t * double creation for example when toggling a terminal's visibility and focusing it.\n\t */\n\tprivate _isTerminalBeingCreated: boolean = false;\n\tprivate readonly _newDropdown: MutableDisposable<DropdownWithPrimaryActionViewItem> = this._register(new MutableDisposable());\n\tprivate readonly _dropdownMenu: IMenu;\n\tprivate readonly _singleTabMenu: IMenu;\n\tprivate _viewShowing: IContextKey<boolean>;\n\tprivate readonly _disposableStore = this._register(new DisposableStore());\n\tprivate readonly _actionDisposables: DisposableMap<TerminalCommandId> = this._register(new DisposableMap());\n\n\tconstructor(\n\t\toptions: IViewPaneOptions,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@IContextKeyService private readonly _contextKeyService: IContextKeyService,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService,\n\t\t@ITerminalService private readonly _terminalService: ITerminalService,\n\t\t@ITerminalConfigurationService private readonly _terminalConfigurationService: ITerminalConfigurationService,\n\t\t@ITerminalGroupService private readonly _terminalGroupService: ITerminalGroupService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IHoverService hoverService: IHoverService,\n\t\t@INotificationService private readonly _notificationService: INotificationService,\n\t\t@IKeybindingService private readonly _keybindingService: IKeybindingService,\n\t\t@IOpenerService openerService: IOpenerService,\n\t\t@IMenuService private readonly _menuService: IMenuService,\n\t\t@ITerminalProfileService private readonly _terminalProfileService: ITerminalProfileService,\n\t\t@ITerminalProfileResolverService private readonly _terminalProfileResolverService: ITerminalProfileResolverService,\n\t) {\n\t\tsuper(options, keybindingService, contextMenuService, _configurationService, _contextKeyService, viewDescriptorService, _instantiationService, openerService, themeService, hoverService);\n\t\tthis._register(this._terminalService.onDidRegisterProcessSupport(() => {\n\t\t\tthis._onDidChangeViewWelcomeState.fire();\n\t\t}));\n\n\t\tthis._register(this._terminalService.onDidChangeInstances(() => {\n\t\t\t// If the first terminal is opened, hide the welcome view\n\t\t\t// and if the last one is closed, show it again\n\t\t\tif (this._hasWelcomeScreen() && this._terminalGroupService.instances.length <= 1) {\n\t\t\t\tthis._onDidChangeViewWelcomeState.fire();\n\t\t\t}\n\t\t\tif (!this._parentDomElement) { return; }\n\t\t\t// If we do not have the tab view yet, create it now.\n\t\t\tif (!this._terminalTabbedView) {\n\t\t\t\tthis._createTabsView();\n\t\t\t}\n\t\t\tthis.layoutBody(this._parentDomElement.offsetHeight, this._parentDomElement.offsetWidth);\n\t\t}));\n\t\tthis._dropdownMenu = this._register(this._menuService.createMenu(MenuId.TerminalNewDropdownContext, this._contextKeyService));\n\t\tthis._singleTabMenu = this._register(this._menuService.createMenu(MenuId.TerminalTabContext, this._contextKeyService));\n\t\tthis._register(this._terminalProfileService.onDidChangeAvailableProfiles(profiles => this._updateTabActionBar(profiles)));\n\t\tthis._viewShowing = TerminalContextKeys.viewShowing.bindTo(this._contextKeyService);\n\t\tthis._register(this.onDidChangeBodyVisibility(e => {\n\t\t\tif (e) {\n\t\t\t\tthis._terminalTabbedView?.rerenderTabs();\n\t\t\t}\n\t\t}));\n\t\tthis._register(this._configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (this._parentDomElement && (e.affectsConfiguration(TerminalSettingId.ShellIntegrationDecorationsEnabled) || e.affectsConfiguration(TerminalSettingId.ShellIntegrationEnabled))) {\n\t\t\t\tthis._updateForShellIntegration(this._parentDomElement);\n\t\t\t}\n\t\t}));\n\t\tconst shellIntegrationDisposable = this._register(new MutableDisposable());\n\t\tshellIntegrationDisposable.value = this._terminalService.onAnyInstanceAddedCapabilityType(c => {\n\t\t\tif (c === TerminalCapability.CommandDetection && this._gutterDecorationsEnabled()) {\n\t\t\t\tthis._parentDomElement?.classList.add('shell-integration');\n\t\t\t\tshellIntegrationDisposable.clear();\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate _updateForShellIntegration(container: HTMLElement) {\n\t\tcontainer.classList.toggle('shell-integration', this._gutterDecorationsEnabled());\n\t}\n\n\tprivate _gutterDecorationsEnabled(): boolean {\n\t\tconst decorationsEnabled = this._configurationService.getValue(TerminalSettingId.ShellIntegrationDecorationsEnabled);\n\t\treturn (decorationsEnabled === 'both' || decorationsEnabled === 'gutter') && this._configurationService.getValue(TerminalSettingId.ShellIntegrationEnabled);\n\t}\n\n\tprivate _initializeTerminal(checkRestoredTerminals: boolean) {\n\t\tif (this.isBodyVisible() && this._terminalService.isProcessSupportRegistered && this._terminalService.connectionState === TerminalConnectionState.Connected) {\n\t\t\tconst wasInitialized = this._isInitialized;\n\t\t\tthis._isInitialized = true;\n\n\t\t\tlet hideOnStartup: 'never' | 'whenEmpty' | 'always' = 'never';\n\t\t\tif (!wasInitialized) {\n\t\t\t\thideOnStartup = this._configurationService.getValue(TerminalSettingId.HideOnStartup);\n\t\t\t\tif (hideOnStartup === 'always') {\n\t\t\t\t\tthis._terminalGroupService.hidePanel();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet shouldCreate = this._terminalGroupService.groups.length === 0;\n\t\t\t// When triggered just after reconnection, also check there are no groups that could be\n\t\t\t// getting restored currently\n\t\t\tif (checkRestoredTerminals) {\n\t\t\t\tshouldCreate &&= this._terminalService.restoredGroupCount === 0;\n\t\t\t}\n\t\t\tif (!shouldCreate) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!wasInitialized) {\n\t\t\t\tswitch (hideOnStartup) {\n\t\t\t\t\tcase 'never':\n\t\t\t\t\t\tthis._isTerminalBeingCreated = true;\n\t\t\t\t\t\tthis._terminalService.createTerminal({ location: TerminalLocation.Panel }).finally(() => this._isTerminalBeingCreated = false);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'whenEmpty':\n\t\t\t\t\t\tif (this._terminalService.restoredGroupCount === 0) {\n\t\t\t\t\t\t\tthis._terminalGroupService.hidePanel();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!this._isTerminalBeingCreated) {\n\t\t\t\tthis._isTerminalBeingCreated = true;\n\t\t\t\tthis._terminalService.createTerminal({ location: TerminalLocation.Panel }).finally(() => this._isTerminalBeingCreated = false);\n\t\t\t}\n\t\t}\n\t}\n\n\t// eslint-disable-next-line @typescript-eslint/naming-convention\n\tprotected override renderBody(container: HTMLElement): void {\n\t\tsuper.renderBody(container);\n\n\t\tif (!this._parentDomElement) {\n\t\t\tthis._updateForShellIntegration(container);\n\t\t}\n\t\tthis._parentDomElement = container;\n\t\tthis._parentDomElement.classList.add('integrated-terminal');\n\t\tdomStylesheetsJs.createStyleSheet(this._parentDomElement);\n\t\tthis._instantiationService.createInstance(TerminalThemeIconStyle, this._parentDomElement);\n\n\t\tif (!this.shouldShowWelcome()) {\n\t\t\tthis._createTabsView();\n\t\t}\n\n\t\tthis._register(this.configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration(TerminalSettingId.FontFamily) || e.affectsConfiguration('editor.fontFamily')) {\n\t\t\t\tif (!this._terminalConfigurationService.configFontIsMonospace()) {\n\t\t\t\t\tconst choices: IPromptChoice[] = [{\n\t\t\t\t\t\tlabel: nls.localize('terminal.useMonospace', \"Use 'monospace'\"),\n\t\t\t\t\t\trun: () => this.configurationService.updateValue(TerminalSettingId.FontFamily, 'monospace'),\n\t\t\t\t\t}];\n\t\t\t\t\tthis._notificationService.prompt(Severity.Warning, nls.localize('terminal.monospaceOnly', \"The terminal only supports monospace fonts. Be sure to restart VS Code if this is a newly installed font.\"), choices);\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t\tthis._register(this.onDidChangeBodyVisibility(async visible => {\n\t\t\tthis._viewShowing.set(visible);\n\t\t\tif (visible) {\n\t\t\t\tif (this._hasWelcomeScreen()) {\n\t\t\t\t\tthis._onDidChangeViewWelcomeState.fire();\n\t\t\t\t}\n\t\t\t\tthis._initializeTerminal(false);\n\t\t\t\t// we don't know here whether or not it should be focused, so\n\t\t\t\t// defer focusing the panel to the focus() call\n\t\t\t\t// to prevent overriding preserveFocus for extensions\n\t\t\t\tthis._terminalGroupService.showPanel(false);\n\t\t\t} else {\n\t\t\t\tfor (const instance of this._terminalGroupService.instances) {\n\t\t\t\t\tinstance.resetFocusContextKey();\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._terminalGroupService.updateVisibility();\n\t\t}));\n\t\tthis._register(this._terminalService.onDidChangeConnectionState(() => this._initializeTerminal(true)));\n\t\tthis.layoutBody(this._parentDomElement.offsetHeight, this._parentDomElement.offsetWidth);\n\t}\n\n\tprivate _createTabsView(): void {\n\t\tif (!this._parentDomElement) {\n\t\t\treturn;\n\t\t}\n\t\tthis._terminalTabbedView = this._register(this.instantiationService.createInstance(TerminalTabbedView, this._parentDomElement));\n\t}\n\n\t// eslint-disable-next-line @typescript-eslint/naming-convention\n\tprotected override layoutBody(height: number, width: number): void {\n\t\tsuper.layoutBody(height, width);\n\t\tthis._terminalTabbedView?.layout(width, height);\n\t}\n\n\toverride createActionViewItem(action: Action, options: IBaseActionViewItemOptions): IActionViewItem | undefined {\n\t\tswitch (action.id) {\n\t\t\tcase TerminalCommandId.Split: {\n\t\t\t\t// Split needs to be special cased to force splitting within the panel, not the editor\n\t\t\t\tconst that = this;\n\t\t\t\tconst store = new DisposableStore();\n\t\t\t\tconst panelOnlySplitAction = store.add(new class extends Action {\n\t\t\t\t\tconstructor() {\n\t\t\t\t\t\tsuper(action.id, action.label, action.class, action.enabled);\n\t\t\t\t\t\tthis.checked = action.checked;\n\t\t\t\t\t\tthis.tooltip = action.tooltip;\n\t\t\t\t\t}\n\t\t\t\t\toverride async run() {\n\t\t\t\t\t\tconst instance = that._terminalGroupService.activeInstance;\n\t\t\t\t\t\tif (instance) {\n\t\t\t\t\t\t\tconst newInstance = await that._terminalService.createTerminal({ location: { parentTerminal: instance } });\n\t\t\t\t\t\t\treturn newInstance?.focusWhenReady();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tconst item = store.add(new ActionViewItem(action, panelOnlySplitAction, { ...options, icon: true, label: false, keybinding: this._getKeybindingLabel(action) }));\n\t\t\t\tthis._actionDisposables.set(action.id, store);\n\t\t\t\treturn item;\n\t\t\t}\n\t\t\tcase TerminalCommandId.SwitchTerminal: {\n\t\t\t\tconst item = this._instantiationService.createInstance(SwitchTerminalActionViewItem, action);\n\t\t\t\tthis._actionDisposables.set(action.id, item);\n\t\t\t\treturn item;\n\t\t\t}\n\t\t\tcase TerminalCommandId.Focus: {\n\t\t\t\tif (action instanceof MenuItemAction) {\n\t\t\t\t\tconst actions = getFlatContextMenuActions(this._singleTabMenu.getActions({ shouldForwardArgs: true }));\n\t\t\t\t\tconst item = this._instantiationService.createInstance(SingleTerminalTabActionViewItem, action, actions);\n\t\t\t\t\tthis._actionDisposables.set(action.id, item);\n\t\t\t\t\treturn item;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase TerminalCommandId.New: {\n\t\t\t\tif (action instanceof MenuItemAction) {\n\t\t\t\t\tthis._disposableStore.clear();\n\t\t\t\t\tconst actions = getTerminalActionBarArgs(TerminalLocation.Panel, this._terminalProfileService.availableProfiles, this._getDefaultProfileName(), this._terminalProfileService.contributedProfiles, this._terminalService, this._dropdownMenu, this._disposableStore);\n\t\t\t\t\tthis._newDropdown.value = this._instantiationService.createInstance(DropdownWithPrimaryActionViewItem, action, actions.dropdownAction, actions.dropdownMenuActions, actions.className, {\n\t\t\t\t\t\thoverDelegate: options.hoverDelegate,\n\t\t\t\t\t\tgetKeyBinding: (action: IAction) => this._keybindingService.lookupKeybinding(action.id, this._contextKeyService)\n\t\t\t\t\t});\n\t\t\t\t\tthis._newDropdown.value?.update(actions.dropdownAction, actions.dropdownMenuActions);\n\t\t\t\t\treturn this._newDropdown.value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn super.createActionViewItem(action, options);\n\t}\n\n\tprivate _getDefaultProfileName(): string {\n\t\tlet defaultProfileName;\n\t\ttry {\n\t\t\tdefaultProfileName = this._terminalProfileService.getDefaultProfileName();\n\t\t} catch (e) {\n\t\t\tdefaultProfileName = this._terminalProfileResolverService.defaultProfileName;\n\t\t}\n\t\treturn defaultProfileName!;\n\t}\n\n\tprivate _getKeybindingLabel(action: IAction): string | undefined {\n\t\treturn this._keybindingService.lookupKeybinding(action.id)?.getLabel() ?? undefined;\n\t}\n\n\tprivate _updateTabActionBar(profiles: ITerminalProfile[]): void {\n\t\tthis._disposableStore.clear();\n\t\tconst actions = getTerminalActionBarArgs(TerminalLocation.Panel, profiles, this._getDefaultProfileName(), this._terminalProfileService.contributedProfiles, this._terminalService, this._dropdownMenu, this._disposableStore);\n\t\tthis._newDropdown.value?.update(actions.dropdownAction, actions.dropdownMenuActions);\n\t}\n\n\toverride focus() {\n\t\tsuper.focus();\n\t\tif (this._terminalService.connectionState === TerminalConnectionState.Connected) {\n\t\t\tif (this._terminalGroupService.instances.length === 0 && !this._isTerminalBeingCreated) {\n\t\t\t\tthis._isTerminalBeingCreated = true;\n\t\t\t\tthis._terminalService.createTerminal({ location: TerminalLocation.Panel }).finally(() => this._isTerminalBeingCreated = false);\n\t\t\t}\n\t\t\tthis._terminalGroupService.showPanel(true);\n\t\t\treturn;\n\t\t}\n\n\t\t// If the terminal is waiting to reconnect to remote terminals, then there is no TerminalInstance yet that can\n\t\t// be focused. So wait for connection to finish, then focus.\n\t\tconst previousActiveElement = this.element.ownerDocument.activeElement;\n\t\tif (previousActiveElement) {\n\t\t\t// TODO: Improve lifecycle management this event should be disposed after first fire\n\t\t\tthis._register(this._terminalService.onDidChangeConnectionState(() => {\n\t\t\t\t// Only focus the terminal if the activeElement has not changed since focus() was called\n\t\t\t\t// TODO: Hack\n\t\t\t\tif (previousActiveElement && dom.isActiveElement(previousActiveElement)) {\n\t\t\t\t\tthis._terminalGroupService.showPanel(true);\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t}\n\n\tprivate _hasWelcomeScreen(): boolean {\n\t\treturn !this._terminalService.isProcessSupportRegistered;\n\t}\n\n\toverride shouldShowWelcome(): boolean {\n\t\treturn this._hasWelcomeScreen() && this._terminalService.instances.length === 0;\n\t}\n}\n\nclass SwitchTerminalActionViewItem extends SelectActionViewItem {\n\tconstructor(\n\t\taction: IAction,\n\t\t@ITerminalService private readonly _terminalService: ITerminalService,\n\t\t@ITerminalGroupService private readonly _terminalGroupService: ITerminalGroupService,\n\t\t@IContextViewService contextViewService: IContextViewService,\n\t\t@ITerminalProfileService terminalProfileService: ITerminalProfileService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t) {\n\t\tsuper(null, action, getTerminalSelectOpenItems(_terminalService, _terminalGroupService), _terminalGroupService.activeGroupIndex, contextViewService, defaultSelectBoxStyles, { ariaLabel: nls.localize('terminals', 'Open Terminals.'), optionsAsChildren: true, useCustomDrawn: !hasNativeContextMenu(configurationService) });\n\t\tthis._register(_terminalService.onDidChangeInstances(() => this._updateItems(), this));\n\t\tthis._register(_terminalService.onDidChangeActiveGroup(() => this._updateItems(), this));\n\t\tthis._register(_terminalService.onDidChangeActiveInstance(() => this._updateItems(), this));\n\t\tthis._register(_terminalService.onAnyInstanceTitleChange(() => this._updateItems(), this));\n\t\tthis._register(_terminalGroupService.onDidChangeGroups(() => this._updateItems(), this));\n\t\tthis._register(_terminalService.onDidChangeConnectionState(() => this._updateItems(), this));\n\t\tthis._register(terminalProfileService.onDidChangeAvailableProfiles(() => this._updateItems(), this));\n\t\tthis._register(_terminalService.onAnyInstancePrimaryStatusChange(() => this._updateItems(), this));\n\t}\n\n\toverride render(container: HTMLElement): void {\n\t\tsuper.render(container);\n\t\tcontainer.classList.add('switch-terminal');\n\t\tcontainer.style.borderColor = asCssVariable(selectBorder);\n\t}\n\n\tprivate _updateItems(): void {\n\t\tconst options = getTerminalSelectOpenItems(this._terminalService, this._terminalGroupService);\n\t\tthis.setOptions(options, this._terminalGroupService.activeGroupIndex);\n\t}\n}\n\nfunction getTerminalSelectOpenItems(terminalService: ITerminalService, terminalGroupService: ITerminalGroupService): ISelectOptionItem[] {\n\tlet items: ISelectOptionItem[];\n\tif (terminalService.connectionState === TerminalConnectionState.Connected) {\n\t\titems = terminalGroupService.getGroupLabels().map(label => {\n\t\t\treturn { text: label };\n\t\t});\n\t} else {\n\t\titems = [{ text: nls.localize('terminalConnectingLabel', \"Starting...\") }];\n\t}\n\titems.push(SeparatorSelectOption);\n\titems.push({ text: switchTerminalShowTabsTitle });\n\treturn items;\n}\n\nclass SingleTerminalTabActionViewItem extends MenuEntryActionViewItem {\n\tprivate _color: string | undefined;\n\tprivate _altCommand: string | undefined;\n\tprivate _class: string | undefined;\n\tprivate readonly _elementDisposables: IDisposable[] = [];\n\n\tconstructor(\n\t\taction: MenuItemAction,\n\t\tprivate readonly _actions: IAction[],\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@INotificationService notificationService: INotificationService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@ITerminalService private readonly _terminalService: ITerminalService,\n\t\t@ITerminalConfigurationService private readonly _terminaConfigurationService: ITerminalConfigurationService,\n\t\t@ITerminalGroupService private readonly _terminalGroupService: ITerminalGroupService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@ICommandService private readonly _commandService: ICommandService,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService,\n\t\t@IAccessibilityService _accessibilityService: IAccessibilityService\n\t) {\n\t\tsuper(action, {\n\t\t\tdraggable: true,\n\t\t\thoverDelegate: _instantiationService.createInstance(SingleTabHoverDelegate)\n\t\t}, keybindingService, notificationService, contextKeyService, themeService, contextMenuService, _accessibilityService);\n\n\t\t// Register listeners to update the tab\n\t\tthis._register(Event.debounce<ITerminalInstance | undefined, Set<ITerminalInstance>>(Event.any(\n\t\t\tthis._terminalService.onAnyInstancePrimaryStatusChange,\n\t\t\tthis._terminalGroupService.onDidChangeActiveInstance,\n\t\t\tEvent.map(this._terminalService.onAnyInstanceIconChange, e => e.instance),\n\t\t\tthis._terminalService.onAnyInstanceTitleChange,\n\t\t\tthis._terminalService.onDidChangeInstanceCapability,\n\t\t), (last, e) => {\n\t\t\tif (!last) {\n\t\t\t\tlast = new Set();\n\t\t\t}\n\t\t\tif (e) {\n\t\t\t\tlast.add(e);\n\t\t\t}\n\t\t\treturn last;\n\t\t}, MicrotaskDelay)(merged => {\n\t\t\tfor (const e of merged) {\n\t\t\t\tthis.updateLabel(e);\n\t\t\t}\n\t\t}));\n\n\t\t// Clean up on dispose\n\t\tthis._register(toDisposable(() => dispose(this._elementDisposables)));\n\t}\n\n\toverride async onClick(event: MouseEvent): Promise<void> {\n\t\tthis._terminalGroupService.lastAccessedMenu = 'inline-tab';\n\t\tif (event.altKey && this._menuItemAction.alt) {\n\t\t\tthis._commandService.executeCommand(this._menuItemAction.alt.id, { location: TerminalLocation.Panel } satisfies ICreateTerminalOptions);\n\t\t} else {\n\t\t\tthis._openContextMenu();\n\t\t}\n\t}\n\n\t// eslint-disable-next-line @typescript-eslint/naming-convention\n\tprotected override updateLabel(e?: ITerminalInstance): void {\n\t\t// Only update if it's the active instance\n\t\tif (e && e !== this._terminalGroupService.activeInstance) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._elementDisposables.length === 0 && this.element && this.label) {\n\t\t\t// Right click opens context menu\n\t\t\tthis._elementDisposables.push(dom.addDisposableListener(this.element, dom.EventType.CONTEXT_MENU, e => {\n\t\t\t\tif (e.button === 2) {\n\t\t\t\t\tthis._openContextMenu();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t}));\n\t\t\t// Middle click kills\n\t\t\tthis._elementDisposables.push(dom.addDisposableListener(this.element, dom.EventType.AUXCLICK, e => {\n\t\t\t\tif (e.button === 1) {\n\t\t\t\t\tconst instance = this._terminalGroupService.activeInstance;\n\t\t\t\t\tif (instance) {\n\t\t\t\t\t\tthis._terminalService.safeDisposeTerminal(instance);\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t}));\n\t\t\t// Drag and drop\n\t\t\tthis._elementDisposables.push(dom.addDisposableListener(this.element, dom.EventType.DRAG_START, e => {\n\t\t\t\tconst instance = this._terminalGroupService.activeInstance;\n\t\t\t\tif (e.dataTransfer && instance) {\n\t\t\t\t\te.dataTransfer.setData(TerminalDataTransfers.Terminals, JSON.stringify([instance.resource.toString()]));\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t\tif (this.label) {\n\t\t\tconst label = this.label;\n\t\t\tconst instance = this._terminalGroupService.activeInstance;\n\t\t\tif (!instance) {\n\t\t\t\tdom.reset(label, '');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlabel.classList.add('single-terminal-tab');\n\t\t\tlet colorStyle = '';\n\t\t\tconst primaryStatus = instance.statusList.primary;\n\t\t\tif (primaryStatus) {\n\t\t\t\tconst colorKey = getColorForSeverity(primaryStatus.severity);\n\t\t\t\tthis._themeService.getColorTheme();\n\t\t\t\tconst foundColor = this._themeService.getColorTheme().getColor(colorKey);\n\t\t\t\tif (foundColor) {\n\t\t\t\t\tcolorStyle = foundColor.toString();\n\t\t\t\t}\n\t\t\t}\n\t\t\tlabel.style.color = colorStyle;\n\t\t\tdom.reset(label, ...renderLabelWithIcons(this._instantiationService.invokeFunction(getSingleTabLabel, instance, this._terminaConfigurationService.config.tabs.separator, ThemeIcon.isThemeIcon(this._commandAction.item.icon) ? this._commandAction.item.icon : undefined)));\n\n\t\t\tif (this._altCommand) {\n\t\t\t\tlabel.classList.remove(this._altCommand);\n\t\t\t\tthis._altCommand = undefined;\n\t\t\t}\n\t\t\tif (this._color) {\n\t\t\t\tlabel.classList.remove(this._color);\n\t\t\t\tthis._color = undefined;\n\t\t\t}\n\t\t\tif (this._class) {\n\t\t\t\tlabel.classList.remove(this._class);\n\t\t\t\tlabel.classList.remove('terminal-uri-icon');\n\t\t\t\tthis._class = undefined;\n\t\t\t}\n\t\t\tconst colorClass = getColorClass(instance);\n\t\t\tif (colorClass) {\n\t\t\t\tthis._color = colorClass;\n\t\t\t\tlabel.classList.add(colorClass);\n\t\t\t}\n\t\t\tconst uriClasses = getUriClasses(instance, this._themeService.getColorTheme().type);\n\t\t\tif (uriClasses) {\n\t\t\t\tthis._class = uriClasses?.[0];\n\t\t\t\tlabel.classList.add(...uriClasses);\n\t\t\t}\n\t\t\tif (this._commandAction.item.icon) {\n\t\t\t\tthis._altCommand = `alt-command`;\n\t\t\t\tlabel.classList.add(this._altCommand);\n\t\t\t}\n\t\t\tthis.updateTooltip();\n\t\t}\n\t}\n\n\tprivate _openContextMenu() {\n\t\tconst actionRunner = new TerminalContextActionRunner();\n\t\tthis._contextMenuService.showContextMenu({\n\t\t\tactionRunner,\n\t\t\tgetAnchor: () => this.element!,\n\t\t\tgetActions: () => this._actions,\n\t\t\t// The context is always the active instance in the terminal view\n\t\t\tgetActionsContext: () => {\n\t\t\t\tconst instance = this._terminalGroupService.activeInstance;\n\t\t\t\treturn instance ? [new InstanceContext(instance)] : [];\n\t\t\t},\n\t\t\tonHide: () => actionRunner.dispose()\n\t\t});\n\t}\n}\n\nfunction getSingleTabLabel(accessor: ServicesAccessor, instance: ITerminalInstance | undefined, separator: string, icon?: ThemeIcon) {\n\t// Don't even show the icon if there is no title as the icon would shift around when the title\n\t// is added\n\tif (!instance || !instance.title) {\n\t\treturn '';\n\t}\n\tconst iconId = ThemeIcon.isThemeIcon(instance.icon) ? instance.icon.id : accessor.get(ITerminalProfileResolverService).getDefaultIcon().id;\n\tconst label = `$(${icon?.id || iconId}) ${getSingleTabTitle(instance, separator)}`;\n\n\tconst primaryStatus = instance.statusList.primary;\n\tif (!primaryStatus?.icon) {\n\t\treturn label;\n\t}\n\treturn `${label} $(${primaryStatus.icon.id})`;\n}\n\nfunction getSingleTabTitle(instance: ITerminalInstance | undefined, separator: string): string {\n\tif (!instance) {\n\t\treturn '';\n\t}\n\treturn !instance.description ? instance.title : `${instance.title} ${separator} ${instance.description}`;\n}\n\nclass TerminalThemeIconStyle extends Themable {\n\tprivate _styleElement: HTMLElement;\n\tconstructor(\n\t\tcontainer: HTMLElement,\n\t\t@IThemeService private readonly _themeService: IThemeService,\n\t\t@ITerminalService private readonly _terminalService: ITerminalService,\n\t\t@ITerminalGroupService private readonly _terminalGroupService: ITerminalGroupService\n\t) {\n\t\tsuper(_themeService);\n\t\tthis._registerListeners();\n\t\tthis._styleElement = domStylesheetsJs.createStyleSheet(container);\n\t\tthis._register(toDisposable(() => this._styleElement.remove()));\n\t\tthis.updateStyles();\n\t}\n\n\tprivate _registerListeners(): void {\n\t\tthis._register(this._terminalService.onAnyInstanceIconChange(() => this.updateStyles()));\n\t\tthis._register(this._terminalService.onDidChangeInstances(() => this.updateStyles()));\n\t\tthis._register(this._terminalGroupService.onDidChangeGroups(() => this.updateStyles()));\n\t}\n\n\toverride updateStyles(): void {\n\t\tsuper.updateStyles();\n\t\tconst colorTheme = this._themeService.getColorTheme();\n\n\t\t// TODO: add a rule collector to avoid duplication\n\t\tlet css = '';\n\n\t\t// Add icons\n\t\tfor (const instance of this._terminalService.instances) {\n\t\t\tconst icon = instance.icon;\n\t\t\tif (!icon) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tlet uri = undefined;\n\t\t\tif (icon instanceof URI) {\n\t\t\t\turi = icon;\n\t\t\t} else if (icon instanceof Object && hasKey(icon, { light: true, dark: true })) {\n\t\t\t\turi = isDark(colorTheme.type) ? icon.dark : icon.light;\n\t\t\t}\n\t\t\tconst iconClasses = getUriClasses(instance, colorTheme.type);\n\t\t\tif (uri instanceof URI && iconClasses && iconClasses.length > 1) {\n\t\t\t\tcss += (\n\t\t\t\t\t`.monaco-workbench .${iconClasses[0]} .monaco-highlighted-label .codicon, .monaco-action-bar .terminal-uri-icon.single-terminal-tab.action-label:not(.alt-command) .codicon` +\n\t\t\t\t\t`{background-image: ${cssJs.asCSSUrl(uri)};}`\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\t// Add colors\n\t\tfor (const instance of this._terminalService.instances) {\n\t\t\tconst colorClass = getColorClass(instance);\n\t\t\tif (!colorClass || !instance.color) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconst color = colorTheme.getColor(instance.color);\n\t\t\tif (color) {\n\t\t\t\t// exclude status icons (file-icon) and inline action icons (trashcan, horizontalSplit, rerunTask)\n\t\t\t\tcss += (\n\t\t\t\t\t`.monaco-workbench .${colorClass} .codicon:first-child:not(.codicon-split-horizontal):not(.codicon-trashcan):not(.file-icon):not(.codicon-rerun-task)` +\n\t\t\t\t\t`{ color: ${color} !important; }`\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tthis._styleElement.textContent = css;\n\t}\n}\n\nclass SingleTabHoverDelegate implements IHoverDelegate {\n\tprivate _lastHoverHideTime: number = 0;\n\n\treadonly placement = 'element';\n\n\tconstructor(\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t\t@IHoverService private readonly _hoverService: IHoverService,\n\t\t@IStorageService private readonly _storageService: IStorageService,\n\t\t@ITerminalGroupService private readonly _terminalGroupService: ITerminalGroupService,\n\t) {\n\t}\n\n\tget delay(): number {\n\t\treturn Date.now() - this._lastHoverHideTime < 200\n\t\t\t? 0  // show instantly when a hover was recently shown\n\t\t\t: this._configurationService.getValue<number>('workbench.hover.delay');\n\t}\n\n\tshowHover(options: IHoverDelegateOptions, focus?: boolean) {\n\t\tconst instance = this._terminalGroupService.activeInstance;\n\t\tif (!instance) {\n\t\t\treturn;\n\t\t}\n\t\tconst hoverInfo = getInstanceHoverInfo(instance, this._storageService);\n\t\treturn this._hoverService.showInstantHover({\n\t\t\t...options,\n\t\t\tcontent: hoverInfo.content,\n\t\t\tactions: hoverInfo.actions\n\t\t}, focus);\n\t}\n\n\tonDidHideHover() {\n\t\tthis._lastHoverHideTime = Date.now();\n\t}\n}\n"]}