{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/terminal/browser/terminalContextMenu.ts","vs/workbench/contrib/terminal/browser/terminalContextMenu.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,EAAE,kBAAkB,EAAE,MAAM,wCAAwC,CAAC;AAC5E,OAAO,EAAE,YAAY,EAAW,MAAM,oCAAoC,CAAC;AAC3E,OAAO,EAAE,OAAO,EAAE,MAAM,mCAAmC,CAAC;AAG5D,OAAO,EAAE,yBAAyB,EAAE,MAAM,iEAAiE,CAAC;AAM5G;;;GAGG;AACH,MAAM,OAAO,eAAe;IAG3B,YAAY,QAA2B;QACtC,8EAA8E;QAC9E,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,UAAU,CAAC;IACvC,CAAC;IAED,MAAM;QACL,OAAO;YACN,IAAI,uCAA8B;YAClC,UAAU,EAAE,IAAI,CAAC,UAAU;SAC3B,CAAC;IACH,CAAC;CACD;AAED,MAAM,OAAO,2BAA4B,SAAQ,YAAY;IAE5D,gEAAgE;IAC7C,KAAK,CAAC,SAAS,CAAC,MAAe,EAAE,OAAuC;QAC1F,IAAI,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,YAAY,eAAe,CAAC,EAAE,CAAC;YAChF,qCAAqC;YACrC,+BAA+B;YAC/B,MAAM,MAAM,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;YACxC,OAAO;QACR,CAAC;QACD,OAAO,KAAK,CAAC,SAAS,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;IACzC,CAAC;CACD;AAED,MAAM,UAAU,eAAe,CAAC,YAAoB,EAAE,KAAiB,EAAE,gBAA6D,EAAE,IAAW,EAAE,kBAAuC,EAAE,YAAwB;IACrN,MAAM,aAAa,GAAG,IAAI,kBAAkB,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;IAElE,MAAM,OAAO,GAAG,yBAAyB,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,iBAAiB,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;IAExF,IAAI,YAAY,EAAE,CAAC;QAClB,OAAO,CAAC,IAAI,CAAC,GAAG,YAAY,CAAC,CAAC;IAC/B,CAAC;IAED,MAAM,OAAO,GAAsB,gBAAgB,CAAC,CAAC,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAEtH,MAAM,YAAY,GAAG,IAAI,2BAA2B,EAAE,CAAC;IACvD,kBAAkB,CAAC,eAAe,CAAC;QAClC,YAAY;QACZ,SAAS,EAAE,GAAG,EAAE,CAAC,aAAa;QAC9B,UAAU,EAAE,GAAG,EAAE,CAAC,OAAO;QACzB,iBAAiB,EAAE,GAAG,EAAE,CAAC,OAAO;QAChC,MAAM,EAAE,GAAG,EAAE,CAAC,YAAY,CAAC,OAAO,EAAE;KACpC,CAAC,CAAC;AACJ,CAAC","file":"terminalContextMenu.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { StandardMouseEvent } from '../../../../base/browser/mouseEvent.js';\nimport { ActionRunner, IAction } from '../../../../base/common/actions.js';\nimport { asArray } from '../../../../base/common/arrays.js';\nimport { MarshalledId } from '../../../../base/common/marshallingIds.js';\nimport { SingleOrMany } from '../../../../base/common/types.js';\nimport { getFlatContextMenuActions } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { IMenu } from '../../../../platform/actions/common/actions.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { ITerminalInstance } from './terminal.js';\nimport { ISerializedTerminalInstanceContext } from '../common/terminal.js';\n\n/**\n * A context that is passed to actions as arguments to represent the terminal instance(s) being\n * acted upon.\n */\nexport class InstanceContext {\n\treadonly instanceId: number;\n\n\tconstructor(instance: ITerminalInstance) {\n\t\t// Only store the instance to avoid contexts holding on to disposed instances.\n\t\tthis.instanceId = instance.instanceId;\n\t}\n\n\ttoJSON(): ISerializedTerminalInstanceContext {\n\t\treturn {\n\t\t\t$mid: MarshalledId.TerminalContext,\n\t\t\tinstanceId: this.instanceId\n\t\t};\n\t}\n}\n\nexport class TerminalContextActionRunner extends ActionRunner {\n\n\t// eslint-disable-next-line @typescript-eslint/naming-convention\n\tprotected override async runAction(action: IAction, context?: SingleOrMany<InstanceContext>): Promise<void> {\n\t\tif (Array.isArray(context) && context.every(e => e instanceof InstanceContext)) {\n\t\t\t// arg1: The (first) focused instance\n\t\t\t// arg2: All selected instances\n\t\t\tawait action.run(context?.[0], context);\n\t\t\treturn;\n\t\t}\n\t\treturn super.runAction(action, context);\n\t}\n}\n\nexport function openContextMenu(targetWindow: Window, event: MouseEvent, contextInstances: SingleOrMany<ITerminalInstance> | undefined, menu: IMenu, contextMenuService: IContextMenuService, extraActions?: IAction[]): void {\n\tconst standardEvent = new StandardMouseEvent(targetWindow, event);\n\n\tconst actions = getFlatContextMenuActions(menu.getActions({ shouldForwardArgs: true }));\n\n\tif (extraActions) {\n\t\tactions.push(...extraActions);\n\t}\n\n\tconst context: InstanceContext[] = contextInstances ? asArray(contextInstances).map(e => new InstanceContext(e)) : [];\n\n\tconst actionRunner = new TerminalContextActionRunner();\n\tcontextMenuService.showContextMenu({\n\t\tactionRunner,\n\t\tgetAnchor: () => standardEvent,\n\t\tgetActions: () => actions,\n\t\tgetActionsContext: () => context,\n\t\tonHide: () => actionRunner.dispose()\n\t});\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { StandardMouseEvent } from '../../../../base/browser/mouseEvent.js';\nimport { ActionRunner, IAction } from '../../../../base/common/actions.js';\nimport { asArray } from '../../../../base/common/arrays.js';\nimport { MarshalledId } from '../../../../base/common/marshallingIds.js';\nimport { SingleOrMany } from '../../../../base/common/types.js';\nimport { getFlatContextMenuActions } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { IMenu } from '../../../../platform/actions/common/actions.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { ITerminalInstance } from './terminal.js';\nimport { ISerializedTerminalInstanceContext } from '../common/terminal.js';\n\n/**\n * A context that is passed to actions as arguments to represent the terminal instance(s) being\n * acted upon.\n */\nexport class InstanceContext {\n\treadonly instanceId: number;\n\n\tconstructor(instance: ITerminalInstance) {\n\t\t// Only store the instance to avoid contexts holding on to disposed instances.\n\t\tthis.instanceId = instance.instanceId;\n\t}\n\n\ttoJSON(): ISerializedTerminalInstanceContext {\n\t\treturn {\n\t\t\t$mid: MarshalledId.TerminalContext,\n\t\t\tinstanceId: this.instanceId\n\t\t};\n\t}\n}\n\nexport class TerminalContextActionRunner extends ActionRunner {\n\n\t// eslint-disable-next-line @typescript-eslint/naming-convention\n\tprotected override async runAction(action: IAction, context?: SingleOrMany<InstanceContext>): Promise<void> {\n\t\tif (Array.isArray(context) && context.every(e => e instanceof InstanceContext)) {\n\t\t\t// arg1: The (first) focused instance\n\t\t\t// arg2: All selected instances\n\t\t\tawait action.run(context?.[0], context);\n\t\t\treturn;\n\t\t}\n\t\treturn super.runAction(action, context);\n\t}\n}\n\nexport function openContextMenu(targetWindow: Window, event: MouseEvent, contextInstances: SingleOrMany<ITerminalInstance> | undefined, menu: IMenu, contextMenuService: IContextMenuService, extraActions?: IAction[]): void {\n\tconst standardEvent = new StandardMouseEvent(targetWindow, event);\n\n\tconst actions = getFlatContextMenuActions(menu.getActions({ shouldForwardArgs: true }));\n\n\tif (extraActions) {\n\t\tactions.push(...extraActions);\n\t}\n\n\tconst context: InstanceContext[] = contextInstances ? asArray(contextInstances).map(e => new InstanceContext(e)) : [];\n\n\tconst actionRunner = new TerminalContextActionRunner();\n\tcontextMenuService.showContextMenu({\n\t\tactionRunner,\n\t\tgetAnchor: () => standardEvent,\n\t\tgetActions: () => actions,\n\t\tgetActionsContext: () => context,\n\t\tonHide: () => actionRunner.dispose()\n\t});\n}\n"]}