{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/terminal/test/browser/terminalInstanceService.test.ts","vs/workbench/contrib/terminal/test/browser/terminalInstanceService.test.ts"],"names":[],"mappings":"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","file":"terminalInstanceService.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { deepStrictEqual } from 'assert';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { ITerminalProfile } from '../../../../../platform/terminal/common/terminal.js';\nimport { ITerminalInstanceService } from '../../browser/terminal.js';\nimport { TerminalInstanceService } from '../../browser/terminalInstanceService.js';\nimport { workbenchInstantiationService } from '../../../../test/browser/workbenchTestServices.js';\n\nsuite('Workbench - TerminalInstanceService', () => {\n\tconst store = ensureNoDisposablesAreLeakedInTestSuite();\n\n\tlet terminalInstanceService: ITerminalInstanceService;\n\n\tsetup(async () => {\n\t\tconst instantiationService = workbenchInstantiationService(undefined, store);\n\t\tterminalInstanceService = store.add(instantiationService.createInstance(TerminalInstanceService));\n\t});\n\n\tsuite('convertProfileToShellLaunchConfig', () => {\n\t\ttest('should return an empty shell launch config when undefined is provided', () => {\n\t\t\tdeepStrictEqual(terminalInstanceService.convertProfileToShellLaunchConfig(), {});\n\t\t\tdeepStrictEqual(terminalInstanceService.convertProfileToShellLaunchConfig(undefined), {});\n\t\t});\n\t\ttest('should return the same shell launch config when provided', () => {\n\t\t\tdeepStrictEqual(\n\t\t\t\tterminalInstanceService.convertProfileToShellLaunchConfig({}),\n\t\t\t\t{}\n\t\t\t);\n\t\t\tdeepStrictEqual(\n\t\t\t\tterminalInstanceService.convertProfileToShellLaunchConfig({ executable: '/foo' }),\n\t\t\t\t{ executable: '/foo' }\n\t\t\t);\n\t\t\tdeepStrictEqual(\n\t\t\t\tterminalInstanceService.convertProfileToShellLaunchConfig({ executable: '/foo', cwd: '/bar', args: ['a', 'b'] }),\n\t\t\t\t{ executable: '/foo', cwd: '/bar', args: ['a', 'b'] }\n\t\t\t);\n\t\t\tdeepStrictEqual(\n\t\t\t\tterminalInstanceService.convertProfileToShellLaunchConfig({ executable: '/foo' }, '/bar'),\n\t\t\t\t{ executable: '/foo', cwd: '/bar' }\n\t\t\t);\n\t\t\tdeepStrictEqual(\n\t\t\t\tterminalInstanceService.convertProfileToShellLaunchConfig({ executable: '/foo', cwd: '/bar' }, '/baz'),\n\t\t\t\t{ executable: '/foo', cwd: '/baz' }\n\t\t\t);\n\t\t});\n\t\ttest('should convert a provided profile to a shell launch config', () => {\n\t\t\tdeepStrictEqual(\n\t\t\t\tterminalInstanceService.convertProfileToShellLaunchConfig({\n\t\t\t\t\tprofileName: 'abc',\n\t\t\t\t\tpath: '/foo',\n\t\t\t\t\tisDefault: true\n\t\t\t\t}),\n\t\t\t\t{\n\t\t\t\t\targs: undefined,\n\t\t\t\t\tcolor: undefined,\n\t\t\t\t\tcwd: undefined,\n\t\t\t\t\tenv: undefined,\n\t\t\t\t\texecutable: '/foo',\n\t\t\t\t\ticon: undefined,\n\t\t\t\t\tname: undefined\n\t\t\t\t}\n\t\t\t);\n\t\t\tconst icon = URI.file('/icon');\n\t\t\tdeepStrictEqual(\n\t\t\t\tterminalInstanceService.convertProfileToShellLaunchConfig({\n\t\t\t\t\tprofileName: 'abc',\n\t\t\t\t\tpath: '/foo',\n\t\t\t\t\tisDefault: true,\n\t\t\t\t\targs: ['a', 'b'],\n\t\t\t\t\tcolor: 'color',\n\t\t\t\t\tenv: { test: 'TEST' },\n\t\t\t\t\ticon\n\t\t\t\t} as ITerminalProfile, '/bar'),\n\t\t\t\t{\n\t\t\t\t\targs: ['a', 'b'],\n\t\t\t\t\tcolor: 'color',\n\t\t\t\t\tcwd: '/bar',\n\t\t\t\t\tenv: { test: 'TEST' },\n\t\t\t\t\texecutable: '/foo',\n\t\t\t\t\ticon,\n\t\t\t\t\tname: undefined\n\t\t\t\t}\n\t\t\t);\n\t\t});\n\t\ttest('should respect overrideName in profile', () => {\n\t\t\tdeepStrictEqual(\n\t\t\t\tterminalInstanceService.convertProfileToShellLaunchConfig({\n\t\t\t\t\tprofileName: 'abc',\n\t\t\t\t\tpath: '/foo',\n\t\t\t\t\tisDefault: true,\n\t\t\t\t\toverrideName: true\n\t\t\t\t}),\n\t\t\t\t{\n\t\t\t\t\targs: undefined,\n\t\t\t\t\tcolor: undefined,\n\t\t\t\t\tcwd: undefined,\n\t\t\t\t\tenv: undefined,\n\t\t\t\t\texecutable: '/foo',\n\t\t\t\t\ticon: undefined,\n\t\t\t\t\tname: 'abc'\n\t\t\t\t}\n\t\t\t);\n\t\t});\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { deepStrictEqual } from 'assert';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { ITerminalProfile } from '../../../../../platform/terminal/common/terminal.js';\nimport { ITerminalInstanceService } from '../../browser/terminal.js';\nimport { TerminalInstanceService } from '../../browser/terminalInstanceService.js';\nimport { workbenchInstantiationService } from '../../../../test/browser/workbenchTestServices.js';\n\nsuite('Workbench - TerminalInstanceService', () => {\n\tconst store = ensureNoDisposablesAreLeakedInTestSuite();\n\n\tlet terminalInstanceService: ITerminalInstanceService;\n\n\tsetup(async () => {\n\t\tconst instantiationService = workbenchInstantiationService(undefined, store);\n\t\tterminalInstanceService = store.add(instantiationService.createInstance(TerminalInstanceService));\n\t});\n\n\tsuite('convertProfileToShellLaunchConfig', () => {\n\t\ttest('should return an empty shell launch config when undefined is provided', () => {\n\t\t\tdeepStrictEqual(terminalInstanceService.convertProfileToShellLaunchConfig(), {});\n\t\t\tdeepStrictEqual(terminalInstanceService.convertProfileToShellLaunchConfig(undefined), {});\n\t\t});\n\t\ttest('should return the same shell launch config when provided', () => {\n\t\t\tdeepStrictEqual(\n\t\t\t\tterminalInstanceService.convertProfileToShellLaunchConfig({}),\n\t\t\t\t{}\n\t\t\t);\n\t\t\tdeepStrictEqual(\n\t\t\t\tterminalInstanceService.convertProfileToShellLaunchConfig({ executable: '/foo' }),\n\t\t\t\t{ executable: '/foo' }\n\t\t\t);\n\t\t\tdeepStrictEqual(\n\t\t\t\tterminalInstanceService.convertProfileToShellLaunchConfig({ executable: '/foo', cwd: '/bar', args: ['a', 'b'] }),\n\t\t\t\t{ executable: '/foo', cwd: '/bar', args: ['a', 'b'] }\n\t\t\t);\n\t\t\tdeepStrictEqual(\n\t\t\t\tterminalInstanceService.convertProfileToShellLaunchConfig({ executable: '/foo' }, '/bar'),\n\t\t\t\t{ executable: '/foo', cwd: '/bar' }\n\t\t\t);\n\t\t\tdeepStrictEqual(\n\t\t\t\tterminalInstanceService.convertProfileToShellLaunchConfig({ executable: '/foo', cwd: '/bar' }, '/baz'),\n\t\t\t\t{ executable: '/foo', cwd: '/baz' }\n\t\t\t);\n\t\t});\n\t\ttest('should convert a provided profile to a shell launch config', () => {\n\t\t\tdeepStrictEqual(\n\t\t\t\tterminalInstanceService.convertProfileToShellLaunchConfig({\n\t\t\t\t\tprofileName: 'abc',\n\t\t\t\t\tpath: '/foo',\n\t\t\t\t\tisDefault: true\n\t\t\t\t}),\n\t\t\t\t{\n\t\t\t\t\targs: undefined,\n\t\t\t\t\tcolor: undefined,\n\t\t\t\t\tcwd: undefined,\n\t\t\t\t\tenv: undefined,\n\t\t\t\t\texecutable: '/foo',\n\t\t\t\t\ticon: undefined,\n\t\t\t\t\tname: undefined\n\t\t\t\t}\n\t\t\t);\n\t\t\tconst icon = URI.file('/icon');\n\t\t\tdeepStrictEqual(\n\t\t\t\tterminalInstanceService.convertProfileToShellLaunchConfig({\n\t\t\t\t\tprofileName: 'abc',\n\t\t\t\t\tpath: '/foo',\n\t\t\t\t\tisDefault: true,\n\t\t\t\t\targs: ['a', 'b'],\n\t\t\t\t\tcolor: 'color',\n\t\t\t\t\tenv: { test: 'TEST' },\n\t\t\t\t\ticon\n\t\t\t\t} as ITerminalProfile, '/bar'),\n\t\t\t\t{\n\t\t\t\t\targs: ['a', 'b'],\n\t\t\t\t\tcolor: 'color',\n\t\t\t\t\tcwd: '/bar',\n\t\t\t\t\tenv: { test: 'TEST' },\n\t\t\t\t\texecutable: '/foo',\n\t\t\t\t\ticon,\n\t\t\t\t\tname: undefined\n\t\t\t\t}\n\t\t\t);\n\t\t});\n\t\ttest('should respect overrideName in profile', () => {\n\t\t\tdeepStrictEqual(\n\t\t\t\tterminalInstanceService.convertProfileToShellLaunchConfig({\n\t\t\t\t\tprofileName: 'abc',\n\t\t\t\t\tpath: '/foo',\n\t\t\t\t\tisDefault: true,\n\t\t\t\t\toverrideName: true\n\t\t\t\t}),\n\t\t\t\t{\n\t\t\t\t\targs: undefined,\n\t\t\t\t\tcolor: undefined,\n\t\t\t\t\tcwd: undefined,\n\t\t\t\t\tenv: undefined,\n\t\t\t\t\texecutable: '/foo',\n\t\t\t\t\ticon: undefined,\n\t\t\t\t\tname: 'abc'\n\t\t\t\t}\n\t\t\t);\n\t\t});\n\t});\n});\n"]}