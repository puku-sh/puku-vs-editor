{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/terminal/test/browser/xterm/xtermTerminal.test.ts","vs/workbench/contrib/terminal/test/browser/xterm/xtermTerminal.test.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAIhG,OAAO,EAAE,eAAe,EAAE,WAAW,EAAE,MAAM,QAAQ,CAAC;AACtD,OAAO,EAAE,mBAAmB,EAAE,MAAM,2BAA2B,CAAC;AAChE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,wCAAwC,CAAC;AACrE,OAAO,EAAE,OAAO,EAAE,MAAM,wCAAwC,CAAC;AACjE,OAAO,EAAE,uCAAuC,EAAE,MAAM,6CAA6C,CAAC;AAEtG,OAAO,EAAE,wBAAwB,EAAE,MAAM,kFAAkF,CAAC;AAE5H,OAAO,EAAE,uBAAuB,EAAE,MAAM,oFAAoF,CAAC;AAC7H,OAAO,EAAE,aAAa,EAAE,MAAM,yDAAyD,CAAC;AACxF,OAAO,EAAE,cAAc,EAAoB,MAAM,kEAAkE,CAAC;AACpH,OAAO,EAAE,gBAAgB,EAAE,mBAAmB,EAAE,MAAM,gCAAgC,CAAC;AAEvF,OAAO,EAAE,aAAa,EAAE,MAAM,yCAAyC,CAAC;AACxE,OAAO,EAA0B,gBAAgB,EAAE,MAAM,6BAA6B,CAAC;AACvF,OAAO,EAAE,cAAc,EAAE,yBAAyB,EAAE,gCAAgC,EAAE,gCAAgC,EAAE,yBAAyB,EAAE,4CAA4C,EAAE,mCAAmC,EAAE,mCAAmC,EAAE,MAAM,0CAA0C,CAAC;AAC5T,OAAO,EAAE,6BAA6B,EAAE,MAAM,sDAAsD,CAAC;AACrG,OAAO,EAAyB,kBAAkB,EAAE,MAAM,8CAA8C,CAAC;AAEzG,cAAc,EAAE,CAAC;AAEjB,MAAM,cAAc;aACZ,gBAAW,GAAG,KAAH,AAAQ,CAAC;aACpB,cAAS,GAAG,KAAH,AAAQ,CAAC;IAKzB,YAAY,qBAA+B;QAJlC,yBAAoB,GAAG,IAAI,OAAO,EAAE,CAAC,KAAkC,CAAC;QACxE,4BAAuB,GAAG,IAAI,OAAO,EAAE,CAAC,KAAkC,CAAC;QAC3E,+BAA0B,GAAG,IAAI,OAAO,EAAE,CAAC,KAAwC,CAAC;QACpF,kBAAa,GAAG,IAAI,OAAO,EAAE,CAAC,KAAqB,CAAC;IAE7D,CAAC;IACD,QAAQ;QACP,cAAc,CAAC,SAAS,GAAG,CAAC,cAAc,CAAC,WAAW,CAAC;QACvD,IAAI,cAAc,CAAC,WAAW,EAAE,CAAC;YAChC,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC,CAAC;QAC5C,CAAC;IACF,CAAC;IACD,OAAO;QACN,cAAc,CAAC,SAAS,GAAG,KAAK,CAAC;IAClC,CAAC;IACD,iBAAiB,KAAK,CAAC;;AAGxB,MAAM,sBAAuB,SAAQ,kBAAkB;IAC7C,KAAK,CAAC,WAAW,CAAwC,IAAO;QACxE,IAAI,IAAI,KAAK,OAAO,EAAE,CAAC;YACtB,OAAO,cAAqD,CAAC;QAC9D,CAAC;QACD,OAAO,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IAChC,CAAC;CACD;AAED,MAAM,OAAO,yBAAyB;IAAtC;QACS,cAAS,uCAA+B;QACxC,yBAAoB,GAAG,IAAI,OAAO,EAAwF,CAAC;QACnI,wBAAmB,GAAG,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC;IAevD,CAAC;IAdA,mBAAmB,CAAC,EAAU;QAC7B,OAAO,IAAI,CAAC,SAAS,CAAC;IACvB,CAAC;IACD,sBAAsB,CAAC,EAAyB;QAC/C,MAAM,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC;QACnC,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACpB,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC;YAC9B,KAAK,EAAE;gBACN,EAAE,EAAE,EAAE,gBAAgB,EAAgC;aACtD;YACD,IAAI,EAAE,WAAW;YACjB,EAAE;SACF,CAAC,CAAC;IACJ,CAAC;CACD;AAED,MAAM,qBAAqB,GAAoC;IAC9D,UAAU,EAAE,WAAW;IACvB,UAAU,EAAE,QAAQ;IACpB,cAAc,EAAE,QAAQ;IACxB,eAAe,EAAE,KAAK;IACtB,UAAU,EAAE,EAAE;IACd,qBAAqB,EAAE,CAAC;IACxB,2BAA2B,EAAE,CAAC;IAC9B,cAAc,EAAE,GAAG;CACnB,CAAC;AAEF,KAAK,CAAC,eAAe,EAAE,GAAG,EAAE;IAC3B,MAAM,KAAK,GAAG,uCAAuC,EAAE,CAAC;IAExD,IAAI,oBAA8C,CAAC;IACnD,IAAI,oBAA8C,CAAC;IACnD,IAAI,YAA8B,CAAC;IACnC,IAAI,KAAoB,CAAC;IACzB,IAAI,aAA8B,CAAC;IAEnC,SAAS,KAAK,CAAC,IAAY;QAC1B,OAAO,IAAI,OAAO,CAAO,CAAC,OAAO,EAAE,EAAE;YACpC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;QAC5B,CAAC,CAAC,CAAC;IACJ,CAAC;IAED,KAAK,CAAC,KAAK,IAAI,EAAE;QAChB,oBAAoB,GAAG,IAAI,wBAAwB,CAAC;YACnD,MAAM,EAAE;gBACP,qBAAqB,EAAE,CAAC;gBACxB,2BAA2B,EAAE,CAAC;aACH;YAC5B,KAAK,EAAE,EAAE;YACT,QAAQ,EAAE;gBACT,UAAU,EAAE,qBAAqB;aACjC;SACD,CAAC,CAAC;QAEH,oBAAoB,GAAG,6BAA6B,CAAC;YACpD,oBAAoB,EAAE,GAAG,EAAE,CAAC,oBAAoB;SAChD,EAAE,KAAK,CAAC,CAAC;QACV,YAAY,GAAG,oBAAoB,CAAC,GAAG,CAAC,aAAa,CAAqB,CAAC;QAE3E,aAAa,GAAG,CAAC,MAAM,mBAAmB,CAAgC,cAAc,EAAE,cAAc,CAAC,CAAC,CAAC,QAAQ,CAAC;QAEpH,MAAM,eAAe,GAAG,KAAK,CAAC,GAAG,CAAC,IAAI,uBAAuB,EAAE,CAAC,CAAC;QACjE,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,oBAAoB,CAAC,cAAc,CAAC,aAAa,EAAE,SAAS,EAAE,aAAa,EAAE;YAC9F,IAAI,EAAE,EAAE;YACR,IAAI,EAAE,EAAE;YACR,kBAAkB,EAAE,EAAE,kBAAkB,EAAE,GAAG,EAAE,CAAC,SAAS,EAAE;YAC3D,YAAY,EAAE,eAAe;YAC7B,gCAAgC,EAAE,IAAI;YACtC,kBAAkB,EAAE,IAAI,sBAAsB,EAAE;SAChD,EAAE,SAAS,CAAC,CAAC,CAAC;QAEf,cAAc,CAAC,WAAW,GAAG,KAAK,CAAC;QACnC,cAAc,CAAC,SAAS,GAAG,KAAK,CAAC;IAClC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,yCAAyC,EAAE,GAAG,EAAE;QACpD,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;QAChC,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;IACjC,CAAC,CAAC,CAAC;IAEH,KAAK,CAAC,mBAAmB,EAAE,GAAG,EAAE;QAC/B,IAAI,CAAC,4DAA4D,EAAE,KAAK,IAAI,EAAE;YAC7E,MAAM,KAAK,CAAC,gDAAgD,CAAC,CAAC;YAE9D,MAAM,MAAM,GAAG,KAAK,CAAC,iBAAiB,EAAE,CAAC;YACzC,WAAW,CAAC,MAAM,CAAC,UAAU,CAAC,wCAAwC,CAAC,EAAE,IAAI,EAAE,iEAAiE,CAAC,CAAC;YAClJ,MAAM,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YACjC,WAAW,CAAC,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,4DAA4D,CAAC,CAAC;QACzH,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,iDAAiD,EAAE,KAAK,IAAI,EAAE;YAClE,MAAM,KAAK,CAAC,YAAY,CAAC,CAAC;YAC1B,MAAM,WAAW,GAAG,KAAK,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAE,CAAC;YACjD,MAAM,KAAK,CAAC,sCAAsC,CAAC,CAAC;YAEpD,MAAM,MAAM,GAAG,KAAK,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC;YACpD,WAAW,CAAC,MAAM,CAAC,UAAU,CAAC,gCAAgC,CAAC,EAAE,IAAI,EAAE,kDAAkD,CAAC,CAAC;QAC5H,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,iDAAiD,EAAE,KAAK,IAAI,EAAE;YAClE,MAAM,KAAK,CAAC,YAAY,CAAC,CAAC;YAC1B,MAAM,WAAW,GAAG,KAAK,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAE,CAAC;YACjD,MAAM,KAAK,CAAC,sBAAsB,CAAC,CAAC;YACpC,MAAM,SAAS,GAAG,KAAK,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAE,CAAC;YAC/C,MAAM,KAAK,CAAC,kBAAkB,CAAC,CAAC;YAEhC,MAAM,MAAM,GAAG,KAAK,CAAC,iBAAiB,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;YAC/D,WAAW,CAAC,MAAM,EAAE,wBAAwB,CAAC,CAAC;QAC/C,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,mEAAmE,EAAE,KAAK,IAAI,EAAE;YACpF,MAAM,KAAK,CAAC,sBAAsB,CAAC,CAAC;YACpC,MAAM,MAAM,GAAG,KAAK,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAE,CAAC;YAC5C,MAAM,KAAK,CAAC,4BAA4B,CAAC,CAAC;YAE1C,MAAM,MAAM,GAAG,KAAK,CAAC,iBAAiB,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;YACvD,WAAW,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;QAC/B,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,mEAAmE,EAAE,KAAK,IAAI,EAAE;YACpF,MAAM,KAAK,CAAC,YAAY,CAAC,CAAC;YAC1B,MAAM,SAAS,GAAG,KAAK,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAE,CAAC;YAC/C,MAAM,KAAK,CAAC,sBAAsB,CAAC,CAAC;YACpC,MAAM,WAAW,GAAG,KAAK,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAE,CAAC;YACjD,MAAM,KAAK,CAAC,kBAAkB,CAAC,CAAC;YAEhC,MAAM,MAAM,GAAG,KAAK,CAAC,iBAAiB,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;YAC/D,WAAW,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;QACzB,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,4BAA4B,EAAE,KAAK,IAAI,EAAE;YAC7C,MAAM,MAAM,GAAG,KAAK,CAAC,iBAAiB,EAAE,CAAC;YACzC,MAAM,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YACjC,WAAW,CAAC,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,+DAA+D,CAAC,CAAC;YAC3H,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,2BAA2B,CAAC,CAAC;QAClF,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,gEAAgE,EAAE,KAAK,IAAI,EAAE;YACjF,MAAM,KAAK,CAAC,sFAAsF,CAAC,CAAC;YAEpG,MAAM,MAAM,GAAG,KAAK,CAAC,iBAAiB,EAAE,CAAC;YACzC,WAAW,CAAC,MAAM,CAAC,UAAU,CAAC,8EAA8E,CAAC,EAAE,IAAI,EAAE,uDAAuD,CAAC,CAAC;QAC/K,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,+DAA+D,EAAE,KAAK,IAAI,EAAE;YAChF,MAAM,KAAK,CAAC,YAAY,CAAC,CAAC;YAC1B,MAAM,cAAc,GAAG,KAAK,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAE,CAAC;YACpD,MAAM,KAAK,CAAC,sCAAsC,CAAC,CAAC;YAEpD,cAAc,CAAC,OAAO,EAAE,CAAC;YAEzB,IAAI,CAAC;gBACJ,KAAK,CAAC,iBAAiB,CAAC,cAAc,CAAC,CAAC;gBACxC,MAAM,IAAI,KAAK,CAAC,+BAA+B,CAAC,CAAC;YAClD,CAAC;YAAC,OAAO,KAAU,EAAE,CAAC;gBACrB,WAAW,CAAC,KAAK,CAAC,OAAO,EAAE,+CAA+C,CAAC,CAAC;YAC7E,CAAC;QACF,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,6DAA6D,EAAE,KAAK,IAAI,EAAE;YAC9E,MAAM,KAAK,CAAC,YAAY,CAAC,CAAC;YAC1B,MAAM,WAAW,GAAG,KAAK,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAE,CAAC;YACjD,MAAM,KAAK,CAAC,YAAY,CAAC,CAAC;YAC1B,MAAM,iBAAiB,GAAG,KAAK,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAE,CAAC;YACvD,MAAM,KAAK,CAAC,4BAA4B,CAAC,CAAC;YAE1C,iBAAiB,CAAC,OAAO,EAAE,CAAC;YAE5B,IAAI,CAAC;gBACJ,KAAK,CAAC,iBAAiB,CAAC,WAAW,EAAE,iBAAiB,CAAC,CAAC;gBACxD,MAAM,IAAI,KAAK,CAAC,+BAA+B,CAAC,CAAC;YAClD,CAAC;YAAC,OAAO,KAAU,EAAE,CAAC;gBACrB,WAAW,CAAC,KAAK,CAAC,OAAO,EAAE,6CAA6C,CAAC,CAAC;YAC3E,CAAC;QACF,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,4CAA4C,EAAE,KAAK,IAAI,EAAE;YAC7D,MAAM,WAAW,GAAG,KAAK,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAE,CAAC;YACjD,MAAM,KAAK,CAAC,0CAA0C,CAAC,CAAC;YACxD,MAAM,SAAS,GAAG,KAAK,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAE,CAAC;YAC/C,MAAM,KAAK,CAAC,QAAQ,CAAC,CAAC;YAEtB,MAAM,MAAM,GAAG,KAAK,CAAC,iBAAiB,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;YAC/D,WAAW,CAAC,MAAM,EAAE,wCAAwC,EAAE,sDAAsD,CAAC,CAAC;QACvH,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,kDAAkD,EAAE,KAAK,IAAI,EAAE;YACnE,MAAM,KAAK,CAAC,sDAAsD,CAAC,CAAC;YAEpE,MAAM,MAAM,GAAG,KAAK,CAAC,iBAAiB,EAAE,CAAC;YACzC,WAAW,CAAC,MAAM,CAAC,UAAU,CAAC,sBAAsB,CAAC,EAAE,IAAI,EAAE,sFAAsF,CAAC,CAAC;QACtJ,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC;IAEH,KAAK,CAAC,0BAA0B,EAAE,GAAG,EAAE;QACtC,IAAI,CAAC,kDAAkD,EAAE,KAAK,IAAI,EAAE;YACnE,MAAM,IAAI,GAAG,gDAAgD,CAAC;YAC9D,MAAM,KAAK,CAAC,IAAI,CAAC,CAAC;YAElB,MAAM,MAAM,GAAG,CAAC,GAAG,KAAK,CAAC,wBAAwB,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC5E,WAAW,CAAC,IAAI,EAAE,MAAM,EAAE,4BAA4B,CAAC,CAAC;QACzD,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,uDAAuD,EAAE,KAAK,IAAI,EAAE;YACxE,mDAAmD;YACnD,MAAM,IAAI,GAAG,oDAAoD,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;YACnF,MAAM,KAAK,CAAC,IAAI,CAAC,CAAC;YAClB,MAAM,KAAK,CAAC,eAAe,CAAC,CAAC;YAE7B,MAAM,MAAM,GAAG,CAAC,GAAG,KAAK,CAAC,wBAAwB,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC5E,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,eAAe,CAAC;YAC/C,WAAW,CAAC,MAAM,EAAE,MAAM,EAAE,2CAA2C,CAAC,CAAC;QAC1E,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC;IAEH,KAAK,CAAC,OAAO,EAAE,GAAG,EAAE;QACnB,IAAI,CAAC,mEAAmE,EAAE,GAAG,EAAE;YAC9E,YAAY,CAAC,QAAQ,CAAC,IAAI,cAAc,CAAC;gBACxC,CAAC,gBAAgB,CAAC,EAAE,SAAS;gBAC7B,CAAC,mBAAmB,CAAC,EAAE,SAAS;aAChC,CAAC,CAAC,CAAC;YACJ,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,oBAAoB,CAAC,cAAc,CAAC,aAAa,EAAE,SAAS,EAAE,aAAa,EAAE;gBAC9F,IAAI,EAAE,EAAE;gBACR,IAAI,EAAE,EAAE;gBACR,kBAAkB,EAAE,IAAI,sBAAsB,EAAE;gBAChD,kBAAkB,EAAE,EAAE,kBAAkB,EAAE,GAAG,EAAE,CAAC,IAAI,KAAK,CAAC,IAAI,IAAI,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE;gBAChF,YAAY,EAAE,KAAK,CAAC,GAAG,CAAC,IAAI,uBAAuB,EAAE,CAAC;gBACtD,gCAAgC,EAAE,IAAI;aACtC,EAAE,SAAS,CAAC,CAAC,CAAC;YACf,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,EAAE,UAAU,EAAE,SAAS,CAAC,CAAC;QAC7D,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,yCAAyC,EAAE,GAAG,EAAE;YACpD,YAAY,CAAC,QAAQ,CAAC,IAAI,cAAc,CAAC;gBACxC,CAAC,yBAAyB,CAAC,EAAE,SAAS;gBACtC,CAAC,yBAAyB,CAAC,EAAE,SAAS;gBACtC,CAAC,gCAAgC,CAAC,EAAE,SAAS;gBAC7C,CAAC,gCAAgC,CAAC,EAAE,SAAS;gBAC7C,CAAC,mCAAmC,CAAC,EAAE,SAAS;gBAChD,CAAC,4CAA4C,CAAC,EAAE,SAAS;gBACzD,CAAC,mCAAmC,CAAC,EAAE,SAAS;gBAChD,oBAAoB,EAAE,SAAS;gBAC/B,kBAAkB,EAAE,SAAS;gBAC7B,oBAAoB,EAAE,SAAS;gBAC/B,qBAAqB,EAAE,SAAS;gBAChC,mBAAmB,EAAE,SAAS;gBAC9B,sBAAsB,EAAE,SAAS;gBACjC,mBAAmB,EAAE,SAAS;gBAC9B,oBAAoB,EAAE,SAAS;gBAC/B,0BAA0B,EAAE,SAAS;gBACrC,wBAAwB,EAAE,SAAS;gBACnC,0BAA0B,EAAE,SAAS;gBACrC,2BAA2B,EAAE,SAAS;gBACtC,yBAAyB,EAAE,SAAS;gBACpC,4BAA4B,EAAE,SAAS;gBACvC,yBAAyB,EAAE,SAAS;gBACpC,0BAA0B,EAAE,SAAS;aACrC,CAAC,CAAC,CAAC;YACJ,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,oBAAoB,CAAC,cAAc,CAAC,aAAa,EAAE,SAAS,EAAE,aAAa,EAAE;gBAC9F,IAAI,EAAE,EAAE;gBACR,IAAI,EAAE,EAAE;gBACR,kBAAkB,EAAE,IAAI,sBAAsB,EAAE;gBAChD,kBAAkB,EAAE,EAAE,kBAAkB,EAAE,GAAG,EAAE,CAAC,SAAS,EAAE;gBAC3D,YAAY,EAAE,KAAK,CAAC,GAAG,CAAC,IAAI,uBAAuB,EAAE,CAAC;gBACtD,gCAAgC,EAAE,IAAI;aACtC,EAAE,SAAS,CAAC,CAAC,CAAC;YACf,eAAe,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,EAAE;gBACxC,UAAU,EAAE,SAAS;gBACrB,UAAU,EAAE,SAAS;gBACrB,MAAM,EAAE,SAAS;gBACjB,YAAY,EAAE,SAAS;gBACvB,mBAAmB,EAAE,SAAS;gBAC9B,2BAA2B,EAAE,SAAS;gBACtC,mBAAmB,EAAE,SAAS;gBAC9B,mBAAmB,EAAE,SAAS;gBAC9B,+BAA+B,EAAE,SAAS;gBAC1C,yBAAyB,EAAE,SAAS;gBACpC,8BAA8B,EAAE,SAAS;gBACzC,KAAK,EAAE,SAAS;gBAChB,KAAK,EAAE,SAAS;gBAChB,GAAG,EAAE,SAAS;gBACd,MAAM,EAAE,SAAS;gBACjB,IAAI,EAAE,SAAS;gBACf,OAAO,EAAE,SAAS;gBAClB,IAAI,EAAE,SAAS;gBACf,KAAK,EAAE,SAAS;gBAChB,WAAW,EAAE,SAAS;gBACtB,SAAS,EAAE,SAAS;gBACpB,WAAW,EAAE,SAAS;gBACtB,YAAY,EAAE,SAAS;gBACvB,UAAU,EAAE,SAAS;gBACrB,aAAa,EAAE,SAAS;gBACxB,UAAU,EAAE,SAAS;gBACrB,WAAW,EAAE,SAAS;aACtB,CAAC,CAAC;YACH,YAAY,CAAC,QAAQ,CAAC,IAAI,cAAc,CAAC;gBACxC,CAAC,yBAAyB,CAAC,EAAE,SAAS;gBACtC,CAAC,yBAAyB,CAAC,EAAE,SAAS;gBACtC,CAAC,gCAAgC,CAAC,EAAE,SAAS;gBAC7C,CAAC,gCAAgC,CAAC,EAAE,SAAS;gBAC7C,CAAC,mCAAmC,CAAC,EAAE,SAAS;gBAChD,CAAC,4CAA4C,CAAC,EAAE,SAAS;gBACzD,CAAC,mCAAmC,CAAC,EAAE,SAAS;gBAChD,oBAAoB,EAAE,SAAS;gBAC/B,kBAAkB,EAAE,SAAS;gBAC7B,oBAAoB,EAAE,SAAS;gBAC/B,qBAAqB,EAAE,SAAS;gBAChC,mBAAmB,EAAE,SAAS;gBAC9B,sBAAsB,EAAE,SAAS;gBACjC,mBAAmB,EAAE,SAAS;gBAC9B,oBAAoB,EAAE,SAAS;gBAC/B,0BAA0B,EAAE,SAAS;gBACrC,wBAAwB,EAAE,SAAS;gBACnC,0BAA0B,EAAE,SAAS;gBACrC,2BAA2B,EAAE,SAAS;gBACtC,yBAAyB,EAAE,SAAS;gBACpC,4BAA4B,EAAE,SAAS;gBACvC,yBAAyB,EAAE,SAAS;gBACpC,0BAA0B,EAAE,SAAS;aACrC,CAAC,CAAC,CAAC;YACJ,eAAe,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,EAAE;gBACxC,UAAU,EAAE,SAAS;gBACrB,UAAU,EAAE,SAAS;gBACrB,MAAM,EAAE,SAAS;gBACjB,YAAY,EAAE,SAAS;gBACvB,mBAAmB,EAAE,SAAS;gBAC9B,2BAA2B,EAAE,SAAS;gBACtC,mBAAmB,EAAE,SAAS;gBAC9B,mBAAmB,EAAE,SAAS;gBAC9B,+BAA+B,EAAE,SAAS;gBAC1C,yBAAyB,EAAE,SAAS;gBACpC,8BAA8B,EAAE,SAAS;gBACzC,KAAK,EAAE,SAAS;gBAChB,KAAK,EAAE,SAAS;gBAChB,GAAG,EAAE,SAAS;gBACd,MAAM,EAAE,SAAS;gBACjB,IAAI,EAAE,SAAS;gBACf,OAAO,EAAE,SAAS;gBAClB,IAAI,EAAE,SAAS;gBACf,KAAK,EAAE,SAAS;gBAChB,WAAW,EAAE,SAAS;gBACtB,SAAS,EAAE,SAAS;gBACpB,WAAW,EAAE,SAAS;gBACtB,YAAY,EAAE,SAAS;gBACvB,UAAU,EAAE,SAAS;gBACrB,aAAa,EAAE,SAAS;gBACxB,UAAU,EAAE,SAAS;gBACrB,WAAW,EAAE,SAAS;aACtB,CAAC,CAAC;QACJ,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC,CAAC","file":"xtermTerminal.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type { WebglAddon } from '@xterm/addon-webgl';\nimport type { IEvent, Terminal } from '@xterm/xterm';\nimport { deepStrictEqual, strictEqual } from 'assert';\nimport { importAMDNodeModule } from '../../../../../../amdX.js';\nimport { Color, RGBA } from '../../../../../../base/common/color.js';\nimport { Emitter } from '../../../../../../base/common/event.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../../base/test/common/utils.js';\nimport { IEditorOptions } from '../../../../../../editor/common/config/editorOptions.js';\nimport { TestConfigurationService } from '../../../../../../platform/configuration/test/common/testConfigurationService.js';\nimport { TestInstantiationService } from '../../../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { TerminalCapabilityStore } from '../../../../../../platform/terminal/common/capabilities/terminalCapabilityStore.js';\nimport { IThemeService } from '../../../../../../platform/theme/common/themeService.js';\nimport { TestColorTheme, TestThemeService } from '../../../../../../platform/theme/test/common/testThemeService.js';\nimport { PANEL_BACKGROUND, SIDE_BAR_BACKGROUND } from '../../../../../common/theme.js';\nimport { IViewDescriptor, IViewDescriptorService, ViewContainerLocation } from '../../../../../common/views.js';\nimport { XtermTerminal } from '../../../browser/xterm/xtermTerminal.js';\nimport { ITerminalConfiguration, TERMINAL_VIEW_ID } from '../../../common/terminal.js';\nimport { registerColors, TERMINAL_BACKGROUND_COLOR, TERMINAL_CURSOR_BACKGROUND_COLOR, TERMINAL_CURSOR_FOREGROUND_COLOR, TERMINAL_FOREGROUND_COLOR, TERMINAL_INACTIVE_SELECTION_BACKGROUND_COLOR, TERMINAL_SELECTION_BACKGROUND_COLOR, TERMINAL_SELECTION_FOREGROUND_COLOR } from '../../../common/terminalColorRegistry.js';\nimport { workbenchInstantiationService } from '../../../../../test/browser/workbenchTestServices.js';\nimport { IXtermAddonNameToCtor, XtermAddonImporter } from '../../../browser/xterm/xtermAddonImporter.js';\n\nregisterColors();\n\nclass TestWebglAddon implements WebglAddon {\n\tstatic shouldThrow = false;\n\tstatic isEnabled = false;\n\treadonly onChangeTextureAtlas = new Emitter().event as IEvent<HTMLCanvasElement>;\n\treadonly onAddTextureAtlasCanvas = new Emitter().event as IEvent<HTMLCanvasElement>;\n\treadonly onRemoveTextureAtlasCanvas = new Emitter().event as IEvent<HTMLCanvasElement, void>;\n\treadonly onContextLoss = new Emitter().event as IEvent<void>;\n\tconstructor(preserveDrawingBuffer?: boolean) {\n\t}\n\tactivate() {\n\t\tTestWebglAddon.isEnabled = !TestWebglAddon.shouldThrow;\n\t\tif (TestWebglAddon.shouldThrow) {\n\t\t\tthrow new Error('Test webgl set to throw');\n\t\t}\n\t}\n\tdispose() {\n\t\tTestWebglAddon.isEnabled = false;\n\t}\n\tclearTextureAtlas() { }\n}\n\nclass TestXtermAddonImporter extends XtermAddonImporter {\n\toverride async importAddon<T extends keyof IXtermAddonNameToCtor>(name: T): Promise<IXtermAddonNameToCtor[T]> {\n\t\tif (name === 'webgl') {\n\t\t\treturn TestWebglAddon as unknown as IXtermAddonNameToCtor[T];\n\t\t}\n\t\treturn super.importAddon(name);\n\t}\n}\n\nexport class TestViewDescriptorService implements Partial<IViewDescriptorService> {\n\tprivate _location = ViewContainerLocation.Panel;\n\tprivate _onDidChangeLocation = new Emitter<{ views: IViewDescriptor[]; from: ViewContainerLocation; to: ViewContainerLocation }>();\n\tonDidChangeLocation = this._onDidChangeLocation.event;\n\tgetViewLocationById(id: string) {\n\t\treturn this._location;\n\t}\n\tmoveTerminalToLocation(to: ViewContainerLocation) {\n\t\tconst oldLocation = this._location;\n\t\tthis._location = to;\n\t\tthis._onDidChangeLocation.fire({\n\t\t\tviews: [\n\t\t\t\t{ id: TERMINAL_VIEW_ID } as unknown as IViewDescriptor\n\t\t\t],\n\t\t\tfrom: oldLocation,\n\t\t\tto\n\t\t});\n\t}\n}\n\nconst defaultTerminalConfig: Partial<ITerminalConfiguration> = {\n\tfontFamily: 'monospace',\n\tfontWeight: 'normal',\n\tfontWeightBold: 'normal',\n\tgpuAcceleration: 'off',\n\tscrollback: 10,\n\tfastScrollSensitivity: 2,\n\tmouseWheelScrollSensitivity: 1,\n\tunicodeVersion: '6'\n};\n\nsuite('XtermTerminal', () => {\n\tconst store = ensureNoDisposablesAreLeakedInTestSuite();\n\n\tlet instantiationService: TestInstantiationService;\n\tlet configurationService: TestConfigurationService;\n\tlet themeService: TestThemeService;\n\tlet xterm: XtermTerminal;\n\tlet XTermBaseCtor: typeof Terminal;\n\n\tfunction write(data: string): Promise<void> {\n\t\treturn new Promise<void>((resolve) => {\n\t\t\txterm.write(data, resolve);\n\t\t});\n\t}\n\n\tsetup(async () => {\n\t\tconfigurationService = new TestConfigurationService({\n\t\t\teditor: {\n\t\t\t\tfastScrollSensitivity: 2,\n\t\t\t\tmouseWheelScrollSensitivity: 1\n\t\t\t} as Partial<IEditorOptions>,\n\t\t\tfiles: {},\n\t\t\tterminal: {\n\t\t\t\tintegrated: defaultTerminalConfig\n\t\t\t}\n\t\t});\n\n\t\tinstantiationService = workbenchInstantiationService({\n\t\t\tconfigurationService: () => configurationService\n\t\t}, store);\n\t\tthemeService = instantiationService.get(IThemeService) as TestThemeService;\n\n\t\tXTermBaseCtor = (await importAMDNodeModule<typeof import('@xterm/xterm')>('@xterm/xterm', 'lib/xterm.js')).Terminal;\n\n\t\tconst capabilityStore = store.add(new TerminalCapabilityStore());\n\t\txterm = store.add(instantiationService.createInstance(XtermTerminal, undefined, XTermBaseCtor, {\n\t\t\tcols: 80,\n\t\t\trows: 30,\n\t\t\txtermColorProvider: { getBackgroundColor: () => undefined },\n\t\t\tcapabilities: capabilityStore,\n\t\t\tdisableShellIntegrationReporting: true,\n\t\t\txtermAddonImporter: new TestXtermAddonImporter(),\n\t\t}, undefined));\n\n\t\tTestWebglAddon.shouldThrow = false;\n\t\tTestWebglAddon.isEnabled = false;\n\t});\n\n\ttest('should use fallback dimensions of 80x30', () => {\n\t\tstrictEqual(xterm.raw.cols, 80);\n\t\tstrictEqual(xterm.raw.rows, 30);\n\t});\n\n\tsuite('getContentsAsText', () => {\n\t\ttest('should return all buffer contents when no markers provided', async () => {\n\t\t\tawait write('line 1\\r\\nline 2\\r\\nline 3\\r\\nline 4\\r\\nline 5');\n\n\t\t\tconst result = xterm.getContentsAsText();\n\t\t\tstrictEqual(result.startsWith('line 1\\nline 2\\nline 3\\nline 4\\nline 5'), true, 'Should include the content plus empty lines up to buffer length');\n\t\t\tconst lines = result.split('\\n');\n\t\t\tstrictEqual(lines.length, xterm.raw.buffer.active.length, 'Should end with empty lines (total buffer size is 30 rows)');\n\t\t});\n\n\t\ttest('should return contents from start marker to end', async () => {\n\t\t\tawait write('line 1\\r\\n');\n\t\t\tconst startMarker = xterm.raw.registerMarker(0)!;\n\t\t\tawait write('line 2\\r\\nline 3\\r\\nline 4\\r\\nline 5');\n\n\t\t\tconst result = xterm.getContentsAsText(startMarker);\n\t\t\tstrictEqual(result.startsWith('line 2\\nline 3\\nline 4\\nline 5'), true, 'Should start with line 2 and include empty lines');\n\t\t});\n\n\t\ttest('should return contents from start to end marker', async () => {\n\t\t\tawait write('line 1\\r\\n');\n\t\t\tconst startMarker = xterm.raw.registerMarker(0)!;\n\t\t\tawait write('line 2\\r\\nline 3\\r\\n');\n\t\t\tconst endMarker = xterm.raw.registerMarker(0)!;\n\t\t\tawait write('line 4\\r\\nline 5');\n\n\t\t\tconst result = xterm.getContentsAsText(startMarker, endMarker);\n\t\t\tstrictEqual(result, 'line 2\\nline 3\\nline 4');\n\t\t});\n\n\t\ttest('should return single line when start and end markers are the same', async () => {\n\t\t\tawait write('line 1\\r\\nline 2\\r\\n');\n\t\t\tconst marker = xterm.raw.registerMarker(0)!;\n\t\t\tawait write('line 3\\r\\nline 4\\r\\nline 5');\n\n\t\t\tconst result = xterm.getContentsAsText(marker, marker);\n\t\t\tstrictEqual(result, 'line 3');\n\t\t});\n\n\t\ttest('should return empty string when start marker is beyond end marker', async () => {\n\t\t\tawait write('line 1\\r\\n');\n\t\t\tconst endMarker = xterm.raw.registerMarker(0)!;\n\t\t\tawait write('line 2\\r\\nline 3\\r\\n');\n\t\t\tconst startMarker = xterm.raw.registerMarker(0)!;\n\t\t\tawait write('line 4\\r\\nline 5');\n\n\t\t\tconst result = xterm.getContentsAsText(startMarker, endMarker);\n\t\t\tstrictEqual(result, '');\n\t\t});\n\n\t\ttest('should handle empty buffer', async () => {\n\t\t\tconst result = xterm.getContentsAsText();\n\t\t\tconst lines = result.split('\\n');\n\t\t\tstrictEqual(lines.length, xterm.raw.buffer.active.length, 'Empty terminal should have empty lines equal to buffer length');\n\t\t\tstrictEqual(lines.every(line => line === ''), true, 'All lines should be empty');\n\t\t});\n\n\t\ttest('should handle mixed content with spaces and special characters', async () => {\n\t\t\tawait write('hello world\\r\\n  indented line\\r\\nline with $pecial chars!@#\\r\\n\\r\\nempty line above');\n\n\t\t\tconst result = xterm.getContentsAsText();\n\t\t\tstrictEqual(result.startsWith('hello world\\n  indented line\\nline with $pecial chars!@#\\n\\nempty line above'), true, 'Should handle spaces and special characters correctly');\n\t\t});\n\n\t\ttest('should throw error when startMarker is disposed (line === -1)', async () => {\n\t\t\tawait write('line 1\\r\\n');\n\t\t\tconst disposedMarker = xterm.raw.registerMarker(0)!;\n\t\t\tawait write('line 2\\r\\nline 3\\r\\nline 4\\r\\nline 5');\n\n\t\t\tdisposedMarker.dispose();\n\n\t\t\ttry {\n\t\t\t\txterm.getContentsAsText(disposedMarker);\n\t\t\t\tthrow new Error('Expected error was not thrown');\n\t\t\t} catch (error: any) {\n\t\t\t\tstrictEqual(error.message, 'Cannot get contents of a disposed startMarker');\n\t\t\t}\n\t\t});\n\n\t\ttest('should throw error when endMarker is disposed (line === -1)', async () => {\n\t\t\tawait write('line 1\\r\\n');\n\t\t\tconst startMarker = xterm.raw.registerMarker(0)!;\n\t\t\tawait write('line 2\\r\\n');\n\t\t\tconst disposedEndMarker = xterm.raw.registerMarker(0)!;\n\t\t\tawait write('line 3\\r\\nline 4\\r\\nline 5');\n\n\t\t\tdisposedEndMarker.dispose();\n\n\t\t\ttry {\n\t\t\t\txterm.getContentsAsText(startMarker, disposedEndMarker);\n\t\t\t\tthrow new Error('Expected error was not thrown');\n\t\t\t} catch (error: any) {\n\t\t\t\tstrictEqual(error.message, 'Cannot get contents of a disposed endMarker');\n\t\t\t}\n\t\t});\n\n\t\ttest('should handle markers at buffer boundaries', async () => {\n\t\t\tconst startMarker = xterm.raw.registerMarker(0)!;\n\t\t\tawait write('line 1\\r\\nline 2\\r\\nline 3\\r\\nline 4\\r\\n');\n\t\t\tconst endMarker = xterm.raw.registerMarker(0)!;\n\t\t\tawait write('line 5');\n\n\t\t\tconst result = xterm.getContentsAsText(startMarker, endMarker);\n\t\t\tstrictEqual(result, 'line 1\\nline 2\\nline 3\\nline 4\\nline 5', 'Should handle markers at buffer boundaries correctly');\n\t\t});\n\n\t\ttest('should handle terminal escape sequences properly', async () => {\n\t\t\tawait write('\\x1b[31mred text\\x1b[0m\\r\\n\\x1b[32mgreen text\\x1b[0m');\n\n\t\t\tconst result = xterm.getContentsAsText();\n\t\t\tstrictEqual(result.startsWith('red text\\ngreen text'), true, 'ANSI escape sequences should be filtered out, but there will be trailing empty lines');\n\t\t});\n\t});\n\n\tsuite('getBufferReverseIterator', () => {\n\t\ttest('should get text properly within scrollback limit', async () => {\n\t\t\tconst text = 'line 1\\r\\nline 2\\r\\nline 3\\r\\nline 4\\r\\nline 5';\n\t\t\tawait write(text);\n\n\t\t\tconst result = [...xterm.getBufferReverseIterator()].reverse().join('\\r\\n');\n\t\t\tstrictEqual(text, result, 'Should equal original text');\n\t\t});\n\t\ttest('should get text properly when exceed scrollback limit', async () => {\n\t\t\t// max buffer lines(40) = rows(30) + scrollback(10)\n\t\t\tconst text = 'line 1\\r\\nline 2\\r\\nline 3\\r\\nline 4\\r\\nline 5\\r\\n'.repeat(8).trim();\n\t\t\tawait write(text);\n\t\t\tawait write('\\r\\nline more');\n\n\t\t\tconst result = [...xterm.getBufferReverseIterator()].reverse().join('\\r\\n');\n\t\t\tconst expect = text.slice(8) + '\\r\\nline more';\n\t\t\tstrictEqual(expect, result, 'Should equal original text without line 1');\n\t\t});\n\t});\n\n\tsuite('theme', () => {\n\t\ttest('should apply correct background color based on getBackgroundColor', () => {\n\t\t\tthemeService.setTheme(new TestColorTheme({\n\t\t\t\t[PANEL_BACKGROUND]: '#ff0000',\n\t\t\t\t[SIDE_BAR_BACKGROUND]: '#00ff00'\n\t\t\t}));\n\t\t\txterm = store.add(instantiationService.createInstance(XtermTerminal, undefined, XTermBaseCtor, {\n\t\t\t\tcols: 80,\n\t\t\t\trows: 30,\n\t\t\t\txtermAddonImporter: new TestXtermAddonImporter(),\n\t\t\t\txtermColorProvider: { getBackgroundColor: () => new Color(new RGBA(255, 0, 0)) },\n\t\t\t\tcapabilities: store.add(new TerminalCapabilityStore()),\n\t\t\t\tdisableShellIntegrationReporting: true,\n\t\t\t}, undefined));\n\t\t\tstrictEqual(xterm.raw.options.theme?.background, '#ff0000');\n\t\t});\n\t\ttest('should react to and apply theme changes', () => {\n\t\t\tthemeService.setTheme(new TestColorTheme({\n\t\t\t\t[TERMINAL_BACKGROUND_COLOR]: '#000100',\n\t\t\t\t[TERMINAL_FOREGROUND_COLOR]: '#000200',\n\t\t\t\t[TERMINAL_CURSOR_FOREGROUND_COLOR]: '#000300',\n\t\t\t\t[TERMINAL_CURSOR_BACKGROUND_COLOR]: '#000400',\n\t\t\t\t[TERMINAL_SELECTION_BACKGROUND_COLOR]: '#000500',\n\t\t\t\t[TERMINAL_INACTIVE_SELECTION_BACKGROUND_COLOR]: '#000600',\n\t\t\t\t[TERMINAL_SELECTION_FOREGROUND_COLOR]: undefined,\n\t\t\t\t'terminal.ansiBlack': '#010000',\n\t\t\t\t'terminal.ansiRed': '#020000',\n\t\t\t\t'terminal.ansiGreen': '#030000',\n\t\t\t\t'terminal.ansiYellow': '#040000',\n\t\t\t\t'terminal.ansiBlue': '#050000',\n\t\t\t\t'terminal.ansiMagenta': '#060000',\n\t\t\t\t'terminal.ansiCyan': '#070000',\n\t\t\t\t'terminal.ansiWhite': '#080000',\n\t\t\t\t'terminal.ansiBrightBlack': '#090000',\n\t\t\t\t'terminal.ansiBrightRed': '#100000',\n\t\t\t\t'terminal.ansiBrightGreen': '#110000',\n\t\t\t\t'terminal.ansiBrightYellow': '#120000',\n\t\t\t\t'terminal.ansiBrightBlue': '#130000',\n\t\t\t\t'terminal.ansiBrightMagenta': '#140000',\n\t\t\t\t'terminal.ansiBrightCyan': '#150000',\n\t\t\t\t'terminal.ansiBrightWhite': '#160000',\n\t\t\t}));\n\t\t\txterm = store.add(instantiationService.createInstance(XtermTerminal, undefined, XTermBaseCtor, {\n\t\t\t\tcols: 80,\n\t\t\t\trows: 30,\n\t\t\t\txtermAddonImporter: new TestXtermAddonImporter(),\n\t\t\t\txtermColorProvider: { getBackgroundColor: () => undefined },\n\t\t\t\tcapabilities: store.add(new TerminalCapabilityStore()),\n\t\t\t\tdisableShellIntegrationReporting: true\n\t\t\t}, undefined));\n\t\t\tdeepStrictEqual(xterm.raw.options.theme, {\n\t\t\t\tbackground: undefined,\n\t\t\t\tforeground: '#000200',\n\t\t\t\tcursor: '#000300',\n\t\t\t\tcursorAccent: '#000400',\n\t\t\t\tselectionBackground: '#000500',\n\t\t\t\tselectionInactiveBackground: '#000600',\n\t\t\t\tselectionForeground: undefined,\n\t\t\t\toverviewRulerBorder: undefined,\n\t\t\t\tscrollbarSliderActiveBackground: undefined,\n\t\t\t\tscrollbarSliderBackground: undefined,\n\t\t\t\tscrollbarSliderHoverBackground: undefined,\n\t\t\t\tblack: '#010000',\n\t\t\t\tgreen: '#030000',\n\t\t\t\tred: '#020000',\n\t\t\t\tyellow: '#040000',\n\t\t\t\tblue: '#050000',\n\t\t\t\tmagenta: '#060000',\n\t\t\t\tcyan: '#070000',\n\t\t\t\twhite: '#080000',\n\t\t\t\tbrightBlack: '#090000',\n\t\t\t\tbrightRed: '#100000',\n\t\t\t\tbrightGreen: '#110000',\n\t\t\t\tbrightYellow: '#120000',\n\t\t\t\tbrightBlue: '#130000',\n\t\t\t\tbrightMagenta: '#140000',\n\t\t\t\tbrightCyan: '#150000',\n\t\t\t\tbrightWhite: '#160000',\n\t\t\t});\n\t\t\tthemeService.setTheme(new TestColorTheme({\n\t\t\t\t[TERMINAL_BACKGROUND_COLOR]: '#00010f',\n\t\t\t\t[TERMINAL_FOREGROUND_COLOR]: '#00020f',\n\t\t\t\t[TERMINAL_CURSOR_FOREGROUND_COLOR]: '#00030f',\n\t\t\t\t[TERMINAL_CURSOR_BACKGROUND_COLOR]: '#00040f',\n\t\t\t\t[TERMINAL_SELECTION_BACKGROUND_COLOR]: '#00050f',\n\t\t\t\t[TERMINAL_INACTIVE_SELECTION_BACKGROUND_COLOR]: '#00060f',\n\t\t\t\t[TERMINAL_SELECTION_FOREGROUND_COLOR]: '#00070f',\n\t\t\t\t'terminal.ansiBlack': '#01000f',\n\t\t\t\t'terminal.ansiRed': '#02000f',\n\t\t\t\t'terminal.ansiGreen': '#03000f',\n\t\t\t\t'terminal.ansiYellow': '#04000f',\n\t\t\t\t'terminal.ansiBlue': '#05000f',\n\t\t\t\t'terminal.ansiMagenta': '#06000f',\n\t\t\t\t'terminal.ansiCyan': '#07000f',\n\t\t\t\t'terminal.ansiWhite': '#08000f',\n\t\t\t\t'terminal.ansiBrightBlack': '#09000f',\n\t\t\t\t'terminal.ansiBrightRed': '#10000f',\n\t\t\t\t'terminal.ansiBrightGreen': '#11000f',\n\t\t\t\t'terminal.ansiBrightYellow': '#12000f',\n\t\t\t\t'terminal.ansiBrightBlue': '#13000f',\n\t\t\t\t'terminal.ansiBrightMagenta': '#14000f',\n\t\t\t\t'terminal.ansiBrightCyan': '#15000f',\n\t\t\t\t'terminal.ansiBrightWhite': '#16000f',\n\t\t\t}));\n\t\t\tdeepStrictEqual(xterm.raw.options.theme, {\n\t\t\t\tbackground: undefined,\n\t\t\t\tforeground: '#00020f',\n\t\t\t\tcursor: '#00030f',\n\t\t\t\tcursorAccent: '#00040f',\n\t\t\t\tselectionBackground: '#00050f',\n\t\t\t\tselectionInactiveBackground: '#00060f',\n\t\t\t\tselectionForeground: '#00070f',\n\t\t\t\toverviewRulerBorder: undefined,\n\t\t\t\tscrollbarSliderActiveBackground: undefined,\n\t\t\t\tscrollbarSliderBackground: undefined,\n\t\t\t\tscrollbarSliderHoverBackground: undefined,\n\t\t\t\tblack: '#01000f',\n\t\t\t\tgreen: '#03000f',\n\t\t\t\tred: '#02000f',\n\t\t\t\tyellow: '#04000f',\n\t\t\t\tblue: '#05000f',\n\t\t\t\tmagenta: '#06000f',\n\t\t\t\tcyan: '#07000f',\n\t\t\t\twhite: '#08000f',\n\t\t\t\tbrightBlack: '#09000f',\n\t\t\t\tbrightRed: '#10000f',\n\t\t\t\tbrightGreen: '#11000f',\n\t\t\t\tbrightYellow: '#12000f',\n\t\t\t\tbrightBlue: '#13000f',\n\t\t\t\tbrightMagenta: '#14000f',\n\t\t\t\tbrightCyan: '#15000f',\n\t\t\t\tbrightWhite: '#16000f',\n\t\t\t});\n\t\t});\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type { WebglAddon } from '@xterm/addon-webgl';\nimport type { IEvent, Terminal } from '@xterm/xterm';\nimport { deepStrictEqual, strictEqual } from 'assert';\nimport { importAMDNodeModule } from '../../../../../../amdX.js';\nimport { Color, RGBA } from '../../../../../../base/common/color.js';\nimport { Emitter } from '../../../../../../base/common/event.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../../base/test/common/utils.js';\nimport { IEditorOptions } from '../../../../../../editor/common/config/editorOptions.js';\nimport { TestConfigurationService } from '../../../../../../platform/configuration/test/common/testConfigurationService.js';\nimport { TestInstantiationService } from '../../../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { TerminalCapabilityStore } from '../../../../../../platform/terminal/common/capabilities/terminalCapabilityStore.js';\nimport { IThemeService } from '../../../../../../platform/theme/common/themeService.js';\nimport { TestColorTheme, TestThemeService } from '../../../../../../platform/theme/test/common/testThemeService.js';\nimport { PANEL_BACKGROUND, SIDE_BAR_BACKGROUND } from '../../../../../common/theme.js';\nimport { IViewDescriptor, IViewDescriptorService, ViewContainerLocation } from '../../../../../common/views.js';\nimport { XtermTerminal } from '../../../browser/xterm/xtermTerminal.js';\nimport { ITerminalConfiguration, TERMINAL_VIEW_ID } from '../../../common/terminal.js';\nimport { registerColors, TERMINAL_BACKGROUND_COLOR, TERMINAL_CURSOR_BACKGROUND_COLOR, TERMINAL_CURSOR_FOREGROUND_COLOR, TERMINAL_FOREGROUND_COLOR, TERMINAL_INACTIVE_SELECTION_BACKGROUND_COLOR, TERMINAL_SELECTION_BACKGROUND_COLOR, TERMINAL_SELECTION_FOREGROUND_COLOR } from '../../../common/terminalColorRegistry.js';\nimport { workbenchInstantiationService } from '../../../../../test/browser/workbenchTestServices.js';\nimport { IXtermAddonNameToCtor, XtermAddonImporter } from '../../../browser/xterm/xtermAddonImporter.js';\n\nregisterColors();\n\nclass TestWebglAddon implements WebglAddon {\n\tstatic shouldThrow = false;\n\tstatic isEnabled = false;\n\treadonly onChangeTextureAtlas = new Emitter().event as IEvent<HTMLCanvasElement>;\n\treadonly onAddTextureAtlasCanvas = new Emitter().event as IEvent<HTMLCanvasElement>;\n\treadonly onRemoveTextureAtlasCanvas = new Emitter().event as IEvent<HTMLCanvasElement, void>;\n\treadonly onContextLoss = new Emitter().event as IEvent<void>;\n\tconstructor(preserveDrawingBuffer?: boolean) {\n\t}\n\tactivate() {\n\t\tTestWebglAddon.isEnabled = !TestWebglAddon.shouldThrow;\n\t\tif (TestWebglAddon.shouldThrow) {\n\t\t\tthrow new Error('Test webgl set to throw');\n\t\t}\n\t}\n\tdispose() {\n\t\tTestWebglAddon.isEnabled = false;\n\t}\n\tclearTextureAtlas() { }\n}\n\nclass TestXtermAddonImporter extends XtermAddonImporter {\n\toverride async importAddon<T extends keyof IXtermAddonNameToCtor>(name: T): Promise<IXtermAddonNameToCtor[T]> {\n\t\tif (name === 'webgl') {\n\t\t\treturn TestWebglAddon as unknown as IXtermAddonNameToCtor[T];\n\t\t}\n\t\treturn super.importAddon(name);\n\t}\n}\n\nexport class TestViewDescriptorService implements Partial<IViewDescriptorService> {\n\tprivate _location = ViewContainerLocation.Panel;\n\tprivate _onDidChangeLocation = new Emitter<{ views: IViewDescriptor[]; from: ViewContainerLocation; to: ViewContainerLocation }>();\n\tonDidChangeLocation = this._onDidChangeLocation.event;\n\tgetViewLocationById(id: string) {\n\t\treturn this._location;\n\t}\n\tmoveTerminalToLocation(to: ViewContainerLocation) {\n\t\tconst oldLocation = this._location;\n\t\tthis._location = to;\n\t\tthis._onDidChangeLocation.fire({\n\t\t\tviews: [\n\t\t\t\t{ id: TERMINAL_VIEW_ID } as unknown as IViewDescriptor\n\t\t\t],\n\t\t\tfrom: oldLocation,\n\t\t\tto\n\t\t});\n\t}\n}\n\nconst defaultTerminalConfig: Partial<ITerminalConfiguration> = {\n\tfontFamily: 'monospace',\n\tfontWeight: 'normal',\n\tfontWeightBold: 'normal',\n\tgpuAcceleration: 'off',\n\tscrollback: 10,\n\tfastScrollSensitivity: 2,\n\tmouseWheelScrollSensitivity: 1,\n\tunicodeVersion: '6'\n};\n\nsuite('XtermTerminal', () => {\n\tconst store = ensureNoDisposablesAreLeakedInTestSuite();\n\n\tlet instantiationService: TestInstantiationService;\n\tlet configurationService: TestConfigurationService;\n\tlet themeService: TestThemeService;\n\tlet xterm: XtermTerminal;\n\tlet XTermBaseCtor: typeof Terminal;\n\n\tfunction write(data: string): Promise<void> {\n\t\treturn new Promise<void>((resolve) => {\n\t\t\txterm.write(data, resolve);\n\t\t});\n\t}\n\n\tsetup(async () => {\n\t\tconfigurationService = new TestConfigurationService({\n\t\t\teditor: {\n\t\t\t\tfastScrollSensitivity: 2,\n\t\t\t\tmouseWheelScrollSensitivity: 1\n\t\t\t} as Partial<IEditorOptions>,\n\t\t\tfiles: {},\n\t\t\tterminal: {\n\t\t\t\tintegrated: defaultTerminalConfig\n\t\t\t}\n\t\t});\n\n\t\tinstantiationService = workbenchInstantiationService({\n\t\t\tconfigurationService: () => configurationService\n\t\t}, store);\n\t\tthemeService = instantiationService.get(IThemeService) as TestThemeService;\n\n\t\tXTermBaseCtor = (await importAMDNodeModule<typeof import('@xterm/xterm')>('@xterm/xterm', 'lib/xterm.js')).Terminal;\n\n\t\tconst capabilityStore = store.add(new TerminalCapabilityStore());\n\t\txterm = store.add(instantiationService.createInstance(XtermTerminal, undefined, XTermBaseCtor, {\n\t\t\tcols: 80,\n\t\t\trows: 30,\n\t\t\txtermColorProvider: { getBackgroundColor: () => undefined },\n\t\t\tcapabilities: capabilityStore,\n\t\t\tdisableShellIntegrationReporting: true,\n\t\t\txtermAddonImporter: new TestXtermAddonImporter(),\n\t\t}, undefined));\n\n\t\tTestWebglAddon.shouldThrow = false;\n\t\tTestWebglAddon.isEnabled = false;\n\t});\n\n\ttest('should use fallback dimensions of 80x30', () => {\n\t\tstrictEqual(xterm.raw.cols, 80);\n\t\tstrictEqual(xterm.raw.rows, 30);\n\t});\n\n\tsuite('getContentsAsText', () => {\n\t\ttest('should return all buffer contents when no markers provided', async () => {\n\t\t\tawait write('line 1\\r\\nline 2\\r\\nline 3\\r\\nline 4\\r\\nline 5');\n\n\t\t\tconst result = xterm.getContentsAsText();\n\t\t\tstrictEqual(result.startsWith('line 1\\nline 2\\nline 3\\nline 4\\nline 5'), true, 'Should include the content plus empty lines up to buffer length');\n\t\t\tconst lines = result.split('\\n');\n\t\t\tstrictEqual(lines.length, xterm.raw.buffer.active.length, 'Should end with empty lines (total buffer size is 30 rows)');\n\t\t});\n\n\t\ttest('should return contents from start marker to end', async () => {\n\t\t\tawait write('line 1\\r\\n');\n\t\t\tconst startMarker = xterm.raw.registerMarker(0)!;\n\t\t\tawait write('line 2\\r\\nline 3\\r\\nline 4\\r\\nline 5');\n\n\t\t\tconst result = xterm.getContentsAsText(startMarker);\n\t\t\tstrictEqual(result.startsWith('line 2\\nline 3\\nline 4\\nline 5'), true, 'Should start with line 2 and include empty lines');\n\t\t});\n\n\t\ttest('should return contents from start to end marker', async () => {\n\t\t\tawait write('line 1\\r\\n');\n\t\t\tconst startMarker = xterm.raw.registerMarker(0)!;\n\t\t\tawait write('line 2\\r\\nline 3\\r\\n');\n\t\t\tconst endMarker = xterm.raw.registerMarker(0)!;\n\t\t\tawait write('line 4\\r\\nline 5');\n\n\t\t\tconst result = xterm.getContentsAsText(startMarker, endMarker);\n\t\t\tstrictEqual(result, 'line 2\\nline 3\\nline 4');\n\t\t});\n\n\t\ttest('should return single line when start and end markers are the same', async () => {\n\t\t\tawait write('line 1\\r\\nline 2\\r\\n');\n\t\t\tconst marker = xterm.raw.registerMarker(0)!;\n\t\t\tawait write('line 3\\r\\nline 4\\r\\nline 5');\n\n\t\t\tconst result = xterm.getContentsAsText(marker, marker);\n\t\t\tstrictEqual(result, 'line 3');\n\t\t});\n\n\t\ttest('should return empty string when start marker is beyond end marker', async () => {\n\t\t\tawait write('line 1\\r\\n');\n\t\t\tconst endMarker = xterm.raw.registerMarker(0)!;\n\t\t\tawait write('line 2\\r\\nline 3\\r\\n');\n\t\t\tconst startMarker = xterm.raw.registerMarker(0)!;\n\t\t\tawait write('line 4\\r\\nline 5');\n\n\t\t\tconst result = xterm.getContentsAsText(startMarker, endMarker);\n\t\t\tstrictEqual(result, '');\n\t\t});\n\n\t\ttest('should handle empty buffer', async () => {\n\t\t\tconst result = xterm.getContentsAsText();\n\t\t\tconst lines = result.split('\\n');\n\t\t\tstrictEqual(lines.length, xterm.raw.buffer.active.length, 'Empty terminal should have empty lines equal to buffer length');\n\t\t\tstrictEqual(lines.every(line => line === ''), true, 'All lines should be empty');\n\t\t});\n\n\t\ttest('should handle mixed content with spaces and special characters', async () => {\n\t\t\tawait write('hello world\\r\\n  indented line\\r\\nline with $pecial chars!@#\\r\\n\\r\\nempty line above');\n\n\t\t\tconst result = xterm.getContentsAsText();\n\t\t\tstrictEqual(result.startsWith('hello world\\n  indented line\\nline with $pecial chars!@#\\n\\nempty line above'), true, 'Should handle spaces and special characters correctly');\n\t\t});\n\n\t\ttest('should throw error when startMarker is disposed (line === -1)', async () => {\n\t\t\tawait write('line 1\\r\\n');\n\t\t\tconst disposedMarker = xterm.raw.registerMarker(0)!;\n\t\t\tawait write('line 2\\r\\nline 3\\r\\nline 4\\r\\nline 5');\n\n\t\t\tdisposedMarker.dispose();\n\n\t\t\ttry {\n\t\t\t\txterm.getContentsAsText(disposedMarker);\n\t\t\t\tthrow new Error('Expected error was not thrown');\n\t\t\t} catch (error: any) {\n\t\t\t\tstrictEqual(error.message, 'Cannot get contents of a disposed startMarker');\n\t\t\t}\n\t\t});\n\n\t\ttest('should throw error when endMarker is disposed (line === -1)', async () => {\n\t\t\tawait write('line 1\\r\\n');\n\t\t\tconst startMarker = xterm.raw.registerMarker(0)!;\n\t\t\tawait write('line 2\\r\\n');\n\t\t\tconst disposedEndMarker = xterm.raw.registerMarker(0)!;\n\t\t\tawait write('line 3\\r\\nline 4\\r\\nline 5');\n\n\t\t\tdisposedEndMarker.dispose();\n\n\t\t\ttry {\n\t\t\t\txterm.getContentsAsText(startMarker, disposedEndMarker);\n\t\t\t\tthrow new Error('Expected error was not thrown');\n\t\t\t} catch (error: any) {\n\t\t\t\tstrictEqual(error.message, 'Cannot get contents of a disposed endMarker');\n\t\t\t}\n\t\t});\n\n\t\ttest('should handle markers at buffer boundaries', async () => {\n\t\t\tconst startMarker = xterm.raw.registerMarker(0)!;\n\t\t\tawait write('line 1\\r\\nline 2\\r\\nline 3\\r\\nline 4\\r\\n');\n\t\t\tconst endMarker = xterm.raw.registerMarker(0)!;\n\t\t\tawait write('line 5');\n\n\t\t\tconst result = xterm.getContentsAsText(startMarker, endMarker);\n\t\t\tstrictEqual(result, 'line 1\\nline 2\\nline 3\\nline 4\\nline 5', 'Should handle markers at buffer boundaries correctly');\n\t\t});\n\n\t\ttest('should handle terminal escape sequences properly', async () => {\n\t\t\tawait write('\\x1b[31mred text\\x1b[0m\\r\\n\\x1b[32mgreen text\\x1b[0m');\n\n\t\t\tconst result = xterm.getContentsAsText();\n\t\t\tstrictEqual(result.startsWith('red text\\ngreen text'), true, 'ANSI escape sequences should be filtered out, but there will be trailing empty lines');\n\t\t});\n\t});\n\n\tsuite('getBufferReverseIterator', () => {\n\t\ttest('should get text properly within scrollback limit', async () => {\n\t\t\tconst text = 'line 1\\r\\nline 2\\r\\nline 3\\r\\nline 4\\r\\nline 5';\n\t\t\tawait write(text);\n\n\t\t\tconst result = [...xterm.getBufferReverseIterator()].reverse().join('\\r\\n');\n\t\t\tstrictEqual(text, result, 'Should equal original text');\n\t\t});\n\t\ttest('should get text properly when exceed scrollback limit', async () => {\n\t\t\t// max buffer lines(40) = rows(30) + scrollback(10)\n\t\t\tconst text = 'line 1\\r\\nline 2\\r\\nline 3\\r\\nline 4\\r\\nline 5\\r\\n'.repeat(8).trim();\n\t\t\tawait write(text);\n\t\t\tawait write('\\r\\nline more');\n\n\t\t\tconst result = [...xterm.getBufferReverseIterator()].reverse().join('\\r\\n');\n\t\t\tconst expect = text.slice(8) + '\\r\\nline more';\n\t\t\tstrictEqual(expect, result, 'Should equal original text without line 1');\n\t\t});\n\t});\n\n\tsuite('theme', () => {\n\t\ttest('should apply correct background color based on getBackgroundColor', () => {\n\t\t\tthemeService.setTheme(new TestColorTheme({\n\t\t\t\t[PANEL_BACKGROUND]: '#ff0000',\n\t\t\t\t[SIDE_BAR_BACKGROUND]: '#00ff00'\n\t\t\t}));\n\t\t\txterm = store.add(instantiationService.createInstance(XtermTerminal, undefined, XTermBaseCtor, {\n\t\t\t\tcols: 80,\n\t\t\t\trows: 30,\n\t\t\t\txtermAddonImporter: new TestXtermAddonImporter(),\n\t\t\t\txtermColorProvider: { getBackgroundColor: () => new Color(new RGBA(255, 0, 0)) },\n\t\t\t\tcapabilities: store.add(new TerminalCapabilityStore()),\n\t\t\t\tdisableShellIntegrationReporting: true,\n\t\t\t}, undefined));\n\t\t\tstrictEqual(xterm.raw.options.theme?.background, '#ff0000');\n\t\t});\n\t\ttest('should react to and apply theme changes', () => {\n\t\t\tthemeService.setTheme(new TestColorTheme({\n\t\t\t\t[TERMINAL_BACKGROUND_COLOR]: '#000100',\n\t\t\t\t[TERMINAL_FOREGROUND_COLOR]: '#000200',\n\t\t\t\t[TERMINAL_CURSOR_FOREGROUND_COLOR]: '#000300',\n\t\t\t\t[TERMINAL_CURSOR_BACKGROUND_COLOR]: '#000400',\n\t\t\t\t[TERMINAL_SELECTION_BACKGROUND_COLOR]: '#000500',\n\t\t\t\t[TERMINAL_INACTIVE_SELECTION_BACKGROUND_COLOR]: '#000600',\n\t\t\t\t[TERMINAL_SELECTION_FOREGROUND_COLOR]: undefined,\n\t\t\t\t'terminal.ansiBlack': '#010000',\n\t\t\t\t'terminal.ansiRed': '#020000',\n\t\t\t\t'terminal.ansiGreen': '#030000',\n\t\t\t\t'terminal.ansiYellow': '#040000',\n\t\t\t\t'terminal.ansiBlue': '#050000',\n\t\t\t\t'terminal.ansiMagenta': '#060000',\n\t\t\t\t'terminal.ansiCyan': '#070000',\n\t\t\t\t'terminal.ansiWhite': '#080000',\n\t\t\t\t'terminal.ansiBrightBlack': '#090000',\n\t\t\t\t'terminal.ansiBrightRed': '#100000',\n\t\t\t\t'terminal.ansiBrightGreen': '#110000',\n\t\t\t\t'terminal.ansiBrightYellow': '#120000',\n\t\t\t\t'terminal.ansiBrightBlue': '#130000',\n\t\t\t\t'terminal.ansiBrightMagenta': '#140000',\n\t\t\t\t'terminal.ansiBrightCyan': '#150000',\n\t\t\t\t'terminal.ansiBrightWhite': '#160000',\n\t\t\t}));\n\t\t\txterm = store.add(instantiationService.createInstance(XtermTerminal, undefined, XTermBaseCtor, {\n\t\t\t\tcols: 80,\n\t\t\t\trows: 30,\n\t\t\t\txtermAddonImporter: new TestXtermAddonImporter(),\n\t\t\t\txtermColorProvider: { getBackgroundColor: () => undefined },\n\t\t\t\tcapabilities: store.add(new TerminalCapabilityStore()),\n\t\t\t\tdisableShellIntegrationReporting: true\n\t\t\t}, undefined));\n\t\t\tdeepStrictEqual(xterm.raw.options.theme, {\n\t\t\t\tbackground: undefined,\n\t\t\t\tforeground: '#000200',\n\t\t\t\tcursor: '#000300',\n\t\t\t\tcursorAccent: '#000400',\n\t\t\t\tselectionBackground: '#000500',\n\t\t\t\tselectionInactiveBackground: '#000600',\n\t\t\t\tselectionForeground: undefined,\n\t\t\t\toverviewRulerBorder: undefined,\n\t\t\t\tscrollbarSliderActiveBackground: undefined,\n\t\t\t\tscrollbarSliderBackground: undefined,\n\t\t\t\tscrollbarSliderHoverBackground: undefined,\n\t\t\t\tblack: '#010000',\n\t\t\t\tgreen: '#030000',\n\t\t\t\tred: '#020000',\n\t\t\t\tyellow: '#040000',\n\t\t\t\tblue: '#050000',\n\t\t\t\tmagenta: '#060000',\n\t\t\t\tcyan: '#070000',\n\t\t\t\twhite: '#080000',\n\t\t\t\tbrightBlack: '#090000',\n\t\t\t\tbrightRed: '#100000',\n\t\t\t\tbrightGreen: '#110000',\n\t\t\t\tbrightYellow: '#120000',\n\t\t\t\tbrightBlue: '#130000',\n\t\t\t\tbrightMagenta: '#140000',\n\t\t\t\tbrightCyan: '#150000',\n\t\t\t\tbrightWhite: '#160000',\n\t\t\t});\n\t\t\tthemeService.setTheme(new TestColorTheme({\n\t\t\t\t[TERMINAL_BACKGROUND_COLOR]: '#00010f',\n\t\t\t\t[TERMINAL_FOREGROUND_COLOR]: '#00020f',\n\t\t\t\t[TERMINAL_CURSOR_FOREGROUND_COLOR]: '#00030f',\n\t\t\t\t[TERMINAL_CURSOR_BACKGROUND_COLOR]: '#00040f',\n\t\t\t\t[TERMINAL_SELECTION_BACKGROUND_COLOR]: '#00050f',\n\t\t\t\t[TERMINAL_INACTIVE_SELECTION_BACKGROUND_COLOR]: '#00060f',\n\t\t\t\t[TERMINAL_SELECTION_FOREGROUND_COLOR]: '#00070f',\n\t\t\t\t'terminal.ansiBlack': '#01000f',\n\t\t\t\t'terminal.ansiRed': '#02000f',\n\t\t\t\t'terminal.ansiGreen': '#03000f',\n\t\t\t\t'terminal.ansiYellow': '#04000f',\n\t\t\t\t'terminal.ansiBlue': '#05000f',\n\t\t\t\t'terminal.ansiMagenta': '#06000f',\n\t\t\t\t'terminal.ansiCyan': '#07000f',\n\t\t\t\t'terminal.ansiWhite': '#08000f',\n\t\t\t\t'terminal.ansiBrightBlack': '#09000f',\n\t\t\t\t'terminal.ansiBrightRed': '#10000f',\n\t\t\t\t'terminal.ansiBrightGreen': '#11000f',\n\t\t\t\t'terminal.ansiBrightYellow': '#12000f',\n\t\t\t\t'terminal.ansiBrightBlue': '#13000f',\n\t\t\t\t'terminal.ansiBrightMagenta': '#14000f',\n\t\t\t\t'terminal.ansiBrightCyan': '#15000f',\n\t\t\t\t'terminal.ansiBrightWhite': '#16000f',\n\t\t\t}));\n\t\t\tdeepStrictEqual(xterm.raw.options.theme, {\n\t\t\t\tbackground: undefined,\n\t\t\t\tforeground: '#00020f',\n\t\t\t\tcursor: '#00030f',\n\t\t\t\tcursorAccent: '#00040f',\n\t\t\t\tselectionBackground: '#00050f',\n\t\t\t\tselectionInactiveBackground: '#00060f',\n\t\t\t\tselectionForeground: '#00070f',\n\t\t\t\toverviewRulerBorder: undefined,\n\t\t\t\tscrollbarSliderActiveBackground: undefined,\n\t\t\t\tscrollbarSliderBackground: undefined,\n\t\t\t\tscrollbarSliderHoverBackground: undefined,\n\t\t\t\tblack: '#01000f',\n\t\t\t\tgreen: '#03000f',\n\t\t\t\tred: '#02000f',\n\t\t\t\tyellow: '#04000f',\n\t\t\t\tblue: '#05000f',\n\t\t\t\tmagenta: '#06000f',\n\t\t\t\tcyan: '#07000f',\n\t\t\t\twhite: '#08000f',\n\t\t\t\tbrightBlack: '#09000f',\n\t\t\t\tbrightRed: '#10000f',\n\t\t\t\tbrightGreen: '#11000f',\n\t\t\t\tbrightYellow: '#12000f',\n\t\t\t\tbrightBlue: '#13000f',\n\t\t\t\tbrightMagenta: '#14000f',\n\t\t\t\tbrightCyan: '#15000f',\n\t\t\t\tbrightWhite: '#16000f',\n\t\t\t});\n\t\t});\n\t});\n});\n"]}