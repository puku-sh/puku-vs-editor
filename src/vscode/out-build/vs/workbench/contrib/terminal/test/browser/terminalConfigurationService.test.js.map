{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/terminal/test/browser/terminalConfigurationService.test.ts","vs/workbench/contrib/terminal/test/browser/terminalConfigurationService.test.ts"],"names":[],"mappings":"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","file":"terminalConfigurationService.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { notStrictEqual, ok, strictEqual } from 'assert';\nimport { getActiveWindow } from '../../../../../base/browser/dom.js';\nimport { mainWindow } from '../../../../../base/browser/window.js';\nimport { isLinux } from '../../../../../base/common/platform.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { EDITOR_FONT_DEFAULTS } from '../../../../../editor/common/config/fontInfo.js';\nimport { ConfigurationTarget, IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { TestConfigurationService } from '../../../../../platform/configuration/test/common/testConfigurationService.js';\nimport { TestInstantiationService } from '../../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { ITerminalConfigurationService, LinuxDistro } from '../../browser/terminal.js';\nimport { TestTerminalConfigurationService, workbenchInstantiationService } from '../../../../test/browser/workbenchTestServices.js';\n\nsuite('Workbench - TerminalConfigurationService', () => {\n\tconst store = ensureNoDisposablesAreLeakedInTestSuite();\n\n\tlet configurationService: TestConfigurationService;\n\tlet terminalConfigurationService: ITerminalConfigurationService;\n\n\tsetup(() => {\n\t\tconst instantiationService = workbenchInstantiationService(undefined, store);\n\t\tconfigurationService = instantiationService.get(IConfigurationService) as TestConfigurationService;\n\t\tterminalConfigurationService = instantiationService.get(ITerminalConfigurationService);\n\t});\n\n\tsuite('config', () => {\n\t\ttest('should update on any change to terminal.integrated', () => {\n\t\t\tconst originalConfig = terminalConfigurationService.config;\n\t\t\tconfigurationService.onDidChangeConfigurationEmitter.fire({\n\t\t\t\taffectsConfiguration: configuration => configuration.startsWith('terminal.integrated'),\n\t\t\t\taffectedKeys: new Set(['terminal.integrated.fontWeight']),\n\t\t\t\tchange: null!,\n\t\t\t\tsource: ConfigurationTarget.USER\n\t\t\t});\n\t\t\tnotStrictEqual(terminalConfigurationService.config, originalConfig, 'Object reference must change');\n\t\t});\n\n\t\tsuite('onConfigChanged', () => {\n\t\t\ttest('should fire on any change to terminal.integrated', async () => {\n\t\t\t\tawait new Promise<void>(r => {\n\t\t\t\t\tstore.add(terminalConfigurationService.onConfigChanged(() => r()));\n\t\t\t\t\tconfigurationService.onDidChangeConfigurationEmitter.fire({\n\t\t\t\t\t\taffectsConfiguration: configuration => configuration.startsWith('terminal.integrated'),\n\t\t\t\t\t\taffectedKeys: new Set(['terminal.integrated.fontWeight']),\n\t\t\t\t\t\tchange: null!,\n\t\t\t\t\t\tsource: ConfigurationTarget.USER\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t});\n\n\tfunction createTerminalConfigationService(config: any, linuxDistro?: LinuxDistro): ITerminalConfigurationService {\n\t\tconst instantiationService = new TestInstantiationService();\n\t\tinstantiationService.set(IConfigurationService, new TestConfigurationService(config));\n\t\tconst terminalConfigurationService = store.add(instantiationService.createInstance(TestTerminalConfigurationService));\n\t\tinstantiationService.set(ITerminalConfigurationService, terminalConfigurationService);\n\t\tterminalConfigurationService.setPanelContainer(mainWindow.document.body);\n\t\tif (linuxDistro) {\n\t\t\tterminalConfigurationService.fontMetrics.linuxDistro = linuxDistro;\n\t\t}\n\t\treturn terminalConfigurationService;\n\t}\n\n\tsuite('getFont', () => {\n\t\ttest('fontFamily', () => {\n\t\t\tconst terminalConfigurationService = createTerminalConfigationService({\n\t\t\t\teditor: { fontFamily: 'foo' },\n\t\t\t\tterminal: { integrated: { fontFamily: 'bar' } }\n\t\t\t});\n\t\t\tok(terminalConfigurationService.getFont(getActiveWindow()).fontFamily.startsWith('bar'), 'terminal.integrated.fontFamily should be selected over editor.fontFamily');\n\t\t});\n\n\t\ttest('fontFamily (Linux Fedora)', () => {\n\t\t\tconst terminalConfigurationService = createTerminalConfigationService({\n\t\t\t\teditor: { fontFamily: 'foo' },\n\t\t\t\tterminal: { integrated: { fontFamily: null } }\n\t\t\t}, LinuxDistro.Fedora);\n\t\t\tok(terminalConfigurationService.getFont(getActiveWindow()).fontFamily.startsWith('\\'DejaVu Sans Mono\\''), 'Fedora should have its font overridden when terminal.integrated.fontFamily not set');\n\t\t});\n\n\t\ttest('fontFamily (Linux Ubuntu)', () => {\n\t\t\tconst terminalConfigurationService = createTerminalConfigationService({\n\t\t\t\teditor: { fontFamily: 'foo' },\n\t\t\t\tterminal: { integrated: { fontFamily: null } }\n\t\t\t}, LinuxDistro.Ubuntu);\n\t\t\tok(terminalConfigurationService.getFont(getActiveWindow()).fontFamily.startsWith('\\'Ubuntu Mono\\''), 'Ubuntu should have its font overridden when terminal.integrated.fontFamily not set');\n\t\t});\n\n\t\ttest('fontFamily (Linux Unknown)', () => {\n\t\t\tconst terminalConfigurationService = createTerminalConfigationService({\n\t\t\t\teditor: { fontFamily: 'foo' },\n\t\t\t\tterminal: { integrated: { fontFamily: null } }\n\t\t\t});\n\t\t\tok(terminalConfigurationService.getFont(getActiveWindow()).fontFamily.startsWith('foo'), 'editor.fontFamily should be the fallback when terminal.integrated.fontFamily not set');\n\t\t});\n\n\t\ttest('fontSize 10', () => {\n\t\t\tconst terminalConfigurationService = createTerminalConfigationService({\n\t\t\t\teditor: {\n\t\t\t\t\tfontFamily: 'foo',\n\t\t\t\t\tfontSize: 9\n\t\t\t\t},\n\t\t\t\tterminal: {\n\t\t\t\t\tintegrated: {\n\t\t\t\t\t\tfontFamily: 'bar',\n\t\t\t\t\t\tfontSize: 10\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tstrictEqual(terminalConfigurationService.getFont(getActiveWindow()).fontSize, 10, 'terminal.integrated.fontSize should be selected over editor.fontSize');\n\t\t});\n\n\t\ttest('fontSize 0', () => {\n\t\t\tlet terminalConfigurationService = createTerminalConfigationService({\n\t\t\t\teditor: {\n\t\t\t\t\tfontFamily: 'foo'\n\t\t\t\t},\n\t\t\t\tterminal: {\n\t\t\t\t\tintegrated: {\n\t\t\t\t\t\tfontFamily: null,\n\t\t\t\t\t\tfontSize: 0\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, LinuxDistro.Ubuntu);\n\t\t\tstrictEqual(terminalConfigurationService.getFont(getActiveWindow()).fontSize, 8, 'The minimum terminal font size (with adjustment) should be used when terminal.integrated.fontSize less than it');\n\n\t\t\tterminalConfigurationService = createTerminalConfigationService({\n\t\t\t\teditor: {\n\t\t\t\t\tfontFamily: 'foo'\n\t\t\t\t},\n\t\t\t\tterminal: {\n\t\t\t\t\tintegrated: {\n\t\t\t\t\t\tfontFamily: null,\n\t\t\t\t\t\tfontSize: 0\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tstrictEqual(terminalConfigurationService.getFont(getActiveWindow()).fontSize, 6, 'The minimum terminal font size should be used when terminal.integrated.fontSize less than it');\n\t\t});\n\n\t\ttest('fontSize 1500', () => {\n\t\t\tconst terminalConfigurationService = createTerminalConfigationService({\n\t\t\t\teditor: {\n\t\t\t\t\tfontFamily: 'foo'\n\t\t\t\t},\n\t\t\t\tterminal: {\n\t\t\t\t\tintegrated: {\n\t\t\t\t\t\tfontFamily: 0,\n\t\t\t\t\t\tfontSize: 1500\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tstrictEqual(terminalConfigurationService.getFont(getActiveWindow()).fontSize, 100, 'The maximum terminal font size should be used when terminal.integrated.fontSize more than it');\n\t\t});\n\n\t\ttest('fontSize null', () => {\n\t\t\tlet terminalConfigurationService = createTerminalConfigationService({\n\t\t\t\teditor: {\n\t\t\t\t\tfontFamily: 'foo'\n\t\t\t\t},\n\t\t\t\tterminal: {\n\t\t\t\t\tintegrated: {\n\t\t\t\t\t\tfontFamily: 0,\n\t\t\t\t\t\tfontSize: null\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, LinuxDistro.Ubuntu);\n\t\t\tstrictEqual(terminalConfigurationService.getFont(getActiveWindow()).fontSize, EDITOR_FONT_DEFAULTS.fontSize + 2, 'The default editor font size (with adjustment) should be used when terminal.integrated.fontSize is not set');\n\n\t\t\tterminalConfigurationService = createTerminalConfigationService({\n\t\t\t\teditor: {\n\t\t\t\t\tfontFamily: 'foo'\n\t\t\t\t},\n\t\t\t\tterminal: {\n\t\t\t\t\tintegrated: {\n\t\t\t\t\t\tfontFamily: 0,\n\t\t\t\t\t\tfontSize: null\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tstrictEqual(terminalConfigurationService.getFont(getActiveWindow()).fontSize, EDITOR_FONT_DEFAULTS.fontSize, 'The default editor font size should be used when terminal.integrated.fontSize is not set');\n\t\t});\n\n\t\ttest('lineHeight 2', () => {\n\t\t\tconst terminalConfigurationService = createTerminalConfigationService({\n\t\t\t\teditor: {\n\t\t\t\t\tfontFamily: 'foo',\n\t\t\t\t\tlineHeight: 1\n\t\t\t\t},\n\t\t\t\tterminal: {\n\t\t\t\t\tintegrated: {\n\t\t\t\t\t\tfontFamily: 0,\n\t\t\t\t\t\tlineHeight: 2\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tstrictEqual(terminalConfigurationService.getFont(getActiveWindow()).lineHeight, 2, 'terminal.integrated.lineHeight should be selected over editor.lineHeight');\n\t\t});\n\n\t\ttest('lineHeight 0', () => {\n\t\t\tconst terminalConfigurationService = createTerminalConfigationService({\n\t\t\t\teditor: {\n\t\t\t\t\tfontFamily: 'foo',\n\t\t\t\t\tlineHeight: 1\n\t\t\t\t},\n\t\t\t\tterminal: {\n\t\t\t\t\tintegrated: {\n\t\t\t\t\t\tfontFamily: 0,\n\t\t\t\t\t\tlineHeight: 0\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tstrictEqual(terminalConfigurationService.getFont(getActiveWindow()).lineHeight, isLinux ? 1.1 : 1, 'editor.lineHeight should be the default when terminal.integrated.lineHeight not set');\n\t\t});\n\t});\n\n\tsuite('configFontIsMonospace', () => {\n\t\ttest('isMonospace monospace', () => {\n\t\t\tconst terminalConfigurationService = createTerminalConfigationService({\n\t\t\t\tterminal: {\n\t\t\t\t\tintegrated: {\n\t\t\t\t\t\tfontFamily: 'monospace'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tstrictEqual(terminalConfigurationService.configFontIsMonospace(), true, 'monospace is monospaced');\n\t\t});\n\n\t\ttest('isMonospace sans-serif', () => {\n\t\t\tconst terminalConfigurationService = createTerminalConfigationService({\n\t\t\t\tterminal: {\n\t\t\t\t\tintegrated: {\n\t\t\t\t\t\tfontFamily: 'sans-serif'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tstrictEqual(terminalConfigurationService.configFontIsMonospace(), false, 'sans-serif is not monospaced');\n\t\t});\n\n\t\ttest('isMonospace serif', () => {\n\t\t\tconst terminalConfigurationService = createTerminalConfigationService({\n\t\t\t\tterminal: {\n\t\t\t\t\tintegrated: {\n\t\t\t\t\t\tfontFamily: 'serif'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tstrictEqual(terminalConfigurationService.configFontIsMonospace(), false, 'serif is not monospaced');\n\t\t});\n\n\t\ttest('isMonospace monospace falls back to editor.fontFamily', () => {\n\t\t\tconst terminalConfigurationService = createTerminalConfigationService({\n\t\t\t\teditor: {\n\t\t\t\t\tfontFamily: 'monospace'\n\t\t\t\t},\n\t\t\t\tterminal: {\n\t\t\t\t\tintegrated: {\n\t\t\t\t\t\tfontFamily: null\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tstrictEqual(terminalConfigurationService.configFontIsMonospace(), true, 'monospace is monospaced');\n\t\t});\n\n\t\ttest('isMonospace sans-serif falls back to editor.fontFamily', () => {\n\t\t\tconst terminalConfigurationService = createTerminalConfigationService({\n\t\t\t\teditor: {\n\t\t\t\t\tfontFamily: 'sans-serif'\n\t\t\t\t},\n\t\t\t\tterminal: {\n\t\t\t\t\tintegrated: {\n\t\t\t\t\t\tfontFamily: null\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tstrictEqual(terminalConfigurationService.configFontIsMonospace(), false, 'sans-serif is not monospaced');\n\t\t});\n\n\t\ttest('isMonospace serif falls back to editor.fontFamily', () => {\n\t\t\tconst terminalConfigurationService = createTerminalConfigationService({\n\t\t\t\teditor: {\n\t\t\t\t\tfontFamily: 'serif'\n\t\t\t\t},\n\t\t\t\tterminal: {\n\t\t\t\t\tintegrated: {\n\t\t\t\t\t\tfontFamily: null\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tstrictEqual(terminalConfigurationService.configFontIsMonospace(), false, 'serif is not monospaced');\n\t\t});\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { notStrictEqual, ok, strictEqual } from 'assert';\nimport { getActiveWindow } from '../../../../../base/browser/dom.js';\nimport { mainWindow } from '../../../../../base/browser/window.js';\nimport { isLinux } from '../../../../../base/common/platform.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { EDITOR_FONT_DEFAULTS } from '../../../../../editor/common/config/fontInfo.js';\nimport { ConfigurationTarget, IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { TestConfigurationService } from '../../../../../platform/configuration/test/common/testConfigurationService.js';\nimport { TestInstantiationService } from '../../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { ITerminalConfigurationService, LinuxDistro } from '../../browser/terminal.js';\nimport { TestTerminalConfigurationService, workbenchInstantiationService } from '../../../../test/browser/workbenchTestServices.js';\n\nsuite('Workbench - TerminalConfigurationService', () => {\n\tconst store = ensureNoDisposablesAreLeakedInTestSuite();\n\n\tlet configurationService: TestConfigurationService;\n\tlet terminalConfigurationService: ITerminalConfigurationService;\n\n\tsetup(() => {\n\t\tconst instantiationService = workbenchInstantiationService(undefined, store);\n\t\tconfigurationService = instantiationService.get(IConfigurationService) as TestConfigurationService;\n\t\tterminalConfigurationService = instantiationService.get(ITerminalConfigurationService);\n\t});\n\n\tsuite('config', () => {\n\t\ttest('should update on any change to terminal.integrated', () => {\n\t\t\tconst originalConfig = terminalConfigurationService.config;\n\t\t\tconfigurationService.onDidChangeConfigurationEmitter.fire({\n\t\t\t\taffectsConfiguration: configuration => configuration.startsWith('terminal.integrated'),\n\t\t\t\taffectedKeys: new Set(['terminal.integrated.fontWeight']),\n\t\t\t\tchange: null!,\n\t\t\t\tsource: ConfigurationTarget.USER\n\t\t\t});\n\t\t\tnotStrictEqual(terminalConfigurationService.config, originalConfig, 'Object reference must change');\n\t\t});\n\n\t\tsuite('onConfigChanged', () => {\n\t\t\ttest('should fire on any change to terminal.integrated', async () => {\n\t\t\t\tawait new Promise<void>(r => {\n\t\t\t\t\tstore.add(terminalConfigurationService.onConfigChanged(() => r()));\n\t\t\t\t\tconfigurationService.onDidChangeConfigurationEmitter.fire({\n\t\t\t\t\t\taffectsConfiguration: configuration => configuration.startsWith('terminal.integrated'),\n\t\t\t\t\t\taffectedKeys: new Set(['terminal.integrated.fontWeight']),\n\t\t\t\t\t\tchange: null!,\n\t\t\t\t\t\tsource: ConfigurationTarget.USER\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t});\n\n\tfunction createTerminalConfigationService(config: any, linuxDistro?: LinuxDistro): ITerminalConfigurationService {\n\t\tconst instantiationService = new TestInstantiationService();\n\t\tinstantiationService.set(IConfigurationService, new TestConfigurationService(config));\n\t\tconst terminalConfigurationService = store.add(instantiationService.createInstance(TestTerminalConfigurationService));\n\t\tinstantiationService.set(ITerminalConfigurationService, terminalConfigurationService);\n\t\tterminalConfigurationService.setPanelContainer(mainWindow.document.body);\n\t\tif (linuxDistro) {\n\t\t\tterminalConfigurationService.fontMetrics.linuxDistro = linuxDistro;\n\t\t}\n\t\treturn terminalConfigurationService;\n\t}\n\n\tsuite('getFont', () => {\n\t\ttest('fontFamily', () => {\n\t\t\tconst terminalConfigurationService = createTerminalConfigationService({\n\t\t\t\teditor: { fontFamily: 'foo' },\n\t\t\t\tterminal: { integrated: { fontFamily: 'bar' } }\n\t\t\t});\n\t\t\tok(terminalConfigurationService.getFont(getActiveWindow()).fontFamily.startsWith('bar'), 'terminal.integrated.fontFamily should be selected over editor.fontFamily');\n\t\t});\n\n\t\ttest('fontFamily (Linux Fedora)', () => {\n\t\t\tconst terminalConfigurationService = createTerminalConfigationService({\n\t\t\t\teditor: { fontFamily: 'foo' },\n\t\t\t\tterminal: { integrated: { fontFamily: null } }\n\t\t\t}, LinuxDistro.Fedora);\n\t\t\tok(terminalConfigurationService.getFont(getActiveWindow()).fontFamily.startsWith('\\'DejaVu Sans Mono\\''), 'Fedora should have its font overridden when terminal.integrated.fontFamily not set');\n\t\t});\n\n\t\ttest('fontFamily (Linux Ubuntu)', () => {\n\t\t\tconst terminalConfigurationService = createTerminalConfigationService({\n\t\t\t\teditor: { fontFamily: 'foo' },\n\t\t\t\tterminal: { integrated: { fontFamily: null } }\n\t\t\t}, LinuxDistro.Ubuntu);\n\t\t\tok(terminalConfigurationService.getFont(getActiveWindow()).fontFamily.startsWith('\\'Ubuntu Mono\\''), 'Ubuntu should have its font overridden when terminal.integrated.fontFamily not set');\n\t\t});\n\n\t\ttest('fontFamily (Linux Unknown)', () => {\n\t\t\tconst terminalConfigurationService = createTerminalConfigationService({\n\t\t\t\teditor: { fontFamily: 'foo' },\n\t\t\t\tterminal: { integrated: { fontFamily: null } }\n\t\t\t});\n\t\t\tok(terminalConfigurationService.getFont(getActiveWindow()).fontFamily.startsWith('foo'), 'editor.fontFamily should be the fallback when terminal.integrated.fontFamily not set');\n\t\t});\n\n\t\ttest('fontSize 10', () => {\n\t\t\tconst terminalConfigurationService = createTerminalConfigationService({\n\t\t\t\teditor: {\n\t\t\t\t\tfontFamily: 'foo',\n\t\t\t\t\tfontSize: 9\n\t\t\t\t},\n\t\t\t\tterminal: {\n\t\t\t\t\tintegrated: {\n\t\t\t\t\t\tfontFamily: 'bar',\n\t\t\t\t\t\tfontSize: 10\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tstrictEqual(terminalConfigurationService.getFont(getActiveWindow()).fontSize, 10, 'terminal.integrated.fontSize should be selected over editor.fontSize');\n\t\t});\n\n\t\ttest('fontSize 0', () => {\n\t\t\tlet terminalConfigurationService = createTerminalConfigationService({\n\t\t\t\teditor: {\n\t\t\t\t\tfontFamily: 'foo'\n\t\t\t\t},\n\t\t\t\tterminal: {\n\t\t\t\t\tintegrated: {\n\t\t\t\t\t\tfontFamily: null,\n\t\t\t\t\t\tfontSize: 0\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, LinuxDistro.Ubuntu);\n\t\t\tstrictEqual(terminalConfigurationService.getFont(getActiveWindow()).fontSize, 8, 'The minimum terminal font size (with adjustment) should be used when terminal.integrated.fontSize less than it');\n\n\t\t\tterminalConfigurationService = createTerminalConfigationService({\n\t\t\t\teditor: {\n\t\t\t\t\tfontFamily: 'foo'\n\t\t\t\t},\n\t\t\t\tterminal: {\n\t\t\t\t\tintegrated: {\n\t\t\t\t\t\tfontFamily: null,\n\t\t\t\t\t\tfontSize: 0\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tstrictEqual(terminalConfigurationService.getFont(getActiveWindow()).fontSize, 6, 'The minimum terminal font size should be used when terminal.integrated.fontSize less than it');\n\t\t});\n\n\t\ttest('fontSize 1500', () => {\n\t\t\tconst terminalConfigurationService = createTerminalConfigationService({\n\t\t\t\teditor: {\n\t\t\t\t\tfontFamily: 'foo'\n\t\t\t\t},\n\t\t\t\tterminal: {\n\t\t\t\t\tintegrated: {\n\t\t\t\t\t\tfontFamily: 0,\n\t\t\t\t\t\tfontSize: 1500\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tstrictEqual(terminalConfigurationService.getFont(getActiveWindow()).fontSize, 100, 'The maximum terminal font size should be used when terminal.integrated.fontSize more than it');\n\t\t});\n\n\t\ttest('fontSize null', () => {\n\t\t\tlet terminalConfigurationService = createTerminalConfigationService({\n\t\t\t\teditor: {\n\t\t\t\t\tfontFamily: 'foo'\n\t\t\t\t},\n\t\t\t\tterminal: {\n\t\t\t\t\tintegrated: {\n\t\t\t\t\t\tfontFamily: 0,\n\t\t\t\t\t\tfontSize: null\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, LinuxDistro.Ubuntu);\n\t\t\tstrictEqual(terminalConfigurationService.getFont(getActiveWindow()).fontSize, EDITOR_FONT_DEFAULTS.fontSize + 2, 'The default editor font size (with adjustment) should be used when terminal.integrated.fontSize is not set');\n\n\t\t\tterminalConfigurationService = createTerminalConfigationService({\n\t\t\t\teditor: {\n\t\t\t\t\tfontFamily: 'foo'\n\t\t\t\t},\n\t\t\t\tterminal: {\n\t\t\t\t\tintegrated: {\n\t\t\t\t\t\tfontFamily: 0,\n\t\t\t\t\t\tfontSize: null\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tstrictEqual(terminalConfigurationService.getFont(getActiveWindow()).fontSize, EDITOR_FONT_DEFAULTS.fontSize, 'The default editor font size should be used when terminal.integrated.fontSize is not set');\n\t\t});\n\n\t\ttest('lineHeight 2', () => {\n\t\t\tconst terminalConfigurationService = createTerminalConfigationService({\n\t\t\t\teditor: {\n\t\t\t\t\tfontFamily: 'foo',\n\t\t\t\t\tlineHeight: 1\n\t\t\t\t},\n\t\t\t\tterminal: {\n\t\t\t\t\tintegrated: {\n\t\t\t\t\t\tfontFamily: 0,\n\t\t\t\t\t\tlineHeight: 2\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tstrictEqual(terminalConfigurationService.getFont(getActiveWindow()).lineHeight, 2, 'terminal.integrated.lineHeight should be selected over editor.lineHeight');\n\t\t});\n\n\t\ttest('lineHeight 0', () => {\n\t\t\tconst terminalConfigurationService = createTerminalConfigationService({\n\t\t\t\teditor: {\n\t\t\t\t\tfontFamily: 'foo',\n\t\t\t\t\tlineHeight: 1\n\t\t\t\t},\n\t\t\t\tterminal: {\n\t\t\t\t\tintegrated: {\n\t\t\t\t\t\tfontFamily: 0,\n\t\t\t\t\t\tlineHeight: 0\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tstrictEqual(terminalConfigurationService.getFont(getActiveWindow()).lineHeight, isLinux ? 1.1 : 1, 'editor.lineHeight should be the default when terminal.integrated.lineHeight not set');\n\t\t});\n\t});\n\n\tsuite('configFontIsMonospace', () => {\n\t\ttest('isMonospace monospace', () => {\n\t\t\tconst terminalConfigurationService = createTerminalConfigationService({\n\t\t\t\tterminal: {\n\t\t\t\t\tintegrated: {\n\t\t\t\t\t\tfontFamily: 'monospace'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tstrictEqual(terminalConfigurationService.configFontIsMonospace(), true, 'monospace is monospaced');\n\t\t});\n\n\t\ttest('isMonospace sans-serif', () => {\n\t\t\tconst terminalConfigurationService = createTerminalConfigationService({\n\t\t\t\tterminal: {\n\t\t\t\t\tintegrated: {\n\t\t\t\t\t\tfontFamily: 'sans-serif'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tstrictEqual(terminalConfigurationService.configFontIsMonospace(), false, 'sans-serif is not monospaced');\n\t\t});\n\n\t\ttest('isMonospace serif', () => {\n\t\t\tconst terminalConfigurationService = createTerminalConfigationService({\n\t\t\t\tterminal: {\n\t\t\t\t\tintegrated: {\n\t\t\t\t\t\tfontFamily: 'serif'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tstrictEqual(terminalConfigurationService.configFontIsMonospace(), false, 'serif is not monospaced');\n\t\t});\n\n\t\ttest('isMonospace monospace falls back to editor.fontFamily', () => {\n\t\t\tconst terminalConfigurationService = createTerminalConfigationService({\n\t\t\t\teditor: {\n\t\t\t\t\tfontFamily: 'monospace'\n\t\t\t\t},\n\t\t\t\tterminal: {\n\t\t\t\t\tintegrated: {\n\t\t\t\t\t\tfontFamily: null\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tstrictEqual(terminalConfigurationService.configFontIsMonospace(), true, 'monospace is monospaced');\n\t\t});\n\n\t\ttest('isMonospace sans-serif falls back to editor.fontFamily', () => {\n\t\t\tconst terminalConfigurationService = createTerminalConfigationService({\n\t\t\t\teditor: {\n\t\t\t\t\tfontFamily: 'sans-serif'\n\t\t\t\t},\n\t\t\t\tterminal: {\n\t\t\t\t\tintegrated: {\n\t\t\t\t\t\tfontFamily: null\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tstrictEqual(terminalConfigurationService.configFontIsMonospace(), false, 'sans-serif is not monospaced');\n\t\t});\n\n\t\ttest('isMonospace serif falls back to editor.fontFamily', () => {\n\t\t\tconst terminalConfigurationService = createTerminalConfigationService({\n\t\t\t\teditor: {\n\t\t\t\t\tfontFamily: 'serif'\n\t\t\t\t},\n\t\t\t\tterminal: {\n\t\t\t\t\tintegrated: {\n\t\t\t\t\t\tfontFamily: null\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tstrictEqual(terminalConfigurationService.configFontIsMonospace(), false, 'serif is not monospaced');\n\t\t});\n\t});\n});\n"]}