{"version":3,"sources":["vs/workbench/contrib/terminal/electron-browser/terminalRemote.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,EAAE,OAAO,EAAE,MAAM,oCAAoC,CAAC;AAE7D,OAAO,EAAE,SAAS,EAAE,MAAM,oBAAoB,CAAC;AAC/C,OAAO,EAAE,yBAAyB,EAAE,MAAM,wDAAwD,CAAC;AACnG,OAAO,EAAE,+BAA+B,EAAE,MAAM,+DAA+D,CAAC;AAChH,OAAO,EAAE,sBAAsB,EAAE,MAAM,+BAA+B,CAAC;AAEvE,OAAO,EAAE,eAAe,EAAE,MAAM,6CAA6C,CAAC;AAE9E,MAAM,UAAU,2BAA2B;IAC1C,sBAAsB,CAAC;QACtB,EAAE,uEAA4B;QAC9B,KAAK,EAAE,SAAS,CAAC,KAAoC,EAAE,wCAAwC,CAAC;QAChG,GAAG,EAAE,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,EAAE;YAC1B,MAAM,cAAc,GAAG,QAAQ,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;YACrD,MAAM,8BAA8B,GAAG,QAAQ,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;YACrF,MAAM,wBAAwB,GAAG,QAAQ,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;YACzE,IAAI,GAAoB,CAAC;YACzB,IAAI,CAAC;gBACJ,MAAM,sBAAsB,GAAG,cAAc,CAAC,0BAA0B,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;gBAC/F,IAAI,sBAAsB,EAAE,CAAC;oBAC5B,MAAM,YAAY,GAAG,MAAM,8BAA8B,CAAC,eAAe,CAAC,sBAAsB,CAAC,CAAC;oBAClG,IAAI,YAAY,CAAC,MAAM,KAAK,OAAO,CAAC,IAAI,EAAE,CAAC;wBAC1C,GAAG,GAAG,YAAY,CAAC;oBACpB,CAAC;gBACF,CAAC;YACF,CAAC;YAAC,MAAM,CAAC,CAAC,CAAC;YACX,IAAI,CAAC,GAAG,EAAE,CAAC;gBACV,GAAG,GAAG,wBAAwB,CAAC,QAAQ,CAAC;YACzC,CAAC;YACD,MAAM,QAAQ,GAAG,MAAM,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC;YACzD,IAAI,CAAC,QAAQ,EAAE,CAAC;gBACf,OAAO,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;YACnC,CAAC;YAED,CAAC,CAAC,OAAO,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;YACtC,OAAO,CAAC,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACvC,CAAC;KACD,CAAC,CAAC;AACJ,CAAC","file":"terminalRemote.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Schemas } from '../../../../base/common/network.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { localize2 } from '../../../../nls.js';\nimport { INativeEnvironmentService } from '../../../../platform/environment/common/environment.js';\nimport { IRemoteAuthorityResolverService } from '../../../../platform/remote/common/remoteAuthorityResolver.js';\nimport { registerTerminalAction } from '../browser/terminalActions.js';\nimport { TerminalCommandId } from '../common/terminal.js';\nimport { IHistoryService } from '../../../services/history/common/history.js';\n\nexport function registerRemoteContributions() {\n\tregisterTerminalAction({\n\t\tid: TerminalCommandId.NewLocal,\n\t\ttitle: localize2('workbench.action.terminal.newLocal', 'Create New Integrated Terminal (Local)'),\n\t\trun: async (c, accessor) => {\n\t\t\tconst historyService = accessor.get(IHistoryService);\n\t\t\tconst remoteAuthorityResolverService = accessor.get(IRemoteAuthorityResolverService);\n\t\t\tconst nativeEnvironmentService = accessor.get(INativeEnvironmentService);\n\t\t\tlet cwd: URI | undefined;\n\t\t\ttry {\n\t\t\t\tconst activeWorkspaceRootUri = historyService.getLastActiveWorkspaceRoot(Schemas.vscodeRemote);\n\t\t\t\tif (activeWorkspaceRootUri) {\n\t\t\t\t\tconst canonicalUri = await remoteAuthorityResolverService.getCanonicalURI(activeWorkspaceRootUri);\n\t\t\t\t\tif (canonicalUri.scheme === Schemas.file) {\n\t\t\t\t\t\tcwd = canonicalUri;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch { }\n\t\t\tif (!cwd) {\n\t\t\t\tcwd = nativeEnvironmentService.userHome;\n\t\t\t}\n\t\t\tconst instance = await c.service.createTerminal({ cwd });\n\t\t\tif (!instance) {\n\t\t\t\treturn Promise.resolve(undefined);\n\t\t\t}\n\n\t\t\tc.service.setActiveInstance(instance);\n\t\t\treturn c.groupService.showPanel(true);\n\t\t}\n\t});\n}\n"]}