{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/mcp/test/common/uriTemplate.test.ts","vs/workbench/contrib/mcp/test/common/uriTemplate.test.ts"],"names":[],"mappings":"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","file":"uriTemplate.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { UriTemplate } from '../../common/uriTemplate.js';\nimport * as assert from 'assert';\n\nsuite('UriTemplate', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\t/**\n\t * Helper function to test template parsing and component extraction\n\t */\n\tfunction testParsing(template: string, expectedComponents: unknown[]) {\n\t\tconst templ = UriTemplate.parse(template);\n\t\tassert.deepStrictEqual(templ.components.filter(c => typeof c === 'object'), expectedComponents);\n\t\treturn templ;\n\t}\n\n\t/**\n\t * Helper function to test template resolution\n\t */\n\tfunction testResolution(template: string, variables: Record<string, any>, expected: string) {\n\t\tconst templ = UriTemplate.parse(template);\n\t\tconst result = templ.resolve(variables);\n\t\tassert.strictEqual(result, expected);\n\t}\n\n\ttest('simple replacement', () => {\n\t\tconst templ = UriTemplate.parse('http://example.com/{var}');\n\t\tassert.deepStrictEqual(templ.components, ['http://example.com/', {\n\t\t\texpression: '{var}',\n\t\t\toperator: '',\n\t\t\tvariables: [{ explodable: false, name: 'var', optional: false, prefixLength: undefined, repeatable: false }]\n\t\t}, '']);\n\t\tconst result = templ.resolve({ var: 'value' });\n\t\tassert.strictEqual(result, 'http://example.com/value');\n\t});\n\n\ttest('parsing components correctly', () => {\n\t\t// Simple component\n\t\ttestParsing('http://example.com/{var}', [{\n\t\t\texpression: '{var}',\n\t\t\toperator: '',\n\t\t\tvariables: [{ explodable: false, name: 'var', optional: false, prefixLength: undefined, repeatable: false }]\n\t\t}]);\n\n\t\t// Component with operator\n\t\ttestParsing('http://example.com/{+path}', [{\n\t\t\texpression: '{+path}',\n\t\t\toperator: '+',\n\t\t\tvariables: [{ explodable: false, name: 'path', optional: false, prefixLength: undefined, repeatable: false }]\n\t\t}]);\n\n\t\t// Component with multiple variables\n\t\ttestParsing('http://example.com/{x,y}', [{\n\t\t\texpression: '{x,y}',\n\t\t\toperator: '',\n\t\t\tvariables: [\n\t\t\t\t{ explodable: false, name: 'x', optional: false, prefixLength: undefined, repeatable: false },\n\t\t\t\t{ explodable: false, name: 'y', optional: false, prefixLength: undefined, repeatable: false }\n\t\t\t]\n\t\t}]);\n\n\t\t// Component with value modifiers\n\t\ttestParsing('http://example.com/{var:3}', [{\n\t\t\texpression: '{var:3}',\n\t\t\toperator: '',\n\t\t\tvariables: [{ explodable: false, name: 'var', optional: false, prefixLength: 3, repeatable: false }]\n\t\t}]);\n\n\t\ttestParsing('http://example.com/{list*}', [{\n\t\t\texpression: '{list*}',\n\t\t\toperator: '',\n\t\t\tvariables: [{ explodable: true, name: 'list', optional: false, prefixLength: undefined, repeatable: true }]\n\t\t}]);\n\n\t\t// Multiple components\n\t\ttestParsing('http://example.com/{x}/path/{y}', [\n\t\t\t{\n\t\t\t\texpression: '{x}',\n\t\t\t\toperator: '',\n\t\t\t\tvariables: [{ explodable: false, name: 'x', optional: false, prefixLength: undefined, repeatable: false }]\n\t\t\t},\n\t\t\t{\n\t\t\t\texpression: '{y}',\n\t\t\t\toperator: '',\n\t\t\t\tvariables: [{ explodable: false, name: 'y', optional: false, prefixLength: undefined, repeatable: false }]\n\t\t\t}\n\t\t]);\n\t});\n\n\ttest('Level 1 - Simple string expansion', () => {\n\t\t// Test cases from RFC 6570 Section 1.2\n\t\tconst variables = {\n\t\t\tvar: 'value',\n\t\t\thello: 'Hello World!'\n\t\t};\n\n\t\ttestResolution('{var}', variables, 'value');\n\t\ttestResolution('{hello}', variables, 'Hello%20World%21');\n\t});\n\n\ttest('Level 2 - Reserved expansion', () => {\n\t\t// Test cases from RFC 6570 Section 1.2\n\t\tconst variables = {\n\t\t\tvar: 'value',\n\t\t\thello: 'Hello World!',\n\t\t\tpath: '/foo/bar'\n\t\t};\n\n\t\ttestResolution('{+var}', variables, 'value');\n\t\ttestResolution('{+hello}', variables, 'Hello%20World!');\n\t\ttestResolution('{+path}/here', variables, '/foo/bar/here');\n\t\ttestResolution('here?ref={+path}', variables, 'here?ref=/foo/bar');\n\t});\n\n\ttest('Level 2 - Fragment expansion', () => {\n\t\t// Test cases from RFC 6570 Section 1.2\n\t\tconst variables = {\n\t\t\tvar: 'value',\n\t\t\thello: 'Hello World!'\n\t\t};\n\n\t\ttestResolution('X{#var}', variables, 'X#value');\n\t\ttestResolution('X{#hello}', variables, 'X#Hello%20World!');\n\t});\n\n\ttest('Level 3 - String expansion with multiple variables', () => {\n\t\t// Test cases from RFC 6570 Section 1.2\n\t\tconst variables = {\n\t\t\tvar: 'value',\n\t\t\thello: 'Hello World!',\n\t\t\tempty: '',\n\t\t\tpath: '/foo/bar',\n\t\t\tx: '1024',\n\t\t\ty: '768'\n\t\t};\n\n\t\ttestResolution('map?{x,y}', variables, 'map?1024,768');\n\t\ttestResolution('{x,hello,y}', variables, '1024,Hello%20World%21,768');\n\t});\n\n\ttest('Level 3 - Reserved expansion with multiple variables', () => {\n\t\t// Test cases from RFC 6570 Section 1.2\n\t\tconst variables = {\n\t\t\tvar: 'value',\n\t\t\thello: 'Hello World!',\n\t\t\tpath: '/foo/bar',\n\t\t\tx: '1024',\n\t\t\ty: '768'\n\t\t};\n\n\t\ttestResolution('{+x,hello,y}', variables, '1024,Hello%20World!,768');\n\t\ttestResolution('{+path,x}/here', variables, '/foo/bar,1024/here');\n\t});\n\n\ttest('Level 3 - Fragment expansion with multiple variables', () => {\n\t\t// Test cases from RFC 6570 Section 1.2\n\t\tconst variables = {\n\t\t\tvar: 'value',\n\t\t\thello: 'Hello World!',\n\t\t\tpath: '/foo/bar',\n\t\t\tx: '1024',\n\t\t\ty: '768'\n\t\t};\n\n\t\ttestResolution('{#x,hello,y}', variables, '#1024,Hello%20World!,768');\n\t\ttestResolution('{#path,x}/here', variables, '#/foo/bar,1024/here');\n\t});\n\n\ttest('Level 3 - Label expansion with dot-prefix', () => {\n\t\t// Test cases from RFC 6570 Section 1.2\n\t\tconst variables = {\n\t\t\tvar: 'value',\n\t\t\tx: '1024',\n\t\t\ty: '768'\n\t\t};\n\n\t\ttestResolution('X{.var}', variables, 'X.value');\n\t\ttestResolution('X{.x,y}', variables, 'X.1024.768');\n\t});\n\n\ttest('Level 3 - Path segments expansion', () => {\n\t\t// Test cases from RFC 6570 Section 1.2\n\t\tconst variables = {\n\t\t\tvar: 'value',\n\t\t\tx: '1024'\n\t\t};\n\n\t\ttestResolution('{/var}', variables, '/value');\n\t\ttestResolution('{/var,x}/here', variables, '/value/1024/here');\n\t});\n\n\ttest('Level 3 - Path-style parameter expansion', () => {\n\t\t// Test cases from RFC 6570 Section 1.2\n\t\tconst variables = {\n\t\t\tx: '1024',\n\t\t\ty: '768',\n\t\t\tempty: ''\n\t\t};\n\n\t\ttestResolution('{;x,y}', variables, ';x=1024;y=768');\n\t\ttestResolution('{;x,y,empty}', variables, ';x=1024;y=768;empty');\n\t});\n\n\ttest('Level 3 - Form-style query expansion', () => {\n\t\t// Test cases from RFC 6570 Section 1.2\n\t\tconst variables = {\n\t\t\tx: '1024',\n\t\t\ty: '768',\n\t\t\tempty: ''\n\t\t};\n\n\t\ttestResolution('{?x,y}', variables, '?x=1024&y=768');\n\t\ttestResolution('{?x,y,empty}', variables, '?x=1024&y=768&empty=');\n\t});\n\n\ttest('Level 3 - Form-style query continuation', () => {\n\t\t// Test cases from RFC 6570 Section 1.2\n\t\tconst variables = {\n\t\t\tx: '1024',\n\t\t\ty: '768',\n\t\t\tempty: ''\n\t\t};\n\n\t\ttestResolution('?fixed=yes{&x}', variables, '?fixed=yes&x=1024');\n\t\ttestResolution('{&x,y,empty}', variables, '&x=1024&y=768&empty=');\n\t});\n\n\ttest('Level 4 - String expansion with value modifiers', () => {\n\t\t// Test cases from RFC 6570 Section 1.2\n\t\tconst variables = {\n\t\t\tvar: 'value',\n\t\t\thello: 'Hello World!',\n\t\t\tpath: '/foo/bar',\n\t\t\tlist: ['red', 'green', 'blue'],\n\t\t\tkeys: {\n\t\t\t\tsemi: ';',\n\t\t\t\tdot: '.',\n\t\t\t\tcomma: ','\n\t\t\t}\n\t\t};\n\n\t\ttestResolution('{var:3}', variables, 'val');\n\t\ttestResolution('{var:30}', variables, 'value');\n\t\ttestResolution('{list}', variables, 'red,green,blue');\n\t\ttestResolution('{list*}', variables, 'red,green,blue');\n\t});\n\n\ttest('Level 4 - Reserved expansion with value modifiers', () => {\n\t\t// Test cases related to Level 4 features\n\t\tconst variables = {\n\t\t\tvar: 'value',\n\t\t\thello: 'Hello World!',\n\t\t\tpath: '/foo/bar',\n\t\t\tlist: ['red', 'green', 'blue'],\n\t\t\tkeys: {\n\t\t\t\tsemi: ';',\n\t\t\t\tdot: '.',\n\t\t\t\tcomma: ','\n\t\t\t}\n\t\t};\n\n\t\ttestResolution('{+path:6}/here', variables, '/foo/b/here');\n\t\ttestResolution('{+list}', variables, 'red,green,blue');\n\t\ttestResolution('{+list*}', variables, 'red,green,blue');\n\t\ttestResolution('{+keys}', variables, 'semi,;,dot,.,comma,,');\n\t\ttestResolution('{+keys*}', variables, 'semi=;,dot=.,comma=,');\n\t});\n\n\ttest('Level 4 - Fragment expansion with value modifiers', () => {\n\t\t// Test cases related to Level 4 features\n\t\tconst variables = {\n\t\t\tvar: 'value',\n\t\t\thello: 'Hello World!',\n\t\t\tpath: '/foo/bar',\n\t\t\tlist: ['red', 'green', 'blue'],\n\t\t\tkeys: {\n\t\t\t\tsemi: ';',\n\t\t\t\tdot: '.',\n\t\t\t\tcomma: ','\n\t\t\t}\n\t\t};\n\n\t\ttestResolution('{#path:6}/here', variables, '#/foo/b/here');\n\t\ttestResolution('{#list}', variables, '#red,green,blue');\n\t\ttestResolution('{#list*}', variables, '#red,green,blue');\n\t\ttestResolution('{#keys}', variables, '#semi,;,dot,.,comma,,');\n\t\ttestResolution('{#keys*}', variables, '#semi=;,dot=.,comma=,');\n\t});\n\n\ttest('Level 4 - Label expansion with value modifiers', () => {\n\t\t// Test cases related to Level 4 features\n\t\tconst variables = {\n\t\t\tvar: 'value',\n\t\t\tlist: ['red', 'green', 'blue'],\n\t\t\tkeys: {\n\t\t\t\tsemi: ';',\n\t\t\t\tdot: '.',\n\t\t\t\tcomma: ','\n\t\t\t}\n\t\t};\n\n\t\ttestResolution('X{.var:3}', variables, 'X.val');\n\t\ttestResolution('X{.list}', variables, 'X.red,green,blue');\n\t\ttestResolution('X{.list*}', variables, 'X.red.green.blue');\n\t\ttestResolution('X{.keys}', variables, 'X.semi,;,dot,.,comma,,');\n\t\ttestResolution('X{.keys*}', variables, 'X.semi=;.dot=..comma=,');\n\t});\n\n\ttest('Level 4 - Path expansion with value modifiers', () => {\n\t\t// Test cases related to Level 4 features\n\t\tconst variables = {\n\t\t\tvar: 'value',\n\t\t\tlist: ['red', 'green', 'blue'],\n\t\t\tpath: '/foo/bar',\n\t\t\tkeys: {\n\t\t\t\tsemi: ';',\n\t\t\t\tdot: '.',\n\t\t\t\tcomma: ','\n\t\t\t}\n\t\t};\n\n\t\ttestResolution('{/var:1,var}', variables, '/v/value');\n\t\ttestResolution('{/list}', variables, '/red,green,blue');\n\t\ttestResolution('{/list*}', variables, '/red/green/blue');\n\t\ttestResolution('{/list*,path:4}', variables, '/red/green/blue/%2Ffoo');\n\t\ttestResolution('{/keys}', variables, '/semi,;,dot,.,comma,,');\n\t\ttestResolution('{/keys*}', variables, '/semi=%3B/dot=./comma=%2C');\n\t});\n\n\ttest('Level 4 - Path-style parameters with value modifiers', () => {\n\t\t// Test cases related to Level 4 features\n\t\tconst variables = {\n\t\t\tvar: 'value',\n\t\t\tlist: ['red', 'green', 'blue'],\n\t\t\tkeys: {\n\t\t\t\tsemi: ';',\n\t\t\t\tdot: '.',\n\t\t\t\tcomma: ','\n\t\t\t}\n\t\t};\n\n\t\ttestResolution('{;hello:5}', { hello: 'Hello World!' }, ';hello=Hello');\n\t\ttestResolution('{;list}', variables, ';list=red,green,blue');\n\t\ttestResolution('{;list*}', variables, ';list=red;list=green;list=blue');\n\t\ttestResolution('{;keys}', variables, ';keys=semi,;,dot,.,comma,,');\n\t\ttestResolution('{;keys*}', variables, ';semi=;;dot=.;comma=,');\n\t});\n\n\ttest('Level 4 - Form-style query with value modifiers', () => {\n\t\t// Test cases related to Level 4 features\n\t\tconst variables = {\n\t\t\tvar: 'value',\n\t\t\tlist: ['red', 'green', 'blue'],\n\t\t\tkeys: {\n\t\t\t\tsemi: ';',\n\t\t\t\tdot: '.',\n\t\t\t\tcomma: ','\n\t\t\t}\n\t\t};\n\n\t\ttestResolution('{?var:3}', variables, '?var=val');\n\t\ttestResolution('{?list}', variables, '?list=red,green,blue');\n\t\ttestResolution('{?list*}', variables, '?list=red&list=green&list=blue');\n\t\ttestResolution('{?keys}', variables, '?keys=semi,;,dot,.,comma,,');\n\t\ttestResolution('{?keys*}', variables, '?semi=;&dot=.&comma=,');\n\t});\n\n\ttest('Level 4 - Form-style query continuation with value modifiers', () => {\n\t\t// Test cases related to Level 4 features\n\t\tconst variables = {\n\t\t\tvar: 'value',\n\t\t\tlist: ['red', 'green', 'blue'],\n\t\t\tkeys: {\n\t\t\t\tsemi: ';',\n\t\t\t\tdot: '.',\n\t\t\t\tcomma: ','\n\t\t\t}\n\t\t};\n\n\t\ttestResolution('?fixed=yes{&var:3}', variables, '?fixed=yes&var=val');\n\t\ttestResolution('?fixed=yes{&list}', variables, '?fixed=yes&list=red,green,blue');\n\t\ttestResolution('?fixed=yes{&list*}', variables, '?fixed=yes&list=red&list=green&list=blue');\n\t\ttestResolution('?fixed=yes{&keys}', variables, '?fixed=yes&keys=semi,;,dot,.,comma,,');\n\t\ttestResolution('?fixed=yes{&keys*}', variables, '?fixed=yes&semi=;&dot=.&comma=,');\n\t});\n\n\ttest('handling undefined or null values', () => {\n\t\t// Test handling of undefined/null values for different operators\n\t\tconst variables = {\n\t\t\tdefined: 'value',\n\t\t\tundef: undefined,\n\t\t\tnull: null,\n\t\t\tempty: ''\n\t\t};\n\n\t\t// Simple string expansion\n\t\ttestResolution('{defined,undef,null,empty}', variables, 'value,');\n\n\t\t// Reserved expansion\n\t\ttestResolution('{+defined,undef,null,empty}', variables, 'value,');\n\n\t\t// Fragment expansion\n\t\ttestResolution('{#defined,undef,null,empty}', variables, '#value,');\n\n\t\t// Label expansion\n\t\ttestResolution('X{.defined,undef,null,empty}', variables, 'X.value');\n\n\t\t// Path segments\n\t\ttestResolution('{/defined,undef,null}', variables, '/value');\n\n\t\t// Path-style parameters\n\t\ttestResolution('{;defined,empty}', variables, ';defined=value;empty');\n\n\t\t// Form-style query\n\t\ttestResolution('{?defined,undef,null,empty}', variables, '?defined=value&undef=&null=&empty=');\n\n\t\t// Form-style query continuation\n\t\ttestResolution('{&defined,undef,null,empty}', variables, '&defined=value&undef=&null=&empty=');\n\t});\n\n\ttest('complex templates', () => {\n\t\t// Test more complex template combinations\n\t\tconst variables = {\n\t\t\tdomain: 'example.com',\n\t\t\tuser: 'fred',\n\t\t\tpath: ['path', 'to', 'resource'],\n\t\t\tquery: 'search',\n\t\t\tpage: 5,\n\t\t\tlang: 'en',\n\t\t\tsessionId: '123abc',\n\t\t\tfilters: ['color:blue', 'shape:square'],\n\t\t\tcoordinates: { lat: '37.7', lon: '-122.4' }\n\t\t};\n\n\t\t// RESTful URL pattern\n\t\ttestResolution('https://{domain}/api/v1/users/{user}{/path*}{?query,page,lang}',\n\t\t\tvariables,\n\t\t\t'https://example.com/api/v1/users/fred/path/to/resource?query=search&page=5&lang=en');\n\n\t\t// Complex query parameters\n\t\ttestResolution('https://{domain}/search{?query,filters,coordinates*}',\n\t\t\tvariables,\n\t\t\t'https://example.com/search?query=search&filters=color:blue,shape:square&lat=37.7&lon=-122.4');\n\n\t\t// Multiple expression types\n\t\ttestResolution('https://{domain}/users/{user}/profile{.lang}{?sessionId}{#path}',\n\t\t\tvariables,\n\t\t\t'https://example.com/users/fred/profile.en?sessionId=123abc#path,to,resource');\n\t});\n\n\ttest('literals and escaping', () => {\n\t\t// Test literal segments and escaping\n\t\ttestParsing('http://example.com/literal', []);\n\t\ttestParsing('http://example.com/{var}literal{var2}', [\n\t\t\t{\n\t\t\t\texpression: '{var}',\n\t\t\t\toperator: '',\n\t\t\t\tvariables: [{ explodable: false, name: 'var', optional: false, prefixLength: undefined, repeatable: false }]\n\t\t\t},\n\t\t\t{\n\t\t\t\texpression: '{var2}',\n\t\t\t\toperator: '',\n\t\t\t\tvariables: [{ explodable: false, name: 'var2', optional: false, prefixLength: undefined, repeatable: false }]\n\t\t\t}\n\t\t]);\n\n\t\t// Test that escaped braces are treated as literals\n\t\t// Note: The current implementation might not handle this case\n\t\ttestResolution('http://example.com/{{var}}', { var: 'value' }, 'http://example.com/{var}');\n\t});\n\n\ttest('edge cases', () => {\n\t\t// Empty template\n\t\ttestResolution('', {}, '');\n\n\t\t// Template with only literals\n\t\ttestResolution('http://example.com/path', {}, 'http://example.com/path');\n\n\t\t// No variables provided for resolution\n\t\ttestResolution('{var}', {}, '');\n\n\t\t// Multiple sequential expressions\n\t\ttestResolution('{a}{b}{c}', { a: '1', b: '2', c: '3' }, '123');\n\n\t\t// Expressions with special characters in variable names\n\t\ttestResolution('{_hidden.var-name$}', { '_hidden.var-name$': 'value' }, 'value');\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { UriTemplate } from '../../common/uriTemplate.js';\nimport * as assert from 'assert';\n\nsuite('UriTemplate', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\t/**\n\t * Helper function to test template parsing and component extraction\n\t */\n\tfunction testParsing(template: string, expectedComponents: unknown[]) {\n\t\tconst templ = UriTemplate.parse(template);\n\t\tassert.deepStrictEqual(templ.components.filter(c => typeof c === 'object'), expectedComponents);\n\t\treturn templ;\n\t}\n\n\t/**\n\t * Helper function to test template resolution\n\t */\n\tfunction testResolution(template: string, variables: Record<string, any>, expected: string) {\n\t\tconst templ = UriTemplate.parse(template);\n\t\tconst result = templ.resolve(variables);\n\t\tassert.strictEqual(result, expected);\n\t}\n\n\ttest('simple replacement', () => {\n\t\tconst templ = UriTemplate.parse('http://example.com/{var}');\n\t\tassert.deepStrictEqual(templ.components, ['http://example.com/', {\n\t\t\texpression: '{var}',\n\t\t\toperator: '',\n\t\t\tvariables: [{ explodable: false, name: 'var', optional: false, prefixLength: undefined, repeatable: false }]\n\t\t}, '']);\n\t\tconst result = templ.resolve({ var: 'value' });\n\t\tassert.strictEqual(result, 'http://example.com/value');\n\t});\n\n\ttest('parsing components correctly', () => {\n\t\t// Simple component\n\t\ttestParsing('http://example.com/{var}', [{\n\t\t\texpression: '{var}',\n\t\t\toperator: '',\n\t\t\tvariables: [{ explodable: false, name: 'var', optional: false, prefixLength: undefined, repeatable: false }]\n\t\t}]);\n\n\t\t// Component with operator\n\t\ttestParsing('http://example.com/{+path}', [{\n\t\t\texpression: '{+path}',\n\t\t\toperator: '+',\n\t\t\tvariables: [{ explodable: false, name: 'path', optional: false, prefixLength: undefined, repeatable: false }]\n\t\t}]);\n\n\t\t// Component with multiple variables\n\t\ttestParsing('http://example.com/{x,y}', [{\n\t\t\texpression: '{x,y}',\n\t\t\toperator: '',\n\t\t\tvariables: [\n\t\t\t\t{ explodable: false, name: 'x', optional: false, prefixLength: undefined, repeatable: false },\n\t\t\t\t{ explodable: false, name: 'y', optional: false, prefixLength: undefined, repeatable: false }\n\t\t\t]\n\t\t}]);\n\n\t\t// Component with value modifiers\n\t\ttestParsing('http://example.com/{var:3}', [{\n\t\t\texpression: '{var:3}',\n\t\t\toperator: '',\n\t\t\tvariables: [{ explodable: false, name: 'var', optional: false, prefixLength: 3, repeatable: false }]\n\t\t}]);\n\n\t\ttestParsing('http://example.com/{list*}', [{\n\t\t\texpression: '{list*}',\n\t\t\toperator: '',\n\t\t\tvariables: [{ explodable: true, name: 'list', optional: false, prefixLength: undefined, repeatable: true }]\n\t\t}]);\n\n\t\t// Multiple components\n\t\ttestParsing('http://example.com/{x}/path/{y}', [\n\t\t\t{\n\t\t\t\texpression: '{x}',\n\t\t\t\toperator: '',\n\t\t\t\tvariables: [{ explodable: false, name: 'x', optional: false, prefixLength: undefined, repeatable: false }]\n\t\t\t},\n\t\t\t{\n\t\t\t\texpression: '{y}',\n\t\t\t\toperator: '',\n\t\t\t\tvariables: [{ explodable: false, name: 'y', optional: false, prefixLength: undefined, repeatable: false }]\n\t\t\t}\n\t\t]);\n\t});\n\n\ttest('Level 1 - Simple string expansion', () => {\n\t\t// Test cases from RFC 6570 Section 1.2\n\t\tconst variables = {\n\t\t\tvar: 'value',\n\t\t\thello: 'Hello World!'\n\t\t};\n\n\t\ttestResolution('{var}', variables, 'value');\n\t\ttestResolution('{hello}', variables, 'Hello%20World%21');\n\t});\n\n\ttest('Level 2 - Reserved expansion', () => {\n\t\t// Test cases from RFC 6570 Section 1.2\n\t\tconst variables = {\n\t\t\tvar: 'value',\n\t\t\thello: 'Hello World!',\n\t\t\tpath: '/foo/bar'\n\t\t};\n\n\t\ttestResolution('{+var}', variables, 'value');\n\t\ttestResolution('{+hello}', variables, 'Hello%20World!');\n\t\ttestResolution('{+path}/here', variables, '/foo/bar/here');\n\t\ttestResolution('here?ref={+path}', variables, 'here?ref=/foo/bar');\n\t});\n\n\ttest('Level 2 - Fragment expansion', () => {\n\t\t// Test cases from RFC 6570 Section 1.2\n\t\tconst variables = {\n\t\t\tvar: 'value',\n\t\t\thello: 'Hello World!'\n\t\t};\n\n\t\ttestResolution('X{#var}', variables, 'X#value');\n\t\ttestResolution('X{#hello}', variables, 'X#Hello%20World!');\n\t});\n\n\ttest('Level 3 - String expansion with multiple variables', () => {\n\t\t// Test cases from RFC 6570 Section 1.2\n\t\tconst variables = {\n\t\t\tvar: 'value',\n\t\t\thello: 'Hello World!',\n\t\t\tempty: '',\n\t\t\tpath: '/foo/bar',\n\t\t\tx: '1024',\n\t\t\ty: '768'\n\t\t};\n\n\t\ttestResolution('map?{x,y}', variables, 'map?1024,768');\n\t\ttestResolution('{x,hello,y}', variables, '1024,Hello%20World%21,768');\n\t});\n\n\ttest('Level 3 - Reserved expansion with multiple variables', () => {\n\t\t// Test cases from RFC 6570 Section 1.2\n\t\tconst variables = {\n\t\t\tvar: 'value',\n\t\t\thello: 'Hello World!',\n\t\t\tpath: '/foo/bar',\n\t\t\tx: '1024',\n\t\t\ty: '768'\n\t\t};\n\n\t\ttestResolution('{+x,hello,y}', variables, '1024,Hello%20World!,768');\n\t\ttestResolution('{+path,x}/here', variables, '/foo/bar,1024/here');\n\t});\n\n\ttest('Level 3 - Fragment expansion with multiple variables', () => {\n\t\t// Test cases from RFC 6570 Section 1.2\n\t\tconst variables = {\n\t\t\tvar: 'value',\n\t\t\thello: 'Hello World!',\n\t\t\tpath: '/foo/bar',\n\t\t\tx: '1024',\n\t\t\ty: '768'\n\t\t};\n\n\t\ttestResolution('{#x,hello,y}', variables, '#1024,Hello%20World!,768');\n\t\ttestResolution('{#path,x}/here', variables, '#/foo/bar,1024/here');\n\t});\n\n\ttest('Level 3 - Label expansion with dot-prefix', () => {\n\t\t// Test cases from RFC 6570 Section 1.2\n\t\tconst variables = {\n\t\t\tvar: 'value',\n\t\t\tx: '1024',\n\t\t\ty: '768'\n\t\t};\n\n\t\ttestResolution('X{.var}', variables, 'X.value');\n\t\ttestResolution('X{.x,y}', variables, 'X.1024.768');\n\t});\n\n\ttest('Level 3 - Path segments expansion', () => {\n\t\t// Test cases from RFC 6570 Section 1.2\n\t\tconst variables = {\n\t\t\tvar: 'value',\n\t\t\tx: '1024'\n\t\t};\n\n\t\ttestResolution('{/var}', variables, '/value');\n\t\ttestResolution('{/var,x}/here', variables, '/value/1024/here');\n\t});\n\n\ttest('Level 3 - Path-style parameter expansion', () => {\n\t\t// Test cases from RFC 6570 Section 1.2\n\t\tconst variables = {\n\t\t\tx: '1024',\n\t\t\ty: '768',\n\t\t\tempty: ''\n\t\t};\n\n\t\ttestResolution('{;x,y}', variables, ';x=1024;y=768');\n\t\ttestResolution('{;x,y,empty}', variables, ';x=1024;y=768;empty');\n\t});\n\n\ttest('Level 3 - Form-style query expansion', () => {\n\t\t// Test cases from RFC 6570 Section 1.2\n\t\tconst variables = {\n\t\t\tx: '1024',\n\t\t\ty: '768',\n\t\t\tempty: ''\n\t\t};\n\n\t\ttestResolution('{?x,y}', variables, '?x=1024&y=768');\n\t\ttestResolution('{?x,y,empty}', variables, '?x=1024&y=768&empty=');\n\t});\n\n\ttest('Level 3 - Form-style query continuation', () => {\n\t\t// Test cases from RFC 6570 Section 1.2\n\t\tconst variables = {\n\t\t\tx: '1024',\n\t\t\ty: '768',\n\t\t\tempty: ''\n\t\t};\n\n\t\ttestResolution('?fixed=yes{&x}', variables, '?fixed=yes&x=1024');\n\t\ttestResolution('{&x,y,empty}', variables, '&x=1024&y=768&empty=');\n\t});\n\n\ttest('Level 4 - String expansion with value modifiers', () => {\n\t\t// Test cases from RFC 6570 Section 1.2\n\t\tconst variables = {\n\t\t\tvar: 'value',\n\t\t\thello: 'Hello World!',\n\t\t\tpath: '/foo/bar',\n\t\t\tlist: ['red', 'green', 'blue'],\n\t\t\tkeys: {\n\t\t\t\tsemi: ';',\n\t\t\t\tdot: '.',\n\t\t\t\tcomma: ','\n\t\t\t}\n\t\t};\n\n\t\ttestResolution('{var:3}', variables, 'val');\n\t\ttestResolution('{var:30}', variables, 'value');\n\t\ttestResolution('{list}', variables, 'red,green,blue');\n\t\ttestResolution('{list*}', variables, 'red,green,blue');\n\t});\n\n\ttest('Level 4 - Reserved expansion with value modifiers', () => {\n\t\t// Test cases related to Level 4 features\n\t\tconst variables = {\n\t\t\tvar: 'value',\n\t\t\thello: 'Hello World!',\n\t\t\tpath: '/foo/bar',\n\t\t\tlist: ['red', 'green', 'blue'],\n\t\t\tkeys: {\n\t\t\t\tsemi: ';',\n\t\t\t\tdot: '.',\n\t\t\t\tcomma: ','\n\t\t\t}\n\t\t};\n\n\t\ttestResolution('{+path:6}/here', variables, '/foo/b/here');\n\t\ttestResolution('{+list}', variables, 'red,green,blue');\n\t\ttestResolution('{+list*}', variables, 'red,green,blue');\n\t\ttestResolution('{+keys}', variables, 'semi,;,dot,.,comma,,');\n\t\ttestResolution('{+keys*}', variables, 'semi=;,dot=.,comma=,');\n\t});\n\n\ttest('Level 4 - Fragment expansion with value modifiers', () => {\n\t\t// Test cases related to Level 4 features\n\t\tconst variables = {\n\t\t\tvar: 'value',\n\t\t\thello: 'Hello World!',\n\t\t\tpath: '/foo/bar',\n\t\t\tlist: ['red', 'green', 'blue'],\n\t\t\tkeys: {\n\t\t\t\tsemi: ';',\n\t\t\t\tdot: '.',\n\t\t\t\tcomma: ','\n\t\t\t}\n\t\t};\n\n\t\ttestResolution('{#path:6}/here', variables, '#/foo/b/here');\n\t\ttestResolution('{#list}', variables, '#red,green,blue');\n\t\ttestResolution('{#list*}', variables, '#red,green,blue');\n\t\ttestResolution('{#keys}', variables, '#semi,;,dot,.,comma,,');\n\t\ttestResolution('{#keys*}', variables, '#semi=;,dot=.,comma=,');\n\t});\n\n\ttest('Level 4 - Label expansion with value modifiers', () => {\n\t\t// Test cases related to Level 4 features\n\t\tconst variables = {\n\t\t\tvar: 'value',\n\t\t\tlist: ['red', 'green', 'blue'],\n\t\t\tkeys: {\n\t\t\t\tsemi: ';',\n\t\t\t\tdot: '.',\n\t\t\t\tcomma: ','\n\t\t\t}\n\t\t};\n\n\t\ttestResolution('X{.var:3}', variables, 'X.val');\n\t\ttestResolution('X{.list}', variables, 'X.red,green,blue');\n\t\ttestResolution('X{.list*}', variables, 'X.red.green.blue');\n\t\ttestResolution('X{.keys}', variables, 'X.semi,;,dot,.,comma,,');\n\t\ttestResolution('X{.keys*}', variables, 'X.semi=;.dot=..comma=,');\n\t});\n\n\ttest('Level 4 - Path expansion with value modifiers', () => {\n\t\t// Test cases related to Level 4 features\n\t\tconst variables = {\n\t\t\tvar: 'value',\n\t\t\tlist: ['red', 'green', 'blue'],\n\t\t\tpath: '/foo/bar',\n\t\t\tkeys: {\n\t\t\t\tsemi: ';',\n\t\t\t\tdot: '.',\n\t\t\t\tcomma: ','\n\t\t\t}\n\t\t};\n\n\t\ttestResolution('{/var:1,var}', variables, '/v/value');\n\t\ttestResolution('{/list}', variables, '/red,green,blue');\n\t\ttestResolution('{/list*}', variables, '/red/green/blue');\n\t\ttestResolution('{/list*,path:4}', variables, '/red/green/blue/%2Ffoo');\n\t\ttestResolution('{/keys}', variables, '/semi,;,dot,.,comma,,');\n\t\ttestResolution('{/keys*}', variables, '/semi=%3B/dot=./comma=%2C');\n\t});\n\n\ttest('Level 4 - Path-style parameters with value modifiers', () => {\n\t\t// Test cases related to Level 4 features\n\t\tconst variables = {\n\t\t\tvar: 'value',\n\t\t\tlist: ['red', 'green', 'blue'],\n\t\t\tkeys: {\n\t\t\t\tsemi: ';',\n\t\t\t\tdot: '.',\n\t\t\t\tcomma: ','\n\t\t\t}\n\t\t};\n\n\t\ttestResolution('{;hello:5}', { hello: 'Hello World!' }, ';hello=Hello');\n\t\ttestResolution('{;list}', variables, ';list=red,green,blue');\n\t\ttestResolution('{;list*}', variables, ';list=red;list=green;list=blue');\n\t\ttestResolution('{;keys}', variables, ';keys=semi,;,dot,.,comma,,');\n\t\ttestResolution('{;keys*}', variables, ';semi=;;dot=.;comma=,');\n\t});\n\n\ttest('Level 4 - Form-style query with value modifiers', () => {\n\t\t// Test cases related to Level 4 features\n\t\tconst variables = {\n\t\t\tvar: 'value',\n\t\t\tlist: ['red', 'green', 'blue'],\n\t\t\tkeys: {\n\t\t\t\tsemi: ';',\n\t\t\t\tdot: '.',\n\t\t\t\tcomma: ','\n\t\t\t}\n\t\t};\n\n\t\ttestResolution('{?var:3}', variables, '?var=val');\n\t\ttestResolution('{?list}', variables, '?list=red,green,blue');\n\t\ttestResolution('{?list*}', variables, '?list=red&list=green&list=blue');\n\t\ttestResolution('{?keys}', variables, '?keys=semi,;,dot,.,comma,,');\n\t\ttestResolution('{?keys*}', variables, '?semi=;&dot=.&comma=,');\n\t});\n\n\ttest('Level 4 - Form-style query continuation with value modifiers', () => {\n\t\t// Test cases related to Level 4 features\n\t\tconst variables = {\n\t\t\tvar: 'value',\n\t\t\tlist: ['red', 'green', 'blue'],\n\t\t\tkeys: {\n\t\t\t\tsemi: ';',\n\t\t\t\tdot: '.',\n\t\t\t\tcomma: ','\n\t\t\t}\n\t\t};\n\n\t\ttestResolution('?fixed=yes{&var:3}', variables, '?fixed=yes&var=val');\n\t\ttestResolution('?fixed=yes{&list}', variables, '?fixed=yes&list=red,green,blue');\n\t\ttestResolution('?fixed=yes{&list*}', variables, '?fixed=yes&list=red&list=green&list=blue');\n\t\ttestResolution('?fixed=yes{&keys}', variables, '?fixed=yes&keys=semi,;,dot,.,comma,,');\n\t\ttestResolution('?fixed=yes{&keys*}', variables, '?fixed=yes&semi=;&dot=.&comma=,');\n\t});\n\n\ttest('handling undefined or null values', () => {\n\t\t// Test handling of undefined/null values for different operators\n\t\tconst variables = {\n\t\t\tdefined: 'value',\n\t\t\tundef: undefined,\n\t\t\tnull: null,\n\t\t\tempty: ''\n\t\t};\n\n\t\t// Simple string expansion\n\t\ttestResolution('{defined,undef,null,empty}', variables, 'value,');\n\n\t\t// Reserved expansion\n\t\ttestResolution('{+defined,undef,null,empty}', variables, 'value,');\n\n\t\t// Fragment expansion\n\t\ttestResolution('{#defined,undef,null,empty}', variables, '#value,');\n\n\t\t// Label expansion\n\t\ttestResolution('X{.defined,undef,null,empty}', variables, 'X.value');\n\n\t\t// Path segments\n\t\ttestResolution('{/defined,undef,null}', variables, '/value');\n\n\t\t// Path-style parameters\n\t\ttestResolution('{;defined,empty}', variables, ';defined=value;empty');\n\n\t\t// Form-style query\n\t\ttestResolution('{?defined,undef,null,empty}', variables, '?defined=value&undef=&null=&empty=');\n\n\t\t// Form-style query continuation\n\t\ttestResolution('{&defined,undef,null,empty}', variables, '&defined=value&undef=&null=&empty=');\n\t});\n\n\ttest('complex templates', () => {\n\t\t// Test more complex template combinations\n\t\tconst variables = {\n\t\t\tdomain: 'example.com',\n\t\t\tuser: 'fred',\n\t\t\tpath: ['path', 'to', 'resource'],\n\t\t\tquery: 'search',\n\t\t\tpage: 5,\n\t\t\tlang: 'en',\n\t\t\tsessionId: '123abc',\n\t\t\tfilters: ['color:blue', 'shape:square'],\n\t\t\tcoordinates: { lat: '37.7', lon: '-122.4' }\n\t\t};\n\n\t\t// RESTful URL pattern\n\t\ttestResolution('https://{domain}/api/v1/users/{user}{/path*}{?query,page,lang}',\n\t\t\tvariables,\n\t\t\t'https://example.com/api/v1/users/fred/path/to/resource?query=search&page=5&lang=en');\n\n\t\t// Complex query parameters\n\t\ttestResolution('https://{domain}/search{?query,filters,coordinates*}',\n\t\t\tvariables,\n\t\t\t'https://example.com/search?query=search&filters=color:blue,shape:square&lat=37.7&lon=-122.4');\n\n\t\t// Multiple expression types\n\t\ttestResolution('https://{domain}/users/{user}/profile{.lang}{?sessionId}{#path}',\n\t\t\tvariables,\n\t\t\t'https://example.com/users/fred/profile.en?sessionId=123abc#path,to,resource');\n\t});\n\n\ttest('literals and escaping', () => {\n\t\t// Test literal segments and escaping\n\t\ttestParsing('http://example.com/literal', []);\n\t\ttestParsing('http://example.com/{var}literal{var2}', [\n\t\t\t{\n\t\t\t\texpression: '{var}',\n\t\t\t\toperator: '',\n\t\t\t\tvariables: [{ explodable: false, name: 'var', optional: false, prefixLength: undefined, repeatable: false }]\n\t\t\t},\n\t\t\t{\n\t\t\t\texpression: '{var2}',\n\t\t\t\toperator: '',\n\t\t\t\tvariables: [{ explodable: false, name: 'var2', optional: false, prefixLength: undefined, repeatable: false }]\n\t\t\t}\n\t\t]);\n\n\t\t// Test that escaped braces are treated as literals\n\t\t// Note: The current implementation might not handle this case\n\t\ttestResolution('http://example.com/{{var}}', { var: 'value' }, 'http://example.com/{var}');\n\t});\n\n\ttest('edge cases', () => {\n\t\t// Empty template\n\t\ttestResolution('', {}, '');\n\n\t\t// Template with only literals\n\t\ttestResolution('http://example.com/path', {}, 'http://example.com/path');\n\n\t\t// No variables provided for resolution\n\t\ttestResolution('{var}', {}, '');\n\n\t\t// Multiple sequential expressions\n\t\ttestResolution('{a}{b}{c}', { a: '1', b: '2', c: '3' }, '123');\n\n\t\t// Expressions with special characters in variable names\n\t\ttestResolution('{_hidden.var-name$}', { '_hidden.var-name$': 'value' }, 'value');\n\t});\n});\n"]}