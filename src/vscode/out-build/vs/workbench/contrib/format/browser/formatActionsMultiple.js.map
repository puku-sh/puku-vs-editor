{"version":3,"sources":["vs/workbench/contrib/format/browser/formatActionsMultiple.ts"],"names":[],"mappings":"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","file":"formatActionsMultiple.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { getCodeEditor, ICodeEditor } from '../../../../editor/browser/editorBrowser.js';\nimport { EditorAction, registerEditorAction } from '../../../../editor/browser/editorExtensions.js';\nimport { EditorContextKeys } from '../../../../editor/common/editorContextKeys.js';\nimport { DocumentFormattingEditProvider, DocumentRangeFormattingEditProvider } from '../../../../editor/common/languages.js';\nimport * as nls from '../../../../nls.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IQuickInputService, IQuickPickItem } from '../../../../platform/quickinput/common/quickInput.js';\nimport { CancellationToken, CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { formatDocumentRangesWithProvider, formatDocumentWithProvider, getRealAndSyntheticDocumentFormattersOrdered, FormattingConflicts, FormattingMode, FormattingKind } from '../../../../editor/contrib/format/browser/format.js';\nimport { Range } from '../../../../editor/common/core/range.js';\nimport { ExtensionIdentifier } from '../../../../platform/extensions/common/extensions.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { IConfigurationRegistry, Extensions as ConfigurationExtensions } from '../../../../platform/configuration/common/configurationRegistry.js';\nimport { Extensions as WorkbenchExtensions, IWorkbenchContributionsRegistry, IWorkbenchContribution } from '../../../common/contributions.js';\nimport { LifecyclePhase } from '../../../services/lifecycle/common/lifecycle.js';\nimport { IExtensionService, toExtension } from '../../../services/extensions/common/extensions.js';\nimport { Disposable, DisposableStore, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { ITextModel } from '../../../../editor/common/model.js';\nimport { INotificationService, NotificationPriority, Severity } from '../../../../platform/notification/common/notification.js';\nimport { ILanguageService } from '../../../../editor/common/languages/language.js';\nimport { IWorkbenchExtensionEnablementService } from '../../../services/extensionManagement/common/extensionManagement.js';\nimport { editorConfigurationBaseNode } from '../../../../editor/common/config/editorConfigurationSchema.js';\nimport { IDialogService } from '../../../../platform/dialogs/common/dialogs.js';\nimport { ILanguageFeaturesService } from '../../../../editor/common/services/languageFeatures.js';\nimport { ILanguageStatusService } from '../../../services/languageStatus/common/languageStatusService.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nimport { generateUuid } from '../../../../base/common/uuid.js';\n\ntype FormattingEditProvider = DocumentFormattingEditProvider | DocumentRangeFormattingEditProvider;\n\nexport class DefaultFormatter extends Disposable implements IWorkbenchContribution {\n\n\tstatic readonly configName = 'editor.defaultFormatter';\n\n\tstatic extensionIds: (string | null)[] = [];\n\tstatic extensionItemLabels: string[] = [];\n\tstatic extensionDescriptions: string[] = [];\n\n\tprivate readonly _languageStatusStore = this._store.add(new DisposableStore());\n\n\tconstructor(\n\t\t@IExtensionService private readonly _extensionService: IExtensionService,\n\t\t@IWorkbenchExtensionEnablementService private readonly _extensionEnablementService: IWorkbenchExtensionEnablementService,\n\t\t@IConfigurationService private readonly _configService: IConfigurationService,\n\t\t@INotificationService private readonly _notificationService: INotificationService,\n\t\t@IDialogService private readonly _dialogService: IDialogService,\n\t\t@IQuickInputService private readonly _quickInputService: IQuickInputService,\n\t\t@ILanguageService private readonly _languageService: ILanguageService,\n\t\t@ILanguageFeaturesService private readonly _languageFeaturesService: ILanguageFeaturesService,\n\t\t@ILanguageStatusService private readonly _languageStatusService: ILanguageStatusService,\n\t\t@IEditorService private readonly _editorService: IEditorService,\n\t) {\n\t\tsuper();\n\t\tthis._store.add(this._extensionService.onDidChangeExtensions(this._updateConfigValues, this));\n\t\tthis._store.add(FormattingConflicts.setFormatterSelector((formatter, document, mode, kind) => this._selectFormatter(formatter, document, mode, kind)));\n\t\tthis._store.add(_editorService.onDidActiveEditorChange(this._updateStatus, this));\n\t\tthis._store.add(_languageFeaturesService.documentFormattingEditProvider.onDidChange(this._updateStatus, this));\n\t\tthis._store.add(_languageFeaturesService.documentRangeFormattingEditProvider.onDidChange(this._updateStatus, this));\n\t\tthis._store.add(_languageFeaturesService.documentFormattingEditProvider.onDidChange(this._updateConfigValues, this));\n\t\tthis._store.add(_languageFeaturesService.documentRangeFormattingEditProvider.onDidChange(this._updateConfigValues, this));\n\t\tthis._store.add(_configService.onDidChangeConfiguration(e => e.affectsConfiguration(DefaultFormatter.configName) && this._updateStatus()));\n\t\tthis._updateConfigValues();\n\t}\n\n\tprivate async _updateConfigValues(): Promise<void> {\n\t\tawait this._extensionService.whenInstalledExtensionsRegistered();\n\t\tlet extensions = [...this._extensionService.extensions];\n\n\t\t// Get all formatter providers to identify which extensions actually contribute formatters\n\t\tconst documentFormatters = this._languageFeaturesService.documentFormattingEditProvider.allNoModel();\n\t\tconst rangeFormatters = this._languageFeaturesService.documentRangeFormattingEditProvider.allNoModel();\n\t\tconst formatterExtensionIds = new Set<string>();\n\n\t\tfor (const formatter of documentFormatters) {\n\t\t\tif (formatter.extensionId) {\n\t\t\t\tformatterExtensionIds.add(ExtensionIdentifier.toKey(formatter.extensionId));\n\t\t\t}\n\t\t}\n\t\tfor (const formatter of rangeFormatters) {\n\t\t\tif (formatter.extensionId) {\n\t\t\t\tformatterExtensionIds.add(ExtensionIdentifier.toKey(formatter.extensionId));\n\t\t\t}\n\t\t}\n\n\t\textensions = extensions.sort((a, b) => {\n\t\t\t// Ultimate boost: extensions that actually contribute formatters\n\t\t\tconst contributesFormatterA = formatterExtensionIds.has(ExtensionIdentifier.toKey(a.identifier));\n\t\t\tconst contributesFormatterB = formatterExtensionIds.has(ExtensionIdentifier.toKey(b.identifier));\n\n\t\t\tif (contributesFormatterA && !contributesFormatterB) {\n\t\t\t\treturn -1;\n\t\t\t} else if (!contributesFormatterA && contributesFormatterB) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\t// Secondary boost: category-based sorting\n\t\t\tconst boostA = a.categories?.find(cat => cat === 'Formatters' || cat === 'Programming Languages');\n\t\t\tconst boostB = b.categories?.find(cat => cat === 'Formatters' || cat === 'Programming Languages');\n\n\t\t\tif (boostA && !boostB) {\n\t\t\t\treturn -1;\n\t\t\t} else if (!boostA && boostB) {\n\t\t\t\treturn 1;\n\t\t\t} else {\n\t\t\t\treturn a.name.localeCompare(b.name);\n\t\t\t}\n\t\t});\n\n\t\tDefaultFormatter.extensionIds.length = 0;\n\t\tDefaultFormatter.extensionItemLabels.length = 0;\n\t\tDefaultFormatter.extensionDescriptions.length = 0;\n\n\t\tDefaultFormatter.extensionIds.push(null);\n\t\tDefaultFormatter.extensionItemLabels.push(nls.localize('null', 'None'));\n\t\tDefaultFormatter.extensionDescriptions.push(nls.localize('nullFormatterDescription', \"None\"));\n\n\t\tfor (const extension of extensions) {\n\t\t\tif (extension.main || extension.browser) {\n\t\t\t\tDefaultFormatter.extensionIds.push(extension.identifier.value);\n\t\t\t\tDefaultFormatter.extensionItemLabels.push(extension.displayName ?? '');\n\t\t\t\tDefaultFormatter.extensionDescriptions.push(extension.description ?? '');\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic _maybeQuotes(s: string): string {\n\t\treturn s.match(/\\s/) ? `'${s}'` : s;\n\t}\n\n\tprivate async _analyzeFormatter<T extends FormattingEditProvider>(kind: FormattingKind, formatter: T[], document: ITextModel): Promise<T | string> {\n\t\tconst defaultFormatterId = this._configService.getValue<string>(DefaultFormatter.configName, {\n\t\t\tresource: document.uri,\n\t\t\toverrideIdentifier: document.getLanguageId()\n\t\t});\n\n\t\tif (defaultFormatterId) {\n\t\t\t// good -> formatter configured\n\t\t\tconst defaultFormatter = formatter.find(formatter => ExtensionIdentifier.equals(formatter.extensionId, defaultFormatterId));\n\t\t\tif (defaultFormatter) {\n\t\t\t\t// formatter available\n\t\t\t\treturn defaultFormatter;\n\t\t\t}\n\n\t\t\t// bad -> formatter gone\n\t\t\tconst extension = await this._extensionService.getExtension(defaultFormatterId);\n\t\t\tif (extension && this._extensionEnablementService.isEnabled(toExtension(extension))) {\n\t\t\t\t// formatter does not target this file\n\t\t\t\tconst langName = this._languageService.getLanguageName(document.getLanguageId()) || document.getLanguageId();\n\t\t\t\tconst detail = kind === FormattingKind.File\n\t\t\t\t\t? nls.localize('miss.1', \"Extension '{0}' is configured as formatter but it cannot format '{1}'-files\", extension.displayName || extension.name, langName)\n\t\t\t\t\t: nls.localize('miss.2', \"Extension '{0}' is configured as formatter but it can only format '{1}'-files as a whole, not selections or parts of it.\", extension.displayName || extension.name, langName);\n\t\t\t\treturn detail;\n\t\t\t}\n\n\t\t} else if (formatter.length === 1) {\n\t\t\t// ok -> nothing configured but only one formatter available\n\t\t\treturn formatter[0];\n\t\t}\n\n\t\tconst langName = this._languageService.getLanguageName(document.getLanguageId()) || document.getLanguageId();\n\t\tconst message = !defaultFormatterId\n\t\t\t? nls.localize('config.needed', \"There are multiple formatters for '{0}' files. One of them should be configured as default formatter.\", DefaultFormatter._maybeQuotes(langName))\n\t\t\t: nls.localize('config.bad', \"Extension '{0}' is configured as formatter but not available. Select a different default formatter to continue.\", defaultFormatterId);\n\n\t\treturn message;\n\t}\n\n\tprivate async _selectFormatter<T extends FormattingEditProvider>(formatter: T[], document: ITextModel, mode: FormattingMode, kind: FormattingKind): Promise<T | undefined> {\n\t\tconst formatterOrMessage = await this._analyzeFormatter(kind, formatter, document);\n\t\tif (typeof formatterOrMessage !== 'string') {\n\t\t\treturn formatterOrMessage;\n\t\t}\n\n\t\tif (mode !== FormattingMode.Silent) {\n\t\t\t// running from a user action -> show modal dialog so that users configure\n\t\t\t// a default formatter\n\t\t\tconst { confirmed } = await this._dialogService.confirm({\n\t\t\t\tmessage: nls.localize('miss', \"Configure Default Formatter\"),\n\t\t\t\tdetail: formatterOrMessage,\n\t\t\t\tprimaryButton: nls.localize({ key: 'do.config', comment: ['&& denotes a mnemonic'] }, \"&&Configure...\")\n\t\t\t});\n\t\t\tif (confirmed) {\n\t\t\t\treturn this._pickAndPersistDefaultFormatter(formatter, document);\n\t\t\t}\n\t\t} else {\n\t\t\t// no user action -> show a silent notification and proceed\n\t\t\tthis._notificationService.prompt(\n\t\t\t\tSeverity.Info,\n\t\t\t\tformatterOrMessage,\n\t\t\t\t[{ label: nls.localize('do.config.notification', \"Configure...\"), run: () => this._pickAndPersistDefaultFormatter(formatter, document) }],\n\t\t\t\t{ priority: NotificationPriority.SILENT }\n\t\t\t);\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tprivate async _pickAndPersistDefaultFormatter<T extends FormattingEditProvider>(formatter: T[], document: ITextModel): Promise<T | undefined> {\n\t\tconst picks = formatter.map((formatter, index): IIndexedPick => {\n\t\t\treturn {\n\t\t\t\tindex,\n\t\t\t\tlabel: formatter.displayName || (formatter.extensionId ? formatter.extensionId.value : '?'),\n\t\t\t\tdescription: formatter.extensionId && formatter.extensionId.value\n\t\t\t};\n\t\t});\n\t\tconst langName = this._languageService.getLanguageName(document.getLanguageId()) || document.getLanguageId();\n\t\tconst pick = await this._quickInputService.pick(picks, { placeHolder: nls.localize('select', \"Select a default formatter for '{0}' files\", DefaultFormatter._maybeQuotes(langName)) });\n\t\tif (!pick || !formatter[pick.index].extensionId) {\n\t\t\treturn undefined;\n\t\t}\n\t\tthis._configService.updateValue(DefaultFormatter.configName, formatter[pick.index].extensionId!.value, {\n\t\t\tresource: document.uri,\n\t\t\toverrideIdentifier: document.getLanguageId()\n\t\t});\n\t\treturn formatter[pick.index];\n\t}\n\n\t// --- status item\n\n\tprivate _updateStatus() {\n\t\tthis._languageStatusStore.clear();\n\n\t\tconst editor = getCodeEditor(this._editorService.activeTextEditorControl);\n\t\tif (!editor || !editor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\n\n\t\tconst document = editor.getModel();\n\t\tconst formatter = getRealAndSyntheticDocumentFormattersOrdered(this._languageFeaturesService.documentFormattingEditProvider, this._languageFeaturesService.documentRangeFormattingEditProvider, document);\n\n\t\tif (formatter.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst cts = new CancellationTokenSource();\n\t\tthis._languageStatusStore.add(toDisposable(() => cts.dispose(true)));\n\n\t\tthis._analyzeFormatter(FormattingKind.File, formatter, document).then(result => {\n\t\t\tif (cts.token.isCancellationRequested) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (typeof result !== 'string') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst command = { id: `formatter/configure/dfl/${generateUuid()}`, title: nls.localize('do.config.command', \"Configure...\") };\n\t\t\tthis._languageStatusStore.add(CommandsRegistry.registerCommand(command.id, () => this._pickAndPersistDefaultFormatter(formatter, document)));\n\t\t\tthis._languageStatusStore.add(this._languageStatusService.addStatus({\n\t\t\t\tid: 'formatter.conflict',\n\t\t\t\tname: nls.localize('summary', \"Formatter Conflicts\"),\n\t\t\t\tselector: { language: document.getLanguageId(), pattern: document.uri.fsPath },\n\t\t\t\tseverity: Severity.Error,\n\t\t\t\tlabel: nls.localize('formatter', \"Formatting\"),\n\t\t\t\tdetail: result,\n\t\t\t\tbusy: false,\n\t\t\t\tsource: '',\n\t\t\t\tcommand,\n\t\t\t\taccessibilityInfo: undefined\n\t\t\t}));\n\t\t});\n\t}\n}\n\nRegistry.as<IWorkbenchContributionsRegistry>(WorkbenchExtensions.Workbench).registerWorkbenchContribution(\n\tDefaultFormatter,\n\tLifecyclePhase.Restored\n);\n\nRegistry.as<IConfigurationRegistry>(ConfigurationExtensions.Configuration).registerConfiguration({\n\t...editorConfigurationBaseNode,\n\tproperties: {\n\t\t[DefaultFormatter.configName]: {\n\t\t\tdescription: nls.localize('formatter.default', \"Defines a default formatter which takes precedence over all other formatter settings. Must be the identifier of an extension contributing a formatter.\"),\n\t\t\ttype: ['string', 'null'],\n\t\t\tdefault: null,\n\t\t\tenum: DefaultFormatter.extensionIds,\n\t\t\tenumItemLabels: DefaultFormatter.extensionItemLabels,\n\t\t\tmarkdownEnumDescriptions: DefaultFormatter.extensionDescriptions\n\t\t}\n\t}\n});\n\ninterface IIndexedPick extends IQuickPickItem {\n\tindex: number;\n}\n\n\nasync function showFormatterPick(accessor: ServicesAccessor, model: ITextModel, formatters: FormattingEditProvider[]): Promise<number | undefined> {\n\tconst quickPickService = accessor.get(IQuickInputService);\n\tconst configService = accessor.get(IConfigurationService);\n\tconst languageService = accessor.get(ILanguageService);\n\n\tconst overrides = { resource: model.uri, overrideIdentifier: model.getLanguageId() };\n\tconst defaultFormatter = configService.getValue<string>(DefaultFormatter.configName, overrides);\n\n\tlet defaultFormatterPick: IIndexedPick | undefined;\n\n\tconst picks = formatters.map((provider, index) => {\n\t\tconst isDefault = ExtensionIdentifier.equals(provider.extensionId, defaultFormatter);\n\t\tconst pick: IIndexedPick = {\n\t\t\tindex,\n\t\t\tlabel: provider.displayName || '',\n\t\t\tdescription: isDefault ? nls.localize('def', \"(default)\") : undefined,\n\t\t};\n\n\t\tif (isDefault) {\n\t\t\t// autofocus default pick\n\t\t\tdefaultFormatterPick = pick;\n\t\t}\n\n\t\treturn pick;\n\t});\n\n\tconst configurePick: IQuickPickItem = {\n\t\tlabel: nls.localize('config', \"Configure Default Formatter...\")\n\t};\n\n\tconst pick = await quickPickService.pick([...picks, { type: 'separator' }, configurePick],\n\t\t{\n\t\t\tplaceHolder: nls.localize('format.placeHolder', \"Select a formatter\"),\n\t\t\tactiveItem: defaultFormatterPick\n\t\t}\n\t);\n\tif (!pick) {\n\t\t// dismissed\n\t\treturn undefined;\n\n\t} else if (pick === configurePick) {\n\t\t// config default\n\t\tconst langName = languageService.getLanguageName(model.getLanguageId()) || model.getLanguageId();\n\t\tconst pick = await quickPickService.pick(picks, { placeHolder: nls.localize('select', \"Select a default formatter for '{0}' files\", DefaultFormatter._maybeQuotes(langName)) });\n\t\tif (pick && formatters[pick.index].extensionId) {\n\t\t\tconfigService.updateValue(DefaultFormatter.configName, formatters[pick.index].extensionId!.value, overrides);\n\t\t}\n\t\treturn undefined;\n\n\t} else {\n\t\t// picked one\n\t\treturn (<IIndexedPick>pick).index;\n\t}\n\n}\n\nregisterEditorAction(class FormatDocumentMultipleAction extends EditorAction {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'editor.action.formatDocument.multiple',\n\t\t\tlabel: nls.localize('formatDocument.label.multiple', \"Format Document With...\"),\n\t\t\talias: 'Format Document...',\n\t\t\tprecondition: ContextKeyExpr.and(EditorContextKeys.writable, EditorContextKeys.hasMultipleDocumentFormattingProvider),\n\t\t\tcontextMenuOpts: {\n\t\t\t\tgroup: '1_modification',\n\t\t\t\torder: 1.3\n\t\t\t}\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor, editor: ICodeEditor, args: unknown): Promise<void> {\n\t\tif (!editor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\t\tconst instaService = accessor.get(IInstantiationService);\n\t\tconst languageFeaturesService = accessor.get(ILanguageFeaturesService);\n\t\tconst model = editor.getModel();\n\t\tconst provider = getRealAndSyntheticDocumentFormattersOrdered(languageFeaturesService.documentFormattingEditProvider, languageFeaturesService.documentRangeFormattingEditProvider, model);\n\t\tconst pick = await instaService.invokeFunction(showFormatterPick, model, provider);\n\t\tif (typeof pick === 'number') {\n\t\t\tawait instaService.invokeFunction(formatDocumentWithProvider, provider[pick], editor, FormattingMode.Explicit, CancellationToken.None);\n\t\t}\n\t}\n});\n\nregisterEditorAction(class FormatSelectionMultipleAction extends EditorAction {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'editor.action.formatSelection.multiple',\n\t\t\tlabel: nls.localize('formatSelection.label.multiple', \"Format Selection With...\"),\n\t\t\talias: 'Format Code...',\n\t\t\tprecondition: ContextKeyExpr.and(ContextKeyExpr.and(EditorContextKeys.writable), EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider),\n\t\t\tcontextMenuOpts: {\n\t\t\t\twhen: ContextKeyExpr.and(EditorContextKeys.hasNonEmptySelection),\n\t\t\t\tgroup: '1_modification',\n\t\t\t\torder: 1.31\n\t\t\t}\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor, editor: ICodeEditor): Promise<void> {\n\t\tif (!editor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\t\tconst instaService = accessor.get(IInstantiationService);\n\t\tconst languageFeaturesService = accessor.get(ILanguageFeaturesService);\n\n\t\tconst model = editor.getModel();\n\t\tlet range: Range = editor.getSelection();\n\t\tif (range.isEmpty()) {\n\t\t\trange = new Range(range.startLineNumber, 1, range.startLineNumber, model.getLineMaxColumn(range.startLineNumber));\n\t\t}\n\n\t\tconst provider = languageFeaturesService.documentRangeFormattingEditProvider.ordered(model);\n\t\tconst pick = await instaService.invokeFunction(showFormatterPick, model, provider);\n\t\tif (typeof pick === 'number') {\n\t\t\tawait instaService.invokeFunction(formatDocumentRangesWithProvider, provider[pick], editor, range, CancellationToken.None, true);\n\t\t}\n\t}\n});\n"]}