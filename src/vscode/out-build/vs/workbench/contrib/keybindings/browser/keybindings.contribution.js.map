{"version":3,"sources":["vs/workbench/contrib/keybindings/browser/keybindings.contribution.ts"],"names":[],"mappings":"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","file":"keybindings.contribution.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as nls from '../../../../nls.js';\nimport { Action2, registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { Categories } from '../../../../platform/action/common/actionCommonCategories.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { showWindowLogActionId } from '../../../services/log/common/logConstants.js';\nimport { DisposableStore, IDisposable, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { ILayoutService } from '../../../../platform/layout/browser/layoutService.js';\nimport { $, addDisposableListener, append, getDomNodePagePosition, getWindows, onDidRegisterWindow } from '../../../../base/browser/dom.js';\nimport { createCSSRule, createStyleSheet } from '../../../../base/browser/domStylesheets.js';\nimport { Emitter } from '../../../../base/common/event.js';\n\nclass ToggleKeybindingsLogAction extends Action2 {\n\tstatic disposable: IDisposable | undefined;\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.action.toggleKeybindingsLog',\n\t\t\ttitle: nls.localize2('toggleKeybindingsLog', \"Toggle Keyboard Shortcuts Troubleshooting\"),\n\t\t\tcategory: Categories.Developer,\n\t\t\tf1: true\n\t\t});\n\t}\n\n\trun(accessor: ServicesAccessor): void {\n\t\tconst logging = accessor.get(IKeybindingService).toggleLogging();\n\t\tif (logging) {\n\t\t\tconst commandService = accessor.get(ICommandService);\n\t\t\tcommandService.executeCommand(showWindowLogActionId);\n\t\t}\n\n\t\tif (ToggleKeybindingsLogAction.disposable) {\n\t\t\tToggleKeybindingsLogAction.disposable.dispose();\n\t\t\tToggleKeybindingsLogAction.disposable = undefined;\n\t\t\treturn;\n\t\t}\n\n\t\tconst layoutService = accessor.get(ILayoutService);\n\t\tconst disposables = new DisposableStore();\n\n\t\tconst container = layoutService.activeContainer;\n\t\tconst focusMarker = append(container, $('.focus-troubleshooting-marker'));\n\t\tdisposables.add(toDisposable(() => focusMarker.remove()));\n\n\t\t// Add CSS rule for focus marker\n\t\tconst stylesheet = createStyleSheet(undefined, undefined, disposables);\n\t\tcreateCSSRule('.focus-troubleshooting-marker', `\n\t\t\tposition: fixed;\n\t\t\tpointer-events: none;\n\t\t\tz-index: 100000;\n\t\t\tbackground-color: rgba(255, 0, 0, 0.2);\n\t\t\tborder: 2px solid rgba(255, 0, 0, 0.8);\n\t\t\tborder-radius: 2px;\n\t\t\tdisplay: none;\n\t\t`, stylesheet);\n\n\t\tconst onKeyDown = disposables.add(new Emitter<KeyboardEvent>());\n\n\t\tfunction registerWindowListeners(window: Window, disposables: DisposableStore): void {\n\t\t\tdisposables.add(addDisposableListener(window, 'keydown', e => onKeyDown.fire(e), true));\n\t\t}\n\n\t\tfor (const { window, disposables } of getWindows()) {\n\t\t\tregisterWindowListeners(window, disposables);\n\t\t}\n\n\t\tdisposables.add(onDidRegisterWindow(({ window, disposables }) => registerWindowListeners(window, disposables)));\n\n\t\tdisposables.add(layoutService.onDidChangeActiveContainer(() => {\n\t\t\tlayoutService.activeContainer.appendChild(focusMarker);\n\t\t}));\n\n\t\tdisposables.add(onKeyDown.event(e => {\n\t\t\tconst target = e.target as HTMLElement;\n\t\t\tif (target) {\n\t\t\t\tconst position = getDomNodePagePosition(target);\n\t\t\t\tfocusMarker.style.top = `${position.top}px`;\n\t\t\t\tfocusMarker.style.left = `${position.left}px`;\n\t\t\t\tfocusMarker.style.width = `${position.width}px`;\n\t\t\t\tfocusMarker.style.height = `${position.height}px`;\n\t\t\t\tfocusMarker.style.display = 'block';\n\n\t\t\t\t// Hide after timeout\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tfocusMarker.style.display = 'none';\n\t\t\t\t}, 800);\n\t\t\t}\n\t\t}));\n\n\t\tToggleKeybindingsLogAction.disposable = disposables;\n\t}\n}\n\nregisterAction2(ToggleKeybindingsLogAction);\n"]}