{"version":3,"sources":["vs/workbench/contrib/folding/browser/folding.contribution.ts"],"names":[],"mappings":"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","file":"folding.contribution.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { FoldingController } from '../../../../editor/contrib/folding/browser/folding.js';\nimport * as nls from '../../../../nls.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { Extensions as WorkbenchExtensions, IWorkbenchContributionsRegistry, IWorkbenchContribution } from '../../../common/contributions.js';\nimport { IConfigurationRegistry, Extensions as ConfigurationExtensions } from '../../../../platform/configuration/common/configurationRegistry.js';\nimport { editorConfigurationBaseNode } from '../../../../editor/common/config/editorConfigurationSchema.js';\nimport { LifecyclePhase } from '../../../services/lifecycle/common/lifecycle.js';\nimport { IExtensionService } from '../../../services/extensions/common/extensions.js';\nimport { FoldingRangeProvider } from '../../../../editor/common/languages.js';\nimport { ITextModel } from '../../../../editor/common/model.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IExtensionDescription } from '../../../../platform/extensions/common/extensions.js';\n\nclass DefaultFoldingRangeProvider extends Disposable implements IWorkbenchContribution {\n\n\tstatic readonly configName = 'editor.defaultFoldingRangeProvider';\n\n\tstatic extensionIds: (string | null)[] = [];\n\tstatic extensionItemLabels: string[] = [];\n\tstatic extensionDescriptions: string[] = [];\n\n\tconstructor(\n\t\t@IExtensionService private readonly _extensionService: IExtensionService,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t) {\n\t\tsuper();\n\t\tthis._store.add(this._extensionService.onDidChangeExtensions(this._updateConfigValues, this));\n\t\tthis._store.add(FoldingController.setFoldingRangeProviderSelector(this._selectFoldingRangeProvider.bind(this)));\n\n\t\tthis._updateConfigValues();\n\t}\n\n\tprivate async _updateConfigValues(): Promise<void> {\n\t\tawait this._extensionService.whenInstalledExtensionsRegistered();\n\n\t\tDefaultFoldingRangeProvider.extensionIds.length = 0;\n\t\tDefaultFoldingRangeProvider.extensionItemLabels.length = 0;\n\t\tDefaultFoldingRangeProvider.extensionDescriptions.length = 0;\n\n\t\tDefaultFoldingRangeProvider.extensionIds.push(null);\n\t\tDefaultFoldingRangeProvider.extensionItemLabels.push(nls.localize('null', 'All'));\n\t\tDefaultFoldingRangeProvider.extensionDescriptions.push(nls.localize('nullFormatterDescription', \"All active folding range providers\"));\n\n\t\tconst languageExtensions: IExtensionDescription[] = [];\n\t\tconst otherExtensions: IExtensionDescription[] = [];\n\n\t\tfor (const extension of this._extensionService.extensions) {\n\t\t\tif (extension.main || extension.browser) {\n\t\t\t\tif (extension.categories?.find(cat => cat === 'Programming Languages')) {\n\t\t\t\t\tlanguageExtensions.push(extension);\n\t\t\t\t} else {\n\t\t\t\t\totherExtensions.push(extension);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst sorter = (a: IExtensionDescription, b: IExtensionDescription) => a.name.localeCompare(b.name);\n\n\t\tfor (const extension of languageExtensions.sort(sorter)) {\n\t\t\tDefaultFoldingRangeProvider.extensionIds.push(extension.identifier.value);\n\t\t\tDefaultFoldingRangeProvider.extensionItemLabels.push(extension.displayName ?? '');\n\t\t\tDefaultFoldingRangeProvider.extensionDescriptions.push(extension.description ?? '');\n\t\t}\n\t\tfor (const extension of otherExtensions.sort(sorter)) {\n\t\t\tDefaultFoldingRangeProvider.extensionIds.push(extension.identifier.value);\n\t\t\tDefaultFoldingRangeProvider.extensionItemLabels.push(extension.displayName ?? '');\n\t\t\tDefaultFoldingRangeProvider.extensionDescriptions.push(extension.description ?? '');\n\t\t}\n\t}\n\n\tprivate _selectFoldingRangeProvider(providers: FoldingRangeProvider[], document: ITextModel): FoldingRangeProvider[] | undefined {\n\t\tconst value = this._configurationService.getValue<string>(DefaultFoldingRangeProvider.configName, { overrideIdentifier: document.getLanguageId() });\n\t\tif (value) {\n\t\t\treturn providers.filter(p => p.id === value);\n\t\t}\n\t\treturn undefined;\n\t}\n}\n\nRegistry.as<IConfigurationRegistry>(ConfigurationExtensions.Configuration).registerConfiguration({\n\t...editorConfigurationBaseNode,\n\tproperties: {\n\t\t[DefaultFoldingRangeProvider.configName]: {\n\t\t\tdescription: nls.localize('formatter.default', \"Defines a default folding range provider that takes precedence over all other folding range providers. Must be the identifier of an extension contributing a folding range provider.\"),\n\t\t\ttype: ['string', 'null'],\n\t\t\tdefault: null,\n\t\t\tenum: DefaultFoldingRangeProvider.extensionIds,\n\t\t\tenumItemLabels: DefaultFoldingRangeProvider.extensionItemLabels,\n\t\t\tmarkdownEnumDescriptions: DefaultFoldingRangeProvider.extensionDescriptions\n\t\t}\n\t}\n});\n\nRegistry.as<IWorkbenchContributionsRegistry>(WorkbenchExtensions.Workbench).registerWorkbenchContribution(\n\tDefaultFoldingRangeProvider,\n\tLifecyclePhase.Restored\n);\n\n"]}