{"version":3,"sources":["vs/workbench/contrib/welcomeViews/common/newFile.contribution.ts"],"names":[],"mappings":"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","file":"newFile.contribution.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { promiseWithResolvers } from '../../../../base/common/async.js';\nimport { KeyMod, KeyCode } from '../../../../base/common/keyCodes.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { assertReturnsDefined } from '../../../../base/common/types.js';\nimport { localize, localize2 } from '../../../../nls.js';\nimport { ILocalizedString } from '../../../../platform/action/common/action.js';\nimport { Action2, IMenuService, MenuId, registerAction2, IMenu, MenuRegistry, MenuItemAction } from '../../../../platform/actions/common/actions.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { KeybindingWeight } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { IQuickInputService, IQuickPickItem, IQuickPickSeparator } from '../../../../platform/quickinput/common/quickInput.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { Extensions as WorkbenchExtensions, IWorkbenchContributionsRegistry } from '../../../common/contributions.js';\nimport { LifecyclePhase } from '../../../services/lifecycle/common/lifecycle.js';\n\nconst builtInSource = localize('Built-In', \"Built-In\");\nconst category: ILocalizedString = localize2('Create', 'Create');\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'welcome.showNewFileEntries',\n\t\t\ttitle: localize2('welcome.newFile', 'New File...'),\n\t\t\tcategory,\n\t\t\tf1: true,\n\t\t\tkeybinding: {\n\t\t\t\tprimary: KeyMod.Alt + KeyMod.CtrlCmd + KeyMod.WinCtrl + KeyCode.KeyN,\n\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t},\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.MenubarFileMenu,\n\t\t\t\tgroup: '1_new',\n\t\t\t\torder: 2\n\t\t\t}\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<boolean> {\n\t\treturn assertReturnsDefined(NewFileTemplatesManager.Instance).run();\n\t}\n});\n\ntype NewFileItem = { commandID: string; title: string; from: string; group: string; commandArgs?: unknown };\nclass NewFileTemplatesManager extends Disposable {\n\tstatic Instance: NewFileTemplatesManager | undefined;\n\n\tprivate menu: IMenu;\n\n\tconstructor(\n\t\t@IQuickInputService private readonly quickInputService: IQuickInputService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@ICommandService private readonly commandService: ICommandService,\n\t\t@IKeybindingService private readonly keybindingService: IKeybindingService,\n\t\t@IMenuService menuService: IMenuService,\n\t) {\n\t\tsuper();\n\n\t\tNewFileTemplatesManager.Instance = this;\n\n\t\tthis._register({ dispose() { if (NewFileTemplatesManager.Instance === this) { NewFileTemplatesManager.Instance = undefined; } } });\n\n\t\tthis.menu = menuService.createMenu(MenuId.NewFile, contextKeyService);\n\t}\n\n\tprivate allEntries(): NewFileItem[] {\n\t\tconst items: NewFileItem[] = [];\n\t\tfor (const [groupName, group] of this.menu.getActions({ renderShortTitle: true })) {\n\t\t\tfor (const action of group) {\n\t\t\t\tif (action instanceof MenuItemAction) {\n\t\t\t\t\titems.push({ commandID: action.item.id, from: action.item.source?.title ?? builtInSource, title: action.label, group: groupName });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn items;\n\t}\n\n\tasync run(): Promise<boolean> {\n\t\tconst entries = this.allEntries();\n\t\tif (entries.length === 0) {\n\t\t\tthrow Error('Unexpected empty new items list');\n\t\t}\n\t\telse if (entries.length === 1) {\n\t\t\tthis.commandService.executeCommand(entries[0].commandID);\n\t\t\treturn true;\n\t\t}\n\t\telse {\n\t\t\treturn this.selectNewEntry(entries);\n\t\t}\n\t}\n\n\tprivate async selectNewEntry(entries: NewFileItem[]): Promise<boolean> {\n\t\tconst { promise: resultPromise, resolve: resolveResult } = promiseWithResolvers<boolean>();\n\n\t\tconst disposables = new DisposableStore();\n\t\tconst qp = this.quickInputService.createQuickPick({ useSeparators: true });\n\t\tqp.title = localize('newFileTitle', \"New File...\");\n\t\tqp.placeholder = localize('newFilePlaceholder', \"Select File Type or Enter File Name...\");\n\t\tqp.sortByLabel = false;\n\t\tqp.matchOnDetail = true;\n\t\tqp.matchOnDescription = true;\n\n\t\tconst sortCategories = (a: NewFileItem, b: NewFileItem): number => {\n\t\t\tconst categoryPriority: Record<string, number> = { 'file': 1, 'notebook': 2 };\n\t\t\tif (categoryPriority[a.group] && categoryPriority[b.group]) {\n\t\t\t\tif (categoryPriority[a.group] !== categoryPriority[b.group]) {\n\t\t\t\t\treturn categoryPriority[b.group] - categoryPriority[a.group];\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (categoryPriority[a.group]) { return 1; }\n\t\t\telse if (categoryPriority[b.group]) { return -1; }\n\n\t\t\tif (a.from === builtInSource) { return 1; }\n\t\t\tif (b.from === builtInSource) { return -1; }\n\n\t\t\treturn a.from.localeCompare(b.from);\n\t\t};\n\n\t\tconst displayCategory: Record<string, string> = {\n\t\t\t'file': localize('file', \"File\"),\n\t\t\t'notebook': localize('notebook', \"Notebook\"),\n\t\t};\n\n\t\tconst refreshQp = (entries: NewFileItem[]) => {\n\t\t\tconst items: (((IQuickPickItem & NewFileItem) | IQuickPickSeparator))[] = [];\n\t\t\tlet lastSeparator: string | undefined;\n\t\t\tentries\n\t\t\t\t.sort((a, b) => -sortCategories(a, b))\n\t\t\t\t.forEach((entry) => {\n\t\t\t\t\tconst command = entry.commandID;\n\t\t\t\t\tconst keybinding = this.keybindingService.lookupKeybinding(command || '', this.contextKeyService);\n\t\t\t\t\tif (lastSeparator !== entry.group) {\n\t\t\t\t\t\titems.push({\n\t\t\t\t\t\t\ttype: 'separator',\n\t\t\t\t\t\t\tlabel: displayCategory[entry.group] ?? entry.group\n\t\t\t\t\t\t});\n\t\t\t\t\t\tlastSeparator = entry.group;\n\t\t\t\t\t}\n\t\t\t\t\titems.push({\n\t\t\t\t\t\t...entry,\n\t\t\t\t\t\tlabel: entry.title,\n\t\t\t\t\t\ttype: 'item',\n\t\t\t\t\t\tkeybinding,\n\t\t\t\t\t\tbuttons: command ? [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticonClass: 'codicon codicon-gear',\n\t\t\t\t\t\t\t\ttooltip: localize('change keybinding', \"Configure Keybinding\")\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t] : [],\n\t\t\t\t\t\tdetail: '',\n\t\t\t\t\t\tdescription: entry.from,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\tqp.items = items;\n\t\t};\n\t\trefreshQp(entries);\n\n\t\tdisposables.add(this.menu.onDidChange(() => refreshQp(this.allEntries())));\n\n\t\tdisposables.add(qp.onDidChangeValue((val: string) => {\n\t\t\tif (val === '') {\n\t\t\t\trefreshQp(entries);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst currentTextEntry: NewFileItem = {\n\t\t\t\tcommandID: 'workbench.action.files.newFile',\n\t\t\t\tcommandArgs: { languageId: undefined, viewType: undefined, fileName: val },\n\t\t\t\ttitle: localize('miNewFileWithName', \"Create New File ({0})\", val),\n\t\t\t\tgroup: 'file',\n\t\t\t\tfrom: builtInSource,\n\t\t\t};\n\t\t\trefreshQp([currentTextEntry, ...entries]);\n\t\t}));\n\n\t\tdisposables.add(qp.onDidAccept(async e => {\n\t\t\tconst selected = qp.selectedItems[0] as (IQuickPickItem & NewFileItem);\n\t\t\tresolveResult(!!selected);\n\n\t\t\tqp.hide();\n\t\t\tif (selected) { await this.commandService.executeCommand(selected.commandID, selected.commandArgs); }\n\t\t}));\n\n\t\tdisposables.add(qp.onDidHide(() => {\n\t\t\tqp.dispose();\n\t\t\tdisposables.dispose();\n\t\t\tresolveResult(false);\n\t\t}));\n\n\t\tdisposables.add(qp.onDidTriggerItemButton(e => {\n\t\t\tqp.hide();\n\t\t\tthis.commandService.executeCommand('workbench.action.openGlobalKeybindings', (e.item as (IQuickPickItem & NewFileItem)).commandID);\n\t\t\tresolveResult(false);\n\t\t}));\n\n\t\tqp.show();\n\n\t\treturn resultPromise;\n\t}\n}\n\nRegistry.as<IWorkbenchContributionsRegistry>(WorkbenchExtensions.Workbench)\n\t.registerWorkbenchContribution(NewFileTemplatesManager, LifecyclePhase.Restored);\n\nMenuRegistry.appendMenuItem(MenuId.NewFile, {\n\tgroup: 'file',\n\tcommand: {\n\t\tid: 'workbench.action.files.newUntitledFile',\n\t\ttitle: localize('miNewFile2', \"Text File\")\n\t},\n\torder: 1\n});\n"]}