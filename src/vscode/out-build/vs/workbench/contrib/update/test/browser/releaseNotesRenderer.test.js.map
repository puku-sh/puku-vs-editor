{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/update/test/browser/releaseNotesRenderer.test.ts","vs/workbench/contrib/update/test/browser/releaseNotesRenderer.test.ts"],"names":[],"mappings":"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","file":"releaseNotesRenderer.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { assertSnapshot } from '../../../../../base/test/common/snapshot.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { ILanguageService } from '../../../../../editor/common/languages/language.js';\nimport { ContextMenuService } from '../../../../../platform/contextview/browser/contextMenuService.js';\nimport { IContextMenuService } from '../../../../../platform/contextview/browser/contextView.js';\nimport { TestInstantiationService } from '../../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { IExtensionService } from '../../../../services/extensions/common/extensions.js';\nimport { SimpleSettingRenderer } from '../../../markdown/browser/markdownSettingRenderer.js';\nimport { IPreferencesService } from '../../../../services/preferences/common/preferences.js';\nimport { renderReleaseNotesMarkdown } from '../../browser/releaseNotesEditor.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { Emitter } from '../../../../../base/common/event.js';\n\n\nsuite('Release notes renderer', () => {\n\tconst store = ensureNoDisposablesAreLeakedInTestSuite();\n\n\tlet instantiationService: TestInstantiationService;\n\tlet extensionService: IExtensionService;\n\tlet languageService: ILanguageService;\n\n\tsetup(() => {\n\t\tinstantiationService = store.add(new TestInstantiationService());\n\t\textensionService = instantiationService.get(IExtensionService);\n\t\tlanguageService = instantiationService.get(ILanguageService);\n\n\t\tinstantiationService.stub(IContextMenuService, store.add(instantiationService.createInstance(ContextMenuService)));\n\t});\n\n\ttest('Should render TOC', async () => {\n\t\tconst content = `<table class=\"highlights-table\">\n\t<tr>\n\t\t<th>a</th>\n\t</tr>\n</table>\n\n<br>\n\n> text\n\n<!-- TOC\n<div class=\"toc-nav-layout\">\n\t<nav id=\"toc-nav\">\n\t\t<div>In this update</div>\n\t\t<ul>\n\t\t\t<li><a href=\"#chat\">test</a></li>\n\t\t</ul>\n\t</nav>\n\t<div class=\"notes-main\">\nNavigation End -->\n\n## Test`;\n\n\t\tconst result = await renderReleaseNotesMarkdown(content, extensionService, languageService, instantiationService.createInstance(SimpleSettingRenderer));\n\t\tawait assertSnapshot(result.toString());\n\t});\n\n\ttest('Should render code settings', async () => {\n\t\t// Stub preferences service with a known setting so the SimpleSettingRenderer treats it as valid\n\t\tconst testSettingId = 'editor.wordWrap';\n\t\tinstantiationService.stub(IPreferencesService, <Partial<IPreferencesService>>{\n\t\t\t_serviceBrand: undefined,\n\t\t\tonDidDefaultSettingsContentChanged: new Emitter<URI>().event,\n\t\t\tuserSettingsResource: URI.parse('test://test'),\n\t\t\tworkspaceSettingsResource: null,\n\t\t\tgetFolderSettingsResource: () => null,\n\t\t\tcreatePreferencesEditorModel: async () => null,\n\t\t\tgetDefaultSettingsContent: () => undefined,\n\t\t\thasDefaultSettingsContent: () => false,\n\t\t\tcreateSettings2EditorModel: () => { throw new Error('not needed'); },\n\t\t\topenPreferences: async () => undefined,\n\t\t\topenRawDefaultSettings: async () => undefined,\n\t\t\topenSettings: async () => undefined,\n\t\t\topenApplicationSettings: async () => undefined,\n\t\t\topenUserSettings: async () => undefined,\n\t\t\topenRemoteSettings: async () => undefined,\n\t\t\topenWorkspaceSettings: async () => undefined,\n\t\t\topenFolderSettings: async () => undefined,\n\t\t\topenGlobalKeybindingSettings: async () => undefined,\n\t\t\topenDefaultKeybindingsFile: async () => undefined,\n\t\t\topenLanguageSpecificSettings: async () => undefined,\n\t\t\tgetEditableSettingsURI: async () => null,\n\t\t\tgetSetting: (id: string) => {\n\t\t\t\tif (id === testSettingId) {\n\t\t\t\t\t// Provide the minimal fields accessed by SimpleSettingRenderer\n\t\t\t\t\treturn {\n\t\t\t\t\t\tkey: testSettingId,\n\t\t\t\t\t\tvalue: 'off',\n\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t},\n\t\t\tcreateSplitJsonEditorInput: () => { throw new Error('not needed'); }\n\t\t});\n\n\t\tconst content = `Here is a setting: \\`setting(${testSettingId}:on)\\` and another \\`setting(${testSettingId}:off)\\``;\n\t\tconst result = await renderReleaseNotesMarkdown(content, extensionService, languageService, instantiationService.createInstance(SimpleSettingRenderer));\n\t\tawait assertSnapshot(result.toString());\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { assertSnapshot } from '../../../../../base/test/common/snapshot.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { ILanguageService } from '../../../../../editor/common/languages/language.js';\nimport { ContextMenuService } from '../../../../../platform/contextview/browser/contextMenuService.js';\nimport { IContextMenuService } from '../../../../../platform/contextview/browser/contextView.js';\nimport { TestInstantiationService } from '../../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { IExtensionService } from '../../../../services/extensions/common/extensions.js';\nimport { SimpleSettingRenderer } from '../../../markdown/browser/markdownSettingRenderer.js';\nimport { IPreferencesService } from '../../../../services/preferences/common/preferences.js';\nimport { renderReleaseNotesMarkdown } from '../../browser/releaseNotesEditor.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { Emitter } from '../../../../../base/common/event.js';\n\n\nsuite('Release notes renderer', () => {\n\tconst store = ensureNoDisposablesAreLeakedInTestSuite();\n\n\tlet instantiationService: TestInstantiationService;\n\tlet extensionService: IExtensionService;\n\tlet languageService: ILanguageService;\n\n\tsetup(() => {\n\t\tinstantiationService = store.add(new TestInstantiationService());\n\t\textensionService = instantiationService.get(IExtensionService);\n\t\tlanguageService = instantiationService.get(ILanguageService);\n\n\t\tinstantiationService.stub(IContextMenuService, store.add(instantiationService.createInstance(ContextMenuService)));\n\t});\n\n\ttest('Should render TOC', async () => {\n\t\tconst content = `<table class=\"highlights-table\">\n\t<tr>\n\t\t<th>a</th>\n\t</tr>\n</table>\n\n<br>\n\n> text\n\n<!-- TOC\n<div class=\"toc-nav-layout\">\n\t<nav id=\"toc-nav\">\n\t\t<div>In this update</div>\n\t\t<ul>\n\t\t\t<li><a href=\"#chat\">test</a></li>\n\t\t</ul>\n\t</nav>\n\t<div class=\"notes-main\">\nNavigation End -->\n\n## Test`;\n\n\t\tconst result = await renderReleaseNotesMarkdown(content, extensionService, languageService, instantiationService.createInstance(SimpleSettingRenderer));\n\t\tawait assertSnapshot(result.toString());\n\t});\n\n\ttest('Should render code settings', async () => {\n\t\t// Stub preferences service with a known setting so the SimpleSettingRenderer treats it as valid\n\t\tconst testSettingId = 'editor.wordWrap';\n\t\tinstantiationService.stub(IPreferencesService, <Partial<IPreferencesService>>{\n\t\t\t_serviceBrand: undefined,\n\t\t\tonDidDefaultSettingsContentChanged: new Emitter<URI>().event,\n\t\t\tuserSettingsResource: URI.parse('test://test'),\n\t\t\tworkspaceSettingsResource: null,\n\t\t\tgetFolderSettingsResource: () => null,\n\t\t\tcreatePreferencesEditorModel: async () => null,\n\t\t\tgetDefaultSettingsContent: () => undefined,\n\t\t\thasDefaultSettingsContent: () => false,\n\t\t\tcreateSettings2EditorModel: () => { throw new Error('not needed'); },\n\t\t\topenPreferences: async () => undefined,\n\t\t\topenRawDefaultSettings: async () => undefined,\n\t\t\topenSettings: async () => undefined,\n\t\t\topenApplicationSettings: async () => undefined,\n\t\t\topenUserSettings: async () => undefined,\n\t\t\topenRemoteSettings: async () => undefined,\n\t\t\topenWorkspaceSettings: async () => undefined,\n\t\t\topenFolderSettings: async () => undefined,\n\t\t\topenGlobalKeybindingSettings: async () => undefined,\n\t\t\topenDefaultKeybindingsFile: async () => undefined,\n\t\t\topenLanguageSpecificSettings: async () => undefined,\n\t\t\tgetEditableSettingsURI: async () => null,\n\t\t\tgetSetting: (id: string) => {\n\t\t\t\tif (id === testSettingId) {\n\t\t\t\t\t// Provide the minimal fields accessed by SimpleSettingRenderer\n\t\t\t\t\treturn {\n\t\t\t\t\t\tkey: testSettingId,\n\t\t\t\t\t\tvalue: 'off',\n\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t},\n\t\t\tcreateSplitJsonEditorInput: () => { throw new Error('not needed'); }\n\t\t});\n\n\t\tconst content = `Here is a setting: \\`setting(${testSettingId}:on)\\` and another \\`setting(${testSettingId}:off)\\``;\n\t\tconst result = await renderReleaseNotesMarkdown(content, extensionService, languageService, instantiationService.createInstance(SimpleSettingRenderer));\n\t\tawait assertSnapshot(result.toString());\n\t});\n});\n"]}