{"version":3,"sources":["vs/workbench/contrib/multiDiffEditor/browser/actions.ts"],"names":[],"mappings":"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","file":"actions.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { KeyCode, KeyMod } from '../../../../base/common/keyCodes.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { Selection } from '../../../../editor/common/core/selection.js';\nimport { localize2 } from '../../../../nls.js';\nimport { Action2, MenuId } from '../../../../platform/actions/common/actions.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { ITextEditorOptions, TextEditorSelectionRevealType } from '../../../../platform/editor/common/editor.js';\nimport { ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { KeybindingWeight } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { IListService } from '../../../../platform/list/browser/listService.js';\nimport { resolveCommandsContext } from '../../../browser/parts/editor/editorCommandsContext.js';\nimport { MultiDiffEditor } from './multiDiffEditor.js';\nimport { MultiDiffEditorInput } from './multiDiffEditorInput.js';\nimport { IEditorGroupsService } from '../../../services/editor/common/editorGroupsService.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { ActiveEditorContext } from '../../../common/contextkeys.js';\n\nexport class GoToFileAction extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'multiDiffEditor.goToFile',\n\t\t\ttitle: localize2('goToFile', 'Open File'),\n\t\t\ticon: Codicon.goToFile,\n\t\t\tprecondition: ActiveEditorContext.isEqualTo(MultiDiffEditor.ID),\n\t\t\tmenu: {\n\t\t\t\twhen: ActiveEditorContext.isEqualTo(MultiDiffEditor.ID),\n\t\t\t\tid: MenuId.MultiDiffEditorFileToolbar,\n\t\t\t\torder: 22,\n\t\t\t\tgroup: 'navigation',\n\t\t\t},\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor, ...args: unknown[]): Promise<void> {\n\t\tconst uri = args[0] as URI;\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst activeEditorPane = editorService.activeEditorPane;\n\t\tlet selections: Selection[] | undefined = undefined;\n\t\tif (!(activeEditorPane instanceof MultiDiffEditor)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst editor = activeEditorPane.tryGetCodeEditor(uri);\n\t\tif (editor) {\n\t\t\tselections = editor.editor.getSelections() ?? undefined;\n\t\t}\n\n\t\tlet targetUri = uri;\n\t\tconst item = activeEditorPane.findDocumentDiffItem(uri);\n\t\tif (item && item.goToFileUri) {\n\t\t\ttargetUri = item.goToFileUri;\n\t\t}\n\n\t\tawait editorService.openEditor({\n\t\t\tlabel: item?.goToFileEditorTitle,\n\t\t\tresource: targetUri,\n\t\t\toptions: {\n\t\t\t\tselection: selections?.[0],\n\t\t\t\tselectionRevealType: TextEditorSelectionRevealType.CenterIfOutsideViewport,\n\t\t\t} satisfies ITextEditorOptions,\n\t\t});\n\t}\n}\n\nexport class GoToNextChangeAction extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'multiDiffEditor.goToNextChange',\n\t\t\ttitle: localize2('goToNextChange', 'Go to Next Change'),\n\t\t\ticon: Codicon.arrowDown,\n\t\t\tprecondition: ContextKeyExpr.equals('activeEditor', MultiDiffEditor.ID),\n\t\t\tmenu: [MenuId.EditorTitle, MenuId.CompactWindowEditorTitle].map(id => ({\n\t\t\t\tid,\n\t\t\t\twhen: ContextKeyExpr.equals('activeEditor', MultiDiffEditor.ID),\n\t\t\t\tgroup: 'navigation',\n\t\t\t\torder: 2\n\t\t\t})),\n\t\t\tkeybinding: {\n\t\t\t\tprimary: KeyMod.Alt | KeyCode.F5,\n\t\t\t\tweight: KeybindingWeight.EditorContrib,\n\t\t\t\twhen: ContextKeyExpr.equals('activeEditor', MultiDiffEditor.ID),\n\t\t\t},\n\t\t\tf1: true,\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst activeEditorPane = editorService.activeEditorPane;\n\n\t\tif (!(activeEditorPane instanceof MultiDiffEditor)) {\n\t\t\treturn;\n\t\t}\n\n\t\tactiveEditorPane.goToNextChange();\n\t}\n}\n\nexport class GoToPreviousChangeAction extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'multiDiffEditor.goToPreviousChange',\n\t\t\ttitle: localize2('goToPreviousChange', 'Go to Previous Change'),\n\t\t\ticon: Codicon.arrowUp,\n\t\t\tprecondition: ContextKeyExpr.equals('activeEditor', MultiDiffEditor.ID),\n\t\t\tmenu: [MenuId.EditorTitle, MenuId.CompactWindowEditorTitle].map(id => ({\n\t\t\t\tid,\n\t\t\t\twhen: ContextKeyExpr.equals('activeEditor', MultiDiffEditor.ID),\n\t\t\t\tgroup: 'navigation',\n\t\t\t\torder: 1\n\t\t\t})),\n\t\t\tkeybinding: {\n\t\t\t\tprimary: KeyMod.Alt | KeyMod.Shift | KeyCode.F5,\n\t\t\t\tweight: KeybindingWeight.EditorContrib,\n\t\t\t\twhen: ContextKeyExpr.equals('activeEditor', MultiDiffEditor.ID),\n\t\t\t},\n\t\t\tf1: true,\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst activeEditorPane = editorService.activeEditorPane;\n\n\t\tif (!(activeEditorPane instanceof MultiDiffEditor)) {\n\t\t\treturn;\n\t\t}\n\n\t\tactiveEditorPane.goToPreviousChange();\n\t}\n}\n\nexport class CollapseAllAction extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'multiDiffEditor.collapseAll',\n\t\t\ttitle: localize2('collapseAllDiffs', 'Collapse All Diffs'),\n\t\t\ticon: Codicon.collapseAll,\n\t\t\tprecondition: ContextKeyExpr.and(ContextKeyExpr.equals('activeEditor', MultiDiffEditor.ID), ContextKeyExpr.not('multiDiffEditorAllCollapsed')),\n\t\t\tmenu: [MenuId.EditorTitle, MenuId.CompactWindowEditorTitle].map(id => ({\n\t\t\t\tid,\n\t\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.equals('activeEditor', MultiDiffEditor.ID), ContextKeyExpr.not('multiDiffEditorAllCollapsed')),\n\t\t\t\tgroup: 'navigation',\n\t\t\t\torder: 100\n\t\t\t})),\n\t\t\tf1: true,\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor, ...args: unknown[]): Promise<void> {\n\t\tconst resolvedContext = resolveCommandsContext(args, accessor.get(IEditorService), accessor.get(IEditorGroupsService), accessor.get(IListService));\n\n\t\tconst groupContext = resolvedContext.groupedEditors[0];\n\t\tif (!groupContext) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst editor = groupContext.editors[0];\n\t\tif (editor instanceof MultiDiffEditorInput) {\n\t\t\tconst viewModel = await editor.getViewModel();\n\t\t\tviewModel.collapseAll();\n\t\t}\n\t}\n}\n\nexport class ExpandAllAction extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'multiDiffEditor.expandAll',\n\t\t\ttitle: localize2('ExpandAllDiffs', 'Expand All Diffs'),\n\t\t\ticon: Codicon.expandAll,\n\t\t\tprecondition: ContextKeyExpr.and(ContextKeyExpr.equals('activeEditor', MultiDiffEditor.ID), ContextKeyExpr.has('multiDiffEditorAllCollapsed')),\n\t\t\tmenu: [MenuId.EditorTitle, MenuId.CompactWindowEditorTitle].map(id => ({\n\t\t\t\tid,\n\t\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.equals('activeEditor', MultiDiffEditor.ID), ContextKeyExpr.has('multiDiffEditorAllCollapsed')),\n\t\t\t\tgroup: 'navigation',\n\t\t\t\torder: 100\n\t\t\t})),\n\t\t\tf1: true,\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor, ...args: unknown[]): Promise<void> {\n\t\tconst resolvedContext = resolveCommandsContext(args, accessor.get(IEditorService), accessor.get(IEditorGroupsService), accessor.get(IListService));\n\n\t\tconst groupContext = resolvedContext.groupedEditors[0];\n\t\tif (!groupContext) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst editor = groupContext.editors[0];\n\t\tif (editor instanceof MultiDiffEditorInput) {\n\t\t\tconst viewModel = await editor.getViewModel();\n\t\t\tviewModel.expandAll();\n\t\t}\n\t}\n}\n"]}