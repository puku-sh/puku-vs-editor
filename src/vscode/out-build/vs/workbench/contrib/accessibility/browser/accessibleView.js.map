{"version":3,"sources":["vs/workbench/contrib/accessibility/browser/accessibleView.ts"],"names":[],"mappings":"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","file":"accessibleView.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { EventType, addDisposableListener, getActiveWindow, getWindow, isActiveElement } from '../../../../base/browser/dom.js';\nimport { IKeyboardEvent, StandardKeyboardEvent } from '../../../../base/browser/keyboardEvent.js';\nimport { ActionsOrientation } from '../../../../base/browser/ui/actionbar/actionbar.js';\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { IAction } from '../../../../base/common/actions.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { KeyCode } from '../../../../base/common/keyCodes.js';\nimport { Disposable, DisposableStore, IDisposable } from '../../../../base/common/lifecycle.js';\nimport * as marked from '../../../../base/common/marked/marked.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport { isMacintosh, isWindows } from '../../../../base/common/platform.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { IEditorConstructionOptions } from '../../../../editor/browser/config/editorConfiguration.js';\nimport { EditorExtensionsRegistry } from '../../../../editor/browser/editorExtensions.js';\nimport { CodeEditorWidget, ICodeEditorWidgetOptions } from '../../../../editor/browser/widget/codeEditor/codeEditorWidget.js';\nimport { IPosition, Position } from '../../../../editor/common/core/position.js';\nimport { ITextModel } from '../../../../editor/common/model.js';\nimport { IModelService } from '../../../../editor/common/services/model.js';\nimport { ITextModelContentProvider, ITextModelService } from '../../../../editor/common/services/resolverService.js';\nimport { AccessibilityHelpNLS } from '../../../../editor/common/standaloneStrings.js';\nimport { CodeActionController } from '../../../../editor/contrib/codeAction/browser/codeActionController.js';\nimport { FloatingEditorToolbar } from '../../../../editor/contrib/floatingMenu/browser/floatingMenu.js';\nimport { localize } from '../../../../nls.js';\nimport { AccessibleContentProvider, AccessibleViewProviderId, AccessibleViewType, ExtensionContentProvider, IAccessibleViewService, IAccessibleViewSymbol, isIAccessibleViewContentProvider } from '../../../../platform/accessibility/browser/accessibleView.js';\nimport { ACCESSIBLE_VIEW_SHOWN_STORAGE_PREFIX, IAccessibilityService } from '../../../../platform/accessibility/common/accessibility.js';\nimport { AccessibilitySignal, IAccessibilitySignalService } from '../../../../platform/accessibilitySignal/browser/accessibilitySignalService.js';\nimport { getFlatActionBarActions } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { WorkbenchToolBar } from '../../../../platform/actions/browser/toolbar.js';\nimport { IMenuService, MenuId } from '../../../../platform/actions/common/actions.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IContextKey, IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IContextViewDelegate, IContextViewService } from '../../../../platform/contextview/browser/contextView.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { ResultKind } from '../../../../platform/keybinding/common/keybindingResolver.js';\nimport { ILayoutService } from '../../../../platform/layout/browser/layoutService.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { IQuickInputService, IQuickPick, IQuickPickItem } from '../../../../platform/quickinput/common/quickInput.js';\nimport { IStorageService, StorageScope, StorageTarget } from '../../../../platform/storage/common/storage.js';\nimport { FloatingEditorClickMenu } from '../../../browser/codeeditor.js';\nimport { IChatCodeBlockContextProviderService } from '../../chat/browser/chat.js';\nimport { ICodeBlockActionContext } from '../../chat/browser/codeBlockPart.js';\nimport { getSimpleEditorOptions } from '../../codeEditor/browser/simpleEditorOptions.js';\nimport { AccessibilityCommandId } from '../common/accessibilityCommands.js';\nimport { AccessibilityVerbositySettingId, AccessibilityWorkbenchSettingId, accessibilityHelpIsShown, accessibleViewContainsCodeBlocks, accessibleViewCurrentProviderId, accessibleViewGoToSymbolSupported, accessibleViewHasAssignedKeybindings, accessibleViewHasUnassignedKeybindings, accessibleViewInCodeBlock, accessibleViewIsShown, accessibleViewOnLastLine, accessibleViewSupportsNavigation, accessibleViewVerbosityEnabled } from './accessibilityConfiguration.js';\nimport { resolveContentAndKeybindingItems } from './accessibleViewKeybindingResolver.js';\n\nconst enum DIMENSIONS {\n\tMAX_WIDTH = 600\n}\n\nexport type AccesibleViewContentProvider = AccessibleContentProvider | ExtensionContentProvider;\n\ninterface ICodeBlock {\n\tstartLine: number;\n\tendLine: number;\n\tcode: string;\n\tlanguageId?: string;\n\tchatSessionResource: URI | undefined;\n}\n\nexport class AccessibleView extends Disposable implements ITextModelContentProvider {\n\tprivate _editorWidget: CodeEditorWidget;\n\n\tprivate _accessiblityHelpIsShown: IContextKey<boolean>;\n\tprivate _onLastLine: IContextKey<boolean>;\n\tprivate _accessibleViewIsShown: IContextKey<boolean>;\n\tprivate _accessibleViewSupportsNavigation: IContextKey<boolean>;\n\tprivate _accessibleViewVerbosityEnabled: IContextKey<boolean>;\n\tprivate _accessibleViewGoToSymbolSupported: IContextKey<boolean>;\n\tprivate _accessibleViewCurrentProviderId: IContextKey<string>;\n\tprivate _accessibleViewInCodeBlock: IContextKey<boolean>;\n\tprivate _accessibleViewContainsCodeBlocks: IContextKey<boolean>;\n\tprivate _hasUnassignedKeybindings: IContextKey<boolean>;\n\tprivate _hasAssignedKeybindings: IContextKey<boolean>;\n\n\tprivate _codeBlocks?: ICodeBlock[];\n\tprivate _isInQuickPick: boolean = false;\n\n\tget editorWidget() { return this._editorWidget; }\n\tprivate _container: HTMLElement;\n\tprivate _title: HTMLElement;\n\tprivate readonly _toolbar: WorkbenchToolBar;\n\n\tprivate _currentProvider: AccesibleViewContentProvider | undefined;\n\tprivate _currentContent: string | undefined;\n\n\tprivate _lastProvider: AccesibleViewContentProvider | undefined;\n\n\tprivate _viewContainer: HTMLElement | undefined;\n\n\n\tconstructor(\n\t\t@IOpenerService private readonly _openerService: IOpenerService,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t\t@IModelService private readonly _modelService: IModelService,\n\t\t@IContextViewService private readonly _contextViewService: IContextViewService,\n\t\t@IContextKeyService private readonly _contextKeyService: IContextKeyService,\n\t\t@IAccessibilityService private readonly _accessibilityService: IAccessibilityService,\n\t\t@IKeybindingService private readonly _keybindingService: IKeybindingService,\n\t\t@ILayoutService private readonly _layoutService: ILayoutService,\n\t\t@IMenuService private readonly _menuService: IMenuService,\n\t\t@ICommandService private readonly _commandService: ICommandService,\n\t\t@IChatCodeBlockContextProviderService private readonly _codeBlockContextProviderService: IChatCodeBlockContextProviderService,\n\t\t@IStorageService private readonly _storageService: IStorageService,\n\t\t@ITextModelService private readonly textModelResolverService: ITextModelService,\n\t\t@IQuickInputService private readonly _quickInputService: IQuickInputService,\n\t\t@IAccessibilitySignalService private readonly _accessibilitySignalService: IAccessibilitySignalService,\n\t) {\n\t\tsuper();\n\n\t\tthis._accessiblityHelpIsShown = accessibilityHelpIsShown.bindTo(this._contextKeyService);\n\t\tthis._accessibleViewIsShown = accessibleViewIsShown.bindTo(this._contextKeyService);\n\t\tthis._accessibleViewSupportsNavigation = accessibleViewSupportsNavigation.bindTo(this._contextKeyService);\n\t\tthis._accessibleViewVerbosityEnabled = accessibleViewVerbosityEnabled.bindTo(this._contextKeyService);\n\t\tthis._accessibleViewGoToSymbolSupported = accessibleViewGoToSymbolSupported.bindTo(this._contextKeyService);\n\t\tthis._accessibleViewCurrentProviderId = accessibleViewCurrentProviderId.bindTo(this._contextKeyService);\n\t\tthis._accessibleViewInCodeBlock = accessibleViewInCodeBlock.bindTo(this._contextKeyService);\n\t\tthis._accessibleViewContainsCodeBlocks = accessibleViewContainsCodeBlocks.bindTo(this._contextKeyService);\n\t\tthis._onLastLine = accessibleViewOnLastLine.bindTo(this._contextKeyService);\n\t\tthis._hasUnassignedKeybindings = accessibleViewHasUnassignedKeybindings.bindTo(this._contextKeyService);\n\t\tthis._hasAssignedKeybindings = accessibleViewHasAssignedKeybindings.bindTo(this._contextKeyService);\n\n\t\tthis._container = document.createElement('div');\n\t\tthis._container.classList.add('accessible-view');\n\t\tif (this._configurationService.getValue(AccessibilityWorkbenchSettingId.HideAccessibleView)) {\n\t\t\tthis._container.classList.add('hide');\n\t\t}\n\t\tconst codeEditorWidgetOptions: ICodeEditorWidgetOptions = {\n\t\t\tcontributions: EditorExtensionsRegistry.getEditorContributions()\n\t\t\t\t.filter(c => c.id !== CodeActionController.ID && c.id !== FloatingEditorClickMenu.ID && c.id !== FloatingEditorToolbar.ID)\n\t\t};\n\t\tconst titleBar = document.createElement('div');\n\t\ttitleBar.classList.add('accessible-view-title-bar');\n\t\tthis._title = document.createElement('div');\n\t\tthis._title.classList.add('accessible-view-title');\n\t\ttitleBar.appendChild(this._title);\n\t\tconst actionBar = document.createElement('div');\n\t\tactionBar.classList.add('accessible-view-action-bar');\n\t\ttitleBar.appendChild(actionBar);\n\t\tthis._container.appendChild(titleBar);\n\t\tthis._toolbar = this._register(_instantiationService.createInstance(WorkbenchToolBar, actionBar, { orientation: ActionsOrientation.HORIZONTAL }));\n\t\tthis._toolbar.context = { viewId: 'accessibleView' };\n\t\tconst toolbarElt = this._toolbar.getElement();\n\t\ttoolbarElt.tabIndex = 0;\n\n\t\tconst editorOptions: IEditorConstructionOptions = {\n\t\t\t...getSimpleEditorOptions(this._configurationService),\n\t\t\tlineDecorationsWidth: 6,\n\t\t\tdragAndDrop: false,\n\t\t\tcursorWidth: 1,\n\t\t\twordWrap: 'off',\n\t\t\twrappingStrategy: 'advanced',\n\t\t\twrappingIndent: 'none',\n\t\t\tpadding: { top: 2, bottom: 2 },\n\t\t\tquickSuggestions: false,\n\t\t\trenderWhitespace: 'none',\n\t\t\tdropIntoEditor: { enabled: false },\n\t\t\treadOnly: true,\n\t\t\tfontFamily: 'var(--monaco-monospace-font)'\n\t\t};\n\t\tthis.textModelResolverService.registerTextModelContentProvider(Schemas.accessibleView, this);\n\n\t\tthis._editorWidget = this._register(this._instantiationService.createInstance(CodeEditorWidget, this._container, editorOptions, codeEditorWidgetOptions));\n\t\tthis._register(this._accessibilityService.onDidChangeScreenReaderOptimized(() => {\n\t\t\tif (this._currentProvider && this._accessiblityHelpIsShown.get()) {\n\t\t\t\tthis.show(this._currentProvider);\n\t\t\t}\n\t\t}));\n\t\tthis._register(this._configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (isIAccessibleViewContentProvider(this._currentProvider) && e.affectsConfiguration(this._currentProvider.verbositySettingKey)) {\n\t\t\t\tif (this._accessiblityHelpIsShown.get()) {\n\t\t\t\t\tthis.show(this._currentProvider);\n\t\t\t\t}\n\t\t\t\tthis._accessibleViewVerbosityEnabled.set(this._configurationService.getValue(this._currentProvider.verbositySettingKey));\n\t\t\t\tthis._updateToolbar(this._currentProvider.actions, this._currentProvider.options.type);\n\t\t\t}\n\t\t\tif (e.affectsConfiguration(AccessibilityWorkbenchSettingId.HideAccessibleView)) {\n\t\t\t\tthis._container.classList.toggle('hide', this._configurationService.getValue(AccessibilityWorkbenchSettingId.HideAccessibleView));\n\t\t\t}\n\t\t}));\n\t\tthis._register(this._editorWidget.onDidDispose(() => this._resetContextKeys()));\n\t\tthis._register(this._editorWidget.onDidChangeCursorPosition(() => {\n\t\t\tthis._onLastLine.set(this._editorWidget.getPosition()?.lineNumber === this._editorWidget.getModel()?.getLineCount());\n\t\t\tconst cursorPosition = this._editorWidget.getPosition()?.lineNumber;\n\t\t\tif (this._codeBlocks && cursorPosition !== undefined) {\n\t\t\t\tconst inCodeBlock = this._codeBlocks.find(c => c.startLine <= cursorPosition && c.endLine >= cursorPosition) !== undefined;\n\t\t\t\tthis._accessibleViewInCodeBlock.set(inCodeBlock);\n\t\t\t}\n\t\t\tthis._playDiffSignals();\n\t\t}));\n\t}\n\n\tprivate _playDiffSignals(): void {\n\t\tif (this._currentProvider?.id !== AccessibleViewProviderId.DiffEditor && this._currentProvider?.id !== AccessibleViewProviderId.InlineCompletions) {\n\t\t\treturn;\n\t\t}\n\t\tconst position = this._editorWidget.getPosition();\n\t\tconst model = this._editorWidget.getModel();\n\t\tif (!position || !model) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst lineContent = model.getLineContent(position.lineNumber);\n\t\tif (lineContent?.startsWith('+')) {\n\t\t\tthis._accessibilitySignalService.playSignal(AccessibilitySignal.diffLineInserted);\n\t\t} else if (lineContent?.startsWith('-')) {\n\t\t\tthis._accessibilitySignalService.playSignal(AccessibilitySignal.diffLineDeleted);\n\t\t}\n\t}\n\n\tprovideTextContent(resource: URI): Promise<ITextModel | null> | null {\n\t\treturn this._getTextModel(resource);\n\t}\n\n\tprivate _resetContextKeys(): void {\n\t\tthis._accessiblityHelpIsShown.reset();\n\t\tthis._accessibleViewIsShown.reset();\n\t\tthis._accessibleViewSupportsNavigation.reset();\n\t\tthis._accessibleViewVerbosityEnabled.reset();\n\t\tthis._accessibleViewGoToSymbolSupported.reset();\n\t\tthis._accessibleViewCurrentProviderId.reset();\n\t\tthis._hasAssignedKeybindings.reset();\n\t\tthis._hasUnassignedKeybindings.reset();\n\t}\n\n\tgetPosition(id?: AccessibleViewProviderId): Position | undefined {\n\t\tif (!id || !this._lastProvider || this._lastProvider.id !== id) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn this._editorWidget.getPosition() || undefined;\n\t}\n\n\tsetPosition(position: Position, reveal?: boolean, select?: boolean): void {\n\t\tthis._editorWidget.setPosition(position);\n\t\tif (reveal) {\n\t\t\tthis._editorWidget.revealPosition(position);\n\t\t}\n\t\tif (select) {\n\t\t\tconst lineLength = this._editorWidget.getModel()?.getLineLength(position.lineNumber) ?? 0;\n\t\t\tif (lineLength) {\n\t\t\t\tthis._editorWidget.setSelection({ startLineNumber: position.lineNumber, startColumn: 1, endLineNumber: position.lineNumber, endColumn: lineLength + 1 });\n\t\t\t}\n\t\t}\n\t}\n\n\tgetCodeBlockContext(): ICodeBlockActionContext | undefined {\n\t\tconst position = this._editorWidget.getPosition();\n\t\tif (!this._codeBlocks?.length || !position) {\n\t\t\treturn;\n\t\t}\n\t\tconst codeBlockIndex = this._codeBlocks?.findIndex(c => c.startLine <= position?.lineNumber && c.endLine >= position?.lineNumber);\n\t\tconst codeBlock = codeBlockIndex !== undefined && codeBlockIndex > -1 ? this._codeBlocks[codeBlockIndex] : undefined;\n\t\tif (!codeBlock || codeBlockIndex === undefined) {\n\t\t\treturn;\n\t\t}\n\t\treturn { code: codeBlock.code, languageId: codeBlock.languageId, codeBlockIndex, element: undefined, chatSessionResource: codeBlock.chatSessionResource };\n\t}\n\n\tnavigateToCodeBlock(type: 'next' | 'previous'): void {\n\t\tconst position = this._editorWidget.getPosition();\n\t\tif (!this._codeBlocks?.length || !position) {\n\t\t\treturn;\n\t\t}\n\t\tlet codeBlock;\n\t\tconst codeBlocks = this._codeBlocks.slice();\n\t\tif (type === 'previous') {\n\t\t\tcodeBlock = codeBlocks.reverse().find(c => c.endLine < position.lineNumber);\n\t\t} else {\n\t\t\tcodeBlock = codeBlocks.find(c => c.startLine > position.lineNumber);\n\t\t}\n\t\tif (!codeBlock) {\n\t\t\treturn;\n\t\t}\n\t\tthis.setPosition(new Position(codeBlock.startLine, 1), true);\n\t}\n\n\tshowLastProvider(id: AccessibleViewProviderId): void {\n\t\tif (!this._lastProvider || this._lastProvider.options.id !== id) {\n\t\t\treturn;\n\t\t}\n\t\tthis.show(this._lastProvider);\n\t}\n\n\tshow(provider?: AccesibleViewContentProvider, symbol?: IAccessibleViewSymbol, showAccessibleViewHelp?: boolean, position?: IPosition): void {\n\t\tprovider = provider ?? this._currentProvider;\n\t\tif (!provider) {\n\t\t\treturn;\n\t\t}\n\t\tprovider.onOpen?.();\n\t\tconst delegate: IContextViewDelegate = {\n\t\t\tgetAnchor: () => { return { x: (getActiveWindow().innerWidth / 2) - ((Math.min(this._layoutService.activeContainerDimension.width * 0.62 /* golden cut */, DIMENSIONS.MAX_WIDTH)) / 2), y: this._layoutService.activeContainerOffset.quickPickTop }; },\n\t\t\trender: (container) => {\n\t\t\t\tthis._viewContainer = container;\n\t\t\t\tthis._viewContainer.classList.add('accessible-view-container');\n\t\t\t\treturn this._render(provider, container, showAccessibleViewHelp);\n\t\t\t},\n\t\t\tonHide: () => {\n\t\t\t\tif (!showAccessibleViewHelp) {\n\t\t\t\t\tthis._updateLastProvider();\n\t\t\t\t\tthis._currentProvider?.dispose();\n\t\t\t\t\tthis._currentProvider = undefined;\n\t\t\t\t\tthis._resetContextKeys();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tthis._contextViewService.showContextView(delegate);\n\n\t\tif (position) {\n\t\t\t// Context view takes time to show up, so we need to wait for it to show up before we can set the position\n\t\t\tqueueMicrotask(() => {\n\t\t\t\tthis._editorWidget.revealLine(position.lineNumber);\n\t\t\t\tthis._editorWidget.setSelection({ startLineNumber: position.lineNumber, startColumn: position.column, endLineNumber: position.lineNumber, endColumn: position.column });\n\t\t\t});\n\t\t}\n\n\t\tif (symbol && this._currentProvider) {\n\t\t\tthis.showSymbol(this._currentProvider, symbol);\n\t\t}\n\t\tif (provider instanceof AccessibleContentProvider && provider.onDidRequestClearLastProvider) {\n\t\t\tthis._register(provider.onDidRequestClearLastProvider((id: string) => {\n\t\t\t\tif (this._lastProvider?.options.id === id) {\n\t\t\t\t\tthis._lastProvider = undefined;\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t\tif (provider.options.id) {\n\t\t\t// only cache a provider with an ID so that it will eventually be cleared.\n\t\t\tthis._lastProvider = provider;\n\t\t}\n\t\tif (provider.id === AccessibleViewProviderId.PanelChat || provider.id === AccessibleViewProviderId.QuickChat) {\n\t\t\tthis._register(this._codeBlockContextProviderService.registerProvider({ getCodeBlockContext: () => this.getCodeBlockContext() }, 'accessibleView'));\n\t\t}\n\t\tif (provider instanceof ExtensionContentProvider) {\n\t\t\tthis._storageService.store(`${ACCESSIBLE_VIEW_SHOWN_STORAGE_PREFIX}${provider.id}`, true, StorageScope.APPLICATION, StorageTarget.USER);\n\t\t}\n\t\tif (provider.onDidChangeContent) {\n\t\t\tthis._register(provider.onDidChangeContent(() => {\n\t\t\t\tif (this._viewContainer) { this._render(provider, this._viewContainer, showAccessibleViewHelp); }\n\t\t\t}));\n\t\t}\n\t}\n\n\tprevious(): void {\n\t\tconst newContent = this._currentProvider?.providePreviousContent?.();\n\t\tif (!this._currentProvider || !this._viewContainer || !newContent) {\n\t\t\treturn;\n\t\t}\n\t\tthis._render(this._currentProvider, this._viewContainer, undefined, newContent);\n\t}\n\n\tnext(): void {\n\t\tconst newContent = this._currentProvider?.provideNextContent?.();\n\t\tif (!this._currentProvider || !this._viewContainer || !newContent) {\n\t\t\treturn;\n\t\t}\n\t\tthis._render(this._currentProvider, this._viewContainer, undefined, newContent);\n\t}\n\n\tprivate _verbosityEnabled(): boolean {\n\t\tif (!this._currentProvider) {\n\t\t\treturn false;\n\t\t}\n\t\treturn isIAccessibleViewContentProvider(this._currentProvider) ? this._configurationService.getValue(this._currentProvider.verbositySettingKey) === true : this._storageService.getBoolean(`${ACCESSIBLE_VIEW_SHOWN_STORAGE_PREFIX}${this._currentProvider.id}`, StorageScope.APPLICATION, false);\n\t}\n\n\tgoToSymbol(): void {\n\t\tif (!this._currentProvider) {\n\t\t\treturn;\n\t\t}\n\t\tthis._isInQuickPick = true;\n\t\tthis._instantiationService.createInstance(AccessibleViewSymbolQuickPick, this).show(this._currentProvider);\n\t}\n\n\tcalculateCodeBlocks(markdown?: string): void {\n\t\tif (!markdown) {\n\t\t\treturn;\n\t\t}\n\t\tif (this._currentProvider?.id !== AccessibleViewProviderId.PanelChat && this._currentProvider?.id !== AccessibleViewProviderId.QuickChat) {\n\t\t\treturn;\n\t\t}\n\t\tif (this._currentProvider.options.language && this._currentProvider.options.language !== 'markdown') {\n\t\t\t// Symbols haven't been provided and we cannot parse this language\n\t\t\treturn;\n\t\t}\n\t\tconst lines = markdown.split('\\n');\n\t\tthis._codeBlocks = [];\n\t\tlet inBlock = false;\n\t\tlet startLine = 0;\n\n\t\tlet languageId: string | undefined;\n\t\tlines.forEach((line, i) => {\n\t\t\tif (!inBlock && line.startsWith('```')) {\n\t\t\t\tinBlock = true;\n\t\t\t\tstartLine = i + 1;\n\t\t\t\tlanguageId = line.substring(3).trim();\n\t\t\t} else if (inBlock && line.endsWith('```')) {\n\t\t\t\tinBlock = false;\n\t\t\t\tconst endLine = i;\n\t\t\t\tconst code = lines.slice(startLine, endLine).join('\\n');\n\t\t\t\tthis._codeBlocks?.push({ startLine, endLine, code, languageId, chatSessionResource: undefined });\n\t\t\t}\n\t\t});\n\t\tthis._accessibleViewContainsCodeBlocks.set(this._codeBlocks.length > 0);\n\t}\n\n\tgetSymbols(): IAccessibleViewSymbol[] | undefined {\n\t\tconst provider = this._currentProvider ? this._currentProvider : undefined;\n\t\tif (!this._currentContent || !provider) {\n\t\t\treturn;\n\t\t}\n\t\tconst symbols: IAccessibleViewSymbol[] = 'getSymbols' in provider ? provider.getSymbols?.() || [] : [];\n\t\tif (symbols?.length) {\n\t\t\treturn symbols;\n\t\t}\n\t\tif (provider.options.language && provider.options.language !== 'markdown') {\n\t\t\t// Symbols haven't been provided and we cannot parse this language\n\t\t\treturn;\n\t\t}\n\t\tconst markdownTokens: marked.TokensList | undefined = marked.marked.lexer(this._currentContent);\n\t\tif (!markdownTokens) {\n\t\t\treturn;\n\t\t}\n\t\tthis._convertTokensToSymbols(markdownTokens, symbols);\n\t\treturn symbols.length ? symbols : undefined;\n\t}\n\n\topenHelpLink(): void {\n\t\tif (!this._currentProvider?.options.readMoreUrl) {\n\t\t\treturn;\n\t\t}\n\t\tthis._openerService.open(URI.parse(this._currentProvider.options.readMoreUrl));\n\t}\n\n\tconfigureKeybindings(unassigned: boolean): void {\n\t\tthis._isInQuickPick = true;\n\t\tconst provider = this._updateLastProvider();\n\t\tconst items = unassigned ? provider?.options?.configureKeybindingItems : provider?.options?.configuredKeybindingItems;\n\t\tif (!items) {\n\t\t\treturn;\n\t\t}\n\t\tconst disposables = this._register(new DisposableStore());\n\t\tconst quickPick: IQuickPick<IQuickPickItem> = disposables.add(this._quickInputService.createQuickPick());\n\t\tquickPick.items = items;\n\t\tquickPick.title = localize('keybindings', 'Configure keybindings');\n\t\tquickPick.placeholder = localize('selectKeybinding', 'Select a command ID to configure a keybinding for it');\n\t\tquickPick.show();\n\t\tdisposables.add(quickPick.onDidAccept(async () => {\n\t\t\tconst item = quickPick.selectedItems[0];\n\t\t\tif (item) {\n\t\t\t\tawait this._commandService.executeCommand('workbench.action.openGlobalKeybindings', item.id);\n\t\t\t}\n\t\t\tquickPick.dispose();\n\t\t}));\n\t\tdisposables.add(quickPick.onDidHide(() => {\n\t\t\tif (!quickPick.selectedItems.length && provider) {\n\t\t\t\tthis.show(provider);\n\t\t\t}\n\t\t\tdisposables.dispose();\n\t\t\tthis._isInQuickPick = false;\n\t\t}));\n\t}\n\n\tprivate _convertTokensToSymbols(tokens: marked.TokensList, symbols: IAccessibleViewSymbol[]): void {\n\t\tlet firstListItem: string | undefined;\n\t\tfor (const token of tokens) {\n\t\t\tlet label: string | undefined = undefined;\n\t\t\tif ('type' in token) {\n\t\t\t\tswitch (token.type) {\n\t\t\t\t\tcase 'heading':\n\t\t\t\t\tcase 'paragraph':\n\t\t\t\t\tcase 'code':\n\t\t\t\t\t\tlabel = token.text;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'list': {\n\t\t\t\t\t\tconst firstItem = (token as marked.Tokens.List).items[0];\n\t\t\t\t\t\tif (!firstItem) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfirstListItem = `- ${firstItem.text}`;\n\t\t\t\t\t\tlabel = (token as marked.Tokens.List).items.map(i => i.text).join(', ');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (label) {\n\t\t\t\tsymbols.push({ markdownToParse: label, label: localize('symbolLabel', \"({0}) {1}\", token.type, label), ariaLabel: localize('symbolLabelAria', \"({0}) {1}\", token.type, label), firstListItem });\n\t\t\t\tfirstListItem = undefined;\n\t\t\t}\n\t\t}\n\t}\n\n\tshowSymbol(provider: AccesibleViewContentProvider, symbol: IAccessibleViewSymbol): void {\n\t\tif (!this._currentContent) {\n\t\t\treturn;\n\t\t}\n\t\tlet lineNumber: number | undefined = symbol.lineNumber;\n\t\tconst markdownToParse = symbol.markdownToParse;\n\t\tif (lineNumber === undefined && markdownToParse === undefined) {\n\t\t\t// No symbols provided and we cannot parse this language\n\t\t\treturn;\n\t\t}\n\n\t\tif (lineNumber === undefined && markdownToParse) {\n\t\t\t// Note that this scales poorly, thus isn't used for worst case scenarios like the terminal, for which a line number will always be provided.\n\t\t\t// Parse the markdown to find the line number\n\t\t\tconst index = this._currentContent.split('\\n').findIndex(line => line.includes(markdownToParse.split('\\n')[0]) || (symbol.firstListItem && line.includes(symbol.firstListItem))) ?? -1;\n\t\t\tif (index >= 0) {\n\t\t\t\tlineNumber = index + 1;\n\t\t\t}\n\t\t}\n\t\tif (lineNumber === undefined) {\n\t\t\treturn;\n\t\t}\n\t\tthis._isInQuickPick = false;\n\t\tthis.show(provider, undefined, undefined, { lineNumber, column: 1 });\n\t\tthis._updateContextKeys(provider, true);\n\t}\n\n\tdisableHint(): void {\n\t\tif (!isIAccessibleViewContentProvider(this._currentProvider)) {\n\t\t\treturn;\n\t\t}\n\t\tthis._configurationService.updateValue(this._currentProvider?.verbositySettingKey, false);\n\t\talert(localize('disableAccessibilityHelp', '{0} accessibility verbosity is now disabled', this._currentProvider.verbositySettingKey));\n\t}\n\n\tprivate _updateContextKeys(provider: AccesibleViewContentProvider, shown: boolean): void {\n\t\tif (provider.options.type === AccessibleViewType.Help) {\n\t\t\tthis._accessiblityHelpIsShown.set(shown);\n\t\t\tthis._accessibleViewIsShown.reset();\n\t\t} else {\n\t\t\tthis._accessibleViewIsShown.set(shown);\n\t\t\tthis._accessiblityHelpIsShown.reset();\n\t\t}\n\t\tthis._accessibleViewSupportsNavigation.set(provider.provideNextContent !== undefined || provider.providePreviousContent !== undefined);\n\t\tthis._accessibleViewVerbosityEnabled.set(this._verbosityEnabled());\n\t\tthis._accessibleViewGoToSymbolSupported.set(this._goToSymbolsSupported() ? this.getSymbols()?.length! > 0 : false);\n\t}\n\n\tprivate _updateContent(provider: AccesibleViewContentProvider, updatedContent?: string): void {\n\t\tlet content = updatedContent ?? provider.provideContent();\n\t\tif (provider.options.type === AccessibleViewType.View) {\n\t\t\tthis._currentContent = content;\n\t\t\tthis._hasUnassignedKeybindings.reset();\n\t\t\tthis._hasAssignedKeybindings.reset();\n\t\t\treturn;\n\t\t}\n\t\tconst readMoreLinkHint = this._readMoreHint(provider);\n\t\tconst disableHelpHint = this._disableVerbosityHint(provider);\n\t\tconst screenReaderModeHint = this._screenReaderModeHint(provider);\n\t\tconst exitThisDialogHint = this._exitDialogHint(provider);\n\t\tlet configureKbHint = '';\n\t\tlet configureAssignedKbHint = '';\n\t\tconst resolvedContent = resolveContentAndKeybindingItems(this._keybindingService, screenReaderModeHint + content + readMoreLinkHint + disableHelpHint + exitThisDialogHint);\n\t\tif (resolvedContent) {\n\t\t\tcontent = resolvedContent.content.value;\n\t\t\tif (resolvedContent.configureKeybindingItems) {\n\t\t\t\tprovider.options.configureKeybindingItems = resolvedContent.configureKeybindingItems;\n\t\t\t\tthis._hasUnassignedKeybindings.set(true);\n\t\t\t\tconfigureKbHint = this._configureUnassignedKbHint();\n\t\t\t} else {\n\t\t\t\tthis._hasAssignedKeybindings.reset();\n\t\t\t}\n\t\t\tif (resolvedContent.configuredKeybindingItems) {\n\t\t\t\tprovider.options.configuredKeybindingItems = resolvedContent.configuredKeybindingItems;\n\t\t\t\tthis._hasAssignedKeybindings.set(true);\n\t\t\t\tconfigureAssignedKbHint = this._configureAssignedKbHint();\n\t\t\t} else {\n\t\t\t\tthis._hasAssignedKeybindings.reset();\n\t\t\t}\n\t\t}\n\t\tthis._currentContent = content + configureKbHint + configureAssignedKbHint;\n\t}\n\n\tprivate _render(provider: AccesibleViewContentProvider, container: HTMLElement, showAccessibleViewHelp?: boolean, updatedContent?: string): IDisposable {\n\t\tthis._currentProvider = provider;\n\t\tthis._accessibleViewCurrentProviderId.set(provider.id);\n\t\tconst verbose = this._verbosityEnabled();\n\t\tthis._updateContent(provider, updatedContent);\n\t\tthis.calculateCodeBlocks(this._currentContent);\n\t\tthis._updateContextKeys(provider, true);\n\t\tconst widgetIsFocused = this._editorWidget.hasTextFocus() || this._editorWidget.hasWidgetFocus();\n\t\tthis._getTextModel(URI.from({ path: `accessible-view-${provider.id}`, scheme: Schemas.accessibleView, fragment: this._currentContent })).then((model) => {\n\t\t\tif (!model) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._editorWidget.setModel(model);\n\t\t\tconst domNode = this._editorWidget.getDomNode();\n\t\t\tif (!domNode) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tmodel.setLanguage(provider.options.language ?? 'markdown');\n\t\t\tcontainer.appendChild(this._container);\n\t\t\tlet actionsHint = '';\n\t\t\tconst hasActions = this._accessibleViewSupportsNavigation.get() || this._accessibleViewVerbosityEnabled.get() || this._accessibleViewGoToSymbolSupported.get() || provider.actions?.length;\n\t\t\tif (verbose && !showAccessibleViewHelp && hasActions) {\n\t\t\t\tactionsHint = provider.options.position ? localize('ariaAccessibleViewActionsBottom', 'Explore actions such as disabling this hint (Shift+Tab), use Escape to exit this dialog.') : localize('ariaAccessibleViewActions', 'Explore actions such as disabling this hint (Shift+Tab).');\n\t\t\t}\n\t\t\tlet ariaLabel = provider.options.type === AccessibleViewType.Help ? localize('accessibility-help', \"Accessibility Help\") : localize('accessible-view', \"Accessible View\");\n\t\t\tthis._title.textContent = ariaLabel;\n\t\t\tif (actionsHint && provider.options.type === AccessibleViewType.View) {\n\t\t\t\tariaLabel = localize('accessible-view-hint', \"Accessible View, {0}\", actionsHint);\n\t\t\t} else if (actionsHint) {\n\t\t\t\tariaLabel = localize('accessibility-help-hint', \"Accessibility Help, {0}\", actionsHint);\n\t\t\t}\n\t\t\tif (isWindows && widgetIsFocused) {\n\t\t\t\t// prevent the screen reader on windows from reading\n\t\t\t\t// the aria label again when it's refocused\n\t\t\t\tariaLabel = '';\n\t\t\t}\n\t\t\tthis._editorWidget.updateOptions({ ariaLabel });\n\t\t\tthis._editorWidget.focus();\n\t\t\tif (this._currentProvider?.options.position) {\n\t\t\t\tconst position = this._editorWidget.getPosition();\n\t\t\t\tconst isDefaultPosition = position?.lineNumber === 1 && position.column === 1;\n\t\t\t\tif (this._currentProvider.options.position === 'bottom' || this._currentProvider.options.position === 'initial-bottom' && isDefaultPosition) {\n\t\t\t\t\tconst lastLine = this.editorWidget.getModel()?.getLineCount();\n\t\t\t\t\tconst position = lastLine !== undefined && lastLine > 0 ? new Position(lastLine, 1) : undefined;\n\t\t\t\t\tif (position) {\n\t\t\t\t\t\tthis._editorWidget.setPosition(position);\n\t\t\t\t\t\tthis._editorWidget.revealLine(position.lineNumber);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tthis._updateToolbar(this._currentProvider.actions, provider.options.type);\n\n\t\tconst hide = (e?: KeyboardEvent | IKeyboardEvent): void => {\n\t\t\tconst thisWindowIsFocused = getWindow(this._editorWidget.getDomNode()).document.hasFocus();\n\t\t\tif (!thisWindowIsFocused) {\n\t\t\t\t// When switching windows, keep accessible view open\n\t\t\t\te?.preventDefault();\n\t\t\t\te?.stopPropagation();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!this._isInQuickPick) {\n\t\t\t\tprovider.onClose();\n\t\t\t}\n\t\t\te?.stopPropagation();\n\t\t\tthis._contextViewService.hideContextView();\n\t\t\tif (this._isInQuickPick) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._updateContextKeys(provider, false);\n\t\t\tthis._lastProvider = undefined;\n\t\t\tthis._currentContent = undefined;\n\t\t\tthis._currentProvider?.dispose();\n\t\t\tthis._currentProvider = undefined;\n\t\t};\n\t\tconst disposableStore = new DisposableStore();\n\t\tdisposableStore.add(this._editorWidget.onKeyDown((e) => {\n\t\t\tif (e.keyCode === KeyCode.Enter) {\n\t\t\t\tthis._commandService.executeCommand('editor.action.openLink');\n\t\t\t} else if (e.keyCode === KeyCode.Escape || shouldHide(e.browserEvent, this._keybindingService, this._configurationService)) {\n\t\t\t\thide(e);\n\t\t\t} else if (e.keyCode === KeyCode.KeyH && provider.options.readMoreUrl) {\n\t\t\t\tconst url: string = provider.options.readMoreUrl;\n\t\t\t\talert(AccessibilityHelpNLS.openingDocs);\n\t\t\t\tthis._openerService.open(URI.parse(url));\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t\tif (provider instanceof AccessibleContentProvider) {\n\t\t\t\tprovider.onKeyDown?.(e);\n\t\t\t}\n\t\t}));\n\t\tdisposableStore.add(addDisposableListener(this._toolbar.getElement(), EventType.KEY_DOWN, (e: KeyboardEvent) => {\n\t\t\tconst keyboardEvent = new StandardKeyboardEvent(e);\n\t\t\tif (keyboardEvent.equals(KeyCode.Escape)) {\n\t\t\t\thide(e);\n\t\t\t}\n\t\t}));\n\t\tdisposableStore.add(this._editorWidget.onDidBlurEditorWidget(() => {\n\t\t\tif (!isActiveElement(this._toolbar.getElement())) {\n\t\t\t\thide();\n\t\t\t}\n\t\t}));\n\t\tdisposableStore.add(this._editorWidget.onDidContentSizeChange(() => this._layout()));\n\t\tdisposableStore.add(this._layoutService.onDidLayoutActiveContainer(() => this._layout()));\n\t\treturn disposableStore;\n\t}\n\n\tprivate _updateToolbar(providedActions?: IAction[], type?: AccessibleViewType): void {\n\t\tthis._toolbar.setAriaLabel(type === AccessibleViewType.Help ? localize('accessibleHelpToolbar', 'Accessibility Help') : localize('accessibleViewToolbar', \"Accessible View\"));\n\t\tconst toolbarMenu = this._register(this._menuService.createMenu(MenuId.AccessibleView, this._contextKeyService));\n\t\tconst menuActions = getFlatActionBarActions(toolbarMenu.getActions({}));\n\t\tif (providedActions) {\n\t\t\tfor (const providedAction of providedActions) {\n\t\t\t\tprovidedAction.class = providedAction.class || ThemeIcon.asClassName(Codicon.primitiveSquare);\n\t\t\t\tprovidedAction.checked = undefined;\n\t\t\t}\n\t\t\tthis._toolbar.setActions([...providedActions, ...menuActions]);\n\t\t} else {\n\t\t\tthis._toolbar.setActions(menuActions);\n\t\t}\n\t}\n\n\tprivate _layout(): void {\n\t\tconst dimension = this._layoutService.activeContainerDimension;\n\t\tconst maxHeight = dimension.height && dimension.height * .4;\n\t\tconst height = Math.min(maxHeight, this._editorWidget.getContentHeight());\n\t\tconst width = Math.min(dimension.width * 0.62 /* golden cut */, DIMENSIONS.MAX_WIDTH);\n\t\tthis._editorWidget.layout({ width, height });\n\t}\n\n\tprivate async _getTextModel(resource: URI): Promise<ITextModel | null> {\n\t\tconst existing = this._modelService.getModel(resource);\n\t\tif (existing && !existing.isDisposed()) {\n\t\t\treturn existing;\n\t\t}\n\t\treturn this._modelService.createModel(resource.fragment, null, resource, false);\n\t}\n\n\tprivate _goToSymbolsSupported(): boolean {\n\t\tif (!this._currentProvider) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this._currentProvider.options.type === AccessibleViewType.Help || this._currentProvider.options.language === 'markdown' || this._currentProvider.options.language === undefined || (this._currentProvider instanceof AccessibleContentProvider && !!this._currentProvider.getSymbols?.());\n\t}\n\n\tprivate _updateLastProvider(): AccesibleViewContentProvider | undefined {\n\t\tconst provider = this._currentProvider;\n\t\tif (!provider) {\n\t\t\treturn;\n\t\t}\n\t\tconst lastProvider = provider instanceof AccessibleContentProvider ? new AccessibleContentProvider(\n\t\t\tprovider.id,\n\t\t\tprovider.options,\n\t\t\tprovider.provideContent.bind(provider),\n\t\t\tprovider.onClose.bind(provider),\n\t\t\tprovider.verbositySettingKey,\n\t\t\tprovider.onOpen?.bind(provider),\n\t\t\tprovider.actions,\n\t\t\tprovider.provideNextContent?.bind(provider),\n\t\t\tprovider.providePreviousContent?.bind(provider),\n\t\t\tprovider.onDidChangeContent?.bind(provider),\n\t\t\tprovider.onKeyDown?.bind(provider),\n\t\t\tprovider.getSymbols?.bind(provider),\n\t\t) : new ExtensionContentProvider(\n\t\t\tprovider.id,\n\t\t\tprovider.options,\n\t\t\tprovider.provideContent.bind(provider),\n\t\t\tprovider.onClose.bind(provider),\n\t\t\tprovider.onOpen?.bind(provider),\n\t\t\tprovider.provideNextContent?.bind(provider),\n\t\t\tprovider.providePreviousContent?.bind(provider),\n\t\t\tprovider.actions,\n\t\t\tprovider.onDidChangeContent?.bind(provider),\n\t\t);\n\t\treturn lastProvider;\n\t}\n\n\tpublic showAccessibleViewHelp(): void {\n\t\tconst lastProvider = this._updateLastProvider();\n\t\tif (!lastProvider) {\n\t\t\treturn;\n\t\t}\n\t\tlet accessibleViewHelpProvider;\n\t\tif (lastProvider instanceof AccessibleContentProvider) {\n\t\t\taccessibleViewHelpProvider = new AccessibleContentProvider(\n\t\t\t\tlastProvider.id,\n\t\t\t\t{ type: AccessibleViewType.Help },\n\t\t\t\t() => lastProvider.options.customHelp ? lastProvider?.options.customHelp() : this._accessibleViewHelpDialogContent(this._goToSymbolsSupported()),\n\t\t\t\t() => {\n\t\t\t\t\tthis._contextViewService.hideContextView();\n\t\t\t\t\t// HACK: Delay to allow the context view to hide #207638\n\t\t\t\t\tqueueMicrotask(() => this.show(lastProvider));\n\t\t\t\t},\n\t\t\t\tlastProvider.verbositySettingKey\n\t\t\t);\n\t\t} else {\n\t\t\taccessibleViewHelpProvider = new ExtensionContentProvider(\n\t\t\t\tlastProvider.id,\n\t\t\t\t{ type: AccessibleViewType.Help },\n\t\t\t\t() => lastProvider.options.customHelp ? lastProvider?.options.customHelp() : this._accessibleViewHelpDialogContent(this._goToSymbolsSupported()),\n\t\t\t\t() => {\n\t\t\t\t\tthis._contextViewService.hideContextView();\n\t\t\t\t\t// HACK: Delay to allow the context view to hide #207638\n\t\t\t\t\tqueueMicrotask(() => this.show(lastProvider));\n\t\t\t\t},\n\t\t\t);\n\t\t}\n\t\tthis._contextViewService.hideContextView();\n\t\t// HACK: Delay to allow the context view to hide #186514\n\t\tif (accessibleViewHelpProvider) {\n\t\t\tqueueMicrotask(() => this.show(accessibleViewHelpProvider, undefined, true));\n\t\t}\n\t}\n\n\tprivate _accessibleViewHelpDialogContent(providerHasSymbols?: boolean): string {\n\t\tconst navigationHint = this._navigationHint();\n\t\tconst goToSymbolHint = this._goToSymbolHint(providerHasSymbols);\n\t\tconst toolbarHint = localize('toolbar', \"Navigate to the toolbar (Shift+Tab).\");\n\t\tconst chatHints = this._getChatHints();\n\n\t\tlet hint = localize('intro', \"In the accessible view, you can:\\n\");\n\t\tif (navigationHint) {\n\t\t\thint += ' - ' + navigationHint + '\\n';\n\t\t}\n\t\tif (goToSymbolHint) {\n\t\t\thint += ' - ' + goToSymbolHint + '\\n';\n\t\t}\n\t\tif (toolbarHint) {\n\t\t\thint += ' - ' + toolbarHint + '\\n';\n\t\t}\n\t\tif (chatHints) {\n\t\t\thint += chatHints;\n\t\t}\n\t\treturn hint;\n\t}\n\n\tprivate _getChatHints(): string | undefined {\n\t\tif (this._currentProvider?.id !== AccessibleViewProviderId.PanelChat && this._currentProvider?.id !== AccessibleViewProviderId.QuickChat) {\n\t\t\treturn;\n\t\t}\n\t\treturn [localize('insertAtCursor', \" - Insert the code block at the cursor{0}.\", '<keybinding:workbench.action.chat.insertCodeBlock>'),\n\t\tlocalize('insertIntoNewFile', \" - Insert the code block into a new file{0}.\", '<keybinding:workbench.action.chat.insertIntoNewFile>'),\n\t\tlocalize('runInTerminal', \" - Run the code block in the terminal{0}.\\n\", '<keybinding:workbench.action.chat.runInTerminal>')].join('\\n');\n\t}\n\n\tprivate _navigationHint(): string {\n\t\treturn localize('accessibleViewNextPreviousHint', \"Show the next item{0} or previous item{1}.\", `<keybinding:${AccessibilityCommandId.ShowNext}`, `<keybinding:${AccessibilityCommandId.ShowPrevious}>`);\n\t}\n\n\tprivate _disableVerbosityHint(provider: AccesibleViewContentProvider): string {\n\t\tif (provider.options.type === AccessibleViewType.Help && this._verbosityEnabled()) {\n\t\t\treturn localize('acessibleViewDisableHint', \"\\nDisable accessibility verbosity for this feature{0}.\", `<keybinding:${AccessibilityCommandId.DisableVerbosityHint}>`);\n\t\t}\n\t\treturn '';\n\t}\n\n\tprivate _goToSymbolHint(providerHasSymbols?: boolean): string | undefined {\n\t\tif (!providerHasSymbols) {\n\t\t\treturn;\n\t\t}\n\t\treturn localize('goToSymbolHint', 'Go to a symbol{0}.', `<keybinding:${AccessibilityCommandId.GoToSymbol}>`);\n\t}\n\n\tprivate _configureUnassignedKbHint(): string {\n\t\tconst configureKb = this._keybindingService.lookupKeybinding(AccessibilityCommandId.AccessibilityHelpConfigureKeybindings)?.getAriaLabel();\n\t\tconst keybindingToConfigureQuickPick = configureKb ? '(' + configureKb + ')' : 'by assigning a keybinding to the command Accessibility Help Configure Unassigned Keybindings.';\n\t\treturn localize('configureKb', '\\nConfigure keybindings for commands that lack them {0}.', keybindingToConfigureQuickPick);\n\t}\n\n\tprivate _configureAssignedKbHint(): string {\n\t\tconst configureKb = this._keybindingService.lookupKeybinding(AccessibilityCommandId.AccessibilityHelpConfigureAssignedKeybindings)?.getAriaLabel();\n\t\tconst keybindingToConfigureQuickPick = configureKb ? '(' + configureKb + ')' : 'by assigning a keybinding to the command Accessibility Help Configure Assigned Keybindings.';\n\t\treturn localize('configureKbAssigned', '\\nConfigure keybindings for commands that already have assignments {0}.', keybindingToConfigureQuickPick);\n\t}\n\n\tprivate _screenReaderModeHint(provider: AccesibleViewContentProvider): string {\n\t\tconst accessibilitySupport = this._accessibilityService.isScreenReaderOptimized();\n\t\tlet screenReaderModeHint = '';\n\t\tconst turnOnMessage = (\n\t\t\tisMacintosh\n\t\t\t\t? AccessibilityHelpNLS.changeConfigToOnMac\n\t\t\t\t: AccessibilityHelpNLS.changeConfigToOnWinLinux\n\t\t);\n\t\tif (accessibilitySupport && provider.id === AccessibleViewProviderId.Editor) {\n\t\t\tscreenReaderModeHint = AccessibilityHelpNLS.auto_on;\n\t\t\tscreenReaderModeHint += '\\n';\n\t\t} else if (!accessibilitySupport) {\n\t\t\tscreenReaderModeHint = AccessibilityHelpNLS.auto_off + '\\n' + turnOnMessage;\n\t\t\tscreenReaderModeHint += '\\n';\n\t\t}\n\t\treturn screenReaderModeHint;\n\t}\n\n\tprivate _exitDialogHint(provider: AccesibleViewContentProvider): string {\n\t\treturn this._verbosityEnabled() && !provider.options.position ? localize('exit', '\\nExit this dialog (Escape).') : '';\n\t}\n\n\tprivate _readMoreHint(provider: AccesibleViewContentProvider): string {\n\t\treturn provider.options.readMoreUrl ? localize(\"openDoc\", \"\\nOpen a browser window with more information related to accessibility{0}.\", `<keybinding:${AccessibilityCommandId.AccessibilityHelpOpenHelpLink}>`) : '';\n\t}\n}\n\nexport class AccessibleViewService extends Disposable implements IAccessibleViewService {\n\tdeclare readonly _serviceBrand: undefined;\n\tprivate _accessibleView: AccessibleView | undefined;\n\n\tconstructor(\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t\t@IKeybindingService private readonly _keybindingService: IKeybindingService\n\t) {\n\t\tsuper();\n\t}\n\n\tshow(provider: AccesibleViewContentProvider, position?: Position): void {\n\t\tif (!this._accessibleView) {\n\t\t\tthis._accessibleView = this._register(this._instantiationService.createInstance(AccessibleView));\n\t\t}\n\t\tthis._accessibleView.show(provider, undefined, undefined, position);\n\t}\n\tconfigureKeybindings(unassigned: boolean): void {\n\t\tthis._accessibleView?.configureKeybindings(unassigned);\n\t}\n\topenHelpLink(): void {\n\t\tthis._accessibleView?.openHelpLink();\n\t}\n\tshowLastProvider(id: AccessibleViewProviderId): void {\n\t\tthis._accessibleView?.showLastProvider(id);\n\t}\n\tnext(): void {\n\t\tthis._accessibleView?.next();\n\t}\n\tprevious(): void {\n\t\tthis._accessibleView?.previous();\n\t}\n\tgoToSymbol(): void {\n\t\tthis._accessibleView?.goToSymbol();\n\t}\n\tgetOpenAriaHint(verbositySettingKey: AccessibilityVerbositySettingId): string | null {\n\t\tif (!this._configurationService.getValue(verbositySettingKey)) {\n\t\t\treturn null;\n\t\t}\n\t\tconst keybinding = this._keybindingService.lookupKeybinding(AccessibilityCommandId.OpenAccessibleView)?.getAriaLabel();\n\t\tlet hint = null;\n\t\tif (keybinding) {\n\t\t\thint = localize('acessibleViewHint', \"Inspect this in the accessible view with {0}\", keybinding);\n\t\t} else {\n\t\t\thint = localize('acessibleViewHintNoKbEither', \"Inspect this in the accessible view via the command Open Accessible View which is currently not triggerable via keybinding.\");\n\t\t}\n\t\treturn hint;\n\t}\n\tdisableHint(): void {\n\t\tthis._accessibleView?.disableHint();\n\t}\n\tshowAccessibleViewHelp(): void {\n\t\tthis._accessibleView?.showAccessibleViewHelp();\n\t}\n\tgetPosition(id: AccessibleViewProviderId): Position | undefined {\n\t\treturn this._accessibleView?.getPosition(id) ?? undefined;\n\t}\n\tgetLastPosition(): Position | undefined {\n\t\tconst lastLine = this._accessibleView?.editorWidget.getModel()?.getLineCount();\n\t\treturn lastLine !== undefined && lastLine > 0 ? new Position(lastLine, 1) : undefined;\n\t}\n\tsetPosition(position: Position, reveal?: boolean, select?: boolean): void {\n\t\tthis._accessibleView?.setPosition(position, reveal, select);\n\t}\n\tgetCodeBlockContext(): ICodeBlockActionContext | undefined {\n\t\treturn this._accessibleView?.getCodeBlockContext();\n\t}\n\tnavigateToCodeBlock(type: 'next' | 'previous'): void {\n\t\tthis._accessibleView?.navigateToCodeBlock(type);\n\t}\n}\n\nclass AccessibleViewSymbolQuickPick {\n\tconstructor(private _accessibleView: AccessibleView, @IQuickInputService private readonly _quickInputService: IQuickInputService) {\n\n\t}\n\tshow(provider: AccesibleViewContentProvider): void {\n\t\tconst disposables = new DisposableStore();\n\t\tconst quickPick = disposables.add(this._quickInputService.createQuickPick<IAccessibleViewSymbol>());\n\t\tquickPick.placeholder = localize('accessibleViewSymbolQuickPickPlaceholder', \"Type to search symbols\");\n\t\tquickPick.title = localize('accessibleViewSymbolQuickPickTitle', \"Go to Symbol Accessible View\");\n\t\tconst picks = [];\n\t\tconst symbols = this._accessibleView.getSymbols();\n\t\tif (!symbols) {\n\t\t\treturn;\n\t\t}\n\t\tfor (const symbol of symbols) {\n\t\t\tpicks.push({\n\t\t\t\tlabel: symbol.label,\n\t\t\t\tariaLabel: symbol.ariaLabel,\n\t\t\t\tfirstListItem: symbol.firstListItem,\n\t\t\t\tlineNumber: symbol.lineNumber,\n\t\t\t\tendLineNumber: symbol.endLineNumber,\n\t\t\t\tmarkdownToParse: symbol.markdownToParse\n\t\t\t});\n\t\t}\n\t\tquickPick.canSelectMany = false;\n\t\tquickPick.items = picks;\n\t\tquickPick.show();\n\t\tdisposables.add(quickPick.onDidAccept(() => {\n\t\t\tthis._accessibleView.showSymbol(provider, quickPick.selectedItems[0]);\n\t\t\tquickPick.hide();\n\t\t}));\n\t\tdisposables.add(quickPick.onDidHide(() => {\n\t\t\tif (quickPick.selectedItems.length === 0) {\n\t\t\t\t// this was escaped, so refocus the accessible view\n\t\t\t\tthis._accessibleView.show(provider);\n\t\t\t}\n\t\t\tdisposables.dispose();\n\t\t}));\n\t}\n}\n\n\nfunction shouldHide(event: KeyboardEvent, keybindingService: IKeybindingService, configurationService: IConfigurationService): boolean {\n\tif (!configurationService.getValue(AccessibilityWorkbenchSettingId.AccessibleViewCloseOnKeyPress)) {\n\t\treturn false;\n\t}\n\tconst standardKeyboardEvent = new StandardKeyboardEvent(event);\n\tconst resolveResult = keybindingService.softDispatch(standardKeyboardEvent, standardKeyboardEvent.target);\n\n\tconst isValidChord = resolveResult.kind === ResultKind.MoreChordsNeeded;\n\tif (keybindingService.inChordMode || isValidChord) {\n\t\treturn false;\n\t}\n\treturn shouldHandleKey(event) && !event.ctrlKey && !event.altKey && !event.metaKey && !event.shiftKey;\n}\n\nfunction shouldHandleKey(event: KeyboardEvent): boolean {\n\treturn !!event.code.match(/^(Key[A-Z]|Digit[0-9]|Equal|Comma|Period|Slash|Quote|Backquote|Backslash|Minus|Semicolon|Space|Enter)$/);\n}\n"]}