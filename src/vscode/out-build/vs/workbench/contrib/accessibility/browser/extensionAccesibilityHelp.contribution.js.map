{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/accessibility/browser/extensionAccesibilityHelp.contribution.ts","vs/workbench/contrib/accessibility/browser/extensionAccesibilityHelp.contribution.ts"],"names":[],"mappings":"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","file":"extensionAccesibilityHelp.contribution.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { DisposableMap, IDisposable, DisposableStore, Disposable } from '../../../../base/common/lifecycle.js';\nimport { ServicesAccessor } from '../../../../editor/browser/editorExtensions.js';\nimport { AccessibleViewType, ExtensionContentProvider } from '../../../../platform/accessibility/browser/accessibleView.js';\nimport { AccessibleViewRegistry } from '../../../../platform/accessibility/browser/accessibleViewRegistry.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { FocusedViewContext } from '../../../common/contextkeys.js';\nimport { IViewsRegistry, Extensions, IViewDescriptor } from '../../../common/views.js';\nimport { IViewsService } from '../../../services/views/common/viewsService.js';\n\nexport class ExtensionAccessibilityHelpDialogContribution extends Disposable {\n\tstatic ID = 'extensionAccessibilityHelpDialogContribution';\n\tprivate _viewHelpDialogMap = this._register(new DisposableMap<string, IDisposable>());\n\tconstructor(@IKeybindingService keybindingService: IKeybindingService) {\n\t\tsuper();\n\t\tthis._register(Registry.as<IViewsRegistry>(Extensions.ViewsRegistry).onViewsRegistered(e => {\n\t\t\tfor (const view of e) {\n\t\t\t\tfor (const viewDescriptor of view.views) {\n\t\t\t\t\tif (viewDescriptor.accessibilityHelpContent) {\n\t\t\t\t\t\tthis._viewHelpDialogMap.set(viewDescriptor.id, registerAccessibilityHelpAction(keybindingService, viewDescriptor));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t\tthis._register(Registry.as<IViewsRegistry>(Extensions.ViewsRegistry).onViewsDeregistered(e => {\n\t\t\tfor (const viewDescriptor of e.views) {\n\t\t\t\tif (viewDescriptor.accessibilityHelpContent) {\n\t\t\t\t\tthis._viewHelpDialogMap.get(viewDescriptor.id)?.dispose();\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t}\n}\n\nfunction registerAccessibilityHelpAction(keybindingService: IKeybindingService, viewDescriptor: IViewDescriptor): IDisposable {\n\tconst disposableStore = new DisposableStore();\n\tconst content = viewDescriptor.accessibilityHelpContent?.value;\n\tif (!content) {\n\t\tthrow new Error('No content provided for the accessibility help dialog');\n\t}\n\tdisposableStore.add(AccessibleViewRegistry.register({\n\t\tpriority: 95,\n\t\tname: viewDescriptor.id,\n\t\ttype: AccessibleViewType.Help,\n\t\twhen: FocusedViewContext.isEqualTo(viewDescriptor.id),\n\t\tgetProvider: (accessor: ServicesAccessor) => {\n\t\t\tconst viewsService = accessor.get(IViewsService);\n\t\t\treturn new ExtensionContentProvider(\n\t\t\t\tviewDescriptor.id,\n\t\t\t\t{ type: AccessibleViewType.Help },\n\t\t\t\t() => content,\n\t\t\t\t() => viewsService.openView(viewDescriptor.id, true),\n\t\t\t);\n\t\t},\n\t}));\n\n\tdisposableStore.add(keybindingService.onDidUpdateKeybindings(() => {\n\t\tdisposableStore.clear();\n\t\tdisposableStore.add(registerAccessibilityHelpAction(keybindingService, viewDescriptor));\n\t}));\n\treturn disposableStore;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { DisposableMap, IDisposable, DisposableStore, Disposable } from '../../../../base/common/lifecycle.js';\nimport { ServicesAccessor } from '../../../../editor/browser/editorExtensions.js';\nimport { AccessibleViewType, ExtensionContentProvider } from '../../../../platform/accessibility/browser/accessibleView.js';\nimport { AccessibleViewRegistry } from '../../../../platform/accessibility/browser/accessibleViewRegistry.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { FocusedViewContext } from '../../../common/contextkeys.js';\nimport { IViewsRegistry, Extensions, IViewDescriptor } from '../../../common/views.js';\nimport { IViewsService } from '../../../services/views/common/viewsService.js';\n\nexport class ExtensionAccessibilityHelpDialogContribution extends Disposable {\n\tstatic ID = 'extensionAccessibilityHelpDialogContribution';\n\tprivate _viewHelpDialogMap = this._register(new DisposableMap<string, IDisposable>());\n\tconstructor(@IKeybindingService keybindingService: IKeybindingService) {\n\t\tsuper();\n\t\tthis._register(Registry.as<IViewsRegistry>(Extensions.ViewsRegistry).onViewsRegistered(e => {\n\t\t\tfor (const view of e) {\n\t\t\t\tfor (const viewDescriptor of view.views) {\n\t\t\t\t\tif (viewDescriptor.accessibilityHelpContent) {\n\t\t\t\t\t\tthis._viewHelpDialogMap.set(viewDescriptor.id, registerAccessibilityHelpAction(keybindingService, viewDescriptor));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t\tthis._register(Registry.as<IViewsRegistry>(Extensions.ViewsRegistry).onViewsDeregistered(e => {\n\t\t\tfor (const viewDescriptor of e.views) {\n\t\t\t\tif (viewDescriptor.accessibilityHelpContent) {\n\t\t\t\t\tthis._viewHelpDialogMap.get(viewDescriptor.id)?.dispose();\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t}\n}\n\nfunction registerAccessibilityHelpAction(keybindingService: IKeybindingService, viewDescriptor: IViewDescriptor): IDisposable {\n\tconst disposableStore = new DisposableStore();\n\tconst content = viewDescriptor.accessibilityHelpContent?.value;\n\tif (!content) {\n\t\tthrow new Error('No content provided for the accessibility help dialog');\n\t}\n\tdisposableStore.add(AccessibleViewRegistry.register({\n\t\tpriority: 95,\n\t\tname: viewDescriptor.id,\n\t\ttype: AccessibleViewType.Help,\n\t\twhen: FocusedViewContext.isEqualTo(viewDescriptor.id),\n\t\tgetProvider: (accessor: ServicesAccessor) => {\n\t\t\tconst viewsService = accessor.get(IViewsService);\n\t\t\treturn new ExtensionContentProvider(\n\t\t\t\tviewDescriptor.id,\n\t\t\t\t{ type: AccessibleViewType.Help },\n\t\t\t\t() => content,\n\t\t\t\t() => viewsService.openView(viewDescriptor.id, true),\n\t\t\t);\n\t\t},\n\t}));\n\n\tdisposableStore.add(keybindingService.onDidUpdateKeybindings(() => {\n\t\tdisposableStore.clear();\n\t\tdisposableStore.add(registerAccessibilityHelpAction(keybindingService, viewDescriptor));\n\t}));\n\treturn disposableStore;\n}\n"]}