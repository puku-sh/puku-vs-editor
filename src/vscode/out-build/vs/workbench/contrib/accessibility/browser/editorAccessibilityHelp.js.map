{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/accessibility/browser/editorAccessibilityHelp.ts","vs/workbench/contrib/accessibility/browser/editorAccessibilityHelp.ts"],"names":[],"mappings":"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","file":"editorAccessibilityHelp.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { ICodeEditor } from '../../../../editor/browser/editorBrowser.js';\nimport { ICodeEditorService } from '../../../../editor/browser/services/codeEditorService.js';\nimport { EditorOption } from '../../../../editor/common/config/editorOptions.js';\nimport { AccessibilityHelpNLS } from '../../../../editor/common/standaloneStrings.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { AccessibilityHelpAction } from './accessibleViewActions.js';\nimport { ChatContextKeys } from '../../chat/common/chatContextKeys.js';\nimport { CommentAccessibilityHelpNLS } from '../../comments/browser/commentsAccessibility.js';\nimport { CommentContextKeys } from '../../comments/common/commentContextKeys.js';\nimport { NEW_UNTITLED_FILE_COMMAND_ID } from '../../files/browser/fileConstants.js';\nimport { IAccessibleViewService, IAccessibleViewContentProvider, AccessibleViewProviderId, IAccessibleViewOptions, AccessibleViewType } from '../../../../platform/accessibility/browser/accessibleView.js';\nimport { AccessibilityVerbositySettingId } from './accessibilityConfiguration.js';\nimport { ctxHasEditorModification, ctxHasRequestInProgress } from '../../chat/browser/chatEditing/chatEditingEditorContextKeys.js';\nimport { IAccessibilityService } from '../../../../platform/accessibility/common/accessibility.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\n\nexport class EditorAccessibilityHelpContribution extends Disposable {\n\tstatic ID: 'editorAccessibilityHelpContribution';\n\tconstructor() {\n\t\tsuper();\n\t\tthis._register(AccessibilityHelpAction.addImplementation(90, 'editor', async accessor => {\n\t\t\tconst codeEditorService = accessor.get(ICodeEditorService);\n\t\t\tconst accessibleViewService = accessor.get(IAccessibleViewService);\n\t\t\tconst instantiationService = accessor.get(IInstantiationService);\n\t\t\tconst commandService = accessor.get(ICommandService);\n\t\t\tlet codeEditor = codeEditorService.getActiveCodeEditor() || codeEditorService.getFocusedCodeEditor();\n\t\t\tif (!codeEditor) {\n\t\t\t\tawait commandService.executeCommand(NEW_UNTITLED_FILE_COMMAND_ID);\n\t\t\t\tcodeEditor = codeEditorService.getActiveCodeEditor()!;\n\t\t\t}\n\t\t\taccessibleViewService.show(instantiationService.createInstance(EditorAccessibilityHelpProvider, codeEditor));\n\t\t}));\n\t}\n}\n\nclass EditorAccessibilityHelpProvider extends Disposable implements IAccessibleViewContentProvider {\n\tid = AccessibleViewProviderId.Editor;\n\tonClose() {\n\t\tthis._editor.focus();\n\t}\n\toptions: IAccessibleViewOptions = { type: AccessibleViewType.Help, readMoreUrl: 'https://go.microsoft.com/fwlink/?linkid=851010' };\n\tverbositySettingKey = AccessibilityVerbositySettingId.Editor;\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\t@IKeybindingService private readonly _keybindingService: IKeybindingService,\n\t\t@IContextKeyService private readonly _contextKeyService: IContextKeyService,\n\t\t@IAccessibilityService private readonly accessibilityService: IAccessibilityService,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t) {\n\t\tsuper();\n\t}\n\n\tprovideContent(): string {\n\t\tconst options = this._editor.getOptions();\n\t\tconst content = [];\n\n\t\tif (options.get(EditorOption.inDiffEditor)) {\n\t\t\tif (options.get(EditorOption.readOnly)) {\n\t\t\t\tcontent.push(AccessibilityHelpNLS.readonlyDiffEditor);\n\t\t\t} else {\n\t\t\t\tcontent.push(AccessibilityHelpNLS.editableDiffEditor);\n\t\t\t}\n\t\t} else {\n\t\t\tif (options.get(EditorOption.readOnly)) {\n\t\t\t\tcontent.push(AccessibilityHelpNLS.readonlyEditor);\n\t\t\t} else {\n\t\t\t\tcontent.push(AccessibilityHelpNLS.editableEditor);\n\t\t\t}\n\t\t}\n\t\tif (this.accessibilityService.isScreenReaderOptimized() && this._configurationService.getValue('accessibility.windowTitleOptimized')) {\n\t\t\tcontent.push(AccessibilityHelpNLS.defaultWindowTitleIncludesEditorState);\n\t\t} else {\n\t\t\tcontent.push(AccessibilityHelpNLS.defaultWindowTitleExcludingEditorState);\n\t\t}\n\t\tcontent.push(AccessibilityHelpNLS.toolbar);\n\n\t\tconst chatEditInfo = getChatEditInfo(this._keybindingService, this._contextKeyService, this._editor);\n\t\tif (chatEditInfo) {\n\t\t\tcontent.push(chatEditInfo);\n\t\t}\n\n\t\tcontent.push(AccessibilityHelpNLS.listSignalSounds);\n\t\tcontent.push(AccessibilityHelpNLS.listAlerts);\n\n\n\t\tconst chatCommandInfo = getChatCommandInfo(this._keybindingService, this._contextKeyService);\n\t\tif (chatCommandInfo) {\n\t\t\tcontent.push(chatCommandInfo);\n\t\t}\n\n\t\tconst commentCommandInfo = getCommentCommandInfo(this._keybindingService, this._contextKeyService, this._editor);\n\t\tif (commentCommandInfo) {\n\t\t\tcontent.push(commentCommandInfo);\n\t\t}\n\n\t\tcontent.push(AccessibilityHelpNLS.suggestActions);\n\t\tcontent.push(AccessibilityHelpNLS.acceptSuggestAction);\n\t\tcontent.push(AccessibilityHelpNLS.toggleSuggestionFocus);\n\n\t\tif (options.get(EditorOption.stickyScroll).enabled) {\n\t\t\tcontent.push(AccessibilityHelpNLS.stickScroll);\n\t\t}\n\n\t\tif (options.get(EditorOption.tabFocusMode)) {\n\t\t\tcontent.push(AccessibilityHelpNLS.tabFocusModeOnMsg);\n\t\t} else {\n\t\t\tcontent.push(AccessibilityHelpNLS.tabFocusModeOffMsg);\n\t\t}\n\t\tcontent.push(AccessibilityHelpNLS.codeFolding);\n\t\tcontent.push(AccessibilityHelpNLS.intellisense);\n\t\tcontent.push(AccessibilityHelpNLS.showOrFocusHover);\n\t\tcontent.push(AccessibilityHelpNLS.goToSymbol);\n\t\tcontent.push(AccessibilityHelpNLS.startDebugging);\n\t\tcontent.push(AccessibilityHelpNLS.setBreakpoint);\n\t\tcontent.push(AccessibilityHelpNLS.debugExecuteSelection);\n\t\tcontent.push(AccessibilityHelpNLS.addToWatch);\n\t\treturn content.join('\\n');\n\t}\n}\n\nexport function getCommentCommandInfo(keybindingService: IKeybindingService, contextKeyService: IContextKeyService, editor: ICodeEditor): string | undefined {\n\tconst editorContext = contextKeyService.getContext(editor.getDomNode()!);\n\tif (editorContext.getValue<boolean>(CommentContextKeys.activeEditorHasCommentingRange.key)) {\n\t\treturn [CommentAccessibilityHelpNLS.intro, CommentAccessibilityHelpNLS.addComment, CommentAccessibilityHelpNLS.nextCommentThread, CommentAccessibilityHelpNLS.previousCommentThread, CommentAccessibilityHelpNLS.nextRange, CommentAccessibilityHelpNLS.previousRange].join('\\n');\n\t}\n\treturn;\n}\n\nexport function getChatCommandInfo(keybindingService: IKeybindingService, contextKeyService: IContextKeyService): string | undefined {\n\tif (ChatContextKeys.enabled.getValue(contextKeyService)) {\n\t\treturn [AccessibilityHelpNLS.quickChat, AccessibilityHelpNLS.startInlineChat].join('\\n');\n\t}\n\treturn;\n}\n\nexport function getChatEditInfo(keybindingService: IKeybindingService, contextKeyService: IContextKeyService, editor: ICodeEditor): string | undefined {\n\tconst editorContext = contextKeyService.getContext(editor.getDomNode()!);\n\tif (editorContext.getValue<boolean>(ctxHasEditorModification.key)) {\n\t\treturn AccessibilityHelpNLS.chatEditorModification + '\\n' + AccessibilityHelpNLS.chatEditActions;\n\t} else if (editorContext.getValue<boolean>(ctxHasRequestInProgress.key)) {\n\t\treturn AccessibilityHelpNLS.chatEditorRequestInProgress;\n\t}\n\treturn;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { ICodeEditor } from '../../../../editor/browser/editorBrowser.js';\nimport { ICodeEditorService } from '../../../../editor/browser/services/codeEditorService.js';\nimport { EditorOption } from '../../../../editor/common/config/editorOptions.js';\nimport { AccessibilityHelpNLS } from '../../../../editor/common/standaloneStrings.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { AccessibilityHelpAction } from './accessibleViewActions.js';\nimport { ChatContextKeys } from '../../chat/common/chatContextKeys.js';\nimport { CommentAccessibilityHelpNLS } from '../../comments/browser/commentsAccessibility.js';\nimport { CommentContextKeys } from '../../comments/common/commentContextKeys.js';\nimport { NEW_UNTITLED_FILE_COMMAND_ID } from '../../files/browser/fileConstants.js';\nimport { IAccessibleViewService, IAccessibleViewContentProvider, AccessibleViewProviderId, IAccessibleViewOptions, AccessibleViewType } from '../../../../platform/accessibility/browser/accessibleView.js';\nimport { AccessibilityVerbositySettingId } from './accessibilityConfiguration.js';\nimport { ctxHasEditorModification, ctxHasRequestInProgress } from '../../chat/browser/chatEditing/chatEditingEditorContextKeys.js';\nimport { IAccessibilityService } from '../../../../platform/accessibility/common/accessibility.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\n\nexport class EditorAccessibilityHelpContribution extends Disposable {\n\tstatic ID: 'editorAccessibilityHelpContribution';\n\tconstructor() {\n\t\tsuper();\n\t\tthis._register(AccessibilityHelpAction.addImplementation(90, 'editor', async accessor => {\n\t\t\tconst codeEditorService = accessor.get(ICodeEditorService);\n\t\t\tconst accessibleViewService = accessor.get(IAccessibleViewService);\n\t\t\tconst instantiationService = accessor.get(IInstantiationService);\n\t\t\tconst commandService = accessor.get(ICommandService);\n\t\t\tlet codeEditor = codeEditorService.getActiveCodeEditor() || codeEditorService.getFocusedCodeEditor();\n\t\t\tif (!codeEditor) {\n\t\t\t\tawait commandService.executeCommand(NEW_UNTITLED_FILE_COMMAND_ID);\n\t\t\t\tcodeEditor = codeEditorService.getActiveCodeEditor()!;\n\t\t\t}\n\t\t\taccessibleViewService.show(instantiationService.createInstance(EditorAccessibilityHelpProvider, codeEditor));\n\t\t}));\n\t}\n}\n\nclass EditorAccessibilityHelpProvider extends Disposable implements IAccessibleViewContentProvider {\n\tid = AccessibleViewProviderId.Editor;\n\tonClose() {\n\t\tthis._editor.focus();\n\t}\n\toptions: IAccessibleViewOptions = { type: AccessibleViewType.Help, readMoreUrl: 'https://go.microsoft.com/fwlink/?linkid=851010' };\n\tverbositySettingKey = AccessibilityVerbositySettingId.Editor;\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\t@IKeybindingService private readonly _keybindingService: IKeybindingService,\n\t\t@IContextKeyService private readonly _contextKeyService: IContextKeyService,\n\t\t@IAccessibilityService private readonly accessibilityService: IAccessibilityService,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t) {\n\t\tsuper();\n\t}\n\n\tprovideContent(): string {\n\t\tconst options = this._editor.getOptions();\n\t\tconst content = [];\n\n\t\tif (options.get(EditorOption.inDiffEditor)) {\n\t\t\tif (options.get(EditorOption.readOnly)) {\n\t\t\t\tcontent.push(AccessibilityHelpNLS.readonlyDiffEditor);\n\t\t\t} else {\n\t\t\t\tcontent.push(AccessibilityHelpNLS.editableDiffEditor);\n\t\t\t}\n\t\t} else {\n\t\t\tif (options.get(EditorOption.readOnly)) {\n\t\t\t\tcontent.push(AccessibilityHelpNLS.readonlyEditor);\n\t\t\t} else {\n\t\t\t\tcontent.push(AccessibilityHelpNLS.editableEditor);\n\t\t\t}\n\t\t}\n\t\tif (this.accessibilityService.isScreenReaderOptimized() && this._configurationService.getValue('accessibility.windowTitleOptimized')) {\n\t\t\tcontent.push(AccessibilityHelpNLS.defaultWindowTitleIncludesEditorState);\n\t\t} else {\n\t\t\tcontent.push(AccessibilityHelpNLS.defaultWindowTitleExcludingEditorState);\n\t\t}\n\t\tcontent.push(AccessibilityHelpNLS.toolbar);\n\n\t\tconst chatEditInfo = getChatEditInfo(this._keybindingService, this._contextKeyService, this._editor);\n\t\tif (chatEditInfo) {\n\t\t\tcontent.push(chatEditInfo);\n\t\t}\n\n\t\tcontent.push(AccessibilityHelpNLS.listSignalSounds);\n\t\tcontent.push(AccessibilityHelpNLS.listAlerts);\n\n\n\t\tconst chatCommandInfo = getChatCommandInfo(this._keybindingService, this._contextKeyService);\n\t\tif (chatCommandInfo) {\n\t\t\tcontent.push(chatCommandInfo);\n\t\t}\n\n\t\tconst commentCommandInfo = getCommentCommandInfo(this._keybindingService, this._contextKeyService, this._editor);\n\t\tif (commentCommandInfo) {\n\t\t\tcontent.push(commentCommandInfo);\n\t\t}\n\n\t\tcontent.push(AccessibilityHelpNLS.suggestActions);\n\t\tcontent.push(AccessibilityHelpNLS.acceptSuggestAction);\n\t\tcontent.push(AccessibilityHelpNLS.toggleSuggestionFocus);\n\n\t\tif (options.get(EditorOption.stickyScroll).enabled) {\n\t\t\tcontent.push(AccessibilityHelpNLS.stickScroll);\n\t\t}\n\n\t\tif (options.get(EditorOption.tabFocusMode)) {\n\t\t\tcontent.push(AccessibilityHelpNLS.tabFocusModeOnMsg);\n\t\t} else {\n\t\t\tcontent.push(AccessibilityHelpNLS.tabFocusModeOffMsg);\n\t\t}\n\t\tcontent.push(AccessibilityHelpNLS.codeFolding);\n\t\tcontent.push(AccessibilityHelpNLS.intellisense);\n\t\tcontent.push(AccessibilityHelpNLS.showOrFocusHover);\n\t\tcontent.push(AccessibilityHelpNLS.goToSymbol);\n\t\tcontent.push(AccessibilityHelpNLS.startDebugging);\n\t\tcontent.push(AccessibilityHelpNLS.setBreakpoint);\n\t\tcontent.push(AccessibilityHelpNLS.debugExecuteSelection);\n\t\tcontent.push(AccessibilityHelpNLS.addToWatch);\n\t\treturn content.join('\\n');\n\t}\n}\n\nexport function getCommentCommandInfo(keybindingService: IKeybindingService, contextKeyService: IContextKeyService, editor: ICodeEditor): string | undefined {\n\tconst editorContext = contextKeyService.getContext(editor.getDomNode()!);\n\tif (editorContext.getValue<boolean>(CommentContextKeys.activeEditorHasCommentingRange.key)) {\n\t\treturn [CommentAccessibilityHelpNLS.intro, CommentAccessibilityHelpNLS.addComment, CommentAccessibilityHelpNLS.nextCommentThread, CommentAccessibilityHelpNLS.previousCommentThread, CommentAccessibilityHelpNLS.nextRange, CommentAccessibilityHelpNLS.previousRange].join('\\n');\n\t}\n\treturn;\n}\n\nexport function getChatCommandInfo(keybindingService: IKeybindingService, contextKeyService: IContextKeyService): string | undefined {\n\tif (ChatContextKeys.enabled.getValue(contextKeyService)) {\n\t\treturn [AccessibilityHelpNLS.quickChat, AccessibilityHelpNLS.startInlineChat].join('\\n');\n\t}\n\treturn;\n}\n\nexport function getChatEditInfo(keybindingService: IKeybindingService, contextKeyService: IContextKeyService, editor: ICodeEditor): string | undefined {\n\tconst editorContext = contextKeyService.getContext(editor.getDomNode()!);\n\tif (editorContext.getValue<boolean>(ctxHasEditorModification.key)) {\n\t\treturn AccessibilityHelpNLS.chatEditorModification + '\\n' + AccessibilityHelpNLS.chatEditActions;\n\t} else if (editorContext.getValue<boolean>(ctxHasRequestInProgress.key)) {\n\t\treturn AccessibilityHelpNLS.chatEditorRequestInProgress;\n\t}\n\treturn;\n}\n"]}