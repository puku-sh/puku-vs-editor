{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/terminalContrib/autoReplies/browser/terminal.autoReplies.contribution.ts","vs/workbench/contrib/terminalContrib/autoReplies/browser/terminal.autoReplies.contribution.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;AAEhG,OAAO,EAAE,UAAU,EAAE,MAAM,yCAAyC,CAAC;AACrE,OAAO,EAAE,qBAAqB,EAAE,MAAM,+DAA+D,CAAC;AAEtG,OAAO,EAAE,8BAA8B,EAA+C,MAAM,qCAAqC,CAAC;AAClI,OAAO,EAAE,wBAAwB,EAAE,MAAM,uCAAuC,CAAC;AACjF,OAAO,EAAE,uBAAuB,EAAE,MAAM,sCAAsC,CAAC;AAG/E,kCAAkC;AAE3B,IAAM,+BAA+B,GAArC,MAAM,+BAAgC,SAAQ,UAAU;aACvD,OAAE,GAAG,qBAAH,AAAwB,CAAC;IAElC,YACyC,qBAA4C,EAC1D,uBAAiD;QAE3E,KAAK,EAAE,CAAC;QAHgC,0BAAqB,GAArB,qBAAqB,CAAuB;QAKpF,KAAK,MAAM,OAAO,IAAI,uBAAuB,CAAC,qBAAqB,EAAE,EAAE,CAAC;YACvE,IAAI,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC;QAC1C,CAAC;QACD,IAAI,CAAC,SAAS,CAAC,uBAAuB,CAAC,oBAAoB,CAAC,KAAK,EAAC,CAAC,EAAC,EAAE,CAAC,IAAI,CAAC,0BAA0B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7G,CAAC;IAEO,0BAA0B,CAAC,OAAyB;QAC3D,4BAA4B;QAC5B,MAAM,aAAa,GAAG,IAAI,CAAC,qBAAqB,CAAC,QAAQ,CAAoC,uBAAuB,CAAC,CAAC;QACtH,KAAK,MAAM,KAAK,IAAI,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,EAAE,CAAC;YAC5D,4BAA4B;YAC5B,MAAM,KAAK,GAAG,aAAa,CAAC,WAAW,CAAC,KAAK,CAAkB,CAAC;YAChE,IAAI,KAAK,EAAE,CAAC;gBACX,OAAO,CAAC,gBAAgB,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;YACxC,CAAC;QACF,CAAC;QAED,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,qBAAqB,CAAC,wBAAwB,CAAC,KAAK,EAAC,CAAC,EAAC,EAAE;YAC5E,IAAI,CAAC,CAAC,oBAAoB,kFAA0C,EAAE,CAAC;gBACtE,OAAO,CAAC,uBAAuB,EAAE,CAAC;gBAClC,MAAM,MAAM,GAAG,IAAI,CAAC,qBAAqB,CAAC,QAAQ,CAAoC,uBAAuB,CAAC,CAAC;gBAC/G,KAAK,MAAM,KAAK,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE,CAAC;oBACrD,4BAA4B;oBAC5B,MAAM,KAAK,GAAG,MAAM,CAAC,WAAW,CAAC,KAAK,CAAkB,CAAC;oBACzD,IAAI,KAAK,EAAE,CAAC;wBACX,OAAO,CAAC,gBAAgB,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;oBACxC,CAAC;gBACF,CAAC;YACF,CAAC;QACF,CAAC,CAAC,CAAC,CAAC;IACL,CAAC;;AAvCW,+BAA+B;IAIzC,WAAA,qBAAqB,CAAA;IACrB,WAAA,wBAAwB,CAAA;GALd,+BAA+B,CAwC3C;;AAED,8BAA8B,CAAC,+BAA+B,CAAC,EAAE,EAAE,+BAA+B,uCAA+B,CAAC;AAElI,2BAA2B","file":"terminal.autoReplies.contribution.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { type ITerminalBackend } from '../../../../../platform/terminal/common/terminal.js';\nimport { registerWorkbenchContribution2, WorkbenchPhase, type IWorkbenchContribution } from '../../../../common/contributions.js';\nimport { ITerminalInstanceService } from '../../../terminal/browser/terminal.js';\nimport { TERMINAL_CONFIG_SECTION } from '../../../terminal/common/terminal.js';\nimport { TerminalAutoRepliesSettingId, type ITerminalAutoRepliesConfiguration } from '../common/terminalAutoRepliesConfiguration.js';\n\n// #region Workbench contributions\n\nexport class TerminalAutoRepliesContribution extends Disposable implements IWorkbenchContribution {\n\tstatic ID = 'terminalAutoReplies';\n\n\tconstructor(\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t\t@ITerminalInstanceService terminalInstanceService: ITerminalInstanceService,\n\t) {\n\t\tsuper();\n\n\t\tfor (const backend of terminalInstanceService.getRegisteredBackends()) {\n\t\t\tthis._installListenersOnBackend(backend);\n\t\t}\n\t\tthis._register(terminalInstanceService.onDidRegisterBackend(async e => this._installListenersOnBackend(e)));\n\t}\n\n\tprivate _installListenersOnBackend(backend: ITerminalBackend): void {\n\t\t// Listen for config changes\n\t\tconst initialConfig = this._configurationService.getValue<ITerminalAutoRepliesConfiguration>(TERMINAL_CONFIG_SECTION);\n\t\tfor (const match of Object.keys(initialConfig.autoReplies)) {\n\t\t\t// Ensure the reply is valid\n\t\t\tconst reply = initialConfig.autoReplies[match] as string | null;\n\t\t\tif (reply) {\n\t\t\t\tbackend.installAutoReply(match, reply);\n\t\t\t}\n\t\t}\n\n\t\tthis._register(this._configurationService.onDidChangeConfiguration(async e => {\n\t\t\tif (e.affectsConfiguration(TerminalAutoRepliesSettingId.AutoReplies)) {\n\t\t\t\tbackend.uninstallAllAutoReplies();\n\t\t\t\tconst config = this._configurationService.getValue<ITerminalAutoRepliesConfiguration>(TERMINAL_CONFIG_SECTION);\n\t\t\t\tfor (const match of Object.keys(config.autoReplies)) {\n\t\t\t\t\t// Ensure the reply is valid\n\t\t\t\t\tconst reply = config.autoReplies[match] as string | null;\n\t\t\t\t\tif (reply) {\n\t\t\t\t\t\tbackend.installAutoReply(match, reply);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t}\n}\n\nregisterWorkbenchContribution2(TerminalAutoRepliesContribution.ID, TerminalAutoRepliesContribution, WorkbenchPhase.AfterRestored);\n\n// #endregion Contributions\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { type ITerminalBackend } from '../../../../../platform/terminal/common/terminal.js';\nimport { registerWorkbenchContribution2, WorkbenchPhase, type IWorkbenchContribution } from '../../../../common/contributions.js';\nimport { ITerminalInstanceService } from '../../../terminal/browser/terminal.js';\nimport { TERMINAL_CONFIG_SECTION } from '../../../terminal/common/terminal.js';\nimport { TerminalAutoRepliesSettingId, type ITerminalAutoRepliesConfiguration } from '../common/terminalAutoRepliesConfiguration.js';\n\n// #region Workbench contributions\n\nexport class TerminalAutoRepliesContribution extends Disposable implements IWorkbenchContribution {\n\tstatic ID = 'terminalAutoReplies';\n\n\tconstructor(\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t\t@ITerminalInstanceService terminalInstanceService: ITerminalInstanceService,\n\t) {\n\t\tsuper();\n\n\t\tfor (const backend of terminalInstanceService.getRegisteredBackends()) {\n\t\t\tthis._installListenersOnBackend(backend);\n\t\t}\n\t\tthis._register(terminalInstanceService.onDidRegisterBackend(async e => this._installListenersOnBackend(e)));\n\t}\n\n\tprivate _installListenersOnBackend(backend: ITerminalBackend): void {\n\t\t// Listen for config changes\n\t\tconst initialConfig = this._configurationService.getValue<ITerminalAutoRepliesConfiguration>(TERMINAL_CONFIG_SECTION);\n\t\tfor (const match of Object.keys(initialConfig.autoReplies)) {\n\t\t\t// Ensure the reply is valid\n\t\t\tconst reply = initialConfig.autoReplies[match] as string | null;\n\t\t\tif (reply) {\n\t\t\t\tbackend.installAutoReply(match, reply);\n\t\t\t}\n\t\t}\n\n\t\tthis._register(this._configurationService.onDidChangeConfiguration(async e => {\n\t\t\tif (e.affectsConfiguration(TerminalAutoRepliesSettingId.AutoReplies)) {\n\t\t\t\tbackend.uninstallAllAutoReplies();\n\t\t\t\tconst config = this._configurationService.getValue<ITerminalAutoRepliesConfiguration>(TERMINAL_CONFIG_SECTION);\n\t\t\t\tfor (const match of Object.keys(config.autoReplies)) {\n\t\t\t\t\t// Ensure the reply is valid\n\t\t\t\t\tconst reply = config.autoReplies[match] as string | null;\n\t\t\t\t\tif (reply) {\n\t\t\t\t\t\tbackend.installAutoReply(match, reply);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t}\n}\n\nregisterWorkbenchContribution2(TerminalAutoRepliesContribution.ID, TerminalAutoRepliesContribution, WorkbenchPhase.AfterRestored);\n\n// #endregion Contributions\n"]}