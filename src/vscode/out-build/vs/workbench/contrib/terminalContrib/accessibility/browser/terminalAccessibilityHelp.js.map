{"version":3,"sources":["vs/workbench/contrib/terminalContrib/accessibility/browser/terminalAccessibilityHelp.ts"],"names":[],"mappings":"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","file":"terminalAccessibilityHelp.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { localize } from '../../../../../nls.js';\nimport { ICommandService } from '../../../../../platform/commands/common/commands.js';\nimport { ContextKeyExpr, IContextKeyService } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { ShellIntegrationStatus, TerminalSettingId, WindowsShellType } from '../../../../../platform/terminal/common/terminal.js';\nimport { AccessibilityCommandId } from '../../../accessibility/common/accessibilityCommands.js';\nimport { ITerminalInstance, IXtermTerminal } from '../../../terminal/browser/terminal.js';\nimport { TerminalCommandId } from '../../../terminal/common/terminal.js';\nimport type { Terminal } from '@xterm/xterm';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { TerminalAccessibilitySettingId } from '../common/terminalAccessibilityConfiguration.js';\nimport { TerminalAccessibilityCommandId } from '../common/terminal.accessibility.js';\nimport { TerminalLinksCommandId } from '../../links/common/terminal.links.js';\nimport { IAccessibleViewContentProvider, AccessibleViewProviderId, IAccessibleViewOptions, AccessibleViewType } from '../../../../../platform/accessibility/browser/accessibleView.js';\nimport { accessibleViewIsShown, accessibleViewCurrentProviderId, AccessibilityVerbositySettingId } from '../../../accessibility/browser/accessibilityConfiguration.js';\nimport { TerminalHistoryCommandId } from '../../history/common/terminal.history.js';\nimport { TerminalSuggestCommandId } from '../../suggest/common/terminal.suggest.js';\nimport { TerminalSuggestSettingId } from '../../suggest/common/terminalSuggestConfiguration.js';\n\nexport const enum ClassName {\n\tActive = 'active',\n\tEditorTextArea = 'textarea'\n}\n\nexport class TerminalAccessibilityHelpProvider extends Disposable implements IAccessibleViewContentProvider {\n\tid = AccessibleViewProviderId.TerminalHelp;\n\tprivate readonly _hasShellIntegration: boolean = false;\n\tonClose() {\n\t\tconst expr = ContextKeyExpr.and(accessibleViewIsShown, ContextKeyExpr.equals(accessibleViewCurrentProviderId.key, AccessibleViewProviderId.TerminalHelp));\n\t\tif (expr?.evaluate(this._contextKeyService.getContext(null))) {\n\t\t\tthis._commandService.executeCommand(TerminalAccessibilityCommandId.FocusAccessibleBuffer);\n\t\t} else {\n\t\t\tthis._instance.focus();\n\t\t}\n\t\tthis.dispose();\n\t}\n\toptions: IAccessibleViewOptions = {\n\t\ttype: AccessibleViewType.Help,\n\t\treadMoreUrl: 'https://code.visualstudio.com/docs/editor/accessibility#_terminal-accessibility'\n\t};\n\tverbositySettingKey = AccessibilityVerbositySettingId.Terminal;\n\n\tconstructor(\n\t\tprivate readonly _instance: Pick<ITerminalInstance, 'shellType' | 'capabilities' | 'onDidRequestFocus' | 'resource' | 'focus'>,\n\t\t_xterm: Pick<IXtermTerminal, 'getFont' | 'shellIntegration'> & { raw: Terminal },\n\t\t@ICommandService private readonly _commandService: ICommandService,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t\t@IContextKeyService private readonly _contextKeyService: IContextKeyService,\n\t) {\n\t\tsuper();\n\t\tthis._hasShellIntegration = _xterm.shellIntegration.status === ShellIntegrationStatus.VSCode;\n\t}\n\tprovideContent(): string {\n\t\tconst content = [\n\t\t\tlocalize('focusAccessibleTerminalView', 'The Focus Accessible Terminal View command<keybinding:{0}> enables screen readers to read terminal contents.', TerminalAccessibilityCommandId.FocusAccessibleBuffer),\n\t\t\tlocalize('preserveCursor', 'Customize the behavior of the cursor when toggling between the terminal and accessible view with `terminal.integrated.accessibleViewPreserveCursorPosition.`'),\n\t\t\tlocalize('openDetectedLink', 'The Open Detected Link command<keybinding:{0}> enables screen readers to easily open links found in the terminal.', TerminalLinksCommandId.OpenDetectedLink),\n\t\t\tlocalize('newWithProfile', 'The Create New Terminal (With Profile) command<keybinding:{0}> allows for easy terminal creation using a specific profile.', TerminalCommandId.NewWithProfile),\n\t\t\tlocalize('focusAfterRun', 'Configure what gets focused after running selected text in the terminal with `{0}`.', TerminalSettingId.FocusAfterRun),\n\t\t];\n\n\t\tif (!this._configurationService.getValue(TerminalAccessibilitySettingId.AccessibleViewFocusOnCommandExecution)) {\n\t\t\tcontent.push(localize('focusViewOnExecution', 'Enable `terminal.integrated.accessibleViewFocusOnCommandExecution` to automatically focus the terminal accessible view when a command is executed in the terminal.'));\n\t\t}\n\n\t\tif (this._configurationService.getValue(TerminalSuggestSettingId.Enabled)) {\n\t\t\tcontent.push(localize('suggestTrigger', 'The terminal request completions command can be invoked manually<keybinding:{0}>, but also appears while typing.', TerminalSuggestCommandId.TriggerSuggest));\n\t\t\tcontent.push(localize('suggest', 'When the terminal suggest widget is focused:'));\n\t\t\tcontent.push(localize('suggestCommands', '- Accept the suggestion<keybinding:{0}> and configure suggest settings<keybinding:{1}>.', TerminalSuggestCommandId.AcceptSelectedSuggestion, TerminalSuggestCommandId.ConfigureSettings));\n\t\t\tcontent.push(localize('suggestCommandsMore', '- Toggle between the widget and terminal<keybinding:{0}> and toggle details focus<keybinding:{1}> to learn more about the suggestion.', TerminalSuggestCommandId.ToggleDetails, TerminalSuggestCommandId.ToggleDetailsFocus));\n\t\t\tcontent.push(localize('suggestLearnMore', '- Learn more about the suggestion<keybinding:{0}>.', TerminalSuggestCommandId.LearnMore));\n\t\t\tcontent.push(localize('suggestConfigure', '-Configure suggest settings<keybinding:{0}> ', TerminalSuggestCommandId.ConfigureSettings));\n\t\t}\n\n\t\tif (this._instance.shellType === WindowsShellType.CommandPrompt) {\n\t\t\tcontent.push(localize('commandPromptMigration', \"Consider using powershell instead of command prompt for an improved experience\"));\n\t\t}\n\n\t\tif (this._hasShellIntegration) {\n\t\t\tcontent.push(localize('shellIntegration', \"The terminal has a feature called shell integration that offers an enhanced experience and provides useful commands for screen readers such as:\"));\n\t\t\tcontent.push('- ' + localize('goToNextCommand', 'Go to Next Command<keybinding:{0}> in the accessible view', TerminalAccessibilityCommandId.AccessibleBufferGoToNextCommand));\n\t\t\tcontent.push('- ' + localize('goToPreviousCommand', 'Go to Previous Command<keybinding:{0}> in the accessible view', TerminalAccessibilityCommandId.AccessibleBufferGoToPreviousCommand));\n\t\t\tcontent.push('- ' + localize('goToSymbol', 'Go to Symbol<keybinding:{0}>', AccessibilityCommandId.GoToSymbol));\n\t\t\tcontent.push('- ' + localize('runRecentCommand', 'Run Recent Command<keybinding:{0}>', TerminalHistoryCommandId.RunRecentCommand));\n\t\t\tcontent.push('- ' + localize('goToRecentDirectory', 'Go to Recent Directory<keybinding:{0}>', TerminalHistoryCommandId.GoToRecentDirectory));\n\t\t} else {\n\t\t\tcontent.push(localize('noShellIntegration', 'Shell integration is not enabled. Some accessibility features may not be available.'));\n\t\t}\n\n\t\treturn content.join('\\n');\n\t}\n}\n"]}