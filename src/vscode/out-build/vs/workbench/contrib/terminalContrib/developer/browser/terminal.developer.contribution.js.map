{"version":3,"sources":["vs/workbench/contrib/terminalContrib/developer/browser/terminal.developer.contribution.ts"],"names":[],"mappings":"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","file":"terminal.developer.contribution.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type { Terminal } from '@xterm/xterm';\nimport { Delayer } from '../../../../../base/common/async.js';\nimport { VSBuffer } from '../../../../../base/common/buffer.js';\nimport { Event } from '../../../../../base/common/event.js';\nimport { Disposable, DisposableMap, DisposableStore, IDisposable, MutableDisposable, combinedDisposable, dispose } from '../../../../../base/common/lifecycle.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { localize, localize2 } from '../../../../../nls.js';\nimport { Categories } from '../../../../../platform/action/common/actionCommonCategories.js';\nimport { IClipboardService } from '../../../../../platform/clipboard/common/clipboardService.js';\nimport { ICommandService } from '../../../../../platform/commands/common/commands.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { ContextKeyExpr } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { IFileService } from '../../../../../platform/files/common/files.js';\nimport { IOpenerService } from '../../../../../platform/opener/common/opener.js';\nimport { IQuickInputService } from '../../../../../platform/quickinput/common/quickInput.js';\nimport { ITerminalCommand, TerminalCapability } from '../../../../../platform/terminal/common/capabilities/capabilities.js';\nimport { ITerminalLogService, TerminalSettingId } from '../../../../../platform/terminal/common/terminal.js';\nimport { IWorkspaceContextService } from '../../../../../platform/workspace/common/workspace.js';\nimport { IStatusbarService, StatusbarAlignment, type IStatusbarEntry } from '../../../../services/statusbar/browser/statusbar.js';\nimport { IInternalXtermTerminal, ITerminalContribution, ITerminalInstance, IXtermTerminal } from '../../../terminal/browser/terminal.js';\nimport { registerTerminalAction } from '../../../terminal/browser/terminalActions.js';\nimport { registerTerminalContribution, type ITerminalContributionContext } from '../../../terminal/browser/terminalExtensions.js';\nimport { TerminalContextKeys } from '../../../terminal/common/terminalContextKey.js';\nimport { TerminalDeveloperCommandId } from '../common/terminal.developer.js';\nimport './media/developer.css';\n\nregisterTerminalAction({\n\tid: TerminalDeveloperCommandId.ShowTextureAtlas,\n\ttitle: localize2('workbench.action.terminal.showTextureAtlas', 'Show Terminal Texture Atlas'),\n\tcategory: Categories.Developer,\n\tprecondition: ContextKeyExpr.or(TerminalContextKeys.isOpen),\n\trun: async (c, accessor) => {\n\t\tconst fileService = accessor.get(IFileService);\n\t\tconst openerService = accessor.get(IOpenerService);\n\t\tconst workspaceContextService = accessor.get(IWorkspaceContextService);\n\t\tconst bitmap = await c.service.activeInstance?.xterm?.textureAtlas;\n\t\tif (!bitmap) {\n\t\t\treturn;\n\t\t}\n\t\tconst cwdUri = workspaceContextService.getWorkspace().folders[0].uri;\n\t\tconst fileUri = URI.joinPath(cwdUri, 'textureAtlas.png');\n\t\tconst canvas = document.createElement('canvas');\n\t\tcanvas.width = bitmap.width;\n\t\tcanvas.height = bitmap.height;\n\t\tconst ctx = canvas.getContext('bitmaprenderer');\n\t\tif (!ctx) {\n\t\t\treturn;\n\t\t}\n\t\tctx.transferFromImageBitmap(bitmap);\n\t\tconst blob = await new Promise<Blob | null>((res) => canvas.toBlob(res));\n\t\tif (!blob) {\n\t\t\treturn;\n\t\t}\n\t\tawait fileService.writeFile(fileUri, VSBuffer.wrap(new Uint8Array(await blob.arrayBuffer())));\n\t\topenerService.open(fileUri);\n\t}\n});\n\nregisterTerminalAction({\n\tid: TerminalDeveloperCommandId.WriteDataToTerminal,\n\ttitle: localize2('workbench.action.terminal.writeDataToTerminal', 'Write Data to Terminal'),\n\tcategory: Categories.Developer,\n\trun: async (c, accessor) => {\n\t\tconst quickInputService = accessor.get(IQuickInputService);\n\t\tconst instance = await c.service.getActiveOrCreateInstance();\n\t\tawait c.service.revealActiveTerminal();\n\t\tawait instance.processReady;\n\t\tif (!instance.xterm) {\n\t\t\tthrow new Error('Cannot write data to terminal if xterm isn\\'t initialized');\n\t\t}\n\t\tconst data = await quickInputService.input({\n\t\t\tvalue: '',\n\t\t\tplaceHolder: 'Enter data (supports \\\\n, \\\\r, \\\\xAB)',\n\t\t\tprompt: localize('workbench.action.terminal.writeDataToTerminal.prompt', \"Enter data to write directly to the terminal, bypassing the pty\"),\n\t\t});\n\t\tif (!data) {\n\t\t\treturn;\n\t\t}\n\t\tlet escapedData = data\n\t\t\t.replace(/\\\\n/g, '\\n')\n\t\t\t.replace(/\\\\r/g, '\\r');\n\t\twhile (true) {\n\t\t\tconst match = escapedData.match(/\\\\x([0-9a-fA-F]{2})/);\n\t\t\tif (match === null || match.index === undefined || match.length < 2) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tescapedData = escapedData.slice(0, match.index) + String.fromCharCode(parseInt(match[1], 16)) + escapedData.slice(match.index + 4);\n\t\t}\n\t\tconst xterm = instance.xterm as IInternalXtermTerminal;\n\t\txterm._writeText(escapedData);\n\t}\n});\n\nregisterTerminalAction({\n\tid: TerminalDeveloperCommandId.RecordSession,\n\ttitle: localize2('workbench.action.terminal.recordSession', 'Record Terminal Session'),\n\tcategory: Categories.Developer,\n\trun: async (c, accessor) => {\n\t\tconst clipboardService = accessor.get(IClipboardService);\n\t\tconst commandService = accessor.get(ICommandService);\n\t\tconst statusbarService = accessor.get(IStatusbarService);\n\t\tconst store = new DisposableStore();\n\n\t\t// Set up status bar entry\n\t\tconst text = localize('workbench.action.terminal.recordSession.recording', \"Recording terminal session...\");\n\t\tconst statusbarEntry: IStatusbarEntry = {\n\t\t\ttext,\n\t\t\tname: text,\n\t\t\tariaLabel: text,\n\t\t\tshowProgress: true\n\t\t};\n\t\tconst statusbarHandle = statusbarService.addEntry(statusbarEntry, 'recordSession', StatusbarAlignment.LEFT);\n\t\tstore.add(statusbarHandle);\n\n\t\t// Create, reveal and focus instance\n\t\tconst instance = await c.service.createTerminal();\n\t\tc.service.setActiveInstance(instance);\n\t\tawait c.service.revealActiveTerminal();\n\t\tawait Promise.all([\n\t\t\tinstance.processReady,\n\t\t\tinstance.focusWhenReady(true)\n\t\t]);\n\n\t\t// Record session\n\t\treturn new Promise<void>(resolve => {\n\t\t\tconst events: unknown[] = [];\n\t\t\tconst endRecording = () => {\n\t\t\t\tconst session = JSON.stringify(events, null, 2);\n\t\t\t\tclipboardService.writeText(session);\n\t\t\t\tstore.dispose();\n\t\t\t\tresolve();\n\t\t\t};\n\n\n\t\t\tconst timer = store.add(new Delayer(5000));\n\t\t\tstore.add(Event.runAndSubscribe(instance.onDimensionsChanged, () => {\n\t\t\t\tevents.push({\n\t\t\t\t\ttype: 'resize',\n\t\t\t\t\tcols: instance.cols,\n\t\t\t\t\trows: instance.rows\n\t\t\t\t});\n\t\t\t\ttimer.trigger(endRecording);\n\t\t\t}));\n\t\t\tstore.add(commandService.onWillExecuteCommand(e => {\n\t\t\t\tevents.push({\n\t\t\t\t\ttype: 'command',\n\t\t\t\t\tid: e.commandId,\n\t\t\t\t});\n\t\t\t\ttimer.trigger(endRecording);\n\t\t\t}));\n\t\t\tstore.add(instance.onWillData(data => {\n\t\t\t\tevents.push({\n\t\t\t\t\ttype: 'output',\n\t\t\t\t\tdata,\n\t\t\t\t});\n\t\t\t\ttimer.trigger(endRecording);\n\t\t\t}));\n\t\t\tstore.add(instance.onDidSendText(data => {\n\t\t\t\tevents.push({\n\t\t\t\t\ttype: 'sendText',\n\t\t\t\t\tdata,\n\t\t\t\t});\n\t\t\t\ttimer.trigger(endRecording);\n\t\t\t}));\n\t\t\tstore.add(instance.xterm!.raw.onData(data => {\n\t\t\t\tevents.push({\n\t\t\t\t\ttype: 'input',\n\t\t\t\t\tdata,\n\t\t\t\t});\n\t\t\t\ttimer.trigger(endRecording);\n\t\t\t}));\n\t\t\tlet commandDetectedRegistered = false;\n\t\t\tstore.add(Event.runAndSubscribe(instance.capabilities.onDidAddCapability, e => {\n\t\t\t\tif (commandDetectedRegistered) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst commandDetection = instance.capabilities.get(TerminalCapability.CommandDetection);\n\t\t\t\tif (!commandDetection) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tstore.add(commandDetection.promptInputModel.onDidChangeInput(e => {\n\t\t\t\t\tevents.push({\n\t\t\t\t\t\ttype: 'promptInputChange',\n\t\t\t\t\t\tdata: commandDetection.promptInputModel.getCombinedString(),\n\t\t\t\t\t});\n\t\t\t\t\ttimer.trigger(endRecording);\n\t\t\t\t}));\n\t\t\t\tcommandDetectedRegistered = true;\n\t\t\t}));\n\t\t});\n\n\t}\n});\n\nregisterTerminalAction({\n\tid: TerminalDeveloperCommandId.RestartPtyHost,\n\ttitle: localize2('workbench.action.terminal.restartPtyHost', 'Restart Pty Host'),\n\tcategory: Categories.Developer,\n\trun: async (c, accessor) => {\n\t\tconst logService = accessor.get(ITerminalLogService);\n\t\tconst backends = Array.from(c.instanceService.getRegisteredBackends());\n\t\tconst unresponsiveBackends = backends.filter(e => !e.isResponsive);\n\t\t// Restart only unresponsive backends if there are any\n\t\tconst restartCandidates = unresponsiveBackends.length > 0 ? unresponsiveBackends : backends;\n\t\tfor (const backend of restartCandidates) {\n\t\t\tlogService.warn(`Restarting pty host for authority \"${backend.remoteAuthority}\"`);\n\t\t\tbackend.restartPtyHost();\n\t\t}\n\t}\n});\n\nconst enum DevModeContributionState {\n\tOff,\n\tWaitingForCapability,\n\tOn,\n}\n\nclass DevModeContribution extends Disposable implements ITerminalContribution {\n\tstatic readonly ID = 'terminal.devMode';\n\tstatic get(instance: ITerminalInstance): DevModeContribution | null {\n\t\treturn instance.getContribution<DevModeContribution>(DevModeContribution.ID);\n\t}\n\n\tprivate _xterm: IXtermTerminal & { raw: Terminal } | undefined;\n\tprivate readonly _activeDevModeDisposables = this._register(new MutableDisposable());\n\tprivate _currentColor = 0;\n\n\tprivate _state: DevModeContributionState = DevModeContributionState.Off;\n\n\tconstructor(\n\t\tprivate readonly _ctx: ITerminalContributionContext,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t) {\n\t\tsuper();\n\t\tthis._register(this._configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration(TerminalSettingId.DevMode)) {\n\t\t\t\tthis._updateDevMode();\n\t\t\t}\n\t\t}));\n\t}\n\n\txtermReady(xterm: IXtermTerminal & { raw: Terminal }): void {\n\t\tthis._xterm = xterm;\n\t\tthis._updateDevMode();\n\t}\n\n\tprivate _updateDevMode() {\n\t\tconst devMode: boolean = this._isEnabled();\n\t\tthis._xterm?.raw.element?.classList.toggle('dev-mode', devMode);\n\n\t\tconst commandDetection = this._ctx.instance.capabilities.get(TerminalCapability.CommandDetection);\n\t\tif (devMode) {\n\t\t\tif (commandDetection) {\n\t\t\t\tif (this._state === DevModeContributionState.On) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis._state = DevModeContributionState.On;\n\t\t\t\tconst commandDecorations = new DisposableMap<ITerminalCommand, IDisposable>();\n\t\t\t\tconst otherDisposables = new DisposableStore();\n\t\t\t\tthis._activeDevModeDisposables.value = combinedDisposable(\n\t\t\t\t\tcommandDecorations,\n\t\t\t\t\totherDisposables,\n\t\t\t\t\t// Prompt input\n\t\t\t\t\tthis._ctx.instance.onDidBlur(() => this._updateDevMode()),\n\t\t\t\t\tthis._ctx.instance.onDidFocus(() => this._updateDevMode()),\n\t\t\t\t\tcommandDetection.promptInputModel.onDidChangeInput(() => this._updateDevMode()),\n\t\t\t\t\t// Sequence markers\n\t\t\t\t\tcommandDetection.onCommandFinished(command => {\n\t\t\t\t\t\tconst colorClass = `color-${this._currentColor}`;\n\t\t\t\t\t\tconst decorations: IDisposable[] = [];\n\t\t\t\t\t\tcommandDecorations.set(command, combinedDisposable(...decorations));\n\t\t\t\t\t\tif (command.promptStartMarker) {\n\t\t\t\t\t\t\tconst d = this._ctx.instance.xterm!.raw?.registerDecoration({\n\t\t\t\t\t\t\t\tmarker: command.promptStartMarker\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (d) {\n\t\t\t\t\t\t\t\tdecorations.push(d);\n\t\t\t\t\t\t\t\totherDisposables.add(d.onRender(e => {\n\t\t\t\t\t\t\t\t\te.textContent = 'A';\n\t\t\t\t\t\t\t\t\te.classList.add('xterm-sequence-decoration', 'top', 'left', colorClass);\n\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (command.marker) {\n\t\t\t\t\t\t\tconst d = this._ctx.instance.xterm!.raw?.registerDecoration({\n\t\t\t\t\t\t\t\tmarker: command.marker,\n\t\t\t\t\t\t\t\tx: command.startX\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (d) {\n\t\t\t\t\t\t\t\tdecorations.push(d);\n\t\t\t\t\t\t\t\totherDisposables.add(d.onRender(e => {\n\t\t\t\t\t\t\t\t\te.textContent = 'B';\n\t\t\t\t\t\t\t\t\te.classList.add('xterm-sequence-decoration', 'top', 'right', colorClass);\n\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (command.executedMarker) {\n\t\t\t\t\t\t\tconst d = this._ctx.instance.xterm!.raw?.registerDecoration({\n\t\t\t\t\t\t\t\tmarker: command.executedMarker,\n\t\t\t\t\t\t\t\tx: command.executedX\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (d) {\n\t\t\t\t\t\t\t\tdecorations.push(d);\n\t\t\t\t\t\t\t\totherDisposables.add(d.onRender(e => {\n\t\t\t\t\t\t\t\t\te.textContent = 'C';\n\t\t\t\t\t\t\t\t\te.classList.add('xterm-sequence-decoration', 'bottom', 'left', colorClass);\n\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (command.endMarker) {\n\t\t\t\t\t\t\tconst d = this._ctx.instance.xterm!.raw?.registerDecoration({\n\t\t\t\t\t\t\t\tmarker: command.endMarker\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (d) {\n\t\t\t\t\t\t\t\tdecorations.push(d);\n\t\t\t\t\t\t\t\totherDisposables.add(d.onRender(e => {\n\t\t\t\t\t\t\t\t\te.textContent = 'D';\n\t\t\t\t\t\t\t\t\te.classList.add('xterm-sequence-decoration', 'bottom', 'right', colorClass);\n\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._currentColor = (this._currentColor + 1) % 2;\n\t\t\t\t\t}),\n\t\t\t\t\tcommandDetection.onCommandInvalidated(commands => {\n\t\t\t\t\t\tfor (const c of commands) {\n\t\t\t\t\t\t\tconst decorations = commandDecorations.get(c);\n\t\t\t\t\t\t\tif (decorations) {\n\t\t\t\t\t\t\t\tdispose(decorations);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcommandDecorations.deleteAndDispose(c);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tif (this._state === DevModeContributionState.WaitingForCapability) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis._state = DevModeContributionState.WaitingForCapability;\n\t\t\t\tthis._activeDevModeDisposables.value = this._ctx.instance.capabilities.onDidAddCommandDetectionCapability(e => {\n\t\t\t\t\tthis._updateDevMode();\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tif (this._state === DevModeContributionState.Off) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._state = DevModeContributionState.Off;\n\t\t\tthis._activeDevModeDisposables.clear();\n\t\t}\n\t}\n\n\tprivate _isEnabled(): boolean {\n\t\treturn this._configurationService.getValue(TerminalSettingId.DevMode) || false;\n\t}\n}\n\nregisterTerminalContribution(DevModeContribution.ID, DevModeContribution);\n"]}