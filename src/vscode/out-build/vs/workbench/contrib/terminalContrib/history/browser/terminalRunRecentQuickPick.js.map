{"version":3,"sources":["vs/workbench/contrib/terminalContrib/history/browser/terminalRunRecentQuickPick.ts"],"names":[],"mappings":"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","file":"terminalRunRecentQuickPick.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Toggle } from '../../../../../base/browser/ui/toggle/toggle.js';\nimport { isMacintosh, OperatingSystem } from '../../../../../base/common/platform.js';\nimport { ITextModel } from '../../../../../editor/common/model.js';\nimport { IModelService } from '../../../../../editor/common/services/model.js';\nimport { ITextModelContentProvider, ITextModelService } from '../../../../../editor/common/services/resolverService.js';\nimport { localize } from '../../../../../nls.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { IQuickInputButton, IQuickInputService, IQuickPickItem, IQuickPickSeparator } from '../../../../../platform/quickinput/common/quickInput.js';\nimport { ITerminalCommand, TerminalCapability } from '../../../../../platform/terminal/common/capabilities/capabilities.js';\nimport { collapseTildePath } from '../../../../../platform/terminal/common/terminalEnvironment.js';\nimport { asCssVariable, inputActiveOptionBackground, inputActiveOptionBorder, inputActiveOptionForeground } from '../../../../../platform/theme/common/colorRegistry.js';\nimport { ThemeIcon } from '../../../../../base/common/themables.js';\nimport { ITerminalInstance } from '../../../terminal/browser/terminal.js';\nimport { commandHistoryFuzzySearchIcon, commandHistoryOpenFileIcon, commandHistoryOutputIcon, commandHistoryRemoveIcon } from '../../../terminal/browser/terminalIcons.js';\nimport { TerminalStorageKeys } from '../../../terminal/common/terminalStorageKeys.js';\nimport { terminalStrings } from '../../../terminal/common/terminalStrings.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { fromNow } from '../../../../../base/common/date.js';\nimport { IEditorService } from '../../../../services/editor/common/editorService.js';\nimport { showWithPinnedItems } from '../../../../../platform/quickinput/browser/quickPickPin.js';\nimport { IStorageService } from '../../../../../platform/storage/common/storage.js';\nimport { IContextKey } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { AccessibleViewProviderId, IAccessibleViewService } from '../../../../../platform/accessibility/browser/accessibleView.js';\nimport { Disposable, DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { getCommandHistory, getDirectoryHistory, getShellFileHistory } from '../common/history.js';\nimport { ResourceSet } from '../../../../../base/common/map.js';\nimport { extUri, extUriIgnorePathCase } from '../../../../../base/common/resources.js';\nimport { IPathService } from '../../../../services/path/common/pathService.js';\nimport { isObject } from '../../../../../base/common/types.js';\n\nexport async function showRunRecentQuickPick(\n\taccessor: ServicesAccessor,\n\tinstance: ITerminalInstance,\n\tterminalInRunCommandPicker: IContextKey<boolean>,\n\ttype: 'command' | 'cwd',\n\tfilterMode?: 'fuzzy' | 'contiguous',\n\tvalue?: string,\n): Promise<void> {\n\tif (!instance.xterm) {\n\t\treturn;\n\t}\n\n\tconst accessibleViewService = accessor.get(IAccessibleViewService);\n\tconst editorService = accessor.get(IEditorService);\n\tconst instantiationService = accessor.get(IInstantiationService);\n\tconst quickInputService = accessor.get(IQuickInputService);\n\tconst storageService = accessor.get(IStorageService);\n\tconst pathService = accessor.get(IPathService);\n\n\tconst runRecentStorageKey = `${TerminalStorageKeys.PinnedRecentCommandsPrefix}.${instance.shellType}`;\n\tlet placeholder: string;\n\ttype Item = IQuickPickItem & { command?: ITerminalCommand; rawLabel: string };\n\tlet items: (Item | IQuickPickItem & { rawLabel: string } | IQuickPickSeparator)[] = [];\n\tconst commandMap: Set<string> = new Set();\n\n\tconst removeFromCommandHistoryButton: IQuickInputButton = {\n\t\ticonClass: ThemeIcon.asClassName(commandHistoryRemoveIcon),\n\t\ttooltip: localize('removeCommand', \"Remove from Command History\")\n\t};\n\n\tconst commandOutputButton: IQuickInputButton = {\n\t\ticonClass: ThemeIcon.asClassName(commandHistoryOutputIcon),\n\t\ttooltip: localize('viewCommandOutput', \"View Command Output\"),\n\t\talwaysVisible: false\n\t};\n\n\tconst openResourceButtons: (IQuickInputButton & { resource: URI })[] = [];\n\n\tif (type === 'command') {\n\t\tplaceholder = isMacintosh ? localize('selectRecentCommandMac', 'Select a command to run (hold Option-key to edit the command)') : localize('selectRecentCommand', 'Select a command to run (hold Alt-key to edit the command)');\n\t\tconst cmdDetection = instance.capabilities.get(TerminalCapability.CommandDetection);\n\t\tconst commands = cmdDetection?.commands;\n\t\t// Current session history\n\t\tconst executingCommand = cmdDetection?.executingCommand;\n\t\tif (executingCommand) {\n\t\t\tcommandMap.add(executingCommand);\n\t\t}\n\t\tfunction formatLabel(label: string) {\n\t\t\treturn label\n\t\t\t\t// Replace new lines with \"enter\" symbol\n\t\t\t\t.replace(/\\r?\\n/g, '\\u23CE')\n\t\t\t\t// Replace 3 or more spaces with midline horizontal ellipsis which looks similar\n\t\t\t\t// to whitespace in the editor\n\t\t\t\t.replace(/\\s\\s\\s+/g, '\\u22EF');\n\t\t}\n\t\tif (commands && commands.length > 0) {\n\t\t\tfor (let i = commands.length - 1; i >= 0; i--) {\n\t\t\t\tconst entry = commands[i];\n\t\t\t\t// Trim off any whitespace and/or line endings, replace new lines with the\n\t\t\t\t// Downwards Arrow with Corner Leftwards symbol\n\t\t\t\tconst label = entry.command.trim();\n\t\t\t\tif (label.length === 0 || commandMap.has(label)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tlet description = collapseTildePath(entry.cwd, instance.userHome, instance.os === OperatingSystem.Windows ? '\\\\' : '/');\n\t\t\t\tif (entry.exitCode) {\n\t\t\t\t\t// Since you cannot get the last command's exit code on pwsh, just whether it failed\n\t\t\t\t\t// or not, -1 is treated specially as simply failed\n\t\t\t\t\tif (entry.exitCode === -1) {\n\t\t\t\t\t\tdescription += ' failed';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdescription += ` exitCode: ${entry.exitCode}`;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdescription = description.trim();\n\t\t\t\tconst buttons: IQuickInputButton[] = [commandOutputButton];\n\t\t\t\t// Merge consecutive commands\n\t\t\t\tconst lastItem = items.length > 0 ? items[items.length - 1] : undefined;\n\t\t\t\tif (lastItem?.type !== 'separator' && lastItem?.label === label) {\n\t\t\t\t\tlastItem.id = entry.timestamp.toString();\n\t\t\t\t\tlastItem.description = description;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\titems.push({\n\t\t\t\t\tlabel: formatLabel(label),\n\t\t\t\t\trawLabel: label,\n\t\t\t\t\tdescription,\n\t\t\t\t\tid: entry.timestamp.toString(),\n\t\t\t\t\tcommand: entry,\n\t\t\t\t\tbuttons: entry.hasOutput() ? buttons : undefined\n\t\t\t\t});\n\t\t\t\tcommandMap.add(label);\n\t\t\t}\n\t\t}\n\t\tif (executingCommand) {\n\t\t\titems.unshift({\n\t\t\t\tlabel: formatLabel(executingCommand),\n\t\t\t\trawLabel: executingCommand,\n\t\t\t\tdescription: cmdDetection.cwd\n\t\t\t});\n\t\t}\n\t\tif (items.length > 0) {\n\t\t\titems.unshift({\n\t\t\t\ttype: 'separator',\n\t\t\t\tbuttons: [], // HACK: Force full sized separators as there's no flag currently\n\t\t\t\tlabel: terminalStrings.currentSessionCategory\n\t\t\t});\n\t\t}\n\n\t\t// Gather previous session history\n\t\tconst history = instantiationService.invokeFunction(getCommandHistory);\n\t\tconst previousSessionItems: (IQuickPickItem & { rawLabel: string })[] = [];\n\t\tfor (const [label, info] of history.entries) {\n\t\t\t// Only add previous session item if it's not in this session\n\t\t\tif (!commandMap.has(label) && info.shellType === instance.shellType) {\n\t\t\t\tpreviousSessionItems.unshift({\n\t\t\t\t\tlabel: formatLabel(label),\n\t\t\t\t\trawLabel: label,\n\t\t\t\t\tbuttons: [removeFromCommandHistoryButton]\n\t\t\t\t});\n\t\t\t\tcommandMap.add(label);\n\t\t\t}\n\t\t}\n\n\t\tif (previousSessionItems.length > 0) {\n\t\t\titems.push(\n\t\t\t\t{\n\t\t\t\t\ttype: 'separator',\n\t\t\t\t\tbuttons: [], // HACK: Force full sized separators as there's no flag currently\n\t\t\t\t\tlabel: terminalStrings.previousSessionCategory\n\t\t\t\t},\n\t\t\t\t...previousSessionItems,\n\t\t\t);\n\t\t}\n\n\t\t// Gather shell file history\n\t\tconst shellFileHistory = await instantiationService.invokeFunction(getShellFileHistory, instance.shellType);\n\t\tif (shellFileHistory !== undefined) {\n\t\t\tconst dedupedShellFileItems: (IQuickPickItem & { rawLabel: string })[] = [];\n\t\t\tfor (const label of shellFileHistory.commands) {\n\t\t\t\tif (!commandMap.has(label)) {\n\t\t\t\t\tdedupedShellFileItems.unshift({\n\t\t\t\t\t\tlabel: formatLabel(label),\n\t\t\t\t\t\trawLabel: label\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (dedupedShellFileItems.length > 0) {\n\t\t\t\tconst button: IQuickInputButton & { resource: URI } = {\n\t\t\t\t\ticonClass: ThemeIcon.asClassName(commandHistoryOpenFileIcon),\n\t\t\t\t\ttooltip: localize('openShellHistoryFile', \"Open File\"),\n\t\t\t\t\talwaysVisible: false,\n\t\t\t\t\tresource: shellFileHistory.sourceResource\n\t\t\t\t};\n\t\t\t\topenResourceButtons.push(button);\n\t\t\t\titems.push(\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'separator',\n\t\t\t\t\t\tbuttons: [button],\n\t\t\t\t\t\tlabel: localize('shellFileHistoryCategory', '{0} history', instance.shellType),\n\t\t\t\t\t\tdescription: shellFileHistory.sourceLabel\n\t\t\t\t\t},\n\t\t\t\t\t...dedupedShellFileItems,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tplaceholder = isMacintosh\n\t\t\t? localize('selectRecentDirectoryMac', 'Select a directory to go to (hold Option-key to edit the command)')\n\t\t\t: localize('selectRecentDirectory', 'Select a directory to go to (hold Alt-key to edit the command)');\n\n\t\t// Check path uniqueness following target platform's case sensitivity rules.\n\t\tconst uriComparer = instance.os === OperatingSystem.Windows ? extUriIgnorePathCase : extUri;\n\t\tconst uniqueUris = new ResourceSet(o => uriComparer.getComparisonKey(o));\n\n\t\tconst cwds = instance.capabilities.get(TerminalCapability.CwdDetection)?.cwds || [];\n\t\tif (cwds && cwds.length > 0) {\n\t\t\tfor (const label of cwds) {\n\t\t\t\tconst itemUri = URI.file(label);\n\t\t\t\tif (!uniqueUris.has(itemUri)) {\n\t\t\t\t\tuniqueUris.add(itemUri);\n\t\t\t\t\titems.push({\n\t\t\t\t\t\tlabel: await instance.getUriLabelForShell(itemUri),\n\t\t\t\t\t\trawLabel: label\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\titems = items.reverse();\n\t\t\titems.unshift({ type: 'separator', label: terminalStrings.currentSessionCategory });\n\t\t}\n\n\t\t// Gather previous session history\n\t\tconst history = instantiationService.invokeFunction(getDirectoryHistory);\n\t\tconst previousSessionItems: (IQuickPickItem & { rawLabel: string })[] = [];\n\t\t// Only add previous session item if it's not in this session and it matches the remote authority\n\t\tfor (const [label, info] of history.entries) {\n\t\t\tif (info === null || info.remoteAuthority === instance.remoteAuthority) {\n\t\t\t\tconst itemUri = info?.remoteAuthority ? await pathService.fileURI(label) : URI.file(label);\n\t\t\t\tif (!uniqueUris.has(itemUri)) {\n\t\t\t\t\tuniqueUris.add(itemUri);\n\t\t\t\t\tpreviousSessionItems.unshift({\n\t\t\t\t\t\tlabel: await instance.getUriLabelForShell(itemUri),\n\t\t\t\t\t\trawLabel: label,\n\t\t\t\t\t\tbuttons: [removeFromCommandHistoryButton]\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (previousSessionItems.length > 0) {\n\t\t\titems.push(\n\t\t\t\t{ type: 'separator', label: terminalStrings.previousSessionCategory },\n\t\t\t\t...previousSessionItems,\n\t\t\t);\n\t\t}\n\t}\n\tif (items.length === 0) {\n\t\treturn;\n\t}\n\tconst disposables = new DisposableStore();\n\tconst fuzzySearchToggle = disposables.add(new Toggle({\n\t\ttitle: 'Fuzzy search',\n\t\ticon: commandHistoryFuzzySearchIcon,\n\t\tisChecked: filterMode === 'fuzzy',\n\t\tinputActiveOptionBorder: asCssVariable(inputActiveOptionBorder),\n\t\tinputActiveOptionForeground: asCssVariable(inputActiveOptionForeground),\n\t\tinputActiveOptionBackground: asCssVariable(inputActiveOptionBackground)\n\t}));\n\tdisposables.add(fuzzySearchToggle.onChange(() => {\n\t\tinstantiationService.invokeFunction(showRunRecentQuickPick, instance, terminalInRunCommandPicker, type, fuzzySearchToggle.checked ? 'fuzzy' : 'contiguous', quickPick.value);\n\t}));\n\tconst outputProvider = disposables.add(instantiationService.createInstance(TerminalOutputProvider));\n\tconst quickPick = disposables.add(quickInputService.createQuickPick<Item | IQuickPickItem & { rawLabel: string }>({ useSeparators: true }));\n\tconst originalItems = items;\n\tquickPick.items = [...originalItems];\n\tquickPick.sortByLabel = false;\n\tquickPick.placeholder = placeholder;\n\tquickPick.matchOnLabelMode = filterMode || 'contiguous';\n\tquickPick.toggles = [fuzzySearchToggle];\n\tdisposables.add(quickPick.onDidTriggerItemButton(async e => {\n\t\tif (e.button === removeFromCommandHistoryButton) {\n\t\t\tif (type === 'command') {\n\t\t\t\tinstantiationService.invokeFunction(getCommandHistory)?.remove(e.item.label);\n\t\t\t} else {\n\t\t\t\tinstantiationService.invokeFunction(getDirectoryHistory)?.remove(e.item.rawLabel);\n\t\t\t}\n\t\t} else if (e.button === commandOutputButton) {\n\t\t\tconst selectedCommand = (e.item as Item).command;\n\t\t\tconst output = selectedCommand?.getOutput();\n\t\t\tif (output && selectedCommand?.command) {\n\t\t\t\tconst textContent = await outputProvider.provideTextContent(URI.from(\n\t\t\t\t\t{\n\t\t\t\t\t\tscheme: TerminalOutputProvider.scheme,\n\t\t\t\t\t\tpath: `${selectedCommand.command}... ${fromNow(selectedCommand.timestamp, true)}`,\n\t\t\t\t\t\tfragment: output,\n\t\t\t\t\t\tquery: `terminal-output-${selectedCommand.timestamp}-${instance.instanceId}`\n\t\t\t\t\t}));\n\t\t\t\tif (textContent) {\n\t\t\t\t\tawait editorService.openEditor({\n\t\t\t\t\t\tresource: textContent.uri\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tawait instantiationService.invokeFunction(showRunRecentQuickPick, instance, terminalInRunCommandPicker, type, filterMode, value);\n\t}));\n\tdisposables.add(quickPick.onDidTriggerSeparatorButton(async e => {\n\t\tconst resource = openResourceButtons.find(openResourceButton => e.button === openResourceButton)?.resource;\n\t\tif (resource) {\n\t\t\tawait editorService.openEditor({\n\t\t\t\tresource\n\t\t\t});\n\t\t}\n\t}));\n\tdisposables.add(quickPick.onDidChangeValue(async value => {\n\t\tif (!value) {\n\t\t\tawait instantiationService.invokeFunction(showRunRecentQuickPick, instance, terminalInRunCommandPicker, type, filterMode, value);\n\t\t}\n\t}));\n\tlet terminalScrollStateSaved = false;\n\tfunction restoreScrollState() {\n\t\tterminalScrollStateSaved = false;\n\t\tinstance.xterm?.markTracker.restoreScrollState();\n\t\tinstance.xterm?.markTracker.clear();\n\t}\n\tdisposables.add(quickPick.onDidChangeActive(async () => {\n\t\tconst xterm = instance.xterm;\n\t\tif (!xterm) {\n\t\t\treturn;\n\t\t}\n\t\tconst [item] = quickPick.activeItems;\n\t\tif (!item) {\n\t\t\treturn;\n\t\t}\n\t\tfunction isItem(obj: unknown): obj is Item {\n\t\t\treturn isObject(obj) && 'rawLabel' in obj;\n\t\t}\n\t\tif (isItem(item) && item.command && item.command.marker) {\n\t\t\tif (!terminalScrollStateSaved) {\n\t\t\t\txterm.markTracker.saveScrollState();\n\t\t\t\tterminalScrollStateSaved = true;\n\t\t\t}\n\t\t\tconst promptRowCount = item.command.getPromptRowCount();\n\t\t\tconst commandRowCount = item.command.getCommandRowCount();\n\t\t\txterm.markTracker.revealRange({\n\t\t\t\tstart: {\n\t\t\t\t\tx: 1,\n\t\t\t\t\ty: item.command.marker.line - (promptRowCount - 1) + 1\n\t\t\t\t},\n\t\t\t\tend: {\n\t\t\t\t\tx: instance.cols,\n\t\t\t\t\ty: item.command.marker.line + (commandRowCount - 1) + 1\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\trestoreScrollState();\n\t\t}\n\t}));\n\tdisposables.add(quickPick.onDidAccept(async () => {\n\t\tconst result = quickPick.activeItems[0];\n\t\tlet text: string;\n\t\tif (type === 'cwd') {\n\t\t\ttext = `cd ${await instance.preparePathForShell(result.rawLabel)}`;\n\t\t} else { // command\n\t\t\ttext = result.rawLabel;\n\t\t}\n\t\tquickPick.hide();\n\t\tterminalScrollStateSaved = false;\n\t\tinstance.xterm?.markTracker.clear();\n\t\tinstance.scrollToBottom();\n\t\tinstance.runCommand(text, !quickPick.keyMods.alt);\n\t\tif (quickPick.keyMods.alt) {\n\t\t\tinstance.focus();\n\t\t}\n\t}));\n\tdisposables.add(quickPick.onDidHide(() => restoreScrollState()));\n\tif (value) {\n\t\tquickPick.value = value;\n\t}\n\treturn new Promise<void>(r => {\n\t\tterminalInRunCommandPicker.set(true);\n\t\tdisposables.add(showWithPinnedItems(storageService, runRecentStorageKey, quickPick, true));\n\t\tdisposables.add(quickPick.onDidHide(() => {\n\t\t\tterminalInRunCommandPicker.set(false);\n\t\t\taccessibleViewService.showLastProvider(AccessibleViewProviderId.Terminal);\n\t\t\tr();\n\t\t\tdisposables.dispose();\n\t\t}));\n\t});\n}\n\nclass TerminalOutputProvider extends Disposable implements ITextModelContentProvider {\n\tstatic scheme = 'TERMINAL_OUTPUT';\n\n\tconstructor(\n\t\t@ITextModelService textModelResolverService: ITextModelService,\n\t\t@IModelService private readonly _modelService: IModelService,\n\t) {\n\t\tsuper();\n\t\tthis._register(textModelResolverService.registerTextModelContentProvider(TerminalOutputProvider.scheme, this));\n\t}\n\n\tasync provideTextContent(resource: URI): Promise<ITextModel | null> {\n\t\tconst existing = this._modelService.getModel(resource);\n\t\tif (existing && !existing.isDisposed()) {\n\t\t\treturn existing;\n\t\t}\n\n\t\treturn this._modelService.createModel(resource.fragment, null, resource, false);\n\t}\n}\n"]}