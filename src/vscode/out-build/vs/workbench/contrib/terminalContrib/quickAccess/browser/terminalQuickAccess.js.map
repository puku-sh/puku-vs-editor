{"version":3,"sources":["vs/workbench/contrib/terminalContrib/quickAccess/browser/terminalQuickAccess.ts"],"names":[],"mappings":"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","file":"terminalQuickAccess.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { localize } from '../../../../../nls.js';\nimport { IQuickPickSeparator } from '../../../../../platform/quickinput/common/quickInput.js';\nimport { IPickerQuickAccessItem, PickerQuickAccessProvider, TriggerAction } from '../../../../../platform/quickinput/browser/pickerQuickAccess.js';\nimport { matchesFuzzy } from '../../../../../base/common/filters.js';\nimport { ITerminalEditorService, ITerminalGroupService, ITerminalInstance, ITerminalService } from '../../../terminal/browser/terminal.js';\nimport { ICommandService } from '../../../../../platform/commands/common/commands.js';\nimport { TerminalCommandId } from '../../../terminal/common/terminal.js';\nimport { IThemeService } from '../../../../../platform/theme/common/themeService.js';\nimport { ThemeIcon } from '../../../../../base/common/themables.js';\nimport { killTerminalIcon, renameTerminalIcon } from '../../../terminal/browser/terminalIcons.js';\nimport { getColorClass, getIconId, getUriClasses } from '../../../terminal/browser/terminalIcon.js';\nimport { terminalStrings } from '../../../terminal/common/terminalStrings.js';\nimport { TerminalLocation } from '../../../../../platform/terminal/common/terminal.js';\nimport { IEditorService } from '../../../../services/editor/common/editorService.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nlet terminalPicks: Array<IPickerQuickAccessItem | IQuickPickSeparator> = [];\n\nexport class TerminalQuickAccessProvider extends PickerQuickAccessProvider<IPickerQuickAccessItem> {\n\n\tstatic PREFIX = 'term ';\n\n\tconstructor(\n\t\t@ICommandService private readonly _commandService: ICommandService,\n\t\t@IEditorService private readonly _editorService: IEditorService,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService,\n\t\t@ITerminalEditorService private readonly _terminalEditorService: ITerminalEditorService,\n\t\t@ITerminalGroupService private readonly _terminalGroupService: ITerminalGroupService,\n\t\t@ITerminalService private readonly _terminalService: ITerminalService,\n\t\t@IThemeService private readonly _themeService: IThemeService,\n\t) {\n\t\tsuper(TerminalQuickAccessProvider.PREFIX, { canAcceptInBackground: true });\n\t}\n\n\tprotected _getPicks(filter: string): Array<IPickerQuickAccessItem | IQuickPickSeparator> {\n\t\tterminalPicks = [];\n\t\tterminalPicks.push({ type: 'separator', label: 'panel' });\n\t\tconst terminalGroups = this._terminalGroupService.groups;\n\t\tfor (let groupIndex = 0; groupIndex < terminalGroups.length; groupIndex++) {\n\t\t\tconst terminalGroup = terminalGroups[groupIndex];\n\t\t\tfor (let terminalIndex = 0; terminalIndex < terminalGroup.terminalInstances.length; terminalIndex++) {\n\t\t\t\tconst terminal = terminalGroup.terminalInstances[terminalIndex];\n\t\t\t\tconst pick = this._createPick(terminal, terminalIndex, filter, { groupIndex, groupSize: terminalGroup.terminalInstances.length });\n\t\t\t\tif (pick) {\n\t\t\t\t\tterminalPicks.push(pick);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (terminalPicks.length > 0) {\n\t\t\tterminalPicks.push({ type: 'separator', label: 'editor' });\n\t\t}\n\n\t\tconst terminalEditors = this._terminalEditorService.instances;\n\t\tfor (let editorIndex = 0; editorIndex < terminalEditors.length; editorIndex++) {\n\t\t\tconst term = terminalEditors[editorIndex];\n\t\t\tterm.target = TerminalLocation.Editor;\n\t\t\tconst pick = this._createPick(term, editorIndex, filter);\n\t\t\tif (pick) {\n\t\t\t\tterminalPicks.push(pick);\n\t\t\t}\n\t\t}\n\n\t\tif (terminalPicks.length > 0) {\n\t\t\tterminalPicks.push({ type: 'separator' });\n\t\t}\n\n\t\tconst createTerminalLabel = localize(\"workbench.action.terminal.newplus\", \"Create New Terminal\");\n\t\tterminalPicks.push({\n\t\t\tlabel: `$(plus) ${createTerminalLabel}`,\n\t\t\tariaLabel: createTerminalLabel,\n\t\t\taccept: () => this._commandService.executeCommand(TerminalCommandId.New)\n\t\t});\n\t\tconst createWithProfileLabel = localize(\"workbench.action.terminal.newWithProfilePlus\", \"Create New Terminal With Profile...\");\n\t\tterminalPicks.push({\n\t\t\tlabel: `$(plus) ${createWithProfileLabel}`,\n\t\t\tariaLabel: createWithProfileLabel,\n\t\t\taccept: () => this._commandService.executeCommand(TerminalCommandId.NewWithProfile)\n\t\t});\n\t\treturn terminalPicks;\n\t}\n\n\tprivate _createPick(terminal: ITerminalInstance, terminalIndex: number, filter: string, groupInfo?: { groupIndex: number; groupSize: number }): IPickerQuickAccessItem | undefined {\n\t\tconst iconId = this._instantiationService.invokeFunction(getIconId, terminal);\n\t\tconst index = groupInfo\n\t\t\t? (groupInfo.groupSize > 1\n\t\t\t\t? `${groupInfo.groupIndex + 1}.${terminalIndex + 1}`\n\t\t\t\t: `${groupInfo.groupIndex + 1}`)\n\t\t\t: `${terminalIndex + 1}`;\n\t\tconst label = `$(${iconId}) ${index}: ${terminal.title}`;\n\t\tconst iconClasses: string[] = [];\n\t\tconst colorClass = getColorClass(terminal);\n\t\tif (colorClass) {\n\t\t\ticonClasses.push(colorClass);\n\t\t}\n\t\tconst uriClasses = getUriClasses(terminal, this._themeService.getColorTheme().type);\n\t\tif (uriClasses) {\n\t\t\ticonClasses.push(...uriClasses);\n\t\t}\n\t\tconst highlights = matchesFuzzy(filter, label, true);\n\t\tif (highlights) {\n\t\t\treturn {\n\t\t\t\tlabel,\n\t\t\t\tdescription: terminal.description,\n\t\t\t\thighlights: { label: highlights },\n\t\t\t\tbuttons: [\n\t\t\t\t\t{\n\t\t\t\t\t\ticonClass: ThemeIcon.asClassName(renameTerminalIcon),\n\t\t\t\t\t\ttooltip: localize('renameTerminal', \"Rename Terminal\")\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ticonClass: ThemeIcon.asClassName(killTerminalIcon),\n\t\t\t\t\t\ttooltip: terminalStrings.kill.value\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\ticonClasses,\n\t\t\t\ttrigger: buttonIndex => {\n\t\t\t\t\tswitch (buttonIndex) {\n\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\tthis._commandService.executeCommand(TerminalCommandId.Rename, terminal);\n\t\t\t\t\t\t\treturn TriggerAction.NO_ACTION;\n\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\tthis._terminalService.safeDisposeTerminal(terminal);\n\t\t\t\t\t\t\treturn TriggerAction.REMOVE_ITEM;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn TriggerAction.NO_ACTION;\n\t\t\t\t},\n\t\t\t\taccept: (keyMod, event) => {\n\t\t\t\t\tif (terminal.target === TerminalLocation.Editor) {\n\t\t\t\t\t\tconst existingEditors = this._editorService.findEditors(terminal.resource);\n\t\t\t\t\t\tthis._terminalEditorService.openEditor(terminal, { viewColumn: existingEditors?.[0].groupId });\n\t\t\t\t\t\tthis._terminalEditorService.setActiveInstance(terminal);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._terminalGroupService.showPanel(!event.inBackground);\n\t\t\t\t\t\tthis._terminalGroupService.setActiveInstance(terminal);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\treturn undefined;\n\t}\n}\n"]}