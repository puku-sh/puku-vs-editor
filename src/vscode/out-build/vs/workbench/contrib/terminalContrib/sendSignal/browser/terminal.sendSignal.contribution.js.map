{"version":3,"sources":["vs/workbench/contrib/terminalContrib/sendSignal/browser/terminal.sendSignal.contribution.ts"],"names":[],"mappings":"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","file":"terminal.sendSignal.contribution.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { isWindows } from '../../../../../base/common/platform.js';\nimport { isObject, isString } from '../../../../../base/common/types.js';\nimport { localize, localize2 } from '../../../../../nls.js';\nimport { IQuickInputService, type QuickPickItem } from '../../../../../platform/quickinput/common/quickInput.js';\nimport { registerTerminalAction } from '../../../terminal/browser/terminalActions.js';\n\nexport const enum TerminalSendSignalCommandId {\n\tSendSignal = 'workbench.action.terminal.sendSignal',\n}\n\nfunction toOptionalString(obj: unknown): string | undefined {\n\treturn isString(obj) ? obj : undefined;\n}\n\nconst sendSignalString = localize2('sendSignal', \"Send Signal\");\nregisterTerminalAction({\n\tid: TerminalSendSignalCommandId.SendSignal,\n\ttitle: sendSignalString,\n\tf1: !isWindows,\n\tmetadata: {\n\t\tdescription: sendSignalString.value,\n\t\targs: [{\n\t\t\tname: 'args',\n\t\t\tschema: {\n\t\t\t\ttype: 'object',\n\t\t\t\trequired: ['signal'],\n\t\t\t\tproperties: {\n\t\t\t\t\tsignal: {\n\t\t\t\t\t\tdescription: localize('sendSignal.signal.desc', \"The signal to send to the terminal process (e.g., 'SIGTERM', 'SIGINT', 'SIGKILL')\"),\n\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t}\n\t\t}]\n\t},\n\trun: async (c, accessor, args) => {\n\t\tconst quickInputService = accessor.get(IQuickInputService);\n\t\tconst instance = c.service.activeInstance;\n\t\tif (!instance) {\n\t\t\treturn;\n\t\t}\n\n\t\tfunction isSignalArg(obj: unknown): obj is { signal: string } {\n\t\t\treturn isObject(obj) && 'signal' in obj;\n\t\t}\n\t\tlet signal = isSignalArg(args) ? toOptionalString(args.signal) : undefined;\n\n\t\tif (!signal) {\n\t\t\tconst signalOptions: QuickPickItem[] = [\n\t\t\t\t{ label: 'SIGINT', description: localize('SIGINT', 'Interrupt process (Ctrl+C)') },\n\t\t\t\t{ label: 'SIGTERM', description: localize('SIGTERM', 'Terminate process gracefully') },\n\t\t\t\t{ label: 'SIGKILL', description: localize('SIGKILL', 'Force kill process') },\n\t\t\t\t{ label: 'SIGSTOP', description: localize('SIGSTOP', 'Stop process') },\n\t\t\t\t{ label: 'SIGCONT', description: localize('SIGCONT', 'Continue process') },\n\t\t\t\t{ label: 'SIGHUP', description: localize('SIGHUP', 'Hangup') },\n\t\t\t\t{ label: 'SIGQUIT', description: localize('SIGQUIT', 'Quit process') },\n\t\t\t\t{ label: 'SIGUSR1', description: localize('SIGUSR1', 'User-defined signal 1') },\n\t\t\t\t{ label: 'SIGUSR2', description: localize('SIGUSR2', 'User-defined signal 2') },\n\t\t\t\t{ type: 'separator' },\n\t\t\t\t{ label: localize('manualSignal', 'Manually enter signal') }\n\t\t\t];\n\n\t\t\tconst selected = await quickInputService.pick(signalOptions, {\n\t\t\t\tplaceHolder: localize('selectSignal', 'Select signal to send to terminal process')\n\t\t\t});\n\n\t\t\tif (!selected) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (selected.label === localize('manualSignal', 'Manually enter signal')) {\n\t\t\t\tconst inputSignal = await quickInputService.input({\n\t\t\t\t\tprompt: localize('enterSignal', 'Enter signal name (e.g., SIGTERM, SIGKILL)'),\n\t\t\t\t});\n\n\t\t\t\tif (!inputSignal) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsignal = inputSignal;\n\t\t\t} else {\n\t\t\t\tsignal = selected.label;\n\t\t\t}\n\t\t}\n\n\t\tawait instance.sendSignal(signal);\n\t}\n});\n"]}