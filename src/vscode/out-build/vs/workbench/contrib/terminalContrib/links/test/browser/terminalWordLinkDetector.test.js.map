{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/terminalContrib/links/test/browser/terminalWordLinkDetector.test.ts","vs/workbench/contrib/terminalContrib/links/test/browser/terminalWordLinkDetector.test.ts"],"names":[],"mappings":"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","file":"terminalWordLinkDetector.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { importAMDNodeModule } from '../../../../../../amdX.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../../base/test/common/utils.js';\nimport { IConfigurationService } from '../../../../../../platform/configuration/common/configuration.js';\nimport { TestConfigurationService } from '../../../../../../platform/configuration/test/common/testConfigurationService.js';\nimport { TestInstantiationService } from '../../../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { IProductService } from '../../../../../../platform/product/common/productService.js';\nimport { ITerminalSimpleLink, TerminalBuiltinLinkType } from '../../browser/links.js';\nimport { TerminalWordLinkDetector } from '../../browser/terminalWordLinkDetector.js';\nimport { assertLinkHelper } from './linkTestUtils.js';\nimport { TestProductService } from '../../../../../test/common/workbenchTestServices.js';\nimport type { Terminal } from '@xterm/xterm';\n\nsuite('Workbench - TerminalWordLinkDetector', () => {\n\tconst store = ensureNoDisposablesAreLeakedInTestSuite();\n\n\tlet configurationService: TestConfigurationService;\n\tlet detector: TerminalWordLinkDetector;\n\tlet xterm: Terminal;\n\tlet instantiationService: TestInstantiationService;\n\n\tsetup(async () => {\n\t\tinstantiationService = store.add(new TestInstantiationService());\n\t\tconfigurationService = new TestConfigurationService();\n\t\tawait configurationService.setUserConfiguration('terminal', { integrated: { wordSeparators: '' } });\n\n\t\tinstantiationService.stub(IConfigurationService, configurationService);\n\t\tinstantiationService.set(IProductService, TestProductService);\n\n\t\tconst TerminalCtor = (await importAMDNodeModule<typeof import('@xterm/xterm')>('@xterm/xterm', 'lib/xterm.js')).Terminal;\n\t\txterm = store.add(new TerminalCtor({ allowProposedApi: true, cols: 80, rows: 30 }));\n\t\tdetector = store.add(instantiationService.createInstance(TerminalWordLinkDetector, xterm));\n\t});\n\n\tasync function assertLink(\n\t\ttext: string,\n\t\texpected: (Pick<ITerminalSimpleLink, 'text'> & { range: [number, number][] })[]\n\t) {\n\t\tawait assertLinkHelper(text, expected, detector, TerminalBuiltinLinkType.Search);\n\t}\n\n\tsuite('should link words as defined by wordSeparators', () => {\n\t\ttest('\" ()[]\"', async () => {\n\t\t\tawait configurationService.setUserConfiguration('terminal', { integrated: { wordSeparators: ' ()[]' } });\n\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\tconfigurationService.onDidChangeConfigurationEmitter.fire({ affectsConfiguration: () => true } as any);\n\t\t\tawait assertLink('foo', [{ range: [[1, 1], [3, 1]], text: 'foo' }]);\n\t\t\tawait assertLink(' foo ', [{ range: [[2, 1], [4, 1]], text: 'foo' }]);\n\t\t\tawait assertLink('(foo)', [{ range: [[2, 1], [4, 1]], text: 'foo' }]);\n\t\t\tawait assertLink('[foo]', [{ range: [[2, 1], [4, 1]], text: 'foo' }]);\n\t\t\tawait assertLink('{foo}', [{ range: [[1, 1], [5, 1]], text: '{foo}' }]);\n\t\t});\n\t\ttest('\" \"', async () => {\n\t\t\tawait configurationService.setUserConfiguration('terminal', { integrated: { wordSeparators: ' ' } });\n\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\tconfigurationService.onDidChangeConfigurationEmitter.fire({ affectsConfiguration: () => true } as any);\n\t\t\tawait assertLink('foo', [{ range: [[1, 1], [3, 1]], text: 'foo' }]);\n\t\t\tawait assertLink(' foo ', [{ range: [[2, 1], [4, 1]], text: 'foo' }]);\n\t\t\tawait assertLink('(foo)', [{ range: [[1, 1], [5, 1]], text: '(foo)' }]);\n\t\t\tawait assertLink('[foo]', [{ range: [[1, 1], [5, 1]], text: '[foo]' }]);\n\t\t\tawait assertLink('{foo}', [{ range: [[1, 1], [5, 1]], text: '{foo}' }]);\n\t\t});\n\t\ttest('\" []\"', async () => {\n\t\t\tawait configurationService.setUserConfiguration('terminal', { integrated: { wordSeparators: ' []' } });\n\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\tconfigurationService.onDidChangeConfigurationEmitter.fire({ affectsConfiguration: () => true } as any);\n\t\t\tawait assertLink('aabbccdd.txt ', [{ range: [[1, 1], [12, 1]], text: 'aabbccdd.txt' }]);\n\t\t\tawait assertLink(' aabbccdd.txt ', [{ range: [[2, 1], [13, 1]], text: 'aabbccdd.txt' }]);\n\t\t\tawait assertLink(' [aabbccdd.txt] ', [{ range: [[3, 1], [14, 1]], text: 'aabbccdd.txt' }]);\n\t\t});\n\t});\n\n\tsuite('should ignore powerline symbols', () => {\n\t\tfor (let i = 0xe0b0; i <= 0xe0bf; i++) {\n\t\t\ttest(`\\\\u${i.toString(16)}`, async () => {\n\t\t\t\tawait assertLink(`${String.fromCharCode(i)}foo${String.fromCharCode(i)}`, [{ range: [[2, 1], [4, 1]], text: 'foo' }]);\n\t\t\t});\n\t\t}\n\t});\n\n\t// These are failing - the link's start x is 1 px too far to the right bc it starts\n\t// with a wide character, which the terminalLinkHelper currently doesn't account for\n\ttest.skip('should support wide characters', async () => {\n\t\tawait configurationService.setUserConfiguration('terminal', { integrated: { wordSeparators: ' []' } });\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tconfigurationService.onDidChangeConfigurationEmitter.fire({ affectsConfiguration: () => true } as any);\n\t\tawait assertLink('我是学生.txt ', [{ range: [[1, 1], [12, 1]], text: '我是学生.txt' }]);\n\t\tawait assertLink(' 我是学生.txt ', [{ range: [[2, 1], [13, 1]], text: '我是学生.txt' }]);\n\t\tawait assertLink(' [我是学生.txt] ', [{ range: [[3, 1], [14, 1]], text: '我是学生.txt' }]);\n\t});\n\n\ttest('should support multiple link results', async () => {\n\t\tawait configurationService.setUserConfiguration('terminal', { integrated: { wordSeparators: ' ' } });\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tconfigurationService.onDidChangeConfigurationEmitter.fire({ affectsConfiguration: () => true } as any);\n\t\tawait assertLink('foo bar', [\n\t\t\t{ range: [[1, 1], [3, 1]], text: 'foo' },\n\t\t\t{ range: [[5, 1], [7, 1]], text: 'bar' }\n\t\t]);\n\t});\n\n\ttest('should remove trailing colon in the link results', async () => {\n\t\tawait configurationService.setUserConfiguration('terminal', { integrated: { wordSeparators: ' ' } });\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tconfigurationService.onDidChangeConfigurationEmitter.fire({ affectsConfiguration: () => true } as any);\n\t\tawait assertLink('foo:5:6: bar:0:32:', [\n\t\t\t{ range: [[1, 1], [7, 1]], text: 'foo:5:6' },\n\t\t\t{ range: [[10, 1], [17, 1]], text: 'bar:0:32' }\n\t\t]);\n\t});\n\n\ttest('should support wrapping', async () => {\n\t\tawait configurationService.setUserConfiguration('terminal', { integrated: { wordSeparators: ' ' } });\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tconfigurationService.onDidChangeConfigurationEmitter.fire({ affectsConfiguration: () => true } as any);\n\t\tawait assertLink('fsdjfsdkfjslkdfjskdfjsldkfjsdlkfjslkdjfskldjflskdfjskldjflskdfjsdklfjsdklfjsldkfjsdlkfjsdlkfjsdlkfjsldkfjslkdfjsdlkfjsldkfjsdlkfjskdfjsldkfjsdlkfjslkdfjsdlkfjsldkfjsldkfjsldkfjslkdfjsdlkfjslkdfjsdklfsd', [\n\t\t\t{ range: [[1, 1], [41, 3]], text: 'fsdjfsdkfjslkdfjskdfjsldkfjsdlkfjslkdjfskldjflskdfjskldjflskdfjsdklfjsdklfjsldkfjsdlkfjsdlkfjsdlkfjsldkfjslkdfjsdlkfjsldkfjsdlkfjskdfjsldkfjsdlkfjslkdfjsdlkfjsldkfjsldkfjsldkfjslkdfjsdlkfjslkdfjsdklfsd' },\n\t\t]);\n\t});\n\ttest('should support wrapping with multiple links', async () => {\n\t\tawait configurationService.setUserConfiguration('terminal', { integrated: { wordSeparators: ' ' } });\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tconfigurationService.onDidChangeConfigurationEmitter.fire({ affectsConfiguration: () => true } as any);\n\t\tawait assertLink('fsdjfsdkfjslkdfjskdfjsldkfj sdlkfjslkdjfskldjflskdfjskldjflskdfj sdklfjsdklfjsldkfjsdlkfjsdlkfjsdlkfjsldkfjslkdfjsdlkfjsldkfjsdlkfjskdfjsldkfjsdlkfjslkdfjsdlkfjsldkfjsldkfjsldkfjslkdfjsdlkfjslkdfjsdklfsd', [\n\t\t\t{ range: [[1, 1], [27, 1]], text: 'fsdjfsdkfjslkdfjskdfjsldkfj' },\n\t\t\t{ range: [[29, 1], [64, 1]], text: 'sdlkfjslkdjfskldjflskdfjskldjflskdfj' },\n\t\t\t{ range: [[66, 1], [43, 3]], text: 'sdklfjsdklfjsldkfjsdlkfjsdlkfjsdlkfjsldkfjslkdfjsdlkfjsldkfjsdlkfjskdfjsldkfjsdlkfjslkdfjsdlkfjsldkfjsldkfjsldkfjslkdfjsdlkfjslkdfjsdklfsd' }\n\t\t]);\n\t});\n\ttest('does not return any links for empty text', async () => {\n\t\tawait configurationService.setUserConfiguration('terminal', { integrated: { wordSeparators: ' ' } });\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tconfigurationService.onDidChangeConfigurationEmitter.fire({ affectsConfiguration: () => true } as any);\n\t\tawait assertLink('', []);\n\t});\n\ttest('should support file scheme links', async () => {\n\t\tawait configurationService.setUserConfiguration('terminal', { integrated: { wordSeparators: ' ' } });\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tconfigurationService.onDidChangeConfigurationEmitter.fire({ affectsConfiguration: () => true } as any);\n\t\tawait assertLink('file:///C:/users/test/file.txt ', [{ range: [[1, 1], [30, 1]], text: 'file:///C:/users/test/file.txt' }]);\n\t\tawait assertLink('file:///C:/users/test/file.txt:1:10 ', [{ range: [[1, 1], [35, 1]], text: 'file:///C:/users/test/file.txt:1:10' }]);\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { importAMDNodeModule } from '../../../../../../amdX.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../../base/test/common/utils.js';\nimport { IConfigurationService } from '../../../../../../platform/configuration/common/configuration.js';\nimport { TestConfigurationService } from '../../../../../../platform/configuration/test/common/testConfigurationService.js';\nimport { TestInstantiationService } from '../../../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { IProductService } from '../../../../../../platform/product/common/productService.js';\nimport { ITerminalSimpleLink, TerminalBuiltinLinkType } from '../../browser/links.js';\nimport { TerminalWordLinkDetector } from '../../browser/terminalWordLinkDetector.js';\nimport { assertLinkHelper } from './linkTestUtils.js';\nimport { TestProductService } from '../../../../../test/common/workbenchTestServices.js';\nimport type { Terminal } from '@xterm/xterm';\n\nsuite('Workbench - TerminalWordLinkDetector', () => {\n\tconst store = ensureNoDisposablesAreLeakedInTestSuite();\n\n\tlet configurationService: TestConfigurationService;\n\tlet detector: TerminalWordLinkDetector;\n\tlet xterm: Terminal;\n\tlet instantiationService: TestInstantiationService;\n\n\tsetup(async () => {\n\t\tinstantiationService = store.add(new TestInstantiationService());\n\t\tconfigurationService = new TestConfigurationService();\n\t\tawait configurationService.setUserConfiguration('terminal', { integrated: { wordSeparators: '' } });\n\n\t\tinstantiationService.stub(IConfigurationService, configurationService);\n\t\tinstantiationService.set(IProductService, TestProductService);\n\n\t\tconst TerminalCtor = (await importAMDNodeModule<typeof import('@xterm/xterm')>('@xterm/xterm', 'lib/xterm.js')).Terminal;\n\t\txterm = store.add(new TerminalCtor({ allowProposedApi: true, cols: 80, rows: 30 }));\n\t\tdetector = store.add(instantiationService.createInstance(TerminalWordLinkDetector, xterm));\n\t});\n\n\tasync function assertLink(\n\t\ttext: string,\n\t\texpected: (Pick<ITerminalSimpleLink, 'text'> & { range: [number, number][] })[]\n\t) {\n\t\tawait assertLinkHelper(text, expected, detector, TerminalBuiltinLinkType.Search);\n\t}\n\n\tsuite('should link words as defined by wordSeparators', () => {\n\t\ttest('\" ()[]\"', async () => {\n\t\t\tawait configurationService.setUserConfiguration('terminal', { integrated: { wordSeparators: ' ()[]' } });\n\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\tconfigurationService.onDidChangeConfigurationEmitter.fire({ affectsConfiguration: () => true } as any);\n\t\t\tawait assertLink('foo', [{ range: [[1, 1], [3, 1]], text: 'foo' }]);\n\t\t\tawait assertLink(' foo ', [{ range: [[2, 1], [4, 1]], text: 'foo' }]);\n\t\t\tawait assertLink('(foo)', [{ range: [[2, 1], [4, 1]], text: 'foo' }]);\n\t\t\tawait assertLink('[foo]', [{ range: [[2, 1], [4, 1]], text: 'foo' }]);\n\t\t\tawait assertLink('{foo}', [{ range: [[1, 1], [5, 1]], text: '{foo}' }]);\n\t\t});\n\t\ttest('\" \"', async () => {\n\t\t\tawait configurationService.setUserConfiguration('terminal', { integrated: { wordSeparators: ' ' } });\n\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\tconfigurationService.onDidChangeConfigurationEmitter.fire({ affectsConfiguration: () => true } as any);\n\t\t\tawait assertLink('foo', [{ range: [[1, 1], [3, 1]], text: 'foo' }]);\n\t\t\tawait assertLink(' foo ', [{ range: [[2, 1], [4, 1]], text: 'foo' }]);\n\t\t\tawait assertLink('(foo)', [{ range: [[1, 1], [5, 1]], text: '(foo)' }]);\n\t\t\tawait assertLink('[foo]', [{ range: [[1, 1], [5, 1]], text: '[foo]' }]);\n\t\t\tawait assertLink('{foo}', [{ range: [[1, 1], [5, 1]], text: '{foo}' }]);\n\t\t});\n\t\ttest('\" []\"', async () => {\n\t\t\tawait configurationService.setUserConfiguration('terminal', { integrated: { wordSeparators: ' []' } });\n\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\tconfigurationService.onDidChangeConfigurationEmitter.fire({ affectsConfiguration: () => true } as any);\n\t\t\tawait assertLink('aabbccdd.txt ', [{ range: [[1, 1], [12, 1]], text: 'aabbccdd.txt' }]);\n\t\t\tawait assertLink(' aabbccdd.txt ', [{ range: [[2, 1], [13, 1]], text: 'aabbccdd.txt' }]);\n\t\t\tawait assertLink(' [aabbccdd.txt] ', [{ range: [[3, 1], [14, 1]], text: 'aabbccdd.txt' }]);\n\t\t});\n\t});\n\n\tsuite('should ignore powerline symbols', () => {\n\t\tfor (let i = 0xe0b0; i <= 0xe0bf; i++) {\n\t\t\ttest(`\\\\u${i.toString(16)}`, async () => {\n\t\t\t\tawait assertLink(`${String.fromCharCode(i)}foo${String.fromCharCode(i)}`, [{ range: [[2, 1], [4, 1]], text: 'foo' }]);\n\t\t\t});\n\t\t}\n\t});\n\n\t// These are failing - the link's start x is 1 px too far to the right bc it starts\n\t// with a wide character, which the terminalLinkHelper currently doesn't account for\n\ttest.skip('should support wide characters', async () => {\n\t\tawait configurationService.setUserConfiguration('terminal', { integrated: { wordSeparators: ' []' } });\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tconfigurationService.onDidChangeConfigurationEmitter.fire({ affectsConfiguration: () => true } as any);\n\t\tawait assertLink('我是学生.txt ', [{ range: [[1, 1], [12, 1]], text: '我是学生.txt' }]);\n\t\tawait assertLink(' 我是学生.txt ', [{ range: [[2, 1], [13, 1]], text: '我是学生.txt' }]);\n\t\tawait assertLink(' [我是学生.txt] ', [{ range: [[3, 1], [14, 1]], text: '我是学生.txt' }]);\n\t});\n\n\ttest('should support multiple link results', async () => {\n\t\tawait configurationService.setUserConfiguration('terminal', { integrated: { wordSeparators: ' ' } });\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tconfigurationService.onDidChangeConfigurationEmitter.fire({ affectsConfiguration: () => true } as any);\n\t\tawait assertLink('foo bar', [\n\t\t\t{ range: [[1, 1], [3, 1]], text: 'foo' },\n\t\t\t{ range: [[5, 1], [7, 1]], text: 'bar' }\n\t\t]);\n\t});\n\n\ttest('should remove trailing colon in the link results', async () => {\n\t\tawait configurationService.setUserConfiguration('terminal', { integrated: { wordSeparators: ' ' } });\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tconfigurationService.onDidChangeConfigurationEmitter.fire({ affectsConfiguration: () => true } as any);\n\t\tawait assertLink('foo:5:6: bar:0:32:', [\n\t\t\t{ range: [[1, 1], [7, 1]], text: 'foo:5:6' },\n\t\t\t{ range: [[10, 1], [17, 1]], text: 'bar:0:32' }\n\t\t]);\n\t});\n\n\ttest('should support wrapping', async () => {\n\t\tawait configurationService.setUserConfiguration('terminal', { integrated: { wordSeparators: ' ' } });\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tconfigurationService.onDidChangeConfigurationEmitter.fire({ affectsConfiguration: () => true } as any);\n\t\tawait assertLink('fsdjfsdkfjslkdfjskdfjsldkfjsdlkfjslkdjfskldjflskdfjskldjflskdfjsdklfjsdklfjsldkfjsdlkfjsdlkfjsdlkfjsldkfjslkdfjsdlkfjsldkfjsdlkfjskdfjsldkfjsdlkfjslkdfjsdlkfjsldkfjsldkfjsldkfjslkdfjsdlkfjslkdfjsdklfsd', [\n\t\t\t{ range: [[1, 1], [41, 3]], text: 'fsdjfsdkfjslkdfjskdfjsldkfjsdlkfjslkdjfskldjflskdfjskldjflskdfjsdklfjsdklfjsldkfjsdlkfjsdlkfjsdlkfjsldkfjslkdfjsdlkfjsldkfjsdlkfjskdfjsldkfjsdlkfjslkdfjsdlkfjsldkfjsldkfjsldkfjslkdfjsdlkfjslkdfjsdklfsd' },\n\t\t]);\n\t});\n\ttest('should support wrapping with multiple links', async () => {\n\t\tawait configurationService.setUserConfiguration('terminal', { integrated: { wordSeparators: ' ' } });\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tconfigurationService.onDidChangeConfigurationEmitter.fire({ affectsConfiguration: () => true } as any);\n\t\tawait assertLink('fsdjfsdkfjslkdfjskdfjsldkfj sdlkfjslkdjfskldjflskdfjskldjflskdfj sdklfjsdklfjsldkfjsdlkfjsdlkfjsdlkfjsldkfjslkdfjsdlkfjsldkfjsdlkfjskdfjsldkfjsdlkfjslkdfjsdlkfjsldkfjsldkfjsldkfjslkdfjsdlkfjslkdfjsdklfsd', [\n\t\t\t{ range: [[1, 1], [27, 1]], text: 'fsdjfsdkfjslkdfjskdfjsldkfj' },\n\t\t\t{ range: [[29, 1], [64, 1]], text: 'sdlkfjslkdjfskldjflskdfjskldjflskdfj' },\n\t\t\t{ range: [[66, 1], [43, 3]], text: 'sdklfjsdklfjsldkfjsdlkfjsdlkfjsdlkfjsldkfjslkdfjsdlkfjsldkfjsdlkfjskdfjsldkfjsdlkfjslkdfjsdlkfjsldkfjsldkfjsldkfjslkdfjsdlkfjslkdfjsdklfsd' }\n\t\t]);\n\t});\n\ttest('does not return any links for empty text', async () => {\n\t\tawait configurationService.setUserConfiguration('terminal', { integrated: { wordSeparators: ' ' } });\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tconfigurationService.onDidChangeConfigurationEmitter.fire({ affectsConfiguration: () => true } as any);\n\t\tawait assertLink('', []);\n\t});\n\ttest('should support file scheme links', async () => {\n\t\tawait configurationService.setUserConfiguration('terminal', { integrated: { wordSeparators: ' ' } });\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tconfigurationService.onDidChangeConfigurationEmitter.fire({ affectsConfiguration: () => true } as any);\n\t\tawait assertLink('file:///C:/users/test/file.txt ', [{ range: [[1, 1], [30, 1]], text: 'file:///C:/users/test/file.txt' }]);\n\t\tawait assertLink('file:///C:/users/test/file.txt:1:10 ', [{ range: [[1, 1], [35, 1]], text: 'file:///C:/users/test/file.txt:1:10' }]);\n\t});\n});\n"]}