{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/terminalContrib/links/test/browser/terminalLinkParsing.test.ts","vs/workbench/contrib/terminalContrib/links/test/browser/terminalLinkParsing.test.ts"],"names":[],"mappings":"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","file":"terminalLinkParsing.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { deepStrictEqual, ok, strictEqual } from 'assert';\nimport { OperatingSystem } from '../../../../../../base/common/platform.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../../base/test/common/utils.js';\nimport { detectLinks, detectLinkSuffixes, getLinkSuffix, IParsedLink, removeLinkQueryString, removeLinkSuffix } from '../../browser/terminalLinkParsing.js';\n\ninterface ITestLink {\n\tlink: string;\n\tprefix: string | undefined;\n\tsuffix: string | undefined;\n\t// TODO: These has vars would be nicer as a flags enum\n\thasRow: boolean;\n\thasCol: boolean;\n\thasRowEnd?: boolean;\n\thasColEnd?: boolean;\n}\n\nconst operatingSystems: ReadonlyArray<OperatingSystem> = [\n\tOperatingSystem.Linux,\n\tOperatingSystem.Macintosh,\n\tOperatingSystem.Windows\n];\nconst osTestPath: { [key: number | OperatingSystem]: string } = {\n\t[OperatingSystem.Linux]: '/test/path/linux',\n\t[OperatingSystem.Macintosh]: '/test/path/macintosh',\n\t[OperatingSystem.Windows]: 'C:\\\\test\\\\path\\\\windows'\n};\nconst osLabel: { [key: number | OperatingSystem]: string } = {\n\t[OperatingSystem.Linux]: '[Linux]',\n\t[OperatingSystem.Macintosh]: '[macOS]',\n\t[OperatingSystem.Windows]: '[Windows]'\n};\n\nconst testRow = 339;\nconst testCol = 12;\nconst testRowEnd = 341;\nconst testColEnd = 789;\nconst testLinks: ITestLink[] = [\n\t// Simple\n\t{ link: 'foo', prefix: undefined, suffix: undefined, hasRow: false, hasCol: false },\n\t{ link: 'foo:339', prefix: undefined, suffix: ':339', hasRow: true, hasCol: false },\n\t{ link: 'foo:339:12', prefix: undefined, suffix: ':339:12', hasRow: true, hasCol: true },\n\t{ link: 'foo:339:12-789', prefix: undefined, suffix: ':339:12-789', hasRow: true, hasCol: true, hasRowEnd: false, hasColEnd: true },\n\t{ link: 'foo:339.12', prefix: undefined, suffix: ':339.12', hasRow: true, hasCol: true },\n\t{ link: 'foo:339.12-789', prefix: undefined, suffix: ':339.12-789', hasRow: true, hasCol: true, hasRowEnd: false, hasColEnd: true },\n\t{ link: 'foo:339.12-341.789', prefix: undefined, suffix: ':339.12-341.789', hasRow: true, hasCol: true, hasRowEnd: true, hasColEnd: true },\n\t{ link: 'foo#339', prefix: undefined, suffix: '#339', hasRow: true, hasCol: false },\n\t{ link: 'foo#339:12', prefix: undefined, suffix: '#339:12', hasRow: true, hasCol: true },\n\t{ link: 'foo#339:12-789', prefix: undefined, suffix: '#339:12-789', hasRow: true, hasCol: true, hasRowEnd: false, hasColEnd: true },\n\t{ link: 'foo#339.12', prefix: undefined, suffix: '#339.12', hasRow: true, hasCol: true },\n\t{ link: 'foo#339.12-789', prefix: undefined, suffix: '#339.12-789', hasRow: true, hasCol: true, hasRowEnd: false, hasColEnd: true },\n\t{ link: 'foo#339.12-341.789', prefix: undefined, suffix: '#339.12-341.789', hasRow: true, hasCol: true, hasRowEnd: true, hasColEnd: true },\n\t{ link: 'foo 339', prefix: undefined, suffix: ' 339', hasRow: true, hasCol: false },\n\t{ link: 'foo 339:12', prefix: undefined, suffix: ' 339:12', hasRow: true, hasCol: true },\n\t{ link: 'foo 339:12-789', prefix: undefined, suffix: ' 339:12-789', hasRow: true, hasCol: true, hasRowEnd: false, hasColEnd: true },\n\t{ link: 'foo 339.12', prefix: undefined, suffix: ' 339.12', hasRow: true, hasCol: true },\n\t{ link: 'foo 339.12-789', prefix: undefined, suffix: ' 339.12-789', hasRow: true, hasCol: true, hasRowEnd: false, hasColEnd: true },\n\t{ link: 'foo 339.12-341.789', prefix: undefined, suffix: ' 339.12-341.789', hasRow: true, hasCol: true, hasRowEnd: true, hasColEnd: true },\n\t{ link: 'foo, 339', prefix: undefined, suffix: ', 339', hasRow: true, hasCol: false },\n\n\t// Double quotes\n\t{ link: '\"foo\",339', prefix: '\"', suffix: '\",339', hasRow: true, hasCol: false },\n\t{ link: '\"foo\",339:12', prefix: '\"', suffix: '\",339:12', hasRow: true, hasCol: true },\n\t{ link: '\"foo\",339.12', prefix: '\"', suffix: '\",339.12', hasRow: true, hasCol: true },\n\t{ link: '\"foo\", line 339', prefix: '\"', suffix: '\", line 339', hasRow: true, hasCol: false },\n\t{ link: '\"foo\", line 339, col 12', prefix: '\"', suffix: '\", line 339, col 12', hasRow: true, hasCol: true },\n\t{ link: '\"foo\", line 339, column 12', prefix: '\"', suffix: '\", line 339, column 12', hasRow: true, hasCol: true },\n\t{ link: '\"foo\":line 339', prefix: '\"', suffix: '\":line 339', hasRow: true, hasCol: false },\n\t{ link: '\"foo\":line 339, col 12', prefix: '\"', suffix: '\":line 339, col 12', hasRow: true, hasCol: true },\n\t{ link: '\"foo\":line 339, column 12', prefix: '\"', suffix: '\":line 339, column 12', hasRow: true, hasCol: true },\n\t{ link: '\"foo\": line 339', prefix: '\"', suffix: '\": line 339', hasRow: true, hasCol: false },\n\t{ link: '\"foo\": line 339, col 12', prefix: '\"', suffix: '\": line 339, col 12', hasRow: true, hasCol: true },\n\t{ link: '\"foo\": line 339, column 12', prefix: '\"', suffix: '\": line 339, column 12', hasRow: true, hasCol: true },\n\t{ link: '\"foo\" on line 339', prefix: '\"', suffix: '\" on line 339', hasRow: true, hasCol: false },\n\t{ link: '\"foo\" on line 339, col 12', prefix: '\"', suffix: '\" on line 339, col 12', hasRow: true, hasCol: true },\n\t{ link: '\"foo\" on line 339, column 12', prefix: '\"', suffix: '\" on line 339, column 12', hasRow: true, hasCol: true },\n\t{ link: '\"foo\" line 339', prefix: '\"', suffix: '\" line 339', hasRow: true, hasCol: false },\n\t{ link: '\"foo\" line 339 column 12', prefix: '\"', suffix: '\" line 339 column 12', hasRow: true, hasCol: true },\n\n\t// Single quotes\n\t{ link: '\\'foo\\',339', prefix: '\\'', suffix: '\\',339', hasRow: true, hasCol: false },\n\t{ link: '\\'foo\\',339:12', prefix: '\\'', suffix: '\\',339:12', hasRow: true, hasCol: true },\n\t{ link: '\\'foo\\',339.12', prefix: '\\'', suffix: '\\',339.12', hasRow: true, hasCol: true },\n\t{ link: '\\'foo\\', line 339', prefix: '\\'', suffix: '\\', line 339', hasRow: true, hasCol: false },\n\t{ link: '\\'foo\\', line 339, col 12', prefix: '\\'', suffix: '\\', line 339, col 12', hasRow: true, hasCol: true },\n\t{ link: '\\'foo\\', line 339, column 12', prefix: '\\'', suffix: '\\', line 339, column 12', hasRow: true, hasCol: true },\n\t{ link: '\\'foo\\':line 339', prefix: '\\'', suffix: '\\':line 339', hasRow: true, hasCol: false },\n\t{ link: '\\'foo\\':line 339, col 12', prefix: '\\'', suffix: '\\':line 339, col 12', hasRow: true, hasCol: true },\n\t{ link: '\\'foo\\':line 339, column 12', prefix: '\\'', suffix: '\\':line 339, column 12', hasRow: true, hasCol: true },\n\t{ link: '\\'foo\\': line 339', prefix: '\\'', suffix: '\\': line 339', hasRow: true, hasCol: false },\n\t{ link: '\\'foo\\': line 339, col 12', prefix: '\\'', suffix: '\\': line 339, col 12', hasRow: true, hasCol: true },\n\t{ link: '\\'foo\\': line 339, column 12', prefix: '\\'', suffix: '\\': line 339, column 12', hasRow: true, hasCol: true },\n\t{ link: '\\'foo\\' on line 339', prefix: '\\'', suffix: '\\' on line 339', hasRow: true, hasCol: false },\n\t{ link: '\\'foo\\' on line 339, col 12', prefix: '\\'', suffix: '\\' on line 339, col 12', hasRow: true, hasCol: true },\n\t{ link: '\\'foo\\' on line 339, column 12', prefix: '\\'', suffix: '\\' on line 339, column 12', hasRow: true, hasCol: true },\n\t{ link: '\\'foo\\' line 339', prefix: '\\'', suffix: '\\' line 339', hasRow: true, hasCol: false },\n\t{ link: '\\'foo\\' line 339 column 12', prefix: '\\'', suffix: '\\' line 339 column 12', hasRow: true, hasCol: true },\n\n\t// No quotes\n\t{ link: 'foo, line 339', prefix: undefined, suffix: ', line 339', hasRow: true, hasCol: false },\n\t{ link: 'foo, line 339, col 12', prefix: undefined, suffix: ', line 339, col 12', hasRow: true, hasCol: true },\n\t{ link: 'foo, line 339, column 12', prefix: undefined, suffix: ', line 339, column 12', hasRow: true, hasCol: true },\n\t{ link: 'foo:line 339', prefix: undefined, suffix: ':line 339', hasRow: true, hasCol: false },\n\t{ link: 'foo:line 339, col 12', prefix: undefined, suffix: ':line 339, col 12', hasRow: true, hasCol: true },\n\t{ link: 'foo:line 339, column 12', prefix: undefined, suffix: ':line 339, column 12', hasRow: true, hasCol: true },\n\t{ link: 'foo: line 339', prefix: undefined, suffix: ': line 339', hasRow: true, hasCol: false },\n\t{ link: 'foo: line 339, col 12', prefix: undefined, suffix: ': line 339, col 12', hasRow: true, hasCol: true },\n\t{ link: 'foo: line 339, column 12', prefix: undefined, suffix: ': line 339, column 12', hasRow: true, hasCol: true },\n\t{ link: 'foo on line 339', prefix: undefined, suffix: ' on line 339', hasRow: true, hasCol: false },\n\t{ link: 'foo on line 339, col 12', prefix: undefined, suffix: ' on line 339, col 12', hasRow: true, hasCol: true },\n\t{ link: 'foo on line 339, column 12', prefix: undefined, suffix: ' on line 339, column 12', hasRow: true, hasCol: true },\n\t{ link: 'foo line 339', prefix: undefined, suffix: ' line 339', hasRow: true, hasCol: false },\n\t{ link: 'foo line 339 column 12', prefix: undefined, suffix: ' line 339 column 12', hasRow: true, hasCol: true },\n\n\t// Parentheses\n\t{ link: 'foo(339)', prefix: undefined, suffix: '(339)', hasRow: true, hasCol: false },\n\t{ link: 'foo(339,12)', prefix: undefined, suffix: '(339,12)', hasRow: true, hasCol: true },\n\t{ link: 'foo(339, 12)', prefix: undefined, suffix: '(339, 12)', hasRow: true, hasCol: true },\n\t{ link: 'foo (339)', prefix: undefined, suffix: ' (339)', hasRow: true, hasCol: false },\n\t{ link: 'foo (339,12)', prefix: undefined, suffix: ' (339,12)', hasRow: true, hasCol: true },\n\t{ link: 'foo (339, 12)', prefix: undefined, suffix: ' (339, 12)', hasRow: true, hasCol: true },\n\t{ link: 'foo: (339)', prefix: undefined, suffix: ': (339)', hasRow: true, hasCol: false },\n\t{ link: 'foo: (339,12)', prefix: undefined, suffix: ': (339,12)', hasRow: true, hasCol: true },\n\t{ link: 'foo: (339, 12)', prefix: undefined, suffix: ': (339, 12)', hasRow: true, hasCol: true },\n\t{ link: 'foo(339:12)', prefix: undefined, suffix: '(339:12)', hasRow: true, hasCol: true },\n\t{ link: 'foo (339:12)', prefix: undefined, suffix: ' (339:12)', hasRow: true, hasCol: true },\n\n\t// Square brackets\n\t{ link: 'foo[339]', prefix: undefined, suffix: '[339]', hasRow: true, hasCol: false },\n\t{ link: 'foo[339,12]', prefix: undefined, suffix: '[339,12]', hasRow: true, hasCol: true },\n\t{ link: 'foo[339, 12]', prefix: undefined, suffix: '[339, 12]', hasRow: true, hasCol: true },\n\t{ link: 'foo [339]', prefix: undefined, suffix: ' [339]', hasRow: true, hasCol: false },\n\t{ link: 'foo [339,12]', prefix: undefined, suffix: ' [339,12]', hasRow: true, hasCol: true },\n\t{ link: 'foo [339, 12]', prefix: undefined, suffix: ' [339, 12]', hasRow: true, hasCol: true },\n\t{ link: 'foo: [339]', prefix: undefined, suffix: ': [339]', hasRow: true, hasCol: false },\n\t{ link: 'foo: [339,12]', prefix: undefined, suffix: ': [339,12]', hasRow: true, hasCol: true },\n\t{ link: 'foo: [339, 12]', prefix: undefined, suffix: ': [339, 12]', hasRow: true, hasCol: true },\n\t{ link: 'foo[339:12]', prefix: undefined, suffix: '[339:12]', hasRow: true, hasCol: true },\n\t{ link: 'foo [339:12]', prefix: undefined, suffix: ' [339:12]', hasRow: true, hasCol: true },\n\n\t// OCaml-style\n\t{ link: '\"foo\", line 339, character 12', prefix: '\"', suffix: '\", line 339, character 12', hasRow: true, hasCol: true },\n\t{ link: '\"foo\", line 339, characters 12-789', prefix: '\"', suffix: '\", line 339, characters 12-789', hasRow: true, hasCol: true, hasColEnd: true },\n\t{ link: '\"foo\", lines 339-341', prefix: '\"', suffix: '\", lines 339-341', hasRow: true, hasCol: false, hasRowEnd: true },\n\t{ link: '\"foo\", lines 339-341, characters 12-789', prefix: '\"', suffix: '\", lines 339-341, characters 12-789', hasRow: true, hasCol: true, hasRowEnd: true, hasColEnd: true },\n\n\t// Non-breaking space\n\t{ link: 'foo\\u00A0339:12', prefix: undefined, suffix: '\\u00A0339:12', hasRow: true, hasCol: true },\n\t{ link: '\"foo\" on line 339,\\u00A0column 12', prefix: '\"', suffix: '\" on line 339,\\u00A0column 12', hasRow: true, hasCol: true },\n\t{ link: '\\'foo\\' on line\\u00A0339, column 12', prefix: '\\'', suffix: '\\' on line\\u00A0339, column 12', hasRow: true, hasCol: true },\n\t{ link: 'foo (339,\\u00A012)', prefix: undefined, suffix: ' (339,\\u00A012)', hasRow: true, hasCol: true },\n\t{ link: 'foo\\u00A0[339, 12]', prefix: undefined, suffix: '\\u00A0[339, 12]', hasRow: true, hasCol: true },\n];\nconst testLinksWithSuffix = testLinks.filter(e => !!e.suffix);\n\nsuite('TerminalLinkParsing', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tsuite('removeLinkSuffix', () => {\n\t\tfor (const testLink of testLinks) {\n\t\t\ttest('`' + testLink.link + '`', () => {\n\t\t\t\tdeepStrictEqual(\n\t\t\t\t\tremoveLinkSuffix(testLink.link),\n\t\t\t\t\ttestLink.suffix === undefined ? testLink.link : testLink.link.replace(testLink.suffix, '')\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t});\n\tsuite('getLinkSuffix', () => {\n\t\tfor (const testLink of testLinks) {\n\t\t\ttest('`' + testLink.link + '`', () => {\n\t\t\t\tdeepStrictEqual(\n\t\t\t\t\tgetLinkSuffix(testLink.link),\n\t\t\t\t\ttestLink.suffix === undefined ? null : {\n\t\t\t\t\t\trow: testLink.hasRow ? testRow : undefined,\n\t\t\t\t\t\tcol: testLink.hasCol ? testCol : undefined,\n\t\t\t\t\t\trowEnd: testLink.hasRowEnd ? testRowEnd : undefined,\n\t\t\t\t\t\tcolEnd: testLink.hasColEnd ? testColEnd : undefined,\n\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\tindex: testLink.link.length - testLink.suffix.length,\n\t\t\t\t\t\t\ttext: testLink.suffix\n\t\t\t\t\t\t}\n\t\t\t\t\t} as ReturnType<typeof getLinkSuffix>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t});\n\tsuite('detectLinkSuffixes', () => {\n\t\tfor (const testLink of testLinks) {\n\t\t\ttest('`' + testLink.link + '`', () => {\n\t\t\t\tdeepStrictEqual(\n\t\t\t\t\tdetectLinkSuffixes(testLink.link),\n\t\t\t\t\ttestLink.suffix === undefined ? [] : [{\n\t\t\t\t\t\trow: testLink.hasRow ? testRow : undefined,\n\t\t\t\t\t\tcol: testLink.hasCol ? testCol : undefined,\n\t\t\t\t\t\trowEnd: testLink.hasRowEnd ? testRowEnd : undefined,\n\t\t\t\t\t\tcolEnd: testLink.hasColEnd ? testColEnd : undefined,\n\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\tindex: testLink.link.length - testLink.suffix.length,\n\t\t\t\t\t\t\ttext: testLink.suffix\n\t\t\t\t\t\t}\n\t\t\t\t\t} as ReturnType<typeof getLinkSuffix>]\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\n\t\ttest('foo(1, 2) bar[3, 4] baz on line 5', () => {\n\t\t\tdeepStrictEqual(\n\t\t\t\tdetectLinkSuffixes('foo(1, 2) bar[3, 4] baz on line 5'),\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\tcol: 2,\n\t\t\t\t\t\trow: 1,\n\t\t\t\t\t\trowEnd: undefined,\n\t\t\t\t\t\tcolEnd: undefined,\n\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\tindex: 3,\n\t\t\t\t\t\t\ttext: '(1, 2)'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tcol: 4,\n\t\t\t\t\t\trow: 3,\n\t\t\t\t\t\trowEnd: undefined,\n\t\t\t\t\t\tcolEnd: undefined,\n\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\tindex: 13,\n\t\t\t\t\t\t\ttext: '[3, 4]'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tcol: undefined,\n\t\t\t\t\t\trow: 5,\n\t\t\t\t\t\trowEnd: undefined,\n\t\t\t\t\t\tcolEnd: undefined,\n\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\tindex: 23,\n\t\t\t\t\t\t\ttext: ' on line 5'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t);\n\t\t});\n\t});\n\tsuite('removeLinkQueryString', () => {\n\t\ttest('should remove any query string from the link', () => {\n\t\t\tstrictEqual(removeLinkQueryString('?a=b'), '');\n\t\t\tstrictEqual(removeLinkQueryString('foo?a=b'), 'foo');\n\t\t\tstrictEqual(removeLinkQueryString('./foo?a=b'), './foo');\n\t\t\tstrictEqual(removeLinkQueryString('/foo/bar?a=b'), '/foo/bar');\n\t\t\tstrictEqual(removeLinkQueryString('foo?a=b?'), 'foo');\n\t\t\tstrictEqual(removeLinkQueryString('foo?a=b&c=d'), 'foo');\n\t\t});\n\t\ttest('should respect ? in UNC paths', () => {\n\t\t\tstrictEqual(removeLinkQueryString('\\\\\\\\?\\\\foo?a=b'), '\\\\\\\\?\\\\foo');\n\t\t});\n\t});\n\tsuite('detectLinks', () => {\n\t\ttest('foo(1, 2) bar[3, 4] \"baz\" on line 5', () => {\n\t\t\tdeepStrictEqual(\n\t\t\t\tdetectLinks('foo(1, 2) bar[3, 4] \"baz\" on line 5', OperatingSystem.Linux),\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\t\ttext: 'foo'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\tcol: 2,\n\t\t\t\t\t\t\trow: 1,\n\t\t\t\t\t\t\trowEnd: undefined,\n\t\t\t\t\t\t\tcolEnd: undefined,\n\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\tindex: 3,\n\t\t\t\t\t\t\t\ttext: '(1, 2)'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\tindex: 10,\n\t\t\t\t\t\t\ttext: 'bar'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\tcol: 4,\n\t\t\t\t\t\t\trow: 3,\n\t\t\t\t\t\t\trowEnd: undefined,\n\t\t\t\t\t\t\tcolEnd: undefined,\n\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\tindex: 13,\n\t\t\t\t\t\t\t\ttext: '[3, 4]'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\tindex: 21,\n\t\t\t\t\t\t\ttext: 'baz'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tprefix: {\n\t\t\t\t\t\t\tindex: 20,\n\t\t\t\t\t\t\ttext: '\"'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\tcol: undefined,\n\t\t\t\t\t\t\trow: 5,\n\t\t\t\t\t\t\trowEnd: undefined,\n\t\t\t\t\t\t\tcolEnd: undefined,\n\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\tindex: 24,\n\t\t\t\t\t\t\t\ttext: '\" on line 5'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t] as IParsedLink[]\n\t\t\t);\n\t\t});\n\n\t\ttest('should detect multiple links when opening brackets are in the text', () => {\n\t\t\tdeepStrictEqual(\n\t\t\t\tdetectLinks('notlink[foo:45]', OperatingSystem.Linux),\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\t\ttext: 'notlink[foo'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\tcol: undefined,\n\t\t\t\t\t\t\trow: 45,\n\t\t\t\t\t\t\trowEnd: undefined,\n\t\t\t\t\t\t\tcolEnd: undefined,\n\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\tindex: 11,\n\t\t\t\t\t\t\t\ttext: ':45'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\tindex: 8,\n\t\t\t\t\t\t\ttext: 'foo'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\tcol: undefined,\n\t\t\t\t\t\t\trow: 45,\n\t\t\t\t\t\t\trowEnd: undefined,\n\t\t\t\t\t\t\tcolEnd: undefined,\n\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\tindex: 11,\n\t\t\t\t\t\t\t\ttext: ':45'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t] as IParsedLink[]\n\t\t\t);\n\t\t});\n\n\t\ttest('should extract the link prefix', () => {\n\t\t\tdeepStrictEqual(\n\t\t\t\tdetectLinks('\"foo\", line 5, col 6', OperatingSystem.Linux),\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\tindex: 1,\n\t\t\t\t\t\t\ttext: 'foo'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tprefix: {\n\t\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\t\ttext: '\"',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\trow: 5,\n\t\t\t\t\t\t\tcol: 6,\n\t\t\t\t\t\t\trowEnd: undefined,\n\t\t\t\t\t\t\tcolEnd: undefined,\n\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\tindex: 4,\n\t\t\t\t\t\t\t\ttext: '\", line 5, col 6'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t] as IParsedLink[]\n\t\t\t);\n\t\t});\n\n\t\ttest('should be smart about determining the link prefix when multiple prefix characters exist', () => {\n\t\t\tdeepStrictEqual(\n\t\t\t\tdetectLinks('echo \\'\"foo\", line 5, col 6\\'', OperatingSystem.Linux),\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\tindex: 7,\n\t\t\t\t\t\t\ttext: 'foo'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tprefix: {\n\t\t\t\t\t\t\tindex: 6,\n\t\t\t\t\t\t\ttext: '\"',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\trow: 5,\n\t\t\t\t\t\t\tcol: 6,\n\t\t\t\t\t\t\trowEnd: undefined,\n\t\t\t\t\t\t\tcolEnd: undefined,\n\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\tindex: 10,\n\t\t\t\t\t\t\t\ttext: '\", line 5, col 6'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t] as IParsedLink[],\n\t\t\t\t'The outer single quotes should be excluded from the link prefix and suffix'\n\t\t\t);\n\t\t});\n\n\t\ttest('should detect both suffix and non-suffix links on a single line', () => {\n\t\t\tdeepStrictEqual(\n\t\t\t\tdetectLinks('PS C:\\\\Github\\\\microsoft\\\\vscode> echo \\'\"foo\", line 5, col 6\\'', OperatingSystem.Windows),\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\tindex: 3,\n\t\t\t\t\t\t\ttext: 'C:\\\\Github\\\\microsoft\\\\vscode'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\tsuffix: undefined\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\tindex: 38,\n\t\t\t\t\t\t\ttext: 'foo'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tprefix: {\n\t\t\t\t\t\t\tindex: 37,\n\t\t\t\t\t\t\ttext: '\"',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\trow: 5,\n\t\t\t\t\t\t\tcol: 6,\n\t\t\t\t\t\t\trowEnd: undefined,\n\t\t\t\t\t\t\tcolEnd: undefined,\n\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\tindex: 41,\n\t\t\t\t\t\t\t\ttext: '\", line 5, col 6'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t] as IParsedLink[]\n\t\t\t);\n\t\t});\n\n\t\tsuite('\"|\"', () => {\n\t\t\ttest('should exclude pipe characters from link paths', () => {\n\t\t\t\tdeepStrictEqual(\n\t\t\t\t\tdetectLinks('|C:\\\\Github\\\\microsoft\\\\vscode|', OperatingSystem.Windows),\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\t\tindex: 1,\n\t\t\t\t\t\t\t\ttext: 'C:\\\\Github\\\\microsoft\\\\vscode'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\t\tsuffix: undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t] as IParsedLink[]\n\t\t\t\t);\n\t\t\t});\n\t\t\ttest('should exclude pipe characters from link paths with suffixes', () => {\n\t\t\t\tdeepStrictEqual(\n\t\t\t\t\tdetectLinks('|C:\\\\Github\\\\microsoft\\\\vscode:400|', OperatingSystem.Windows),\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\t\tindex: 1,\n\t\t\t\t\t\t\t\ttext: 'C:\\\\Github\\\\microsoft\\\\vscode'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\tcol: undefined,\n\t\t\t\t\t\t\t\trow: 400,\n\t\t\t\t\t\t\t\trowEnd: undefined,\n\t\t\t\t\t\t\t\tcolEnd: undefined,\n\t\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\t\tindex: 27,\n\t\t\t\t\t\t\t\t\ttext: ':400'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t] as IParsedLink[]\n\t\t\t\t);\n\t\t\t});\n\t\t});\n\n\t\tsuite('\"<>\"', () => {\n\t\t\tfor (const os of operatingSystems) {\n\t\t\t\ttest(`should exclude bracket characters from link paths ${osLabel[os]}`, () => {\n\t\t\t\t\tdeepStrictEqual(\n\t\t\t\t\t\tdetectLinks(`<${osTestPath[os]}<`, os),\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\t\t\tindex: 1,\n\t\t\t\t\t\t\t\t\ttext: osTestPath[os]\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\t\t\tsuffix: undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t] as IParsedLink[]\n\t\t\t\t\t);\n\t\t\t\t\tdeepStrictEqual(\n\t\t\t\t\t\tdetectLinks(`>${osTestPath[os]}>`, os),\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\t\t\tindex: 1,\n\t\t\t\t\t\t\t\t\ttext: osTestPath[os]\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\t\t\tsuffix: undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t] as IParsedLink[]\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\ttest(`should exclude bracket characters from link paths with suffixes ${osLabel[os]}`, () => {\n\t\t\t\t\tdeepStrictEqual(\n\t\t\t\t\t\tdetectLinks(`<${osTestPath[os]}:400<`, os),\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\t\t\tindex: 1,\n\t\t\t\t\t\t\t\t\ttext: osTestPath[os]\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\t\tcol: undefined,\n\t\t\t\t\t\t\t\t\trow: 400,\n\t\t\t\t\t\t\t\t\trowEnd: undefined,\n\t\t\t\t\t\t\t\t\tcolEnd: undefined,\n\t\t\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\t\t\tindex: 1 + osTestPath[os].length,\n\t\t\t\t\t\t\t\t\t\ttext: ':400'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t] as IParsedLink[]\n\t\t\t\t\t);\n\t\t\t\t\tdeepStrictEqual(\n\t\t\t\t\t\tdetectLinks(`>${osTestPath[os]}:400>`, os),\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\t\t\tindex: 1,\n\t\t\t\t\t\t\t\t\ttext: osTestPath[os]\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\t\tcol: undefined,\n\t\t\t\t\t\t\t\t\trow: 400,\n\t\t\t\t\t\t\t\t\trowEnd: undefined,\n\t\t\t\t\t\t\t\t\tcolEnd: undefined,\n\t\t\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\t\t\tindex: 1 + osTestPath[os].length,\n\t\t\t\t\t\t\t\t\t\ttext: ':400'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t] as IParsedLink[]\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tsuite('query strings', () => {\n\t\t\tfor (const os of operatingSystems) {\n\t\t\t\ttest(`should exclude query strings from link paths ${osLabel[os]}`, () => {\n\t\t\t\t\tdeepStrictEqual(\n\t\t\t\t\t\tdetectLinks(`${osTestPath[os]}?a=b`, os),\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\t\t\t\ttext: osTestPath[os]\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\t\t\tsuffix: undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t] as IParsedLink[]\n\t\t\t\t\t);\n\t\t\t\t\tdeepStrictEqual(\n\t\t\t\t\t\tdetectLinks(`${osTestPath[os]}?a=b&c=d`, os),\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\t\t\t\ttext: osTestPath[os]\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\t\t\tsuffix: undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t] as IParsedLink[]\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\ttest('should not detect links starting with ? within query strings that contain posix-style paths (#204195)', () => {\n\t\t\t\t\t// ? appended to the cwd will exist since it's just the cwd\n\t\t\t\t\tstrictEqual(detectLinks(`http://foo.com/?bar=/a/b&baz=c`, os).some(e => e.path.text.startsWith('?')), false);\n\t\t\t\t});\n\t\t\t\ttest('should not detect links starting with ? within query strings that contain Windows-style paths (#204195)', () => {\n\t\t\t\t\t// ? appended to the cwd will exist since it's just the cwd\n\t\t\t\t\tstrictEqual(detectLinks(`http://foo.com/?bar=a:\\\\b&baz=c`, os).some(e => e.path.text.startsWith('?')), false);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tsuite('should detect file names in git diffs', () => {\n\t\t\ttest('--- a/foo/bar', () => {\n\t\t\t\tdeepStrictEqual(\n\t\t\t\t\tdetectLinks('--- a/foo/bar', OperatingSystem.Linux),\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\t\tindex: 6,\n\t\t\t\t\t\t\t\ttext: 'foo/bar'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\t\tsuffix: undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t] as IParsedLink[]\n\t\t\t\t);\n\t\t\t});\n\t\t\ttest('+++ b/foo/bar', () => {\n\t\t\t\tdeepStrictEqual(\n\t\t\t\t\tdetectLinks('+++ b/foo/bar', OperatingSystem.Linux),\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\t\tindex: 6,\n\t\t\t\t\t\t\t\ttext: 'foo/bar'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\t\tsuffix: undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t] as IParsedLink[]\n\t\t\t\t);\n\t\t\t});\n\t\t\ttest('diff --git a/foo/bar b/foo/baz', () => {\n\t\t\t\tdeepStrictEqual(\n\t\t\t\t\tdetectLinks('diff --git a/foo/bar b/foo/baz', OperatingSystem.Linux),\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\t\tindex: 13,\n\t\t\t\t\t\t\t\ttext: 'foo/bar'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\t\tsuffix: undefined\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\t\tindex: 23,\n\t\t\t\t\t\t\t\ttext: 'foo/baz'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\t\tsuffix: undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t] as IParsedLink[]\n\t\t\t\t);\n\t\t\t});\n\t\t});\n\n\t\tsuite('should detect 3 suffix links on a single line', () => {\n\t\t\tfor (let i = 0; i < testLinksWithSuffix.length - 2; i++) {\n\t\t\t\tconst link1 = testLinksWithSuffix[i];\n\t\t\t\tconst link2 = testLinksWithSuffix[i + 1];\n\t\t\t\tconst link3 = testLinksWithSuffix[i + 2];\n\t\t\t\tconst line = ` ${link1.link} ${link2.link} ${link3.link} `;\n\t\t\t\ttest('`' + line.replaceAll('\\u00A0', '<nbsp>') + '`', () => {\n\t\t\t\t\tstrictEqual(detectLinks(line, OperatingSystem.Linux).length, 3);\n\t\t\t\t\tok(link1.suffix);\n\t\t\t\t\tok(link2.suffix);\n\t\t\t\t\tok(link3.suffix);\n\t\t\t\t\tconst detectedLink1: IParsedLink = {\n\t\t\t\t\t\tprefix: link1.prefix ? {\n\t\t\t\t\t\t\tindex: 1,\n\t\t\t\t\t\t\ttext: link1.prefix\n\t\t\t\t\t\t} : undefined,\n\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\tindex: 1 + (link1.prefix?.length ?? 0),\n\t\t\t\t\t\t\ttext: link1.link.replace(link1.suffix, '').replace(link1.prefix || '', '')\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\trow: link1.hasRow ? testRow : undefined,\n\t\t\t\t\t\t\tcol: link1.hasCol ? testCol : undefined,\n\t\t\t\t\t\t\trowEnd: link1.hasRowEnd ? testRowEnd : undefined,\n\t\t\t\t\t\t\tcolEnd: link1.hasColEnd ? testColEnd : undefined,\n\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\tindex: 1 + (link1.link.length - link1.suffix.length),\n\t\t\t\t\t\t\t\ttext: link1.suffix\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tconst detectedLink2: IParsedLink = {\n\t\t\t\t\t\tprefix: link2.prefix ? {\n\t\t\t\t\t\t\tindex: (detectedLink1.prefix?.index ?? detectedLink1.path.index) + link1.link.length + 1,\n\t\t\t\t\t\t\ttext: link2.prefix\n\t\t\t\t\t\t} : undefined,\n\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\tindex: (detectedLink1.prefix?.index ?? detectedLink1.path.index) + link1.link.length + 1 + (link2.prefix ?? '').length,\n\t\t\t\t\t\t\ttext: link2.link.replace(link2.suffix, '').replace(link2.prefix ?? '', '')\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\trow: link2.hasRow ? testRow : undefined,\n\t\t\t\t\t\t\tcol: link2.hasCol ? testCol : undefined,\n\t\t\t\t\t\t\trowEnd: link2.hasRowEnd ? testRowEnd : undefined,\n\t\t\t\t\t\t\tcolEnd: link2.hasColEnd ? testColEnd : undefined,\n\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\tindex: (detectedLink1.prefix?.index ?? detectedLink1.path.index) + link1.link.length + 1 + (link2.link.length - link2.suffix.length),\n\t\t\t\t\t\t\t\ttext: link2.suffix\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tconst detectedLink3: IParsedLink = {\n\t\t\t\t\t\tprefix: link3.prefix ? {\n\t\t\t\t\t\t\tindex: (detectedLink2.prefix?.index ?? detectedLink2.path.index) + link2.link.length + 1,\n\t\t\t\t\t\t\ttext: link3.prefix\n\t\t\t\t\t\t} : undefined,\n\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\tindex: (detectedLink2.prefix?.index ?? detectedLink2.path.index) + link2.link.length + 1 + (link3.prefix ?? '').length,\n\t\t\t\t\t\t\ttext: link3.link.replace(link3.suffix, '').replace(link3.prefix ?? '', '')\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\trow: link3.hasRow ? testRow : undefined,\n\t\t\t\t\t\t\tcol: link3.hasCol ? testCol : undefined,\n\t\t\t\t\t\t\trowEnd: link3.hasRowEnd ? testRowEnd : undefined,\n\t\t\t\t\t\t\tcolEnd: link3.hasColEnd ? testColEnd : undefined,\n\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\tindex: (detectedLink2.prefix?.index ?? detectedLink2.path.index) + link2.link.length + 1 + (link3.link.length - link3.suffix.length),\n\t\t\t\t\t\t\t\ttext: link3.suffix\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tdeepStrictEqual(\n\t\t\t\t\t\tdetectLinks(line, OperatingSystem.Linux),\n\t\t\t\t\t\t[detectedLink1, detectedLink2, detectedLink3]\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tsuite('should ignore links with suffixes when the path itself is the empty string', () => {\n\t\t\tdeepStrictEqual(\n\t\t\t\tdetectLinks('\"\"\",1', OperatingSystem.Linux),\n\t\t\t\t[] as IParsedLink[]\n\t\t\t);\n\t\t});\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { deepStrictEqual, ok, strictEqual } from 'assert';\nimport { OperatingSystem } from '../../../../../../base/common/platform.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../../base/test/common/utils.js';\nimport { detectLinks, detectLinkSuffixes, getLinkSuffix, IParsedLink, removeLinkQueryString, removeLinkSuffix } from '../../browser/terminalLinkParsing.js';\n\ninterface ITestLink {\n\tlink: string;\n\tprefix: string | undefined;\n\tsuffix: string | undefined;\n\t// TODO: These has vars would be nicer as a flags enum\n\thasRow: boolean;\n\thasCol: boolean;\n\thasRowEnd?: boolean;\n\thasColEnd?: boolean;\n}\n\nconst operatingSystems: ReadonlyArray<OperatingSystem> = [\n\tOperatingSystem.Linux,\n\tOperatingSystem.Macintosh,\n\tOperatingSystem.Windows\n];\nconst osTestPath: { [key: number | OperatingSystem]: string } = {\n\t[OperatingSystem.Linux]: '/test/path/linux',\n\t[OperatingSystem.Macintosh]: '/test/path/macintosh',\n\t[OperatingSystem.Windows]: 'C:\\\\test\\\\path\\\\windows'\n};\nconst osLabel: { [key: number | OperatingSystem]: string } = {\n\t[OperatingSystem.Linux]: '[Linux]',\n\t[OperatingSystem.Macintosh]: '[macOS]',\n\t[OperatingSystem.Windows]: '[Windows]'\n};\n\nconst testRow = 339;\nconst testCol = 12;\nconst testRowEnd = 341;\nconst testColEnd = 789;\nconst testLinks: ITestLink[] = [\n\t// Simple\n\t{ link: 'foo', prefix: undefined, suffix: undefined, hasRow: false, hasCol: false },\n\t{ link: 'foo:339', prefix: undefined, suffix: ':339', hasRow: true, hasCol: false },\n\t{ link: 'foo:339:12', prefix: undefined, suffix: ':339:12', hasRow: true, hasCol: true },\n\t{ link: 'foo:339:12-789', prefix: undefined, suffix: ':339:12-789', hasRow: true, hasCol: true, hasRowEnd: false, hasColEnd: true },\n\t{ link: 'foo:339.12', prefix: undefined, suffix: ':339.12', hasRow: true, hasCol: true },\n\t{ link: 'foo:339.12-789', prefix: undefined, suffix: ':339.12-789', hasRow: true, hasCol: true, hasRowEnd: false, hasColEnd: true },\n\t{ link: 'foo:339.12-341.789', prefix: undefined, suffix: ':339.12-341.789', hasRow: true, hasCol: true, hasRowEnd: true, hasColEnd: true },\n\t{ link: 'foo#339', prefix: undefined, suffix: '#339', hasRow: true, hasCol: false },\n\t{ link: 'foo#339:12', prefix: undefined, suffix: '#339:12', hasRow: true, hasCol: true },\n\t{ link: 'foo#339:12-789', prefix: undefined, suffix: '#339:12-789', hasRow: true, hasCol: true, hasRowEnd: false, hasColEnd: true },\n\t{ link: 'foo#339.12', prefix: undefined, suffix: '#339.12', hasRow: true, hasCol: true },\n\t{ link: 'foo#339.12-789', prefix: undefined, suffix: '#339.12-789', hasRow: true, hasCol: true, hasRowEnd: false, hasColEnd: true },\n\t{ link: 'foo#339.12-341.789', prefix: undefined, suffix: '#339.12-341.789', hasRow: true, hasCol: true, hasRowEnd: true, hasColEnd: true },\n\t{ link: 'foo 339', prefix: undefined, suffix: ' 339', hasRow: true, hasCol: false },\n\t{ link: 'foo 339:12', prefix: undefined, suffix: ' 339:12', hasRow: true, hasCol: true },\n\t{ link: 'foo 339:12-789', prefix: undefined, suffix: ' 339:12-789', hasRow: true, hasCol: true, hasRowEnd: false, hasColEnd: true },\n\t{ link: 'foo 339.12', prefix: undefined, suffix: ' 339.12', hasRow: true, hasCol: true },\n\t{ link: 'foo 339.12-789', prefix: undefined, suffix: ' 339.12-789', hasRow: true, hasCol: true, hasRowEnd: false, hasColEnd: true },\n\t{ link: 'foo 339.12-341.789', prefix: undefined, suffix: ' 339.12-341.789', hasRow: true, hasCol: true, hasRowEnd: true, hasColEnd: true },\n\t{ link: 'foo, 339', prefix: undefined, suffix: ', 339', hasRow: true, hasCol: false },\n\n\t// Double quotes\n\t{ link: '\"foo\",339', prefix: '\"', suffix: '\",339', hasRow: true, hasCol: false },\n\t{ link: '\"foo\",339:12', prefix: '\"', suffix: '\",339:12', hasRow: true, hasCol: true },\n\t{ link: '\"foo\",339.12', prefix: '\"', suffix: '\",339.12', hasRow: true, hasCol: true },\n\t{ link: '\"foo\", line 339', prefix: '\"', suffix: '\", line 339', hasRow: true, hasCol: false },\n\t{ link: '\"foo\", line 339, col 12', prefix: '\"', suffix: '\", line 339, col 12', hasRow: true, hasCol: true },\n\t{ link: '\"foo\", line 339, column 12', prefix: '\"', suffix: '\", line 339, column 12', hasRow: true, hasCol: true },\n\t{ link: '\"foo\":line 339', prefix: '\"', suffix: '\":line 339', hasRow: true, hasCol: false },\n\t{ link: '\"foo\":line 339, col 12', prefix: '\"', suffix: '\":line 339, col 12', hasRow: true, hasCol: true },\n\t{ link: '\"foo\":line 339, column 12', prefix: '\"', suffix: '\":line 339, column 12', hasRow: true, hasCol: true },\n\t{ link: '\"foo\": line 339', prefix: '\"', suffix: '\": line 339', hasRow: true, hasCol: false },\n\t{ link: '\"foo\": line 339, col 12', prefix: '\"', suffix: '\": line 339, col 12', hasRow: true, hasCol: true },\n\t{ link: '\"foo\": line 339, column 12', prefix: '\"', suffix: '\": line 339, column 12', hasRow: true, hasCol: true },\n\t{ link: '\"foo\" on line 339', prefix: '\"', suffix: '\" on line 339', hasRow: true, hasCol: false },\n\t{ link: '\"foo\" on line 339, col 12', prefix: '\"', suffix: '\" on line 339, col 12', hasRow: true, hasCol: true },\n\t{ link: '\"foo\" on line 339, column 12', prefix: '\"', suffix: '\" on line 339, column 12', hasRow: true, hasCol: true },\n\t{ link: '\"foo\" line 339', prefix: '\"', suffix: '\" line 339', hasRow: true, hasCol: false },\n\t{ link: '\"foo\" line 339 column 12', prefix: '\"', suffix: '\" line 339 column 12', hasRow: true, hasCol: true },\n\n\t// Single quotes\n\t{ link: '\\'foo\\',339', prefix: '\\'', suffix: '\\',339', hasRow: true, hasCol: false },\n\t{ link: '\\'foo\\',339:12', prefix: '\\'', suffix: '\\',339:12', hasRow: true, hasCol: true },\n\t{ link: '\\'foo\\',339.12', prefix: '\\'', suffix: '\\',339.12', hasRow: true, hasCol: true },\n\t{ link: '\\'foo\\', line 339', prefix: '\\'', suffix: '\\', line 339', hasRow: true, hasCol: false },\n\t{ link: '\\'foo\\', line 339, col 12', prefix: '\\'', suffix: '\\', line 339, col 12', hasRow: true, hasCol: true },\n\t{ link: '\\'foo\\', line 339, column 12', prefix: '\\'', suffix: '\\', line 339, column 12', hasRow: true, hasCol: true },\n\t{ link: '\\'foo\\':line 339', prefix: '\\'', suffix: '\\':line 339', hasRow: true, hasCol: false },\n\t{ link: '\\'foo\\':line 339, col 12', prefix: '\\'', suffix: '\\':line 339, col 12', hasRow: true, hasCol: true },\n\t{ link: '\\'foo\\':line 339, column 12', prefix: '\\'', suffix: '\\':line 339, column 12', hasRow: true, hasCol: true },\n\t{ link: '\\'foo\\': line 339', prefix: '\\'', suffix: '\\': line 339', hasRow: true, hasCol: false },\n\t{ link: '\\'foo\\': line 339, col 12', prefix: '\\'', suffix: '\\': line 339, col 12', hasRow: true, hasCol: true },\n\t{ link: '\\'foo\\': line 339, column 12', prefix: '\\'', suffix: '\\': line 339, column 12', hasRow: true, hasCol: true },\n\t{ link: '\\'foo\\' on line 339', prefix: '\\'', suffix: '\\' on line 339', hasRow: true, hasCol: false },\n\t{ link: '\\'foo\\' on line 339, col 12', prefix: '\\'', suffix: '\\' on line 339, col 12', hasRow: true, hasCol: true },\n\t{ link: '\\'foo\\' on line 339, column 12', prefix: '\\'', suffix: '\\' on line 339, column 12', hasRow: true, hasCol: true },\n\t{ link: '\\'foo\\' line 339', prefix: '\\'', suffix: '\\' line 339', hasRow: true, hasCol: false },\n\t{ link: '\\'foo\\' line 339 column 12', prefix: '\\'', suffix: '\\' line 339 column 12', hasRow: true, hasCol: true },\n\n\t// No quotes\n\t{ link: 'foo, line 339', prefix: undefined, suffix: ', line 339', hasRow: true, hasCol: false },\n\t{ link: 'foo, line 339, col 12', prefix: undefined, suffix: ', line 339, col 12', hasRow: true, hasCol: true },\n\t{ link: 'foo, line 339, column 12', prefix: undefined, suffix: ', line 339, column 12', hasRow: true, hasCol: true },\n\t{ link: 'foo:line 339', prefix: undefined, suffix: ':line 339', hasRow: true, hasCol: false },\n\t{ link: 'foo:line 339, col 12', prefix: undefined, suffix: ':line 339, col 12', hasRow: true, hasCol: true },\n\t{ link: 'foo:line 339, column 12', prefix: undefined, suffix: ':line 339, column 12', hasRow: true, hasCol: true },\n\t{ link: 'foo: line 339', prefix: undefined, suffix: ': line 339', hasRow: true, hasCol: false },\n\t{ link: 'foo: line 339, col 12', prefix: undefined, suffix: ': line 339, col 12', hasRow: true, hasCol: true },\n\t{ link: 'foo: line 339, column 12', prefix: undefined, suffix: ': line 339, column 12', hasRow: true, hasCol: true },\n\t{ link: 'foo on line 339', prefix: undefined, suffix: ' on line 339', hasRow: true, hasCol: false },\n\t{ link: 'foo on line 339, col 12', prefix: undefined, suffix: ' on line 339, col 12', hasRow: true, hasCol: true },\n\t{ link: 'foo on line 339, column 12', prefix: undefined, suffix: ' on line 339, column 12', hasRow: true, hasCol: true },\n\t{ link: 'foo line 339', prefix: undefined, suffix: ' line 339', hasRow: true, hasCol: false },\n\t{ link: 'foo line 339 column 12', prefix: undefined, suffix: ' line 339 column 12', hasRow: true, hasCol: true },\n\n\t// Parentheses\n\t{ link: 'foo(339)', prefix: undefined, suffix: '(339)', hasRow: true, hasCol: false },\n\t{ link: 'foo(339,12)', prefix: undefined, suffix: '(339,12)', hasRow: true, hasCol: true },\n\t{ link: 'foo(339, 12)', prefix: undefined, suffix: '(339, 12)', hasRow: true, hasCol: true },\n\t{ link: 'foo (339)', prefix: undefined, suffix: ' (339)', hasRow: true, hasCol: false },\n\t{ link: 'foo (339,12)', prefix: undefined, suffix: ' (339,12)', hasRow: true, hasCol: true },\n\t{ link: 'foo (339, 12)', prefix: undefined, suffix: ' (339, 12)', hasRow: true, hasCol: true },\n\t{ link: 'foo: (339)', prefix: undefined, suffix: ': (339)', hasRow: true, hasCol: false },\n\t{ link: 'foo: (339,12)', prefix: undefined, suffix: ': (339,12)', hasRow: true, hasCol: true },\n\t{ link: 'foo: (339, 12)', prefix: undefined, suffix: ': (339, 12)', hasRow: true, hasCol: true },\n\t{ link: 'foo(339:12)', prefix: undefined, suffix: '(339:12)', hasRow: true, hasCol: true },\n\t{ link: 'foo (339:12)', prefix: undefined, suffix: ' (339:12)', hasRow: true, hasCol: true },\n\n\t// Square brackets\n\t{ link: 'foo[339]', prefix: undefined, suffix: '[339]', hasRow: true, hasCol: false },\n\t{ link: 'foo[339,12]', prefix: undefined, suffix: '[339,12]', hasRow: true, hasCol: true },\n\t{ link: 'foo[339, 12]', prefix: undefined, suffix: '[339, 12]', hasRow: true, hasCol: true },\n\t{ link: 'foo [339]', prefix: undefined, suffix: ' [339]', hasRow: true, hasCol: false },\n\t{ link: 'foo [339,12]', prefix: undefined, suffix: ' [339,12]', hasRow: true, hasCol: true },\n\t{ link: 'foo [339, 12]', prefix: undefined, suffix: ' [339, 12]', hasRow: true, hasCol: true },\n\t{ link: 'foo: [339]', prefix: undefined, suffix: ': [339]', hasRow: true, hasCol: false },\n\t{ link: 'foo: [339,12]', prefix: undefined, suffix: ': [339,12]', hasRow: true, hasCol: true },\n\t{ link: 'foo: [339, 12]', prefix: undefined, suffix: ': [339, 12]', hasRow: true, hasCol: true },\n\t{ link: 'foo[339:12]', prefix: undefined, suffix: '[339:12]', hasRow: true, hasCol: true },\n\t{ link: 'foo [339:12]', prefix: undefined, suffix: ' [339:12]', hasRow: true, hasCol: true },\n\n\t// OCaml-style\n\t{ link: '\"foo\", line 339, character 12', prefix: '\"', suffix: '\", line 339, character 12', hasRow: true, hasCol: true },\n\t{ link: '\"foo\", line 339, characters 12-789', prefix: '\"', suffix: '\", line 339, characters 12-789', hasRow: true, hasCol: true, hasColEnd: true },\n\t{ link: '\"foo\", lines 339-341', prefix: '\"', suffix: '\", lines 339-341', hasRow: true, hasCol: false, hasRowEnd: true },\n\t{ link: '\"foo\", lines 339-341, characters 12-789', prefix: '\"', suffix: '\", lines 339-341, characters 12-789', hasRow: true, hasCol: true, hasRowEnd: true, hasColEnd: true },\n\n\t// Non-breaking space\n\t{ link: 'foo\\u00A0339:12', prefix: undefined, suffix: '\\u00A0339:12', hasRow: true, hasCol: true },\n\t{ link: '\"foo\" on line 339,\\u00A0column 12', prefix: '\"', suffix: '\" on line 339,\\u00A0column 12', hasRow: true, hasCol: true },\n\t{ link: '\\'foo\\' on line\\u00A0339, column 12', prefix: '\\'', suffix: '\\' on line\\u00A0339, column 12', hasRow: true, hasCol: true },\n\t{ link: 'foo (339,\\u00A012)', prefix: undefined, suffix: ' (339,\\u00A012)', hasRow: true, hasCol: true },\n\t{ link: 'foo\\u00A0[339, 12]', prefix: undefined, suffix: '\\u00A0[339, 12]', hasRow: true, hasCol: true },\n];\nconst testLinksWithSuffix = testLinks.filter(e => !!e.suffix);\n\nsuite('TerminalLinkParsing', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tsuite('removeLinkSuffix', () => {\n\t\tfor (const testLink of testLinks) {\n\t\t\ttest('`' + testLink.link + '`', () => {\n\t\t\t\tdeepStrictEqual(\n\t\t\t\t\tremoveLinkSuffix(testLink.link),\n\t\t\t\t\ttestLink.suffix === undefined ? testLink.link : testLink.link.replace(testLink.suffix, '')\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t});\n\tsuite('getLinkSuffix', () => {\n\t\tfor (const testLink of testLinks) {\n\t\t\ttest('`' + testLink.link + '`', () => {\n\t\t\t\tdeepStrictEqual(\n\t\t\t\t\tgetLinkSuffix(testLink.link),\n\t\t\t\t\ttestLink.suffix === undefined ? null : {\n\t\t\t\t\t\trow: testLink.hasRow ? testRow : undefined,\n\t\t\t\t\t\tcol: testLink.hasCol ? testCol : undefined,\n\t\t\t\t\t\trowEnd: testLink.hasRowEnd ? testRowEnd : undefined,\n\t\t\t\t\t\tcolEnd: testLink.hasColEnd ? testColEnd : undefined,\n\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\tindex: testLink.link.length - testLink.suffix.length,\n\t\t\t\t\t\t\ttext: testLink.suffix\n\t\t\t\t\t\t}\n\t\t\t\t\t} as ReturnType<typeof getLinkSuffix>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t});\n\tsuite('detectLinkSuffixes', () => {\n\t\tfor (const testLink of testLinks) {\n\t\t\ttest('`' + testLink.link + '`', () => {\n\t\t\t\tdeepStrictEqual(\n\t\t\t\t\tdetectLinkSuffixes(testLink.link),\n\t\t\t\t\ttestLink.suffix === undefined ? [] : [{\n\t\t\t\t\t\trow: testLink.hasRow ? testRow : undefined,\n\t\t\t\t\t\tcol: testLink.hasCol ? testCol : undefined,\n\t\t\t\t\t\trowEnd: testLink.hasRowEnd ? testRowEnd : undefined,\n\t\t\t\t\t\tcolEnd: testLink.hasColEnd ? testColEnd : undefined,\n\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\tindex: testLink.link.length - testLink.suffix.length,\n\t\t\t\t\t\t\ttext: testLink.suffix\n\t\t\t\t\t\t}\n\t\t\t\t\t} as ReturnType<typeof getLinkSuffix>]\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\n\t\ttest('foo(1, 2) bar[3, 4] baz on line 5', () => {\n\t\t\tdeepStrictEqual(\n\t\t\t\tdetectLinkSuffixes('foo(1, 2) bar[3, 4] baz on line 5'),\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\tcol: 2,\n\t\t\t\t\t\trow: 1,\n\t\t\t\t\t\trowEnd: undefined,\n\t\t\t\t\t\tcolEnd: undefined,\n\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\tindex: 3,\n\t\t\t\t\t\t\ttext: '(1, 2)'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tcol: 4,\n\t\t\t\t\t\trow: 3,\n\t\t\t\t\t\trowEnd: undefined,\n\t\t\t\t\t\tcolEnd: undefined,\n\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\tindex: 13,\n\t\t\t\t\t\t\ttext: '[3, 4]'\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tcol: undefined,\n\t\t\t\t\t\trow: 5,\n\t\t\t\t\t\trowEnd: undefined,\n\t\t\t\t\t\tcolEnd: undefined,\n\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\tindex: 23,\n\t\t\t\t\t\t\ttext: ' on line 5'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t);\n\t\t});\n\t});\n\tsuite('removeLinkQueryString', () => {\n\t\ttest('should remove any query string from the link', () => {\n\t\t\tstrictEqual(removeLinkQueryString('?a=b'), '');\n\t\t\tstrictEqual(removeLinkQueryString('foo?a=b'), 'foo');\n\t\t\tstrictEqual(removeLinkQueryString('./foo?a=b'), './foo');\n\t\t\tstrictEqual(removeLinkQueryString('/foo/bar?a=b'), '/foo/bar');\n\t\t\tstrictEqual(removeLinkQueryString('foo?a=b?'), 'foo');\n\t\t\tstrictEqual(removeLinkQueryString('foo?a=b&c=d'), 'foo');\n\t\t});\n\t\ttest('should respect ? in UNC paths', () => {\n\t\t\tstrictEqual(removeLinkQueryString('\\\\\\\\?\\\\foo?a=b'), '\\\\\\\\?\\\\foo');\n\t\t});\n\t});\n\tsuite('detectLinks', () => {\n\t\ttest('foo(1, 2) bar[3, 4] \"baz\" on line 5', () => {\n\t\t\tdeepStrictEqual(\n\t\t\t\tdetectLinks('foo(1, 2) bar[3, 4] \"baz\" on line 5', OperatingSystem.Linux),\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\t\ttext: 'foo'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\tcol: 2,\n\t\t\t\t\t\t\trow: 1,\n\t\t\t\t\t\t\trowEnd: undefined,\n\t\t\t\t\t\t\tcolEnd: undefined,\n\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\tindex: 3,\n\t\t\t\t\t\t\t\ttext: '(1, 2)'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\tindex: 10,\n\t\t\t\t\t\t\ttext: 'bar'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\tcol: 4,\n\t\t\t\t\t\t\trow: 3,\n\t\t\t\t\t\t\trowEnd: undefined,\n\t\t\t\t\t\t\tcolEnd: undefined,\n\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\tindex: 13,\n\t\t\t\t\t\t\t\ttext: '[3, 4]'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\tindex: 21,\n\t\t\t\t\t\t\ttext: 'baz'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tprefix: {\n\t\t\t\t\t\t\tindex: 20,\n\t\t\t\t\t\t\ttext: '\"'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\tcol: undefined,\n\t\t\t\t\t\t\trow: 5,\n\t\t\t\t\t\t\trowEnd: undefined,\n\t\t\t\t\t\t\tcolEnd: undefined,\n\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\tindex: 24,\n\t\t\t\t\t\t\t\ttext: '\" on line 5'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t] as IParsedLink[]\n\t\t\t);\n\t\t});\n\n\t\ttest('should detect multiple links when opening brackets are in the text', () => {\n\t\t\tdeepStrictEqual(\n\t\t\t\tdetectLinks('notlink[foo:45]', OperatingSystem.Linux),\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\t\ttext: 'notlink[foo'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\tcol: undefined,\n\t\t\t\t\t\t\trow: 45,\n\t\t\t\t\t\t\trowEnd: undefined,\n\t\t\t\t\t\t\tcolEnd: undefined,\n\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\tindex: 11,\n\t\t\t\t\t\t\t\ttext: ':45'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\tindex: 8,\n\t\t\t\t\t\t\ttext: 'foo'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\tcol: undefined,\n\t\t\t\t\t\t\trow: 45,\n\t\t\t\t\t\t\trowEnd: undefined,\n\t\t\t\t\t\t\tcolEnd: undefined,\n\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\tindex: 11,\n\t\t\t\t\t\t\t\ttext: ':45'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t] as IParsedLink[]\n\t\t\t);\n\t\t});\n\n\t\ttest('should extract the link prefix', () => {\n\t\t\tdeepStrictEqual(\n\t\t\t\tdetectLinks('\"foo\", line 5, col 6', OperatingSystem.Linux),\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\tindex: 1,\n\t\t\t\t\t\t\ttext: 'foo'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tprefix: {\n\t\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\t\ttext: '\"',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\trow: 5,\n\t\t\t\t\t\t\tcol: 6,\n\t\t\t\t\t\t\trowEnd: undefined,\n\t\t\t\t\t\t\tcolEnd: undefined,\n\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\tindex: 4,\n\t\t\t\t\t\t\t\ttext: '\", line 5, col 6'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t] as IParsedLink[]\n\t\t\t);\n\t\t});\n\n\t\ttest('should be smart about determining the link prefix when multiple prefix characters exist', () => {\n\t\t\tdeepStrictEqual(\n\t\t\t\tdetectLinks('echo \\'\"foo\", line 5, col 6\\'', OperatingSystem.Linux),\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\tindex: 7,\n\t\t\t\t\t\t\ttext: 'foo'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tprefix: {\n\t\t\t\t\t\t\tindex: 6,\n\t\t\t\t\t\t\ttext: '\"',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\trow: 5,\n\t\t\t\t\t\t\tcol: 6,\n\t\t\t\t\t\t\trowEnd: undefined,\n\t\t\t\t\t\t\tcolEnd: undefined,\n\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\tindex: 10,\n\t\t\t\t\t\t\t\ttext: '\", line 5, col 6'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t] as IParsedLink[],\n\t\t\t\t'The outer single quotes should be excluded from the link prefix and suffix'\n\t\t\t);\n\t\t});\n\n\t\ttest('should detect both suffix and non-suffix links on a single line', () => {\n\t\t\tdeepStrictEqual(\n\t\t\t\tdetectLinks('PS C:\\\\Github\\\\microsoft\\\\vscode> echo \\'\"foo\", line 5, col 6\\'', OperatingSystem.Windows),\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\tindex: 3,\n\t\t\t\t\t\t\ttext: 'C:\\\\Github\\\\microsoft\\\\vscode'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\tsuffix: undefined\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\tindex: 38,\n\t\t\t\t\t\t\ttext: 'foo'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tprefix: {\n\t\t\t\t\t\t\tindex: 37,\n\t\t\t\t\t\t\ttext: '\"',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\trow: 5,\n\t\t\t\t\t\t\tcol: 6,\n\t\t\t\t\t\t\trowEnd: undefined,\n\t\t\t\t\t\t\tcolEnd: undefined,\n\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\tindex: 41,\n\t\t\t\t\t\t\t\ttext: '\", line 5, col 6'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t] as IParsedLink[]\n\t\t\t);\n\t\t});\n\n\t\tsuite('\"|\"', () => {\n\t\t\ttest('should exclude pipe characters from link paths', () => {\n\t\t\t\tdeepStrictEqual(\n\t\t\t\t\tdetectLinks('|C:\\\\Github\\\\microsoft\\\\vscode|', OperatingSystem.Windows),\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\t\tindex: 1,\n\t\t\t\t\t\t\t\ttext: 'C:\\\\Github\\\\microsoft\\\\vscode'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\t\tsuffix: undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t] as IParsedLink[]\n\t\t\t\t);\n\t\t\t});\n\t\t\ttest('should exclude pipe characters from link paths with suffixes', () => {\n\t\t\t\tdeepStrictEqual(\n\t\t\t\t\tdetectLinks('|C:\\\\Github\\\\microsoft\\\\vscode:400|', OperatingSystem.Windows),\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\t\tindex: 1,\n\t\t\t\t\t\t\t\ttext: 'C:\\\\Github\\\\microsoft\\\\vscode'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\tcol: undefined,\n\t\t\t\t\t\t\t\trow: 400,\n\t\t\t\t\t\t\t\trowEnd: undefined,\n\t\t\t\t\t\t\t\tcolEnd: undefined,\n\t\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\t\tindex: 27,\n\t\t\t\t\t\t\t\t\ttext: ':400'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t] as IParsedLink[]\n\t\t\t\t);\n\t\t\t});\n\t\t});\n\n\t\tsuite('\"<>\"', () => {\n\t\t\tfor (const os of operatingSystems) {\n\t\t\t\ttest(`should exclude bracket characters from link paths ${osLabel[os]}`, () => {\n\t\t\t\t\tdeepStrictEqual(\n\t\t\t\t\t\tdetectLinks(`<${osTestPath[os]}<`, os),\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\t\t\tindex: 1,\n\t\t\t\t\t\t\t\t\ttext: osTestPath[os]\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\t\t\tsuffix: undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t] as IParsedLink[]\n\t\t\t\t\t);\n\t\t\t\t\tdeepStrictEqual(\n\t\t\t\t\t\tdetectLinks(`>${osTestPath[os]}>`, os),\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\t\t\tindex: 1,\n\t\t\t\t\t\t\t\t\ttext: osTestPath[os]\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\t\t\tsuffix: undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t] as IParsedLink[]\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\ttest(`should exclude bracket characters from link paths with suffixes ${osLabel[os]}`, () => {\n\t\t\t\t\tdeepStrictEqual(\n\t\t\t\t\t\tdetectLinks(`<${osTestPath[os]}:400<`, os),\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\t\t\tindex: 1,\n\t\t\t\t\t\t\t\t\ttext: osTestPath[os]\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\t\tcol: undefined,\n\t\t\t\t\t\t\t\t\trow: 400,\n\t\t\t\t\t\t\t\t\trowEnd: undefined,\n\t\t\t\t\t\t\t\t\tcolEnd: undefined,\n\t\t\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\t\t\tindex: 1 + osTestPath[os].length,\n\t\t\t\t\t\t\t\t\t\ttext: ':400'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t] as IParsedLink[]\n\t\t\t\t\t);\n\t\t\t\t\tdeepStrictEqual(\n\t\t\t\t\t\tdetectLinks(`>${osTestPath[os]}:400>`, os),\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\t\t\tindex: 1,\n\t\t\t\t\t\t\t\t\ttext: osTestPath[os]\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\t\tcol: undefined,\n\t\t\t\t\t\t\t\t\trow: 400,\n\t\t\t\t\t\t\t\t\trowEnd: undefined,\n\t\t\t\t\t\t\t\t\tcolEnd: undefined,\n\t\t\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\t\t\tindex: 1 + osTestPath[os].length,\n\t\t\t\t\t\t\t\t\t\ttext: ':400'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t] as IParsedLink[]\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tsuite('query strings', () => {\n\t\t\tfor (const os of operatingSystems) {\n\t\t\t\ttest(`should exclude query strings from link paths ${osLabel[os]}`, () => {\n\t\t\t\t\tdeepStrictEqual(\n\t\t\t\t\t\tdetectLinks(`${osTestPath[os]}?a=b`, os),\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\t\t\t\ttext: osTestPath[os]\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\t\t\tsuffix: undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t] as IParsedLink[]\n\t\t\t\t\t);\n\t\t\t\t\tdeepStrictEqual(\n\t\t\t\t\t\tdetectLinks(`${osTestPath[os]}?a=b&c=d`, os),\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\t\t\t\ttext: osTestPath[os]\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\t\t\tsuffix: undefined\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t] as IParsedLink[]\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\ttest('should not detect links starting with ? within query strings that contain posix-style paths (#204195)', () => {\n\t\t\t\t\t// ? appended to the cwd will exist since it's just the cwd\n\t\t\t\t\tstrictEqual(detectLinks(`http://foo.com/?bar=/a/b&baz=c`, os).some(e => e.path.text.startsWith('?')), false);\n\t\t\t\t});\n\t\t\t\ttest('should not detect links starting with ? within query strings that contain Windows-style paths (#204195)', () => {\n\t\t\t\t\t// ? appended to the cwd will exist since it's just the cwd\n\t\t\t\t\tstrictEqual(detectLinks(`http://foo.com/?bar=a:\\\\b&baz=c`, os).some(e => e.path.text.startsWith('?')), false);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tsuite('should detect file names in git diffs', () => {\n\t\t\ttest('--- a/foo/bar', () => {\n\t\t\t\tdeepStrictEqual(\n\t\t\t\t\tdetectLinks('--- a/foo/bar', OperatingSystem.Linux),\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\t\tindex: 6,\n\t\t\t\t\t\t\t\ttext: 'foo/bar'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\t\tsuffix: undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t] as IParsedLink[]\n\t\t\t\t);\n\t\t\t});\n\t\t\ttest('+++ b/foo/bar', () => {\n\t\t\t\tdeepStrictEqual(\n\t\t\t\t\tdetectLinks('+++ b/foo/bar', OperatingSystem.Linux),\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\t\tindex: 6,\n\t\t\t\t\t\t\t\ttext: 'foo/bar'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\t\tsuffix: undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t] as IParsedLink[]\n\t\t\t\t);\n\t\t\t});\n\t\t\ttest('diff --git a/foo/bar b/foo/baz', () => {\n\t\t\t\tdeepStrictEqual(\n\t\t\t\t\tdetectLinks('diff --git a/foo/bar b/foo/baz', OperatingSystem.Linux),\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\t\tindex: 13,\n\t\t\t\t\t\t\t\ttext: 'foo/bar'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\t\tsuffix: undefined\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\t\tindex: 23,\n\t\t\t\t\t\t\t\ttext: 'foo/baz'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tprefix: undefined,\n\t\t\t\t\t\t\tsuffix: undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t] as IParsedLink[]\n\t\t\t\t);\n\t\t\t});\n\t\t});\n\n\t\tsuite('should detect 3 suffix links on a single line', () => {\n\t\t\tfor (let i = 0; i < testLinksWithSuffix.length - 2; i++) {\n\t\t\t\tconst link1 = testLinksWithSuffix[i];\n\t\t\t\tconst link2 = testLinksWithSuffix[i + 1];\n\t\t\t\tconst link3 = testLinksWithSuffix[i + 2];\n\t\t\t\tconst line = ` ${link1.link} ${link2.link} ${link3.link} `;\n\t\t\t\ttest('`' + line.replaceAll('\\u00A0', '<nbsp>') + '`', () => {\n\t\t\t\t\tstrictEqual(detectLinks(line, OperatingSystem.Linux).length, 3);\n\t\t\t\t\tok(link1.suffix);\n\t\t\t\t\tok(link2.suffix);\n\t\t\t\t\tok(link3.suffix);\n\t\t\t\t\tconst detectedLink1: IParsedLink = {\n\t\t\t\t\t\tprefix: link1.prefix ? {\n\t\t\t\t\t\t\tindex: 1,\n\t\t\t\t\t\t\ttext: link1.prefix\n\t\t\t\t\t\t} : undefined,\n\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\tindex: 1 + (link1.prefix?.length ?? 0),\n\t\t\t\t\t\t\ttext: link1.link.replace(link1.suffix, '').replace(link1.prefix || '', '')\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\trow: link1.hasRow ? testRow : undefined,\n\t\t\t\t\t\t\tcol: link1.hasCol ? testCol : undefined,\n\t\t\t\t\t\t\trowEnd: link1.hasRowEnd ? testRowEnd : undefined,\n\t\t\t\t\t\t\tcolEnd: link1.hasColEnd ? testColEnd : undefined,\n\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\tindex: 1 + (link1.link.length - link1.suffix.length),\n\t\t\t\t\t\t\t\ttext: link1.suffix\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tconst detectedLink2: IParsedLink = {\n\t\t\t\t\t\tprefix: link2.prefix ? {\n\t\t\t\t\t\t\tindex: (detectedLink1.prefix?.index ?? detectedLink1.path.index) + link1.link.length + 1,\n\t\t\t\t\t\t\ttext: link2.prefix\n\t\t\t\t\t\t} : undefined,\n\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\tindex: (detectedLink1.prefix?.index ?? detectedLink1.path.index) + link1.link.length + 1 + (link2.prefix ?? '').length,\n\t\t\t\t\t\t\ttext: link2.link.replace(link2.suffix, '').replace(link2.prefix ?? '', '')\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\trow: link2.hasRow ? testRow : undefined,\n\t\t\t\t\t\t\tcol: link2.hasCol ? testCol : undefined,\n\t\t\t\t\t\t\trowEnd: link2.hasRowEnd ? testRowEnd : undefined,\n\t\t\t\t\t\t\tcolEnd: link2.hasColEnd ? testColEnd : undefined,\n\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\tindex: (detectedLink1.prefix?.index ?? detectedLink1.path.index) + link1.link.length + 1 + (link2.link.length - link2.suffix.length),\n\t\t\t\t\t\t\t\ttext: link2.suffix\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tconst detectedLink3: IParsedLink = {\n\t\t\t\t\t\tprefix: link3.prefix ? {\n\t\t\t\t\t\t\tindex: (detectedLink2.prefix?.index ?? detectedLink2.path.index) + link2.link.length + 1,\n\t\t\t\t\t\t\ttext: link3.prefix\n\t\t\t\t\t\t} : undefined,\n\t\t\t\t\t\tpath: {\n\t\t\t\t\t\t\tindex: (detectedLink2.prefix?.index ?? detectedLink2.path.index) + link2.link.length + 1 + (link3.prefix ?? '').length,\n\t\t\t\t\t\t\ttext: link3.link.replace(link3.suffix, '').replace(link3.prefix ?? '', '')\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\trow: link3.hasRow ? testRow : undefined,\n\t\t\t\t\t\t\tcol: link3.hasCol ? testCol : undefined,\n\t\t\t\t\t\t\trowEnd: link3.hasRowEnd ? testRowEnd : undefined,\n\t\t\t\t\t\t\tcolEnd: link3.hasColEnd ? testColEnd : undefined,\n\t\t\t\t\t\t\tsuffix: {\n\t\t\t\t\t\t\t\tindex: (detectedLink2.prefix?.index ?? detectedLink2.path.index) + link2.link.length + 1 + (link3.link.length - link3.suffix.length),\n\t\t\t\t\t\t\t\ttext: link3.suffix\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tdeepStrictEqual(\n\t\t\t\t\t\tdetectLinks(line, OperatingSystem.Linux),\n\t\t\t\t\t\t[detectedLink1, detectedLink2, detectedLink3]\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tsuite('should ignore links with suffixes when the path itself is the empty string', () => {\n\t\t\tdeepStrictEqual(\n\t\t\t\tdetectLinks('\"\"\",1', OperatingSystem.Linux),\n\t\t\t\t[] as IParsedLink[]\n\t\t\t);\n\t\t});\n\t});\n});\n"]}