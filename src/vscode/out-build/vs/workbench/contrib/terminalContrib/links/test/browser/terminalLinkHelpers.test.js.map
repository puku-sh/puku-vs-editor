{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/terminalContrib/links/test/browser/terminalLinkHelpers.test.ts","vs/workbench/contrib/terminalContrib/links/test/browser/terminalLinkHelpers.test.ts"],"names":[],"mappings":"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","file":"terminalLinkHelpers.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport type { IBufferLine, IBufferCell } from '@xterm/xterm';\nimport { convertLinkRangeToBuffer } from '../../browser/terminalLinkHelpers.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../../base/test/common/utils.js';\n\nsuite('Workbench - Terminal Link Helpers', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tsuite('convertLinkRangeToBuffer', () => {\n\t\ttest('should convert ranges for ascii characters', () => {\n\t\t\tconst lines = createBufferLineArray([\n\t\t\t\t{ text: 'AA http://t', width: 11 },\n\t\t\t\t{ text: '.com/f/', width: 8 }\n\t\t\t]);\n\t\t\tconst bufferRange = convertLinkRangeToBuffer(lines, 11, { startColumn: 4, startLineNumber: 1, endColumn: 19, endLineNumber: 1 }, 0);\n\t\t\tassert.deepStrictEqual(bufferRange, {\n\t\t\t\tstart: { x: 4, y: 1 },\n\t\t\t\tend: { x: 7, y: 2 }\n\t\t\t});\n\t\t});\n\t\ttest('should convert ranges for wide characters before the link', () => {\n\t\t\tconst lines = createBufferLineArray([\n\t\t\t\t{ text: 'Aæ–‡ http://', width: 11 },\n\t\t\t\t{ text: 't.com/f/', width: 9 }\n\t\t\t]);\n\t\t\tconst bufferRange = convertLinkRangeToBuffer(lines, 11, { startColumn: 4, startLineNumber: 1, endColumn: 19, endLineNumber: 1 }, 0);\n\t\t\tassert.deepStrictEqual(bufferRange, {\n\t\t\t\tstart: { x: 4 + 1, y: 1 },\n\t\t\t\tend: { x: 7 + 1, y: 2 }\n\t\t\t});\n\t\t});\n\t\ttest('should give correct range for links containing multi-character emoji', () => {\n\t\t\tconst lines = createBufferLineArray([\n\t\t\t\t{ text: 'AðŸ™‚ http://', width: 11 }\n\t\t\t]);\n\t\t\tconst bufferRange = convertLinkRangeToBuffer(lines, 11, { startColumn: 0 + 1, startLineNumber: 1, endColumn: 2 + 1, endLineNumber: 1 }, 0);\n\t\t\tassert.deepStrictEqual(bufferRange, {\n\t\t\t\tstart: { x: 1, y: 1 },\n\t\t\t\tend: { x: 2, y: 1 }\n\t\t\t});\n\t\t});\n\t\ttest('should convert ranges for combining characters before the link', () => {\n\t\t\tconst lines = createBufferLineArray([\n\t\t\t\t{ text: 'AðŸ™‚ http://', width: 11 },\n\t\t\t\t{ text: 't.com/f/', width: 9 }\n\t\t\t]);\n\t\t\tconst bufferRange = convertLinkRangeToBuffer(lines, 11, { startColumn: 4 + 1, startLineNumber: 1, endColumn: 19 + 1, endLineNumber: 1 }, 0);\n\t\t\tassert.deepStrictEqual(bufferRange, {\n\t\t\t\tstart: { x: 6, y: 1 },\n\t\t\t\tend: { x: 9, y: 2 }\n\t\t\t});\n\t\t});\n\t\ttest('should convert ranges for wide characters inside the link', () => {\n\t\t\tconst lines = createBufferLineArray([\n\t\t\t\t{ text: 'AA http://t', width: 11 },\n\t\t\t\t{ text: '.com/æ–‡/', width: 8 }\n\t\t\t]);\n\t\t\tconst bufferRange = convertLinkRangeToBuffer(lines, 11, { startColumn: 4, startLineNumber: 1, endColumn: 19, endLineNumber: 1 }, 0);\n\t\t\tassert.deepStrictEqual(bufferRange, {\n\t\t\t\tstart: { x: 4, y: 1 },\n\t\t\t\tend: { x: 7 + 1, y: 2 }\n\t\t\t});\n\t\t});\n\t\ttest('should convert ranges for wide characters before and inside the link', () => {\n\t\t\tconst lines = createBufferLineArray([\n\t\t\t\t{ text: 'Aæ–‡ http://', width: 11 },\n\t\t\t\t{ text: 't.com/æ–‡/', width: 9 }\n\t\t\t]);\n\t\t\tconst bufferRange = convertLinkRangeToBuffer(lines, 11, { startColumn: 4, startLineNumber: 1, endColumn: 19, endLineNumber: 1 }, 0);\n\t\t\tassert.deepStrictEqual(bufferRange, {\n\t\t\t\tstart: { x: 4 + 1, y: 1 },\n\t\t\t\tend: { x: 7 + 2, y: 2 }\n\t\t\t});\n\t\t});\n\t\ttest('should convert ranges for emoji before and wide inside the link', () => {\n\t\t\tconst lines = createBufferLineArray([\n\t\t\t\t{ text: 'AðŸ™‚ http://', width: 11 },\n\t\t\t\t{ text: 't.com/æ–‡/', width: 9 }\n\t\t\t]);\n\t\t\tconst bufferRange = convertLinkRangeToBuffer(lines, 11, { startColumn: 4 + 1, startLineNumber: 1, endColumn: 19 + 1, endLineNumber: 1 }, 0);\n\t\t\tassert.deepStrictEqual(bufferRange, {\n\t\t\t\tstart: { x: 6, y: 1 },\n\t\t\t\tend: { x: 10 + 1, y: 2 }\n\t\t\t});\n\t\t});\n\t\ttest('should convert ranges for ascii characters (link starts on wrapped)', () => {\n\t\t\tconst lines = createBufferLineArray([\n\t\t\t\t{ text: 'AAAAAAAAAAA', width: 11 },\n\t\t\t\t{ text: 'AA http://t', width: 11 },\n\t\t\t\t{ text: '.com/f/', width: 8 }\n\t\t\t]);\n\t\t\tconst bufferRange = convertLinkRangeToBuffer(lines, 11, { startColumn: 15, startLineNumber: 1, endColumn: 30, endLineNumber: 1 }, 0);\n\t\t\tassert.deepStrictEqual(bufferRange, {\n\t\t\t\tstart: { x: 4, y: 2 },\n\t\t\t\tend: { x: 7, y: 3 }\n\t\t\t});\n\t\t});\n\t\ttest('should convert ranges for wide characters before the link (link starts on wrapped)', () => {\n\t\t\tconst lines = createBufferLineArray([\n\t\t\t\t{ text: 'AAAAAAAAAAA', width: 11 },\n\t\t\t\t{ text: 'Aæ–‡ http://', width: 11 },\n\t\t\t\t{ text: 't.com/f/', width: 9 }\n\t\t\t]);\n\t\t\tconst bufferRange = convertLinkRangeToBuffer(lines, 11, { startColumn: 15, startLineNumber: 1, endColumn: 30, endLineNumber: 1 }, 0);\n\t\t\tassert.deepStrictEqual(bufferRange, {\n\t\t\t\tstart: { x: 4 + 1, y: 2 },\n\t\t\t\tend: { x: 7 + 1, y: 3 }\n\t\t\t});\n\t\t});\n\t\ttest('regression test #147619: èŽ·å–æ¨¡æ¿ 25235168 çš„é¢„è§ˆå›¾å¤±è´¥', () => {\n\t\t\tconst lines = createBufferLineArray([\n\t\t\t\t{ text: 'èŽ·å–æ¨¡æ¿ 25235168 çš„é¢„è§ˆå›¾å¤±è´¥', width: 30 }\n\t\t\t]);\n\t\t\tassert.deepStrictEqual(convertLinkRangeToBuffer(lines, 30, {\n\t\t\t\tstartColumn: 1,\n\t\t\t\tstartLineNumber: 1,\n\t\t\t\tendColumn: 5,\n\t\t\t\tendLineNumber: 1\n\t\t\t}, 0), {\n\t\t\t\tstart: { x: 1, y: 1 },\n\t\t\t\tend: { x: 8, y: 1 }\n\t\t\t});\n\t\t\tassert.deepStrictEqual(convertLinkRangeToBuffer(lines, 30, {\n\t\t\t\tstartColumn: 6,\n\t\t\t\tstartLineNumber: 1,\n\t\t\t\tendColumn: 14,\n\t\t\t\tendLineNumber: 1\n\t\t\t}, 0), {\n\t\t\t\tstart: { x: 10, y: 1 },\n\t\t\t\tend: { x: 17, y: 1 }\n\t\t\t});\n\t\t\tassert.deepStrictEqual(convertLinkRangeToBuffer(lines, 30, {\n\t\t\t\tstartColumn: 15,\n\t\t\t\tstartLineNumber: 1,\n\t\t\t\tendColumn: 21,\n\t\t\t\tendLineNumber: 1\n\t\t\t}, 0), {\n\t\t\t\tstart: { x: 19, y: 1 },\n\t\t\t\tend: { x: 30, y: 1 }\n\t\t\t});\n\t\t});\n\t\ttest('should convert ranges for wide characters inside the link (link starts on wrapped)', () => {\n\t\t\tconst lines = createBufferLineArray([\n\t\t\t\t{ text: 'AAAAAAAAAAA', width: 11 },\n\t\t\t\t{ text: 'AA http://t', width: 11 },\n\t\t\t\t{ text: '.com/æ–‡/', width: 8 }\n\t\t\t]);\n\t\t\tconst bufferRange = convertLinkRangeToBuffer(lines, 11, { startColumn: 15, startLineNumber: 1, endColumn: 30, endLineNumber: 1 }, 0);\n\t\t\tassert.deepStrictEqual(bufferRange, {\n\t\t\t\tstart: { x: 4, y: 2 },\n\t\t\t\tend: { x: 7 + 1, y: 3 }\n\t\t\t});\n\t\t});\n\t\ttest('should convert ranges for wide characters before and inside the link #2', () => {\n\t\t\tconst lines = createBufferLineArray([\n\t\t\t\t{ text: 'AAAAAAAAAAA', width: 11 },\n\t\t\t\t{ text: 'Aæ–‡ http://', width: 11 },\n\t\t\t\t{ text: 't.com/æ–‡/', width: 9 }\n\t\t\t]);\n\t\t\tconst bufferRange = convertLinkRangeToBuffer(lines, 11, { startColumn: 15, startLineNumber: 1, endColumn: 30, endLineNumber: 1 }, 0);\n\t\t\tassert.deepStrictEqual(bufferRange, {\n\t\t\t\tstart: { x: 4 + 1, y: 2 },\n\t\t\t\tend: { x: 7 + 2, y: 3 }\n\t\t\t});\n\t\t});\n\t\ttest('should convert ranges for several wide characters before the link', () => {\n\t\t\tconst lines = createBufferLineArray([\n\t\t\t\t{ text: 'Aæ–‡æ–‡AAAAAA', width: 11 },\n\t\t\t\t{ text: 'AAæ–‡æ–‡ http', width: 11 },\n\t\t\t\t{ text: '://t.com/f/', width: 11 }\n\t\t\t]);\n\t\t\tconst bufferRange = convertLinkRangeToBuffer(lines, 11, { startColumn: 15, startLineNumber: 1, endColumn: 30, endLineNumber: 1 }, 0);\n\t\t\t// This test ensures that the start offset is applied to the end before it's counted\n\t\t\tassert.deepStrictEqual(bufferRange, {\n\t\t\t\tstart: { x: 3 + 4, y: 2 },\n\t\t\t\tend: { x: 6 + 4, y: 3 }\n\t\t\t});\n\t\t});\n\t\ttest('should convert ranges for several wide characters before and inside the link', () => {\n\t\t\tconst lines = createBufferLineArray([\n\t\t\t\t{ text: 'Aæ–‡æ–‡AAAAAA', width: 11 },\n\t\t\t\t{ text: 'AAæ–‡æ–‡ http', width: 11 },\n\t\t\t\t{ text: '://t.com/æ–‡', width: 11 },\n\t\t\t\t{ text: 'æ–‡/', width: 3 }\n\t\t\t]);\n\t\t\tconst bufferRange = convertLinkRangeToBuffer(lines, 11, { startColumn: 14, startLineNumber: 1, endColumn: 31, endLineNumber: 1 }, 0);\n\t\t\t// This test ensures that the start offset is applies to the end before it's counted\n\t\t\tassert.deepStrictEqual(bufferRange, {\n\t\t\t\tstart: { x: 5, y: 2 },\n\t\t\t\tend: { x: 1, y: 4 }\n\t\t\t});\n\t\t});\n\t});\n});\n\nconst TEST_WIDE_CHAR = 'æ–‡';\nconst TEST_NULL_CHAR = 'C';\n\nfunction createBufferLineArray(lines: { text: string; width: number }[]): IBufferLine[] {\n\tconst result: IBufferLine[] = [];\n\tlines.forEach((l, i) => {\n\t\tresult.push(new TestBufferLine(\n\t\t\tl.text,\n\t\t\tl.width,\n\t\t\ti + 1 !== lines.length\n\t\t));\n\t});\n\treturn result;\n}\n\nclass TestBufferLine implements IBufferLine {\n\tconstructor(\n\t\tprivate _text: string,\n\t\tpublic length: number,\n\t\tpublic isWrapped: boolean\n\t) {\n\n\t}\n\tgetCell(x: number): IBufferCell | undefined {\n\t\t// Create a fake line of cells and use that to resolve the width\n\t\tconst cells: string[] = [];\n\t\tlet wideNullCellOffset = 0; // There is no null 0 width char after a wide char\n\t\tconst emojiOffset = 0; // Skip chars as emoji are multiple characters\n\t\tfor (let i = 0; i <= x - wideNullCellOffset + emojiOffset; i++) {\n\t\t\tlet char = this._text.charAt(i);\n\t\t\tif (char === '\\ud83d') {\n\t\t\t\t// Make \"ðŸ™‚\"\n\t\t\t\tchar += '\\ude42';\n\t\t\t}\n\t\t\tcells.push(char);\n\t\t\tif (this._text.charAt(i) === TEST_WIDE_CHAR || char.charCodeAt(0) > 255) {\n\t\t\t\t// Skip the next character as it's width is 0\n\t\t\t\tcells.push(TEST_NULL_CHAR);\n\t\t\t\twideNullCellOffset++;\n\t\t\t}\n\t\t}\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\treturn {\n\t\t\tgetChars: () => {\n\t\t\t\treturn x >= cells.length ? '' : cells[x];\n\t\t\t},\n\t\t\tgetWidth: () => {\n\t\t\t\tswitch (cells[x]) {\n\t\t\t\t\tcase TEST_WIDE_CHAR: return 2;\n\t\t\t\t\tcase TEST_NULL_CHAR: return 0;\n\t\t\t\t\tdefault: {\n\t\t\t\t\t\t// Naive measurement, assume anything our of ascii in tests are wide\n\t\t\t\t\t\tif (cells[x].charCodeAt(0) > 255) {\n\t\t\t\t\t\t\treturn 2;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} as any;\n\t}\n\ttranslateToString(): string {\n\t\tthrow new Error('Method not implemented.');\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport type { IBufferLine, IBufferCell } from '@xterm/xterm';\nimport { convertLinkRangeToBuffer } from '../../browser/terminalLinkHelpers.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../../base/test/common/utils.js';\n\nsuite('Workbench - Terminal Link Helpers', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tsuite('convertLinkRangeToBuffer', () => {\n\t\ttest('should convert ranges for ascii characters', () => {\n\t\t\tconst lines = createBufferLineArray([\n\t\t\t\t{ text: 'AA http://t', width: 11 },\n\t\t\t\t{ text: '.com/f/', width: 8 }\n\t\t\t]);\n\t\t\tconst bufferRange = convertLinkRangeToBuffer(lines, 11, { startColumn: 4, startLineNumber: 1, endColumn: 19, endLineNumber: 1 }, 0);\n\t\t\tassert.deepStrictEqual(bufferRange, {\n\t\t\t\tstart: { x: 4, y: 1 },\n\t\t\t\tend: { x: 7, y: 2 }\n\t\t\t});\n\t\t});\n\t\ttest('should convert ranges for wide characters before the link', () => {\n\t\t\tconst lines = createBufferLineArray([\n\t\t\t\t{ text: 'Aæ–‡ http://', width: 11 },\n\t\t\t\t{ text: 't.com/f/', width: 9 }\n\t\t\t]);\n\t\t\tconst bufferRange = convertLinkRangeToBuffer(lines, 11, { startColumn: 4, startLineNumber: 1, endColumn: 19, endLineNumber: 1 }, 0);\n\t\t\tassert.deepStrictEqual(bufferRange, {\n\t\t\t\tstart: { x: 4 + 1, y: 1 },\n\t\t\t\tend: { x: 7 + 1, y: 2 }\n\t\t\t});\n\t\t});\n\t\ttest('should give correct range for links containing multi-character emoji', () => {\n\t\t\tconst lines = createBufferLineArray([\n\t\t\t\t{ text: 'AðŸ™‚ http://', width: 11 }\n\t\t\t]);\n\t\t\tconst bufferRange = convertLinkRangeToBuffer(lines, 11, { startColumn: 0 + 1, startLineNumber: 1, endColumn: 2 + 1, endLineNumber: 1 }, 0);\n\t\t\tassert.deepStrictEqual(bufferRange, {\n\t\t\t\tstart: { x: 1, y: 1 },\n\t\t\t\tend: { x: 2, y: 1 }\n\t\t\t});\n\t\t});\n\t\ttest('should convert ranges for combining characters before the link', () => {\n\t\t\tconst lines = createBufferLineArray([\n\t\t\t\t{ text: 'AðŸ™‚ http://', width: 11 },\n\t\t\t\t{ text: 't.com/f/', width: 9 }\n\t\t\t]);\n\t\t\tconst bufferRange = convertLinkRangeToBuffer(lines, 11, { startColumn: 4 + 1, startLineNumber: 1, endColumn: 19 + 1, endLineNumber: 1 }, 0);\n\t\t\tassert.deepStrictEqual(bufferRange, {\n\t\t\t\tstart: { x: 6, y: 1 },\n\t\t\t\tend: { x: 9, y: 2 }\n\t\t\t});\n\t\t});\n\t\ttest('should convert ranges for wide characters inside the link', () => {\n\t\t\tconst lines = createBufferLineArray([\n\t\t\t\t{ text: 'AA http://t', width: 11 },\n\t\t\t\t{ text: '.com/æ–‡/', width: 8 }\n\t\t\t]);\n\t\t\tconst bufferRange = convertLinkRangeToBuffer(lines, 11, { startColumn: 4, startLineNumber: 1, endColumn: 19, endLineNumber: 1 }, 0);\n\t\t\tassert.deepStrictEqual(bufferRange, {\n\t\t\t\tstart: { x: 4, y: 1 },\n\t\t\t\tend: { x: 7 + 1, y: 2 }\n\t\t\t});\n\t\t});\n\t\ttest('should convert ranges for wide characters before and inside the link', () => {\n\t\t\tconst lines = createBufferLineArray([\n\t\t\t\t{ text: 'Aæ–‡ http://', width: 11 },\n\t\t\t\t{ text: 't.com/æ–‡/', width: 9 }\n\t\t\t]);\n\t\t\tconst bufferRange = convertLinkRangeToBuffer(lines, 11, { startColumn: 4, startLineNumber: 1, endColumn: 19, endLineNumber: 1 }, 0);\n\t\t\tassert.deepStrictEqual(bufferRange, {\n\t\t\t\tstart: { x: 4 + 1, y: 1 },\n\t\t\t\tend: { x: 7 + 2, y: 2 }\n\t\t\t});\n\t\t});\n\t\ttest('should convert ranges for emoji before and wide inside the link', () => {\n\t\t\tconst lines = createBufferLineArray([\n\t\t\t\t{ text: 'AðŸ™‚ http://', width: 11 },\n\t\t\t\t{ text: 't.com/æ–‡/', width: 9 }\n\t\t\t]);\n\t\t\tconst bufferRange = convertLinkRangeToBuffer(lines, 11, { startColumn: 4 + 1, startLineNumber: 1, endColumn: 19 + 1, endLineNumber: 1 }, 0);\n\t\t\tassert.deepStrictEqual(bufferRange, {\n\t\t\t\tstart: { x: 6, y: 1 },\n\t\t\t\tend: { x: 10 + 1, y: 2 }\n\t\t\t});\n\t\t});\n\t\ttest('should convert ranges for ascii characters (link starts on wrapped)', () => {\n\t\t\tconst lines = createBufferLineArray([\n\t\t\t\t{ text: 'AAAAAAAAAAA', width: 11 },\n\t\t\t\t{ text: 'AA http://t', width: 11 },\n\t\t\t\t{ text: '.com/f/', width: 8 }\n\t\t\t]);\n\t\t\tconst bufferRange = convertLinkRangeToBuffer(lines, 11, { startColumn: 15, startLineNumber: 1, endColumn: 30, endLineNumber: 1 }, 0);\n\t\t\tassert.deepStrictEqual(bufferRange, {\n\t\t\t\tstart: { x: 4, y: 2 },\n\t\t\t\tend: { x: 7, y: 3 }\n\t\t\t});\n\t\t});\n\t\ttest('should convert ranges for wide characters before the link (link starts on wrapped)', () => {\n\t\t\tconst lines = createBufferLineArray([\n\t\t\t\t{ text: 'AAAAAAAAAAA', width: 11 },\n\t\t\t\t{ text: 'Aæ–‡ http://', width: 11 },\n\t\t\t\t{ text: 't.com/f/', width: 9 }\n\t\t\t]);\n\t\t\tconst bufferRange = convertLinkRangeToBuffer(lines, 11, { startColumn: 15, startLineNumber: 1, endColumn: 30, endLineNumber: 1 }, 0);\n\t\t\tassert.deepStrictEqual(bufferRange, {\n\t\t\t\tstart: { x: 4 + 1, y: 2 },\n\t\t\t\tend: { x: 7 + 1, y: 3 }\n\t\t\t});\n\t\t});\n\t\ttest('regression test #147619: èŽ·å–æ¨¡æ¿ 25235168 çš„é¢„è§ˆå›¾å¤±è´¥', () => {\n\t\t\tconst lines = createBufferLineArray([\n\t\t\t\t{ text: 'èŽ·å–æ¨¡æ¿ 25235168 çš„é¢„è§ˆå›¾å¤±è´¥', width: 30 }\n\t\t\t]);\n\t\t\tassert.deepStrictEqual(convertLinkRangeToBuffer(lines, 30, {\n\t\t\t\tstartColumn: 1,\n\t\t\t\tstartLineNumber: 1,\n\t\t\t\tendColumn: 5,\n\t\t\t\tendLineNumber: 1\n\t\t\t}, 0), {\n\t\t\t\tstart: { x: 1, y: 1 },\n\t\t\t\tend: { x: 8, y: 1 }\n\t\t\t});\n\t\t\tassert.deepStrictEqual(convertLinkRangeToBuffer(lines, 30, {\n\t\t\t\tstartColumn: 6,\n\t\t\t\tstartLineNumber: 1,\n\t\t\t\tendColumn: 14,\n\t\t\t\tendLineNumber: 1\n\t\t\t}, 0), {\n\t\t\t\tstart: { x: 10, y: 1 },\n\t\t\t\tend: { x: 17, y: 1 }\n\t\t\t});\n\t\t\tassert.deepStrictEqual(convertLinkRangeToBuffer(lines, 30, {\n\t\t\t\tstartColumn: 15,\n\t\t\t\tstartLineNumber: 1,\n\t\t\t\tendColumn: 21,\n\t\t\t\tendLineNumber: 1\n\t\t\t}, 0), {\n\t\t\t\tstart: { x: 19, y: 1 },\n\t\t\t\tend: { x: 30, y: 1 }\n\t\t\t});\n\t\t});\n\t\ttest('should convert ranges for wide characters inside the link (link starts on wrapped)', () => {\n\t\t\tconst lines = createBufferLineArray([\n\t\t\t\t{ text: 'AAAAAAAAAAA', width: 11 },\n\t\t\t\t{ text: 'AA http://t', width: 11 },\n\t\t\t\t{ text: '.com/æ–‡/', width: 8 }\n\t\t\t]);\n\t\t\tconst bufferRange = convertLinkRangeToBuffer(lines, 11, { startColumn: 15, startLineNumber: 1, endColumn: 30, endLineNumber: 1 }, 0);\n\t\t\tassert.deepStrictEqual(bufferRange, {\n\t\t\t\tstart: { x: 4, y: 2 },\n\t\t\t\tend: { x: 7 + 1, y: 3 }\n\t\t\t});\n\t\t});\n\t\ttest('should convert ranges for wide characters before and inside the link #2', () => {\n\t\t\tconst lines = createBufferLineArray([\n\t\t\t\t{ text: 'AAAAAAAAAAA', width: 11 },\n\t\t\t\t{ text: 'Aæ–‡ http://', width: 11 },\n\t\t\t\t{ text: 't.com/æ–‡/', width: 9 }\n\t\t\t]);\n\t\t\tconst bufferRange = convertLinkRangeToBuffer(lines, 11, { startColumn: 15, startLineNumber: 1, endColumn: 30, endLineNumber: 1 }, 0);\n\t\t\tassert.deepStrictEqual(bufferRange, {\n\t\t\t\tstart: { x: 4 + 1, y: 2 },\n\t\t\t\tend: { x: 7 + 2, y: 3 }\n\t\t\t});\n\t\t});\n\t\ttest('should convert ranges for several wide characters before the link', () => {\n\t\t\tconst lines = createBufferLineArray([\n\t\t\t\t{ text: 'Aæ–‡æ–‡AAAAAA', width: 11 },\n\t\t\t\t{ text: 'AAæ–‡æ–‡ http', width: 11 },\n\t\t\t\t{ text: '://t.com/f/', width: 11 }\n\t\t\t]);\n\t\t\tconst bufferRange = convertLinkRangeToBuffer(lines, 11, { startColumn: 15, startLineNumber: 1, endColumn: 30, endLineNumber: 1 }, 0);\n\t\t\t// This test ensures that the start offset is applied to the end before it's counted\n\t\t\tassert.deepStrictEqual(bufferRange, {\n\t\t\t\tstart: { x: 3 + 4, y: 2 },\n\t\t\t\tend: { x: 6 + 4, y: 3 }\n\t\t\t});\n\t\t});\n\t\ttest('should convert ranges for several wide characters before and inside the link', () => {\n\t\t\tconst lines = createBufferLineArray([\n\t\t\t\t{ text: 'Aæ–‡æ–‡AAAAAA', width: 11 },\n\t\t\t\t{ text: 'AAæ–‡æ–‡ http', width: 11 },\n\t\t\t\t{ text: '://t.com/æ–‡', width: 11 },\n\t\t\t\t{ text: 'æ–‡/', width: 3 }\n\t\t\t]);\n\t\t\tconst bufferRange = convertLinkRangeToBuffer(lines, 11, { startColumn: 14, startLineNumber: 1, endColumn: 31, endLineNumber: 1 }, 0);\n\t\t\t// This test ensures that the start offset is applies to the end before it's counted\n\t\t\tassert.deepStrictEqual(bufferRange, {\n\t\t\t\tstart: { x: 5, y: 2 },\n\t\t\t\tend: { x: 1, y: 4 }\n\t\t\t});\n\t\t});\n\t});\n});\n\nconst TEST_WIDE_CHAR = 'æ–‡';\nconst TEST_NULL_CHAR = 'C';\n\nfunction createBufferLineArray(lines: { text: string; width: number }[]): IBufferLine[] {\n\tconst result: IBufferLine[] = [];\n\tlines.forEach((l, i) => {\n\t\tresult.push(new TestBufferLine(\n\t\t\tl.text,\n\t\t\tl.width,\n\t\t\ti + 1 !== lines.length\n\t\t));\n\t});\n\treturn result;\n}\n\nclass TestBufferLine implements IBufferLine {\n\tconstructor(\n\t\tprivate _text: string,\n\t\tpublic length: number,\n\t\tpublic isWrapped: boolean\n\t) {\n\n\t}\n\tgetCell(x: number): IBufferCell | undefined {\n\t\t// Create a fake line of cells and use that to resolve the width\n\t\tconst cells: string[] = [];\n\t\tlet wideNullCellOffset = 0; // There is no null 0 width char after a wide char\n\t\tconst emojiOffset = 0; // Skip chars as emoji are multiple characters\n\t\tfor (let i = 0; i <= x - wideNullCellOffset + emojiOffset; i++) {\n\t\t\tlet char = this._text.charAt(i);\n\t\t\tif (char === '\\ud83d') {\n\t\t\t\t// Make \"ðŸ™‚\"\n\t\t\t\tchar += '\\ude42';\n\t\t\t}\n\t\t\tcells.push(char);\n\t\t\tif (this._text.charAt(i) === TEST_WIDE_CHAR || char.charCodeAt(0) > 255) {\n\t\t\t\t// Skip the next character as it's width is 0\n\t\t\t\tcells.push(TEST_NULL_CHAR);\n\t\t\t\twideNullCellOffset++;\n\t\t\t}\n\t\t}\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\treturn {\n\t\t\tgetChars: () => {\n\t\t\t\treturn x >= cells.length ? '' : cells[x];\n\t\t\t},\n\t\t\tgetWidth: () => {\n\t\t\t\tswitch (cells[x]) {\n\t\t\t\t\tcase TEST_WIDE_CHAR: return 2;\n\t\t\t\t\tcase TEST_NULL_CHAR: return 0;\n\t\t\t\t\tdefault: {\n\t\t\t\t\t\t// Naive measurement, assume anything our of ascii in tests are wide\n\t\t\t\t\t\tif (cells[x].charCodeAt(0) > 255) {\n\t\t\t\t\t\t\treturn 2;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} as any;\n\t}\n\ttranslateToString(): string {\n\t\tthrow new Error('Method not implemented.');\n\t}\n}\n"]}