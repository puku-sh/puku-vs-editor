{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/terminalContrib/chatAgentTools/browser/alternativeRecommendation.ts","vs/workbench/contrib/terminalContrib/chatAgentTools/browser/alternativeRecommendation.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAIhG,IAAI,6BAA6B,GAAG,KAAK,CAAC;AAE1C,MAAM,gBAAgB,GAA6C;IAClE;QACC,QAAQ,EAAE;YACT,IAAI,MAAM,CAAC,8BAA8B,CAAC;YAC1C,IAAI,MAAM,CAAC,oBAAoB,CAAC;SAChC;QACD,IAAI,EAAE,CAAC,oBAAoB,CAAC;KAC5B;IACD;QACC,QAAQ,EAAE;YACT,IAAI,MAAM,CAAC,0BAA0B,CAAC;YACtC,IAAI,MAAM,CAAC,yCAAyC,CAAC;YACrD,IAAI,MAAM,CAAC,+BAA+B,CAAC;YAC3C,IAAI,MAAM,CAAC,cAAc,CAAC,EAAE,wDAAwD;SACpF;QACD,IAAI,EAAE,CAAC,oBAAoB,EAAE,qBAAqB,CAAC;KACnD;CACD,CAAC;AAEF,MAAM,UAAU,oCAAoC,CAAC,WAAmB,EAAE,yBAAqD;IAC9H,MAAM,KAAK,GAAG,yBAAyB,CAAC,QAAQ,EAAE,CAAC;IACnD,IAAI,CAAC,KAAK,IAAI,6BAA6B,EAAE,CAAC;QAC7C,OAAO;IACR,CAAC;IAED,MAAM,gBAAgB,GAAG,IAAI,GAAG,EAAU,CAAC;IAC3C,MAAM,QAAQ,GAAa;QAC1B,yBAAyB,WAAW,qBAAqB;QACzD,+KAA+K;KAC/K,CAAC;IACF,KAAK,MAAM,eAAe,IAAI,gBAAgB,EAAE,CAAC;QAChD,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,SAAS,EAAE,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC;YAChF,SAAS;QACV,CAAC;QACD,MAAM,eAAe,GAAG,eAAe,CAAC,IAAI,CAAC;QAC7C,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC;aACf,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;aAC/D,OAAO,CAAC,IAAI,CAAC,EAAE;YACf,gBAAgB,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAC/B,CAAC,CAAC,CAAC;IAEL,CAAC;IACD,gBAAgB,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;QACnC,QAAQ,CAAC,IAAI,CAAC,KAAK,QAAQ,EAAE,CAAC,CAAC;IAChC,CAAC,CAAC,CAAC;IAEH,IAAI,gBAAgB,CAAC,IAAI,EAAE,CAAC;QAC3B,6BAA6B,GAAG,IAAI,CAAC;QACrC,OAAO,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC9B,CAAC;IAED,OAAO,SAAS,CAAC;AAClB,CAAC","file":"alternativeRecommendation.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type { ILanguageModelToolsService } from '../../../chat/common/languageModelToolsService.js';\n\nlet previouslyRecommededInSession = false;\n\nconst terminalCommands: { commands: RegExp[]; tags: string[] }[] = [\n\t{\n\t\tcommands: [\n\t\t\tnew RegExp(/^python3? -m pip install(\\b)/),\n\t\t\tnew RegExp(/^pip3? install(\\b)/),\n\t\t],\n\t\ttags: ['python environment'],\n\t},\n\t{\n\t\tcommands: [\n\t\t\tnew RegExp(/^python3? -m jupyter(\\b)/),\n\t\t\tnew RegExp(/^python3? -m pip install\\b.*jupyter\\b.*/),\n\t\t\tnew RegExp(/^pip3? install\\b.*jupyter\\b.*/),\n\t\t\tnew RegExp(/^jupyter(\\b)/), // jupyter lab, jupyer notebook, jupyter nbconvert, etc.\n\t\t],\n\t\ttags: ['python environment', 'jupyter environment'],\n\t}\n];\n\nexport function getRecommendedToolsOverRunInTerminal(commandLine: string, languageModelToolsService: ILanguageModelToolsService): string | undefined {\n\tconst tools = languageModelToolsService.getTools();\n\tif (!tools || previouslyRecommededInSession) {\n\t\treturn;\n\t}\n\n\tconst recommendedTools = new Set<string>();\n\tconst messages: string[] = [\n\t\t`The terminal command '${commandLine}' was not executed.`,\n\t\t`Try using some of the following tools instead of running a Terminal Command (if unable to use one of these tools as an alternative then run the same terminal command again):`,\n\t];\n\tfor (const terminalCommand of terminalCommands) {\n\t\tif (!terminalCommand.commands.some((condition) => condition.test(commandLine))) {\n\t\t\tcontinue;\n\t\t}\n\t\tconst tagsToSearchFor = terminalCommand.tags;\n\t\tArray.from(tools)\n\t\t\t.filter(t => tagsToSearchFor.some(tag => t.tags?.includes(tag)))\n\t\t\t.forEach(tool => {\n\t\t\t\trecommendedTools.add(tool.id);\n\t\t\t});\n\n\t}\n\trecommendedTools.forEach(toolName => {\n\t\tmessages.push(`- ${toolName}`);\n\t});\n\n\tif (recommendedTools.size) {\n\t\tpreviouslyRecommededInSession = true;\n\t\treturn messages.join('  \\n');\n\t}\n\n\treturn undefined;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type { ILanguageModelToolsService } from '../../../chat/common/languageModelToolsService.js';\n\nlet previouslyRecommededInSession = false;\n\nconst terminalCommands: { commands: RegExp[]; tags: string[] }[] = [\n\t{\n\t\tcommands: [\n\t\t\tnew RegExp(/^python3? -m pip install(\\b)/),\n\t\t\tnew RegExp(/^pip3? install(\\b)/),\n\t\t],\n\t\ttags: ['python environment'],\n\t},\n\t{\n\t\tcommands: [\n\t\t\tnew RegExp(/^python3? -m jupyter(\\b)/),\n\t\t\tnew RegExp(/^python3? -m pip install\\b.*jupyter\\b.*/),\n\t\t\tnew RegExp(/^pip3? install\\b.*jupyter\\b.*/),\n\t\t\tnew RegExp(/^jupyter(\\b)/), // jupyter lab, jupyer notebook, jupyter nbconvert, etc.\n\t\t],\n\t\ttags: ['python environment', 'jupyter environment'],\n\t}\n];\n\nexport function getRecommendedToolsOverRunInTerminal(commandLine: string, languageModelToolsService: ILanguageModelToolsService): string | undefined {\n\tconst tools = languageModelToolsService.getTools();\n\tif (!tools || previouslyRecommededInSession) {\n\t\treturn;\n\t}\n\n\tconst recommendedTools = new Set<string>();\n\tconst messages: string[] = [\n\t\t`The terminal command '${commandLine}' was not executed.`,\n\t\t`Try using some of the following tools instead of running a Terminal Command (if unable to use one of these tools as an alternative then run the same terminal command again):`,\n\t];\n\tfor (const terminalCommand of terminalCommands) {\n\t\tif (!terminalCommand.commands.some((condition) => condition.test(commandLine))) {\n\t\t\tcontinue;\n\t\t}\n\t\tconst tagsToSearchFor = terminalCommand.tags;\n\t\tArray.from(tools)\n\t\t\t.filter(t => tagsToSearchFor.some(tag => t.tags?.includes(tag)))\n\t\t\t.forEach(tool => {\n\t\t\t\trecommendedTools.add(tool.id);\n\t\t\t});\n\n\t}\n\trecommendedTools.forEach(toolName => {\n\t\tmessages.push(`- ${toolName}`);\n\t});\n\n\tif (recommendedTools.size) {\n\t\tpreviouslyRecommededInSession = true;\n\t\treturn messages.join('  \\n');\n\t}\n\n\treturn undefined;\n}\n"]}