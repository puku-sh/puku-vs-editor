{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/terminalContrib/chatAgentTools/browser/executeStrategy/strategyHelpers.ts","vs/workbench/contrib/terminalContrib/chatAgentTools/browser/executeStrategy/strategyHelpers.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,EAAmB,iBAAiB,EAAE,YAAY,EAAoB,MAAM,4CAA4C,CAAC;AAGhI;;;;GAIG;AACH,MAAM,UAAU,0BAA0B,CACzC,KAA8D,EAC9D,WAA4C,EAC5C,IAAgD,EAChD,KAAsB,EACtB,GAA+B;IAE/B,MAAM,cAAc,GAAG,IAAI,iBAAiB,EAAe,CAAC;IAC5D,MAAM,mBAAmB,GAAG,GAAG,EAAE;QAChC,IAAI,KAAK,CAAC,UAAU,EAAE,CAAC;YACtB,OAAO;QACR,CAAC;QACD,MAAM,MAAM,GAAG,KAAK,CAAC,GAAG,CAAC,cAAc,EAAE,CAAC;QAC1C,WAAW,CAAC,KAAK,GAAG,MAAM,IAAI,SAAS,CAAC;QACxC,IAAI,CAAC,MAAM,CAAC,CAAC;QACb,IAAI,CAAC,MAAM,EAAE,CAAC;YACb,cAAc,CAAC,KAAK,EAAE,CAAC;YACvB,OAAO;QACR,CAAC;QACD,cAAc,CAAC,KAAK,GAAG,MAAM,CAAC,SAAS,CAAC,GAAG,EAAE;YAC5C,GAAG,EAAE,CAAC,uCAAuC,CAAC,CAAC;YAC/C,mBAAmB,EAAE,CAAC;QACvB,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC;IACF,mBAAmB,EAAE,CAAC;IACtB,KAAK,CAAC,GAAG,CAAC,YAAY,CAAC,GAAG,EAAE;QAC3B,cAAc,CAAC,OAAO,EAAE,CAAC;QACzB,WAAW,CAAC,KAAK,EAAE,CAAC;QACpB,IAAI,CAAC,SAAS,CAAC,CAAC;IACjB,CAAC,CAAC,CAAC,CAAC;IACJ,KAAK,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;AACxB,CAAC","file":"strategyHelpers.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { DisposableStore, MutableDisposable, toDisposable, type IDisposable } from '../../../../../../base/common/lifecycle.js';\nimport type { IMarker as IXtermMarker } from '@xterm/xterm';\n\n/**\n * Sets up a recreating start marker which is resilient to prompts that clear/re-render (eg. transient\n * or powerlevel10k style prompts). The marker is recreated at the cursor position whenever the\n * existing marker is disposed. The caller is responsible for adding the startMarker to the store.\n */\nexport function setupRecreatingStartMarker(\n\txterm: { raw: { registerMarker(): IXtermMarker | undefined } },\n\tstartMarker: MutableDisposable<IXtermMarker>,\n\tfire: (marker: IXtermMarker | undefined) => void,\n\tstore: DisposableStore,\n\tlog?: (message: string) => void,\n): void {\n\tconst markerListener = new MutableDisposable<IDisposable>();\n\tconst recreateStartMarker = () => {\n\t\tif (store.isDisposed) {\n\t\t\treturn;\n\t\t}\n\t\tconst marker = xterm.raw.registerMarker();\n\t\tstartMarker.value = marker ?? undefined;\n\t\tfire(marker);\n\t\tif (!marker) {\n\t\t\tmarkerListener.clear();\n\t\t\treturn;\n\t\t}\n\t\tmarkerListener.value = marker.onDispose(() => {\n\t\t\tlog?.('Start marker was disposed, recreating');\n\t\t\trecreateStartMarker();\n\t\t});\n\t};\n\trecreateStartMarker();\n\tstore.add(toDisposable(() => {\n\t\tmarkerListener.dispose();\n\t\tstartMarker.clear();\n\t\tfire(undefined);\n\t}));\n\tstore.add(startMarker);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { DisposableStore, MutableDisposable, toDisposable, type IDisposable } from '../../../../../../base/common/lifecycle.js';\nimport type { IMarker as IXtermMarker } from '@xterm/xterm';\n\n/**\n * Sets up a recreating start marker which is resilient to prompts that clear/re-render (eg. transient\n * or powerlevel10k style prompts). The marker is recreated at the cursor position whenever the\n * existing marker is disposed. The caller is responsible for adding the startMarker to the store.\n */\nexport function setupRecreatingStartMarker(\n\txterm: { raw: { registerMarker(): IXtermMarker | undefined } },\n\tstartMarker: MutableDisposable<IXtermMarker>,\n\tfire: (marker: IXtermMarker | undefined) => void,\n\tstore: DisposableStore,\n\tlog?: (message: string) => void,\n): void {\n\tconst markerListener = new MutableDisposable<IDisposable>();\n\tconst recreateStartMarker = () => {\n\t\tif (store.isDisposed) {\n\t\t\treturn;\n\t\t}\n\t\tconst marker = xterm.raw.registerMarker();\n\t\tstartMarker.value = marker ?? undefined;\n\t\tfire(marker);\n\t\tif (!marker) {\n\t\t\tmarkerListener.clear();\n\t\t\treturn;\n\t\t}\n\t\tmarkerListener.value = marker.onDispose(() => {\n\t\t\tlog?.('Start marker was disposed, recreating');\n\t\t\trecreateStartMarker();\n\t\t});\n\t};\n\trecreateStartMarker();\n\tstore.add(toDisposable(() => {\n\t\tmarkerListener.dispose();\n\t\tstartMarker.clear();\n\t\tfire(undefined);\n\t}));\n\tstore.add(startMarker);\n}\n"]}