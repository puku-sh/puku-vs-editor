{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/terminalContrib/chatAgentTools/test/browser/executeStrategy.test.ts","vs/workbench/contrib/terminalContrib/chatAgentTools/test/browser/executeStrategy.test.ts"],"names":[],"mappings":"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","file":"executeStrategy.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { strictEqual } from 'assert';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../../base/test/common/utils.js';\nimport { detectsCommonPromptPattern } from '../../browser/executeStrategy/executeStrategy.js';\n\nsuite('Execute Strategy - Prompt Detection', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('detectsCommonPromptPattern should detect PowerShell prompts', () => {\n\t\tstrictEqual(detectsCommonPromptPattern('PS C:\\\\>').detected, true);\n\t\tstrictEqual(detectsCommonPromptPattern('PS C:\\\\Windows\\\\System32>').detected, true);\n\t\tstrictEqual(detectsCommonPromptPattern('PS C:\\\\Users\\\\test> ').detected, true);\n\t});\n\n\ttest('detectsCommonPromptPattern should detect Command Prompt', () => {\n\t\tstrictEqual(detectsCommonPromptPattern('C:\\\\>').detected, true);\n\t\tstrictEqual(detectsCommonPromptPattern('C:\\\\Windows\\\\System32>').detected, true);\n\t\tstrictEqual(detectsCommonPromptPattern('D:\\\\test> ').detected, true);\n\t});\n\n\ttest('detectsCommonPromptPattern should detect Bash prompts', () => {\n\t\tstrictEqual(detectsCommonPromptPattern('user@host:~$ ').detected, true);\n\t\tstrictEqual(detectsCommonPromptPattern('$ ').detected, true);\n\t\tstrictEqual(detectsCommonPromptPattern('[user@host ~]$ ').detected, true);\n\t});\n\n\ttest('detectsCommonPromptPattern should detect root prompts', () => {\n\t\tstrictEqual(detectsCommonPromptPattern('root@host:~# ').detected, true);\n\t\tstrictEqual(detectsCommonPromptPattern('# ').detected, true);\n\t\tstrictEqual(detectsCommonPromptPattern('[root@host ~]# ').detected, true);\n\t});\n\n\ttest('detectsCommonPromptPattern should detect Python REPL', () => {\n\t\tstrictEqual(detectsCommonPromptPattern('>>> ').detected, true);\n\t\tstrictEqual(detectsCommonPromptPattern('>>>').detected, true);\n\t});\n\n\ttest('detectsCommonPromptPattern should detect starship prompts', () => {\n\t\tstrictEqual(detectsCommonPromptPattern('~ \\u276f ').detected, true);\n\t\tstrictEqual(detectsCommonPromptPattern('/path/to/project \\u276f').detected, true);\n\t});\n\n\ttest('detectsCommonPromptPattern should detect generic prompts', () => {\n\t\tstrictEqual(detectsCommonPromptPattern('test> ').detected, true);\n\t\tstrictEqual(detectsCommonPromptPattern('someprompt% ').detected, true);\n\t});\n\n\ttest('detectsCommonPromptPattern should handle multiline content', () => {\n\t\tconst multilineContent = `command output line 1\ncommand output line 2\nuser@host:~$ `;\n\t\tstrictEqual(detectsCommonPromptPattern(multilineContent).detected, true);\n\t});\n\n\ttest('detectsCommonPromptPattern should reject non-prompt content', () => {\n\t\tstrictEqual(detectsCommonPromptPattern('just some output').detected, false);\n\t\tstrictEqual(detectsCommonPromptPattern('error: command not found').detected, false);\n\t\tstrictEqual(detectsCommonPromptPattern('').detected, false);\n\t\tstrictEqual(detectsCommonPromptPattern('   ').detected, false);\n\t});\n\n\ttest('detectsCommonPromptPattern should handle edge cases', () => {\n\t\tstrictEqual(detectsCommonPromptPattern('output\\n\\n\\n').detected, false);\n\t\tstrictEqual(detectsCommonPromptPattern('\\n\\n$ \\n\\n').detected, true); // prompt with surrounding whitespace\n\t\tstrictEqual(detectsCommonPromptPattern('output\\nPS C:\\\\> ').detected, true); // prompt at end after output\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { strictEqual } from 'assert';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../../base/test/common/utils.js';\nimport { detectsCommonPromptPattern } from '../../browser/executeStrategy/executeStrategy.js';\n\nsuite('Execute Strategy - Prompt Detection', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('detectsCommonPromptPattern should detect PowerShell prompts', () => {\n\t\tstrictEqual(detectsCommonPromptPattern('PS C:\\\\>').detected, true);\n\t\tstrictEqual(detectsCommonPromptPattern('PS C:\\\\Windows\\\\System32>').detected, true);\n\t\tstrictEqual(detectsCommonPromptPattern('PS C:\\\\Users\\\\test> ').detected, true);\n\t});\n\n\ttest('detectsCommonPromptPattern should detect Command Prompt', () => {\n\t\tstrictEqual(detectsCommonPromptPattern('C:\\\\>').detected, true);\n\t\tstrictEqual(detectsCommonPromptPattern('C:\\\\Windows\\\\System32>').detected, true);\n\t\tstrictEqual(detectsCommonPromptPattern('D:\\\\test> ').detected, true);\n\t});\n\n\ttest('detectsCommonPromptPattern should detect Bash prompts', () => {\n\t\tstrictEqual(detectsCommonPromptPattern('user@host:~$ ').detected, true);\n\t\tstrictEqual(detectsCommonPromptPattern('$ ').detected, true);\n\t\tstrictEqual(detectsCommonPromptPattern('[user@host ~]$ ').detected, true);\n\t});\n\n\ttest('detectsCommonPromptPattern should detect root prompts', () => {\n\t\tstrictEqual(detectsCommonPromptPattern('root@host:~# ').detected, true);\n\t\tstrictEqual(detectsCommonPromptPattern('# ').detected, true);\n\t\tstrictEqual(detectsCommonPromptPattern('[root@host ~]# ').detected, true);\n\t});\n\n\ttest('detectsCommonPromptPattern should detect Python REPL', () => {\n\t\tstrictEqual(detectsCommonPromptPattern('>>> ').detected, true);\n\t\tstrictEqual(detectsCommonPromptPattern('>>>').detected, true);\n\t});\n\n\ttest('detectsCommonPromptPattern should detect starship prompts', () => {\n\t\tstrictEqual(detectsCommonPromptPattern('~ \\u276f ').detected, true);\n\t\tstrictEqual(detectsCommonPromptPattern('/path/to/project \\u276f').detected, true);\n\t});\n\n\ttest('detectsCommonPromptPattern should detect generic prompts', () => {\n\t\tstrictEqual(detectsCommonPromptPattern('test> ').detected, true);\n\t\tstrictEqual(detectsCommonPromptPattern('someprompt% ').detected, true);\n\t});\n\n\ttest('detectsCommonPromptPattern should handle multiline content', () => {\n\t\tconst multilineContent = `command output line 1\ncommand output line 2\nuser@host:~$ `;\n\t\tstrictEqual(detectsCommonPromptPattern(multilineContent).detected, true);\n\t});\n\n\ttest('detectsCommonPromptPattern should reject non-prompt content', () => {\n\t\tstrictEqual(detectsCommonPromptPattern('just some output').detected, false);\n\t\tstrictEqual(detectsCommonPromptPattern('error: command not found').detected, false);\n\t\tstrictEqual(detectsCommonPromptPattern('').detected, false);\n\t\tstrictEqual(detectsCommonPromptPattern('   ').detected, false);\n\t});\n\n\ttest('detectsCommonPromptPattern should handle edge cases', () => {\n\t\tstrictEqual(detectsCommonPromptPattern('output\\n\\n\\n').detected, false);\n\t\tstrictEqual(detectsCommonPromptPattern('\\n\\n$ \\n\\n').detected, true); // prompt with surrounding whitespace\n\t\tstrictEqual(detectsCommonPromptPattern('output\\nPS C:\\\\> ').detected, true); // prompt at end after output\n\t});\n});\n"]}