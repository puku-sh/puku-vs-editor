{"version":3,"sources":["vs/workbench/contrib/terminalContrib/quickFix/browser/quickFixAddon.ts"],"names":[],"mappings":"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","file":"quickFixAddon.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type { ITerminalAddon } from '@xterm/headless';\nimport { Emitter, Event } from '../../../../../base/common/event.js';\nimport { Disposable, DisposableStore, MutableDisposable, type IDisposable } from '../../../../../base/common/lifecycle.js';\nimport { ITerminalCapabilityStore, ITerminalCommand, TerminalCapability } from '../../../../../platform/terminal/common/capabilities/capabilities.js';\nimport * as dom from '../../../../../base/browser/dom.js';\nimport { IAction } from '../../../../../base/common/actions.js';\nimport { asArray } from '../../../../../base/common/arrays.js';\nimport { localize } from '../../../../../nls.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { IOpenerService } from '../../../../../platform/opener/common/opener.js';\nimport { DecorationSelector, updateLayout } from '../../../terminal/browser/xterm/decorationStyles.js';\nimport type { IDecoration, Terminal } from '@xterm/xterm';\nimport { ITelemetryService } from '../../../../../platform/telemetry/common/telemetry.js';\nimport { CancellationTokenSource } from '../../../../../base/common/cancellation.js';\nimport { IExtensionService } from '../../../../services/extensions/common/extensions.js';\nimport { AccessibilitySignal, IAccessibilitySignalService } from '../../../../../platform/accessibilitySignal/browser/accessibilitySignalService.js';\nimport { IActionWidgetService } from '../../../../../platform/actionWidget/browser/actionWidget.js';\nimport { ActionSet } from '../../../../../platform/actionWidget/common/actionWidget.js';\nimport { getLinesForCommand } from '../../../../../platform/terminal/common/capabilities/commandDetectionCapability.js';\nimport { IAnchor } from '../../../../../base/browser/ui/contextview/contextview.js';\nimport { ILabelService } from '../../../../../platform/label/common/label.js';\nimport { Schemas } from '../../../../../base/common/network.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { ITerminalQuickFixInternalOptions, ITerminalQuickFixResolvedExtensionOptions, ITerminalQuickFix, ITerminalQuickFixTerminalCommandAction, ITerminalQuickFixOpenerAction, ITerminalQuickFixOptions, ITerminalQuickFixProviderSelector, ITerminalQuickFixService, ITerminalQuickFixUnresolvedExtensionOptions, TerminalQuickFixType, ITerminalQuickFixCommandAction } from './quickFix.js';\nimport { ITerminalCommandSelector, TerminalSettingId } from '../../../../../platform/terminal/common/terminal.js';\nimport { ActionListItemKind, IActionListItem } from '../../../../../platform/actionWidget/browser/actionList.js';\nimport { CodeActionKind } from '../../../../../editor/contrib/codeAction/common/types.js';\nimport { Codicon } from '../../../../../base/common/codicons.js';\nimport { ThemeIcon } from '../../../../../base/common/themables.js';\nimport { ICommandService } from '../../../../../platform/commands/common/commands.js';\nimport { hasKey, type SingleOrMany } from '../../../../../base/common/types.js';\n\nconst enum QuickFixDecorationSelector {\n\tQuickFix = 'quick-fix'\n}\n\nconst quickFixClasses = [\n\tQuickFixDecorationSelector.QuickFix,\n\tDecorationSelector.Codicon,\n\tDecorationSelector.CommandDecoration,\n\tDecorationSelector.XtermDecoration\n];\n\nexport interface ITerminalQuickFixAddon {\n\treadonly onDidRequestRerunCommand: Event<{ command: string; shouldExecute?: boolean }>;\n\treadonly onDidUpdateQuickFixes: Event<{ command: ITerminalCommand; actions: ITerminalAction[] | undefined }>;\n\tshowMenu(): void;\n\t/**\n\t * Registers a listener on onCommandFinished scoped to a particular command or regular\n\t * expression and provides a callback to be executed for commands that match.\n\t */\n\tregisterCommandFinishedListener(options: ITerminalQuickFixOptions): void;\n}\n\nexport class TerminalQuickFixAddon extends Disposable implements ITerminalAddon, ITerminalQuickFixAddon {\n\n\tprivate _terminal: Terminal | undefined;\n\n\tprivate _commandListeners: Map<string, (ITerminalQuickFixOptions | ITerminalQuickFixResolvedExtensionOptions | ITerminalQuickFixUnresolvedExtensionOptions)[]> = new Map();\n\n\tprivate _quickFixes: ITerminalAction[] | undefined;\n\n\tprivate readonly _decoration: MutableDisposable<IDecoration> = this._register(new MutableDisposable());\n\tprivate readonly _decorationDisposables: MutableDisposable<IDisposable> = this._register(new MutableDisposable());\n\n\tprivate _currentRenderContext: { quickFixes: ITerminalAction[]; anchor: IAnchor; parentElement: HTMLElement } | undefined;\n\n\tprivate _lastQuickFixId: string | undefined;\n\n\tprivate readonly _registeredSelectors: Set<string> = new Set();\n\n\tprivate _didRun: boolean = false;\n\n\tprivate readonly _onDidRequestRerunCommand = new Emitter<{ command: string; shouldExecute?: boolean }>();\n\treadonly onDidRequestRerunCommand = this._onDidRequestRerunCommand.event;\n\tprivate readonly _onDidUpdateQuickFixes = new Emitter<{ command: ITerminalCommand; actions: ITerminalAction[] | undefined }>();\n\treadonly onDidUpdateQuickFixes = this._onDidUpdateQuickFixes.event;\n\n\tconstructor(\n\t\tprivate readonly _sessionId: string,\n\t\tprivate readonly _aliases: string[][] | undefined,\n\t\tprivate readonly _capabilities: ITerminalCapabilityStore,\n\t\t@IAccessibilitySignalService private readonly _accessibilitySignalService: IAccessibilitySignalService,\n\t\t@IActionWidgetService private readonly _actionWidgetService: IActionWidgetService,\n\t\t@ICommandService private readonly _commandService: ICommandService,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t\t@IExtensionService private readonly _extensionService: IExtensionService,\n\t\t@ILabelService private readonly _labelService: ILabelService,\n\t\t@IOpenerService private readonly _openerService: IOpenerService,\n\t\t@ITelemetryService private readonly _telemetryService: ITelemetryService,\n\t\t@ITerminalQuickFixService private readonly _quickFixService: ITerminalQuickFixService,\n\t) {\n\t\tsuper();\n\t\tconst commandDetectionCapability = this._capabilities.get(TerminalCapability.CommandDetection);\n\t\tif (commandDetectionCapability) {\n\t\t\tthis._registerCommandHandlers();\n\t\t} else {\n\t\t\tthis._register(this._capabilities.onDidAddCommandDetectionCapability(() => {\n\t\t\t\tthis._registerCommandHandlers();\n\t\t\t}));\n\t\t}\n\t\tthis._register(this._quickFixService.onDidRegisterProvider(result => this.registerCommandFinishedListener(convertToQuickFixOptions(result))));\n\t\tthis._quickFixService.extensionQuickFixes.then(quickFixSelectors => {\n\t\t\tfor (const selector of quickFixSelectors) {\n\t\t\t\tthis.registerCommandSelector(selector);\n\t\t\t}\n\t\t});\n\t\tthis._register(this._quickFixService.onDidRegisterCommandSelector(selector => this.registerCommandSelector(selector)));\n\t\tthis._register(this._quickFixService.onDidUnregisterProvider(id => this._commandListeners.delete(id)));\n\t\tthis._register(this._configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration(TerminalSettingId.ShellIntegrationQuickFixEnabled)) {\n\t\t\t\t// Clear existing decorations when setting changes\n\t\t\t\tthis._decoration.clear();\n\t\t\t\tthis._decorationDisposables.clear();\n\t\t\t}\n\t\t}));\n\t}\n\n\tactivate(terminal: Terminal): void {\n\t\tthis._terminal = terminal;\n\t}\n\n\tshowMenu(): void {\n\t\tif (!this._currentRenderContext) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst actions = this._currentRenderContext.quickFixes.map(f => new TerminalQuickFixItem(f, f.type, f.source, f.label, f.kind));\n\t\tconst actionSet = {\n\t\t\tallActions: actions,\n\t\t\thasAutoFix: false,\n\t\t\thasAIFix: false,\n\t\t\tallAIFixes: false,\n\t\t\tvalidActions: actions,\n\t\t\tdispose: () => { }\n\t\t} satisfies ActionSet<TerminalQuickFixItem>;\n\t\tconst delegate = {\n\t\t\tonSelect: async (fix: TerminalQuickFixItem) => {\n\t\t\t\tfix.action?.run();\n\t\t\t\tthis._actionWidgetService.hide();\n\t\t\t},\n\t\t\tonHide: () => {\n\t\t\t\tthis._terminal?.focus();\n\t\t\t},\n\t\t};\n\t\tthis._actionWidgetService.show('quickFixWidget', false, toActionWidgetItems(actionSet.validActions, true), delegate, this._currentRenderContext.anchor, this._currentRenderContext.parentElement);\n\t}\n\n\tregisterCommandSelector(selector: ITerminalCommandSelector): void {\n\t\tif (this._registeredSelectors.has(selector.id)) {\n\t\t\treturn;\n\t\t}\n\t\tconst matcherKey = selector.commandLineMatcher.toString();\n\t\tconst currentOptions = this._commandListeners.get(matcherKey) || [];\n\t\tcurrentOptions.push({\n\t\t\tid: selector.id,\n\t\t\ttype: 'unresolved',\n\t\t\tcommandLineMatcher: selector.commandLineMatcher,\n\t\t\toutputMatcher: selector.outputMatcher,\n\t\t\tcommandExitResult: selector.commandExitResult,\n\t\t\tkind: selector.kind\n\t\t});\n\t\tthis._registeredSelectors.add(selector.id);\n\t\tthis._commandListeners.set(matcherKey, currentOptions);\n\t}\n\n\tregisterCommandFinishedListener(options: ITerminalQuickFixOptions | ITerminalQuickFixResolvedExtensionOptions): void {\n\t\tconst matcherKey = options.commandLineMatcher.toString();\n\t\tlet currentOptions = this._commandListeners.get(matcherKey) || [];\n\t\t// removes the unresolved options\n\t\tcurrentOptions = currentOptions.filter(o => o.id !== options.id);\n\t\tcurrentOptions.push(options);\n\t\tthis._commandListeners.set(matcherKey, currentOptions);\n\t}\n\n\tprivate _registerCommandHandlers(): void {\n\t\tconst terminal = this._terminal;\n\t\tconst commandDetection = this._capabilities.get(TerminalCapability.CommandDetection);\n\t\tif (!terminal || !commandDetection) {\n\t\t\treturn;\n\t\t}\n\t\tthis._register(commandDetection.onCommandFinished(async command => await this._resolveQuickFixes(command, this._aliases)));\n\t}\n\n\t/**\n\t * Resolves quick fixes, if any, based on the\n\t * @param command & its output\n\t */\n\tprivate async _resolveQuickFixes(command: ITerminalCommand, aliases?: string[][]): Promise<void> {\n\t\tconst terminal = this._terminal;\n\t\tif (!terminal || command.wasReplayed) {\n\t\t\treturn;\n\t\t}\n\t\tif (command.command !== '' && this._lastQuickFixId) {\n\t\t\tthis._disposeQuickFix(command, this._lastQuickFixId);\n\t\t}\n\n\t\tconst resolver = async (selector: ITerminalQuickFixOptions, lines?: string[]) => {\n\t\t\tif (lines === undefined) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tconst id = selector.id;\n\t\t\tawait this._extensionService.activateByEvent(`onTerminalQuickFixRequest:${id}`);\n\t\t\treturn this._quickFixService.providers.get(id)?.provideTerminalQuickFixes(command, lines, {\n\t\t\t\ttype: 'resolved',\n\t\t\t\tcommandLineMatcher: selector.commandLineMatcher,\n\t\t\t\toutputMatcher: selector.outputMatcher,\n\t\t\t\tcommandExitResult: selector.commandExitResult,\n\t\t\t\tkind: selector.kind,\n\t\t\t\tid: selector.id\n\t\t\t}, new CancellationTokenSource().token);\n\t\t};\n\t\tconst result = await getQuickFixesForCommand(aliases, terminal, command, this._commandListeners, this._commandService, this._openerService, this._labelService, this._onDidRequestRerunCommand, resolver);\n\t\tif (!result) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._quickFixes = result;\n\t\tthis._lastQuickFixId = this._quickFixes[0].id;\n\t\tthis._registerQuickFixDecoration();\n\t\tthis._onDidUpdateQuickFixes.fire({ command, actions: this._quickFixes });\n\t\tthis._quickFixes = undefined;\n\t}\n\n\tprivate _disposeQuickFix(command: ITerminalCommand, id: string): void {\n\t\ttype QuickFixResultTelemetryEvent = {\n\t\t\tquickFixId: string;\n\t\t\tranQuickFix: boolean;\n\t\t\tterminalSessionId: string;\n\t\t};\n\t\ttype QuickFixClassification = {\n\t\t\towner: 'meganrogge';\n\t\t\tquickFixId: { classification: 'SystemMetaData'; purpose: 'FeatureInsight'; comment: 'The quick fix ID' };\n\t\t\tranQuickFix: { classification: 'SystemMetaData'; purpose: 'FeatureInsight'; comment: 'Whether the quick fix was run' };\n\t\t\tterminalSessionId: { classification: 'SystemMetaData'; purpose: 'FeatureInsight'; comment: 'The terminal session ID' };\n\t\t\tcomment: 'Terminal quick fixes';\n\t\t};\n\t\tthis._telemetryService?.publicLog2<QuickFixResultTelemetryEvent, QuickFixClassification>('terminal/quick-fix', {\n\t\t\tquickFixId: id,\n\t\t\tranQuickFix: this._didRun,\n\t\t\tterminalSessionId: this._sessionId\n\t\t});\n\t\tthis._decoration.clear();\n\t\tthis._decorationDisposables.clear();\n\t\tthis._onDidUpdateQuickFixes.fire({ command, actions: this._quickFixes });\n\t\tthis._quickFixes = undefined;\n\t\tthis._lastQuickFixId = undefined;\n\t\tthis._didRun = false;\n\t}\n\n\t/**\n\t * Registers a decoration with the quick fixes\n\t */\n\tprivate _registerQuickFixDecoration(): void {\n\t\tif (!this._terminal) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Check if quick fix decorations are enabled\n\t\tconst quickFixEnabled = this._configurationService.getValue<boolean>(TerminalSettingId.ShellIntegrationQuickFixEnabled);\n\t\tif (!quickFixEnabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._decoration.clear();\n\t\tthis._decorationDisposables.clear();\n\t\tconst quickFixes = this._quickFixes;\n\t\tif (!quickFixes || quickFixes.length === 0) {\n\t\t\treturn;\n\t\t}\n\t\tconst marker = this._terminal.registerMarker();\n\t\tif (!marker) {\n\t\t\treturn;\n\t\t}\n\t\tconst decoration = this._decoration.value = this._terminal.registerDecoration({ marker, width: 2, layer: 'top' });\n\t\tif (!decoration) {\n\t\t\treturn;\n\t\t}\n\t\tconst store = this._decorationDisposables.value = new DisposableStore();\n\t\tstore.add(decoration.onRender(e => {\n\t\t\tconst rect = e.getBoundingClientRect();\n\t\t\tconst anchor = {\n\t\t\t\tx: rect.x,\n\t\t\t\ty: rect.y,\n\t\t\t\twidth: rect.width,\n\t\t\t\theight: rect.height\n\t\t\t};\n\n\t\t\tif (e.classList.contains(QuickFixDecorationSelector.QuickFix)) {\n\t\t\t\tif (this._currentRenderContext) {\n\t\t\t\t\tthis._currentRenderContext.anchor = anchor;\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\te.classList.add(...quickFixClasses);\n\t\t\tconst isExplainOnly = quickFixes.every(e => e.kind === 'explain');\n\t\t\tif (isExplainOnly) {\n\t\t\t\te.classList.add('explainOnly');\n\t\t\t}\n\t\t\te.classList.add(...ThemeIcon.asClassNameArray(isExplainOnly ? Codicon.sparkle : Codicon.lightBulb));\n\n\t\t\tupdateLayout(this._configurationService, e);\n\t\t\tthis._accessibilitySignalService.playSignal(AccessibilitySignal.terminalQuickFix);\n\n\t\t\tconst parentElement = e.closest('.xterm')?.parentElement;\n\t\t\tif (!parentElement) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._currentRenderContext = { quickFixes, anchor, parentElement };\n\t\t\tthis._register(dom.addDisposableListener(e, dom.EventType.CLICK, () => this.showMenu()));\n\t\t}));\n\t\tstore.add(decoration.onDispose(() => this._currentRenderContext = undefined));\n\t}\n}\n\nexport interface ITerminalAction extends IAction {\n\ttype: TerminalQuickFixType;\n\tkind?: 'fix' | 'explain';\n\tsource: string;\n\turi?: URI;\n\tcommand?: string;\n\tshouldExecute?: boolean;\n}\n\nexport async function getQuickFixesForCommand(\n\taliases: string[][] | undefined,\n\tterminal: Terminal,\n\tterminalCommand: ITerminalCommand,\n\tquickFixOptions: Map<string, ITerminalQuickFixOptions[]>,\n\tcommandService: ICommandService,\n\topenerService: IOpenerService,\n\tlabelService: ILabelService,\n\tonDidRequestRerunCommand?: Emitter<{ command: string; shouldExecute?: boolean }>,\n\tgetResolvedFixes?: (selector: ITerminalQuickFixOptions, lines?: string[]) => Promise<SingleOrMany<ITerminalQuickFix> | undefined>\n): Promise<ITerminalAction[] | undefined> {\n\t// Prevent duplicates by tracking added entries\n\tconst commandQuickFixSet: Set<string> = new Set();\n\tconst openQuickFixSet: Set<string> = new Set();\n\n\tconst fixes: ITerminalAction[] = [];\n\tconst newCommand = terminalCommand.command;\n\tfor (const options of quickFixOptions.values()) {\n\t\tfor (const option of options) {\n\t\t\tif ((option.commandExitResult === 'success' && terminalCommand.exitCode !== 0) || (option.commandExitResult === 'error' && terminalCommand.exitCode === 0)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tlet quickFixes;\n\t\t\tif (option.type === 'resolved') {\n\t\t\t\tquickFixes = await (option as ITerminalQuickFixResolvedExtensionOptions).getQuickFixes(terminalCommand, getLinesForCommand(terminal.buffer.active, terminalCommand, terminal.cols, option.outputMatcher), option, new CancellationTokenSource().token);\n\t\t\t} else if (option.type === 'unresolved') {\n\t\t\t\tif (!getResolvedFixes) {\n\t\t\t\t\tthrow new Error('No resolved fix provider');\n\t\t\t\t}\n\t\t\t\tquickFixes = await getResolvedFixes(option, option.outputMatcher ? getLinesForCommand(terminal.buffer.active, terminalCommand, terminal.cols, option.outputMatcher) : undefined);\n\t\t\t} else if (option.type === 'internal') {\n\t\t\t\tconst commandLineMatch = newCommand.match(option.commandLineMatcher);\n\t\t\t\tif (!commandLineMatch) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tconst outputMatcher = option.outputMatcher;\n\t\t\t\tlet outputMatch;\n\t\t\t\tif (outputMatcher) {\n\t\t\t\t\toutputMatch = terminalCommand.getOutputMatch(outputMatcher);\n\t\t\t\t}\n\t\t\t\tif (!outputMatch) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tconst matchResult = { commandLineMatch, outputMatch, commandLine: terminalCommand.command };\n\t\t\t\tquickFixes = (option as ITerminalQuickFixInternalOptions).getQuickFixes(matchResult);\n\t\t\t}\n\n\t\t\tif (quickFixes) {\n\t\t\t\tfor (const quickFix of asArray(quickFixes)) {\n\t\t\t\t\tlet action: ITerminalAction | undefined;\n\t\t\t\t\tif (hasKey(quickFix, { type: true })) {\n\t\t\t\t\t\tswitch (quickFix.type) {\n\t\t\t\t\t\t\tcase TerminalQuickFixType.TerminalCommand: {\n\t\t\t\t\t\t\t\tconst fix = quickFix as ITerminalQuickFixTerminalCommandAction;\n\t\t\t\t\t\t\t\tif (commandQuickFixSet.has(fix.terminalCommand)) {\n\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcommandQuickFixSet.add(fix.terminalCommand);\n\t\t\t\t\t\t\t\tconst label = localize('quickFix.command', 'Run: {0}', fix.terminalCommand);\n\t\t\t\t\t\t\t\taction = {\n\t\t\t\t\t\t\t\t\ttype: TerminalQuickFixType.TerminalCommand,\n\t\t\t\t\t\t\t\t\tkind: option.kind,\n\t\t\t\t\t\t\t\t\tclass: undefined,\n\t\t\t\t\t\t\t\t\tsource: quickFix.source,\n\t\t\t\t\t\t\t\t\tid: quickFix.id,\n\t\t\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\t\t\t\trun: () => {\n\t\t\t\t\t\t\t\t\t\tonDidRequestRerunCommand?.fire({\n\t\t\t\t\t\t\t\t\t\t\tcommand: fix.terminalCommand,\n\t\t\t\t\t\t\t\t\t\t\tshouldExecute: fix.shouldExecute ?? true\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\ttooltip: label,\n\t\t\t\t\t\t\t\t\tcommand: fix.terminalCommand,\n\t\t\t\t\t\t\t\t\tshouldExecute: fix.shouldExecute\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcase TerminalQuickFixType.Opener: {\n\t\t\t\t\t\t\t\tconst fix = quickFix as ITerminalQuickFixOpenerAction;\n\t\t\t\t\t\t\t\tif (!fix.uri) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (openQuickFixSet.has(fix.uri.toString())) {\n\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\topenQuickFixSet.add(fix.uri.toString());\n\t\t\t\t\t\t\t\tconst isUrl = (fix.uri.scheme === Schemas.http || fix.uri.scheme === Schemas.https);\n\t\t\t\t\t\t\t\tconst uriLabel = isUrl ? encodeURI(fix.uri.toString(true)) : labelService.getUriLabel(fix.uri);\n\t\t\t\t\t\t\t\tconst label = localize('quickFix.opener', 'Open: {0}', uriLabel);\n\t\t\t\t\t\t\t\taction = {\n\t\t\t\t\t\t\t\t\tsource: quickFix.source,\n\t\t\t\t\t\t\t\t\tid: quickFix.id,\n\t\t\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\t\t\ttype: TerminalQuickFixType.Opener,\n\t\t\t\t\t\t\t\t\tkind: option.kind,\n\t\t\t\t\t\t\t\t\tclass: undefined,\n\t\t\t\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\t\t\t\trun: () => openerService.open(fix.uri),\n\t\t\t\t\t\t\t\t\ttooltip: label,\n\t\t\t\t\t\t\t\t\turi: fix.uri\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcase TerminalQuickFixType.Port: {\n\t\t\t\t\t\t\t\tconst fix = quickFix as ITerminalAction;\n\t\t\t\t\t\t\t\taction = {\n\t\t\t\t\t\t\t\t\tsource: 'builtin',\n\t\t\t\t\t\t\t\t\ttype: fix.type,\n\t\t\t\t\t\t\t\t\tkind: option.kind,\n\t\t\t\t\t\t\t\t\tid: fix.id,\n\t\t\t\t\t\t\t\t\tlabel: fix.label,\n\t\t\t\t\t\t\t\t\tclass: fix.class,\n\t\t\t\t\t\t\t\t\tenabled: fix.enabled,\n\t\t\t\t\t\t\t\t\trun: () => {\n\t\t\t\t\t\t\t\t\t\tfix.run();\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\ttooltip: fix.tooltip\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcase TerminalQuickFixType.VscodeCommand: {\n\t\t\t\t\t\t\t\tconst fix = quickFix as ITerminalQuickFixCommandAction;\n\t\t\t\t\t\t\t\taction = {\n\t\t\t\t\t\t\t\t\tsource: quickFix.source,\n\t\t\t\t\t\t\t\t\ttype: fix.type,\n\t\t\t\t\t\t\t\t\tkind: option.kind,\n\t\t\t\t\t\t\t\t\tid: fix.id,\n\t\t\t\t\t\t\t\t\tlabel: fix.title,\n\t\t\t\t\t\t\t\t\tclass: undefined,\n\t\t\t\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\t\t\t\trun: () => commandService.executeCommand(fix.id),\n\t\t\t\t\t\t\t\t\ttooltip: fix.title\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (action) {\n\t\t\t\t\t\t\tfixes.push(action);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn fixes.length > 0 ? fixes : undefined;\n}\n\nfunction convertToQuickFixOptions(selectorProvider: ITerminalQuickFixProviderSelector): ITerminalQuickFixResolvedExtensionOptions {\n\treturn {\n\t\tid: selectorProvider.selector.id,\n\t\ttype: 'resolved',\n\t\tcommandLineMatcher: selectorProvider.selector.commandLineMatcher,\n\t\toutputMatcher: selectorProvider.selector.outputMatcher,\n\t\tcommandExitResult: selectorProvider.selector.commandExitResult,\n\t\tkind: selectorProvider.selector.kind,\n\t\tgetQuickFixes: selectorProvider.provider.provideTerminalQuickFixes\n\t};\n}\n\nclass TerminalQuickFixItem {\n\treadonly disabled = false;\n\tconstructor(\n\t\treadonly action: ITerminalAction,\n\t\treadonly type: TerminalQuickFixType,\n\t\treadonly source: string,\n\t\treadonly title: string | undefined,\n\t\treadonly kind: 'fix' | 'explain' = 'fix'\n\t) {\n\t}\n}\n\nfunction toActionWidgetItems(inputQuickFixes: readonly TerminalQuickFixItem[], showHeaders: boolean): IActionListItem<TerminalQuickFixItem>[] {\n\tconst menuItems: IActionListItem<TerminalQuickFixItem>[] = [];\n\tmenuItems.push({\n\t\tkind: ActionListItemKind.Header,\n\t\tgroup: {\n\t\t\tkind: CodeActionKind.QuickFix,\n\t\t\ttitle: localize('codeAction.widget.id.quickfix', 'Quick Fix')\n\t\t}\n\t});\n\tfor (const quickFix of showHeaders ? inputQuickFixes : inputQuickFixes.filter(i => !!i.action)) {\n\t\tif (!quickFix.disabled && quickFix.action) {\n\t\t\tmenuItems.push({\n\t\t\t\tkind: ActionListItemKind.Action,\n\t\t\t\titem: quickFix,\n\t\t\t\tgroup: {\n\t\t\t\t\tkind: CodeActionKind.QuickFix,\n\t\t\t\t\ticon: getQuickFixIcon(quickFix),\n\t\t\t\t\ttitle: quickFix.action.label\n\t\t\t\t},\n\t\t\t\tdisabled: false,\n\t\t\t\tlabel: quickFix.title\n\t\t\t});\n\t\t}\n\t}\n\treturn menuItems;\n}\n\nfunction getQuickFixIcon(quickFix: TerminalQuickFixItem): ThemeIcon {\n\tif (quickFix.kind === 'explain') {\n\t\treturn Codicon.sparkle;\n\t}\n\tswitch (quickFix.type) {\n\t\tcase TerminalQuickFixType.Opener:\n\t\t\tif (quickFix.action.uri) {\n\t\t\t\tconst isUrl = (quickFix.action.uri.scheme === Schemas.http || quickFix.action.uri.scheme === Schemas.https);\n\t\t\t\treturn isUrl ? Codicon.linkExternal : Codicon.goToFile;\n\t\t\t}\n\t\tcase TerminalQuickFixType.TerminalCommand:\n\t\t\treturn Codicon.run;\n\t\tcase TerminalQuickFixType.Port:\n\t\t\treturn Codicon.debugDisconnect;\n\t\tcase TerminalQuickFixType.VscodeCommand:\n\t\t\treturn Codicon.lightbulb;\n\t}\n}\n"]}