{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/terminalContrib/typeAhead/browser/terminal.typeAhead.contribution.ts","vs/workbench/contrib/terminalContrib/typeAhead/browser/terminal.typeAhead.contribution.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;;AAGhG,OAAO,EAAE,eAAe,EAAE,YAAY,EAAE,MAAM,yCAAyC,CAAC;AACxF,OAAO,EAAE,qBAAqB,EAAE,MAAM,+DAA+D,CAAC;AACtG,OAAO,EAAE,qBAAqB,EAAE,MAAM,+DAA+D,CAAC;AAEtG,OAAO,EAAE,4BAA4B,EAAqC,MAAM,iDAAiD,CAAC;AAClI,OAAO,EAAE,uBAAuB,EAAE,MAAM,sCAAsC,CAAC;AAE/E,OAAO,EAAE,cAAc,EAAE,MAAM,6BAA6B,CAAC;AAE7D,IAAM,6BAA6B,GAAnC,MAAM,6BAA8B,SAAQ,eAAe;;aAC1C,OAAE,GAAG,oBAAH,AAAuB,CAAC;IAE1C,MAAM,CAAC,GAAG,CAAC,QAA2B;QACrC,OAAO,QAAQ,CAAC,eAAe,CAAgC,+BAA6B,CAAC,EAAE,CAAC,CAAC;IAClG,CAAC;IAID,YACkB,IAAkC,EACX,qBAA4C,EAC5C,qBAA4C;QAEpF,KAAK,EAAE,CAAC;QAJS,SAAI,GAAJ,IAAI,CAA8B;QACX,0BAAqB,GAArB,qBAAqB,CAAuB;QAC5C,0BAAqB,GAArB,qBAAqB,CAAuB;QAGpF,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,MAAM,EAAE,OAAO,EAAE,CAAC,CAAC,CAAC;IACtD,CAAC;IAED,UAAU,CAAC,KAAiD;QAC3D,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACpC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,qBAAqB,CAAC,wBAAwB,CAAC,CAAC,CAAC,EAAE;YAChE,IAAI,CAAC,CAAC,oBAAoB,0FAA6C,EAAE,CAAC;gBACzE,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACrC,CAAC;QACF,CAAC,CAAC,CAAC,CAAC;QAEJ,2DAA2D;QAC3D,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,GAAG,EAAE;YACrD,IAAI,CAAC,MAAM,EAAE,KAAK,EAAE,CAAC;QACtB,CAAC,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,mBAAmB,CAAC,KAAuB;QAClD,MAAM,OAAO,GAAG,IAAI,CAAC,qBAAqB,CAAC,QAAQ,CAAkC,uBAAuB,CAAC,CAAC,gBAAgB,CAAC;QAC/H,MAAM,QAAQ,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC;QAC5D,IAAI,OAAO,KAAK,KAAK,IAAI,OAAO,KAAK,MAAM,IAAI,CAAC,QAAQ,EAAE,CAAC;YAC1D,IAAI,CAAC,MAAM,EAAE,OAAO,EAAE,CAAC;YACvB,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC;YACxB,OAAO;QACR,CAAC;QACD,IAAI,IAAI,CAAC,MAAM,EAAE,CAAC;YACjB,OAAO;QACR,CAAC;QACD,IAAI,OAAO,KAAK,IAAI,IAAI,CAAC,OAAO,KAAK,MAAM,IAAI,QAAQ,CAAC,EAAE,CAAC;YAC1D,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,qBAAqB,CAAC,cAAc,CAAC,cAAc,EAAE,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;YAClG,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC9B,CAAC;IACF,CAAC;;AA/CI,6BAA6B;IAWhC,WAAA,qBAAqB,CAAA;IACrB,WAAA,qBAAqB,CAAA;GAZlB,6BAA6B,CAgDlC;AAED,4BAA4B,CAAC,6BAA6B,CAAC,EAAE,EAAE,6BAA6B,CAAC,CAAC","file":"terminal.typeAhead.contribution.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type { Terminal as RawXtermTerminal } from '@xterm/xterm';\nimport { DisposableStore, toDisposable } from '../../../../../base/common/lifecycle.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { ITerminalContribution, ITerminalInstance, IXtermTerminal } from '../../../terminal/browser/terminal.js';\nimport { registerTerminalContribution, type ITerminalContributionContext } from '../../../terminal/browser/terminalExtensions.js';\nimport { TERMINAL_CONFIG_SECTION } from '../../../terminal/common/terminal.js';\nimport { TerminalTypeAheadSettingId, type ITerminalTypeAheadConfiguration } from '../common/terminalTypeAheadConfiguration.js';\nimport { TypeAheadAddon } from './terminalTypeAheadAddon.js';\n\nclass TerminalTypeAheadContribution extends DisposableStore implements ITerminalContribution {\n\tstatic readonly ID = 'terminal.typeAhead';\n\n\tstatic get(instance: ITerminalInstance): TerminalTypeAheadContribution | null {\n\t\treturn instance.getContribution<TerminalTypeAheadContribution>(TerminalTypeAheadContribution.ID);\n\t}\n\n\tprivate _addon: TypeAheadAddon | undefined;\n\n\tconstructor(\n\t\tprivate readonly _ctx: ITerminalContributionContext,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService\n\t) {\n\t\tsuper();\n\t\tthis.add(toDisposable(() => this._addon?.dispose()));\n\t}\n\n\txtermReady(xterm: IXtermTerminal & { raw: RawXtermTerminal }): void {\n\t\tthis._loadTypeAheadAddon(xterm.raw);\n\t\tthis.add(this._configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration(TerminalTypeAheadSettingId.LocalEchoEnabled)) {\n\t\t\t\tthis._loadTypeAheadAddon(xterm.raw);\n\t\t\t}\n\t\t}));\n\n\t\t// Reset the addon when the terminal launches or relaunches\n\t\tthis.add(this._ctx.processManager.onProcessReady(() => {\n\t\t\tthis._addon?.reset();\n\t\t}));\n\t}\n\n\tprivate _loadTypeAheadAddon(xterm: RawXtermTerminal): void {\n\t\tconst enabled = this._configurationService.getValue<ITerminalTypeAheadConfiguration>(TERMINAL_CONFIG_SECTION).localEchoEnabled;\n\t\tconst isRemote = !!this._ctx.processManager.remoteAuthority;\n\t\tif (enabled === 'off' || enabled === 'auto' && !isRemote) {\n\t\t\tthis._addon?.dispose();\n\t\t\tthis._addon = undefined;\n\t\t\treturn;\n\t\t}\n\t\tif (this._addon) {\n\t\t\treturn;\n\t\t}\n\t\tif (enabled === 'on' || (enabled === 'auto' && isRemote)) {\n\t\t\tthis._addon = this._instantiationService.createInstance(TypeAheadAddon, this._ctx.processManager);\n\t\t\txterm.loadAddon(this._addon);\n\t\t}\n\t}\n}\n\nregisterTerminalContribution(TerminalTypeAheadContribution.ID, TerminalTypeAheadContribution);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type { Terminal as RawXtermTerminal } from '@xterm/xterm';\nimport { DisposableStore, toDisposable } from '../../../../../base/common/lifecycle.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { ITerminalContribution, ITerminalInstance, IXtermTerminal } from '../../../terminal/browser/terminal.js';\nimport { registerTerminalContribution, type ITerminalContributionContext } from '../../../terminal/browser/terminalExtensions.js';\nimport { TERMINAL_CONFIG_SECTION } from '../../../terminal/common/terminal.js';\nimport { TerminalTypeAheadSettingId, type ITerminalTypeAheadConfiguration } from '../common/terminalTypeAheadConfiguration.js';\nimport { TypeAheadAddon } from './terminalTypeAheadAddon.js';\n\nclass TerminalTypeAheadContribution extends DisposableStore implements ITerminalContribution {\n\tstatic readonly ID = 'terminal.typeAhead';\n\n\tstatic get(instance: ITerminalInstance): TerminalTypeAheadContribution | null {\n\t\treturn instance.getContribution<TerminalTypeAheadContribution>(TerminalTypeAheadContribution.ID);\n\t}\n\n\tprivate _addon: TypeAheadAddon | undefined;\n\n\tconstructor(\n\t\tprivate readonly _ctx: ITerminalContributionContext,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService\n\t) {\n\t\tsuper();\n\t\tthis.add(toDisposable(() => this._addon?.dispose()));\n\t}\n\n\txtermReady(xterm: IXtermTerminal & { raw: RawXtermTerminal }): void {\n\t\tthis._loadTypeAheadAddon(xterm.raw);\n\t\tthis.add(this._configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration(TerminalTypeAheadSettingId.LocalEchoEnabled)) {\n\t\t\t\tthis._loadTypeAheadAddon(xterm.raw);\n\t\t\t}\n\t\t}));\n\n\t\t// Reset the addon when the terminal launches or relaunches\n\t\tthis.add(this._ctx.processManager.onProcessReady(() => {\n\t\t\tthis._addon?.reset();\n\t\t}));\n\t}\n\n\tprivate _loadTypeAheadAddon(xterm: RawXtermTerminal): void {\n\t\tconst enabled = this._configurationService.getValue<ITerminalTypeAheadConfiguration>(TERMINAL_CONFIG_SECTION).localEchoEnabled;\n\t\tconst isRemote = !!this._ctx.processManager.remoteAuthority;\n\t\tif (enabled === 'off' || enabled === 'auto' && !isRemote) {\n\t\t\tthis._addon?.dispose();\n\t\t\tthis._addon = undefined;\n\t\t\treturn;\n\t\t}\n\t\tif (this._addon) {\n\t\t\treturn;\n\t\t}\n\t\tif (enabled === 'on' || (enabled === 'auto' && isRemote)) {\n\t\t\tthis._addon = this._instantiationService.createInstance(TypeAheadAddon, this._ctx.processManager);\n\t\t\txterm.loadAddon(this._addon);\n\t\t}\n\t}\n}\n\nregisterTerminalContribution(TerminalTypeAheadContribution.ID, TerminalTypeAheadContribution);\n"]}