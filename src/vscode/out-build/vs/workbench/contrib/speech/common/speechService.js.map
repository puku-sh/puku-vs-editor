{"version":3,"sources":["vs/workbench/contrib/speech/common/speechService.ts"],"names":[],"mappings":"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","file":"speechService.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { localize } from '../../../../nls.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { IDisposable } from '../../../../base/common/lifecycle.js';\nimport { RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { ExtensionIdentifier } from '../../../../platform/extensions/common/extensions.js';\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { language } from '../../../../base/common/platform.js';\n\nexport const ISpeechService = createDecorator<ISpeechService>('speechService');\n\nexport const HasSpeechProvider = new RawContextKey<boolean>('hasSpeechProvider', false, { type: 'boolean', description: localize('hasSpeechProvider', \"A speech provider is registered to the speech service.\") });\nexport const SpeechToTextInProgress = new RawContextKey<boolean>('speechToTextInProgress', false, { type: 'boolean', description: localize('speechToTextInProgress', \"A speech-to-text session is in progress.\") });\nexport const TextToSpeechInProgress = new RawContextKey<boolean>('textToSpeechInProgress', false, { type: 'boolean', description: localize('textToSpeechInProgress', \"A text-to-speech session is in progress.\") });\n\nexport interface ISpeechProviderMetadata {\n\treadonly extension: ExtensionIdentifier;\n\treadonly displayName: string;\n}\n\nexport enum SpeechToTextStatus {\n\tStarted = 1,\n\tRecognizing = 2,\n\tRecognized = 3,\n\tStopped = 4,\n\tError = 5\n}\n\nexport interface ISpeechToTextEvent {\n\treadonly status: SpeechToTextStatus;\n\treadonly text?: string;\n}\n\nexport interface ISpeechToTextSession {\n\treadonly onDidChange: Event<ISpeechToTextEvent>;\n}\n\nexport enum TextToSpeechStatus {\n\tStarted = 1,\n\tStopped = 2,\n\tError = 3\n}\n\nexport interface ITextToSpeechEvent {\n\treadonly status: TextToSpeechStatus;\n\treadonly text?: string;\n}\n\nexport interface ITextToSpeechSession {\n\treadonly onDidChange: Event<ITextToSpeechEvent>;\n\n\tsynthesize(text: string): Promise<void>;\n}\n\nexport enum KeywordRecognitionStatus {\n\tRecognized = 1,\n\tStopped = 2,\n\tCanceled = 3\n}\n\nexport interface IKeywordRecognitionEvent {\n\treadonly status: KeywordRecognitionStatus;\n\treadonly text?: string;\n}\n\nexport interface IKeywordRecognitionSession {\n\treadonly onDidChange: Event<IKeywordRecognitionEvent>;\n}\n\nexport interface ISpeechToTextSessionOptions {\n\treadonly language?: string;\n}\n\nexport interface ITextToSpeechSessionOptions {\n\treadonly language?: string;\n}\n\nexport interface ISpeechProvider {\n\treadonly metadata: ISpeechProviderMetadata;\n\n\tcreateSpeechToTextSession(token: CancellationToken, options?: ISpeechToTextSessionOptions): ISpeechToTextSession;\n\tcreateTextToSpeechSession(token: CancellationToken, options?: ITextToSpeechSessionOptions): ITextToSpeechSession;\n\tcreateKeywordRecognitionSession(token: CancellationToken): IKeywordRecognitionSession;\n}\n\nexport interface ISpeechService {\n\n\treadonly _serviceBrand: undefined;\n\n\treadonly onDidChangeHasSpeechProvider: Event<void>;\n\n\treadonly hasSpeechProvider: boolean;\n\n\tregisterSpeechProvider(identifier: string, provider: ISpeechProvider): IDisposable;\n\n\treadonly onDidStartSpeechToTextSession: Event<void>;\n\treadonly onDidEndSpeechToTextSession: Event<void>;\n\n\treadonly hasActiveSpeechToTextSession: boolean;\n\n\t/**\n\t * Starts to transcribe speech from the default microphone. The returned\n\t * session object provides an event to subscribe for transcribed text.\n\t */\n\tcreateSpeechToTextSession(token: CancellationToken, context?: string): Promise<ISpeechToTextSession>;\n\n\treadonly onDidStartTextToSpeechSession: Event<void>;\n\treadonly onDidEndTextToSpeechSession: Event<void>;\n\n\treadonly hasActiveTextToSpeechSession: boolean;\n\n\t/**\n\t * Creates a synthesizer to synthesize speech from text. The returned\n\t * session object provides a method to synthesize text and listen for\n\t * events.\n\t */\n\tcreateTextToSpeechSession(token: CancellationToken, context?: string): Promise<ITextToSpeechSession>;\n\n\treadonly onDidStartKeywordRecognition: Event<void>;\n\treadonly onDidEndKeywordRecognition: Event<void>;\n\n\treadonly hasActiveKeywordRecognition: boolean;\n\n\t/**\n\t * Starts to recognize a keyword from the default microphone. The returned\n\t * status indicates if the keyword was recognized or if the session was\n\t * stopped.\n\t */\n\trecognizeKeyword(token: CancellationToken): Promise<KeywordRecognitionStatus>;\n}\n\nexport const enum AccessibilityVoiceSettingId {\n\tSpeechTimeout = 'accessibility.voice.speechTimeout',\n\tAutoSynthesize = 'accessibility.voice.autoSynthesize',\n\tSpeechLanguage = 'accessibility.voice.speechLanguage',\n\tIgnoreCodeBlocks = 'accessibility.voice.ignoreCodeBlocks'\n}\n\nexport const SPEECH_LANGUAGE_CONFIG = AccessibilityVoiceSettingId.SpeechLanguage;\n\nexport const SPEECH_LANGUAGES = {\n\t['da-DK']: {\n\t\tname: localize('speechLanguage.da-DK', \"Danish (Denmark)\")\n\t},\n\t['de-DE']: {\n\t\tname: localize('speechLanguage.de-DE', \"German (Germany)\")\n\t},\n\t['en-AU']: {\n\t\tname: localize('speechLanguage.en-AU', \"English (Australia)\")\n\t},\n\t['en-CA']: {\n\t\tname: localize('speechLanguage.en-CA', \"English (Canada)\")\n\t},\n\t['en-GB']: {\n\t\tname: localize('speechLanguage.en-GB', \"English (United Kingdom)\")\n\t},\n\t['en-IE']: {\n\t\tname: localize('speechLanguage.en-IE', \"English (Ireland)\")\n\t},\n\t['en-IN']: {\n\t\tname: localize('speechLanguage.en-IN', \"English (India)\")\n\t},\n\t['en-NZ']: {\n\t\tname: localize('speechLanguage.en-NZ', \"English (New Zealand)\")\n\t},\n\t['en-US']: {\n\t\tname: localize('speechLanguage.en-US', \"English (United States)\")\n\t},\n\t['es-ES']: {\n\t\tname: localize('speechLanguage.es-ES', \"Spanish (Spain)\")\n\t},\n\t['es-MX']: {\n\t\tname: localize('speechLanguage.es-MX', \"Spanish (Mexico)\")\n\t},\n\t['fr-CA']: {\n\t\tname: localize('speechLanguage.fr-CA', \"French (Canada)\")\n\t},\n\t['fr-FR']: {\n\t\tname: localize('speechLanguage.fr-FR', \"French (France)\")\n\t},\n\t['hi-IN']: {\n\t\tname: localize('speechLanguage.hi-IN', \"Hindi (India)\")\n\t},\n\t['it-IT']: {\n\t\tname: localize('speechLanguage.it-IT', \"Italian (Italy)\")\n\t},\n\t['ja-JP']: {\n\t\tname: localize('speechLanguage.ja-JP', \"Japanese (Japan)\")\n\t},\n\t['ko-KR']: {\n\t\tname: localize('speechLanguage.ko-KR', \"Korean (South Korea)\")\n\t},\n\t['nl-NL']: {\n\t\tname: localize('speechLanguage.nl-NL', \"Dutch (Netherlands)\")\n\t},\n\t['pt-PT']: {\n\t\tname: localize('speechLanguage.pt-PT', \"Portuguese (Portugal)\")\n\t},\n\t['pt-BR']: {\n\t\tname: localize('speechLanguage.pt-BR', \"Portuguese (Brazil)\")\n\t},\n\t['ru-RU']: {\n\t\tname: localize('speechLanguage.ru-RU', \"Russian (Russia)\")\n\t},\n\t['sv-SE']: {\n\t\tname: localize('speechLanguage.sv-SE', \"Swedish (Sweden)\")\n\t},\n\t['tr-TR']: {\n\t\t// allow-any-unicode-next-line\n\t\tname: localize('speechLanguage.tr-TR', \"Turkish (TÃ¼rkiye)\")\n\t},\n\t['zh-CN']: {\n\t\tname: localize('speechLanguage.zh-CN', \"Chinese (Simplified, China)\")\n\t},\n\t['zh-HK']: {\n\t\tname: localize('speechLanguage.zh-HK', \"Chinese (Traditional, Hong Kong)\")\n\t},\n\t['zh-TW']: {\n\t\tname: localize('speechLanguage.zh-TW', \"Chinese (Traditional, Taiwan)\")\n\t}\n};\n\nexport function speechLanguageConfigToLanguage(config: unknown, lang = language): string {\n\tif (typeof config === 'string') {\n\t\tif (config === 'auto') {\n\t\t\tif (lang !== 'en') {\n\t\t\t\tconst langParts = lang.split('-');\n\n\t\t\t\treturn speechLanguageConfigToLanguage(`${langParts[0]}-${(langParts[1] ?? langParts[0]).toUpperCase()}`);\n\t\t\t}\n\t\t} else {\n\t\t\tif (SPEECH_LANGUAGES[config as keyof typeof SPEECH_LANGUAGES]) {\n\t\t\t\treturn config;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn 'en-US';\n}\n"]}