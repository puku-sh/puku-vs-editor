{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/webviewPanel/browser/webviewEditorInput.ts","vs/workbench/contrib/webviewPanel/browser/webviewEditorInput.ts"],"names":[],"mappings":"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","file":"webviewEditorInput.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CodeWindow } from '../../../../base/browser/window.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { generateUuid } from '../../../../base/common/uuid.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { isDark } from '../../../../platform/theme/common/theme.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { EditorInputCapabilities, GroupIdentifier, IUntypedEditorInput, Verbosity } from '../../../common/editor.js';\nimport { EditorInput } from '../../../common/editor/editorInput.js';\nimport { IOverlayWebview } from '../../webview/browser/webview.js';\n\nexport interface WebviewInputInitInfo {\n\treadonly viewType: string;\n\treadonly providedId: string | undefined;\n\treadonly name: string;\n\treadonly iconPath: WebviewIcons | undefined;\n}\n\nexport class WebviewInput extends EditorInput {\n\n\tpublic static typeId = 'workbench.editors.webviewInput';\n\n\tpublic override get typeId(): string {\n\t\treturn WebviewInput.typeId;\n\t}\n\n\tpublic override get editorId(): string {\n\t\treturn this.viewType;\n\t}\n\n\tpublic override get capabilities(): EditorInputCapabilities {\n\t\treturn EditorInputCapabilities.Readonly | EditorInputCapabilities.Singleton | EditorInputCapabilities.CanDropIntoEditor;\n\t}\n\n\tprivate readonly _resourceId = generateUuid();\n\n\tprivate _webviewTitle: string;\n\tprivate _iconPath?: WebviewIcons;\n\tprivate _group?: GroupIdentifier;\n\n\tprivate _webview: IOverlayWebview;\n\n\tprivate _hasTransfered = false;\n\n\tget resource() {\n\t\treturn URI.from({\n\t\t\tscheme: Schemas.webviewPanel,\n\t\t\tpath: `webview-panel/webview-${this.providerId}-${this._resourceId}`\n\t\t});\n\t}\n\n\tpublic readonly viewType: string;\n\tpublic readonly providerId: string | undefined;\n\n\tconstructor(\n\t\tinit: WebviewInputInitInfo,\n\t\twebview: IOverlayWebview,\n\t\t@IThemeService private readonly _themeService: IThemeService,\n\t) {\n\t\tsuper();\n\n\t\tthis.viewType = init.viewType;\n\t\tthis.providerId = init.providedId;\n\n\t\tthis._webviewTitle = init.name;\n\t\tthis._iconPath = init.iconPath;\n\t\tthis._webview = webview;\n\n\t\tthis._register(_themeService.onDidColorThemeChange(() => {\n\t\t\t// Potentially update icon\n\t\t\tthis._onDidChangeLabel.fire();\n\t\t}));\n\t}\n\n\toverride dispose() {\n\t\tif (!this.isDisposed()) {\n\t\t\tif (!this._hasTransfered) {\n\t\t\t\tthis._webview?.dispose();\n\t\t\t}\n\t\t}\n\t\tsuper.dispose();\n\t}\n\n\tpublic override getName(): string {\n\t\treturn this._webviewTitle;\n\t}\n\n\tpublic override getTitle(_verbosity?: Verbosity): string {\n\t\treturn this.getName();\n\t}\n\n\tpublic override getDescription(): string | undefined {\n\t\treturn undefined;\n\t}\n\n\tpublic setWebviewTitle(value: string): void {\n\t\tthis._webviewTitle = value;\n\t\tthis.webview.setTitle(value);\n\t\tthis._onDidChangeLabel.fire();\n\t}\n\n\tpublic getWebviewTitle(): string | undefined {\n\t\treturn this._webviewTitle;\n\t}\n\n\tpublic get webview(): IOverlayWebview {\n\t\treturn this._webview;\n\t}\n\n\tpublic get extension() {\n\t\treturn this.webview.extension;\n\t}\n\n\toverride getIcon(): URI | undefined {\n\t\tif (!this._iconPath) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn isDark(this._themeService.getColorTheme().type)\n\t\t\t? this._iconPath.dark\n\t\t\t: (this._iconPath.light ?? this._iconPath.dark);\n\t}\n\n\tpublic get iconPath() {\n\t\treturn this._iconPath;\n\t}\n\n\tpublic set iconPath(value: WebviewIcons | undefined) {\n\t\tthis._iconPath = value;\n\t\tthis._onDidChangeLabel.fire();\n\t}\n\n\tpublic override matches(other: EditorInput | IUntypedEditorInput): boolean {\n\t\treturn super.matches(other) || other === this;\n\t}\n\n\tpublic get group(): GroupIdentifier | undefined {\n\t\treturn this._group;\n\t}\n\n\tpublic updateGroup(group: GroupIdentifier): void {\n\t\tthis._group = group;\n\t}\n\n\tprotected transfer(other: WebviewInput): WebviewInput | undefined {\n\t\tif (this._hasTransfered) {\n\t\t\treturn undefined;\n\t\t}\n\t\tthis._hasTransfered = true;\n\t\tother._webview = this._webview;\n\t\treturn other;\n\t}\n\n\tpublic claim(claimant: unknown, targetWindow: CodeWindow, scopedContextKeyService: IContextKeyService | undefined): void {\n\t\treturn this._webview.claim(claimant, targetWindow, scopedContextKeyService);\n\t}\n}\nexport interface WebviewIcons {\n\treadonly light: URI;\n\treadonly dark: URI;\n}\n\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CodeWindow } from '../../../../base/browser/window.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { generateUuid } from '../../../../base/common/uuid.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { isDark } from '../../../../platform/theme/common/theme.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { EditorInputCapabilities, GroupIdentifier, IUntypedEditorInput, Verbosity } from '../../../common/editor.js';\nimport { EditorInput } from '../../../common/editor/editorInput.js';\nimport { IOverlayWebview } from '../../webview/browser/webview.js';\n\nexport interface WebviewInputInitInfo {\n\treadonly viewType: string;\n\treadonly providedId: string | undefined;\n\treadonly name: string;\n\treadonly iconPath: WebviewIcons | undefined;\n}\n\nexport class WebviewInput extends EditorInput {\n\n\tpublic static typeId = 'workbench.editors.webviewInput';\n\n\tpublic override get typeId(): string {\n\t\treturn WebviewInput.typeId;\n\t}\n\n\tpublic override get editorId(): string {\n\t\treturn this.viewType;\n\t}\n\n\tpublic override get capabilities(): EditorInputCapabilities {\n\t\treturn EditorInputCapabilities.Readonly | EditorInputCapabilities.Singleton | EditorInputCapabilities.CanDropIntoEditor;\n\t}\n\n\tprivate readonly _resourceId = generateUuid();\n\n\tprivate _webviewTitle: string;\n\tprivate _iconPath?: WebviewIcons;\n\tprivate _group?: GroupIdentifier;\n\n\tprivate _webview: IOverlayWebview;\n\n\tprivate _hasTransfered = false;\n\n\tget resource() {\n\t\treturn URI.from({\n\t\t\tscheme: Schemas.webviewPanel,\n\t\t\tpath: `webview-panel/webview-${this.providerId}-${this._resourceId}`\n\t\t});\n\t}\n\n\tpublic readonly viewType: string;\n\tpublic readonly providerId: string | undefined;\n\n\tconstructor(\n\t\tinit: WebviewInputInitInfo,\n\t\twebview: IOverlayWebview,\n\t\t@IThemeService private readonly _themeService: IThemeService,\n\t) {\n\t\tsuper();\n\n\t\tthis.viewType = init.viewType;\n\t\tthis.providerId = init.providedId;\n\n\t\tthis._webviewTitle = init.name;\n\t\tthis._iconPath = init.iconPath;\n\t\tthis._webview = webview;\n\n\t\tthis._register(_themeService.onDidColorThemeChange(() => {\n\t\t\t// Potentially update icon\n\t\t\tthis._onDidChangeLabel.fire();\n\t\t}));\n\t}\n\n\toverride dispose() {\n\t\tif (!this.isDisposed()) {\n\t\t\tif (!this._hasTransfered) {\n\t\t\t\tthis._webview?.dispose();\n\t\t\t}\n\t\t}\n\t\tsuper.dispose();\n\t}\n\n\tpublic override getName(): string {\n\t\treturn this._webviewTitle;\n\t}\n\n\tpublic override getTitle(_verbosity?: Verbosity): string {\n\t\treturn this.getName();\n\t}\n\n\tpublic override getDescription(): string | undefined {\n\t\treturn undefined;\n\t}\n\n\tpublic setWebviewTitle(value: string): void {\n\t\tthis._webviewTitle = value;\n\t\tthis.webview.setTitle(value);\n\t\tthis._onDidChangeLabel.fire();\n\t}\n\n\tpublic getWebviewTitle(): string | undefined {\n\t\treturn this._webviewTitle;\n\t}\n\n\tpublic get webview(): IOverlayWebview {\n\t\treturn this._webview;\n\t}\n\n\tpublic get extension() {\n\t\treturn this.webview.extension;\n\t}\n\n\toverride getIcon(): URI | undefined {\n\t\tif (!this._iconPath) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn isDark(this._themeService.getColorTheme().type)\n\t\t\t? this._iconPath.dark\n\t\t\t: (this._iconPath.light ?? this._iconPath.dark);\n\t}\n\n\tpublic get iconPath() {\n\t\treturn this._iconPath;\n\t}\n\n\tpublic set iconPath(value: WebviewIcons | undefined) {\n\t\tthis._iconPath = value;\n\t\tthis._onDidChangeLabel.fire();\n\t}\n\n\tpublic override matches(other: EditorInput | IUntypedEditorInput): boolean {\n\t\treturn super.matches(other) || other === this;\n\t}\n\n\tpublic get group(): GroupIdentifier | undefined {\n\t\treturn this._group;\n\t}\n\n\tpublic updateGroup(group: GroupIdentifier): void {\n\t\tthis._group = group;\n\t}\n\n\tprotected transfer(other: WebviewInput): WebviewInput | undefined {\n\t\tif (this._hasTransfered) {\n\t\t\treturn undefined;\n\t\t}\n\t\tthis._hasTransfered = true;\n\t\tother._webview = this._webview;\n\t\treturn other;\n\t}\n\n\tpublic claim(claimant: unknown, targetWindow: CodeWindow, scopedContextKeyService: IContextKeyService | undefined): void {\n\t\treturn this._webview.claim(claimant, targetWindow, scopedContextKeyService);\n\t}\n}\nexport interface WebviewIcons {\n\treadonly light: URI;\n\treadonly dark: URI;\n}\n\n"]}