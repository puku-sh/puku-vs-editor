{"version":3,"sources":["vs/workbench/contrib/searchEditor/browser/searchEditor.ts"],"names":[],"mappings":"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","file":"searchEditor.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as DOM from '../../../../base/browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../../base/browser/keyboardEvent.js';\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { Delayer } from '../../../../base/common/async.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { KeyCode, KeyMod } from '../../../../base/common/keyCodes.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { assertReturnsDefined } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport './media/searchEditor.css';\nimport { ICodeEditorWidgetOptions } from '../../../../editor/browser/widget/codeEditor/codeEditorWidget.js';\nimport { Position } from '../../../../editor/common/core/position.js';\nimport { Range } from '../../../../editor/common/core/range.js';\nimport { Selection } from '../../../../editor/common/core/selection.js';\nimport { ICodeEditorViewState } from '../../../../editor/common/editorCommon.js';\nimport { IModelService } from '../../../../editor/common/services/model.js';\nimport { ITextResourceConfigurationService } from '../../../../editor/common/services/textResourceConfiguration.js';\nimport { ReferencesController } from '../../../../editor/contrib/gotoSymbol/browser/peek/referencesController.js';\nimport { localize } from '../../../../nls.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IContextKey, IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IContextViewService } from '../../../../platform/contextview/browser/contextView.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ServiceCollection } from '../../../../platform/instantiation/common/serviceCollection.js';\nimport { ILabelService } from '../../../../platform/label/common/label.js';\nimport { IEditorProgressService, LongRunningOperation } from '../../../../platform/progress/common/progress.js';\nimport { IStorageService } from '../../../../platform/storage/common/storage.js';\nimport { ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nimport { inputBorder, registerColor } from '../../../../platform/theme/common/colorRegistry.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { IWorkspaceContextService } from '../../../../platform/workspace/common/workspace.js';\nimport { AbstractTextCodeEditor } from '../../../browser/parts/editor/textCodeEditor.js';\nimport { EditorInputCapabilities, IEditorOpenContext } from '../../../common/editor.js';\nimport { EditorInput } from '../../../common/editor/editorInput.js';\nimport { ExcludePatternInputWidget, IncludePatternInputWidget } from '../../search/browser/patternInputWidget.js';\nimport { SearchWidget } from '../../search/browser/searchWidget.js';\nimport { ITextQueryBuilderOptions, QueryBuilder } from '../../../services/search/common/queryBuilder.js';\nimport { getOutOfWorkspaceEditorResources } from '../../search/common/search.js';\nimport { SearchModelImpl } from '../../search/browser/searchTreeModel/searchModel.js';\nimport { InSearchEditor, SearchEditorID, SearchEditorInputTypeId, SearchConfiguration } from './constants.js';\nimport type { SearchEditorInput } from './searchEditorInput.js';\nimport { serializeSearchResultForEditor } from './searchEditorSerialization.js';\nimport { IEditorGroup, IEditorGroupsService } from '../../../services/editor/common/editorGroupsService.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { IPatternInfo, ISearchComplete, ISearchConfigurationProperties, ITextQuery, SearchSortOrder } from '../../../services/search/common/search.js';\nimport { searchDetailsIcon } from '../../search/browser/searchIcons.js';\nimport { IFileService } from '../../../../platform/files/common/files.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { TextSearchCompleteMessage } from '../../../services/search/common/searchExtTypes.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nimport { IEditorOptions } from '../../../../platform/editor/common/editor.js';\nimport { renderSearchMessage } from '../../search/browser/searchMessage.js';\nimport { EditorExtensionsRegistry, IEditorContributionDescription } from '../../../../editor/browser/editorExtensions.js';\nimport { UnusualLineTerminatorsDetector } from '../../../../editor/contrib/unusualLineTerminators/browser/unusualLineTerminators.js';\nimport { defaultToggleStyles, getInputBoxStyle } from '../../../../platform/theme/browser/defaultStyles.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\nimport { SearchContext } from '../../search/common/constants.js';\nimport { getDefaultHoverDelegate } from '../../../../base/browser/ui/hover/hoverDelegateFactory.js';\nimport { IHoverService } from '../../../../platform/hover/browser/hover.js';\nimport { ISearchResult } from '../../search/browser/searchTreeModel/searchTreeCommon.js';\n\nconst RESULT_LINE_REGEX = /^(\\s+)(\\d+)(: |  )(\\s*)(.*)$/;\nconst FILE_LINE_REGEX = /^(\\S.*):$/;\n\ntype SearchEditorViewState = ICodeEditorViewState & { focused: 'input' | 'editor' };\n\nexport class SearchEditor extends AbstractTextCodeEditor<SearchEditorViewState> {\n\tstatic readonly ID: string = SearchEditorID;\n\n\tstatic readonly SEARCH_EDITOR_VIEW_STATE_PREFERENCE_KEY = 'searchEditorViewState';\n\n\tprivate queryEditorWidget!: SearchWidget;\n\tprivate get searchResultEditor() { return this.editorControl!; }\n\tprivate queryEditorContainer!: HTMLElement;\n\tprivate dimension?: DOM.Dimension;\n\tprivate inputPatternIncludes!: IncludePatternInputWidget;\n\tprivate inputPatternExcludes!: ExcludePatternInputWidget;\n\tprivate includesExcludesContainer!: HTMLElement;\n\tprivate toggleQueryDetailsButton!: HTMLElement;\n\tprivate messageBox!: HTMLElement;\n\n\tprivate runSearchDelayer = new Delayer(0);\n\tprivate pauseSearching: boolean = false;\n\tprivate showingIncludesExcludes: boolean = false;\n\tprivate searchOperation: LongRunningOperation;\n\tprivate searchHistoryDelayer: Delayer<void>;\n\tprivate readonly messageDisposables: DisposableStore;\n\tprivate container: HTMLElement;\n\tprivate searchModel: SearchModelImpl;\n\tprivate ongoingOperations: number = 0;\n\tprivate updatingModelForSearch: boolean = false;\n\n\tconstructor(\n\t\tgroup: IEditorGroup,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@IModelService private readonly modelService: IModelService,\n\t\t@IWorkspaceContextService private readonly contextService: IWorkspaceContextService,\n\t\t@ILabelService private readonly labelService: ILabelService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IContextViewService private readonly contextViewService: IContextViewService,\n\t\t@ICommandService private readonly commandService: ICommandService,\n\t\t@IOpenerService private readonly openerService: IOpenerService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IEditorProgressService progressService: IEditorProgressService,\n\t\t@ITextResourceConfigurationService textResourceService: ITextResourceConfigurationService,\n\t\t@IEditorGroupsService editorGroupService: IEditorGroupsService,\n\t\t@IEditorService editorService: IEditorService,\n\t\t@IConfigurationService protected configurationService: IConfigurationService,\n\t\t@IFileService fileService: IFileService,\n\t\t@ILogService private readonly logService: ILogService,\n\t\t@IHoverService private readonly hoverService: IHoverService\n\t) {\n\t\tsuper(SearchEditor.ID, group, telemetryService, instantiationService, storageService, textResourceService, themeService, editorService, editorGroupService, fileService);\n\t\tthis.container = DOM.$('.search-editor');\n\n\t\tthis.searchOperation = this._register(new LongRunningOperation(progressService));\n\t\tthis._register(this.messageDisposables = new DisposableStore());\n\n\t\tthis.searchHistoryDelayer = new Delayer<void>(2000);\n\n\t\tthis.searchModel = this._register(this.instantiationService.createInstance(SearchModelImpl));\n\t}\n\n\tprotected override createEditor(parent: HTMLElement) {\n\t\tDOM.append(parent, this.container);\n\t\tthis.queryEditorContainer = DOM.append(this.container, DOM.$('.query-container'));\n\t\tconst searchResultContainer = DOM.append(this.container, DOM.$('.search-results'));\n\t\tsuper.createEditor(searchResultContainer);\n\t\tthis.registerEditorListeners();\n\n\t\tconst scopedContextKeyService = assertReturnsDefined(this.scopedContextKeyService);\n\t\tInSearchEditor.bindTo(scopedContextKeyService).set(true);\n\n\t\tthis.createQueryEditor(\n\t\t\tthis.queryEditorContainer,\n\t\t\tthis._register(this.instantiationService.createChild(new ServiceCollection([IContextKeyService, scopedContextKeyService]))),\n\t\t\tSearchContext.InputBoxFocusedKey.bindTo(scopedContextKeyService)\n\t\t);\n\t}\n\n\n\tprivate createQueryEditor(container: HTMLElement, scopedInstantiationService: IInstantiationService, inputBoxFocusedContextKey: IContextKey<boolean>) {\n\t\tconst searchEditorInputboxStyles = getInputBoxStyle({ inputBorder: searchEditorTextInputBorder });\n\n\t\tthis.queryEditorWidget = this._register(scopedInstantiationService.createInstance(SearchWidget, container, { _hideReplaceToggle: true, showContextToggle: true, inputBoxStyles: searchEditorInputboxStyles, toggleStyles: defaultToggleStyles }));\n\t\tthis._register(this.queryEditorWidget.onReplaceToggled(() => this.reLayout()));\n\t\tthis._register(this.queryEditorWidget.onDidHeightChange(() => this.reLayout()));\n\t\tthis._register(this.queryEditorWidget.onSearchSubmit(({ delay }) => this.triggerSearch({ delay })));\n\t\tif (this.queryEditorWidget.searchInput) {\n\t\t\tthis._register(this.queryEditorWidget.searchInput.onDidOptionChange(() => this.triggerSearch({ resetCursor: false })));\n\t\t} else {\n\t\t\tthis.logService.warn('SearchEditor: SearchWidget.searchInput is undefined, cannot register onDidOptionChange listener');\n\t\t}\n\t\tthis._register(this.queryEditorWidget.onDidToggleContext(() => this.triggerSearch({ resetCursor: false })));\n\n\t\t// Includes/Excludes Dropdown\n\t\tthis.includesExcludesContainer = DOM.append(container, DOM.$('.includes-excludes'));\n\n\t\t// Toggle query details button\n\t\tconst toggleQueryDetailsLabel = localize('moreSearch', \"Toggle Search Details\");\n\t\tthis.toggleQueryDetailsButton = DOM.append(this.includesExcludesContainer, DOM.$('.expand' + ThemeIcon.asCSSSelector(searchDetailsIcon), { tabindex: 0, role: 'button', 'aria-label': toggleQueryDetailsLabel }));\n\t\tthis._register(this.hoverService.setupManagedHover(getDefaultHoverDelegate('element'), this.toggleQueryDetailsButton, toggleQueryDetailsLabel));\n\t\tthis._register(DOM.addDisposableListener(this.toggleQueryDetailsButton, DOM.EventType.CLICK, e => {\n\t\t\tDOM.EventHelper.stop(e);\n\t\t\tthis.toggleIncludesExcludes();\n\t\t}));\n\t\tthis._register(DOM.addDisposableListener(this.toggleQueryDetailsButton, DOM.EventType.KEY_UP, (e: KeyboardEvent) => {\n\t\t\tconst event = new StandardKeyboardEvent(e);\n\t\t\tif (event.equals(KeyCode.Enter) || event.equals(KeyCode.Space)) {\n\t\t\t\tDOM.EventHelper.stop(e);\n\t\t\t\tthis.toggleIncludesExcludes();\n\t\t\t}\n\t\t}));\n\t\tthis._register(DOM.addDisposableListener(this.toggleQueryDetailsButton, DOM.EventType.KEY_DOWN, (e: KeyboardEvent) => {\n\t\t\tconst event = new StandardKeyboardEvent(e);\n\t\t\tif (event.equals(KeyMod.Shift | KeyCode.Tab)) {\n\t\t\t\tif (this.queryEditorWidget.isReplaceActive()) {\n\t\t\t\t\tthis.queryEditorWidget.focusReplaceAllAction();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.queryEditorWidget.isReplaceShown() ? this.queryEditorWidget.replaceInput?.focusOnPreserve() : this.queryEditorWidget.focusRegexAction();\n\t\t\t\t}\n\t\t\t\tDOM.EventHelper.stop(e);\n\t\t\t}\n\t\t}));\n\n\t\t// Includes\n\t\tconst folderIncludesList = DOM.append(this.includesExcludesContainer, DOM.$('.file-types.includes'));\n\t\tconst filesToIncludeTitle = localize('searchScope.includes', \"files to include\");\n\t\tDOM.append(folderIncludesList, DOM.$('h4', undefined, filesToIncludeTitle));\n\t\tthis.inputPatternIncludes = this._register(scopedInstantiationService.createInstance(IncludePatternInputWidget, folderIncludesList, this.contextViewService, {\n\t\t\tariaLabel: localize('label.includes', 'Search Include Patterns'),\n\t\t\tinputBoxStyles: searchEditorInputboxStyles\n\t\t}));\n\t\tthis._register(this.inputPatternIncludes.onSubmit(triggeredOnType => this.triggerSearch({ resetCursor: false, delay: triggeredOnType ? this.searchConfig.searchOnTypeDebouncePeriod : 0 })));\n\t\tthis._register(this.inputPatternIncludes.onChangeSearchInEditorsBox(() => this.triggerSearch()));\n\n\t\t// Excludes\n\t\tconst excludesList = DOM.append(this.includesExcludesContainer, DOM.$('.file-types.excludes'));\n\t\tconst excludesTitle = localize('searchScope.excludes', \"files to exclude\");\n\t\tDOM.append(excludesList, DOM.$('h4', undefined, excludesTitle));\n\t\tthis.inputPatternExcludes = this._register(scopedInstantiationService.createInstance(ExcludePatternInputWidget, excludesList, this.contextViewService, {\n\t\t\tariaLabel: localize('label.excludes', 'Search Exclude Patterns'),\n\t\t\tinputBoxStyles: searchEditorInputboxStyles\n\t\t}));\n\t\tthis._register(this.inputPatternExcludes.onSubmit(triggeredOnType => this.triggerSearch({ resetCursor: false, delay: triggeredOnType ? this.searchConfig.searchOnTypeDebouncePeriod : 0 })));\n\t\tthis._register(this.inputPatternExcludes.onChangeIgnoreBox(() => this.triggerSearch()));\n\n\t\t// Messages\n\t\tthis.messageBox = DOM.append(container, DOM.$('.messages.text-search-provider-messages'));\n\n\t\t[this.queryEditorWidget.searchInputFocusTracker, this.queryEditorWidget.replaceInputFocusTracker, this.inputPatternExcludes.inputFocusTracker, this.inputPatternIncludes.inputFocusTracker]\n\t\t\t.forEach(tracker => {\n\t\t\t\tif (!tracker) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis._register(tracker.onDidFocus(() => setTimeout(() => inputBoxFocusedContextKey.set(true), 0)));\n\t\t\t\tthis._register(tracker.onDidBlur(() => inputBoxFocusedContextKey.set(false)));\n\t\t\t});\n\t}\n\n\tprivate toggleRunAgainMessage(show: boolean) {\n\t\tDOM.clearNode(this.messageBox);\n\t\tthis.messageDisposables.clear();\n\n\t\tif (show) {\n\t\t\tconst runAgainLink = DOM.append(this.messageBox, DOM.$('a.pointer.prominent.message', {}, localize('runSearch', \"Run Search\")));\n\t\t\tthis.messageDisposables.add(DOM.addDisposableListener(runAgainLink, DOM.EventType.CLICK, async () => {\n\t\t\t\tawait this.triggerSearch();\n\t\t\t\tthis.searchResultEditor.focus();\n\t\t\t}));\n\t\t}\n\t}\n\n\tprivate _getContributions(): IEditorContributionDescription[] {\n\t\tconst skipContributions = [UnusualLineTerminatorsDetector.ID];\n\t\treturn EditorExtensionsRegistry.getEditorContributions().filter(c => skipContributions.indexOf(c.id) === -1);\n\t}\n\n\tprotected override getCodeEditorWidgetOptions(): ICodeEditorWidgetOptions {\n\t\treturn { contributions: this._getContributions() };\n\t}\n\n\tprivate registerEditorListeners() {\n\t\tthis._register(this.searchResultEditor.onMouseUp(e => {\n\t\t\tif (e.event.detail === 1) {\n\t\t\t\tconst behaviour = this.searchConfig.searchEditor.singleClickBehaviour;\n\t\t\t\tconst position = e.target.position;\n\t\t\t\tif (position && behaviour === 'peekDefinition') {\n\t\t\t\t\tconst line = this.searchResultEditor.getModel()?.getLineContent(position.lineNumber) ?? '';\n\t\t\t\t\tif (line.match(FILE_LINE_REGEX) || line.match(RESULT_LINE_REGEX)) {\n\t\t\t\t\t\tthis.searchResultEditor.setSelection(Range.fromPositions(position));\n\t\t\t\t\t\tthis.commandService.executeCommand('editor.action.peekDefinition');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (e.event.detail === 2) {\n\t\t\t\tconst behaviour = this.searchConfig.searchEditor.doubleClickBehaviour;\n\t\t\t\tconst position = e.target.position;\n\t\t\t\tif (position && behaviour !== 'selectWord') {\n\t\t\t\t\tconst line = this.searchResultEditor.getModel()?.getLineContent(position.lineNumber) ?? '';\n\t\t\t\t\tif (line.match(RESULT_LINE_REGEX)) {\n\t\t\t\t\t\tthis.searchResultEditor.setSelection(Range.fromPositions(position));\n\t\t\t\t\t\tthis.commandService.executeCommand(behaviour === 'goToLocation' ? 'editor.action.goToDeclaration' : 'editor.action.openDeclarationToTheSide');\n\t\t\t\t\t} else if (line.match(FILE_LINE_REGEX)) {\n\t\t\t\t\t\tthis.searchResultEditor.setSelection(Range.fromPositions(position));\n\t\t\t\t\t\tthis.commandService.executeCommand('editor.action.peekDefinition');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t\tthis._register(this.searchResultEditor.onDidChangeModelContent(() => {\n\t\t\tif (!this.updatingModelForSearch) {\n\t\t\t\tthis.getInput()?.setDirty(true);\n\t\t\t}\n\t\t}));\n\t}\n\n\toverride getControl() {\n\t\treturn this.searchResultEditor;\n\t}\n\n\toverride focus() {\n\t\tsuper.focus();\n\n\t\tconst viewState = this.loadEditorViewState(this.getInput());\n\t\tif (viewState && viewState.focused === 'editor') {\n\t\t\tthis.searchResultEditor.focus();\n\t\t} else {\n\t\t\tthis.queryEditorWidget.focus();\n\t\t}\n\t}\n\n\tfocusSearchInput() {\n\t\tthis.queryEditorWidget.searchInput?.focus();\n\t}\n\n\tfocusFilesToIncludeInput() {\n\t\tif (!this.showingIncludesExcludes) {\n\t\t\tthis.toggleIncludesExcludes(true);\n\t\t}\n\t\tthis.inputPatternIncludes.focus();\n\t}\n\n\tfocusFilesToExcludeInput() {\n\t\tif (!this.showingIncludesExcludes) {\n\t\t\tthis.toggleIncludesExcludes(true);\n\t\t}\n\t\tthis.inputPatternExcludes.focus();\n\t}\n\n\tfocusNextInput() {\n\t\tif (this.queryEditorWidget.searchInputHasFocus()) {\n\t\t\tif (this.showingIncludesExcludes) {\n\t\t\t\tthis.inputPatternIncludes.focus();\n\t\t\t} else {\n\t\t\t\tthis.searchResultEditor.focus();\n\t\t\t}\n\t\t} else if (this.inputPatternIncludes.inputHasFocus()) {\n\t\t\tthis.inputPatternExcludes.focus();\n\t\t} else if (this.inputPatternExcludes.inputHasFocus()) {\n\t\t\tthis.searchResultEditor.focus();\n\t\t} else if (this.searchResultEditor.hasWidgetFocus()) {\n\t\t\t// pass\n\t\t}\n\t}\n\n\tfocusPrevInput() {\n\t\tif (this.queryEditorWidget.searchInputHasFocus()) {\n\t\t\tthis.searchResultEditor.focus(); // wrap\n\t\t} else if (this.inputPatternIncludes.inputHasFocus()) {\n\t\t\tthis.queryEditorWidget.searchInput?.focus();\n\t\t} else if (this.inputPatternExcludes.inputHasFocus()) {\n\t\t\tthis.inputPatternIncludes.focus();\n\t\t} else if (this.searchResultEditor.hasWidgetFocus()) {\n\t\t\t// unreachable.\n\t\t}\n\t}\n\n\tsetQuery(query: string) {\n\t\tthis.queryEditorWidget.searchInput?.setValue(query);\n\t}\n\n\tselectQuery() {\n\t\tthis.queryEditorWidget.searchInput?.select();\n\t}\n\n\ttoggleWholeWords() {\n\t\tthis.queryEditorWidget.searchInput?.setWholeWords(!this.queryEditorWidget.searchInput.getWholeWords());\n\t\tthis.triggerSearch({ resetCursor: false });\n\t}\n\n\ttoggleRegex() {\n\t\tthis.queryEditorWidget.searchInput?.setRegex(!this.queryEditorWidget.searchInput.getRegex());\n\t\tthis.triggerSearch({ resetCursor: false });\n\t}\n\n\ttoggleCaseSensitive() {\n\t\tthis.queryEditorWidget.searchInput?.setCaseSensitive(!this.queryEditorWidget.searchInput.getCaseSensitive());\n\t\tthis.triggerSearch({ resetCursor: false });\n\t}\n\n\ttoggleContextLines() {\n\t\tthis.queryEditorWidget.toggleContextLines();\n\t}\n\n\tmodifyContextLines(increase: boolean) {\n\t\tthis.queryEditorWidget.modifyContextLines(increase);\n\t}\n\n\ttoggleQueryDetails(shouldShow?: boolean) {\n\t\tthis.toggleIncludesExcludes(shouldShow);\n\t}\n\n\tdeleteResultBlock() {\n\t\tconst linesToDelete = new Set<number>();\n\n\t\tconst selections = this.searchResultEditor.getSelections();\n\t\tconst model = this.searchResultEditor.getModel();\n\t\tif (!(selections && model)) { return; }\n\n\t\tconst maxLine = model.getLineCount();\n\t\tconst minLine = 1;\n\n\t\tconst deleteUp = (start: number) => {\n\t\t\tfor (let cursor = start; cursor >= minLine; cursor--) {\n\t\t\t\tconst line = model.getLineContent(cursor);\n\t\t\t\tlinesToDelete.add(cursor);\n\t\t\t\tif (line[0] !== undefined && line[0] !== ' ') {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tconst deleteDown = (start: number): number | undefined => {\n\t\t\tlinesToDelete.add(start);\n\t\t\tfor (let cursor = start + 1; cursor <= maxLine; cursor++) {\n\t\t\t\tconst line = model.getLineContent(cursor);\n\t\t\t\tif (line[0] !== undefined && line[0] !== ' ') {\n\t\t\t\t\treturn cursor;\n\t\t\t\t}\n\t\t\t\tlinesToDelete.add(cursor);\n\t\t\t}\n\t\t\treturn;\n\t\t};\n\n\t\tconst endingCursorLines: Array<number | undefined> = [];\n\t\tfor (const selection of selections) {\n\t\t\tconst lineNumber = selection.startLineNumber;\n\t\t\tendingCursorLines.push(deleteDown(lineNumber));\n\t\t\tdeleteUp(lineNumber);\n\t\t\tfor (let inner = selection.startLineNumber; inner <= selection.endLineNumber; inner++) {\n\t\t\t\tlinesToDelete.add(inner);\n\t\t\t}\n\t\t}\n\n\t\tif (endingCursorLines.length === 0) { endingCursorLines.push(1); }\n\n\t\tconst isDefined = <T>(x: T | undefined): x is T => x !== undefined;\n\n\t\tmodel.pushEditOperations(this.searchResultEditor.getSelections(),\n\t\t\t[...linesToDelete].map(line => ({ range: new Range(line, 1, line + 1, 1), text: '' })),\n\t\t\t() => endingCursorLines.filter(isDefined).map(line => new Selection(line, 1, line, 1)));\n\t}\n\n\tcleanState() {\n\t\tthis.getInput()?.setDirty(false);\n\t}\n\n\tprivate get searchConfig(): ISearchConfigurationProperties {\n\t\treturn this.configurationService.getValue<ISearchConfigurationProperties>('search');\n\t}\n\n\tprivate iterateThroughMatches(reverse: boolean) {\n\t\tconst model = this.searchResultEditor.getModel();\n\t\tif (!model) { return; }\n\n\t\tconst lastLine = model.getLineCount() ?? 1;\n\t\tconst lastColumn = model.getLineLength(lastLine);\n\n\t\tconst fallbackStart = reverse ? new Position(lastLine, lastColumn) : new Position(1, 1);\n\n\t\tconst currentPosition = this.searchResultEditor.getSelection()?.getStartPosition() ?? fallbackStart;\n\n\t\tconst matchRanges = this.getInput()?.getMatchRanges();\n\t\tif (!matchRanges) { return; }\n\n\t\tconst matchRange = (reverse ? findPrevRange : findNextRange)(matchRanges, currentPosition);\n\t\tif (!matchRange) { return; }\n\n\t\tthis.searchResultEditor.setSelection(matchRange);\n\t\tthis.searchResultEditor.revealLineInCenterIfOutsideViewport(matchRange.startLineNumber);\n\t\tthis.searchResultEditor.focus();\n\n\t\tconst matchLineText = model.getLineContent(matchRange.startLineNumber);\n\t\tconst matchText = model.getValueInRange(matchRange);\n\t\tlet file = '';\n\t\tfor (let line = matchRange.startLineNumber; line >= 1; line--) {\n\t\t\tconst lineText = model.getValueInRange(new Range(line, 1, line, 2));\n\t\t\tif (lineText !== ' ') { file = model.getLineContent(line); break; }\n\t\t}\n\t\talert(localize('searchResultItem', \"Matched {0} at {1} in file {2}\", matchText, matchLineText, file.slice(0, file.length - 1)));\n\t}\n\n\tfocusNextResult() {\n\t\tthis.iterateThroughMatches(false);\n\t}\n\n\tfocusPreviousResult() {\n\t\tthis.iterateThroughMatches(true);\n\t}\n\n\tfocusAllResults() {\n\t\tthis.searchResultEditor\n\t\t\t.setSelections((this.getInput()?.getMatchRanges() ?? []).map(\n\t\t\t\trange => new Selection(range.startLineNumber, range.startColumn, range.endLineNumber, range.endColumn)));\n\t\tthis.searchResultEditor.focus();\n\t}\n\n\tasync triggerSearch(_options?: { resetCursor?: boolean; delay?: number; focusResults?: boolean }) {\n\t\tconst focusResults = this.searchConfig.searchEditor.focusResultsOnSearch;\n\n\t\t// If _options don't define focusResult field, then use the setting\n\t\tif (_options === undefined) {\n\t\t\t_options = { focusResults: focusResults };\n\t\t} else if (_options.focusResults === undefined) {\n\t\t\t_options.focusResults = focusResults;\n\t\t}\n\n\t\tconst options = { resetCursor: true, delay: 0, ..._options };\n\n\t\tif (!(this.queryEditorWidget.searchInput?.inputBox.isInputValid())) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.pauseSearching) {\n\t\t\tawait this.runSearchDelayer.trigger(async () => {\n\t\t\t\tthis.toggleRunAgainMessage(false);\n\t\t\t\tawait this.doRunSearch();\n\t\t\t\tif (options.resetCursor) {\n\t\t\t\t\tthis.searchResultEditor.setPosition(new Position(1, 1));\n\t\t\t\t\tthis.searchResultEditor.setScrollPosition({ scrollTop: 0, scrollLeft: 0 });\n\t\t\t\t}\n\t\t\t\tif (options.focusResults) {\n\t\t\t\t\tthis.searchResultEditor.focus();\n\t\t\t\t}\n\t\t\t}, options.delay);\n\t\t}\n\t}\n\n\tprivate readConfigFromWidget(): SearchConfiguration {\n\t\treturn {\n\t\t\tisCaseSensitive: this.queryEditorWidget.searchInput?.getCaseSensitive() ?? false,\n\t\t\tcontextLines: this.queryEditorWidget.getContextLines(),\n\t\t\tfilesToExclude: this.inputPatternExcludes.getValue(),\n\t\t\tfilesToInclude: this.inputPatternIncludes.getValue(),\n\t\t\tquery: this.queryEditorWidget.searchInput?.getValue() ?? '',\n\t\t\tisRegexp: this.queryEditorWidget.searchInput?.getRegex() ?? false,\n\t\t\tmatchWholeWord: this.queryEditorWidget.searchInput?.getWholeWords() ?? false,\n\t\t\tuseExcludeSettingsAndIgnoreFiles: this.inputPatternExcludes.useExcludesAndIgnoreFiles(),\n\t\t\tonlyOpenEditors: this.inputPatternIncludes.onlySearchInOpenEditors(),\n\t\t\tshowIncludesExcludes: this.showingIncludesExcludes,\n\t\t\tnotebookSearchConfig: {\n\t\t\t\tincludeMarkupInput: this.queryEditorWidget.getNotebookFilters().markupInput,\n\t\t\t\tincludeMarkupPreview: this.queryEditorWidget.getNotebookFilters().markupPreview,\n\t\t\t\tincludeCodeInput: this.queryEditorWidget.getNotebookFilters().codeInput,\n\t\t\t\tincludeOutput: this.queryEditorWidget.getNotebookFilters().codeOutput,\n\t\t\t}\n\t\t};\n\t}\n\n\tprivate async doRunSearch() {\n\t\tthis.searchModel.cancelSearch(true);\n\n\t\tconst startInput = this.getInput();\n\t\tif (!startInput) { return; }\n\n\t\tthis.searchHistoryDelayer.trigger(() => {\n\t\t\tthis.queryEditorWidget.searchInput?.onSearchSubmit();\n\t\t\tthis.inputPatternExcludes.onSearchSubmit();\n\t\t\tthis.inputPatternIncludes.onSearchSubmit();\n\t\t});\n\n\t\tconst config = this.readConfigFromWidget();\n\n\t\tif (!config.query) { return; }\n\n\t\tconst content: IPatternInfo = {\n\t\t\tpattern: config.query,\n\t\t\tisRegExp: config.isRegexp,\n\t\t\tisCaseSensitive: config.isCaseSensitive,\n\t\t\tisWordMatch: config.matchWholeWord,\n\t\t};\n\n\t\tconst options: ITextQueryBuilderOptions = {\n\t\t\t_reason: 'searchEditor',\n\t\t\textraFileResources: this.instantiationService.invokeFunction(getOutOfWorkspaceEditorResources),\n\t\t\tmaxResults: this.searchConfig.maxResults ?? undefined,\n\t\t\tdisregardIgnoreFiles: !config.useExcludeSettingsAndIgnoreFiles || undefined,\n\t\t\tdisregardExcludeSettings: !config.useExcludeSettingsAndIgnoreFiles || undefined,\n\t\t\texcludePattern: [{ pattern: config.filesToExclude }],\n\t\t\tincludePattern: config.filesToInclude,\n\t\t\tonlyOpenEditors: config.onlyOpenEditors,\n\t\t\tpreviewOptions: {\n\t\t\t\tmatchLines: 1,\n\t\t\t\tcharsPerLine: 1000\n\t\t\t},\n\t\t\tsurroundingContext: config.contextLines,\n\t\t\tisSmartCase: this.searchConfig.smartCase,\n\t\t\texpandPatterns: true,\n\t\t\tnotebookSearchConfig: {\n\t\t\t\tincludeMarkupInput: config.notebookSearchConfig.includeMarkupInput,\n\t\t\t\tincludeMarkupPreview: config.notebookSearchConfig.includeMarkupPreview,\n\t\t\t\tincludeCodeInput: config.notebookSearchConfig.includeCodeInput,\n\t\t\t\tincludeOutput: config.notebookSearchConfig.includeOutput,\n\t\t\t}\n\t\t};\n\n\t\tconst folderResources = this.contextService.getWorkspace().folders;\n\t\tlet query: ITextQuery;\n\t\ttry {\n\t\t\tconst queryBuilder = this.instantiationService.createInstance(QueryBuilder);\n\t\t\tquery = queryBuilder.text(content, folderResources.map(folder => folder.uri), options);\n\t\t}\n\t\tcatch (err) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.searchOperation.start(500);\n\t\tthis.ongoingOperations++;\n\n\t\tconst { configurationModel } = await startInput.resolveModels();\n\t\tconfigurationModel.updateConfig(config);\n\t\tconst result = this.searchModel.search(query);\n\t\tstartInput.ongoingSearchOperation = result.asyncResults.finally(() => {\n\t\t\tthis.ongoingOperations--;\n\t\t\tif (this.ongoingOperations === 0) {\n\t\t\t\tthis.searchOperation.stop();\n\t\t\t}\n\t\t});\n\n\t\tconst searchOperation = await startInput.ongoingSearchOperation;\n\t\tawait this.onSearchComplete(searchOperation, config, startInput);\n\t}\n\n\tprivate async onSearchComplete(searchOperation: ISearchComplete, startConfig: SearchConfiguration, startInput: SearchEditorInput) {\n\t\tconst input = this.getInput();\n\t\tif (!input ||\n\t\t\tinput !== startInput ||\n\t\t\tJSON.stringify(startConfig) !== JSON.stringify(this.readConfigFromWidget())) {\n\t\t\treturn;\n\t\t}\n\n\t\tinput.ongoingSearchOperation = undefined;\n\n\t\tconst sortOrder = this.searchConfig.sortOrder;\n\t\tif (sortOrder === SearchSortOrder.Modified) {\n\t\t\tawait this.retrieveFileStats(this.searchModel.searchResult);\n\t\t}\n\n\t\tconst controller = ReferencesController.get(this.searchResultEditor);\n\t\tcontroller?.closeWidget(false);\n\t\tconst labelFormatter = (uri: URI): string => this.labelService.getUriLabel(uri, { relative: true });\n\t\tconst results = serializeSearchResultForEditor(this.searchModel.searchResult, startConfig.filesToInclude, startConfig.filesToExclude, startConfig.contextLines, labelFormatter, sortOrder, searchOperation?.limitHit);\n\t\tconst { resultsModel } = await input.resolveModels();\n\t\tthis.updatingModelForSearch = true;\n\t\tthis.modelService.updateModel(resultsModel, results.text);\n\t\tthis.updatingModelForSearch = false;\n\n\t\tif (searchOperation && searchOperation.messages) {\n\t\t\tfor (const message of searchOperation.messages) {\n\t\t\t\tthis.addMessage(message);\n\t\t\t}\n\t\t}\n\t\tthis.reLayout();\n\n\t\tinput.setDirty(!input.hasCapability(EditorInputCapabilities.Untitled));\n\t\tinput.setMatchRanges(results.matchRanges);\n\t}\n\n\tprivate addMessage(message: TextSearchCompleteMessage) {\n\t\tlet messageBox: HTMLElement;\n\t\tif (this.messageBox.firstChild) {\n\t\t\tmessageBox = this.messageBox.firstChild as HTMLElement;\n\t\t} else {\n\t\t\tmessageBox = DOM.append(this.messageBox, DOM.$('.message'));\n\t\t}\n\n\t\tDOM.append(messageBox, renderSearchMessage(message, this.instantiationService, this.notificationService, this.openerService, this.commandService, this.messageDisposables, () => this.triggerSearch()));\n\t}\n\n\tprivate async retrieveFileStats(searchResult: ISearchResult): Promise<void> {\n\t\tconst files = searchResult.matches().filter(f => !f.fileStat).map(f => f.resolveFileStat(this.fileService));\n\t\tawait Promise.all(files);\n\t}\n\n\toverride layout(dimension: DOM.Dimension) {\n\t\tthis.dimension = dimension;\n\t\tthis.reLayout();\n\t}\n\n\tgetSelected() {\n\t\tconst selection = this.searchResultEditor.getSelection();\n\t\tif (selection) {\n\t\t\treturn this.searchResultEditor.getModel()?.getValueInRange(selection) ?? '';\n\t\t}\n\t\treturn '';\n\t}\n\n\tprivate reLayout() {\n\t\tif (this.dimension) {\n\t\t\tthis.queryEditorWidget.setWidth(this.dimension.width - 28 /* container margin */);\n\t\t\tthis.searchResultEditor.layout({ height: this.dimension.height - DOM.getTotalHeight(this.queryEditorContainer), width: this.dimension.width });\n\t\t\tthis.inputPatternExcludes.setWidth(this.dimension.width - 28 /* container margin */);\n\t\t\tthis.inputPatternIncludes.setWidth(this.dimension.width - 28 /* container margin */);\n\t\t}\n\t}\n\n\tprivate getInput(): SearchEditorInput | undefined {\n\t\treturn this.input as SearchEditorInput;\n\t}\n\n\tprivate priorConfig: Partial<Readonly<SearchConfiguration>> | undefined;\n\tsetSearchConfig(config: Partial<Readonly<SearchConfiguration>>) {\n\t\tthis.priorConfig = config;\n\t\tif (config.query !== undefined) { this.queryEditorWidget.setValue(config.query); }\n\t\tif (config.isCaseSensitive !== undefined) { this.queryEditorWidget.searchInput?.setCaseSensitive(config.isCaseSensitive); }\n\t\tif (config.isRegexp !== undefined) { this.queryEditorWidget.searchInput?.setRegex(config.isRegexp); }\n\t\tif (config.matchWholeWord !== undefined) { this.queryEditorWidget.searchInput?.setWholeWords(config.matchWholeWord); }\n\t\tif (config.contextLines !== undefined) { this.queryEditorWidget.setContextLines(config.contextLines); }\n\t\tif (config.filesToExclude !== undefined) { this.inputPatternExcludes.setValue(config.filesToExclude); }\n\t\tif (config.filesToInclude !== undefined) { this.inputPatternIncludes.setValue(config.filesToInclude); }\n\t\tif (config.onlyOpenEditors !== undefined) { this.inputPatternIncludes.setOnlySearchInOpenEditors(config.onlyOpenEditors); }\n\t\tif (config.useExcludeSettingsAndIgnoreFiles !== undefined) { this.inputPatternExcludes.setUseExcludesAndIgnoreFiles(config.useExcludeSettingsAndIgnoreFiles); }\n\t\tif (config.showIncludesExcludes !== undefined) { this.toggleIncludesExcludes(config.showIncludesExcludes); }\n\t}\n\n\toverride async setInput(newInput: SearchEditorInput, options: IEditorOptions | undefined, context: IEditorOpenContext, token: CancellationToken): Promise<void> {\n\t\tawait super.setInput(newInput, options, context, token);\n\t\tif (token.isCancellationRequested) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { configurationModel, resultsModel } = await newInput.resolveModels();\n\t\tif (token.isCancellationRequested) { return; }\n\n\t\tthis.searchResultEditor.setModel(resultsModel);\n\t\tthis.pauseSearching = true;\n\n\t\tthis.toggleRunAgainMessage(!newInput.ongoingSearchOperation && resultsModel.getLineCount() === 1 && resultsModel.getValueLength() === 0 && configurationModel.config.query !== '');\n\n\t\tthis.setSearchConfig(configurationModel.config);\n\n\t\tthis._register(configurationModel.onConfigDidUpdate(newConfig => {\n\t\t\tif (newConfig !== this.priorConfig) {\n\t\t\t\tthis.pauseSearching = true;\n\t\t\t\tthis.setSearchConfig(newConfig);\n\t\t\t\tthis.pauseSearching = false;\n\t\t\t}\n\t\t}));\n\n\t\tthis.restoreViewState(context);\n\n\t\tif (!options?.preserveFocus) {\n\t\t\tthis.focus();\n\t\t}\n\n\t\tthis.pauseSearching = false;\n\n\t\tif (newInput.ongoingSearchOperation) {\n\t\t\tconst existingConfig = this.readConfigFromWidget();\n\t\t\tnewInput.ongoingSearchOperation.then(complete => {\n\t\t\t\tthis.onSearchComplete(complete, existingConfig, newInput);\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate toggleIncludesExcludes(_shouldShow?: boolean): void {\n\t\tconst cls = 'expanded';\n\t\tconst shouldShow = _shouldShow ?? !this.includesExcludesContainer.classList.contains(cls);\n\n\t\tif (shouldShow) {\n\t\t\tthis.toggleQueryDetailsButton.setAttribute('aria-expanded', 'true');\n\t\t\tthis.includesExcludesContainer.classList.add(cls);\n\t\t} else {\n\t\t\tthis.toggleQueryDetailsButton.setAttribute('aria-expanded', 'false');\n\t\t\tthis.includesExcludesContainer.classList.remove(cls);\n\t\t}\n\n\t\tthis.showingIncludesExcludes = this.includesExcludesContainer.classList.contains(cls);\n\n\t\tthis.reLayout();\n\t}\n\n\tprotected override toEditorViewStateResource(input: EditorInput): URI | undefined {\n\t\tif (input.typeId === SearchEditorInputTypeId) {\n\t\t\treturn (input as SearchEditorInput).modelUri;\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tprotected override computeEditorViewState(resource: URI): SearchEditorViewState | undefined {\n\t\tconst control = this.getControl();\n\t\tconst editorViewState = control.saveViewState();\n\t\tif (!editorViewState) { return undefined; }\n\t\tif (resource.toString() !== this.getInput()?.modelUri.toString()) { return undefined; }\n\n\t\treturn { ...editorViewState, focused: this.searchResultEditor.hasWidgetFocus() ? 'editor' : 'input' };\n\t}\n\n\tprotected tracksEditorViewState(input: EditorInput): boolean {\n\t\treturn input.typeId === SearchEditorInputTypeId;\n\t}\n\n\tprivate restoreViewState(context: IEditorOpenContext) {\n\t\tconst viewState = this.loadEditorViewState(this.getInput(), context);\n\t\tif (viewState) { this.searchResultEditor.restoreViewState(viewState); }\n\t}\n\n\tgetAriaLabel() {\n\t\treturn this.getInput()?.getName() ?? localize('searchEditor', \"Search\");\n\t}\n}\n\nconst searchEditorTextInputBorder = registerColor('searchEditor.textInputBorder', inputBorder, localize('textInputBoxBorder', \"Search editor text input box border.\"));\n\nfunction findNextRange(matchRanges: Range[], currentPosition: Position) {\n\tfor (const matchRange of matchRanges) {\n\t\tif (Position.isBefore(currentPosition, matchRange.getStartPosition())) {\n\t\t\treturn matchRange;\n\t\t}\n\t}\n\treturn matchRanges[0];\n}\n\nfunction findPrevRange(matchRanges: Range[], currentPosition: Position) {\n\tfor (let i = matchRanges.length - 1; i >= 0; i--) {\n\t\tconst matchRange = matchRanges[i];\n\t\tif (Position.isBefore(matchRange.getStartPosition(), currentPosition)) {\n\t\t\t{\n\t\t\t\treturn matchRange;\n\t\t\t}\n\t\t}\n\t}\n\treturn matchRanges[matchRanges.length - 1];\n}\n"]}