{"version":3,"sources":["vs/workbench/contrib/searchEditor/browser/searchEditorInput.ts"],"names":[],"mappings":"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","file":"searchEditorInput.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport './media/searchEditor.css';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { basename } from '../../../../base/common/path.js';\nimport { extname, isEqual, joinPath } from '../../../../base/common/resources.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { Range } from '../../../../editor/common/core/range.js';\nimport { ITextModel, TrackedRangeStickiness } from '../../../../editor/common/model.js';\nimport { IModelService } from '../../../../editor/common/services/model.js';\nimport { localize } from '../../../../nls.js';\nimport { IFileDialogService } from '../../../../platform/dialogs/common/dialogs.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IStorageService, StorageScope, StorageTarget } from '../../../../platform/storage/common/storage.js';\nimport { ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nimport { GroupIdentifier, IRevertOptions, ISaveOptions, EditorResourceAccessor, IMoveResult, EditorInputCapabilities, IUntypedEditorInput } from '../../../common/editor.js';\nimport { Memento } from '../../../common/memento.js';\nimport { SearchEditorFindMatchClass, SearchEditorInputTypeId, SearchEditorScheme, SearchEditorWorkingCopyTypeId, SearchConfiguration } from './constants.js';\nimport { SearchConfigurationModel, SearchEditorModel, searchEditorModelFactory } from './searchEditorModel.js';\nimport { defaultSearchConfig, parseSavedSearchEditor, serializeSearchConfiguration } from './searchEditorSerialization.js';\nimport { IPathService } from '../../../services/path/common/pathService.js';\nimport { ITextFileSaveOptions, ITextFileService } from '../../../services/textfile/common/textfiles.js';\nimport { IWorkingCopyService } from '../../../services/workingCopy/common/workingCopyService.js';\nimport { IWorkingCopy, IWorkingCopyBackup, IWorkingCopySaveEvent, WorkingCopyCapabilities } from '../../../services/workingCopy/common/workingCopy.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { ISearchComplete, ISearchConfigurationProperties } from '../../../services/search/common/search.js';\nimport { bufferToReadable, VSBuffer } from '../../../../base/common/buffer.js';\nimport { EditorInput } from '../../../common/editor/editorInput.js';\nimport { IResourceEditorInput } from '../../../../platform/editor/common/editor.js';\nimport { IDisposable } from '../../../../base/common/lifecycle.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { registerIcon } from '../../../../platform/theme/common/iconRegistry.js';\n\nexport const SEARCH_EDITOR_EXT = '.code-search';\n\nconst SearchEditorIcon = registerIcon('search-editor-label-icon', Codicon.search, localize('searchEditorLabelIcon', 'Icon of the search editor label.'));\n\nexport class SearchEditorInput extends EditorInput {\n\tstatic readonly ID: string = SearchEditorInputTypeId;\n\n\toverride get typeId(): string {\n\t\treturn SearchEditorInput.ID;\n\t}\n\n\toverride get editorId(): string | undefined {\n\t\treturn this.typeId;\n\t}\n\n\toverride getIcon(): ThemeIcon {\n\t\treturn SearchEditorIcon;\n\t}\n\n\toverride get capabilities(): EditorInputCapabilities {\n\t\tlet capabilities = EditorInputCapabilities.None;\n\t\tif (!this.backingUri) {\n\t\t\tcapabilities |= EditorInputCapabilities.Untitled;\n\t\t}\n\n\t\treturn capabilities;\n\t}\n\n\tprivate memento: Memento<{ searchConfig: SearchConfiguration }>;\n\n\tprivate dirty: boolean = false;\n\n\tprivate lastLabel: string | undefined;\n\n\tprivate readonly _onDidChangeContent = this._register(new Emitter<void>());\n\treadonly onDidChangeContent: Event<void> = this._onDidChangeContent.event;\n\n\tprivate readonly _onDidSave = this._register(new Emitter<IWorkingCopySaveEvent>());\n\treadonly onDidSave: Event<IWorkingCopySaveEvent> = this._onDidSave.event;\n\n\tprivate oldDecorationsIDs: string[] = [];\n\n\tget resource() {\n\t\treturn this.backingUri || this.modelUri;\n\t}\n\n\tpublic ongoingSearchOperation: Promise<ISearchComplete> | undefined;\n\n\tpublic model: SearchEditorModel;\n\tprivate _cachedResultsModel: ITextModel | undefined;\n\tprivate _cachedConfigurationModel: SearchConfigurationModel | undefined;\n\n\tconstructor(\n\t\tpublic readonly modelUri: URI,\n\t\tpublic readonly backingUri: URI | undefined,\n\t\t@IModelService private readonly modelService: IModelService,\n\t\t@ITextFileService protected readonly textFileService: ITextFileService,\n\t\t@IFileDialogService private readonly fileDialogService: IFileDialogService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IWorkingCopyService private readonly workingCopyService: IWorkingCopyService,\n\t\t@ITelemetryService private readonly telemetryService: ITelemetryService,\n\t\t@IPathService private readonly pathService: IPathService,\n\t\t@IStorageService storageService: IStorageService,\n\t) {\n\t\tsuper();\n\n\t\tthis.model = instantiationService.createInstance(SearchEditorModel, modelUri);\n\n\t\tif (this.modelUri.scheme !== SearchEditorScheme) {\n\t\t\tthrow Error('SearchEditorInput must be invoked with a SearchEditorScheme uri');\n\t\t}\n\n\t\tthis.memento = new Memento(SearchEditorInput.ID, storageService);\n\t\tthis._register(storageService.onWillSaveState(() => this.memento.saveMemento()));\n\n\t\tconst input = this;\n\t\tconst workingCopyAdapter = new class implements IWorkingCopy {\n\t\t\treadonly typeId = SearchEditorWorkingCopyTypeId;\n\t\t\treadonly resource = input.modelUri;\n\t\t\tget name() { return input.getName(); }\n\t\t\treadonly capabilities = input.hasCapability(EditorInputCapabilities.Untitled) ? WorkingCopyCapabilities.Untitled : WorkingCopyCapabilities.None;\n\t\t\treadonly onDidChangeDirty = input.onDidChangeDirty;\n\t\t\treadonly onDidChangeContent = input.onDidChangeContent;\n\t\t\treadonly onDidSave = input.onDidSave;\n\t\t\tisDirty(): boolean { return input.isDirty(); }\n\t\t\tisModified(): boolean { return input.isDirty(); }\n\t\t\tbackup(token: CancellationToken): Promise<IWorkingCopyBackup> { return input.backup(token); }\n\t\t\tsave(options?: ISaveOptions): Promise<boolean> { return input.save(0, options).then(editor => !!editor); }\n\t\t\trevert(options?: IRevertOptions): Promise<void> { return input.revert(0, options); }\n\t\t};\n\n\t\tthis._register(this.workingCopyService.registerWorkingCopy(workingCopyAdapter));\n\t}\n\n\toverride async save(group: GroupIdentifier, options?: ITextFileSaveOptions): Promise<EditorInput | undefined> {\n\t\tif (((await this.resolveModels()).resultsModel).isDisposed()) { return; }\n\n\t\tif (this.backingUri) {\n\t\t\tawait this.textFileService.write(this.backingUri, await this.serializeForDisk(), options);\n\t\t\tthis.setDirty(false);\n\t\t\tthis._onDidSave.fire({ reason: options?.reason, source: options?.source });\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn this.saveAs(group, options);\n\t\t}\n\t}\n\n\tpublic tryReadConfigSync(): SearchConfiguration | undefined {\n\t\treturn this._cachedConfigurationModel?.config;\n\t}\n\n\tprivate async serializeForDisk() {\n\t\tconst { configurationModel, resultsModel } = await this.resolveModels();\n\t\treturn serializeSearchConfiguration(configurationModel.config) + '\\n' + resultsModel.getValue();\n\t}\n\n\tprivate configChangeListenerDisposable: IDisposable | undefined;\n\tprivate registerConfigChangeListeners(model: SearchConfigurationModel) {\n\t\tthis.configChangeListenerDisposable?.dispose();\n\t\tif (!this.isDisposed()) {\n\t\t\tthis.configChangeListenerDisposable = model.onConfigDidUpdate(() => {\n\t\t\t\tif (this.lastLabel !== this.getName()) {\n\t\t\t\t\tthis._onDidChangeLabel.fire();\n\t\t\t\t\tthis.lastLabel = this.getName();\n\t\t\t\t}\n\t\t\t\tthis.memento.getMemento(StorageScope.WORKSPACE, StorageTarget.MACHINE).searchConfig = model.config;\n\t\t\t});\n\t\t\tthis._register(this.configChangeListenerDisposable);\n\t\t}\n\t}\n\n\tasync resolveModels() {\n\t\treturn this.model.resolve().then(data => {\n\t\t\tthis._cachedResultsModel = data.resultsModel;\n\t\t\tthis._cachedConfigurationModel = data.configurationModel;\n\t\t\tif (this.lastLabel !== this.getName()) {\n\t\t\t\tthis._onDidChangeLabel.fire();\n\t\t\t\tthis.lastLabel = this.getName();\n\t\t\t}\n\t\t\tthis.registerConfigChangeListeners(data.configurationModel);\n\t\t\treturn data;\n\t\t});\n\t}\n\n\toverride async saveAs(group: GroupIdentifier, options?: ITextFileSaveOptions): Promise<EditorInput | undefined> {\n\t\tconst path = await this.fileDialogService.pickFileToSave(await this.suggestFileName(), options?.availableFileSystems);\n\t\tif (path) {\n\t\t\tthis.telemetryService.publicLog2<\n\t\t\t\t{},\n\t\t\t\t{\n\t\t\t\t\towner: 'roblourens';\n\t\t\t\t\tcomment: 'Fired when a search editor is saved';\n\t\t\t\t}>\n\t\t\t\t('searchEditor/saveSearchResults');\n\t\t\tconst toWrite = await this.serializeForDisk();\n\t\t\tif (await this.textFileService.create([{ resource: path, value: toWrite, options: { overwrite: true } }])) {\n\t\t\t\tthis.setDirty(false);\n\t\t\t\tif (!isEqual(path, this.modelUri)) {\n\t\t\t\t\tconst input = this.instantiationService.invokeFunction(getOrMakeSearchEditorInput, { fileUri: path, from: 'existingFile' });\n\t\t\t\t\tinput.setMatchRanges(this.getMatchRanges());\n\t\t\t\t\treturn input;\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\toverride getName(maxLength = 12): string {\n\t\tconst trimToMax = (label: string) => (label.length < maxLength ? label : `${label.slice(0, maxLength - 3)}...`);\n\n\t\tif (this.backingUri) {\n\t\t\tconst originalURI = EditorResourceAccessor.getOriginalUri(this);\n\t\t\treturn localize('searchTitle.withQuery', \"Search: {0}\", basename((originalURI ?? this.backingUri).path, SEARCH_EDITOR_EXT));\n\t\t}\n\n\t\tconst query = this._cachedConfigurationModel?.config?.query?.trim();\n\t\tif (query) {\n\t\t\treturn localize('searchTitle.withQuery', \"Search: {0}\", trimToMax(query));\n\t\t}\n\t\treturn localize('searchTitle', \"Search\");\n\t}\n\n\tsetDirty(dirty: boolean) {\n\t\tconst wasDirty = this.dirty;\n\t\tthis.dirty = dirty;\n\t\tif (wasDirty !== dirty) {\n\t\t\tthis._onDidChangeDirty.fire();\n\t\t}\n\t}\n\n\toverride isDirty() {\n\t\treturn this.dirty;\n\t}\n\n\toverride async rename(group: GroupIdentifier, target: URI): Promise<IMoveResult | undefined> {\n\t\tif (extname(target) === SEARCH_EDITOR_EXT) {\n\t\t\treturn {\n\t\t\t\teditor: this.instantiationService.invokeFunction(getOrMakeSearchEditorInput, { from: 'existingFile', fileUri: target })\n\t\t\t};\n\t\t}\n\t\t// Ignore move if editor was renamed to a different file extension\n\t\treturn undefined;\n\t}\n\n\toverride dispose() {\n\t\tthis.modelService.destroyModel(this.modelUri);\n\t\tsuper.dispose();\n\t}\n\n\toverride matches(other: EditorInput | IUntypedEditorInput): boolean {\n\t\tif (super.matches(other)) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (other instanceof SearchEditorInput) {\n\t\t\treturn !!(other.modelUri.fragment && other.modelUri.fragment === this.modelUri.fragment) || !!(other.backingUri && isEqual(other.backingUri, this.backingUri));\n\t\t}\n\t\treturn false;\n\t}\n\n\tgetMatchRanges(): Range[] {\n\t\treturn (this._cachedResultsModel?.getAllDecorations() ?? [])\n\t\t\t.filter(decoration => decoration.options.className === SearchEditorFindMatchClass)\n\t\t\t.filter(({ range }) => !(range.startColumn === 1 && range.endColumn === 1))\n\t\t\t.map(({ range }) => range);\n\t}\n\n\tasync setMatchRanges(ranges: Range[]) {\n\t\tthis.oldDecorationsIDs = (await this.resolveModels()).resultsModel.deltaDecorations(this.oldDecorationsIDs, ranges.map(range =>\n\t\t\t({ range, options: { description: 'search-editor-find-match', className: SearchEditorFindMatchClass, stickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges } })));\n\t}\n\n\toverride async revert(group: GroupIdentifier, options?: IRevertOptions) {\n\t\tif (options?.soft) {\n\t\t\tthis.setDirty(false);\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.backingUri) {\n\t\t\tconst { config, text } = await this.instantiationService.invokeFunction(parseSavedSearchEditor, this.backingUri);\n\t\t\tconst { resultsModel, configurationModel } = await this.resolveModels();\n\t\t\tresultsModel.setValue(text);\n\t\t\tconfigurationModel.updateConfig(config);\n\t\t} else {\n\t\t\t(await this.resolveModels()).resultsModel.setValue('');\n\t\t}\n\t\tsuper.revert(group, options);\n\t\tthis.setDirty(false);\n\t}\n\n\tprivate async backup(token: CancellationToken): Promise<IWorkingCopyBackup> {\n\t\tconst contents = await this.serializeForDisk();\n\t\tif (token.isCancellationRequested) {\n\t\t\treturn {};\n\t\t}\n\n\t\treturn {\n\t\t\tcontent: bufferToReadable(VSBuffer.fromString(contents))\n\t\t};\n\t}\n\n\tprivate async suggestFileName(): Promise<URI> {\n\t\tconst query = (await this.resolveModels()).configurationModel.config.query;\n\t\tconst searchFileName = (query.replace(/[^\\w \\-_]+/g, '_') || 'Search') + SEARCH_EDITOR_EXT;\n\t\treturn joinPath(await this.fileDialogService.defaultFilePath(this.pathService.defaultUriScheme), searchFileName);\n\t}\n\n\toverride toUntyped(): IResourceEditorInput | undefined {\n\t\tif (this.hasCapability(EditorInputCapabilities.Untitled)) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn {\n\t\t\tresource: this.resource,\n\t\t\toptions: {\n\t\t\t\toverride: SearchEditorInput.ID\n\t\t\t}\n\t\t};\n\t}\n\n\toverride copy(): EditorInput {\n\t\t// Generate a new modelUri for the split editor\n\t\tconst newModelUri = URI.from({ scheme: SearchEditorScheme, fragment: `${Math.random()}` });\n\t\tconst config = this._cachedConfigurationModel?.config ?? {};\n\t\tconst results = this._cachedResultsModel?.getValue() ?? '';\n\t\t// Use the 'rawData' variant and pass modelUri\n\t\treturn this.instantiationService.invokeFunction(\n\t\t\tgetOrMakeSearchEditorInput,\n\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\t{ from: 'rawData', config, resultsContents: results, modelUri: newModelUri } as any // modelUri is not in the type, but we handle it below\n\t\t);\n\t}\n}\n\nexport const getOrMakeSearchEditorInput = (\n\taccessor: ServicesAccessor,\n\texistingData: (\n\t\t| { from: 'model'; config?: Partial<SearchConfiguration>; modelUri: URI; backupOf?: URI }\n\t\t| { from: 'rawData'; resultsContents: string | undefined; config: Partial<SearchConfiguration>; modelUri?: URI }\n\t\t| { from: 'existingFile'; fileUri: URI })\n): SearchEditorInput => {\n\n\tconst storageService = accessor.get(IStorageService);\n\tconst configurationService = accessor.get(IConfigurationService);\n\n\tconst instantiationService = accessor.get(IInstantiationService);\n\tlet modelUri: URI;\n\tif (existingData.from === 'model') {\n\t\tmodelUri = existingData.modelUri;\n\t} else if (existingData.from === 'rawData' && existingData.modelUri) {\n\t\tmodelUri = existingData.modelUri;\n\t} else {\n\t\tmodelUri = URI.from({ scheme: SearchEditorScheme, fragment: `${Math.random()}` });\n\t}\n\n\tif (!searchEditorModelFactory.models.has(modelUri)) {\n\t\tif (existingData.from === 'existingFile') {\n\t\t\tinstantiationService.invokeFunction(accessor => searchEditorModelFactory.initializeModelFromExistingFile(accessor, modelUri, existingData.fileUri));\n\t\t} else {\n\n\t\t\tconst searchEditorSettings = configurationService.getValue<ISearchConfigurationProperties>('search').searchEditor;\n\n\t\t\tconst reuseOldSettings = searchEditorSettings.reusePriorSearchConfiguration;\n\t\t\tconst defaultNumberOfContextLines = searchEditorSettings.defaultNumberOfContextLines;\n\n\t\t\tconst priorConfig = reuseOldSettings ? new Memento<{ searchConfig?: SearchConfiguration }>(SearchEditorInput.ID, storageService).getMemento(StorageScope.WORKSPACE, StorageTarget.MACHINE).searchConfig ?? {} : {};\n\t\t\tconst defaultConfig = defaultSearchConfig();\n\n\t\t\tconst config = { ...defaultConfig, ...priorConfig, ...existingData.config };\n\n\t\t\tif (defaultNumberOfContextLines !== null && defaultNumberOfContextLines !== undefined) {\n\t\t\t\tconfig.contextLines = existingData?.config?.contextLines ?? defaultNumberOfContextLines;\n\t\t\t}\n\t\t\tif (existingData.from === 'rawData') {\n\t\t\t\tif (existingData.resultsContents) {\n\t\t\t\t\tconfig.contextLines = 0;\n\t\t\t\t}\n\t\t\t\tinstantiationService.invokeFunction(accessor => searchEditorModelFactory.initializeModelFromRawData(accessor, modelUri, config, existingData.resultsContents));\n\t\t\t} else {\n\t\t\t\tinstantiationService.invokeFunction(accessor => searchEditorModelFactory.initializeModelFromExistingModel(accessor, modelUri, config));\n\t\t\t}\n\t\t}\n\t}\n\treturn instantiationService.createInstance(\n\t\tSearchEditorInput,\n\t\tmodelUri,\n\t\texistingData.from === 'existingFile'\n\t\t\t? existingData.fileUri\n\t\t\t: existingData.from === 'model'\n\t\t\t\t? existingData.backupOf\n\t\t\t\t: undefined);\n};\n"]}