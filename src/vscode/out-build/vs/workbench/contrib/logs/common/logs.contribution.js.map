{"version":3,"sources":["vs/workbench/contrib/logs/common/logs.contribution.ts"],"names":[],"mappings":"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","file":"logs.contribution.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as nls from '../../../../nls.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { Categories } from '../../../../platform/action/common/actionCommonCategories.js';\nimport { Action2, registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { SetLogLevelAction } from './logsActions.js';\nimport { IWorkbenchContribution, IWorkbenchContributionsRegistry, Extensions as WorkbenchExtensions } from '../../../common/contributions.js';\nimport { IOutputChannelRegistry, IOutputService, Extensions, isMultiSourceOutputChannelDescriptor, isSingleSourceOutputChannelDescriptor } from '../../../services/output/common/output.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { CONTEXT_LOG_LEVEL, ILoggerResource, ILoggerService, LogLevel, LogLevelToString, isLogLevel } from '../../../../platform/log/common/log.js';\nimport { LifecyclePhase } from '../../../services/lifecycle/common/lifecycle.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { windowLogId, showWindowLogActionId } from '../../../services/log/common/logConstants.js';\nimport { IDefaultLogLevelsService } from './defaultLogLevels.js';\nimport { ContextKeyExpr, IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { CounterSet } from '../../../../base/common/map.js';\nimport { IUriIdentityService } from '../../../../platform/uriIdentity/common/uriIdentity.js';\nimport { Schemas } from '../../../../base/common/network.js';\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: SetLogLevelAction.ID,\n\t\t\ttitle: SetLogLevelAction.TITLE,\n\t\t\tcategory: Categories.Developer,\n\t\t\tf1: true\n\t\t});\n\t}\n\trun(servicesAccessor: ServicesAccessor): Promise<void> {\n\t\tconst action = servicesAccessor.get(IInstantiationService).createInstance(SetLogLevelAction, SetLogLevelAction.ID, SetLogLevelAction.TITLE.value);\n\t\treturn action.run().finally(() => action.dispose());\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.action.setDefaultLogLevel',\n\t\t\ttitle: nls.localize2('setDefaultLogLevel', \"Set Default Log Level\"),\n\t\t\tcategory: Categories.Developer,\n\t\t});\n\t}\n\trun(servicesAccessor: ServicesAccessor, logLevel: LogLevel, extensionId?: string): Promise<void> {\n\t\treturn servicesAccessor.get(IDefaultLogLevelsService).setDefaultLogLevel(logLevel, extensionId);\n\t}\n});\n\nclass LogOutputChannels extends Disposable implements IWorkbenchContribution {\n\n\tprivate readonly contextKeys = new CounterSet<string>();\n\tprivate readonly outputChannelRegistry = Registry.as<IOutputChannelRegistry>(Extensions.OutputChannels);\n\n\tconstructor(\n\t\t@ILoggerService private readonly loggerService: ILoggerService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IUriIdentityService private readonly uriIdentityService: IUriIdentityService,\n\t) {\n\t\tsuper();\n\t\tconst contextKey = CONTEXT_LOG_LEVEL.bindTo(contextKeyService);\n\t\tcontextKey.set(LogLevelToString(loggerService.getLogLevel()));\n\t\tthis._register(loggerService.onDidChangeLogLevel(e => {\n\t\t\tif (isLogLevel(e)) {\n\t\t\t\tcontextKey.set(LogLevelToString(loggerService.getLogLevel()));\n\t\t\t}\n\t\t}));\n\n\t\tthis.onDidAddLoggers(loggerService.getRegisteredLoggers());\n\t\tthis._register(loggerService.onDidChangeLoggers(({ added, removed }) => {\n\t\t\tthis.onDidAddLoggers(added);\n\t\t\tthis.onDidRemoveLoggers(removed);\n\t\t}));\n\t\tthis._register(loggerService.onDidChangeVisibility(([resource, visibility]) => {\n\t\t\tconst logger = loggerService.getRegisteredLogger(resource);\n\t\t\tif (logger) {\n\t\t\t\tif (visibility) {\n\t\t\t\t\tthis.registerLogChannel(logger);\n\t\t\t\t} else {\n\t\t\t\t\tthis.deregisterLogChannel(logger);\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t\tthis.registerShowWindowLogAction();\n\t\tthis._register(Event.filter(contextKeyService.onDidChangeContext, e => e.affectsSome(this.contextKeys))(() => this.onDidChangeContext()));\n\t}\n\n\tprivate onDidAddLoggers(loggers: Iterable<ILoggerResource>): void {\n\t\tfor (const logger of loggers) {\n\t\t\tif (logger.when) {\n\t\t\t\tconst contextKeyExpr = ContextKeyExpr.deserialize(logger.when);\n\t\t\t\tif (contextKeyExpr) {\n\t\t\t\t\tfor (const key of contextKeyExpr.keys()) {\n\t\t\t\t\t\tthis.contextKeys.add(key);\n\t\t\t\t\t}\n\t\t\t\t\tif (!this.contextKeyService.contextMatchesRules(contextKeyExpr)) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (logger.hidden) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tthis.registerLogChannel(logger);\n\t\t}\n\t}\n\n\tprivate onDidChangeContext(): void {\n\t\tfor (const logger of this.loggerService.getRegisteredLoggers()) {\n\t\t\tif (logger.when) {\n\t\t\t\tif (this.contextKeyService.contextMatchesRules(ContextKeyExpr.deserialize(logger.when))) {\n\t\t\t\t\tthis.registerLogChannel(logger);\n\t\t\t\t} else {\n\t\t\t\t\tthis.deregisterLogChannel(logger);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate onDidRemoveLoggers(loggers: Iterable<ILoggerResource>): void {\n\t\tfor (const logger of loggers) {\n\t\t\tif (logger.when) {\n\t\t\t\tconst contextKeyExpr = ContextKeyExpr.deserialize(logger.when);\n\t\t\t\tif (contextKeyExpr) {\n\t\t\t\t\tfor (const key of contextKeyExpr.keys()) {\n\t\t\t\t\t\tthis.contextKeys.delete(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.deregisterLogChannel(logger);\n\t\t}\n\t}\n\n\tprivate registerLogChannel(logger: ILoggerResource): void {\n\t\tif (logger.group) {\n\t\t\tthis.registerCompoundLogChannel(logger.group.id, logger.group.name, logger);\n\t\t\treturn;\n\t\t}\n\n\t\tconst channel = this.outputChannelRegistry.getChannel(logger.id);\n\t\tif (channel && isSingleSourceOutputChannelDescriptor(channel) && this.uriIdentityService.extUri.isEqual(channel.source.resource, logger.resource)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst existingChannel = this.outputChannelRegistry.getChannel(logger.id);\n\t\tconst remoteLogger = existingChannel && isSingleSourceOutputChannelDescriptor(existingChannel) && existingChannel.source.resource.scheme === Schemas.vscodeRemote ? this.loggerService.getRegisteredLogger(existingChannel.source.resource) : undefined;\n\t\tif (remoteLogger) {\n\t\t\tthis.deregisterLogChannel(remoteLogger);\n\t\t}\n\t\tconst hasToAppendRemote = existingChannel && logger.resource.scheme === Schemas.vscodeRemote;\n\t\tconst id = hasToAppendRemote ? `${logger.id}.remote` : logger.id;\n\t\tconst label = hasToAppendRemote ? nls.localize('remote name', \"{0} (Remote)\", logger.name ?? logger.id) : logger.name ?? logger.id;\n\t\tthis.outputChannelRegistry.registerChannel({ id, label, source: { resource: logger.resource }, log: true, extensionId: logger.extensionId });\n\t}\n\n\tprivate registerCompoundLogChannel(id: string, name: string, logger: ILoggerResource): void {\n\t\tconst channel = this.outputChannelRegistry.getChannel(id);\n\t\tconst source = { resource: logger.resource, name: logger.name ?? logger.id };\n\t\tif (channel) {\n\t\t\tif (isMultiSourceOutputChannelDescriptor(channel) && !channel.source.some(({ resource }) => this.uriIdentityService.extUri.isEqual(resource, logger.resource))) {\n\t\t\t\tthis.outputChannelRegistry.updateChannelSources(id, [...channel.source, source]);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.outputChannelRegistry.registerChannel({ id, label: name, log: true, source: [source] });\n\t\t}\n\t}\n\n\tprivate deregisterLogChannel(logger: ILoggerResource): void {\n\t\tif (logger.group) {\n\t\t\tconst channel = this.outputChannelRegistry.getChannel(logger.group.id);\n\t\t\tif (channel && isMultiSourceOutputChannelDescriptor(channel)) {\n\t\t\t\tthis.outputChannelRegistry.updateChannelSources(logger.group.id, channel.source.filter(({ resource }) => !this.uriIdentityService.extUri.isEqual(resource, logger.resource)));\n\t\t\t}\n\t\t} else {\n\t\t\tthis.outputChannelRegistry.removeChannel(logger.id);\n\t\t}\n\t}\n\n\tprivate registerShowWindowLogAction(): void {\n\t\tthis._register(registerAction2(class ShowWindowLogAction extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: showWindowLogActionId,\n\t\t\t\t\ttitle: nls.localize2('show window log', \"Show Window Log\"),\n\t\t\t\t\tcategory: Categories.Developer,\n\t\t\t\t\tf1: true\n\t\t\t\t});\n\t\t\t}\n\t\t\tasync run(servicesAccessor: ServicesAccessor): Promise<void> {\n\t\t\t\tconst outputService = servicesAccessor.get(IOutputService);\n\t\t\t\toutputService.showChannel(windowLogId);\n\t\t\t}\n\t\t}));\n\t}\n}\n\nRegistry.as<IWorkbenchContributionsRegistry>(WorkbenchExtensions.Workbench).registerWorkbenchContribution(LogOutputChannels, LifecyclePhase.Restored);\n"]}