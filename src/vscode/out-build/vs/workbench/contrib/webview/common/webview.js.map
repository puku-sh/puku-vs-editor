{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/webview/common/webview.ts","vs/workbench/contrib/webview/common/webview.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAGhG,OAAO,EAAE,OAAO,EAAE,MAAM,oCAAoC,CAAC;AAC7D,OAAO,EAAE,GAAG,EAAE,MAAM,gCAAgC,CAAC;AAOrD;;;;;GAKG;AACH,MAAM,CAAC,MAAM,uBAAuB,GAAG,gBAAgB,CAAC;AAExD,MAAM,CAAC,MAAM,4BAA4B,GAAG,mBAAmB,uBAAuB,EAAE,CAAC;AAEzF,MAAM,CAAC,MAAM,uBAAuB,GAAG,oBAAoB,uBAAuB,EAAE,CAAC;AAErF;;;;;;;;;;;;GAYG;AACH,MAAM,UAAU,YAAY,CAAC,QAAa,EAAE,UAA8B;IACzE,IAAI,QAAQ,CAAC,MAAM,KAAK,OAAO,CAAC,IAAI,IAAI,QAAQ,CAAC,MAAM,KAAK,OAAO,CAAC,KAAK,EAAE,CAAC;QAC3E,OAAO,QAAQ,CAAC;IACjB,CAAC;IAED,IAAI,UAAU,IAAI,UAAU,CAAC,SAAS,IAAI,UAAU,CAAC,QAAQ,IAAI,QAAQ,CAAC,MAAM,KAAK,OAAO,CAAC,IAAI,EAAE,CAAC;QACnG,QAAQ,GAAG,GAAG,CAAC,IAAI,CAAC;YACnB,MAAM,EAAE,OAAO,CAAC,YAAY;YAC5B,SAAS,EAAE,UAAU,CAAC,SAAS;YAC/B,IAAI,EAAE,QAAQ,CAAC,IAAI;SACnB,CAAC,CAAC;IACJ,CAAC;IAED,OAAO,GAAG,CAAC,IAAI,CAAC;QACf,MAAM,EAAE,OAAO,CAAC,KAAK;QACrB,SAAS,EAAE,GAAG,QAAQ,CAAC,MAAM,IAAI,eAAe,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,4BAA4B,EAAE;QACtG,IAAI,EAAE,QAAQ,CAAC,IAAI;QACnB,QAAQ,EAAE,QAAQ,CAAC,QAAQ;QAC3B,KAAK,EAAE,QAAQ,CAAC,KAAK;KACrB,CAAC,CAAC;AACJ,CAAC;AAED,SAAS,eAAe,CAAC,SAAiB;IACzC,OAAO,SAAS,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE;QACrC,MAAM,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QAChC,IACC,CAAC,IAAI,uBAAc,IAAI,IAAI,wBAAc,CAAC;eACvC,CAAC,IAAI,uBAAc,IAAI,IAAI,uBAAc,CAAC;eAC1C,CAAC,IAAI,4BAAmB,IAAI,IAAI,4BAAmB,CAAC,EACtD,CAAC;YACF,OAAO,IAAI,CAAC;QACb,CAAC;QACD,OAAO,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;IACjD,CAAC,CAAC,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,eAAe,CAAC,SAAiB;IAChD,OAAO,SAAS,CAAC,OAAO,CAAC,iBAAiB,EAAE,CAAC,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC,MAAM,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;AACnG,CAAC","file":"webview.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CharCode } from '../../../../base/common/charCode.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport { URI } from '../../../../base/common/uri.js';\n\nexport interface WebviewRemoteInfo {\n\treadonly isRemote: boolean;\n\treadonly authority: string | undefined;\n}\n\n/**\n * Root from which resources in webviews are loaded.\n *\n * This is hardcoded because we never expect to actually hit it. Instead these requests\n * should always go to a service worker.\n */\nexport const webviewResourceBaseHost = 'vscode-cdn.net';\n\nexport const webviewRootResourceAuthority = `vscode-resource.${webviewResourceBaseHost}`;\n\nexport const webviewGenericCspSource = `'self' https://*.${webviewResourceBaseHost}`;\n\n/**\n * Construct a uri that can load resources inside a webview\n *\n * We encode the resource component of the uri so that on the main thread\n * we know where to load the resource from (remote or truly local):\n *\n * ```txt\n * ${scheme}+${resource-authority}.vscode-resource.vscode-cdn.net/${path}\n * ```\n *\n * @param resource Uri of the resource to load.\n * @param remoteInfo Optional information about the remote that specifies where `resource` should be resolved from.\n */\nexport function asWebviewUri(resource: URI, remoteInfo?: WebviewRemoteInfo): URI {\n\tif (resource.scheme === Schemas.http || resource.scheme === Schemas.https) {\n\t\treturn resource;\n\t}\n\n\tif (remoteInfo && remoteInfo.authority && remoteInfo.isRemote && resource.scheme === Schemas.file) {\n\t\tresource = URI.from({\n\t\t\tscheme: Schemas.vscodeRemote,\n\t\t\tauthority: remoteInfo.authority,\n\t\t\tpath: resource.path,\n\t\t});\n\t}\n\n\treturn URI.from({\n\t\tscheme: Schemas.https,\n\t\tauthority: `${resource.scheme}+${encodeAuthority(resource.authority)}.${webviewRootResourceAuthority}`,\n\t\tpath: resource.path,\n\t\tfragment: resource.fragment,\n\t\tquery: resource.query,\n\t});\n}\n\nfunction encodeAuthority(authority: string): string {\n\treturn authority.replace(/./g, char => {\n\t\tconst code = char.charCodeAt(0);\n\t\tif (\n\t\t\t(code >= CharCode.a && code <= CharCode.z)\n\t\t\t|| (code >= CharCode.A && code <= CharCode.Z)\n\t\t\t|| (code >= CharCode.Digit0 && code <= CharCode.Digit9)\n\t\t) {\n\t\t\treturn char;\n\t\t}\n\t\treturn '-' + code.toString(16).padStart(4, '0');\n\t});\n}\n\nexport function decodeAuthority(authority: string) {\n\treturn authority.replace(/-([0-9a-f]{4})/g, (_, code) => String.fromCharCode(parseInt(code, 16)));\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CharCode } from '../../../../base/common/charCode.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport { URI } from '../../../../base/common/uri.js';\n\nexport interface WebviewRemoteInfo {\n\treadonly isRemote: boolean;\n\treadonly authority: string | undefined;\n}\n\n/**\n * Root from which resources in webviews are loaded.\n *\n * This is hardcoded because we never expect to actually hit it. Instead these requests\n * should always go to a service worker.\n */\nexport const webviewResourceBaseHost = 'vscode-cdn.net';\n\nexport const webviewRootResourceAuthority = `vscode-resource.${webviewResourceBaseHost}`;\n\nexport const webviewGenericCspSource = `'self' https://*.${webviewResourceBaseHost}`;\n\n/**\n * Construct a uri that can load resources inside a webview\n *\n * We encode the resource component of the uri so that on the main thread\n * we know where to load the resource from (remote or truly local):\n *\n * ```txt\n * ${scheme}+${resource-authority}.vscode-resource.vscode-cdn.net/${path}\n * ```\n *\n * @param resource Uri of the resource to load.\n * @param remoteInfo Optional information about the remote that specifies where `resource` should be resolved from.\n */\nexport function asWebviewUri(resource: URI, remoteInfo?: WebviewRemoteInfo): URI {\n\tif (resource.scheme === Schemas.http || resource.scheme === Schemas.https) {\n\t\treturn resource;\n\t}\n\n\tif (remoteInfo && remoteInfo.authority && remoteInfo.isRemote && resource.scheme === Schemas.file) {\n\t\tresource = URI.from({\n\t\t\tscheme: Schemas.vscodeRemote,\n\t\t\tauthority: remoteInfo.authority,\n\t\t\tpath: resource.path,\n\t\t});\n\t}\n\n\treturn URI.from({\n\t\tscheme: Schemas.https,\n\t\tauthority: `${resource.scheme}+${encodeAuthority(resource.authority)}.${webviewRootResourceAuthority}`,\n\t\tpath: resource.path,\n\t\tfragment: resource.fragment,\n\t\tquery: resource.query,\n\t});\n}\n\nfunction encodeAuthority(authority: string): string {\n\treturn authority.replace(/./g, char => {\n\t\tconst code = char.charCodeAt(0);\n\t\tif (\n\t\t\t(code >= CharCode.a && code <= CharCode.z)\n\t\t\t|| (code >= CharCode.A && code <= CharCode.Z)\n\t\t\t|| (code >= CharCode.Digit0 && code <= CharCode.Digit9)\n\t\t) {\n\t\t\treturn char;\n\t\t}\n\t\treturn '-' + code.toString(16).padStart(4, '0');\n\t});\n}\n\nexport function decodeAuthority(authority: string) {\n\treturn authority.replace(/-([0-9a-f]{4})/g, (_, code) => String.fromCharCode(parseInt(code, 16)));\n}\n"]}