{"version":3,"sources":["vs/workbench/contrib/webview/browser/webview.contribution.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,EAAE,gBAAgB,EAAE,MAAM,iCAAiC,CAAC;AACnE,OAAO,EAAgB,WAAW,EAAE,gBAAgB,EAAE,WAAW,EAAE,MAAM,gDAAgD,CAAC;AAC1H,OAAO,EAAE,UAAU,EAAE,SAAS,EAAE,WAAW,EAAE,MAAM,2DAA2D,CAAC;AAC/G,OAAO,KAAK,GAAG,MAAM,oBAAoB,CAAC;AAC1C,OAAO,EAAE,MAAM,EAAE,YAAY,EAAE,MAAM,gDAAgD,CAAC;AACtF,OAAO,EAAE,cAAc,EAAE,MAAM,sDAAsD,CAAC;AACtF,OAAO,EAAE,eAAe,EAAY,MAAM,cAAc,CAAC;AACzD,OAAO,EAAE,YAAY,EAAE,MAAM,kDAAkD,CAAC;AAChF,OAAO,EAAE,cAAc,EAAE,MAAM,kDAAkD,CAAC;AAGlF,MAAM,QAAQ,GAAG,GAAG,CAAC;AAErB,SAAS,yBAAyB,CAAC,OAAiC,EAAE,CAA8B;IACnG,OAAO,EAAE,iBAAiB,CAAC,QAAQ,EAAE,SAAS,EAAE,QAAQ,CAAC,EAAE;QAC1D,MAAM,cAAc,GAAG,QAAQ,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;QACrD,MAAM,OAAO,GAAG,cAAc,CAAC,aAAa,CAAC;QAC7C,IAAI,OAAO,EAAE,SAAS,EAAE,CAAC;YACxB,CAAC,CAAC,OAAO,CAAC,CAAC;YACX,OAAO,IAAI,CAAC;QACb,CAAC;QAED,sEAAsE;QACtE,0DAA0D;QAC1D,IAAI,gBAAgB,EAAE,EAAE,SAAS,CAAC,QAAQ,CAAC,kBAAkB,CAAC,EAAE,CAAC;YAChE,MAAM,aAAa,GAAG,QAAQ,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;YACnD,IAAI,aAAa,CAAC,YAAY,YAAY,YAAY,EAAE,CAAC;gBACxD,CAAC,CAAC,aAAa,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;gBACtC,OAAO,IAAI,CAAC;YACb,CAAC;QACF,CAAC;QAED,OAAO,KAAK,CAAC;IACd,CAAC,CAAC,CAAC;AACJ,CAAC;AAED,yBAAyB,CAAC,WAAW,EAAE,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC;AAClE,yBAAyB,CAAC,WAAW,EAAE,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC;AAClE,yBAAyB,CAAC,gBAAgB,EAAE,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,SAAS,EAAE,CAAC,CAAC;AAC5E,yBAAyB,CAAC,UAAU,EAAE,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC;AACjE,yBAAyB,CAAC,WAAW,EAAE,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC,CAAC;AACnE,yBAAyB,CAAC,SAAS,EAAE,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,CAAC;AAE/D,MAAM,CAAC,MAAM,4CAA4C,GAAG,gCAAgC,CAAC;AAE7F,IAAI,SAAS,EAAE,CAAC;IACf,YAAY,CAAC,cAAc,CAAC,MAAM,CAAC,cAAc,EAAE;QAClD,OAAO,EAAE;YACR,EAAE,EAAE,SAAS,CAAC,EAAE;YAChB,KAAK,EAAE,GAAG,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAK,CAAC;SACjC;QACD,KAAK,EAAE,gBAAgB;QACvB,KAAK,EAAE,CAAC;QACR,IAAI,EAAE,cAAc,CAAC,GAAG,CAAC,4CAA4C,CAAC;KACtE,CAAC,CAAC;AACJ,CAAC;AAED,IAAI,UAAU,EAAE,CAAC;IAChB,YAAY,CAAC,cAAc,CAAC,MAAM,CAAC,cAAc,EAAE;QAClD,OAAO,EAAE;YACR,EAAE,EAAE,UAAU,CAAC,EAAE;YACjB,KAAK,EAAE,GAAG,CAAC,QAAQ,CAAC,KAAM,EAAE,IAAM,CAAC;SACnC;QACD,KAAK,EAAE,gBAAgB;QACvB,KAAK,EAAE,CAAC;QACR,IAAI,EAAE,cAAc,CAAC,GAAG,CAAC,4CAA4C,CAAC;KACtE,CAAC,CAAC;AACJ,CAAC;AAED,IAAI,WAAW,EAAE,CAAC;IACjB,YAAY,CAAC,cAAc,CAAC,MAAM,CAAC,cAAc,EAAE;QAClD,OAAO,EAAE;YACR,EAAE,EAAE,WAAW,CAAC,EAAE;YAClB,KAAK,EAAE,GAAG,CAAC,QAAQ,CAAC,KAAO,EAAE,IAAO,CAAC;SACrC;QACD,KAAK,EAAE,gBAAgB;QACvB,KAAK,EAAE,CAAC;QACR,IAAI,EAAE,cAAc,CAAC,GAAG,CAAC,4CAA4C,CAAC;KACtE,CAAC,CAAC;AACJ,CAAC","file":"webview.contribution.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { getActiveElement } from '../../../../base/browser/dom.js';\nimport { MultiCommand, RedoCommand, SelectAllCommand, UndoCommand } from '../../../../editor/browser/editorExtensions.js';\nimport { CopyAction, CutAction, PasteAction } from '../../../../editor/contrib/clipboard/browser/clipboard.js';\nimport * as nls from '../../../../nls.js';\nimport { MenuId, MenuRegistry } from '../../../../platform/actions/common/actions.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IWebviewService, IWebview } from './webview.js';\nimport { WebviewInput } from '../../webviewPanel/browser/webviewEditorInput.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\n\n\nconst PRIORITY = 100;\n\nfunction overrideCommandForWebview(command: MultiCommand | undefined, f: (webview: IWebview) => void) {\n\tcommand?.addImplementation(PRIORITY, 'webview', accessor => {\n\t\tconst webviewService = accessor.get(IWebviewService);\n\t\tconst webview = webviewService.activeWebview;\n\t\tif (webview?.isFocused) {\n\t\t\tf(webview);\n\t\t\treturn true;\n\t\t}\n\n\t\t// When focused in a custom menu try to fallback to the active webview\n\t\t// This is needed for context menu actions and the menubar\n\t\tif (getActiveElement()?.classList.contains('action-menu-item')) {\n\t\t\tconst editorService = accessor.get(IEditorService);\n\t\t\tif (editorService.activeEditor instanceof WebviewInput) {\n\t\t\t\tf(editorService.activeEditor.webview);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t});\n}\n\noverrideCommandForWebview(UndoCommand, webview => webview.undo());\noverrideCommandForWebview(RedoCommand, webview => webview.redo());\noverrideCommandForWebview(SelectAllCommand, webview => webview.selectAll());\noverrideCommandForWebview(CopyAction, webview => webview.copy());\noverrideCommandForWebview(PasteAction, webview => webview.paste());\noverrideCommandForWebview(CutAction, webview => webview.cut());\n\nexport const PreventDefaultContextMenuItemsContextKeyName = 'preventDefaultContextMenuItems';\n\nif (CutAction) {\n\tMenuRegistry.appendMenuItem(MenuId.WebviewContext, {\n\t\tcommand: {\n\t\t\tid: CutAction.id,\n\t\t\ttitle: nls.localize('cut', \"Cut\"),\n\t\t},\n\t\tgroup: '5_cutcopypaste',\n\t\torder: 1,\n\t\twhen: ContextKeyExpr.not(PreventDefaultContextMenuItemsContextKeyName),\n\t});\n}\n\nif (CopyAction) {\n\tMenuRegistry.appendMenuItem(MenuId.WebviewContext, {\n\t\tcommand: {\n\t\t\tid: CopyAction.id,\n\t\t\ttitle: nls.localize('copy', \"Copy\"),\n\t\t},\n\t\tgroup: '5_cutcopypaste',\n\t\torder: 2,\n\t\twhen: ContextKeyExpr.not(PreventDefaultContextMenuItemsContextKeyName),\n\t});\n}\n\nif (PasteAction) {\n\tMenuRegistry.appendMenuItem(MenuId.WebviewContext, {\n\t\tcommand: {\n\t\t\tid: PasteAction.id,\n\t\t\ttitle: nls.localize('paste', \"Paste\"),\n\t\t},\n\t\tgroup: '5_cutcopypaste',\n\t\torder: 3,\n\t\twhen: ContextKeyExpr.not(PreventDefaultContextMenuItemsContextKeyName),\n\t});\n}\n"]}