{"version":3,"sources":["vs/workbench/contrib/extensions/browser/extensionsQuickAccess.ts"],"names":[],"mappings":"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","file":"extensionsQuickAccess.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IQuickPickSeparator } from '../../../../platform/quickinput/common/quickInput.js';\nimport { IPickerQuickAccessItem, PickerQuickAccessProvider } from '../../../../platform/quickinput/browser/pickerQuickAccess.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { localize } from '../../../../nls.js';\nimport { IExtensionGalleryService, IExtensionManagementService, IGalleryExtension } from '../../../../platform/extensionManagement/common/extensionManagement.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { IExtensionsWorkbenchService } from '../common/extensions.js';\n\nexport class InstallExtensionQuickAccessProvider extends PickerQuickAccessProvider<IPickerQuickAccessItem> {\n\n\tstatic PREFIX = 'ext install ';\n\n\tconstructor(\n\t\t@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IExtensionGalleryService private readonly galleryService: IExtensionGalleryService,\n\t\t@IExtensionManagementService private readonly extensionsService: IExtensionManagementService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@ILogService private readonly logService: ILogService\n\t) {\n\t\tsuper(InstallExtensionQuickAccessProvider.PREFIX);\n\t}\n\n\tprotected _getPicks(filter: string, disposables: DisposableStore, token: CancellationToken): Array<IPickerQuickAccessItem | IQuickPickSeparator> | Promise<Array<IPickerQuickAccessItem | IQuickPickSeparator>> {\n\n\t\t// Nothing typed\n\t\tif (!filter) {\n\t\t\treturn [{\n\t\t\t\tlabel: localize('type', \"Type an extension name to install or search.\")\n\t\t\t}];\n\t\t}\n\n\t\tconst genericSearchPickItem: IPickerQuickAccessItem = {\n\t\t\tlabel: localize('searchFor', \"Press Enter to search for extension '{0}'.\", filter),\n\t\t\taccept: () => this.extensionsWorkbenchService.openSearch(filter)\n\t\t};\n\n\t\t// Extension ID typed: try to find it\n\t\tif (/\\./.test(filter)) {\n\t\t\treturn this.getPicksForExtensionId(filter, genericSearchPickItem, token);\n\t\t}\n\n\t\t// Extension name typed: offer to search it\n\t\treturn [genericSearchPickItem];\n\t}\n\n\tprivate async getPicksForExtensionId(filter: string, fallback: IPickerQuickAccessItem, token: CancellationToken): Promise<Array<IPickerQuickAccessItem | IQuickPickSeparator>> {\n\t\ttry {\n\t\t\tconst [galleryExtension] = await this.galleryService.getExtensions([{ id: filter }], token);\n\t\t\tif (token.isCancellationRequested) {\n\t\t\t\treturn []; // return early if canceled\n\t\t\t}\n\n\t\t\tif (!galleryExtension) {\n\t\t\t\treturn [fallback];\n\t\t\t}\n\n\t\t\treturn [{\n\t\t\t\tlabel: localize('install', \"Press Enter to install extension '{0}'.\", filter),\n\t\t\t\taccept: () => this.installExtension(galleryExtension, filter)\n\t\t\t}];\n\t\t} catch (error) {\n\t\t\tif (token.isCancellationRequested) {\n\t\t\t\treturn []; // expected error\n\t\t\t}\n\n\t\t\tthis.logService.error(error);\n\n\t\t\treturn [fallback];\n\t\t}\n\t}\n\n\tprivate async installExtension(extension: IGalleryExtension, name: string): Promise<void> {\n\t\ttry {\n\t\t\tawait this.extensionsWorkbenchService.openSearch(`@id:${name}`);\n\t\t\tawait this.extensionsService.installFromGallery(extension);\n\t\t} catch (error) {\n\t\t\tthis.notificationService.error(error);\n\t\t}\n\t}\n}\n\nexport class ManageExtensionsQuickAccessProvider extends PickerQuickAccessProvider<IPickerQuickAccessItem> {\n\n\tstatic PREFIX = 'ext ';\n\n\tconstructor(@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService) {\n\t\tsuper(ManageExtensionsQuickAccessProvider.PREFIX);\n\t}\n\n\tprotected _getPicks(): Array<IPickerQuickAccessItem | IQuickPickSeparator> {\n\t\treturn [{\n\t\t\tlabel: localize('manage', \"Press Enter to manage your extensions.\"),\n\t\t\taccept: () => this.extensionsWorkbenchService.openSearch('')\n\t\t}];\n\t}\n}\n"]}