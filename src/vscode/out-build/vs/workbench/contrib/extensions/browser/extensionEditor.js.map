{"version":3,"sources":["vs/workbench/contrib/extensions/browser/extensionEditor.ts"],"names":[],"mappings":"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","file":"extensionEditor.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { $, Dimension, append, hide, setParentFlowTo, show } from '../../../../base/browser/dom.js';\nimport { ActionBar } from '../../../../base/browser/ui/actionbar/actionbar.js';\nimport { getDefaultHoverDelegate } from '../../../../base/browser/ui/hover/hoverDelegateFactory.js';\nimport { DomScrollableElement } from '../../../../base/browser/ui/scrollbar/scrollableElement.js';\nimport { CheckboxActionViewItem } from '../../../../base/browser/ui/toggle/toggle.js';\nimport { Action, IAction } from '../../../../base/common/actions.js';\nimport * as arrays from '../../../../base/common/arrays.js';\nimport { Cache, CacheResult } from '../../../../base/common/cache.js';\nimport { CancellationToken, CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { isCancellationError } from '../../../../base/common/errors.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { KeyCode, KeyMod } from '../../../../base/common/keyCodes.js';\nimport { Disposable, DisposableStore, MutableDisposable, dispose, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { Schemas, matchesScheme } from '../../../../base/common/network.js';\nimport { isNative } from '../../../../base/common/platform.js';\nimport { isUndefined } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { generateUuid } from '../../../../base/common/uuid.js';\nimport './media/extensionEditor.css';\nimport { EditorContextKeys } from '../../../../editor/common/editorContextKeys.js';\nimport { TokenizationRegistry } from '../../../../editor/common/languages.js';\nimport { ILanguageService } from '../../../../editor/common/languages/language.js';\nimport { generateTokensCSSForColorMap } from '../../../../editor/common/languages/supports/tokenization.js';\nimport { localize } from '../../../../nls.js';\nimport { Action2, registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { ContextKeyExpr, IContextKey, IContextKeyService, IScopedContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { computeSize, FilterType, IExtensionGalleryService, IGalleryExtension, ILocalExtension } from '../../../../platform/extensionManagement/common/extensionManagement.js';\nimport { areSameExtensions } from '../../../../platform/extensionManagement/common/extensionManagementUtil.js';\nimport { ExtensionType, IExtensionManifest } from '../../../../platform/extensions/common/extensions.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { KeybindingWeight } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { IStorageService } from '../../../../platform/storage/common/storage.js';\nimport { ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nimport { defaultCheckboxStyles } from '../../../../platform/theme/browser/defaultStyles.js';\nimport { buttonForeground, buttonHoverBackground, editorBackground, textLinkActiveForeground, textLinkForeground } from '../../../../platform/theme/common/colorRegistry.js';\nimport { IColorTheme, ICssStyleCollector, IThemeService, registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\nimport { EditorPane } from '../../../browser/parts/editor/editorPane.js';\nimport { IEditorOpenContext } from '../../../common/editor.js';\nimport { ExtensionFeaturesTab } from './extensionFeaturesTab.js';\nimport {\n\tButtonWithDropDownExtensionAction,\n\tClearLanguageAction,\n\tDisableDropDownAction,\n\tEnableDropDownAction,\n\tButtonWithDropdownExtensionActionViewItem, DropDownExtensionAction,\n\tExtensionEditorManageExtensionAction,\n\tExtensionStatusAction,\n\tExtensionStatusLabelAction,\n\tInstallAnotherVersionAction,\n\tInstallDropdownAction, InstallingLabelAction,\n\tLocalInstallAction,\n\tMigrateDeprecatedExtensionAction,\n\tExtensionRuntimeStateAction,\n\tRemoteInstallAction,\n\tSetColorThemeAction,\n\tSetFileIconThemeAction,\n\tSetLanguageAction,\n\tSetProductIconThemeAction,\n\tToggleAutoUpdateForExtensionAction,\n\tUninstallAction,\n\tUpdateAction,\n\tWebInstallAction,\n\tTogglePreReleaseExtensionAction,\n} from './extensionsActions.js';\nimport { Delegate } from './extensionsList.js';\nimport { ExtensionData, ExtensionsGridView, ExtensionsTree, getExtensions } from './extensionsViewer.js';\nimport { ExtensionRecommendationWidget, ExtensionStatusWidget, ExtensionWidget, InstallCountWidget, RatingsWidget, RemoteBadgeWidget, SponsorWidget, PublisherWidget, onClick, ExtensionKindIndicatorWidget, ExtensionIconWidget } from './extensionsWidgets.js';\nimport { ExtensionContainers, ExtensionEditorTab, ExtensionState, IExtension, IExtensionContainer, IExtensionsWorkbenchService } from '../common/extensions.js';\nimport { ExtensionsInput, IExtensionEditorOptions } from '../common/extensionsInput.js';\nimport { DEFAULT_MARKDOWN_STYLES, renderMarkdownDocument } from '../../markdown/browser/markdownDocumentRenderer.js';\nimport { IWebview, IWebviewService, KEYBINDING_CONTEXT_WEBVIEW_FIND_WIDGET_FOCUSED } from '../../webview/browser/webview.js';\nimport { IEditorGroup } from '../../../services/editor/common/editorGroupsService.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { IExtensionRecommendationsService } from '../../../services/extensionRecommendations/common/extensionRecommendations.js';\nimport { IExtensionService } from '../../../services/extensions/common/extensions.js';\nimport { IUriIdentityService } from '../../../../platform/uriIdentity/common/uriIdentity.js';\nimport { IHoverService } from '../../../../platform/hover/browser/hover.js';\nimport { ByteSize, IFileService } from '../../../../platform/files/common/files.js';\nimport { IUserDataProfilesService } from '../../../../platform/userDataProfile/common/userDataProfile.js';\nimport { IRemoteAgentService } from '../../../services/remote/common/remoteAgentService.js';\nimport { IExtensionGalleryManifestService } from '../../../../platform/extensionManagement/common/extensionGalleryManifest.js';\nimport { ShowCurrentReleaseNotesActionId } from '../../update/common/update.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { fromNow } from '../../../../base/common/date.js';\n\nclass NavBar extends Disposable {\n\n\tprivate _onChange = this._register(new Emitter<{ id: string | null; focus: boolean }>());\n\tget onChange(): Event<{ id: string | null; focus: boolean }> { return this._onChange.event; }\n\n\tprivate _currentId: string | null = null;\n\tget currentId(): string | null { return this._currentId; }\n\n\tprivate actions: Action[];\n\tprivate actionbar: ActionBar;\n\n\tconstructor(container: HTMLElement) {\n\t\tsuper();\n\t\tconst element = append(container, $('.navbar'));\n\t\tthis.actions = [];\n\t\tthis.actionbar = this._register(new ActionBar(element));\n\t}\n\n\tpush(id: string, label: string, tooltip: string): void {\n\t\tconst action = new Action(id, label, undefined, true, () => this.update(id, true));\n\n\t\taction.tooltip = tooltip;\n\n\t\tthis.actions.push(action);\n\t\tthis.actionbar.push(action);\n\n\t\tif (this.actions.length === 1) {\n\t\t\tthis.update(id);\n\t\t}\n\t}\n\n\tclear(): void {\n\t\tthis.actions = dispose(this.actions);\n\t\tthis.actionbar.clear();\n\t}\n\n\tswitch(id: string): boolean {\n\t\tconst action = this.actions.find(action => action.id === id);\n\t\tif (action) {\n\t\t\taction.run();\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate update(id: string, focus?: boolean): void {\n\t\tthis._currentId = id;\n\t\tthis._onChange.fire({ id, focus: !!focus });\n\t\tthis.actions.forEach(a => a.checked = a.id === id);\n\t}\n}\n\ninterface ILayoutParticipant {\n\tlayout(): void;\n}\n\ninterface IActiveElement {\n\tfocus(): void;\n}\n\ninterface IExtensionEditorTemplate {\n\tname: HTMLElement;\n\tpreview: HTMLElement;\n\tbuiltin: HTMLElement;\n\tdescription: HTMLElement;\n\tactionsAndStatusContainer: HTMLElement;\n\textensionActionBar: ActionBar;\n\tnavbar: NavBar;\n\tcontent: HTMLElement;\n\theader: HTMLElement;\n\textension: IExtension;\n\tgallery: IGalleryExtension | null;\n\tmanifest: IExtensionManifest | null;\n}\n\nconst enum WebviewIndex {\n\tReadme,\n\tChangelog\n}\n\nconst CONTEXT_SHOW_PRE_RELEASE_VERSION = new RawContextKey<boolean>('showPreReleaseVersion', false);\n\nabstract class ExtensionWithDifferentGalleryVersionWidget extends ExtensionWidget {\n\tprivate _gallery: IGalleryExtension | null = null;\n\tget gallery(): IGalleryExtension | null { return this._gallery; }\n\tset gallery(gallery: IGalleryExtension | null) {\n\t\tif (this.extension && gallery && !areSameExtensions(this.extension.identifier, gallery.identifier)) {\n\t\t\treturn;\n\t\t}\n\t\tthis._gallery = gallery;\n\t\tthis.update();\n\t}\n}\n\nclass VersionWidget extends ExtensionWithDifferentGalleryVersionWidget {\n\tprivate readonly element: HTMLElement;\n\tconstructor(\n\t\tcontainer: HTMLElement,\n\t\thoverService: IHoverService\n\t) {\n\t\tsuper();\n\t\tthis.element = append(container, $('code.version', undefined, 'pre-release'));\n\t\tthis._register(hoverService.setupManagedHover(getDefaultHoverDelegate('mouse'), this.element, localize('extension version', \"Extension Version\")));\n\t\tthis.render();\n\t}\n\trender(): void {\n\t\tif (this.extension?.preRelease) {\n\t\t\tshow(this.element);\n\t\t} else {\n\t\t\thide(this.element);\n\t\t}\n\t}\n}\n\nexport class ExtensionEditor extends EditorPane {\n\n\tstatic readonly ID: string = 'workbench.editor.extension';\n\n\tprivate readonly _scopedContextKeyService = this._register(new MutableDisposable<IScopedContextKeyService>());\n\tprivate template: IExtensionEditorTemplate | undefined;\n\n\tprivate extensionReadme: Cache<string> | null;\n\tprivate extensionChangelog: Cache<string> | null;\n\tprivate extensionManifest: Cache<IExtensionManifest | null> | null;\n\n\t// Some action bar items use a webview whose vertical scroll position we track in this map\n\tprivate initialScrollProgress: Map<WebviewIndex, number> = new Map();\n\n\t// Spot when an ExtensionEditor instance gets reused for a different extension, in which case the vertical scroll positions must be zeroed\n\tprivate currentIdentifier: string = '';\n\n\tprivate layoutParticipants: ILayoutParticipant[] = [];\n\tprivate readonly contentDisposables = this._register(new DisposableStore());\n\tprivate readonly transientDisposables = this._register(new DisposableStore());\n\tprivate activeElement: IActiveElement | null = null;\n\tprivate dimension: Dimension | undefined;\n\n\tprivate showPreReleaseVersionContextKey: IContextKey<boolean> | undefined;\n\n\tconstructor(\n\t\tgroup: IEditorGroup,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IExtensionGalleryService private readonly extensionGalleryService: IExtensionGalleryService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IOpenerService private readonly openerService: IOpenerService,\n\t\t@IExtensionRecommendationsService private readonly extensionRecommendationsService: IExtensionRecommendationsService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@IExtensionService private readonly extensionService: IExtensionService,\n\t\t@IWebviewService private readonly webviewService: IWebviewService,\n\t\t@ILanguageService private readonly languageService: ILanguageService,\n\t\t@IContextMenuService private readonly contextMenuService: IContextMenuService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IHoverService private readonly hoverService: IHoverService,\n\t) {\n\t\tsuper(ExtensionEditor.ID, group, telemetryService, themeService, storageService);\n\t\tthis.extensionReadme = null;\n\t\tthis.extensionChangelog = null;\n\t\tthis.extensionManifest = null;\n\t}\n\n\toverride get scopedContextKeyService(): IContextKeyService | undefined {\n\t\treturn this._scopedContextKeyService.value;\n\t}\n\n\tprotected createEditor(parent: HTMLElement): void {\n\t\tconst root = append(parent, $('.extension-editor'));\n\t\tthis._scopedContextKeyService.value = this.contextKeyService.createScoped(root);\n\t\tthis._scopedContextKeyService.value.createKey('inExtensionEditor', true);\n\t\tthis.showPreReleaseVersionContextKey = CONTEXT_SHOW_PRE_RELEASE_VERSION.bindTo(this._scopedContextKeyService.value);\n\n\t\troot.tabIndex = 0; // this is required for the focus tracker on the editor\n\t\troot.style.outline = 'none';\n\t\troot.setAttribute('role', 'document');\n\t\tconst header = append(root, $('.header'));\n\n\t\tconst iconContainer = append(header, $('.icon-container'));\n\t\tconst iconWidget = this.instantiationService.createInstance(ExtensionIconWidget, iconContainer);\n\t\tconst remoteBadge = this.instantiationService.createInstance(RemoteBadgeWidget, iconContainer, true);\n\n\t\tconst details = append(header, $('.details'));\n\t\tconst title = append(details, $('.title'));\n\t\tconst name = append(title, $('span.name.clickable', { role: 'heading', tabIndex: 0 }));\n\t\tthis._register(this.hoverService.setupManagedHover(getDefaultHoverDelegate('mouse'), name, localize('name', \"Extension name\")));\n\t\tconst versionWidget = new VersionWidget(title, this.hoverService);\n\n\t\tconst preview = append(title, $('span.preview'));\n\t\tthis._register(this.hoverService.setupManagedHover(getDefaultHoverDelegate('mouse'), preview, localize('preview', \"Preview\")));\n\t\tpreview.textContent = localize('preview', \"Preview\");\n\n\t\tconst builtin = append(title, $('span.builtin'));\n\t\tbuiltin.textContent = localize('builtin', \"Built-in\");\n\n\t\tconst subtitle = append(details, $('.subtitle'));\n\t\tconst subTitleEntryContainers: HTMLElement[] = [];\n\n\t\tconst publisherContainer = append(subtitle, $('.subtitle-entry'));\n\t\tsubTitleEntryContainers.push(publisherContainer);\n\t\tconst publisherWidget = this.instantiationService.createInstance(PublisherWidget, publisherContainer, false);\n\n\t\tconst extensionKindContainer = append(subtitle, $('.subtitle-entry'));\n\t\tsubTitleEntryContainers.push(extensionKindContainer);\n\t\tconst extensionKindWidget = this.instantiationService.createInstance(ExtensionKindIndicatorWidget, extensionKindContainer, false);\n\n\t\tconst installCountContainer = append(subtitle, $('.subtitle-entry'));\n\t\tsubTitleEntryContainers.push(installCountContainer);\n\t\tconst installCountWidget = this.instantiationService.createInstance(InstallCountWidget, installCountContainer, false);\n\n\t\tconst ratingsContainer = append(subtitle, $('.subtitle-entry'));\n\t\tsubTitleEntryContainers.push(ratingsContainer);\n\t\tconst ratingsWidget = this.instantiationService.createInstance(RatingsWidget, ratingsContainer, false);\n\n\t\tconst sponsorContainer = append(subtitle, $('.subtitle-entry'));\n\t\tsubTitleEntryContainers.push(sponsorContainer);\n\t\tconst sponsorWidget = this.instantiationService.createInstance(SponsorWidget, sponsorContainer);\n\n\t\tconst widgets: ExtensionWidget[] = [\n\t\t\ticonWidget,\n\t\t\tremoteBadge,\n\t\t\tversionWidget,\n\t\t\tpublisherWidget,\n\t\t\textensionKindWidget,\n\t\t\tinstallCountWidget,\n\t\t\tratingsWidget,\n\t\t\tsponsorWidget,\n\t\t];\n\n\t\tconst description = append(details, $('.description'));\n\n\t\tconst installAction = this.instantiationService.createInstance(InstallDropdownAction);\n\t\tconst actions = [\n\t\t\tthis.instantiationService.createInstance(ExtensionRuntimeStateAction),\n\t\t\tthis.instantiationService.createInstance(ExtensionStatusLabelAction),\n\t\t\tthis.instantiationService.createInstance(UpdateAction, true),\n\t\t\tthis.instantiationService.createInstance(SetColorThemeAction),\n\t\t\tthis.instantiationService.createInstance(SetFileIconThemeAction),\n\t\t\tthis.instantiationService.createInstance(SetProductIconThemeAction),\n\t\t\tthis.instantiationService.createInstance(SetLanguageAction),\n\t\t\tthis.instantiationService.createInstance(ClearLanguageAction),\n\n\t\t\tthis.instantiationService.createInstance(EnableDropDownAction),\n\t\t\tthis.instantiationService.createInstance(DisableDropDownAction),\n\t\t\tthis.instantiationService.createInstance(RemoteInstallAction, false),\n\t\t\tthis.instantiationService.createInstance(LocalInstallAction),\n\t\t\tthis.instantiationService.createInstance(WebInstallAction),\n\t\t\tinstallAction,\n\t\t\tthis.instantiationService.createInstance(InstallingLabelAction),\n\t\t\tthis.instantiationService.createInstance(ButtonWithDropDownExtensionAction, 'extensions.uninstall', UninstallAction.UninstallClass, [\n\t\t\t\t[\n\t\t\t\t\tthis.instantiationService.createInstance(MigrateDeprecatedExtensionAction, false),\n\t\t\t\t\tthis.instantiationService.createInstance(UninstallAction),\n\t\t\t\t\tthis.instantiationService.createInstance(InstallAnotherVersionAction, null, true),\n\t\t\t\t]\n\t\t\t]),\n\t\t\tthis.instantiationService.createInstance(TogglePreReleaseExtensionAction),\n\t\t\tthis.instantiationService.createInstance(ToggleAutoUpdateForExtensionAction),\n\t\t\tnew ExtensionEditorManageExtensionAction(this.scopedContextKeyService || this.contextKeyService, this.instantiationService),\n\t\t];\n\n\t\tconst actionsAndStatusContainer = append(details, $('.actions-status-container'));\n\t\tconst extensionActionBar = this._register(new ActionBar(actionsAndStatusContainer, {\n\t\t\tactionViewItemProvider: (action: IAction, options) => {\n\t\t\t\tif (action instanceof DropDownExtensionAction) {\n\t\t\t\t\treturn action.createActionViewItem(options);\n\t\t\t\t}\n\t\t\t\tif (action instanceof ButtonWithDropDownExtensionAction) {\n\t\t\t\t\treturn new ButtonWithDropdownExtensionActionViewItem(\n\t\t\t\t\t\taction,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t...options,\n\t\t\t\t\t\t\ticon: true,\n\t\t\t\t\t\t\tlabel: true,\n\t\t\t\t\t\t\tmenuActionsOrProvider: { getActions: () => action.menuActions },\n\t\t\t\t\t\t\tmenuActionClassNames: action.menuActionClassNames\n\t\t\t\t\t\t},\n\t\t\t\t\t\tthis.contextMenuService);\n\t\t\t\t}\n\t\t\t\tif (action instanceof ToggleAutoUpdateForExtensionAction) {\n\t\t\t\t\treturn new CheckboxActionViewItem(undefined, action, { ...options, icon: true, label: true, checkboxStyles: defaultCheckboxStyles });\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t},\n\t\t\tfocusOnlyEnabledItems: true\n\t\t}));\n\n\t\textensionActionBar.push(actions, { icon: true, label: true });\n\t\textensionActionBar.setFocusable(true);\n\t\t// update focusable elements when the enablement of an action changes\n\t\tthis._register(Event.any(...actions.map(a => Event.filter(a.onDidChange, e => e.enabled !== undefined)))(() => {\n\t\t\textensionActionBar.setFocusable(false);\n\t\t\textensionActionBar.setFocusable(true);\n\t\t}));\n\n\t\tconst otherExtensionContainers: IExtensionContainer[] = [];\n\t\tconst extensionStatusAction = this.instantiationService.createInstance(ExtensionStatusAction);\n\t\tconst extensionStatusWidget = this._register(this.instantiationService.createInstance(ExtensionStatusWidget, append(actionsAndStatusContainer, $('.status')), extensionStatusAction));\n\n\t\totherExtensionContainers.push(extensionStatusAction, new class extends ExtensionWidget {\n\t\t\trender() {\n\t\t\t\tactionsAndStatusContainer.classList.toggle('list-layout', this.extension?.state === ExtensionState.Installed);\n\t\t\t}\n\t\t}());\n\n\t\tconst recommendationWidget = this.instantiationService.createInstance(ExtensionRecommendationWidget, append(details, $('.recommendation')));\n\t\twidgets.push(recommendationWidget);\n\n\t\tthis._register(Event.any(extensionStatusWidget.onDidRender, recommendationWidget.onDidRender)(() => {\n\t\t\tif (this.dimension) {\n\t\t\t\tthis.layout(this.dimension);\n\t\t\t}\n\t\t}));\n\n\t\tconst extensionContainers: ExtensionContainers = this.instantiationService.createInstance(ExtensionContainers, [...actions, ...widgets, ...otherExtensionContainers]);\n\t\tfor (const disposable of [...actions, ...widgets, ...otherExtensionContainers, extensionContainers]) {\n\t\t\tthis._register(disposable);\n\t\t}\n\n\t\tconst onError = Event.chain(extensionActionBar.onDidRun, $ =>\n\t\t\t$.map(({ error }) => error)\n\t\t\t\t.filter(error => !!error)\n\t\t);\n\n\t\tthis._register(onError(this.onError, this));\n\n\t\tconst body = append(root, $('.body'));\n\t\tconst navbar = new NavBar(body);\n\n\t\tconst content = append(body, $('.content'));\n\t\tcontent.id = generateUuid(); // An id is needed for the webview parent flow to\n\n\t\tthis.template = {\n\t\t\tbuiltin,\n\t\t\tcontent,\n\t\t\tdescription,\n\t\t\theader,\n\t\t\tname,\n\t\t\tnavbar,\n\t\t\tpreview,\n\t\t\tactionsAndStatusContainer,\n\t\t\textensionActionBar,\n\t\t\tset extension(extension: IExtension) {\n\t\t\t\textensionContainers.extension = extension;\n\t\t\t\tlet lastNonEmptySubtitleEntryContainer;\n\t\t\t\tfor (const subTitleEntryElement of subTitleEntryContainers) {\n\t\t\t\t\tsubTitleEntryElement.classList.remove('last-non-empty');\n\t\t\t\t\tif (subTitleEntryElement.children.length > 0) {\n\t\t\t\t\t\tlastNonEmptySubtitleEntryContainer = subTitleEntryElement;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (lastNonEmptySubtitleEntryContainer) {\n\t\t\t\t\tlastNonEmptySubtitleEntryContainer.classList.add('last-non-empty');\n\t\t\t\t}\n\t\t\t},\n\t\t\tset gallery(gallery: IGalleryExtension | null) {\n\t\t\t\tversionWidget.gallery = gallery;\n\t\t\t},\n\t\t\tset manifest(manifest: IExtensionManifest | null) {\n\t\t\t\tinstallAction.manifest = manifest;\n\t\t\t}\n\t\t};\n\t}\n\n\toverride async setInput(input: ExtensionsInput, options: IExtensionEditorOptions | undefined, context: IEditorOpenContext, token: CancellationToken): Promise<void> {\n\t\tawait super.setInput(input, options, context, token);\n\t\tthis.updatePreReleaseVersionContext();\n\t\tif (this.template) {\n\t\t\tawait this.render(input.extension, this.template, !!options?.preserveFocus);\n\t\t}\n\t}\n\n\toverride setOptions(options: IExtensionEditorOptions | undefined): void {\n\t\tconst currentOptions: IExtensionEditorOptions | undefined = this.options;\n\t\tsuper.setOptions(options);\n\t\tthis.updatePreReleaseVersionContext();\n\n\t\tif (this.input && this.template && currentOptions?.showPreReleaseVersion !== options?.showPreReleaseVersion) {\n\t\t\tthis.render((this.input as ExtensionsInput).extension, this.template, !!options?.preserveFocus);\n\t\t\treturn;\n\t\t}\n\n\t\tif (options?.tab) {\n\t\t\tthis.template?.navbar.switch(options.tab);\n\t\t}\n\n\t}\n\n\tprivate updatePreReleaseVersionContext(): void {\n\t\tlet showPreReleaseVersion = (<IExtensionEditorOptions | undefined>this.options)?.showPreReleaseVersion;\n\t\tif (isUndefined(showPreReleaseVersion)) {\n\t\t\tshowPreReleaseVersion = !!(<ExtensionsInput>this.input).extension.gallery?.properties.isPreReleaseVersion;\n\t\t}\n\t\tthis.showPreReleaseVersionContextKey?.set(showPreReleaseVersion);\n\t}\n\n\tasync openTab(tab: ExtensionEditorTab): Promise<void> {\n\t\tif (!this.input || !this.template) {\n\t\t\treturn;\n\t\t}\n\t\tif (this.template.navbar.switch(tab)) {\n\t\t\treturn;\n\t\t}\n\t\t// Fallback to Readme tab if ExtensionPack tab does not exist\n\t\tif (tab === ExtensionEditorTab.ExtensionPack) {\n\t\t\tthis.template.navbar.switch(ExtensionEditorTab.Readme);\n\t\t}\n\t}\n\n\tprivate async getGalleryVersionToShow(extension: IExtension, preRelease?: boolean): Promise<IGalleryExtension | null> {\n\t\tif (extension.resourceExtension) {\n\t\t\treturn null;\n\t\t}\n\t\tif (extension.local?.source === 'resource') {\n\t\t\treturn null;\n\t\t}\n\t\tif (isUndefined(preRelease)) {\n\t\t\treturn null;\n\t\t}\n\t\tif (preRelease === extension.gallery?.properties.isPreReleaseVersion) {\n\t\t\treturn null;\n\t\t}\n\t\tif (preRelease && !extension.hasPreReleaseVersion) {\n\t\t\treturn null;\n\t\t}\n\t\tif (!preRelease && !extension.hasReleaseVersion) {\n\t\t\treturn null;\n\t\t}\n\t\treturn (await this.extensionGalleryService.getExtensions([{ ...extension.identifier, preRelease, hasPreRelease: extension.hasPreReleaseVersion }], CancellationToken.None))[0] || null;\n\t}\n\n\tprivate async render(extension: IExtension, template: IExtensionEditorTemplate, preserveFocus: boolean): Promise<void> {\n\t\tthis.activeElement = null;\n\t\tthis.transientDisposables.clear();\n\n\t\tconst token = this.transientDisposables.add(new CancellationTokenSource()).token;\n\n\t\tconst gallery = await this.getGalleryVersionToShow(extension, (this.options as IExtensionEditorOptions)?.showPreReleaseVersion);\n\t\tif (token.isCancellationRequested) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.extensionReadme = new Cache(() => gallery ? this.extensionGalleryService.getReadme(gallery, token) : extension.getReadme(token));\n\t\tthis.extensionChangelog = new Cache(() => gallery ? this.extensionGalleryService.getChangelog(gallery, token) : extension.getChangelog(token));\n\t\tthis.extensionManifest = new Cache(() => gallery ? this.extensionGalleryService.getManifest(gallery, token) : extension.getManifest(token));\n\n\t\ttemplate.extension = extension;\n\t\ttemplate.gallery = gallery;\n\t\ttemplate.manifest = null;\n\n\t\ttemplate.name.textContent = extension.displayName;\n\t\ttemplate.name.classList.toggle('clickable', !!extension.url);\n\t\ttemplate.name.classList.toggle('deprecated', !!extension.deprecationInfo);\n\t\ttemplate.preview.style.display = extension.preview ? 'inherit' : 'none';\n\t\ttemplate.builtin.style.display = extension.isBuiltin ? 'inherit' : 'none';\n\n\t\ttemplate.description.textContent = extension.description;\n\n\t\tif (extension.url) {\n\t\t\tthis.transientDisposables.add(onClick(template.name, () => this.openerService.open(URI.parse(extension.url!))));\n\t\t}\n\n\t\tconst manifest = await this.extensionManifest.get().promise;\n\t\tif (token.isCancellationRequested) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (manifest) {\n\t\t\ttemplate.manifest = manifest;\n\t\t}\n\n\t\tthis.renderNavbar(extension, manifest, template, preserveFocus);\n\n\t\t// report telemetry\n\t\tconst extRecommendations = this.extensionRecommendationsService.getAllRecommendationsWithReason();\n\t\tlet recommendationsData = {};\n\t\tif (extRecommendations[extension.identifier.id.toLowerCase()]) {\n\t\t\trecommendationsData = { recommendationReason: extRecommendations[extension.identifier.id.toLowerCase()].reasonId };\n\t\t}\n\t\t/* __GDPR__\n\t\t\"extensionGallery:openExtension\" : {\n\t\t\t\"owner\": \"sandy081\",\n\t\t\t\"recommendationReason\": { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\", \"isMeasurement\": true },\n\t\t\t\"${include}\": [\n\t\t\t\t\"${GalleryExtensionTelemetryData}\"\n\t\t\t]\n\t\t}\n\t\t*/\n\t\tthis.telemetryService.publicLog('extensionGallery:openExtension', { ...extension.telemetryData, ...recommendationsData });\n\n\t}\n\n\tprivate renderNavbar(extension: IExtension, manifest: IExtensionManifest | null, template: IExtensionEditorTemplate, preserveFocus: boolean): void {\n\t\ttemplate.content.innerText = '';\n\t\ttemplate.navbar.clear();\n\n\t\tif (this.currentIdentifier !== extension.identifier.id) {\n\t\t\tthis.initialScrollProgress.clear();\n\t\t\tthis.currentIdentifier = extension.identifier.id;\n\t\t}\n\n\t\ttemplate.navbar.push(ExtensionEditorTab.Readme, localize('details', \"Details\"), localize('detailstooltip', \"Extension details, rendered from the extension's 'README.md' file\"));\n\t\tif (manifest) {\n\t\t\ttemplate.navbar.push(ExtensionEditorTab.Features, localize('features', \"Features\"), localize('featurestooltip', \"Lists features contributed by this extension\"));\n\t\t}\n\t\tif (extension.hasChangelog()) {\n\t\t\ttemplate.navbar.push(ExtensionEditorTab.Changelog, localize('changelog', \"Changelog\"), localize('changelogtooltip', \"Extension update history, rendered from the extension's 'CHANGELOG.md' file\"));\n\t\t}\n\t\tif (extension.dependencies.length) {\n\t\t\ttemplate.navbar.push(ExtensionEditorTab.Dependencies, localize('dependencies', \"Dependencies\"), localize('dependenciestooltip', \"Lists extensions this extension depends on\"));\n\t\t}\n\t\tif (manifest && manifest.extensionPack?.length && !this.shallRenderAsExtensionPack(manifest)) {\n\t\t\ttemplate.navbar.push(ExtensionEditorTab.ExtensionPack, localize('extensionpack', \"Extension Pack\"), localize('extensionpacktooltip', \"Lists extensions those will be installed together with this extension\"));\n\t\t}\n\n\t\tif ((<IExtensionEditorOptions | undefined>this.options)?.tab) {\n\t\t\ttemplate.navbar.switch((<IExtensionEditorOptions>this.options).tab!);\n\t\t}\n\t\tif (template.navbar.currentId) {\n\t\t\tthis.onNavbarChange(extension, { id: template.navbar.currentId, focus: !preserveFocus }, template);\n\t\t}\n\t\ttemplate.navbar.onChange(e => this.onNavbarChange(extension, e, template), this, this.transientDisposables);\n\t}\n\n\toverride clearInput(): void {\n\t\tthis.contentDisposables.clear();\n\t\tthis.transientDisposables.clear();\n\n\t\tsuper.clearInput();\n\t}\n\n\toverride focus(): void {\n\t\tsuper.focus();\n\t\tthis.activeElement?.focus();\n\t}\n\n\tshowFind(): void {\n\t\tthis.activeWebview?.showFind();\n\t}\n\n\trunFindAction(previous: boolean): void {\n\t\tthis.activeWebview?.runFindAction(previous);\n\t}\n\n\tpublic get activeWebview(): IWebview | undefined {\n\t\tif (!this.activeElement || !(this.activeElement as IWebview).runFindAction) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn this.activeElement as IWebview;\n\t}\n\n\tprivate onNavbarChange(extension: IExtension, { id, focus }: { id: string | null; focus: boolean }, template: IExtensionEditorTemplate): void {\n\t\tthis.contentDisposables.clear();\n\t\ttemplate.content.innerText = '';\n\t\tthis.activeElement = null;\n\t\tif (id) {\n\t\t\tconst cts = new CancellationTokenSource();\n\t\t\tthis.contentDisposables.add(toDisposable(() => cts.dispose(true)));\n\t\t\tthis.open(id, extension, template, cts.token)\n\t\t\t\t.then(activeElement => {\n\t\t\t\t\tif (cts.token.isCancellationRequested) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis.activeElement = activeElement;\n\t\t\t\t\tif (focus) {\n\t\t\t\t\t\tthis.focus();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t}\n\n\tprivate open(id: string, extension: IExtension, template: IExtensionEditorTemplate, token: CancellationToken): Promise<IActiveElement | null> {\n\t\tswitch (id) {\n\t\t\tcase ExtensionEditorTab.Readme: return this.openDetails(extension, template, token);\n\t\t\tcase ExtensionEditorTab.Features: return this.openFeatures(template, token);\n\t\t\tcase ExtensionEditorTab.Changelog: return this.openChangelog(extension, template, token);\n\t\t\tcase ExtensionEditorTab.Dependencies: return this.openExtensionDependencies(extension, template, token);\n\t\t\tcase ExtensionEditorTab.ExtensionPack: return this.openExtensionPack(extension, template, token);\n\t\t}\n\t\treturn Promise.resolve(null);\n\t}\n\n\tprivate async openMarkdown(extension: IExtension, cacheResult: CacheResult<string>, noContentCopy: string, container: HTMLElement, webviewIndex: WebviewIndex, title: string, token: CancellationToken): Promise<IActiveElement | null> {\n\t\ttry {\n\t\t\tconst body = await this.renderMarkdown(extension, cacheResult, container, token);\n\t\t\tif (token.isCancellationRequested) {\n\t\t\t\treturn Promise.resolve(null);\n\t\t\t}\n\n\t\t\tconst webview = this.contentDisposables.add(this.webviewService.createWebviewOverlay({\n\t\t\t\ttitle,\n\t\t\t\toptions: {\n\t\t\t\t\tenableFindWidget: true,\n\t\t\t\t\ttryRestoreScrollPosition: true,\n\t\t\t\t\tdisableServiceWorker: true,\n\t\t\t\t},\n\t\t\t\tcontentOptions: {},\n\t\t\t\textension: undefined,\n\t\t\t}));\n\n\t\t\twebview.initialScrollProgress = this.initialScrollProgress.get(webviewIndex) || 0;\n\n\t\t\twebview.claim(this, this.window, this.scopedContextKeyService);\n\t\t\tsetParentFlowTo(webview.container, container);\n\t\t\twebview.layoutWebviewOverElement(container);\n\n\t\t\twebview.setHtml(body);\n\t\t\twebview.claim(this, this.window, undefined);\n\n\t\t\tthis.contentDisposables.add(webview.onDidFocus(() => this._onDidFocus?.fire()));\n\n\t\t\tthis.contentDisposables.add(webview.onDidScroll(() => this.initialScrollProgress.set(webviewIndex, webview.initialScrollProgress)));\n\n\t\t\tconst removeLayoutParticipant = arrays.insert(this.layoutParticipants, {\n\t\t\t\tlayout: () => {\n\t\t\t\t\twebview.layoutWebviewOverElement(container);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.contentDisposables.add(toDisposable(removeLayoutParticipant));\n\n\t\t\tlet isDisposed = false;\n\t\t\tthis.contentDisposables.add(toDisposable(() => { isDisposed = true; }));\n\n\t\t\tthis.contentDisposables.add(this.themeService.onDidColorThemeChange(async () => {\n\t\t\t\t// Render again since syntax highlighting of code blocks may have changed\n\t\t\t\tconst body = await this.renderMarkdown(extension, cacheResult, container);\n\t\t\t\tif (!isDisposed) { // Make sure we weren't disposed of in the meantime\n\t\t\t\t\twebview.setHtml(body);\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\tthis.contentDisposables.add(webview.onDidClickLink(link => {\n\t\t\t\tif (!link) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// Only allow links with specific schemes\n\t\t\t\tif (matchesScheme(link, Schemas.http) || matchesScheme(link, Schemas.https) || matchesScheme(link, Schemas.mailto)) {\n\t\t\t\t\tthis.openerService.open(link);\n\t\t\t\t} else if (matchesScheme(link, Schemas.command) && extension.type === ExtensionType.System) {\n\t\t\t\t\tthis.openerService.open(link, {\n\t\t\t\t\t\tallowCommands: [\n\t\t\t\t\t\t\tShowCurrentReleaseNotesActionId\n\t\t\t\t\t\t]\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\treturn webview;\n\t\t} catch (e) {\n\t\t\tconst p = append(container, $('p.nocontent'));\n\t\t\tp.textContent = noContentCopy;\n\t\t\treturn p;\n\t\t}\n\t}\n\n\tprivate async renderMarkdown(extension: IExtension, cacheResult: CacheResult<string>, container: HTMLElement, token?: CancellationToken): Promise<string> {\n\t\tconst contents = await this.loadContents(() => cacheResult, container);\n\t\tif (token?.isCancellationRequested) {\n\t\t\treturn '';\n\t\t}\n\n\t\tconst allowedLinkProtocols = [Schemas.http, Schemas.https, Schemas.mailto];\n\t\tconst content = await renderMarkdownDocument(contents, this.extensionService, this.languageService, {\n\t\t\tsanitizerConfig: {\n\t\t\t\tallowedLinkProtocols: {\n\t\t\t\t\toverride: extension.type === ExtensionType.System\n\t\t\t\t\t\t? [...allowedLinkProtocols, Schemas.command]\n\t\t\t\t\t\t: allowedLinkProtocols\n\t\t\t\t}\n\t\t\t}\n\t\t}, token);\n\t\tif (token?.isCancellationRequested) {\n\t\t\treturn '';\n\t\t}\n\n\t\treturn this.renderBody(content);\n\t}\n\n\tprivate renderBody(body: TrustedHTML): string {\n\t\tconst nonce = generateUuid();\n\t\tconst colorMap = TokenizationRegistry.getColorMap();\n\t\tconst css = colorMap ? generateTokensCSSForColorMap(colorMap) : '';\n\t\treturn `<!DOCTYPE html>\n\t\t<html>\n\t\t\t<head>\n\t\t\t\t<meta http-equiv=\"Content-type\" content=\"text/html;charset=UTF-8\">\n\t\t\t\t<meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'none'; img-src https: data:; media-src https:; script-src 'none'; style-src 'nonce-${nonce}';\">\n\t\t\t\t<style nonce=\"${nonce}\">\n\t\t\t\t\t${DEFAULT_MARKDOWN_STYLES}\n\n\t\t\t\t\t/* prevent scroll-to-top button from blocking the body text */\n\t\t\t\t\tbody {\n\t\t\t\t\t\tpadding-bottom: 75px;\n\t\t\t\t\t}\n\n\t\t\t\t\t#scroll-to-top {\n\t\t\t\t\t\tposition: fixed;\n\t\t\t\t\t\twidth: 32px;\n\t\t\t\t\t\theight: 32px;\n\t\t\t\t\t\tright: 25px;\n\t\t\t\t\t\tbottom: 25px;\n\t\t\t\t\t\tbackground-color: var(--vscode-button-secondaryBackground);\n\t\t\t\t\t\tborder-color: var(--vscode-button-border);\n\t\t\t\t\t\tborder-radius: 50%;\n\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\tbox-shadow: 1px 1px 1px rgba(0,0,0,.25);\n\t\t\t\t\t\toutline: none;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t}\n\n\t\t\t\t\t#scroll-to-top:hover {\n\t\t\t\t\t\tbackground-color: var(--vscode-button-secondaryHoverBackground);\n\t\t\t\t\t\tbox-shadow: 2px 2px 2px rgba(0,0,0,.25);\n\t\t\t\t\t}\n\n\t\t\t\t\tbody.vscode-high-contrast #scroll-to-top {\n\t\t\t\t\t\tborder-width: 2px;\n\t\t\t\t\t\tborder-style: solid;\n\t\t\t\t\t\tbox-shadow: none;\n\t\t\t\t\t}\n\n\t\t\t\t\t#scroll-to-top span.icon::before {\n\t\t\t\t\t\tcontent: \"\";\n\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\tbackground: var(--vscode-button-secondaryForeground);\n\t\t\t\t\t\t/* Chevron up icon */\n\t\t\t\t\t\twebkit-mask-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjIuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxNiAxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTYgMTY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRkZGRkZGO30KCS5zdDF7ZmlsbDpub25lO30KPC9zdHlsZT4KPHRpdGxlPnVwY2hldnJvbjwvdGl0bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik04LDUuMWwtNy4zLDcuM0wwLDExLjZsOC04bDgsOGwtMC43LDAuN0w4LDUuMXoiLz4KPHJlY3QgY2xhc3M9InN0MSIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ii8+Cjwvc3ZnPgo=');\n\t\t\t\t\t\t-webkit-mask-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjIuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxNiAxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTYgMTY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRkZGRkZGO30KCS5zdDF7ZmlsbDpub25lO30KPC9zdHlsZT4KPHRpdGxlPnVwY2hldnJvbjwvdGl0bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik04LDUuMWwtNy4zLDcuM0wwLDExLjZsOC04bDgsOGwtMC43LDAuN0w4LDUuMXoiLz4KPHJlY3QgY2xhc3M9InN0MSIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ii8+Cjwvc3ZnPgo=');\n\t\t\t\t\t\twidth: 16px;\n\t\t\t\t\t\theight: 16px;\n\t\t\t\t\t}\n\t\t\t\t\t${css}\n\t\t\t\t</style>\n\t\t\t</head>\n\t\t\t<body>\n\t\t\t\t<a id=\"scroll-to-top\" role=\"button\" aria-label=\"scroll to top\" href=\"#\"><span class=\"icon\"></span></a>\n\t\t\t\t${body}\n\t\t\t</body>\n\t\t</html>`;\n\t}\n\n\tprivate async openDetails(extension: IExtension, template: IExtensionEditorTemplate, token: CancellationToken): Promise<IActiveElement | null> {\n\t\tconst details = append(template.content, $('.details'));\n\t\tconst readmeContainer = append(details, $('.readme-container'));\n\t\tconst additionalDetailsContainer = append(details, $('.additional-details-container'));\n\n\t\tconst layout = () => details.classList.toggle('narrow', this.dimension && this.dimension.width < 500);\n\t\tlayout();\n\t\tthis.contentDisposables.add(toDisposable(arrays.insert(this.layoutParticipants, { layout })));\n\n\t\tlet activeElement: IActiveElement | null = null;\n\t\tconst manifest = await this.extensionManifest!.get().promise;\n\t\tif (manifest && manifest.extensionPack?.length && this.shallRenderAsExtensionPack(manifest)) {\n\t\t\tactiveElement = await this.openExtensionPackReadme(extension, manifest, readmeContainer, token);\n\t\t} else {\n\t\t\tactiveElement = await this.openMarkdown(extension, this.extensionReadme!.get(), localize('noReadme', \"No README available.\"), readmeContainer, WebviewIndex.Readme, localize('Readme title', \"Readme\"), token);\n\t\t}\n\n\t\tthis.renderAdditionalDetails(additionalDetailsContainer, extension);\n\t\treturn activeElement;\n\t}\n\n\tprivate shallRenderAsExtensionPack(manifest: IExtensionManifest): boolean {\n\t\treturn !!(manifest.categories?.some(category => category.toLowerCase() === 'extension packs'));\n\t}\n\n\tprivate async openExtensionPackReadme(extension: IExtension, manifest: IExtensionManifest, container: HTMLElement, token: CancellationToken): Promise<IActiveElement | null> {\n\t\tif (token.isCancellationRequested) {\n\t\t\treturn Promise.resolve(null);\n\t\t}\n\n\t\tconst extensionPackReadme = append(container, $('div', { class: 'extension-pack-readme' }));\n\t\textensionPackReadme.style.margin = '0 auto';\n\t\textensionPackReadme.style.maxWidth = '882px';\n\n\t\tconst extensionPack = append(extensionPackReadme, $('div', { class: 'extension-pack' }));\n\t\tif (manifest.extensionPack!.length <= 3) {\n\t\t\textensionPackReadme.classList.add('one-row');\n\t\t} else if (manifest.extensionPack!.length <= 6) {\n\t\t\textensionPackReadme.classList.add('two-rows');\n\t\t} else if (manifest.extensionPack!.length <= 9) {\n\t\t\textensionPackReadme.classList.add('three-rows');\n\t\t} else {\n\t\t\textensionPackReadme.classList.add('more-rows');\n\t\t}\n\n\t\tconst extensionPackHeader = append(extensionPack, $('div.header'));\n\t\textensionPackHeader.textContent = localize('extension pack', \"Extension Pack ({0})\", manifest.extensionPack!.length);\n\t\tconst extensionPackContent = append(extensionPack, $('div', { class: 'extension-pack-content' }));\n\t\textensionPackContent.setAttribute('tabindex', '0');\n\t\tappend(extensionPack, $('div.footer'));\n\t\tconst readmeContent = append(extensionPackReadme, $('div.readme-content'));\n\n\t\tawait Promise.all([\n\t\t\tthis.renderExtensionPack(manifest, extensionPackContent, token),\n\t\t\tthis.openMarkdown(extension, this.extensionReadme!.get(), localize('noReadme', \"No README available.\"), readmeContent, WebviewIndex.Readme, localize('Readme title', \"Readme\"), token),\n\t\t]);\n\n\t\treturn { focus: () => extensionPackContent.focus() };\n\t}\n\n\tprivate renderAdditionalDetails(container: HTMLElement, extension: IExtension): void {\n\t\tconst content = $('div', { class: 'additional-details-content', tabindex: '0' });\n\t\tconst scrollableContent = new DomScrollableElement(content, {});\n\t\tconst layout = () => scrollableContent.scanDomNode();\n\t\tconst removeLayoutParticipant = arrays.insert(this.layoutParticipants, { layout });\n\t\tthis.contentDisposables.add(toDisposable(removeLayoutParticipant));\n\t\tthis.contentDisposables.add(scrollableContent);\n\n\t\tthis.contentDisposables.add(this.instantiationService.createInstance(AdditionalDetailsWidget, content, extension));\n\n\t\tappend(container, scrollableContent.getDomNode());\n\t\tscrollableContent.scanDomNode();\n\t}\n\n\tprivate openChangelog(extension: IExtension, template: IExtensionEditorTemplate, token: CancellationToken): Promise<IActiveElement | null> {\n\t\treturn this.openMarkdown(extension, this.extensionChangelog!.get(), localize('noChangelog', \"No Changelog available.\"), template.content, WebviewIndex.Changelog, localize('Changelog title', \"Changelog\"), token);\n\t}\n\n\tprivate async openFeatures(template: IExtensionEditorTemplate, token: CancellationToken): Promise<IActiveElement | null> {\n\t\tconst manifest = await this.loadContents(() => this.extensionManifest!.get(), template.content);\n\t\tif (token.isCancellationRequested) {\n\t\t\treturn null;\n\t\t}\n\t\tif (!manifest) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst extensionFeaturesTab = this.contentDisposables.add(this.instantiationService.createInstance(ExtensionFeaturesTab, manifest, (<IExtensionEditorOptions | undefined>this.options)?.feature));\n\t\tconst layout = () => extensionFeaturesTab.layout(template.content.clientHeight, template.content.clientWidth);\n\t\tconst removeLayoutParticipant = arrays.insert(this.layoutParticipants, { layout });\n\t\tthis.contentDisposables.add(toDisposable(removeLayoutParticipant));\n\t\tappend(template.content, extensionFeaturesTab.domNode);\n\t\tlayout();\n\t\treturn extensionFeaturesTab.domNode;\n\t}\n\n\tprivate openExtensionDependencies(extension: IExtension, template: IExtensionEditorTemplate, token: CancellationToken): Promise<IActiveElement | null> {\n\t\tif (token.isCancellationRequested) {\n\t\t\treturn Promise.resolve(null);\n\t\t}\n\n\t\tif (arrays.isFalsyOrEmpty(extension.dependencies)) {\n\t\t\tappend(template.content, $('p.nocontent')).textContent = localize('noDependencies', \"No Dependencies\");\n\t\t\treturn Promise.resolve(template.content);\n\t\t}\n\n\t\tconst content = $('div', { class: 'subcontent' });\n\t\tconst scrollableContent = new DomScrollableElement(content, {});\n\t\tappend(template.content, scrollableContent.getDomNode());\n\t\tthis.contentDisposables.add(scrollableContent);\n\n\t\tconst dependenciesTree = this.instantiationService.createInstance(ExtensionsTree,\n\t\t\tnew ExtensionData(extension, null, extension => extension.dependencies || [], this.extensionsWorkbenchService), content,\n\t\t\t{\n\t\t\t\tlistBackground: editorBackground\n\t\t\t});\n\t\tconst layout = () => {\n\t\t\tscrollableContent.scanDomNode();\n\t\t\tconst scrollDimensions = scrollableContent.getScrollDimensions();\n\t\t\tdependenciesTree.layout(scrollDimensions.height);\n\t\t};\n\t\tconst removeLayoutParticipant = arrays.insert(this.layoutParticipants, { layout });\n\t\tthis.contentDisposables.add(toDisposable(removeLayoutParticipant));\n\n\t\tthis.contentDisposables.add(dependenciesTree);\n\t\tscrollableContent.scanDomNode();\n\t\treturn Promise.resolve({ focus() { dependenciesTree.domFocus(); } });\n\t}\n\n\tprivate async openExtensionPack(extension: IExtension, template: IExtensionEditorTemplate, token: CancellationToken): Promise<IActiveElement | null> {\n\t\tif (token.isCancellationRequested) {\n\t\t\treturn Promise.resolve(null);\n\t\t}\n\t\tconst manifest = await this.loadContents(() => this.extensionManifest!.get(), template.content);\n\t\tif (token.isCancellationRequested) {\n\t\t\treturn null;\n\t\t}\n\t\tif (!manifest) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this.renderExtensionPack(manifest, template.content, token);\n\t}\n\n\tprivate async renderExtensionPack(manifest: IExtensionManifest, parent: HTMLElement, token: CancellationToken): Promise<IActiveElement | null> {\n\t\tif (token.isCancellationRequested) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst content = $('div', { class: 'subcontent' });\n\t\tconst scrollableContent = new DomScrollableElement(content, { useShadows: false });\n\t\tappend(parent, scrollableContent.getDomNode());\n\n\t\tconst extensionsGridView = this.instantiationService.createInstance(ExtensionsGridView, content, new Delegate());\n\t\tconst extensions: IExtension[] = await getExtensions(manifest.extensionPack!, this.extensionsWorkbenchService);\n\t\textensionsGridView.setExtensions(extensions);\n\t\tscrollableContent.scanDomNode();\n\n\t\tthis.contentDisposables.add(scrollableContent);\n\t\tthis.contentDisposables.add(extensionsGridView);\n\t\tthis.contentDisposables.add(toDisposable(arrays.insert(this.layoutParticipants, { layout: () => scrollableContent.scanDomNode() })));\n\n\t\treturn content;\n\t}\n\n\tprivate loadContents<T>(loadingTask: () => CacheResult<T>, container: HTMLElement): Promise<T> {\n\t\tcontainer.classList.add('loading');\n\n\t\tconst result = this.contentDisposables.add(loadingTask());\n\t\tconst onDone = () => container.classList.remove('loading');\n\t\tresult.promise.then(onDone, onDone);\n\n\t\treturn result.promise;\n\t}\n\n\tlayout(dimension: Dimension): void {\n\t\tthis.dimension = dimension;\n\t\tthis.layoutParticipants.forEach(p => p.layout());\n\t}\n\n\tprivate onError(err: any): void {\n\t\tif (isCancellationError(err)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.notificationService.error(err);\n\t}\n}\n\nclass AdditionalDetailsWidget extends Disposable {\n\n\tprivate readonly disposables = this._register(new DisposableStore());\n\n\tconstructor(\n\t\tprivate readonly container: HTMLElement,\n\t\textension: IExtension,\n\t\t@IHoverService private readonly hoverService: IHoverService,\n\t\t@IOpenerService private readonly openerService: IOpenerService,\n\t\t@IUserDataProfilesService private readonly userDataProfilesService: IUserDataProfilesService,\n\t\t@IRemoteAgentService private readonly remoteAgentService: IRemoteAgentService,\n\t\t@IFileService private readonly fileService: IFileService,\n\t\t@IUriIdentityService private readonly uriIdentityService: IUriIdentityService,\n\t\t@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IExtensionGalleryManifestService private readonly extensionGalleryManifestService: IExtensionGalleryManifestService,\n\t) {\n\t\tsuper();\n\t\tthis.render(extension);\n\t\tthis._register(this.extensionsWorkbenchService.onChange(e => {\n\t\t\tif (e && areSameExtensions(e.identifier, extension.identifier) && e.server === extension.server) {\n\t\t\t\tthis.render(e);\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate render(extension: IExtension): void {\n\t\tthis.container.innerText = '';\n\t\tthis.disposables.clear();\n\n\t\tif (extension.local) {\n\t\t\tthis.renderInstallInfo(this.container, extension.local);\n\t\t}\n\t\tif (extension.gallery) {\n\t\t\tthis.renderMarketplaceInfo(this.container, extension);\n\t\t}\n\t\tthis.renderCategories(this.container, extension);\n\t\tthis.renderExtensionResources(this.container, extension);\n\t}\n\n\tprivate renderCategories(container: HTMLElement, extension: IExtension): void {\n\t\tif (extension.categories.length) {\n\t\t\tconst categoriesContainer = append(container, $('.categories-container.additional-details-element'));\n\t\t\tappend(categoriesContainer, $('.additional-details-title', undefined, localize('categories', \"Categories\")));\n\t\t\tconst categoriesElement = append(categoriesContainer, $('.categories'));\n\t\t\tthis.extensionGalleryManifestService.getExtensionGalleryManifest()\n\t\t\t\t.then(manifest => {\n\t\t\t\t\tconst hasCategoryFilter = manifest?.capabilities.extensionQuery.filtering?.some(({ name }) => name === FilterType.Category);\n\t\t\t\t\tfor (const category of extension.categories) {\n\t\t\t\t\t\tconst categoryElement = append(categoriesElement, $('span.category', { tabindex: '0' }, category));\n\t\t\t\t\t\tif (hasCategoryFilter) {\n\t\t\t\t\t\t\tcategoryElement.classList.add('clickable');\n\t\t\t\t\t\t\tthis.disposables.add(onClick(categoryElement, () => this.extensionsWorkbenchService.openSearch(`@category:\"${category}\"`)));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t}\n\n\tprivate renderExtensionResources(container: HTMLElement, extension: IExtension): void {\n\t\tconst resources: [string, ThemeIcon, URI][] = [];\n\t\tif (extension.repository) {\n\t\t\ttry {\n\t\t\t\tresources.push([localize('repository', \"Repository\"), ThemeIcon.fromId(Codicon.repo.id), URI.parse(extension.repository)]);\n\t\t\t} catch (error) {/* Ignore */ }\n\t\t}\n\t\tif (extension.supportUrl) {\n\t\t\ttry {\n\t\t\t\tresources.push([localize('issues', \"Issues\"), ThemeIcon.fromId(Codicon.issues.id), URI.parse(extension.supportUrl)]);\n\t\t\t} catch (error) {/* Ignore */ }\n\t\t}\n\t\tif (extension.licenseUrl) {\n\t\t\ttry {\n\t\t\t\tresources.push([localize('license', \"License\"), ThemeIcon.fromId(Codicon.linkExternal.id), URI.parse(extension.licenseUrl)]);\n\t\t\t} catch (error) {/* Ignore */ }\n\t\t}\n\t\tif (extension.publisherUrl) {\n\t\t\tresources.push([extension.publisherDisplayName, ThemeIcon.fromId(Codicon.linkExternal.id), extension.publisherUrl]);\n\t\t}\n\t\tif (extension.url) {\n\t\t\tresources.push([localize('Marketplace', \"Marketplace\"), ThemeIcon.fromId(Codicon.linkExternal.id), URI.parse(extension.url)]);\n\t\t}\n\t\tif (resources.length || extension.publisherSponsorLink) {\n\t\t\tconst extensionResourcesContainer = append(container, $('.resources-container.additional-details-element'));\n\t\t\tappend(extensionResourcesContainer, $('.additional-details-title', undefined, localize('resources', \"Resources\")));\n\t\t\tconst resourcesElement = append(extensionResourcesContainer, $('.resources'));\n\t\t\tfor (const [label, icon, uri] of resources) {\n\t\t\t\tconst resourceElement = append(resourcesElement, $('.resource'));\n\t\t\t\tappend(resourceElement, $(ThemeIcon.asCSSSelector(icon)));\n\t\t\t\tappend(resourceElement, $('a', { tabindex: '0' }, label));\n\t\t\t\tthis.disposables.add(onClick(resourceElement, () => this.openerService.open(uri)));\n\t\t\t\tthis.disposables.add(this.hoverService.setupManagedHover(getDefaultHoverDelegate('mouse'), resourceElement, uri.toString()));\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate renderInstallInfo(container: HTMLElement, extension: ILocalExtension): void {\n\t\tconst installInfoContainer = append(container, $('.more-info-container.additional-details-element'));\n\t\tappend(installInfoContainer, $('.additional-details-title', undefined, localize('Install Info', \"Installation\")));\n\t\tconst installInfo = append(installInfoContainer, $('.more-info'));\n\t\tappend(installInfo,\n\t\t\t$('.more-info-entry', undefined,\n\t\t\t\t$('div.more-info-entry-name', undefined, localize('id', \"Identifier\")),\n\t\t\t\t$('code', undefined, extension.identifier.id)\n\t\t\t));\n\t\tif (extension.type !== ExtensionType.System) {\n\t\t\tappend(installInfo,\n\t\t\t\t$('.more-info-entry', undefined,\n\t\t\t\t\t$('div.more-info-entry-name', undefined, localize('Version', \"Version\")),\n\t\t\t\t\t$('code', undefined, extension.manifest.version)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t\tif (extension.installedTimestamp) {\n\t\t\tappend(installInfo,\n\t\t\t\t$('.more-info-entry', undefined,\n\t\t\t\t\t$('div.more-info-entry-name', undefined, localize('last updated', \"Last Updated\")),\n\t\t\t\t\t$('div', {\n\t\t\t\t\t\t'title': new Date(extension.installedTimestamp).toString()\n\t\t\t\t\t}, fromNow(extension.installedTimestamp, true, true, true))\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t\tif (!extension.isBuiltin && extension.source !== 'gallery') {\n\t\t\tconst element = $('div', undefined, extension.source === 'vsix' ? localize('vsix', \"VSIX\") : localize('other', \"Local\"));\n\t\t\tappend(installInfo,\n\t\t\t\t$('.more-info-entry', undefined,\n\t\t\t\t\t$('div.more-info-entry-name', undefined, localize('source', \"Source\")),\n\t\t\t\t\telement\n\t\t\t\t)\n\t\t\t);\n\t\t\tif (isNative && extension.source === 'resource' && extension.location.scheme === Schemas.file) {\n\t\t\t\telement.classList.add('link');\n\t\t\t\telement.title = extension.location.fsPath;\n\t\t\t\tthis.disposables.add(onClick(element, () => this.openerService.open(extension.location, { openExternal: true })));\n\t\t\t}\n\t\t}\n\t\tif (extension.size) {\n\t\t\tconst element = $('div', undefined, ByteSize.formatSize(extension.size));\n\t\t\tappend(installInfo,\n\t\t\t\t$('.more-info-entry', undefined,\n\t\t\t\t\t$('div.more-info-entry-name', { title: localize('size when installed', \"Size when installed\") }, localize('size', \"Size\")),\n\t\t\t\t\telement\n\t\t\t\t)\n\t\t\t);\n\t\t\tif (isNative && extension.location.scheme === Schemas.file) {\n\t\t\t\telement.classList.add('link');\n\t\t\t\telement.title = extension.location.fsPath;\n\t\t\t\tthis.disposables.add(onClick(element, () => this.openerService.open(extension.location, { openExternal: true })));\n\t\t\t}\n\t\t}\n\t\tthis.getCacheLocation(extension).then(cacheLocation => {\n\t\t\tif (!cacheLocation) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tcomputeSize(cacheLocation, this.fileService).then(cacheSize => {\n\t\t\t\tif (!cacheSize) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst element = $('div', undefined, ByteSize.formatSize(cacheSize));\n\t\t\t\tappend(installInfo,\n\t\t\t\t\t$('.more-info-entry', undefined,\n\t\t\t\t\t\t$('div.more-info-entry-name', { title: localize('disk space used', \"Cache size\") }, localize('cache size', \"Cache\")),\n\t\t\t\t\t\telement)\n\t\t\t\t);\n\t\t\t\tif (isNative && extension.location.scheme === Schemas.file) {\n\t\t\t\t\telement.classList.add('link');\n\t\t\t\t\telement.title = cacheLocation.fsPath;\n\t\t\t\t\tthis.disposables.add(onClick(element, () => this.openerService.open(cacheLocation.with({ scheme: Schemas.file }), { openExternal: true })));\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\tprivate async getCacheLocation(extension: ILocalExtension): Promise<URI | undefined> {\n\t\tlet extensionCacheLocation = this.uriIdentityService.extUri.joinPath(this.userDataProfilesService.defaultProfile.globalStorageHome, extension.identifier.id.toLowerCase());\n\t\tif (extension.location.scheme === Schemas.vscodeRemote) {\n\t\t\tconst environment = await this.remoteAgentService.getEnvironment();\n\t\t\tif (!environment) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\textensionCacheLocation = this.uriIdentityService.extUri.joinPath(environment.globalStorageHome, extension.identifier.id.toLowerCase());\n\t\t}\n\t\treturn extensionCacheLocation;\n\t}\n\n\tprivate renderMarketplaceInfo(container: HTMLElement, extension: IExtension): void {\n\t\tconst gallery = extension.gallery;\n\t\tconst moreInfoContainer = append(container, $('.more-info-container.additional-details-element'));\n\t\tappend(moreInfoContainer, $('.additional-details-title', undefined, localize('Marketplace Info', \"Marketplace\")));\n\t\tconst moreInfo = append(moreInfoContainer, $('.more-info'));\n\t\tif (gallery) {\n\t\t\tif (!extension.local) {\n\t\t\t\tappend(moreInfo,\n\t\t\t\t\t$('.more-info-entry', undefined,\n\t\t\t\t\t\t$('div.more-info-entry-name', undefined, localize('id', \"Identifier\")),\n\t\t\t\t\t\t$('code', undefined, extension.identifier.id)\n\t\t\t\t\t));\n\t\t\t\tappend(moreInfo,\n\t\t\t\t\t$('.more-info-entry', undefined,\n\t\t\t\t\t\t$('div.more-info-entry-name', undefined, localize('Version', \"Version\")),\n\t\t\t\t\t\t$('code', undefined, gallery.version)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t\tappend(moreInfo,\n\t\t\t\t$('.more-info-entry', undefined,\n\t\t\t\t\t$('div.more-info-entry-name', undefined, localize('published', \"Published\")),\n\t\t\t\t\t$('div', {\n\t\t\t\t\t\t'title': new Date(gallery.releaseDate).toString()\n\t\t\t\t\t}, fromNow(gallery.releaseDate, true, true, true))\n\t\t\t\t),\n\t\t\t\t$('.more-info-entry', undefined,\n\t\t\t\t\t$('div.more-info-entry-name', undefined, localize('last released', \"Last Released\")),\n\t\t\t\t\t$('div', {\n\t\t\t\t\t\t'title': new Date(gallery.lastUpdated).toString()\n\t\t\t\t\t}, fromNow(gallery.lastUpdated, true, true, true))\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}\n}\n\nconst contextKeyExpr = ContextKeyExpr.and(ContextKeyExpr.equals('activeEditor', ExtensionEditor.ID), EditorContextKeys.focus.toNegated());\nregisterAction2(class ShowExtensionEditorFindAction extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'editor.action.extensioneditor.showfind',\n\t\t\ttitle: localize('find', \"Find\"),\n\t\t\tkeybinding: {\n\t\t\t\twhen: contextKeyExpr,\n\t\t\t\tweight: KeybindingWeight.EditorContrib,\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.KeyF,\n\t\t\t}\n\t\t});\n\t}\n\trun(accessor: ServicesAccessor): void {\n\t\tconst extensionEditor = getExtensionEditor(accessor);\n\t\textensionEditor?.showFind();\n\t}\n});\n\nregisterAction2(class StartExtensionEditorFindNextAction extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'editor.action.extensioneditor.findNext',\n\t\t\ttitle: localize('find next', \"Find Next\"),\n\t\t\tkeybinding: {\n\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\tcontextKeyExpr,\n\t\t\t\t\tKEYBINDING_CONTEXT_WEBVIEW_FIND_WIDGET_FOCUSED),\n\t\t\t\tprimary: KeyCode.Enter,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t}\n\t\t});\n\t}\n\trun(accessor: ServicesAccessor): void {\n\t\tconst extensionEditor = getExtensionEditor(accessor);\n\t\textensionEditor?.runFindAction(false);\n\t}\n});\n\nregisterAction2(class StartExtensionEditorFindPreviousAction extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'editor.action.extensioneditor.findPrevious',\n\t\t\ttitle: localize('find previous', \"Find Previous\"),\n\t\t\tkeybinding: {\n\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\tcontextKeyExpr,\n\t\t\t\t\tKEYBINDING_CONTEXT_WEBVIEW_FIND_WIDGET_FOCUSED),\n\t\t\t\tprimary: KeyMod.Shift | KeyCode.Enter,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t}\n\t\t});\n\t}\n\trun(accessor: ServicesAccessor): void {\n\t\tconst extensionEditor = getExtensionEditor(accessor);\n\t\textensionEditor?.runFindAction(true);\n\t}\n});\n\nregisterThemingParticipant((theme: IColorTheme, collector: ICssStyleCollector) => {\n\n\tconst link = theme.getColor(textLinkForeground);\n\tif (link) {\n\t\tcollector.addRule(`.monaco-workbench .extension-editor .content .details .additional-details-container .resources-container a.resource { color: ${link}; }`);\n\t\tcollector.addRule(`.monaco-workbench .extension-editor .content .feature-contributions a { color: ${link}; }`);\n\t}\n\n\tconst activeLink = theme.getColor(textLinkActiveForeground);\n\tif (activeLink) {\n\t\tcollector.addRule(`.monaco-workbench .extension-editor .content .details .additional-details-container .resources-container a.resource:hover,\n\t\t\t.monaco-workbench .extension-editor .content .details .additional-details-container .resources-container a.resource:active { color: ${activeLink}; }`);\n\t\tcollector.addRule(`.monaco-workbench .extension-editor .content .feature-contributions a:hover,\n\t\t\t.monaco-workbench .extension-editor .content .feature-contributions a:active { color: ${activeLink}; }`);\n\t}\n\n\tconst buttonHoverBackgroundColor = theme.getColor(buttonHoverBackground);\n\tif (buttonHoverBackgroundColor) {\n\t\tcollector.addRule(`.monaco-workbench .extension-editor .content > .details > .additional-details-container .categories-container > .categories > .category.clickable:hover { background-color: ${buttonHoverBackgroundColor}; border-color: ${buttonHoverBackgroundColor}; }`);\n\t}\n\n\tconst buttonForegroundColor = theme.getColor(buttonForeground);\n\tif (buttonForegroundColor) {\n\t\tcollector.addRule(`.monaco-workbench .extension-editor .content > .details > .additional-details-container .categories-container > .categories > .category.clickable:hover { color: ${buttonForegroundColor}; }`);\n\t}\n\n});\n\nfunction getExtensionEditor(accessor: ServicesAccessor): ExtensionEditor | null {\n\tconst activeEditorPane = accessor.get(IEditorService).activeEditorPane;\n\tif (activeEditorPane instanceof ExtensionEditor) {\n\t\treturn activeEditorPane;\n\t}\n\treturn null;\n}\n"]}