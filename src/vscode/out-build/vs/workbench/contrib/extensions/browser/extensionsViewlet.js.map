{"version":3,"sources":["vs/workbench/contrib/extensions/browser/extensionsViewlet.ts"],"names":[],"mappings":"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","file":"extensionsViewlet.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport './media/extensionsViewlet.css';\nimport { localize, localize2 } from '../../../../nls.js';\nimport { timeout, Delayer } from '../../../../base/common/async.js';\nimport { isCancellationError } from '../../../../base/common/errors.js';\nimport { createErrorWithActions } from '../../../../base/common/errorMessage.js';\nimport { IWorkbenchContribution } from '../../../common/contributions.js';\nimport { Disposable, DisposableStore, MutableDisposable } from '../../../../base/common/lifecycle.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { Action } from '../../../../base/common/actions.js';\nimport { append, $, Dimension, hide, show, DragAndDropObserver, trackFocus, addDisposableListener, EventType, clearNode } from '../../../../base/browser/dom.js';\nimport { ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IExtensionService } from '../../../services/extensions/common/extensions.js';\nimport { IExtensionsWorkbenchService, IExtensionsViewPaneContainer, VIEWLET_ID, CloseExtensionDetailsOnViewChangeKey, INSTALL_EXTENSION_FROM_VSIX_COMMAND_ID, WORKSPACE_RECOMMENDATIONS_VIEW_ID, AutoCheckUpdatesConfigurationKey, OUTDATED_EXTENSIONS_VIEW_ID, CONTEXT_HAS_GALLERY, extensionsSearchActionsMenu, AutoRestartConfigurationKey, ExtensionRuntimeActionType, SearchMcpServersContext, DefaultViewsContext, CONTEXT_EXTENSIONS_GALLERY_STATUS } from '../common/extensions.js';\nimport { InstallLocalExtensionsInRemoteAction, InstallRemoteExtensionsInLocalAction } from './extensionsActions.js';\nimport { IExtensionManagementService, ILocalExtension } from '../../../../platform/extensionManagement/common/extensionManagement.js';\nimport { IWorkbenchExtensionEnablementService, IExtensionManagementServerService, IExtensionManagementServer } from '../../../services/extensionManagement/common/extensionManagement.js';\nimport { ExtensionsInput } from '../common/extensionsInput.js';\nimport { ExtensionsListView, EnabledExtensionsView, DisabledExtensionsView, RecommendedExtensionsView, WorkspaceRecommendedExtensionsView, ServerInstalledExtensionsView, DefaultRecommendedExtensionsView, UntrustedWorkspaceUnsupportedExtensionsView, UntrustedWorkspacePartiallySupportedExtensionsView, VirtualWorkspaceUnsupportedExtensionsView, VirtualWorkspacePartiallySupportedExtensionsView, DefaultPopularExtensionsView, DeprecatedExtensionsView, SearchMarketplaceExtensionsView, RecentlyUpdatedExtensionsView, OutdatedExtensionsView, StaticQueryExtensionsView, NONE_CATEGORY, AbstractExtensionsListView } from './extensionsViews.js';\nimport { IProgressService, ProgressLocation } from '../../../../platform/progress/common/progress.js';\nimport { IEditorGroupsService } from '../../../services/editor/common/editorGroupsService.js';\nimport Severity from '../../../../base/common/severity.js';\nimport { IActivityService, IBadge, NumberBadge, WarningBadge } from '../../../services/activity/common/activity.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IViewsRegistry, IViewDescriptor, Extensions, ViewContainer, IViewDescriptorService, IAddedViewDescriptorRef, ViewContainerLocation } from '../../../common/views.js';\nimport { IStorageService, StorageScope, StorageTarget } from '../../../../platform/storage/common/storage.js';\nimport { IWorkspaceContextService } from '../../../../platform/workspace/common/workspace.js';\nimport { IContextKeyService, ContextKeyExpr, RawContextKey, IContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\nimport { INotificationService, IPromptChoice, NotificationPriority } from '../../../../platform/notification/common/notification.js';\nimport { IHostService } from '../../../services/host/browser/host.js';\nimport { IWorkbenchLayoutService } from '../../../services/layout/browser/layoutService.js';\nimport { ViewPaneContainer } from '../../../browser/parts/views/viewPaneContainer.js';\nimport { ViewPane } from '../../../browser/parts/views/viewPane.js';\nimport { Query } from '../common/extensionQuery.js';\nimport { SuggestEnabledInput } from '../../codeEditor/browser/suggestEnabledInput/suggestEnabledInput.js';\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { EXTENSION_CATEGORIES } from '../../../../platform/extensions/common/extensions.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { ILabelService } from '../../../../platform/label/common/label.js';\nimport { SyncDescriptor } from '../../../../platform/instantiation/common/descriptors.js';\nimport { IPreferencesService } from '../../../services/preferences/common/preferences.js';\nimport { SIDE_BAR_DRAG_AND_DROP_BACKGROUND } from '../../../common/theme.js';\nimport { VirtualWorkspaceContext, WorkbenchStateContext } from '../../../common/contextkeys.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { installLocalInRemoteIcon } from './extensionsIcons.js';\nimport { registerAction2, Action2, MenuId } from '../../../../platform/actions/common/actions.js';\nimport { IPaneComposite } from '../../../common/panecomposite.js';\nimport { IPaneCompositePartService } from '../../../services/panecomposite/browser/panecomposite.js';\nimport { coalesce } from '../../../../base/common/arrays.js';\nimport { extractEditorsAndFilesDropData } from '../../../../platform/dnd/browser/dnd.js';\nimport { extname } from '../../../../base/common/resources.js';\nimport { ILocalizedString } from '../../../../platform/action/common/action.js';\nimport { registerNavigableContainer } from '../../../browser/actions/widgetNavigationCommands.js';\nimport { MenuWorkbenchToolBar } from '../../../../platform/actions/browser/toolbar.js';\nimport { createActionViewItem } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { SeverityIcon } from '../../../../base/browser/ui/severityIcon/severityIcon.js';\nimport { StandardKeyboardEvent } from '../../../../base/browser/keyboardEvent.js';\nimport { KeyCode } from '../../../../base/common/keyCodes.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { IExtensionGalleryManifest, IExtensionGalleryManifestService, ExtensionGalleryManifestStatus } from '../../../../platform/extensionManagement/common/extensionGalleryManifest.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { DEFAULT_ACCOUNT_SIGN_IN_COMMAND } from '../../../services/accounts/common/defaultAccount.js';\n\nexport const ExtensionsSortByContext = new RawContextKey<string>('extensionsSortByValue', '');\nexport const SearchMarketplaceExtensionsContext = new RawContextKey<boolean>('searchMarketplaceExtensions', false);\nexport const SearchHasTextContext = new RawContextKey<boolean>('extensionSearchHasText', false);\nconst InstalledExtensionsContext = new RawContextKey<boolean>('installedExtensions', false);\nconst SearchInstalledExtensionsContext = new RawContextKey<boolean>('searchInstalledExtensions', false);\nconst SearchRecentlyUpdatedExtensionsContext = new RawContextKey<boolean>('searchRecentlyUpdatedExtensions', false);\nconst SearchExtensionUpdatesContext = new RawContextKey<boolean>('searchExtensionUpdates', false);\nconst SearchOutdatedExtensionsContext = new RawContextKey<boolean>('searchOutdatedExtensions', false);\nconst SearchEnabledExtensionsContext = new RawContextKey<boolean>('searchEnabledExtensions', false);\nconst SearchDisabledExtensionsContext = new RawContextKey<boolean>('searchDisabledExtensions', false);\nconst HasInstalledExtensionsContext = new RawContextKey<boolean>('hasInstalledExtensions', true);\nexport const BuiltInExtensionsContext = new RawContextKey<boolean>('builtInExtensions', false);\nconst SearchBuiltInExtensionsContext = new RawContextKey<boolean>('searchBuiltInExtensions', false);\nconst SearchUnsupportedWorkspaceExtensionsContext = new RawContextKey<boolean>('searchUnsupportedWorkspaceExtensions', false);\nconst SearchDeprecatedExtensionsContext = new RawContextKey<boolean>('searchDeprecatedExtensions', false);\nexport const RecommendedExtensionsContext = new RawContextKey<boolean>('recommendedExtensions', false);\nconst SortByUpdateDateContext = new RawContextKey<boolean>('sortByUpdateDate', false);\nexport const ExtensionsSearchValueContext = new RawContextKey<string>('extensionsSearchValue', '');\n\nconst REMOTE_CATEGORY: ILocalizedString = localize2({ key: 'remote', comment: ['Remote as in remote machine'] }, \"Remote\");\n\ninterface IExtensionsViewletState {\n\t'query.value'?: string;\n}\n\nexport class ExtensionsViewletViewsContribution extends Disposable implements IWorkbenchContribution {\n\n\tprivate readonly container: ViewContainer;\n\n\tconstructor(\n\t\t@IExtensionManagementServerService private readonly extensionManagementServerService: IExtensionManagementServerService,\n\t\t@ILabelService private readonly labelService: ILabelService,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService\n\t) {\n\t\tsuper();\n\n\t\tthis.container = viewDescriptorService.getViewContainerById(VIEWLET_ID)!;\n\t\tthis.registerViews();\n\t}\n\n\tprivate registerViews(): void {\n\t\tconst viewDescriptors: IViewDescriptor[] = [];\n\n\t\t/* Default views */\n\t\tviewDescriptors.push(...this.createDefaultExtensionsViewDescriptors());\n\n\t\t/* Search views */\n\t\tviewDescriptors.push(...this.createSearchExtensionsViewDescriptors());\n\n\t\t/* Recommendations views */\n\t\tviewDescriptors.push(...this.createRecommendedExtensionsViewDescriptors());\n\n\t\t/* Built-in extensions views */\n\t\tviewDescriptors.push(...this.createBuiltinExtensionsViewDescriptors());\n\n\t\t/* Trust Required extensions views */\n\t\tviewDescriptors.push(...this.createUnsupportedWorkspaceExtensionsViewDescriptors());\n\n\t\t/* Other Local Filtered extensions views */\n\t\tviewDescriptors.push(...this.createOtherLocalFilteredExtensionsViewDescriptors());\n\n\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.marketplaceAccess',\n\t\t\tname: localize2('marketPlace', \"Marketplace\"),\n\t\t\tctorDescriptor: new SyncDescriptor(class extends ViewPane {\n\t\t\t\tpublic override shouldShowWelcome() {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}),\n\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\tContextKeyExpr.or(\n\t\t\t\t\tContextKeyExpr.has('searchMarketplaceExtensions'), ContextKeyExpr.and(DefaultViewsContext)\n\t\t\t\t),\n\t\t\t\tContextKeyExpr.or(CONTEXT_EXTENSIONS_GALLERY_STATUS.isEqualTo(ExtensionGalleryManifestStatus.RequiresSignIn), CONTEXT_EXTENSIONS_GALLERY_STATUS.isEqualTo(ExtensionGalleryManifestStatus.AccessDenied))\n\t\t\t),\n\t\t\torder: -1,\n\t\t});\n\n\t\tconst viewRegistry = Registry.as<IViewsRegistry>(Extensions.ViewsRegistry);\n\t\tviewRegistry.registerViews(viewDescriptors, this.container);\n\n\t\tviewRegistry.registerViewWelcomeContent('workbench.views.extensions.marketplaceAccess', {\n\t\t\tcontent: localize('sign in', \"[Sign in to access Extensions Marketplace]({0})\", `command:${DEFAULT_ACCOUNT_SIGN_IN_COMMAND}`),\n\t\t\twhen: CONTEXT_EXTENSIONS_GALLERY_STATUS.isEqualTo(ExtensionGalleryManifestStatus.RequiresSignIn)\n\t\t});\n\n\t\tviewRegistry.registerViewWelcomeContent('workbench.views.extensions.marketplaceAccess', {\n\t\t\tcontent: localize('access denied', \"Your account does not have access to the Extensions Marketplace. Please contact your administrator.\"),\n\t\t\twhen: CONTEXT_EXTENSIONS_GALLERY_STATUS.isEqualTo(ExtensionGalleryManifestStatus.AccessDenied)\n\t\t});\n\t}\n\n\tprivate createDefaultExtensionsViewDescriptors(): IViewDescriptor[] {\n\t\tconst viewDescriptors: IViewDescriptor[] = [];\n\n\t\t/*\n\t\t * Default installed extensions views - Shows all user installed extensions.\n\t\t */\n\t\tconst servers: IExtensionManagementServer[] = [];\n\t\tif (this.extensionManagementServerService.localExtensionManagementServer) {\n\t\t\tservers.push(this.extensionManagementServerService.localExtensionManagementServer);\n\t\t}\n\t\tif (this.extensionManagementServerService.remoteExtensionManagementServer) {\n\t\t\tservers.push(this.extensionManagementServerService.remoteExtensionManagementServer);\n\t\t}\n\t\tif (this.extensionManagementServerService.webExtensionManagementServer) {\n\t\t\tservers.push(this.extensionManagementServerService.webExtensionManagementServer);\n\t\t}\n\t\tconst getViewName = (viewTitle: string, server: IExtensionManagementServer): string => {\n\t\t\treturn servers.length > 1 ? `${server.label} - ${viewTitle}` : viewTitle;\n\t\t};\n\t\tlet installedWebExtensionsContextChangeEvent = Event.None;\n\t\tif (this.extensionManagementServerService.webExtensionManagementServer && this.extensionManagementServerService.remoteExtensionManagementServer) {\n\t\t\tconst interestingContextKeys = new Set();\n\t\t\tinterestingContextKeys.add('hasInstalledWebExtensions');\n\t\t\tinstalledWebExtensionsContextChangeEvent = Event.filter(this.contextKeyService.onDidChangeContext, e => e.affectsSome(interestingContextKeys));\n\t\t}\n\t\tconst serverLabelChangeEvent = Event.any(this.labelService.onDidChangeFormatters, installedWebExtensionsContextChangeEvent);\n\t\tfor (const server of servers) {\n\t\t\tconst getInstalledViewName = (): string => getViewName(localize('installed', \"Installed\"), server);\n\t\t\tconst onDidChangeTitle = Event.map<void, string>(serverLabelChangeEvent, () => getInstalledViewName());\n\t\t\tconst id = servers.length > 1 ? `workbench.views.extensions.${server.id}.installed` : `workbench.views.extensions.installed`;\n\t\t\t/* Installed extensions view */\n\t\t\tviewDescriptors.push({\n\t\t\t\tid,\n\t\t\t\tget name() {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tvalue: getInstalledViewName(),\n\t\t\t\t\t\toriginal: getViewName('Installed', server)\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\tweight: 100,\n\t\t\t\torder: 1,\n\t\t\t\twhen: ContextKeyExpr.and(DefaultViewsContext),\n\t\t\t\tctorDescriptor: new SyncDescriptor(ServerInstalledExtensionsView, [{ server, flexibleHeight: true, onDidChangeTitle }]),\n\t\t\t\t/* Installed extensions views shall not be allowed to hidden when there are more than one server */\n\t\t\t\tcanToggleVisibility: servers.length === 1\n\t\t\t});\n\n\t\t\tif (server === this.extensionManagementServerService.remoteExtensionManagementServer && this.extensionManagementServerService.localExtensionManagementServer) {\n\t\t\t\tthis._register(registerAction2(class InstallLocalExtensionsInRemoteAction2 extends Action2 {\n\t\t\t\t\tconstructor() {\n\t\t\t\t\t\tsuper({\n\t\t\t\t\t\t\tid: 'workbench.extensions.installLocalExtensions',\n\t\t\t\t\t\t\tget title() {\n\t\t\t\t\t\t\t\treturn localize2('select and install local extensions', \"Install Local Extensions in '{0}'...\", server.label);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcategory: REMOTE_CATEGORY,\n\t\t\t\t\t\t\ticon: installLocalInRemoteIcon,\n\t\t\t\t\t\t\tf1: true,\n\t\t\t\t\t\t\tmenu: {\n\t\t\t\t\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\t\t\t\t\twhen: ContextKeyExpr.equals('view', id),\n\t\t\t\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\trun(accessor: ServicesAccessor): Promise<void> {\n\t\t\t\t\t\treturn accessor.get(IInstantiationService).createInstance(InstallLocalExtensionsInRemoteAction).run();\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t}\n\t\t}\n\n\t\tif (this.extensionManagementServerService.localExtensionManagementServer && this.extensionManagementServerService.remoteExtensionManagementServer) {\n\t\t\tthis._register(registerAction2(class InstallRemoteExtensionsInLocalAction2 extends Action2 {\n\t\t\t\tconstructor() {\n\t\t\t\t\tsuper({\n\t\t\t\t\t\tid: 'workbench.extensions.actions.installLocalExtensionsInRemote',\n\t\t\t\t\t\ttitle: localize2('install remote in local', 'Install Remote Extensions Locally...'),\n\t\t\t\t\t\tcategory: REMOTE_CATEGORY,\n\t\t\t\t\t\tf1: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\trun(accessor: ServicesAccessor): Promise<void> {\n\t\t\t\t\treturn accessor.get(IInstantiationService).createInstance(InstallRemoteExtensionsInLocalAction, 'workbench.extensions.actions.installLocalExtensionsInRemote').run();\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\n\t\t/*\n\t\t * Default popular extensions view\n\t\t * Separate view for popular extensions required as we need to show popular and recommended sections\n\t\t * in the default view when there is no search text, and user has no installed extensions.\n\t\t */\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.popular',\n\t\t\tname: localize2('popularExtensions', \"Popular\"),\n\t\t\tctorDescriptor: new SyncDescriptor(DefaultPopularExtensionsView, [{ hideBadge: true }]),\n\t\t\twhen: ContextKeyExpr.and(DefaultViewsContext, ContextKeyExpr.not('hasInstalledExtensions'), CONTEXT_HAS_GALLERY),\n\t\t\tweight: 60,\n\t\t\torder: 2,\n\t\t\tcanToggleVisibility: false\n\t\t});\n\n\t\t/*\n\t\t * Default recommended extensions view\n\t\t * When user has installed extensions, this is shown along with the views for enabled & disabled extensions\n\t\t * When user has no installed extensions, this is shown along with the view for popular extensions\n\t\t */\n\t\tviewDescriptors.push({\n\t\t\tid: 'extensions.recommendedList',\n\t\t\tname: localize2('recommendedExtensions', \"Recommended\"),\n\t\t\tctorDescriptor: new SyncDescriptor(DefaultRecommendedExtensionsView, [{ flexibleHeight: true }]),\n\t\t\twhen: ContextKeyExpr.and(DefaultViewsContext, SortByUpdateDateContext.negate(), ContextKeyExpr.not('config.extensions.showRecommendationsOnlyOnDemand'), CONTEXT_HAS_GALLERY),\n\t\t\tweight: 40,\n\t\t\torder: 3,\n\t\t\tcanToggleVisibility: true\n\t\t});\n\n\t\t/* Installed views shall be default in multi server window  */\n\t\tif (servers.length === 1) {\n\t\t\t/*\n\t\t\t * Default enabled extensions view - Shows all user installed enabled extensions.\n\t\t\t * Hidden by default\n\t\t\t */\n\t\t\tviewDescriptors.push({\n\t\t\t\tid: 'workbench.views.extensions.enabled',\n\t\t\t\tname: localize2('enabledExtensions', \"Enabled\"),\n\t\t\t\tctorDescriptor: new SyncDescriptor(EnabledExtensionsView, [{}]),\n\t\t\t\twhen: ContextKeyExpr.and(DefaultViewsContext, ContextKeyExpr.has('hasInstalledExtensions')),\n\t\t\t\thideByDefault: true,\n\t\t\t\tweight: 40,\n\t\t\t\torder: 4,\n\t\t\t\tcanToggleVisibility: true\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * Default disabled extensions view - Shows all disabled extensions.\n\t\t\t * Hidden by default\n\t\t\t */\n\t\t\tviewDescriptors.push({\n\t\t\t\tid: 'workbench.views.extensions.disabled',\n\t\t\t\tname: localize2('disabledExtensions', \"Disabled\"),\n\t\t\t\tctorDescriptor: new SyncDescriptor(DisabledExtensionsView, [{}]),\n\t\t\t\twhen: ContextKeyExpr.and(DefaultViewsContext, ContextKeyExpr.has('hasInstalledExtensions')),\n\t\t\t\thideByDefault: true,\n\t\t\t\tweight: 10,\n\t\t\t\torder: 5,\n\t\t\t\tcanToggleVisibility: true\n\t\t\t});\n\n\t\t}\n\n\t\treturn viewDescriptors;\n\t}\n\n\tprivate createSearchExtensionsViewDescriptors(): IViewDescriptor[] {\n\t\tconst viewDescriptors: IViewDescriptor[] = [];\n\n\t\t/*\n\t\t * View used for searching Marketplace\n\t\t */\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.marketplace',\n\t\t\tname: localize2('marketPlace', \"Marketplace\"),\n\t\t\tctorDescriptor: new SyncDescriptor(SearchMarketplaceExtensionsView, [{}]),\n\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.has('searchMarketplaceExtensions'), CONTEXT_HAS_GALLERY)\n\t\t});\n\n\t\t/*\n\t\t * View used for searching all installed extensions\n\t\t */\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.searchInstalled',\n\t\t\tname: localize2('installed', \"Installed\"),\n\t\t\tctorDescriptor: new SyncDescriptor(ExtensionsListView, [{}]),\n\t\t\twhen: ContextKeyExpr.or(ContextKeyExpr.has('searchInstalledExtensions'), ContextKeyExpr.has('installedExtensions')),\n\t\t});\n\n\t\t/*\n\t\t * View used for searching recently updated extensions\n\t\t */\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.searchRecentlyUpdated',\n\t\t\tname: localize2('recently updated', \"Recently Updated\"),\n\t\t\tctorDescriptor: new SyncDescriptor(RecentlyUpdatedExtensionsView, [{}]),\n\t\t\twhen: ContextKeyExpr.or(SearchExtensionUpdatesContext, ContextKeyExpr.has('searchRecentlyUpdatedExtensions')),\n\t\t\torder: 2,\n\t\t});\n\n\t\t/*\n\t\t * View used for searching enabled extensions\n\t\t */\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.searchEnabled',\n\t\t\tname: localize2('enabled', \"Enabled\"),\n\t\t\tctorDescriptor: new SyncDescriptor(ExtensionsListView, [{}]),\n\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.has('searchEnabledExtensions')),\n\t\t});\n\n\t\t/*\n\t\t * View used for searching disabled extensions\n\t\t */\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.searchDisabled',\n\t\t\tname: localize2('disabled', \"Disabled\"),\n\t\t\tctorDescriptor: new SyncDescriptor(ExtensionsListView, [{}]),\n\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.has('searchDisabledExtensions')),\n\t\t});\n\n\t\t/*\n\t\t * View used for searching outdated extensions\n\t\t */\n\t\tviewDescriptors.push({\n\t\t\tid: OUTDATED_EXTENSIONS_VIEW_ID,\n\t\t\tname: localize2('availableUpdates', \"Available Updates\"),\n\t\t\tctorDescriptor: new SyncDescriptor(OutdatedExtensionsView, [{}]),\n\t\t\twhen: ContextKeyExpr.or(SearchExtensionUpdatesContext, ContextKeyExpr.has('searchOutdatedExtensions')),\n\t\t\torder: 1,\n\t\t});\n\n\t\t/*\n\t\t * View used for searching builtin extensions\n\t\t */\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.searchBuiltin',\n\t\t\tname: localize2('builtin', \"Builtin\"),\n\t\t\tctorDescriptor: new SyncDescriptor(ExtensionsListView, [{}]),\n\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.has('searchBuiltInExtensions')),\n\t\t});\n\n\t\t/*\n\t\t * View used for searching workspace unsupported extensions\n\t\t */\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.searchWorkspaceUnsupported',\n\t\t\tname: localize2('workspaceUnsupported', \"Workspace Unsupported\"),\n\t\t\tctorDescriptor: new SyncDescriptor(ExtensionsListView, [{}]),\n\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.has('searchWorkspaceUnsupportedExtensions')),\n\t\t});\n\n\t\treturn viewDescriptors;\n\t}\n\n\tprivate createRecommendedExtensionsViewDescriptors(): IViewDescriptor[] {\n\t\tconst viewDescriptors: IViewDescriptor[] = [];\n\n\t\tviewDescriptors.push({\n\t\t\tid: WORKSPACE_RECOMMENDATIONS_VIEW_ID,\n\t\t\tname: localize2('workspaceRecommendedExtensions', \"Workspace Recommendations\"),\n\t\t\tctorDescriptor: new SyncDescriptor(WorkspaceRecommendedExtensionsView, [{}]),\n\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.has('recommendedExtensions'), WorkbenchStateContext.notEqualsTo('empty')),\n\t\t\torder: 1\n\t\t});\n\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.otherRecommendations',\n\t\t\tname: localize2('otherRecommendedExtensions', \"Other Recommendations\"),\n\t\t\tctorDescriptor: new SyncDescriptor(RecommendedExtensionsView, [{}]),\n\t\t\twhen: ContextKeyExpr.has('recommendedExtensions'),\n\t\t\torder: 2\n\t\t});\n\n\t\treturn viewDescriptors;\n\t}\n\n\tprivate createBuiltinExtensionsViewDescriptors(): IViewDescriptor[] {\n\t\tconst viewDescriptors: IViewDescriptor[] = [];\n\n\t\tconst configuredCategories = ['themes', 'programming languages'];\n\t\tconst otherCategories = EXTENSION_CATEGORIES.filter(c => !configuredCategories.includes(c.toLowerCase()));\n\t\totherCategories.push(NONE_CATEGORY);\n\t\tconst otherCategoriesQuery = `${otherCategories.map(c => `category:\"${c}\"`).join(' ')} ${configuredCategories.map(c => `category:\"-${c}\"`).join(' ')}`;\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.builtinFeatureExtensions',\n\t\t\tname: localize2('builtinFeatureExtensions', \"Features\"),\n\t\t\tctorDescriptor: new SyncDescriptor(StaticQueryExtensionsView, [{ query: `@builtin ${otherCategoriesQuery}` }]),\n\t\t\twhen: ContextKeyExpr.has('builtInExtensions'),\n\t\t});\n\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.builtinThemeExtensions',\n\t\t\tname: localize2('builtInThemesExtensions', \"Themes\"),\n\t\t\tctorDescriptor: new SyncDescriptor(StaticQueryExtensionsView, [{ query: `@builtin category:themes` }]),\n\t\t\twhen: ContextKeyExpr.has('builtInExtensions'),\n\t\t});\n\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.builtinProgrammingLanguageExtensions',\n\t\t\tname: localize2('builtinProgrammingLanguageExtensions', \"Programming Languages\"),\n\t\t\tctorDescriptor: new SyncDescriptor(StaticQueryExtensionsView, [{ query: `@builtin category:\"programming languages\"` }]),\n\t\t\twhen: ContextKeyExpr.has('builtInExtensions'),\n\t\t});\n\n\t\treturn viewDescriptors;\n\t}\n\n\tprivate createUnsupportedWorkspaceExtensionsViewDescriptors(): IViewDescriptor[] {\n\t\tconst viewDescriptors: IViewDescriptor[] = [];\n\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.untrustedUnsupportedExtensions',\n\t\t\tname: localize2('untrustedUnsupportedExtensions', \"Disabled in Restricted Mode\"),\n\t\t\tctorDescriptor: new SyncDescriptor(UntrustedWorkspaceUnsupportedExtensionsView, [{}]),\n\t\t\twhen: ContextKeyExpr.and(SearchUnsupportedWorkspaceExtensionsContext),\n\t\t});\n\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.untrustedPartiallySupportedExtensions',\n\t\t\tname: localize2('untrustedPartiallySupportedExtensions', \"Limited in Restricted Mode\"),\n\t\t\tctorDescriptor: new SyncDescriptor(UntrustedWorkspacePartiallySupportedExtensionsView, [{}]),\n\t\t\twhen: ContextKeyExpr.and(SearchUnsupportedWorkspaceExtensionsContext),\n\t\t});\n\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.virtualUnsupportedExtensions',\n\t\t\tname: localize2('virtualUnsupportedExtensions', \"Disabled in Virtual Workspaces\"),\n\t\t\tctorDescriptor: new SyncDescriptor(VirtualWorkspaceUnsupportedExtensionsView, [{}]),\n\t\t\twhen: ContextKeyExpr.and(VirtualWorkspaceContext, SearchUnsupportedWorkspaceExtensionsContext),\n\t\t});\n\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.virtualPartiallySupportedExtensions',\n\t\t\tname: localize2('virtualPartiallySupportedExtensions', \"Limited in Virtual Workspaces\"),\n\t\t\tctorDescriptor: new SyncDescriptor(VirtualWorkspacePartiallySupportedExtensionsView, [{}]),\n\t\t\twhen: ContextKeyExpr.and(VirtualWorkspaceContext, SearchUnsupportedWorkspaceExtensionsContext),\n\t\t});\n\n\t\treturn viewDescriptors;\n\t}\n\n\tprivate createOtherLocalFilteredExtensionsViewDescriptors(): IViewDescriptor[] {\n\t\tconst viewDescriptors: IViewDescriptor[] = [];\n\n\t\tviewDescriptors.push({\n\t\t\tid: 'workbench.views.extensions.deprecatedExtensions',\n\t\t\tname: localize2('deprecated', \"Deprecated\"),\n\t\t\tctorDescriptor: new SyncDescriptor(DeprecatedExtensionsView, [{}]),\n\t\t\twhen: ContextKeyExpr.and(SearchDeprecatedExtensionsContext),\n\t\t});\n\n\t\treturn viewDescriptors;\n\t}\n\n}\n\nexport class ExtensionsViewPaneContainer extends ViewPaneContainer<IExtensionsViewletState> implements IExtensionsViewPaneContainer {\n\n\tprivate readonly extensionsSearchValueContextKey: IContextKey<string>;\n\tprivate readonly defaultViewsContextKey: IContextKey<boolean>;\n\tprivate readonly sortByContextKey: IContextKey<string>;\n\tprivate readonly searchMarketplaceExtensionsContextKey: IContextKey<boolean>;\n\tprivate readonly searchMcpServersContextKey: IContextKey<boolean>;\n\tprivate readonly searchHasTextContextKey: IContextKey<boolean>;\n\tprivate readonly sortByUpdateDateContextKey: IContextKey<boolean>;\n\tprivate readonly installedExtensionsContextKey: IContextKey<boolean>;\n\tprivate readonly searchInstalledExtensionsContextKey: IContextKey<boolean>;\n\tprivate readonly searchRecentlyUpdatedExtensionsContextKey: IContextKey<boolean>;\n\tprivate readonly searchExtensionUpdatesContextKey: IContextKey<boolean>;\n\tprivate readonly searchOutdatedExtensionsContextKey: IContextKey<boolean>;\n\tprivate readonly searchEnabledExtensionsContextKey: IContextKey<boolean>;\n\tprivate readonly searchDisabledExtensionsContextKey: IContextKey<boolean>;\n\tprivate readonly hasInstalledExtensionsContextKey: IContextKey<boolean>;\n\tprivate readonly builtInExtensionsContextKey: IContextKey<boolean>;\n\tprivate readonly searchBuiltInExtensionsContextKey: IContextKey<boolean>;\n\tprivate readonly searchWorkspaceUnsupportedExtensionsContextKey: IContextKey<boolean>;\n\tprivate readonly searchDeprecatedExtensionsContextKey: IContextKey<boolean>;\n\tprivate readonly recommendedExtensionsContextKey: IContextKey<boolean>;\n\n\tprivate searchDelayer: Delayer<void>;\n\tprivate root: HTMLElement | undefined;\n\tprivate header: HTMLElement | undefined;\n\tprivate searchBox: SuggestEnabledInput | undefined;\n\tprivate notificationContainer: HTMLElement | undefined;\n\tprivate readonly searchViewletState: IExtensionsViewletState;\n\tprivate extensionGalleryManifest: IExtensionGalleryManifest | null = null;\n\n\tconstructor(\n\t\t@IWorkbenchLayoutService layoutService: IWorkbenchLayoutService,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IProgressService private readonly progressService: IProgressService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IEditorGroupsService private readonly editorGroupService: IEditorGroupsService,\n\t\t@IExtensionGalleryManifestService extensionGalleryManifestService: IExtensionGalleryManifestService,\n\t\t@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IExtensionManagementServerService private readonly extensionManagementServerService: IExtensionManagementServerService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IPaneCompositePartService private readonly paneCompositeService: IPaneCompositePartService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@IWorkspaceContextService contextService: IWorkspaceContextService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IExtensionService extensionService: IExtensionService,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IPreferencesService private readonly preferencesService: IPreferencesService,\n\t\t@ICommandService private readonly commandService: ICommandService,\n\t\t@ILogService logService: ILogService,\n\t) {\n\t\tsuper(VIEWLET_ID, { mergeViewWithContainerWhenSingleView: true }, instantiationService, configurationService, layoutService, contextMenuService, telemetryService, extensionService, themeService, storageService, contextService, viewDescriptorService, logService);\n\n\t\tthis.searchDelayer = new Delayer(500);\n\t\tthis.extensionsSearchValueContextKey = ExtensionsSearchValueContext.bindTo(contextKeyService);\n\t\tthis.defaultViewsContextKey = DefaultViewsContext.bindTo(contextKeyService);\n\t\tthis.sortByContextKey = ExtensionsSortByContext.bindTo(contextKeyService);\n\t\tthis.searchMarketplaceExtensionsContextKey = SearchMarketplaceExtensionsContext.bindTo(contextKeyService);\n\t\tthis.searchMcpServersContextKey = SearchMcpServersContext.bindTo(contextKeyService);\n\t\tthis.searchHasTextContextKey = SearchHasTextContext.bindTo(contextKeyService);\n\t\tthis.sortByUpdateDateContextKey = SortByUpdateDateContext.bindTo(contextKeyService);\n\t\tthis.installedExtensionsContextKey = InstalledExtensionsContext.bindTo(contextKeyService);\n\t\tthis.searchInstalledExtensionsContextKey = SearchInstalledExtensionsContext.bindTo(contextKeyService);\n\t\tthis.searchRecentlyUpdatedExtensionsContextKey = SearchRecentlyUpdatedExtensionsContext.bindTo(contextKeyService);\n\t\tthis.searchExtensionUpdatesContextKey = SearchExtensionUpdatesContext.bindTo(contextKeyService);\n\t\tthis.searchWorkspaceUnsupportedExtensionsContextKey = SearchUnsupportedWorkspaceExtensionsContext.bindTo(contextKeyService);\n\t\tthis.searchDeprecatedExtensionsContextKey = SearchDeprecatedExtensionsContext.bindTo(contextKeyService);\n\t\tthis.searchOutdatedExtensionsContextKey = SearchOutdatedExtensionsContext.bindTo(contextKeyService);\n\t\tthis.searchEnabledExtensionsContextKey = SearchEnabledExtensionsContext.bindTo(contextKeyService);\n\t\tthis.searchDisabledExtensionsContextKey = SearchDisabledExtensionsContext.bindTo(contextKeyService);\n\t\tthis.hasInstalledExtensionsContextKey = HasInstalledExtensionsContext.bindTo(contextKeyService);\n\t\tthis.builtInExtensionsContextKey = BuiltInExtensionsContext.bindTo(contextKeyService);\n\t\tthis.searchBuiltInExtensionsContextKey = SearchBuiltInExtensionsContext.bindTo(contextKeyService);\n\t\tthis.recommendedExtensionsContextKey = RecommendedExtensionsContext.bindTo(contextKeyService);\n\t\tthis._register(this.paneCompositeService.onDidPaneCompositeOpen(e => { if (e.viewContainerLocation === ViewContainerLocation.Sidebar) { this.onViewletOpen(e.composite); } }, this));\n\t\tthis._register(extensionsWorkbenchService.onReset(() => this.refresh()));\n\t\tthis.searchViewletState = this.getMemento(StorageScope.WORKSPACE, StorageTarget.MACHINE);\n\n\t\textensionGalleryManifestService.getExtensionGalleryManifest()\n\t\t\t.then(galleryManifest => {\n\t\t\t\tthis.extensionGalleryManifest = galleryManifest;\n\t\t\t\tthis._register(extensionGalleryManifestService.onDidChangeExtensionGalleryManifest(galleryManifest => {\n\t\t\t\t\tthis.extensionGalleryManifest = galleryManifest;\n\t\t\t\t\tthis.refresh();\n\t\t\t\t}));\n\t\t\t});\n\t}\n\n\tget searchValue(): string | undefined {\n\t\treturn this.searchBox?.getValue();\n\t}\n\n\toverride create(parent: HTMLElement): void {\n\t\tparent.classList.add('extensions-viewlet');\n\t\tthis.root = parent;\n\n\t\tconst overlay = append(this.root, $('.overlay'));\n\t\tconst overlayBackgroundColor = this.getColor(SIDE_BAR_DRAG_AND_DROP_BACKGROUND) ?? '';\n\t\toverlay.style.backgroundColor = overlayBackgroundColor;\n\t\thide(overlay);\n\n\t\tthis.header = append(this.root, $('.header'));\n\t\tconst placeholder = localize('searchExtensions', \"Search Extensions in Marketplace\");\n\n\t\tconst searchValue = this.searchViewletState['query.value'] ? this.searchViewletState['query.value'] : '';\n\n\t\tconst searchContainer = append(this.header, $('.extensions-search-container'));\n\n\t\tthis.searchBox = this._register(this.instantiationService.createInstance(SuggestEnabledInput, `${VIEWLET_ID}.searchbox`, searchContainer, {\n\t\t\ttriggerCharacters: ['@'],\n\t\t\tsortKey: (item: string) => {\n\t\t\t\tif (item.indexOf(':') === -1) { return 'a'; }\n\t\t\t\telse if (/ext:/.test(item) || /id:/.test(item) || /tag:/.test(item)) { return 'b'; }\n\t\t\t\telse if (/sort:/.test(item)) { return 'c'; }\n\t\t\t\telse { return 'd'; }\n\t\t\t},\n\t\t\tprovideResults: (query: string) => Query.suggestions(query, this.extensionGalleryManifest)\n\t\t}, placeholder, 'extensions:searchinput', { placeholderText: placeholder, value: searchValue }));\n\n\t\tthis.notificationContainer = append(this.header, $('.notification-container.hidden', { 'tabindex': '0' }));\n\t\tthis.renderNotificaiton();\n\t\tthis._register(this.extensionsWorkbenchService.onDidChangeExtensionsNotification(() => this.renderNotificaiton()));\n\n\t\tthis.updateInstalledExtensionsContexts();\n\t\tif (this.searchBox.getValue()) {\n\t\t\tthis.triggerSearch();\n\t\t}\n\n\t\tthis._register(this.searchBox.onInputDidChange(() => {\n\t\t\tthis.sortByContextKey.set(Query.parse(this.searchBox?.getValue() ?? '').sortBy);\n\t\t\tthis.triggerSearch();\n\t\t}, this));\n\n\t\tthis._register(this.searchBox.onShouldFocusResults(() => this.focusListView(), this));\n\n\t\tconst controlElement = append(searchContainer, $('.extensions-search-actions-container'));\n\t\tthis._register(this.instantiationService.createInstance(MenuWorkbenchToolBar, controlElement, extensionsSearchActionsMenu, {\n\t\t\ttoolbarOptions: {\n\t\t\t\tprimaryGroup: () => true,\n\t\t\t},\n\t\t\tactionViewItemProvider: (action, options) => createActionViewItem(this.instantiationService, action, options)\n\t\t}));\n\n\t\t// Register DragAndDrop support\n\t\tthis._register(new DragAndDropObserver(this.root, {\n\t\t\tonDragEnter: (e: DragEvent) => {\n\t\t\t\tif (this.isSupportedDragElement(e)) {\n\t\t\t\t\tshow(overlay);\n\t\t\t\t}\n\t\t\t},\n\t\t\tonDragLeave: (e: DragEvent) => {\n\t\t\t\tif (this.isSupportedDragElement(e)) {\n\t\t\t\t\thide(overlay);\n\t\t\t\t}\n\t\t\t},\n\t\t\tonDragOver: (e: DragEvent) => {\n\t\t\t\tif (this.isSupportedDragElement(e)) {\n\t\t\t\t\te.dataTransfer!.dropEffect = 'copy';\n\t\t\t\t}\n\t\t\t},\n\t\t\tonDrop: async (e: DragEvent) => {\n\t\t\t\tif (this.isSupportedDragElement(e)) {\n\t\t\t\t\thide(overlay);\n\n\t\t\t\t\tconst vsixs = coalesce((await this.instantiationService.invokeFunction(accessor => extractEditorsAndFilesDropData(accessor, e)))\n\t\t\t\t\t\t.map(editor => editor.resource && extname(editor.resource) === '.vsix' ? editor.resource : undefined));\n\n\t\t\t\t\tif (vsixs.length > 0) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t// Attempt to install the extension(s)\n\t\t\t\t\t\t\tawait this.commandService.executeCommand(INSTALL_EXTENSION_FROM_VSIX_COMMAND_ID, vsixs);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcatch (err) {\n\t\t\t\t\t\t\tthis.notificationService.error(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tsuper.create(append(this.root, $('.extensions')));\n\n\t\tconst focusTracker = this._register(trackFocus(this.root));\n\t\tconst isSearchBoxFocused = () => this.searchBox?.inputWidget.hasWidgetFocus();\n\t\tthis._register(registerNavigableContainer({\n\t\t\tname: 'extensionsView',\n\t\t\tfocusNotifiers: [focusTracker],\n\t\t\tfocusNextWidget: () => {\n\t\t\t\tif (isSearchBoxFocused()) {\n\t\t\t\t\tthis.focusListView();\n\t\t\t\t}\n\t\t\t},\n\t\t\tfocusPreviousWidget: () => {\n\t\t\t\tif (!isSearchBoxFocused()) {\n\t\t\t\t\tthis.searchBox?.focus();\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t}\n\n\toverride focus(): void {\n\t\tsuper.focus();\n\t\tthis.searchBox?.focus();\n\t}\n\n\tprivate _dimension: Dimension | undefined;\n\toverride layout(dimension: Dimension): void {\n\t\tthis._dimension = dimension;\n\t\tif (this.root) {\n\t\t\tthis.root.classList.toggle('narrow', dimension.width <= 250);\n\t\t\tthis.root.classList.toggle('mini', dimension.width <= 200);\n\t\t}\n\t\tthis.searchBox?.layout(new Dimension(dimension.width - 34 - /*padding*/8 - (24 * 2), 20));\n\t\tconst searchBoxHeight = 20 + 21 /*margin*/;\n\t\tconst headerHeight = this.header && !!this.notificationContainer?.childNodes.length ? this.notificationContainer.clientHeight + searchBoxHeight + 10 /*margin*/ : searchBoxHeight;\n\t\tthis.header!.style.height = `${headerHeight}px`;\n\t\tsuper.layout(new Dimension(dimension.width, dimension.height - headerHeight));\n\t}\n\n\toverride getOptimalWidth(): number {\n\t\treturn 400;\n\t}\n\n\tsearch(value: string): void {\n\t\tif (this.searchBox && this.searchBox.getValue() !== value) {\n\t\t\tthis.searchBox.setValue(value);\n\t\t}\n\t}\n\n\tasync refresh(): Promise<void> {\n\t\tawait this.updateInstalledExtensionsContexts();\n\t\tthis.doSearch(true);\n\t\tif (this.configurationService.getValue(AutoCheckUpdatesConfigurationKey)) {\n\t\t\tthis.extensionsWorkbenchService.checkForUpdates();\n\t\t}\n\t}\n\n\tprivate readonly notificationDisposables = this._register(new MutableDisposable<DisposableStore>());\n\tprivate renderNotificaiton(): void {\n\t\tif (!this.notificationContainer) {\n\t\t\treturn;\n\t\t}\n\n\t\tclearNode(this.notificationContainer);\n\t\tthis.notificationDisposables.value = new DisposableStore();\n\t\tconst status = this.extensionsWorkbenchService.getExtensionsNotification();\n\t\tconst query = status?.extensions.map(extension => `@id:${extension.identifier.id}`).join(' ');\n\t\tif (status && (query === this.searchBox?.getValue() || !this.searchMarketplaceExtensionsContextKey.get())) {\n\t\t\tthis.notificationContainer.setAttribute('aria-label', status.message);\n\t\t\tthis.notificationContainer.classList.remove('hidden');\n\t\t\tconst messageContainer = append(this.notificationContainer, $('.message-container'));\n\t\t\tappend(messageContainer, $('span')).className = SeverityIcon.className(status.severity);\n\t\t\tappend(messageContainer, $('span.message', undefined, status.message));\n\t\t\tconst showAction = append(messageContainer,\n\t\t\t\t$('span.message-text-action', {\n\t\t\t\t\t'tabindex': '0',\n\t\t\t\t\t'role': 'button',\n\t\t\t\t\t'aria-label': `${status.message}. ${localize('click show', \"Click to Show\")}`\n\t\t\t\t}, localize('show', \"Show\")));\n\t\t\tthis.notificationDisposables.value.add(addDisposableListener(showAction, EventType.CLICK, () => this.search(query ?? '')));\n\t\t\tthis.notificationDisposables.value.add(addDisposableListener(showAction, EventType.KEY_DOWN, (e: KeyboardEvent) => {\n\t\t\t\tconst standardKeyboardEvent = new StandardKeyboardEvent(e);\n\t\t\t\tif (standardKeyboardEvent.keyCode === KeyCode.Enter || standardKeyboardEvent.keyCode === KeyCode.Space) {\n\t\t\t\t\tthis.search(query ?? '');\n\t\t\t\t}\n\t\t\t\tstandardKeyboardEvent.stopPropagation();\n\t\t\t}));\n\t\t\tconst dismissAction = append(this.notificationContainer,\n\t\t\t\t$(`span.message-action${ThemeIcon.asCSSSelector(Codicon.close)}`, {\n\t\t\t\t\t'tabindex': '0',\n\t\t\t\t\t'role': 'button',\n\t\t\t\t\t'aria-label': localize('dismiss', \"Dismiss\"),\n\t\t\t\t\t'title': localize('dismiss', \"Dismiss\")\n\t\t\t\t}));\n\t\t\tthis.notificationDisposables.value.add(addDisposableListener(dismissAction, EventType.CLICK, () => status.dismiss()));\n\t\t\tthis.notificationDisposables.value.add(addDisposableListener(dismissAction, EventType.KEY_DOWN, (e: KeyboardEvent) => {\n\t\t\t\tconst standardKeyboardEvent = new StandardKeyboardEvent(e);\n\t\t\t\tif (standardKeyboardEvent.keyCode === KeyCode.Enter || standardKeyboardEvent.keyCode === KeyCode.Space) {\n\t\t\t\t\tstatus.dismiss();\n\t\t\t\t}\n\t\t\t\tstandardKeyboardEvent.stopPropagation();\n\t\t\t}));\n\t\t} else {\n\t\t\tthis.notificationContainer.removeAttribute('aria-label');\n\t\t\tthis.notificationContainer.classList.add('hidden');\n\t\t}\n\n\t\tif (this._dimension) {\n\t\t\tthis.layout(this._dimension);\n\t\t}\n\t}\n\n\tprivate async updateInstalledExtensionsContexts(): Promise<void> {\n\t\tconst result = await this.extensionsWorkbenchService.queryLocal();\n\t\tthis.hasInstalledExtensionsContextKey.set(result.some(r => !r.isBuiltin));\n\t}\n\n\tprivate triggerSearch(): void {\n\t\tthis.searchDelayer.trigger(() => this.doSearch(), this.searchBox && this.searchBox.getValue() ? 500 : 0).then(undefined, err => this.onError(err));\n\t}\n\n\tprivate normalizedQuery(): string {\n\t\treturn this.searchBox\n\t\t\t? this.searchBox.getValue()\n\t\t\t\t.trim()\n\t\t\t\t.replace(/@category/g, 'category')\n\t\t\t\t.replace(/@tag:/g, 'tag:')\n\t\t\t\t.replace(/@ext:/g, 'ext:')\n\t\t\t\t.replace(/@featured/g, 'featured')\n\t\t\t\t.replace(/@popular/g, this.extensionManagementServerService.webExtensionManagementServer && !this.extensionManagementServerService.localExtensionManagementServer && !this.extensionManagementServerService.remoteExtensionManagementServer ? '@web' : '@popular')\n\t\t\t: '';\n\t}\n\n\tprotected override saveState(): void {\n\t\tconst value = this.searchBox ? this.searchBox.getValue() : '';\n\t\tif (ExtensionsListView.isLocalExtensionsQuery(value)) {\n\t\t\tthis.searchViewletState['query.value'] = value;\n\t\t} else {\n\t\t\tthis.searchViewletState['query.value'] = '';\n\t\t}\n\t\tsuper.saveState();\n\t}\n\n\tprivate doSearch(refresh?: boolean): Promise<void> {\n\t\tconst value = this.normalizedQuery();\n\t\tthis.contextKeyService.bufferChangeEvents(() => {\n\t\t\tconst isRecommendedExtensionsQuery = ExtensionsListView.isRecommendedExtensionsQuery(value);\n\t\t\tthis.searchHasTextContextKey.set(value.trim() !== '');\n\t\t\tthis.extensionsSearchValueContextKey.set(value);\n\t\t\tthis.installedExtensionsContextKey.set(ExtensionsListView.isInstalledExtensionsQuery(value));\n\t\t\tthis.searchInstalledExtensionsContextKey.set(ExtensionsListView.isSearchInstalledExtensionsQuery(value));\n\t\t\tthis.searchRecentlyUpdatedExtensionsContextKey.set(ExtensionsListView.isSearchRecentlyUpdatedQuery(value) && !ExtensionsListView.isSearchExtensionUpdatesQuery(value));\n\t\t\tthis.searchOutdatedExtensionsContextKey.set(ExtensionsListView.isOutdatedExtensionsQuery(value) && !ExtensionsListView.isSearchExtensionUpdatesQuery(value));\n\t\t\tthis.searchExtensionUpdatesContextKey.set(ExtensionsListView.isSearchExtensionUpdatesQuery(value));\n\t\t\tthis.searchEnabledExtensionsContextKey.set(ExtensionsListView.isEnabledExtensionsQuery(value));\n\t\t\tthis.searchDisabledExtensionsContextKey.set(ExtensionsListView.isDisabledExtensionsQuery(value));\n\t\t\tthis.searchBuiltInExtensionsContextKey.set(ExtensionsListView.isSearchBuiltInExtensionsQuery(value));\n\t\t\tthis.searchWorkspaceUnsupportedExtensionsContextKey.set(ExtensionsListView.isSearchWorkspaceUnsupportedExtensionsQuery(value));\n\t\t\tthis.searchDeprecatedExtensionsContextKey.set(ExtensionsListView.isSearchDeprecatedExtensionsQuery(value));\n\t\t\tthis.builtInExtensionsContextKey.set(ExtensionsListView.isBuiltInExtensionsQuery(value));\n\t\t\tthis.recommendedExtensionsContextKey.set(isRecommendedExtensionsQuery);\n\t\t\tthis.searchMcpServersContextKey.set(!!value && /@mcp\\s?.*/i.test(value));\n\t\t\tthis.searchMarketplaceExtensionsContextKey.set(!!value && !ExtensionsListView.isLocalExtensionsQuery(value) && !isRecommendedExtensionsQuery && !this.searchMcpServersContextKey.get());\n\t\t\tthis.sortByUpdateDateContextKey.set(ExtensionsListView.isSortUpdateDateQuery(value));\n\t\t\tthis.defaultViewsContextKey.set(!value || ExtensionsListView.isSortInstalledExtensionsQuery(value));\n\t\t});\n\n\t\tthis.renderNotificaiton();\n\n\t\treturn this.showExtensionsViews(this.panes);\n\t}\n\n\tprotected override onDidAddViewDescriptors(added: IAddedViewDescriptorRef[]): ViewPane[] {\n\t\tconst addedViews = super.onDidAddViewDescriptors(added);\n\t\tthis.showExtensionsViews(addedViews);\n\t\treturn addedViews;\n\t}\n\n\tprivate async showExtensionsViews(views: ViewPane[]): Promise<void> {\n\t\tawait this.progress(Promise.all(views.map(async view => {\n\t\t\tif (view instanceof AbstractExtensionsListView) {\n\t\t\t\tconst model = await view.show(this.normalizedQuery());\n\t\t\t\tthis.alertSearchResult(model.length, view.id);\n\t\t\t}\n\t\t})));\n\t}\n\n\tprivate alertSearchResult(count: number, viewId: string): void {\n\t\tconst view = this.viewContainerModel.visibleViewDescriptors.find(view => view.id === viewId);\n\t\tswitch (count) {\n\t\t\tcase 0:\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tif (view) {\n\t\t\t\t\talert(localize('extensionFoundInSection', \"1 extension found in the {0} section.\", view.name.value));\n\t\t\t\t} else {\n\t\t\t\t\talert(localize('extensionFound', \"1 extension found.\"));\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tif (view) {\n\t\t\t\t\talert(localize('extensionsFoundInSection', \"{0} extensions found in the {1} section.\", count, view.name.value));\n\t\t\t\t} else {\n\t\t\t\t\talert(localize('extensionsFound', \"{0} extensions found.\", count));\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tprivate getFirstExpandedPane(): ExtensionsListView | undefined {\n\t\tfor (const pane of this.panes) {\n\t\t\tif (pane.isExpanded() && pane instanceof ExtensionsListView) {\n\t\t\t\treturn pane;\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tprivate focusListView(): void {\n\t\tconst pane = this.getFirstExpandedPane();\n\t\tif (pane && pane.count() > 0) {\n\t\t\tpane.focus();\n\t\t}\n\t}\n\n\tprivate onViewletOpen(viewlet: IPaneComposite): void {\n\t\tif (!viewlet || viewlet.getId() === VIEWLET_ID) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.configurationService.getValue<boolean>(CloseExtensionDetailsOnViewChangeKey)) {\n\t\t\tconst promises = this.editorGroupService.groups.map(group => {\n\t\t\t\tconst editors = group.editors.filter(input => input instanceof ExtensionsInput);\n\n\t\t\t\treturn group.closeEditors(editors);\n\t\t\t});\n\n\t\t\tPromise.all(promises);\n\t\t}\n\t}\n\n\tprivate progress<T>(promise: Promise<T>): Promise<T> {\n\t\treturn this.progressService.withProgress({ location: ProgressLocation.Extensions }, () => promise);\n\t}\n\n\tprivate onError(err: Error): void {\n\t\tif (isCancellationError(err)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst message = err && err.message || '';\n\n\t\tif (/ECONNREFUSED/.test(message)) {\n\t\t\tconst error = createErrorWithActions(localize('suggestProxyError', \"Marketplace returned 'ECONNREFUSED'. Please check the 'http.proxy' setting.\"), [\n\t\t\t\tnew Action('open user settings', localize('open user settings', \"Open User Settings\"), undefined, true, () => this.preferencesService.openUserSettings())\n\t\t\t]);\n\n\t\t\tthis.notificationService.error(error);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.notificationService.error(err);\n\t}\n\n\tprivate isSupportedDragElement(e: DragEvent): boolean {\n\t\tif (e.dataTransfer) {\n\t\t\tconst typesLowerCase = e.dataTransfer.types.map(t => t.toLocaleLowerCase());\n\t\t\treturn typesLowerCase.indexOf('files') !== -1;\n\t\t}\n\n\t\treturn false;\n\t}\n}\n\nexport class StatusUpdater extends Disposable implements IWorkbenchContribution {\n\n\tprivate readonly badgeHandle = this._register(new MutableDisposable());\n\n\tconstructor(\n\t\t@IActivityService private readonly activityService: IActivityService,\n\t\t@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IWorkbenchExtensionEnablementService private readonly extensionEnablementService: IWorkbenchExtensionEnablementService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService\n\t) {\n\t\tsuper();\n\t\tthis.onServiceChange();\n\t\tthis._register(Event.any(Event.debounce(extensionsWorkbenchService.onChange, () => undefined, 100, undefined, undefined, undefined, this._store), extensionsWorkbenchService.onDidChangeExtensionsNotification)(this.onServiceChange, this));\n\t}\n\n\tprivate onServiceChange(): void {\n\t\tthis.badgeHandle.clear();\n\t\tlet badge: IBadge | undefined;\n\n\t\tconst extensionsNotification = this.extensionsWorkbenchService.getExtensionsNotification();\n\t\tif (extensionsNotification) {\n\t\t\tif (extensionsNotification.severity === Severity.Warning) {\n\t\t\t\tbadge = new WarningBadge(() => extensionsNotification.message);\n\t\t\t}\n\t\t}\n\n\t\telse {\n\t\t\tconst actionRequired = this.configurationService.getValue(AutoRestartConfigurationKey) === true ? [] : this.extensionsWorkbenchService.installed.filter(e => e.runtimeState !== undefined);\n\t\t\tconst outdated = this.extensionsWorkbenchService.outdated.reduce((r, e) => r + (this.extensionEnablementService.isEnabled(e.local!) && !actionRequired.includes(e) ? 1 : 0), 0);\n\t\t\tconst newBadgeNumber = outdated + actionRequired.length;\n\t\t\tif (newBadgeNumber > 0) {\n\t\t\t\tlet msg = '';\n\t\t\t\tif (outdated) {\n\t\t\t\t\tmsg += outdated === 1 ? localize('extensionToUpdate', '{0} requires update', outdated) : localize('extensionsToUpdate', '{0} require update', outdated);\n\t\t\t\t}\n\t\t\t\tif (outdated > 0 && actionRequired.length > 0) {\n\t\t\t\t\tmsg += ', ';\n\t\t\t\t}\n\t\t\t\tif (actionRequired.length) {\n\t\t\t\t\tmsg += actionRequired.length === 1 ? localize('extensionToReload', '{0} requires restart', actionRequired.length) : localize('extensionsToReload', '{0} require restart', actionRequired.length);\n\t\t\t\t}\n\t\t\t\tbadge = new NumberBadge(newBadgeNumber, () => msg);\n\t\t\t}\n\t\t}\n\n\t\tif (badge) {\n\t\t\tthis.badgeHandle.value = this.activityService.showViewContainerActivity(VIEWLET_ID, { badge });\n\t\t}\n\t}\n}\n\nexport class MaliciousExtensionChecker implements IWorkbenchContribution {\n\n\tconstructor(\n\t\t@IExtensionManagementService private readonly extensionsManagementService: IExtensionManagementService,\n\t\t@IExtensionsWorkbenchService private readonly extensionsWorkbenchService: IExtensionsWorkbenchService,\n\t\t@IHostService private readonly hostService: IHostService,\n\t\t@ILogService private readonly logService: ILogService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@ICommandService private readonly commandService: ICommandService,\n\t) {\n\t\tthis.loopCheckForMaliciousExtensions();\n\t}\n\n\tprivate loopCheckForMaliciousExtensions(): void {\n\t\tthis.checkForMaliciousExtensions()\n\t\t\t.then(() => timeout(1000 * 60 * 5)) // every five minutes\n\t\t\t.then(() => this.loopCheckForMaliciousExtensions());\n\t}\n\n\tprivate async checkForMaliciousExtensions(): Promise<void> {\n\t\ttry {\n\t\t\tconst maliciousExtensions: [ILocalExtension, string | undefined][] = [];\n\t\t\tlet shouldRestartExtensions = false;\n\t\t\tlet shouldReloadWindow = false;\n\t\t\tfor (const extension of this.extensionsWorkbenchService.installed) {\n\t\t\t\tif (extension.isMalicious && extension.local) {\n\t\t\t\t\tmaliciousExtensions.push([extension.local, extension.maliciousInfoLink]);\n\t\t\t\t\tshouldRestartExtensions = shouldRestartExtensions || extension.runtimeState?.action === ExtensionRuntimeActionType.RestartExtensions;\n\t\t\t\t\tshouldReloadWindow = shouldReloadWindow || extension.runtimeState?.action === ExtensionRuntimeActionType.ReloadWindow;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (maliciousExtensions.length) {\n\t\t\t\tawait this.extensionsManagementService.uninstallExtensions(maliciousExtensions.map(e => ({ extension: e[0], options: { remove: true } })));\n\t\t\t\tfor (const [extension, link] of maliciousExtensions) {\n\t\t\t\t\tconst buttons: IPromptChoice[] = [];\n\t\t\t\t\tif (shouldRestartExtensions || shouldReloadWindow) {\n\t\t\t\t\t\tbuttons.push({\n\t\t\t\t\t\t\tlabel: shouldRestartExtensions ? localize('restartNow', \"Restart Extensions\") : localize('reloadNow', \"Reload Now\"),\n\t\t\t\t\t\t\trun: () => shouldRestartExtensions ? this.extensionsWorkbenchService.updateRunningExtensions() : this.hostService.reload()\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (link) {\n\t\t\t\t\t\tbuttons.push({\n\t\t\t\t\t\t\tlabel: localize('learnMore', \"Learn More\"),\n\t\t\t\t\t\t\trun: () => this.commandService.executeCommand('vscode.open', URI.parse(link))\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tthis.notificationService.prompt(\n\t\t\t\t\t\tSeverity.Warning,\n\t\t\t\t\t\tlocalize('malicious warning', \"The extension '{0}' was found to be problematic and has been uninstalled\", extension.manifest.displayName || extension.identifier.id),\n\t\t\t\t\t\tbuttons,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsticky: true,\n\t\t\t\t\t\t\tpriority: NotificationPriority.URGENT\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t} catch (err) {\n\t\t\tthis.logService.error(err);\n\t\t}\n\t}\n}\n\nexport class ExtensionMarketplaceStatusUpdater extends Disposable implements IWorkbenchContribution {\n\n\tprivate readonly badgeHandle = this._register(new MutableDisposable());\n\tprivate readonly accountBadgeDisposable = this._register(new MutableDisposable());\n\n\tconstructor(\n\t\t@IActivityService private readonly activityService: IActivityService,\n\t\t@IExtensionGalleryManifestService private readonly extensionGalleryManifestService: IExtensionGalleryManifestService\n\t) {\n\t\tsuper();\n\t\tthis.updateBadge();\n\t\tthis._register(this.extensionGalleryManifestService.onDidChangeExtensionGalleryManifestStatus(() => this.updateBadge()));\n\t}\n\n\tprivate async updateBadge(): Promise<void> {\n\t\tthis.badgeHandle.clear();\n\n\t\tconst status = this.extensionGalleryManifestService.extensionGalleryManifestStatus;\n\t\tlet badge: IBadge | undefined;\n\n\t\tswitch (status) {\n\t\t\tcase ExtensionGalleryManifestStatus.RequiresSignIn:\n\t\t\t\tbadge = new NumberBadge(1, () => localize('signInRequired', \"Sign in required to access marketplace\"));\n\t\t\t\tbreak;\n\t\t\tcase ExtensionGalleryManifestStatus.AccessDenied:\n\t\t\t\tbadge = new WarningBadge(() => localize('accessDenied', \"Access denied to marketplace\"));\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (badge) {\n\t\t\tthis.badgeHandle.value = this.activityService.showViewContainerActivity(VIEWLET_ID, { badge });\n\t\t}\n\n\t\tthis.accountBadgeDisposable.clear();\n\t\tif (status === ExtensionGalleryManifestStatus.RequiresSignIn) {\n\t\t\tconst badge = new NumberBadge(1, () => localize('sign in enterprise marketplace', \"Sign in to access Marketplace\"));\n\t\t\tthis.accountBadgeDisposable.value = this.activityService.showAccountsActivity({ badge });\n\t\t}\n\t}\n}\n"]}