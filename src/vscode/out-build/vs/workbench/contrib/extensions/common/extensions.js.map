{"version":3,"sources":["vs/workbench/contrib/extensions/common/extensions.ts"],"names":[],"mappings":"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","file":"extensions.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { IPager } from '../../../../base/common/paging.js';\nimport { IQueryOptions, ILocalExtension, IGalleryExtension, IExtensionIdentifier, IExtensionInfo, IExtensionQueryOptions, IDeprecationInfo, InstallExtensionResult, InstallOptions } from '../../../../platform/extensionManagement/common/extensionManagement.js';\nimport { EnablementState, IExtensionManagementServer, IResourceExtension } from '../../../services/extensionManagement/common/extensionManagement.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { Disposable, IDisposable } from '../../../../base/common/lifecycle.js';\nimport { areSameExtensions } from '../../../../platform/extensionManagement/common/extensionManagementUtil.js';\nimport { IExtensionManifest, ExtensionType } from '../../../../platform/extensions/common/extensions.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { IView, IViewPaneContainer } from '../../../common/views.js';\nimport { RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IExtensionsStatus as IExtensionRuntimeStatus } from '../../../services/extensions/common/extensions.js';\nimport { IExtensionEditorOptions } from './extensionsInput.js';\nimport { MenuId } from '../../../../platform/actions/common/actions.js';\nimport { ProgressLocation } from '../../../../platform/progress/common/progress.js';\nimport { Severity } from '../../../../platform/notification/common/notification.js';\nimport { IMarkdownString } from '../../../../base/common/htmlContent.js';\nimport { localize2 } from '../../../../nls.js';\nimport { ExtensionGalleryManifestStatus } from '../../../../platform/extensionManagement/common/extensionGalleryManifest.js';\n\nexport const VIEWLET_ID = 'workbench.view.extensions';\nexport const EXTENSIONS_CATEGORY = localize2('extensions', \"Extensions\");\n\nexport interface IExtensionsViewPaneContainer extends IViewPaneContainer {\n\treadonly searchValue: string | undefined;\n\tsearch(text: string): void;\n\trefresh(): Promise<void>;\n}\n\nexport interface IWorkspaceRecommendedExtensionsView extends IView {\n\tinstallWorkspaceRecommendations(): Promise<void>;\n}\n\nexport const enum ExtensionState {\n\tInstalling,\n\tInstalled,\n\tUninstalling,\n\tUninstalled\n}\n\nexport const enum ExtensionRuntimeActionType {\n\tReloadWindow = 'reloadWindow',\n\tRestartExtensions = 'restartExtensions',\n\tDownloadUpdate = 'downloadUpdate',\n\tApplyUpdate = 'applyUpdate',\n\tQuitAndInstall = 'quitAndInstall',\n}\n\nexport type ExtensionRuntimeState = { action: ExtensionRuntimeActionType; reason: string };\n\nexport interface IExtension {\n\treadonly type: ExtensionType;\n\treadonly isBuiltin: boolean;\n\treadonly isWorkspaceScoped: boolean;\n\treadonly state: ExtensionState;\n\treadonly name: string;\n\treadonly displayName: string;\n\treadonly identifier: IExtensionIdentifier;\n\treadonly publisher: string;\n\treadonly publisherDisplayName: string;\n\treadonly publisherUrl?: URI;\n\treadonly publisherDomain?: { link: string; verified: boolean };\n\treadonly publisherSponsorLink?: URI;\n\treadonly pinned: boolean;\n\treadonly version: string;\n\treadonly private: boolean;\n\treadonly latestVersion: string;\n\treadonly preRelease: boolean;\n\treadonly isPreReleaseVersion: boolean;\n\treadonly hasPreReleaseVersion: boolean;\n\treadonly hasReleaseVersion: boolean;\n\treadonly description: string;\n\treadonly url?: string;\n\treadonly repository?: string;\n\treadonly supportUrl?: string;\n\treadonly iconUrl?: string;\n\treadonly iconUrlFallback?: string;\n\treadonly licenseUrl?: string;\n\treadonly installCount?: number;\n\treadonly rating?: number;\n\treadonly ratingCount?: number;\n\treadonly ratingUrl?: string;\n\treadonly outdated: boolean;\n\treadonly outdatedTargetPlatform: boolean;\n\treadonly runtimeState: ExtensionRuntimeState | undefined;\n\treadonly enablementState: EnablementState;\n\treadonly tags: readonly string[];\n\treadonly categories: readonly string[];\n\treadonly dependencies: string[];\n\treadonly extensionPack: string[];\n\treadonly telemetryData: any;\n\treadonly preview: boolean;\n\tgetManifest(token: CancellationToken): Promise<IExtensionManifest | null>;\n\thasReadme(): boolean;\n\tgetReadme(token: CancellationToken): Promise<string>;\n\thasChangelog(): boolean;\n\tgetChangelog(token: CancellationToken): Promise<string>;\n\treadonly server?: IExtensionManagementServer;\n\treadonly local?: ILocalExtension;\n\tgallery?: IGalleryExtension;\n\treadonly resourceExtension?: IResourceExtension;\n\treadonly isMalicious: boolean | undefined;\n\treadonly maliciousInfoLink: string | undefined;\n\treadonly deprecationInfo?: IDeprecationInfo;\n\treadonly missingFromGallery?: boolean;\n}\n\nexport const IExtensionsWorkbenchService = createDecorator<IExtensionsWorkbenchService>('extensionsWorkbenchService');\n\nexport interface InstallExtensionOptions extends InstallOptions {\n\tversion?: string;\n\tjustification?: string | { reason: string; action: string };\n\tenable?: boolean;\n\tinstallEverywhere?: boolean;\n}\n\nexport interface IExtensionsNotification {\n\treadonly message: string;\n\treadonly severity: Severity;\n\treadonly extensions: IExtension[];\n\tdismiss(): void;\n}\n\nexport interface IExtensionsWorkbenchService {\n\treadonly _serviceBrand: undefined;\n\treadonly onChange: Event<IExtension | undefined>;\n\treadonly onReset: Event<void>;\n\treadonly local: IExtension[];\n\treadonly installed: IExtension[];\n\treadonly outdated: IExtension[];\n\treadonly whenInitialized: Promise<void>;\n\tqueryLocal(server?: IExtensionManagementServer): Promise<IExtension[]>;\n\tqueryGallery(token: CancellationToken): Promise<IPager<IExtension>>;\n\tqueryGallery(options: IQueryOptions, token: CancellationToken): Promise<IPager<IExtension>>;\n\tgetExtensions(extensionInfos: IExtensionInfo[], token: CancellationToken): Promise<IExtension[]>;\n\tgetExtensions(extensionInfos: IExtensionInfo[], options: IExtensionQueryOptions, token: CancellationToken): Promise<IExtension[]>;\n\tgetResourceExtensions(locations: URI[], isWorkspaceScoped: boolean): Promise<IExtension[]>;\n\tcanInstall(extension: IExtension): Promise<true | IMarkdownString>;\n\tinstall(id: string, installOptions?: InstallExtensionOptions, progressLocation?: ProgressLocation | string): Promise<IExtension>;\n\tinstall(vsix: URI, installOptions?: InstallExtensionOptions, progressLocation?: ProgressLocation | string): Promise<IExtension>;\n\tinstall(extension: IExtension, installOptions?: InstallExtensionOptions, progressLocation?: ProgressLocation | string): Promise<IExtension>;\n\tinstallInServer(extension: IExtension, server: IExtensionManagementServer, installOptions?: InstallOptions): Promise<void>;\n\tdownloadVSIX(extension: string, versionKind: 'prerelease' | 'release' | 'any'): Promise<void>;\n\tuninstall(extension: IExtension): Promise<void>;\n\ttogglePreRelease(extension: IExtension): Promise<void>;\n\tcanSetLanguage(extension: IExtension): boolean;\n\tsetLanguage(extension: IExtension): Promise<void>;\n\tsetEnablement(extensions: IExtension | IExtension[], enablementState: EnablementState): Promise<void>;\n\tisAutoUpdateEnabledFor(extensionOrPublisher: IExtension | string): boolean;\n\tupdateAutoUpdateEnablementFor(extensionOrPublisher: IExtension | string, enable: boolean): Promise<void>;\n\tshouldRequireConsentToUpdate(extension: IExtension): Promise<string | undefined>;\n\tupdateAutoUpdateForAllExtensions(value: boolean): Promise<void>;\n\topen(extension: IExtension | string, options?: IExtensionEditorOptions): Promise<void>;\n\topenSearch(searchValue: string, focus?: boolean): Promise<void>;\n\tgetAutoUpdateValue(): AutoUpdateConfigurationValue;\n\tcheckForUpdates(): Promise<void>;\n\tgetExtensionRuntimeStatus(extension: IExtension): IExtensionRuntimeStatus | undefined;\n\tupdateAll(): Promise<InstallExtensionResult[]>;\n\tupdateRunningExtensions(message?: string): Promise<void>;\n\n\treadonly onDidChangeExtensionsNotification: Event<IExtensionsNotification | undefined>;\n\tgetExtensionsNotification(): IExtensionsNotification | undefined;\n\n\t// Sync APIs\n\tisExtensionIgnoredToSync(extension: IExtension): boolean;\n\ttoggleExtensionIgnoredToSync(extension: IExtension): Promise<void>;\n\ttoggleApplyExtensionToAllProfiles(extension: IExtension): Promise<void>;\n}\n\nexport const enum ExtensionEditorTab {\n\tReadme = 'readme',\n\tFeatures = 'features',\n\tChangelog = 'changelog',\n\tDependencies = 'dependencies',\n\tExtensionPack = 'extensionPack',\n}\n\nexport const ConfigurationKey = 'extensions';\nexport const AutoUpdateConfigurationKey = 'extensions.autoUpdate';\nexport const AutoCheckUpdatesConfigurationKey = 'extensions.autoCheckUpdates';\nexport const CloseExtensionDetailsOnViewChangeKey = 'extensions.closeExtensionDetailsOnViewChange';\nexport const AutoRestartConfigurationKey = 'extensions.autoRestart';\n\nexport type AutoUpdateConfigurationValue = boolean | 'onlyEnabledExtensions' | 'onlySelectedExtensions';\n\nexport interface IExtensionsConfiguration {\n\tautoUpdate: boolean;\n\tautoCheckUpdates: boolean;\n\tignoreRecommendations: boolean;\n\tcloseExtensionDetailsOnViewChange: boolean;\n}\n\nexport interface IExtensionContainer extends IDisposable {\n\textension: IExtension | null;\n\tupdateWhenCounterExtensionChanges?: boolean;\n\tupdate(): void;\n}\n\nexport interface IExtensionsViewState {\n\treadonly onFocus: Event<IExtension>;\n\treadonly onBlur: Event<IExtension>;\n\tfilters: {\n\t\tfeatureId?: string;\n\t};\n}\n\nexport class ExtensionContainers extends Disposable {\n\n\tconstructor(\n\t\tprivate readonly containers: IExtensionContainer[],\n\t\t@IExtensionsWorkbenchService extensionsWorkbenchService: IExtensionsWorkbenchService\n\t) {\n\t\tsuper();\n\t\tthis._register(extensionsWorkbenchService.onChange(this.update, this));\n\t}\n\n\tset extension(extension: IExtension) {\n\t\tthis.containers.forEach(c => c.extension = extension);\n\t}\n\n\tprivate update(extension: IExtension | undefined): void {\n\t\tfor (const container of this.containers) {\n\t\t\tif (extension && container.extension) {\n\t\t\t\tif (areSameExtensions(container.extension.identifier, extension.identifier)) {\n\t\t\t\t\tif (container.extension.server && extension.server && container.extension.server !== extension.server) {\n\t\t\t\t\t\tif (container.updateWhenCounterExtensionChanges) {\n\t\t\t\t\t\t\tcontainer.update();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontainer.extension = extension;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcontainer.update();\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport const WORKSPACE_RECOMMENDATIONS_VIEW_ID = 'workbench.views.extensions.workspaceRecommendations';\nexport const OUTDATED_EXTENSIONS_VIEW_ID = 'workbench.views.extensions.searchOutdated';\nexport const TOGGLE_IGNORE_EXTENSION_ACTION_ID = 'workbench.extensions.action.toggleIgnoreExtension';\nexport const SELECT_INSTALL_VSIX_EXTENSION_COMMAND_ID = 'workbench.extensions.action.installVSIX';\nexport const INSTALL_EXTENSION_FROM_VSIX_COMMAND_ID = 'workbench.extensions.command.installFromVSIX';\n\nexport const LIST_WORKSPACE_UNSUPPORTED_EXTENSIONS_COMMAND_ID = 'workbench.extensions.action.listWorkspaceUnsupportedExtensions';\n\n// Context Keys\nexport const DefaultViewsContext = new RawContextKey<boolean>('defaultExtensionViews', true);\nexport const HasOutdatedExtensionsContext = new RawContextKey<boolean>('hasOutdatedExtensions', false);\nexport const CONTEXT_HAS_GALLERY = new RawContextKey<boolean>('hasGallery', false);\nexport const CONTEXT_EXTENSIONS_GALLERY_STATUS = new RawContextKey<string>('extensionsGalleryStatus', ExtensionGalleryManifestStatus.Unavailable);\nexport const ExtensionResultsListFocused = new RawContextKey<boolean>('extensionResultListFocused ', true);\nexport const SearchMcpServersContext = new RawContextKey<boolean>('searchMcpServers', false);\n\n// Context Menu Groups\nexport const THEME_ACTIONS_GROUP = '_theme_';\nexport const INSTALL_ACTIONS_GROUP = '0_install';\nexport const UPDATE_ACTIONS_GROUP = '0_update';\n\nexport const extensionsSearchActionsMenu = new MenuId('extensionsSearchActionsMenu');\nexport const extensionsFilterSubMenu = new MenuId('extensionsFilterSubMenu');\n\nexport interface IExtensionArg {\n\tid: string;\n\tversion: string;\n\tlocation: URI | undefined;\n\tgalleryLink: string | undefined;\n}\n"]}