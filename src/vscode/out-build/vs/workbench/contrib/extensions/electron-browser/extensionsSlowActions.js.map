{"version":3,"sources":["vs/workbench/contrib/extensions/electron-browser/extensionsSlowActions.ts"],"names":[],"mappings":"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","file":"extensionsSlowActions.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IProductService } from '../../../../platform/product/common/productService.js';\nimport { Action } from '../../../../base/common/actions.js';\nimport { IExtensionDescription } from '../../../../platform/extensions/common/extensions.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { IExtensionHostProfile } from '../../../services/extensions/common/extensions.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { localize } from '../../../../nls.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { IRequestService, asText } from '../../../../platform/request/common/request.js';\nimport { joinPath } from '../../../../base/common/resources.js';\nimport { IDialogService } from '../../../../platform/dialogs/common/dialogs.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { INativeHostService } from '../../../../platform/native/common/native.js';\nimport { INativeWorkbenchEnvironmentService } from '../../../services/environment/electron-browser/environmentService.js';\nimport { Utils } from '../../../../platform/profiling/common/profiling.js';\nimport { IFileService } from '../../../../platform/files/common/files.js';\nimport { VSBuffer } from '../../../../base/common/buffer.js';\nimport { IRequestContext } from '../../../../base/parts/request/common/request.js';\n\nabstract class RepoInfo {\n\tabstract get base(): string;\n\tabstract get owner(): string;\n\tabstract get repo(): string;\n\n\tstatic fromExtension(desc: IExtensionDescription): RepoInfo | undefined {\n\n\t\tlet result: RepoInfo | undefined;\n\n\t\t// scheme:auth/OWNER/REPO/issues/\n\t\tif (desc.bugs && typeof desc.bugs.url === 'string') {\n\t\t\tconst base = URI.parse(desc.bugs.url);\n\t\t\tconst match = /\\/([^/]+)\\/([^/]+)\\/issues\\/?$/.exec(desc.bugs.url);\n\t\t\tif (match) {\n\t\t\t\tresult = {\n\t\t\t\t\tbase: base.with({ path: null, fragment: null, query: null }).toString(true),\n\t\t\t\t\towner: match[1],\n\t\t\t\t\trepo: match[2]\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\t// scheme:auth/OWNER/REPO.git\n\t\tif (!result && desc.repository && typeof desc.repository.url === 'string') {\n\t\t\tconst base = URI.parse(desc.repository.url);\n\t\t\tconst match = /\\/([^/]+)\\/([^/]+)(\\.git)?$/.exec(desc.repository.url);\n\t\t\tif (match) {\n\t\t\t\tresult = {\n\t\t\t\t\tbase: base.with({ path: null, fragment: null, query: null }).toString(true),\n\t\t\t\t\towner: match[1],\n\t\t\t\t\trepo: match[2]\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\t// for now only GH is supported\n\t\tif (result && result.base.indexOf('github') === -1) {\n\t\t\tresult = undefined;\n\t\t}\n\n\t\treturn result;\n\t}\n}\n\nexport class SlowExtensionAction extends Action {\n\n\tconstructor(\n\t\treadonly extension: IExtensionDescription,\n\t\treadonly profile: IExtensionHostProfile,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService,\n\t) {\n\t\tsuper('report.slow', localize('cmd.reportOrShow', \"Performance Issue\"), 'extension-action report-issue');\n\t\tthis.enabled = Boolean(RepoInfo.fromExtension(extension));\n\t}\n\n\toverride async run(): Promise<void> {\n\t\tconst action = await this._instantiationService.invokeFunction(createSlowExtensionAction, this.extension, this.profile);\n\t\tif (action) {\n\t\t\tawait action.run();\n\t\t}\n\t}\n}\n\nexport async function createSlowExtensionAction(\n\taccessor: ServicesAccessor,\n\textension: IExtensionDescription,\n\tprofile: IExtensionHostProfile\n): Promise<Action | undefined> {\n\n\tconst info = RepoInfo.fromExtension(extension);\n\tif (!info) {\n\t\treturn undefined;\n\t}\n\n\tconst requestService = accessor.get(IRequestService);\n\tconst instaService = accessor.get(IInstantiationService);\n\tconst url = `https://api.github.com/search/issues?q=is:issue+state:open+in:title+repo:${info.owner}/${info.repo}+%22Extension+causes+high+cpu+load%22`;\n\tlet res: IRequestContext;\n\ttry {\n\t\tres = await requestService.request({ url }, CancellationToken.None);\n\t} catch {\n\t\treturn undefined;\n\t}\n\tconst rawText = await asText(res);\n\tif (!rawText) {\n\t\treturn undefined;\n\t}\n\n\tconst data = <{ total_count: number }>JSON.parse(rawText);\n\tif (!data || typeof data.total_count !== 'number') {\n\t\treturn undefined;\n\t} else if (data.total_count === 0) {\n\t\treturn instaService.createInstance(ReportExtensionSlowAction, extension, info, profile);\n\t} else {\n\t\treturn instaService.createInstance(ShowExtensionSlowAction, extension, info, profile);\n\t}\n}\n\nclass ReportExtensionSlowAction extends Action {\n\n\tconstructor(\n\t\treadonly extension: IExtensionDescription,\n\t\treadonly repoInfo: RepoInfo,\n\t\treadonly profile: IExtensionHostProfile,\n\t\t@IDialogService private readonly _dialogService: IDialogService,\n\t\t@IOpenerService private readonly _openerService: IOpenerService,\n\t\t@IProductService private readonly _productService: IProductService,\n\t\t@INativeHostService private readonly _nativeHostService: INativeHostService,\n\t\t@INativeWorkbenchEnvironmentService private readonly _environmentService: INativeWorkbenchEnvironmentService,\n\t\t@IFileService private readonly _fileService: IFileService,\n\t) {\n\t\tsuper('report.slow', localize('cmd.report', \"Report Issue\"));\n\t}\n\n\toverride async run(): Promise<void> {\n\n\t\t// rewrite pii (paths) and store on disk\n\t\tconst data = Utils.rewriteAbsolutePaths(this.profile.data, 'pii_removed');\n\t\tconst path = joinPath(this._environmentService.tmpDir, `${this.extension.identifier.value}-unresponsive.cpuprofile.txt`);\n\t\tawait this._fileService.writeFile(path, VSBuffer.fromString(JSON.stringify(data, undefined, 4)));\n\n\t\t// build issue\n\t\tconst os = await this._nativeHostService.getOSProperties();\n\t\tconst title = encodeURIComponent('Extension causes high cpu load');\n\t\tconst osVersion = `${os.type} ${os.arch} ${os.release}`;\n\t\tconst message = `:warning: Make sure to **attach** this file from your *home*-directory:\\n:warning:\\`${path}\\`\\n\\nFind more details here: https://github.com/microsoft/vscode/wiki/Explain-extension-causes-high-cpu-load`;\n\t\tconst body = encodeURIComponent(`- Issue Type: \\`Performance\\`\n- Extension Name: \\`${this.extension.name}\\`\n- Extension Version: \\`${this.extension.version}\\`\n- OS Version: \\`${osVersion}\\`\n- VS Code version: \\`${this._productService.version}\\`\\n\\n${message}`);\n\n\t\tconst url = `${this.repoInfo.base}/${this.repoInfo.owner}/${this.repoInfo.repo}/issues/new/?body=${body}&title=${title}`;\n\t\tthis._openerService.open(URI.parse(url));\n\n\t\tthis._dialogService.info(\n\t\t\tlocalize('attach.title', \"Did you attach the CPU-Profile?\"),\n\t\t\tlocalize('attach.msg', \"This is a reminder to make sure that you have not forgotten to attach '{0}' to the issue you have just created.\", path.fsPath)\n\t\t);\n\t}\n}\n\nclass ShowExtensionSlowAction extends Action {\n\n\tconstructor(\n\t\treadonly extension: IExtensionDescription,\n\t\treadonly repoInfo: RepoInfo,\n\t\treadonly profile: IExtensionHostProfile,\n\t\t@IDialogService private readonly _dialogService: IDialogService,\n\t\t@IOpenerService private readonly _openerService: IOpenerService,\n\t\t@INativeWorkbenchEnvironmentService private readonly _environmentService: INativeWorkbenchEnvironmentService,\n\t\t@IFileService private readonly _fileService: IFileService,\n\n\t) {\n\t\tsuper('show.slow', localize('cmd.show', \"Show Issues\"));\n\t}\n\n\toverride async run(): Promise<void> {\n\n\t\t// rewrite pii (paths) and store on disk\n\t\tconst data = Utils.rewriteAbsolutePaths(this.profile.data, 'pii_removed');\n\t\tconst path = joinPath(this._environmentService.tmpDir, `${this.extension.identifier.value}-unresponsive.cpuprofile.txt`);\n\t\tawait this._fileService.writeFile(path, VSBuffer.fromString(JSON.stringify(data, undefined, 4)));\n\n\t\t// show issues\n\t\tconst url = `${this.repoInfo.base}/${this.repoInfo.owner}/${this.repoInfo.repo}/issues?utf8=âœ“&q=is%3Aissue+state%3Aopen+%22Extension+causes+high+cpu+load%22`;\n\t\tthis._openerService.open(URI.parse(url));\n\n\t\tthis._dialogService.info(\n\t\t\tlocalize('attach.title', \"Did you attach the CPU-Profile?\"),\n\t\t\tlocalize('attach.msg2', \"This is a reminder to make sure that you have not forgotten to attach '{0}' to an existing performance issue.\", path.fsPath)\n\t\t);\n\t}\n}\n"]}