{"version":3,"sources":["vs/workbench/contrib/bulkEdit/browser/preview/bulkEditPane.ts"],"names":[],"mappings":"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","file":"bulkEditPane.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ButtonBar } from '../../../../../base/browser/ui/button/button.js';\nimport type { IAsyncDataTreeViewState } from '../../../../../base/browser/ui/tree/asyncDataTree.js';\nimport { ITreeContextMenuEvent } from '../../../../../base/browser/ui/tree/tree.js';\nimport { CachedFunction, LRUCachedFunction } from '../../../../../base/common/cache.js';\nimport { CancellationToken } from '../../../../../base/common/cancellation.js';\nimport { FuzzyScore } from '../../../../../base/common/filters.js';\nimport { DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { Mutable } from '../../../../../base/common/types.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport './bulkEdit.css';\nimport { ResourceEdit } from '../../../../../editor/browser/services/bulkEditService.js';\nimport { IMultiDiffEditorOptions, IMultiDiffResourceId } from '../../../../../editor/browser/widget/multiDiffEditor/multiDiffEditorWidgetImpl.js';\nimport { IRange } from '../../../../../editor/common/core/range.js';\nimport { ITextModelService } from '../../../../../editor/common/services/resolverService.js';\nimport { localize } from '../../../../../nls.js';\nimport { MenuId } from '../../../../../platform/actions/common/actions.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { IContextKey, IContextKeyService, RawContextKey } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { IContextMenuService } from '../../../../../platform/contextview/browser/contextView.js';\nimport { IDialogService } from '../../../../../platform/dialogs/common/dialogs.js';\nimport { IHoverService } from '../../../../../platform/hover/browser/hover.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../../platform/keybinding/common/keybinding.js';\nimport { ILabelService } from '../../../../../platform/label/common/label.js';\nimport { IOpenEvent, WorkbenchAsyncDataTree } from '../../../../../platform/list/browser/listService.js';\nimport { IOpenerService } from '../../../../../platform/opener/common/opener.js';\nimport { IStorageService, StorageScope, StorageTarget } from '../../../../../platform/storage/common/storage.js';\nimport { defaultButtonStyles } from '../../../../../platform/theme/browser/defaultStyles.js';\nimport { IThemeService } from '../../../../../platform/theme/common/themeService.js';\nimport { ResourceLabels } from '../../../../browser/labels.js';\nimport { ViewPane } from '../../../../browser/parts/views/viewPane.js';\nimport { IViewletViewOptions } from '../../../../browser/parts/views/viewsViewlet.js';\nimport { IMultiDiffEditorResource, IResourceDiffEditorInput } from '../../../../common/editor.js';\nimport { IViewDescriptorService } from '../../../../common/views.js';\nimport { BulkEditPreviewProvider, BulkFileOperation, BulkFileOperations, BulkFileOperationType } from './bulkEditPreview.js';\nimport { BulkEditAccessibilityProvider, BulkEditDataSource, BulkEditDelegate, BulkEditElement, BulkEditIdentityProvider, BulkEditNaviLabelProvider, BulkEditSorter, CategoryElement, CategoryElementRenderer, compareBulkFileOperations, FileElement, FileElementRenderer, TextEditElement, TextEditElementRenderer } from './bulkEditTree.js';\nimport { ACTIVE_GROUP, IEditorService, SIDE_GROUP } from '../../../../services/editor/common/editorService.js';\n\nconst enum State {\n\tData = 'data',\n\tMessage = 'message'\n}\n\nexport class BulkEditPane extends ViewPane {\n\n\tstatic readonly ID = 'refactorPreview';\n\tstatic readonly Schema = 'vscode-bulkeditpreview-multieditor';\n\n\tstatic readonly ctxHasCategories = new RawContextKey('refactorPreview.hasCategories', false);\n\tstatic readonly ctxGroupByFile = new RawContextKey('refactorPreview.groupByFile', true);\n\tstatic readonly ctxHasCheckedChanges = new RawContextKey('refactorPreview.hasCheckedChanges', true);\n\n\tprivate static readonly _memGroupByFile = `${this.ID}.groupByFile`;\n\n\tprivate _tree!: WorkbenchAsyncDataTree<BulkFileOperations, BulkEditElement, FuzzyScore>;\n\tprivate _treeDataSource!: BulkEditDataSource;\n\tprivate _treeViewStates = new Map<boolean, IAsyncDataTreeViewState>();\n\tprivate _message!: HTMLSpanElement;\n\n\tprivate readonly _ctxHasCategories: IContextKey<boolean>;\n\tprivate readonly _ctxGroupByFile: IContextKey<boolean>;\n\tprivate readonly _ctxHasCheckedChanges: IContextKey<boolean>;\n\n\tprivate readonly _disposables = new DisposableStore();\n\tprivate readonly _sessionDisposables = new DisposableStore();\n\tprivate _currentResolve?: (edit?: ResourceEdit[]) => void;\n\tprivate _currentInput?: BulkFileOperations;\n\tprivate _currentProvider?: BulkEditPreviewProvider;\n\n\tconstructor(\n\t\toptions: IViewletViewOptions,\n\t\t@IInstantiationService private readonly _instaService: IInstantiationService,\n\t\t@IEditorService private readonly _editorService: IEditorService,\n\t\t@ILabelService private readonly _labelService: ILabelService,\n\t\t@ITextModelService private readonly _textModelService: ITextModelService,\n\t\t@IDialogService private readonly _dialogService: IDialogService,\n\t\t@IContextMenuService private readonly _contextMenuService: IContextMenuService,\n\t\t@IStorageService private readonly _storageService: IStorageService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IOpenerService openerService: IOpenerService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IHoverService hoverService: IHoverService,\n\t) {\n\t\tsuper(\n\t\t\t{ ...options, titleMenuId: MenuId.BulkEditTitle },\n\t\t\tkeybindingService, contextMenuService, configurationService, contextKeyService, viewDescriptorService, _instaService, openerService, themeService, hoverService\n\t\t);\n\n\t\tthis.element.classList.add('bulk-edit-panel', 'show-file-icons');\n\t\tthis._ctxHasCategories = BulkEditPane.ctxHasCategories.bindTo(contextKeyService);\n\t\tthis._ctxGroupByFile = BulkEditPane.ctxGroupByFile.bindTo(contextKeyService);\n\t\tthis._ctxHasCheckedChanges = BulkEditPane.ctxHasCheckedChanges.bindTo(contextKeyService);\n\t}\n\n\toverride dispose(): void {\n\t\tthis._tree.dispose();\n\t\tthis._disposables.dispose();\n\t\tsuper.dispose();\n\t}\n\n\tprotected override renderBody(parent: HTMLElement): void {\n\t\tsuper.renderBody(parent);\n\n\t\tconst resourceLabels = this._instaService.createInstance(\n\t\t\tResourceLabels,\n\t\t\t{ onDidChangeVisibility: this.onDidChangeBodyVisibility }\n\t\t);\n\t\tthis._disposables.add(resourceLabels);\n\n\t\tconst contentContainer = document.createElement('div');\n\t\tcontentContainer.className = 'content';\n\t\tparent.appendChild(contentContainer);\n\n\t\t// tree\n\t\tconst treeContainer = document.createElement('div');\n\t\tcontentContainer.appendChild(treeContainer);\n\n\t\tthis._treeDataSource = this._instaService.createInstance(BulkEditDataSource);\n\t\tthis._treeDataSource.groupByFile = this._storageService.getBoolean(BulkEditPane._memGroupByFile, StorageScope.PROFILE, true);\n\t\tthis._ctxGroupByFile.set(this._treeDataSource.groupByFile);\n\n\t\tthis._tree = this._instaService.createInstance(\n\t\t\tWorkbenchAsyncDataTree<BulkFileOperations, BulkEditElement, FuzzyScore>, this.id, treeContainer,\n\t\t\tnew BulkEditDelegate(),\n\t\t\t[this._instaService.createInstance(TextEditElementRenderer), this._instaService.createInstance(FileElementRenderer, resourceLabels), this._instaService.createInstance(CategoryElementRenderer)],\n\t\t\tthis._treeDataSource,\n\t\t\t{\n\t\t\t\taccessibilityProvider: this._instaService.createInstance(BulkEditAccessibilityProvider),\n\t\t\t\tidentityProvider: new BulkEditIdentityProvider(),\n\t\t\t\texpandOnlyOnTwistieClick: true,\n\t\t\t\tmultipleSelectionSupport: false,\n\t\t\t\tkeyboardNavigationLabelProvider: new BulkEditNaviLabelProvider(),\n\t\t\t\tsorter: new BulkEditSorter(),\n\t\t\t\tselectionNavigation: true\n\t\t\t}\n\t\t);\n\n\t\tthis._disposables.add(this._tree.onContextMenu(this._onContextMenu, this));\n\t\tthis._disposables.add(this._tree.onDidOpen(e => this._openElementInMultiDiffEditor(e)));\n\n\t\t// buttons\n\t\tconst buttonsContainer = document.createElement('div');\n\t\tbuttonsContainer.className = 'buttons';\n\t\tcontentContainer.appendChild(buttonsContainer);\n\t\tconst buttonBar = new ButtonBar(buttonsContainer);\n\t\tthis._disposables.add(buttonBar);\n\n\t\tconst btnConfirm = buttonBar.addButton({ supportIcons: true, ...defaultButtonStyles });\n\t\tbtnConfirm.label = localize('ok', 'Apply');\n\t\tbtnConfirm.onDidClick(() => this.accept(), this, this._disposables);\n\n\t\tconst btnCancel = buttonBar.addButton({ ...defaultButtonStyles, secondary: true });\n\t\tbtnCancel.label = localize('cancel', 'Discard');\n\t\tbtnCancel.onDidClick(() => this.discard(), this, this._disposables);\n\n\t\t// message\n\t\tthis._message = document.createElement('span');\n\t\tthis._message.className = 'message';\n\t\tthis._message.innerText = localize('empty.msg', \"Invoke a code action, like rename, to see a preview of its changes here.\");\n\t\tparent.appendChild(this._message);\n\n\t\t//\n\t\tthis._setState(State.Message);\n\t}\n\n\tprotected override layoutBody(height: number, width: number): void {\n\t\tsuper.layoutBody(height, width);\n\t\tconst treeHeight = height - 50;\n\t\tthis._tree.getHTMLElement().parentElement!.style.height = `${treeHeight}px`;\n\t\tthis._tree.layout(treeHeight, width);\n\t}\n\n\tprivate _setState(state: State): void {\n\t\tthis.element.dataset['state'] = state;\n\t}\n\n\tasync setInput(edit: ResourceEdit[], token: CancellationToken): Promise<ResourceEdit[] | undefined> {\n\t\tthis._setState(State.Data);\n\t\tthis._sessionDisposables.clear();\n\t\tthis._treeViewStates.clear();\n\n\t\tif (this._currentResolve) {\n\t\t\tthis._currentResolve(undefined);\n\t\t\tthis._currentResolve = undefined;\n\t\t}\n\n\t\tconst input = await this._instaService.invokeFunction(BulkFileOperations.create, edit);\n\t\tthis._currentProvider = this._instaService.createInstance(BulkEditPreviewProvider, input);\n\t\tthis._sessionDisposables.add(this._currentProvider);\n\t\tthis._sessionDisposables.add(input);\n\n\t\t//\n\t\tconst hasCategories = input.categories.length > 1;\n\t\tthis._ctxHasCategories.set(hasCategories);\n\t\tthis._treeDataSource.groupByFile = !hasCategories || this._treeDataSource.groupByFile;\n\t\tthis._ctxHasCheckedChanges.set(input.checked.checkedCount > 0);\n\n\t\tthis._currentInput = input;\n\n\t\treturn new Promise<ResourceEdit[] | undefined>(resolve => {\n\n\t\t\ttoken.onCancellationRequested(() => resolve(undefined));\n\n\t\t\tthis._currentResolve = resolve;\n\t\t\tthis._setTreeInput(input);\n\n\t\t\t// refresh when check state changes\n\t\t\tthis._sessionDisposables.add(input.checked.onDidChange(() => {\n\t\t\t\tthis._tree.updateChildren();\n\t\t\t\tthis._ctxHasCheckedChanges.set(input.checked.checkedCount > 0);\n\t\t\t}));\n\t\t});\n\t}\n\n\thasInput(): boolean {\n\t\treturn Boolean(this._currentInput);\n\t}\n\n\tprivate async _setTreeInput(input: BulkFileOperations) {\n\n\t\tconst viewState = this._treeViewStates.get(this._treeDataSource.groupByFile);\n\t\tawait this._tree.setInput(input, viewState);\n\t\tthis._tree.domFocus();\n\n\t\tif (viewState) {\n\t\t\treturn;\n\t\t}\n\n\t\t// async expandAll (max=10) is the default when no view state is given\n\t\tconst expand = [...this._tree.getNode(input).children].slice(0, 10);\n\t\twhile (expand.length > 0) {\n\t\t\tconst { element } = expand.shift()!;\n\t\t\tif (element instanceof FileElement) {\n\t\t\t\tawait this._tree.expand(element, true);\n\t\t\t}\n\t\t\tif (element instanceof CategoryElement) {\n\t\t\t\tawait this._tree.expand(element, true);\n\t\t\t\texpand.push(...this._tree.getNode(element).children);\n\t\t\t}\n\t\t}\n\t}\n\n\taccept(): void {\n\n\t\tconst conflicts = this._currentInput?.conflicts.list();\n\n\t\tif (!conflicts || conflicts.length === 0) {\n\t\t\tthis._done(true);\n\t\t\treturn;\n\t\t}\n\n\t\tlet message: string;\n\t\tif (conflicts.length === 1) {\n\t\t\tmessage = localize('conflict.1', \"Cannot apply refactoring because '{0}' has changed in the meantime.\", this._labelService.getUriLabel(conflicts[0], { relative: true }));\n\t\t} else {\n\t\t\tmessage = localize('conflict.N', \"Cannot apply refactoring because {0} other files have changed in the meantime.\", conflicts.length);\n\t\t}\n\n\t\tthis._dialogService.warn(message).finally(() => this._done(false));\n\t}\n\n\tdiscard() {\n\t\tthis._done(false);\n\t}\n\n\tprivate _done(accept: boolean): void {\n\t\tthis._currentResolve?.(accept ? this._currentInput?.getWorkspaceEdit() : undefined);\n\t\tthis._currentInput = undefined;\n\t\tthis._setState(State.Message);\n\t\tthis._sessionDisposables.clear();\n\t}\n\n\ttoggleChecked() {\n\t\tconst [first] = this._tree.getFocus();\n\t\tif ((first instanceof FileElement || first instanceof TextEditElement) && !first.isDisabled()) {\n\t\t\tfirst.setChecked(!first.isChecked());\n\t\t} else if (first instanceof CategoryElement) {\n\t\t\tfirst.setChecked(!first.isChecked());\n\t\t}\n\t}\n\n\tgroupByFile(): void {\n\t\tif (!this._treeDataSource.groupByFile) {\n\t\t\tthis.toggleGrouping();\n\t\t}\n\t}\n\n\tgroupByType(): void {\n\t\tif (this._treeDataSource.groupByFile) {\n\t\t\tthis.toggleGrouping();\n\t\t}\n\t}\n\n\ttoggleGrouping() {\n\t\tconst input = this._tree.getInput();\n\t\tif (input) {\n\n\t\t\t// (1) capture view state\n\t\t\tconst oldViewState = this._tree.getViewState();\n\t\t\tthis._treeViewStates.set(this._treeDataSource.groupByFile, oldViewState);\n\n\t\t\t// (2) toggle and update\n\t\t\tthis._treeDataSource.groupByFile = !this._treeDataSource.groupByFile;\n\t\t\tthis._setTreeInput(input);\n\n\t\t\t// (3) remember preference\n\t\t\tthis._storageService.store(BulkEditPane._memGroupByFile, this._treeDataSource.groupByFile, StorageScope.PROFILE, StorageTarget.USER);\n\t\t\tthis._ctxGroupByFile.set(this._treeDataSource.groupByFile);\n\t\t}\n\t}\n\n\tprivate async _openElementInMultiDiffEditor(e: IOpenEvent<BulkEditElement | undefined>): Promise<void> {\n\n\t\tconst fileOperations = this._currentInput?.fileOperations;\n\t\tif (!fileOperations) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet selection: IRange | undefined = undefined;\n\t\tlet fileElement: FileElement;\n\t\tif (e.element instanceof TextEditElement) {\n\t\t\tfileElement = e.element.parent;\n\t\t\tselection = e.element.edit.textEdit.textEdit.range;\n\t\t} else if (e.element instanceof FileElement) {\n\t\t\tfileElement = e.element;\n\t\t\tselection = e.element.edit.textEdits[0]?.textEdit.textEdit.range;\n\t\t} else {\n\t\t\t// invalid event\n\t\t\treturn;\n\t\t}\n\n\t\tconst result = await this._computeResourceDiffEditorInputs.get(fileOperations);\n\t\tconst resourceId = await result.getResourceDiffEditorInputIdOfOperation(fileElement.edit);\n\t\tconst options: Mutable<IMultiDiffEditorOptions> = {\n\t\t\t...e.editorOptions,\n\t\t\tviewState: {\n\t\t\t\trevealData: {\n\t\t\t\t\tresource: resourceId,\n\t\t\t\t\trange: selection,\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tconst multiDiffSource = URI.from({ scheme: BulkEditPane.Schema });\n\t\tconst label = 'Refactor Preview';\n\t\tthis._editorService.openEditor({\n\t\t\tmultiDiffSource,\n\t\t\tlabel,\n\t\t\toptions,\n\t\t\tisTransient: true,\n\t\t\tdescription: label,\n\t\t\tresources: result.resources\n\t\t}, e.sideBySide ? SIDE_GROUP : ACTIVE_GROUP);\n\t}\n\n\tprivate readonly _computeResourceDiffEditorInputs = new LRUCachedFunction<\n\t\tBulkFileOperation[],\n\t\tPromise<{ resources: IMultiDiffEditorResource[]; getResourceDiffEditorInputIdOfOperation: (operation: BulkFileOperation) => Promise<IMultiDiffResourceId> }>\n\t>(async (fileOperations) => {\n\t\tconst computeDiffEditorInput = new CachedFunction<BulkFileOperation, Promise<IMultiDiffEditorResource>>(async (fileOperation) => {\n\t\t\tconst fileOperationUri = fileOperation.uri;\n\t\t\tconst previewUri = this._currentProvider!.asPreviewUri(fileOperationUri);\n\t\t\t// delete\n\t\t\tif (fileOperation.type & BulkFileOperationType.Delete) {\n\t\t\t\treturn {\n\t\t\t\t\toriginal: { resource: URI.revive(previewUri) },\n\t\t\t\t\tmodified: { resource: undefined },\n\t\t\t\t\tgoToFileResource: fileOperation.uri,\n\t\t\t\t} satisfies IMultiDiffEditorResource;\n\n\t\t\t}\n\t\t\t// rename, create, edits\n\t\t\telse {\n\t\t\t\tlet leftResource: URI | undefined;\n\t\t\t\ttry {\n\t\t\t\t\t(await this._textModelService.createModelReference(fileOperationUri)).dispose();\n\t\t\t\t\tleftResource = fileOperationUri;\n\t\t\t\t} catch {\n\t\t\t\t\tleftResource = BulkEditPreviewProvider.emptyPreview;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\toriginal: { resource: URI.revive(leftResource) },\n\t\t\t\t\tmodified: { resource: URI.revive(previewUri) },\n\t\t\t\t\tgoToFileResource: leftResource,\n\t\t\t\t} satisfies IMultiDiffEditorResource;\n\t\t\t}\n\t\t});\n\n\t\tconst sortedFileOperations = fileOperations.slice().sort(compareBulkFileOperations);\n\t\tconst resources: IResourceDiffEditorInput[] = [];\n\t\tfor (const operation of sortedFileOperations) {\n\t\t\tresources.push(await computeDiffEditorInput.get(operation));\n\t\t}\n\t\tconst getResourceDiffEditorInputIdOfOperation = async (operation: BulkFileOperation): Promise<IMultiDiffResourceId> => {\n\t\t\tconst resource = await computeDiffEditorInput.get(operation);\n\t\t\treturn { original: resource.original.resource, modified: resource.modified.resource };\n\t\t};\n\t\treturn {\n\t\t\tresources,\n\t\t\tgetResourceDiffEditorInputIdOfOperation\n\t\t};\n\t});\n\n\tprivate _onContextMenu(e: ITreeContextMenuEvent<any>): void {\n\n\t\tthis._contextMenuService.showContextMenu({\n\t\t\tmenuId: MenuId.BulkEditContext,\n\t\t\tcontextKeyService: this.contextKeyService,\n\t\t\tgetAnchor: () => e.anchor\n\t\t});\n\t}\n}\n"]}