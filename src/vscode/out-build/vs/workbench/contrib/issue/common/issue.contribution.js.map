{"version":3,"sources":["vs/workbench/contrib/issue/common/issue.contribution.ts"],"names":[],"mappings":"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","file":"issue.contribution.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { localize, localize2 } from '../../../../nls.js';\nimport { ICommandAction } from '../../../../platform/action/common/action.js';\nimport { Categories } from '../../../../platform/action/common/actionCommonCategories.js';\nimport { MenuId, MenuRegistry } from '../../../../platform/actions/common/actions.js';\nimport { CommandsRegistry, ICommandMetadata } from '../../../../platform/commands/common/commands.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nimport { IProductService } from '../../../../platform/product/common/productService.js';\nimport { IWorkbenchContribution } from '../../../common/contributions.js';\nimport { IssueReporterData, IWorkbenchIssueService } from './issue.js';\n\nconst OpenIssueReporterActionId = 'workbench.action.openIssueReporter';\nconst OpenIssueReporterApiId = 'vscode.openIssueReporter';\n\nconst OpenIssueReporterCommandMetadata: ICommandMetadata = {\n\tdescription: 'Open the issue reporter and optionally prefill part of the form.',\n\targs: [\n\t\t{\n\t\t\tname: 'options',\n\t\t\tdescription: 'Data to use to prefill the issue reporter with.',\n\t\t\tisOptional: true,\n\t\t\tschema: {\n\t\t\t\toneOf: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\tdescription: 'The extension id to preselect.'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\textensionId: {\n\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tissueTitle: {\n\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tissueBody: {\n\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t},\n\t]\n};\n\ninterface OpenIssueReporterArgs {\n\treadonly extensionId?: string;\n\treadonly issueTitle?: string;\n\treadonly issueBody?: string;\n\treadonly extensionData?: string;\n}\n\nexport class BaseIssueContribution extends Disposable implements IWorkbenchContribution {\n\tconstructor(\n\t\t@IProductService productService: IProductService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t) {\n\t\tsuper();\n\n\t\tif (!configurationService.getValue<boolean>('telemetry.feedback.enabled')) {\n\t\t\tthis._register(CommandsRegistry.registerCommand({\n\t\t\t\tid: 'workbench.action.openIssueReporter',\n\t\t\t\thandler: function (accessor) {\n\t\t\t\t\tconst data = accessor.get(INotificationService);\n\t\t\t\t\tdata.info('Feedback is disabled.');\n\n\t\t\t\t},\n\t\t\t}));\n\t\t\treturn;\n\t\t}\n\n\t\tif (!productService.reportIssueUrl) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._register(CommandsRegistry.registerCommand({\n\t\t\tid: OpenIssueReporterActionId,\n\t\t\thandler: function (accessor, args?: string | [string] | OpenIssueReporterArgs) {\n\t\t\t\tconst data: Partial<IssueReporterData> =\n\t\t\t\t\ttypeof args === 'string'\n\t\t\t\t\t\t? { extensionId: args }\n\t\t\t\t\t\t: Array.isArray(args)\n\t\t\t\t\t\t\t? { extensionId: args[0] }\n\t\t\t\t\t\t\t: args ?? {};\n\n\t\t\t\treturn accessor.get(IWorkbenchIssueService).openReporter(data);\n\t\t\t},\n\t\t\tmetadata: OpenIssueReporterCommandMetadata\n\t\t}));\n\n\t\tthis._register(CommandsRegistry.registerCommand({\n\t\t\tid: OpenIssueReporterApiId,\n\t\t\thandler: function (accessor, args?: string | [string] | OpenIssueReporterArgs) {\n\t\t\t\tconst data: Partial<IssueReporterData> =\n\t\t\t\t\ttypeof args === 'string'\n\t\t\t\t\t\t? { extensionId: args }\n\t\t\t\t\t\t: Array.isArray(args)\n\t\t\t\t\t\t\t? { extensionId: args[0] }\n\t\t\t\t\t\t\t: args ?? {};\n\n\t\t\t\treturn accessor.get(IWorkbenchIssueService).openReporter(data);\n\t\t\t},\n\t\t\tmetadata: OpenIssueReporterCommandMetadata\n\t\t}));\n\n\t\tconst reportIssue: ICommandAction = {\n\t\t\tid: OpenIssueReporterActionId,\n\t\t\ttitle: localize2({ key: 'reportIssueInEnglish', comment: ['Translate this to \"Report Issue in English\" in all languages please!'] }, \"Report Issue...\"),\n\t\t\tcategory: Categories.Help\n\t\t};\n\n\t\tthis._register(MenuRegistry.appendMenuItem(MenuId.CommandPalette, { command: reportIssue }));\n\n\t\tthis._register(MenuRegistry.appendMenuItem(MenuId.MenubarHelpMenu, {\n\t\t\tgroup: '3_feedback',\n\t\t\tcommand: {\n\t\t\t\tid: OpenIssueReporterActionId,\n\t\t\t\ttitle: localize({ key: 'miReportIssue', comment: ['&& denotes a mnemonic', 'Translate this to \"Report Issue in English\" in all languages please!'] }, \"Report &&Issue\")\n\t\t\t},\n\t\t\torder: 3\n\t\t}));\n\t}\n}\n"]}