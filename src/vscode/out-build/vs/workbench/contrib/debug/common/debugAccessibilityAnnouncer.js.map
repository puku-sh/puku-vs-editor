{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/debug/common/debugAccessibilityAnnouncer.ts","vs/workbench/contrib/debug/common/debugAccessibilityAnnouncer.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;AAEhG,OAAO,EAAE,aAAa,EAAE,MAAM,YAAY,CAAC;AAC3C,OAAO,EAAE,UAAU,EAAe,iBAAiB,EAAE,MAAM,sCAAsC,CAAC;AAElG,OAAO,EAAE,WAAW,EAAE,MAAM,wCAAwC,CAAC;AACrE,OAAO,EAAE,qBAAqB,EAAE,MAAM,4DAA4D,CAAC;AACnG,OAAO,EAAE,qBAAqB,EAAE,MAAM,4DAA4D,CAAC;AACnG,OAAO,EAAE,UAAU,EAAE,MAAM,iBAAiB,CAAC;AAEtC,IAAM,gCAAgC,GAAtC,MAAM,gCAAiC,SAAQ,UAAU;aACxD,OAAE,GAAG,oDAAH,AAAuD,CAAC;IAEjE,YACgB,aAA6C,EAC/C,WAAyC,EAC/B,qBAA6D,EAC7D,qBAA6D;QAEpF,KAAK,EAAE,CAAC;QALwB,kBAAa,GAAb,aAAa,CAAe;QAC9B,gBAAW,GAAX,WAAW,CAAa;QACd,0BAAqB,GAArB,qBAAqB,CAAuB;QAC5C,0BAAqB,GAArB,qBAAqB,CAAuB;QALpE,cAAS,GAAmC,IAAI,CAAC,SAAS,CAAC,IAAI,iBAAiB,EAAE,CAAC,CAAC;QAQpG,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,IAAI,CAAC,SAAS,CAAC,qBAAqB,CAAC,wBAAwB,CAAC,CAAC,CAAC,EAAE;YACjE,IAAI,CAAC,CAAC,oBAAoB,CAAC,+CAA+C,CAAC,EAAE,CAAC;gBAC7E,IAAI,CAAC,YAAY,EAAE,CAAC;YACrB,CAAC;QACF,CAAC,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,YAAY;QACnB,MAAM,KAAK,GAAG,IAAI,CAAC,qBAAqB,CAAC,QAAQ,CAAC,+CAA+C,CAAC,CAAC;QACnG,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;YACpC,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC,+BAA+B,CAAC,CAAC,CAAC,EAAE,EAAE;gBAC1F,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK,UAAU,CAAC,aAAa,EAAE,CAAC;oBAChD,OAAO;gBACR,CAAC;gBAED,wHAAwH;gBACxH,IAAI,CAAC,qBAAqB,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,MAAM,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC;gBAC3D,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,2CAA2C,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC;YACxF,CAAC,CAAC,CAAC;QACJ,CAAC;aAAM,CAAC;YACP,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;QACxB,CAAC;IACF,CAAC;;AAjCW,gCAAgC;IAI1C,WAAA,aAAa,CAAA;IACb,WAAA,WAAW,CAAA;IACX,WAAA,qBAAqB,CAAA;IACrB,WAAA,qBAAqB,CAAA;GAPX,gCAAgC,CAkC5C","file":"debugAccessibilityAnnouncer.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IDebugService } from './debug.js';\nimport { Disposable, IDisposable, MutableDisposable } from '../../../../base/common/lifecycle.js';\nimport { IWorkbenchContribution } from '../../../common/contributions.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\nimport { IAccessibilityService } from '../../../../platform/accessibility/common/accessibility.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { Expression } from './debugModel.js';\n\nexport class DebugWatchAccessibilityAnnouncer extends Disposable implements IWorkbenchContribution {\n\tstatic ID = 'workbench.contrib.debugWatchAccessibilityAnnouncer';\n\tprivate readonly _listener: MutableDisposable<IDisposable> = this._register(new MutableDisposable());\n\tconstructor(\n\t\t@IDebugService private readonly _debugService: IDebugService,\n\t\t@ILogService private readonly _logService: ILogService,\n\t\t@IAccessibilityService private readonly _accessibilityService: IAccessibilityService,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService\n\t) {\n\t\tsuper();\n\t\tthis._setListener();\n\t\tthis._register(_configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration('accessibility.debugWatchVariableAnnouncements')) {\n\t\t\t\tthis._setListener();\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate _setListener(): void {\n\t\tconst value = this._configurationService.getValue('accessibility.debugWatchVariableAnnouncements');\n\t\tif (value && !this._listener.value) {\n\t\t\tthis._listener.value = this._debugService.getModel().onDidChangeWatchExpressionValue((e) => {\n\t\t\t\tif (!e || e.value === Expression.DEFAULT_VALUE) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// TODO: get user feedback, perhaps setting to configure verbosity + whether value, name, neither, or both are announced\n\t\t\t\tthis._accessibilityService.alert(`${e.name} = ${e.value}`);\n\t\t\t\tthis._logService.trace(`debugAccessibilityAnnouncerValueChanged ${e.name} ${e.value}`);\n\t\t\t});\n\t\t} else {\n\t\t\tthis._listener.clear();\n\t\t}\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IDebugService } from './debug.js';\nimport { Disposable, IDisposable, MutableDisposable } from '../../../../base/common/lifecycle.js';\nimport { IWorkbenchContribution } from '../../../common/contributions.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\nimport { IAccessibilityService } from '../../../../platform/accessibility/common/accessibility.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { Expression } from './debugModel.js';\n\nexport class DebugWatchAccessibilityAnnouncer extends Disposable implements IWorkbenchContribution {\n\tstatic ID = 'workbench.contrib.debugWatchAccessibilityAnnouncer';\n\tprivate readonly _listener: MutableDisposable<IDisposable> = this._register(new MutableDisposable());\n\tconstructor(\n\t\t@IDebugService private readonly _debugService: IDebugService,\n\t\t@ILogService private readonly _logService: ILogService,\n\t\t@IAccessibilityService private readonly _accessibilityService: IAccessibilityService,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService\n\t) {\n\t\tsuper();\n\t\tthis._setListener();\n\t\tthis._register(_configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration('accessibility.debugWatchVariableAnnouncements')) {\n\t\t\t\tthis._setListener();\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate _setListener(): void {\n\t\tconst value = this._configurationService.getValue('accessibility.debugWatchVariableAnnouncements');\n\t\tif (value && !this._listener.value) {\n\t\t\tthis._listener.value = this._debugService.getModel().onDidChangeWatchExpressionValue((e) => {\n\t\t\t\tif (!e || e.value === Expression.DEFAULT_VALUE) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// TODO: get user feedback, perhaps setting to configure verbosity + whether value, name, neither, or both are announced\n\t\t\t\tthis._accessibilityService.alert(`${e.name} = ${e.value}`);\n\t\t\t\tthis._logService.trace(`debugAccessibilityAnnouncerValueChanged ${e.name} ${e.value}`);\n\t\t\t});\n\t\t} else {\n\t\t\tthis._listener.clear();\n\t\t}\n\t}\n}\n"]}