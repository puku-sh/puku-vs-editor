{"version":3,"sources":["vs/workbench/contrib/debug/common/debugModel.ts"],"names":[],"mappings":"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","file":"debugModel.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { distinct } from '../../../../base/common/arrays.js';\nimport { findLastIdx } from '../../../../base/common/arraysFind.js';\nimport { DeferredPromise, RunOnceScheduler } from '../../../../base/common/async.js';\nimport { VSBuffer, decodeBase64, encodeBase64 } from '../../../../base/common/buffer.js';\nimport { CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { Emitter, Event, trackSetChanges } from '../../../../base/common/event.js';\nimport { stringHash } from '../../../../base/common/hash.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { mixin } from '../../../../base/common/objects.js';\nimport { autorun } from '../../../../base/common/observable.js';\nimport * as resources from '../../../../base/common/resources.js';\nimport { isString, isUndefinedOrNull } from '../../../../base/common/types.js';\nimport { URI, URI as uri } from '../../../../base/common/uri.js';\nimport { generateUuid } from '../../../../base/common/uuid.js';\nimport { IRange, Range } from '../../../../editor/common/core/range.js';\nimport * as nls from '../../../../nls.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\nimport { IUriIdentityService } from '../../../../platform/uriIdentity/common/uriIdentity.js';\nimport { IEditorPane } from '../../../common/editor.js';\nimport { DEBUG_MEMORY_SCHEME, DataBreakpointSetType, DataBreakpointSource, DebugTreeItemCollapsibleState, IBaseBreakpoint, IBreakpoint, IBreakpointData, IBreakpointUpdateData, IBreakpointsChangeEvent, IDataBreakpoint, IDebugEvaluatePosition, IDebugModel, IDebugSession, IDebugVisualizationTreeItem, IEnablement, IExceptionBreakpoint, IExceptionInfo, IExpression, IExpressionContainer, IFunctionBreakpoint, IInstructionBreakpoint, IMemoryInvalidationEvent, IMemoryRegion, IRawModelUpdate, IRawStoppedDetails, IScope, IStackFrame, IThread, ITreeElement, MemoryRange, MemoryRangeType, State, isFrameDeemphasized } from './debug.js';\nimport { Source, UNKNOWN_SOURCE_LABEL, getUriFromSource } from './debugSource.js';\nimport { DebugStorage } from './debugStorage.js';\nimport { IDebugVisualizerService } from './debugVisualizers.js';\nimport { DisassemblyViewInput } from './disassemblyViewInput.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { ITextFileService } from '../../../services/textfile/common/textfiles.js';\n\ninterface IDebugProtocolVariableWithContext extends DebugProtocol.Variable {\n\t__vscodeVariableMenuContext?: string;\n}\n\nexport class ExpressionContainer implements IExpressionContainer {\n\n\tpublic static readonly allValues = new Map<string, string>();\n\t// Use chunks to support variable paging #9537\n\tprivate static readonly BASE_CHUNK_SIZE = 100;\n\n\tpublic type: string | undefined;\n\tpublic valueChanged = false;\n\tprivate _value: string = '';\n\tprotected children?: Promise<IExpression[]>;\n\n\tconstructor(\n\t\tprotected session: IDebugSession | undefined,\n\t\tprotected readonly threadId: number | undefined,\n\t\tprivate _reference: number | undefined,\n\t\tprivate readonly id: string,\n\t\tpublic namedVariables: number | undefined = 0,\n\t\tpublic indexedVariables: number | undefined = 0,\n\t\tpublic memoryReference: string | undefined = undefined,\n\t\tprivate startOfVariables: number | undefined = 0,\n\t\tpublic presentationHint: DebugProtocol.VariablePresentationHint | undefined = undefined,\n\t\tpublic valueLocationReference: number | undefined = undefined,\n\t) { }\n\n\tget reference(): number | undefined {\n\t\treturn this._reference;\n\t}\n\n\tset reference(value: number | undefined) {\n\t\tthis._reference = value;\n\t\tthis.children = undefined; // invalidate children cache\n\t}\n\n\tasync evaluateLazy(): Promise<void> {\n\t\tif (typeof this.reference === 'undefined') {\n\t\t\treturn;\n\t\t}\n\n\t\tconst response = await this.session!.variables(this.reference, this.threadId, undefined, undefined, undefined);\n\t\tif (!response || !response.body || !response.body.variables || response.body.variables.length !== 1) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst dummyVar = response.body.variables[0];\n\t\tthis.reference = dummyVar.variablesReference;\n\t\tthis._value = dummyVar.value;\n\t\tthis.namedVariables = dummyVar.namedVariables;\n\t\tthis.indexedVariables = dummyVar.indexedVariables;\n\t\tthis.memoryReference = dummyVar.memoryReference;\n\t\tthis.presentationHint = dummyVar.presentationHint;\n\t\tthis.valueLocationReference = dummyVar.valueLocationReference;\n\t\t// Also call overridden method to adopt subclass props\n\t\tthis.adoptLazyResponse(dummyVar);\n\t}\n\n\tprotected adoptLazyResponse(response: DebugProtocol.Variable): void {\n\t}\n\n\tgetChildren(): Promise<IExpression[]> {\n\t\tif (!this.children) {\n\t\t\tthis.children = this.doGetChildren();\n\t\t}\n\n\t\treturn this.children;\n\t}\n\n\tprivate async doGetChildren(): Promise<IExpression[]> {\n\t\tif (!this.hasChildren) {\n\t\t\treturn [];\n\t\t}\n\n\t\tif (!this.getChildrenInChunks) {\n\t\t\treturn this.fetchVariables(undefined, undefined, undefined);\n\t\t}\n\n\t\t// Check if object has named variables, fetch them independent from indexed variables #9670\n\t\tconst children = this.namedVariables ? await this.fetchVariables(undefined, undefined, 'named') : [];\n\n\t\t// Use a dynamic chunk size based on the number of elements #9774\n\t\tlet chunkSize = ExpressionContainer.BASE_CHUNK_SIZE;\n\t\twhile (!!this.indexedVariables && this.indexedVariables > chunkSize * ExpressionContainer.BASE_CHUNK_SIZE) {\n\t\t\tchunkSize *= ExpressionContainer.BASE_CHUNK_SIZE;\n\t\t}\n\n\t\tif (!!this.indexedVariables && this.indexedVariables > chunkSize) {\n\t\t\t// There are a lot of children, create fake intermediate values that represent chunks #9537\n\t\t\tconst numberOfChunks = Math.ceil(this.indexedVariables / chunkSize);\n\t\t\tfor (let i = 0; i < numberOfChunks; i++) {\n\t\t\t\tconst start = (this.startOfVariables || 0) + i * chunkSize;\n\t\t\t\tconst count = Math.min(chunkSize, this.indexedVariables - i * chunkSize);\n\t\t\t\tchildren.push(new Variable(this.session, this.threadId, this, this.reference, `[${start}..${start + count - 1}]`, '', '', undefined, count, undefined, { kind: 'virtual' }, undefined, undefined, true, start));\n\t\t\t}\n\n\t\t\treturn children;\n\t\t}\n\n\t\tconst variables = await this.fetchVariables(this.startOfVariables, this.indexedVariables, 'indexed');\n\t\treturn children.concat(variables);\n\t}\n\n\tgetId(): string {\n\t\treturn this.id;\n\t}\n\n\tgetSession(): IDebugSession | undefined {\n\t\treturn this.session;\n\t}\n\n\tget value(): string {\n\t\treturn this._value;\n\t}\n\n\tget hasChildren(): boolean {\n\t\t// only variables with reference > 0 have children.\n\t\treturn !!this.reference && this.reference > 0 && !this.presentationHint?.lazy;\n\t}\n\n\tprivate async fetchVariables(start: number | undefined, count: number | undefined, filter: 'indexed' | 'named' | undefined): Promise<Variable[]> {\n\t\ttry {\n\t\t\tconst response = await this.session!.variables(this.reference || 0, this.threadId, filter, start, count);\n\t\t\tif (!response || !response.body || !response.body.variables) {\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\tconst nameCount = new Map<string, number>();\n\t\t\tconst vars = response.body.variables.filter(v => !!v).map((v: IDebugProtocolVariableWithContext) => {\n\t\t\t\tif (isString(v.value) && isString(v.name) && typeof v.variablesReference === 'number') {\n\t\t\t\t\tconst count = nameCount.get(v.name) || 0;\n\t\t\t\t\tconst idDuplicationIndex = count > 0 ? count.toString() : '';\n\t\t\t\t\tnameCount.set(v.name, count + 1);\n\t\t\t\t\treturn new Variable(this.session, this.threadId, this, v.variablesReference, v.name, v.evaluateName, v.value, v.namedVariables, v.indexedVariables, v.memoryReference, v.presentationHint, v.type, v.__vscodeVariableMenuContext, true, 0, idDuplicationIndex, v.declarationLocationReference, v.valueLocationReference);\n\t\t\t\t}\n\t\t\t\treturn new Variable(this.session, this.threadId, this, 0, '', undefined, nls.localize('invalidVariableAttributes', \"Invalid variable attributes\"), 0, 0, undefined, { kind: 'virtual' }, undefined, undefined, false);\n\t\t\t});\n\n\t\t\tif (this.session!.autoExpandLazyVariables) {\n\t\t\t\tawait Promise.all(vars.map(v => v.presentationHint?.lazy && v.evaluateLazy()));\n\t\t\t}\n\n\t\t\treturn vars;\n\t\t} catch (e) {\n\t\t\treturn [new Variable(this.session, this.threadId, this, 0, '', undefined, e.message, 0, 0, undefined, { kind: 'virtual' }, undefined, undefined, false)];\n\t\t}\n\t}\n\n\t// The adapter explicitly sents the children count of an expression only if there are lots of children which should be chunked.\n\tprivate get getChildrenInChunks(): boolean {\n\t\treturn !!this.indexedVariables;\n\t}\n\n\tset value(value: string) {\n\t\tthis._value = value;\n\t\tthis.valueChanged = !!ExpressionContainer.allValues.get(this.getId()) &&\n\t\t\tExpressionContainer.allValues.get(this.getId()) !== Expression.DEFAULT_VALUE && ExpressionContainer.allValues.get(this.getId()) !== value;\n\t\tExpressionContainer.allValues.set(this.getId(), value);\n\t}\n\n\ttoString(): string {\n\t\treturn this.value;\n\t}\n\n\tasync evaluateExpression(\n\t\texpression: string,\n\t\tsession: IDebugSession | undefined,\n\t\tstackFrame: IStackFrame | undefined,\n\t\tcontext: string,\n\t\tkeepLazyVars = false,\n\t\tlocation?: IDebugEvaluatePosition,\n\t): Promise<boolean> {\n\n\t\tif (!session || (!stackFrame && context !== 'repl')) {\n\t\t\tthis.value = context === 'repl' ? nls.localize('startDebugFirst', \"Please start a debug session to evaluate expressions\") : Expression.DEFAULT_VALUE;\n\t\t\tthis.reference = 0;\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.session = session;\n\t\ttry {\n\t\t\tconst response = await session.evaluate(expression, stackFrame ? stackFrame.frameId : undefined, context, location);\n\n\t\t\tif (response && response.body) {\n\t\t\t\tthis.value = response.body.result || '';\n\t\t\t\tthis.reference = response.body.variablesReference;\n\t\t\t\tthis.namedVariables = response.body.namedVariables;\n\t\t\t\tthis.indexedVariables = response.body.indexedVariables;\n\t\t\t\tthis.memoryReference = response.body.memoryReference;\n\t\t\t\tthis.type = response.body.type || this.type;\n\t\t\t\tthis.presentationHint = response.body.presentationHint;\n\t\t\t\tthis.valueLocationReference = response.body.valueLocationReference;\n\n\t\t\t\tif (!keepLazyVars && response.body.presentationHint?.lazy) {\n\t\t\t\t\tawait this.evaluateLazy();\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t} catch (e) {\n\t\t\tthis.value = e.message || '';\n\t\t\tthis.reference = 0;\n\t\t\tthis.memoryReference = undefined;\n\t\t\treturn false;\n\t\t}\n\t}\n}\n\nfunction handleSetResponse(expression: ExpressionContainer, response: DebugProtocol.SetVariableResponse | DebugProtocol.SetExpressionResponse | undefined): void {\n\tif (response && response.body) {\n\t\texpression.value = response.body.value || '';\n\t\texpression.type = response.body.type || expression.type;\n\t\texpression.reference = response.body.variablesReference;\n\t\texpression.namedVariables = response.body.namedVariables;\n\t\texpression.indexedVariables = response.body.indexedVariables;\n\t\t// todo @weinand: the set responses contain most properties, but not memory references. Should they?\n\t}\n}\n\nexport class VisualizedExpression implements IExpression {\n\tpublic errorMessage?: string;\n\tprivate readonly id = generateUuid();\n\n\tevaluateLazy(): Promise<void> {\n\t\treturn Promise.resolve();\n\t}\n\tgetChildren(): Promise<IExpression[]> {\n\t\treturn this.visualizer.getVisualizedChildren(this.session, this.treeId, this.treeItem.id);\n\t}\n\n\tgetId(): string {\n\t\treturn this.id;\n\t}\n\n\tget name() {\n\t\treturn this.treeItem.label;\n\t}\n\n\tget value() {\n\t\treturn this.treeItem.description || '';\n\t}\n\n\tget hasChildren() {\n\t\treturn this.treeItem.collapsibleState !== DebugTreeItemCollapsibleState.None;\n\t}\n\n\tconstructor(\n\t\tprivate readonly session: IDebugSession | undefined,\n\t\tprivate readonly visualizer: IDebugVisualizerService,\n\t\tpublic readonly treeId: string,\n\t\tpublic readonly treeItem: IDebugVisualizationTreeItem,\n\t\tpublic readonly original?: Variable,\n\t) { }\n\n\tpublic getSession(): IDebugSession | undefined {\n\t\treturn this.session;\n\t}\n\n\t/** Edits the value, sets the {@link errorMessage} and returns false if unsuccessful */\n\tpublic async edit(newValue: string) {\n\t\ttry {\n\t\t\tawait this.visualizer.editTreeItem(this.treeId, this.treeItem, newValue);\n\t\t\treturn true;\n\t\t} catch (e) {\n\t\t\tthis.errorMessage = e.message;\n\t\t\treturn false;\n\t\t}\n\t}\n}\n\nexport class Expression extends ExpressionContainer implements IExpression {\n\tstatic readonly DEFAULT_VALUE = nls.localize('notAvailable', \"not available\");\n\n\tpublic available: boolean;\n\n\tprivate readonly _onDidChangeValue = new Emitter<IExpression>();\n\tpublic readonly onDidChangeValue: Event<IExpression> = this._onDidChangeValue.event;\n\n\tconstructor(public name: string, id = generateUuid()) {\n\t\tsuper(undefined, undefined, 0, id);\n\t\tthis.available = false;\n\t\t// name is not set if the expression is just being added\n\t\t// in that case do not set default value to prevent flashing #14499\n\t\tif (name) {\n\t\t\tthis.value = Expression.DEFAULT_VALUE;\n\t\t}\n\t}\n\n\tasync evaluate(session: IDebugSession | undefined, stackFrame: IStackFrame | undefined, context: string, keepLazyVars?: boolean, location?: IDebugEvaluatePosition): Promise<void> {\n\t\tconst hadDefaultValue = this.value === Expression.DEFAULT_VALUE;\n\t\tthis.available = await this.evaluateExpression(this.name, session, stackFrame, context, keepLazyVars, location);\n\t\tif (hadDefaultValue || this.valueChanged) {\n\t\t\tthis._onDidChangeValue.fire(this);\n\t\t}\n\t}\n\n\toverride toString(): string {\n\t\treturn `${this.name}\\n${this.value}`;\n\t}\n\n\ttoJSON() {\n\t\treturn {\n\t\t\tsessionId: this.getSession()?.getId(),\n\t\t\tvariable: this.toDebugProtocolObject(),\n\t\t};\n\t}\n\n\ttoDebugProtocolObject(): DebugProtocol.Variable {\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\tvariablesReference: this.reference || 0,\n\t\t\tmemoryReference: this.memoryReference,\n\t\t\tvalue: this.value,\n\t\t\ttype: this.type,\n\t\t\tevaluateName: this.name\n\t\t};\n\t}\n\n\tasync setExpression(value: string, stackFrame: IStackFrame): Promise<void> {\n\t\tif (!this.session) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst response = await this.session.setExpression(stackFrame.frameId, this.name, value);\n\t\thandleSetResponse(this, response);\n\t}\n}\n\nexport class Variable extends ExpressionContainer implements IExpression {\n\n\t// Used to show the error message coming from the adapter when setting the value #7807\n\tpublic errorMessage: string | undefined;\n\n\tconstructor(\n\t\tsession: IDebugSession | undefined,\n\t\tthreadId: number | undefined,\n\t\tpublic readonly parent: IExpressionContainer,\n\t\treference: number | undefined,\n\t\tpublic readonly name: string,\n\t\tpublic evaluateName: string | undefined,\n\t\tvalue: string | undefined,\n\t\tnamedVariables: number | undefined,\n\t\tindexedVariables: number | undefined,\n\t\tmemoryReference: string | undefined,\n\t\tpresentationHint: DebugProtocol.VariablePresentationHint | undefined,\n\t\ttype: string | undefined = undefined,\n\t\tpublic readonly variableMenuContext: string | undefined = undefined,\n\t\tpublic readonly available = true,\n\t\tstartOfVariables = 0,\n\t\tidDuplicationIndex = '',\n\t\tpublic readonly declarationLocationReference: number | undefined = undefined,\n\t\tvalueLocationReference: number | undefined = undefined,\n\t) {\n\t\tsuper(session, threadId, reference, `variable:${parent.getId()}:${name}:${idDuplicationIndex}`, namedVariables, indexedVariables, memoryReference, startOfVariables, presentationHint, valueLocationReference);\n\t\tthis.value = value || '';\n\t\tthis.type = type;\n\t}\n\n\tgetThreadId() {\n\t\treturn this.threadId;\n\t}\n\n\tasync setVariable(value: string, stackFrame: IStackFrame): Promise<void> {\n\t\tif (!this.session) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\t// Send out a setExpression for debug extensions that do not support set variables https://github.com/microsoft/vscode/issues/124679#issuecomment-869844437\n\t\t\tif (this.session.capabilities.supportsSetExpression && !this.session.capabilities.supportsSetVariable && this.evaluateName) {\n\t\t\t\treturn this.setExpression(value, stackFrame);\n\t\t\t}\n\n\t\t\tconst response = await this.session.setVariable((<ExpressionContainer>this.parent).reference, this.name, value);\n\t\t\thandleSetResponse(this, response);\n\t\t} catch (err) {\n\t\t\tthis.errorMessage = err.message;\n\t\t}\n\t}\n\n\tasync setExpression(value: string, stackFrame: IStackFrame): Promise<void> {\n\t\tif (!this.session || !this.evaluateName) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst response = await this.session.setExpression(stackFrame.frameId, this.evaluateName, value);\n\t\thandleSetResponse(this, response);\n\t}\n\n\toverride toString(): string {\n\t\treturn this.name ? `${this.name}: ${this.value}` : this.value;\n\t}\n\n\ttoJSON() {\n\t\treturn {\n\t\t\tsessionId: this.getSession()?.getId(),\n\t\t\tcontainer: this.parent instanceof Expression\n\t\t\t\t? { expression: this.parent.name }\n\t\t\t\t: (this.parent as (Variable | Scope)).toDebugProtocolObject(),\n\t\t\tvariable: this.toDebugProtocolObject()\n\t\t};\n\t}\n\n\tprotected override adoptLazyResponse(response: DebugProtocol.Variable): void {\n\t\tthis.evaluateName = response.evaluateName;\n\t}\n\n\ttoDebugProtocolObject(): DebugProtocol.Variable {\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\tvariablesReference: this.reference || 0,\n\t\t\tmemoryReference: this.memoryReference,\n\t\t\tvalue: this.value,\n\t\t\ttype: this.type,\n\t\t\tevaluateName: this.evaluateName\n\t\t};\n\t}\n}\n\nexport class Scope extends ExpressionContainer implements IScope {\n\n\tconstructor(\n\t\tpublic readonly stackFrame: IStackFrame,\n\t\tid: number,\n\t\tpublic readonly name: string,\n\t\treference: number,\n\t\tpublic expensive: boolean,\n\t\tnamedVariables?: number,\n\t\tindexedVariables?: number,\n\t\tpublic readonly range?: IRange\n\t) {\n\t\tsuper(stackFrame.thread.session, stackFrame.thread.threadId, reference, `scope:${name}:${id}`, namedVariables, indexedVariables);\n\t}\n\n\toverride toString(): string {\n\t\treturn this.name;\n\t}\n\n\ttoDebugProtocolObject(): DebugProtocol.Scope {\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\tvariablesReference: this.reference || 0,\n\t\t\texpensive: this.expensive\n\t\t};\n\t}\n}\n\nexport class ErrorScope extends Scope {\n\n\tconstructor(\n\t\tstackFrame: IStackFrame,\n\t\tindex: number,\n\t\tmessage: string,\n\t) {\n\t\tsuper(stackFrame, index, message, 0, false);\n\t}\n\n\toverride toString(): string {\n\t\treturn this.name;\n\t}\n}\n\nexport class StackFrame implements IStackFrame {\n\n\tprivate scopes: Promise<Scope[]> | undefined;\n\n\tconstructor(\n\t\tpublic readonly thread: Thread,\n\t\tpublic readonly frameId: number,\n\t\tpublic readonly source: Source,\n\t\tpublic readonly name: string,\n\t\tpublic readonly presentationHint: string | undefined,\n\t\tpublic readonly range: IRange,\n\t\tprivate readonly index: number,\n\t\tpublic readonly canRestart: boolean,\n\t\tpublic readonly instructionPointerReference?: string\n\t) { }\n\n\tgetId(): string {\n\t\treturn `stackframe:${this.thread.getId()}:${this.index}:${this.source.name}`;\n\t}\n\n\tgetScopes(): Promise<IScope[]> {\n\t\tif (!this.scopes) {\n\t\t\tthis.scopes = this.thread.session.scopes(this.frameId, this.thread.threadId).then(response => {\n\t\t\t\tif (!response || !response.body || !response.body.scopes) {\n\t\t\t\t\treturn [];\n\t\t\t\t}\n\n\t\t\t\tconst usedIds = new Set<number>();\n\t\t\t\treturn response.body.scopes.map(rs => {\n\t\t\t\t\t// form the id based on the name and location so that it's the\n\t\t\t\t\t// same across multiple pauses to retain expansion state\n\t\t\t\t\tlet id = 0;\n\t\t\t\t\tdo {\n\t\t\t\t\t\tid = stringHash(`${rs.name}:${rs.line}:${rs.column}`, id);\n\t\t\t\t\t} while (usedIds.has(id));\n\n\t\t\t\t\tusedIds.add(id);\n\t\t\t\t\treturn new Scope(this, id, rs.name, rs.variablesReference, rs.expensive, rs.namedVariables, rs.indexedVariables,\n\t\t\t\t\t\trs.line && rs.column && rs.endLine && rs.endColumn ? new Range(rs.line, rs.column, rs.endLine, rs.endColumn) : undefined);\n\n\t\t\t\t});\n\t\t\t}, err => [new ErrorScope(this, 0, err.message)]);\n\t\t}\n\n\t\treturn this.scopes;\n\t}\n\n\tasync getMostSpecificScopes(range: IRange): Promise<IScope[]> {\n\t\tconst scopes = await this.getScopes();\n\t\tconst nonExpensiveScopes = scopes.filter(s => !s.expensive);\n\t\tconst haveRangeInfo = nonExpensiveScopes.some(s => !!s.range);\n\t\tif (!haveRangeInfo) {\n\t\t\treturn nonExpensiveScopes;\n\t\t}\n\n\t\tconst scopesContainingRange = nonExpensiveScopes.filter(scope => scope.range && Range.containsRange(scope.range, range))\n\t\t\t.sort((first, second) => (first.range!.endLineNumber - first.range!.startLineNumber) - (second.range!.endLineNumber - second.range!.startLineNumber));\n\t\treturn scopesContainingRange.length ? scopesContainingRange : nonExpensiveScopes;\n\t}\n\n\trestart(): Promise<void> {\n\t\treturn this.thread.session.restartFrame(this.frameId, this.thread.threadId);\n\t}\n\n\tforgetScopes(): void {\n\t\tthis.scopes = undefined;\n\t}\n\n\ttoString(): string {\n\t\tconst lineNumberToString = typeof this.range.startLineNumber === 'number' ? `:${this.range.startLineNumber}` : '';\n\t\tconst sourceToString = `${this.source.inMemory ? this.source.name : this.source.uri.fsPath}${lineNumberToString}`;\n\n\t\treturn sourceToString === UNKNOWN_SOURCE_LABEL ? this.name : `${this.name} (${sourceToString})`;\n\t}\n\n\tasync openInEditor(editorService: IEditorService, preserveFocus?: boolean, sideBySide?: boolean, pinned?: boolean): Promise<IEditorPane | undefined> {\n\t\tconst threadStopReason = this.thread.stoppedDetails?.reason;\n\t\tif (this.instructionPointerReference &&\n\t\t\t((threadStopReason === 'instruction breakpoint' && !preserveFocus) ||\n\t\t\t\t(threadStopReason === 'step' && this.thread.lastSteppingGranularity === 'instruction' && !preserveFocus) ||\n\t\t\t\teditorService.activeEditor instanceof DisassemblyViewInput)) {\n\t\t\treturn editorService.openEditor(DisassemblyViewInput.instance, { pinned: true, revealIfOpened: true, preserveFocus });\n\t\t}\n\n\t\tif (this.source.available) {\n\t\t\treturn this.source.openInEditor(editorService, this.range, preserveFocus, sideBySide, pinned);\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tequals(other: IStackFrame): boolean {\n\t\treturn (this.name === other.name) && (other.thread === this.thread) && (this.frameId === other.frameId) && (other.source === this.source) && (Range.equalsRange(this.range, other.range));\n\t}\n}\n\nconst KEEP_SUBTLE_FRAME_AT_TOP_REASONS: readonly string[] = ['breakpoint', 'step', 'function breakpoint'];\n\nexport class Thread implements IThread {\n\tprivate callStack: IStackFrame[];\n\tprivate staleCallStack: IStackFrame[];\n\tprivate callStackCancellationTokens: CancellationTokenSource[] = [];\n\tpublic stoppedDetails: IRawStoppedDetails | undefined;\n\tpublic stopped: boolean;\n\tpublic reachedEndOfCallStack = false;\n\tpublic lastSteppingGranularity: DebugProtocol.SteppingGranularity | undefined;\n\n\tconstructor(public readonly session: IDebugSession, public name: string, public readonly threadId: number) {\n\t\tthis.callStack = [];\n\t\tthis.staleCallStack = [];\n\t\tthis.stopped = false;\n\t}\n\n\tgetId(): string {\n\t\treturn `thread:${this.session.getId()}:${this.threadId}`;\n\t}\n\n\tclearCallStack(): void {\n\t\tif (this.callStack.length) {\n\t\t\tthis.staleCallStack = this.callStack;\n\t\t}\n\t\tthis.callStack = [];\n\t\tthis.callStackCancellationTokens.forEach(c => c.dispose(true));\n\t\tthis.callStackCancellationTokens = [];\n\t}\n\n\tgetCallStack(): IStackFrame[] {\n\t\treturn this.callStack;\n\t}\n\n\tgetStaleCallStack(): ReadonlyArray<IStackFrame> {\n\t\treturn this.staleCallStack;\n\t}\n\n\tgetTopStackFrame(): IStackFrame | undefined {\n\t\tconst callStack = this.getCallStack();\n\t\tconst stopReason = this.stoppedDetails?.reason;\n\t\t// Allow stack frame without source and with instructionReferencePointer as top stack frame when using disassembly view.\n\t\tconst firstAvailableStackFrame = callStack.find(sf => !!(\n\t\t\t((stopReason === 'instruction breakpoint' || (stopReason === 'step' && this.lastSteppingGranularity === 'instruction')) && sf.instructionPointerReference) ||\n\t\t\t(sf.source && sf.source.available && (KEEP_SUBTLE_FRAME_AT_TOP_REASONS.includes(stopReason!) || !isFrameDeemphasized(sf)))));\n\t\treturn firstAvailableStackFrame;\n\t}\n\n\tget stateLabel(): string {\n\t\tif (this.stoppedDetails) {\n\t\t\treturn this.stoppedDetails.description ||\n\t\t\t\t(this.stoppedDetails.reason ? nls.localize({ key: 'pausedOn', comment: ['indicates reason for program being paused'] }, \"Paused on {0}\", this.stoppedDetails.reason) : nls.localize('paused', \"Paused\"));\n\t\t}\n\n\t\treturn nls.localize({ key: 'running', comment: ['indicates state'] }, \"Running\");\n\t}\n\n\t/**\n\t * Queries the debug adapter for the callstack and returns a promise\n\t * which completes once the call stack has been retrieved.\n\t * If the thread is not stopped, it returns a promise to an empty array.\n\t * Only fetches the first stack frame for performance reasons. Calling this method consecutive times\n\t * gets the remainder of the call stack.\n\t */\n\tasync fetchCallStack(levels = 20): Promise<void> {\n\t\tif (this.stopped) {\n\t\t\tconst start = this.callStack.length;\n\t\t\tconst callStack = await this.getCallStackImpl(start, levels);\n\t\t\tthis.reachedEndOfCallStack = callStack.length < levels;\n\t\t\tif (start < this.callStack.length) {\n\t\t\t\t// Set the stack frames for exact position we requested. To make sure no concurrent requests create duplicate stack frames #30660\n\t\t\t\tthis.callStack.splice(start, this.callStack.length - start);\n\t\t\t}\n\t\t\tthis.callStack = this.callStack.concat(callStack || []);\n\t\t\tif (typeof this.stoppedDetails?.totalFrames === 'number' && this.stoppedDetails.totalFrames === this.callStack.length) {\n\t\t\t\tthis.reachedEndOfCallStack = true;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate async getCallStackImpl(startFrame: number, levels: number): Promise<IStackFrame[]> {\n\t\ttry {\n\t\t\tconst tokenSource = new CancellationTokenSource();\n\t\t\tthis.callStackCancellationTokens.push(tokenSource);\n\t\t\tconst response = await this.session.stackTrace(this.threadId, startFrame, levels, tokenSource.token);\n\t\t\tif (!response || !response.body || tokenSource.token.isCancellationRequested) {\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\tif (this.stoppedDetails) {\n\t\t\t\tthis.stoppedDetails.totalFrames = response.body.totalFrames;\n\t\t\t}\n\n\t\t\treturn response.body.stackFrames.map((rsf, index) => {\n\t\t\t\tconst source = this.session.getSource(rsf.source);\n\n\t\t\t\treturn new StackFrame(this, rsf.id, source, rsf.name, rsf.presentationHint, new Range(\n\t\t\t\t\trsf.line,\n\t\t\t\t\trsf.column,\n\t\t\t\t\trsf.endLine || rsf.line,\n\t\t\t\t\trsf.endColumn || rsf.column\n\t\t\t\t), startFrame + index, typeof rsf.canRestart === 'boolean' ? rsf.canRestart : true, rsf.instructionPointerReference);\n\t\t\t});\n\t\t} catch (err) {\n\t\t\tif (this.stoppedDetails) {\n\t\t\t\tthis.stoppedDetails.framesErrorMessage = err.message;\n\t\t\t}\n\n\t\t\treturn [];\n\t\t}\n\t}\n\n\t/**\n\t * Returns exception info promise if the exception was thrown, otherwise undefined\n\t */\n\tget exceptionInfo(): Promise<IExceptionInfo | undefined> {\n\t\tif (this.stoppedDetails && this.stoppedDetails.reason === 'exception') {\n\t\t\tif (this.session.capabilities.supportsExceptionInfoRequest) {\n\t\t\t\treturn this.session.exceptionInfo(this.threadId);\n\t\t\t}\n\t\t\treturn Promise.resolve({\n\t\t\t\tdescription: this.stoppedDetails.text,\n\t\t\t\tbreakMode: null\n\t\t\t});\n\t\t}\n\t\treturn Promise.resolve(undefined);\n\t}\n\n\tnext(granularity?: DebugProtocol.SteppingGranularity): Promise<void> {\n\t\treturn this.session.next(this.threadId, granularity);\n\t}\n\n\tstepIn(granularity?: DebugProtocol.SteppingGranularity): Promise<void> {\n\t\treturn this.session.stepIn(this.threadId, undefined, granularity);\n\t}\n\n\tstepOut(granularity?: DebugProtocol.SteppingGranularity): Promise<void> {\n\t\treturn this.session.stepOut(this.threadId, granularity);\n\t}\n\n\tstepBack(granularity?: DebugProtocol.SteppingGranularity): Promise<void> {\n\t\treturn this.session.stepBack(this.threadId, granularity);\n\t}\n\n\tcontinue(): Promise<void> {\n\t\treturn this.session.continue(this.threadId);\n\t}\n\n\tpause(): Promise<void> {\n\t\treturn this.session.pause(this.threadId);\n\t}\n\n\tterminate(): Promise<void> {\n\t\treturn this.session.terminateThreads([this.threadId]);\n\t}\n\n\treverseContinue(): Promise<void> {\n\t\treturn this.session.reverseContinue(this.threadId);\n\t}\n}\n\n/**\n * Gets a URI to a memory in the given session ID.\n */\nexport const getUriForDebugMemory = (\n\tsessionId: string,\n\tmemoryReference: string,\n\trange?: { fromOffset: number; toOffset: number },\n\tdisplayName = 'memory'\n) => {\n\treturn URI.from({\n\t\tscheme: DEBUG_MEMORY_SCHEME,\n\t\tauthority: sessionId,\n\t\tpath: '/' + encodeURIComponent(memoryReference) + `/${encodeURIComponent(displayName)}.bin`,\n\t\tquery: range ? `?range=${range.fromOffset}:${range.toOffset}` : undefined,\n\t});\n};\n\nexport class MemoryRegion extends Disposable implements IMemoryRegion {\n\tprivate readonly invalidateEmitter = this._register(new Emitter<IMemoryInvalidationEvent>());\n\n\t/** @inheritdoc */\n\tpublic readonly onDidInvalidate = this.invalidateEmitter.event;\n\n\t/** @inheritdoc */\n\tpublic readonly writable: boolean;\n\n\tconstructor(private readonly memoryReference: string, private readonly session: IDebugSession) {\n\t\tsuper();\n\t\tthis.writable = !!this.session.capabilities.supportsWriteMemoryRequest;\n\t\tthis._register(session.onDidInvalidateMemory(e => {\n\t\t\tif (e.body.memoryReference === memoryReference) {\n\t\t\t\tthis.invalidate(e.body.offset, e.body.count - e.body.offset);\n\t\t\t}\n\t\t}));\n\t}\n\n\tpublic async read(fromOffset: number, toOffset: number): Promise<MemoryRange[]> {\n\t\tconst length = toOffset - fromOffset;\n\t\tconst offset = fromOffset;\n\t\tconst result = await this.session.readMemory(this.memoryReference, offset, length);\n\n\t\tif (result === undefined || !result.body?.data) {\n\t\t\treturn [{ type: MemoryRangeType.Unreadable, offset, length }];\n\t\t}\n\n\t\tlet data: VSBuffer;\n\t\ttry {\n\t\t\tdata = decodeBase64(result.body.data);\n\t\t} catch {\n\t\t\treturn [{ type: MemoryRangeType.Error, offset, length, error: 'Invalid base64 data from debug adapter' }];\n\t\t}\n\n\t\tconst unreadable = result.body.unreadableBytes || 0;\n\t\tconst dataLength = length - unreadable;\n\t\tif (data.byteLength < dataLength) {\n\t\t\tconst pad = VSBuffer.alloc(dataLength - data.byteLength);\n\t\t\tpad.buffer.fill(0);\n\t\t\tdata = VSBuffer.concat([data, pad], dataLength);\n\t\t} else if (data.byteLength > dataLength) {\n\t\t\tdata = data.slice(0, dataLength);\n\t\t}\n\n\t\tif (!unreadable) {\n\t\t\treturn [{ type: MemoryRangeType.Valid, offset, length, data }];\n\t\t}\n\n\t\treturn [\n\t\t\t{ type: MemoryRangeType.Valid, offset, length: dataLength, data },\n\t\t\t{ type: MemoryRangeType.Unreadable, offset: offset + dataLength, length: unreadable },\n\t\t];\n\t}\n\n\tpublic async write(offset: number, data: VSBuffer): Promise<number> {\n\t\tconst result = await this.session.writeMemory(this.memoryReference, offset, encodeBase64(data), true);\n\t\tconst written = result?.body?.bytesWritten ?? data.byteLength;\n\t\tthis.invalidate(offset, offset + written);\n\t\treturn written;\n\t}\n\n\tpublic override dispose() {\n\t\tsuper.dispose();\n\t}\n\n\tprivate invalidate(fromOffset: number, toOffset: number) {\n\t\tthis.invalidateEmitter.fire({ fromOffset, toOffset });\n\t}\n}\n\nexport class Enablement implements IEnablement {\n\tconstructor(\n\t\tpublic enabled: boolean,\n\t\tprivate readonly id: string\n\t) { }\n\n\tgetId(): string {\n\t\treturn this.id;\n\t}\n}\n\ninterface IBreakpointSessionData extends DebugProtocol.Breakpoint {\n\tsupportsConditionalBreakpoints: boolean;\n\tsupportsHitConditionalBreakpoints: boolean;\n\tsupportsLogPoints: boolean;\n\tsupportsFunctionBreakpoints: boolean;\n\tsupportsDataBreakpoints: boolean;\n\tsupportsInstructionBreakpoints: boolean;\n\tsessionId: string;\n}\n\nfunction toBreakpointSessionData(data: DebugProtocol.Breakpoint, capabilities: DebugProtocol.Capabilities): IBreakpointSessionData {\n\treturn mixin({\n\t\tsupportsConditionalBreakpoints: !!capabilities.supportsConditionalBreakpoints,\n\t\tsupportsHitConditionalBreakpoints: !!capabilities.supportsHitConditionalBreakpoints,\n\t\tsupportsLogPoints: !!capabilities.supportsLogPoints,\n\t\tsupportsFunctionBreakpoints: !!capabilities.supportsFunctionBreakpoints,\n\t\tsupportsDataBreakpoints: !!capabilities.supportsDataBreakpoints,\n\t\tsupportsInstructionBreakpoints: !!capabilities.supportsInstructionBreakpoints\n\t}, data);\n}\n\nexport interface IBaseBreakpointOptions {\n\tenabled?: boolean;\n\thitCondition?: string;\n\tcondition?: string;\n\tlogMessage?: string;\n\tmode?: string;\n\tmodeLabel?: string;\n}\n\nexport abstract class BaseBreakpoint extends Enablement implements IBaseBreakpoint {\n\n\tprivate sessionData = new Map<string, IBreakpointSessionData>();\n\tprotected data: IBreakpointSessionData | undefined;\n\tpublic hitCondition: string | undefined;\n\tpublic condition: string | undefined;\n\tpublic logMessage: string | undefined;\n\tpublic mode: string | undefined;\n\tpublic modeLabel: string | undefined;\n\n\tconstructor(\n\t\tid: string,\n\t\topts: IBaseBreakpointOptions\n\t) {\n\t\tsuper(opts.enabled ?? true, id);\n\t\tthis.condition = opts.condition;\n\t\tthis.hitCondition = opts.hitCondition;\n\t\tthis.logMessage = opts.logMessage;\n\t\tthis.mode = opts.mode;\n\t\tthis.modeLabel = opts.modeLabel;\n\t}\n\n\tsetSessionData(sessionId: string, data: IBreakpointSessionData | undefined): void {\n\t\tif (!data) {\n\t\t\tthis.sessionData.delete(sessionId);\n\t\t} else {\n\t\t\tdata.sessionId = sessionId;\n\t\t\tthis.sessionData.set(sessionId, data);\n\t\t}\n\n\t\tconst allData = Array.from(this.sessionData.values());\n\t\tconst verifiedData = distinct(allData.filter(d => d.verified), d => `${d.line}:${d.column}`);\n\t\tif (verifiedData.length) {\n\t\t\t// In case multiple session verified the breakpoint and they provide different data show the intial data that the user set (corner case)\n\t\t\tthis.data = verifiedData.length === 1 ? verifiedData[0] : undefined;\n\t\t} else {\n\t\t\t// No session verified the breakpoint\n\t\t\tthis.data = allData.length ? allData[0] : undefined;\n\t\t}\n\t}\n\n\tget message(): string | undefined {\n\t\tif (!this.data) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn this.data.message;\n\t}\n\n\tget verified(): boolean {\n\t\treturn this.data ? this.data.verified : true;\n\t}\n\n\tget sessionsThatVerified() {\n\t\tconst sessionIds: string[] = [];\n\t\tfor (const [sessionId, data] of this.sessionData) {\n\t\t\tif (data.verified) {\n\t\t\t\tsessionIds.push(sessionId);\n\t\t\t}\n\t\t}\n\n\t\treturn sessionIds;\n\t}\n\n\tabstract get supported(): boolean;\n\n\tgetIdFromAdapter(sessionId: string): number | undefined {\n\t\tconst data = this.sessionData.get(sessionId);\n\t\treturn data ? data.id : undefined;\n\t}\n\n\tgetDebugProtocolBreakpoint(sessionId: string): DebugProtocol.Breakpoint | undefined {\n\t\tconst data = this.sessionData.get(sessionId);\n\t\tif (data) {\n\t\t\tconst bp: DebugProtocol.Breakpoint = {\n\t\t\t\tid: data.id,\n\t\t\t\tverified: data.verified,\n\t\t\t\tmessage: data.message,\n\t\t\t\tsource: data.source,\n\t\t\t\tline: data.line,\n\t\t\t\tcolumn: data.column,\n\t\t\t\tendLine: data.endLine,\n\t\t\t\tendColumn: data.endColumn,\n\t\t\t\tinstructionReference: data.instructionReference,\n\t\t\t\toffset: data.offset\n\t\t\t};\n\t\t\treturn bp;\n\t\t}\n\t\treturn undefined;\n\t}\n\n\ttoJSON(): IBaseBreakpointOptions & { id: string } {\n\t\treturn {\n\t\t\tid: this.getId(),\n\t\t\tenabled: this.enabled,\n\t\t\tcondition: this.condition,\n\t\t\thitCondition: this.hitCondition,\n\t\t\tlogMessage: this.logMessage,\n\t\t\tmode: this.mode,\n\t\t\tmodeLabel: this.modeLabel,\n\t\t};\n\t}\n}\n\nexport interface IBreakpointOptions extends IBaseBreakpointOptions {\n\turi: uri;\n\tlineNumber: number;\n\tcolumn: number | undefined;\n\tadapterData: unknown;\n\ttriggeredBy: string | undefined;\n}\n\nexport class Breakpoint extends BaseBreakpoint implements IBreakpoint {\n\tprivate sessionsDidTrigger?: Set<string>;\n\tprivate readonly _uri: uri;\n\tprivate _adapterData: unknown;\n\tprivate _lineNumber: number;\n\tprivate _column: number | undefined;\n\tpublic triggeredBy: string | undefined;\n\n\tconstructor(\n\t\topts: IBreakpointOptions,\n\t\tprivate readonly textFileService: ITextFileService,\n\t\tprivate readonly uriIdentityService: IUriIdentityService,\n\t\tprivate readonly logService: ILogService,\n\t\tid = generateUuid(),\n\t) {\n\t\tsuper(id, opts);\n\t\tthis._uri = opts.uri;\n\t\tthis._lineNumber = opts.lineNumber;\n\t\tthis._column = opts.column;\n\t\tthis._adapterData = opts.adapterData;\n\t\tthis.triggeredBy = opts.triggeredBy;\n\t}\n\n\ttoDAP(): DebugProtocol.SourceBreakpoint {\n\t\treturn {\n\t\t\tline: this.sessionAgnosticData.lineNumber,\n\t\t\tcolumn: this.sessionAgnosticData.column,\n\t\t\tcondition: this.condition,\n\t\t\thitCondition: this.hitCondition,\n\t\t\tlogMessage: this.logMessage,\n\t\t\tmode: this.mode\n\t\t};\n\t}\n\n\tget originalUri() {\n\t\treturn this._uri;\n\t}\n\n\tget lineNumber(): number {\n\t\treturn this.verified && this.data && typeof this.data.line === 'number' ? this.data.line : this._lineNumber;\n\t}\n\n\toverride get verified(): boolean {\n\t\tif (this.data) {\n\t\t\treturn this.data.verified && !this.textFileService.isDirty(this._uri);\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tget pending(): boolean {\n\t\tif (this.data) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this.triggeredBy !== undefined;\n\t}\n\n\tget uri(): uri {\n\t\treturn this.verified && this.data && this.data.source ? getUriFromSource(this.data.source, this.data.source.path, this.data.sessionId, this.uriIdentityService, this.logService) : this._uri;\n\t}\n\n\tget column(): number | undefined {\n\t\treturn this.verified && this.data && typeof this.data.column === 'number' ? this.data.column : this._column;\n\t}\n\n\toverride get message(): string | undefined {\n\t\tif (this.textFileService.isDirty(this.uri)) {\n\t\t\treturn nls.localize('breakpointDirtydHover', \"Unverified breakpoint. File is modified, please restart debug session.\");\n\t\t}\n\n\t\treturn super.message;\n\t}\n\n\tget adapterData(): unknown {\n\t\treturn this.data && this.data.source && this.data.source.adapterData ? this.data.source.adapterData : this._adapterData;\n\t}\n\n\tget endLineNumber(): number | undefined {\n\t\treturn this.verified && this.data ? this.data.endLine : undefined;\n\t}\n\n\tget endColumn(): number | undefined {\n\t\treturn this.verified && this.data ? this.data.endColumn : undefined;\n\t}\n\n\tget sessionAgnosticData(): { lineNumber: number; column: number | undefined } {\n\t\treturn {\n\t\t\tlineNumber: this._lineNumber,\n\t\t\tcolumn: this._column\n\t\t};\n\t}\n\n\tget supported(): boolean {\n\t\tif (!this.data) {\n\t\t\treturn true;\n\t\t}\n\t\tif (this.logMessage && !this.data.supportsLogPoints) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this.condition && !this.data.supportsConditionalBreakpoints) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this.hitCondition && !this.data.supportsHitConditionalBreakpoints) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\toverride setSessionData(sessionId: string, data: IBreakpointSessionData | undefined): void {\n\t\tsuper.setSessionData(sessionId, data);\n\t\tif (!this._adapterData) {\n\t\t\tthis._adapterData = this.adapterData;\n\t\t}\n\t}\n\n\toverride toJSON(): IBreakpointOptions & { id: string } {\n\t\treturn {\n\t\t\t...super.toJSON(),\n\t\t\turi: this._uri,\n\t\t\tlineNumber: this._lineNumber,\n\t\t\tcolumn: this._column,\n\t\t\tadapterData: this.adapterData,\n\t\t\ttriggeredBy: this.triggeredBy,\n\t\t};\n\t}\n\n\toverride toString(): string {\n\t\treturn `${resources.basenameOrAuthority(this.uri)} ${this.lineNumber}`;\n\t}\n\n\tpublic setSessionDidTrigger(sessionId: string, didTrigger = true): void {\n\t\tif (didTrigger) {\n\t\t\tthis.sessionsDidTrigger ??= new Set();\n\t\t\tthis.sessionsDidTrigger.add(sessionId);\n\t\t} else {\n\t\t\tthis.sessionsDidTrigger?.delete(sessionId);\n\t\t}\n\t}\n\n\tpublic getSessionDidTrigger(sessionId: string): boolean {\n\t\treturn !!this.sessionsDidTrigger?.has(sessionId);\n\t}\n\n\tupdate(data: IBreakpointUpdateData): void {\n\t\tif (data.hasOwnProperty('lineNumber') && !isUndefinedOrNull(data.lineNumber)) {\n\t\t\tthis._lineNumber = data.lineNumber;\n\t\t}\n\t\tif (data.hasOwnProperty('column')) {\n\t\t\tthis._column = data.column;\n\t\t}\n\t\tif (data.hasOwnProperty('condition')) {\n\t\t\tthis.condition = data.condition;\n\t\t}\n\t\tif (data.hasOwnProperty('hitCondition')) {\n\t\t\tthis.hitCondition = data.hitCondition;\n\t\t}\n\t\tif (data.hasOwnProperty('logMessage')) {\n\t\t\tthis.logMessage = data.logMessage;\n\t\t}\n\t\tif (data.hasOwnProperty('mode')) {\n\t\t\tthis.mode = data.mode;\n\t\t\tthis.modeLabel = data.modeLabel;\n\t\t}\n\t\tif (data.hasOwnProperty('triggeredBy')) {\n\t\t\tthis.triggeredBy = data.triggeredBy;\n\t\t\tthis.sessionsDidTrigger = undefined;\n\t\t}\n\t}\n}\n\nexport interface IFunctionBreakpointOptions extends IBaseBreakpointOptions {\n\tname: string;\n}\n\nexport class FunctionBreakpoint extends BaseBreakpoint implements IFunctionBreakpoint {\n\tpublic name: string;\n\n\tconstructor(\n\t\topts: IFunctionBreakpointOptions,\n\t\tid = generateUuid()\n\t) {\n\t\tsuper(id, opts);\n\t\tthis.name = opts.name;\n\t}\n\n\ttoDAP(): DebugProtocol.FunctionBreakpoint {\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\tcondition: this.condition,\n\t\t\thitCondition: this.hitCondition,\n\t\t};\n\t}\n\n\toverride toJSON(): IFunctionBreakpointOptions & { id: string } {\n\t\treturn {\n\t\t\t...super.toJSON(),\n\t\t\tname: this.name,\n\t\t};\n\t}\n\n\tget supported(): boolean {\n\t\tif (!this.data) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn this.data.supportsFunctionBreakpoints;\n\t}\n\n\toverride toString(): string {\n\t\treturn this.name;\n\t}\n}\n\nexport interface IDataBreakpointOptions extends IBaseBreakpointOptions {\n\tdescription: string;\n\tsrc: DataBreakpointSource;\n\tcanPersist: boolean;\n\tinitialSessionData?: { session: IDebugSession; dataId: string };\n\taccessTypes: DebugProtocol.DataBreakpointAccessType[] | undefined;\n\taccessType: DebugProtocol.DataBreakpointAccessType;\n}\n\nexport class DataBreakpoint extends BaseBreakpoint implements IDataBreakpoint {\n\tprivate readonly sessionDataIdForAddr = new WeakMap<IDebugSession, string | null>();\n\n\tpublic readonly description: string;\n\tpublic readonly src: DataBreakpointSource;\n\tpublic readonly canPersist: boolean;\n\tpublic readonly accessTypes: DebugProtocol.DataBreakpointAccessType[] | undefined;\n\tpublic readonly accessType: DebugProtocol.DataBreakpointAccessType;\n\n\tconstructor(\n\t\topts: IDataBreakpointOptions,\n\t\tid = generateUuid()\n\t) {\n\t\tsuper(id, opts);\n\t\tthis.description = opts.description;\n\t\tif ('dataId' in opts) { //  back compat with old saved variables in 1.87\n\t\t\topts.src = { type: DataBreakpointSetType.Variable, dataId: opts.dataId as string };\n\t\t}\n\t\tthis.src = opts.src;\n\t\tthis.canPersist = opts.canPersist;\n\t\tthis.accessTypes = opts.accessTypes;\n\t\tthis.accessType = opts.accessType;\n\t\tif (opts.initialSessionData) {\n\t\t\tthis.sessionDataIdForAddr.set(opts.initialSessionData.session, opts.initialSessionData.dataId);\n\t\t}\n\t}\n\n\tasync toDAP(session: IDebugSession): Promise<DebugProtocol.DataBreakpoint | undefined> {\n\t\tlet dataId: string;\n\t\tif (this.src.type === DataBreakpointSetType.Variable) {\n\t\t\tdataId = this.src.dataId;\n\t\t} else {\n\t\t\tlet sessionDataId = this.sessionDataIdForAddr.get(session);\n\t\t\tif (!sessionDataId) {\n\t\t\t\tsessionDataId = (await session.dataBytesBreakpointInfo(this.src.address, this.src.bytes))?.dataId;\n\t\t\t\tif (!sessionDataId) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t\tthis.sessionDataIdForAddr.set(session, sessionDataId);\n\t\t\t}\n\t\t\tdataId = sessionDataId;\n\t\t}\n\n\t\treturn {\n\t\t\tdataId,\n\t\t\taccessType: this.accessType,\n\t\t\tcondition: this.condition,\n\t\t\thitCondition: this.hitCondition,\n\t\t};\n\t}\n\n\toverride toJSON(): IDataBreakpointOptions & { id: string } {\n\t\treturn {\n\t\t\t...super.toJSON(),\n\t\t\tdescription: this.description,\n\t\t\tsrc: this.src,\n\t\t\taccessTypes: this.accessTypes,\n\t\t\taccessType: this.accessType,\n\t\t\tcanPersist: this.canPersist,\n\t\t};\n\t}\n\n\tget supported(): boolean {\n\t\tif (!this.data) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn this.data.supportsDataBreakpoints;\n\t}\n\n\toverride toString(): string {\n\t\treturn this.description;\n\t}\n}\n\nexport interface IExceptionBreakpointOptions extends IBaseBreakpointOptions {\n\tfilter: string;\n\tlabel: string;\n\tsupportsCondition: boolean;\n\tdescription: string | undefined;\n\tconditionDescription: string | undefined;\n\tfallback?: boolean;\n}\n\nexport class ExceptionBreakpoint extends BaseBreakpoint implements IExceptionBreakpoint {\n\n\tprivate supportedSessions: Set<string> = new Set();\n\n\tpublic readonly filter: string;\n\tpublic readonly label: string;\n\tpublic readonly supportsCondition: boolean;\n\tpublic readonly description: string | undefined;\n\tpublic readonly conditionDescription: string | undefined;\n\tprivate fallback: boolean = false;\n\n\tconstructor(\n\t\topts: IExceptionBreakpointOptions,\n\t\tid = generateUuid(),\n\t) {\n\t\tsuper(id, opts);\n\t\tthis.filter = opts.filter;\n\t\tthis.label = opts.label;\n\t\tthis.supportsCondition = opts.supportsCondition;\n\t\tthis.description = opts.description;\n\t\tthis.conditionDescription = opts.conditionDescription;\n\t\tthis.fallback = opts.fallback || false;\n\t}\n\n\toverride toJSON(): IExceptionBreakpointOptions & { id: string } {\n\t\treturn {\n\t\t\t...super.toJSON(),\n\t\t\tfilter: this.filter,\n\t\t\tlabel: this.label,\n\t\t\tenabled: this.enabled,\n\t\t\tsupportsCondition: this.supportsCondition,\n\t\t\tconditionDescription: this.conditionDescription,\n\t\t\tcondition: this.condition,\n\t\t\tfallback: this.fallback,\n\t\t\tdescription: this.description,\n\t\t};\n\t}\n\n\tsetSupportedSession(sessionId: string, supported: boolean): void {\n\t\tif (supported) {\n\t\t\tthis.supportedSessions.add(sessionId);\n\t\t}\n\t\telse {\n\t\t\tthis.supportedSessions.delete(sessionId);\n\t\t}\n\t}\n\n\t/**\n\t * Used to specify which breakpoints to show when no session is specified.\n\t * Useful when no session is active and we want to show the exception breakpoints from the last session.\n\t */\n\tsetFallback(isFallback: boolean) {\n\t\tthis.fallback = isFallback;\n\t}\n\n\tget supported(): boolean {\n\t\treturn true;\n\t}\n\n\t/**\n\t * Checks if the breakpoint is applicable for the specified session.\n\t * If sessionId is undefined, returns true if this breakpoint is a fallback breakpoint.\n\t */\n\tisSupportedSession(sessionId?: string): boolean {\n\t\treturn sessionId ? this.supportedSessions.has(sessionId) : this.fallback;\n\t}\n\n\tmatches(filter: DebugProtocol.ExceptionBreakpointsFilter) {\n\t\treturn this.filter === filter.filter\n\t\t\t&& this.label === filter.label\n\t\t\t&& this.supportsCondition === !!filter.supportsCondition\n\t\t\t&& this.conditionDescription === filter.conditionDescription\n\t\t\t&& this.description === filter.description;\n\t}\n\n\toverride toString(): string {\n\t\treturn this.label;\n\t}\n}\n\nexport interface IInstructionBreakpointOptions extends IBaseBreakpointOptions {\n\tinstructionReference: string;\n\toffset: number;\n\tcanPersist: boolean;\n\taddress: bigint;\n}\n\nexport class InstructionBreakpoint extends BaseBreakpoint implements IInstructionBreakpoint {\n\tpublic readonly instructionReference: string;\n\tpublic readonly offset: number;\n\tpublic readonly canPersist: boolean;\n\tpublic readonly address: bigint;\n\n\tconstructor(\n\t\topts: IInstructionBreakpointOptions,\n\t\tid = generateUuid()\n\t) {\n\t\tsuper(id, opts);\n\t\tthis.instructionReference = opts.instructionReference;\n\t\tthis.offset = opts.offset;\n\t\tthis.canPersist = opts.canPersist;\n\t\tthis.address = opts.address;\n\t}\n\n\ttoDAP(): DebugProtocol.InstructionBreakpoint {\n\t\treturn {\n\t\t\tinstructionReference: this.instructionReference,\n\t\t\tcondition: this.condition,\n\t\t\thitCondition: this.hitCondition,\n\t\t\tmode: this.mode,\n\t\t\toffset: this.offset,\n\t\t};\n\t}\n\n\toverride toJSON(): IInstructionBreakpointOptions & { id: string } {\n\t\treturn {\n\t\t\t...super.toJSON(),\n\t\t\tinstructionReference: this.instructionReference,\n\t\t\toffset: this.offset,\n\t\t\tcanPersist: this.canPersist,\n\t\t\taddress: this.address,\n\t\t};\n\t}\n\n\tget supported(): boolean {\n\t\tif (!this.data) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn this.data.supportsInstructionBreakpoints;\n\t}\n\n\toverride toString(): string {\n\t\treturn this.instructionReference;\n\t}\n}\n\nexport class ThreadAndSessionIds implements ITreeElement {\n\tconstructor(public sessionId: string, public threadId: number) { }\n\n\tgetId(): string {\n\t\treturn `${this.sessionId}:${this.threadId}`;\n\t}\n}\n\ninterface IBreakpointModeInternal extends DebugProtocol.BreakpointMode {\n\tfirstFromDebugType: string;\n}\n\nexport class DebugModel extends Disposable implements IDebugModel {\n\n\tprivate sessions: IDebugSession[];\n\tprivate schedulers = new Map<string, { scheduler: RunOnceScheduler; completeDeferred: DeferredPromise<void> }>();\n\tprivate breakpointsActivated = true;\n\tprivate readonly _onDidChangeBreakpoints = this._register(new Emitter<IBreakpointsChangeEvent | undefined>());\n\tprivate readonly _onDidChangeCallStack = this._register(new Emitter<void>());\n\tprivate readonly _onDidChangeWatchExpressions = this._register(new Emitter<IExpression | undefined>());\n\tprivate readonly _onDidChangeWatchExpressionValue = this._register(new Emitter<IExpression | undefined>());\n\tprivate readonly _breakpointModes = new Map<string, IBreakpointModeInternal>();\n\tprivate breakpoints!: Breakpoint[];\n\tprivate functionBreakpoints!: FunctionBreakpoint[];\n\tprivate exceptionBreakpoints!: ExceptionBreakpoint[];\n\tprivate dataBreakpoints!: DataBreakpoint[];\n\tprivate watchExpressions!: Expression[];\n\tprivate instructionBreakpoints: InstructionBreakpoint[];\n\n\tconstructor(\n\t\tdebugStorage: DebugStorage,\n\t\t@ITextFileService private readonly textFileService: ITextFileService,\n\t\t@IUriIdentityService private readonly uriIdentityService: IUriIdentityService,\n\t\t@ILogService private readonly logService: ILogService\n\t) {\n\t\tsuper();\n\n\t\tthis._register(autorun(reader => {\n\t\t\tthis.breakpoints = debugStorage.breakpoints.read(reader);\n\t\t\tthis.functionBreakpoints = debugStorage.functionBreakpoints.read(reader);\n\t\t\tthis.exceptionBreakpoints = debugStorage.exceptionBreakpoints.read(reader);\n\t\t\tthis.dataBreakpoints = debugStorage.dataBreakpoints.read(reader);\n\t\t\tthis._onDidChangeBreakpoints.fire(undefined);\n\t\t}));\n\n\t\tthis._register(autorun(reader => {\n\t\t\tthis.watchExpressions = debugStorage.watchExpressions.read(reader);\n\t\t\tthis._onDidChangeWatchExpressions.fire(undefined);\n\t\t}));\n\n\t\tthis._register(trackSetChanges(\n\t\t\t() => new Set(this.watchExpressions),\n\t\t\tthis.onDidChangeWatchExpressions,\n\t\t\t(we) => we.onDidChangeValue((e) => this._onDidChangeWatchExpressionValue.fire(e)))\n\t\t);\n\n\t\tthis.instructionBreakpoints = [];\n\t\tthis.sessions = [];\n\t}\n\n\tgetId(): string {\n\t\treturn 'root';\n\t}\n\n\tgetSession(sessionId: string | undefined, includeInactive = false): IDebugSession | undefined {\n\t\tif (sessionId) {\n\t\t\treturn this.getSessions(includeInactive).find(s => s.getId() === sessionId);\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tgetSessions(includeInactive = false): IDebugSession[] {\n\t\t// By default do not return inactive sessions.\n\t\t// However we are still holding onto inactive sessions due to repl and debug service session revival (eh scenario)\n\t\treturn this.sessions.filter(s => includeInactive || s.state !== State.Inactive);\n\t}\n\n\taddSession(session: IDebugSession): void {\n\t\tthis.sessions = this.sessions.filter(s => {\n\t\t\tif (s.getId() === session.getId()) {\n\t\t\t\t// Make sure to de-dupe if a session is re-initialized. In case of EH debugging we are adding a session again after an attach.\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (s.state === State.Inactive && s.configuration.name === session.configuration.name) {\n\t\t\t\t// Make sure to remove all inactive sessions that are using the same configuration as the new session\n\t\t\t\ts.dispose();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t});\n\n\t\tlet i = 1;\n\t\twhile (this.sessions.some(s => s.getLabel() === session.getLabel())) {\n\t\t\tsession.setName(`${session.configuration.name} ${++i}`);\n\t\t}\n\n\t\tlet index = -1;\n\t\tif (session.parentSession) {\n\t\t\t// Make sure that child sessions are placed after the parent session\n\t\t\tindex = findLastIdx(this.sessions, s => s.parentSession === session.parentSession || s === session.parentSession);\n\t\t}\n\t\tif (index >= 0) {\n\t\t\tthis.sessions.splice(index + 1, 0, session);\n\t\t} else {\n\t\t\tthis.sessions.push(session);\n\t\t}\n\t\tthis._onDidChangeCallStack.fire(undefined);\n\t}\n\n\tget onDidChangeBreakpoints(): Event<IBreakpointsChangeEvent | undefined> {\n\t\treturn this._onDidChangeBreakpoints.event;\n\t}\n\n\tget onDidChangeCallStack(): Event<void> {\n\t\treturn this._onDidChangeCallStack.event;\n\t}\n\n\tget onDidChangeWatchExpressions(): Event<IExpression | undefined> {\n\t\treturn this._onDidChangeWatchExpressions.event;\n\t}\n\n\tget onDidChangeWatchExpressionValue(): Event<IExpression | undefined> {\n\t\treturn this._onDidChangeWatchExpressionValue.event;\n\t}\n\n\trawUpdate(data: IRawModelUpdate): void {\n\t\tconst session = this.sessions.find(p => p.getId() === data.sessionId);\n\t\tif (session) {\n\t\t\tsession.rawUpdate(data);\n\t\t\tthis._onDidChangeCallStack.fire(undefined);\n\t\t}\n\t}\n\n\tclearThreads(id: string, removeThreads: boolean, reference: number | undefined = undefined): void {\n\t\tconst session = this.sessions.find(p => p.getId() === id);\n\t\tthis.schedulers.forEach(entry => {\n\t\t\tentry.scheduler.dispose();\n\t\t\tentry.completeDeferred.complete();\n\t\t});\n\t\tthis.schedulers.clear();\n\n\t\tif (session) {\n\t\t\tsession.clearThreads(removeThreads, reference);\n\t\t\tthis._onDidChangeCallStack.fire(undefined);\n\t\t}\n\t}\n\n\t/**\n\t * Update the call stack and notify the call stack view that changes have occurred.\n\t */\n\tasync fetchCallstack(thread: IThread, levels?: number): Promise<void> {\n\n\t\tif ((<Thread>thread).reachedEndOfCallStack) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst totalFrames = thread.stoppedDetails?.totalFrames;\n\t\tconst remainingFrames = (typeof totalFrames === 'number') ? (totalFrames - thread.getCallStack().length) : undefined;\n\n\t\tif (!levels || (remainingFrames && levels > remainingFrames)) {\n\t\t\tlevels = remainingFrames;\n\t\t}\n\n\t\tif (levels && levels > 0) {\n\t\t\tawait (<Thread>thread).fetchCallStack(levels);\n\t\t\tthis._onDidChangeCallStack.fire();\n\t\t}\n\n\t\treturn;\n\t}\n\n\trefreshTopOfCallstack(thread: Thread, fetchFullStack = true): { topCallStack: Promise<void>; wholeCallStack: Promise<void> } {\n\t\tif (thread.session.capabilities.supportsDelayedStackTraceLoading) {\n\t\t\t// For improved performance load the first stack frame and then load the rest async.\n\t\t\tlet topCallStack = Promise.resolve();\n\t\t\tconst wholeCallStack = new Promise<void>((c, e) => {\n\t\t\t\ttopCallStack = thread.fetchCallStack(1).then(() => {\n\t\t\t\t\tif (!fetchFullStack) {\n\t\t\t\t\t\tc();\n\t\t\t\t\t\tthis._onDidChangeCallStack.fire();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!this.schedulers.has(thread.getId())) {\n\t\t\t\t\t\tconst deferred = new DeferredPromise<void>();\n\t\t\t\t\t\tthis.schedulers.set(thread.getId(), {\n\t\t\t\t\t\t\tcompleteDeferred: deferred,\n\t\t\t\t\t\t\tscheduler: new RunOnceScheduler(() => {\n\t\t\t\t\t\t\t\tthread.fetchCallStack(19).then(() => {\n\t\t\t\t\t\t\t\t\tconst stale = thread.getStaleCallStack();\n\t\t\t\t\t\t\t\t\tconst current = thread.getCallStack();\n\t\t\t\t\t\t\t\t\tlet bottomOfCallStackChanged = stale.length !== current.length;\n\t\t\t\t\t\t\t\t\tfor (let i = 1; i < stale.length && !bottomOfCallStackChanged; i++) {\n\t\t\t\t\t\t\t\t\t\tbottomOfCallStackChanged = !stale[i].equals(current[i]);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (bottomOfCallStackChanged) {\n\t\t\t\t\t\t\t\t\t\tthis._onDidChangeCallStack.fire();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}).finally(() => {\n\t\t\t\t\t\t\t\t\tdeferred.complete();\n\t\t\t\t\t\t\t\t\tthis.schedulers.delete(thread.getId());\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}, 420)\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tconst entry = this.schedulers.get(thread.getId())!;\n\t\t\t\t\tentry.scheduler.schedule();\n\t\t\t\t\tentry.completeDeferred.p.then(c, e);\n\t\t\t\t\tthis._onDidChangeCallStack.fire();\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn { topCallStack, wholeCallStack };\n\t\t}\n\n\t\tconst wholeCallStack = thread.fetchCallStack();\n\t\treturn { wholeCallStack, topCallStack: wholeCallStack };\n\t}\n\n\tgetBreakpoints(filter?: { uri?: uri; originalUri?: uri; lineNumber?: number; column?: number; enabledOnly?: boolean; triggeredOnly?: boolean }): IBreakpoint[] {\n\t\tif (filter) {\n\t\t\tconst uriStr = filter.uri?.toString();\n\t\t\tconst originalUriStr = filter.originalUri?.toString();\n\t\t\treturn this.breakpoints.filter(bp => {\n\t\t\t\tif (uriStr && bp.uri.toString() !== uriStr) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (originalUriStr && bp.originalUri.toString() !== originalUriStr) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (filter.lineNumber && bp.lineNumber !== filter.lineNumber) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (filter.column && bp.column !== filter.column) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (filter.enabledOnly && (!this.breakpointsActivated || !bp.enabled)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (filter.triggeredOnly && bp.triggeredBy === undefined) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t});\n\t\t}\n\n\t\treturn this.breakpoints;\n\t}\n\n\tgetFunctionBreakpoints(): IFunctionBreakpoint[] {\n\t\treturn this.functionBreakpoints;\n\t}\n\n\tgetDataBreakpoints(): IDataBreakpoint[] {\n\t\treturn this.dataBreakpoints;\n\t}\n\n\tgetExceptionBreakpoints(): IExceptionBreakpoint[] {\n\t\treturn this.exceptionBreakpoints;\n\t}\n\n\tgetExceptionBreakpointsForSession(sessionId?: string): IExceptionBreakpoint[] {\n\t\treturn this.exceptionBreakpoints.filter(ebp => ebp.isSupportedSession(sessionId));\n\t}\n\n\tgetInstructionBreakpoints(): IInstructionBreakpoint[] {\n\t\treturn this.instructionBreakpoints;\n\t}\n\n\tsetExceptionBreakpointsForSession(sessionId: string, filters: DebugProtocol.ExceptionBreakpointsFilter[]): void {\n\t\tif (!filters) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet didChangeBreakpoints = false;\n\t\tfilters.forEach((d) => {\n\t\t\tlet ebp = this.exceptionBreakpoints.filter((exbp) => exbp.matches(d)).pop();\n\n\t\t\tif (!ebp) {\n\t\t\t\tdidChangeBreakpoints = true;\n\t\t\t\tebp = new ExceptionBreakpoint({\n\t\t\t\t\tfilter: d.filter,\n\t\t\t\t\tlabel: d.label,\n\t\t\t\t\tenabled: !!d.default,\n\t\t\t\t\tsupportsCondition: !!d.supportsCondition,\n\t\t\t\t\tdescription: d.description,\n\t\t\t\t\tconditionDescription: d.conditionDescription,\n\t\t\t\t});\n\t\t\t\tthis.exceptionBreakpoints.push(ebp);\n\t\t\t}\n\n\t\t\tebp.setSupportedSession(sessionId, true);\n\t\t});\n\n\t\tif (didChangeBreakpoints) {\n\t\t\tthis._onDidChangeBreakpoints.fire(undefined);\n\t\t}\n\t}\n\n\tremoveExceptionBreakpointsForSession(sessionId: string): void {\n\t\tthis.exceptionBreakpoints.forEach(ebp => ebp.setSupportedSession(sessionId, false));\n\t}\n\n\t// Set last focused session as fallback session.\n\t// This is done to keep track of the exception breakpoints to show when no session is active.\n\tsetExceptionBreakpointFallbackSession(sessionId: string): void {\n\t\tthis.exceptionBreakpoints.forEach(ebp => ebp.setFallback(ebp.isSupportedSession(sessionId)));\n\t}\n\n\tsetExceptionBreakpointCondition(exceptionBreakpoint: IExceptionBreakpoint, condition: string | undefined): void {\n\t\t(exceptionBreakpoint as ExceptionBreakpoint).condition = condition;\n\t\tthis._onDidChangeBreakpoints.fire(undefined);\n\t}\n\n\tareBreakpointsActivated(): boolean {\n\t\treturn this.breakpointsActivated;\n\t}\n\n\tsetBreakpointsActivated(activated: boolean): void {\n\t\tthis.breakpointsActivated = activated;\n\t\tthis._onDidChangeBreakpoints.fire(undefined);\n\t}\n\n\taddBreakpoints(uri: uri, rawData: IBreakpointData[], fireEvent = true): IBreakpoint[] {\n\t\tconst newBreakpoints = rawData.map(rawBp => {\n\t\t\treturn new Breakpoint({\n\t\t\t\turi,\n\t\t\t\tlineNumber: rawBp.lineNumber,\n\t\t\t\tcolumn: rawBp.column,\n\t\t\t\tenabled: rawBp.enabled ?? true,\n\t\t\t\tcondition: rawBp.condition,\n\t\t\t\thitCondition: rawBp.hitCondition,\n\t\t\t\tlogMessage: rawBp.logMessage,\n\t\t\t\ttriggeredBy: rawBp.triggeredBy,\n\t\t\t\tadapterData: undefined,\n\t\t\t\tmode: rawBp.mode,\n\t\t\t\tmodeLabel: rawBp.modeLabel,\n\t\t\t}, this.textFileService, this.uriIdentityService, this.logService, rawBp.id);\n\t\t});\n\t\tthis.breakpoints = this.breakpoints.concat(newBreakpoints);\n\t\tthis.breakpointsActivated = true;\n\t\tthis.sortAndDeDup();\n\n\t\tif (fireEvent) {\n\t\t\tthis._onDidChangeBreakpoints.fire({ added: newBreakpoints, sessionOnly: false });\n\t\t}\n\n\t\treturn newBreakpoints;\n\t}\n\n\tremoveBreakpoints(toRemove: IBreakpoint[]): void {\n\t\tthis.breakpoints = this.breakpoints.filter(bp => !toRemove.some(toRemove => toRemove.getId() === bp.getId()));\n\t\tthis._onDidChangeBreakpoints.fire({ removed: toRemove, sessionOnly: false });\n\t}\n\n\tupdateBreakpoints(data: Map<string, IBreakpointUpdateData>): void {\n\t\tconst updated: IBreakpoint[] = [];\n\t\tthis.breakpoints.forEach(bp => {\n\t\t\tconst bpData = data.get(bp.getId());\n\t\t\tif (bpData) {\n\t\t\t\tbp.update(bpData);\n\t\t\t\tupdated.push(bp);\n\t\t\t}\n\t\t});\n\t\tthis.sortAndDeDup();\n\t\tthis._onDidChangeBreakpoints.fire({ changed: updated, sessionOnly: false });\n\t}\n\n\tsetBreakpointSessionData(sessionId: string, capabilites: DebugProtocol.Capabilities, data: Map<string, DebugProtocol.Breakpoint> | undefined): void {\n\t\tthis.breakpoints.forEach(bp => {\n\t\t\tif (!data) {\n\t\t\t\tbp.setSessionData(sessionId, undefined);\n\t\t\t} else {\n\t\t\t\tconst bpData = data.get(bp.getId());\n\t\t\t\tif (bpData) {\n\t\t\t\t\tbp.setSessionData(sessionId, toBreakpointSessionData(bpData, capabilites));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tthis.functionBreakpoints.forEach(fbp => {\n\t\t\tif (!data) {\n\t\t\t\tfbp.setSessionData(sessionId, undefined);\n\t\t\t} else {\n\t\t\t\tconst fbpData = data.get(fbp.getId());\n\t\t\t\tif (fbpData) {\n\t\t\t\t\tfbp.setSessionData(sessionId, toBreakpointSessionData(fbpData, capabilites));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tthis.dataBreakpoints.forEach(dbp => {\n\t\t\tif (!data) {\n\t\t\t\tdbp.setSessionData(sessionId, undefined);\n\t\t\t} else {\n\t\t\t\tconst dbpData = data.get(dbp.getId());\n\t\t\t\tif (dbpData) {\n\t\t\t\t\tdbp.setSessionData(sessionId, toBreakpointSessionData(dbpData, capabilites));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tthis.exceptionBreakpoints.forEach(ebp => {\n\t\t\tif (!data) {\n\t\t\t\tebp.setSessionData(sessionId, undefined);\n\t\t\t} else {\n\t\t\t\tconst ebpData = data.get(ebp.getId());\n\t\t\t\tif (ebpData) {\n\t\t\t\t\tebp.setSessionData(sessionId, toBreakpointSessionData(ebpData, capabilites));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tthis.instructionBreakpoints.forEach(ibp => {\n\t\t\tif (!data) {\n\t\t\t\tibp.setSessionData(sessionId, undefined);\n\t\t\t} else {\n\t\t\t\tconst ibpData = data.get(ibp.getId());\n\t\t\t\tif (ibpData) {\n\t\t\t\t\tibp.setSessionData(sessionId, toBreakpointSessionData(ibpData, capabilites));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis._onDidChangeBreakpoints.fire({\n\t\t\tsessionOnly: true\n\t\t});\n\t}\n\n\tgetDebugProtocolBreakpoint(breakpointId: string, sessionId: string): DebugProtocol.Breakpoint | undefined {\n\t\tconst bp = this.breakpoints.find(bp => bp.getId() === breakpointId);\n\t\tif (bp) {\n\t\t\treturn bp.getDebugProtocolBreakpoint(sessionId);\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tgetBreakpointModes(forBreakpointType: 'source' | 'exception' | 'data' | 'instruction'): DebugProtocol.BreakpointMode[] {\n\t\treturn [...this._breakpointModes.values()].filter(mode => mode.appliesTo.includes(forBreakpointType));\n\t}\n\n\tregisterBreakpointModes(debugType: string, modes: DebugProtocol.BreakpointMode[]) {\n\t\tfor (const mode of modes) {\n\t\t\tconst key = `${mode.mode}/${mode.label}`;\n\t\t\tconst rec = this._breakpointModes.get(key);\n\t\t\tif (rec) {\n\t\t\t\tfor (const target of mode.appliesTo) {\n\t\t\t\t\tif (!rec.appliesTo.includes(target)) {\n\t\t\t\t\t\trec.appliesTo.push(target);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst duplicate = [...this._breakpointModes.values()].find(r => r !== rec && r.label === mode.label);\n\t\t\t\tif (duplicate) {\n\t\t\t\t\tduplicate.label = `${duplicate.label} (${duplicate.firstFromDebugType})`;\n\t\t\t\t}\n\n\t\t\t\tthis._breakpointModes.set(key, {\n\t\t\t\t\tmode: mode.mode,\n\t\t\t\t\tlabel: duplicate ? `${mode.label} (${debugType})` : mode.label,\n\t\t\t\t\tfirstFromDebugType: debugType,\n\t\t\t\t\tdescription: mode.description,\n\t\t\t\t\tappliesTo: mode.appliesTo.slice(), // avoid later mutations\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate sortAndDeDup(): void {\n\t\tthis.breakpoints = this.breakpoints.sort((first, second) => {\n\t\t\tif (first.uri.toString() !== second.uri.toString()) {\n\t\t\t\treturn resources.basenameOrAuthority(first.uri).localeCompare(resources.basenameOrAuthority(second.uri));\n\t\t\t}\n\t\t\tif (first.lineNumber === second.lineNumber) {\n\t\t\t\tif (first.column && second.column) {\n\t\t\t\t\treturn first.column - second.column;\n\t\t\t\t}\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn first.lineNumber - second.lineNumber;\n\t\t});\n\t\tthis.breakpoints = distinct(this.breakpoints, bp => `${bp.uri.toString()}:${bp.lineNumber}:${bp.column}`);\n\t}\n\n\tsetEnablement(element: IEnablement, enable: boolean): void {\n\t\tif (element instanceof Breakpoint || element instanceof FunctionBreakpoint || element instanceof ExceptionBreakpoint || element instanceof DataBreakpoint || element instanceof InstructionBreakpoint) {\n\t\t\tconst changed: Array<IBreakpoint | IFunctionBreakpoint | IDataBreakpoint | IInstructionBreakpoint> = [];\n\t\t\tif (element.enabled !== enable && (element instanceof Breakpoint || element instanceof FunctionBreakpoint || element instanceof DataBreakpoint || element instanceof InstructionBreakpoint)) {\n\t\t\t\tchanged.push(element);\n\t\t\t}\n\n\t\t\telement.enabled = enable;\n\t\t\tif (enable) {\n\t\t\t\tthis.breakpointsActivated = true;\n\t\t\t}\n\n\t\t\tthis._onDidChangeBreakpoints.fire({ changed: changed, sessionOnly: false });\n\t\t}\n\t}\n\n\tenableOrDisableAllBreakpoints(enable: boolean): void {\n\t\tconst changed: Array<IBreakpoint | IFunctionBreakpoint | IDataBreakpoint | IInstructionBreakpoint> = [];\n\n\t\tthis.breakpoints.forEach(bp => {\n\t\t\tif (bp.enabled !== enable) {\n\t\t\t\tchanged.push(bp);\n\t\t\t}\n\t\t\tbp.enabled = enable;\n\t\t});\n\t\tthis.functionBreakpoints.forEach(fbp => {\n\t\t\tif (fbp.enabled !== enable) {\n\t\t\t\tchanged.push(fbp);\n\t\t\t}\n\t\t\tfbp.enabled = enable;\n\t\t});\n\t\tthis.dataBreakpoints.forEach(dbp => {\n\t\t\tif (dbp.enabled !== enable) {\n\t\t\t\tchanged.push(dbp);\n\t\t\t}\n\t\t\tdbp.enabled = enable;\n\t\t});\n\t\tthis.instructionBreakpoints.forEach(ibp => {\n\t\t\tif (ibp.enabled !== enable) {\n\t\t\t\tchanged.push(ibp);\n\t\t\t}\n\t\t\tibp.enabled = enable;\n\t\t});\n\n\t\tif (enable) {\n\t\t\tthis.breakpointsActivated = true;\n\t\t}\n\n\t\tthis._onDidChangeBreakpoints.fire({ changed: changed, sessionOnly: false });\n\t}\n\n\taddFunctionBreakpoint(opts: IFunctionBreakpointOptions, id?: string): IFunctionBreakpoint {\n\t\tconst newFunctionBreakpoint = new FunctionBreakpoint(opts, id);\n\t\tthis.functionBreakpoints.push(newFunctionBreakpoint);\n\t\tthis._onDidChangeBreakpoints.fire({ added: [newFunctionBreakpoint], sessionOnly: false });\n\n\t\treturn newFunctionBreakpoint;\n\t}\n\n\tupdateFunctionBreakpoint(id: string, update: { name?: string; hitCondition?: string; condition?: string }): void {\n\t\tconst functionBreakpoint = this.functionBreakpoints.find(fbp => fbp.getId() === id);\n\t\tif (functionBreakpoint) {\n\t\t\tif (typeof update.name === 'string') {\n\t\t\t\tfunctionBreakpoint.name = update.name;\n\t\t\t}\n\t\t\tif (typeof update.condition === 'string') {\n\t\t\t\tfunctionBreakpoint.condition = update.condition;\n\t\t\t}\n\t\t\tif (typeof update.hitCondition === 'string') {\n\t\t\t\tfunctionBreakpoint.hitCondition = update.hitCondition;\n\t\t\t}\n\t\t\tthis._onDidChangeBreakpoints.fire({ changed: [functionBreakpoint], sessionOnly: false });\n\t\t}\n\t}\n\n\tremoveFunctionBreakpoints(id?: string): void {\n\t\tlet removed: FunctionBreakpoint[];\n\t\tif (id) {\n\t\t\tremoved = this.functionBreakpoints.filter(fbp => fbp.getId() === id);\n\t\t\tthis.functionBreakpoints = this.functionBreakpoints.filter(fbp => fbp.getId() !== id);\n\t\t} else {\n\t\t\tremoved = this.functionBreakpoints;\n\t\t\tthis.functionBreakpoints = [];\n\t\t}\n\t\tthis._onDidChangeBreakpoints.fire({ removed, sessionOnly: false });\n\t}\n\n\taddDataBreakpoint(opts: IDataBreakpointOptions, id?: string): void {\n\t\tconst newDataBreakpoint = new DataBreakpoint(opts, id);\n\t\tthis.dataBreakpoints.push(newDataBreakpoint);\n\t\tthis._onDidChangeBreakpoints.fire({ added: [newDataBreakpoint], sessionOnly: false });\n\t}\n\n\tupdateDataBreakpoint(id: string, update: { hitCondition?: string; condition?: string }): void {\n\t\tconst dataBreakpoint = this.dataBreakpoints.find(fbp => fbp.getId() === id);\n\t\tif (dataBreakpoint) {\n\t\t\tif (typeof update.condition === 'string') {\n\t\t\t\tdataBreakpoint.condition = update.condition;\n\t\t\t}\n\t\t\tif (typeof update.hitCondition === 'string') {\n\t\t\t\tdataBreakpoint.hitCondition = update.hitCondition;\n\t\t\t}\n\t\t\tthis._onDidChangeBreakpoints.fire({ changed: [dataBreakpoint], sessionOnly: false });\n\t\t}\n\t}\n\n\tremoveDataBreakpoints(id?: string): void {\n\t\tlet removed: DataBreakpoint[];\n\t\tif (id) {\n\t\t\tremoved = this.dataBreakpoints.filter(fbp => fbp.getId() === id);\n\t\t\tthis.dataBreakpoints = this.dataBreakpoints.filter(fbp => fbp.getId() !== id);\n\t\t} else {\n\t\t\tremoved = this.dataBreakpoints;\n\t\t\tthis.dataBreakpoints = [];\n\t\t}\n\t\tthis._onDidChangeBreakpoints.fire({ removed, sessionOnly: false });\n\t}\n\n\taddInstructionBreakpoint(opts: IInstructionBreakpointOptions): void {\n\t\tconst newInstructionBreakpoint = new InstructionBreakpoint(opts);\n\t\tthis.instructionBreakpoints.push(newInstructionBreakpoint);\n\t\tthis._onDidChangeBreakpoints.fire({ added: [newInstructionBreakpoint], sessionOnly: true });\n\t}\n\n\tremoveInstructionBreakpoints(instructionReference?: string, offset?: number): void {\n\t\tlet removed: InstructionBreakpoint[] = [];\n\t\tif (instructionReference) {\n\t\t\tfor (let i = 0; i < this.instructionBreakpoints.length; i++) {\n\t\t\t\tconst ibp = this.instructionBreakpoints[i];\n\t\t\t\tif (ibp.instructionReference === instructionReference && (offset === undefined || ibp.offset === offset)) {\n\t\t\t\t\tremoved.push(ibp);\n\t\t\t\t\tthis.instructionBreakpoints.splice(i--, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tremoved = this.instructionBreakpoints;\n\t\t\tthis.instructionBreakpoints = [];\n\t\t}\n\t\tthis._onDidChangeBreakpoints.fire({ removed, sessionOnly: false });\n\t}\n\n\tgetWatchExpressions(): Expression[] {\n\t\treturn this.watchExpressions;\n\t}\n\n\taddWatchExpression(name?: string): IExpression {\n\t\tconst we = new Expression(name || '');\n\t\tthis.watchExpressions.push(we);\n\t\tthis._onDidChangeWatchExpressions.fire(we);\n\n\t\treturn we;\n\t}\n\n\trenameWatchExpression(id: string, newName: string): void {\n\t\tconst filtered = this.watchExpressions.filter(we => we.getId() === id);\n\t\tif (filtered.length === 1) {\n\t\t\tfiltered[0].name = newName;\n\t\t\tthis._onDidChangeWatchExpressions.fire(filtered[0]);\n\t\t}\n\t}\n\n\tremoveWatchExpressions(id: string | null = null): void {\n\t\tthis.watchExpressions = id ? this.watchExpressions.filter(we => we.getId() !== id) : [];\n\t\tthis._onDidChangeWatchExpressions.fire(undefined);\n\t}\n\n\tmoveWatchExpression(id: string, position: number): void {\n\t\tconst we = this.watchExpressions.find(we => we.getId() === id);\n\t\tif (we) {\n\t\t\tthis.watchExpressions = this.watchExpressions.filter(we => we.getId() !== id);\n\t\t\tthis.watchExpressions = this.watchExpressions.slice(0, position).concat(we, this.watchExpressions.slice(position));\n\t\t\tthis._onDidChangeWatchExpressions.fire(undefined);\n\t\t}\n\t}\n\n\tsourceIsNotAvailable(uri: uri): void {\n\t\tthis.sessions.forEach(s => {\n\t\t\tconst source = s.getSourceForUri(uri);\n\t\t\tif (source) {\n\t\t\t\tsource.available = false;\n\t\t\t}\n\t\t});\n\t\tthis._onDidChangeCallStack.fire(undefined);\n\t}\n}\n"]}