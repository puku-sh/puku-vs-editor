{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/debug/test/browser/rawDebugSession.test.ts","vs/workbench/contrib/debug/test/browser/rawDebugSession.test.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,MAAM,MAAM,QAAQ,CAAC;AAC5B,OAAO,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,yCAAyC,CAAC;AAC3E,OAAO,EAAE,uCAAuC,EAAE,MAAM,0CAA0C,CAAC;AAKnG,OAAO,EAAE,eAAe,EAAE,MAAM,kCAAkC,CAAC;AAEnE,OAAO,EAAE,gBAAgB,EAAE,MAAM,wBAAwB,CAAC;AAE1D,KAAK,CAAC,iBAAiB,EAAE,GAAG,EAAE;IAC7B,MAAM,WAAW,GAAG,uCAAuC,EAAE,CAAC;IAE9D,SAAS,iBAAiB;QACzB,MAAM,YAAY,GAAG,IAAI,gBAAgB,EAAE,CAAC;QAC5C,MAAM,IAAI,GAAG,UAAU,EAAa,CAAC;YACpC,IAAI,EAAE,YAAY;SAClB,CAAC,CAAC;QAEH,MAAM,OAAO,GAAG,IAAI,eAAe,CAClC,YAAY;QACZ,mDAAmD;QACnD,IAAwB,EACxB,WAAW,EACX,MAAM,EACN,IAAI,CAAC,IAAI,EAA8B,CAAC,EACxC,IAAI,CAAC,IAAI,EAAkB,CAAC,EAC5B,IAAI,CAAC,IAAI,EAAwB,CAAC,EAClC,IAAI,CAAC,IAAI,EAAkB,CAAC,CAAC,CAAC;QAC/B,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACzB,WAAW,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;QAE9B,OAAO,EAAE,YAAY,EAAE,IAAI,EAAE,CAAC;IAC/B,CAAC;IAED,IAAI,CAAC,wCAAwC,EAAE,KAAK,IAAI,EAAE;QACzD,MAAM,EAAE,YAAY,EAAE,IAAI,EAAE,GAAG,iBAAiB,EAAE,CAAC;QACnD,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;QAEnD,YAAY,CAAC,eAAe,CAAC,gBAAgB,EAAE;YAC9C,OAAO,EAAE,QAAQ;YACjB,aAAa,EAAE;gBACd,IAAI,EAAE,iBAAiB;aACvB;SAC+C,CAAC,CAAC;QACnD,MAAM,QAAQ,GAAG,MAAM,YAAY,CAAC,yBAAyB,CAAC,gBAAgB,CAAC,CAAC;QAChF,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC,OAAO,EAAE,gBAAgB,CAAC,CAAC;QACvD,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IAC5C,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,wCAAwC,EAAE,KAAK,IAAI,EAAE;QACzD,MAAM,EAAE,YAAY,EAAE,IAAI,EAAE,GAAG,iBAAiB,EAAE,CAAC;QACnD,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;QAEpD,YAAY,CAAC,eAAe,CAAC,gBAAgB,EAAE;YAC9C,OAAO,EAAE,QAAQ;YACjB,aAAa,EAAE;gBACd,IAAI,EAAE,iBAAiB;aACvB;SAC+C,CAAC,CAAC;QACnD,MAAM,QAAQ,GAAG,MAAM,YAAY,CAAC,yBAAyB,CAAC,gBAAgB,CAAC,CAAC;QAChF,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC,OAAO,EAAE,gBAAgB,CAAC,CAAC;QACvD,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;IAC7C,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC,CAAC","file":"rawDebugSession.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { mock, mockObject } from '../../../../../base/test/common/mock.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { IExtensionHostDebugService } from '../../../../../platform/debug/common/extensionHostDebug.js';\nimport { IDialogService } from '../../../../../platform/dialogs/common/dialogs.js';\nimport { INotificationService } from '../../../../../platform/notification/common/notification.js';\nimport { IOpenerService } from '../../../../../platform/opener/common/opener.js';\nimport { RawDebugSession } from '../../browser/rawDebugSession.js';\nimport { IDebugger } from '../../common/debug.js';\nimport { MockDebugAdapter } from '../common/mockDebug.js';\n\nsuite('RawDebugSession', () => {\n\tconst disposables = ensureNoDisposablesAreLeakedInTestSuite();\n\n\tfunction createTestObjects() {\n\t\tconst debugAdapter = new MockDebugAdapter();\n\t\tconst dbgr = mockObject<IDebugger>()({\n\t\t\ttype: 'mock-debug'\n\t\t});\n\n\t\tconst session = new RawDebugSession(\n\t\t\tdebugAdapter,\n\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\tdbgr as any as IDebugger,\n\t\t\t'sessionId',\n\t\t\t'name',\n\t\t\tnew (mock<IExtensionHostDebugService>()),\n\t\t\tnew (mock<IOpenerService>()),\n\t\t\tnew (mock<INotificationService>()),\n\t\t\tnew (mock<IDialogService>()));\n\t\tdisposables.add(session);\n\t\tdisposables.add(debugAdapter);\n\n\t\treturn { debugAdapter, dbgr };\n\t}\n\n\ttest('handles startDebugging request success', async () => {\n\t\tconst { debugAdapter, dbgr } = createTestObjects();\n\t\tdbgr.startDebugging.returns(Promise.resolve(true));\n\n\t\tdebugAdapter.sendRequestBody('startDebugging', {\n\t\t\trequest: 'launch',\n\t\t\tconfiguration: {\n\t\t\t\ttype: 'some-other-type'\n\t\t\t}\n\t\t} as DebugProtocol.StartDebuggingRequestArguments);\n\t\tconst response = await debugAdapter.waitForResponseFromClient('startDebugging');\n\t\tassert.strictEqual(response.command, 'startDebugging');\n\t\tassert.strictEqual(response.success, true);\n\t});\n\n\ttest('handles startDebugging request failure', async () => {\n\t\tconst { debugAdapter, dbgr } = createTestObjects();\n\t\tdbgr.startDebugging.returns(Promise.resolve(false));\n\n\t\tdebugAdapter.sendRequestBody('startDebugging', {\n\t\t\trequest: 'launch',\n\t\t\tconfiguration: {\n\t\t\t\ttype: 'some-other-type'\n\t\t\t}\n\t\t} as DebugProtocol.StartDebuggingRequestArguments);\n\t\tconst response = await debugAdapter.waitForResponseFromClient('startDebugging');\n\t\tassert.strictEqual(response.command, 'startDebugging');\n\t\tassert.strictEqual(response.success, false);\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { mock, mockObject } from '../../../../../base/test/common/mock.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { IExtensionHostDebugService } from '../../../../../platform/debug/common/extensionHostDebug.js';\nimport { IDialogService } from '../../../../../platform/dialogs/common/dialogs.js';\nimport { INotificationService } from '../../../../../platform/notification/common/notification.js';\nimport { IOpenerService } from '../../../../../platform/opener/common/opener.js';\nimport { RawDebugSession } from '../../browser/rawDebugSession.js';\nimport { IDebugger } from '../../common/debug.js';\nimport { MockDebugAdapter } from '../common/mockDebug.js';\n\nsuite('RawDebugSession', () => {\n\tconst disposables = ensureNoDisposablesAreLeakedInTestSuite();\n\n\tfunction createTestObjects() {\n\t\tconst debugAdapter = new MockDebugAdapter();\n\t\tconst dbgr = mockObject<IDebugger>()({\n\t\t\ttype: 'mock-debug'\n\t\t});\n\n\t\tconst session = new RawDebugSession(\n\t\t\tdebugAdapter,\n\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\tdbgr as any as IDebugger,\n\t\t\t'sessionId',\n\t\t\t'name',\n\t\t\tnew (mock<IExtensionHostDebugService>()),\n\t\t\tnew (mock<IOpenerService>()),\n\t\t\tnew (mock<INotificationService>()),\n\t\t\tnew (mock<IDialogService>()));\n\t\tdisposables.add(session);\n\t\tdisposables.add(debugAdapter);\n\n\t\treturn { debugAdapter, dbgr };\n\t}\n\n\ttest('handles startDebugging request success', async () => {\n\t\tconst { debugAdapter, dbgr } = createTestObjects();\n\t\tdbgr.startDebugging.returns(Promise.resolve(true));\n\n\t\tdebugAdapter.sendRequestBody('startDebugging', {\n\t\t\trequest: 'launch',\n\t\t\tconfiguration: {\n\t\t\t\ttype: 'some-other-type'\n\t\t\t}\n\t\t} as DebugProtocol.StartDebuggingRequestArguments);\n\t\tconst response = await debugAdapter.waitForResponseFromClient('startDebugging');\n\t\tassert.strictEqual(response.command, 'startDebugging');\n\t\tassert.strictEqual(response.success, true);\n\t});\n\n\ttest('handles startDebugging request failure', async () => {\n\t\tconst { debugAdapter, dbgr } = createTestObjects();\n\t\tdbgr.startDebugging.returns(Promise.resolve(false));\n\n\t\tdebugAdapter.sendRequestBody('startDebugging', {\n\t\t\trequest: 'launch',\n\t\t\tconfiguration: {\n\t\t\t\ttype: 'some-other-type'\n\t\t\t}\n\t\t} as DebugProtocol.StartDebuggingRequestArguments);\n\t\tconst response = await debugAdapter.waitForResponseFromClient('startDebugging');\n\t\tassert.strictEqual(response.command, 'startDebugging');\n\t\tassert.strictEqual(response.success, false);\n\t});\n});\n"]}