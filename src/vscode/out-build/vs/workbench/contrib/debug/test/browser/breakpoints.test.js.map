{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/debug/test/browser/breakpoints.test.ts","vs/workbench/contrib/debug/test/browser/breakpoints.test.ts"],"names":[],"mappings":"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","file":"breakpoints.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { MarkdownString } from '../../../../../base/common/htmlContent.js';\nimport { dispose } from '../../../../../base/common/lifecycle.js';\nimport { URI as uri } from '../../../../../base/common/uri.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { Range } from '../../../../../editor/common/core/range.js';\nimport { ILanguageService } from '../../../../../editor/common/languages/language.js';\nimport { OverviewRulerLane } from '../../../../../editor/common/model.js';\nimport { LanguageService } from '../../../../../editor/common/services/languageService.js';\nimport { createTextModel } from '../../../../../editor/test/common/testTextModel.js';\nimport { TestInstantiationService } from '../../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { ILabelService } from '../../../../../platform/label/common/label.js';\nimport { NullLogService } from '../../../../../platform/log/common/log.js';\nimport { StorageScope, StorageTarget } from '../../../../../platform/storage/common/storage.js';\nimport { createBreakpointDecorations } from '../../browser/breakpointEditorContribution.js';\nimport { getBreakpointMessageAndIcon, getExpandedBodySize } from '../../browser/breakpointsView.js';\nimport { DataBreakpointSetType, IBreakpointData, IBreakpointUpdateData, IDebugService, State } from '../../common/debug.js';\nimport { Breakpoint, DebugModel } from '../../common/debugModel.js';\nimport { createTestSession } from './callStack.test.js';\nimport { createMockDebugModel, mockUriIdentityService } from './mockDebugModel.js';\nimport { MockDebugService, MockDebugStorage } from '../common/mockDebug.js';\nimport { MockLabelService } from '../../../../services/label/test/common/mockLabelService.js';\nimport { TestStorageService } from '../../../../test/common/workbenchTestServices.js';\n\nfunction addBreakpointsAndCheckEvents(model: DebugModel, uri: uri, data: IBreakpointData[]) {\n\tlet eventCount = 0;\n\tconst toDispose = model.onDidChangeBreakpoints(e => {\n\t\tassert.strictEqual(e?.sessionOnly, false);\n\t\tassert.strictEqual(e?.changed, undefined);\n\t\tassert.strictEqual(e?.removed, undefined);\n\t\tconst added = e?.added;\n\t\tassert.notStrictEqual(added, undefined);\n\t\tassert.strictEqual(added!.length, data.length);\n\t\teventCount++;\n\t\tdispose(toDispose);\n\t\tfor (let i = 0; i < data.length; i++) {\n\t\t\tassert.strictEqual(e.added![i] instanceof Breakpoint, true);\n\t\t\tassert.strictEqual((e.added![i] as Breakpoint).lineNumber, data[i].lineNumber);\n\t\t}\n\t});\n\tconst bps = model.addBreakpoints(uri, data);\n\tassert.strictEqual(eventCount, 1);\n\treturn bps;\n}\n\nsuite('Debug - Breakpoints', () => {\n\tlet model: DebugModel;\n\tconst disposables = ensureNoDisposablesAreLeakedInTestSuite();\n\n\tsetup(() => {\n\t\tmodel = createMockDebugModel(disposables);\n\t});\n\n\t// Breakpoints\n\n\ttest('simple', () => {\n\t\tconst modelUri = uri.file('/myfolder/myfile.js');\n\n\t\taddBreakpointsAndCheckEvents(model, modelUri, [{ lineNumber: 5, enabled: true }, { lineNumber: 10, enabled: false }]);\n\t\tassert.strictEqual(model.areBreakpointsActivated(), true);\n\t\tassert.strictEqual(model.getBreakpoints().length, 2);\n\n\t\tlet eventCount = 0;\n\t\tconst toDispose = model.onDidChangeBreakpoints(e => {\n\t\t\teventCount++;\n\t\t\tassert.strictEqual(e?.added, undefined);\n\t\t\tassert.strictEqual(e?.sessionOnly, false);\n\t\t\tassert.strictEqual(e?.removed?.length, 2);\n\t\t\tassert.strictEqual(e?.changed, undefined);\n\n\t\t\tdispose(toDispose);\n\t\t});\n\n\t\tmodel.removeBreakpoints(model.getBreakpoints());\n\t\tassert.strictEqual(eventCount, 1);\n\t\tassert.strictEqual(model.getBreakpoints().length, 0);\n\t});\n\n\ttest('toggling', () => {\n\t\tconst modelUri = uri.file('/myfolder/myfile.js');\n\n\t\taddBreakpointsAndCheckEvents(model, modelUri, [{ lineNumber: 5, enabled: true }, { lineNumber: 10, enabled: false }]);\n\t\taddBreakpointsAndCheckEvents(model, modelUri, [{ lineNumber: 12, enabled: true, condition: 'fake condition' }]);\n\t\tassert.strictEqual(model.getBreakpoints().length, 3);\n\t\tconst bp = model.getBreakpoints().pop();\n\t\tif (bp) {\n\t\t\tmodel.removeBreakpoints([bp]);\n\t\t}\n\t\tassert.strictEqual(model.getBreakpoints().length, 2);\n\n\t\tmodel.setBreakpointsActivated(false);\n\t\tassert.strictEqual(model.areBreakpointsActivated(), false);\n\t\tmodel.setBreakpointsActivated(true);\n\t\tassert.strictEqual(model.areBreakpointsActivated(), true);\n\t});\n\n\ttest('two files', () => {\n\t\tconst modelUri1 = uri.file('/myfolder/my file first.js');\n\t\tconst modelUri2 = uri.file('/secondfolder/second/second file.js');\n\t\taddBreakpointsAndCheckEvents(model, modelUri1, [{ lineNumber: 5, enabled: true }, { lineNumber: 10, enabled: false }]);\n\t\tassert.strictEqual(getExpandedBodySize(model, undefined, 9), 44);\n\n\t\taddBreakpointsAndCheckEvents(model, modelUri2, [{ lineNumber: 1, enabled: true }, { lineNumber: 2, enabled: true }, { lineNumber: 3, enabled: false }]);\n\t\tassert.strictEqual(getExpandedBodySize(model, undefined, 9), 110);\n\n\t\tassert.strictEqual(model.getBreakpoints().length, 5);\n\t\tassert.strictEqual(model.getBreakpoints({ uri: modelUri1 }).length, 2);\n\t\tassert.strictEqual(model.getBreakpoints({ uri: modelUri2 }).length, 3);\n\t\tassert.strictEqual(model.getBreakpoints({ lineNumber: 5 }).length, 1);\n\t\tassert.strictEqual(model.getBreakpoints({ column: 5 }).length, 0);\n\n\t\tconst bp = model.getBreakpoints()[0];\n\t\tconst update = new Map<string, IBreakpointUpdateData>();\n\t\tupdate.set(bp.getId(), { lineNumber: 100 });\n\t\tlet eventFired = false;\n\t\tconst toDispose = model.onDidChangeBreakpoints(e => {\n\t\t\teventFired = true;\n\t\t\tassert.strictEqual(e?.added, undefined);\n\t\t\tassert.strictEqual(e?.removed, undefined);\n\t\t\tassert.strictEqual(e?.changed?.length, 1);\n\t\t\tdispose(toDispose);\n\t\t});\n\t\tmodel.updateBreakpoints(update);\n\t\tassert.strictEqual(eventFired, true);\n\t\tassert.strictEqual(bp.lineNumber, 100);\n\n\t\tassert.strictEqual(model.getBreakpoints({ enabledOnly: true }).length, 3);\n\t\tmodel.enableOrDisableAllBreakpoints(false);\n\t\tmodel.getBreakpoints().forEach(bp => {\n\t\t\tassert.strictEqual(bp.enabled, false);\n\t\t});\n\t\tassert.strictEqual(model.getBreakpoints({ enabledOnly: true }).length, 0);\n\n\t\tmodel.setEnablement(bp, true);\n\t\tassert.strictEqual(bp.enabled, true);\n\n\t\tmodel.removeBreakpoints(model.getBreakpoints({ uri: modelUri1 }));\n\t\tassert.strictEqual(getExpandedBodySize(model, undefined, 9), 66);\n\n\t\tassert.strictEqual(model.getBreakpoints().length, 3);\n\t});\n\n\ttest('conditions', () => {\n\t\tconst modelUri1 = uri.file('/myfolder/my file first.js');\n\t\taddBreakpointsAndCheckEvents(model, modelUri1, [{ lineNumber: 5, condition: 'i < 5', hitCondition: '17' }, { lineNumber: 10, condition: 'j < 3' }]);\n\t\tconst breakpoints = model.getBreakpoints();\n\n\t\tassert.strictEqual(breakpoints[0].condition, 'i < 5');\n\t\tassert.strictEqual(breakpoints[0].hitCondition, '17');\n\t\tassert.strictEqual(breakpoints[1].condition, 'j < 3');\n\t\tassert.strictEqual(!!breakpoints[1].hitCondition, false);\n\n\t\tassert.strictEqual(model.getBreakpoints().length, 2);\n\t\tmodel.removeBreakpoints(model.getBreakpoints());\n\t\tassert.strictEqual(model.getBreakpoints().length, 0);\n\t});\n\n\ttest('function breakpoints', () => {\n\t\tmodel.addFunctionBreakpoint({ name: 'foo' }, '1');\n\t\tmodel.addFunctionBreakpoint({ name: 'bar' }, '2');\n\t\tmodel.updateFunctionBreakpoint('1', { name: 'fooUpdated' });\n\t\tmodel.updateFunctionBreakpoint('2', { name: 'barUpdated' });\n\n\t\tconst functionBps = model.getFunctionBreakpoints();\n\t\tassert.strictEqual(functionBps[0].name, 'fooUpdated');\n\t\tassert.strictEqual(functionBps[1].name, 'barUpdated');\n\n\t\tmodel.removeFunctionBreakpoints();\n\t\tassert.strictEqual(model.getFunctionBreakpoints().length, 0);\n\t});\n\n\ttest('multiple sessions', () => {\n\t\tconst modelUri = uri.file('/myfolder/myfile.js');\n\t\taddBreakpointsAndCheckEvents(model, modelUri, [{ lineNumber: 5, enabled: true, condition: 'x > 5' }, { lineNumber: 10, enabled: false }]);\n\t\tconst breakpoints = model.getBreakpoints();\n\t\tconst session = disposables.add(createTestSession(model));\n\t\tconst data = new Map<string, DebugProtocol.Breakpoint>();\n\n\t\tassert.strictEqual(breakpoints[0].lineNumber, 5);\n\t\tassert.strictEqual(breakpoints[1].lineNumber, 10);\n\n\t\tdata.set(breakpoints[0].getId(), { verified: false, line: 10 });\n\t\tdata.set(breakpoints[1].getId(), { verified: true, line: 50 });\n\t\tmodel.setBreakpointSessionData(session.getId(), {}, data);\n\t\tassert.strictEqual(breakpoints[0].lineNumber, 5);\n\t\tassert.strictEqual(breakpoints[1].lineNumber, 50);\n\n\t\tconst session2 = disposables.add(createTestSession(model));\n\t\tconst data2 = new Map<string, DebugProtocol.Breakpoint>();\n\t\tdata2.set(breakpoints[0].getId(), { verified: true, line: 100 });\n\t\tdata2.set(breakpoints[1].getId(), { verified: true, line: 500 });\n\t\tmodel.setBreakpointSessionData(session2.getId(), {}, data2);\n\n\t\t// Breakpoint is verified only once, show that line\n\t\tassert.strictEqual(breakpoints[0].lineNumber, 100);\n\t\t// Breakpoint is verified two times, show the original line\n\t\tassert.strictEqual(breakpoints[1].lineNumber, 10);\n\n\t\tmodel.setBreakpointSessionData(session.getId(), {}, undefined);\n\t\t// No more double session verification\n\t\tassert.strictEqual(breakpoints[0].lineNumber, 100);\n\t\tassert.strictEqual(breakpoints[1].lineNumber, 500);\n\n\t\tassert.strictEqual(breakpoints[0].supported, false);\n\t\tconst data3 = new Map<string, DebugProtocol.Breakpoint>();\n\t\tdata3.set(breakpoints[0].getId(), { verified: true, line: 500 });\n\t\tmodel.setBreakpointSessionData(session2.getId(), { supportsConditionalBreakpoints: true }, data2);\n\t\tassert.strictEqual(breakpoints[0].supported, true);\n\t});\n\n\ttest('exception breakpoints', () => {\n\t\tlet eventCount = 0;\n\t\tdisposables.add(model.onDidChangeBreakpoints(() => eventCount++));\n\t\tmodel.setExceptionBreakpointsForSession('session-id-1', [{ filter: 'uncaught', label: 'UNCAUGHT', default: true }]);\n\t\tassert.strictEqual(eventCount, 1);\n\t\tlet exceptionBreakpoints = model.getExceptionBreakpointsForSession('session-id-1');\n\t\tassert.strictEqual(exceptionBreakpoints.length, 1);\n\t\tassert.strictEqual(exceptionBreakpoints[0].filter, 'uncaught');\n\t\tassert.strictEqual(exceptionBreakpoints[0].enabled, true);\n\n\t\tmodel.setExceptionBreakpointsForSession('session-id-2', [{ filter: 'uncaught', label: 'UNCAUGHT' }, { filter: 'caught', label: 'CAUGHT' }]);\n\t\tassert.strictEqual(eventCount, 2);\n\t\texceptionBreakpoints = model.getExceptionBreakpointsForSession('session-id-2');\n\t\tassert.strictEqual(exceptionBreakpoints.length, 2);\n\t\tassert.strictEqual(exceptionBreakpoints[0].filter, 'uncaught');\n\t\tassert.strictEqual(exceptionBreakpoints[0].enabled, true);\n\t\tassert.strictEqual(exceptionBreakpoints[1].filter, 'caught');\n\t\tassert.strictEqual(exceptionBreakpoints[1].label, 'CAUGHT');\n\t\tassert.strictEqual(exceptionBreakpoints[1].enabled, false);\n\n\t\tmodel.setExceptionBreakpointsForSession('session-id-3', [{ filter: 'all', label: 'ALL' }]);\n\t\tassert.strictEqual(eventCount, 3);\n\t\tassert.strictEqual(model.getExceptionBreakpointsForSession('session-id-3').length, 1);\n\t\texceptionBreakpoints = model.getExceptionBreakpoints();\n\t\tassert.strictEqual(exceptionBreakpoints[0].filter, 'uncaught');\n\t\tassert.strictEqual(exceptionBreakpoints[0].enabled, true);\n\t\tassert.strictEqual(exceptionBreakpoints[1].filter, 'caught');\n\t\tassert.strictEqual(exceptionBreakpoints[1].label, 'CAUGHT');\n\t\tassert.strictEqual(exceptionBreakpoints[1].enabled, false);\n\t\tassert.strictEqual(exceptionBreakpoints[2].filter, 'all');\n\t\tassert.strictEqual(exceptionBreakpoints[2].label, 'ALL');\n\t});\n\n\ttest('exception breakpoints multiple sessions', () => {\n\t\tlet eventCount = 0;\n\t\tdisposables.add(model.onDidChangeBreakpoints(() => eventCount++));\n\n\t\tmodel.setExceptionBreakpointsForSession('session-id-4', [{ filter: 'uncaught', label: 'UNCAUGHT', default: true }, { filter: 'caught', label: 'CAUGHT' }]);\n\t\tmodel.setExceptionBreakpointFallbackSession('session-id-4');\n\t\tassert.strictEqual(eventCount, 1);\n\t\tlet exceptionBreakpointsForSession = model.getExceptionBreakpointsForSession('session-id-4');\n\t\tassert.strictEqual(exceptionBreakpointsForSession.length, 2);\n\t\tassert.strictEqual(exceptionBreakpointsForSession[0].filter, 'uncaught');\n\t\tassert.strictEqual(exceptionBreakpointsForSession[1].filter, 'caught');\n\n\t\tmodel.setExceptionBreakpointsForSession('session-id-5', [{ filter: 'all', label: 'ALL' }, { filter: 'caught', label: 'CAUGHT' }]);\n\t\tassert.strictEqual(eventCount, 2);\n\t\texceptionBreakpointsForSession = model.getExceptionBreakpointsForSession('session-id-5');\n\t\tlet exceptionBreakpointsForUndefined = model.getExceptionBreakpointsForSession(undefined);\n\t\tassert.strictEqual(exceptionBreakpointsForSession.length, 2);\n\t\tassert.strictEqual(exceptionBreakpointsForSession[0].filter, 'caught');\n\t\tassert.strictEqual(exceptionBreakpointsForSession[1].filter, 'all');\n\t\tassert.strictEqual(exceptionBreakpointsForUndefined.length, 2);\n\t\tassert.strictEqual(exceptionBreakpointsForUndefined[0].filter, 'uncaught');\n\t\tassert.strictEqual(exceptionBreakpointsForUndefined[1].filter, 'caught');\n\n\t\tmodel.removeExceptionBreakpointsForSession('session-id-4');\n\t\tassert.strictEqual(eventCount, 2);\n\t\texceptionBreakpointsForUndefined = model.getExceptionBreakpointsForSession(undefined);\n\t\tassert.strictEqual(exceptionBreakpointsForUndefined.length, 2);\n\t\tassert.strictEqual(exceptionBreakpointsForUndefined[0].filter, 'uncaught');\n\t\tassert.strictEqual(exceptionBreakpointsForUndefined[1].filter, 'caught');\n\n\t\tmodel.setExceptionBreakpointFallbackSession('session-id-5');\n\t\tassert.strictEqual(eventCount, 2);\n\t\texceptionBreakpointsForUndefined = model.getExceptionBreakpointsForSession(undefined);\n\t\tassert.strictEqual(exceptionBreakpointsForUndefined.length, 2);\n\t\tassert.strictEqual(exceptionBreakpointsForUndefined[0].filter, 'caught');\n\t\tassert.strictEqual(exceptionBreakpointsForUndefined[1].filter, 'all');\n\n\t\tconst exceptionBreakpoints = model.getExceptionBreakpoints();\n\t\tassert.strictEqual(exceptionBreakpoints.length, 3);\n\t});\n\n\ttest('instruction breakpoints', () => {\n\t\tlet eventCount = 0;\n\t\tdisposables.add(model.onDidChangeBreakpoints(() => eventCount++));\n\t\t//address: string, offset: number, condition?: string, hitCondition?: string\n\t\tmodel.addInstructionBreakpoint({ instructionReference: '0xCCCCFFFF', offset: 0, address: 0n, canPersist: false });\n\n\t\tassert.strictEqual(eventCount, 1);\n\t\tlet instructionBreakpoints = model.getInstructionBreakpoints();\n\t\tassert.strictEqual(instructionBreakpoints.length, 1);\n\t\tassert.strictEqual(instructionBreakpoints[0].instructionReference, '0xCCCCFFFF');\n\t\tassert.strictEqual(instructionBreakpoints[0].offset, 0);\n\n\t\tmodel.addInstructionBreakpoint({ instructionReference: '0xCCCCEEEE', offset: 1, address: 0n, canPersist: false });\n\t\tassert.strictEqual(eventCount, 2);\n\t\tinstructionBreakpoints = model.getInstructionBreakpoints();\n\t\tassert.strictEqual(instructionBreakpoints.length, 2);\n\t\tassert.strictEqual(instructionBreakpoints[0].instructionReference, '0xCCCCFFFF');\n\t\tassert.strictEqual(instructionBreakpoints[0].offset, 0);\n\t\tassert.strictEqual(instructionBreakpoints[1].instructionReference, '0xCCCCEEEE');\n\t\tassert.strictEqual(instructionBreakpoints[1].offset, 1);\n\t});\n\n\ttest('data breakpoints', () => {\n\t\tlet eventCount = 0;\n\t\tdisposables.add(model.onDidChangeBreakpoints(() => eventCount++));\n\n\t\tmodel.addDataBreakpoint({ description: 'label', src: { type: DataBreakpointSetType.Variable, dataId: 'id' }, canPersist: true, accessTypes: ['read'], accessType: 'read' }, '1');\n\t\tmodel.addDataBreakpoint({ description: 'second', src: { type: DataBreakpointSetType.Variable, dataId: 'secondId' }, canPersist: false, accessTypes: ['readWrite'], accessType: 'readWrite' }, '2');\n\t\tmodel.updateDataBreakpoint('1', { condition: 'aCondition' });\n\t\tmodel.updateDataBreakpoint('2', { hitCondition: '10' });\n\t\tconst dataBreakpoints = model.getDataBreakpoints();\n\t\tassert.strictEqual(dataBreakpoints[0].canPersist, true);\n\t\tassert.deepStrictEqual(dataBreakpoints[0].src, { type: DataBreakpointSetType.Variable, dataId: 'id' });\n\t\tassert.strictEqual(dataBreakpoints[0].accessType, 'read');\n\t\tassert.strictEqual(dataBreakpoints[0].condition, 'aCondition');\n\t\tassert.strictEqual(dataBreakpoints[1].canPersist, false);\n\t\tassert.strictEqual(dataBreakpoints[1].description, 'second');\n\t\tassert.strictEqual(dataBreakpoints[1].accessType, 'readWrite');\n\t\tassert.strictEqual(dataBreakpoints[1].hitCondition, '10');\n\n\t\tassert.strictEqual(eventCount, 4);\n\n\t\tmodel.removeDataBreakpoints(dataBreakpoints[0].getId());\n\t\tassert.strictEqual(eventCount, 5);\n\t\tassert.strictEqual(model.getDataBreakpoints().length, 1);\n\n\t\tmodel.removeDataBreakpoints();\n\t\tassert.strictEqual(model.getDataBreakpoints().length, 0);\n\t\tassert.strictEqual(eventCount, 6);\n\t});\n\n\ttest('message and class name', () => {\n\t\tconst modelUri = uri.file('/myfolder/my file first.js');\n\t\taddBreakpointsAndCheckEvents(model, modelUri, [\n\t\t\t{ lineNumber: 5, enabled: true, condition: 'x > 5' },\n\t\t\t{ lineNumber: 10, enabled: false },\n\t\t\t{ lineNumber: 12, enabled: true, logMessage: 'hello' },\n\t\t\t{ lineNumber: 15, enabled: true, hitCondition: '12' },\n\t\t\t{ lineNumber: 500, enabled: true },\n\t\t]);\n\t\tconst breakpoints = model.getBreakpoints();\n\t\tconst ls = new MockLabelService();\n\n\t\tlet result = getBreakpointMessageAndIcon(State.Stopped, true, breakpoints[0], ls, model);\n\t\tassert.strictEqual(result.message, 'Condition: x > 5');\n\t\tassert.strictEqual(result.icon.id, 'debug-breakpoint-conditional');\n\n\t\tresult = getBreakpointMessageAndIcon(State.Stopped, true, breakpoints[1], ls, model);\n\t\tassert.strictEqual(result.message, 'Disabled Breakpoint');\n\t\tassert.strictEqual(result.icon.id, 'debug-breakpoint-disabled');\n\n\t\tresult = getBreakpointMessageAndIcon(State.Stopped, true, breakpoints[2], ls, model);\n\t\tassert.strictEqual(result.message, 'Log Message: hello');\n\t\tassert.strictEqual(result.icon.id, 'debug-breakpoint-log');\n\n\t\tresult = getBreakpointMessageAndIcon(State.Stopped, true, breakpoints[3], ls, model);\n\t\tassert.strictEqual(result.message, 'Hit Count: 12');\n\t\tassert.strictEqual(result.icon.id, 'debug-breakpoint-conditional');\n\n\t\tresult = getBreakpointMessageAndIcon(State.Stopped, true, breakpoints[4], ls, model);\n\t\tassert.strictEqual(result.message, ls.getUriLabel(breakpoints[4].uri));\n\t\tassert.strictEqual(result.icon.id, 'debug-breakpoint');\n\n\t\tresult = getBreakpointMessageAndIcon(State.Stopped, false, breakpoints[2], ls, model);\n\t\tassert.strictEqual(result.message, 'Disabled Logpoint');\n\t\tassert.strictEqual(result.icon.id, 'debug-breakpoint-log-disabled');\n\n\t\tmodel.addDataBreakpoint({ description: 'label', canPersist: true, accessTypes: ['read'], accessType: 'read', src: { type: DataBreakpointSetType.Variable, dataId: 'id' } });\n\t\tconst dataBreakpoints = model.getDataBreakpoints();\n\t\tresult = getBreakpointMessageAndIcon(State.Stopped, true, dataBreakpoints[0], ls, model);\n\t\tassert.strictEqual(result.message, 'Data Breakpoint');\n\t\tassert.strictEqual(result.icon.id, 'debug-breakpoint-data');\n\n\t\tconst functionBreakpoint = model.addFunctionBreakpoint({ name: 'foo' }, '1');\n\t\tresult = getBreakpointMessageAndIcon(State.Stopped, true, functionBreakpoint, ls, model);\n\t\tassert.strictEqual(result.message, 'Function Breakpoint');\n\t\tassert.strictEqual(result.icon.id, 'debug-breakpoint-function');\n\n\t\tconst data = new Map<string, DebugProtocol.Breakpoint>();\n\t\tdata.set(breakpoints[0].getId(), { verified: false, line: 10 });\n\t\tdata.set(breakpoints[1].getId(), { verified: true, line: 50 });\n\t\tdata.set(breakpoints[2].getId(), { verified: true, line: 50, message: 'world' });\n\t\tdata.set(functionBreakpoint.getId(), { verified: true });\n\t\tmodel.setBreakpointSessionData('mocksessionid', { supportsFunctionBreakpoints: false, supportsDataBreakpoints: true, supportsLogPoints: true }, data);\n\n\t\tresult = getBreakpointMessageAndIcon(State.Stopped, true, breakpoints[0], ls, model);\n\t\tassert.strictEqual(result.message, 'Unverified Breakpoint');\n\t\tassert.strictEqual(result.icon.id, 'debug-breakpoint-unverified');\n\n\t\tresult = getBreakpointMessageAndIcon(State.Stopped, true, functionBreakpoint, ls, model);\n\t\tassert.strictEqual(result.message, 'Function breakpoints not supported by this debug type');\n\t\tassert.strictEqual(result.icon.id, 'debug-breakpoint-function-unverified');\n\n\t\tresult = getBreakpointMessageAndIcon(State.Stopped, true, breakpoints[2], ls, model);\n\t\tassert.strictEqual(result.message, 'Log Message: hello, world');\n\t\tassert.strictEqual(result.icon.id, 'debug-breakpoint-log');\n\t});\n\n\ttest('decorations', () => {\n\t\tconst modelUri = uri.file('/myfolder/my file first.js');\n\t\tconst languageId = 'testMode';\n\t\tconst textModel = createTextModel(\n\t\t\t['this is line one', 'this is line two', '    this is line three it has whitespace at start', 'this is line four', 'this is line five'].join('\\n'),\n\t\t\tlanguageId\n\t\t);\n\t\taddBreakpointsAndCheckEvents(model, modelUri, [\n\t\t\t{ lineNumber: 1, enabled: true, condition: 'x > 5' },\n\t\t\t{ lineNumber: 2, column: 4, enabled: false },\n\t\t\t{ lineNumber: 3, enabled: true, logMessage: 'hello' },\n\t\t\t{ lineNumber: 500, enabled: true },\n\t\t]);\n\t\tconst breakpoints = model.getBreakpoints();\n\n\t\tconst instantiationService = new TestInstantiationService();\n\t\tconst debugService = new MockDebugService();\n\t\tdebugService.getModel = () => model;\n\t\tinstantiationService.stub(IDebugService, debugService);\n\t\tinstantiationService.stub(ILabelService, new MockLabelService());\n\t\tinstantiationService.stub(ILanguageService, disposables.add(new LanguageService()));\n\t\tlet decorations = instantiationService.invokeFunction(accessor => createBreakpointDecorations(accessor, textModel, breakpoints, State.Running, true, true));\n\t\tassert.strictEqual(decorations.length, 3); // last breakpoint filtered out since it has a large line number\n\t\tassert.deepStrictEqual(decorations[0].range, new Range(1, 1, 1, 2));\n\t\tassert.deepStrictEqual(decorations[1].range, new Range(2, 4, 2, 5));\n\t\tassert.deepStrictEqual(decorations[2].range, new Range(3, 5, 3, 6));\n\t\tassert.strictEqual(decorations[0].options.beforeContentClassName, undefined);\n\t\tassert.strictEqual(decorations[1].options.before?.inlineClassName, `debug-breakpoint-placeholder`);\n\t\tassert.strictEqual(decorations[0].options.overviewRuler?.position, OverviewRulerLane.Left);\n\t\tconst expected = new MarkdownString(undefined, { isTrusted: true, supportThemeIcons: true }).appendCodeblock(languageId, 'Condition: x > 5');\n\t\tassert.deepStrictEqual(decorations[0].options.glyphMarginHoverMessage, expected);\n\n\t\tdecorations = instantiationService.invokeFunction(accessor => createBreakpointDecorations(accessor, textModel, breakpoints, State.Running, true, false));\n\t\tassert.strictEqual(decorations[0].options.overviewRuler, null);\n\n\t\ttextModel.dispose();\n\t\tinstantiationService.dispose();\n\t});\n\n\ttest('updates when storage changes', () => {\n\t\tconst storage1 = disposables.add(new TestStorageService());\n\t\tconst debugStorage1 = disposables.add(new MockDebugStorage(storage1));\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tconst model1 = disposables.add(new DebugModel(debugStorage1, <any>{ isDirty: (e: any) => false }, mockUriIdentityService, new NullLogService()));\n\n\t\t// 1. create breakpoints in the first model\n\t\tconst modelUri = uri.file('/myfolder/my file first.js');\n\t\tconst first = [\n\t\t\t{ lineNumber: 1, enabled: true, condition: 'x > 5' },\n\t\t\t{ lineNumber: 2, column: 4, enabled: false },\n\t\t];\n\n\t\taddBreakpointsAndCheckEvents(model1, modelUri, first);\n\t\tdebugStorage1.storeBreakpoints(model1);\n\t\tconst stored = storage1.get('debug.breakpoint', StorageScope.WORKSPACE);\n\n\t\t// 2. hydrate a new model and ensure external breakpoints get applied\n\t\tconst storage2 = disposables.add(new TestStorageService());\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tconst model2 = disposables.add(new DebugModel(disposables.add(new MockDebugStorage(storage2)), <any>{ isDirty: (e: any) => false }, mockUriIdentityService, new NullLogService()));\n\t\tstorage2.store('debug.breakpoint', stored, StorageScope.WORKSPACE, StorageTarget.USER, /* external= */ true);\n\t\tassert.deepStrictEqual(model2.getBreakpoints().map(b => b.getId()), model1.getBreakpoints().map(b => b.getId()));\n\n\t\t// 3. ensure non-external changes are ignored\n\t\tstorage2.store('debug.breakpoint', '[]', StorageScope.WORKSPACE, StorageTarget.USER, /* external= */ false);\n\t\tassert.deepStrictEqual(model2.getBreakpoints().map(b => b.getId()), model1.getBreakpoints().map(b => b.getId()));\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { MarkdownString } from '../../../../../base/common/htmlContent.js';\nimport { dispose } from '../../../../../base/common/lifecycle.js';\nimport { URI as uri } from '../../../../../base/common/uri.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { Range } from '../../../../../editor/common/core/range.js';\nimport { ILanguageService } from '../../../../../editor/common/languages/language.js';\nimport { OverviewRulerLane } from '../../../../../editor/common/model.js';\nimport { LanguageService } from '../../../../../editor/common/services/languageService.js';\nimport { createTextModel } from '../../../../../editor/test/common/testTextModel.js';\nimport { TestInstantiationService } from '../../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { ILabelService } from '../../../../../platform/label/common/label.js';\nimport { NullLogService } from '../../../../../platform/log/common/log.js';\nimport { StorageScope, StorageTarget } from '../../../../../platform/storage/common/storage.js';\nimport { createBreakpointDecorations } from '../../browser/breakpointEditorContribution.js';\nimport { getBreakpointMessageAndIcon, getExpandedBodySize } from '../../browser/breakpointsView.js';\nimport { DataBreakpointSetType, IBreakpointData, IBreakpointUpdateData, IDebugService, State } from '../../common/debug.js';\nimport { Breakpoint, DebugModel } from '../../common/debugModel.js';\nimport { createTestSession } from './callStack.test.js';\nimport { createMockDebugModel, mockUriIdentityService } from './mockDebugModel.js';\nimport { MockDebugService, MockDebugStorage } from '../common/mockDebug.js';\nimport { MockLabelService } from '../../../../services/label/test/common/mockLabelService.js';\nimport { TestStorageService } from '../../../../test/common/workbenchTestServices.js';\n\nfunction addBreakpointsAndCheckEvents(model: DebugModel, uri: uri, data: IBreakpointData[]) {\n\tlet eventCount = 0;\n\tconst toDispose = model.onDidChangeBreakpoints(e => {\n\t\tassert.strictEqual(e?.sessionOnly, false);\n\t\tassert.strictEqual(e?.changed, undefined);\n\t\tassert.strictEqual(e?.removed, undefined);\n\t\tconst added = e?.added;\n\t\tassert.notStrictEqual(added, undefined);\n\t\tassert.strictEqual(added!.length, data.length);\n\t\teventCount++;\n\t\tdispose(toDispose);\n\t\tfor (let i = 0; i < data.length; i++) {\n\t\t\tassert.strictEqual(e.added![i] instanceof Breakpoint, true);\n\t\t\tassert.strictEqual((e.added![i] as Breakpoint).lineNumber, data[i].lineNumber);\n\t\t}\n\t});\n\tconst bps = model.addBreakpoints(uri, data);\n\tassert.strictEqual(eventCount, 1);\n\treturn bps;\n}\n\nsuite('Debug - Breakpoints', () => {\n\tlet model: DebugModel;\n\tconst disposables = ensureNoDisposablesAreLeakedInTestSuite();\n\n\tsetup(() => {\n\t\tmodel = createMockDebugModel(disposables);\n\t});\n\n\t// Breakpoints\n\n\ttest('simple', () => {\n\t\tconst modelUri = uri.file('/myfolder/myfile.js');\n\n\t\taddBreakpointsAndCheckEvents(model, modelUri, [{ lineNumber: 5, enabled: true }, { lineNumber: 10, enabled: false }]);\n\t\tassert.strictEqual(model.areBreakpointsActivated(), true);\n\t\tassert.strictEqual(model.getBreakpoints().length, 2);\n\n\t\tlet eventCount = 0;\n\t\tconst toDispose = model.onDidChangeBreakpoints(e => {\n\t\t\teventCount++;\n\t\t\tassert.strictEqual(e?.added, undefined);\n\t\t\tassert.strictEqual(e?.sessionOnly, false);\n\t\t\tassert.strictEqual(e?.removed?.length, 2);\n\t\t\tassert.strictEqual(e?.changed, undefined);\n\n\t\t\tdispose(toDispose);\n\t\t});\n\n\t\tmodel.removeBreakpoints(model.getBreakpoints());\n\t\tassert.strictEqual(eventCount, 1);\n\t\tassert.strictEqual(model.getBreakpoints().length, 0);\n\t});\n\n\ttest('toggling', () => {\n\t\tconst modelUri = uri.file('/myfolder/myfile.js');\n\n\t\taddBreakpointsAndCheckEvents(model, modelUri, [{ lineNumber: 5, enabled: true }, { lineNumber: 10, enabled: false }]);\n\t\taddBreakpointsAndCheckEvents(model, modelUri, [{ lineNumber: 12, enabled: true, condition: 'fake condition' }]);\n\t\tassert.strictEqual(model.getBreakpoints().length, 3);\n\t\tconst bp = model.getBreakpoints().pop();\n\t\tif (bp) {\n\t\t\tmodel.removeBreakpoints([bp]);\n\t\t}\n\t\tassert.strictEqual(model.getBreakpoints().length, 2);\n\n\t\tmodel.setBreakpointsActivated(false);\n\t\tassert.strictEqual(model.areBreakpointsActivated(), false);\n\t\tmodel.setBreakpointsActivated(true);\n\t\tassert.strictEqual(model.areBreakpointsActivated(), true);\n\t});\n\n\ttest('two files', () => {\n\t\tconst modelUri1 = uri.file('/myfolder/my file first.js');\n\t\tconst modelUri2 = uri.file('/secondfolder/second/second file.js');\n\t\taddBreakpointsAndCheckEvents(model, modelUri1, [{ lineNumber: 5, enabled: true }, { lineNumber: 10, enabled: false }]);\n\t\tassert.strictEqual(getExpandedBodySize(model, undefined, 9), 44);\n\n\t\taddBreakpointsAndCheckEvents(model, modelUri2, [{ lineNumber: 1, enabled: true }, { lineNumber: 2, enabled: true }, { lineNumber: 3, enabled: false }]);\n\t\tassert.strictEqual(getExpandedBodySize(model, undefined, 9), 110);\n\n\t\tassert.strictEqual(model.getBreakpoints().length, 5);\n\t\tassert.strictEqual(model.getBreakpoints({ uri: modelUri1 }).length, 2);\n\t\tassert.strictEqual(model.getBreakpoints({ uri: modelUri2 }).length, 3);\n\t\tassert.strictEqual(model.getBreakpoints({ lineNumber: 5 }).length, 1);\n\t\tassert.strictEqual(model.getBreakpoints({ column: 5 }).length, 0);\n\n\t\tconst bp = model.getBreakpoints()[0];\n\t\tconst update = new Map<string, IBreakpointUpdateData>();\n\t\tupdate.set(bp.getId(), { lineNumber: 100 });\n\t\tlet eventFired = false;\n\t\tconst toDispose = model.onDidChangeBreakpoints(e => {\n\t\t\teventFired = true;\n\t\t\tassert.strictEqual(e?.added, undefined);\n\t\t\tassert.strictEqual(e?.removed, undefined);\n\t\t\tassert.strictEqual(e?.changed?.length, 1);\n\t\t\tdispose(toDispose);\n\t\t});\n\t\tmodel.updateBreakpoints(update);\n\t\tassert.strictEqual(eventFired, true);\n\t\tassert.strictEqual(bp.lineNumber, 100);\n\n\t\tassert.strictEqual(model.getBreakpoints({ enabledOnly: true }).length, 3);\n\t\tmodel.enableOrDisableAllBreakpoints(false);\n\t\tmodel.getBreakpoints().forEach(bp => {\n\t\t\tassert.strictEqual(bp.enabled, false);\n\t\t});\n\t\tassert.strictEqual(model.getBreakpoints({ enabledOnly: true }).length, 0);\n\n\t\tmodel.setEnablement(bp, true);\n\t\tassert.strictEqual(bp.enabled, true);\n\n\t\tmodel.removeBreakpoints(model.getBreakpoints({ uri: modelUri1 }));\n\t\tassert.strictEqual(getExpandedBodySize(model, undefined, 9), 66);\n\n\t\tassert.strictEqual(model.getBreakpoints().length, 3);\n\t});\n\n\ttest('conditions', () => {\n\t\tconst modelUri1 = uri.file('/myfolder/my file first.js');\n\t\taddBreakpointsAndCheckEvents(model, modelUri1, [{ lineNumber: 5, condition: 'i < 5', hitCondition: '17' }, { lineNumber: 10, condition: 'j < 3' }]);\n\t\tconst breakpoints = model.getBreakpoints();\n\n\t\tassert.strictEqual(breakpoints[0].condition, 'i < 5');\n\t\tassert.strictEqual(breakpoints[0].hitCondition, '17');\n\t\tassert.strictEqual(breakpoints[1].condition, 'j < 3');\n\t\tassert.strictEqual(!!breakpoints[1].hitCondition, false);\n\n\t\tassert.strictEqual(model.getBreakpoints().length, 2);\n\t\tmodel.removeBreakpoints(model.getBreakpoints());\n\t\tassert.strictEqual(model.getBreakpoints().length, 0);\n\t});\n\n\ttest('function breakpoints', () => {\n\t\tmodel.addFunctionBreakpoint({ name: 'foo' }, '1');\n\t\tmodel.addFunctionBreakpoint({ name: 'bar' }, '2');\n\t\tmodel.updateFunctionBreakpoint('1', { name: 'fooUpdated' });\n\t\tmodel.updateFunctionBreakpoint('2', { name: 'barUpdated' });\n\n\t\tconst functionBps = model.getFunctionBreakpoints();\n\t\tassert.strictEqual(functionBps[0].name, 'fooUpdated');\n\t\tassert.strictEqual(functionBps[1].name, 'barUpdated');\n\n\t\tmodel.removeFunctionBreakpoints();\n\t\tassert.strictEqual(model.getFunctionBreakpoints().length, 0);\n\t});\n\n\ttest('multiple sessions', () => {\n\t\tconst modelUri = uri.file('/myfolder/myfile.js');\n\t\taddBreakpointsAndCheckEvents(model, modelUri, [{ lineNumber: 5, enabled: true, condition: 'x > 5' }, { lineNumber: 10, enabled: false }]);\n\t\tconst breakpoints = model.getBreakpoints();\n\t\tconst session = disposables.add(createTestSession(model));\n\t\tconst data = new Map<string, DebugProtocol.Breakpoint>();\n\n\t\tassert.strictEqual(breakpoints[0].lineNumber, 5);\n\t\tassert.strictEqual(breakpoints[1].lineNumber, 10);\n\n\t\tdata.set(breakpoints[0].getId(), { verified: false, line: 10 });\n\t\tdata.set(breakpoints[1].getId(), { verified: true, line: 50 });\n\t\tmodel.setBreakpointSessionData(session.getId(), {}, data);\n\t\tassert.strictEqual(breakpoints[0].lineNumber, 5);\n\t\tassert.strictEqual(breakpoints[1].lineNumber, 50);\n\n\t\tconst session2 = disposables.add(createTestSession(model));\n\t\tconst data2 = new Map<string, DebugProtocol.Breakpoint>();\n\t\tdata2.set(breakpoints[0].getId(), { verified: true, line: 100 });\n\t\tdata2.set(breakpoints[1].getId(), { verified: true, line: 500 });\n\t\tmodel.setBreakpointSessionData(session2.getId(), {}, data2);\n\n\t\t// Breakpoint is verified only once, show that line\n\t\tassert.strictEqual(breakpoints[0].lineNumber, 100);\n\t\t// Breakpoint is verified two times, show the original line\n\t\tassert.strictEqual(breakpoints[1].lineNumber, 10);\n\n\t\tmodel.setBreakpointSessionData(session.getId(), {}, undefined);\n\t\t// No more double session verification\n\t\tassert.strictEqual(breakpoints[0].lineNumber, 100);\n\t\tassert.strictEqual(breakpoints[1].lineNumber, 500);\n\n\t\tassert.strictEqual(breakpoints[0].supported, false);\n\t\tconst data3 = new Map<string, DebugProtocol.Breakpoint>();\n\t\tdata3.set(breakpoints[0].getId(), { verified: true, line: 500 });\n\t\tmodel.setBreakpointSessionData(session2.getId(), { supportsConditionalBreakpoints: true }, data2);\n\t\tassert.strictEqual(breakpoints[0].supported, true);\n\t});\n\n\ttest('exception breakpoints', () => {\n\t\tlet eventCount = 0;\n\t\tdisposables.add(model.onDidChangeBreakpoints(() => eventCount++));\n\t\tmodel.setExceptionBreakpointsForSession('session-id-1', [{ filter: 'uncaught', label: 'UNCAUGHT', default: true }]);\n\t\tassert.strictEqual(eventCount, 1);\n\t\tlet exceptionBreakpoints = model.getExceptionBreakpointsForSession('session-id-1');\n\t\tassert.strictEqual(exceptionBreakpoints.length, 1);\n\t\tassert.strictEqual(exceptionBreakpoints[0].filter, 'uncaught');\n\t\tassert.strictEqual(exceptionBreakpoints[0].enabled, true);\n\n\t\tmodel.setExceptionBreakpointsForSession('session-id-2', [{ filter: 'uncaught', label: 'UNCAUGHT' }, { filter: 'caught', label: 'CAUGHT' }]);\n\t\tassert.strictEqual(eventCount, 2);\n\t\texceptionBreakpoints = model.getExceptionBreakpointsForSession('session-id-2');\n\t\tassert.strictEqual(exceptionBreakpoints.length, 2);\n\t\tassert.strictEqual(exceptionBreakpoints[0].filter, 'uncaught');\n\t\tassert.strictEqual(exceptionBreakpoints[0].enabled, true);\n\t\tassert.strictEqual(exceptionBreakpoints[1].filter, 'caught');\n\t\tassert.strictEqual(exceptionBreakpoints[1].label, 'CAUGHT');\n\t\tassert.strictEqual(exceptionBreakpoints[1].enabled, false);\n\n\t\tmodel.setExceptionBreakpointsForSession('session-id-3', [{ filter: 'all', label: 'ALL' }]);\n\t\tassert.strictEqual(eventCount, 3);\n\t\tassert.strictEqual(model.getExceptionBreakpointsForSession('session-id-3').length, 1);\n\t\texceptionBreakpoints = model.getExceptionBreakpoints();\n\t\tassert.strictEqual(exceptionBreakpoints[0].filter, 'uncaught');\n\t\tassert.strictEqual(exceptionBreakpoints[0].enabled, true);\n\t\tassert.strictEqual(exceptionBreakpoints[1].filter, 'caught');\n\t\tassert.strictEqual(exceptionBreakpoints[1].label, 'CAUGHT');\n\t\tassert.strictEqual(exceptionBreakpoints[1].enabled, false);\n\t\tassert.strictEqual(exceptionBreakpoints[2].filter, 'all');\n\t\tassert.strictEqual(exceptionBreakpoints[2].label, 'ALL');\n\t});\n\n\ttest('exception breakpoints multiple sessions', () => {\n\t\tlet eventCount = 0;\n\t\tdisposables.add(model.onDidChangeBreakpoints(() => eventCount++));\n\n\t\tmodel.setExceptionBreakpointsForSession('session-id-4', [{ filter: 'uncaught', label: 'UNCAUGHT', default: true }, { filter: 'caught', label: 'CAUGHT' }]);\n\t\tmodel.setExceptionBreakpointFallbackSession('session-id-4');\n\t\tassert.strictEqual(eventCount, 1);\n\t\tlet exceptionBreakpointsForSession = model.getExceptionBreakpointsForSession('session-id-4');\n\t\tassert.strictEqual(exceptionBreakpointsForSession.length, 2);\n\t\tassert.strictEqual(exceptionBreakpointsForSession[0].filter, 'uncaught');\n\t\tassert.strictEqual(exceptionBreakpointsForSession[1].filter, 'caught');\n\n\t\tmodel.setExceptionBreakpointsForSession('session-id-5', [{ filter: 'all', label: 'ALL' }, { filter: 'caught', label: 'CAUGHT' }]);\n\t\tassert.strictEqual(eventCount, 2);\n\t\texceptionBreakpointsForSession = model.getExceptionBreakpointsForSession('session-id-5');\n\t\tlet exceptionBreakpointsForUndefined = model.getExceptionBreakpointsForSession(undefined);\n\t\tassert.strictEqual(exceptionBreakpointsForSession.length, 2);\n\t\tassert.strictEqual(exceptionBreakpointsForSession[0].filter, 'caught');\n\t\tassert.strictEqual(exceptionBreakpointsForSession[1].filter, 'all');\n\t\tassert.strictEqual(exceptionBreakpointsForUndefined.length, 2);\n\t\tassert.strictEqual(exceptionBreakpointsForUndefined[0].filter, 'uncaught');\n\t\tassert.strictEqual(exceptionBreakpointsForUndefined[1].filter, 'caught');\n\n\t\tmodel.removeExceptionBreakpointsForSession('session-id-4');\n\t\tassert.strictEqual(eventCount, 2);\n\t\texceptionBreakpointsForUndefined = model.getExceptionBreakpointsForSession(undefined);\n\t\tassert.strictEqual(exceptionBreakpointsForUndefined.length, 2);\n\t\tassert.strictEqual(exceptionBreakpointsForUndefined[0].filter, 'uncaught');\n\t\tassert.strictEqual(exceptionBreakpointsForUndefined[1].filter, 'caught');\n\n\t\tmodel.setExceptionBreakpointFallbackSession('session-id-5');\n\t\tassert.strictEqual(eventCount, 2);\n\t\texceptionBreakpointsForUndefined = model.getExceptionBreakpointsForSession(undefined);\n\t\tassert.strictEqual(exceptionBreakpointsForUndefined.length, 2);\n\t\tassert.strictEqual(exceptionBreakpointsForUndefined[0].filter, 'caught');\n\t\tassert.strictEqual(exceptionBreakpointsForUndefined[1].filter, 'all');\n\n\t\tconst exceptionBreakpoints = model.getExceptionBreakpoints();\n\t\tassert.strictEqual(exceptionBreakpoints.length, 3);\n\t});\n\n\ttest('instruction breakpoints', () => {\n\t\tlet eventCount = 0;\n\t\tdisposables.add(model.onDidChangeBreakpoints(() => eventCount++));\n\t\t//address: string, offset: number, condition?: string, hitCondition?: string\n\t\tmodel.addInstructionBreakpoint({ instructionReference: '0xCCCCFFFF', offset: 0, address: 0n, canPersist: false });\n\n\t\tassert.strictEqual(eventCount, 1);\n\t\tlet instructionBreakpoints = model.getInstructionBreakpoints();\n\t\tassert.strictEqual(instructionBreakpoints.length, 1);\n\t\tassert.strictEqual(instructionBreakpoints[0].instructionReference, '0xCCCCFFFF');\n\t\tassert.strictEqual(instructionBreakpoints[0].offset, 0);\n\n\t\tmodel.addInstructionBreakpoint({ instructionReference: '0xCCCCEEEE', offset: 1, address: 0n, canPersist: false });\n\t\tassert.strictEqual(eventCount, 2);\n\t\tinstructionBreakpoints = model.getInstructionBreakpoints();\n\t\tassert.strictEqual(instructionBreakpoints.length, 2);\n\t\tassert.strictEqual(instructionBreakpoints[0].instructionReference, '0xCCCCFFFF');\n\t\tassert.strictEqual(instructionBreakpoints[0].offset, 0);\n\t\tassert.strictEqual(instructionBreakpoints[1].instructionReference, '0xCCCCEEEE');\n\t\tassert.strictEqual(instructionBreakpoints[1].offset, 1);\n\t});\n\n\ttest('data breakpoints', () => {\n\t\tlet eventCount = 0;\n\t\tdisposables.add(model.onDidChangeBreakpoints(() => eventCount++));\n\n\t\tmodel.addDataBreakpoint({ description: 'label', src: { type: DataBreakpointSetType.Variable, dataId: 'id' }, canPersist: true, accessTypes: ['read'], accessType: 'read' }, '1');\n\t\tmodel.addDataBreakpoint({ description: 'second', src: { type: DataBreakpointSetType.Variable, dataId: 'secondId' }, canPersist: false, accessTypes: ['readWrite'], accessType: 'readWrite' }, '2');\n\t\tmodel.updateDataBreakpoint('1', { condition: 'aCondition' });\n\t\tmodel.updateDataBreakpoint('2', { hitCondition: '10' });\n\t\tconst dataBreakpoints = model.getDataBreakpoints();\n\t\tassert.strictEqual(dataBreakpoints[0].canPersist, true);\n\t\tassert.deepStrictEqual(dataBreakpoints[0].src, { type: DataBreakpointSetType.Variable, dataId: 'id' });\n\t\tassert.strictEqual(dataBreakpoints[0].accessType, 'read');\n\t\tassert.strictEqual(dataBreakpoints[0].condition, 'aCondition');\n\t\tassert.strictEqual(dataBreakpoints[1].canPersist, false);\n\t\tassert.strictEqual(dataBreakpoints[1].description, 'second');\n\t\tassert.strictEqual(dataBreakpoints[1].accessType, 'readWrite');\n\t\tassert.strictEqual(dataBreakpoints[1].hitCondition, '10');\n\n\t\tassert.strictEqual(eventCount, 4);\n\n\t\tmodel.removeDataBreakpoints(dataBreakpoints[0].getId());\n\t\tassert.strictEqual(eventCount, 5);\n\t\tassert.strictEqual(model.getDataBreakpoints().length, 1);\n\n\t\tmodel.removeDataBreakpoints();\n\t\tassert.strictEqual(model.getDataBreakpoints().length, 0);\n\t\tassert.strictEqual(eventCount, 6);\n\t});\n\n\ttest('message and class name', () => {\n\t\tconst modelUri = uri.file('/myfolder/my file first.js');\n\t\taddBreakpointsAndCheckEvents(model, modelUri, [\n\t\t\t{ lineNumber: 5, enabled: true, condition: 'x > 5' },\n\t\t\t{ lineNumber: 10, enabled: false },\n\t\t\t{ lineNumber: 12, enabled: true, logMessage: 'hello' },\n\t\t\t{ lineNumber: 15, enabled: true, hitCondition: '12' },\n\t\t\t{ lineNumber: 500, enabled: true },\n\t\t]);\n\t\tconst breakpoints = model.getBreakpoints();\n\t\tconst ls = new MockLabelService();\n\n\t\tlet result = getBreakpointMessageAndIcon(State.Stopped, true, breakpoints[0], ls, model);\n\t\tassert.strictEqual(result.message, 'Condition: x > 5');\n\t\tassert.strictEqual(result.icon.id, 'debug-breakpoint-conditional');\n\n\t\tresult = getBreakpointMessageAndIcon(State.Stopped, true, breakpoints[1], ls, model);\n\t\tassert.strictEqual(result.message, 'Disabled Breakpoint');\n\t\tassert.strictEqual(result.icon.id, 'debug-breakpoint-disabled');\n\n\t\tresult = getBreakpointMessageAndIcon(State.Stopped, true, breakpoints[2], ls, model);\n\t\tassert.strictEqual(result.message, 'Log Message: hello');\n\t\tassert.strictEqual(result.icon.id, 'debug-breakpoint-log');\n\n\t\tresult = getBreakpointMessageAndIcon(State.Stopped, true, breakpoints[3], ls, model);\n\t\tassert.strictEqual(result.message, 'Hit Count: 12');\n\t\tassert.strictEqual(result.icon.id, 'debug-breakpoint-conditional');\n\n\t\tresult = getBreakpointMessageAndIcon(State.Stopped, true, breakpoints[4], ls, model);\n\t\tassert.strictEqual(result.message, ls.getUriLabel(breakpoints[4].uri));\n\t\tassert.strictEqual(result.icon.id, 'debug-breakpoint');\n\n\t\tresult = getBreakpointMessageAndIcon(State.Stopped, false, breakpoints[2], ls, model);\n\t\tassert.strictEqual(result.message, 'Disabled Logpoint');\n\t\tassert.strictEqual(result.icon.id, 'debug-breakpoint-log-disabled');\n\n\t\tmodel.addDataBreakpoint({ description: 'label', canPersist: true, accessTypes: ['read'], accessType: 'read', src: { type: DataBreakpointSetType.Variable, dataId: 'id' } });\n\t\tconst dataBreakpoints = model.getDataBreakpoints();\n\t\tresult = getBreakpointMessageAndIcon(State.Stopped, true, dataBreakpoints[0], ls, model);\n\t\tassert.strictEqual(result.message, 'Data Breakpoint');\n\t\tassert.strictEqual(result.icon.id, 'debug-breakpoint-data');\n\n\t\tconst functionBreakpoint = model.addFunctionBreakpoint({ name: 'foo' }, '1');\n\t\tresult = getBreakpointMessageAndIcon(State.Stopped, true, functionBreakpoint, ls, model);\n\t\tassert.strictEqual(result.message, 'Function Breakpoint');\n\t\tassert.strictEqual(result.icon.id, 'debug-breakpoint-function');\n\n\t\tconst data = new Map<string, DebugProtocol.Breakpoint>();\n\t\tdata.set(breakpoints[0].getId(), { verified: false, line: 10 });\n\t\tdata.set(breakpoints[1].getId(), { verified: true, line: 50 });\n\t\tdata.set(breakpoints[2].getId(), { verified: true, line: 50, message: 'world' });\n\t\tdata.set(functionBreakpoint.getId(), { verified: true });\n\t\tmodel.setBreakpointSessionData('mocksessionid', { supportsFunctionBreakpoints: false, supportsDataBreakpoints: true, supportsLogPoints: true }, data);\n\n\t\tresult = getBreakpointMessageAndIcon(State.Stopped, true, breakpoints[0], ls, model);\n\t\tassert.strictEqual(result.message, 'Unverified Breakpoint');\n\t\tassert.strictEqual(result.icon.id, 'debug-breakpoint-unverified');\n\n\t\tresult = getBreakpointMessageAndIcon(State.Stopped, true, functionBreakpoint, ls, model);\n\t\tassert.strictEqual(result.message, 'Function breakpoints not supported by this debug type');\n\t\tassert.strictEqual(result.icon.id, 'debug-breakpoint-function-unverified');\n\n\t\tresult = getBreakpointMessageAndIcon(State.Stopped, true, breakpoints[2], ls, model);\n\t\tassert.strictEqual(result.message, 'Log Message: hello, world');\n\t\tassert.strictEqual(result.icon.id, 'debug-breakpoint-log');\n\t});\n\n\ttest('decorations', () => {\n\t\tconst modelUri = uri.file('/myfolder/my file first.js');\n\t\tconst languageId = 'testMode';\n\t\tconst textModel = createTextModel(\n\t\t\t['this is line one', 'this is line two', '    this is line three it has whitespace at start', 'this is line four', 'this is line five'].join('\\n'),\n\t\t\tlanguageId\n\t\t);\n\t\taddBreakpointsAndCheckEvents(model, modelUri, [\n\t\t\t{ lineNumber: 1, enabled: true, condition: 'x > 5' },\n\t\t\t{ lineNumber: 2, column: 4, enabled: false },\n\t\t\t{ lineNumber: 3, enabled: true, logMessage: 'hello' },\n\t\t\t{ lineNumber: 500, enabled: true },\n\t\t]);\n\t\tconst breakpoints = model.getBreakpoints();\n\n\t\tconst instantiationService = new TestInstantiationService();\n\t\tconst debugService = new MockDebugService();\n\t\tdebugService.getModel = () => model;\n\t\tinstantiationService.stub(IDebugService, debugService);\n\t\tinstantiationService.stub(ILabelService, new MockLabelService());\n\t\tinstantiationService.stub(ILanguageService, disposables.add(new LanguageService()));\n\t\tlet decorations = instantiationService.invokeFunction(accessor => createBreakpointDecorations(accessor, textModel, breakpoints, State.Running, true, true));\n\t\tassert.strictEqual(decorations.length, 3); // last breakpoint filtered out since it has a large line number\n\t\tassert.deepStrictEqual(decorations[0].range, new Range(1, 1, 1, 2));\n\t\tassert.deepStrictEqual(decorations[1].range, new Range(2, 4, 2, 5));\n\t\tassert.deepStrictEqual(decorations[2].range, new Range(3, 5, 3, 6));\n\t\tassert.strictEqual(decorations[0].options.beforeContentClassName, undefined);\n\t\tassert.strictEqual(decorations[1].options.before?.inlineClassName, `debug-breakpoint-placeholder`);\n\t\tassert.strictEqual(decorations[0].options.overviewRuler?.position, OverviewRulerLane.Left);\n\t\tconst expected = new MarkdownString(undefined, { isTrusted: true, supportThemeIcons: true }).appendCodeblock(languageId, 'Condition: x > 5');\n\t\tassert.deepStrictEqual(decorations[0].options.glyphMarginHoverMessage, expected);\n\n\t\tdecorations = instantiationService.invokeFunction(accessor => createBreakpointDecorations(accessor, textModel, breakpoints, State.Running, true, false));\n\t\tassert.strictEqual(decorations[0].options.overviewRuler, null);\n\n\t\ttextModel.dispose();\n\t\tinstantiationService.dispose();\n\t});\n\n\ttest('updates when storage changes', () => {\n\t\tconst storage1 = disposables.add(new TestStorageService());\n\t\tconst debugStorage1 = disposables.add(new MockDebugStorage(storage1));\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tconst model1 = disposables.add(new DebugModel(debugStorage1, <any>{ isDirty: (e: any) => false }, mockUriIdentityService, new NullLogService()));\n\n\t\t// 1. create breakpoints in the first model\n\t\tconst modelUri = uri.file('/myfolder/my file first.js');\n\t\tconst first = [\n\t\t\t{ lineNumber: 1, enabled: true, condition: 'x > 5' },\n\t\t\t{ lineNumber: 2, column: 4, enabled: false },\n\t\t];\n\n\t\taddBreakpointsAndCheckEvents(model1, modelUri, first);\n\t\tdebugStorage1.storeBreakpoints(model1);\n\t\tconst stored = storage1.get('debug.breakpoint', StorageScope.WORKSPACE);\n\n\t\t// 2. hydrate a new model and ensure external breakpoints get applied\n\t\tconst storage2 = disposables.add(new TestStorageService());\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tconst model2 = disposables.add(new DebugModel(disposables.add(new MockDebugStorage(storage2)), <any>{ isDirty: (e: any) => false }, mockUriIdentityService, new NullLogService()));\n\t\tstorage2.store('debug.breakpoint', stored, StorageScope.WORKSPACE, StorageTarget.USER, /* external= */ true);\n\t\tassert.deepStrictEqual(model2.getBreakpoints().map(b => b.getId()), model1.getBreakpoints().map(b => b.getId()));\n\n\t\t// 3. ensure non-external changes are ignored\n\t\tstorage2.store('debug.breakpoint', '[]', StorageScope.WORKSPACE, StorageTarget.USER, /* external= */ false);\n\t\tassert.deepStrictEqual(model2.getBreakpoints().map(b => b.getId()), model1.getBreakpoints().map(b => b.getId()));\n\t});\n});\n"]}