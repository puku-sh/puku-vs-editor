{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/debug/test/node/debugger.test.ts","vs/workbench/contrib/debug/test/node/debugger.test.ts"],"names":[],"mappings":"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","file":"debugger.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { join, normalize } from '../../../../../base/common/path.js';\nimport * as platform from '../../../../../base/common/platform.js';\nimport { IDebugAdapterExecutable, IConfig, IDebugSession, IAdapterManager, IDebuggerContribution } from '../../common/debug.js';\nimport { Debugger } from '../../common/debugger.js';\nimport { TestConfigurationService } from '../../../../../platform/configuration/test/common/testConfigurationService.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { ExecutableDebugAdapter } from '../../node/debugAdapter.js';\nimport { TestTextResourcePropertiesService } from '../../../../../editor/test/common/services/testTextResourcePropertiesService.js';\nimport { ExtensionIdentifier, IExtensionDescription, TargetPlatform } from '../../../../../platform/extensions/common/extensions.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\n\n\nsuite('Debug - Debugger', () => {\n\tlet _debugger: Debugger;\n\n\tconst extensionFolderPath = '/a/b/c/';\n\tconst debuggerContribution: IDebuggerContribution = {\n\t\ttype: 'mock',\n\t\tlabel: 'Mock Debug',\n\t\tprogram: './out/mock/mockDebug.js',\n\t\targs: ['arg1', 'arg2'],\n\t\tconfigurationAttributes: {\n\t\t\tlaunch: {\n\t\t\t\trequired: ['program'],\n\t\t\t\tproperties: {\n\t\t\t\t\tprogram: {\n\t\t\t\t\t\t'type': 'string',\n\t\t\t\t\t\t'description': 'Workspace relative path to a text file.',\n\t\t\t\t\t\t'default': 'readme.md'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tvariables: null!,\n\t\tinitialConfigurations: [\n\t\t\t{\n\t\t\t\tname: 'Mock-Debug',\n\t\t\t\ttype: 'mock',\n\t\t\t\trequest: 'launch',\n\t\t\t\tprogram: 'readme.md'\n\t\t\t}\n\t\t]\n\t};\n\n\tconst extensionDescriptor0 = <IExtensionDescription>{\n\t\tid: 'adapter',\n\t\tidentifier: new ExtensionIdentifier('adapter'),\n\t\tname: 'myAdapter',\n\t\tversion: '1.0.0',\n\t\tpublisher: 'vscode',\n\t\textensionLocation: URI.file(extensionFolderPath),\n\t\tisBuiltin: false,\n\t\tisUserBuiltin: false,\n\t\tisUnderDevelopment: false,\n\t\tengines: null!,\n\t\ttargetPlatform: TargetPlatform.UNDEFINED,\n\t\tcontributes: {\n\t\t\t'debuggers': [\n\t\t\t\tdebuggerContribution\n\t\t\t]\n\t\t},\n\t\tenabledApiProposals: undefined,\n\t\tpreRelease: false,\n\t};\n\n\tconst extensionDescriptor1 = {\n\t\tid: 'extension1',\n\t\tidentifier: new ExtensionIdentifier('extension1'),\n\t\tname: 'extension1',\n\t\tversion: '1.0.0',\n\t\tpublisher: 'vscode',\n\t\textensionLocation: URI.file('/e1/b/c/'),\n\t\tisBuiltin: false,\n\t\tisUserBuiltin: false,\n\t\tisUnderDevelopment: false,\n\t\tengines: null!,\n\t\ttargetPlatform: TargetPlatform.UNDEFINED,\n\t\tcontributes: {\n\t\t\t'debuggers': [\n\t\t\t\t{\n\t\t\t\t\ttype: 'mock',\n\t\t\t\t\truntime: 'runtime',\n\t\t\t\t\truntimeArgs: ['rarg'],\n\t\t\t\t\tprogram: 'mockprogram',\n\t\t\t\t\targs: ['parg']\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\tenabledApiProposals: undefined,\n\t\tpreRelease: false,\n\t};\n\n\tconst extensionDescriptor2 = {\n\t\tid: 'extension2',\n\t\tidentifier: new ExtensionIdentifier('extension2'),\n\t\tname: 'extension2',\n\t\tversion: '1.0.0',\n\t\tpublisher: 'vscode',\n\t\textensionLocation: URI.file('/e2/b/c/'),\n\t\tisBuiltin: false,\n\t\tisUserBuiltin: false,\n\t\tisUnderDevelopment: false,\n\t\tengines: null!,\n\t\ttargetPlatform: TargetPlatform.UNDEFINED,\n\t\tcontributes: {\n\t\t\t'debuggers': [\n\t\t\t\t{\n\t\t\t\t\ttype: 'mock',\n\t\t\t\t\twin: {\n\t\t\t\t\t\truntime: 'winRuntime',\n\t\t\t\t\t\tprogram: 'winProgram'\n\t\t\t\t\t},\n\t\t\t\t\tlinux: {\n\t\t\t\t\t\truntime: 'linuxRuntime',\n\t\t\t\t\t\tprogram: 'linuxProgram'\n\t\t\t\t\t},\n\t\t\t\t\tosx: {\n\t\t\t\t\t\truntime: 'osxRuntime',\n\t\t\t\t\t\tprogram: 'osxProgram'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\tenabledApiProposals: undefined,\n\t\tpreRelease: false,\n\t};\n\n\n\tconst adapterManager = <IAdapterManager>{\n\t\tgetDebugAdapterDescriptor(session: IDebugSession, config: IConfig): Promise<IDebugAdapterExecutable | undefined> {\n\t\t\treturn Promise.resolve(undefined);\n\t\t}\n\t};\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tconst configurationService = new TestConfigurationService();\n\tconst testResourcePropertiesService = new TestTextResourcePropertiesService(configurationService);\n\n\tsetup(() => {\n\t\t_debugger = new Debugger(adapterManager, debuggerContribution, extensionDescriptor0, configurationService, testResourcePropertiesService, undefined!, undefined!, undefined!, undefined!);\n\t});\n\n\tteardown(() => {\n\t\t_debugger = null!;\n\t});\n\n\ttest('attributes', () => {\n\t\tassert.strictEqual(_debugger.type, debuggerContribution.type);\n\t\tassert.strictEqual(_debugger.label, debuggerContribution.label);\n\n\t\tconst ae = ExecutableDebugAdapter.platformAdapterExecutable([extensionDescriptor0], 'mock');\n\n\t\tassert.strictEqual(ae!.command, join(extensionFolderPath, debuggerContribution.program!));\n\t\tassert.deepStrictEqual(ae!.args, debuggerContribution.args);\n\t});\n\n\ttest('merge platform specific attributes', function () {\n\t\tif (!process.versions.electron) {\n\t\t\tthis.skip(); //TODO@debug this test fails when run in node.js environments\n\t\t}\n\t\tconst ae = ExecutableDebugAdapter.platformAdapterExecutable([extensionDescriptor1, extensionDescriptor2], 'mock')!;\n\t\tassert.strictEqual(ae.command, platform.isLinux ? 'linuxRuntime' : (platform.isMacintosh ? 'osxRuntime' : 'winRuntime'));\n\t\tconst xprogram = platform.isLinux ? 'linuxProgram' : (platform.isMacintosh ? 'osxProgram' : 'winProgram');\n\t\tassert.deepStrictEqual(ae.args, ['rarg', normalize('/e2/b/c/') + xprogram, 'parg']);\n\t});\n\n\ttest('initial config file content', () => {\n\n\t\tconst expected = ['{',\n\t\t\t'\t// Use IntelliSense to learn about possible attributes.',\n\t\t\t'\t// Hover to view descriptions of existing attributes.',\n\t\t\t'\t// For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387',\n\t\t\t'\t\"version\": \"0.2.0\",',\n\t\t\t'\t\"configurations\": [',\n\t\t\t'\t\t{',\n\t\t\t'\t\t\t\"name\": \"Mock-Debug\",',\n\t\t\t'\t\t\t\"type\": \"mock\",',\n\t\t\t'\t\t\t\"request\": \"launch\",',\n\t\t\t'\t\t\t\"program\": \"readme.md\"',\n\t\t\t'\t\t}',\n\t\t\t'\t]',\n\t\t\t'}'].join(testResourcePropertiesService.getEOL(URI.file('somefile')));\n\n\t\treturn _debugger.getInitialConfigurationContent().then(content => {\n\t\t\tassert.strictEqual(content, expected);\n\t\t}, err => assert.fail(err));\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { join, normalize } from '../../../../../base/common/path.js';\nimport * as platform from '../../../../../base/common/platform.js';\nimport { IDebugAdapterExecutable, IConfig, IDebugSession, IAdapterManager, IDebuggerContribution } from '../../common/debug.js';\nimport { Debugger } from '../../common/debugger.js';\nimport { TestConfigurationService } from '../../../../../platform/configuration/test/common/testConfigurationService.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { ExecutableDebugAdapter } from '../../node/debugAdapter.js';\nimport { TestTextResourcePropertiesService } from '../../../../../editor/test/common/services/testTextResourcePropertiesService.js';\nimport { ExtensionIdentifier, IExtensionDescription, TargetPlatform } from '../../../../../platform/extensions/common/extensions.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\n\n\nsuite('Debug - Debugger', () => {\n\tlet _debugger: Debugger;\n\n\tconst extensionFolderPath = '/a/b/c/';\n\tconst debuggerContribution: IDebuggerContribution = {\n\t\ttype: 'mock',\n\t\tlabel: 'Mock Debug',\n\t\tprogram: './out/mock/mockDebug.js',\n\t\targs: ['arg1', 'arg2'],\n\t\tconfigurationAttributes: {\n\t\t\tlaunch: {\n\t\t\t\trequired: ['program'],\n\t\t\t\tproperties: {\n\t\t\t\t\tprogram: {\n\t\t\t\t\t\t'type': 'string',\n\t\t\t\t\t\t'description': 'Workspace relative path to a text file.',\n\t\t\t\t\t\t'default': 'readme.md'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tvariables: null!,\n\t\tinitialConfigurations: [\n\t\t\t{\n\t\t\t\tname: 'Mock-Debug',\n\t\t\t\ttype: 'mock',\n\t\t\t\trequest: 'launch',\n\t\t\t\tprogram: 'readme.md'\n\t\t\t}\n\t\t]\n\t};\n\n\tconst extensionDescriptor0 = <IExtensionDescription>{\n\t\tid: 'adapter',\n\t\tidentifier: new ExtensionIdentifier('adapter'),\n\t\tname: 'myAdapter',\n\t\tversion: '1.0.0',\n\t\tpublisher: 'vscode',\n\t\textensionLocation: URI.file(extensionFolderPath),\n\t\tisBuiltin: false,\n\t\tisUserBuiltin: false,\n\t\tisUnderDevelopment: false,\n\t\tengines: null!,\n\t\ttargetPlatform: TargetPlatform.UNDEFINED,\n\t\tcontributes: {\n\t\t\t'debuggers': [\n\t\t\t\tdebuggerContribution\n\t\t\t]\n\t\t},\n\t\tenabledApiProposals: undefined,\n\t\tpreRelease: false,\n\t};\n\n\tconst extensionDescriptor1 = {\n\t\tid: 'extension1',\n\t\tidentifier: new ExtensionIdentifier('extension1'),\n\t\tname: 'extension1',\n\t\tversion: '1.0.0',\n\t\tpublisher: 'vscode',\n\t\textensionLocation: URI.file('/e1/b/c/'),\n\t\tisBuiltin: false,\n\t\tisUserBuiltin: false,\n\t\tisUnderDevelopment: false,\n\t\tengines: null!,\n\t\ttargetPlatform: TargetPlatform.UNDEFINED,\n\t\tcontributes: {\n\t\t\t'debuggers': [\n\t\t\t\t{\n\t\t\t\t\ttype: 'mock',\n\t\t\t\t\truntime: 'runtime',\n\t\t\t\t\truntimeArgs: ['rarg'],\n\t\t\t\t\tprogram: 'mockprogram',\n\t\t\t\t\targs: ['parg']\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\tenabledApiProposals: undefined,\n\t\tpreRelease: false,\n\t};\n\n\tconst extensionDescriptor2 = {\n\t\tid: 'extension2',\n\t\tidentifier: new ExtensionIdentifier('extension2'),\n\t\tname: 'extension2',\n\t\tversion: '1.0.0',\n\t\tpublisher: 'vscode',\n\t\textensionLocation: URI.file('/e2/b/c/'),\n\t\tisBuiltin: false,\n\t\tisUserBuiltin: false,\n\t\tisUnderDevelopment: false,\n\t\tengines: null!,\n\t\ttargetPlatform: TargetPlatform.UNDEFINED,\n\t\tcontributes: {\n\t\t\t'debuggers': [\n\t\t\t\t{\n\t\t\t\t\ttype: 'mock',\n\t\t\t\t\twin: {\n\t\t\t\t\t\truntime: 'winRuntime',\n\t\t\t\t\t\tprogram: 'winProgram'\n\t\t\t\t\t},\n\t\t\t\t\tlinux: {\n\t\t\t\t\t\truntime: 'linuxRuntime',\n\t\t\t\t\t\tprogram: 'linuxProgram'\n\t\t\t\t\t},\n\t\t\t\t\tosx: {\n\t\t\t\t\t\truntime: 'osxRuntime',\n\t\t\t\t\t\tprogram: 'osxProgram'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\tenabledApiProposals: undefined,\n\t\tpreRelease: false,\n\t};\n\n\n\tconst adapterManager = <IAdapterManager>{\n\t\tgetDebugAdapterDescriptor(session: IDebugSession, config: IConfig): Promise<IDebugAdapterExecutable | undefined> {\n\t\t\treturn Promise.resolve(undefined);\n\t\t}\n\t};\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tconst configurationService = new TestConfigurationService();\n\tconst testResourcePropertiesService = new TestTextResourcePropertiesService(configurationService);\n\n\tsetup(() => {\n\t\t_debugger = new Debugger(adapterManager, debuggerContribution, extensionDescriptor0, configurationService, testResourcePropertiesService, undefined!, undefined!, undefined!, undefined!);\n\t});\n\n\tteardown(() => {\n\t\t_debugger = null!;\n\t});\n\n\ttest('attributes', () => {\n\t\tassert.strictEqual(_debugger.type, debuggerContribution.type);\n\t\tassert.strictEqual(_debugger.label, debuggerContribution.label);\n\n\t\tconst ae = ExecutableDebugAdapter.platformAdapterExecutable([extensionDescriptor0], 'mock');\n\n\t\tassert.strictEqual(ae!.command, join(extensionFolderPath, debuggerContribution.program!));\n\t\tassert.deepStrictEqual(ae!.args, debuggerContribution.args);\n\t});\n\n\ttest('merge platform specific attributes', function () {\n\t\tif (!process.versions.electron) {\n\t\t\tthis.skip(); //TODO@debug this test fails when run in node.js environments\n\t\t}\n\t\tconst ae = ExecutableDebugAdapter.platformAdapterExecutable([extensionDescriptor1, extensionDescriptor2], 'mock')!;\n\t\tassert.strictEqual(ae.command, platform.isLinux ? 'linuxRuntime' : (platform.isMacintosh ? 'osxRuntime' : 'winRuntime'));\n\t\tconst xprogram = platform.isLinux ? 'linuxProgram' : (platform.isMacintosh ? 'osxProgram' : 'winProgram');\n\t\tassert.deepStrictEqual(ae.args, ['rarg', normalize('/e2/b/c/') + xprogram, 'parg']);\n\t});\n\n\ttest('initial config file content', () => {\n\n\t\tconst expected = ['{',\n\t\t\t'\t// Use IntelliSense to learn about possible attributes.',\n\t\t\t'\t// Hover to view descriptions of existing attributes.',\n\t\t\t'\t// For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387',\n\t\t\t'\t\"version\": \"0.2.0\",',\n\t\t\t'\t\"configurations\": [',\n\t\t\t'\t\t{',\n\t\t\t'\t\t\t\"name\": \"Mock-Debug\",',\n\t\t\t'\t\t\t\"type\": \"mock\",',\n\t\t\t'\t\t\t\"request\": \"launch\",',\n\t\t\t'\t\t\t\"program\": \"readme.md\"',\n\t\t\t'\t\t}',\n\t\t\t'\t]',\n\t\t\t'}'].join(testResourcePropertiesService.getEOL(URI.file('somefile')));\n\n\t\treturn _debugger.getInitialConfigurationContent().then(content => {\n\t\t\tassert.strictEqual(content, expected);\n\t\t}, err => assert.fail(err));\n\t});\n});\n"]}