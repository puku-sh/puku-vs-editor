{"version":3,"sources":["vs/workbench/contrib/debug/browser/linkDetector.ts"],"names":[],"mappings":"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","file":"linkDetector.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { getWindow, isHTMLElement, reset } from '../../../../base/browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../../base/browser/keyboardEvent.js';\nimport { getDefaultHoverDelegate } from '../../../../base/browser/ui/hover/hoverDelegateFactory.js';\nimport { KeyCode } from '../../../../base/common/keyCodes.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport * as osPath from '../../../../base/common/path.js';\nimport * as platform from '../../../../base/common/platform.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { localize } from '../../../../nls.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IFileService } from '../../../../platform/files/common/files.js';\nimport { IHoverService } from '../../../../platform/hover/browser/hover.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { ITunnelService } from '../../../../platform/tunnel/common/tunnel.js';\nimport { IWorkspaceFolder } from '../../../../platform/workspace/common/workspace.js';\nimport { IDebugSession } from '../common/debug.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { IWorkbenchEnvironmentService } from '../../../services/environment/common/environmentService.js';\nimport { IPathService } from '../../../services/path/common/pathService.js';\nimport { IHighlight } from '../../../../base/browser/ui/highlightedlabel/highlightedLabel.js';\nimport { Iterable } from '../../../../base/common/iterator.js';\n\nconst CONTROL_CODES = '\\\\u0000-\\\\u0020\\\\u007f-\\\\u009f';\nconst WEB_LINK_REGEX = new RegExp('(?:[a-zA-Z][a-zA-Z0-9+.-]{2,}:\\\\/\\\\/|data:|www\\\\.)[^\\\\s' + CONTROL_CODES + '\"]{2,}[^\\\\s' + CONTROL_CODES + '\"\\')}\\\\],:;.!?]', 'ug');\n\nconst WIN_ABSOLUTE_PATH = /(?:[a-zA-Z]:(?:(?:\\\\|\\/)[\\w\\.-]*)+)/;\nconst WIN_RELATIVE_PATH = /(?:(?:\\~|\\.+)(?:(?:\\\\|\\/)[\\w\\.-]*)+)/;\nconst WIN_PATH = new RegExp(`(${WIN_ABSOLUTE_PATH.source}|${WIN_RELATIVE_PATH.source})`);\nconst POSIX_PATH = /((?:\\~|\\.+)?(?:\\/[\\w\\.-]*)+)/;\nconst LINE_COLUMN = /(?:\\:([\\d]+))?(?:\\:([\\d]+))?/;\nconst PATH_LINK_REGEX = new RegExp(`${platform.isWindows ? WIN_PATH.source : POSIX_PATH.source}${LINE_COLUMN.source}`, 'g');\nconst LINE_COLUMN_REGEX = /:([\\d]+)(?::([\\d]+))?$/;\n\nconst MAX_LENGTH = 2000;\n\ntype LinkKind = 'web' | 'path' | 'text';\ntype LinkPart = {\n\tkind: LinkKind;\n\tvalue: string;\n\tcaptures: string[];\n\tindex: number;\n};\n\nexport const enum DebugLinkHoverBehavior {\n\t/** A nice workbench hover */\n\tRich,\n\t/**\n\t * Basic browser hover\n\t * @deprecated Consumers should adopt `rich` by propagating disposables appropriately\n\t */\n\tBasic,\n\t/** No hover */\n\tNone\n}\n\n/** Store implies HoverBehavior=rich */\nexport type DebugLinkHoverBehaviorTypeData = { type: DebugLinkHoverBehavior.None | DebugLinkHoverBehavior.Basic }\n\t| { type: DebugLinkHoverBehavior.Rich; store: DisposableStore };\n\nexport interface ILinkDetector {\n\tlinkify(text: string, splitLines?: boolean, workspaceFolder?: IWorkspaceFolder, includeFulltext?: boolean, hoverBehavior?: DebugLinkHoverBehaviorTypeData, highlights?: IHighlight[]): HTMLElement;\n\tlinkifyLocation(text: string, locationReference: number, session: IDebugSession, hoverBehavior?: DebugLinkHoverBehaviorTypeData): HTMLElement;\n}\n\nexport class LinkDetector implements ILinkDetector {\n\tconstructor(\n\t\t@IEditorService private readonly editorService: IEditorService,\n\t\t@IFileService private readonly fileService: IFileService,\n\t\t@IOpenerService private readonly openerService: IOpenerService,\n\t\t@IPathService private readonly pathService: IPathService,\n\t\t@ITunnelService private readonly tunnelService: ITunnelService,\n\t\t@IWorkbenchEnvironmentService private readonly environmentService: IWorkbenchEnvironmentService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@IHoverService private readonly hoverService: IHoverService,\n\t) {\n\t\t// noop\n\t}\n\n\t/**\n\t * Matches and handles web urls, absolute and relative file links in the string provided.\n\t * Returns <span/> element that wraps the processed string, where matched links are replaced by <a/>.\n\t * 'onclick' event is attached to all anchored links that opens them in the editor.\n\t * When splitLines is true, each line of the text, even if it contains no links, is wrapped in a <span>\n\t * and added as a child of the returned <span>.\n\t * If a `hoverBehavior` is passed, hovers may be added using the workbench hover service.\n\t * This should be preferred for new code where hovers are desirable.\n\t */\n\tlinkify(text: string, splitLines?: boolean, workspaceFolder?: IWorkspaceFolder, includeFulltext?: boolean, hoverBehavior?: DebugLinkHoverBehaviorTypeData, highlights?: IHighlight[]): HTMLElement {\n\t\treturn this._linkify(text, splitLines, workspaceFolder, includeFulltext, hoverBehavior, highlights);\n\t}\n\n\tprivate _linkify(text: string, splitLines?: boolean, workspaceFolder?: IWorkspaceFolder, includeFulltext?: boolean, hoverBehavior?: DebugLinkHoverBehaviorTypeData, highlights?: IHighlight[], defaultRef?: { locationReference: number; session: IDebugSession }): HTMLElement {\n\t\tif (splitLines) {\n\t\t\tconst lines = text.split('\\n');\n\t\t\tfor (let i = 0; i < lines.length - 1; i++) {\n\t\t\t\tlines[i] = lines[i] + '\\n';\n\t\t\t}\n\t\t\tif (!lines[lines.length - 1]) {\n\t\t\t\t// Remove the last element ('') that split added.\n\t\t\t\tlines.pop();\n\t\t\t}\n\t\t\tconst elements = lines.map(line => this._linkify(line, false, workspaceFolder, includeFulltext, hoverBehavior, highlights, defaultRef));\n\t\t\tif (elements.length === 1) {\n\t\t\t\t// Do not wrap single line with extra span.\n\t\t\t\treturn elements[0];\n\t\t\t}\n\t\t\tconst container = document.createElement('span');\n\t\t\telements.forEach(e => container.appendChild(e));\n\t\t\treturn container;\n\t\t}\n\n\t\tconst container = document.createElement('span');\n\t\tfor (const part of this.detectLinks(text)) {\n\t\t\ttry {\n\t\t\t\tlet node: Node;\n\t\t\t\tswitch (part.kind) {\n\t\t\t\t\tcase 'text':\n\t\t\t\t\t\tnode = defaultRef ? this.linkifyLocation(part.value, defaultRef.locationReference, defaultRef.session, hoverBehavior) : document.createTextNode(part.value);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'web':\n\t\t\t\t\t\tnode = this.createWebLink(includeFulltext ? text : undefined, part.value, hoverBehavior);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'path': {\n\t\t\t\t\t\tconst path = part.captures[0];\n\t\t\t\t\t\tconst lineNumber = part.captures[1] ? Number(part.captures[1]) : 0;\n\t\t\t\t\t\tconst columnNumber = part.captures[2] ? Number(part.captures[2]) : 0;\n\t\t\t\t\t\tnode = this.createPathLink(includeFulltext ? text : undefined, part.value, path, lineNumber, columnNumber, workspaceFolder, hoverBehavior);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tnode = document.createTextNode(part.value);\n\t\t\t\t}\n\n\t\t\t\tcontainer.append(...this.applyHighlights(node, part.index, part.value.length, highlights));\n\t\t\t} catch (e) {\n\t\t\t\tcontainer.appendChild(document.createTextNode(part.value));\n\t\t\t}\n\t\t}\n\t\treturn container;\n\t}\n\n\tprivate applyHighlights(node: Node, startIndex: number, length: number, highlights: IHighlight[] | undefined): Iterable<Node | string> {\n\t\tconst children: (Node | string)[] = [];\n\t\tlet currentIndex = startIndex;\n\t\tconst endIndex = startIndex + length;\n\n\t\tfor (const highlight of highlights || []) {\n\t\t\tif (highlight.end <= currentIndex || highlight.start >= endIndex) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (highlight.start > currentIndex) {\n\t\t\t\tchildren.push(node.textContent!.substring(currentIndex - startIndex, highlight.start - startIndex));\n\t\t\t\tcurrentIndex = highlight.start;\n\t\t\t}\n\n\t\t\tconst highlightEnd = Math.min(highlight.end, endIndex);\n\t\t\tconst highlightedText = node.textContent!.substring(currentIndex - startIndex, highlightEnd - startIndex);\n\t\t\tconst highlightSpan = document.createElement('span');\n\t\t\thighlightSpan.classList.add('highlight');\n\t\t\tif (highlight.extraClasses) {\n\t\t\t\thighlightSpan.classList.add(...highlight.extraClasses);\n\t\t\t}\n\t\t\thighlightSpan.textContent = highlightedText;\n\t\t\tchildren.push(highlightSpan);\n\t\t\tcurrentIndex = highlightEnd;\n\t\t}\n\n\t\tif (currentIndex === startIndex) {\n\t\t\treturn Iterable.single(node); // no changes made\n\t\t}\n\n\t\tif (currentIndex < endIndex) {\n\t\t\tchildren.push(node.textContent!.substring(currentIndex - startIndex));\n\t\t}\n\n\t\t// reuse the element if it's a link\n\t\tif (isHTMLElement(node)) {\n\t\t\treset(node, ...children);\n\t\t\treturn Iterable.single(node);\n\t\t}\n\n\t\treturn children;\n\t}\n\n\t/**\n\t * Linkifies a location reference.\n\t */\n\tlinkifyLocation(text: string, locationReference: number, session: IDebugSession, hoverBehavior?: DebugLinkHoverBehaviorTypeData) {\n\t\tconst link = this.createLink(text);\n\t\tthis.decorateLink(link, undefined, text, hoverBehavior, async (preserveFocus: boolean) => {\n\t\t\tconst location = await session.resolveLocationReference(locationReference);\n\t\t\tawait location.source.openInEditor(this.editorService, {\n\t\t\t\tstartLineNumber: location.line,\n\t\t\t\tstartColumn: location.column,\n\t\t\t\tendLineNumber: location.endLine ?? location.line,\n\t\t\t\tendColumn: location.endColumn ?? location.column,\n\t\t\t}, preserveFocus);\n\t\t});\n\n\t\treturn link;\n\t}\n\n\t/**\n\t * Makes an {@link ILinkDetector} that links everything in the output to the\n\t * reference if they don't have other explicit links.\n\t */\n\tmakeReferencedLinkDetector(locationReference: number, session: IDebugSession): ILinkDetector {\n\t\treturn {\n\t\t\tlinkify: (text, splitLines, workspaceFolder, includeFulltext, hoverBehavior, highlights) =>\n\t\t\t\tthis._linkify(text, splitLines, workspaceFolder, includeFulltext, hoverBehavior, highlights, { locationReference, session }),\n\t\t\tlinkifyLocation: this.linkifyLocation.bind(this),\n\t\t};\n\t}\n\n\tprivate createWebLink(fulltext: string | undefined, url: string, hoverBehavior?: DebugLinkHoverBehaviorTypeData): Node {\n\t\tconst link = this.createLink(url);\n\n\t\tlet uri = URI.parse(url);\n\t\t// if the URI ends with something like `foo.js:12:3`, parse\n\t\t// that into a fragment to reveal that location (#150702)\n\t\tconst lineCol = LINE_COLUMN_REGEX.exec(uri.path);\n\t\tif (lineCol) {\n\t\t\turi = uri.with({\n\t\t\t\tpath: uri.path.slice(0, lineCol.index),\n\t\t\t\tfragment: `L${lineCol[0].slice(1)}`\n\t\t\t});\n\t\t}\n\n\t\tthis.decorateLink(link, uri, fulltext, hoverBehavior, async () => {\n\n\t\t\tif (uri.scheme === Schemas.file) {\n\t\t\t\t// Just using fsPath here is unsafe: https://github.com/microsoft/vscode/issues/109076\n\t\t\t\tconst fsPath = uri.fsPath;\n\t\t\t\tconst path = await this.pathService.path;\n\t\t\t\tconst fileUrl = osPath.normalize(((path.sep === osPath.posix.sep) && platform.isWindows) ? fsPath.replace(/\\\\/g, osPath.posix.sep) : fsPath);\n\n\t\t\t\tconst fileUri = URI.parse(fileUrl);\n\t\t\t\tconst exists = await this.fileService.exists(fileUri);\n\t\t\t\tif (!exists) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tawait this.editorService.openEditor({\n\t\t\t\t\tresource: fileUri,\n\t\t\t\t\toptions: {\n\t\t\t\t\t\tpinned: true,\n\t\t\t\t\t\tselection: lineCol ? { startLineNumber: +lineCol[1], startColumn: +lineCol[2] } : undefined,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.openerService.open(url, { allowTunneling: (!!this.environmentService.remoteAuthority && this.configurationService.getValue('remote.forwardOnOpen')) });\n\t\t});\n\n\t\treturn link;\n\t}\n\n\tprivate createPathLink(fulltext: string | undefined, text: string, path: string, lineNumber: number, columnNumber: number, workspaceFolder: IWorkspaceFolder | undefined, hoverBehavior?: DebugLinkHoverBehaviorTypeData): Node {\n\t\tif (path[0] === '/' && path[1] === '/') {\n\t\t\t// Most likely a url part which did not match, for example ftp://path.\n\t\t\treturn document.createTextNode(text);\n\t\t}\n\n\t\tconst options = { selection: { startLineNumber: lineNumber, startColumn: columnNumber } };\n\t\tif (path[0] === '.') {\n\t\t\tif (!workspaceFolder) {\n\t\t\t\treturn document.createTextNode(text);\n\t\t\t}\n\t\t\tconst uri = workspaceFolder.toResource(path);\n\t\t\tconst link = this.createLink(text);\n\t\t\tthis.decorateLink(link, uri, fulltext, hoverBehavior, (preserveFocus: boolean) => this.editorService.openEditor({ resource: uri, options: { ...options, preserveFocus } }));\n\t\t\treturn link;\n\t\t}\n\n\t\tif (path[0] === '~') {\n\t\t\tconst userHome = this.pathService.resolvedUserHome;\n\t\t\tif (userHome) {\n\t\t\t\tpath = osPath.join(userHome.fsPath, path.substring(1));\n\t\t\t}\n\t\t}\n\n\t\tconst link = this.createLink(text);\n\t\tlink.tabIndex = 0;\n\t\tconst uri = URI.file(osPath.normalize(path));\n\t\tthis.fileService.stat(uri).then(stat => {\n\t\t\tif (stat.isDirectory) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.decorateLink(link, uri, fulltext, hoverBehavior, (preserveFocus: boolean) => this.editorService.openEditor({ resource: uri, options: { ...options, preserveFocus } }));\n\t\t}).catch(() => {\n\t\t\t// If the uri can not be resolved we should not spam the console with error, remain quite #86587\n\t\t});\n\t\treturn link;\n\t}\n\n\tprivate createLink(text: string): HTMLElement {\n\t\tconst link = document.createElement('a');\n\t\tlink.textContent = text;\n\t\treturn link;\n\t}\n\n\tprivate decorateLink(link: HTMLElement, uri: URI | undefined, fulltext: string | undefined, hoverBehavior: DebugLinkHoverBehaviorTypeData | undefined, onClick: (preserveFocus: boolean) => void) {\n\t\tlink.classList.add('link');\n\t\tconst followLink = uri && this.tunnelService.canTunnel(uri) ? localize('followForwardedLink', \"follow link using forwarded port\") : localize('followLink', \"follow link\");\n\t\tconst title = link.ariaLabel = fulltext\n\t\t\t? (platform.isMacintosh ? localize('fileLinkWithPathMac', \"Cmd + click to {0}\\n{1}\", followLink, fulltext) : localize('fileLinkWithPath', \"Ctrl + click to {0}\\n{1}\", followLink, fulltext))\n\t\t\t: (platform.isMacintosh ? localize('fileLinkMac', \"Cmd + click to {0}\", followLink) : localize('fileLink', \"Ctrl + click to {0}\", followLink));\n\n\t\tif (hoverBehavior?.type === DebugLinkHoverBehavior.Rich) {\n\t\t\thoverBehavior.store.add(this.hoverService.setupManagedHover(getDefaultHoverDelegate('element'), link, title));\n\t\t} else if (hoverBehavior?.type !== DebugLinkHoverBehavior.None) {\n\t\t\tlink.title = title;\n\t\t}\n\n\t\tlink.onmousemove = (event) => { link.classList.toggle('pointer', platform.isMacintosh ? event.metaKey : event.ctrlKey); };\n\t\tlink.onmouseleave = () => link.classList.remove('pointer');\n\t\tlink.onclick = (event) => {\n\t\t\tconst selection = getWindow(link).getSelection();\n\t\t\tif (!selection || selection.type === 'Range') {\n\t\t\t\treturn; // do not navigate when user is selecting\n\t\t\t}\n\t\t\tif (!(platform.isMacintosh ? event.metaKey : event.ctrlKey)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopImmediatePropagation();\n\t\t\tonClick(false);\n\t\t};\n\t\tlink.onkeydown = e => {\n\t\t\tconst event = new StandardKeyboardEvent(e);\n\t\t\tif (event.keyCode === KeyCode.Enter || event.keyCode === KeyCode.Space) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tonClick(event.keyCode === KeyCode.Space);\n\t\t\t}\n\t\t};\n\t}\n\n\tprivate detectLinks(text: string): LinkPart[] {\n\t\tif (text.length > MAX_LENGTH) {\n\t\t\treturn [{ kind: 'text', value: text, captures: [], index: 0 }];\n\t\t}\n\n\t\tconst regexes: RegExp[] = [WEB_LINK_REGEX, PATH_LINK_REGEX];\n\t\tconst kinds: LinkKind[] = ['web', 'path'];\n\t\tconst result: LinkPart[] = [];\n\n\t\tconst splitOne = (text: string, regexIndex: number, baseIndex: number) => {\n\t\t\tif (regexIndex >= regexes.length) {\n\t\t\t\tresult.push({ value: text, kind: 'text', captures: [], index: baseIndex });\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst regex = regexes[regexIndex];\n\t\t\tlet currentIndex = 0;\n\t\t\tlet match;\n\t\t\tregex.lastIndex = 0;\n\t\t\twhile ((match = regex.exec(text)) !== null) {\n\t\t\t\tconst stringBeforeMatch = text.substring(currentIndex, match.index);\n\t\t\t\tif (stringBeforeMatch) {\n\t\t\t\t\tsplitOne(stringBeforeMatch, regexIndex + 1, baseIndex + currentIndex);\n\t\t\t\t}\n\t\t\t\tconst value = match[0];\n\t\t\t\tresult.push({\n\t\t\t\t\tvalue: value,\n\t\t\t\t\tkind: kinds[regexIndex],\n\t\t\t\t\tcaptures: match.slice(1),\n\t\t\t\t\tindex: baseIndex + match.index\n\t\t\t\t});\n\t\t\t\tcurrentIndex = match.index + value.length;\n\t\t\t}\n\t\t\tconst stringAfterMatches = text.substring(currentIndex);\n\t\t\tif (stringAfterMatches) {\n\t\t\t\tsplitOne(stringAfterMatches, regexIndex + 1, baseIndex + currentIndex);\n\t\t\t}\n\t\t};\n\n\t\tsplitOne(text, 0, 0);\n\t\treturn result;\n\t}\n}\n"]}