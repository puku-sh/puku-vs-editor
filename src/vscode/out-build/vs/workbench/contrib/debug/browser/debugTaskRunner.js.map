{"version":3,"sources":["vs/workbench/contrib/debug/browser/debugTaskRunner.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;AAEhG,OAAO,EAAE,QAAQ,EAAE,MAAM,oCAAoC,CAAC;AAC9D,OAAO,EAAE,iBAAiB,EAAE,MAAM,kCAAkC,CAAC;AACrE,OAAO,EAAE,uBAAuB,EAAE,MAAM,yCAAyC,CAAC;AAClF,OAAO,EAAE,sBAAsB,EAAE,MAAM,yCAAyC,CAAC;AACjF,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,MAAM,kCAAkC,CAAC;AAClE,OAAO,EAAE,eAAe,EAAe,MAAM,sCAAsC,CAAC;AACpF,OAAO,QAAQ,MAAM,qCAAqC,CAAC;AAC3D,OAAO,KAAK,GAAG,MAAM,oBAAoB,CAAC;AAC1C,OAAO,EAAE,eAAe,EAAE,MAAM,kDAAkD,CAAC;AACnF,OAAO,EAAE,qBAAqB,EAAE,MAAM,4DAA4D,CAAC;AACnG,OAAO,EAAE,cAAc,EAAE,MAAM,gDAAgD,CAAC;AAChF,OAAO,EAAE,cAAc,EAAE,cAAc,EAAE,MAAM,gDAAgD,CAAC;AAChG,OAAO,EAAE,gBAAgB,EAAoB,MAAM,kDAAkD,CAAC;AACtG,OAAO,EAAE,eAAe,EAA+B,MAAM,gDAAgD,CAAC;AAE9G,OAAO,EAAE,0BAA0B,EAAE,qBAAqB,EAAE,MAAM,oBAAoB,CAAC;AAEvF,OAAO,EAAE,OAAO,EAAE,MAAM,iCAAiC,CAAC;AAC1D,OAAO,EAAE,eAAe,EAAE,UAAU,EAAqC,aAAa,EAAE,MAAM,6BAA6B,CAAC;AAC5H,OAAO,EAAE,YAAY,EAAgB,MAAM,mCAAmC,CAAC;AAC/E,OAAO,EAAE,aAAa,EAAE,MAAM,gDAAgD,CAAC;AAE/E,MAAM,UAAU,GAAG,CAAC,KAAwB,EAAE,MAAkC,EAAE,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC;AAE7H,MAAM,CAAN,IAAkB,aAGjB;AAHD,WAAkB,aAAa;IAC9B,uDAAO,CAAA;IACP,uDAAO,CAAA;AACR,CAAC,EAHiB,aAAa,KAAb,aAAa,QAG9B;AAED,MAAM,2BAA2B,GAAG,uBAAuB,CAAC;AAC5D,MAAM,WAAW,GAAG,GAAG,CAAC,QAAQ,CAAC,IAAO,EAAE,IAAO,CAAC,CAAC;AACnD,MAAM,kBAAkB,GAAG,GAAG,CAAC,QAAQ,CAAC,EAAE,EAAwD,CAArD,CAAuD,CAArD,GAAqE,CAAC,CAAC,QAA1D,EAAE,OAAO,EAAE,CAAC,uBAAuB,CAAC;AAChG,MAAM,0BAA0B,GAAG,GAAG,CAAC,QAAQ,CAAC,IAAmB,EAAE,IAAc,CAAC,CAAC;AAM9E,IAAM,eAAe,GAArB,MAAM,eAAe;IAI3B,YACe,WAA0C,EACxC,aAA8C,EACvC,oBAA4D,EACpE,YAA4C,EAC3C,aAA8C,EAC7C,cAAgD,EAChD,cAAgD,EAC/C,eAAkD;QAPrC,gBAAW,GAAX,WAAW,CAAc;QACvB,kBAAa,GAAb,aAAa,CAAgB;QACtB,yBAAoB,GAApB,oBAAoB,CAAuB;QACnD,iBAAY,GAAZ,YAAY,CAAe;QAC1B,kBAAa,GAAb,aAAa,CAAgB;QAC5B,mBAAc,GAAd,cAAc,CAAiB;QAC/B,mBAAc,GAAd,cAAc,CAAiB;QAC9B,oBAAe,GAAf,eAAe,CAAkB;QAV7D,uBAAkB,GAAG,IAAI,uBAAuB,EAAE,CAAC;IAWvD,CAAC;IAEL,MAAM;QACL,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACtC,IAAI,CAAC,kBAAkB,GAAG,IAAI,uBAAuB,EAAE,CAAC;IACzD,CAAC;IAEM,OAAO;QACb,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACvC,CAAC;IAED,KAAK,CAAC,qBAAqB,CAC1B,IAA+C,EAC/C,MAA4C;QAE5C,IAAI,CAAC;YACJ,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,MAAM,EAAE,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC;YACpF,IAAI,WAAW,IAAI,CAAC,WAAW,CAAC,QAAQ,KAAK,SAAS,IAAI,WAAW,CAAC,SAAS,CAAC,EAAE,CAAC;gBAClF,yDAAyD;gBACzD,qCAA6B;YAC9B,CAAC;YAED,MAAM,UAAU,GAAG,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,UAAU,EAAE,cAAc,CAAC,KAAK,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;YAC9G,MAAM,eAAe,GAAG,WAAW,IAAI,WAAW,CAAC,QAAQ,KAAK,CAAC,CAAC;YAClE,MAAM,eAAe,GAAG,WAAW,IAAI,WAAW,CAAC,QAAQ,KAAK,CAAC,CAAC;YAClE,MAAM,YAAY,GAAG,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAsB,OAAO,CAAC,CAAC,YAAY,CAAC;YACnG,IAAI,eAAe,IAAI,YAAY,KAAK,aAAa,IAAI,CAAC,UAAU,KAAK,CAAC,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC;gBACjG,qCAA6B;YAC9B,CAAC;YACD,IAAI,YAAY,KAAK,YAAY,EAAE,CAAC;gBACnC,MAAM,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,OAAO,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;gBAChE,OAAO,OAAO,CAAC,OAAO,+BAAuB,CAAC;YAC/C,CAAC;YACD,IAAI,YAAY,KAAK,OAAO,EAAE,CAAC;gBAC9B,OAAO,OAAO,CAAC,OAAO,+BAAuB,CAAC;YAC/C,CAAC;YAED,MAAM,SAAS,GAAG,OAAO,MAAM,KAAK,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC;YAClF,MAAM,OAAO,GAAG,UAAU,GAAG,CAAC;gBAC7B,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAqB,EAAE,IAAiD,EAAE,SAAS,CAAC;gBACnG,CAAC,CAAC,UAAU,KAAK,CAAC;oBACjB,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAoB,EAAE,IAAiD,EAAE,SAAS,CAAC;oBAClG,CAAC,CAAC,WAAW,IAAI,OAAO,WAAW,CAAC,QAAQ,KAAK,QAAQ;wBACxD,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAuB,EAAE,IAAwD,EAAE,SAAS,EAAE,WAAW,CAAC,QAAQ,CAAC;wBAClI,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAyB,EAAE,IAAqC,EAAE,SAAS,CAAC,CAAC;YAE/F,IAAK,WAIJ;YAJD,WAAK,WAAW;gBACf,2DAAe,CAAA;gBACf,yDAAc,CAAA;gBACd,iDAAU,CAAA;YACX,CAAC,EAJI,WAAW,KAAX,WAAW,QAIf;YACD,MAAM,EAAE,MAAM,EAAE,eAAe,EAAE,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,MAAM,CAAc;gBAChF,IAAI,EAAE,QAAQ,CAAC,OAAO;gBACtB,OAAO;gBACP,OAAO,EAAE;oBACR;wBACC,KAAK,EAAE,kBAAkB;wBACzB,GAAG,EAAE,GAAG,EAAE,CAAC,WAAW,CAAC,WAAW;qBAClC;oBACD;wBACC,KAAK,EAAE,GAAG,CAAC,QAAQ,CAAC,EAAE,EAAuD,CAApD,CAAsD,CAApD,GAAmE,CAAC,QAAxD,EAAE,OAAO,EAAE,CAAC,uBAAuB,CAAC;wBAC3E,GAAG,EAAE,GAAG,EAAE,CAAC,WAAW,CAAC,UAAU;qBACjC;iBACD;gBACD,YAAY,EAAE;oBACb,KAAK,EAAE,WAAW;oBAClB,GAAG,EAAE,GAAG,EAAE,CAAC,WAAW,CAAC,MAAM;iBAC7B;gBACD,QAAQ,EAAE;oBACT,KAAK,EAAE,GAAG,CAAC,QAAQ,CAAC,IAAU,EAAE,IAAqC,CAAC;iBACtE;aACD,CAAC,CAAC;YAGH,MAAM,WAAW,GAAG,MAAM,KAAK,WAAW,CAAC,WAAW,CAAC;YACvD,MAAM,KAAK,GAAG,MAAM,KAAK,WAAW,CAAC,MAAM,CAAC;YAC5C,IAAI,eAAe,EAAE,CAAC;gBACrB,IAAI,CAAC,oBAAoB,CAAC,WAAW,CAAC,oBAAoB,EAAE,MAAM,KAAK,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC;YAClJ,CAAC;YAED,IAAI,KAAK,EAAE,CAAC;gBACX,OAAO,OAAO,CAAC,OAAO,+BAAuB,CAAC;YAC/C,CAAC;YACD,IAAI,WAAW,EAAE,CAAC;gBACjB,qCAA6B;YAC9B,CAAC;YAED,MAAM,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,OAAO,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;YAChE,OAAO,OAAO,CAAC,OAAO,+BAAuB,CAAC;QAC/C,CAAC;QAAC,OAAO,GAAG,EAAE,CAAC;YACd,MAAM,mBAAmB,GAAG,IAAI,CAAC,WAAW,CAAC,eAAe,EAAE,CAAC;YAC/D,MAAM,SAAS,GAA8B,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,2BAA2B,kCAA0B,IAAI,CAAC,CAAC,CAAC;YAE5I,IAAI,MAAM,GAAG,CAAC,CAAC,CAAC;YAChB,IAAK,WAIJ;YAJD,WAAK,WAAW;gBACf,2DAAe,CAAA;gBACf,+DAAiB,CAAA;gBACjB,iDAAU,CAAA;YACX,CAAC,EAJI,WAAW,KAAX,WAAW,QAIf;YACD,IAAI,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,SAAS,EAAE,CAAC;gBAC1C,MAAM,GAAG,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YACjC,CAAC;iBAAM,CAAC;gBACP,MAAM,EAAE,MAAM,EAAE,eAAe,EAAE,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,MAAM,CAAc;oBAChF,IAAI,EAAE,QAAQ,CAAC,KAAK;oBACpB,OAAO,EAAE,GAAG,CAAC,OAAO;oBACpB,OAAO,EAAE;wBACR;4BACC,KAAK,EAAE,GAAG,CAAC,QAAQ,CAAC,EAAE,EAAwD,CAArD,CAAuD,CAArD,GAAqE,CAAC,SAAzD,EAAE,OAAO,EAAE,CAAC,uBAAuB,CAAC;4BAC5E,GAAG,EAAE,GAAG,EAAE,CAAC,WAAW,CAAC,WAAW;yBAClC;wBACD;4BACC,KAAK,EAAE,mBAAmB,CAAC,KAAK;4BAChC,GAAG,EAAE,GAAG,EAAE,CAAC,WAAW,CAAC,aAAa;yBACpC;qBACD;oBACD,YAAY,EAAE;wBACb,GAAG,EAAE,GAAG,EAAE,CAAC,WAAW,CAAC,MAAM;qBAC7B;oBACD,QAAQ,EAAE;wBACT,KAAK,EAAE,GAAG,CAAC,QAAQ,CAAC,IAAc,EAAE,IAAkC,CAAC;qBACvE;iBACD,CAAC,CAAC;gBACH,MAAM,GAAG,MAAM,CAAC;gBAChB,IAAI,eAAe,EAAE,CAAC;oBACrB,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,MAAM,CAAC;oBAChC,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,2BAA2B,EAAE,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,gEAAgD,CAAC;gBAClI,CAAC;YACF,CAAC;YAED,IAAI,MAAM,KAAK,WAAW,CAAC,aAAa,EAAE,CAAC;gBAC1C,MAAM,mBAAmB,CAAC,GAAG,EAAE,CAAC;YACjC,CAAC;YAED,OAAO,MAAM,KAAK,WAAW,CAAC,WAAW,CAAC,CAAC,+BAAuB,CAAC,8BAAsB,CAAC;QAC3F,CAAC;IACF,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,IAA+C,EAAE,MAA4C,EAAE,KAAK,GAAG,IAAI,CAAC,kBAAkB,CAAC,KAAK;QACjJ,IAAI,CAAC,MAAM,EAAE,CAAC;YACb,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAC9B,CAAC;QACD,IAAI,CAAC,IAAI,EAAE,CAAC;YACX,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAsB,EAAE,IAAuG,EAAE,OAAO,MAAM,KAAK,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACpO,CAAC;QACD,6CAA6C;QAC7C,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QAC1D,IAAI,CAAC,IAAI,EAAE,CAAC;YACX,MAAM,YAAY,GAAG,OAAO,MAAM,KAAK,QAAQ;gBAC9C,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAA6B,EAAE,IAAgC,EAAE,MAAM,CAAC;gBACvF,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAmB,EAAE,IAAoC,CAAC,CAAC;YAC3E,OAAO,OAAO,CAAC,MAAM,CAAC,sBAAsB,CAAC,YAAY,EAAE,CAAC,QAAQ,CAAC,EAAE,EAAE,EAAE,0BAA0B,EAAE,KAAK,EAAE,qBAAqB,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,0BAA0B,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QACrO,CAAC;QAED,mHAAmH;QACnH,IAAI,WAAW,GAAG,KAAK,CAAC;QACxB,MAAM,KAAK,GAAG,IAAI,eAAe,EAAE,CAAC;QACpC,MAAM,UAAU,GAAG,CAAC,CAAO,EAAE,EAAE,CAAC,CAAC,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC,SAAS,EAAE,CAAC;QAC5D,MAAM,OAAO,GAAG,UAAU,CAAC,IAAI,CAAC,CAAC;QACjC,MAAM,eAAe,GAAiC,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,KAAK,CAAC,GAAG,CACvF,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,CAAC,CAAC,EAAE;YACjD,0EAA0E;YAC1E,6FAA6F;YAC7F,2HAA2H;YAC3H,8GAA8G;YAC9G,OAAO,CAAC,CAAC,CAAC,IAAI,KAAK,aAAa,CAAC,QAAQ;mBACrC,CAAC,CAAC,CAAC,IAAI,KAAK,aAAa,CAAC,YAAY,IAAI,CAAC,CAAC,QAAQ,KAAK,SAAS,CAAC,CAAC;mBACpE,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,OAAO,CAAC;QACtC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;YACN,WAAW,GAAG,IAAI,CAAC;YACnB,OAAO,CAAC,CAAC,CAAC,IAAI,KAAK,aAAa,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;QAClF,CAAC,CAAC,CACF,CAAC,CAAC;QAEH,KAAK,CAAC,GAAG,CACR,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,KAAK,aAAa,CAAC,gBAAgB,CAAC,CAAC,IAAI,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,OAAO,CACxK,CAAC,GAAG,EAAE;YACN,qFAAqF;YACrF,sGAAsG;YACtG,WAAW,GAAG,IAAI,CAAC;QACpB,CAAC,CAAC,CACF,CAAC;QAEF,MAAM,eAAe,GAAG,KAAK,CAAC,GAAG,CAAC,IAAI,OAAO,EAAQ,CAAC,CAAC;QACvD,KAAK,CAAC,GAAG,CAAC,UAAU,CACnB,IAAI,CAAC,WAAW,CAAC,gBAAgB,EACjC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,aAAa,CAAC,aAAa,CAAC,IAAI,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,OAAO,CACjF,CAAC,GAAG,EAAE,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QAEjC,MAAM,eAAe,GAAiC,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,EAAgC,EAAE;YAC1I,IAAI,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,OAAO,CAAC,EAAE,CAAC;gBAChD,eAAe,CAAC,IAAI,EAAE,CAAC;gBACvB,2DAA2D;gBAC3D,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;gBACxD,IAAI,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,OAAO,CAAC,EAAE,CAAC;oBACpD,WAAW,GAAG,IAAI,CAAC;oBACnB,OAAO,eAAe,CAAC;gBACxB,CAAC;gBACD,0DAA0D;gBAC1D,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YAC9B,CAAC;YAED,MAAM,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAC/C,IAAI,IAAI,CAAC,uBAAuB,CAAC,YAAY,EAAE,CAAC;gBAC/C,OAAO,eAAe,CAAC;YACxB,CAAC;YAED,OAAO,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC;QACzC,CAAC,CAAC,CAAC;QAEH,MAAM,MAAM,GAAG,IAAI,OAAO,CAA4B,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YACzE,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;gBAC7B,WAAW,GAAG,IAAI,CAAC;gBACnB,OAAO,CAAC,MAAM,CAAC,CAAC;YACjB,CAAC,EAAE,KAAK,CAAC,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;YAE3B,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,uBAAuB,CAAC,GAAG,EAAE;gBAC5C,OAAO,CAAC,EAAE,QAAQ,EAAE,SAAS,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;gBAClD,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;YACnD,CAAC,CAAC,CAAC,CAAC;YAEJ,uDAAuD;YACvD,KAAK,CAAC,GAAG,CAAC,eAAe,CAAC,KAAK,CAAC,GAAG,EAAE;gBACpC,MAAM,QAAQ,GAAG,IAAI,CAAC,uBAAuB,CAAC,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;gBAE1E,6FAA6F;gBAC7F,KAAK,CAAC,GAAG,CAAC,iBAAiB,CAAC,GAAG,EAAE;oBAChC,IAAI,CAAC,WAAW,EAAE,CAAC;wBAClB,MAAM,YAAY,GAAG,GAAG,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAAmI,EAAE,OAAO,MAAM,KAAK,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC;wBACvP,MAAM,CAAC,EAAE,QAAQ,EAAE,QAAQ,CAAC,KAAK,EAAE,OAAO,EAAE,YAAY,EAAE,CAAC,CAAC;oBAC7D,CAAC;gBACF,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC;gBAEd,MAAM,wBAAwB,GAAG,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAsB,OAAO,CAAC,CAAC,wBAAwB,CAAC;gBAC3H,IAAI,CAAC,wBAAwB,EAAE,CAAC;oBAC/B,2DAA2D;oBAC3D,KAAK,CAAC,GAAG,CAAC,iBAAiB,CAAC,GAAG,EAAE;wBAChC,MAAM,OAAO,GAAG,GAAG,CAAC,QAAQ,CAAC,IAAa,EAAE,IAAoC,EAAE,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;wBACrH,MAAM,OAAO,GAAG,CAAC,0BAA0B,EAAE,WAAW,CAAC,CAAC;wBAC1D,MAAM,YAAY,GAAG,IAAI,YAAY,UAAU,IAAI,IAAI,YAAY,eAAe,CAAC;wBACnF,IAAI,YAAY,EAAE,CAAC;4BAClB,OAAO,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC,QAAQ,CAAC,IAAe,EAAE,IAAgB,CAAC,CAAC,CAAC;wBACvE,CAAC;wBAED,IAAI,CAAC,eAAe,CAAC,YAAY,CAChC,EAAE,QAAQ,wCAA+B,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE,EACpE,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,EAC7B,CAAC,MAAM,EAAE,EAAE;4BACV,IAAI,MAAM,KAAK,SAAS,EAAE,CAAC;gCAC1B,sBAAsB;4BACvB,CAAC;iCAAM,IAAI,MAAM,KAAK,CAAC,EAAE,CAAC,CAAC,eAAe;gCACzC,OAAO,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,CAAC,CAAC;4BAC1B,CAAC;iCAAM,CAAC,CAAC,qBAAqB;gCAC7B,OAAO,CAAC,EAAE,QAAQ,EAAE,SAAS,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;gCAClD,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;gCAClD,IAAI,YAAY,IAAI,MAAM,KAAK,CAAC,EAAE,CAAC,CAAC,YAAY;oCAC/C,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,IAAkB,CAAC,CAAC;gCACjD,CAAC;4BACF,CAAC;wBACF,CAAC,CACD,CAAC;oBACH,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC;gBACb,CAAC;YACF,CAAC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,OAAO,MAAM,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC,CAAC;IAC9C,CAAC;CACD,CAAA;AAxRY,eAAe;IAKzB,WAAA,YAAY,CAAA;IACZ,WAAA,cAAc,CAAA;IACd,WAAA,qBAAqB,CAAA;IACrB,WAAA,aAAa,CAAA;IACb,WAAA,cAAc,CAAA;IACd,WAAA,eAAe,CAAA;IACf,WAAA,eAAe,CAAA;IACf,WAAA,gBAAgB,CAAA;GAZN,eAAe,CAwR3B","file":"debugTaskRunner.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { toAction } from '../../../../base/common/actions.js';\nimport { disposableTimeout } from '../../../../base/common/async.js';\nimport { CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { createErrorWithActions } from '../../../../base/common/errorMessage.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { DisposableStore, IDisposable } from '../../../../base/common/lifecycle.js';\nimport severity from '../../../../base/common/severity.js';\nimport * as nls from '../../../../nls.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IDialogService } from '../../../../platform/dialogs/common/dialogs.js';\nimport { IMarkerService, MarkerSeverity } from '../../../../platform/markers/common/markers.js';\nimport { IProgressService, ProgressLocation } from '../../../../platform/progress/common/progress.js';\nimport { IStorageService, StorageScope, StorageTarget } from '../../../../platform/storage/common/storage.js';\nimport { IWorkspace, IWorkspaceFolder } from '../../../../platform/workspace/common/workspace.js';\nimport { DEBUG_CONFIGURE_COMMAND_ID, DEBUG_CONFIGURE_LABEL } from './debugCommands.js';\nimport { IDebugConfiguration } from '../common/debug.js';\nimport { Markers } from '../../markers/common/markers.js';\nimport { ConfiguringTask, CustomTask, ITaskEvent, ITaskIdentifier, Task, TaskEventKind } from '../../tasks/common/tasks.js';\nimport { ITaskService, ITaskSummary } from '../../tasks/common/taskService.js';\nimport { IViewsService } from '../../../services/views/common/viewsService.js';\n\nconst onceFilter = (event: Event<ITaskEvent>, filter: (e: ITaskEvent) => boolean) => Event.once(Event.filter(event, filter));\n\nexport const enum TaskRunResult {\n\tFailure,\n\tSuccess\n}\n\nconst DEBUG_TASK_ERROR_CHOICE_KEY = 'debug.taskerrorchoice';\nconst ABORT_LABEL = nls.localize('abort', \"Abort\");\nconst DEBUG_ANYWAY_LABEL = nls.localize({ key: 'debugAnyway', comment: ['&& denotes a mnemonic'] }, \"&&Debug Anyway\");\nconst DEBUG_ANYWAY_LABEL_NO_MEMO = nls.localize('debugAnywayNoMemo', \"Debug Anyway\");\n\ninterface IRunnerTaskSummary extends ITaskSummary {\n\tcancelled?: boolean;\n}\n\nexport class DebugTaskRunner implements IDisposable {\n\n\tprivate globalCancellation = new CancellationTokenSource();\n\n\tconstructor(\n\t\t@ITaskService private readonly taskService: ITaskService,\n\t\t@IMarkerService private readonly markerService: IMarkerService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@IViewsService private readonly viewsService: IViewsService,\n\t\t@IDialogService private readonly dialogService: IDialogService,\n\t\t@IStorageService private readonly storageService: IStorageService,\n\t\t@ICommandService private readonly commandService: ICommandService,\n\t\t@IProgressService private readonly progressService: IProgressService,\n\t) { }\n\n\tcancel(): void {\n\t\tthis.globalCancellation.dispose(true);\n\t\tthis.globalCancellation = new CancellationTokenSource();\n\t}\n\n\tpublic dispose(): void {\n\t\tthis.globalCancellation.dispose(true);\n\t}\n\n\tasync runTaskAndCheckErrors(\n\t\troot: IWorkspaceFolder | IWorkspace | undefined,\n\t\ttaskId: string | ITaskIdentifier | undefined,\n\t): Promise<TaskRunResult> {\n\t\ttry {\n\t\t\tconst taskSummary = await this.runTask(root, taskId, this.globalCancellation.token);\n\t\t\tif (taskSummary && (taskSummary.exitCode === undefined || taskSummary.cancelled)) {\n\t\t\t\t// User canceled, either debugging, or the prelaunch task\n\t\t\t\treturn TaskRunResult.Failure;\n\t\t\t}\n\n\t\t\tconst errorCount = taskId ? this.markerService.read({ severities: MarkerSeverity.Error, take: 2 }).length : 0;\n\t\t\tconst successExitCode = taskSummary && taskSummary.exitCode === 0;\n\t\t\tconst failureExitCode = taskSummary && taskSummary.exitCode !== 0;\n\t\t\tconst onTaskErrors = this.configurationService.getValue<IDebugConfiguration>('debug').onTaskErrors;\n\t\t\tif (successExitCode || onTaskErrors === 'debugAnyway' || (errorCount === 0 && !failureExitCode)) {\n\t\t\t\treturn TaskRunResult.Success;\n\t\t\t}\n\t\t\tif (onTaskErrors === 'showErrors') {\n\t\t\t\tawait this.viewsService.openView(Markers.MARKERS_VIEW_ID, true);\n\t\t\t\treturn Promise.resolve(TaskRunResult.Failure);\n\t\t\t}\n\t\t\tif (onTaskErrors === 'abort') {\n\t\t\t\treturn Promise.resolve(TaskRunResult.Failure);\n\t\t\t}\n\n\t\t\tconst taskLabel = typeof taskId === 'string' ? taskId : taskId ? taskId.name : '';\n\t\t\tconst message = errorCount > 1\n\t\t\t\t? nls.localize('preLaunchTaskErrors', \"Errors exist after running preLaunchTask '{0}'.\", taskLabel)\n\t\t\t\t: errorCount === 1\n\t\t\t\t\t? nls.localize('preLaunchTaskError', \"Error exists after running preLaunchTask '{0}'.\", taskLabel)\n\t\t\t\t\t: taskSummary && typeof taskSummary.exitCode === 'number'\n\t\t\t\t\t\t? nls.localize('preLaunchTaskExitCode', \"The preLaunchTask '{0}' terminated with exit code {1}.\", taskLabel, taskSummary.exitCode)\n\t\t\t\t\t\t: nls.localize('preLaunchTaskTerminated', \"The preLaunchTask '{0}' terminated.\", taskLabel);\n\n\t\t\tenum DebugChoice {\n\t\t\t\tDebugAnyway = 1,\n\t\t\t\tShowErrors = 2,\n\t\t\t\tCancel = 0\n\t\t\t}\n\t\t\tconst { result, checkboxChecked } = await this.dialogService.prompt<DebugChoice>({\n\t\t\t\ttype: severity.Warning,\n\t\t\t\tmessage,\n\t\t\t\tbuttons: [\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: DEBUG_ANYWAY_LABEL,\n\t\t\t\t\t\trun: () => DebugChoice.DebugAnyway\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: nls.localize({ key: 'showErrors', comment: ['&& denotes a mnemonic'] }, \"&&Show Errors\"),\n\t\t\t\t\t\trun: () => DebugChoice.ShowErrors\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tcancelButton: {\n\t\t\t\t\tlabel: ABORT_LABEL,\n\t\t\t\t\trun: () => DebugChoice.Cancel\n\t\t\t\t},\n\t\t\t\tcheckbox: {\n\t\t\t\t\tlabel: nls.localize('remember', \"Remember my choice in user settings\"),\n\t\t\t\t}\n\t\t\t});\n\n\n\t\t\tconst debugAnyway = result === DebugChoice.DebugAnyway;\n\t\t\tconst abort = result === DebugChoice.Cancel;\n\t\t\tif (checkboxChecked) {\n\t\t\t\tthis.configurationService.updateValue('debug.onTaskErrors', result === DebugChoice.DebugAnyway ? 'debugAnyway' : abort ? 'abort' : 'showErrors');\n\t\t\t}\n\n\t\t\tif (abort) {\n\t\t\t\treturn Promise.resolve(TaskRunResult.Failure);\n\t\t\t}\n\t\t\tif (debugAnyway) {\n\t\t\t\treturn TaskRunResult.Success;\n\t\t\t}\n\n\t\t\tawait this.viewsService.openView(Markers.MARKERS_VIEW_ID, true);\n\t\t\treturn Promise.resolve(TaskRunResult.Failure);\n\t\t} catch (err) {\n\t\t\tconst taskConfigureAction = this.taskService.configureAction();\n\t\t\tconst choiceMap: { [key: string]: number } = JSON.parse(this.storageService.get(DEBUG_TASK_ERROR_CHOICE_KEY, StorageScope.WORKSPACE, '{}'));\n\n\t\t\tlet choice = -1;\n\t\t\tenum DebugChoice {\n\t\t\t\tDebugAnyway = 0,\n\t\t\t\tConfigureTask = 1,\n\t\t\t\tCancel = 2\n\t\t\t}\n\t\t\tif (choiceMap[err.message] !== undefined) {\n\t\t\t\tchoice = choiceMap[err.message];\n\t\t\t} else {\n\t\t\t\tconst { result, checkboxChecked } = await this.dialogService.prompt<DebugChoice>({\n\t\t\t\t\ttype: severity.Error,\n\t\t\t\t\tmessage: err.message,\n\t\t\t\t\tbuttons: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: nls.localize({ key: 'debugAnyway', comment: ['&& denotes a mnemonic'] }, \"&&Debug Anyway\"),\n\t\t\t\t\t\t\trun: () => DebugChoice.DebugAnyway\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: taskConfigureAction.label,\n\t\t\t\t\t\t\trun: () => DebugChoice.ConfigureTask\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\tcancelButton: {\n\t\t\t\t\t\trun: () => DebugChoice.Cancel\n\t\t\t\t\t},\n\t\t\t\t\tcheckbox: {\n\t\t\t\t\t\tlabel: nls.localize('rememberTask', \"Remember my choice for this task\")\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tchoice = result;\n\t\t\t\tif (checkboxChecked) {\n\t\t\t\t\tchoiceMap[err.message] = choice;\n\t\t\t\t\tthis.storageService.store(DEBUG_TASK_ERROR_CHOICE_KEY, JSON.stringify(choiceMap), StorageScope.WORKSPACE, StorageTarget.MACHINE);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (choice === DebugChoice.ConfigureTask) {\n\t\t\t\tawait taskConfigureAction.run();\n\t\t\t}\n\n\t\t\treturn choice === DebugChoice.DebugAnyway ? TaskRunResult.Success : TaskRunResult.Failure;\n\t\t}\n\t}\n\n\tasync runTask(root: IWorkspace | IWorkspaceFolder | undefined, taskId: string | ITaskIdentifier | undefined, token = this.globalCancellation.token): Promise<IRunnerTaskSummary | null> {\n\t\tif (!taskId) {\n\t\t\treturn Promise.resolve(null);\n\t\t}\n\t\tif (!root) {\n\t\t\treturn Promise.reject(new Error(nls.localize('invalidTaskReference', \"Task '{0}' can not be referenced from a launch configuration that is in a different workspace folder.\", typeof taskId === 'string' ? taskId : taskId.type)));\n\t\t}\n\t\t// run a task before starting a debug session\n\t\tconst task = await this.taskService.getTask(root, taskId);\n\t\tif (!task) {\n\t\t\tconst errorMessage = typeof taskId === 'string'\n\t\t\t\t? nls.localize('DebugTaskNotFoundWithTaskId', \"Could not find the task '{0}'.\", taskId)\n\t\t\t\t: nls.localize('DebugTaskNotFound', \"Could not find the specified task.\");\n\t\t\treturn Promise.reject(createErrorWithActions(errorMessage, [toAction({ id: DEBUG_CONFIGURE_COMMAND_ID, label: DEBUG_CONFIGURE_LABEL, enabled: true, run: () => this.commandService.executeCommand(DEBUG_CONFIGURE_COMMAND_ID) })]));\n\t\t}\n\n\t\t// If a task is missing the problem matcher the promise will never complete, so we need to have a workaround #35340\n\t\tlet taskStarted = false;\n\t\tconst store = new DisposableStore();\n\t\tconst getTaskKey = (t: Task) => t.getKey() ?? t.getMapKey();\n\t\tconst taskKey = getTaskKey(task);\n\t\tconst inactivePromise: Promise<ITaskSummary | null> = new Promise((resolve) => store.add(\n\t\t\tonceFilter(this.taskService.onDidStateChange, e => {\n\t\t\t\t// When a task isBackground it will go inactive when it is safe to launch.\n\t\t\t\t// But when a background task is terminated by the user, it will also fire an inactive event.\n\t\t\t\t// This means that we will not get to see the real exit code from running the task (undefined when terminated by the user).\n\t\t\t\t// Catch the ProcessEnded event here, which occurs before inactive, and capture the exit code to prevent this.\n\t\t\t\treturn (e.kind === TaskEventKind.Inactive\n\t\t\t\t\t|| (e.kind === TaskEventKind.ProcessEnded && e.exitCode === undefined))\n\t\t\t\t\t&& getTaskKey(e.__task) === taskKey;\n\t\t\t})(e => {\n\t\t\t\ttaskStarted = true;\n\t\t\t\tresolve(e.kind === TaskEventKind.ProcessEnded ? { exitCode: e.exitCode } : null);\n\t\t\t}),\n\t\t));\n\n\t\tstore.add(\n\t\t\tonceFilter(this.taskService.onDidStateChange, e => ((e.kind === TaskEventKind.Active) || (e.kind === TaskEventKind.DependsOnStarted)) && getTaskKey(e.__task) === taskKey\n\t\t\t)(() => {\n\t\t\t\t// Task is active, so everything seems to be fine, no need to prompt after 10 seconds\n\t\t\t\t// Use case being a slow running task should not be prompted even though it takes more than 10 seconds\n\t\t\t\ttaskStarted = true;\n\t\t\t})\n\t\t);\n\n\t\tconst didAcquireInput = store.add(new Emitter<void>());\n\t\tstore.add(onceFilter(\n\t\t\tthis.taskService.onDidStateChange,\n\t\t\te => (e.kind === TaskEventKind.AcquiredInput) && getTaskKey(e.__task) === taskKey\n\t\t)(() => didAcquireInput.fire()));\n\n\t\tconst taskDonePromise: Promise<ITaskSummary | null> = this.taskService.getActiveTasks().then(async (tasks): Promise<ITaskSummary | null> => {\n\t\t\tif (tasks.find(t => getTaskKey(t) === taskKey)) {\n\t\t\t\tdidAcquireInput.fire();\n\t\t\t\t// Check that the task isn't busy and if it is, wait for it\n\t\t\t\tconst busyTasks = await this.taskService.getBusyTasks();\n\t\t\t\tif (busyTasks.find(t => getTaskKey(t) === taskKey)) {\n\t\t\t\t\ttaskStarted = true;\n\t\t\t\t\treturn inactivePromise;\n\t\t\t\t}\n\t\t\t\t// task is already running and isn't busy - nothing to do.\n\t\t\t\treturn Promise.resolve(null);\n\t\t\t}\n\n\t\t\tconst taskPromise = this.taskService.run(task);\n\t\t\tif (task.configurationProperties.isBackground) {\n\t\t\t\treturn inactivePromise;\n\t\t\t}\n\n\t\t\treturn taskPromise.then(x => x ?? null);\n\t\t});\n\n\t\tconst result = new Promise<IRunnerTaskSummary | null>((resolve, reject) => {\n\t\t\ttaskDonePromise.then(result => {\n\t\t\t\ttaskStarted = true;\n\t\t\t\tresolve(result);\n\t\t\t}, error => reject(error));\n\n\t\t\tstore.add(token.onCancellationRequested(() => {\n\t\t\t\tresolve({ exitCode: undefined, cancelled: true });\n\t\t\t\tthis.taskService.terminate(task).catch(() => { });\n\t\t\t}));\n\n\t\t\t// Start the timeouts once a terminal has been acquired\n\t\t\tstore.add(didAcquireInput.event(() => {\n\t\t\t\tconst waitTime = task.configurationProperties.isBackground ? 5000 : 10000;\n\n\t\t\t\t// Error shown if there's a background task with no problem matcher that doesn't exit quickly\n\t\t\t\tstore.add(disposableTimeout(() => {\n\t\t\t\t\tif (!taskStarted) {\n\t\t\t\t\t\tconst errorMessage = nls.localize('taskNotTracked', \"The task '{0}' has not exited and doesn't have a 'problemMatcher' defined. Make sure to define a problem matcher for watch tasks.\", typeof taskId === 'string' ? taskId : JSON.stringify(taskId));\n\t\t\t\t\t\treject({ severity: severity.Error, message: errorMessage });\n\t\t\t\t\t}\n\t\t\t\t}, waitTime));\n\n\t\t\t\tconst hideSlowPreLaunchWarning = this.configurationService.getValue<IDebugConfiguration>('debug').hideSlowPreLaunchWarning;\n\t\t\t\tif (!hideSlowPreLaunchWarning) {\n\t\t\t\t\t// Notification shown on any task taking a while to resolve\n\t\t\t\t\tstore.add(disposableTimeout(() => {\n\t\t\t\t\t\tconst message = nls.localize('runningTask', \"Waiting for preLaunchTask '{0}'...\", task.configurationProperties.name);\n\t\t\t\t\t\tconst buttons = [DEBUG_ANYWAY_LABEL_NO_MEMO, ABORT_LABEL];\n\t\t\t\t\t\tconst canConfigure = task instanceof CustomTask || task instanceof ConfiguringTask;\n\t\t\t\t\t\tif (canConfigure) {\n\t\t\t\t\t\t\tbuttons.splice(1, 0, nls.localize('configureTask', \"Configure Task\"));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.progressService.withProgress(\n\t\t\t\t\t\t\t{ location: ProgressLocation.Notification, title: message, buttons },\n\t\t\t\t\t\t\t() => result.catch(() => { }),\n\t\t\t\t\t\t\t(choice) => {\n\t\t\t\t\t\t\t\tif (choice === undefined) {\n\t\t\t\t\t\t\t\t\t// no-op, keep waiting\n\t\t\t\t\t\t\t\t} else if (choice === 0) { // debug anyway\n\t\t\t\t\t\t\t\t\tresolve({ exitCode: 0 });\n\t\t\t\t\t\t\t\t} else { // abort or configure\n\t\t\t\t\t\t\t\t\tresolve({ exitCode: undefined, cancelled: true });\n\t\t\t\t\t\t\t\t\tthis.taskService.terminate(task).catch(() => { });\n\t\t\t\t\t\t\t\t\tif (canConfigure && choice === 1) { // configure\n\t\t\t\t\t\t\t\t\t\tthis.taskService.openConfig(task as CustomTask);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}, 10_000));\n\t\t\t\t}\n\t\t\t}));\n\t\t});\n\n\t\treturn result.finally(() => store.dispose());\n\t}\n}\n"]}