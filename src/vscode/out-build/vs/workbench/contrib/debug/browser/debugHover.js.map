{"version":3,"sources":["vs/workbench/contrib/debug/browser/debugHover.ts"],"names":[],"mappings":"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","file":"debugHover.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../base/browser/dom.js';\nimport { IKeyboardEvent } from '../../../../base/browser/keyboardEvent.js';\nimport { IMouseEvent } from '../../../../base/browser/mouseEvent.js';\nimport { IListVirtualDelegate } from '../../../../base/browser/ui/list/list.js';\nimport { IListAccessibilityProvider } from '../../../../base/browser/ui/list/listWidget.js';\nimport { DomScrollableElement } from '../../../../base/browser/ui/scrollbar/scrollableElement.js';\nimport { AsyncDataTree } from '../../../../base/browser/ui/tree/asyncDataTree.js';\nimport { ITreeContextMenuEvent } from '../../../../base/browser/ui/tree/tree.js';\nimport { coalesce } from '../../../../base/common/arrays.js';\nimport { CancellationToken, CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { KeyCode } from '../../../../base/common/keyCodes.js';\nimport * as lifecycle from '../../../../base/common/lifecycle.js';\nimport { clamp } from '../../../../base/common/numbers.js';\nimport { isMacintosh } from '../../../../base/common/platform.js';\nimport { ScrollbarVisibility } from '../../../../base/common/scrollable.js';\nimport { ContentWidgetPositionPreference, ICodeEditor, IContentWidget, IContentWidgetPosition } from '../../../../editor/browser/editorBrowser.js';\nimport { ConfigurationChangedEvent, EditorOption } from '../../../../editor/common/config/editorOptions.js';\nimport { IDimension } from '../../../../editor/common/core/2d/dimension.js';\nimport { Position } from '../../../../editor/common/core/position.js';\nimport { Range } from '../../../../editor/common/core/range.js';\nimport { IEditorDecorationsCollection } from '../../../../editor/common/editorCommon.js';\nimport { ModelDecorationOptions } from '../../../../editor/common/model/textModel.js';\nimport { ILanguageFeaturesService } from '../../../../editor/common/services/languageFeatures.js';\nimport * as nls from '../../../../nls.js';\nimport { IMenuService, MenuId } from '../../../../platform/actions/common/actions.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { WorkbenchAsyncDataTree } from '../../../../platform/list/browser/listService.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\nimport { asCssVariable, editorHoverBackground, editorHoverBorder, editorHoverForeground } from '../../../../platform/theme/common/colorRegistry.js';\nimport { IDebugService, IDebugSession, IExpression, IExpressionContainer, IStackFrame } from '../common/debug.js';\nimport { Expression, Variable, VisualizedExpression } from '../common/debugModel.js';\nimport { getEvaluatableExpressionAtPosition } from '../common/debugUtils.js';\nimport { AbstractExpressionDataSource } from './baseDebugView.js';\nimport { DebugExpressionRenderer } from './debugExpressionRenderer.js';\nimport { VariablesRenderer, VisualizedVariableRenderer, openContextMenuForVariableTreeElement } from './variablesView.js';\n\nconst $ = dom.$;\n\nexport const enum ShowDebugHoverResult {\n\tNOT_CHANGED,\n\tNOT_AVAILABLE,\n\tCANCELLED,\n}\n\nasync function doFindExpression(container: IExpressionContainer, namesToFind: string[]): Promise<IExpression | null> {\n\tif (!container) {\n\t\treturn null;\n\t}\n\n\tconst children = await container.getChildren();\n\t// look for our variable in the list. First find the parents of the hovered variable if there are any.\n\tconst filtered = children.filter(v => namesToFind[0] === v.name);\n\tif (filtered.length !== 1) {\n\t\treturn null;\n\t}\n\n\tif (namesToFind.length === 1) {\n\t\treturn filtered[0];\n\t} else {\n\t\treturn doFindExpression(filtered[0], namesToFind.slice(1));\n\t}\n}\n\nexport async function findExpressionInStackFrame(stackFrame: IStackFrame, namesToFind: string[]): Promise<IExpression | undefined> {\n\tconst scopes = await stackFrame.getScopes();\n\tconst nonExpensive = scopes.filter(s => !s.expensive);\n\tconst expressions = coalesce(await Promise.all(nonExpensive.map(scope => doFindExpression(scope, namesToFind))));\n\n\t// only show if all expressions found have the same value\n\treturn expressions.length > 0 && expressions.every(e => e.value === expressions[0].value) ? expressions[0] : undefined;\n}\n\nexport class DebugHoverWidget implements IContentWidget {\n\n\tstatic readonly ID = 'debug.hoverWidget';\n\t// editor.IContentWidget.allowEditorOverflow\n\treadonly allowEditorOverflow = true;\n\n\t// todo@connor4312: move more properties that are only valid while a hover\n\t// is happening into `_isVisible`\n\tprivate _isVisible?: {\n\t\tstore: lifecycle.DisposableStore;\n\t};\n\tprivate safeTriangle?: dom.SafeTriangle;\n\tprivate showCancellationSource?: CancellationTokenSource;\n\tprivate domNode!: HTMLElement;\n\tprivate tree!: AsyncDataTree<IExpression, IExpression, any>;\n\tprivate showAtPosition: Position | null;\n\tprivate positionPreference: ContentWidgetPositionPreference[];\n\tprivate readonly highlightDecorations: IEditorDecorationsCollection;\n\tprivate complexValueContainer!: HTMLElement;\n\tprivate complexValueTitle!: HTMLElement;\n\tprivate valueContainer!: HTMLElement;\n\tprivate treeContainer!: HTMLElement;\n\tprivate toDispose: lifecycle.IDisposable[];\n\tprivate scrollbar!: DomScrollableElement;\n\tprivate debugHoverComputer: DebugHoverComputer;\n\tprivate expressionRenderer: DebugExpressionRenderer;\n\n\tprivate expressionToRender: IExpression | undefined;\n\tprivate isUpdatingTree = false;\n\n\tpublic get isShowingComplexValue() {\n\t\treturn this.complexValueContainer?.hidden === false;\n\t}\n\n\tconstructor(\n\t\tprivate editor: ICodeEditor,\n\t\t@IDebugService private readonly debugService: IDebugService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IMenuService private readonly menuService: IMenuService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IContextMenuService private readonly contextMenuService: IContextMenuService,\n\t) {\n\t\tthis.highlightDecorations = this.editor.createDecorationsCollection();\n\t\tthis.toDispose = [];\n\n\t\tthis.showAtPosition = null;\n\t\tthis.positionPreference = [ContentWidgetPositionPreference.ABOVE, ContentWidgetPositionPreference.BELOW];\n\t\tthis.debugHoverComputer = this.instantiationService.createInstance(DebugHoverComputer, this.editor);\n\t\tthis.expressionRenderer = this.instantiationService.createInstance(DebugExpressionRenderer);\n\t}\n\n\tprivate create(): void {\n\t\tthis.domNode = $('.debug-hover-widget');\n\t\tthis.complexValueContainer = dom.append(this.domNode, $('.complex-value'));\n\t\tthis.complexValueTitle = dom.append(this.complexValueContainer, $('.title'));\n\t\tthis.treeContainer = dom.append(this.complexValueContainer, $('.debug-hover-tree'));\n\t\tthis.treeContainer.setAttribute('role', 'tree');\n\t\tconst tip = dom.append(this.complexValueContainer, $('.tip'));\n\t\ttip.textContent = nls.localize({ key: 'quickTip', comment: ['\"switch to editor language hover\" means to show the programming language hover widget instead of the debug hover'] }, 'Hold {0} key to switch to editor language hover', isMacintosh ? 'Option' : 'Alt');\n\t\tconst dataSource = this.instantiationService.createInstance(DebugHoverDataSource);\n\t\tthis.tree = this.instantiationService.createInstance(WorkbenchAsyncDataTree<IExpression, IExpression, any>, 'DebugHover', this.treeContainer, new DebugHoverDelegate(), [\n\t\t\tthis.instantiationService.createInstance(VariablesRenderer, this.expressionRenderer),\n\t\t\tthis.instantiationService.createInstance(VisualizedVariableRenderer, this.expressionRenderer),\n\t\t],\n\t\t\tdataSource, {\n\t\t\taccessibilityProvider: new DebugHoverAccessibilityProvider(),\n\t\t\tmouseSupport: false,\n\t\t\thorizontalScrolling: true,\n\t\t\tuseShadows: false,\n\t\t\tkeyboardNavigationLabelProvider: { getKeyboardNavigationLabel: (e: IExpression) => e.name },\n\t\t\toverrideStyles: {\n\t\t\t\tlistBackground: editorHoverBackground\n\t\t\t}\n\t\t});\n\n\t\tthis.toDispose.push(VisualizedVariableRenderer.rendererOnVisualizationRange(this.debugService.getViewModel(), this.tree));\n\n\t\tthis.valueContainer = $('.value');\n\t\tthis.valueContainer.tabIndex = 0;\n\t\tthis.valueContainer.setAttribute('role', 'tooltip');\n\t\tthis.scrollbar = new DomScrollableElement(this.valueContainer, { horizontal: ScrollbarVisibility.Hidden });\n\t\tthis.domNode.appendChild(this.scrollbar.getDomNode());\n\t\tthis.toDispose.push(this.scrollbar);\n\n\t\tthis.editor.applyFontInfo(this.domNode);\n\t\tthis.domNode.style.backgroundColor = asCssVariable(editorHoverBackground);\n\t\tthis.domNode.style.border = `1px solid ${asCssVariable(editorHoverBorder)}`;\n\t\tthis.domNode.style.color = asCssVariable(editorHoverForeground);\n\n\t\tthis.toDispose.push(this.tree.onContextMenu(async e => await this.onContextMenu(e)));\n\n\t\tthis.toDispose.push(this.tree.onDidChangeContentHeight(() => {\n\t\t\tif (!this.isUpdatingTree) {\n\t\t\t\t// Don't do a layout in the middle of the async setInput\n\t\t\t\tthis.layoutTreeAndContainer();\n\t\t\t}\n\t\t}));\n\t\tthis.toDispose.push(this.tree.onDidChangeContentWidth(() => {\n\t\t\tif (!this.isUpdatingTree) {\n\t\t\t\t// Don't do a layout in the middle of the async setInput\n\t\t\t\tthis.layoutTreeAndContainer();\n\t\t\t}\n\t\t}));\n\n\t\tthis.registerListeners();\n\t\tthis.editor.addContentWidget(this);\n\t}\n\n\tprivate async onContextMenu(e: ITreeContextMenuEvent<IExpression>): Promise<void> {\n\t\tconst variable = e.element;\n\t\tif (!(variable instanceof Variable) || !variable.value) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn openContextMenuForVariableTreeElement(this.contextKeyService, this.menuService, this.contextMenuService, MenuId.DebugHoverContext, e);\n\t}\n\n\tprivate registerListeners(): void {\n\t\tthis.toDispose.push(dom.addStandardDisposableListener(this.domNode, 'keydown', (e: IKeyboardEvent) => {\n\t\t\tif (e.equals(KeyCode.Escape)) {\n\t\t\t\tthis.hide();\n\t\t\t}\n\t\t}));\n\t\tthis.toDispose.push(this.editor.onDidChangeConfiguration((e: ConfigurationChangedEvent) => {\n\t\t\tif (e.hasChanged(EditorOption.fontInfo)) {\n\t\t\t\tthis.editor.applyFontInfo(this.domNode);\n\t\t\t}\n\t\t}));\n\n\t\tthis.toDispose.push(this.debugService.getViewModel().onDidEvaluateLazyExpression(async e => {\n\t\t\tif (e instanceof Variable && this.tree.hasNode(e)) {\n\t\t\t\tawait this.tree.updateChildren(e, false, true);\n\t\t\t\tawait this.tree.expand(e);\n\t\t\t}\n\t\t}));\n\t}\n\n\tisHovered(): boolean {\n\t\treturn !!this.domNode?.matches(':hover');\n\t}\n\n\tisVisible(): boolean {\n\t\treturn !!this._isVisible;\n\t}\n\n\twillBeVisible(): boolean {\n\t\treturn !!this.showCancellationSource;\n\t}\n\n\tgetId(): string {\n\t\treturn DebugHoverWidget.ID;\n\t}\n\n\tgetDomNode(): HTMLElement {\n\t\treturn this.domNode;\n\t}\n\n\t/**\n\t * Gets whether the given coordinates are in the safe triangle formed from\n\t * the position at which the hover was initiated.\n\t */\n\tisInSafeTriangle(x: number, y: number) {\n\t\treturn this._isVisible && !!this.safeTriangle?.contains(x, y);\n\t}\n\n\tasync showAt(position: Position, focus: boolean, mouseEvent?: IMouseEvent): Promise<void | ShowDebugHoverResult> {\n\t\tthis.showCancellationSource?.dispose(true);\n\t\tconst cancellationSource = this.showCancellationSource = new CancellationTokenSource();\n\t\tconst session = this.debugService.getViewModel().focusedSession;\n\n\t\tif (!session || !this.editor.hasModel()) {\n\t\t\tthis.hide();\n\t\t\treturn ShowDebugHoverResult.NOT_AVAILABLE;\n\t\t}\n\n\t\tconst result = await this.debugHoverComputer.compute(position, cancellationSource.token);\n\t\tif (cancellationSource.token.isCancellationRequested) {\n\t\t\tthis.hide();\n\t\t\treturn ShowDebugHoverResult.CANCELLED;\n\t\t}\n\n\t\tif (!result.range) {\n\t\t\tthis.hide();\n\t\t\treturn ShowDebugHoverResult.NOT_AVAILABLE;\n\t\t}\n\n\t\tif (this.isVisible() && !result.rangeChanged) {\n\t\t\treturn ShowDebugHoverResult.NOT_CHANGED;\n\t\t}\n\n\t\tconst expression = await this.debugHoverComputer.evaluate(session);\n\t\tif (cancellationSource.token.isCancellationRequested) {\n\t\t\tthis.hide();\n\t\t\treturn ShowDebugHoverResult.CANCELLED;\n\t\t}\n\n\t\tif (!expression || (expression instanceof Expression && !expression.available)) {\n\t\t\tthis.hide();\n\t\t\treturn ShowDebugHoverResult.NOT_AVAILABLE;\n\t\t}\n\n\t\tthis.highlightDecorations.set([{\n\t\t\trange: result.range,\n\t\t\toptions: DebugHoverWidget._HOVER_HIGHLIGHT_DECORATION_OPTIONS\n\t\t}]);\n\n\t\treturn this.doShow(session, result.range.getStartPosition(), expression, focus, mouseEvent);\n\t}\n\n\tprivate static readonly _HOVER_HIGHLIGHT_DECORATION_OPTIONS = ModelDecorationOptions.register({\n\t\tdescription: 'bdebug-hover-highlight',\n\t\tclassName: 'hoverHighlight'\n\t});\n\n\tprivate async doShow(session: IDebugSession | undefined, position: Position, expression: IExpression, focus: boolean, mouseEvent: IMouseEvent | undefined): Promise<void> {\n\t\tif (!this.domNode) {\n\t\t\tthis.create();\n\t\t}\n\n\t\tthis.showAtPosition = position;\n\t\tconst store = new lifecycle.DisposableStore();\n\t\tthis._isVisible = { store };\n\n\t\tif (!expression.hasChildren) {\n\t\t\tthis.complexValueContainer.hidden = true;\n\t\t\tthis.valueContainer.hidden = false;\n\t\t\tstore.add(this.expressionRenderer.renderValue(this.valueContainer, expression, {\n\t\t\t\tshowChanged: false,\n\t\t\t\tcolorize: true,\n\t\t\t\thover: false,\n\t\t\t\tsession,\n\t\t\t}));\n\t\t\tthis.valueContainer.title = '';\n\t\t\tthis.editor.layoutContentWidget(this);\n\t\t\tthis.safeTriangle = mouseEvent && new dom.SafeTriangle(mouseEvent.posx, mouseEvent.posy, this.domNode);\n\t\t\tthis.scrollbar.scanDomNode();\n\t\t\tif (focus) {\n\t\t\t\tthis.editor.render();\n\t\t\t\tthis.valueContainer.focus();\n\t\t\t}\n\n\t\t\treturn undefined;\n\t\t}\n\n\t\tthis.valueContainer.hidden = true;\n\n\t\tthis.expressionToRender = expression;\n\t\tstore.add(this.expressionRenderer.renderValue(this.complexValueTitle, expression, { hover: false, session }));\n\t\tthis.editor.layoutContentWidget(this);\n\t\tthis.safeTriangle = mouseEvent && new dom.SafeTriangle(mouseEvent.posx, mouseEvent.posy, this.domNode);\n\t\tthis.tree.scrollTop = 0;\n\t\tthis.tree.scrollLeft = 0;\n\t\tthis.complexValueContainer.hidden = false;\n\n\t\tif (focus) {\n\t\t\tthis.editor.render();\n\t\t\tthis.tree.domFocus();\n\t\t}\n\t}\n\n\tprivate layoutTreeAndContainer(): void {\n\t\tthis.layoutTree();\n\t\tthis.editor.layoutContentWidget(this);\n\t}\n\n\tprivate layoutTree(): void {\n\t\tconst scrollBarHeight = 10;\n\t\tlet maxHeightToAvoidCursorOverlay = Infinity;\n\t\tif (this.showAtPosition) {\n\t\t\tconst editorTop = this.editor.getDomNode()?.offsetTop || 0;\n\t\t\tconst containerTop = this.treeContainer.offsetTop + editorTop;\n\t\t\tconst hoveredCharTop = this.editor.getTopForLineNumber(this.showAtPosition.lineNumber, true) - this.editor.getScrollTop();\n\t\t\tif (containerTop < hoveredCharTop) {\n\t\t\t\tmaxHeightToAvoidCursorOverlay = hoveredCharTop + editorTop - 22; // 22 is monaco top padding https://github.com/microsoft/vscode/blob/a1df2d7319382d42f66ad7f411af01e4cc49c80a/src/vs/editor/browser/viewParts/contentWidgets/contentWidgets.ts#L364\n\t\t\t}\n\t\t}\n\t\tconst treeHeight = Math.min(Math.max(266, this.editor.getLayoutInfo().height * 0.55), this.tree.contentHeight + scrollBarHeight, maxHeightToAvoidCursorOverlay);\n\n\t\tconst realTreeWidth = this.tree.contentWidth;\n\t\tconst treeWidth = clamp(realTreeWidth, 400, 550);\n\t\tthis.tree.layout(treeHeight, treeWidth);\n\t\tthis.treeContainer.style.height = `${treeHeight}px`;\n\t\tthis.scrollbar.scanDomNode();\n\t}\n\n\tbeforeRender(): IDimension | null {\n\t\t// beforeRender will be called each time the hover size changes, and the content widget is layed out again.\n\t\tif (this.expressionToRender) {\n\t\t\tconst expression = this.expressionToRender;\n\t\t\tthis.expressionToRender = undefined;\n\n\t\t\t// Do this in beforeRender once the content widget is no longer display=none so that its elements' sizes will be measured correctly.\n\t\t\tthis.isUpdatingTree = true;\n\t\t\tthis.tree.setInput(expression).finally(() => {\n\t\t\t\tthis.isUpdatingTree = false;\n\t\t\t});\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tafterRender(positionPreference: ContentWidgetPositionPreference | null) {\n\t\tif (positionPreference) {\n\t\t\t// Remember where the editor placed you to keep position stable #109226\n\t\t\tthis.positionPreference = [positionPreference];\n\t\t}\n\t}\n\n\n\thide(): void {\n\t\tif (this.showCancellationSource) {\n\t\t\tthis.showCancellationSource.dispose(true);\n\t\t\tthis.showCancellationSource = undefined;\n\t\t}\n\n\t\tif (!this._isVisible) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (dom.isAncestorOfActiveElement(this.domNode)) {\n\t\t\tthis.editor.focus();\n\t\t}\n\t\tthis._isVisible.store.dispose();\n\t\tthis._isVisible = undefined;\n\n\t\tthis.highlightDecorations.clear();\n\t\tthis.editor.layoutContentWidget(this);\n\t\tthis.positionPreference = [ContentWidgetPositionPreference.ABOVE, ContentWidgetPositionPreference.BELOW];\n\t}\n\n\tgetPosition(): IContentWidgetPosition | null {\n\t\treturn this._isVisible ? {\n\t\t\tposition: this.showAtPosition,\n\t\t\tpreference: this.positionPreference\n\t\t} : null;\n\t}\n\n\tdispose(): void {\n\t\tthis.toDispose = lifecycle.dispose(this.toDispose);\n\t}\n}\n\nclass DebugHoverAccessibilityProvider implements IListAccessibilityProvider<IExpression> {\n\n\tgetWidgetAriaLabel(): string {\n\t\treturn nls.localize('treeAriaLabel', \"Debug Hover\");\n\t}\n\n\tgetAriaLabel(element: IExpression): string {\n\t\treturn nls.localize({ key: 'variableAriaLabel', comment: ['Do not translate placeholders. Placeholders are name and value of a variable.'] }, \"{0}, value {1}, variables, debug\", element.name, element.value);\n\t}\n}\n\nclass DebugHoverDataSource extends AbstractExpressionDataSource<IExpression, IExpression> {\n\n\tpublic override hasChildren(element: IExpression): boolean {\n\t\treturn element.hasChildren;\n\t}\n\n\tprotected override doGetChildren(element: IExpression): Promise<IExpression[]> {\n\t\treturn element.getChildren();\n\t}\n}\n\nclass DebugHoverDelegate implements IListVirtualDelegate<IExpression> {\n\tgetHeight(element: IExpression): number {\n\t\treturn 18;\n\t}\n\n\tgetTemplateId(element: IExpression): string {\n\t\tif (element instanceof VisualizedExpression) {\n\t\t\treturn VisualizedVariableRenderer.ID;\n\t\t}\n\t\treturn VariablesRenderer.ID;\n\t}\n}\n\ninterface IDebugHoverComputeResult {\n\trangeChanged: boolean;\n\trange?: Range;\n}\n\nclass DebugHoverComputer {\n\tprivate _current?: {\n\t\trange: Range;\n\t\texpression: string;\n\t};\n\n\tconstructor(\n\t\tprivate editor: ICodeEditor,\n\t\t@IDebugService private readonly debugService: IDebugService,\n\t\t@ILanguageFeaturesService private readonly languageFeaturesService: ILanguageFeaturesService,\n\t\t@ILogService private readonly logService: ILogService,\n\t) { }\n\n\tpublic async compute(position: Position, token: CancellationToken): Promise<IDebugHoverComputeResult> {\n\t\tconst session = this.debugService.getViewModel().focusedSession;\n\t\tif (!session || !this.editor.hasModel()) {\n\t\t\treturn { rangeChanged: false };\n\t\t}\n\n\t\tconst model = this.editor.getModel();\n\t\tconst result = await getEvaluatableExpressionAtPosition(this.languageFeaturesService, model, position, token);\n\t\tif (!result) {\n\t\t\treturn { rangeChanged: false };\n\t\t}\n\n\t\tconst { range, matchingExpression } = result;\n\t\tconst rangeChanged = !this._current?.range.equalsRange(range);\n\t\tthis._current = { expression: matchingExpression, range: Range.lift(range) };\n\t\treturn { rangeChanged, range: this._current.range };\n\t}\n\n\tasync evaluate(session: IDebugSession): Promise<IExpression | undefined> {\n\t\tif (!this._current) {\n\t\t\tthis.logService.error('No expression to evaluate');\n\t\t\treturn;\n\t\t}\n\n\t\tconst textModel = this.editor.getModel();\n\t\tconst debugSource = textModel && session.getSourceForUri(textModel?.uri);\n\n\t\tif (session.capabilities.supportsEvaluateForHovers) {\n\t\t\tconst expression = new Expression(this._current.expression);\n\t\t\tawait expression.evaluate(session, this.debugService.getViewModel().focusedStackFrame, 'hover', undefined, debugSource ? {\n\t\t\t\tline: this._current.range.startLineNumber,\n\t\t\t\tcolumn: this._current.range.startColumn,\n\t\t\t\tsource: debugSource.raw,\n\t\t\t} : undefined);\n\t\t\treturn expression;\n\t\t} else {\n\t\t\tconst focusedStackFrame = this.debugService.getViewModel().focusedStackFrame;\n\t\t\tif (focusedStackFrame) {\n\t\t\t\treturn await findExpressionInStackFrame(\n\t\t\t\t\tfocusedStackFrame,\n\t\t\t\t\tcoalesce(this._current.expression.split('.').map(word => word.trim()))\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\treturn undefined;\n\t}\n}\n"]}