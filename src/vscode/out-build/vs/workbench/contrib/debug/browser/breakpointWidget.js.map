{"version":3,"sources":["vs/workbench/contrib/debug/browser/breakpointWidget.ts"],"names":[],"mappings":"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","file":"breakpointWidget.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../base/browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../../base/browser/keyboardEvent.js';\nimport { Button } from '../../../../base/browser/ui/button/button.js';\nimport { getDefaultHoverDelegate } from '../../../../base/browser/ui/hover/hoverDelegateFactory.js';\nimport { ISelectOptionItem, SelectBox } from '../../../../base/browser/ui/selectBox/selectBox.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { KeyCode, KeyMod } from '../../../../base/common/keyCodes.js';\nimport * as lifecycle from '../../../../base/common/lifecycle.js';\nimport { URI as uri } from '../../../../base/common/uri.js';\nimport { IActiveCodeEditor, ICodeEditor } from '../../../../editor/browser/editorBrowser.js';\nimport { EditorCommand, ServicesAccessor, registerEditorCommand } from '../../../../editor/browser/editorExtensions.js';\nimport { ICodeEditorService } from '../../../../editor/browser/services/codeEditorService.js';\nimport { CodeEditorWidget } from '../../../../editor/browser/widget/codeEditor/codeEditorWidget.js';\nimport { EditorOption, IEditorOptions } from '../../../../editor/common/config/editorOptions.js';\nimport { IPosition, Position } from '../../../../editor/common/core/position.js';\nimport { IRange, Range } from '../../../../editor/common/core/range.js';\nimport { IDecorationOptions } from '../../../../editor/common/editorCommon.js';\nimport { EditorContextKeys } from '../../../../editor/common/editorContextKeys.js';\nimport { CompletionContext, CompletionItemKind, CompletionList } from '../../../../editor/common/languages.js';\nimport { PLAINTEXT_LANGUAGE_ID } from '../../../../editor/common/languages/modesRegistry.js';\nimport { ITextModel } from '../../../../editor/common/model.js';\nimport { ILanguageFeaturesService } from '../../../../editor/common/services/languageFeatures.js';\nimport { IModelService } from '../../../../editor/common/services/model.js';\nimport { ITextModelService } from '../../../../editor/common/services/resolverService.js';\nimport { CompletionOptions, provideSuggestionItems } from '../../../../editor/contrib/suggest/browser/suggest.js';\nimport { ZoneWidget } from '../../../../editor/contrib/zoneWidget/browser/zoneWidget.js';\nimport * as nls from '../../../../nls.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IContextViewService } from '../../../../platform/contextview/browser/contextView.js';\nimport { IHoverService } from '../../../../platform/hover/browser/hover.js';\nimport { IInstantiationService, createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ServiceCollection } from '../../../../platform/instantiation/common/serviceCollection.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { KeybindingWeight } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { ILabelService } from '../../../../platform/label/common/label.js';\nimport { defaultButtonStyles, defaultSelectBoxStyles } from '../../../../platform/theme/browser/defaultStyles.js';\nimport { editorForeground } from '../../../../platform/theme/common/colorRegistry.js';\nimport { IColorTheme, IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { hasNativeContextMenu } from '../../../../platform/window/common/window.js';\nimport { getSimpleCodeEditorWidgetOptions, getSimpleEditorOptions } from '../../codeEditor/browser/simpleEditorOptions.js';\nimport { BREAKPOINT_EDITOR_CONTRIBUTION_ID, CONTEXT_BREAKPOINT_WIDGET_VISIBLE, CONTEXT_IN_BREAKPOINT_WIDGET, BreakpointWidgetContext as Context, DEBUG_SCHEME, IBreakpoint, IBreakpointEditorContribution, IBreakpointUpdateData, IDebugService } from '../common/debug.js';\nimport './media/breakpointWidget.css';\n\nconst $ = dom.$;\nconst IPrivateBreakpointWidgetService = createDecorator<IPrivateBreakpointWidgetService>('privateBreakpointWidgetService');\ninterface IPrivateBreakpointWidgetService {\n\treadonly _serviceBrand: undefined;\n\tclose(success: boolean): void;\n}\nconst DECORATION_KEY = 'breakpointwidgetdecoration';\n\nfunction isPositionInCurlyBracketBlock(input: IActiveCodeEditor): boolean {\n\tconst model = input.getModel();\n\tconst bracketPairs = model.bracketPairs.getBracketPairsInRange(Range.fromPositions(input.getPosition()));\n\treturn bracketPairs.some(p => p.openingBracketInfo.bracketText === '{');\n}\n\nfunction createDecorations(theme: IColorTheme, placeHolder: string): IDecorationOptions[] {\n\tconst transparentForeground = theme.getColor(editorForeground)?.transparent(0.4);\n\treturn [{\n\t\trange: {\n\t\t\tstartLineNumber: 0,\n\t\t\tendLineNumber: 0,\n\t\t\tstartColumn: 0,\n\t\t\tendColumn: 1\n\t\t},\n\t\trenderOptions: {\n\t\t\tafter: {\n\t\t\t\tcontentText: placeHolder,\n\t\t\t\tcolor: transparentForeground ? transparentForeground.toString() : undefined\n\t\t\t}\n\t\t}\n\t}];\n}\n\nexport class BreakpointWidget extends ZoneWidget implements IPrivateBreakpointWidgetService {\n\tdeclare readonly _serviceBrand: undefined;\n\n\tprivate selectContainer!: HTMLElement;\n\tprivate inputContainer!: HTMLElement;\n\tprivate selectBreakpointContainer!: HTMLElement;\n\tprivate input!: IActiveCodeEditor;\n\tprivate selectBreakpointBox!: SelectBox;\n\tprivate selectModeBox?: SelectBox;\n\tprivate store: lifecycle.DisposableStore;\n\tprivate conditionInput = '';\n\tprivate hitCountInput = '';\n\tprivate logMessageInput = '';\n\tprivate modeInput?: DebugProtocol.BreakpointMode;\n\tprivate breakpoint: IBreakpoint | undefined;\n\tprivate context: Context;\n\tprivate heightInPx: number | undefined;\n\tprivate triggeredByBreakpointInput: IBreakpoint | undefined;\n\n\tconstructor(editor: ICodeEditor, private lineNumber: number, private column: number | undefined, context: Context | undefined,\n\t\t@IContextViewService private readonly contextViewService: IContextViewService,\n\t\t@IDebugService private readonly debugService: IDebugService,\n\t\t@IThemeService private readonly themeService: IThemeService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IModelService private readonly modelService: IModelService,\n\t\t@ICodeEditorService private readonly codeEditorService: ICodeEditorService,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t\t@ILanguageFeaturesService private readonly languageFeaturesService: ILanguageFeaturesService,\n\t\t@IKeybindingService private readonly keybindingService: IKeybindingService,\n\t\t@ILabelService private readonly labelService: ILabelService,\n\t\t@ITextModelService private readonly textModelService: ITextModelService,\n\t\t@IHoverService private readonly hoverService: IHoverService\n\t) {\n\t\tsuper(editor, { showFrame: true, showArrow: false, frameWidth: 1, isAccessible: true });\n\n\t\tthis.store = new lifecycle.DisposableStore();\n\t\tconst model = this.editor.getModel();\n\t\tif (model) {\n\t\t\tconst uri = model.uri;\n\t\t\tconst breakpoints = this.debugService.getModel().getBreakpoints({ lineNumber: this.lineNumber, column: this.column, uri });\n\t\t\tthis.breakpoint = breakpoints.length ? breakpoints[0] : undefined;\n\t\t}\n\n\t\tif (context === undefined) {\n\t\t\tif (this.breakpoint && !this.breakpoint.condition && !this.breakpoint.hitCondition && this.breakpoint.logMessage) {\n\t\t\t\tthis.context = Context.LOG_MESSAGE;\n\t\t\t} else if (this.breakpoint && !this.breakpoint.condition && this.breakpoint.hitCondition) {\n\t\t\t\tthis.context = Context.HIT_COUNT;\n\t\t\t} else if (this.breakpoint && this.breakpoint.triggeredBy) {\n\t\t\t\tthis.context = Context.TRIGGER_POINT;\n\t\t\t} else {\n\t\t\t\tthis.context = Context.CONDITION;\n\t\t\t}\n\t\t} else {\n\t\t\tthis.context = context;\n\t\t}\n\n\t\tthis.store.add(this.debugService.getModel().onDidChangeBreakpoints(e => {\n\t\t\tif (this.breakpoint && e && e.removed && e.removed.indexOf(this.breakpoint) >= 0) {\n\t\t\t\tthis.dispose();\n\t\t\t}\n\t\t}));\n\t\tthis.codeEditorService.registerDecorationType('breakpoint-widget', DECORATION_KEY, {});\n\n\t\tthis.create();\n\t}\n\n\tprivate get placeholder(): string {\n\t\tconst acceptString = this.keybindingService.lookupKeybinding(AcceptBreakpointWidgetInputAction.ID)?.getLabel() || 'Enter';\n\t\tconst closeString = this.keybindingService.lookupKeybinding(CloseBreakpointWidgetCommand.ID)?.getLabel() || 'Escape';\n\t\tswitch (this.context) {\n\t\t\tcase Context.LOG_MESSAGE:\n\t\t\t\treturn nls.localize('breakpointWidgetLogMessagePlaceholder', \"Message to log when breakpoint is hit. Expressions within {} are interpolated. '{0}' to accept, '{1}' to cancel.\", acceptString, closeString);\n\t\t\tcase Context.HIT_COUNT:\n\t\t\t\treturn nls.localize('breakpointWidgetHitCountPlaceholder', \"Break when hit count condition is met. '{0}' to accept, '{1}' to cancel.\", acceptString, closeString);\n\t\t\tdefault:\n\t\t\t\treturn nls.localize('breakpointWidgetExpressionPlaceholder', \"Break when expression evaluates to true. '{0}' to accept, '{1}' to cancel.\", acceptString, closeString);\n\t\t}\n\t}\n\n\tprivate getInputValue(breakpoint: IBreakpoint | undefined): string {\n\t\tswitch (this.context) {\n\t\t\tcase Context.LOG_MESSAGE:\n\t\t\t\treturn breakpoint && breakpoint.logMessage ? breakpoint.logMessage : this.logMessageInput;\n\t\t\tcase Context.HIT_COUNT:\n\t\t\t\treturn breakpoint && breakpoint.hitCondition ? breakpoint.hitCondition : this.hitCountInput;\n\t\t\tdefault:\n\t\t\t\treturn breakpoint && breakpoint.condition ? breakpoint.condition : this.conditionInput;\n\t\t}\n\t}\n\n\tprivate rememberInput(): void {\n\t\tif (this.context !== Context.TRIGGER_POINT) {\n\t\t\tconst value = this.input.getModel().getValue();\n\t\t\tswitch (this.context) {\n\t\t\t\tcase Context.LOG_MESSAGE:\n\t\t\t\t\tthis.logMessageInput = value;\n\t\t\t\t\tbreak;\n\t\t\t\tcase Context.HIT_COUNT:\n\t\t\t\t\tthis.hitCountInput = value;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.conditionInput = value;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate setInputMode(): void {\n\t\tif (this.editor.hasModel()) {\n\t\t\t// Use plaintext language for log messages, otherwise respect underlying editor language #125619\n\t\t\tconst languageId = this.context === Context.LOG_MESSAGE ? PLAINTEXT_LANGUAGE_ID : this.editor.getModel().getLanguageId();\n\t\t\tthis.input.getModel().setLanguage(languageId);\n\t\t}\n\t}\n\n\toverride show(rangeOrPos: IRange | IPosition): void {\n\t\tconst lineNum = this.input.getModel().getLineCount();\n\t\tsuper.show(rangeOrPos, lineNum + 1);\n\t}\n\n\tfitHeightToContent(): void {\n\t\tconst lineNum = this.input.getModel().getLineCount();\n\t\tthis._relayout(lineNum + 1);\n\t}\n\n\tprotected _fillContainer(container: HTMLElement): void {\n\t\tthis.setCssClass('breakpoint-widget');\n\t\tconst selectBox = this.store.add(new SelectBox([\n\t\t\t{ text: nls.localize('expression', \"Expression\") },\n\t\t\t{ text: nls.localize('hitCount', \"Hit Count\") },\n\t\t\t{ text: nls.localize('logMessage', \"Log Message\") },\n\t\t\t{ text: nls.localize('triggeredBy', \"Wait for Breakpoint\") },\n\t\t] satisfies ISelectOptionItem[], this.context, this.contextViewService, defaultSelectBoxStyles, { ariaLabel: nls.localize('breakpointType', 'Breakpoint Type'), useCustomDrawn: !hasNativeContextMenu(this._configurationService) }));\n\t\tthis.selectContainer = $('.breakpoint-select-container');\n\t\tselectBox.render(dom.append(container, this.selectContainer));\n\t\tthis.store.add(selectBox.onDidSelect(e => {\n\t\t\tthis.rememberInput();\n\t\t\tthis.context = e.index;\n\t\t\tthis.updateContextInput();\n\t\t}));\n\n\t\tthis.createModesInput(container);\n\n\t\tthis.inputContainer = $('.inputContainer');\n\t\tthis.store.add(this.hoverService.setupManagedHover(getDefaultHoverDelegate('mouse'), this.inputContainer, this.placeholder));\n\t\tthis.createBreakpointInput(dom.append(container, this.inputContainer));\n\n\t\tthis.input.getModel().setValue(this.getInputValue(this.breakpoint));\n\t\tthis.store.add(this.input.getModel().onDidChangeContent(() => {\n\t\t\tthis.fitHeightToContent();\n\t\t}));\n\t\tthis.input.setPosition({ lineNumber: 1, column: this.input.getModel().getLineMaxColumn(1) });\n\n\t\tthis.createTriggerBreakpointInput(container);\n\n\t\tthis.updateContextInput();\n\t\t// Due to an electron bug we have to do the timeout, otherwise we do not get focus\n\t\tsetTimeout(() => this.focusInput(), 150);\n\t}\n\n\tprivate createModesInput(container: HTMLElement) {\n\t\tconst modes = this.debugService.getModel().getBreakpointModes('source');\n\t\tif (modes.length <= 1) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst sb = this.selectModeBox = new SelectBox(\n\t\t\t[\n\t\t\t\t{ text: nls.localize('bpMode', 'Mode'), isDisabled: true },\n\t\t\t\t...modes.map(mode => ({ text: mode.label, description: mode.description })),\n\t\t\t],\n\t\t\tmodes.findIndex(m => m.mode === this.breakpoint?.mode) + 1,\n\t\t\tthis.contextViewService,\n\t\t\tdefaultSelectBoxStyles,\n\t\t\t{ useCustomDrawn: !hasNativeContextMenu(this._configurationService) }\n\t\t);\n\t\tthis.store.add(sb);\n\t\tthis.store.add(sb.onDidSelect(e => {\n\t\t\tthis.modeInput = modes[e.index - 1];\n\t\t}));\n\n\t\tconst modeWrapper = $('.select-mode-container');\n\t\tconst selectionWrapper = $('.select-box-container');\n\t\tdom.append(modeWrapper, selectionWrapper);\n\t\tsb.render(selectionWrapper);\n\t\tdom.append(container, modeWrapper);\n\t}\n\n\tprivate createTriggerBreakpointInput(container: HTMLElement) {\n\t\tconst breakpoints = this.debugService.getModel().getBreakpoints().filter(bp => bp !== this.breakpoint && !bp.logMessage);\n\t\tconst breakpointOptions: ISelectOptionItem[] = [\n\t\t\t{ text: nls.localize('noTriggerByBreakpoint', 'None'), isDisabled: true },\n\t\t\t...breakpoints.map(bp => ({\n\t\t\t\ttext: `${this.labelService.getUriLabel(bp.uri, { relative: true })}: ${bp.lineNumber}`,\n\t\t\t\tdescription: nls.localize('triggerByLoading', 'Loading...')\n\t\t\t})),\n\t\t];\n\n\t\tconst index = breakpoints.findIndex((bp) => this.breakpoint?.triggeredBy === bp.getId());\n\t\tfor (const [i, bp] of breakpoints.entries()) {\n\t\t\tthis.textModelService.createModelReference(bp.uri).then(ref => {\n\t\t\t\ttry {\n\t\t\t\t\tbreakpointOptions[i + 1].description = ref.object.textEditorModel.getLineContent(bp.lineNumber).trim();\n\t\t\t\t} finally {\n\t\t\t\t\tref.dispose();\n\t\t\t\t}\n\t\t\t}).catch(() => {\n\t\t\t\tbreakpointOptions[i + 1].description = nls.localize('noBpSource', 'Could not load source.');\n\t\t\t});\n\t\t}\n\n\t\tconst selectBreakpointBox = this.selectBreakpointBox = this.store.add(new SelectBox(breakpointOptions, index + 1, this.contextViewService, defaultSelectBoxStyles, { ariaLabel: nls.localize('selectBreakpoint', 'Select breakpoint'), useCustomDrawn: !hasNativeContextMenu(this._configurationService) }));\n\t\tthis.store.add(selectBreakpointBox.onDidSelect(e => {\n\t\t\tif (e.index === 0) {\n\t\t\t\tthis.triggeredByBreakpointInput = undefined;\n\t\t\t} else {\n\t\t\t\tthis.triggeredByBreakpointInput = breakpoints[e.index - 1];\n\t\t\t}\n\t\t}));\n\t\tthis.selectBreakpointContainer = $('.select-breakpoint-container');\n\t\tthis.store.add(dom.addDisposableListener(this.selectBreakpointContainer, dom.EventType.KEY_DOWN, e => {\n\t\t\tconst event = new StandardKeyboardEvent(e);\n\t\t\tif (event.equals(KeyCode.Escape)) {\n\t\t\t\tthis.close(false);\n\t\t\t}\n\t\t}));\n\n\t\tconst selectionWrapper = $('.select-box-container');\n\t\tdom.append(this.selectBreakpointContainer, selectionWrapper);\n\t\tselectBreakpointBox.render(selectionWrapper);\n\n\t\tdom.append(container, this.selectBreakpointContainer);\n\n\t\tconst closeButton = new Button(this.selectBreakpointContainer, defaultButtonStyles);\n\t\tcloseButton.label = nls.localize('ok', \"OK\");\n\t\tthis.store.add(closeButton.onDidClick(() => this.close(true)));\n\t\tthis.store.add(closeButton);\n\t}\n\n\tprivate updateContextInput() {\n\t\tif (this.context === Context.TRIGGER_POINT) {\n\t\t\tthis.inputContainer.hidden = true;\n\t\t\tthis.selectBreakpointContainer.hidden = false;\n\t\t} else {\n\t\t\tthis.inputContainer.hidden = false;\n\t\t\tthis.selectBreakpointContainer.hidden = true;\n\t\t\tthis.setInputMode();\n\t\t\tconst value = this.getInputValue(this.breakpoint);\n\t\t\tthis.input.getModel().setValue(value);\n\t\t\tthis.focusInput();\n\t\t}\n\t}\n\n\tprotected override _doLayout(heightInPixel: number, widthInPixel: number): void {\n\t\tthis.heightInPx = heightInPixel;\n\t\tthis.input.layout({ height: heightInPixel, width: widthInPixel - 113 });\n\t\tthis.centerInputVertically();\n\t}\n\n\tprotected override _onWidth(widthInPixel: number): void {\n\t\tif (typeof this.heightInPx === 'number') {\n\t\t\tthis._doLayout(this.heightInPx, widthInPixel);\n\t\t}\n\t}\n\n\tprivate createBreakpointInput(container: HTMLElement): void {\n\t\tconst scopedInstatiationService = this.instantiationService.createChild(new ServiceCollection(\n\t\t\t[IPrivateBreakpointWidgetService, this]\n\t\t));\n\t\tthis.store.add(scopedInstatiationService);\n\n\t\tconst options = this.createEditorOptions();\n\t\tconst codeEditorWidgetOptions = getSimpleCodeEditorWidgetOptions();\n\t\tthis.input = <IActiveCodeEditor>scopedInstatiationService.createInstance(CodeEditorWidget, container, options, codeEditorWidgetOptions);\n\n\t\tCONTEXT_IN_BREAKPOINT_WIDGET.bindTo(this.input.contextKeyService).set(true);\n\t\tconst model = this.modelService.createModel('', null, uri.parse(`${DEBUG_SCHEME}:${this.editor.getId()}:breakpointinput`), true);\n\t\tif (this.editor.hasModel()) {\n\t\t\tmodel.setLanguage(this.editor.getModel().getLanguageId());\n\t\t}\n\t\tthis.input.setModel(model);\n\t\tthis.setInputMode();\n\t\tthis.store.add(model);\n\t\tconst setDecorations = () => {\n\t\t\tconst value = this.input.getModel().getValue();\n\t\t\tconst decorations = !!value ? [] : createDecorations(this.themeService.getColorTheme(), this.placeholder);\n\t\t\tthis.input.setDecorationsByType('breakpoint-widget', DECORATION_KEY, decorations);\n\t\t};\n\t\tthis.store.add(this.input.getModel().onDidChangeContent(() => setDecorations()));\n\t\tthis.store.add(this.themeService.onDidColorThemeChange(() => setDecorations()));\n\n\t\tthis.store.add(this.languageFeaturesService.completionProvider.register({ scheme: DEBUG_SCHEME, hasAccessToAllModels: true }, {\n\t\t\t_debugDisplayName: 'breakpointWidget',\n\t\t\tprovideCompletionItems: (model: ITextModel, position: Position, _context: CompletionContext, token: CancellationToken): Promise<CompletionList> => {\n\t\t\t\tlet suggestionsPromise: Promise<CompletionList>;\n\t\t\t\tconst underlyingModel = this.editor.getModel();\n\t\t\t\tif (underlyingModel && (this.context === Context.CONDITION || (this.context === Context.LOG_MESSAGE && isPositionInCurlyBracketBlock(this.input)))) {\n\t\t\t\t\tsuggestionsPromise = provideSuggestionItems(this.languageFeaturesService.completionProvider, underlyingModel, new Position(this.lineNumber, 1), new CompletionOptions(undefined, new Set<CompletionItemKind>().add(CompletionItemKind.Snippet)), _context, token).then(suggestions => {\n\n\t\t\t\t\t\tlet overwriteBefore = 0;\n\t\t\t\t\t\tif (this.context === Context.CONDITION) {\n\t\t\t\t\t\t\toverwriteBefore = position.column - 1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Inside the currly brackets, need to count how many useful characters are behind the position so they would all be taken into account\n\t\t\t\t\t\t\tconst value = this.input.getModel().getValue();\n\t\t\t\t\t\t\twhile ((position.column - 2 - overwriteBefore >= 0) && value[position.column - 2 - overwriteBefore] !== '{' && value[position.column - 2 - overwriteBefore] !== ' ') {\n\t\t\t\t\t\t\t\toverwriteBefore++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tsuggestions: suggestions.items.map(s => {\n\t\t\t\t\t\t\t\ts.completion.range = Range.fromPositions(position.delta(0, -overwriteBefore), position);\n\t\t\t\t\t\t\t\treturn s.completion;\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tsuggestionsPromise = Promise.resolve({ suggestions: [] });\n\t\t\t\t}\n\n\t\t\t\treturn suggestionsPromise;\n\t\t\t}\n\t\t}));\n\n\t\tthis.store.add(this._configurationService.onDidChangeConfiguration((e) => {\n\t\t\tif (e.affectsConfiguration('editor.fontSize') || e.affectsConfiguration('editor.lineHeight')) {\n\t\t\t\tthis.input.updateOptions(this.createEditorOptions());\n\t\t\t\tthis.centerInputVertically();\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate createEditorOptions(): IEditorOptions {\n\t\tconst editorConfig = this._configurationService.getValue<IEditorOptions>('editor');\n\t\tconst options = getSimpleEditorOptions(this._configurationService);\n\t\toptions.fontSize = editorConfig.fontSize;\n\t\toptions.fontFamily = editorConfig.fontFamily;\n\t\toptions.lineHeight = editorConfig.lineHeight;\n\t\toptions.fontLigatures = editorConfig.fontLigatures;\n\t\toptions.ariaLabel = this.placeholder;\n\t\treturn options;\n\t}\n\n\tprivate centerInputVertically() {\n\t\tif (this.container && typeof this.heightInPx === 'number') {\n\t\t\tconst lineHeight = this.input.getOption(EditorOption.lineHeight);\n\t\t\tconst lineNum = this.input.getModel().getLineCount();\n\t\t\tconst newTopMargin = (this.heightInPx - lineNum * lineHeight) / 2;\n\t\t\tthis.inputContainer.style.marginTop = newTopMargin + 'px';\n\t\t}\n\t}\n\n\tclose(success: boolean): void {\n\t\tif (success) {\n\t\t\t// if there is already a breakpoint on this location - remove it.\n\n\t\t\tlet condition: string | undefined = undefined;\n\t\t\tlet hitCondition: string | undefined = undefined;\n\t\t\tlet logMessage: string | undefined = undefined;\n\t\t\tlet triggeredBy: string | undefined = undefined;\n\t\t\tlet mode: string | undefined = undefined;\n\t\t\tlet modeLabel: string | undefined = undefined;\n\n\t\t\tthis.rememberInput();\n\n\t\t\tif (this.conditionInput || this.context === Context.CONDITION) {\n\t\t\t\tcondition = this.conditionInput;\n\t\t\t}\n\t\t\tif (this.hitCountInput || this.context === Context.HIT_COUNT) {\n\t\t\t\thitCondition = this.hitCountInput;\n\t\t\t}\n\t\t\tif (this.logMessageInput || this.context === Context.LOG_MESSAGE) {\n\t\t\t\tlogMessage = this.logMessageInput;\n\t\t\t}\n\t\t\tif (this.selectModeBox) {\n\t\t\t\tmode = this.modeInput?.mode;\n\t\t\t\tmodeLabel = this.modeInput?.label;\n\t\t\t}\n\t\t\tif (this.context === Context.TRIGGER_POINT) {\n\t\t\t\t// currently, trigger points don't support additional conditions:\n\t\t\t\tcondition = undefined;\n\t\t\t\thitCondition = undefined;\n\t\t\t\tlogMessage = undefined;\n\t\t\t\ttriggeredBy = this.triggeredByBreakpointInput?.getId();\n\t\t\t}\n\n\t\t\tif (this.breakpoint) {\n\t\t\t\tconst data = new Map<string, IBreakpointUpdateData>();\n\t\t\t\tdata.set(this.breakpoint.getId(), {\n\t\t\t\t\tcondition,\n\t\t\t\t\thitCondition,\n\t\t\t\t\tlogMessage,\n\t\t\t\t\ttriggeredBy,\n\t\t\t\t\tmode,\n\t\t\t\t\tmodeLabel,\n\t\t\t\t});\n\t\t\t\tthis.debugService.updateBreakpoints(this.breakpoint.originalUri, data, false).then(undefined, onUnexpectedError);\n\t\t\t} else {\n\t\t\t\tconst model = this.editor.getModel();\n\t\t\t\tif (model) {\n\t\t\t\t\tthis.debugService.addBreakpoints(model.uri, [{\n\t\t\t\t\t\tlineNumber: this.lineNumber,\n\t\t\t\t\t\tcolumn: this.column,\n\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\tcondition,\n\t\t\t\t\t\thitCondition,\n\t\t\t\t\t\tlogMessage,\n\t\t\t\t\t\ttriggeredBy,\n\t\t\t\t\t\tmode,\n\t\t\t\t\t\tmodeLabel,\n\t\t\t\t\t}]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.dispose();\n\t}\n\n\tprivate focusInput() {\n\t\tif (this.context === Context.TRIGGER_POINT) {\n\t\t\tthis.selectBreakpointBox.focus();\n\t\t} else {\n\t\t\tthis.input.focus();\n\t\t}\n\t}\n\n\toverride dispose(): void {\n\t\tsuper.dispose();\n\t\tthis.input.dispose();\n\t\tlifecycle.dispose(this.store);\n\t\tsetTimeout(() => this.editor.focus(), 0);\n\t}\n}\n\nclass AcceptBreakpointWidgetInputAction extends EditorCommand {\n\tstatic ID = 'breakpointWidget.action.acceptInput';\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: AcceptBreakpointWidgetInputAction.ID,\n\t\t\tprecondition: CONTEXT_BREAKPOINT_WIDGET_VISIBLE,\n\t\t\tkbOpts: {\n\t\t\t\tkbExpr: CONTEXT_IN_BREAKPOINT_WIDGET,\n\t\t\t\tprimary: KeyCode.Enter,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t}\n\t\t});\n\t}\n\n\trunEditorCommand(accessor: ServicesAccessor, editor: ICodeEditor): void {\n\t\taccessor.get(IPrivateBreakpointWidgetService).close(true);\n\t}\n}\n\nclass CloseBreakpointWidgetCommand extends EditorCommand {\n\tstatic ID = 'closeBreakpointWidget';\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: CloseBreakpointWidgetCommand.ID,\n\t\t\tprecondition: CONTEXT_BREAKPOINT_WIDGET_VISIBLE,\n\t\t\tkbOpts: {\n\t\t\t\tkbExpr: EditorContextKeys.textInputFocus,\n\t\t\t\tprimary: KeyCode.Escape,\n\t\t\t\tsecondary: [KeyMod.Shift | KeyCode.Escape],\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t}\n\t\t});\n\t}\n\n\trunEditorCommand(accessor: ServicesAccessor, editor: ICodeEditor, args: unknown): void {\n\t\tconst debugContribution = editor.getContribution<IBreakpointEditorContribution>(BREAKPOINT_EDITOR_CONTRIBUTION_ID);\n\t\tif (debugContribution) {\n\t\t\t// if focus is in outer editor we need to use the debug contribution to close\n\t\t\treturn debugContribution.closeBreakpointWidget();\n\t\t}\n\n\t\taccessor.get(IPrivateBreakpointWidgetService).close(false);\n\t}\n}\n\nregisterEditorCommand(new AcceptBreakpointWidgetInputAction());\nregisterEditorCommand(new CloseBreakpointWidgetCommand());\n"]}