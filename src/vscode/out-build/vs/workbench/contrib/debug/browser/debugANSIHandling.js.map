{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/debug/browser/debugANSIHandling.ts","vs/workbench/contrib/debug/browser/debugANSIHandling.ts"],"names":[],"mappings":"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","file":"debugANSIHandling.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IHighlight } from '../../../../base/browser/ui/highlightedlabel/highlightedLabel.js';\nimport { Color, RGBA } from '../../../../base/common/color.js';\nimport { isDefined } from '../../../../base/common/types.js';\nimport { editorHoverBackground, listActiveSelectionBackground, listFocusBackground, listInactiveFocusBackground, listInactiveSelectionBackground } from '../../../../platform/theme/common/colorRegistry.js';\nimport { registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\nimport { IWorkspaceFolder } from '../../../../platform/workspace/common/workspace.js';\nimport { PANEL_BACKGROUND, SIDE_BAR_BACKGROUND } from '../../../common/theme.js';\nimport { ansiColorIdentifiers } from '../../terminal/common/terminalColorRegistry.js';\nimport { ILinkDetector } from './linkDetector.js';\n\n/**\n * @param text The content to stylize.\n * @returns An {@link HTMLSpanElement} that contains the potentially stylized text.\n */\nexport function handleANSIOutput(text: string, linkDetector: ILinkDetector, workspaceFolder: IWorkspaceFolder | undefined, highlights: IHighlight[] | undefined): HTMLSpanElement {\n\n\tconst root: HTMLSpanElement = document.createElement('span');\n\tconst textLength: number = text.length;\n\n\tlet styleNames: string[] = [];\n\tlet customFgColor: RGBA | string | undefined;\n\tlet customBgColor: RGBA | string | undefined;\n\tlet customUnderlineColor: RGBA | string | undefined;\n\tlet colorsInverted: boolean = false;\n\tlet currentPos: number = 0;\n\tlet unprintedChars = 0;\n\tlet buffer: string = '';\n\n\twhile (currentPos < textLength) {\n\n\t\tlet sequenceFound: boolean = false;\n\n\t\t// Potentially an ANSI escape sequence.\n\t\t// See http://ascii-table.com/ansi-escape-sequences.php & https://en.wikipedia.org/wiki/ANSI_escape_code\n\t\tif (text.charCodeAt(currentPos) === 27 && text.charAt(currentPos + 1) === '[') {\n\n\t\t\tconst startPos: number = currentPos;\n\t\t\tcurrentPos += 2; // Ignore 'Esc[' as it's in every sequence.\n\n\t\t\tlet ansiSequence: string = '';\n\n\t\t\twhile (currentPos < textLength) {\n\t\t\t\tconst char: string = text.charAt(currentPos);\n\t\t\t\tansiSequence += char;\n\n\t\t\t\tcurrentPos++;\n\n\t\t\t\t// Look for a known sequence terminating character.\n\t\t\t\tif (char.match(/^[ABCDHIJKfhmpsu]$/)) {\n\t\t\t\t\tsequenceFound = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif (sequenceFound) {\n\n\t\t\t\tunprintedChars += 2 + ansiSequence.length;\n\n\t\t\t\t// Flush buffer with previous styles.\n\t\t\t\tappendStylizedStringToContainer(root, buffer, styleNames, linkDetector, workspaceFolder, customFgColor, customBgColor, customUnderlineColor, highlights, currentPos - buffer.length - unprintedChars);\n\n\t\t\t\tbuffer = '';\n\n\t\t\t\t/*\n\t\t\t\t * Certain ranges that are matched here do not contain real graphics rendition sequences. For\n\t\t\t\t * the sake of having a simpler expression, they have been included anyway.\n\t\t\t\t */\n\t\t\t\tif (ansiSequence.match(/^(?:[34][0-8]|9[0-7]|10[0-7]|[0-9]|2[1-5,7-9]|[34]9|5[8,9]|1[0-9])(?:;[349][0-7]|10[0-7]|[013]|[245]|[34]9)?(?:;[012]?[0-9]?[0-9])*;?m$/)) {\n\n\t\t\t\t\tconst styleCodes: number[] = ansiSequence.slice(0, -1) // Remove final 'm' character.\n\t\t\t\t\t\t.split(';')\t\t\t\t\t\t\t\t\t\t   // Separate style codes.\n\t\t\t\t\t\t.filter(elem => elem !== '')\t\t\t           // Filter empty elems as '34;m' -> ['34', ''].\n\t\t\t\t\t\t.map(elem => parseInt(elem, 10));\t\t           // Convert to numbers.\n\n\t\t\t\t\tif (styleCodes[0] === 38 || styleCodes[0] === 48 || styleCodes[0] === 58) {\n\t\t\t\t\t\t// Advanced color code - can't be combined with formatting codes like simple colors can\n\t\t\t\t\t\t// Ignores invalid colors and additional info beyond what is necessary\n\t\t\t\t\t\tconst colorType = (styleCodes[0] === 38) ? 'foreground' : ((styleCodes[0] === 48) ? 'background' : 'underline');\n\n\t\t\t\t\t\tif (styleCodes[1] === 5) {\n\t\t\t\t\t\t\tset8BitColor(styleCodes, colorType);\n\t\t\t\t\t\t} else if (styleCodes[1] === 2) {\n\t\t\t\t\t\t\tset24BitColor(styleCodes, colorType);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetBasicFormatters(styleCodes);\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\t// Unsupported sequence so simply hide it.\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tcurrentPos = startPos;\n\t\t\t}\n\t\t}\n\n\t\tif (sequenceFound === false) {\n\t\t\tbuffer += text.charAt(currentPos);\n\t\t\tcurrentPos++;\n\t\t}\n\t}\n\n\t// Flush remaining text buffer if not empty.\n\tif (buffer) {\n\t\tappendStylizedStringToContainer(root, buffer, styleNames, linkDetector, workspaceFolder, customFgColor, customBgColor, customUnderlineColor, highlights, currentPos - buffer.length);\n\t}\n\n\treturn root;\n\n\t/**\n\t * Change the foreground or background color by clearing the current color\n\t * and adding the new one.\n\t * @param colorType If `'foreground'`, will change the foreground color, if\n\t * \t`'background'`, will change the background color, and if `'underline'`\n\t * will set the underline color.\n\t * @param color Color to change to. If `undefined` or not provided,\n\t * will clear current color without adding a new one.\n\t */\n\tfunction changeColor(colorType: 'foreground' | 'background' | 'underline', color?: RGBA | string): void {\n\t\tif (colorType === 'foreground') {\n\t\t\tcustomFgColor = color;\n\t\t} else if (colorType === 'background') {\n\t\t\tcustomBgColor = color;\n\t\t} else if (colorType === 'underline') {\n\t\t\tcustomUnderlineColor = color;\n\t\t}\n\t\tstyleNames = styleNames.filter(style => style !== `code-${colorType}-colored`);\n\t\tif (color !== undefined) {\n\t\t\tstyleNames.push(`code-${colorType}-colored`);\n\t\t}\n\t}\n\n\t/**\n\t * Swap foreground and background colors.  Used for color inversion.  Caller should check\n\t * [] flag to make sure it is appropriate to turn ON or OFF (if it is already inverted don't call\n\t */\n\tfunction reverseForegroundAndBackgroundColors(): void {\n\t\tconst oldFgColor = customFgColor;\n\t\tchangeColor('foreground', customBgColor);\n\t\tchangeColor('background', oldFgColor);\n\t}\n\n\t/**\n\t * Calculate and set basic ANSI formatting. Supports ON/OFF of bold, italic, underline,\n\t * double underline,  crossed-out/strikethrough, overline, dim, blink, rapid blink,\n\t * reverse/invert video, hidden, superscript, subscript and alternate font codes,\n\t * clearing/resetting of foreground, background and underline colors,\n\t * setting normal foreground and background colors, and bright foreground and\n\t * background colors. Not to be used for codes containing advanced colors.\n\t * Will ignore invalid codes.\n\t * @param styleCodes Array of ANSI basic styling numbers, which will be\n\t * applied in order. New colors and backgrounds clear old ones; new formatting\n\t * does not.\n\t * @see {@link https://en.wikipedia.org/wiki/ANSI_escape_code#SGR }\n\t */\n\tfunction setBasicFormatters(styleCodes: number[]): void {\n\t\tfor (const code of styleCodes) {\n\t\t\tswitch (code) {\n\t\t\t\tcase 0: {  // reset (everything)\n\t\t\t\t\tstyleNames = [];\n\t\t\t\t\tcustomFgColor = undefined;\n\t\t\t\t\tcustomBgColor = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 1: { // bold\n\t\t\t\t\tstyleNames = styleNames.filter(style => style !== `code-bold`);\n\t\t\t\t\tstyleNames.push('code-bold');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 2: { // dim\n\t\t\t\t\tstyleNames = styleNames.filter(style => style !== `code-dim`);\n\t\t\t\t\tstyleNames.push('code-dim');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 3: { // italic\n\t\t\t\t\tstyleNames = styleNames.filter(style => style !== `code-italic`);\n\t\t\t\t\tstyleNames.push('code-italic');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 4: { // underline\n\t\t\t\t\tstyleNames = styleNames.filter(style => (style !== `code-underline` && style !== `code-double-underline`));\n\t\t\t\t\tstyleNames.push('code-underline');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 5: { // blink\n\t\t\t\t\tstyleNames = styleNames.filter(style => style !== `code-blink`);\n\t\t\t\t\tstyleNames.push('code-blink');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 6: { // rapid blink\n\t\t\t\t\tstyleNames = styleNames.filter(style => style !== `code-rapid-blink`);\n\t\t\t\t\tstyleNames.push('code-rapid-blink');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 7: { // invert foreground and background\n\t\t\t\t\tif (!colorsInverted) {\n\t\t\t\t\t\tcolorsInverted = true;\n\t\t\t\t\t\treverseForegroundAndBackgroundColors();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 8: { // hidden\n\t\t\t\t\tstyleNames = styleNames.filter(style => style !== `code-hidden`);\n\t\t\t\t\tstyleNames.push('code-hidden');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 9: { // strike-through/crossed-out\n\t\t\t\t\tstyleNames = styleNames.filter(style => style !== `code-strike-through`);\n\t\t\t\t\tstyleNames.push('code-strike-through');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 10: { // normal default font\n\t\t\t\t\tstyleNames = styleNames.filter(style => !style.startsWith('code-font'));\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 11: case 12: case 13: case 14: case 15: case 16: case 17: case 18: case 19: case 20: { // font codes (and 20 is 'blackletter' font code)\n\t\t\t\t\tstyleNames = styleNames.filter(style => !style.startsWith('code-font'));\n\t\t\t\t\tstyleNames.push(`code-font-${code - 10}`);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 21: { // double underline\n\t\t\t\t\tstyleNames = styleNames.filter(style => (style !== `code-underline` && style !== `code-double-underline`));\n\t\t\t\t\tstyleNames.push('code-double-underline');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 22: { // normal intensity (bold off and dim off)\n\t\t\t\t\tstyleNames = styleNames.filter(style => (style !== `code-bold` && style !== `code-dim`));\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 23: { // Neither italic or blackletter (font 10)\n\t\t\t\t\tstyleNames = styleNames.filter(style => (style !== `code-italic` && style !== `code-font-10`));\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 24: { // not underlined (Neither singly nor doubly underlined)\n\t\t\t\t\tstyleNames = styleNames.filter(style => (style !== `code-underline` && style !== `code-double-underline`));\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 25: { // not blinking\n\t\t\t\t\tstyleNames = styleNames.filter(style => (style !== `code-blink` && style !== `code-rapid-blink`));\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 27: { // not reversed/inverted\n\t\t\t\t\tif (colorsInverted) {\n\t\t\t\t\t\tcolorsInverted = false;\n\t\t\t\t\t\treverseForegroundAndBackgroundColors();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 28: { // not hidden (reveal)\n\t\t\t\t\tstyleNames = styleNames.filter(style => style !== `code-hidden`);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 29: { // not crossed-out\n\t\t\t\t\tstyleNames = styleNames.filter(style => style !== `code-strike-through`);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 53: { // overlined\n\t\t\t\t\tstyleNames = styleNames.filter(style => style !== `code-overline`);\n\t\t\t\t\tstyleNames.push('code-overline');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 55: { // not overlined\n\t\t\t\t\tstyleNames = styleNames.filter(style => style !== `code-overline`);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 39: {  // default foreground color\n\t\t\t\t\tchangeColor('foreground', undefined);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 49: {  // default background color\n\t\t\t\t\tchangeColor('background', undefined);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 59: {  // default underline color\n\t\t\t\t\tchangeColor('underline', undefined);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 73: { // superscript\n\t\t\t\t\tstyleNames = styleNames.filter(style => (style !== `code-superscript` && style !== `code-subscript`));\n\t\t\t\t\tstyleNames.push('code-superscript');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 74: { // subscript\n\t\t\t\t\tstyleNames = styleNames.filter(style => (style !== `code-superscript` && style !== `code-subscript`));\n\t\t\t\t\tstyleNames.push('code-subscript');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 75: { // neither superscript or subscript\n\t\t\t\t\tstyleNames = styleNames.filter(style => (style !== `code-superscript` && style !== `code-subscript`));\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tdefault: {\n\t\t\t\t\tsetBasicColor(code);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Calculate and set styling for complicated 24-bit ANSI color codes.\n\t * @param styleCodes Full list of integer codes that make up the full ANSI\n\t * sequence, including the two defining codes and the three RGB codes.\n\t * @param colorType If `'foreground'`, will set foreground color, if\n\t * `'background'`, will set background color, and if it is `'underline'`\n\t * will set the underline color.\n\t * @see {@link https://en.wikipedia.org/wiki/ANSI_escape_code#24-bit }\n\t */\n\tfunction set24BitColor(styleCodes: number[], colorType: 'foreground' | 'background' | 'underline'): void {\n\t\tif (styleCodes.length >= 5 &&\n\t\t\tstyleCodes[2] >= 0 && styleCodes[2] <= 255 &&\n\t\t\tstyleCodes[3] >= 0 && styleCodes[3] <= 255 &&\n\t\t\tstyleCodes[4] >= 0 && styleCodes[4] <= 255) {\n\t\t\tconst customColor = new RGBA(styleCodes[2], styleCodes[3], styleCodes[4]);\n\t\t\tchangeColor(colorType, customColor);\n\t\t}\n\t}\n\n\t/**\n\t * Calculate and set styling for advanced 8-bit ANSI color codes.\n\t * @param styleCodes Full list of integer codes that make up the ANSI\n\t * sequence, including the two defining codes and the one color code.\n\t * @param colorType If `'foreground'`, will set foreground color, if\n\t * `'background'`, will set background color and if it is `'underline'`\n\t * will set the underline color.\n\t * @see {@link https://en.wikipedia.org/wiki/ANSI_escape_code#8-bit }\n\t */\n\tfunction set8BitColor(styleCodes: number[], colorType: 'foreground' | 'background' | 'underline'): void {\n\t\tlet colorNumber = styleCodes[2];\n\t\tconst color = calcANSI8bitColor(colorNumber);\n\n\t\tif (color) {\n\t\t\tchangeColor(colorType, color);\n\t\t} else if (colorNumber >= 0 && colorNumber <= 15) {\n\t\t\tif (colorType === 'underline') {\n\t\t\t\t// for underline colors we just decode the 0-15 color number to theme color, set and return\n\t\t\t\tconst colorName = ansiColorIdentifiers[colorNumber];\n\t\t\t\tchangeColor(colorType, `--vscode-debug-ansi-${colorName}`);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// Need to map to one of the four basic color ranges (30-37, 90-97, 40-47, 100-107)\n\t\t\tcolorNumber += 30;\n\t\t\tif (colorNumber >= 38) {\n\t\t\t\t// Bright colors\n\t\t\t\tcolorNumber += 52;\n\t\t\t}\n\t\t\tif (colorType === 'background') {\n\t\t\t\tcolorNumber += 10;\n\t\t\t}\n\t\t\tsetBasicColor(colorNumber);\n\t\t}\n\t}\n\n\t/**\n\t * Calculate and set styling for basic bright and dark ANSI color codes. Uses\n\t * theme colors if available. Automatically distinguishes between foreground\n\t * and background colors; does not support color-clearing codes 39 and 49.\n\t * @param styleCode Integer color code on one of the following ranges:\n\t * [30-37, 90-97, 40-47, 100-107]. If not on one of these ranges, will do\n\t * nothing.\n\t */\n\tfunction setBasicColor(styleCode: number): void {\n\t\tlet colorType: 'foreground' | 'background' | undefined;\n\t\tlet colorIndex: number | undefined;\n\n\t\tif (styleCode >= 30 && styleCode <= 37) {\n\t\t\tcolorIndex = styleCode - 30;\n\t\t\tcolorType = 'foreground';\n\t\t} else if (styleCode >= 90 && styleCode <= 97) {\n\t\t\tcolorIndex = (styleCode - 90) + 8; // High-intensity (bright)\n\t\t\tcolorType = 'foreground';\n\t\t} else if (styleCode >= 40 && styleCode <= 47) {\n\t\t\tcolorIndex = styleCode - 40;\n\t\t\tcolorType = 'background';\n\t\t} else if (styleCode >= 100 && styleCode <= 107) {\n\t\t\tcolorIndex = (styleCode - 100) + 8; // High-intensity (bright)\n\t\t\tcolorType = 'background';\n\t\t}\n\n\t\tif (colorIndex !== undefined && colorType) {\n\t\t\tconst colorName = ansiColorIdentifiers[colorIndex];\n\t\t\tchangeColor(colorType, `--vscode-debug-ansi-${colorName.replaceAll('.', '-')}`);\n\t\t}\n\t}\n}\n\n/**\n * @param root The {@link HTMLElement} to append the content to.\n * @param stringContent The text content to be appended.\n * @param cssClasses The list of CSS styles to apply to the text content.\n * @param linkDetector The {@link ILinkDetector} responsible for generating links from {@param stringContent}.\n * @param customTextColor If provided, will apply custom color with inline style.\n * @param customBackgroundColor If provided, will apply custom backgroundColor with inline style.\n * @param customUnderlineColor If provided, will apply custom textDecorationColor with inline style.\n * @param highlights The ranges to highlight.\n * @param offset The starting index of the stringContent in the original text.\n */\nexport function appendStylizedStringToContainer(\n\troot: HTMLElement,\n\tstringContent: string,\n\tcssClasses: string[],\n\tlinkDetector: ILinkDetector,\n\tworkspaceFolder: IWorkspaceFolder | undefined,\n\tcustomTextColor: RGBA | string | undefined,\n\tcustomBackgroundColor: RGBA | string | undefined,\n\tcustomUnderlineColor: RGBA | string | undefined,\n\thighlights: IHighlight[] | undefined,\n\toffset: number,\n): void {\n\tif (!root || !stringContent) {\n\t\treturn;\n\t}\n\n\tconst container = linkDetector.linkify(\n\t\tstringContent,\n\t\ttrue,\n\t\tworkspaceFolder,\n\t\tundefined,\n\t\tundefined,\n\t\thighlights?.map(h => ({ start: h.start - offset, end: h.end - offset, extraClasses: h.extraClasses })),\n\t);\n\n\tcontainer.className = cssClasses.join(' ');\n\tif (customTextColor) {\n\t\tcontainer.style.color =\n\t\t\ttypeof customTextColor === 'string' ? `var(${customTextColor})` : Color.Format.CSS.formatRGB(new Color(customTextColor));\n\t}\n\tif (customBackgroundColor) {\n\t\tcontainer.style.backgroundColor =\n\t\t\ttypeof customBackgroundColor === 'string' ? `var(${customBackgroundColor})` : Color.Format.CSS.formatRGB(new Color(customBackgroundColor));\n\t}\n\tif (customUnderlineColor) {\n\t\tcontainer.style.textDecorationColor =\n\t\t\ttypeof customUnderlineColor === 'string' ? `var(${customUnderlineColor})` : Color.Format.CSS.formatRGB(new Color(customUnderlineColor));\n\t}\n\n\troot.appendChild(container);\n}\n\n/**\n * Calculate the color from the color set defined in the ANSI 8-bit standard.\n * Standard and high intensity colors are not defined in the standard as specific\n * colors, so these and invalid colors return `undefined`.\n * @see {@link https://en.wikipedia.org/wiki/ANSI_escape_code#8-bit } for info.\n * @param colorNumber The number (ranging from 16 to 255) referring to the color\n * desired.\n */\nexport function calcANSI8bitColor(colorNumber: number): RGBA | undefined {\n\tif (colorNumber % 1 !== 0) {\n\t\t// Should be integer\n\t\treturn;\n\t} if (colorNumber >= 16 && colorNumber <= 231) {\n\t\t// Converts to one of 216 RGB colors\n\t\tcolorNumber -= 16;\n\n\t\tlet blue: number = colorNumber % 6;\n\t\tcolorNumber = (colorNumber - blue) / 6;\n\t\tlet green: number = colorNumber % 6;\n\t\tcolorNumber = (colorNumber - green) / 6;\n\t\tlet red: number = colorNumber;\n\n\t\t// red, green, blue now range on [0, 5], need to map to [0,255]\n\t\tconst convFactor: number = 255 / 5;\n\t\tblue = Math.round(blue * convFactor);\n\t\tgreen = Math.round(green * convFactor);\n\t\tred = Math.round(red * convFactor);\n\n\t\treturn new RGBA(red, green, blue);\n\t} else if (colorNumber >= 232 && colorNumber <= 255) {\n\t\t// Converts to a grayscale value\n\t\tcolorNumber -= 232;\n\t\tconst colorLevel: number = Math.round(colorNumber / 23 * 255);\n\t\treturn new RGBA(colorLevel, colorLevel, colorLevel);\n\t} else {\n\t\treturn;\n\t}\n}\n\nregisterThemingParticipant((theme, collector) => {\n\tconst areas = [\n\t\t{ selector: '.monaco-workbench .sidebar, .monaco-workbench .auxiliarybar', bg: theme.getColor(SIDE_BAR_BACKGROUND) },\n\t\t{ selector: '.monaco-workbench .panel', bg: theme.getColor(PANEL_BACKGROUND) },\n\t\t{ selector: '.monaco-workbench .monaco-list-row.selected', bg: theme.getColor(listInactiveSelectionBackground) },\n\t\t{ selector: '.monaco-workbench .monaco-list-row.focused', bg: theme.getColor(listInactiveFocusBackground) },\n\t\t{ selector: '.monaco-workbench .monaco-list:focus .monaco-list-row.focused', bg: theme.getColor(listFocusBackground) },\n\t\t{ selector: '.monaco-workbench .monaco-list:focus .monaco-list-row.selected', bg: theme.getColor(listActiveSelectionBackground) },\n\t\t{ selector: '.debug-hover-widget', bg: theme.getColor(editorHoverBackground) },\n\t];\n\n\tfor (const { selector, bg } of areas) {\n\t\tconst content = ansiColorIdentifiers\n\t\t\t.map(color => {\n\t\t\t\tconst actual = theme.getColor(color);\n\t\t\t\tif (!actual) { return undefined; }\n\t\t\t\t// this uses the default contrast ratio of 4 (from the terminal),\n\t\t\t\t// we may want to make this configurable in the future, but this is\n\t\t\t\t// good to keep things sane to start with.\n\t\t\t\treturn `--vscode-debug-ansi-${color.replaceAll('.', '-')}:${bg ? bg.ensureConstrast(actual, 4) : actual}`;\n\t\t\t})\n\t\t\t.filter(isDefined);\n\n\t\tcollector.addRule(`${selector} { ${content.join(';')} }`);\n\t}\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IHighlight } from '../../../../base/browser/ui/highlightedlabel/highlightedLabel.js';\nimport { Color, RGBA } from '../../../../base/common/color.js';\nimport { isDefined } from '../../../../base/common/types.js';\nimport { editorHoverBackground, listActiveSelectionBackground, listFocusBackground, listInactiveFocusBackground, listInactiveSelectionBackground } from '../../../../platform/theme/common/colorRegistry.js';\nimport { registerThemingParticipant } from '../../../../platform/theme/common/themeService.js';\nimport { IWorkspaceFolder } from '../../../../platform/workspace/common/workspace.js';\nimport { PANEL_BACKGROUND, SIDE_BAR_BACKGROUND } from '../../../common/theme.js';\nimport { ansiColorIdentifiers } from '../../terminal/common/terminalColorRegistry.js';\nimport { ILinkDetector } from './linkDetector.js';\n\n/**\n * @param text The content to stylize.\n * @returns An {@link HTMLSpanElement} that contains the potentially stylized text.\n */\nexport function handleANSIOutput(text: string, linkDetector: ILinkDetector, workspaceFolder: IWorkspaceFolder | undefined, highlights: IHighlight[] | undefined): HTMLSpanElement {\n\n\tconst root: HTMLSpanElement = document.createElement('span');\n\tconst textLength: number = text.length;\n\n\tlet styleNames: string[] = [];\n\tlet customFgColor: RGBA | string | undefined;\n\tlet customBgColor: RGBA | string | undefined;\n\tlet customUnderlineColor: RGBA | string | undefined;\n\tlet colorsInverted: boolean = false;\n\tlet currentPos: number = 0;\n\tlet unprintedChars = 0;\n\tlet buffer: string = '';\n\n\twhile (currentPos < textLength) {\n\n\t\tlet sequenceFound: boolean = false;\n\n\t\t// Potentially an ANSI escape sequence.\n\t\t// See http://ascii-table.com/ansi-escape-sequences.php & https://en.wikipedia.org/wiki/ANSI_escape_code\n\t\tif (text.charCodeAt(currentPos) === 27 && text.charAt(currentPos + 1) === '[') {\n\n\t\t\tconst startPos: number = currentPos;\n\t\t\tcurrentPos += 2; // Ignore 'Esc[' as it's in every sequence.\n\n\t\t\tlet ansiSequence: string = '';\n\n\t\t\twhile (currentPos < textLength) {\n\t\t\t\tconst char: string = text.charAt(currentPos);\n\t\t\t\tansiSequence += char;\n\n\t\t\t\tcurrentPos++;\n\n\t\t\t\t// Look for a known sequence terminating character.\n\t\t\t\tif (char.match(/^[ABCDHIJKfhmpsu]$/)) {\n\t\t\t\t\tsequenceFound = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif (sequenceFound) {\n\n\t\t\t\tunprintedChars += 2 + ansiSequence.length;\n\n\t\t\t\t// Flush buffer with previous styles.\n\t\t\t\tappendStylizedStringToContainer(root, buffer, styleNames, linkDetector, workspaceFolder, customFgColor, customBgColor, customUnderlineColor, highlights, currentPos - buffer.length - unprintedChars);\n\n\t\t\t\tbuffer = '';\n\n\t\t\t\t/*\n\t\t\t\t * Certain ranges that are matched here do not contain real graphics rendition sequences. For\n\t\t\t\t * the sake of having a simpler expression, they have been included anyway.\n\t\t\t\t */\n\t\t\t\tif (ansiSequence.match(/^(?:[34][0-8]|9[0-7]|10[0-7]|[0-9]|2[1-5,7-9]|[34]9|5[8,9]|1[0-9])(?:;[349][0-7]|10[0-7]|[013]|[245]|[34]9)?(?:;[012]?[0-9]?[0-9])*;?m$/)) {\n\n\t\t\t\t\tconst styleCodes: number[] = ansiSequence.slice(0, -1) // Remove final 'm' character.\n\t\t\t\t\t\t.split(';')\t\t\t\t\t\t\t\t\t\t   // Separate style codes.\n\t\t\t\t\t\t.filter(elem => elem !== '')\t\t\t           // Filter empty elems as '34;m' -> ['34', ''].\n\t\t\t\t\t\t.map(elem => parseInt(elem, 10));\t\t           // Convert to numbers.\n\n\t\t\t\t\tif (styleCodes[0] === 38 || styleCodes[0] === 48 || styleCodes[0] === 58) {\n\t\t\t\t\t\t// Advanced color code - can't be combined with formatting codes like simple colors can\n\t\t\t\t\t\t// Ignores invalid colors and additional info beyond what is necessary\n\t\t\t\t\t\tconst colorType = (styleCodes[0] === 38) ? 'foreground' : ((styleCodes[0] === 48) ? 'background' : 'underline');\n\n\t\t\t\t\t\tif (styleCodes[1] === 5) {\n\t\t\t\t\t\t\tset8BitColor(styleCodes, colorType);\n\t\t\t\t\t\t} else if (styleCodes[1] === 2) {\n\t\t\t\t\t\t\tset24BitColor(styleCodes, colorType);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetBasicFormatters(styleCodes);\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\t// Unsupported sequence so simply hide it.\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tcurrentPos = startPos;\n\t\t\t}\n\t\t}\n\n\t\tif (sequenceFound === false) {\n\t\t\tbuffer += text.charAt(currentPos);\n\t\t\tcurrentPos++;\n\t\t}\n\t}\n\n\t// Flush remaining text buffer if not empty.\n\tif (buffer) {\n\t\tappendStylizedStringToContainer(root, buffer, styleNames, linkDetector, workspaceFolder, customFgColor, customBgColor, customUnderlineColor, highlights, currentPos - buffer.length);\n\t}\n\n\treturn root;\n\n\t/**\n\t * Change the foreground or background color by clearing the current color\n\t * and adding the new one.\n\t * @param colorType If `'foreground'`, will change the foreground color, if\n\t * \t`'background'`, will change the background color, and if `'underline'`\n\t * will set the underline color.\n\t * @param color Color to change to. If `undefined` or not provided,\n\t * will clear current color without adding a new one.\n\t */\n\tfunction changeColor(colorType: 'foreground' | 'background' | 'underline', color?: RGBA | string): void {\n\t\tif (colorType === 'foreground') {\n\t\t\tcustomFgColor = color;\n\t\t} else if (colorType === 'background') {\n\t\t\tcustomBgColor = color;\n\t\t} else if (colorType === 'underline') {\n\t\t\tcustomUnderlineColor = color;\n\t\t}\n\t\tstyleNames = styleNames.filter(style => style !== `code-${colorType}-colored`);\n\t\tif (color !== undefined) {\n\t\t\tstyleNames.push(`code-${colorType}-colored`);\n\t\t}\n\t}\n\n\t/**\n\t * Swap foreground and background colors.  Used for color inversion.  Caller should check\n\t * [] flag to make sure it is appropriate to turn ON or OFF (if it is already inverted don't call\n\t */\n\tfunction reverseForegroundAndBackgroundColors(): void {\n\t\tconst oldFgColor = customFgColor;\n\t\tchangeColor('foreground', customBgColor);\n\t\tchangeColor('background', oldFgColor);\n\t}\n\n\t/**\n\t * Calculate and set basic ANSI formatting. Supports ON/OFF of bold, italic, underline,\n\t * double underline,  crossed-out/strikethrough, overline, dim, blink, rapid blink,\n\t * reverse/invert video, hidden, superscript, subscript and alternate font codes,\n\t * clearing/resetting of foreground, background and underline colors,\n\t * setting normal foreground and background colors, and bright foreground and\n\t * background colors. Not to be used for codes containing advanced colors.\n\t * Will ignore invalid codes.\n\t * @param styleCodes Array of ANSI basic styling numbers, which will be\n\t * applied in order. New colors and backgrounds clear old ones; new formatting\n\t * does not.\n\t * @see {@link https://en.wikipedia.org/wiki/ANSI_escape_code#SGR }\n\t */\n\tfunction setBasicFormatters(styleCodes: number[]): void {\n\t\tfor (const code of styleCodes) {\n\t\t\tswitch (code) {\n\t\t\t\tcase 0: {  // reset (everything)\n\t\t\t\t\tstyleNames = [];\n\t\t\t\t\tcustomFgColor = undefined;\n\t\t\t\t\tcustomBgColor = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 1: { // bold\n\t\t\t\t\tstyleNames = styleNames.filter(style => style !== `code-bold`);\n\t\t\t\t\tstyleNames.push('code-bold');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 2: { // dim\n\t\t\t\t\tstyleNames = styleNames.filter(style => style !== `code-dim`);\n\t\t\t\t\tstyleNames.push('code-dim');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 3: { // italic\n\t\t\t\t\tstyleNames = styleNames.filter(style => style !== `code-italic`);\n\t\t\t\t\tstyleNames.push('code-italic');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 4: { // underline\n\t\t\t\t\tstyleNames = styleNames.filter(style => (style !== `code-underline` && style !== `code-double-underline`));\n\t\t\t\t\tstyleNames.push('code-underline');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 5: { // blink\n\t\t\t\t\tstyleNames = styleNames.filter(style => style !== `code-blink`);\n\t\t\t\t\tstyleNames.push('code-blink');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 6: { // rapid blink\n\t\t\t\t\tstyleNames = styleNames.filter(style => style !== `code-rapid-blink`);\n\t\t\t\t\tstyleNames.push('code-rapid-blink');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 7: { // invert foreground and background\n\t\t\t\t\tif (!colorsInverted) {\n\t\t\t\t\t\tcolorsInverted = true;\n\t\t\t\t\t\treverseForegroundAndBackgroundColors();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 8: { // hidden\n\t\t\t\t\tstyleNames = styleNames.filter(style => style !== `code-hidden`);\n\t\t\t\t\tstyleNames.push('code-hidden');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 9: { // strike-through/crossed-out\n\t\t\t\t\tstyleNames = styleNames.filter(style => style !== `code-strike-through`);\n\t\t\t\t\tstyleNames.push('code-strike-through');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 10: { // normal default font\n\t\t\t\t\tstyleNames = styleNames.filter(style => !style.startsWith('code-font'));\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 11: case 12: case 13: case 14: case 15: case 16: case 17: case 18: case 19: case 20: { // font codes (and 20 is 'blackletter' font code)\n\t\t\t\t\tstyleNames = styleNames.filter(style => !style.startsWith('code-font'));\n\t\t\t\t\tstyleNames.push(`code-font-${code - 10}`);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 21: { // double underline\n\t\t\t\t\tstyleNames = styleNames.filter(style => (style !== `code-underline` && style !== `code-double-underline`));\n\t\t\t\t\tstyleNames.push('code-double-underline');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 22: { // normal intensity (bold off and dim off)\n\t\t\t\t\tstyleNames = styleNames.filter(style => (style !== `code-bold` && style !== `code-dim`));\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 23: { // Neither italic or blackletter (font 10)\n\t\t\t\t\tstyleNames = styleNames.filter(style => (style !== `code-italic` && style !== `code-font-10`));\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 24: { // not underlined (Neither singly nor doubly underlined)\n\t\t\t\t\tstyleNames = styleNames.filter(style => (style !== `code-underline` && style !== `code-double-underline`));\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 25: { // not blinking\n\t\t\t\t\tstyleNames = styleNames.filter(style => (style !== `code-blink` && style !== `code-rapid-blink`));\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 27: { // not reversed/inverted\n\t\t\t\t\tif (colorsInverted) {\n\t\t\t\t\t\tcolorsInverted = false;\n\t\t\t\t\t\treverseForegroundAndBackgroundColors();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 28: { // not hidden (reveal)\n\t\t\t\t\tstyleNames = styleNames.filter(style => style !== `code-hidden`);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 29: { // not crossed-out\n\t\t\t\t\tstyleNames = styleNames.filter(style => style !== `code-strike-through`);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 53: { // overlined\n\t\t\t\t\tstyleNames = styleNames.filter(style => style !== `code-overline`);\n\t\t\t\t\tstyleNames.push('code-overline');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 55: { // not overlined\n\t\t\t\t\tstyleNames = styleNames.filter(style => style !== `code-overline`);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 39: {  // default foreground color\n\t\t\t\t\tchangeColor('foreground', undefined);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 49: {  // default background color\n\t\t\t\t\tchangeColor('background', undefined);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 59: {  // default underline color\n\t\t\t\t\tchangeColor('underline', undefined);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 73: { // superscript\n\t\t\t\t\tstyleNames = styleNames.filter(style => (style !== `code-superscript` && style !== `code-subscript`));\n\t\t\t\t\tstyleNames.push('code-superscript');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 74: { // subscript\n\t\t\t\t\tstyleNames = styleNames.filter(style => (style !== `code-superscript` && style !== `code-subscript`));\n\t\t\t\t\tstyleNames.push('code-subscript');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 75: { // neither superscript or subscript\n\t\t\t\t\tstyleNames = styleNames.filter(style => (style !== `code-superscript` && style !== `code-subscript`));\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tdefault: {\n\t\t\t\t\tsetBasicColor(code);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Calculate and set styling for complicated 24-bit ANSI color codes.\n\t * @param styleCodes Full list of integer codes that make up the full ANSI\n\t * sequence, including the two defining codes and the three RGB codes.\n\t * @param colorType If `'foreground'`, will set foreground color, if\n\t * `'background'`, will set background color, and if it is `'underline'`\n\t * will set the underline color.\n\t * @see {@link https://en.wikipedia.org/wiki/ANSI_escape_code#24-bit }\n\t */\n\tfunction set24BitColor(styleCodes: number[], colorType: 'foreground' | 'background' | 'underline'): void {\n\t\tif (styleCodes.length >= 5 &&\n\t\t\tstyleCodes[2] >= 0 && styleCodes[2] <= 255 &&\n\t\t\tstyleCodes[3] >= 0 && styleCodes[3] <= 255 &&\n\t\t\tstyleCodes[4] >= 0 && styleCodes[4] <= 255) {\n\t\t\tconst customColor = new RGBA(styleCodes[2], styleCodes[3], styleCodes[4]);\n\t\t\tchangeColor(colorType, customColor);\n\t\t}\n\t}\n\n\t/**\n\t * Calculate and set styling for advanced 8-bit ANSI color codes.\n\t * @param styleCodes Full list of integer codes that make up the ANSI\n\t * sequence, including the two defining codes and the one color code.\n\t * @param colorType If `'foreground'`, will set foreground color, if\n\t * `'background'`, will set background color and if it is `'underline'`\n\t * will set the underline color.\n\t * @see {@link https://en.wikipedia.org/wiki/ANSI_escape_code#8-bit }\n\t */\n\tfunction set8BitColor(styleCodes: number[], colorType: 'foreground' | 'background' | 'underline'): void {\n\t\tlet colorNumber = styleCodes[2];\n\t\tconst color = calcANSI8bitColor(colorNumber);\n\n\t\tif (color) {\n\t\t\tchangeColor(colorType, color);\n\t\t} else if (colorNumber >= 0 && colorNumber <= 15) {\n\t\t\tif (colorType === 'underline') {\n\t\t\t\t// for underline colors we just decode the 0-15 color number to theme color, set and return\n\t\t\t\tconst colorName = ansiColorIdentifiers[colorNumber];\n\t\t\t\tchangeColor(colorType, `--vscode-debug-ansi-${colorName}`);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// Need to map to one of the four basic color ranges (30-37, 90-97, 40-47, 100-107)\n\t\t\tcolorNumber += 30;\n\t\t\tif (colorNumber >= 38) {\n\t\t\t\t// Bright colors\n\t\t\t\tcolorNumber += 52;\n\t\t\t}\n\t\t\tif (colorType === 'background') {\n\t\t\t\tcolorNumber += 10;\n\t\t\t}\n\t\t\tsetBasicColor(colorNumber);\n\t\t}\n\t}\n\n\t/**\n\t * Calculate and set styling for basic bright and dark ANSI color codes. Uses\n\t * theme colors if available. Automatically distinguishes between foreground\n\t * and background colors; does not support color-clearing codes 39 and 49.\n\t * @param styleCode Integer color code on one of the following ranges:\n\t * [30-37, 90-97, 40-47, 100-107]. If not on one of these ranges, will do\n\t * nothing.\n\t */\n\tfunction setBasicColor(styleCode: number): void {\n\t\tlet colorType: 'foreground' | 'background' | undefined;\n\t\tlet colorIndex: number | undefined;\n\n\t\tif (styleCode >= 30 && styleCode <= 37) {\n\t\t\tcolorIndex = styleCode - 30;\n\t\t\tcolorType = 'foreground';\n\t\t} else if (styleCode >= 90 && styleCode <= 97) {\n\t\t\tcolorIndex = (styleCode - 90) + 8; // High-intensity (bright)\n\t\t\tcolorType = 'foreground';\n\t\t} else if (styleCode >= 40 && styleCode <= 47) {\n\t\t\tcolorIndex = styleCode - 40;\n\t\t\tcolorType = 'background';\n\t\t} else if (styleCode >= 100 && styleCode <= 107) {\n\t\t\tcolorIndex = (styleCode - 100) + 8; // High-intensity (bright)\n\t\t\tcolorType = 'background';\n\t\t}\n\n\t\tif (colorIndex !== undefined && colorType) {\n\t\t\tconst colorName = ansiColorIdentifiers[colorIndex];\n\t\t\tchangeColor(colorType, `--vscode-debug-ansi-${colorName.replaceAll('.', '-')}`);\n\t\t}\n\t}\n}\n\n/**\n * @param root The {@link HTMLElement} to append the content to.\n * @param stringContent The text content to be appended.\n * @param cssClasses The list of CSS styles to apply to the text content.\n * @param linkDetector The {@link ILinkDetector} responsible for generating links from {@param stringContent}.\n * @param customTextColor If provided, will apply custom color with inline style.\n * @param customBackgroundColor If provided, will apply custom backgroundColor with inline style.\n * @param customUnderlineColor If provided, will apply custom textDecorationColor with inline style.\n * @param highlights The ranges to highlight.\n * @param offset The starting index of the stringContent in the original text.\n */\nexport function appendStylizedStringToContainer(\n\troot: HTMLElement,\n\tstringContent: string,\n\tcssClasses: string[],\n\tlinkDetector: ILinkDetector,\n\tworkspaceFolder: IWorkspaceFolder | undefined,\n\tcustomTextColor: RGBA | string | undefined,\n\tcustomBackgroundColor: RGBA | string | undefined,\n\tcustomUnderlineColor: RGBA | string | undefined,\n\thighlights: IHighlight[] | undefined,\n\toffset: number,\n): void {\n\tif (!root || !stringContent) {\n\t\treturn;\n\t}\n\n\tconst container = linkDetector.linkify(\n\t\tstringContent,\n\t\ttrue,\n\t\tworkspaceFolder,\n\t\tundefined,\n\t\tundefined,\n\t\thighlights?.map(h => ({ start: h.start - offset, end: h.end - offset, extraClasses: h.extraClasses })),\n\t);\n\n\tcontainer.className = cssClasses.join(' ');\n\tif (customTextColor) {\n\t\tcontainer.style.color =\n\t\t\ttypeof customTextColor === 'string' ? `var(${customTextColor})` : Color.Format.CSS.formatRGB(new Color(customTextColor));\n\t}\n\tif (customBackgroundColor) {\n\t\tcontainer.style.backgroundColor =\n\t\t\ttypeof customBackgroundColor === 'string' ? `var(${customBackgroundColor})` : Color.Format.CSS.formatRGB(new Color(customBackgroundColor));\n\t}\n\tif (customUnderlineColor) {\n\t\tcontainer.style.textDecorationColor =\n\t\t\ttypeof customUnderlineColor === 'string' ? `var(${customUnderlineColor})` : Color.Format.CSS.formatRGB(new Color(customUnderlineColor));\n\t}\n\n\troot.appendChild(container);\n}\n\n/**\n * Calculate the color from the color set defined in the ANSI 8-bit standard.\n * Standard and high intensity colors are not defined in the standard as specific\n * colors, so these and invalid colors return `undefined`.\n * @see {@link https://en.wikipedia.org/wiki/ANSI_escape_code#8-bit } for info.\n * @param colorNumber The number (ranging from 16 to 255) referring to the color\n * desired.\n */\nexport function calcANSI8bitColor(colorNumber: number): RGBA | undefined {\n\tif (colorNumber % 1 !== 0) {\n\t\t// Should be integer\n\t\treturn;\n\t} if (colorNumber >= 16 && colorNumber <= 231) {\n\t\t// Converts to one of 216 RGB colors\n\t\tcolorNumber -= 16;\n\n\t\tlet blue: number = colorNumber % 6;\n\t\tcolorNumber = (colorNumber - blue) / 6;\n\t\tlet green: number = colorNumber % 6;\n\t\tcolorNumber = (colorNumber - green) / 6;\n\t\tlet red: number = colorNumber;\n\n\t\t// red, green, blue now range on [0, 5], need to map to [0,255]\n\t\tconst convFactor: number = 255 / 5;\n\t\tblue = Math.round(blue * convFactor);\n\t\tgreen = Math.round(green * convFactor);\n\t\tred = Math.round(red * convFactor);\n\n\t\treturn new RGBA(red, green, blue);\n\t} else if (colorNumber >= 232 && colorNumber <= 255) {\n\t\t// Converts to a grayscale value\n\t\tcolorNumber -= 232;\n\t\tconst colorLevel: number = Math.round(colorNumber / 23 * 255);\n\t\treturn new RGBA(colorLevel, colorLevel, colorLevel);\n\t} else {\n\t\treturn;\n\t}\n}\n\nregisterThemingParticipant((theme, collector) => {\n\tconst areas = [\n\t\t{ selector: '.monaco-workbench .sidebar, .monaco-workbench .auxiliarybar', bg: theme.getColor(SIDE_BAR_BACKGROUND) },\n\t\t{ selector: '.monaco-workbench .panel', bg: theme.getColor(PANEL_BACKGROUND) },\n\t\t{ selector: '.monaco-workbench .monaco-list-row.selected', bg: theme.getColor(listInactiveSelectionBackground) },\n\t\t{ selector: '.monaco-workbench .monaco-list-row.focused', bg: theme.getColor(listInactiveFocusBackground) },\n\t\t{ selector: '.monaco-workbench .monaco-list:focus .monaco-list-row.focused', bg: theme.getColor(listFocusBackground) },\n\t\t{ selector: '.monaco-workbench .monaco-list:focus .monaco-list-row.selected', bg: theme.getColor(listActiveSelectionBackground) },\n\t\t{ selector: '.debug-hover-widget', bg: theme.getColor(editorHoverBackground) },\n\t];\n\n\tfor (const { selector, bg } of areas) {\n\t\tconst content = ansiColorIdentifiers\n\t\t\t.map(color => {\n\t\t\t\tconst actual = theme.getColor(color);\n\t\t\t\tif (!actual) { return undefined; }\n\t\t\t\t// this uses the default contrast ratio of 4 (from the terminal),\n\t\t\t\t// we may want to make this configurable in the future, but this is\n\t\t\t\t// good to keep things sane to start with.\n\t\t\t\treturn `--vscode-debug-ansi-${color.replaceAll('.', '-')}:${bg ? bg.ensureConstrast(actual, 4) : actual}`;\n\t\t\t})\n\t\t\t.filter(isDefined);\n\n\t\tcollector.addRule(`${selector} { ${content.join(';')} }`);\n\t}\n});\n"]}