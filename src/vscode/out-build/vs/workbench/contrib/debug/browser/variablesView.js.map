{"version":3,"sources":["vs/workbench/contrib/debug/browser/variablesView.ts"],"names":[],"mappings":"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","file":"variablesView.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../base/browser/dom.js';\nimport { ActionBar } from '../../../../base/browser/ui/actionbar/actionbar.js';\nimport { HighlightedLabel, IHighlight } from '../../../../base/browser/ui/highlightedlabel/highlightedLabel.js';\nimport { IListVirtualDelegate } from '../../../../base/browser/ui/list/list.js';\nimport { IListAccessibilityProvider } from '../../../../base/browser/ui/list/listWidget.js';\nimport { AsyncDataTree, IAsyncDataTreeViewState } from '../../../../base/browser/ui/tree/asyncDataTree.js';\nimport { ITreeContextMenuEvent, ITreeMouseEvent, ITreeNode, ITreeRenderer } from '../../../../base/browser/ui/tree/tree.js';\nimport { IAction, toAction } from '../../../../base/common/actions.js';\nimport { coalesce } from '../../../../base/common/arrays.js';\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { CancellationToken, CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { FuzzyScore, createMatches } from '../../../../base/common/filters.js';\nimport { IDisposable, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { localize } from '../../../../nls.js';\nimport { getContextMenuActions } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { IMenuService, MenuId, registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { IClipboardService } from '../../../../platform/clipboard/common/clipboardService.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { ContextKeyExpr, IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IContextMenuService, IContextViewService } from '../../../../platform/contextview/browser/contextView.js';\nimport { IHoverService } from '../../../../platform/hover/browser/hover.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { WorkbenchAsyncDataTree } from '../../../../platform/list/browser/listService.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { ProgressLocation } from '../../../../platform/progress/common/progress.js';\nimport { ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { ViewAction, ViewPane } from '../../../browser/parts/views/viewPane.js';\nimport { IViewletViewOptions } from '../../../browser/parts/views/viewsViewlet.js';\nimport { IViewDescriptorService } from '../../../common/views.js';\nimport { IEditorService, SIDE_GROUP } from '../../../services/editor/common/editorService.js';\nimport { IExtensionService } from '../../../services/extensions/common/extensions.js';\nimport { IViewsService } from '../../../services/views/common/viewsService.js';\nimport { IExtensionsWorkbenchService } from '../../extensions/common/extensions.js';\nimport { CONTEXT_BREAK_WHEN_VALUE_CHANGES_SUPPORTED, CONTEXT_BREAK_WHEN_VALUE_IS_ACCESSED_SUPPORTED, CONTEXT_BREAK_WHEN_VALUE_IS_READ_SUPPORTED, CONTEXT_VARIABLES_FOCUSED, DebugVisualizationType, IDebugService, IDebugViewWithVariables, IExpression, IScope, IStackFrame, IViewModel, VARIABLES_VIEW_ID, WATCH_VIEW_ID } from '../common/debug.js';\nimport { getContextForVariable } from '../common/debugContext.js';\nimport { ErrorScope, Expression, Scope, StackFrame, Variable, VisualizedExpression, getUriForDebugMemory } from '../common/debugModel.js';\nimport { DebugVisualizer, IDebugVisualizerService } from '../common/debugVisualizers.js';\nimport { AbstractExpressionDataSource, AbstractExpressionsRenderer, expressionAndScopeLabelProvider, IExpressionTemplateData, IInputBoxOptions, renderViewTree } from './baseDebugView.js';\nimport { ADD_TO_WATCH_ID, ADD_TO_WATCH_LABEL, COPY_EVALUATE_PATH_ID, COPY_EVALUATE_PATH_LABEL, COPY_VALUE_ID, COPY_VALUE_LABEL, setDataBreakpointInfoResponse } from './debugCommands.js';\nimport { DebugExpressionRenderer } from './debugExpressionRenderer.js';\n\nconst $ = dom.$;\nlet forgetScopes = true;\n\nlet variableInternalContext: Variable | undefined;\n\ninterface IVariablesContext {\n\tsessionId: string | undefined;\n\tcontainer: DebugProtocol.Variable | DebugProtocol.Scope | DebugProtocol.EvaluateArguments;\n\tvariable: DebugProtocol.Variable;\n}\n\nexport class VariablesView extends ViewPane implements IDebugViewWithVariables {\n\n\tprivate updateTreeScheduler: RunOnceScheduler;\n\tprivate needsRefresh = false;\n\tprivate tree!: WorkbenchAsyncDataTree<IStackFrame | null, IExpression | IScope, FuzzyScore>;\n\tprivate savedViewState = new Map<string, IAsyncDataTreeViewState>();\n\tprivate autoExpandedScopes = new Set<string>();\n\n\tpublic get treeSelection() {\n\t\treturn this.tree.getSelection();\n\t}\n\n\tconstructor(\n\t\toptions: IViewletViewOptions,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IDebugService private readonly debugService: IDebugService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IOpenerService openerService: IOpenerService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IHoverService hoverService: IHoverService,\n\t\t@IMenuService private readonly menuService: IMenuService\n\t) {\n\t\tsuper(options, keybindingService, contextMenuService, configurationService, contextKeyService, viewDescriptorService, instantiationService, openerService, themeService, hoverService);\n\n\t\t// Use scheduler to prevent unnecessary flashing\n\t\tthis.updateTreeScheduler = new RunOnceScheduler(async () => {\n\t\t\tconst stackFrame = this.debugService.getViewModel().focusedStackFrame;\n\n\t\t\tthis.needsRefresh = false;\n\t\t\tconst input = this.tree.getInput();\n\t\t\tif (input) {\n\t\t\t\tthis.savedViewState.set(input.getId(), this.tree.getViewState());\n\t\t\t}\n\t\t\tif (!stackFrame) {\n\t\t\t\tawait this.tree.setInput(null);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst viewState = this.savedViewState.get(stackFrame.getId());\n\t\t\tawait this.tree.setInput(stackFrame, viewState);\n\n\t\t\t// Automatically expand the first non-expensive scope\n\t\t\tconst scopes = await stackFrame.getScopes();\n\t\t\tconst toExpand = scopes.find(s => !s.expensive);\n\n\t\t\t// A race condition could be present causing the scopes here to be different from the scopes that the tree just retrieved.\n\t\t\t// If that happened, don't try to reveal anything, it will be straightened out on the next update\n\t\t\tif (toExpand && this.tree.hasNode(toExpand)) {\n\t\t\t\tthis.autoExpandedScopes.add(toExpand.getId());\n\t\t\t\tawait this.tree.expand(toExpand);\n\t\t\t}\n\t\t}, 400);\n\t}\n\n\tprotected override renderBody(container: HTMLElement): void {\n\t\tsuper.renderBody(container);\n\n\t\tthis.element.classList.add('debug-pane');\n\t\tcontainer.classList.add('debug-variables');\n\t\tconst treeContainer = renderViewTree(container);\n\t\tconst expressionRenderer = this.instantiationService.createInstance(DebugExpressionRenderer);\n\t\tthis.tree = this.instantiationService.createInstance(WorkbenchAsyncDataTree<IStackFrame | null, IExpression | IScope, FuzzyScore>, 'VariablesView', treeContainer, new VariablesDelegate(),\n\t\t\t[\n\t\t\t\tthis.instantiationService.createInstance(VariablesRenderer, expressionRenderer),\n\t\t\t\tthis.instantiationService.createInstance(VisualizedVariableRenderer, expressionRenderer),\n\t\t\t\tnew ScopesRenderer(),\n\t\t\t\tnew ScopeErrorRenderer(),\n\t\t\t],\n\t\t\tthis.instantiationService.createInstance(VariablesDataSource), {\n\t\t\taccessibilityProvider: new VariablesAccessibilityProvider(),\n\t\t\tidentityProvider: { getId: (element: IExpression | IScope) => element.getId() },\n\t\t\tkeyboardNavigationLabelProvider: expressionAndScopeLabelProvider,\n\t\t\toverrideStyles: this.getLocationBasedColors().listOverrideStyles\n\t\t});\n\n\t\tthis._register(VisualizedVariableRenderer.rendererOnVisualizationRange(this.debugService.getViewModel(), this.tree));\n\t\tthis.tree.setInput(this.debugService.getViewModel().focusedStackFrame ?? null);\n\n\t\tCONTEXT_VARIABLES_FOCUSED.bindTo(this.tree.contextKeyService);\n\n\t\tthis._register(this.debugService.getViewModel().onDidFocusStackFrame(sf => {\n\t\t\tif (!this.isBodyVisible()) {\n\t\t\t\tthis.needsRefresh = true;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Refresh the tree immediately if the user explictly changed stack frames.\n\t\t\t// Otherwise postpone the refresh until user stops stepping.\n\t\t\tconst timeout = sf.explicit ? 0 : undefined;\n\t\t\tthis.updateTreeScheduler.schedule(timeout);\n\t\t}));\n\t\tthis._register(this.debugService.getViewModel().onWillUpdateViews(() => {\n\t\t\tconst stackFrame = this.debugService.getViewModel().focusedStackFrame;\n\t\t\tif (stackFrame && forgetScopes) {\n\t\t\t\tstackFrame.forgetScopes();\n\t\t\t}\n\t\t\tforgetScopes = true;\n\t\t\tthis.tree.updateChildren();\n\t\t}));\n\t\tthis._register(this.tree);\n\t\tthis._register(this.tree.onMouseDblClick(e => this.onMouseDblClick(e)));\n\t\tthis._register(this.tree.onContextMenu(async e => await this.onContextMenu(e)));\n\n\t\tthis._register(this.onDidChangeBodyVisibility(visible => {\n\t\t\tif (visible && this.needsRefresh) {\n\t\t\t\tthis.updateTreeScheduler.schedule();\n\t\t\t}\n\t\t}));\n\t\tlet horizontalScrolling: boolean | undefined;\n\t\tthis._register(this.debugService.getViewModel().onDidSelectExpression(e => {\n\t\t\tconst variable = e?.expression;\n\t\t\tif (variable && this.tree.hasNode(variable)) {\n\t\t\t\thorizontalScrolling = this.tree.options.horizontalScrolling;\n\t\t\t\tif (horizontalScrolling) {\n\t\t\t\t\tthis.tree.updateOptions({ horizontalScrolling: false });\n\t\t\t\t}\n\n\t\t\t\tthis.tree.rerender(variable);\n\t\t\t} else if (!e && horizontalScrolling !== undefined) {\n\t\t\t\tthis.tree.updateOptions({ horizontalScrolling: horizontalScrolling });\n\t\t\t\thorizontalScrolling = undefined;\n\t\t\t}\n\t\t}));\n\t\tthis._register(this.debugService.getViewModel().onDidEvaluateLazyExpression(async e => {\n\t\t\tif (e instanceof Variable && this.tree.hasNode(e)) {\n\t\t\t\tawait this.tree.updateChildren(e, false, true);\n\t\t\t\tawait this.tree.expand(e);\n\t\t\t}\n\t\t}));\n\t\tthis._register(this.debugService.onDidEndSession(() => {\n\t\t\tthis.savedViewState.clear();\n\t\t\tthis.autoExpandedScopes.clear();\n\t\t}));\n\t}\n\n\tprotected override layoutBody(width: number, height: number): void {\n\t\tsuper.layoutBody(height, width);\n\t\tthis.tree.layout(width, height);\n\t}\n\n\toverride focus(): void {\n\t\tsuper.focus();\n\t\tthis.tree.domFocus();\n\t}\n\n\tcollapseAll(): void {\n\t\tthis.tree.collapseAll();\n\t}\n\n\tprivate onMouseDblClick(e: ITreeMouseEvent<IExpression | IScope>): void {\n\t\tif (this.canSetExpressionValue(e.element)) {\n\t\t\tthis.debugService.getViewModel().setSelectedExpression(e.element, false);\n\t\t}\n\t}\n\n\tprivate canSetExpressionValue(e: IExpression | IScope | null): e is IExpression {\n\t\tconst session = this.debugService.getViewModel().focusedSession;\n\t\tif (!session) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (e instanceof VisualizedExpression) {\n\t\t\treturn !!e.treeItem.canEdit;\n\t\t}\n\n\t\tif (!session.capabilities?.supportsSetVariable && !session.capabilities?.supportsSetExpression) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn e instanceof Variable && !e.presentationHint?.attributes?.includes('readOnly') && !e.presentationHint?.lazy;\n\t}\n\n\tprivate async onContextMenu(e: ITreeContextMenuEvent<IExpression | IScope>): Promise<void> {\n\t\tconst variable = e.element;\n\t\tif (!(variable instanceof Variable) || !variable.value) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn openContextMenuForVariableTreeElement(this.contextKeyService, this.menuService, this.contextMenuService, MenuId.DebugVariablesContext, e);\n\t}\n}\n\nexport async function openContextMenuForVariableTreeElement(parentContextKeyService: IContextKeyService, menuService: IMenuService, contextMenuService: IContextMenuService, menuId: MenuId, e: ITreeContextMenuEvent<IExpression | IScope>) {\n\tconst variable = e.element;\n\tif (!(variable instanceof Variable) || !variable.value) {\n\t\treturn;\n\t}\n\n\tconst contextKeyService = await getContextForVariableMenuWithDataAccess(parentContextKeyService, variable);\n\tconst context: IVariablesContext = getVariablesContext(variable);\n\tconst menu = menuService.getMenuActions(menuId, contextKeyService, { arg: context, shouldForwardArgs: false });\n\n\tconst { secondary } = getContextMenuActions(menu, 'inline');\n\tcontextMenuService.showContextMenu({\n\t\tgetAnchor: () => e.anchor,\n\t\tgetActions: () => secondary\n\t});\n}\n\nconst getVariablesContext = (variable: Variable): IVariablesContext => ({\n\tsessionId: variable.getSession()?.getId(),\n\tcontainer: variable.parent instanceof Expression\n\t\t? { expression: variable.parent.name }\n\t\t: (variable.parent as (Variable | Scope)).toDebugProtocolObject(),\n\tvariable: variable.toDebugProtocolObject()\n});\n\n/**\n * Gets a context key overlay that has context for the given variable, including data access info.\n */\nasync function getContextForVariableMenuWithDataAccess(parentContext: IContextKeyService, variable: Variable) {\n\tconst session = variable.getSession();\n\tif (!session || !session.capabilities.supportsDataBreakpoints) {\n\t\treturn getContextForVariableMenuBase(parentContext, variable);\n\t}\n\n\tconst contextKeys: [string, unknown][] = [];\n\tconst dataBreakpointInfoResponse = await session.dataBreakpointInfo(variable.name, variable.parent.reference);\n\tconst dataBreakpointId = dataBreakpointInfoResponse?.dataId;\n\tconst dataBreakpointAccessTypes = dataBreakpointInfoResponse?.accessTypes;\n\tsetDataBreakpointInfoResponse(dataBreakpointInfoResponse);\n\n\tif (!dataBreakpointAccessTypes) {\n\t\tcontextKeys.push([CONTEXT_BREAK_WHEN_VALUE_CHANGES_SUPPORTED.key, !!dataBreakpointId]);\n\t} else {\n\t\tfor (const accessType of dataBreakpointAccessTypes) {\n\t\t\tswitch (accessType) {\n\t\t\t\tcase 'read':\n\t\t\t\t\tcontextKeys.push([CONTEXT_BREAK_WHEN_VALUE_IS_READ_SUPPORTED.key, !!dataBreakpointId]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'write':\n\t\t\t\t\tcontextKeys.push([CONTEXT_BREAK_WHEN_VALUE_CHANGES_SUPPORTED.key, !!dataBreakpointId]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'readWrite':\n\t\t\t\t\tcontextKeys.push([CONTEXT_BREAK_WHEN_VALUE_IS_ACCESSED_SUPPORTED.key, !!dataBreakpointId]);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn getContextForVariableMenuBase(parentContext, variable, contextKeys);\n}\n\n/**\n * Gets a context key overlay that has context for the given variable.\n */\nfunction getContextForVariableMenuBase(parentContext: IContextKeyService, variable: Variable, additionalContext: [string, unknown][] = []) {\n\tvariableInternalContext = variable;\n\treturn getContextForVariable(parentContext, variable, additionalContext);\n}\n\nfunction isStackFrame(obj: any): obj is IStackFrame {\n\treturn obj instanceof StackFrame;\n}\n\nclass VariablesDataSource extends AbstractExpressionDataSource<IStackFrame | null, IExpression | IScope> {\n\n\tpublic override hasChildren(element: IStackFrame | null | IExpression | IScope): boolean {\n\t\tif (!element) {\n\t\t\treturn false;\n\t\t}\n\t\tif (isStackFrame(element)) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn element.hasChildren;\n\t}\n\n\tprotected override doGetChildren(element: IStackFrame | IExpression | IScope): Promise<(IExpression | IScope)[]> {\n\t\tif (isStackFrame(element)) {\n\t\t\treturn element.getScopes();\n\t\t}\n\n\t\treturn element.getChildren();\n\t}\n}\n\ninterface IScopeTemplateData {\n\tname: HTMLElement;\n\tlabel: HighlightedLabel;\n}\n\nclass VariablesDelegate implements IListVirtualDelegate<IExpression | IScope> {\n\n\tgetHeight(element: IExpression | IScope): number {\n\t\treturn 22;\n\t}\n\n\tgetTemplateId(element: IExpression | IScope): string {\n\t\tif (element instanceof ErrorScope) {\n\t\t\treturn ScopeErrorRenderer.ID;\n\t\t}\n\n\t\tif (element instanceof Scope) {\n\t\t\treturn ScopesRenderer.ID;\n\t\t}\n\n\t\tif (element instanceof VisualizedExpression) {\n\t\t\treturn VisualizedVariableRenderer.ID;\n\t\t}\n\n\t\treturn VariablesRenderer.ID;\n\t}\n}\n\nclass ScopesRenderer implements ITreeRenderer<IScope, FuzzyScore, IScopeTemplateData> {\n\n\tstatic readonly ID = 'scope';\n\n\tget templateId(): string {\n\t\treturn ScopesRenderer.ID;\n\t}\n\n\trenderTemplate(container: HTMLElement): IScopeTemplateData {\n\t\tconst name = dom.append(container, $('.scope'));\n\t\tconst label = new HighlightedLabel(name);\n\n\t\treturn { name, label };\n\t}\n\n\trenderElement(element: ITreeNode<IScope, FuzzyScore>, index: number, templateData: IScopeTemplateData): void {\n\t\ttemplateData.label.set(element.element.name, createMatches(element.filterData));\n\t}\n\n\tdisposeTemplate(templateData: IScopeTemplateData): void {\n\t\ttemplateData.label.dispose();\n\t}\n}\n\ninterface IScopeErrorTemplateData {\n\terror: HTMLElement;\n}\n\nclass ScopeErrorRenderer implements ITreeRenderer<IScope, FuzzyScore, IScopeErrorTemplateData> {\n\n\tstatic readonly ID = 'scopeError';\n\n\tget templateId(): string {\n\t\treturn ScopeErrorRenderer.ID;\n\t}\n\n\trenderTemplate(container: HTMLElement): IScopeErrorTemplateData {\n\t\tconst wrapper = dom.append(container, $('.scope'));\n\t\tconst error = dom.append(wrapper, $('.error'));\n\t\treturn { error };\n\t}\n\n\trenderElement(element: ITreeNode<IScope, FuzzyScore>, index: number, templateData: IScopeErrorTemplateData): void {\n\t\ttemplateData.error.innerText = element.element.name;\n\t}\n\n\tdisposeTemplate(): void {\n\t\t// noop\n\t}\n}\n\nexport class VisualizedVariableRenderer extends AbstractExpressionsRenderer {\n\tpublic static readonly ID = 'viz';\n\n\t/**\n\t * Registers a helper that rerenders the tree when visualization is requested\n\t * or cancelled./\n\t */\n\tpublic static rendererOnVisualizationRange(model: IViewModel, tree: AsyncDataTree<any, any, any>): IDisposable {\n\t\treturn model.onDidChangeVisualization(({ original }) => {\n\t\t\tif (!tree.hasNode(original)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst parent: IExpression = tree.getParentElement(original);\n\t\t\ttree.updateChildren(parent, false, false);\n\t\t});\n\n\t}\n\n\tconstructor(\n\t\tprivate readonly expressionRenderer: DebugExpressionRenderer,\n\t\t@IDebugService debugService: IDebugService,\n\t\t@IContextViewService contextViewService: IContextViewService,\n\t\t@IHoverService hoverService: IHoverService,\n\t\t@IMenuService private readonly menuService: IMenuService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t) {\n\t\tsuper(debugService, contextViewService, hoverService);\n\t}\n\n\tpublic override get templateId(): string {\n\t\treturn VisualizedVariableRenderer.ID;\n\t}\n\n\tpublic override renderElement(node: ITreeNode<IExpression, FuzzyScore>, index: number, data: IExpressionTemplateData): void {\n\t\tdata.elementDisposable.clear();\n\t\tsuper.renderExpressionElement(node.element, node, data);\n\t}\n\n\tprotected override renderExpression(expression: IExpression, data: IExpressionTemplateData, highlights: IHighlight[]): void {\n\t\tconst viz = expression as VisualizedExpression;\n\n\t\tlet text = viz.name;\n\t\tif (viz.value && typeof viz.name === 'string') {\n\t\t\ttext += ':';\n\t\t}\n\t\tdata.label.set(text, highlights, viz.name);\n\t\tdata.elementDisposable.add(this.expressionRenderer.renderValue(data.value, viz, {\n\t\t\tshowChanged: false,\n\t\t\tmaxValueLength: 1024,\n\t\t\tcolorize: true,\n\t\t\tsession: expression.getSession(),\n\t\t}));\n\t}\n\n\tprotected override getInputBoxOptions(expression: IExpression): IInputBoxOptions | undefined {\n\t\tconst viz = <VisualizedExpression>expression;\n\t\treturn {\n\t\t\tinitialValue: expression.value,\n\t\t\tariaLabel: localize('variableValueAriaLabel', \"Type new variable value\"),\n\t\t\tvalidationOptions: {\n\t\t\t\tvalidation: () => viz.errorMessage ? ({ content: viz.errorMessage }) : null\n\t\t\t},\n\t\t\tonFinish: (value: string, success: boolean) => {\n\t\t\t\tviz.errorMessage = undefined;\n\t\t\t\tif (success) {\n\t\t\t\t\tviz.edit(value).then(() => {\n\t\t\t\t\t\t// Do not refresh scopes due to a node limitation #15520\n\t\t\t\t\t\tforgetScopes = false;\n\t\t\t\t\t\tthis.debugService.getViewModel().updateViews();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\tprotected override renderActionBar(actionBar: ActionBar, expression: IExpression, _data: IExpressionTemplateData) {\n\t\tconst viz = expression as VisualizedExpression;\n\t\tconst contextKeyService = viz.original ? getContextForVariableMenuBase(this.contextKeyService, viz.original) : this.contextKeyService;\n\t\tconst context = viz.original ? getVariablesContext(viz.original) : undefined;\n\t\tconst menu = this.menuService.getMenuActions(MenuId.DebugVariablesContext, contextKeyService, { arg: context, shouldForwardArgs: false });\n\n\t\tconst { primary } = getContextMenuActions(menu, 'inline');\n\n\t\tif (viz.original) {\n\t\t\tconst action = toAction({\n\t\t\t\tid: 'debugViz', label: localize('removeVisualizer', 'Remove Visualizer'), class: ThemeIcon.asClassName(Codicon.eye), run: () => this.debugService.getViewModel().setVisualizedExpression(viz.original!, undefined)\n\t\t\t});\n\t\t\taction.checked = true;\n\t\t\tprimary.push(action);\n\t\t\tactionBar.domNode.style.display = 'initial';\n\t\t}\n\t\tactionBar.clear();\n\t\tactionBar.context = context;\n\t\tactionBar.push(primary, { icon: true, label: false });\n\t}\n}\n\nexport class VariablesRenderer extends AbstractExpressionsRenderer {\n\n\tstatic readonly ID = 'variable';\n\n\tconstructor(\n\t\tprivate readonly expressionRenderer: DebugExpressionRenderer,\n\t\t@IMenuService private readonly menuService: IMenuService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IDebugVisualizerService private readonly visualization: IDebugVisualizerService,\n\t\t@IContextMenuService private readonly contextMenuService: IContextMenuService,\n\t\t@IDebugService debugService: IDebugService,\n\t\t@IContextViewService contextViewService: IContextViewService,\n\t\t@IHoverService hoverService: IHoverService,\n\t) {\n\t\tsuper(debugService, contextViewService, hoverService);\n\t}\n\n\tget templateId(): string {\n\t\treturn VariablesRenderer.ID;\n\t}\n\n\tprotected renderExpression(expression: IExpression, data: IExpressionTemplateData, highlights: IHighlight[]): void {\n\t\tdata.elementDisposable.add(this.expressionRenderer.renderVariable(data, expression as Variable, {\n\t\t\thighlights,\n\t\t\tshowChanged: true,\n\t\t}));\n\t}\n\n\tpublic override renderElement(node: ITreeNode<IExpression, FuzzyScore>, index: number, data: IExpressionTemplateData): void {\n\t\tdata.elementDisposable.clear();\n\t\tsuper.renderExpressionElement(node.element, node, data);\n\t}\n\n\tprotected getInputBoxOptions(expression: IExpression): IInputBoxOptions {\n\t\tconst variable = <Variable>expression;\n\t\treturn {\n\t\t\tinitialValue: expression.value,\n\t\t\tariaLabel: localize('variableValueAriaLabel', \"Type new variable value\"),\n\t\t\tvalidationOptions: {\n\t\t\t\tvalidation: () => variable.errorMessage ? ({ content: variable.errorMessage }) : null\n\t\t\t},\n\t\t\tonFinish: (value: string, success: boolean) => {\n\t\t\t\tvariable.errorMessage = undefined;\n\t\t\t\tconst focusedStackFrame = this.debugService.getViewModel().focusedStackFrame;\n\t\t\t\tif (success && variable.value !== value && focusedStackFrame) {\n\t\t\t\t\tvariable.setVariable(value, focusedStackFrame)\n\t\t\t\t\t\t// Need to force watch expressions and variables to update since a variable change can have an effect on both\n\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t// Do not refresh scopes due to a node limitation #15520\n\t\t\t\t\t\t\tforgetScopes = false;\n\t\t\t\t\t\t\tthis.debugService.getViewModel().updateViews();\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\tprotected override renderActionBar(actionBar: ActionBar, expression: IExpression, data: IExpressionTemplateData) {\n\t\tconst variable = expression as Variable;\n\t\tconst contextKeyService = getContextForVariableMenuBase(this.contextKeyService, variable);\n\n\t\tconst context = getVariablesContext(variable);\n\t\tconst menu = this.menuService.getMenuActions(MenuId.DebugVariablesContext, contextKeyService, { arg: context, shouldForwardArgs: false });\n\t\tconst { primary } = getContextMenuActions(menu, 'inline');\n\n\t\tactionBar.clear();\n\t\tactionBar.context = context;\n\t\tactionBar.push(primary, { icon: true, label: false });\n\n\t\tconst cts = new CancellationTokenSource();\n\t\tdata.elementDisposable.add(toDisposable(() => cts.dispose(true)));\n\t\tthis.visualization.getApplicableFor(expression, cts.token).then(result => {\n\t\t\tdata.elementDisposable.add(result);\n\n\t\t\tconst originalExpression = (expression instanceof VisualizedExpression && expression.original) || expression;\n\t\t\tconst actions = result.object.map(v => toAction({ id: 'debugViz', label: v.name, class: v.iconClass || 'debug-viz-icon', run: this.useVisualizer(v, originalExpression, cts.token) }));\n\t\t\tif (actions.length === 0) {\n\t\t\t\t// no-op\n\t\t\t} else if (actions.length === 1) {\n\t\t\t\tactionBar.push(actions[0], { icon: true, label: false });\n\t\t\t} else {\n\t\t\t\tactionBar.push(toAction({ id: 'debugViz', label: localize('useVisualizer', 'Visualize Variable...'), class: ThemeIcon.asClassName(Codicon.eye), run: () => this.pickVisualizer(actions, originalExpression, data) }), { icon: true, label: false });\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate pickVisualizer(actions: IAction[], expression: IExpression, data: IExpressionTemplateData) {\n\t\tthis.contextMenuService.showContextMenu({\n\t\t\tgetAnchor: () => data.actionBar!.getContainer(),\n\t\t\tgetActions: () => actions,\n\t\t});\n\t}\n\n\tprivate useVisualizer(viz: DebugVisualizer, expression: IExpression, token: CancellationToken) {\n\t\treturn async () => {\n\t\t\tconst resolved = await viz.resolve(token);\n\t\t\tif (token.isCancellationRequested) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (resolved.type === DebugVisualizationType.Command) {\n\t\t\t\tviz.execute();\n\t\t\t} else {\n\t\t\t\tconst replacement = await this.visualization.getVisualizedNodeFor(resolved.id, expression);\n\t\t\t\tif (replacement) {\n\t\t\t\t\tthis.debugService.getViewModel().setVisualizedExpression(expression, replacement);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n}\n\nclass VariablesAccessibilityProvider implements IListAccessibilityProvider<IExpression | IScope> {\n\n\tgetWidgetAriaLabel(): string {\n\t\treturn localize('variablesAriaTreeLabel', \"Debug Variables\");\n\t}\n\n\tgetAriaLabel(element: IExpression | IScope): string | null {\n\t\tif (element instanceof Scope) {\n\t\t\treturn localize('variableScopeAriaLabel', \"Scope {0}\", element.name);\n\t\t}\n\t\tif (element instanceof Variable) {\n\t\t\treturn localize({ key: 'variableAriaLabel', comment: ['Placeholders are variable name and variable value respectivly. They should not be translated.'] }, \"{0}, value {1}\", element.name, element.value);\n\t\t}\n\n\t\treturn null;\n\t}\n}\n\nexport const SET_VARIABLE_ID = 'debug.setVariable';\nCommandsRegistry.registerCommand({\n\tid: SET_VARIABLE_ID,\n\thandler: (accessor: ServicesAccessor) => {\n\t\tconst debugService = accessor.get(IDebugService);\n\t\tdebugService.getViewModel().setSelectedExpression(variableInternalContext, false);\n\t}\n});\n\nCommandsRegistry.registerCommand({\n\tmetadata: {\n\t\tdescription: COPY_VALUE_LABEL,\n\t},\n\tid: COPY_VALUE_ID,\n\thandler: async (accessor: ServicesAccessor, arg: Variable | Expression | IVariablesContext | undefined, ctx?: (Variable | Expression)[]) => {\n\t\tconst debugService = accessor.get(IDebugService);\n\t\tconst clipboardService = accessor.get(IClipboardService);\n\t\tlet elementContext = '';\n\t\tlet elements: (Variable | Expression)[];\n\t\tif (!arg) {\n\t\t\tconst viewService = accessor.get(IViewsService);\n\t\t\tconst focusedView = viewService.getFocusedView();\n\t\t\tlet view: IDebugViewWithVariables | null | undefined;\n\t\t\tif (focusedView?.id === WATCH_VIEW_ID) {\n\t\t\t\tview = viewService.getActiveViewWithId<IDebugViewWithVariables>(WATCH_VIEW_ID);\n\t\t\t\telementContext = 'watch';\n\t\t\t} else if (focusedView?.id === VARIABLES_VIEW_ID) {\n\t\t\t\tview = viewService.getActiveViewWithId<IDebugViewWithVariables>(VARIABLES_VIEW_ID);\n\t\t\t\telementContext = 'variables';\n\t\t\t}\n\t\t\tif (!view) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telements = view.treeSelection.filter(e => e instanceof Expression || e instanceof Variable);\n\t\t} else if (arg instanceof Variable || arg instanceof Expression) {\n\t\t\telementContext = 'watch';\n\t\t\telements = [arg];\n\t\t} else {\n\t\t\telementContext = 'variables';\n\t\t\telements = variableInternalContext ? [variableInternalContext] : [];\n\t\t}\n\n\t\tconst stackFrame = debugService.getViewModel().focusedStackFrame;\n\t\tconst session = debugService.getViewModel().focusedSession;\n\t\tif (!stackFrame || !session || elements.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst evalContext = session.capabilities.supportsClipboardContext ? 'clipboard' : elementContext;\n\t\tconst toEvaluate = elements.map(element => element instanceof Variable ? (element.evaluateName || element.value) : element.name);\n\n\t\ttry {\n\t\t\tconst evaluations = await Promise.all(toEvaluate.map(expr => session.evaluate(expr, stackFrame.frameId, evalContext)));\n\t\t\tconst result = coalesce(evaluations).map(evaluation => evaluation.body.result);\n\t\t\tif (result.length) {\n\t\t\t\tclipboardService.writeText(result.join('\\n'));\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconst result = elements.map(element => element.value);\n\t\t\tclipboardService.writeText(result.join('\\n'));\n\t\t}\n\t}\n});\n\nexport const VIEW_MEMORY_ID = 'workbench.debug.viewlet.action.viewMemory';\n\nconst HEX_EDITOR_EXTENSION_ID = 'ms-vscode.hexeditor';\nconst HEX_EDITOR_EDITOR_ID = 'hexEditor.hexedit';\n\nCommandsRegistry.registerCommand({\n\tid: VIEW_MEMORY_ID,\n\thandler: async (accessor: ServicesAccessor, arg: IVariablesContext | IExpression, ctx?: (Variable | Expression)[]) => {\n\t\tconst debugService = accessor.get(IDebugService);\n\t\tlet sessionId: string;\n\t\tlet memoryReference: string;\n\t\tif ('sessionId' in arg) { // IVariablesContext\n\t\t\tif (!arg.sessionId || !arg.variable.memoryReference) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsessionId = arg.sessionId;\n\t\t\tmemoryReference = arg.variable.memoryReference;\n\t\t} else { // IExpression\n\t\t\tif (!arg.memoryReference) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst focused = debugService.getViewModel().focusedSession;\n\t\t\tif (!focused) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsessionId = focused.getId();\n\t\t\tmemoryReference = arg.memoryReference;\n\t\t}\n\n\t\tconst extensionsWorkbenchService = accessor.get(IExtensionsWorkbenchService);\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst notificationService = accessor.get(INotificationService);\n\t\tconst extensionService = accessor.get(IExtensionService);\n\t\tconst telemetryService = accessor.get(ITelemetryService);\n\n\t\tconst ext = await extensionService.getExtension(HEX_EDITOR_EXTENSION_ID);\n\t\tif (ext || await tryInstallHexEditor(extensionsWorkbenchService, notificationService)) {\n\t\t\t/* __GDPR__\n\t\t\t\t\"debug/didViewMemory\" : {\n\t\t\t\t\t\"owner\": \"connor4312\",\n\t\t\t\t\t\"debugType\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n\t\t\t\t}\n\t\t\t*/\n\t\t\ttelemetryService.publicLog('debug/didViewMemory', {\n\t\t\t\tdebugType: debugService.getModel().getSession(sessionId)?.configuration.type,\n\t\t\t});\n\n\t\t\tawait editorService.openEditor({\n\t\t\t\tresource: getUriForDebugMemory(sessionId, memoryReference),\n\t\t\t\toptions: {\n\t\t\t\t\trevealIfOpened: true,\n\t\t\t\t\toverride: HEX_EDITOR_EDITOR_ID,\n\t\t\t\t},\n\t\t\t}, SIDE_GROUP);\n\t\t}\n\t}\n});\n\nasync function tryInstallHexEditor(extensionsWorkbenchService: IExtensionsWorkbenchService, notificationService: INotificationService): Promise<boolean> {\n\ttry {\n\t\tawait extensionsWorkbenchService.install(HEX_EDITOR_EXTENSION_ID, {\n\t\t\tjustification: localize(\"viewMemory.prompt\", \"Inspecting binary data requires this extension.\"),\n\t\t\tenable: true\n\t\t}, ProgressLocation.Notification);\n\t\treturn true;\n\t} catch (error) {\n\t\tnotificationService.error(error);\n\t\treturn false;\n\t}\n}\n\nCommandsRegistry.registerCommand({\n\tmetadata: {\n\t\tdescription: COPY_EVALUATE_PATH_LABEL,\n\t},\n\tid: COPY_EVALUATE_PATH_ID,\n\thandler: async (accessor: ServicesAccessor, context: IVariablesContext | Variable) => {\n\t\tconst clipboardService = accessor.get(IClipboardService);\n\t\tif (context instanceof Variable) {\n\t\t\tawait clipboardService.writeText(context.evaluateName!);\n\t\t} else {\n\t\t\tawait clipboardService.writeText(context.variable.evaluateName!);\n\t\t}\n\t}\n});\n\nCommandsRegistry.registerCommand({\n\tmetadata: {\n\t\tdescription: ADD_TO_WATCH_LABEL,\n\t},\n\tid: ADD_TO_WATCH_ID,\n\thandler: async (accessor: ServicesAccessor, context: IVariablesContext) => {\n\t\tconst debugService = accessor.get(IDebugService);\n\t\tdebugService.addWatchExpression(context.variable.evaluateName);\n\t}\n});\n\nregisterAction2(class extends ViewAction<VariablesView> {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'variables.collapse',\n\t\t\tviewId: VARIABLES_VIEW_ID,\n\t\t\ttitle: localize('collapse', \"Collapse All\"),\n\t\t\tf1: false,\n\t\t\ticon: Codicon.collapseAll,\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\twhen: ContextKeyExpr.equals('view', VARIABLES_VIEW_ID)\n\t\t\t}\n\t\t});\n\t}\n\n\trunInView(_accessor: ServicesAccessor, view: VariablesView) {\n\t\tview.collapseAll();\n\t}\n});\n"]}