{"version":3,"sources":["vs/workbench/contrib/debug/browser/statusbarColorProvider.ts"],"names":[],"mappings":"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","file":"statusbarColorProvider.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { localize } from '../../../../nls.js';\nimport { asCssVariable, asCssVariableName, registerColor, transparent } from '../../../../platform/theme/common/colorRegistry.js';\nimport { IWorkbenchContribution } from '../../../common/contributions.js';\nimport { IDebugService, State, IDebugSession, IDebugConfiguration } from '../common/debug.js';\nimport { IWorkspaceContextService } from '../../../../platform/workspace/common/workspace.js';\nimport { STATUS_BAR_FOREGROUND, STATUS_BAR_BORDER, COMMAND_CENTER_BACKGROUND } from '../../../common/theme.js';\nimport { DisposableStore, IDisposable } from '../../../../base/common/lifecycle.js';\nimport { IStatusbarService } from '../../../services/statusbar/browser/statusbar.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { createStyleSheet } from '../../../../base/browser/domStylesheets.js';\n\n\n// colors for theming\n\nexport const STATUS_BAR_DEBUGGING_BACKGROUND = registerColor('statusBar.debuggingBackground', {\n\tdark: '#CC6633',\n\tlight: '#CC6633',\n\thcDark: '#BA592C',\n\thcLight: '#B5200D'\n}, localize('statusBarDebuggingBackground', \"Status bar background color when a program is being debugged. The status bar is shown in the bottom of the window\"));\n\nexport const STATUS_BAR_DEBUGGING_FOREGROUND = registerColor('statusBar.debuggingForeground', {\n\tdark: STATUS_BAR_FOREGROUND,\n\tlight: STATUS_BAR_FOREGROUND,\n\thcDark: STATUS_BAR_FOREGROUND,\n\thcLight: '#FFFFFF'\n}, localize('statusBarDebuggingForeground', \"Status bar foreground color when a program is being debugged. The status bar is shown in the bottom of the window\"));\n\nexport const STATUS_BAR_DEBUGGING_BORDER = registerColor('statusBar.debuggingBorder', STATUS_BAR_BORDER, localize('statusBarDebuggingBorder', \"Status bar border color separating to the sidebar and editor when a program is being debugged. The status bar is shown in the bottom of the window\"));\n\nexport const COMMAND_CENTER_DEBUGGING_BACKGROUND = registerColor(\n\t'commandCenter.debuggingBackground',\n\ttransparent(STATUS_BAR_DEBUGGING_BACKGROUND, 0.258),\n\tlocalize('commandCenter-activeBackground', \"Command center background color when a program is being debugged\"),\n\ttrue\n);\n\nexport class StatusBarColorProvider implements IWorkbenchContribution {\n\n\tprivate readonly disposables = new DisposableStore();\n\tprivate disposable: IDisposable | undefined;\n\n\tprivate readonly styleSheet = createStyleSheet();\n\n\tprivate set enabled(enabled: boolean) {\n\t\tif (enabled === !!this.disposable) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (enabled) {\n\t\t\tthis.disposable = this.statusbarService.overrideStyle({\n\t\t\t\tpriority: 10,\n\t\t\t\tforeground: STATUS_BAR_DEBUGGING_FOREGROUND,\n\t\t\t\tbackground: STATUS_BAR_DEBUGGING_BACKGROUND,\n\t\t\t\tborder: STATUS_BAR_DEBUGGING_BORDER,\n\t\t\t});\n\t\t} else {\n\t\t\tthis.disposable!.dispose();\n\t\t\tthis.disposable = undefined;\n\t\t}\n\t}\n\n\tconstructor(\n\t\t@IDebugService private readonly debugService: IDebugService,\n\t\t@IWorkspaceContextService private readonly contextService: IWorkspaceContextService,\n\t\t@IStatusbarService private readonly statusbarService: IStatusbarService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService\n\t) {\n\t\tthis.debugService.onDidChangeState(this.update, this, this.disposables);\n\t\tthis.contextService.onDidChangeWorkbenchState(this.update, this, this.disposables);\n\t\tthis.configurationService.onDidChangeConfiguration((e) => {\n\t\t\tif (e.affectsConfiguration('debug.enableStatusBarColor') || e.affectsConfiguration('debug.toolBarLocation')) {\n\t\t\t\tthis.update();\n\t\t\t}\n\t\t}, undefined, this.disposables);\n\t\tthis.update();\n\t}\n\n\tprotected update(): void {\n\t\tconst debugConfig = this.configurationService.getValue<IDebugConfiguration>('debug');\n\t\tconst isInDebugMode = isStatusbarInDebugMode(this.debugService.state, this.debugService.getModel().getSessions());\n\t\tif (!debugConfig.enableStatusBarColor) {\n\t\t\tthis.enabled = false;\n\t\t} else {\n\t\t\tthis.enabled = isInDebugMode;\n\t\t}\n\n\t\tconst isInCommandCenter = debugConfig.toolBarLocation === 'commandCenter';\n\n\t\tthis.styleSheet.textContent = isInCommandCenter && isInDebugMode ? `\n\t\t\t.monaco-workbench {\n\t\t\t\t${asCssVariableName(COMMAND_CENTER_BACKGROUND)}: ${asCssVariable(COMMAND_CENTER_DEBUGGING_BACKGROUND)};\n\t\t\t}\n\t\t` : '';\n\t}\n\n\tdispose(): void {\n\t\tthis.disposable?.dispose();\n\t\tthis.disposables.dispose();\n\t}\n}\n\nexport function isStatusbarInDebugMode(state: State, sessions: IDebugSession[]): boolean {\n\tif (state === State.Inactive || state === State.Initializing || sessions.every(s => s.suppressDebugStatusbar || s.configuration?.noDebug)) {\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n"]}