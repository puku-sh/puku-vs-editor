{"version":3,"sources":["vs/workbench/contrib/debug/browser/breakpointEditorContribution.ts"],"names":[],"mappings":"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","file":"breakpointEditorContribution.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { isSafari } from '../../../../base/browser/browser.js';\nimport { BrowserFeatures } from '../../../../base/browser/canIUse.js';\nimport * as dom from '../../../../base/browser/dom.js';\nimport { StandardMouseEvent } from '../../../../base/browser/mouseEvent.js';\nimport { IAction, Separator, SubmenuAction, toAction } from '../../../../base/common/actions.js';\nimport { distinct } from '../../../../base/common/arrays.js';\nimport { RunOnceScheduler, timeout } from '../../../../base/common/async.js';\nimport { memoize } from '../../../../base/common/decorators.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { MarkdownString } from '../../../../base/common/htmlContent.js';\nimport { dispose, disposeIfDisposable, IDisposable } from '../../../../base/common/lifecycle.js';\nimport * as env from '../../../../base/common/platform.js';\nimport severity from '../../../../base/common/severity.js';\nimport { noBreakWhitespace } from '../../../../base/common/strings.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { generateUuid } from '../../../../base/common/uuid.js';\nimport { ContentWidgetPositionPreference, IActiveCodeEditor, ICodeEditor, IContentWidget, IContentWidgetPosition, IEditorMouseEvent, MouseTargetType } from '../../../../editor/browser/editorBrowser.js';\nimport { EditorOption } from '../../../../editor/common/config/editorOptions.js';\nimport { IPosition } from '../../../../editor/common/core/position.js';\nimport { Range } from '../../../../editor/common/core/range.js';\nimport { ILanguageService } from '../../../../editor/common/languages/language.js';\nimport { GlyphMarginLane, IModelDecorationOptions, IModelDecorationOverviewRulerOptions, IModelDecorationsChangeAccessor, ITextModel, OverviewRulerLane, TrackedRangeStickiness } from '../../../../editor/common/model.js';\nimport * as nls from '../../../../nls.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IContextKey, IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { IDialogService } from '../../../../platform/dialogs/common/dialogs.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ILabelService } from '../../../../platform/label/common/label.js';\nimport { registerColor } from '../../../../platform/theme/common/colorRegistry.js';\nimport { registerThemingParticipant, themeColorFromId } from '../../../../platform/theme/common/themeService.js';\nimport { GutterActionsRegistry } from '../../codeEditor/browser/editorLineNumberMenu.js';\nimport { getBreakpointMessageAndIcon } from './breakpointsView.js';\nimport { BreakpointWidget } from './breakpointWidget.js';\nimport * as icons from './debugIcons.js';\nimport { BREAKPOINT_EDITOR_CONTRIBUTION_ID, BreakpointWidgetContext, CONTEXT_BREAKPOINT_WIDGET_VISIBLE, DebuggerString, IBreakpoint, IBreakpointEditorContribution, IBreakpointUpdateData, IDebugConfiguration, IDebugService, IDebugSession, State } from '../common/debug.js';\n\nconst $ = dom.$;\n\ninterface IBreakpointDecoration {\n\tdecorationId: string;\n\tbreakpoint: IBreakpoint;\n\trange: Range;\n\tinlineWidget?: InlineBreakpointWidget;\n}\n\nconst breakpointHelperDecoration: IModelDecorationOptions = {\n\tdescription: 'breakpoint-helper-decoration',\n\tglyphMarginClassName: ThemeIcon.asClassName(icons.debugBreakpointHint),\n\tglyphMargin: { position: GlyphMarginLane.Right },\n\tglyphMarginHoverMessage: new MarkdownString().appendText(nls.localize('breakpointHelper', \"Click to add a breakpoint\")),\n\tstickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges\n};\n\nexport function createBreakpointDecorations(accessor: ServicesAccessor, model: ITextModel, breakpoints: ReadonlyArray<IBreakpoint>, state: State, breakpointsActivated: boolean, showBreakpointsInOverviewRuler: boolean): { range: Range; options: IModelDecorationOptions }[] {\n\tconst result: { range: Range; options: IModelDecorationOptions }[] = [];\n\tbreakpoints.forEach((breakpoint) => {\n\t\tif (breakpoint.lineNumber > model.getLineCount()) {\n\t\t\treturn;\n\t\t}\n\t\tconst hasOtherBreakpointsOnLine = breakpoints.some(bp => bp !== breakpoint && bp.lineNumber === breakpoint.lineNumber);\n\t\tconst column = model.getLineFirstNonWhitespaceColumn(breakpoint.lineNumber);\n\t\tconst range = model.validateRange(\n\t\t\tbreakpoint.column ? new Range(breakpoint.lineNumber, breakpoint.column, breakpoint.lineNumber, breakpoint.column + 1)\n\t\t\t\t: new Range(breakpoint.lineNumber, column, breakpoint.lineNumber, column + 1) // Decoration has to have a width #20688\n\t\t);\n\n\t\tresult.push({\n\t\t\toptions: getBreakpointDecorationOptions(accessor, model, breakpoint, state, breakpointsActivated, showBreakpointsInOverviewRuler, hasOtherBreakpointsOnLine),\n\t\t\trange\n\t\t});\n\t});\n\n\treturn result;\n}\n\nfunction getBreakpointDecorationOptions(accessor: ServicesAccessor, model: ITextModel, breakpoint: IBreakpoint, state: State, breakpointsActivated: boolean, showBreakpointsInOverviewRuler: boolean, hasOtherBreakpointsOnLine: boolean): IModelDecorationOptions {\n\tconst debugService = accessor.get(IDebugService);\n\tconst languageService = accessor.get(ILanguageService);\n\tconst labelService = accessor.get(ILabelService);\n\tconst { icon, message, showAdapterUnverifiedMessage } = getBreakpointMessageAndIcon(state, breakpointsActivated, breakpoint, labelService, debugService.getModel());\n\tlet glyphMarginHoverMessage: MarkdownString | undefined;\n\n\tlet unverifiedMessage: string | undefined;\n\tif (showAdapterUnverifiedMessage) {\n\t\tlet langId: string | undefined;\n\t\tunverifiedMessage = debugService.getModel().getSessions().map(s => {\n\t\t\tconst dbg = debugService.getAdapterManager().getDebugger(s.configuration.type);\n\t\t\tconst message = dbg?.strings?.[DebuggerString.UnverifiedBreakpoints];\n\t\t\tif (message) {\n\t\t\t\tif (!langId) {\n\t\t\t\t\t// Lazily compute this, only if needed for some debug adapter\n\t\t\t\t\tlangId = languageService.guessLanguageIdByFilepathOrFirstLine(breakpoint.uri) ?? undefined;\n\t\t\t\t}\n\t\t\t\treturn langId && dbg.interestedInLanguage(langId) ? message : undefined;\n\t\t\t}\n\n\t\t\treturn undefined;\n\t\t})\n\t\t\t.find(messages => !!messages);\n\t}\n\n\tif (message) {\n\t\tglyphMarginHoverMessage = new MarkdownString(undefined, { isTrusted: true, supportThemeIcons: true });\n\t\tif (breakpoint.condition || breakpoint.hitCondition) {\n\t\t\tconst languageId = model.getLanguageId();\n\t\t\tglyphMarginHoverMessage.appendCodeblock(languageId, message);\n\t\t\tif (unverifiedMessage) {\n\t\t\t\tglyphMarginHoverMessage.appendMarkdown('$(warning) ' + unverifiedMessage);\n\t\t\t}\n\t\t} else {\n\t\t\tglyphMarginHoverMessage.appendText(message);\n\t\t\tif (unverifiedMessage) {\n\t\t\t\tglyphMarginHoverMessage.appendMarkdown('\\n\\n$(warning) ' + unverifiedMessage);\n\t\t\t}\n\t\t}\n\t} else if (unverifiedMessage) {\n\t\tglyphMarginHoverMessage = new MarkdownString(undefined, { isTrusted: true, supportThemeIcons: true }).appendMarkdown(unverifiedMessage);\n\t}\n\n\tlet overviewRulerDecoration: IModelDecorationOverviewRulerOptions | null = null;\n\tif (showBreakpointsInOverviewRuler) {\n\t\toverviewRulerDecoration = {\n\t\t\tcolor: themeColorFromId(debugIconBreakpointForeground),\n\t\t\tposition: OverviewRulerLane.Left\n\t\t};\n\t}\n\n\tconst renderInline = breakpoint.column && (hasOtherBreakpointsOnLine || breakpoint.column > model.getLineFirstNonWhitespaceColumn(breakpoint.lineNumber));\n\treturn {\n\t\tdescription: 'breakpoint-decoration',\n\t\tglyphMargin: { position: GlyphMarginLane.Right },\n\t\tglyphMarginClassName: ThemeIcon.asClassName(icon),\n\t\tglyphMarginHoverMessage,\n\t\tstickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n\t\tbefore: renderInline ? {\n\t\t\tcontent: noBreakWhitespace,\n\t\t\tinlineClassName: `debug-breakpoint-placeholder`,\n\t\t\tinlineClassNameAffectsLetterSpacing: true\n\t\t} : undefined,\n\t\toverviewRuler: overviewRulerDecoration,\n\t\tzIndex: 9999\n\t};\n}\n\ntype BreakpointsForLine = { lineNumber: number; positions: IPosition[] };\n\nasync function requestBreakpointCandidateLocations(model: ITextModel, lineNumbers: number[], session: IDebugSession): Promise<BreakpointsForLine[]> {\n\tif (!session.capabilities.supportsBreakpointLocationsRequest) {\n\t\treturn [];\n\t}\n\n\treturn await Promise.all(distinct(lineNumbers, l => l).map(async lineNumber => {\n\t\ttry {\n\t\t\treturn { lineNumber, positions: await session.breakpointsLocations(model.uri, lineNumber) };\n\t\t} catch {\n\t\t\treturn { lineNumber, positions: [] };\n\t\t}\n\t}));\n}\n\nfunction createCandidateDecorations(model: ITextModel, breakpointDecorations: IBreakpointDecoration[], lineBreakpoints: BreakpointsForLine[]): { range: Range; options: IModelDecorationOptions; breakpoint: IBreakpoint | undefined }[] {\n\tconst result: { range: Range; options: IModelDecorationOptions; breakpoint: IBreakpoint | undefined }[] = [];\n\tfor (const { positions, lineNumber } of lineBreakpoints) {\n\t\tif (positions.length === 0) {\n\t\t\tcontinue;\n\t\t}\n\n\t\t// Do not render candidates if there is only one, since it is already covered by the line breakpoint\n\t\tconst firstColumn = model.getLineFirstNonWhitespaceColumn(lineNumber);\n\t\tconst lastColumn = model.getLineLastNonWhitespaceColumn(lineNumber);\n\t\tpositions.forEach(p => {\n\t\t\tconst range = new Range(p.lineNumber, p.column, p.lineNumber, p.column + 1);\n\t\t\tif ((p.column <= firstColumn && !breakpointDecorations.some(bp => bp.range.startColumn > firstColumn && bp.range.startLineNumber === p.lineNumber)) || p.column > lastColumn) {\n\t\t\t\t// Do not render candidates on the start of the line if there's no other breakpoint on the line.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst breakpointAtPosition = breakpointDecorations.find(bpd => bpd.range.equalsRange(range));\n\t\t\tif (breakpointAtPosition && breakpointAtPosition.inlineWidget) {\n\t\t\t\t// Space already occupied, do not render candidate.\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult.push({\n\t\t\t\trange,\n\t\t\t\toptions: {\n\t\t\t\t\tdescription: 'breakpoint-placeholder-decoration',\n\t\t\t\t\tstickiness: TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,\n\t\t\t\t\tbefore: breakpointAtPosition ? undefined : {\n\t\t\t\t\t\tcontent: noBreakWhitespace,\n\t\t\t\t\t\tinlineClassName: `debug-breakpoint-placeholder`,\n\t\t\t\t\t\tinlineClassNameAffectsLetterSpacing: true\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tbreakpoint: breakpointAtPosition ? breakpointAtPosition.breakpoint : undefined\n\t\t\t});\n\t\t});\n\t}\n\n\treturn result;\n}\n\nexport class BreakpointEditorContribution implements IBreakpointEditorContribution {\n\n\tprivate breakpointHintDecoration: string | null = null;\n\tprivate breakpointWidget: BreakpointWidget | undefined;\n\tprivate breakpointWidgetVisible!: IContextKey<boolean>;\n\tprivate toDispose: IDisposable[] = [];\n\tprivate ignoreDecorationsChangedEvent = false;\n\tprivate ignoreBreakpointsChangeEvent = false;\n\tprivate breakpointDecorations: IBreakpointDecoration[] = [];\n\tprivate candidateDecorations: { decorationId: string; inlineWidget: InlineBreakpointWidget }[] = [];\n\tprivate setDecorationsScheduler!: RunOnceScheduler;\n\n\tconstructor(\n\t\tprivate readonly editor: ICodeEditor,\n\t\t@IDebugService private readonly debugService: IDebugService,\n\t\t@IContextMenuService private readonly contextMenuService: IContextMenuService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IDialogService private readonly dialogService: IDialogService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@ILabelService private readonly labelService: ILabelService\n\t) {\n\t\tthis.breakpointWidgetVisible = CONTEXT_BREAKPOINT_WIDGET_VISIBLE.bindTo(contextKeyService);\n\t\tthis.setDecorationsScheduler = new RunOnceScheduler(() => this.setDecorations(), 30);\n\t\tthis.setDecorationsScheduler.schedule();\n\t\tthis.registerListeners();\n\t}\n\n\t/**\n\t * Returns context menu actions at the line number if breakpoints can be\n\t * set. This is used by the {@link TestingDecorations} to allow breakpoint\n\t * setting on lines where breakpoint \"run\" actions are present.\n\t */\n\tpublic getContextMenuActionsAtPosition(lineNumber: number, model: ITextModel) {\n\t\tif (!this.debugService.getAdapterManager().hasEnabledDebuggers()) {\n\t\t\treturn [];\n\t\t}\n\n\t\tif (!this.debugService.canSetBreakpointsIn(model)) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst breakpoints = this.debugService.getModel().getBreakpoints({ lineNumber, uri: model.uri });\n\t\treturn this.getContextMenuActions(breakpoints, model.uri, lineNumber);\n\t}\n\n\tprivate registerListeners(): void {\n\t\tthis.toDispose.push(this.editor.onMouseDown(async (e: IEditorMouseEvent) => {\n\t\t\tif (!this.debugService.getAdapterManager().hasEnabledDebuggers()) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst model = this.editor.getModel();\n\t\t\tif (!e.target.position\n\t\t\t\t|| !model\n\t\t\t\t|| e.target.type !== MouseTargetType.GUTTER_GLYPH_MARGIN\n\t\t\t\t|| e.target.detail.isAfterLines\n\t\t\t\t|| !this.marginFreeFromNonDebugDecorations(e.target.position.lineNumber)\n\t\t\t\t// don't return early if there's a breakpoint\n\t\t\t\t&& !e.target.element?.className.includes('breakpoint')\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst canSetBreakpoints = this.debugService.canSetBreakpointsIn(model);\n\t\t\tconst lineNumber = e.target.position.lineNumber;\n\t\t\tconst uri = model.uri;\n\n\t\t\tif (e.event.rightButton || (env.isMacintosh && e.event.leftButton && e.event.ctrlKey)) {\n\t\t\t\t// handled by editor gutter context menu\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tconst breakpoints = this.debugService.getModel().getBreakpoints({ uri, lineNumber });\n\n\t\t\t\tif (breakpoints.length) {\n\t\t\t\t\tconst isShiftPressed = e.event.shiftKey;\n\t\t\t\t\tconst enabled = breakpoints.some(bp => bp.enabled);\n\n\t\t\t\t\tif (isShiftPressed) {\n\t\t\t\t\t\tbreakpoints.forEach(bp => this.debugService.enableOrDisableBreakpoints(!enabled, bp));\n\t\t\t\t\t} else if (!env.isLinux && breakpoints.some(bp => !!bp.condition || !!bp.logMessage || !!bp.hitCondition || !!bp.triggeredBy)) {\n\t\t\t\t\t\t// Show the dialog if there is a potential condition to be accidently lost.\n\t\t\t\t\t\t// Do not show dialog on linux due to electron issue freezing the mouse #50026\n\t\t\t\t\t\tconst logPoint = breakpoints.every(bp => !!bp.logMessage);\n\t\t\t\t\t\tconst breakpointType = logPoint ? nls.localize('logPoint', \"Logpoint\") : nls.localize('breakpoint', \"Breakpoint\");\n\n\t\t\t\t\t\tconst disabledBreakpointDialogMessage = nls.localize(\n\t\t\t\t\t\t\t'breakpointHasConditionDisabled',\n\t\t\t\t\t\t\t\"This {0} has a {1} that will get lost on remove. Consider enabling the {0} instead.\",\n\t\t\t\t\t\t\tbreakpointType.toLowerCase(),\n\t\t\t\t\t\t\tlogPoint ? nls.localize('message', \"message\") : nls.localize('condition', \"condition\")\n\t\t\t\t\t\t);\n\t\t\t\t\t\tconst enabledBreakpointDialogMessage = nls.localize(\n\t\t\t\t\t\t\t'breakpointHasConditionEnabled',\n\t\t\t\t\t\t\t\"This {0} has a {1} that will get lost on remove. Consider disabling the {0} instead.\",\n\t\t\t\t\t\t\tbreakpointType.toLowerCase(),\n\t\t\t\t\t\t\tlogPoint ? nls.localize('message', \"message\") : nls.localize('condition', \"condition\")\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tawait this.dialogService.prompt({\n\t\t\t\t\t\t\ttype: severity.Info,\n\t\t\t\t\t\t\tmessage: enabled ? enabledBreakpointDialogMessage : disabledBreakpointDialogMessage,\n\t\t\t\t\t\t\tbuttons: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: nls.localize({ key: 'removeLogPoint', comment: ['&& denotes a mnemonic'] }, \"&&Remove {0}\", breakpointType),\n\t\t\t\t\t\t\t\t\trun: () => breakpoints.forEach(bp => this.debugService.removeBreakpoints(bp.getId()))\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: nls.localize('disableLogPoint', \"{0} {1}\", enabled ? nls.localize({ key: 'disable', comment: ['&& denotes a mnemonic'] }, \"&&Disable\") : nls.localize({ key: 'enable', comment: ['&& denotes a mnemonic'] }, \"&&Enable\"), breakpointType),\n\t\t\t\t\t\t\t\t\trun: () => breakpoints.forEach(bp => this.debugService.enableOrDisableBreakpoints(!enabled, bp))\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tcancelButton: true\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (!enabled) {\n\t\t\t\t\t\t\tbreakpoints.forEach(bp => this.debugService.enableOrDisableBreakpoints(!enabled, bp));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbreakpoints.forEach(bp => this.debugService.removeBreakpoints(bp.getId()));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (canSetBreakpoints) {\n\t\t\t\t\tif (e.event.middleButton) {\n\t\t\t\t\t\tconst action = this.configurationService.getValue<IDebugConfiguration>('debug').gutterMiddleClickAction;\n\t\t\t\t\t\tif (action !== 'none') {\n\t\t\t\t\t\t\tlet context: BreakpointWidgetContext;\n\t\t\t\t\t\t\tswitch (action) {\n\t\t\t\t\t\t\t\tcase 'logpoint':\n\t\t\t\t\t\t\t\t\tcontext = BreakpointWidgetContext.LOG_MESSAGE;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'conditionalBreakpoint':\n\t\t\t\t\t\t\t\t\tcontext = BreakpointWidgetContext.CONDITION;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'triggeredBreakpoint':\n\t\t\t\t\t\t\t\t\tcontext = BreakpointWidgetContext.TRIGGER_POINT;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.showBreakpointWidget(lineNumber, undefined, context);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.debugService.addBreakpoints(uri, [{ lineNumber }]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tif (!(BrowserFeatures.pointerEvents && isSafari)) {\n\t\t\t/**\n\t\t\t * We disable the hover feature for Safari on iOS as\n\t\t\t * 1. Browser hover events are handled specially by the system (it treats first click as hover if there is `:hover` css registered). Below hover behavior will confuse users with inconsistent expeirence.\n\t\t\t * 2. When users click on line numbers, the breakpoint hint displays immediately, however it doesn't create the breakpoint unless users click on the left gutter. On a touch screen, it's hard to click on that small area.\n\t\t\t */\n\t\t\tthis.toDispose.push(this.editor.onMouseMove((e: IEditorMouseEvent) => {\n\t\t\t\tif (!this.debugService.getAdapterManager().hasEnabledDebuggers()) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet showBreakpointHintAtLineNumber = -1;\n\t\t\t\tconst model = this.editor.getModel();\n\t\t\t\tif (model && e.target.position && (e.target.type === MouseTargetType.GUTTER_GLYPH_MARGIN || e.target.type === MouseTargetType.GUTTER_LINE_NUMBERS) && this.debugService.canSetBreakpointsIn(model) &&\n\t\t\t\t\tthis.marginFreeFromNonDebugDecorations(e.target.position.lineNumber)) {\n\t\t\t\t\tconst data = e.target.detail;\n\t\t\t\t\tif (!data.isAfterLines) {\n\t\t\t\t\t\tshowBreakpointHintAtLineNumber = e.target.position.lineNumber;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.ensureBreakpointHintDecoration(showBreakpointHintAtLineNumber);\n\t\t\t}));\n\t\t\tthis.toDispose.push(this.editor.onMouseLeave(() => {\n\t\t\t\tthis.ensureBreakpointHintDecoration(-1);\n\t\t\t}));\n\t\t}\n\n\n\t\tthis.toDispose.push(this.editor.onDidChangeModel(async () => {\n\t\t\tthis.closeBreakpointWidget();\n\t\t\tawait this.setDecorations();\n\t\t}));\n\t\tthis.toDispose.push(this.debugService.getModel().onDidChangeBreakpoints(() => {\n\t\t\tif (!this.ignoreBreakpointsChangeEvent && !this.setDecorationsScheduler.isScheduled()) {\n\t\t\t\tthis.setDecorationsScheduler.schedule();\n\t\t\t}\n\t\t}));\n\t\tthis.toDispose.push(this.debugService.onDidChangeState(() => {\n\t\t\t// We need to update breakpoint decorations when state changes since the top stack frame and breakpoint decoration might change\n\t\t\tif (!this.setDecorationsScheduler.isScheduled()) {\n\t\t\t\tthis.setDecorationsScheduler.schedule();\n\t\t\t}\n\t\t}));\n\t\tthis.toDispose.push(this.editor.onDidChangeModelDecorations(() => this.onModelDecorationsChanged()));\n\t\tthis.toDispose.push(this.configurationService.onDidChangeConfiguration(async (e) => {\n\t\t\tif (e.affectsConfiguration('debug.showBreakpointsInOverviewRuler') || e.affectsConfiguration('debug.showInlineBreakpointCandidates')) {\n\t\t\t\tawait this.setDecorations();\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate getContextMenuActions(breakpoints: ReadonlyArray<IBreakpoint>, uri: URI, lineNumber: number, column?: number): IAction[] {\n\t\tconst actions: IAction[] = [];\n\n\t\tif (breakpoints.length === 1) {\n\t\t\tconst breakpointType = breakpoints[0].logMessage ? nls.localize('logPoint', \"Logpoint\") : nls.localize('breakpoint', \"Breakpoint\");\n\t\t\tactions.push(toAction({\n\t\t\t\tid: 'debug.removeBreakpoint', label: nls.localize('removeBreakpoint', \"Remove {0}\", breakpointType), enabled: true, run: async () => {\n\t\t\t\t\tawait this.debugService.removeBreakpoints(breakpoints[0].getId());\n\t\t\t\t}\n\t\t\t}));\n\t\t\tactions.push(toAction({\n\t\t\t\tid: 'workbench.debug.action.editBreakpointAction',\n\t\t\t\tlabel: nls.localize('editBreakpoint', \"Edit {0}...\", breakpointType),\n\t\t\t\tenabled: true,\n\t\t\t\trun: () => Promise.resolve(this.showBreakpointWidget(breakpoints[0].lineNumber, breakpoints[0].column))\n\t\t\t})); actions.push(toAction({\n\t\t\t\tid: `workbench.debug.viewlet.action.toggleBreakpoint`,\n\t\t\t\tlabel: breakpoints[0].enabled ? nls.localize('disableBreakpoint', \"Disable {0}\", breakpointType) : nls.localize('enableBreakpoint', \"Enable {0}\", breakpointType),\n\t\t\t\tenabled: true,\n\t\t\t\trun: () => this.debugService.enableOrDisableBreakpoints(!breakpoints[0].enabled, breakpoints[0])\n\t\t\t}));\n\t\t} else if (breakpoints.length > 1) {\n\t\t\tconst sorted = breakpoints.slice().sort((first, second) => (first.column && second.column) ? first.column - second.column : 1);\n\t\t\tactions.push(new SubmenuAction('debug.removeBreakpoints', nls.localize('removeBreakpoints', \"Remove Breakpoints\"), sorted.map(bp => toAction({\n\t\t\t\tid: 'removeInlineBreakpoint',\n\t\t\t\tlabel: bp.column ? nls.localize('removeInlineBreakpointOnColumn', \"Remove Inline Breakpoint on Column {0}\", bp.column) : nls.localize('removeLineBreakpoint', \"Remove Line Breakpoint\"),\n\t\t\t\tenabled: true,\n\t\t\t\trun: () => this.debugService.removeBreakpoints(bp.getId())\n\t\t\t})))); actions.push(new SubmenuAction('debug.editBreakpoints', nls.localize('editBreakpoints', \"Edit Breakpoints\"), sorted.map(bp =>\n\t\t\t\ttoAction({\n\t\t\t\t\tid: 'editBreakpoint',\n\t\t\t\t\tlabel: bp.column ? nls.localize('editInlineBreakpointOnColumn', \"Edit Inline Breakpoint on Column {0}\", bp.column) : nls.localize('editLineBreakpoint', \"Edit Line Breakpoint\"),\n\t\t\t\t\tenabled: true,\n\t\t\t\t\trun: () => Promise.resolve(this.showBreakpointWidget(bp.lineNumber, bp.column))\n\t\t\t\t})\n\t\t\t))); actions.push(new SubmenuAction('debug.enableDisableBreakpoints', nls.localize('enableDisableBreakpoints', \"Enable/Disable Breakpoints\"), sorted.map(bp => toAction({\n\t\t\t\tid: bp.enabled ? 'disableColumnBreakpoint' : 'enableColumnBreakpoint',\n\t\t\t\tlabel: bp.enabled ? (bp.column ? nls.localize('disableInlineColumnBreakpoint', \"Disable Inline Breakpoint on Column {0}\", bp.column) : nls.localize('disableBreakpointOnLine', \"Disable Line Breakpoint\"))\n\t\t\t\t\t: (bp.column ? nls.localize('enableBreakpoints', \"Enable Inline Breakpoint on Column {0}\", bp.column) : nls.localize('enableBreakpointOnLine', \"Enable Line Breakpoint\")),\n\t\t\t\tenabled: true,\n\t\t\t\trun: () => this.debugService.enableOrDisableBreakpoints(!bp.enabled, bp)\n\t\t\t}))));\n\t\t} else {\n\t\t\tactions.push(toAction({\n\t\t\t\tid: 'addBreakpoint',\n\t\t\t\tlabel: nls.localize('addBreakpoint', \"Add Breakpoint\"),\n\t\t\t\tenabled: true,\n\t\t\t\trun: () => this.debugService.addBreakpoints(uri, [{ lineNumber, column }])\n\t\t\t}));\n\t\t\tactions.push(toAction({\n\t\t\t\tid: 'addConditionalBreakpoint',\n\t\t\t\tlabel: nls.localize('addConditionalBreakpoint', \"Add Conditional Breakpoint...\"),\n\t\t\t\tenabled: true,\n\t\t\t\trun: () => Promise.resolve(this.showBreakpointWidget(lineNumber, column, BreakpointWidgetContext.CONDITION))\n\t\t\t}));\n\t\t\tactions.push(toAction({\n\t\t\t\tid: 'addLogPoint',\n\t\t\t\tlabel: nls.localize('addLogPoint', \"Add Logpoint...\"),\n\t\t\t\tenabled: true,\n\t\t\t\trun: () => Promise.resolve(this.showBreakpointWidget(lineNumber, column, BreakpointWidgetContext.LOG_MESSAGE))\n\t\t\t}));\n\t\t\tactions.push(toAction({\n\t\t\t\tid: 'addTriggeredBreakpoint',\n\t\t\t\tlabel: nls.localize('addTriggeredBreakpoint', \"Add Triggered Breakpoint...\"),\n\t\t\t\tenabled: true,\n\t\t\t\trun: () => Promise.resolve(this.showBreakpointWidget(lineNumber, column, BreakpointWidgetContext.TRIGGER_POINT))\n\t\t\t}));\n\t\t}\n\n\t\tif (this.debugService.state === State.Stopped) {\n\t\t\tactions.push(new Separator());\n\t\t\tactions.push(toAction({\n\t\t\t\tid: 'runToLine',\n\t\t\t\tlabel: nls.localize('runToLine', \"Run to Line\"),\n\t\t\t\tenabled: true,\n\t\t\t\trun: () => this.debugService.runTo(uri, lineNumber).catch(onUnexpectedError)\n\t\t\t}));\n\t\t} return actions;\n\t}\n\n\tprivate marginFreeFromNonDebugDecorations(line: number): boolean {\n\t\tconst decorations = this.editor.getLineDecorations(line);\n\t\tif (decorations) {\n\t\t\tfor (const { options } of decorations) {\n\t\t\t\tconst clz = options.glyphMarginClassName;\n\t\t\t\tif (!clz) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tconst hasSomeActionableCodicon = !(clz.includes('codicon-') || clz.startsWith('coverage-deco-')) || clz.includes('codicon-testing-') || clz.includes('codicon-merge-') || clz.includes('codicon-arrow-') || clz.includes('codicon-loading') || clz.includes('codicon-fold') || clz.includes('codicon-gutter-lightbulb') || clz.includes('codicon-lightbulb-sparkle');\n\t\t\t\tif (hasSomeActionableCodicon) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tprivate ensureBreakpointHintDecoration(showBreakpointHintAtLineNumber: number): void {\n\t\tthis.editor.changeDecorations((accessor) => {\n\t\t\tif (this.breakpointHintDecoration) {\n\t\t\t\taccessor.removeDecoration(this.breakpointHintDecoration);\n\t\t\t\tthis.breakpointHintDecoration = null;\n\t\t\t}\n\t\t\tif (showBreakpointHintAtLineNumber !== -1) {\n\t\t\t\tthis.breakpointHintDecoration = accessor.addDecoration({\n\t\t\t\t\tstartLineNumber: showBreakpointHintAtLineNumber,\n\t\t\t\t\tstartColumn: 1,\n\t\t\t\t\tendLineNumber: showBreakpointHintAtLineNumber,\n\t\t\t\t\tendColumn: 1\n\t\t\t\t}, breakpointHelperDecoration\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate async setDecorations(): Promise<void> {\n\t\tif (!this.editor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst setCandidateDecorations = (changeAccessor: IModelDecorationsChangeAccessor, desiredCandidatePositions: BreakpointsForLine[]) => {\n\t\t\tconst desiredCandidateDecorations = createCandidateDecorations(model, this.breakpointDecorations, desiredCandidatePositions);\n\t\t\tconst candidateDecorationIds = changeAccessor.deltaDecorations(this.candidateDecorations.map(c => c.decorationId), desiredCandidateDecorations);\n\t\t\tthis.candidateDecorations.forEach(candidate => {\n\t\t\t\tcandidate.inlineWidget.dispose();\n\t\t\t});\n\t\t\tthis.candidateDecorations = candidateDecorationIds.map((decorationId, index) => {\n\t\t\t\tconst candidate = desiredCandidateDecorations[index];\n\t\t\t\t// Candidate decoration has a breakpoint attached when a breakpoint is already at that location and we did not yet set a decoration there\n\t\t\t\t// In practice this happens for the first breakpoint that was set on a line\n\t\t\t\t// We could have also rendered this first decoration as part of desiredBreakpointDecorations however at that moment we have no location information\n\t\t\t\tconst icon = candidate.breakpoint ? getBreakpointMessageAndIcon(this.debugService.state, this.debugService.getModel().areBreakpointsActivated(), candidate.breakpoint, this.labelService, this.debugService.getModel()).icon : icons.breakpoint.disabled;\n\t\t\t\tconst contextMenuActions = () => this.getContextMenuActions(candidate.breakpoint ? [candidate.breakpoint] : [], activeCodeEditor.getModel().uri, candidate.range.startLineNumber, candidate.range.startColumn);\n\t\t\t\tconst inlineWidget = new InlineBreakpointWidget(activeCodeEditor, decorationId, ThemeIcon.asClassName(icon), candidate.breakpoint, this.debugService, this.contextMenuService, contextMenuActions);\n\n\t\t\t\treturn {\n\t\t\t\t\tdecorationId,\n\t\t\t\t\tinlineWidget\n\t\t\t\t};\n\t\t\t});\n\t\t};\n\n\t\tconst activeCodeEditor = this.editor;\n\t\tconst model = activeCodeEditor.getModel();\n\t\tconst breakpoints = this.debugService.getModel().getBreakpoints({ uri: model.uri });\n\t\tconst debugSettings = this.configurationService.getValue<IDebugConfiguration>('debug');\n\t\tconst desiredBreakpointDecorations = this.instantiationService.invokeFunction(accessor => createBreakpointDecorations(accessor, model, breakpoints, this.debugService.state, this.debugService.getModel().areBreakpointsActivated(), debugSettings.showBreakpointsInOverviewRuler));\n\n\t\t// try to set breakpoint location candidates in the same changeDecorations()\n\t\t// call to avoid flickering, if the DA responds reasonably quickly.\n\t\tconst session = this.debugService.getViewModel().focusedSession;\n\t\tconst desiredCandidatePositions = debugSettings.showInlineBreakpointCandidates && session ? requestBreakpointCandidateLocations(this.editor.getModel(), desiredBreakpointDecorations.map(bp => bp.range.startLineNumber), session) : Promise.resolve([]);\n\t\tconst desiredCandidatePositionsRaced = await Promise.race([desiredCandidatePositions, timeout(500).then(() => undefined)]);\n\t\tif (desiredCandidatePositionsRaced === undefined) { // the timeout resolved first\n\t\t\tdesiredCandidatePositions.then(v => activeCodeEditor.changeDecorations(d => setCandidateDecorations(d, v)));\n\t\t}\n\n\t\ttry {\n\t\t\tthis.ignoreDecorationsChangedEvent = true;\n\n\t\t\t// Set breakpoint decorations\n\t\t\tactiveCodeEditor.changeDecorations((changeAccessor) => {\n\t\t\t\tconst decorationIds = changeAccessor.deltaDecorations(this.breakpointDecorations.map(bpd => bpd.decorationId), desiredBreakpointDecorations);\n\t\t\t\tthis.breakpointDecorations.forEach(bpd => {\n\t\t\t\t\tbpd.inlineWidget?.dispose();\n\t\t\t\t});\n\t\t\t\tthis.breakpointDecorations = decorationIds.map((decorationId, index) => {\n\t\t\t\t\tlet inlineWidget: InlineBreakpointWidget | undefined = undefined;\n\t\t\t\t\tconst breakpoint = breakpoints[index];\n\t\t\t\t\tif (desiredBreakpointDecorations[index].options.before) {\n\t\t\t\t\t\tconst contextMenuActions = () => this.getContextMenuActions([breakpoint], activeCodeEditor.getModel().uri, breakpoint.lineNumber, breakpoint.column);\n\t\t\t\t\t\tinlineWidget = new InlineBreakpointWidget(activeCodeEditor, decorationId, desiredBreakpointDecorations[index].options.glyphMarginClassName, breakpoint, this.debugService, this.contextMenuService, contextMenuActions);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdecorationId,\n\t\t\t\t\t\tbreakpoint,\n\t\t\t\t\t\trange: desiredBreakpointDecorations[index].range,\n\t\t\t\t\t\tinlineWidget\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\t\tif (desiredCandidatePositionsRaced) {\n\t\t\t\t\tsetCandidateDecorations(changeAccessor, desiredCandidatePositionsRaced);\n\t\t\t\t}\n\t\t\t});\n\t\t} finally {\n\t\t\tthis.ignoreDecorationsChangedEvent = false;\n\t\t}\n\n\t\tfor (const d of this.breakpointDecorations) {\n\t\t\tif (d.inlineWidget) {\n\t\t\t\tthis.editor.layoutContentWidget(d.inlineWidget);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate async onModelDecorationsChanged(): Promise<void> {\n\t\tif (this.breakpointDecorations.length === 0 || this.ignoreDecorationsChangedEvent || !this.editor.hasModel()) {\n\t\t\t// I have no decorations\n\t\t\treturn;\n\t\t}\n\t\tlet somethingChanged = false;\n\t\tconst model = this.editor.getModel();\n\t\tthis.breakpointDecorations.forEach(breakpointDecoration => {\n\t\t\tif (somethingChanged) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst newBreakpointRange = model.getDecorationRange(breakpointDecoration.decorationId);\n\t\t\tif (newBreakpointRange && (!breakpointDecoration.range.equalsRange(newBreakpointRange))) {\n\t\t\t\tsomethingChanged = true;\n\t\t\t\tbreakpointDecoration.range = newBreakpointRange;\n\t\t\t}\n\t\t});\n\t\tif (!somethingChanged) {\n\t\t\t// nothing to do, my decorations did not change.\n\t\t\treturn;\n\t\t}\n\n\t\tconst data = new Map<string, IBreakpointUpdateData>();\n\t\tfor (let i = 0, len = this.breakpointDecorations.length; i < len; i++) {\n\t\t\tconst breakpointDecoration = this.breakpointDecorations[i];\n\t\t\tconst decorationRange = model.getDecorationRange(breakpointDecoration.decorationId);\n\t\t\t// check if the line got deleted.\n\t\t\tif (decorationRange) {\n\t\t\t\t// since we know it is collapsed, it cannot grow to multiple lines\n\t\t\t\tif (breakpointDecoration.breakpoint) {\n\t\t\t\t\tdata.set(breakpointDecoration.breakpoint.getId(), {\n\t\t\t\t\t\tlineNumber: decorationRange.startLineNumber,\n\t\t\t\t\t\tcolumn: breakpointDecoration.breakpoint.column ? decorationRange.startColumn : undefined,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\ttry {\n\t\t\tthis.ignoreBreakpointsChangeEvent = true;\n\t\t\tawait this.debugService.updateBreakpoints(model.uri, data, true);\n\t\t} finally {\n\t\t\tthis.ignoreBreakpointsChangeEvent = false;\n\t\t}\n\t}\n\n\t// breakpoint widget\n\tshowBreakpointWidget(lineNumber: number, column: number | undefined, context?: BreakpointWidgetContext): void {\n\t\tthis.breakpointWidget?.dispose();\n\n\t\tthis.breakpointWidget = this.instantiationService.createInstance(BreakpointWidget, this.editor, lineNumber, column, context);\n\t\tthis.breakpointWidget.show({ lineNumber, column: 1 });\n\t\tthis.breakpointWidgetVisible.set(true);\n\t}\n\n\tcloseBreakpointWidget(): void {\n\t\tif (this.breakpointWidget) {\n\t\t\tthis.breakpointWidget.dispose();\n\t\t\tthis.breakpointWidget = undefined;\n\t\t\tthis.breakpointWidgetVisible.reset();\n\t\t\tthis.editor.focus();\n\t\t}\n\t}\n\n\tdispose(): void {\n\t\tthis.breakpointWidget?.dispose();\n\t\tthis.setDecorationsScheduler.dispose();\n\t\tthis.editor.removeDecorations(this.breakpointDecorations.map(bpd => bpd.decorationId));\n\t\tdispose(this.toDispose);\n\t}\n}\n\nGutterActionsRegistry.registerGutterActionsGenerator(({ lineNumber, editor, accessor }, result) => {\n\tconst model = editor.getModel();\n\tconst debugService = accessor.get(IDebugService);\n\tif (!model || !debugService.getAdapterManager().hasEnabledDebuggers() || !debugService.canSetBreakpointsIn(model)) {\n\t\treturn;\n\t}\n\n\tconst breakpointEditorContribution = editor.getContribution<IBreakpointEditorContribution>(BREAKPOINT_EDITOR_CONTRIBUTION_ID);\n\tif (!breakpointEditorContribution) {\n\t\treturn;\n\t}\n\n\tconst actions = breakpointEditorContribution.getContextMenuActionsAtPosition(lineNumber, model);\n\n\tfor (const action of actions) {\n\t\tresult.push(action, '2_debug');\n\t}\n});\n\nclass InlineBreakpointWidget implements IContentWidget, IDisposable {\n\n\t// editor.IContentWidget.allowEditorOverflow\n\tallowEditorOverflow = false;\n\tsuppressMouseDown = true;\n\n\tprivate domNode!: HTMLElement;\n\tprivate range: Range | null;\n\tprivate toDispose: IDisposable[] = [];\n\n\tconstructor(\n\t\tprivate readonly editor: IActiveCodeEditor,\n\t\tprivate readonly decorationId: string,\n\t\tcssClass: string | null | undefined,\n\t\tprivate readonly breakpoint: IBreakpoint | undefined,\n\t\tprivate readonly debugService: IDebugService,\n\t\tprivate readonly contextMenuService: IContextMenuService,\n\t\tprivate readonly getContextMenuActions: () => IAction[]\n\t) {\n\t\tthis.range = this.editor.getModel().getDecorationRange(decorationId);\n\t\tthis.toDispose.push(this.editor.onDidChangeModelDecorations(() => {\n\t\t\tconst model = this.editor.getModel();\n\t\t\tconst range = model.getDecorationRange(this.decorationId);\n\t\t\tif (this.range && !this.range.equalsRange(range)) {\n\t\t\t\tthis.range = range;\n\t\t\t\tthis.editor.layoutContentWidget(this);\n\t\t\t\tthis.updateSize();\n\t\t\t}\n\t\t}));\n\t\tthis.create(cssClass);\n\n\t\tthis.editor.addContentWidget(this);\n\t\tthis.editor.layoutContentWidget(this);\n\t}\n\n\tprivate create(cssClass: string | null | undefined): void {\n\t\tthis.domNode = $('.inline-breakpoint-widget');\n\t\tif (cssClass) {\n\t\t\tthis.domNode.classList.add(...cssClass.split(' '));\n\t\t}\n\t\tthis.toDispose.push(dom.addDisposableListener(this.domNode, dom.EventType.CLICK, async e => {\n\t\t\tswitch (this.breakpoint?.enabled) {\n\t\t\t\tcase undefined:\n\t\t\t\t\tawait this.debugService.addBreakpoints(this.editor.getModel().uri, [{ lineNumber: this.range!.startLineNumber, column: this.range!.startColumn }]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase true:\n\t\t\t\t\tawait this.debugService.removeBreakpoints(this.breakpoint.getId());\n\t\t\t\t\tbreak;\n\t\t\t\tcase false:\n\t\t\t\t\tthis.debugService.enableOrDisableBreakpoints(true, this.breakpoint);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}));\n\t\tthis.toDispose.push(dom.addDisposableListener(this.domNode, dom.EventType.CONTEXT_MENU, e => {\n\t\t\tconst event = new StandardMouseEvent(dom.getWindow(this.domNode), e);\n\t\t\tconst actions = this.getContextMenuActions();\n\t\t\tthis.contextMenuService.showContextMenu({\n\t\t\t\tgetAnchor: () => event,\n\t\t\t\tgetActions: () => actions,\n\t\t\t\tgetActionsContext: () => this.breakpoint,\n\t\t\t\tonHide: () => disposeIfDisposable(actions)\n\t\t\t});\n\t\t}));\n\n\t\tthis.updateSize();\n\n\t\tthis.toDispose.push(this.editor.onDidChangeConfiguration(c => {\n\t\t\tif (c.hasChanged(EditorOption.fontSize) || c.hasChanged(EditorOption.lineHeight)) {\n\t\t\t\tthis.updateSize();\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate updateSize() {\n\t\tconst lineHeight = this.range ? this.editor.getLineHeightForPosition(this.range.getStartPosition()) : this.editor.getOption(EditorOption.lineHeight);\n\t\tthis.domNode.style.height = `${lineHeight}px`;\n\t\tthis.domNode.style.width = `${Math.ceil(0.8 * lineHeight)}px`;\n\t\tthis.domNode.style.marginLeft = `4px`;\n\t}\n\n\t@memoize\n\tgetId(): string {\n\t\treturn generateUuid();\n\t}\n\n\tgetDomNode(): HTMLElement {\n\t\treturn this.domNode;\n\t}\n\n\tgetPosition(): IContentWidgetPosition | null {\n\t\tif (!this.range) {\n\t\t\treturn null;\n\t\t}\n\t\t// Workaround: since the content widget can not be placed before the first column we need to force the left position\n\t\tthis.domNode.classList.toggle('line-start', this.range.startColumn === 1);\n\n\t\treturn {\n\t\t\tposition: { lineNumber: this.range.startLineNumber, column: this.range.startColumn - 1 },\n\t\t\tpreference: [ContentWidgetPositionPreference.EXACT]\n\t\t};\n\t}\n\n\tdispose(): void {\n\t\tthis.editor.removeContentWidget(this);\n\t\tdispose(this.toDispose);\n\t}\n}\n\nregisterThemingParticipant((theme, collector) => {\n\tconst scope = '.monaco-editor .glyph-margin-widgets, .monaco-workbench .debug-breakpoints, .monaco-workbench .disassembly-view, .monaco-editor .contentWidgets';\n\tconst debugIconBreakpointColor = theme.getColor(debugIconBreakpointForeground);\n\tif (debugIconBreakpointColor) {\n\t\tcollector.addRule(`${scope} {\n\t\t\t${icons.allBreakpoints.map(b => `${ThemeIcon.asCSSSelector(b.regular)}`).join(',\\n\t\t')},\n\t\t\t${ThemeIcon.asCSSSelector(icons.debugBreakpointUnsupported)},\n\t\t\t${ThemeIcon.asCSSSelector(icons.debugBreakpointHint)}:not([class*='codicon-debug-breakpoint']):not([class*='codicon-debug-stackframe']),\n\t\t\t${ThemeIcon.asCSSSelector(icons.breakpoint.regular)}${ThemeIcon.asCSSSelector(icons.debugStackframeFocused)}::after,\n\t\t\t${ThemeIcon.asCSSSelector(icons.breakpoint.regular)}${ThemeIcon.asCSSSelector(icons.debugStackframe)}::after {\n\t\t\t\tcolor: ${debugIconBreakpointColor} !important;\n\t\t\t}\n\t\t}`);\n\n\t\tcollector.addRule(`${scope} {\n\t\t\t${ThemeIcon.asCSSSelector(icons.breakpoint.pending)} {\n\t\t\t\tcolor: ${debugIconBreakpointColor} !important;\n\t\t\t\tfont-size: 12px !important;\n\t\t\t}\n\t\t}`);\n\t}\n\n\tconst debugIconBreakpointDisabledColor = theme.getColor(debugIconBreakpointDisabledForeground);\n\tif (debugIconBreakpointDisabledColor) {\n\t\tcollector.addRule(`${scope} {\n\t\t\t${icons.allBreakpoints.map(b => ThemeIcon.asCSSSelector(b.disabled)).join(',\\n\t\t')} {\n\t\t\t\tcolor: ${debugIconBreakpointDisabledColor};\n\t\t\t}\n\t\t}`);\n\t}\n\n\tconst debugIconBreakpointUnverifiedColor = theme.getColor(debugIconBreakpointUnverifiedForeground);\n\tif (debugIconBreakpointUnverifiedColor) {\n\t\tcollector.addRule(`${scope} {\n\t\t\t${icons.allBreakpoints.map(b => ThemeIcon.asCSSSelector(b.unverified)).join(',\\n\t\t')} {\n\t\t\t\tcolor: ${debugIconBreakpointUnverifiedColor};\n\t\t\t}\n\t\t}`);\n\t}\n\n\tconst debugIconBreakpointCurrentStackframeForegroundColor = theme.getColor(debugIconBreakpointCurrentStackframeForeground);\n\tif (debugIconBreakpointCurrentStackframeForegroundColor) {\n\t\tcollector.addRule(`\n\t\t.monaco-editor .debug-top-stack-frame-column {\n\t\t\tcolor: ${debugIconBreakpointCurrentStackframeForegroundColor} !important;\n\t\t}\n\t\t${scope} {\n\t\t\t${ThemeIcon.asCSSSelector(icons.debugStackframe)} {\n\t\t\t\tcolor: ${debugIconBreakpointCurrentStackframeForegroundColor} !important;\n\t\t\t}\n\t\t}\n\t\t`);\n\t}\n\n\tconst debugIconBreakpointStackframeFocusedColor = theme.getColor(debugIconBreakpointStackframeForeground);\n\tif (debugIconBreakpointStackframeFocusedColor) {\n\t\tcollector.addRule(`${scope} {\n\t\t\t${ThemeIcon.asCSSSelector(icons.debugStackframeFocused)} {\n\t\t\t\tcolor: ${debugIconBreakpointStackframeFocusedColor} !important;\n\t\t\t}\n\t\t}`);\n\t}\n});\n\nexport const debugIconBreakpointForeground = registerColor('debugIcon.breakpointForeground', '#E51400', nls.localize('debugIcon.breakpointForeground', 'Icon color for breakpoints.'));\nconst debugIconBreakpointDisabledForeground = registerColor('debugIcon.breakpointDisabledForeground', '#848484', nls.localize('debugIcon.breakpointDisabledForeground', 'Icon color for disabled breakpoints.'));\nconst debugIconBreakpointUnverifiedForeground = registerColor('debugIcon.breakpointUnverifiedForeground', '#848484', nls.localize('debugIcon.breakpointUnverifiedForeground', 'Icon color for unverified breakpoints.'));\nconst debugIconBreakpointCurrentStackframeForeground = registerColor('debugIcon.breakpointCurrentStackframeForeground', { dark: '#FFCC00', light: '#BE8700', hcDark: '#FFCC00', hcLight: '#BE8700' }, nls.localize('debugIcon.breakpointCurrentStackframeForeground', 'Icon color for the current breakpoint stack frame.'));\nconst debugIconBreakpointStackframeForeground = registerColor('debugIcon.breakpointStackframeForeground', '#89D185', nls.localize('debugIcon.breakpointStackframeForeground', 'Icon color for all breakpoint stack frames.'));\n"]}