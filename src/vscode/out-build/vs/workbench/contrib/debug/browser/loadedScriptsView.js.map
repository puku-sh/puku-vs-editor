{"version":3,"sources":["vs/workbench/contrib/debug/browser/loadedScriptsView.ts"],"names":[],"mappings":"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","file":"loadedScriptsView.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IListVirtualDelegate } from '../../../../base/browser/ui/list/list.js';\nimport { IListAccessibilityProvider } from '../../../../base/browser/ui/list/listWidget.js';\nimport { TreeFindMode } from '../../../../base/browser/ui/tree/abstractTree.js';\nimport type { ICompressedTreeNode } from '../../../../base/browser/ui/tree/compressedObjectTreeModel.js';\nimport type { ICompressibleTreeRenderer } from '../../../../base/browser/ui/tree/objectTree.js';\nimport { ITreeElement, ITreeFilter, ITreeNode, TreeFilterResult, TreeVisibility } from '../../../../base/browser/ui/tree/tree.js';\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { createMatches, FuzzyScore } from '../../../../base/common/filters.js';\nimport { normalizeDriveLetter, tildify } from '../../../../base/common/labels.js';\nimport { dispose } from '../../../../base/common/lifecycle.js';\nimport { isAbsolute, normalize, posix } from '../../../../base/common/path.js';\nimport { isWindows } from '../../../../base/common/platform.js';\nimport { ltrim } from '../../../../base/common/strings.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport * as nls from '../../../../nls.js';\nimport { MenuId, registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { ContextKeyExpr, IContextKey, IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { FileKind } from '../../../../platform/files/common/files.js';\nimport { IHoverService } from '../../../../platform/hover/browser/hover.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { ILabelService } from '../../../../platform/label/common/label.js';\nimport { WorkbenchCompressibleObjectTree } from '../../../../platform/list/browser/listService.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { IFileIconTheme, IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { IWorkspaceContextService, IWorkspaceFolder } from '../../../../platform/workspace/common/workspace.js';\nimport { IResourceLabel, IResourceLabelOptions, IResourceLabelProps, ResourceLabels } from '../../../browser/labels.js';\nimport { ViewAction, ViewPane } from '../../../browser/parts/views/viewPane.js';\nimport { IViewletViewOptions } from '../../../browser/parts/views/viewsViewlet.js';\nimport { IViewDescriptorService } from '../../../common/views.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { IPathService } from '../../../services/path/common/pathService.js';\nimport { CONTEXT_LOADED_SCRIPTS_ITEM_TYPE, IDebugService, IDebugSession, LOADED_SCRIPTS_VIEW_ID } from '../common/debug.js';\nimport { DebugContentProvider } from '../common/debugContentProvider.js';\nimport { Source } from '../common/debugSource.js';\nimport { renderViewTree } from './baseDebugView.js';\n\nconst NEW_STYLE_COMPRESS = true;\n\n// RFC 2396, Appendix A: https://www.ietf.org/rfc/rfc2396.txt\nconst URI_SCHEMA_PATTERN = /^[a-zA-Z][a-zA-Z0-9\\+\\-\\.]+:/;\n\ntype LoadedScriptsItem = BaseTreeItem;\n\nclass BaseTreeItem {\n\n\tprivate _showedMoreThanOne: boolean;\n\tprivate _children = new Map<string, BaseTreeItem>();\n\tprivate _source: Source | undefined;\n\n\tconstructor(private _parent: BaseTreeItem | undefined, private _label: string, public readonly isIncompressible = false) {\n\t\tthis._showedMoreThanOne = false;\n\t}\n\n\tupdateLabel(label: string) {\n\t\tthis._label = label;\n\t}\n\n\tisLeaf(): boolean {\n\t\treturn this._children.size === 0;\n\t}\n\n\tgetSession(): IDebugSession | undefined {\n\t\tif (this._parent) {\n\t\t\treturn this._parent.getSession();\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tsetSource(session: IDebugSession, source: Source): void {\n\t\tthis._source = source;\n\t\tthis._children.clear();\n\t\tif (source.raw && source.raw.sources) {\n\t\t\tfor (const src of source.raw.sources) {\n\t\t\t\tif (src.name && src.path) {\n\t\t\t\t\tconst s = new BaseTreeItem(this, src.name);\n\t\t\t\t\tthis._children.set(src.path, s);\n\t\t\t\t\tconst ss = session.getSource(src);\n\t\t\t\t\ts.setSource(session, ss);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tcreateIfNeeded<T extends BaseTreeItem>(key: string, factory: (parent: BaseTreeItem, label: string) => T): T {\n\t\tlet child = <T>this._children.get(key);\n\t\tif (!child) {\n\t\t\tchild = factory(this, key);\n\t\t\tthis._children.set(key, child);\n\t\t}\n\t\treturn child;\n\t}\n\n\tgetChild(key: string): BaseTreeItem | undefined {\n\t\treturn this._children.get(key);\n\t}\n\n\tremove(key: string): void {\n\t\tthis._children.delete(key);\n\t}\n\n\tremoveFromParent(): void {\n\t\tif (this._parent) {\n\t\t\tthis._parent.remove(this._label);\n\t\t\tif (this._parent._children.size === 0) {\n\t\t\t\tthis._parent.removeFromParent();\n\t\t\t}\n\t\t}\n\t}\n\n\tgetTemplateId(): string {\n\t\treturn 'id';\n\t}\n\n\t// a dynamic ID based on the parent chain; required for reparenting (see #55448)\n\tgetId(): string {\n\t\tconst parent = this.getParent();\n\t\treturn parent ? `${parent.getId()}/${this.getInternalId()}` : this.getInternalId();\n\t}\n\n\tgetInternalId(): string {\n\t\treturn this._label;\n\t}\n\n\t// skips intermediate single-child nodes\n\tgetParent(): BaseTreeItem | undefined {\n\t\tif (this._parent) {\n\t\t\tif (this._parent.isSkipped()) {\n\t\t\t\treturn this._parent.getParent();\n\t\t\t}\n\t\t\treturn this._parent;\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tisSkipped(): boolean {\n\t\tif (this._parent) {\n\t\t\tif (this._parent.oneChild()) {\n\t\t\t\treturn true;\t// skipped if I'm the only child of my parents\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\t// roots are never skipped\n\t}\n\n\t// skips intermediate single-child nodes\n\thasChildren(): boolean {\n\t\tconst child = this.oneChild();\n\t\tif (child) {\n\t\t\treturn child.hasChildren();\n\t\t}\n\t\treturn this._children.size > 0;\n\t}\n\n\t// skips intermediate single-child nodes\n\tgetChildren(): BaseTreeItem[] {\n\t\tconst child = this.oneChild();\n\t\tif (child) {\n\t\t\treturn child.getChildren();\n\t\t}\n\t\tconst array: BaseTreeItem[] = [];\n\t\tfor (const child of this._children.values()) {\n\t\t\tarray.push(child);\n\t\t}\n\t\treturn array.sort((a, b) => this.compare(a, b));\n\t}\n\n\t// skips intermediate single-child nodes\n\tgetLabel(separateRootFolder = true): string {\n\t\tconst child = this.oneChild();\n\t\tif (child) {\n\t\t\tconst sep = (this instanceof RootFolderTreeItem && separateRootFolder) ? ' â€¢ ' : posix.sep;\n\t\t\treturn `${this._label}${sep}${child.getLabel()}`;\n\t\t}\n\t\treturn this._label;\n\t}\n\n\t// skips intermediate single-child nodes\n\tgetHoverLabel(): string | undefined {\n\t\tif (this._source && this._parent && this._parent._source) {\n\t\t\treturn this._source.raw.path || this._source.raw.name;\n\t\t}\n\t\tconst label = this.getLabel(false);\n\t\tconst parent = this.getParent();\n\t\tif (parent) {\n\t\t\tconst hover = parent.getHoverLabel();\n\t\t\tif (hover) {\n\t\t\t\treturn `${hover}/${label}`;\n\t\t\t}\n\t\t}\n\t\treturn label;\n\t}\n\n\t// skips intermediate single-child nodes\n\tgetSource(): Source | undefined {\n\t\tconst child = this.oneChild();\n\t\tif (child) {\n\t\t\treturn child.getSource();\n\t\t}\n\t\treturn this._source;\n\t}\n\n\tprotected compare(a: BaseTreeItem, b: BaseTreeItem): number {\n\t\tif (a._label && b._label) {\n\t\t\treturn a._label.localeCompare(b._label);\n\t\t}\n\t\treturn 0;\n\t}\n\n\tprivate oneChild(): BaseTreeItem | undefined {\n\t\tif (!this._source && !this._showedMoreThanOne && this.skipOneChild()) {\n\t\t\tif (this._children.size === 1) {\n\t\t\t\treturn this._children.values().next().value;\n\t\t\t}\n\t\t\t// if a node had more than one child once, it will never be skipped again\n\t\t\tif (this._children.size > 1) {\n\t\t\t\tthis._showedMoreThanOne = true;\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tprivate skipOneChild(): boolean {\n\t\tif (NEW_STYLE_COMPRESS) {\n\t\t\t// if the root node has only one Session, don't show the session\n\t\t\treturn this instanceof RootTreeItem;\n\t\t} else {\n\t\t\treturn !(this instanceof RootFolderTreeItem) && !(this instanceof SessionTreeItem);\n\t\t}\n\t}\n}\n\nclass RootFolderTreeItem extends BaseTreeItem {\n\n\tconstructor(parent: BaseTreeItem, public folder: IWorkspaceFolder) {\n\t\tsuper(parent, folder.name, true);\n\t}\n}\n\nclass RootTreeItem extends BaseTreeItem {\n\n\tconstructor(private _pathService: IPathService, private _contextService: IWorkspaceContextService, private _labelService: ILabelService) {\n\t\tsuper(undefined, 'Root');\n\t}\n\n\tadd(session: IDebugSession): SessionTreeItem {\n\t\treturn this.createIfNeeded(session.getId(), () => new SessionTreeItem(this._labelService, this, session, this._pathService, this._contextService));\n\t}\n\n\tfind(session: IDebugSession): SessionTreeItem {\n\t\treturn <SessionTreeItem>this.getChild(session.getId());\n\t}\n}\n\nclass SessionTreeItem extends BaseTreeItem {\n\n\tprivate static readonly URL_REGEXP = /^(https?:\\/\\/[^/]+)(\\/.*)$/;\n\n\tprivate _session: IDebugSession;\n\tprivate _map = new Map<string, BaseTreeItem>();\n\tprivate _labelService: ILabelService;\n\n\tconstructor(labelService: ILabelService, parent: BaseTreeItem, session: IDebugSession, private _pathService: IPathService, private rootProvider: IWorkspaceContextService) {\n\t\tsuper(parent, session.getLabel(), true);\n\t\tthis._labelService = labelService;\n\t\tthis._session = session;\n\t}\n\n\toverride getInternalId(): string {\n\t\treturn this._session.getId();\n\t}\n\n\toverride getSession(): IDebugSession {\n\t\treturn this._session;\n\t}\n\n\toverride getHoverLabel(): string | undefined {\n\t\treturn undefined;\n\t}\n\n\toverride hasChildren(): boolean {\n\t\treturn true;\n\t}\n\n\tprotected override compare(a: BaseTreeItem, b: BaseTreeItem): number {\n\t\tconst acat = this.category(a);\n\t\tconst bcat = this.category(b);\n\t\tif (acat !== bcat) {\n\t\t\treturn acat - bcat;\n\t\t}\n\t\treturn super.compare(a, b);\n\t}\n\n\tprivate category(item: BaseTreeItem): number {\n\n\t\t// workspace scripts come at the beginning in \"folder\" order\n\t\tif (item instanceof RootFolderTreeItem) {\n\t\t\treturn item.folder.index;\n\t\t}\n\n\t\t// <...> come at the very end\n\t\tconst l = item.getLabel();\n\t\tif (l && /^<.+>$/.test(l)) {\n\t\t\treturn 1000;\n\t\t}\n\n\t\t// everything else in between\n\t\treturn 999;\n\t}\n\n\tasync addPath(source: Source): Promise<void> {\n\n\t\tlet folder: IWorkspaceFolder | null;\n\t\tlet url: string;\n\n\t\tlet path = source.raw.path;\n\t\tif (!path) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._labelService && URI_SCHEMA_PATTERN.test(path)) {\n\t\t\tpath = this._labelService.getUriLabel(URI.parse(path));\n\t\t}\n\n\t\tconst match = SessionTreeItem.URL_REGEXP.exec(path);\n\t\tif (match && match.length === 3) {\n\t\t\turl = match[1];\n\t\t\tpath = decodeURI(match[2]);\n\t\t} else {\n\t\t\tif (isAbsolute(path)) {\n\t\t\t\tconst resource = URI.file(path);\n\n\t\t\t\t// return early if we can resolve a relative path label from the root folder\n\t\t\t\tfolder = this.rootProvider ? this.rootProvider.getWorkspaceFolder(resource) : null;\n\t\t\t\tif (folder) {\n\t\t\t\t\t// strip off the root folder path\n\t\t\t\t\tpath = normalize(ltrim(resource.path.substring(folder.uri.path.length), posix.sep));\n\t\t\t\t\tconst hasMultipleRoots = this.rootProvider.getWorkspace().folders.length > 1;\n\t\t\t\t\tif (hasMultipleRoots) {\n\t\t\t\t\t\tpath = posix.sep + path;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// don't show root folder\n\t\t\t\t\t\tfolder = null;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// on unix try to tildify absolute paths\n\t\t\t\t\tpath = normalize(path);\n\t\t\t\t\tif (isWindows) {\n\t\t\t\t\t\tpath = normalizeDriveLetter(path);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpath = tildify(path, (await this._pathService.userHome()).fsPath);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet leaf: BaseTreeItem = this;\n\t\tpath.split(/[\\/\\\\]/).forEach((segment, i) => {\n\t\t\tif (i === 0 && folder) {\n\t\t\t\tconst f = folder;\n\t\t\t\tleaf = leaf.createIfNeeded(folder.name, parent => new RootFolderTreeItem(parent, f));\n\t\t\t} else if (i === 0 && url) {\n\t\t\t\tleaf = leaf.createIfNeeded(url, parent => new BaseTreeItem(parent, url));\n\t\t\t} else {\n\t\t\t\tleaf = leaf.createIfNeeded(segment, parent => new BaseTreeItem(parent, segment));\n\t\t\t}\n\t\t});\n\n\t\tleaf.setSource(this._session, source);\n\t\tif (source.raw.path) {\n\t\t\tthis._map.set(source.raw.path, leaf);\n\t\t}\n\t}\n\n\tremovePath(source: Source): boolean {\n\t\tif (source.raw.path) {\n\t\t\tconst leaf = this._map.get(source.raw.path);\n\t\t\tif (leaf) {\n\t\t\t\tleaf.removeFromParent();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n}\n\ninterface IViewState {\n\treadonly expanded: Set<string>;\n}\n\n/**\n * This maps a model item into a view model item.\n */\nfunction asTreeElement(item: BaseTreeItem, viewState?: IViewState): ITreeElement<LoadedScriptsItem> {\n\tconst children = item.getChildren();\n\tconst collapsed = viewState ? !viewState.expanded.has(item.getId()) : !(item instanceof SessionTreeItem);\n\n\treturn {\n\t\telement: item,\n\t\tcollapsed,\n\t\tcollapsible: item.hasChildren(),\n\t\tchildren: children.map(i => asTreeElement(i, viewState))\n\t};\n}\n\nexport class LoadedScriptsView extends ViewPane {\n\n\tprivate treeContainer!: HTMLElement;\n\tprivate loadedScriptsItemType: IContextKey<string>;\n\tprivate tree!: WorkbenchCompressibleObjectTree<LoadedScriptsItem, FuzzyScore>;\n\tprivate treeLabels!: ResourceLabels;\n\tprivate changeScheduler!: RunOnceScheduler;\n\tprivate treeNeedsRefreshOnVisible = false;\n\tprivate filter!: LoadedScriptsFilter;\n\n\tconstructor(\n\t\toptions: IViewletViewOptions,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IEditorService private readonly editorService: IEditorService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IWorkspaceContextService private readonly contextService: IWorkspaceContextService,\n\t\t@IDebugService private readonly debugService: IDebugService,\n\t\t@ILabelService private readonly labelService: ILabelService,\n\t\t@IPathService private readonly pathService: IPathService,\n\t\t@IOpenerService openerService: IOpenerService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IHoverService hoverService: IHoverService,\n\t) {\n\t\tsuper(options, keybindingService, contextMenuService, configurationService, contextKeyService, viewDescriptorService, instantiationService, openerService, themeService, hoverService);\n\t\tthis.loadedScriptsItemType = CONTEXT_LOADED_SCRIPTS_ITEM_TYPE.bindTo(contextKeyService);\n\t}\n\n\tprotected override renderBody(container: HTMLElement): void {\n\t\tsuper.renderBody(container);\n\n\t\tthis.element.classList.add('debug-pane');\n\t\tcontainer.classList.add('debug-loaded-scripts', 'show-file-icons');\n\n\t\tthis.treeContainer = renderViewTree(container);\n\n\t\tthis.filter = new LoadedScriptsFilter();\n\n\t\tconst root = new RootTreeItem(this.pathService, this.contextService, this.labelService);\n\n\t\tthis.treeLabels = this.instantiationService.createInstance(ResourceLabels, { onDidChangeVisibility: this.onDidChangeBodyVisibility });\n\t\tthis._register(this.treeLabels);\n\n\t\tconst onFileIconThemeChange = (fileIconTheme: IFileIconTheme) => {\n\t\t\tthis.treeContainer.classList.toggle('align-icons-and-twisties', fileIconTheme.hasFileIcons && !fileIconTheme.hasFolderIcons);\n\t\t\tthis.treeContainer.classList.toggle('hide-arrows', fileIconTheme.hidesExplorerArrows === true);\n\t\t};\n\n\t\tthis._register(this.themeService.onDidFileIconThemeChange(onFileIconThemeChange));\n\t\tonFileIconThemeChange(this.themeService.getFileIconTheme());\n\n\t\tthis.tree = this.instantiationService.createInstance(WorkbenchCompressibleObjectTree<LoadedScriptsItem, FuzzyScore>,\n\t\t\t'LoadedScriptsView',\n\t\t\tthis.treeContainer,\n\t\t\tnew LoadedScriptsDelegate(),\n\t\t\t[new LoadedScriptsRenderer(this.treeLabels)],\n\t\t\t{\n\t\t\t\tcompressionEnabled: NEW_STYLE_COMPRESS,\n\t\t\t\tcollapseByDefault: true,\n\t\t\t\thideTwistiesOfChildlessElements: true,\n\t\t\t\tidentityProvider: {\n\t\t\t\t\tgetId: (element: LoadedScriptsItem) => element.getId()\n\t\t\t\t},\n\t\t\t\tkeyboardNavigationLabelProvider: {\n\t\t\t\t\tgetKeyboardNavigationLabel: (element: LoadedScriptsItem) => {\n\t\t\t\t\t\treturn element.getLabel();\n\t\t\t\t\t},\n\t\t\t\t\tgetCompressedNodeKeyboardNavigationLabel: (elements: LoadedScriptsItem[]) => {\n\t\t\t\t\t\treturn elements.map(e => e.getLabel()).join('/');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfilter: this.filter,\n\t\t\t\taccessibilityProvider: new LoadedSciptsAccessibilityProvider(),\n\t\t\t\toverrideStyles: this.getLocationBasedColors().listOverrideStyles\n\t\t\t}\n\t\t);\n\n\t\tconst updateView = (viewState?: IViewState) => this.tree.setChildren(null, asTreeElement(root, viewState).children);\n\n\t\tupdateView();\n\n\t\tthis.changeScheduler = new RunOnceScheduler(() => {\n\t\t\tthis.treeNeedsRefreshOnVisible = false;\n\t\t\tif (this.tree) {\n\t\t\t\tupdateView();\n\t\t\t}\n\t\t}, 300);\n\t\tthis._register(this.changeScheduler);\n\n\t\tthis._register(this.tree.onDidOpen(e => {\n\t\t\tif (e.element instanceof BaseTreeItem) {\n\t\t\t\tconst source = e.element.getSource();\n\t\t\t\tif (source && source.available) {\n\t\t\t\t\tconst nullRange = { startLineNumber: 0, startColumn: 0, endLineNumber: 0, endColumn: 0 };\n\t\t\t\t\tsource.openInEditor(this.editorService, nullRange, e.editorOptions.preserveFocus, e.sideBySide, e.editorOptions.pinned);\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.tree.onDidChangeFocus(() => {\n\t\t\tconst focus = this.tree.getFocus();\n\t\t\tif (focus instanceof SessionTreeItem) {\n\t\t\t\tthis.loadedScriptsItemType.set('session');\n\t\t\t} else {\n\t\t\t\tthis.loadedScriptsItemType.reset();\n\t\t\t}\n\t\t}));\n\n\t\tconst scheduleRefreshOnVisible = () => {\n\t\t\tif (this.isBodyVisible()) {\n\t\t\t\tthis.changeScheduler.schedule();\n\t\t\t} else {\n\t\t\t\tthis.treeNeedsRefreshOnVisible = true;\n\t\t\t}\n\t\t};\n\n\t\tconst addSourcePathsToSession = async (session: IDebugSession) => {\n\t\t\tif (session.capabilities.supportsLoadedSourcesRequest) {\n\t\t\t\tconst sessionNode = root.add(session);\n\t\t\t\tconst paths = await session.getLoadedSources();\n\t\t\t\tfor (const path of paths) {\n\t\t\t\t\tawait sessionNode.addPath(path);\n\t\t\t\t}\n\t\t\t\tscheduleRefreshOnVisible();\n\t\t\t}\n\t\t};\n\n\t\tconst registerSessionListeners = (session: IDebugSession) => {\n\t\t\tthis._register(session.onDidChangeName(async () => {\n\t\t\t\tconst sessionRoot = root.find(session);\n\t\t\t\tif (sessionRoot) {\n\t\t\t\t\tsessionRoot.updateLabel(session.getLabel());\n\t\t\t\t\tscheduleRefreshOnVisible();\n\t\t\t\t}\n\t\t\t}));\n\t\t\tthis._register(session.onDidLoadedSource(async event => {\n\t\t\t\tlet sessionRoot: SessionTreeItem;\n\t\t\t\tswitch (event.reason) {\n\t\t\t\t\tcase 'new':\n\t\t\t\t\tcase 'changed':\n\t\t\t\t\t\tsessionRoot = root.add(session);\n\t\t\t\t\t\tawait sessionRoot.addPath(event.source);\n\t\t\t\t\t\tscheduleRefreshOnVisible();\n\t\t\t\t\t\tif (event.reason === 'changed') {\n\t\t\t\t\t\t\tDebugContentProvider.refreshDebugContent(event.source.uri);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'removed':\n\t\t\t\t\t\tsessionRoot = root.find(session);\n\t\t\t\t\t\tif (sessionRoot && sessionRoot.removePath(event.source)) {\n\t\t\t\t\t\t\tscheduleRefreshOnVisible();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthis.filter.setFilter(event.source.name);\n\t\t\t\t\t\tthis.tree.refilter();\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}));\n\t\t};\n\n\t\tthis._register(this.debugService.onDidNewSession(registerSessionListeners));\n\t\tthis.debugService.getModel().getSessions().forEach(registerSessionListeners);\n\n\t\tthis._register(this.debugService.onDidEndSession(({ session }) => {\n\t\t\troot.remove(session.getId());\n\t\t\tthis.changeScheduler.schedule();\n\t\t}));\n\n\t\tthis.changeScheduler.schedule(0);\n\n\t\tthis._register(this.onDidChangeBodyVisibility(visible => {\n\t\t\tif (visible && this.treeNeedsRefreshOnVisible) {\n\t\t\t\tthis.changeScheduler.schedule();\n\t\t\t}\n\t\t}));\n\n\t\t// feature: expand all nodes when filtering (not when finding)\n\t\tlet viewState: IViewState | undefined;\n\t\tthis._register(this.tree.onDidChangeFindPattern(pattern => {\n\t\t\tif (this.tree.findMode === TreeFindMode.Highlight) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!viewState && pattern) {\n\t\t\t\tconst expanded = new Set<string>();\n\t\t\t\tconst visit = (node: ITreeNode<BaseTreeItem | null, FuzzyScore>) => {\n\t\t\t\t\tif (node.element && !node.collapsed) {\n\t\t\t\t\t\texpanded.add(node.element.getId());\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (const child of node.children) {\n\t\t\t\t\t\tvisit(child);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tvisit(this.tree.getNode());\n\t\t\t\tviewState = { expanded };\n\t\t\t\tthis.tree.expandAll();\n\t\t\t} else if (!pattern && viewState) {\n\t\t\t\tthis.tree.setFocus([]);\n\t\t\t\tupdateView(viewState);\n\t\t\t\tviewState = undefined;\n\t\t\t}\n\t\t}));\n\n\t\t// populate tree model with source paths from all debug sessions\n\t\tthis.debugService.getModel().getSessions().forEach(session => addSourcePathsToSession(session));\n\t}\n\n\tprotected override layoutBody(height: number, width: number): void {\n\t\tsuper.layoutBody(height, width);\n\t\tthis.tree.layout(height, width);\n\t}\n\n\tcollapseAll(): void {\n\t\tthis.tree.collapseAll();\n\t}\n\n\toverride dispose(): void {\n\t\tdispose(this.tree);\n\t\tdispose(this.treeLabels);\n\t\tsuper.dispose();\n\t}\n}\n\nclass LoadedScriptsDelegate implements IListVirtualDelegate<LoadedScriptsItem> {\n\n\tgetHeight(element: LoadedScriptsItem): number {\n\t\treturn 22;\n\t}\n\n\tgetTemplateId(element: LoadedScriptsItem): string {\n\t\treturn LoadedScriptsRenderer.ID;\n\t}\n}\n\ninterface ILoadedScriptsItemTemplateData {\n\tlabel: IResourceLabel;\n}\n\nclass LoadedScriptsRenderer implements ICompressibleTreeRenderer<BaseTreeItem, FuzzyScore, ILoadedScriptsItemTemplateData> {\n\n\tstatic readonly ID = 'lsrenderer';\n\n\tconstructor(\n\t\tprivate labels: ResourceLabels\n\t) {\n\t}\n\n\tget templateId(): string {\n\t\treturn LoadedScriptsRenderer.ID;\n\t}\n\n\trenderTemplate(container: HTMLElement): ILoadedScriptsItemTemplateData {\n\t\tconst label = this.labels.create(container, { supportHighlights: true });\n\t\treturn { label };\n\t}\n\n\trenderElement(node: ITreeNode<BaseTreeItem, FuzzyScore>, index: number, data: ILoadedScriptsItemTemplateData): void {\n\n\t\tconst element = node.element;\n\t\tconst label = element.getLabel();\n\n\t\tthis.render(element, label, data, node.filterData);\n\t}\n\n\trenderCompressedElements(node: ITreeNode<ICompressedTreeNode<BaseTreeItem>, FuzzyScore>, index: number, data: ILoadedScriptsItemTemplateData): void {\n\n\t\tconst element = node.element.elements[node.element.elements.length - 1];\n\t\tconst labels = node.element.elements.map(e => e.getLabel());\n\n\t\tthis.render(element, labels, data, node.filterData);\n\t}\n\n\tprivate render(element: BaseTreeItem, labels: string | string[], data: ILoadedScriptsItemTemplateData, filterData: FuzzyScore | undefined) {\n\n\t\tconst label: IResourceLabelProps = {\n\t\t\tname: labels\n\t\t};\n\t\tconst options: IResourceLabelOptions = {\n\t\t\ttitle: element.getHoverLabel()\n\t\t};\n\n\t\tif (element instanceof RootFolderTreeItem) {\n\n\t\t\toptions.fileKind = FileKind.ROOT_FOLDER;\n\n\t\t} else if (element instanceof SessionTreeItem) {\n\n\t\t\toptions.title = nls.localize('loadedScriptsSession', \"Debug Session\");\n\t\t\toptions.hideIcon = true;\n\n\t\t} else if (element instanceof BaseTreeItem) {\n\n\t\t\tconst src = element.getSource();\n\t\t\tif (src && src.uri) {\n\t\t\t\tlabel.resource = src.uri;\n\t\t\t\toptions.fileKind = FileKind.FILE;\n\t\t\t} else {\n\t\t\t\toptions.fileKind = FileKind.FOLDER;\n\t\t\t}\n\t\t}\n\t\toptions.matches = createMatches(filterData);\n\n\t\tdata.label.setResource(label, options);\n\t}\n\n\tdisposeTemplate(templateData: ILoadedScriptsItemTemplateData): void {\n\t\ttemplateData.label.dispose();\n\t}\n}\n\nclass LoadedSciptsAccessibilityProvider implements IListAccessibilityProvider<LoadedScriptsItem> {\n\n\tgetWidgetAriaLabel(): string {\n\t\treturn nls.localize({ comment: ['Debug is a noun in this context, not a verb.'], key: 'loadedScriptsAriaLabel' }, \"Debug Loaded Scripts\");\n\t}\n\n\tgetAriaLabel(element: LoadedScriptsItem): string {\n\n\t\tif (element instanceof RootFolderTreeItem) {\n\t\t\treturn nls.localize('loadedScriptsRootFolderAriaLabel', \"Workspace folder {0}, loaded script, debug\", element.getLabel());\n\t\t}\n\n\t\tif (element instanceof SessionTreeItem) {\n\t\t\treturn nls.localize('loadedScriptsSessionAriaLabel', \"Session {0}, loaded script, debug\", element.getLabel());\n\t\t}\n\n\t\tif (element.hasChildren()) {\n\t\t\treturn nls.localize('loadedScriptsFolderAriaLabel', \"Folder {0}, loaded script, debug\", element.getLabel());\n\t\t} else {\n\t\t\treturn nls.localize('loadedScriptsSourceAriaLabel', \"{0}, loaded script, debug\", element.getLabel());\n\t\t}\n\t}\n}\n\nclass LoadedScriptsFilter implements ITreeFilter<BaseTreeItem, FuzzyScore> {\n\n\tprivate filterText: string | undefined;\n\n\tsetFilter(filterText: string) {\n\t\tthis.filterText = filterText;\n\t}\n\n\tfilter(element: BaseTreeItem, parentVisibility: TreeVisibility): TreeFilterResult<FuzzyScore> {\n\n\t\tif (!this.filterText) {\n\t\t\treturn TreeVisibility.Visible;\n\t\t}\n\n\t\tif (element.isLeaf()) {\n\t\t\tconst name = element.getLabel();\n\t\t\tif (name.indexOf(this.filterText) >= 0) {\n\t\t\t\treturn TreeVisibility.Visible;\n\t\t\t}\n\t\t\treturn TreeVisibility.Hidden;\n\t\t}\n\t\treturn TreeVisibility.Recurse;\n\t}\n}\nregisterAction2(class Collapse extends ViewAction<LoadedScriptsView> {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'loadedScripts.collapse',\n\t\t\tviewId: LOADED_SCRIPTS_VIEW_ID,\n\t\t\ttitle: nls.localize('collapse', \"Collapse All\"),\n\t\t\tf1: false,\n\t\t\ticon: Codicon.collapseAll,\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\torder: 30,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\twhen: ContextKeyExpr.equals('view', LOADED_SCRIPTS_VIEW_ID)\n\t\t\t}\n\t\t});\n\t}\n\n\trunInView(_accessor: ServicesAccessor, view: LoadedScriptsView) {\n\t\tview.collapseAll();\n\t}\n});\n"]}