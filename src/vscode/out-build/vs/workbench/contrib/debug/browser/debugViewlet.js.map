{"version":3,"sources":["vs/workbench/contrib/debug/browser/debugViewlet.ts"],"names":[],"mappings":"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","file":"debugViewlet.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IActionViewItem } from '../../../../base/browser/ui/actionbar/actionbar.js';\nimport { IAction } from '../../../../base/common/actions.js';\nimport { DisposableStore, dispose, IDisposable } from '../../../../base/common/lifecycle.js';\nimport './media/debugViewlet.css';\nimport * as nls from '../../../../nls.js';\nimport { createActionViewItem } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { Action2, MenuId, MenuItemAction, MenuRegistry, registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { ContextKeyExpr, IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IContextMenuService, IContextViewService } from '../../../../platform/contextview/browser/contextView.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IProgressService } from '../../../../platform/progress/common/progress.js';\nimport { IQuickInputService } from '../../../../platform/quickinput/common/quickInput.js';\nimport { IStorageService } from '../../../../platform/storage/common/storage.js';\nimport { ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { IWorkspaceContextService } from '../../../../platform/workspace/common/workspace.js';\nimport { ViewPane } from '../../../browser/parts/views/viewPane.js';\nimport { ViewPaneContainer, ViewsSubMenu } from '../../../browser/parts/views/viewPaneContainer.js';\nimport { WorkbenchStateContext } from '../../../common/contextkeys.js';\nimport { IViewDescriptorService } from '../../../common/views.js';\nimport { IViewsService } from '../../../services/views/common/viewsService.js';\nimport { FocusSessionActionViewItem, StartDebugActionViewItem } from './debugActionViewItems.js';\nimport { DEBUG_CONFIGURE_COMMAND_ID, DEBUG_CONFIGURE_LABEL, DEBUG_START_COMMAND_ID, DEBUG_START_LABEL, DISCONNECT_ID, FOCUS_SESSION_ID, SELECT_AND_START_ID, STOP_ID } from './debugCommands.js';\nimport { debugConfigure } from './debugIcons.js';\nimport { createDisconnectMenuItemAction } from './debugToolBar.js';\nimport { WelcomeView } from './welcomeView.js';\nimport { BREAKPOINTS_VIEW_ID, CONTEXT_DEBUGGERS_AVAILABLE, CONTEXT_DEBUG_STATE, CONTEXT_DEBUG_UX, CONTEXT_DEBUG_UX_KEY, getStateLabel, IDebugService, ILaunch, REPL_VIEW_ID, State, VIEWLET_ID, EDITOR_CONTRIBUTION_ID, IDebugEditorContribution } from '../common/debug.js';\nimport { IExtensionService } from '../../../services/extensions/common/extensions.js';\nimport { IWorkbenchLayoutService } from '../../../services/layout/browser/layoutService.js';\nimport { IBaseActionViewItemOptions } from '../../../../base/browser/ui/actionbar/actionViewItems.js';\nimport { ICodeEditor } from '../../../../editor/browser/editorBrowser.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\n\nexport class DebugViewPaneContainer extends ViewPaneContainer {\n\n\tprivate startDebugActionViewItem: StartDebugActionViewItem | undefined;\n\tprivate progressResolve: (() => void) | undefined;\n\tprivate breakpointView: ViewPane | undefined;\n\tprivate paneListeners = new Map<string, IDisposable>();\n\n\tprivate readonly stopActionViewItemDisposables = this._register(new DisposableStore());\n\n\tconstructor(\n\t\t@IWorkbenchLayoutService layoutService: IWorkbenchLayoutService,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IProgressService private readonly progressService: IProgressService,\n\t\t@IDebugService private readonly debugService: IDebugService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IWorkspaceContextService contextService: IWorkspaceContextService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IExtensionService extensionService: IExtensionService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IContextViewService private readonly contextViewService: IContextViewService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@ILogService logService: ILogService,\n\t) {\n\t\tsuper(VIEWLET_ID, { mergeViewWithContainerWhenSingleView: true }, instantiationService, configurationService, layoutService, contextMenuService, telemetryService, extensionService, themeService, storageService, contextService, viewDescriptorService, logService);\n\n\t\t// When there are potential updates to the docked debug toolbar we need to update it\n\t\tthis._register(this.debugService.onDidChangeState(state => this.onDebugServiceStateChange(state)));\n\n\t\tthis._register(this.contextKeyService.onDidChangeContext(e => {\n\t\t\tif (e.affectsSome(new Set([CONTEXT_DEBUG_UX_KEY, 'inDebugMode']))) {\n\t\t\t\tthis.updateTitleArea();\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.contextService.onDidChangeWorkbenchState(() => this.updateTitleArea()));\n\t\tthis._register(this.configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration('debug.toolBarLocation') || e.affectsConfiguration('debug.hideLauncherWhileDebugging')) {\n\t\t\t\tthis.updateTitleArea();\n\t\t\t}\n\t\t}));\n\t}\n\n\toverride create(parent: HTMLElement): void {\n\t\tsuper.create(parent);\n\t\tparent.classList.add('debug-viewlet');\n\t}\n\n\toverride focus(): void {\n\t\tsuper.focus();\n\n\t\tif (this.startDebugActionViewItem) {\n\t\t\tthis.startDebugActionViewItem.focus();\n\t\t} else {\n\t\t\tthis.focusView(WelcomeView.ID);\n\t\t}\n\t}\n\n\toverride getActionViewItem(action: IAction, options: IBaseActionViewItemOptions): IActionViewItem | undefined {\n\t\tif (action.id === DEBUG_START_COMMAND_ID) {\n\t\t\tthis.startDebugActionViewItem = this.instantiationService.createInstance(StartDebugActionViewItem, null, action, options);\n\t\t\treturn this.startDebugActionViewItem;\n\t\t}\n\t\tif (action.id === FOCUS_SESSION_ID) {\n\t\t\treturn new FocusSessionActionViewItem(action, undefined, this.debugService, this.contextViewService, this.configurationService);\n\t\t}\n\n\t\tif (action.id === STOP_ID || action.id === DISCONNECT_ID) {\n\t\t\tthis.stopActionViewItemDisposables.clear();\n\t\t\tconst item = this.instantiationService.invokeFunction(accessor => createDisconnectMenuItemAction(action as MenuItemAction, this.stopActionViewItemDisposables, accessor, { hoverDelegate: options.hoverDelegate }));\n\t\t\tif (item) {\n\t\t\t\treturn item;\n\t\t\t}\n\t\t}\n\n\t\treturn createActionViewItem(this.instantiationService, action, options);\n\t}\n\n\tfocusView(id: string): void {\n\t\tconst view = this.getView(id);\n\t\tif (view) {\n\t\t\tview.focus();\n\t\t}\n\t}\n\n\tprivate onDebugServiceStateChange(state: State): void {\n\t\tif (this.progressResolve) {\n\t\t\tthis.progressResolve();\n\t\t\tthis.progressResolve = undefined;\n\t\t}\n\n\t\tif (state === State.Initializing) {\n\t\t\tthis.progressService.withProgress({ location: VIEWLET_ID, }, _progress => {\n\t\t\t\treturn new Promise<void>(resolve => this.progressResolve = resolve);\n\t\t\t});\n\t\t}\n\t}\n\n\toverride addPanes(panes: { pane: ViewPane; size: number; index?: number; disposable: IDisposable }[]): void {\n\t\tsuper.addPanes(panes);\n\n\t\tfor (const { pane: pane } of panes) {\n\t\t\t// attach event listener to\n\t\t\tif (pane.id === BREAKPOINTS_VIEW_ID) {\n\t\t\t\tthis.breakpointView = pane;\n\t\t\t\tthis.updateBreakpointsMaxSize();\n\t\t\t} else {\n\t\t\t\tthis.paneListeners.set(pane.id, pane.onDidChange(() => this.updateBreakpointsMaxSize()));\n\t\t\t}\n\t\t}\n\t}\n\n\toverride removePanes(panes: ViewPane[]): void {\n\t\tsuper.removePanes(panes);\n\t\tfor (const pane of panes) {\n\t\t\tdispose(this.paneListeners.get(pane.id));\n\t\t\tthis.paneListeners.delete(pane.id);\n\t\t}\n\t}\n\n\tprivate updateBreakpointsMaxSize(): void {\n\t\tif (this.breakpointView) {\n\t\t\t// We need to update the breakpoints view since all other views are collapsed #25384\n\t\t\tconst allOtherCollapsed = this.panes.every(view => !view.isExpanded() || view === this.breakpointView);\n\t\t\tthis.breakpointView.maximumBodySize = allOtherCollapsed ? Number.POSITIVE_INFINITY : this.breakpointView.minimumBodySize;\n\t\t}\n\t}\n}\n\nMenuRegistry.appendMenuItem(MenuId.ViewContainerTitle, {\n\twhen: ContextKeyExpr.and(\n\t\tContextKeyExpr.equals('viewContainer', VIEWLET_ID),\n\t\tCONTEXT_DEBUG_UX.notEqualsTo('simple'),\n\t\tWorkbenchStateContext.notEqualsTo('empty'),\n\t\tContextKeyExpr.or(\n\t\t\tCONTEXT_DEBUG_STATE.isEqualTo('inactive'),\n\t\t\tContextKeyExpr.notEquals('config.debug.toolBarLocation', 'docked')\n\t\t),\n\t\tContextKeyExpr.or(\n\t\t\tContextKeyExpr.not('config.debug.hideLauncherWhileDebugging'),\n\t\t\tContextKeyExpr.not('inDebugMode')\n\t\t)\n\t),\n\torder: 10,\n\tgroup: 'navigation',\n\tcommand: {\n\t\tprecondition: CONTEXT_DEBUG_STATE.notEqualsTo(getStateLabel(State.Initializing)),\n\t\tid: DEBUG_START_COMMAND_ID,\n\t\ttitle: DEBUG_START_LABEL\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: DEBUG_CONFIGURE_COMMAND_ID,\n\t\t\ttitle: {\n\t\t\t\tvalue: DEBUG_CONFIGURE_LABEL,\n\t\t\t\toriginal: 'Open \\'launch.json\\'',\n\t\t\t\tmnemonicTitle: nls.localize({ key: 'miOpenConfigurations', comment: ['&& denotes a mnemonic'] }, \"Open &&Configurations\")\n\t\t\t},\n\t\t\tmetadata: {\n\t\t\t\tdescription: nls.localize2('openLaunchConfigDescription', 'Opens the file used to configure how your program is debugged')\n\t\t\t},\n\t\t\tf1: true,\n\t\t\ticon: debugConfigure,\n\t\t\tprecondition: CONTEXT_DEBUG_UX.notEqualsTo('simple'),\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.ViewContainerTitle,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\torder: 20,\n\t\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.equals('viewContainer', VIEWLET_ID), CONTEXT_DEBUG_UX.notEqualsTo('simple'), WorkbenchStateContext.notEqualsTo('empty'),\n\t\t\t\t\tContextKeyExpr.or(CONTEXT_DEBUG_STATE.isEqualTo('inactive'), ContextKeyExpr.notEquals('config.debug.toolBarLocation', 'docked')))\n\t\t\t}, {\n\t\t\t\tid: MenuId.ViewContainerTitle,\n\t\t\t\torder: 20,\n\t\t\t\t// Show in debug viewlet secondary actions when debugging and debug toolbar is docked\n\t\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.equals('viewContainer', VIEWLET_ID), CONTEXT_DEBUG_STATE.notEqualsTo('inactive'), ContextKeyExpr.equals('config.debug.toolBarLocation', 'docked'))\n\t\t\t}, {\n\t\t\t\tid: MenuId.MenubarDebugMenu,\n\t\t\t\tgroup: '2_configuration',\n\t\t\t\torder: 1,\n\t\t\t\twhen: CONTEXT_DEBUGGERS_AVAILABLE\n\t\t\t}]\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor, opts?: { addNew?: boolean }): Promise<void> {\n\t\tconst debugService = accessor.get(IDebugService);\n\t\tconst quickInputService = accessor.get(IQuickInputService);\n\t\tconst configurationManager = debugService.getConfigurationManager();\n\t\tlet launch: ILaunch | undefined;\n\t\tif (configurationManager.selectedConfiguration.name) {\n\t\t\tlaunch = configurationManager.selectedConfiguration.launch;\n\t\t} else {\n\t\t\tconst launches = configurationManager.getLaunches().filter(l => !l.hidden);\n\t\t\tif (launches.length === 1) {\n\t\t\t\tlaunch = launches[0];\n\t\t\t} else {\n\t\t\t\tconst picks = launches.map(l => ({ label: l.name, launch: l }));\n\t\t\t\tconst picked = await quickInputService.pick<{ label: string; launch: ILaunch }>(picks, {\n\t\t\t\t\tactiveItem: picks[0],\n\t\t\t\t\tplaceHolder: nls.localize({ key: 'selectWorkspaceFolder', comment: ['User picks a workspace folder or a workspace configuration file here. Workspace configuration files can contain settings and thus a launch.json configuration can be written into one.'] }, \"Select a workspace folder to create a launch.json file in or add it to the workspace config file\")\n\t\t\t\t});\n\t\t\t\tif (picked) {\n\t\t\t\t\tlaunch = picked.launch;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (launch) {\n\t\t\tconst { editor } = await launch.openConfigFile({ preserveFocus: false });\n\t\t\tif (editor && opts?.addNew) {\n\t\t\t\tconst codeEditor = <ICodeEditor>editor.getControl();\n\t\t\t\tif (codeEditor) {\n\t\t\t\t\tawait codeEditor.getContribution<IDebugEditorContribution>(EDITOR_CONTRIBUTION_ID)?.addLaunchConfiguration();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n});\n\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'debug.toggleReplIgnoreFocus',\n\t\t\ttitle: nls.localize('debugPanel', \"Debug Console\"),\n\t\t\ttoggled: ContextKeyExpr.has(`view.${REPL_VIEW_ID}.visible`),\n\t\t\tmenu: [{\n\t\t\t\tid: ViewsSubMenu,\n\t\t\t\tgroup: '3_toggleRepl',\n\t\t\t\torder: 30,\n\t\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.equals('viewContainer', VIEWLET_ID))\n\t\t\t}]\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst viewsService = accessor.get(IViewsService);\n\t\tif (viewsService.isViewVisible(REPL_VIEW_ID)) {\n\t\t\tviewsService.closeView(REPL_VIEW_ID);\n\t\t} else {\n\t\t\tawait viewsService.openView(REPL_VIEW_ID);\n\t\t}\n\t}\n});\n\nMenuRegistry.appendMenuItem(MenuId.ViewContainerTitle, {\n\twhen: ContextKeyExpr.and(\n\t\tContextKeyExpr.equals('viewContainer', VIEWLET_ID),\n\t\tCONTEXT_DEBUG_STATE.notEqualsTo('inactive'),\n\t\tContextKeyExpr.or(\n\t\t\tContextKeyExpr.equals('config.debug.toolBarLocation', 'docked'),\n\t\t\tContextKeyExpr.has('config.debug.hideLauncherWhileDebugging')\n\t\t)\n\t),\n\torder: 10,\n\tcommand: {\n\t\tid: SELECT_AND_START_ID,\n\t\ttitle: nls.localize('startAdditionalSession', \"Start Additional Session\"),\n\t}\n});\n"]}