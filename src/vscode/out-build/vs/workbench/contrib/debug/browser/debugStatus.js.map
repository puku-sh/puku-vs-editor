{"version":3,"sources":["vs/workbench/contrib/debug/browser/debugStatus.ts"],"names":[],"mappings":"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","file":"debugStatus.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as nls from '../../../../nls.js';\nimport { IDisposable, dispose } from '../../../../base/common/lifecycle.js';\nimport { IDebugService, State, IDebugConfiguration } from '../common/debug.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IStatusbarEntry, IStatusbarService, StatusbarAlignment, IStatusbarEntryAccessor } from '../../../services/statusbar/browser/statusbar.js';\nimport { IWorkbenchContribution } from '../../../common/contributions.js';\n\nexport class DebugStatusContribution implements IWorkbenchContribution {\n\n\tprivate showInStatusBar!: 'never' | 'always' | 'onFirstSessionStart';\n\tprivate toDispose: IDisposable[] = [];\n\tprivate entryAccessor: IStatusbarEntryAccessor | undefined;\n\n\tconstructor(\n\t\t@IStatusbarService private readonly statusBarService: IStatusbarService,\n\t\t@IDebugService private readonly debugService: IDebugService,\n\t\t@IConfigurationService configurationService: IConfigurationService\n\t) {\n\n\t\tconst addStatusBarEntry = () => {\n\t\t\tthis.entryAccessor = this.statusBarService.addEntry(this.entry, 'status.debug', StatusbarAlignment.LEFT, 30 /* Low Priority */);\n\t\t};\n\n\t\tconst setShowInStatusBar = () => {\n\t\t\tthis.showInStatusBar = configurationService.getValue<IDebugConfiguration>('debug').showInStatusBar;\n\t\t\tif (this.showInStatusBar === 'always' && !this.entryAccessor) {\n\t\t\t\taddStatusBarEntry();\n\t\t\t}\n\t\t};\n\t\tsetShowInStatusBar();\n\n\t\tthis.toDispose.push(this.debugService.onDidChangeState(state => {\n\t\t\tif (state !== State.Inactive && this.showInStatusBar === 'onFirstSessionStart' && !this.entryAccessor) {\n\t\t\t\taddStatusBarEntry();\n\t\t\t}\n\t\t}));\n\t\tthis.toDispose.push(configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration('debug.showInStatusBar')) {\n\t\t\t\tsetShowInStatusBar();\n\t\t\t\tif (this.entryAccessor && this.showInStatusBar === 'never') {\n\t\t\t\t\tthis.entryAccessor.dispose();\n\t\t\t\t\tthis.entryAccessor = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t\tthis.toDispose.push(this.debugService.getConfigurationManager().onDidSelectConfiguration(e => {\n\t\t\tthis.entryAccessor?.update(this.entry);\n\t\t}));\n\t}\n\n\tprivate get entry(): IStatusbarEntry {\n\t\tlet text = '';\n\t\tconst manager = this.debugService.getConfigurationManager();\n\t\tconst name = manager.selectedConfiguration.name || '';\n\t\tconst nameAndLaunchPresent = name && manager.selectedConfiguration.launch;\n\t\tif (nameAndLaunchPresent) {\n\t\t\ttext = (manager.getLaunches().length > 1 ? `${name} (${manager.selectedConfiguration.launch!.name})` : name);\n\t\t}\n\n\t\treturn {\n\t\t\tname: nls.localize('status.debug', \"Debug\"),\n\t\t\ttext: '$(debug-alt-small) ' + text,\n\t\t\tariaLabel: nls.localize('debugTarget', \"Debug: {0}\", text),\n\t\t\ttooltip: nls.localize('selectAndStartDebug', \"Select and Start Debug Configuration\"),\n\t\t\tcommand: 'workbench.action.debug.selectandstart'\n\t\t};\n\t}\n\n\tdispose(): void {\n\t\tthis.entryAccessor?.dispose();\n\t\tdispose(this.toDispose);\n\t}\n}\n"]}