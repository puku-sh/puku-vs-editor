{"version":3,"sources":["vs/workbench/contrib/debug/browser/debugEditorContribution.ts"],"names":[],"mappings":"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","file":"debugEditorContribution.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { addDisposableListener, isKeyboardEvent } from '../../../../base/browser/dom.js';\nimport { DomEmitter } from '../../../../base/browser/event.js';\nimport { IKeyboardEvent, StandardKeyboardEvent } from '../../../../base/browser/keyboardEvent.js';\nimport { IMouseEvent } from '../../../../base/browser/mouseEvent.js';\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { CancellationToken, CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { memoize } from '../../../../base/common/decorators.js';\nimport { illegalArgument, onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { visit } from '../../../../base/common/json.js';\nimport { setProperty } from '../../../../base/common/jsonEdit.js';\nimport { KeyCode } from '../../../../base/common/keyCodes.js';\nimport { DisposableStore, IDisposable, MutableDisposable, dispose, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { clamp } from '../../../../base/common/numbers.js';\nimport { basename } from '../../../../base/common/path.js';\nimport * as env from '../../../../base/common/platform.js';\nimport * as strings from '../../../../base/common/strings.js';\nimport { assertType, isDefined } from '../../../../base/common/types.js';\nimport { Constants } from '../../../../base/common/uint.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { CoreEditingCommands } from '../../../../editor/browser/coreCommands.js';\nimport { ICodeEditor, IEditorMouseEvent, IPartialEditorMouseEvent, MouseTargetType } from '../../../../editor/browser/editorBrowser.js';\nimport { EditorOption, IEditorHoverOptions } from '../../../../editor/common/config/editorOptions.js';\nimport { EditOperation } from '../../../../editor/common/core/editOperation.js';\nimport { Position } from '../../../../editor/common/core/position.js';\nimport { IRange, Range } from '../../../../editor/common/core/range.js';\nimport { DEFAULT_WORD_REGEXP } from '../../../../editor/common/core/wordHelper.js';\nimport { IEditorDecorationsCollection, ScrollType } from '../../../../editor/common/editorCommon.js';\nimport { StandardTokenType } from '../../../../editor/common/encodedTokenAttributes.js';\nimport { InlineValue, InlineValueContext } from '../../../../editor/common/languages.js';\nimport { IModelDeltaDecoration, ITextModel, InjectedTextCursorStops } from '../../../../editor/common/model.js';\nimport { IFeatureDebounceInformation, ILanguageFeatureDebounceService } from '../../../../editor/common/services/languageFeatureDebounce.js';\nimport { ILanguageFeaturesService } from '../../../../editor/common/services/languageFeatures.js';\nimport { IModelService } from '../../../../editor/common/services/model.js';\nimport { ContentHoverController } from '../../../../editor/contrib/hover/browser/contentHoverController.js';\nimport { HoverStartMode, HoverStartSource } from '../../../../editor/contrib/hover/browser/hoverOperation.js';\nimport * as nls from '../../../../nls.js';\nimport { CommandsRegistry, ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IContextKey, IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { registerColor } from '../../../../platform/theme/common/colorRegistry.js';\nimport { IUriIdentityService } from '../../../../platform/uriIdentity/common/uriIdentity.js';\nimport { FloatingEditorClickWidget } from '../../../browser/codeeditor.js';\nimport { DebugHoverWidget, ShowDebugHoverResult } from './debugHover.js';\nimport { ExceptionWidget } from './exceptionWidget.js';\nimport { CONTEXT_EXCEPTION_WIDGET_VISIBLE, IDebugConfiguration, IDebugEditorContribution, IDebugService, IDebugSession, IExceptionInfo, IExpression, IStackFrame, State } from '../common/debug.js';\nimport { Expression } from '../common/debugModel.js';\nimport { IHostService } from '../../../services/host/browser/host.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { MarkdownString } from '../../../../base/common/htmlContent.js';\nimport { InsertLineAfterAction } from '../../../../editor/contrib/linesOperations/browser/linesOperations.js';\n\nconst MAX_NUM_INLINE_VALUES = 100; // JS Global scope can have 700+ entries. We want to limit ourselves for perf reasons\nconst MAX_INLINE_DECORATOR_LENGTH = 150; // Max string length of each inline decorator when debugging. If exceeded ... is added\nconst MAX_TOKENIZATION_LINE_LEN = 500; // If line is too long, then inline values for the line are skipped\n\nconst DEAFULT_INLINE_DEBOUNCE_DELAY = 200;\n\nexport const debugInlineForeground = registerColor('editor.inlineValuesForeground', {\n\tdark: '#ffffff80',\n\tlight: '#00000080',\n\thcDark: '#ffffff80',\n\thcLight: '#00000080'\n}, nls.localize('editor.inlineValuesForeground', \"Color for the debug inline value text.\"));\n\nexport const debugInlineBackground = registerColor('editor.inlineValuesBackground', '#ffc80033', nls.localize('editor.inlineValuesBackground', \"Color for the debug inline value background.\"));\n\nclass InlineSegment {\n\tconstructor(public column: number, public text: string) {\n\t}\n}\n\nexport function formatHoverContent(contentText: string): MarkdownString {\n\tif (contentText.includes(',') && contentText.includes('=')) {\n\t\t// Custom split: for each equals sign after the first, backtrack to the nearest comma\n\t\tconst customSplit = (text: string): string[] => {\n\t\t\tconst splits: number[] = [];\n\t\t\tlet equalsFound = 0;\n\t\t\tlet start = 0;\n\t\t\tfor (let i = 0; i < text.length; i++) {\n\t\t\t\tif (text[i] === '=') {\n\t\t\t\t\tif (equalsFound === 0) {\n\t\t\t\t\t\tequalsFound++;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tconst commaIndex = text.lastIndexOf(',', i);\n\t\t\t\t\tif (commaIndex !== -1 && commaIndex >= start) {\n\t\t\t\t\t\tsplits.push(commaIndex);\n\t\t\t\t\t\tstart = commaIndex + 1;\n\t\t\t\t\t}\n\t\t\t\t\tequalsFound++;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst result: string[] = [];\n\t\t\tlet s = 0;\n\t\t\tfor (const index of splits) {\n\t\t\t\tresult.push(text.substring(s, index).trim());\n\t\t\t\ts = index + 1;\n\t\t\t}\n\t\t\tif (s < text.length) {\n\t\t\t\tresult.push(text.substring(s).trim());\n\t\t\t}\n\t\t\treturn result;\n\t\t};\n\n\t\tconst pairs = customSplit(contentText);\n\t\tconst formattedPairs = pairs.map(pair => {\n\t\t\tconst equalsIndex = pair.indexOf('=');\n\t\t\tif (equalsIndex !== -1) {\n\t\t\t\tconst indent = ' '.repeat(equalsIndex + 2);\n\t\t\t\tconst [firstLine, ...restLines] = pair.split(/\\r?\\n/);\n\t\t\t\treturn [firstLine, ...restLines.map(line => indent + line)].join('\\n');\n\t\t\t}\n\t\t\treturn pair;\n\t\t});\n\t\treturn new MarkdownString().appendCodeblock('', formattedPairs.join(',\\n'));\n\t}\n\treturn new MarkdownString().appendCodeblock('', contentText);\n}\n\nexport function createInlineValueDecoration(lineNumber: number, contentText: string, classNamePrefix: string, column = Constants.MAX_SAFE_SMALL_INTEGER, viewportMaxCol: number = MAX_INLINE_DECORATOR_LENGTH): IModelDeltaDecoration[] {\n\tconst rawText = contentText; // store raw text for hover message\n\n\t// Truncate contentText if it exceeds the viewport max column\n\tif (contentText.length > viewportMaxCol) {\n\t\tcontentText = contentText.substring(0, viewportMaxCol) + '...';\n\t}\n\n\treturn [\n\t\t{\n\t\t\trange: {\n\t\t\t\tstartLineNumber: lineNumber,\n\t\t\t\tendLineNumber: lineNumber,\n\t\t\t\tstartColumn: column,\n\t\t\t\tendColumn: column\n\t\t\t},\n\t\t\toptions: {\n\t\t\t\tdescription: `${classNamePrefix}-inline-value-decoration-spacer`,\n\t\t\t\tafter: {\n\t\t\t\t\tcontent: strings.noBreakWhitespace,\n\t\t\t\t\tcursorStops: InjectedTextCursorStops.None\n\t\t\t\t},\n\t\t\t\tshowIfCollapsed: true,\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\trange: {\n\t\t\t\tstartLineNumber: lineNumber,\n\t\t\t\tendLineNumber: lineNumber,\n\t\t\t\tstartColumn: column,\n\t\t\t\tendColumn: column\n\t\t\t},\n\t\t\toptions: {\n\t\t\t\tdescription: `${classNamePrefix}-inline-value-decoration`,\n\t\t\t\tafter: {\n\t\t\t\t\tcontent: replaceWsWithNoBreakWs(contentText),\n\t\t\t\t\tinlineClassName: `${classNamePrefix}-inline-value`,\n\t\t\t\t\tinlineClassNameAffectsLetterSpacing: true,\n\t\t\t\t\tcursorStops: InjectedTextCursorStops.None\n\t\t\t\t},\n\t\t\t\tshowIfCollapsed: true,\n\t\t\t\thoverMessage: formatHoverContent(rawText)\n\t\t\t}\n\t\t},\n\t];\n}\n\nfunction replaceWsWithNoBreakWs(str: string): string {\n\treturn str.replace(/[ \\t\\n]/g, strings.noBreakWhitespace);\n}\n\nfunction createInlineValueDecorationsInsideRange(expressions: ReadonlyArray<IExpression>, ranges: Range[], model: ITextModel, wordToLineNumbersMap: Map<string, number[]>) {\n\tconst nameValueMap = new Map<string, string>();\n\tfor (const expr of expressions) {\n\t\tnameValueMap.set(expr.name, expr.value);\n\t\t// Limit the size of map. Too large can have a perf impact\n\t\tif (nameValueMap.size >= MAX_NUM_INLINE_VALUES) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tconst lineToNamesMap: Map<number, string[]> = new Map<number, string[]>();\n\n\t// Compute unique set of names on each line\n\tnameValueMap.forEach((_value, name) => {\n\t\tconst lineNumbers = wordToLineNumbersMap.get(name);\n\t\tif (lineNumbers) {\n\t\t\tfor (const lineNumber of lineNumbers) {\n\t\t\t\tif (ranges.some(r => lineNumber >= r.startLineNumber && lineNumber <= r.endLineNumber)) {\n\t\t\t\t\tif (!lineToNamesMap.has(lineNumber)) {\n\t\t\t\t\t\tlineToNamesMap.set(lineNumber, []);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (lineToNamesMap.get(lineNumber)!.indexOf(name) === -1) {\n\t\t\t\t\t\tlineToNamesMap.get(lineNumber)!.push(name);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\t// Compute decorators for each line\n\treturn [...lineToNamesMap].map(([line, names]) => ({\n\t\tline,\n\t\tvariables: names.sort((first, second) => {\n\t\t\tconst content = model.getLineContent(line);\n\t\t\treturn content.indexOf(first) - content.indexOf(second);\n\t\t}).map(name => ({ name, value: nameValueMap.get(name)! }))\n\t}));\n}\n\nfunction getWordToLineNumbersMap(model: ITextModel, lineNumber: number, result: Map<string, number[]>) {\n\tconst lineLength = model.getLineLength(lineNumber);\n\t// If line is too long then skip the line\n\tif (lineLength > MAX_TOKENIZATION_LINE_LEN) {\n\t\treturn;\n\t}\n\n\tconst lineContent = model.getLineContent(lineNumber);\n\tmodel.tokenization.forceTokenization(lineNumber);\n\tconst lineTokens = model.tokenization.getLineTokens(lineNumber);\n\tfor (let tokenIndex = 0, tokenCount = lineTokens.getCount(); tokenIndex < tokenCount; tokenIndex++) {\n\t\tconst tokenType = lineTokens.getStandardTokenType(tokenIndex);\n\n\t\t// Token is a word and not a comment\n\t\tif (tokenType === StandardTokenType.Other) {\n\t\t\tDEFAULT_WORD_REGEXP.lastIndex = 0; // We assume tokens will usually map 1:1 to words if they match\n\n\t\t\tconst tokenStartOffset = lineTokens.getStartOffset(tokenIndex);\n\t\t\tconst tokenEndOffset = lineTokens.getEndOffset(tokenIndex);\n\t\t\tconst tokenStr = lineContent.substring(tokenStartOffset, tokenEndOffset);\n\t\t\tconst wordMatch = DEFAULT_WORD_REGEXP.exec(tokenStr);\n\n\t\t\tif (wordMatch) {\n\n\t\t\t\tconst word = wordMatch[0];\n\t\t\t\tif (!result.has(word)) {\n\t\t\t\t\tresult.set(word, []);\n\t\t\t\t}\n\n\t\t\t\tresult.get(word)!.push(lineNumber);\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport class DebugEditorContribution implements IDebugEditorContribution {\n\n\tprivate toDispose: IDisposable[];\n\tprivate hoverWidget: DebugHoverWidget;\n\tprivate hoverPosition?: { position: Position; event: IMouseEvent };\n\tprivate mouseDown = false;\n\tprivate exceptionWidgetVisible: IContextKey<boolean>;\n\tprivate gutterIsHovered = false;\n\n\tprivate exceptionWidget: ExceptionWidget | undefined;\n\tprivate configurationWidget: FloatingEditorClickWidget | undefined;\n\tprivate readonly altListener = new MutableDisposable();\n\tprivate altPressed = false;\n\tprivate oldDecorations: IEditorDecorationsCollection;\n\tprivate readonly displayedStore = new DisposableStore();\n\tprivate editorHoverOptions: IEditorHoverOptions | undefined;\n\tprivate readonly debounceInfo: IFeatureDebounceInformation;\n\tprivate allowScrollToExceptionWidget = true;\n\tprivate shouldScrollToExceptionWidget = () => this.allowScrollToExceptionWidget;\n\n\t// Holds a Disposable that prevents the default editor hover behavior while it exists.\n\tprivate readonly defaultHoverLockout = new MutableDisposable();\n\n\tconstructor(\n\t\tprivate editor: ICodeEditor,\n\t\t@IDebugService private readonly debugService: IDebugService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@ICommandService private readonly commandService: ICommandService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@IHostService private readonly hostService: IHostService,\n\t\t@IUriIdentityService private readonly uriIdentityService: IUriIdentityService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@ILanguageFeaturesService private readonly languageFeaturesService: ILanguageFeaturesService,\n\t\t@ILanguageFeatureDebounceService featureDebounceService: ILanguageFeatureDebounceService,\n\t\t@IEditorService private readonly editorService: IEditorService\n\t) {\n\t\tthis.oldDecorations = this.editor.createDecorationsCollection();\n\t\tthis.debounceInfo = featureDebounceService.for(languageFeaturesService.inlineValuesProvider, 'InlineValues', { min: DEAFULT_INLINE_DEBOUNCE_DELAY });\n\t\tthis.hoverWidget = this.instantiationService.createInstance(DebugHoverWidget, this.editor);\n\t\tthis.toDispose = [this.defaultHoverLockout, this.altListener, this.displayedStore];\n\t\tthis.registerListeners();\n\t\tthis.exceptionWidgetVisible = CONTEXT_EXCEPTION_WIDGET_VISIBLE.bindTo(contextKeyService);\n\t\tthis.toggleExceptionWidget();\n\t}\n\n\tprivate registerListeners(): void {\n\t\tthis.toDispose.push(this.debugService.getViewModel().onDidFocusStackFrame(e => this.onFocusStackFrame(e.stackFrame)));\n\n\t\t// hover listeners & hover widget\n\t\tthis.toDispose.push(this.editor.onMouseDown((e: IEditorMouseEvent) => this.onEditorMouseDown(e)));\n\t\tthis.toDispose.push(this.editor.onMouseUp(() => this.mouseDown = false));\n\t\tthis.toDispose.push(this.editor.onMouseMove((e: IEditorMouseEvent) => this.onEditorMouseMove(e)));\n\t\tthis.toDispose.push(this.editor.onMouseLeave((e: IPartialEditorMouseEvent) => {\n\t\t\tconst hoverDomNode = this.hoverWidget.getDomNode();\n\t\t\tif (!hoverDomNode) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst rect = hoverDomNode.getBoundingClientRect();\n\t\t\t// Only hide the hover widget if the editor mouse leave event is outside the hover widget #3528\n\t\t\tif (e.event.posx < rect.left || e.event.posx > rect.right || e.event.posy < rect.top || e.event.posy > rect.bottom) {\n\t\t\t\tthis.hideHoverWidget();\n\t\t\t}\n\t\t}));\n\t\tthis.toDispose.push(this.editor.onKeyDown((e: IKeyboardEvent) => this.onKeyDown(e)));\n\t\tthis.toDispose.push(this.editor.onDidChangeModelContent(() => {\n\t\t\tthis._wordToLineNumbersMap = undefined;\n\t\t\tthis.updateInlineValuesScheduler.schedule();\n\t\t}));\n\t\tthis.toDispose.push(this.debugService.getViewModel().onWillUpdateViews(() => this.updateInlineValuesScheduler.schedule()));\n\t\tthis.toDispose.push(this.debugService.getViewModel().onDidEvaluateLazyExpression(() => this.updateInlineValuesScheduler.schedule()));\n\t\tthis.toDispose.push(this.editor.onDidChangeModel(async () => {\n\t\t\tthis.addDocumentListeners();\n\t\t\tthis.toggleExceptionWidget();\n\t\t\tthis.hideHoverWidget();\n\t\t\tthis._wordToLineNumbersMap = undefined;\n\t\t\tconst stackFrame = this.debugService.getViewModel().focusedStackFrame;\n\t\t\tawait this.updateInlineValueDecorations(stackFrame);\n\t\t}));\n\t\tthis.toDispose.push(this.editor.onDidScrollChange(() => {\n\t\t\tthis.hideHoverWidget();\n\n\t\t\t// Inline value provider should get called on view port change\n\t\t\tconst model = this.editor.getModel();\n\t\t\tif (model && this.languageFeaturesService.inlineValuesProvider.has(model)) {\n\t\t\t\tthis.updateInlineValuesScheduler.schedule();\n\t\t\t}\n\t\t}));\n\t\tthis.toDispose.push(this.configurationService.onDidChangeConfiguration((e) => {\n\t\t\tif (e.affectsConfiguration('editor.hover')) {\n\t\t\t\tthis.updateHoverConfiguration();\n\t\t\t}\n\t\t}));\n\t\tthis.toDispose.push(this.debugService.onDidChangeState((state: State) => {\n\t\t\tif (state !== State.Stopped) {\n\t\t\t\tthis.toggleExceptionWidget();\n\t\t\t}\n\t\t}));\n\n\t\tthis.updateHoverConfiguration();\n\t}\n\n\tprivate _wordToLineNumbersMap: WordsToLineNumbersCache | undefined;\n\n\tprivate updateHoverConfiguration(): void {\n\t\tconst model = this.editor.getModel();\n\t\tif (model) {\n\t\t\tthis.editorHoverOptions = this.configurationService.getValue<IEditorHoverOptions>('editor.hover', {\n\t\t\t\tresource: model.uri,\n\t\t\t\toverrideIdentifier: model.getLanguageId()\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate addDocumentListeners(): void {\n\t\tconst stackFrame = this.debugService.getViewModel().focusedStackFrame;\n\t\tconst model = this.editor.getModel();\n\t\tif (model) {\n\t\t\tthis.applyDocumentListeners(model, stackFrame);\n\t\t}\n\t}\n\n\tprivate applyDocumentListeners(model: ITextModel, stackFrame: IStackFrame | undefined): void {\n\t\tif (!stackFrame || !this.uriIdentityService.extUri.isEqual(model.uri, stackFrame.source.uri)) {\n\t\t\tthis.altListener.clear();\n\t\t\treturn;\n\t\t}\n\n\t\tconst ownerDocument = this.editor.getContainerDomNode().ownerDocument;\n\n\t\t// When the alt key is pressed show regular editor hover and hide the debug hover #84561\n\t\tthis.altListener.value = addDisposableListener(ownerDocument, 'keydown', keydownEvent => {\n\t\t\tconst standardKeyboardEvent = new StandardKeyboardEvent(keydownEvent);\n\t\t\tif (standardKeyboardEvent.keyCode === KeyCode.Alt) {\n\t\t\t\tthis.altPressed = true;\n\t\t\t\tconst debugHoverWasVisible = this.hoverWidget.isVisible();\n\t\t\t\tthis.hoverWidget.hide();\n\t\t\t\tthis.defaultHoverLockout.clear();\n\n\t\t\t\tif (debugHoverWasVisible && this.hoverPosition) {\n\t\t\t\t\t// If the debug hover was visible immediately show the editor hover for the alt transition to be smooth\n\t\t\t\t\tthis.showEditorHover(this.hoverPosition.position, false);\n\t\t\t\t}\n\n\t\t\t\tconst onKeyUp = new DomEmitter(ownerDocument, 'keyup');\n\t\t\t\tconst listener = Event.any<KeyboardEvent | boolean>(this.hostService.onDidChangeFocus, onKeyUp.event)(keyupEvent => {\n\t\t\t\t\tlet standardKeyboardEvent = undefined;\n\t\t\t\t\tif (isKeyboardEvent(keyupEvent)) {\n\t\t\t\t\t\tstandardKeyboardEvent = new StandardKeyboardEvent(keyupEvent);\n\t\t\t\t\t}\n\t\t\t\t\tif (!standardKeyboardEvent || standardKeyboardEvent.keyCode === KeyCode.Alt) {\n\t\t\t\t\t\tthis.altPressed = false;\n\t\t\t\t\t\tthis.preventDefaultEditorHover();\n\t\t\t\t\t\tlistener.dispose();\n\t\t\t\t\t\tonKeyUp.dispose();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tasync showHover(position: Position, focus: boolean, mouseEvent?: IMouseEvent): Promise<void> {\n\t\t// normally will already be set in `showHoverScheduler`, but public callers may hit this directly:\n\t\tthis.preventDefaultEditorHover();\n\n\t\tconst sf = this.debugService.getViewModel().focusedStackFrame;\n\t\tconst model = this.editor.getModel();\n\t\tif (sf && model && this.uriIdentityService.extUri.isEqual(sf.source.uri, model.uri)) {\n\t\t\tconst result = await this.hoverWidget.showAt(position, focus, mouseEvent);\n\t\t\tif (result === ShowDebugHoverResult.NOT_AVAILABLE) {\n\t\t\t\t// When no expression available fallback to editor hover\n\t\t\t\tthis.showEditorHover(position, focus);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.showEditorHover(position, focus);\n\t\t}\n\t}\n\n\tprivate preventDefaultEditorHover() {\n\t\tif (this.defaultHoverLockout.value || this.editorHoverOptions?.enabled === 'off') {\n\t\t\treturn;\n\t\t}\n\n\t\tconst hoverController = this.editor.getContribution<ContentHoverController>(ContentHoverController.ID);\n\t\thoverController?.hideContentHover();\n\n\t\tthis.editor.updateOptions({ hover: { enabled: 'off' } });\n\t\tthis.defaultHoverLockout.value = {\n\t\t\tdispose: () => {\n\t\t\t\tthis.editor.updateOptions({\n\t\t\t\t\thover: { enabled: this.editorHoverOptions?.enabled ?? 'on' }\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t}\n\n\tprivate showEditorHover(position: Position, focus: boolean) {\n\t\tconst hoverController = this.editor.getContribution<ContentHoverController>(ContentHoverController.ID);\n\t\tconst range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\n\t\t// enable the editor hover, otherwise the content controller will see it\n\t\t// as disabled and hide it on the first mouse move (#193149)\n\t\tthis.defaultHoverLockout.clear();\n\t\thoverController?.showContentHover(range, HoverStartMode.Immediate, HoverStartSource.Mouse, focus);\n\t}\n\n\tprivate async onFocusStackFrame(sf: IStackFrame | undefined): Promise<void> {\n\t\tconst model = this.editor.getModel();\n\t\tif (model) {\n\t\t\tthis.applyDocumentListeners(model, sf);\n\t\t\tif (sf && this.uriIdentityService.extUri.isEqual(sf.source.uri, model.uri)) {\n\t\t\t\tawait this.toggleExceptionWidget();\n\t\t\t} else {\n\t\t\t\tthis.hideHoverWidget();\n\t\t\t}\n\t\t}\n\n\t\tawait this.updateInlineValueDecorations(sf);\n\t}\n\n\tprivate get hoverDelay() {\n\t\tconst baseDelay = this.editorHoverOptions?.delay || 0;\n\n\t\t// heuristic to get a 'good' but configurable delay for evaluation. The\n\t\t// debug hover can be very large, so we tend to be more conservative about\n\t\t// when to show it (#180621). With this equation:\n\t\t// - default 300ms hover => * 2   = 600ms\n\t\t// - short   100ms hover => * 2   = 200ms\n\t\t// - longer  600ms hover => * 1.5 = 900ms\n\t\t// - long   1000ms hover => * 1.0 = 1000ms\n\t\tconst delayFactor = clamp(2 - (baseDelay - 300) / 600, 1, 2);\n\n\t\treturn baseDelay * delayFactor;\n\t}\n\n\t@memoize\n\tprivate get showHoverScheduler() {\n\t\tconst scheduler = new RunOnceScheduler(() => {\n\t\t\tif (this.hoverPosition && !this.altPressed) {\n\t\t\t\tthis.showHover(this.hoverPosition.position, false, this.hoverPosition.event);\n\t\t\t}\n\t\t}, this.hoverDelay);\n\t\tthis.toDispose.push(scheduler);\n\n\t\treturn scheduler;\n\t}\n\n\tprivate hideHoverWidget(): void {\n\t\tif (this.hoverWidget.willBeVisible()) {\n\t\t\tthis.hoverWidget.hide();\n\t\t}\n\t\tthis.showHoverScheduler.cancel();\n\t\tthis.defaultHoverLockout.clear();\n\t}\n\n\t// hover business\n\n\tprivate onEditorMouseDown(mouseEvent: IEditorMouseEvent): void {\n\t\tthis.mouseDown = true;\n\t\tif (mouseEvent.target.type === MouseTargetType.CONTENT_WIDGET && mouseEvent.target.detail === DebugHoverWidget.ID) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.hideHoverWidget();\n\t}\n\n\tprivate onEditorMouseMove(mouseEvent: IEditorMouseEvent): void {\n\t\tif (this.debugService.state !== State.Stopped) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst target = mouseEvent.target;\n\t\tconst stopKey = env.isMacintosh ? 'metaKey' : 'ctrlKey';\n\n\t\tif (!this.altPressed) {\n\t\t\tif (target.type === MouseTargetType.GUTTER_GLYPH_MARGIN) {\n\t\t\t\tthis.defaultHoverLockout.clear();\n\t\t\t\tthis.gutterIsHovered = true;\n\t\t\t} else if (this.gutterIsHovered) {\n\t\t\t\tthis.gutterIsHovered = false;\n\t\t\t\tthis.updateHoverConfiguration();\n\t\t\t}\n\t\t}\n\n\t\tif (\n\t\t\t(target.type === MouseTargetType.CONTENT_WIDGET && target.detail === DebugHoverWidget.ID)\n\t\t\t|| this.hoverWidget.isInSafeTriangle(mouseEvent.event.posx, mouseEvent.event.posy)\n\t\t) {\n\t\t\t// mouse moved on top of debug hover widget\n\n\t\t\tconst sticky = this.editorHoverOptions?.sticky ?? true;\n\t\t\tif (sticky || this.hoverWidget.isShowingComplexValue || mouseEvent.event[stopKey]) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (target.type === MouseTargetType.CONTENT_TEXT) {\n\t\t\tif (target.position && !Position.equals(target.position, this.hoverPosition?.position || null) && !this.hoverWidget.isInSafeTriangle(mouseEvent.event.posx, mouseEvent.event.posy)) {\n\t\t\t\tthis.hoverPosition = { position: target.position, event: mouseEvent.event };\n\t\t\t\t// Disable the editor hover during the request to avoid flickering\n\t\t\t\tthis.preventDefaultEditorHover();\n\t\t\t\tthis.showHoverScheduler.schedule(this.hoverDelay);\n\t\t\t}\n\t\t} else if (!this.mouseDown) {\n\t\t\t// Do not hide debug hover when the mouse is pressed because it usually leads to accidental closing #64620\n\t\t\tthis.hideHoverWidget();\n\t\t}\n\t}\n\n\tprivate onKeyDown(e: IKeyboardEvent): void {\n\t\tconst stopKey = env.isMacintosh ? KeyCode.Meta : KeyCode.Ctrl;\n\t\tif (e.keyCode !== stopKey && e.keyCode !== KeyCode.Alt) {\n\t\t\t// do not hide hover when Ctrl/Meta is pressed, and alt is handled separately\n\t\t\tthis.hideHoverWidget();\n\t\t}\n\t}\n\t// end hover business\n\n\t// exception widget\n\tprivate async toggleExceptionWidget(): Promise<void> {\n\t\t// Toggles exception widget based on the state of the current editor model and debug stack frame\n\t\tconst model = this.editor.getModel();\n\t\tconst focusedSf = this.debugService.getViewModel().focusedStackFrame;\n\t\tconst callStack = focusedSf ? focusedSf.thread.getCallStack() : null;\n\t\tif (!model || !focusedSf || !callStack || callStack.length === 0) {\n\t\t\tthis.closeExceptionWidget();\n\t\t\treturn;\n\t\t}\n\n\t\t// First call stack frame that is available is the frame where exception has been thrown\n\t\tconst exceptionSf = callStack.find(sf => !!(sf && sf.source && sf.source.available && sf.source.presentationHint !== 'deemphasize'));\n\t\tif (!exceptionSf || exceptionSf !== focusedSf) {\n\t\t\tthis.closeExceptionWidget();\n\t\t\treturn;\n\t\t}\n\n\t\tconst sameUri = this.uriIdentityService.extUri.isEqual(exceptionSf.source.uri, model.uri);\n\t\tif (this.exceptionWidget && !sameUri) {\n\t\t\tthis.closeExceptionWidget();\n\t\t} else if (sameUri) {\n\t\t\t// Show exception widget in all editors with the same file, but only scroll in the active editor\n\t\t\tconst activeControl = this.editorService.activeTextEditorControl;\n\t\t\tconst isActiveEditor = activeControl === this.editor;\n\t\t\tconst exceptionInfo = await focusedSf.thread.exceptionInfo;\n\n\t\t\tif (exceptionInfo) {\n\t\t\t\tif (isActiveEditor) {\n\t\t\t\t\t// Active editor: show widget and scroll to it\n\t\t\t\t\tthis.showExceptionWidget(exceptionInfo, this.debugService.getViewModel().focusedSession, exceptionSf.range.startLineNumber, exceptionSf.range.startColumn);\n\t\t\t\t} else {\n\t\t\t\t\t// Inactive editor: show widget without scrolling\n\t\t\t\t\tthis.showExceptionWidgetWithoutScroll(exceptionInfo, this.debugService.getViewModel().focusedSession, exceptionSf.range.startLineNumber, exceptionSf.range.startColumn);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate showExceptionWidget(exceptionInfo: IExceptionInfo, debugSession: IDebugSession | undefined, lineNumber: number, column: number): void {\n\t\tif (this.exceptionWidget) {\n\t\t\tthis.exceptionWidget.dispose();\n\t\t}\n\n\t\tthis.exceptionWidget = this.instantiationService.createInstance(ExceptionWidget, this.editor, exceptionInfo, debugSession, this.shouldScrollToExceptionWidget);\n\t\tthis.exceptionWidget.show({ lineNumber, column }, 0);\n\t\tthis.exceptionWidget.focus();\n\t\tthis.editor.revealRangeInCenter({\n\t\t\tstartLineNumber: lineNumber,\n\t\t\tstartColumn: column,\n\t\t\tendLineNumber: lineNumber,\n\t\t\tendColumn: column,\n\t\t});\n\t\tthis.exceptionWidgetVisible.set(true);\n\t}\n\n\tprivate showExceptionWidgetWithoutScroll(exceptionInfo: IExceptionInfo, debugSession: IDebugSession | undefined, lineNumber: number, column: number): void {\n\t\tif (this.exceptionWidget) {\n\t\t\tthis.exceptionWidget.dispose();\n\t\t}\n\n\t\t// Disable scrolling to exception widget\n\t\tthis.allowScrollToExceptionWidget = false;\n\n\t\tconst currentScrollTop = this.editor.getScrollTop();\n\t\tconst visibleRanges = this.editor.getVisibleRanges();\n\t\tif (visibleRanges.length === 0) {\n\t\t\t// Editor not fully initialized or not visible; skip scroll adjustment\n\t\t\tthis.exceptionWidget = this.instantiationService.createInstance(ExceptionWidget, this.editor, exceptionInfo, debugSession, this.shouldScrollToExceptionWidget);\n\t\t\tthis.exceptionWidget.show({ lineNumber, column }, 0);\n\t\t\tthis.exceptionWidgetVisible.set(true);\n\t\t\tthis.allowScrollToExceptionWidget = true;\n\t\t\treturn;\n\t\t}\n\n\t\tconst firstVisibleLine = visibleRanges[0].startLineNumber;\n\n\t\t// Create widget - this may add a zone that pushes content down\n\t\tthis.exceptionWidget = this.instantiationService.createInstance(ExceptionWidget, this.editor, exceptionInfo, debugSession, this.shouldScrollToExceptionWidget);\n\t\tthis.exceptionWidget.show({ lineNumber, column }, 0);\n\t\tthis.exceptionWidgetVisible.set(true);\n\n\t\t// only adjust scroll if the exception widget is above the first visible line\n\t\tif (lineNumber < firstVisibleLine) {\n\t\t\t// Get the actual height of the widget that was just added from the whitespace\n\t\t\t// The whitespace height is more accurate than the container height\n\t\t\tconst scrollAdjustment = this.exceptionWidget.getWhitespaceHeight();\n\n\t\t\t// Scroll down by the actual widget height to keep the first visible line the same\n\t\t\tthis.editor.setScrollTop(currentScrollTop + scrollAdjustment, ScrollType.Immediate);\n\t\t}\n\n\t\t// Re-enable scrolling to exception widget\n\t\tthis.allowScrollToExceptionWidget = true;\n\t}\n\n\tcloseExceptionWidget(): void {\n\t\tif (this.exceptionWidget) {\n\t\t\tconst shouldFocusEditor = this.exceptionWidget.hasFocus();\n\t\t\tthis.exceptionWidget.dispose();\n\t\t\tthis.exceptionWidget = undefined;\n\t\t\tthis.exceptionWidgetVisible.set(false);\n\t\t\tif (shouldFocusEditor) {\n\t\t\t\tthis.editor.focus();\n\t\t\t}\n\t\t}\n\t}\n\n\tasync addLaunchConfiguration(): Promise<void> {\n\t\tconst model = this.editor.getModel();\n\t\tif (!model) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet configurationsArrayPosition: Position | undefined;\n\t\tlet lastProperty: string;\n\n\t\tconst getConfigurationPosition = () => {\n\t\t\tlet depthInArray = 0;\n\t\t\tvisit(model.getValue(), {\n\t\t\t\tonObjectProperty: (property: string) => {\n\t\t\t\t\tlastProperty = property;\n\t\t\t\t},\n\t\t\t\tonArrayBegin: (offset: number) => {\n\t\t\t\t\tif (lastProperty === 'configurations' && depthInArray === 0) {\n\t\t\t\t\t\tconfigurationsArrayPosition = model.getPositionAt(offset + 1);\n\t\t\t\t\t}\n\t\t\t\t\tdepthInArray++;\n\t\t\t\t},\n\t\t\t\tonArrayEnd: () => {\n\t\t\t\t\tdepthInArray--;\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\tgetConfigurationPosition();\n\n\t\tif (!configurationsArrayPosition) {\n\t\t\t// \"configurations\" array doesn't exist. Add it here.\n\t\t\tconst { tabSize, insertSpaces } = model.getOptions();\n\t\t\tconst eol = model.getEOL();\n\t\t\tconst edit = (basename(model.uri.fsPath) === 'launch.json') ?\n\t\t\t\tsetProperty(model.getValue(), ['configurations'], [], { tabSize, insertSpaces, eol })[0] :\n\t\t\t\tsetProperty(model.getValue(), ['launch'], { 'configurations': [] }, { tabSize, insertSpaces, eol })[0];\n\t\t\tconst startPosition = model.getPositionAt(edit.offset);\n\t\t\tconst lineNumber = startPosition.lineNumber;\n\t\t\tconst range = new Range(lineNumber, startPosition.column, lineNumber, model.getLineMaxColumn(lineNumber));\n\t\t\tmodel.pushEditOperations(null, [EditOperation.replace(range, edit.content)], () => null);\n\t\t\t// Go through the file again since we've edited it\n\t\t\tgetConfigurationPosition();\n\t\t}\n\t\tif (!configurationsArrayPosition) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.editor.focus();\n\n\t\tconst insertLine = (position: Position): Promise<any> => {\n\t\t\t// Check if there are more characters on a line after a \"configurations\": [, if yes enter a newline\n\t\t\tif (model.getLineLastNonWhitespaceColumn(position.lineNumber) > position.column) {\n\t\t\t\tthis.editor.setPosition(position);\n\t\t\t\tthis.instantiationService.invokeFunction((accessor) => {\n\t\t\t\t\tCoreEditingCommands.LineBreakInsert.runEditorCommand(accessor, this.editor, null);\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.editor.setPosition(position);\n\t\t\treturn this.commandService.executeCommand(InsertLineAfterAction.ID);\n\t\t};\n\n\t\tawait insertLine(configurationsArrayPosition);\n\t\tawait this.commandService.executeCommand('editor.action.triggerSuggest');\n\t}\n\n\t// Inline Decorations\n\n\t@memoize\n\tprivate get removeInlineValuesScheduler(): RunOnceScheduler {\n\t\treturn new RunOnceScheduler(\n\t\t\t() => {\n\t\t\t\tthis.displayedStore.clear();\n\t\t\t\tthis.oldDecorations.clear();\n\t\t\t},\n\t\t\t100\n\t\t);\n\t}\n\n\t@memoize\n\tprivate get updateInlineValuesScheduler(): RunOnceScheduler {\n\t\tconst model = this.editor.getModel();\n\t\treturn new RunOnceScheduler(\n\t\t\tasync () => await this.updateInlineValueDecorations(this.debugService.getViewModel().focusedStackFrame),\n\t\t\tmodel ? this.debounceInfo.get(model) : DEAFULT_INLINE_DEBOUNCE_DELAY\n\t\t);\n\t}\n\n\tprivate async updateInlineValueDecorations(stackFrame: IStackFrame | undefined): Promise<void> {\n\n\t\tconst var_value_format = '{0} = {1}';\n\t\tconst separator = ', ';\n\n\t\tconst model = this.editor.getModel();\n\t\tconst inlineValuesSetting = this.configurationService.getValue<IDebugConfiguration>('debug').inlineValues;\n\t\tconst inlineValuesTurnedOn = inlineValuesSetting === true || inlineValuesSetting === 'on' || (inlineValuesSetting === 'auto' && model && this.languageFeaturesService.inlineValuesProvider.has(model));\n\t\tif (!inlineValuesTurnedOn || !model || !stackFrame || model.uri.toString() !== stackFrame.source.uri.toString()) {\n\t\t\tif (!this.removeInlineValuesScheduler.isScheduled()) {\n\t\t\t\tthis.removeInlineValuesScheduler.schedule();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tthis.removeInlineValuesScheduler.cancel();\n\t\tthis.displayedStore.clear();\n\n\t\tconst viewRanges = this.editor.getVisibleRangesPlusViewportAboveBelow();\n\t\tlet allDecorations: IModelDeltaDecoration[];\n\n\t\tconst cts = new CancellationTokenSource();\n\t\tthis.displayedStore.add(toDisposable(() => cts.dispose(true)));\n\n\t\tif (this.languageFeaturesService.inlineValuesProvider.has(model)) {\n\n\t\t\tconst findVariable = async (_key: string, caseSensitiveLookup: boolean): Promise<string | undefined> => {\n\t\t\t\tconst scopes = await stackFrame.getMostSpecificScopes(stackFrame.range);\n\t\t\t\tconst key = caseSensitiveLookup ? _key : _key.toLowerCase();\n\t\t\t\tfor (const scope of scopes) {\n\t\t\t\t\tconst variables = await scope.getChildren();\n\t\t\t\t\tconst found = variables.find(v => caseSensitiveLookup ? (v.name === key) : (v.name.toLowerCase() === key));\n\t\t\t\t\tif (found) {\n\t\t\t\t\t\treturn found.value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t};\n\n\t\t\tconst ctx: InlineValueContext = {\n\t\t\t\tframeId: stackFrame.frameId,\n\t\t\t\tstoppedLocation: new Range(stackFrame.range.startLineNumber, stackFrame.range.startColumn + 1, stackFrame.range.endLineNumber, stackFrame.range.endColumn + 1)\n\t\t\t};\n\n\t\t\tconst providers = this.languageFeaturesService.inlineValuesProvider.ordered(model).reverse();\n\n\t\t\tallDecorations = [];\n\t\t\tconst lineDecorations = new Map<number, InlineSegment[]>();\n\n\t\t\tconst promises = providers.flatMap(provider => viewRanges.map(range => Promise.resolve(provider.provideInlineValues(model, range, ctx, cts.token)).then(async (result) => {\n\t\t\t\tif (result) {\n\t\t\t\t\tfor (const iv of result) {\n\n\t\t\t\t\t\tlet text: string | undefined = undefined;\n\t\t\t\t\t\tswitch (iv.type) {\n\t\t\t\t\t\t\tcase 'text':\n\t\t\t\t\t\t\t\ttext = iv.text;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'variable': {\n\t\t\t\t\t\t\t\tlet va = iv.variableName;\n\t\t\t\t\t\t\t\tif (!va) {\n\t\t\t\t\t\t\t\t\tconst lineContent = model.getLineContent(iv.range.startLineNumber);\n\t\t\t\t\t\t\t\t\tva = lineContent.substring(iv.range.startColumn - 1, iv.range.endColumn - 1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconst value = await findVariable(va, iv.caseSensitiveLookup);\n\t\t\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\t\t\ttext = strings.format(var_value_format, va, value);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcase 'expression': {\n\t\t\t\t\t\t\t\tlet expr = iv.expression;\n\t\t\t\t\t\t\t\tif (!expr) {\n\t\t\t\t\t\t\t\t\tconst lineContent = model.getLineContent(iv.range.startLineNumber);\n\t\t\t\t\t\t\t\t\texpr = lineContent.substring(iv.range.startColumn - 1, iv.range.endColumn - 1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (expr) {\n\t\t\t\t\t\t\t\t\tconst expression = new Expression(expr);\n\t\t\t\t\t\t\t\t\tawait expression.evaluate(stackFrame.thread.session, stackFrame, 'watch', true);\n\t\t\t\t\t\t\t\t\tif (expression.available) {\n\t\t\t\t\t\t\t\t\t\ttext = strings.format(var_value_format, expr, expression.value);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (text) {\n\t\t\t\t\t\t\tconst line = iv.range.startLineNumber;\n\t\t\t\t\t\t\tlet lineSegments = lineDecorations.get(line);\n\t\t\t\t\t\t\tif (!lineSegments) {\n\t\t\t\t\t\t\t\tlineSegments = [];\n\t\t\t\t\t\t\t\tlineDecorations.set(line, lineSegments);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!lineSegments.some(iv => iv.text === text)) {\t// de-dupe\n\t\t\t\t\t\t\t\tlineSegments.push(new InlineSegment(iv.range.startColumn, text));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, err => {\n\t\t\t\tonUnexpectedExternalError(err);\n\t\t\t})));\n\n\t\t\tconst startTime = Date.now();\n\n\t\t\tawait Promise.all(promises);\n\n\t\t\t// update debounce info\n\t\t\tthis.updateInlineValuesScheduler.delay = this.debounceInfo.update(model, Date.now() - startTime);\n\n\t\t\t// sort line segments and concatenate them into a decoration\n\n\t\t\tlineDecorations.forEach((segments, line) => {\n\t\t\t\tif (segments.length > 0) {\n\t\t\t\t\tsegments = segments.sort((a, b) => a.column - b.column);\n\t\t\t\t\tconst text = segments.map(s => s.text).join(separator);\n\t\t\t\t\tconst editorWidth = this.editor.getLayoutInfo().width;\n\t\t\t\t\tconst fontInfo = this.editor.getOption(EditorOption.fontInfo);\n\t\t\t\t\tconst viewportMaxCol = Math.floor((editorWidth - 50) / fontInfo.typicalHalfwidthCharacterWidth);\n\t\t\t\t\tallDecorations.push(...createInlineValueDecoration(line, text, 'debug', undefined, viewportMaxCol));\n\t\t\t\t}\n\t\t\t});\n\n\t\t} else {\n\t\t\t// old \"one-size-fits-all\" strategy\n\n\t\t\tconst scopes = await stackFrame.getMostSpecificScopes(stackFrame.range);\n\t\t\tconst scopesWithVariables = await Promise.all(scopes.map(async scope =>\n\t\t\t\t({ scope, variables: await scope.getChildren() })));\n\n\t\t\t// Map of inline values per line that's populated in scope order, from\n\t\t\t// narrowest to widest. This is done to avoid duplicating values if\n\t\t\t// they appear in multiple scopes or are shadowed (#129770, #217326)\n\t\t\tconst valuesPerLine = new Map</* line */number, Map</* var */string, /* value */ string>>();\n\n\t\t\tfor (const { scope, variables } of scopesWithVariables) {\n\t\t\t\tlet scopeRange = new Range(0, 0, stackFrame.range.startLineNumber, stackFrame.range.startColumn);\n\t\t\t\tif (scope.range) {\n\t\t\t\t\tscopeRange = scopeRange.setStartPosition(scope.range.startLineNumber, scope.range.startColumn);\n\t\t\t\t}\n\n\t\t\t\tconst ownRanges = viewRanges.map(r => r.intersectRanges(scopeRange)).filter(isDefined);\n\t\t\t\tthis._wordToLineNumbersMap ??= new WordsToLineNumbersCache(model);\n\t\t\t\tfor (const range of ownRanges) {\n\t\t\t\t\tthis._wordToLineNumbersMap.ensureRangePopulated(range);\n\t\t\t\t}\n\n\t\t\t\tconst mapped = createInlineValueDecorationsInsideRange(variables, ownRanges, model, this._wordToLineNumbersMap.value);\n\t\t\t\tfor (const { line, variables } of mapped) {\n\t\t\t\t\tlet values = valuesPerLine.get(line);\n\t\t\t\t\tif (!values) {\n\t\t\t\t\t\tvalues = new Map<string, string>();\n\t\t\t\t\t\tvaluesPerLine.set(line, values);\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (const { name, value } of variables) {\n\t\t\t\t\t\tif (!values.has(name)) {\n\t\t\t\t\t\t\tvalues.set(name, value);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tallDecorations = [...valuesPerLine.entries()].flatMap(([line, values]) => {\n\t\t\t\tconst text = [...values].map(([n, v]) => `${n} = ${v}`).join(', ');\n\t\t\t\tconst editorWidth = this.editor.getLayoutInfo().width;\n\t\t\t\tconst fontInfo = this.editor.getOption(EditorOption.fontInfo);\n\t\t\t\tconst viewportMaxCol = Math.floor((editorWidth - 50) / fontInfo.typicalHalfwidthCharacterWidth);\n\t\t\t\treturn createInlineValueDecoration(line, text, 'debug', undefined, viewportMaxCol);\n\t\t\t});\n\t\t}\n\n\t\tif (cts.token.isCancellationRequested) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If word wrap is on, application of inline decorations may change the scroll position.\n\t\t// Ensure the cursor maintains its vertical position relative to the viewport when\n\t\t// we apply decorations.\n\t\tlet preservePosition: { position: Position; top: number } | undefined;\n\t\tif (this.editor.getOption(EditorOption.wordWrap) !== 'off') {\n\t\t\tconst position = this.editor.getPosition();\n\t\t\tif (position && this.editor.getVisibleRanges().some(r => r.containsPosition(position))) {\n\t\t\t\tpreservePosition = { position, top: this.editor.getTopForPosition(position.lineNumber, position.column) };\n\t\t\t}\n\t\t}\n\n\t\tthis.oldDecorations.set(allDecorations);\n\n\t\tif (preservePosition) {\n\t\t\tconst top = this.editor.getTopForPosition(preservePosition.position.lineNumber, preservePosition.position.column);\n\t\t\tthis.editor.setScrollTop(this.editor.getScrollTop() - (preservePosition.top - top), ScrollType.Immediate);\n\t\t}\n\t}\n\n\tdispose(): void {\n\t\tif (this.hoverWidget) {\n\t\t\tthis.hoverWidget.dispose();\n\t\t}\n\t\tif (this.configurationWidget) {\n\t\t\tthis.configurationWidget.dispose();\n\t\t}\n\t\tthis.toDispose = dispose(this.toDispose);\n\t}\n}\n\nclass WordsToLineNumbersCache {\n\t// we use this as an array of bits where each 1 bit is a line number that's been parsed\n\tprivate readonly intervals: Uint8Array;\n\tpublic readonly value = new Map<string, number[]>();\n\n\tconstructor(private readonly model: ITextModel) {\n\t\tthis.intervals = new Uint8Array(Math.ceil(model.getLineCount() / 8));\n\t}\n\n\t/** Ensures that variables names in the given range have been identified. */\n\tpublic ensureRangePopulated(range: Range) {\n\t\tfor (let lineNumber = range.startLineNumber; lineNumber <= range.endLineNumber; lineNumber++) {\n\t\t\tconst bin = lineNumber >> 3;  /* Math.floor(i / 8) */\n\t\t\tconst bit = 1 << (lineNumber & 0b111); /* 1 << (i % 8) */\n\t\t\tif (!(this.intervals[bin] & bit)) {\n\t\t\t\tgetWordToLineNumbersMap(this.model, lineNumber, this.value);\n\t\t\t\tthis.intervals[bin] |= bit;\n\t\t\t}\n\t\t}\n\t}\n}\n\n\nCommandsRegistry.registerCommand(\n\t'_executeInlineValueProvider',\n\tasync (\n\t\taccessor: ServicesAccessor,\n\t\turi: URI,\n\t\tiRange: IRange,\n\t\tcontext: InlineValueContext\n\t): Promise<InlineValue[] | null> => {\n\t\tassertType(URI.isUri(uri));\n\t\tassertType(Range.isIRange(iRange));\n\n\t\tif (!context || typeof context.frameId !== 'number' || !Range.isIRange(context.stoppedLocation)) {\n\t\t\tthrow illegalArgument('context');\n\t\t}\n\n\t\tconst model = accessor.get(IModelService).getModel(uri);\n\t\tif (!model) {\n\t\t\tthrow illegalArgument('uri');\n\t\t}\n\n\t\tconst range = Range.lift(iRange);\n\t\tconst { inlineValuesProvider } = accessor.get(ILanguageFeaturesService);\n\t\tconst providers = inlineValuesProvider.ordered(model);\n\t\tconst providerResults = await Promise.all(providers.map(provider => provider.provideInlineValues(model, range, context, CancellationToken.None)));\n\t\treturn providerResults.flat().filter(isDefined);\n\t});\n"]}