{"version":3,"sources":["vs/workbench/contrib/debug/browser/disassemblyView.ts"],"names":[],"mappings":"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","file":"disassemblyView.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { PixelRatio } from '../../../../base/browser/pixelRatio.js';\nimport { $, Dimension, addStandardDisposableListener, append } from '../../../../base/browser/dom.js';\nimport { IListAccessibilityProvider } from '../../../../base/browser/ui/list/listWidget.js';\nimport { ITableContextMenuEvent, ITableRenderer, ITableVirtualDelegate } from '../../../../base/browser/ui/table/table.js';\nimport { binarySearch2 } from '../../../../base/common/arrays.js';\nimport { Color } from '../../../../base/common/color.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { Disposable, IDisposable, dispose } from '../../../../base/common/lifecycle.js';\nimport { isAbsolute } from '../../../../base/common/path.js';\nimport { Constants } from '../../../../base/common/uint.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { applyFontInfo } from '../../../../editor/browser/config/domFontInfo.js';\nimport { isCodeEditor } from '../../../../editor/browser/editorBrowser.js';\nimport { BareFontInfo } from '../../../../editor/common/config/fontInfo.js';\nimport { createBareFontInfoFromRawSettings } from '../../../../editor/common/config/fontInfoFromSettings.js';\nimport { IRange, Range } from '../../../../editor/common/core/range.js';\nimport { StringBuilder } from '../../../../editor/common/core/stringBuilder.js';\nimport { ITextModel } from '../../../../editor/common/model.js';\nimport { ITextModelService } from '../../../../editor/common/services/resolverService.js';\nimport { localize } from '../../../../nls.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IContextKey, IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { TextEditorSelectionRevealType } from '../../../../platform/editor/common/editor.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { WorkbenchTable } from '../../../../platform/list/browser/listService.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\nimport { IStorageService } from '../../../../platform/storage/common/storage.js';\nimport { ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nimport { editorBackground } from '../../../../platform/theme/common/colorRegistry.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { IUriIdentityService } from '../../../../platform/uriIdentity/common/uriIdentity.js';\nimport { EditorPane } from '../../../browser/parts/editor/editorPane.js';\nimport { IWorkbenchContribution } from '../../../common/contributions.js';\nimport { focusedStackFrameColor, topStackFrameColor } from './callStackEditorContribution.js';\nimport * as icons from './debugIcons.js';\nimport { CONTEXT_LANGUAGE_SUPPORTS_DISASSEMBLE_REQUEST, DISASSEMBLY_VIEW_ID, IDebugConfiguration, IDebugService, IDebugSession, IInstructionBreakpoint, State } from '../common/debug.js';\nimport { InstructionBreakpoint } from '../common/debugModel.js';\nimport { getUriFromSource } from '../common/debugSource.js';\nimport { isUriString, sourcesEqual } from '../common/debugUtils.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { IEditorGroup } from '../../../services/editor/common/editorGroupsService.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { IMenu, IMenuService, MenuId } from '../../../../platform/actions/common/actions.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nimport { COPY_ADDRESS_ID, COPY_ADDRESS_LABEL } from '../../../../workbench/contrib/debug/browser/debugCommands.js';\nimport { IClipboardService } from '../../../../platform/clipboard/common/clipboardService.js';\nimport { getFlatContextMenuActions } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\n\nexport interface IDisassembledInstructionEntry {\n\tallowBreakpoint: boolean;\n\tisBreakpointSet: boolean;\n\tisBreakpointEnabled: boolean;\n\t/** Instruction reference from the DA */\n\tinstructionReference: string;\n\t/** Offset from the instructionReference that's the basis for the `instructionOffset` */\n\tinstructionReferenceOffset: number;\n\t/** The number of instructions (+/-) away from the instructionReference and instructionReferenceOffset this instruction lies */\n\tinstructionOffset: number;\n\t/** Whether this is the first instruction on the target line. */\n\tshowSourceLocation?: boolean;\n\t/** Original instruction from the debugger */\n\tinstruction: DebugProtocol.DisassembledInstruction;\n\t/** Parsed instruction address */\n\taddress: bigint;\n}\n\n// Special entry as a placeholer when disassembly is not available\nconst disassemblyNotAvailable: IDisassembledInstructionEntry = {\n\tallowBreakpoint: false,\n\tisBreakpointSet: false,\n\tisBreakpointEnabled: false,\n\tinstructionReference: '',\n\tinstructionOffset: 0,\n\tinstructionReferenceOffset: 0,\n\taddress: 0n,\n\tinstruction: {\n\t\taddress: '-1',\n\t\tinstruction: localize('instructionNotAvailable', \"Disassembly not available.\")\n\t},\n};\n\nexport class DisassemblyView extends EditorPane {\n\n\tprivate static readonly NUM_INSTRUCTIONS_TO_LOAD = 50;\n\n\t// Used in instruction renderer\n\tprivate _fontInfo: BareFontInfo | undefined;\n\tprivate _disassembledInstructions: WorkbenchTable<IDisassembledInstructionEntry> | undefined;\n\tprivate _onDidChangeStackFrame: Emitter<void>;\n\tprivate _previousDebuggingState: State;\n\tprivate _instructionBpList: readonly IInstructionBreakpoint[] = [];\n\tprivate _enableSourceCodeRender: boolean = true;\n\tprivate _loadingLock: boolean = false;\n\tprivate readonly _referenceToMemoryAddress = new Map<string, bigint>();\n\tprivate menu: IMenu;\n\n\tconstructor(\n\t\tgroup: IEditorGroup,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService,\n\t\t@IDebugService private readonly _debugService: IDebugService,\n\t\t@IContextMenuService private readonly _contextMenuService: IContextMenuService,\n\t\t@IMenuService menuService: IMenuService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t) {\n\t\tsuper(DISASSEMBLY_VIEW_ID, group, telemetryService, themeService, storageService);\n\n\t\tthis.menu = menuService.createMenu(MenuId.DebugDisassemblyContext, contextKeyService);\n\t\tthis._register(this.menu);\n\t\tthis._disassembledInstructions = undefined;\n\t\tthis._onDidChangeStackFrame = this._register(new Emitter<void>({ leakWarningThreshold: 1000 }));\n\t\tthis._previousDebuggingState = _debugService.state;\n\t\tthis._register(_configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration('debug')) {\n\t\t\t\t// show/hide source code requires changing height which WorkbenchTable doesn't support dynamic height, thus force a total reload.\n\t\t\t\tconst newValue = this._configurationService.getValue<IDebugConfiguration>('debug').disassemblyView.showSourceCode;\n\t\t\t\tif (this._enableSourceCodeRender !== newValue) {\n\t\t\t\t\tthis._enableSourceCodeRender = newValue;\n\t\t\t\t\t// todo: trigger rerender\n\t\t\t\t} else {\n\t\t\t\t\tthis._disassembledInstructions?.rerender();\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t}\n\n\tget fontInfo() {\n\t\tif (!this._fontInfo) {\n\t\t\tthis._fontInfo = this.createFontInfo();\n\n\t\t\tthis._register(this._configurationService.onDidChangeConfiguration(e => {\n\t\t\t\tif (e.affectsConfiguration('editor')) {\n\t\t\t\t\tthis._fontInfo = this.createFontInfo();\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\n\t\treturn this._fontInfo;\n\t}\n\n\tprivate createFontInfo() {\n\t\treturn createBareFontInfoFromRawSettings(this._configurationService.getValue('editor'), PixelRatio.getInstance(this.window).value);\n\t}\n\n\tget currentInstructionAddresses() {\n\t\treturn this._debugService.getModel().getSessions(false).\n\t\t\tmap(session => session.getAllThreads()).\n\t\t\treduce((prev, curr) => prev.concat(curr), []).\n\t\t\tmap(thread => thread.getTopStackFrame()).\n\t\t\tmap(frame => frame?.instructionPointerReference).\n\t\t\tmap(ref => ref ? this.getReferenceAddress(ref) : undefined);\n\t}\n\n\t// Instruction reference of the top stack frame of the focused stack\n\tget focusedCurrentInstructionReference() {\n\t\treturn this._debugService.getViewModel().focusedStackFrame?.thread.getTopStackFrame()?.instructionPointerReference;\n\t}\n\n\tget focusedCurrentInstructionAddress() {\n\t\tconst ref = this.focusedCurrentInstructionReference;\n\t\treturn ref ? this.getReferenceAddress(ref) : undefined;\n\t}\n\n\tget focusedInstructionReference() {\n\t\treturn this._debugService.getViewModel().focusedStackFrame?.instructionPointerReference;\n\t}\n\n\tget focusedInstructionAddress() {\n\t\tconst ref = this.focusedInstructionReference;\n\t\treturn ref ? this.getReferenceAddress(ref) : undefined;\n\t}\n\n\tget isSourceCodeRender() { return this._enableSourceCodeRender; }\n\n\tget debugSession(): IDebugSession | undefined {\n\t\treturn this._debugService.getViewModel().focusedSession;\n\t}\n\n\tget onDidChangeStackFrame() { return this._onDidChangeStackFrame.event; }\n\n\tget focusedAddressAndOffset() {\n\t\tconst element = this._disassembledInstructions?.getFocusedElements()[0];\n\t\tif (!element) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn this.getAddressAndOffset(element);\n\t}\n\n\tgetAddressAndOffset(element: IDisassembledInstructionEntry) {\n\t\tconst reference = element.instructionReference;\n\t\tconst offset = Number(element.address - this.getReferenceAddress(reference)!);\n\t\treturn { reference, offset, address: element.address };\n\t}\n\n\tprotected createEditor(parent: HTMLElement): void {\n\t\tthis._enableSourceCodeRender = this._configurationService.getValue<IDebugConfiguration>('debug').disassemblyView.showSourceCode;\n\t\tconst lineHeight = this.fontInfo.lineHeight;\n\t\tconst thisOM = this;\n\t\tconst delegate = new class implements ITableVirtualDelegate<IDisassembledInstructionEntry> {\n\t\t\theaderRowHeight: number = 0; // No header\n\t\t\tgetHeight(row: IDisassembledInstructionEntry): number {\n\t\t\t\tif (thisOM.isSourceCodeRender && row.showSourceLocation && row.instruction.location?.path && row.instruction.line) {\n\t\t\t\t\t// instruction line + source lines\n\t\t\t\t\tif (row.instruction.endLine) {\n\t\t\t\t\t\treturn lineHeight * Math.max(2, (row.instruction.endLine - row.instruction.line + 2));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// source is only a single line.\n\t\t\t\t\t\treturn lineHeight * 2;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// just instruction line\n\t\t\t\treturn lineHeight;\n\t\t\t}\n\t\t};\n\n\t\tconst instructionRenderer = this._register(this._instantiationService.createInstance(InstructionRenderer, this));\n\n\t\tthis._disassembledInstructions = this._register(this._instantiationService.createInstance(WorkbenchTable,\n\t\t\t'DisassemblyView', parent, delegate,\n\t\t\t[\n\t\t\t\t{\n\t\t\t\t\tlabel: '',\n\t\t\t\t\ttooltip: '',\n\t\t\t\t\tweight: 0,\n\t\t\t\t\tminimumWidth: this.fontInfo.lineHeight,\n\t\t\t\t\tmaximumWidth: this.fontInfo.lineHeight,\n\t\t\t\t\ttemplateId: BreakpointRenderer.TEMPLATE_ID,\n\t\t\t\t\tproject(row: IDisassembledInstructionEntry): IDisassembledInstructionEntry { return row; }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: localize('disassemblyTableColumnLabel', \"instructions\"),\n\t\t\t\t\ttooltip: '',\n\t\t\t\t\tweight: 0.3,\n\t\t\t\t\ttemplateId: InstructionRenderer.TEMPLATE_ID,\n\t\t\t\t\tproject(row: IDisassembledInstructionEntry): IDisassembledInstructionEntry { return row; }\n\t\t\t\t},\n\t\t\t],\n\t\t\t[\n\t\t\t\tthis._instantiationService.createInstance(BreakpointRenderer, this),\n\t\t\t\tinstructionRenderer,\n\t\t\t],\n\t\t\t{\n\t\t\t\tidentityProvider: { getId: (e: IDisassembledInstructionEntry) => e.instruction.address },\n\t\t\t\thorizontalScrolling: false,\n\t\t\t\toverrideStyles: {\n\t\t\t\t\tlistBackground: editorBackground\n\t\t\t\t},\n\t\t\t\tmultipleSelectionSupport: false,\n\t\t\t\tsetRowLineHeight: false,\n\t\t\t\topenOnSingleClick: false,\n\t\t\t\taccessibilityProvider: new AccessibilityProvider(),\n\t\t\t\tmouseSupport: false\n\t\t\t}\n\t\t)) as WorkbenchTable<IDisassembledInstructionEntry>;\n\n\t\tthis._disassembledInstructions.domNode.classList.add('disassembly-view');\n\n\t\tif (this.focusedInstructionReference) {\n\t\t\tthis.reloadDisassembly(this.focusedInstructionReference, 0);\n\t\t}\n\n\t\tthis._register(this._disassembledInstructions.onDidScroll(e => {\n\t\t\tif (this._disassembledInstructions?.row(0) === disassemblyNotAvailable) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this._loadingLock) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (e.oldScrollTop > e.scrollTop && e.scrollTop < e.height) {\n\t\t\t\tthis._loadingLock = true;\n\t\t\t\tconst prevTop = Math.floor(e.scrollTop / this.fontInfo.lineHeight);\n\t\t\t\tthis.scrollUp_LoadDisassembledInstructions(DisassemblyView.NUM_INSTRUCTIONS_TO_LOAD).then((loaded) => {\n\t\t\t\t\tif (loaded > 0) {\n\t\t\t\t\t\tthis._disassembledInstructions!.reveal(prevTop + loaded, 0);\n\t\t\t\t\t}\n\t\t\t\t}).finally(() => { this._loadingLock = false; });\n\t\t\t} else if (e.oldScrollTop < e.scrollTop && e.scrollTop + e.height > e.scrollHeight - e.height) {\n\t\t\t\tthis._loadingLock = true;\n\t\t\t\tthis.scrollDown_LoadDisassembledInstructions(DisassemblyView.NUM_INSTRUCTIONS_TO_LOAD).finally(() => { this._loadingLock = false; });\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this._disassembledInstructions.onContextMenu(e => this.onContextMenu(e)));\n\n\t\tthis._register(this._debugService.getViewModel().onDidFocusStackFrame(({ stackFrame }) => {\n\t\t\tif (this._disassembledInstructions && stackFrame?.instructionPointerReference) {\n\t\t\t\tthis.goToInstructionAndOffset(stackFrame.instructionPointerReference, 0);\n\t\t\t}\n\t\t\tthis._onDidChangeStackFrame.fire();\n\t\t}));\n\n\t\t// refresh breakpoints view\n\t\tthis._register(this._debugService.getModel().onDidChangeBreakpoints(bpEvent => {\n\t\t\tif (bpEvent && this._disassembledInstructions) {\n\t\t\t\t// draw viewable BP\n\t\t\t\tlet changed = false;\n\t\t\t\tbpEvent.added?.forEach((bp) => {\n\t\t\t\t\tif (bp instanceof InstructionBreakpoint) {\n\t\t\t\t\t\tconst index = this.getIndexFromReferenceAndOffset(bp.instructionReference, bp.offset);\n\t\t\t\t\t\tif (index >= 0) {\n\t\t\t\t\t\t\tthis._disassembledInstructions!.row(index).isBreakpointSet = true;\n\t\t\t\t\t\t\tthis._disassembledInstructions!.row(index).isBreakpointEnabled = bp.enabled;\n\t\t\t\t\t\t\tchanged = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tbpEvent.removed?.forEach((bp) => {\n\t\t\t\t\tif (bp instanceof InstructionBreakpoint) {\n\t\t\t\t\t\tconst index = this.getIndexFromReferenceAndOffset(bp.instructionReference, bp.offset);\n\t\t\t\t\t\tif (index >= 0) {\n\t\t\t\t\t\t\tthis._disassembledInstructions!.row(index).isBreakpointSet = false;\n\t\t\t\t\t\t\tchanged = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tbpEvent.changed?.forEach((bp) => {\n\t\t\t\t\tif (bp instanceof InstructionBreakpoint) {\n\t\t\t\t\t\tconst index = this.getIndexFromReferenceAndOffset(bp.instructionReference, bp.offset);\n\t\t\t\t\t\tif (index >= 0) {\n\t\t\t\t\t\t\tif (this._disassembledInstructions!.row(index).isBreakpointEnabled !== bp.enabled) {\n\t\t\t\t\t\t\t\tthis._disassembledInstructions!.row(index).isBreakpointEnabled = bp.enabled;\n\t\t\t\t\t\t\t\tchanged = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// get an updated list so that items beyond the current range would render when reached.\n\t\t\t\tthis._instructionBpList = this._debugService.getModel().getInstructionBreakpoints();\n\n\t\t\t\t// breakpoints restored from a previous session can be based on memory\n\t\t\t\t// references that may no longer exist in the current session. Request\n\t\t\t\t// those instructions to be loaded so the BP can be displayed.\n\t\t\t\tfor (const bp of this._instructionBpList) {\n\t\t\t\t\tthis.primeMemoryReference(bp.instructionReference);\n\t\t\t\t}\n\n\t\t\t\tif (changed) {\n\t\t\t\t\tthis._onDidChangeStackFrame.fire();\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this._debugService.onDidChangeState(e => {\n\t\t\tif ((e === State.Running || e === State.Stopped) &&\n\t\t\t\t(this._previousDebuggingState !== State.Running && this._previousDebuggingState !== State.Stopped)) {\n\t\t\t\t// Just started debugging, clear the view\n\t\t\t\tthis.clear();\n\t\t\t\tthis._enableSourceCodeRender = this._configurationService.getValue<IDebugConfiguration>('debug').disassemblyView.showSourceCode;\n\t\t\t}\n\n\t\t\tthis._previousDebuggingState = e;\n\t\t\tthis._onDidChangeStackFrame.fire();\n\t\t}));\n\t}\n\n\tlayout(dimension: Dimension): void {\n\t\tthis._disassembledInstructions?.layout(dimension.height);\n\t}\n\n\tasync goToInstructionAndOffset(instructionReference: string, offset: number, focus?: boolean) {\n\t\tlet addr = this._referenceToMemoryAddress.get(instructionReference);\n\t\tif (addr === undefined) {\n\t\t\tawait this.loadDisassembledInstructions(instructionReference, 0, -DisassemblyView.NUM_INSTRUCTIONS_TO_LOAD, DisassemblyView.NUM_INSTRUCTIONS_TO_LOAD * 2);\n\t\t\taddr = this._referenceToMemoryAddress.get(instructionReference);\n\t\t}\n\n\t\tif (addr) {\n\t\t\tthis.goToAddress(addr + BigInt(offset), focus);\n\t\t}\n\t}\n\n\t/** Gets the address associated with the instruction reference. */\n\tgetReferenceAddress(instructionReference: string) {\n\t\treturn this._referenceToMemoryAddress.get(instructionReference);\n\t}\n\n\t/**\n\t * Go to the address provided. If no address is provided, reveal the address of the currently focused stack frame. Returns false if that address is not available.\n\t */\n\tprivate goToAddress(address: bigint, focus?: boolean): boolean {\n\t\tif (!this._disassembledInstructions) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (!address) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst index = this.getIndexFromAddress(address);\n\t\tif (index >= 0) {\n\t\t\tthis._disassembledInstructions.reveal(index);\n\n\t\t\tif (focus) {\n\t\t\t\tthis._disassembledInstructions.domFocus();\n\t\t\t\tthis._disassembledInstructions.setFocus([index]);\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tprivate async scrollUp_LoadDisassembledInstructions(instructionCount: number): Promise<number> {\n\t\tconst first = this._disassembledInstructions?.row(0);\n\t\tif (first) {\n\t\t\treturn this.loadDisassembledInstructions(\n\t\t\t\tfirst.instructionReference,\n\t\t\t\tfirst.instructionReferenceOffset,\n\t\t\t\tfirst.instructionOffset - instructionCount,\n\t\t\t\tinstructionCount,\n\t\t\t);\n\t\t}\n\n\t\treturn 0;\n\t}\n\n\tprivate async scrollDown_LoadDisassembledInstructions(instructionCount: number): Promise<number> {\n\t\tconst last = this._disassembledInstructions?.row(this._disassembledInstructions?.length - 1);\n\t\tif (last) {\n\t\t\treturn this.loadDisassembledInstructions(\n\t\t\t\tlast.instructionReference,\n\t\t\t\tlast.instructionReferenceOffset,\n\t\t\t\tlast.instructionOffset + 1,\n\t\t\t\tinstructionCount,\n\t\t\t);\n\t\t}\n\n\t\treturn 0;\n\t}\n\n\t/**\n\t * Sets the memory reference address. We don't just loadDisassembledInstructions\n\t * for this, since we can't really deal with discontiguous ranges (we can't\n\t * detect _if_ a range is discontiguous since we don't know how much memory\n\t * comes between instructions.)\n\t */\n\tprivate async primeMemoryReference(instructionReference: string) {\n\t\tif (this._referenceToMemoryAddress.has(instructionReference)) {\n\t\t\treturn true;\n\t\t}\n\n\t\tconst s = await this.debugSession?.disassemble(instructionReference, 0, 0, 1);\n\t\tif (s && s.length > 0) {\n\t\t\ttry {\n\t\t\t\tthis._referenceToMemoryAddress.set(instructionReference, BigInt(s[0].address));\n\t\t\t\treturn true;\n\t\t\t} catch {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/** Loads disasembled instructions. Returns the number of instructions that were loaded. */\n\tprivate async loadDisassembledInstructions(instructionReference: string, offset: number, instructionOffset: number, instructionCount: number): Promise<number> {\n\t\tconst session = this.debugSession;\n\t\tconst resultEntries = await session?.disassemble(instructionReference, offset, instructionOffset, instructionCount);\n\n\t\t// Ensure we always load the baseline instructions so we know what address the instructionReference refers to.\n\t\tif (!this._referenceToMemoryAddress.has(instructionReference) && instructionOffset !== 0) {\n\t\t\tawait this.loadDisassembledInstructions(instructionReference, 0, 0, DisassemblyView.NUM_INSTRUCTIONS_TO_LOAD);\n\t\t}\n\n\t\tif (session && resultEntries && this._disassembledInstructions) {\n\t\t\tconst newEntries: IDisassembledInstructionEntry[] = [];\n\n\t\t\tlet lastLocation: DebugProtocol.Source | undefined;\n\t\t\tlet lastLine: IRange | undefined;\n\t\t\tfor (let i = 0; i < resultEntries.length; i++) {\n\t\t\t\tconst instruction = resultEntries[i];\n\t\t\t\tconst thisInstructionOffset = instructionOffset + i;\n\n\t\t\t\t// Forward fill the missing location as detailed in the DAP spec.\n\t\t\t\tif (instruction.location) {\n\t\t\t\t\tlastLocation = instruction.location;\n\t\t\t\t\tlastLine = undefined;\n\t\t\t\t}\n\n\t\t\t\tif (instruction.line) {\n\t\t\t\t\tconst currentLine: IRange = {\n\t\t\t\t\t\tstartLineNumber: instruction.line,\n\t\t\t\t\t\tstartColumn: instruction.column ?? 0,\n\t\t\t\t\t\tendLineNumber: instruction.endLine ?? instruction.line,\n\t\t\t\t\t\tendColumn: instruction.endColumn ?? 0,\n\t\t\t\t\t};\n\n\t\t\t\t\t// Add location only to the first unique range. This will give the appearance of grouping of instructions.\n\t\t\t\t\tif (!Range.equalsRange(currentLine, lastLine ?? null)) {\n\t\t\t\t\t\tlastLine = currentLine;\n\t\t\t\t\t\tinstruction.location = lastLocation;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet address: bigint;\n\t\t\t\ttry {\n\t\t\t\t\taddress = BigInt(instruction.address);\n\t\t\t\t} catch {\n\t\t\t\t\tconsole.error(`Could not parse disassembly address ${instruction.address} (in ${JSON.stringify(instruction)})`);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (address === -1n) {\n\t\t\t\t\t// Ignore invalid instructions returned by the adapter.\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tconst entry: IDisassembledInstructionEntry = {\n\t\t\t\t\tallowBreakpoint: true,\n\t\t\t\t\tisBreakpointSet: false,\n\t\t\t\t\tisBreakpointEnabled: false,\n\t\t\t\t\tinstructionReference,\n\t\t\t\t\tinstructionReferenceOffset: offset,\n\t\t\t\t\tinstructionOffset: thisInstructionOffset,\n\t\t\t\t\tinstruction,\n\t\t\t\t\taddress,\n\t\t\t\t};\n\n\t\t\t\tnewEntries.push(entry);\n\n\t\t\t\t// if we just loaded the first instruction for this reference, mark its address.\n\t\t\t\tif (offset === 0 && thisInstructionOffset === 0) {\n\t\t\t\t\tthis._referenceToMemoryAddress.set(instructionReference, address);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newEntries.length === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tconst refBaseAddress = this._referenceToMemoryAddress.get(instructionReference);\n\t\t\tconst bps = this._instructionBpList.map(p => {\n\t\t\t\tconst base = this._referenceToMemoryAddress.get(p.instructionReference);\n\t\t\t\tif (!base) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tenabled: p.enabled,\n\t\t\t\t\taddress: base + BigInt(p.offset || 0),\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tif (refBaseAddress !== undefined) {\n\t\t\t\tfor (const entry of newEntries) {\n\t\t\t\t\tconst bp = bps.find(p => p?.address === entry.address);\n\t\t\t\t\tif (bp) {\n\t\t\t\t\t\tentry.isBreakpointSet = true;\n\t\t\t\t\t\tentry.isBreakpointEnabled = bp.enabled;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst da = this._disassembledInstructions;\n\t\t\tif (da.length === 1 && this._disassembledInstructions.row(0) === disassemblyNotAvailable) {\n\t\t\t\tda.splice(0, 1);\n\t\t\t}\n\n\t\t\tconst firstAddr = newEntries[0].address;\n\t\t\tconst lastAddr = newEntries[newEntries.length - 1].address;\n\n\t\t\tconst startN = binarySearch2(da.length, i => Number(da.row(i).address - firstAddr));\n\t\t\tconst start = startN < 0 ? ~startN : startN;\n\t\t\tconst endN = binarySearch2(da.length, i => Number(da.row(i).address - lastAddr));\n\t\t\tconst end = endN < 0 ? ~endN : endN + 1;\n\t\t\tconst toDelete = end - start;\n\n\t\t\t// Go through everything we're about to add, and only show the source\n\t\t\t// location if it's different from the previous one, \"grouping\" instructions by line\n\t\t\tlet lastLocated: undefined | DebugProtocol.DisassembledInstruction;\n\t\t\tfor (let i = start - 1; i >= 0; i--) {\n\t\t\t\tconst { instruction } = da.row(i);\n\t\t\t\tif (instruction.location && instruction.line !== undefined) {\n\t\t\t\t\tlastLocated = instruction;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst shouldShowLocation = (instruction: DebugProtocol.DisassembledInstruction) =>\n\t\t\t\tinstruction.line !== undefined && instruction.location !== undefined &&\n\t\t\t\t(!lastLocated || !sourcesEqual(instruction.location, lastLocated.location) || instruction.line !== lastLocated.line);\n\n\t\t\tfor (const entry of newEntries) {\n\t\t\t\tif (shouldShowLocation(entry.instruction)) {\n\t\t\t\t\tentry.showSourceLocation = true;\n\t\t\t\t\tlastLocated = entry.instruction;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tda.splice(start, toDelete, newEntries);\n\n\t\t\treturn newEntries.length - toDelete;\n\t\t}\n\n\t\treturn 0;\n\t}\n\n\tprivate getIndexFromReferenceAndOffset(instructionReference: string, offset: number): number {\n\t\tconst addr = this._referenceToMemoryAddress.get(instructionReference);\n\t\tif (addr === undefined) {\n\t\t\treturn -1;\n\t\t}\n\n\t\treturn this.getIndexFromAddress(addr + BigInt(offset));\n\t}\n\n\tprivate getIndexFromAddress(address: bigint): number {\n\t\tconst disassembledInstructions = this._disassembledInstructions;\n\t\tif (disassembledInstructions && disassembledInstructions.length > 0) {\n\t\t\treturn binarySearch2(disassembledInstructions.length, index => {\n\t\t\t\tconst row = disassembledInstructions.row(index);\n\t\t\t\treturn Number(row.address - address);\n\t\t\t});\n\t\t}\n\n\t\treturn -1;\n\t}\n\n\t/**\n\t * Clears the table and reload instructions near the target address\n\t */\n\tprivate reloadDisassembly(instructionReference: string, offset: number) {\n\t\tif (!this._disassembledInstructions) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._loadingLock = true; // stop scrolling during the load.\n\t\tthis.clear();\n\t\tthis._instructionBpList = this._debugService.getModel().getInstructionBreakpoints();\n\t\tthis.loadDisassembledInstructions(instructionReference, offset, -DisassemblyView.NUM_INSTRUCTIONS_TO_LOAD * 4, DisassemblyView.NUM_INSTRUCTIONS_TO_LOAD * 8).then(() => {\n\t\t\t// on load, set the target instruction in the middle of the page.\n\t\t\tif (this._disassembledInstructions!.length > 0) {\n\t\t\t\tconst targetIndex = Math.floor(this._disassembledInstructions!.length / 2);\n\t\t\t\tthis._disassembledInstructions!.reveal(targetIndex, 0.5);\n\n\t\t\t\t// Always focus the target address on reload, or arrow key navigation would look terrible\n\t\t\t\tthis._disassembledInstructions!.domFocus();\n\t\t\t\tthis._disassembledInstructions!.setFocus([targetIndex]);\n\t\t\t}\n\t\t\tthis._loadingLock = false;\n\t\t});\n\t}\n\n\tprivate clear() {\n\t\tthis._referenceToMemoryAddress.clear();\n\t\tthis._disassembledInstructions?.splice(0, this._disassembledInstructions.length, [disassemblyNotAvailable]);\n\t}\n\n\tprivate onContextMenu(e: ITableContextMenuEvent<IDisassembledInstructionEntry>): void {\n\t\tconst actions = getFlatContextMenuActions(this.menu.getActions({ shouldForwardArgs: true }));\n\t\tthis._contextMenuService.showContextMenu({\n\t\t\tgetAnchor: () => e.anchor,\n\t\t\tgetActions: () => actions,\n\t\t\tgetActionsContext: () => e.element\n\t\t});\n\t}\n}\n\ninterface IBreakpointColumnTemplateData {\n\tcurrentElement: { element?: IDisassembledInstructionEntry };\n\ticon: HTMLElement;\n\tdisposables: IDisposable[];\n}\n\nclass BreakpointRenderer implements ITableRenderer<IDisassembledInstructionEntry, IBreakpointColumnTemplateData> {\n\n\tstatic readonly TEMPLATE_ID = 'breakpoint';\n\n\ttemplateId: string = BreakpointRenderer.TEMPLATE_ID;\n\n\tprivate readonly _breakpointIcon = 'codicon-' + icons.breakpoint.regular.id;\n\tprivate readonly _breakpointDisabledIcon = 'codicon-' + icons.breakpoint.disabled.id;\n\tprivate readonly _breakpointHintIcon = 'codicon-' + icons.debugBreakpointHint.id;\n\tprivate readonly _debugStackframe = 'codicon-' + icons.debugStackframe.id;\n\tprivate readonly _debugStackframeFocused = 'codicon-' + icons.debugStackframeFocused.id;\n\n\tconstructor(\n\t\tprivate readonly _disassemblyView: DisassemblyView,\n\t\t@IDebugService private readonly _debugService: IDebugService\n\t) {\n\t}\n\n\trenderTemplate(container: HTMLElement): IBreakpointColumnTemplateData {\n\t\t// align from the bottom so that it lines up with instruction when source code is present.\n\t\tcontainer.style.alignSelf = 'flex-end';\n\n\t\tconst icon = append(container, $('.codicon'));\n\t\ticon.style.display = 'flex';\n\t\ticon.style.alignItems = 'center';\n\t\ticon.style.justifyContent = 'center';\n\t\ticon.style.height = this._disassemblyView.fontInfo.lineHeight + 'px';\n\n\t\tconst currentElement: { element?: IDisassembledInstructionEntry } = { element: undefined };\n\n\t\tconst disposables = [\n\t\t\tthis._disassemblyView.onDidChangeStackFrame(() => this.rerenderDebugStackframe(icon, currentElement.element)),\n\t\t\taddStandardDisposableListener(container, 'mouseover', () => {\n\t\t\t\tif (currentElement.element?.allowBreakpoint) {\n\t\t\t\t\ticon.classList.add(this._breakpointHintIcon);\n\t\t\t\t}\n\t\t\t}),\n\t\t\taddStandardDisposableListener(container, 'mouseout', () => {\n\t\t\t\tif (currentElement.element?.allowBreakpoint) {\n\t\t\t\t\ticon.classList.remove(this._breakpointHintIcon);\n\t\t\t\t}\n\t\t\t}),\n\t\t\taddStandardDisposableListener(container, 'click', () => {\n\t\t\t\tif (currentElement.element?.allowBreakpoint) {\n\t\t\t\t\t// click show hint while waiting for BP to resolve.\n\t\t\t\t\ticon.classList.add(this._breakpointHintIcon);\n\t\t\t\t\tconst reference = currentElement.element.instructionReference;\n\t\t\t\t\tconst offset = Number(currentElement.element.address - this._disassemblyView.getReferenceAddress(reference)!);\n\t\t\t\t\tif (currentElement.element.isBreakpointSet) {\n\t\t\t\t\t\tthis._debugService.removeInstructionBreakpoints(reference, offset);\n\t\t\t\t\t} else if (currentElement.element.allowBreakpoint && !currentElement.element.isBreakpointSet) {\n\t\t\t\t\t\tthis._debugService.addInstructionBreakpoint({ instructionReference: reference, offset, address: currentElement.element.address, canPersist: false });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t];\n\n\t\treturn { currentElement, icon, disposables };\n\t}\n\n\trenderElement(element: IDisassembledInstructionEntry, index: number, templateData: IBreakpointColumnTemplateData): void {\n\t\ttemplateData.currentElement.element = element;\n\t\tthis.rerenderDebugStackframe(templateData.icon, element);\n\t}\n\n\tdisposeTemplate(templateData: IBreakpointColumnTemplateData): void {\n\t\tdispose(templateData.disposables);\n\t\ttemplateData.disposables = [];\n\t}\n\n\tprivate rerenderDebugStackframe(icon: HTMLElement, element?: IDisassembledInstructionEntry) {\n\t\tif (element?.address === this._disassemblyView.focusedCurrentInstructionAddress) {\n\t\t\ticon.classList.add(this._debugStackframe);\n\t\t} else if (element?.address === this._disassemblyView.focusedInstructionAddress) {\n\t\t\ticon.classList.add(this._debugStackframeFocused);\n\t\t} else {\n\t\t\ticon.classList.remove(this._debugStackframe);\n\t\t\ticon.classList.remove(this._debugStackframeFocused);\n\t\t}\n\n\t\ticon.classList.remove(this._breakpointHintIcon);\n\n\t\tif (element?.isBreakpointSet) {\n\t\t\tif (element.isBreakpointEnabled) {\n\t\t\t\ticon.classList.add(this._breakpointIcon);\n\t\t\t\ticon.classList.remove(this._breakpointDisabledIcon);\n\t\t\t} else {\n\t\t\t\ticon.classList.remove(this._breakpointIcon);\n\t\t\t\ticon.classList.add(this._breakpointDisabledIcon);\n\t\t\t}\n\t\t} else {\n\t\t\ticon.classList.remove(this._breakpointIcon);\n\t\t\ticon.classList.remove(this._breakpointDisabledIcon);\n\t\t}\n\t}\n}\n\ninterface IInstructionColumnTemplateData {\n\tcurrentElement: { element?: IDisassembledInstructionEntry };\n\t// TODO: hover widget?\n\tinstruction: HTMLElement;\n\tsourcecode: HTMLElement;\n\t// disposed when cell is closed.\n\tcellDisposable: IDisposable[];\n\t// disposed when template is closed.\n\tdisposables: IDisposable[];\n}\n\nclass InstructionRenderer extends Disposable implements ITableRenderer<IDisassembledInstructionEntry, IInstructionColumnTemplateData> {\n\n\tstatic readonly TEMPLATE_ID = 'instruction';\n\n\tprivate static readonly INSTRUCTION_ADDR_MIN_LENGTH = 25;\n\tprivate static readonly INSTRUCTION_BYTES_MIN_LENGTH = 30;\n\n\ttemplateId: string = InstructionRenderer.TEMPLATE_ID;\n\n\tprivate _topStackFrameColor: Color | undefined;\n\tprivate _focusedStackFrameColor: Color | undefined;\n\n\tconstructor(\n\t\tprivate readonly _disassemblyView: DisassemblyView,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IEditorService private readonly editorService: IEditorService,\n\t\t@ITextModelService private readonly textModelService: ITextModelService,\n\t\t@IUriIdentityService private readonly uriService: IUriIdentityService,\n\t\t@ILogService private readonly logService: ILogService,\n\t) {\n\t\tsuper();\n\n\t\tthis._topStackFrameColor = themeService.getColorTheme().getColor(topStackFrameColor);\n\t\tthis._focusedStackFrameColor = themeService.getColorTheme().getColor(focusedStackFrameColor);\n\n\t\tthis._register(themeService.onDidColorThemeChange(e => {\n\t\t\tthis._topStackFrameColor = e.getColor(topStackFrameColor);\n\t\t\tthis._focusedStackFrameColor = e.getColor(focusedStackFrameColor);\n\t\t}));\n\t}\n\n\trenderTemplate(container: HTMLElement): IInstructionColumnTemplateData {\n\t\tconst sourcecode = append(container, $('.sourcecode'));\n\t\tconst instruction = append(container, $('.instruction'));\n\t\tthis.applyFontInfo(sourcecode);\n\t\tthis.applyFontInfo(instruction);\n\t\tconst currentElement: { element?: IDisassembledInstructionEntry } = { element: undefined };\n\t\tconst cellDisposable: IDisposable[] = [];\n\n\t\tconst disposables = [\n\t\t\tthis._disassemblyView.onDidChangeStackFrame(() => this.rerenderBackground(instruction, sourcecode, currentElement.element)),\n\t\t\taddStandardDisposableListener(sourcecode, 'dblclick', () => this.openSourceCode(currentElement.element?.instruction)),\n\t\t];\n\n\t\treturn { currentElement, instruction, sourcecode, cellDisposable, disposables };\n\t}\n\n\trenderElement(element: IDisassembledInstructionEntry, index: number, templateData: IInstructionColumnTemplateData): void {\n\t\tthis.renderElementInner(element, index, templateData);\n\t}\n\n\tprivate async renderElementInner(element: IDisassembledInstructionEntry, index: number, templateData: IInstructionColumnTemplateData): Promise<void> {\n\t\ttemplateData.currentElement.element = element;\n\t\tconst instruction = element.instruction;\n\t\ttemplateData.sourcecode.innerText = '';\n\t\tconst sb = new StringBuilder(1000);\n\n\t\tif (this._disassemblyView.isSourceCodeRender && element.showSourceLocation && instruction.location?.path && instruction.line !== undefined) {\n\t\t\tconst sourceURI = this.getUriFromSource(instruction);\n\n\t\t\tif (sourceURI) {\n\t\t\t\tlet textModel: ITextModel | undefined = undefined;\n\t\t\t\tconst sourceSB = new StringBuilder(10000);\n\t\t\t\tconst ref = await this.textModelService.createModelReference(sourceURI);\n\t\t\t\tif (templateData.currentElement.element !== element) {\n\t\t\t\t\treturn; // avoid a race, #192831\n\t\t\t\t}\n\t\t\t\ttextModel = ref.object.textEditorModel;\n\t\t\t\ttemplateData.cellDisposable.push(ref);\n\n\t\t\t\t// templateData could have moved on during async.  Double check if it is still the same source.\n\t\t\t\tif (textModel && templateData.currentElement.element === element) {\n\t\t\t\t\tlet lineNumber = instruction.line;\n\n\t\t\t\t\twhile (lineNumber && lineNumber >= 1 && lineNumber <= textModel.getLineCount()) {\n\t\t\t\t\t\tconst lineContent = textModel.getLineContent(lineNumber);\n\t\t\t\t\t\tsourceSB.appendString(`  ${lineNumber}: `);\n\t\t\t\t\t\tsourceSB.appendString(lineContent + '\\n');\n\n\t\t\t\t\t\tif (instruction.endLine && lineNumber < instruction.endLine) {\n\t\t\t\t\t\t\tlineNumber++;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\ttemplateData.sourcecode.innerText = sourceSB.build();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet spacesToAppend = 10;\n\n\t\tif (instruction.address !== '-1') {\n\t\t\tsb.appendString(instruction.address);\n\t\t\tif (instruction.address.length < InstructionRenderer.INSTRUCTION_ADDR_MIN_LENGTH) {\n\t\t\t\tspacesToAppend = InstructionRenderer.INSTRUCTION_ADDR_MIN_LENGTH - instruction.address.length;\n\t\t\t}\n\t\t\tfor (let i = 0; i < spacesToAppend; i++) {\n\t\t\t\tsb.appendString(' ');\n\t\t\t}\n\t\t}\n\n\t\tif (instruction.instructionBytes) {\n\t\t\tsb.appendString(instruction.instructionBytes);\n\t\t\tspacesToAppend = 10;\n\t\t\tif (instruction.instructionBytes.length < InstructionRenderer.INSTRUCTION_BYTES_MIN_LENGTH) {\n\t\t\t\tspacesToAppend = InstructionRenderer.INSTRUCTION_BYTES_MIN_LENGTH - instruction.instructionBytes.length;\n\t\t\t}\n\t\t\tfor (let i = 0; i < spacesToAppend; i++) {\n\t\t\t\tsb.appendString(' ');\n\t\t\t}\n\t\t}\n\n\t\tsb.appendString(instruction.instruction);\n\t\ttemplateData.instruction.innerText = sb.build();\n\n\t\tthis.rerenderBackground(templateData.instruction, templateData.sourcecode, element);\n\t}\n\n\tdisposeElement(element: IDisassembledInstructionEntry, index: number, templateData: IInstructionColumnTemplateData): void {\n\t\tdispose(templateData.cellDisposable);\n\t\ttemplateData.cellDisposable = [];\n\t}\n\n\tdisposeTemplate(templateData: IInstructionColumnTemplateData): void {\n\t\tdispose(templateData.disposables);\n\t\ttemplateData.disposables = [];\n\t}\n\n\tprivate rerenderBackground(instruction: HTMLElement, sourceCode: HTMLElement, element?: IDisassembledInstructionEntry) {\n\t\tif (element && this._disassemblyView.currentInstructionAddresses.includes(element.address)) {\n\t\t\tinstruction.style.background = this._topStackFrameColor?.toString() || 'transparent';\n\t\t} else if (element?.address === this._disassemblyView.focusedInstructionAddress) {\n\t\t\tinstruction.style.background = this._focusedStackFrameColor?.toString() || 'transparent';\n\t\t} else {\n\t\t\tinstruction.style.background = 'transparent';\n\t\t}\n\t}\n\n\tprivate openSourceCode(instruction: DebugProtocol.DisassembledInstruction | undefined) {\n\t\tif (instruction) {\n\t\t\tconst sourceURI = this.getUriFromSource(instruction);\n\t\t\tconst selection = instruction.endLine ? {\n\t\t\t\tstartLineNumber: instruction.line!,\n\t\t\t\tendLineNumber: instruction.endLine,\n\t\t\t\tstartColumn: instruction.column || 1,\n\t\t\t\tendColumn: instruction.endColumn || Constants.MAX_SAFE_SMALL_INTEGER,\n\t\t\t} : {\n\t\t\t\tstartLineNumber: instruction.line!,\n\t\t\t\tendLineNumber: instruction.line!,\n\t\t\t\tstartColumn: instruction.column || 1,\n\t\t\t\tendColumn: instruction.endColumn || Constants.MAX_SAFE_SMALL_INTEGER,\n\t\t\t};\n\n\t\t\tthis.editorService.openEditor({\n\t\t\t\tresource: sourceURI,\n\t\t\t\tdescription: localize('editorOpenedFromDisassemblyDescription', \"from disassembly\"),\n\t\t\t\toptions: {\n\t\t\t\t\tpreserveFocus: false,\n\t\t\t\t\tselection: selection,\n\t\t\t\t\trevealIfOpened: true,\n\t\t\t\t\tselectionRevealType: TextEditorSelectionRevealType.CenterIfOutsideViewport,\n\t\t\t\t\tpinned: false,\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate getUriFromSource(instruction: DebugProtocol.DisassembledInstruction): URI {\n\t\t// Try to resolve path before consulting the debugSession.\n\t\tconst path = instruction.location!.path;\n\t\tif (path && isUriString(path)) {\t// path looks like a uri\n\t\t\treturn this.uriService.asCanonicalUri(URI.parse(path));\n\t\t}\n\t\t// assume a filesystem path\n\t\tif (path && isAbsolute(path)) {\n\t\t\treturn this.uriService.asCanonicalUri(URI.file(path));\n\t\t}\n\n\t\treturn getUriFromSource(instruction.location!, instruction.location!.path, this._disassemblyView.debugSession!.getId(), this.uriService, this.logService);\n\t}\n\n\tprivate applyFontInfo(element: HTMLElement) {\n\t\tapplyFontInfo(element, this._disassemblyView.fontInfo);\n\t\telement.style.whiteSpace = 'pre';\n\t}\n}\n\nclass AccessibilityProvider implements IListAccessibilityProvider<IDisassembledInstructionEntry> {\n\n\tgetWidgetAriaLabel(): string {\n\t\treturn localize('disassemblyView', \"Disassembly View\");\n\t}\n\n\tgetAriaLabel(element: IDisassembledInstructionEntry): string | null {\n\t\tlet label = '';\n\n\t\tconst instruction = element.instruction;\n\t\tif (instruction.address !== '-1') {\n\t\t\tlabel += `${localize('instructionAddress', \"Address\")}: ${instruction.address}`;\n\t\t}\n\t\tif (instruction.instructionBytes) {\n\t\t\tlabel += `, ${localize('instructionBytes', \"Bytes\")}: ${instruction.instructionBytes}`;\n\t\t}\n\t\tlabel += `, ${localize(`instructionText`, \"Instruction\")}: ${instruction.instruction}`;\n\n\t\treturn label;\n\t}\n}\n\nexport class DisassemblyViewContribution implements IWorkbenchContribution {\n\n\tprivate readonly _onDidActiveEditorChangeListener: IDisposable;\n\tprivate _onDidChangeModelLanguage: IDisposable | undefined;\n\tprivate _languageSupportsDisassembleRequest: IContextKey<boolean> | undefined;\n\n\tconstructor(\n\t\t@IEditorService editorService: IEditorService,\n\t\t@IDebugService debugService: IDebugService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService\n\t) {\n\t\tcontextKeyService.bufferChangeEvents(() => {\n\t\t\tthis._languageSupportsDisassembleRequest = CONTEXT_LANGUAGE_SUPPORTS_DISASSEMBLE_REQUEST.bindTo(contextKeyService);\n\t\t});\n\n\t\tconst onDidActiveEditorChangeListener = () => {\n\t\t\tif (this._onDidChangeModelLanguage) {\n\t\t\t\tthis._onDidChangeModelLanguage.dispose();\n\t\t\t\tthis._onDidChangeModelLanguage = undefined;\n\t\t\t}\n\n\t\t\tconst activeTextEditorControl = editorService.activeTextEditorControl;\n\t\t\tif (isCodeEditor(activeTextEditorControl)) {\n\t\t\t\tconst language = activeTextEditorControl.getModel()?.getLanguageId();\n\t\t\t\t// TODO: instead of using idDebuggerInterestedInLanguage, have a specific ext point for languages\n\t\t\t\t// support disassembly\n\t\t\t\tthis._languageSupportsDisassembleRequest?.set(!!language && debugService.getAdapterManager().someDebuggerInterestedInLanguage(language));\n\n\t\t\t\tthis._onDidChangeModelLanguage = activeTextEditorControl.onDidChangeModelLanguage(e => {\n\t\t\t\t\tthis._languageSupportsDisassembleRequest?.set(debugService.getAdapterManager().someDebuggerInterestedInLanguage(e.newLanguage));\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis._languageSupportsDisassembleRequest?.set(false);\n\t\t\t}\n\t\t};\n\n\t\tonDidActiveEditorChangeListener();\n\t\tthis._onDidActiveEditorChangeListener = editorService.onDidActiveEditorChange(onDidActiveEditorChangeListener);\n\t}\n\n\tdispose(): void {\n\t\tthis._onDidActiveEditorChangeListener.dispose();\n\t\tthis._onDidChangeModelLanguage?.dispose();\n\t}\n}\n\nCommandsRegistry.registerCommand({\n\tmetadata: {\n\t\tdescription: COPY_ADDRESS_LABEL,\n\t},\n\tid: COPY_ADDRESS_ID,\n\thandler: async (accessor: ServicesAccessor, entry?: IDisassembledInstructionEntry) => {\n\t\tif (entry?.instruction?.address) {\n\t\t\tconst clipboardService = accessor.get(IClipboardService);\n\t\t\tclipboardService.writeText(entry.instruction.address);\n\t\t}\n\t}\n});\n"]}