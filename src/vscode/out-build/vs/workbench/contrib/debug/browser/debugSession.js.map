{"version":3,"sources":["vs/workbench/contrib/debug/browser/debugSession.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;AAEhG,OAAO,EAAE,eAAe,EAAE,MAAM,iCAAiC,CAAC;AAClE,OAAO,KAAK,IAAI,MAAM,0CAA0C,CAAC;AACjE,OAAO,EAAE,UAAU,EAAE,MAAM,oCAAoC,CAAC;AAChE,OAAO,EAAE,QAAQ,EAAE,MAAM,mCAAmC,CAAC;AAC7D,OAAO,EAAE,KAAK,EAAE,gBAAgB,EAAE,WAAW,EAAE,MAAM,kCAAkC,CAAC;AACxF,OAAO,EAAqB,uBAAuB,EAAE,MAAM,yCAAyC,CAAC;AACrG,OAAO,EAAE,QAAQ,EAAE,MAAM,mCAAmC,CAAC;AAC7D,OAAO,EAAE,OAAO,EAAS,MAAM,kCAAkC,CAAC;AAClE,OAAO,EAAE,oBAAoB,EAAE,MAAM,mCAAmC,CAAC;AACzE,OAAO,EAAE,UAAU,EAAE,aAAa,EAAE,eAAe,EAAE,iBAAiB,EAAE,OAAO,EAAE,MAAM,sCAAsC,CAAC;AAC9H,OAAO,EAAE,KAAK,EAAE,MAAM,oCAAoC,CAAC;AAC3D,OAAO,KAAK,QAAQ,MAAM,qCAAqC,CAAC;AAChE,OAAO,KAAK,SAAS,MAAM,sCAAsC,CAAC;AAClE,OAAO,QAAQ,MAAM,qCAAqC,CAAC;AAC3D,OAAO,EAAE,SAAS,EAAE,MAAM,kCAAkC,CAAC;AAC7D,OAAO,EAAE,GAAG,EAAE,MAAM,gCAAgC,CAAC;AACrD,OAAO,EAAE,YAAY,EAAE,MAAM,iCAAiC,CAAC;AAE/D,OAAO,EAAE,QAAQ,EAAE,MAAM,oBAAoB,CAAC;AAC9C,OAAO,EAAE,qBAAqB,EAAE,MAAM,4DAA4D,CAAC;AACnG,OAAO,EAAE,qBAAqB,EAAE,MAAM,4DAA4D,CAAC;AACnG,OAAO,EAAE,qBAAqB,EAAE,MAAM,4DAA4D,CAAC;AACnG,OAAO,EAAE,WAAW,EAAE,MAAM,wCAAwC,CAAC;AAErE,OAAO,EAAE,oBAAoB,EAAE,MAAM,0DAA0D,CAAC;AAChG,OAAO,EAAE,eAAe,EAAE,MAAM,uDAAuD,CAAC;AACxF,OAAO,EAAE,+BAA+B,EAAE,iBAAiB,EAAkB,MAAM,oDAAoD,CAAC;AACxI,OAAO,EAAE,mBAAmB,EAAE,MAAM,wDAAwD,CAAC;AAC7F,OAAO,EAAE,wBAAwB,EAAoB,MAAM,oDAAoD,CAAC;AAEhH,OAAO,EAAE,4BAA4B,EAAE,MAAM,4DAA4D,CAAC;AAC1G,OAAO,EAAE,YAAY,EAAE,MAAM,wCAAwC,CAAC;AACtE,OAAO,EAAE,iBAAiB,EAAE,MAAM,iDAAiD,CAAC;AACpF,OAAO,EAAE,yBAAyB,EAAE,MAAM,0DAA0D,CAAC;AAErG,OAAO,EAAE,kBAAkB,EAAE,MAAM,2CAA2C,CAAC;AAC/E,OAAO,EAAE,YAAY,EAAE,MAAM,qCAAqC,CAAC;AACnE,OAAO,EAAsI,aAAa,EAAuP,UAAU,EAAE,mBAAmB,EAAE,MAAM,oBAAoB,CAAC;AAE7c,OAAO,EAAc,mBAAmB,EAAE,YAAY,EAAE,MAAM,EAAE,MAAM,yBAAyB,CAAC;AAChG,OAAO,EAAE,MAAM,EAAE,MAAM,0BAA0B,CAAC;AAClD,OAAO,EAAE,6BAA6B,EAAE,MAAM,yBAAyB,CAAC;AACxE,OAAO,EAAuB,SAAS,EAAE,MAAM,wBAAwB,CAAC;AACxE,OAAO,EAAE,eAAe,EAAE,MAAM,sBAAsB,CAAC;AAEvD,MAAM,8BAA8B,GAAG,IAAI,CAAC;AAErC,IAAM,YAAY,GAAlB,MAAM,YAAY;IAgDxB,YACS,EAAU,EACV,cAAsE,EACvE,IAAkC,EACjC,KAAiB,EACzB,OAAyC,EAC1B,YAA4C,EACxC,gBAAoD,EACzD,WAA0C,EACjC,oBAA4D,EACxD,oBAAgE,EACjE,uBAAkE,EAC3E,cAAgD,EAC3C,mBAA0D,EAC7D,gBAAmC,EACjC,kBAAwD,EACtD,oBAA4D,EAClD,8BAAgF,EACnF,2BAA0E,EAC3F,UAAwC,EACvC,WAA0C,EACpC,iBAAqC,EAClC,oBAA4D;QArB3E,OAAE,GAAF,EAAE,CAAQ;QACV,mBAAc,GAAd,cAAc,CAAwD;QACvE,SAAI,GAAJ,IAAI,CAA8B;QACjC,UAAK,GAAL,KAAK,CAAY;QAEO,iBAAY,GAAZ,YAAY,CAAe;QACvB,qBAAgB,GAAhB,gBAAgB,CAAmB;QACxC,gBAAW,GAAX,WAAW,CAAc;QAChB,yBAAoB,GAApB,oBAAoB,CAAuB;QACvC,yBAAoB,GAApB,oBAAoB,CAA2B;QAChD,4BAAuB,GAAvB,uBAAuB,CAA0B;QAC1D,mBAAc,GAAd,cAAc,CAAiB;QAC1B,wBAAmB,GAAnB,mBAAmB,CAAsB;QAE1C,uBAAkB,GAAlB,kBAAkB,CAAqB;QACrC,yBAAoB,GAApB,oBAAoB,CAAuB;QACjC,mCAA8B,GAA9B,8BAA8B,CAAiC;QAClE,gCAA2B,GAA3B,2BAA2B,CAA8B;QAC1E,eAAU,GAAV,UAAU,CAAa;QACtB,gBAAW,GAAX,WAAW,CAAc;QAEhB,yBAAoB,GAApB,oBAAoB,CAAuB;QAhE5E,gBAAW,GAAG,KAAK,CAAC;QAGpB,YAAO,GAAG,IAAI,GAAG,EAAkB,CAAC;QACpC,YAAO,GAAG,IAAI,GAAG,EAAkB,CAAC;QACpC,cAAS,GAAa,EAAE,CAAC;QACzB,oBAAe,GAAG,IAAI,GAAG,EAAqC,CAAC;QACtD,iBAAY,GAAG,IAAI,eAAe,EAAE,CAAC;QACrC,sBAAiB,GAAG,IAAI,eAAe,EAAE,CAAC;QAKnD,mBAAc,GAAyB,EAAE,CAAC;QACjC,gBAAW,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,qBAAqB,EAAE,CAAC,CAAC;QAOjE,sBAAiB,GAAG,IAAI,OAAO,EAAQ,CAAC;QACxC,qBAAgB,GAAG,IAAI,OAAO,EAA+B,CAAC;QAE9D,uBAAkB,GAAG,IAAI,OAAO,EAAqB,CAAC;QACtD,sBAAiB,GAAG,IAAI,OAAO,EAAuB,CAAC;QACvD,wBAAmB,GAAG,IAAI,OAAO,EAAoC,CAAC;QACtE,yBAAoB,GAAG,IAAI,OAAO,EAAqC,CAAC;QACxE,sBAAiB,GAAG,IAAI,OAAO,EAAkC,CAAC;QAClE,wBAAmB,GAAG,IAAI,OAAO,EAA6B,CAAC;QAE/D,6BAAwB,GAAG,IAAI,OAAO,EAA4B,CAAC;QAGnE,qBAAgB,GAAG,IAAI,OAAO,EAAU,CAAC;QAgCzD,IAAI,CAAC,QAAQ,GAAG,OAAO,IAAI,EAAE,CAAC;QAC9B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC;QACjD,IAAI,IAAI,CAAC,eAAe,EAAE,EAAE,CAAC;YAC5B,IAAI,CAAC,IAAI,GAAG,IAAI,SAAS,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;QACtD,CAAC;aAAM,CAAC;YACP,IAAI,CAAC,IAAI,GAAI,IAAI,CAAC,aAA8B,CAAC,IAAI,CAAC;QACvD,CAAC;QAED,MAAM,SAAS,GAAG,IAAI,CAAC,iBAAiB,CAAC;QACzC,MAAM,YAAY,GAAG,SAAS,CAAC,GAAG,CAAC,IAAI,iBAAiB,EAAE,CAAC,CAAC;QAC5D,YAAY,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QACjG,IAAI,gBAAgB,EAAE,CAAC;YACtB,SAAS,CAAC,GAAG,CAAC,gBAAgB,CAAC,cAAc,CAAC,GAAG,EAAE;gBAClD,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAChB,OAAO,CAAC,SAAS,CAAC,CAAC;YACpB,CAAC,CAAC,CAAC,CAAC;QACL,CAAC;QAED,iFAAiF;QACjF,IAAI,CAAC,iBAAiB,GAAG,OAAO,EAAE,OAAO;YACxC,CAAC,CAAE,iBAAiB,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAoB;YACxE,CAAC,CAAC,IAAI,CAAC,aAAa,EAAE,iBAAiB,CAAC;QAEzC,IAAI,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAC5B,sHAAsH;YACtH,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;QAC1E,CAAC;QAED,MAAM,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC;QAChD,IAAI,YAAY,EAAE,CAAC;YAClB,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,gBAAgB,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;QACtE,CAAC;QACD,IAAI,CAAC,kBAAkB,GAAG,IAAI,gBAAgB,CAAC,GAAG,EAAE;YACnD,sEAAsE;YACtE,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,0BAAkB,CAAC,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;gBAClI,IAAI,OAAO,IAAI,CAAC,qBAAqB,KAAK,QAAQ,EAAE,CAAC;oBACpD,MAAM,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC,aAAa,CAAC;oBAC9D,IAAI,MAAM,IAAI,MAAM,CAAC,QAAQ,KAAK,IAAI,CAAC,qBAAqB,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;wBACjF,MAAM,eAAe,GAAG,IAAI,CAAC,iBAAiB,EAAE,EAAE,QAAQ,CAAC;wBAC3D,MAAM,aAAa,GAAG,OAAO,eAAe,KAAK,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;wBACxG,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,SAAS,EAAE,aAAa,CAAC,CAAC;oBAC7D,CAAC;gBACF,CAAC;qBAAM,CAAC;oBACP,MAAM,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC,cAAc,CAAC;oBAChE,IAAI,OAAO,IAAI,OAAO,CAAC,KAAK,EAAE,KAAK,IAAI,CAAC,KAAK,EAAE,IAAI,OAAO,CAAC,KAAK,0BAAkB,EAAE,CAAC;wBACpF,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;oBAC9C,CAAC;gBACF,CAAC;YACF,CAAC;QACF,CAAC,EAAE,GAAG,CAAC,CAAC;QAER,MAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC;QAC3C,IAAI,MAAM,EAAE,CAAC;YACZ,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,eAAe,CAAC,GAAG,EAAE;gBACzC,uEAAuE;gBACvE,2CAA2C;gBAC3C,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,IAAI,CAAC,GAAG,EAAE,YAAY,KAAK,KAAK,EAAE,CAAC;oBACjE,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;oBAC9B,YAAY,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;oBACjG,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC;gBAChC,CAAC;YACF,CAAC,CAAC,CAAC,CAAC;QACL,CAAC;IACF,CAAC;IAED,KAAK;QACJ,OAAO,IAAI,CAAC,EAAE,CAAC;IAChB,CAAC;IAED,QAAQ,CAAC,KAAyB;QACjC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACrB,CAAC;IAED,SAAS,CAAC,eAAuB;QAChC,OAAO,IAAI,YAAY,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;IAChD,CAAC;IAED,IAAI,KAAK;QACR,OAAO,IAAI,CAAC,MAAM,CAAC;IACpB,CAAC;IAED,IAAI,aAAa;QAChB,OAAO,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC;IACrC,CAAC;IAED,IAAI,uBAAuB;QAC1B,OAAO,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC;IACvC,CAAC;IAED,IAAI,wBAAwB;QAC3B,OAAO,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,wBAAwB,CAAC;IACjD,CAAC;IAED,IAAI,OAAO;QACV,OAAO,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC;IAChC,CAAC;IAED,IAAI,iBAAiB;QACpB,OAAO,IAAI,CAAC,QAAQ,CAAC,iBAAiB,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,aAAa,CAAC;IACzE,CAAC;IAED,IAAI,YAAY;QACf,OAAO,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC;IACnC,CAAC;IAED,IAAI,sBAAsB;QACzB,OAAO,IAAI,CAAC,QAAQ,CAAC,sBAAsB,IAAI,KAAK,CAAC;IACtD,CAAC;IAED,IAAI,oBAAoB;QACvB,OAAO,IAAI,CAAC,QAAQ,CAAC,oBAAoB,IAAI,KAAK,CAAC;IACpD,CAAC;IAED,IAAI,iBAAiB;QACpB,OAAO,IAAI,CAAC,QAAQ,CAAC,iBAAiB,IAAI,KAAK,CAAC;IACjD,CAAC;IAGD,IAAI,uBAAuB;QAC1B,qFAAqF;QACrF,MAAM,qBAAqB,GAAG,IAAI,CAAC,oBAAoB,CAAC,uBAAuB,EAAE,CAAC;QAClF,MAAM,KAAK,GAAG,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAsB,OAAO,CAAC,CAAC,uBAAuB,CAAC;QACvG,OAAO,KAAK,KAAK,MAAM,IAAI,qBAAqB,IAAI,KAAK,KAAK,IAAI,CAAC;IACpE,CAAC;IAED,gBAAgB,CAAC,aAAqE;QACrF,IAAI,CAAC,cAAc,GAAG,aAAa,CAAC;IACrC,CAAC;IAED,QAAQ;QACP,MAAM,WAAW,GAAG,IAAI,CAAC,uBAAuB,CAAC,YAAY,EAAE,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC;QACnF,OAAO,WAAW,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,KAAK,SAAS,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;IAChH,CAAC;IAED,OAAO,CAAC,IAAY;QACnB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAClC,CAAC;IAED,IAAI,IAAI;QACP,OAAO,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC;IAC9C,CAAC;IAED,IAAI,KAAK;QACR,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;YACvB,kCAA0B;QAC3B,CAAC;QACD,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,8BAAsB;QACvB,CAAC;QAED,MAAM,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC,aAAa,CAAC;QACrE,IAAI,aAAa,IAAI,aAAa,CAAC,OAAO,KAAK,IAAI,EAAE,CAAC;YACrD,OAAO,aAAa,CAAC,OAAO,CAAC,CAAC,uBAAe,CAAC,sBAAc,CAAC;QAC9D,CAAC;QACD,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC;YAC/C,6BAAqB;QACtB,CAAC;QAED,6BAAqB;IACtB,CAAC;IAED,IAAI,YAAY;QACf,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAC/D,CAAC;IAED,aAAa;IACb,IAAI,gBAAgB;QACnB,OAAO,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC;IACrC,CAAC;IAED,IAAI,eAAe;QAClB,OAAO,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC;IACpC,CAAC;IAED,IAAI,uBAAuB;QAC1B,OAAO,IAAI,CAAC,wBAAwB,CAAC,KAAK,CAAC;IAC5C,CAAC;IAED,IAAI,eAAe;QAClB,OAAO,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC;IACpC,CAAC;IAED,iBAAiB;IAEjB,IAAI,gBAAgB;QACnB,OAAO,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC;IACrC,CAAC;IAED,IAAI,iBAAiB;QACpB,OAAO,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC;IACtC,CAAC;IAED,IAAI,kBAAkB;QACrB,OAAO,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;IACvC,CAAC;IAED,IAAI,mBAAmB;QACtB,OAAO,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC;IACxC,CAAC;IAED,IAAI,gBAAgB;QACnB,OAAO,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC;IACrC,CAAC;IAED,IAAI,qBAAqB;QACxB,OAAO,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC;IACvC,CAAC;IAED,mBAAmB;IAEnB;;OAEG;IACH,KAAK,CAAC,UAAU,CAAC,IAAe;QAE/B,IAAI,IAAI,CAAC,GAAG,EAAE,CAAC;YACd,sEAAsE;YACtE,MAAM,IAAI,CAAC,QAAQ,EAAE,CAAC;QACvB,CAAC;QAED,IAAI,CAAC;YACJ,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;YACzD,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,eAAe,EAAE,YAAY,EAAE,IAAI,EAAE,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;YAE3H,MAAM,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC;YACvB,IAAI,CAAC,iBAAiB,EAAE,CAAC;YACzB,MAAM,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC;gBACzB,QAAQ,EAAE,QAAQ;gBAClB,UAAU,EAAE,IAAI,CAAC,cAAc,CAAC,QAAQ;gBACxC,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI;gBAClC,UAAU,EAAE,MAAM;gBAClB,aAAa,EAAE,IAAI;gBACnB,eAAe,EAAE,IAAI;gBACrB,oBAAoB,EAAE,IAAI,EAAE,QAAQ;gBACpC,sBAAsB,EAAE,IAAI,EAAE,QAAQ;gBACtC,4BAA4B,EAAE,IAAI,EAAE,SAAS;gBAC7C,MAAM,EAAE,QAAQ,CAAC,QAAQ,EAAE,UAAU;gBACrC,yBAAyB,EAAE,IAAI,EAAE,SAAS;gBAC1C,wBAAwB,EAAE,IAAI,EAAE,UAAU;gBAC1C,wBAAwB,EAAE,IAAI,EAAE,SAAS;gBACzC,mCAAmC,EAAE,IAAI,EAAE,UAAU;gBACrD,mBAAmB,EAAE,IAAI,EAAE,UAAU;gBACrC,6BAA6B,EAAE,IAAI;gBACnC,mBAAmB,EAAE,IAAI;aACzB,CAAC,CAAC;YAEH,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,CAAC;YAC9B,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC;YACpD,IAAI,CAAC,YAAY,CAAC,iCAAiC,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,0BAA0B,CAAC,IAAI,EAAE,CAAC,CAAC;YAChI,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC,uBAAuB,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,eAAe,IAAI,EAAE,CAAC,CAAC;QAC5H,CAAC;QAAC,OAAO,GAAG,EAAE,CAAC;YACd,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,CAAC;YAC9B,MAAM,IAAI,CAAC,QAAQ,EAAE,CAAC;YACtB,MAAM,GAAG,CAAC;QACX,CAAC;IACF,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,cAAc,CAAC,MAAe;QACnC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,kBAAkB,CAAC,CAAC,CAAC;QAC9G,CAAC;QACD,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,aAAa,CAAC,KAAK,2BAAmB,EAAE,CAAC;YACvE,MAAM,QAAQ,EAAE,CAAC;QAClB,CAAC;QAED,2EAA2E;QAC3E,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC;QAClC,IAAI,CAAC;YACJ,MAAM,IAAI,CAAC,GAAG,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;QACvC,CAAC;QAAC,OAAO,GAAG,EAAE,CAAC;YACd,IAAI,CAAC,QAAQ,EAAE,CAAC;YAChB,MAAM,GAAG,CAAC;QACX,CAAC;IACF,CAAC;IAED;;OAEG;IACH,uBAAuB;QACtB,IAAI,IAAI,CAAC,iBAAiB,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,WAAW,EAAE,CAAC;YACnE,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;YAChC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,IAAI,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC;QAC3D,CAAC;IACF,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,SAAS,CAAC,OAAO,GAAG,KAAK;QAC9B,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,oGAAoG;YACpG,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACzB,CAAC;QAED,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,IAAI,IAAI,CAAC,QAAQ,CAAC,wBAAwB,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC;YAClE,MAAM,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;QAC7C,CAAC;aAAM,IAAI,IAAI,CAAC,iBAAiB,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,WAAW,IAAI,CAAC,IAAI,CAAC,mBAAmB,EAAE,CAAC;YACvG,IAAI,CAAC,uBAAuB,EAAE,CAAC;QAChC,CAAC;aAAM,IAAI,IAAI,CAAC,GAAG,EAAE,CAAC;YACrB,IAAI,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,wBAAwB,IAAI,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,OAAO,KAAK,QAAQ,EAAE,CAAC;gBACzG,MAAM,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;YACnC,CAAC;iBAAM,CAAC;gBACP,MAAM,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,OAAO,EAAE,iBAAiB,EAAE,IAAI,EAAE,CAAC,CAAC;YACjE,CAAC;QACF,CAAC;QAED,IAAI,CAAC,OAAO,EAAE,CAAC;YACd,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,cAAc,EAAE,CAAC;QAC9C,CAAC;IACF,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,UAAU,CAAC,OAAO,GAAG,KAAK,EAAE,OAAO,GAAG,KAAK;QAChD,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,oGAAoG;YACpG,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACzB,CAAC;QAED,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,IAAI,IAAI,CAAC,QAAQ,CAAC,wBAAwB,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC;YAClE,MAAM,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QACvD,CAAC;aAAM,IAAI,IAAI,CAAC,GAAG,EAAE,CAAC;YACrB,yDAAyD;YACzD,MAAM,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,OAAO,EAAE,iBAAiB,EAAE,KAAK,EAAE,eAAe,EAAE,OAAO,EAAE,CAAC,CAAC;QAC5F,CAAC;QAED,IAAI,CAAC,OAAO,EAAE,CAAC;YACd,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,cAAc,EAAE,CAAC;QAC9C,CAAC;IACF,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,OAAO;QACZ,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,SAAS,CAAC,CAAC,CAAC;QACrG,CAAC;QAED,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,IAAI,IAAI,CAAC,QAAQ,CAAC,wBAAwB,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC;YAClE,MAAM,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;QACpC,CAAC;aAAM,CAAC;YACP,MAAM,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,aAAa,EAAE,CAAC,CAAC;QAC3D,CAAC;IACF,CAAC;IAED,KAAK,CAAC,eAAe,CAAC,QAAa,EAAE,iBAAgC,EAAE,cAAuB;QAC7F,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,aAAa,CAAC,CAAC,CAAC;QACzG,CAAC;QAED,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,mBAAmB,EAAE,CAAC;YACnC,OAAO,OAAO,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;QACnC,CAAC;QAED,MAAM,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QAC9C,IAAI,iBAAiB,CAAC,MAAM,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;YACxD,SAAS,CAAC,WAAW,GAAG,iBAAiB,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC;QAC1D,CAAC;QACD,qHAAqH;QACrH,IAAI,SAAS,CAAC,IAAI,EAAE,CAAC;YACpB,SAAS,CAAC,IAAI,GAAG,oBAAoB,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACvD,CAAC;QAED,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,GAAG,CAAC,cAAc,CAAC;YAC9C,MAAM,EAAE,SAAS;YACjB,KAAK,EAAE,iBAAiB,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,mBAAmB,CAAC,UAAU,CAAC;YACrE,WAAW,EAAE,iBAAiB,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,EAAE,CAAC;YACpD,cAAc;SACd,CAAC,CAAC;QACH,IAAI,QAAQ,EAAE,IAAI,EAAE,CAAC;YACpB,MAAM,IAAI,GAAG,IAAI,GAAG,EAAoC,CAAC;YACzD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,iBAAiB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACnD,IAAI,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,EAAE,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;YACtE,CAAC;YAED,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,IAAI,CAAC,KAAK,EAAE,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;QAC5E,CAAC;IACF,CAAC;IAED,KAAK,CAAC,uBAAuB,CAAC,KAA4B;QACzD,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,sBAAsB,CAAC,CAAC,CAAC;QAClH,CAAC;QAED,IAAI,IAAI,CAAC,GAAG,CAAC,mBAAmB,EAAE,CAAC;YAClC,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,GAAG,CAAC,sBAAsB,CAAC,EAAE,WAAW,EAAE,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;YACrG,IAAI,QAAQ,EAAE,IAAI,EAAE,CAAC;gBACpB,MAAM,IAAI,GAAG,IAAI,GAAG,EAAoC,CAAC;gBACzD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBACvC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,EAAE,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC1D,CAAC;gBACD,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,IAAI,CAAC,KAAK,EAAE,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;YAC5E,CAAC;QACF,CAAC;IACF,CAAC;IAED,KAAK,CAAC,wBAAwB,CAAC,MAA8B;QAC5D,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,uBAAuB,CAAC,CAAC,CAAC;QACnH,CAAC;QAED,IAAI,IAAI,CAAC,GAAG,CAAC,mBAAmB,EAAE,CAAC;YAClC,MAAM,IAAI,GAAmD,IAAI,CAAC,YAAY,CAAC,8BAA8B,CAAC,CAAC,CAAC;gBAC/G,OAAO,EAAE,EAAE;gBACX,aAAa,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;oBAC/B,IAAI,GAAG,CAAC,SAAS,EAAE,CAAC;wBACnB,OAAO,EAAE,QAAQ,EAAE,GAAG,CAAC,MAAM,EAAE,SAAS,EAAE,GAAG,CAAC,SAAS,EAAE,CAAC;oBAC3D,CAAC;oBAED,OAAO,EAAE,QAAQ,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC;gBACjC,CAAC,CAAC;aACF,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC;YAE/C,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,GAAG,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;YAC9D,IAAI,QAAQ,EAAE,IAAI,IAAI,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;gBACjD,MAAM,IAAI,GAAG,IAAI,GAAG,EAAoC,CAAC;gBACzD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBACxC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,EAAE,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC3D,CAAC;gBAED,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,IAAI,CAAC,KAAK,EAAE,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;YAC5E,CAAC;QACF,CAAC;IACF,CAAC;IAED,uBAAuB,CAAC,OAAe,EAAE,KAAa;QACrD,IAAI,IAAI,CAAC,GAAG,EAAE,YAAY,CAAC,2BAA2B,KAAK,KAAK,EAAE,CAAC;YAClE,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAsC,EAAE,IAAiD,CAAC,CAAC,CAAC;QACtH,CAAC;QAED,OAAO,IAAI,CAAC,mBAAmB,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;IAC5E,CAAC;IAED,kBAAkB,CAAC,IAAY,EAAE,kBAA2B,EAAE,OAAgB;QAC7E,OAAO,IAAI,CAAC,mBAAmB,CAAC,EAAE,IAAI,EAAE,kBAAkB,EAAE,OAAO,EAAE,CAAC,CAAC;IACxE,CAAC;IAEO,KAAK,CAAC,mBAAmB,CAAC,IAA+C;QAChF,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,uBAAuB,CAAC,CAAC,CAAC;QACnH,CAAC;QACD,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,mBAAmB,EAAE,CAAC;YACnC,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAA+B,EAAE,IAAsC,CAAC,CAAC,CAAC;QACpG,CAAC;QAED,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,GAAG,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;QACzD,OAAO,QAAQ,EAAE,IAAI,CAAC;IACvB,CAAC;IAED,KAAK,CAAC,mBAAmB,CAAC,eAAkC;QAC3D,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,kBAAkB,CAAC,CAAC,CAAC;QAC9G,CAAC;QAED,IAAI,IAAI,CAAC,GAAG,CAAC,mBAAmB,EAAE,CAAC;YAClC,MAAM,SAAS,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,GAAG,CAAC,KAAK,EAAC,EAAE,EAAC,EAAE;gBAClE,IAAI,CAAC;oBACJ,MAAM,GAAG,GAAG,MAAM,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;oBACjC,OAAO,EAAE,GAAG,EAAE,EAAE,EAAE,CAAC;gBACpB,CAAC;gBAAC,OAAO,CAAC,EAAE,CAAC;oBACZ,OAAO,EAAE,EAAE,EAAE,OAAO,EAAE,CAAC,CAAC,OAAO,EAAE,CAAC;gBACnC,CAAC;YACF,CAAC,CAAC,CAAC,CAAC;YACJ,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,GAAG,CAAC,kBAAkB,CAAC,EAAE,WAAW,EAAE,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;YACjH,IAAI,QAAQ,EAAE,IAAI,EAAE,CAAC;gBACpB,MAAM,IAAI,GAAG,IAAI,GAAG,EAAoC,CAAC;gBACzD,IAAI,CAAC,GAAG,CAAC,CAAC;gBACV,KAAK,MAAM,GAAG,IAAI,SAAS,EAAE,CAAC;oBAC7B,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;wBACd,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,EAAE,EAAE,GAAG,CAAC,OAAO,CAAC,CAAC;oBACvC,CAAC;yBAAM,IAAI,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;wBACjD,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,EAAE,EAAE,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;oBAC1D,CAAC;gBACF,CAAC;gBACD,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,IAAI,CAAC,KAAK,EAAE,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;YAC5E,CAAC;QACF,CAAC;IACF,CAAC;IAED,KAAK,CAAC,0BAA0B,CAAC,sBAAgD;QAChF,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,yBAAyB,CAAC,CAAC,CAAC;QACrH,CAAC;QAED,IAAI,IAAI,CAAC,GAAG,CAAC,mBAAmB,EAAE,CAAC;YAClC,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,GAAG,CAAC,yBAAyB,CAAC,EAAE,WAAW,EAAE,sBAAsB,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;YACzH,IAAI,QAAQ,EAAE,IAAI,EAAE,CAAC;gBACpB,MAAM,IAAI,GAAG,IAAI,GAAG,EAAoC,CAAC;gBACzD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,sBAAsB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBACxD,IAAI,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,EAAE,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC3E,CAAC;gBACD,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,IAAI,CAAC,KAAK,EAAE,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;YAC5E,CAAC;QACF,CAAC;IACF,CAAC;IAED,KAAK,CAAC,oBAAoB,CAAC,GAAQ,EAAE,UAAkB;QACtD,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,uBAAuB,CAAC,CAAC,CAAC;QACnH,CAAC;QAED,MAAM,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;QACtC,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,GAAG,CAAC,mBAAmB,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,UAAU,EAAE,CAAC,CAAC;QAClF,IAAI,CAAC,QAAQ,IAAI,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;YAC/D,OAAO,EAAE,CAAC;QACX,CAAC;QAED,MAAM,SAAS,GAAG,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,UAAU,EAAE,EAAE,CAAC,IAAI,EAAE,MAAM,EAAE,EAAE,CAAC,MAAM,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;QAEzG,OAAO,QAAQ,CAAC,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,UAAU,IAAI,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC;IAChE,CAAC;IAED,0BAA0B,CAAC,YAAoB;QAC9C,OAAO,IAAI,CAAC,KAAK,CAAC,0BAA0B,CAAC,YAAY,EAAE,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;IAC1E,CAAC;IAED,aAAa,CAAC,OAAe,EAAE,IAAS;QACvC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,OAAO,CAAC,CAAC,CAAC;QACnG,CAAC;QAED,OAAO,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;IACvC,CAAC;IAED,UAAU,CAAC,QAAgB,EAAE,UAAkB,EAAE,MAAc,EAAE,KAAwB;QACxF,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,YAAY,CAAC,CAAC,CAAC;QACxG,CAAC;QAED,MAAM,YAAY,GAAG,IAAI,CAAC,uBAAuB,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;QACnE,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,QAAQ,EAAE,UAAU,EAAE,MAAM,EAAE,EAAE,YAAY,CAAC,CAAC;IAC5E,CAAC;IAED,KAAK,CAAC,aAAa,CAAC,QAAgB;QACnC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,eAAe,CAAC,CAAC,CAAC;QAC3G,CAAC;QAED,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC;QAC5D,IAAI,QAAQ,EAAE,CAAC;YACd,OAAO;gBACN,EAAE,EAAE,QAAQ,CAAC,IAAI,CAAC,WAAW;gBAC7B,WAAW,EAAE,QAAQ,CAAC,IAAI,CAAC,WAAW;gBACtC,SAAS,EAAE,QAAQ,CAAC,IAAI,CAAC,SAAS;gBAClC,OAAO,EAAE,QAAQ,CAAC,IAAI,CAAC,OAAO;aAC9B,CAAC;QACH,CAAC;QAED,OAAO,SAAS,CAAC;IAClB,CAAC;IAED,MAAM,CAAC,OAAe,EAAE,QAAgB;QACvC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,QAAQ,CAAC,CAAC,CAAC;QACpG,CAAC;QAED,MAAM,KAAK,GAAG,IAAI,CAAC,uBAAuB,CAAC,QAAQ,CAAC,CAAC;QACrD,OAAO,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,OAAO,EAAE,EAAE,KAAK,CAAC,CAAC;IAC5C,CAAC;IAED,SAAS,CAAC,kBAA0B,EAAE,QAA4B,EAAE,MAAuC,EAAE,KAAyB,EAAE,KAAyB;QAChK,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,WAAW,CAAC,CAAC,CAAC;QACvG,CAAC;QAED,MAAM,KAAK,GAAG,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,uBAAuB,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;QAC5E,OAAO,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,kBAAkB,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE,KAAK,CAAC,CAAC;IAChF,CAAC;IAED,QAAQ,CAAC,UAAkB,EAAE,OAAe,EAAE,OAAgB,EAAE,QAAyE;QACxI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,UAAU,CAAC,CAAC,CAAC;QACtG,CAAC;QAED,OAAO,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,UAAU,EAAE,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,CAAC,CAAC;IACtI,CAAC;IAED,KAAK,CAAC,YAAY,CAAC,OAAe,EAAE,QAAgB;QACnD,MAAM,IAAI,CAAC,2BAA2B,EAAE,CAAC;QACzC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,cAAc,CAAC,CAAC,CAAC;QAC1G,CAAC;QAED,MAAM,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,EAAE,OAAO,EAAE,EAAE,QAAQ,CAAC,CAAC;IACpD,CAAC;IAEO,0BAA0B,CAAC,QAAgB,EAAE,WAA+C;QACnG,MAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;QACxC,IAAI,MAAM,EAAE,CAAC;YACZ,MAAM,CAAC,uBAAuB,GAAG,WAAW,CAAC;QAC9C,CAAC;IACF,CAAC;IAED,KAAK,CAAC,IAAI,CAAC,QAAgB,EAAE,WAA+C;QAC3E,MAAM,IAAI,CAAC,2BAA2B,EAAE,CAAC;QACzC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,MAAM,CAAC,CAAC,CAAC;QAClG,CAAC;QAED,IAAI,CAAC,0BAA0B,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;QACvD,MAAM,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,WAAW,EAAE,CAAC,CAAC;IAChD,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,QAAgB,EAAE,QAAiB,EAAE,WAA+C;QAChG,MAAM,IAAI,CAAC,2BAA2B,EAAE,CAAC;QACzC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,QAAQ,CAAC,CAAC,CAAC;QACpG,CAAC;QAED,IAAI,CAAC,0BAA0B,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;QACvD,MAAM,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,WAAW,EAAE,CAAC,CAAC;IAC5D,CAAC;IAED,KAAK,CAAC,OAAO,CAAC,QAAgB,EAAE,WAA+C;QAC9E,MAAM,IAAI,CAAC,2BAA2B,EAAE,CAAC;QACzC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,SAAS,CAAC,CAAC,CAAC;QACrG,CAAC;QAED,IAAI,CAAC,0BAA0B,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;QACvD,MAAM,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,QAAQ,EAAE,WAAW,EAAE,CAAC,CAAC;IACnD,CAAC;IAED,KAAK,CAAC,QAAQ,CAAC,QAAgB,EAAE,WAA+C;QAC/E,MAAM,IAAI,CAAC,2BAA2B,EAAE,CAAC;QACzC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,UAAU,CAAC,CAAC,CAAC;QACtG,CAAC;QAED,IAAI,CAAC,0BAA0B,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;QACvD,MAAM,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,QAAQ,EAAE,WAAW,EAAE,CAAC,CAAC;IACpD,CAAC;IAED,KAAK,CAAC,QAAQ,CAAC,QAAgB;QAC9B,MAAM,IAAI,CAAC,2BAA2B,EAAE,CAAC;QACzC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,UAAU,CAAC,CAAC,CAAC;QACtG,CAAC;QAED,MAAM,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC;IACvC,CAAC;IAED,KAAK,CAAC,eAAe,CAAC,QAAgB;QACrC,MAAM,IAAI,CAAC,2BAA2B,EAAE,CAAC;QACzC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,kBAAkB,CAAC,CAAC,CAAC;QAC9G,CAAC;QAED,MAAM,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC;IAC9C,CAAC;IAED,KAAK,CAAC,KAAK,CAAC,QAAgB;QAC3B,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,OAAO,CAAC,CAAC,CAAC;QACnG,CAAC;QAED,MAAM,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC;IACpC,CAAC;IAED,KAAK,CAAC,gBAAgB,CAAC,SAAoB;QAC1C,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,kBAAkB,CAAC,CAAC,CAAC;QAC9G,CAAC;QAED,MAAM,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC;IAChD,CAAC;IAED,WAAW,CAAC,kBAA0B,EAAE,IAAY,EAAE,KAAa;QAClE,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,aAAa,CAAC,CAAC,CAAC;QACzG,CAAC;QAED,OAAO,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,EAAE,kBAAkB,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC;IAClE,CAAC;IAED,aAAa,CAAC,OAAe,EAAE,UAAkB,EAAE,KAAa;QAC/D,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,eAAe,CAAC,CAAC,CAAC;QAC3G,CAAC;QAED,OAAO,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,EAAE,UAAU,EAAE,KAAK,EAAE,OAAO,EAAE,CAAC,CAAC;IAC/D,CAAC;IAED,WAAW,CAAC,MAA4B,EAAE,IAAY,EAAE,MAAe;QACtE,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,aAAa,CAAC,CAAC,CAAC;QACzG,CAAC;QAED,OAAO,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,CAAC;IACvD,CAAC;IAED,IAAI,CAAC,QAAgB,EAAE,QAAgB;QACtC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,MAAM,CAAC,CAAC,CAAC;QAClG,CAAC;QAED,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC,CAAC;IAC9C,CAAC;IAED,UAAU,CAAC,QAAa;QACvB,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,YAAY,CAAC,CAAC,CAAC,CAAC;QACzH,CAAC;QAED,MAAM,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;QAC9C,IAAI,SAA+B,CAAC;QACpC,IAAI,MAAM,EAAE,CAAC;YACZ,SAAS,GAAG,MAAM,CAAC,GAAG,CAAC;QACxB,CAAC;aAAM,CAAC;YACP,kBAAkB;YAClB,MAAM,IAAI,GAAG,MAAM,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC;YAClD,SAAS,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,eAAe,EAAE,IAAI,CAAC,eAAe,EAAE,CAAC;QACxE,CAAC;QAED,OAAO,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,eAAe,EAAE,SAAS,CAAC,eAAe,IAAI,CAAC,EAAE,MAAM,EAAE,SAAS,EAAE,CAAC,CAAC;IAChG,CAAC;IAED,KAAK,CAAC,gBAAgB;QACrB,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,kBAAkB,CAAC,CAAC,CAAC,CAAC;QAC/H,CAAC;QAED,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;QAClD,IAAI,QAAQ,EAAE,IAAI,IAAI,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;YAC7C,OAAO,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;QAC9D,CAAC;aAAM,CAAC;YACP,OAAO,EAAE,CAAC;QACX,CAAC;IACF,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,OAA2B,EAAE,QAAgB,EAAE,IAAY,EAAE,QAAkB,EAAE,KAAwB;QAC1H,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC;QAC1H,CAAC;QACD,MAAM,uBAAuB,GAAG,IAAI,CAAC,uBAAuB,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;QAE9E,OAAO,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC;YAC3B,OAAO;YACP,IAAI;YACJ,MAAM,EAAE,QAAQ,CAAC,MAAM;YACvB,IAAI,EAAE,QAAQ,CAAC,UAAU;SACzB,EAAE,uBAAuB,CAAC,CAAC;IAC7B,CAAC;IAED,KAAK,CAAC,aAAa,CAAC,OAAe;QAClC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,eAAe,CAAC,CAAC,CAAC,CAAC;QAC5H,CAAC;QAED,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,EAAE,OAAO,EAAE,CAAC,CAAC;QAC3D,OAAO,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC;IAC/B,CAAC;IAED,KAAK,CAAC,MAAM,CAAC,UAAkB;QAC9B,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;QACrH,CAAC;QAED,OAAO,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,UAAU,EAAE,CAAC,CAAC;IACxC,CAAC;IAED,KAAK,CAAC,WAAW,CAAC,eAAuB,EAAE,MAAc,EAAE,iBAAyB,EAAE,gBAAwB;QAC7G,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC;QAC1H,CAAC;QAED,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,EAAE,eAAe,EAAE,MAAM,EAAE,iBAAiB,EAAE,gBAAgB,EAAE,cAAc,EAAE,IAAI,EAAE,CAAC,CAAC;QACpI,OAAO,QAAQ,EAAE,IAAI,EAAE,YAAY,CAAC;IACrC,CAAC;IAED,UAAU,CAAC,eAAuB,EAAE,MAAc,EAAE,KAAa;QAChE,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,YAAY,CAAC,CAAC,CAAC,CAAC;QACzH,CAAC;QAED,OAAO,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,KAAK,EAAE,eAAe,EAAE,MAAM,EAAE,CAAC,CAAC;IAChE,CAAC;IAED,WAAW,CAAC,eAAuB,EAAE,MAAc,EAAE,IAAY,EAAE,YAAsB;QACxF,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC;QAC1H,CAAC;QAED,OAAO,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,EAAE,eAAe,EAAE,MAAM,EAAE,YAAY,EAAE,IAAI,EAAE,CAAC,CAAC;IAC9E,CAAC;IAED,KAAK,CAAC,wBAAwB,CAAC,iBAAyB;QACvD,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,WAAW,CAAC,CAAC,CAAC;QACvG,CAAC;QAED,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,iBAAiB,EAAE,CAAC,CAAC;QACjE,IAAI,CAAC,QAAQ,EAAE,IAAI,EAAE,CAAC;YACrB,MAAM,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAgB,EAAE,IAA2C,EAAE,WAAW,CAAC,CAAC,CAAC;QACvG,CAAC;QAED,MAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACpD,OAAO,EAAE,MAAM,EAAE,CAAC,EAAE,GAAG,QAAQ,CAAC,IAAI,EAAE,MAAM,EAAE,CAAC;IAChD,CAAC;IAED,cAAc;IAEd,SAAS,CAAC,QAAgB;QACzB,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;IACnC,CAAC;IAED,aAAa;QACZ,MAAM,MAAM,GAAc,EAAE,CAAC;QAC7B,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,EAAE;YACnC,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YAC1C,IAAI,MAAM,EAAE,CAAC;gBACZ,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACrB,CAAC;QACF,CAAC,CAAC,CAAC;QACH,OAAO,MAAM,CAAC;IACf,CAAC;IAED,YAAY,CAAC,aAAsB,EAAE,YAAgC,SAAS;QAC7E,IAAI,SAAS,KAAK,SAAS,IAAI,SAAS,KAAK,IAAI,EAAE,CAAC;YACnD,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;YAC3C,IAAI,MAAM,EAAE,CAAC;gBACZ,MAAM,CAAC,cAAc,EAAE,CAAC;gBACxB,MAAM,CAAC,cAAc,GAAG,SAAS,CAAC;gBAClC,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC;gBAEvB,IAAI,aAAa,EAAE,CAAC;oBACnB,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;gBAChC,CAAC;YACF,CAAC;QACF,CAAC;aAAM,CAAC;YACP,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;gBAC7B,MAAM,CAAC,cAAc,EAAE,CAAC;gBACxB,MAAM,CAAC,cAAc,GAAG,SAAS,CAAC;gBAClC,MAAM,CAAC,OAAO,GAAG,KAAK,CAAC;YACxB,CAAC,CAAC,CAAC;YAEH,IAAI,aAAa,EAAE,CAAC;gBACnB,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;gBACrB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;gBACpB,mBAAmB,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;YACvC,CAAC;QACF,CAAC;IACF,CAAC;IAED,iBAAiB;QAChB,OAAO,IAAI,CAAC,cAAc,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;IAC7E,CAAC;IAED,SAAS,CAAC,IAAqB;QAC9B,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACpB,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;YAC7B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;YAC/B,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC;gBAClC,uCAAuC;gBACvC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;YACvE,CAAC;iBAAM,IAAI,MAAM,CAAC,IAAI,EAAE,CAAC;gBACxB,0CAA0C;gBAC1C,MAAM,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;gBAC9C,IAAI,SAAS,EAAE,CAAC;oBACf,SAAS,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;gBAC9B,CAAC;YACF,CAAC;QACF,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;YACxB,uEAAuE;YACvE,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC;gBAC/C,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;YACjC,CAAC;QACF,CAAC,CAAC,CAAC;QAEH,MAAM,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC;QAC3C,IAAI,cAAc,EAAE,CAAC;YACpB,+DAA+D;YAC/D,uCAAuC;YACvC,IAAI,cAAc,CAAC,iBAAiB,EAAE,CAAC;gBACtC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;oBAC7B,MAAM,CAAC,cAAc,GAAG,MAAM,CAAC,QAAQ,KAAK,cAAc,CAAC,QAAQ,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,MAAM,EAAE,MAAM,CAAC,cAAc,EAAE,MAAM,EAAE,CAAC;oBACjI,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC;oBACtB,MAAM,CAAC,cAAc,EAAE,CAAC;gBACzB,CAAC,CAAC,CAAC;YACJ,CAAC;iBAAM,CAAC;gBACP,MAAM,MAAM,GAAG,OAAO,cAAc,CAAC,QAAQ,KAAK,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;gBACnH,IAAI,MAAM,EAAE,CAAC;oBACZ,kDAAkD;oBAClD,MAAM,CAAC,cAAc,GAAG,cAAc,CAAC;oBACvC,MAAM,CAAC,cAAc,EAAE,CAAC;oBACxB,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC;gBACvB,CAAC;YACF,CAAC;QACF,CAAC;IACF,CAAC;IAEO,2BAA2B;QAClC,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC;YACzB,OAAO;QACR,CAAC;QAED,OAAO,WAAW,CACjB,IAAI,CAAC,aAAa,EAClB,8BAA8B,CAC9B,CAAC;IACH,CAAC;IAEO,KAAK,CAAC,YAAY,CAAC,cAAmC;QAC7D,IAAI,IAAI,CAAC,GAAG,EAAE,CAAC;YACd,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC;YAC1C,IAAI,QAAQ,EAAE,IAAI,IAAI,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;gBAC7C,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;oBACpB,SAAS,EAAE,IAAI,CAAC,KAAK,EAAE;oBACvB,OAAO,EAAE,QAAQ,CAAC,IAAI,CAAC,OAAO;oBAC9B,cAAc;iBACd,CAAC,CAAC;YACJ,CAAC;QACF,CAAC;IACF,CAAC;IAED,iBAAiB,CAAC,GAAoB;QACrC,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACf,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAC1B,CAAC;IAED,cAAc;IAEN,iBAAiB;QACxB,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;YACf,OAAO;QACR,CAAC;QAED,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,KAAK,IAAI,EAAE;YACzD,IAAI,CAAC,MAAM,CACV,IAAI,CAAC,aAAa,CAAC,OAAO;gBACzB,CAAC,CAAC,QAAQ,CAAC,IAAyB,EAAE,IAAoC,CAAC;gBAC3E,CAAC,CAAC,QAAQ,CAAC,IAAkB,EAAE,IAAoB,CAAC,CACrD,CAAC;YAEF,MAAM,qBAAqB,GAAG,KAAK,IAAI,EAAE;gBACxC,IAAI,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,gCAAgC,EAAE,CAAC;oBACxE,IAAI,CAAC;wBACJ,MAAM,IAAI,CAAC,GAAG,CAAC,iBAAiB,EAAE,CAAC;oBACpC,CAAC;oBAAC,OAAO,CAAC,EAAE,CAAC;wBACZ,kEAAkE;wBAClE,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;wBAClC,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,EAAE,CAAC,CAAC;oBAC1B,CAAC;gBACF,CAAC;gBAED,OAAO,SAAS,CAAC;YAClB,CAAC,CAAC;YAEF,uBAAuB;YACvB,IAAI,CAAC;gBACJ,MAAM,IAAI,CAAC,YAAY,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;YAClD,CAAC;oBAAS,CAAC;gBACV,MAAM,qBAAqB,EAAE,CAAC;gBAC9B,MAAM,IAAI,CAAC,YAAY,EAAE,CAAC;YAC3B,CAAC;QACF,CAAC,CAAC,CAAC,CAAC;QAGJ,MAAM,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QACrC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAEhF,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE;YAClD,WAAW,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC1C,IAAI,KAAK,CAAC,IAAI,CAAC,MAAM,KAAK,SAAS,EAAE,CAAC;gBACrC,sEAAsE;gBACtE,IAAI,CAAC,IAAI,CAAC,qBAAqB,EAAE,CAAC;oBACjC,IAAI,CAAC,qBAAqB,GAAG,IAAI,gBAAgB,CAAC,GAAG,EAAE;wBACtD,IAAI,CAAC,YAAY,EAAE,CAAC;oBACrB,CAAC,EAAE,GAAG,CAAC,CAAC;oBACR,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;gBACnD,CAAC;gBACD,IAAI,CAAC,IAAI,CAAC,qBAAqB,CAAC,WAAW,EAAE,EAAE,CAAC;oBAC/C,IAAI,CAAC,qBAAqB,CAAC,QAAQ,EAAE,CAAC;gBACvC,CAAC;YACF,CAAC;iBAAM,IAAI,KAAK,CAAC,IAAI,CAAC,MAAM,KAAK,QAAQ,EAAE,CAAC;gBAC3C,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBACjE,MAAM,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC;gBACnD,MAAM,aAAa,GAAG,SAAS,CAAC,aAAa,CAAC;gBAC9C,IAAI,CAAC,kBAAkB,CAAC,MAAM,EAAE,CAAC;gBACjC,IAAI,aAAa,IAAI,KAAK,CAAC,IAAI,CAAC,QAAQ,KAAK,aAAa,CAAC,QAAQ,EAAE,CAAC;oBACrE,6CAA6C;oBAC7C,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC,cAAc,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;gBACxG,CAAC;YACF,CAAC;QACF,CAAC,CAAC,CAAC,CAAC;QAEJ,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,qBAAqB,CAAC,KAAK,EAAC,KAAK,EAAC,EAAE;YAClE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAkB,EAAE,IAAoB,CAAC,CAAC,CAAC;YAChE,IAAI,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;gBACtC,MAAM,IAAI,CAAC,YAAY,CAAC,cAAc,CAAC,IAAI,EAAE,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YAClE,CAAC;iBAAM,IAAI,IAAI,CAAC,GAAG,EAAE,CAAC;gBACrB,MAAM,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,iBAAiB,EAAE,KAAK,EAAE,CAAC,CAAC;YACzD,CAAC;QACF,CAAC,CAAC,CAAC,CAAC;QAEJ,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,cAAc,CAAC,KAAK,EAAC,KAAK,EAAC,EAAE;YAC3D,MAAM,UAAU,GAAG,KAAK,CAAC,IAAI,CAAC,mBAAmB,KAAK,KAAK,CAAC;YAE5D,IAAI,eAA6C,CAAC;YAClD,IAAI,CAAC,UAAU,EAAE,CAAC;gBACjB,eAAe,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBACxC,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC;oBAClD,eAAe,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBACzC,CAAC;qBAAM,CAAC;oBACP,IAAI,CAAC,qBAAqB,EAAE,MAAM,EAAE,CAAC;oBACrC,eAAe,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACzE,CAAC;YACF,CAAC;iBAAM,IAAI,IAAI,CAAC,qBAAqB,EAAE,WAAW,EAAE,EAAE,CAAC;gBACtD,IAAI,CAAC,qBAAqB,CAAC,MAAM,EAAE,CAAC;gBACpC,eAAe,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAClE,CAAC;iBAAM,CAAC;gBACP,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC;YAClC,CAAC;YAED,WAAW,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YACnE,MAAM,WAAW,CAAC,GAAG,CAAC,eAAe,EAAE,QAAQ,CAAC,EAAE;gBACjD,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,QAAQ,KAAK,QAAQ,CAAC,CAAC;gBACjF,MAAM,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;gBAClD,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;gBACtC,MAAM,EAAE,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;gBACtC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;gBACvD,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;YAC1B,CAAC,CAAC,CAAC;YAEH,6GAA6G;YAC7G,IAAI,CAAC,qBAAqB,GAAG,UAAU,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC;YAC1E,IAAI,CAAC,kBAAkB,CAAC,QAAQ,EAAE,CAAC;YACnC,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,CAAC;QAC/B,CAAC,CAAC,CAAC,CAAC;QAEJ,MAAM,WAAW,GAAG,IAAI,KAAK,EAAQ,CAAC;QACtC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,KAAK,EAAC,KAAK,EAAC,EAAE;YACxD,MAAM,cAAc,GAAG,KAAK,CAAC,IAAI,CAAC,QAAQ,KAAK,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,KAAK,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC;YAEhJ,gGAAgG;YAChG,IAAI,KAAK,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC;gBACnC,MAAM,MAAM,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;oBACrD,UAAU,EAAE,KAAK,CAAC,IAAI,CAAC,IAAI;oBAC3B,MAAM,EAAE,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;oBACjD,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC;iBACzC,CAAC,CAAC,CAAC,SAAS,CAAC;gBACd,MAAM,SAAS,GAAG,IAAI,mBAAmB,CAAC,IAAI,EAAE,SAAS,EAAE,KAAK,CAAC,IAAI,CAAC,kBAAkB,EAAE,YAAY,EAAE,CAAC,CAAC;gBAC1G,MAAM,QAAQ,GAAG,SAAS,CAAC,WAAW,EAAE,CAAC;gBACzC,+FAA+F;gBAC/F,+EAA+E;gBAC/E,WAAW,CAAC,KAAK,CAAC,KAAK,IAAI,EAAE;oBAC5B,MAAM,QAAQ,GAAG,MAAM,QAAQ,CAAC;oBAChC,kEAAkE;oBAClE,kEAAkE;oBAClE,IAAI,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;wBAC3B,IAAI,CAAC,YAAY,CAAC,EAAE,MAAM,EAAE,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,UAAU,EAAE,QAAQ,CAAC,CAAC,CAAC,EAAE,GAAG,EAAE,cAAc,EAAE,MAAM,EAAE,EAAE,KAAK,CAAC,IAAI,CAAC,QAAQ,KAAK,WAAW,CAAC,CAAC;wBAC5I,OAAO;oBACR,CAAC;oBAED,QAAQ,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;wBAC1B,iIAAiI;wBACjI,mDAAmD;wBAC7C,KAAM,CAAC,IAAI,GAAG,IAAI,CAAC;wBACzB,IAAI,CAAC,YAAY,CAAC,EAAE,MAAM,EAAE,EAAE,EAAE,UAAU,EAAE,KAAK,EAAE,GAAG,EAAE,cAAc,EAAE,MAAM,EAAE,EAAE,KAAK,CAAC,IAAI,CAAC,QAAQ,KAAK,WAAW,CAAC,CAAC;oBACxH,CAAC,CAAC,CAAC;gBACJ,CAAC,CAAC,CAAC;gBACH,OAAO;YACR,CAAC;YACD,WAAW,CAAC,KAAK,CAAC,KAAK,IAAI,EAAE;gBAC5B,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;oBAC9B,OAAO;gBACR,CAAC;gBAED,IAAI,KAAK,CAAC,IAAI,CAAC,QAAQ,KAAK,WAAW,EAAE,CAAC;oBACzC,iGAAiG;oBACjG,kCAAkC;oBAClC,MAAM,iBAAiB,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,0BAA0B,EAAE,CAAC;oBACrE,IAAI,iBAAiB,IAAI,IAAI,CAAC,gBAAgB,CAAC,cAAc,gCAAwB,EAAE,CAAC;wBACvF,kIAAkI;wBAClI,IAAI,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;wBAC3B,IAAI,CAAC,iBAAiB,CAAC,kBAAkB,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;4BAC9D,IAAI,GAAG,6BAA6B,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBACvD,CAAC;wBAED,IAAI,CAAC,8BAA8B,CAAC,SAAS,CAAC,iBAAiB,EAAE,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;oBAC3F,CAAC;oBAED,OAAO;gBACR,CAAC;gBAED,kGAAkG;gBAClG,MAAM,MAAM,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;oBACrD,UAAU,EAAE,KAAK,CAAC,IAAI,CAAC,IAAI;oBAC3B,MAAM,EAAE,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;oBACjD,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC;iBACzC,CAAC,CAAC,CAAC,SAAS,CAAC;gBAEd,IAAI,KAAK,CAAC,IAAI,CAAC,KAAK,KAAK,OAAO,IAAI,KAAK,CAAC,IAAI,CAAC,KAAK,KAAK,gBAAgB,EAAE,CAAC;oBAC3E,MAAM,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,KAAK,OAAO,CAAC;oBAC9C,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,KAAK,CAAC,IAAI,CAAC,MAAM,IAAI,EAAE,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAC;oBACtE,OAAO;gBACR,CAAC;gBACD,IAAI,KAAK,CAAC,IAAI,CAAC,KAAK,KAAK,KAAK,EAAE,CAAC;oBAChC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;oBACrB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;wBACxB,qEAAqE;wBACrE,OAAO;oBACR,CAAC;gBACF,CAAC;gBAED,IAAI,OAAO,KAAK,CAAC,IAAI,CAAC,MAAM,KAAK,QAAQ,EAAE,CAAC;oBAC3C,IAAI,CAAC,YAAY,CAAC,EAAE,MAAM,EAAE,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,cAAc,EAAE,MAAM,EAAE,EAAE,KAAK,CAAC,IAAI,CAAC,QAAQ,KAAK,WAAW,CAAC,CAAC;gBACpH,CAAC;YACF,CAAC,CAAC,CAAC;QACJ,CAAC,CAAC,CAAC,CAAC;QAEJ,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,KAAK,CAAC,EAAE;YACtD,MAAM,EAAE,GAAG,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;YACtF,MAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,KAAK,EAAE,CAAC,CAAC;YACpG,MAAM,kBAAkB,GAAG,IAAI,CAAC,KAAK,CAAC,sBAAsB,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,KAAK,EAAE,CAAC,CAAC;YACpH,MAAM,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,kBAAkB,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,KAAK,EAAE,CAAC,CAAC;YAC9G,MAAM,mBAAmB,GAAG,IAAI,CAAC,KAAK,CAAC,uBAAuB,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,KAAK,EAAE,CAAC,CAAC;YAE5H,IAAI,KAAK,CAAC,IAAI,CAAC,MAAM,KAAK,KAAK,IAAI,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,IAAI,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;gBAC/F,MAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;gBAC5D,MAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC;wBAClD,MAAM,EAAE,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM;wBACpC,OAAO,EAAE,IAAI;wBACb,UAAU,EAAE,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI;qBACtC,CAAC,EAAE,KAAK,CAAC,CAAC;gBACX,IAAI,GAAG,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;oBACtB,MAAM,IAAI,GAAG,IAAI,GAAG,CAAmC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,EAAE,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;oBAClG,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,IAAI,CAAC,KAAK,EAAE,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;gBAC5E,CAAC;YACF,CAAC;YAED,IAAI,KAAK,CAAC,IAAI,CAAC,MAAM,KAAK,SAAS,EAAE,CAAC;gBACrC,IAAI,UAAU,EAAE,CAAC;oBAChB,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;gBAC5C,CAAC;gBACD,IAAI,kBAAkB,EAAE,CAAC;oBACxB,IAAI,CAAC,KAAK,CAAC,yBAAyB,CAAC,kBAAkB,CAAC,KAAK,EAAE,CAAC,CAAC;gBAClE,CAAC;gBACD,IAAI,cAAc,EAAE,CAAC;oBACpB,IAAI,CAAC,KAAK,CAAC,qBAAqB,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC,CAAC;gBAC1D,CAAC;YACF,CAAC;YAED,IAAI,KAAK,CAAC,IAAI,CAAC,MAAM,KAAK,SAAS,EAAE,CAAC;gBACrC,IAAI,UAAU,EAAE,CAAC;oBAChB,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;wBACxB,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,SAAS,CAAC;oBAC1C,CAAC;oBACD,MAAM,IAAI,GAAG,IAAI,GAAG,CAAmC,CAAC,CAAC,UAAU,CAAC,KAAK,EAAE,EAAE,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;oBACtG,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,IAAI,CAAC,KAAK,EAAE,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;gBAC5E,CAAC;gBACD,IAAI,kBAAkB,EAAE,CAAC;oBACxB,MAAM,IAAI,GAAG,IAAI,GAAG,CAAmC,CAAC,CAAC,kBAAkB,CAAC,KAAK,EAAE,EAAE,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;oBAC9G,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,IAAI,CAAC,KAAK,EAAE,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;gBAC5E,CAAC;gBACD,IAAI,cAAc,EAAE,CAAC;oBACpB,MAAM,IAAI,GAAG,IAAI,GAAG,CAAmC,CAAC,CAAC,cAAc,CAAC,KAAK,EAAE,EAAE,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;oBAC1G,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,IAAI,CAAC,KAAK,EAAE,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;gBAC5E,CAAC;gBACD,IAAI,mBAAmB,EAAE,CAAC;oBACzB,MAAM,IAAI,GAAG,IAAI,GAAG,CAAmC,CAAC,CAAC,mBAAmB,CAAC,KAAK,EAAE,EAAE,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;oBAC/G,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,IAAI,CAAC,KAAK,EAAE,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;gBAC5E,CAAC;YACF,CAAC;QACF,CAAC,CAAC,CAAC,CAAC;QAEJ,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,iBAAiB,CAAC,KAAK,CAAC,EAAE;YACxD,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC;gBAC5B,MAAM,EAAE,KAAK,CAAC,IAAI,CAAC,MAAM;gBACzB,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC;aACzC,CAAC,CAAC;QACJ,CAAC,CAAC,CAAC,CAAC;QAEJ,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,KAAK,CAAC,EAAE;YACvD,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC,CAAC;QAEJ,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,kBAAkB,CAAC,KAAK,CAAC,EAAE;YACzD,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACtC,CAAC,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,mBAAmB,CAAC,KAAK,CAAC,EAAE;YAC1D,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACvC,CAAC,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,KAAK,CAAC,EAAE;YACvD,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,qBAAqB,CAAC,KAAK,CAAC,EAAE;YAC5D,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACtC,CAAC,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,KAAK,EAAC,KAAK,EAAC,EAAE;YAC7D,MAAM,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC,CAAC;YAC1C,wJAAwJ;YACxJ,IAAI,KAAK,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,CAAC;gBACpF,IAAI,CAAC,iBAAiB,EAAE,CAAC;gBACzB,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,EAAE,EAAE,IAAI,CAAC,CAAC;gBAE5C,MAAM,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC;gBACpC,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC;gBAC/B,MAAM,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACzD,CAAC;YAED,MAAM,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC;YACnD,IAAI,SAAS,CAAC,cAAc,KAAK,IAAI,EAAE,CAAC;gBACvC,SAAS,CAAC,WAAW,EAAE,CAAC;YACzB,CAAC;QACF,CAAC,CAAC,CAAC,CAAC;QAEJ,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;IACzF,CAAC;IAEO,KAAK,CAAC,UAAU,CAAC,KAAyB;QACjD,IAAI,CAAC,kBAAkB,CAAC,MAAM,EAAE,CAAC;QACjC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAEhC,wEAAwE;QACxE,uEAAuE;QACvE,WAAW;QACX,IAAI,KAAK,CAAC,gBAAgB,EAAE,CAAC;YAC5B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,0BAA0B,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;QAC9E,CAAC;QAED,IAAI,CAAC,WAAW,CAAC,GAAG,CACnB,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC,QAAQ,KAAK,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,EACrG,KAAK,EAAE,QAAQ,EAAE,KAAK,EAAE,EAAE;YACzB,MAAM,gBAAgB,GAAG,KAAK,CAAC,QAAQ,KAAK,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,EAAE,CAAC;YAEpF,qFAAqF;YACrF,MAAM,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC,aAAa,CAAC;YACrE,MAAM,yBAAyB,GAAG,aAAa,KAAK,SAAS,IAAI,aAAa,CAAC,OAAO,KAAK,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YAC7I,IAAI,yBAAyB,EAAE,CAAC;gBAC/B,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;YACzD,CAAC;YAED,MAAM,MAAM,GAAG,OAAO,QAAQ,KAAK,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;YACnF,IAAI,MAAM,EAAE,CAAC;gBACZ,0EAA0E;gBAC1E,8EAA8E;gBAC9E,8EAA8E;gBAC9E,MAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,qBAAqB,CAAS,MAAM,EAAE,qBAAqB,CAAA,CAAC,gBAAgB,CAAC,CAAC;gBAC1G,MAAM,KAAK,GAAG,KAAK,IAAI,EAAE;oBACxB,IAAI,yBAAyB,IAAI,CAAC,CAAC,KAAK,CAAC,iBAAiB,IAAI,MAAM,CAAC,YAAY,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC;wBAC7F,MAAM,iBAAiB,GAAG,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC,iBAAiB,CAAC;wBAC7E,IAAI,CAAC,iBAAiB,IAAI,iBAAiB,CAAC,MAAM,CAAC,OAAO,KAAK,IAAI,EAAE,CAAC;4BACrE,2FAA2F;4BAC3F,MAAM,aAAa,GAAG,CAAC,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAsB,OAAO,CAAC,CAAC,kBAAkB,CAAC;4BAC3G,MAAM,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,SAAS,EAAE,MAAM,EAAE,SAAS,EAAE,EAAE,aAAa,EAAE,CAAC,CAAC;wBAC1F,CAAC;wBAED,IAAI,MAAM,CAAC,cAAc,IAAI,CAAC,KAAK,CAAC,uBAAuB,EAAE,CAAC;4BAC7D,IAAI,MAAM,CAAC,cAAc,CAAC,MAAM,KAAK,YAAY,IAAI,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAsB,OAAO,CAAC,CAAC,SAAS,KAAK,kBAAkB,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE,CAAC;gCACnL,MAAM,IAAI,CAAC,oBAAoB,CAAC,iBAAiB,CAAC,UAAU,wCAAgC,CAAC;4BAC9F,CAAC;4BAED,IAAI,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAsB,OAAO,CAAC,CAAC,kBAAkB,IAAI,CAAC,IAAI,CAAC,2BAA2B,CAAC,yBAAyB,EAAE,CAAC;gCACxJ,MAAM,YAAY,GAAG,eAAe,EAAE,CAAC;gCACvC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,CAAC;oCACvC,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,UAAU,EAAE,EAAE,IAAI,yBAAiB,CAAC,mCAAmC,EAAE,CAAC,CAAC;gCACzG,CAAC;4BACF,CAAC;wBACF,CAAC;oBACF,CAAC;gBACF,CAAC,CAAC;gBAEF,MAAM,QAAQ,CAAC,YAAY,CAAC;gBAE5B,IAAI,CAAC,KAAK,CAAC,gBAAgB,EAAE,CAAC,CAAC,8DAA8D;oBAC5F,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,0BAA0B,CAAC,MAAM,CAAC,CAAC;gBAC9D,CAAC;gBAED,IAAI,KAAK,CAAC,uBAAuB,EAAE,CAAC;oBACnC,OAAO;gBACR,CAAC;gBAED,KAAK,EAAE,CAAC;gBAER,MAAM,QAAQ,CAAC,cAAc,CAAC;gBAC9B,IAAI,KAAK,CAAC,uBAAuB,EAAE,CAAC;oBACnC,OAAO;gBACR,CAAC;gBAED,MAAM,iBAAiB,GAAG,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC,iBAAiB,CAAC;gBAC7E,IAAI,CAAC,iBAAiB,IAAI,mBAAmB,CAAC,iBAAiB,CAAC,EAAE,CAAC;oBAClE,uEAAuE;oBACvE,KAAK,EAAE,CAAC;gBACT,CAAC;YACF,CAAC;YACD,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,CAAC;QAC/B,CAAC,CACD,CAAC;IACH,CAAC;IAEO,KAAK,CAAC,0BAA0B,CAAC,wBAA2C;QACnF,IAAI,WAA0B,CAAC;QAC/B,IAAI,KAAK,CAAC,OAAO,CAAC,wBAAwB,CAAC,EAAE,CAAC;YAC7C,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,cAAc,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC,wBAAwB,CAAC,QAAQ,CAAC,EAAE,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,CAAE,CAAC,CAAC,CAAC;QAC1H,CAAC;aAAM,CAAC;YACP,MAAM,KAAK,GAAG,wBAAwB,CAAC,gBAAgB,EAAE,CAAC;YAC1D,IAAI,KAAK,KAAK,SAAS,EAAE,CAAC;gBACzB,OAAO;YACR,CAAC;YAED,IAAI,wBAAwB,CAAC,cAAc,IAAI,wBAAwB,CAAC,cAAc,CAAC,MAAM,KAAK,YAAY,EAAE,CAAC;gBAChH,OAAO;YACR,CAAC;YAED,WAAW,GAAG,IAAI,CAAC,wBAAwB,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,KAAK,CAAC,eAAe,EAAE,KAAK,CAAC,KAAK,CAAC,aAAa,EAAE,KAAK,CAAC,KAAK,CAAC,WAAW,EAAE,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;QACvK,CAAC;QAED,+BAA+B;QAE/B,qGAAqG;QACrG,MAAM,YAAY,GAAG,IAAI,GAAG,EAAU,CAAC;QACvC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,EAAE,aAAa,EAAE,IAAI,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE;YAClF,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;gBACzB,IAAI,EAAE,CAAC,OAAO,IAAI,EAAE,CAAC,WAAW,KAAK,GAAG,CAAC,KAAK,EAAE,EAAE,CAAC;oBAClD,EAAE,CAAC,oBAAoB,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;oBACtC,YAAY,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;gBACrC,CAAC;YACF,CAAC,CAAC,CAAC;QACJ,CAAC,CAAC,CAAC;QAEH,MAAM,OAAO,GAAmB,EAAE,CAAC;QACnC,YAAY,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;QAChH,OAAO,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;IAC7B,CAAC;IAEO,wBAAwB,CAAC,GAAQ,EAAE,eAAuB,EAAE,aAAqB,EAAE,WAAmB,EAAE,SAAiB;QAChI,OAAO,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE;YAC1D,IAAI,EAAE,CAAC,UAAU,GAAG,eAAe,IAAI,EAAE,CAAC,UAAU,GAAG,aAAa,EAAE,CAAC;gBACtE,OAAO,KAAK,CAAC;YACd,CAAC;YAED,IAAI,EAAE,CAAC,MAAM,IAAI,CAAC,EAAE,CAAC,MAAM,GAAG,WAAW,IAAI,EAAE,CAAC,MAAM,GAAG,SAAS,CAAC,EAAE,CAAC;gBACrE,OAAO,KAAK,CAAC;YACd,CAAC;YACD,OAAO,IAAI,CAAC;QACb,CAAC,CAAC,CAAC;IACJ,CAAC;IAEO,gBAAgB,CAAC,KAAuB;QAC/C,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,IAAI,CAAC,KAAK,EAAE,EAAE,IAAI,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;QAChF,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACnC,CAAC;IAED,uFAAuF;IAC/E,QAAQ;QACf,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;QAC1B,IAAI,IAAI,CAAC,GAAG,EAAE,CAAC;YACd,gFAAgF;YAChF,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;YACxB,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC;YACnB,IAAI,CAAC,GAAG,GAAG,SAAS,CAAC;QACtB,CAAC;QACD,IAAI,CAAC,qBAAqB,EAAE,OAAO,EAAE,CAAC;QACtC,IAAI,CAAC,qBAAqB,GAAG,SAAS,CAAC;QACvC,IAAI,CAAC,kBAAkB,CAAC,MAAM,EAAE,CAAC;QACjC,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,CAAC;QAClC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,EAAE,EAAE,IAAI,CAAC,CAAC;QAC5C,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,CAAC;IAC/B,CAAC;IAEM,OAAO;QACb,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,CAAC;QAC5B,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,CAAC;IAClC,CAAC;IAED,cAAc;IAEd,eAAe,CAAC,GAAQ;QACvB,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;IACjF,CAAC;IAED,SAAS,CAAC,GAA0B;QACnC,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,EAAE,EAAE,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QACrF,MAAM,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC;QACrC,MAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACvC,IAAI,KAAK,EAAE,CAAC;YACX,MAAM,GAAG,KAAK,CAAC;YACf,wCAAwC;YACxC,MAAM,CAAC,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;YACpC,IAAI,MAAM,CAAC,GAAG,IAAI,GAAG,EAAE,CAAC;gBACvB,+DAA+D;gBAC/D,MAAM,CAAC,GAAG,CAAC,gBAAgB,GAAG,GAAG,CAAC,gBAAgB,CAAC;YACpD,CAAC;QACF,CAAC;aAAM,CAAC;YACP,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QAClC,CAAC;QAED,OAAO,MAAM,CAAC;IACf,CAAC;IAEO,YAAY,CAAC,GAAQ;QAC5B,MAAM,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;QACzC,IAAI,MAAM,EAAE,CAAC;YACZ,OAAO,MAAM,CAAC,GAAG,CAAC;QACnB,CAAC;aAAM,CAAC;YACP,MAAM,IAAI,GAAG,MAAM,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC;YAC7C,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,eAAe,EAAE,IAAI,CAAC,eAAe,EAAE,CAAC;QACpF,CAAC;IACF,CAAC;IAEO,uBAAuB,CAAC,QAAgB,EAAE,KAAyB;QAC1E,MAAM,WAAW,GAAG,IAAI,uBAAuB,CAAC,KAAK,CAAC,CAAC;QACvD,MAAM,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;QACxD,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QACzB,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QAE3C,OAAO,WAAW,CAAC,KAAK,CAAC;IAC1B,CAAC;IAEO,iBAAiB;QACxB,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QAC7E,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;IAC9B,CAAC;IAED,OAAO;IAEP,eAAe;QACd,OAAO,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC;IACpC,CAAC;IAED,eAAe;QACd,OAAO,CAAC,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,KAAK,iBAAiB,CAAC;IACxE,CAAC;IAED,qBAAqB;QACpB,IAAI,CAAC,IAAI,CAAC,qBAAqB,EAAE,CAAC;IACnC,CAAC;IAED,KAAK,CAAC,iBAAiB,CAAC,UAAmC,EAAE,UAAkB;QAC9E,MAAM,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,UAAU,EAAE,UAAU,CAAC,CAAC;QAChE,0GAA0G;QAC1G,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,CAAC,WAAW,EAAE,CAAC;IAChD,CAAC;IAED,YAAY,CAAC,IAAyB,EAAE,WAAqB;QAC5D,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACnC,IAAI,WAAW,EAAE,CAAC;YACjB,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;QAC7G,CAAC;IACF,CAAC;CACD,CAAA;AAx/CY,YAAY;IAsDtB,WAAA,aAAa,CAAA;IACb,WAAA,iBAAiB,CAAA;IACjB,WAAA,YAAY,CAAA;IACZ,WAAA,qBAAqB,CAAA;IACrB,WAAA,yBAAyB,CAAA;IACzB,YAAA,wBAAwB,CAAA;IACxB,YAAA,eAAe,CAAA;IACf,YAAA,oBAAoB,CAAA;IACpB,YAAA,iBAAiB,CAAA;IACjB,YAAA,mBAAmB,CAAA;IACnB,YAAA,qBAAqB,CAAA;IACrB,YAAA,+BAA+B,CAAA;IAC/B,YAAA,4BAA4B,CAAA;IAC5B,YAAA,WAAW,CAAA;IACX,YAAA,YAAY,CAAA;IACZ,YAAA,kBAAkB,CAAA;IAClB,YAAA,qBAAqB,CAAA;GAtEX,YAAY,CAw/CxB;;AAED;;;;;;;;;;;;GAYG;AACH,MAAM,OAAO,qBAAsB,SAAQ,UAAU;IAArD;;QACC;;;;;;WAMG;QACK,yBAAoB,GAA8B,EAAE,CAAC;QAE7D;;WAEG;QACc,cAAS,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,aAAa,EAAmC,CAAC,CAAC;IAgEnG,CAAC;IA9DA;;;OAGG;IACI,KAAK,CAAC,GAAG,CAAC,UAAwC,EAAE,SAAwE;QAClI,MAAM,8BAA8B,GAAG,IAAI,GAAG,EAAsB,CAAC;QACrE,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,8BAA8B,CAAC,CAAC;QAC/D,MAAM,SAAS,GAAG,MAAM,UAAU,CAAC;QAEnC,+BAA+B;QAC/B,iCAAiC;QACjC,qEAAqE;QACrE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,oBAAoB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YAC3D,MAAM,CAAC,GAAG,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;YACvC,IAAI,CAAC,KAAK,8BAA8B,EAAE,CAAC;gBAC1C,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBACvC,MAAM;YACP,CAAC;iBAAM,CAAC;gBACP,KAAK,MAAM,QAAQ,IAAI,SAAS,EAAE,CAAC;oBAClC,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;gBACjB,CAAC;YACF,CAAC;QACF,CAAC;QAED,IAAI,8BAA8B,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,CAAC;YACnD,OAAO;QACR,CAAC;QAED,MAAM,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE;YAC1C,IAAI,8BAA8B,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,CAAC;gBAClD,OAAO;YACR,CAAC;YACD,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,MAAM,EAAE,CAAC;YACvC,MAAM,GAAG,GAAG,IAAI,uBAAuB,EAAE,CAAC;YAC1C,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;YAClC,OAAO,SAAS,CAAC,QAAQ,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;QACvC,CAAC,CAAC,CAAC,CAAC;IACL,CAAC;IAED;;;OAGG;IACI,MAAM,CAAC,SAA6B;QAC1C,IAAI,CAAC,SAAS,EAAE,CAAC;YAChB,KAAK,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC;gBACtC,EAAE,CAAC,MAAM,EAAE,CAAC;YACb,CAAC;YACD,IAAI,CAAC,SAAS,CAAC,kBAAkB,EAAE,CAAC;YACpC,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,oBAAoB,EAAE,CAAC;gBAC3C,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;YAClB,CAAC;QACF,CAAC;aAAM,CAAC;YACP,KAAK,MAAM,QAAQ,IAAI,SAAS,EAAE,CAAC;gBAClC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,MAAM,EAAE,CAAC;gBACvC,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC;gBAC1C,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,oBAAoB,EAAE,CAAC;oBAC3C,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;gBACjB,CAAC;YACF,CAAC;QACF,CAAC;IACF,CAAC;CACD","file":"debugSession.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { getActiveWindow } from '../../../../base/browser/dom.js';\nimport * as aria from '../../../../base/browser/ui/aria/aria.js';\nimport { mainWindow } from '../../../../base/browser/window.js';\nimport { distinct } from '../../../../base/common/arrays.js';\nimport { Queue, RunOnceScheduler, raceTimeout } from '../../../../base/common/async.js';\nimport { CancellationToken, CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { canceled } from '../../../../base/common/errors.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { normalizeDriveLetter } from '../../../../base/common/labels.js';\nimport { Disposable, DisposableMap, DisposableStore, MutableDisposable, dispose } from '../../../../base/common/lifecycle.js';\nimport { mixin } from '../../../../base/common/objects.js';\nimport * as platform from '../../../../base/common/platform.js';\nimport * as resources from '../../../../base/common/resources.js';\nimport Severity from '../../../../base/common/severity.js';\nimport { isDefined } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { generateUuid } from '../../../../base/common/uuid.js';\nimport { IPosition, Position } from '../../../../editor/common/core/position.js';\nimport { localize } from '../../../../nls.js';\nimport { IAccessibilityService } from '../../../../platform/accessibility/common/accessibility.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\nimport { FocusMode } from '../../../../platform/native/common/native.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nimport { IProductService } from '../../../../platform/product/common/productService.js';\nimport { ICustomEndpointTelemetryService, ITelemetryService, TelemetryLevel } from '../../../../platform/telemetry/common/telemetry.js';\nimport { IUriIdentityService } from '../../../../platform/uriIdentity/common/uriIdentity.js';\nimport { IWorkspaceContextService, IWorkspaceFolder } from '../../../../platform/workspace/common/workspace.js';\nimport { ViewContainerLocation } from '../../../common/views.js';\nimport { IWorkbenchEnvironmentService } from '../../../services/environment/common/environmentService.js';\nimport { IHostService } from '../../../services/host/browser/host.js';\nimport { ILifecycleService } from '../../../services/lifecycle/common/lifecycle.js';\nimport { IPaneCompositePartService } from '../../../services/panecomposite/browser/panecomposite.js';\nimport { LiveTestResult } from '../../testing/common/testResult.js';\nimport { ITestResultService } from '../../testing/common/testResultService.js';\nimport { ITestService } from '../../testing/common/testService.js';\nimport { AdapterEndEvent, IBreakpoint, IConfig, IDataBreakpoint, IDataBreakpointInfoResponse, IDebugConfiguration, IDebugLocationReferenced, IDebugService, IDebugSession, IDebugSessionOptions, IDebugger, IExceptionBreakpoint, IExceptionInfo, IFunctionBreakpoint, IInstructionBreakpoint, IMemoryRegion, IRawModelUpdate, IRawStoppedDetails, IReplElement, IStackFrame, IThread, LoadedSourceEvent, State, VIEWLET_ID, isFrameDeemphasized } from '../common/debug.js';\nimport { DebugCompoundRoot } from '../common/debugCompoundRoot.js';\nimport { DebugModel, ExpressionContainer, MemoryRegion, Thread } from '../common/debugModel.js';\nimport { Source } from '../common/debugSource.js';\nimport { filterExceptionsFromTelemetry } from '../common/debugUtils.js';\nimport { INewReplElementData, ReplModel } from '../common/replModel.js';\nimport { RawDebugSession } from './rawDebugSession.js';\n\nconst TRIGGERED_BREAKPOINT_MAX_DELAY = 1500;\n\nexport class DebugSession implements IDebugSession {\n\tparentSession: IDebugSession | undefined;\n\trememberedCapabilities?: DebugProtocol.Capabilities;\n\n\tprivate _subId: string | undefined;\n\traw: RawDebugSession | undefined; // used in tests\n\tprivate initialized = false;\n\tprivate _options: IDebugSessionOptions;\n\n\tprivate sources = new Map<string, Source>();\n\tprivate threads = new Map<number, Thread>();\n\tprivate threadIds: number[] = [];\n\tprivate cancellationMap = new Map<number, CancellationTokenSource[]>();\n\tprivate readonly rawListeners = new DisposableStore();\n\tprivate readonly globalDisposables = new DisposableStore();\n\tprivate fetchThreadsScheduler: RunOnceScheduler | undefined;\n\tprivate passFocusScheduler: RunOnceScheduler;\n\tprivate lastContinuedThreadId: number | undefined;\n\tprivate repl: ReplModel;\n\tprivate stoppedDetails: IRawStoppedDetails[] = [];\n\tprivate readonly statusQueue = this.rawListeners.add(new ThreadStatusScheduler());\n\n\t/** Test run this debug session was spawned by */\n\tpublic readonly correlatedTestRun?: LiveTestResult;\n\t/** Whether we terminated the correlated run yet. Used so a 2nd terminate request goes through to the underlying session. */\n\tprivate didTerminateTestRun?: boolean;\n\n\tprivate readonly _onDidChangeState = new Emitter<void>();\n\tprivate readonly _onDidEndAdapter = new Emitter<AdapterEndEvent | undefined>();\n\n\tprivate readonly _onDidLoadedSource = new Emitter<LoadedSourceEvent>();\n\tprivate readonly _onDidCustomEvent = new Emitter<DebugProtocol.Event>();\n\tprivate readonly _onDidProgressStart = new Emitter<DebugProtocol.ProgressStartEvent>();\n\tprivate readonly _onDidProgressUpdate = new Emitter<DebugProtocol.ProgressUpdateEvent>();\n\tprivate readonly _onDidProgressEnd = new Emitter<DebugProtocol.ProgressEndEvent>();\n\tprivate readonly _onDidInvalidMemory = new Emitter<DebugProtocol.MemoryEvent>();\n\n\tprivate readonly _onDidChangeREPLElements = new Emitter<IReplElement | undefined>();\n\n\tprivate _name: string | undefined;\n\tprivate readonly _onDidChangeName = new Emitter<string>();\n\n\t/**\n\t * Promise set while enabling dependent breakpoints to block the debugger\n\t * from continuing from a stopped state.\n\t */\n\tprivate _waitToResume?: Promise<unknown>;\n\n\tconstructor(\n\t\tprivate id: string,\n\t\tprivate _configuration: { resolved: IConfig; unresolved: IConfig | undefined },\n\t\tpublic root: IWorkspaceFolder | undefined,\n\t\tprivate model: DebugModel,\n\t\toptions: IDebugSessionOptions | undefined,\n\t\t@IDebugService private readonly debugService: IDebugService,\n\t\t@ITelemetryService private readonly telemetryService: ITelemetryService,\n\t\t@IHostService private readonly hostService: IHostService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@IPaneCompositePartService private readonly paneCompositeService: IPaneCompositePartService,\n\t\t@IWorkspaceContextService private readonly workspaceContextService: IWorkspaceContextService,\n\t\t@IProductService private readonly productService: IProductService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@ILifecycleService lifecycleService: ILifecycleService,\n\t\t@IUriIdentityService private readonly uriIdentityService: IUriIdentityService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@ICustomEndpointTelemetryService private readonly customEndpointTelemetryService: ICustomEndpointTelemetryService,\n\t\t@IWorkbenchEnvironmentService private readonly workbenchEnvironmentService: IWorkbenchEnvironmentService,\n\t\t@ILogService private readonly logService: ILogService,\n\t\t@ITestService private readonly testService: ITestService,\n\t\t@ITestResultService testResultService: ITestResultService,\n\t\t@IAccessibilityService private readonly accessibilityService: IAccessibilityService,\n\t) {\n\t\tthis._options = options || {};\n\t\tthis.parentSession = this._options.parentSession;\n\t\tif (this.hasSeparateRepl()) {\n\t\t\tthis.repl = new ReplModel(this.configurationService);\n\t\t} else {\n\t\t\tthis.repl = (this.parentSession as DebugSession).repl;\n\t\t}\n\n\t\tconst toDispose = this.globalDisposables;\n\t\tconst replListener = toDispose.add(new MutableDisposable());\n\t\treplListener.value = this.repl.onDidChangeElements((e) => this._onDidChangeREPLElements.fire(e));\n\t\tif (lifecycleService) {\n\t\t\ttoDispose.add(lifecycleService.onWillShutdown(() => {\n\t\t\t\tthis.shutdown();\n\t\t\t\tdispose(toDispose);\n\t\t\t}));\n\t\t}\n\n\t\t// Cast here, it's not possible to reference a hydrated result in this code path.\n\t\tthis.correlatedTestRun = options?.testRun\n\t\t\t? (testResultService.getResult(options.testRun.runId) as LiveTestResult)\n\t\t\t: this.parentSession?.correlatedTestRun;\n\n\t\tif (this.correlatedTestRun) {\n\t\t\t// Listen to the test completing because the user might have taken the cancel action rather than stopping the session.\n\t\t\ttoDispose.add(this.correlatedTestRun.onComplete(() => this.terminate()));\n\t\t}\n\n\t\tconst compoundRoot = this._options.compoundRoot;\n\t\tif (compoundRoot) {\n\t\t\ttoDispose.add(compoundRoot.onDidSessionStop(() => this.terminate()));\n\t\t}\n\t\tthis.passFocusScheduler = new RunOnceScheduler(() => {\n\t\t\t// If there is some session or thread that is stopped pass focus to it\n\t\t\tif (this.debugService.getModel().getSessions().some(s => s.state === State.Stopped) || this.getAllThreads().some(t => t.stopped)) {\n\t\t\t\tif (typeof this.lastContinuedThreadId === 'number') {\n\t\t\t\t\tconst thread = this.debugService.getViewModel().focusedThread;\n\t\t\t\t\tif (thread && thread.threadId === this.lastContinuedThreadId && !thread.stopped) {\n\t\t\t\t\t\tconst toFocusThreadId = this.getStoppedDetails()?.threadId;\n\t\t\t\t\t\tconst toFocusThread = typeof toFocusThreadId === 'number' ? this.getThread(toFocusThreadId) : undefined;\n\t\t\t\t\t\tthis.debugService.focusStackFrame(undefined, toFocusThread);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst session = this.debugService.getViewModel().focusedSession;\n\t\t\t\t\tif (session && session.getId() === this.getId() && session.state !== State.Stopped) {\n\t\t\t\t\t\tthis.debugService.focusStackFrame(undefined);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, 800);\n\n\t\tconst parent = this._options.parentSession;\n\t\tif (parent) {\n\t\t\ttoDispose.add(parent.onDidEndAdapter(() => {\n\t\t\t\t// copy the parent repl and get a new detached repl for this child, and\n\t\t\t\t// remove its parent, if it's still running\n\t\t\t\tif (!this.hasSeparateRepl() && this.raw?.isInShutdown === false) {\n\t\t\t\t\tthis.repl = this.repl.clone();\n\t\t\t\t\treplListener.value = this.repl.onDidChangeElements((e) => this._onDidChangeREPLElements.fire(e));\n\t\t\t\t\tthis.parentSession = undefined;\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t}\n\n\tgetId(): string {\n\t\treturn this.id;\n\t}\n\n\tsetSubId(subId: string | undefined) {\n\t\tthis._subId = subId;\n\t}\n\n\tgetMemory(memoryReference: string): IMemoryRegion {\n\t\treturn new MemoryRegion(memoryReference, this);\n\t}\n\n\tget subId(): string | undefined {\n\t\treturn this._subId;\n\t}\n\n\tget configuration(): IConfig {\n\t\treturn this._configuration.resolved;\n\t}\n\n\tget unresolvedConfiguration(): IConfig | undefined {\n\t\treturn this._configuration.unresolved;\n\t}\n\n\tget lifecycleManagedByParent(): boolean {\n\t\treturn !!this._options.lifecycleManagedByParent;\n\t}\n\n\tget compact(): boolean {\n\t\treturn !!this._options.compact;\n\t}\n\n\tget saveBeforeRestart(): boolean {\n\t\treturn this._options.saveBeforeRestart ?? !this._options?.parentSession;\n\t}\n\n\tget compoundRoot(): DebugCompoundRoot | undefined {\n\t\treturn this._options.compoundRoot;\n\t}\n\n\tget suppressDebugStatusbar(): boolean {\n\t\treturn this._options.suppressDebugStatusbar ?? false;\n\t}\n\n\tget suppressDebugToolbar(): boolean {\n\t\treturn this._options.suppressDebugToolbar ?? false;\n\t}\n\n\tget suppressDebugView(): boolean {\n\t\treturn this._options.suppressDebugView ?? false;\n\t}\n\n\n\tget autoExpandLazyVariables(): boolean {\n\t\t// This tiny helper avoids converting the entire debug model to use service injection\n\t\tconst screenReaderOptimized = this.accessibilityService.isScreenReaderOptimized();\n\t\tconst value = this.configurationService.getValue<IDebugConfiguration>('debug').autoExpandLazyVariables;\n\t\treturn value === 'auto' && screenReaderOptimized || value === 'on';\n\t}\n\n\tsetConfiguration(configuration: { resolved: IConfig; unresolved: IConfig | undefined }) {\n\t\tthis._configuration = configuration;\n\t}\n\n\tgetLabel(): string {\n\t\tconst includeRoot = this.workspaceContextService.getWorkspace().folders.length > 1;\n\t\treturn includeRoot && this.root ? `${this.name} (${resources.basenameOrAuthority(this.root.uri)})` : this.name;\n\t}\n\n\tsetName(name: string): void {\n\t\tthis._name = name;\n\t\tthis._onDidChangeName.fire(name);\n\t}\n\n\tget name(): string {\n\t\treturn this._name || this.configuration.name;\n\t}\n\n\tget state(): State {\n\t\tif (!this.initialized) {\n\t\t\treturn State.Initializing;\n\t\t}\n\t\tif (!this.raw) {\n\t\t\treturn State.Inactive;\n\t\t}\n\n\t\tconst focusedThread = this.debugService.getViewModel().focusedThread;\n\t\tif (focusedThread && focusedThread.session === this) {\n\t\t\treturn focusedThread.stopped ? State.Stopped : State.Running;\n\t\t}\n\t\tif (this.getAllThreads().some(t => t.stopped)) {\n\t\t\treturn State.Stopped;\n\t\t}\n\n\t\treturn State.Running;\n\t}\n\n\tget capabilities(): DebugProtocol.Capabilities {\n\t\treturn this.raw ? this.raw.capabilities : Object.create(null);\n\t}\n\n\t//---- events\n\tget onDidChangeState(): Event<void> {\n\t\treturn this._onDidChangeState.event;\n\t}\n\n\tget onDidEndAdapter(): Event<AdapterEndEvent | undefined> {\n\t\treturn this._onDidEndAdapter.event;\n\t}\n\n\tget onDidChangeReplElements(): Event<IReplElement | undefined> {\n\t\treturn this._onDidChangeREPLElements.event;\n\t}\n\n\tget onDidChangeName(): Event<string> {\n\t\treturn this._onDidChangeName.event;\n\t}\n\n\t//---- DAP events\n\n\tget onDidCustomEvent(): Event<DebugProtocol.Event> {\n\t\treturn this._onDidCustomEvent.event;\n\t}\n\n\tget onDidLoadedSource(): Event<LoadedSourceEvent> {\n\t\treturn this._onDidLoadedSource.event;\n\t}\n\n\tget onDidProgressStart(): Event<DebugProtocol.ProgressStartEvent> {\n\t\treturn this._onDidProgressStart.event;\n\t}\n\n\tget onDidProgressUpdate(): Event<DebugProtocol.ProgressUpdateEvent> {\n\t\treturn this._onDidProgressUpdate.event;\n\t}\n\n\tget onDidProgressEnd(): Event<DebugProtocol.ProgressEndEvent> {\n\t\treturn this._onDidProgressEnd.event;\n\t}\n\n\tget onDidInvalidateMemory(): Event<DebugProtocol.MemoryEvent> {\n\t\treturn this._onDidInvalidMemory.event;\n\t}\n\n\t//---- DAP requests\n\n\t/**\n\t * create and initialize a new debug adapter for this session\n\t */\n\tasync initialize(dbgr: IDebugger): Promise<void> {\n\n\t\tif (this.raw) {\n\t\t\t// if there was already a connection make sure to remove old listeners\n\t\t\tawait this.shutdown();\n\t\t}\n\n\t\ttry {\n\t\t\tconst debugAdapter = await dbgr.createDebugAdapter(this);\n\t\t\tthis.raw = this.instantiationService.createInstance(RawDebugSession, debugAdapter, dbgr, this.id, this.configuration.name);\n\n\t\t\tawait this.raw.start();\n\t\t\tthis.registerListeners();\n\t\t\tawait this.raw.initialize({\n\t\t\t\tclientID: 'vscode',\n\t\t\t\tclientName: this.productService.nameLong,\n\t\t\t\tadapterID: this.configuration.type,\n\t\t\t\tpathFormat: 'path',\n\t\t\t\tlinesStartAt1: true,\n\t\t\t\tcolumnsStartAt1: true,\n\t\t\t\tsupportsVariableType: true, // #8858\n\t\t\t\tsupportsVariablePaging: true, // #9537\n\t\t\t\tsupportsRunInTerminalRequest: true, // #10574\n\t\t\t\tlocale: platform.language, // #169114\n\t\t\t\tsupportsProgressReporting: true, // #92253\n\t\t\t\tsupportsInvalidatedEvent: true, // #106745\n\t\t\t\tsupportsMemoryReferences: true, //#129684\n\t\t\t\tsupportsArgsCanBeInterpretedByShell: true, // #149910\n\t\t\t\tsupportsMemoryEvent: true, // #133643\n\t\t\t\tsupportsStartDebuggingRequest: true,\n\t\t\t\tsupportsANSIStyling: true,\n\t\t\t});\n\n\t\t\tthis.initialized = true;\n\t\t\tthis._onDidChangeState.fire();\n\t\t\tthis.rememberedCapabilities = this.raw.capabilities;\n\t\t\tthis.debugService.setExceptionBreakpointsForSession(this, (this.raw && this.raw.capabilities.exceptionBreakpointFilters) || []);\n\t\t\tthis.debugService.getModel().registerBreakpointModes(this.configuration.type, this.raw.capabilities.breakpointModes || []);\n\t\t} catch (err) {\n\t\t\tthis.initialized = true;\n\t\t\tthis._onDidChangeState.fire();\n\t\t\tawait this.shutdown();\n\t\t\tthrow err;\n\t\t}\n\t}\n\n\t/**\n\t * launch or attach to the debuggee\n\t */\n\tasync launchOrAttach(config: IConfig): Promise<void> {\n\t\tif (!this.raw) {\n\t\t\tthrow new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'launch or attach'));\n\t\t}\n\t\tif (this.parentSession && this.parentSession.state === State.Inactive) {\n\t\t\tthrow canceled();\n\t\t}\n\n\t\t// __sessionID only used for EH debugging (but we add it always for now...)\n\t\tconfig.__sessionId = this.getId();\n\t\ttry {\n\t\t\tawait this.raw.launchOrAttach(config);\n\t\t} catch (err) {\n\t\t\tthis.shutdown();\n\t\t\tthrow err;\n\t\t}\n\t}\n\n\t/**\n\t * Terminate any linked test run.\n\t */\n\tcancelCorrelatedTestRun() {\n\t\tif (this.correlatedTestRun && !this.correlatedTestRun.completedAt) {\n\t\t\tthis.didTerminateTestRun = true;\n\t\t\tthis.testService.cancelTestRun(this.correlatedTestRun.id);\n\t\t}\n\t}\n\n\t/**\n\t * terminate the current debug adapter session\n\t */\n\tasync terminate(restart = false): Promise<void> {\n\t\tif (!this.raw) {\n\t\t\t// Adapter went down but it did not send a 'terminated' event, simulate like the event has been sent\n\t\t\tthis.onDidExitAdapter();\n\t\t}\n\n\t\tthis.cancelAllRequests();\n\t\tif (this._options.lifecycleManagedByParent && this.parentSession) {\n\t\t\tawait this.parentSession.terminate(restart);\n\t\t} else if (this.correlatedTestRun && !this.correlatedTestRun.completedAt && !this.didTerminateTestRun) {\n\t\t\tthis.cancelCorrelatedTestRun();\n\t\t} else if (this.raw) {\n\t\t\tif (this.raw.capabilities.supportsTerminateRequest && this._configuration.resolved.request === 'launch') {\n\t\t\t\tawait this.raw.terminate(restart);\n\t\t\t} else {\n\t\t\t\tawait this.raw.disconnect({ restart, terminateDebuggee: true });\n\t\t\t}\n\t\t}\n\n\t\tif (!restart) {\n\t\t\tthis._options.compoundRoot?.sessionStopped();\n\t\t}\n\t}\n\n\t/**\n\t * end the current debug adapter session\n\t */\n\tasync disconnect(restart = false, suspend = false): Promise<void> {\n\t\tif (!this.raw) {\n\t\t\t// Adapter went down but it did not send a 'terminated' event, simulate like the event has been sent\n\t\t\tthis.onDidExitAdapter();\n\t\t}\n\n\t\tthis.cancelAllRequests();\n\t\tif (this._options.lifecycleManagedByParent && this.parentSession) {\n\t\t\tawait this.parentSession.disconnect(restart, suspend);\n\t\t} else if (this.raw) {\n\t\t\t// TODO terminateDebuggee should be undefined by default?\n\t\t\tawait this.raw.disconnect({ restart, terminateDebuggee: false, suspendDebuggee: suspend });\n\t\t}\n\n\t\tif (!restart) {\n\t\t\tthis._options.compoundRoot?.sessionStopped();\n\t\t}\n\t}\n\n\t/**\n\t * restart debug adapter session\n\t */\n\tasync restart(): Promise<void> {\n\t\tif (!this.raw) {\n\t\t\tthrow new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'restart'));\n\t\t}\n\n\t\tthis.cancelAllRequests();\n\t\tif (this._options.lifecycleManagedByParent && this.parentSession) {\n\t\t\tawait this.parentSession.restart();\n\t\t} else {\n\t\t\tawait this.raw.restart({ arguments: this.configuration });\n\t\t}\n\t}\n\n\tasync sendBreakpoints(modelUri: URI, breakpointsToSend: IBreakpoint[], sourceModified: boolean): Promise<void> {\n\t\tif (!this.raw) {\n\t\t\tthrow new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'breakpoints'));\n\t\t}\n\n\t\tif (!this.raw.readyForBreakpoints) {\n\t\t\treturn Promise.resolve(undefined);\n\t\t}\n\n\t\tconst rawSource = this.getRawSource(modelUri);\n\t\tif (breakpointsToSend.length && !rawSource.adapterData) {\n\t\t\trawSource.adapterData = breakpointsToSend[0].adapterData;\n\t\t}\n\t\t// Normalize all drive letters going out from vscode to debug adapters so we are consistent with our resolving #43959\n\t\tif (rawSource.path) {\n\t\t\trawSource.path = normalizeDriveLetter(rawSource.path);\n\t\t}\n\n\t\tconst response = await this.raw.setBreakpoints({\n\t\t\tsource: rawSource,\n\t\t\tlines: breakpointsToSend.map(bp => bp.sessionAgnosticData.lineNumber),\n\t\t\tbreakpoints: breakpointsToSend.map(bp => bp.toDAP()),\n\t\t\tsourceModified\n\t\t});\n\t\tif (response?.body) {\n\t\t\tconst data = new Map<string, DebugProtocol.Breakpoint>();\n\t\t\tfor (let i = 0; i < breakpointsToSend.length; i++) {\n\t\t\t\tdata.set(breakpointsToSend[i].getId(), response.body.breakpoints[i]);\n\t\t\t}\n\n\t\t\tthis.model.setBreakpointSessionData(this.getId(), this.capabilities, data);\n\t\t}\n\t}\n\n\tasync sendFunctionBreakpoints(fbpts: IFunctionBreakpoint[]): Promise<void> {\n\t\tif (!this.raw) {\n\t\t\tthrow new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'function breakpoints'));\n\t\t}\n\n\t\tif (this.raw.readyForBreakpoints) {\n\t\t\tconst response = await this.raw.setFunctionBreakpoints({ breakpoints: fbpts.map(bp => bp.toDAP()) });\n\t\t\tif (response?.body) {\n\t\t\t\tconst data = new Map<string, DebugProtocol.Breakpoint>();\n\t\t\t\tfor (let i = 0; i < fbpts.length; i++) {\n\t\t\t\t\tdata.set(fbpts[i].getId(), response.body.breakpoints[i]);\n\t\t\t\t}\n\t\t\t\tthis.model.setBreakpointSessionData(this.getId(), this.capabilities, data);\n\t\t\t}\n\t\t}\n\t}\n\n\tasync sendExceptionBreakpoints(exbpts: IExceptionBreakpoint[]): Promise<void> {\n\t\tif (!this.raw) {\n\t\t\tthrow new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'exception breakpoints'));\n\t\t}\n\n\t\tif (this.raw.readyForBreakpoints) {\n\t\t\tconst args: DebugProtocol.SetExceptionBreakpointsArguments = this.capabilities.supportsExceptionFilterOptions ? {\n\t\t\t\tfilters: [],\n\t\t\t\tfilterOptions: exbpts.map(exb => {\n\t\t\t\t\tif (exb.condition) {\n\t\t\t\t\t\treturn { filterId: exb.filter, condition: exb.condition };\n\t\t\t\t\t}\n\n\t\t\t\t\treturn { filterId: exb.filter };\n\t\t\t\t})\n\t\t\t} : { filters: exbpts.map(exb => exb.filter) };\n\n\t\t\tconst response = await this.raw.setExceptionBreakpoints(args);\n\t\t\tif (response?.body && response.body.breakpoints) {\n\t\t\t\tconst data = new Map<string, DebugProtocol.Breakpoint>();\n\t\t\t\tfor (let i = 0; i < exbpts.length; i++) {\n\t\t\t\t\tdata.set(exbpts[i].getId(), response.body.breakpoints[i]);\n\t\t\t\t}\n\n\t\t\t\tthis.model.setBreakpointSessionData(this.getId(), this.capabilities, data);\n\t\t\t}\n\t\t}\n\t}\n\n\tdataBytesBreakpointInfo(address: string, bytes: number): Promise<IDataBreakpointInfoResponse | undefined> {\n\t\tif (this.raw?.capabilities.supportsDataBreakpointBytes === false) {\n\t\t\tthrow new Error(localize('sessionDoesNotSupporBytesBreakpoints', \"Session does not support breakpoints with bytes\"));\n\t\t}\n\n\t\treturn this._dataBreakpointInfo({ name: address, bytes, asAddress: true });\n\t}\n\n\tdataBreakpointInfo(name: string, variablesReference?: number, frameId?: number): Promise<{ dataId: string | null; description: string; canPersist?: boolean } | undefined> {\n\t\treturn this._dataBreakpointInfo({ name, variablesReference, frameId });\n\t}\n\n\tprivate async _dataBreakpointInfo(args: DebugProtocol.DataBreakpointInfoArguments): Promise<{ dataId: string | null; description: string; canPersist?: boolean } | undefined> {\n\t\tif (!this.raw) {\n\t\t\tthrow new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'data breakpoints info'));\n\t\t}\n\t\tif (!this.raw.readyForBreakpoints) {\n\t\t\tthrow new Error(localize('sessionNotReadyForBreakpoints', \"Session is not ready for breakpoints\"));\n\t\t}\n\n\t\tconst response = await this.raw.dataBreakpointInfo(args);\n\t\treturn response?.body;\n\t}\n\n\tasync sendDataBreakpoints(dataBreakpoints: IDataBreakpoint[]): Promise<void> {\n\t\tif (!this.raw) {\n\t\t\tthrow new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'data breakpoints'));\n\t\t}\n\n\t\tif (this.raw.readyForBreakpoints) {\n\t\t\tconst converted = await Promise.all(dataBreakpoints.map(async bp => {\n\t\t\t\ttry {\n\t\t\t\t\tconst dap = await bp.toDAP(this);\n\t\t\t\t\treturn { dap, bp };\n\t\t\t\t} catch (e) {\n\t\t\t\t\treturn { bp, message: e.message };\n\t\t\t\t}\n\t\t\t}));\n\t\t\tconst response = await this.raw.setDataBreakpoints({ breakpoints: converted.map(d => d.dap).filter(isDefined) });\n\t\t\tif (response?.body) {\n\t\t\t\tconst data = new Map<string, DebugProtocol.Breakpoint>();\n\t\t\t\tlet i = 0;\n\t\t\t\tfor (const dap of converted) {\n\t\t\t\t\tif (!dap.dap) {\n\t\t\t\t\t\tdata.set(dap.bp.getId(), dap.message);\n\t\t\t\t\t} else if (i < response.body.breakpoints.length) {\n\t\t\t\t\t\tdata.set(dap.bp.getId(), response.body.breakpoints[i++]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.model.setBreakpointSessionData(this.getId(), this.capabilities, data);\n\t\t\t}\n\t\t}\n\t}\n\n\tasync sendInstructionBreakpoints(instructionBreakpoints: IInstructionBreakpoint[]): Promise<void> {\n\t\tif (!this.raw) {\n\t\t\tthrow new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'instruction breakpoints'));\n\t\t}\n\n\t\tif (this.raw.readyForBreakpoints) {\n\t\t\tconst response = await this.raw.setInstructionBreakpoints({ breakpoints: instructionBreakpoints.map(ib => ib.toDAP()) });\n\t\t\tif (response?.body) {\n\t\t\t\tconst data = new Map<string, DebugProtocol.Breakpoint>();\n\t\t\t\tfor (let i = 0; i < instructionBreakpoints.length; i++) {\n\t\t\t\t\tdata.set(instructionBreakpoints[i].getId(), response.body.breakpoints[i]);\n\t\t\t\t}\n\t\t\t\tthis.model.setBreakpointSessionData(this.getId(), this.capabilities, data);\n\t\t\t}\n\t\t}\n\t}\n\n\tasync breakpointsLocations(uri: URI, lineNumber: number): Promise<IPosition[]> {\n\t\tif (!this.raw) {\n\t\t\tthrow new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'breakpoints locations'));\n\t\t}\n\n\t\tconst source = this.getRawSource(uri);\n\t\tconst response = await this.raw.breakpointLocations({ source, line: lineNumber });\n\t\tif (!response || !response.body || !response.body.breakpoints) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst positions = response.body.breakpoints.map(bp => ({ lineNumber: bp.line, column: bp.column || 1 }));\n\n\t\treturn distinct(positions, p => `${p.lineNumber}:${p.column}`);\n\t}\n\n\tgetDebugProtocolBreakpoint(breakpointId: string): DebugProtocol.Breakpoint | undefined {\n\t\treturn this.model.getDebugProtocolBreakpoint(breakpointId, this.getId());\n\t}\n\n\tcustomRequest(request: string, args: any): Promise<DebugProtocol.Response | undefined> {\n\t\tif (!this.raw) {\n\t\t\tthrow new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", request));\n\t\t}\n\n\t\treturn this.raw.custom(request, args);\n\t}\n\n\tstackTrace(threadId: number, startFrame: number, levels: number, token: CancellationToken): Promise<DebugProtocol.StackTraceResponse | undefined> {\n\t\tif (!this.raw) {\n\t\t\tthrow new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'stackTrace'));\n\t\t}\n\n\t\tconst sessionToken = this.getNewCancellationToken(threadId, token);\n\t\treturn this.raw.stackTrace({ threadId, startFrame, levels }, sessionToken);\n\t}\n\n\tasync exceptionInfo(threadId: number): Promise<IExceptionInfo | undefined> {\n\t\tif (!this.raw) {\n\t\t\tthrow new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'exceptionInfo'));\n\t\t}\n\n\t\tconst response = await this.raw.exceptionInfo({ threadId });\n\t\tif (response) {\n\t\t\treturn {\n\t\t\t\tid: response.body.exceptionId,\n\t\t\t\tdescription: response.body.description,\n\t\t\t\tbreakMode: response.body.breakMode,\n\t\t\t\tdetails: response.body.details\n\t\t\t};\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tscopes(frameId: number, threadId: number): Promise<DebugProtocol.ScopesResponse | undefined> {\n\t\tif (!this.raw) {\n\t\t\tthrow new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'scopes'));\n\t\t}\n\n\t\tconst token = this.getNewCancellationToken(threadId);\n\t\treturn this.raw.scopes({ frameId }, token);\n\t}\n\n\tvariables(variablesReference: number, threadId: number | undefined, filter: 'indexed' | 'named' | undefined, start: number | undefined, count: number | undefined): Promise<DebugProtocol.VariablesResponse | undefined> {\n\t\tif (!this.raw) {\n\t\t\tthrow new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'variables'));\n\t\t}\n\n\t\tconst token = threadId ? this.getNewCancellationToken(threadId) : undefined;\n\t\treturn this.raw.variables({ variablesReference, filter, start, count }, token);\n\t}\n\n\tevaluate(expression: string, frameId: number, context?: string, location?: { line: number; column: number; source: DebugProtocol.Source }): Promise<DebugProtocol.EvaluateResponse | undefined> {\n\t\tif (!this.raw) {\n\t\t\tthrow new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'evaluate'));\n\t\t}\n\n\t\treturn this.raw.evaluate({ expression, frameId, context, line: location?.line, column: location?.column, source: location?.source });\n\t}\n\n\tasync restartFrame(frameId: number, threadId: number): Promise<void> {\n\t\tawait this.waitForTriggeredBreakpoints();\n\t\tif (!this.raw) {\n\t\t\tthrow new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'restartFrame'));\n\t\t}\n\n\t\tawait this.raw.restartFrame({ frameId }, threadId);\n\t}\n\n\tprivate setLastSteppingGranularity(threadId: number, granularity?: DebugProtocol.SteppingGranularity) {\n\t\tconst thread = this.getThread(threadId);\n\t\tif (thread) {\n\t\t\tthread.lastSteppingGranularity = granularity;\n\t\t}\n\t}\n\n\tasync next(threadId: number, granularity?: DebugProtocol.SteppingGranularity): Promise<void> {\n\t\tawait this.waitForTriggeredBreakpoints();\n\t\tif (!this.raw) {\n\t\t\tthrow new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'next'));\n\t\t}\n\n\t\tthis.setLastSteppingGranularity(threadId, granularity);\n\t\tawait this.raw.next({ threadId, granularity });\n\t}\n\n\tasync stepIn(threadId: number, targetId?: number, granularity?: DebugProtocol.SteppingGranularity): Promise<void> {\n\t\tawait this.waitForTriggeredBreakpoints();\n\t\tif (!this.raw) {\n\t\t\tthrow new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'stepIn'));\n\t\t}\n\n\t\tthis.setLastSteppingGranularity(threadId, granularity);\n\t\tawait this.raw.stepIn({ threadId, targetId, granularity });\n\t}\n\n\tasync stepOut(threadId: number, granularity?: DebugProtocol.SteppingGranularity): Promise<void> {\n\t\tawait this.waitForTriggeredBreakpoints();\n\t\tif (!this.raw) {\n\t\t\tthrow new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'stepOut'));\n\t\t}\n\n\t\tthis.setLastSteppingGranularity(threadId, granularity);\n\t\tawait this.raw.stepOut({ threadId, granularity });\n\t}\n\n\tasync stepBack(threadId: number, granularity?: DebugProtocol.SteppingGranularity): Promise<void> {\n\t\tawait this.waitForTriggeredBreakpoints();\n\t\tif (!this.raw) {\n\t\t\tthrow new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'stepBack'));\n\t\t}\n\n\t\tthis.setLastSteppingGranularity(threadId, granularity);\n\t\tawait this.raw.stepBack({ threadId, granularity });\n\t}\n\n\tasync continue(threadId: number): Promise<void> {\n\t\tawait this.waitForTriggeredBreakpoints();\n\t\tif (!this.raw) {\n\t\t\tthrow new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'continue'));\n\t\t}\n\n\t\tawait this.raw.continue({ threadId });\n\t}\n\n\tasync reverseContinue(threadId: number): Promise<void> {\n\t\tawait this.waitForTriggeredBreakpoints();\n\t\tif (!this.raw) {\n\t\t\tthrow new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'reverse continue'));\n\t\t}\n\n\t\tawait this.raw.reverseContinue({ threadId });\n\t}\n\n\tasync pause(threadId: number): Promise<void> {\n\t\tif (!this.raw) {\n\t\t\tthrow new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'pause'));\n\t\t}\n\n\t\tawait this.raw.pause({ threadId });\n\t}\n\n\tasync terminateThreads(threadIds?: number[]): Promise<void> {\n\t\tif (!this.raw) {\n\t\t\tthrow new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'terminateThreads'));\n\t\t}\n\n\t\tawait this.raw.terminateThreads({ threadIds });\n\t}\n\n\tsetVariable(variablesReference: number, name: string, value: string): Promise<DebugProtocol.SetVariableResponse | undefined> {\n\t\tif (!this.raw) {\n\t\t\tthrow new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'setVariable'));\n\t\t}\n\n\t\treturn this.raw.setVariable({ variablesReference, name, value });\n\t}\n\n\tsetExpression(frameId: number, expression: string, value: string): Promise<DebugProtocol.SetExpressionResponse | undefined> {\n\t\tif (!this.raw) {\n\t\t\tthrow new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'setExpression'));\n\t\t}\n\n\t\treturn this.raw.setExpression({ expression, value, frameId });\n\t}\n\n\tgotoTargets(source: DebugProtocol.Source, line: number, column?: number): Promise<DebugProtocol.GotoTargetsResponse | undefined> {\n\t\tif (!this.raw) {\n\t\t\tthrow new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'gotoTargets'));\n\t\t}\n\n\t\treturn this.raw.gotoTargets({ source, line, column });\n\t}\n\n\tgoto(threadId: number, targetId: number): Promise<DebugProtocol.GotoResponse | undefined> {\n\t\tif (!this.raw) {\n\t\t\tthrow new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'goto'));\n\t\t}\n\n\t\treturn this.raw.goto({ threadId, targetId });\n\t}\n\n\tloadSource(resource: URI): Promise<DebugProtocol.SourceResponse | undefined> {\n\t\tif (!this.raw) {\n\t\t\treturn Promise.reject(new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'loadSource')));\n\t\t}\n\n\t\tconst source = this.getSourceForUri(resource);\n\t\tlet rawSource: DebugProtocol.Source;\n\t\tif (source) {\n\t\t\trawSource = source.raw;\n\t\t} else {\n\t\t\t// create a Source\n\t\t\tconst data = Source.getEncodedDebugData(resource);\n\t\t\trawSource = { path: data.path, sourceReference: data.sourceReference };\n\t\t}\n\n\t\treturn this.raw.source({ sourceReference: rawSource.sourceReference || 0, source: rawSource });\n\t}\n\n\tasync getLoadedSources(): Promise<Source[]> {\n\t\tif (!this.raw) {\n\t\t\treturn Promise.reject(new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'getLoadedSources')));\n\t\t}\n\n\t\tconst response = await this.raw.loadedSources({});\n\t\tif (response?.body && response.body.sources) {\n\t\t\treturn response.body.sources.map(src => this.getSource(src));\n\t\t} else {\n\t\t\treturn [];\n\t\t}\n\t}\n\n\tasync completions(frameId: number | undefined, threadId: number, text: string, position: Position, token: CancellationToken): Promise<DebugProtocol.CompletionsResponse | undefined> {\n\t\tif (!this.raw) {\n\t\t\treturn Promise.reject(new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'completions')));\n\t\t}\n\t\tconst sessionCancelationToken = this.getNewCancellationToken(threadId, token);\n\n\t\treturn this.raw.completions({\n\t\t\tframeId,\n\t\t\ttext,\n\t\t\tcolumn: position.column,\n\t\t\tline: position.lineNumber,\n\t\t}, sessionCancelationToken);\n\t}\n\n\tasync stepInTargets(frameId: number): Promise<{ id: number; label: string }[] | undefined> {\n\t\tif (!this.raw) {\n\t\t\treturn Promise.reject(new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'stepInTargets')));\n\t\t}\n\n\t\tconst response = await this.raw.stepInTargets({ frameId });\n\t\treturn response?.body.targets;\n\t}\n\n\tasync cancel(progressId: string): Promise<DebugProtocol.CancelResponse | undefined> {\n\t\tif (!this.raw) {\n\t\t\treturn Promise.reject(new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'cancel')));\n\t\t}\n\n\t\treturn this.raw.cancel({ progressId });\n\t}\n\n\tasync disassemble(memoryReference: string, offset: number, instructionOffset: number, instructionCount: number): Promise<DebugProtocol.DisassembledInstruction[] | undefined> {\n\t\tif (!this.raw) {\n\t\t\treturn Promise.reject(new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'disassemble')));\n\t\t}\n\n\t\tconst response = await this.raw.disassemble({ memoryReference, offset, instructionOffset, instructionCount, resolveSymbols: true });\n\t\treturn response?.body?.instructions;\n\t}\n\n\treadMemory(memoryReference: string, offset: number, count: number): Promise<DebugProtocol.ReadMemoryResponse | undefined> {\n\t\tif (!this.raw) {\n\t\t\treturn Promise.reject(new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'readMemory')));\n\t\t}\n\n\t\treturn this.raw.readMemory({ count, memoryReference, offset });\n\t}\n\n\twriteMemory(memoryReference: string, offset: number, data: string, allowPartial?: boolean): Promise<DebugProtocol.WriteMemoryResponse | undefined> {\n\t\tif (!this.raw) {\n\t\t\treturn Promise.reject(new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'disassemble')));\n\t\t}\n\n\t\treturn this.raw.writeMemory({ memoryReference, offset, allowPartial, data });\n\t}\n\n\tasync resolveLocationReference(locationReference: number): Promise<IDebugLocationReferenced> {\n\t\tif (!this.raw) {\n\t\t\tthrow new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'locations'));\n\t\t}\n\n\t\tconst location = await this.raw.locations({ locationReference });\n\t\tif (!location?.body) {\n\t\t\tthrow new Error(localize('noDebugAdapter', \"No debugger available, can not send '{0}'\", 'locations'));\n\t\t}\n\n\t\tconst source = this.getSource(location.body.source);\n\t\treturn { column: 1, ...location.body, source };\n\t}\n\n\t//---- threads\n\n\tgetThread(threadId: number): Thread | undefined {\n\t\treturn this.threads.get(threadId);\n\t}\n\n\tgetAllThreads(): IThread[] {\n\t\tconst result: IThread[] = [];\n\t\tthis.threadIds.forEach((threadId) => {\n\t\t\tconst thread = this.threads.get(threadId);\n\t\t\tif (thread) {\n\t\t\t\tresult.push(thread);\n\t\t\t}\n\t\t});\n\t\treturn result;\n\t}\n\n\tclearThreads(removeThreads: boolean, reference: number | undefined = undefined): void {\n\t\tif (reference !== undefined && reference !== null) {\n\t\t\tconst thread = this.threads.get(reference);\n\t\t\tif (thread) {\n\t\t\t\tthread.clearCallStack();\n\t\t\t\tthread.stoppedDetails = undefined;\n\t\t\t\tthread.stopped = false;\n\n\t\t\t\tif (removeThreads) {\n\t\t\t\t\tthis.threads.delete(reference);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthis.threads.forEach(thread => {\n\t\t\t\tthread.clearCallStack();\n\t\t\t\tthread.stoppedDetails = undefined;\n\t\t\t\tthread.stopped = false;\n\t\t\t});\n\n\t\t\tif (removeThreads) {\n\t\t\t\tthis.threads.clear();\n\t\t\t\tthis.threadIds = [];\n\t\t\t\tExpressionContainer.allValues.clear();\n\t\t\t}\n\t\t}\n\t}\n\n\tgetStoppedDetails(): IRawStoppedDetails | undefined {\n\t\treturn this.stoppedDetails.length >= 1 ? this.stoppedDetails[0] : undefined;\n\t}\n\n\trawUpdate(data: IRawModelUpdate): void {\n\t\tthis.threadIds = [];\n\t\tdata.threads.forEach(thread => {\n\t\t\tthis.threadIds.push(thread.id);\n\t\t\tif (!this.threads.has(thread.id)) {\n\t\t\t\t// A new thread came in, initialize it.\n\t\t\t\tthis.threads.set(thread.id, new Thread(this, thread.name, thread.id));\n\t\t\t} else if (thread.name) {\n\t\t\t\t// Just the thread name got updated #18244\n\t\t\t\tconst oldThread = this.threads.get(thread.id);\n\t\t\t\tif (oldThread) {\n\t\t\t\t\toldThread.name = thread.name;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tthis.threads.forEach(t => {\n\t\t\t// Remove all old threads which are no longer part of the update #75980\n\t\t\tif (this.threadIds.indexOf(t.threadId) === -1) {\n\t\t\t\tthis.threads.delete(t.threadId);\n\t\t\t}\n\t\t});\n\n\t\tconst stoppedDetails = data.stoppedDetails;\n\t\tif (stoppedDetails) {\n\t\t\t// Set the availability of the threads' callstacks depending on\n\t\t\t// whether the thread is stopped or not\n\t\t\tif (stoppedDetails.allThreadsStopped) {\n\t\t\t\tthis.threads.forEach(thread => {\n\t\t\t\t\tthread.stoppedDetails = thread.threadId === stoppedDetails.threadId ? stoppedDetails : { reason: thread.stoppedDetails?.reason };\n\t\t\t\t\tthread.stopped = true;\n\t\t\t\t\tthread.clearCallStack();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tconst thread = typeof stoppedDetails.threadId === 'number' ? this.threads.get(stoppedDetails.threadId) : undefined;\n\t\t\t\tif (thread) {\n\t\t\t\t\t// One thread is stopped, only update that thread.\n\t\t\t\t\tthread.stoppedDetails = stoppedDetails;\n\t\t\t\t\tthread.clearCallStack();\n\t\t\t\t\tthread.stopped = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate waitForTriggeredBreakpoints() {\n\t\tif (!this._waitToResume) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn raceTimeout(\n\t\t\tthis._waitToResume,\n\t\t\tTRIGGERED_BREAKPOINT_MAX_DELAY\n\t\t);\n\t}\n\n\tprivate async fetchThreads(stoppedDetails?: IRawStoppedDetails): Promise<void> {\n\t\tif (this.raw) {\n\t\t\tconst response = await this.raw.threads();\n\t\t\tif (response?.body && response.body.threads) {\n\t\t\t\tthis.model.rawUpdate({\n\t\t\t\t\tsessionId: this.getId(),\n\t\t\t\t\tthreads: response.body.threads,\n\t\t\t\t\tstoppedDetails\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tinitializeForTest(raw: RawDebugSession): void {\n\t\tthis.raw = raw;\n\t\tthis.registerListeners();\n\t}\n\n\t//---- private\n\n\tprivate registerListeners(): void {\n\t\tif (!this.raw) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.rawListeners.add(this.raw.onDidInitialize(async () => {\n\t\t\taria.status(\n\t\t\t\tthis.configuration.noDebug\n\t\t\t\t\t? localize('debuggingStartedNoDebug', \"Started running without debugging.\")\n\t\t\t\t\t: localize('debuggingStarted', \"Debugging started.\")\n\t\t\t);\n\n\t\t\tconst sendConfigurationDone = async () => {\n\t\t\t\tif (this.raw && this.raw.capabilities.supportsConfigurationDoneRequest) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tawait this.raw.configurationDone();\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t// Disconnect the debug session on configuration done error #10596\n\t\t\t\t\t\tthis.notificationService.error(e);\n\t\t\t\t\t\tthis.raw?.disconnect({});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn undefined;\n\t\t\t};\n\n\t\t\t// Send all breakpoints\n\t\t\ttry {\n\t\t\t\tawait this.debugService.sendAllBreakpoints(this);\n\t\t\t} finally {\n\t\t\t\tawait sendConfigurationDone();\n\t\t\t\tawait this.fetchThreads();\n\t\t\t}\n\t\t}));\n\n\n\t\tconst statusQueue = this.statusQueue;\n\t\tthis.rawListeners.add(this.raw.onDidStop(event => this.handleStop(event.body)));\n\n\t\tthis.rawListeners.add(this.raw.onDidThread(event => {\n\t\t\tstatusQueue.cancel([event.body.threadId]);\n\t\t\tif (event.body.reason === 'started') {\n\t\t\t\t// debounce to reduce threadsRequest frequency and improve performance\n\t\t\t\tif (!this.fetchThreadsScheduler) {\n\t\t\t\t\tthis.fetchThreadsScheduler = new RunOnceScheduler(() => {\n\t\t\t\t\t\tthis.fetchThreads();\n\t\t\t\t\t}, 100);\n\t\t\t\t\tthis.rawListeners.add(this.fetchThreadsScheduler);\n\t\t\t\t}\n\t\t\t\tif (!this.fetchThreadsScheduler.isScheduled()) {\n\t\t\t\t\tthis.fetchThreadsScheduler.schedule();\n\t\t\t\t}\n\t\t\t} else if (event.body.reason === 'exited') {\n\t\t\t\tthis.model.clearThreads(this.getId(), true, event.body.threadId);\n\t\t\t\tconst viewModel = this.debugService.getViewModel();\n\t\t\t\tconst focusedThread = viewModel.focusedThread;\n\t\t\t\tthis.passFocusScheduler.cancel();\n\t\t\t\tif (focusedThread && event.body.threadId === focusedThread.threadId) {\n\t\t\t\t\t// De-focus the thread in case it was focused\n\t\t\t\t\tthis.debugService.focusStackFrame(undefined, undefined, viewModel.focusedSession, { explicit: false });\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tthis.rawListeners.add(this.raw.onDidTerminateDebugee(async event => {\n\t\t\taria.status(localize('debuggingStopped', \"Debugging stopped.\"));\n\t\t\tif (event.body && event.body.restart) {\n\t\t\t\tawait this.debugService.restartSession(this, event.body.restart);\n\t\t\t} else if (this.raw) {\n\t\t\t\tawait this.raw.disconnect({ terminateDebuggee: false });\n\t\t\t}\n\t\t}));\n\n\t\tthis.rawListeners.add(this.raw.onDidContinued(async event => {\n\t\t\tconst allThreads = event.body.allThreadsContinued !== false;\n\n\t\t\tlet affectedThreads: number[] | Promise<number[]>;\n\t\t\tif (!allThreads) {\n\t\t\t\taffectedThreads = [event.body.threadId];\n\t\t\t\tif (this.threadIds.includes(event.body.threadId)) {\n\t\t\t\t\taffectedThreads = [event.body.threadId];\n\t\t\t\t} else {\n\t\t\t\t\tthis.fetchThreadsScheduler?.cancel();\n\t\t\t\t\taffectedThreads = this.fetchThreads().then(() => [event.body.threadId]);\n\t\t\t\t}\n\t\t\t} else if (this.fetchThreadsScheduler?.isScheduled()) {\n\t\t\t\tthis.fetchThreadsScheduler.cancel();\n\t\t\t\taffectedThreads = this.fetchThreads().then(() => this.threadIds);\n\t\t\t} else {\n\t\t\t\taffectedThreads = this.threadIds;\n\t\t\t}\n\n\t\t\tstatusQueue.cancel(allThreads ? undefined : [event.body.threadId]);\n\t\t\tawait statusQueue.run(affectedThreads, threadId => {\n\t\t\t\tthis.stoppedDetails = this.stoppedDetails.filter(sd => sd.threadId !== threadId);\n\t\t\t\tconst tokens = this.cancellationMap.get(threadId);\n\t\t\t\tthis.cancellationMap.delete(threadId);\n\t\t\t\ttokens?.forEach(t => t.dispose(true));\n\t\t\t\tthis.model.clearThreads(this.getId(), false, threadId);\n\t\t\t\treturn Promise.resolve();\n\t\t\t});\n\n\t\t\t// We need to pass focus to other sessions / threads with a timeout in case a quick stop event occurs #130321\n\t\t\tthis.lastContinuedThreadId = allThreads ? undefined : event.body.threadId;\n\t\t\tthis.passFocusScheduler.schedule();\n\t\t\tthis._onDidChangeState.fire();\n\t\t}));\n\n\t\tconst outputQueue = new Queue<void>();\n\t\tthis.rawListeners.add(this.raw.onDidOutput(async event => {\n\t\t\tconst outputSeverity = event.body.category === 'stderr' ? Severity.Error : event.body.category === 'console' ? Severity.Warning : Severity.Info;\n\n\t\t\t// When a variables event is received, execute immediately to obtain the variables value #126967\n\t\t\tif (event.body.variablesReference) {\n\t\t\t\tconst source = event.body.source && event.body.line ? {\n\t\t\t\t\tlineNumber: event.body.line,\n\t\t\t\t\tcolumn: event.body.column ? event.body.column : 1,\n\t\t\t\t\tsource: this.getSource(event.body.source)\n\t\t\t\t} : undefined;\n\t\t\t\tconst container = new ExpressionContainer(this, undefined, event.body.variablesReference, generateUuid());\n\t\t\t\tconst children = container.getChildren();\n\t\t\t\t// we should put appendToRepl into queue to make sure the logs to be displayed in correct order\n\t\t\t\t// see https://github.com/microsoft/vscode/issues/126967#issuecomment-874954269\n\t\t\t\toutputQueue.queue(async () => {\n\t\t\t\t\tconst resolved = await children;\n\t\t\t\t\t// For single logged variables, try to use the output if we can so\n\t\t\t\t\t// present a better (i.e. ANSI-aware) representation of the output\n\t\t\t\t\tif (resolved.length === 1) {\n\t\t\t\t\t\tthis.appendToRepl({ output: event.body.output, expression: resolved[0], sev: outputSeverity, source }, event.body.category === 'important');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tresolved.forEach((child) => {\n\t\t\t\t\t\t// Since we can not display multiple trees in a row, we are displaying these variables one after the other (ignoring their names)\n\t\t\t\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\t\t\t\t(<any>child).name = null;\n\t\t\t\t\t\tthis.appendToRepl({ output: '', expression: child, sev: outputSeverity, source }, event.body.category === 'important');\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\toutputQueue.queue(async () => {\n\t\t\t\tif (!event.body || !this.raw) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (event.body.category === 'telemetry') {\n\t\t\t\t\t// only log telemetry events from debug adapter if the debug extension provided the telemetry key\n\t\t\t\t\t// and the user opted in telemetry\n\t\t\t\t\tconst telemetryEndpoint = this.raw.dbgr.getCustomTelemetryEndpoint();\n\t\t\t\t\tif (telemetryEndpoint && this.telemetryService.telemetryLevel !== TelemetryLevel.NONE) {\n\t\t\t\t\t\t// __GDPR__TODO__ We're sending events in the name of the debug extension and we can not ensure that those are declared correctly.\n\t\t\t\t\t\tlet data = event.body.data;\n\t\t\t\t\t\tif (!telemetryEndpoint.sendErrorTelemetry && event.body.data) {\n\t\t\t\t\t\t\tdata = filterExceptionsFromTelemetry(event.body.data);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.customEndpointTelemetryService.publicLog(telemetryEndpoint, event.body.output, data);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Make sure to append output in the correct order by properly waiting on preivous promises #33822\n\t\t\t\tconst source = event.body.source && event.body.line ? {\n\t\t\t\t\tlineNumber: event.body.line,\n\t\t\t\t\tcolumn: event.body.column ? event.body.column : 1,\n\t\t\t\t\tsource: this.getSource(event.body.source)\n\t\t\t\t} : undefined;\n\n\t\t\t\tif (event.body.group === 'start' || event.body.group === 'startCollapsed') {\n\t\t\t\t\tconst expanded = event.body.group === 'start';\n\t\t\t\t\tthis.repl.startGroup(this, event.body.output || '', expanded, source);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (event.body.group === 'end') {\n\t\t\t\t\tthis.repl.endGroup();\n\t\t\t\t\tif (!event.body.output) {\n\t\t\t\t\t\t// Only return if the end event does not have additional output in it\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (typeof event.body.output === 'string') {\n\t\t\t\t\tthis.appendToRepl({ output: event.body.output, sev: outputSeverity, source }, event.body.category === 'important');\n\t\t\t\t}\n\t\t\t});\n\t\t}));\n\n\t\tthis.rawListeners.add(this.raw.onDidBreakpoint(event => {\n\t\t\tconst id = event.body && event.body.breakpoint ? event.body.breakpoint.id : undefined;\n\t\t\tconst breakpoint = this.model.getBreakpoints().find(bp => bp.getIdFromAdapter(this.getId()) === id);\n\t\t\tconst functionBreakpoint = this.model.getFunctionBreakpoints().find(bp => bp.getIdFromAdapter(this.getId()) === id);\n\t\t\tconst dataBreakpoint = this.model.getDataBreakpoints().find(dbp => dbp.getIdFromAdapter(this.getId()) === id);\n\t\t\tconst exceptionBreakpoint = this.model.getExceptionBreakpoints().find(excbp => excbp.getIdFromAdapter(this.getId()) === id);\n\n\t\t\tif (event.body.reason === 'new' && event.body.breakpoint.source && event.body.breakpoint.line) {\n\t\t\t\tconst source = this.getSource(event.body.breakpoint.source);\n\t\t\t\tconst bps = this.model.addBreakpoints(source.uri, [{\n\t\t\t\t\tcolumn: event.body.breakpoint.column,\n\t\t\t\t\tenabled: true,\n\t\t\t\t\tlineNumber: event.body.breakpoint.line,\n\t\t\t\t}], false);\n\t\t\t\tif (bps.length === 1) {\n\t\t\t\t\tconst data = new Map<string, DebugProtocol.Breakpoint>([[bps[0].getId(), event.body.breakpoint]]);\n\t\t\t\t\tthis.model.setBreakpointSessionData(this.getId(), this.capabilities, data);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (event.body.reason === 'removed') {\n\t\t\t\tif (breakpoint) {\n\t\t\t\t\tthis.model.removeBreakpoints([breakpoint]);\n\t\t\t\t}\n\t\t\t\tif (functionBreakpoint) {\n\t\t\t\t\tthis.model.removeFunctionBreakpoints(functionBreakpoint.getId());\n\t\t\t\t}\n\t\t\t\tif (dataBreakpoint) {\n\t\t\t\t\tthis.model.removeDataBreakpoints(dataBreakpoint.getId());\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (event.body.reason === 'changed') {\n\t\t\t\tif (breakpoint) {\n\t\t\t\t\tif (!breakpoint.column) {\n\t\t\t\t\t\tevent.body.breakpoint.column = undefined;\n\t\t\t\t\t}\n\t\t\t\t\tconst data = new Map<string, DebugProtocol.Breakpoint>([[breakpoint.getId(), event.body.breakpoint]]);\n\t\t\t\t\tthis.model.setBreakpointSessionData(this.getId(), this.capabilities, data);\n\t\t\t\t}\n\t\t\t\tif (functionBreakpoint) {\n\t\t\t\t\tconst data = new Map<string, DebugProtocol.Breakpoint>([[functionBreakpoint.getId(), event.body.breakpoint]]);\n\t\t\t\t\tthis.model.setBreakpointSessionData(this.getId(), this.capabilities, data);\n\t\t\t\t}\n\t\t\t\tif (dataBreakpoint) {\n\t\t\t\t\tconst data = new Map<string, DebugProtocol.Breakpoint>([[dataBreakpoint.getId(), event.body.breakpoint]]);\n\t\t\t\t\tthis.model.setBreakpointSessionData(this.getId(), this.capabilities, data);\n\t\t\t\t}\n\t\t\t\tif (exceptionBreakpoint) {\n\t\t\t\t\tconst data = new Map<string, DebugProtocol.Breakpoint>([[exceptionBreakpoint.getId(), event.body.breakpoint]]);\n\t\t\t\t\tthis.model.setBreakpointSessionData(this.getId(), this.capabilities, data);\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tthis.rawListeners.add(this.raw.onDidLoadedSource(event => {\n\t\t\tthis._onDidLoadedSource.fire({\n\t\t\t\treason: event.body.reason,\n\t\t\t\tsource: this.getSource(event.body.source)\n\t\t\t});\n\t\t}));\n\n\t\tthis.rawListeners.add(this.raw.onDidCustomEvent(event => {\n\t\t\tthis._onDidCustomEvent.fire(event);\n\t\t}));\n\n\t\tthis.rawListeners.add(this.raw.onDidProgressStart(event => {\n\t\t\tthis._onDidProgressStart.fire(event);\n\t\t}));\n\t\tthis.rawListeners.add(this.raw.onDidProgressUpdate(event => {\n\t\t\tthis._onDidProgressUpdate.fire(event);\n\t\t}));\n\t\tthis.rawListeners.add(this.raw.onDidProgressEnd(event => {\n\t\t\tthis._onDidProgressEnd.fire(event);\n\t\t}));\n\t\tthis.rawListeners.add(this.raw.onDidInvalidateMemory(event => {\n\t\t\tthis._onDidInvalidMemory.fire(event);\n\t\t}));\n\t\tthis.rawListeners.add(this.raw.onDidInvalidated(async event => {\n\t\t\tconst areas = event.body.areas || ['all'];\n\t\t\t// If invalidated event only requires to update variables or watch, do that, otherwise refetch threads https://github.com/microsoft/vscode/issues/106745\n\t\t\tif (areas.includes('threads') || areas.includes('stacks') || areas.includes('all')) {\n\t\t\t\tthis.cancelAllRequests();\n\t\t\t\tthis.model.clearThreads(this.getId(), true);\n\n\t\t\t\tconst details = this.stoppedDetails;\n\t\t\t\tthis.stoppedDetails.length = 1;\n\t\t\t\tawait Promise.all(details.map(d => this.handleStop(d)));\n\t\t\t}\n\n\t\t\tconst viewModel = this.debugService.getViewModel();\n\t\t\tif (viewModel.focusedSession === this) {\n\t\t\t\tviewModel.updateViews();\n\t\t\t}\n\t\t}));\n\n\t\tthis.rawListeners.add(this.raw.onDidExitAdapter(event => this.onDidExitAdapter(event)));\n\t}\n\n\tprivate async handleStop(event: IRawStoppedDetails) {\n\t\tthis.passFocusScheduler.cancel();\n\t\tthis.stoppedDetails.push(event);\n\n\t\t// do this very eagerly if we have hitBreakpointIds, since it may take a\n\t\t// moment for breakpoints to set and we want to do our best to not miss\n\t\t// anything\n\t\tif (event.hitBreakpointIds) {\n\t\t\tthis._waitToResume = this.enableDependentBreakpoints(event.hitBreakpointIds);\n\t\t}\n\n\t\tthis.statusQueue.run(\n\t\t\tthis.fetchThreads(event).then(() => event.threadId === undefined ? this.threadIds : [event.threadId]),\n\t\t\tasync (threadId, token) => {\n\t\t\t\tconst hasLotsOfThreads = event.threadId === undefined && this.threadIds.length > 10;\n\n\t\t\t\t// If the focus for the current session is on a non-existent thread, clear the focus.\n\t\t\t\tconst focusedThread = this.debugService.getViewModel().focusedThread;\n\t\t\t\tconst focusedThreadDoesNotExist = focusedThread !== undefined && focusedThread.session === this && !this.threads.has(focusedThread.threadId);\n\t\t\t\tif (focusedThreadDoesNotExist) {\n\t\t\t\t\tthis.debugService.focusStackFrame(undefined, undefined);\n\t\t\t\t}\n\n\t\t\t\tconst thread = typeof threadId === 'number' ? this.getThread(threadId) : undefined;\n\t\t\t\tif (thread) {\n\t\t\t\t\t// Call fetch call stack twice, the first only return the top stack frame.\n\t\t\t\t\t// Second retrieves the rest of the call stack. For performance reasons #25605\n\t\t\t\t\t// Second call is only done if there's few threads that stopped in this event.\n\t\t\t\t\tconst promises = this.model.refreshTopOfCallstack(<Thread>thread, /* fetchFullStack= */!hasLotsOfThreads);\n\t\t\t\t\tconst focus = async () => {\n\t\t\t\t\t\tif (focusedThreadDoesNotExist || (!event.preserveFocusHint && thread.getCallStack().length)) {\n\t\t\t\t\t\t\tconst focusedStackFrame = this.debugService.getViewModel().focusedStackFrame;\n\t\t\t\t\t\t\tif (!focusedStackFrame || focusedStackFrame.thread.session === this) {\n\t\t\t\t\t\t\t\t// Only take focus if nothing is focused, or if the focus is already on the current session\n\t\t\t\t\t\t\t\tconst preserveFocus = !this.configurationService.getValue<IDebugConfiguration>('debug').focusEditorOnBreak;\n\t\t\t\t\t\t\t\tawait this.debugService.focusStackFrame(undefined, thread, undefined, { preserveFocus });\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (thread.stoppedDetails && !token.isCancellationRequested) {\n\t\t\t\t\t\t\t\tif (thread.stoppedDetails.reason === 'breakpoint' && this.configurationService.getValue<IDebugConfiguration>('debug').openDebug === 'openOnDebugBreak' && !this.suppressDebugView) {\n\t\t\t\t\t\t\t\t\tawait this.paneCompositeService.openPaneComposite(VIEWLET_ID, ViewContainerLocation.Sidebar);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (this.configurationService.getValue<IDebugConfiguration>('debug').focusWindowOnBreak && !this.workbenchEnvironmentService.extensionTestsLocationURI) {\n\t\t\t\t\t\t\t\t\tconst activeWindow = getActiveWindow();\n\t\t\t\t\t\t\t\t\tif (!activeWindow.document.hasFocus()) {\n\t\t\t\t\t\t\t\t\t\tawait this.hostService.focus(mainWindow, { mode: FocusMode.Force /* Application may not be active */ });\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tawait promises.topCallStack;\n\n\t\t\t\t\tif (!event.hitBreakpointIds) { // if hitBreakpointIds are present, this is handled earlier on\n\t\t\t\t\t\tthis._waitToResume = this.enableDependentBreakpoints(thread);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (token.isCancellationRequested) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tfocus();\n\n\t\t\t\t\tawait promises.wholeCallStack;\n\t\t\t\t\tif (token.isCancellationRequested) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst focusedStackFrame = this.debugService.getViewModel().focusedStackFrame;\n\t\t\t\t\tif (!focusedStackFrame || isFrameDeemphasized(focusedStackFrame)) {\n\t\t\t\t\t\t// The top stack frame can be deemphesized so try to focus again #68616\n\t\t\t\t\t\tfocus();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis._onDidChangeState.fire();\n\t\t\t},\n\t\t);\n\t}\n\n\tprivate async enableDependentBreakpoints(hitBreakpointIdsOrThread: Thread | number[]) {\n\t\tlet breakpoints: IBreakpoint[];\n\t\tif (Array.isArray(hitBreakpointIdsOrThread)) {\n\t\t\tbreakpoints = this.model.getBreakpoints().filter(bp => hitBreakpointIdsOrThread.includes(bp.getIdFromAdapter(this.id)!));\n\t\t} else {\n\t\t\tconst frame = hitBreakpointIdsOrThread.getTopStackFrame();\n\t\t\tif (frame === undefined) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (hitBreakpointIdsOrThread.stoppedDetails && hitBreakpointIdsOrThread.stoppedDetails.reason !== 'breakpoint') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tbreakpoints = this.getBreakpointsAtPosition(frame.source.uri, frame.range.startLineNumber, frame.range.endLineNumber, frame.range.startColumn, frame.range.endColumn);\n\t\t}\n\n\t\t// find the current breakpoints\n\n\t\t// check if the current breakpoints are dependencies, and if so collect and send the dependents to DA\n\t\tconst urisToResend = new Set<string>();\n\t\tthis.model.getBreakpoints({ triggeredOnly: true, enabledOnly: true }).forEach(bp => {\n\t\t\tbreakpoints.forEach(cbp => {\n\t\t\t\tif (bp.enabled && bp.triggeredBy === cbp.getId()) {\n\t\t\t\t\tbp.setSessionDidTrigger(this.getId());\n\t\t\t\t\turisToResend.add(bp.uri.toString());\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\tconst results: Promise<any>[] = [];\n\t\turisToResend.forEach((uri) => results.push(this.debugService.sendBreakpoints(URI.parse(uri), undefined, this)));\n\t\treturn Promise.all(results);\n\t}\n\n\tprivate getBreakpointsAtPosition(uri: URI, startLineNumber: number, endLineNumber: number, startColumn: number, endColumn: number): IBreakpoint[] {\n\t\treturn this.model.getBreakpoints({ uri: uri }).filter(bp => {\n\t\t\tif (bp.lineNumber < startLineNumber || bp.lineNumber > endLineNumber) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (bp.column && (bp.column < startColumn || bp.column > endColumn)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t}\n\n\tprivate onDidExitAdapter(event?: AdapterEndEvent): void {\n\t\tthis.initialized = true;\n\t\tthis.model.setBreakpointSessionData(this.getId(), this.capabilities, undefined);\n\t\tthis.shutdown();\n\t\tthis._onDidEndAdapter.fire(event);\n\t}\n\n\t// Disconnects and clears state. Session can be initialized again for a new connection.\n\tprivate shutdown(): void {\n\t\tthis.rawListeners.clear();\n\t\tif (this.raw) {\n\t\t\t// Send out disconnect and immediatly dispose (do not wait for response) #127418\n\t\t\tthis.raw.disconnect({});\n\t\t\tthis.raw.dispose();\n\t\t\tthis.raw = undefined;\n\t\t}\n\t\tthis.fetchThreadsScheduler?.dispose();\n\t\tthis.fetchThreadsScheduler = undefined;\n\t\tthis.passFocusScheduler.cancel();\n\t\tthis.passFocusScheduler.dispose();\n\t\tthis.model.clearThreads(this.getId(), true);\n\t\tthis._onDidChangeState.fire();\n\t}\n\n\tpublic dispose() {\n\t\tthis.cancelAllRequests();\n\t\tthis.rawListeners.dispose();\n\t\tthis.globalDisposables.dispose();\n\t}\n\n\t//---- sources\n\n\tgetSourceForUri(uri: URI): Source | undefined {\n\t\treturn this.sources.get(this.uriIdentityService.asCanonicalUri(uri).toString());\n\t}\n\n\tgetSource(raw?: DebugProtocol.Source): Source {\n\t\tlet source = new Source(raw, this.getId(), this.uriIdentityService, this.logService);\n\t\tconst uriKey = source.uri.toString();\n\t\tconst found = this.sources.get(uriKey);\n\t\tif (found) {\n\t\t\tsource = found;\n\t\t\t// merge attributes of new into existing\n\t\t\tsource.raw = mixin(source.raw, raw);\n\t\t\tif (source.raw && raw) {\n\t\t\t\t// Always take the latest presentation hint from adapter #42139\n\t\t\t\tsource.raw.presentationHint = raw.presentationHint;\n\t\t\t}\n\t\t} else {\n\t\t\tthis.sources.set(uriKey, source);\n\t\t}\n\n\t\treturn source;\n\t}\n\n\tprivate getRawSource(uri: URI): DebugProtocol.Source {\n\t\tconst source = this.getSourceForUri(uri);\n\t\tif (source) {\n\t\t\treturn source.raw;\n\t\t} else {\n\t\t\tconst data = Source.getEncodedDebugData(uri);\n\t\t\treturn { name: data.name, path: data.path, sourceReference: data.sourceReference };\n\t\t}\n\t}\n\n\tprivate getNewCancellationToken(threadId: number, token?: CancellationToken): CancellationToken {\n\t\tconst tokenSource = new CancellationTokenSource(token);\n\t\tconst tokens = this.cancellationMap.get(threadId) || [];\n\t\ttokens.push(tokenSource);\n\t\tthis.cancellationMap.set(threadId, tokens);\n\n\t\treturn tokenSource.token;\n\t}\n\n\tprivate cancelAllRequests(): void {\n\t\tthis.cancellationMap.forEach(tokens => tokens.forEach(t => t.dispose(true)));\n\t\tthis.cancellationMap.clear();\n\t}\n\n\t// REPL\n\n\tgetReplElements(): IReplElement[] {\n\t\treturn this.repl.getReplElements();\n\t}\n\n\thasSeparateRepl(): boolean {\n\t\treturn !this.parentSession || this._options.repl !== 'mergeWithParent';\n\t}\n\n\tremoveReplExpressions(): void {\n\t\tthis.repl.removeReplExpressions();\n\t}\n\n\tasync addReplExpression(stackFrame: IStackFrame | undefined, expression: string): Promise<void> {\n\t\tawait this.repl.addReplExpression(this, stackFrame, expression);\n\t\t// Evaluate all watch expressions and fetch variables again since repl evaluation might have changed some.\n\t\tthis.debugService.getViewModel().updateViews();\n\t}\n\n\tappendToRepl(data: INewReplElementData, isImportant?: boolean): void {\n\t\tthis.repl.appendToRepl(this, data);\n\t\tif (isImportant) {\n\t\t\tthis.notificationService.notify({ message: data.output.toString(), severity: data.sev, source: this.name });\n\t\t}\n\t}\n}\n\n/**\n * Keeps track of events for threads, and cancels any previous operations for\n * a thread when the thread goes into a new state. Currently, the operations a thread has are:\n *\n * - started\n * - stopped\n * - continue\n * - exited\n *\n * In each case, the new state preempts the old state, so we don't need to\n * queue work, just cancel old work. It's up to the caller to make sure that\n * no UI effects happen at the point when the `token` is cancelled.\n */\nexport class ThreadStatusScheduler extends Disposable {\n\t/**\n\t * An array of set of thread IDs. When a 'stopped' event is encountered, the\n\t * editor refreshes its thread IDs. In the meantime, the thread may change\n\t * state it again. So the editor puts a Set into this array when it starts\n\t * the refresh, and checks it after the refresh is finished, to see if\n\t * any of the threads it looked up should now be invalidated.\n\t */\n\tprivate pendingCancellations: Set<number | undefined>[] = [];\n\n\t/**\n\t * Cancellation tokens for currently-running operations on threads.\n\t */\n\tprivate readonly threadOps = this._register(new DisposableMap<number, CancellationTokenSource>());\n\n\t/**\n\t * Runs the operation.\n\t * If thread is undefined it affects all threads.\n\t */\n\tpublic async run(threadIdsP: Promise<number[]> | number[], operation: (threadId: number, ct: CancellationToken) => Promise<unknown>) {\n\t\tconst cancelledWhileLookingUpThreads = new Set<number | undefined>();\n\t\tthis.pendingCancellations.push(cancelledWhileLookingUpThreads);\n\t\tconst threadIds = await threadIdsP;\n\n\t\t// Now that we got our threads,\n\t\t// 1. Remove our pending set, and\n\t\t// 2. Cancel any slower callers who might also have found this thread\n\t\tfor (let i = 0; i < this.pendingCancellations.length; i++) {\n\t\t\tconst s = this.pendingCancellations[i];\n\t\t\tif (s === cancelledWhileLookingUpThreads) {\n\t\t\t\tthis.pendingCancellations.splice(i, 1);\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\tfor (const threadId of threadIds) {\n\t\t\t\t\ts.add(threadId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (cancelledWhileLookingUpThreads.has(undefined)) {\n\t\t\treturn;\n\t\t}\n\n\t\tawait Promise.all(threadIds.map(threadId => {\n\t\t\tif (cancelledWhileLookingUpThreads.has(threadId)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.threadOps.get(threadId)?.cancel();\n\t\t\tconst cts = new CancellationTokenSource();\n\t\t\tthis.threadOps.set(threadId, cts);\n\t\t\treturn operation(threadId, cts.token);\n\t\t}));\n\t}\n\n\t/**\n\t * Cancels all ongoing state operations on the given threads.\n\t * If threads is undefined it cancel all threads.\n\t */\n\tpublic cancel(threadIds?: readonly number[]) {\n\t\tif (!threadIds) {\n\t\t\tfor (const [_, op] of this.threadOps) {\n\t\t\t\top.cancel();\n\t\t\t}\n\t\t\tthis.threadOps.clearAndDisposeAll();\n\t\t\tfor (const s of this.pendingCancellations) {\n\t\t\t\ts.add(undefined);\n\t\t\t}\n\t\t} else {\n\t\t\tfor (const threadId of threadIds) {\n\t\t\t\tthis.threadOps.get(threadId)?.cancel();\n\t\t\t\tthis.threadOps.deleteAndDispose(threadId);\n\t\t\t\tfor (const s of this.pendingCancellations) {\n\t\t\t\t\ts.add(threadId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n"]}