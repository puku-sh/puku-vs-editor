{"version":3,"sources":["vs/workbench/contrib/debug/browser/watchExpressionsView.ts"],"names":[],"mappings":"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","file":"watchExpressionsView.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IDragAndDropData } from '../../../../base/browser/dnd.js';\nimport { ActionBar } from '../../../../base/browser/ui/actionbar/actionbar.js';\nimport { IHighlight } from '../../../../base/browser/ui/highlightedlabel/highlightedLabel.js';\nimport { IListVirtualDelegate, ListDragOverEffectPosition, ListDragOverEffectType } from '../../../../base/browser/ui/list/list.js';\nimport { ElementsDragAndDropData, ListViewTargetSector } from '../../../../base/browser/ui/list/listView.js';\nimport { IListAccessibilityProvider } from '../../../../base/browser/ui/list/listWidget.js';\nimport { ITreeContextMenuEvent, ITreeDragAndDrop, ITreeDragOverReaction, ITreeMouseEvent, ITreeNode } from '../../../../base/browser/ui/tree/tree.js';\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { FuzzyScore } from '../../../../base/common/filters.js';\nimport { KeyCode, KeyMod } from '../../../../base/common/keyCodes.js';\nimport { localize } from '../../../../nls.js';\nimport { getContextMenuActions, } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { Action2, IMenuService, MenuId, registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { IClipboardService } from '../../../../platform/clipboard/common/clipboardService.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { ContextKeyExpr, IContextKey, IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IContextMenuService, IContextViewService } from '../../../../platform/contextview/browser/contextView.js';\nimport { IHoverService } from '../../../../platform/hover/browser/hover.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { KeybindingWeight } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { WorkbenchAsyncDataTree } from '../../../../platform/list/browser/listService.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { ViewAction, ViewPane } from '../../../browser/parts/views/viewPane.js';\nimport { IViewletViewOptions } from '../../../browser/parts/views/viewsViewlet.js';\nimport { FocusedViewContext } from '../../../common/contextkeys.js';\nimport { IViewDescriptorService } from '../../../common/views.js';\nimport { CONTEXT_CAN_VIEW_MEMORY, CONTEXT_EXPRESSION_SELECTED, CONTEXT_VARIABLE_IS_READONLY, CONTEXT_VARIABLE_TYPE, CONTEXT_WATCH_EXPRESSIONS_EXIST, CONTEXT_WATCH_EXPRESSIONS_FOCUSED, CONTEXT_WATCH_ITEM_TYPE, IDebugConfiguration, IDebugService, IDebugViewWithVariables, IExpression, CONTEXT_BREAK_WHEN_VALUE_CHANGES_SUPPORTED, CONTEXT_BREAK_WHEN_VALUE_IS_ACCESSED_SUPPORTED, CONTEXT_BREAK_WHEN_VALUE_IS_READ_SUPPORTED, CONTEXT_VARIABLE_EVALUATE_NAME_PRESENT, WATCH_VIEW_ID, CONTEXT_DEBUG_TYPE } from '../common/debug.js';\nimport { Expression, Variable, VisualizedExpression } from '../common/debugModel.js';\nimport { AbstractExpressionDataSource, AbstractExpressionsRenderer, expressionAndScopeLabelProvider, IExpressionTemplateData, IInputBoxOptions, renderViewTree } from './baseDebugView.js';\nimport { COPY_WATCH_EXPRESSION_COMMAND_ID, setDataBreakpointInfoResponse } from './debugCommands.js';\nimport { DebugExpressionRenderer } from './debugExpressionRenderer.js';\nimport { watchExpressionsAdd, watchExpressionsRemoveAll } from './debugIcons.js';\nimport { VariablesRenderer, VisualizedVariableRenderer } from './variablesView.js';\n\nconst MAX_VALUE_RENDER_LENGTH_IN_VIEWLET = 1024;\nlet ignoreViewUpdates = false;\nlet useCachedEvaluation = false;\n\nexport class WatchExpressionsView extends ViewPane implements IDebugViewWithVariables {\n\n\tprivate watchExpressionsUpdatedScheduler: RunOnceScheduler;\n\tprivate needsRefresh = false;\n\tprivate tree!: WorkbenchAsyncDataTree<IDebugService | IExpression, IExpression, FuzzyScore>;\n\tprivate watchExpressionsExist: IContextKey<boolean>;\n\tprivate expressionRenderer: DebugExpressionRenderer;\n\n\tpublic get treeSelection() {\n\t\treturn this.tree.getSelection();\n\t}\n\n\tconstructor(\n\t\toptions: IViewletViewOptions,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IDebugService private readonly debugService: IDebugService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IOpenerService openerService: IOpenerService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IHoverService hoverService: IHoverService,\n\t\t@IMenuService private readonly menuService: IMenuService,\n\t\t@ILogService private readonly logService: ILogService\n\t) {\n\t\tsuper(options, keybindingService, contextMenuService, configurationService, contextKeyService, viewDescriptorService, instantiationService, openerService, themeService, hoverService);\n\n\t\tthis.watchExpressionsUpdatedScheduler = new RunOnceScheduler(() => {\n\t\t\tthis.needsRefresh = false;\n\t\t\tthis.tree.updateChildren();\n\t\t}, 50);\n\t\tthis.watchExpressionsExist = CONTEXT_WATCH_EXPRESSIONS_EXIST.bindTo(contextKeyService);\n\t\tthis.watchExpressionsExist.set(this.debugService.getModel().getWatchExpressions().length > 0);\n\t\tthis.expressionRenderer = instantiationService.createInstance(DebugExpressionRenderer);\n\t}\n\n\tprotected override renderBody(container: HTMLElement): void {\n\t\tsuper.renderBody(container);\n\n\t\tthis.element.classList.add('debug-pane');\n\t\tcontainer.classList.add('debug-watch');\n\t\tconst treeContainer = renderViewTree(container);\n\n\t\tconst expressionsRenderer = this.instantiationService.createInstance(WatchExpressionsRenderer, this.expressionRenderer);\n\t\tthis.tree = this.instantiationService.createInstance(WorkbenchAsyncDataTree<IDebugService | IExpression, IExpression, FuzzyScore>, 'WatchExpressions', treeContainer, new WatchExpressionsDelegate(),\n\t\t\t[\n\t\t\t\texpressionsRenderer,\n\t\t\t\tthis.instantiationService.createInstance(VariablesRenderer, this.expressionRenderer),\n\t\t\t\tthis.instantiationService.createInstance(VisualizedVariableRenderer, this.expressionRenderer),\n\t\t\t],\n\t\t\tthis.instantiationService.createInstance(WatchExpressionsDataSource), {\n\t\t\taccessibilityProvider: new WatchExpressionsAccessibilityProvider(),\n\t\t\tidentityProvider: { getId: (element: IExpression) => element.getId() },\n\t\t\tkeyboardNavigationLabelProvider: {\n\t\t\t\tgetKeyboardNavigationLabel: (e: IExpression) => {\n\t\t\t\t\tif (e === this.debugService.getViewModel().getSelectedExpression()?.expression) {\n\t\t\t\t\t\t// Don't filter input box\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn expressionAndScopeLabelProvider.getKeyboardNavigationLabel(e);\n\t\t\t\t}\n\t\t\t},\n\t\t\tdnd: new WatchExpressionsDragAndDrop(this.debugService),\n\t\t\toverrideStyles: this.getLocationBasedColors().listOverrideStyles\n\t\t});\n\t\tthis._register(this.tree);\n\t\tthis.tree.setInput(this.debugService);\n\t\tCONTEXT_WATCH_EXPRESSIONS_FOCUSED.bindTo(this.tree.contextKeyService);\n\n\t\tthis._register(VisualizedVariableRenderer.rendererOnVisualizationRange(this.debugService.getViewModel(), this.tree));\n\t\tthis._register(this.tree.onContextMenu(e => this.onContextMenu(e)));\n\t\tthis._register(this.tree.onMouseDblClick(e => this.onMouseDblClick(e)));\n\t\tthis._register(this.debugService.getModel().onDidChangeWatchExpressions(async we => {\n\t\t\tthis.watchExpressionsExist.set(this.debugService.getModel().getWatchExpressions().length > 0);\n\t\t\tif (!this.isBodyVisible()) {\n\t\t\t\tthis.needsRefresh = true;\n\t\t\t} else {\n\t\t\t\tif (we && !we.name) {\n\t\t\t\t\t// We are adding a new input box, no need to re-evaluate watch expressions\n\t\t\t\t\tuseCachedEvaluation = true;\n\t\t\t\t}\n\t\t\t\tawait this.tree.updateChildren();\n\t\t\t\tuseCachedEvaluation = false;\n\t\t\t\tif (we instanceof Expression) {\n\t\t\t\t\tthis.tree.reveal(we);\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t\tthis._register(this.debugService.getViewModel().onDidFocusStackFrame(() => {\n\t\t\tif (!this.isBodyVisible()) {\n\t\t\t\tthis.needsRefresh = true;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!this.watchExpressionsUpdatedScheduler.isScheduled()) {\n\t\t\t\tthis.watchExpressionsUpdatedScheduler.schedule();\n\t\t\t}\n\t\t}));\n\t\tthis._register(this.debugService.getViewModel().onWillUpdateViews(() => {\n\t\t\tif (!ignoreViewUpdates) {\n\t\t\t\tthis.tree.updateChildren();\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.onDidChangeBodyVisibility(visible => {\n\t\t\tif (visible && this.needsRefresh) {\n\t\t\t\tthis.watchExpressionsUpdatedScheduler.schedule();\n\t\t\t}\n\t\t}));\n\t\tlet horizontalScrolling: boolean | undefined;\n\t\tthis._register(this.debugService.getViewModel().onDidSelectExpression(e => {\n\t\t\tconst expression = e?.expression;\n\t\t\tif (expression && this.tree.hasNode(expression)) {\n\t\t\t\thorizontalScrolling = this.tree.options.horizontalScrolling;\n\t\t\t\tif (horizontalScrolling) {\n\t\t\t\t\tthis.tree.updateOptions({ horizontalScrolling: false });\n\t\t\t\t}\n\n\t\t\t\tif (expression.name) {\n\t\t\t\t\t// Only rerender if the input is already done since otherwise the tree is not yet aware of the new element\n\t\t\t\t\tthis.tree.rerender(expression);\n\t\t\t\t}\n\t\t\t} else if (!expression && horizontalScrolling !== undefined) {\n\t\t\t\tthis.tree.updateOptions({ horizontalScrolling: horizontalScrolling });\n\t\t\t\thorizontalScrolling = undefined;\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.debugService.getViewModel().onDidEvaluateLazyExpression(async e => {\n\t\t\tif (e instanceof Variable && this.tree.hasNode(e)) {\n\t\t\t\tawait this.tree.updateChildren(e, false, true);\n\t\t\t\tawait this.tree.expand(e);\n\t\t\t}\n\t\t}));\n\t}\n\n\tprotected override layoutBody(height: number, width: number): void {\n\t\tsuper.layoutBody(height, width);\n\t\tthis.tree.layout(height, width);\n\t}\n\n\toverride focus(): void {\n\t\tsuper.focus();\n\t\tthis.tree.domFocus();\n\t}\n\n\tcollapseAll(): void {\n\t\tthis.tree.collapseAll();\n\t}\n\n\tprivate onMouseDblClick(e: ITreeMouseEvent<IExpression>): void {\n\t\tif ((e.browserEvent.target as HTMLElement).className.indexOf('twistie') >= 0) {\n\t\t\t// Ignore double click events on twistie\n\t\t\treturn;\n\t\t}\n\n\t\tconst element = e.element;\n\t\t// double click on primitive value: open input box to be able to select and copy value.\n\t\tconst selectedExpression = this.debugService.getViewModel().getSelectedExpression();\n\t\tif ((element instanceof Expression && element !== selectedExpression?.expression) || (element instanceof VisualizedExpression && element.treeItem.canEdit)) {\n\t\t\tthis.debugService.getViewModel().setSelectedExpression(element, false);\n\t\t} else if (!element) {\n\t\t\t// Double click in watch panel triggers to add a new watch expression\n\t\t\tthis.debugService.addWatchExpression();\n\t\t}\n\t}\n\n\tprivate async onContextMenu(e: ITreeContextMenuEvent<IExpression>): Promise<void> {\n\t\tconst element = e.element;\n\t\tif (!element) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst selection = this.tree.getSelection();\n\n\t\tconst contextKeyService = element && await getContextForWatchExpressionMenuWithDataAccess(this.contextKeyService, element, this.debugService, this.logService);\n\t\tconst menu = this.menuService.getMenuActions(MenuId.DebugWatchContext, contextKeyService, { arg: element, shouldForwardArgs: false });\n\t\tconst { secondary } = getContextMenuActions(menu, 'inline');\n\n\t\tthis.contextMenuService.showContextMenu({\n\t\t\tgetAnchor: () => e.anchor,\n\t\t\tgetActions: () => secondary,\n\t\t\tgetActionsContext: () => element && selection.includes(element) ? selection : element ? [element] : []\n\t\t});\n\t}\n}\n\nclass WatchExpressionsDelegate implements IListVirtualDelegate<IExpression> {\n\n\tgetHeight(_element: IExpression): number {\n\t\treturn 22;\n\t}\n\n\tgetTemplateId(element: IExpression): string {\n\t\tif (element instanceof Expression) {\n\t\t\treturn WatchExpressionsRenderer.ID;\n\t\t}\n\n\t\tif (element instanceof VisualizedExpression) {\n\t\t\treturn VisualizedVariableRenderer.ID;\n\t\t}\n\n\t\t// Variable\n\t\treturn VariablesRenderer.ID;\n\t}\n}\n\nfunction isDebugService(element: any): element is IDebugService {\n\treturn typeof element.getConfigurationManager === 'function';\n}\n\nclass WatchExpressionsDataSource extends AbstractExpressionDataSource<IDebugService, IExpression> {\n\n\tpublic override hasChildren(element: IExpression | IDebugService): boolean {\n\t\treturn isDebugService(element) || element.hasChildren;\n\t}\n\n\tprotected override doGetChildren(element: IDebugService | IExpression): Promise<Array<IExpression>> {\n\t\tif (isDebugService(element)) {\n\t\t\tconst debugService = element;\n\t\t\tconst watchExpressions = debugService.getModel().getWatchExpressions();\n\t\t\tconst viewModel = debugService.getViewModel();\n\t\t\treturn Promise.all(watchExpressions.map(we => !!we.name && !useCachedEvaluation\n\t\t\t\t? we.evaluate(viewModel.focusedSession!, viewModel.focusedStackFrame!, 'watch').then(() => we)\n\t\t\t\t: Promise.resolve(we)));\n\t\t}\n\n\t\treturn element.getChildren();\n\t}\n}\n\n\nexport class WatchExpressionsRenderer extends AbstractExpressionsRenderer {\n\n\tstatic readonly ID = 'watchexpression';\n\n\tconstructor(\n\t\tprivate readonly expressionRenderer: DebugExpressionRenderer,\n\t\t@IMenuService private readonly menuService: IMenuService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IDebugService debugService: IDebugService,\n\t\t@IContextViewService contextViewService: IContextViewService,\n\t\t@IHoverService hoverService: IHoverService,\n\t\t@IConfigurationService private configurationService: IConfigurationService,\n\t) {\n\t\tsuper(debugService, contextViewService, hoverService);\n\t}\n\n\tget templateId() {\n\t\treturn WatchExpressionsRenderer.ID;\n\t}\n\n\tpublic override renderElement(node: ITreeNode<IExpression, FuzzyScore>, index: number, data: IExpressionTemplateData): void {\n\t\tdata.elementDisposable.clear();\n\t\tdata.elementDisposable.add(this.configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration('debug.showVariableTypes')) {\n\t\t\t\tsuper.renderExpressionElement(node.element, node, data);\n\t\t\t}\n\t\t}));\n\t\tsuper.renderExpressionElement(node.element, node, data);\n\t}\n\n\tprotected renderExpression(expression: IExpression, data: IExpressionTemplateData, highlights: IHighlight[]): void {\n\t\tlet text: string;\n\t\tdata.type.textContent = '';\n\t\tconst showType = this.configurationService.getValue<IDebugConfiguration>('debug').showVariableTypes;\n\t\tif (showType && expression.type) {\n\t\t\ttext = typeof expression.value === 'string' ? `${expression.name}: ` : expression.name;\n\t\t\t//render type\n\t\t\tdata.type.textContent = expression.type + ' =';\n\t\t} else {\n\t\t\ttext = typeof expression.value === 'string' ? `${expression.name} =` : expression.name;\n\t\t}\n\n\t\tlet title: string;\n\t\tif (expression.type) {\n\t\t\tif (showType) {\n\t\t\t\ttitle = `${expression.name}`;\n\t\t\t} else {\n\t\t\t\ttitle = expression.type === expression.value ?\n\t\t\t\t\texpression.type :\n\t\t\t\t\t`${expression.type}`;\n\t\t\t}\n\t\t} else {\n\t\t\ttitle = expression.value;\n\t\t}\n\n\t\tdata.label.set(text, highlights, title);\n\t\tdata.elementDisposable.add(this.expressionRenderer.renderValue(data.value, expression, {\n\t\t\tshowChanged: true,\n\t\t\tmaxValueLength: MAX_VALUE_RENDER_LENGTH_IN_VIEWLET,\n\t\t\tcolorize: true,\n\t\t\tsession: expression.getSession(),\n\t\t}));\n\t}\n\n\tprotected getInputBoxOptions(expression: IExpression, settingValue: boolean): IInputBoxOptions {\n\t\tif (settingValue) {\n\t\t\treturn {\n\t\t\t\tinitialValue: expression.value,\n\t\t\t\tariaLabel: localize('typeNewValue', \"Type new value\"),\n\t\t\t\tonFinish: async (value: string, success: boolean) => {\n\t\t\t\t\tif (success && value) {\n\t\t\t\t\t\tconst focusedFrame = this.debugService.getViewModel().focusedStackFrame;\n\t\t\t\t\t\tif (focusedFrame && (expression instanceof Variable || expression instanceof Expression)) {\n\t\t\t\t\t\t\tawait expression.setExpression(value, focusedFrame);\n\t\t\t\t\t\t\tthis.debugService.getViewModel().updateViews();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tinitialValue: expression.name ? expression.name : '',\n\t\t\tariaLabel: localize('watchExpressionInputAriaLabel', \"Type watch expression\"),\n\t\t\tplaceholder: localize('watchExpressionPlaceholder', \"Expression to watch\"),\n\t\t\tonFinish: (value: string, success: boolean) => {\n\t\t\t\tif (success && value) {\n\t\t\t\t\tthis.debugService.renameWatchExpression(expression.getId(), value);\n\t\t\t\t\tignoreViewUpdates = true;\n\t\t\t\t\tthis.debugService.getViewModel().updateViews();\n\t\t\t\t\tignoreViewUpdates = false;\n\t\t\t\t} else if (!expression.name) {\n\t\t\t\t\tthis.debugService.removeWatchExpressions(expression.getId());\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\tprotected override renderActionBar(actionBar: ActionBar, expression: IExpression) {\n\t\tconst contextKeyService = getContextForWatchExpressionMenu(this.contextKeyService, expression);\n\t\tconst context = expression;\n\t\tconst menu = this.menuService.getMenuActions(MenuId.DebugWatchContext, contextKeyService, { arg: context, shouldForwardArgs: false });\n\n\t\tconst { primary } = getContextMenuActions(menu, 'inline');\n\n\t\tactionBar.clear();\n\t\tactionBar.context = context;\n\t\tactionBar.push(primary, { icon: true, label: false });\n\t}\n}\n\n/**\n * Gets a context key overlay that has context for the given expression.\n */\nfunction getContextForWatchExpressionMenu(parentContext: IContextKeyService, expression: IExpression, additionalContext: [string, unknown][] = []) {\n\tconst session = expression.getSession();\n\treturn parentContext.createOverlay([\n\t\t[CONTEXT_VARIABLE_EVALUATE_NAME_PRESENT.key, 'evaluateName' in expression],\n\t\t[CONTEXT_WATCH_ITEM_TYPE.key, expression instanceof Expression ? 'expression' : expression instanceof Variable ? 'variable' : undefined],\n\t\t[CONTEXT_CAN_VIEW_MEMORY.key, !!session?.capabilities.supportsReadMemoryRequest && expression.memoryReference !== undefined],\n\t\t[CONTEXT_VARIABLE_IS_READONLY.key, !!expression.presentationHint?.attributes?.includes('readOnly') || expression.presentationHint?.lazy],\n\t\t[CONTEXT_VARIABLE_TYPE.key, expression.type],\n\t\t[CONTEXT_DEBUG_TYPE.key, session?.configuration.type],\n\t\t...additionalContext\n\t]);\n}\n\n/**\n * Gets a context key overlay that has context for the given expression, including data access info.\n */\nasync function getContextForWatchExpressionMenuWithDataAccess(parentContext: IContextKeyService, expression: IExpression, debugService: IDebugService, logService: ILogService) {\n\tconst session = expression.getSession();\n\tif (!session || !session.capabilities.supportsDataBreakpoints) {\n\t\treturn getContextForWatchExpressionMenu(parentContext, expression);\n\t}\n\n\tconst contextKeys: [string, unknown][] = [];\n\tconst stackFrame = debugService.getViewModel().focusedStackFrame;\n\tlet dataBreakpointInfoResponse;\n\n\ttry {\n\t\t// Per DAP spec:\n\t\t// - If evaluateName is available: use it as an expression (top-level evaluation)\n\t\t// - Otherwise, check if it's a Variable: use name + parent reference (container-relative)\n\t\t// - Otherwise: use name as an expression\n\t\tif ('evaluateName' in expression && expression.evaluateName) {\n\t\t\t// Use evaluateName if available (more precise for evaluation context)\n\t\t\tdataBreakpointInfoResponse = await session.dataBreakpointInfo(\n\t\t\t\texpression.evaluateName as string,\n\t\t\t\tundefined,\n\t\t\t\tstackFrame?.frameId\n\t\t\t);\n\t\t} else if (expression instanceof Variable) {\n\t\t\t// Variable without evaluateName: use name relative to parent container\n\t\t\tdataBreakpointInfoResponse = await session.dataBreakpointInfo(\n\t\t\t\texpression.name,\n\t\t\t\texpression.parent.reference,\n\t\t\t\tstackFrame?.frameId\n\t\t\t);\n\t\t} else {\n\t\t\t// Expression without evaluateName: use name as the expression to evaluate\n\t\t\tdataBreakpointInfoResponse = await session.dataBreakpointInfo(\n\t\t\t\texpression.name,\n\t\t\t\tundefined,\n\t\t\t\tstackFrame?.frameId\n\t\t\t);\n\t\t}\n\t} catch (error) {\n\t\t// silently continue without data breakpoint support for this item\n\t\tlogService.error('Failed to get data breakpoint info for watch expression:', error);\n\t}\n\n\tconst dataBreakpointId = dataBreakpointInfoResponse?.dataId;\n\tconst dataBreakpointAccessTypes = dataBreakpointInfoResponse?.accessTypes;\n\tsetDataBreakpointInfoResponse(dataBreakpointInfoResponse);\n\n\tif (!dataBreakpointAccessTypes) {\n\t\tcontextKeys.push([CONTEXT_BREAK_WHEN_VALUE_CHANGES_SUPPORTED.key, !!dataBreakpointId]);\n\t} else {\n\t\tfor (const accessType of dataBreakpointAccessTypes) {\n\t\t\tswitch (accessType) {\n\t\t\t\tcase 'read':\n\t\t\t\t\tcontextKeys.push([CONTEXT_BREAK_WHEN_VALUE_IS_READ_SUPPORTED.key, !!dataBreakpointId]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'write':\n\t\t\t\t\tcontextKeys.push([CONTEXT_BREAK_WHEN_VALUE_CHANGES_SUPPORTED.key, !!dataBreakpointId]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'readWrite':\n\t\t\t\t\tcontextKeys.push([CONTEXT_BREAK_WHEN_VALUE_IS_ACCESSED_SUPPORTED.key, !!dataBreakpointId]);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn getContextForWatchExpressionMenu(parentContext, expression, contextKeys);\n}\n\n\nclass WatchExpressionsAccessibilityProvider implements IListAccessibilityProvider<IExpression> {\n\n\tgetWidgetAriaLabel(): string {\n\t\treturn localize({ comment: ['Debug is a noun in this context, not a verb.'], key: 'watchAriaTreeLabel' }, \"Debug Watch Expressions\");\n\t}\n\n\tgetAriaLabel(element: IExpression): string {\n\t\tif (element instanceof Expression) {\n\t\t\treturn localize('watchExpressionAriaLabel', \"{0}, value {1}\", element.name, element.value);\n\t\t}\n\n\t\t// Variable\n\t\treturn localize('watchVariableAriaLabel', \"{0}, value {1}\", element.name, element.value);\n\t}\n}\n\nclass WatchExpressionsDragAndDrop implements ITreeDragAndDrop<IExpression> {\n\n\tconstructor(private debugService: IDebugService) { }\n\tonDragStart?(data: IDragAndDropData, originalEvent: DragEvent): void {\n\t\tif (data instanceof ElementsDragAndDropData) {\n\t\t\toriginalEvent.dataTransfer!.setData('text/plain', data.elements[0].name);\n\t\t}\n\t}\n\n\tonDragOver(data: IDragAndDropData, targetElement: IExpression | undefined, targetIndex: number | undefined, targetSector: ListViewTargetSector | undefined, originalEvent: DragEvent): boolean | ITreeDragOverReaction {\n\t\tif (!(data instanceof ElementsDragAndDropData)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst expressions = (data as ElementsDragAndDropData<IExpression>).elements;\n\t\tif (!(expressions.length > 0 && expressions[0] instanceof Expression)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet dropEffectPosition: ListDragOverEffectPosition | undefined = undefined;\n\t\tif (targetIndex === undefined) {\n\t\t\t// Hovering over the list\n\t\t\tdropEffectPosition = ListDragOverEffectPosition.After;\n\t\t\ttargetIndex = -1;\n\t\t} else {\n\t\t\t// Hovering over an element\n\t\t\tswitch (targetSector) {\n\t\t\t\tcase ListViewTargetSector.TOP:\n\t\t\t\tcase ListViewTargetSector.CENTER_TOP:\n\t\t\t\t\tdropEffectPosition = ListDragOverEffectPosition.Before; break;\n\t\t\t\tcase ListViewTargetSector.CENTER_BOTTOM:\n\t\t\t\tcase ListViewTargetSector.BOTTOM:\n\t\t\t\t\tdropEffectPosition = ListDragOverEffectPosition.After; break;\n\t\t\t}\n\t\t}\n\n\t\treturn { accept: true, effect: { type: ListDragOverEffectType.Move, position: dropEffectPosition }, feedback: [targetIndex] } satisfies ITreeDragOverReaction;\n\t}\n\n\tgetDragURI(element: IExpression): string | null {\n\t\tif (!(element instanceof Expression) || element === this.debugService.getViewModel().getSelectedExpression()?.expression) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn element.getId();\n\t}\n\n\tgetDragLabel(elements: IExpression[]): string | undefined {\n\t\tif (elements.length === 1) {\n\t\t\treturn elements[0].name;\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tdrop(data: IDragAndDropData, targetElement: IExpression, targetIndex: number | undefined, targetSector: ListViewTargetSector | undefined, originalEvent: DragEvent): void {\n\t\tif (!(data instanceof ElementsDragAndDropData)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst draggedElement = (data as ElementsDragAndDropData<IExpression>).elements[0];\n\t\tif (!(draggedElement instanceof Expression)) {\n\t\t\tthrow new Error('Invalid dragged element');\n\t\t}\n\n\t\tconst watches = this.debugService.getModel().getWatchExpressions();\n\t\tconst sourcePosition = watches.indexOf(draggedElement);\n\n\t\tlet targetPosition;\n\t\tif (targetElement instanceof Expression) {\n\t\t\ttargetPosition = watches.indexOf(targetElement);\n\n\t\t\tswitch (targetSector) {\n\t\t\t\tcase ListViewTargetSector.BOTTOM:\n\t\t\t\tcase ListViewTargetSector.CENTER_BOTTOM:\n\t\t\t\t\ttargetPosition++; break;\n\t\t\t}\n\n\t\t\tif (sourcePosition < targetPosition) {\n\t\t\t\ttargetPosition--;\n\t\t\t}\n\t\t} else {\n\t\t\ttargetPosition = watches.length - 1;\n\t\t}\n\n\t\tthis.debugService.moveWatchExpression(draggedElement.getId(), targetPosition);\n\t}\n\n\tdispose(): void { }\n}\n\nregisterAction2(class Collapse extends ViewAction<WatchExpressionsView> {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'watch.collapse',\n\t\t\tviewId: WATCH_VIEW_ID,\n\t\t\ttitle: localize('collapse', \"Collapse All\"),\n\t\t\tf1: false,\n\t\t\ticon: Codicon.collapseAll,\n\t\t\tprecondition: CONTEXT_WATCH_EXPRESSIONS_EXIST,\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\torder: 30,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\twhen: ContextKeyExpr.equals('view', WATCH_VIEW_ID)\n\t\t\t}\n\t\t});\n\t}\n\n\trunInView(_accessor: ServicesAccessor, view: WatchExpressionsView) {\n\t\tview.collapseAll();\n\t}\n});\n\nexport const ADD_WATCH_ID = 'workbench.debug.viewlet.action.addWatchExpression'; // Use old and long id for backwards compatibility\nexport const ADD_WATCH_LABEL = localize('addWatchExpression', \"Add Expression\");\n\nregisterAction2(class AddWatchExpressionAction extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: ADD_WATCH_ID,\n\t\t\ttitle: ADD_WATCH_LABEL,\n\t\t\tf1: false,\n\t\t\ticon: watchExpressionsAdd,\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\twhen: ContextKeyExpr.equals('view', WATCH_VIEW_ID)\n\t\t\t}\n\t\t});\n\t}\n\n\trun(accessor: ServicesAccessor): void {\n\t\tconst debugService = accessor.get(IDebugService);\n\t\tdebugService.addWatchExpression();\n\t}\n});\n\nexport const REMOVE_WATCH_EXPRESSIONS_COMMAND_ID = 'workbench.debug.viewlet.action.removeAllWatchExpressions';\nexport const REMOVE_WATCH_EXPRESSIONS_LABEL = localize('removeAllWatchExpressions', \"Remove All Expressions\");\nregisterAction2(class RemoveAllWatchExpressionsAction extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: REMOVE_WATCH_EXPRESSIONS_COMMAND_ID, // Use old and long id for backwards compatibility\n\t\t\ttitle: REMOVE_WATCH_EXPRESSIONS_LABEL,\n\t\t\tf1: false,\n\t\t\ticon: watchExpressionsRemoveAll,\n\t\t\tprecondition: CONTEXT_WATCH_EXPRESSIONS_EXIST,\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\torder: 20,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\twhen: ContextKeyExpr.equals('view', WATCH_VIEW_ID)\n\t\t\t}\n\t\t});\n\t}\n\n\trun(accessor: ServicesAccessor): void {\n\t\tconst debugService = accessor.get(IDebugService);\n\t\tdebugService.removeWatchExpressions();\n\t}\n});\n\nregisterAction2(class CopyExpression extends ViewAction<WatchExpressionsView> {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: COPY_WATCH_EXPRESSION_COMMAND_ID,\n\t\t\ttitle: localize('copyWatchExpression', \"Copy Expression\"),\n\t\t\tf1: false,\n\t\t\tviewId: WATCH_VIEW_ID,\n\t\t\tprecondition: CONTEXT_WATCH_EXPRESSIONS_EXIST,\n\t\t\tkeybinding: {\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Alt | KeyCode.KeyC,\n\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t\twhen: ContextKeyExpr.and(\n\t\t\t\t\tFocusedViewContext.isEqualTo(WATCH_VIEW_ID),\n\t\t\t\t\tCONTEXT_EXPRESSION_SELECTED.negate(),\n\t\t\t\t),\n\t\t\t},\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.DebugWatchContext,\n\t\t\t\torder: 20,\n\t\t\t\tgroup: '3_modification',\n\t\t\t\twhen: CONTEXT_WATCH_ITEM_TYPE.isEqualTo('expression')\n\t\t\t}\n\t\t});\n\t}\n\n\trunInView(accessor: ServicesAccessor, view: WatchExpressionsView, value?: IExpression): void {\n\t\tconst clipboardService = accessor.get(IClipboardService);\n\t\tif (!value) {\n\t\t\tvalue = view.treeSelection.at(-1);\n\t\t}\n\t\tif (value) {\n\t\t\tclipboardService.writeText(value.name);\n\t\t}\n\t}\n});\n"]}