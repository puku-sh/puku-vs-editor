{"version":3,"sources":["vs/workbench/contrib/debug/browser/callStackView.ts"],"names":[],"mappings":"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","file":"callStackView.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../base/browser/dom.js';\nimport { ActionBar } from '../../../../base/browser/ui/actionbar/actionbar.js';\nimport { AriaRole } from '../../../../base/browser/ui/aria/aria.js';\nimport { HighlightedLabel } from '../../../../base/browser/ui/highlightedlabel/highlightedLabel.js';\nimport type { IManagedHover } from '../../../../base/browser/ui/hover/hover.js';\nimport { getDefaultHoverDelegate } from '../../../../base/browser/ui/hover/hoverDelegateFactory.js';\nimport { IListVirtualDelegate } from '../../../../base/browser/ui/list/list.js';\nimport { IListAccessibilityProvider } from '../../../../base/browser/ui/list/listWidget.js';\nimport { ITreeCompressionDelegate } from '../../../../base/browser/ui/tree/asyncDataTree.js';\nimport { ICompressedTreeNode } from '../../../../base/browser/ui/tree/compressedObjectTreeModel.js';\nimport { ICompressibleTreeRenderer } from '../../../../base/browser/ui/tree/objectTree.js';\nimport { IAsyncDataSource, ITreeContextMenuEvent, ITreeNode } from '../../../../base/browser/ui/tree/tree.js';\nimport { Action } from '../../../../base/common/actions.js';\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { createMatches, FuzzyScore, IMatch } from '../../../../base/common/filters.js';\nimport { DisposableStore, dispose, IDisposable } from '../../../../base/common/lifecycle.js';\nimport { posix } from '../../../../base/common/path.js';\nimport { commonSuffixLength } from '../../../../base/common/strings.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { IRange } from '../../../../editor/common/core/range.js';\nimport { localize } from '../../../../nls.js';\nimport { ICommandActionTitle, Icon } from '../../../../platform/action/common/action.js';\nimport { getActionBarActions, getContextMenuActions, MenuEntryActionViewItem, SubmenuEntryActionViewItem } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { IMenuService, MenuId, MenuItemAction, MenuRegistry, registerAction2, SubmenuItemAction } from '../../../../platform/actions/common/actions.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { ContextKeyExpr, ContextKeyExpression, ContextKeyValue, IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { IHoverService } from '../../../../platform/hover/browser/hover.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { ILabelService } from '../../../../platform/label/common/label.js';\nimport { WorkbenchCompressibleAsyncDataTree } from '../../../../platform/list/browser/listService.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { asCssVariable, textLinkForeground } from '../../../../platform/theme/common/colorRegistry.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { ViewAction, ViewPane } from '../../../browser/parts/views/viewPane.js';\nimport { IViewletViewOptions } from '../../../browser/parts/views/viewsViewlet.js';\nimport { IViewDescriptorService } from '../../../common/views.js';\nimport { CALLSTACK_VIEW_ID, CONTEXT_CALLSTACK_FOCUSED, CONTEXT_CALLSTACK_ITEM_STOPPED, CONTEXT_CALLSTACK_ITEM_TYPE, CONTEXT_CALLSTACK_SESSION_HAS_ONE_THREAD, CONTEXT_CALLSTACK_SESSION_IS_ATTACH, CONTEXT_DEBUG_STATE, CONTEXT_FOCUSED_SESSION_IS_NO_DEBUG, CONTEXT_STACK_FRAME_SUPPORTS_RESTART, getStateLabel, IDebugModel, IDebugService, IDebugSession, IRawStoppedDetails, isFrameDeemphasized, IStackFrame, IThread, State } from '../common/debug.js';\nimport { StackFrame, Thread, ThreadAndSessionIds } from '../common/debugModel.js';\nimport { isSessionAttach } from '../common/debugUtils.js';\nimport { renderViewTree } from './baseDebugView.js';\nimport { CONTINUE_ID, CONTINUE_LABEL, DISCONNECT_ID, DISCONNECT_LABEL, PAUSE_ID, PAUSE_LABEL, RESTART_LABEL, RESTART_SESSION_ID, STEP_INTO_ID, STEP_INTO_LABEL, STEP_OUT_ID, STEP_OUT_LABEL, STEP_OVER_ID, STEP_OVER_LABEL, STOP_ID, STOP_LABEL } from './debugCommands.js';\nimport * as icons from './debugIcons.js';\nimport { createDisconnectMenuItemAction } from './debugToolBar.js';\n\nconst $ = dom.$;\n\ntype CallStackItem = IStackFrame | IThread | IDebugSession | string | ThreadAndSessionIds | IStackFrame[];\n\ninterface ICallStackItemContext {\n\tsessionId: string;\n\tthreadId?: string;\n\tframeId?: string;\n\tframeName?: string;\n\tframeLocation?: { range: IRange; source: DebugProtocol.Source };\n}\n\nfunction getSessionContext(element: IDebugSession): ICallStackItemContext {\n\treturn {\n\t\tsessionId: element.getId()\n\t};\n}\n\nfunction getThreadContext(element: IThread): ICallStackItemContext {\n\treturn {\n\t\t...getSessionContext(element.session),\n\t\tthreadId: element.getId()\n\t};\n}\n\nfunction getStackFrameContext(element: StackFrame): ICallStackItemContext {\n\treturn {\n\t\t...getThreadContext(element.thread),\n\t\tframeId: element.getId(),\n\t\tframeName: element.name,\n\t\tframeLocation: { range: element.range, source: element.source.raw }\n\t};\n}\n\nexport function getContext(element: CallStackItem | null): ICallStackItemContext | undefined {\n\tif (element instanceof StackFrame) {\n\t\treturn getStackFrameContext(element);\n\t} else if (element instanceof Thread) {\n\t\treturn getThreadContext(element);\n\t} else if (isDebugSession(element)) {\n\t\treturn getSessionContext(element);\n\t} else {\n\t\treturn undefined;\n\t}\n}\n\n// Extensions depend on this context, should not be changed even though it is not fully deterministic\nexport function getContextForContributedActions(element: CallStackItem | null): string | number {\n\tif (element instanceof StackFrame) {\n\t\tif (element.source.inMemory) {\n\t\t\treturn element.source.raw.path || element.source.reference || element.source.name;\n\t\t}\n\n\t\treturn element.source.uri.toString();\n\t}\n\tif (element instanceof Thread) {\n\t\treturn element.threadId;\n\t}\n\tif (isDebugSession(element)) {\n\t\treturn element.getId();\n\t}\n\n\treturn '';\n}\n\nexport function getSpecificSourceName(stackFrame: IStackFrame): string {\n\t// To reduce flashing of the path name and the way we fetch stack frames\n\t// We need to compute the source name based on the other frames in the stale call stack\n\tlet callStack = (<Thread>stackFrame.thread).getStaleCallStack();\n\tcallStack = callStack.length > 0 ? callStack : stackFrame.thread.getCallStack();\n\tconst otherSources = callStack.map(sf => sf.source).filter(s => s !== stackFrame.source);\n\tlet suffixLength = 0;\n\totherSources.forEach(s => {\n\t\tif (s.name === stackFrame.source.name) {\n\t\t\tsuffixLength = Math.max(suffixLength, commonSuffixLength(stackFrame.source.uri.path, s.uri.path));\n\t\t}\n\t});\n\tif (suffixLength === 0) {\n\t\treturn stackFrame.source.name;\n\t}\n\n\tconst from = Math.max(0, stackFrame.source.uri.path.lastIndexOf(posix.sep, stackFrame.source.uri.path.length - suffixLength - 1));\n\treturn (from > 0 ? '...' : '') + stackFrame.source.uri.path.substring(from);\n}\n\nasync function expandTo(session: IDebugSession, tree: WorkbenchCompressibleAsyncDataTree<IDebugModel, CallStackItem, FuzzyScore>): Promise<void> {\n\tif (session.parentSession) {\n\t\tawait expandTo(session.parentSession, tree);\n\t}\n\tawait tree.expand(session);\n}\n\nexport class CallStackView extends ViewPane {\n\tprivate stateMessage!: HTMLSpanElement;\n\tprivate stateMessageLabel!: HTMLSpanElement;\n\tprivate stateMessageLabelHover!: IManagedHover;\n\tprivate onCallStackChangeScheduler: RunOnceScheduler;\n\tprivate needsRefresh = false;\n\tprivate ignoreSelectionChangedEvent = false;\n\tprivate ignoreFocusStackFrameEvent = false;\n\n\tprivate dataSource!: CallStackDataSource;\n\tprivate tree!: WorkbenchCompressibleAsyncDataTree<IDebugModel, CallStackItem, FuzzyScore>;\n\tprivate autoExpandedSessions = new Set<IDebugSession>();\n\tprivate selectionNeedsUpdate = false;\n\n\tconstructor(\n\t\tprivate options: IViewletViewOptions,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IDebugService private readonly debugService: IDebugService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IOpenerService openerService: IOpenerService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IHoverService hoverService: IHoverService,\n\t\t@IMenuService private readonly menuService: IMenuService,\n\t) {\n\t\tsuper(options, keybindingService, contextMenuService, configurationService, contextKeyService, viewDescriptorService, instantiationService, openerService, themeService, hoverService);\n\n\t\t// Create scheduler to prevent unnecessary flashing of tree when reacting to changes\n\t\tthis.onCallStackChangeScheduler = this._register(new RunOnceScheduler(async () => {\n\t\t\t// Only show the global pause message if we do not display threads.\n\t\t\t// Otherwise there will be a pause message per thread and there is no need for a global one.\n\t\t\tconst sessions = this.debugService.getModel().getSessions();\n\t\t\tif (sessions.length === 0) {\n\t\t\t\tthis.autoExpandedSessions.clear();\n\t\t\t}\n\n\t\t\tconst thread = sessions.length === 1 && sessions[0].getAllThreads().length === 1 ? sessions[0].getAllThreads()[0] : undefined;\n\t\t\tconst stoppedDetails = sessions.length === 1 ? sessions[0].getStoppedDetails() : undefined;\n\t\t\tif (stoppedDetails && (thread || typeof stoppedDetails.threadId !== 'number')) {\n\t\t\t\tthis.stateMessageLabel.textContent = stoppedDescription(stoppedDetails);\n\t\t\t\tthis.stateMessageLabelHover.update(stoppedText(stoppedDetails));\n\t\t\t\tthis.stateMessageLabel.classList.toggle('exception', stoppedDetails.reason === 'exception');\n\t\t\t\tthis.stateMessage.hidden = false;\n\t\t\t} else if (sessions.length === 1 && sessions[0].state === State.Running) {\n\t\t\t\tthis.stateMessageLabel.textContent = localize({ key: 'running', comment: ['indicates state'] }, \"Running\");\n\t\t\t\tthis.stateMessageLabelHover.update(sessions[0].getLabel());\n\t\t\t\tthis.stateMessageLabel.classList.remove('exception');\n\t\t\t\tthis.stateMessage.hidden = false;\n\t\t\t} else {\n\t\t\t\tthis.stateMessage.hidden = true;\n\t\t\t}\n\t\t\tthis.updateActions();\n\n\t\t\tthis.needsRefresh = false;\n\t\t\tawait this.tree.updateChildren();\n\t\t\ttry {\n\t\t\t\tconst toExpand = new Set<IDebugSession>();\n\t\t\t\tsessions.forEach(s => {\n\t\t\t\t\t// Automatically expand sessions that have children, but only do this once.\n\t\t\t\t\tif (s.parentSession && !this.autoExpandedSessions.has(s.parentSession)) {\n\t\t\t\t\t\ttoExpand.add(s.parentSession);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tfor (const session of toExpand) {\n\t\t\t\t\tawait expandTo(session, this.tree);\n\t\t\t\t\tthis.autoExpandedSessions.add(session);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t// Ignore tree expand errors if element no longer present\n\t\t\t}\n\t\t\tif (this.selectionNeedsUpdate) {\n\t\t\t\tthis.selectionNeedsUpdate = false;\n\t\t\t\tawait this.updateTreeSelection();\n\t\t\t}\n\t\t}, 50));\n\t}\n\n\tprotected override renderHeaderTitle(container: HTMLElement): void {\n\t\tsuper.renderHeaderTitle(container, this.options.title);\n\n\t\tthis.stateMessage = dom.append(container, $('span.call-stack-state-message'));\n\t\tthis.stateMessage.hidden = true;\n\t\tthis.stateMessageLabel = dom.append(this.stateMessage, $('span.label'));\n\t\tthis.stateMessageLabelHover = this._register(this.hoverService.setupManagedHover(getDefaultHoverDelegate('mouse'), this.stateMessage, ''));\n\t}\n\n\tprotected override renderBody(container: HTMLElement): void {\n\t\tsuper.renderBody(container);\n\t\tthis.element.classList.add('debug-pane');\n\t\tcontainer.classList.add('debug-call-stack');\n\t\tconst treeContainer = renderViewTree(container);\n\n\t\tthis.dataSource = new CallStackDataSource(this.debugService);\n\t\tthis.tree = this.instantiationService.createInstance(WorkbenchCompressibleAsyncDataTree<IDebugModel, CallStackItem, FuzzyScore>, 'CallStackView', treeContainer, new CallStackDelegate(), new CallStackCompressionDelegate(this.debugService), [\n\t\t\tthis.instantiationService.createInstance(SessionsRenderer),\n\t\t\tthis.instantiationService.createInstance(ThreadsRenderer),\n\t\t\tthis.instantiationService.createInstance(StackFramesRenderer),\n\t\t\tthis.instantiationService.createInstance(ErrorsRenderer),\n\t\t\tnew LoadMoreRenderer(),\n\t\t\tnew ShowMoreRenderer()\n\t\t], this.dataSource, {\n\t\t\taccessibilityProvider: new CallStackAccessibilityProvider(),\n\t\t\tcompressionEnabled: true,\n\t\t\tautoExpandSingleChildren: true,\n\t\t\tidentityProvider: {\n\t\t\t\tgetId: (element: CallStackItem) => {\n\t\t\t\t\tif (typeof element === 'string') {\n\t\t\t\t\t\treturn element;\n\t\t\t\t\t}\n\t\t\t\t\tif (element instanceof Array) {\n\t\t\t\t\t\treturn `showMore ${element[0].getId()}`;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn element.getId();\n\t\t\t\t}\n\t\t\t},\n\t\t\tkeyboardNavigationLabelProvider: {\n\t\t\t\tgetKeyboardNavigationLabel: (e: CallStackItem) => {\n\t\t\t\t\tif (isDebugSession(e)) {\n\t\t\t\t\t\treturn e.getLabel();\n\t\t\t\t\t}\n\t\t\t\t\tif (e instanceof Thread) {\n\t\t\t\t\t\treturn `${e.name} ${e.stateLabel}`;\n\t\t\t\t\t}\n\t\t\t\t\tif (e instanceof StackFrame || typeof e === 'string') {\n\t\t\t\t\t\treturn e;\n\t\t\t\t\t}\n\t\t\t\t\tif (e instanceof ThreadAndSessionIds) {\n\t\t\t\t\t\treturn LoadMoreRenderer.LABEL;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn localize('showMoreStackFrames2', \"Show More Stack Frames\");\n\t\t\t\t},\n\t\t\t\tgetCompressedNodeKeyboardNavigationLabel: (e: CallStackItem[]) => {\n\t\t\t\t\tconst firstItem = e[0];\n\t\t\t\t\tif (isDebugSession(firstItem)) {\n\t\t\t\t\t\treturn firstItem.getLabel();\n\t\t\t\t\t}\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t},\n\t\t\texpandOnlyOnTwistieClick: true,\n\t\t\toverrideStyles: this.getLocationBasedColors().listOverrideStyles\n\t\t});\n\n\t\tCONTEXT_CALLSTACK_FOCUSED.bindTo(this.tree.contextKeyService);\n\n\t\tthis.tree.setInput(this.debugService.getModel());\n\t\tthis._register(this.tree);\n\t\tthis._register(this.tree.onDidOpen(async e => {\n\t\t\tif (this.ignoreSelectionChangedEvent) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst focusStackFrame = (stackFrame: IStackFrame | undefined, thread: IThread | undefined, session: IDebugSession, options: { explicit?: boolean; preserveFocus?: boolean; sideBySide?: boolean; pinned?: boolean } = {}) => {\n\t\t\t\tthis.ignoreFocusStackFrameEvent = true;\n\t\t\t\ttry {\n\t\t\t\t\tthis.debugService.focusStackFrame(stackFrame, thread, session, { ...options, ...{ explicit: true } });\n\t\t\t\t} finally {\n\t\t\t\t\tthis.ignoreFocusStackFrameEvent = false;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tconst element = e.element;\n\t\t\tif (element instanceof StackFrame) {\n\t\t\t\tconst opts = {\n\t\t\t\t\tpreserveFocus: e.editorOptions.preserveFocus,\n\t\t\t\t\tsideBySide: e.sideBySide,\n\t\t\t\t\tpinned: e.editorOptions.pinned\n\t\t\t\t};\n\t\t\t\tfocusStackFrame(element, element.thread, element.thread.session, opts);\n\t\t\t}\n\t\t\tif (element instanceof Thread) {\n\t\t\t\tfocusStackFrame(undefined, element, element.session);\n\t\t\t}\n\t\t\tif (isDebugSession(element)) {\n\t\t\t\tfocusStackFrame(undefined, undefined, element);\n\t\t\t}\n\t\t\tif (element instanceof ThreadAndSessionIds) {\n\t\t\t\tconst session = this.debugService.getModel().getSession(element.sessionId);\n\t\t\t\tconst thread = session && session.getThread(element.threadId);\n\t\t\t\tif (thread) {\n\t\t\t\t\tconst totalFrames = thread.stoppedDetails?.totalFrames;\n\t\t\t\t\tconst remainingFramesCount = typeof totalFrames === 'number' ? (totalFrames - thread.getCallStack().length) : undefined;\n\t\t\t\t\t// Get all the remaining frames\n\t\t\t\t\tawait (<Thread>thread).fetchCallStack(remainingFramesCount);\n\t\t\t\t\tawait this.tree.updateChildren();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (element instanceof Array) {\n\t\t\t\telement.forEach(sf => this.dataSource.deemphasizedStackFramesToShow.add(sf));\n\t\t\t\tthis.tree.updateChildren();\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.debugService.getModel().onDidChangeCallStack(() => {\n\t\t\tif (!this.isBodyVisible()) {\n\t\t\t\tthis.needsRefresh = true;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!this.onCallStackChangeScheduler.isScheduled()) {\n\t\t\t\tthis.onCallStackChangeScheduler.schedule();\n\t\t\t}\n\t\t}));\n\t\tconst onFocusChange = Event.any<unknown>(this.debugService.getViewModel().onDidFocusStackFrame, this.debugService.getViewModel().onDidFocusSession);\n\t\tthis._register(onFocusChange(async () => {\n\t\t\tif (this.ignoreFocusStackFrameEvent) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!this.isBodyVisible()) {\n\t\t\t\tthis.needsRefresh = true;\n\t\t\t\tthis.selectionNeedsUpdate = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.onCallStackChangeScheduler.isScheduled()) {\n\t\t\t\tthis.selectionNeedsUpdate = true;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tawait this.updateTreeSelection();\n\t\t}));\n\t\tthis._register(this.tree.onContextMenu(e => this.onContextMenu(e)));\n\n\t\t// Schedule the update of the call stack tree if the viewlet is opened after a session started #14684\n\t\tif (this.debugService.state === State.Stopped) {\n\t\t\tthis.onCallStackChangeScheduler.schedule(0);\n\t\t}\n\n\t\tthis._register(this.onDidChangeBodyVisibility(visible => {\n\t\t\tif (visible && this.needsRefresh) {\n\t\t\t\tthis.onCallStackChangeScheduler.schedule();\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.debugService.onDidNewSession(s => {\n\t\t\tconst sessionListeners: IDisposable[] = [];\n\t\t\tsessionListeners.push(s.onDidChangeName(() => {\n\t\t\t\t// this.tree.updateChildren is called on a delay after a session is added,\n\t\t\t\t// so don't rerender if the tree doesn't have the node yet\n\t\t\t\tif (this.tree.hasNode(s)) {\n\t\t\t\t\tthis.tree.rerender(s);\n\t\t\t\t}\n\t\t\t}));\n\t\t\tsessionListeners.push(s.onDidEndAdapter(() => dispose(sessionListeners)));\n\t\t\tif (s.parentSession) {\n\t\t\t\t// A session we already expanded has a new child session, allow to expand it again.\n\t\t\t\tthis.autoExpandedSessions.delete(s.parentSession);\n\t\t\t}\n\t\t}));\n\t}\n\n\tprotected override layoutBody(height: number, width: number): void {\n\t\tsuper.layoutBody(height, width);\n\t\tthis.tree.layout(height, width);\n\t}\n\n\toverride focus(): void {\n\t\tsuper.focus();\n\t\tthis.tree.domFocus();\n\t}\n\n\tcollapseAll(): void {\n\t\tthis.tree.collapseAll();\n\t}\n\n\tprivate async updateTreeSelection(): Promise<void> {\n\t\tif (!this.tree || !this.tree.getInput()) {\n\t\t\t// Tree not initialized yet\n\t\t\treturn;\n\t\t}\n\n\t\tconst updateSelectionAndReveal = (element: IStackFrame | IDebugSession) => {\n\t\t\tthis.ignoreSelectionChangedEvent = true;\n\t\t\ttry {\n\t\t\t\tthis.tree.setSelection([element]);\n\t\t\t\t// If the element is outside of the screen bounds,\n\t\t\t\t// position it in the middle\n\t\t\t\tif (this.tree.getRelativeTop(element) === null) {\n\t\t\t\t\tthis.tree.reveal(element, 0.5);\n\t\t\t\t} else {\n\t\t\t\t\tthis.tree.reveal(element);\n\t\t\t\t}\n\t\t\t} catch (e) { }\n\t\t\tfinally {\n\t\t\t\tthis.ignoreSelectionChangedEvent = false;\n\t\t\t}\n\t\t};\n\n\t\tconst thread = this.debugService.getViewModel().focusedThread;\n\t\tconst session = this.debugService.getViewModel().focusedSession;\n\t\tconst stackFrame = this.debugService.getViewModel().focusedStackFrame;\n\t\tif (!thread) {\n\t\t\tif (!session) {\n\t\t\t\tthis.tree.setSelection([]);\n\t\t\t} else {\n\t\t\t\tupdateSelectionAndReveal(session);\n\t\t\t}\n\t\t} else {\n\t\t\t// Ignore errors from this expansions because we are not aware if we rendered the threads and sessions or we hide them to declutter the view\n\t\t\ttry {\n\t\t\t\tawait expandTo(thread.session, this.tree);\n\t\t\t} catch (e) { }\n\t\t\ttry {\n\t\t\t\tawait this.tree.expand(thread);\n\t\t\t} catch (e) { }\n\n\t\t\tconst toReveal = stackFrame || session;\n\t\t\tif (toReveal) {\n\t\t\t\tupdateSelectionAndReveal(toReveal);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate onContextMenu(e: ITreeContextMenuEvent<CallStackItem>): void {\n\t\tconst element = e.element;\n\t\tlet overlay: [string, ContextKeyValue][] = [];\n\t\tif (isDebugSession(element)) {\n\t\t\toverlay = getSessionContextOverlay(element);\n\t\t} else if (element instanceof Thread) {\n\t\t\toverlay = getThreadContextOverlay(element);\n\t\t} else if (element instanceof StackFrame) {\n\t\t\toverlay = getStackFrameContextOverlay(element);\n\t\t}\n\n\t\tconst contextKeyService = this.contextKeyService.createOverlay(overlay);\n\t\tconst menu = this.menuService.getMenuActions(MenuId.DebugCallStackContext, contextKeyService, { arg: getContextForContributedActions(element), shouldForwardArgs: true });\n\t\tconst result = getContextMenuActions(menu, 'inline');\n\t\tthis.contextMenuService.showContextMenu({\n\t\t\tgetAnchor: () => e.anchor,\n\t\t\tgetActions: () => result.secondary,\n\t\t\tgetActionsContext: () => getContext(element)\n\t\t});\n\t}\n}\n\ninterface IThreadTemplateData {\n\tthread: HTMLElement;\n\tname: HTMLElement;\n\tstateLabel: HTMLSpanElement;\n\tlabel: HighlightedLabel;\n\tactionBar: ActionBar;\n\telementDisposable: DisposableStore;\n\ttemplateDisposable: IDisposable;\n}\n\ninterface ISessionTemplateData {\n\tsession: HTMLElement;\n\tname: HTMLElement;\n\tstateLabel: HTMLSpanElement;\n\tlabel: HighlightedLabel;\n\tactionBar: ActionBar;\n\telementDisposable: DisposableStore;\n\ttemplateDisposable: IDisposable;\n}\n\ninterface IErrorTemplateData {\n\tlabel: HTMLElement;\n\ttemplateDisposable: DisposableStore;\n}\n\ninterface ILabelTemplateData {\n\tlabel: HTMLElement;\n}\n\ninterface IStackFrameTemplateData {\n\tstackFrame: HTMLElement;\n\tfile: HTMLElement;\n\tfileName: HTMLElement;\n\tlineNumber: HTMLElement;\n\tlabel: HighlightedLabel;\n\tactionBar: ActionBar;\n\ttemplateDisposable: DisposableStore;\n\telementDisposables: DisposableStore;\n}\n\nfunction getSessionContextOverlay(session: IDebugSession): [string, ContextKeyValue][] {\n\treturn [\n\t\t[CONTEXT_CALLSTACK_ITEM_TYPE.key, 'session'],\n\t\t[CONTEXT_CALLSTACK_SESSION_IS_ATTACH.key, isSessionAttach(session)],\n\t\t[CONTEXT_CALLSTACK_ITEM_STOPPED.key, session.state === State.Stopped],\n\t\t[CONTEXT_CALLSTACK_SESSION_HAS_ONE_THREAD.key, session.getAllThreads().length === 1],\n\t];\n}\n\nclass SessionsRenderer implements ICompressibleTreeRenderer<IDebugSession, FuzzyScore, ISessionTemplateData> {\n\tstatic readonly ID = 'session';\n\n\tconstructor(\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IHoverService private readonly hoverService: IHoverService,\n\t\t@IMenuService private readonly menuService: IMenuService,\n\t) { }\n\n\tget templateId(): string {\n\t\treturn SessionsRenderer.ID;\n\t}\n\n\trenderTemplate(container: HTMLElement): ISessionTemplateData {\n\t\tconst session = dom.append(container, $('.session'));\n\t\tdom.append(session, $(ThemeIcon.asCSSSelector(icons.callstackViewSession)));\n\t\tconst name = dom.append(session, $('.name'));\n\t\tconst stateLabel = dom.append(session, $('span.state.label.monaco-count-badge.long'));\n\t\tconst templateDisposable = new DisposableStore();\n\t\tconst label = templateDisposable.add(new HighlightedLabel(name));\n\n\t\tconst stopActionViewItemDisposables = templateDisposable.add(new DisposableStore());\n\t\tconst actionBar = templateDisposable.add(new ActionBar(session, {\n\t\t\tactionViewItemProvider: (action, options) => {\n\t\t\t\tif ((action.id === STOP_ID || action.id === DISCONNECT_ID) && action instanceof MenuItemAction) {\n\t\t\t\t\tstopActionViewItemDisposables.clear();\n\t\t\t\t\tconst item = this.instantiationService.invokeFunction(accessor => createDisconnectMenuItemAction(action as MenuItemAction, stopActionViewItemDisposables, accessor, { ...options, menuAsChild: false }));\n\t\t\t\t\tif (item) {\n\t\t\t\t\t\treturn item;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (action instanceof MenuItemAction) {\n\t\t\t\t\treturn this.instantiationService.createInstance(MenuEntryActionViewItem, action, { hoverDelegate: options.hoverDelegate });\n\t\t\t\t} else if (action instanceof SubmenuItemAction) {\n\t\t\t\t\treturn this.instantiationService.createInstance(SubmenuEntryActionViewItem, action, { hoverDelegate: options.hoverDelegate });\n\t\t\t\t}\n\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t}));\n\n\t\tconst elementDisposable = templateDisposable.add(new DisposableStore());\n\t\treturn { session, name, stateLabel, label, actionBar, elementDisposable, templateDisposable };\n\t}\n\n\trenderElement(element: ITreeNode<IDebugSession, FuzzyScore>, _: number, data: ISessionTemplateData): void {\n\t\tthis.doRenderElement(element.element, createMatches(element.filterData), data);\n\t}\n\n\trenderCompressedElements(node: ITreeNode<ICompressedTreeNode<IDebugSession>, FuzzyScore>, _index: number, templateData: ISessionTemplateData): void {\n\t\tconst lastElement = node.element.elements[node.element.elements.length - 1];\n\t\tconst matches = createMatches(node.filterData);\n\t\tthis.doRenderElement(lastElement, matches, templateData);\n\t}\n\n\tprivate doRenderElement(session: IDebugSession, matches: IMatch[], data: ISessionTemplateData): void {\n\t\tconst sessionHover = data.elementDisposable.add(this.hoverService.setupManagedHover(getDefaultHoverDelegate('mouse'), data.session, localize({ key: 'session', comment: ['Session is a noun'] }, \"Session\")));\n\t\tdata.label.set(session.getLabel(), matches);\n\t\tconst stoppedDetails = session.getStoppedDetails();\n\t\tconst thread = session.getAllThreads().find(t => t.stopped);\n\n\t\tconst contextKeyService = this.contextKeyService.createOverlay(getSessionContextOverlay(session));\n\t\tconst menu = data.elementDisposable.add(this.menuService.createMenu(MenuId.DebugCallStackContext, contextKeyService));\n\n\t\tconst setupActionBar = () => {\n\t\t\tdata.actionBar.clear();\n\n\t\t\tconst { primary } = getActionBarActions(menu.getActions({ arg: getContextForContributedActions(session), shouldForwardArgs: true }), 'inline');\n\t\t\tdata.actionBar.push(primary, { icon: true, label: false });\n\t\t\t// We need to set our internal context on the action bar, since our commands depend on that one\n\t\t\t// While the external context our extensions rely on\n\t\t\tdata.actionBar.context = getContext(session);\n\t\t};\n\t\tdata.elementDisposable.add(menu.onDidChange(() => setupActionBar()));\n\t\tsetupActionBar();\n\n\t\tdata.stateLabel.style.display = '';\n\n\t\tif (stoppedDetails) {\n\t\t\tdata.stateLabel.textContent = stoppedDescription(stoppedDetails);\n\t\t\tsessionHover.update(`${session.getLabel()}: ${stoppedText(stoppedDetails)}`);\n\t\t\tdata.stateLabel.classList.toggle('exception', stoppedDetails.reason === 'exception');\n\t\t} else if (thread && thread.stoppedDetails) {\n\t\t\tdata.stateLabel.textContent = stoppedDescription(thread.stoppedDetails);\n\t\t\tsessionHover.update(`${session.getLabel()}: ${stoppedText(thread.stoppedDetails)}`);\n\t\t\tdata.stateLabel.classList.toggle('exception', thread.stoppedDetails.reason === 'exception');\n\t\t} else {\n\t\t\tdata.stateLabel.textContent = localize({ key: 'running', comment: ['indicates state'] }, \"Running\");\n\t\t\tdata.stateLabel.classList.remove('exception');\n\t\t}\n\t}\n\n\tdisposeTemplate(templateData: ISessionTemplateData): void {\n\t\ttemplateData.templateDisposable.dispose();\n\t}\n\n\tdisposeElement(_element: ITreeNode<IDebugSession, FuzzyScore>, _: number, templateData: ISessionTemplateData): void {\n\t\ttemplateData.elementDisposable.clear();\n\t}\n\n\tdisposeCompressedElements(node: ITreeNode<ICompressedTreeNode<IDebugSession>, FuzzyScore>, index: number, templateData: ISessionTemplateData): void {\n\t\ttemplateData.elementDisposable.clear();\n\t}\n}\n\nfunction getThreadContextOverlay(thread: IThread): [string, ContextKeyValue][] {\n\treturn [\n\t\t[CONTEXT_CALLSTACK_ITEM_TYPE.key, 'thread'],\n\t\t[CONTEXT_CALLSTACK_ITEM_STOPPED.key, thread.stopped]\n\t];\n}\n\nclass ThreadsRenderer implements ICompressibleTreeRenderer<IThread, FuzzyScore, IThreadTemplateData> {\n\tstatic readonly ID = 'thread';\n\n\tconstructor(\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IHoverService private readonly hoverService: IHoverService,\n\t\t@IMenuService private readonly menuService: IMenuService,\n\t) { }\n\n\tget templateId(): string {\n\t\treturn ThreadsRenderer.ID;\n\t}\n\n\trenderTemplate(container: HTMLElement): IThreadTemplateData {\n\t\tconst thread = dom.append(container, $('.thread'));\n\t\tconst name = dom.append(thread, $('.name'));\n\t\tconst stateLabel = dom.append(thread, $('span.state.label.monaco-count-badge.long'));\n\n\t\tconst templateDisposable = new DisposableStore();\n\t\tconst label = templateDisposable.add(new HighlightedLabel(name));\n\n\t\tconst actionBar = templateDisposable.add(new ActionBar(thread));\n\t\tconst elementDisposable = templateDisposable.add(new DisposableStore());\n\n\t\treturn { thread, name, stateLabel, label, actionBar, elementDisposable, templateDisposable };\n\t}\n\n\trenderElement(element: ITreeNode<IThread, FuzzyScore>, _index: number, data: IThreadTemplateData): void {\n\t\tconst thread = element.element;\n\t\tdata.elementDisposable.add(this.hoverService.setupManagedHover(getDefaultHoverDelegate('mouse'), data.thread, thread.name));\n\t\tdata.label.set(thread.name, createMatches(element.filterData));\n\t\tdata.stateLabel.textContent = thread.stateLabel;\n\t\tdata.stateLabel.classList.toggle('exception', thread.stoppedDetails?.reason === 'exception');\n\n\t\tconst contextKeyService = this.contextKeyService.createOverlay(getThreadContextOverlay(thread));\n\t\tconst menu = data.elementDisposable.add(this.menuService.createMenu(MenuId.DebugCallStackContext, contextKeyService));\n\n\t\tconst setupActionBar = () => {\n\t\t\tdata.actionBar.clear();\n\n\t\t\tconst { primary } = getActionBarActions(menu.getActions({ arg: getContextForContributedActions(thread), shouldForwardArgs: true }), 'inline');\n\t\t\tdata.actionBar.push(primary, { icon: true, label: false });\n\t\t\t// We need to set our internal context on the action bar, since our commands depend on that one\n\t\t\t// While the external context our extensions rely on\n\t\t\tdata.actionBar.context = getContext(thread);\n\t\t};\n\t\tdata.elementDisposable.add(menu.onDidChange(() => setupActionBar()));\n\t\tsetupActionBar();\n\t}\n\n\trenderCompressedElements(_node: ITreeNode<ICompressedTreeNode<IThread>, FuzzyScore>, _index: number, _templateData: IThreadTemplateData): void {\n\t\tthrow new Error('Method not implemented.');\n\t}\n\n\tdisposeElement(_element: ITreeNode<IThread, FuzzyScore>, _index: number, templateData: IThreadTemplateData): void {\n\t\ttemplateData.elementDisposable.clear();\n\t}\n\n\tdisposeTemplate(templateData: IThreadTemplateData): void {\n\t\ttemplateData.templateDisposable.dispose();\n\t}\n}\n\nfunction getStackFrameContextOverlay(stackFrame: IStackFrame): [string, ContextKeyValue][] {\n\treturn [\n\t\t[CONTEXT_CALLSTACK_ITEM_TYPE.key, 'stackFrame'],\n\t\t[CONTEXT_STACK_FRAME_SUPPORTS_RESTART.key, stackFrame.canRestart]\n\t];\n}\n\nclass StackFramesRenderer implements ICompressibleTreeRenderer<IStackFrame, FuzzyScore, IStackFrameTemplateData> {\n\tstatic readonly ID = 'stackFrame';\n\n\tconstructor(\n\t\t@IHoverService private readonly hoverService: IHoverService,\n\t\t@ILabelService private readonly labelService: ILabelService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t) { }\n\n\tget templateId(): string {\n\t\treturn StackFramesRenderer.ID;\n\t}\n\n\trenderTemplate(container: HTMLElement): IStackFrameTemplateData {\n\t\tconst stackFrame = dom.append(container, $('.stack-frame'));\n\t\tconst labelDiv = dom.append(stackFrame, $('span.label.expression'));\n\t\tconst file = dom.append(stackFrame, $('.file'));\n\t\tconst fileName = dom.append(file, $('span.file-name'));\n\t\tconst wrapper = dom.append(file, $('span.line-number-wrapper'));\n\t\tconst lineNumber = dom.append(wrapper, $('span.line-number.monaco-count-badge'));\n\n\t\tconst templateDisposable = new DisposableStore();\n\t\tconst elementDisposables = new DisposableStore();\n\t\ttemplateDisposable.add(elementDisposables);\n\t\tconst label = templateDisposable.add(new HighlightedLabel(labelDiv));\n\t\tconst actionBar = templateDisposable.add(new ActionBar(stackFrame));\n\n\t\treturn { file, fileName, label, lineNumber, stackFrame, actionBar, templateDisposable, elementDisposables };\n\t}\n\n\trenderElement(element: ITreeNode<IStackFrame, FuzzyScore>, index: number, data: IStackFrameTemplateData): void {\n\t\tconst stackFrame = element.element;\n\t\tdata.stackFrame.classList.toggle('disabled', !stackFrame.source || !stackFrame.source.available || isFrameDeemphasized(stackFrame));\n\t\tdata.stackFrame.classList.toggle('label', stackFrame.presentationHint === 'label');\n\t\tconst hasActions = !!stackFrame.thread.session.capabilities.supportsRestartFrame && stackFrame.presentationHint !== 'label' && stackFrame.presentationHint !== 'subtle' && stackFrame.canRestart;\n\t\tdata.stackFrame.classList.toggle('has-actions', hasActions);\n\n\t\tlet title = stackFrame.source.inMemory ? stackFrame.source.uri.path : this.labelService.getUriLabel(stackFrame.source.uri);\n\t\tif (stackFrame.source.raw.origin) {\n\t\t\ttitle += `\\n${stackFrame.source.raw.origin}`;\n\t\t}\n\t\tdata.elementDisposables.add(this.hoverService.setupManagedHover(getDefaultHoverDelegate('mouse'), data.file, title));\n\n\t\tdata.label.set(stackFrame.name, createMatches(element.filterData), stackFrame.name);\n\t\tdata.fileName.textContent = getSpecificSourceName(stackFrame);\n\t\tif (stackFrame.range.startLineNumber !== undefined) {\n\t\t\tdata.lineNumber.textContent = `${stackFrame.range.startLineNumber}`;\n\t\t\tif (stackFrame.range.startColumn) {\n\t\t\t\tdata.lineNumber.textContent += `:${stackFrame.range.startColumn}`;\n\t\t\t}\n\t\t\tdata.lineNumber.classList.remove('unavailable');\n\t\t} else {\n\t\t\tdata.lineNumber.classList.add('unavailable');\n\t\t}\n\n\t\tdata.actionBar.clear();\n\t\tif (hasActions) {\n\t\t\tconst action = data.elementDisposables.add(new Action('debug.callStack.restartFrame', localize('restartFrame', \"Restart Frame\"), ThemeIcon.asClassName(icons.debugRestartFrame), true, async () => {\n\t\t\t\ttry {\n\t\t\t\t\tawait stackFrame.restart();\n\t\t\t\t} catch (e) {\n\t\t\t\t\tthis.notificationService.error(e);\n\t\t\t\t}\n\t\t\t}));\n\t\t\tdata.actionBar.push(action, { icon: true, label: false });\n\t\t}\n\t}\n\n\trenderCompressedElements(node: ITreeNode<ICompressedTreeNode<IStackFrame>, FuzzyScore>, index: number, templateData: IStackFrameTemplateData): void {\n\t\tthrow new Error('Method not implemented.');\n\t}\n\tdisposeElement(element: ITreeNode<IStackFrame, FuzzyScore>, index: number, templateData: IStackFrameTemplateData): void {\n\t\ttemplateData.elementDisposables.clear();\n\t}\n\n\tdisposeTemplate(templateData: IStackFrameTemplateData): void {\n\t\ttemplateData.templateDisposable.dispose();\n\t}\n}\n\nclass ErrorsRenderer implements ICompressibleTreeRenderer<string, FuzzyScore, IErrorTemplateData> {\n\tstatic readonly ID = 'error';\n\n\tget templateId(): string {\n\t\treturn ErrorsRenderer.ID;\n\t}\n\n\tconstructor(\n\t\t@IHoverService private readonly hoverService: IHoverService\n\t) {\n\t}\n\n\trenderTemplate(container: HTMLElement): IErrorTemplateData {\n\t\tconst label = dom.append(container, $('.error'));\n\n\t\treturn { label, templateDisposable: new DisposableStore() };\n\t}\n\n\trenderElement(element: ITreeNode<string, FuzzyScore>, index: number, data: IErrorTemplateData): void {\n\t\tconst error = element.element;\n\t\tdata.label.textContent = error;\n\t\tdata.templateDisposable.add(this.hoverService.setupManagedHover(getDefaultHoverDelegate('mouse'), data.label, error));\n\t}\n\n\trenderCompressedElements(node: ITreeNode<ICompressedTreeNode<string>, FuzzyScore>, index: number, templateData: IErrorTemplateData): void {\n\t\tthrow new Error('Method not implemented.');\n\t}\n\n\tdisposeTemplate(templateData: IErrorTemplateData): void {\n\t\t// noop\n\t}\n}\n\nclass LoadMoreRenderer implements ICompressibleTreeRenderer<ThreadAndSessionIds, FuzzyScore, ILabelTemplateData> {\n\tstatic readonly ID = 'loadMore';\n\tstatic readonly LABEL = localize('loadAllStackFrames', \"Load More Stack Frames\");\n\n\tconstructor() { }\n\n\tget templateId(): string {\n\t\treturn LoadMoreRenderer.ID;\n\t}\n\n\trenderTemplate(container: HTMLElement): ILabelTemplateData {\n\t\tconst label = dom.append(container, $('.load-all'));\n\t\tlabel.style.color = asCssVariable(textLinkForeground);\n\t\treturn { label };\n\t}\n\n\trenderElement(element: ITreeNode<ThreadAndSessionIds, FuzzyScore>, index: number, data: ILabelTemplateData): void {\n\t\tdata.label.textContent = LoadMoreRenderer.LABEL;\n\t}\n\n\trenderCompressedElements(node: ITreeNode<ICompressedTreeNode<ThreadAndSessionIds>, FuzzyScore>, index: number, templateData: ILabelTemplateData): void {\n\t\tthrow new Error('Method not implemented.');\n\t}\n\n\tdisposeTemplate(templateData: ILabelTemplateData): void {\n\t\t// noop\n\t}\n}\n\nclass ShowMoreRenderer implements ICompressibleTreeRenderer<IStackFrame[], FuzzyScore, ILabelTemplateData> {\n\tstatic readonly ID = 'showMore';\n\n\tconstructor() { }\n\n\n\tget templateId(): string {\n\t\treturn ShowMoreRenderer.ID;\n\t}\n\n\trenderTemplate(container: HTMLElement): ILabelTemplateData {\n\t\tconst label = dom.append(container, $('.show-more'));\n\t\tlabel.style.color = asCssVariable(textLinkForeground);\n\t\treturn { label };\n\t}\n\n\trenderElement(element: ITreeNode<IStackFrame[], FuzzyScore>, index: number, data: ILabelTemplateData): void {\n\t\tconst stackFrames = element.element;\n\t\tif (stackFrames.every(sf => !!(sf.source && sf.source.origin && sf.source.origin === stackFrames[0].source.origin))) {\n\t\t\tdata.label.textContent = localize('showMoreAndOrigin', \"Show {0} More: {1}\", stackFrames.length, stackFrames[0].source.origin);\n\t\t} else {\n\t\t\tdata.label.textContent = localize('showMoreStackFrames', \"Show {0} More Stack Frames\", stackFrames.length);\n\t\t}\n\t}\n\n\trenderCompressedElements(node: ITreeNode<ICompressedTreeNode<IStackFrame[]>, FuzzyScore>, index: number, templateData: ILabelTemplateData): void {\n\t\tthrow new Error('Method not implemented.');\n\t}\n\n\tdisposeTemplate(templateData: ILabelTemplateData): void {\n\t\t// noop\n\t}\n}\n\nclass CallStackDelegate implements IListVirtualDelegate<CallStackItem> {\n\n\tgetHeight(element: CallStackItem): number {\n\t\tif (element instanceof StackFrame && element.presentationHint === 'label') {\n\t\t\treturn 16;\n\t\t}\n\t\tif (element instanceof ThreadAndSessionIds || element instanceof Array) {\n\t\t\treturn 16;\n\t\t}\n\n\t\treturn 22;\n\t}\n\n\tgetTemplateId(element: CallStackItem): string {\n\t\tif (isDebugSession(element)) {\n\t\t\treturn SessionsRenderer.ID;\n\t\t}\n\t\tif (element instanceof Thread) {\n\t\t\treturn ThreadsRenderer.ID;\n\t\t}\n\t\tif (element instanceof StackFrame) {\n\t\t\treturn StackFramesRenderer.ID;\n\t\t}\n\t\tif (typeof element === 'string') {\n\t\t\treturn ErrorsRenderer.ID;\n\t\t}\n\t\tif (element instanceof ThreadAndSessionIds) {\n\t\t\treturn LoadMoreRenderer.ID;\n\t\t}\n\n\t\t// element instanceof Array\n\t\treturn ShowMoreRenderer.ID;\n\t}\n}\n\nfunction stoppedText(stoppedDetails: IRawStoppedDetails): string {\n\treturn stoppedDetails.text ?? stoppedDescription(stoppedDetails);\n}\n\nfunction stoppedDescription(stoppedDetails: IRawStoppedDetails): string {\n\treturn stoppedDetails.description ||\n\t\t(stoppedDetails.reason ? localize({ key: 'pausedOn', comment: ['indicates reason for program being paused'] }, \"Paused on {0}\", stoppedDetails.reason) : localize('paused', \"Paused\"));\n}\n\nfunction isDebugModel(obj: unknown): obj is IDebugModel {\n\treturn !!obj && typeof (obj as IDebugModel).getSessions === 'function';\n}\n\nfunction isDebugSession(obj: unknown): obj is IDebugSession {\n\treturn !!obj && typeof (obj as IDebugSession).getAllThreads === 'function';\n}\n\nclass CallStackDataSource implements IAsyncDataSource<IDebugModel, CallStackItem> {\n\tdeemphasizedStackFramesToShow = new WeakSet<IStackFrame>();\n\n\tconstructor(private debugService: IDebugService) { }\n\n\thasChildren(element: IDebugModel | CallStackItem): boolean {\n\t\tif (isDebugSession(element)) {\n\t\t\tconst threads = element.getAllThreads();\n\t\t\treturn (threads.length > 1) || (threads.length === 1 && threads[0].stopped) || !!(this.debugService.getModel().getSessions().find(s => s.parentSession === element));\n\t\t}\n\n\t\treturn isDebugModel(element) || (element instanceof Thread && element.stopped);\n\t}\n\n\tasync getChildren(element: IDebugModel | CallStackItem): Promise<CallStackItem[]> {\n\t\tif (isDebugModel(element)) {\n\t\t\tconst sessions = element.getSessions();\n\t\t\tif (sessions.length === 0) {\n\t\t\t\treturn Promise.resolve([]);\n\t\t\t}\n\t\t\tif (sessions.length > 1 || this.debugService.getViewModel().isMultiSessionView()) {\n\t\t\t\treturn Promise.resolve(sessions.filter(s => !s.parentSession));\n\t\t\t}\n\n\t\t\tconst threads = sessions[0].getAllThreads();\n\t\t\t// Only show the threads in the call stack if there is more than 1 thread.\n\t\t\treturn threads.length === 1 ? this.getThreadChildren(<Thread>threads[0]) : Promise.resolve(threads);\n\t\t} else if (isDebugSession(element)) {\n\t\t\tconst childSessions = this.debugService.getModel().getSessions().filter(s => s.parentSession === element);\n\t\t\tconst threads: CallStackItem[] = element.getAllThreads();\n\t\t\tif (threads.length === 1) {\n\t\t\t\t// Do not show thread when there is only one to be compact.\n\t\t\t\tconst children = await this.getThreadChildren(<Thread>threads[0]);\n\t\t\t\treturn children.concat(childSessions);\n\t\t\t}\n\n\t\t\treturn Promise.resolve(threads.concat(childSessions));\n\t\t} else {\n\t\t\treturn this.getThreadChildren(<Thread>element);\n\t\t}\n\t}\n\n\tprivate getThreadChildren(thread: Thread): Promise<CallStackItem[]> {\n\t\treturn this.getThreadCallstack(thread).then(children => {\n\t\t\t// Check if some stack frames should be hidden under a parent element since they are deemphasized\n\t\t\tconst result: CallStackItem[] = [];\n\t\t\tchildren.forEach((child, index) => {\n\t\t\t\tif (child instanceof StackFrame && child.source && isFrameDeemphasized(child)) {\n\t\t\t\t\t// Check if the user clicked to show the deemphasized source\n\t\t\t\t\tif (!this.deemphasizedStackFramesToShow.has(child)) {\n\t\t\t\t\t\tif (result.length) {\n\t\t\t\t\t\t\tconst last = result[result.length - 1];\n\t\t\t\t\t\t\tif (last instanceof Array) {\n\t\t\t\t\t\t\t\t// Collect all the stackframes that will be \"collapsed\"\n\t\t\t\t\t\t\t\tlast.push(child);\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst nextChild = index < children.length - 1 ? children[index + 1] : undefined;\n\t\t\t\t\t\tif (nextChild instanceof StackFrame && nextChild.source && isFrameDeemphasized(nextChild)) {\n\t\t\t\t\t\t\t// Start collecting stackframes that will be \"collapsed\"\n\t\t\t\t\t\t\tresult.push([child]);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tresult.push(child);\n\t\t\t});\n\n\t\t\treturn result;\n\t\t});\n\t}\n\n\tprivate async getThreadCallstack(thread: Thread): Promise<Array<IStackFrame | string | ThreadAndSessionIds>> {\n\t\tlet callStack: Array<IStackFrame | string | ThreadAndSessionIds> = thread.getCallStack();\n\t\tif (!callStack || !callStack.length) {\n\t\t\tawait thread.fetchCallStack();\n\t\t\tcallStack = thread.getCallStack();\n\t\t}\n\n\t\tif (callStack.length === 1 && thread.session.capabilities.supportsDelayedStackTraceLoading && thread.stoppedDetails && thread.stoppedDetails.totalFrames && thread.stoppedDetails.totalFrames > 1) {\n\t\t\t// To reduce flashing of the call stack view simply append the stale call stack\n\t\t\t// once we have the correct data the tree will refresh and we will no longer display it.\n\t\t\tcallStack = callStack.concat(thread.getStaleCallStack().slice(1));\n\t\t}\n\n\t\tif (thread.stoppedDetails && thread.stoppedDetails.framesErrorMessage) {\n\t\t\tcallStack = callStack.concat([thread.stoppedDetails.framesErrorMessage]);\n\t\t}\n\t\tif (!thread.reachedEndOfCallStack && thread.stoppedDetails) {\n\t\t\tcallStack = callStack.concat([new ThreadAndSessionIds(thread.session.getId(), thread.threadId)]);\n\t\t}\n\n\t\treturn callStack;\n\t}\n}\n\nclass CallStackAccessibilityProvider implements IListAccessibilityProvider<CallStackItem> {\n\n\tgetWidgetAriaLabel(): string {\n\t\treturn localize({ comment: ['Debug is a noun in this context, not a verb.'], key: 'callStackAriaLabel' }, \"Debug Call Stack\");\n\t}\n\n\tgetWidgetRole(): AriaRole {\n\t\t// Use treegrid as a role since each element can have additional actions inside #146210\n\t\treturn 'treegrid';\n\t}\n\n\tgetRole(_element: CallStackItem): AriaRole | undefined {\n\t\treturn 'row';\n\t}\n\n\tgetAriaLabel(element: CallStackItem): string {\n\t\tif (element instanceof Thread) {\n\t\t\treturn localize({ key: 'threadAriaLabel', comment: ['Placeholders stand for the thread name and the thread state.For example \"Thread 1\" and \"Stopped'] }, \"Thread {0} {1}\", element.name, element.stateLabel);\n\t\t}\n\t\tif (element instanceof StackFrame) {\n\t\t\treturn localize('stackFrameAriaLabel', \"Stack Frame {0}, line {1}, {2}\", element.name, element.range.startLineNumber, getSpecificSourceName(element));\n\t\t}\n\t\tif (isDebugSession(element)) {\n\t\t\tconst thread = element.getAllThreads().find(t => t.stopped);\n\t\t\tconst state = thread ? thread.stateLabel : localize({ key: 'running', comment: ['indicates state'] }, \"Running\");\n\t\t\treturn localize({ key: 'sessionLabel', comment: ['Placeholders stand for the session name and the session state. For example \"Launch Program\" and \"Running\"'] }, \"Session {0} {1}\", element.getLabel(), state);\n\t\t}\n\t\tif (typeof element === 'string') {\n\t\t\treturn element;\n\t\t}\n\t\tif (element instanceof Array) {\n\t\t\treturn localize('showMoreStackFrames', \"Show {0} More Stack Frames\", element.length);\n\t\t}\n\n\t\t// element instanceof ThreadAndSessionIds\n\t\treturn LoadMoreRenderer.LABEL;\n\t}\n}\n\nclass CallStackCompressionDelegate implements ITreeCompressionDelegate<CallStackItem> {\n\n\tconstructor(private readonly debugService: IDebugService) { }\n\n\tisIncompressible(stat: CallStackItem): boolean {\n\t\tif (isDebugSession(stat)) {\n\t\t\tif (stat.compact) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst sessions = this.debugService.getModel().getSessions();\n\t\t\tif (sessions.some(s => s.parentSession === stat && s.compact)) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn true;\n\t}\n}\n\nregisterAction2(class Collapse extends ViewAction<CallStackView> {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'callStack.collapse',\n\t\t\tviewId: CALLSTACK_VIEW_ID,\n\t\t\ttitle: localize('collapse', \"Collapse All\"),\n\t\t\tf1: false,\n\t\t\ticon: Codicon.collapseAll,\n\t\t\tprecondition: CONTEXT_DEBUG_STATE.isEqualTo(getStateLabel(State.Stopped)),\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\torder: 10,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\twhen: ContextKeyExpr.equals('view', CALLSTACK_VIEW_ID)\n\t\t\t}\n\t\t});\n\t}\n\n\trunInView(_accessor: ServicesAccessor, view: CallStackView) {\n\t\tview.collapseAll();\n\t}\n});\n\nfunction registerCallStackInlineMenuItem(id: string, title: string | ICommandActionTitle, icon: Icon, when: ContextKeyExpression, order: number, precondition?: ContextKeyExpression): void {\n\tMenuRegistry.appendMenuItem(MenuId.DebugCallStackContext, {\n\t\tgroup: 'inline',\n\t\torder,\n\t\twhen,\n\t\tcommand: { id, title, icon, precondition }\n\t});\n}\n\nconst threadOrSessionWithOneThread = ContextKeyExpr.or(CONTEXT_CALLSTACK_ITEM_TYPE.isEqualTo('thread'), ContextKeyExpr.and(CONTEXT_CALLSTACK_ITEM_TYPE.isEqualTo('session'), CONTEXT_CALLSTACK_SESSION_HAS_ONE_THREAD))!;\nregisterCallStackInlineMenuItem(PAUSE_ID, PAUSE_LABEL, icons.debugPause, ContextKeyExpr.and(threadOrSessionWithOneThread, CONTEXT_CALLSTACK_ITEM_STOPPED.toNegated())!, 10, CONTEXT_FOCUSED_SESSION_IS_NO_DEBUG.toNegated());\nregisterCallStackInlineMenuItem(CONTINUE_ID, CONTINUE_LABEL, icons.debugContinue, ContextKeyExpr.and(threadOrSessionWithOneThread, CONTEXT_CALLSTACK_ITEM_STOPPED)!, 10);\nregisterCallStackInlineMenuItem(STEP_OVER_ID, STEP_OVER_LABEL, icons.debugStepOver, threadOrSessionWithOneThread, 20, CONTEXT_CALLSTACK_ITEM_STOPPED);\nregisterCallStackInlineMenuItem(STEP_INTO_ID, STEP_INTO_LABEL, icons.debugStepInto, threadOrSessionWithOneThread, 30, CONTEXT_CALLSTACK_ITEM_STOPPED);\nregisterCallStackInlineMenuItem(STEP_OUT_ID, STEP_OUT_LABEL, icons.debugStepOut, threadOrSessionWithOneThread, 40, CONTEXT_CALLSTACK_ITEM_STOPPED);\nregisterCallStackInlineMenuItem(RESTART_SESSION_ID, RESTART_LABEL, icons.debugRestart, CONTEXT_CALLSTACK_ITEM_TYPE.isEqualTo('session'), 50);\nregisterCallStackInlineMenuItem(STOP_ID, STOP_LABEL, icons.debugStop, ContextKeyExpr.and(CONTEXT_CALLSTACK_SESSION_IS_ATTACH.toNegated(), CONTEXT_CALLSTACK_ITEM_TYPE.isEqualTo('session'))!, 60);\nregisterCallStackInlineMenuItem(DISCONNECT_ID, DISCONNECT_LABEL, icons.debugDisconnect, ContextKeyExpr.and(CONTEXT_CALLSTACK_SESSION_IS_ATTACH, CONTEXT_CALLSTACK_ITEM_TYPE.isEqualTo('session'))!, 60);\n"]}