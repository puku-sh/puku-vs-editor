{"version":3,"sources":["vs/workbench/contrib/debug/browser/repl.ts"],"names":[],"mappings":"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","file":"repl.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../base/browser/dom.js';\nimport * as domStylesheetsJs from '../../../../base/browser/domStylesheets.js';\nimport { IHistoryNavigationWidget } from '../../../../base/browser/history.js';\nimport { IActionViewItem } from '../../../../base/browser/ui/actionbar/actionbar.js';\nimport * as aria from '../../../../base/browser/ui/aria/aria.js';\nimport { MOUSE_CURSOR_TEXT_CSS_CLASS_NAME } from '../../../../base/browser/ui/mouseCursor/mouseCursor.js';\nimport { IAsyncDataSource, ITreeContextMenuEvent, ITreeNode } from '../../../../base/browser/ui/tree/tree.js';\nimport { IAction } from '../../../../base/common/actions.js';\nimport { RunOnceScheduler, timeout } from '../../../../base/common/async.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { memoize } from '../../../../base/common/decorators.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { FuzzyScore } from '../../../../base/common/filters.js';\nimport { HistoryNavigator } from '../../../../base/common/history.js';\nimport { KeyCode, KeyMod } from '../../../../base/common/keyCodes.js';\nimport { Disposable, IDisposable } from '../../../../base/common/lifecycle.js';\nimport { removeAnsiEscapeCodes } from '../../../../base/common/strings.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { URI as uri } from '../../../../base/common/uri.js';\nimport { ICodeEditor, isCodeEditor } from '../../../../editor/browser/editorBrowser.js';\nimport { EditorAction, registerEditorAction } from '../../../../editor/browser/editorExtensions.js';\nimport { ICodeEditorService } from '../../../../editor/browser/services/codeEditorService.js';\nimport { CodeEditorWidget } from '../../../../editor/browser/widget/codeEditor/codeEditorWidget.js';\nimport { EditorOption } from '../../../../editor/common/config/editorOptions.js';\nimport { EDITOR_FONT_DEFAULTS } from '../../../../editor/common/config/fontInfo.js';\nimport { Position } from '../../../../editor/common/core/position.js';\nimport { Range } from '../../../../editor/common/core/range.js';\nimport { IDecorationOptions } from '../../../../editor/common/editorCommon.js';\nimport { EditorContextKeys } from '../../../../editor/common/editorContextKeys.js';\nimport { CompletionContext, CompletionItem, CompletionItemInsertTextRule, CompletionItemKind, CompletionItemKinds, CompletionList } from '../../../../editor/common/languages.js';\nimport { ITextModel } from '../../../../editor/common/model.js';\nimport { ILanguageFeaturesService } from '../../../../editor/common/services/languageFeatures.js';\nimport { IModelService } from '../../../../editor/common/services/model.js';\nimport { ITextResourcePropertiesService } from '../../../../editor/common/services/textResourceConfiguration.js';\nimport { SuggestController } from '../../../../editor/contrib/suggest/browser/suggestController.js';\nimport { localize, localize2 } from '../../../../nls.js';\nimport { AccessibilitySignal, IAccessibilitySignalService } from '../../../../platform/accessibilitySignal/browser/accessibilitySignalService.js';\nimport { getFlatContextMenuActions } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { Action2, IMenu, IMenuService, MenuId, registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { IClipboardService } from '../../../../platform/clipboard/common/clipboardService.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { ContextKeyExpr, IContextKey, IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { registerAndCreateHistoryNavigationContext } from '../../../../platform/history/browser/contextScopedHistoryWidget.js';\nimport { IHoverService } from '../../../../platform/hover/browser/hover.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ServiceCollection } from '../../../../platform/instantiation/common/serviceCollection.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { KeybindingWeight } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { WorkbenchAsyncDataTree } from '../../../../platform/list/browser/listService.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { IStorageService, StorageScope, StorageTarget } from '../../../../platform/storage/common/storage.js';\nimport { editorForeground, resolveColorValue } from '../../../../platform/theme/common/colorRegistry.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { registerNavigableContainer } from '../../../browser/actions/widgetNavigationCommands.js';\nimport { FilterViewPane, IViewPaneOptions, ViewAction } from '../../../browser/parts/views/viewPane.js';\nimport { IViewDescriptorService } from '../../../common/views.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { IViewsService } from '../../../services/views/common/viewsService.js';\nimport { AccessibilityVerbositySettingId } from '../../accessibility/browser/accessibilityConfiguration.js';\nimport { AccessibilityCommandId } from '../../accessibility/common/accessibilityCommands.js';\nimport { getSimpleCodeEditorWidgetOptions, getSimpleEditorOptions } from '../../codeEditor/browser/simpleEditorOptions.js';\nimport { CONTEXT_DEBUG_STATE, CONTEXT_IN_DEBUG_REPL, CONTEXT_MULTI_SESSION_REPL, DEBUG_SCHEME, IDebugConfiguration, IDebugService, IDebugSession, IReplConfiguration, IReplElement, IReplOptions, REPL_VIEW_ID, State, getStateLabel } from '../common/debug.js';\nimport { Variable } from '../common/debugModel.js';\nimport { resolveChildSession } from '../common/debugUtils.js';\nimport { ReplEvaluationResult, ReplGroup } from '../common/replModel.js';\nimport { FocusSessionActionViewItem } from './debugActionViewItems.js';\nimport { DEBUG_COMMAND_CATEGORY, FOCUS_REPL_ID } from './debugCommands.js';\nimport { DebugExpressionRenderer } from './debugExpressionRenderer.js';\nimport { debugConsoleClearAll, debugConsoleEvaluationPrompt } from './debugIcons.js';\nimport './media/repl.css';\nimport { ReplFilter } from './replFilter.js';\nimport { ReplAccessibilityProvider, ReplDataSource, ReplDelegate, ReplEvaluationInputsRenderer, ReplEvaluationResultsRenderer, ReplGroupRenderer, ReplOutputElementRenderer, ReplRawObjectsRenderer, ReplVariablesRenderer } from './replViewer.js';\n\nconst $ = dom.$;\n\nconst HISTORY_STORAGE_KEY = 'debug.repl.history';\nconst FILTER_HISTORY_STORAGE_KEY = 'debug.repl.filterHistory';\nconst FILTER_VALUE_STORAGE_KEY = 'debug.repl.filterValue';\nconst DECORATION_KEY = 'replinputdecoration';\n\nfunction revealLastElement(tree: WorkbenchAsyncDataTree<any, any, any>) {\n\ttree.scrollTop = tree.scrollHeight - tree.renderHeight;\n\t// tree.scrollTop = 1e6;\n}\n\nconst sessionsToIgnore = new Set<IDebugSession>();\nconst identityProvider = { getId: (element: IReplElement) => element.getId() };\n\nexport class Repl extends FilterViewPane implements IHistoryNavigationWidget {\n\tdeclare readonly _serviceBrand: undefined;\n\n\tprivate static readonly REFRESH_DELAY = 50; // delay in ms to refresh the repl for new elements to show\n\tprivate static readonly URI = uri.parse(`${DEBUG_SCHEME}:replinput`);\n\n\tprivate history: HistoryNavigator<string>;\n\tprivate tree?: WorkbenchAsyncDataTree<IDebugSession, IReplElement, FuzzyScore>;\n\tprivate replOptions: ReplOptions;\n\tprivate previousTreeScrollHeight: number = 0;\n\tprivate replDelegate!: ReplDelegate;\n\tprivate container!: HTMLElement;\n\tprivate treeContainer!: HTMLElement;\n\tprivate replInput!: CodeEditorWidget;\n\tprivate replInputContainer!: HTMLElement;\n\tprivate bodyContentDimension: dom.Dimension | undefined;\n\tprivate model: ITextModel | undefined;\n\tprivate setHistoryNavigationEnablement!: (enabled: boolean) => void;\n\tprivate scopedInstantiationService!: IInstantiationService;\n\tprivate replElementsChangeListener: IDisposable | undefined;\n\tprivate styleElement: HTMLStyleElement | undefined;\n\tprivate styleChangedWhenInvisible: boolean = false;\n\tprivate completionItemProvider: IDisposable | undefined;\n\tprivate modelChangeListener: IDisposable = Disposable.None;\n\tprivate filter: ReplFilter;\n\tprivate multiSessionRepl: IContextKey<boolean>;\n\tprivate menu: IMenu;\n\tprivate replDataSource: IAsyncDataSource<IDebugSession, IReplElement> | undefined;\n\tprivate findIsOpen: boolean = false;\n\n\tconstructor(\n\t\toptions: IViewPaneOptions,\n\t\t@IDebugService private readonly debugService: IDebugService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IStorageService private readonly storageService: IStorageService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IModelService private readonly modelService: IModelService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@ICodeEditorService codeEditorService: ICodeEditorService,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IConfigurationService protected override readonly configurationService: IConfigurationService,\n\t\t@ITextResourcePropertiesService private readonly textResourcePropertiesService: ITextResourcePropertiesService,\n\t\t@IEditorService private readonly editorService: IEditorService,\n\t\t@IKeybindingService protected override readonly keybindingService: IKeybindingService,\n\t\t@IOpenerService openerService: IOpenerService,\n\t\t@IHoverService hoverService: IHoverService,\n\t\t@IMenuService menuService: IMenuService,\n\t\t@ILanguageFeaturesService private readonly languageFeaturesService: ILanguageFeaturesService,\n\t\t@ILogService private readonly logService: ILogService,\n\t) {\n\t\tconst filterText = storageService.get(FILTER_VALUE_STORAGE_KEY, StorageScope.WORKSPACE, '');\n\t\tsuper({\n\t\t\t...options,\n\t\t\tfilterOptions: {\n\t\t\t\tplaceholder: localize({ key: 'workbench.debug.filter.placeholder', comment: ['Text in the brackets after e.g. is not localizable'] }, \"Filter (e.g. text, !exclude, \\\\escape)\"),\n\t\t\t\ttext: filterText,\n\t\t\t\thistory: JSON.parse(storageService.get(FILTER_HISTORY_STORAGE_KEY, StorageScope.WORKSPACE, '[]')) as string[],\n\t\t\t}\n\t\t}, keybindingService, contextMenuService, configurationService, contextKeyService, viewDescriptorService, instantiationService, openerService, themeService, hoverService);\n\n\t\tthis.menu = menuService.createMenu(MenuId.DebugConsoleContext, contextKeyService);\n\t\tthis._register(this.menu);\n\t\tthis.history = this._register(new HistoryNavigator(new Set(JSON.parse(this.storageService.get(HISTORY_STORAGE_KEY, StorageScope.WORKSPACE, '[]'))), 100));\n\t\tthis.filter = new ReplFilter();\n\t\tthis.filter.filterQuery = filterText;\n\t\tthis.multiSessionRepl = CONTEXT_MULTI_SESSION_REPL.bindTo(contextKeyService);\n\t\tthis.replOptions = this._register(this.instantiationService.createInstance(ReplOptions, this.id, () => this.getLocationBasedColors().background));\n\t\tthis._register(this.replOptions.onDidChange(() => this.onDidStyleChange()));\n\n\t\tcodeEditorService.registerDecorationType('repl-decoration', DECORATION_KEY, {});\n\t\tthis.multiSessionRepl.set(this.isMultiSessionView);\n\t\tthis.registerListeners();\n\t}\n\n\tprivate registerListeners(): void {\n\t\tif (this.debugService.getViewModel().focusedSession) {\n\t\t\tthis.onDidFocusSession(this.debugService.getViewModel().focusedSession);\n\t\t}\n\n\t\tthis._register(this.debugService.getViewModel().onDidFocusSession(session => {\n\t\t\tthis.onDidFocusSession(session);\n\t\t}));\n\t\tthis._register(this.debugService.getViewModel().onDidEvaluateLazyExpression(async e => {\n\t\t\tif (e instanceof Variable && this.tree?.hasNode(e)) {\n\t\t\t\tawait this.tree.updateChildren(e, false, true);\n\t\t\t\tawait this.tree.expand(e);\n\t\t\t}\n\t\t}));\n\t\tthis._register(this.debugService.onWillNewSession(async newSession => {\n\t\t\t// Need to listen to output events for sessions which are not yet fully initialised\n\t\t\tconst input = this.tree?.getInput();\n\t\t\tif (!input || input.state === State.Inactive) {\n\t\t\t\tawait this.selectSession(newSession);\n\t\t\t}\n\t\t\tthis.multiSessionRepl.set(this.isMultiSessionView);\n\t\t}));\n\t\tthis._register(this.debugService.onDidEndSession(async () => {\n\t\t\t// Update view, since orphaned sessions might now be separate\n\t\t\tawait Promise.resolve(); // allow other listeners to go first, so sessions can update parents\n\t\t\tthis.multiSessionRepl.set(this.isMultiSessionView);\n\t\t}));\n\t\tthis._register(this.themeService.onDidColorThemeChange(() => {\n\t\t\tthis.refreshReplElements(false);\n\t\t\tif (this.isVisible()) {\n\t\t\t\tthis.updateInputDecoration();\n\t\t\t}\n\t\t}));\n\t\tthis._register(this.onDidChangeBodyVisibility(visible => {\n\t\t\tif (!visible) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (!this.model) {\n\t\t\t\tthis.model = this.modelService.getModel(Repl.URI) || this.modelService.createModel('', null, Repl.URI, true);\n\t\t\t}\n\n\t\t\tconst focusedSession = this.debugService.getViewModel().focusedSession;\n\t\t\tif (this.tree && this.tree.getInput() !== focusedSession) {\n\t\t\t\tthis.onDidFocusSession(focusedSession);\n\t\t\t}\n\n\t\t\tthis.setMode();\n\t\t\tthis.replInput.setModel(this.model);\n\t\t\tthis.updateInputDecoration();\n\t\t\tthis.refreshReplElements(true);\n\n\t\t\tif (this.styleChangedWhenInvisible) {\n\t\t\t\tthis.styleChangedWhenInvisible = false;\n\t\t\t\tthis.tree?.updateChildren(undefined, true, false);\n\t\t\t\tthis.onDidStyleChange();\n\t\t\t}\n\t\t}));\n\t\tthis._register(this.configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration('debug.console.wordWrap') && this.tree) {\n\t\t\t\tthis.tree.dispose();\n\t\t\t\tthis.treeContainer.innerText = '';\n\t\t\t\tdom.clearNode(this.treeContainer);\n\t\t\t\tthis.createReplTree();\n\t\t\t}\n\t\t\tif (e.affectsConfiguration('debug.console.acceptSuggestionOnEnter')) {\n\t\t\t\tconst config = this.configurationService.getValue<IDebugConfiguration>('debug');\n\t\t\t\tthis.replInput.updateOptions({\n\t\t\t\t\tacceptSuggestionOnEnter: config.console.acceptSuggestionOnEnter === 'on' ? 'on' : 'off'\n\t\t\t\t});\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.editorService.onDidActiveEditorChange(() => {\n\t\t\tthis.setMode();\n\t\t}));\n\n\t\tthis._register(this.filterWidget.onDidChangeFilterText(() => {\n\t\t\tthis.filter.filterQuery = this.filterWidget.getFilterText();\n\t\t\tif (this.tree) {\n\t\t\t\tthis.tree.refilter();\n\t\t\t\trevealLastElement(this.tree);\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate async onDidFocusSession(session: IDebugSession | undefined): Promise<void> {\n\t\tif (session) {\n\t\t\tsessionsToIgnore.delete(session);\n\t\t\tthis.completionItemProvider?.dispose();\n\t\t\tif (session.capabilities.supportsCompletionsRequest) {\n\t\t\t\tthis.completionItemProvider = this.languageFeaturesService.completionProvider.register({ scheme: DEBUG_SCHEME, pattern: '**/replinput', hasAccessToAllModels: true }, {\n\t\t\t\t\t_debugDisplayName: 'debugConsole',\n\t\t\t\t\ttriggerCharacters: session.capabilities.completionTriggerCharacters || ['.'],\n\t\t\t\t\tprovideCompletionItems: async (_: ITextModel, position: Position, _context: CompletionContext, token: CancellationToken): Promise<CompletionList> => {\n\t\t\t\t\t\t// Disable history navigation because up and down are used to navigate through the suggest widget\n\t\t\t\t\t\tthis.setHistoryNavigationEnablement(false);\n\n\t\t\t\t\t\tconst model = this.replInput.getModel();\n\t\t\t\t\t\tif (model) {\n\t\t\t\t\t\t\tconst text = model.getValue();\n\t\t\t\t\t\t\tconst focusedStackFrame = this.debugService.getViewModel().focusedStackFrame;\n\t\t\t\t\t\t\tconst frameId = focusedStackFrame ? focusedStackFrame.frameId : undefined;\n\t\t\t\t\t\t\tconst response = await session.completions(frameId, focusedStackFrame?.thread.threadId || 0, text, position, token);\n\n\t\t\t\t\t\t\tconst suggestions: CompletionItem[] = [];\n\t\t\t\t\t\t\tconst computeRange = (length: number) => Range.fromPositions(position.delta(0, -length), position);\n\t\t\t\t\t\t\tif (response && response.body && response.body.targets) {\n\t\t\t\t\t\t\t\tresponse.body.targets.forEach(item => {\n\t\t\t\t\t\t\t\t\tif (item && item.label) {\n\t\t\t\t\t\t\t\t\t\tlet insertTextRules: CompletionItemInsertTextRule | undefined = undefined;\n\t\t\t\t\t\t\t\t\t\tlet insertText = item.text || item.label;\n\t\t\t\t\t\t\t\t\t\tif (typeof item.selectionStart === 'number') {\n\t\t\t\t\t\t\t\t\t\t\t// If a debug completion item sets a selection we need to use snippets to make sure the selection is selected #90974\n\t\t\t\t\t\t\t\t\t\t\tinsertTextRules = CompletionItemInsertTextRule.InsertAsSnippet;\n\t\t\t\t\t\t\t\t\t\t\tconst selectionLength = typeof item.selectionLength === 'number' ? item.selectionLength : 0;\n\t\t\t\t\t\t\t\t\t\t\tconst placeholder = selectionLength > 0 ? '${1:' + insertText.substring(item.selectionStart, item.selectionStart + selectionLength) + '}$0' : '$0';\n\t\t\t\t\t\t\t\t\t\t\tinsertText = insertText.substring(0, item.selectionStart) + placeholder + insertText.substring(item.selectionStart + selectionLength);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tsuggestions.push({\n\t\t\t\t\t\t\t\t\t\t\tlabel: item.label,\n\t\t\t\t\t\t\t\t\t\t\tinsertText,\n\t\t\t\t\t\t\t\t\t\t\tdetail: item.detail,\n\t\t\t\t\t\t\t\t\t\t\tkind: CompletionItemKinds.fromString(item.type || 'property'),\n\t\t\t\t\t\t\t\t\t\t\tfilterText: (item.start && item.length) ? text.substring(item.start, item.start + item.length).concat(item.label) : undefined,\n\t\t\t\t\t\t\t\t\t\t\trange: computeRange(item.length || 0),\n\t\t\t\t\t\t\t\t\t\t\tsortText: item.sortText,\n\t\t\t\t\t\t\t\t\t\t\tinsertTextRules\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (this.configurationService.getValue<IDebugConfiguration>('debug').console.historySuggestions) {\n\t\t\t\t\t\t\t\tconst history = this.history.getHistory();\n\t\t\t\t\t\t\t\tconst idxLength = String(history.length).length;\n\t\t\t\t\t\t\t\thistory.forEach((h, i) => suggestions.push({\n\t\t\t\t\t\t\t\t\tlabel: h,\n\t\t\t\t\t\t\t\t\tinsertText: h,\n\t\t\t\t\t\t\t\t\tkind: CompletionItemKind.Text,\n\t\t\t\t\t\t\t\t\trange: computeRange(h.length),\n\t\t\t\t\t\t\t\t\tsortText: 'ZZZ' + String(history.length - i).padStart(idxLength, '0')\n\t\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn { suggestions };\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn Promise.resolve({ suggestions: [] });\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tawait this.selectSession();\n\t}\n\n\tgetFilterStats(): { total: number; filtered: number } {\n\t\t// This could be called before the tree is created when setting this.filterState.filterText value\n\t\treturn {\n\t\t\ttotal: this.tree?.getNode().children.length ?? 0,\n\t\t\tfiltered: this.tree?.getNode().children.filter(c => c.visible).length ?? 0\n\t\t};\n\t}\n\n\tget isReadonly(): boolean {\n\t\t// Do not allow to edit inactive sessions\n\t\tconst session = this.tree?.getInput();\n\t\tif (session && session.state !== State.Inactive) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tshowPreviousValue(): void {\n\t\tif (!this.isReadonly) {\n\t\t\tthis.navigateHistory(true);\n\t\t}\n\t}\n\n\tshowNextValue(): void {\n\t\tif (!this.isReadonly) {\n\t\t\tthis.navigateHistory(false);\n\t\t}\n\t}\n\n\tfocusFilter(): void {\n\t\tthis.filterWidget.focus();\n\t}\n\n\topenFind(): void {\n\t\tthis.tree?.openFind();\n\t}\n\n\tprivate setMode(): void {\n\t\tif (!this.isVisible()) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst activeEditorControl = this.editorService.activeTextEditorControl;\n\t\tif (isCodeEditor(activeEditorControl)) {\n\t\t\tthis.modelChangeListener.dispose();\n\t\t\tthis.modelChangeListener = activeEditorControl.onDidChangeModelLanguage(() => this.setMode());\n\t\t\tif (this.model && activeEditorControl.hasModel()) {\n\t\t\t\tthis.model.setLanguage(activeEditorControl.getModel().getLanguageId());\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate onDidStyleChange(): void {\n\t\tif (!this.isVisible()) {\n\t\t\tthis.styleChangedWhenInvisible = true;\n\t\t\treturn;\n\t\t}\n\t\tif (this.styleElement) {\n\t\t\tthis.replInput.updateOptions({\n\t\t\t\tfontSize: this.replOptions.replConfiguration.fontSize,\n\t\t\t\tlineHeight: this.replOptions.replConfiguration.lineHeight,\n\t\t\t\tfontFamily: this.replOptions.replConfiguration.fontFamily === 'default' ? EDITOR_FONT_DEFAULTS.fontFamily : this.replOptions.replConfiguration.fontFamily\n\t\t\t});\n\n\t\t\tconst replInputLineHeight = this.replInput.getOption(EditorOption.lineHeight);\n\n\t\t\t// Set the font size, font family, line height and align the twistie to be centered, and input theme color\n\t\t\tthis.styleElement.textContent = `\n\t\t\t\t.repl .repl-input-wrapper .repl-input-chevron {\n\t\t\t\t\tline-height: ${replInputLineHeight}px\n\t\t\t\t}\n\n\t\t\t\t.repl .repl-input-wrapper .monaco-editor .lines-content {\n\t\t\t\t\tbackground-color: ${this.replOptions.replConfiguration.backgroundColor};\n\t\t\t\t}\n\t\t\t`;\n\t\t\tconst cssFontFamily = this.replOptions.replConfiguration.fontFamily === 'default' ? 'var(--monaco-monospace-font)' : this.replOptions.replConfiguration.fontFamily;\n\t\t\tthis.container.style.setProperty(`--vscode-repl-font-family`, cssFontFamily);\n\t\t\tthis.container.style.setProperty(`--vscode-repl-font-size`, `${this.replOptions.replConfiguration.fontSize}px`);\n\t\t\tthis.container.style.setProperty(`--vscode-repl-font-size-for-twistie`, `${this.replOptions.replConfiguration.fontSizeForTwistie}px`);\n\t\t\tthis.container.style.setProperty(`--vscode-repl-line-height`, this.replOptions.replConfiguration.cssLineHeight);\n\n\t\t\tthis.tree?.rerender();\n\n\t\t\tif (this.bodyContentDimension) {\n\t\t\t\tthis.layoutBodyContent(this.bodyContentDimension.height, this.bodyContentDimension.width);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate navigateHistory(previous: boolean): void {\n\t\tconst historyInput = (previous ?\n\t\t\t(this.history.previous() ?? this.history.first()) : this.history.next())\n\t\t\t?? '';\n\t\tthis.replInput.setValue(historyInput);\n\t\taria.status(historyInput);\n\t\t// always leave cursor at the end.\n\t\tthis.replInput.setPosition({ lineNumber: 1, column: historyInput.length + 1 });\n\t\tthis.setHistoryNavigationEnablement(true);\n\t}\n\n\tasync selectSession(session?: IDebugSession): Promise<void> {\n\t\tconst treeInput = this.tree?.getInput();\n\t\tif (!session) {\n\t\t\tconst focusedSession = this.debugService.getViewModel().focusedSession;\n\t\t\t// If there is a focusedSession focus on that one, otherwise just show any other not ignored session\n\t\t\tif (focusedSession) {\n\t\t\t\tsession = focusedSession;\n\t\t\t} else if (!treeInput || sessionsToIgnore.has(treeInput)) {\n\t\t\t\tsession = this.debugService.getModel().getSessions(true).find(s => !sessionsToIgnore.has(s));\n\t\t\t}\n\t\t}\n\t\tif (session) {\n\t\t\tthis.replElementsChangeListener?.dispose();\n\t\t\tthis.replElementsChangeListener = session.onDidChangeReplElements(() => {\n\t\t\t\tthis.refreshReplElements(session.getReplElements().length === 0);\n\t\t\t});\n\n\t\t\tif (this.tree && treeInput !== session) {\n\t\t\t\ttry {\n\t\t\t\t\tawait this.tree.setInput(session);\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Ignore error because this may happen multiple times while refreshing,\n\t\t\t\t\t// then changing the root may fail. Log to help with debugging if needed.\n\t\t\t\t\tthis.logService.error(err);\n\t\t\t\t}\n\t\t\t\trevealLastElement(this.tree);\n\t\t\t}\n\t\t}\n\n\t\tthis.replInput?.updateOptions({ readOnly: this.isReadonly });\n\t\tthis.updateInputDecoration();\n\t}\n\n\tasync clearRepl(): Promise<void> {\n\t\tconst session = this.tree?.getInput();\n\t\tif (session) {\n\t\t\tsession.removeReplExpressions();\n\t\t\tif (session.state === State.Inactive) {\n\t\t\t\t// Ignore inactive sessions which got cleared - so they are not shown any more\n\t\t\t\tsessionsToIgnore.add(session);\n\t\t\t\tawait this.selectSession();\n\t\t\t\tthis.multiSessionRepl.set(this.isMultiSessionView);\n\t\t\t}\n\t\t}\n\t\tthis.replInput.focus();\n\t}\n\n\tacceptReplInput(): void {\n\t\tconst session = this.tree?.getInput();\n\t\tif (session && !this.isReadonly) {\n\t\t\tsession.addReplExpression(this.debugService.getViewModel().focusedStackFrame, this.replInput.getValue());\n\t\t\trevealLastElement(this.tree!);\n\t\t\tthis.history.add(this.replInput.getValue());\n\t\t\tthis.replInput.setValue('');\n\t\t\tif (this.bodyContentDimension) {\n\t\t\t\t// Trigger a layout to shrink a potential multi line input\n\t\t\t\tthis.layoutBodyContent(this.bodyContentDimension.height, this.bodyContentDimension.width);\n\t\t\t}\n\t\t}\n\t}\n\n\tsendReplInput(input: string): void {\n\t\tconst session = this.tree?.getInput();\n\t\tif (session && !this.isReadonly) {\n\t\t\tsession.addReplExpression(this.debugService.getViewModel().focusedStackFrame, input);\n\t\t\trevealLastElement(this.tree!);\n\t\t\tthis.history.add(input);\n\t\t}\n\t}\n\n\tgetVisibleContent(): string {\n\t\tlet text = '';\n\t\tif (this.model && this.tree) {\n\t\t\tconst lineDelimiter = this.textResourcePropertiesService.getEOL(this.model.uri);\n\t\t\tconst traverseAndAppend = (node: ITreeNode<IReplElement, FuzzyScore>) => {\n\t\t\t\tnode.children.forEach(child => {\n\t\t\t\t\tif (child.visible) {\n\t\t\t\t\t\ttext += child.element.toString().trimRight() + lineDelimiter;\n\t\t\t\t\t\tif (!child.collapsed && child.children.length) {\n\t\t\t\t\t\t\ttraverseAndAppend(child);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t\ttraverseAndAppend(this.tree.getNode());\n\t\t}\n\n\t\treturn removeAnsiEscapeCodes(text);\n\t}\n\n\tprotected layoutBodyContent(height: number, width: number): void {\n\t\tthis.bodyContentDimension = new dom.Dimension(width, height);\n\t\tconst replInputHeight = Math.min(this.replInput.getContentHeight(), height);\n\t\tif (this.tree) {\n\t\t\tconst lastElementVisible = this.tree.scrollTop + this.tree.renderHeight >= this.tree.scrollHeight;\n\t\t\tconst treeHeight = height - replInputHeight;\n\t\t\tthis.tree.getHTMLElement().style.height = `${treeHeight}px`;\n\t\t\tthis.tree.layout(treeHeight, width);\n\t\t\tif (lastElementVisible) {\n\t\t\t\trevealLastElement(this.tree);\n\t\t\t}\n\t\t}\n\t\tthis.replInputContainer.style.height = `${replInputHeight}px`;\n\n\t\tthis.replInput.layout({ width: width - 30, height: replInputHeight });\n\t}\n\n\tcollapseAll(): void {\n\t\tthis.tree?.collapseAll();\n\t}\n\n\tgetDebugSession(): IDebugSession | undefined {\n\t\treturn this.tree?.getInput();\n\t}\n\n\tgetReplInput(): CodeEditorWidget {\n\t\treturn this.replInput;\n\t}\n\n\tgetReplDataSource(): IAsyncDataSource<IDebugSession, IReplElement> | undefined {\n\t\treturn this.replDataSource;\n\t}\n\n\tgetFocusedElement(): IReplElement | undefined {\n\t\treturn this.tree?.getFocus()?.[0];\n\t}\n\n\tfocusTree(): void {\n\t\tthis.tree?.domFocus();\n\t}\n\n\toverride async focus(): Promise<void> {\n\t\tsuper.focus();\n\t\tawait timeout(0); // wait a task for the repl to get attached to the DOM, #83387\n\t\tthis.replInput.focus();\n\t}\n\n\toverride createActionViewItem(action: IAction): IActionViewItem | undefined {\n\t\tif (action.id === selectReplCommandId) {\n\t\t\tconst session = (this.tree ? this.tree.getInput() : undefined) ?? this.debugService.getViewModel().focusedSession;\n\t\t\treturn this.instantiationService.createInstance(SelectReplActionViewItem, action, session);\n\t\t}\n\n\t\treturn super.createActionViewItem(action);\n\t}\n\n\tprivate get isMultiSessionView(): boolean {\n\t\treturn this.debugService.getModel().getSessions(true).filter(s => s.hasSeparateRepl() && !sessionsToIgnore.has(s)).length > 1;\n\t}\n\n\t// --- Cached locals\n\n\t@memoize\n\tprivate get refreshScheduler(): RunOnceScheduler {\n\t\tconst autoExpanded = new Set<string>();\n\t\treturn new RunOnceScheduler(async () => {\n\t\t\tif (!this.tree || !this.tree.getInput() || !this.isVisible()) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tawait this.tree.updateChildren(undefined, true, false, { diffIdentityProvider: identityProvider });\n\n\t\t\tconst session = this.tree.getInput();\n\t\t\tif (session) {\n\t\t\t\t// Automatically expand repl group elements when specified\n\t\t\t\tconst autoExpandElements = async (elements: IReplElement[]) => {\n\t\t\t\t\tfor (const element of elements) {\n\t\t\t\t\t\tif (element instanceof ReplGroup) {\n\t\t\t\t\t\t\tif (element.autoExpand && !autoExpanded.has(element.getId())) {\n\t\t\t\t\t\t\t\tautoExpanded.add(element.getId());\n\t\t\t\t\t\t\t\tawait this.tree!.expand(element);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!this.tree!.isCollapsed(element)) {\n\t\t\t\t\t\t\t\t// Repl groups can have children which are repl groups thus we might need to expand those as well\n\t\t\t\t\t\t\t\tawait autoExpandElements(element.getChildren());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tawait autoExpandElements(session.getReplElements());\n\t\t\t}\n\t\t\t// Repl elements count changed, need to update filter stats on the badge\n\t\t\tconst { total, filtered } = this.getFilterStats();\n\t\t\tthis.filterWidget.updateBadge(total === filtered || total === 0 ? undefined : localize('showing filtered repl lines', \"Showing {0} of {1}\", filtered, total));\n\t\t}, Repl.REFRESH_DELAY);\n\t}\n\n\t// --- Creation\n\n\toverride render(): void {\n\t\tsuper.render();\n\t\tthis._register(registerNavigableContainer({\n\t\t\tname: 'repl',\n\t\t\tfocusNotifiers: [this, this.filterWidget],\n\t\t\tfocusNextWidget: () => {\n\t\t\t\tconst element = this.tree?.getHTMLElement();\n\t\t\t\tif (this.filterWidget.hasFocus()) {\n\t\t\t\t\tthis.tree?.domFocus();\n\t\t\t\t} else if (element && dom.isActiveElement(element)) {\n\t\t\t\t\tthis.focus();\n\t\t\t\t}\n\t\t\t},\n\t\t\tfocusPreviousWidget: () => {\n\t\t\t\tconst element = this.tree?.getHTMLElement();\n\t\t\t\tif (this.replInput.hasTextFocus()) {\n\t\t\t\t\tthis.tree?.domFocus();\n\t\t\t\t} else if (element && dom.isActiveElement(element)) {\n\t\t\t\t\tthis.focusFilter();\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t}\n\n\tprotected override renderBody(parent: HTMLElement): void {\n\t\tsuper.renderBody(parent);\n\t\tthis.container = dom.append(parent, $('.repl'));\n\t\tthis.treeContainer = dom.append(this.container, $(`.repl-tree.${MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`));\n\t\tthis.createReplInput(this.container);\n\t\tthis.createReplTree();\n\t}\n\n\tprivate createReplTree(): void {\n\t\tthis.replDelegate = new ReplDelegate(this.configurationService, this.replOptions);\n\t\tconst wordWrap = this.configurationService.getValue<IDebugConfiguration>('debug').console.wordWrap;\n\t\tthis.treeContainer.classList.toggle('word-wrap', wordWrap);\n\t\tconst expressionRenderer = this.instantiationService.createInstance(DebugExpressionRenderer);\n\t\tthis.replDataSource = new ReplDataSource();\n\n\t\tconst tree = this.tree = this.instantiationService.createInstance(\n\t\t\tWorkbenchAsyncDataTree<IDebugSession, IReplElement, FuzzyScore>,\n\t\t\t'DebugRepl',\n\t\t\tthis.treeContainer,\n\t\t\tthis.replDelegate,\n\t\t\t[\n\t\t\t\tthis.instantiationService.createInstance(ReplVariablesRenderer, expressionRenderer),\n\t\t\t\tthis.instantiationService.createInstance(ReplOutputElementRenderer, expressionRenderer),\n\t\t\t\tnew ReplEvaluationInputsRenderer(),\n\t\t\t\tthis.instantiationService.createInstance(ReplGroupRenderer, expressionRenderer),\n\t\t\t\tnew ReplEvaluationResultsRenderer(expressionRenderer),\n\t\t\t\tnew ReplRawObjectsRenderer(expressionRenderer),\n\t\t\t],\n\t\t\tthis.replDataSource,\n\t\t\t{\n\t\t\t\tfilter: this.filter,\n\t\t\t\taccessibilityProvider: new ReplAccessibilityProvider(),\n\t\t\t\tidentityProvider,\n\t\t\t\tuserSelection: true,\n\t\t\t\tmouseSupport: false,\n\t\t\t\tfindWidgetEnabled: true,\n\t\t\t\tkeyboardNavigationLabelProvider: { getKeyboardNavigationLabel: (e: IReplElement) => e.toString(true) },\n\t\t\t\thorizontalScrolling: !wordWrap,\n\t\t\t\tsetRowLineHeight: false,\n\t\t\t\tsupportDynamicHeights: wordWrap,\n\t\t\t\toverrideStyles: this.getLocationBasedColors().listOverrideStyles\n\t\t\t});\n\n\t\tthis._register(tree.onDidChangeContentHeight(() => {\n\t\t\tif (tree.scrollHeight !== this.previousTreeScrollHeight) {\n\t\t\t\t// Due to rounding, the scrollTop + renderHeight will not exactly match the scrollHeight.\n\t\t\t\t// Consider the tree to be scrolled all the way down if it is within 2px of the bottom.\n\t\t\t\tconst lastElementWasVisible = tree.scrollTop + tree.renderHeight >= this.previousTreeScrollHeight - 2;\n\t\t\t\tif (lastElementWasVisible) {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t// Can't set scrollTop during this event listener, the list might overwrite the change\n\t\t\t\t\t\trevealLastElement(tree);\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.previousTreeScrollHeight = tree.scrollHeight;\n\t\t}));\n\n\t\tthis._register(tree.onContextMenu(e => this.onContextMenu(e)));\n\t\tthis._register(tree.onDidChangeFindOpenState((open) => this.findIsOpen = open));\n\n\t\tlet lastSelectedString: string;\n\t\tthis._register(tree.onMouseClick(() => {\n\t\t\tif (this.findIsOpen) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst selection = dom.getWindow(this.treeContainer).getSelection();\n\t\t\tif (!selection || selection.type !== 'Range' || lastSelectedString === selection.toString()) {\n\t\t\t\t// only focus the input if the user is not currently selecting and find isn't open.\n\t\t\t\tthis.replInput.focus();\n\t\t\t}\n\t\t\tlastSelectedString = selection ? selection.toString() : '';\n\t\t}));\n\t\t// Make sure to select the session if debugging is already active\n\t\tthis.selectSession();\n\t\tthis.styleElement = domStylesheetsJs.createStyleSheet(this.container);\n\t\tthis.onDidStyleChange();\n\t}\n\n\tprivate createReplInput(container: HTMLElement): void {\n\t\tthis.replInputContainer = dom.append(container, $('.repl-input-wrapper'));\n\t\tdom.append(this.replInputContainer, $('.repl-input-chevron' + ThemeIcon.asCSSSelector(debugConsoleEvaluationPrompt)));\n\n\t\tconst { historyNavigationBackwardsEnablement, historyNavigationForwardsEnablement } = this._register(registerAndCreateHistoryNavigationContext(this.scopedContextKeyService, this));\n\t\tthis.setHistoryNavigationEnablement = enabled => {\n\t\t\thistoryNavigationBackwardsEnablement.set(enabled);\n\t\t\thistoryNavigationForwardsEnablement.set(enabled);\n\t\t};\n\t\tCONTEXT_IN_DEBUG_REPL.bindTo(this.scopedContextKeyService).set(true);\n\n\t\tthis.scopedInstantiationService = this._register(this.instantiationService.createChild(new ServiceCollection([IContextKeyService, this.scopedContextKeyService])));\n\t\tconst options = getSimpleEditorOptions(this.configurationService);\n\t\toptions.readOnly = true;\n\t\toptions.suggest = { showStatusBar: true };\n\t\tconst config = this.configurationService.getValue<IDebugConfiguration>('debug');\n\t\toptions.acceptSuggestionOnEnter = config.console.acceptSuggestionOnEnter === 'on' ? 'on' : 'off';\n\t\toptions.ariaLabel = this.getAriaLabel();\n\n\t\tthis.replInput = this.scopedInstantiationService.createInstance(CodeEditorWidget, this.replInputContainer, options, getSimpleCodeEditorWidgetOptions());\n\n\t\tlet lastContentHeight = -1;\n\t\tthis._register(this.replInput.onDidChangeModelContent(() => {\n\t\t\tconst model = this.replInput.getModel();\n\t\t\tthis.setHistoryNavigationEnablement(!!model && model.getValue() === '');\n\n\t\t\tconst contentHeight = this.replInput.getContentHeight();\n\t\t\tif (contentHeight !== lastContentHeight) {\n\t\t\t\tlastContentHeight = contentHeight;\n\t\t\t\tif (this.bodyContentDimension) {\n\t\t\t\t\tthis.layoutBodyContent(this.bodyContentDimension.height, this.bodyContentDimension.width);\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t\t// We add the input decoration only when the focus is in the input #61126\n\t\tthis._register(this.replInput.onDidFocusEditorText(() => this.updateInputDecoration()));\n\t\tthis._register(this.replInput.onDidBlurEditorText(() => this.updateInputDecoration()));\n\n\t\tthis._register(dom.addStandardDisposableListener(this.replInputContainer, dom.EventType.FOCUS, () => this.replInputContainer.classList.add('synthetic-focus')));\n\t\tthis._register(dom.addStandardDisposableListener(this.replInputContainer, dom.EventType.BLUR, () => this.replInputContainer.classList.remove('synthetic-focus')));\n\t}\n\n\tprivate getAriaLabel(): string {\n\t\tlet ariaLabel = localize('debugConsole', \"Debug Console\");\n\t\tif (!this.configurationService.getValue(AccessibilityVerbositySettingId.Debug)) {\n\t\t\treturn ariaLabel;\n\t\t}\n\t\tconst keybinding = this.keybindingService.lookupKeybinding(AccessibilityCommandId.OpenAccessibilityHelp)?.getAriaLabel();\n\t\tif (keybinding) {\n\t\t\tariaLabel = localize('commentLabelWithKeybinding', \"{0}, use ({1}) for accessibility help\", ariaLabel, keybinding);\n\t\t} else {\n\t\t\tariaLabel = localize('commentLabelWithKeybindingNoKeybinding', \"{0}, run the command Open Accessibility Help which is currently not triggerable via keybinding.\", ariaLabel);\n\t\t}\n\n\t\treturn ariaLabel;\n\t}\n\n\tprivate onContextMenu(e: ITreeContextMenuEvent<IReplElement>): void {\n\t\tconst actions = getFlatContextMenuActions(this.menu.getActions({ arg: e.element, shouldForwardArgs: false }));\n\t\tthis.contextMenuService.showContextMenu({\n\t\t\tgetAnchor: () => e.anchor,\n\t\t\tgetActions: () => actions,\n\t\t\tgetActionsContext: () => e.element\n\t\t});\n\t}\n\n\t// --- Update\n\n\tprivate refreshReplElements(noDelay: boolean): void {\n\t\tif (this.tree && this.isVisible()) {\n\t\t\tif (this.refreshScheduler.isScheduled()) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.refreshScheduler.schedule(noDelay ? 0 : undefined);\n\t\t}\n\t}\n\n\tprivate updateInputDecoration(): void {\n\t\tif (!this.replInput) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst decorations: IDecorationOptions[] = [];\n\t\tif (this.isReadonly && this.replInput.hasTextFocus() && !this.replInput.getValue()) {\n\t\t\tconst transparentForeground = resolveColorValue(editorForeground, this.themeService.getColorTheme())?.transparent(0.4);\n\t\t\tdecorations.push({\n\t\t\t\trange: {\n\t\t\t\t\tstartLineNumber: 0,\n\t\t\t\t\tendLineNumber: 0,\n\t\t\t\t\tstartColumn: 0,\n\t\t\t\t\tendColumn: 1\n\t\t\t\t},\n\t\t\t\trenderOptions: {\n\t\t\t\t\tafter: {\n\t\t\t\t\t\tcontentText: localize('startDebugFirst', \"Please start a debug session to evaluate expressions\"),\n\t\t\t\t\t\tcolor: transparentForeground ? transparentForeground.toString() : undefined\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tthis.replInput.setDecorationsByType('repl-decoration', DECORATION_KEY, decorations);\n\t}\n\n\toverride saveState(): void {\n\t\tconst replHistory = this.history.getHistory();\n\t\tif (replHistory.length) {\n\t\t\tthis.storageService.store(HISTORY_STORAGE_KEY, JSON.stringify(replHistory), StorageScope.WORKSPACE, StorageTarget.MACHINE);\n\t\t} else {\n\t\t\tthis.storageService.remove(HISTORY_STORAGE_KEY, StorageScope.WORKSPACE);\n\t\t}\n\t\tconst filterHistory = this.filterWidget.getHistory();\n\t\tif (filterHistory.length) {\n\t\t\tthis.storageService.store(FILTER_HISTORY_STORAGE_KEY, JSON.stringify(filterHistory), StorageScope.WORKSPACE, StorageTarget.MACHINE);\n\t\t} else {\n\t\t\tthis.storageService.remove(FILTER_HISTORY_STORAGE_KEY, StorageScope.WORKSPACE);\n\t\t}\n\t\tconst filterValue = this.filterWidget.getFilterText();\n\t\tif (filterValue) {\n\t\t\tthis.storageService.store(FILTER_VALUE_STORAGE_KEY, filterValue, StorageScope.WORKSPACE, StorageTarget.MACHINE);\n\t\t} else {\n\t\t\tthis.storageService.remove(FILTER_VALUE_STORAGE_KEY, StorageScope.WORKSPACE);\n\t\t}\n\n\t\tsuper.saveState();\n\t}\n\n\toverride dispose(): void {\n\t\tthis.replInput?.dispose(); // Disposed before rendered? #174558\n\t\tthis.replElementsChangeListener?.dispose();\n\t\tthis.refreshScheduler.dispose();\n\t\tthis.modelChangeListener.dispose();\n\t\tsuper.dispose();\n\t}\n}\n\nclass ReplOptions extends Disposable implements IReplOptions {\n\tprivate static readonly lineHeightEm = 1.4;\n\n\tprivate readonly _onDidChange = this._register(new Emitter<void>());\n\treadonly onDidChange = this._onDidChange.event;\n\n\tprivate _replConfig!: IReplConfiguration;\n\tpublic get replConfiguration(): IReplConfiguration {\n\t\treturn this._replConfig;\n\t}\n\n\tconstructor(\n\t\tviewId: string,\n\t\tprivate readonly backgroundColorDelegate: () => string,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@IThemeService private readonly themeService: IThemeService,\n\t\t@IViewDescriptorService private readonly viewDescriptorService: IViewDescriptorService\n\t) {\n\t\tsuper();\n\n\t\tthis._register(this.themeService.onDidColorThemeChange(e => this.update()));\n\t\tthis._register(this.viewDescriptorService.onDidChangeLocation(e => {\n\t\t\tif (e.views.some(v => v.id === viewId)) {\n\t\t\t\tthis.update();\n\t\t\t}\n\t\t}));\n\t\tthis._register(this.configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration('debug.console.lineHeight') || e.affectsConfiguration('debug.console.fontSize') || e.affectsConfiguration('debug.console.fontFamily')) {\n\t\t\t\tthis.update();\n\t\t\t}\n\t\t}));\n\t\tthis.update();\n\t}\n\n\tprivate update() {\n\t\tconst debugConsole = this.configurationService.getValue<IDebugConfiguration>('debug').console;\n\t\tthis._replConfig = {\n\t\t\tfontSize: debugConsole.fontSize,\n\t\t\tfontFamily: debugConsole.fontFamily,\n\t\t\tlineHeight: debugConsole.lineHeight ? debugConsole.lineHeight : ReplOptions.lineHeightEm * debugConsole.fontSize,\n\t\t\tcssLineHeight: debugConsole.lineHeight ? `${debugConsole.lineHeight}px` : `${ReplOptions.lineHeightEm}em`,\n\t\t\tbackgroundColor: this.themeService.getColorTheme().getColor(this.backgroundColorDelegate()),\n\t\t\tfontSizeForTwistie: debugConsole.fontSize * ReplOptions.lineHeightEm / 2 - 8\n\t\t};\n\t\tthis._onDidChange.fire();\n\t}\n}\n\n// Repl actions and commands\n\nclass AcceptReplInputAction extends EditorAction {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'repl.action.acceptInput',\n\t\t\tlabel: localize2({ key: 'actions.repl.acceptInput', comment: ['Apply input from the debug console input box'] }, \"Debug Console: Accept Input\"),\n\t\t\tprecondition: CONTEXT_IN_DEBUG_REPL,\n\t\t\tkbOpts: {\n\t\t\t\tkbExpr: EditorContextKeys.textInputFocus,\n\t\t\t\tprimary: KeyCode.Enter,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t}\n\t\t});\n\t}\n\n\trun(accessor: ServicesAccessor, editor: ICodeEditor): void | Promise<void> {\n\t\tSuggestController.get(editor)?.cancelSuggestWidget();\n\t\tconst repl = getReplView(accessor.get(IViewsService));\n\t\trepl?.acceptReplInput();\n\t}\n}\n\nclass FilterReplAction extends ViewAction<Repl> {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tviewId: REPL_VIEW_ID,\n\t\t\tid: 'repl.action.filter',\n\t\t\ttitle: localize('repl.action.filter', \"Debug Console: Focus Filter\"),\n\t\t\tprecondition: CONTEXT_IN_DEBUG_REPL,\n\t\t\tkeybinding: [{\n\t\t\t\twhen: EditorContextKeys.textInputFocus,\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.KeyF,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t}]\n\t\t});\n\t}\n\n\trunInView(accessor: ServicesAccessor, repl: Repl): void | Promise<void> {\n\t\trepl.focusFilter();\n\t}\n}\n\n\nclass FindReplAction extends ViewAction<Repl> {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tviewId: REPL_VIEW_ID,\n\t\t\tid: 'repl.action.find',\n\t\t\ttitle: localize('repl.action.find', \"Debug Console: Focus Find\"),\n\t\t\tprecondition: CONTEXT_IN_DEBUG_REPL,\n\t\t\tkeybinding: [{\n\t\t\t\twhen: ContextKeyExpr.or(CONTEXT_IN_DEBUG_REPL, ContextKeyExpr.equals('focusedView', 'workbench.panel.repl.view')),\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Alt | KeyCode.KeyF,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t}],\n\t\t\ticon: Codicon.search,\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\twhen: ContextKeyExpr.equals('view', REPL_VIEW_ID),\n\t\t\t\torder: 15\n\t\t\t}, {\n\t\t\t\tid: MenuId.DebugConsoleContext,\n\t\t\t\tgroup: 'z_commands',\n\t\t\t\torder: 25\n\t\t\t}],\n\t\t});\n\t}\n\n\trunInView(accessor: ServicesAccessor, view: Repl): void | Promise<void> {\n\t\tview.openFind();\n\t}\n}\n\nclass ReplCopyAllAction extends EditorAction {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'repl.action.copyAll',\n\t\t\tlabel: localize('actions.repl.copyAll', \"Debug: Console Copy All\"),\n\t\t\talias: 'Debug Console Copy All',\n\t\t\tprecondition: CONTEXT_IN_DEBUG_REPL,\n\t\t});\n\t}\n\n\trun(accessor: ServicesAccessor, editor: ICodeEditor): void | Promise<void> {\n\t\tconst clipboardService = accessor.get(IClipboardService);\n\t\tconst repl = getReplView(accessor.get(IViewsService));\n\t\tif (repl) {\n\t\t\treturn clipboardService.writeText(repl.getVisibleContent());\n\t\t}\n\t}\n}\n\nregisterEditorAction(AcceptReplInputAction);\nregisterEditorAction(ReplCopyAllAction);\nregisterAction2(FilterReplAction);\nregisterAction2(FindReplAction);\n\nclass SelectReplActionViewItem extends FocusSessionActionViewItem {\n\n\tprotected override getSessions(): ReadonlyArray<IDebugSession> {\n\t\treturn this.debugService.getModel().getSessions(true).filter(s => s.hasSeparateRepl() && !sessionsToIgnore.has(s));\n\t}\n\n\tprotected override mapFocusedSessionToSelected(focusedSession: IDebugSession): IDebugSession {\n\t\twhile (focusedSession.parentSession && !focusedSession.hasSeparateRepl()) {\n\t\t\tfocusedSession = focusedSession.parentSession;\n\t\t}\n\t\treturn focusedSession;\n\t}\n}\n\nexport function getReplView(viewsService: IViewsService): Repl | undefined {\n\treturn viewsService.getActiveViewWithId(REPL_VIEW_ID) as Repl ?? undefined;\n}\n\nconst selectReplCommandId = 'workbench.action.debug.selectRepl';\nregisterAction2(class extends ViewAction<Repl> {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: selectReplCommandId,\n\t\t\tviewId: REPL_VIEW_ID,\n\t\t\ttitle: localize('selectRepl', \"Select Debug Console\"),\n\t\t\tf1: false,\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.equals('view', REPL_VIEW_ID), CONTEXT_MULTI_SESSION_REPL),\n\t\t\t\torder: 20\n\t\t\t}\n\t\t});\n\t}\n\n\tasync runInView(accessor: ServicesAccessor, view: Repl, session: IDebugSession | undefined) {\n\t\tconst debugService = accessor.get(IDebugService);\n\t\t// If session is already the focused session we need to manualy update the tree since view model will not send a focused change event\n\t\tif (session && session.state !== State.Inactive && session !== debugService.getViewModel().focusedSession) {\n\t\t\tsession = resolveChildSession(session, debugService.getModel().getSessions());\n\t\t\tawait debugService.focusStackFrame(undefined, undefined, session, { explicit: true });\n\t\t}\n\t\t// Need to select the session in the view since the focussed session might not have changed\n\t\tawait view.selectSession(session);\n\t}\n});\n\nregisterAction2(class extends ViewAction<Repl> {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.debug.panel.action.clearReplAction',\n\t\t\tviewId: REPL_VIEW_ID,\n\t\t\ttitle: localize2('clearRepl', 'Clear Console'),\n\t\t\tmetadata: {\n\t\t\t\tdescription: localize2('clearRepl.descriotion', 'Clears all program output from your debug REPL')\n\t\t\t},\n\t\t\tf1: true,\n\t\t\ticon: debugConsoleClearAll,\n\t\t\tmenu: [{\n\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\twhen: ContextKeyExpr.equals('view', REPL_VIEW_ID),\n\t\t\t\torder: 30\n\t\t\t}, {\n\t\t\t\tid: MenuId.DebugConsoleContext,\n\t\t\t\tgroup: 'z_commands',\n\t\t\t\torder: 20\n\t\t\t}],\n\t\t\tkeybinding: [{\n\t\t\t\tprimary: 0,\n\t\t\t\tmac: { primary: KeyMod.CtrlCmd | KeyCode.KeyK },\n\t\t\t\t// Weight is higher than work workbench contributions so the keybinding remains\n\t\t\t\t// highest priority when chords are registered afterwards\n\t\t\t\tweight: KeybindingWeight.WorkbenchContrib + 1,\n\t\t\t\twhen: ContextKeyExpr.equals('focusedView', 'workbench.panel.repl.view')\n\t\t\t}],\n\t\t});\n\t}\n\n\trunInView(_accessor: ServicesAccessor, view: Repl): void {\n\t\tconst accessibilitySignalService = _accessor.get(IAccessibilitySignalService);\n\t\tview.clearRepl();\n\t\taccessibilitySignalService.playSignal(AccessibilitySignal.clear);\n\t}\n});\n\nregisterAction2(class extends ViewAction<Repl> {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'debug.collapseRepl',\n\t\t\ttitle: localize('collapse', \"Collapse All\"),\n\t\t\tviewId: REPL_VIEW_ID,\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.DebugConsoleContext,\n\t\t\t\tgroup: 'z_commands',\n\t\t\t\torder: 10\n\t\t\t}\n\t\t});\n\t}\n\n\trunInView(_accessor: ServicesAccessor, view: Repl): void {\n\t\tview.collapseAll();\n\t\tview.focus();\n\t}\n});\n\nregisterAction2(class extends ViewAction<Repl> {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'debug.replPaste',\n\t\t\ttitle: localize('paste', \"Paste\"),\n\t\t\tviewId: REPL_VIEW_ID,\n\t\t\tprecondition: CONTEXT_DEBUG_STATE.notEqualsTo(getStateLabel(State.Inactive)),\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.DebugConsoleContext,\n\t\t\t\tgroup: '2_cutcopypaste',\n\t\t\t\torder: 30\n\t\t\t}\n\t\t});\n\t}\n\n\tasync runInView(accessor: ServicesAccessor, view: Repl): Promise<void> {\n\t\tconst clipboardService = accessor.get(IClipboardService);\n\t\tconst clipboardText = await clipboardService.readText();\n\t\tif (clipboardText) {\n\t\t\tconst replInput = view.getReplInput();\n\t\t\treplInput.setValue(replInput.getValue().concat(clipboardText));\n\t\t\tview.focus();\n\t\t\tconst model = replInput.getModel();\n\t\t\tconst lineNumber = model ? model.getLineCount() : 0;\n\t\t\tconst column = model?.getLineMaxColumn(lineNumber);\n\t\t\tif (typeof lineNumber === 'number' && typeof column === 'number') {\n\t\t\t\treplInput.setPosition({ lineNumber, column });\n\t\t\t}\n\t\t}\n\t}\n});\n\nregisterAction2(class extends ViewAction<Repl> {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.debug.action.copyAll',\n\t\t\ttitle: localize('copyAll', \"Copy All\"),\n\t\t\tviewId: REPL_VIEW_ID,\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.DebugConsoleContext,\n\t\t\t\tgroup: '2_cutcopypaste',\n\t\t\t\torder: 20\n\t\t\t}\n\t\t});\n\t}\n\n\tasync runInView(accessor: ServicesAccessor, view: Repl): Promise<void> {\n\t\tconst clipboardService = accessor.get(IClipboardService);\n\t\tawait clipboardService.writeText(view.getVisibleContent());\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'debug.replCopy',\n\t\t\ttitle: localize('copy', \"Copy\"),\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.DebugConsoleContext,\n\t\t\t\tgroup: '2_cutcopypaste',\n\t\t\t\torder: 10\n\t\t\t}\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor, element: IReplElement): Promise<void> {\n\t\tconst clipboardService = accessor.get(IClipboardService);\n\t\tconst debugService = accessor.get(IDebugService);\n\t\tconst nativeSelection = dom.getActiveWindow().getSelection();\n\t\tconst selectedText = nativeSelection?.toString();\n\t\tif (selectedText && selectedText.length > 0) {\n\t\t\treturn clipboardService.writeText(selectedText);\n\t\t} else if (element) {\n\t\t\tconst retValue = await this.tryEvaluateAndCopy(debugService, element);\n\t\t\tconst textToCopy = retValue || removeAnsiEscapeCodes(element.toString());\n\t\t\treturn clipboardService.writeText(textToCopy);\n\t\t}\n\t}\n\n\tprivate async tryEvaluateAndCopy(debugService: IDebugService, element: IReplElement): Promise<string | undefined> {\n\t\t// todo: we should expand DAP to allow copying more types here (#187784)\n\t\tif (!(element instanceof ReplEvaluationResult)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst stackFrame = debugService.getViewModel().focusedStackFrame;\n\t\tconst session = debugService.getViewModel().focusedSession;\n\t\tif (!stackFrame || !session || !session.capabilities.supportsClipboardContext) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tconst evaluation = await session.evaluate(element.originalExpression, stackFrame.frameId, 'clipboard');\n\t\t\treturn evaluation?.body.result;\n\t\t} catch (e) {\n\t\t\treturn;\n\t\t}\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: FOCUS_REPL_ID,\n\t\t\tcategory: DEBUG_COMMAND_CATEGORY,\n\t\t\ttitle: localize2({ comment: ['Debug is a noun in this context, not a verb.'], key: 'debugFocusConsole' }, \"Focus on Debug Console View\"),\n\t\t});\n\t}\n\n\toverride async run(accessor: ServicesAccessor) {\n\t\tconst viewsService = accessor.get(IViewsService);\n\t\tconst repl = await viewsService.openView<Repl>(REPL_VIEW_ID);\n\t\tawait repl?.focus();\n\t}\n});\n"]}