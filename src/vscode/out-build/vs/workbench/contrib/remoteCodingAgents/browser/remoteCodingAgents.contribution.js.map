{"version":3,"sources":["vs/workbench/contrib/remoteCodingAgents/browser/remoteCodingAgents.contribution.ts"],"names":[],"mappings":"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","file":"remoteCodingAgents.contribution.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { localize } from '../../../../nls.js';\nimport { MenuRegistry } from '../../../../platform/actions/common/actions.js';\n\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { IWorkbenchContribution, Extensions as WorkbenchExtensions, IWorkbenchContributionsRegistry } from '../../../common/contributions.js';\nimport { isProposedApiEnabled } from '../../../services/extensions/common/extensions.js';\nimport { ExtensionsRegistry } from '../../../services/extensions/common/extensionsRegistry.js';\nimport { LifecyclePhase } from '../../../services/lifecycle/common/lifecycle.js';\nimport { IRemoteCodingAgent, IRemoteCodingAgentsService } from '../common/remoteCodingAgentsService.js';\n\ninterface IRemoteCodingAgentExtensionPoint {\n\tid: string;\n\tcommand: string;\n\tdisplayName: string;\n\tdescription?: string;\n\tfollowUpRegex?: string;\n\twhen?: string;\n}\n\nconst extensionPoint = ExtensionsRegistry.registerExtensionPoint<IRemoteCodingAgentExtensionPoint[]>({\n\textensionPoint: 'remoteCodingAgents',\n\tjsonSchema: {\n\t\tdescription: localize('remoteCodingAgentsExtPoint', 'Contributes remote coding agent integrations to the chat widget.'),\n\t\ttype: 'array',\n\t\titems: {\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\tid: {\n\t\t\t\t\tdescription: localize('remoteCodingAgentsExtPoint.id', 'A unique identifier for this item.'),\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t\tcommand: {\n\t\t\t\t\tdescription: localize('remoteCodingAgentsExtPoint.command', 'Identifier of the command to execute. The command must be declared in the \"commands\" section.'),\n\t\t\t\t\ttype: 'string'\n\t\t\t\t},\n\t\t\t\tdisplayName: {\n\t\t\t\t\tdescription: localize('remoteCodingAgentsExtPoint.displayName', 'A user-friendly name for this item which is used for display in menus.'),\n\t\t\t\t\ttype: 'string'\n\t\t\t\t},\n\t\t\t\tdescription: {\n\t\t\t\t\tdescription: localize('remoteCodingAgentsExtPoint.description', 'Description of the remote agent for use in menus and tooltips.'),\n\t\t\t\t\ttype: 'string'\n\t\t\t\t},\n\t\t\t\tfollowUpRegex: {\n\t\t\t\t\tdescription: localize('remoteCodingAgentsExtPoint.followUpRegex', 'The last occurrence of pattern in an existing chat conversation is sent to the contributing extension to facilitate follow-up responses.'),\n\t\t\t\t\ttype: 'string',\n\t\t\t\t},\n\t\t\t\twhen: {\n\t\t\t\t\tdescription: localize('remoteCodingAgentsExtPoint.when', 'Condition which must be true to show this item.'),\n\t\t\t\t\ttype: 'string'\n\t\t\t\t},\n\t\t\t},\n\t\t\trequired: ['command', 'displayName'],\n\t\t}\n\t}\n});\n\nexport class RemoteCodingAgentsContribution extends Disposable implements IWorkbenchContribution {\n\tconstructor(\n\t\t@IRemoteCodingAgentsService private readonly remoteCodingAgentsService: IRemoteCodingAgentsService\n\t) {\n\t\tsuper();\n\t\textensionPoint.setHandler(extensions => {\n\t\t\tfor (const ext of extensions) {\n\t\t\t\tif (!isProposedApiEnabled(ext.description, 'remoteCodingAgents')) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (!Array.isArray(ext.value)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tfor (const contribution of ext.value) {\n\t\t\t\t\tconst command = MenuRegistry.getCommand(contribution.command);\n\t\t\t\t\tif (!command) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst agent: IRemoteCodingAgent = {\n\t\t\t\t\t\tid: contribution.id,\n\t\t\t\t\t\tcommand: contribution.command,\n\t\t\t\t\t\tdisplayName: contribution.displayName,\n\t\t\t\t\t\tdescription: contribution.description,\n\t\t\t\t\t\tfollowUpRegex: contribution.followUpRegex,\n\t\t\t\t\t\twhen: contribution.when\n\t\t\t\t\t};\n\t\t\t\t\tthis.remoteCodingAgentsService.registerAgent(agent);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nconst workbenchRegistry = Registry.as<IWorkbenchContributionsRegistry>(WorkbenchExtensions.Workbench);\nworkbenchRegistry.registerWorkbenchContribution(RemoteCodingAgentsContribution, LifecyclePhase.Restored);\n"]}