{"version":3,"sources":["vs/workbench/contrib/codeEditor/browser/toggleWordWrap.ts"],"names":[],"mappings":"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","file":"toggleWordWrap.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { addDisposableListener, onDidRegisterWindow } from '../../../../base/browser/dom.js';\nimport { mainWindow } from '../../../../base/browser/window.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { KeyCode, KeyMod } from '../../../../base/common/keyCodes.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { IActiveCodeEditor, ICodeEditor, IDiffEditor } from '../../../../editor/browser/editorBrowser.js';\nimport { EditorAction, EditorContributionInstantiation, ServicesAccessor, registerDiffEditorContribution, registerEditorAction, registerEditorContribution } from '../../../../editor/browser/editorExtensions.js';\nimport { ICodeEditorService } from '../../../../editor/browser/services/codeEditorService.js';\nimport { findDiffEditorContainingCodeEditor } from '../../../../editor/browser/widget/diffEditor/commands.js';\nimport { EditorOption } from '../../../../editor/common/config/editorOptions.js';\nimport { IDiffEditorContribution, IEditorContribution } from '../../../../editor/common/editorCommon.js';\nimport { EditorContextKeys } from '../../../../editor/common/editorContextKeys.js';\nimport { ITextModel } from '../../../../editor/common/model.js';\nimport * as nls from '../../../../nls.js';\nimport { MenuId, MenuRegistry } from '../../../../platform/actions/common/actions.js';\nimport { ContextKeyExpr, IContextKey, IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { KeybindingWeight } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { IWorkbenchContribution, WorkbenchPhase, registerWorkbenchContribution2 } from '../../../common/contributions.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\n\nconst transientWordWrapState = 'transientWordWrapState';\nconst isWordWrapMinifiedKey = 'isWordWrapMinified';\nconst isDominatedByLongLinesKey = 'isDominatedByLongLines';\nconst CAN_TOGGLE_WORD_WRAP = new RawContextKey<boolean>('canToggleWordWrap', false, true);\nconst EDITOR_WORD_WRAP = new RawContextKey<boolean>('editorWordWrap', false, nls.localize('editorWordWrap', 'Whether the editor is currently using word wrapping.'));\n\n/**\n * State written/read by the toggle word wrap action and associated with a particular model.\n */\nexport interface IWordWrapTransientState {\n\treadonly wordWrapOverride: 'on' | 'off';\n}\n\n/**\n * Store (in memory) the word wrap state for a particular model.\n */\nexport function writeTransientState(model: ITextModel, state: IWordWrapTransientState | null, codeEditorService: ICodeEditorService): void {\n\tcodeEditorService.setTransientModelProperty(model, transientWordWrapState, state);\n}\n\n/**\n * Read (in memory) the word wrap state for a particular model.\n */\nexport function readTransientState(model: ITextModel, codeEditorService: ICodeEditorService): IWordWrapTransientState | null {\n\treturn codeEditorService.getTransientModelProperty(model, transientWordWrapState) as IWordWrapTransientState | null;\n}\n\nconst TOGGLE_WORD_WRAP_ID = 'editor.action.toggleWordWrap';\nclass ToggleWordWrapAction extends EditorAction {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: TOGGLE_WORD_WRAP_ID,\n\t\t\tlabel: nls.localize2('toggle.wordwrap', \"View: Toggle Word Wrap\"),\n\t\t\tprecondition: undefined,\n\t\t\tkbOpts: {\n\t\t\t\tkbExpr: null,\n\t\t\t\tprimary: KeyMod.Alt | KeyCode.KeyZ,\n\t\t\t\tweight: KeybindingWeight.EditorContrib\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic run(accessor: ServicesAccessor, editor: ICodeEditor): void {\n\t\tconst codeEditorService = accessor.get(ICodeEditorService);\n\t\tconst instaService = accessor.get(IInstantiationService);\n\n\t\tif (!canToggleWordWrap(codeEditorService, editor)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst model = editor.getModel();\n\n\t\t// Read the current state\n\t\tconst transientState = readTransientState(model, codeEditorService);\n\n\t\t// Compute the new state\n\t\tlet newState: IWordWrapTransientState | null;\n\t\tif (transientState) {\n\t\t\tnewState = null;\n\t\t} else {\n\t\t\tconst actualWrappingInfo = editor.getOption(EditorOption.wrappingInfo);\n\t\t\tconst wordWrapOverride = (actualWrappingInfo.wrappingColumn === -1 ? 'on' : 'off');\n\t\t\tnewState = { wordWrapOverride };\n\t\t}\n\n\t\t// Write the new state\n\t\t// (this will cause an event and the controller will apply the state)\n\t\twriteTransientState(model, newState, codeEditorService);\n\n\t\t// if we are in a diff editor, update the other editor (if possible)\n\t\tconst diffEditor = instaService.invokeFunction(findDiffEditorContainingCodeEditor, editor);\n\t\tif (diffEditor) {\n\t\t\tconst originalEditor = diffEditor.getOriginalEditor();\n\t\t\tconst modifiedEditor = diffEditor.getModifiedEditor();\n\t\t\tconst otherEditor = (originalEditor === editor ? modifiedEditor : originalEditor);\n\t\t\tif (canToggleWordWrap(codeEditorService, otherEditor)) {\n\t\t\t\twriteTransientState(otherEditor.getModel(), newState, codeEditorService);\n\t\t\t\tdiffEditor.updateOptions({});\n\t\t\t}\n\t\t}\n\t}\n}\n\nclass ToggleWordWrapController extends Disposable implements IEditorContribution {\n\n\tpublic static readonly ID = 'editor.contrib.toggleWordWrapController';\n\n\tconstructor(\n\t\tprivate readonly _editor: ICodeEditor,\n\t\t@IContextKeyService private readonly _contextKeyService: IContextKeyService,\n\t\t@ICodeEditorService private readonly _codeEditorService: ICodeEditorService\n\t) {\n\t\tsuper();\n\n\t\tconst options = this._editor.getOptions();\n\t\tconst wrappingInfo = options.get(EditorOption.wrappingInfo);\n\t\tconst isWordWrapMinified = this._contextKeyService.createKey(isWordWrapMinifiedKey, wrappingInfo.isWordWrapMinified);\n\t\tconst isDominatedByLongLines = this._contextKeyService.createKey(isDominatedByLongLinesKey, wrappingInfo.isDominatedByLongLines);\n\t\tlet currentlyApplyingEditorConfig = false;\n\n\t\tthis._register(_editor.onDidChangeConfiguration((e) => {\n\t\t\tif (!e.hasChanged(EditorOption.wrappingInfo)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst options = this._editor.getOptions();\n\t\t\tconst wrappingInfo = options.get(EditorOption.wrappingInfo);\n\t\t\tisWordWrapMinified.set(wrappingInfo.isWordWrapMinified);\n\t\t\tisDominatedByLongLines.set(wrappingInfo.isDominatedByLongLines);\n\t\t\tif (!currentlyApplyingEditorConfig) {\n\t\t\t\t// I am not the cause of the word wrap getting changed\n\t\t\t\tensureWordWrapSettings();\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(_editor.onDidChangeModel((e) => {\n\t\t\tensureWordWrapSettings();\n\t\t}));\n\n\t\tthis._register(_codeEditorService.onDidChangeTransientModelProperty(() => {\n\t\t\tensureWordWrapSettings();\n\t\t}));\n\n\t\tconst ensureWordWrapSettings = () => {\n\t\t\tif (!canToggleWordWrap(this._codeEditorService, this._editor)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst transientState = readTransientState(this._editor.getModel(), this._codeEditorService);\n\n\t\t\t// Apply the state\n\t\t\ttry {\n\t\t\t\tcurrentlyApplyingEditorConfig = true;\n\t\t\t\tthis._applyWordWrapState(transientState);\n\t\t\t} finally {\n\t\t\t\tcurrentlyApplyingEditorConfig = false;\n\t\t\t}\n\t\t};\n\t}\n\n\tprivate _applyWordWrapState(state: IWordWrapTransientState | null): void {\n\t\tconst wordWrapOverride2 = state ? state.wordWrapOverride : 'inherit';\n\t\tthis._editor.updateOptions({\n\t\t\twordWrapOverride2: wordWrapOverride2\n\t\t});\n\t}\n}\n\nclass DiffToggleWordWrapController extends Disposable implements IDiffEditorContribution {\n\n\tpublic static readonly ID = 'diffeditor.contrib.toggleWordWrapController';\n\n\tconstructor(\n\t\tprivate readonly _diffEditor: IDiffEditor,\n\t\t@ICodeEditorService private readonly _codeEditorService: ICodeEditorService\n\t) {\n\t\tsuper();\n\n\t\tthis._register(this._diffEditor.onDidChangeModel(() => {\n\t\t\tthis._ensureSyncedWordWrapToggle();\n\t\t}));\n\t}\n\n\tprivate _ensureSyncedWordWrapToggle(): void {\n\t\tconst originalEditor = this._diffEditor.getOriginalEditor();\n\t\tconst modifiedEditor = this._diffEditor.getModifiedEditor();\n\n\t\tif (!originalEditor.hasModel() || !modifiedEditor.hasModel()) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst originalTransientState = readTransientState(originalEditor.getModel(), this._codeEditorService);\n\t\tconst modifiedTransientState = readTransientState(modifiedEditor.getModel(), this._codeEditorService);\n\n\t\tif (originalTransientState && !modifiedTransientState && canToggleWordWrap(this._codeEditorService, originalEditor)) {\n\t\t\twriteTransientState(modifiedEditor.getModel(), originalTransientState, this._codeEditorService);\n\t\t\tthis._diffEditor.updateOptions({});\n\t\t}\n\t\tif (!originalTransientState && modifiedTransientState && canToggleWordWrap(this._codeEditorService, modifiedEditor)) {\n\t\t\twriteTransientState(originalEditor.getModel(), modifiedTransientState, this._codeEditorService);\n\t\t\tthis._diffEditor.updateOptions({});\n\t\t}\n\t}\n}\n\nfunction canToggleWordWrap(codeEditorService: ICodeEditorService, editor: ICodeEditor | null): editor is IActiveCodeEditor {\n\tif (!editor) {\n\t\treturn false;\n\t}\n\tif (editor.isSimpleWidget) {\n\t\t// in a simple widget...\n\t\treturn false;\n\t}\n\t// Ensure correct word wrap settings\n\tconst model = editor.getModel();\n\tif (!model) {\n\t\treturn false;\n\t}\n\tif (editor.getOption(EditorOption.inDiffEditor)) {\n\t\t// this editor belongs to a diff editor\n\t\tfor (const diffEditor of codeEditorService.listDiffEditors()) {\n\t\t\tif (diffEditor.getOriginalEditor() === editor && !diffEditor.renderSideBySide) {\n\t\t\t\t// this editor is the left side of an inline diff editor\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn true;\n}\n\nclass EditorWordWrapContextKeyTracker extends Disposable implements IWorkbenchContribution {\n\n\tstatic readonly ID = 'workbench.contrib.editorWordWrapContextKeyTracker';\n\n\tprivate readonly _canToggleWordWrap: IContextKey<boolean>;\n\tprivate readonly _editorWordWrap: IContextKey<boolean>;\n\tprivate _activeEditor: ICodeEditor | null;\n\tprivate readonly _activeEditorListener: DisposableStore;\n\n\tconstructor(\n\t\t@IEditorService private readonly _editorService: IEditorService,\n\t\t@ICodeEditorService private readonly _codeEditorService: ICodeEditorService,\n\t\t@IContextKeyService private readonly _contextService: IContextKeyService,\n\t) {\n\t\tsuper();\n\t\tthis._register(Event.runAndSubscribe(onDidRegisterWindow, ({ window, disposables }) => {\n\t\t\tdisposables.add(addDisposableListener(window, 'focus', () => this._update(), true));\n\t\t\tdisposables.add(addDisposableListener(window, 'blur', () => this._update(), true));\n\t\t}, { window: mainWindow, disposables: this._store }));\n\t\tthis._register(this._editorService.onDidActiveEditorChange(() => this._update()));\n\t\tthis._canToggleWordWrap = CAN_TOGGLE_WORD_WRAP.bindTo(this._contextService);\n\t\tthis._editorWordWrap = EDITOR_WORD_WRAP.bindTo(this._contextService);\n\t\tthis._activeEditor = null;\n\t\tthis._activeEditorListener = new DisposableStore();\n\t\tthis._update();\n\t}\n\n\tprivate _update(): void {\n\t\tconst activeEditor = this._codeEditorService.getFocusedCodeEditor() || this._codeEditorService.getActiveCodeEditor();\n\t\tif (this._activeEditor === activeEditor) {\n\t\t\t// no change\n\t\t\treturn;\n\t\t}\n\t\tthis._activeEditorListener.clear();\n\t\tthis._activeEditor = activeEditor;\n\n\t\tif (activeEditor) {\n\t\t\tthis._activeEditorListener.add(activeEditor.onDidChangeModel(() => this._updateFromCodeEditor()));\n\t\t\tthis._activeEditorListener.add(activeEditor.onDidChangeConfiguration((e) => {\n\t\t\t\tif (e.hasChanged(EditorOption.wrappingInfo)) {\n\t\t\t\t\tthis._updateFromCodeEditor();\n\t\t\t\t}\n\t\t\t}));\n\t\t\tthis._updateFromCodeEditor();\n\t\t}\n\t}\n\n\tprivate _updateFromCodeEditor(): void {\n\t\tif (!canToggleWordWrap(this._codeEditorService, this._activeEditor)) {\n\t\t\treturn this._setValues(false, false);\n\t\t} else {\n\t\t\tconst wrappingInfo = this._activeEditor.getOption(EditorOption.wrappingInfo);\n\t\t\tthis._setValues(true, wrappingInfo.wrappingColumn !== -1);\n\t\t}\n\t}\n\n\tprivate _setValues(canToggleWordWrap: boolean, isWordWrap: boolean): void {\n\t\tthis._canToggleWordWrap.set(canToggleWordWrap);\n\t\tthis._editorWordWrap.set(isWordWrap);\n\t}\n}\n\nregisterWorkbenchContribution2(EditorWordWrapContextKeyTracker.ID, EditorWordWrapContextKeyTracker, WorkbenchPhase.AfterRestored);\n\nregisterEditorContribution(ToggleWordWrapController.ID, ToggleWordWrapController, EditorContributionInstantiation.Eager); // eager because it needs to change the editor word wrap configuration\nregisterDiffEditorContribution(DiffToggleWordWrapController.ID, DiffToggleWordWrapController);\nregisterEditorAction(ToggleWordWrapAction);\n\nMenuRegistry.appendMenuItem(MenuId.EditorTitle, {\n\tcommand: {\n\t\tid: TOGGLE_WORD_WRAP_ID,\n\t\ttitle: nls.localize('unwrapMinified', \"Disable wrapping for this file\"),\n\t\ticon: Codicon.wordWrap\n\t},\n\tgroup: 'navigation',\n\torder: 1,\n\twhen: ContextKeyExpr.and(\n\t\tContextKeyExpr.has(isDominatedByLongLinesKey),\n\t\tContextKeyExpr.has(isWordWrapMinifiedKey)\n\t)\n});\nMenuRegistry.appendMenuItem(MenuId.EditorTitle, {\n\tcommand: {\n\t\tid: TOGGLE_WORD_WRAP_ID,\n\t\ttitle: nls.localize('wrapMinified', \"Enable wrapping for this file\"),\n\t\ticon: Codicon.wordWrap\n\t},\n\tgroup: 'navigation',\n\torder: 1,\n\twhen: ContextKeyExpr.and(\n\t\tEditorContextKeys.inDiffEditor.negate(),\n\t\tContextKeyExpr.has(isDominatedByLongLinesKey),\n\t\tContextKeyExpr.not(isWordWrapMinifiedKey)\n\t)\n});\n\n\n// View menu\nMenuRegistry.appendMenuItem(MenuId.MenubarViewMenu, {\n\tcommand: {\n\t\tid: TOGGLE_WORD_WRAP_ID,\n\t\ttitle: nls.localize({ key: 'miToggleWordWrap', comment: ['&& denotes a mnemonic'] }, \"&&Word Wrap\"),\n\t\ttoggled: EDITOR_WORD_WRAP,\n\t\tprecondition: CAN_TOGGLE_WORD_WRAP\n\t},\n\torder: 1,\n\tgroup: '6_editor'\n});\n"]}