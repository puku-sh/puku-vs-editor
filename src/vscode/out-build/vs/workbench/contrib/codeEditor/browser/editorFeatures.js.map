{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/codeEditor/browser/editorFeatures.ts","vs/workbench/contrib/codeEditor/browser/editorFeatures.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;AAEhG,OAAO,EAAE,iBAAiB,EAAE,MAAM,mCAAmC,CAAC;AACtE,OAAO,EAAE,UAAU,EAAe,MAAM,sCAAsC,CAAC;AAC/E,OAAO,EAAE,kBAAkB,EAAE,MAAM,0DAA0D,CAAC;AAC9F,OAAO,EAAE,iBAAiB,EAAE,MAAM,6CAA6C,CAAC;AAChF,OAAO,EAAE,qBAAqB,EAAE,MAAM,4DAA4D,CAAC;AACnG,OAAO,EAA0C,8BAA8B,EAAE,MAAM,kCAAkC,CAAC;AAE1H,IAAM,0BAA0B,GAAhC,MAAM,0BAA2B,SAAQ,UAAU;aAElC,OAAE,GAAG,8CAAH,AAAiD,CAAC;IAIpE,YACqB,iBAAqC,EAClC,qBAA6D;QAEpF,KAAK,EAAE,CAAC;QAFgC,0BAAqB,GAArB,qBAAqB,CAAuB;QAJ7E,kBAAa,GAAG,KAAK,CAAC;QAQ7B,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,sBAAsB,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;QACpF,IAAI,CAAC,SAAS,CAAC,iBAAiB,CAAC,sBAAsB,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;QACpF,IAAI,iBAAiB,CAAC,eAAe,EAAE,CAAC,MAAM,GAAG,CAAC,IAAI,iBAAiB,CAAC,eAAe,EAAE,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;YACtG,IAAI,CAAC,YAAY,EAAE,CAAC;QACrB,CAAC;IACF,CAAC;IAEO,YAAY;QACnB,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC;YACxB,OAAO;QACR,CAAC;QACD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAE1B,kCAAkC;QAClC,MAAM,cAAc,GAAG,iBAAiB,EAAE,CAAC;QAC3C,KAAK,MAAM,OAAO,IAAI,cAAc,EAAE,CAAC;YACtC,IAAI,CAAC;gBACJ,MAAM,QAAQ,GAAG,IAAI,CAAC,qBAAqB,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;gBACpE,IAAI,OAAqB,QAAS,CAAC,OAAO,KAAK,UAAU,EAAE,CAAC;oBAC3D,IAAI,CAAC,SAAS,CAAe,QAAS,CAAC,CAAC;gBACzC,CAAC;YACF,CAAC;YAAC,OAAO,GAAG,EAAE,CAAC;gBACd,iBAAiB,CAAC,GAAG,CAAC,CAAC;YACxB,CAAC;QACF,CAAC;IACF,CAAC;;AArCI,0BAA0B;IAO7B,WAAA,kBAAkB,CAAA;IAClB,WAAA,qBAAqB,CAAA;GARlB,0BAA0B,CAsC/B;AAED,8BAA8B,CAAC,0BAA0B,CAAC,EAAE,EAAE,0BAA0B,sCAA8B,CAAC","file":"editorFeatures.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { Disposable, IDisposable } from '../../../../base/common/lifecycle.js';\nimport { ICodeEditorService } from '../../../../editor/browser/services/codeEditorService.js';\nimport { getEditorFeatures } from '../../../../editor/common/editorFeatures.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IWorkbenchContribution, WorkbenchPhase, registerWorkbenchContribution2 } from '../../../common/contributions.js';\n\nclass EditorFeaturesInstantiator extends Disposable implements IWorkbenchContribution {\n\n\tstatic readonly ID = 'workbench.contrib.editorFeaturesInstantiator';\n\n\tprivate _instantiated = false;\n\n\tconstructor(\n\t\t@ICodeEditorService codeEditorService: ICodeEditorService,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService\n\t) {\n\t\tsuper();\n\n\t\tthis._register(codeEditorService.onWillCreateCodeEditor(() => this._instantiate()));\n\t\tthis._register(codeEditorService.onWillCreateDiffEditor(() => this._instantiate()));\n\t\tif (codeEditorService.listCodeEditors().length > 0 || codeEditorService.listDiffEditors().length > 0) {\n\t\t\tthis._instantiate();\n\t\t}\n\t}\n\n\tprivate _instantiate(): void {\n\t\tif (this._instantiated) {\n\t\t\treturn;\n\t\t}\n\t\tthis._instantiated = true;\n\n\t\t// Instantiate all editor features\n\t\tconst editorFeatures = getEditorFeatures();\n\t\tfor (const feature of editorFeatures) {\n\t\t\ttry {\n\t\t\t\tconst instance = this._instantiationService.createInstance(feature);\n\t\t\t\tif (typeof (<IDisposable>instance).dispose === 'function') {\n\t\t\t\t\tthis._register((<IDisposable>instance));\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tonUnexpectedError(err);\n\t\t\t}\n\t\t}\n\t}\n}\n\nregisterWorkbenchContribution2(EditorFeaturesInstantiator.ID, EditorFeaturesInstantiator, WorkbenchPhase.BlockRestore);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { Disposable, IDisposable } from '../../../../base/common/lifecycle.js';\nimport { ICodeEditorService } from '../../../../editor/browser/services/codeEditorService.js';\nimport { getEditorFeatures } from '../../../../editor/common/editorFeatures.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IWorkbenchContribution, WorkbenchPhase, registerWorkbenchContribution2 } from '../../../common/contributions.js';\n\nclass EditorFeaturesInstantiator extends Disposable implements IWorkbenchContribution {\n\n\tstatic readonly ID = 'workbench.contrib.editorFeaturesInstantiator';\n\n\tprivate _instantiated = false;\n\n\tconstructor(\n\t\t@ICodeEditorService codeEditorService: ICodeEditorService,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService\n\t) {\n\t\tsuper();\n\n\t\tthis._register(codeEditorService.onWillCreateCodeEditor(() => this._instantiate()));\n\t\tthis._register(codeEditorService.onWillCreateDiffEditor(() => this._instantiate()));\n\t\tif (codeEditorService.listCodeEditors().length > 0 || codeEditorService.listDiffEditors().length > 0) {\n\t\t\tthis._instantiate();\n\t\t}\n\t}\n\n\tprivate _instantiate(): void {\n\t\tif (this._instantiated) {\n\t\t\treturn;\n\t\t}\n\t\tthis._instantiated = true;\n\n\t\t// Instantiate all editor features\n\t\tconst editorFeatures = getEditorFeatures();\n\t\tfor (const feature of editorFeatures) {\n\t\t\ttry {\n\t\t\t\tconst instance = this._instantiationService.createInstance(feature);\n\t\t\t\tif (typeof (<IDisposable>instance).dispose === 'function') {\n\t\t\t\t\tthis._register((<IDisposable>instance));\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tonUnexpectedError(err);\n\t\t\t}\n\t\t}\n\t}\n}\n\nregisterWorkbenchContribution2(EditorFeaturesInstantiator.ID, EditorFeaturesInstantiator, WorkbenchPhase.BlockRestore);\n"]}