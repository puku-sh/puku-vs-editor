{"version":3,"sources":["vs/workbench/contrib/codeEditor/browser/quickaccess/gotoLineQuickAccess.ts"],"names":[],"mappings":"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","file":"gotoLineQuickAccess.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Event } from '../../../../../base/common/event.js';\nimport { localize, localize2 } from '../../../../../nls.js';\nimport { IKeyMods, IQuickInputService } from '../../../../../platform/quickinput/common/quickInput.js';\nimport { IEditorService } from '../../../../services/editor/common/editorService.js';\nimport { IRange } from '../../../../../editor/common/core/range.js';\nimport { AbstractGotoLineQuickAccessProvider } from '../../../../../editor/contrib/quickAccess/browser/gotoLineQuickAccess.js';\nimport { Registry } from '../../../../../platform/registry/common/platform.js';\nimport { IQuickAccessRegistry, Extensions as QuickAccessExtensions } from '../../../../../platform/quickinput/common/quickAccess.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { IWorkbenchEditorConfiguration } from '../../../../common/editor.js';\nimport { Action2, registerAction2 } from '../../../../../platform/actions/common/actions.js';\nimport { KeyMod, KeyCode } from '../../../../../base/common/keyCodes.js';\nimport { ServicesAccessor } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { KeybindingWeight } from '../../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { IQuickAccessTextEditorContext } from '../../../../../editor/contrib/quickAccess/browser/editorNavigationQuickAccess.js';\nimport { ITextEditorOptions } from '../../../../../platform/editor/common/editor.js';\nimport { IEditorGroupsService } from '../../../../services/editor/common/editorGroupsService.js';\nimport { IStorageService } from '../../../../../platform/storage/common/storage.js';\n\nexport class GotoLineQuickAccessProvider extends AbstractGotoLineQuickAccessProvider {\n\n\tprotected readonly onDidActiveTextEditorControlChange: Event<void>;\n\n\tconstructor(\n\t\t@IEditorService private readonly editorService: IEditorService,\n\t\t@IEditorGroupsService private readonly editorGroupService: IEditorGroupsService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@IStorageService protected override readonly storageService: IStorageService\n\t) {\n\t\tsuper();\n\t\tthis.onDidActiveTextEditorControlChange = this.editorService.onDidActiveEditorChange;\n\t}\n\n\tprivate get configuration() {\n\t\tconst editorConfig = this.configurationService.getValue<IWorkbenchEditorConfiguration>().workbench?.editor;\n\n\t\treturn {\n\t\t\topenEditorPinned: !editorConfig?.enablePreviewFromQuickOpen || !editorConfig?.enablePreview\n\t\t};\n\t}\n\n\tprotected get activeTextEditorControl() {\n\t\treturn this.editorService.activeTextEditorControl;\n\t}\n\n\tprotected override gotoLocation(context: IQuickAccessTextEditorContext, options: { range: IRange; keyMods: IKeyMods; forceSideBySide?: boolean; preserveFocus?: boolean }): void {\n\n\t\t// Check for sideBySide use\n\t\tif ((options.keyMods.alt || (this.configuration.openEditorPinned && options.keyMods.ctrlCmd) || options.forceSideBySide) && this.editorService.activeEditor) {\n\t\t\tcontext.restoreViewState?.(); // since we open to the side, restore view state in this editor\n\n\t\t\tconst editorOptions: ITextEditorOptions = {\n\t\t\t\tselection: options.range,\n\t\t\t\tpinned: options.keyMods.ctrlCmd || this.configuration.openEditorPinned,\n\t\t\t\tpreserveFocus: options.preserveFocus\n\t\t\t};\n\n\t\t\tthis.editorGroupService.sideGroup.openEditor(this.editorService.activeEditor, editorOptions);\n\t\t}\n\n\t\t// Otherwise let parent handle it\n\t\telse {\n\t\t\tsuper.gotoLocation(context, options);\n\t\t}\n\t}\n}\n\nclass GotoLineAction extends Action2 {\n\n\tstatic readonly ID = 'workbench.action.gotoLine';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: GotoLineAction.ID,\n\t\t\ttitle: localize2('gotoLine', 'Go to Line/Column...'),\n\t\t\tf1: true,\n\t\t\tkeybinding: {\n\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t\twhen: null,\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyCode.KeyG,\n\t\t\t\tmac: { primary: KeyMod.WinCtrl | KeyCode.KeyG }\n\t\t\t}\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\taccessor.get(IQuickInputService).quickAccess.show(GotoLineQuickAccessProvider.GO_TO_LINE_PREFIX);\n\t}\n}\n\nregisterAction2(GotoLineAction);\n\nRegistry.as<IQuickAccessRegistry>(QuickAccessExtensions.Quickaccess).registerQuickAccessProvider({\n\tctor: GotoLineQuickAccessProvider,\n\tprefix: AbstractGotoLineQuickAccessProvider.GO_TO_LINE_PREFIX,\n\tplaceholder: localize('gotoLineQuickAccessPlaceholder', \"Type the line number and optional column to go to (e.g. :42:5 for line 42, column 5). Type :: to go to a character offset (e.g. ::1024 for character 1024 from the start of the file). Use negative values to navigate backwards.\"),\n\thelpEntries: [{ description: localize('gotoLineQuickAccess', \"Go to Line/Column\"), commandId: GotoLineAction.ID }]\n});\n\nclass GotoOffsetAction extends Action2 {\n\n\tstatic readonly ID = 'workbench.action.gotoOffset';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: GotoOffsetAction.ID,\n\t\t\ttitle: localize2('gotoOffset', 'Go to Offset...'),\n\t\t\tf1: true\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\taccessor.get(IQuickInputService).quickAccess.show(GotoLineQuickAccessProvider.GO_TO_OFFSET_PREFIX);\n\t}\n}\n\nregisterAction2(GotoOffsetAction);\n\nRegistry.as<IQuickAccessRegistry>(QuickAccessExtensions.Quickaccess).registerQuickAccessProvider({\n\tctor: GotoLineQuickAccessProvider,\n\tprefix: GotoLineQuickAccessProvider.GO_TO_OFFSET_PREFIX,\n\tplaceholder: localize('gotoLineQuickAccessPlaceholder', \"Type the line number and optional column to go to (e.g. :42:5 for line 42, column 5). Type :: to go to a character offset (e.g. ::1024 for character 1024 from the start of the file). Use negative values to navigate backwards.\"),\n\thelpEntries: [{ description: localize('gotoOffsetQuickAccess', \"Go to Offset\"), commandId: GotoOffsetAction.ID }]\n});\n"]}