{"version":3,"sources":["vs/workbench/contrib/codeEditor/browser/toggleColumnSelection.ts"],"names":[],"mappings":"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","file":"toggleColumnSelection.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { localize, localize2 } from '../../../../nls.js';\nimport { Action2, MenuId, registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { ICodeEditorService } from '../../../../editor/browser/services/codeEditorService.js';\nimport { EditorOption } from '../../../../editor/common/config/editorOptions.js';\nimport { ICodeEditor } from '../../../../editor/browser/editorBrowser.js';\nimport { CoreNavigationCommands } from '../../../../editor/browser/coreCommands.js';\nimport { Position } from '../../../../editor/common/core/position.js';\nimport { Selection } from '../../../../editor/common/core/selection.js';\nimport { ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\n\nexport class ToggleColumnSelectionAction extends Action2 {\n\n\tstatic readonly ID = 'editor.action.toggleColumnSelection';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: ToggleColumnSelectionAction.ID,\n\t\t\ttitle: {\n\t\t\t\t...localize2('toggleColumnSelection', \"Toggle Column Selection Mode\"),\n\t\t\t\tmnemonicTitle: localize({ key: 'miColumnSelection', comment: ['&& denotes a mnemonic'] }, \"Column &&Selection Mode\"),\n\t\t\t},\n\t\t\tf1: true,\n\t\t\ttoggled: ContextKeyExpr.equals('config.editor.columnSelection', true),\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.MenubarSelectionMenu,\n\t\t\t\tgroup: '4_config',\n\t\t\t\torder: 2\n\t\t\t}\n\t\t});\n\t}\n\n\toverride async run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst configurationService = accessor.get(IConfigurationService);\n\t\tconst codeEditorService = accessor.get(ICodeEditorService);\n\n\t\tconst oldValue = configurationService.getValue('editor.columnSelection');\n\t\tconst codeEditor = this._getCodeEditor(codeEditorService);\n\t\tawait configurationService.updateValue('editor.columnSelection', !oldValue);\n\t\tconst newValue = configurationService.getValue('editor.columnSelection');\n\t\tif (!codeEditor || codeEditor !== this._getCodeEditor(codeEditorService) || oldValue === newValue || !codeEditor.hasModel() || typeof oldValue !== 'boolean' || typeof newValue !== 'boolean') {\n\t\t\treturn;\n\t\t}\n\t\tconst viewModel = codeEditor._getViewModel();\n\t\tif (codeEditor.getOption(EditorOption.columnSelection)) {\n\t\t\tconst selection = codeEditor.getSelection();\n\t\t\tconst modelSelectionStart = new Position(selection.selectionStartLineNumber, selection.selectionStartColumn);\n\t\t\tconst viewSelectionStart = viewModel.coordinatesConverter.convertModelPositionToViewPosition(modelSelectionStart);\n\t\t\tconst modelPosition = new Position(selection.positionLineNumber, selection.positionColumn);\n\t\t\tconst viewPosition = viewModel.coordinatesConverter.convertModelPositionToViewPosition(modelPosition);\n\n\t\t\tCoreNavigationCommands.MoveTo.runCoreEditorCommand(viewModel, {\n\t\t\t\tposition: modelSelectionStart,\n\t\t\t\tviewPosition: viewSelectionStart\n\t\t\t});\n\t\t\tconst visibleColumn = viewModel.cursorConfig.visibleColumnFromColumn(viewModel, viewPosition);\n\t\t\tCoreNavigationCommands.ColumnSelect.runCoreEditorCommand(viewModel, {\n\t\t\t\tposition: modelPosition,\n\t\t\t\tviewPosition: viewPosition,\n\t\t\t\tdoColumnSelect: true,\n\t\t\t\tmouseColumn: visibleColumn + 1\n\t\t\t});\n\t\t} else {\n\t\t\tconst columnSelectData = viewModel.getCursorColumnSelectData();\n\t\t\tconst fromViewColumn = viewModel.cursorConfig.columnFromVisibleColumn(viewModel, columnSelectData.fromViewLineNumber, columnSelectData.fromViewVisualColumn);\n\t\t\tconst fromPosition = viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Position(columnSelectData.fromViewLineNumber, fromViewColumn));\n\t\t\tconst toViewColumn = viewModel.cursorConfig.columnFromVisibleColumn(viewModel, columnSelectData.toViewLineNumber, columnSelectData.toViewVisualColumn);\n\t\t\tconst toPosition = viewModel.coordinatesConverter.convertViewPositionToModelPosition(new Position(columnSelectData.toViewLineNumber, toViewColumn));\n\n\t\t\tcodeEditor.setSelection(new Selection(fromPosition.lineNumber, fromPosition.column, toPosition.lineNumber, toPosition.column));\n\t\t}\n\t}\n\n\tprivate _getCodeEditor(codeEditorService: ICodeEditorService): ICodeEditor | null {\n\t\tconst codeEditor = codeEditorService.getFocusedCodeEditor();\n\t\tif (codeEditor) {\n\t\t\treturn codeEditor;\n\t\t}\n\t\treturn codeEditorService.getActiveCodeEditor();\n\t}\n}\n\nregisterAction2(ToggleColumnSelectionAction);\n"]}