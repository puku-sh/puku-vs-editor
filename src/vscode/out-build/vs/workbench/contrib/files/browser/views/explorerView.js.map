{"version":3,"sources":["vs/workbench/contrib/files/browser/views/explorerView.ts"],"names":[],"mappings":"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","file":"explorerView.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as nls from '../../../../../nls.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport * as perf from '../../../../../base/common/performance.js';\nimport { WorkbenchActionExecutedEvent, WorkbenchActionExecutedClassification } from '../../../../../base/common/actions.js';\nimport { memoize } from '../../../../../base/common/decorators.js';\nimport { IFilesConfiguration, ExplorerFolderContext, FilesExplorerFocusedContext, ExplorerFocusedContext, ExplorerRootContext, ExplorerResourceReadonlyContext, ExplorerResourceCut, ExplorerResourceMoveableToTrash, ExplorerCompressedFocusContext, ExplorerCompressedFirstFocusContext, ExplorerCompressedLastFocusContext, ExplorerResourceAvailableEditorIdsContext, VIEW_ID, ExplorerResourceWritableContext, ViewHasSomeCollapsibleRootItemContext, FoldersViewVisibleContext, ExplorerResourceParentReadOnlyContext, ExplorerFindProviderActive } from '../../common/files.js';\nimport { FileCopiedContext, NEW_FILE_COMMAND_ID, NEW_FOLDER_COMMAND_ID } from '../fileActions.js';\nimport * as DOM from '../../../../../base/browser/dom.js';\nimport { IWorkbenchLayoutService } from '../../../../services/layout/browser/layoutService.js';\nimport { ExplorerDecorationsProvider } from './explorerDecorationsProvider.js';\nimport { IWorkspaceContextService, WorkbenchState } from '../../../../../platform/workspace/common/workspace.js';\nimport { IConfigurationService, IConfigurationChangeEvent } from '../../../../../platform/configuration/common/configuration.js';\nimport { IKeybindingService } from '../../../../../platform/keybinding/common/keybinding.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { IProgressService, ProgressLocation } from '../../../../../platform/progress/common/progress.js';\nimport { IContextMenuService } from '../../../../../platform/contextview/browser/contextView.js';\nimport { IContextKeyService, IContextKey, ContextKeyExpr } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { ResourceContextKey } from '../../../../common/contextkeys.js';\nimport { IDecorationsService } from '../../../../services/decorations/common/decorations.js';\nimport { WorkbenchCompressibleAsyncDataTree } from '../../../../../platform/list/browser/listService.js';\nimport { DelayedDragHandler } from '../../../../../base/browser/dnd.js';\nimport { IEditorService, SIDE_GROUP, ACTIVE_GROUP } from '../../../../services/editor/common/editorService.js';\nimport { IViewPaneOptions, ViewPane } from '../../../../browser/parts/views/viewPane.js';\nimport { ILabelService } from '../../../../../platform/label/common/label.js';\nimport { ExplorerDelegate, ExplorerDataSource, FilesRenderer, ICompressedNavigationController, FilesFilter, FileSorter, FileDragAndDrop, ExplorerCompressionDelegate, isCompressedFolderName, ExplorerFindProvider } from './explorerViewer.js';\nimport { IThemeService, IFileIconTheme } from '../../../../../platform/theme/common/themeService.js';\nimport { IWorkbenchThemeService } from '../../../../services/themes/common/workbenchThemeService.js';\nimport { ITreeContextMenuEvent, TreeVisibility } from '../../../../../base/browser/ui/tree/tree.js';\nimport { MenuId, Action2, registerAction2 } from '../../../../../platform/actions/common/actions.js';\nimport { ITelemetryService } from '../../../../../platform/telemetry/common/telemetry.js';\nimport { ExplorerItem, NewExplorerItem } from '../../common/explorerModel.js';\nimport { ResourceLabels } from '../../../../browser/labels.js';\nimport { IStorageService, StorageScope, StorageTarget } from '../../../../../platform/storage/common/storage.js';\nimport { IAsyncDataTreeViewState } from '../../../../../base/browser/ui/tree/asyncDataTree.js';\nimport { FuzzyScore } from '../../../../../base/common/filters.js';\nimport { IClipboardService } from '../../../../../platform/clipboard/common/clipboardService.js';\nimport { IFileService, FileSystemProviderCapabilities } from '../../../../../platform/files/common/files.js';\nimport { IDisposable } from '../../../../../base/common/lifecycle.js';\nimport { Event } from '../../../../../base/common/event.js';\nimport { IViewDescriptorService } from '../../../../common/views.js';\nimport { IViewsService } from '../../../../services/views/common/viewsService.js';\nimport { IOpenerService } from '../../../../../platform/opener/common/opener.js';\nimport { IUriIdentityService } from '../../../../../platform/uriIdentity/common/uriIdentity.js';\nimport { EditorResourceAccessor, SideBySideEditor } from '../../../../common/editor.js';\nimport { IExplorerService, IExplorerView } from '../files.js';\nimport { Codicon } from '../../../../../base/common/codicons.js';\nimport { ICommandService } from '../../../../../platform/commands/common/commands.js';\nimport { IEditorResolverService } from '../../../../services/editor/common/editorResolverService.js';\nimport { EditorOpenSource } from '../../../../../platform/editor/common/editor.js';\nimport { ResourceMap } from '../../../../../base/common/map.js';\nimport { AbstractTreePart } from '../../../../../base/browser/ui/tree/abstractTree.js';\nimport { IHoverService } from '../../../../../platform/hover/browser/hover.js';\n\n\nfunction hasExpandedRootChild(tree: WorkbenchCompressibleAsyncDataTree<ExplorerItem | ExplorerItem[], ExplorerItem, FuzzyScore>, treeInput: ExplorerItem[]): boolean {\n\tfor (const folder of treeInput) {\n\t\tif (tree.hasNode(folder) && !tree.isCollapsed(folder)) {\n\t\t\tfor (const [, child] of folder.children.entries()) {\n\t\t\t\tif (tree.hasNode(child) && tree.isCollapsible(child) && !tree.isCollapsed(child)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n}\n\n/**\n * Whether or not any of the nodes in the tree are expanded\n */\nfunction hasExpandedNode(tree: WorkbenchCompressibleAsyncDataTree<ExplorerItem | ExplorerItem[], ExplorerItem, FuzzyScore>, treeInput: ExplorerItem[]): boolean {\n\tfor (const folder of treeInput) {\n\t\tif (tree.hasNode(folder) && !tree.isCollapsed(folder)) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\nconst identityProvider = {\n\tgetId: (stat: ExplorerItem) => {\n\t\tif (stat instanceof NewExplorerItem) {\n\t\t\treturn `new:${stat.getId()}`;\n\t\t}\n\n\t\treturn stat.getId();\n\t}\n};\n\nexport function getContext(focus: ExplorerItem[], selection: ExplorerItem[], respectMultiSelection: boolean,\n\tcompressedNavigationControllerProvider: { getCompressedNavigationController(stat: ExplorerItem): ICompressedNavigationController[] | undefined }): ExplorerItem[] {\n\n\tlet focusedStat: ExplorerItem | undefined;\n\tfocusedStat = focus.length ? focus[0] : undefined;\n\n\t// If we are respecting multi-select and we have a multi-selection we ignore focus as we want to act on the selection\n\tif (respectMultiSelection && selection.length > 1) {\n\t\tfocusedStat = undefined;\n\t}\n\n\tconst compressedNavigationControllers = focusedStat && compressedNavigationControllerProvider.getCompressedNavigationController(focusedStat);\n\tconst compressedNavigationController = compressedNavigationControllers?.length ? compressedNavigationControllers[0] : undefined;\n\tfocusedStat = compressedNavigationController ? compressedNavigationController.current : focusedStat;\n\n\tconst selectedStats: ExplorerItem[] = [];\n\n\tfor (const stat of selection) {\n\t\tconst controllers = compressedNavigationControllerProvider.getCompressedNavigationController(stat);\n\t\tconst controller = controllers?.at(0);\n\t\tif (controller && focusedStat && controller === compressedNavigationController) {\n\t\t\tif (stat === focusedStat) {\n\t\t\t\tselectedStats.push(stat);\n\t\t\t}\n\t\t\t// Ignore stats which are selected but are part of the same compact node as the focused stat\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (controller) {\n\t\t\tselectedStats.push(...controller.items);\n\t\t} else {\n\t\t\tselectedStats.push(stat);\n\t\t}\n\t}\n\tif (!focusedStat) {\n\t\tif (respectMultiSelection) {\n\t\t\treturn selectedStats;\n\t\t} else {\n\t\t\treturn [];\n\t\t}\n\t}\n\n\tif (respectMultiSelection && selectedStats.indexOf(focusedStat) >= 0) {\n\t\treturn selectedStats;\n\t}\n\n\treturn [focusedStat];\n}\n\nexport interface IExplorerViewContainerDelegate {\n\twillOpenElement(event?: UIEvent): void;\n\tdidOpenElement(event?: UIEvent): void;\n}\n\nexport interface IExplorerViewPaneOptions extends IViewPaneOptions {\n\tdelegate: IExplorerViewContainerDelegate;\n}\n\nexport class ExplorerView extends ViewPane implements IExplorerView {\n\tstatic readonly TREE_VIEW_STATE_STORAGE_KEY: string = 'workbench.explorer.treeViewState';\n\n\tprivate tree!: WorkbenchCompressibleAsyncDataTree<ExplorerItem | ExplorerItem[], ExplorerItem, FuzzyScore>;\n\tprivate filter!: FilesFilter;\n\tprivate findProvider!: ExplorerFindProvider;\n\n\tprivate resourceContext: ResourceContextKey;\n\tprivate folderContext: IContextKey<boolean>;\n\tprivate parentReadonlyContext: IContextKey<boolean>;\n\tprivate readonlyContext: IContextKey<boolean>;\n\tprivate availableEditorIdsContext: IContextKey<string>;\n\n\tprivate rootContext: IContextKey<boolean>;\n\tprivate resourceMoveableToTrash: IContextKey<boolean>;\n\n\tprivate renderer!: FilesRenderer;\n\n\tprivate treeContainer!: HTMLElement;\n\tprivate container!: HTMLElement;\n\tprivate compressedFocusContext: IContextKey<boolean>;\n\tprivate compressedFocusFirstContext: IContextKey<boolean>;\n\tprivate compressedFocusLastContext: IContextKey<boolean>;\n\n\tprivate viewHasSomeCollapsibleRootItem: IContextKey<boolean>;\n\tprivate viewVisibleContextKey: IContextKey<boolean>;\n\n\tprivate setTreeInputPromise: Promise<void> | undefined;\n\tprivate horizontalScrolling: boolean | undefined;\n\n\tprivate dragHandler!: DelayedDragHandler;\n\tprivate _autoReveal: boolean | 'force' | 'focusNoScroll' = false;\n\tprivate decorationsProvider: ExplorerDecorationsProvider | undefined;\n\tprivate readonly delegate: IExplorerViewContainerDelegate | undefined;\n\n\toverride get singleViewPaneContainerTitle(): string {\n\t\treturn this.name;\n\t}\n\n\tconstructor(\n\t\toptions: IExplorerViewPaneOptions,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IWorkspaceContextService private readonly contextService: IWorkspaceContextService,\n\t\t@IProgressService private readonly progressService: IProgressService,\n\t\t@IEditorService private readonly editorService: IEditorService,\n\t\t@IEditorResolverService private readonly editorResolverService: IEditorResolverService,\n\t\t@IWorkbenchLayoutService private readonly layoutService: IWorkbenchLayoutService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IDecorationsService private readonly decorationService: IDecorationsService,\n\t\t@ILabelService private readonly labelService: ILabelService,\n\t\t@IThemeService themeService: IWorkbenchThemeService,\n\t\t@ITelemetryService private readonly telemetryService: ITelemetryService,\n\t\t@IHoverService hoverService: IHoverService,\n\t\t@IExplorerService private readonly explorerService: IExplorerService,\n\t\t@IStorageService private readonly storageService: IStorageService,\n\t\t@IClipboardService private clipboardService: IClipboardService,\n\t\t@IFileService private readonly fileService: IFileService,\n\t\t@IUriIdentityService private readonly uriIdentityService: IUriIdentityService,\n\t\t@ICommandService private readonly commandService: ICommandService,\n\t\t@IOpenerService openerService: IOpenerService\n\t) {\n\t\tsuper(options, keybindingService, contextMenuService, configurationService, contextKeyService, viewDescriptorService, instantiationService, openerService, themeService, hoverService);\n\n\t\tthis.delegate = options.delegate;\n\t\tthis.resourceContext = instantiationService.createInstance(ResourceContextKey);\n\t\tthis._register(this.resourceContext);\n\n\t\tthis.parentReadonlyContext = ExplorerResourceParentReadOnlyContext.bindTo(contextKeyService);\n\t\tthis.folderContext = ExplorerFolderContext.bindTo(contextKeyService);\n\t\tthis.readonlyContext = ExplorerResourceReadonlyContext.bindTo(contextKeyService);\n\t\tthis.availableEditorIdsContext = ExplorerResourceAvailableEditorIdsContext.bindTo(contextKeyService);\n\t\tthis.rootContext = ExplorerRootContext.bindTo(contextKeyService);\n\t\tthis.resourceMoveableToTrash = ExplorerResourceMoveableToTrash.bindTo(contextKeyService);\n\t\tthis.compressedFocusContext = ExplorerCompressedFocusContext.bindTo(contextKeyService);\n\t\tthis.compressedFocusFirstContext = ExplorerCompressedFirstFocusContext.bindTo(contextKeyService);\n\t\tthis.compressedFocusLastContext = ExplorerCompressedLastFocusContext.bindTo(contextKeyService);\n\t\tthis.viewHasSomeCollapsibleRootItem = ViewHasSomeCollapsibleRootItemContext.bindTo(contextKeyService);\n\t\tthis.viewVisibleContextKey = FoldersViewVisibleContext.bindTo(contextKeyService);\n\n\n\t\tthis.explorerService.registerView(this);\n\t}\n\n\tget autoReveal() {\n\t\treturn this._autoReveal;\n\t}\n\n\tset autoReveal(autoReveal: boolean | 'force' | 'focusNoScroll') {\n\t\tthis._autoReveal = autoReveal;\n\t}\n\n\tget name(): string {\n\t\treturn this.labelService.getWorkspaceLabel(this.contextService.getWorkspace());\n\t}\n\n\toverride get title(): string {\n\t\treturn this.name;\n\t}\n\n\toverride set title(_: string) {\n\t\t// noop\n\t}\n\n\toverride setVisible(visible: boolean): void {\n\t\tthis.viewVisibleContextKey.set(visible);\n\t\tsuper.setVisible(visible);\n\t}\n\n\t@memoize private get fileCopiedContextKey(): IContextKey<boolean> {\n\t\treturn FileCopiedContext.bindTo(this.contextKeyService);\n\t}\n\n\t@memoize private get resourceCutContextKey(): IContextKey<boolean> {\n\t\treturn ExplorerResourceCut.bindTo(this.contextKeyService);\n\t}\n\n\t// Split view methods\n\n\tprotected override renderHeader(container: HTMLElement): void {\n\t\tsuper.renderHeader(container);\n\n\t\t// Expand on drag over\n\t\tthis.dragHandler = new DelayedDragHandler(container, () => this.setExpanded(true));\n\n\t\t// eslint-disable-next-line no-restricted-syntax\n\t\tconst titleElement = container.querySelector('.title') as HTMLElement;\n\t\tconst setHeader = () => {\n\t\t\ttitleElement.textContent = this.name;\n\t\t\tthis.updateTitle(this.name);\n\t\t\tthis.ariaHeaderLabel = nls.localize('explorerSection', \"Explorer Section: {0}\", this.name);\n\t\t\ttitleElement.setAttribute('aria-label', this.ariaHeaderLabel);\n\t\t};\n\n\t\tthis._register(this.contextService.onDidChangeWorkspaceName(setHeader));\n\t\tthis._register(this.labelService.onDidChangeFormatters(setHeader));\n\t\tsetHeader();\n\t}\n\n\tprotected override layoutBody(height: number, width: number): void {\n\t\tsuper.layoutBody(height, width);\n\t\tthis.tree.layout(height, width);\n\t}\n\n\tprotected override renderBody(container: HTMLElement): void {\n\t\tsuper.renderBody(container);\n\n\t\tthis.container = container;\n\t\tthis.treeContainer = DOM.append(container, DOM.$('.explorer-folders-view'));\n\n\t\tthis.createTree(this.treeContainer);\n\n\t\tthis._register(this.labelService.onDidChangeFormatters(() => {\n\t\t\tthis._onDidChangeTitleArea.fire();\n\t\t}));\n\n\t\t// Update configuration\n\t\tthis.onConfigurationUpdated(undefined);\n\n\t\t// When the explorer viewer is loaded, listen to changes to the editor input\n\t\tthis._register(this.editorService.onDidActiveEditorChange(() => {\n\t\t\tthis.selectActiveFile();\n\t\t}));\n\n\t\t// Also handle configuration updates\n\t\tthis._register(this.configurationService.onDidChangeConfiguration(e => this.onConfigurationUpdated(e)));\n\n\t\tthis._register(this.onDidChangeBodyVisibility(async visible => {\n\t\t\tif (visible) {\n\t\t\t\t// Always refresh explorer when it becomes visible to compensate for missing file events #126817\n\t\t\t\tawait this.setTreeInput();\n\t\t\t\t// Update the collapse / expand  button state\n\t\t\t\tthis.updateAnyCollapsedContext();\n\t\t\t\t// Find resource to focus from active editor input if set\n\t\t\t\tthis.selectActiveFile(true);\n\t\t\t}\n\t\t}));\n\n\t\t// Support for paste of files into explorer\n\t\tthis._register(DOM.addDisposableListener(DOM.getWindow(this.container), DOM.EventType.PASTE, async event => {\n\t\t\tif (!this.hasFocus() || this.readonlyContext.get()) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (event.clipboardData?.files?.length) {\n\t\t\t\tawait this.commandService.executeCommand('filesExplorer.paste', event.clipboardData?.files);\n\t\t\t}\n\t\t}));\n\t}\n\n\toverride focus(): void {\n\t\tsuper.focus();\n\t\tthis.tree.domFocus();\n\n\t\tif (this.tree.getFocusedPart() === AbstractTreePart.Tree) {\n\t\t\tconst focused = this.tree.getFocus();\n\t\t\tif (focused.length === 1 && this._autoReveal) {\n\t\t\t\tthis.tree.reveal(focused[0], 0.5);\n\t\t\t}\n\t\t}\n\t}\n\n\thasFocus(): boolean {\n\t\treturn DOM.isAncestorOfActiveElement(this.container);\n\t}\n\n\tgetFocus(): ExplorerItem[] {\n\t\treturn this.tree.getFocus();\n\t}\n\n\tfocusNext(): void {\n\t\tthis.tree.focusNext();\n\t}\n\n\tfocusLast(): void {\n\t\tthis.tree.focusLast();\n\t}\n\n\tgetContext(respectMultiSelection: boolean): ExplorerItem[] {\n\t\tconst focusedItems = this.tree.getFocusedPart() === AbstractTreePart.StickyScroll ?\n\t\t\tthis.tree.getStickyScrollFocus() :\n\t\t\tthis.tree.getFocus();\n\t\treturn getContext(focusedItems, this.tree.getSelection(), respectMultiSelection, this.renderer);\n\t}\n\n\tisItemVisible(item: ExplorerItem): boolean {\n\t\t// If filter is undefined it means the tree hasn't been rendered yet, so nothing is visible\n\t\tif (!this.filter) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this.filter.filter(item, TreeVisibility.Visible);\n\t}\n\n\tisItemCollapsed(item: ExplorerItem): boolean {\n\t\treturn this.tree.isCollapsed(item);\n\t}\n\n\tasync setEditable(stat: ExplorerItem, isEditing: boolean): Promise<void> {\n\t\tif (isEditing) {\n\t\t\tthis.horizontalScrolling = this.tree.options.horizontalScrolling;\n\n\t\t\tif (this.horizontalScrolling) {\n\t\t\t\tthis.tree.updateOptions({ horizontalScrolling: false });\n\t\t\t}\n\n\t\t\tawait this.tree.expand(stat.parent!);\n\t\t} else {\n\t\t\tif (this.horizontalScrolling !== undefined) {\n\t\t\t\tthis.tree.updateOptions({ horizontalScrolling: this.horizontalScrolling });\n\t\t\t}\n\n\t\t\tthis.horizontalScrolling = undefined;\n\t\t\tthis.treeContainer.classList.remove('highlight');\n\t\t}\n\n\t\tawait this.refresh(false, stat.parent, false);\n\n\t\tif (isEditing) {\n\t\t\tthis.treeContainer.classList.add('highlight');\n\t\t\tthis.tree.reveal(stat);\n\t\t} else {\n\t\t\tthis.tree.domFocus();\n\t\t}\n\t}\n\n\tprivate async selectActiveFile(reveal = this._autoReveal): Promise<void> {\n\t\tif (this._autoReveal) {\n\t\t\tconst activeFile = EditorResourceAccessor.getCanonicalUri(this.editorService.activeEditor, { supportSideBySide: SideBySideEditor.PRIMARY });\n\n\t\t\tif (activeFile) {\n\t\t\t\tconst focus = this.tree.getFocus();\n\t\t\t\tconst selection = this.tree.getSelection();\n\t\t\t\tif (focus.length === 1 && this.uriIdentityService.extUri.isEqual(focus[0].resource, activeFile) && selection.length === 1 && this.uriIdentityService.extUri.isEqual(selection[0].resource, activeFile)) {\n\t\t\t\t\t// No action needed, active file is already focused and selected\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\treturn this.explorerService.select(activeFile, reveal);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate createTree(container: HTMLElement): void {\n\t\tthis.filter = this.instantiationService.createInstance(FilesFilter);\n\t\tthis._register(this.filter);\n\t\tthis._register(this.filter.onDidChange(() => this.refresh(true)));\n\t\tconst explorerLabels = this.instantiationService.createInstance(ResourceLabels, { onDidChangeVisibility: this.onDidChangeBodyVisibility });\n\t\tthis._register(explorerLabels);\n\n\t\tthis.findProvider = this.instantiationService.createInstance(ExplorerFindProvider, this.filter, () => this.tree);\n\n\t\tconst updateWidth = (stat: ExplorerItem) => this.tree.updateWidth(stat);\n\t\tthis.renderer = this.instantiationService.createInstance(FilesRenderer, container, explorerLabels, this.findProvider.highlightTree, updateWidth);\n\t\tthis._register(this.renderer);\n\n\t\tthis._register(createFileIconThemableTreeContainerScope(container, this.themeService));\n\n\t\tconst isCompressionEnabled = () => this.configurationService.getValue<boolean>('explorer.compactFolders');\n\n\t\tconst getFileNestingSettings = (item?: ExplorerItem) => this.configurationService.getValue<IFilesConfiguration>({ resource: item?.root.resource }).explorer.fileNesting;\n\n\t\tthis.tree = this.instantiationService.createInstance(WorkbenchCompressibleAsyncDataTree<ExplorerItem | ExplorerItem[], ExplorerItem, FuzzyScore>, 'FileExplorer', container, new ExplorerDelegate(), new ExplorerCompressionDelegate(), [this.renderer],\n\t\t\tthis.instantiationService.createInstance(ExplorerDataSource, this.filter, this.findProvider), {\n\t\t\tcompressionEnabled: isCompressionEnabled(),\n\t\t\taccessibilityProvider: this.renderer,\n\t\t\tidentityProvider,\n\t\t\tkeyboardNavigationLabelProvider: {\n\t\t\t\tgetKeyboardNavigationLabel: (stat: ExplorerItem) => {\n\t\t\t\t\tif (this.explorerService.isEditable(stat)) {\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn stat.name;\n\t\t\t\t},\n\t\t\t\tgetCompressedNodeKeyboardNavigationLabel: (stats: ExplorerItem[]) => {\n\t\t\t\t\tif (stats.some(stat => this.explorerService.isEditable(stat))) {\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn stats.map(stat => stat.name).join('/');\n\t\t\t\t}\n\t\t\t},\n\t\t\tmultipleSelectionSupport: true,\n\t\t\tfilter: this.filter,\n\t\t\tsorter: this.instantiationService.createInstance(FileSorter),\n\t\t\tdnd: this.instantiationService.createInstance(FileDragAndDrop, (item) => this.isItemCollapsed(item)),\n\t\t\tcollapseByDefault: (e) => {\n\t\t\t\tif (e instanceof ExplorerItem) {\n\t\t\t\t\tif (e.hasNests && getFileNestingSettings(e).expand) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif (this.findProvider.isShowingFilterResults()) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\tautoExpandSingleChildren: true,\n\t\t\texpandOnlyOnTwistieClick: (e: unknown) => {\n\t\t\t\tif (e instanceof ExplorerItem) {\n\t\t\t\t\tif (e.hasNests) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\telse if (this.configurationService.getValue<'singleClick' | 'doubleClick'>('workbench.tree.expandMode') === 'doubleClick') {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\tpaddingBottom: ExplorerDelegate.ITEM_HEIGHT,\n\t\t\toverrideStyles: this.getLocationBasedColors().listOverrideStyles,\n\t\t\tfindProvider: this.findProvider,\n\t\t});\n\t\tthis._register(this.tree);\n\t\tthis._register(this.themeService.onDidColorThemeChange(() => this.tree.rerender()));\n\n\t\t// Bind configuration\n\t\tconst onDidChangeCompressionConfiguration = Event.filter(this.configurationService.onDidChangeConfiguration, e => e.affectsConfiguration('explorer.compactFolders'));\n\t\tthis._register(onDidChangeCompressionConfiguration(_ => this.tree.updateOptions({ compressionEnabled: isCompressionEnabled() })));\n\n\t\t// Bind context keys\n\t\tFilesExplorerFocusedContext.bindTo(this.tree.contextKeyService);\n\t\tExplorerFocusedContext.bindTo(this.tree.contextKeyService);\n\n\t\t// Update resource context based on focused element\n\t\tthis._register(this.tree.onDidChangeFocus(e => this.onFocusChanged(e.elements)));\n\t\tthis.onFocusChanged([]);\n\t\t// Open when selecting via keyboard\n\t\tthis._register(this.tree.onDidOpen(async e => {\n\t\t\tconst element = e.element;\n\t\t\tif (!element) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// Do not react if the user is expanding selection via keyboard.\n\t\t\t// Check if the item was previously also selected, if yes the user is simply expanding / collapsing current selection #66589.\n\t\t\tconst shiftDown = DOM.isKeyboardEvent(e.browserEvent) && e.browserEvent.shiftKey;\n\t\t\tif (!shiftDown) {\n\t\t\t\tif (element.isDirectory || this.explorerService.isEditable(undefined)) {\n\t\t\t\t\t// Do not react if user is clicking on explorer items while some are being edited #70276\n\t\t\t\t\t// Do not react if clicking on directories\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.telemetryService.publicLog2<WorkbenchActionExecutedEvent, WorkbenchActionExecutedClassification>('workbenchActionExecuted', { id: 'workbench.files.openFile', from: 'explorer' });\n\t\t\t\ttry {\n\t\t\t\t\tthis.delegate?.willOpenElement(e.browserEvent);\n\t\t\t\t\tawait this.editorService.openEditor({ resource: element.resource, options: { preserveFocus: e.editorOptions.preserveFocus, pinned: e.editorOptions.pinned, source: EditorOpenSource.USER } }, e.sideBySide ? SIDE_GROUP : ACTIVE_GROUP);\n\t\t\t\t} finally {\n\t\t\t\t\tthis.delegate?.didOpenElement();\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.tree.onContextMenu(e => this.onContextMenu(e)));\n\n\t\tthis._register(this.tree.onDidScroll(async e => {\n\t\t\tconst editable = this.explorerService.getEditable();\n\t\t\tif (e.scrollTopChanged && editable && this.tree.getRelativeTop(editable.stat) === null) {\n\t\t\t\tawait editable.data.onFinish('', false);\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.tree.onDidChangeCollapseState(e => {\n\t\t\tconst element = e.node.element?.element;\n\t\t\tif (element) {\n\t\t\t\tconst navigationControllers = this.renderer.getCompressedNavigationController(Array.isArray(element) ? element[0] : element);\n\t\t\t\tnavigationControllers?.forEach(controller => controller.updateCollapsed(e.node.collapsed));\n\t\t\t}\n\t\t\t// Update showing expand / collapse button\n\t\t\tthis.updateAnyCollapsedContext();\n\t\t}));\n\n\t\tthis.updateAnyCollapsedContext();\n\n\t\tthis._register(this.tree.onMouseDblClick(e => {\n\t\t\t// If empty space is clicked, and not scrolling by page enabled #173261\n\t\t\tconst scrollingByPage = this.configurationService.getValue<boolean>('workbench.list.scrollByPage');\n\t\t\tif (e.element === null && !scrollingByPage) {\n\t\t\t\t// click in empty area -> create a new file #116676\n\t\t\t\tthis.commandService.executeCommand(NEW_FILE_COMMAND_ID);\n\t\t\t}\n\t\t}));\n\n\t\t// save view state\n\t\tthis._register(this.storageService.onWillSaveState(() => {\n\t\t\tthis.storeTreeViewState();\n\t\t}));\n\t}\n\n\t// React on events\n\n\tprivate onConfigurationUpdated(event: IConfigurationChangeEvent | undefined): void {\n\t\tif (!event || event.affectsConfiguration('explorer.autoReveal')) {\n\t\t\tconst configuration = this.configurationService.getValue<IFilesConfiguration>();\n\t\t\tthis._autoReveal = configuration?.explorer?.autoReveal;\n\t\t}\n\n\t\t// Push down config updates to components of viewer\n\t\tif (event && (event.affectsConfiguration('explorer.decorations.colors') || event.affectsConfiguration('explorer.decorations.badges'))) {\n\t\t\tthis.refresh(true);\n\t\t}\n\t}\n\n\tprivate storeTreeViewState() {\n\t\tthis.storageService.store(ExplorerView.TREE_VIEW_STATE_STORAGE_KEY, JSON.stringify(this.tree.getViewState()), StorageScope.WORKSPACE, StorageTarget.MACHINE);\n\t}\n\n\tprivate setContextKeys(stat: ExplorerItem | null | undefined): void {\n\t\tconst folders = this.contextService.getWorkspace().folders;\n\t\tconst resource = stat ? stat.resource : folders[folders.length - 1].uri;\n\t\tstat = stat || this.explorerService.findClosest(resource);\n\t\tthis.resourceContext.set(resource);\n\t\tthis.folderContext.set(!!stat && stat.isDirectory);\n\t\tthis.readonlyContext.set(!!stat && !!stat.isReadonly);\n\t\tthis.parentReadonlyContext.set(Boolean(stat?.parent?.isReadonly));\n\t\tthis.rootContext.set(!!stat && stat.isRoot);\n\n\t\tif (resource) {\n\t\t\tconst overrides = resource ? this.editorResolverService.getEditors(resource).map(editor => editor.id) : [];\n\t\t\tthis.availableEditorIdsContext.set(overrides.join(','));\n\t\t} else {\n\t\t\tthis.availableEditorIdsContext.reset();\n\t\t}\n\t}\n\n\tprivate async onContextMenu(e: ITreeContextMenuEvent<ExplorerItem>): Promise<void> {\n\t\tif (DOM.isEditableElement(e.browserEvent.target as HTMLElement)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst stat = e.element;\n\t\tlet anchor = e.anchor;\n\n\t\t// Adjust for compressed folders (except when mouse is used)\n\t\tif (DOM.isHTMLElement(anchor)) {\n\t\t\tif (stat) {\n\t\t\t\tconst controllers = this.renderer.getCompressedNavigationController(stat);\n\n\t\t\t\tif (controllers && controllers.length > 0) {\n\t\t\t\t\tif (DOM.isKeyboardEvent(e.browserEvent) || isCompressedFolderName(e.browserEvent.target)) {\n\t\t\t\t\t\tanchor = controllers[0].labels[controllers[0].index];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontrollers.forEach(controller => controller.last());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// update dynamic contexts\n\t\tthis.fileCopiedContextKey.set(await this.clipboardService.hasResources());\n\t\tthis.setContextKeys(stat);\n\n\t\tconst selection = this.tree.getSelection();\n\n\t\tconst roots = this.explorerService.roots; // If the click is outside of the elements pass the root resource if there is only one root. If there are multiple roots pass empty object.\n\t\tlet arg: URI | {};\n\t\tif (stat instanceof ExplorerItem) {\n\t\t\tconst compressedControllers = this.renderer.getCompressedNavigationController(stat);\n\t\t\targ = compressedControllers?.length ? compressedControllers[0].current.resource : stat.resource;\n\t\t} else {\n\t\t\targ = roots.length === 1 ? roots[0].resource : {};\n\t\t}\n\n\t\tthis.contextMenuService.showContextMenu({\n\t\t\tmenuId: MenuId.ExplorerContext,\n\t\t\tmenuActionOptions: { arg, shouldForwardArgs: true },\n\t\t\tcontextKeyService: this.tree.contextKeyService,\n\t\t\tgetAnchor: () => anchor,\n\t\t\tonHide: (wasCancelled?: boolean) => {\n\t\t\t\tif (wasCancelled) {\n\t\t\t\t\tthis.tree.domFocus();\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetActionsContext: () => stat && selection && selection.indexOf(stat) >= 0\n\t\t\t\t? selection.map((fs: ExplorerItem) => fs.resource)\n\t\t\t\t: stat instanceof ExplorerItem ? [stat.resource] : []\n\t\t});\n\t}\n\n\tprivate onFocusChanged(elements: readonly ExplorerItem[]): void {\n\t\tconst stat = elements.at(0);\n\t\tthis.setContextKeys(stat);\n\n\t\tif (stat) {\n\t\t\tconst enableTrash = Boolean(this.configurationService.getValue<IFilesConfiguration>().files?.enableTrash);\n\t\t\tconst hasCapability = this.fileService.hasCapability(stat.resource, FileSystemProviderCapabilities.Trash);\n\t\t\tthis.resourceMoveableToTrash.set(enableTrash && hasCapability);\n\t\t} else {\n\t\t\tthis.resourceMoveableToTrash.reset();\n\t\t}\n\n\t\tconst compressedNavigationControllers = stat && this.renderer.getCompressedNavigationController(stat);\n\n\t\tif (!compressedNavigationControllers) {\n\t\t\tthis.compressedFocusContext.set(false);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.compressedFocusContext.set(true);\n\t\tcompressedNavigationControllers.forEach(controller => {\n\t\t\tthis.updateCompressedNavigationContextKeys(controller);\n\t\t});\n\t}\n\n\t// General methods\n\n\t/**\n\t * Refresh the contents of the explorer to get up to date data from the disk about the file structure.\n\t * If the item is passed we refresh only that level of the tree, otherwise we do a full refresh.\n\t */\n\trefresh(recursive: boolean, item?: ExplorerItem, cancelEditing: boolean = true): Promise<void> {\n\t\tif (!this.tree || !this.isBodyVisible() || (item && !this.tree.hasNode(item)) || (this.findProvider?.isShowingFilterResults() && recursive)) {\n\t\t\t// Tree node doesn't exist yet, when it becomes visible we will refresh\n\t\t\treturn Promise.resolve(undefined);\n\t\t}\n\n\t\tif (cancelEditing && this.explorerService.isEditable(undefined)) {\n\t\t\tthis.tree.domFocus();\n\t\t}\n\n\t\tconst toRefresh = item || this.tree.getInput();\n\t\treturn this.tree.updateChildren(toRefresh, recursive, !!item);\n\t}\n\n\toverride getOptimalWidth(): number {\n\t\tconst parentNode = this.tree.getHTMLElement();\n\t\t// eslint-disable-next-line no-restricted-syntax\n\t\tconst childNodes = ([] as HTMLElement[]).slice.call(parentNode.querySelectorAll('.explorer-item .label-name')); // select all file labels\n\n\t\treturn DOM.getLargestChildWidth(parentNode, childNodes);\n\t}\n\n\tasync setTreeInput(): Promise<void> {\n\t\tif (!this.isBodyVisible()) {\n\t\t\treturn Promise.resolve(undefined);\n\t\t}\n\n\t\t// Wait for the last execution to complete before executing\n\t\tif (this.setTreeInputPromise) {\n\t\t\tawait this.setTreeInputPromise;\n\t\t}\n\n\t\tconst initialInputSetup = !this.tree.getInput();\n\t\tif (initialInputSetup) {\n\t\t\tperf.mark('code/willResolveExplorer');\n\t\t}\n\t\tconst roots = this.explorerService.roots;\n\t\tlet input: ExplorerItem | ExplorerItem[] = roots[0];\n\t\tif (this.contextService.getWorkbenchState() !== WorkbenchState.FOLDER || roots[0].error) {\n\t\t\t// Display roots only when multi folder workspace\n\t\t\tinput = roots;\n\t\t}\n\n\t\tlet viewState: IAsyncDataTreeViewState | undefined;\n\t\tif (this.tree?.getInput()) {\n\t\t\tviewState = this.tree.getViewState();\n\t\t} else {\n\t\t\tconst rawViewState = this.storageService.get(ExplorerView.TREE_VIEW_STATE_STORAGE_KEY, StorageScope.WORKSPACE);\n\t\t\tif (rawViewState) {\n\t\t\t\tviewState = JSON.parse(rawViewState);\n\t\t\t}\n\t\t}\n\n\t\tconst previousInput = this.tree.getInput();\n\t\tconst promise = this.setTreeInputPromise = this.tree.setInput(input, viewState).then(async () => {\n\t\t\tif (Array.isArray(input)) {\n\t\t\t\tif (!viewState || previousInput instanceof ExplorerItem) {\n\t\t\t\t\t// There is no view state for this workspace (we transitioned from a folder workspace?), expand up to five roots.\n\t\t\t\t\t// If there are many roots in a workspace, expanding them all would can cause performance issues #176226\n\t\t\t\t\tfor (let i = 0; i < Math.min(input.length, 5); i++) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait this.tree.expand(input[i]);\n\t\t\t\t\t\t} catch (e) { }\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Reloaded or transitioned from an empty workspace, but only have a single folder in the workspace.\n\t\t\t\tif (!previousInput && input.length === 1 && this.configurationService.getValue<IFilesConfiguration>().explorer.expandSingleFolderWorkspaces) {\n\t\t\t\t\tawait this.tree.expand(input[0]).catch(() => { });\n\t\t\t\t}\n\t\t\t\tif (Array.isArray(previousInput)) {\n\t\t\t\t\tconst previousRoots = new ResourceMap<true>();\n\t\t\t\t\tpreviousInput.forEach(previousRoot => previousRoots.set(previousRoot.resource, true));\n\n\t\t\t\t\t// Roots added to the explorer -> expand them.\n\t\t\t\t\tawait Promise.all(input.map(async item => {\n\t\t\t\t\t\tif (!previousRoots.has(item.resource)) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tawait this.tree.expand(item);\n\t\t\t\t\t\t\t} catch (e) { }\n\t\t\t\t\t\t}\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (initialInputSetup) {\n\t\t\t\tperf.mark('code/didResolveExplorer');\n\t\t\t}\n\t\t});\n\n\t\tthis.progressService.withProgress({\n\t\t\tlocation: ProgressLocation.Explorer,\n\t\t\tdelay: this.layoutService.isRestored() ? 800 : 1500 // reduce progress visibility when still restoring\n\t\t}, _progress => promise);\n\n\t\tawait promise;\n\t\tif (!this.decorationsProvider) {\n\t\t\tthis.decorationsProvider = new ExplorerDecorationsProvider(this.explorerService, this.contextService);\n\t\t\tthis._register(this.decorationService.registerDecorationsProvider(this.decorationsProvider));\n\t\t}\n\t}\n\n\tpublic async selectResource(resource: URI | undefined, reveal = this._autoReveal, retry = 0): Promise<void> {\n\t\t// do no retry more than once to prevent infinite loops in cases of inconsistent model\n\t\tif (retry === 2) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!resource || !this.isBodyVisible()) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If something is refreshing the explorer, we must await it or else a selection race condition can occur\n\t\tif (this.setTreeInputPromise) {\n\t\t\tawait this.setTreeInputPromise;\n\t\t}\n\n\t\t// Expand all stats in the parent chain.\n\t\tlet item: ExplorerItem | null = this.explorerService.findClosestRoot(resource);\n\n\t\twhile (item && item.resource.toString() !== resource.toString()) {\n\t\t\ttry {\n\t\t\t\tawait this.tree.expand(item);\n\t\t\t} catch (e) {\n\t\t\t\treturn this.selectResource(resource, reveal, retry + 1);\n\t\t\t}\n\t\t\tif (!item.children.size) {\n\t\t\t\titem = null;\n\t\t\t} else {\n\t\t\t\tfor (const child of item.children.values()) {\n\t\t\t\t\tif (this.uriIdentityService.extUri.isEqualOrParent(resource, child.resource)) {\n\t\t\t\t\t\titem = child;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\titem = null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (item) {\n\t\t\tif (item === this.tree.getInput()) {\n\t\t\t\tthis.tree.setFocus([]);\n\t\t\t\tthis.tree.setSelection([]);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\t// We must expand the nest to have it be populated in the tree\n\t\t\t\tif (item.nestedParent) {\n\t\t\t\t\tawait this.tree.expand(item.nestedParent);\n\t\t\t\t}\n\n\t\t\t\tif ((reveal === true || reveal === 'force') && this.tree.getRelativeTop(item) === null) {\n\t\t\t\t\t// Don't scroll to the item if it's already visible, or if set not to.\n\t\t\t\t\tthis.tree.reveal(item, 0.5);\n\t\t\t\t}\n\n\t\t\t\tthis.tree.setFocus([item]);\n\t\t\t\tthis.tree.setSelection([item]);\n\t\t\t} catch (e) {\n\t\t\t\t// Element might not be in the tree, try again and silently fail\n\t\t\t\treturn this.selectResource(resource, reveal, retry + 1);\n\t\t\t}\n\t\t}\n\t}\n\n\titemsCopied(stats: ExplorerItem[], cut: boolean, previousCut: ExplorerItem[] | undefined): void {\n\t\tthis.fileCopiedContextKey.set(stats.length > 0);\n\t\tthis.resourceCutContextKey.set(cut && stats.length > 0);\n\t\tpreviousCut?.forEach(item => this.tree.rerender(item));\n\t\tif (cut) {\n\t\t\tstats.forEach(s => this.tree.rerender(s));\n\t\t}\n\t}\n\n\texpandAll(): void {\n\t\tif (this.explorerService.isEditable(undefined)) {\n\t\t\tthis.tree.domFocus();\n\t\t}\n\n\t\tthis.tree.expandAll();\n\t}\n\n\tcollapseAll(): void {\n\t\tif (this.explorerService.isEditable(undefined)) {\n\t\t\tthis.tree.domFocus();\n\t\t}\n\n\t\tconst treeInput = this.tree.getInput();\n\t\tif (Array.isArray(treeInput)) {\n\t\t\tif (hasExpandedRootChild(this.tree, treeInput)) {\n\t\t\t\ttreeInput.forEach(folder => {\n\t\t\t\t\tfolder.children.forEach(child => this.tree.hasNode(child) && this.tree.collapse(child, true));\n\t\t\t\t});\n\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tthis.tree.collapseAll();\n\t}\n\n\tpreviousCompressedStat(): void {\n\t\tconst focused = this.tree.getFocus();\n\t\tif (!focused.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst compressedNavigationControllers = this.renderer.getCompressedNavigationController(focused[0])!;\n\t\tcompressedNavigationControllers.forEach(controller => {\n\t\t\tcontroller.previous();\n\t\t\tthis.updateCompressedNavigationContextKeys(controller);\n\t\t});\n\t}\n\n\tnextCompressedStat(): void {\n\t\tconst focused = this.tree.getFocus();\n\t\tif (!focused.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst compressedNavigationControllers = this.renderer.getCompressedNavigationController(focused[0])!;\n\t\tcompressedNavigationControllers.forEach(controller => {\n\t\t\tcontroller.next();\n\t\t\tthis.updateCompressedNavigationContextKeys(controller);\n\t\t});\n\t}\n\n\tfirstCompressedStat(): void {\n\t\tconst focused = this.tree.getFocus();\n\t\tif (!focused.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst compressedNavigationControllers = this.renderer.getCompressedNavigationController(focused[0])!;\n\t\tcompressedNavigationControllers.forEach(controller => {\n\t\t\tcontroller.first();\n\t\t\tthis.updateCompressedNavigationContextKeys(controller);\n\t\t});\n\t}\n\n\tlastCompressedStat(): void {\n\t\tconst focused = this.tree.getFocus();\n\t\tif (!focused.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst compressedNavigationControllers = this.renderer.getCompressedNavigationController(focused[0])!;\n\t\tcompressedNavigationControllers.forEach(controller => {\n\t\t\tcontroller.last();\n\t\t\tthis.updateCompressedNavigationContextKeys(controller);\n\t\t});\n\t}\n\n\tprivate updateCompressedNavigationContextKeys(controller: ICompressedNavigationController): void {\n\t\tthis.compressedFocusFirstContext.set(controller.index === 0);\n\t\tthis.compressedFocusLastContext.set(controller.index === controller.count - 1);\n\t}\n\n\tprivate updateAnyCollapsedContext(): void {\n\t\tconst treeInput = this.tree.getInput();\n\t\tif (treeInput === undefined) {\n\t\t\treturn;\n\t\t}\n\t\tconst treeInputArray = Array.isArray(treeInput) ? treeInput : Array.from(treeInput.children.values());\n\t\t// Has collapsible root when anything is expanded\n\t\tthis.viewHasSomeCollapsibleRootItem.set(hasExpandedNode(this.tree, treeInputArray));\n\t\t// synchronize state to cache\n\t\tthis.storeTreeViewState();\n\t}\n\n\thasPhantomElements(): boolean {\n\t\treturn !!this.findProvider?.isShowingFilterResults();\n\t}\n\n\toverride dispose(): void {\n\t\tthis.dragHandler?.dispose();\n\t\tsuper.dispose();\n\t}\n}\n\nexport function createFileIconThemableTreeContainerScope(container: HTMLElement, themeService: IThemeService): IDisposable {\n\tcontainer.classList.add('file-icon-themable-tree');\n\tcontainer.classList.add('show-file-icons');\n\n\tconst onDidChangeFileIconTheme = (theme: IFileIconTheme) => {\n\t\tcontainer.classList.toggle('align-icons-and-twisties', theme.hasFileIcons && !theme.hasFolderIcons);\n\t\tcontainer.classList.toggle('hide-arrows', theme.hidesExplorerArrows === true);\n\t};\n\n\tonDidChangeFileIconTheme(themeService.getFileIconTheme());\n\treturn themeService.onDidFileIconThemeChange(onDidChangeFileIconTheme);\n}\n\nconst CanCreateContext = ContextKeyExpr.or(\n\t// Folder: can create unless readonly\n\tContextKeyExpr.and(ExplorerFolderContext, ExplorerResourceWritableContext),\n\t// File: can create unless parent is readonly\n\tContextKeyExpr.and(ExplorerFolderContext.toNegated(), ExplorerResourceParentReadOnlyContext.toNegated())\n);\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.files.action.createFileFromExplorer',\n\t\t\ttitle: nls.localize('createNewFile', \"New File...\"),\n\t\t\tf1: false,\n\t\t\ticon: Codicon.newFile,\n\t\t\tprecondition: CanCreateContext,\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\twhen: ContextKeyExpr.equals('view', VIEW_ID),\n\t\t\t\torder: 10\n\t\t\t}\n\t\t});\n\t}\n\n\trun(accessor: ServicesAccessor): void {\n\t\tconst commandService = accessor.get(ICommandService);\n\t\tcommandService.executeCommand(NEW_FILE_COMMAND_ID);\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.files.action.createFolderFromExplorer',\n\t\t\ttitle: nls.localize('createNewFolder', \"New Folder...\"),\n\t\t\tf1: false,\n\t\t\ticon: Codicon.newFolder,\n\t\t\tprecondition: CanCreateContext,\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\twhen: ContextKeyExpr.equals('view', VIEW_ID),\n\t\t\t\torder: 20\n\t\t\t}\n\t\t});\n\t}\n\n\trun(accessor: ServicesAccessor): void {\n\t\tconst commandService = accessor.get(ICommandService);\n\t\tcommandService.executeCommand(NEW_FOLDER_COMMAND_ID);\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.files.action.refreshFilesExplorer',\n\t\t\ttitle: nls.localize2('refreshExplorer', \"Refresh Explorer\"),\n\t\t\tf1: true,\n\t\t\ticon: Codicon.refresh,\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\twhen: ContextKeyExpr.equals('view', VIEW_ID),\n\t\t\t\torder: 30,\n\t\t\t},\n\t\t\tmetadata: {\n\t\t\t\tdescription: nls.localize2('refreshExplorerMetadata', \"Forces a refresh of the Explorer.\")\n\t\t\t},\n\t\t\tprecondition: ExplorerFindProviderActive.negate()\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst viewsService = accessor.get(IViewsService);\n\t\tconst explorerService = accessor.get(IExplorerService);\n\t\tawait viewsService.openView(VIEW_ID);\n\t\tawait explorerService.refresh();\n\t}\n});\n\nregisterAction2(class extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.files.action.collapseExplorerFolders',\n\t\t\ttitle: nls.localize2('collapseExplorerFolders', \"Collapse Folders in Explorer\"),\n\t\t\tf1: true,\n\t\t\ticon: Codicon.collapseAll,\n\t\t\tmenu: {\n\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\tgroup: 'navigation',\n\t\t\t\twhen: ContextKeyExpr.equals('view', VIEW_ID),\n\t\t\t\torder: 40\n\t\t\t},\n\t\t\tmetadata: {\n\t\t\t\tdescription: nls.localize2('collapseExplorerFoldersMetadata', \"Folds all folders in the Explorer.\")\n\t\t\t}\n\t\t});\n\t}\n\n\trun(accessor: ServicesAccessor) {\n\t\tconst viewsService = accessor.get(IViewsService);\n\t\tconst view = viewsService.getViewWithId(VIEW_ID);\n\t\tif (view !== null) {\n\t\t\tconst explorerView = view as ExplorerView;\n\t\t\texplorerView.collapseAll();\n\t\t}\n\t}\n});\n"]}