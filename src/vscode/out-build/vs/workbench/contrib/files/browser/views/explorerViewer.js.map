{"version":3,"sources":["vs/workbench/contrib/files/browser/views/explorerViewer.ts"],"names":[],"mappings":"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","file":"explorerViewer.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IListAccessibilityProvider } from '../../../../../base/browser/ui/list/listWidget.js';\nimport * as DOM from '../../../../../base/browser/dom.js';\nimport * as glob from '../../../../../base/common/glob.js';\nimport { IListVirtualDelegate, ListDragOverEffectPosition, ListDragOverEffectType } from '../../../../../base/browser/ui/list/list.js';\nimport { IProgressService, ProgressLocation, } from '../../../../../platform/progress/common/progress.js';\nimport { INotificationService, Severity } from '../../../../../platform/notification/common/notification.js';\nimport { IFileService, FileKind, FileOperationError, FileOperationResult, FileChangeType } from '../../../../../platform/files/common/files.js';\nimport { IWorkbenchLayoutService } from '../../../../services/layout/browser/layoutService.js';\nimport { isTemporaryWorkspace, IWorkspaceContextService, WorkbenchState } from '../../../../../platform/workspace/common/workspace.js';\nimport { IDisposable, Disposable, dispose, toDisposable, DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { KeyCode } from '../../../../../base/common/keyCodes.js';\nimport { IFileLabelOptions, IResourceLabel, ResourceLabels } from '../../../../browser/labels.js';\nimport { ITreeNode, ITreeFilter, TreeVisibility, IAsyncDataSource, ITreeSorter, ITreeDragAndDrop, ITreeDragOverReaction, TreeDragOverBubble } from '../../../../../base/browser/ui/tree/tree.js';\nimport { IContextMenuService, IContextViewService } from '../../../../../platform/contextview/browser/contextView.js';\nimport { IThemeService } from '../../../../../platform/theme/common/themeService.js';\nimport { IConfigurationChangeEvent, IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { ExplorerFindProviderActive, IFilesConfiguration, UndoConfirmLevel } from '../../common/files.js';\nimport { dirname, joinPath, distinctParents, relativePath } from '../../../../../base/common/resources.js';\nimport { InputBox, MessageType } from '../../../../../base/browser/ui/inputbox/inputBox.js';\nimport { localize } from '../../../../../nls.js';\nimport { createSingleCallFunction } from '../../../../../base/common/functional.js';\nimport { IKeyboardEvent } from '../../../../../base/browser/keyboardEvent.js';\nimport { equals, deepClone } from '../../../../../base/common/objects.js';\nimport * as path from '../../../../../base/common/path.js';\nimport { ExplorerItem, NewExplorerItem } from '../../common/explorerModel.js';\nimport { compareFileExtensionsDefault, compareFileNamesDefault, compareFileNamesUpper, compareFileExtensionsUpper, compareFileNamesLower, compareFileExtensionsLower, compareFileNamesUnicode, compareFileExtensionsUnicode } from '../../../../../base/common/comparers.js';\nimport { CodeDataTransfers, containsDragType } from '../../../../../platform/dnd/browser/dnd.js';\nimport { fillEditorsDragData } from '../../../../browser/dnd.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { IDragAndDropData, DataTransfers } from '../../../../../base/browser/dnd.js';\nimport { Schemas } from '../../../../../base/common/network.js';\nimport { NativeDragAndDropData, ExternalElementsDragAndDropData, ElementsDragAndDropData, ListViewTargetSector } from '../../../../../base/browser/ui/list/listView.js';\nimport { isMacintosh, isWeb } from '../../../../../base/common/platform.js';\nimport { IDialogService, getFileNamesMessage } from '../../../../../platform/dialogs/common/dialogs.js';\nimport { IWorkspaceEditingService } from '../../../../services/workspaces/common/workspaceEditing.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { IEditorService } from '../../../../services/editor/common/editorService.js';\nimport { IWorkspaceFolderCreationData } from '../../../../../platform/workspaces/common/workspaces.js';\nimport { findValidPasteFileTarget } from '../fileActions.js';\nimport { FuzzyScore, createMatches } from '../../../../../base/common/filters.js';\nimport { Emitter, Event, EventMultiplexer } from '../../../../../base/common/event.js';\nimport { IAsyncDataTreeViewState, IAsyncFindProvider, IAsyncFindResult, IAsyncFindToggles, ITreeCompressionDelegate } from '../../../../../base/browser/ui/tree/asyncDataTree.js';\nimport { ICompressibleTreeRenderer } from '../../../../../base/browser/ui/tree/objectTree.js';\nimport { ICompressedTreeNode } from '../../../../../base/browser/ui/tree/compressedObjectTreeModel.js';\nimport { ILabelService } from '../../../../../platform/label/common/label.js';\nimport { isNumber } from '../../../../../base/common/types.js';\nimport { IEditableData } from '../../../../common/views.js';\nimport { EditorInput } from '../../../../common/editor/editorInput.js';\nimport { IUriIdentityService } from '../../../../../platform/uriIdentity/common/uriIdentity.js';\nimport { ResourceFileEdit } from '../../../../../editor/browser/services/bulkEditService.js';\nimport { IExplorerService } from '../files.js';\nimport { BrowserFileUpload, ExternalFileImport, getMultipleFilesOverwriteConfirm } from '../fileImportExport.js';\nimport { toErrorMessage } from '../../../../../base/common/errorMessage.js';\nimport { WebFileSystemAccess } from '../../../../../platform/files/browser/webFileSystemAccess.js';\nimport { IgnoreFile } from '../../../../services/search/common/ignoreFile.js';\nimport { ResourceSet } from '../../../../../base/common/map.js';\nimport { TernarySearchTree } from '../../../../../base/common/ternarySearchTree.js';\nimport { defaultCountBadgeStyles, defaultInputBoxStyles } from '../../../../../platform/theme/browser/defaultStyles.js';\nimport { timeout } from '../../../../../base/common/async.js';\nimport { IFilesConfigurationService } from '../../../../services/filesConfiguration/common/filesConfigurationService.js';\nimport { mainWindow } from '../../../../../base/browser/window.js';\nimport { IExplorerFileContribution, explorerFileContribRegistry } from '../explorerFileContrib.js';\nimport { WorkbenchCompressibleAsyncDataTree } from '../../../../../platform/list/browser/listService.js';\nimport { ISearchService, QueryType, getExcludes, ISearchConfiguration, ISearchComplete, IFileQuery } from '../../../../services/search/common/search.js';\nimport { CancellationToken } from '../../../../../base/common/cancellation.js';\nimport { TreeFindMatchType, TreeFindMode } from '../../../../../base/browser/ui/tree/abstractTree.js';\nimport { isCancellationError } from '../../../../../base/common/errors.js';\nimport { IContextKey, IContextKeyService } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { CountBadge } from '../../../../../base/browser/ui/countBadge/countBadge.js';\nimport { listFilterMatchHighlight, listFilterMatchHighlightBorder } from '../../../../../platform/theme/common/colorRegistry.js';\nimport { asCssVariable } from '../../../../../platform/theme/common/colorUtils.js';\n\nexport class ExplorerDelegate implements IListVirtualDelegate<ExplorerItem> {\n\n\tstatic readonly ITEM_HEIGHT = 22;\n\n\tgetHeight(element: ExplorerItem): number {\n\t\treturn ExplorerDelegate.ITEM_HEIGHT;\n\t}\n\n\tgetTemplateId(element: ExplorerItem): string {\n\t\treturn FilesRenderer.ID;\n\t}\n}\n\nexport const explorerRootErrorEmitter = new Emitter<URI>();\nexport class ExplorerDataSource implements IAsyncDataSource<ExplorerItem | ExplorerItem[], ExplorerItem> {\n\n\tconstructor(\n\t\tprivate readonly fileFilter: FilesFilter,\n\t\tprivate readonly findProvider: ExplorerFindProvider,\n\t\t@IProgressService private readonly progressService: IProgressService,\n\t\t@IConfigurationService private readonly configService: IConfigurationService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IWorkbenchLayoutService private readonly layoutService: IWorkbenchLayoutService,\n\t\t@IFileService private readonly fileService: IFileService,\n\t\t@IExplorerService private readonly explorerService: IExplorerService,\n\t\t@IWorkspaceContextService private readonly contextService: IWorkspaceContextService,\n\t\t@IFilesConfigurationService private readonly filesConfigService: IFilesConfigurationService\n\t) { }\n\n\tgetParent(element: ExplorerItem): ExplorerItem {\n\t\tif (element.parent) {\n\t\t\treturn element.parent;\n\t\t}\n\n\t\tthrow new Error('getParent only supported for cached parents');\n\t}\n\n\thasChildren(element: ExplorerItem | ExplorerItem[]): boolean {\n\t\t// don't render nest parents as containing children when all the children are filtered out\n\t\treturn Array.isArray(element) || element.hasChildren((stat) => this.fileFilter.filter(stat, TreeVisibility.Visible));\n\t}\n\n\tgetChildren(element: ExplorerItem | ExplorerItem[]): ExplorerItem[] | Promise<ExplorerItem[]> {\n\t\tif (Array.isArray(element)) {\n\t\t\treturn element;\n\t\t}\n\n\t\tif (this.findProvider.isShowingFilterResults()) {\n\t\t\treturn Array.from(element.children.values());\n\t\t}\n\n\t\tconst hasError = element.error;\n\t\tconst sortOrder = this.explorerService.sortOrderConfiguration.sortOrder;\n\t\tconst children = element.fetchChildren(sortOrder);\n\t\tif (Array.isArray(children)) {\n\t\t\t// fast path when children are known sync (i.e. nested children)\n\t\t\treturn children;\n\t\t}\n\t\tconst promise = children.then(\n\t\t\tchildren => {\n\t\t\t\t// Clear previous error decoration on root folder\n\t\t\t\tif (element instanceof ExplorerItem && element.isRoot && !element.error && hasError && this.contextService.getWorkbenchState() !== WorkbenchState.FOLDER) {\n\t\t\t\t\texplorerRootErrorEmitter.fire(element.resource);\n\t\t\t\t}\n\t\t\t\treturn children;\n\t\t\t}\n\t\t\t, e => {\n\n\t\t\t\tif (element instanceof ExplorerItem && element.isRoot) {\n\t\t\t\t\tif (this.contextService.getWorkbenchState() === WorkbenchState.FOLDER) {\n\t\t\t\t\t\t// Single folder create a dummy explorer item to show error\n\t\t\t\t\t\tconst placeholder = new ExplorerItem(element.resource, this.fileService, this.configService, this.filesConfigService, undefined, undefined, false);\n\t\t\t\t\t\tplaceholder.error = e;\n\t\t\t\t\t\treturn [placeholder];\n\t\t\t\t\t} else {\n\t\t\t\t\t\texplorerRootErrorEmitter.fire(element.resource);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Do not show error for roots since we already use an explorer decoration to notify user\n\t\t\t\t\tthis.notificationService.error(e);\n\t\t\t\t}\n\n\t\t\t\treturn []; // we could not resolve any children because of an error\n\t\t\t});\n\n\t\tthis.progressService.withProgress({\n\t\t\tlocation: ProgressLocation.Explorer,\n\t\t\tdelay: this.layoutService.isRestored() ? 800 : 1500 // reduce progress visibility when still restoring\n\t\t}, _progress => promise);\n\n\t\treturn promise;\n\t}\n}\n\nexport class PhantomExplorerItem extends ExplorerItem {\n\n}\n\ninterface FindHighlightLayer {\n\tchildMatches: number;\n\tisMatch: boolean;\n\tstats: {\n\t\t[statName: string]: FindHighlightLayer;\n\t};\n}\n\ninterface IExplorerFindHighlightTree {\n\tget(item: ExplorerItem): number;\n\tisMatch(item: ExplorerItem): boolean;\n}\n\nclass ExplorerFindHighlightTree implements IExplorerFindHighlightTree {\n\n\tprivate readonly _tree = new Map<string, FindHighlightLayer>();\n\tprivate readonly _highlightedItems = new Map<string, ExplorerItem>();\n\tget highlightedItems(): ExplorerItem[] {\n\t\treturn Array.from(this._highlightedItems.values());\n\t}\n\n\tget(item: ExplorerItem): number {\n\t\tconst result = this.find(item);\n\t\tif (result === undefined) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tconst { treeLayer, relPath } = result;\n\t\tthis._highlightedItems.set(relPath, item);\n\n\t\treturn treeLayer.childMatches;\n\t}\n\n\tprivate find(item: ExplorerItem): { treeLayer: FindHighlightLayer; relPath: string } | undefined {\n\t\tconst rootLayer = this._tree.get(item.root.name);\n\t\tif (rootLayer === undefined) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst relPath = relativePath(item.root.resource, item.resource);\n\t\tif (relPath === undefined || relPath.startsWith('..')) {\n\t\t\tthrow new Error('Resource is not a child of the root');\n\t\t}\n\n\t\tif (relPath === '') {\n\t\t\treturn { treeLayer: rootLayer, relPath };\n\t\t}\n\n\t\tlet treeLayer = rootLayer;\n\t\tfor (const segment of relPath.split('/')) {\n\t\t\tif (!treeLayer.stats[segment]) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\ttreeLayer = treeLayer.stats[segment];\n\t\t}\n\n\t\treturn { treeLayer, relPath };\n\t}\n\n\tadd(resource: URI, root: ExplorerItem): void {\n\t\tconst relPath = relativePath(root.resource, resource);\n\t\tif (relPath === undefined || relPath.startsWith('..')) {\n\t\t\tthrow new Error('Resource is not a child of the root');\n\t\t}\n\n\t\tlet rootLayer = this._tree.get(root.name);\n\t\tif (!rootLayer) {\n\t\t\trootLayer = { childMatches: 0, stats: {}, isMatch: false };\n\t\t\tthis._tree.set(root.name, rootLayer);\n\t\t}\n\t\trootLayer.childMatches++;\n\n\t\tlet treeLayer = rootLayer;\n\t\tfor (const stat of relPath.split('/')) {\n\t\t\tif (!treeLayer.stats[stat]) {\n\t\t\t\ttreeLayer.stats[stat] = { childMatches: 0, stats: {}, isMatch: false };\n\t\t\t}\n\n\t\t\ttreeLayer = treeLayer.stats[stat];\n\t\t\ttreeLayer.childMatches++;\n\t\t}\n\n\t\ttreeLayer.childMatches--; // the last segment is the file itself\n\t\ttreeLayer.isMatch = true;\n\t}\n\n\tisMatch(item: ExplorerItem): boolean {\n\t\tconst result = this.find(item);\n\t\tif (result === undefined) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst { treeLayer } = result;\n\t\treturn treeLayer.isMatch;\n\t}\n\n\tclear(): void {\n\t\tthis._tree.clear();\n\t}\n\n}\n\nexport class ExplorerFindProvider implements IAsyncFindProvider<ExplorerItem> {\n\n\tprivate sessionId: number = 0;\n\tprivate filterSessionStartState: { viewState: IAsyncDataTreeViewState; input: ExplorerItem[] | ExplorerItem; rootsWithProviders: Set<ExplorerItem> } | undefined;\n\tprivate highlightSessionStartState: { rootsWithProviders: Set<ExplorerItem> } | undefined;\n\tprivate explorerFindActiveContextKey: IContextKey<boolean>;\n\tprivate phantomParents = new Set<ExplorerItem>();\n\tprivate findHighlightTree = new ExplorerFindHighlightTree();\n\tget highlightTree(): IExplorerFindHighlightTree {\n\t\treturn this.findHighlightTree;\n\t}\n\n\tconstructor(\n\t\tprivate readonly filesFilter: FilesFilter,\n\t\tprivate readonly treeProvider: () => WorkbenchCompressibleAsyncDataTree<ExplorerItem | ExplorerItem[], ExplorerItem, FuzzyScore>,\n\t\t@ISearchService private readonly searchService: ISearchService,\n\t\t@IFileService private readonly fileService: IFileService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@IFilesConfigurationService private readonly filesConfigService: IFilesConfigurationService,\n\t\t@IProgressService private readonly progressService: IProgressService,\n\t\t@IExplorerService private readonly explorerService: IExplorerService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService\n\t) {\n\t\tthis.explorerFindActiveContextKey = ExplorerFindProviderActive.bindTo(contextKeyService);\n\t}\n\n\tisShowingFilterResults(): boolean {\n\t\treturn !!this.filterSessionStartState;\n\t}\n\n\tisVisible(element: ExplorerItem): boolean {\n\t\tif (!this.filterSessionStartState) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (this.explorerService.isEditable(element)) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn this.filterSessionStartState.rootsWithProviders.has(element.root) ? element.isMarkedAsFiltered() : true;\n\t}\n\n\tstartSession(): void {\n\t\tthis.sessionId++;\n\t}\n\n\tasync endSession(): Promise<void> {\n\t\t// Restore view state\n\t\tif (this.filterSessionStartState) {\n\t\t\tawait this.endFilterSession();\n\t\t}\n\n\t\tif (this.highlightSessionStartState) {\n\t\t\tthis.endHighlightSession();\n\t\t}\n\t}\n\n\tasync find(pattern: string, toggles: IAsyncFindToggles, token: CancellationToken): Promise<IAsyncFindResult<ExplorerItem> | undefined> {\n\t\tconst promise = this.doFind(pattern, toggles, token);\n\n\t\treturn await this.progressService.withProgress({\n\t\t\tlocation: ProgressLocation.Explorer,\n\t\t\tdelay: 750,\n\t\t}, _progress => promise);\n\t}\n\n\tasync doFind(pattern: string, toggles: IAsyncFindToggles, token: CancellationToken): Promise<IAsyncFindResult<ExplorerItem> | undefined> {\n\t\tif (toggles.findMode === TreeFindMode.Highlight) {\n\t\t\tif (this.filterSessionStartState) {\n\t\t\t\tawait this.endFilterSession();\n\t\t\t}\n\n\t\t\tif (!this.highlightSessionStartState) {\n\t\t\t\tthis.startHighlightSession();\n\t\t\t}\n\n\t\t\treturn await this.doHighlightFind(pattern, toggles.matchType, token);\n\t\t}\n\n\t\tif (this.highlightSessionStartState) {\n\t\t\tthis.endHighlightSession();\n\t\t}\n\n\t\tif (!this.filterSessionStartState) {\n\t\t\tthis.startFilterSession();\n\t\t}\n\n\t\treturn await this.doFilterFind(pattern, toggles.matchType, token);\n\t}\n\n\t// Filter\n\n\tprivate startFilterSession(): void {\n\t\tconst tree = this.treeProvider();\n\t\tconst input = tree.getInput();\n\t\tif (!input) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst roots = this.explorerService.roots.filter(root => this.searchSupportsScheme(root.resource.scheme));\n\t\tthis.filterSessionStartState = { viewState: tree.getViewState(), input, rootsWithProviders: new Set(roots) };\n\n\t\tthis.explorerFindActiveContextKey.set(true);\n\t}\n\n\tasync doFilterFind(pattern: string, matchType: TreeFindMatchType, token: CancellationToken): Promise<IAsyncFindResult<ExplorerItem> | undefined> {\n\t\tif (!this.filterSessionStartState) {\n\t\t\tthrow new Error('ExplorerFindProvider: no session state');\n\t\t}\n\n\t\tconst roots = Array.from(this.filterSessionStartState.rootsWithProviders);\n\t\tconst searchResults = await this.getSearchResults(pattern, roots, matchType, token);\n\n\t\tif (token.isCancellationRequested) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tthis.clearPhantomElements();\n\t\tfor (const { explorerRoot, files, directories } of searchResults) {\n\t\t\tthis.addWorkspaceFilterResults(explorerRoot, files, directories);\n\t\t}\n\n\t\tconst tree = this.treeProvider();\n\t\tawait tree.setInput(this.filterSessionStartState.input);\n\n\t\tconst hitMaxResults = searchResults.some(({ hitMaxResults }) => hitMaxResults);\n\t\treturn {\n\t\t\tisMatch: (item: ExplorerItem) => item.isMarkedAsFiltered(),\n\t\t\tmatchCount: searchResults.reduce((acc, { files, directories }) => acc + files.length + directories.length, 0),\n\t\t\twarningMessage: hitMaxResults ? localize('searchMaxResultsWarning', \"The result set only contains a subset of all matches. Be more specific in your search to narrow down the results.\") : undefined\n\t\t};\n\t}\n\n\tprivate addWorkspaceFilterResults(root: ExplorerItem, files: URI[], directories: URI[]): void {\n\t\tconst results = [\n\t\t\t...files.map(file => ({ resource: file, isDirectory: false })),\n\t\t\t...directories.map(directory => ({ resource: directory, isDirectory: true }))\n\t\t];\n\n\t\tfor (const { resource, isDirectory } of results) {\n\t\t\tconst element = root.find(resource);\n\t\t\tif (element && element.root === root) {\n\t\t\t\t// File is already in the model\n\t\t\t\telement.markItemAndParentsAsFiltered();\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// File is not in the model, create phantom items for the file and it's parents\n\t\t\tconst phantomElements = this.createPhantomItems(resource, root, isDirectory);\n\t\t\tif (phantomElements.length === 0) {\n\t\t\t\tthrow new Error('Phantom item was not created even though it is not in the model');\n\t\t\t}\n\n\t\t\t// Store the first ancestor of the file which is already present in the model\n\t\t\tconst firstPhantomParent = phantomElements[0].parent!;\n\t\t\tif (!(firstPhantomParent instanceof PhantomExplorerItem)) {\n\t\t\t\tthis.phantomParents.add(firstPhantomParent);\n\t\t\t}\n\n\t\t\tconst phantomFileElement = phantomElements[phantomElements.length - 1];\n\t\t\tphantomFileElement.markItemAndParentsAsFiltered();\n\t\t}\n\t}\n\n\tprivate createPhantomItems(resource: URI, root: ExplorerItem, resourceIsDirectory: boolean): PhantomExplorerItem[] {\n\t\tconst relativePathToRoot = relativePath(root.resource, resource);\n\t\tif (!relativePathToRoot) {\n\t\t\tthrow new Error('Resource is not a child of the root');\n\t\t}\n\n\t\tconst phantomElements: PhantomExplorerItem[] = [];\n\n\t\tlet currentItem = root;\n\t\tlet currentResource = root.resource;\n\t\tconst pathSegments = relativePathToRoot.split('/');\n\t\tfor (const stat of pathSegments) {\n\t\t\tcurrentResource = currentResource.with({ path: `${currentResource.path}/${stat}` });\n\n\t\t\tlet child = currentItem.getChild(stat);\n\t\t\tif (!child) {\n\t\t\t\tconst isDirectory = pathSegments[pathSegments.length - 1] === stat ? resourceIsDirectory : true;\n\t\t\t\tchild = new PhantomExplorerItem(currentResource, this.fileService, this.configurationService, this.filesConfigService, currentItem, isDirectory);\n\t\t\t\tcurrentItem.addChild(child);\n\t\t\t\tphantomElements.push(child as PhantomExplorerItem);\n\t\t\t}\n\n\t\t\tcurrentItem = child;\n\t\t}\n\n\t\treturn phantomElements;\n\t}\n\n\tasync endFilterSession(): Promise<void> {\n\t\tthis.clearPhantomElements();\n\n\t\tthis.explorerFindActiveContextKey.set(false);\n\n\t\t// Restore view state\n\t\tif (!this.filterSessionStartState) {\n\t\t\tthrow new Error('ExplorerFindProvider: no session state to restore');\n\t\t}\n\n\t\tconst tree = this.treeProvider();\n\t\tawait tree.setInput(this.filterSessionStartState.input, this.filterSessionStartState.viewState);\n\n\t\tthis.filterSessionStartState = undefined;\n\t\tthis.explorerService.refresh();\n\t}\n\n\tprivate clearPhantomElements(): void {\n\t\tfor (const phantomParent of this.phantomParents) {\n\t\t\t// Clear phantom nodes from model\n\t\t\tphantomParent.forgetChildren();\n\t\t}\n\t\tthis.phantomParents.clear();\n\t\tthis.explorerService.roots.forEach(root => root.unmarkItemAndChildren());\n\t}\n\n\t// Highlight\n\n\tprivate startHighlightSession(): void {\n\t\tconst roots = this.explorerService.roots.filter(root => this.searchSupportsScheme(root.resource.scheme));\n\t\tthis.highlightSessionStartState = { rootsWithProviders: new Set(roots) };\n\t}\n\n\tasync doHighlightFind(pattern: string, matchType: TreeFindMatchType, token: CancellationToken): Promise<IAsyncFindResult<ExplorerItem> | undefined> {\n\t\tif (!this.highlightSessionStartState) {\n\t\t\tthrow new Error('ExplorerFindProvider: no highlight session state');\n\t\t}\n\n\t\tconst roots = Array.from(this.highlightSessionStartState.rootsWithProviders);\n\t\tconst searchResults = await this.getSearchResults(pattern, roots, matchType, token);\n\n\t\tif (token.isCancellationRequested) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tthis.clearHighlights();\n\t\tfor (const { explorerRoot, files, directories } of searchResults) {\n\t\t\tthis.addWorkspaceHighlightResults(explorerRoot, files.concat(directories));\n\t\t}\n\n\t\tconst hitMaxResults = searchResults.some(({ hitMaxResults }) => hitMaxResults);\n\t\treturn {\n\t\t\tisMatch: (item: ExplorerItem) => this.findHighlightTree.isMatch(item) || (this.findHighlightTree.get(item) > 0 && this.treeProvider().isCollapsed(item)),\n\t\t\tmatchCount: searchResults.reduce((acc, { files, directories }) => acc + files.length + directories.length, 0),\n\t\t\twarningMessage: hitMaxResults ? localize('searchMaxResultsWarning', \"The result set only contains a subset of all matches. Be more specific in your search to narrow down the results.\") : undefined\n\t\t};\n\t}\n\n\tprivate addWorkspaceHighlightResults(root: ExplorerItem, resources: URI[]): void {\n\t\tconst highlightedDirectories = new Set<ExplorerItem>();\n\t\tconst storeDirectories = (item: ExplorerItem | undefined) => {\n\t\t\twhile (item) {\n\t\t\t\thighlightedDirectories.add(item);\n\t\t\t\titem = item.parent;\n\t\t\t}\n\t\t};\n\n\t\tfor (const resource of resources) {\n\t\t\tconst element = root.find(resource);\n\t\t\tif (element && element.root === root) {\n\t\t\t\t// File is already in the model\n\t\t\t\tthis.findHighlightTree.add(resource, root);\n\t\t\t\tstoreDirectories(element.parent);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst firstParent = findFirstParent(resource, root);\n\t\t\tif (firstParent) {\n\t\t\t\tthis.findHighlightTree.add(resource, root);\n\t\t\t\tstoreDirectories(firstParent.parent);\n\t\t\t}\n\t\t}\n\n\t\tconst tree = this.treeProvider();\n\t\tfor (const directory of highlightedDirectories) {\n\t\t\tif (tree.hasNode(directory)) {\n\t\t\t\ttree.rerender(directory);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate endHighlightSession(): void {\n\t\tthis.highlightSessionStartState = undefined;\n\t\tthis.clearHighlights();\n\t}\n\n\tprivate clearHighlights(): void {\n\t\tconst tree = this.treeProvider();\n\t\tfor (const item of this.findHighlightTree.highlightedItems) {\n\t\t\tif (tree.hasNode(item)) {\n\t\t\t\ttree.rerender(item);\n\t\t\t}\n\t\t}\n\t\tthis.findHighlightTree.clear();\n\t}\n\n\t// Search\n\n\tprivate searchSupportsScheme(scheme: string): boolean {\n\t\t// Limited by the search API\n\t\tif (scheme !== Schemas.file && scheme !== Schemas.vscodeRemote) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this.searchService.schemeHasFileSearchProvider(scheme);\n\t}\n\n\tprivate async getSearchResults(pattern: string, roots: ExplorerItem[], matchType: TreeFindMatchType, token: CancellationToken): Promise<{ explorerRoot: ExplorerItem; files: URI[]; directories: URI[]; hitMaxResults: boolean }[]> {\n\t\tconst patternLowercase = pattern.toLowerCase();\n\t\tconst isFuzzyMatch = matchType === TreeFindMatchType.Fuzzy;\n\t\treturn await Promise.all(roots.map((root, index) => this.searchInWorkspace(patternLowercase, root, index, isFuzzyMatch, token)));\n\t}\n\n\tprivate async searchInWorkspace(patternLowercase: string, root: ExplorerItem, rootIndex: number, isFuzzyMatch: boolean, token: CancellationToken): Promise<{ explorerRoot: ExplorerItem; files: URI[]; directories: URI[]; hitMaxResults: boolean }> {\n\t\tconst segmentMatchPattern = caseInsensitiveGlobPattern(isFuzzyMatch ? fuzzyMatchingGlobPattern(patternLowercase) : continousMatchingGlobPattern(patternLowercase));\n\n\t\tconst searchExcludePattern = getExcludes(this.configurationService.getValue<ISearchConfiguration>({ resource: root.resource })) || {};\n\t\tconst searchOptions: IFileQuery = {\n\t\t\tfolderQueries: [{\n\t\t\t\tfolder: root.resource,\n\t\t\t\tdisregardIgnoreFiles: !this.configurationService.getValue<boolean>('explorer.excludeGitIgnore'),\n\t\t\t}],\n\t\t\ttype: QueryType.File,\n\t\t\tshouldGlobMatchFilePattern: true,\n\t\t\tcacheKey: `explorerfindprovider:${root.name}:${rootIndex}:${this.sessionId}`,\n\t\t\texcludePattern: searchExcludePattern,\n\t\t};\n\n\t\tlet fileResults: ISearchComplete | undefined;\n\t\tlet folderResults: ISearchComplete | undefined;\n\t\ttry {\n\t\t\t[fileResults, folderResults] = await Promise.all([\n\t\t\t\tthis.searchService.fileSearch({ ...searchOptions, filePattern: `**/${segmentMatchPattern}`, maxResults: 512 }, token),\n\t\t\t\tthis.searchService.fileSearch({ ...searchOptions, filePattern: `**/${segmentMatchPattern}/**` }, token)\n\t\t\t]);\n\t\t} catch (e) {\n\t\t\tif (!isCancellationError(e)) {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t}\n\n\t\tif (!fileResults || !folderResults || token.isCancellationRequested) {\n\t\t\treturn { explorerRoot: root, files: [], directories: [], hitMaxResults: false };\n\t\t}\n\n\t\tconst fileResultResources = fileResults.results.map(result => result.resource);\n\t\tconst directoryResources = getMatchingDirectoriesFromFiles(folderResults.results.map(result => result.resource), root, segmentMatchPattern);\n\n\t\tconst filteredFileResources = fileResultResources.filter(resource => !this.filesFilter.isIgnored(resource, root.resource, false));\n\t\tconst filteredDirectoryResources = directoryResources.filter(resource => !this.filesFilter.isIgnored(resource, root.resource, true));\n\n\t\treturn { explorerRoot: root, files: filteredFileResources, directories: filteredDirectoryResources, hitMaxResults: !!fileResults.limitHit || !!folderResults.limitHit };\n\t}\n}\n\nfunction getMatchingDirectoriesFromFiles(resources: URI[], root: ExplorerItem, segmentMatchPattern: string): URI[] {\n\tconst uniqueDirectories = new ResourceSet();\n\tfor (const resource of resources) {\n\t\tconst relativePathToRoot = relativePath(root.resource, resource);\n\t\tif (!relativePathToRoot) {\n\t\t\tthrow new Error('Resource is not a child of the root');\n\t\t}\n\n\t\tlet dirResource = root.resource;\n\t\tconst stats = relativePathToRoot.split('/').slice(0, -1);\n\t\tfor (const stat of stats) {\n\t\t\tdirResource = dirResource.with({ path: `${dirResource.path}/${stat}` });\n\t\t\tuniqueDirectories.add(dirResource);\n\t\t}\n\t}\n\n\tconst matchingDirectories: URI[] = [];\n\tfor (const dirResource of uniqueDirectories) {\n\t\tconst stats = dirResource.path.split('/');\n\t\tconst dirStat = stats[stats.length - 1];\n\t\tif (!dirStat || !glob.match(segmentMatchPattern, dirStat)) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tmatchingDirectories.push(dirResource);\n\t}\n\n\treturn matchingDirectories;\n}\n\nfunction findFirstParent(resource: URI, root: ExplorerItem): ExplorerItem | undefined {\n\tconst relativePathToRoot = relativePath(root.resource, resource);\n\tif (!relativePathToRoot) {\n\t\tthrow new Error('Resource is not a child of the root');\n\t}\n\n\tlet currentItem = root;\n\tlet currentResource = root.resource;\n\tconst pathSegments = relativePathToRoot.split('/');\n\tfor (const stat of pathSegments) {\n\t\tcurrentResource = currentResource.with({ path: `${currentResource.path}/${stat}` });\n\t\tconst child = currentItem.getChild(stat);\n\t\tif (!child) {\n\t\t\treturn currentItem;\n\t\t}\n\n\t\tcurrentItem = child;\n\t}\n\n\treturn undefined;\n}\n\nfunction fuzzyMatchingGlobPattern(pattern: string): string {\n\tif (!pattern) {\n\t\treturn '*';\n\t}\n\treturn '*' + pattern.split('').join('*') + '*';\n}\n\nfunction continousMatchingGlobPattern(pattern: string): string {\n\tif (!pattern) {\n\t\treturn '*';\n\t}\n\treturn '*' + pattern + '*';\n}\n\nfunction caseInsensitiveGlobPattern(pattern: string): string {\n\tlet caseInsensitiveFilePattern = '';\n\tfor (let i = 0; i < pattern.length; i++) {\n\t\tconst char = pattern[i];\n\t\tif (/[a-zA-Z]/.test(char)) {\n\t\t\tcaseInsensitiveFilePattern += `[${char.toLowerCase()}${char.toUpperCase()}]`;\n\t\t} else {\n\t\t\tcaseInsensitiveFilePattern += char;\n\t\t}\n\t}\n\treturn caseInsensitiveFilePattern;\n}\n\nexport interface ICompressedNavigationController {\n\treadonly current: ExplorerItem;\n\treadonly currentId: string;\n\treadonly items: ExplorerItem[];\n\treadonly labels: HTMLElement[];\n\treadonly index: number;\n\treadonly count: number;\n\treadonly onDidChange: Event<void>;\n\tprevious(): void;\n\tnext(): void;\n\tfirst(): void;\n\tlast(): void;\n\tsetIndex(index: number): void;\n\tupdateCollapsed(collapsed: boolean): void;\n}\n\nexport class CompressedNavigationController implements ICompressedNavigationController, IDisposable {\n\n\tstatic ID = 0;\n\n\tprivate _index: number;\n\tprivate _labels!: HTMLElement[];\n\tprivate _updateLabelDisposable: IDisposable;\n\n\tget index(): number { return this._index; }\n\tget count(): number { return this.items.length; }\n\tget current(): ExplorerItem { return this.items[this._index]; }\n\tget currentId(): string { return `${this.id}_${this.index}`; }\n\tget labels(): HTMLElement[] { return this._labels; }\n\n\tprivate _onDidChange = new Emitter<void>();\n\treadonly onDidChange = this._onDidChange.event;\n\n\tconstructor(private id: string, readonly items: ExplorerItem[], templateData: IFileTemplateData, private depth: number, private collapsed: boolean) {\n\t\tthis._index = items.length - 1;\n\n\t\tthis.updateLabels(templateData);\n\t\tthis._updateLabelDisposable = templateData.label.onDidRender(() => this.updateLabels(templateData));\n\t}\n\n\tprivate updateLabels(templateData: IFileTemplateData): void {\n\t\t// eslint-disable-next-line no-restricted-syntax\n\t\tthis._labels = Array.from(templateData.container.querySelectorAll('.label-name'));\n\t\tlet parents = '';\n\t\tfor (let i = 0; i < this.labels.length; i++) {\n\t\t\tconst ariaLabel = parents.length ? `${this.items[i].name}, compact, ${parents}` : this.items[i].name;\n\t\t\tthis.labels[i].setAttribute('aria-label', ariaLabel);\n\t\t\tthis.labels[i].setAttribute('aria-level', `${this.depth + i}`);\n\t\t\tparents = parents.length ? `${this.items[i].name} ${parents}` : this.items[i].name;\n\t\t}\n\t\tthis.updateCollapsed(this.collapsed);\n\n\t\tif (this._index < this.labels.length) {\n\t\t\tthis.labels[this._index].classList.add('active');\n\t\t}\n\t}\n\n\tprevious(): void {\n\t\tif (this._index <= 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setIndex(this._index - 1);\n\t}\n\n\tnext(): void {\n\t\tif (this._index >= this.items.length - 1) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setIndex(this._index + 1);\n\t}\n\n\tfirst(): void {\n\t\tif (this._index === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setIndex(0);\n\t}\n\n\tlast(): void {\n\t\tif (this._index === this.items.length - 1) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setIndex(this.items.length - 1);\n\t}\n\n\tsetIndex(index: number): void {\n\t\tif (index < 0 || index >= this.items.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.labels[this._index].classList.remove('active');\n\t\tthis._index = index;\n\t\tthis.labels[this._index].classList.add('active');\n\n\t\tthis._onDidChange.fire();\n\t}\n\n\tupdateCollapsed(collapsed: boolean): void {\n\t\tthis.collapsed = collapsed;\n\t\tfor (let i = 0; i < this.labels.length; i++) {\n\t\t\tthis.labels[i].setAttribute('aria-expanded', collapsed ? 'false' : 'true');\n\t\t}\n\t}\n\n\tdispose(): void {\n\t\tthis._onDidChange.dispose();\n\t\tthis._updateLabelDisposable.dispose();\n\t}\n}\n\nexport interface IFileTemplateData {\n\treadonly templateDisposables: DisposableStore;\n\treadonly elementDisposables: DisposableStore;\n\treadonly label: IResourceLabel;\n\treadonly container: HTMLElement;\n\treadonly contribs: IExplorerFileContribution[];\n\tcurrentContext?: ExplorerItem;\n}\n\nexport class FilesRenderer implements ICompressibleTreeRenderer<ExplorerItem, FuzzyScore, IFileTemplateData>, IListAccessibilityProvider<ExplorerItem>, IDisposable {\n\tstatic readonly ID = 'file';\n\n\tprivate config: IFilesConfiguration;\n\tprivate configListener: IDisposable;\n\tprivate compressedNavigationControllers = new Map<ExplorerItem, CompressedNavigationController[]>();\n\n\tprivate _onDidChangeActiveDescendant = new EventMultiplexer<void>();\n\treadonly onDidChangeActiveDescendant = this._onDidChangeActiveDescendant.event;\n\n\tconstructor(\n\t\tcontainer: HTMLElement,\n\t\tprivate labels: ResourceLabels,\n\t\tprivate highlightTree: IExplorerFindHighlightTree,\n\t\tprivate updateWidth: (stat: ExplorerItem) => void,\n\t\t@IContextViewService private readonly contextViewService: IContextViewService,\n\t\t@IThemeService private readonly themeService: IThemeService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@IExplorerService private readonly explorerService: IExplorerService,\n\t\t@ILabelService private readonly labelService: ILabelService,\n\t\t@IWorkspaceContextService private readonly contextService: IWorkspaceContextService,\n\t\t@IContextMenuService private readonly contextMenuService: IContextMenuService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService\n\t) {\n\t\tthis.config = this.configurationService.getValue<IFilesConfiguration>();\n\n\t\tconst updateOffsetStyles = () => {\n\t\t\tconst indent = this.configurationService.getValue<number>('workbench.tree.indent');\n\t\t\tconst offset = Math.max(22 - indent, 0); // derived via inspection\n\t\t\tcontainer.style.setProperty(`--vscode-explorer-align-offset-margin-left`, `${offset}px`);\n\t\t};\n\n\t\tthis.configListener = this.configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration('explorer')) {\n\t\t\t\tthis.config = this.configurationService.getValue();\n\t\t\t}\n\t\t\tif (e.affectsConfiguration('workbench.tree.indent')) {\n\t\t\t\tupdateOffsetStyles();\n\t\t\t}\n\t\t});\n\n\t\tupdateOffsetStyles();\n\t}\n\n\tgetWidgetAriaLabel(): string {\n\t\treturn localize('treeAriaLabel', \"Files Explorer\");\n\t}\n\n\tget templateId(): string {\n\t\treturn FilesRenderer.ID;\n\t}\n\n\trenderTemplate(container: HTMLElement): IFileTemplateData {\n\t\tconst templateDisposables = new DisposableStore();\n\t\tconst label = templateDisposables.add(this.labels.create(container, { supportHighlights: true }));\n\t\ttemplateDisposables.add(label.onDidRender(() => {\n\t\t\ttry {\n\t\t\t\tif (templateData.currentContext) {\n\t\t\t\t\tthis.updateWidth(templateData.currentContext);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t// noop since the element might no longer be in the tree, no update of width necessary\n\t\t\t}\n\t\t}));\n\n\t\tconst contribs = explorerFileContribRegistry.create(this.instantiationService, container, templateDisposables);\n\t\ttemplateDisposables.add(explorerFileContribRegistry.onDidRegisterDescriptor(d => {\n\t\t\tconst contr = d.create(this.instantiationService, container);\n\t\t\tcontribs.push(templateDisposables.add(contr));\n\t\t\tcontr.setResource(templateData.currentContext?.resource);\n\t\t}));\n\n\t\tconst templateData: IFileTemplateData = { templateDisposables, elementDisposables: templateDisposables.add(new DisposableStore()), label, container, contribs };\n\t\treturn templateData;\n\t}\n\n\trenderElement(node: ITreeNode<ExplorerItem, FuzzyScore>, index: number, templateData: IFileTemplateData): void {\n\t\tconst stat = node.element;\n\t\ttemplateData.currentContext = stat;\n\n\t\tconst editableData = this.explorerService.getEditableData(stat);\n\n\t\ttemplateData.label.element.classList.remove('compressed');\n\n\t\t// File Label\n\t\tif (!editableData) {\n\t\t\ttemplateData.label.element.style.display = 'flex';\n\t\t\tthis.renderStat(stat, stat.name, undefined, node.filterData, templateData);\n\t\t}\n\n\t\t// Input Box\n\t\telse {\n\t\t\ttemplateData.label.element.style.display = 'none';\n\t\t\ttemplateData.contribs.forEach(c => c.setResource(undefined));\n\t\t\ttemplateData.elementDisposables.add(this.renderInputBox(templateData.container, stat, editableData));\n\t\t}\n\t}\n\n\trenderCompressedElements(node: ITreeNode<ICompressedTreeNode<ExplorerItem>, FuzzyScore>, index: number, templateData: IFileTemplateData): void {\n\t\tconst stat = node.element.elements[node.element.elements.length - 1];\n\t\ttemplateData.currentContext = stat;\n\n\t\tconst editable = node.element.elements.filter(e => this.explorerService.isEditable(e));\n\t\tconst editableData = editable.length === 0 ? undefined : this.explorerService.getEditableData(editable[0]);\n\n\t\t// File Label\n\t\tif (!editableData) {\n\t\t\ttemplateData.label.element.classList.add('compressed');\n\t\t\ttemplateData.label.element.style.display = 'flex';\n\n\t\t\tconst id = `compressed-explorer_${CompressedNavigationController.ID++}`;\n\t\t\tconst labels = node.element.elements.map(e => e.name);\n\n\t\t\t// If there is a fuzzy score, we need to adjust the offset of the score\n\t\t\t// to align with the last stat of the compressed label\n\t\t\tlet fuzzyScore = node.filterData;\n\t\t\tif (fuzzyScore && fuzzyScore.length > 2) {\n\t\t\t\tconst filterDataOffset = labels.join('/').length - labels[labels.length - 1].length;\n\t\t\t\tfuzzyScore = [fuzzyScore[0], fuzzyScore[1] + filterDataOffset, ...fuzzyScore.slice(2)];\n\t\t\t}\n\n\t\t\tthis.renderStat(stat, labels, id, fuzzyScore, templateData);\n\n\t\t\tconst compressedNavigationController = new CompressedNavigationController(id, node.element.elements, templateData, node.depth, node.collapsed);\n\t\t\ttemplateData.elementDisposables.add(compressedNavigationController);\n\n\t\t\tconst nodeControllers = this.compressedNavigationControllers.get(stat) ?? [];\n\t\t\tthis.compressedNavigationControllers.set(stat, [...nodeControllers, compressedNavigationController]);\n\n\t\t\t// accessibility\n\t\t\ttemplateData.elementDisposables.add(this._onDidChangeActiveDescendant.add(compressedNavigationController.onDidChange));\n\n\t\t\ttemplateData.elementDisposables.add(DOM.addDisposableListener(templateData.container, 'mousedown', e => {\n\t\t\t\tconst result = getIconLabelNameFromHTMLElement(e.target);\n\n\t\t\t\tif (result) {\n\t\t\t\t\tcompressedNavigationController.setIndex(result.index);\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\ttemplateData.elementDisposables.add(toDisposable(() => {\n\t\t\t\tconst nodeControllers = this.compressedNavigationControllers.get(stat) ?? [];\n\t\t\t\tconst renderedIndex = nodeControllers.findIndex(controller => controller === compressedNavigationController);\n\n\t\t\t\tif (renderedIndex < 0) {\n\t\t\t\t\tthrow new Error('Disposing unknown navigation controller');\n\t\t\t\t}\n\n\t\t\t\tif (nodeControllers.length === 1) {\n\t\t\t\t\tthis.compressedNavigationControllers.delete(stat);\n\t\t\t\t} else {\n\t\t\t\t\tnodeControllers.splice(renderedIndex, 1);\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\n\t\t// Input Box\n\t\telse {\n\t\t\ttemplateData.label.element.classList.remove('compressed');\n\t\t\ttemplateData.label.element.style.display = 'none';\n\t\t\ttemplateData.contribs.forEach(c => c.setResource(undefined));\n\t\t\ttemplateData.elementDisposables.add(this.renderInputBox(templateData.container, editable[0], editableData));\n\t\t}\n\t}\n\n\tprivate renderStat(stat: ExplorerItem, label: string | string[], domId: string | undefined, filterData: FuzzyScore | undefined, templateData: IFileTemplateData): void {\n\t\ttemplateData.label.element.style.display = 'flex';\n\t\tconst extraClasses = ['explorer-item'];\n\t\tif (this.explorerService.isCut(stat)) {\n\t\t\textraClasses.push('cut');\n\t\t}\n\n\t\t// Offset nested children unless folders have both chevrons and icons, otherwise alignment breaks\n\t\tconst theme = this.themeService.getFileIconTheme();\n\n\t\t// Hack to always render chevrons for file nests, or else may not be able to identify them.\n\t\t// eslint-disable-next-line no-restricted-syntax\n\t\tconst twistieContainer = templateData.container.parentElement?.parentElement?.querySelector('.monaco-tl-twistie');\n\t\ttwistieContainer?.classList.toggle('force-twistie', stat.hasNests && theme.hidesExplorerArrows);\n\n\t\t// when explorer arrows are hidden or there are no folder icons, nests get misaligned as they are forced to have arrows and files typically have icons\n\t\t// Apply some CSS magic to get things looking as reasonable as possible.\n\t\tconst themeIsUnhappyWithNesting = theme.hasFileIcons && (theme.hidesExplorerArrows || !theme.hasFolderIcons);\n\t\tconst realignNestedChildren = stat.nestedParent && themeIsUnhappyWithNesting;\n\t\ttemplateData.contribs.forEach(c => c.setResource(stat.resource));\n\t\ttemplateData.label.setResource({ resource: stat.resource, name: label }, {\n\t\t\tfileKind: stat.isRoot ? FileKind.ROOT_FOLDER : stat.isDirectory ? FileKind.FOLDER : FileKind.FILE,\n\t\t\textraClasses: realignNestedChildren ? [...extraClasses, 'align-nest-icon-with-parent-icon'] : extraClasses,\n\t\t\tfileDecorations: this.config.explorer.decorations,\n\t\t\tmatches: createMatches(filterData),\n\t\t\tseparator: this.labelService.getSeparator(stat.resource.scheme, stat.resource.authority),\n\t\t\tdomId\n\t\t});\n\n\t\tconst highlightResults = stat.isDirectory ? this.highlightTree.get(stat) : 0;\n\t\tif (highlightResults > 0) {\n\t\t\tconst badge = new CountBadge(templateData.label.element.lastElementChild as HTMLElement, {}, { ...defaultCountBadgeStyles, badgeBackground: asCssVariable(listFilterMatchHighlight), badgeBorder: asCssVariable(listFilterMatchHighlightBorder) });\n\t\t\tbadge.setCount(highlightResults);\n\t\t\tbadge.setTitleFormat(localize('explorerHighlightFolderBadgeTitle', \"Directory contains {0} matches\", highlightResults));\n\t\t\ttemplateData.elementDisposables.add(badge);\n\t\t}\n\t\ttemplateData.label.element.classList.toggle('highlight-badge', highlightResults > 0);\n\t}\n\n\tprivate renderInputBox(container: HTMLElement, stat: ExplorerItem, editableData: IEditableData): IDisposable {\n\n\t\t// Use a file label only for the icon next to the input box\n\t\tconst label = this.labels.create(container);\n\t\tconst extraClasses = ['explorer-item', 'explorer-item-edited'];\n\t\tconst fileKind = stat.isRoot ? FileKind.ROOT_FOLDER : stat.isDirectory ? FileKind.FOLDER : FileKind.FILE;\n\n\t\tconst theme = this.themeService.getFileIconTheme();\n\t\tconst themeIsUnhappyWithNesting = theme.hasFileIcons && (theme.hidesExplorerArrows || !theme.hasFolderIcons);\n\t\tconst realignNestedChildren = stat.nestedParent && themeIsUnhappyWithNesting;\n\n\t\tconst labelOptions: IFileLabelOptions = {\n\t\t\thidePath: true,\n\t\t\thideLabel: true,\n\t\t\tfileKind,\n\t\t\textraClasses: realignNestedChildren ? [...extraClasses, 'align-nest-icon-with-parent-icon'] : extraClasses,\n\t\t};\n\n\n\t\tconst parent = stat.name ? dirname(stat.resource) : stat.resource;\n\t\tconst value = stat.name || '';\n\n\t\tlabel.setFile(joinPath(parent, value || ' '), labelOptions); // Use icon for ' ' if name is empty.\n\n\t\t// hack: hide label\n\t\t(label.element.firstElementChild as HTMLElement).style.display = 'none';\n\n\t\t// Input field for name\n\t\tconst inputBox = new InputBox(label.element, this.contextViewService, {\n\t\t\tvalidationOptions: {\n\t\t\t\tvalidation: (value) => {\n\t\t\t\t\tconst message = editableData.validationMessage(value);\n\t\t\t\t\tif (!message || message.severity !== Severity.Error) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tcontent: message.content,\n\t\t\t\t\t\tformatContent: true,\n\t\t\t\t\t\ttype: MessageType.ERROR\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t},\n\t\t\tariaLabel: localize('fileInputAriaLabel', \"Type file name. Press Enter to confirm or Escape to cancel.\"),\n\t\t\tinputBoxStyles: defaultInputBoxStyles,\n\t\t});\n\n\t\tconst lastDot = value.lastIndexOf('.');\n\t\tlet currentSelectionState = 'prefix';\n\n\t\tinputBox.value = value;\n\t\tinputBox.focus();\n\t\tinputBox.select({ start: 0, end: lastDot > 0 && !stat.isDirectory ? lastDot : value.length });\n\n\t\tconst done = createSingleCallFunction((success: boolean, finishEditing: boolean) => {\n\t\t\tlabel.element.style.display = 'none';\n\t\t\tconst value = inputBox.value;\n\t\t\tdispose(toDispose);\n\t\t\tlabel.element.remove();\n\t\t\tif (finishEditing) {\n\t\t\t\teditableData.onFinish(value, success);\n\t\t\t}\n\t\t});\n\n\t\tconst showInputBoxNotification = () => {\n\t\t\tif (inputBox.isInputValid()) {\n\t\t\t\tconst message = editableData.validationMessage(inputBox.value);\n\t\t\t\tif (message) {\n\t\t\t\t\tinputBox.showMessage({\n\t\t\t\t\t\tcontent: message.content,\n\t\t\t\t\t\tformatContent: true,\n\t\t\t\t\t\ttype: message.severity === Severity.Info ? MessageType.INFO : message.severity === Severity.Warning ? MessageType.WARNING : MessageType.ERROR\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tinputBox.hideMessage();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tshowInputBoxNotification();\n\n\t\tconst toDispose = [\n\t\t\tinputBox,\n\t\t\tinputBox.onDidChange(value => {\n\t\t\t\tlabel.setFile(joinPath(parent, value || ' '), labelOptions); // update label icon while typing!\n\t\t\t}),\n\t\t\tDOM.addStandardDisposableListener(inputBox.inputElement, DOM.EventType.KEY_DOWN, (e: IKeyboardEvent) => {\n\t\t\t\tif (e.equals(KeyCode.F2)) {\n\t\t\t\t\tconst dotIndex = inputBox.value.lastIndexOf('.');\n\t\t\t\t\tif (stat.isDirectory || dotIndex === -1) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (currentSelectionState === 'prefix') {\n\t\t\t\t\t\tcurrentSelectionState = 'all';\n\t\t\t\t\t\tinputBox.select({ start: 0, end: inputBox.value.length });\n\t\t\t\t\t} else if (currentSelectionState === 'all') {\n\t\t\t\t\t\tcurrentSelectionState = 'suffix';\n\t\t\t\t\t\tinputBox.select({ start: dotIndex + 1, end: inputBox.value.length });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrentSelectionState = 'prefix';\n\t\t\t\t\t\tinputBox.select({ start: 0, end: dotIndex });\n\t\t\t\t\t}\n\t\t\t\t} else if (e.equals(KeyCode.Enter)) {\n\t\t\t\t\tif (!inputBox.validate()) {\n\t\t\t\t\t\tdone(true, true);\n\t\t\t\t\t}\n\t\t\t\t} else if (e.equals(KeyCode.Escape)) {\n\t\t\t\t\tdone(false, true);\n\t\t\t\t}\n\t\t\t}),\n\t\t\tDOM.addStandardDisposableListener(inputBox.inputElement, DOM.EventType.KEY_UP, (e: IKeyboardEvent) => {\n\t\t\t\tshowInputBoxNotification();\n\t\t\t}),\n\t\t\tDOM.addDisposableListener(inputBox.inputElement, DOM.EventType.BLUR, async () => {\n\t\t\t\twhile (true) {\n\t\t\t\t\tawait timeout(0);\n\n\t\t\t\t\tconst ownerDocument = inputBox.inputElement.ownerDocument;\n\t\t\t\t\tif (!ownerDocument.hasFocus()) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t} if (DOM.isActiveElement(inputBox.inputElement)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else if (DOM.isHTMLElement(ownerDocument.activeElement) && DOM.hasParentWithClass(ownerDocument.activeElement, 'context-view')) {\n\t\t\t\t\t\tawait Event.toPromise(this.contextMenuService.onDidHideContextMenu);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tdone(inputBox.isInputValid(), true);\n\t\t\t}),\n\t\t\tlabel\n\t\t];\n\n\t\treturn toDisposable(() => {\n\t\t\tdone(false, false);\n\t\t});\n\t}\n\n\tdisposeElement(element: ITreeNode<ExplorerItem, FuzzyScore>, index: number, templateData: IFileTemplateData): void {\n\t\ttemplateData.currentContext = undefined;\n\t\ttemplateData.elementDisposables.clear();\n\t}\n\n\tdisposeCompressedElements(node: ITreeNode<ICompressedTreeNode<ExplorerItem>, FuzzyScore>, index: number, templateData: IFileTemplateData): void {\n\t\ttemplateData.currentContext = undefined;\n\t\ttemplateData.elementDisposables.clear();\n\t}\n\n\tdisposeTemplate(templateData: IFileTemplateData): void {\n\t\ttemplateData.templateDisposables.dispose();\n\t}\n\n\tgetCompressedNavigationController(stat: ExplorerItem): ICompressedNavigationController[] | undefined {\n\t\treturn this.compressedNavigationControllers.get(stat);\n\t}\n\n\t// IAccessibilityProvider\n\n\tgetAriaLabel(element: ExplorerItem): string {\n\t\treturn element.name;\n\t}\n\n\tgetAriaLevel(element: ExplorerItem): number {\n\t\t// We need to comput aria level on our own since children of compact folders will otherwise have an incorrect level\t#107235\n\t\tlet depth = 0;\n\t\tlet parent = element.parent;\n\t\twhile (parent) {\n\t\t\tparent = parent.parent;\n\t\t\tdepth++;\n\t\t}\n\n\t\tif (this.contextService.getWorkbenchState() === WorkbenchState.WORKSPACE) {\n\t\t\tdepth = depth + 1;\n\t\t}\n\n\t\treturn depth;\n\t}\n\n\tgetActiveDescendantId(stat: ExplorerItem): string | undefined {\n\t\treturn this.compressedNavigationControllers.get(stat)?.[0]?.currentId ?? undefined;\n\t}\n\n\tdispose(): void {\n\t\tthis.configListener.dispose();\n\t}\n}\n\ninterface CachedParsedExpression {\n\toriginal: glob.IExpression;\n\tparsed: glob.ParsedExpression;\n}\n\n/**\n * Respects files.exclude setting in filtering out content from the explorer.\n * Makes sure that visible editors are always shown in the explorer even if they are filtered out by settings.\n */\nexport class FilesFilter implements ITreeFilter<ExplorerItem, FuzzyScore> {\n\tprivate hiddenExpressionPerRoot = new Map<string, CachedParsedExpression>();\n\tprivate editorsAffectingFilter = new Set<EditorInput>();\n\tprivate _onDidChange = new Emitter<void>();\n\tprivate toDispose: IDisposable[] = [];\n\t// List of ignoreFile resources. Used to detect changes to the ignoreFiles.\n\tprivate ignoreFileResourcesPerRoot = new Map<string, ResourceSet>();\n\t// Ignore tree per root. Similar to `hiddenExpressionPerRoot`\n\t// Note: URI in the ternary search tree is the URI of the folder containing the ignore file\n\t// It is not the ignore file itself. This is because of the way the IgnoreFile works and nested paths\n\tprivate ignoreTreesPerRoot = new Map<string, TernarySearchTree<URI, IgnoreFile>>();\n\n\tconstructor(\n\t\t@IWorkspaceContextService private readonly contextService: IWorkspaceContextService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@IExplorerService private readonly explorerService: IExplorerService,\n\t\t@IEditorService private readonly editorService: IEditorService,\n\t\t@IUriIdentityService private readonly uriIdentityService: IUriIdentityService,\n\t\t@IFileService private readonly fileService: IFileService\n\t) {\n\t\tthis.toDispose.push(this.contextService.onDidChangeWorkspaceFolders(() => this.updateConfiguration()));\n\t\tthis.toDispose.push(this.configurationService.onDidChangeConfiguration((e) => {\n\t\t\tif (e.affectsConfiguration('files.exclude') || e.affectsConfiguration('explorer.excludeGitIgnore')) {\n\t\t\t\tthis.updateConfiguration();\n\t\t\t}\n\t\t}));\n\t\tthis.toDispose.push(this.fileService.onDidFilesChange(e => {\n\t\t\t// Check to see if the update contains any of the ignoreFileResources\n\t\t\tfor (const [root, ignoreFileResourceSet] of this.ignoreFileResourcesPerRoot.entries()) {\n\t\t\t\tignoreFileResourceSet.forEach(async ignoreResource => {\n\t\t\t\t\tif (e.contains(ignoreResource, FileChangeType.UPDATED)) {\n\t\t\t\t\t\tawait this.processIgnoreFile(root, ignoreResource, true);\n\t\t\t\t\t}\n\t\t\t\t\tif (e.contains(ignoreResource, FileChangeType.DELETED)) {\n\t\t\t\t\t\tthis.ignoreTreesPerRoot.get(root)?.delete(dirname(ignoreResource));\n\t\t\t\t\t\tignoreFileResourceSet.delete(ignoreResource);\n\t\t\t\t\t\tthis._onDidChange.fire();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}));\n\t\tthis.toDispose.push(this.editorService.onDidVisibleEditorsChange(() => {\n\t\t\tconst editors = this.editorService.visibleEditors;\n\t\t\tlet shouldFire = false;\n\n\t\t\tfor (const e of editors) {\n\t\t\t\tif (!e.resource) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tconst stat = this.explorerService.findClosest(e.resource);\n\t\t\t\tif (stat?.isExcluded) {\n\t\t\t\t\t// A filtered resource suddenly became visible since user opened an editor\n\t\t\t\t\tshouldFire = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (const e of this.editorsAffectingFilter) {\n\t\t\t\tif (!editors.includes(e)) {\n\t\t\t\t\t// Editor that was affecting filtering is no longer visible\n\t\t\t\t\tshouldFire = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (shouldFire) {\n\t\t\t\tthis.editorsAffectingFilter.clear();\n\t\t\t\tthis._onDidChange.fire();\n\t\t\t}\n\t\t}));\n\t\tthis.updateConfiguration();\n\t}\n\n\tget onDidChange(): Event<void> {\n\t\treturn this._onDidChange.event;\n\t}\n\n\tprivate updateConfiguration(): void {\n\t\tlet shouldFire = false;\n\t\tlet updatedGitIgnoreSetting = false;\n\t\tthis.contextService.getWorkspace().folders.forEach(folder => {\n\t\t\tconst configuration = this.configurationService.getValue<IFilesConfiguration>({ resource: folder.uri });\n\t\t\tconst excludesConfig: glob.IExpression = configuration?.files?.exclude || Object.create(null);\n\t\t\tconst parseIgnoreFile: boolean = configuration.explorer.excludeGitIgnore;\n\n\t\t\t// If we should be parsing ignoreFiles for this workspace and don't have an ignore tree initialize one\n\t\t\tif (parseIgnoreFile && !this.ignoreTreesPerRoot.has(folder.uri.toString())) {\n\t\t\t\tupdatedGitIgnoreSetting = true;\n\t\t\t\tthis.ignoreFileResourcesPerRoot.set(folder.uri.toString(), new ResourceSet());\n\t\t\t\tthis.ignoreTreesPerRoot.set(folder.uri.toString(), TernarySearchTree.forUris((uri) => this.uriIdentityService.extUri.ignorePathCasing(uri)));\n\t\t\t}\n\n\t\t\t// If we shouldn't be parsing ignore files but have an ignore tree, clear the ignore tree\n\t\t\tif (!parseIgnoreFile && this.ignoreTreesPerRoot.has(folder.uri.toString())) {\n\t\t\t\tupdatedGitIgnoreSetting = true;\n\t\t\t\tthis.ignoreFileResourcesPerRoot.delete(folder.uri.toString());\n\t\t\t\tthis.ignoreTreesPerRoot.delete(folder.uri.toString());\n\t\t\t}\n\n\t\t\tif (!shouldFire) {\n\t\t\t\tconst cached = this.hiddenExpressionPerRoot.get(folder.uri.toString());\n\t\t\t\tshouldFire = !cached || !equals(cached.original, excludesConfig);\n\t\t\t}\n\n\t\t\tconst excludesConfigCopy = deepClone(excludesConfig); // do not keep the config, as it gets mutated under our hoods\n\n\t\t\tthis.hiddenExpressionPerRoot.set(folder.uri.toString(), { original: excludesConfigCopy, parsed: glob.parse(excludesConfigCopy) });\n\t\t});\n\n\t\tif (shouldFire || updatedGitIgnoreSetting) {\n\t\t\tthis.editorsAffectingFilter.clear();\n\t\t\tthis._onDidChange.fire();\n\t\t}\n\t}\n\n\t/**\n\t * Given a .gitignore file resource, processes the resource and adds it to the ignore tree which hides explorer items\n\t * @param root The root folder of the workspace as a string. Used for lookup key for ignore tree and resource list\n\t * @param ignoreFileResource The resource of the .gitignore file\n\t * @param update Whether or not we're updating an existing ignore file. If true it deletes the old entry\n\t */\n\tprivate async processIgnoreFile(root: string, ignoreFileResource: URI, update?: boolean) {\n\t\t// Get the name of the directory which the ignore file is in\n\t\tconst dirUri = dirname(ignoreFileResource);\n\t\tconst ignoreTree = this.ignoreTreesPerRoot.get(root);\n\t\tif (!ignoreTree) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Don't process a directory if we already have it in the tree\n\t\tif (!update && ignoreTree.has(dirUri)) {\n\t\t\treturn;\n\t\t}\n\t\t// Maybe we need a cancellation token here in case it's super long?\n\t\tconst content = await this.fileService.readFile(ignoreFileResource);\n\n\t\t// If it's just an update we update the contents keeping all references the same\n\t\tif (update) {\n\t\t\tconst ignoreFile = ignoreTree.get(dirUri);\n\t\t\tignoreFile?.updateContents(content.value.toString());\n\t\t} else {\n\t\t\t// Otherwise we create a new ignorefile and add it to the tree\n\t\t\tconst ignoreParent = ignoreTree.findSubstr(dirUri);\n\t\t\tconst ignoreFile = new IgnoreFile(content.value.toString(), dirUri.path, ignoreParent);\n\t\t\tignoreTree.set(dirUri, ignoreFile);\n\t\t\t// If we haven't seen this resource before then we need to add it to the list of resources we're tracking\n\t\t\tif (!this.ignoreFileResourcesPerRoot.get(root)?.has(ignoreFileResource)) {\n\t\t\t\tthis.ignoreFileResourcesPerRoot.get(root)?.add(ignoreFileResource);\n\t\t\t}\n\t\t}\n\n\t\t// Notify the explorer of the change so we may ignore these files\n\t\tthis._onDidChange.fire();\n\t}\n\n\tfilter(stat: ExplorerItem, parentVisibility: TreeVisibility): boolean {\n\t\t// Add newly visited .gitignore files to the ignore tree\n\t\tif (stat.name === '.gitignore' && this.ignoreTreesPerRoot.has(stat.root.resource.toString())) {\n\t\t\tthis.processIgnoreFile(stat.root.resource.toString(), stat.resource, false);\n\t\t\treturn true;\n\t\t}\n\n\t\treturn this.isVisible(stat, parentVisibility);\n\t}\n\n\tprivate isVisible(stat: ExplorerItem, parentVisibility: TreeVisibility): boolean {\n\t\tstat.isExcluded = false;\n\t\tif (parentVisibility === TreeVisibility.Hidden) {\n\t\t\tstat.isExcluded = true;\n\t\t\treturn false;\n\t\t}\n\t\tif (this.explorerService.getEditableData(stat)) {\n\t\t\treturn true; // always visible\n\t\t}\n\n\t\t// Hide those that match Hidden Patterns\n\t\tconst cached = this.hiddenExpressionPerRoot.get(stat.root.resource.toString());\n\t\tconst globMatch = cached?.parsed(path.relative(stat.root.resource.path, stat.resource.path), stat.name, name => !!(stat.parent?.getChild(name)));\n\t\t// Small optimization to only run isHiddenResource (traverse gitIgnore) if the globMatch from fileExclude returned nothing\n\t\tconst isHiddenResource = globMatch ? true : this.isIgnored(stat.resource, stat.root.resource, stat.isDirectory);\n\t\tif (isHiddenResource || stat.parent?.isExcluded) {\n\t\t\tstat.isExcluded = true;\n\t\t\tconst editors = this.editorService.visibleEditors;\n\t\t\tconst editor = editors.find(e => e.resource && this.uriIdentityService.extUri.isEqualOrParent(e.resource, stat.resource));\n\t\t\tif (editor && stat.root === this.explorerService.findClosestRoot(stat.resource)) {\n\t\t\t\tthis.editorsAffectingFilter.add(editor);\n\t\t\t\treturn true; // Show all opened files and their parents\n\t\t\t}\n\n\t\t\treturn false; // hidden through pattern\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tisIgnored(resource: URI, rootResource: URI, isDirectory: boolean): boolean {\n\t\tconst ignoreFile = this.ignoreTreesPerRoot.get(rootResource.toString())?.findSubstr(resource);\n\t\tconst isIncludedInTraversal = ignoreFile?.isPathIncludedInTraversal(resource.path, isDirectory);\n\n\t\t// Doing !undefined returns true and we want it to be false when undefined because that means it's not included in the ignore file\n\t\treturn isIncludedInTraversal === undefined ? false : !isIncludedInTraversal;\n\t}\n\n\tdispose(): void {\n\t\tdispose(this.toDispose);\n\t}\n}\n\n// Explorer Sorter\nexport class FileSorter implements ITreeSorter<ExplorerItem> {\n\n\tconstructor(\n\t\t@IExplorerService private readonly explorerService: IExplorerService,\n\t\t@IWorkspaceContextService private readonly contextService: IWorkspaceContextService\n\t) { }\n\n\tcompare(statA: ExplorerItem, statB: ExplorerItem): number {\n\t\t// Do not sort roots\n\t\tif (statA.isRoot) {\n\t\t\tif (statB.isRoot) {\n\t\t\t\tconst workspaceA = this.contextService.getWorkspaceFolder(statA.resource);\n\t\t\t\tconst workspaceB = this.contextService.getWorkspaceFolder(statB.resource);\n\t\t\t\treturn workspaceA && workspaceB ? (workspaceA.index - workspaceB.index) : -1;\n\t\t\t}\n\n\t\t\treturn -1;\n\t\t}\n\n\t\tif (statB.isRoot) {\n\t\t\treturn 1;\n\t\t}\n\n\t\tconst sortOrder = this.explorerService.sortOrderConfiguration.sortOrder;\n\t\tconst lexicographicOptions = this.explorerService.sortOrderConfiguration.lexicographicOptions;\n\t\tconst reverse = this.explorerService.sortOrderConfiguration.reverse;\n\t\tif (reverse) {\n\t\t\t[statA, statB] = [statB, statA];\n\t\t}\n\n\t\tlet compareFileNames;\n\t\tlet compareFileExtensions;\n\t\tswitch (lexicographicOptions) {\n\t\t\tcase 'upper':\n\t\t\t\tcompareFileNames = compareFileNamesUpper;\n\t\t\t\tcompareFileExtensions = compareFileExtensionsUpper;\n\t\t\t\tbreak;\n\t\t\tcase 'lower':\n\t\t\t\tcompareFileNames = compareFileNamesLower;\n\t\t\t\tcompareFileExtensions = compareFileExtensionsLower;\n\t\t\t\tbreak;\n\t\t\tcase 'unicode':\n\t\t\t\tcompareFileNames = compareFileNamesUnicode;\n\t\t\t\tcompareFileExtensions = compareFileExtensionsUnicode;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\t// 'default'\n\t\t\t\tcompareFileNames = compareFileNamesDefault;\n\t\t\t\tcompareFileExtensions = compareFileExtensionsDefault;\n\t\t}\n\n\t\t// Sort Directories\n\t\tswitch (sortOrder) {\n\t\t\tcase 'type':\n\t\t\t\tif (statA.isDirectory && !statB.isDirectory) {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\n\t\t\t\tif (statB.isDirectory && !statA.isDirectory) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\n\t\t\t\tif (statA.isDirectory && statB.isDirectory) {\n\t\t\t\t\treturn compareFileNames(statA.name, statB.name);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'filesFirst':\n\t\t\t\tif (statA.isDirectory && !statB.isDirectory) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\n\t\t\t\tif (statB.isDirectory && !statA.isDirectory) {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'foldersNestsFiles':\n\t\t\t\tif (statA.isDirectory && !statB.isDirectory) {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\n\t\t\t\tif (statB.isDirectory && !statA.isDirectory) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\n\t\t\t\tif (statA.hasNests && !statB.hasNests) {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\n\t\t\t\tif (statB.hasNests && !statA.hasNests) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'mixed':\n\t\t\t\tbreak; // not sorting when \"mixed\" is on\n\n\t\t\tdefault: /* 'default', 'modified' */\n\t\t\t\tif (statA.isDirectory && !statB.isDirectory) {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\n\t\t\t\tif (statB.isDirectory && !statA.isDirectory) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t}\n\n\t\t// Sort Files\n\t\tswitch (sortOrder) {\n\t\t\tcase 'type':\n\t\t\t\treturn compareFileExtensions(statA.name, statB.name);\n\n\t\t\tcase 'modified':\n\t\t\t\tif (statA.mtime !== statB.mtime) {\n\t\t\t\t\treturn (statA.mtime && statB.mtime && statA.mtime < statB.mtime) ? 1 : -1;\n\t\t\t\t}\n\n\t\t\t\treturn compareFileNames(statA.name, statB.name);\n\n\t\t\tdefault: /* 'default', 'mixed', 'filesFirst' */\n\t\t\t\treturn compareFileNames(statA.name, statB.name);\n\t\t}\n\t}\n}\n\nexport class FileDragAndDrop implements ITreeDragAndDrop<ExplorerItem> {\n\tprivate static readonly CONFIRM_DND_SETTING_KEY = 'explorer.confirmDragAndDrop';\n\n\tprivate compressedDragOverElement: HTMLElement | undefined;\n\tprivate compressedDropTargetDisposable: IDisposable = Disposable.None;\n\n\tprivate readonly disposables = new DisposableStore();\n\tprivate dropEnabled = false;\n\n\tconstructor(\n\t\tprivate isCollapsed: (item: ExplorerItem) => boolean,\n\t\t@IExplorerService private explorerService: IExplorerService,\n\t\t@IEditorService private editorService: IEditorService,\n\t\t@IDialogService private dialogService: IDialogService,\n\t\t@IWorkspaceContextService private contextService: IWorkspaceContextService,\n\t\t@IFileService private fileService: IFileService,\n\t\t@IConfigurationService private configurationService: IConfigurationService,\n\t\t@IInstantiationService private instantiationService: IInstantiationService,\n\t\t@IWorkspaceEditingService private workspaceEditingService: IWorkspaceEditingService,\n\t\t@IUriIdentityService private readonly uriIdentityService: IUriIdentityService\n\t) {\n\t\tconst updateDropEnablement = (e: IConfigurationChangeEvent | undefined) => {\n\t\t\tif (!e || e.affectsConfiguration('explorer.enableDragAndDrop')) {\n\t\t\t\tthis.dropEnabled = this.configurationService.getValue('explorer.enableDragAndDrop');\n\t\t\t}\n\t\t};\n\t\tupdateDropEnablement(undefined);\n\t\tthis.disposables.add(this.configurationService.onDidChangeConfiguration(e => updateDropEnablement(e)));\n\t}\n\n\tonDragOver(data: IDragAndDropData, target: ExplorerItem | undefined, targetIndex: number | undefined, targetSector: ListViewTargetSector | undefined, originalEvent: DragEvent): boolean | ITreeDragOverReaction {\n\t\tif (!this.dropEnabled) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Compressed folders\n\t\tif (target) {\n\t\t\tconst compressedTarget = FileDragAndDrop.getCompressedStatFromDragEvent(target, originalEvent);\n\n\t\t\tif (compressedTarget) {\n\t\t\t\tconst iconLabelName = getIconLabelNameFromHTMLElement(originalEvent.target);\n\n\t\t\t\tif (iconLabelName && iconLabelName.index < iconLabelName.count - 1) {\n\t\t\t\t\tconst result = this.handleDragOver(data, compressedTarget, targetIndex, targetSector, originalEvent);\n\n\t\t\t\t\tif (result) {\n\t\t\t\t\t\tif (iconLabelName.element !== this.compressedDragOverElement) {\n\t\t\t\t\t\t\tthis.compressedDragOverElement = iconLabelName.element;\n\t\t\t\t\t\t\tthis.compressedDropTargetDisposable.dispose();\n\t\t\t\t\t\t\tthis.compressedDropTargetDisposable = toDisposable(() => {\n\t\t\t\t\t\t\t\ticonLabelName.element.classList.remove('drop-target');\n\t\t\t\t\t\t\t\tthis.compressedDragOverElement = undefined;\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\ticonLabelName.element.classList.add('drop-target');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn typeof result === 'boolean' ? result : { ...result, feedback: [] };\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.compressedDropTargetDisposable.dispose();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.compressedDropTargetDisposable.dispose();\n\t\treturn this.handleDragOver(data, target, targetIndex, targetSector, originalEvent);\n\t}\n\n\tprivate handleDragOver(data: IDragAndDropData, target: ExplorerItem | undefined, targetIndex: number | undefined, targetSector: ListViewTargetSector | undefined, originalEvent: DragEvent): boolean | ITreeDragOverReaction {\n\t\tconst isCopy = originalEvent && ((originalEvent.ctrlKey && !isMacintosh) || (originalEvent.altKey && isMacintosh));\n\t\tconst isNative = data instanceof NativeDragAndDropData;\n\t\tconst effectType = (isNative || isCopy) ? ListDragOverEffectType.Copy : ListDragOverEffectType.Move;\n\t\tconst effect = { type: effectType, position: ListDragOverEffectPosition.Over };\n\n\t\t// Native DND\n\t\tif (isNative) {\n\t\t\tif (!containsDragType(originalEvent, DataTransfers.FILES, CodeDataTransfers.FILES, DataTransfers.RESOURCES)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\t// Other-Tree DND\n\t\telse if (data instanceof ExternalElementsDragAndDropData) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// In-Explorer DND\n\t\telse {\n\t\t\tconst items = FileDragAndDrop.getStatsFromDragAndDropData(data as ElementsDragAndDropData<ExplorerItem, ExplorerItem[]>);\n\t\t\tconst isRootsReorder = items.every(item => item.isRoot);\n\n\t\t\tif (!target) {\n\t\t\t\t// Dropping onto the empty area. Do not accept if items dragged are already\n\t\t\t\t// children of the root unless we are copying the file\n\t\t\t\tif (!isCopy && items.every(i => !!i.parent && i.parent.isRoot)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\t// root is added after last root folder when hovering on empty background\n\t\t\t\tif (isRootsReorder) {\n\t\t\t\t\treturn { accept: true, effect: { type: ListDragOverEffectType.Move, position: ListDragOverEffectPosition.After } };\n\t\t\t\t}\n\n\t\t\t\treturn { accept: true, bubble: TreeDragOverBubble.Down, effect, autoExpand: false };\n\t\t\t}\n\n\t\t\tif (!Array.isArray(items)) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (!isCopy && items.every((source) => source.isReadonly)) {\n\t\t\t\treturn false; // Cannot move readonly items unless we copy\n\t\t\t}\n\n\t\t\tif (items.some((source) => {\n\t\t\t\tif (source.isRoot) {\n\t\t\t\t\treturn false; // Root folders are handled seperately\n\t\t\t\t}\n\n\t\t\t\tif (this.uriIdentityService.extUri.isEqual(source.resource, target.resource)) {\n\t\t\t\t\treturn true; // Can not move anything onto itself excpet for root folders\n\t\t\t\t}\n\n\t\t\t\tif (!isCopy && this.uriIdentityService.extUri.isEqual(dirname(source.resource), target.resource)) {\n\t\t\t\t\treturn true; // Can not move a file to the same parent unless we copy\n\t\t\t\t}\n\n\t\t\t\tif (this.uriIdentityService.extUri.isEqualOrParent(target.resource, source.resource)) {\n\t\t\t\t\treturn true; // Can not move a parent folder into one of its children\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t})) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// reordering roots\n\t\t\tif (isRootsReorder) {\n\t\t\t\tif (!target.isRoot) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tlet dropEffectPosition: ListDragOverEffectPosition | undefined = undefined;\n\t\t\t\tswitch (targetSector) {\n\t\t\t\t\tcase ListViewTargetSector.TOP:\n\t\t\t\t\tcase ListViewTargetSector.CENTER_TOP:\n\t\t\t\t\t\tdropEffectPosition = ListDragOverEffectPosition.Before; break;\n\t\t\t\t\tcase ListViewTargetSector.CENTER_BOTTOM:\n\t\t\t\t\tcase ListViewTargetSector.BOTTOM:\n\t\t\t\t\t\tdropEffectPosition = ListDragOverEffectPosition.After; break;\n\t\t\t\t}\n\t\t\t\treturn { accept: true, effect: { type: ListDragOverEffectType.Move, position: dropEffectPosition } };\n\t\t\t}\n\t\t}\n\n\t\t// All (target = model)\n\t\tif (!target) {\n\t\t\treturn { accept: true, bubble: TreeDragOverBubble.Down, effect };\n\t\t}\n\n\t\t// All (target = file/folder)\n\t\telse {\n\t\t\tif (target.isDirectory) {\n\t\t\t\tif (target.isReadonly) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\treturn { accept: true, bubble: TreeDragOverBubble.Down, effect, autoExpand: true };\n\t\t\t}\n\n\t\t\tif (this.contextService.getWorkspace().folders.every(folder => folder.uri.toString() !== target.resource.toString())) {\n\t\t\t\treturn { accept: true, bubble: TreeDragOverBubble.Up, effect };\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tgetDragURI(element: ExplorerItem): string | null {\n\t\tif (this.explorerService.isEditable(element)) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn element.resource.toString();\n\t}\n\n\tgetDragLabel(elements: ExplorerItem[], originalEvent: DragEvent): string | undefined {\n\t\tif (elements.length === 1) {\n\t\t\tconst stat = FileDragAndDrop.getCompressedStatFromDragEvent(elements[0], originalEvent);\n\t\t\treturn stat.name;\n\t\t}\n\n\t\treturn String(elements.length);\n\t}\n\n\tonDragStart(data: IDragAndDropData, originalEvent: DragEvent): void {\n\t\tconst items = FileDragAndDrop.getStatsFromDragAndDropData(data as ElementsDragAndDropData<ExplorerItem, ExplorerItem[]>, originalEvent);\n\t\tif (items.length && originalEvent.dataTransfer) {\n\t\t\t// Apply some datatransfer types to allow for dragging the element outside of the application\n\t\t\tthis.instantiationService.invokeFunction(accessor => fillEditorsDragData(accessor, items, originalEvent));\n\n\t\t\t// The only custom data transfer we set from the explorer is a file transfer\n\t\t\t// to be able to DND between multiple code file explorers across windows\n\t\t\tconst fileResources = items.filter(s => s.resource.scheme === Schemas.file).map(r => r.resource.fsPath);\n\t\t\tif (fileResources.length) {\n\t\t\t\toriginalEvent.dataTransfer.setData(CodeDataTransfers.FILES, JSON.stringify(fileResources));\n\t\t\t}\n\t\t}\n\t}\n\n\tasync drop(data: IDragAndDropData, target: ExplorerItem | undefined, targetIndex: number | undefined, targetSector: ListViewTargetSector | undefined, originalEvent: DragEvent): Promise<void> {\n\t\tthis.compressedDropTargetDisposable.dispose();\n\n\t\t// Find compressed target\n\t\tif (target) {\n\t\t\tconst compressedTarget = FileDragAndDrop.getCompressedStatFromDragEvent(target, originalEvent);\n\n\t\t\tif (compressedTarget) {\n\t\t\t\ttarget = compressedTarget;\n\t\t\t}\n\t\t}\n\n\t\t// Find parent to add to\n\t\tif (!target) {\n\t\t\ttarget = this.explorerService.roots[this.explorerService.roots.length - 1];\n\t\t\ttargetSector = ListViewTargetSector.BOTTOM;\n\t\t}\n\t\tif (!target.isDirectory && target.parent) {\n\t\t\ttarget = target.parent;\n\t\t}\n\t\tif (target.isReadonly) {\n\t\t\treturn;\n\t\t}\n\t\tconst resolvedTarget = target;\n\t\tif (!resolvedTarget) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\n\t\t\t// External file DND (Import/Upload file)\n\t\t\tif (data instanceof NativeDragAndDropData) {\n\t\t\t\t// Use local file import when supported\n\t\t\t\tif (!isWeb || (isTemporaryWorkspace(this.contextService.getWorkspace()) && WebFileSystemAccess.supported(mainWindow))) {\n\t\t\t\t\tconst fileImport = this.instantiationService.createInstance(ExternalFileImport);\n\t\t\t\t\tawait fileImport.import(resolvedTarget, originalEvent, mainWindow);\n\t\t\t\t}\n\t\t\t\t// Otherwise fallback to browser based file upload\n\t\t\t\telse {\n\t\t\t\t\tconst browserUpload = this.instantiationService.createInstance(BrowserFileUpload);\n\t\t\t\t\tawait browserUpload.upload(target, originalEvent);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// In-Explorer DND (Move/Copy file)\n\t\t\telse {\n\t\t\t\tawait this.handleExplorerDrop(data as ElementsDragAndDropData<ExplorerItem, ExplorerItem[]>, resolvedTarget, targetIndex, targetSector, originalEvent);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tthis.dialogService.error(toErrorMessage(error));\n\t\t}\n\t}\n\n\tprivate async handleExplorerDrop(data: ElementsDragAndDropData<ExplorerItem, ExplorerItem[]>, target: ExplorerItem, targetIndex: number | undefined, targetSector: ListViewTargetSector | undefined, originalEvent: DragEvent): Promise<void> {\n\t\tconst elementsData = FileDragAndDrop.getStatsFromDragAndDropData(data);\n\t\tconst distinctItems = new Map(elementsData.map(element => [element, this.isCollapsed(element)]));\n\n\t\tfor (const [item, collapsed] of distinctItems) {\n\t\t\tif (collapsed) {\n\t\t\t\tconst nestedChildren = item.nestedChildren;\n\t\t\t\tif (nestedChildren) {\n\t\t\t\t\tfor (const child of nestedChildren) {\n\t\t\t\t\t\t// if parent is collapsed, then the nested children is considered collapsed to operate as a group\n\t\t\t\t\t\t// and skip collapsed state check since they're not in the tree\n\t\t\t\t\t\tdistinctItems.set(child, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst items = distinctParents([...distinctItems.keys()], s => s.resource);\n\t\tconst isCopy = (originalEvent.ctrlKey && !isMacintosh) || (originalEvent.altKey && isMacintosh);\n\n\t\t// Handle confirm setting\n\t\tconst confirmDragAndDrop = !isCopy && this.configurationService.getValue<boolean>(FileDragAndDrop.CONFIRM_DND_SETTING_KEY);\n\t\tif (confirmDragAndDrop) {\n\t\t\tconst message = items.length > 1 && items.every(s => s.isRoot) ? localize('confirmRootsMove', \"Are you sure you want to change the order of multiple root folders in your workspace?\")\n\t\t\t\t: items.length > 1 ? localize('confirmMultiMove', \"Are you sure you want to move the following {0} files into '{1}'?\", items.length, target.name)\n\t\t\t\t\t: items[0].isRoot ? localize('confirmRootMove', \"Are you sure you want to change the order of root folder '{0}' in your workspace?\", items[0].name)\n\t\t\t\t\t\t: localize('confirmMove', \"Are you sure you want to move '{0}' into '{1}'?\", items[0].name, target.name);\n\t\t\tconst detail = items.length > 1 && !items.every(s => s.isRoot) ? getFileNamesMessage(items.map(i => i.resource)) : undefined;\n\n\t\t\tconst confirmation = await this.dialogService.confirm({\n\t\t\t\tmessage,\n\t\t\t\tdetail,\n\t\t\t\tcheckbox: {\n\t\t\t\t\tlabel: localize('doNotAskAgain', \"Do not ask me again\")\n\t\t\t\t},\n\t\t\t\tprimaryButton: localize({ key: 'moveButtonLabel', comment: ['&& denotes a mnemonic'] }, \"&&Move\")\n\t\t\t});\n\n\t\t\tif (!confirmation.confirmed) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Check for confirmation checkbox\n\t\t\tif (confirmation.checkboxChecked === true) {\n\t\t\t\tawait this.configurationService.updateValue(FileDragAndDrop.CONFIRM_DND_SETTING_KEY, false);\n\t\t\t}\n\t\t}\n\n\t\tawait this.doHandleRootDrop(items.filter(s => s.isRoot), target, targetSector);\n\n\t\tconst sources = items.filter(s => !s.isRoot);\n\t\tif (isCopy) {\n\t\t\treturn this.doHandleExplorerDropOnCopy(sources, target);\n\t\t}\n\n\t\treturn this.doHandleExplorerDropOnMove(sources, target);\n\t}\n\n\tprivate async doHandleRootDrop(roots: ExplorerItem[], target: ExplorerItem, targetSector: ListViewTargetSector | undefined): Promise<void> {\n\t\tif (roots.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst folders = this.contextService.getWorkspace().folders;\n\t\tlet targetIndex: number | undefined;\n\t\tconst sourceIndices: number[] = [];\n\t\tconst workspaceCreationData: IWorkspaceFolderCreationData[] = [];\n\t\tconst rootsToMove: IWorkspaceFolderCreationData[] = [];\n\n\t\tfor (let index = 0; index < folders.length; index++) {\n\t\t\tconst data = {\n\t\t\t\turi: folders[index].uri,\n\t\t\t\tname: folders[index].name\n\t\t\t};\n\n\t\t\t// Is current target\n\t\t\tif (target instanceof ExplorerItem && this.uriIdentityService.extUri.isEqual(folders[index].uri, target.resource)) {\n\t\t\t\ttargetIndex = index;\n\t\t\t}\n\n\t\t\t// Is current source\n\t\t\tfor (const root of roots) {\n\t\t\t\tif (this.uriIdentityService.extUri.isEqual(folders[index].uri, root.resource)) {\n\t\t\t\t\tsourceIndices.push(index);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (roots.every(r => r.resource.toString() !== folders[index].uri.toString())) {\n\t\t\t\tworkspaceCreationData.push(data);\n\t\t\t} else {\n\t\t\t\trootsToMove.push(data);\n\t\t\t}\n\t\t}\n\t\tif (targetIndex === undefined) {\n\t\t\ttargetIndex = workspaceCreationData.length;\n\t\t} else {\n\t\t\tswitch (targetSector) {\n\t\t\t\tcase ListViewTargetSector.BOTTOM:\n\t\t\t\tcase ListViewTargetSector.CENTER_BOTTOM:\n\t\t\t\t\ttargetIndex++;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\t// Adjust target index if source was located before target.\n\t\t\t// The move will cause the index to change\n\t\t\tfor (const sourceIndex of sourceIndices) {\n\t\t\t\tif (sourceIndex < targetIndex) {\n\t\t\t\t\ttargetIndex--;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tworkspaceCreationData.splice(targetIndex, 0, ...rootsToMove);\n\n\t\treturn this.workspaceEditingService.updateFolders(0, workspaceCreationData.length, workspaceCreationData);\n\t}\n\n\tprivate async doHandleExplorerDropOnCopy(sources: ExplorerItem[], target: ExplorerItem): Promise<void> {\n\n\t\t// Reuse duplicate action when user copies\n\t\tconst explorerConfig = this.configurationService.getValue<IFilesConfiguration>().explorer;\n\t\tconst resourceFileEdits: ResourceFileEdit[] = [];\n\t\tfor (const { resource, isDirectory } of sources) {\n\t\t\tconst allowOverwrite = explorerConfig.incrementalNaming === 'disabled';\n\t\t\tconst newResource = await findValidPasteFileTarget(this.explorerService,\n\t\t\t\tthis.fileService,\n\t\t\t\tthis.dialogService,\n\t\t\t\ttarget,\n\t\t\t\t{ resource, isDirectory, allowOverwrite },\n\t\t\t\texplorerConfig.incrementalNaming\n\t\t\t);\n\t\t\tif (!newResource) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconst resourceEdit = new ResourceFileEdit(resource, newResource, { copy: true, overwrite: allowOverwrite });\n\t\t\tresourceFileEdits.push(resourceEdit);\n\t\t}\n\t\tconst labelSuffix = getFileOrFolderLabelSuffix(sources);\n\t\tawait this.explorerService.applyBulkEdit(resourceFileEdits, {\n\t\t\tconfirmBeforeUndo: explorerConfig.confirmUndo === UndoConfirmLevel.Default || explorerConfig.confirmUndo === UndoConfirmLevel.Verbose,\n\t\t\tundoLabel: localize('copy', \"Copy {0}\", labelSuffix),\n\t\t\tprogressLabel: localize('copying', \"Copying {0}\", labelSuffix),\n\t\t});\n\n\t\tconst editors = resourceFileEdits.filter(edit => {\n\t\t\tconst item = edit.newResource ? this.explorerService.findClosest(edit.newResource) : undefined;\n\t\t\treturn item && !item.isDirectory;\n\t\t}).map(edit => ({ resource: edit.newResource, options: { pinned: true } }));\n\n\t\tawait this.editorService.openEditors(editors);\n\t}\n\n\tprivate async doHandleExplorerDropOnMove(sources: ExplorerItem[], target: ExplorerItem): Promise<void> {\n\n\t\t// Do not allow moving readonly items\n\t\tconst resourceFileEdits = sources.filter(source => !source.isReadonly).map(source => new ResourceFileEdit(source.resource, joinPath(target.resource, source.name)));\n\t\tconst labelSuffix = getFileOrFolderLabelSuffix(sources);\n\t\tconst options = {\n\t\t\tconfirmBeforeUndo: this.configurationService.getValue<IFilesConfiguration>().explorer.confirmUndo === UndoConfirmLevel.Verbose,\n\t\t\tundoLabel: localize('move', \"Move {0}\", labelSuffix),\n\t\t\tprogressLabel: localize('moving', \"Moving {0}\", labelSuffix)\n\t\t};\n\n\t\ttry {\n\t\t\tawait this.explorerService.applyBulkEdit(resourceFileEdits, options);\n\t\t} catch (error) {\n\n\t\t\t// Conflict\n\t\t\tif ((<FileOperationError>error).fileOperationResult === FileOperationResult.FILE_MOVE_CONFLICT) {\n\n\t\t\t\tconst overwrites: URI[] = [];\n\t\t\t\tfor (const edit of resourceFileEdits) {\n\t\t\t\t\tif (edit.newResource && await this.fileService.exists(edit.newResource)) {\n\t\t\t\t\t\toverwrites.push(edit.newResource);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Move with overwrite if the user confirms\n\t\t\t\tconst confirm = getMultipleFilesOverwriteConfirm(overwrites);\n\t\t\t\tconst { confirmed } = await this.dialogService.confirm(confirm);\n\t\t\t\tif (confirmed) {\n\t\t\t\t\tawait this.explorerService.applyBulkEdit(resourceFileEdits.map(re => new ResourceFileEdit(re.oldResource, re.newResource, { overwrite: true })), options);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Any other error: bubble up\n\t\t\telse {\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate static getStatsFromDragAndDropData(data: ElementsDragAndDropData<ExplorerItem, ExplorerItem[]>, dragStartEvent?: DragEvent): ExplorerItem[] {\n\t\tif (data.context) {\n\t\t\treturn data.context;\n\t\t}\n\n\t\t// Detect compressed folder dragging\n\t\tif (dragStartEvent && data.elements.length === 1) {\n\t\t\tdata.context = [FileDragAndDrop.getCompressedStatFromDragEvent(data.elements[0], dragStartEvent)];\n\t\t\treturn data.context;\n\t\t}\n\n\t\treturn data.elements;\n\t}\n\n\tprivate static getCompressedStatFromDragEvent(stat: ExplorerItem, dragEvent: DragEvent): ExplorerItem {\n\t\tconst target = DOM.getWindow(dragEvent).document.elementFromPoint(dragEvent.clientX, dragEvent.clientY);\n\t\tconst iconLabelName = getIconLabelNameFromHTMLElement(target);\n\n\t\tif (iconLabelName) {\n\t\t\tconst { count, index } = iconLabelName;\n\n\t\t\tlet i = count - 1;\n\t\t\twhile (i > index && stat.parent) {\n\t\t\t\tstat = stat.parent;\n\t\t\t\ti--;\n\t\t\t}\n\n\t\t\treturn stat;\n\t\t}\n\n\t\treturn stat;\n\t}\n\n\tonDragEnd(): void {\n\t\tthis.compressedDropTargetDisposable.dispose();\n\t}\n\n\tdispose(): void {\n\t\tthis.compressedDropTargetDisposable.dispose();\n\t}\n}\n\nfunction getIconLabelNameFromHTMLElement(target: HTMLElement | EventTarget | Element | null): { element: HTMLElement; count: number; index: number } | null {\n\tif (!(DOM.isHTMLElement(target))) {\n\t\treturn null;\n\t}\n\n\tlet element: HTMLElement | null = target;\n\n\twhile (element && !element.classList.contains('monaco-list-row')) {\n\t\tif (element.classList.contains('label-name') && element.hasAttribute('data-icon-label-count')) {\n\t\t\tconst count = Number(element.getAttribute('data-icon-label-count'));\n\t\t\tconst index = Number(element.getAttribute('data-icon-label-index'));\n\n\t\t\tif (isNumber(count) && isNumber(index)) {\n\t\t\t\treturn { element: element, count, index };\n\t\t\t}\n\t\t}\n\n\t\telement = element.parentElement;\n\t}\n\n\treturn null;\n}\n\nexport function isCompressedFolderName(target: HTMLElement | EventTarget | Element | null): boolean {\n\treturn !!getIconLabelNameFromHTMLElement(target);\n}\n\nexport class ExplorerCompressionDelegate implements ITreeCompressionDelegate<ExplorerItem> {\n\n\tisIncompressible(stat: ExplorerItem): boolean {\n\t\treturn stat.isRoot || !stat.isDirectory || stat instanceof NewExplorerItem || (!stat.parent || stat.parent.isRoot);\n\t}\n}\n\nfunction getFileOrFolderLabelSuffix(items: ExplorerItem[]): string {\n\tif (items.length === 1) {\n\t\treturn items[0].name;\n\t}\n\n\tif (items.every(i => i.isDirectory)) {\n\t\treturn localize('numberOfFolders', \"{0} folders\", items.length);\n\t}\n\tif (items.every(i => !i.isDirectory)) {\n\t\treturn localize('numberOfFiles', \"{0} files\", items.length);\n\t}\n\n\treturn `${items.length} files and folders`;\n}\n"]}