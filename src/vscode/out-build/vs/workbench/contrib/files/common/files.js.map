{"version":3,"sources":["vs/workbench/contrib/files/common/files.ts"],"names":[],"mappings":"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","file":"files.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { URI } from '../../../../base/common/uri.js';\nimport { IEditorOptions } from '../../../../editor/common/config/editorOptions.js';\nimport { IWorkbenchEditorConfiguration, IEditorIdentifier, EditorResourceAccessor, SideBySideEditor } from '../../../common/editor.js';\nimport { EditorInput } from '../../../common/editor/editorInput.js';\nimport { IFilesConfiguration as PlatformIFilesConfiguration, FileChangeType, IFileService } from '../../../../platform/files/common/files.js';\nimport { ContextKeyExpr, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { ITextModelContentProvider } from '../../../../editor/common/services/resolverService.js';\nimport { Disposable, DisposableStore, MutableDisposable } from '../../../../base/common/lifecycle.js';\nimport { ITextModel } from '../../../../editor/common/model.js';\nimport { IModelService } from '../../../../editor/common/services/model.js';\nimport { ILanguageService, ILanguageSelection } from '../../../../editor/common/languages/language.js';\nimport { ITextFileService } from '../../../services/textfile/common/textfiles.js';\nimport { InputFocusedContextKey } from '../../../../platform/contextkey/common/contextkeys.js';\nimport { IEditorGroup } from '../../../services/editor/common/editorGroupsService.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { ITextEditorOptions } from '../../../../platform/editor/common/editor.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { localize } from '../../../../nls.js';\nimport { IExpression } from '../../../../base/common/glob.js';\n\n/**\n * Explorer viewlet id.\n */\nexport const VIEWLET_ID = 'workbench.view.explorer';\n\n/**\n * Explorer file view id.\n */\nexport const VIEW_ID = 'workbench.explorer.fileView';\n\n/**\n * Context Keys to use with keybindings for the Explorer and Open Editors view\n */\nexport const ExplorerViewletVisibleContext = new RawContextKey<boolean>('explorerViewletVisible', true, { type: 'boolean', description: localize('explorerViewletVisible', \"True when the EXPLORER viewlet is visible.\") });\nexport const FoldersViewVisibleContext = new RawContextKey<boolean>('foldersViewVisible', true, { type: 'boolean', description: localize('foldersViewVisible', \"True when the FOLDERS view (the file tree within the explorer view container) is visible.\") });\nexport const ExplorerFolderContext = new RawContextKey<boolean>('explorerResourceIsFolder', false, { type: 'boolean', description: localize('explorerResourceIsFolder', \"True when the focused item in the EXPLORER is a folder.\") });\nexport const ExplorerResourceReadonlyContext = new RawContextKey<boolean>('explorerResourceReadonly', false, { type: 'boolean', description: localize('explorerResourceReadonly', \"True when the focused item in the EXPLORER is read-only.\") });\nexport const ExplorerResourceWritableContext = ExplorerResourceReadonlyContext.toNegated();\nexport const ExplorerResourceParentReadOnlyContext = new RawContextKey<boolean>('explorerResourceParentReadonly', false, { type: 'boolean', description: localize('explorerResourceParentReadonly', \"True when the focused item in the EXPLORER's parent is read-only.\") });\n\n/**\n * Comma separated list of editor ids that can be used for the selected explorer resource.\n */\nexport const ExplorerResourceAvailableEditorIdsContext = new RawContextKey<string>('explorerResourceAvailableEditorIds', '');\nexport const ExplorerRootContext = new RawContextKey<boolean>('explorerResourceIsRoot', false, { type: 'boolean', description: localize('explorerResourceIsRoot', \"True when the focused item in the EXPLORER is a root folder.\") });\nexport const ExplorerResourceCut = new RawContextKey<boolean>('explorerResourceCut', false, { type: 'boolean', description: localize('explorerResourceCut', \"True when an item in the EXPLORER has been cut for cut and paste.\") });\nexport const ExplorerResourceMoveableToTrash = new RawContextKey<boolean>('explorerResourceMoveableToTrash', false, { type: 'boolean', description: localize('explorerResourceMoveableToTrash', \"True when the focused item in the EXPLORER can be moved to trash.\") });\nexport const FilesExplorerFocusedContext = new RawContextKey<boolean>('filesExplorerFocus', true, { type: 'boolean', description: localize('filesExplorerFocus', \"True when the focus is inside the EXPLORER view.\") });\nexport const OpenEditorsFocusedContext = new RawContextKey<boolean>('openEditorsFocus', true, { type: 'boolean', description: localize('openEditorsFocus', \"True when the focus is inside the OPEN EDITORS view.\") });\nexport const ExplorerFocusedContext = new RawContextKey<boolean>('explorerViewletFocus', true, { type: 'boolean', description: localize('explorerViewletFocus', \"True when the focus is inside the EXPLORER viewlet.\") });\nexport const ExplorerFindProviderActive = new RawContextKey<boolean>('explorerFindProviderActive', false, { type: 'boolean', description: localize('explorerFindProviderActive', \"True when the explorer tree is using the explorer find provider.\") });\n\n// compressed nodes\nexport const ExplorerCompressedFocusContext = new RawContextKey<boolean>('explorerViewletCompressedFocus', true, { type: 'boolean', description: localize('explorerViewletCompressedFocus', \"True when the focused item in the EXPLORER view is a compact item.\") });\nexport const ExplorerCompressedFirstFocusContext = new RawContextKey<boolean>('explorerViewletCompressedFirstFocus', true, { type: 'boolean', description: localize('explorerViewletCompressedFirstFocus', \"True when the focus is inside a compact item's first part in the EXPLORER view.\") });\nexport const ExplorerCompressedLastFocusContext = new RawContextKey<boolean>('explorerViewletCompressedLastFocus', true, { type: 'boolean', description: localize('explorerViewletCompressedLastFocus', \"True when the focus is inside a compact item's last part in the EXPLORER view.\") });\n\nexport const ViewHasSomeCollapsibleRootItemContext = new RawContextKey<boolean>('viewHasSomeCollapsibleItem', false, { type: 'boolean', description: localize('viewHasSomeCollapsibleItem', \"True when a workspace in the EXPLORER view has some collapsible root child.\") });\n\nexport const FilesExplorerFocusCondition = ContextKeyExpr.and(FoldersViewVisibleContext, FilesExplorerFocusedContext, ContextKeyExpr.not(InputFocusedContextKey));\nexport const ExplorerFocusCondition = ContextKeyExpr.and(FoldersViewVisibleContext, ExplorerFocusedContext, ContextKeyExpr.not(InputFocusedContextKey));\n\n/**\n * Text file editor id.\n */\nexport const TEXT_FILE_EDITOR_ID = 'workbench.editors.files.textFileEditor';\n\n/**\n * File editor input id.\n */\nexport const FILE_EDITOR_INPUT_ID = 'workbench.editors.files.fileEditorInput';\n\n/**\n * Binary file editor id.\n */\nexport const BINARY_FILE_EDITOR_ID = 'workbench.editors.files.binaryFileEditor';\n\n/**\n * Language identifier for binary files opened as text.\n */\nexport const BINARY_TEXT_FILE_MODE = 'code-text-binary';\n\nexport interface IFilesConfiguration extends PlatformIFilesConfiguration, IWorkbenchEditorConfiguration {\n\texplorer: {\n\t\topenEditors: {\n\t\t\tvisible: number;\n\t\t\tsortOrder: 'editorOrder' | 'alphabetical' | 'fullPath';\n\t\t};\n\t\tautoReveal: boolean | 'focusNoScroll';\n\t\tautoRevealExclude: IExpression;\n\t\tenableDragAndDrop: boolean;\n\t\tconfirmDelete: boolean;\n\t\tenableUndo: boolean;\n\t\tconfirmUndo: UndoConfirmLevel;\n\t\texpandSingleFolderWorkspaces: boolean;\n\t\tsortOrder: SortOrder;\n\t\tsortOrderLexicographicOptions: LexicographicOptions;\n\t\tsortOrderReverse: boolean;\n\t\tdecorations: {\n\t\t\tcolors: boolean;\n\t\t\tbadges: boolean;\n\t\t};\n\t\tincrementalNaming: 'simple' | 'smart' | 'disabled';\n\t\texcludeGitIgnore: boolean;\n\t\tfileNesting: {\n\t\t\tenabled: boolean;\n\t\t\texpand: boolean;\n\t\t\tpatterns: { [parent: string]: string };\n\t\t};\n\t\tautoOpenDroppedFile: boolean;\n\t};\n\teditor: IEditorOptions;\n}\n\nexport interface IFileResource {\n\tresource: URI;\n\tisDirectory?: boolean;\n}\n\nexport const enum SortOrder {\n\tDefault = 'default',\n\tMixed = 'mixed',\n\tFilesFirst = 'filesFirst',\n\tType = 'type',\n\tModified = 'modified',\n\tFoldersNestsFiles = 'foldersNestsFiles',\n}\n\nexport const enum UndoConfirmLevel {\n\tVerbose = 'verbose',\n\tDefault = 'default',\n\tLight = 'light',\n}\n\nexport const enum LexicographicOptions {\n\tDefault = 'default',\n\tUpper = 'upper',\n\tLower = 'lower',\n\tUnicode = 'unicode',\n}\n\nexport interface ISortOrderConfiguration {\n\tsortOrder: SortOrder;\n\tlexicographicOptions: LexicographicOptions;\n\treverse: boolean;\n}\n\nexport class TextFileContentProvider extends Disposable implements ITextModelContentProvider {\n\tprivate readonly fileWatcherDisposable = this._register(new MutableDisposable());\n\n\tconstructor(\n\t\t@ITextFileService private readonly textFileService: ITextFileService,\n\t\t@IFileService private readonly fileService: IFileService,\n\t\t@ILanguageService private readonly languageService: ILanguageService,\n\t\t@IModelService private readonly modelService: IModelService\n\t) {\n\t\tsuper();\n\t}\n\n\tstatic async open(resource: URI, scheme: string, label: string, editorService: IEditorService, options?: ITextEditorOptions): Promise<void> {\n\t\tawait editorService.openEditor({\n\t\t\toriginal: { resource: TextFileContentProvider.resourceToTextFile(scheme, resource) },\n\t\t\tmodified: { resource },\n\t\t\tlabel,\n\t\t\toptions\n\t\t});\n\t}\n\n\tprivate static resourceToTextFile(scheme: string, resource: URI): URI {\n\t\treturn resource.with({ scheme, query: JSON.stringify({ scheme: resource.scheme, query: resource.query }) });\n\t}\n\n\tprivate static textFileToResource(resource: URI): URI {\n\t\tconst { scheme, query } = JSON.parse(resource.query);\n\n\t\treturn resource.with({ scheme, query });\n\t}\n\n\tasync provideTextContent(resource: URI): Promise<ITextModel | null> {\n\t\tif (!resource.query) {\n\t\t\t// We require the URI to use the `query` to transport the original scheme and query\n\t\t\t// as done by `resourceToTextFile`\n\t\t\treturn null;\n\t\t}\n\n\t\tconst savedFileResource = TextFileContentProvider.textFileToResource(resource);\n\n\t\t// Make sure our text file is resolved up to date\n\t\tconst codeEditorModel = await this.resolveEditorModel(resource);\n\n\t\t// Make sure to keep contents up to date when it changes\n\t\tif (!this.fileWatcherDisposable.value) {\n\t\t\tconst disposables = new DisposableStore();\n\t\t\tthis.fileWatcherDisposable.value = disposables;\n\t\t\tdisposables.add(this.fileService.onDidFilesChange(changes => {\n\t\t\t\tif (changes.contains(savedFileResource, FileChangeType.UPDATED)) {\n\t\t\t\t\tthis.resolveEditorModel(resource, false /* do not create if missing */); // update model when resource changes\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\tif (codeEditorModel) {\n\t\t\t\tdisposables.add(Event.once(codeEditorModel.onWillDispose)(() => this.fileWatcherDisposable.clear()));\n\t\t\t}\n\t\t}\n\n\t\treturn codeEditorModel;\n\t}\n\n\tprivate resolveEditorModel(resource: URI, createAsNeeded?: true): Promise<ITextModel>;\n\tprivate resolveEditorModel(resource: URI, createAsNeeded?: boolean): Promise<ITextModel | null>;\n\tprivate async resolveEditorModel(resource: URI, createAsNeeded: boolean = true): Promise<ITextModel | null> {\n\t\tconst savedFileResource = TextFileContentProvider.textFileToResource(resource);\n\n\t\tconst content = await this.textFileService.readStream(savedFileResource);\n\n\t\tlet codeEditorModel = this.modelService.getModel(resource);\n\t\tif (codeEditorModel) {\n\t\t\tthis.modelService.updateModel(codeEditorModel, content.value);\n\t\t} else if (createAsNeeded) {\n\t\t\tconst textFileModel = this.modelService.getModel(savedFileResource);\n\n\t\t\tlet languageSelector: ILanguageSelection;\n\t\t\tif (textFileModel) {\n\t\t\t\tlanguageSelector = this.languageService.createById(textFileModel.getLanguageId());\n\t\t\t} else {\n\t\t\t\tlanguageSelector = this.languageService.createByFilepathOrFirstLine(savedFileResource);\n\t\t\t}\n\n\t\t\tcodeEditorModel = this.modelService.createModel(content.value, languageSelector, resource);\n\t\t}\n\n\t\treturn codeEditorModel;\n\t}\n}\n\nexport class OpenEditor implements IEditorIdentifier {\n\n\tprivate id: number;\n\tprivate static COUNTER = 0;\n\n\tconstructor(private _editor: EditorInput, private _group: IEditorGroup) {\n\t\tthis.id = OpenEditor.COUNTER++;\n\t}\n\n\tget editor() {\n\t\treturn this._editor;\n\t}\n\n\tget group() {\n\t\treturn this._group;\n\t}\n\n\tget groupId() {\n\t\treturn this._group.id;\n\t}\n\n\tgetId(): string {\n\t\treturn `openeditor:${this.groupId}:${this.id}`;\n\t}\n\n\tisPreview(): boolean {\n\t\treturn !this._group.isPinned(this.editor);\n\t}\n\n\tisSticky(): boolean {\n\t\treturn this._group.isSticky(this.editor);\n\t}\n\n\tgetResource(): URI | undefined {\n\t\treturn EditorResourceAccessor.getOriginalUri(this.editor, { supportSideBySide: SideBySideEditor.PRIMARY });\n\t}\n}\n"]}