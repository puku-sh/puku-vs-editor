{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/contrib/files/test/browser/explorerModel.test.ts","vs/workbench/contrib/files/test/browser/explorerModel.test.ts"],"names":[],"mappings":"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","file":"explorerModel.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { join } from '../../../../../base/common/path.js';\nimport { isLinux, isWindows, OS } from '../../../../../base/common/platform.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite, toResource } from '../../../../../base/test/common/utils.js';\nimport { TestConfigurationService } from '../../../../../platform/configuration/test/common/testConfigurationService.js';\nimport { TestPathService } from '../../../../test/browser/workbenchTestServices.js';\nimport { NullFilesConfigurationService, TestFileService } from '../../../../test/common/workbenchTestServices.js';\nimport { validateFileName } from '../../browser/fileActions.js';\nimport { ExplorerItem } from '../../common/explorerModel.js';\n\n\nsuite('Files - View Model', function () {\n\n\tconst fileService = new TestFileService();\n\tconst configService = new TestConfigurationService();\n\n\tfunction createStat(this: any, path: string, name: string, isFolder: boolean, hasChildren: boolean, size: number, mtime: number): ExplorerItem {\n\t\treturn new ExplorerItem(toResource.call(this, path), fileService, configService, NullFilesConfigurationService, undefined, isFolder, false, false, false, name, mtime);\n\t}\n\n\tconst pathService = new TestPathService();\n\n\ttest('Properties', function () {\n\t\tconst d = new Date().getTime();\n\t\tlet s = createStat.call(this, '/path/to/stat', 'sName', true, true, 8096, d);\n\n\t\tassert.strictEqual(s.isDirectoryResolved, false);\n\t\tassert.strictEqual(s.resource.fsPath, toResource.call(this, '/path/to/stat').fsPath);\n\t\tassert.strictEqual(s.name, 'sName');\n\t\tassert.strictEqual(s.isDirectory, true);\n\t\tassert.strictEqual(s.mtime, new Date(d).getTime());\n\n\t\ts = createStat.call(this, '/path/to/stat', 'sName', false, false, 8096, d);\n\t});\n\n\ttest('Add and Remove Child, check for hasChild', function () {\n\t\tconst d = new Date().getTime();\n\t\tconst s = createStat.call(this, '/path/to/stat', 'sName', true, false, 8096, d);\n\n\t\tconst child1 = createStat.call(this, '/path/to/stat/foo', 'foo', true, false, 8096, d);\n\t\tconst child4 = createStat.call(this, '/otherpath/to/other/otherbar.html', 'otherbar.html', false, false, 8096, d);\n\n\t\ts.addChild(child1);\n\n\t\tassert(!!s.getChild(child1.name));\n\n\t\ts.removeChild(child1);\n\t\ts.addChild(child1);\n\t\tassert(!!s.getChild(child1.name));\n\n\t\ts.removeChild(child1);\n\t\tassert(!s.getChild(child1.name));\n\n\t\t// Assert that adding a child updates its path properly\n\t\ts.addChild(child4);\n\t\tassert.strictEqual(child4.resource.fsPath, toResource.call(this, '/path/to/stat/' + child4.name).fsPath);\n\t});\n\n\ttest('Move', function () {\n\t\tconst d = new Date().getTime();\n\n\t\tconst s1 = createStat.call(this, '/', '/', true, false, 8096, d);\n\t\tconst s2 = createStat.call(this, '/path', 'path', true, false, 8096, d);\n\t\tconst s3 = createStat.call(this, '/path/to', 'to', true, false, 8096, d);\n\t\tconst s4 = createStat.call(this, '/path/to/stat', 'stat', false, false, 8096, d);\n\n\t\ts1.addChild(s2);\n\t\ts2.addChild(s3);\n\t\ts3.addChild(s4);\n\n\t\ts4.move(s1);\n\n\t\t// Assert the new path of the moved element\n\t\tassert.strictEqual(s4.resource.fsPath, toResource.call(this, '/' + s4.name).fsPath);\n\n\t\t// Move a subtree with children\n\t\tconst leaf = createStat.call(this, '/leaf', 'leaf', true, false, 8096, d);\n\t\tconst leafC1 = createStat.call(this, '/leaf/folder', 'folder', true, false, 8096, d);\n\t\tconst leafCC2 = createStat.call(this, '/leaf/folder/index.html', 'index.html', true, false, 8096, d);\n\n\t\tleaf.addChild(leafC1);\n\t\tleafC1.addChild(leafCC2);\n\t\ts1.addChild(leaf);\n\n\t\tleafC1.move(s3);\n\t\tassert.strictEqual(leafC1.resource.fsPath, URI.file(s3.resource.fsPath + '/' + leafC1.name).fsPath);\n\t\tassert.strictEqual(leafCC2.resource.fsPath, URI.file(leafC1.resource.fsPath + '/' + leafCC2.name).fsPath);\n\t});\n\n\ttest('Rename', function () {\n\t\tconst d = new Date().getTime();\n\n\t\tconst s1 = createStat.call(this, '/', '/', true, false, 8096, d);\n\t\tconst s2 = createStat.call(this, '/path', 'path', true, false, 8096, d);\n\t\tconst s3 = createStat.call(this, '/path/to', 'to', true, false, 8096, d);\n\t\tconst s4 = createStat.call(this, '/path/to/stat', 'stat', true, false, 8096, d);\n\n\t\ts1.addChild(s2);\n\t\ts2.addChild(s3);\n\t\ts3.addChild(s4);\n\n\t\tassert.strictEqual(s1.getChild(s2.name), s2);\n\t\tconst s2renamed = createStat.call(this, '/otherpath', 'otherpath', true, true, 8096, d);\n\t\ts2.rename(s2renamed);\n\t\tassert.strictEqual(s1.getChild(s2.name), s2);\n\n\t\t// Verify the paths have changed including children\n\t\tassert.strictEqual(s2.name, s2renamed.name);\n\t\tassert.strictEqual(s2.resource.fsPath, s2renamed.resource.fsPath);\n\t\tassert.strictEqual(s3.resource.fsPath, toResource.call(this, '/otherpath/to').fsPath);\n\t\tassert.strictEqual(s4.resource.fsPath, toResource.call(this, '/otherpath/to/stat').fsPath);\n\n\t\tconst s4renamed = createStat.call(this, '/otherpath/to/statother.js', 'statother.js', true, false, 8096, d);\n\t\ts4.rename(s4renamed);\n\t\tassert.strictEqual(s3.getChild(s4.name), s4);\n\t\tassert.strictEqual(s4.name, s4renamed.name);\n\t\tassert.strictEqual(s4.resource.fsPath, s4renamed.resource.fsPath);\n\t});\n\n\ttest('Find', function () {\n\t\tconst d = new Date().getTime();\n\n\t\tconst s1 = createStat.call(this, '/', '/', true, false, 8096, d);\n\t\tconst s2 = createStat.call(this, '/path', 'path', true, false, 8096, d);\n\t\tconst s3 = createStat.call(this, '/path/to', 'to', true, false, 8096, d);\n\t\tconst s4 = createStat.call(this, '/path/to/stat', 'stat', true, false, 8096, d);\n\t\tconst s4Upper = createStat.call(this, '/path/to/STAT', 'stat', true, false, 8096, d);\n\n\t\tconst child1 = createStat.call(this, '/path/to/stat/foo', 'foo', true, false, 8096, d);\n\t\tconst child2 = createStat.call(this, '/path/to/stat/foo/bar.html', 'bar.html', false, false, 8096, d);\n\n\t\ts1.addChild(s2);\n\t\ts2.addChild(s3);\n\t\ts3.addChild(s4);\n\t\ts4.addChild(child1);\n\t\tchild1.addChild(child2);\n\n\t\tassert.strictEqual(s1.find(child2.resource), child2);\n\t\tassert.strictEqual(s1.find(child1.resource), child1);\n\t\tassert.strictEqual(s1.find(s4.resource), s4);\n\t\tassert.strictEqual(s1.find(s3.resource), s3);\n\t\tassert.strictEqual(s1.find(s2.resource), s2);\n\n\t\tif (isLinux) {\n\t\t\tassert.ok(!s1.find(s4Upper.resource));\n\t\t} else {\n\t\t\tassert.strictEqual(s1.find(s4Upper.resource), s4);\n\t\t}\n\n\t\tassert.strictEqual(s1.find(toResource.call(this, 'foobar')), null);\n\n\t\tassert.strictEqual(s1.find(toResource.call(this, '/')), s1);\n\t});\n\n\ttest('Find with mixed case', function () {\n\t\tconst d = new Date().getTime();\n\n\t\tconst s1 = createStat.call(this, '/', '/', true, false, 8096, d);\n\t\tconst s2 = createStat.call(this, '/path', 'path', true, false, 8096, d);\n\t\tconst s3 = createStat.call(this, '/path/to', 'to', true, false, 8096, d);\n\t\tconst s4 = createStat.call(this, '/path/to/stat', 'stat', true, false, 8096, d);\n\n\t\tconst child1 = createStat.call(this, '/path/to/stat/foo', 'foo', true, false, 8096, d);\n\t\tconst child2 = createStat.call(this, '/path/to/stat/foo/bar.html', 'bar.html', false, false, 8096, d);\n\n\t\ts1.addChild(s2);\n\t\ts2.addChild(s3);\n\t\ts3.addChild(s4);\n\t\ts4.addChild(child1);\n\t\tchild1.addChild(child2);\n\n\t\tif (isLinux) { // linux is case sensitive\n\t\t\tassert.ok(!s1.find(toResource.call(this, '/path/to/stat/Foo')));\n\t\t\tassert.ok(!s1.find(toResource.call(this, '/Path/to/stat/foo/bar.html')));\n\t\t} else {\n\t\t\tassert.ok(s1.find(toResource.call(this, '/path/to/stat/Foo')));\n\t\t\tassert.ok(s1.find(toResource.call(this, '/Path/to/stat/foo/bar.html')));\n\t\t}\n\t});\n\n\ttest('Validate File Name (For Create)', function () {\n\t\tconst d = new Date().getTime();\n\t\tconst s = createStat.call(this, '/path/to/stat', 'sName', true, true, 8096, d);\n\t\tconst sChild = createStat.call(this, '/path/to/stat/alles.klar', 'alles.klar', true, true, 8096, d);\n\t\ts.addChild(sChild);\n\n\t\tassert(validateFileName(pathService, s, null!, OS) !== null);\n\t\tassert(validateFileName(pathService, s, '', OS) !== null);\n\t\tassert(validateFileName(pathService, s, '  ', OS) !== null);\n\t\tassert(validateFileName(pathService, s, 'Read Me', OS) === null, 'name containing space');\n\n\t\tif (isWindows) {\n\t\t\tassert(validateFileName(pathService, s, 'foo:bar', OS) !== null);\n\t\t\tassert(validateFileName(pathService, s, 'foo*bar', OS) !== null);\n\t\t\tassert(validateFileName(pathService, s, 'foo?bar', OS) !== null);\n\t\t\tassert(validateFileName(pathService, s, 'foo<bar', OS) !== null);\n\t\t\tassert(validateFileName(pathService, s, 'foo>bar', OS) !== null);\n\t\t\tassert(validateFileName(pathService, s, 'foo|bar', OS) !== null);\n\t\t}\n\t\tassert(validateFileName(pathService, s, 'alles.klar', OS) === null);\n\t\tassert(validateFileName(pathService, s, '.foo', OS) === null);\n\t\tassert(validateFileName(pathService, s, 'foo.bar', OS) === null);\n\t\tassert(validateFileName(pathService, s, 'foo', OS) === null);\n\t});\n\n\ttest('Validate File Name (For Rename)', function () {\n\t\tconst d = new Date().getTime();\n\t\tconst s = createStat.call(this, '/path/to/stat', 'sName', true, true, 8096, d);\n\t\tconst sChild = createStat.call(this, '/path/to/stat/alles.klar', 'alles.klar', true, true, 8096, d);\n\t\ts.addChild(sChild);\n\n\t\tassert(validateFileName(pathService, s, 'alles.klar', OS) === null);\n\n\t\tassert(validateFileName(pathService, s, 'Alles.klar', OS) === null);\n\t\tassert(validateFileName(pathService, s, 'Alles.Klar', OS) === null);\n\n\t\tassert(validateFileName(pathService, s, '.foo', OS) === null);\n\t\tassert(validateFileName(pathService, s, 'foo.bar', OS) === null);\n\t\tassert(validateFileName(pathService, s, 'foo', OS) === null);\n\t});\n\n\ttest('Validate Multi-Path File Names', function () {\n\t\tconst d = new Date().getTime();\n\t\tconst wsFolder = createStat.call(this, '/', 'workspaceFolder', true, false, 8096, d);\n\n\t\tassert(validateFileName(pathService, wsFolder, 'foo/bar', OS) === null);\n\t\tassert(validateFileName(pathService, wsFolder, 'foo\\\\bar', OS) === null);\n\t\tassert(validateFileName(pathService, wsFolder, 'all/slashes/are/same', OS) === null);\n\t\tassert(validateFileName(pathService, wsFolder, 'theres/one/different\\\\slash', OS) === null);\n\t\tassert(validateFileName(pathService, wsFolder, '/slashAtBeginning', OS) !== null);\n\n\t\t// attempting to add a child to a deeply nested file\n\t\tconst s1 = createStat.call(this, '/path', 'path', true, false, 8096, d);\n\t\tconst s2 = createStat.call(this, '/path/to', 'to', true, false, 8096, d);\n\t\tconst s3 = createStat.call(this, '/path/to/stat', 'stat', true, false, 8096, d);\n\t\twsFolder.addChild(s1);\n\t\ts1.addChild(s2);\n\t\ts2.addChild(s3);\n\t\tconst fileDeeplyNested = createStat.call(this, '/path/to/stat/fileNested', 'fileNested', false, false, 8096, d);\n\t\ts3.addChild(fileDeeplyNested);\n\t\tassert(validateFileName(pathService, wsFolder, '/path/to/stat/fileNested/aChild', OS) !== null);\n\n\t\t// detect if path already exists\n\t\tassert(validateFileName(pathService, wsFolder, '/path/to/stat/fileNested', OS) !== null);\n\t\tassert(validateFileName(pathService, wsFolder, '/path/to/stat/', OS) !== null);\n\t});\n\n\ttest('Merge Local with Disk', function () {\n\t\tconst merge1 = new ExplorerItem(URI.file(join('C:\\\\', '/path/to')), fileService, configService, NullFilesConfigurationService, undefined, true, false, false, false, 'to', Date.now());\n\t\tconst merge2 = new ExplorerItem(URI.file(join('C:\\\\', '/path/to')), fileService, configService, NullFilesConfigurationService, undefined, true, false, false, false, 'to', Date.now());\n\n\t\t// Merge Properties\n\t\tExplorerItem.mergeLocalWithDisk(merge2, merge1);\n\t\tassert.strictEqual(merge1.mtime, merge2.mtime);\n\n\t\t// Merge Child when isDirectoryResolved=false is a no-op\n\t\tmerge2.addChild(new ExplorerItem(URI.file(join('C:\\\\', '/path/to/foo.html')), fileService, configService, NullFilesConfigurationService, undefined, true, false, false, false, 'foo.html', Date.now()));\n\t\tExplorerItem.mergeLocalWithDisk(merge2, merge1);\n\n\t\t// Merge Child with isDirectoryResolved=true\n\t\tconst child = new ExplorerItem(URI.file(join('C:\\\\', '/path/to/foo.html')), fileService, configService, NullFilesConfigurationService, undefined, true, false, false, false, 'foo.html', Date.now());\n\t\tmerge2.removeChild(child);\n\t\tmerge2.addChild(child);\n\t\tmerge2._isDirectoryResolved = true;\n\t\tExplorerItem.mergeLocalWithDisk(merge2, merge1);\n\t\tassert.strictEqual(merge1.getChild('foo.html')!.name, 'foo.html');\n\t\tassert.deepStrictEqual(merge1.getChild('foo.html')!.parent, merge1, 'Check parent');\n\n\t\t// Verify that merge does not replace existing children, but updates properties in that case\n\t\tconst existingChild = merge1.getChild('foo.html');\n\t\tExplorerItem.mergeLocalWithDisk(merge2, merge1);\n\t\tassert.ok(existingChild === merge1.getChild(existingChild!.name));\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { join } from '../../../../../base/common/path.js';\nimport { isLinux, isWindows, OS } from '../../../../../base/common/platform.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite, toResource } from '../../../../../base/test/common/utils.js';\nimport { TestConfigurationService } from '../../../../../platform/configuration/test/common/testConfigurationService.js';\nimport { TestPathService } from '../../../../test/browser/workbenchTestServices.js';\nimport { NullFilesConfigurationService, TestFileService } from '../../../../test/common/workbenchTestServices.js';\nimport { validateFileName } from '../../browser/fileActions.js';\nimport { ExplorerItem } from '../../common/explorerModel.js';\n\n\nsuite('Files - View Model', function () {\n\n\tconst fileService = new TestFileService();\n\tconst configService = new TestConfigurationService();\n\n\tfunction createStat(this: any, path: string, name: string, isFolder: boolean, hasChildren: boolean, size: number, mtime: number): ExplorerItem {\n\t\treturn new ExplorerItem(toResource.call(this, path), fileService, configService, NullFilesConfigurationService, undefined, isFolder, false, false, false, name, mtime);\n\t}\n\n\tconst pathService = new TestPathService();\n\n\ttest('Properties', function () {\n\t\tconst d = new Date().getTime();\n\t\tlet s = createStat.call(this, '/path/to/stat', 'sName', true, true, 8096, d);\n\n\t\tassert.strictEqual(s.isDirectoryResolved, false);\n\t\tassert.strictEqual(s.resource.fsPath, toResource.call(this, '/path/to/stat').fsPath);\n\t\tassert.strictEqual(s.name, 'sName');\n\t\tassert.strictEqual(s.isDirectory, true);\n\t\tassert.strictEqual(s.mtime, new Date(d).getTime());\n\n\t\ts = createStat.call(this, '/path/to/stat', 'sName', false, false, 8096, d);\n\t});\n\n\ttest('Add and Remove Child, check for hasChild', function () {\n\t\tconst d = new Date().getTime();\n\t\tconst s = createStat.call(this, '/path/to/stat', 'sName', true, false, 8096, d);\n\n\t\tconst child1 = createStat.call(this, '/path/to/stat/foo', 'foo', true, false, 8096, d);\n\t\tconst child4 = createStat.call(this, '/otherpath/to/other/otherbar.html', 'otherbar.html', false, false, 8096, d);\n\n\t\ts.addChild(child1);\n\n\t\tassert(!!s.getChild(child1.name));\n\n\t\ts.removeChild(child1);\n\t\ts.addChild(child1);\n\t\tassert(!!s.getChild(child1.name));\n\n\t\ts.removeChild(child1);\n\t\tassert(!s.getChild(child1.name));\n\n\t\t// Assert that adding a child updates its path properly\n\t\ts.addChild(child4);\n\t\tassert.strictEqual(child4.resource.fsPath, toResource.call(this, '/path/to/stat/' + child4.name).fsPath);\n\t});\n\n\ttest('Move', function () {\n\t\tconst d = new Date().getTime();\n\n\t\tconst s1 = createStat.call(this, '/', '/', true, false, 8096, d);\n\t\tconst s2 = createStat.call(this, '/path', 'path', true, false, 8096, d);\n\t\tconst s3 = createStat.call(this, '/path/to', 'to', true, false, 8096, d);\n\t\tconst s4 = createStat.call(this, '/path/to/stat', 'stat', false, false, 8096, d);\n\n\t\ts1.addChild(s2);\n\t\ts2.addChild(s3);\n\t\ts3.addChild(s4);\n\n\t\ts4.move(s1);\n\n\t\t// Assert the new path of the moved element\n\t\tassert.strictEqual(s4.resource.fsPath, toResource.call(this, '/' + s4.name).fsPath);\n\n\t\t// Move a subtree with children\n\t\tconst leaf = createStat.call(this, '/leaf', 'leaf', true, false, 8096, d);\n\t\tconst leafC1 = createStat.call(this, '/leaf/folder', 'folder', true, false, 8096, d);\n\t\tconst leafCC2 = createStat.call(this, '/leaf/folder/index.html', 'index.html', true, false, 8096, d);\n\n\t\tleaf.addChild(leafC1);\n\t\tleafC1.addChild(leafCC2);\n\t\ts1.addChild(leaf);\n\n\t\tleafC1.move(s3);\n\t\tassert.strictEqual(leafC1.resource.fsPath, URI.file(s3.resource.fsPath + '/' + leafC1.name).fsPath);\n\t\tassert.strictEqual(leafCC2.resource.fsPath, URI.file(leafC1.resource.fsPath + '/' + leafCC2.name).fsPath);\n\t});\n\n\ttest('Rename', function () {\n\t\tconst d = new Date().getTime();\n\n\t\tconst s1 = createStat.call(this, '/', '/', true, false, 8096, d);\n\t\tconst s2 = createStat.call(this, '/path', 'path', true, false, 8096, d);\n\t\tconst s3 = createStat.call(this, '/path/to', 'to', true, false, 8096, d);\n\t\tconst s4 = createStat.call(this, '/path/to/stat', 'stat', true, false, 8096, d);\n\n\t\ts1.addChild(s2);\n\t\ts2.addChild(s3);\n\t\ts3.addChild(s4);\n\n\t\tassert.strictEqual(s1.getChild(s2.name), s2);\n\t\tconst s2renamed = createStat.call(this, '/otherpath', 'otherpath', true, true, 8096, d);\n\t\ts2.rename(s2renamed);\n\t\tassert.strictEqual(s1.getChild(s2.name), s2);\n\n\t\t// Verify the paths have changed including children\n\t\tassert.strictEqual(s2.name, s2renamed.name);\n\t\tassert.strictEqual(s2.resource.fsPath, s2renamed.resource.fsPath);\n\t\tassert.strictEqual(s3.resource.fsPath, toResource.call(this, '/otherpath/to').fsPath);\n\t\tassert.strictEqual(s4.resource.fsPath, toResource.call(this, '/otherpath/to/stat').fsPath);\n\n\t\tconst s4renamed = createStat.call(this, '/otherpath/to/statother.js', 'statother.js', true, false, 8096, d);\n\t\ts4.rename(s4renamed);\n\t\tassert.strictEqual(s3.getChild(s4.name), s4);\n\t\tassert.strictEqual(s4.name, s4renamed.name);\n\t\tassert.strictEqual(s4.resource.fsPath, s4renamed.resource.fsPath);\n\t});\n\n\ttest('Find', function () {\n\t\tconst d = new Date().getTime();\n\n\t\tconst s1 = createStat.call(this, '/', '/', true, false, 8096, d);\n\t\tconst s2 = createStat.call(this, '/path', 'path', true, false, 8096, d);\n\t\tconst s3 = createStat.call(this, '/path/to', 'to', true, false, 8096, d);\n\t\tconst s4 = createStat.call(this, '/path/to/stat', 'stat', true, false, 8096, d);\n\t\tconst s4Upper = createStat.call(this, '/path/to/STAT', 'stat', true, false, 8096, d);\n\n\t\tconst child1 = createStat.call(this, '/path/to/stat/foo', 'foo', true, false, 8096, d);\n\t\tconst child2 = createStat.call(this, '/path/to/stat/foo/bar.html', 'bar.html', false, false, 8096, d);\n\n\t\ts1.addChild(s2);\n\t\ts2.addChild(s3);\n\t\ts3.addChild(s4);\n\t\ts4.addChild(child1);\n\t\tchild1.addChild(child2);\n\n\t\tassert.strictEqual(s1.find(child2.resource), child2);\n\t\tassert.strictEqual(s1.find(child1.resource), child1);\n\t\tassert.strictEqual(s1.find(s4.resource), s4);\n\t\tassert.strictEqual(s1.find(s3.resource), s3);\n\t\tassert.strictEqual(s1.find(s2.resource), s2);\n\n\t\tif (isLinux) {\n\t\t\tassert.ok(!s1.find(s4Upper.resource));\n\t\t} else {\n\t\t\tassert.strictEqual(s1.find(s4Upper.resource), s4);\n\t\t}\n\n\t\tassert.strictEqual(s1.find(toResource.call(this, 'foobar')), null);\n\n\t\tassert.strictEqual(s1.find(toResource.call(this, '/')), s1);\n\t});\n\n\ttest('Find with mixed case', function () {\n\t\tconst d = new Date().getTime();\n\n\t\tconst s1 = createStat.call(this, '/', '/', true, false, 8096, d);\n\t\tconst s2 = createStat.call(this, '/path', 'path', true, false, 8096, d);\n\t\tconst s3 = createStat.call(this, '/path/to', 'to', true, false, 8096, d);\n\t\tconst s4 = createStat.call(this, '/path/to/stat', 'stat', true, false, 8096, d);\n\n\t\tconst child1 = createStat.call(this, '/path/to/stat/foo', 'foo', true, false, 8096, d);\n\t\tconst child2 = createStat.call(this, '/path/to/stat/foo/bar.html', 'bar.html', false, false, 8096, d);\n\n\t\ts1.addChild(s2);\n\t\ts2.addChild(s3);\n\t\ts3.addChild(s4);\n\t\ts4.addChild(child1);\n\t\tchild1.addChild(child2);\n\n\t\tif (isLinux) { // linux is case sensitive\n\t\t\tassert.ok(!s1.find(toResource.call(this, '/path/to/stat/Foo')));\n\t\t\tassert.ok(!s1.find(toResource.call(this, '/Path/to/stat/foo/bar.html')));\n\t\t} else {\n\t\t\tassert.ok(s1.find(toResource.call(this, '/path/to/stat/Foo')));\n\t\t\tassert.ok(s1.find(toResource.call(this, '/Path/to/stat/foo/bar.html')));\n\t\t}\n\t});\n\n\ttest('Validate File Name (For Create)', function () {\n\t\tconst d = new Date().getTime();\n\t\tconst s = createStat.call(this, '/path/to/stat', 'sName', true, true, 8096, d);\n\t\tconst sChild = createStat.call(this, '/path/to/stat/alles.klar', 'alles.klar', true, true, 8096, d);\n\t\ts.addChild(sChild);\n\n\t\tassert(validateFileName(pathService, s, null!, OS) !== null);\n\t\tassert(validateFileName(pathService, s, '', OS) !== null);\n\t\tassert(validateFileName(pathService, s, '  ', OS) !== null);\n\t\tassert(validateFileName(pathService, s, 'Read Me', OS) === null, 'name containing space');\n\n\t\tif (isWindows) {\n\t\t\tassert(validateFileName(pathService, s, 'foo:bar', OS) !== null);\n\t\t\tassert(validateFileName(pathService, s, 'foo*bar', OS) !== null);\n\t\t\tassert(validateFileName(pathService, s, 'foo?bar', OS) !== null);\n\t\t\tassert(validateFileName(pathService, s, 'foo<bar', OS) !== null);\n\t\t\tassert(validateFileName(pathService, s, 'foo>bar', OS) !== null);\n\t\t\tassert(validateFileName(pathService, s, 'foo|bar', OS) !== null);\n\t\t}\n\t\tassert(validateFileName(pathService, s, 'alles.klar', OS) === null);\n\t\tassert(validateFileName(pathService, s, '.foo', OS) === null);\n\t\tassert(validateFileName(pathService, s, 'foo.bar', OS) === null);\n\t\tassert(validateFileName(pathService, s, 'foo', OS) === null);\n\t});\n\n\ttest('Validate File Name (For Rename)', function () {\n\t\tconst d = new Date().getTime();\n\t\tconst s = createStat.call(this, '/path/to/stat', 'sName', true, true, 8096, d);\n\t\tconst sChild = createStat.call(this, '/path/to/stat/alles.klar', 'alles.klar', true, true, 8096, d);\n\t\ts.addChild(sChild);\n\n\t\tassert(validateFileName(pathService, s, 'alles.klar', OS) === null);\n\n\t\tassert(validateFileName(pathService, s, 'Alles.klar', OS) === null);\n\t\tassert(validateFileName(pathService, s, 'Alles.Klar', OS) === null);\n\n\t\tassert(validateFileName(pathService, s, '.foo', OS) === null);\n\t\tassert(validateFileName(pathService, s, 'foo.bar', OS) === null);\n\t\tassert(validateFileName(pathService, s, 'foo', OS) === null);\n\t});\n\n\ttest('Validate Multi-Path File Names', function () {\n\t\tconst d = new Date().getTime();\n\t\tconst wsFolder = createStat.call(this, '/', 'workspaceFolder', true, false, 8096, d);\n\n\t\tassert(validateFileName(pathService, wsFolder, 'foo/bar', OS) === null);\n\t\tassert(validateFileName(pathService, wsFolder, 'foo\\\\bar', OS) === null);\n\t\tassert(validateFileName(pathService, wsFolder, 'all/slashes/are/same', OS) === null);\n\t\tassert(validateFileName(pathService, wsFolder, 'theres/one/different\\\\slash', OS) === null);\n\t\tassert(validateFileName(pathService, wsFolder, '/slashAtBeginning', OS) !== null);\n\n\t\t// attempting to add a child to a deeply nested file\n\t\tconst s1 = createStat.call(this, '/path', 'path', true, false, 8096, d);\n\t\tconst s2 = createStat.call(this, '/path/to', 'to', true, false, 8096, d);\n\t\tconst s3 = createStat.call(this, '/path/to/stat', 'stat', true, false, 8096, d);\n\t\twsFolder.addChild(s1);\n\t\ts1.addChild(s2);\n\t\ts2.addChild(s3);\n\t\tconst fileDeeplyNested = createStat.call(this, '/path/to/stat/fileNested', 'fileNested', false, false, 8096, d);\n\t\ts3.addChild(fileDeeplyNested);\n\t\tassert(validateFileName(pathService, wsFolder, '/path/to/stat/fileNested/aChild', OS) !== null);\n\n\t\t// detect if path already exists\n\t\tassert(validateFileName(pathService, wsFolder, '/path/to/stat/fileNested', OS) !== null);\n\t\tassert(validateFileName(pathService, wsFolder, '/path/to/stat/', OS) !== null);\n\t});\n\n\ttest('Merge Local with Disk', function () {\n\t\tconst merge1 = new ExplorerItem(URI.file(join('C:\\\\', '/path/to')), fileService, configService, NullFilesConfigurationService, undefined, true, false, false, false, 'to', Date.now());\n\t\tconst merge2 = new ExplorerItem(URI.file(join('C:\\\\', '/path/to')), fileService, configService, NullFilesConfigurationService, undefined, true, false, false, false, 'to', Date.now());\n\n\t\t// Merge Properties\n\t\tExplorerItem.mergeLocalWithDisk(merge2, merge1);\n\t\tassert.strictEqual(merge1.mtime, merge2.mtime);\n\n\t\t// Merge Child when isDirectoryResolved=false is a no-op\n\t\tmerge2.addChild(new ExplorerItem(URI.file(join('C:\\\\', '/path/to/foo.html')), fileService, configService, NullFilesConfigurationService, undefined, true, false, false, false, 'foo.html', Date.now()));\n\t\tExplorerItem.mergeLocalWithDisk(merge2, merge1);\n\n\t\t// Merge Child with isDirectoryResolved=true\n\t\tconst child = new ExplorerItem(URI.file(join('C:\\\\', '/path/to/foo.html')), fileService, configService, NullFilesConfigurationService, undefined, true, false, false, false, 'foo.html', Date.now());\n\t\tmerge2.removeChild(child);\n\t\tmerge2.addChild(child);\n\t\tmerge2._isDirectoryResolved = true;\n\t\tExplorerItem.mergeLocalWithDisk(merge2, merge1);\n\t\tassert.strictEqual(merge1.getChild('foo.html')!.name, 'foo.html');\n\t\tassert.deepStrictEqual(merge1.getChild('foo.html')!.parent, merge1, 'Check parent');\n\n\t\t// Verify that merge does not replace existing children, but updates properties in that case\n\t\tconst existingChild = merge1.getChild('foo.html');\n\t\tExplorerItem.mergeLocalWithDisk(merge2, merge1);\n\t\tassert.ok(existingChild === merge1.getChild(existingChild!.name));\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n});\n"]}