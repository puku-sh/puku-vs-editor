{"version":3,"sources":["vs/workbench/contrib/welcomeGettingStarted/browser/gettingStarted.ts"],"names":[],"mappings":"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","file":"gettingStarted.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { $, Dimension, addDisposableListener, append, clearNode, reset } from '../../../../base/browser/dom.js';\nimport { renderFormattedText } from '../../../../base/browser/formattedTextRenderer.js';\nimport { StandardKeyboardEvent } from '../../../../base/browser/keyboardEvent.js';\nimport { Button } from '../../../../base/browser/ui/button/button.js';\nimport { renderLabelWithIcons } from '../../../../base/browser/ui/iconLabel/iconLabels.js';\nimport { DomScrollableElement } from '../../../../base/browser/ui/scrollbar/scrollableElement.js';\nimport { Toggle } from '../../../../base/browser/ui/toggle/toggle.js';\nimport { coalesce, equals } from '../../../../base/common/arrays.js';\nimport { Delayer, Throttler } from '../../../../base/common/async.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { KeyCode } from '../../../../base/common/keyCodes.js';\nimport { splitRecentLabel } from '../../../../base/common/labels.js';\nimport { DisposableStore, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { ILink, LinkedText } from '../../../../base/common/linkedText.js';\nimport { parse } from '../../../../base/common/marshalling.js';\nimport { Schemas, matchesScheme } from '../../../../base/common/network.js';\nimport { OS } from '../../../../base/common/platform.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { assertReturnsDefined } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { generateUuid } from '../../../../base/common/uuid.js';\nimport './media/gettingStarted.css';\nimport { ILanguageService } from '../../../../editor/common/languages/language.js';\nimport { IMarkdownRendererService } from '../../../../platform/markdown/browser/markdownRenderer.js';\nimport { localize } from '../../../../nls.js';\nimport { IAccessibilityService } from '../../../../platform/accessibility/common/accessibility.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { ConfigurationTarget, IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { ContextKeyExpr, ContextKeyExpression, IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IFileService } from '../../../../platform/files/common/files.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { ILabelService, Verbosity } from '../../../../platform/label/common/label.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nimport { Link } from '../../../../platform/opener/browser/link.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { IProductService } from '../../../../platform/product/common/productService.js';\nimport { IQuickInputService } from '../../../../platform/quickinput/common/quickInput.js';\nimport { IStorageService, StorageScope, StorageTarget, WillSaveStateReason } from '../../../../platform/storage/common/storage.js';\nimport { firstSessionDateStorageKey, ITelemetryService, TelemetryLevel } from '../../../../platform/telemetry/common/telemetry.js';\nimport { getTelemetryLevel } from '../../../../platform/telemetry/common/telemetryUtils.js';\nimport { defaultButtonStyles, defaultKeybindingLabelStyles, defaultToggleStyles } from '../../../../platform/theme/browser/defaultStyles.js';\nimport { IWindowOpenable } from '../../../../platform/window/common/window.js';\nimport { IWorkspaceContextService, UNKNOWN_EMPTY_WINDOW_WORKSPACE } from '../../../../platform/workspace/common/workspace.js';\nimport { IRecentFolder, IRecentWorkspace, IRecentlyOpened, IWorkspacesService, isRecentFolder, isRecentWorkspace } from '../../../../platform/workspaces/common/workspaces.js';\nimport { OpenRecentAction } from '../../../browser/actions/windowActions.js';\nimport { OpenFileFolderAction, OpenFolderAction, OpenFolderViaWorkspaceAction } from '../../../browser/actions/workspaceActions.js';\nimport { EditorPane } from '../../../browser/parts/editor/editorPane.js';\nimport { WorkbenchStateContext } from '../../../common/contextkeys.js';\nimport { IEditorOpenContext, IEditorSerializer } from '../../../common/editor.js';\nimport { IWebviewElement, IWebviewService } from '../../webview/browser/webview.js';\nimport './gettingStartedColors.js';\nimport { GettingStartedDetailsRenderer } from './gettingStartedDetailsRenderer.js';\nimport { gettingStartedCheckedCodicon, gettingStartedUncheckedCodicon } from './gettingStartedIcons.js';\nimport { GettingStartedEditorOptions, GettingStartedInput } from './gettingStartedInput.js';\nimport { IResolvedWalkthrough, IResolvedWalkthroughStep, IWalkthroughsService, hiddenEntriesConfigurationKey, parseDescription } from './gettingStartedService.js';\nimport { RestoreWalkthroughsConfigurationValue, restoreWalkthroughsConfigurationKey } from './startupPage.js';\nimport { startEntries } from '../common/gettingStartedContent.js';\nimport { GroupsOrder, IEditorGroup, IEditorGroupsService, preferredSideBySideGroupDirection } from '../../../services/editor/common/editorGroupsService.js';\nimport { IExtensionService } from '../../../services/extensions/common/extensions.js';\nimport { IHostService } from '../../../services/host/browser/host.js';\nimport { IWorkbenchThemeService } from '../../../services/themes/common/workbenchThemeService.js';\nimport { GettingStartedIndexList } from './gettingStartedList.js';\nimport { AccessibilityVerbositySettingId } from '../../accessibility/browser/accessibilityConfiguration.js';\nimport { AccessibleViewAction } from '../../accessibility/browser/accessibleViewActions.js';\nimport { KeybindingLabel } from '../../../../base/browser/ui/keybindingLabel/keybindingLabel.js';\nimport { ScrollbarVisibility } from '../../../../base/common/scrollable.js';\n\nconst SLIDE_TRANSITION_TIME_MS = 250;\nconst configurationKey = 'workbench.startupEditor';\n\nexport const allWalkthroughsHiddenContext = new RawContextKey<boolean>('allWalkthroughsHidden', false);\nexport const inWelcomeContext = new RawContextKey<boolean>('inWelcome', false);\n\nexport interface IWelcomePageStartEntry {\n\tid: string;\n\ttitle: string;\n\tdescription: string;\n\tcommand: string;\n\torder: number;\n\ticon: { type: 'icon'; icon: ThemeIcon };\n\twhen: ContextKeyExpression;\n}\n\nconst parsedStartEntries: IWelcomePageStartEntry[] = startEntries.map((e, i) => ({\n\tcommand: e.content.command,\n\tdescription: e.description,\n\ticon: { type: 'icon', icon: e.icon },\n\tid: e.id,\n\torder: i,\n\ttitle: e.title,\n\twhen: ContextKeyExpr.deserialize(e.when) ?? ContextKeyExpr.true()\n}));\n\ntype GettingStartedActionClassification = {\n\tcommand: { classification: 'PublicNonPersonalData'; purpose: 'FeatureInsight'; comment: 'The command being executed on the getting started page.' };\n\twalkthroughId: { classification: 'PublicNonPersonalData'; purpose: 'FeatureInsight'; comment: 'The walkthrough which the command is in' };\n\targument: { classification: 'PublicNonPersonalData'; purpose: 'FeatureInsight'; comment: 'The arguments being passed to the command' };\n\towner: 'lramos15';\n\tcomment: 'Help understand what actions are most commonly taken on the getting started page';\n};\n\ntype GettingStartedActionEvent = {\n\tcommand: string;\n\twalkthroughId: string | undefined;\n\targument: string | undefined;\n};\n\ntype RecentEntry = (IRecentFolder | IRecentWorkspace) & { id: string };\n\nconst REDUCED_MOTION_KEY = 'workbench.welcomePage.preferReducedMotion';\nexport class GettingStartedPage extends EditorPane {\n\n\tpublic static readonly ID = 'gettingStartedPage';\n\n\tprivate inProgressScroll = Promise.resolve();\n\n\tprivate readonly dispatchListeners: DisposableStore = new DisposableStore();\n\tprivate readonly stepDisposables: DisposableStore = new DisposableStore();\n\tprivate readonly detailsPageDisposables: DisposableStore = new DisposableStore();\n\tprivate readonly mediaDisposables: DisposableStore = new DisposableStore();\n\n\t// Ensure that the these are initialized before use.\n\t// Currently initialized before use in buildCategoriesSlide and scrollToCategory\n\tprivate recentlyOpened!: Promise<IRecentlyOpened>;\n\tprivate gettingStartedCategories!: IResolvedWalkthrough[];\n\n\tprivate currentWalkthrough: IResolvedWalkthrough | undefined;\n\tprivate prevWalkthrough: IResolvedWalkthrough | undefined;\n\n\tprivate categoriesPageScrollbar: DomScrollableElement | undefined;\n\tprivate detailsPageScrollbar: DomScrollableElement | undefined;\n\n\tprivate detailsScrollbar: DomScrollableElement | undefined;\n\n\tprivate buildSlideThrottle: Throttler = new Throttler();\n\n\tprivate container: HTMLElement;\n\n\tprivate contextService: IContextKeyService;\n\n\tprivate recentlyOpenedList?: GettingStartedIndexList<RecentEntry>;\n\tprivate startList?: GettingStartedIndexList<IWelcomePageStartEntry>;\n\tprivate gettingStartedList?: GettingStartedIndexList<IResolvedWalkthrough>;\n\n\tprivate stepsSlide!: HTMLElement;\n\tprivate categoriesSlide!: HTMLElement;\n\tprivate stepsContent!: HTMLElement;\n\tprivate stepMediaComponent!: HTMLElement;\n\tprivate webview!: IWebviewElement;\n\n\tprivate layoutMarkdown: (() => void) | undefined;\n\n\tprivate detailsRenderer: GettingStartedDetailsRenderer;\n\n\tprivate readonly categoriesSlideDisposables: DisposableStore;\n\tprivate showFeaturedWalkthrough = true;\n\n\tget editorInput(): GettingStartedInput {\n\t\treturn this._input as GettingStartedInput;\n\t}\n\n\tconstructor(\n\t\tgroup: IEditorGroup,\n\t\t@ICommandService private readonly commandService: ICommandService,\n\t\t@IProductService private readonly productService: IProductService,\n\t\t@IKeybindingService private readonly keybindingService: IKeybindingService,\n\t\t@IWalkthroughsService private readonly gettingStartedService: IWalkthroughsService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@ITelemetryService telemetryService: ITelemetryService,\n\t\t@ILanguageService private readonly languageService: ILanguageService,\n\t\t@IFileService private readonly fileService: IFileService,\n\t\t@IOpenerService private readonly openerService: IOpenerService,\n\t\t@IWorkbenchThemeService protected override readonly themeService: IWorkbenchThemeService,\n\t\t@IStorageService private storageService: IStorageService,\n\t\t@IExtensionService private readonly extensionService: IExtensionService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IEditorGroupsService private readonly groupsService: IEditorGroupsService,\n\t\t@IContextKeyService contextService: IContextKeyService,\n\t\t@IQuickInputService private quickInputService: IQuickInputService,\n\t\t@IWorkspacesService private readonly workspacesService: IWorkspacesService,\n\t\t@ILabelService private readonly labelService: ILabelService,\n\t\t@IHostService private readonly hostService: IHostService,\n\t\t@IWebviewService private readonly webviewService: IWebviewService,\n\t\t@IWorkspaceContextService private readonly workspaceContextService: IWorkspaceContextService,\n\t\t@IAccessibilityService private readonly accessibilityService: IAccessibilityService,\n\t\t@IMarkdownRendererService private readonly markdownRendererService: IMarkdownRendererService,\n\t) {\n\n\t\tsuper(GettingStartedPage.ID, group, telemetryService, themeService, storageService);\n\n\t\tthis.container = $('.gettingStartedContainer',\n\t\t\t{\n\t\t\t\trole: 'document',\n\t\t\t\ttabindex: 0,\n\t\t\t\t'aria-label': localize('welcomeAriaLabel', \"Overview of how to get up to speed with your editor.\")\n\t\t\t});\n\t\tthis.stepMediaComponent = $('.getting-started-media');\n\t\tthis.stepMediaComponent.id = generateUuid();\n\n\t\tthis.categoriesSlideDisposables = this._register(new DisposableStore());\n\n\t\tthis.detailsRenderer = new GettingStartedDetailsRenderer(this.fileService, this.notificationService, this.extensionService, this.languageService);\n\n\t\tthis.contextService = this._register(contextService.createScoped(this.container));\n\t\tinWelcomeContext.bindTo(this.contextService).set(true);\n\n\t\tthis.gettingStartedCategories = this.gettingStartedService.getWalkthroughs();\n\n\t\tthis._register(this.dispatchListeners);\n\t\tthis.buildSlideThrottle = new Throttler();\n\n\t\tconst rerender = () => {\n\t\t\tthis.gettingStartedCategories = this.gettingStartedService.getWalkthroughs();\n\t\t\tif (this.currentWalkthrough) {\n\t\t\t\tconst existingSteps = this.currentWalkthrough.steps.map(step => step.id);\n\t\t\t\tconst newCategory = this.gettingStartedCategories.find(category => this.currentWalkthrough?.id === category.id);\n\t\t\t\tif (newCategory) {\n\t\t\t\t\tconst newSteps = newCategory.steps.map(step => step.id);\n\t\t\t\t\tif (!equals(newSteps, existingSteps)) {\n\t\t\t\t\t\tthis.buildSlideThrottle.queue(() => this.buildCategoriesSlide());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.buildSlideThrottle.queue(() => this.buildCategoriesSlide());\n\t\t\t}\n\t\t};\n\n\t\tthis._register(this.gettingStartedService.onDidAddWalkthrough(rerender));\n\t\tthis._register(this.gettingStartedService.onDidRemoveWalkthrough(rerender));\n\n\t\tthis.recentlyOpened = this.workspacesService.getRecentlyOpened();\n\t\tthis._register(workspacesService.onDidChangeRecentlyOpened(() => {\n\t\t\tthis.recentlyOpened = workspacesService.getRecentlyOpened();\n\t\t\trerender();\n\t\t}));\n\n\t\tthis._register(this.gettingStartedService.onDidChangeWalkthrough(category => {\n\t\t\tconst ourCategory = this.gettingStartedCategories.find(c => c.id === category.id);\n\t\t\tif (!ourCategory) { return; }\n\n\t\t\tourCategory.title = category.title;\n\t\t\tourCategory.description = category.description;\n\n\t\t\t// eslint-disable-next-line no-restricted-syntax\n\t\t\tthis.container.querySelectorAll<HTMLDivElement>(`[x-category-title-for=\"${category.id}\"]`).forEach(step => (step as HTMLDivElement).innerText = ourCategory.title);\n\t\t\t// eslint-disable-next-line no-restricted-syntax\n\t\t\tthis.container.querySelectorAll<HTMLDivElement>(`[x-category-description-for=\"${category.id}\"]`).forEach(step => (step as HTMLDivElement).innerText = ourCategory.description);\n\t\t}));\n\n\t\tthis._register(this.gettingStartedService.onDidProgressStep(step => {\n\t\t\tconst category = this.gettingStartedCategories.find(c => c.id === step.category);\n\t\t\tif (!category) { throw Error('Could not find category with ID: ' + step.category); }\n\t\t\tconst ourStep = category.steps.find(_step => _step.id === step.id);\n\t\t\tif (!ourStep) {\n\t\t\t\tthrow Error('Could not find step with ID: ' + step.id);\n\t\t\t}\n\n\t\t\tconst stats = this.getWalkthroughCompletionStats(category);\n\t\t\tif (!ourStep.done && stats.stepsComplete === stats.stepsTotal - 1) {\n\t\t\t\tthis.hideCategory(category.id);\n\t\t\t}\n\n\t\t\tthis._register(this.configurationService.onDidChangeConfiguration(e => {\n\t\t\t\tif (e.affectsConfiguration(REDUCED_MOTION_KEY)) {\n\t\t\t\t\tthis.container.classList.toggle('animatable', this.shouldAnimate());\n\t\t\t\t}\n\t\t\t}));\n\t\t\tourStep.done = step.done;\n\n\t\t\tif (category.id === this.currentWalkthrough?.id) {\n\t\t\t\t// eslint-disable-next-line no-restricted-syntax\n\t\t\t\tconst badgeelements = assertReturnsDefined(this.window.document.querySelectorAll(`[data-done-step-id=\"${step.id}\"]`));\n\t\t\t\tbadgeelements.forEach(badgeelement => {\n\t\t\t\t\tif (step.done) {\n\t\t\t\t\t\tbadgeelement.setAttribute('aria-checked', 'true');\n\t\t\t\t\t\tbadgeelement.parentElement?.setAttribute('aria-checked', 'true');\n\t\t\t\t\t\tbadgeelement.classList.remove(...ThemeIcon.asClassNameArray(gettingStartedUncheckedCodicon));\n\t\t\t\t\t\tbadgeelement.classList.add('complete', ...ThemeIcon.asClassNameArray(gettingStartedCheckedCodicon));\n\t\t\t\t\t\tbadgeelement.setAttribute('aria-label', localize('stepDone', \"Checkbox for Step {0}: Completed\", step.title));\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tbadgeelement.setAttribute('aria-checked', 'false');\n\t\t\t\t\t\tbadgeelement.parentElement?.setAttribute('aria-checked', 'false');\n\t\t\t\t\t\tbadgeelement.classList.remove('complete', ...ThemeIcon.asClassNameArray(gettingStartedCheckedCodicon));\n\t\t\t\t\t\tbadgeelement.classList.add(...ThemeIcon.asClassNameArray(gettingStartedUncheckedCodicon));\n\t\t\t\t\t\tbadgeelement.setAttribute('aria-label', localize('stepNotDone', \"Checkbox for Step {0}: Not completed\", step.title));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.updateCategoryProgress();\n\t\t}));\n\n\t\tthis._register(this.storageService.onWillSaveState((e) => {\n\t\t\tif (e.reason !== WillSaveStateReason.SHUTDOWN) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.workspaceContextService.getWorkspace().folders.length !== 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!this.editorInput || !this.currentWalkthrough || !this.editorInput.selectedCategory || !this.editorInput.selectedStep) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst editorPane = this.groupsService.activeGroup.activeEditorPane;\n\t\t\tif (!(editorPane instanceof GettingStartedPage)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Save the state of the walkthrough so we can restore it on reload\n\t\t\tconst restoreData: RestoreWalkthroughsConfigurationValue = { folder: UNKNOWN_EMPTY_WINDOW_WORKSPACE.id, category: this.editorInput.selectedCategory, step: this.editorInput.selectedStep };\n\t\t\tthis.storageService.store(\n\t\t\t\trestoreWalkthroughsConfigurationKey,\n\t\t\t\tJSON.stringify(restoreData),\n\t\t\t\tStorageScope.PROFILE, StorageTarget.MACHINE);\n\t\t}));\n\t}\n\n\t// remove when 'workbench.welcomePage.preferReducedMotion' deprecated\n\tprivate shouldAnimate() {\n\t\tif (this.configurationService.getValue(REDUCED_MOTION_KEY)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this.accessibilityService.isMotionReduced()) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tprivate getWalkthroughCompletionStats(walkthrough: IResolvedWalkthrough): { stepsComplete: number; stepsTotal: number } {\n\t\tconst activeSteps = walkthrough.steps.filter(s => this.contextService.contextMatchesRules(s.when));\n\t\treturn {\n\t\t\tstepsComplete: activeSteps.filter(s => s.done).length,\n\t\t\tstepsTotal: activeSteps.length,\n\t\t};\n\t}\n\n\toverride async setInput(newInput: GettingStartedInput, options: GettingStartedEditorOptions | undefined, context: IEditorOpenContext, token: CancellationToken) {\n\t\tawait super.setInput(newInput, options, context, token);\n\t\tawait this.applyInput(options);\n\t}\n\n\toverride async setOptions(options: GettingStartedEditorOptions | undefined): Promise<void> {\n\t\tsuper.setOptions(options);\n\n\t\tif (\n\t\t\tthis.editorInput.selectedCategory !== options?.selectedCategory ||\n\t\t\tthis.editorInput.selectedStep !== options?.selectedStep\n\t\t) {\n\t\t\tawait this.applyInput(options);\n\t\t}\n\t}\n\n\tprivate async applyInput(options: GettingStartedEditorOptions | undefined): Promise<void> {\n\t\tthis.editorInput.showTelemetryNotice = options?.showTelemetryNotice ?? true;\n\t\tthis.editorInput.selectedCategory = options?.selectedCategory;\n\t\tthis.editorInput.selectedStep = options?.selectedStep;\n\n\t\tthis.container.classList.remove('animatable');\n\t\tawait this.buildCategoriesSlide();\n\t\tif (this.shouldAnimate()) {\n\t\t\tsetTimeout(() => this.container.classList.add('animatable'), 0);\n\t\t}\n\t}\n\n\tasync makeCategoryVisibleWhenAvailable(categoryID: string, stepId?: string) {\n\t\tthis.scrollToCategory(categoryID, stepId);\n\t}\n\n\tprivate registerDispatchListeners() {\n\t\tthis.dispatchListeners.clear();\n\n\t\t// eslint-disable-next-line no-restricted-syntax\n\t\tthis.container.querySelectorAll('[x-dispatch]').forEach(element => {\n\t\t\tconst dispatch = element.getAttribute('x-dispatch') ?? '';\n\t\t\tlet command, argument;\n\t\t\tif (dispatch.startsWith('openLink:https')) {\n\t\t\t\t[command, argument] = ['openLink', dispatch.replace('openLink:', '')];\n\t\t\t} else {\n\t\t\t\t[command, argument] = dispatch.split(':');\n\t\t\t}\n\t\t\tif (command) {\n\t\t\t\tthis.dispatchListeners.add(addDisposableListener(element, 'click', (e) => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tthis.runDispatchCommand(command, argument);\n\t\t\t\t}));\n\t\t\t\tthis.dispatchListeners.add(addDisposableListener(element, 'keyup', (e) => {\n\t\t\t\t\tconst keyboardEvent = new StandardKeyboardEvent(e);\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tswitch (keyboardEvent.keyCode) {\n\t\t\t\t\t\tcase KeyCode.Enter:\n\t\t\t\t\t\tcase KeyCode.Space:\n\t\t\t\t\t\t\tthis.runDispatchCommand(command, argument);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate async runDispatchCommand(command: string, argument: string) {\n\t\tthis.commandService.executeCommand('workbench.action.keepEditor');\n\t\tthis.telemetryService.publicLog2<GettingStartedActionEvent, GettingStartedActionClassification>('gettingStarted.ActionExecuted', { command, argument, walkthroughId: this.currentWalkthrough?.id });\n\t\tswitch (command) {\n\t\t\tcase 'scrollPrev': {\n\t\t\t\tthis.scrollPrev();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'skip': {\n\t\t\t\tthis.runSkip();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'showMoreRecents': {\n\t\t\t\tthis.commandService.executeCommand(OpenRecentAction.ID);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'seeAllWalkthroughs': {\n\t\t\t\tawait this.openWalkthroughSelector();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'openFolder': {\n\t\t\t\tif (this.contextService.contextMatchesRules(ContextKeyExpr.and(WorkbenchStateContext.isEqualTo('workspace')))) {\n\t\t\t\t\tthis.commandService.executeCommand(OpenFolderViaWorkspaceAction.ID);\n\t\t\t\t} else {\n\t\t\t\t\tthis.commandService.executeCommand('workbench.action.files.openFolder');\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'selectCategory': {\n\t\t\t\tthis.scrollToCategory(argument);\n\t\t\t\tthis.gettingStartedService.markWalkthroughOpened(argument);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'selectStartEntry': {\n\t\t\t\tconst selected = startEntries.find(e => e.id === argument);\n\t\t\t\tif (selected) {\n\t\t\t\t\tthis.runStepCommand(selected.content.command);\n\t\t\t\t} else {\n\t\t\t\t\tthrow Error('could not find start entry with id: ' + argument);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'hideCategory': {\n\t\t\t\tthis.hideCategory(argument);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t// Use selectTask over selectStep to keep telemetry consistant:https://github.com/microsoft/vscode/issues/122256\n\t\t\tcase 'selectTask': {\n\t\t\t\tthis.selectStep(argument);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'toggleStepCompletion': {\n\t\t\t\tthis.toggleStepCompletion(argument);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'allDone': {\n\t\t\t\tthis.markAllStepsComplete();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'nextSection': {\n\t\t\t\tconst next = this.currentWalkthrough?.next;\n\t\t\t\tif (next) {\n\t\t\t\t\tthis.prevWalkthrough = this.currentWalkthrough;\n\t\t\t\t\tthis.scrollToCategory(next);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error('Error scrolling to next section of', this.currentWalkthrough);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'openLink': {\n\t\t\t\tthis.openerService.open(argument);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\tconsole.error('Dispatch to', command, argument, 'not defined');\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate hideCategory(categoryId: string) {\n\t\tconst selectedCategory = this.gettingStartedCategories.find(category => category.id === categoryId);\n\t\tif (!selectedCategory) { throw Error('Could not find category with ID ' + categoryId); }\n\t\tthis.setHiddenCategories([...this.getHiddenCategories().add(categoryId)]);\n\t\tthis.gettingStartedList?.rerender();\n\t}\n\n\tprivate markAllStepsComplete() {\n\t\tif (this.currentWalkthrough) {\n\t\t\tthis.currentWalkthrough?.steps.forEach(step => {\n\t\t\t\tif (!step.done) {\n\t\t\t\t\tthis.gettingStartedService.progressStep(step.id);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.hideCategory(this.currentWalkthrough?.id);\n\t\t\tthis.scrollPrev();\n\t\t} else {\n\t\t\tthrow Error('No walkthrough opened');\n\t\t}\n\t}\n\n\tprivate toggleStepCompletion(argument: string) {\n\t\tconst stepToggle = assertReturnsDefined(this.currentWalkthrough?.steps.find(step => step.id === argument));\n\t\tif (stepToggle.done) {\n\t\t\tthis.gettingStartedService.deprogressStep(argument);\n\t\t} else {\n\t\t\tthis.gettingStartedService.progressStep(argument);\n\t\t}\n\t}\n\n\tprivate async openWalkthroughSelector() {\n\t\tconst selection = await this.quickInputService.pick(this.gettingStartedCategories\n\t\t\t.filter(c => this.contextService.contextMatchesRules(c.when))\n\t\t\t.map(x => ({\n\t\t\t\tid: x.id,\n\t\t\t\tlabel: x.title,\n\t\t\t\tdetail: x.description,\n\t\t\t\tdescription: x.source,\n\t\t\t})), { canPickMany: false, matchOnDescription: true, matchOnDetail: true, title: localize('pickWalkthroughs', \"Open Walkthrough...\") });\n\t\tif (selection) {\n\t\t\tthis.runDispatchCommand('selectCategory', selection.id);\n\t\t}\n\t}\n\n\tprivate getHiddenCategories(): Set<string> {\n\t\treturn new Set(JSON.parse(this.storageService.get(hiddenEntriesConfigurationKey, StorageScope.PROFILE, '[]')));\n\t}\n\n\tprivate setHiddenCategories(hidden: string[]) {\n\t\tthis.storageService.store(\n\t\t\thiddenEntriesConfigurationKey,\n\t\t\tJSON.stringify(hidden),\n\t\t\tStorageScope.PROFILE,\n\t\t\tStorageTarget.USER);\n\t}\n\n\tprivate currentMediaComponent: string | undefined = undefined;\n\tprivate currentMediaType: string | undefined = undefined;\n\tprivate async buildMediaComponent(stepId: string, forceRebuild: boolean = false) {\n\t\tif (!this.currentWalkthrough) {\n\t\t\tthrow Error('no walkthrough selected');\n\t\t}\n\t\tconst stepToExpand = assertReturnsDefined(this.currentWalkthrough.steps.find(step => step.id === stepId));\n\n\t\tif (!forceRebuild && this.currentMediaComponent === stepId) { return; }\n\t\tthis.currentMediaComponent = stepId;\n\n\t\tthis.stepDisposables.clear();\n\n\t\tthis.stepDisposables.add({\n\t\t\tdispose: () => {\n\t\t\t\tthis.currentMediaComponent = undefined;\n\t\t\t}\n\t\t});\n\n\t\tif (this.currentMediaType !== stepToExpand.media.type) {\n\t\t\tthis.mediaDisposables.clear();\n\n\t\t\tthis.currentMediaType = stepToExpand.media.type;\n\n\t\t\tthis.mediaDisposables.add(toDisposable(() => {\n\t\t\t\tthis.currentMediaType = undefined;\n\t\t\t}));\n\n\t\t\tclearNode(this.stepMediaComponent);\n\n\t\t\tif (stepToExpand.media.type === 'svg') {\n\t\t\t\tthis.webview = this.mediaDisposables.add(this.webviewService.createWebviewElement({ title: undefined, options: { disableServiceWorker: true }, contentOptions: {}, extension: undefined }));\n\t\t\t\tthis.webview.mountTo(this.stepMediaComponent, this.window);\n\t\t\t} else if (stepToExpand.media.type === 'markdown') {\n\t\t\t\tthis.webview = this.mediaDisposables.add(this.webviewService.createWebviewElement({ options: {}, contentOptions: { localResourceRoots: [stepToExpand.media.root], allowScripts: true }, title: '', extension: undefined }));\n\t\t\t\tthis.webview.mountTo(this.stepMediaComponent, this.window);\n\t\t\t} else if (stepToExpand.media.type === 'video') {\n\t\t\t\tthis.webview = this.mediaDisposables.add(this.webviewService.createWebviewElement({ options: {}, contentOptions: { localResourceRoots: [stepToExpand.media.root], allowScripts: true }, title: '', extension: undefined }));\n\t\t\t\tthis.webview.mountTo(this.stepMediaComponent, this.window);\n\t\t\t}\n\t\t}\n\n\t\tif (stepToExpand.media.type === 'image') {\n\n\t\t\tthis.stepsContent.classList.add('image');\n\t\t\tthis.stepsContent.classList.remove('markdown');\n\t\t\tthis.stepsContent.classList.remove('video');\n\n\t\t\tconst media = stepToExpand.media;\n\t\t\tconst mediaElement = $<HTMLImageElement>('img');\n\t\t\tclearNode(this.stepMediaComponent);\n\t\t\tthis.stepMediaComponent.appendChild(mediaElement);\n\t\t\tmediaElement.setAttribute('alt', media.altText);\n\t\t\tthis.updateMediaSourceForColorMode(mediaElement, media.path);\n\n\t\t\tthis.stepDisposables.add(addDisposableListener(this.stepMediaComponent, 'click', () => {\n\t\t\t\tconst hrefs = stepToExpand.description.map(lt => lt.nodes.filter((node): node is ILink => typeof node !== 'string').map(node => node.href)).flat();\n\t\t\t\tif (hrefs.length === 1) {\n\t\t\t\t\tconst href = hrefs[0];\n\t\t\t\t\tif (href.startsWith('http')) {\n\t\t\t\t\t\tthis.telemetryService.publicLog2<GettingStartedActionEvent, GettingStartedActionClassification>('gettingStarted.ActionExecuted', { command: 'runStepAction', argument: href, walkthroughId: this.currentWalkthrough?.id });\n\t\t\t\t\t\tthis.openerService.open(href);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\tthis.stepDisposables.add(this.themeService.onDidColorThemeChange(() => this.updateMediaSourceForColorMode(mediaElement, media.path)));\n\n\t\t}\n\t\telse if (stepToExpand.media.type === 'svg') {\n\t\t\tthis.stepsContent.classList.add('image');\n\t\t\tthis.stepsContent.classList.remove('markdown');\n\t\t\tthis.stepsContent.classList.remove('video');\n\n\t\t\tconst media = stepToExpand.media;\n\t\t\tthis.webview.setHtml(await this.detailsRenderer.renderSVG(media.path));\n\n\t\t\tlet isDisposed = false;\n\t\t\tthis.stepDisposables.add(toDisposable(() => { isDisposed = true; }));\n\n\t\t\tthis.stepDisposables.add(this.themeService.onDidColorThemeChange(async () => {\n\t\t\t\t// Render again since color vars change\n\t\t\t\tconst body = await this.detailsRenderer.renderSVG(media.path);\n\t\t\t\tif (!isDisposed) { // Make sure we weren't disposed of in the meantime\n\t\t\t\t\tthis.webview.setHtml(body);\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\tthis.stepDisposables.add(addDisposableListener(this.stepMediaComponent, 'click', () => {\n\t\t\t\tconst hrefs = stepToExpand.description.map(lt => lt.nodes.filter((node): node is ILink => typeof node !== 'string').map(node => node.href)).flat();\n\t\t\t\tif (hrefs.length === 1) {\n\t\t\t\t\tconst href = hrefs[0];\n\t\t\t\t\tif (href.startsWith('http')) {\n\t\t\t\t\t\tthis.telemetryService.publicLog2<GettingStartedActionEvent, GettingStartedActionClassification>('gettingStarted.ActionExecuted', { command: 'runStepAction', argument: href, walkthroughId: this.currentWalkthrough?.id });\n\t\t\t\t\t\tthis.openerService.open(href);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\tthis.stepDisposables.add(this.webview.onDidClickLink(link => {\n\t\t\t\tif (matchesScheme(link, Schemas.https) || matchesScheme(link, Schemas.http) || (matchesScheme(link, Schemas.command))) {\n\t\t\t\t\tthis.openerService.open(link, { allowCommands: true });\n\t\t\t\t}\n\t\t\t}));\n\n\t\t}\n\t\telse if (stepToExpand.media.type === 'markdown') {\n\n\t\t\tthis.stepsContent.classList.remove('image');\n\t\t\tthis.stepsContent.classList.add('markdown');\n\t\t\tthis.stepsContent.classList.remove('video');\n\n\t\t\tconst media = stepToExpand.media;\n\n\t\t\tconst rawHTML = await this.detailsRenderer.renderMarkdown(media.path, media.base);\n\t\t\tthis.webview.setHtml(rawHTML);\n\n\t\t\tconst serializedContextKeyExprs = rawHTML.match(/checked-on=\\\"([^'][^\"]*)\\\"/g)?.map(attr => attr.slice('checked-on=\"'.length, -1)\n\t\t\t\t.replace(/&#39;/g, '\\'')\n\t\t\t\t.replace(/&amp;/g, '&'));\n\n\t\t\tconst postTrueKeysMessage = () => {\n\t\t\t\tconst enabledContextKeys = serializedContextKeyExprs?.filter(expr => this.contextService.contextMatchesRules(ContextKeyExpr.deserialize(expr)));\n\t\t\t\tif (enabledContextKeys) {\n\t\t\t\t\tthis.webview.postMessage({\n\t\t\t\t\t\tenabledContextKeys\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif (serializedContextKeyExprs) {\n\t\t\t\tconst contextKeyExprs = coalesce(serializedContextKeyExprs.map(expr => ContextKeyExpr.deserialize(expr)));\n\t\t\t\tconst watchingKeys = new Set(contextKeyExprs.flatMap(expr => expr.keys()));\n\n\t\t\t\tthis.stepDisposables.add(this.contextService.onDidChangeContext(e => {\n\t\t\t\t\tif (e.affectsSome(watchingKeys)) { postTrueKeysMessage(); }\n\t\t\t\t}));\n\t\t\t}\n\n\t\t\tlet isDisposed = false;\n\t\t\tthis.stepDisposables.add(toDisposable(() => { isDisposed = true; }));\n\n\t\t\tthis.stepDisposables.add(this.webview.onDidClickLink(link => {\n\t\t\t\tif (matchesScheme(link, Schemas.https) || matchesScheme(link, Schemas.http) || (matchesScheme(link, Schemas.command))) {\n\t\t\t\t\tconst toSide = link.startsWith('command:toSide:');\n\t\t\t\t\tif (toSide) {\n\t\t\t\t\t\tlink = link.replace('command:toSide:', 'command:');\n\t\t\t\t\t\tthis.focusSideEditorGroup();\n\t\t\t\t\t}\n\t\t\t\t\tthis.openerService.open(link, { allowCommands: true, openToSide: toSide });\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\tif (rawHTML.indexOf('<code>') >= 0) {\n\t\t\t\t// Render again when Theme changes since syntax highlighting of code blocks may have changed\n\t\t\t\tthis.stepDisposables.add(this.themeService.onDidColorThemeChange(async () => {\n\t\t\t\t\tconst body = await this.detailsRenderer.renderMarkdown(media.path, media.base);\n\t\t\t\t\tif (!isDisposed) { // Make sure we weren't disposed of in the meantime\n\t\t\t\t\t\tthis.webview.setHtml(body);\n\t\t\t\t\t\tpostTrueKeysMessage();\n\t\t\t\t\t}\n\t\t\t\t}));\n\t\t\t}\n\n\t\t\tconst layoutDelayer = new Delayer(50);\n\n\t\t\tthis.layoutMarkdown = () => {\n\t\t\t\tlayoutDelayer.trigger(() => {\n\t\t\t\t\tthis.webview.postMessage({ layoutMeNow: true });\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tthis.stepDisposables.add(layoutDelayer);\n\t\t\tthis.stepDisposables.add({ dispose: () => this.layoutMarkdown = undefined });\n\n\t\t\tpostTrueKeysMessage();\n\n\t\t\tthis.stepDisposables.add(this.webview.onMessage(async e => {\n\t\t\t\tconst message: string = e.message as string;\n\t\t\t\tif (message.startsWith('command:')) {\n\t\t\t\t\tthis.openerService.open(message, { allowCommands: true });\n\t\t\t\t} else if (message.startsWith('setTheme:')) {\n\t\t\t\t\tconst themeId = message.slice('setTheme:'.length);\n\t\t\t\t\tconst theme = (await this.themeService.getColorThemes()).find(theme => theme.settingsId === themeId);\n\t\t\t\t\tif (theme) {\n\t\t\t\t\t\tthis.themeService.setColorTheme(theme.id, ConfigurationTarget.USER);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error('Unexpected message', message);\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t\telse if (stepToExpand.media.type === 'video') {\n\t\t\tthis.stepsContent.classList.add('video');\n\t\t\tthis.stepsContent.classList.remove('markdown');\n\t\t\tthis.stepsContent.classList.remove('image');\n\n\t\t\tconst media = stepToExpand.media;\n\n\t\t\tconst themeType = this.themeService.getColorTheme().type;\n\t\t\tconst videoPath = media.path[themeType];\n\t\t\tconst videoPoster = media.poster ? media.poster[themeType] : undefined;\n\t\t\tconst altText = media.altText ? media.altText : localize('videoAltText', \"Video for {0}\", stepToExpand.title);\n\t\t\tconst rawHTML = await this.detailsRenderer.renderVideo(videoPath, videoPoster, altText);\n\t\t\tthis.webview.setHtml(rawHTML);\n\n\t\t\tlet isDisposed = false;\n\t\t\tthis.stepDisposables.add(toDisposable(() => { isDisposed = true; }));\n\n\t\t\tthis.stepDisposables.add(this.themeService.onDidColorThemeChange(async () => {\n\t\t\t\t// Render again since color vars change\n\t\t\t\tconst themeType = this.themeService.getColorTheme().type;\n\t\t\t\tconst videoPath = media.path[themeType];\n\t\t\t\tconst videoPoster = media.poster ? media.poster[themeType] : undefined;\n\t\t\t\tconst body = await this.detailsRenderer.renderVideo(videoPath, videoPoster, altText);\n\n\t\t\t\tif (!isDisposed) { // Make sure we weren't disposed of in the meantime\n\t\t\t\t\tthis.webview.setHtml(body);\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t}\n\n\tasync selectStepLoose(id: string) {\n\t\t// Allow passing in id with a category appended or with just the id of the step\n\t\tif (id.startsWith(`${this.editorInput.selectedCategory}#`)) {\n\t\t\tthis.selectStep(id);\n\t\t} else {\n\t\t\tconst toSelect = this.editorInput.selectedCategory + '#' + id;\n\t\t\tthis.selectStep(toSelect);\n\t\t}\n\t}\n\n\tprivate provideScreenReaderUpdate(): string {\n\t\tif (this.configurationService.getValue(AccessibilityVerbositySettingId.Walkthrough)) {\n\t\t\tconst kbLabel = this.keybindingService.lookupKeybinding(AccessibleViewAction.id)?.getAriaLabel();\n\t\t\treturn kbLabel ? localize('acessibleViewHint', \"Inspect this in the accessible view ({0}).\\n\", kbLabel) : localize('acessibleViewHintNoKbOpen', \"Inspect this in the accessible view via the command Open Accessible View which is currently not triggerable via keybinding.\\n\");\n\t\t}\n\t\treturn '';\n\t}\n\n\tprivate async selectStep(id: string | undefined, delayFocus = true) {\n\t\tif (id) {\n\t\t\t// eslint-disable-next-line no-restricted-syntax\n\t\t\tlet stepElement = this.container.querySelector<HTMLDivElement>(`[data-step-id=\"${id}\"]`);\n\t\t\tif (!stepElement) {\n\t\t\t\t// Selected an element that is not in-context, just fallback to whatever.\n\t\t\t\t// eslint-disable-next-line no-restricted-syntax\n\t\t\t\tstepElement = this.container.querySelector<HTMLDivElement>(`[data-step-id]`);\n\t\t\t\tif (!stepElement) {\n\t\t\t\t\t// No steps around... just ignore.\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tid = assertReturnsDefined(stepElement.getAttribute('data-step-id'));\n\t\t\t}\n\t\t\t// eslint-disable-next-line no-restricted-syntax\n\t\t\tstepElement.parentElement?.querySelectorAll<HTMLElement>('.expanded').forEach(node => {\n\t\t\t\tif (node.getAttribute('data-step-id') !== id) {\n\t\t\t\t\tnode.classList.remove('expanded');\n\t\t\t\t\tnode.setAttribute('aria-expanded', 'false');\n\t\t\t\t\t// eslint-disable-next-line no-restricted-syntax\n\t\t\t\t\tconst codiconElement = node.querySelector('.codicon');\n\t\t\t\t\tif (codiconElement) {\n\t\t\t\t\t\tcodiconElement.removeAttribute('tabindex');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tsetTimeout(() => (stepElement as HTMLElement).focus(), delayFocus && this.shouldAnimate() ? SLIDE_TRANSITION_TIME_MS : 0);\n\n\t\t\tthis.editorInput.selectedStep = id;\n\n\t\t\tstepElement.classList.add('expanded');\n\t\t\tstepElement.setAttribute('aria-expanded', 'true');\n\t\t\tthis.buildMediaComponent(id, true);\n\t\t\t// eslint-disable-next-line no-restricted-syntax\n\t\t\tconst codiconElement = stepElement.querySelector('.codicon');\n\t\t\tif (codiconElement) {\n\t\t\t\tcodiconElement.setAttribute('tabindex', '0');\n\t\t\t}\n\t\t\tthis.gettingStartedService.progressByEvent('stepSelected:' + id);\n\t\t\tconst step = this.currentWalkthrough?.steps?.find(step => step.id === id);\n\t\t\tif (step) {\n\t\t\t\tstepElement.setAttribute('aria-label', `${this.provideScreenReaderUpdate()} ${step.title}`);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.editorInput.selectedStep = undefined;\n\t\t}\n\n\t\tthis.detailsPageScrollbar?.scanDomNode();\n\t\tthis.detailsScrollbar?.scanDomNode();\n\t}\n\n\tprivate updateMediaSourceForColorMode(element: HTMLImageElement, sources: { hcDark: URI; hcLight: URI; dark: URI; light: URI }) {\n\t\tconst themeType = this.themeService.getColorTheme().type;\n\t\tconst src = sources[themeType].toString(true).replace(/ /g, '%20');\n\t\telement.srcset = src.toLowerCase().endsWith('.svg') ? src : (src + ' 1.5x');\n\t}\n\n\tprotected createEditor(parent: HTMLElement) {\n\t\tif (this.detailsPageScrollbar) { this.detailsPageScrollbar.dispose(); }\n\t\tif (this.categoriesPageScrollbar) { this.categoriesPageScrollbar.dispose(); }\n\n\t\tthis.categoriesSlide = $('.gettingStartedSlideCategories.gettingStartedSlide');\n\n\t\tconst prevButton = $('button.prev-button.button-link', { 'x-dispatch': 'scrollPrev' }, $('span.scroll-button.codicon.codicon-chevron-left'), $('span.moreText', {}, localize('goBack', \"Go Back\")));\n\t\tthis.stepsSlide = $('.gettingStartedSlideDetails.gettingStartedSlide', {}, prevButton);\n\n\t\tthis.stepsContent = $('.gettingStartedDetailsContent', {});\n\n\t\tthis.detailsPageScrollbar = this._register(new DomScrollableElement(this.stepsContent, { className: 'full-height-scrollable', vertical: ScrollbarVisibility.Hidden }));\n\t\tthis.categoriesPageScrollbar = this._register(new DomScrollableElement(this.categoriesSlide, { className: 'full-height-scrollable categoriesScrollbar', vertical: ScrollbarVisibility.Hidden }));\n\n\t\tthis.stepsSlide.appendChild(this.detailsPageScrollbar.getDomNode());\n\n\t\tconst gettingStartedPage = $('.gettingStarted', {}, this.categoriesPageScrollbar.getDomNode(), this.stepsSlide);\n\t\tthis.container.appendChild(gettingStartedPage);\n\n\t\tthis.categoriesPageScrollbar.scanDomNode();\n\t\tthis.detailsPageScrollbar.scanDomNode();\n\n\t\tparent.appendChild(this.container);\n\t}\n\n\tprivate async buildCategoriesSlide() {\n\n\t\tthis.categoriesSlideDisposables.clear();\n\t\tconst showOnStartupCheckbox = new Toggle({\n\t\t\ticon: Codicon.check,\n\t\t\tactionClassName: 'getting-started-checkbox',\n\t\t\tisChecked: this.configurationService.getValue(configurationKey) === 'welcomePage',\n\t\t\ttitle: localize('checkboxTitle', \"When checked, this page will be shown on startup.\"),\n\t\t\t...defaultToggleStyles\n\t\t});\n\t\tshowOnStartupCheckbox.domNode.id = 'showOnStartup';\n\t\tconst showOnStartupLabel = $('label.caption', { for: 'showOnStartup' }, localize('welcomePage.showOnStartup', \"Show welcome page on startup\"));\n\t\tconst onShowOnStartupChanged = () => {\n\t\t\tif (showOnStartupCheckbox.checked) {\n\t\t\t\tthis.telemetryService.publicLog2<GettingStartedActionEvent, GettingStartedActionClassification>('gettingStarted.ActionExecuted', { command: 'showOnStartupChecked', argument: undefined, walkthroughId: this.currentWalkthrough?.id });\n\t\t\t\tthis.configurationService.updateValue(configurationKey, 'welcomePage');\n\t\t\t} else {\n\t\t\t\tthis.telemetryService.publicLog2<GettingStartedActionEvent, GettingStartedActionClassification>('gettingStarted.ActionExecuted', { command: 'showOnStartupUnchecked', argument: undefined, walkthroughId: this.currentWalkthrough?.id });\n\t\t\t\tthis.configurationService.updateValue(configurationKey, 'none');\n\t\t\t}\n\t\t};\n\t\tthis.categoriesSlideDisposables.add(showOnStartupCheckbox);\n\t\tthis.categoriesSlideDisposables.add(showOnStartupCheckbox.onChange(() => {\n\t\t\tonShowOnStartupChanged();\n\t\t}));\n\t\tthis.categoriesSlideDisposables.add(addDisposableListener(showOnStartupLabel, 'click', () => {\n\t\t\tshowOnStartupCheckbox.checked = !showOnStartupCheckbox.checked;\n\t\t\tonShowOnStartupChanged();\n\t\t}));\n\n\t\tconst header = $('.header', {},\n\t\t\t$('h1.product-name.caption', {}, this.productService.nameLong),\n\t\t\t$('p.subtitle.description', {}, localize({ key: 'gettingStarted.editingEvolved', comment: ['Shown as subtitle on the Welcome page.'] }, \"Editing evolved\"))\n\t\t);\n\n\t\tconst leftColumn = $('.categories-column.categories-column-left', {},);\n\t\tconst rightColumn = $('.categories-column.categories-column-right', {},);\n\n\t\tconst startList = this.buildStartList();\n\t\tconst recentList = this.buildRecentlyOpenedList();\n\t\tconst gettingStartedList = this.buildGettingStartedWalkthroughsList();\n\n\t\tconst footer = $('.footer', {},\n\t\t\t$('p.showOnStartup', {},\n\t\t\t\tshowOnStartupCheckbox.domNode,\n\t\t\t\tshowOnStartupLabel,\n\t\t\t));\n\n\t\tconst layoutLists = () => {\n\t\t\tif (gettingStartedList.itemCount) {\n\t\t\t\tthis.container.classList.remove('noWalkthroughs');\n\t\t\t\treset(rightColumn, gettingStartedList.getDomElement());\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.container.classList.add('noWalkthroughs');\n\t\t\t\treset(rightColumn);\n\t\t\t}\n\t\t\tsetTimeout(() => this.categoriesPageScrollbar?.scanDomNode(), 50);\n\t\t\tlayoutRecentList();\n\t\t};\n\n\t\tconst layoutRecentList = () => {\n\t\t\tif (this.container.classList.contains('noWalkthroughs')) {\n\t\t\t\trecentList.setLimit(10);\n\t\t\t\treset(leftColumn, startList.getDomElement());\n\t\t\t\treset(rightColumn, recentList.getDomElement());\n\t\t\t} else {\n\t\t\t\trecentList.setLimit(5);\n\t\t\t\treset(leftColumn, startList.getDomElement(), recentList.getDomElement());\n\t\t\t}\n\t\t};\n\n\t\tgettingStartedList.onDidChange(layoutLists);\n\t\tlayoutLists();\n\n\t\treset(this.categoriesSlide, $('.gettingStartedCategoriesContainer', {}, header, leftColumn, rightColumn, footer,));\n\t\tthis.categoriesPageScrollbar?.scanDomNode();\n\n\t\tthis.updateCategoryProgress();\n\t\tthis.registerDispatchListeners();\n\n\t\tif (this.editorInput?.selectedCategory) {\n\t\t\tthis.currentWalkthrough = this.gettingStartedCategories.find(category => category.id === this.editorInput.selectedCategory);\n\n\t\t\tif (!this.currentWalkthrough) {\n\t\t\t\tthis.gettingStartedCategories = this.gettingStartedService.getWalkthroughs();\n\t\t\t\tthis.currentWalkthrough = this.gettingStartedCategories.find(category => category.id === this.editorInput.selectedCategory);\n\t\t\t\tif (this.currentWalkthrough) {\n\t\t\t\t\tthis.buildCategorySlide(this.editorInput.selectedCategory, this.editorInput.selectedStep);\n\t\t\t\t\tthis.setSlide('details');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.buildCategorySlide(this.editorInput.selectedCategory, this.editorInput.selectedStep);\n\t\t\t\tthis.setSlide('details');\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (this.editorInput?.showTelemetryNotice && this.productService.openToWelcomeMainPage) {\n\t\t\tconst telemetryNotice = $('p.telemetry-notice');\n\t\t\tthis.buildTelemetryFooter(telemetryNotice);\n\t\t\tfooter.appendChild(telemetryNotice);\n\t\t} else if (!this.productService.openToWelcomeMainPage && this.showFeaturedWalkthrough && this.storageService.isNew(StorageScope.APPLICATION)) {\n\t\t\tconst firstSessionDateString = this.storageService.get(firstSessionDateStorageKey, StorageScope.APPLICATION) || new Date().toUTCString();\n\t\t\tconst daysSinceFirstSession = ((+new Date()) - (+new Date(firstSessionDateString))) / 1000 / 60 / 60 / 24;\n\t\t\tconst fistContentBehaviour = daysSinceFirstSession < 1 ? 'openToFirstCategory' : 'index';\n\n\t\t\tif (fistContentBehaviour === 'openToFirstCategory') {\n\t\t\t\tconst first = this.gettingStartedCategories.filter(c => !c.when || this.contextService.contextMatchesRules(c.when))[0];\n\t\t\t\tif (first && this.editorInput) {\n\t\t\t\t\tthis.currentWalkthrough = first;\n\t\t\t\t\tthis.editorInput.selectedCategory = this.currentWalkthrough?.id;\n\t\t\t\t\tthis.editorInput.walkthroughPageTitle = this.currentWalkthrough.walkthroughPageTitle;\n\t\t\t\t\tthis.buildCategorySlide(this.editorInput.selectedCategory, undefined);\n\t\t\t\t\tthis.setSlide('details', true /* firstLaunch */);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.setSlide('categories');\n\t}\n\n\tprivate buildRecentlyOpenedList(): GettingStartedIndexList<RecentEntry> {\n\t\tconst renderRecent = (recent: RecentEntry) => {\n\t\t\tlet fullPath: string;\n\t\t\tlet windowOpenable: IWindowOpenable;\n\t\t\tif (isRecentFolder(recent)) {\n\t\t\t\twindowOpenable = { folderUri: recent.folderUri };\n\t\t\t\tfullPath = recent.label || this.labelService.getWorkspaceLabel(recent.folderUri, { verbose: Verbosity.LONG });\n\t\t\t} else {\n\t\t\t\tfullPath = recent.label || this.labelService.getWorkspaceLabel(recent.workspace, { verbose: Verbosity.LONG });\n\t\t\t\twindowOpenable = { workspaceUri: recent.workspace.configPath };\n\t\t\t}\n\n\t\t\tconst { name, parentPath } = splitRecentLabel(fullPath);\n\n\t\t\tconst li = $('li');\n\t\t\tconst link = $('button.button-link');\n\n\t\t\tlink.innerText = name;\n\t\t\tlink.title = fullPath;\n\t\t\tlink.setAttribute('aria-label', localize('welcomePage.openFolderWithPath', \"Open folder {0} with path {1}\", name, parentPath));\n\t\t\tlink.addEventListener('click', e => {\n\t\t\t\tthis.telemetryService.publicLog2<GettingStartedActionEvent, GettingStartedActionClassification>('gettingStarted.ActionExecuted', { command: 'openRecent', argument: undefined, walkthroughId: this.currentWalkthrough?.id });\n\t\t\t\tthis.hostService.openWindow([windowOpenable], {\n\t\t\t\t\tforceNewWindow: e.ctrlKey || e.metaKey,\n\t\t\t\t\tremoteAuthority: recent.remoteAuthority || null // local window if remoteAuthority is not set or can not be deducted from the openable\n\t\t\t\t});\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t\tli.appendChild(link);\n\n\t\t\tconst span = $('span');\n\t\t\tspan.classList.add('path');\n\t\t\tspan.classList.add('detail');\n\t\t\tspan.innerText = parentPath;\n\t\t\tspan.title = fullPath;\n\t\t\tli.appendChild(span);\n\n\t\t\treturn li;\n\t\t};\n\n\t\tif (this.recentlyOpenedList) { this.recentlyOpenedList.dispose(); }\n\n\t\tconst recentlyOpenedList = this.recentlyOpenedList = new GettingStartedIndexList(\n\t\t\t{\n\t\t\t\ttitle: localize('recent', \"Recent\"),\n\t\t\t\tklass: 'recently-opened',\n\t\t\t\tlimit: 5,\n\t\t\t\tempty: $('.empty-recent', {},\n\t\t\t\t\tlocalize('noRecents', \"You have no recent folders,\"),\n\t\t\t\t\t$('button.button-link', { 'x-dispatch': 'openFolder' }, localize('openFolder', \"open a folder\")),\n\t\t\t\t\tlocalize('toStart', \"to start.\")),\n\n\t\t\t\tmore: $('.more', {},\n\t\t\t\t\t$('button.button-link',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'x-dispatch': 'showMoreRecents',\n\t\t\t\t\t\t\ttitle: localize('show more recents', \"Show All Recent Folders {0}\", this.getKeybindingLabel(OpenRecentAction.ID))\n\t\t\t\t\t\t}, localize('showAll', \"More...\"))),\n\t\t\t\trenderElement: renderRecent,\n\t\t\t\tcontextService: this.contextService\n\t\t\t});\n\n\t\trecentlyOpenedList.onDidChange(() => this.registerDispatchListeners());\n\t\tthis.recentlyOpened.then(({ workspaces }) => {\n\t\t\t// Filter out the current workspace\n\t\t\tconst workspacesWithID = workspaces\n\t\t\t\t.filter(recent => !this.workspaceContextService.isCurrentWorkspace(isRecentWorkspace(recent) ? recent.workspace : recent.folderUri))\n\t\t\t\t.map(recent => ({ ...recent, id: isRecentWorkspace(recent) ? recent.workspace.id : recent.folderUri.toString() }));\n\n\t\t\tconst updateEntries = () => {\n\t\t\t\trecentlyOpenedList.setEntries(workspacesWithID);\n\t\t\t};\n\n\t\t\tupdateEntries();\n\t\t\trecentlyOpenedList.register(this.labelService.onDidChangeFormatters(() => updateEntries()));\n\t\t}).catch(onUnexpectedError);\n\n\t\treturn recentlyOpenedList;\n\t}\n\n\tprivate buildStartList(): GettingStartedIndexList<IWelcomePageStartEntry> {\n\t\tconst renderStartEntry = (entry: IWelcomePageStartEntry): HTMLElement =>\n\t\t\t$('li',\n\t\t\t\t{}, $('button.button-link',\n\t\t\t\t\t{\n\t\t\t\t\t\t'x-dispatch': 'selectStartEntry:' + entry.id,\n\t\t\t\t\t\ttitle: entry.description + ' ' + this.getKeybindingLabel(entry.command),\n\t\t\t\t\t},\n\t\t\t\t\tthis.iconWidgetFor(entry),\n\t\t\t\t\t$('span', {}, entry.title)));\n\n\t\tif (this.startList) { this.startList.dispose(); }\n\n\t\tconst startList = this.startList = new GettingStartedIndexList(\n\t\t\t{\n\t\t\t\ttitle: localize('start', \"Start\"),\n\t\t\t\tklass: 'start-container',\n\t\t\t\tlimit: 10,\n\t\t\t\trenderElement: renderStartEntry,\n\t\t\t\trankElement: e => -e.order,\n\t\t\t\tcontextService: this.contextService\n\t\t\t});\n\n\t\tstartList.setEntries(parsedStartEntries);\n\t\tstartList.onDidChange(() => this.registerDispatchListeners());\n\t\treturn startList;\n\t}\n\n\tprivate buildGettingStartedWalkthroughsList(): GettingStartedIndexList<IResolvedWalkthrough> {\n\n\t\tconst renderGetttingStaredWalkthrough = (category: IResolvedWalkthrough): HTMLElement => {\n\n\t\t\tconst renderNewBadge = (category.newItems || category.newEntry) && !category.isFeatured;\n\t\t\tconst newBadge = $('.new-badge', {});\n\t\t\tif (category.newEntry) {\n\t\t\t\treset(newBadge, $('.new-category', {}, localize('new', \"New\")));\n\t\t\t} else if (category.newItems) {\n\t\t\t\treset(newBadge, $('.new-items', {}, localize({ key: 'newItems', comment: ['Shown when a list of items has changed based on an update from a remote source'] }, \"Updated\")));\n\t\t\t}\n\n\t\t\tconst featuredBadge = $('.featured-badge', {});\n\t\t\tconst descriptionContent = $('.description-content', {},);\n\n\t\t\tif (category.isFeatured && this.showFeaturedWalkthrough) {\n\t\t\t\treset(featuredBadge, $('.featured', {}, $('span.featured-icon.codicon.codicon-star-full')));\n\t\t\t\treset(descriptionContent, ...renderLabelWithIcons(category.description));\n\t\t\t}\n\n\t\t\tconst titleContent = $('h3.category-title.max-lines-3', { 'x-category-title-for': category.id });\n\t\t\treset(titleContent, ...renderLabelWithIcons(category.title));\n\n\t\t\treturn $('button.getting-started-category' + (category.isFeatured && this.showFeaturedWalkthrough ? '.featured' : ''),\n\t\t\t\t{\n\t\t\t\t\t'x-dispatch': 'selectCategory:' + category.id,\n\t\t\t\t\t'title': category.description\n\t\t\t\t},\n\t\t\t\tfeaturedBadge,\n\t\t\t\t$('.main-content', {},\n\t\t\t\t\tthis.iconWidgetFor(category),\n\t\t\t\t\ttitleContent,\n\t\t\t\t\trenderNewBadge ? newBadge : $('.no-badge'),\n\t\t\t\t\t$('a.codicon.codicon-close.hide-category-button', {\n\t\t\t\t\t\t'tabindex': 0,\n\t\t\t\t\t\t'x-dispatch': 'hideCategory:' + category.id,\n\t\t\t\t\t\t'title': localize('close', \"Hide\"),\n\t\t\t\t\t\t'role': 'button',\n\t\t\t\t\t\t'aria-label': localize('closeAriaLabel', \"Hide\"),\n\t\t\t\t\t}),\n\t\t\t\t),\n\t\t\t\tdescriptionContent,\n\t\t\t\t$('.category-progress', { 'x-data-category-id': category.id, },\n\t\t\t\t\t$('.progress-bar-outer', { 'role': 'progressbar' },\n\t\t\t\t\t\t$('.progress-bar-inner'))));\n\t\t};\n\n\t\tif (this.gettingStartedList) { this.gettingStartedList.dispose(); }\n\n\t\tconst rankWalkthrough = (e: IResolvedWalkthrough) => {\n\t\t\tlet rank: number | null = e.order;\n\n\t\t\tif (e.isFeatured) { rank += 7; }\n\t\t\tif (e.newEntry) { rank += 3; }\n\t\t\tif (e.newItems) { rank += 2; }\n\t\t\tif (e.recencyBonus) { rank += 4 * e.recencyBonus; }\n\n\t\t\tif (this.getHiddenCategories().has(e.id)) { rank = null; }\n\t\t\treturn rank;\n\t\t};\n\n\t\tconst gettingStartedList = this.gettingStartedList = new GettingStartedIndexList(\n\t\t\t{\n\t\t\t\ttitle: localize('walkthroughs', \"Walkthroughs\"),\n\t\t\t\tklass: 'getting-started',\n\t\t\t\tlimit: 5,\n\t\t\t\tfooter: $('span.button-link.see-all-walkthroughs', { 'x-dispatch': 'seeAllWalkthroughs', 'tabindex': 0 }, localize('showAll', \"More...\")),\n\t\t\t\trenderElement: renderGetttingStaredWalkthrough,\n\t\t\t\trankElement: rankWalkthrough,\n\t\t\t\tcontextService: this.contextService,\n\t\t\t});\n\n\t\tgettingStartedList.onDidChange(() => {\n\t\t\tconst hidden = this.getHiddenCategories();\n\t\t\tconst someWalkthroughsHidden = hidden.size || gettingStartedList.itemCount < this.gettingStartedCategories.filter(c => this.contextService.contextMatchesRules(c.when)).length;\n\t\t\tthis.container.classList.toggle('someWalkthroughsHidden', !!someWalkthroughsHidden);\n\t\t\tthis.registerDispatchListeners();\n\t\t\tallWalkthroughsHiddenContext.bindTo(this.contextService).set(gettingStartedList.itemCount === 0);\n\t\t\tthis.updateCategoryProgress();\n\t\t});\n\n\t\tgettingStartedList.setEntries(this.gettingStartedCategories);\n\t\tallWalkthroughsHiddenContext.bindTo(this.contextService).set(gettingStartedList.itemCount === 0);\n\n\t\treturn gettingStartedList;\n\t}\n\n\tlayout(size: Dimension) {\n\t\tthis.detailsScrollbar?.scanDomNode();\n\n\t\tthis.categoriesPageScrollbar?.scanDomNode();\n\t\tthis.detailsPageScrollbar?.scanDomNode();\n\n\t\tthis.startList?.layout(size);\n\t\tthis.gettingStartedList?.layout(size);\n\t\tthis.recentlyOpenedList?.layout(size);\n\n\t\tif (this.editorInput?.selectedStep && this.currentMediaType) {\n\t\t\tthis.mediaDisposables.clear();\n\t\t\tthis.stepDisposables.clear();\n\t\t\tthis.buildMediaComponent(this.editorInput.selectedStep);\n\t\t}\n\n\t\tthis.layoutMarkdown?.();\n\n\t\tthis.container.classList.toggle('height-constrained', size.height <= 600);\n\t\tthis.container.classList.toggle('width-constrained', size.width <= 400);\n\t\tthis.container.classList.toggle('width-semi-constrained', size.width <= 950);\n\n\t\tthis.categoriesPageScrollbar?.scanDomNode();\n\t\tthis.detailsPageScrollbar?.scanDomNode();\n\t\tthis.detailsScrollbar?.scanDomNode();\n\t}\n\n\tprivate updateCategoryProgress() {\n\t\t// eslint-disable-next-line no-restricted-syntax\n\t\tthis.window.document.querySelectorAll('.category-progress').forEach(element => {\n\t\t\tconst categoryID = element.getAttribute('x-data-category-id');\n\t\t\tconst category = this.gettingStartedCategories.find(c => c.id === categoryID);\n\t\t\tif (!category) { throw Error('Could not find category with ID ' + categoryID); }\n\n\t\t\tconst stats = this.getWalkthroughCompletionStats(category);\n\n\t\t\t// eslint-disable-next-line no-restricted-syntax\n\t\t\tconst bar = assertReturnsDefined(element.querySelector('.progress-bar-inner')) as HTMLDivElement;\n\t\t\tbar.setAttribute('aria-valuemin', '0');\n\t\t\tbar.setAttribute('aria-valuenow', '' + stats.stepsComplete);\n\t\t\tbar.setAttribute('aria-valuemax', '' + stats.stepsTotal);\n\t\t\tconst progress = (stats.stepsComplete / stats.stepsTotal) * 100;\n\t\t\tbar.style.width = `${progress}%`;\n\n\t\t\t(element.parentElement as HTMLElement).classList.toggle('no-progress', stats.stepsComplete === 0);\n\n\t\t\tif (stats.stepsTotal === stats.stepsComplete) {\n\t\t\t\tbar.title = localize('gettingStarted.allStepsComplete', \"All {0} steps complete!\", stats.stepsComplete);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tbar.title = localize('gettingStarted.someStepsComplete', \"{0} of {1} steps complete\", stats.stepsComplete, stats.stepsTotal);\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate async scrollToCategory(categoryID: string, stepId?: string) {\n\n\t\tif (!this.gettingStartedCategories.some(c => c.id === categoryID)) {\n\t\t\tthis.gettingStartedCategories = this.gettingStartedService.getWalkthroughs();\n\t\t}\n\n\t\tconst ourCategory = this.gettingStartedCategories.find(c => c.id === categoryID);\n\t\tif (!ourCategory) {\n\t\t\tthrow Error('Could not find category with ID: ' + categoryID);\n\t\t}\n\n\t\tthis.inProgressScroll = this.inProgressScroll.then(async () => {\n\t\t\treset(this.stepsContent);\n\t\t\tthis.editorInput.selectedCategory = categoryID;\n\t\t\tthis.editorInput.selectedStep = stepId;\n\t\t\tthis.editorInput.walkthroughPageTitle = ourCategory.walkthroughPageTitle;\n\t\t\tthis.currentWalkthrough = ourCategory;\n\t\t\tthis.buildCategorySlide(categoryID, stepId);\n\t\t\tthis.setSlide('details');\n\t\t});\n\t}\n\n\tprivate iconWidgetFor(category: IResolvedWalkthrough | { icon: { type: 'icon'; icon: ThemeIcon } }) {\n\t\tconst widget = category.icon.type === 'icon' ? $(ThemeIcon.asCSSSelector(category.icon.icon)) : $('img.category-icon', { src: category.icon.path });\n\t\twidget.classList.add('icon-widget');\n\t\treturn widget;\n\t}\n\n\tprivate focusSideEditorGroup() {\n\t\tconst fullSize = this.groupsService.getPart(this.group).contentDimension;\n\t\tif (!fullSize || fullSize.width <= 700 || this.container.classList.contains('width-constrained') || this.container.classList.contains('width-semi-constrained')) { return; }\n\t\tif (this.groupsService.count === 1) {\n\t\t\tconst editorGroupSplitDirection = preferredSideBySideGroupDirection(this.configurationService);\n\t\t\tconst sideGroup = this.groupsService.addGroup(this.groupsService.groups[0], editorGroupSplitDirection);\n\t\t\tthis.groupsService.activateGroup(sideGroup);\n\t\t}\n\n\t\tconst nonGettingStartedGroup = this.groupsService.getGroups(GroupsOrder.MOST_RECENTLY_ACTIVE).find(group => !(group.activeEditor instanceof GettingStartedInput));\n\t\tif (nonGettingStartedGroup) {\n\t\t\tthis.groupsService.activateGroup(nonGettingStartedGroup);\n\t\t\tnonGettingStartedGroup.focus();\n\t\t}\n\t}\n\tprivate runStepCommand(href: string) {\n\n\t\tconst isCommand = href.startsWith('command:');\n\t\tconst toSide = href.startsWith('command:toSide:');\n\t\tconst command = href.replace(/command:(toSide:)?/, 'command:');\n\n\t\tthis.telemetryService.publicLog2<GettingStartedActionEvent, GettingStartedActionClassification>('gettingStarted.ActionExecuted', { command: 'runStepAction', argument: href, walkthroughId: this.currentWalkthrough?.id });\n\n\t\tif (toSide) {\n\t\t\tthis.focusSideEditorGroup();\n\t\t}\n\t\tif (isCommand) {\n\t\t\tconst commandURI = URI.parse(command);\n\n\t\t\t// execute as command\n\t\t\tlet args: any = [];\n\t\t\ttry {\n\t\t\t\targs = parse(decodeURIComponent(commandURI.query));\n\t\t\t} catch {\n\t\t\t\t// ignore and retry\n\t\t\t\ttry {\n\t\t\t\t\targs = parse(commandURI.query);\n\t\t\t\t} catch {\n\t\t\t\t\t// ignore error\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!Array.isArray(args)) {\n\t\t\t\targs = [args];\n\t\t\t}\n\n\t\t\t// If a step is requesting the OpenFolder action to be executed in an empty workspace...\n\t\t\tif ((commandURI.path === OpenFileFolderAction.ID.toString() ||\n\t\t\t\tcommandURI.path === OpenFolderAction.ID.toString()) &&\n\t\t\t\tthis.workspaceContextService.getWorkspace().folders.length === 0) {\n\n\t\t\t\tconst selectedStepIndex = this.currentWalkthrough?.steps.findIndex(step => step.id === this.editorInput.selectedStep);\n\n\t\t\t\t// and there are a few more steps after this step which are yet to be completed...\n\t\t\t\tif (selectedStepIndex !== undefined &&\n\t\t\t\t\tselectedStepIndex > -1 &&\n\t\t\t\t\tthis.currentWalkthrough?.steps.slice(selectedStepIndex + 1).some(step => !step.done)) {\n\t\t\t\t\tconst restoreData: RestoreWalkthroughsConfigurationValue = { folder: UNKNOWN_EMPTY_WINDOW_WORKSPACE.id, category: this.editorInput.selectedCategory, step: this.editorInput.selectedStep };\n\n\t\t\t\t\t// save state to restore after reload\n\t\t\t\t\tthis.storageService.store(\n\t\t\t\t\t\trestoreWalkthroughsConfigurationKey,\n\t\t\t\t\t\tJSON.stringify(restoreData),\n\t\t\t\t\t\tStorageScope.PROFILE, StorageTarget.MACHINE);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.commandService.executeCommand<any>(commandURI.path, ...args).then(result => {\n\t\t\t\tconst toOpen: URI = result?.openFolder;\n\t\t\t\tif (toOpen) {\n\t\t\t\t\tif (!URI.isUri(toOpen)) {\n\t\t\t\t\t\tconsole.warn('Warn: Running walkthrough command', href, 'yielded non-URI `openFolder` result', toOpen, '. It will be disregarded.');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tconst restoreData: RestoreWalkthroughsConfigurationValue = { folder: toOpen.toString(), category: this.editorInput.selectedCategory, step: this.editorInput.selectedStep };\n\t\t\t\t\tthis.storageService.store(\n\t\t\t\t\t\trestoreWalkthroughsConfigurationKey,\n\t\t\t\t\t\tJSON.stringify(restoreData),\n\t\t\t\t\t\tStorageScope.PROFILE, StorageTarget.MACHINE);\n\t\t\t\t\tthis.hostService.openWindow([{ folderUri: toOpen }]);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tthis.openerService.open(command, { allowCommands: true });\n\t\t}\n\n\t\tif (!isCommand && (href.startsWith('https://') || href.startsWith('http://'))) {\n\t\t\tthis.gettingStartedService.progressByEvent('onLink:' + href);\n\t\t}\n\t}\n\n\tprivate buildMarkdownDescription(container: HTMLElement, text: LinkedText[]) {\n\t\twhile (container.firstChild) { container.firstChild.remove(); }\n\n\t\tfor (const linkedText of text) {\n\t\t\tif (linkedText.nodes.length === 1 && typeof linkedText.nodes[0] !== 'string') {\n\t\t\t\tconst node = linkedText.nodes[0];\n\t\t\t\tconst buttonContainer = append(container, $('.button-container'));\n\t\t\t\tconst button = new Button(buttonContainer, { title: node.title, supportIcons: true, ...defaultButtonStyles });\n\n\t\t\t\tconst isCommand = node.href.startsWith('command:');\n\t\t\t\tconst command = node.href.replace(/command:(toSide:)?/, 'command:');\n\n\t\t\t\tbutton.label = node.label;\n\t\t\t\tbutton.onDidClick(e => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tthis.runStepCommand(node.href);\n\t\t\t\t}, null, this.detailsPageDisposables);\n\n\t\t\t\tif (isCommand) {\n\t\t\t\t\tconst keybinding = this.getKeyBinding(command);\n\t\t\t\t\tif (keybinding) {\n\t\t\t\t\t\tconst shortcutMessage = $('span.shortcut-message', {}, localize('gettingStarted.keyboardTip', 'Tip: Use keyboard shortcut '));\n\t\t\t\t\t\tcontainer.appendChild(shortcutMessage);\n\t\t\t\t\t\tconst label = new KeybindingLabel(shortcutMessage, OS, { ...defaultKeybindingLabelStyles });\n\t\t\t\t\t\tlabel.set(keybinding);\n\t\t\t\t\t\tthis.detailsPageDisposables.add(label);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.detailsPageDisposables.add(button);\n\t\t\t} else {\n\t\t\t\tconst p = append(container, $('p'));\n\t\t\t\tfor (const node of linkedText.nodes) {\n\t\t\t\t\tif (typeof node === 'string') {\n\t\t\t\t\t\tconst labelWithIcon = renderLabelWithIcons(node);\n\t\t\t\t\t\tfor (const element of labelWithIcon) {\n\t\t\t\t\t\t\tif (typeof element === 'string') {\n\t\t\t\t\t\t\t\tp.appendChild(renderFormattedText(element, { renderCodeSegments: true }, $('span')));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tp.appendChild(element);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst nodeWithTitle: ILink = matchesScheme(node.href, Schemas.http) || matchesScheme(node.href, Schemas.https) ? { ...node, title: node.href } : node;\n\t\t\t\t\t\tconst link = this.instantiationService.createInstance(Link, p, nodeWithTitle, { opener: (href) => this.runStepCommand(href) });\n\t\t\t\t\t\tthis.detailsPageDisposables.add(link);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn container;\n\t}\n\n\toverride clearInput() {\n\t\tthis.stepDisposables.clear();\n\t\tsuper.clearInput();\n\t}\n\n\tprivate buildCategorySlide(categoryID: string, selectedStep?: string) {\n\t\tif (this.detailsScrollbar) { this.detailsScrollbar.dispose(); }\n\n\t\tthis.extensionService.whenInstalledExtensionsRegistered().then(() => {\n\t\t\t// Remove internal extension id specifier from exposed id's\n\t\t\tthis.extensionService.activateByEvent(`onWalkthrough:${categoryID.replace(/[^#]+#/, '')}`);\n\t\t});\n\n\t\tthis.detailsPageDisposables.clear();\n\t\tthis.mediaDisposables.clear();\n\n\t\tconst category = this.gettingStartedCategories.find(category => category.id === categoryID);\n\t\tif (!category) {\n\t\t\tthrow Error('could not find category with ID ' + categoryID);\n\t\t}\n\n\t\tconst descriptionContainer = $('.category-description.description.max-lines-3', { 'x-category-description-for': category.id });\n\t\tthis.buildMarkdownDescription(descriptionContainer, parseDescription(category.description));\n\n\t\tconst categoryDescriptorComponent =\n\t\t\t$('.getting-started-category',\n\t\t\t\t{},\n\t\t\t\t$('.category-description-container', {},\n\t\t\t\t\t$('h2.category-title.max-lines-3', { 'x-category-title-for': category.id }, ...renderLabelWithIcons(category.title)),\n\t\t\t\t\tdescriptionContainer));\n\n\t\tconst stepListContainer = $('.step-list-container');\n\n\t\tthis.detailsPageDisposables.add(addDisposableListener(stepListContainer, 'keydown', (e) => {\n\t\t\tconst event = new StandardKeyboardEvent(e);\n\t\t\tconst currentStepIndex = () =>\n\t\t\t\tcategory.steps.findIndex(e => e.id === this.editorInput.selectedStep);\n\n\t\t\tif (event.keyCode === KeyCode.UpArrow) {\n\t\t\t\tconst toExpand = category.steps.filter((step, index) => index < currentStepIndex() && this.contextService.contextMatchesRules(step.when));\n\t\t\t\tif (toExpand.length) {\n\t\t\t\t\tthis.selectStep(toExpand[toExpand.length - 1].id, false);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (event.keyCode === KeyCode.DownArrow) {\n\t\t\t\tconst toExpand = category.steps.find((step, index) => index > currentStepIndex() && this.contextService.contextMatchesRules(step.when));\n\t\t\t\tif (toExpand) {\n\t\t\t\t\tthis.selectStep(toExpand.id, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tlet renderedSteps: IResolvedWalkthroughStep[] | undefined = undefined;\n\n\t\tconst contextKeysToWatch = new Set(category.steps.flatMap(step => step.when.keys()));\n\n\t\tconst buildStepList = () => {\n\n\t\t\tcategory.steps.sort((a, b) => a.order - b.order);\n\t\t\tconst toRender = category.steps\n\t\t\t\t.filter(step => this.contextService.contextMatchesRules(step.when));\n\n\t\t\tif (equals(renderedSteps, toRender, (a, b) => a.id === b.id)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\trenderedSteps = toRender;\n\n\t\t\treset(stepListContainer, ...renderedSteps\n\t\t\t\t.map(step => {\n\t\t\t\t\tconst codicon = $('.codicon' + (step.done ? '.complete' + ThemeIcon.asCSSSelector(gettingStartedCheckedCodicon) : ThemeIcon.asCSSSelector(gettingStartedUncheckedCodicon)),\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'data-done-step-id': step.id,\n\t\t\t\t\t\t\t'x-dispatch': 'toggleStepCompletion:' + step.id,\n\t\t\t\t\t\t\t'role': 'checkbox',\n\t\t\t\t\t\t\t'aria-checked': step.done ? 'true' : 'false',\n\t\t\t\t\t\t\t'aria-label': step.done\n\t\t\t\t\t\t\t\t? localize('stepDone', \"Checkbox for Step {0}: Completed\", step.title)\n\t\t\t\t\t\t\t\t: localize('stepNotDone', \"Checkbox for Step {0}: Not completed\", step.title),\n\t\t\t\t\t\t});\n\n\t\t\t\t\tconst container = $('.step-description-container', { 'x-step-description-for': step.id });\n\t\t\t\t\tthis.buildMarkdownDescription(container, step.description);\n\n\t\t\t\t\tconst stepTitle = $('h3.step-title.max-lines-3', { 'x-step-title-for': step.id });\n\t\t\t\t\treset(stepTitle, ...renderLabelWithIcons(step.title));\n\n\t\t\t\t\tconst stepDescription = $('.step-container', {},\n\t\t\t\t\t\tstepTitle,\n\t\t\t\t\t\tcontainer,\n\t\t\t\t\t);\n\n\t\t\t\t\tif (step.media.type === 'image') {\n\t\t\t\t\t\tstepDescription.appendChild(\n\t\t\t\t\t\t\t$('.image-description', { 'aria-label': localize('imageShowing', \"Image showing {0}\", step.media.altText) }),\n\t\t\t\t\t\t);\n\t\t\t\t\t} else if (step.media.type === 'video') {\n\t\t\t\t\t\tstepDescription.appendChild(\n\t\t\t\t\t\t\t$('.video-description', { 'aria-label': localize('videoShowing', \"Video showing {0}\", step.media.altText) }),\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn $('button.getting-started-step',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'x-dispatch': 'selectTask:' + step.id,\n\t\t\t\t\t\t\t'data-step-id': step.id,\n\t\t\t\t\t\t\t'aria-expanded': 'false',\n\t\t\t\t\t\t\t'aria-checked': step.done ? 'true' : 'false',\n\t\t\t\t\t\t\t'role': 'button',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcodicon,\n\t\t\t\t\t\tstepDescription);\n\t\t\t\t}));\n\t\t};\n\n\t\tbuildStepList();\n\n\t\tthis.detailsPageDisposables.add(this.contextService.onDidChangeContext(e => {\n\t\t\tif (e.affectsSome(contextKeysToWatch) && this.currentWalkthrough) {\n\t\t\t\tbuildStepList();\n\t\t\t\tthis.registerDispatchListeners();\n\t\t\t\tthis.selectStep(this.editorInput.selectedStep, false);\n\t\t\t}\n\t\t}));\n\n\t\tconst showNextCategory = this.gettingStartedCategories.find(_category => _category.id === category.next);\n\n\t\tconst stepsContainer = $(\n\t\t\t'.getting-started-detail-container', { 'role': 'list' },\n\t\t\tstepListContainer,\n\t\t\t$('.done-next-container', {},\n\t\t\t\t$('button.button-link.all-done', { 'x-dispatch': 'allDone' }, $('span.codicon.codicon-check-all'), localize('allDone', \"Mark Done\")),\n\t\t\t\t...(showNextCategory\n\t\t\t\t\t? [$('button.button-link.next', { 'x-dispatch': 'nextSection' }, localize('nextOne', \"Next Section\"), $('span.codicon.codicon-arrow-right'))]\n\t\t\t\t\t: []),\n\t\t\t)\n\t\t);\n\t\tthis.detailsScrollbar = this._register(new DomScrollableElement(stepsContainer, { className: 'steps-container' }));\n\t\tconst stepListComponent = this.detailsScrollbar.getDomNode();\n\n\t\tconst categoryFooter = $('.getting-started-footer');\n\t\tif (this.editorInput.showTelemetryNotice && getTelemetryLevel(this.configurationService) !== TelemetryLevel.NONE && this.productService.enableTelemetry) {\n\t\t\tthis.buildTelemetryFooter(categoryFooter);\n\t\t}\n\n\t\treset(this.stepsContent, categoryDescriptorComponent, stepListComponent, this.stepMediaComponent, categoryFooter);\n\n\t\tconst toExpand = category.steps.find(step => this.contextService.contextMatchesRules(step.when) && !step.done) ?? category.steps[0];\n\t\tthis.selectStep(selectedStep ?? toExpand.id, !selectedStep);\n\n\t\tthis.detailsScrollbar.scanDomNode();\n\t\tthis.detailsPageScrollbar?.scanDomNode();\n\n\t\tthis.registerDispatchListeners();\n\t}\n\n\tprivate buildTelemetryFooter(parent: HTMLElement) {\n\t\tconst privacyStatementCopy = localize('privacy statement', \"privacy statement\");\n\t\tconst privacyStatementButton = `[${privacyStatementCopy}](command:workbench.action.openPrivacyStatementUrl)`;\n\n\t\tconst optOutCopy = localize('optOut', \"opt out\");\n\t\tconst optOutButton = `[${optOutCopy}](command:settings.filterByTelemetry)`;\n\n\t\tconst text = localize({ key: 'footer', comment: ['fist substitution is \"vs code\", second is \"privacy statement\", third is \"opt out\".'] },\n\t\t\t\"{0} collects usage data. Read our {1} and learn how to {2}.\", this.productService.nameShort, privacyStatementButton, optOutButton);\n\n\t\tconst renderedContents = this.detailsPageDisposables.add(this.markdownRendererService.render({ value: text, isTrusted: true }));\n\t\tparent.append(renderedContents.element);\n\t}\n\n\tprivate getKeybindingLabel(command: string) {\n\t\tcommand = command.replace(/^command:/, '');\n\t\tconst label = this.keybindingService.lookupKeybinding(command)?.getLabel();\n\t\tif (!label) { return ''; }\n\t\telse {\n\t\t\treturn `(${label})`;\n\t\t}\n\t}\n\n\tprivate getKeyBinding(command: string) {\n\t\tcommand = command.replace(/^command:/, '');\n\t\treturn this.keybindingService.lookupKeybinding(command);\n\t}\n\n\tprivate async scrollPrev() {\n\t\tthis.inProgressScroll = this.inProgressScroll.then(async () => {\n\t\t\tif (this.prevWalkthrough && this.prevWalkthrough !== this.currentWalkthrough) {\n\t\t\t\tthis.currentWalkthrough = this.prevWalkthrough;\n\t\t\t\tthis.prevWalkthrough = undefined;\n\t\t\t\tthis.makeCategoryVisibleWhenAvailable(this.currentWalkthrough.id);\n\t\t\t} else {\n\t\t\t\tthis.currentWalkthrough = undefined;\n\t\t\t\tthis.editorInput.selectedCategory = undefined;\n\t\t\t\tthis.editorInput.selectedStep = undefined;\n\t\t\t\tthis.editorInput.showTelemetryNotice = false;\n\t\t\t\tthis.editorInput.walkthroughPageTitle = undefined;\n\n\t\t\t\tif (this.gettingStartedCategories.length !== this.gettingStartedList?.itemCount) {\n\t\t\t\t\t// extensions may have changed in the time since we last displayed the walkthrough list\n\t\t\t\t\t// rebuild the list\n\t\t\t\t\tthis.buildCategoriesSlide();\n\t\t\t\t}\n\n\t\t\t\tthis.selectStep(undefined);\n\t\t\t\tthis.setSlide('categories');\n\t\t\t\tthis.container.focus();\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate runSkip() {\n\t\tthis.commandService.executeCommand('workbench.action.closeActiveEditor');\n\t}\n\n\tescape() {\n\t\tif (this.editorInput.selectedCategory) {\n\t\t\tthis.scrollPrev();\n\t\t} else {\n\t\t\tthis.runSkip();\n\t\t}\n\t}\n\n\tprivate setSlide(toEnable: 'details' | 'categories', firstLaunch: boolean = false) {\n\t\t// eslint-disable-next-line no-restricted-syntax\n\t\tconst slideManager = assertReturnsDefined(this.container.querySelector('.gettingStarted'));\n\t\tif (toEnable === 'categories') {\n\t\t\tslideManager.classList.remove('showDetails');\n\t\t\tslideManager.classList.add('showCategories');\n\t\t\t// eslint-disable-next-line no-restricted-syntax\n\t\t\tthis.container.querySelector<HTMLButtonElement>('.prev-button.button-link')!.style.display = 'none';\n\t\t\t// eslint-disable-next-line no-restricted-syntax\n\t\t\tthis.container.querySelector('.gettingStartedSlideDetails')!.querySelectorAll('button').forEach(button => button.disabled = true);\n\t\t\t// eslint-disable-next-line no-restricted-syntax\n\t\t\tthis.container.querySelector('.gettingStartedSlideCategories')!.querySelectorAll('button').forEach(button => button.disabled = false);\n\t\t\t// eslint-disable-next-line no-restricted-syntax\n\t\t\tthis.container.querySelector('.gettingStartedSlideCategories')!.querySelectorAll('input').forEach(button => button.disabled = false);\n\t\t} else {\n\t\t\tslideManager.classList.add('showDetails');\n\t\t\tslideManager.classList.remove('showCategories');\n\t\t\t// eslint-disable-next-line no-restricted-syntax\n\t\t\tconst prevButton = this.container.querySelector<HTMLButtonElement>('.prev-button.button-link');\n\t\t\tprevButton!.style.display = this.editorInput.showWelcome || this.prevWalkthrough ? 'block' : 'none';\n\t\t\t// eslint-disable-next-line no-restricted-syntax\n\t\t\tconst moreTextElement = prevButton!.querySelector('.moreText');\n\t\t\tmoreTextElement!.textContent = firstLaunch ? localize('welcome', \"Welcome\") : localize('goBack', \"Go Back\");\n\n\t\t\t// eslint-disable-next-line no-restricted-syntax\n\t\t\tthis.container.querySelector('.gettingStartedSlideDetails')!.querySelectorAll('button').forEach(button => button.disabled = false);\n\t\t\t// eslint-disable-next-line no-restricted-syntax\n\t\t\tthis.container.querySelector('.gettingStartedSlideCategories')!.querySelectorAll('button').forEach(button => button.disabled = true);\n\t\t\t// eslint-disable-next-line no-restricted-syntax\n\t\t\tthis.container.querySelector('.gettingStartedSlideCategories')!.querySelectorAll('input').forEach(button => button.disabled = true);\n\t\t}\n\t}\n\n\toverride focus() {\n\t\tsuper.focus();\n\n\t\tconst active = this.container.ownerDocument.activeElement;\n\n\t\tlet parent = this.container.parentElement;\n\t\twhile (parent && parent !== active) {\n\t\t\tparent = parent.parentElement;\n\t\t}\n\n\t\tif (parent) {\n\t\t\t// Only set focus if there is no other focued element outside this chain.\n\t\t\t// This prevents us from stealing back focus from other focused elements such as quick pick due to delayed load.\n\t\t\tthis.container.focus();\n\t\t}\n\t}\n}\n\nexport class GettingStartedInputSerializer implements IEditorSerializer {\n\tpublic canSerialize(editorInput: GettingStartedInput): boolean {\n\t\treturn true;\n\t}\n\n\tpublic serialize(editorInput: GettingStartedInput): string {\n\t\treturn JSON.stringify({ selectedCategory: editorInput.selectedCategory, selectedStep: editorInput.selectedStep });\n\t}\n\n\tpublic deserialize(instantiationService: IInstantiationService, serializedEditorInput: string): GettingStartedInput {\n\n\t\treturn instantiationService.invokeFunction(accessor => {\n\t\t\ttry {\n\t\t\t\tconst { selectedCategory, selectedStep } = JSON.parse(serializedEditorInput);\n\t\t\t\treturn new GettingStartedInput({ selectedCategory, selectedStep });\n\t\t\t} catch { }\n\t\t\treturn new GettingStartedInput({});\n\n\t\t});\n\t}\n}\n"]}