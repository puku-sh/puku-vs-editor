{"version":3,"sources":["vs/workbench/contrib/processExplorer/browser/processExplorerControl.ts"],"names":[],"mappings":"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","file":"processExplorerControl.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport './media/processExplorer.css';\nimport { localize } from '../../../../nls.js';\nimport { $, append, Dimension, getDocument } from '../../../../base/browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../../base/browser/keyboardEvent.js';\nimport { IIdentityProvider, IListVirtualDelegate } from '../../../../base/browser/ui/list/list.js';\nimport { IDataSource, ITreeRenderer, ITreeNode, ITreeContextMenuEvent } from '../../../../base/browser/ui/tree/tree.js';\nimport { ProcessItem } from '../../../../base/common/processes.js';\nimport { IRemoteDiagnosticError, isRemoteDiagnosticError } from '../../../../platform/diagnostics/common/diagnostics.js';\nimport { ByteSize } from '../../../../platform/files/common/files.js';\nimport { KeyCode } from '../../../../base/common/keyCodes.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { WorkbenchDataTree } from '../../../../platform/list/browser/listService.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IListAccessibilityProvider } from '../../../../base/browser/ui/list/listWidget.js';\nimport { IProductService } from '../../../../platform/product/common/productService.js';\nimport { IAction, Separator, toAction } from '../../../../base/common/actions.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { coalesce } from '../../../../base/common/arrays.js';\nimport { ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { RenderIndentGuides } from '../../../../base/browser/ui/tree/abstractTree.js';\nimport { Delayer } from '../../../../base/common/async.js';\nimport { IHoverService } from '../../../../platform/hover/browser/hover.js';\nimport { IManagedHover } from '../../../../base/browser/ui/hover/hover.js';\nimport { getDefaultHoverDelegate } from '../../../../base/browser/ui/hover/hoverDelegateFactory.js';\nimport { IClipboardService } from '../../../../platform/clipboard/common/clipboardService.js';\nimport { IResolvedProcessInformation } from '../../../../platform/process/common/process.js';\nimport { IRemoteAgentService } from '../../../services/remote/common/remoteAgentService.js';\nimport { ILabelService } from '../../../../platform/label/common/label.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport { isWeb } from '../../../../base/common/platform.js';\n\nconst DEBUG_FLAGS_PATTERN = /\\s--inspect(?:-brk|port)?=(?<port>\\d+)?/;\nconst DEBUG_PORT_PATTERN = /\\s--inspect-port=(?<port>\\d+)/;\n\n//#region --- process explorer tree\n\ninterface IProcessTree {\n\treadonly processes: IProcessInformation;\n}\n\ninterface IProcessInformation {\n\treadonly processRoots: IMachineProcessInformation[];\n}\n\ninterface IMachineProcessInformation {\n\treadonly name: string;\n\treadonly rootProcess: ProcessItem | IRemoteDiagnosticError;\n}\n\nfunction isMachineProcessInformation(item: unknown): item is IMachineProcessInformation {\n\tconst candidate = item as IMachineProcessInformation | undefined;\n\n\treturn !!candidate?.name && !!candidate?.rootProcess;\n}\n\nfunction isProcessInformation(item: unknown): item is IProcessInformation {\n\tconst candidate = item as IProcessInformation | undefined;\n\n\treturn !!candidate?.processRoots;\n}\n\nfunction isProcessItem(item: unknown): item is ProcessItem {\n\tconst candidate = item as ProcessItem | undefined;\n\n\treturn typeof candidate?.pid === 'number';\n}\n\nclass ProcessListDelegate implements IListVirtualDelegate<IMachineProcessInformation | ProcessItem | IRemoteDiagnosticError> {\n\n\tgetHeight() {\n\t\treturn 22;\n\t}\n\n\tgetTemplateId(element: IProcessInformation | IMachineProcessInformation | ProcessItem | IRemoteDiagnosticError) {\n\t\tif (isProcessItem(element)) {\n\t\t\treturn 'process';\n\t\t}\n\n\t\tif (isMachineProcessInformation(element)) {\n\t\t\treturn 'machine';\n\t\t}\n\n\t\tif (isRemoteDiagnosticError(element)) {\n\t\t\treturn 'error';\n\t\t}\n\n\t\tif (isProcessInformation(element)) {\n\t\t\treturn 'header';\n\t\t}\n\n\t\treturn '';\n\t}\n}\n\nclass ProcessTreeDataSource implements IDataSource<IProcessTree, IProcessInformation | IMachineProcessInformation | ProcessItem | IRemoteDiagnosticError> {\n\n\thasChildren(element: IProcessTree | IProcessInformation | IMachineProcessInformation | ProcessItem | IRemoteDiagnosticError): boolean {\n\t\tif (isRemoteDiagnosticError(element)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (isProcessItem(element)) {\n\t\t\treturn !!element.children?.length;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tgetChildren(element: IProcessTree | IProcessInformation | IMachineProcessInformation | ProcessItem | IRemoteDiagnosticError) {\n\t\tif (isProcessItem(element)) {\n\t\t\treturn element.children ?? [];\n\t\t}\n\n\t\tif (isRemoteDiagnosticError(element)) {\n\t\t\treturn [];\n\t\t}\n\n\t\tif (isProcessInformation(element)) {\n\t\t\tif (element.processRoots.length > 1) {\n\t\t\t\treturn element.processRoots; // If there are multiple process roots, return these, otherwise go directly to the root process\n\t\t\t}\n\n\t\t\tif (element.processRoots.length > 0) {\n\t\t\t\treturn [element.processRoots[0].rootProcess];\n\t\t\t}\n\n\t\t\treturn [];\n\t\t}\n\n\t\tif (isMachineProcessInformation(element)) {\n\t\t\treturn [element.rootProcess];\n\t\t}\n\n\t\treturn element.processes ? [element.processes] : [];\n\t}\n}\n\nfunction createRow(container: HTMLElement, extraClass?: string) {\n\tconst row = append(container, $('.row'));\n\tif (extraClass) {\n\t\trow.classList.add(extraClass);\n\t}\n\n\tconst name = append(row, $('.cell.name'));\n\tconst cpu = append(row, $('.cell.cpu'));\n\tconst memory = append(row, $('.cell.memory'));\n\tconst pid = append(row, $('.cell.pid'));\n\n\treturn { name, cpu, memory, pid };\n}\n\ninterface IProcessRowTemplateData {\n\treadonly name: HTMLElement;\n}\n\ninterface IProcessItemTemplateData extends IProcessRowTemplateData {\n\treadonly cpu: HTMLElement;\n\treadonly memory: HTMLElement;\n\treadonly pid: HTMLElement;\n\treadonly hover?: ProcessItemHover;\n}\n\nclass ProcessHeaderTreeRenderer implements ITreeRenderer<IProcessInformation, void, IProcessItemTemplateData> {\n\n\treadonly templateId: string = 'header';\n\n\trenderTemplate(container: HTMLElement): IProcessItemTemplateData {\n\t\tcontainer.previousElementSibling?.classList.add('force-no-twistie'); // hack, but no API for hiding twistie on tree\n\n\t\treturn createRow(container, 'header');\n\t}\n\n\trenderElement(node: ITreeNode<IProcessInformation, void>, index: number, templateData: IProcessItemTemplateData): void {\n\t\ttemplateData.name.textContent = localize('processName', \"Process Name\");\n\t\ttemplateData.cpu.textContent = localize('processCpu', \"CPU (%)\");\n\t\ttemplateData.pid.textContent = localize('processPid', \"PID\");\n\t\ttemplateData.memory.textContent = localize('processMemory', \"Memory (MB)\");\n\t}\n\n\tdisposeTemplate(templateData: unknown): void {\n\t\t// Nothing to do\n\t}\n}\n\nclass MachineRenderer implements ITreeRenderer<IMachineProcessInformation, void, IProcessRowTemplateData> {\n\n\treadonly templateId: string = 'machine';\n\n\trenderTemplate(container: HTMLElement): IProcessRowTemplateData {\n\t\treturn createRow(container);\n\t}\n\n\trenderElement(node: ITreeNode<IMachineProcessInformation, void>, index: number, templateData: IProcessRowTemplateData): void {\n\t\ttemplateData.name.textContent = node.element.name;\n\t}\n\n\tdisposeTemplate(templateData: IProcessRowTemplateData): void {\n\t\t// Nothing to do\n\t}\n}\n\nclass ErrorRenderer implements ITreeRenderer<IRemoteDiagnosticError, void, IProcessRowTemplateData> {\n\n\treadonly templateId: string = 'error';\n\n\trenderTemplate(container: HTMLElement): IProcessRowTemplateData {\n\t\treturn createRow(container);\n\t}\n\n\trenderElement(node: ITreeNode<IRemoteDiagnosticError, void>, index: number, templateData: IProcessRowTemplateData): void {\n\t\ttemplateData.name.textContent = node.element.errorMessage;\n\t}\n\n\tdisposeTemplate(templateData: IProcessRowTemplateData): void {\n\t\t// Nothing to do\n\t}\n}\n\nclass ProcessItemHover extends Disposable {\n\n\tprivate hover: IManagedHover;\n\tprivate content = '';\n\n\tconstructor(\n\t\tcontainer: HTMLElement,\n\t\t@IHoverService hoverService: IHoverService\n\t) {\n\t\tsuper();\n\n\t\tthis.hover = this._register(hoverService.setupManagedHover(getDefaultHoverDelegate('mouse'), container, this.content));\n\t}\n\n\tupdate(content: string): void {\n\t\tif (this.content !== content) {\n\t\t\tthis.content = content;\n\t\t\tthis.hover.update(content);\n\t\t}\n\t}\n}\n\nclass ProcessRenderer implements ITreeRenderer<ProcessItem, void, IProcessItemTemplateData> {\n\n\treadonly templateId: string = 'process';\n\n\tconstructor(\n\t\tprivate model: ProcessExplorerModel,\n\t\t@IHoverService private readonly hoverService: IHoverService\n\t) { }\n\n\trenderTemplate(container: HTMLElement): IProcessItemTemplateData {\n\t\tconst row = createRow(container);\n\n\t\treturn {\n\t\t\tname: row.name,\n\t\t\tcpu: row.cpu,\n\t\t\tmemory: row.memory,\n\t\t\tpid: row.pid,\n\t\t\thover: new ProcessItemHover(row.name, this.hoverService)\n\t\t};\n\t}\n\n\trenderElement(node: ITreeNode<ProcessItem, void>, index: number, templateData: IProcessItemTemplateData): void {\n\t\tconst { element } = node;\n\n\t\tconst pid = element.pid.toFixed(0);\n\n\t\ttemplateData.name.textContent = this.model.getName(element.pid, element.name);\n\t\ttemplateData.cpu.textContent = element.load.toFixed(0);\n\t\ttemplateData.memory.textContent = (element.mem / ByteSize.MB).toFixed(0);\n\t\ttemplateData.pid.textContent = pid;\n\t\ttemplateData.pid.parentElement!.id = `pid-${pid}`;\n\n\t\ttemplateData.hover?.update(element.cmd);\n\t}\n\n\tdisposeTemplate(templateData: IProcessItemTemplateData): void {\n\t\ttemplateData.hover?.dispose();\n\t}\n}\n\nclass ProcessAccessibilityProvider implements IListAccessibilityProvider<IMachineProcessInformation | ProcessItem | IRemoteDiagnosticError> {\n\n\tgetWidgetAriaLabel(): string {\n\t\treturn localize('processExplorer', \"Process Explorer\");\n\t}\n\n\tgetAriaLabel(element: IMachineProcessInformation | ProcessItem | IRemoteDiagnosticError): string | null {\n\t\tif (isProcessItem(element) || isMachineProcessInformation(element)) {\n\t\t\treturn element.name;\n\t\t}\n\n\t\tif (isRemoteDiagnosticError(element)) {\n\t\t\treturn element.hostName;\n\t\t}\n\n\t\treturn null;\n\t}\n}\n\nclass ProcessIdentityProvider implements IIdentityProvider<IMachineProcessInformation | ProcessItem | IRemoteDiagnosticError> {\n\n\tgetId(element: IRemoteDiagnosticError | ProcessItem | IMachineProcessInformation): { toString(): string } {\n\t\tif (isProcessItem(element)) {\n\t\t\treturn element.pid.toString();\n\t\t}\n\n\t\tif (isRemoteDiagnosticError(element)) {\n\t\t\treturn element.hostName;\n\t\t}\n\n\t\tif (isProcessInformation(element)) {\n\t\t\treturn 'processes';\n\t\t}\n\n\t\tif (isMachineProcessInformation(element)) {\n\t\t\treturn element.name;\n\t\t}\n\n\t\treturn 'header';\n\t}\n}\n\n//#endregion\n\nexport abstract class ProcessExplorerControl extends Disposable {\n\n\tprivate dimensions: Dimension | undefined = undefined;\n\n\tprivate readonly model: ProcessExplorerModel;\n\tprivate tree: WorkbenchDataTree<IProcessTree, IProcessTree | IMachineProcessInformation | ProcessItem | IProcessInformation | IRemoteDiagnosticError> | undefined;\n\n\tprivate readonly delayer = this._register(new Delayer(1000));\n\n\tconstructor(\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IProductService private readonly productService: IProductService,\n\t\t@IContextMenuService private readonly contextMenuService: IContextMenuService,\n\t\t@ICommandService private readonly commandService: ICommandService,\n\t\t@IClipboardService private readonly clipboardService: IClipboardService\n\t) {\n\t\tsuper();\n\n\t\tthis.model = new ProcessExplorerModel(this.productService);\n\t}\n\n\tprotected killProcess?(pid: number, signal: string): Promise<void>;\n\tprotected abstract resolveProcesses(): Promise<IResolvedProcessInformation>;\n\n\tprotected create(container: HTMLElement): void {\n\t\tthis.createProcessTree(container);\n\n\t\tthis.update();\n\t}\n\n\tprivate createProcessTree(container: HTMLElement): void {\n\t\tcontainer.classList.add('process-explorer');\n\t\tcontainer.id = 'process-explorer';\n\n\t\tconst renderers = [\n\t\t\tthis.instantiationService.createInstance(ProcessRenderer, this.model),\n\t\t\tnew ProcessHeaderTreeRenderer(),\n\t\t\tnew MachineRenderer(),\n\t\t\tnew ErrorRenderer()\n\t\t];\n\n\t\tthis.tree = this._register(this.instantiationService.createInstance(\n\t\t\tWorkbenchDataTree<IProcessTree, IProcessTree | IMachineProcessInformation | ProcessItem | IProcessInformation | IRemoteDiagnosticError>,\n\t\t\t'processExplorer',\n\t\t\tcontainer,\n\t\t\tnew ProcessListDelegate(),\n\t\t\trenderers,\n\t\t\tnew ProcessTreeDataSource(),\n\t\t\t{\n\t\t\t\taccessibilityProvider: new ProcessAccessibilityProvider(),\n\t\t\t\tidentityProvider: new ProcessIdentityProvider(),\n\t\t\t\texpandOnlyOnTwistieClick: true,\n\t\t\t\trenderIndentGuides: RenderIndentGuides.OnHover\n\t\t\t}));\n\n\t\tthis._register(this.tree.onKeyDown(e => this.onTreeKeyDown(e)));\n\t\tthis._register(this.tree.onContextMenu(e => this.onTreeContextMenu(container, e)));\n\n\t\tthis.tree.setInput(this.model);\n\t\tthis.layoutTree();\n\t}\n\n\tprivate async onTreeKeyDown(e: KeyboardEvent): Promise<void> {\n\t\tconst event = new StandardKeyboardEvent(e);\n\t\tif (event.keyCode === KeyCode.KeyE && event.altKey) {\n\t\t\tconst selectionPids = this.getSelectedPids();\n\t\t\tawait Promise.all(selectionPids.map(pid => this.killProcess?.(pid, 'SIGTERM')));\n\t\t}\n\t}\n\n\tprivate onTreeContextMenu(container: HTMLElement, e: ITreeContextMenuEvent<IProcessTree | IMachineProcessInformation | ProcessItem | IProcessInformation | IRemoteDiagnosticError | null>): void {\n\t\tif (!isProcessItem(e.element)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst item = e.element;\n\t\tconst pid = Number(item.pid);\n\n\t\tconst actions: IAction[] = [];\n\n\t\tif (typeof this.killProcess === 'function') {\n\t\t\tactions.push(toAction({ id: 'killProcess', label: localize('killProcess', \"Kill Process\"), run: () => this.killProcess?.(pid, 'SIGTERM') }));\n\t\t\tactions.push(toAction({ id: 'forceKillProcess', label: localize('forceKillProcess', \"Force Kill Process\"), run: () => this.killProcess?.(pid, 'SIGKILL') }));\n\n\t\t\tactions.push(new Separator());\n\t\t}\n\n\t\tactions.push(toAction({\n\t\t\tid: 'copy',\n\t\t\tlabel: localize('copy', \"Copy\"),\n\t\t\trun: () => {\n\t\t\t\tconst selectionPids = this.getSelectedPids();\n\n\t\t\t\tif (!selectionPids?.includes(pid)) {\n\t\t\t\t\tselectionPids.length = 0; // If the selection does not contain the right clicked item, copy the right clicked item only.\n\t\t\t\t\tselectionPids.push(pid);\n\t\t\t\t}\n\n\t\t\t\t// eslint-disable-next-line no-restricted-syntax\n\t\t\t\tconst rows = selectionPids?.map(e => getDocument(container).getElementById(`pid-${e}`)).filter(e => !!e);\n\t\t\t\tif (rows) {\n\t\t\t\t\tconst text = rows.map(e => e.innerText).filter(e => !!e);\n\t\t\t\t\tthis.clipboardService.writeText(text.join('\\n'));\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tactions.push(toAction({\n\t\t\tid: 'copyAll',\n\t\t\tlabel: localize('copyAll', \"Copy All\"),\n\t\t\trun: () => {\n\t\t\t\t// eslint-disable-next-line no-restricted-syntax\n\t\t\t\tconst processList = getDocument(container).getElementById('process-explorer');\n\t\t\t\tif (processList) {\n\t\t\t\t\tthis.clipboardService.writeText(processList.innerText);\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tif (this.isDebuggable(item.cmd)) {\n\t\t\tactions.push(new Separator());\n\t\t\tactions.push(toAction({ id: 'debug', label: localize('debug', \"Debug\"), run: () => this.attachTo(item) }));\n\t\t}\n\n\t\tthis.contextMenuService.showContextMenu({\n\t\t\tgetAnchor: () => e.anchor,\n\t\t\tgetActions: () => actions\n\t\t});\n\t}\n\n\tprivate isDebuggable(cmd: string): boolean {\n\t\tif (isWeb) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst matches = DEBUG_FLAGS_PATTERN.exec(cmd);\n\n\t\treturn (matches && matches.groups!.port !== '0') || cmd.indexOf('node ') >= 0 || cmd.indexOf('node.exe') >= 0;\n\t}\n\n\tprivate attachTo(item: ProcessItem): void {\n\t\tconst config: { type: string; request: string; name: string; port?: number; processId?: string } = {\n\t\t\ttype: 'node',\n\t\t\trequest: 'attach',\n\t\t\tname: `process ${item.pid}`\n\t\t};\n\n\t\tlet matches = DEBUG_FLAGS_PATTERN.exec(item.cmd);\n\t\tif (matches) {\n\t\t\tconfig.port = Number(matches.groups!.port);\n\t\t} else {\n\t\t\tconfig.processId = String(item.pid); // no port -> try to attach via pid (send SIGUSR1)\n\t\t}\n\n\t\t// a debug-port=n or inspect-port=n overrides the port\n\t\tmatches = DEBUG_PORT_PATTERN.exec(item.cmd);\n\t\tif (matches) {\n\t\t\tconfig.port = Number(matches.groups!.port); // override port\n\t\t}\n\n\t\tthis.commandService.executeCommand('debug.startFromConfig', config);\n\t}\n\n\tprivate getSelectedPids(): number[] {\n\t\treturn coalesce(this.tree?.getSelection()?.map(e => {\n\t\t\tif (!isProcessItem(e)) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\treturn e.pid;\n\t\t}) ?? []);\n\t}\n\n\tprivate async update(): Promise<void> {\n\t\tconst { processes, pidToNames } = await this.resolveProcesses();\n\n\t\tthis.model.update(processes, pidToNames);\n\n\t\tthis.tree?.updateChildren();\n\t\tthis.layoutTree();\n\n\t\tthis.delayer.trigger(() => this.update());\n\t}\n\n\tfocus(): void {\n\t\tthis.tree?.domFocus();\n\t}\n\n\tlayout(dimension: Dimension): void {\n\t\tthis.dimensions = dimension;\n\n\t\tthis.layoutTree();\n\t}\n\n\tprivate layoutTree(): void {\n\t\tif (this.dimensions && this.tree) {\n\t\t\tthis.tree.layout(this.dimensions.height, this.dimensions.width);\n\t\t}\n\t}\n}\n\nclass ProcessExplorerModel implements IProcessTree {\n\n\tprocesses: IProcessInformation = { processRoots: [] };\n\n\tprivate readonly mapPidToName = new Map<number, string>();\n\n\tconstructor(@IProductService private productService: IProductService) { }\n\n\tupdate(processRoots: IMachineProcessInformation[], pidToNames: [number, string][]): void {\n\n\t\t// PID to Names\n\t\tthis.mapPidToName.clear();\n\n\t\tfor (const [pid, name] of pidToNames) {\n\t\t\tthis.mapPidToName.set(pid, name);\n\t\t}\n\n\t\t// Processes\n\t\tprocessRoots.forEach((info, index) => {\n\t\t\tif (isProcessItem(info.rootProcess)) {\n\t\t\t\tinfo.rootProcess.name = index === 0 ? this.productService.applicationName : 'remote-server';\n\t\t\t}\n\t\t});\n\n\t\tthis.processes = { processRoots };\n\t}\n\n\tgetName(pid: number, fallback: string): string {\n\t\treturn this.mapPidToName.get(pid) ?? fallback;\n\t}\n}\n\nexport class BrowserProcessExplorerControl extends ProcessExplorerControl {\n\n\tconstructor(\n\t\tcontainer: HTMLElement,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IProductService productService: IProductService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@ICommandService commandService: ICommandService,\n\t\t@IClipboardService clipboardService: IClipboardService,\n\t\t@IRemoteAgentService private readonly remoteAgentService: IRemoteAgentService,\n\t\t@ILabelService private readonly labelService: ILabelService\n\t) {\n\t\tsuper(instantiationService, productService, contextMenuService, commandService, clipboardService);\n\n\t\tthis.create(container);\n\t}\n\n\tprotected override async resolveProcesses(): Promise<IResolvedProcessInformation> {\n\t\tconst connection = this.remoteAgentService.getConnection();\n\t\tif (!connection) {\n\t\t\treturn { pidToNames: [], processes: [] };\n\t\t}\n\n\t\tconst processes: { name: string; rootProcess: ProcessItem | IRemoteDiagnosticError }[] = [];\n\n\t\tconst hostName = this.labelService.getHostLabel(Schemas.vscodeRemote, connection.remoteAuthority);\n\t\tconst result = await this.remoteAgentService.getDiagnosticInfo({ includeProcesses: true });\n\t\tif (result) {\n\t\t\tif (isRemoteDiagnosticError(result)) {\n\t\t\t\tprocesses.push({ name: result.hostName, rootProcess: result });\n\t\t\t} else if (result.processes) {\n\t\t\t\tprocesses.push({ name: hostName, rootProcess: result.processes });\n\t\t\t}\n\t\t}\n\n\t\treturn { pidToNames: [], processes };\n\t}\n}\n"]}