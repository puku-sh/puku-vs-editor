{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/api/common/extHostVariableResolverService.ts","vs/workbench/api/common/extHostVariableResolverService.ts"],"names":[],"mappings":"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","file":"extHostVariableResolverService.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Lazy } from '../../../base/common/lazy.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport * as path from '../../../base/common/path.js';\nimport * as process from '../../../base/common/process.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\nimport { IExtHostDocumentsAndEditors } from './extHostDocumentsAndEditors.js';\nimport { IExtHostEditorTabs } from './extHostEditorTabs.js';\nimport { IExtHostExtensionService } from './extHostExtensionService.js';\nimport { CustomEditorTabInput, NotebookDiffEditorTabInput, NotebookEditorTabInput, TextDiffTabInput, TextTabInput } from './extHostTypes.js';\nimport { IExtHostWorkspace } from './extHostWorkspace.js';\nimport { IConfigurationResolverService } from '../../services/configurationResolver/common/configurationResolver.js';\nimport { AbstractVariableResolverService } from '../../services/configurationResolver/common/variableResolver.js';\nimport * as vscode from 'vscode';\nimport { ExtHostConfigProvider, IExtHostConfiguration } from './extHostConfiguration.js';\n\nexport interface IExtHostVariableResolverProvider {\n\treadonly _serviceBrand: undefined;\n\tgetResolver(): Promise<IConfigurationResolverService>;\n}\n\nexport const IExtHostVariableResolverProvider = createDecorator<IExtHostVariableResolverProvider>('IExtHostVariableResolverProvider');\n\ninterface DynamicContext {\n\tfolders: vscode.WorkspaceFolder[];\n}\n\nclass ExtHostVariableResolverService extends AbstractVariableResolverService {\n\n\tconstructor(\n\t\textensionService: IExtHostExtensionService,\n\t\tworkspaceService: IExtHostWorkspace,\n\t\teditorService: IExtHostDocumentsAndEditors,\n\t\teditorTabs: IExtHostEditorTabs,\n\t\tconfigProvider: ExtHostConfigProvider,\n\t\tcontext: DynamicContext,\n\t\thomeDir: string | undefined,\n\t) {\n\t\tfunction getActiveUri(): URI | undefined {\n\t\t\tif (editorService) {\n\t\t\t\tconst activeEditor = editorService.activeEditor();\n\t\t\t\tif (activeEditor) {\n\t\t\t\t\treturn activeEditor.document.uri;\n\t\t\t\t}\n\t\t\t\tconst activeTab = editorTabs.tabGroups.all.find(group => group.isActive)?.activeTab;\n\t\t\t\tif (activeTab !== undefined) {\n\t\t\t\t\t// Resolve a resource from the tab\n\t\t\t\t\tif (activeTab.input instanceof TextDiffTabInput || activeTab.input instanceof NotebookDiffEditorTabInput) {\n\t\t\t\t\t\treturn activeTab.input.modified;\n\t\t\t\t\t} else if (activeTab.input instanceof TextTabInput || activeTab.input instanceof NotebookEditorTabInput || activeTab.input instanceof CustomEditorTabInput) {\n\t\t\t\t\t\treturn activeTab.input.uri;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn undefined;\n\t\t}\n\n\t\tsuper({\n\t\t\tgetFolderUri: (folderName: string): URI | undefined => {\n\t\t\t\tconst found = context.folders.filter(f => f.name === folderName);\n\t\t\t\tif (found && found.length > 0) {\n\t\t\t\t\treturn found[0].uri;\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t},\n\t\t\tgetWorkspaceFolderCount: (): number => {\n\t\t\t\treturn context.folders.length;\n\t\t\t},\n\t\t\tgetConfigurationValue: (folderUri: URI | undefined, section: string): string | undefined => {\n\t\t\t\treturn configProvider.getConfiguration(undefined, folderUri).get<string>(section);\n\t\t\t},\n\t\t\tgetAppRoot: (): string | undefined => {\n\t\t\t\treturn process.cwd();\n\t\t\t},\n\t\t\tgetExecPath: (): string | undefined => {\n\t\t\t\treturn process.env['VSCODE_EXEC_PATH'];\n\t\t\t},\n\t\t\tgetFilePath: (): string | undefined => {\n\t\t\t\tconst activeUri = getActiveUri();\n\t\t\t\tif (activeUri) {\n\t\t\t\t\treturn path.normalize(activeUri.fsPath);\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t},\n\t\t\tgetWorkspaceFolderPathForFile: (): string | undefined => {\n\t\t\t\tif (workspaceService) {\n\t\t\t\t\tconst activeUri = getActiveUri();\n\t\t\t\t\tif (activeUri) {\n\t\t\t\t\t\tconst ws = workspaceService.getWorkspaceFolder(activeUri);\n\t\t\t\t\t\tif (ws) {\n\t\t\t\t\t\t\treturn path.normalize(ws.uri.fsPath);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t},\n\t\t\tgetSelectedText: (): string | undefined => {\n\t\t\t\tif (editorService) {\n\t\t\t\t\tconst activeEditor = editorService.activeEditor();\n\t\t\t\t\tif (activeEditor && !activeEditor.selection.isEmpty) {\n\t\t\t\t\t\treturn activeEditor.document.getText(activeEditor.selection);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t},\n\t\t\tgetLineNumber: (): string | undefined => {\n\t\t\t\tif (editorService) {\n\t\t\t\t\tconst activeEditor = editorService.activeEditor();\n\t\t\t\t\tif (activeEditor) {\n\t\t\t\t\t\treturn String(activeEditor.selection.end.line + 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t},\n\t\t\tgetColumnNumber: (): string | undefined => {\n\t\t\t\tif (editorService) {\n\t\t\t\t\tconst activeEditor = editorService.activeEditor();\n\t\t\t\t\tif (activeEditor) {\n\t\t\t\t\t\treturn String(activeEditor.selection.end.character + 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t},\n\t\t\tgetExtension: (id) => {\n\t\t\t\treturn extensionService.getExtension(id);\n\t\t\t},\n\t\t}, undefined, homeDir ? Promise.resolve(homeDir) : undefined, Promise.resolve(process.env));\n\t}\n}\n\nexport class ExtHostVariableResolverProviderService extends Disposable implements IExtHostVariableResolverProvider {\n\tdeclare readonly _serviceBrand: undefined;\n\n\tprivate _resolver = new Lazy(async () => {\n\t\tconst configProvider = await this.configurationService.getConfigProvider();\n\t\tconst folders = await this.workspaceService.getWorkspaceFolders2() || [];\n\n\t\tconst dynamic: DynamicContext = { folders };\n\t\tthis._register(this.workspaceService.onDidChangeWorkspace(async e => {\n\t\t\tdynamic.folders = await this.workspaceService.getWorkspaceFolders2() || [];\n\t\t}));\n\n\t\treturn new ExtHostVariableResolverService(\n\t\t\tthis.extensionService,\n\t\t\tthis.workspaceService,\n\t\t\tthis.editorService,\n\t\t\tthis.editorTabs,\n\t\t\tconfigProvider,\n\t\t\tdynamic,\n\t\t\tthis.homeDir(),\n\t\t);\n\t});\n\n\tconstructor(\n\t\t@IExtHostExtensionService private readonly extensionService: IExtHostExtensionService,\n\t\t@IExtHostWorkspace private readonly workspaceService: IExtHostWorkspace,\n\t\t@IExtHostDocumentsAndEditors private readonly editorService: IExtHostDocumentsAndEditors,\n\t\t@IExtHostConfiguration private readonly configurationService: IExtHostConfiguration,\n\t\t@IExtHostEditorTabs private readonly editorTabs: IExtHostEditorTabs,\n\t) {\n\t\tsuper();\n\t}\n\n\tpublic getResolver(): Promise<IConfigurationResolverService> {\n\t\treturn this._resolver.value;\n\t}\n\n\tprotected homeDir(): string | undefined {\n\t\treturn undefined;\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Lazy } from '../../../base/common/lazy.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport * as path from '../../../base/common/path.js';\nimport * as process from '../../../base/common/process.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\nimport { IExtHostDocumentsAndEditors } from './extHostDocumentsAndEditors.js';\nimport { IExtHostEditorTabs } from './extHostEditorTabs.js';\nimport { IExtHostExtensionService } from './extHostExtensionService.js';\nimport { CustomEditorTabInput, NotebookDiffEditorTabInput, NotebookEditorTabInput, TextDiffTabInput, TextTabInput } from './extHostTypes.js';\nimport { IExtHostWorkspace } from './extHostWorkspace.js';\nimport { IConfigurationResolverService } from '../../services/configurationResolver/common/configurationResolver.js';\nimport { AbstractVariableResolverService } from '../../services/configurationResolver/common/variableResolver.js';\nimport * as vscode from 'vscode';\nimport { ExtHostConfigProvider, IExtHostConfiguration } from './extHostConfiguration.js';\n\nexport interface IExtHostVariableResolverProvider {\n\treadonly _serviceBrand: undefined;\n\tgetResolver(): Promise<IConfigurationResolverService>;\n}\n\nexport const IExtHostVariableResolverProvider = createDecorator<IExtHostVariableResolverProvider>('IExtHostVariableResolverProvider');\n\ninterface DynamicContext {\n\tfolders: vscode.WorkspaceFolder[];\n}\n\nclass ExtHostVariableResolverService extends AbstractVariableResolverService {\n\n\tconstructor(\n\t\textensionService: IExtHostExtensionService,\n\t\tworkspaceService: IExtHostWorkspace,\n\t\teditorService: IExtHostDocumentsAndEditors,\n\t\teditorTabs: IExtHostEditorTabs,\n\t\tconfigProvider: ExtHostConfigProvider,\n\t\tcontext: DynamicContext,\n\t\thomeDir: string | undefined,\n\t) {\n\t\tfunction getActiveUri(): URI | undefined {\n\t\t\tif (editorService) {\n\t\t\t\tconst activeEditor = editorService.activeEditor();\n\t\t\t\tif (activeEditor) {\n\t\t\t\t\treturn activeEditor.document.uri;\n\t\t\t\t}\n\t\t\t\tconst activeTab = editorTabs.tabGroups.all.find(group => group.isActive)?.activeTab;\n\t\t\t\tif (activeTab !== undefined) {\n\t\t\t\t\t// Resolve a resource from the tab\n\t\t\t\t\tif (activeTab.input instanceof TextDiffTabInput || activeTab.input instanceof NotebookDiffEditorTabInput) {\n\t\t\t\t\t\treturn activeTab.input.modified;\n\t\t\t\t\t} else if (activeTab.input instanceof TextTabInput || activeTab.input instanceof NotebookEditorTabInput || activeTab.input instanceof CustomEditorTabInput) {\n\t\t\t\t\t\treturn activeTab.input.uri;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn undefined;\n\t\t}\n\n\t\tsuper({\n\t\t\tgetFolderUri: (folderName: string): URI | undefined => {\n\t\t\t\tconst found = context.folders.filter(f => f.name === folderName);\n\t\t\t\tif (found && found.length > 0) {\n\t\t\t\t\treturn found[0].uri;\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t},\n\t\t\tgetWorkspaceFolderCount: (): number => {\n\t\t\t\treturn context.folders.length;\n\t\t\t},\n\t\t\tgetConfigurationValue: (folderUri: URI | undefined, section: string): string | undefined => {\n\t\t\t\treturn configProvider.getConfiguration(undefined, folderUri).get<string>(section);\n\t\t\t},\n\t\t\tgetAppRoot: (): string | undefined => {\n\t\t\t\treturn process.cwd();\n\t\t\t},\n\t\t\tgetExecPath: (): string | undefined => {\n\t\t\t\treturn process.env['VSCODE_EXEC_PATH'];\n\t\t\t},\n\t\t\tgetFilePath: (): string | undefined => {\n\t\t\t\tconst activeUri = getActiveUri();\n\t\t\t\tif (activeUri) {\n\t\t\t\t\treturn path.normalize(activeUri.fsPath);\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t},\n\t\t\tgetWorkspaceFolderPathForFile: (): string | undefined => {\n\t\t\t\tif (workspaceService) {\n\t\t\t\t\tconst activeUri = getActiveUri();\n\t\t\t\t\tif (activeUri) {\n\t\t\t\t\t\tconst ws = workspaceService.getWorkspaceFolder(activeUri);\n\t\t\t\t\t\tif (ws) {\n\t\t\t\t\t\t\treturn path.normalize(ws.uri.fsPath);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t},\n\t\t\tgetSelectedText: (): string | undefined => {\n\t\t\t\tif (editorService) {\n\t\t\t\t\tconst activeEditor = editorService.activeEditor();\n\t\t\t\t\tif (activeEditor && !activeEditor.selection.isEmpty) {\n\t\t\t\t\t\treturn activeEditor.document.getText(activeEditor.selection);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t},\n\t\t\tgetLineNumber: (): string | undefined => {\n\t\t\t\tif (editorService) {\n\t\t\t\t\tconst activeEditor = editorService.activeEditor();\n\t\t\t\t\tif (activeEditor) {\n\t\t\t\t\t\treturn String(activeEditor.selection.end.line + 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t},\n\t\t\tgetColumnNumber: (): string | undefined => {\n\t\t\t\tif (editorService) {\n\t\t\t\t\tconst activeEditor = editorService.activeEditor();\n\t\t\t\t\tif (activeEditor) {\n\t\t\t\t\t\treturn String(activeEditor.selection.end.character + 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t},\n\t\t\tgetExtension: (id) => {\n\t\t\t\treturn extensionService.getExtension(id);\n\t\t\t},\n\t\t}, undefined, homeDir ? Promise.resolve(homeDir) : undefined, Promise.resolve(process.env));\n\t}\n}\n\nexport class ExtHostVariableResolverProviderService extends Disposable implements IExtHostVariableResolverProvider {\n\tdeclare readonly _serviceBrand: undefined;\n\n\tprivate _resolver = new Lazy(async () => {\n\t\tconst configProvider = await this.configurationService.getConfigProvider();\n\t\tconst folders = await this.workspaceService.getWorkspaceFolders2() || [];\n\n\t\tconst dynamic: DynamicContext = { folders };\n\t\tthis._register(this.workspaceService.onDidChangeWorkspace(async e => {\n\t\t\tdynamic.folders = await this.workspaceService.getWorkspaceFolders2() || [];\n\t\t}));\n\n\t\treturn new ExtHostVariableResolverService(\n\t\t\tthis.extensionService,\n\t\t\tthis.workspaceService,\n\t\t\tthis.editorService,\n\t\t\tthis.editorTabs,\n\t\t\tconfigProvider,\n\t\t\tdynamic,\n\t\t\tthis.homeDir(),\n\t\t);\n\t});\n\n\tconstructor(\n\t\t@IExtHostExtensionService private readonly extensionService: IExtHostExtensionService,\n\t\t@IExtHostWorkspace private readonly workspaceService: IExtHostWorkspace,\n\t\t@IExtHostDocumentsAndEditors private readonly editorService: IExtHostDocumentsAndEditors,\n\t\t@IExtHostConfiguration private readonly configurationService: IExtHostConfiguration,\n\t\t@IExtHostEditorTabs private readonly editorTabs: IExtHostEditorTabs,\n\t) {\n\t\tsuper();\n\t}\n\n\tpublic getResolver(): Promise<IConfigurationResolverService> {\n\t\treturn this._resolver.value;\n\t}\n\n\tprotected homeDir(): string | undefined {\n\t\treturn undefined;\n\t}\n}\n"]}