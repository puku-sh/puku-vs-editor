{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/api/common/extHostLoggerService.ts","vs/workbench/api/common/extHostLoggerService.ts"],"names":[],"mappings":"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","file":"extHostLoggerService.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ILogger, ILoggerOptions, AbstractMessageLogger, LogLevel, AbstractLoggerService } from '../../../platform/log/common/log.js';\nimport { MainThreadLoggerShape, MainContext, ExtHostLogLevelServiceShape as ExtHostLogLevelServiceShape } from './extHost.protocol.js';\nimport { IExtHostInitDataService } from './extHostInitDataService.js';\nimport { IExtHostRpcService } from './extHostRpcService.js';\nimport { URI, UriComponents } from '../../../base/common/uri.js';\nimport { revive } from '../../../base/common/marshalling.js';\n\nexport class ExtHostLoggerService extends AbstractLoggerService implements ExtHostLogLevelServiceShape {\n\n\tdeclare readonly _serviceBrand: undefined;\n\tprotected readonly _proxy: MainThreadLoggerShape;\n\n\tconstructor(\n\t\t@IExtHostRpcService rpc: IExtHostRpcService,\n\t\t@IExtHostInitDataService initData: IExtHostInitDataService,\n\t) {\n\t\tsuper(initData.logLevel, initData.logsLocation, initData.loggers.map(logger => revive(logger)));\n\t\tthis._proxy = rpc.getProxy(MainContext.MainThreadLogger);\n\t}\n\n\t$setLogLevel(logLevel: LogLevel, resource?: UriComponents): void {\n\t\tif (resource) {\n\t\t\tthis.setLogLevel(URI.revive(resource), logLevel);\n\t\t} else {\n\t\t\tthis.setLogLevel(logLevel);\n\t\t}\n\t}\n\n\toverride setVisibility(resource: URI, visibility: boolean): void {\n\t\tsuper.setVisibility(resource, visibility);\n\t\tthis._proxy.$setVisibility(resource, visibility);\n\t}\n\n\tprotected doCreateLogger(resource: URI, logLevel: LogLevel, options?: ILoggerOptions): ILogger {\n\t\treturn new Logger(this._proxy, resource, logLevel, options);\n\t}\n}\n\nclass Logger extends AbstractMessageLogger {\n\n\tprivate isLoggerCreated: boolean = false;\n\tprivate buffer: [LogLevel, string][] = [];\n\n\tconstructor(\n\t\tprivate readonly proxy: MainThreadLoggerShape,\n\t\tprivate readonly file: URI,\n\t\tlogLevel: LogLevel,\n\t\tloggerOptions?: ILoggerOptions,\n\t) {\n\t\tsuper(loggerOptions?.logLevel === 'always');\n\t\tthis.setLevel(logLevel);\n\t\tthis.proxy.$createLogger(file, loggerOptions)\n\t\t\t.then(() => {\n\t\t\t\tthis.doLog(this.buffer);\n\t\t\t\tthis.isLoggerCreated = true;\n\t\t\t});\n\t}\n\n\tprotected log(level: LogLevel, message: string) {\n\t\tconst messages: [LogLevel, string][] = [[level, message]];\n\t\tif (this.isLoggerCreated) {\n\t\t\tthis.doLog(messages);\n\t\t} else {\n\t\t\tthis.buffer.push(...messages);\n\t\t}\n\t}\n\n\tprivate doLog(messages: [LogLevel, string][]) {\n\t\tthis.proxy.$log(this.file, messages);\n\t}\n\n\toverride flush(): void {\n\t\tthis.proxy.$flush(this.file);\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { ILogger, ILoggerOptions, AbstractMessageLogger, LogLevel, AbstractLoggerService } from '../../../platform/log/common/log.js';\nimport { MainThreadLoggerShape, MainContext, ExtHostLogLevelServiceShape as ExtHostLogLevelServiceShape } from './extHost.protocol.js';\nimport { IExtHostInitDataService } from './extHostInitDataService.js';\nimport { IExtHostRpcService } from './extHostRpcService.js';\nimport { URI, UriComponents } from '../../../base/common/uri.js';\nimport { revive } from '../../../base/common/marshalling.js';\n\nexport class ExtHostLoggerService extends AbstractLoggerService implements ExtHostLogLevelServiceShape {\n\n\tdeclare readonly _serviceBrand: undefined;\n\tprotected readonly _proxy: MainThreadLoggerShape;\n\n\tconstructor(\n\t\t@IExtHostRpcService rpc: IExtHostRpcService,\n\t\t@IExtHostInitDataService initData: IExtHostInitDataService,\n\t) {\n\t\tsuper(initData.logLevel, initData.logsLocation, initData.loggers.map(logger => revive(logger)));\n\t\tthis._proxy = rpc.getProxy(MainContext.MainThreadLogger);\n\t}\n\n\t$setLogLevel(logLevel: LogLevel, resource?: UriComponents): void {\n\t\tif (resource) {\n\t\t\tthis.setLogLevel(URI.revive(resource), logLevel);\n\t\t} else {\n\t\t\tthis.setLogLevel(logLevel);\n\t\t}\n\t}\n\n\toverride setVisibility(resource: URI, visibility: boolean): void {\n\t\tsuper.setVisibility(resource, visibility);\n\t\tthis._proxy.$setVisibility(resource, visibility);\n\t}\n\n\tprotected doCreateLogger(resource: URI, logLevel: LogLevel, options?: ILoggerOptions): ILogger {\n\t\treturn new Logger(this._proxy, resource, logLevel, options);\n\t}\n}\n\nclass Logger extends AbstractMessageLogger {\n\n\tprivate isLoggerCreated: boolean = false;\n\tprivate buffer: [LogLevel, string][] = [];\n\n\tconstructor(\n\t\tprivate readonly proxy: MainThreadLoggerShape,\n\t\tprivate readonly file: URI,\n\t\tlogLevel: LogLevel,\n\t\tloggerOptions?: ILoggerOptions,\n\t) {\n\t\tsuper(loggerOptions?.logLevel === 'always');\n\t\tthis.setLevel(logLevel);\n\t\tthis.proxy.$createLogger(file, loggerOptions)\n\t\t\t.then(() => {\n\t\t\t\tthis.doLog(this.buffer);\n\t\t\t\tthis.isLoggerCreated = true;\n\t\t\t});\n\t}\n\n\tprotected log(level: LogLevel, message: string) {\n\t\tconst messages: [LogLevel, string][] = [[level, message]];\n\t\tif (this.isLoggerCreated) {\n\t\t\tthis.doLog(messages);\n\t\t} else {\n\t\t\tthis.buffer.push(...messages);\n\t\t}\n\t}\n\n\tprivate doLog(messages: [LogLevel, string][]) {\n\t\tthis.proxy.$log(this.file, messages);\n\t}\n\n\toverride flush(): void {\n\t\tthis.proxy.$flush(this.file);\n\t}\n}\n"]}