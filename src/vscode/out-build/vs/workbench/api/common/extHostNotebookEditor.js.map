{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/api/common/extHostNotebookEditor.ts","vs/workbench/api/common/extHostNotebookEditor.ts"],"names":[],"mappings":"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","file":"extHostNotebookEditor.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { illegalArgument } from '../../../base/common/errors.js';\nimport { MainThreadNotebookEditorsShape } from './extHost.protocol.js';\nimport * as extHostConverter from './extHostTypeConverters.js';\nimport * as extHostTypes from './extHostTypes.js';\nimport * as vscode from 'vscode';\nimport { ExtHostNotebookDocument } from './extHostNotebookDocument.js';\nimport { NotebookRange } from './extHostTypes.js';\n\nexport class ExtHostNotebookEditor {\n\n\tpublic static readonly apiEditorsToExtHost = new WeakMap<vscode.NotebookEditor, ExtHostNotebookEditor>();\n\n\tprivate _visible: boolean = false;\n\n\tprivate _editor?: vscode.NotebookEditor;\n\n\tconstructor(\n\t\treadonly id: string,\n\t\tprivate readonly _proxy: MainThreadNotebookEditorsShape,\n\t\treadonly notebookData: ExtHostNotebookDocument,\n\t\tprivate _visibleRanges: vscode.NotebookRange[],\n\t\tprivate _selections: vscode.NotebookRange[],\n\t\tprivate _viewColumn: vscode.ViewColumn | undefined,\n\t\tprivate readonly viewType: string\n\t) { }\n\n\tget apiEditor(): vscode.NotebookEditor {\n\t\tif (!this._editor) {\n\t\t\tconst that = this;\n\t\t\tthis._editor = {\n\t\t\t\tget notebook() {\n\t\t\t\t\treturn that.notebookData.apiNotebook;\n\t\t\t\t},\n\t\t\t\tget selection() {\n\t\t\t\t\treturn that._selections[0];\n\t\t\t\t},\n\t\t\t\tset selection(selection: vscode.NotebookRange) {\n\t\t\t\t\tthis.selections = [selection];\n\t\t\t\t},\n\t\t\t\tget selections() {\n\t\t\t\t\treturn that._selections;\n\t\t\t\t},\n\t\t\t\tset selections(value: vscode.NotebookRange[]) {\n\t\t\t\t\tif (!Array.isArray(value) || !value.every(extHostTypes.NotebookRange.isNotebookRange)) {\n\t\t\t\t\t\tthrow illegalArgument('selections');\n\t\t\t\t\t}\n\t\t\t\t\tthat._selections = value.length === 0 ? [new NotebookRange(0, 0)] : value;\n\t\t\t\t\tthat._trySetSelections(that._selections);\n\t\t\t\t},\n\t\t\t\tget visibleRanges() {\n\t\t\t\t\treturn that._visibleRanges;\n\t\t\t\t},\n\t\t\t\trevealRange(range, revealType) {\n\t\t\t\t\tthat._proxy.$tryRevealRange(\n\t\t\t\t\t\tthat.id,\n\t\t\t\t\t\textHostConverter.NotebookRange.from(range),\n\t\t\t\t\t\trevealType ?? extHostTypes.NotebookEditorRevealType.Default\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tget viewColumn() {\n\t\t\t\t\treturn that._viewColumn;\n\t\t\t\t},\n\t\t\t\tget replOptions() {\n\t\t\t\t\tif (that.viewType === 'repl') {\n\t\t\t\t\t\treturn { appendIndex: this.notebook.cellCount - 1 };\n\t\t\t\t\t}\n\t\t\t\t\treturn undefined;\n\t\t\t\t},\n\t\t\t\t[Symbol.for('debug.description')]() {\n\t\t\t\t\treturn `NotebookEditor(${this.notebook.uri.toString()})`;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tExtHostNotebookEditor.apiEditorsToExtHost.set(this._editor, this);\n\t\t}\n\t\treturn this._editor;\n\t}\n\n\tget visible(): boolean {\n\t\treturn this._visible;\n\t}\n\n\t_acceptVisibility(value: boolean) {\n\t\tthis._visible = value;\n\t}\n\n\t_acceptVisibleRanges(value: vscode.NotebookRange[]): void {\n\t\tthis._visibleRanges = value;\n\t}\n\n\t_acceptSelections(selections: vscode.NotebookRange[]): void {\n\t\tthis._selections = selections;\n\t}\n\n\tprivate _trySetSelections(value: vscode.NotebookRange[]): void {\n\t\tthis._proxy.$trySetSelections(this.id, value.map(extHostConverter.NotebookRange.from));\n\t}\n\n\t_acceptViewColumn(value: vscode.ViewColumn | undefined) {\n\t\tthis._viewColumn = value;\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { illegalArgument } from '../../../base/common/errors.js';\nimport { MainThreadNotebookEditorsShape } from './extHost.protocol.js';\nimport * as extHostConverter from './extHostTypeConverters.js';\nimport * as extHostTypes from './extHostTypes.js';\nimport * as vscode from 'vscode';\nimport { ExtHostNotebookDocument } from './extHostNotebookDocument.js';\nimport { NotebookRange } from './extHostTypes.js';\n\nexport class ExtHostNotebookEditor {\n\n\tpublic static readonly apiEditorsToExtHost = new WeakMap<vscode.NotebookEditor, ExtHostNotebookEditor>();\n\n\tprivate _visible: boolean = false;\n\n\tprivate _editor?: vscode.NotebookEditor;\n\n\tconstructor(\n\t\treadonly id: string,\n\t\tprivate readonly _proxy: MainThreadNotebookEditorsShape,\n\t\treadonly notebookData: ExtHostNotebookDocument,\n\t\tprivate _visibleRanges: vscode.NotebookRange[],\n\t\tprivate _selections: vscode.NotebookRange[],\n\t\tprivate _viewColumn: vscode.ViewColumn | undefined,\n\t\tprivate readonly viewType: string\n\t) { }\n\n\tget apiEditor(): vscode.NotebookEditor {\n\t\tif (!this._editor) {\n\t\t\tconst that = this;\n\t\t\tthis._editor = {\n\t\t\t\tget notebook() {\n\t\t\t\t\treturn that.notebookData.apiNotebook;\n\t\t\t\t},\n\t\t\t\tget selection() {\n\t\t\t\t\treturn that._selections[0];\n\t\t\t\t},\n\t\t\t\tset selection(selection: vscode.NotebookRange) {\n\t\t\t\t\tthis.selections = [selection];\n\t\t\t\t},\n\t\t\t\tget selections() {\n\t\t\t\t\treturn that._selections;\n\t\t\t\t},\n\t\t\t\tset selections(value: vscode.NotebookRange[]) {\n\t\t\t\t\tif (!Array.isArray(value) || !value.every(extHostTypes.NotebookRange.isNotebookRange)) {\n\t\t\t\t\t\tthrow illegalArgument('selections');\n\t\t\t\t\t}\n\t\t\t\t\tthat._selections = value.length === 0 ? [new NotebookRange(0, 0)] : value;\n\t\t\t\t\tthat._trySetSelections(that._selections);\n\t\t\t\t},\n\t\t\t\tget visibleRanges() {\n\t\t\t\t\treturn that._visibleRanges;\n\t\t\t\t},\n\t\t\t\trevealRange(range, revealType) {\n\t\t\t\t\tthat._proxy.$tryRevealRange(\n\t\t\t\t\t\tthat.id,\n\t\t\t\t\t\textHostConverter.NotebookRange.from(range),\n\t\t\t\t\t\trevealType ?? extHostTypes.NotebookEditorRevealType.Default\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tget viewColumn() {\n\t\t\t\t\treturn that._viewColumn;\n\t\t\t\t},\n\t\t\t\tget replOptions() {\n\t\t\t\t\tif (that.viewType === 'repl') {\n\t\t\t\t\t\treturn { appendIndex: this.notebook.cellCount - 1 };\n\t\t\t\t\t}\n\t\t\t\t\treturn undefined;\n\t\t\t\t},\n\t\t\t\t[Symbol.for('debug.description')]() {\n\t\t\t\t\treturn `NotebookEditor(${this.notebook.uri.toString()})`;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tExtHostNotebookEditor.apiEditorsToExtHost.set(this._editor, this);\n\t\t}\n\t\treturn this._editor;\n\t}\n\n\tget visible(): boolean {\n\t\treturn this._visible;\n\t}\n\n\t_acceptVisibility(value: boolean) {\n\t\tthis._visible = value;\n\t}\n\n\t_acceptVisibleRanges(value: vscode.NotebookRange[]): void {\n\t\tthis._visibleRanges = value;\n\t}\n\n\t_acceptSelections(selections: vscode.NotebookRange[]): void {\n\t\tthis._selections = selections;\n\t}\n\n\tprivate _trySetSelections(value: vscode.NotebookRange[]): void {\n\t\tthis._proxy.$trySetSelections(this.id, value.map(extHostConverter.NotebookRange.from));\n\t}\n\n\t_acceptViewColumn(value: vscode.ViewColumn | undefined) {\n\t\tthis._viewColumn = value;\n\t}\n}\n"]}