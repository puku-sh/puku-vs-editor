{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/api/common/extHostChatStatus.ts","vs/workbench/api/common/extHostChatStatus.ts"],"names":[],"mappings":"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","file":"extHostChatStatus.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type * as vscode from 'vscode';\nimport * as extHostProtocol from './extHost.protocol.js';\nimport { ExtensionIdentifier, IExtensionDescription } from '../../../platform/extensions/common/extensions.js';\n\nexport class ExtHostChatStatus {\n\n\tprivate readonly _proxy: extHostProtocol.MainThreadChatStatusShape;\n\n\tprivate readonly _items = new Map<string, vscode.ChatStatusItem>();\n\n\tconstructor(\n\t\tmainContext: extHostProtocol.IMainContext\n\t) {\n\t\tthis._proxy = mainContext.getProxy(extHostProtocol.MainContext.MainThreadChatStatus);\n\t}\n\n\tcreateChatStatusItem(extension: IExtensionDescription, id: string): vscode.ChatStatusItem {\n\t\tconst internalId = asChatItemIdentifier(extension.identifier, id);\n\t\tif (this._items.has(internalId)) {\n\t\t\tthrow new Error(`Chat status item '${id}' already exists`);\n\t\t}\n\n\t\tconst state: extHostProtocol.ChatStatusItemDto = {\n\t\t\tid: internalId,\n\t\t\ttitle: '',\n\t\t\tdescription: '',\n\t\t\tdetail: '',\n\t\t};\n\n\t\tlet disposed = false;\n\t\tlet visible = false;\n\t\tconst syncState = () => {\n\t\t\tif (disposed) {\n\t\t\t\tthrow new Error('Chat status item is disposed');\n\t\t\t}\n\n\t\t\tif (!visible) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._proxy.$setEntry(id, state);\n\t\t};\n\n\t\tconst item = Object.freeze<vscode.ChatStatusItem>({\n\t\t\tid: id,\n\n\t\t\tget title(): string | { label: string; link: string } {\n\t\t\t\treturn state.title;\n\t\t\t},\n\t\t\tset title(value: string | { label: string; link: string }) {\n\t\t\t\tstate.title = value;\n\t\t\t\tsyncState();\n\t\t\t},\n\n\t\t\tget description(): string {\n\t\t\t\treturn state.description;\n\t\t\t},\n\t\t\tset description(value: string) {\n\t\t\t\tstate.description = value;\n\t\t\t\tsyncState();\n\t\t\t},\n\n\t\t\tget detail(): string | undefined {\n\t\t\t\treturn state.detail;\n\t\t\t},\n\t\t\tset detail(value: string | undefined) {\n\t\t\t\tstate.detail = value;\n\t\t\t\tsyncState();\n\t\t\t},\n\n\t\t\tshow: () => {\n\t\t\t\tvisible = true;\n\t\t\t\tsyncState();\n\t\t\t},\n\t\t\thide: () => {\n\t\t\t\tvisible = false;\n\t\t\t\tthis._proxy.$disposeEntry(id);\n\t\t\t},\n\t\t\tdispose: () => {\n\t\t\t\tdisposed = true;\n\t\t\t\tthis._proxy.$disposeEntry(id);\n\t\t\t\tthis._items.delete(internalId);\n\t\t\t},\n\t\t});\n\n\t\tthis._items.set(internalId, item);\n\t\treturn item;\n\t}\n}\n\nfunction asChatItemIdentifier(extension: ExtensionIdentifier, id: string): string {\n\treturn `${ExtensionIdentifier.toKey(extension)}.${id}`;\n}\n\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type * as vscode from 'vscode';\nimport * as extHostProtocol from './extHost.protocol.js';\nimport { ExtensionIdentifier, IExtensionDescription } from '../../../platform/extensions/common/extensions.js';\n\nexport class ExtHostChatStatus {\n\n\tprivate readonly _proxy: extHostProtocol.MainThreadChatStatusShape;\n\n\tprivate readonly _items = new Map<string, vscode.ChatStatusItem>();\n\n\tconstructor(\n\t\tmainContext: extHostProtocol.IMainContext\n\t) {\n\t\tthis._proxy = mainContext.getProxy(extHostProtocol.MainContext.MainThreadChatStatus);\n\t}\n\n\tcreateChatStatusItem(extension: IExtensionDescription, id: string): vscode.ChatStatusItem {\n\t\tconst internalId = asChatItemIdentifier(extension.identifier, id);\n\t\tif (this._items.has(internalId)) {\n\t\t\tthrow new Error(`Chat status item '${id}' already exists`);\n\t\t}\n\n\t\tconst state: extHostProtocol.ChatStatusItemDto = {\n\t\t\tid: internalId,\n\t\t\ttitle: '',\n\t\t\tdescription: '',\n\t\t\tdetail: '',\n\t\t};\n\n\t\tlet disposed = false;\n\t\tlet visible = false;\n\t\tconst syncState = () => {\n\t\t\tif (disposed) {\n\t\t\t\tthrow new Error('Chat status item is disposed');\n\t\t\t}\n\n\t\t\tif (!visible) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._proxy.$setEntry(id, state);\n\t\t};\n\n\t\tconst item = Object.freeze<vscode.ChatStatusItem>({\n\t\t\tid: id,\n\n\t\t\tget title(): string | { label: string; link: string } {\n\t\t\t\treturn state.title;\n\t\t\t},\n\t\t\tset title(value: string | { label: string; link: string }) {\n\t\t\t\tstate.title = value;\n\t\t\t\tsyncState();\n\t\t\t},\n\n\t\t\tget description(): string {\n\t\t\t\treturn state.description;\n\t\t\t},\n\t\t\tset description(value: string) {\n\t\t\t\tstate.description = value;\n\t\t\t\tsyncState();\n\t\t\t},\n\n\t\t\tget detail(): string | undefined {\n\t\t\t\treturn state.detail;\n\t\t\t},\n\t\t\tset detail(value: string | undefined) {\n\t\t\t\tstate.detail = value;\n\t\t\t\tsyncState();\n\t\t\t},\n\n\t\t\tshow: () => {\n\t\t\t\tvisible = true;\n\t\t\t\tsyncState();\n\t\t\t},\n\t\t\thide: () => {\n\t\t\t\tvisible = false;\n\t\t\t\tthis._proxy.$disposeEntry(id);\n\t\t\t},\n\t\t\tdispose: () => {\n\t\t\t\tdisposed = true;\n\t\t\t\tthis._proxy.$disposeEntry(id);\n\t\t\t\tthis._items.delete(internalId);\n\t\t\t},\n\t\t});\n\n\t\tthis._items.set(internalId, item);\n\t\treturn item;\n\t}\n}\n\nfunction asChatItemIdentifier(extension: ExtensionIdentifier, id: string): string {\n\treturn `${ExtensionIdentifier.toKey(extension)}.${id}`;\n}\n\n"]}