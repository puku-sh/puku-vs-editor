{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/api/common/extHostApiCommands.ts","vs/workbench/api/common/extHostApiCommands.ts"],"names":[],"mappings":"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","file":"extHostApiCommands.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { isFalsyOrEmpty } from '../../../base/common/arrays.js';\nimport { VSBuffer } from '../../../base/common/buffer.js';\nimport { Schemas, matchesSomeScheme } from '../../../base/common/network.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { IPosition } from '../../../editor/common/core/position.js';\nimport { IRange } from '../../../editor/common/core/range.js';\nimport { ISelection } from '../../../editor/common/core/selection.js';\nimport * as languages from '../../../editor/common/languages.js';\nimport { decodeSemanticTokensDto } from '../../../editor/common/services/semanticTokensDto.js';\nimport { validateWhenClauses } from '../../../platform/contextkey/common/contextkey.js';\nimport { ITextEditorOptions } from '../../../platform/editor/common/editor.js';\nimport { ICallHierarchyItemDto, IIncomingCallDto, IInlineValueContextDto, IOutgoingCallDto, IRawColorInfo, ITypeHierarchyItemDto, IWorkspaceEditDto } from './extHost.protocol.js';\nimport { ApiCommand, ApiCommandArgument, ApiCommandResult, ExtHostCommands } from './extHostCommands.js';\nimport { CustomCodeAction } from './extHostLanguageFeatures.js';\nimport * as typeConverters from './extHostTypeConverters.js';\nimport * as types from './extHostTypes.js';\nimport { TransientCellMetadata, TransientDocumentMetadata } from '../../contrib/notebook/common/notebookCommon.js';\nimport * as search from '../../contrib/search/common/search.js';\nimport type * as vscode from 'vscode';\n\n//#region --- NEW world\n\nconst newCommands: ApiCommand[] = [\n\t// -- document highlights\n\tnew ApiCommand(\n\t\t'vscode.executeDocumentHighlights', '_executeDocumentHighlights', 'Execute document highlight provider.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position],\n\t\tnew ApiCommandResult<languages.DocumentHighlight[], types.DocumentHighlight[] | undefined>('A promise that resolves to an array of DocumentHighlight-instances.', tryMapWith(typeConverters.DocumentHighlight.to))\n\t),\n\t// -- document symbols\n\tnew ApiCommand(\n\t\t'vscode.executeDocumentSymbolProvider', '_executeDocumentSymbolProvider', 'Execute document symbol provider.',\n\t\t[ApiCommandArgument.Uri],\n\t\tnew ApiCommandResult<languages.DocumentSymbol[], vscode.SymbolInformation[] | undefined>('A promise that resolves to an array of SymbolInformation and DocumentSymbol instances.', (value, apiArgs) => {\n\n\t\t\tif (isFalsyOrEmpty(value)) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tclass MergedInfo extends types.SymbolInformation implements vscode.DocumentSymbol {\n\t\t\t\tstatic to(symbol: languages.DocumentSymbol): MergedInfo {\n\t\t\t\t\tconst res = new MergedInfo(\n\t\t\t\t\t\tsymbol.name,\n\t\t\t\t\t\ttypeConverters.SymbolKind.to(symbol.kind),\n\t\t\t\t\t\tsymbol.containerName || '',\n\t\t\t\t\t\tnew types.Location(apiArgs[0], typeConverters.Range.to(symbol.range))\n\t\t\t\t\t);\n\t\t\t\t\tres.detail = symbol.detail;\n\t\t\t\t\tres.range = res.location.range;\n\t\t\t\t\tres.selectionRange = typeConverters.Range.to(symbol.selectionRange);\n\t\t\t\t\tres.children = symbol.children ? symbol.children.map(MergedInfo.to) : [];\n\t\t\t\t\treturn res;\n\t\t\t\t}\n\n\t\t\t\tdetail!: string;\n\t\t\t\trange!: vscode.Range;\n\t\t\t\tselectionRange!: vscode.Range;\n\t\t\t\tchildren!: vscode.DocumentSymbol[];\n\t\t\t\toverride containerName: string = '';\n\t\t\t}\n\t\t\treturn value.map(MergedInfo.to);\n\n\t\t})\n\t),\n\t// -- formatting\n\tnew ApiCommand(\n\t\t'vscode.executeFormatDocumentProvider', '_executeFormatDocumentProvider', 'Execute document format provider.',\n\t\t[ApiCommandArgument.Uri, new ApiCommandArgument('options', 'Formatting options', _ => true, v => v)],\n\t\tnew ApiCommandResult<languages.TextEdit[], types.TextEdit[] | undefined>('A promise that resolves to an array of TextEdits.', tryMapWith(typeConverters.TextEdit.to))\n\t),\n\tnew ApiCommand(\n\t\t'vscode.executeFormatRangeProvider', '_executeFormatRangeProvider', 'Execute range format provider.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Range, new ApiCommandArgument('options', 'Formatting options', _ => true, v => v)],\n\t\tnew ApiCommandResult<languages.TextEdit[], types.TextEdit[] | undefined>('A promise that resolves to an array of TextEdits.', tryMapWith(typeConverters.TextEdit.to))\n\t),\n\tnew ApiCommand(\n\t\t'vscode.executeFormatOnTypeProvider', '_executeFormatOnTypeProvider', 'Execute format on type provider.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position, new ApiCommandArgument('ch', 'Trigger character', v => typeof v === 'string', v => v), new ApiCommandArgument('options', 'Formatting options', _ => true, v => v)],\n\t\tnew ApiCommandResult<languages.TextEdit[], types.TextEdit[] | undefined>('A promise that resolves to an array of TextEdits.', tryMapWith(typeConverters.TextEdit.to))\n\t),\n\t// -- go to symbol (definition, type definition, declaration, impl, references)\n\tnew ApiCommand(\n\t\t'vscode.executeDefinitionProvider', '_executeDefinitionProvider', 'Execute all definition providers.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position],\n\t\tnew ApiCommandResult<(languages.Location | languages.LocationLink)[], (types.Location | vscode.LocationLink)[] | undefined>('A promise that resolves to an array of Location or LocationLink instances.', mapLocationOrLocationLink)\n\t),\n\tnew ApiCommand(\n\t\t'vscode.experimental.executeDefinitionProvider_recursive', '_executeDefinitionProvider_recursive', 'Execute all definition providers.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position],\n\t\tnew ApiCommandResult<(languages.Location | languages.LocationLink)[], (types.Location | vscode.LocationLink)[] | undefined>('A promise that resolves to an array of Location or LocationLink instances.', mapLocationOrLocationLink)\n\t),\n\tnew ApiCommand(\n\t\t'vscode.executeTypeDefinitionProvider', '_executeTypeDefinitionProvider', 'Execute all type definition providers.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position],\n\t\tnew ApiCommandResult<(languages.Location | languages.LocationLink)[], (types.Location | vscode.LocationLink)[] | undefined>('A promise that resolves to an array of Location or LocationLink instances.', mapLocationOrLocationLink)\n\t),\n\tnew ApiCommand(\n\t\t'vscode.experimental.executeTypeDefinitionProvider_recursive', '_executeTypeDefinitionProvider_recursive', 'Execute all type definition providers.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position],\n\t\tnew ApiCommandResult<(languages.Location | languages.LocationLink)[], (types.Location | vscode.LocationLink)[] | undefined>('A promise that resolves to an array of Location or LocationLink instances.', mapLocationOrLocationLink)\n\t),\n\tnew ApiCommand(\n\t\t'vscode.executeDeclarationProvider', '_executeDeclarationProvider', 'Execute all declaration providers.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position],\n\t\tnew ApiCommandResult<(languages.Location | languages.LocationLink)[], (types.Location | vscode.LocationLink)[] | undefined>('A promise that resolves to an array of Location or LocationLink instances.', mapLocationOrLocationLink)\n\t),\n\tnew ApiCommand(\n\t\t'vscode.experimental.executeDeclarationProvider_recursive', '_executeDeclarationProvider_recursive', 'Execute all declaration providers.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position],\n\t\tnew ApiCommandResult<(languages.Location | languages.LocationLink)[], (types.Location | vscode.LocationLink)[] | undefined>('A promise that resolves to an array of Location or LocationLink instances.', mapLocationOrLocationLink)\n\t),\n\tnew ApiCommand(\n\t\t'vscode.executeImplementationProvider', '_executeImplementationProvider', 'Execute all implementation providers.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position],\n\t\tnew ApiCommandResult<(languages.Location | languages.LocationLink)[], (types.Location | vscode.LocationLink)[] | undefined>('A promise that resolves to an array of Location or LocationLink instances.', mapLocationOrLocationLink)\n\t),\n\tnew ApiCommand(\n\t\t'vscode.experimental.executeImplementationProvider_recursive', '_executeImplementationProvider_recursive', 'Execute all implementation providers.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position],\n\t\tnew ApiCommandResult<(languages.Location | languages.LocationLink)[], (types.Location | vscode.LocationLink)[] | undefined>('A promise that resolves to an array of Location or LocationLink instances.', mapLocationOrLocationLink)\n\t),\n\tnew ApiCommand(\n\t\t'vscode.executeReferenceProvider', '_executeReferenceProvider', 'Execute all reference providers.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position],\n\t\tnew ApiCommandResult<languages.Location[], types.Location[] | undefined>('A promise that resolves to an array of Location-instances.', tryMapWith(typeConverters.location.to))\n\t),\n\tnew ApiCommand(\n\t\t'vscode.experimental.executeReferenceProvider', '_executeReferenceProvider_recursive', 'Execute all reference providers.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position],\n\t\tnew ApiCommandResult<languages.Location[], types.Location[] | undefined>('A promise that resolves to an array of Location-instances.', tryMapWith(typeConverters.location.to))\n\t),\n\t// -- hover\n\tnew ApiCommand(\n\t\t'vscode.executeHoverProvider', '_executeHoverProvider', 'Execute all hover providers.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position],\n\t\tnew ApiCommandResult<languages.Hover[], types.Hover[] | undefined>('A promise that resolves to an array of Hover-instances.', tryMapWith(typeConverters.Hover.to))\n\t),\n\tnew ApiCommand(\n\t\t'vscode.experimental.executeHoverProvider_recursive', '_executeHoverProvider_recursive', 'Execute all hover providers.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position],\n\t\tnew ApiCommandResult<languages.Hover[], types.Hover[] | undefined>('A promise that resolves to an array of Hover-instances.', tryMapWith(typeConverters.Hover.to))\n\t),\n\t// -- selection range\n\tnew ApiCommand(\n\t\t'vscode.executeSelectionRangeProvider', '_executeSelectionRangeProvider', 'Execute selection range provider.',\n\t\t[ApiCommandArgument.Uri, new ApiCommandArgument<types.Position[], IPosition[]>('position', 'A position in a text document', v => Array.isArray(v) && v.every(v => types.Position.isPosition(v)), v => v.map(typeConverters.Position.from))],\n\t\tnew ApiCommandResult<IRange[][], types.SelectionRange[]>('A promise that resolves to an array of ranges.', result => {\n\t\t\treturn result.map(ranges => {\n\t\t\t\tlet node: types.SelectionRange | undefined;\n\t\t\t\tfor (const range of ranges.reverse()) {\n\t\t\t\t\tnode = new types.SelectionRange(typeConverters.Range.to(range), node);\n\t\t\t\t}\n\t\t\t\treturn node!;\n\t\t\t});\n\t\t})\n\t),\n\t// -- symbol search\n\tnew ApiCommand(\n\t\t'vscode.executeWorkspaceSymbolProvider', '_executeWorkspaceSymbolProvider', 'Execute all workspace symbol providers.',\n\t\t[ApiCommandArgument.String.with('query', 'Search string')],\n\t\tnew ApiCommandResult<search.IWorkspaceSymbol[], types.SymbolInformation[]>('A promise that resolves to an array of SymbolInformation-instances.', value => {\n\t\t\treturn value.map(typeConverters.WorkspaceSymbol.to);\n\t\t})\n\t),\n\t// --- call hierarchy\n\tnew ApiCommand(\n\t\t'vscode.prepareCallHierarchy', '_executePrepareCallHierarchy', 'Prepare call hierarchy at a position inside a document',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position],\n\t\tnew ApiCommandResult<ICallHierarchyItemDto[], types.CallHierarchyItem[]>('A promise that resolves to an array of CallHierarchyItem-instances', v => v.map(typeConverters.CallHierarchyItem.to))\n\t),\n\tnew ApiCommand(\n\t\t'vscode.provideIncomingCalls', '_executeProvideIncomingCalls', 'Compute incoming calls for an item',\n\t\t[ApiCommandArgument.CallHierarchyItem],\n\t\tnew ApiCommandResult<IIncomingCallDto[], types.CallHierarchyIncomingCall[]>('A promise that resolves to an array of CallHierarchyIncomingCall-instances', v => v.map(typeConverters.CallHierarchyIncomingCall.to))\n\t),\n\tnew ApiCommand(\n\t\t'vscode.provideOutgoingCalls', '_executeProvideOutgoingCalls', 'Compute outgoing calls for an item',\n\t\t[ApiCommandArgument.CallHierarchyItem],\n\t\tnew ApiCommandResult<IOutgoingCallDto[], types.CallHierarchyOutgoingCall[]>('A promise that resolves to an array of CallHierarchyOutgoingCall-instances', v => v.map(typeConverters.CallHierarchyOutgoingCall.to))\n\t),\n\t// --- rename\n\tnew ApiCommand(\n\t\t'vscode.prepareRename', '_executePrepareRename', 'Execute the prepareRename of rename provider.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position],\n\t\tnew ApiCommandResult<languages.RenameLocation, { range: types.Range; placeholder: string } | undefined>('A promise that resolves to a range and placeholder text.', value => {\n\t\t\tif (!value) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\trange: typeConverters.Range.to(value.range),\n\t\t\t\tplaceholder: value.text\n\t\t\t};\n\t\t})\n\t),\n\tnew ApiCommand(\n\t\t'vscode.executeDocumentRenameProvider', '_executeDocumentRenameProvider', 'Execute rename provider.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position, ApiCommandArgument.String.with('newName', 'The new symbol name')],\n\t\tnew ApiCommandResult<IWorkspaceEditDto & { rejectReason?: string }, types.WorkspaceEdit | undefined>('A promise that resolves to a WorkspaceEdit.', value => {\n\t\t\tif (!value) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tif (value.rejectReason) {\n\t\t\t\tthrow new Error(value.rejectReason);\n\t\t\t}\n\t\t\treturn typeConverters.WorkspaceEdit.to(value);\n\t\t})\n\t),\n\t// --- links\n\tnew ApiCommand(\n\t\t'vscode.executeLinkProvider', '_executeLinkProvider', 'Execute document link provider.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Number.with('linkResolveCount', 'Number of links that should be resolved, only when links are unresolved.').optional()],\n\t\tnew ApiCommandResult<languages.ILink[], vscode.DocumentLink[]>('A promise that resolves to an array of DocumentLink-instances.', value => value.map(typeConverters.DocumentLink.to))\n\t),\n\t// --- semantic tokens\n\tnew ApiCommand(\n\t\t'vscode.provideDocumentSemanticTokensLegend', '_provideDocumentSemanticTokensLegend', 'Provide semantic tokens legend for a document',\n\t\t[ApiCommandArgument.Uri],\n\t\tnew ApiCommandResult<languages.SemanticTokensLegend, types.SemanticTokensLegend | undefined>('A promise that resolves to SemanticTokensLegend.', value => {\n\t\t\tif (!value) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\treturn new types.SemanticTokensLegend(value.tokenTypes, value.tokenModifiers);\n\t\t})\n\t),\n\tnew ApiCommand(\n\t\t'vscode.provideDocumentSemanticTokens', '_provideDocumentSemanticTokens', 'Provide semantic tokens for a document',\n\t\t[ApiCommandArgument.Uri],\n\t\tnew ApiCommandResult<VSBuffer, types.SemanticTokens | undefined>('A promise that resolves to SemanticTokens.', value => {\n\t\t\tif (!value) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tconst semanticTokensDto = decodeSemanticTokensDto(value);\n\t\t\tif (semanticTokensDto.type !== 'full') {\n\t\t\t\t// only accepting full semantic tokens from provideDocumentSemanticTokens\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\treturn new types.SemanticTokens(semanticTokensDto.data, undefined);\n\t\t})\n\t),\n\tnew ApiCommand(\n\t\t'vscode.provideDocumentRangeSemanticTokensLegend', '_provideDocumentRangeSemanticTokensLegend', 'Provide semantic tokens legend for a document range',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Range.optional()],\n\t\tnew ApiCommandResult<languages.SemanticTokensLegend, types.SemanticTokensLegend | undefined>('A promise that resolves to SemanticTokensLegend.', value => {\n\t\t\tif (!value) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\treturn new types.SemanticTokensLegend(value.tokenTypes, value.tokenModifiers);\n\t\t})\n\t),\n\tnew ApiCommand(\n\t\t'vscode.provideDocumentRangeSemanticTokens', '_provideDocumentRangeSemanticTokens', 'Provide semantic tokens for a document range',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Range],\n\t\tnew ApiCommandResult<VSBuffer, types.SemanticTokens | undefined>('A promise that resolves to SemanticTokens.', value => {\n\t\t\tif (!value) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tconst semanticTokensDto = decodeSemanticTokensDto(value);\n\t\t\tif (semanticTokensDto.type !== 'full') {\n\t\t\t\t// only accepting full semantic tokens from provideDocumentRangeSemanticTokens\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\treturn new types.SemanticTokens(semanticTokensDto.data, undefined);\n\t\t})\n\t),\n\t// --- completions\n\tnew ApiCommand(\n\t\t'vscode.executeCompletionItemProvider', '_executeCompletionItemProvider', 'Execute completion item provider.',\n\t\t[\n\t\t\tApiCommandArgument.Uri,\n\t\t\tApiCommandArgument.Position,\n\t\t\tApiCommandArgument.String.with('triggerCharacter', 'Trigger completion when the user types the character, like `,` or `(`').optional(),\n\t\t\tApiCommandArgument.Number.with('itemResolveCount', 'Number of completions to resolve (too large numbers slow down completions)').optional()\n\t\t],\n\t\tnew ApiCommandResult<languages.CompletionList, vscode.CompletionList>('A promise that resolves to a CompletionList-instance.', (value, _args, converter) => {\n\t\t\tif (!value) {\n\t\t\t\treturn new types.CompletionList([]);\n\t\t\t}\n\t\t\tconst items = value.suggestions.map(suggestion => typeConverters.CompletionItem.to(suggestion, converter));\n\t\t\treturn new types.CompletionList(items, value.incomplete);\n\t\t})\n\t),\n\t// --- signature help\n\tnew ApiCommand(\n\t\t'vscode.executeSignatureHelpProvider', '_executeSignatureHelpProvider', 'Execute signature help provider.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position, ApiCommandArgument.String.with('triggerCharacter', 'Trigger signature help when the user types the character, like `,` or `(`').optional()],\n\t\tnew ApiCommandResult<languages.SignatureHelp, vscode.SignatureHelp | undefined>('A promise that resolves to SignatureHelp.', value => {\n\t\t\tif (value) {\n\t\t\t\treturn typeConverters.SignatureHelp.to(value);\n\t\t\t}\n\t\t\treturn undefined;\n\t\t})\n\t),\n\t// --- code lens\n\tnew ApiCommand(\n\t\t'vscode.executeCodeLensProvider', '_executeCodeLensProvider', 'Execute code lens provider.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Number.with('itemResolveCount', 'Number of lenses that should be resolved and returned. Will only return resolved lenses, will impact performance)').optional()],\n\t\tnew ApiCommandResult<languages.CodeLens[], vscode.CodeLens[] | undefined>('A promise that resolves to an array of CodeLens-instances.', (value, _args, converter) => {\n\t\t\treturn tryMapWith<languages.CodeLens, vscode.CodeLens>(item => {\n\t\t\t\treturn new types.CodeLens(typeConverters.Range.to(item.range), item.command && converter.fromInternal(item.command));\n\t\t\t})(value);\n\t\t})\n\t),\n\t// --- code actions\n\tnew ApiCommand(\n\t\t'vscode.executeCodeActionProvider', '_executeCodeActionProvider', 'Execute code action provider.',\n\t\t[\n\t\t\tApiCommandArgument.Uri,\n\t\t\tnew ApiCommandArgument('rangeOrSelection', 'Range in a text document. Some refactoring provider requires Selection object.', v => types.Range.isRange(v), v => types.Selection.isSelection(v) ? typeConverters.Selection.from(v) : typeConverters.Range.from(v)),\n\t\t\tApiCommandArgument.String.with('kind', 'Code action kind to return code actions for').optional(),\n\t\t\tApiCommandArgument.Number.with('itemResolveCount', 'Number of code actions to resolve (too large numbers slow down code actions)').optional()\n\t\t],\n\t\tnew ApiCommandResult<CustomCodeAction[], (vscode.CodeAction | vscode.Command | undefined)[] | undefined>('A promise that resolves to an array of Command-instances.', (value, _args, converter) => {\n\t\t\treturn tryMapWith<CustomCodeAction, vscode.CodeAction | vscode.Command | undefined>((codeAction) => {\n\t\t\t\tif (codeAction._isSynthetic) {\n\t\t\t\t\tif (!codeAction.command) {\n\t\t\t\t\t\tthrow new Error('Synthetic code actions must have a command');\n\t\t\t\t\t}\n\t\t\t\t\treturn converter.fromInternal(codeAction.command);\n\t\t\t\t} else {\n\t\t\t\t\tconst ret = new types.CodeAction(\n\t\t\t\t\t\tcodeAction.title,\n\t\t\t\t\t\tcodeAction.kind ? new types.CodeActionKind(codeAction.kind) : undefined\n\t\t\t\t\t);\n\t\t\t\t\tif (codeAction.edit) {\n\t\t\t\t\t\tret.edit = typeConverters.WorkspaceEdit.to(codeAction.edit);\n\t\t\t\t\t}\n\t\t\t\t\tif (codeAction.command) {\n\t\t\t\t\t\tret.command = converter.fromInternal(codeAction.command);\n\t\t\t\t\t}\n\t\t\t\t\tret.isPreferred = codeAction.isPreferred;\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\t\t\t})(value);\n\t\t})\n\t),\n\t// --- colors\n\tnew ApiCommand(\n\t\t'vscode.executeDocumentColorProvider', '_executeDocumentColorProvider', 'Execute document color provider.',\n\t\t[ApiCommandArgument.Uri],\n\t\tnew ApiCommandResult<IRawColorInfo[], vscode.ColorInformation[]>('A promise that resolves to an array of ColorInformation objects.', result => {\n\t\t\tif (result) {\n\t\t\t\treturn result.map(ci => new types.ColorInformation(typeConverters.Range.to(ci.range), typeConverters.Color.to(ci.color)));\n\t\t\t}\n\t\t\treturn [];\n\t\t})\n\t),\n\tnew ApiCommand(\n\t\t'vscode.executeColorPresentationProvider', '_executeColorPresentationProvider', 'Execute color presentation provider.',\n\t\t[\n\t\t\tnew ApiCommandArgument<types.Color, [number, number, number, number]>('color', 'The color to show and insert', v => v instanceof types.Color, typeConverters.Color.from),\n\t\t\tnew ApiCommandArgument<{ uri: URI; range: types.Range }, { uri: URI; range: IRange }>('context', 'Context object with uri and range', _v => true, v => ({ uri: v.uri, range: typeConverters.Range.from(v.range) })),\n\t\t],\n\t\tnew ApiCommandResult<languages.IColorPresentation[], types.ColorPresentation[]>('A promise that resolves to an array of ColorPresentation objects.', result => {\n\t\t\tif (result) {\n\t\t\t\treturn result.map(typeConverters.ColorPresentation.to);\n\t\t\t}\n\t\t\treturn [];\n\t\t})\n\t),\n\t// --- inline hints\n\tnew ApiCommand(\n\t\t'vscode.executeInlayHintProvider', '_executeInlayHintProvider', 'Execute inlay hints provider',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Range],\n\t\tnew ApiCommandResult<languages.InlayHint[], vscode.InlayHint[]>('A promise that resolves to an array of Inlay objects', (result, args, converter) => {\n\t\t\treturn result.map(typeConverters.InlayHint.to.bind(undefined, converter));\n\t\t})\n\t),\n\t// --- folding\n\tnew ApiCommand(\n\t\t'vscode.executeFoldingRangeProvider', '_executeFoldingRangeProvider', 'Execute folding range provider',\n\t\t[ApiCommandArgument.Uri],\n\t\tnew ApiCommandResult<languages.FoldingRange[] | undefined, vscode.FoldingRange[] | undefined>('A promise that resolves to an array of FoldingRange objects', (result, args) => {\n\t\t\tif (result) {\n\t\t\t\treturn result.map(typeConverters.FoldingRange.to);\n\t\t\t}\n\t\t\treturn undefined;\n\t\t})\n\t),\n\n\t// --- notebooks\n\tnew ApiCommand(\n\t\t'vscode.resolveNotebookContentProviders', '_resolveNotebookContentProvider', 'Resolve Notebook Content Providers',\n\t\t[\n\t\t\t// new ApiCommandArgument<string, string>('viewType', '', v => typeof v === 'string', v => v),\n\t\t\t// new ApiCommandArgument<string, string>('displayName', '', v => typeof v === 'string', v => v),\n\t\t\t// new ApiCommandArgument<object, object>('options', '', v => typeof v === 'object', v => v),\n\t\t],\n\t\tnew ApiCommandResult<{\n\t\t\tviewType: string;\n\t\t\tdisplayName: string;\n\t\t\toptions: { transientOutputs: boolean; transientCellMetadata: TransientCellMetadata; transientDocumentMetadata: TransientDocumentMetadata };\n\t\t\tfilenamePattern: (vscode.GlobPattern | { include: vscode.GlobPattern; exclude: vscode.GlobPattern })[];\n\t\t}[], {\n\t\t\tviewType: string;\n\t\t\tdisplayName: string;\n\t\t\tfilenamePattern: (vscode.GlobPattern | { include: vscode.GlobPattern; exclude: vscode.GlobPattern })[];\n\t\t\toptions: vscode.NotebookDocumentContentOptions;\n\t\t}[] | undefined>('A promise that resolves to an array of NotebookContentProvider static info objects.', tryMapWith(item => {\n\t\t\treturn {\n\t\t\t\tviewType: item.viewType,\n\t\t\t\tdisplayName: item.displayName,\n\t\t\t\toptions: {\n\t\t\t\t\ttransientOutputs: item.options.transientOutputs,\n\t\t\t\t\ttransientCellMetadata: item.options.transientCellMetadata,\n\t\t\t\t\ttransientDocumentMetadata: item.options.transientDocumentMetadata\n\t\t\t\t},\n\t\t\t\tfilenamePattern: item.filenamePattern.map(pattern => typeConverters.NotebookExclusiveDocumentPattern.to(pattern))\n\t\t\t};\n\t\t}))\n\t),\n\t// --- debug support\n\tnew ApiCommand(\n\t\t'vscode.executeInlineValueProvider', '_executeInlineValueProvider', 'Execute inline value provider',\n\t\t[\n\t\t\tApiCommandArgument.Uri,\n\t\t\tApiCommandArgument.Range,\n\t\t\tnew ApiCommandArgument<types.InlineValueContext, IInlineValueContextDto>('context', 'An InlineValueContext', v => v && typeof v.frameId === 'number' && v.stoppedLocation instanceof types.Range, v => typeConverters.InlineValueContext.from(v))\n\t\t],\n\t\tnew ApiCommandResult<languages.InlineValue[], vscode.InlineValue[]>('A promise that resolves to an array of InlineValue objects', result => {\n\t\t\treturn result.map(typeConverters.InlineValue.to);\n\t\t})\n\t),\n\t// --- open'ish commands\n\tnew ApiCommand(\n\t\t'vscode.open', '_workbench.open', 'Opens the provided resource in the editor. Can be a text or binary file, or an http(s) URL. If you need more control over the options for opening a text file, use vscode.window.showTextDocument instead.',\n\t\t[\n\t\t\tnew ApiCommandArgument<URI | string>('uriOrString', 'Uri-instance or string (only http/https)', v => URI.isUri(v) || (typeof v === 'string' && matchesSomeScheme(v, Schemas.http, Schemas.https)), v => v),\n\t\t\tnew ApiCommandArgument<vscode.ViewColumn | typeConverters.TextEditorOpenOptions | undefined, [vscode.ViewColumn?, ITextEditorOptions?] | undefined>('columnOrOptions', 'Either the column in which to open or editor options, see vscode.TextDocumentShowOptions',\n\t\t\t\tv => v === undefined || typeof v === 'number' || typeof v === 'object',\n\t\t\t\tv => !v ? v : typeof v === 'number' ? [typeConverters.ViewColumn.from(v), undefined] : [typeConverters.ViewColumn.from(v.viewColumn), typeConverters.TextEditorOpenOptions.from(v)]\n\t\t\t).optional(),\n\t\t\tApiCommandArgument.String.with('label', '').optional()\n\t\t],\n\t\tApiCommandResult.Void\n\t),\n\tnew ApiCommand(\n\t\t'vscode.openWith', '_workbench.openWith', 'Opens the provided resource with a specific editor.',\n\t\t[\n\t\t\tApiCommandArgument.Uri.with('resource', 'Resource to open'),\n\t\t\tApiCommandArgument.String.with('viewId', 'Custom editor view id. This should be the viewType string for custom editors or the notebookType string for notebooks. Use \\'default\\' to use VS Code\\'s default text editor'),\n\t\t\tnew ApiCommandArgument<vscode.ViewColumn | typeConverters.TextEditorOpenOptions | undefined, [vscode.ViewColumn?, ITextEditorOptions?] | undefined>('columnOrOptions', 'Either the column in which to open or editor options, see vscode.TextDocumentShowOptions',\n\t\t\t\tv => v === undefined || typeof v === 'number' || typeof v === 'object',\n\t\t\t\tv => !v ? v : typeof v === 'number' ? [typeConverters.ViewColumn.from(v), undefined] : [typeConverters.ViewColumn.from(v.viewColumn), typeConverters.TextEditorOpenOptions.from(v)],\n\t\t\t).optional()\n\t\t],\n\t\tApiCommandResult.Void\n\t),\n\tnew ApiCommand(\n\t\t'vscode.diff', '_workbench.diff', 'Opens the provided resources in the diff editor to compare their contents.',\n\t\t[\n\t\t\tApiCommandArgument.Uri.with('left', 'Left-hand side resource of the diff editor'),\n\t\t\tApiCommandArgument.Uri.with('right', 'Right-hand side resource of the diff editor'),\n\t\t\tApiCommandArgument.String.with('title', 'Human readable title for the diff editor').optional(),\n\t\t\tnew ApiCommandArgument<typeConverters.TextEditorOpenOptions | undefined, [number?, ITextEditorOptions?] | undefined>('columnOrOptions', 'Either the column in which to open or editor options, see vscode.TextDocumentShowOptions',\n\t\t\t\tv => v === undefined || typeof v === 'object',\n\t\t\t\tv => v && [typeConverters.ViewColumn.from(v.viewColumn), typeConverters.TextEditorOpenOptions.from(v)]\n\t\t\t).optional(),\n\t\t],\n\t\tApiCommandResult.Void\n\t),\n\tnew ApiCommand(\n\t\t'vscode.changes', '_workbench.changes', 'Opens a list of resources in the changes editor to compare their contents.',\n\t\t[\n\t\t\tApiCommandArgument.String.with('title', 'Human readable title for the changes editor'),\n\t\t\tnew ApiCommandArgument<[URI, URI?, URI?][]>('resourceList', 'List of resources to compare',\n\t\t\t\tresources => {\n\t\t\t\t\tfor (const resource of resources) {\n\t\t\t\t\t\tif (resource.length !== 3) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst [label, left, right] = resource;\n\t\t\t\t\t\tif (!URI.isUri(label) ||\n\t\t\t\t\t\t\t(!URI.isUri(left) && left !== undefined && left !== null) ||\n\t\t\t\t\t\t\t(!URI.isUri(right) && right !== undefined && right !== null)) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\tv => v)\n\t\t],\n\t\tApiCommandResult.Void\n\t),\n\t// --- type hierarchy\n\tnew ApiCommand(\n\t\t'vscode.prepareTypeHierarchy', '_executePrepareTypeHierarchy', 'Prepare type hierarchy at a position inside a document',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position],\n\t\tnew ApiCommandResult<ITypeHierarchyItemDto[], types.TypeHierarchyItem[]>('A promise that resolves to an array of TypeHierarchyItem-instances', v => v.map(typeConverters.TypeHierarchyItem.to))\n\t),\n\tnew ApiCommand(\n\t\t'vscode.provideSupertypes', '_executeProvideSupertypes', 'Compute supertypes for an item',\n\t\t[ApiCommandArgument.TypeHierarchyItem],\n\t\tnew ApiCommandResult<ITypeHierarchyItemDto[], types.TypeHierarchyItem[]>('A promise that resolves to an array of TypeHierarchyItem-instances', v => v.map(typeConverters.TypeHierarchyItem.to))\n\t),\n\tnew ApiCommand(\n\t\t'vscode.provideSubtypes', '_executeProvideSubtypes', 'Compute subtypes for an item',\n\t\t[ApiCommandArgument.TypeHierarchyItem],\n\t\tnew ApiCommandResult<ITypeHierarchyItemDto[], types.TypeHierarchyItem[]>('A promise that resolves to an array of TypeHierarchyItem-instances', v => v.map(typeConverters.TypeHierarchyItem.to))\n\t),\n\t// --- testing\n\tnew ApiCommand(\n\t\t'vscode.revealTestInExplorer', '_revealTestInExplorer', 'Reveals a test instance in the explorer',\n\t\t[ApiCommandArgument.TestItem],\n\t\tApiCommandResult.Void\n\t),\n\tnew ApiCommand(\n\t\t'vscode.startContinuousTestRun', 'testing.startContinuousRunFromExtension', 'Starts running the given tests with continuous run mode.',\n\t\t[ApiCommandArgument.TestProfile, ApiCommandArgument.Arr(ApiCommandArgument.TestItem)],\n\t\tApiCommandResult.Void\n\t),\n\tnew ApiCommand(\n\t\t'vscode.stopContinuousTestRun', 'testing.stopContinuousRunFromExtension', 'Stops running the given tests with continuous run mode.',\n\t\t[ApiCommandArgument.Arr(ApiCommandArgument.TestItem)],\n\t\tApiCommandResult.Void\n\t),\n\t// --- continue edit session\n\tnew ApiCommand(\n\t\t'vscode.experimental.editSession.continue', '_workbench.editSessions.actions.continueEditSession', 'Continue the current edit session in a different workspace',\n\t\t[ApiCommandArgument.Uri.with('workspaceUri', 'The target workspace to continue the current edit session in')],\n\t\tApiCommandResult.Void\n\t),\n\t// --- context keys\n\tnew ApiCommand(\n\t\t'setContext', '_setContext', 'Set a custom context key value that can be used in when clauses.',\n\t\t[\n\t\t\tApiCommandArgument.String.with('name', 'The context key name'),\n\t\t\tnew ApiCommandArgument('value', 'The context key value', () => true, v => v),\n\t\t],\n\t\tApiCommandResult.Void\n\t),\n\t// --- inline chat\n\tnew ApiCommand(\n\t\t'vscode.editorChat.start', 'inlineChat.start', 'Invoke a new editor chat session',\n\t\t[new ApiCommandArgument<InlineChatEditorApiArg | undefined, InlineChatRunOptions | undefined>('Run arguments', '', _v => true, v => {\n\n\t\t\tif (!v) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tinitialRange: v.initialRange ? typeConverters.Range.from(v.initialRange) : undefined,\n\t\t\t\tinitialSelection: types.Selection.isSelection(v.initialSelection) ? typeConverters.Selection.from(v.initialSelection) : undefined,\n\t\t\t\tmessage: v.message,\n\t\t\t\tattachments: v.attachments,\n\t\t\t\tautoSend: v.autoSend,\n\t\t\t\tposition: v.position ? typeConverters.Position.from(v.position) : undefined,\n\t\t\t};\n\t\t})],\n\t\tApiCommandResult.Void\n\t)\n];\n\ntype InlineChatEditorApiArg = {\n\tinitialRange?: vscode.Range;\n\tinitialSelection?: vscode.Selection;\n\tmessage?: string;\n\tattachments?: vscode.Uri[];\n\tautoSend?: boolean;\n\tposition?: vscode.Position;\n};\n\ntype InlineChatRunOptions = {\n\tinitialRange?: IRange;\n\tinitialSelection?: ISelection;\n\tmessage?: string;\n\tattachments?: URI[];\n\tautoSend?: boolean;\n\tposition?: IPosition;\n};\n\n//#endregion\n\n\n//#region OLD world\n\nexport class ExtHostApiCommands {\n\n\tstatic register(commands: ExtHostCommands) {\n\n\t\tnewCommands.forEach(commands.registerApiCommand, commands);\n\n\t\tthis._registerValidateWhenClausesCommand(commands);\n\t}\n\n\tprivate static _registerValidateWhenClausesCommand(commands: ExtHostCommands) {\n\t\tcommands.registerCommand(false, '_validateWhenClauses', validateWhenClauses);\n\t}\n}\n\nfunction tryMapWith<T, R>(f: (x: T) => R) {\n\treturn (value: T[]) => {\n\t\tif (Array.isArray(value)) {\n\t\t\treturn value.map(f);\n\t\t}\n\t\treturn undefined;\n\t};\n}\n\nfunction mapLocationOrLocationLink(values: (languages.Location | languages.LocationLink)[]): (types.Location | vscode.LocationLink)[] | undefined {\n\tif (!Array.isArray(values)) {\n\t\treturn undefined;\n\t}\n\tconst result: (types.Location | vscode.LocationLink)[] = [];\n\tfor (const item of values) {\n\t\tif (languages.isLocationLink(item)) {\n\t\t\tresult.push(typeConverters.DefinitionLink.to(item));\n\t\t} else {\n\t\t\tresult.push(typeConverters.location.to(item));\n\t\t}\n\t}\n\treturn result;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { isFalsyOrEmpty } from '../../../base/common/arrays.js';\nimport { VSBuffer } from '../../../base/common/buffer.js';\nimport { Schemas, matchesSomeScheme } from '../../../base/common/network.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { IPosition } from '../../../editor/common/core/position.js';\nimport { IRange } from '../../../editor/common/core/range.js';\nimport { ISelection } from '../../../editor/common/core/selection.js';\nimport * as languages from '../../../editor/common/languages.js';\nimport { decodeSemanticTokensDto } from '../../../editor/common/services/semanticTokensDto.js';\nimport { validateWhenClauses } from '../../../platform/contextkey/common/contextkey.js';\nimport { ITextEditorOptions } from '../../../platform/editor/common/editor.js';\nimport { ICallHierarchyItemDto, IIncomingCallDto, IInlineValueContextDto, IOutgoingCallDto, IRawColorInfo, ITypeHierarchyItemDto, IWorkspaceEditDto } from './extHost.protocol.js';\nimport { ApiCommand, ApiCommandArgument, ApiCommandResult, ExtHostCommands } from './extHostCommands.js';\nimport { CustomCodeAction } from './extHostLanguageFeatures.js';\nimport * as typeConverters from './extHostTypeConverters.js';\nimport * as types from './extHostTypes.js';\nimport { TransientCellMetadata, TransientDocumentMetadata } from '../../contrib/notebook/common/notebookCommon.js';\nimport * as search from '../../contrib/search/common/search.js';\nimport type * as vscode from 'vscode';\n\n//#region --- NEW world\n\nconst newCommands: ApiCommand[] = [\n\t// -- document highlights\n\tnew ApiCommand(\n\t\t'vscode.executeDocumentHighlights', '_executeDocumentHighlights', 'Execute document highlight provider.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position],\n\t\tnew ApiCommandResult<languages.DocumentHighlight[], types.DocumentHighlight[] | undefined>('A promise that resolves to an array of DocumentHighlight-instances.', tryMapWith(typeConverters.DocumentHighlight.to))\n\t),\n\t// -- document symbols\n\tnew ApiCommand(\n\t\t'vscode.executeDocumentSymbolProvider', '_executeDocumentSymbolProvider', 'Execute document symbol provider.',\n\t\t[ApiCommandArgument.Uri],\n\t\tnew ApiCommandResult<languages.DocumentSymbol[], vscode.SymbolInformation[] | undefined>('A promise that resolves to an array of SymbolInformation and DocumentSymbol instances.', (value, apiArgs) => {\n\n\t\t\tif (isFalsyOrEmpty(value)) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tclass MergedInfo extends types.SymbolInformation implements vscode.DocumentSymbol {\n\t\t\t\tstatic to(symbol: languages.DocumentSymbol): MergedInfo {\n\t\t\t\t\tconst res = new MergedInfo(\n\t\t\t\t\t\tsymbol.name,\n\t\t\t\t\t\ttypeConverters.SymbolKind.to(symbol.kind),\n\t\t\t\t\t\tsymbol.containerName || '',\n\t\t\t\t\t\tnew types.Location(apiArgs[0], typeConverters.Range.to(symbol.range))\n\t\t\t\t\t);\n\t\t\t\t\tres.detail = symbol.detail;\n\t\t\t\t\tres.range = res.location.range;\n\t\t\t\t\tres.selectionRange = typeConverters.Range.to(symbol.selectionRange);\n\t\t\t\t\tres.children = symbol.children ? symbol.children.map(MergedInfo.to) : [];\n\t\t\t\t\treturn res;\n\t\t\t\t}\n\n\t\t\t\tdetail!: string;\n\t\t\t\trange!: vscode.Range;\n\t\t\t\tselectionRange!: vscode.Range;\n\t\t\t\tchildren!: vscode.DocumentSymbol[];\n\t\t\t\toverride containerName: string = '';\n\t\t\t}\n\t\t\treturn value.map(MergedInfo.to);\n\n\t\t})\n\t),\n\t// -- formatting\n\tnew ApiCommand(\n\t\t'vscode.executeFormatDocumentProvider', '_executeFormatDocumentProvider', 'Execute document format provider.',\n\t\t[ApiCommandArgument.Uri, new ApiCommandArgument('options', 'Formatting options', _ => true, v => v)],\n\t\tnew ApiCommandResult<languages.TextEdit[], types.TextEdit[] | undefined>('A promise that resolves to an array of TextEdits.', tryMapWith(typeConverters.TextEdit.to))\n\t),\n\tnew ApiCommand(\n\t\t'vscode.executeFormatRangeProvider', '_executeFormatRangeProvider', 'Execute range format provider.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Range, new ApiCommandArgument('options', 'Formatting options', _ => true, v => v)],\n\t\tnew ApiCommandResult<languages.TextEdit[], types.TextEdit[] | undefined>('A promise that resolves to an array of TextEdits.', tryMapWith(typeConverters.TextEdit.to))\n\t),\n\tnew ApiCommand(\n\t\t'vscode.executeFormatOnTypeProvider', '_executeFormatOnTypeProvider', 'Execute format on type provider.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position, new ApiCommandArgument('ch', 'Trigger character', v => typeof v === 'string', v => v), new ApiCommandArgument('options', 'Formatting options', _ => true, v => v)],\n\t\tnew ApiCommandResult<languages.TextEdit[], types.TextEdit[] | undefined>('A promise that resolves to an array of TextEdits.', tryMapWith(typeConverters.TextEdit.to))\n\t),\n\t// -- go to symbol (definition, type definition, declaration, impl, references)\n\tnew ApiCommand(\n\t\t'vscode.executeDefinitionProvider', '_executeDefinitionProvider', 'Execute all definition providers.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position],\n\t\tnew ApiCommandResult<(languages.Location | languages.LocationLink)[], (types.Location | vscode.LocationLink)[] | undefined>('A promise that resolves to an array of Location or LocationLink instances.', mapLocationOrLocationLink)\n\t),\n\tnew ApiCommand(\n\t\t'vscode.experimental.executeDefinitionProvider_recursive', '_executeDefinitionProvider_recursive', 'Execute all definition providers.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position],\n\t\tnew ApiCommandResult<(languages.Location | languages.LocationLink)[], (types.Location | vscode.LocationLink)[] | undefined>('A promise that resolves to an array of Location or LocationLink instances.', mapLocationOrLocationLink)\n\t),\n\tnew ApiCommand(\n\t\t'vscode.executeTypeDefinitionProvider', '_executeTypeDefinitionProvider', 'Execute all type definition providers.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position],\n\t\tnew ApiCommandResult<(languages.Location | languages.LocationLink)[], (types.Location | vscode.LocationLink)[] | undefined>('A promise that resolves to an array of Location or LocationLink instances.', mapLocationOrLocationLink)\n\t),\n\tnew ApiCommand(\n\t\t'vscode.experimental.executeTypeDefinitionProvider_recursive', '_executeTypeDefinitionProvider_recursive', 'Execute all type definition providers.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position],\n\t\tnew ApiCommandResult<(languages.Location | languages.LocationLink)[], (types.Location | vscode.LocationLink)[] | undefined>('A promise that resolves to an array of Location or LocationLink instances.', mapLocationOrLocationLink)\n\t),\n\tnew ApiCommand(\n\t\t'vscode.executeDeclarationProvider', '_executeDeclarationProvider', 'Execute all declaration providers.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position],\n\t\tnew ApiCommandResult<(languages.Location | languages.LocationLink)[], (types.Location | vscode.LocationLink)[] | undefined>('A promise that resolves to an array of Location or LocationLink instances.', mapLocationOrLocationLink)\n\t),\n\tnew ApiCommand(\n\t\t'vscode.experimental.executeDeclarationProvider_recursive', '_executeDeclarationProvider_recursive', 'Execute all declaration providers.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position],\n\t\tnew ApiCommandResult<(languages.Location | languages.LocationLink)[], (types.Location | vscode.LocationLink)[] | undefined>('A promise that resolves to an array of Location or LocationLink instances.', mapLocationOrLocationLink)\n\t),\n\tnew ApiCommand(\n\t\t'vscode.executeImplementationProvider', '_executeImplementationProvider', 'Execute all implementation providers.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position],\n\t\tnew ApiCommandResult<(languages.Location | languages.LocationLink)[], (types.Location | vscode.LocationLink)[] | undefined>('A promise that resolves to an array of Location or LocationLink instances.', mapLocationOrLocationLink)\n\t),\n\tnew ApiCommand(\n\t\t'vscode.experimental.executeImplementationProvider_recursive', '_executeImplementationProvider_recursive', 'Execute all implementation providers.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position],\n\t\tnew ApiCommandResult<(languages.Location | languages.LocationLink)[], (types.Location | vscode.LocationLink)[] | undefined>('A promise that resolves to an array of Location or LocationLink instances.', mapLocationOrLocationLink)\n\t),\n\tnew ApiCommand(\n\t\t'vscode.executeReferenceProvider', '_executeReferenceProvider', 'Execute all reference providers.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position],\n\t\tnew ApiCommandResult<languages.Location[], types.Location[] | undefined>('A promise that resolves to an array of Location-instances.', tryMapWith(typeConverters.location.to))\n\t),\n\tnew ApiCommand(\n\t\t'vscode.experimental.executeReferenceProvider', '_executeReferenceProvider_recursive', 'Execute all reference providers.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position],\n\t\tnew ApiCommandResult<languages.Location[], types.Location[] | undefined>('A promise that resolves to an array of Location-instances.', tryMapWith(typeConverters.location.to))\n\t),\n\t// -- hover\n\tnew ApiCommand(\n\t\t'vscode.executeHoverProvider', '_executeHoverProvider', 'Execute all hover providers.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position],\n\t\tnew ApiCommandResult<languages.Hover[], types.Hover[] | undefined>('A promise that resolves to an array of Hover-instances.', tryMapWith(typeConverters.Hover.to))\n\t),\n\tnew ApiCommand(\n\t\t'vscode.experimental.executeHoverProvider_recursive', '_executeHoverProvider_recursive', 'Execute all hover providers.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position],\n\t\tnew ApiCommandResult<languages.Hover[], types.Hover[] | undefined>('A promise that resolves to an array of Hover-instances.', tryMapWith(typeConverters.Hover.to))\n\t),\n\t// -- selection range\n\tnew ApiCommand(\n\t\t'vscode.executeSelectionRangeProvider', '_executeSelectionRangeProvider', 'Execute selection range provider.',\n\t\t[ApiCommandArgument.Uri, new ApiCommandArgument<types.Position[], IPosition[]>('position', 'A position in a text document', v => Array.isArray(v) && v.every(v => types.Position.isPosition(v)), v => v.map(typeConverters.Position.from))],\n\t\tnew ApiCommandResult<IRange[][], types.SelectionRange[]>('A promise that resolves to an array of ranges.', result => {\n\t\t\treturn result.map(ranges => {\n\t\t\t\tlet node: types.SelectionRange | undefined;\n\t\t\t\tfor (const range of ranges.reverse()) {\n\t\t\t\t\tnode = new types.SelectionRange(typeConverters.Range.to(range), node);\n\t\t\t\t}\n\t\t\t\treturn node!;\n\t\t\t});\n\t\t})\n\t),\n\t// -- symbol search\n\tnew ApiCommand(\n\t\t'vscode.executeWorkspaceSymbolProvider', '_executeWorkspaceSymbolProvider', 'Execute all workspace symbol providers.',\n\t\t[ApiCommandArgument.String.with('query', 'Search string')],\n\t\tnew ApiCommandResult<search.IWorkspaceSymbol[], types.SymbolInformation[]>('A promise that resolves to an array of SymbolInformation-instances.', value => {\n\t\t\treturn value.map(typeConverters.WorkspaceSymbol.to);\n\t\t})\n\t),\n\t// --- call hierarchy\n\tnew ApiCommand(\n\t\t'vscode.prepareCallHierarchy', '_executePrepareCallHierarchy', 'Prepare call hierarchy at a position inside a document',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position],\n\t\tnew ApiCommandResult<ICallHierarchyItemDto[], types.CallHierarchyItem[]>('A promise that resolves to an array of CallHierarchyItem-instances', v => v.map(typeConverters.CallHierarchyItem.to))\n\t),\n\tnew ApiCommand(\n\t\t'vscode.provideIncomingCalls', '_executeProvideIncomingCalls', 'Compute incoming calls for an item',\n\t\t[ApiCommandArgument.CallHierarchyItem],\n\t\tnew ApiCommandResult<IIncomingCallDto[], types.CallHierarchyIncomingCall[]>('A promise that resolves to an array of CallHierarchyIncomingCall-instances', v => v.map(typeConverters.CallHierarchyIncomingCall.to))\n\t),\n\tnew ApiCommand(\n\t\t'vscode.provideOutgoingCalls', '_executeProvideOutgoingCalls', 'Compute outgoing calls for an item',\n\t\t[ApiCommandArgument.CallHierarchyItem],\n\t\tnew ApiCommandResult<IOutgoingCallDto[], types.CallHierarchyOutgoingCall[]>('A promise that resolves to an array of CallHierarchyOutgoingCall-instances', v => v.map(typeConverters.CallHierarchyOutgoingCall.to))\n\t),\n\t// --- rename\n\tnew ApiCommand(\n\t\t'vscode.prepareRename', '_executePrepareRename', 'Execute the prepareRename of rename provider.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position],\n\t\tnew ApiCommandResult<languages.RenameLocation, { range: types.Range; placeholder: string } | undefined>('A promise that resolves to a range and placeholder text.', value => {\n\t\t\tif (!value) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\trange: typeConverters.Range.to(value.range),\n\t\t\t\tplaceholder: value.text\n\t\t\t};\n\t\t})\n\t),\n\tnew ApiCommand(\n\t\t'vscode.executeDocumentRenameProvider', '_executeDocumentRenameProvider', 'Execute rename provider.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position, ApiCommandArgument.String.with('newName', 'The new symbol name')],\n\t\tnew ApiCommandResult<IWorkspaceEditDto & { rejectReason?: string }, types.WorkspaceEdit | undefined>('A promise that resolves to a WorkspaceEdit.', value => {\n\t\t\tif (!value) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tif (value.rejectReason) {\n\t\t\t\tthrow new Error(value.rejectReason);\n\t\t\t}\n\t\t\treturn typeConverters.WorkspaceEdit.to(value);\n\t\t})\n\t),\n\t// --- links\n\tnew ApiCommand(\n\t\t'vscode.executeLinkProvider', '_executeLinkProvider', 'Execute document link provider.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Number.with('linkResolveCount', 'Number of links that should be resolved, only when links are unresolved.').optional()],\n\t\tnew ApiCommandResult<languages.ILink[], vscode.DocumentLink[]>('A promise that resolves to an array of DocumentLink-instances.', value => value.map(typeConverters.DocumentLink.to))\n\t),\n\t// --- semantic tokens\n\tnew ApiCommand(\n\t\t'vscode.provideDocumentSemanticTokensLegend', '_provideDocumentSemanticTokensLegend', 'Provide semantic tokens legend for a document',\n\t\t[ApiCommandArgument.Uri],\n\t\tnew ApiCommandResult<languages.SemanticTokensLegend, types.SemanticTokensLegend | undefined>('A promise that resolves to SemanticTokensLegend.', value => {\n\t\t\tif (!value) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\treturn new types.SemanticTokensLegend(value.tokenTypes, value.tokenModifiers);\n\t\t})\n\t),\n\tnew ApiCommand(\n\t\t'vscode.provideDocumentSemanticTokens', '_provideDocumentSemanticTokens', 'Provide semantic tokens for a document',\n\t\t[ApiCommandArgument.Uri],\n\t\tnew ApiCommandResult<VSBuffer, types.SemanticTokens | undefined>('A promise that resolves to SemanticTokens.', value => {\n\t\t\tif (!value) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tconst semanticTokensDto = decodeSemanticTokensDto(value);\n\t\t\tif (semanticTokensDto.type !== 'full') {\n\t\t\t\t// only accepting full semantic tokens from provideDocumentSemanticTokens\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\treturn new types.SemanticTokens(semanticTokensDto.data, undefined);\n\t\t})\n\t),\n\tnew ApiCommand(\n\t\t'vscode.provideDocumentRangeSemanticTokensLegend', '_provideDocumentRangeSemanticTokensLegend', 'Provide semantic tokens legend for a document range',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Range.optional()],\n\t\tnew ApiCommandResult<languages.SemanticTokensLegend, types.SemanticTokensLegend | undefined>('A promise that resolves to SemanticTokensLegend.', value => {\n\t\t\tif (!value) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\treturn new types.SemanticTokensLegend(value.tokenTypes, value.tokenModifiers);\n\t\t})\n\t),\n\tnew ApiCommand(\n\t\t'vscode.provideDocumentRangeSemanticTokens', '_provideDocumentRangeSemanticTokens', 'Provide semantic tokens for a document range',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Range],\n\t\tnew ApiCommandResult<VSBuffer, types.SemanticTokens | undefined>('A promise that resolves to SemanticTokens.', value => {\n\t\t\tif (!value) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tconst semanticTokensDto = decodeSemanticTokensDto(value);\n\t\t\tif (semanticTokensDto.type !== 'full') {\n\t\t\t\t// only accepting full semantic tokens from provideDocumentRangeSemanticTokens\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\treturn new types.SemanticTokens(semanticTokensDto.data, undefined);\n\t\t})\n\t),\n\t// --- completions\n\tnew ApiCommand(\n\t\t'vscode.executeCompletionItemProvider', '_executeCompletionItemProvider', 'Execute completion item provider.',\n\t\t[\n\t\t\tApiCommandArgument.Uri,\n\t\t\tApiCommandArgument.Position,\n\t\t\tApiCommandArgument.String.with('triggerCharacter', 'Trigger completion when the user types the character, like `,` or `(`').optional(),\n\t\t\tApiCommandArgument.Number.with('itemResolveCount', 'Number of completions to resolve (too large numbers slow down completions)').optional()\n\t\t],\n\t\tnew ApiCommandResult<languages.CompletionList, vscode.CompletionList>('A promise that resolves to a CompletionList-instance.', (value, _args, converter) => {\n\t\t\tif (!value) {\n\t\t\t\treturn new types.CompletionList([]);\n\t\t\t}\n\t\t\tconst items = value.suggestions.map(suggestion => typeConverters.CompletionItem.to(suggestion, converter));\n\t\t\treturn new types.CompletionList(items, value.incomplete);\n\t\t})\n\t),\n\t// --- signature help\n\tnew ApiCommand(\n\t\t'vscode.executeSignatureHelpProvider', '_executeSignatureHelpProvider', 'Execute signature help provider.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position, ApiCommandArgument.String.with('triggerCharacter', 'Trigger signature help when the user types the character, like `,` or `(`').optional()],\n\t\tnew ApiCommandResult<languages.SignatureHelp, vscode.SignatureHelp | undefined>('A promise that resolves to SignatureHelp.', value => {\n\t\t\tif (value) {\n\t\t\t\treturn typeConverters.SignatureHelp.to(value);\n\t\t\t}\n\t\t\treturn undefined;\n\t\t})\n\t),\n\t// --- code lens\n\tnew ApiCommand(\n\t\t'vscode.executeCodeLensProvider', '_executeCodeLensProvider', 'Execute code lens provider.',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Number.with('itemResolveCount', 'Number of lenses that should be resolved and returned. Will only return resolved lenses, will impact performance)').optional()],\n\t\tnew ApiCommandResult<languages.CodeLens[], vscode.CodeLens[] | undefined>('A promise that resolves to an array of CodeLens-instances.', (value, _args, converter) => {\n\t\t\treturn tryMapWith<languages.CodeLens, vscode.CodeLens>(item => {\n\t\t\t\treturn new types.CodeLens(typeConverters.Range.to(item.range), item.command && converter.fromInternal(item.command));\n\t\t\t})(value);\n\t\t})\n\t),\n\t// --- code actions\n\tnew ApiCommand(\n\t\t'vscode.executeCodeActionProvider', '_executeCodeActionProvider', 'Execute code action provider.',\n\t\t[\n\t\t\tApiCommandArgument.Uri,\n\t\t\tnew ApiCommandArgument('rangeOrSelection', 'Range in a text document. Some refactoring provider requires Selection object.', v => types.Range.isRange(v), v => types.Selection.isSelection(v) ? typeConverters.Selection.from(v) : typeConverters.Range.from(v)),\n\t\t\tApiCommandArgument.String.with('kind', 'Code action kind to return code actions for').optional(),\n\t\t\tApiCommandArgument.Number.with('itemResolveCount', 'Number of code actions to resolve (too large numbers slow down code actions)').optional()\n\t\t],\n\t\tnew ApiCommandResult<CustomCodeAction[], (vscode.CodeAction | vscode.Command | undefined)[] | undefined>('A promise that resolves to an array of Command-instances.', (value, _args, converter) => {\n\t\t\treturn tryMapWith<CustomCodeAction, vscode.CodeAction | vscode.Command | undefined>((codeAction) => {\n\t\t\t\tif (codeAction._isSynthetic) {\n\t\t\t\t\tif (!codeAction.command) {\n\t\t\t\t\t\tthrow new Error('Synthetic code actions must have a command');\n\t\t\t\t\t}\n\t\t\t\t\treturn converter.fromInternal(codeAction.command);\n\t\t\t\t} else {\n\t\t\t\t\tconst ret = new types.CodeAction(\n\t\t\t\t\t\tcodeAction.title,\n\t\t\t\t\t\tcodeAction.kind ? new types.CodeActionKind(codeAction.kind) : undefined\n\t\t\t\t\t);\n\t\t\t\t\tif (codeAction.edit) {\n\t\t\t\t\t\tret.edit = typeConverters.WorkspaceEdit.to(codeAction.edit);\n\t\t\t\t\t}\n\t\t\t\t\tif (codeAction.command) {\n\t\t\t\t\t\tret.command = converter.fromInternal(codeAction.command);\n\t\t\t\t\t}\n\t\t\t\t\tret.isPreferred = codeAction.isPreferred;\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\t\t\t})(value);\n\t\t})\n\t),\n\t// --- colors\n\tnew ApiCommand(\n\t\t'vscode.executeDocumentColorProvider', '_executeDocumentColorProvider', 'Execute document color provider.',\n\t\t[ApiCommandArgument.Uri],\n\t\tnew ApiCommandResult<IRawColorInfo[], vscode.ColorInformation[]>('A promise that resolves to an array of ColorInformation objects.', result => {\n\t\t\tif (result) {\n\t\t\t\treturn result.map(ci => new types.ColorInformation(typeConverters.Range.to(ci.range), typeConverters.Color.to(ci.color)));\n\t\t\t}\n\t\t\treturn [];\n\t\t})\n\t),\n\tnew ApiCommand(\n\t\t'vscode.executeColorPresentationProvider', '_executeColorPresentationProvider', 'Execute color presentation provider.',\n\t\t[\n\t\t\tnew ApiCommandArgument<types.Color, [number, number, number, number]>('color', 'The color to show and insert', v => v instanceof types.Color, typeConverters.Color.from),\n\t\t\tnew ApiCommandArgument<{ uri: URI; range: types.Range }, { uri: URI; range: IRange }>('context', 'Context object with uri and range', _v => true, v => ({ uri: v.uri, range: typeConverters.Range.from(v.range) })),\n\t\t],\n\t\tnew ApiCommandResult<languages.IColorPresentation[], types.ColorPresentation[]>('A promise that resolves to an array of ColorPresentation objects.', result => {\n\t\t\tif (result) {\n\t\t\t\treturn result.map(typeConverters.ColorPresentation.to);\n\t\t\t}\n\t\t\treturn [];\n\t\t})\n\t),\n\t// --- inline hints\n\tnew ApiCommand(\n\t\t'vscode.executeInlayHintProvider', '_executeInlayHintProvider', 'Execute inlay hints provider',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Range],\n\t\tnew ApiCommandResult<languages.InlayHint[], vscode.InlayHint[]>('A promise that resolves to an array of Inlay objects', (result, args, converter) => {\n\t\t\treturn result.map(typeConverters.InlayHint.to.bind(undefined, converter));\n\t\t})\n\t),\n\t// --- folding\n\tnew ApiCommand(\n\t\t'vscode.executeFoldingRangeProvider', '_executeFoldingRangeProvider', 'Execute folding range provider',\n\t\t[ApiCommandArgument.Uri],\n\t\tnew ApiCommandResult<languages.FoldingRange[] | undefined, vscode.FoldingRange[] | undefined>('A promise that resolves to an array of FoldingRange objects', (result, args) => {\n\t\t\tif (result) {\n\t\t\t\treturn result.map(typeConverters.FoldingRange.to);\n\t\t\t}\n\t\t\treturn undefined;\n\t\t})\n\t),\n\n\t// --- notebooks\n\tnew ApiCommand(\n\t\t'vscode.resolveNotebookContentProviders', '_resolveNotebookContentProvider', 'Resolve Notebook Content Providers',\n\t\t[\n\t\t\t// new ApiCommandArgument<string, string>('viewType', '', v => typeof v === 'string', v => v),\n\t\t\t// new ApiCommandArgument<string, string>('displayName', '', v => typeof v === 'string', v => v),\n\t\t\t// new ApiCommandArgument<object, object>('options', '', v => typeof v === 'object', v => v),\n\t\t],\n\t\tnew ApiCommandResult<{\n\t\t\tviewType: string;\n\t\t\tdisplayName: string;\n\t\t\toptions: { transientOutputs: boolean; transientCellMetadata: TransientCellMetadata; transientDocumentMetadata: TransientDocumentMetadata };\n\t\t\tfilenamePattern: (vscode.GlobPattern | { include: vscode.GlobPattern; exclude: vscode.GlobPattern })[];\n\t\t}[], {\n\t\t\tviewType: string;\n\t\t\tdisplayName: string;\n\t\t\tfilenamePattern: (vscode.GlobPattern | { include: vscode.GlobPattern; exclude: vscode.GlobPattern })[];\n\t\t\toptions: vscode.NotebookDocumentContentOptions;\n\t\t}[] | undefined>('A promise that resolves to an array of NotebookContentProvider static info objects.', tryMapWith(item => {\n\t\t\treturn {\n\t\t\t\tviewType: item.viewType,\n\t\t\t\tdisplayName: item.displayName,\n\t\t\t\toptions: {\n\t\t\t\t\ttransientOutputs: item.options.transientOutputs,\n\t\t\t\t\ttransientCellMetadata: item.options.transientCellMetadata,\n\t\t\t\t\ttransientDocumentMetadata: item.options.transientDocumentMetadata\n\t\t\t\t},\n\t\t\t\tfilenamePattern: item.filenamePattern.map(pattern => typeConverters.NotebookExclusiveDocumentPattern.to(pattern))\n\t\t\t};\n\t\t}))\n\t),\n\t// --- debug support\n\tnew ApiCommand(\n\t\t'vscode.executeInlineValueProvider', '_executeInlineValueProvider', 'Execute inline value provider',\n\t\t[\n\t\t\tApiCommandArgument.Uri,\n\t\t\tApiCommandArgument.Range,\n\t\t\tnew ApiCommandArgument<types.InlineValueContext, IInlineValueContextDto>('context', 'An InlineValueContext', v => v && typeof v.frameId === 'number' && v.stoppedLocation instanceof types.Range, v => typeConverters.InlineValueContext.from(v))\n\t\t],\n\t\tnew ApiCommandResult<languages.InlineValue[], vscode.InlineValue[]>('A promise that resolves to an array of InlineValue objects', result => {\n\t\t\treturn result.map(typeConverters.InlineValue.to);\n\t\t})\n\t),\n\t// --- open'ish commands\n\tnew ApiCommand(\n\t\t'vscode.open', '_workbench.open', 'Opens the provided resource in the editor. Can be a text or binary file, or an http(s) URL. If you need more control over the options for opening a text file, use vscode.window.showTextDocument instead.',\n\t\t[\n\t\t\tnew ApiCommandArgument<URI | string>('uriOrString', 'Uri-instance or string (only http/https)', v => URI.isUri(v) || (typeof v === 'string' && matchesSomeScheme(v, Schemas.http, Schemas.https)), v => v),\n\t\t\tnew ApiCommandArgument<vscode.ViewColumn | typeConverters.TextEditorOpenOptions | undefined, [vscode.ViewColumn?, ITextEditorOptions?] | undefined>('columnOrOptions', 'Either the column in which to open or editor options, see vscode.TextDocumentShowOptions',\n\t\t\t\tv => v === undefined || typeof v === 'number' || typeof v === 'object',\n\t\t\t\tv => !v ? v : typeof v === 'number' ? [typeConverters.ViewColumn.from(v), undefined] : [typeConverters.ViewColumn.from(v.viewColumn), typeConverters.TextEditorOpenOptions.from(v)]\n\t\t\t).optional(),\n\t\t\tApiCommandArgument.String.with('label', '').optional()\n\t\t],\n\t\tApiCommandResult.Void\n\t),\n\tnew ApiCommand(\n\t\t'vscode.openWith', '_workbench.openWith', 'Opens the provided resource with a specific editor.',\n\t\t[\n\t\t\tApiCommandArgument.Uri.with('resource', 'Resource to open'),\n\t\t\tApiCommandArgument.String.with('viewId', 'Custom editor view id. This should be the viewType string for custom editors or the notebookType string for notebooks. Use \\'default\\' to use VS Code\\'s default text editor'),\n\t\t\tnew ApiCommandArgument<vscode.ViewColumn | typeConverters.TextEditorOpenOptions | undefined, [vscode.ViewColumn?, ITextEditorOptions?] | undefined>('columnOrOptions', 'Either the column in which to open or editor options, see vscode.TextDocumentShowOptions',\n\t\t\t\tv => v === undefined || typeof v === 'number' || typeof v === 'object',\n\t\t\t\tv => !v ? v : typeof v === 'number' ? [typeConverters.ViewColumn.from(v), undefined] : [typeConverters.ViewColumn.from(v.viewColumn), typeConverters.TextEditorOpenOptions.from(v)],\n\t\t\t).optional()\n\t\t],\n\t\tApiCommandResult.Void\n\t),\n\tnew ApiCommand(\n\t\t'vscode.diff', '_workbench.diff', 'Opens the provided resources in the diff editor to compare their contents.',\n\t\t[\n\t\t\tApiCommandArgument.Uri.with('left', 'Left-hand side resource of the diff editor'),\n\t\t\tApiCommandArgument.Uri.with('right', 'Right-hand side resource of the diff editor'),\n\t\t\tApiCommandArgument.String.with('title', 'Human readable title for the diff editor').optional(),\n\t\t\tnew ApiCommandArgument<typeConverters.TextEditorOpenOptions | undefined, [number?, ITextEditorOptions?] | undefined>('columnOrOptions', 'Either the column in which to open or editor options, see vscode.TextDocumentShowOptions',\n\t\t\t\tv => v === undefined || typeof v === 'object',\n\t\t\t\tv => v && [typeConverters.ViewColumn.from(v.viewColumn), typeConverters.TextEditorOpenOptions.from(v)]\n\t\t\t).optional(),\n\t\t],\n\t\tApiCommandResult.Void\n\t),\n\tnew ApiCommand(\n\t\t'vscode.changes', '_workbench.changes', 'Opens a list of resources in the changes editor to compare their contents.',\n\t\t[\n\t\t\tApiCommandArgument.String.with('title', 'Human readable title for the changes editor'),\n\t\t\tnew ApiCommandArgument<[URI, URI?, URI?][]>('resourceList', 'List of resources to compare',\n\t\t\t\tresources => {\n\t\t\t\t\tfor (const resource of resources) {\n\t\t\t\t\t\tif (resource.length !== 3) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst [label, left, right] = resource;\n\t\t\t\t\t\tif (!URI.isUri(label) ||\n\t\t\t\t\t\t\t(!URI.isUri(left) && left !== undefined && left !== null) ||\n\t\t\t\t\t\t\t(!URI.isUri(right) && right !== undefined && right !== null)) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\tv => v)\n\t\t],\n\t\tApiCommandResult.Void\n\t),\n\t// --- type hierarchy\n\tnew ApiCommand(\n\t\t'vscode.prepareTypeHierarchy', '_executePrepareTypeHierarchy', 'Prepare type hierarchy at a position inside a document',\n\t\t[ApiCommandArgument.Uri, ApiCommandArgument.Position],\n\t\tnew ApiCommandResult<ITypeHierarchyItemDto[], types.TypeHierarchyItem[]>('A promise that resolves to an array of TypeHierarchyItem-instances', v => v.map(typeConverters.TypeHierarchyItem.to))\n\t),\n\tnew ApiCommand(\n\t\t'vscode.provideSupertypes', '_executeProvideSupertypes', 'Compute supertypes for an item',\n\t\t[ApiCommandArgument.TypeHierarchyItem],\n\t\tnew ApiCommandResult<ITypeHierarchyItemDto[], types.TypeHierarchyItem[]>('A promise that resolves to an array of TypeHierarchyItem-instances', v => v.map(typeConverters.TypeHierarchyItem.to))\n\t),\n\tnew ApiCommand(\n\t\t'vscode.provideSubtypes', '_executeProvideSubtypes', 'Compute subtypes for an item',\n\t\t[ApiCommandArgument.TypeHierarchyItem],\n\t\tnew ApiCommandResult<ITypeHierarchyItemDto[], types.TypeHierarchyItem[]>('A promise that resolves to an array of TypeHierarchyItem-instances', v => v.map(typeConverters.TypeHierarchyItem.to))\n\t),\n\t// --- testing\n\tnew ApiCommand(\n\t\t'vscode.revealTestInExplorer', '_revealTestInExplorer', 'Reveals a test instance in the explorer',\n\t\t[ApiCommandArgument.TestItem],\n\t\tApiCommandResult.Void\n\t),\n\tnew ApiCommand(\n\t\t'vscode.startContinuousTestRun', 'testing.startContinuousRunFromExtension', 'Starts running the given tests with continuous run mode.',\n\t\t[ApiCommandArgument.TestProfile, ApiCommandArgument.Arr(ApiCommandArgument.TestItem)],\n\t\tApiCommandResult.Void\n\t),\n\tnew ApiCommand(\n\t\t'vscode.stopContinuousTestRun', 'testing.stopContinuousRunFromExtension', 'Stops running the given tests with continuous run mode.',\n\t\t[ApiCommandArgument.Arr(ApiCommandArgument.TestItem)],\n\t\tApiCommandResult.Void\n\t),\n\t// --- continue edit session\n\tnew ApiCommand(\n\t\t'vscode.experimental.editSession.continue', '_workbench.editSessions.actions.continueEditSession', 'Continue the current edit session in a different workspace',\n\t\t[ApiCommandArgument.Uri.with('workspaceUri', 'The target workspace to continue the current edit session in')],\n\t\tApiCommandResult.Void\n\t),\n\t// --- context keys\n\tnew ApiCommand(\n\t\t'setContext', '_setContext', 'Set a custom context key value that can be used in when clauses.',\n\t\t[\n\t\t\tApiCommandArgument.String.with('name', 'The context key name'),\n\t\t\tnew ApiCommandArgument('value', 'The context key value', () => true, v => v),\n\t\t],\n\t\tApiCommandResult.Void\n\t),\n\t// --- inline chat\n\tnew ApiCommand(\n\t\t'vscode.editorChat.start', 'inlineChat.start', 'Invoke a new editor chat session',\n\t\t[new ApiCommandArgument<InlineChatEditorApiArg | undefined, InlineChatRunOptions | undefined>('Run arguments', '', _v => true, v => {\n\n\t\t\tif (!v) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tinitialRange: v.initialRange ? typeConverters.Range.from(v.initialRange) : undefined,\n\t\t\t\tinitialSelection: types.Selection.isSelection(v.initialSelection) ? typeConverters.Selection.from(v.initialSelection) : undefined,\n\t\t\t\tmessage: v.message,\n\t\t\t\tattachments: v.attachments,\n\t\t\t\tautoSend: v.autoSend,\n\t\t\t\tposition: v.position ? typeConverters.Position.from(v.position) : undefined,\n\t\t\t};\n\t\t})],\n\t\tApiCommandResult.Void\n\t)\n];\n\ntype InlineChatEditorApiArg = {\n\tinitialRange?: vscode.Range;\n\tinitialSelection?: vscode.Selection;\n\tmessage?: string;\n\tattachments?: vscode.Uri[];\n\tautoSend?: boolean;\n\tposition?: vscode.Position;\n};\n\ntype InlineChatRunOptions = {\n\tinitialRange?: IRange;\n\tinitialSelection?: ISelection;\n\tmessage?: string;\n\tattachments?: URI[];\n\tautoSend?: boolean;\n\tposition?: IPosition;\n};\n\n//#endregion\n\n\n//#region OLD world\n\nexport class ExtHostApiCommands {\n\n\tstatic register(commands: ExtHostCommands) {\n\n\t\tnewCommands.forEach(commands.registerApiCommand, commands);\n\n\t\tthis._registerValidateWhenClausesCommand(commands);\n\t}\n\n\tprivate static _registerValidateWhenClausesCommand(commands: ExtHostCommands) {\n\t\tcommands.registerCommand(false, '_validateWhenClauses', validateWhenClauses);\n\t}\n}\n\nfunction tryMapWith<T, R>(f: (x: T) => R) {\n\treturn (value: T[]) => {\n\t\tif (Array.isArray(value)) {\n\t\t\treturn value.map(f);\n\t\t}\n\t\treturn undefined;\n\t};\n}\n\nfunction mapLocationOrLocationLink(values: (languages.Location | languages.LocationLink)[]): (types.Location | vscode.LocationLink)[] | undefined {\n\tif (!Array.isArray(values)) {\n\t\treturn undefined;\n\t}\n\tconst result: (types.Location | vscode.LocationLink)[] = [];\n\tfor (const item of values) {\n\t\tif (languages.isLocationLink(item)) {\n\t\t\tresult.push(typeConverters.DefinitionLink.to(item));\n\t\t} else {\n\t\t\tresult.push(typeConverters.location.to(item));\n\t\t}\n\t}\n\treturn result;\n}\n"]}