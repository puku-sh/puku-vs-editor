{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/api/common/extHostNotebookEditors.ts","vs/workbench/api/common/extHostNotebookEditors.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;AAEhG,OAAO,EAAE,OAAO,EAAE,MAAM,+BAA+B,CAAC;AACxD,OAAO,EAAE,WAAW,EAAE,MAAM,qCAAqC,CAAC;AAGlE,OAAO,KAAK,cAAc,MAAM,4BAA4B,CAAC;AAItD,IAAM,sBAAsB,GAA5B,MAAM,sBAAsB;IAQlC,YACc,WAAyC,EACrC,oBAA+C;QADlC,gBAAW,GAAX,WAAW,CAAa;QACrC,yBAAoB,GAApB,oBAAoB,CAA2B;QARhD,wCAAmC,GAAG,IAAI,OAAO,EAA6C,CAAC;QAC/F,4CAAuC,GAAG,IAAI,OAAO,EAAiD,CAAC;QAE/G,uCAAkC,GAAG,IAAI,CAAC,mCAAmC,CAAC,KAAK,CAAC;QACpF,2CAAsC,GAAG,IAAI,CAAC,uCAAuC,CAAC,KAAK,CAAC;IAKjG,CAAC;IAEL,8BAA8B,CAAC,EAAU,EAAE,IAAyC;QACnF,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,gDAAgD,EAAE,EAAE,EAAE,IAAI,CAAC,CAAC;QACnF,MAAM,MAAM,GAAG,IAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;QAC3D,8BAA8B;QAC9B,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC;YACxB,MAAM,CAAC,oBAAoB,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,GAAG,CAAC,cAAc,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC,CAAC;QAC7F,CAAC;QACD,IAAI,IAAI,CAAC,UAAU,EAAE,CAAC;YACrB,MAAM,CAAC,iBAAiB,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,GAAG,CAAC,cAAc,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC,CAAC;QAC3F,CAAC;QAED,sDAAsD;QACtD,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC;YACxB,IAAI,CAAC,uCAAuC,CAAC,IAAI,CAAC;gBACjD,cAAc,EAAE,MAAM,CAAC,SAAS;gBAChC,aAAa,EAAE,MAAM,CAAC,SAAS,CAAC,aAAa;aAC7C,CAAC,CAAC;QACJ,CAAC;QACD,IAAI,IAAI,CAAC,UAAU,EAAE,CAAC;YACrB,IAAI,CAAC,mCAAmC,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;gBAC3D,cAAc,EAAE,MAAM,CAAC,SAAS;gBAChC,UAAU,EAAE,MAAM,CAAC,SAAS,CAAC,UAAU;aACvC,CAAC,CAAC,CAAC;QACL,CAAC;IACF,CAAC;IAED,wBAAwB,CAAC,IAAmC;QAC3D,KAAK,MAAM,EAAE,IAAI,IAAI,EAAE,CAAC;YACvB,MAAM,MAAM,GAAG,IAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;YAC3D,MAAM,CAAC,iBAAiB,CAAC,cAAc,CAAC,UAAU,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAClE,CAAC;IACF,CAAC;CACD,CAAA;AA7CY,sBAAsB;IAShC,WAAA,WAAW,CAAA;GATD,sBAAsB,CA6ClC","file":"extHostNotebookEditors.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Emitter } from '../../../base/common/event.js';\nimport { ILogService } from '../../../platform/log/common/log.js';\nimport { ExtHostNotebookEditorsShape, INotebookEditorPropertiesChangeData, INotebookEditorViewColumnInfo } from './extHost.protocol.js';\nimport { ExtHostNotebookController } from './extHostNotebook.js';\nimport * as typeConverters from './extHostTypeConverters.js';\nimport type * as vscode from 'vscode';\n\n\nexport class ExtHostNotebookEditors implements ExtHostNotebookEditorsShape {\n\n\tprivate readonly _onDidChangeNotebookEditorSelection = new Emitter<vscode.NotebookEditorSelectionChangeEvent>();\n\tprivate readonly _onDidChangeNotebookEditorVisibleRanges = new Emitter<vscode.NotebookEditorVisibleRangesChangeEvent>();\n\n\treadonly onDidChangeNotebookEditorSelection = this._onDidChangeNotebookEditorSelection.event;\n\treadonly onDidChangeNotebookEditorVisibleRanges = this._onDidChangeNotebookEditorVisibleRanges.event;\n\n\tconstructor(\n\t\t@ILogService private readonly _logService: ILogService,\n\t\tprivate readonly _notebooksAndEditors: ExtHostNotebookController,\n\t) { }\n\n\t$acceptEditorPropertiesChanged(id: string, data: INotebookEditorPropertiesChangeData): void {\n\t\tthis._logService.debug('ExtHostNotebook#$acceptEditorPropertiesChanged', id, data);\n\t\tconst editor = this._notebooksAndEditors.getEditorById(id);\n\t\t// ONE: make all state updates\n\t\tif (data.visibleRanges) {\n\t\t\teditor._acceptVisibleRanges(data.visibleRanges.ranges.map(typeConverters.NotebookRange.to));\n\t\t}\n\t\tif (data.selections) {\n\t\t\teditor._acceptSelections(data.selections.selections.map(typeConverters.NotebookRange.to));\n\t\t}\n\n\t\t// TWO: send all events after states have been updated\n\t\tif (data.visibleRanges) {\n\t\t\tthis._onDidChangeNotebookEditorVisibleRanges.fire({\n\t\t\t\tnotebookEditor: editor.apiEditor,\n\t\t\t\tvisibleRanges: editor.apiEditor.visibleRanges\n\t\t\t});\n\t\t}\n\t\tif (data.selections) {\n\t\t\tthis._onDidChangeNotebookEditorSelection.fire(Object.freeze({\n\t\t\t\tnotebookEditor: editor.apiEditor,\n\t\t\t\tselections: editor.apiEditor.selections\n\t\t\t}));\n\t\t}\n\t}\n\n\t$acceptEditorViewColumns(data: INotebookEditorViewColumnInfo): void {\n\t\tfor (const id in data) {\n\t\t\tconst editor = this._notebooksAndEditors.getEditorById(id);\n\t\t\teditor._acceptViewColumn(typeConverters.ViewColumn.to(data[id]));\n\t\t}\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Emitter } from '../../../base/common/event.js';\nimport { ILogService } from '../../../platform/log/common/log.js';\nimport { ExtHostNotebookEditorsShape, INotebookEditorPropertiesChangeData, INotebookEditorViewColumnInfo } from './extHost.protocol.js';\nimport { ExtHostNotebookController } from './extHostNotebook.js';\nimport * as typeConverters from './extHostTypeConverters.js';\nimport type * as vscode from 'vscode';\n\n\nexport class ExtHostNotebookEditors implements ExtHostNotebookEditorsShape {\n\n\tprivate readonly _onDidChangeNotebookEditorSelection = new Emitter<vscode.NotebookEditorSelectionChangeEvent>();\n\tprivate readonly _onDidChangeNotebookEditorVisibleRanges = new Emitter<vscode.NotebookEditorVisibleRangesChangeEvent>();\n\n\treadonly onDidChangeNotebookEditorSelection = this._onDidChangeNotebookEditorSelection.event;\n\treadonly onDidChangeNotebookEditorVisibleRanges = this._onDidChangeNotebookEditorVisibleRanges.event;\n\n\tconstructor(\n\t\t@ILogService private readonly _logService: ILogService,\n\t\tprivate readonly _notebooksAndEditors: ExtHostNotebookController,\n\t) { }\n\n\t$acceptEditorPropertiesChanged(id: string, data: INotebookEditorPropertiesChangeData): void {\n\t\tthis._logService.debug('ExtHostNotebook#$acceptEditorPropertiesChanged', id, data);\n\t\tconst editor = this._notebooksAndEditors.getEditorById(id);\n\t\t// ONE: make all state updates\n\t\tif (data.visibleRanges) {\n\t\t\teditor._acceptVisibleRanges(data.visibleRanges.ranges.map(typeConverters.NotebookRange.to));\n\t\t}\n\t\tif (data.selections) {\n\t\t\teditor._acceptSelections(data.selections.selections.map(typeConverters.NotebookRange.to));\n\t\t}\n\n\t\t// TWO: send all events after states have been updated\n\t\tif (data.visibleRanges) {\n\t\t\tthis._onDidChangeNotebookEditorVisibleRanges.fire({\n\t\t\t\tnotebookEditor: editor.apiEditor,\n\t\t\t\tvisibleRanges: editor.apiEditor.visibleRanges\n\t\t\t});\n\t\t}\n\t\tif (data.selections) {\n\t\t\tthis._onDidChangeNotebookEditorSelection.fire(Object.freeze({\n\t\t\t\tnotebookEditor: editor.apiEditor,\n\t\t\t\tselections: editor.apiEditor.selections\n\t\t\t}));\n\t\t}\n\t}\n\n\t$acceptEditorViewColumns(data: INotebookEditorViewColumnInfo): void {\n\t\tfor (const id in data) {\n\t\t\tconst editor = this._notebooksAndEditors.getEditorById(id);\n\t\t\teditor._acceptViewColumn(typeConverters.ViewColumn.to(data[id]));\n\t\t}\n\t}\n}\n"]}