{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/api/common/extHostShare.ts","vs/workbench/api/common/extHostShare.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAGhG,OAAO,EAAsD,WAAW,EAAwB,MAAM,uBAAuB,CAAC;AAC9H,OAAO,EAAE,gBAAgB,EAAE,KAAK,EAAE,MAAM,4BAA4B,CAAC;AAGrE,OAAO,EAAE,GAAG,EAAiB,MAAM,6BAA6B,CAAC;AAEjE,MAAM,OAAO,YAAY;aACT,eAAU,GAAW,CAAX,AAAY,CAAC;IAKtC,YACC,WAAyB,EACR,cAA2C;QAA3C,mBAAc,GAAd,cAAc,CAA6B;QAJrD,cAAS,GAAsC,IAAI,GAAG,EAAE,CAAC;QAMhE,IAAI,CAAC,KAAK,GAAG,WAAW,CAAC,QAAQ,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC;IAChE,CAAC;IAED,KAAK,CAAC,aAAa,CAAC,MAAc,EAAE,aAAgC,EAAE,KAAwB;QAC7F,MAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAC5C,MAAM,MAAM,GAAG,MAAM,QAAQ,EAAE,YAAY,CAAC,EAAE,SAAS,EAAE,KAAK,CAAC,EAAE,CAAC,aAAa,CAAC,SAAS,CAAC,EAAE,WAAW,EAAE,GAAG,CAAC,MAAM,CAAC,aAAa,CAAC,WAAW,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;QACzJ,OAAO,MAAM,IAAI,SAAS,CAAC;IAC5B,CAAC;IAED,qBAAqB,CAAC,QAAiC,EAAE,QAA8B;QACtF,MAAM,MAAM,GAAG,YAAY,CAAC,UAAU,EAAE,CAAC;QACzC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;QACrC,IAAI,CAAC,KAAK,CAAC,sBAAsB,CAAC,MAAM,EAAE,gBAAgB,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,cAAc,CAAC,EAAE,QAAQ,CAAC,EAAE,EAAE,QAAQ,CAAC,KAAK,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC;QAChJ,OAAO;YACN,OAAO,EAAE,GAAG,EAAE;gBACb,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,MAAM,CAAC,CAAC;gBAC5C,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;YAC/B,CAAC;SACD,CAAC;IACH,CAAC","file":"extHostShare.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type * as vscode from 'vscode';\nimport { ExtHostShareShape, IMainContext, IShareableItemDto, MainContext, MainThreadShareShape } from './extHost.protocol.js';\nimport { DocumentSelector, Range } from './extHostTypeConverters.js';\nimport { IURITransformer } from '../../../base/common/uriIpc.js';\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { URI, UriComponents } from '../../../base/common/uri.js';\n\nexport class ExtHostShare implements ExtHostShareShape {\n\tprivate static handlePool: number = 0;\n\n\tprivate proxy: MainThreadShareShape;\n\tprivate providers: Map<number, vscode.ShareProvider> = new Map();\n\n\tconstructor(\n\t\tmainContext: IMainContext,\n\t\tprivate readonly uriTransformer: IURITransformer | undefined\n\t) {\n\t\tthis.proxy = mainContext.getProxy(MainContext.MainThreadShare);\n\t}\n\n\tasync $provideShare(handle: number, shareableItem: IShareableItemDto, token: CancellationToken): Promise<UriComponents | string | undefined> {\n\t\tconst provider = this.providers.get(handle);\n\t\tconst result = await provider?.provideShare({ selection: Range.to(shareableItem.selection), resourceUri: URI.revive(shareableItem.resourceUri) }, token);\n\t\treturn result ?? undefined;\n\t}\n\n\tregisterShareProvider(selector: vscode.DocumentSelector, provider: vscode.ShareProvider): vscode.Disposable {\n\t\tconst handle = ExtHostShare.handlePool++;\n\t\tthis.providers.set(handle, provider);\n\t\tthis.proxy.$registerShareProvider(handle, DocumentSelector.from(selector, this.uriTransformer), provider.id, provider.label, provider.priority);\n\t\treturn {\n\t\t\tdispose: () => {\n\t\t\t\tthis.proxy.$unregisterShareProvider(handle);\n\t\t\t\tthis.providers.delete(handle);\n\t\t\t}\n\t\t};\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type * as vscode from 'vscode';\nimport { ExtHostShareShape, IMainContext, IShareableItemDto, MainContext, MainThreadShareShape } from './extHost.protocol.js';\nimport { DocumentSelector, Range } from './extHostTypeConverters.js';\nimport { IURITransformer } from '../../../base/common/uriIpc.js';\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { URI, UriComponents } from '../../../base/common/uri.js';\n\nexport class ExtHostShare implements ExtHostShareShape {\n\tprivate static handlePool: number = 0;\n\n\tprivate proxy: MainThreadShareShape;\n\tprivate providers: Map<number, vscode.ShareProvider> = new Map();\n\n\tconstructor(\n\t\tmainContext: IMainContext,\n\t\tprivate readonly uriTransformer: IURITransformer | undefined\n\t) {\n\t\tthis.proxy = mainContext.getProxy(MainContext.MainThreadShare);\n\t}\n\n\tasync $provideShare(handle: number, shareableItem: IShareableItemDto, token: CancellationToken): Promise<UriComponents | string | undefined> {\n\t\tconst provider = this.providers.get(handle);\n\t\tconst result = await provider?.provideShare({ selection: Range.to(shareableItem.selection), resourceUri: URI.revive(shareableItem.resourceUri) }, token);\n\t\treturn result ?? undefined;\n\t}\n\n\tregisterShareProvider(selector: vscode.DocumentSelector, provider: vscode.ShareProvider): vscode.Disposable {\n\t\tconst handle = ExtHostShare.handlePool++;\n\t\tthis.providers.set(handle, provider);\n\t\tthis.proxy.$registerShareProvider(handle, DocumentSelector.from(selector, this.uriTransformer), provider.id, provider.label, provider.priority);\n\t\treturn {\n\t\t\tdispose: () => {\n\t\t\t\tthis.proxy.$unregisterShareProvider(handle);\n\t\t\t\tthis.providers.delete(handle);\n\t\t\t}\n\t\t};\n\t}\n}\n"]}