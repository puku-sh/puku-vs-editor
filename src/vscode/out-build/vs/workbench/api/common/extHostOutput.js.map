{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/api/common/extHostOutput.ts","vs/workbench/api/common/extHostOutput.ts"],"names":[],"mappings":"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","file":"extHostOutput.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { MainContext, MainThreadOutputServiceShape, ExtHostOutputServiceShape } from './extHost.protocol.js';\nimport type * as vscode from 'vscode';\nimport { URI } from '../../../base/common/uri.js';\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\nimport { IExtHostRpcService } from './extHostRpcService.js';\nimport { ExtensionIdentifier, IExtensionDescription } from '../../../platform/extensions/common/extensions.js';\nimport { AbstractMessageLogger, ILogger, ILoggerService, ILogService, log, LogLevel, parseLogLevel } from '../../../platform/log/common/log.js';\nimport { OutputChannelUpdateMode } from '../../services/output/common/output.js';\nimport { IExtHostConsumerFileSystem } from './extHostFileSystemConsumer.js';\nimport { IExtHostInitDataService } from './extHostInitDataService.js';\nimport { IExtHostFileSystemInfo } from './extHostFileSystemInfo.js';\nimport { toLocalISOString } from '../../../base/common/date.js';\nimport { VSBuffer } from '../../../base/common/buffer.js';\nimport { isString } from '../../../base/common/types.js';\nimport { FileSystemProviderErrorCode, toFileSystemProviderErrorCode } from '../../../platform/files/common/files.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { DisposableStore, toDisposable } from '../../../base/common/lifecycle.js';\n\nclass ExtHostOutputChannel extends AbstractMessageLogger implements vscode.LogOutputChannel {\n\n\tprivate offset: number = 0;\n\n\tpublic visible: boolean = false;\n\n\tconstructor(\n\t\treadonly id: string,\n\t\treadonly name: string,\n\t\tprotected readonly logger: ILogger,\n\t\tprotected readonly proxy: MainThreadOutputServiceShape,\n\t\treadonly extension: IExtensionDescription,\n\t) {\n\t\tsuper();\n\t\tthis.setLevel(logger.getLevel());\n\t\tthis._register(logger.onDidChangeLogLevel(level => this.setLevel(level)));\n\t\tthis._register(toDisposable(() => this.proxy.$dispose(this.id)));\n\t}\n\n\tget logLevel(): LogLevel {\n\t\treturn this.getLevel();\n\t}\n\n\tappendLine(value: string): void {\n\t\tthis.append(value + '\\n');\n\t}\n\n\tappend(value: string): void {\n\t\tthis.info(value);\n\t}\n\n\tclear(): void {\n\t\tconst till = this.offset;\n\t\tthis.logger.flush();\n\t\tthis.proxy.$update(this.id, OutputChannelUpdateMode.Clear, till);\n\t}\n\n\treplace(value: string): void {\n\t\tconst till = this.offset;\n\t\tthis.info(value);\n\t\tthis.proxy.$update(this.id, OutputChannelUpdateMode.Replace, till);\n\t\tif (this.visible) {\n\t\t\tthis.logger.flush();\n\t\t}\n\t}\n\n\tshow(columnOrPreserveFocus?: vscode.ViewColumn | boolean, preserveFocus?: boolean): void {\n\t\tthis.logger.flush();\n\t\tthis.proxy.$reveal(this.id, !!(typeof columnOrPreserveFocus === 'boolean' ? columnOrPreserveFocus : preserveFocus));\n\t}\n\n\thide(): void {\n\t\tthis.proxy.$close(this.id);\n\t}\n\n\tprotected log(level: LogLevel, message: string): void {\n\t\tthis.offset += VSBuffer.fromString(message).byteLength;\n\t\tlog(this.logger, level, message);\n\t\tif (this.visible) {\n\t\t\tthis.logger.flush();\n\t\t\tthis.proxy.$update(this.id, OutputChannelUpdateMode.Append);\n\t\t}\n\t}\n\n}\n\nclass ExtHostLogOutputChannel extends ExtHostOutputChannel {\n\n\toverride appendLine(value: string): void {\n\t\tthis.append(value);\n\t}\n\n}\n\nexport class ExtHostOutputService implements ExtHostOutputServiceShape {\n\n\treadonly _serviceBrand: undefined;\n\n\tprivate readonly proxy: MainThreadOutputServiceShape;\n\n\tprivate readonly outputsLocation: URI;\n\tprivate outputDirectoryPromise: Thenable<URI> | undefined;\n\tprivate readonly extensionLogDirectoryPromise = new Map<string, Thenable<URI>>();\n\tprivate namePool: number = 1;\n\n\tprivate readonly channels = new Map<string, ExtHostLogOutputChannel | ExtHostOutputChannel>();\n\tprivate visibleChannelId: string | null = null;\n\n\tconstructor(\n\t\t@IExtHostRpcService extHostRpc: IExtHostRpcService,\n\t\t@IExtHostInitDataService private readonly initData: IExtHostInitDataService,\n\t\t@IExtHostConsumerFileSystem private readonly extHostFileSystem: IExtHostConsumerFileSystem,\n\t\t@IExtHostFileSystemInfo private readonly extHostFileSystemInfo: IExtHostFileSystemInfo,\n\t\t@ILoggerService private readonly loggerService: ILoggerService,\n\t\t@ILogService private readonly logService: ILogService,\n\t) {\n\t\tthis.proxy = extHostRpc.getProxy(MainContext.MainThreadOutputService);\n\t\tthis.outputsLocation = this.extHostFileSystemInfo.extUri.joinPath(initData.logsLocation, `output_logging_${toLocalISOString(new Date()).replace(/-|:|\\.\\d+Z$/g, '')}`);\n\t}\n\n\t$setVisibleChannel(visibleChannelId: string | null): void {\n\t\tthis.visibleChannelId = visibleChannelId;\n\t\tfor (const [id, channel] of this.channels) {\n\t\t\tchannel.visible = id === this.visibleChannelId;\n\t\t}\n\t}\n\n\tcreateOutputChannel(name: string, options: string | { log: true } | undefined, extension: IExtensionDescription): vscode.OutputChannel | vscode.LogOutputChannel {\n\t\tname = name.trim();\n\t\tif (!name) {\n\t\t\tthrow new Error('illegal argument `name`. must not be falsy');\n\t\t}\n\t\tconst log = typeof options === 'object' && options.log;\n\t\tconst languageId = isString(options) ? options : undefined;\n\t\tif (isString(languageId) && !languageId.trim()) {\n\t\t\tthrow new Error('illegal argument `languageId`. must not be empty');\n\t\t}\n\t\tlet logLevel: LogLevel | undefined;\n\t\tconst logLevelValue = this.initData.environment.extensionLogLevel?.find(([identifier]) => ExtensionIdentifier.equals(extension.identifier, identifier))?.[1];\n\t\tif (logLevelValue) {\n\t\t\tlogLevel = parseLogLevel(logLevelValue);\n\t\t}\n\t\tconst channelDisposables = new DisposableStore();\n\t\tconst extHostOutputChannel = log\n\t\t\t? this.doCreateLogOutputChannel(name, logLevel, extension, channelDisposables)\n\t\t\t: this.doCreateOutputChannel(name, languageId, extension, channelDisposables);\n\t\textHostOutputChannel.then(channel => {\n\t\t\tthis.channels.set(channel.id, channel);\n\t\t\tchannel.visible = channel.id === this.visibleChannelId;\n\t\t\tchannelDisposables.add(toDisposable(() => this.channels.delete(channel.id)));\n\t\t});\n\t\treturn log\n\t\t\t? this.createExtHostLogOutputChannel(name, logLevel ?? this.logService.getLevel(), <Promise<ExtHostOutputChannel>>extHostOutputChannel, channelDisposables)\n\t\t\t: this.createExtHostOutputChannel(name, <Promise<ExtHostOutputChannel>>extHostOutputChannel, channelDisposables);\n\t}\n\n\tprivate async doCreateOutputChannel(name: string, languageId: string | undefined, extension: IExtensionDescription, channelDisposables: DisposableStore): Promise<ExtHostOutputChannel> {\n\t\tif (!this.outputDirectoryPromise) {\n\t\t\tthis.outputDirectoryPromise = this.extHostFileSystem.value.createDirectory(this.outputsLocation).then(() => this.outputsLocation);\n\t\t}\n\t\tconst outputDir = await this.outputDirectoryPromise;\n\t\tconst file = this.extHostFileSystemInfo.extUri.joinPath(outputDir, `${this.namePool++}-${name.replace(/[\\\\/:\\*\\?\"<>\\|]/g, '')}.log`);\n\t\tconst logger = channelDisposables.add(this.loggerService.createLogger(file, { logLevel: 'always', donotRotate: true, donotUseFormatters: true, hidden: true }));\n\t\tconst id = await this.proxy.$register(name, file, languageId, extension.identifier.value);\n\t\tchannelDisposables.add(toDisposable(() => this.loggerService.deregisterLogger(file)));\n\t\treturn new ExtHostOutputChannel(id, name, logger, this.proxy, extension);\n\t}\n\n\tprivate async doCreateLogOutputChannel(name: string, logLevel: LogLevel | undefined, extension: IExtensionDescription, channelDisposables: DisposableStore): Promise<ExtHostLogOutputChannel> {\n\t\tconst extensionLogDir = await this.createExtensionLogDirectory(extension);\n\t\tconst fileName = name.replace(/[\\\\/:\\*\\?\"<>\\|]/g, '');\n\t\tconst file = this.extHostFileSystemInfo.extUri.joinPath(extensionLogDir, `${fileName}.log`);\n\t\tconst id = `${extension.identifier.value}.${fileName}`;\n\t\tconst logger = channelDisposables.add(this.loggerService.createLogger(file, { id, name, logLevel, extensionId: extension.identifier.value }));\n\t\tchannelDisposables.add(toDisposable(() => this.loggerService.deregisterLogger(file)));\n\t\treturn new ExtHostLogOutputChannel(id, name, logger, this.proxy, extension);\n\t}\n\n\tprivate createExtensionLogDirectory(extension: IExtensionDescription): Thenable<URI> {\n\t\tlet extensionLogDirectoryPromise = this.extensionLogDirectoryPromise.get(extension.identifier.value);\n\t\tif (!extensionLogDirectoryPromise) {\n\t\t\tconst extensionLogDirectory = this.extHostFileSystemInfo.extUri.joinPath(this.initData.logsLocation, extension.identifier.value);\n\t\t\tthis.extensionLogDirectoryPromise.set(extension.identifier.value, extensionLogDirectoryPromise = (async () => {\n\t\t\t\ttry {\n\t\t\t\t\tawait this.extHostFileSystem.value.createDirectory(extensionLogDirectory);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tif (toFileSystemProviderErrorCode(err) !== FileSystemProviderErrorCode.FileExists) {\n\t\t\t\t\t\tthrow err;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn extensionLogDirectory;\n\t\t\t})());\n\t\t}\n\t\treturn extensionLogDirectoryPromise;\n\t}\n\n\tprivate createExtHostOutputChannel(name: string, channelPromise: Promise<ExtHostOutputChannel>, channelDisposables: DisposableStore): vscode.OutputChannel {\n\t\tconst validate = () => {\n\t\t\tif (channelDisposables.isDisposed) {\n\t\t\t\tthrow new Error('Channel has been closed');\n\t\t\t}\n\t\t};\n\t\tchannelPromise.then(channel => channelDisposables.add(channel));\n\t\treturn {\n\t\t\tget name(): string { return name; },\n\t\t\tappend(value: string): void {\n\t\t\t\tvalidate();\n\t\t\t\tchannelPromise.then(channel => channel.append(value));\n\t\t\t},\n\t\t\tappendLine(value: string): void {\n\t\t\t\tvalidate();\n\t\t\t\tchannelPromise.then(channel => channel.appendLine(value));\n\t\t\t},\n\t\t\tclear(): void {\n\t\t\t\tvalidate();\n\t\t\t\tchannelPromise.then(channel => channel.clear());\n\t\t\t},\n\t\t\treplace(value: string): void {\n\t\t\t\tvalidate();\n\t\t\t\tchannelPromise.then(channel => channel.replace(value));\n\t\t\t},\n\t\t\tshow(columnOrPreserveFocus?: vscode.ViewColumn | boolean, preserveFocus?: boolean): void {\n\t\t\t\tvalidate();\n\t\t\t\tchannelPromise.then(channel => channel.show(columnOrPreserveFocus, preserveFocus));\n\t\t\t},\n\t\t\thide(): void {\n\t\t\t\tvalidate();\n\t\t\t\tchannelPromise.then(channel => channel.hide());\n\t\t\t},\n\t\t\tdispose(): void {\n\t\t\t\tchannelDisposables.dispose();\n\t\t\t}\n\t\t};\n\t}\n\n\tprivate createExtHostLogOutputChannel(name: string, logLevel: LogLevel, channelPromise: Promise<ExtHostOutputChannel>, channelDisposables: DisposableStore): vscode.LogOutputChannel {\n\t\tconst validate = () => {\n\t\t\tif (channelDisposables.isDisposed) {\n\t\t\t\tthrow new Error('Channel has been closed');\n\t\t\t}\n\t\t};\n\t\tconst onDidChangeLogLevel = channelDisposables.add(new Emitter<LogLevel>());\n\t\tfunction setLogLevel(newLogLevel: LogLevel): void {\n\t\t\tlogLevel = newLogLevel;\n\t\t\tonDidChangeLogLevel.fire(newLogLevel);\n\t\t}\n\t\tchannelPromise.then(channel => {\n\t\t\tif (channel.logLevel !== logLevel) {\n\t\t\t\tsetLogLevel(channel.logLevel);\n\t\t\t}\n\t\t\tchannelDisposables.add(channel.onDidChangeLogLevel(e => setLogLevel(e)));\n\t\t});\n\t\treturn {\n\t\t\t...this.createExtHostOutputChannel(name, channelPromise, channelDisposables),\n\t\t\tget logLevel() { return logLevel; },\n\t\t\tonDidChangeLogLevel: onDidChangeLogLevel.event,\n\t\t\ttrace(value: string, ...args: unknown[]): void {\n\t\t\t\tvalidate();\n\t\t\t\tchannelPromise.then(channel => channel.trace(value, ...args));\n\t\t\t},\n\t\t\tdebug(value: string, ...args: unknown[]): void {\n\t\t\t\tvalidate();\n\t\t\t\tchannelPromise.then(channel => channel.debug(value, ...args));\n\t\t\t},\n\t\t\tinfo(value: string, ...args: unknown[]): void {\n\t\t\t\tvalidate();\n\t\t\t\tchannelPromise.then(channel => channel.info(value, ...args));\n\t\t\t},\n\t\t\twarn(value: string, ...args: unknown[]): void {\n\t\t\t\tvalidate();\n\t\t\t\tchannelPromise.then(channel => channel.warn(value, ...args));\n\t\t\t},\n\t\t\terror(value: Error | string, ...args: unknown[]): void {\n\t\t\t\tvalidate();\n\t\t\t\tchannelPromise.then(channel => channel.error(value, ...args));\n\t\t\t}\n\t\t};\n\t}\n}\n\nexport interface IExtHostOutputService extends ExtHostOutputService { }\nexport const IExtHostOutputService = createDecorator<IExtHostOutputService>('IExtHostOutputService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { MainContext, MainThreadOutputServiceShape, ExtHostOutputServiceShape } from './extHost.protocol.js';\nimport type * as vscode from 'vscode';\nimport { URI } from '../../../base/common/uri.js';\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\nimport { IExtHostRpcService } from './extHostRpcService.js';\nimport { ExtensionIdentifier, IExtensionDescription } from '../../../platform/extensions/common/extensions.js';\nimport { AbstractMessageLogger, ILogger, ILoggerService, ILogService, log, LogLevel, parseLogLevel } from '../../../platform/log/common/log.js';\nimport { OutputChannelUpdateMode } from '../../services/output/common/output.js';\nimport { IExtHostConsumerFileSystem } from './extHostFileSystemConsumer.js';\nimport { IExtHostInitDataService } from './extHostInitDataService.js';\nimport { IExtHostFileSystemInfo } from './extHostFileSystemInfo.js';\nimport { toLocalISOString } from '../../../base/common/date.js';\nimport { VSBuffer } from '../../../base/common/buffer.js';\nimport { isString } from '../../../base/common/types.js';\nimport { FileSystemProviderErrorCode, toFileSystemProviderErrorCode } from '../../../platform/files/common/files.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { DisposableStore, toDisposable } from '../../../base/common/lifecycle.js';\n\nclass ExtHostOutputChannel extends AbstractMessageLogger implements vscode.LogOutputChannel {\n\n\tprivate offset: number = 0;\n\n\tpublic visible: boolean = false;\n\n\tconstructor(\n\t\treadonly id: string,\n\t\treadonly name: string,\n\t\tprotected readonly logger: ILogger,\n\t\tprotected readonly proxy: MainThreadOutputServiceShape,\n\t\treadonly extension: IExtensionDescription,\n\t) {\n\t\tsuper();\n\t\tthis.setLevel(logger.getLevel());\n\t\tthis._register(logger.onDidChangeLogLevel(level => this.setLevel(level)));\n\t\tthis._register(toDisposable(() => this.proxy.$dispose(this.id)));\n\t}\n\n\tget logLevel(): LogLevel {\n\t\treturn this.getLevel();\n\t}\n\n\tappendLine(value: string): void {\n\t\tthis.append(value + '\\n');\n\t}\n\n\tappend(value: string): void {\n\t\tthis.info(value);\n\t}\n\n\tclear(): void {\n\t\tconst till = this.offset;\n\t\tthis.logger.flush();\n\t\tthis.proxy.$update(this.id, OutputChannelUpdateMode.Clear, till);\n\t}\n\n\treplace(value: string): void {\n\t\tconst till = this.offset;\n\t\tthis.info(value);\n\t\tthis.proxy.$update(this.id, OutputChannelUpdateMode.Replace, till);\n\t\tif (this.visible) {\n\t\t\tthis.logger.flush();\n\t\t}\n\t}\n\n\tshow(columnOrPreserveFocus?: vscode.ViewColumn | boolean, preserveFocus?: boolean): void {\n\t\tthis.logger.flush();\n\t\tthis.proxy.$reveal(this.id, !!(typeof columnOrPreserveFocus === 'boolean' ? columnOrPreserveFocus : preserveFocus));\n\t}\n\n\thide(): void {\n\t\tthis.proxy.$close(this.id);\n\t}\n\n\tprotected log(level: LogLevel, message: string): void {\n\t\tthis.offset += VSBuffer.fromString(message).byteLength;\n\t\tlog(this.logger, level, message);\n\t\tif (this.visible) {\n\t\t\tthis.logger.flush();\n\t\t\tthis.proxy.$update(this.id, OutputChannelUpdateMode.Append);\n\t\t}\n\t}\n\n}\n\nclass ExtHostLogOutputChannel extends ExtHostOutputChannel {\n\n\toverride appendLine(value: string): void {\n\t\tthis.append(value);\n\t}\n\n}\n\nexport class ExtHostOutputService implements ExtHostOutputServiceShape {\n\n\treadonly _serviceBrand: undefined;\n\n\tprivate readonly proxy: MainThreadOutputServiceShape;\n\n\tprivate readonly outputsLocation: URI;\n\tprivate outputDirectoryPromise: Thenable<URI> | undefined;\n\tprivate readonly extensionLogDirectoryPromise = new Map<string, Thenable<URI>>();\n\tprivate namePool: number = 1;\n\n\tprivate readonly channels = new Map<string, ExtHostLogOutputChannel | ExtHostOutputChannel>();\n\tprivate visibleChannelId: string | null = null;\n\n\tconstructor(\n\t\t@IExtHostRpcService extHostRpc: IExtHostRpcService,\n\t\t@IExtHostInitDataService private readonly initData: IExtHostInitDataService,\n\t\t@IExtHostConsumerFileSystem private readonly extHostFileSystem: IExtHostConsumerFileSystem,\n\t\t@IExtHostFileSystemInfo private readonly extHostFileSystemInfo: IExtHostFileSystemInfo,\n\t\t@ILoggerService private readonly loggerService: ILoggerService,\n\t\t@ILogService private readonly logService: ILogService,\n\t) {\n\t\tthis.proxy = extHostRpc.getProxy(MainContext.MainThreadOutputService);\n\t\tthis.outputsLocation = this.extHostFileSystemInfo.extUri.joinPath(initData.logsLocation, `output_logging_${toLocalISOString(new Date()).replace(/-|:|\\.\\d+Z$/g, '')}`);\n\t}\n\n\t$setVisibleChannel(visibleChannelId: string | null): void {\n\t\tthis.visibleChannelId = visibleChannelId;\n\t\tfor (const [id, channel] of this.channels) {\n\t\t\tchannel.visible = id === this.visibleChannelId;\n\t\t}\n\t}\n\n\tcreateOutputChannel(name: string, options: string | { log: true } | undefined, extension: IExtensionDescription): vscode.OutputChannel | vscode.LogOutputChannel {\n\t\tname = name.trim();\n\t\tif (!name) {\n\t\t\tthrow new Error('illegal argument `name`. must not be falsy');\n\t\t}\n\t\tconst log = typeof options === 'object' && options.log;\n\t\tconst languageId = isString(options) ? options : undefined;\n\t\tif (isString(languageId) && !languageId.trim()) {\n\t\t\tthrow new Error('illegal argument `languageId`. must not be empty');\n\t\t}\n\t\tlet logLevel: LogLevel | undefined;\n\t\tconst logLevelValue = this.initData.environment.extensionLogLevel?.find(([identifier]) => ExtensionIdentifier.equals(extension.identifier, identifier))?.[1];\n\t\tif (logLevelValue) {\n\t\t\tlogLevel = parseLogLevel(logLevelValue);\n\t\t}\n\t\tconst channelDisposables = new DisposableStore();\n\t\tconst extHostOutputChannel = log\n\t\t\t? this.doCreateLogOutputChannel(name, logLevel, extension, channelDisposables)\n\t\t\t: this.doCreateOutputChannel(name, languageId, extension, channelDisposables);\n\t\textHostOutputChannel.then(channel => {\n\t\t\tthis.channels.set(channel.id, channel);\n\t\t\tchannel.visible = channel.id === this.visibleChannelId;\n\t\t\tchannelDisposables.add(toDisposable(() => this.channels.delete(channel.id)));\n\t\t});\n\t\treturn log\n\t\t\t? this.createExtHostLogOutputChannel(name, logLevel ?? this.logService.getLevel(), <Promise<ExtHostOutputChannel>>extHostOutputChannel, channelDisposables)\n\t\t\t: this.createExtHostOutputChannel(name, <Promise<ExtHostOutputChannel>>extHostOutputChannel, channelDisposables);\n\t}\n\n\tprivate async doCreateOutputChannel(name: string, languageId: string | undefined, extension: IExtensionDescription, channelDisposables: DisposableStore): Promise<ExtHostOutputChannel> {\n\t\tif (!this.outputDirectoryPromise) {\n\t\t\tthis.outputDirectoryPromise = this.extHostFileSystem.value.createDirectory(this.outputsLocation).then(() => this.outputsLocation);\n\t\t}\n\t\tconst outputDir = await this.outputDirectoryPromise;\n\t\tconst file = this.extHostFileSystemInfo.extUri.joinPath(outputDir, `${this.namePool++}-${name.replace(/[\\\\/:\\*\\?\"<>\\|]/g, '')}.log`);\n\t\tconst logger = channelDisposables.add(this.loggerService.createLogger(file, { logLevel: 'always', donotRotate: true, donotUseFormatters: true, hidden: true }));\n\t\tconst id = await this.proxy.$register(name, file, languageId, extension.identifier.value);\n\t\tchannelDisposables.add(toDisposable(() => this.loggerService.deregisterLogger(file)));\n\t\treturn new ExtHostOutputChannel(id, name, logger, this.proxy, extension);\n\t}\n\n\tprivate async doCreateLogOutputChannel(name: string, logLevel: LogLevel | undefined, extension: IExtensionDescription, channelDisposables: DisposableStore): Promise<ExtHostLogOutputChannel> {\n\t\tconst extensionLogDir = await this.createExtensionLogDirectory(extension);\n\t\tconst fileName = name.replace(/[\\\\/:\\*\\?\"<>\\|]/g, '');\n\t\tconst file = this.extHostFileSystemInfo.extUri.joinPath(extensionLogDir, `${fileName}.log`);\n\t\tconst id = `${extension.identifier.value}.${fileName}`;\n\t\tconst logger = channelDisposables.add(this.loggerService.createLogger(file, { id, name, logLevel, extensionId: extension.identifier.value }));\n\t\tchannelDisposables.add(toDisposable(() => this.loggerService.deregisterLogger(file)));\n\t\treturn new ExtHostLogOutputChannel(id, name, logger, this.proxy, extension);\n\t}\n\n\tprivate createExtensionLogDirectory(extension: IExtensionDescription): Thenable<URI> {\n\t\tlet extensionLogDirectoryPromise = this.extensionLogDirectoryPromise.get(extension.identifier.value);\n\t\tif (!extensionLogDirectoryPromise) {\n\t\t\tconst extensionLogDirectory = this.extHostFileSystemInfo.extUri.joinPath(this.initData.logsLocation, extension.identifier.value);\n\t\t\tthis.extensionLogDirectoryPromise.set(extension.identifier.value, extensionLogDirectoryPromise = (async () => {\n\t\t\t\ttry {\n\t\t\t\t\tawait this.extHostFileSystem.value.createDirectory(extensionLogDirectory);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tif (toFileSystemProviderErrorCode(err) !== FileSystemProviderErrorCode.FileExists) {\n\t\t\t\t\t\tthrow err;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn extensionLogDirectory;\n\t\t\t})());\n\t\t}\n\t\treturn extensionLogDirectoryPromise;\n\t}\n\n\tprivate createExtHostOutputChannel(name: string, channelPromise: Promise<ExtHostOutputChannel>, channelDisposables: DisposableStore): vscode.OutputChannel {\n\t\tconst validate = () => {\n\t\t\tif (channelDisposables.isDisposed) {\n\t\t\t\tthrow new Error('Channel has been closed');\n\t\t\t}\n\t\t};\n\t\tchannelPromise.then(channel => channelDisposables.add(channel));\n\t\treturn {\n\t\t\tget name(): string { return name; },\n\t\t\tappend(value: string): void {\n\t\t\t\tvalidate();\n\t\t\t\tchannelPromise.then(channel => channel.append(value));\n\t\t\t},\n\t\t\tappendLine(value: string): void {\n\t\t\t\tvalidate();\n\t\t\t\tchannelPromise.then(channel => channel.appendLine(value));\n\t\t\t},\n\t\t\tclear(): void {\n\t\t\t\tvalidate();\n\t\t\t\tchannelPromise.then(channel => channel.clear());\n\t\t\t},\n\t\t\treplace(value: string): void {\n\t\t\t\tvalidate();\n\t\t\t\tchannelPromise.then(channel => channel.replace(value));\n\t\t\t},\n\t\t\tshow(columnOrPreserveFocus?: vscode.ViewColumn | boolean, preserveFocus?: boolean): void {\n\t\t\t\tvalidate();\n\t\t\t\tchannelPromise.then(channel => channel.show(columnOrPreserveFocus, preserveFocus));\n\t\t\t},\n\t\t\thide(): void {\n\t\t\t\tvalidate();\n\t\t\t\tchannelPromise.then(channel => channel.hide());\n\t\t\t},\n\t\t\tdispose(): void {\n\t\t\t\tchannelDisposables.dispose();\n\t\t\t}\n\t\t};\n\t}\n\n\tprivate createExtHostLogOutputChannel(name: string, logLevel: LogLevel, channelPromise: Promise<ExtHostOutputChannel>, channelDisposables: DisposableStore): vscode.LogOutputChannel {\n\t\tconst validate = () => {\n\t\t\tif (channelDisposables.isDisposed) {\n\t\t\t\tthrow new Error('Channel has been closed');\n\t\t\t}\n\t\t};\n\t\tconst onDidChangeLogLevel = channelDisposables.add(new Emitter<LogLevel>());\n\t\tfunction setLogLevel(newLogLevel: LogLevel): void {\n\t\t\tlogLevel = newLogLevel;\n\t\t\tonDidChangeLogLevel.fire(newLogLevel);\n\t\t}\n\t\tchannelPromise.then(channel => {\n\t\t\tif (channel.logLevel !== logLevel) {\n\t\t\t\tsetLogLevel(channel.logLevel);\n\t\t\t}\n\t\t\tchannelDisposables.add(channel.onDidChangeLogLevel(e => setLogLevel(e)));\n\t\t});\n\t\treturn {\n\t\t\t...this.createExtHostOutputChannel(name, channelPromise, channelDisposables),\n\t\t\tget logLevel() { return logLevel; },\n\t\t\tonDidChangeLogLevel: onDidChangeLogLevel.event,\n\t\t\ttrace(value: string, ...args: unknown[]): void {\n\t\t\t\tvalidate();\n\t\t\t\tchannelPromise.then(channel => channel.trace(value, ...args));\n\t\t\t},\n\t\t\tdebug(value: string, ...args: unknown[]): void {\n\t\t\t\tvalidate();\n\t\t\t\tchannelPromise.then(channel => channel.debug(value, ...args));\n\t\t\t},\n\t\t\tinfo(value: string, ...args: unknown[]): void {\n\t\t\t\tvalidate();\n\t\t\t\tchannelPromise.then(channel => channel.info(value, ...args));\n\t\t\t},\n\t\t\twarn(value: string, ...args: unknown[]): void {\n\t\t\t\tvalidate();\n\t\t\t\tchannelPromise.then(channel => channel.warn(value, ...args));\n\t\t\t},\n\t\t\terror(value: Error | string, ...args: unknown[]): void {\n\t\t\t\tvalidate();\n\t\t\t\tchannelPromise.then(channel => channel.error(value, ...args));\n\t\t\t}\n\t\t};\n\t}\n}\n\nexport interface IExtHostOutputService extends ExtHostOutputService { }\nexport const IExtHostOutputService = createDecorator<IExtHostOutputService>('IExtHostOutputService');\n"]}