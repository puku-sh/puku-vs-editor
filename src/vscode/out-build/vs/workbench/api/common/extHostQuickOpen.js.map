{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/api/common/extHostQuickOpen.ts","vs/workbench/api/common/extHostQuickOpen.ts"],"names":[],"mappings":"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","file":"extHostQuickOpen.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { dispose, IDisposable } from '../../../base/common/lifecycle.js';\nimport { ExtHostCommands } from './extHostCommands.js';\nimport { IExtHostWorkspaceProvider } from './extHostWorkspace.js';\nimport { InputBox, InputBoxOptions, InputBoxValidationMessage, QuickInput, QuickInputButton, QuickPick, QuickPickItem, QuickPickItemButtonEvent, QuickPickOptions, WorkspaceFolder, WorkspaceFolderPickOptions } from 'vscode';\nimport { ExtHostQuickOpenShape, IMainContext, MainContext, TransferQuickInput, TransferQuickInputButton, TransferQuickPickItemOrSeparator } from './extHost.protocol.js';\nimport { QuickInputButtons, QuickPickItemKind, InputBoxValidationSeverity, QuickInputButtonLocation } from './extHostTypes.js';\nimport { isCancellationError } from '../../../base/common/errors.js';\nimport { IExtensionDescription } from '../../../platform/extensions/common/extensions.js';\nimport { coalesce } from '../../../base/common/arrays.js';\nimport Severity from '../../../base/common/severity.js';\nimport { checkProposedApiEnabled } from '../../services/extensions/common/extensions.js';\nimport { IconPath, MarkdownString } from './extHostTypeConverters.js';\n\nexport type Item = string | QuickPickItem;\n\nexport interface ExtHostQuickOpen {\n\tshowQuickPick(extension: IExtensionDescription, itemsOrItemsPromise: QuickPickItem[] | Promise<QuickPickItem[]>, options: QuickPickOptions & { canPickMany: true }, token?: CancellationToken): Promise<QuickPickItem[] | undefined>;\n\tshowQuickPick(extension: IExtensionDescription, itemsOrItemsPromise: string[] | Promise<string[]>, options?: QuickPickOptions, token?: CancellationToken): Promise<string | undefined>;\n\tshowQuickPick(extension: IExtensionDescription, itemsOrItemsPromise: QuickPickItem[] | Promise<QuickPickItem[]>, options?: QuickPickOptions, token?: CancellationToken): Promise<QuickPickItem | undefined>;\n\tshowQuickPick(extension: IExtensionDescription, itemsOrItemsPromise: Item[] | Promise<Item[]>, options?: QuickPickOptions, token?: CancellationToken): Promise<Item | Item[] | undefined>;\n\n\tshowInput(options?: InputBoxOptions, token?: CancellationToken): Promise<string | undefined>;\n\n\tshowWorkspaceFolderPick(options?: WorkspaceFolderPickOptions, token?: CancellationToken): Promise<WorkspaceFolder | undefined>;\n\n\tcreateQuickPick<T extends QuickPickItem>(extension: IExtensionDescription): QuickPick<T>;\n\n\tcreateInputBox(extension: IExtensionDescription): InputBox;\n}\n\nexport function createExtHostQuickOpen(mainContext: IMainContext, workspace: IExtHostWorkspaceProvider, commands: ExtHostCommands): ExtHostQuickOpenShape & ExtHostQuickOpen {\n\tconst proxy = mainContext.getProxy(MainContext.MainThreadQuickOpen);\n\n\tclass ExtHostQuickOpenImpl implements ExtHostQuickOpenShape {\n\n\t\tprivate _workspace: IExtHostWorkspaceProvider;\n\t\tprivate _commands: ExtHostCommands;\n\n\t\tprivate _onDidSelectItem?: (handle: number) => void;\n\t\tprivate _validateInput?: (input: string) => string | InputBoxValidationMessage | undefined | null | Thenable<string | InputBoxValidationMessage | undefined | null>;\n\n\t\tprivate _sessions = new Map<number, ExtHostQuickInput>();\n\n\t\tprivate _instances = 0;\n\n\t\tconstructor(workspace: IExtHostWorkspaceProvider, commands: ExtHostCommands) {\n\t\t\tthis._workspace = workspace;\n\t\t\tthis._commands = commands;\n\t\t}\n\n\t\tshowQuickPick(extension: IExtensionDescription, itemsOrItemsPromise: QuickPickItem[] | Promise<QuickPickItem[]>, options: QuickPickOptions & { canPickMany: true }, token?: CancellationToken): Promise<QuickPickItem[] | undefined>;\n\t\tshowQuickPick(extension: IExtensionDescription, itemsOrItemsPromise: string[] | Promise<string[]>, options?: QuickPickOptions, token?: CancellationToken): Promise<string | undefined>;\n\t\tshowQuickPick(extension: IExtensionDescription, itemsOrItemsPromise: QuickPickItem[] | Promise<QuickPickItem[]>, options?: QuickPickOptions, token?: CancellationToken): Promise<QuickPickItem | undefined>;\n\t\tshowQuickPick(extension: IExtensionDescription, itemsOrItemsPromise: Item[] | Promise<Item[]>, options?: QuickPickOptions, token: CancellationToken = CancellationToken.None): Promise<Item | Item[] | undefined> {\n\t\t\t// clear state from last invocation\n\t\t\tthis._onDidSelectItem = undefined;\n\n\t\t\tconst itemsPromise = Promise.resolve(itemsOrItemsPromise);\n\n\t\t\tconst instance = ++this._instances;\n\n\t\t\tif (options?.prompt) {\n\t\t\t\tcheckProposedApiEnabled(extension, 'quickPickPrompt');\n\t\t\t}\n\n\t\t\tconst quickPickWidget = proxy.$show(instance, {\n\t\t\t\ttitle: options?.title,\n\t\t\t\tplaceHolder: options?.placeHolder,\n\t\t\t\tprompt: options?.prompt,\n\t\t\t\tmatchOnDescription: options?.matchOnDescription,\n\t\t\t\tmatchOnDetail: options?.matchOnDetail,\n\t\t\t\tignoreFocusLost: options?.ignoreFocusOut,\n\t\t\t\tcanPickMany: options?.canPickMany,\n\t\t\t}, token);\n\n\t\t\tconst widgetClosedMarker = {};\n\t\t\tconst widgetClosedPromise = quickPickWidget.then(() => widgetClosedMarker);\n\n\t\t\treturn Promise.race([widgetClosedPromise, itemsPromise]).then(result => {\n\t\t\t\tif (result === widgetClosedMarker) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\treturn itemsPromise.then(items => {\n\n\t\t\t\t\tconst pickItems: TransferQuickPickItemOrSeparator[] = [];\n\t\t\t\t\tfor (let handle = 0; handle < items.length; handle++) {\n\t\t\t\t\t\tconst item = items[handle];\n\t\t\t\t\t\tif (typeof item === 'string') {\n\t\t\t\t\t\t\tpickItems.push({ label: item, handle });\n\t\t\t\t\t\t} else if (item.kind === QuickPickItemKind.Separator) {\n\t\t\t\t\t\t\tpickItems.push({ type: 'separator', label: item.label });\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (item.tooltip) {\n\t\t\t\t\t\t\t\tcheckProposedApiEnabled(extension, 'quickPickItemTooltip');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (item.resourceUri) {\n\t\t\t\t\t\t\t\tcheckProposedApiEnabled(extension, 'quickPickItemResource');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tpickItems.push({\n\t\t\t\t\t\t\t\tlabel: item.label,\n\t\t\t\t\t\t\t\ticonPathDto: IconPath.from(item.iconPath),\n\t\t\t\t\t\t\t\tdescription: item.description,\n\t\t\t\t\t\t\t\tdetail: item.detail,\n\t\t\t\t\t\t\t\tpicked: item.picked,\n\t\t\t\t\t\t\t\talwaysShow: item.alwaysShow,\n\t\t\t\t\t\t\t\ttooltip: MarkdownString.fromStrict(item.tooltip),\n\t\t\t\t\t\t\t\tresourceUri: item.resourceUri,\n\t\t\t\t\t\t\t\thandle\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// handle selection changes\n\t\t\t\t\tif (options && typeof options.onDidSelectItem === 'function') {\n\t\t\t\t\t\tthis._onDidSelectItem = (handle) => {\n\t\t\t\t\t\t\toptions.onDidSelectItem!(items[handle]);\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\t// show items\n\t\t\t\t\tproxy.$setItems(instance, pickItems);\n\n\t\t\t\t\treturn quickPickWidget.then(handle => {\n\t\t\t\t\t\tif (typeof handle === 'number') {\n\t\t\t\t\t\t\treturn items[handle];\n\t\t\t\t\t\t} else if (Array.isArray(handle)) {\n\t\t\t\t\t\t\treturn handle.map(h => items[h]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}).then(undefined, err => {\n\t\t\t\tif (isCancellationError(err)) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\tproxy.$setError(instance, err);\n\n\t\t\t\treturn Promise.reject(err);\n\t\t\t});\n\t\t}\n\n\t\t$onItemSelected(handle: number): void {\n\t\t\tthis._onDidSelectItem?.(handle);\n\t\t}\n\n\t\t// ---- input\n\n\t\tshowInput(options?: InputBoxOptions, token: CancellationToken = CancellationToken.None): Promise<string | undefined> {\n\n\t\t\t// global validate fn used in callback below\n\t\t\tthis._validateInput = options?.validateInput;\n\n\t\t\treturn proxy.$input(options, typeof this._validateInput === 'function', token)\n\t\t\t\t.then(undefined, err => {\n\t\t\t\t\tif (isCancellationError(err)) {\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn Promise.reject(err);\n\t\t\t\t});\n\t\t}\n\n\t\tasync $validateInput(input: string): Promise<string | { content: string; severity: Severity } | null | undefined> {\n\t\t\tif (!this._validateInput) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst result = await this._validateInput(input);\n\t\t\tif (!result || typeof result === 'string') {\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\tlet severity: Severity;\n\t\t\tswitch (result.severity) {\n\t\t\t\tcase InputBoxValidationSeverity.Info:\n\t\t\t\t\tseverity = Severity.Info;\n\t\t\t\t\tbreak;\n\t\t\t\tcase InputBoxValidationSeverity.Warning:\n\t\t\t\t\tseverity = Severity.Warning;\n\t\t\t\t\tbreak;\n\t\t\t\tcase InputBoxValidationSeverity.Error:\n\t\t\t\t\tseverity = Severity.Error;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tseverity = result.message ? Severity.Error : Severity.Ignore;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tcontent: result.message,\n\t\t\t\tseverity\n\t\t\t};\n\t\t}\n\n\t\t// ---- workspace folder picker\n\n\t\tasync showWorkspaceFolderPick(options?: WorkspaceFolderPickOptions, token = CancellationToken.None): Promise<WorkspaceFolder | undefined> {\n\t\t\tconst selectedFolder = await this._commands.executeCommand<WorkspaceFolder>('_workbench.pickWorkspaceFolder', [options]);\n\t\t\tif (!selectedFolder) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tconst workspaceFolders = await this._workspace.getWorkspaceFolders2();\n\t\t\tif (!workspaceFolders) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\treturn workspaceFolders.find(folder => folder.uri.toString() === selectedFolder.uri.toString());\n\t\t}\n\n\t\t// ---- QuickInput\n\n\t\tcreateQuickPick<T extends QuickPickItem>(extension: IExtensionDescription): QuickPick<T> {\n\t\t\tconst session: ExtHostQuickPick<T> = new ExtHostQuickPick(extension, () => this._sessions.delete(session._id));\n\t\t\tthis._sessions.set(session._id, session);\n\t\t\treturn session;\n\t\t}\n\n\t\tcreateInputBox(extension: IExtensionDescription): InputBox {\n\t\t\tconst session: ExtHostInputBox = new ExtHostInputBox(extension, () => this._sessions.delete(session._id));\n\t\t\tthis._sessions.set(session._id, session);\n\t\t\treturn session;\n\t\t}\n\n\t\t$onDidChangeValue(sessionId: number, value: string): void {\n\t\t\tconst session = this._sessions.get(sessionId);\n\t\t\tsession?._fireDidChangeValue(value);\n\t\t}\n\n\t\t$onDidAccept(sessionId: number): void {\n\t\t\tconst session = this._sessions.get(sessionId);\n\t\t\tsession?._fireDidAccept();\n\t\t}\n\n\t\t$onDidChangeActive(sessionId: number, handles: number[]): void {\n\t\t\tconst session = this._sessions.get(sessionId);\n\t\t\tif (session instanceof ExtHostQuickPick) {\n\t\t\t\tsession._fireDidChangeActive(handles);\n\t\t\t}\n\t\t}\n\n\t\t$onDidChangeSelection(sessionId: number, handles: number[]): void {\n\t\t\tconst session = this._sessions.get(sessionId);\n\t\t\tif (session instanceof ExtHostQuickPick) {\n\t\t\t\tsession._fireDidChangeSelection(handles);\n\t\t\t}\n\t\t}\n\n\t\t$onDidTriggerButton(sessionId: number, handle: number, checked?: boolean): void {\n\t\t\tconst session = this._sessions.get(sessionId);\n\t\t\tsession?._fireDidTriggerButton(handle, checked);\n\t\t}\n\n\t\t$onDidTriggerItemButton(sessionId: number, itemHandle: number, buttonHandle: number): void {\n\t\t\tconst session = this._sessions.get(sessionId);\n\t\t\tif (session instanceof ExtHostQuickPick) {\n\t\t\t\tsession._fireDidTriggerItemButton(itemHandle, buttonHandle);\n\t\t\t}\n\t\t}\n\n\t\t$onDidHide(sessionId: number): void {\n\t\t\tconst session = this._sessions.get(sessionId);\n\t\t\tsession?._fireDidHide();\n\t\t}\n\t}\n\n\tclass ExtHostQuickInput implements QuickInput {\n\n\t\tprivate static _nextId = 1;\n\t\t_id = ExtHostQuickPick._nextId++;\n\n\t\tprivate _title: string | undefined;\n\t\tprivate _steps: number | undefined;\n\t\tprivate _totalSteps: number | undefined;\n\t\tprivate _visible = false;\n\t\tprivate _expectingHide = false;\n\t\tprivate _enabled = true;\n\t\tprivate _busy = false;\n\t\tprivate _ignoreFocusOut = true;\n\t\tprivate _value = '';\n\t\tprivate _valueSelection: readonly [number, number] | undefined = undefined;\n\t\tprivate _placeholder: string | undefined;\n\t\tprivate _buttons: QuickInputButton[] = [];\n\t\tprivate _handlesToButtons = new Map<number, QuickInputButton>();\n\t\tprivate readonly _onDidAcceptEmitter = new Emitter<void>();\n\t\tprivate readonly _onDidChangeValueEmitter = new Emitter<string>();\n\t\tprivate readonly _onDidTriggerButtonEmitter = new Emitter<QuickInputButton>();\n\t\tprivate readonly _onDidHideEmitter = new Emitter<void>();\n\t\tprivate _updateTimeout: Timeout | undefined;\n\t\tprivate _pendingUpdate: TransferQuickInput = { id: this._id };\n\n\t\tprivate _disposed = false;\n\t\tprotected _disposables: IDisposable[] = [\n\t\t\tthis._onDidTriggerButtonEmitter,\n\t\t\tthis._onDidHideEmitter,\n\t\t\tthis._onDidAcceptEmitter,\n\t\t\tthis._onDidChangeValueEmitter\n\t\t];\n\n\t\tconstructor(protected _extension: IExtensionDescription, private _onDidDispose: () => void) {\n\t\t}\n\n\t\tget title() {\n\t\t\treturn this._title;\n\t\t}\n\n\t\tset title(title: string | undefined) {\n\t\t\tthis._title = title;\n\t\t\tthis.update({ title });\n\t\t}\n\n\t\tget step() {\n\t\t\treturn this._steps;\n\t\t}\n\n\t\tset step(step: number | undefined) {\n\t\t\tthis._steps = step;\n\t\t\tthis.update({ step });\n\t\t}\n\n\t\tget totalSteps() {\n\t\t\treturn this._totalSteps;\n\t\t}\n\n\t\tset totalSteps(totalSteps: number | undefined) {\n\t\t\tthis._totalSteps = totalSteps;\n\t\t\tthis.update({ totalSteps });\n\t\t}\n\n\t\tget enabled() {\n\t\t\treturn this._enabled;\n\t\t}\n\n\t\tset enabled(enabled: boolean) {\n\t\t\tthis._enabled = enabled;\n\t\t\tthis.update({ enabled });\n\t\t}\n\n\t\tget busy() {\n\t\t\treturn this._busy;\n\t\t}\n\n\t\tset busy(busy: boolean) {\n\t\t\tthis._busy = busy;\n\t\t\tthis.update({ busy });\n\t\t}\n\n\t\tget ignoreFocusOut() {\n\t\t\treturn this._ignoreFocusOut;\n\t\t}\n\n\t\tset ignoreFocusOut(ignoreFocusOut: boolean) {\n\t\t\tthis._ignoreFocusOut = ignoreFocusOut;\n\t\t\tthis.update({ ignoreFocusOut });\n\t\t}\n\n\t\tget value() {\n\t\t\treturn this._value;\n\t\t}\n\n\t\tset value(value: string) {\n\t\t\tthis._value = value;\n\t\t\tthis.update({ value });\n\t\t}\n\n\t\tget valueSelection() {\n\t\t\treturn this._valueSelection;\n\t\t}\n\n\t\tset valueSelection(valueSelection: readonly [number, number] | undefined) {\n\t\t\tthis._valueSelection = valueSelection;\n\t\t\tthis.update({ valueSelection });\n\t\t}\n\n\t\tget placeholder() {\n\t\t\treturn this._placeholder;\n\t\t}\n\n\t\tset placeholder(placeholder: string | undefined) {\n\t\t\tthis._placeholder = placeholder;\n\t\t\tthis.update({ placeholder });\n\t\t}\n\n\t\tonDidChangeValue = this._onDidChangeValueEmitter.event;\n\n\t\tonDidAccept = this._onDidAcceptEmitter.event;\n\n\t\tget buttons() {\n\t\t\treturn this._buttons;\n\t\t}\n\n\t\tset buttons(buttons: QuickInputButton[]) {\n\t\t\tif (buttons.some(button =>\n\t\t\t\ttypeof button.location === 'number' ||\n\t\t\t\ttypeof button.toggle === 'object' && typeof button.toggle.checked === 'boolean')) {\n\t\t\t\tcheckProposedApiEnabled(this._extension, 'quickInputButtonLocation');\n\t\t\t}\n\n\t\t\tif (buttons.some(button =>\n\t\t\t\ttypeof button.location === 'number' &&\n\t\t\t\tbutton.location !== QuickInputButtonLocation.Input &&\n\t\t\t\ttypeof button.toggle === 'object' &&\n\t\t\t\ttypeof button.toggle.checked === 'boolean')) {\n\t\t\t\tthrow new Error('QuickInputButtons with toggle set are only supported in the Input location.');\n\t\t\t}\n\n\t\t\tthis._buttons = buttons.slice();\n\t\t\tthis._handlesToButtons.clear();\n\t\t\tbuttons.forEach((button, i) => {\n\t\t\t\tconst handle = button === QuickInputButtons.Back ? -1 : i;\n\t\t\t\tthis._handlesToButtons.set(handle, button);\n\t\t\t});\n\t\t\tthis.update({\n\t\t\t\tbuttons: buttons.map<TransferQuickInputButton>((button, i) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ticonPathDto: IconPath.from(button.iconPath),\n\t\t\t\t\t\ttooltip: button.tooltip,\n\t\t\t\t\t\thandle: button === QuickInputButtons.Back ? -1 : i,\n\t\t\t\t\t\tlocation: typeof button.location === 'number' ? button.location : undefined,\n\t\t\t\t\t\tchecked: typeof button.toggle === 'object' && typeof button.toggle.checked === 'boolean' ? button.toggle.checked : undefined\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t\t});\n\t\t}\n\n\t\tonDidTriggerButton = this._onDidTriggerButtonEmitter.event;\n\n\t\tshow(): void {\n\t\t\tthis._visible = true;\n\t\t\tthis._expectingHide = true;\n\t\t\tthis.update({ visible: true });\n\t\t}\n\n\t\thide(): void {\n\t\t\tthis._visible = false;\n\t\t\tthis.update({ visible: false });\n\t\t}\n\n\t\tonDidHide = this._onDidHideEmitter.event;\n\n\t\t_fireDidAccept() {\n\t\t\tthis._onDidAcceptEmitter.fire();\n\t\t}\n\n\t\t_fireDidChangeValue(value: string) {\n\t\t\tthis._value = value;\n\t\t\tthis._onDidChangeValueEmitter.fire(value);\n\t\t}\n\n\t\t_fireDidTriggerButton(handle: number, checked?: boolean) {\n\t\t\tconst button = this._handlesToButtons.get(handle);\n\t\t\tif (button) {\n\t\t\t\tif (checked !== undefined && button.toggle) {\n\t\t\t\t\tbutton.toggle.checked = checked;\n\t\t\t\t}\n\t\t\t\tthis._onDidTriggerButtonEmitter.fire(button);\n\t\t\t}\n\t\t}\n\n\t\t_fireDidHide() {\n\t\t\tif (this._expectingHide) {\n\t\t\t\t// if this._visible is true, it means that .show() was called between\n\t\t\t\t// .hide() and .onDidHide. To ensure the correct number of onDidHide events\n\t\t\t\t// are emitted, we set this._expectingHide to this value so that\n\t\t\t\t// the next time .hide() is called, we can emit the event again.\n\t\t\t\t// Example:\n\t\t\t\t// .show() -> .hide() -> .show() -> .hide() should emit 2 onDidHide events.\n\t\t\t\t// .show() -> .hide() -> .hide() should emit 1 onDidHide event.\n\t\t\t\t// Fixes #135747\n\t\t\t\tthis._expectingHide = this._visible;\n\t\t\t\tthis._onDidHideEmitter.fire();\n\t\t\t}\n\t\t}\n\n\t\tdispose(): void {\n\t\t\tif (this._disposed) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._disposed = true;\n\t\t\tthis._fireDidHide();\n\t\t\tthis._disposables = dispose(this._disposables);\n\t\t\tif (this._updateTimeout) {\n\t\t\t\tclearTimeout(this._updateTimeout);\n\t\t\t\tthis._updateTimeout = undefined;\n\t\t\t}\n\t\t\tthis._onDidDispose();\n\t\t\tproxy.$dispose(this._id);\n\t\t}\n\n\t\tprotected update(properties: Record<string, unknown>): void {\n\t\t\tif (this._disposed) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor (const key of Object.keys(properties)) {\n\t\t\t\tconst value = properties[key];\n\t\t\t\tthis._pendingUpdate[key] = value === undefined ? null : value;\n\t\t\t}\n\n\t\t\tif ('visible' in this._pendingUpdate) {\n\t\t\t\tif (this._updateTimeout) {\n\t\t\t\t\tclearTimeout(this._updateTimeout);\n\t\t\t\t\tthis._updateTimeout = undefined;\n\t\t\t\t}\n\t\t\t\tthis.dispatchUpdate();\n\t\t\t} else if (this._visible && !this._updateTimeout) {\n\t\t\t\t// Defer the update so that multiple changes to setters don't cause a redraw each\n\t\t\t\tthis._updateTimeout = setTimeout(() => {\n\t\t\t\t\tthis._updateTimeout = undefined;\n\t\t\t\t\tthis.dispatchUpdate();\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t}\n\n\t\tprivate dispatchUpdate() {\n\t\t\tproxy.$createOrUpdate(this._pendingUpdate);\n\t\t\tthis._pendingUpdate = { id: this._id };\n\t\t}\n\t}\n\n\tclass ExtHostQuickPick<T extends QuickPickItem> extends ExtHostQuickInput implements QuickPick<T> {\n\n\t\tprivate _items: T[] = [];\n\t\tprivate _handlesToItems = new Map<number, T>();\n\t\tprivate _itemsToHandles = new Map<T, number>();\n\t\tprivate _canSelectMany = false;\n\t\tprivate _matchOnDescription = true;\n\t\tprivate _matchOnDetail = true;\n\t\tprivate _sortByLabel = true;\n\t\tprivate _keepScrollPosition = false;\n\t\tprivate _activeItems: T[] = [];\n\t\tprivate _prompt: string | undefined;\n\t\tprivate readonly _onDidChangeActiveEmitter = new Emitter<T[]>();\n\t\tprivate _selectedItems: T[] = [];\n\t\tprivate readonly _onDidChangeSelectionEmitter = new Emitter<T[]>();\n\t\tprivate readonly _onDidTriggerItemButtonEmitter = new Emitter<QuickPickItemButtonEvent<T>>();\n\n\t\tconstructor(extension: IExtensionDescription, onDispose: () => void) {\n\t\t\tsuper(extension, onDispose);\n\t\t\tthis._disposables.push(\n\t\t\t\tthis._onDidChangeActiveEmitter,\n\t\t\t\tthis._onDidChangeSelectionEmitter,\n\t\t\t\tthis._onDidTriggerItemButtonEmitter\n\t\t\t);\n\t\t\tthis.update({ type: 'quickPick' });\n\t\t}\n\n\t\tget items() {\n\t\t\treturn this._items;\n\t\t}\n\n\t\tset items(items: T[]) {\n\t\t\tthis._items = items.slice();\n\t\t\tthis._handlesToItems.clear();\n\t\t\tthis._itemsToHandles.clear();\n\t\t\titems.forEach((item, i) => {\n\t\t\t\tthis._handlesToItems.set(i, item);\n\t\t\t\tthis._itemsToHandles.set(item, i);\n\t\t\t});\n\n\t\t\tconst pickItems: TransferQuickPickItemOrSeparator[] = [];\n\t\t\tfor (let handle = 0; handle < items.length; handle++) {\n\t\t\t\tconst item = items[handle];\n\t\t\t\tif (item.kind === QuickPickItemKind.Separator) {\n\t\t\t\t\tpickItems.push({ type: 'separator', label: item.label });\n\t\t\t\t} else {\n\t\t\t\t\tif (item.tooltip) {\n\t\t\t\t\t\tcheckProposedApiEnabled(this._extension, 'quickPickItemTooltip');\n\t\t\t\t\t}\n\n\t\t\t\t\tif (item.resourceUri) {\n\t\t\t\t\t\tcheckProposedApiEnabled(this._extension, 'quickPickItemResource');\n\t\t\t\t\t}\n\n\t\t\t\t\tpickItems.push({\n\t\t\t\t\t\thandle,\n\t\t\t\t\t\tlabel: item.label,\n\t\t\t\t\t\ticonPathDto: IconPath.from(item.iconPath),\n\t\t\t\t\t\tdescription: item.description,\n\t\t\t\t\t\tdetail: item.detail,\n\t\t\t\t\t\tpicked: item.picked,\n\t\t\t\t\t\talwaysShow: item.alwaysShow,\n\t\t\t\t\t\ttooltip: MarkdownString.fromStrict(item.tooltip),\n\t\t\t\t\t\tresourceUri: item.resourceUri,\n\t\t\t\t\t\tbuttons: item.buttons?.map<TransferQuickInputButton>((button, i) => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\ticonPathDto: IconPath.from(button.iconPath),\n\t\t\t\t\t\t\t\ttooltip: button.tooltip,\n\t\t\t\t\t\t\t\thandle: i\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}),\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.update({\n\t\t\t\titems: pickItems,\n\t\t\t});\n\t\t}\n\n\t\tget canSelectMany() {\n\t\t\treturn this._canSelectMany;\n\t\t}\n\n\t\tset canSelectMany(canSelectMany: boolean) {\n\t\t\tthis._canSelectMany = canSelectMany;\n\t\t\tthis.update({ canSelectMany });\n\t\t}\n\n\t\tget matchOnDescription() {\n\t\t\treturn this._matchOnDescription;\n\t\t}\n\n\t\tset matchOnDescription(matchOnDescription: boolean) {\n\t\t\tthis._matchOnDescription = matchOnDescription;\n\t\t\tthis.update({ matchOnDescription });\n\t\t}\n\n\t\tget matchOnDetail() {\n\t\t\treturn this._matchOnDetail;\n\t\t}\n\n\t\tset matchOnDetail(matchOnDetail: boolean) {\n\t\t\tthis._matchOnDetail = matchOnDetail;\n\t\t\tthis.update({ matchOnDetail });\n\t\t}\n\n\t\tget sortByLabel() {\n\t\t\treturn this._sortByLabel;\n\t\t}\n\n\t\tset sortByLabel(sortByLabel: boolean) {\n\t\t\tthis._sortByLabel = sortByLabel;\n\t\t\tthis.update({ sortByLabel });\n\t\t}\n\n\t\tget keepScrollPosition() {\n\t\t\treturn this._keepScrollPosition;\n\t\t}\n\n\t\tset keepScrollPosition(keepScrollPosition: boolean) {\n\t\t\tthis._keepScrollPosition = keepScrollPosition;\n\t\t\tthis.update({ keepScrollPosition });\n\t\t}\n\n\t\tget prompt() {\n\t\t\treturn this._prompt;\n\t\t}\n\n\t\tset prompt(prompt: string | undefined) {\n\t\t\tcheckProposedApiEnabled(this._extension, 'quickPickPrompt');\n\t\t\tthis._prompt = prompt;\n\t\t\tthis.update({ prompt });\n\t\t}\n\n\t\tget activeItems() {\n\t\t\treturn this._activeItems;\n\t\t}\n\n\t\tset activeItems(activeItems: T[]) {\n\t\t\tthis._activeItems = activeItems.filter(item => this._itemsToHandles.has(item));\n\t\t\tthis.update({ activeItems: this._activeItems.map(item => this._itemsToHandles.get(item)) });\n\t\t}\n\n\t\tonDidChangeActive = this._onDidChangeActiveEmitter.event;\n\n\t\tget selectedItems() {\n\t\t\treturn this._selectedItems;\n\t\t}\n\n\t\tset selectedItems(selectedItems: T[]) {\n\t\t\tthis._selectedItems = selectedItems.filter(item => this._itemsToHandles.has(item));\n\t\t\tthis.update({ selectedItems: this._selectedItems.map(item => this._itemsToHandles.get(item)) });\n\t\t}\n\n\t\tonDidChangeSelection = this._onDidChangeSelectionEmitter.event;\n\n\t\t_fireDidChangeActive(handles: number[]) {\n\t\t\tconst items = coalesce(handles.map(handle => this._handlesToItems.get(handle)));\n\t\t\tthis._activeItems = items;\n\t\t\tthis._onDidChangeActiveEmitter.fire(items);\n\t\t}\n\n\t\t_fireDidChangeSelection(handles: number[]) {\n\t\t\tconst items = coalesce(handles.map(handle => this._handlesToItems.get(handle)));\n\t\t\tthis._selectedItems = items;\n\t\t\tthis._onDidChangeSelectionEmitter.fire(items);\n\t\t}\n\n\t\tonDidTriggerItemButton = this._onDidTriggerItemButtonEmitter.event;\n\n\t\t_fireDidTriggerItemButton(itemHandle: number, buttonHandle: number) {\n\t\t\tconst item = this._handlesToItems.get(itemHandle)!;\n\t\t\tif (!item || !item.buttons || !item.buttons.length) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst button = item.buttons[buttonHandle];\n\t\t\tif (button) {\n\t\t\t\tthis._onDidTriggerItemButtonEmitter.fire({\n\t\t\t\t\tbutton,\n\t\t\t\t\titem\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tclass ExtHostInputBox extends ExtHostQuickInput implements InputBox {\n\n\t\tprivate _password = false;\n\t\tprivate _prompt: string | undefined;\n\t\tprivate _validationMessage: string | InputBoxValidationMessage | undefined;\n\n\t\tconstructor(extension: IExtensionDescription, onDispose: () => void) {\n\t\t\tsuper(extension, onDispose);\n\t\t\tthis.update({ type: 'inputBox' });\n\t\t}\n\n\t\tget password() {\n\t\t\treturn this._password;\n\t\t}\n\n\t\tset password(password: boolean) {\n\t\t\tthis._password = password;\n\t\t\tthis.update({ password });\n\t\t}\n\n\t\tget prompt() {\n\t\t\treturn this._prompt;\n\t\t}\n\n\t\tset prompt(prompt: string | undefined) {\n\t\t\tthis._prompt = prompt;\n\t\t\tthis.update({ prompt });\n\t\t}\n\n\t\tget validationMessage() {\n\t\t\treturn this._validationMessage;\n\t\t}\n\n\t\tset validationMessage(validationMessage: string | InputBoxValidationMessage | undefined) {\n\t\t\tthis._validationMessage = validationMessage;\n\t\t\tif (!validationMessage) {\n\t\t\t\tthis.update({ validationMessage: undefined, severity: Severity.Ignore });\n\t\t\t} else if (typeof validationMessage === 'string') {\n\t\t\t\tthis.update({ validationMessage, severity: Severity.Error });\n\t\t\t} else {\n\t\t\t\tthis.update({ validationMessage: validationMessage.message, severity: validationMessage.severity ?? Severity.Error });\n\t\t\t}\n\t\t}\n\t}\n\n\treturn new ExtHostQuickOpenImpl(workspace, commands);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { dispose, IDisposable } from '../../../base/common/lifecycle.js';\nimport { ExtHostCommands } from './extHostCommands.js';\nimport { IExtHostWorkspaceProvider } from './extHostWorkspace.js';\nimport { InputBox, InputBoxOptions, InputBoxValidationMessage, QuickInput, QuickInputButton, QuickPick, QuickPickItem, QuickPickItemButtonEvent, QuickPickOptions, WorkspaceFolder, WorkspaceFolderPickOptions } from 'vscode';\nimport { ExtHostQuickOpenShape, IMainContext, MainContext, TransferQuickInput, TransferQuickInputButton, TransferQuickPickItemOrSeparator } from './extHost.protocol.js';\nimport { QuickInputButtons, QuickPickItemKind, InputBoxValidationSeverity, QuickInputButtonLocation } from './extHostTypes.js';\nimport { isCancellationError } from '../../../base/common/errors.js';\nimport { IExtensionDescription } from '../../../platform/extensions/common/extensions.js';\nimport { coalesce } from '../../../base/common/arrays.js';\nimport Severity from '../../../base/common/severity.js';\nimport { checkProposedApiEnabled } from '../../services/extensions/common/extensions.js';\nimport { IconPath, MarkdownString } from './extHostTypeConverters.js';\n\nexport type Item = string | QuickPickItem;\n\nexport interface ExtHostQuickOpen {\n\tshowQuickPick(extension: IExtensionDescription, itemsOrItemsPromise: QuickPickItem[] | Promise<QuickPickItem[]>, options: QuickPickOptions & { canPickMany: true }, token?: CancellationToken): Promise<QuickPickItem[] | undefined>;\n\tshowQuickPick(extension: IExtensionDescription, itemsOrItemsPromise: string[] | Promise<string[]>, options?: QuickPickOptions, token?: CancellationToken): Promise<string | undefined>;\n\tshowQuickPick(extension: IExtensionDescription, itemsOrItemsPromise: QuickPickItem[] | Promise<QuickPickItem[]>, options?: QuickPickOptions, token?: CancellationToken): Promise<QuickPickItem | undefined>;\n\tshowQuickPick(extension: IExtensionDescription, itemsOrItemsPromise: Item[] | Promise<Item[]>, options?: QuickPickOptions, token?: CancellationToken): Promise<Item | Item[] | undefined>;\n\n\tshowInput(options?: InputBoxOptions, token?: CancellationToken): Promise<string | undefined>;\n\n\tshowWorkspaceFolderPick(options?: WorkspaceFolderPickOptions, token?: CancellationToken): Promise<WorkspaceFolder | undefined>;\n\n\tcreateQuickPick<T extends QuickPickItem>(extension: IExtensionDescription): QuickPick<T>;\n\n\tcreateInputBox(extension: IExtensionDescription): InputBox;\n}\n\nexport function createExtHostQuickOpen(mainContext: IMainContext, workspace: IExtHostWorkspaceProvider, commands: ExtHostCommands): ExtHostQuickOpenShape & ExtHostQuickOpen {\n\tconst proxy = mainContext.getProxy(MainContext.MainThreadQuickOpen);\n\n\tclass ExtHostQuickOpenImpl implements ExtHostQuickOpenShape {\n\n\t\tprivate _workspace: IExtHostWorkspaceProvider;\n\t\tprivate _commands: ExtHostCommands;\n\n\t\tprivate _onDidSelectItem?: (handle: number) => void;\n\t\tprivate _validateInput?: (input: string) => string | InputBoxValidationMessage | undefined | null | Thenable<string | InputBoxValidationMessage | undefined | null>;\n\n\t\tprivate _sessions = new Map<number, ExtHostQuickInput>();\n\n\t\tprivate _instances = 0;\n\n\t\tconstructor(workspace: IExtHostWorkspaceProvider, commands: ExtHostCommands) {\n\t\t\tthis._workspace = workspace;\n\t\t\tthis._commands = commands;\n\t\t}\n\n\t\tshowQuickPick(extension: IExtensionDescription, itemsOrItemsPromise: QuickPickItem[] | Promise<QuickPickItem[]>, options: QuickPickOptions & { canPickMany: true }, token?: CancellationToken): Promise<QuickPickItem[] | undefined>;\n\t\tshowQuickPick(extension: IExtensionDescription, itemsOrItemsPromise: string[] | Promise<string[]>, options?: QuickPickOptions, token?: CancellationToken): Promise<string | undefined>;\n\t\tshowQuickPick(extension: IExtensionDescription, itemsOrItemsPromise: QuickPickItem[] | Promise<QuickPickItem[]>, options?: QuickPickOptions, token?: CancellationToken): Promise<QuickPickItem | undefined>;\n\t\tshowQuickPick(extension: IExtensionDescription, itemsOrItemsPromise: Item[] | Promise<Item[]>, options?: QuickPickOptions, token: CancellationToken = CancellationToken.None): Promise<Item | Item[] | undefined> {\n\t\t\t// clear state from last invocation\n\t\t\tthis._onDidSelectItem = undefined;\n\n\t\t\tconst itemsPromise = Promise.resolve(itemsOrItemsPromise);\n\n\t\t\tconst instance = ++this._instances;\n\n\t\t\tif (options?.prompt) {\n\t\t\t\tcheckProposedApiEnabled(extension, 'quickPickPrompt');\n\t\t\t}\n\n\t\t\tconst quickPickWidget = proxy.$show(instance, {\n\t\t\t\ttitle: options?.title,\n\t\t\t\tplaceHolder: options?.placeHolder,\n\t\t\t\tprompt: options?.prompt,\n\t\t\t\tmatchOnDescription: options?.matchOnDescription,\n\t\t\t\tmatchOnDetail: options?.matchOnDetail,\n\t\t\t\tignoreFocusLost: options?.ignoreFocusOut,\n\t\t\t\tcanPickMany: options?.canPickMany,\n\t\t\t}, token);\n\n\t\t\tconst widgetClosedMarker = {};\n\t\t\tconst widgetClosedPromise = quickPickWidget.then(() => widgetClosedMarker);\n\n\t\t\treturn Promise.race([widgetClosedPromise, itemsPromise]).then(result => {\n\t\t\t\tif (result === widgetClosedMarker) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\treturn itemsPromise.then(items => {\n\n\t\t\t\t\tconst pickItems: TransferQuickPickItemOrSeparator[] = [];\n\t\t\t\t\tfor (let handle = 0; handle < items.length; handle++) {\n\t\t\t\t\t\tconst item = items[handle];\n\t\t\t\t\t\tif (typeof item === 'string') {\n\t\t\t\t\t\t\tpickItems.push({ label: item, handle });\n\t\t\t\t\t\t} else if (item.kind === QuickPickItemKind.Separator) {\n\t\t\t\t\t\t\tpickItems.push({ type: 'separator', label: item.label });\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (item.tooltip) {\n\t\t\t\t\t\t\t\tcheckProposedApiEnabled(extension, 'quickPickItemTooltip');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (item.resourceUri) {\n\t\t\t\t\t\t\t\tcheckProposedApiEnabled(extension, 'quickPickItemResource');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tpickItems.push({\n\t\t\t\t\t\t\t\tlabel: item.label,\n\t\t\t\t\t\t\t\ticonPathDto: IconPath.from(item.iconPath),\n\t\t\t\t\t\t\t\tdescription: item.description,\n\t\t\t\t\t\t\t\tdetail: item.detail,\n\t\t\t\t\t\t\t\tpicked: item.picked,\n\t\t\t\t\t\t\t\talwaysShow: item.alwaysShow,\n\t\t\t\t\t\t\t\ttooltip: MarkdownString.fromStrict(item.tooltip),\n\t\t\t\t\t\t\t\tresourceUri: item.resourceUri,\n\t\t\t\t\t\t\t\thandle\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// handle selection changes\n\t\t\t\t\tif (options && typeof options.onDidSelectItem === 'function') {\n\t\t\t\t\t\tthis._onDidSelectItem = (handle) => {\n\t\t\t\t\t\t\toptions.onDidSelectItem!(items[handle]);\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\t// show items\n\t\t\t\t\tproxy.$setItems(instance, pickItems);\n\n\t\t\t\t\treturn quickPickWidget.then(handle => {\n\t\t\t\t\t\tif (typeof handle === 'number') {\n\t\t\t\t\t\t\treturn items[handle];\n\t\t\t\t\t\t} else if (Array.isArray(handle)) {\n\t\t\t\t\t\t\treturn handle.map(h => items[h]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}).then(undefined, err => {\n\t\t\t\tif (isCancellationError(err)) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\tproxy.$setError(instance, err);\n\n\t\t\t\treturn Promise.reject(err);\n\t\t\t});\n\t\t}\n\n\t\t$onItemSelected(handle: number): void {\n\t\t\tthis._onDidSelectItem?.(handle);\n\t\t}\n\n\t\t// ---- input\n\n\t\tshowInput(options?: InputBoxOptions, token: CancellationToken = CancellationToken.None): Promise<string | undefined> {\n\n\t\t\t// global validate fn used in callback below\n\t\t\tthis._validateInput = options?.validateInput;\n\n\t\t\treturn proxy.$input(options, typeof this._validateInput === 'function', token)\n\t\t\t\t.then(undefined, err => {\n\t\t\t\t\tif (isCancellationError(err)) {\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn Promise.reject(err);\n\t\t\t\t});\n\t\t}\n\n\t\tasync $validateInput(input: string): Promise<string | { content: string; severity: Severity } | null | undefined> {\n\t\t\tif (!this._validateInput) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst result = await this._validateInput(input);\n\t\t\tif (!result || typeof result === 'string') {\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\tlet severity: Severity;\n\t\t\tswitch (result.severity) {\n\t\t\t\tcase InputBoxValidationSeverity.Info:\n\t\t\t\t\tseverity = Severity.Info;\n\t\t\t\t\tbreak;\n\t\t\t\tcase InputBoxValidationSeverity.Warning:\n\t\t\t\t\tseverity = Severity.Warning;\n\t\t\t\t\tbreak;\n\t\t\t\tcase InputBoxValidationSeverity.Error:\n\t\t\t\t\tseverity = Severity.Error;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tseverity = result.message ? Severity.Error : Severity.Ignore;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tcontent: result.message,\n\t\t\t\tseverity\n\t\t\t};\n\t\t}\n\n\t\t// ---- workspace folder picker\n\n\t\tasync showWorkspaceFolderPick(options?: WorkspaceFolderPickOptions, token = CancellationToken.None): Promise<WorkspaceFolder | undefined> {\n\t\t\tconst selectedFolder = await this._commands.executeCommand<WorkspaceFolder>('_workbench.pickWorkspaceFolder', [options]);\n\t\t\tif (!selectedFolder) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\tconst workspaceFolders = await this._workspace.getWorkspaceFolders2();\n\t\t\tif (!workspaceFolders) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t\treturn workspaceFolders.find(folder => folder.uri.toString() === selectedFolder.uri.toString());\n\t\t}\n\n\t\t// ---- QuickInput\n\n\t\tcreateQuickPick<T extends QuickPickItem>(extension: IExtensionDescription): QuickPick<T> {\n\t\t\tconst session: ExtHostQuickPick<T> = new ExtHostQuickPick(extension, () => this._sessions.delete(session._id));\n\t\t\tthis._sessions.set(session._id, session);\n\t\t\treturn session;\n\t\t}\n\n\t\tcreateInputBox(extension: IExtensionDescription): InputBox {\n\t\t\tconst session: ExtHostInputBox = new ExtHostInputBox(extension, () => this._sessions.delete(session._id));\n\t\t\tthis._sessions.set(session._id, session);\n\t\t\treturn session;\n\t\t}\n\n\t\t$onDidChangeValue(sessionId: number, value: string): void {\n\t\t\tconst session = this._sessions.get(sessionId);\n\t\t\tsession?._fireDidChangeValue(value);\n\t\t}\n\n\t\t$onDidAccept(sessionId: number): void {\n\t\t\tconst session = this._sessions.get(sessionId);\n\t\t\tsession?._fireDidAccept();\n\t\t}\n\n\t\t$onDidChangeActive(sessionId: number, handles: number[]): void {\n\t\t\tconst session = this._sessions.get(sessionId);\n\t\t\tif (session instanceof ExtHostQuickPick) {\n\t\t\t\tsession._fireDidChangeActive(handles);\n\t\t\t}\n\t\t}\n\n\t\t$onDidChangeSelection(sessionId: number, handles: number[]): void {\n\t\t\tconst session = this._sessions.get(sessionId);\n\t\t\tif (session instanceof ExtHostQuickPick) {\n\t\t\t\tsession._fireDidChangeSelection(handles);\n\t\t\t}\n\t\t}\n\n\t\t$onDidTriggerButton(sessionId: number, handle: number, checked?: boolean): void {\n\t\t\tconst session = this._sessions.get(sessionId);\n\t\t\tsession?._fireDidTriggerButton(handle, checked);\n\t\t}\n\n\t\t$onDidTriggerItemButton(sessionId: number, itemHandle: number, buttonHandle: number): void {\n\t\t\tconst session = this._sessions.get(sessionId);\n\t\t\tif (session instanceof ExtHostQuickPick) {\n\t\t\t\tsession._fireDidTriggerItemButton(itemHandle, buttonHandle);\n\t\t\t}\n\t\t}\n\n\t\t$onDidHide(sessionId: number): void {\n\t\t\tconst session = this._sessions.get(sessionId);\n\t\t\tsession?._fireDidHide();\n\t\t}\n\t}\n\n\tclass ExtHostQuickInput implements QuickInput {\n\n\t\tprivate static _nextId = 1;\n\t\t_id = ExtHostQuickPick._nextId++;\n\n\t\tprivate _title: string | undefined;\n\t\tprivate _steps: number | undefined;\n\t\tprivate _totalSteps: number | undefined;\n\t\tprivate _visible = false;\n\t\tprivate _expectingHide = false;\n\t\tprivate _enabled = true;\n\t\tprivate _busy = false;\n\t\tprivate _ignoreFocusOut = true;\n\t\tprivate _value = '';\n\t\tprivate _valueSelection: readonly [number, number] | undefined = undefined;\n\t\tprivate _placeholder: string | undefined;\n\t\tprivate _buttons: QuickInputButton[] = [];\n\t\tprivate _handlesToButtons = new Map<number, QuickInputButton>();\n\t\tprivate readonly _onDidAcceptEmitter = new Emitter<void>();\n\t\tprivate readonly _onDidChangeValueEmitter = new Emitter<string>();\n\t\tprivate readonly _onDidTriggerButtonEmitter = new Emitter<QuickInputButton>();\n\t\tprivate readonly _onDidHideEmitter = new Emitter<void>();\n\t\tprivate _updateTimeout: Timeout | undefined;\n\t\tprivate _pendingUpdate: TransferQuickInput = { id: this._id };\n\n\t\tprivate _disposed = false;\n\t\tprotected _disposables: IDisposable[] = [\n\t\t\tthis._onDidTriggerButtonEmitter,\n\t\t\tthis._onDidHideEmitter,\n\t\t\tthis._onDidAcceptEmitter,\n\t\t\tthis._onDidChangeValueEmitter\n\t\t];\n\n\t\tconstructor(protected _extension: IExtensionDescription, private _onDidDispose: () => void) {\n\t\t}\n\n\t\tget title() {\n\t\t\treturn this._title;\n\t\t}\n\n\t\tset title(title: string | undefined) {\n\t\t\tthis._title = title;\n\t\t\tthis.update({ title });\n\t\t}\n\n\t\tget step() {\n\t\t\treturn this._steps;\n\t\t}\n\n\t\tset step(step: number | undefined) {\n\t\t\tthis._steps = step;\n\t\t\tthis.update({ step });\n\t\t}\n\n\t\tget totalSteps() {\n\t\t\treturn this._totalSteps;\n\t\t}\n\n\t\tset totalSteps(totalSteps: number | undefined) {\n\t\t\tthis._totalSteps = totalSteps;\n\t\t\tthis.update({ totalSteps });\n\t\t}\n\n\t\tget enabled() {\n\t\t\treturn this._enabled;\n\t\t}\n\n\t\tset enabled(enabled: boolean) {\n\t\t\tthis._enabled = enabled;\n\t\t\tthis.update({ enabled });\n\t\t}\n\n\t\tget busy() {\n\t\t\treturn this._busy;\n\t\t}\n\n\t\tset busy(busy: boolean) {\n\t\t\tthis._busy = busy;\n\t\t\tthis.update({ busy });\n\t\t}\n\n\t\tget ignoreFocusOut() {\n\t\t\treturn this._ignoreFocusOut;\n\t\t}\n\n\t\tset ignoreFocusOut(ignoreFocusOut: boolean) {\n\t\t\tthis._ignoreFocusOut = ignoreFocusOut;\n\t\t\tthis.update({ ignoreFocusOut });\n\t\t}\n\n\t\tget value() {\n\t\t\treturn this._value;\n\t\t}\n\n\t\tset value(value: string) {\n\t\t\tthis._value = value;\n\t\t\tthis.update({ value });\n\t\t}\n\n\t\tget valueSelection() {\n\t\t\treturn this._valueSelection;\n\t\t}\n\n\t\tset valueSelection(valueSelection: readonly [number, number] | undefined) {\n\t\t\tthis._valueSelection = valueSelection;\n\t\t\tthis.update({ valueSelection });\n\t\t}\n\n\t\tget placeholder() {\n\t\t\treturn this._placeholder;\n\t\t}\n\n\t\tset placeholder(placeholder: string | undefined) {\n\t\t\tthis._placeholder = placeholder;\n\t\t\tthis.update({ placeholder });\n\t\t}\n\n\t\tonDidChangeValue = this._onDidChangeValueEmitter.event;\n\n\t\tonDidAccept = this._onDidAcceptEmitter.event;\n\n\t\tget buttons() {\n\t\t\treturn this._buttons;\n\t\t}\n\n\t\tset buttons(buttons: QuickInputButton[]) {\n\t\t\tif (buttons.some(button =>\n\t\t\t\ttypeof button.location === 'number' ||\n\t\t\t\ttypeof button.toggle === 'object' && typeof button.toggle.checked === 'boolean')) {\n\t\t\t\tcheckProposedApiEnabled(this._extension, 'quickInputButtonLocation');\n\t\t\t}\n\n\t\t\tif (buttons.some(button =>\n\t\t\t\ttypeof button.location === 'number' &&\n\t\t\t\tbutton.location !== QuickInputButtonLocation.Input &&\n\t\t\t\ttypeof button.toggle === 'object' &&\n\t\t\t\ttypeof button.toggle.checked === 'boolean')) {\n\t\t\t\tthrow new Error('QuickInputButtons with toggle set are only supported in the Input location.');\n\t\t\t}\n\n\t\t\tthis._buttons = buttons.slice();\n\t\t\tthis._handlesToButtons.clear();\n\t\t\tbuttons.forEach((button, i) => {\n\t\t\t\tconst handle = button === QuickInputButtons.Back ? -1 : i;\n\t\t\t\tthis._handlesToButtons.set(handle, button);\n\t\t\t});\n\t\t\tthis.update({\n\t\t\t\tbuttons: buttons.map<TransferQuickInputButton>((button, i) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ticonPathDto: IconPath.from(button.iconPath),\n\t\t\t\t\t\ttooltip: button.tooltip,\n\t\t\t\t\t\thandle: button === QuickInputButtons.Back ? -1 : i,\n\t\t\t\t\t\tlocation: typeof button.location === 'number' ? button.location : undefined,\n\t\t\t\t\t\tchecked: typeof button.toggle === 'object' && typeof button.toggle.checked === 'boolean' ? button.toggle.checked : undefined\n\t\t\t\t\t};\n\t\t\t\t})\n\t\t\t});\n\t\t}\n\n\t\tonDidTriggerButton = this._onDidTriggerButtonEmitter.event;\n\n\t\tshow(): void {\n\t\t\tthis._visible = true;\n\t\t\tthis._expectingHide = true;\n\t\t\tthis.update({ visible: true });\n\t\t}\n\n\t\thide(): void {\n\t\t\tthis._visible = false;\n\t\t\tthis.update({ visible: false });\n\t\t}\n\n\t\tonDidHide = this._onDidHideEmitter.event;\n\n\t\t_fireDidAccept() {\n\t\t\tthis._onDidAcceptEmitter.fire();\n\t\t}\n\n\t\t_fireDidChangeValue(value: string) {\n\t\t\tthis._value = value;\n\t\t\tthis._onDidChangeValueEmitter.fire(value);\n\t\t}\n\n\t\t_fireDidTriggerButton(handle: number, checked?: boolean) {\n\t\t\tconst button = this._handlesToButtons.get(handle);\n\t\t\tif (button) {\n\t\t\t\tif (checked !== undefined && button.toggle) {\n\t\t\t\t\tbutton.toggle.checked = checked;\n\t\t\t\t}\n\t\t\t\tthis._onDidTriggerButtonEmitter.fire(button);\n\t\t\t}\n\t\t}\n\n\t\t_fireDidHide() {\n\t\t\tif (this._expectingHide) {\n\t\t\t\t// if this._visible is true, it means that .show() was called between\n\t\t\t\t// .hide() and .onDidHide. To ensure the correct number of onDidHide events\n\t\t\t\t// are emitted, we set this._expectingHide to this value so that\n\t\t\t\t// the next time .hide() is called, we can emit the event again.\n\t\t\t\t// Example:\n\t\t\t\t// .show() -> .hide() -> .show() -> .hide() should emit 2 onDidHide events.\n\t\t\t\t// .show() -> .hide() -> .hide() should emit 1 onDidHide event.\n\t\t\t\t// Fixes #135747\n\t\t\t\tthis._expectingHide = this._visible;\n\t\t\t\tthis._onDidHideEmitter.fire();\n\t\t\t}\n\t\t}\n\n\t\tdispose(): void {\n\t\t\tif (this._disposed) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._disposed = true;\n\t\t\tthis._fireDidHide();\n\t\t\tthis._disposables = dispose(this._disposables);\n\t\t\tif (this._updateTimeout) {\n\t\t\t\tclearTimeout(this._updateTimeout);\n\t\t\t\tthis._updateTimeout = undefined;\n\t\t\t}\n\t\t\tthis._onDidDispose();\n\t\t\tproxy.$dispose(this._id);\n\t\t}\n\n\t\tprotected update(properties: Record<string, unknown>): void {\n\t\t\tif (this._disposed) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor (const key of Object.keys(properties)) {\n\t\t\t\tconst value = properties[key];\n\t\t\t\tthis._pendingUpdate[key] = value === undefined ? null : value;\n\t\t\t}\n\n\t\t\tif ('visible' in this._pendingUpdate) {\n\t\t\t\tif (this._updateTimeout) {\n\t\t\t\t\tclearTimeout(this._updateTimeout);\n\t\t\t\t\tthis._updateTimeout = undefined;\n\t\t\t\t}\n\t\t\t\tthis.dispatchUpdate();\n\t\t\t} else if (this._visible && !this._updateTimeout) {\n\t\t\t\t// Defer the update so that multiple changes to setters don't cause a redraw each\n\t\t\t\tthis._updateTimeout = setTimeout(() => {\n\t\t\t\t\tthis._updateTimeout = undefined;\n\t\t\t\t\tthis.dispatchUpdate();\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t}\n\n\t\tprivate dispatchUpdate() {\n\t\t\tproxy.$createOrUpdate(this._pendingUpdate);\n\t\t\tthis._pendingUpdate = { id: this._id };\n\t\t}\n\t}\n\n\tclass ExtHostQuickPick<T extends QuickPickItem> extends ExtHostQuickInput implements QuickPick<T> {\n\n\t\tprivate _items: T[] = [];\n\t\tprivate _handlesToItems = new Map<number, T>();\n\t\tprivate _itemsToHandles = new Map<T, number>();\n\t\tprivate _canSelectMany = false;\n\t\tprivate _matchOnDescription = true;\n\t\tprivate _matchOnDetail = true;\n\t\tprivate _sortByLabel = true;\n\t\tprivate _keepScrollPosition = false;\n\t\tprivate _activeItems: T[] = [];\n\t\tprivate _prompt: string | undefined;\n\t\tprivate readonly _onDidChangeActiveEmitter = new Emitter<T[]>();\n\t\tprivate _selectedItems: T[] = [];\n\t\tprivate readonly _onDidChangeSelectionEmitter = new Emitter<T[]>();\n\t\tprivate readonly _onDidTriggerItemButtonEmitter = new Emitter<QuickPickItemButtonEvent<T>>();\n\n\t\tconstructor(extension: IExtensionDescription, onDispose: () => void) {\n\t\t\tsuper(extension, onDispose);\n\t\t\tthis._disposables.push(\n\t\t\t\tthis._onDidChangeActiveEmitter,\n\t\t\t\tthis._onDidChangeSelectionEmitter,\n\t\t\t\tthis._onDidTriggerItemButtonEmitter\n\t\t\t);\n\t\t\tthis.update({ type: 'quickPick' });\n\t\t}\n\n\t\tget items() {\n\t\t\treturn this._items;\n\t\t}\n\n\t\tset items(items: T[]) {\n\t\t\tthis._items = items.slice();\n\t\t\tthis._handlesToItems.clear();\n\t\t\tthis._itemsToHandles.clear();\n\t\t\titems.forEach((item, i) => {\n\t\t\t\tthis._handlesToItems.set(i, item);\n\t\t\t\tthis._itemsToHandles.set(item, i);\n\t\t\t});\n\n\t\t\tconst pickItems: TransferQuickPickItemOrSeparator[] = [];\n\t\t\tfor (let handle = 0; handle < items.length; handle++) {\n\t\t\t\tconst item = items[handle];\n\t\t\t\tif (item.kind === QuickPickItemKind.Separator) {\n\t\t\t\t\tpickItems.push({ type: 'separator', label: item.label });\n\t\t\t\t} else {\n\t\t\t\t\tif (item.tooltip) {\n\t\t\t\t\t\tcheckProposedApiEnabled(this._extension, 'quickPickItemTooltip');\n\t\t\t\t\t}\n\n\t\t\t\t\tif (item.resourceUri) {\n\t\t\t\t\t\tcheckProposedApiEnabled(this._extension, 'quickPickItemResource');\n\t\t\t\t\t}\n\n\t\t\t\t\tpickItems.push({\n\t\t\t\t\t\thandle,\n\t\t\t\t\t\tlabel: item.label,\n\t\t\t\t\t\ticonPathDto: IconPath.from(item.iconPath),\n\t\t\t\t\t\tdescription: item.description,\n\t\t\t\t\t\tdetail: item.detail,\n\t\t\t\t\t\tpicked: item.picked,\n\t\t\t\t\t\talwaysShow: item.alwaysShow,\n\t\t\t\t\t\ttooltip: MarkdownString.fromStrict(item.tooltip),\n\t\t\t\t\t\tresourceUri: item.resourceUri,\n\t\t\t\t\t\tbuttons: item.buttons?.map<TransferQuickInputButton>((button, i) => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\ticonPathDto: IconPath.from(button.iconPath),\n\t\t\t\t\t\t\t\ttooltip: button.tooltip,\n\t\t\t\t\t\t\t\thandle: i\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}),\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.update({\n\t\t\t\titems: pickItems,\n\t\t\t});\n\t\t}\n\n\t\tget canSelectMany() {\n\t\t\treturn this._canSelectMany;\n\t\t}\n\n\t\tset canSelectMany(canSelectMany: boolean) {\n\t\t\tthis._canSelectMany = canSelectMany;\n\t\t\tthis.update({ canSelectMany });\n\t\t}\n\n\t\tget matchOnDescription() {\n\t\t\treturn this._matchOnDescription;\n\t\t}\n\n\t\tset matchOnDescription(matchOnDescription: boolean) {\n\t\t\tthis._matchOnDescription = matchOnDescription;\n\t\t\tthis.update({ matchOnDescription });\n\t\t}\n\n\t\tget matchOnDetail() {\n\t\t\treturn this._matchOnDetail;\n\t\t}\n\n\t\tset matchOnDetail(matchOnDetail: boolean) {\n\t\t\tthis._matchOnDetail = matchOnDetail;\n\t\t\tthis.update({ matchOnDetail });\n\t\t}\n\n\t\tget sortByLabel() {\n\t\t\treturn this._sortByLabel;\n\t\t}\n\n\t\tset sortByLabel(sortByLabel: boolean) {\n\t\t\tthis._sortByLabel = sortByLabel;\n\t\t\tthis.update({ sortByLabel });\n\t\t}\n\n\t\tget keepScrollPosition() {\n\t\t\treturn this._keepScrollPosition;\n\t\t}\n\n\t\tset keepScrollPosition(keepScrollPosition: boolean) {\n\t\t\tthis._keepScrollPosition = keepScrollPosition;\n\t\t\tthis.update({ keepScrollPosition });\n\t\t}\n\n\t\tget prompt() {\n\t\t\treturn this._prompt;\n\t\t}\n\n\t\tset prompt(prompt: string | undefined) {\n\t\t\tcheckProposedApiEnabled(this._extension, 'quickPickPrompt');\n\t\t\tthis._prompt = prompt;\n\t\t\tthis.update({ prompt });\n\t\t}\n\n\t\tget activeItems() {\n\t\t\treturn this._activeItems;\n\t\t}\n\n\t\tset activeItems(activeItems: T[]) {\n\t\t\tthis._activeItems = activeItems.filter(item => this._itemsToHandles.has(item));\n\t\t\tthis.update({ activeItems: this._activeItems.map(item => this._itemsToHandles.get(item)) });\n\t\t}\n\n\t\tonDidChangeActive = this._onDidChangeActiveEmitter.event;\n\n\t\tget selectedItems() {\n\t\t\treturn this._selectedItems;\n\t\t}\n\n\t\tset selectedItems(selectedItems: T[]) {\n\t\t\tthis._selectedItems = selectedItems.filter(item => this._itemsToHandles.has(item));\n\t\t\tthis.update({ selectedItems: this._selectedItems.map(item => this._itemsToHandles.get(item)) });\n\t\t}\n\n\t\tonDidChangeSelection = this._onDidChangeSelectionEmitter.event;\n\n\t\t_fireDidChangeActive(handles: number[]) {\n\t\t\tconst items = coalesce(handles.map(handle => this._handlesToItems.get(handle)));\n\t\t\tthis._activeItems = items;\n\t\t\tthis._onDidChangeActiveEmitter.fire(items);\n\t\t}\n\n\t\t_fireDidChangeSelection(handles: number[]) {\n\t\t\tconst items = coalesce(handles.map(handle => this._handlesToItems.get(handle)));\n\t\t\tthis._selectedItems = items;\n\t\t\tthis._onDidChangeSelectionEmitter.fire(items);\n\t\t}\n\n\t\tonDidTriggerItemButton = this._onDidTriggerItemButtonEmitter.event;\n\n\t\t_fireDidTriggerItemButton(itemHandle: number, buttonHandle: number) {\n\t\t\tconst item = this._handlesToItems.get(itemHandle)!;\n\t\t\tif (!item || !item.buttons || !item.buttons.length) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst button = item.buttons[buttonHandle];\n\t\t\tif (button) {\n\t\t\t\tthis._onDidTriggerItemButtonEmitter.fire({\n\t\t\t\t\tbutton,\n\t\t\t\t\titem\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tclass ExtHostInputBox extends ExtHostQuickInput implements InputBox {\n\n\t\tprivate _password = false;\n\t\tprivate _prompt: string | undefined;\n\t\tprivate _validationMessage: string | InputBoxValidationMessage | undefined;\n\n\t\tconstructor(extension: IExtensionDescription, onDispose: () => void) {\n\t\t\tsuper(extension, onDispose);\n\t\t\tthis.update({ type: 'inputBox' });\n\t\t}\n\n\t\tget password() {\n\t\t\treturn this._password;\n\t\t}\n\n\t\tset password(password: boolean) {\n\t\t\tthis._password = password;\n\t\t\tthis.update({ password });\n\t\t}\n\n\t\tget prompt() {\n\t\t\treturn this._prompt;\n\t\t}\n\n\t\tset prompt(prompt: string | undefined) {\n\t\t\tthis._prompt = prompt;\n\t\t\tthis.update({ prompt });\n\t\t}\n\n\t\tget validationMessage() {\n\t\t\treturn this._validationMessage;\n\t\t}\n\n\t\tset validationMessage(validationMessage: string | InputBoxValidationMessage | undefined) {\n\t\t\tthis._validationMessage = validationMessage;\n\t\t\tif (!validationMessage) {\n\t\t\t\tthis.update({ validationMessage: undefined, severity: Severity.Ignore });\n\t\t\t} else if (typeof validationMessage === 'string') {\n\t\t\t\tthis.update({ validationMessage, severity: Severity.Error });\n\t\t\t} else {\n\t\t\t\tthis.update({ validationMessage: validationMessage.message, severity: validationMessage.severity ?? Severity.Error });\n\t\t\t}\n\t\t}\n\t}\n\n\treturn new ExtHostQuickOpenImpl(workspace, commands);\n}\n"]}