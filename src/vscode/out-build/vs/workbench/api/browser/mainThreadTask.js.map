{"version":3,"sources":["vs/workbench/api/browser/mainThreadTask.ts"],"names":[],"mappings":"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","file":"mainThreadTask.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as nls from '../../../nls.js';\n\nimport { URI, UriComponents } from '../../../base/common/uri.js';\nimport { generateUuid } from '../../../base/common/uuid.js';\nimport * as Types from '../../../base/common/types.js';\nimport * as Platform from '../../../base/common/platform.js';\nimport { IStringDictionary } from '../../../base/common/collections.js';\nimport { Disposable, IDisposable } from '../../../base/common/lifecycle.js';\n\nimport { IWorkspace, IWorkspaceContextService, IWorkspaceFolder } from '../../../platform/workspace/common/workspace.js';\n\nimport {\n\tContributedTask, ConfiguringTask, KeyedTaskIdentifier, ITaskExecution, Task, ITaskEvent,\n\tIPresentationOptions, CommandOptions, ICommandConfiguration, RuntimeType, CustomTask, TaskScope, TaskSource,\n\tTaskSourceKind, IExtensionTaskSource, IRunOptions, ITaskSet, TaskGroup, TaskDefinition, PresentationOptions, RunOptions\n} from '../../contrib/tasks/common/tasks.js';\n\n\nimport { IResolveSet, IResolvedVariables } from '../../contrib/tasks/common/taskSystem.js';\nimport { ITaskService, ITaskFilter, ITaskProvider } from '../../contrib/tasks/common/taskService.js';\n\nimport { extHostNamedCustomer, IExtHostContext } from '../../services/extensions/common/extHostCustomers.js';\nimport { ExtHostContext, MainThreadTaskShape, ExtHostTaskShape, MainContext } from '../common/extHost.protocol.js';\nimport {\n\tITaskDefinitionDTO, ITaskExecutionDTO, IProcessExecutionOptionsDTO, ITaskPresentationOptionsDTO,\n\tIProcessExecutionDTO, IShellExecutionDTO, IShellExecutionOptionsDTO, ICustomExecutionDTO, ITaskDTO, ITaskSourceDTO, ITaskHandleDTO, ITaskFilterDTO, ITaskProcessStartedDTO, ITaskProcessEndedDTO, ITaskSystemInfoDTO,\n\tIRunOptionsDTO, ITaskGroupDTO,\n\tITaskProblemMatcherStarted,\n\tITaskProblemMatcherEnded,\n\tTaskEventKind\n} from '../common/shared/tasks.js';\nimport { IConfigurationResolverService } from '../../services/configurationResolver/common/configurationResolver.js';\nimport { ConfigurationTarget } from '../../../platform/configuration/common/configuration.js';\nimport { ErrorNoTelemetry } from '../../../base/common/errors.js';\nimport { IExtensionDescription } from '../../../platform/extensions/common/extensions.js';\nimport { ConfigurationResolverExpression } from '../../services/configurationResolver/common/configurationResolverExpression.js';\n\nnamespace TaskExecutionDTO {\n\texport function from(value: ITaskExecution): ITaskExecutionDTO {\n\t\treturn {\n\t\t\tid: value.id,\n\t\t\ttask: TaskDTO.from(value.task)\n\t\t};\n\t}\n}\n\nexport interface ITaskProblemMatcherStartedDto {\n\texecution: ITaskExecutionDTO;\n}\n\nexport namespace TaskProblemMatcherStartedDto {\n\texport function from(value: ITaskProblemMatcherStarted): ITaskProblemMatcherStartedDto {\n\t\treturn {\n\t\t\texecution: {\n\t\t\t\tid: value.execution.id,\n\t\t\t\ttask: TaskDTO.from(value.execution.task)\n\t\t\t},\n\t\t};\n\t}\n}\n\nexport interface ITaskProblemMatcherEndedDto {\n\texecution: ITaskExecutionDTO;\n\thasErrors: boolean;\n}\n\nexport namespace TaskProblemMatcherEndedDto {\n\texport function from(value: ITaskProblemMatcherEnded): ITaskProblemMatcherEndedDto {\n\t\treturn {\n\t\t\texecution: {\n\t\t\t\tid: value.execution.id,\n\t\t\t\ttask: TaskDTO.from(value.execution.task)\n\t\t\t},\n\t\t\thasErrors: value.hasErrors\n\t\t};\n\t}\n}\n\n\n\nnamespace TaskProcessStartedDTO {\n\texport function from(value: ITaskExecution, processId: number): ITaskProcessStartedDTO {\n\t\treturn {\n\t\t\tid: value.id,\n\t\t\tprocessId\n\t\t};\n\t}\n}\n\nnamespace TaskProcessEndedDTO {\n\texport function from(value: ITaskExecution, exitCode: number | undefined): ITaskProcessEndedDTO {\n\t\treturn {\n\t\t\tid: value.id,\n\t\t\texitCode\n\t\t};\n\t}\n}\n\nnamespace TaskDefinitionDTO {\n\texport function from(value: KeyedTaskIdentifier): ITaskDefinitionDTO {\n\t\tconst result = Object.assign(Object.create(null), value);\n\t\tdelete result._key;\n\t\treturn result;\n\t}\n\texport function to(value: ITaskDefinitionDTO, executeOnly: boolean): KeyedTaskIdentifier | undefined {\n\t\tlet result = TaskDefinition.createTaskIdentifier(value, console);\n\t\tif (result === undefined && executeOnly) {\n\t\t\tresult = {\n\t\t\t\t_key: generateUuid(),\n\t\t\t\ttype: '$executeOnly'\n\t\t\t};\n\t\t}\n\t\treturn result;\n\t}\n}\n\nnamespace TaskPresentationOptionsDTO {\n\texport function from(value: IPresentationOptions | undefined): ITaskPresentationOptionsDTO | undefined {\n\t\tif (value === undefined || value === null) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn Object.assign(Object.create(null), value);\n\t}\n\texport function to(value: ITaskPresentationOptionsDTO | undefined): IPresentationOptions {\n\t\tif (value === undefined || value === null) {\n\t\t\treturn PresentationOptions.defaults;\n\t\t}\n\t\treturn Object.assign(Object.create(null), PresentationOptions.defaults, value);\n\t}\n}\n\nnamespace RunOptionsDTO {\n\texport function from(value: IRunOptions): IRunOptionsDTO | undefined {\n\t\tif (value === undefined || value === null) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn Object.assign(Object.create(null), value);\n\t}\n\texport function to(value: IRunOptionsDTO | undefined): IRunOptions {\n\t\tif (value === undefined || value === null) {\n\t\t\treturn RunOptions.defaults;\n\t\t}\n\t\treturn Object.assign(Object.create(null), RunOptions.defaults, value);\n\t}\n}\n\nnamespace ProcessExecutionOptionsDTO {\n\texport function from(value: CommandOptions): IProcessExecutionOptionsDTO | undefined {\n\t\tif (value === undefined || value === null) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn {\n\t\t\tcwd: value.cwd,\n\t\t\tenv: value.env\n\t\t};\n\t}\n\texport function to(value: IProcessExecutionOptionsDTO | undefined): CommandOptions {\n\t\tif (value === undefined || value === null) {\n\t\t\treturn CommandOptions.defaults;\n\t\t}\n\t\treturn {\n\t\t\tcwd: value.cwd || CommandOptions.defaults.cwd,\n\t\t\tenv: value.env\n\t\t};\n\t}\n}\n\nnamespace ProcessExecutionDTO {\n\texport function is(value: IShellExecutionDTO | IProcessExecutionDTO | ICustomExecutionDTO): value is IProcessExecutionDTO {\n\t\tconst candidate = value as IProcessExecutionDTO;\n\t\treturn candidate && !!candidate.process;\n\t}\n\texport function from(value: ICommandConfiguration): IProcessExecutionDTO {\n\t\tconst process: string = Types.isString(value.name) ? value.name : value.name!.value;\n\t\tconst args: string[] = value.args ? value.args.map(value => Types.isString(value) ? value : value.value) : [];\n\t\tconst result: IProcessExecutionDTO = {\n\t\t\tprocess: process,\n\t\t\targs: args\n\t\t};\n\t\tif (value.options) {\n\t\t\tresult.options = ProcessExecutionOptionsDTO.from(value.options);\n\t\t}\n\t\treturn result;\n\t}\n\texport function to(value: IProcessExecutionDTO): ICommandConfiguration {\n\t\tconst result: ICommandConfiguration = {\n\t\t\truntime: RuntimeType.Process,\n\t\t\tname: value.process,\n\t\t\targs: value.args,\n\t\t\tpresentation: undefined\n\t\t};\n\t\tresult.options = ProcessExecutionOptionsDTO.to(value.options);\n\t\treturn result;\n\t}\n}\n\nnamespace ShellExecutionOptionsDTO {\n\texport function from(value: CommandOptions): IShellExecutionOptionsDTO | undefined {\n\t\tif (value === undefined || value === null) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst result: IShellExecutionOptionsDTO = {\n\t\t\tcwd: value.cwd || CommandOptions.defaults.cwd,\n\t\t\tenv: value.env\n\t\t};\n\t\tif (value.shell) {\n\t\t\tresult.executable = value.shell.executable;\n\t\t\tresult.shellArgs = value.shell.args;\n\t\t\tresult.shellQuoting = value.shell.quoting;\n\t\t}\n\t\treturn result;\n\t}\n\texport function to(value: IShellExecutionOptionsDTO): CommandOptions | undefined {\n\t\tif (value === undefined || value === null) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst result: CommandOptions = {\n\t\t\tcwd: value.cwd,\n\t\t\tenv: value.env\n\t\t};\n\t\tif (value.executable) {\n\t\t\tresult.shell = {\n\t\t\t\texecutable: value.executable\n\t\t\t};\n\t\t\tif (value.shellArgs) {\n\t\t\t\tresult.shell.args = value.shellArgs;\n\t\t\t}\n\t\t\tif (value.shellQuoting) {\n\t\t\t\tresult.shell.quoting = value.shellQuoting;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n}\n\nnamespace ShellExecutionDTO {\n\texport function is(value: IShellExecutionDTO | IProcessExecutionDTO | ICustomExecutionDTO): value is IShellExecutionDTO {\n\t\tconst candidate = value as IShellExecutionDTO;\n\t\treturn candidate && (!!candidate.commandLine || !!candidate.command);\n\t}\n\texport function from(value: ICommandConfiguration): IShellExecutionDTO {\n\t\tconst result: IShellExecutionDTO = {};\n\t\tif (value.name && Types.isString(value.name) && (value.args === undefined || value.args === null || value.args.length === 0)) {\n\t\t\tresult.commandLine = value.name;\n\t\t} else {\n\t\t\tresult.command = value.name;\n\t\t\tresult.args = value.args;\n\t\t}\n\t\tif (value.options) {\n\t\t\tresult.options = ShellExecutionOptionsDTO.from(value.options);\n\t\t}\n\t\treturn result;\n\t}\n\texport function to(value: IShellExecutionDTO): ICommandConfiguration {\n\t\tconst result: ICommandConfiguration = {\n\t\t\truntime: RuntimeType.Shell,\n\t\t\tname: value.commandLine ? value.commandLine : value.command,\n\t\t\targs: value.args,\n\t\t\tpresentation: undefined\n\t\t};\n\t\tif (value.options) {\n\t\t\tresult.options = ShellExecutionOptionsDTO.to(value.options);\n\t\t}\n\t\treturn result;\n\t}\n}\n\nnamespace CustomExecutionDTO {\n\texport function is(value: IShellExecutionDTO | IProcessExecutionDTO | ICustomExecutionDTO): value is ICustomExecutionDTO {\n\t\tconst candidate = value as ICustomExecutionDTO;\n\t\treturn candidate && candidate.customExecution === 'customExecution';\n\t}\n\n\texport function from(value: ICommandConfiguration): ICustomExecutionDTO {\n\t\treturn {\n\t\t\tcustomExecution: 'customExecution'\n\t\t};\n\t}\n\n\texport function to(value: ICustomExecutionDTO): ICommandConfiguration {\n\t\treturn {\n\t\t\truntime: RuntimeType.CustomExecution,\n\t\t\tpresentation: undefined\n\t\t};\n\t}\n}\n\nnamespace TaskSourceDTO {\n\texport function from(value: TaskSource): ITaskSourceDTO {\n\t\tconst result: ITaskSourceDTO = {\n\t\t\tlabel: value.label\n\t\t};\n\t\tif (value.kind === TaskSourceKind.Extension) {\n\t\t\tresult.extensionId = value.extension;\n\t\t\tif (value.workspaceFolder) {\n\t\t\t\tresult.scope = value.workspaceFolder.uri;\n\t\t\t} else {\n\t\t\t\tresult.scope = value.scope;\n\t\t\t}\n\t\t} else if (value.kind === TaskSourceKind.Workspace) {\n\t\t\tresult.extensionId = '$core';\n\t\t\tresult.scope = value.config.workspaceFolder ? value.config.workspaceFolder.uri : TaskScope.Global;\n\t\t}\n\t\treturn result;\n\t}\n\texport function to(value: ITaskSourceDTO, workspace: IWorkspaceContextService): IExtensionTaskSource {\n\t\tlet scope: TaskScope;\n\t\tlet workspaceFolder: IWorkspaceFolder | undefined;\n\t\tif ((value.scope === undefined) || ((typeof value.scope === 'number') && (value.scope !== TaskScope.Global))) {\n\t\t\tif (workspace.getWorkspace().folders.length === 0) {\n\t\t\t\tscope = TaskScope.Global;\n\t\t\t\tworkspaceFolder = undefined;\n\t\t\t} else {\n\t\t\t\tscope = TaskScope.Folder;\n\t\t\t\tworkspaceFolder = workspace.getWorkspace().folders[0];\n\t\t\t}\n\t\t} else if (typeof value.scope === 'number') {\n\t\t\tscope = value.scope;\n\t\t} else {\n\t\t\tscope = TaskScope.Folder;\n\t\t\tworkspaceFolder = workspace.getWorkspaceFolder(URI.revive(value.scope)) ?? undefined;\n\t\t}\n\t\tconst result: IExtensionTaskSource = {\n\t\t\tkind: TaskSourceKind.Extension,\n\t\t\tlabel: value.label,\n\t\t\textension: value.extensionId,\n\t\t\tscope,\n\t\t\tworkspaceFolder\n\t\t};\n\t\treturn result;\n\t}\n}\n\nnamespace TaskHandleDTO {\n\texport function is(value: unknown): value is ITaskHandleDTO {\n\t\tconst candidate = value as ITaskHandleDTO | undefined;\n\t\treturn !!candidate && Types.isString(candidate.id) && !!candidate.workspaceFolder;\n\t}\n}\n\nnamespace TaskDTO {\n\texport function from(task: Task | ConfiguringTask): ITaskDTO | undefined {\n\t\tif (task === undefined || task === null || (!CustomTask.is(task) && !ContributedTask.is(task) && !ConfiguringTask.is(task))) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst result: ITaskDTO = {\n\t\t\t_id: task._id,\n\t\t\tname: task.configurationProperties.name,\n\t\t\tdefinition: TaskDefinitionDTO.from(task.getDefinition(true)),\n\t\t\tsource: TaskSourceDTO.from(task._source),\n\t\t\texecution: undefined,\n\t\t\tpresentationOptions: !ConfiguringTask.is(task) && task.command ? TaskPresentationOptionsDTO.from(task.command.presentation) : undefined,\n\t\t\tisBackground: task.configurationProperties.isBackground,\n\t\t\tproblemMatchers: [],\n\t\t\thasDefinedMatchers: ContributedTask.is(task) ? task.hasDefinedMatchers : false,\n\t\t\trunOptions: RunOptionsDTO.from(task.runOptions),\n\t\t};\n\t\tresult.group = TaskGroupDTO.from(task.configurationProperties.group);\n\n\t\tif (task.configurationProperties.detail) {\n\t\t\tresult.detail = task.configurationProperties.detail;\n\t\t}\n\t\tif (!ConfiguringTask.is(task) && task.command) {\n\t\t\tswitch (task.command.runtime) {\n\t\t\t\tcase RuntimeType.Process: result.execution = ProcessExecutionDTO.from(task.command); break;\n\t\t\t\tcase RuntimeType.Shell: result.execution = ShellExecutionDTO.from(task.command); break;\n\t\t\t\tcase RuntimeType.CustomExecution: result.execution = CustomExecutionDTO.from(task.command); break;\n\t\t\t}\n\t\t}\n\t\tif (task.configurationProperties.problemMatchers) {\n\t\t\tfor (const matcher of task.configurationProperties.problemMatchers) {\n\t\t\t\tif (Types.isString(matcher)) {\n\t\t\t\t\tresult.problemMatchers.push(matcher);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\texport function to(task: ITaskDTO | undefined, workspace: IWorkspaceContextService, executeOnly: boolean, icon?: { id?: string; color?: string }, hide?: boolean): ContributedTask | undefined {\n\t\tif (!task || (typeof task.name !== 'string')) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tlet command: ICommandConfiguration | undefined;\n\t\tif (task.execution) {\n\t\t\tif (ShellExecutionDTO.is(task.execution)) {\n\t\t\t\tcommand = ShellExecutionDTO.to(task.execution);\n\t\t\t} else if (ProcessExecutionDTO.is(task.execution)) {\n\t\t\t\tcommand = ProcessExecutionDTO.to(task.execution);\n\t\t\t} else if (CustomExecutionDTO.is(task.execution)) {\n\t\t\t\tcommand = CustomExecutionDTO.to(task.execution);\n\t\t\t}\n\t\t}\n\n\t\tif (!command) {\n\t\t\treturn undefined;\n\t\t}\n\t\tcommand.presentation = TaskPresentationOptionsDTO.to(task.presentationOptions);\n\t\tconst source = TaskSourceDTO.to(task.source, workspace);\n\n\t\tconst label = nls.localize('task.label', '{0}: {1}', source.label, task.name);\n\t\tconst definition = TaskDefinitionDTO.to(task.definition, executeOnly)!;\n\t\tconst id = (CustomExecutionDTO.is(task.execution!) && task._id) ? task._id : `${task.source.extensionId}.${definition._key}`;\n\t\tconst result: ContributedTask = new ContributedTask(\n\t\t\tid, // uuidMap.getUUID(identifier)\n\t\t\tsource,\n\t\t\tlabel,\n\t\t\tdefinition.type,\n\t\t\tdefinition,\n\t\t\tcommand,\n\t\t\ttask.hasDefinedMatchers,\n\t\t\tRunOptionsDTO.to(task.runOptions),\n\t\t\t{\n\t\t\t\tname: task.name,\n\t\t\t\tidentifier: label,\n\t\t\t\tgroup: task.group,\n\t\t\t\tisBackground: !!task.isBackground,\n\t\t\t\tproblemMatchers: task.problemMatchers.slice(),\n\t\t\t\tdetail: task.detail,\n\t\t\t\ticon,\n\t\t\t\thide\n\t\t\t}\n\t\t);\n\t\treturn result;\n\t}\n}\n\nnamespace TaskGroupDTO {\n\texport function from(value: string | TaskGroup | undefined): ITaskGroupDTO | undefined {\n\t\tif (value === undefined) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn {\n\t\t\t_id: (typeof value === 'string') ? value : value._id,\n\t\t\tisDefault: (typeof value === 'string') ? false : ((typeof value.isDefault === 'string') ? false : value.isDefault)\n\t\t};\n\t}\n}\n\nnamespace TaskFilterDTO {\n\texport function from(value: ITaskFilter): ITaskFilterDTO {\n\t\treturn value;\n\t}\n\texport function to(value: ITaskFilterDTO | undefined): ITaskFilter | undefined {\n\t\treturn value;\n\t}\n}\n\n@extHostNamedCustomer(MainContext.MainThreadTask)\nexport class MainThreadTask extends Disposable implements MainThreadTaskShape {\n\n\tprivate readonly _extHostContext: IExtHostContext | undefined;\n\tprivate readonly _proxy: ExtHostTaskShape;\n\tprivate readonly _providers: Map<number, { disposable: IDisposable; provider: ITaskProvider }>;\n\n\tconstructor(\n\t\textHostContext: IExtHostContext,\n\t\t@ITaskService private readonly _taskService: ITaskService,\n\t\t@IWorkspaceContextService private readonly _workspaceContextServer: IWorkspaceContextService,\n\t\t@IConfigurationResolverService private readonly _configurationResolverService: IConfigurationResolverService\n\t) {\n\t\tsuper();\n\t\tthis._proxy = extHostContext.getProxy(ExtHostContext.ExtHostTask);\n\t\tthis._providers = new Map();\n\t\tthis._register(this._taskService.onDidStateChange(async (event: ITaskEvent) => {\n\t\t\tif (event.kind === TaskEventKind.Changed) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst task = event.__task;\n\t\t\tif (event.kind === TaskEventKind.Start) {\n\t\t\t\tconst execution = TaskExecutionDTO.from(task.getTaskExecution());\n\t\t\t\tlet resolvedDefinition: ITaskDefinitionDTO = execution.task!.definition;\n\t\t\t\tif (execution.task?.execution && CustomExecutionDTO.is(execution.task.execution) && event.resolvedVariables) {\n\t\t\t\t\tconst expr = ConfigurationResolverExpression.parse(execution.task.definition);\n\t\t\t\t\tfor (const replacement of expr.unresolved()) {\n\t\t\t\t\t\tconst value = event.resolvedVariables.get(replacement.inner);\n\t\t\t\t\t\tif (value !== undefined) {\n\t\t\t\t\t\t\texpr.resolve(replacement, value);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tresolvedDefinition = await this._configurationResolverService.resolveAsync(task.getWorkspaceFolder(), expr);\n\t\t\t\t}\n\t\t\t\tthis._proxy.$onDidStartTask(execution, event.terminalId, resolvedDefinition);\n\t\t\t} else if (event.kind === TaskEventKind.ProcessStarted) {\n\t\t\t\tthis._proxy.$onDidStartTaskProcess(TaskProcessStartedDTO.from(task.getTaskExecution(), event.processId));\n\t\t\t} else if (event.kind === TaskEventKind.ProcessEnded) {\n\t\t\t\tthis._proxy.$onDidEndTaskProcess(TaskProcessEndedDTO.from(task.getTaskExecution(), event.exitCode));\n\t\t\t} else if (event.kind === TaskEventKind.End) {\n\t\t\t\tthis._proxy.$OnDidEndTask(TaskExecutionDTO.from(task.getTaskExecution()));\n\t\t\t} else if (event.kind === TaskEventKind.ProblemMatcherStarted) {\n\t\t\t\tthis._proxy.$onDidStartTaskProblemMatchers(TaskProblemMatcherStartedDto.from({ execution: task.getTaskExecution() }));\n\t\t\t} else if (event.kind === TaskEventKind.ProblemMatcherEnded) {\n\t\t\t\tthis._proxy.$onDidEndTaskProblemMatchers(TaskProblemMatcherEndedDto.from({ execution: task.getTaskExecution(), hasErrors: false }));\n\t\t\t} else if (event.kind === TaskEventKind.ProblemMatcherFoundErrors) {\n\t\t\t\tthis._proxy.$onDidEndTaskProblemMatchers(TaskProblemMatcherEndedDto.from({ execution: task.getTaskExecution(), hasErrors: true }));\n\t\t\t}\n\n\t\t}));\n\t}\n\n\tpublic override dispose(): void {\n\t\tfor (const value of this._providers.values()) {\n\t\t\tvalue.disposable.dispose();\n\t\t}\n\t\tthis._providers.clear();\n\t\tsuper.dispose();\n\t}\n\n\t$createTaskId(taskDTO: ITaskDTO): Promise<string> {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst task = TaskDTO.to(taskDTO, this._workspaceContextServer, true);\n\t\t\tif (task) {\n\t\t\t\tresolve(task._id);\n\t\t\t} else {\n\t\t\t\treject(new Error('Task could not be created from DTO'));\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic $registerTaskProvider(handle: number, type: string): Promise<void> {\n\t\tconst provider: ITaskProvider = {\n\t\t\tprovideTasks: (validTypes: IStringDictionary<boolean>) => {\n\t\t\t\treturn Promise.resolve(this._proxy.$provideTasks(handle, validTypes)).then((value) => {\n\t\t\t\t\tconst tasks: Task[] = [];\n\t\t\t\t\tfor (const dto of value.tasks) {\n\t\t\t\t\t\tconst task = TaskDTO.to(dto, this._workspaceContextServer, true);\n\t\t\t\t\t\tif (task) {\n\t\t\t\t\t\t\ttasks.push(task);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.error(`Task System: can not convert task: ${JSON.stringify(dto.definition, undefined, 0)}. Task will be dropped`);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tconst processedExtension: IExtensionDescription = {\n\t\t\t\t\t\t...value.extension,\n\t\t\t\t\t\textensionLocation: URI.revive(value.extension.extensionLocation)\n\t\t\t\t\t};\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttasks,\n\t\t\t\t\t\textension: processedExtension\n\t\t\t\t\t} satisfies ITaskSet;\n\t\t\t\t});\n\t\t\t},\n\t\t\tresolveTask: (task: ConfiguringTask) => {\n\t\t\t\tconst dto = TaskDTO.from(task);\n\n\t\t\t\tif (dto) {\n\t\t\t\t\tdto.name = ((dto.name === undefined) ? '' : dto.name); // Using an empty name causes the name to default to the one given by the provider.\n\t\t\t\t\treturn Promise.resolve(this._proxy.$resolveTask(handle, dto)).then(resolvedTask => {\n\t\t\t\t\t\tif (resolvedTask) {\n\t\t\t\t\t\t\treturn TaskDTO.to(resolvedTask, this._workspaceContextServer, true, task.configurationProperties.icon, task.configurationProperties.hide);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn Promise.resolve<ContributedTask | undefined>(undefined);\n\t\t\t}\n\t\t};\n\t\tconst disposable = this._taskService.registerTaskProvider(provider, type);\n\t\tthis._providers.set(handle, { disposable, provider });\n\t\treturn Promise.resolve(undefined);\n\t}\n\n\tpublic $unregisterTaskProvider(handle: number): Promise<void> {\n\t\tconst provider = this._providers.get(handle);\n\t\tif (provider) {\n\t\t\tprovider.disposable.dispose();\n\t\t\tthis._providers.delete(handle);\n\t\t}\n\t\treturn Promise.resolve(undefined);\n\t}\n\n\tpublic $fetchTasks(filter?: ITaskFilterDTO): Promise<ITaskDTO[]> {\n\t\treturn this._taskService.tasks(TaskFilterDTO.to(filter)).then((tasks) => {\n\t\t\tconst result: ITaskDTO[] = [];\n\t\t\tfor (const task of tasks) {\n\t\t\t\tconst item = TaskDTO.from(task);\n\t\t\t\tif (item) {\n\t\t\t\t\tresult.push(item);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t});\n\t}\n\n\tprivate getWorkspace(value: UriComponents | string): string | IWorkspace | IWorkspaceFolder | null {\n\t\tlet workspace;\n\t\tif (typeof value === 'string') {\n\t\t\tworkspace = value;\n\t\t} else {\n\t\t\tconst workspaceObject = this._workspaceContextServer.getWorkspace();\n\t\t\tconst uri = URI.revive(value);\n\t\t\tif (workspaceObject.configuration?.toString() === uri.toString()) {\n\t\t\t\tworkspace = workspaceObject;\n\t\t\t} else {\n\t\t\t\tworkspace = this._workspaceContextServer.getWorkspaceFolder(uri);\n\t\t\t}\n\t\t}\n\t\treturn workspace;\n\t}\n\n\tpublic async $getTaskExecution(value: ITaskHandleDTO | ITaskDTO): Promise<ITaskExecutionDTO> {\n\t\tif (TaskHandleDTO.is(value)) {\n\t\t\tconst workspace = this.getWorkspace(value.workspaceFolder);\n\t\t\tif (workspace) {\n\t\t\t\tconst task = await this._taskService.getTask(workspace, value.id, true);\n\t\t\t\tif (task) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid: task._id,\n\t\t\t\t\t\ttask: TaskDTO.from(task)\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tthrow new Error('Task not found');\n\t\t\t} else {\n\t\t\t\tthrow new Error('No workspace folder');\n\t\t\t}\n\t\t} else {\n\t\t\tconst task = TaskDTO.to(value, this._workspaceContextServer, true)!;\n\t\t\treturn {\n\t\t\t\tid: task._id,\n\t\t\t\ttask: TaskDTO.from(task)\n\t\t\t};\n\t\t}\n\t}\n\n\t// Passing in a TaskHandleDTO will cause the task to get re-resolved, which is important for tasks are coming from the core,\n\t// such as those gotten from a fetchTasks, since they can have missing configuration properties.\n\tpublic $executeTask(value: ITaskHandleDTO | ITaskDTO): Promise<ITaskExecutionDTO> {\n\t\treturn new Promise<ITaskExecutionDTO>((resolve, reject) => {\n\t\t\tif (TaskHandleDTO.is(value)) {\n\t\t\t\tconst workspace = this.getWorkspace(value.workspaceFolder);\n\t\t\t\tif (workspace) {\n\t\t\t\t\tthis._taskService.getTask(workspace, value.id, true).then((task: Task | undefined) => {\n\t\t\t\t\t\tif (!task) {\n\t\t\t\t\t\t\treject(new Error('Task not found'));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst result: ITaskExecutionDTO = {\n\t\t\t\t\t\t\t\tid: value.id,\n\t\t\t\t\t\t\t\ttask: TaskDTO.from(task)\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tthis._taskService.run(task).then(summary => {\n\t\t\t\t\t\t\t\t// Ensure that the task execution gets cleaned up if the exit code is undefined\n\t\t\t\t\t\t\t\t// This can happen when the task has dependent tasks and one of them failed\n\t\t\t\t\t\t\t\tif ((summary?.exitCode === undefined) || (summary.exitCode !== 0)) {\n\t\t\t\t\t\t\t\t\tthis._proxy.$OnDidEndTask(result);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, reason => {\n\t\t\t\t\t\t\t\t// eat the error, it has already been surfaced to the user and we don't care about it here\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tresolve(result);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, (_error) => {\n\t\t\t\t\t\treject(new Error('Task not found'));\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treject(new Error('No workspace folder'));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst task = TaskDTO.to(value, this._workspaceContextServer, true)!;\n\t\t\t\tthis._taskService.run(task).then(undefined, reason => {\n\t\t\t\t\t// eat the error, it has already been surfaced to the user and we don't care about it here\n\t\t\t\t});\n\t\t\t\tconst result: ITaskExecutionDTO = {\n\t\t\t\t\tid: task._id,\n\t\t\t\t\ttask: TaskDTO.from(task)\n\t\t\t\t};\n\t\t\t\tresolve(result);\n\t\t\t}\n\t\t});\n\t}\n\n\n\tpublic $customExecutionComplete(id: string, result?: number): Promise<void> {\n\t\treturn new Promise<void>((resolve, reject) => {\n\t\t\tthis._taskService.getActiveTasks().then((tasks) => {\n\t\t\t\tfor (const task of tasks) {\n\t\t\t\t\tif (id === task._id) {\n\t\t\t\t\t\tthis._taskService.extensionCallbackTaskComplete(task, result).then((value) => {\n\t\t\t\t\t\t\tresolve(undefined);\n\t\t\t\t\t\t}, (error) => {\n\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treject(new Error('Task to mark as complete not found'));\n\t\t\t});\n\t\t});\n\t}\n\n\tpublic $terminateTask(id: string): Promise<void> {\n\t\treturn new Promise<void>((resolve, reject) => {\n\t\t\tthis._taskService.getActiveTasks().then((tasks) => {\n\t\t\t\tfor (const task of tasks) {\n\t\t\t\t\tif (id === task._id) {\n\t\t\t\t\t\tthis._taskService.terminate(task).then((value) => {\n\t\t\t\t\t\t\tresolve(undefined);\n\t\t\t\t\t\t}, (error) => {\n\t\t\t\t\t\t\treject(undefined);\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treject(new ErrorNoTelemetry('Task to terminate not found'));\n\t\t\t});\n\t\t});\n\t}\n\n\tpublic $registerTaskSystem(key: string, info: ITaskSystemInfoDTO): void {\n\t\tlet platform: Platform.Platform;\n\t\tswitch (info.platform) {\n\t\t\tcase 'Web':\n\t\t\t\tplatform = Platform.Platform.Web;\n\t\t\t\tbreak;\n\t\t\tcase 'win32':\n\t\t\t\tplatform = Platform.Platform.Windows;\n\t\t\t\tbreak;\n\t\t\tcase 'darwin':\n\t\t\t\tplatform = Platform.Platform.Mac;\n\t\t\t\tbreak;\n\t\t\tcase 'linux':\n\t\t\t\tplatform = Platform.Platform.Linux;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tplatform = Platform.platform;\n\t\t}\n\t\tthis._taskService.registerTaskSystem(key, {\n\t\t\tplatform: platform,\n\t\t\turiProvider: (path: string): URI => {\n\t\t\t\treturn URI.from({ scheme: info.scheme, authority: info.authority, path });\n\t\t\t},\n\t\t\tcontext: this._extHostContext,\n\t\t\tresolveVariables: (workspaceFolder: IWorkspaceFolder, toResolve: IResolveSet, target: ConfigurationTarget): Promise<IResolvedVariables | undefined> => {\n\t\t\t\tconst vars: string[] = [];\n\t\t\t\ttoResolve.variables.forEach(item => vars.push(item));\n\t\t\t\treturn Promise.resolve(this._proxy.$resolveVariables(workspaceFolder.uri, { process: toResolve.process, variables: vars })).then(values => {\n\t\t\t\t\tconst partiallyResolvedVars = Array.from(Object.values(values.variables));\n\t\t\t\t\treturn new Promise<IResolvedVariables | undefined>((resolve, reject) => {\n\t\t\t\t\t\tthis._configurationResolverService.resolveWithInteraction(workspaceFolder, partiallyResolvedVars, 'tasks', undefined, target).then(resolvedVars => {\n\t\t\t\t\t\t\tif (!resolvedVars) {\n\t\t\t\t\t\t\t\tresolve(undefined);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst result: IResolvedVariables = {\n\t\t\t\t\t\t\t\tprocess: undefined,\n\t\t\t\t\t\t\t\tvariables: new Map<string, string>()\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tfor (let i = 0; i < partiallyResolvedVars.length; i++) {\n\t\t\t\t\t\t\t\tconst variableName = vars[i].substring(2, vars[i].length - 1);\n\t\t\t\t\t\t\t\tif (resolvedVars && values.variables[vars[i]] === vars[i]) {\n\t\t\t\t\t\t\t\t\tconst resolved = resolvedVars.get(variableName);\n\t\t\t\t\t\t\t\t\tif (typeof resolved === 'string') {\n\t\t\t\t\t\t\t\t\t\tresult.variables.set(variableName, resolved);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tresult.variables.set(variableName, partiallyResolvedVars[i]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (Types.isString(values.process)) {\n\t\t\t\t\t\t\t\tresult.process = values.process;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tresolve(result);\n\t\t\t\t\t\t}, reason => {\n\t\t\t\t\t\t\treject(reason);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\tfindExecutable: (command: string, cwd?: string, paths?: string[]): Promise<string | undefined> => {\n\t\t\t\treturn this._proxy.$findExecutable(command, cwd, paths);\n\t\t\t}\n\t\t});\n\t}\n\n\tasync $registerSupportedExecutions(custom?: boolean, shell?: boolean, process?: boolean): Promise<void> {\n\t\treturn this._taskService.registerSupportedExecutions(custom, shell, process);\n\t}\n\n}\n"]}