{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/api/browser/mainThreadChatContext.ts","vs/workbench/api/browser/mainThreadChatContext.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;AAGhG,OAAO,EAAE,UAAU,EAAE,MAAM,mCAAmC,CAAC;AAG/D,OAAO,EAAE,oBAAoB,EAAmB,MAAM,sDAAsD,CAAC;AAC7G,OAAO,EAA2B,cAAc,EAAsB,WAAW,EAA8B,MAAM,+BAA+B,CAAC;AACrJ,OAAO,EAAE,mBAAmB,EAAE,MAAM,kDAAkD,CAAC;AAIhF,IAAM,qBAAqB,GAA3B,MAAM,qBAAsB,SAAQ,UAAU;IAIpD,YACC,cAA+B,EACV,mBAAyD;QAE9E,KAAK,EAAE,CAAC;QAF8B,wBAAmB,GAAnB,mBAAmB,CAAqB;QAJ9D,eAAU,GAAG,IAAI,GAAG,EAAoG,CAAC;QAOzI,IAAI,CAAC,MAAM,GAAG,cAAc,CAAC,QAAQ,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAC;IAC1E,CAAC;IAED,4BAA4B,CAAC,MAAc,EAAE,EAAU,EAAE,QAA0C,EAAE,QAA6B,EAAE,OAA4B;QAC/J,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,EAAE,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC,CAAC;QACvD,IAAI,CAAC,mBAAmB,CAAC,2BAA2B,CAAC,EAAE,EAAE,QAAQ,EAAE;YAClE,kBAAkB,EAAE,CAAC,KAAwB,EAAE,EAAE;gBAChD,OAAO,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;YACvD,CAAC;YACD,kBAAkB,EAAE,OAAO,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,OAAyB,EAAE,KAAwB,EAAE,EAAE;gBACrG,OAAO,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,MAAM,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;YAChE,CAAC,CAAC,CAAC,CAAC,SAAS;YACb,6BAA6B,EAAE,OAAO,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC,QAAa,EAAE,SAAkB,EAAE,KAAwB,EAAE,EAAE;gBACzH,OAAO,IAAI,CAAC,MAAM,CAAC,8BAA8B,CAAC,MAAM,EAAE,EAAE,QAAQ,EAAE,SAAS,EAAE,EAAE,KAAK,CAAC,CAAC;YAC3F,CAAC,CAAC,CAAC,CAAC,SAAS;SACb,CAAC,CAAC;IACJ,CAAC;IAED,8BAA8B,CAAC,MAAc;QAC5C,MAAM,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAC7C,IAAI,CAAC,QAAQ,EAAE,CAAC;YACf,OAAO;QACR,CAAC;QACD,IAAI,CAAC,mBAAmB,CAAC,6BAA6B,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QACpE,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;IAChC,CAAC;IAED,4BAA4B,CAAC,MAAc,EAAE,KAAyB;QACrE,MAAM,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QAC7C,IAAI,CAAC,QAAQ,EAAE,CAAC;YACf,OAAO;QACR,CAAC;QACD,IAAI,CAAC,mBAAmB,CAAC,2BAA2B,CAAC,QAAQ,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;IAC1E,CAAC;CACD,CAAA;AA3CY,qBAAqB;IADjC,oBAAoB,CAAC,WAAW,CAAC,qBAAqB,CAAC;IAOrD,WAAA,mBAAmB,CAAA;GANT,qBAAqB,CA2CjC","file":"mainThreadChatContext.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { ThemeIcon } from '../../../base/common/themables.js';\nimport { IChatContextItem, IChatContextSupport } from '../../contrib/chat/common/chatContext.js';\nimport { extHostNamedCustomer, IExtHostContext } from '../../services/extensions/common/extHostCustomers.js';\nimport { ExtHostChatContextShape, ExtHostContext, IDocumentFilterDto, MainContext, MainThreadChatContextShape } from '../common/extHost.protocol.js';\nimport { IChatContextService } from '../../contrib/chat/browser/chatContextService.js';\nimport { URI } from '../../../base/common/uri.js';\n\n@extHostNamedCustomer(MainContext.MainThreadChatContext)\nexport class MainThreadChatContext extends Disposable implements MainThreadChatContextShape {\n\tprivate readonly _proxy: ExtHostChatContextShape;\n\tprivate readonly _providers = new Map<number, { id: string; selector: IDocumentFilterDto[] | undefined; support: IChatContextSupport }>();\n\n\tconstructor(\n\t\textHostContext: IExtHostContext,\n\t\t@IChatContextService private readonly _chatContextService: IChatContextService\n\t) {\n\t\tsuper();\n\t\tthis._proxy = extHostContext.getProxy(ExtHostContext.ExtHostChatContext);\n\t}\n\n\t$registerChatContextProvider(handle: number, id: string, selector: IDocumentFilterDto[] | undefined, _options: { icon: ThemeIcon }, support: IChatContextSupport): void {\n\t\tthis._providers.set(handle, { selector, support, id });\n\t\tthis._chatContextService.registerChatContextProvider(id, selector, {\n\t\t\tprovideChatContext: (token: CancellationToken) => {\n\t\t\t\treturn this._proxy.$provideChatContext(handle, token);\n\t\t\t},\n\t\t\tresolveChatContext: support.supportsResolve ? (context: IChatContextItem, token: CancellationToken) => {\n\t\t\t\treturn this._proxy.$resolveChatContext(handle, context, token);\n\t\t\t} : undefined,\n\t\t\tprovideChatContextForResource: support.supportsResource ? (resource: URI, withValue: boolean, token: CancellationToken) => {\n\t\t\t\treturn this._proxy.$provideChatContextForResource(handle, { resource, withValue }, token);\n\t\t\t} : undefined\n\t\t});\n\t}\n\n\t$unregisterChatContextProvider(handle: number): void {\n\t\tconst provider = this._providers.get(handle);\n\t\tif (!provider) {\n\t\t\treturn;\n\t\t}\n\t\tthis._chatContextService.unregisterChatContextProvider(provider.id);\n\t\tthis._providers.delete(handle);\n\t}\n\n\t$updateWorkspaceContextItems(handle: number, items: IChatContextItem[]): void {\n\t\tconst provider = this._providers.get(handle);\n\t\tif (!provider) {\n\t\t\treturn;\n\t\t}\n\t\tthis._chatContextService.updateWorkspaceContextItems(provider.id, items);\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { ThemeIcon } from '../../../base/common/themables.js';\nimport { IChatContextItem, IChatContextSupport } from '../../contrib/chat/common/chatContext.js';\nimport { extHostNamedCustomer, IExtHostContext } from '../../services/extensions/common/extHostCustomers.js';\nimport { ExtHostChatContextShape, ExtHostContext, IDocumentFilterDto, MainContext, MainThreadChatContextShape } from '../common/extHost.protocol.js';\nimport { IChatContextService } from '../../contrib/chat/browser/chatContextService.js';\nimport { URI } from '../../../base/common/uri.js';\n\n@extHostNamedCustomer(MainContext.MainThreadChatContext)\nexport class MainThreadChatContext extends Disposable implements MainThreadChatContextShape {\n\tprivate readonly _proxy: ExtHostChatContextShape;\n\tprivate readonly _providers = new Map<number, { id: string; selector: IDocumentFilterDto[] | undefined; support: IChatContextSupport }>();\n\n\tconstructor(\n\t\textHostContext: IExtHostContext,\n\t\t@IChatContextService private readonly _chatContextService: IChatContextService\n\t) {\n\t\tsuper();\n\t\tthis._proxy = extHostContext.getProxy(ExtHostContext.ExtHostChatContext);\n\t}\n\n\t$registerChatContextProvider(handle: number, id: string, selector: IDocumentFilterDto[] | undefined, _options: { icon: ThemeIcon }, support: IChatContextSupport): void {\n\t\tthis._providers.set(handle, { selector, support, id });\n\t\tthis._chatContextService.registerChatContextProvider(id, selector, {\n\t\t\tprovideChatContext: (token: CancellationToken) => {\n\t\t\t\treturn this._proxy.$provideChatContext(handle, token);\n\t\t\t},\n\t\t\tresolveChatContext: support.supportsResolve ? (context: IChatContextItem, token: CancellationToken) => {\n\t\t\t\treturn this._proxy.$resolveChatContext(handle, context, token);\n\t\t\t} : undefined,\n\t\t\tprovideChatContextForResource: support.supportsResource ? (resource: URI, withValue: boolean, token: CancellationToken) => {\n\t\t\t\treturn this._proxy.$provideChatContextForResource(handle, { resource, withValue }, token);\n\t\t\t} : undefined\n\t\t});\n\t}\n\n\t$unregisterChatContextProvider(handle: number): void {\n\t\tconst provider = this._providers.get(handle);\n\t\tif (!provider) {\n\t\t\treturn;\n\t\t}\n\t\tthis._chatContextService.unregisterChatContextProvider(provider.id);\n\t\tthis._providers.delete(handle);\n\t}\n\n\t$updateWorkspaceContextItems(handle: number, items: IChatContextItem[]): void {\n\t\tconst provider = this._providers.get(handle);\n\t\tif (!provider) {\n\t\t\treturn;\n\t\t}\n\t\tthis._chatContextService.updateWorkspaceContextItems(provider.id, items);\n\t}\n}\n"]}