{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/api/browser/mainThreadQuickDiff.ts","vs/workbench/api/browser/mainThreadQuickDiff.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;;;;;;;;;;AAEhG,OAAO,EAAE,iBAAiB,EAAE,MAAM,sCAAsC,CAAC;AACzE,OAAO,EAAE,aAAa,EAAe,MAAM,mCAAmC,CAAC;AAC/E,OAAO,EAAE,GAAG,EAAiB,MAAM,6BAA6B,CAAC;AACjE,OAAO,EAAE,cAAc,EAA6C,WAAW,EAA4B,MAAM,+BAA+B,CAAC;AACjJ,OAAO,EAAE,iBAAiB,EAAqB,MAAM,uCAAuC,CAAC;AAC7F,OAAO,EAAE,oBAAoB,EAAmB,MAAM,sDAAsD,CAAC;AAGtG,IAAM,mBAAmB,GAAzB,MAAM,mBAAmB;IAK/B,YACC,cAA+B,EACZ,gBAAoD;QAAnC,qBAAgB,GAAhB,gBAAgB,CAAmB;QAJhE,wBAAmB,GAAG,IAAI,aAAa,EAAuB,CAAC;QAMtE,IAAI,CAAC,KAAK,GAAG,cAAc,CAAC,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;IACvE,CAAC;IAED,KAAK,CAAC,0BAA0B,CAAC,MAAc,EAAE,QAA8B,EAAE,EAAU,EAAE,KAAa,EAAE,OAAkC;QAC7I,MAAM,QAAQ,GAAsB;YACnC,EAAE;YACF,KAAK;YACL,OAAO,EAAE,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC;YAC5B,QAAQ;YACR,IAAI,EAAE,aAAa;YACnB,mBAAmB,EAAE,KAAK,EAAE,GAAQ,EAAE,EAAE;gBACvC,OAAO,GAAG,CAAC,MAAM,CAAC,MAAM,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,MAAM,EAAE,GAAG,EAAE,iBAAiB,CAAC,IAAI,CAAC,CAAC,CAAC;YACnG,CAAC;SACD,CAAC;QACF,MAAM,UAAU,GAAG,IAAI,CAAC,gBAAgB,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC;QACxE,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;IAClD,CAAC;IAED,KAAK,CAAC,4BAA4B,CAAC,MAAc;QAChD,IAAI,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC;YAC1C,IAAI,CAAC,mBAAmB,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;QACnD,CAAC;IACF,CAAC;IAED,OAAO;QACN,IAAI,CAAC,mBAAmB,CAAC,OAAO,EAAE,CAAC;IACpC,CAAC;CACD,CAAA;AApCY,mBAAmB;IAD/B,oBAAoB,CAAC,WAAW,CAAC,mBAAmB,CAAC;IAQnD,WAAA,iBAAiB,CAAA;GAPP,mBAAmB,CAoC/B","file":"mainThreadQuickDiff.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { DisposableMap, IDisposable } from '../../../base/common/lifecycle.js';\nimport { URI, UriComponents } from '../../../base/common/uri.js';\nimport { ExtHostContext, ExtHostQuickDiffShape, IDocumentFilterDto, MainContext, MainThreadQuickDiffShape } from '../common/extHost.protocol.js';\nimport { IQuickDiffService, QuickDiffProvider } from '../../contrib/scm/common/quickDiff.js';\nimport { extHostNamedCustomer, IExtHostContext } from '../../services/extensions/common/extHostCustomers.js';\n\n@extHostNamedCustomer(MainContext.MainThreadQuickDiff)\nexport class MainThreadQuickDiff implements MainThreadQuickDiffShape {\n\n\tprivate readonly proxy: ExtHostQuickDiffShape;\n\tprivate providerDisposables = new DisposableMap<number, IDisposable>();\n\n\tconstructor(\n\t\textHostContext: IExtHostContext,\n\t\t@IQuickDiffService private readonly quickDiffService: IQuickDiffService\n\t) {\n\t\tthis.proxy = extHostContext.getProxy(ExtHostContext.ExtHostQuickDiff);\n\t}\n\n\tasync $registerQuickDiffProvider(handle: number, selector: IDocumentFilterDto[], id: string, label: string, rootUri: UriComponents | undefined): Promise<void> {\n\t\tconst provider: QuickDiffProvider = {\n\t\t\tid,\n\t\t\tlabel,\n\t\t\trootUri: URI.revive(rootUri),\n\t\t\tselector,\n\t\t\tkind: 'contributed',\n\t\t\tgetOriginalResource: async (uri: URI) => {\n\t\t\t\treturn URI.revive(await this.proxy.$provideOriginalResource(handle, uri, CancellationToken.None));\n\t\t\t}\n\t\t};\n\t\tconst disposable = this.quickDiffService.addQuickDiffProvider(provider);\n\t\tthis.providerDisposables.set(handle, disposable);\n\t}\n\n\tasync $unregisterQuickDiffProvider(handle: number): Promise<void> {\n\t\tif (this.providerDisposables.has(handle)) {\n\t\t\tthis.providerDisposables.deleteAndDispose(handle);\n\t\t}\n\t}\n\n\tdispose(): void {\n\t\tthis.providerDisposables.dispose();\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { CancellationToken } from '../../../base/common/cancellation.js';\nimport { DisposableMap, IDisposable } from '../../../base/common/lifecycle.js';\nimport { URI, UriComponents } from '../../../base/common/uri.js';\nimport { ExtHostContext, ExtHostQuickDiffShape, IDocumentFilterDto, MainContext, MainThreadQuickDiffShape } from '../common/extHost.protocol.js';\nimport { IQuickDiffService, QuickDiffProvider } from '../../contrib/scm/common/quickDiff.js';\nimport { extHostNamedCustomer, IExtHostContext } from '../../services/extensions/common/extHostCustomers.js';\n\n@extHostNamedCustomer(MainContext.MainThreadQuickDiff)\nexport class MainThreadQuickDiff implements MainThreadQuickDiffShape {\n\n\tprivate readonly proxy: ExtHostQuickDiffShape;\n\tprivate providerDisposables = new DisposableMap<number, IDisposable>();\n\n\tconstructor(\n\t\textHostContext: IExtHostContext,\n\t\t@IQuickDiffService private readonly quickDiffService: IQuickDiffService\n\t) {\n\t\tthis.proxy = extHostContext.getProxy(ExtHostContext.ExtHostQuickDiff);\n\t}\n\n\tasync $registerQuickDiffProvider(handle: number, selector: IDocumentFilterDto[], id: string, label: string, rootUri: UriComponents | undefined): Promise<void> {\n\t\tconst provider: QuickDiffProvider = {\n\t\t\tid,\n\t\t\tlabel,\n\t\t\trootUri: URI.revive(rootUri),\n\t\t\tselector,\n\t\t\tkind: 'contributed',\n\t\t\tgetOriginalResource: async (uri: URI) => {\n\t\t\t\treturn URI.revive(await this.proxy.$provideOriginalResource(handle, uri, CancellationToken.None));\n\t\t\t}\n\t\t};\n\t\tconst disposable = this.quickDiffService.addQuickDiffProvider(provider);\n\t\tthis.providerDisposables.set(handle, disposable);\n\t}\n\n\tasync $unregisterQuickDiffProvider(handle: number): Promise<void> {\n\t\tif (this.providerDisposables.has(handle)) {\n\t\t\tthis.providerDisposables.deleteAndDispose(handle);\n\t\t}\n\t}\n\n\tdispose(): void {\n\t\tthis.providerDisposables.dispose();\n\t}\n}\n"]}