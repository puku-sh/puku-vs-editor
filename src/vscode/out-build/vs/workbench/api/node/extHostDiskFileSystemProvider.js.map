{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/api/node/extHostDiskFileSystemProvider.ts","vs/workbench/api/node/extHostDiskFileSystemProvider.ts"],"names":[],"mappings":"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","file":"extHostDiskFileSystemProvider.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type * as vscode from 'vscode';\nimport { IExtHostConsumerFileSystem } from '../common/extHostFileSystemConsumer.js';\nimport { Schemas } from '../../../base/common/network.js';\nimport { ILogService } from '../../../platform/log/common/log.js';\nimport { DiskFileSystemProvider } from '../../../platform/files/node/diskFileSystemProvider.js';\nimport { FilePermission } from '../../../platform/files/common/files.js';\nimport { isLinux } from '../../../base/common/platform.js';\n\nexport class ExtHostDiskFileSystemProvider {\n\n\tconstructor(\n\t\t@IExtHostConsumerFileSystem extHostConsumerFileSystem: IExtHostConsumerFileSystem,\n\t\t@ILogService logService: ILogService\n\t) {\n\n\t\t// Register disk file system provider so that certain\n\t\t// file operations can execute fast within the extension\n\t\t// host without roundtripping.\n\t\textHostConsumerFileSystem.addFileSystemProvider(Schemas.file, new DiskFileSystemProviderAdapter(logService), { isCaseSensitive: isLinux });\n\t}\n}\n\nclass DiskFileSystemProviderAdapter implements vscode.FileSystemProvider {\n\n\tprivate readonly impl: DiskFileSystemProvider;\n\n\tconstructor(logService: ILogService) {\n\t\tthis.impl = new DiskFileSystemProvider(logService);\n\t}\n\n\tasync stat(uri: vscode.Uri): Promise<vscode.FileStat> {\n\t\tconst stat = await this.impl.stat(uri);\n\n\t\treturn {\n\t\t\ttype: stat.type,\n\t\t\tctime: stat.ctime,\n\t\t\tmtime: stat.mtime,\n\t\t\tsize: stat.size,\n\t\t\tpermissions: stat.permissions === FilePermission.Readonly ? 1 : undefined\n\t\t};\n\t}\n\n\treadDirectory(uri: vscode.Uri): Promise<[string, vscode.FileType][]> {\n\t\treturn this.impl.readdir(uri);\n\t}\n\n\tcreateDirectory(uri: vscode.Uri): Promise<void> {\n\t\treturn this.impl.mkdir(uri);\n\t}\n\n\treadFile(uri: vscode.Uri): Promise<Uint8Array> {\n\t\treturn this.impl.readFile(uri);\n\t}\n\n\twriteFile(uri: vscode.Uri, content: Uint8Array, options: { readonly create: boolean; readonly overwrite: boolean }): Promise<void> {\n\t\treturn this.impl.writeFile(uri, content, { ...options, unlock: false, atomic: false });\n\t}\n\n\tdelete(uri: vscode.Uri, options: { readonly recursive: boolean }): Promise<void> {\n\t\treturn this.impl.delete(uri, { ...options, useTrash: false, atomic: false });\n\t}\n\n\trename(oldUri: vscode.Uri, newUri: vscode.Uri, options: { readonly overwrite: boolean }): Promise<void> {\n\t\treturn this.impl.rename(oldUri, newUri, options);\n\t}\n\n\tcopy(source: vscode.Uri, destination: vscode.Uri, options: { readonly overwrite: boolean }): Promise<void> {\n\t\treturn this.impl.copy(source, destination, options);\n\t}\n\n\t// --- Not Implemented ---\n\n\tget onDidChangeFile(): never { throw new Error('Method not implemented.'); }\n\twatch(uri: vscode.Uri, options: { readonly recursive: boolean; readonly excludes: readonly string[] }): vscode.Disposable { throw new Error('Method not implemented.'); }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type * as vscode from 'vscode';\nimport { IExtHostConsumerFileSystem } from '../common/extHostFileSystemConsumer.js';\nimport { Schemas } from '../../../base/common/network.js';\nimport { ILogService } from '../../../platform/log/common/log.js';\nimport { DiskFileSystemProvider } from '../../../platform/files/node/diskFileSystemProvider.js';\nimport { FilePermission } from '../../../platform/files/common/files.js';\nimport { isLinux } from '../../../base/common/platform.js';\n\nexport class ExtHostDiskFileSystemProvider {\n\n\tconstructor(\n\t\t@IExtHostConsumerFileSystem extHostConsumerFileSystem: IExtHostConsumerFileSystem,\n\t\t@ILogService logService: ILogService\n\t) {\n\n\t\t// Register disk file system provider so that certain\n\t\t// file operations can execute fast within the extension\n\t\t// host without roundtripping.\n\t\textHostConsumerFileSystem.addFileSystemProvider(Schemas.file, new DiskFileSystemProviderAdapter(logService), { isCaseSensitive: isLinux });\n\t}\n}\n\nclass DiskFileSystemProviderAdapter implements vscode.FileSystemProvider {\n\n\tprivate readonly impl: DiskFileSystemProvider;\n\n\tconstructor(logService: ILogService) {\n\t\tthis.impl = new DiskFileSystemProvider(logService);\n\t}\n\n\tasync stat(uri: vscode.Uri): Promise<vscode.FileStat> {\n\t\tconst stat = await this.impl.stat(uri);\n\n\t\treturn {\n\t\t\ttype: stat.type,\n\t\t\tctime: stat.ctime,\n\t\t\tmtime: stat.mtime,\n\t\t\tsize: stat.size,\n\t\t\tpermissions: stat.permissions === FilePermission.Readonly ? 1 : undefined\n\t\t};\n\t}\n\n\treadDirectory(uri: vscode.Uri): Promise<[string, vscode.FileType][]> {\n\t\treturn this.impl.readdir(uri);\n\t}\n\n\tcreateDirectory(uri: vscode.Uri): Promise<void> {\n\t\treturn this.impl.mkdir(uri);\n\t}\n\n\treadFile(uri: vscode.Uri): Promise<Uint8Array> {\n\t\treturn this.impl.readFile(uri);\n\t}\n\n\twriteFile(uri: vscode.Uri, content: Uint8Array, options: { readonly create: boolean; readonly overwrite: boolean }): Promise<void> {\n\t\treturn this.impl.writeFile(uri, content, { ...options, unlock: false, atomic: false });\n\t}\n\n\tdelete(uri: vscode.Uri, options: { readonly recursive: boolean }): Promise<void> {\n\t\treturn this.impl.delete(uri, { ...options, useTrash: false, atomic: false });\n\t}\n\n\trename(oldUri: vscode.Uri, newUri: vscode.Uri, options: { readonly overwrite: boolean }): Promise<void> {\n\t\treturn this.impl.rename(oldUri, newUri, options);\n\t}\n\n\tcopy(source: vscode.Uri, destination: vscode.Uri, options: { readonly overwrite: boolean }): Promise<void> {\n\t\treturn this.impl.copy(source, destination, options);\n\t}\n\n\t// --- Not Implemented ---\n\n\tget onDidChangeFile(): never { throw new Error('Method not implemented.'); }\n\twatch(uri: vscode.Uri, options: { readonly recursive: boolean; readonly excludes: readonly string[] }): vscode.Disposable { throw new Error('Method not implemented.'); }\n}\n"]}