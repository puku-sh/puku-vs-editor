{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/api/test/common/extHostExtensionActivator.test.ts","vs/workbench/api/test/common/extHostExtensionActivator.test.ts"],"names":[],"mappings":"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","file":"extHostExtensionActivator.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { promiseWithResolvers, timeout } from '../../../../base/common/async.js';\nimport { Mutable } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\nimport { ExtensionIdentifier, IExtensionDescription, TargetPlatform } from '../../../../platform/extensions/common/extensions.js';\nimport { NullLogService } from '../../../../platform/log/common/log.js';\nimport { ActivatedExtension, EmptyExtension, ExtensionActivationTimes, ExtensionsActivator, IExtensionsActivatorHost } from '../../common/extHostExtensionActivator.js';\nimport { ExtensionDescriptionRegistry, IActivationEventsReader } from '../../../services/extensions/common/extensionDescriptionRegistry.js';\nimport { ExtensionActivationReason, MissingExtensionDependency } from '../../../services/extensions/common/extensions.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\n\nsuite('ExtensionsActivator', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tconst idA = new ExtensionIdentifier(`a`);\n\tconst idB = new ExtensionIdentifier(`b`);\n\tconst idC = new ExtensionIdentifier(`c`);\n\n\ttest('calls activate only once with sequential activations', async () => {\n\t\tconst disposables = new DisposableStore();\n\t\tconst host = new SimpleExtensionsActivatorHost();\n\t\tconst activator = createActivator(host, [\n\t\t\tdesc(idA)\n\t\t], [], disposables);\n\n\t\tawait activator.activateByEvent('*', false);\n\t\tassert.deepStrictEqual(host.activateCalls, [idA]);\n\n\t\tawait activator.activateByEvent('*', false);\n\t\tassert.deepStrictEqual(host.activateCalls, [idA]);\n\n\t\tdisposables.dispose();\n\t});\n\n\ttest('calls activate only once with parallel activations', async () => {\n\t\tconst disposables = new DisposableStore();\n\t\tconst extActivation = new ExtensionActivationPromiseSource();\n\t\tconst host = new PromiseExtensionsActivatorHost([\n\t\t\t[idA, extActivation]\n\t\t]);\n\t\tconst activator = createActivator(host, [\n\t\t\tdesc(idA, [], ['evt1', 'evt2'])\n\t\t], [], disposables);\n\n\t\tconst activate1 = activator.activateByEvent('evt1', false);\n\t\tconst activate2 = activator.activateByEvent('evt2', false);\n\n\t\textActivation.resolve();\n\n\t\tawait activate1;\n\t\tawait activate2;\n\n\t\tassert.deepStrictEqual(host.activateCalls, [idA]);\n\n\t\tdisposables.dispose();\n\t});\n\n\ttest('activates dependencies first', async () => {\n\t\tconst disposables = new DisposableStore();\n\t\tconst extActivationA = new ExtensionActivationPromiseSource();\n\t\tconst extActivationB = new ExtensionActivationPromiseSource();\n\t\tconst host = new PromiseExtensionsActivatorHost([\n\t\t\t[idA, extActivationA],\n\t\t\t[idB, extActivationB]\n\t\t]);\n\t\tconst activator = createActivator(host, [\n\t\t\tdesc(idA, [idB], ['evt1']),\n\t\t\tdesc(idB, [], ['evt1']),\n\t\t], [], disposables);\n\n\t\tconst activate = activator.activateByEvent('evt1', false);\n\n\t\tawait timeout(0);\n\t\tassert.deepStrictEqual(host.activateCalls, [idB]);\n\t\textActivationB.resolve();\n\n\t\tawait timeout(0);\n\t\tassert.deepStrictEqual(host.activateCalls, [idB, idA]);\n\t\textActivationA.resolve();\n\n\t\tawait timeout(0);\n\t\tawait activate;\n\n\t\tassert.deepStrictEqual(host.activateCalls, [idB, idA]);\n\n\t\tdisposables.dispose();\n\t});\n\n\ttest('Supports having resolved extensions', async () => {\n\t\tconst disposables = new DisposableStore();\n\t\tconst host = new SimpleExtensionsActivatorHost();\n\t\tconst bExt = desc(idB);\n\t\tdelete (<Mutable<IExtensionDescription>>bExt).main;\n\t\tdelete (<Mutable<IExtensionDescription>>bExt).browser;\n\t\tconst activator = createActivator(host, [\n\t\t\tdesc(idA, [idB])\n\t\t], [bExt], disposables);\n\n\t\tawait activator.activateByEvent('*', false);\n\t\tassert.deepStrictEqual(host.activateCalls, [idA]);\n\n\t\tdisposables.dispose();\n\t});\n\n\ttest('Supports having external extensions', async () => {\n\t\tconst disposables = new DisposableStore();\n\t\tconst extActivationA = new ExtensionActivationPromiseSource();\n\t\tconst extActivationB = new ExtensionActivationPromiseSource();\n\t\tconst host = new PromiseExtensionsActivatorHost([\n\t\t\t[idA, extActivationA],\n\t\t\t[idB, extActivationB]\n\t\t]);\n\t\tconst bExt = desc(idB);\n\t\t(<Mutable<IExtensionDescription>>bExt).api = 'none';\n\t\tconst activator = createActivator(host, [\n\t\t\tdesc(idA, [idB])\n\t\t], [bExt], disposables);\n\n\t\tconst activate = activator.activateByEvent('*', false);\n\n\t\tawait timeout(0);\n\t\tassert.deepStrictEqual(host.activateCalls, [idB]);\n\t\textActivationB.resolve();\n\n\t\tawait timeout(0);\n\t\tassert.deepStrictEqual(host.activateCalls, [idB, idA]);\n\t\textActivationA.resolve();\n\n\t\tawait activate;\n\t\tassert.deepStrictEqual(host.activateCalls, [idB, idA]);\n\n\t\tdisposables.dispose();\n\t});\n\n\ttest('Error: activateById with missing extension', async () => {\n\t\tconst disposables = new DisposableStore();\n\t\tconst host = new SimpleExtensionsActivatorHost();\n\t\tconst activator = createActivator(host, [\n\t\t\tdesc(idA),\n\t\t\tdesc(idB),\n\t\t], [], disposables);\n\n\t\tlet error: Error | undefined = undefined;\n\t\ttry {\n\t\t\tawait activator.activateById(idC, { startup: false, extensionId: idC, activationEvent: 'none' });\n\t\t} catch (err) {\n\t\t\terror = err;\n\t\t}\n\n\t\tassert.strictEqual(typeof error === 'undefined', false);\n\n\t\tdisposables.dispose();\n\t});\n\n\ttest('Error: dependency missing', async () => {\n\t\tconst disposables = new DisposableStore();\n\t\tconst host = new SimpleExtensionsActivatorHost();\n\t\tconst activator = createActivator(host, [\n\t\t\tdesc(idA, [idB]),\n\t\t], [], disposables);\n\n\t\tawait activator.activateByEvent('*', false);\n\n\t\tassert.deepStrictEqual(host.errors.length, 1);\n\t\tassert.deepStrictEqual(host.errors[0][0], idA);\n\n\t\tdisposables.dispose();\n\t});\n\n\ttest('Error: dependency activation failed', async () => {\n\t\tconst disposables = new DisposableStore();\n\t\tconst extActivationA = new ExtensionActivationPromiseSource();\n\t\tconst extActivationB = new ExtensionActivationPromiseSource();\n\t\tconst host = new PromiseExtensionsActivatorHost([\n\t\t\t[idA, extActivationA],\n\t\t\t[idB, extActivationB]\n\t\t]);\n\t\tconst activator = createActivator(host, [\n\t\t\tdesc(idA, [idB]),\n\t\t\tdesc(idB)\n\t\t], [], disposables);\n\n\t\tconst activate = activator.activateByEvent('*', false);\n\t\textActivationB.reject(new Error(`b fails!`));\n\n\t\tawait activate;\n\t\tassert.deepStrictEqual(host.errors.length, 2);\n\t\tassert.deepStrictEqual(host.errors[0][0], idB);\n\t\tassert.deepStrictEqual(host.errors[1][0], idA);\n\n\t\tdisposables.dispose();\n\t});\n\n\ttest('issue #144518: Problem with git extension and vscode-icons', async () => {\n\t\tconst disposables = new DisposableStore();\n\t\tconst extActivationA = new ExtensionActivationPromiseSource();\n\t\tconst extActivationB = new ExtensionActivationPromiseSource();\n\t\tconst extActivationC = new ExtensionActivationPromiseSource();\n\t\tconst host = new PromiseExtensionsActivatorHost([\n\t\t\t[idA, extActivationA],\n\t\t\t[idB, extActivationB],\n\t\t\t[idC, extActivationC]\n\t\t]);\n\t\tconst activator = createActivator(host, [\n\t\t\tdesc(idA, [idB]),\n\t\t\tdesc(idB),\n\t\t\tdesc(idC),\n\t\t], [], disposables);\n\n\t\tactivator.activateByEvent('*', false);\n\t\tassert.deepStrictEqual(host.activateCalls, [idB, idC]);\n\n\t\textActivationB.resolve();\n\t\tawait timeout(0);\n\n\t\tassert.deepStrictEqual(host.activateCalls, [idB, idC, idA]);\n\t\textActivationA.resolve();\n\n\t\tdisposables.dispose();\n\t});\n\n\tclass SimpleExtensionsActivatorHost implements IExtensionsActivatorHost {\n\t\tpublic readonly activateCalls: ExtensionIdentifier[] = [];\n\t\tpublic readonly errors: [ExtensionIdentifier, Error | null, MissingExtensionDependency | null][] = [];\n\n\t\tonExtensionActivationError(extensionId: ExtensionIdentifier, error: Error | null, missingExtensionDependency: MissingExtensionDependency | null): void {\n\t\t\tthis.errors.push([extensionId, error, missingExtensionDependency]);\n\t\t}\n\n\t\tactualActivateExtension(extensionId: ExtensionIdentifier, reason: ExtensionActivationReason): Promise<ActivatedExtension> {\n\t\t\tthis.activateCalls.push(extensionId);\n\t\t\treturn Promise.resolve(new EmptyExtension(ExtensionActivationTimes.NONE));\n\t\t}\n\t}\n\n\tclass PromiseExtensionsActivatorHost extends SimpleExtensionsActivatorHost {\n\n\t\tconstructor(\n\t\t\tprivate readonly _promises: [ExtensionIdentifier, ExtensionActivationPromiseSource][]\n\t\t) {\n\t\t\tsuper();\n\t\t}\n\n\t\toverride actualActivateExtension(extensionId: ExtensionIdentifier, reason: ExtensionActivationReason): Promise<ActivatedExtension> {\n\t\t\tthis.activateCalls.push(extensionId);\n\t\t\tfor (const [id, promiseSource] of this._promises) {\n\t\t\t\tif (id.value === extensionId.value) {\n\t\t\t\t\treturn promiseSource.promise;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthrow new Error(`Unexpected!`);\n\t\t}\n\t}\n\n\tclass ExtensionActivationPromiseSource {\n\t\tprivate readonly _resolve: (value: ActivatedExtension) => void;\n\t\tprivate readonly _reject: (err: Error) => void;\n\t\tpublic readonly promise: Promise<ActivatedExtension>;\n\n\t\tconstructor() {\n\t\t\t({ promise: this.promise, resolve: this._resolve, reject: this._reject } = promiseWithResolvers<ActivatedExtension>());\n\t\t}\n\n\t\tpublic resolve(): void {\n\t\t\tthis._resolve(new EmptyExtension(ExtensionActivationTimes.NONE));\n\t\t}\n\n\t\tpublic reject(err: Error): void {\n\t\t\tthis._reject(err);\n\t\t}\n\t}\n\n\tconst basicActivationEventsReader: IActivationEventsReader = {\n\t\treadActivationEvents: (extensionDescription: IExtensionDescription): string[] => {\n\t\t\treturn extensionDescription.activationEvents?.slice() ?? [];\n\t\t}\n\t};\n\n\tfunction createActivator(host: IExtensionsActivatorHost, extensionDescriptions: IExtensionDescription[], otherHostExtensionDescriptions: IExtensionDescription[] = [], disposables: DisposableStore): ExtensionsActivator {\n\t\tconst registry = disposables.add(new ExtensionDescriptionRegistry(basicActivationEventsReader, extensionDescriptions));\n\t\tconst globalRegistry = disposables.add(new ExtensionDescriptionRegistry(basicActivationEventsReader, extensionDescriptions.concat(otherHostExtensionDescriptions)));\n\t\treturn disposables.add(new ExtensionsActivator(registry, globalRegistry, host, new NullLogService()));\n\t}\n\n\tfunction desc(id: ExtensionIdentifier, deps: ExtensionIdentifier[] = [], activationEvents: string[] = ['*']): IExtensionDescription {\n\t\treturn {\n\t\t\tname: id.value,\n\t\t\tpublisher: 'test',\n\t\t\tversion: '0.0.0',\n\t\t\tengines: { vscode: '^1.0.0' },\n\t\t\tidentifier: id,\n\t\t\textensionLocation: URI.parse(`nothing://nowhere`),\n\t\t\tisBuiltin: false,\n\t\t\tisUnderDevelopment: false,\n\t\t\tisUserBuiltin: false,\n\t\t\tactivationEvents,\n\t\t\tmain: 'index.js',\n\t\t\ttargetPlatform: TargetPlatform.UNDEFINED,\n\t\t\textensionDependencies: deps.map(d => d.value),\n\t\t\tenabledApiProposals: undefined,\n\t\t\tpreRelease: false,\n\t\t};\n\t}\n\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { promiseWithResolvers, timeout } from '../../../../base/common/async.js';\nimport { Mutable } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\nimport { ExtensionIdentifier, IExtensionDescription, TargetPlatform } from '../../../../platform/extensions/common/extensions.js';\nimport { NullLogService } from '../../../../platform/log/common/log.js';\nimport { ActivatedExtension, EmptyExtension, ExtensionActivationTimes, ExtensionsActivator, IExtensionsActivatorHost } from '../../common/extHostExtensionActivator.js';\nimport { ExtensionDescriptionRegistry, IActivationEventsReader } from '../../../services/extensions/common/extensionDescriptionRegistry.js';\nimport { ExtensionActivationReason, MissingExtensionDependency } from '../../../services/extensions/common/extensions.js';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\n\nsuite('ExtensionsActivator', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tconst idA = new ExtensionIdentifier(`a`);\n\tconst idB = new ExtensionIdentifier(`b`);\n\tconst idC = new ExtensionIdentifier(`c`);\n\n\ttest('calls activate only once with sequential activations', async () => {\n\t\tconst disposables = new DisposableStore();\n\t\tconst host = new SimpleExtensionsActivatorHost();\n\t\tconst activator = createActivator(host, [\n\t\t\tdesc(idA)\n\t\t], [], disposables);\n\n\t\tawait activator.activateByEvent('*', false);\n\t\tassert.deepStrictEqual(host.activateCalls, [idA]);\n\n\t\tawait activator.activateByEvent('*', false);\n\t\tassert.deepStrictEqual(host.activateCalls, [idA]);\n\n\t\tdisposables.dispose();\n\t});\n\n\ttest('calls activate only once with parallel activations', async () => {\n\t\tconst disposables = new DisposableStore();\n\t\tconst extActivation = new ExtensionActivationPromiseSource();\n\t\tconst host = new PromiseExtensionsActivatorHost([\n\t\t\t[idA, extActivation]\n\t\t]);\n\t\tconst activator = createActivator(host, [\n\t\t\tdesc(idA, [], ['evt1', 'evt2'])\n\t\t], [], disposables);\n\n\t\tconst activate1 = activator.activateByEvent('evt1', false);\n\t\tconst activate2 = activator.activateByEvent('evt2', false);\n\n\t\textActivation.resolve();\n\n\t\tawait activate1;\n\t\tawait activate2;\n\n\t\tassert.deepStrictEqual(host.activateCalls, [idA]);\n\n\t\tdisposables.dispose();\n\t});\n\n\ttest('activates dependencies first', async () => {\n\t\tconst disposables = new DisposableStore();\n\t\tconst extActivationA = new ExtensionActivationPromiseSource();\n\t\tconst extActivationB = new ExtensionActivationPromiseSource();\n\t\tconst host = new PromiseExtensionsActivatorHost([\n\t\t\t[idA, extActivationA],\n\t\t\t[idB, extActivationB]\n\t\t]);\n\t\tconst activator = createActivator(host, [\n\t\t\tdesc(idA, [idB], ['evt1']),\n\t\t\tdesc(idB, [], ['evt1']),\n\t\t], [], disposables);\n\n\t\tconst activate = activator.activateByEvent('evt1', false);\n\n\t\tawait timeout(0);\n\t\tassert.deepStrictEqual(host.activateCalls, [idB]);\n\t\textActivationB.resolve();\n\n\t\tawait timeout(0);\n\t\tassert.deepStrictEqual(host.activateCalls, [idB, idA]);\n\t\textActivationA.resolve();\n\n\t\tawait timeout(0);\n\t\tawait activate;\n\n\t\tassert.deepStrictEqual(host.activateCalls, [idB, idA]);\n\n\t\tdisposables.dispose();\n\t});\n\n\ttest('Supports having resolved extensions', async () => {\n\t\tconst disposables = new DisposableStore();\n\t\tconst host = new SimpleExtensionsActivatorHost();\n\t\tconst bExt = desc(idB);\n\t\tdelete (<Mutable<IExtensionDescription>>bExt).main;\n\t\tdelete (<Mutable<IExtensionDescription>>bExt).browser;\n\t\tconst activator = createActivator(host, [\n\t\t\tdesc(idA, [idB])\n\t\t], [bExt], disposables);\n\n\t\tawait activator.activateByEvent('*', false);\n\t\tassert.deepStrictEqual(host.activateCalls, [idA]);\n\n\t\tdisposables.dispose();\n\t});\n\n\ttest('Supports having external extensions', async () => {\n\t\tconst disposables = new DisposableStore();\n\t\tconst extActivationA = new ExtensionActivationPromiseSource();\n\t\tconst extActivationB = new ExtensionActivationPromiseSource();\n\t\tconst host = new PromiseExtensionsActivatorHost([\n\t\t\t[idA, extActivationA],\n\t\t\t[idB, extActivationB]\n\t\t]);\n\t\tconst bExt = desc(idB);\n\t\t(<Mutable<IExtensionDescription>>bExt).api = 'none';\n\t\tconst activator = createActivator(host, [\n\t\t\tdesc(idA, [idB])\n\t\t], [bExt], disposables);\n\n\t\tconst activate = activator.activateByEvent('*', false);\n\n\t\tawait timeout(0);\n\t\tassert.deepStrictEqual(host.activateCalls, [idB]);\n\t\textActivationB.resolve();\n\n\t\tawait timeout(0);\n\t\tassert.deepStrictEqual(host.activateCalls, [idB, idA]);\n\t\textActivationA.resolve();\n\n\t\tawait activate;\n\t\tassert.deepStrictEqual(host.activateCalls, [idB, idA]);\n\n\t\tdisposables.dispose();\n\t});\n\n\ttest('Error: activateById with missing extension', async () => {\n\t\tconst disposables = new DisposableStore();\n\t\tconst host = new SimpleExtensionsActivatorHost();\n\t\tconst activator = createActivator(host, [\n\t\t\tdesc(idA),\n\t\t\tdesc(idB),\n\t\t], [], disposables);\n\n\t\tlet error: Error | undefined = undefined;\n\t\ttry {\n\t\t\tawait activator.activateById(idC, { startup: false, extensionId: idC, activationEvent: 'none' });\n\t\t} catch (err) {\n\t\t\terror = err;\n\t\t}\n\n\t\tassert.strictEqual(typeof error === 'undefined', false);\n\n\t\tdisposables.dispose();\n\t});\n\n\ttest('Error: dependency missing', async () => {\n\t\tconst disposables = new DisposableStore();\n\t\tconst host = new SimpleExtensionsActivatorHost();\n\t\tconst activator = createActivator(host, [\n\t\t\tdesc(idA, [idB]),\n\t\t], [], disposables);\n\n\t\tawait activator.activateByEvent('*', false);\n\n\t\tassert.deepStrictEqual(host.errors.length, 1);\n\t\tassert.deepStrictEqual(host.errors[0][0], idA);\n\n\t\tdisposables.dispose();\n\t});\n\n\ttest('Error: dependency activation failed', async () => {\n\t\tconst disposables = new DisposableStore();\n\t\tconst extActivationA = new ExtensionActivationPromiseSource();\n\t\tconst extActivationB = new ExtensionActivationPromiseSource();\n\t\tconst host = new PromiseExtensionsActivatorHost([\n\t\t\t[idA, extActivationA],\n\t\t\t[idB, extActivationB]\n\t\t]);\n\t\tconst activator = createActivator(host, [\n\t\t\tdesc(idA, [idB]),\n\t\t\tdesc(idB)\n\t\t], [], disposables);\n\n\t\tconst activate = activator.activateByEvent('*', false);\n\t\textActivationB.reject(new Error(`b fails!`));\n\n\t\tawait activate;\n\t\tassert.deepStrictEqual(host.errors.length, 2);\n\t\tassert.deepStrictEqual(host.errors[0][0], idB);\n\t\tassert.deepStrictEqual(host.errors[1][0], idA);\n\n\t\tdisposables.dispose();\n\t});\n\n\ttest('issue #144518: Problem with git extension and vscode-icons', async () => {\n\t\tconst disposables = new DisposableStore();\n\t\tconst extActivationA = new ExtensionActivationPromiseSource();\n\t\tconst extActivationB = new ExtensionActivationPromiseSource();\n\t\tconst extActivationC = new ExtensionActivationPromiseSource();\n\t\tconst host = new PromiseExtensionsActivatorHost([\n\t\t\t[idA, extActivationA],\n\t\t\t[idB, extActivationB],\n\t\t\t[idC, extActivationC]\n\t\t]);\n\t\tconst activator = createActivator(host, [\n\t\t\tdesc(idA, [idB]),\n\t\t\tdesc(idB),\n\t\t\tdesc(idC),\n\t\t], [], disposables);\n\n\t\tactivator.activateByEvent('*', false);\n\t\tassert.deepStrictEqual(host.activateCalls, [idB, idC]);\n\n\t\textActivationB.resolve();\n\t\tawait timeout(0);\n\n\t\tassert.deepStrictEqual(host.activateCalls, [idB, idC, idA]);\n\t\textActivationA.resolve();\n\n\t\tdisposables.dispose();\n\t});\n\n\tclass SimpleExtensionsActivatorHost implements IExtensionsActivatorHost {\n\t\tpublic readonly activateCalls: ExtensionIdentifier[] = [];\n\t\tpublic readonly errors: [ExtensionIdentifier, Error | null, MissingExtensionDependency | null][] = [];\n\n\t\tonExtensionActivationError(extensionId: ExtensionIdentifier, error: Error | null, missingExtensionDependency: MissingExtensionDependency | null): void {\n\t\t\tthis.errors.push([extensionId, error, missingExtensionDependency]);\n\t\t}\n\n\t\tactualActivateExtension(extensionId: ExtensionIdentifier, reason: ExtensionActivationReason): Promise<ActivatedExtension> {\n\t\t\tthis.activateCalls.push(extensionId);\n\t\t\treturn Promise.resolve(new EmptyExtension(ExtensionActivationTimes.NONE));\n\t\t}\n\t}\n\n\tclass PromiseExtensionsActivatorHost extends SimpleExtensionsActivatorHost {\n\n\t\tconstructor(\n\t\t\tprivate readonly _promises: [ExtensionIdentifier, ExtensionActivationPromiseSource][]\n\t\t) {\n\t\t\tsuper();\n\t\t}\n\n\t\toverride actualActivateExtension(extensionId: ExtensionIdentifier, reason: ExtensionActivationReason): Promise<ActivatedExtension> {\n\t\t\tthis.activateCalls.push(extensionId);\n\t\t\tfor (const [id, promiseSource] of this._promises) {\n\t\t\t\tif (id.value === extensionId.value) {\n\t\t\t\t\treturn promiseSource.promise;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthrow new Error(`Unexpected!`);\n\t\t}\n\t}\n\n\tclass ExtensionActivationPromiseSource {\n\t\tprivate readonly _resolve: (value: ActivatedExtension) => void;\n\t\tprivate readonly _reject: (err: Error) => void;\n\t\tpublic readonly promise: Promise<ActivatedExtension>;\n\n\t\tconstructor() {\n\t\t\t({ promise: this.promise, resolve: this._resolve, reject: this._reject } = promiseWithResolvers<ActivatedExtension>());\n\t\t}\n\n\t\tpublic resolve(): void {\n\t\t\tthis._resolve(new EmptyExtension(ExtensionActivationTimes.NONE));\n\t\t}\n\n\t\tpublic reject(err: Error): void {\n\t\t\tthis._reject(err);\n\t\t}\n\t}\n\n\tconst basicActivationEventsReader: IActivationEventsReader = {\n\t\treadActivationEvents: (extensionDescription: IExtensionDescription): string[] => {\n\t\t\treturn extensionDescription.activationEvents?.slice() ?? [];\n\t\t}\n\t};\n\n\tfunction createActivator(host: IExtensionsActivatorHost, extensionDescriptions: IExtensionDescription[], otherHostExtensionDescriptions: IExtensionDescription[] = [], disposables: DisposableStore): ExtensionsActivator {\n\t\tconst registry = disposables.add(new ExtensionDescriptionRegistry(basicActivationEventsReader, extensionDescriptions));\n\t\tconst globalRegistry = disposables.add(new ExtensionDescriptionRegistry(basicActivationEventsReader, extensionDescriptions.concat(otherHostExtensionDescriptions)));\n\t\treturn disposables.add(new ExtensionsActivator(registry, globalRegistry, host, new NullLogService()));\n\t}\n\n\tfunction desc(id: ExtensionIdentifier, deps: ExtensionIdentifier[] = [], activationEvents: string[] = ['*']): IExtensionDescription {\n\t\treturn {\n\t\t\tname: id.value,\n\t\t\tpublisher: 'test',\n\t\t\tversion: '0.0.0',\n\t\t\tengines: { vscode: '^1.0.0' },\n\t\t\tidentifier: id,\n\t\t\textensionLocation: URI.parse(`nothing://nowhere`),\n\t\t\tisBuiltin: false,\n\t\t\tisUnderDevelopment: false,\n\t\t\tisUserBuiltin: false,\n\t\t\tactivationEvents,\n\t\t\tmain: 'index.js',\n\t\t\ttargetPlatform: TargetPlatform.UNDEFINED,\n\t\t\textensionDependencies: deps.map(d => d.value),\n\t\t\tenabledApiProposals: undefined,\n\t\t\tpreRelease: false,\n\t\t};\n\t}\n\n});\n"]}