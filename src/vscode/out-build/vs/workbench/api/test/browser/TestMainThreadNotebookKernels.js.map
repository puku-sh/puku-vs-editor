{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/api/test/browser/TestMainThreadNotebookKernels.ts","vs/workbench/api/test/browser/TestMainThreadNotebookKernels.ts"],"names":[],"mappings":"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","file":"TestMainThreadNotebookKernels.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { mock } from '../../../test/common/workbenchTestServices.js';\nimport { TestInstantiationService } from '../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { IExtHostContext } from '../../../services/extensions/common/extHostCustomers.js';\nimport { INotebookKernel, INotebookKernelService } from '../../../contrib/notebook/common/notebookKernelService.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { ILanguageService } from '../../../../editor/common/languages/language.js';\nimport { INotebookCellExecution, INotebookExecution, INotebookExecutionStateService } from '../../../contrib/notebook/common/notebookExecutionStateService.js';\nimport { INotebookService } from '../../../contrib/notebook/common/notebookService.js';\nimport { INotebookEditorService } from '../../../contrib/notebook/browser/services/notebookEditorService.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { MainThreadNotebookKernels } from '../../browser/mainThreadNotebookKernels.js';\nimport { ExtensionIdentifier } from '../../../../platform/extensions/common/extensions.js';\n\nexport class TestMainThreadNotebookKernels extends Disposable {\n\tprivate readonly instantiationService: TestInstantiationService;\n\tprivate readonly registeredKernels = new Map<string, INotebookKernel>();\n\tprivate mainThreadNotebookKernels: MainThreadNotebookKernels;\n\tprivate kernelHandle = 0;\n\n\tconstructor(extHostContext: IExtHostContext) {\n\t\tsuper();\n\t\tthis.instantiationService = this._register(new TestInstantiationService());\n\t\tthis.setupDefaultStubs();\n\t\tthis.mainThreadNotebookKernels = this._register(this.instantiationService.createInstance(MainThreadNotebookKernels, extHostContext));\n\t}\n\n\tprivate setupDefaultStubs(): void {\n\t\tthis.instantiationService.stub(ILanguageService, new class extends mock<ILanguageService>() {\n\t\t\toverride getRegisteredLanguageIds() {\n\t\t\t\treturn ['typescript', 'javascript', 'python'];\n\t\t\t}\n\t\t});\n\n\t\tthis.instantiationService.stub(INotebookKernelService, new class extends mock<INotebookKernelService>() {\n\t\t\tconstructor(private builder: TestMainThreadNotebookKernels) {\n\t\t\t\tsuper();\n\t\t\t}\n\n\t\t\toverride registerKernel(kernel: INotebookKernel) {\n\t\t\t\tthis.builder.registeredKernels.set(kernel.id, kernel);\n\t\t\t\treturn Disposable.None;\n\t\t\t}\n\t\t\toverride onDidChangeSelectedNotebooks = Event.None;\n\t\t\toverride getMatchingKernel() {\n\t\t\t\treturn {\n\t\t\t\t\tselected: undefined,\n\t\t\t\t\tsuggestions: [],\n\t\t\t\t\tall: [],\n\t\t\t\t\thidden: []\n\t\t\t\t};\n\t\t\t}\n\t\t}(this));\n\n\t\tthis.instantiationService.stub(INotebookExecutionStateService, new class extends mock<INotebookExecutionStateService>() {\n\t\t\toverride createCellExecution(): INotebookCellExecution {\n\t\t\t\treturn new class extends mock<INotebookCellExecution>() { };\n\t\t\t}\n\t\t\toverride createExecution(): INotebookExecution {\n\t\t\t\treturn new class extends mock<INotebookExecution>() { };\n\t\t\t}\n\t\t});\n\n\t\tthis.instantiationService.stub(INotebookService, new class extends mock<INotebookService>() {\n\t\t\toverride getNotebookTextModel() {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t});\n\n\t\tthis.instantiationService.stub(INotebookEditorService, new class extends mock<INotebookEditorService>() {\n\t\t\toverride listNotebookEditors() {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\toverride onDidAddNotebookEditor = Event.None;\n\t\t\toverride onDidRemoveNotebookEditor = Event.None;\n\t\t});\n\t}\n\n\tget instance(): MainThreadNotebookKernels {\n\t\treturn this.mainThreadNotebookKernels;\n\t}\n\n\tasync addKernel(id: string): Promise<void> {\n\t\tconst handle = this.kernelHandle++;\n\t\tawait this.instance.$addKernel(handle, {\n\t\t\tid,\n\t\t\tnotebookType: 'test-notebook',\n\t\t\textensionId: new ExtensionIdentifier('test.extension'),\n\t\t\textensionLocation: { scheme: 'test', path: '/test' },\n\t\t\tlabel: 'Test Kernel',\n\t\t\tdescription: 'A test kernel',\n\t\t\thasVariableProvider: true\n\t\t});\n\t}\n\n\tgetKernel(id: string): INotebookKernel | undefined {\n\t\treturn this.registeredKernels.get(id);\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { mock } from '../../../test/common/workbenchTestServices.js';\nimport { TestInstantiationService } from '../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { IExtHostContext } from '../../../services/extensions/common/extHostCustomers.js';\nimport { INotebookKernel, INotebookKernelService } from '../../../contrib/notebook/common/notebookKernelService.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { ILanguageService } from '../../../../editor/common/languages/language.js';\nimport { INotebookCellExecution, INotebookExecution, INotebookExecutionStateService } from '../../../contrib/notebook/common/notebookExecutionStateService.js';\nimport { INotebookService } from '../../../contrib/notebook/common/notebookService.js';\nimport { INotebookEditorService } from '../../../contrib/notebook/browser/services/notebookEditorService.js';\nimport { Event } from '../../../../base/common/event.js';\nimport { MainThreadNotebookKernels } from '../../browser/mainThreadNotebookKernels.js';\nimport { ExtensionIdentifier } from '../../../../platform/extensions/common/extensions.js';\n\nexport class TestMainThreadNotebookKernels extends Disposable {\n\tprivate readonly instantiationService: TestInstantiationService;\n\tprivate readonly registeredKernels = new Map<string, INotebookKernel>();\n\tprivate mainThreadNotebookKernels: MainThreadNotebookKernels;\n\tprivate kernelHandle = 0;\n\n\tconstructor(extHostContext: IExtHostContext) {\n\t\tsuper();\n\t\tthis.instantiationService = this._register(new TestInstantiationService());\n\t\tthis.setupDefaultStubs();\n\t\tthis.mainThreadNotebookKernels = this._register(this.instantiationService.createInstance(MainThreadNotebookKernels, extHostContext));\n\t}\n\n\tprivate setupDefaultStubs(): void {\n\t\tthis.instantiationService.stub(ILanguageService, new class extends mock<ILanguageService>() {\n\t\t\toverride getRegisteredLanguageIds() {\n\t\t\t\treturn ['typescript', 'javascript', 'python'];\n\t\t\t}\n\t\t});\n\n\t\tthis.instantiationService.stub(INotebookKernelService, new class extends mock<INotebookKernelService>() {\n\t\t\tconstructor(private builder: TestMainThreadNotebookKernels) {\n\t\t\t\tsuper();\n\t\t\t}\n\n\t\t\toverride registerKernel(kernel: INotebookKernel) {\n\t\t\t\tthis.builder.registeredKernels.set(kernel.id, kernel);\n\t\t\t\treturn Disposable.None;\n\t\t\t}\n\t\t\toverride onDidChangeSelectedNotebooks = Event.None;\n\t\t\toverride getMatchingKernel() {\n\t\t\t\treturn {\n\t\t\t\t\tselected: undefined,\n\t\t\t\t\tsuggestions: [],\n\t\t\t\t\tall: [],\n\t\t\t\t\thidden: []\n\t\t\t\t};\n\t\t\t}\n\t\t}(this));\n\n\t\tthis.instantiationService.stub(INotebookExecutionStateService, new class extends mock<INotebookExecutionStateService>() {\n\t\t\toverride createCellExecution(): INotebookCellExecution {\n\t\t\t\treturn new class extends mock<INotebookCellExecution>() { };\n\t\t\t}\n\t\t\toverride createExecution(): INotebookExecution {\n\t\t\t\treturn new class extends mock<INotebookExecution>() { };\n\t\t\t}\n\t\t});\n\n\t\tthis.instantiationService.stub(INotebookService, new class extends mock<INotebookService>() {\n\t\t\toverride getNotebookTextModel() {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t});\n\n\t\tthis.instantiationService.stub(INotebookEditorService, new class extends mock<INotebookEditorService>() {\n\t\t\toverride listNotebookEditors() {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\toverride onDidAddNotebookEditor = Event.None;\n\t\t\toverride onDidRemoveNotebookEditor = Event.None;\n\t\t});\n\t}\n\n\tget instance(): MainThreadNotebookKernels {\n\t\treturn this.mainThreadNotebookKernels;\n\t}\n\n\tasync addKernel(id: string): Promise<void> {\n\t\tconst handle = this.kernelHandle++;\n\t\tawait this.instance.$addKernel(handle, {\n\t\t\tid,\n\t\t\tnotebookType: 'test-notebook',\n\t\t\textensionId: new ExtensionIdentifier('test.extension'),\n\t\t\textensionLocation: { scheme: 'test', path: '/test' },\n\t\t\tlabel: 'Test Kernel',\n\t\t\tdescription: 'A test kernel',\n\t\t\thasVariableProvider: true\n\t\t});\n\t}\n\n\tgetKernel(id: string): INotebookKernel | undefined {\n\t\treturn this.registeredKernels.get(id);\n\t}\n}\n"]}