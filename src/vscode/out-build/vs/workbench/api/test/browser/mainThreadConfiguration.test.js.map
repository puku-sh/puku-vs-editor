{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/api/test/browser/mainThreadConfiguration.test.ts","vs/workbench/api/test/browser/mainThreadConfiguration.test.ts"],"names":[],"mappings":"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","file":"mainThreadConfiguration.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport * as sinon from 'sinon';\nimport { URI } from '../../../../base/common/uri.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { Extensions, IConfigurationRegistry, ConfigurationScope } from '../../../../platform/configuration/common/configurationRegistry.js';\nimport { IWorkspaceContextService, WorkbenchState } from '../../../../platform/workspace/common/workspace.js';\nimport { TestInstantiationService } from '../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { MainThreadConfiguration } from '../../browser/mainThreadConfiguration.js';\nimport { SingleProxyRPCProtocol } from '../common/testRPCProtocol.js';\nimport { IConfigurationService, ConfigurationTarget } from '../../../../platform/configuration/common/configuration.js';\nimport { WorkspaceService } from '../../../services/configuration/browser/configurationService.js';\nimport { IEnvironmentService } from '../../../../platform/environment/common/environment.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\n\nsuite('MainThreadConfiguration', function () {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tconst proxy = {\n\t\t$initializeConfiguration: () => { }\n\t};\n\tlet instantiationService: TestInstantiationService;\n\tlet target: sinon.SinonSpy;\n\n\tsuiteSetup(() => {\n\t\tRegistry.as<IConfigurationRegistry>(Extensions.Configuration).registerConfiguration({\n\t\t\t'id': 'extHostConfiguration',\n\t\t\t'title': 'a',\n\t\t\t'type': 'object',\n\t\t\t'properties': {\n\t\t\t\t'extHostConfiguration.resource': {\n\t\t\t\t\t'description': 'extHostConfiguration.resource',\n\t\t\t\t\t'type': 'boolean',\n\t\t\t\t\t'default': true,\n\t\t\t\t\t'scope': ConfigurationScope.RESOURCE\n\t\t\t\t},\n\t\t\t\t'extHostConfiguration.window': {\n\t\t\t\t\t'description': 'extHostConfiguration.resource',\n\t\t\t\t\t'type': 'boolean',\n\t\t\t\t\t'default': true,\n\t\t\t\t\t'scope': ConfigurationScope.WINDOW\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\tsetup(() => {\n\t\ttarget = sinon.spy();\n\n\t\tinstantiationService = new TestInstantiationService();\n\t\tinstantiationService.stub(IConfigurationService, WorkspaceService);\n\t\tinstantiationService.stub(IConfigurationService, 'onDidUpdateConfiguration', sinon.mock());\n\t\tinstantiationService.stub(IConfigurationService, 'onDidChangeConfiguration', sinon.mock());\n\t\tinstantiationService.stub(IConfigurationService, 'updateValue', target);\n\t\tinstantiationService.stub(IEnvironmentService, {\n\t\t\tisBuilt: false\n\t\t});\n\t});\n\n\tteardown(() => {\n\t\tinstantiationService.dispose();\n\t});\n\n\ttest('update resource configuration without configuration target defaults to workspace in multi root workspace when no resource is provided', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.WORKSPACE });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$updateConfigurationOption(null, 'extHostConfiguration.resource', 'value', undefined, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE, target.args[0][3]);\n\t});\n\n\ttest('update resource configuration without configuration target defaults to workspace in folder workspace when resource is provider', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.FOLDER });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$updateConfigurationOption(null, 'extHostConfiguration.resource', 'value', { resource: URI.file('abc') }, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE, target.args[0][3]);\n\t});\n\n\ttest('update resource configuration without configuration target defaults to workspace in folder workspace when no resource is provider', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.FOLDER });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$updateConfigurationOption(null, 'extHostConfiguration.resource', 'value', undefined, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE, target.args[0][3]);\n\t});\n\n\ttest('update window configuration without configuration target defaults to workspace in multi root workspace when no resource is provided', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.WORKSPACE });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$updateConfigurationOption(null, 'extHostConfiguration.window', 'value', undefined, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE, target.args[0][3]);\n\t});\n\n\ttest('update window configuration without configuration target defaults to workspace in multi root workspace when resource is provided', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.WORKSPACE });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$updateConfigurationOption(null, 'extHostConfiguration.window', 'value', { resource: URI.file('abc') }, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE, target.args[0][3]);\n\t});\n\n\ttest('update window configuration without configuration target defaults to workspace in folder workspace when resource is provider', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.FOLDER });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$updateConfigurationOption(null, 'extHostConfiguration.window', 'value', { resource: URI.file('abc') }, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE, target.args[0][3]);\n\t});\n\n\ttest('update window configuration without configuration target defaults to workspace in folder workspace when no resource is provider', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.FOLDER });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$updateConfigurationOption(null, 'extHostConfiguration.window', 'value', undefined, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE, target.args[0][3]);\n\t});\n\n\ttest('update resource configuration without configuration target defaults to folder', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.WORKSPACE });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$updateConfigurationOption(null, 'extHostConfiguration.resource', 'value', { resource: URI.file('abc') }, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE_FOLDER, target.args[0][3]);\n\t});\n\n\ttest('update configuration with user configuration target', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.FOLDER });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$updateConfigurationOption(ConfigurationTarget.USER, 'extHostConfiguration.window', 'value', { resource: URI.file('abc') }, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.USER, target.args[0][3]);\n\t});\n\n\ttest('update configuration with workspace configuration target', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.FOLDER });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$updateConfigurationOption(ConfigurationTarget.WORKSPACE, 'extHostConfiguration.window', 'value', { resource: URI.file('abc') }, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE, target.args[0][3]);\n\t});\n\n\ttest('update configuration with folder configuration target', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.FOLDER });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$updateConfigurationOption(ConfigurationTarget.WORKSPACE_FOLDER, 'extHostConfiguration.window', 'value', { resource: URI.file('abc') }, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE_FOLDER, target.args[0][3]);\n\t});\n\n\ttest('remove resource configuration without configuration target defaults to workspace in multi root workspace when no resource is provided', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.WORKSPACE });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$removeConfigurationOption(null, 'extHostConfiguration.resource', undefined, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE, target.args[0][3]);\n\t});\n\n\ttest('remove resource configuration without configuration target defaults to workspace in folder workspace when resource is provider', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.FOLDER });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$removeConfigurationOption(null, 'extHostConfiguration.resource', { resource: URI.file('abc') }, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE, target.args[0][3]);\n\t});\n\n\ttest('remove resource configuration without configuration target defaults to workspace in folder workspace when no resource is provider', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.FOLDER });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$removeConfigurationOption(null, 'extHostConfiguration.resource', undefined, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE, target.args[0][3]);\n\t});\n\n\ttest('remove window configuration without configuration target defaults to workspace in multi root workspace when no resource is provided', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.WORKSPACE });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$removeConfigurationOption(null, 'extHostConfiguration.window', undefined, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE, target.args[0][3]);\n\t});\n\n\ttest('remove window configuration without configuration target defaults to workspace in multi root workspace when resource is provided', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.WORKSPACE });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$removeConfigurationOption(null, 'extHostConfiguration.window', { resource: URI.file('abc') }, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE, target.args[0][3]);\n\t});\n\n\ttest('remove window configuration without configuration target defaults to workspace in folder workspace when resource is provider', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.FOLDER });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$removeConfigurationOption(null, 'extHostConfiguration.window', { resource: URI.file('abc') }, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE, target.args[0][3]);\n\t});\n\n\ttest('remove window configuration without configuration target defaults to workspace in folder workspace when no resource is provider', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.FOLDER });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$removeConfigurationOption(null, 'extHostConfiguration.window', undefined, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE, target.args[0][3]);\n\t});\n\n\ttest('remove configuration without configuration target defaults to folder', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.WORKSPACE });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$removeConfigurationOption(null, 'extHostConfiguration.resource', { resource: URI.file('abc') }, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE_FOLDER, target.args[0][3]);\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport * as sinon from 'sinon';\nimport { URI } from '../../../../base/common/uri.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { Extensions, IConfigurationRegistry, ConfigurationScope } from '../../../../platform/configuration/common/configurationRegistry.js';\nimport { IWorkspaceContextService, WorkbenchState } from '../../../../platform/workspace/common/workspace.js';\nimport { TestInstantiationService } from '../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { MainThreadConfiguration } from '../../browser/mainThreadConfiguration.js';\nimport { SingleProxyRPCProtocol } from '../common/testRPCProtocol.js';\nimport { IConfigurationService, ConfigurationTarget } from '../../../../platform/configuration/common/configuration.js';\nimport { WorkspaceService } from '../../../services/configuration/browser/configurationService.js';\nimport { IEnvironmentService } from '../../../../platform/environment/common/environment.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\n\nsuite('MainThreadConfiguration', function () {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tconst proxy = {\n\t\t$initializeConfiguration: () => { }\n\t};\n\tlet instantiationService: TestInstantiationService;\n\tlet target: sinon.SinonSpy;\n\n\tsuiteSetup(() => {\n\t\tRegistry.as<IConfigurationRegistry>(Extensions.Configuration).registerConfiguration({\n\t\t\t'id': 'extHostConfiguration',\n\t\t\t'title': 'a',\n\t\t\t'type': 'object',\n\t\t\t'properties': {\n\t\t\t\t'extHostConfiguration.resource': {\n\t\t\t\t\t'description': 'extHostConfiguration.resource',\n\t\t\t\t\t'type': 'boolean',\n\t\t\t\t\t'default': true,\n\t\t\t\t\t'scope': ConfigurationScope.RESOURCE\n\t\t\t\t},\n\t\t\t\t'extHostConfiguration.window': {\n\t\t\t\t\t'description': 'extHostConfiguration.resource',\n\t\t\t\t\t'type': 'boolean',\n\t\t\t\t\t'default': true,\n\t\t\t\t\t'scope': ConfigurationScope.WINDOW\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\tsetup(() => {\n\t\ttarget = sinon.spy();\n\n\t\tinstantiationService = new TestInstantiationService();\n\t\tinstantiationService.stub(IConfigurationService, WorkspaceService);\n\t\tinstantiationService.stub(IConfigurationService, 'onDidUpdateConfiguration', sinon.mock());\n\t\tinstantiationService.stub(IConfigurationService, 'onDidChangeConfiguration', sinon.mock());\n\t\tinstantiationService.stub(IConfigurationService, 'updateValue', target);\n\t\tinstantiationService.stub(IEnvironmentService, {\n\t\t\tisBuilt: false\n\t\t});\n\t});\n\n\tteardown(() => {\n\t\tinstantiationService.dispose();\n\t});\n\n\ttest('update resource configuration without configuration target defaults to workspace in multi root workspace when no resource is provided', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.WORKSPACE });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$updateConfigurationOption(null, 'extHostConfiguration.resource', 'value', undefined, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE, target.args[0][3]);\n\t});\n\n\ttest('update resource configuration without configuration target defaults to workspace in folder workspace when resource is provider', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.FOLDER });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$updateConfigurationOption(null, 'extHostConfiguration.resource', 'value', { resource: URI.file('abc') }, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE, target.args[0][3]);\n\t});\n\n\ttest('update resource configuration without configuration target defaults to workspace in folder workspace when no resource is provider', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.FOLDER });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$updateConfigurationOption(null, 'extHostConfiguration.resource', 'value', undefined, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE, target.args[0][3]);\n\t});\n\n\ttest('update window configuration without configuration target defaults to workspace in multi root workspace when no resource is provided', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.WORKSPACE });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$updateConfigurationOption(null, 'extHostConfiguration.window', 'value', undefined, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE, target.args[0][3]);\n\t});\n\n\ttest('update window configuration without configuration target defaults to workspace in multi root workspace when resource is provided', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.WORKSPACE });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$updateConfigurationOption(null, 'extHostConfiguration.window', 'value', { resource: URI.file('abc') }, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE, target.args[0][3]);\n\t});\n\n\ttest('update window configuration without configuration target defaults to workspace in folder workspace when resource is provider', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.FOLDER });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$updateConfigurationOption(null, 'extHostConfiguration.window', 'value', { resource: URI.file('abc') }, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE, target.args[0][3]);\n\t});\n\n\ttest('update window configuration without configuration target defaults to workspace in folder workspace when no resource is provider', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.FOLDER });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$updateConfigurationOption(null, 'extHostConfiguration.window', 'value', undefined, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE, target.args[0][3]);\n\t});\n\n\ttest('update resource configuration without configuration target defaults to folder', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.WORKSPACE });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$updateConfigurationOption(null, 'extHostConfiguration.resource', 'value', { resource: URI.file('abc') }, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE_FOLDER, target.args[0][3]);\n\t});\n\n\ttest('update configuration with user configuration target', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.FOLDER });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$updateConfigurationOption(ConfigurationTarget.USER, 'extHostConfiguration.window', 'value', { resource: URI.file('abc') }, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.USER, target.args[0][3]);\n\t});\n\n\ttest('update configuration with workspace configuration target', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.FOLDER });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$updateConfigurationOption(ConfigurationTarget.WORKSPACE, 'extHostConfiguration.window', 'value', { resource: URI.file('abc') }, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE, target.args[0][3]);\n\t});\n\n\ttest('update configuration with folder configuration target', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.FOLDER });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$updateConfigurationOption(ConfigurationTarget.WORKSPACE_FOLDER, 'extHostConfiguration.window', 'value', { resource: URI.file('abc') }, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE_FOLDER, target.args[0][3]);\n\t});\n\n\ttest('remove resource configuration without configuration target defaults to workspace in multi root workspace when no resource is provided', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.WORKSPACE });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$removeConfigurationOption(null, 'extHostConfiguration.resource', undefined, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE, target.args[0][3]);\n\t});\n\n\ttest('remove resource configuration without configuration target defaults to workspace in folder workspace when resource is provider', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.FOLDER });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$removeConfigurationOption(null, 'extHostConfiguration.resource', { resource: URI.file('abc') }, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE, target.args[0][3]);\n\t});\n\n\ttest('remove resource configuration without configuration target defaults to workspace in folder workspace when no resource is provider', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.FOLDER });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$removeConfigurationOption(null, 'extHostConfiguration.resource', undefined, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE, target.args[0][3]);\n\t});\n\n\ttest('remove window configuration without configuration target defaults to workspace in multi root workspace when no resource is provided', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.WORKSPACE });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$removeConfigurationOption(null, 'extHostConfiguration.window', undefined, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE, target.args[0][3]);\n\t});\n\n\ttest('remove window configuration without configuration target defaults to workspace in multi root workspace when resource is provided', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.WORKSPACE });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$removeConfigurationOption(null, 'extHostConfiguration.window', { resource: URI.file('abc') }, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE, target.args[0][3]);\n\t});\n\n\ttest('remove window configuration without configuration target defaults to workspace in folder workspace when resource is provider', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.FOLDER });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$removeConfigurationOption(null, 'extHostConfiguration.window', { resource: URI.file('abc') }, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE, target.args[0][3]);\n\t});\n\n\ttest('remove window configuration without configuration target defaults to workspace in folder workspace when no resource is provider', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.FOLDER });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$removeConfigurationOption(null, 'extHostConfiguration.window', undefined, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE, target.args[0][3]);\n\t});\n\n\ttest('remove configuration without configuration target defaults to folder', function () {\n\t\tinstantiationService.stub(IWorkspaceContextService, <IWorkspaceContextService>{ getWorkbenchState: () => WorkbenchState.WORKSPACE });\n\t\tconst testObject: MainThreadConfiguration = instantiationService.createInstance(MainThreadConfiguration, SingleProxyRPCProtocol(proxy));\n\n\t\ttestObject.$removeConfigurationOption(null, 'extHostConfiguration.resource', { resource: URI.file('abc') }, undefined);\n\n\t\tassert.strictEqual(ConfigurationTarget.WORKSPACE_FOLDER, target.args[0][3]);\n\t});\n});\n"]}