{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/api/test/browser/extHostConfiguration.test.ts","vs/workbench/api/test/browser/extHostConfiguration.test.ts"],"names":[],"mappings":"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","file":"extHostConfiguration.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { URI, UriComponents } from '../../../../base/common/uri.js';\nimport { ExtHostWorkspace } from '../../common/extHostWorkspace.js';\nimport { ConfigurationInspect, ExtHostConfigProvider } from '../../common/extHostConfiguration.js';\nimport { MainThreadConfigurationShape, IConfigurationInitData } from '../../common/extHost.protocol.js';\nimport { ConfigurationModel, ConfigurationModelParser } from '../../../../platform/configuration/common/configurationModels.js';\nimport { TestRPCProtocol } from '../common/testRPCProtocol.js';\nimport { mock } from '../../../../base/test/common/mock.js';\nimport { IWorkspaceFolder, WorkspaceFolder } from '../../../../platform/workspace/common/workspace.js';\nimport { ConfigurationTarget, IConfigurationModel, IConfigurationChange } from '../../../../platform/configuration/common/configuration.js';\nimport { NullLogService } from '../../../../platform/log/common/log.js';\nimport { IExtHostInitDataService } from '../../common/extHostInitDataService.js';\nimport { IExtHostFileSystemInfo } from '../../common/extHostFileSystemInfo.js';\nimport { FileSystemProviderCapabilities } from '../../../../platform/files/common/files.js';\nimport { isLinux } from '../../../../base/common/platform.js';\nimport { IURITransformerService } from '../../common/extHostUriTransformerService.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\n\nsuite('ExtHostConfiguration', function () {\n\n\tclass RecordingShape extends mock<MainThreadConfigurationShape>() {\n\t\tlastArgs!: [ConfigurationTarget, string, any];\n\t\toverride $updateConfigurationOption(target: ConfigurationTarget, key: string, value: any): Promise<void> {\n\t\t\tthis.lastArgs = [target, key, value];\n\t\t\treturn Promise.resolve(undefined);\n\t\t}\n\t}\n\n\tfunction createExtHostWorkspace(): ExtHostWorkspace {\n\t\treturn new ExtHostWorkspace(new TestRPCProtocol(), new class extends mock<IExtHostInitDataService>() { }, new class extends mock<IExtHostFileSystemInfo>() { override getCapabilities() { return isLinux ? FileSystemProviderCapabilities.PathCaseSensitive : undefined; } }, new NullLogService(), new class extends mock<IURITransformerService>() { });\n\t}\n\n\tfunction createExtHostConfiguration(contents: any = Object.create(null), shape?: MainThreadConfigurationShape) {\n\t\tif (!shape) {\n\t\t\tshape = new class extends mock<MainThreadConfigurationShape>() { };\n\t\t}\n\t\treturn new ExtHostConfigProvider(shape, createExtHostWorkspace(), createConfigurationData(contents), new NullLogService());\n\t}\n\n\tfunction createConfigurationData(contents: any): IConfigurationInitData {\n\t\treturn {\n\t\t\tdefaults: new ConfigurationModel(contents, [], [], undefined, new NullLogService()),\n\t\t\tpolicy: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\tapplication: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\tuserLocal: new ConfigurationModel(contents, [], [], undefined, new NullLogService()),\n\t\t\tuserRemote: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\tworkspace: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\tfolders: [],\n\t\t\tconfigurationScopes: []\n\t\t};\n\t}\n\n\tconst store = ensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('getConfiguration fails regression test 1.7.1 -> 1.8 #15552', function () {\n\t\tconst extHostConfig = createExtHostConfiguration({\n\t\t\t'search': {\n\t\t\t\t'exclude': {\n\t\t\t\t\t'**/node_modules': true\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tassert.strictEqual(extHostConfig.getConfiguration('search.exclude')['**/node_modules'], true);\n\t\tassert.strictEqual(extHostConfig.getConfiguration('search.exclude').get('**/node_modules'), true);\n\t\tassert.strictEqual(extHostConfig.getConfiguration('search').get<any>('exclude')['**/node_modules'], true);\n\n\t\tassert.strictEqual(extHostConfig.getConfiguration('search.exclude').has('**/node_modules'), true);\n\t\tassert.strictEqual(extHostConfig.getConfiguration('search').has('exclude.**/node_modules'), true);\n\t});\n\n\ttest('has/get', () => {\n\n\t\tconst all = createExtHostConfiguration({\n\t\t\t'farboo': {\n\t\t\t\t'config0': true,\n\t\t\t\t'nested': {\n\t\t\t\t\t'config1': 42,\n\t\t\t\t\t'config2': 'Das Pferd frisst kein Reis.'\n\t\t\t\t},\n\t\t\t\t'config4': ''\n\t\t\t}\n\t\t});\n\n\t\tconst config = all.getConfiguration('farboo');\n\n\t\tassert.ok(config.has('config0'));\n\t\tassert.strictEqual(config.get('config0'), true);\n\t\tassert.strictEqual(config.get('config4'), '');\n\t\tassert.strictEqual(config['config0'], true);\n\t\tassert.strictEqual(config['config4'], '');\n\n\t\tassert.ok(config.has('nested.config1'));\n\t\tassert.strictEqual(config.get('nested.config1'), 42);\n\t\tassert.ok(config.has('nested.config2'));\n\t\tassert.strictEqual(config.get('nested.config2'), 'Das Pferd frisst kein Reis.');\n\n\t\tassert.ok(config.has('nested'));\n\t\tassert.deepStrictEqual(config.get('nested'), { config1: 42, config2: 'Das Pferd frisst kein Reis.' });\n\t});\n\n\ttest('get nested config', () => {\n\n\t\tconst all = createExtHostConfiguration({\n\t\t\t'farboo': {\n\t\t\t\t'config0': true,\n\t\t\t\t'nested': {\n\t\t\t\t\t'config1': 42,\n\t\t\t\t\t'config2': 'Das Pferd frisst kein Reis.'\n\t\t\t\t},\n\t\t\t\t'config4': ''\n\t\t\t}\n\t\t});\n\n\t\tassert.deepStrictEqual(all.getConfiguration('farboo.nested').get('config1'), 42);\n\t\tassert.deepStrictEqual(all.getConfiguration('farboo.nested').get('config2'), 'Das Pferd frisst kein Reis.');\n\t\tassert.deepStrictEqual(all.getConfiguration('farboo.nested')['config1'], 42);\n\t\tassert.deepStrictEqual(all.getConfiguration('farboo.nested')['config2'], 'Das Pferd frisst kein Reis.');\n\t\tassert.deepStrictEqual(all.getConfiguration('farboo.nested1').get('config1'), undefined);\n\t\tassert.deepStrictEqual(all.getConfiguration('farboo.nested1').get('config2'), undefined);\n\t\tassert.deepStrictEqual(all.getConfiguration('farboo.config0.config1').get('a'), undefined);\n\t\tassert.deepStrictEqual(all.getConfiguration('farboo.config0.config1')['a'], undefined);\n\t});\n\n\ttest('can modify the returned configuration', function () {\n\n\t\tconst all = createExtHostConfiguration({\n\t\t\t'farboo': {\n\t\t\t\t'config0': true,\n\t\t\t\t'nested': {\n\t\t\t\t\t'config1': 42,\n\t\t\t\t\t'config2': 'Das Pferd frisst kein Reis.'\n\t\t\t\t},\n\t\t\t\t'config4': ''\n\t\t\t},\n\t\t\t'workbench': {\n\t\t\t\t'colorCustomizations': {\n\t\t\t\t\t'statusBar.foreground': 'somevalue'\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tlet testObject = all.getConfiguration();\n\t\tlet actual = testObject.get<any>('farboo')!;\n\t\tactual['nested']['config1'] = 41;\n\t\tassert.strictEqual(41, actual['nested']['config1']);\n\t\tactual['farboo1'] = 'newValue';\n\t\tassert.strictEqual('newValue', actual['farboo1']);\n\n\t\ttestObject = all.getConfiguration();\n\t\tactual = testObject.get('farboo')!;\n\t\tassert.strictEqual(actual['nested']['config1'], 42);\n\t\tassert.strictEqual(actual['farboo1'], undefined);\n\n\t\ttestObject = all.getConfiguration();\n\t\tactual = testObject.get('farboo')!;\n\t\tassert.strictEqual(actual['config0'], true);\n\t\tactual['config0'] = false;\n\t\tassert.strictEqual(actual['config0'], false);\n\n\t\ttestObject = all.getConfiguration();\n\t\tactual = testObject.get('farboo')!;\n\t\tassert.strictEqual(actual['config0'], true);\n\n\t\ttestObject = all.getConfiguration();\n\t\tactual = testObject.inspect('farboo')!;\n\t\tactual['value'] = 'effectiveValue';\n\t\tassert.strictEqual('effectiveValue', actual['value']);\n\n\t\ttestObject = all.getConfiguration('workbench');\n\t\tactual = testObject.get('colorCustomizations')!;\n\t\tactual['statusBar.foreground'] = undefined;\n\t\tassert.strictEqual(actual['statusBar.foreground'], undefined);\n\t\ttestObject = all.getConfiguration('workbench');\n\t\tactual = testObject.get('colorCustomizations')!;\n\t\tassert.strictEqual(actual['statusBar.foreground'], 'somevalue');\n\t});\n\n\ttest('Stringify returned configuration', function () {\n\n\t\tconst all = createExtHostConfiguration({\n\t\t\t'farboo': {\n\t\t\t\t'config0': true,\n\t\t\t\t'nested': {\n\t\t\t\t\t'config1': 42,\n\t\t\t\t\t'config2': 'Das Pferd frisst kein Reis.'\n\t\t\t\t},\n\t\t\t\t'config4': ''\n\t\t\t},\n\t\t\t'workbench': {\n\t\t\t\t'colorCustomizations': {\n\t\t\t\t\t'statusBar.foreground': 'somevalue'\n\t\t\t\t},\n\t\t\t\t'emptyobjectkey': {\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tconst testObject = all.getConfiguration();\n\t\tlet actual: any = testObject.get('farboo');\n\t\tassert.deepStrictEqual(JSON.stringify({\n\t\t\t'config0': true,\n\t\t\t'nested': {\n\t\t\t\t'config1': 42,\n\t\t\t\t'config2': 'Das Pferd frisst kein Reis.'\n\t\t\t},\n\t\t\t'config4': ''\n\t\t}), JSON.stringify(actual));\n\n\t\tassert.deepStrictEqual(undefined, JSON.stringify(testObject.get('unknownkey')));\n\n\t\tactual = testObject.get('farboo')!;\n\t\tactual['config0'] = false;\n\t\tassert.deepStrictEqual(JSON.stringify({\n\t\t\t'config0': false,\n\t\t\t'nested': {\n\t\t\t\t'config1': 42,\n\t\t\t\t'config2': 'Das Pferd frisst kein Reis.'\n\t\t\t},\n\t\t\t'config4': ''\n\t\t}), JSON.stringify(actual));\n\n\t\tactual = testObject.get<any>('workbench')!['colorCustomizations']!;\n\t\tactual['statusBar.background'] = 'anothervalue';\n\t\tassert.deepStrictEqual(JSON.stringify({\n\t\t\t'statusBar.foreground': 'somevalue',\n\t\t\t'statusBar.background': 'anothervalue'\n\t\t}), JSON.stringify(actual));\n\n\t\tactual = testObject.get('workbench');\n\t\tactual['unknownkey'] = 'somevalue';\n\t\tassert.deepStrictEqual(JSON.stringify({\n\t\t\t'colorCustomizations': {\n\t\t\t\t'statusBar.foreground': 'somevalue'\n\t\t\t},\n\t\t\t'emptyobjectkey': {},\n\t\t\t'unknownkey': 'somevalue'\n\t\t}), JSON.stringify(actual));\n\n\t\tactual = all.getConfiguration('workbench').get('emptyobjectkey');\n\t\tactual = {\n\t\t\t...(actual || {}),\n\t\t\t'statusBar.background': `#0ff`,\n\t\t\t'statusBar.foreground': `#ff0`,\n\t\t};\n\t\tassert.deepStrictEqual(JSON.stringify({\n\t\t\t'statusBar.background': `#0ff`,\n\t\t\t'statusBar.foreground': `#ff0`,\n\t\t}), JSON.stringify(actual));\n\n\t\tactual = all.getConfiguration('workbench').get('unknownkey');\n\t\tactual = {\n\t\t\t...(actual || {}),\n\t\t\t'statusBar.background': `#0ff`,\n\t\t\t'statusBar.foreground': `#ff0`,\n\t\t};\n\t\tassert.deepStrictEqual(JSON.stringify({\n\t\t\t'statusBar.background': `#0ff`,\n\t\t\t'statusBar.foreground': `#ff0`,\n\t\t}), JSON.stringify(actual));\n\t});\n\n\ttest('cannot modify returned configuration', function () {\n\n\t\tconst all = createExtHostConfiguration({\n\t\t\t'farboo': {\n\t\t\t\t'config0': true,\n\t\t\t\t'nested': {\n\t\t\t\t\t'config1': 42,\n\t\t\t\t\t'config2': 'Das Pferd frisst kein Reis.'\n\t\t\t\t},\n\t\t\t\t'config4': ''\n\t\t\t}\n\t\t});\n\n\t\tconst testObject: any = all.getConfiguration();\n\n\t\ttry {\n\t\t\ttestObject['get'] = null;\n\t\t\tassert.fail('This should be readonly');\n\t\t} catch (e) {\n\t\t}\n\n\t\ttry {\n\t\t\ttestObject['farboo']['config0'] = false;\n\t\t\tassert.fail('This should be readonly');\n\t\t} catch (e) {\n\t\t}\n\n\t\ttry {\n\t\t\ttestObject['farboo']['farboo1'] = 'hello';\n\t\t\tassert.fail('This should be readonly');\n\t\t} catch (e) {\n\t\t}\n\t});\n\n\ttest('inspect in no workspace context', function () {\n\t\tconst testObject = new ExtHostConfigProvider(\n\t\t\tnew class extends mock<MainThreadConfigurationShape>() { },\n\t\t\tcreateExtHostWorkspace(),\n\t\t\t{\n\t\t\t\tdefaults: new ConfigurationModel({\n\t\t\t\t\t'editor': {\n\t\t\t\t\t\t'wordWrap': 'off',\n\t\t\t\t\t\t'lineNumbers': 'on',\n\t\t\t\t\t\t'fontSize': '12px'\n\t\t\t\t\t}\n\t\t\t\t}, ['editor.wordWrap'], [], undefined, new NullLogService()),\n\t\t\t\tpolicy: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\t\tapplication: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\t\tuserLocal: new ConfigurationModel({\n\t\t\t\t\t'editor': {\n\t\t\t\t\t\t'wordWrap': 'on',\n\t\t\t\t\t\t'lineNumbers': 'off'\n\t\t\t\t\t}\n\t\t\t\t}, ['editor.wordWrap', 'editor.lineNumbers'], [], undefined, new NullLogService()),\n\t\t\t\tuserRemote: new ConfigurationModel({\n\t\t\t\t\t'editor': {\n\t\t\t\t\t\t'lineNumbers': 'relative'\n\t\t\t\t\t}\n\t\t\t\t}, ['editor.lineNumbers'], [], {\n\t\t\t\t\t'editor': {\n\t\t\t\t\t\t'lineNumbers': 'relative',\n\t\t\t\t\t\t'fontSize': '14px'\n\t\t\t\t\t}\n\t\t\t\t}, new NullLogService()),\n\t\t\t\tworkspace: new ConfigurationModel({}, [], [], undefined, new NullLogService()),\n\t\t\t\tfolders: [],\n\t\t\t\tconfigurationScopes: []\n\t\t\t},\n\t\t\tnew NullLogService()\n\t\t);\n\n\t\tlet actual: ConfigurationInspect<string> = testObject.getConfiguration().inspect('editor.wordWrap')!;\n\t\tassert.strictEqual(actual.defaultValue, 'off');\n\t\tassert.strictEqual(actual.globalLocalValue, 'on');\n\t\tassert.strictEqual(actual.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual.globalValue, 'on');\n\t\tassert.strictEqual(actual.workspaceValue, undefined);\n\t\tassert.strictEqual(actual.workspaceFolderValue, undefined);\n\n\t\tactual = testObject.getConfiguration('editor').inspect('wordWrap')!;\n\t\tassert.strictEqual(actual.defaultValue, 'off');\n\t\tassert.strictEqual(actual.globalLocalValue, 'on');\n\t\tassert.strictEqual(actual.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual.globalValue, 'on');\n\t\tassert.strictEqual(actual.workspaceValue, undefined);\n\t\tassert.strictEqual(actual.workspaceFolderValue, undefined);\n\n\t\tactual = testObject.getConfiguration('editor').inspect('lineNumbers')!;\n\t\tassert.strictEqual(actual.defaultValue, 'on');\n\t\tassert.strictEqual(actual.globalLocalValue, 'off');\n\t\tassert.strictEqual(actual.globalRemoteValue, 'relative');\n\t\tassert.strictEqual(actual.globalValue, 'relative');\n\t\tassert.strictEqual(actual.workspaceValue, undefined);\n\t\tassert.strictEqual(actual.workspaceFolderValue, undefined);\n\n\t\tassert.strictEqual(testObject.getConfiguration('editor').get('fontSize'), '12px');\n\n\t\tactual = testObject.getConfiguration('editor').inspect('fontSize')!;\n\t\tassert.strictEqual(actual.defaultValue, '12px');\n\t\tassert.strictEqual(actual.globalLocalValue, undefined);\n\t\tassert.strictEqual(actual.globalRemoteValue, '14px');\n\t\tassert.strictEqual(actual.globalValue, undefined);\n\t\tassert.strictEqual(actual.workspaceValue, undefined);\n\t\tassert.strictEqual(actual.workspaceFolderValue, undefined);\n\t});\n\n\ttest('inspect in single root context', function () {\n\t\tconst workspaceUri = URI.file('foo');\n\t\tconst folders: [UriComponents, IConfigurationModel][] = [];\n\t\tconst workspace = new ConfigurationModel({\n\t\t\t'editor': {\n\t\t\t\t'wordWrap': 'bounded'\n\t\t\t}\n\t\t}, ['editor.wordWrap'], [], undefined, new NullLogService());\n\t\tfolders.push([workspaceUri, workspace]);\n\t\tconst extHostWorkspace = createExtHostWorkspace();\n\t\textHostWorkspace.$initializeWorkspace({\n\t\t\t'id': 'foo',\n\t\t\t'folders': [aWorkspaceFolder(URI.file('foo'), 0)],\n\t\t\t'name': 'foo'\n\t\t}, true);\n\t\tconst testObject = new ExtHostConfigProvider(\n\t\t\tnew class extends mock<MainThreadConfigurationShape>() { },\n\t\t\textHostWorkspace,\n\t\t\t{\n\t\t\t\tdefaults: new ConfigurationModel({\n\t\t\t\t\t'editor': {\n\t\t\t\t\t\t'wordWrap': 'off'\n\t\t\t\t\t}\n\t\t\t\t}, ['editor.wordWrap'], [], undefined, new NullLogService()),\n\t\t\t\tpolicy: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\t\tapplication: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\t\tuserLocal: new ConfigurationModel({\n\t\t\t\t\t'editor': {\n\t\t\t\t\t\t'wordWrap': 'on'\n\t\t\t\t\t}\n\t\t\t\t}, ['editor.wordWrap'], [], undefined, new NullLogService()),\n\t\t\t\tuserRemote: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\t\tworkspace,\n\t\t\t\tfolders,\n\t\t\t\tconfigurationScopes: []\n\t\t\t},\n\t\t\tnew NullLogService()\n\t\t);\n\n\t\tlet actual1: ConfigurationInspect<string> = testObject.getConfiguration().inspect('editor.wordWrap')!;\n\t\tassert.strictEqual(actual1.defaultValue, 'off');\n\t\tassert.strictEqual(actual1.globalLocalValue, 'on');\n\t\tassert.strictEqual(actual1.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual1.globalValue, 'on');\n\t\tassert.strictEqual(actual1.workspaceValue, 'bounded');\n\t\tassert.strictEqual(actual1.workspaceFolderValue, undefined);\n\n\t\tactual1 = testObject.getConfiguration('editor').inspect('wordWrap')!;\n\t\tassert.strictEqual(actual1.defaultValue, 'off');\n\t\tassert.strictEqual(actual1.globalLocalValue, 'on');\n\t\tassert.strictEqual(actual1.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual1.globalValue, 'on');\n\t\tassert.strictEqual(actual1.workspaceValue, 'bounded');\n\t\tassert.strictEqual(actual1.workspaceFolderValue, undefined);\n\n\t\tlet actual2: ConfigurationInspect<string> = testObject.getConfiguration(undefined, workspaceUri).inspect('editor.wordWrap')!;\n\t\tassert.strictEqual(actual2.defaultValue, 'off');\n\t\tassert.strictEqual(actual2.globalLocalValue, 'on');\n\t\tassert.strictEqual(actual2.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual2.globalValue, 'on');\n\t\tassert.strictEqual(actual2.workspaceValue, 'bounded');\n\t\tassert.strictEqual(actual2.workspaceFolderValue, 'bounded');\n\n\t\tactual2 = testObject.getConfiguration('editor', workspaceUri).inspect('wordWrap')!;\n\t\tassert.strictEqual(actual2.defaultValue, 'off');\n\t\tassert.strictEqual(actual2.globalLocalValue, 'on');\n\t\tassert.strictEqual(actual2.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual2.globalValue, 'on');\n\t\tassert.strictEqual(actual2.workspaceValue, 'bounded');\n\t\tassert.strictEqual(actual2.workspaceFolderValue, 'bounded');\n\t});\n\n\ttest('inspect in multi root context', function () {\n\t\tconst workspace = new ConfigurationModel({\n\t\t\t'editor': {\n\t\t\t\t'wordWrap': 'bounded'\n\t\t\t}\n\t\t}, ['editor.wordWrap'], [], undefined, new NullLogService());\n\n\t\tconst firstRoot = URI.file('foo1');\n\t\tconst secondRoot = URI.file('foo2');\n\t\tconst thirdRoot = URI.file('foo3');\n\t\tconst folders: [UriComponents, IConfigurationModel][] = [];\n\t\tfolders.push([firstRoot, new ConfigurationModel({\n\t\t\t'editor': {\n\t\t\t\t'wordWrap': 'off',\n\t\t\t\t'lineNumbers': 'relative'\n\t\t\t}\n\t\t}, ['editor.wordWrap'], [], undefined, new NullLogService())]);\n\t\tfolders.push([secondRoot, new ConfigurationModel({\n\t\t\t'editor': {\n\t\t\t\t'wordWrap': 'on'\n\t\t\t}\n\t\t}, ['editor.wordWrap'], [], undefined, new NullLogService())]);\n\t\tfolders.push([thirdRoot, new ConfigurationModel({}, [], [], undefined, new NullLogService())]);\n\n\t\tconst extHostWorkspace = createExtHostWorkspace();\n\t\textHostWorkspace.$initializeWorkspace({\n\t\t\t'id': 'foo',\n\t\t\t'folders': [aWorkspaceFolder(firstRoot, 0), aWorkspaceFolder(secondRoot, 1)],\n\t\t\t'name': 'foo'\n\t\t}, true);\n\t\tconst testObject = new ExtHostConfigProvider(\n\t\t\tnew class extends mock<MainThreadConfigurationShape>() { },\n\t\t\textHostWorkspace,\n\t\t\t{\n\t\t\t\tdefaults: new ConfigurationModel({\n\t\t\t\t\t'editor': {\n\t\t\t\t\t\t'wordWrap': 'off',\n\t\t\t\t\t\t'lineNumbers': 'on'\n\t\t\t\t\t}\n\t\t\t\t}, ['editor.wordWrap'], [], undefined, new NullLogService()),\n\t\t\t\tpolicy: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\t\tapplication: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\t\tuserLocal: new ConfigurationModel({\n\t\t\t\t\t'editor': {\n\t\t\t\t\t\t'wordWrap': 'on'\n\t\t\t\t\t}\n\t\t\t\t}, ['editor.wordWrap'], [], undefined, new NullLogService()),\n\t\t\t\tuserRemote: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\t\tworkspace,\n\t\t\t\tfolders,\n\t\t\t\tconfigurationScopes: []\n\t\t\t},\n\t\t\tnew NullLogService()\n\t\t);\n\n\t\tlet actual1: ConfigurationInspect<string> = testObject.getConfiguration().inspect('editor.wordWrap')!;\n\t\tassert.strictEqual(actual1.defaultValue, 'off');\n\t\tassert.strictEqual(actual1.globalValue, 'on');\n\t\tassert.strictEqual(actual1.globalLocalValue, 'on');\n\t\tassert.strictEqual(actual1.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual1.workspaceValue, 'bounded');\n\t\tassert.strictEqual(actual1.workspaceFolderValue, undefined);\n\n\t\tactual1 = testObject.getConfiguration('editor').inspect('wordWrap')!;\n\t\tassert.strictEqual(actual1.defaultValue, 'off');\n\t\tassert.strictEqual(actual1.globalValue, 'on');\n\t\tassert.strictEqual(actual1.globalLocalValue, 'on');\n\t\tassert.strictEqual(actual1.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual1.workspaceValue, 'bounded');\n\t\tassert.strictEqual(actual1.workspaceFolderValue, undefined);\n\n\t\tactual1 = testObject.getConfiguration('editor').inspect('lineNumbers')!;\n\t\tassert.strictEqual(actual1.defaultValue, 'on');\n\t\tassert.strictEqual(actual1.globalValue, undefined);\n\t\tassert.strictEqual(actual1.globalLocalValue, undefined);\n\t\tassert.strictEqual(actual1.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual1.workspaceValue, undefined);\n\t\tassert.strictEqual(actual1.workspaceFolderValue, undefined);\n\n\t\tlet actual2: ConfigurationInspect<string> = testObject.getConfiguration(undefined, firstRoot).inspect('editor.wordWrap')!;\n\t\tassert.strictEqual(actual2.defaultValue, 'off');\n\t\tassert.strictEqual(actual2.globalValue, 'on');\n\t\tassert.strictEqual(actual2.globalLocalValue, 'on');\n\t\tassert.strictEqual(actual2.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual2.workspaceValue, 'bounded');\n\t\tassert.strictEqual(actual2.workspaceFolderValue, 'off');\n\n\t\tactual2 = testObject.getConfiguration('editor', firstRoot).inspect('wordWrap')!;\n\t\tassert.strictEqual(actual2.defaultValue, 'off');\n\t\tassert.strictEqual(actual2.globalValue, 'on');\n\t\tassert.strictEqual(actual2.globalLocalValue, 'on');\n\t\tassert.strictEqual(actual2.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual2.workspaceValue, 'bounded');\n\t\tassert.strictEqual(actual2.workspaceFolderValue, 'off');\n\n\t\tactual2 = testObject.getConfiguration('editor', firstRoot).inspect('lineNumbers')!;\n\t\tassert.strictEqual(actual2.defaultValue, 'on');\n\t\tassert.strictEqual(actual2.globalValue, undefined);\n\t\tassert.strictEqual(actual2.globalLocalValue, undefined);\n\t\tassert.strictEqual(actual2.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual2.workspaceValue, undefined);\n\t\tassert.strictEqual(actual2.workspaceFolderValue, 'relative');\n\n\t\tactual2 = testObject.getConfiguration(undefined, secondRoot).inspect('editor.wordWrap')!;\n\t\tassert.strictEqual(actual2.defaultValue, 'off');\n\t\tassert.strictEqual(actual2.globalValue, 'on');\n\t\tassert.strictEqual(actual2.globalLocalValue, 'on');\n\t\tassert.strictEqual(actual2.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual2.workspaceValue, 'bounded');\n\t\tassert.strictEqual(actual2.workspaceFolderValue, 'on');\n\n\t\tactual2 = testObject.getConfiguration('editor', secondRoot).inspect('wordWrap')!;\n\t\tassert.strictEqual(actual2.defaultValue, 'off');\n\t\tassert.strictEqual(actual2.globalValue, 'on');\n\t\tassert.strictEqual(actual2.globalLocalValue, 'on');\n\t\tassert.strictEqual(actual2.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual2.workspaceValue, 'bounded');\n\t\tassert.strictEqual(actual2.workspaceFolderValue, 'on');\n\n\t\tactual2 = testObject.getConfiguration(undefined, thirdRoot).inspect('editor.wordWrap')!;\n\t\tassert.strictEqual(actual2.defaultValue, 'off');\n\t\tassert.strictEqual(actual2.globalValue, 'on');\n\t\tassert.strictEqual(actual2.globalLocalValue, 'on');\n\t\tassert.strictEqual(actual2.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual2.workspaceValue, 'bounded');\n\t\tassert.ok(Object.keys(actual2).indexOf('workspaceFolderValue') !== -1);\n\t\tassert.strictEqual(actual2.workspaceFolderValue, undefined);\n\n\t\tactual2 = testObject.getConfiguration('editor', thirdRoot).inspect('wordWrap')!;\n\t\tassert.strictEqual(actual2.defaultValue, 'off');\n\t\tassert.strictEqual(actual2.globalValue, 'on');\n\t\tassert.strictEqual(actual2.globalLocalValue, 'on');\n\t\tassert.strictEqual(actual2.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual2.workspaceValue, 'bounded');\n\t\tassert.ok(Object.keys(actual2).indexOf('workspaceFolderValue') !== -1);\n\t\tassert.strictEqual(actual2.workspaceFolderValue, undefined);\n\t});\n\n\ttest('inspect with language overrides', function () {\n\t\tconst firstRoot = URI.file('foo1');\n\t\tconst secondRoot = URI.file('foo2');\n\t\tconst folders: [UriComponents, IConfigurationModel][] = [];\n\t\tfolders.push([firstRoot, toConfigurationModel({\n\t\t\t'editor.wordWrap': 'bounded',\n\t\t\t'[typescript]': {\n\t\t\t\t'editor.wordWrap': 'unbounded',\n\t\t\t}\n\t\t})]);\n\t\tfolders.push([secondRoot, toConfigurationModel({})]);\n\n\t\tconst extHostWorkspace = createExtHostWorkspace();\n\t\textHostWorkspace.$initializeWorkspace({\n\t\t\t'id': 'foo',\n\t\t\t'folders': [aWorkspaceFolder(firstRoot, 0), aWorkspaceFolder(secondRoot, 1)],\n\t\t\t'name': 'foo'\n\t\t}, true);\n\t\tconst testObject = new ExtHostConfigProvider(\n\t\t\tnew class extends mock<MainThreadConfigurationShape>() { },\n\t\t\textHostWorkspace,\n\t\t\t{\n\t\t\t\tdefaults: toConfigurationModel({\n\t\t\t\t\t'editor.wordWrap': 'off',\n\t\t\t\t\t'[markdown]': {\n\t\t\t\t\t\t'editor.wordWrap': 'bounded',\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tpolicy: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\t\tapplication: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\t\tuserLocal: toConfigurationModel({\n\t\t\t\t\t'editor.wordWrap': 'bounded',\n\t\t\t\t\t'[typescript]': {\n\t\t\t\t\t\t'editor.lineNumbers': 'off',\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tuserRemote: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\t\tworkspace: toConfigurationModel({\n\t\t\t\t\t'[typescript]': {\n\t\t\t\t\t\t'editor.wordWrap': 'unbounded',\n\t\t\t\t\t\t'editor.lineNumbers': 'off',\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tfolders,\n\t\t\t\tconfigurationScopes: []\n\t\t\t},\n\t\t\tnew NullLogService()\n\t\t);\n\n\t\tlet actual: ConfigurationInspect<string> = testObject.getConfiguration(undefined, { uri: firstRoot, languageId: 'typescript' }).inspect('editor.wordWrap')!;\n\t\tassert.strictEqual(actual.defaultValue, 'off');\n\t\tassert.strictEqual(actual.globalValue, 'bounded');\n\t\tassert.strictEqual(actual.globalLocalValue, 'bounded');\n\t\tassert.strictEqual(actual.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual.workspaceValue, undefined);\n\t\tassert.strictEqual(actual.workspaceFolderValue, 'bounded');\n\t\tassert.strictEqual(actual.defaultLanguageValue, undefined);\n\t\tassert.strictEqual(actual.globalLanguageValue, undefined);\n\t\tassert.strictEqual(actual.workspaceLanguageValue, 'unbounded');\n\t\tassert.strictEqual(actual.workspaceFolderLanguageValue, 'unbounded');\n\t\tassert.deepStrictEqual(actual.languageIds, ['markdown', 'typescript']);\n\n\t\tactual = testObject.getConfiguration(undefined, { uri: secondRoot, languageId: 'typescript' }).inspect('editor.wordWrap')!;\n\t\tassert.strictEqual(actual.defaultValue, 'off');\n\t\tassert.strictEqual(actual.globalValue, 'bounded');\n\t\tassert.strictEqual(actual.globalLocalValue, 'bounded');\n\t\tassert.strictEqual(actual.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual.workspaceValue, undefined);\n\t\tassert.strictEqual(actual.workspaceFolderValue, undefined);\n\t\tassert.strictEqual(actual.defaultLanguageValue, undefined);\n\t\tassert.strictEqual(actual.globalLanguageValue, undefined);\n\t\tassert.strictEqual(actual.workspaceLanguageValue, 'unbounded');\n\t\tassert.strictEqual(actual.workspaceFolderLanguageValue, undefined);\n\t\tassert.deepStrictEqual(actual.languageIds, ['markdown', 'typescript']);\n\t});\n\n\ttest('application is not set in inspect', () => {\n\n\t\tconst testObject = new ExtHostConfigProvider(\n\t\t\tnew class extends mock<MainThreadConfigurationShape>() { },\n\t\t\tcreateExtHostWorkspace(),\n\t\t\t{\n\t\t\t\tdefaults: new ConfigurationModel({\n\t\t\t\t\t'editor': {\n\t\t\t\t\t\t'wordWrap': 'off',\n\t\t\t\t\t\t'lineNumbers': 'on',\n\t\t\t\t\t\t'fontSize': '12px'\n\t\t\t\t\t}\n\t\t\t\t}, ['editor.wordWrap'], [], undefined, new NullLogService()),\n\t\t\t\tpolicy: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\t\tapplication: new ConfigurationModel({\n\t\t\t\t\t'editor': {\n\t\t\t\t\t\t'wordWrap': 'on'\n\t\t\t\t\t}\n\t\t\t\t}, ['editor.wordWrap'], [], undefined, new NullLogService()),\n\t\t\t\tuserLocal: new ConfigurationModel({\n\t\t\t\t\t'editor': {\n\t\t\t\t\t\t'wordWrap': 'auto',\n\t\t\t\t\t\t'lineNumbers': 'off'\n\t\t\t\t\t}\n\t\t\t\t}, ['editor.wordWrap'], [], undefined, new NullLogService()),\n\t\t\t\tuserRemote: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\t\tworkspace: new ConfigurationModel({}, [], [], undefined, new NullLogService()),\n\t\t\t\tfolders: [],\n\t\t\t\tconfigurationScopes: []\n\t\t\t},\n\t\t\tnew NullLogService()\n\t\t);\n\n\t\tlet actual: ConfigurationInspect<string> = testObject.getConfiguration().inspect('editor.wordWrap')!;\n\t\tassert.strictEqual(actual.defaultValue, 'off');\n\t\tassert.strictEqual(actual.globalValue, 'auto');\n\t\tassert.strictEqual(actual.globalLocalValue, 'auto');\n\t\tassert.strictEqual(actual.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual.workspaceValue, undefined);\n\t\tassert.strictEqual(actual.workspaceFolderValue, undefined);\n\t\tassert.strictEqual(testObject.getConfiguration().get('editor.wordWrap'), 'auto');\n\n\t\tactual = testObject.getConfiguration().inspect('editor.lineNumbers')!;\n\t\tassert.strictEqual(actual.defaultValue, 'on');\n\t\tassert.strictEqual(actual.globalValue, 'off');\n\t\tassert.strictEqual(actual.globalLocalValue, 'off');\n\t\tassert.strictEqual(actual.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual.workspaceValue, undefined);\n\t\tassert.strictEqual(actual.workspaceFolderValue, undefined);\n\t\tassert.strictEqual(testObject.getConfiguration().get('editor.lineNumbers'), 'off');\n\n\t\tactual = testObject.getConfiguration().inspect('editor.fontSize')!;\n\t\tassert.strictEqual(actual.defaultValue, '12px');\n\t\tassert.strictEqual(actual.globalLocalValue, undefined);\n\t\tassert.strictEqual(actual.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual.globalValue, undefined);\n\t\tassert.strictEqual(actual.workspaceValue, undefined);\n\t\tassert.strictEqual(actual.workspaceFolderValue, undefined);\n\t\tassert.strictEqual(testObject.getConfiguration().get('editor.fontSize'), '12px');\n\t});\n\n\ttest('getConfiguration vs get', function () {\n\n\t\tconst all = createExtHostConfiguration({\n\t\t\t'farboo': {\n\t\t\t\t'config0': true,\n\t\t\t\t'config4': 38\n\t\t\t}\n\t\t});\n\n\t\tlet config = all.getConfiguration('farboo.config0');\n\t\tassert.strictEqual(config.get(''), undefined);\n\t\tassert.strictEqual(config.has(''), false);\n\n\t\tconfig = all.getConfiguration('farboo');\n\t\tassert.strictEqual(config.get('config0'), true);\n\t\tassert.strictEqual(config.has('config0'), true);\n\t});\n\n\ttest('name vs property', function () {\n\t\tconst all = createExtHostConfiguration({\n\t\t\t'farboo': {\n\t\t\t\t'get': 'get-prop'\n\t\t\t}\n\t\t});\n\t\tconst config = all.getConfiguration('farboo');\n\n\t\tassert.ok(config.has('get'));\n\t\tassert.strictEqual(config.get('get'), 'get-prop');\n\t\tassert.deepStrictEqual(config['get'], config.get);\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tassert.throws(() => config['get'] = <any>'get-prop');\n\t});\n\n\ttest('update: no target passes null', function () {\n\t\tconst shape = new RecordingShape();\n\t\tconst allConfig = createExtHostConfiguration({\n\t\t\t'foo': {\n\t\t\t\t'bar': 1,\n\t\t\t\t'far': 1\n\t\t\t}\n\t\t}, shape);\n\n\t\tconst config = allConfig.getConfiguration('foo');\n\t\tconfig.update('bar', 42);\n\n\t\tassert.strictEqual(shape.lastArgs[0], null);\n\t});\n\n\ttest('update/section to key', function () {\n\n\t\tconst shape = new RecordingShape();\n\t\tconst allConfig = createExtHostConfiguration({\n\t\t\t'foo': {\n\t\t\t\t'bar': 1,\n\t\t\t\t'far': 1\n\t\t\t}\n\t\t}, shape);\n\n\t\tlet config = allConfig.getConfiguration('foo');\n\t\tconfig.update('bar', 42, true);\n\n\t\tassert.strictEqual(shape.lastArgs[0], ConfigurationTarget.USER);\n\t\tassert.strictEqual(shape.lastArgs[1], 'foo.bar');\n\t\tassert.strictEqual(shape.lastArgs[2], 42);\n\n\t\tconfig = allConfig.getConfiguration('');\n\t\tconfig.update('bar', 42, true);\n\t\tassert.strictEqual(shape.lastArgs[1], 'bar');\n\n\t\tconfig.update('foo.bar', 42, true);\n\t\tassert.strictEqual(shape.lastArgs[1], 'foo.bar');\n\t});\n\n\ttest('update, what is #15834', function () {\n\t\tconst shape = new RecordingShape();\n\t\tconst allConfig = createExtHostConfiguration({\n\t\t\t'editor': {\n\t\t\t\t'formatOnSave': true\n\t\t\t}\n\t\t}, shape);\n\n\t\tallConfig.getConfiguration('editor').update('formatOnSave', { extensions: ['ts'] });\n\t\tassert.strictEqual(shape.lastArgs[1], 'editor.formatOnSave');\n\t\tassert.deepStrictEqual(shape.lastArgs[2], { extensions: ['ts'] });\n\t});\n\n\ttest('update/error-state not OK', function () {\n\n\t\tconst shape = new class extends mock<MainThreadConfigurationShape>() {\n\t\t\toverride $updateConfigurationOption(target: ConfigurationTarget, key: string, value: any): Promise<any> {\n\t\t\t\treturn Promise.reject(new Error('Unknown Key')); // something !== OK\n\t\t\t}\n\t\t};\n\n\t\treturn createExtHostConfiguration({}, shape)\n\t\t\t.getConfiguration('')\n\t\t\t.update('', true, false)\n\t\t\t.then(() => assert.ok(false), err => { /* expecting rejection */ });\n\t});\n\n\ttest('configuration change event', (done) => {\n\n\t\tconst workspaceFolder = aWorkspaceFolder(URI.file('folder1'), 0);\n\t\tconst extHostWorkspace = createExtHostWorkspace();\n\t\textHostWorkspace.$initializeWorkspace({\n\t\t\t'id': 'foo',\n\t\t\t'folders': [workspaceFolder],\n\t\t\t'name': 'foo'\n\t\t}, true);\n\t\tconst testObject = new ExtHostConfigProvider(\n\t\t\tnew class extends mock<MainThreadConfigurationShape>() { },\n\t\t\textHostWorkspace,\n\t\t\tcreateConfigurationData({\n\t\t\t\t'farboo': {\n\t\t\t\t\t'config': false,\n\t\t\t\t\t'updatedConfig': false\n\t\t\t\t}\n\t\t\t}),\n\t\t\tnew NullLogService()\n\t\t);\n\n\t\tconst newConfigData = createConfigurationData({\n\t\t\t'farboo': {\n\t\t\t\t'config': false,\n\t\t\t\t'updatedConfig': true,\n\t\t\t\t'newConfig': true,\n\t\t\t}\n\t\t});\n\t\tconst configEventData: IConfigurationChange = { keys: ['farboo.updatedConfig', 'farboo.newConfig'], overrides: [] };\n\t\tstore.add(testObject.onDidChangeConfiguration(e => {\n\n\t\t\tassert.deepStrictEqual(testObject.getConfiguration().get('farboo'), {\n\t\t\t\t'config': false,\n\t\t\t\t'updatedConfig': true,\n\t\t\t\t'newConfig': true,\n\t\t\t});\n\n\t\t\tassert.ok(e.affectsConfiguration('farboo'));\n\t\t\tassert.ok(e.affectsConfiguration('farboo', workspaceFolder.uri));\n\t\t\tassert.ok(e.affectsConfiguration('farboo', URI.file('any')));\n\n\t\t\tassert.ok(e.affectsConfiguration('farboo.updatedConfig'));\n\t\t\tassert.ok(e.affectsConfiguration('farboo.updatedConfig', workspaceFolder.uri));\n\t\t\tassert.ok(e.affectsConfiguration('farboo.updatedConfig', URI.file('any')));\n\n\t\t\tassert.ok(e.affectsConfiguration('farboo.newConfig'));\n\t\t\tassert.ok(e.affectsConfiguration('farboo.newConfig', workspaceFolder.uri));\n\t\t\tassert.ok(e.affectsConfiguration('farboo.newConfig', URI.file('any')));\n\n\t\t\tassert.ok(!e.affectsConfiguration('farboo.config'));\n\t\t\tassert.ok(!e.affectsConfiguration('farboo.config', workspaceFolder.uri));\n\t\t\tassert.ok(!e.affectsConfiguration('farboo.config', URI.file('any')));\n\t\t\tdone();\n\t\t}));\n\n\t\ttestObject.$acceptConfigurationChanged(newConfigData, configEventData);\n\t});\n\n\ttest('get return instance of array value', function () {\n\t\tconst testObject = createExtHostConfiguration({ 'far': { 'boo': [] } });\n\n\t\tconst value: string[] = testObject.getConfiguration().get('far.boo', []);\n\t\tvalue.push('a');\n\n\t\tconst actual = testObject.getConfiguration().get('far.boo', []);\n\t\tassert.deepStrictEqual(actual, []);\n\t});\n\n\tfunction aWorkspaceFolder(uri: URI, index: number, name: string = ''): IWorkspaceFolder {\n\t\treturn new WorkspaceFolder({ uri, name, index });\n\t}\n\n\tfunction toConfigurationModel(obj: any): ConfigurationModel {\n\t\tconst parser = new ConfigurationModelParser('test', new NullLogService());\n\t\tparser.parse(JSON.stringify(obj));\n\t\treturn parser.configurationModel;\n\t}\n\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { URI, UriComponents } from '../../../../base/common/uri.js';\nimport { ExtHostWorkspace } from '../../common/extHostWorkspace.js';\nimport { ConfigurationInspect, ExtHostConfigProvider } from '../../common/extHostConfiguration.js';\nimport { MainThreadConfigurationShape, IConfigurationInitData } from '../../common/extHost.protocol.js';\nimport { ConfigurationModel, ConfigurationModelParser } from '../../../../platform/configuration/common/configurationModels.js';\nimport { TestRPCProtocol } from '../common/testRPCProtocol.js';\nimport { mock } from '../../../../base/test/common/mock.js';\nimport { IWorkspaceFolder, WorkspaceFolder } from '../../../../platform/workspace/common/workspace.js';\nimport { ConfigurationTarget, IConfigurationModel, IConfigurationChange } from '../../../../platform/configuration/common/configuration.js';\nimport { NullLogService } from '../../../../platform/log/common/log.js';\nimport { IExtHostInitDataService } from '../../common/extHostInitDataService.js';\nimport { IExtHostFileSystemInfo } from '../../common/extHostFileSystemInfo.js';\nimport { FileSystemProviderCapabilities } from '../../../../platform/files/common/files.js';\nimport { isLinux } from '../../../../base/common/platform.js';\nimport { IURITransformerService } from '../../common/extHostUriTransformerService.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\n\nsuite('ExtHostConfiguration', function () {\n\n\tclass RecordingShape extends mock<MainThreadConfigurationShape>() {\n\t\tlastArgs!: [ConfigurationTarget, string, any];\n\t\toverride $updateConfigurationOption(target: ConfigurationTarget, key: string, value: any): Promise<void> {\n\t\t\tthis.lastArgs = [target, key, value];\n\t\t\treturn Promise.resolve(undefined);\n\t\t}\n\t}\n\n\tfunction createExtHostWorkspace(): ExtHostWorkspace {\n\t\treturn new ExtHostWorkspace(new TestRPCProtocol(), new class extends mock<IExtHostInitDataService>() { }, new class extends mock<IExtHostFileSystemInfo>() { override getCapabilities() { return isLinux ? FileSystemProviderCapabilities.PathCaseSensitive : undefined; } }, new NullLogService(), new class extends mock<IURITransformerService>() { });\n\t}\n\n\tfunction createExtHostConfiguration(contents: any = Object.create(null), shape?: MainThreadConfigurationShape) {\n\t\tif (!shape) {\n\t\t\tshape = new class extends mock<MainThreadConfigurationShape>() { };\n\t\t}\n\t\treturn new ExtHostConfigProvider(shape, createExtHostWorkspace(), createConfigurationData(contents), new NullLogService());\n\t}\n\n\tfunction createConfigurationData(contents: any): IConfigurationInitData {\n\t\treturn {\n\t\t\tdefaults: new ConfigurationModel(contents, [], [], undefined, new NullLogService()),\n\t\t\tpolicy: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\tapplication: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\tuserLocal: new ConfigurationModel(contents, [], [], undefined, new NullLogService()),\n\t\t\tuserRemote: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\tworkspace: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\tfolders: [],\n\t\t\tconfigurationScopes: []\n\t\t};\n\t}\n\n\tconst store = ensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('getConfiguration fails regression test 1.7.1 -> 1.8 #15552', function () {\n\t\tconst extHostConfig = createExtHostConfiguration({\n\t\t\t'search': {\n\t\t\t\t'exclude': {\n\t\t\t\t\t'**/node_modules': true\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tassert.strictEqual(extHostConfig.getConfiguration('search.exclude')['**/node_modules'], true);\n\t\tassert.strictEqual(extHostConfig.getConfiguration('search.exclude').get('**/node_modules'), true);\n\t\tassert.strictEqual(extHostConfig.getConfiguration('search').get<any>('exclude')['**/node_modules'], true);\n\n\t\tassert.strictEqual(extHostConfig.getConfiguration('search.exclude').has('**/node_modules'), true);\n\t\tassert.strictEqual(extHostConfig.getConfiguration('search').has('exclude.**/node_modules'), true);\n\t});\n\n\ttest('has/get', () => {\n\n\t\tconst all = createExtHostConfiguration({\n\t\t\t'farboo': {\n\t\t\t\t'config0': true,\n\t\t\t\t'nested': {\n\t\t\t\t\t'config1': 42,\n\t\t\t\t\t'config2': 'Das Pferd frisst kein Reis.'\n\t\t\t\t},\n\t\t\t\t'config4': ''\n\t\t\t}\n\t\t});\n\n\t\tconst config = all.getConfiguration('farboo');\n\n\t\tassert.ok(config.has('config0'));\n\t\tassert.strictEqual(config.get('config0'), true);\n\t\tassert.strictEqual(config.get('config4'), '');\n\t\tassert.strictEqual(config['config0'], true);\n\t\tassert.strictEqual(config['config4'], '');\n\n\t\tassert.ok(config.has('nested.config1'));\n\t\tassert.strictEqual(config.get('nested.config1'), 42);\n\t\tassert.ok(config.has('nested.config2'));\n\t\tassert.strictEqual(config.get('nested.config2'), 'Das Pferd frisst kein Reis.');\n\n\t\tassert.ok(config.has('nested'));\n\t\tassert.deepStrictEqual(config.get('nested'), { config1: 42, config2: 'Das Pferd frisst kein Reis.' });\n\t});\n\n\ttest('get nested config', () => {\n\n\t\tconst all = createExtHostConfiguration({\n\t\t\t'farboo': {\n\t\t\t\t'config0': true,\n\t\t\t\t'nested': {\n\t\t\t\t\t'config1': 42,\n\t\t\t\t\t'config2': 'Das Pferd frisst kein Reis.'\n\t\t\t\t},\n\t\t\t\t'config4': ''\n\t\t\t}\n\t\t});\n\n\t\tassert.deepStrictEqual(all.getConfiguration('farboo.nested').get('config1'), 42);\n\t\tassert.deepStrictEqual(all.getConfiguration('farboo.nested').get('config2'), 'Das Pferd frisst kein Reis.');\n\t\tassert.deepStrictEqual(all.getConfiguration('farboo.nested')['config1'], 42);\n\t\tassert.deepStrictEqual(all.getConfiguration('farboo.nested')['config2'], 'Das Pferd frisst kein Reis.');\n\t\tassert.deepStrictEqual(all.getConfiguration('farboo.nested1').get('config1'), undefined);\n\t\tassert.deepStrictEqual(all.getConfiguration('farboo.nested1').get('config2'), undefined);\n\t\tassert.deepStrictEqual(all.getConfiguration('farboo.config0.config1').get('a'), undefined);\n\t\tassert.deepStrictEqual(all.getConfiguration('farboo.config0.config1')['a'], undefined);\n\t});\n\n\ttest('can modify the returned configuration', function () {\n\n\t\tconst all = createExtHostConfiguration({\n\t\t\t'farboo': {\n\t\t\t\t'config0': true,\n\t\t\t\t'nested': {\n\t\t\t\t\t'config1': 42,\n\t\t\t\t\t'config2': 'Das Pferd frisst kein Reis.'\n\t\t\t\t},\n\t\t\t\t'config4': ''\n\t\t\t},\n\t\t\t'workbench': {\n\t\t\t\t'colorCustomizations': {\n\t\t\t\t\t'statusBar.foreground': 'somevalue'\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tlet testObject = all.getConfiguration();\n\t\tlet actual = testObject.get<any>('farboo')!;\n\t\tactual['nested']['config1'] = 41;\n\t\tassert.strictEqual(41, actual['nested']['config1']);\n\t\tactual['farboo1'] = 'newValue';\n\t\tassert.strictEqual('newValue', actual['farboo1']);\n\n\t\ttestObject = all.getConfiguration();\n\t\tactual = testObject.get('farboo')!;\n\t\tassert.strictEqual(actual['nested']['config1'], 42);\n\t\tassert.strictEqual(actual['farboo1'], undefined);\n\n\t\ttestObject = all.getConfiguration();\n\t\tactual = testObject.get('farboo')!;\n\t\tassert.strictEqual(actual['config0'], true);\n\t\tactual['config0'] = false;\n\t\tassert.strictEqual(actual['config0'], false);\n\n\t\ttestObject = all.getConfiguration();\n\t\tactual = testObject.get('farboo')!;\n\t\tassert.strictEqual(actual['config0'], true);\n\n\t\ttestObject = all.getConfiguration();\n\t\tactual = testObject.inspect('farboo')!;\n\t\tactual['value'] = 'effectiveValue';\n\t\tassert.strictEqual('effectiveValue', actual['value']);\n\n\t\ttestObject = all.getConfiguration('workbench');\n\t\tactual = testObject.get('colorCustomizations')!;\n\t\tactual['statusBar.foreground'] = undefined;\n\t\tassert.strictEqual(actual['statusBar.foreground'], undefined);\n\t\ttestObject = all.getConfiguration('workbench');\n\t\tactual = testObject.get('colorCustomizations')!;\n\t\tassert.strictEqual(actual['statusBar.foreground'], 'somevalue');\n\t});\n\n\ttest('Stringify returned configuration', function () {\n\n\t\tconst all = createExtHostConfiguration({\n\t\t\t'farboo': {\n\t\t\t\t'config0': true,\n\t\t\t\t'nested': {\n\t\t\t\t\t'config1': 42,\n\t\t\t\t\t'config2': 'Das Pferd frisst kein Reis.'\n\t\t\t\t},\n\t\t\t\t'config4': ''\n\t\t\t},\n\t\t\t'workbench': {\n\t\t\t\t'colorCustomizations': {\n\t\t\t\t\t'statusBar.foreground': 'somevalue'\n\t\t\t\t},\n\t\t\t\t'emptyobjectkey': {\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tconst testObject = all.getConfiguration();\n\t\tlet actual: any = testObject.get('farboo');\n\t\tassert.deepStrictEqual(JSON.stringify({\n\t\t\t'config0': true,\n\t\t\t'nested': {\n\t\t\t\t'config1': 42,\n\t\t\t\t'config2': 'Das Pferd frisst kein Reis.'\n\t\t\t},\n\t\t\t'config4': ''\n\t\t}), JSON.stringify(actual));\n\n\t\tassert.deepStrictEqual(undefined, JSON.stringify(testObject.get('unknownkey')));\n\n\t\tactual = testObject.get('farboo')!;\n\t\tactual['config0'] = false;\n\t\tassert.deepStrictEqual(JSON.stringify({\n\t\t\t'config0': false,\n\t\t\t'nested': {\n\t\t\t\t'config1': 42,\n\t\t\t\t'config2': 'Das Pferd frisst kein Reis.'\n\t\t\t},\n\t\t\t'config4': ''\n\t\t}), JSON.stringify(actual));\n\n\t\tactual = testObject.get<any>('workbench')!['colorCustomizations']!;\n\t\tactual['statusBar.background'] = 'anothervalue';\n\t\tassert.deepStrictEqual(JSON.stringify({\n\t\t\t'statusBar.foreground': 'somevalue',\n\t\t\t'statusBar.background': 'anothervalue'\n\t\t}), JSON.stringify(actual));\n\n\t\tactual = testObject.get('workbench');\n\t\tactual['unknownkey'] = 'somevalue';\n\t\tassert.deepStrictEqual(JSON.stringify({\n\t\t\t'colorCustomizations': {\n\t\t\t\t'statusBar.foreground': 'somevalue'\n\t\t\t},\n\t\t\t'emptyobjectkey': {},\n\t\t\t'unknownkey': 'somevalue'\n\t\t}), JSON.stringify(actual));\n\n\t\tactual = all.getConfiguration('workbench').get('emptyobjectkey');\n\t\tactual = {\n\t\t\t...(actual || {}),\n\t\t\t'statusBar.background': `#0ff`,\n\t\t\t'statusBar.foreground': `#ff0`,\n\t\t};\n\t\tassert.deepStrictEqual(JSON.stringify({\n\t\t\t'statusBar.background': `#0ff`,\n\t\t\t'statusBar.foreground': `#ff0`,\n\t\t}), JSON.stringify(actual));\n\n\t\tactual = all.getConfiguration('workbench').get('unknownkey');\n\t\tactual = {\n\t\t\t...(actual || {}),\n\t\t\t'statusBar.background': `#0ff`,\n\t\t\t'statusBar.foreground': `#ff0`,\n\t\t};\n\t\tassert.deepStrictEqual(JSON.stringify({\n\t\t\t'statusBar.background': `#0ff`,\n\t\t\t'statusBar.foreground': `#ff0`,\n\t\t}), JSON.stringify(actual));\n\t});\n\n\ttest('cannot modify returned configuration', function () {\n\n\t\tconst all = createExtHostConfiguration({\n\t\t\t'farboo': {\n\t\t\t\t'config0': true,\n\t\t\t\t'nested': {\n\t\t\t\t\t'config1': 42,\n\t\t\t\t\t'config2': 'Das Pferd frisst kein Reis.'\n\t\t\t\t},\n\t\t\t\t'config4': ''\n\t\t\t}\n\t\t});\n\n\t\tconst testObject: any = all.getConfiguration();\n\n\t\ttry {\n\t\t\ttestObject['get'] = null;\n\t\t\tassert.fail('This should be readonly');\n\t\t} catch (e) {\n\t\t}\n\n\t\ttry {\n\t\t\ttestObject['farboo']['config0'] = false;\n\t\t\tassert.fail('This should be readonly');\n\t\t} catch (e) {\n\t\t}\n\n\t\ttry {\n\t\t\ttestObject['farboo']['farboo1'] = 'hello';\n\t\t\tassert.fail('This should be readonly');\n\t\t} catch (e) {\n\t\t}\n\t});\n\n\ttest('inspect in no workspace context', function () {\n\t\tconst testObject = new ExtHostConfigProvider(\n\t\t\tnew class extends mock<MainThreadConfigurationShape>() { },\n\t\t\tcreateExtHostWorkspace(),\n\t\t\t{\n\t\t\t\tdefaults: new ConfigurationModel({\n\t\t\t\t\t'editor': {\n\t\t\t\t\t\t'wordWrap': 'off',\n\t\t\t\t\t\t'lineNumbers': 'on',\n\t\t\t\t\t\t'fontSize': '12px'\n\t\t\t\t\t}\n\t\t\t\t}, ['editor.wordWrap'], [], undefined, new NullLogService()),\n\t\t\t\tpolicy: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\t\tapplication: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\t\tuserLocal: new ConfigurationModel({\n\t\t\t\t\t'editor': {\n\t\t\t\t\t\t'wordWrap': 'on',\n\t\t\t\t\t\t'lineNumbers': 'off'\n\t\t\t\t\t}\n\t\t\t\t}, ['editor.wordWrap', 'editor.lineNumbers'], [], undefined, new NullLogService()),\n\t\t\t\tuserRemote: new ConfigurationModel({\n\t\t\t\t\t'editor': {\n\t\t\t\t\t\t'lineNumbers': 'relative'\n\t\t\t\t\t}\n\t\t\t\t}, ['editor.lineNumbers'], [], {\n\t\t\t\t\t'editor': {\n\t\t\t\t\t\t'lineNumbers': 'relative',\n\t\t\t\t\t\t'fontSize': '14px'\n\t\t\t\t\t}\n\t\t\t\t}, new NullLogService()),\n\t\t\t\tworkspace: new ConfigurationModel({}, [], [], undefined, new NullLogService()),\n\t\t\t\tfolders: [],\n\t\t\t\tconfigurationScopes: []\n\t\t\t},\n\t\t\tnew NullLogService()\n\t\t);\n\n\t\tlet actual: ConfigurationInspect<string> = testObject.getConfiguration().inspect('editor.wordWrap')!;\n\t\tassert.strictEqual(actual.defaultValue, 'off');\n\t\tassert.strictEqual(actual.globalLocalValue, 'on');\n\t\tassert.strictEqual(actual.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual.globalValue, 'on');\n\t\tassert.strictEqual(actual.workspaceValue, undefined);\n\t\tassert.strictEqual(actual.workspaceFolderValue, undefined);\n\n\t\tactual = testObject.getConfiguration('editor').inspect('wordWrap')!;\n\t\tassert.strictEqual(actual.defaultValue, 'off');\n\t\tassert.strictEqual(actual.globalLocalValue, 'on');\n\t\tassert.strictEqual(actual.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual.globalValue, 'on');\n\t\tassert.strictEqual(actual.workspaceValue, undefined);\n\t\tassert.strictEqual(actual.workspaceFolderValue, undefined);\n\n\t\tactual = testObject.getConfiguration('editor').inspect('lineNumbers')!;\n\t\tassert.strictEqual(actual.defaultValue, 'on');\n\t\tassert.strictEqual(actual.globalLocalValue, 'off');\n\t\tassert.strictEqual(actual.globalRemoteValue, 'relative');\n\t\tassert.strictEqual(actual.globalValue, 'relative');\n\t\tassert.strictEqual(actual.workspaceValue, undefined);\n\t\tassert.strictEqual(actual.workspaceFolderValue, undefined);\n\n\t\tassert.strictEqual(testObject.getConfiguration('editor').get('fontSize'), '12px');\n\n\t\tactual = testObject.getConfiguration('editor').inspect('fontSize')!;\n\t\tassert.strictEqual(actual.defaultValue, '12px');\n\t\tassert.strictEqual(actual.globalLocalValue, undefined);\n\t\tassert.strictEqual(actual.globalRemoteValue, '14px');\n\t\tassert.strictEqual(actual.globalValue, undefined);\n\t\tassert.strictEqual(actual.workspaceValue, undefined);\n\t\tassert.strictEqual(actual.workspaceFolderValue, undefined);\n\t});\n\n\ttest('inspect in single root context', function () {\n\t\tconst workspaceUri = URI.file('foo');\n\t\tconst folders: [UriComponents, IConfigurationModel][] = [];\n\t\tconst workspace = new ConfigurationModel({\n\t\t\t'editor': {\n\t\t\t\t'wordWrap': 'bounded'\n\t\t\t}\n\t\t}, ['editor.wordWrap'], [], undefined, new NullLogService());\n\t\tfolders.push([workspaceUri, workspace]);\n\t\tconst extHostWorkspace = createExtHostWorkspace();\n\t\textHostWorkspace.$initializeWorkspace({\n\t\t\t'id': 'foo',\n\t\t\t'folders': [aWorkspaceFolder(URI.file('foo'), 0)],\n\t\t\t'name': 'foo'\n\t\t}, true);\n\t\tconst testObject = new ExtHostConfigProvider(\n\t\t\tnew class extends mock<MainThreadConfigurationShape>() { },\n\t\t\textHostWorkspace,\n\t\t\t{\n\t\t\t\tdefaults: new ConfigurationModel({\n\t\t\t\t\t'editor': {\n\t\t\t\t\t\t'wordWrap': 'off'\n\t\t\t\t\t}\n\t\t\t\t}, ['editor.wordWrap'], [], undefined, new NullLogService()),\n\t\t\t\tpolicy: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\t\tapplication: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\t\tuserLocal: new ConfigurationModel({\n\t\t\t\t\t'editor': {\n\t\t\t\t\t\t'wordWrap': 'on'\n\t\t\t\t\t}\n\t\t\t\t}, ['editor.wordWrap'], [], undefined, new NullLogService()),\n\t\t\t\tuserRemote: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\t\tworkspace,\n\t\t\t\tfolders,\n\t\t\t\tconfigurationScopes: []\n\t\t\t},\n\t\t\tnew NullLogService()\n\t\t);\n\n\t\tlet actual1: ConfigurationInspect<string> = testObject.getConfiguration().inspect('editor.wordWrap')!;\n\t\tassert.strictEqual(actual1.defaultValue, 'off');\n\t\tassert.strictEqual(actual1.globalLocalValue, 'on');\n\t\tassert.strictEqual(actual1.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual1.globalValue, 'on');\n\t\tassert.strictEqual(actual1.workspaceValue, 'bounded');\n\t\tassert.strictEqual(actual1.workspaceFolderValue, undefined);\n\n\t\tactual1 = testObject.getConfiguration('editor').inspect('wordWrap')!;\n\t\tassert.strictEqual(actual1.defaultValue, 'off');\n\t\tassert.strictEqual(actual1.globalLocalValue, 'on');\n\t\tassert.strictEqual(actual1.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual1.globalValue, 'on');\n\t\tassert.strictEqual(actual1.workspaceValue, 'bounded');\n\t\tassert.strictEqual(actual1.workspaceFolderValue, undefined);\n\n\t\tlet actual2: ConfigurationInspect<string> = testObject.getConfiguration(undefined, workspaceUri).inspect('editor.wordWrap')!;\n\t\tassert.strictEqual(actual2.defaultValue, 'off');\n\t\tassert.strictEqual(actual2.globalLocalValue, 'on');\n\t\tassert.strictEqual(actual2.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual2.globalValue, 'on');\n\t\tassert.strictEqual(actual2.workspaceValue, 'bounded');\n\t\tassert.strictEqual(actual2.workspaceFolderValue, 'bounded');\n\n\t\tactual2 = testObject.getConfiguration('editor', workspaceUri).inspect('wordWrap')!;\n\t\tassert.strictEqual(actual2.defaultValue, 'off');\n\t\tassert.strictEqual(actual2.globalLocalValue, 'on');\n\t\tassert.strictEqual(actual2.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual2.globalValue, 'on');\n\t\tassert.strictEqual(actual2.workspaceValue, 'bounded');\n\t\tassert.strictEqual(actual2.workspaceFolderValue, 'bounded');\n\t});\n\n\ttest('inspect in multi root context', function () {\n\t\tconst workspace = new ConfigurationModel({\n\t\t\t'editor': {\n\t\t\t\t'wordWrap': 'bounded'\n\t\t\t}\n\t\t}, ['editor.wordWrap'], [], undefined, new NullLogService());\n\n\t\tconst firstRoot = URI.file('foo1');\n\t\tconst secondRoot = URI.file('foo2');\n\t\tconst thirdRoot = URI.file('foo3');\n\t\tconst folders: [UriComponents, IConfigurationModel][] = [];\n\t\tfolders.push([firstRoot, new ConfigurationModel({\n\t\t\t'editor': {\n\t\t\t\t'wordWrap': 'off',\n\t\t\t\t'lineNumbers': 'relative'\n\t\t\t}\n\t\t}, ['editor.wordWrap'], [], undefined, new NullLogService())]);\n\t\tfolders.push([secondRoot, new ConfigurationModel({\n\t\t\t'editor': {\n\t\t\t\t'wordWrap': 'on'\n\t\t\t}\n\t\t}, ['editor.wordWrap'], [], undefined, new NullLogService())]);\n\t\tfolders.push([thirdRoot, new ConfigurationModel({}, [], [], undefined, new NullLogService())]);\n\n\t\tconst extHostWorkspace = createExtHostWorkspace();\n\t\textHostWorkspace.$initializeWorkspace({\n\t\t\t'id': 'foo',\n\t\t\t'folders': [aWorkspaceFolder(firstRoot, 0), aWorkspaceFolder(secondRoot, 1)],\n\t\t\t'name': 'foo'\n\t\t}, true);\n\t\tconst testObject = new ExtHostConfigProvider(\n\t\t\tnew class extends mock<MainThreadConfigurationShape>() { },\n\t\t\textHostWorkspace,\n\t\t\t{\n\t\t\t\tdefaults: new ConfigurationModel({\n\t\t\t\t\t'editor': {\n\t\t\t\t\t\t'wordWrap': 'off',\n\t\t\t\t\t\t'lineNumbers': 'on'\n\t\t\t\t\t}\n\t\t\t\t}, ['editor.wordWrap'], [], undefined, new NullLogService()),\n\t\t\t\tpolicy: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\t\tapplication: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\t\tuserLocal: new ConfigurationModel({\n\t\t\t\t\t'editor': {\n\t\t\t\t\t\t'wordWrap': 'on'\n\t\t\t\t\t}\n\t\t\t\t}, ['editor.wordWrap'], [], undefined, new NullLogService()),\n\t\t\t\tuserRemote: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\t\tworkspace,\n\t\t\t\tfolders,\n\t\t\t\tconfigurationScopes: []\n\t\t\t},\n\t\t\tnew NullLogService()\n\t\t);\n\n\t\tlet actual1: ConfigurationInspect<string> = testObject.getConfiguration().inspect('editor.wordWrap')!;\n\t\tassert.strictEqual(actual1.defaultValue, 'off');\n\t\tassert.strictEqual(actual1.globalValue, 'on');\n\t\tassert.strictEqual(actual1.globalLocalValue, 'on');\n\t\tassert.strictEqual(actual1.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual1.workspaceValue, 'bounded');\n\t\tassert.strictEqual(actual1.workspaceFolderValue, undefined);\n\n\t\tactual1 = testObject.getConfiguration('editor').inspect('wordWrap')!;\n\t\tassert.strictEqual(actual1.defaultValue, 'off');\n\t\tassert.strictEqual(actual1.globalValue, 'on');\n\t\tassert.strictEqual(actual1.globalLocalValue, 'on');\n\t\tassert.strictEqual(actual1.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual1.workspaceValue, 'bounded');\n\t\tassert.strictEqual(actual1.workspaceFolderValue, undefined);\n\n\t\tactual1 = testObject.getConfiguration('editor').inspect('lineNumbers')!;\n\t\tassert.strictEqual(actual1.defaultValue, 'on');\n\t\tassert.strictEqual(actual1.globalValue, undefined);\n\t\tassert.strictEqual(actual1.globalLocalValue, undefined);\n\t\tassert.strictEqual(actual1.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual1.workspaceValue, undefined);\n\t\tassert.strictEqual(actual1.workspaceFolderValue, undefined);\n\n\t\tlet actual2: ConfigurationInspect<string> = testObject.getConfiguration(undefined, firstRoot).inspect('editor.wordWrap')!;\n\t\tassert.strictEqual(actual2.defaultValue, 'off');\n\t\tassert.strictEqual(actual2.globalValue, 'on');\n\t\tassert.strictEqual(actual2.globalLocalValue, 'on');\n\t\tassert.strictEqual(actual2.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual2.workspaceValue, 'bounded');\n\t\tassert.strictEqual(actual2.workspaceFolderValue, 'off');\n\n\t\tactual2 = testObject.getConfiguration('editor', firstRoot).inspect('wordWrap')!;\n\t\tassert.strictEqual(actual2.defaultValue, 'off');\n\t\tassert.strictEqual(actual2.globalValue, 'on');\n\t\tassert.strictEqual(actual2.globalLocalValue, 'on');\n\t\tassert.strictEqual(actual2.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual2.workspaceValue, 'bounded');\n\t\tassert.strictEqual(actual2.workspaceFolderValue, 'off');\n\n\t\tactual2 = testObject.getConfiguration('editor', firstRoot).inspect('lineNumbers')!;\n\t\tassert.strictEqual(actual2.defaultValue, 'on');\n\t\tassert.strictEqual(actual2.globalValue, undefined);\n\t\tassert.strictEqual(actual2.globalLocalValue, undefined);\n\t\tassert.strictEqual(actual2.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual2.workspaceValue, undefined);\n\t\tassert.strictEqual(actual2.workspaceFolderValue, 'relative');\n\n\t\tactual2 = testObject.getConfiguration(undefined, secondRoot).inspect('editor.wordWrap')!;\n\t\tassert.strictEqual(actual2.defaultValue, 'off');\n\t\tassert.strictEqual(actual2.globalValue, 'on');\n\t\tassert.strictEqual(actual2.globalLocalValue, 'on');\n\t\tassert.strictEqual(actual2.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual2.workspaceValue, 'bounded');\n\t\tassert.strictEqual(actual2.workspaceFolderValue, 'on');\n\n\t\tactual2 = testObject.getConfiguration('editor', secondRoot).inspect('wordWrap')!;\n\t\tassert.strictEqual(actual2.defaultValue, 'off');\n\t\tassert.strictEqual(actual2.globalValue, 'on');\n\t\tassert.strictEqual(actual2.globalLocalValue, 'on');\n\t\tassert.strictEqual(actual2.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual2.workspaceValue, 'bounded');\n\t\tassert.strictEqual(actual2.workspaceFolderValue, 'on');\n\n\t\tactual2 = testObject.getConfiguration(undefined, thirdRoot).inspect('editor.wordWrap')!;\n\t\tassert.strictEqual(actual2.defaultValue, 'off');\n\t\tassert.strictEqual(actual2.globalValue, 'on');\n\t\tassert.strictEqual(actual2.globalLocalValue, 'on');\n\t\tassert.strictEqual(actual2.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual2.workspaceValue, 'bounded');\n\t\tassert.ok(Object.keys(actual2).indexOf('workspaceFolderValue') !== -1);\n\t\tassert.strictEqual(actual2.workspaceFolderValue, undefined);\n\n\t\tactual2 = testObject.getConfiguration('editor', thirdRoot).inspect('wordWrap')!;\n\t\tassert.strictEqual(actual2.defaultValue, 'off');\n\t\tassert.strictEqual(actual2.globalValue, 'on');\n\t\tassert.strictEqual(actual2.globalLocalValue, 'on');\n\t\tassert.strictEqual(actual2.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual2.workspaceValue, 'bounded');\n\t\tassert.ok(Object.keys(actual2).indexOf('workspaceFolderValue') !== -1);\n\t\tassert.strictEqual(actual2.workspaceFolderValue, undefined);\n\t});\n\n\ttest('inspect with language overrides', function () {\n\t\tconst firstRoot = URI.file('foo1');\n\t\tconst secondRoot = URI.file('foo2');\n\t\tconst folders: [UriComponents, IConfigurationModel][] = [];\n\t\tfolders.push([firstRoot, toConfigurationModel({\n\t\t\t'editor.wordWrap': 'bounded',\n\t\t\t'[typescript]': {\n\t\t\t\t'editor.wordWrap': 'unbounded',\n\t\t\t}\n\t\t})]);\n\t\tfolders.push([secondRoot, toConfigurationModel({})]);\n\n\t\tconst extHostWorkspace = createExtHostWorkspace();\n\t\textHostWorkspace.$initializeWorkspace({\n\t\t\t'id': 'foo',\n\t\t\t'folders': [aWorkspaceFolder(firstRoot, 0), aWorkspaceFolder(secondRoot, 1)],\n\t\t\t'name': 'foo'\n\t\t}, true);\n\t\tconst testObject = new ExtHostConfigProvider(\n\t\t\tnew class extends mock<MainThreadConfigurationShape>() { },\n\t\t\textHostWorkspace,\n\t\t\t{\n\t\t\t\tdefaults: toConfigurationModel({\n\t\t\t\t\t'editor.wordWrap': 'off',\n\t\t\t\t\t'[markdown]': {\n\t\t\t\t\t\t'editor.wordWrap': 'bounded',\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tpolicy: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\t\tapplication: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\t\tuserLocal: toConfigurationModel({\n\t\t\t\t\t'editor.wordWrap': 'bounded',\n\t\t\t\t\t'[typescript]': {\n\t\t\t\t\t\t'editor.lineNumbers': 'off',\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tuserRemote: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\t\tworkspace: toConfigurationModel({\n\t\t\t\t\t'[typescript]': {\n\t\t\t\t\t\t'editor.wordWrap': 'unbounded',\n\t\t\t\t\t\t'editor.lineNumbers': 'off',\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tfolders,\n\t\t\t\tconfigurationScopes: []\n\t\t\t},\n\t\t\tnew NullLogService()\n\t\t);\n\n\t\tlet actual: ConfigurationInspect<string> = testObject.getConfiguration(undefined, { uri: firstRoot, languageId: 'typescript' }).inspect('editor.wordWrap')!;\n\t\tassert.strictEqual(actual.defaultValue, 'off');\n\t\tassert.strictEqual(actual.globalValue, 'bounded');\n\t\tassert.strictEqual(actual.globalLocalValue, 'bounded');\n\t\tassert.strictEqual(actual.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual.workspaceValue, undefined);\n\t\tassert.strictEqual(actual.workspaceFolderValue, 'bounded');\n\t\tassert.strictEqual(actual.defaultLanguageValue, undefined);\n\t\tassert.strictEqual(actual.globalLanguageValue, undefined);\n\t\tassert.strictEqual(actual.workspaceLanguageValue, 'unbounded');\n\t\tassert.strictEqual(actual.workspaceFolderLanguageValue, 'unbounded');\n\t\tassert.deepStrictEqual(actual.languageIds, ['markdown', 'typescript']);\n\n\t\tactual = testObject.getConfiguration(undefined, { uri: secondRoot, languageId: 'typescript' }).inspect('editor.wordWrap')!;\n\t\tassert.strictEqual(actual.defaultValue, 'off');\n\t\tassert.strictEqual(actual.globalValue, 'bounded');\n\t\tassert.strictEqual(actual.globalLocalValue, 'bounded');\n\t\tassert.strictEqual(actual.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual.workspaceValue, undefined);\n\t\tassert.strictEqual(actual.workspaceFolderValue, undefined);\n\t\tassert.strictEqual(actual.defaultLanguageValue, undefined);\n\t\tassert.strictEqual(actual.globalLanguageValue, undefined);\n\t\tassert.strictEqual(actual.workspaceLanguageValue, 'unbounded');\n\t\tassert.strictEqual(actual.workspaceFolderLanguageValue, undefined);\n\t\tassert.deepStrictEqual(actual.languageIds, ['markdown', 'typescript']);\n\t});\n\n\ttest('application is not set in inspect', () => {\n\n\t\tconst testObject = new ExtHostConfigProvider(\n\t\t\tnew class extends mock<MainThreadConfigurationShape>() { },\n\t\t\tcreateExtHostWorkspace(),\n\t\t\t{\n\t\t\t\tdefaults: new ConfigurationModel({\n\t\t\t\t\t'editor': {\n\t\t\t\t\t\t'wordWrap': 'off',\n\t\t\t\t\t\t'lineNumbers': 'on',\n\t\t\t\t\t\t'fontSize': '12px'\n\t\t\t\t\t}\n\t\t\t\t}, ['editor.wordWrap'], [], undefined, new NullLogService()),\n\t\t\t\tpolicy: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\t\tapplication: new ConfigurationModel({\n\t\t\t\t\t'editor': {\n\t\t\t\t\t\t'wordWrap': 'on'\n\t\t\t\t\t}\n\t\t\t\t}, ['editor.wordWrap'], [], undefined, new NullLogService()),\n\t\t\t\tuserLocal: new ConfigurationModel({\n\t\t\t\t\t'editor': {\n\t\t\t\t\t\t'wordWrap': 'auto',\n\t\t\t\t\t\t'lineNumbers': 'off'\n\t\t\t\t\t}\n\t\t\t\t}, ['editor.wordWrap'], [], undefined, new NullLogService()),\n\t\t\t\tuserRemote: ConfigurationModel.createEmptyModel(new NullLogService()),\n\t\t\t\tworkspace: new ConfigurationModel({}, [], [], undefined, new NullLogService()),\n\t\t\t\tfolders: [],\n\t\t\t\tconfigurationScopes: []\n\t\t\t},\n\t\t\tnew NullLogService()\n\t\t);\n\n\t\tlet actual: ConfigurationInspect<string> = testObject.getConfiguration().inspect('editor.wordWrap')!;\n\t\tassert.strictEqual(actual.defaultValue, 'off');\n\t\tassert.strictEqual(actual.globalValue, 'auto');\n\t\tassert.strictEqual(actual.globalLocalValue, 'auto');\n\t\tassert.strictEqual(actual.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual.workspaceValue, undefined);\n\t\tassert.strictEqual(actual.workspaceFolderValue, undefined);\n\t\tassert.strictEqual(testObject.getConfiguration().get('editor.wordWrap'), 'auto');\n\n\t\tactual = testObject.getConfiguration().inspect('editor.lineNumbers')!;\n\t\tassert.strictEqual(actual.defaultValue, 'on');\n\t\tassert.strictEqual(actual.globalValue, 'off');\n\t\tassert.strictEqual(actual.globalLocalValue, 'off');\n\t\tassert.strictEqual(actual.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual.workspaceValue, undefined);\n\t\tassert.strictEqual(actual.workspaceFolderValue, undefined);\n\t\tassert.strictEqual(testObject.getConfiguration().get('editor.lineNumbers'), 'off');\n\n\t\tactual = testObject.getConfiguration().inspect('editor.fontSize')!;\n\t\tassert.strictEqual(actual.defaultValue, '12px');\n\t\tassert.strictEqual(actual.globalLocalValue, undefined);\n\t\tassert.strictEqual(actual.globalRemoteValue, undefined);\n\t\tassert.strictEqual(actual.globalValue, undefined);\n\t\tassert.strictEqual(actual.workspaceValue, undefined);\n\t\tassert.strictEqual(actual.workspaceFolderValue, undefined);\n\t\tassert.strictEqual(testObject.getConfiguration().get('editor.fontSize'), '12px');\n\t});\n\n\ttest('getConfiguration vs get', function () {\n\n\t\tconst all = createExtHostConfiguration({\n\t\t\t'farboo': {\n\t\t\t\t'config0': true,\n\t\t\t\t'config4': 38\n\t\t\t}\n\t\t});\n\n\t\tlet config = all.getConfiguration('farboo.config0');\n\t\tassert.strictEqual(config.get(''), undefined);\n\t\tassert.strictEqual(config.has(''), false);\n\n\t\tconfig = all.getConfiguration('farboo');\n\t\tassert.strictEqual(config.get('config0'), true);\n\t\tassert.strictEqual(config.has('config0'), true);\n\t});\n\n\ttest('name vs property', function () {\n\t\tconst all = createExtHostConfiguration({\n\t\t\t'farboo': {\n\t\t\t\t'get': 'get-prop'\n\t\t\t}\n\t\t});\n\t\tconst config = all.getConfiguration('farboo');\n\n\t\tassert.ok(config.has('get'));\n\t\tassert.strictEqual(config.get('get'), 'get-prop');\n\t\tassert.deepStrictEqual(config['get'], config.get);\n\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\tassert.throws(() => config['get'] = <any>'get-prop');\n\t});\n\n\ttest('update: no target passes null', function () {\n\t\tconst shape = new RecordingShape();\n\t\tconst allConfig = createExtHostConfiguration({\n\t\t\t'foo': {\n\t\t\t\t'bar': 1,\n\t\t\t\t'far': 1\n\t\t\t}\n\t\t}, shape);\n\n\t\tconst config = allConfig.getConfiguration('foo');\n\t\tconfig.update('bar', 42);\n\n\t\tassert.strictEqual(shape.lastArgs[0], null);\n\t});\n\n\ttest('update/section to key', function () {\n\n\t\tconst shape = new RecordingShape();\n\t\tconst allConfig = createExtHostConfiguration({\n\t\t\t'foo': {\n\t\t\t\t'bar': 1,\n\t\t\t\t'far': 1\n\t\t\t}\n\t\t}, shape);\n\n\t\tlet config = allConfig.getConfiguration('foo');\n\t\tconfig.update('bar', 42, true);\n\n\t\tassert.strictEqual(shape.lastArgs[0], ConfigurationTarget.USER);\n\t\tassert.strictEqual(shape.lastArgs[1], 'foo.bar');\n\t\tassert.strictEqual(shape.lastArgs[2], 42);\n\n\t\tconfig = allConfig.getConfiguration('');\n\t\tconfig.update('bar', 42, true);\n\t\tassert.strictEqual(shape.lastArgs[1], 'bar');\n\n\t\tconfig.update('foo.bar', 42, true);\n\t\tassert.strictEqual(shape.lastArgs[1], 'foo.bar');\n\t});\n\n\ttest('update, what is #15834', function () {\n\t\tconst shape = new RecordingShape();\n\t\tconst allConfig = createExtHostConfiguration({\n\t\t\t'editor': {\n\t\t\t\t'formatOnSave': true\n\t\t\t}\n\t\t}, shape);\n\n\t\tallConfig.getConfiguration('editor').update('formatOnSave', { extensions: ['ts'] });\n\t\tassert.strictEqual(shape.lastArgs[1], 'editor.formatOnSave');\n\t\tassert.deepStrictEqual(shape.lastArgs[2], { extensions: ['ts'] });\n\t});\n\n\ttest('update/error-state not OK', function () {\n\n\t\tconst shape = new class extends mock<MainThreadConfigurationShape>() {\n\t\t\toverride $updateConfigurationOption(target: ConfigurationTarget, key: string, value: any): Promise<any> {\n\t\t\t\treturn Promise.reject(new Error('Unknown Key')); // something !== OK\n\t\t\t}\n\t\t};\n\n\t\treturn createExtHostConfiguration({}, shape)\n\t\t\t.getConfiguration('')\n\t\t\t.update('', true, false)\n\t\t\t.then(() => assert.ok(false), err => { /* expecting rejection */ });\n\t});\n\n\ttest('configuration change event', (done) => {\n\n\t\tconst workspaceFolder = aWorkspaceFolder(URI.file('folder1'), 0);\n\t\tconst extHostWorkspace = createExtHostWorkspace();\n\t\textHostWorkspace.$initializeWorkspace({\n\t\t\t'id': 'foo',\n\t\t\t'folders': [workspaceFolder],\n\t\t\t'name': 'foo'\n\t\t}, true);\n\t\tconst testObject = new ExtHostConfigProvider(\n\t\t\tnew class extends mock<MainThreadConfigurationShape>() { },\n\t\t\textHostWorkspace,\n\t\t\tcreateConfigurationData({\n\t\t\t\t'farboo': {\n\t\t\t\t\t'config': false,\n\t\t\t\t\t'updatedConfig': false\n\t\t\t\t}\n\t\t\t}),\n\t\t\tnew NullLogService()\n\t\t);\n\n\t\tconst newConfigData = createConfigurationData({\n\t\t\t'farboo': {\n\t\t\t\t'config': false,\n\t\t\t\t'updatedConfig': true,\n\t\t\t\t'newConfig': true,\n\t\t\t}\n\t\t});\n\t\tconst configEventData: IConfigurationChange = { keys: ['farboo.updatedConfig', 'farboo.newConfig'], overrides: [] };\n\t\tstore.add(testObject.onDidChangeConfiguration(e => {\n\n\t\t\tassert.deepStrictEqual(testObject.getConfiguration().get('farboo'), {\n\t\t\t\t'config': false,\n\t\t\t\t'updatedConfig': true,\n\t\t\t\t'newConfig': true,\n\t\t\t});\n\n\t\t\tassert.ok(e.affectsConfiguration('farboo'));\n\t\t\tassert.ok(e.affectsConfiguration('farboo', workspaceFolder.uri));\n\t\t\tassert.ok(e.affectsConfiguration('farboo', URI.file('any')));\n\n\t\t\tassert.ok(e.affectsConfiguration('farboo.updatedConfig'));\n\t\t\tassert.ok(e.affectsConfiguration('farboo.updatedConfig', workspaceFolder.uri));\n\t\t\tassert.ok(e.affectsConfiguration('farboo.updatedConfig', URI.file('any')));\n\n\t\t\tassert.ok(e.affectsConfiguration('farboo.newConfig'));\n\t\t\tassert.ok(e.affectsConfiguration('farboo.newConfig', workspaceFolder.uri));\n\t\t\tassert.ok(e.affectsConfiguration('farboo.newConfig', URI.file('any')));\n\n\t\t\tassert.ok(!e.affectsConfiguration('farboo.config'));\n\t\t\tassert.ok(!e.affectsConfiguration('farboo.config', workspaceFolder.uri));\n\t\t\tassert.ok(!e.affectsConfiguration('farboo.config', URI.file('any')));\n\t\t\tdone();\n\t\t}));\n\n\t\ttestObject.$acceptConfigurationChanged(newConfigData, configEventData);\n\t});\n\n\ttest('get return instance of array value', function () {\n\t\tconst testObject = createExtHostConfiguration({ 'far': { 'boo': [] } });\n\n\t\tconst value: string[] = testObject.getConfiguration().get('far.boo', []);\n\t\tvalue.push('a');\n\n\t\tconst actual = testObject.getConfiguration().get('far.boo', []);\n\t\tassert.deepStrictEqual(actual, []);\n\t});\n\n\tfunction aWorkspaceFolder(uri: URI, index: number, name: string = ''): IWorkspaceFolder {\n\t\treturn new WorkspaceFolder({ uri, name, index });\n\t}\n\n\tfunction toConfigurationModel(obj: any): ConfigurationModel {\n\t\tconst parser = new ConfigurationModelParser('test', new NullLogService());\n\t\tparser.parse(JSON.stringify(obj));\n\t\treturn parser.configurationModel;\n\t}\n\n});\n"]}