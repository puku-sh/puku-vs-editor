{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/browser/composite.ts","vs/workbench/browser/composite.ts"],"names":[],"mappings":"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","file":"composite.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IAction, IActionRunner, ActionRunner } from '../../base/common/actions.js';\nimport { Component } from '../common/component.js';\nimport { ITelemetryService } from '../../platform/telemetry/common/telemetry.js';\nimport { IComposite, ICompositeControl } from '../common/composite.js';\nimport { Event, Emitter } from '../../base/common/event.js';\nimport { IThemeService } from '../../platform/theme/common/themeService.js';\nimport { IConstructorSignature, IInstantiationService } from '../../platform/instantiation/common/instantiation.js';\nimport { trackFocus, Dimension, IDomPosition } from '../../base/browser/dom.js';\nimport { IStorageService } from '../../platform/storage/common/storage.js';\nimport { Disposable } from '../../base/common/lifecycle.js';\nimport { assertReturnsDefined } from '../../base/common/types.js';\nimport { IActionViewItem } from '../../base/browser/ui/actionbar/actionbar.js';\nimport { MenuId } from '../../platform/actions/common/actions.js';\nimport { IBoundarySashes } from '../../base/browser/ui/sash/sash.js';\nimport { IBaseActionViewItemOptions } from '../../base/browser/ui/actionbar/actionViewItems.js';\n\n/**\n * Composites are layed out in the sidebar and panel part of the workbench. At a time only one composite\n * can be open in the sidebar, and only one composite can be open in the panel.\n *\n * Each composite has a minimized representation that is good enough to provide some\n * information about the state of the composite data.\n *\n * The workbench will keep a composite alive after it has been created and show/hide it based on\n * user interaction. The lifecycle of a composite goes in the order create(), setVisible(true|false),\n * layout(), focus(), dispose(). During use of the workbench, a composite will often receive a setVisible,\n * layout and focus call, but only one create and dispose call.\n */\nexport abstract class Composite<MementoType extends object = object> extends Component<MementoType> implements IComposite {\n\n\tprivate readonly _onTitleAreaUpdate = this._register(new Emitter<void>());\n\treadonly onTitleAreaUpdate = this._onTitleAreaUpdate.event;\n\n\tprotected _onDidFocus: Emitter<void> | undefined;\n\tget onDidFocus(): Event<void> {\n\t\tif (!this._onDidFocus) {\n\t\t\tthis._onDidFocus = this.registerFocusTrackEvents().onDidFocus;\n\t\t}\n\n\t\treturn this._onDidFocus.event;\n\t}\n\n\tprivate _onDidBlur: Emitter<void> | undefined;\n\tget onDidBlur(): Event<void> {\n\t\tif (!this._onDidBlur) {\n\t\t\tthis._onDidBlur = this.registerFocusTrackEvents().onDidBlur;\n\t\t}\n\n\t\treturn this._onDidBlur.event;\n\t}\n\n\tprivate _hasFocus = false;\n\thasFocus(): boolean {\n\t\treturn this._hasFocus;\n\t}\n\n\tprivate registerFocusTrackEvents(): { onDidFocus: Emitter<void>; onDidBlur: Emitter<void> } {\n\t\tconst container = assertReturnsDefined(this.getContainer());\n\t\tconst focusTracker = this._register(trackFocus(container));\n\n\t\tconst onDidFocus = this._onDidFocus = this._register(new Emitter<void>());\n\t\tthis._register(focusTracker.onDidFocus(() => {\n\t\t\tthis._hasFocus = true;\n\n\t\t\tonDidFocus.fire();\n\t\t}));\n\n\t\tconst onDidBlur = this._onDidBlur = this._register(new Emitter<void>());\n\t\tthis._register(focusTracker.onDidBlur(() => {\n\t\t\tthis._hasFocus = false;\n\n\t\t\tonDidBlur.fire();\n\t\t}));\n\n\t\treturn { onDidFocus, onDidBlur };\n\t}\n\n\tprotected actionRunner: IActionRunner | undefined;\n\n\tprivate visible = false;\n\tprivate parent: HTMLElement | undefined;\n\n\tconstructor(\n\t\tid: string,\n\t\tprotected readonly telemetryService: ITelemetryService,\n\t\tthemeService: IThemeService,\n\t\tstorageService: IStorageService\n\t) {\n\t\tsuper(id, themeService, storageService);\n\t}\n\n\tgetTitle(): string | undefined {\n\t\treturn undefined;\n\t}\n\n\t/**\n\t * Note: Clients should not call this method, the workbench calls this\n\t * method. Calling it otherwise may result in unexpected behavior.\n\t *\n\t * Called to create this composite on the provided parent. This method is only\n\t * called once during the lifetime of the workbench.\n\t * Note that DOM-dependent calculations should be performed from the setVisible()\n\t * call. Only then the composite will be part of the DOM.\n\t */\n\tcreate(parent: HTMLElement): void {\n\t\tthis.parent = parent;\n\t}\n\n\t/**\n\t * Returns the container this composite is being build in.\n\t */\n\tgetContainer(): HTMLElement | undefined {\n\t\treturn this.parent;\n\t}\n\n\t/**\n\t * Note: Clients should not call this method, the workbench calls this\n\t * method. Calling it otherwise may result in unexpected behavior.\n\t *\n\t * Called to indicate that the composite has become visible or hidden. This method\n\t * is called more than once during workbench lifecycle depending on the user interaction.\n\t * The composite will be on-DOM if visible is set to true and off-DOM otherwise.\n\t *\n\t * Typically this operation should be fast though because setVisible might be called many times during a session.\n\t * If there is a long running operation it is fine to have it running in the background asyncly and return before.\n\t */\n\tsetVisible(visible: boolean): void {\n\t\tif (this.visible !== !!visible) {\n\t\t\tthis.visible = visible;\n\t\t}\n\t}\n\n\t/**\n\t * Called when this composite should receive keyboard focus.\n\t */\n\tfocus(): void {\n\t\t// Subclasses can implement\n\t}\n\n\t/**\n\t * Layout the contents of this composite using the provided dimensions.\n\t */\n\tabstract layout(dimension: Dimension, position?: IDomPosition): void;\n\n\t/**\n\t * Set boundary sashes for this composite. These are used to create\n\t * draggable corner areas with inner sashes.\n\t */\n\tabstract setBoundarySashes(sashes: IBoundarySashes): void;\n\n\t/**\n\t *\n\t * @returns the action runner for this composite\n\t */\n\tgetMenuIds(): readonly MenuId[] {\n\t\treturn [];\n\t}\n\n\t/**\n\t * Returns an array of actions to show in the action bar of the composite.\n\t */\n\tgetActions(): readonly IAction[] {\n\t\treturn [];\n\t}\n\n\t/**\n\t * Returns an array of actions to show in the action bar of the composite\n\t * in a less prominent way then action from getActions.\n\t */\n\tgetSecondaryActions(): readonly IAction[] {\n\t\treturn [];\n\t}\n\n\t/**\n\t * Returns an array of actions to show in the context menu of the composite\n\t */\n\tgetContextMenuActions(): readonly IAction[] {\n\t\treturn [];\n\t}\n\n\t/**\n\t * For any of the actions returned by this composite, provide an IActionViewItem in\n\t * cases where the implementor of the composite wants to override the presentation\n\t * of an action. Returns undefined to indicate that the action is not rendered through\n\t * an action item.\n\t */\n\tgetActionViewItem(action: IAction, options: IBaseActionViewItemOptions): IActionViewItem | undefined {\n\t\treturn undefined;\n\t}\n\n\t/**\n\t * Provide a context to be passed to the toolbar.\n\t */\n\tgetActionsContext(): unknown {\n\t\treturn null;\n\t}\n\n\t/**\n\t * Returns the instance of IActionRunner to use with this composite for the\n\t * composite tool bar.\n\t */\n\tgetActionRunner(): IActionRunner {\n\t\tif (!this.actionRunner) {\n\t\t\tthis.actionRunner = this._register(new ActionRunner());\n\t\t}\n\n\t\treturn this.actionRunner;\n\t}\n\n\t/**\n\t * Method for composite implementors to indicate to the composite container that the title or the actions\n\t * of the composite have changed. Calling this method will cause the container to ask for title (getTitle())\n\t * and actions (getActions(), getSecondaryActions()) if the composite is visible or the next time the composite\n\t * gets visible.\n\t */\n\tprotected updateTitleArea(): void {\n\t\tthis._onTitleAreaUpdate.fire();\n\t}\n\n\t/**\n\t * Returns true if this composite is currently visible and false otherwise.\n\t */\n\tisVisible(): boolean {\n\t\treturn this.visible;\n\t}\n\n\t/**\n\t * Returns the underlying composite control or `undefined` if it is not accessible.\n\t */\n\tgetControl(): ICompositeControl | undefined {\n\t\treturn undefined;\n\t}\n}\n\n/**\n * A composite descriptor is a lightweight descriptor of a composite in the workbench.\n */\nexport abstract class CompositeDescriptor<T extends Composite> {\n\n\tconstructor(\n\t\tprivate readonly ctor: IConstructorSignature<T>,\n\t\treadonly id: string,\n\t\treadonly name: string,\n\t\treadonly cssClass?: string,\n\t\treadonly order?: number,\n\t\treadonly requestedIndex?: number,\n\t) { }\n\n\tinstantiate(instantiationService: IInstantiationService): T {\n\t\treturn instantiationService.createInstance(this.ctor);\n\t}\n}\n\nexport abstract class CompositeRegistry<T extends Composite> extends Disposable {\n\n\tprivate readonly _onDidRegister = this._register(new Emitter<CompositeDescriptor<T>>());\n\treadonly onDidRegister = this._onDidRegister.event;\n\n\tprivate readonly _onDidDeregister = this._register(new Emitter<CompositeDescriptor<T>>());\n\treadonly onDidDeregister = this._onDidDeregister.event;\n\n\tprivate readonly composites: CompositeDescriptor<T>[] = [];\n\n\tprotected registerComposite(descriptor: CompositeDescriptor<T>): void {\n\t\tif (this.compositeById(descriptor.id)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.composites.push(descriptor);\n\t\tthis._onDidRegister.fire(descriptor);\n\t}\n\n\tprotected deregisterComposite(id: string): void {\n\t\tconst descriptor = this.compositeById(id);\n\t\tif (!descriptor) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.composites.splice(this.composites.indexOf(descriptor), 1);\n\t\tthis._onDidDeregister.fire(descriptor);\n\t}\n\n\tgetComposite(id: string): CompositeDescriptor<T> | undefined {\n\t\treturn this.compositeById(id);\n\t}\n\n\tprotected getComposites(): CompositeDescriptor<T>[] {\n\t\treturn this.composites.slice(0);\n\t}\n\n\tprivate compositeById(id: string): CompositeDescriptor<T> | undefined {\n\t\treturn this.composites.find(composite => composite.id === id);\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IAction, IActionRunner, ActionRunner } from '../../base/common/actions.js';\nimport { Component } from '../common/component.js';\nimport { ITelemetryService } from '../../platform/telemetry/common/telemetry.js';\nimport { IComposite, ICompositeControl } from '../common/composite.js';\nimport { Event, Emitter } from '../../base/common/event.js';\nimport { IThemeService } from '../../platform/theme/common/themeService.js';\nimport { IConstructorSignature, IInstantiationService } from '../../platform/instantiation/common/instantiation.js';\nimport { trackFocus, Dimension, IDomPosition } from '../../base/browser/dom.js';\nimport { IStorageService } from '../../platform/storage/common/storage.js';\nimport { Disposable } from '../../base/common/lifecycle.js';\nimport { assertReturnsDefined } from '../../base/common/types.js';\nimport { IActionViewItem } from '../../base/browser/ui/actionbar/actionbar.js';\nimport { MenuId } from '../../platform/actions/common/actions.js';\nimport { IBoundarySashes } from '../../base/browser/ui/sash/sash.js';\nimport { IBaseActionViewItemOptions } from '../../base/browser/ui/actionbar/actionViewItems.js';\n\n/**\n * Composites are layed out in the sidebar and panel part of the workbench. At a time only one composite\n * can be open in the sidebar, and only one composite can be open in the panel.\n *\n * Each composite has a minimized representation that is good enough to provide some\n * information about the state of the composite data.\n *\n * The workbench will keep a composite alive after it has been created and show/hide it based on\n * user interaction. The lifecycle of a composite goes in the order create(), setVisible(true|false),\n * layout(), focus(), dispose(). During use of the workbench, a composite will often receive a setVisible,\n * layout and focus call, but only one create and dispose call.\n */\nexport abstract class Composite<MementoType extends object = object> extends Component<MementoType> implements IComposite {\n\n\tprivate readonly _onTitleAreaUpdate = this._register(new Emitter<void>());\n\treadonly onTitleAreaUpdate = this._onTitleAreaUpdate.event;\n\n\tprotected _onDidFocus: Emitter<void> | undefined;\n\tget onDidFocus(): Event<void> {\n\t\tif (!this._onDidFocus) {\n\t\t\tthis._onDidFocus = this.registerFocusTrackEvents().onDidFocus;\n\t\t}\n\n\t\treturn this._onDidFocus.event;\n\t}\n\n\tprivate _onDidBlur: Emitter<void> | undefined;\n\tget onDidBlur(): Event<void> {\n\t\tif (!this._onDidBlur) {\n\t\t\tthis._onDidBlur = this.registerFocusTrackEvents().onDidBlur;\n\t\t}\n\n\t\treturn this._onDidBlur.event;\n\t}\n\n\tprivate _hasFocus = false;\n\thasFocus(): boolean {\n\t\treturn this._hasFocus;\n\t}\n\n\tprivate registerFocusTrackEvents(): { onDidFocus: Emitter<void>; onDidBlur: Emitter<void> } {\n\t\tconst container = assertReturnsDefined(this.getContainer());\n\t\tconst focusTracker = this._register(trackFocus(container));\n\n\t\tconst onDidFocus = this._onDidFocus = this._register(new Emitter<void>());\n\t\tthis._register(focusTracker.onDidFocus(() => {\n\t\t\tthis._hasFocus = true;\n\n\t\t\tonDidFocus.fire();\n\t\t}));\n\n\t\tconst onDidBlur = this._onDidBlur = this._register(new Emitter<void>());\n\t\tthis._register(focusTracker.onDidBlur(() => {\n\t\t\tthis._hasFocus = false;\n\n\t\t\tonDidBlur.fire();\n\t\t}));\n\n\t\treturn { onDidFocus, onDidBlur };\n\t}\n\n\tprotected actionRunner: IActionRunner | undefined;\n\n\tprivate visible = false;\n\tprivate parent: HTMLElement | undefined;\n\n\tconstructor(\n\t\tid: string,\n\t\tprotected readonly telemetryService: ITelemetryService,\n\t\tthemeService: IThemeService,\n\t\tstorageService: IStorageService\n\t) {\n\t\tsuper(id, themeService, storageService);\n\t}\n\n\tgetTitle(): string | undefined {\n\t\treturn undefined;\n\t}\n\n\t/**\n\t * Note: Clients should not call this method, the workbench calls this\n\t * method. Calling it otherwise may result in unexpected behavior.\n\t *\n\t * Called to create this composite on the provided parent. This method is only\n\t * called once during the lifetime of the workbench.\n\t * Note that DOM-dependent calculations should be performed from the setVisible()\n\t * call. Only then the composite will be part of the DOM.\n\t */\n\tcreate(parent: HTMLElement): void {\n\t\tthis.parent = parent;\n\t}\n\n\t/**\n\t * Returns the container this composite is being build in.\n\t */\n\tgetContainer(): HTMLElement | undefined {\n\t\treturn this.parent;\n\t}\n\n\t/**\n\t * Note: Clients should not call this method, the workbench calls this\n\t * method. Calling it otherwise may result in unexpected behavior.\n\t *\n\t * Called to indicate that the composite has become visible or hidden. This method\n\t * is called more than once during workbench lifecycle depending on the user interaction.\n\t * The composite will be on-DOM if visible is set to true and off-DOM otherwise.\n\t *\n\t * Typically this operation should be fast though because setVisible might be called many times during a session.\n\t * If there is a long running operation it is fine to have it running in the background asyncly and return before.\n\t */\n\tsetVisible(visible: boolean): void {\n\t\tif (this.visible !== !!visible) {\n\t\t\tthis.visible = visible;\n\t\t}\n\t}\n\n\t/**\n\t * Called when this composite should receive keyboard focus.\n\t */\n\tfocus(): void {\n\t\t// Subclasses can implement\n\t}\n\n\t/**\n\t * Layout the contents of this composite using the provided dimensions.\n\t */\n\tabstract layout(dimension: Dimension, position?: IDomPosition): void;\n\n\t/**\n\t * Set boundary sashes for this composite. These are used to create\n\t * draggable corner areas with inner sashes.\n\t */\n\tabstract setBoundarySashes(sashes: IBoundarySashes): void;\n\n\t/**\n\t *\n\t * @returns the action runner for this composite\n\t */\n\tgetMenuIds(): readonly MenuId[] {\n\t\treturn [];\n\t}\n\n\t/**\n\t * Returns an array of actions to show in the action bar of the composite.\n\t */\n\tgetActions(): readonly IAction[] {\n\t\treturn [];\n\t}\n\n\t/**\n\t * Returns an array of actions to show in the action bar of the composite\n\t * in a less prominent way then action from getActions.\n\t */\n\tgetSecondaryActions(): readonly IAction[] {\n\t\treturn [];\n\t}\n\n\t/**\n\t * Returns an array of actions to show in the context menu of the composite\n\t */\n\tgetContextMenuActions(): readonly IAction[] {\n\t\treturn [];\n\t}\n\n\t/**\n\t * For any of the actions returned by this composite, provide an IActionViewItem in\n\t * cases where the implementor of the composite wants to override the presentation\n\t * of an action. Returns undefined to indicate that the action is not rendered through\n\t * an action item.\n\t */\n\tgetActionViewItem(action: IAction, options: IBaseActionViewItemOptions): IActionViewItem | undefined {\n\t\treturn undefined;\n\t}\n\n\t/**\n\t * Provide a context to be passed to the toolbar.\n\t */\n\tgetActionsContext(): unknown {\n\t\treturn null;\n\t}\n\n\t/**\n\t * Returns the instance of IActionRunner to use with this composite for the\n\t * composite tool bar.\n\t */\n\tgetActionRunner(): IActionRunner {\n\t\tif (!this.actionRunner) {\n\t\t\tthis.actionRunner = this._register(new ActionRunner());\n\t\t}\n\n\t\treturn this.actionRunner;\n\t}\n\n\t/**\n\t * Method for composite implementors to indicate to the composite container that the title or the actions\n\t * of the composite have changed. Calling this method will cause the container to ask for title (getTitle())\n\t * and actions (getActions(), getSecondaryActions()) if the composite is visible or the next time the composite\n\t * gets visible.\n\t */\n\tprotected updateTitleArea(): void {\n\t\tthis._onTitleAreaUpdate.fire();\n\t}\n\n\t/**\n\t * Returns true if this composite is currently visible and false otherwise.\n\t */\n\tisVisible(): boolean {\n\t\treturn this.visible;\n\t}\n\n\t/**\n\t * Returns the underlying composite control or `undefined` if it is not accessible.\n\t */\n\tgetControl(): ICompositeControl | undefined {\n\t\treturn undefined;\n\t}\n}\n\n/**\n * A composite descriptor is a lightweight descriptor of a composite in the workbench.\n */\nexport abstract class CompositeDescriptor<T extends Composite> {\n\n\tconstructor(\n\t\tprivate readonly ctor: IConstructorSignature<T>,\n\t\treadonly id: string,\n\t\treadonly name: string,\n\t\treadonly cssClass?: string,\n\t\treadonly order?: number,\n\t\treadonly requestedIndex?: number,\n\t) { }\n\n\tinstantiate(instantiationService: IInstantiationService): T {\n\t\treturn instantiationService.createInstance(this.ctor);\n\t}\n}\n\nexport abstract class CompositeRegistry<T extends Composite> extends Disposable {\n\n\tprivate readonly _onDidRegister = this._register(new Emitter<CompositeDescriptor<T>>());\n\treadonly onDidRegister = this._onDidRegister.event;\n\n\tprivate readonly _onDidDeregister = this._register(new Emitter<CompositeDescriptor<T>>());\n\treadonly onDidDeregister = this._onDidDeregister.event;\n\n\tprivate readonly composites: CompositeDescriptor<T>[] = [];\n\n\tprotected registerComposite(descriptor: CompositeDescriptor<T>): void {\n\t\tif (this.compositeById(descriptor.id)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.composites.push(descriptor);\n\t\tthis._onDidRegister.fire(descriptor);\n\t}\n\n\tprotected deregisterComposite(id: string): void {\n\t\tconst descriptor = this.compositeById(id);\n\t\tif (!descriptor) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.composites.splice(this.composites.indexOf(descriptor), 1);\n\t\tthis._onDidDeregister.fire(descriptor);\n\t}\n\n\tgetComposite(id: string): CompositeDescriptor<T> | undefined {\n\t\treturn this.compositeById(id);\n\t}\n\n\tprotected getComposites(): CompositeDescriptor<T>[] {\n\t\treturn this.composites.slice(0);\n\t}\n\n\tprivate compositeById(id: string): CompositeDescriptor<T> | undefined {\n\t\treturn this.composites.find(composite => composite.id === id);\n\t}\n}\n"]}