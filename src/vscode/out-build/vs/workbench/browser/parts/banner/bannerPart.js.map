{"version":3,"sources":["vs/workbench/browser/parts/banner/bannerPart.ts"],"names":[],"mappings":"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","file":"bannerPart.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport './media/bannerpart.css';\nimport { localize, localize2 } from '../../../../nls.js';\nimport { $, addDisposableListener, append, clearNode, EventType, isHTMLElement } from '../../../../base/browser/dom.js';\nimport { asCSSUrl } from '../../../../base/browser/cssValue.js';\nimport { ActionBar } from '../../../../base/browser/ui/actionbar/actionbar.js';\nimport { InstantiationType, registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IStorageService } from '../../../../platform/storage/common/storage.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { Part } from '../../part.js';\nimport { IWorkbenchLayoutService, Parts } from '../../../services/layout/browser/layoutService.js';\nimport { Action } from '../../../../base/common/actions.js';\nimport { Link } from '../../../../platform/opener/browser/link.js';\nimport { MarkdownString } from '../../../../base/common/htmlContent.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { IBannerItem, IBannerService } from '../../../services/banner/browser/bannerService.js';\nimport { IMarkdownRendererService } from '../../../../platform/markdown/browser/markdownRenderer.js';\nimport { Action2, registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { Categories } from '../../../../platform/action/common/actionCommonCategories.js';\nimport { KeybindingsRegistry, KeybindingWeight } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { KeyCode } from '../../../../base/common/keyCodes.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { widgetClose } from '../../../../platform/theme/common/iconRegistry.js';\nimport { BannerFocused } from '../../../common/contextkeys.js';\n\n// Banner Part\n\nexport class BannerPart extends Part implements IBannerService {\n\n\tdeclare readonly _serviceBrand: undefined;\n\n\t// #region IView\n\n\treadonly height: number = 26;\n\treadonly minimumWidth: number = 0;\n\treadonly maximumWidth: number = Number.POSITIVE_INFINITY;\n\n\tget minimumHeight(): number {\n\t\treturn this.visible ? this.height : 0;\n\t}\n\n\tget maximumHeight(): number {\n\t\treturn this.visible ? this.height : 0;\n\t}\n\n\tprivate _onDidChangeSize = this._register(new Emitter<{ width: number; height: number } | undefined>());\n\toverride get onDidChange() { return this._onDidChangeSize.event; }\n\n\t//#endregion\n\n\tprivate item: IBannerItem | undefined;\n\tprivate visible = false;\n\n\tprivate actionBar: ActionBar | undefined;\n\tprivate messageActionsContainer: HTMLElement | undefined;\n\tprivate focusedActionIndex: number = -1;\n\n\tconstructor(\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IWorkbenchLayoutService layoutService: IWorkbenchLayoutService,\n\t\t@IStorageService storageService: IStorageService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IMarkdownRendererService private readonly markdownRendererService: IMarkdownRendererService,\n\t) {\n\t\tsuper(Parts.BANNER_PART, { hasTitle: false }, themeService, storageService, layoutService);\n\t}\n\n\tprotected override createContentArea(parent: HTMLElement): HTMLElement {\n\t\tthis.element = parent;\n\t\tthis.element.tabIndex = 0;\n\n\t\t// Restore focused action if needed\n\t\tthis._register(addDisposableListener(this.element, EventType.FOCUS, () => {\n\t\t\tif (this.focusedActionIndex !== -1) {\n\t\t\t\tthis.focusActionLink();\n\t\t\t}\n\t\t}));\n\n\t\t// Track focus\n\t\tconst scopedContextKeyService = this._register(this.contextKeyService.createScoped(this.element));\n\t\tBannerFocused.bindTo(scopedContextKeyService).set(true);\n\n\t\treturn this.element;\n\t}\n\n\tprivate close(item: IBannerItem): void {\n\t\t// Hide banner\n\t\tthis.setVisibility(false);\n\n\t\t// Remove from document\n\t\tclearNode(this.element);\n\n\t\t// Remember choice\n\t\tif (typeof item.onClose === 'function') {\n\t\t\titem.onClose();\n\t\t}\n\n\t\tthis.item = undefined;\n\t}\n\n\tprivate focusActionLink(): void {\n\t\tconst length = this.item?.actions?.length ?? 0;\n\n\t\tif (this.focusedActionIndex < length) {\n\t\t\tconst actionLink = this.messageActionsContainer?.children[this.focusedActionIndex];\n\t\t\tif (isHTMLElement(actionLink)) {\n\t\t\t\tthis.actionBar?.setFocusable(false);\n\t\t\t\tactionLink.focus();\n\t\t\t}\n\t\t} else {\n\t\t\tthis.actionBar?.focus(0);\n\t\t}\n\t}\n\n\tprivate getAriaLabel(item: IBannerItem): string | undefined {\n\t\tif (item.ariaLabel) {\n\t\t\treturn item.ariaLabel;\n\t\t}\n\t\tif (typeof item.message === 'string') {\n\t\t\treturn item.message;\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tprivate getBannerMessage(message: MarkdownString | string): HTMLElement {\n\t\tif (typeof message === 'string') {\n\t\t\tconst element = $('span');\n\t\t\telement.textContent = message;\n\t\t\treturn element;\n\t\t}\n\n\t\treturn this.markdownRendererService.render(message).element;\n\t}\n\n\tprivate setVisibility(visible: boolean): void {\n\t\tif (visible !== this.visible) {\n\t\t\tthis.visible = visible;\n\t\t\tthis.focusedActionIndex = -1;\n\n\t\t\tthis.layoutService.setPartHidden(!visible, Parts.BANNER_PART);\n\t\t\tthis._onDidChangeSize.fire(undefined);\n\t\t}\n\t}\n\n\tfocus(): void {\n\t\tthis.focusedActionIndex = -1;\n\t\tthis.element.focus();\n\t}\n\n\tfocusNextAction(): void {\n\t\tconst length = this.item?.actions?.length ?? 0;\n\t\tthis.focusedActionIndex = this.focusedActionIndex < length ? this.focusedActionIndex + 1 : 0;\n\n\t\tthis.focusActionLink();\n\t}\n\n\tfocusPreviousAction(): void {\n\t\tconst length = this.item?.actions?.length ?? 0;\n\t\tthis.focusedActionIndex = this.focusedActionIndex > 0 ? this.focusedActionIndex - 1 : length;\n\n\t\tthis.focusActionLink();\n\t}\n\n\thide(id: string): void {\n\t\tif (this.item?.id !== id) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setVisibility(false);\n\t}\n\n\tshow(item: IBannerItem): void {\n\t\tif (item.id === this.item?.id) {\n\t\t\tthis.setVisibility(true);\n\t\t\treturn;\n\t\t}\n\n\t\t// Clear previous item\n\t\tclearNode(this.element);\n\n\t\t// Banner aria label\n\t\tconst ariaLabel = this.getAriaLabel(item);\n\t\tif (ariaLabel) {\n\t\t\tthis.element.setAttribute('aria-label', ariaLabel);\n\t\t}\n\n\t\t// Icon\n\t\tconst iconContainer = append(this.element, $('div.icon-container'));\n\t\ticonContainer.setAttribute('aria-hidden', 'true');\n\n\t\tif (ThemeIcon.isThemeIcon(item.icon)) {\n\t\t\ticonContainer.appendChild($(`div${ThemeIcon.asCSSSelector(item.icon)}`));\n\t\t} else {\n\t\t\ticonContainer.classList.add('custom-icon');\n\n\t\t\tif (URI.isUri(item.icon)) {\n\t\t\t\ticonContainer.style.backgroundImage = asCSSUrl(item.icon);\n\t\t\t}\n\t\t}\n\n\t\t// Message\n\t\tconst messageContainer = append(this.element, $('div.message-container'));\n\t\tmessageContainer.setAttribute('aria-hidden', 'true');\n\t\tmessageContainer.appendChild(this.getBannerMessage(item.message));\n\n\t\t// Message Actions\n\t\tthis.messageActionsContainer = append(this.element, $('div.message-actions-container'));\n\t\tif (item.actions) {\n\t\t\tfor (const action of item.actions) {\n\t\t\t\tthis._register(this.instantiationService.createInstance(Link, this.messageActionsContainer, { ...action, tabIndex: -1 }, {}));\n\t\t\t}\n\t\t}\n\n\t\t// Action\n\t\tconst actionBarContainer = append(this.element, $('div.action-container'));\n\t\tthis.actionBar = this._register(new ActionBar(actionBarContainer));\n\t\tconst label = item.closeLabel ?? localize('closeBanner', \"Close Banner\");\n\t\tconst closeAction = this._register(new Action('banner.close', label, ThemeIcon.asClassName(widgetClose), true, () => this.close(item)));\n\t\tthis.actionBar.push(closeAction, { icon: true, label: false });\n\t\tthis.actionBar.setFocusable(false);\n\n\t\tthis.setVisibility(true);\n\t\tthis.item = item;\n\t}\n\n\ttoJSON(): object {\n\t\treturn {\n\t\t\ttype: Parts.BANNER_PART\n\t\t};\n\t}\n}\n\nregisterSingleton(IBannerService, BannerPart, InstantiationType.Eager);\n\n\n// Keybindings\n\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'workbench.banner.focusBanner',\n\tweight: KeybindingWeight.WorkbenchContrib,\n\tprimary: KeyCode.Escape,\n\twhen: BannerFocused,\n\thandler: (accessor: ServicesAccessor) => {\n\t\tconst bannerService = accessor.get(IBannerService);\n\t\tbannerService.focus();\n\t}\n});\n\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'workbench.banner.focusNextAction',\n\tweight: KeybindingWeight.WorkbenchContrib,\n\tprimary: KeyCode.RightArrow,\n\tsecondary: [KeyCode.DownArrow],\n\twhen: BannerFocused,\n\thandler: (accessor: ServicesAccessor) => {\n\t\tconst bannerService = accessor.get(IBannerService);\n\t\tbannerService.focusNextAction();\n\t}\n});\n\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'workbench.banner.focusPreviousAction',\n\tweight: KeybindingWeight.WorkbenchContrib,\n\tprimary: KeyCode.LeftArrow,\n\tsecondary: [KeyCode.UpArrow],\n\twhen: BannerFocused,\n\thandler: (accessor: ServicesAccessor) => {\n\t\tconst bannerService = accessor.get(IBannerService);\n\t\tbannerService.focusPreviousAction();\n\t}\n});\n\n\n// Actions\n\nclass FocusBannerAction extends Action2 {\n\n\tstatic readonly ID = 'workbench.action.focusBanner';\n\tstatic readonly LABEL = localize2('focusBanner', \"Focus Banner\");\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: FocusBannerAction.ID,\n\t\t\ttitle: FocusBannerAction.LABEL,\n\t\t\tcategory: Categories.View,\n\t\t\tf1: true\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst layoutService = accessor.get(IWorkbenchLayoutService);\n\t\tlayoutService.focusPart(Parts.BANNER_PART);\n\t}\n}\n\nregisterAction2(FocusBannerAction);\n"]}