{"version":3,"sources":["vs/workbench/browser/parts/notifications/notificationsList.ts"],"names":[],"mappings":"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","file":"notificationsList.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport './media/notificationsList.css';\nimport { localize } from '../../../../nls.js';\nimport { $, getWindow, isAncestorOfActiveElement, trackFocus } from '../../../../base/browser/dom.js';\nimport { WorkbenchList } from '../../../../platform/list/browser/listService.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IListAccessibilityProvider, IListOptions } from '../../../../base/browser/ui/list/listWidget.js';\nimport { NOTIFICATIONS_BACKGROUND } from '../../../common/theme.js';\nimport { INotificationViewItem } from '../../../common/notifications.js';\nimport { NotificationsListDelegate, NotificationRenderer } from './notificationsViewer.js';\nimport { CopyNotificationMessageAction } from './notificationsActions.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { assertReturnsAllDefined } from '../../../../base/common/types.js';\nimport { NotificationFocusedContext } from '../../../common/contextkeys.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { AriaRole } from '../../../../base/browser/ui/aria/aria.js';\nimport { NotificationActionRunner } from './notificationsCommands.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { withSeverityPrefix } from '../../../../platform/notification/common/notification.js';\n\nexport interface INotificationsListOptions extends IListOptions<INotificationViewItem> {\n\treadonly widgetAriaLabel?: string;\n}\n\nexport class NotificationsList extends Disposable {\n\n\tprivate listContainer: HTMLElement | undefined;\n\tprivate list: WorkbenchList<INotificationViewItem> | undefined;\n\tprivate listDelegate: NotificationsListDelegate | undefined;\n\tprivate viewModel: INotificationViewItem[] = [];\n\tprivate isVisible: boolean | undefined;\n\n\tconstructor(\n\t\tprivate readonly container: HTMLElement,\n\t\tprivate readonly options: INotificationsListOptions,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IContextMenuService private readonly contextMenuService: IContextMenuService\n\t) {\n\t\tsuper();\n\t}\n\n\tshow(): void {\n\t\tif (this.isVisible) {\n\t\t\treturn; // already visible\n\t\t}\n\n\t\t// Lazily create if showing for the first time\n\t\tif (!this.list) {\n\t\t\tthis.createNotificationsList();\n\t\t}\n\n\t\t// Make visible\n\t\tthis.isVisible = true;\n\t}\n\n\tprivate createNotificationsList(): void {\n\n\t\t// List Container\n\t\tthis.listContainer = $('.notifications-list-container');\n\n\t\tconst actionRunner = this._register(this.instantiationService.createInstance(NotificationActionRunner));\n\n\t\t// Notification Renderer\n\t\tconst renderer = this.instantiationService.createInstance(NotificationRenderer, actionRunner);\n\n\t\t// List\n\t\tconst listDelegate = this.listDelegate = new NotificationsListDelegate(this.listContainer);\n\t\tconst options = this.options;\n\t\tconst list = this.list = this._register(this.instantiationService.createInstance(\n\t\t\tWorkbenchList<INotificationViewItem>,\n\t\t\t'NotificationsList',\n\t\t\tthis.listContainer,\n\t\t\tlistDelegate,\n\t\t\t[renderer],\n\t\t\t{\n\t\t\t\t...options,\n\t\t\t\tsetRowLineHeight: false,\n\t\t\t\thorizontalScrolling: false,\n\t\t\t\toverrideStyles: {\n\t\t\t\t\tlistBackground: NOTIFICATIONS_BACKGROUND\n\t\t\t\t},\n\t\t\t\taccessibilityProvider: this.instantiationService.createInstance(NotificationAccessibilityProvider, options)\n\t\t\t}\n\t\t));\n\n\t\t// Context menu to copy message\n\t\tconst copyAction = this._register(this.instantiationService.createInstance(CopyNotificationMessageAction, CopyNotificationMessageAction.ID, CopyNotificationMessageAction.LABEL));\n\t\tthis._register((list.onContextMenu(e => {\n\t\t\tif (!e.element) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.contextMenuService.showContextMenu({\n\t\t\t\tgetAnchor: () => e.anchor,\n\t\t\t\tgetActions: () => [copyAction],\n\t\t\t\tgetActionsContext: () => e.element,\n\t\t\t\tactionRunner\n\t\t\t});\n\t\t})));\n\n\t\t// Toggle on double click\n\t\tthis._register((list.onMouseDblClick(event => (event.element as INotificationViewItem).toggle())));\n\n\t\t// Clear focus when DOM focus moves out\n\t\t// Use document.hasFocus() to not clear the focus when the entire window lost focus\n\t\t// This ensures that when the focus comes back, the notification is still focused\n\t\tconst listFocusTracker = this._register(trackFocus(list.getHTMLElement()));\n\t\tthis._register(listFocusTracker.onDidBlur(() => {\n\t\t\tif (getWindow(this.listContainer).document.hasFocus()) {\n\t\t\t\tlist.setFocus([]);\n\t\t\t}\n\t\t}));\n\n\t\t// Context key\n\t\tNotificationFocusedContext.bindTo(list.contextKeyService);\n\n\t\t// Only allow for focus in notifications, as the\n\t\t// selection is too strong over the contents of\n\t\t// the notification\n\t\tthis._register(list.onDidChangeSelection(e => {\n\t\t\tif (e.indexes.length > 0) {\n\t\t\t\tlist.setSelection([]);\n\t\t\t}\n\t\t}));\n\n\t\tthis.container.appendChild(this.listContainer);\n\t}\n\n\tupdateNotificationsList(start: number, deleteCount: number, items: INotificationViewItem[] = []) {\n\t\tconst [list, listContainer] = assertReturnsAllDefined(this.list, this.listContainer);\n\t\tconst listHasDOMFocus = isAncestorOfActiveElement(listContainer);\n\n\t\t// Remember focus and relative top of that item\n\t\tconst focusedIndex = list.getFocus()[0];\n\t\tconst focusedItem = this.viewModel[focusedIndex];\n\n\t\tlet focusRelativeTop: number | null = null;\n\t\tif (typeof focusedIndex === 'number') {\n\t\t\tfocusRelativeTop = list.getRelativeTop(focusedIndex);\n\t\t}\n\n\t\t// Update view model\n\t\tthis.viewModel.splice(start, deleteCount, ...items);\n\n\t\t// Update list\n\t\tlist.splice(start, deleteCount, items);\n\t\tlist.layout();\n\n\t\t// Hide if no more notifications to show\n\t\tif (this.viewModel.length === 0) {\n\t\t\tthis.hide();\n\t\t}\n\n\t\t// Otherwise restore focus if we had\n\t\telse if (typeof focusedIndex === 'number') {\n\t\t\tlet indexToFocus = 0;\n\t\t\tif (focusedItem) {\n\t\t\t\tlet indexToFocusCandidate = this.viewModel.indexOf(focusedItem);\n\t\t\t\tif (indexToFocusCandidate === -1) {\n\t\t\t\t\tindexToFocusCandidate = focusedIndex - 1; // item could have been removed\n\t\t\t\t}\n\n\t\t\t\tif (indexToFocusCandidate < this.viewModel.length && indexToFocusCandidate >= 0) {\n\t\t\t\t\tindexToFocus = indexToFocusCandidate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof focusRelativeTop === 'number') {\n\t\t\t\tlist.reveal(indexToFocus, focusRelativeTop);\n\t\t\t}\n\n\t\t\tlist.setFocus([indexToFocus]);\n\t\t}\n\n\t\t// Restore DOM focus if we had focus before\n\t\tif (this.isVisible && listHasDOMFocus) {\n\t\t\tlist.domFocus();\n\t\t}\n\t}\n\n\tupdateNotificationHeight(item: INotificationViewItem): void {\n\t\tconst index = this.viewModel.indexOf(item);\n\t\tif (index === -1) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst [list, listDelegate] = assertReturnsAllDefined(this.list, this.listDelegate);\n\t\tlist.updateElementHeight(index, listDelegate.getHeight(item));\n\t\tlist.layout();\n\t}\n\n\thide(): void {\n\t\tif (!this.isVisible || !this.list) {\n\t\t\treturn; // already hidden\n\t\t}\n\n\t\t// Hide\n\t\tthis.isVisible = false;\n\n\t\t// Clear list\n\t\tthis.list.splice(0, this.viewModel.length);\n\n\t\t// Clear view model\n\t\tthis.viewModel = [];\n\t}\n\n\tfocusFirst(): void {\n\t\tif (!this.list) {\n\t\t\treturn; // not created yet\n\t\t}\n\n\t\tthis.list.focusFirst();\n\t\tthis.list.domFocus();\n\t}\n\n\thasFocus(): boolean {\n\t\tif (!this.listContainer) {\n\t\t\treturn false; // not created yet\n\t\t}\n\n\t\treturn isAncestorOfActiveElement(this.listContainer);\n\t}\n\n\tlayout(width: number, maxHeight?: number): void {\n\t\tif (this.listContainer && this.list) {\n\t\t\tthis.listContainer.style.width = `${width}px`;\n\n\t\t\tif (typeof maxHeight === 'number') {\n\t\t\t\tthis.list.getHTMLElement().style.maxHeight = `${maxHeight}px`;\n\t\t\t}\n\n\t\t\tthis.list.layout();\n\t\t}\n\t}\n\n\toverride dispose(): void {\n\t\tthis.hide();\n\n\t\tsuper.dispose();\n\t}\n}\n\nexport class NotificationAccessibilityProvider implements IListAccessibilityProvider<INotificationViewItem> {\n\n\tconstructor(\n\t\tprivate readonly _options: INotificationsListOptions,\n\t\t@IKeybindingService private readonly _keybindingService: IKeybindingService,\n\t\t@IConfigurationService private readonly _configurationService: IConfigurationService\n\t) { }\n\n\tgetAriaLabel(element: INotificationViewItem): string {\n\t\tlet accessibleViewHint: string | undefined;\n\t\tconst keybinding = this._keybindingService.lookupKeybinding('editor.action.accessibleView')?.getAriaLabel();\n\t\tif (this._configurationService.getValue('accessibility.verbosity.notification')) {\n\t\t\taccessibleViewHint = keybinding ? localize('notificationAccessibleViewHint', \"Inspect the response in the accessible view with {0}\", keybinding) : localize('notificationAccessibleViewHintNoKb', \"Inspect the response in the accessible view via the command Open Accessible View which is currently not triggerable via keybinding\");\n\t\t}\n\n\t\tif (!element.source) {\n\t\t\treturn withSeverityPrefix(accessibleViewHint ? localize('notificationAriaLabelHint', \"{0}, notification, {1}\", element.message.raw, accessibleViewHint) : localize('notificationAriaLabel', \"{0}, notification\", element.message.raw), element.severity);\n\t\t}\n\n\t\treturn withSeverityPrefix(accessibleViewHint ? localize('notificationWithSourceAriaLabelHint', \"{0}, source: {1}, notification, {2}\", element.message.raw, element.source, accessibleViewHint) : localize('notificationWithSourceAriaLabel', \"{0}, source: {1}, notification\", element.message.raw, element.source), element.severity);\n\t}\n\n\tgetWidgetAriaLabel(): string {\n\t\treturn this._options.widgetAriaLabel ?? localize('notificationsList', \"Notifications List\");\n\t}\n\n\tgetRole(): AriaRole {\n\t\treturn 'dialog'; // https://github.com/microsoft/vscode/issues/82728\n\t}\n}\n"]}