{"version":3,"sources":["vs/workbench/browser/parts/notifications/notificationsToasts.ts"],"names":[],"mappings":"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","file":"notificationsToasts.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport './media/notificationsToasts.css';\nimport { localize } from '../../../../nls.js';\nimport { INotificationsModel, NotificationChangeType, INotificationChangeEvent, INotificationViewItem, NotificationViewItemContentChangeKind } from '../../../common/notifications.js';\nimport { IDisposable, dispose, toDisposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { addDisposableListener, EventType, Dimension, scheduleAtNextAnimationFrame, isAncestorOfActiveElement, getWindow, $, isElementInBottomRightQuarter, isHTMLElement, isEditableElement, getActiveElement } from '../../../../base/browser/dom.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { NotificationsList } from './notificationsList.js';\nimport { Event, Emitter } from '../../../../base/common/event.js';\nimport { IWorkbenchLayoutService, Parts } from '../../../services/layout/browser/layoutService.js';\nimport { NOTIFICATIONS_TOAST_BORDER, NOTIFICATIONS_BACKGROUND } from '../../../common/theme.js';\nimport { IThemeService, Themable } from '../../../../platform/theme/common/themeService.js';\nimport { widgetShadow } from '../../../../platform/theme/common/colorRegistry.js';\nimport { IEditorGroupsService } from '../../../services/editor/common/editorGroupsService.js';\nimport { INotificationsToastController } from './notificationsCommands.js';\nimport { IContextKey, IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { Severity, NotificationsFilter, NotificationPriority, withSeverityPrefix } from '../../../../platform/notification/common/notification.js';\nimport { ScrollbarVisibility } from '../../../../base/common/scrollable.js';\nimport { ILifecycleService, LifecyclePhase } from '../../../services/lifecycle/common/lifecycle.js';\nimport { IHostService } from '../../../services/host/browser/host.js';\nimport { IntervalCounter } from '../../../../base/common/async.js';\nimport { assertReturnsDefined } from '../../../../base/common/types.js';\nimport { NotificationsToastsVisibleContext } from '../../../common/contextkeys.js';\nimport { mainWindow } from '../../../../base/browser/window.js';\n\ninterface INotificationToast {\n\treadonly item: INotificationViewItem;\n\treadonly list: NotificationsList;\n\treadonly container: HTMLElement;\n\treadonly toast: HTMLElement;\n}\n\nenum ToastVisibility {\n\tHIDDEN_OR_VISIBLE,\n\tHIDDEN,\n\tVISIBLE\n}\n\nexport class NotificationsToasts extends Themable implements INotificationsToastController {\n\n\tprivate static readonly MAX_WIDTH = 450;\n\tprivate static readonly MAX_NOTIFICATIONS = 3;\n\n\tprivate static readonly PURGE_TIMEOUT: { [severity: number]: number } = {\n\t\t[Severity.Info]: 10000,\n\t\t[Severity.Warning]: 12000,\n\t\t[Severity.Error]: 15000\n\t};\n\n\tprivate static readonly SPAM_PROTECTION = {\n\t\t// Count for the number of notifications over 800ms...\n\t\tinterval: 800,\n\t\t// ...and ensure we are not showing more than MAX_NOTIFICATIONS\n\t\tlimit: this.MAX_NOTIFICATIONS\n\t};\n\n\tprivate readonly _onDidChangeVisibility = this._register(new Emitter<void>());\n\treadonly onDidChangeVisibility = this._onDidChangeVisibility.event;\n\n\tprivate _isVisible = false;\n\tget isVisible(): boolean { return !!this._isVisible; }\n\n\tprivate notificationsToastsContainer: HTMLElement | undefined;\n\tprivate workbenchDimensions: Dimension | undefined;\n\tprivate isNotificationsCenterVisible: boolean | undefined;\n\n\tprivate readonly mapNotificationToToast = new Map<INotificationViewItem, INotificationToast>();\n\tprivate readonly mapNotificationToDisposable = new Map<INotificationViewItem, IDisposable>();\n\n\tprivate readonly notificationsToastsVisibleContextKey: IContextKey<boolean>;\n\n\tprivate readonly addedToastsIntervalCounter = new IntervalCounter(NotificationsToasts.SPAM_PROTECTION.interval);\n\n\tconstructor(\n\t\tprivate readonly container: HTMLElement,\n\t\tprivate readonly model: INotificationsModel,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IWorkbenchLayoutService private readonly layoutService: IWorkbenchLayoutService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IEditorGroupsService private readonly editorGroupService: IEditorGroupsService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@ILifecycleService private readonly lifecycleService: ILifecycleService,\n\t\t@IHostService private readonly hostService: IHostService\n\t) {\n\t\tsuper(themeService);\n\n\t\tthis.notificationsToastsVisibleContextKey = NotificationsToastsVisibleContext.bindTo(contextKeyService);\n\n\t\tthis.registerListeners();\n\t}\n\n\tprivate registerListeners(): void {\n\n\t\t// Layout\n\t\tthis._register(this.layoutService.onDidLayoutMainContainer(dimension => this.layout(Dimension.lift(dimension))));\n\n\t\t// Delay some tasks until after we have restored\n\t\t// to reduce UI pressure from the startup phase\n\t\tthis.lifecycleService.when(LifecyclePhase.Restored).then(() => {\n\n\t\t\t// Show toast for initial notifications if any\n\t\t\tthis.model.notifications.forEach(notification => this.addToast(notification));\n\n\t\t\t// Update toasts on notification changes\n\t\t\tthis._register(this.model.onDidChangeNotification(e => this.onDidChangeNotification(e)));\n\t\t});\n\n\t\t// Filter\n\t\tthis._register(this.model.onDidChangeFilter(({ global, sources }) => {\n\t\t\tif (global === NotificationsFilter.ERROR) {\n\t\t\t\tthis.hide();\n\t\t\t} else if (sources) {\n\t\t\t\tfor (const [notification] of this.mapNotificationToToast) {\n\t\t\t\t\tif (typeof notification.sourceId === 'string' && sources.get(notification.sourceId) === NotificationsFilter.ERROR && notification.severity !== Severity.Error && notification.priority !== NotificationPriority.URGENT) {\n\t\t\t\t\t\tthis.removeToast(notification);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate onDidChangeNotification(e: INotificationChangeEvent): void {\n\t\tswitch (e.kind) {\n\t\t\tcase NotificationChangeType.ADD:\n\t\t\t\treturn this.addToast(e.item);\n\t\t\tcase NotificationChangeType.REMOVE:\n\t\t\t\treturn this.removeToast(e.item);\n\t\t}\n\t}\n\n\tprivate addToast(item: INotificationViewItem): void {\n\t\tif (this.isNotificationsCenterVisible) {\n\t\t\treturn; // do not show toasts while notification center is visible\n\t\t}\n\n\t\tif (item.priority === NotificationPriority.SILENT) {\n\t\t\treturn; // do not show toasts for silenced notifications\n\t\t}\n\n\t\tif (item.priority === NotificationPriority.OPTIONAL) {\n\t\t\tconst activeElement = getActiveElement();\n\t\t\tif (isHTMLElement(activeElement) && isEditableElement(activeElement) && isElementInBottomRightQuarter(activeElement, this.layoutService.mainContainer)) {\n\t\t\t\treturn; // skip showing optional toast that potentially covers input fields\n\t\t\t}\n\t\t}\n\n\t\t// Optimization: it is possible that a lot of notifications are being\n\t\t// added in a very short time. To prevent this kind of spam, we protect\n\t\t// against showing too many notifications at once. Since they can always\n\t\t// be accessed from the notification center, a user can always get to\n\t\t// them later on.\n\t\t// (see also https://github.com/microsoft/vscode/issues/107935)\n\t\tif (this.addedToastsIntervalCounter.increment() > NotificationsToasts.SPAM_PROTECTION.limit) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Optimization: showing a notification toast can be expensive\n\t\t// because of the associated animation. If the renderer is busy\n\t\t// doing actual work, the animation can cause a lot of slowdown\n\t\t// As such we use `scheduleAtNextAnimationFrame` to push out\n\t\t// the toast until the renderer has time to process it.\n\t\t// (see also https://github.com/microsoft/vscode/issues/107935)\n\t\tconst itemDisposables = new DisposableStore();\n\t\tthis.mapNotificationToDisposable.set(item, itemDisposables);\n\t\titemDisposables.add(scheduleAtNextAnimationFrame(getWindow(this.container), () => this.doAddToast(item, itemDisposables)));\n\t}\n\n\tprivate doAddToast(item: INotificationViewItem, itemDisposables: DisposableStore): void {\n\n\t\t// Lazily create toasts containers\n\t\tlet notificationsToastsContainer = this.notificationsToastsContainer;\n\t\tif (!notificationsToastsContainer) {\n\t\t\tnotificationsToastsContainer = this.notificationsToastsContainer = $('.notifications-toasts');\n\n\t\t\tthis.container.appendChild(notificationsToastsContainer);\n\t\t}\n\n\t\t// Make Visible\n\t\tnotificationsToastsContainer.classList.add('visible');\n\n\t\t// Container\n\t\tconst notificationToastContainer = $('.notification-toast-container');\n\n\t\tconst firstToast = notificationsToastsContainer.firstChild;\n\t\tif (firstToast) {\n\t\t\tnotificationsToastsContainer.insertBefore(notificationToastContainer, firstToast); // always first\n\t\t} else {\n\t\t\tnotificationsToastsContainer.appendChild(notificationToastContainer);\n\t\t}\n\n\t\t// Toast\n\t\tconst notificationToast = $('.notification-toast');\n\t\tnotificationToastContainer.appendChild(notificationToast);\n\n\t\t// Create toast with item and show\n\t\tconst notificationList = this.instantiationService.createInstance(NotificationsList, notificationToast, {\n\t\t\tverticalScrollMode: ScrollbarVisibility.Hidden,\n\t\t\twidgetAriaLabel: (() => {\n\t\t\t\tif (!item.source) {\n\t\t\t\t\treturn withSeverityPrefix(localize('notificationAriaLabel', \"{0}, notification\", item.message.raw), item.severity);\n\t\t\t\t}\n\n\t\t\t\treturn withSeverityPrefix(localize('notificationWithSourceAriaLabel', \"{0}, source: {1}, notification\", item.message.raw, item.source), item.severity);\n\t\t\t})()\n\t\t});\n\t\titemDisposables.add(notificationList);\n\n\t\tconst toast: INotificationToast = { item, list: notificationList, container: notificationToastContainer, toast: notificationToast };\n\t\tthis.mapNotificationToToast.set(item, toast);\n\n\t\t// When disposed, remove as visible\n\t\titemDisposables.add(toDisposable(() => this.updateToastVisibility(toast, false)));\n\n\t\t// Make visible\n\t\tnotificationList.show();\n\n\t\t// Layout lists\n\t\tconst maxDimensions = this.computeMaxDimensions();\n\t\tthis.layoutLists(maxDimensions.width);\n\n\t\t// Show notification\n\t\tnotificationList.updateNotificationsList(0, 0, [item]);\n\n\t\t// Layout container: only after we show the notification to ensure that\n\t\t// the height computation takes the content of it into account!\n\t\tthis.layoutContainer(maxDimensions.height);\n\n\t\t// Re-draw entire item when expansion changes to reveal or hide details\n\t\titemDisposables.add(item.onDidChangeExpansion(() => {\n\t\t\tnotificationList.updateNotificationsList(0, 1, [item]);\n\t\t}));\n\n\t\t// Handle content changes\n\t\t// - actions: re-draw to properly show them\n\t\t// - message: update notification height unless collapsed\n\t\titemDisposables.add(item.onDidChangeContent(e => {\n\t\t\tswitch (e.kind) {\n\t\t\t\tcase NotificationViewItemContentChangeKind.ACTIONS:\n\t\t\t\t\tnotificationList.updateNotificationsList(0, 1, [item]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase NotificationViewItemContentChangeKind.MESSAGE:\n\t\t\t\t\tif (item.expanded) {\n\t\t\t\t\t\tnotificationList.updateNotificationHeight(item);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}));\n\n\t\t// Remove when item gets closed\n\t\tEvent.once(item.onDidClose)(() => {\n\t\t\tthis.removeToast(item);\n\t\t});\n\n\t\t// Automatically purge non-sticky notifications\n\t\tthis.purgeNotification(item, notificationToastContainer, notificationList, itemDisposables);\n\n\t\t// Theming\n\t\tthis.updateStyles();\n\n\t\t// Context Key\n\t\tthis.notificationsToastsVisibleContextKey.set(true);\n\n\t\t// Animate in\n\t\tnotificationToast.classList.add('notification-fade-in');\n\t\titemDisposables.add(addDisposableListener(notificationToast, 'transitionend', () => {\n\t\t\tnotificationToast.classList.remove('notification-fade-in');\n\t\t\tnotificationToast.classList.add('notification-fade-in-done');\n\t\t}));\n\n\t\t// Mark as visible\n\t\titem.updateVisibility(true);\n\n\t\t// Events\n\t\tif (!this._isVisible) {\n\t\t\tthis._isVisible = true;\n\t\t\tthis._onDidChangeVisibility.fire();\n\t\t}\n\t}\n\n\tprivate purgeNotification(item: INotificationViewItem, notificationToastContainer: HTMLElement, notificationList: NotificationsList, disposables: DisposableStore): void {\n\n\t\t// Track mouse over item\n\t\tlet isMouseOverToast = false;\n\t\tdisposables.add(addDisposableListener(notificationToastContainer, EventType.MOUSE_OVER, () => isMouseOverToast = true));\n\t\tdisposables.add(addDisposableListener(notificationToastContainer, EventType.MOUSE_OUT, () => isMouseOverToast = false));\n\n\t\t// Install Timers to Purge Notification\n\t\tlet purgeTimeoutHandle: Timeout;\n\t\tlet listener: IDisposable;\n\n\t\tconst hideAfterTimeout = () => {\n\n\t\t\tpurgeTimeoutHandle = setTimeout(() => {\n\n\t\t\t\t// If the window does not have focus, we wait for the window to gain focus\n\t\t\t\t// again before triggering the timeout again. This prevents an issue where\n\t\t\t\t// focussing the window could immediately hide the notification because the\n\t\t\t\t// timeout was triggered again.\n\t\t\t\tif (!this.hostService.hasFocus) {\n\t\t\t\t\tif (!listener) {\n\t\t\t\t\t\tlistener = this.hostService.onDidChangeFocus(focus => {\n\t\t\t\t\t\t\tif (focus) {\n\t\t\t\t\t\t\t\thideAfterTimeout();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tdisposables.add(listener);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Otherwise...\n\t\t\t\telse if (\n\t\t\t\t\titem.sticky ||\t\t\t\t\t\t\t\t// never hide sticky notifications\n\t\t\t\t\tnotificationList.hasFocus() ||\t\t\t\t// never hide notifications with focus\n\t\t\t\t\tisMouseOverToast\t\t\t\t\t\t\t// never hide notifications under mouse\n\t\t\t\t) {\n\t\t\t\t\thideAfterTimeout();\n\t\t\t\t} else {\n\t\t\t\t\tthis.removeToast(item);\n\t\t\t\t}\n\t\t\t}, NotificationsToasts.PURGE_TIMEOUT[item.severity]);\n\t\t};\n\n\t\thideAfterTimeout();\n\n\t\tdisposables.add(toDisposable(() => clearTimeout(purgeTimeoutHandle)));\n\t}\n\n\tprivate removeToast(item: INotificationViewItem): void {\n\t\tlet focusEditor = false;\n\n\t\t// UI\n\t\tconst notificationToast = this.mapNotificationToToast.get(item);\n\t\tif (notificationToast) {\n\t\t\tconst toastHasDOMFocus = isAncestorOfActiveElement(notificationToast.container);\n\t\t\tif (toastHasDOMFocus) {\n\t\t\t\tfocusEditor = !(this.focusNext() || this.focusPrevious()); // focus next if any, otherwise focus editor\n\t\t\t}\n\n\t\t\tthis.mapNotificationToToast.delete(item);\n\t\t}\n\n\t\t// Disposables\n\t\tconst notificationDisposables = this.mapNotificationToDisposable.get(item);\n\t\tif (notificationDisposables) {\n\t\t\tdispose(notificationDisposables);\n\n\t\t\tthis.mapNotificationToDisposable.delete(item);\n\t\t}\n\n\t\t// Layout if we still have toasts\n\t\tif (this.mapNotificationToToast.size > 0) {\n\t\t\tthis.layout(this.workbenchDimensions);\n\t\t}\n\n\t\t// Otherwise hide if no more toasts to show\n\t\telse {\n\t\t\tthis.doHide();\n\n\t\t\t// Move focus back to editor group as needed\n\t\t\tif (focusEditor) {\n\t\t\t\tthis.editorGroupService.activeGroup.focus();\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate removeToasts(): void {\n\n\t\t// Toast\n\t\tthis.mapNotificationToToast.clear();\n\n\t\t// Disposables\n\t\tthis.mapNotificationToDisposable.forEach(disposable => dispose(disposable));\n\t\tthis.mapNotificationToDisposable.clear();\n\n\t\tthis.doHide();\n\t}\n\n\tprivate doHide(): void {\n\t\tthis.notificationsToastsContainer?.classList.remove('visible');\n\n\t\t// Context Key\n\t\tthis.notificationsToastsVisibleContextKey.set(false);\n\n\t\t// Events\n\t\tif (this._isVisible) {\n\t\t\tthis._isVisible = false;\n\t\t\tthis._onDidChangeVisibility.fire();\n\t\t}\n\t}\n\n\thide(): void {\n\t\tconst focusEditor = this.notificationsToastsContainer ? isAncestorOfActiveElement(this.notificationsToastsContainer) : false;\n\n\t\tthis.removeToasts();\n\n\t\tif (focusEditor) {\n\t\t\tthis.editorGroupService.activeGroup.focus();\n\t\t}\n\t}\n\n\tfocus(): boolean {\n\t\tconst toasts = this.getToasts(ToastVisibility.VISIBLE);\n\t\tif (toasts.length > 0) {\n\t\t\ttoasts[0].list.focusFirst();\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tfocusNext(): boolean {\n\t\tconst toasts = this.getToasts(ToastVisibility.VISIBLE);\n\t\tfor (let i = 0; i < toasts.length; i++) {\n\t\t\tconst toast = toasts[i];\n\t\t\tif (toast.list.hasFocus()) {\n\t\t\t\tconst nextToast = toasts[i + 1];\n\t\t\t\tif (nextToast) {\n\t\t\t\t\tnextToast.list.focusFirst();\n\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tfocusPrevious(): boolean {\n\t\tconst toasts = this.getToasts(ToastVisibility.VISIBLE);\n\t\tfor (let i = 0; i < toasts.length; i++) {\n\t\t\tconst toast = toasts[i];\n\t\t\tif (toast.list.hasFocus()) {\n\t\t\t\tconst previousToast = toasts[i - 1];\n\t\t\t\tif (previousToast) {\n\t\t\t\t\tpreviousToast.list.focusFirst();\n\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tfocusFirst(): boolean {\n\t\tconst toast = this.getToasts(ToastVisibility.VISIBLE)[0];\n\t\tif (toast) {\n\t\t\ttoast.list.focusFirst();\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tfocusLast(): boolean {\n\t\tconst toasts = this.getToasts(ToastVisibility.VISIBLE);\n\t\tif (toasts.length > 0) {\n\t\t\ttoasts[toasts.length - 1].list.focusFirst();\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tupdate(isCenterVisible: boolean): void {\n\t\tif (this.isNotificationsCenterVisible !== isCenterVisible) {\n\t\t\tthis.isNotificationsCenterVisible = isCenterVisible;\n\n\t\t\t// Hide all toasts when the notificationcenter gets visible\n\t\t\tif (this.isNotificationsCenterVisible) {\n\t\t\t\tthis.removeToasts();\n\t\t\t}\n\t\t}\n\t}\n\n\toverride updateStyles(): void {\n\t\tthis.mapNotificationToToast.forEach(({ toast }) => {\n\t\t\tconst backgroundColor = this.getColor(NOTIFICATIONS_BACKGROUND);\n\t\t\ttoast.style.background = backgroundColor ? backgroundColor : '';\n\n\t\t\tconst widgetShadowColor = this.getColor(widgetShadow);\n\t\t\ttoast.style.boxShadow = widgetShadowColor ? `0 0 8px 2px ${widgetShadowColor}` : '';\n\n\t\t\tconst borderColor = this.getColor(NOTIFICATIONS_TOAST_BORDER);\n\t\t\ttoast.style.border = borderColor ? `1px solid ${borderColor}` : '';\n\t\t});\n\t}\n\n\tprivate getToasts(state: ToastVisibility): INotificationToast[] {\n\t\tconst notificationToasts: INotificationToast[] = [];\n\n\t\tthis.mapNotificationToToast.forEach(toast => {\n\t\t\tswitch (state) {\n\t\t\t\tcase ToastVisibility.HIDDEN_OR_VISIBLE:\n\t\t\t\t\tnotificationToasts.push(toast);\n\t\t\t\t\tbreak;\n\t\t\t\tcase ToastVisibility.HIDDEN:\n\t\t\t\t\tif (!this.isToastInDOM(toast)) {\n\t\t\t\t\t\tnotificationToasts.push(toast);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase ToastVisibility.VISIBLE:\n\t\t\t\t\tif (this.isToastInDOM(toast)) {\n\t\t\t\t\t\tnotificationToasts.push(toast);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\n\t\treturn notificationToasts.reverse(); // from newest to oldest\n\t}\n\n\tlayout(dimension: Dimension | undefined): void {\n\t\tthis.workbenchDimensions = dimension;\n\n\t\tconst maxDimensions = this.computeMaxDimensions();\n\n\t\t// Hide toasts that exceed height\n\t\tif (maxDimensions.height) {\n\t\t\tthis.layoutContainer(maxDimensions.height);\n\t\t}\n\n\t\t// Layout all lists of toasts\n\t\tthis.layoutLists(maxDimensions.width);\n\t}\n\n\tprivate computeMaxDimensions(): Dimension {\n\t\tconst maxWidth = NotificationsToasts.MAX_WIDTH;\n\n\t\tlet availableWidth = maxWidth;\n\t\tlet availableHeight: number | undefined;\n\n\t\tif (this.workbenchDimensions) {\n\n\t\t\t// Make sure notifications are not exceding available width\n\t\t\tavailableWidth = this.workbenchDimensions.width;\n\t\t\tavailableWidth -= (2 * 8); // adjust for paddings left and right\n\n\t\t\t// Make sure notifications are not exceeding available height\n\t\t\tavailableHeight = this.workbenchDimensions.height;\n\t\t\tif (this.layoutService.isVisible(Parts.STATUSBAR_PART, mainWindow)) {\n\t\t\t\tavailableHeight -= 22; // adjust for status bar\n\t\t\t}\n\n\t\t\tif (this.layoutService.isVisible(Parts.TITLEBAR_PART, mainWindow)) {\n\t\t\t\tavailableHeight -= 22; // adjust for title bar\n\t\t\t}\n\n\t\t\tavailableHeight -= (2 * 12); // adjust for paddings top and bottom\n\t\t}\n\n\t\treturn new Dimension(Math.min(maxWidth, availableWidth), availableHeight ?? 0);\n\t}\n\n\tprivate layoutLists(width: number): void {\n\t\tthis.mapNotificationToToast.forEach(({ list }) => list.layout(width));\n\t}\n\n\tprivate layoutContainer(heightToGive: number): void {\n\n\t\t// Allow the full height for 1 toast but adjust for multiple toasts\n\t\t// so that a stack of notifications does not exceed all the way up\n\n\t\tlet singleToastHeightToGive = heightToGive;\n\t\tlet multipleToastsHeightToGive = Math.round(heightToGive * 0.618);\n\n\t\tlet visibleToasts = 0;\n\t\tfor (const toast of this.getToasts(ToastVisibility.HIDDEN_OR_VISIBLE)) {\n\n\t\t\t// In order to measure the client height, the element cannot have display: none\n\t\t\ttoast.container.style.opacity = '0';\n\t\t\tthis.updateToastVisibility(toast, true);\n\n\t\t\tsingleToastHeightToGive -= toast.container.offsetHeight;\n\t\t\tmultipleToastsHeightToGive -= toast.container.offsetHeight;\n\n\t\t\tlet makeVisible = false;\n\t\t\tif (visibleToasts === NotificationsToasts.MAX_NOTIFICATIONS) {\n\t\t\t\tmakeVisible = false; // never show more than MAX_NOTIFICATIONS\n\t\t\t} else if ((visibleToasts === 0 && singleToastHeightToGive >= 0) || (visibleToasts > 0 && multipleToastsHeightToGive >= 0)) {\n\t\t\t\tmakeVisible = true; // hide toast if available height is too little\n\t\t\t}\n\n\t\t\t// Hide or show toast based on context\n\t\t\tthis.updateToastVisibility(toast, makeVisible);\n\t\t\ttoast.container.style.opacity = '';\n\n\t\t\tif (makeVisible) {\n\t\t\t\tvisibleToasts++;\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate updateToastVisibility(toast: INotificationToast, visible: boolean): void {\n\t\tif (this.isToastInDOM(toast) === visible) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Update visibility in DOM\n\t\tconst notificationsToastsContainer = assertReturnsDefined(this.notificationsToastsContainer);\n\t\tif (visible) {\n\t\t\tnotificationsToastsContainer.appendChild(toast.container);\n\t\t} else {\n\t\t\ttoast.container.remove();\n\t\t}\n\n\t\t// Update visibility in model\n\t\ttoast.item.updateVisibility(visible);\n\t}\n\n\tprivate isToastInDOM(toast: INotificationToast): boolean {\n\t\treturn !!toast.container.parentElement;\n\t}\n}\n"]}