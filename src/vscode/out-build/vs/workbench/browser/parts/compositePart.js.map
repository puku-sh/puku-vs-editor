{"version":3,"sources":["vs/workbench/browser/parts/compositePart.ts"],"names":[],"mappings":"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","file":"compositePart.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport './media/compositepart.css';\nimport { localize } from '../../../nls.js';\nimport { defaultGenerator } from '../../../base/common/idGenerator.js';\nimport { IDisposable, dispose, DisposableStore, MutableDisposable, } from '../../../base/common/lifecycle.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { isCancellationError } from '../../../base/common/errors.js';\nimport { ActionsOrientation, IActionViewItem, prepareActions } from '../../../base/browser/ui/actionbar/actionbar.js';\nimport { ProgressBar } from '../../../base/browser/ui/progressbar/progressbar.js';\nimport { IAction } from '../../../base/common/actions.js';\nimport { Part, IPartOptions } from '../part.js';\nimport { Composite, CompositeRegistry } from '../composite.js';\nimport { IComposite } from '../../common/composite.js';\nimport { IWorkbenchLayoutService } from '../../services/layout/browser/layoutService.js';\nimport { IStorageService, StorageScope, StorageTarget } from '../../../platform/storage/common/storage.js';\nimport { IContextMenuService } from '../../../platform/contextview/browser/contextView.js';\nimport { IInstantiationService } from '../../../platform/instantiation/common/instantiation.js';\nimport { ServiceCollection } from '../../../platform/instantiation/common/serviceCollection.js';\nimport { IProgressIndicator, IEditorProgressService } from '../../../platform/progress/common/progress.js';\nimport { IKeybindingService } from '../../../platform/keybinding/common/keybinding.js';\nimport { IThemeService } from '../../../platform/theme/common/themeService.js';\nimport { INotificationService } from '../../../platform/notification/common/notification.js';\nimport { Dimension, append, $, hide, show } from '../../../base/browser/dom.js';\nimport { AnchorAlignment } from '../../../base/browser/ui/contextview/contextview.js';\nimport { assertReturnsDefined } from '../../../base/common/types.js';\nimport { createActionViewItem } from '../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { AbstractProgressScope, ScopedProgressIndicator } from '../../services/progress/browser/progressIndicator.js';\nimport { WorkbenchToolBar } from '../../../platform/actions/browser/toolbar.js';\nimport { defaultProgressBarStyles } from '../../../platform/theme/browser/defaultStyles.js';\nimport { IBoundarySashes } from '../../../base/browser/ui/sash/sash.js';\nimport { IBaseActionViewItemOptions } from '../../../base/browser/ui/actionbar/actionViewItems.js';\nimport { IHoverDelegate } from '../../../base/browser/ui/hover/hoverDelegate.js';\nimport { createInstantHoverDelegate, getDefaultHoverDelegate } from '../../../base/browser/ui/hover/hoverDelegateFactory.js';\nimport type { IHoverService } from '../../../platform/hover/browser/hover.js';\n\nexport interface ICompositeTitleLabel {\n\n\t/**\n\t * Asks to update the title for the composite with the given ID.\n\t */\n\tupdateTitle(id: string, title: string, keybinding?: string): void;\n\n\t/**\n\t * Called when theming information changes.\n\t */\n\tupdateStyles(): void;\n}\n\ninterface CompositeItem {\n\treadonly composite: Composite;\n\treadonly disposable: IDisposable;\n\treadonly progress: IProgressIndicator;\n}\n\nexport interface ICompositePartOptions extends IPartOptions {\n\treadonly trailingSeparator?: boolean;\n}\n\nexport abstract class CompositePart<T extends Composite, MementoType extends object = object> extends Part<MementoType> {\n\n\tprotected readonly onDidCompositeOpen = this._register(new Emitter<{ composite: IComposite; focus: boolean }>());\n\tprotected readonly onDidCompositeClose = this._register(new Emitter<IComposite>());\n\n\tprotected toolBar: WorkbenchToolBar | undefined;\n\tprotected titleLabelElement: HTMLElement | undefined;\n\tprotected readonly toolbarHoverDelegate: IHoverDelegate;\n\n\tprivate readonly mapCompositeToCompositeContainer = new Map<string, HTMLElement>();\n\tprivate readonly mapActionsBindingToComposite = new Map<string, () => void>();\n\tprivate activeComposite: Composite | undefined;\n\tprivate lastActiveCompositeId: string;\n\tprivate readonly instantiatedCompositeItems = new Map<string, CompositeItem>();\n\tprotected titleLabel: ICompositeTitleLabel | undefined;\n\tprivate progressBar: ProgressBar | undefined;\n\tprivate contentAreaSize: Dimension | undefined;\n\tprivate readonly actionsListener = this._register(new MutableDisposable());\n\tprivate currentCompositeOpenToken: string | undefined;\n\tprivate boundarySashes: IBoundarySashes | undefined;\n\tprivate readonly trailingSeparator: boolean;\n\n\tconstructor(\n\t\tprivate readonly notificationService: INotificationService,\n\t\tprotected readonly storageService: IStorageService,\n\t\tprotected readonly contextMenuService: IContextMenuService,\n\t\tlayoutService: IWorkbenchLayoutService,\n\t\tprotected readonly keybindingService: IKeybindingService,\n\t\tprivate readonly hoverService: IHoverService,\n\t\tprotected readonly instantiationService: IInstantiationService,\n\t\tthemeService: IThemeService,\n\t\tprotected readonly registry: CompositeRegistry<T>,\n\t\tprivate readonly activeCompositeSettingsKey: string,\n\t\tprivate readonly defaultCompositeId: string,\n\t\tprotected readonly nameForTelemetry: string,\n\t\tprivate readonly compositeCSSClass: string,\n\t\tprivate readonly titleForegroundColor: string | undefined,\n\t\tprivate readonly titleBorderColor: string | undefined,\n\t\tid: string,\n\t\toptions: ICompositePartOptions\n\t) {\n\t\tsuper(id, options, themeService, storageService, layoutService);\n\n\t\tthis.lastActiveCompositeId = storageService.get(activeCompositeSettingsKey, StorageScope.WORKSPACE, this.defaultCompositeId);\n\t\tthis.toolbarHoverDelegate = this._register(createInstantHoverDelegate());\n\t\tthis.trailingSeparator = options.trailingSeparator ?? false;\n\t}\n\n\tprotected openComposite(id: string, focus?: boolean): Composite | undefined {\n\n\t\t// Check if composite already visible and just focus in that case\n\t\tif (this.activeComposite?.getId() === id) {\n\t\t\tif (focus) {\n\t\t\t\tthis.activeComposite.focus();\n\t\t\t}\n\n\t\t\t// Fullfill promise with composite that is being opened\n\t\t\treturn this.activeComposite;\n\t\t}\n\n\t\t// We cannot open the composite if we have not been created yet\n\t\tif (!this.element) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Open\n\t\treturn this.doOpenComposite(id, focus);\n\t}\n\n\tprivate doOpenComposite(id: string, focus: boolean = false): Composite | undefined {\n\n\t\t// Use a generated token to avoid race conditions from long running promises\n\t\tconst currentCompositeOpenToken = defaultGenerator.nextId();\n\t\tthis.currentCompositeOpenToken = currentCompositeOpenToken;\n\n\t\t// Hide current\n\t\tif (this.activeComposite) {\n\t\t\tthis.hideActiveComposite();\n\t\t}\n\n\t\t// Update Title\n\t\tthis.updateTitle(id);\n\n\t\t// Create composite\n\t\tconst composite = this.createComposite(id, true);\n\n\t\t// Check if another composite opened meanwhile and return in that case\n\t\tif ((this.currentCompositeOpenToken !== currentCompositeOpenToken) || (this.activeComposite && this.activeComposite.getId() !== composite.getId())) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// Check if composite already visible and just focus in that case\n\t\tif (this.activeComposite?.getId() === composite.getId()) {\n\t\t\tif (focus) {\n\t\t\t\tcomposite.focus();\n\t\t\t}\n\n\t\t\tthis.onDidCompositeOpen.fire({ composite, focus });\n\t\t\treturn composite;\n\t\t}\n\n\t\t// Show Composite and Focus\n\t\tthis.showComposite(composite);\n\t\tif (focus) {\n\t\t\tcomposite.focus();\n\t\t}\n\n\t\t// Return with the composite that is being opened\n\t\tif (composite) {\n\t\t\tthis.onDidCompositeOpen.fire({ composite, focus });\n\t\t}\n\n\t\treturn composite;\n\t}\n\n\tprotected createComposite(id: string, isActive?: boolean): Composite {\n\n\t\t// Check if composite is already created\n\t\tconst compositeItem = this.instantiatedCompositeItems.get(id);\n\t\tif (compositeItem) {\n\t\t\treturn compositeItem.composite;\n\t\t}\n\n\t\t// Instantiate composite from registry otherwise\n\t\tconst compositeDescriptor = this.registry.getComposite(id);\n\t\tif (compositeDescriptor) {\n\t\t\tconst that = this;\n\t\t\tconst compositeProgressIndicator = new ScopedProgressIndicator(assertReturnsDefined(this.progressBar), this._register(new class extends AbstractProgressScope {\n\t\t\t\tconstructor() {\n\t\t\t\t\tsuper(compositeDescriptor!.id, !!isActive);\n\t\t\t\t\tthis._register(that.onDidCompositeOpen.event(e => this.onScopeOpened(e.composite.getId())));\n\t\t\t\t\tthis._register(that.onDidCompositeClose.event(e => this.onScopeClosed(e.getId())));\n\t\t\t\t}\n\t\t\t}()));\n\t\t\tconst compositeInstantiationService = this._register(this.instantiationService.createChild(new ServiceCollection(\n\t\t\t\t[IEditorProgressService, compositeProgressIndicator] // provide the editor progress service for any editors instantiated within the composite\n\t\t\t)));\n\n\t\t\tconst composite = compositeDescriptor.instantiate(compositeInstantiationService);\n\t\t\tconst disposable = new DisposableStore();\n\n\t\t\t// Remember as Instantiated\n\t\t\tthis.instantiatedCompositeItems.set(id, { composite, disposable, progress: compositeProgressIndicator });\n\n\t\t\t// Register to title area update events from the composite\n\t\t\tdisposable.add(composite.onTitleAreaUpdate(() => this.onTitleAreaUpdate(composite.getId()), this));\n\t\t\tdisposable.add(compositeInstantiationService);\n\n\t\t\treturn composite;\n\t\t}\n\n\t\tthrow new Error(`Unable to find composite with id ${id}`);\n\t}\n\n\tprotected showComposite(composite: Composite): void {\n\n\t\t// Remember Composite\n\t\tthis.activeComposite = composite;\n\n\t\t// Store in preferences\n\t\tconst id = this.activeComposite.getId();\n\t\tif (id !== this.defaultCompositeId) {\n\t\t\tthis.storageService.store(this.activeCompositeSettingsKey, id, StorageScope.WORKSPACE, StorageTarget.MACHINE);\n\t\t} else {\n\t\t\tthis.storageService.remove(this.activeCompositeSettingsKey, StorageScope.WORKSPACE);\n\t\t}\n\n\t\t// Remember\n\t\tthis.lastActiveCompositeId = this.activeComposite.getId();\n\n\t\t// Composites created for the first time\n\t\tlet compositeContainer = this.mapCompositeToCompositeContainer.get(composite.getId());\n\t\tif (!compositeContainer) {\n\n\t\t\t// Build Container off-DOM\n\t\t\tcompositeContainer = $('.composite');\n\t\t\tcompositeContainer.classList.add(...this.compositeCSSClass.split(' '));\n\t\t\tcompositeContainer.id = composite.getId();\n\n\t\t\tcomposite.create(compositeContainer);\n\t\t\tcomposite.updateStyles();\n\n\t\t\t// Remember composite container\n\t\t\tthis.mapCompositeToCompositeContainer.set(composite.getId(), compositeContainer);\n\t\t}\n\n\t\t// Fill Content and Actions\n\t\t// Make sure that the user meanwhile did not open another composite or closed the part containing the composite\n\t\tif (!this.activeComposite || composite.getId() !== this.activeComposite.getId()) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// Take Composite on-DOM and show\n\t\tthis.contentArea?.appendChild(compositeContainer);\n\t\tshow(compositeContainer);\n\n\t\t// Setup action runner\n\t\tconst toolBar = assertReturnsDefined(this.toolBar);\n\t\ttoolBar.actionRunner = composite.getActionRunner();\n\n\t\t// Update title with composite title if it differs from descriptor\n\t\tconst descriptor = this.registry.getComposite(composite.getId());\n\t\tif (descriptor && descriptor.name !== composite.getTitle()) {\n\t\t\tthis.updateTitle(composite.getId(), composite.getTitle());\n\t\t}\n\n\t\t// Handle Composite Actions\n\t\tlet actionsBinding = this.mapActionsBindingToComposite.get(composite.getId());\n\t\tif (!actionsBinding) {\n\t\t\tactionsBinding = this.collectCompositeActions(composite);\n\t\t\tthis.mapActionsBindingToComposite.set(composite.getId(), actionsBinding);\n\t\t}\n\t\tactionsBinding();\n\n\t\t// Action Run Handling\n\t\tthis.actionsListener.value = toolBar.actionRunner.onDidRun(e => {\n\n\t\t\t// Check for Error\n\t\t\tif (e.error && !isCancellationError(e.error)) {\n\t\t\t\tthis.notificationService.error(e.error);\n\t\t\t}\n\t\t});\n\n\t\t// Indicate to composite that it is now visible\n\t\tcomposite.setVisible(true);\n\n\t\t// Make sure that the user meanwhile did not open another composite or closed the part containing the composite\n\t\tif (!this.activeComposite || composite.getId() !== this.activeComposite.getId()) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure the composite is layed out\n\t\tif (this.contentAreaSize) {\n\t\t\tcomposite.layout(this.contentAreaSize);\n\t\t}\n\n\t\t// Make sure boundary sashes are propagated\n\t\tif (this.boundarySashes) {\n\t\t\tcomposite.setBoundarySashes(this.boundarySashes);\n\t\t}\n\t}\n\n\tprotected onTitleAreaUpdate(compositeId: string): void {\n\n\t\t// Title\n\t\tconst composite = this.instantiatedCompositeItems.get(compositeId);\n\t\tif (composite) {\n\t\t\tthis.updateTitle(compositeId, composite.composite.getTitle());\n\t\t}\n\n\t\t// Active Composite\n\t\tif (this.activeComposite?.getId() === compositeId) {\n\t\t\t// Actions\n\t\t\tconst actionsBinding = this.collectCompositeActions(this.activeComposite);\n\t\t\tthis.mapActionsBindingToComposite.set(this.activeComposite.getId(), actionsBinding);\n\t\t\tactionsBinding();\n\t\t}\n\n\t\t// Otherwise invalidate actions binding for next time when the composite becomes visible\n\t\telse {\n\t\t\tthis.mapActionsBindingToComposite.delete(compositeId);\n\t\t}\n\t}\n\n\tprivate updateTitle(compositeId: string, compositeTitle?: string): void {\n\t\tconst compositeDescriptor = this.registry.getComposite(compositeId);\n\t\tif (!compositeDescriptor || !this.titleLabel) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!compositeTitle) {\n\t\t\tcompositeTitle = compositeDescriptor.name;\n\t\t}\n\n\t\tconst keybinding = this.keybindingService.lookupKeybinding(compositeId);\n\n\t\tthis.titleLabel.updateTitle(compositeId, compositeTitle, keybinding?.getLabel() ?? undefined);\n\n\t\tconst toolBar = assertReturnsDefined(this.toolBar);\n\t\ttoolBar.setAriaLabel(localize('ariaCompositeToolbarLabel', \"{0} actions\", compositeTitle));\n\t}\n\n\tprivate collectCompositeActions(composite?: Composite): () => void {\n\n\t\t// From Composite\n\t\tconst menuIds = composite?.getMenuIds();\n\t\tconst primaryActions: IAction[] = composite?.getActions().slice(0) || [];\n\t\tconst secondaryActions: IAction[] = composite?.getSecondaryActions().slice(0) || [];\n\n\t\t// Update context\n\t\tconst toolBar = assertReturnsDefined(this.toolBar);\n\t\ttoolBar.context = this.actionsContextProvider();\n\n\t\t// Return fn to set into toolbar\n\t\treturn () => {\n\t\t\ttoolBar.setActions(prepareActions(primaryActions), prepareActions(secondaryActions), menuIds);\n\t\t\tthis.titleArea?.classList.toggle('has-actions', primaryActions.length > 0 || secondaryActions.length > 0);\n\t\t};\n\t}\n\n\tprotected getActiveComposite(): IComposite | undefined {\n\t\treturn this.activeComposite;\n\t}\n\n\tprotected getLastActiveCompositeId(): string {\n\t\treturn this.lastActiveCompositeId;\n\t}\n\n\tprotected hideActiveComposite(): Composite | undefined {\n\t\tif (!this.activeComposite) {\n\t\t\treturn undefined; // Nothing to do\n\t\t}\n\n\t\tconst composite = this.activeComposite;\n\t\tthis.activeComposite = undefined;\n\n\t\tconst compositeContainer = this.mapCompositeToCompositeContainer.get(composite.getId());\n\n\t\t// Indicate to Composite\n\t\tcomposite.setVisible(false);\n\n\t\t// Take Container Off-DOM and hide\n\t\tif (compositeContainer) {\n\t\t\tcompositeContainer.remove();\n\t\t\thide(compositeContainer);\n\t\t}\n\n\t\t// Clear any running Progress\n\t\tthis.progressBar?.stop().hide();\n\n\t\t// Empty Actions\n\t\tif (this.toolBar) {\n\t\t\tthis.collectCompositeActions()();\n\t\t}\n\t\tthis.onDidCompositeClose.fire(composite);\n\n\t\treturn composite;\n\t}\n\n\tprotected override createTitleArea(parent: HTMLElement): HTMLElement {\n\n\t\t// Title Area Container\n\t\tconst titleArea = append(parent, $('.composite'));\n\t\ttitleArea.classList.add('title');\n\n\t\t// Left Title Label\n\t\tthis.titleLabel = this.createTitleLabel(titleArea);\n\n\t\t// Right Actions Container\n\t\tconst titleActionsContainer = append(titleArea, $('.title-actions'));\n\n\t\t// Toolbar\n\t\tthis.toolBar = this._register(this.instantiationService.createInstance(WorkbenchToolBar, titleActionsContainer, {\n\t\t\tactionViewItemProvider: (action, options) => this.actionViewItemProvider(action, options),\n\t\t\torientation: ActionsOrientation.HORIZONTAL,\n\t\t\tgetKeyBinding: action => this.keybindingService.lookupKeybinding(action.id),\n\t\t\tanchorAlignmentProvider: () => this.getTitleAreaDropDownAnchorAlignment(),\n\t\t\ttoggleMenuTitle: localize('viewsAndMoreActions', \"Views and More Actions...\"),\n\t\t\ttelemetrySource: this.nameForTelemetry,\n\t\t\thoverDelegate: this.toolbarHoverDelegate,\n\t\t\ttrailingSeparator: this.trailingSeparator,\n\t\t}));\n\n\t\tthis.collectCompositeActions()();\n\n\t\treturn titleArea;\n\t}\n\n\tprotected createTitleLabel(parent: HTMLElement): ICompositeTitleLabel {\n\t\tconst titleContainer = append(parent, $('.title-label'));\n\t\tconst titleLabel = append(titleContainer, $('h2'));\n\t\tthis.titleLabelElement = titleLabel;\n\t\tconst hover = this._register(this.hoverService.setupManagedHover(getDefaultHoverDelegate('mouse'), titleLabel, ''));\n\n\t\tconst $this = this;\n\t\treturn {\n\t\t\tupdateTitle: (id, title, keybinding) => {\n\t\t\t\t// The title label is shared for all composites in the base CompositePart\n\t\t\t\tif (!this.activeComposite || this.activeComposite.getId() === id) {\n\t\t\t\t\ttitleLabel.textContent = title;\n\t\t\t\t\thover.update(keybinding ? localize('titleTooltip', \"{0} ({1})\", title, keybinding) : title);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tupdateStyles: () => {\n\t\t\t\ttitleLabel.style.color = $this.titleForegroundColor ? $this.getColor($this.titleForegroundColor) || '' : '';\n\t\t\t\tconst borderColor = $this.titleBorderColor ? $this.getColor($this.titleBorderColor) : undefined;\n\t\t\t\tparent.style.borderBottom = borderColor ? `1px solid ${borderColor}` : '';\n\t\t\t}\n\t\t};\n\t}\n\n\tprotected createHeaderArea(): HTMLElement {\n\t\treturn $('.composite');\n\t}\n\n\tprotected createFooterArea(): HTMLElement {\n\t\treturn $('.composite');\n\t}\n\n\toverride updateStyles(): void {\n\t\tsuper.updateStyles();\n\n\t\t// Forward to title label\n\t\tconst titleLabel = assertReturnsDefined(this.titleLabel);\n\t\ttitleLabel.updateStyles();\n\t}\n\n\tprotected actionViewItemProvider(action: IAction, options: IBaseActionViewItemOptions): IActionViewItem | undefined {\n\n\t\t// Check Active Composite\n\t\tif (this.activeComposite) {\n\t\t\treturn this.activeComposite.getActionViewItem(action, options);\n\t\t}\n\n\t\treturn createActionViewItem(this.instantiationService, action, options);\n\t}\n\n\tprotected actionsContextProvider(): unknown {\n\n\t\t// Check Active Composite\n\t\tif (this.activeComposite) {\n\t\t\treturn this.activeComposite.getActionsContext();\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tprotected override createContentArea(parent: HTMLElement): HTMLElement {\n\t\tconst contentContainer = append(parent, $('.content'));\n\n\t\tthis.progressBar = this._register(new ProgressBar(contentContainer, defaultProgressBarStyles));\n\t\tthis.progressBar.hide();\n\n\t\treturn contentContainer;\n\t}\n\n\tgetProgressIndicator(id: string): IProgressIndicator | undefined {\n\t\tconst compositeItem = this.instantiatedCompositeItems.get(id);\n\n\t\treturn compositeItem ? compositeItem.progress : undefined;\n\t}\n\n\tprotected getTitleAreaDropDownAnchorAlignment(): AnchorAlignment {\n\t\treturn AnchorAlignment.RIGHT;\n\t}\n\n\toverride layout(width: number, height: number, top: number, left: number): void {\n\t\tsuper.layout(width, height, top, left);\n\n\t\t// Layout contents\n\t\tthis.contentAreaSize = Dimension.lift(super.layoutContents(width, height).contentSize);\n\n\t\t// Layout composite\n\t\tthis.activeComposite?.layout(this.contentAreaSize);\n\t}\n\n\tsetBoundarySashes?(sashes: IBoundarySashes): void {\n\t\tthis.boundarySashes = sashes;\n\t\tthis.activeComposite?.setBoundarySashes(sashes);\n\t}\n\n\tprotected removeComposite(compositeId: string): boolean {\n\t\tif (this.activeComposite?.getId() === compositeId) {\n\t\t\treturn false; // do not remove active composite\n\t\t}\n\n\t\tthis.mapCompositeToCompositeContainer.delete(compositeId);\n\t\tthis.mapActionsBindingToComposite.delete(compositeId);\n\t\tconst compositeItem = this.instantiatedCompositeItems.get(compositeId);\n\t\tif (compositeItem) {\n\t\t\tcompositeItem.composite.dispose();\n\t\t\tdispose(compositeItem.disposable);\n\t\t\tthis.instantiatedCompositeItems.delete(compositeId);\n\t\t}\n\n\t\treturn true;\n\t}\n\n\toverride dispose(): void {\n\t\tthis.mapCompositeToCompositeContainer.clear();\n\t\tthis.mapActionsBindingToComposite.clear();\n\n\t\tthis.instantiatedCompositeItems.forEach(compositeItem => {\n\t\t\tcompositeItem.composite.dispose();\n\t\t\tdispose(compositeItem.disposable);\n\t\t});\n\n\t\tthis.instantiatedCompositeItems.clear();\n\n\t\tsuper.dispose();\n\t}\n}\n"]}