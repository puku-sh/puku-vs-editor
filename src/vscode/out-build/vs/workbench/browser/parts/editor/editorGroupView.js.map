{"version":3,"sources":["vs/workbench/browser/parts/editor/editorGroupView.ts"],"names":[],"mappings":"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","file":"editorGroupView.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport './media/editorgroupview.css';\nimport { EditorGroupModel, IEditorOpenOptions, IGroupModelChangeEvent, ISerializedEditorGroupModel, isGroupEditorCloseEvent, isGroupEditorOpenEvent, isSerializedEditorGroupModel } from '../../../common/editor/editorGroupModel.js';\nimport { GroupIdentifier, CloseDirection, IEditorCloseEvent, IEditorPane, SaveReason, IEditorPartOptionsChangeEvent, EditorsOrder, IVisibleEditorPane, EditorResourceAccessor, EditorInputCapabilities, IUntypedEditorInput, DEFAULT_EDITOR_ASSOCIATION, SideBySideEditor, EditorCloseContext, IEditorWillMoveEvent, IEditorWillOpenEvent, IMatchEditorOptions, GroupModelChangeKind, IActiveEditorChangeEvent, IFindEditorOptions, TEXT_DIFF_EDITOR_ID } from '../../../common/editor.js';\nimport { ActiveEditorGroupLockedContext, ActiveEditorDirtyContext, EditorGroupEditorsCountContext, ActiveEditorStickyContext, ActiveEditorPinnedContext, ActiveEditorLastInGroupContext, ActiveEditorFirstInGroupContext, ResourceContextKey, applyAvailableEditorIds, ActiveEditorAvailableEditorIdsContext, ActiveEditorCanSplitInGroupContext, SideBySideEditorActiveContext, TextCompareEditorVisibleContext, TextCompareEditorActiveContext, ActiveEditorContext, ActiveEditorReadonlyContext, ActiveEditorCanRevertContext, ActiveEditorCanToggleReadonlyContext, ActiveCompareEditorCanSwapContext, MultipleEditorsSelectedInGroupContext, TwoEditorsSelectedInGroupContext, SelectedEditorsInGroupFileOrUntitledResourceContextKey } from '../../../common/contextkeys.js';\nimport { EditorInput } from '../../../common/editor/editorInput.js';\nimport { SideBySideEditorInput } from '../../../common/editor/sideBySideEditorInput.js';\nimport { Emitter, Event, Relay } from '../../../../base/common/event.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { Dimension, trackFocus, addDisposableListener, EventType, EventHelper, findParentWithClass, isAncestor, IDomNodePagePosition, isMouseEvent, isActiveElement, getWindow, getActiveElement, $ } from '../../../../base/browser/dom.js';\nimport { ServiceCollection } from '../../../../platform/instantiation/common/serviceCollection.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { ProgressBar } from '../../../../base/browser/ui/progressbar/progressbar.js';\nimport { IThemeService, Themable } from '../../../../platform/theme/common/themeService.js';\nimport { editorBackground, contrastBorder } from '../../../../platform/theme/common/colorRegistry.js';\nimport { EDITOR_GROUP_HEADER_TABS_BACKGROUND, EDITOR_GROUP_HEADER_NO_TABS_BACKGROUND, EDITOR_GROUP_EMPTY_BACKGROUND, EDITOR_GROUP_HEADER_BORDER } from '../../../common/theme.js';\nimport { ICloseEditorsFilter, GroupsOrder, ICloseEditorOptions, ICloseAllEditorsOptions, IEditorReplacement, IActiveEditorActions } from '../../../services/editor/common/editorGroupsService.js';\nimport { EditorPanes } from './editorPanes.js';\nimport { IEditorProgressService } from '../../../../platform/progress/common/progress.js';\nimport { EditorProgressIndicator } from '../../../services/progress/browser/progressIndicator.js';\nimport { localize } from '../../../../nls.js';\nimport { coalesce } from '../../../../base/common/arrays.js';\nimport { DisposableStore, MutableDisposable, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { ITelemetryData, ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nimport { DeferredPromise, Promises, RunOnceWorker } from '../../../../base/common/async.js';\nimport { EventType as TouchEventType, GestureEvent } from '../../../../base/browser/touch.js';\nimport { IEditorGroupsView, IEditorGroupView, fillActiveEditorViewState, EditorServiceImpl, IEditorGroupTitleHeight, IInternalEditorOpenOptions, IInternalMoveCopyOptions, IInternalEditorCloseOptions, IInternalEditorTitleControlOptions, IEditorPartsView, IEditorGroupViewOptions } from './editor.js';\nimport { ActionBar } from '../../../../base/browser/ui/actionbar/actionbar.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { SubmenuAction } from '../../../../base/common/actions.js';\nimport { IMenuChangeEvent, IMenuService, MenuId } from '../../../../platform/actions/common/actions.js';\nimport { StandardMouseEvent } from '../../../../base/browser/mouseEvent.js';\nimport { getActionBarActions, PrimaryAndSecondaryActions } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { hash } from '../../../../base/common/hash.js';\nimport { getMimeTypes } from '../../../../editor/common/services/languagesAssociations.js';\nimport { extname, isEqual } from '../../../../base/common/resources.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport { EditorActivation, IEditorOptions } from '../../../../platform/editor/common/editor.js';\nimport { IFileDialogService, ConfirmResult, IDialogService } from '../../../../platform/dialogs/common/dialogs.js';\nimport { IFilesConfigurationService, AutoSaveMode } from '../../../services/filesConfiguration/common/filesConfigurationService.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { IUriIdentityService } from '../../../../platform/uriIdentity/common/uriIdentity.js';\nimport { isLinux, isMacintosh, isNative, isWindows } from '../../../../base/common/platform.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\nimport { TelemetryTrustedValue } from '../../../../platform/telemetry/common/telemetryUtils.js';\nimport { defaultProgressBarStyles } from '../../../../platform/theme/browser/defaultStyles.js';\nimport { IBoundarySashes } from '../../../../base/browser/ui/sash/sash.js';\nimport { EditorGroupWatermark } from './editorGroupWatermark.js';\nimport { EditorTitleControl } from './editorTitleControl.js';\nimport { EditorPane } from './editorPane.js';\nimport { IEditorResolverService } from '../../../services/editor/common/editorResolverService.js';\nimport { IHostService } from '../../../services/host/browser/host.js';\nimport { DiffEditorInput } from '../../../common/editor/diffEditorInput.js';\nimport { FileSystemProviderCapabilities, IFileService } from '../../../../platform/files/common/files.js';\n\nexport class EditorGroupView extends Themable implements IEditorGroupView {\n\n\t//#region factory\n\n\tstatic createNew(editorPartsView: IEditorPartsView, groupsView: IEditorGroupsView, groupsLabel: string, groupIndex: number, instantiationService: IInstantiationService, options?: IEditorGroupViewOptions): IEditorGroupView {\n\t\treturn instantiationService.createInstance(EditorGroupView, null, editorPartsView, groupsView, groupsLabel, groupIndex, options);\n\t}\n\n\tstatic createFromSerialized(serialized: ISerializedEditorGroupModel, editorPartsView: IEditorPartsView, groupsView: IEditorGroupsView, groupsLabel: string, groupIndex: number, instantiationService: IInstantiationService, options?: IEditorGroupViewOptions): IEditorGroupView {\n\t\treturn instantiationService.createInstance(EditorGroupView, serialized, editorPartsView, groupsView, groupsLabel, groupIndex, options);\n\t}\n\n\tstatic createCopy(copyFrom: IEditorGroupView, editorPartsView: IEditorPartsView, groupsView: IEditorGroupsView, groupsLabel: string, groupIndex: number, instantiationService: IInstantiationService, options?: IEditorGroupViewOptions): IEditorGroupView {\n\t\treturn instantiationService.createInstance(EditorGroupView, copyFrom, editorPartsView, groupsView, groupsLabel, groupIndex, options);\n\t}\n\n\t//#endregion\n\n\t/**\n\t * Access to the context key service scoped to this editor group.\n\t */\n\treadonly scopedContextKeyService: IContextKeyService;\n\n\t//#region events\n\n\tprivate readonly _onDidFocus = this._register(new Emitter<void>());\n\treadonly onDidFocus = this._onDidFocus.event;\n\n\tprivate readonly _onWillDispose = this._register(new Emitter<void>());\n\treadonly onWillDispose = this._onWillDispose.event;\n\n\tprivate readonly _onDidModelChange = this._register(new Emitter<IGroupModelChangeEvent>());\n\treadonly onDidModelChange = this._onDidModelChange.event;\n\n\tprivate readonly _onDidActiveEditorChange = this._register(new Emitter<IActiveEditorChangeEvent>());\n\treadonly onDidActiveEditorChange = this._onDidActiveEditorChange.event;\n\n\tprivate readonly _onDidOpenEditorFail = this._register(new Emitter<EditorInput>());\n\treadonly onDidOpenEditorFail = this._onDidOpenEditorFail.event;\n\n\tprivate readonly _onWillCloseEditor = this._register(new Emitter<IEditorCloseEvent>());\n\treadonly onWillCloseEditor = this._onWillCloseEditor.event;\n\n\tprivate readonly _onDidCloseEditor = this._register(new Emitter<IEditorCloseEvent>());\n\treadonly onDidCloseEditor = this._onDidCloseEditor.event;\n\n\tprivate readonly _onWillMoveEditor = this._register(new Emitter<IEditorWillMoveEvent>());\n\treadonly onWillMoveEditor = this._onWillMoveEditor.event;\n\n\tprivate readonly _onWillOpenEditor = this._register(new Emitter<IEditorWillOpenEvent>());\n\treadonly onWillOpenEditor = this._onWillOpenEditor.event;\n\n\t//#endregion\n\n\tprivate readonly model: EditorGroupModel;\n\n\tprivate active: boolean | undefined;\n\tprivate lastLayout: IDomNodePagePosition | undefined;\n\n\tprivate readonly scopedInstantiationService: IInstantiationService;\n\n\tprivate readonly resourceContext: ResourceContextKey;\n\n\tprivate readonly titleContainer: HTMLElement;\n\tprivate readonly titleControl: EditorTitleControl;\n\n\tprivate readonly progressBar: ProgressBar;\n\n\tprivate readonly editorContainer: HTMLElement;\n\tprivate readonly editorPane: EditorPanes;\n\n\tprivate readonly disposedEditorsWorker = this._register(new RunOnceWorker<EditorInput>(editors => this.handleDisposedEditors(editors), 0));\n\n\tprivate readonly mapEditorToPendingConfirmation = new Map<EditorInput, Promise<boolean>>();\n\n\tprivate readonly containerToolBarMenuDisposable = this._register(new MutableDisposable());\n\n\tprivate readonly whenRestoredPromise = new DeferredPromise<void>();\n\treadonly whenRestored = this.whenRestoredPromise.p;\n\n\tconstructor(\n\t\tfrom: IEditorGroupView | ISerializedEditorGroupModel | null,\n\t\tprivate readonly editorPartsView: IEditorPartsView,\n\t\treadonly groupsView: IEditorGroupsView,\n\t\tprivate groupsLabel: string,\n\t\tprivate _index: number,\n\t\toptions: IEditorGroupViewOptions | undefined,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@ITelemetryService private readonly telemetryService: ITelemetryService,\n\t\t@IKeybindingService private readonly keybindingService: IKeybindingService,\n\t\t@IMenuService private readonly menuService: IMenuService,\n\t\t@IContextMenuService private readonly contextMenuService: IContextMenuService,\n\t\t@IFileDialogService private readonly fileDialogService: IFileDialogService,\n\t\t@IEditorService private readonly editorService: EditorServiceImpl,\n\t\t@IFilesConfigurationService private readonly filesConfigurationService: IFilesConfigurationService,\n\t\t@IUriIdentityService private readonly uriIdentityService: IUriIdentityService,\n\t\t@ILogService private readonly logService: ILogService,\n\t\t@IEditorResolverService private readonly editorResolverService: IEditorResolverService,\n\t\t@IHostService private readonly hostService: IHostService,\n\t\t@IDialogService private readonly dialogService: IDialogService,\n\t\t@IFileService private readonly fileService: IFileService\n\t) {\n\t\tsuper(themeService);\n\n\t\tif (from instanceof EditorGroupView) {\n\t\t\tthis.model = this._register(from.model.clone());\n\t\t} else if (isSerializedEditorGroupModel(from)) {\n\t\t\tthis.model = this._register(instantiationService.createInstance(EditorGroupModel, from));\n\t\t} else {\n\t\t\tthis.model = this._register(instantiationService.createInstance(EditorGroupModel, undefined));\n\t\t}\n\n\t\t//#region create()\n\t\t{\n\t\t\t// Scoped context key service\n\t\t\tthis.scopedContextKeyService = this._register(this.contextKeyService.createScoped(this.element));\n\n\t\t\t// Container\n\t\t\tthis.element.classList.add(...coalesce(['editor-group-container', this.model.isLocked ? 'locked' : undefined]));\n\n\t\t\t// Container listeners\n\t\t\tthis.registerContainerListeners();\n\n\t\t\t// Container toolbar\n\t\t\tthis.createContainerToolbar();\n\n\t\t\t// Container context menu\n\t\t\tthis.createContainerContextMenu();\n\n\t\t\t// Watermark & shortcuts\n\t\t\tthis._register(this.instantiationService.createInstance(EditorGroupWatermark, this.element));\n\n\t\t\t// Progress bar\n\t\t\tthis.progressBar = this._register(new ProgressBar(this.element, defaultProgressBarStyles));\n\t\t\tthis.progressBar.hide();\n\n\t\t\t// Scoped instantiation service\n\t\t\tthis.scopedInstantiationService = this._register(this.instantiationService.createChild(new ServiceCollection(\n\t\t\t\t[IContextKeyService, this.scopedContextKeyService],\n\t\t\t\t[IEditorProgressService, this._register(new EditorProgressIndicator(this.progressBar, this))]\n\t\t\t)));\n\n\t\t\t// Context keys\n\t\t\tthis.resourceContext = this._register(this.scopedInstantiationService.createInstance(ResourceContextKey));\n\t\t\tthis.handleGroupContextKeys();\n\n\t\t\t// Title container\n\t\t\tthis.titleContainer = $('.title');\n\t\t\tthis.element.appendChild(this.titleContainer);\n\n\t\t\t// Title control\n\t\t\tthis.titleControl = this._register(this.scopedInstantiationService.createInstance(EditorTitleControl, this.titleContainer, this.editorPartsView, this.groupsView, this, this.model));\n\n\t\t\t// Editor container\n\t\t\tthis.editorContainer = $('.editor-container');\n\t\t\tthis.element.appendChild(this.editorContainer);\n\n\t\t\t// Editor pane\n\t\t\tthis.editorPane = this._register(this.scopedInstantiationService.createInstance(EditorPanes, this.element, this.editorContainer, this));\n\t\t\tthis._onDidChange.input = this.editorPane.onDidChangeSizeConstraints;\n\n\t\t\t// Track Focus\n\t\t\tthis.doTrackFocus();\n\n\t\t\t// Update containers\n\t\t\tthis.updateTitleContainer();\n\t\t\tthis.updateContainer();\n\n\t\t\t// Update styles\n\t\t\tthis.updateStyles();\n\t\t}\n\t\t//#endregion\n\n\t\t// Restore editors if provided\n\t\tconst restoreEditorsPromise = this.restoreEditors(from, options) ?? Promise.resolve();\n\n\t\t// Signal restored once editors have restored\n\t\trestoreEditorsPromise.finally(() => {\n\t\t\tthis.whenRestoredPromise.complete();\n\t\t});\n\n\t\t// Register Listeners\n\t\tthis.registerListeners();\n\t}\n\n\tprivate handleGroupContextKeys(): void {\n\t\tconst groupActiveEditorDirtyContext = this.editorPartsView.bind(ActiveEditorDirtyContext, this);\n\t\tconst groupActiveEditorPinnedContext = this.editorPartsView.bind(ActiveEditorPinnedContext, this);\n\t\tconst groupActiveEditorFirstContext = this.editorPartsView.bind(ActiveEditorFirstInGroupContext, this);\n\t\tconst groupActiveEditorLastContext = this.editorPartsView.bind(ActiveEditorLastInGroupContext, this);\n\t\tconst groupActiveEditorStickyContext = this.editorPartsView.bind(ActiveEditorStickyContext, this);\n\t\tconst groupEditorsCountContext = this.editorPartsView.bind(EditorGroupEditorsCountContext, this);\n\t\tconst groupLockedContext = this.editorPartsView.bind(ActiveEditorGroupLockedContext, this);\n\n\t\tconst multipleEditorsSelectedContext = MultipleEditorsSelectedInGroupContext.bindTo(this.scopedContextKeyService);\n\t\tconst twoEditorsSelectedContext = TwoEditorsSelectedInGroupContext.bindTo(this.scopedContextKeyService);\n\t\tconst selectedEditorsHaveFileOrUntitledResourceContext = SelectedEditorsInGroupFileOrUntitledResourceContextKey.bindTo(this.scopedContextKeyService);\n\n\t\tconst groupActiveEditorContext = this.editorPartsView.bind(ActiveEditorContext, this);\n\t\tconst groupActiveEditorIsReadonly = this.editorPartsView.bind(ActiveEditorReadonlyContext, this);\n\t\tconst groupActiveEditorCanRevert = this.editorPartsView.bind(ActiveEditorCanRevertContext, this);\n\t\tconst groupActiveEditorCanToggleReadonly = this.editorPartsView.bind(ActiveEditorCanToggleReadonlyContext, this);\n\t\tconst groupActiveCompareEditorCanSwap = this.editorPartsView.bind(ActiveCompareEditorCanSwapContext, this);\n\t\tconst groupTextCompareEditorVisibleContext = this.editorPartsView.bind(TextCompareEditorVisibleContext, this);\n\t\tconst groupTextCompareEditorActiveContext = this.editorPartsView.bind(TextCompareEditorActiveContext, this);\n\n\t\tconst groupActiveEditorAvailableEditorIds = this.editorPartsView.bind(ActiveEditorAvailableEditorIdsContext, this);\n\t\tconst groupActiveEditorCanSplitInGroupContext = this.editorPartsView.bind(ActiveEditorCanSplitInGroupContext, this);\n\t\tconst groupActiveEditorIsSideBySideEditorContext = this.editorPartsView.bind(SideBySideEditorActiveContext, this);\n\n\t\tconst activeEditorListener = this._register(new MutableDisposable());\n\n\t\tconst observeActiveEditor = () => {\n\t\t\tactiveEditorListener.clear();\n\n\t\t\tthis.scopedContextKeyService.bufferChangeEvents(() => {\n\t\t\t\tconst activeEditor = this.activeEditor;\n\t\t\t\tconst activeEditorPane = this.activeEditorPane;\n\n\t\t\t\tthis.resourceContext.set(EditorResourceAccessor.getOriginalUri(activeEditor, { supportSideBySide: SideBySideEditor.PRIMARY }));\n\n\t\t\t\tapplyAvailableEditorIds(groupActiveEditorAvailableEditorIds, activeEditor, this.editorResolverService);\n\n\t\t\t\tif (activeEditor) {\n\t\t\t\t\tgroupActiveEditorCanSplitInGroupContext.set(activeEditor.hasCapability(EditorInputCapabilities.CanSplitInGroup));\n\t\t\t\t\tgroupActiveEditorIsSideBySideEditorContext.set(activeEditor.typeId === SideBySideEditorInput.ID);\n\n\t\t\t\t\tgroupActiveEditorDirtyContext.set(activeEditor.isDirty() && !activeEditor.isSaving());\n\t\t\t\t\tactiveEditorListener.value = activeEditor.onDidChangeDirty(() => {\n\t\t\t\t\t\tgroupActiveEditorDirtyContext.set(activeEditor.isDirty() && !activeEditor.isSaving());\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tgroupActiveEditorCanSplitInGroupContext.set(false);\n\t\t\t\t\tgroupActiveEditorIsSideBySideEditorContext.set(false);\n\t\t\t\t\tgroupActiveEditorDirtyContext.set(false);\n\t\t\t\t}\n\n\t\t\t\tif (activeEditorPane) {\n\t\t\t\t\tgroupActiveEditorContext.set(activeEditorPane.getId());\n\t\t\t\t\tgroupActiveEditorCanRevert.set(!activeEditorPane.input.hasCapability(EditorInputCapabilities.Untitled));\n\t\t\t\t\tgroupActiveEditorIsReadonly.set(!!activeEditorPane.input.isReadonly());\n\n\t\t\t\t\tconst primaryEditorResource = EditorResourceAccessor.getOriginalUri(activeEditorPane.input, { supportSideBySide: SideBySideEditor.PRIMARY });\n\t\t\t\t\tconst secondaryEditorResource = EditorResourceAccessor.getOriginalUri(activeEditorPane.input, { supportSideBySide: SideBySideEditor.SECONDARY });\n\t\t\t\t\tgroupActiveCompareEditorCanSwap.set(activeEditorPane.input instanceof DiffEditorInput && !activeEditorPane.input.original.isReadonly() && !!primaryEditorResource && (this.fileService.hasProvider(primaryEditorResource) || primaryEditorResource.scheme === Schemas.untitled) && !!secondaryEditorResource && (this.fileService.hasProvider(secondaryEditorResource) || secondaryEditorResource.scheme === Schemas.untitled));\n\t\t\t\t\tgroupActiveEditorCanToggleReadonly.set(!!primaryEditorResource && this.fileService.hasProvider(primaryEditorResource) && !this.fileService.hasCapability(primaryEditorResource, FileSystemProviderCapabilities.Readonly));\n\n\t\t\t\t\tconst activePaneDiffEditor = activeEditorPane?.getId() === TEXT_DIFF_EDITOR_ID;\n\t\t\t\t\tgroupTextCompareEditorActiveContext.set(activePaneDiffEditor);\n\t\t\t\t\tgroupTextCompareEditorVisibleContext.set(activePaneDiffEditor);\n\t\t\t\t} else {\n\t\t\t\t\tgroupActiveEditorContext.reset();\n\t\t\t\t\tgroupActiveEditorCanRevert.reset();\n\t\t\t\t\tgroupActiveEditorIsReadonly.reset();\n\t\t\t\t\tgroupActiveCompareEditorCanSwap.reset();\n\t\t\t\t\tgroupActiveEditorCanToggleReadonly.reset();\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\t// Update group contexts based on group changes\n\t\tconst updateGroupContextKeys = (e: IGroupModelChangeEvent) => {\n\t\t\tswitch (e.kind) {\n\t\t\t\tcase GroupModelChangeKind.GROUP_LOCKED:\n\t\t\t\t\tgroupLockedContext.set(this.isLocked);\n\t\t\t\t\tbreak;\n\t\t\t\tcase GroupModelChangeKind.EDITOR_ACTIVE:\n\t\t\t\t\tgroupActiveEditorFirstContext.set(this.model.isFirst(this.model.activeEditor));\n\t\t\t\t\tgroupActiveEditorLastContext.set(this.model.isLast(this.model.activeEditor));\n\t\t\t\t\tgroupActiveEditorPinnedContext.set(this.model.activeEditor ? this.model.isPinned(this.model.activeEditor) : false);\n\t\t\t\t\tgroupActiveEditorStickyContext.set(this.model.activeEditor ? this.model.isSticky(this.model.activeEditor) : false);\n\t\t\t\t\tbreak;\n\t\t\t\tcase GroupModelChangeKind.EDITOR_CLOSE:\n\t\t\t\t\tgroupActiveEditorPinnedContext.set(this.model.activeEditor ? this.model.isPinned(this.model.activeEditor) : false);\n\t\t\t\t\tgroupActiveEditorStickyContext.set(this.model.activeEditor ? this.model.isSticky(this.model.activeEditor) : false);\n\t\t\t\t\tbreak;\n\t\t\t\tcase GroupModelChangeKind.EDITOR_OPEN:\n\t\t\t\tcase GroupModelChangeKind.EDITOR_MOVE:\n\t\t\t\t\tgroupActiveEditorFirstContext.set(this.model.isFirst(this.model.activeEditor));\n\t\t\t\t\tgroupActiveEditorLastContext.set(this.model.isLast(this.model.activeEditor));\n\t\t\t\t\tbreak;\n\t\t\t\tcase GroupModelChangeKind.EDITOR_PIN:\n\t\t\t\t\tif (e.editor && e.editor === this.model.activeEditor) {\n\t\t\t\t\t\tgroupActiveEditorPinnedContext.set(this.model.isPinned(this.model.activeEditor));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase GroupModelChangeKind.EDITOR_STICKY:\n\t\t\t\t\tif (e.editor && e.editor === this.model.activeEditor) {\n\t\t\t\t\t\tgroupActiveEditorStickyContext.set(this.model.isSticky(this.model.activeEditor));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase GroupModelChangeKind.EDITORS_SELECTION:\n\t\t\t\t\tmultipleEditorsSelectedContext.set(this.model.selectedEditors.length > 1);\n\t\t\t\t\ttwoEditorsSelectedContext.set(this.model.selectedEditors.length === 2);\n\t\t\t\t\tselectedEditorsHaveFileOrUntitledResourceContext.set(this.model.selectedEditors.every(e => e.resource && (this.fileService.hasProvider(e.resource) || e.resource.scheme === Schemas.untitled)));\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Group editors count context\n\t\t\tgroupEditorsCountContext.set(this.count);\n\t\t};\n\n\t\tthis._register(this.onDidModelChange(e => updateGroupContextKeys(e)));\n\n\t\t// Track the active editor and update context key that reflects\n\t\t// the dirty state of this editor\n\t\tthis._register(this.onDidActiveEditorChange(() => observeActiveEditor()));\n\n\t\t// Update context keys on startup\n\t\tobserveActiveEditor();\n\t\tupdateGroupContextKeys({ kind: GroupModelChangeKind.EDITOR_ACTIVE });\n\t\tupdateGroupContextKeys({ kind: GroupModelChangeKind.GROUP_LOCKED });\n\t}\n\n\tprivate registerContainerListeners(): void {\n\n\t\t// Open new file via doubleclick on empty container\n\t\tthis._register(addDisposableListener(this.element, EventType.DBLCLICK, e => {\n\t\t\tif (this.isEmpty) {\n\t\t\t\tEventHelper.stop(e);\n\n\t\t\t\tthis.editorService.openEditor({\n\t\t\t\t\tresource: undefined,\n\t\t\t\t\toptions: {\n\t\t\t\t\t\tpinned: true,\n\t\t\t\t\t\toverride: DEFAULT_EDITOR_ASSOCIATION.id\n\t\t\t\t\t}\n\t\t\t\t}, this.id);\n\t\t\t}\n\t\t}));\n\n\t\t// Close empty editor group via middle mouse click\n\t\tthis._register(addDisposableListener(this.element, EventType.AUXCLICK, e => {\n\t\t\tif (this.isEmpty && e.button === 1 /* Middle Button */) {\n\t\t\t\tEventHelper.stop(e, true);\n\n\t\t\t\tthis.groupsView.removeGroup(this);\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate createContainerToolbar(): void {\n\n\t\t// Toolbar Container\n\t\tconst toolbarContainer = $('.editor-group-container-toolbar');\n\t\tthis.element.appendChild(toolbarContainer);\n\n\t\t// Toolbar\n\t\tconst containerToolbar = this._register(new ActionBar(toolbarContainer, {\n\t\t\tariaLabel: localize('ariaLabelGroupActions', \"Empty editor group actions\"),\n\t\t\thighlightToggledItems: true\n\t\t}));\n\n\t\t// Toolbar actions\n\t\tconst containerToolbarMenu = this._register(this.menuService.createMenu(MenuId.EmptyEditorGroup, this.scopedContextKeyService));\n\t\tconst updateContainerToolbar = () => {\n\n\t\t\t// Clear old actions\n\t\t\tthis.containerToolBarMenuDisposable.value = toDisposable(() => containerToolbar.clear());\n\n\t\t\t// Create new actions\n\t\t\tconst actions = getActionBarActions(\n\t\t\t\tcontainerToolbarMenu.getActions({ arg: { groupId: this.id }, shouldForwardArgs: true }),\n\t\t\t\t'navigation'\n\t\t\t);\n\n\t\t\tfor (const action of [...actions.primary, ...actions.secondary]) {\n\t\t\t\tconst keybinding = this.keybindingService.lookupKeybinding(action.id);\n\t\t\t\tcontainerToolbar.push(action, { icon: true, label: false, keybinding: keybinding?.getLabel() });\n\t\t\t}\n\t\t};\n\t\tupdateContainerToolbar();\n\t\tthis._register(containerToolbarMenu.onDidChange(updateContainerToolbar));\n\t}\n\n\tprivate createContainerContextMenu(): void {\n\t\tthis._register(addDisposableListener(this.element, EventType.CONTEXT_MENU, e => this.onShowContainerContextMenu(e)));\n\t\tthis._register(addDisposableListener(this.element, TouchEventType.Contextmenu, () => this.onShowContainerContextMenu()));\n\t}\n\n\tprivate onShowContainerContextMenu(e?: MouseEvent): void {\n\t\tif (!this.isEmpty) {\n\t\t\treturn; // only for empty editor groups\n\t\t}\n\n\t\t// Find target anchor\n\t\tlet anchor: HTMLElement | StandardMouseEvent = this.element;\n\t\tif (e) {\n\t\t\tanchor = new StandardMouseEvent(getWindow(this.element), e);\n\t\t}\n\n\t\t// Show it\n\t\tthis.contextMenuService.showContextMenu({\n\t\t\tmenuId: MenuId.EmptyEditorGroupContext,\n\t\t\tcontextKeyService: this.contextKeyService,\n\t\t\tgetAnchor: () => anchor,\n\t\t\tonHide: () => this.focus()\n\t\t});\n\t}\n\n\tprivate doTrackFocus(): void {\n\n\t\t// Container\n\t\tconst containerFocusTracker = this._register(trackFocus(this.element));\n\t\tthis._register(containerFocusTracker.onDidFocus(() => {\n\t\t\tif (this.isEmpty) {\n\t\t\t\tthis._onDidFocus.fire(); // only when empty to prevent duplicate events from `editorPane.onDidFocus`\n\t\t\t}\n\t\t}));\n\n\t\t// Title Container\n\t\tconst handleTitleClickOrTouch = (e: MouseEvent | GestureEvent): void => {\n\t\t\tlet target: HTMLElement;\n\t\t\tif (isMouseEvent(e)) {\n\t\t\t\tif (e.button !== 0 /* middle/right mouse button */ || (isMacintosh && e.ctrlKey /* macOS context menu */)) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\ttarget = e.target as HTMLElement;\n\t\t\t} else {\n\t\t\t\ttarget = (e as GestureEvent).initialTarget as HTMLElement;\n\t\t\t}\n\n\t\t\tif (findParentWithClass(target, 'monaco-action-bar', this.titleContainer) ||\n\t\t\t\tfindParentWithClass(target, 'monaco-breadcrumb-item', this.titleContainer)\n\t\t\t) {\n\t\t\t\treturn; // not when clicking on actions or breadcrumbs\n\t\t\t}\n\n\t\t\t// timeout to keep focus in editor after mouse up\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.focus();\n\t\t\t});\n\t\t};\n\n\t\tthis._register(addDisposableListener(this.titleContainer, EventType.MOUSE_DOWN, e => handleTitleClickOrTouch(e)));\n\t\tthis._register(addDisposableListener(this.titleContainer, TouchEventType.Tap, e => handleTitleClickOrTouch(e)));\n\n\t\t// Editor pane\n\t\tthis._register(this.editorPane.onDidFocus(() => {\n\t\t\tthis._onDidFocus.fire();\n\t\t}));\n\t}\n\n\tprivate updateContainer(): void {\n\n\t\t// Empty Container: add some empty container attributes\n\t\tif (this.isEmpty) {\n\t\t\tthis.element.classList.add('empty');\n\t\t\tthis.element.tabIndex = 0;\n\t\t\tthis.element.setAttribute('aria-label', localize('emptyEditorGroup', \"{0} (empty)\", this.ariaLabel));\n\t\t}\n\n\t\t// Non-Empty Container: revert empty container attributes\n\t\telse {\n\t\t\tthis.element.classList.remove('empty');\n\t\t\tthis.element.removeAttribute('tabIndex');\n\t\t\tthis.element.removeAttribute('aria-label');\n\t\t}\n\n\t\t// Update styles\n\t\tthis.updateStyles();\n\t}\n\n\tprivate updateTitleContainer(): void {\n\t\tthis.titleContainer.classList.toggle('tabs', this.groupsView.partOptions.showTabs === 'multiple');\n\t\tthis.titleContainer.classList.toggle('show-file-icons', this.groupsView.partOptions.showIcons);\n\t}\n\n\tprivate restoreEditors(from: IEditorGroupView | ISerializedEditorGroupModel | null, groupViewOptions?: IEditorGroupViewOptions): Promise<void> | undefined {\n\t\tif (this.count === 0) {\n\t\t\treturn; // nothing to show\n\t\t}\n\n\t\t// Determine editor options\n\t\tlet options: IEditorOptions;\n\t\tif (from instanceof EditorGroupView) {\n\t\t\toptions = fillActiveEditorViewState(from); // if we copy from another group, ensure to copy its active editor viewstate\n\t\t} else {\n\t\t\toptions = Object.create(null);\n\t\t}\n\n\t\tconst activeEditor = this.model.activeEditor;\n\t\tif (!activeEditor) {\n\t\t\treturn;\n\t\t}\n\n\t\toptions.pinned = this.model.isPinned(activeEditor);\t// preserve pinned state\n\t\toptions.sticky = this.model.isSticky(activeEditor);\t// preserve sticky state\n\t\toptions.preserveFocus = true;\t\t\t\t\t\t// handle focus after editor is restored\n\n\t\tconst internalOptions: IInternalEditorOpenOptions = {\n\t\t\tpreserveWindowOrder: true,\t\t\t\t\t\t// handle window order after editor is restored\n\t\t\tskipTitleUpdate: true,\t\t\t\t\t\t\t// update the title later for all editors at once\n\t\t};\n\n\t\tconst activeElement = getActiveElement();\n\n\t\t// Show active editor (intentionally not using async to keep\n\t\t// `restoreEditors` from executing in same stack)\n\t\tconst result = this.doShowEditor(activeEditor, { active: true, isNew: false /* restored */ }, options, internalOptions).then(() => {\n\n\t\t\t// Set focused now if this is the active group and focus has\n\t\t\t// not changed meanwhile. This prevents focus from being\n\t\t\t// stolen accidentally on startup when the user already\n\t\t\t// clicked somewhere.\n\n\t\t\tif (this.groupsView.activeGroup === this && activeElement && isActiveElement(activeElement) && !groupViewOptions?.preserveFocus) {\n\t\t\t\tthis.focus();\n\t\t\t}\n\t\t});\n\n\t\t// Restore editors in title control\n\t\tthis.titleControl.openEditors(this.editors);\n\n\t\treturn result;\n\t}\n\n\t//#region event handling\n\n\tprivate registerListeners(): void {\n\n\t\t// Model Events\n\t\tthis._register(this.model.onDidModelChange(e => this.onDidGroupModelChange(e)));\n\n\t\t// Option Changes\n\t\tthis._register(this.groupsView.onDidChangeEditorPartOptions(e => this.onDidChangeEditorPartOptions(e)));\n\n\t\t// Visibility\n\t\tthis._register(this.groupsView.onDidVisibilityChange(e => this.onDidVisibilityChange(e)));\n\n\t\t// Focus\n\t\tthis._register(this.onDidFocus(() => this.onDidGainFocus()));\n\t}\n\n\tprivate onDidGroupModelChange(e: IGroupModelChangeEvent): void {\n\n\t\t// Re-emit to outside\n\t\tthis._onDidModelChange.fire(e);\n\n\t\t// Handle within\n\n\t\tswitch (e.kind) {\n\t\t\tcase GroupModelChangeKind.GROUP_LOCKED:\n\t\t\t\tthis.element.classList.toggle('locked', this.isLocked);\n\t\t\t\tbreak;\n\t\t\tcase GroupModelChangeKind.EDITORS_SELECTION:\n\t\t\t\tthis.onDidChangeEditorSelection();\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (!e.editor) {\n\t\t\treturn;\n\t\t}\n\n\t\tswitch (e.kind) {\n\t\t\tcase GroupModelChangeKind.EDITOR_OPEN:\n\t\t\t\tif (isGroupEditorOpenEvent(e)) {\n\t\t\t\t\tthis.onDidOpenEditor(e.editor, e.editorIndex);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase GroupModelChangeKind.EDITOR_CLOSE:\n\t\t\t\tif (isGroupEditorCloseEvent(e)) {\n\t\t\t\t\tthis.handleOnDidCloseEditor(e.editor, e.editorIndex, e.context, e.sticky);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase GroupModelChangeKind.EDITOR_WILL_DISPOSE:\n\t\t\t\tthis.onWillDisposeEditor(e.editor);\n\t\t\t\tbreak;\n\t\t\tcase GroupModelChangeKind.EDITOR_DIRTY:\n\t\t\t\tthis.onDidChangeEditorDirty(e.editor);\n\t\t\t\tbreak;\n\t\t\tcase GroupModelChangeKind.EDITOR_TRANSIENT:\n\t\t\t\tthis.onDidChangeEditorTransient(e.editor);\n\t\t\t\tbreak;\n\t\t\tcase GroupModelChangeKind.EDITOR_LABEL:\n\t\t\t\tthis.onDidChangeEditorLabel(e.editor);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tprivate onDidOpenEditor(editor: EditorInput, editorIndex: number): void {\n\n\t\t/* __GDPR__\n\t\t\t\"editorOpened\" : {\n\t\t\t\t\"owner\": \"isidorn\",\n\t\t\t\t\"${include}\": [\n\t\t\t\t\t\"${EditorTelemetryDescriptor}\"\n\t\t\t\t]\n\t\t\t}\n\t\t*/\n\t\tthis.telemetryService.publicLog('editorOpened', this.toEditorTelemetryDescriptor(editor));\n\n\t\t// Update container\n\t\tthis.updateContainer();\n\t}\n\n\tprivate handleOnDidCloseEditor(editor: EditorInput, editorIndex: number, context: EditorCloseContext, sticky: boolean): void {\n\n\t\t// Before close\n\t\tthis._onWillCloseEditor.fire({ groupId: this.id, editor, context, index: editorIndex, sticky });\n\n\t\t// Handle event\n\t\tconst editorsToClose: EditorInput[] = [editor];\n\n\t\t// Include both sides of side by side editors when being closed\n\t\tif (editor instanceof SideBySideEditorInput) {\n\t\t\teditorsToClose.push(editor.primary, editor.secondary);\n\t\t}\n\n\t\t// For each editor to close, we call dispose() to free up any resources.\n\t\t// However, certain editors might be shared across multiple editor groups\n\t\t// (including being visible in side by side / diff editors) and as such we\n\t\t// only dispose when they are not opened elsewhere.\n\t\tfor (const editor of editorsToClose) {\n\t\t\tif (this.canDispose(editor)) {\n\t\t\t\teditor.dispose();\n\t\t\t}\n\t\t}\n\n\t\t// Update container\n\t\tthis.updateContainer();\n\n\t\t// Event\n\t\tthis._onDidCloseEditor.fire({ groupId: this.id, editor, context, index: editorIndex, sticky });\n\t}\n\n\tprivate canDispose(editor: EditorInput): boolean {\n\t\tfor (const groupView of this.editorPartsView.groups) {\n\t\t\tif (groupView instanceof EditorGroupView && groupView.model.contains(editor, {\n\t\t\t\tstrictEquals: true,\t\t\t\t\t\t// only if this input is not shared across editor groups\n\t\t\t\tsupportSideBySide: SideBySideEditor.ANY // include any side of an opened side by side editor\n\t\t\t})) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tprivate toResourceTelemetryDescriptor(resource: URI): object | undefined {\n\t\tif (!resource) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst path = resource ? resource.scheme === Schemas.file ? resource.fsPath : resource.path : undefined;\n\t\tif (!path) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// Remove query parameters from the resource extension\n\t\tlet resourceExt = extname(resource);\n\t\tconst queryStringLocation = resourceExt.indexOf('?');\n\t\tresourceExt = queryStringLocation !== -1 ? resourceExt.substr(0, queryStringLocation) : resourceExt;\n\n\t\treturn {\n\t\t\tmimeType: new TelemetryTrustedValue(getMimeTypes(resource).join(', ')),\n\t\t\tscheme: resource.scheme,\n\t\t\text: resourceExt,\n\t\t\tpath: hash(path)\n\t\t};\n\t}\n\n\tprivate toEditorTelemetryDescriptor(editor: EditorInput): ITelemetryData {\n\t\tconst descriptor = editor.getTelemetryDescriptor();\n\n\t\tconst resource = EditorResourceAccessor.getOriginalUri(editor, { supportSideBySide: SideBySideEditor.BOTH });\n\t\tif (URI.isUri(resource)) {\n\t\t\tdescriptor['resource'] = this.toResourceTelemetryDescriptor(resource);\n\n\t\t\t/* __GDPR__FRAGMENT__\n\t\t\t\t\"EditorTelemetryDescriptor\" : {\n\t\t\t\t\t\"resource\": { \"${inline}\": [ \"${URIDescriptor}\" ] }\n\t\t\t\t}\n\t\t\t*/\n\t\t\treturn descriptor;\n\t\t} else if (resource) {\n\t\t\tif (resource.primary) {\n\t\t\t\tdescriptor['resource'] = this.toResourceTelemetryDescriptor(resource.primary);\n\t\t\t}\n\t\t\tif (resource.secondary) {\n\t\t\t\tdescriptor['resourceSecondary'] = this.toResourceTelemetryDescriptor(resource.secondary);\n\t\t\t}\n\t\t\t/* __GDPR__FRAGMENT__\n\t\t\t\t\"EditorTelemetryDescriptor\" : {\n\t\t\t\t\t\"resource\": { \"${inline}\": [ \"${URIDescriptor}\" ] },\n\t\t\t\t\t\"resourceSecondary\": { \"${inline}\": [ \"${URIDescriptor}\" ] }\n\t\t\t\t}\n\t\t\t*/\n\t\t\treturn descriptor;\n\t\t}\n\n\t\treturn descriptor;\n\t}\n\n\tprivate onWillDisposeEditor(editor: EditorInput): void {\n\n\t\t// To prevent race conditions, we handle disposed editors in our worker with a timeout\n\t\t// because it can happen that an input is being disposed with the intent to replace\n\t\t// it with some other input right after.\n\t\tthis.disposedEditorsWorker.work(editor);\n\t}\n\n\tprivate handleDisposedEditors(disposedEditors: EditorInput[]): void {\n\n\t\t// Split between visible and hidden editors\n\t\tlet activeEditor: EditorInput | undefined;\n\t\tconst inactiveEditors: EditorInput[] = [];\n\t\tfor (const disposedEditor of disposedEditors) {\n\t\t\tconst editorFindResult = this.model.findEditor(disposedEditor);\n\t\t\tif (!editorFindResult) {\n\t\t\t\tcontinue; // not part of the model anymore\n\t\t\t}\n\n\t\t\tconst editor = editorFindResult[0];\n\t\t\tif (!editor.isDisposed()) {\n\t\t\t\tcontinue; // editor got reopened meanwhile\n\t\t\t}\n\n\t\t\tif (this.model.isActive(editor)) {\n\t\t\t\tactiveEditor = editor;\n\t\t\t} else {\n\t\t\t\tinactiveEditors.push(editor);\n\t\t\t}\n\t\t}\n\n\t\t// Close all inactive editors first to prevent UI flicker\n\t\tfor (const inactiveEditor of inactiveEditors) {\n\t\t\tthis.doCloseEditor(inactiveEditor, true);\n\t\t}\n\n\t\t// Close active one last\n\t\tif (activeEditor) {\n\t\t\tthis.doCloseEditor(activeEditor, true);\n\t\t}\n\t}\n\n\tprivate onDidChangeEditorPartOptions(event: IEditorPartOptionsChangeEvent): void {\n\n\t\t// Title container\n\t\tthis.updateTitleContainer();\n\n\t\t// Title control\n\t\tthis.titleControl.updateOptions(event.oldPartOptions, event.newPartOptions);\n\n\t\t// Title control switch between singleEditorTabs, multiEditorTabs and multiRowEditorTabs\n\t\tif (\n\t\t\tevent.oldPartOptions.showTabs !== event.newPartOptions.showTabs ||\n\t\t\tevent.oldPartOptions.tabHeight !== event.newPartOptions.tabHeight ||\n\t\t\t(event.oldPartOptions.showTabs === 'multiple' && event.oldPartOptions.pinnedTabsOnSeparateRow !== event.newPartOptions.pinnedTabsOnSeparateRow)\n\t\t) {\n\n\t\t\t// Re-layout\n\t\t\tthis.relayout();\n\n\t\t\t// Ensure to show active editor if any\n\t\t\tif (this.model.activeEditor) {\n\t\t\t\tthis.titleControl.openEditors(this.model.getEditors(EditorsOrder.SEQUENTIAL));\n\t\t\t}\n\t\t}\n\n\t\t// Styles\n\t\tthis.updateStyles();\n\n\t\t// Pin preview editor once user disables preview\n\t\tif (event.oldPartOptions.enablePreview && !event.newPartOptions.enablePreview) {\n\t\t\tif (this.model.previewEditor) {\n\t\t\t\tthis.pinEditor(this.model.previewEditor);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate onDidChangeEditorDirty(editor: EditorInput): void {\n\n\t\t// Always show dirty editors pinned\n\t\tthis.pinEditor(editor);\n\n\t\t// Forward to title control\n\t\tthis.titleControl.updateEditorDirty(editor);\n\t}\n\n\tprivate onDidChangeEditorTransient(editor: EditorInput): void {\n\t\tconst transient = this.model.isTransient(editor);\n\n\t\t// Transient state overrides the `enablePreview` setting,\n\t\t// so when an editor leaves the transient state, we have\n\t\t// to ensure its preview state is also cleared.\n\t\tif (!transient && !this.groupsView.partOptions.enablePreview) {\n\t\t\tthis.pinEditor(editor);\n\t\t}\n\t}\n\n\tprivate onDidChangeEditorLabel(editor: EditorInput): void {\n\n\t\t// Forward to title control\n\t\tthis.titleControl.updateEditorLabel(editor);\n\t}\n\n\tprivate onDidChangeEditorSelection(): void {\n\n\t\t// Forward to title control\n\t\tthis.titleControl.updateEditorSelections();\n\t}\n\n\tprivate onDidVisibilityChange(visible: boolean): void {\n\n\t\t// Forward to active editor pane\n\t\tthis.editorPane.setVisible(visible);\n\t}\n\n\tprivate onDidGainFocus(): void {\n\t\tif (this.activeEditor) {\n\n\t\t\t// We aggressively clear the transient state of editors\n\t\t\t// as soon as the group gains focus. This is to ensure\n\t\t\t// that the transient state is not staying around when\n\t\t\t// the user interacts with the editor.\n\n\t\t\tthis.model.setTransient(this.activeEditor, false);\n\t\t}\n\t}\n\n\t//#endregion\n\n\t//#region IEditorGroupView\n\n\tget index(): number {\n\t\treturn this._index;\n\t}\n\n\tget label(): string {\n\t\tif (this.groupsLabel) {\n\t\t\treturn localize('groupLabelLong', \"{0}: Group {1}\", this.groupsLabel, this._index + 1);\n\t\t}\n\n\t\treturn localize('groupLabel', \"Group {0}\", this._index + 1);\n\t}\n\n\tget ariaLabel(): string {\n\t\tif (this.groupsLabel) {\n\t\t\treturn localize('groupAriaLabelLong', \"{0}: Editor Group {1}\", this.groupsLabel, this._index + 1);\n\t\t}\n\n\t\treturn localize('groupAriaLabel', \"Editor Group {0}\", this._index + 1);\n\t}\n\n\tprivate _disposed = false;\n\tget disposed(): boolean {\n\t\treturn this._disposed;\n\t}\n\n\tget isEmpty(): boolean {\n\t\treturn this.count === 0;\n\t}\n\n\tget titleHeight(): IEditorGroupTitleHeight {\n\t\treturn this.titleControl.getHeight();\n\t}\n\n\tnotifyIndexChanged(newIndex: number): void {\n\t\tif (this._index !== newIndex) {\n\t\t\tthis._index = newIndex;\n\t\t\tthis.model.setIndex(newIndex);\n\t\t}\n\t}\n\n\tnotifyLabelChanged(newLabel: string): void {\n\t\tif (this.groupsLabel !== newLabel) {\n\t\t\tthis.groupsLabel = newLabel;\n\t\t\tthis.model.setLabel(newLabel);\n\t\t}\n\t}\n\n\tsetActive(isActive: boolean): void {\n\t\tthis.active = isActive;\n\n\t\t// Clear selection when group no longer active\n\t\tif (!isActive && this.activeEditor && this.selectedEditors.length > 1) {\n\t\t\tthis.setSelection(this.activeEditor, []);\n\t\t}\n\n\t\t// Update container\n\t\tthis.element.classList.toggle('active', isActive);\n\t\tthis.element.classList.toggle('inactive', !isActive);\n\n\t\t// Update title control\n\t\tthis.titleControl.setActive(isActive);\n\n\t\t// Update styles\n\t\tthis.updateStyles();\n\n\t\t// Update model\n\t\tthis.model.setActive(undefined /* entire group got active */);\n\t}\n\n\t//#endregion\n\n\t//#region basics()\n\n\tget id(): GroupIdentifier {\n\t\treturn this.model.id;\n\t}\n\n\tget windowId(): number {\n\t\treturn this.groupsView.windowId;\n\t}\n\n\tget editors(): EditorInput[] {\n\t\treturn this.model.getEditors(EditorsOrder.SEQUENTIAL);\n\t}\n\n\tget count(): number {\n\t\treturn this.model.count;\n\t}\n\n\tget stickyCount(): number {\n\t\treturn this.model.stickyCount;\n\t}\n\n\tget activeEditorPane(): IVisibleEditorPane | undefined {\n\t\treturn this.editorPane ? this.editorPane.activeEditorPane ?? undefined : undefined;\n\t}\n\n\tget activeEditor(): EditorInput | null {\n\t\treturn this.model.activeEditor;\n\t}\n\n\tget selectedEditors(): EditorInput[] {\n\t\treturn this.model.selectedEditors;\n\t}\n\n\tget previewEditor(): EditorInput | null {\n\t\treturn this.model.previewEditor;\n\t}\n\n\tisPinned(editorOrIndex: EditorInput | number): boolean {\n\t\treturn this.model.isPinned(editorOrIndex);\n\t}\n\n\tisSticky(editorOrIndex: EditorInput | number): boolean {\n\t\treturn this.model.isSticky(editorOrIndex);\n\t}\n\n\tisSelected(editor: EditorInput): boolean {\n\t\treturn this.model.isSelected(editor);\n\t}\n\n\tisTransient(editorOrIndex: EditorInput | number): boolean {\n\t\treturn this.model.isTransient(editorOrIndex);\n\t}\n\n\tisActive(editor: EditorInput | IUntypedEditorInput): boolean {\n\t\treturn this.model.isActive(editor);\n\t}\n\n\tasync setSelection(activeSelectedEditor: EditorInput, inactiveSelectedEditors: EditorInput[]): Promise<void> {\n\t\tif (!this.isActive(activeSelectedEditor)) {\n\t\t\t// The active selected editor is not yet opened, so we go\n\t\t\t// through `openEditor` to show it. We pass the inactive\n\t\t\t// selection as internal options\n\t\t\tawait this.openEditor(activeSelectedEditor, { activation: EditorActivation.ACTIVATE }, { inactiveSelection: inactiveSelectedEditors });\n\t\t} else {\n\t\t\tthis.model.setSelection(activeSelectedEditor, inactiveSelectedEditors);\n\t\t}\n\t}\n\n\tcontains(candidate: EditorInput | IUntypedEditorInput, options?: IMatchEditorOptions): boolean {\n\t\treturn this.model.contains(candidate, options);\n\t}\n\n\tgetEditors(order: EditorsOrder, options?: { excludeSticky?: boolean }): EditorInput[] {\n\t\treturn this.model.getEditors(order, options);\n\t}\n\n\tfindEditors(resource: URI, options?: IFindEditorOptions): EditorInput[] {\n\t\tconst canonicalResource = this.uriIdentityService.asCanonicalUri(resource);\n\t\treturn this.getEditors(options?.order ?? EditorsOrder.SEQUENTIAL).filter(editor => {\n\t\t\tif (editor.resource && isEqual(editor.resource, canonicalResource)) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// Support side by side editor primary side if specified\n\t\t\tif (options?.supportSideBySide === SideBySideEditor.PRIMARY || options?.supportSideBySide === SideBySideEditor.ANY) {\n\t\t\t\tconst primaryResource = EditorResourceAccessor.getCanonicalUri(editor, { supportSideBySide: SideBySideEditor.PRIMARY });\n\t\t\t\tif (primaryResource && isEqual(primaryResource, canonicalResource)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Support side by side editor secondary side if specified\n\t\t\tif (options?.supportSideBySide === SideBySideEditor.SECONDARY || options?.supportSideBySide === SideBySideEditor.ANY) {\n\t\t\t\tconst secondaryResource = EditorResourceAccessor.getCanonicalUri(editor, { supportSideBySide: SideBySideEditor.SECONDARY });\n\t\t\t\tif (secondaryResource && isEqual(secondaryResource, canonicalResource)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t});\n\t}\n\n\tgetEditorByIndex(index: number): EditorInput | undefined {\n\t\treturn this.model.getEditorByIndex(index);\n\t}\n\n\tgetIndexOfEditor(editor: EditorInput): number {\n\t\treturn this.model.indexOf(editor);\n\t}\n\n\tisFirst(editor: EditorInput): boolean {\n\t\treturn this.model.isFirst(editor);\n\t}\n\n\tisLast(editor: EditorInput): boolean {\n\t\treturn this.model.isLast(editor);\n\t}\n\n\tfocus(): void {\n\n\t\t// Pass focus to editor panes\n\t\tif (this.activeEditorPane) {\n\t\t\tthis.activeEditorPane.focus();\n\t\t} else {\n\t\t\tthis.element.focus();\n\t\t}\n\n\t\t// Event\n\t\tthis._onDidFocus.fire();\n\t}\n\n\tpinEditor(candidate: EditorInput | undefined = this.activeEditor || undefined): void {\n\t\tif (candidate && !this.model.isPinned(candidate)) {\n\n\t\t\t// Update model\n\t\t\tconst editor = this.model.pin(candidate);\n\n\t\t\t// Forward to title control\n\t\t\tif (editor) {\n\t\t\t\tthis.titleControl.pinEditor(editor);\n\t\t\t}\n\t\t}\n\t}\n\n\tstickEditor(candidate: EditorInput | undefined = this.activeEditor || undefined): void {\n\t\tthis.doStickEditor(candidate, true);\n\t}\n\n\tunstickEditor(candidate: EditorInput | undefined = this.activeEditor || undefined): void {\n\t\tthis.doStickEditor(candidate, false);\n\t}\n\n\tprivate doStickEditor(candidate: EditorInput | undefined, sticky: boolean): void {\n\t\tif (candidate && this.model.isSticky(candidate) !== sticky) {\n\t\t\tconst oldIndexOfEditor = this.getIndexOfEditor(candidate);\n\n\t\t\t// Update model\n\t\t\tconst editor = sticky ? this.model.stick(candidate) : this.model.unstick(candidate);\n\t\t\tif (!editor) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If the index of the editor changed, we need to forward this to\n\t\t\t// title control and also make sure to emit this as an event\n\t\t\tconst newIndexOfEditor = this.getIndexOfEditor(editor);\n\t\t\tif (newIndexOfEditor !== oldIndexOfEditor) {\n\t\t\t\tthis.titleControl.moveEditor(editor, oldIndexOfEditor, newIndexOfEditor, true);\n\t\t\t}\n\n\t\t\t// Forward sticky state to title control\n\t\t\tif (sticky) {\n\t\t\t\tthis.titleControl.stickEditor(editor);\n\t\t\t} else {\n\t\t\t\tthis.titleControl.unstickEditor(editor);\n\t\t\t}\n\t\t}\n\t}\n\n\t//#endregion\n\n\t//#region openEditor()\n\n\tasync openEditor(editor: EditorInput, options?: IEditorOptions, internalOptions?: IInternalEditorOpenOptions): Promise<IEditorPane | undefined> {\n\t\treturn this.doOpenEditor(editor, options, {\n\t\t\t// Appply given internal open options\n\t\t\t...internalOptions,\n\t\t\t// Allow to match on a side-by-side editor when same\n\t\t\t// editor is opened on both sides. In that case we\n\t\t\t// do not want to open a new editor but reuse that one.\n\t\t\tsupportSideBySide: SideBySideEditor.BOTH\n\t\t});\n\t}\n\n\tprivate async doOpenEditor(editor: EditorInput, options?: IEditorOptions, internalOptions?: IInternalEditorOpenOptions): Promise<IEditorPane | undefined> {\n\n\t\t// Guard against invalid editors. Disposed editors\n\t\t// should never open because they emit no events\n\t\t// e.g. to indicate dirty changes.\n\t\tif (!editor || editor.isDisposed()) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Fire the event letting everyone know we are about to open an editor\n\t\tthis._onWillOpenEditor.fire({ editor, groupId: this.id });\n\n\t\t// Determine options\n\t\tconst pinned = options?.sticky\n\t\t\t|| (!this.groupsView.partOptions.enablePreview && !options?.transient)\n\t\t\t|| editor.isDirty()\n\t\t\t|| (options?.pinned ?? typeof options?.index === 'number' /* unless specified, prefer to pin when opening with index */)\n\t\t\t|| (typeof options?.index === 'number' && this.model.isSticky(options.index))\n\t\t\t|| editor.hasCapability(EditorInputCapabilities.Scratchpad);\n\t\tconst openEditorOptions: IEditorOpenOptions = {\n\t\t\tindex: options ? options.index : undefined,\n\t\t\tpinned,\n\t\t\tsticky: options?.sticky || (typeof options?.index === 'number' && this.model.isSticky(options.index)),\n\t\t\ttransient: !!options?.transient,\n\t\t\tinactiveSelection: internalOptions?.inactiveSelection,\n\t\t\tactive: this.count === 0 || !options?.inactive,\n\t\t\tsupportSideBySide: internalOptions?.supportSideBySide\n\t\t};\n\n\t\tif (!openEditorOptions.active && !openEditorOptions.pinned && this.model.activeEditor && !this.model.isPinned(this.model.activeEditor)) {\n\t\t\t// Special case: we are to open an editor inactive and not pinned, but the current active\n\t\t\t// editor is also not pinned, which means it will get replaced with this one. As such,\n\t\t\t// the editor can only be active.\n\t\t\topenEditorOptions.active = true;\n\t\t}\n\n\t\tlet activateGroup = false;\n\t\tlet restoreGroup = false;\n\n\t\tif (options?.activation === EditorActivation.ACTIVATE) {\n\t\t\t// Respect option to force activate an editor group.\n\t\t\tactivateGroup = true;\n\t\t} else if (options?.activation === EditorActivation.RESTORE) {\n\t\t\t// Respect option to force restore an editor group.\n\t\t\trestoreGroup = true;\n\t\t} else if (options?.activation === EditorActivation.PRESERVE) {\n\t\t\t// Respect option to preserve active editor group.\n\t\t\tactivateGroup = false;\n\t\t\trestoreGroup = false;\n\t\t} else if (openEditorOptions.active) {\n\t\t\t// Finally, we only activate/restore an editor which is\n\t\t\t// opening as active editor.\n\t\t\t// If preserveFocus is enabled, we only restore but never\n\t\t\t// activate the group.\n\t\t\tactivateGroup = !options?.preserveFocus;\n\t\t\trestoreGroup = !activateGroup;\n\t\t}\n\n\t\t// Actually move the editor if a specific index is provided and we figure\n\t\t// out that the editor is already opened at a different index. This\n\t\t// ensures the right set of events are fired to the outside.\n\t\tif (typeof openEditorOptions.index === 'number') {\n\t\t\tconst indexOfEditor = this.model.indexOf(editor);\n\t\t\tif (indexOfEditor !== -1 && indexOfEditor !== openEditorOptions.index) {\n\t\t\t\tthis.doMoveEditorInsideGroup(editor, openEditorOptions);\n\t\t\t}\n\t\t}\n\n\t\t// Update model and make sure to continue to use the editor we get from\n\t\t// the model. It is possible that the editor was already opened and we\n\t\t// want to ensure that we use the existing instance in that case.\n\t\tconst { editor: openedEditor, isNew } = this.model.openEditor(editor, openEditorOptions);\n\n\t\t// Conditionally lock the group\n\t\tif (\n\t\t\tisNew &&\t\t\t\t\t\t\t\t// only if this editor was new for the group\n\t\t\tthis.count === 1 &&\t\t\t\t\t\t// only when this editor was the first editor in the group\n\t\t\tthis.editorPartsView.groups.length > 1 \t// only allow auto locking if more than 1 group is opened\n\t\t) {\n\t\t\t// only when the editor identifier is configured as such\n\t\t\tif (openedEditor.editorId && this.groupsView.partOptions.autoLockGroups?.has(openedEditor.editorId)) {\n\t\t\t\tthis.lock(true);\n\t\t\t}\n\t\t}\n\n\t\t// Show editor\n\t\tconst showEditorResult = this.doShowEditor(openedEditor, { active: !!openEditorOptions.active, isNew }, options, internalOptions);\n\n\t\t// Finally make sure the group is active or restored as instructed\n\t\tif (activateGroup) {\n\t\t\tthis.groupsView.activateGroup(this);\n\t\t} else if (restoreGroup) {\n\t\t\tthis.groupsView.restoreGroup(this);\n\t\t}\n\n\t\treturn showEditorResult;\n\t}\n\n\tprivate doShowEditor(editor: EditorInput, context: { active: boolean; isNew: boolean }, options?: IEditorOptions, internalOptions?: IInternalEditorOpenOptions): Promise<IEditorPane | undefined> {\n\n\t\t// Show in editor control if the active editor changed\n\t\tlet openEditorPromise: Promise<IEditorPane | undefined>;\n\t\tif (context.active) {\n\t\t\topenEditorPromise = (async () => {\n\t\t\t\tconst { pane, changed, cancelled, error } = await this.editorPane.openEditor(editor, options, internalOptions, { newInGroup: context.isNew });\n\n\t\t\t\t// Return early if the operation was cancelled by another operation\n\t\t\t\tif (cancelled) {\n\t\t\t\t\treturn undefined;\n\t\t\t\t}\n\n\t\t\t\t// Editor change event\n\t\t\t\tif (changed) {\n\t\t\t\t\tthis._onDidActiveEditorChange.fire({ editor });\n\t\t\t\t}\n\n\t\t\t\t// Indicate error as an event but do not bubble them up\n\t\t\t\tif (error) {\n\t\t\t\t\tthis._onDidOpenEditorFail.fire(editor);\n\t\t\t\t}\n\n\t\t\t\t// Without an editor pane, recover by closing the active editor\n\t\t\t\t// (if the input is still the active one)\n\t\t\t\tif (!pane && this.activeEditor === editor) {\n\t\t\t\t\tthis.doCloseEditor(editor, options?.preserveFocus, { fromError: true });\n\t\t\t\t}\n\n\t\t\t\treturn pane;\n\t\t\t})();\n\t\t} else {\n\t\t\topenEditorPromise = Promise.resolve(undefined); // inactive: return undefined as result to signal this\n\t\t}\n\n\t\t// Show in title control after editor control because some actions depend on it\n\t\t// but respect the internal options in case title control updates should skip.\n\t\tif (!internalOptions?.skipTitleUpdate) {\n\t\t\tthis.titleControl.openEditor(editor, internalOptions);\n\t\t}\n\n\t\treturn openEditorPromise;\n\t}\n\n\t//#endregion\n\n\t//#region openEditors()\n\n\tasync openEditors(editors: { editor: EditorInput; options?: IEditorOptions }[]): Promise<IEditorPane | undefined> {\n\n\t\t// Guard against invalid editors. Disposed editors\n\t\t// should never open because they emit no events\n\t\t// e.g. to indicate dirty changes.\n\t\tconst editorsToOpen = coalesce(editors).filter(({ editor }) => !editor.isDisposed());\n\n\t\t// Use the first editor as active editor\n\t\tconst firstEditor = editorsToOpen.at(0);\n\t\tif (!firstEditor) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst openEditorsOptions: IInternalEditorOpenOptions = {\n\t\t\t// Allow to match on a side-by-side editor when same\n\t\t\t// editor is opened on both sides. In that case we\n\t\t\t// do not want to open a new editor but reuse that one.\n\t\t\tsupportSideBySide: SideBySideEditor.BOTH\n\t\t};\n\n\t\tawait this.doOpenEditor(firstEditor.editor, firstEditor.options, openEditorsOptions);\n\n\t\t// Open the other ones inactive\n\t\tconst inactiveEditors = editorsToOpen.slice(1);\n\t\tconst startingIndex = this.getIndexOfEditor(firstEditor.editor) + 1;\n\t\tawait Promises.settled(inactiveEditors.map(({ editor, options }, index) => {\n\t\t\treturn this.doOpenEditor(editor, {\n\t\t\t\t...options,\n\t\t\t\tinactive: true,\n\t\t\t\tpinned: true,\n\t\t\t\tindex: startingIndex + index\n\t\t\t}, {\n\t\t\t\t...openEditorsOptions,\n\t\t\t\t// optimization: update the title control later\n\t\t\t\t// https://github.com/microsoft/vscode/issues/130634\n\t\t\t\tskipTitleUpdate: true\n\t\t\t});\n\t\t}));\n\n\t\t// Update the title control all at once with all editors\n\t\tthis.titleControl.openEditors(inactiveEditors.map(({ editor }) => editor));\n\n\t\t// Opening many editors at once can put any editor to be\n\t\t// the active one depending on options. As such, we simply\n\t\t// return the active editor pane after this operation.\n\t\treturn this.editorPane.activeEditorPane ?? undefined;\n\t}\n\n\t//#endregion\n\n\t//#region moveEditor()\n\n\tmoveEditors(editors: { editor: EditorInput; options?: IEditorOptions }[], target: EditorGroupView): boolean {\n\n\t\t// Optimization: knowing that we move many editors, we\n\t\t// delay the title update to a later point for this group\n\t\t// through a method that allows for bulk updates but only\n\t\t// when moving to a different group where many editors\n\t\t// are more likely to occur.\n\t\tconst internalOptions: IInternalMoveCopyOptions = {\n\t\t\tskipTitleUpdate: this !== target\n\t\t};\n\n\t\tlet moveFailed = false;\n\n\t\tconst movedEditors = new Set<EditorInput>();\n\t\tfor (const { editor, options } of editors) {\n\t\t\tif (this.moveEditor(editor, target, options, internalOptions)) {\n\t\t\t\tmovedEditors.add(editor);\n\t\t\t} else {\n\t\t\t\tmoveFailed = true;\n\t\t\t}\n\t\t}\n\n\t\t// Update the title control all at once with all editors\n\t\t// in source and target if the title update was skipped\n\t\tif (internalOptions.skipTitleUpdate) {\n\t\t\ttarget.titleControl.openEditors(Array.from(movedEditors));\n\t\t\tthis.titleControl.closeEditors(Array.from(movedEditors));\n\t\t}\n\n\t\treturn !moveFailed;\n\t}\n\n\tmoveEditor(editor: EditorInput, target: EditorGroupView, options?: IEditorOptions, internalOptions?: IInternalMoveCopyOptions): boolean {\n\n\t\t// Move within same group\n\t\tif (this === target) {\n\t\t\tthis.doMoveEditorInsideGroup(editor, options);\n\t\t\treturn true;\n\t\t}\n\n\t\t// Move across groups\n\t\telse {\n\t\t\treturn this.doMoveOrCopyEditorAcrossGroups(editor, target, options, { ...internalOptions, keepCopy: false });\n\t\t}\n\t}\n\n\tprivate doMoveEditorInsideGroup(candidate: EditorInput, options?: IEditorOpenOptions): void {\n\t\tconst moveToIndex = options ? options.index : undefined;\n\t\tif (typeof moveToIndex !== 'number') {\n\t\t\treturn; // do nothing if we move into same group without index\n\t\t}\n\n\t\t// Update model and make sure to continue to use the editor we get from\n\t\t// the model. It is possible that the editor was already opened and we\n\t\t// want to ensure that we use the existing instance in that case.\n\t\tconst currentIndex = this.model.indexOf(candidate);\n\t\tconst editor = this.model.getEditorByIndex(currentIndex);\n\t\tif (!editor) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Move when index has actually changed\n\t\tif (currentIndex !== moveToIndex) {\n\t\t\tconst oldStickyCount = this.model.stickyCount;\n\n\t\t\t// Update model\n\t\t\tthis.model.moveEditor(editor, moveToIndex);\n\t\t\tthis.model.pin(editor);\n\n\t\t\t// Forward to title control\n\t\t\tthis.titleControl.moveEditor(editor, currentIndex, moveToIndex, oldStickyCount !== this.model.stickyCount);\n\t\t\tthis.titleControl.pinEditor(editor);\n\t\t}\n\n\t\t// Support the option to stick the editor even if it is moved.\n\t\t// It is important that we call this method after we have moved\n\t\t// the editor because the result of moving the editor could have\n\t\t// caused a change in sticky state.\n\t\tif (options?.sticky) {\n\t\t\tthis.stickEditor(editor);\n\t\t}\n\t}\n\n\tprivate doMoveOrCopyEditorAcrossGroups(editor: EditorInput, target: EditorGroupView, openOptions?: IEditorOpenOptions, internalOptions?: IInternalMoveCopyOptions): boolean {\n\t\tconst keepCopy = internalOptions?.keepCopy;\n\n\t\t// Validate that we can move\n\t\tif (!keepCopy || editor.hasCapability(EditorInputCapabilities.Singleton) /* singleton editors will always move */) {\n\t\t\tconst canMoveVeto = editor.canMove(this.id, target.id);\n\t\t\tif (typeof canMoveVeto === 'string') {\n\t\t\t\tthis.dialogService.error(canMoveVeto, localize('moveErrorDetails', \"Try saving or reverting the editor first and then try again.\"));\n\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\t// When moving/copying an editor, try to preserve as much view state as possible\n\t\t// by checking for the editor to be a text editor and creating the options accordingly\n\t\t// if so\n\t\tconst options = fillActiveEditorViewState(this, editor, {\n\t\t\t...openOptions,\n\t\t\tpinned: true, \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// always pin moved editor\n\t\t\tsticky: openOptions?.sticky ?? (!keepCopy && this.model.isSticky(editor))\t// preserve sticky state only if editor is moved or explicitly wanted (https://github.com/microsoft/vscode/issues/99035)\n\t\t});\n\n\t\t// Indicate will move event\n\t\tif (!keepCopy) {\n\t\t\tthis._onWillMoveEditor.fire({\n\t\t\t\tgroupId: this.id,\n\t\t\t\teditor,\n\t\t\t\ttarget: target.id\n\t\t\t});\n\t\t}\n\n\t\t// A move to another group is an open first...\n\t\ttarget.doOpenEditor(keepCopy ? editor.copy() : editor, options, internalOptions);\n\n\t\t// ...and a close afterwards (unless we copy)\n\t\tif (!keepCopy) {\n\t\t\tthis.doCloseEditor(editor, true /* do not focus next one behind if any */, { ...internalOptions, context: EditorCloseContext.MOVE });\n\t\t}\n\n\t\treturn true;\n\t}\n\n\t//#endregion\n\n\t//#region copyEditor()\n\n\tcopyEditors(editors: { editor: EditorInput; options?: IEditorOptions }[], target: EditorGroupView): void {\n\n\t\t// Optimization: knowing that we move many editors, we\n\t\t// delay the title update to a later point for this group\n\t\t// through a method that allows for bulk updates but only\n\t\t// when moving to a different group where many editors\n\t\t// are more likely to occur.\n\t\tconst internalOptions: IInternalMoveCopyOptions = {\n\t\t\tskipTitleUpdate: this !== target\n\t\t};\n\n\t\tfor (const { editor, options } of editors) {\n\t\t\tthis.copyEditor(editor, target, options, internalOptions);\n\t\t}\n\n\t\t// Update the title control all at once with all editors\n\t\t// in target if the title update was skipped\n\t\tif (internalOptions.skipTitleUpdate) {\n\t\t\tconst copiedEditors = editors.map(({ editor }) => editor);\n\t\t\ttarget.titleControl.openEditors(copiedEditors);\n\t\t}\n\t}\n\n\tcopyEditor(editor: EditorInput, target: EditorGroupView, options?: IEditorOptions, internalOptions?: IInternalEditorTitleControlOptions): void {\n\n\t\t// Move within same group because we do not support to show the same editor\n\t\t// multiple times in the same group\n\t\tif (this === target) {\n\t\t\tthis.doMoveEditorInsideGroup(editor, options);\n\t\t}\n\n\t\t// Copy across groups\n\t\telse {\n\t\t\tthis.doMoveOrCopyEditorAcrossGroups(editor, target, options, { ...internalOptions, keepCopy: true });\n\t\t}\n\t}\n\n\t//#endregion\n\n\t//#region closeEditor()\n\n\tasync closeEditor(editor: EditorInput | undefined = this.activeEditor || undefined, options?: ICloseEditorOptions): Promise<boolean> {\n\t\treturn this.doCloseEditorWithConfirmationHandling(editor, options);\n\t}\n\n\tprivate async doCloseEditorWithConfirmationHandling(editor: EditorInput | undefined = this.activeEditor || undefined, options?: ICloseEditorOptions, internalOptions?: IInternalEditorCloseOptions): Promise<boolean> {\n\t\tif (!editor) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Check for confirmation and veto\n\t\tconst veto = await this.handleCloseConfirmation([editor]);\n\t\tif (veto) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Do close\n\t\tthis.doCloseEditor(editor, options?.preserveFocus, internalOptions);\n\n\t\treturn true;\n\t}\n\n\tprivate doCloseEditor(editor: EditorInput, preserveFocus = (this.groupsView.activeGroup !== this), internalOptions?: IInternalEditorCloseOptions): void {\n\n\t\t// Forward to title control unless skipped via internal options\n\t\tif (!internalOptions?.skipTitleUpdate) {\n\t\t\tthis.titleControl.beforeCloseEditor(editor);\n\t\t}\n\n\t\t// Closing the active editor of the group is a bit more work\n\t\tif (this.model.isActive(editor)) {\n\t\t\tthis.doCloseActiveEditor(preserveFocus, internalOptions);\n\t\t}\n\n\t\t// Closing inactive editor is just a model update\n\t\telse {\n\t\t\tthis.doCloseInactiveEditor(editor, internalOptions);\n\t\t}\n\n\t\t// Forward to title control unless skipped via internal options\n\t\tif (!internalOptions?.skipTitleUpdate) {\n\t\t\tthis.titleControl.closeEditor(editor);\n\t\t}\n\t}\n\n\tprivate doCloseActiveEditor(preserveFocus = (this.groupsView.activeGroup !== this), internalOptions?: IInternalEditorCloseOptions): void {\n\t\tconst editorToClose = this.activeEditor;\n\t\tconst restoreFocus = !preserveFocus && this.shouldRestoreFocus(this.element);\n\n\t\t// Optimization: if we are about to close the last editor in this group and settings\n\t\t// are configured to close the group since it will be empty, we first set the last\n\t\t// active group as empty before closing the editor. This reduces the amount of editor\n\t\t// change events that this operation emits and will reduce flicker. Without this\n\t\t// optimization, this group (if active) would first trigger a active editor change\n\t\t// event because it became empty, only to then trigger another one when the next\n\t\t// group gets active.\n\t\tconst closeEmptyGroup = this.groupsView.partOptions.closeEmptyGroups;\n\t\tif (closeEmptyGroup && this.active && this.count === 1) {\n\t\t\tconst mostRecentlyActiveGroups = this.groupsView.getGroups(GroupsOrder.MOST_RECENTLY_ACTIVE);\n\t\t\tconst nextActiveGroup = mostRecentlyActiveGroups[1]; // [0] will be the current one, so take [1]\n\t\t\tif (nextActiveGroup) {\n\t\t\t\tif (restoreFocus) {\n\t\t\t\t\tnextActiveGroup.focus();\n\t\t\t\t} else {\n\t\t\t\t\tthis.groupsView.activateGroup(nextActiveGroup, true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Update model\n\t\tif (editorToClose) {\n\t\t\tthis.model.closeEditor(editorToClose, internalOptions?.context);\n\t\t}\n\n\t\t// Open next active if there are more to show\n\t\tconst nextActiveEditor = this.model.activeEditor;\n\t\tif (nextActiveEditor) {\n\t\t\tlet activation: EditorActivation | undefined = undefined;\n\t\t\tif (preserveFocus && this.groupsView.activeGroup !== this) {\n\t\t\t\t// If we are opening the next editor in an inactive group\n\t\t\t\t// without focussing it, ensure we preserve the editor\n\t\t\t\t// group sizes in case that group is minimized.\n\t\t\t\t// https://github.com/microsoft/vscode/issues/117686\n\t\t\t\tactivation = EditorActivation.PRESERVE;\n\t\t\t}\n\n\t\t\tconst options: IEditorOptions = {\n\t\t\t\tpreserveFocus,\n\t\t\t\tactivation,\n\t\t\t\t// When closing an editor due to an error we can end up in a loop where we continue closing\n\t\t\t\t// editors that fail to open (e.g. when the file no longer exists). We do not want to show\n\t\t\t\t// repeated errors in this case to the user. As such, if we open the next editor and we are\n\t\t\t\t// in a scope of a previous editor failing, we silence the input errors until the editor is\n\t\t\t\t// opened by setting ignoreError: true.\n\t\t\t\tignoreError: internalOptions?.fromError\n\t\t\t};\n\n\t\t\tconst internalEditorOpenOptions: IInternalEditorOpenOptions = {\n\t\t\t\t// When closing an editor, we reveal the next one in the group.\n\t\t\t\t// However, this can be a result of moving an editor to another\n\t\t\t\t// window so we explicitly disable window reordering in this case.\n\t\t\t\tpreserveWindowOrder: true\n\t\t\t};\n\n\t\t\tthis.doOpenEditor(nextActiveEditor, options, internalEditorOpenOptions);\n\t\t}\n\n\t\t// Otherwise we are empty, so clear from editor control and send event\n\t\telse {\n\n\t\t\t// Forward to editor pane\n\t\t\tif (editorToClose) {\n\t\t\t\tthis.editorPane.closeEditor(editorToClose);\n\t\t\t}\n\n\t\t\t// Restore focus to group container as needed unless group gets closed\n\t\t\tif (restoreFocus && !closeEmptyGroup) {\n\t\t\t\tthis.focus();\n\t\t\t}\n\n\t\t\t// Events\n\t\t\tthis._onDidActiveEditorChange.fire({ editor: undefined });\n\n\t\t\t// Remove empty group if we should\n\t\t\tif (closeEmptyGroup) {\n\t\t\t\tthis.groupsView.removeGroup(this, preserveFocus);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate shouldRestoreFocus(target: Element): boolean {\n\t\tconst activeElement = getActiveElement();\n\t\tif (activeElement === target.ownerDocument.body) {\n\t\t\treturn true; // always restore focus if nothing is focused currently\n\t\t}\n\n\t\t// otherwise check for the active element being an ancestor of the target\n\t\treturn isAncestor(activeElement, target);\n\t}\n\n\tprivate doCloseInactiveEditor(editor: EditorInput, internalOptions?: IInternalEditorCloseOptions): void {\n\n\t\t// Update model\n\t\tthis.model.closeEditor(editor, internalOptions?.context);\n\t}\n\n\tprivate async handleCloseConfirmation(editors: EditorInput[]): Promise<boolean /* veto */> {\n\t\tif (!editors.length) {\n\t\t\treturn false; // no veto\n\t\t}\n\n\t\tconst editor = editors.shift()!;\n\n\t\t// To prevent multiple confirmation dialogs from showing up one after the other\n\t\t// we check if a pending confirmation is currently showing and if so, join that\n\t\tlet handleCloseConfirmationPromise = this.mapEditorToPendingConfirmation.get(editor);\n\t\tif (!handleCloseConfirmationPromise) {\n\t\t\thandleCloseConfirmationPromise = this.doHandleCloseConfirmation(editor);\n\t\t\tthis.mapEditorToPendingConfirmation.set(editor, handleCloseConfirmationPromise);\n\t\t}\n\n\t\tlet veto: boolean;\n\t\ttry {\n\t\t\tveto = await handleCloseConfirmationPromise;\n\t\t} finally {\n\t\t\tthis.mapEditorToPendingConfirmation.delete(editor);\n\t\t}\n\n\t\t// Return for the first veto we got\n\t\tif (veto) {\n\t\t\treturn veto;\n\t\t}\n\n\t\t// Otherwise continue with the remainders\n\t\treturn this.handleCloseConfirmation(editors);\n\t}\n\n\tprivate async doHandleCloseConfirmation(editor: EditorInput, options?: { skipAutoSave: boolean }): Promise<boolean /* veto */> {\n\t\tif (!this.shouldConfirmClose(editor)) {\n\t\t\treturn false; // no veto\n\t\t}\n\n\t\tif (editor instanceof SideBySideEditorInput && this.model.contains(editor.primary)) {\n\t\t\treturn false; // primary-side of editor is still opened somewhere else\n\t\t}\n\n\t\t// Note: we explicitly decide to ask for confirm if closing a normal editor even\n\t\t// if it is opened in a side-by-side editor in the group. This decision is made\n\t\t// because it may be less obvious that one side of a side by side editor is dirty\n\t\t// and can still be changed.\n\t\t// The only exception is when the same editor is opened on both sides of a side\n\t\t// by side editor (https://github.com/microsoft/vscode/issues/138442)\n\n\t\tif (this.editorPartsView.groups.some(groupView => {\n\t\t\tif (groupView === this) {\n\t\t\t\treturn false; // skip (we already handled our group above)\n\t\t\t}\n\n\t\t\tconst otherGroup = groupView;\n\t\t\tif (otherGroup.contains(editor, { supportSideBySide: SideBySideEditor.BOTH })) {\n\t\t\t\treturn true; // exact editor still opened (either single, or split-in-group)\n\t\t\t}\n\n\t\t\tif (editor instanceof SideBySideEditorInput && otherGroup.contains(editor.primary)) {\n\t\t\t\treturn true; // primary side of side by side editor still opened\n\t\t\t}\n\n\t\t\treturn false;\n\t\t})) {\n\t\t\treturn false; // editor is still editable somewhere else\n\t\t}\n\n\t\t// In some cases trigger save before opening the dialog depending\n\t\t// on auto-save configuration.\n\t\t// However, make sure to respect `skipAutoSave` option in case the automated\n\t\t// save fails which would result in the editor never closing.\n\t\t// Also, we only do this if no custom confirmation handling is implemented.\n\t\tlet confirmation = ConfirmResult.CANCEL;\n\t\tlet saveReason = SaveReason.EXPLICIT;\n\t\tlet autoSave = false;\n\t\tif (!editor.hasCapability(EditorInputCapabilities.Untitled) && !options?.skipAutoSave && !editor.closeHandler) {\n\n\t\t\t// Auto-save on focus change: save, because a dialog would steal focus\n\t\t\t// (see https://github.com/microsoft/vscode/issues/108752)\n\t\t\tif (this.filesConfigurationService.getAutoSaveMode(editor).mode === AutoSaveMode.ON_FOCUS_CHANGE) {\n\t\t\t\tautoSave = true;\n\t\t\t\tconfirmation = ConfirmResult.SAVE;\n\t\t\t\tsaveReason = SaveReason.FOCUS_CHANGE;\n\t\t\t}\n\n\t\t\t// Auto-save on window change: save, because on Windows and Linux, a\n\t\t\t// native dialog triggers the window focus change\n\t\t\t// (see https://github.com/microsoft/vscode/issues/134250)\n\t\t\telse if ((isNative && (isWindows || isLinux)) && this.filesConfigurationService.getAutoSaveMode(editor).mode === AutoSaveMode.ON_WINDOW_CHANGE) {\n\t\t\t\tautoSave = true;\n\t\t\t\tconfirmation = ConfirmResult.SAVE;\n\t\t\t\tsaveReason = SaveReason.WINDOW_CHANGE;\n\t\t\t}\n\t\t}\n\n\t\t// No auto-save on focus change or custom confirmation handler: ask user\n\t\tif (!autoSave) {\n\n\t\t\t// Switch to editor that we want to handle for confirmation unless showing already\n\t\t\tif (!this.activeEditor?.matches(editor)) {\n\t\t\t\tawait this.doOpenEditor(editor);\n\t\t\t}\n\n\t\t\t// Ensure our window has focus since we are about to show a dialog\n\t\t\tawait this.hostService.focus(getWindow(this.element));\n\n\t\t\t// Let editor handle confirmation if implemented\n\t\t\tlet handlerDidError = false;\n\t\t\tif (typeof editor.closeHandler?.confirm === 'function') {\n\t\t\t\ttry {\n\t\t\t\t\tconfirmation = await editor.closeHandler.confirm([{ editor, groupId: this.id }]);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tthis.logService.error(e);\n\t\t\t\t\thandlerDidError = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Show a file specific confirmation if there is no handler or it errored\n\t\t\tif (typeof editor.closeHandler?.confirm !== 'function' || handlerDidError) {\n\t\t\t\tlet name: string;\n\t\t\t\tif (editor instanceof SideBySideEditorInput) {\n\t\t\t\t\tname = editor.primary.getName(); // prefer shorter names by using primary's name in this case\n\t\t\t\t} else {\n\t\t\t\t\tname = editor.getName();\n\t\t\t\t}\n\n\t\t\t\tconfirmation = await this.fileDialogService.showSaveConfirm([name]);\n\t\t\t}\n\t\t}\n\n\t\t// It could be that the editor's choice of confirmation has changed\n\t\t// given the check for confirmation is long running, so we check\n\t\t// again to see if anything needs to happen before closing for good.\n\t\t// This can happen for example if `autoSave: onFocusChange` is configured\n\t\t// so that the save happens when the dialog opens.\n\t\t// However, we only do this unless a custom confirm handler is installed\n\t\t// that may not be fit to be asked a second time right after.\n\t\tif (!editor.closeHandler && !this.shouldConfirmClose(editor)) {\n\t\t\treturn confirmation === ConfirmResult.CANCEL;\n\t\t}\n\n\t\t// Otherwise, handle accordingly\n\t\tswitch (confirmation) {\n\t\t\tcase ConfirmResult.SAVE: {\n\t\t\t\tconst result = await editor.save(this.id, { reason: saveReason });\n\t\t\t\tif (!result && autoSave) {\n\t\t\t\t\t// Save failed and we need to signal this back to the user, so\n\t\t\t\t\t// we handle the dirty editor again but this time ensuring to\n\t\t\t\t\t// show the confirm dialog\n\t\t\t\t\t// (see https://github.com/microsoft/vscode/issues/108752)\n\t\t\t\t\treturn this.doHandleCloseConfirmation(editor, { skipAutoSave: true });\n\t\t\t\t}\n\n\t\t\t\treturn editor.isDirty(); // veto if still dirty\n\t\t\t}\n\t\t\tcase ConfirmResult.DONT_SAVE:\n\t\t\t\ttry {\n\n\t\t\t\t\t// first try a normal revert where the contents of the editor are restored\n\t\t\t\t\tawait editor.revert(this.id);\n\n\t\t\t\t\treturn editor.isDirty(); // veto if still dirty\n\t\t\t\t} catch (error) {\n\t\t\t\t\tthis.logService.error(error);\n\n\t\t\t\t\t// if that fails, since we are about to close the editor, we accept that\n\t\t\t\t\t// the editor cannot be reverted and instead do a soft revert that just\n\t\t\t\t\t// enables us to close the editor. With this, a user can always close a\n\t\t\t\t\t// dirty editor even when reverting fails.\n\n\t\t\t\t\tawait editor.revert(this.id, { soft: true });\n\n\t\t\t\t\treturn editor.isDirty(); // veto if still dirty\n\t\t\t\t}\n\t\t\tcase ConfirmResult.CANCEL:\n\t\t\t\treturn true; // veto\n\t\t}\n\t}\n\n\tprivate shouldConfirmClose(editor: EditorInput): boolean {\n\t\tif (editor.closeHandler) {\n\t\t\ttry {\n\t\t\t\treturn editor.closeHandler.showConfirm(); // custom handling of confirmation on close\n\t\t\t} catch (error) {\n\t\t\t\tthis.logService.error(error);\n\t\t\t}\n\t\t}\n\n\t\treturn editor.isDirty() && !editor.isSaving(); // editor must be dirty and not saving\n\t}\n\n\t//#endregion\n\n\t//#region closeEditors()\n\n\tasync closeEditors(args: EditorInput[] | ICloseEditorsFilter, options?: ICloseEditorOptions): Promise<boolean> {\n\t\tif (this.isEmpty) {\n\t\t\treturn true;\n\t\t}\n\n\t\tconst editors = this.doGetEditorsToClose(args);\n\n\t\t// Check for confirmation and veto\n\t\tconst veto = await this.handleCloseConfirmation(editors.slice(0));\n\t\tif (veto) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Do close\n\t\tthis.doCloseEditors(editors, options);\n\n\t\treturn true;\n\t}\n\n\tprivate doGetEditorsToClose(args: EditorInput[] | ICloseEditorsFilter): EditorInput[] {\n\t\tif (Array.isArray(args)) {\n\t\t\treturn args;\n\t\t}\n\n\t\tconst filter = args;\n\t\tconst hasDirection = typeof filter.direction === 'number';\n\n\t\tlet editorsToClose = this.model.getEditors(hasDirection ? EditorsOrder.SEQUENTIAL : EditorsOrder.MOST_RECENTLY_ACTIVE, filter); // in MRU order only if direction is not specified\n\n\t\t// Filter: saved or saving only\n\t\tif (filter.savedOnly) {\n\t\t\teditorsToClose = editorsToClose.filter(editor => !editor.isDirty() || editor.isSaving());\n\t\t}\n\n\t\t// Filter: direction (left / right)\n\t\telse if (hasDirection && filter.except) {\n\t\t\teditorsToClose = (filter.direction === CloseDirection.LEFT) ?\n\t\t\t\teditorsToClose.slice(0, this.model.indexOf(filter.except, editorsToClose)) :\n\t\t\t\teditorsToClose.slice(this.model.indexOf(filter.except, editorsToClose) + 1);\n\t\t}\n\n\t\t// Filter: except\n\t\telse if (filter.except) {\n\t\t\teditorsToClose = editorsToClose.filter(editor => filter.except && !editor.matches(filter.except));\n\t\t}\n\n\t\treturn editorsToClose;\n\t}\n\n\tprivate doCloseEditors(editors: EditorInput[], options?: ICloseEditorOptions): void {\n\n\t\t// Close all inactive editors first\n\t\tlet closeActiveEditor = false;\n\t\tfor (const editor of editors) {\n\t\t\tif (!this.isActive(editor)) {\n\t\t\t\tthis.doCloseInactiveEditor(editor);\n\t\t\t} else {\n\t\t\t\tcloseActiveEditor = true;\n\t\t\t}\n\t\t}\n\n\t\t// Close active editor last if contained in editors list to close\n\t\tif (closeActiveEditor) {\n\t\t\tthis.doCloseActiveEditor(options?.preserveFocus);\n\t\t}\n\n\t\t// Forward to title control\n\t\tif (editors.length) {\n\t\t\tthis.titleControl.closeEditors(editors);\n\t\t}\n\t}\n\n\t//#endregion\n\n\t//#region closeAllEditors()\n\n\tcloseAllEditors(options: { excludeConfirming: true }): boolean;\n\tcloseAllEditors(options?: ICloseAllEditorsOptions): Promise<boolean>;\n\tcloseAllEditors(options?: ICloseAllEditorsOptions): boolean | Promise<boolean> {\n\t\tif (this.isEmpty) {\n\n\t\t\t// If the group is empty and the request is to close all editors, we still close\n\t\t\t// the editor group is the related setting to close empty groups is enabled for\n\t\t\t// a convenient way of removing empty editor groups for the user.\n\t\t\tif (this.groupsView.partOptions.closeEmptyGroups) {\n\t\t\t\tthis.groupsView.removeGroup(this);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\t// We can go ahead and close \"sync\" when we exclude confirming editors\n\t\tif (options?.excludeConfirming) {\n\t\t\tthis.doCloseAllEditors(options);\n\t\t\treturn true;\n\t\t}\n\n\t\t// Otherwise go through potential confirmation \"async\"\n\t\treturn this.handleCloseConfirmation(this.model.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE, options)).then(veto => {\n\t\t\tif (veto) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthis.doCloseAllEditors(options);\n\t\t\treturn true;\n\t\t});\n\t}\n\n\tprivate doCloseAllEditors(options?: ICloseAllEditorsOptions): void {\n\t\tlet editors = this.model.getEditors(EditorsOrder.SEQUENTIAL, options);\n\t\tif (options?.excludeConfirming) {\n\t\t\teditors = editors.filter(editor => !this.shouldConfirmClose(editor));\n\t\t}\n\n\t\t// Close all inactive editors first\n\t\tconst editorsToClose: EditorInput[] = [];\n\t\tfor (const editor of editors) {\n\t\t\tif (!this.isActive(editor)) {\n\t\t\t\tthis.doCloseInactiveEditor(editor);\n\t\t\t}\n\n\t\t\teditorsToClose.push(editor);\n\t\t}\n\n\t\t// Close active editor last (unless we skip it, e.g. because it is sticky)\n\t\tif (this.activeEditor && editorsToClose.includes(this.activeEditor)) {\n\t\t\tthis.doCloseActiveEditor();\n\t\t}\n\n\t\t// Forward to title control\n\t\tif (editorsToClose.length) {\n\t\t\tthis.titleControl.closeEditors(editorsToClose);\n\t\t}\n\t}\n\n\t//#endregion\n\n\t//#region replaceEditors()\n\n\tasync replaceEditors(editors: EditorReplacement[]): Promise<void> {\n\n\t\t// Extract active vs. inactive replacements\n\t\tlet activeReplacement: EditorReplacement | undefined;\n\t\tconst inactiveReplacements: EditorReplacement[] = [];\n\t\tfor (let { editor, replacement, forceReplaceDirty, options } of editors) {\n\t\t\tconst index = this.getIndexOfEditor(editor);\n\t\t\tif (index >= 0) {\n\t\t\t\tconst isActiveEditor = this.isActive(editor);\n\n\t\t\t\t// make sure we respect the index of the editor to replace\n\t\t\t\tif (options) {\n\t\t\t\t\toptions.index = index;\n\t\t\t\t} else {\n\t\t\t\t\toptions = { index };\n\t\t\t\t}\n\n\t\t\t\toptions.inactive = !isActiveEditor;\n\t\t\t\toptions.pinned = options.pinned ?? true; // unless specified, prefer to pin upon replace\n\n\t\t\t\tconst editorToReplace = { editor, replacement, forceReplaceDirty, options };\n\t\t\t\tif (isActiveEditor) {\n\t\t\t\t\tactiveReplacement = editorToReplace;\n\t\t\t\t} else {\n\t\t\t\t\tinactiveReplacements.push(editorToReplace);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Handle inactive first\n\t\tfor (const { editor, replacement, forceReplaceDirty, options } of inactiveReplacements) {\n\n\t\t\t// Open inactive editor\n\t\t\tawait this.doOpenEditor(replacement, options);\n\n\t\t\t// Close replaced inactive editor unless they match\n\t\t\tif (!editor.matches(replacement)) {\n\t\t\t\tlet closed = false;\n\t\t\t\tif (forceReplaceDirty) {\n\t\t\t\t\tthis.doCloseEditor(editor, true, { context: EditorCloseContext.REPLACE });\n\t\t\t\t\tclosed = true;\n\t\t\t\t} else {\n\t\t\t\t\tclosed = await this.doCloseEditorWithConfirmationHandling(editor, { preserveFocus: true }, { context: EditorCloseContext.REPLACE });\n\t\t\t\t}\n\n\t\t\t\tif (!closed) {\n\t\t\t\t\treturn; // canceled\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Handle active last\n\t\tif (activeReplacement) {\n\n\t\t\t// Open replacement as active editor\n\t\t\tconst openEditorResult = this.doOpenEditor(activeReplacement.replacement, activeReplacement.options);\n\n\t\t\t// Close replaced active editor unless they match\n\t\t\tif (!activeReplacement.editor.matches(activeReplacement.replacement)) {\n\t\t\t\tif (activeReplacement.forceReplaceDirty) {\n\t\t\t\t\tthis.doCloseEditor(activeReplacement.editor, true, { context: EditorCloseContext.REPLACE });\n\t\t\t\t} else {\n\t\t\t\t\tawait this.doCloseEditorWithConfirmationHandling(activeReplacement.editor, { preserveFocus: true }, { context: EditorCloseContext.REPLACE });\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tawait openEditorResult;\n\t\t}\n\t}\n\n\t//#endregion\n\n\t//#region Locking\n\n\tget isLocked(): boolean {\n\t\treturn this.model.isLocked;\n\t}\n\n\tlock(locked: boolean): void {\n\t\tthis.model.lock(locked);\n\t}\n\n\t//#endregion\n\n\t//#region Editor Actions\n\n\tcreateEditorActions(disposables: DisposableStore, menuId = MenuId.EditorTitle): IActiveEditorActions {\n\t\tlet actions: PrimaryAndSecondaryActions = { primary: [], secondary: [] };\n\t\tlet onDidChange: Event<IMenuChangeEvent | void> | undefined;\n\n\t\t// Editor actions require the editor control to be there, so we retrieve it via service\n\t\tconst activeEditorPane = this.activeEditorPane;\n\t\tif (activeEditorPane instanceof EditorPane) {\n\t\t\tconst editorScopedContextKeyService = activeEditorPane.scopedContextKeyService ?? this.scopedContextKeyService;\n\t\t\tconst editorTitleMenu = disposables.add(this.menuService.createMenu(menuId, editorScopedContextKeyService, { emitEventsForSubmenuChanges: true, eventDebounceDelay: 0 }));\n\t\t\tonDidChange = editorTitleMenu.onDidChange;\n\n\t\t\tconst shouldInlineGroup = (action: SubmenuAction, group: string) => group === 'navigation' && action.actions.length <= 1;\n\n\t\t\tactions = getActionBarActions(\n\t\t\t\teditorTitleMenu.getActions({ arg: this.resourceContext.get(), shouldForwardArgs: true }),\n\t\t\t\t'navigation',\n\t\t\t\tshouldInlineGroup\n\t\t\t);\n\t\t} else {\n\t\t\t// If there is no active pane in the group (it's the last group and it's empty)\n\t\t\t// Trigger the change event when the active editor changes\n\t\t\tconst onDidChangeEmitter = disposables.add(new Emitter<void>());\n\t\t\tonDidChange = onDidChangeEmitter.event;\n\t\t\tdisposables.add(this.onDidActiveEditorChange(() => onDidChangeEmitter.fire()));\n\t\t}\n\n\t\treturn { actions, onDidChange };\n\t}\n\n\t//#endregion\n\n\t//#region Themable\n\n\toverride updateStyles(): void {\n\t\tconst isEmpty = this.isEmpty;\n\n\t\t// Container\n\t\tif (isEmpty) {\n\t\t\tthis.element.style.backgroundColor = this.getColor(EDITOR_GROUP_EMPTY_BACKGROUND) || '';\n\t\t} else {\n\t\t\tthis.element.style.backgroundColor = '';\n\t\t}\n\n\t\t// Title control\n\t\tconst borderColor = this.getColor(EDITOR_GROUP_HEADER_BORDER) || this.getColor(contrastBorder);\n\t\tif (!isEmpty && borderColor) {\n\t\t\tthis.titleContainer.classList.add('title-border-bottom');\n\t\t\tthis.titleContainer.style.setProperty('--title-border-bottom-color', borderColor);\n\t\t} else {\n\t\t\tthis.titleContainer.classList.remove('title-border-bottom');\n\t\t\tthis.titleContainer.style.removeProperty('--title-border-bottom-color');\n\t\t}\n\n\t\tconst { showTabs } = this.groupsView.partOptions;\n\t\tthis.titleContainer.style.backgroundColor = this.getColor(showTabs === 'multiple' ? EDITOR_GROUP_HEADER_TABS_BACKGROUND : EDITOR_GROUP_HEADER_NO_TABS_BACKGROUND) || '';\n\n\t\t// Editor container\n\t\tthis.editorContainer.style.backgroundColor = this.getColor(editorBackground) || '';\n\t}\n\n\t//#endregion\n\n\t//#region ISerializableView\n\n\treadonly element: HTMLElement = $('div');\n\n\tget minimumWidth(): number { return this.editorPane.minimumWidth; }\n\tget minimumHeight(): number { return this.editorPane.minimumHeight; }\n\tget maximumWidth(): number { return this.editorPane.maximumWidth; }\n\tget maximumHeight(): number { return this.editorPane.maximumHeight; }\n\n\tget proportionalLayout(): boolean {\n\t\tif (!this.lastLayout) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn !(this.lastLayout.width === this.minimumWidth || this.lastLayout.height === this.minimumHeight);\n\t}\n\n\tprivate _onDidChange = this._register(new Relay<{ width: number; height: number } | undefined>());\n\treadonly onDidChange = this._onDidChange.event;\n\n\tlayout(width: number, height: number, top: number, left: number): void {\n\t\tthis.lastLayout = { width, height, top, left };\n\t\tthis.element.classList.toggle('max-height-478px', height <= 478);\n\n\t\t// Layout the title control first to receive the size it occupies\n\t\tconst titleControlSize = this.titleControl.layout({\n\t\t\tcontainer: new Dimension(width, height),\n\t\t\tavailable: new Dimension(width, height - this.editorPane.minimumHeight)\n\t\t});\n\n\t\t// Update progress bar location\n\t\tthis.progressBar.getContainer().style.top = `${Math.max(this.titleHeight.offset - 2, 0)}px`;\n\n\t\t// Pass the container width and remaining height to the editor layout\n\t\tconst editorHeight = Math.max(0, height - titleControlSize.height);\n\t\tthis.editorContainer.style.height = `${editorHeight}px`;\n\t\tthis.editorPane.layout({ width, height: editorHeight, top: top + titleControlSize.height, left });\n\t}\n\n\trelayout(): void {\n\t\tif (this.lastLayout) {\n\t\t\tconst { width, height, top, left } = this.lastLayout;\n\t\t\tthis.layout(width, height, top, left);\n\t\t}\n\t}\n\n\tsetBoundarySashes(sashes: IBoundarySashes): void {\n\t\tthis.editorPane.setBoundarySashes(sashes);\n\t}\n\n\ttoJSON(): ISerializedEditorGroupModel {\n\t\treturn this.model.serialize();\n\t}\n\n\t//#endregion\n\n\toverride dispose(): void {\n\t\tthis._disposed = true;\n\n\t\tthis._onWillDispose.fire();\n\n\t\tsuper.dispose();\n\t}\n}\n\nexport interface EditorReplacement extends IEditorReplacement {\n\treadonly editor: EditorInput;\n\treadonly replacement: EditorInput;\n\treadonly options?: IEditorOptions;\n}\n"]}