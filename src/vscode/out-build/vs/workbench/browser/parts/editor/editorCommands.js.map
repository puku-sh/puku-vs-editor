{"version":3,"sources":["vs/workbench/browser/parts/editor/editorCommands.ts"],"names":[],"mappings":"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","file":"editorCommands.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IJSONSchema } from '../../../../base/common/jsonSchema.js';\nimport { KeyChord, KeyCode, KeyMod } from '../../../../base/common/keyCodes.js';\nimport { Schemas, matchesScheme } from '../../../../base/common/network.js';\nimport { extname, isEqual } from '../../../../base/common/resources.js';\nimport { isNumber, isObject, isString, isUndefined } from '../../../../base/common/types.js';\nimport { URI, UriComponents } from '../../../../base/common/uri.js';\nimport { EditorContextKeys } from '../../../../editor/common/editorContextKeys.js';\nimport { localize, localize2 } from '../../../../nls.js';\nimport { Categories } from '../../../../platform/action/common/actionCommonCategories.js';\nimport { Action2, registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { CommandsRegistry, ICommandHandler, ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { EditorResolution, IEditorOptions, IResourceEditorInput, ITextEditorOptions } from '../../../../platform/editor/common/editor.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { KeybindingWeight, KeybindingsRegistry } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { IListService, IOpenEvent } from '../../../../platform/list/browser/listService.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { IQuickInputService } from '../../../../platform/quickinput/common/quickInput.js';\nimport { ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nimport { ActiveGroupEditorsByMostRecentlyUsedQuickAccess } from './editorQuickAccess.js';\nimport { SideBySideEditor } from './sideBySideEditor.js';\nimport { TextDiffEditor } from './textDiffEditor.js';\nimport { ActiveEditorCanSplitInGroupContext, ActiveEditorGroupEmptyContext, ActiveEditorGroupLockedContext, ActiveEditorStickyContext, MultipleEditorGroupsContext, SideBySideEditorActiveContext, TextCompareEditorActiveContext } from '../../../common/contextkeys.js';\nimport { CloseDirection, EditorInputCapabilities, EditorsOrder, IResourceDiffEditorInput, IUntitledTextResourceEditorInput, isEditorInputWithOptionsAndGroup } from '../../../common/editor.js';\nimport { EditorInput } from '../../../common/editor/editorInput.js';\nimport { SideBySideEditorInput } from '../../../common/editor/sideBySideEditorInput.js';\nimport { EditorGroupColumn, columnToEditorGroup } from '../../../services/editor/common/editorGroupColumn.js';\nimport { EditorGroupLayout, GroupDirection, GroupLocation, GroupsOrder, IEditorGroup, IEditorGroupsService, IEditorReplacement, preferredSideBySideGroupDirection } from '../../../services/editor/common/editorGroupsService.js';\nimport { IEditorResolverService } from '../../../services/editor/common/editorResolverService.js';\nimport { IEditorService, SIDE_GROUP } from '../../../services/editor/common/editorService.js';\nimport { IPathService } from '../../../services/path/common/pathService.js';\nimport { IUntitledTextEditorService } from '../../../services/untitled/common/untitledTextEditorService.js';\nimport { DIFF_FOCUS_OTHER_SIDE, DIFF_FOCUS_PRIMARY_SIDE, DIFF_FOCUS_SECONDARY_SIDE, registerDiffEditorCommands } from './diffEditorCommands.js';\nimport { IResolvedEditorCommandsContext, resolveCommandsContext } from './editorCommandsContext.js';\nimport { prepareMoveCopyEditors } from './editor.js';\nimport { IRange } from '../../../../editor/common/core/range.js';\nimport { IMultiDiffEditorOptions } from '../../../../editor/browser/widget/multiDiffEditor/multiDiffEditorWidgetImpl.js';\n\nexport const CLOSE_SAVED_EDITORS_COMMAND_ID = 'workbench.action.closeUnmodifiedEditors';\nexport const CLOSE_EDITORS_IN_GROUP_COMMAND_ID = 'workbench.action.closeEditorsInGroup';\nexport const CLOSE_EDITORS_AND_GROUP_COMMAND_ID = 'workbench.action.closeEditorsAndGroup';\nexport const CLOSE_EDITORS_TO_THE_RIGHT_COMMAND_ID = 'workbench.action.closeEditorsToTheRight';\nexport const CLOSE_EDITOR_COMMAND_ID = 'workbench.action.closeActiveEditor';\nexport const CLOSE_PINNED_EDITOR_COMMAND_ID = 'workbench.action.closeActivePinnedEditor';\nexport const CLOSE_EDITOR_GROUP_COMMAND_ID = 'workbench.action.closeGroup';\nexport const CLOSE_OTHER_EDITORS_IN_GROUP_COMMAND_ID = 'workbench.action.closeOtherEditors';\n\nexport const MOVE_ACTIVE_EDITOR_COMMAND_ID = 'moveActiveEditor';\nexport const COPY_ACTIVE_EDITOR_COMMAND_ID = 'copyActiveEditor';\nexport const LAYOUT_EDITOR_GROUPS_COMMAND_ID = 'layoutEditorGroups';\nexport const KEEP_EDITOR_COMMAND_ID = 'workbench.action.keepEditor';\nexport const TOGGLE_KEEP_EDITORS_COMMAND_ID = 'workbench.action.toggleKeepEditors';\nexport const TOGGLE_LOCK_GROUP_COMMAND_ID = 'workbench.action.toggleEditorGroupLock';\nexport const LOCK_GROUP_COMMAND_ID = 'workbench.action.lockEditorGroup';\nexport const UNLOCK_GROUP_COMMAND_ID = 'workbench.action.unlockEditorGroup';\nexport const SHOW_EDITORS_IN_GROUP = 'workbench.action.showEditorsInGroup';\nexport const REOPEN_WITH_COMMAND_ID = 'workbench.action.reopenWithEditor';\nexport const REOPEN_ACTIVE_EDITOR_WITH_COMMAND_ID = 'reopenActiveEditorWith';\n\nexport const PIN_EDITOR_COMMAND_ID = 'workbench.action.pinEditor';\nexport const UNPIN_EDITOR_COMMAND_ID = 'workbench.action.unpinEditor';\n\nexport const SPLIT_EDITOR = 'workbench.action.splitEditor';\nexport const SPLIT_EDITOR_UP = 'workbench.action.splitEditorUp';\nexport const SPLIT_EDITOR_DOWN = 'workbench.action.splitEditorDown';\nexport const SPLIT_EDITOR_LEFT = 'workbench.action.splitEditorLeft';\nexport const SPLIT_EDITOR_RIGHT = 'workbench.action.splitEditorRight';\n\nexport const MOVE_EDITOR_INTO_ABOVE_GROUP = 'workbench.action.moveEditorToAboveGroup';\nexport const MOVE_EDITOR_INTO_BELOW_GROUP = 'workbench.action.moveEditorToBelowGroup';\nexport const MOVE_EDITOR_INTO_LEFT_GROUP = 'workbench.action.moveEditorToLeftGroup';\nexport const MOVE_EDITOR_INTO_RIGHT_GROUP = 'workbench.action.moveEditorToRightGroup';\n\nexport const TOGGLE_MAXIMIZE_EDITOR_GROUP = 'workbench.action.toggleMaximizeEditorGroup';\n\nexport const SPLIT_EDITOR_IN_GROUP = 'workbench.action.splitEditorInGroup';\nexport const TOGGLE_SPLIT_EDITOR_IN_GROUP = 'workbench.action.toggleSplitEditorInGroup';\nexport const JOIN_EDITOR_IN_GROUP = 'workbench.action.joinEditorInGroup';\nexport const TOGGLE_SPLIT_EDITOR_IN_GROUP_LAYOUT = 'workbench.action.toggleSplitEditorInGroupLayout';\n\nexport const FOCUS_FIRST_SIDE_EDITOR = 'workbench.action.focusFirstSideEditor';\nexport const FOCUS_SECOND_SIDE_EDITOR = 'workbench.action.focusSecondSideEditor';\nexport const FOCUS_OTHER_SIDE_EDITOR = 'workbench.action.focusOtherSideEditor';\n\nexport const FOCUS_LEFT_GROUP_WITHOUT_WRAP_COMMAND_ID = 'workbench.action.focusLeftGroupWithoutWrap';\nexport const FOCUS_RIGHT_GROUP_WITHOUT_WRAP_COMMAND_ID = 'workbench.action.focusRightGroupWithoutWrap';\nexport const FOCUS_ABOVE_GROUP_WITHOUT_WRAP_COMMAND_ID = 'workbench.action.focusAboveGroupWithoutWrap';\nexport const FOCUS_BELOW_GROUP_WITHOUT_WRAP_COMMAND_ID = 'workbench.action.focusBelowGroupWithoutWrap';\n\nexport const OPEN_EDITOR_AT_INDEX_COMMAND_ID = 'workbench.action.openEditorAtIndex';\n\nexport const MOVE_EDITOR_INTO_NEW_WINDOW_COMMAND_ID = 'workbench.action.moveEditorToNewWindow';\nexport const COPY_EDITOR_INTO_NEW_WINDOW_COMMAND_ID = 'workbench.action.copyEditorToNewWindow';\n\nexport const MOVE_EDITOR_GROUP_INTO_NEW_WINDOW_COMMAND_ID = 'workbench.action.moveEditorGroupToNewWindow';\nexport const COPY_EDITOR_GROUP_INTO_NEW_WINDOW_COMMAND_ID = 'workbench.action.copyEditorGroupToNewWindow';\n\nexport const NEW_EMPTY_EDITOR_WINDOW_COMMAND_ID = 'workbench.action.newEmptyEditorWindow';\n\nexport const API_OPEN_EDITOR_COMMAND_ID = '_workbench.open';\nexport const API_OPEN_DIFF_EDITOR_COMMAND_ID = '_workbench.diff';\nexport const API_OPEN_WITH_EDITOR_COMMAND_ID = '_workbench.openWith';\n\nexport const EDITOR_CORE_NAVIGATION_COMMANDS = [\n\tSPLIT_EDITOR,\n\tCLOSE_EDITOR_COMMAND_ID,\n\tUNPIN_EDITOR_COMMAND_ID,\n\tUNLOCK_GROUP_COMMAND_ID,\n\tTOGGLE_MAXIMIZE_EDITOR_GROUP\n];\n\nexport interface SelectedEditorsMoveCopyArguments {\n\tto?: 'first' | 'last' | 'left' | 'right' | 'up' | 'down' | 'center' | 'position' | 'previous' | 'next';\n\tby?: 'tab' | 'group';\n\tvalue?: number;\n}\n\nconst isSelectedEditorsMoveCopyArg = function (arg: SelectedEditorsMoveCopyArguments): boolean {\n\tif (!isObject(arg)) {\n\t\treturn false;\n\t}\n\n\tif (!isString(arg.to)) {\n\t\treturn false;\n\t}\n\n\tif (!isUndefined(arg.by) && !isString(arg.by)) {\n\t\treturn false;\n\t}\n\n\tif (!isUndefined(arg.value) && !isNumber(arg.value)) {\n\t\treturn false;\n\t}\n\n\treturn true;\n};\n\nfunction registerActiveEditorMoveCopyCommand(): void {\n\n\tconst moveCopyJSONSchema: IJSONSchema = {\n\t\t'type': 'object',\n\t\t'required': ['to'],\n\t\t'properties': {\n\t\t\t'to': {\n\t\t\t\t'type': 'string',\n\t\t\t\t'enum': ['left', 'right']\n\t\t\t},\n\t\t\t'by': {\n\t\t\t\t'type': 'string',\n\t\t\t\t'enum': ['tab', 'group']\n\t\t\t},\n\t\t\t'value': {\n\t\t\t\t'type': 'number'\n\t\t\t}\n\t\t}\n\t};\n\n\tKeybindingsRegistry.registerCommandAndKeybindingRule({\n\t\tid: MOVE_ACTIVE_EDITOR_COMMAND_ID,\n\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\twhen: EditorContextKeys.editorTextFocus,\n\t\tprimary: 0,\n\t\thandler: (accessor, args) => moveCopySelectedEditors(true, args as SelectedEditorsMoveCopyArguments | undefined, accessor),\n\t\tmetadata: {\n\t\t\tdescription: localize('editorCommand.activeEditorMove.description', \"Move the active editor by tabs or groups\"),\n\t\t\targs: [\n\t\t\t\t{\n\t\t\t\t\tname: localize('editorCommand.activeEditorMove.arg.name', \"Active editor move argument\"),\n\t\t\t\t\tdescription: localize('editorCommand.activeEditorMove.arg.description', \"Argument Properties:\\n\\t* 'to': String value providing where to move.\\n\\t* 'by': String value providing the unit for move (by tab or by group).\\n\\t* 'value': Number value providing how many positions or an absolute position to move.\"),\n\t\t\t\t\tconstraint: isSelectedEditorsMoveCopyArg,\n\t\t\t\t\tschema: moveCopyJSONSchema\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t});\n\n\tKeybindingsRegistry.registerCommandAndKeybindingRule({\n\t\tid: COPY_ACTIVE_EDITOR_COMMAND_ID,\n\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\twhen: EditorContextKeys.editorTextFocus,\n\t\tprimary: 0,\n\t\thandler: (accessor, args) => moveCopySelectedEditors(false, args as SelectedEditorsMoveCopyArguments | undefined, accessor),\n\t\tmetadata: {\n\t\t\tdescription: localize('editorCommand.activeEditorCopy.description', \"Copy the active editor by groups\"),\n\t\t\targs: [\n\t\t\t\t{\n\t\t\t\t\tname: localize('editorCommand.activeEditorCopy.arg.name', \"Active editor copy argument\"),\n\t\t\t\t\tdescription: localize('editorCommand.activeEditorCopy.arg.description', \"Argument Properties:\\n\\t* 'to': String value providing where to copy.\\n\\t* 'value': Number value providing how many positions or an absolute position to copy.\"),\n\t\t\t\t\tconstraint: isSelectedEditorsMoveCopyArg,\n\t\t\t\t\tschema: moveCopyJSONSchema\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t});\n\n\tfunction moveCopySelectedEditors(isMove: boolean, args: SelectedEditorsMoveCopyArguments = Object.create(null), accessor: ServicesAccessor): void {\n\t\targs.to = args.to || 'right';\n\t\targs.by = args.by || 'tab';\n\t\targs.value = typeof args.value === 'number' ? args.value : 1;\n\n\t\tconst activeGroup = accessor.get(IEditorGroupsService).activeGroup;\n\t\tconst selectedEditors = activeGroup.selectedEditors;\n\t\tif (selectedEditors.length > 0) {\n\t\t\tswitch (args.by) {\n\t\t\t\tcase 'tab':\n\t\t\t\t\tif (isMove) {\n\t\t\t\t\t\treturn moveTabs(args, activeGroup, selectedEditors);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'group':\n\t\t\t\t\treturn moveCopyActiveEditorToGroup(isMove, args, activeGroup, selectedEditors, accessor);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction moveTabs(args: SelectedEditorsMoveCopyArguments, group: IEditorGroup, editors: EditorInput[]): void {\n\t\tconst to = args.to;\n\t\tif (to === 'first' || to === 'right') {\n\t\t\teditors = [...editors].reverse();\n\t\t} else if (to === 'position' && (args.value ?? 1) < group.getIndexOfEditor(editors[0])) {\n\t\t\teditors = [...editors].reverse();\n\t\t}\n\n\t\tfor (const editor of editors) {\n\t\t\tmoveTab(args, group, editor);\n\t\t}\n\t}\n\n\tfunction moveTab(args: SelectedEditorsMoveCopyArguments, group: IEditorGroup, editor: EditorInput): void {\n\t\tlet index = group.getIndexOfEditor(editor);\n\t\tswitch (args.to) {\n\t\t\tcase 'first':\n\t\t\t\tindex = 0;\n\t\t\t\tbreak;\n\t\t\tcase 'last':\n\t\t\t\tindex = group.count - 1;\n\t\t\t\tbreak;\n\t\t\tcase 'left':\n\t\t\t\tindex = index - (args.value ?? 1);\n\t\t\t\tbreak;\n\t\t\tcase 'right':\n\t\t\t\tindex = index + (args.value ?? 1);\n\t\t\t\tbreak;\n\t\t\tcase 'center':\n\t\t\t\tindex = Math.round(group.count / 2) - 1;\n\t\t\t\tbreak;\n\t\t\tcase 'position':\n\t\t\t\tindex = (args.value ?? 1) - 1;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tindex = index < 0 ? 0 : index >= group.count ? group.count - 1 : index;\n\t\tgroup.moveEditor(editor, group, { index });\n\t}\n\n\tfunction moveCopyActiveEditorToGroup(isMove: boolean, args: SelectedEditorsMoveCopyArguments, sourceGroup: IEditorGroup, editors: EditorInput[], accessor: ServicesAccessor): void {\n\t\tconst editorGroupsService = accessor.get(IEditorGroupsService);\n\t\tconst configurationService = accessor.get(IConfigurationService);\n\n\t\tlet targetGroup: IEditorGroup | undefined;\n\n\t\tswitch (args.to) {\n\t\t\tcase 'left':\n\t\t\t\ttargetGroup = editorGroupsService.findGroup({ direction: GroupDirection.LEFT }, sourceGroup);\n\t\t\t\tif (!targetGroup) {\n\t\t\t\t\ttargetGroup = editorGroupsService.addGroup(sourceGroup, GroupDirection.LEFT);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'right':\n\t\t\t\ttargetGroup = editorGroupsService.findGroup({ direction: GroupDirection.RIGHT }, sourceGroup);\n\t\t\t\tif (!targetGroup) {\n\t\t\t\t\ttargetGroup = editorGroupsService.addGroup(sourceGroup, GroupDirection.RIGHT);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'up':\n\t\t\t\ttargetGroup = editorGroupsService.findGroup({ direction: GroupDirection.UP }, sourceGroup);\n\t\t\t\tif (!targetGroup) {\n\t\t\t\t\ttargetGroup = editorGroupsService.addGroup(sourceGroup, GroupDirection.UP);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'down':\n\t\t\t\ttargetGroup = editorGroupsService.findGroup({ direction: GroupDirection.DOWN }, sourceGroup);\n\t\t\t\tif (!targetGroup) {\n\t\t\t\t\ttargetGroup = editorGroupsService.addGroup(sourceGroup, GroupDirection.DOWN);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'first':\n\t\t\t\ttargetGroup = editorGroupsService.findGroup({ location: GroupLocation.FIRST }, sourceGroup);\n\t\t\t\tbreak;\n\t\t\tcase 'last':\n\t\t\t\ttargetGroup = editorGroupsService.findGroup({ location: GroupLocation.LAST }, sourceGroup);\n\t\t\t\tbreak;\n\t\t\tcase 'previous':\n\t\t\t\ttargetGroup = editorGroupsService.findGroup({ location: GroupLocation.PREVIOUS }, sourceGroup);\n\t\t\t\tif (!targetGroup) {\n\t\t\t\t\tconst oppositeDirection = preferredSideBySideGroupDirection(configurationService) === GroupDirection.RIGHT ? GroupDirection.LEFT : GroupDirection.UP;\n\t\t\t\t\ttargetGroup = editorGroupsService.addGroup(sourceGroup, oppositeDirection);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'next':\n\t\t\t\ttargetGroup = editorGroupsService.findGroup({ location: GroupLocation.NEXT }, sourceGroup);\n\t\t\t\tif (!targetGroup) {\n\t\t\t\t\ttargetGroup = editorGroupsService.addGroup(sourceGroup, preferredSideBySideGroupDirection(configurationService));\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'center':\n\t\t\t\ttargetGroup = editorGroupsService.getGroups(GroupsOrder.GRID_APPEARANCE)[(editorGroupsService.count / 2) - 1];\n\t\t\t\tbreak;\n\t\t\tcase 'position':\n\t\t\t\ttargetGroup = editorGroupsService.getGroups(GroupsOrder.GRID_APPEARANCE)[(args.value ?? 1) - 1];\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (targetGroup) {\n\t\t\tconst editorsWithOptions = prepareMoveCopyEditors(sourceGroup, editors);\n\t\t\tif (isMove) {\n\t\t\t\tsourceGroup.moveEditors(editorsWithOptions, targetGroup);\n\t\t\t} else if (sourceGroup.id !== targetGroup.id) {\n\t\t\t\tsourceGroup.copyEditors(editorsWithOptions, targetGroup);\n\t\t\t}\n\n\t\t\ttargetGroup.focus();\n\t\t}\n\t}\n}\n\nfunction registerEditorGroupsLayoutCommands(): void {\n\n\tfunction applyEditorLayout(accessor: ServicesAccessor, layout: EditorGroupLayout): void {\n\t\tif (!layout || typeof layout !== 'object') {\n\t\t\treturn;\n\t\t}\n\n\t\tconst editorGroupsService = accessor.get(IEditorGroupsService);\n\t\teditorGroupsService.applyLayout(layout);\n\t}\n\n\tCommandsRegistry.registerCommand(LAYOUT_EDITOR_GROUPS_COMMAND_ID, (accessor: ServicesAccessor, args: EditorGroupLayout) => {\n\t\tapplyEditorLayout(accessor, args);\n\t});\n\n\t// API Commands\n\tCommandsRegistry.registerCommand({\n\t\tid: 'vscode.setEditorLayout',\n\t\thandler: (accessor: ServicesAccessor, args: EditorGroupLayout) => applyEditorLayout(accessor, args),\n\t\tmetadata: {\n\t\t\t'description': `Set the editor layout. Editor layout is represented as a tree of groups in which the first group is the root group of the layout.\n\t\t\t\t\tThe orientation of the first group is 0 (horizontal) by default unless specified otherwise. The other orientations are 1 (vertical).\n\t\t\t\t\tThe orientation of subsequent groups is the opposite of the orientation of the group that contains it.\n\t\t\t\t\tHere are some examples: A layout representing 1 row and 2 columns: { orientation: 0, groups: [{}, {}] }.\n\t\t\t\t\tA layout representing 3 rows and 1 column: { orientation: 1, groups: [{}, {}, {}] }.\n\t\t\t\t\tA layout representing 3 rows and 1 column in which the second row has 2 columns: { orientation: 1, groups: [{}, { groups: [{}, {}] }, {}] }\n\t\t\t\t\t`,\n\t\t\targs: [{\n\t\t\t\tname: 'args',\n\t\t\t\tschema: {\n\t\t\t\t\t'type': 'object',\n\t\t\t\t\t'required': ['groups'],\n\t\t\t\t\t'properties': {\n\t\t\t\t\t\t'orientation': {\n\t\t\t\t\t\t\t'type': 'number',\n\t\t\t\t\t\t\t'default': 0,\n\t\t\t\t\t\t\t'description': `The orientation of the root group in the layout. 0 for horizontal, 1 for vertical.`,\n\t\t\t\t\t\t\t'enum': [0, 1],\n\t\t\t\t\t\t\t'enumDescriptions': [\n\t\t\t\t\t\t\t\tlocalize('editorGroupLayout.horizontal', \"Horizontal\"),\n\t\t\t\t\t\t\t\tlocalize('editorGroupLayout.vertical', \"Vertical\")\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'groups': {\n\t\t\t\t\t\t\t'$ref': '#/definitions/editorGroupsSchema',\n\t\t\t\t\t\t\t'default': [{}, {}]\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}]\n\t\t}\n\t});\n\n\tCommandsRegistry.registerCommand({\n\t\tid: 'vscode.getEditorLayout',\n\t\thandler: (accessor: ServicesAccessor) => {\n\t\t\tconst editorGroupsService = accessor.get(IEditorGroupsService);\n\n\t\t\treturn editorGroupsService.getLayout();\n\t\t},\n\t\tmetadata: {\n\t\t\tdescription: 'Get Editor Layout',\n\t\t\targs: [],\n\t\t\treturns: 'An editor layout object, in the same format as vscode.setEditorLayout'\n\t\t}\n\t});\n}\n\nfunction registerOpenEditorAPICommands(): void {\n\n\tfunction mixinContext(context: IOpenEvent<unknown> | undefined, options: ITextEditorOptions | undefined, column: EditorGroupColumn | undefined): [ITextEditorOptions | undefined, EditorGroupColumn | undefined] {\n\t\tif (!context) {\n\t\t\treturn [options, column];\n\t\t}\n\n\t\treturn [\n\t\t\t{ ...context.editorOptions, ...(options ?? Object.create(null)) },\n\t\t\tcontext.sideBySide ? SIDE_GROUP : column\n\t\t];\n\t}\n\n\t// partial, renderer-side API command to open editor only supporting\n\t// arguments that do not need to be converted from the extension host\n\t// complements https://github.com/microsoft/vscode/blob/2b164efb0e6a5de3826bff62683eaeafe032284f/src/vs/workbench/api/common/extHostApiCommands.ts#L373\n\tCommandsRegistry.registerCommand({\n\t\tid: 'vscode.open',\n\t\thandler: (accessor, arg) => {\n\t\t\taccessor.get(ICommandService).executeCommand(API_OPEN_EDITOR_COMMAND_ID, arg);\n\t\t},\n\t\tmetadata: {\n\t\t\tdescription: 'Opens the provided resource in the editor.',\n\t\t\targs: [{ name: 'Uri' }]\n\t\t}\n\t});\n\n\tCommandsRegistry.registerCommand(API_OPEN_EDITOR_COMMAND_ID, async function (accessor: ServicesAccessor, resourceArg: UriComponents | string, columnAndOptions?: [EditorGroupColumn?, ITextEditorOptions?], label?: string, context?: IOpenEvent<unknown>) {\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst editorGroupsService = accessor.get(IEditorGroupsService);\n\t\tconst openerService = accessor.get(IOpenerService);\n\t\tconst pathService = accessor.get(IPathService);\n\t\tconst configurationService = accessor.get(IConfigurationService);\n\t\tconst untitledTextEditorService = accessor.get(IUntitledTextEditorService);\n\n\t\tconst resourceOrString = typeof resourceArg === 'string' ? resourceArg : URI.from(resourceArg, true);\n\t\tconst [columnArg, optionsArg] = columnAndOptions ?? [];\n\n\t\t// use editor options or editor view column or resource scheme\n\t\t// as a hint to use the editor service for opening directly\n\t\tif (optionsArg || typeof columnArg === 'number' || matchesScheme(resourceOrString, Schemas.untitled)) {\n\t\t\tconst [options, column] = mixinContext(context, optionsArg, columnArg);\n\t\t\tconst resource = URI.isUri(resourceOrString) ? resourceOrString : URI.parse(resourceOrString);\n\n\t\t\tlet input: IResourceEditorInput | IUntitledTextResourceEditorInput;\n\t\t\tif (untitledTextEditorService.isUntitledWithAssociatedResource(resource)) {\n\t\t\t\t// special case for untitled: we are getting a resource with meaningful\n\t\t\t\t// path from an extension to use for the untitled editor. as such, we\n\t\t\t\t// have to assume it as an associated resource to use when saving. we\n\t\t\t\t// do so by setting the `forceUntitled: true` and changing the scheme\n\t\t\t\t// to a file based one. the untitled editor service takes care to\n\t\t\t\t// associate the path properly then.\n\t\t\t\tinput = { resource: resource.with({ scheme: pathService.defaultUriScheme }), forceUntitled: true, options, label };\n\t\t\t} else {\n\t\t\t\t// use any other resource as is\n\t\t\t\tinput = { resource, options, label };\n\t\t\t}\n\n\t\t\tawait editorService.openEditor(input, columnToEditorGroup(editorGroupsService, configurationService, column));\n\t\t}\n\n\t\t// do not allow to execute commands from here\n\t\telse if (matchesScheme(resourceOrString, Schemas.command)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// finally, delegate to opener service\n\t\telse {\n\t\t\tawait openerService.open(resourceOrString, { openToSide: context?.sideBySide, editorOptions: context?.editorOptions });\n\t\t}\n\t});\n\n\t// partial, renderer-side API command to open diff editor only supporting\n\t// arguments that do not need to be converted from the extension host\n\t// complements https://github.com/microsoft/vscode/blob/2b164efb0e6a5de3826bff62683eaeafe032284f/src/vs/workbench/api/common/extHostApiCommands.ts#L397\n\tCommandsRegistry.registerCommand({\n\t\tid: 'vscode.diff',\n\t\thandler: (accessor, left, right, label) => {\n\t\t\taccessor.get(ICommandService).executeCommand(API_OPEN_DIFF_EDITOR_COMMAND_ID, left, right, label);\n\t\t},\n\t\tmetadata: {\n\t\t\tdescription: 'Opens the provided resources in the diff editor to compare their contents.',\n\t\t\targs: [\n\t\t\t\t{ name: 'left', description: 'Left-hand side resource of the diff editor' },\n\t\t\t\t{ name: 'right', description: 'Right-hand side resource of the diff editor' },\n\t\t\t\t{ name: 'title', description: 'Human readable title for the diff editor' },\n\t\t\t]\n\t\t}\n\t});\n\n\tCommandsRegistry.registerCommand(API_OPEN_DIFF_EDITOR_COMMAND_ID, async function (accessor: ServicesAccessor, originalResource: UriComponents, modifiedResource: UriComponents, labelAndOrDescription?: string | { label: string; description: string }, columnAndOptions?: [EditorGroupColumn?, ITextEditorOptions?], context?: IOpenEvent<unknown>) {\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst editorGroupsService = accessor.get(IEditorGroupsService);\n\t\tconst configurationService = accessor.get(IConfigurationService);\n\n\t\tconst [columnArg, optionsArg] = columnAndOptions ?? [];\n\t\tconst [options, column] = mixinContext(context, optionsArg, columnArg);\n\n\t\tlet label: string | undefined = undefined;\n\t\tlet description: string | undefined = undefined;\n\t\tif (typeof labelAndOrDescription === 'string') {\n\t\t\tlabel = labelAndOrDescription;\n\t\t} else if (labelAndOrDescription) {\n\t\t\tlabel = labelAndOrDescription.label;\n\t\t\tdescription = labelAndOrDescription.description;\n\t\t}\n\n\t\tawait editorService.openEditor({\n\t\t\toriginal: { resource: URI.from(originalResource, true) },\n\t\t\tmodified: { resource: URI.from(modifiedResource, true) },\n\t\t\tlabel,\n\t\t\tdescription,\n\t\t\toptions\n\t\t}, columnToEditorGroup(editorGroupsService, configurationService, column));\n\t});\n\n\tCommandsRegistry.registerCommand(API_OPEN_WITH_EDITOR_COMMAND_ID, async (accessor: ServicesAccessor, resource: UriComponents, id: string, columnAndOptions?: [EditorGroupColumn?, ITextEditorOptions?]) => {\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst editorGroupsService = accessor.get(IEditorGroupsService);\n\t\tconst configurationService = accessor.get(IConfigurationService);\n\n\t\tconst [columnArg, optionsArg] = columnAndOptions ?? [];\n\n\t\tawait editorService.openEditor({ resource: URI.from(resource, true), options: { pinned: true, ...optionsArg, override: id } }, columnToEditorGroup(editorGroupsService, configurationService, columnArg));\n\t});\n\n\t// partial, renderer-side API command to open diff editor only supporting\n\t// arguments that do not need to be converted from the extension host\n\t// complements https://github.com/microsoft/vscode/blob/2b164efb0e6a5de3826bff62683eaeafe032284f/src/vs/workbench/api/common/extHostApiCommands.ts#L397\n\tCommandsRegistry.registerCommand({\n\t\tid: 'vscode.changes',\n\t\thandler: (accessor, title: string, resources: [UriComponents, UriComponents?, UriComponents?][]) => {\n\t\t\taccessor.get(ICommandService).executeCommand('_workbench.changes', title, resources);\n\t\t},\n\t\tmetadata: {\n\t\t\tdescription: 'Opens a list of resources in the changes editor to compare their contents.',\n\t\t\targs: [\n\t\t\t\t{ name: 'title', description: 'Human readable title for the diff editor' },\n\t\t\t\t{ name: 'resources', description: 'List of resources to open in the changes editor' }\n\t\t\t]\n\t\t}\n\t});\n\n\tCommandsRegistry.registerCommand('_workbench.changes', async (accessor: ServicesAccessor, title: string, resources: [UriComponents, UriComponents?, UriComponents?][]) => {\n\t\tconst editorService = accessor.get(IEditorService);\n\n\t\tconst editor: (IResourceDiffEditorInput & { resource: URI })[] = [];\n\t\tfor (const [label, original, modified] of resources) {\n\t\t\teditor.push({\n\t\t\t\tresource: URI.revive(label),\n\t\t\t\toriginal: { resource: URI.revive(original) },\n\t\t\t\tmodified: { resource: URI.revive(modified) },\n\t\t\t});\n\t\t}\n\n\t\tawait editorService.openEditor({ resources: editor, label: title });\n\t});\n\n\tCommandsRegistry.registerCommand('_workbench.openMultiDiffEditor', async (accessor: ServicesAccessor, options: OpenMultiFileDiffEditorOptions) => {\n\t\tconst editorService = accessor.get(IEditorService);\n\n\t\tconst resources = options.resources?.map(r => ({ original: { resource: URI.revive(r.originalUri) }, modified: { resource: URI.revive(r.modifiedUri) } }));\n\n\t\tconst revealUri = options.reveal?.modifiedUri ? URI.revive(options.reveal.modifiedUri) : undefined;\n\t\tconst revealResource = revealUri && resources ? resources.find(r => isEqual(r.modified.resource, revealUri)) : undefined;\n\t\tif (options.reveal && !revealResource) {\n\t\t\tconsole.error('Reveal resource not found');\n\t\t}\n\n\t\tconst multiDiffEditorOptions: IMultiDiffEditorOptions = {\n\t\t\tviewState: revealResource ? {\n\t\t\t\trevealData: {\n\t\t\t\t\tresource: {\n\t\t\t\t\t\toriginal: revealResource.original.resource,\n\t\t\t\t\t\tmodified: revealResource.modified.resource,\n\t\t\t\t\t},\n\t\t\t\t\trange: options.reveal?.range,\n\t\t\t\t}\n\t\t\t} : undefined\n\t\t};\n\n\t\tawait editorService.openEditor({\n\t\t\tmultiDiffSource: options.multiDiffSourceUri ? URI.revive(options.multiDiffSourceUri) : undefined,\n\t\t\tresources,\n\t\t\tlabel: options.title,\n\t\t\toptions: multiDiffEditorOptions,\n\t\t});\n\t});\n}\n\ninterface OpenMultiFileDiffEditorOptions {\n\ttitle: string;\n\tmultiDiffSourceUri?: UriComponents;\n\tresources?: { originalUri: UriComponents; modifiedUri: UriComponents }[];\n\treveal?: {\n\t\tmodifiedUri: UriComponents;\n\t\trange?: IRange;\n\t};\n}\n\nfunction registerOpenEditorAtIndexCommands(): void {\n\tconst openEditorAtIndex: ICommandHandler = (accessor: ServicesAccessor, editorIndex: unknown): void => {\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst activeEditorPane = editorService.activeEditorPane;\n\t\tif (activeEditorPane && typeof editorIndex === 'number') {\n\t\t\tconst editor = activeEditorPane.group.getEditorByIndex(editorIndex);\n\t\t\tif (editor) {\n\t\t\t\teditorService.openEditor(editor);\n\t\t\t}\n\t\t}\n\t};\n\n\t// This command takes in the editor index number to open as an argument\n\tCommandsRegistry.registerCommand({\n\t\tid: OPEN_EDITOR_AT_INDEX_COMMAND_ID,\n\t\thandler: openEditorAtIndex\n\t});\n\n\t// Keybindings to focus a specific index in the tab folder if tabs are enabled\n\tfor (let i = 0; i < 9; i++) {\n\t\tconst editorIndex = i;\n\t\tconst visibleIndex = i + 1;\n\n\t\tKeybindingsRegistry.registerCommandAndKeybindingRule({\n\t\t\tid: OPEN_EDITOR_AT_INDEX_COMMAND_ID + visibleIndex,\n\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\twhen: undefined,\n\t\t\tprimary: KeyMod.Alt | toKeyCode(visibleIndex),\n\t\t\tmac: { primary: KeyMod.WinCtrl | toKeyCode(visibleIndex) },\n\t\t\thandler: accessor => openEditorAtIndex(accessor, editorIndex)\n\t\t});\n\t}\n\n\tfunction toKeyCode(index: number): KeyCode {\n\t\tswitch (index) {\n\t\t\tcase 0: return KeyCode.Digit0;\n\t\t\tcase 1: return KeyCode.Digit1;\n\t\t\tcase 2: return KeyCode.Digit2;\n\t\t\tcase 3: return KeyCode.Digit3;\n\t\t\tcase 4: return KeyCode.Digit4;\n\t\t\tcase 5: return KeyCode.Digit5;\n\t\t\tcase 6: return KeyCode.Digit6;\n\t\t\tcase 7: return KeyCode.Digit7;\n\t\t\tcase 8: return KeyCode.Digit8;\n\t\t\tcase 9: return KeyCode.Digit9;\n\t\t}\n\n\t\tthrow new Error('invalid index');\n\t}\n}\n\nfunction registerFocusEditorGroupAtIndexCommands(): void {\n\n\t// Keybindings to focus a specific group (2-8) in the editor area\n\tfor (let groupIndex = 1; groupIndex < 8; groupIndex++) {\n\t\tKeybindingsRegistry.registerCommandAndKeybindingRule({\n\t\t\tid: toCommandId(groupIndex),\n\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\twhen: undefined,\n\t\t\tprimary: KeyMod.CtrlCmd | toKeyCode(groupIndex),\n\t\t\thandler: accessor => {\n\t\t\t\tconst editorGroupsService = accessor.get(IEditorGroupsService);\n\t\t\t\tconst configurationService = accessor.get(IConfigurationService);\n\n\t\t\t\t// To keep backwards compatibility (pre-grid), allow to focus a group\n\t\t\t\t// that does not exist as long as it is the next group after the last\n\t\t\t\t// opened group. Otherwise we return.\n\t\t\t\tif (groupIndex > editorGroupsService.count) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Group exists: just focus\n\t\t\t\tconst groups = editorGroupsService.getGroups(GroupsOrder.GRID_APPEARANCE);\n\t\t\t\tif (groups[groupIndex]) {\n\t\t\t\t\treturn groups[groupIndex].focus();\n\t\t\t\t}\n\n\t\t\t\t// Group does not exist: create new by splitting the active one of the last group\n\t\t\t\tconst direction = preferredSideBySideGroupDirection(configurationService);\n\t\t\t\tconst lastGroup = editorGroupsService.findGroup({ location: GroupLocation.LAST });\n\t\t\t\tif (!lastGroup) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst newGroup = editorGroupsService.addGroup(lastGroup, direction);\n\n\t\t\t\t// Focus\n\t\t\t\tnewGroup.focus();\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction toCommandId(index: number): string {\n\t\tswitch (index) {\n\t\t\tcase 1: return 'workbench.action.focusSecondEditorGroup';\n\t\t\tcase 2: return 'workbench.action.focusThirdEditorGroup';\n\t\t\tcase 3: return 'workbench.action.focusFourthEditorGroup';\n\t\t\tcase 4: return 'workbench.action.focusFifthEditorGroup';\n\t\t\tcase 5: return 'workbench.action.focusSixthEditorGroup';\n\t\t\tcase 6: return 'workbench.action.focusSeventhEditorGroup';\n\t\t\tcase 7: return 'workbench.action.focusEighthEditorGroup';\n\t\t}\n\n\t\tthrow new Error('Invalid index');\n\t}\n\n\tfunction toKeyCode(index: number): KeyCode {\n\t\tswitch (index) {\n\t\t\tcase 1: return KeyCode.Digit2;\n\t\t\tcase 2: return KeyCode.Digit3;\n\t\t\tcase 3: return KeyCode.Digit4;\n\t\t\tcase 4: return KeyCode.Digit5;\n\t\t\tcase 5: return KeyCode.Digit6;\n\t\t\tcase 6: return KeyCode.Digit7;\n\t\t\tcase 7: return KeyCode.Digit8;\n\t\t}\n\n\t\tthrow new Error('Invalid index');\n\t}\n}\n\nexport function splitEditor(editorGroupsService: IEditorGroupsService, direction: GroupDirection, resolvedContext: IResolvedEditorCommandsContext): void {\n\tif (!resolvedContext.groupedEditors.length) {\n\t\treturn;\n\t}\n\n\t// Only support splitting from one source group\n\tconst { group, editors } = resolvedContext.groupedEditors[0];\n\tconst preserveFocus = resolvedContext.preserveFocus;\n\tconst newGroup = editorGroupsService.addGroup(group, direction);\n\n\tfor (const editorToCopy of editors) {\n\t\t// Split editor (if it can be split)\n\t\tif (editorToCopy && !editorToCopy.hasCapability(EditorInputCapabilities.Singleton)) {\n\t\t\tgroup.copyEditor(editorToCopy, newGroup, { preserveFocus });\n\t\t}\n\t}\n\n\t// Focus\n\tnewGroup.focus();\n}\n\nfunction registerSplitEditorCommands() {\n\t[\n\t\t{ id: SPLIT_EDITOR_UP, direction: GroupDirection.UP },\n\t\t{ id: SPLIT_EDITOR_DOWN, direction: GroupDirection.DOWN },\n\t\t{ id: SPLIT_EDITOR_LEFT, direction: GroupDirection.LEFT },\n\t\t{ id: SPLIT_EDITOR_RIGHT, direction: GroupDirection.RIGHT }\n\t].forEach(({ id, direction }) => {\n\t\tCommandsRegistry.registerCommand(id, function (accessor, ...args) {\n\t\t\tconst resolvedContext = resolveCommandsContext(args, accessor.get(IEditorService), accessor.get(IEditorGroupsService), accessor.get(IListService));\n\t\t\tsplitEditor(accessor.get(IEditorGroupsService), direction, resolvedContext);\n\t\t});\n\t});\n}\n\nfunction registerCloseEditorCommands() {\n\n\t// A special handler for \"Close Editor\" depending on context\n\t// - keybindining: do not close sticky editors, rather open the next non-sticky editor\n\t// - menu: always close editor, even sticky ones\n\tfunction closeEditorHandler(accessor: ServicesAccessor, forceCloseStickyEditors: boolean, ...args: unknown[]): Promise<unknown> {\n\t\tconst editorGroupsService = accessor.get(IEditorGroupsService);\n\t\tconst editorService = accessor.get(IEditorService);\n\n\t\tlet keepStickyEditors: boolean | undefined = undefined;\n\t\tif (forceCloseStickyEditors) {\n\t\t\tkeepStickyEditors = false; // explicitly close sticky editors\n\t\t} else if (args.length) {\n\t\t\tkeepStickyEditors = false; // we have a context, as such this command was used e.g. from the tab context menu\n\t\t} else {\n\t\t\tkeepStickyEditors = editorGroupsService.partOptions.preventPinnedEditorClose === 'keyboard' || editorGroupsService.partOptions.preventPinnedEditorClose === 'keyboardAndMouse'; // respect setting otherwise\n\t\t}\n\n\t\t// Skip over sticky editor and select next if we are configured to do so\n\t\tif (keepStickyEditors) {\n\t\t\tconst activeGroup = editorGroupsService.activeGroup;\n\t\t\tconst activeEditor = activeGroup.activeEditor;\n\n\t\t\tif (activeEditor && activeGroup.isSticky(activeEditor)) {\n\n\t\t\t\t// Open next recently active in same group\n\t\t\t\tconst nextNonStickyEditorInGroup = activeGroup.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE, { excludeSticky: true })[0];\n\t\t\t\tif (nextNonStickyEditorInGroup) {\n\t\t\t\t\treturn activeGroup.openEditor(nextNonStickyEditorInGroup);\n\t\t\t\t}\n\n\t\t\t\t// Open next recently active across all groups\n\t\t\t\tconst nextNonStickyEditorInAllGroups = editorService.getEditors(EditorsOrder.MOST_RECENTLY_ACTIVE, { excludeSticky: true })[0];\n\t\t\t\tif (nextNonStickyEditorInAllGroups) {\n\t\t\t\t\treturn Promise.resolve(editorGroupsService.getGroup(nextNonStickyEditorInAllGroups.groupId)?.openEditor(nextNonStickyEditorInAllGroups.editor));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// With context: proceed to close editors as instructed\n\t\tconst resolvedContext = resolveCommandsContext(args, accessor.get(IEditorService), accessor.get(IEditorGroupsService), accessor.get(IListService));\n\t\tconst preserveFocus = resolvedContext.preserveFocus;\n\n\t\treturn Promise.all(resolvedContext.groupedEditors.map(async ({ group, editors }) => {\n\t\t\tconst editorsToClose = editors.filter(editor => !keepStickyEditors || !group.isSticky(editor));\n\t\t\tawait group.closeEditors(editorsToClose, { preserveFocus });\n\t\t}));\n\t}\n\n\tKeybindingsRegistry.registerCommandAndKeybindingRule({\n\t\tid: CLOSE_EDITOR_COMMAND_ID,\n\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\twhen: undefined,\n\t\tprimary: KeyMod.CtrlCmd | KeyCode.KeyW,\n\t\twin: { primary: KeyMod.CtrlCmd | KeyCode.F4, secondary: [KeyMod.CtrlCmd | KeyCode.KeyW] },\n\t\thandler: (accessor, ...args: unknown[]) => {\n\t\t\treturn closeEditorHandler(accessor, false, ...args);\n\t\t}\n\t});\n\n\tCommandsRegistry.registerCommand(CLOSE_PINNED_EDITOR_COMMAND_ID, (accessor, ...args: unknown[]) => {\n\t\treturn closeEditorHandler(accessor, true /* force close pinned editors */, ...args);\n\t});\n\n\tKeybindingsRegistry.registerCommandAndKeybindingRule({\n\t\tid: CLOSE_EDITORS_IN_GROUP_COMMAND_ID,\n\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\twhen: undefined,\n\t\tprimary: KeyChord(KeyMod.CtrlCmd | KeyCode.KeyK, KeyCode.KeyW),\n\t\thandler: (accessor, ...args: unknown[]) => {\n\t\t\tconst resolvedContext = resolveCommandsContext(args, accessor.get(IEditorService), accessor.get(IEditorGroupsService), accessor.get(IListService));\n\t\t\treturn Promise.all(resolvedContext.groupedEditors.map(async ({ group }) => {\n\t\t\t\tawait group.closeAllEditors({ excludeSticky: true });\n\t\t\t}));\n\t\t}\n\t});\n\n\tKeybindingsRegistry.registerCommandAndKeybindingRule({\n\t\tid: CLOSE_EDITOR_GROUP_COMMAND_ID,\n\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\twhen: ContextKeyExpr.and(ActiveEditorGroupEmptyContext, MultipleEditorGroupsContext),\n\t\tprimary: KeyMod.CtrlCmd | KeyCode.KeyW,\n\t\twin: { primary: KeyMod.CtrlCmd | KeyCode.F4, secondary: [KeyMod.CtrlCmd | KeyCode.KeyW] },\n\t\thandler: (accessor, ...args: unknown[]) => {\n\t\t\tconst editorGroupsService = accessor.get(IEditorGroupsService);\n\t\t\tconst commandsContext = resolveCommandsContext(args, accessor.get(IEditorService), editorGroupsService, accessor.get(IListService));\n\n\t\t\tif (commandsContext.groupedEditors.length) {\n\t\t\t\teditorGroupsService.removeGroup(commandsContext.groupedEditors[0].group);\n\t\t\t}\n\t\t}\n\t});\n\n\tKeybindingsRegistry.registerCommandAndKeybindingRule({\n\t\tid: CLOSE_SAVED_EDITORS_COMMAND_ID,\n\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\twhen: undefined,\n\t\tprimary: KeyChord(KeyMod.CtrlCmd | KeyCode.KeyK, KeyCode.KeyU),\n\t\thandler: (accessor, ...args: unknown[]) => {\n\t\t\tconst resolvedContext = resolveCommandsContext(args, accessor.get(IEditorService), accessor.get(IEditorGroupsService), accessor.get(IListService));\n\t\t\treturn Promise.all(resolvedContext.groupedEditors.map(async ({ group }) => {\n\t\t\t\tawait group.closeEditors({ savedOnly: true, excludeSticky: true }, { preserveFocus: resolvedContext.preserveFocus });\n\t\t\t}));\n\t\t}\n\t});\n\n\tKeybindingsRegistry.registerCommandAndKeybindingRule({\n\t\tid: CLOSE_OTHER_EDITORS_IN_GROUP_COMMAND_ID,\n\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\twhen: undefined,\n\t\tprimary: undefined,\n\t\tmac: { primary: KeyMod.CtrlCmd | KeyMod.Alt | KeyCode.KeyT },\n\t\thandler: (accessor, ...args: unknown[]) => {\n\t\t\tconst resolvedContext = resolveCommandsContext(args, accessor.get(IEditorService), accessor.get(IEditorGroupsService), accessor.get(IListService));\n\n\t\t\treturn Promise.all(resolvedContext.groupedEditors.map(async ({ group, editors }) => {\n\t\t\t\tconst editorsToClose = group.getEditors(EditorsOrder.SEQUENTIAL, { excludeSticky: true }).filter(editor => !editors.includes(editor));\n\n\t\t\t\tfor (const editorToKeep of editors) {\n\t\t\t\t\tif (editorToKeep) {\n\t\t\t\t\t\tgroup.pinEditor(editorToKeep);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tawait group.closeEditors(editorsToClose, { preserveFocus: resolvedContext.preserveFocus });\n\t\t\t}));\n\t\t}\n\t});\n\n\tKeybindingsRegistry.registerCommandAndKeybindingRule({\n\t\tid: CLOSE_EDITORS_TO_THE_RIGHT_COMMAND_ID,\n\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\twhen: undefined,\n\t\tprimary: undefined,\n\t\thandler: async (accessor, ...args: unknown[]) => {\n\t\t\tconst resolvedContext = resolveCommandsContext(args, accessor.get(IEditorService), accessor.get(IEditorGroupsService), accessor.get(IListService));\n\t\t\tif (resolvedContext.groupedEditors.length) {\n\t\t\t\tconst { group, editors } = resolvedContext.groupedEditors[0];\n\t\t\t\tif (group.activeEditor) {\n\t\t\t\t\tgroup.pinEditor(group.activeEditor);\n\t\t\t\t}\n\n\t\t\t\tawait group.closeEditors({ direction: CloseDirection.RIGHT, except: editors[0], excludeSticky: true }, { preserveFocus: resolvedContext.preserveFocus });\n\t\t\t}\n\t\t}\n\t});\n\n\tKeybindingsRegistry.registerCommandAndKeybindingRule({\n\t\tid: REOPEN_WITH_COMMAND_ID,\n\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\twhen: undefined,\n\t\tprimary: undefined,\n\t\thandler: (accessor, ...args: unknown[]) => {\n\t\t\treturn reopenEditorWith(accessor, EditorResolution.PICK, ...args);\n\t\t}\n\t});\n\n\tKeybindingsRegistry.registerCommandAndKeybindingRule({\n\t\tid: REOPEN_ACTIVE_EDITOR_WITH_COMMAND_ID,\n\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\twhen: undefined,\n\t\tprimary: undefined,\n\t\thandler: (accessor, override?: string, ...args: unknown[]) => {\n\t\t\treturn reopenEditorWith(accessor, override ?? EditorResolution.PICK, ...args);\n\t\t}\n\t});\n\n\tasync function reopenEditorWith(accessor: ServicesAccessor, editorOverride: string | EditorResolution, ...args: unknown[]) {\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst editorResolverService = accessor.get(IEditorResolverService);\n\t\tconst telemetryService = accessor.get(ITelemetryService);\n\n\t\tconst resolvedContext = resolveCommandsContext(args, editorService, accessor.get(IEditorGroupsService), accessor.get(IListService));\n\t\tconst editorReplacements = new Map<IEditorGroup, IEditorReplacement[]>();\n\n\t\tfor (const { group, editors } of resolvedContext.groupedEditors) {\n\t\t\tfor (const editor of editors) {\n\t\t\t\tconst untypedEditor = editor.toUntyped();\n\t\t\t\tif (!untypedEditor) {\n\t\t\t\t\treturn; // Resolver can only resolve untyped editors\n\t\t\t\t}\n\n\t\t\t\tuntypedEditor.options = { ...editorService.activeEditorPane?.options, override: editorOverride };\n\t\t\t\tconst resolvedEditor = await editorResolverService.resolveEditor(untypedEditor, group);\n\t\t\t\tif (!isEditorInputWithOptionsAndGroup(resolvedEditor)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet editorReplacementsInGroup = editorReplacements.get(group);\n\t\t\t\tif (!editorReplacementsInGroup) {\n\t\t\t\t\teditorReplacementsInGroup = [];\n\t\t\t\t\teditorReplacements.set(group, editorReplacementsInGroup);\n\t\t\t\t}\n\n\t\t\t\teditorReplacementsInGroup.push({\n\t\t\t\t\teditor: editor,\n\t\t\t\t\treplacement: resolvedEditor.editor,\n\t\t\t\t\tforceReplaceDirty: editor.resource?.scheme === Schemas.untitled,\n\t\t\t\t\toptions: resolvedEditor.options\n\t\t\t\t});\n\n\t\t\t\t// Telemetry\n\t\t\t\ttype WorkbenchEditorReopenClassification = {\n\t\t\t\t\towner: 'rebornix';\n\t\t\t\t\tcomment: 'Identify how a document is reopened';\n\t\t\t\t\tscheme: { classification: 'SystemMetaData'; purpose: 'FeatureInsight'; comment: 'File system provider scheme for the resource' };\n\t\t\t\t\text: { classification: 'SystemMetaData'; purpose: 'FeatureInsight'; comment: 'File extension for the resource' };\n\t\t\t\t\tfrom: { classification: 'SystemMetaData'; purpose: 'FeatureInsight'; comment: 'The editor view type the resource is switched from' };\n\t\t\t\t\tto: { classification: 'SystemMetaData'; purpose: 'FeatureInsight'; comment: 'The editor view type the resource is switched to' };\n\t\t\t\t};\n\n\t\t\t\ttype WorkbenchEditorReopenEvent = {\n\t\t\t\t\tscheme: string;\n\t\t\t\t\text: string;\n\t\t\t\t\tfrom: string;\n\t\t\t\t\tto: string;\n\t\t\t\t};\n\n\t\t\t\ttelemetryService.publicLog2<WorkbenchEditorReopenEvent, WorkbenchEditorReopenClassification>('workbenchEditorReopen', {\n\t\t\t\t\tscheme: editor.resource?.scheme ?? '',\n\t\t\t\t\text: editor.resource ? extname(editor.resource) : '',\n\t\t\t\t\tfrom: editor.editorId ?? '',\n\t\t\t\t\tto: resolvedEditor.editor.editorId ?? ''\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// Replace editor with resolved one and make active\n\t\tfor (const [group, replacements] of editorReplacements) {\n\t\t\tawait group.replaceEditors(replacements);\n\t\t\tawait group.openEditor(replacements[0].replacement);\n\t\t}\n\t}\n\n\tCommandsRegistry.registerCommand(CLOSE_EDITORS_AND_GROUP_COMMAND_ID, async (accessor: ServicesAccessor, ...args: unknown[]) => {\n\t\tconst editorGroupsService = accessor.get(IEditorGroupsService);\n\n\t\tconst resolvedContext = resolveCommandsContext(args, accessor.get(IEditorService), editorGroupsService, accessor.get(IListService));\n\t\tif (resolvedContext.groupedEditors.length) {\n\t\t\tconst { group } = resolvedContext.groupedEditors[0];\n\t\t\tawait group.closeAllEditors();\n\n\t\t\tif (group.count === 0 && editorGroupsService.getGroup(group.id) /* could be gone by now */) {\n\t\t\t\teditorGroupsService.removeGroup(group); // only remove group if it is now empty\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction registerFocusEditorGroupWihoutWrapCommands(): void {\n\n\tconst commands = [\n\t\t{\n\t\t\tid: FOCUS_LEFT_GROUP_WITHOUT_WRAP_COMMAND_ID,\n\t\t\tdirection: GroupDirection.LEFT\n\t\t},\n\t\t{\n\t\t\tid: FOCUS_RIGHT_GROUP_WITHOUT_WRAP_COMMAND_ID,\n\t\t\tdirection: GroupDirection.RIGHT\n\t\t},\n\t\t{\n\t\t\tid: FOCUS_ABOVE_GROUP_WITHOUT_WRAP_COMMAND_ID,\n\t\t\tdirection: GroupDirection.UP,\n\t\t},\n\t\t{\n\t\t\tid: FOCUS_BELOW_GROUP_WITHOUT_WRAP_COMMAND_ID,\n\t\t\tdirection: GroupDirection.DOWN\n\t\t}\n\t];\n\n\tfor (const command of commands) {\n\t\tCommandsRegistry.registerCommand(command.id, async (accessor: ServicesAccessor) => {\n\t\t\tconst editorGroupsService = accessor.get(IEditorGroupsService);\n\n\t\t\tconst group = editorGroupsService.findGroup({ direction: command.direction }, editorGroupsService.activeGroup, false) ?? editorGroupsService.activeGroup;\n\t\t\tgroup.focus();\n\t\t});\n\t}\n}\n\nfunction registerSplitEditorInGroupCommands(): void {\n\n\tasync function splitEditorInGroup(accessor: ServicesAccessor, resolvedContext: IResolvedEditorCommandsContext): Promise<void> {\n\t\tconst instantiationService = accessor.get(IInstantiationService);\n\n\t\tif (!resolvedContext.groupedEditors.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { group, editors } = resolvedContext.groupedEditors[0];\n\t\tconst editor = editors[0];\n\t\tif (!editor) {\n\t\t\treturn;\n\t\t}\n\n\t\tawait group.replaceEditors([{\n\t\t\teditor,\n\t\t\treplacement: instantiationService.createInstance(SideBySideEditorInput, undefined, undefined, editor, editor),\n\t\t\tforceReplaceDirty: true\n\t\t}]);\n\t}\n\n\tregisterAction2(class extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: SPLIT_EDITOR_IN_GROUP,\n\t\t\t\ttitle: localize2('splitEditorInGroup', 'Split Editor in Group'),\n\t\t\t\tcategory: Categories.View,\n\t\t\t\tprecondition: ActiveEditorCanSplitInGroupContext,\n\t\t\t\tf1: true,\n\t\t\t\tkeybinding: {\n\t\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t\t\twhen: ActiveEditorCanSplitInGroupContext,\n\t\t\t\t\tprimary: KeyChord(KeyMod.CtrlCmd | KeyCode.KeyK, KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.Backslash)\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\trun(accessor: ServicesAccessor, ...args: unknown[]): Promise<void> {\n\t\t\treturn splitEditorInGroup(accessor, resolveCommandsContext(args, accessor.get(IEditorService), accessor.get(IEditorGroupsService), accessor.get(IListService)));\n\t\t}\n\t});\n\n\tasync function joinEditorInGroup(resolvedContext: IResolvedEditorCommandsContext): Promise<void> {\n\t\tif (!resolvedContext.groupedEditors.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { group, editors } = resolvedContext.groupedEditors[0];\n\t\tconst editor = editors[0];\n\t\tif (!editor) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!(editor instanceof SideBySideEditorInput)) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet options: IEditorOptions | undefined = undefined;\n\t\tconst activeEditorPane = group.activeEditorPane;\n\t\tif (activeEditorPane instanceof SideBySideEditor && group.activeEditor === editor) {\n\t\t\tfor (const pane of [activeEditorPane.getPrimaryEditorPane(), activeEditorPane.getSecondaryEditorPane()]) {\n\t\t\t\tif (pane?.hasFocus()) {\n\t\t\t\t\toptions = { viewState: pane.getViewState() };\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tawait group.replaceEditors([{\n\t\t\teditor,\n\t\t\treplacement: editor.primary,\n\t\t\toptions\n\t\t}]);\n\t}\n\n\tregisterAction2(class extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: JOIN_EDITOR_IN_GROUP,\n\t\t\t\ttitle: localize2('joinEditorInGroup', 'Join Editor in Group'),\n\t\t\t\tcategory: Categories.View,\n\t\t\t\tprecondition: SideBySideEditorActiveContext,\n\t\t\t\tf1: true,\n\t\t\t\tkeybinding: {\n\t\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t\t\twhen: SideBySideEditorActiveContext,\n\t\t\t\t\tprimary: KeyChord(KeyMod.CtrlCmd | KeyCode.KeyK, KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.Backslash)\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\trun(accessor: ServicesAccessor, ...args: unknown[]): Promise<void> {\n\t\t\treturn joinEditorInGroup(resolveCommandsContext(args, accessor.get(IEditorService), accessor.get(IEditorGroupsService), accessor.get(IListService)));\n\t\t}\n\t});\n\n\tregisterAction2(class extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: TOGGLE_SPLIT_EDITOR_IN_GROUP,\n\t\t\t\ttitle: localize2('toggleJoinEditorInGroup', 'Toggle Split Editor in Group'),\n\t\t\t\tcategory: Categories.View,\n\t\t\t\tprecondition: ContextKeyExpr.or(ActiveEditorCanSplitInGroupContext, SideBySideEditorActiveContext),\n\t\t\t\tf1: true\n\t\t\t});\n\t\t}\n\t\tasync run(accessor: ServicesAccessor, ...args: unknown[]): Promise<void> {\n\t\t\tconst resolvedContext = resolveCommandsContext(args, accessor.get(IEditorService), accessor.get(IEditorGroupsService), accessor.get(IListService));\n\t\t\tif (!resolvedContext.groupedEditors.length) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst { editors } = resolvedContext.groupedEditors[0];\n\n\t\t\tif (editors[0] instanceof SideBySideEditorInput) {\n\t\t\t\tawait joinEditorInGroup(resolvedContext);\n\t\t\t} else if (editors[0]) {\n\t\t\t\tawait splitEditorInGroup(accessor, resolvedContext);\n\t\t\t}\n\t\t}\n\t});\n\n\tregisterAction2(class extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: TOGGLE_SPLIT_EDITOR_IN_GROUP_LAYOUT,\n\t\t\t\ttitle: localize2('toggleSplitEditorInGroupLayout', 'Toggle Layout of Split Editor in Group'),\n\t\t\t\tcategory: Categories.View,\n\t\t\t\tprecondition: SideBySideEditorActiveContext,\n\t\t\t\tf1: true\n\t\t\t});\n\t\t}\n\t\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\t\tconst configurationService = accessor.get(IConfigurationService);\n\t\t\tconst currentSetting = configurationService.getValue<unknown>(SideBySideEditor.SIDE_BY_SIDE_LAYOUT_SETTING);\n\n\t\t\tlet newSetting: 'vertical' | 'horizontal';\n\t\t\tif (currentSetting !== 'horizontal') {\n\t\t\t\tnewSetting = 'horizontal';\n\t\t\t} else {\n\t\t\t\tnewSetting = 'vertical';\n\t\t\t}\n\n\t\t\treturn configurationService.updateValue(SideBySideEditor.SIDE_BY_SIDE_LAYOUT_SETTING, newSetting);\n\t\t}\n\t});\n}\n\nfunction registerFocusSideEditorsCommands(): void {\n\n\tregisterAction2(class extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: FOCUS_FIRST_SIDE_EDITOR,\n\t\t\t\ttitle: localize2('focusLeftSideEditor', 'Focus First Side in Active Editor'),\n\t\t\t\tcategory: Categories.View,\n\t\t\t\tprecondition: ContextKeyExpr.or(SideBySideEditorActiveContext, TextCompareEditorActiveContext),\n\t\t\t\tf1: true\n\t\t\t});\n\t\t}\n\t\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\t\tconst editorService = accessor.get(IEditorService);\n\t\t\tconst commandService = accessor.get(ICommandService);\n\n\t\t\tconst activeEditorPane = editorService.activeEditorPane;\n\t\t\tif (activeEditorPane instanceof SideBySideEditor) {\n\t\t\t\tactiveEditorPane.getSecondaryEditorPane()?.focus();\n\t\t\t} else if (activeEditorPane instanceof TextDiffEditor) {\n\t\t\t\tawait commandService.executeCommand(DIFF_FOCUS_SECONDARY_SIDE);\n\t\t\t}\n\t\t}\n\t});\n\n\tregisterAction2(class extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: FOCUS_SECOND_SIDE_EDITOR,\n\t\t\t\ttitle: localize2('focusRightSideEditor', 'Focus Second Side in Active Editor'),\n\t\t\t\tcategory: Categories.View,\n\t\t\t\tprecondition: ContextKeyExpr.or(SideBySideEditorActiveContext, TextCompareEditorActiveContext),\n\t\t\t\tf1: true\n\t\t\t});\n\t\t}\n\t\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\t\tconst editorService = accessor.get(IEditorService);\n\t\t\tconst commandService = accessor.get(ICommandService);\n\n\t\t\tconst activeEditorPane = editorService.activeEditorPane;\n\t\t\tif (activeEditorPane instanceof SideBySideEditor) {\n\t\t\t\tactiveEditorPane.getPrimaryEditorPane()?.focus();\n\t\t\t} else if (activeEditorPane instanceof TextDiffEditor) {\n\t\t\t\tawait commandService.executeCommand(DIFF_FOCUS_PRIMARY_SIDE);\n\t\t\t}\n\t\t}\n\t});\n\n\tregisterAction2(class extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: FOCUS_OTHER_SIDE_EDITOR,\n\t\t\t\ttitle: localize2('focusOtherSideEditor', 'Focus Other Side in Active Editor'),\n\t\t\t\tcategory: Categories.View,\n\t\t\t\tprecondition: ContextKeyExpr.or(SideBySideEditorActiveContext, TextCompareEditorActiveContext),\n\t\t\t\tf1: true\n\t\t\t});\n\t\t}\n\t\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\t\tconst editorService = accessor.get(IEditorService);\n\t\t\tconst commandService = accessor.get(ICommandService);\n\n\t\t\tconst activeEditorPane = editorService.activeEditorPane;\n\t\t\tif (activeEditorPane instanceof SideBySideEditor) {\n\t\t\t\tif (activeEditorPane.getPrimaryEditorPane()?.hasFocus()) {\n\t\t\t\t\tactiveEditorPane.getSecondaryEditorPane()?.focus();\n\t\t\t\t} else {\n\t\t\t\t\tactiveEditorPane.getPrimaryEditorPane()?.focus();\n\t\t\t\t}\n\t\t\t} else if (activeEditorPane instanceof TextDiffEditor) {\n\t\t\t\tawait commandService.executeCommand(DIFF_FOCUS_OTHER_SIDE);\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction registerOtherEditorCommands(): void {\n\n\tKeybindingsRegistry.registerCommandAndKeybindingRule({\n\t\tid: KEEP_EDITOR_COMMAND_ID,\n\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\twhen: undefined,\n\t\tprimary: KeyChord(KeyMod.CtrlCmd | KeyCode.KeyK, KeyCode.Enter),\n\t\thandler: async (accessor, ...args: unknown[]) => {\n\t\t\tconst resolvedContext = resolveCommandsContext(args, accessor.get(IEditorService), accessor.get(IEditorGroupsService), accessor.get(IListService));\n\t\t\tfor (const { group, editors } of resolvedContext.groupedEditors) {\n\t\t\t\tfor (const editor of editors) {\n\t\t\t\t\tgroup.pinEditor(editor);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\tCommandsRegistry.registerCommand({\n\t\tid: TOGGLE_KEEP_EDITORS_COMMAND_ID,\n\t\thandler: accessor => {\n\t\t\tconst configurationService = accessor.get(IConfigurationService);\n\n\t\t\tconst currentSetting = configurationService.getValue('workbench.editor.enablePreview');\n\t\t\tconst newSetting = currentSetting !== true;\n\t\t\tconfigurationService.updateValue('workbench.editor.enablePreview', newSetting);\n\t\t}\n\t});\n\n\tfunction setEditorGroupLock(accessor: ServicesAccessor, locked: boolean | undefined, ...args: unknown[]): void {\n\t\tconst resolvedContext = resolveCommandsContext(args, accessor.get(IEditorService), accessor.get(IEditorGroupsService), accessor.get(IListService));\n\t\tconst group = resolvedContext.groupedEditors[0]?.group;\n\t\tgroup?.lock(locked ?? !group.isLocked);\n\t}\n\n\tregisterAction2(class extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: TOGGLE_LOCK_GROUP_COMMAND_ID,\n\t\t\t\ttitle: localize2('toggleEditorGroupLock', 'Toggle Editor Group Lock'),\n\t\t\t\tcategory: Categories.View,\n\t\t\t\tf1: true\n\t\t\t});\n\t\t}\n\t\tasync run(accessor: ServicesAccessor, ...args: unknown[]): Promise<void> {\n\t\t\tsetEditorGroupLock(accessor, undefined, ...args);\n\t\t}\n\t});\n\n\tregisterAction2(class extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: LOCK_GROUP_COMMAND_ID,\n\t\t\t\ttitle: localize2('lockEditorGroup', 'Lock Editor Group'),\n\t\t\t\tcategory: Categories.View,\n\t\t\t\tprecondition: ActiveEditorGroupLockedContext.toNegated(),\n\t\t\t\tf1: true\n\t\t\t});\n\t\t}\n\t\tasync run(accessor: ServicesAccessor, ...args: unknown[]): Promise<void> {\n\t\t\tsetEditorGroupLock(accessor, true, ...args);\n\t\t}\n\t});\n\n\tregisterAction2(class extends Action2 {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: UNLOCK_GROUP_COMMAND_ID,\n\t\t\t\ttitle: localize2('unlockEditorGroup', 'Unlock Editor Group'),\n\t\t\t\tprecondition: ActiveEditorGroupLockedContext,\n\t\t\t\tcategory: Categories.View,\n\t\t\t\tf1: true\n\t\t\t});\n\t\t}\n\t\tasync run(accessor: ServicesAccessor, ...args: unknown[]): Promise<void> {\n\t\t\tsetEditorGroupLock(accessor, false, ...args);\n\t\t}\n\t});\n\n\tKeybindingsRegistry.registerCommandAndKeybindingRule({\n\t\tid: PIN_EDITOR_COMMAND_ID,\n\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\twhen: ActiveEditorStickyContext.toNegated(),\n\t\tprimary: KeyChord(KeyMod.CtrlCmd | KeyCode.KeyK, KeyMod.Shift | KeyCode.Enter),\n\t\thandler: async (accessor, ...args: unknown[]) => {\n\t\t\tconst resolvedContext = resolveCommandsContext(args, accessor.get(IEditorService), accessor.get(IEditorGroupsService), accessor.get(IListService));\n\t\t\tfor (const { group, editors } of resolvedContext.groupedEditors) {\n\t\t\t\tfor (const editor of editors) {\n\t\t\t\t\tgroup.stickEditor(editor);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\tKeybindingsRegistry.registerCommandAndKeybindingRule({\n\t\tid: UNPIN_EDITOR_COMMAND_ID,\n\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\twhen: ActiveEditorStickyContext,\n\t\tprimary: KeyChord(KeyMod.CtrlCmd | KeyCode.KeyK, KeyMod.Shift | KeyCode.Enter),\n\t\thandler: async (accessor, ...args: unknown[]) => {\n\t\t\tconst resolvedContext = resolveCommandsContext(args, accessor.get(IEditorService), accessor.get(IEditorGroupsService), accessor.get(IListService));\n\t\t\tfor (const { group, editors } of resolvedContext.groupedEditors) {\n\t\t\t\tfor (const editor of editors) {\n\t\t\t\t\tgroup.unstickEditor(editor);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\tKeybindingsRegistry.registerCommandAndKeybindingRule({\n\t\tid: SHOW_EDITORS_IN_GROUP,\n\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\twhen: undefined,\n\t\tprimary: undefined,\n\t\thandler: (accessor, ...args: unknown[]) => {\n\t\t\tconst editorGroupsService = accessor.get(IEditorGroupsService);\n\t\t\tconst quickInputService = accessor.get(IQuickInputService);\n\n\t\t\tconst commandsContext = resolveCommandsContext(args, accessor.get(IEditorService), editorGroupsService, accessor.get(IListService));\n\t\t\tconst group = commandsContext.groupedEditors[0]?.group;\n\t\t\tif (group) {\n\t\t\t\teditorGroupsService.activateGroup(group); // we need the group to be active\n\t\t\t}\n\n\t\t\treturn quickInputService.quickAccess.show(ActiveGroupEditorsByMostRecentlyUsedQuickAccess.PREFIX);\n\t\t}\n\t});\n}\n\nexport function setup(): void {\n\tregisterActiveEditorMoveCopyCommand();\n\tregisterEditorGroupsLayoutCommands();\n\tregisterDiffEditorCommands();\n\tregisterOpenEditorAPICommands();\n\tregisterOpenEditorAtIndexCommands();\n\tregisterCloseEditorCommands();\n\tregisterOtherEditorCommands();\n\tregisterSplitEditorInGroupCommands();\n\tregisterFocusSideEditorsCommands();\n\tregisterFocusEditorGroupAtIndexCommands();\n\tregisterSplitEditorCommands();\n\tregisterFocusEditorGroupWihoutWrapCommands();\n}\n"]}