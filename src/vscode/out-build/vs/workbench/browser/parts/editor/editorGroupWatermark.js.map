{"version":3,"sources":["vs/workbench/browser/parts/editor/editorGroupWatermark.ts"],"names":[],"mappings":"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","file":"editorGroupWatermark.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { $, append, clearNode, h } from '../../../../base/browser/dom.js';\nimport { KeybindingLabel } from '../../../../base/browser/ui/keybindingLabel/keybindingLabel.js';\nimport { coalesce, shuffle } from '../../../../base/common/arrays.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { isMacintosh, isWeb, OS } from '../../../../base/common/platform.js';\nimport { localize } from '../../../../nls.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { ContextKeyExpr, ContextKeyExpression, IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { IStorageService, StorageScope, StorageTarget, WillSaveStateReason } from '../../../../platform/storage/common/storage.js';\nimport { defaultKeybindingLabelStyles } from '../../../../platform/theme/browser/defaultStyles.js';\nimport { editorForeground, registerColor, transparent } from '../../../../platform/theme/common/colorRegistry.js';\nimport { IWorkspaceContextService, WorkbenchState } from '../../../../platform/workspace/common/workspace.js';\n\ninterface WatermarkEntry {\n\treadonly id: string;\n\treadonly text: string;\n\treadonly when?: {\n\t\tnative?: ContextKeyExpression;\n\t\tweb?: ContextKeyExpression;\n\t};\n}\n\nconst showCommands: WatermarkEntry = { text: localize('watermark.showCommands', \"Show All Commands\"), id: 'workbench.action.showCommands' };\nconst gotoFile: WatermarkEntry = { text: localize('watermark.quickAccess', \"Go to File\"), id: 'workbench.action.quickOpen' };\nconst openFile: WatermarkEntry = { text: localize('watermark.openFile', \"Open File\"), id: 'workbench.action.files.openFile' };\nconst openFolder: WatermarkEntry = { text: localize('watermark.openFolder', \"Open Folder\"), id: 'workbench.action.files.openFolder' };\nconst openFileOrFolder: WatermarkEntry = { text: localize('watermark.openFileFolder', \"Open File or Folder\"), id: 'workbench.action.files.openFileFolder' };\nconst openRecent: WatermarkEntry = { text: localize('watermark.openRecent', \"Open Recent\"), id: 'workbench.action.openRecent' };\nconst newUntitledFile: WatermarkEntry = { text: localize('watermark.newUntitledFile', \"New Untitled Text File\"), id: 'workbench.action.files.newUntitledFile' };\nconst findInFiles: WatermarkEntry = { text: localize('watermark.findInFiles', \"Find in Files\"), id: 'workbench.action.findInFiles' };\nconst toggleTerminal: WatermarkEntry = { text: localize({ key: 'watermark.toggleTerminal', comment: ['toggle is a verb here'] }, \"Toggle Terminal\"), id: 'workbench.action.terminal.toggleTerminal', when: { web: ContextKeyExpr.equals('terminalProcessSupported', true) } };\nconst startDebugging: WatermarkEntry = { text: localize('watermark.startDebugging', \"Start Debugging\"), id: 'workbench.action.debug.start', when: { web: ContextKeyExpr.equals('terminalProcessSupported', true) } };\nconst openSettings: WatermarkEntry = { text: localize('watermark.openSettings', \"Open Settings\"), id: 'workbench.action.openSettings' };\n\nconst showChat = ContextKeyExpr.and(ContextKeyExpr.equals('chatSetupHidden', false), ContextKeyExpr.equals('chatSetupDisabled', false));\nconst openChat: WatermarkEntry = { text: localize('watermark.openChat', \"Open Chat\"), id: 'workbench.action.chat.open', when: { native: showChat, web: showChat } };\n\nconst emptyWindowEntries: WatermarkEntry[] = coalesce([\n\tshowCommands,\n\t...(isMacintosh && !isWeb ? [openFileOrFolder] : [openFile, openFolder]),\n\topenRecent,\n\tisMacintosh && !isWeb ? newUntitledFile : undefined, // fill in one more on macOS to get to 5 entries\n\topenChat\n]);\n\nconst randomEmptyWindowEntries: WatermarkEntry[] = [\n\t/* Nothing yet */\n];\n\nconst workspaceEntries: WatermarkEntry[] = [\n\tshowCommands,\n\tgotoFile,\n\topenChat\n];\n\nconst randomWorkspaceEntries: WatermarkEntry[] = [\n\tfindInFiles,\n\tstartDebugging,\n\ttoggleTerminal,\n\topenSettings,\n];\n\nexport class EditorGroupWatermark extends Disposable {\n\n\tprivate static readonly CACHED_WHEN = 'editorGroupWatermark.whenConditions';\n\n\tprivate readonly cachedWhen: { [when: string]: boolean };\n\n\tprivate readonly shortcuts: HTMLElement;\n\tprivate readonly transientDisposables = this._register(new DisposableStore());\n\tprivate readonly keybindingLabels = this._register(new DisposableStore());\n\n\tprivate enabled = false;\n\tprivate workbenchState: WorkbenchState;\n\n\tconstructor(\n\t\tcontainer: HTMLElement,\n\t\t@IKeybindingService private readonly keybindingService: IKeybindingService,\n\t\t@IWorkspaceContextService private readonly contextService: IWorkspaceContextService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@IStorageService private readonly storageService: IStorageService\n\t) {\n\t\tsuper();\n\n\t\tthis.cachedWhen = this.storageService.getObject(EditorGroupWatermark.CACHED_WHEN, StorageScope.PROFILE, Object.create(null));\n\t\tthis.workbenchState = this.contextService.getWorkbenchState();\n\n\t\tconst elements = h('.editor-group-watermark', [\n\t\t\th('.letterpress'),\n\t\t\th('.shortcuts@shortcuts'),\n\t\t]);\n\n\t\tappend(container, elements.root);\n\t\tthis.shortcuts = elements.shortcuts;\n\n\t\tthis.registerListeners();\n\n\t\tthis.render();\n\t}\n\n\tprivate registerListeners(): void {\n\t\tthis._register(this.configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration('workbench.tips.enabled') && this.enabled !== this.configurationService.getValue<boolean>('workbench.tips.enabled')) {\n\t\t\t\tthis.render();\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.contextService.onDidChangeWorkbenchState(workbenchState => {\n\t\t\tif (this.workbenchState !== workbenchState) {\n\t\t\t\tthis.workbenchState = workbenchState;\n\t\t\t\tthis.render();\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.storageService.onWillSaveState(e => {\n\t\t\tif (e.reason === WillSaveStateReason.SHUTDOWN) {\n\t\t\t\tconst entries = [...emptyWindowEntries, ...randomEmptyWindowEntries, ...workspaceEntries, ...randomWorkspaceEntries];\n\t\t\t\tfor (const entry of entries) {\n\t\t\t\t\tconst when = isWeb ? entry.when?.web : entry.when?.native;\n\t\t\t\t\tif (when) {\n\t\t\t\t\t\tthis.cachedWhen[entry.id] = this.contextKeyService.contextMatchesRules(when);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.storageService.store(EditorGroupWatermark.CACHED_WHEN, JSON.stringify(this.cachedWhen), StorageScope.PROFILE, StorageTarget.MACHINE);\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate render(): void {\n\t\tthis.enabled = this.configurationService.getValue<boolean>('workbench.tips.enabled');\n\n\t\tclearNode(this.shortcuts);\n\t\tthis.transientDisposables.clear();\n\n\t\tif (!this.enabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst fixedEntries = this.filterEntries(this.workbenchState !== WorkbenchState.EMPTY ? workspaceEntries : emptyWindowEntries, false /* not shuffled */);\n\t\tconst randomEntries = this.filterEntries(this.workbenchState !== WorkbenchState.EMPTY ? randomWorkspaceEntries : randomEmptyWindowEntries, true /* shuffled */).slice(0, Math.max(0, 5 - fixedEntries.length));\n\t\tconst entries = [...fixedEntries, ...randomEntries];\n\n\t\tconst box = append(this.shortcuts, $('.watermark-box'));\n\n\t\tconst update = () => {\n\t\t\tclearNode(box);\n\t\t\tthis.keybindingLabels.clear();\n\n\t\t\tfor (const entry of entries) {\n\t\t\t\tconst keys = this.keybindingService.lookupKeybinding(entry.id);\n\t\t\t\tif (!keys) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tconst dl = append(box, $('dl'));\n\t\t\t\tconst dt = append(dl, $('dt'));\n\t\t\t\tdt.textContent = entry.text;\n\n\t\t\t\tconst dd = append(dl, $('dd'));\n\n\t\t\t\tconst label = this.keybindingLabels.add(new KeybindingLabel(dd, OS, { renderUnboundKeybindings: true, ...defaultKeybindingLabelStyles }));\n\t\t\t\tlabel.set(keys);\n\t\t\t}\n\t\t};\n\n\t\tupdate();\n\t\tthis.transientDisposables.add(this.keybindingService.onDidUpdateKeybindings(update));\n\t}\n\n\tprivate filterEntries(entries: WatermarkEntry[], shuffleEntries: boolean): WatermarkEntry[] {\n\t\tconst filteredEntries = entries\n\t\t\t.filter(entry => (isWeb && !entry.when?.web) || (!isWeb && !entry.when?.native) || this.cachedWhen[entry.id])\n\t\t\t.filter(entry => !!CommandsRegistry.getCommand(entry.id))\n\t\t\t.filter(entry => !!this.keybindingService.lookupKeybinding(entry.id));\n\n\t\tif (shuffleEntries) {\n\t\t\tshuffle(filteredEntries);\n\t\t}\n\n\t\treturn filteredEntries;\n\t}\n}\n\nregisterColor('editorWatermark.foreground', { dark: transparent(editorForeground, 0.6), light: transparent(editorForeground, 0.68), hcDark: editorForeground, hcLight: editorForeground }, localize('editorLineHighlight', 'Foreground color for the labels in the editor watermark.'));\n"]}