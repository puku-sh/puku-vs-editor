{"version":3,"sources":["vs/workbench/browser/parts/editor/breadcrumbsControl.ts"],"names":[],"mappings":"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","file":"breadcrumbsControl.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as dom from '../../../../base/browser/dom.js';\nimport { StandardMouseEvent } from '../../../../base/browser/mouseEvent.js';\nimport { PixelRatio } from '../../../../base/browser/pixelRatio.js';\nimport { BreadcrumbsItem, BreadcrumbsWidget, IBreadcrumbsItemEvent, IBreadcrumbsWidgetStyles } from '../../../../base/browser/ui/breadcrumbs/breadcrumbsWidget.js';\nimport { applyDragImage } from '../../../../base/browser/ui/dnd/dnd.js';\nimport { IHoverDelegate } from '../../../../base/browser/ui/hover/hoverDelegate.js';\nimport { getDefaultHoverDelegate } from '../../../../base/browser/ui/hover/hoverDelegateFactory.js';\nimport { timeout } from '../../../../base/common/async.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { KeyCode, KeyMod } from '../../../../base/common/keyCodes.js';\nimport { combinedDisposable, DisposableStore, IDisposable, MutableDisposable, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { basename, extUri } from '../../../../base/common/resources.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { DocumentSymbol } from '../../../../editor/common/languages.js';\nimport { OutlineElement } from '../../../../editor/contrib/documentSymbols/browser/outlineModel.js';\nimport { localize, localize2 } from '../../../../nls.js';\nimport { Categories } from '../../../../platform/action/common/actionCommonCategories.js';\nimport { Action2, MenuId, registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { ContextKeyExpr, IContextKey, IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IContextViewService } from '../../../../platform/contextview/browser/contextView.js';\nimport { fillInSymbolsDragData, LocalSelectionTransfer } from '../../../../platform/dnd/browser/dnd.js';\nimport { FileKind, IFileService, IFileStat } from '../../../../platform/files/common/files.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { InstantiationService } from '../../../../platform/instantiation/common/instantiationService.js';\nimport { KeybindingsRegistry, KeybindingWeight } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { ILabelService } from '../../../../platform/label/common/label.js';\nimport { IListService, WorkbenchAsyncDataTree, WorkbenchDataTree, WorkbenchListFocusContextKey } from '../../../../platform/list/browser/listService.js';\nimport { IQuickInputService } from '../../../../platform/quickinput/common/quickInput.js';\nimport { defaultBreadcrumbsWidgetStyles } from '../../../../platform/theme/browser/defaultStyles.js';\nimport { registerIcon } from '../../../../platform/theme/common/iconRegistry.js';\nimport { EditorResourceAccessor, IEditorPartOptions, SideBySideEditor } from '../../../common/editor.js';\nimport { IEditorGroupsService } from '../../../services/editor/common/editorGroupsService.js';\nimport { ACTIVE_GROUP, ACTIVE_GROUP_TYPE, IEditorService, SIDE_GROUP, SIDE_GROUP_TYPE } from '../../../services/editor/common/editorService.js';\nimport { IOutline } from '../../../services/outline/browser/outline.js';\nimport { DraggedEditorIdentifier, fillEditorsDragData } from '../../dnd.js';\nimport { DEFAULT_LABELS_CONTAINER, ResourceLabels } from '../../labels.js';\nimport { BreadcrumbsConfig, IBreadcrumbsService } from './breadcrumbs.js';\nimport { BreadcrumbsModel, FileElement, OutlineElement2 } from './breadcrumbsModel.js';\nimport { BreadcrumbsFilePicker, BreadcrumbsOutlinePicker } from './breadcrumbsPicker.js';\nimport { IEditorGroupView } from './editor.js';\nimport './media/breadcrumbscontrol.css';\nimport { ScrollbarVisibility } from '../../../../base/common/scrollable.js';\n\nclass OutlineItem extends BreadcrumbsItem {\n\n\tprivate readonly _disposables = new DisposableStore();\n\n\tconstructor(\n\t\treadonly model: BreadcrumbsModel,\n\t\treadonly element: OutlineElement2,\n\t\treadonly options: IBreadcrumbsControlOptions,\n\t\t@IInstantiationService private readonly _instantiationService: InstantiationService,\n\t) {\n\t\tsuper();\n\t}\n\n\tdispose(): void {\n\t\tthis._disposables.dispose();\n\t}\n\n\tequals(other: BreadcrumbsItem): boolean {\n\t\tif (!(other instanceof OutlineItem)) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this.element.element === other.element.element &&\n\t\t\tthis.options.showFileIcons === other.options.showFileIcons &&\n\t\t\tthis.options.showSymbolIcons === other.options.showSymbolIcons;\n\t}\n\n\trender(container: HTMLElement): void {\n\t\tconst { element, outline } = this.element;\n\n\t\tif (element === outline) {\n\t\t\tconst element = dom.$('span', undefined, 'â€¦');\n\t\t\tcontainer.appendChild(element);\n\t\t\treturn;\n\t\t}\n\n\t\tconst templateId = outline.config.delegate.getTemplateId(element);\n\t\tconst renderer = outline.config.renderers.find(renderer => renderer.templateId === templateId);\n\t\tif (!renderer) {\n\t\t\tcontainer.textContent = '<<NO RENDERER>>';\n\t\t\treturn;\n\t\t}\n\n\t\tconst template = renderer.renderTemplate(container);\n\t\trenderer.renderElement({\n\t\t\telement,\n\t\t\tchildren: [],\n\t\t\tdepth: 0,\n\t\t\tvisibleChildrenCount: 0,\n\t\t\tvisibleChildIndex: 0,\n\t\t\tcollapsible: false,\n\t\t\tcollapsed: false,\n\t\t\tvisible: true,\n\t\t\tfilterData: undefined\n\t\t}, 0, template, undefined);\n\n\t\tif (!this.options.showSymbolIcons) {\n\t\t\tdom.hide(template.iconClass);\n\t\t}\n\n\t\tthis._disposables.add(toDisposable(() => { renderer.disposeTemplate(template); }));\n\n\t\tif (element instanceof OutlineElement && outline.uri) {\n\t\t\tthis._disposables.add(this._instantiationService.invokeFunction(accessor => createBreadcrumbDndObserver(accessor, container, element.symbol.name, { symbol: element.symbol, uri: outline.uri! }, this.model, this.options.dragEditor)));\n\t\t}\n\t}\n}\n\nclass FileItem extends BreadcrumbsItem {\n\n\tprivate readonly _disposables = new DisposableStore();\n\n\tconstructor(\n\t\treadonly model: BreadcrumbsModel,\n\t\treadonly element: FileElement,\n\t\treadonly options: IBreadcrumbsControlOptions,\n\t\tprivate readonly _labels: ResourceLabels,\n\t\tprivate readonly _hoverDelegate: IHoverDelegate,\n\t\t@IInstantiationService private readonly _instantiationService: InstantiationService,\n\t) {\n\t\tsuper();\n\t}\n\n\tdispose(): void {\n\t\tthis._disposables.dispose();\n\t}\n\n\tequals(other: BreadcrumbsItem): boolean {\n\t\tif (!(other instanceof FileItem)) {\n\t\t\treturn false;\n\t\t}\n\t\treturn (extUri.isEqual(this.element.uri, other.element.uri) &&\n\t\t\tthis.options.showFileIcons === other.options.showFileIcons &&\n\t\t\tthis.options.showSymbolIcons === other.options.showSymbolIcons);\n\n\t}\n\n\trender(container: HTMLElement): void {\n\t\t// file/folder\n\t\tconst label = this._labels.create(container, { hoverDelegate: this._hoverDelegate });\n\t\tlabel.setFile(this.element.uri, {\n\t\t\thidePath: true,\n\t\t\thideIcon: this.element.kind === FileKind.FOLDER || !this.options.showFileIcons,\n\t\t\tfileKind: this.element.kind,\n\t\t\tfileDecorations: { colors: this.options.showDecorationColors, badges: false },\n\t\t});\n\t\tcontainer.classList.add(FileKind[this.element.kind].toLowerCase());\n\t\tthis._disposables.add(label);\n\n\t\tthis._disposables.add(this._instantiationService.invokeFunction(accessor => createBreadcrumbDndObserver(accessor, container, basename(this.element.uri), this.element.uri, this.model, this.options.dragEditor)));\n\t}\n}\n\n\nfunction createBreadcrumbDndObserver(accessor: ServicesAccessor, container: HTMLElement, label: string, item: URI | { symbol: DocumentSymbol; uri: URI }, model: BreadcrumbsModel, dragEditor: boolean): IDisposable {\n\tconst instantiationService = accessor.get(IInstantiationService);\n\n\tcontainer.draggable = true;\n\n\treturn new dom.DragAndDropObserver(container, {\n\t\tonDragStart: event => {\n\t\t\tif (!event.dataTransfer) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Set data transfer\n\t\t\tevent.dataTransfer.effectAllowed = 'copyMove';\n\n\t\t\tinstantiationService.invokeFunction(accessor => {\n\t\t\t\tif (URI.isUri(item)) {\n\t\t\t\t\tfillEditorsDragData(accessor, [item], event);\n\t\t\t\t} else { // Symbol\n\t\t\t\t\tfillEditorsDragData(accessor, [{ resource: item.uri, selection: item.symbol.range }], event);\n\n\t\t\t\t\tfillInSymbolsDragData([{\n\t\t\t\t\t\tname: item.symbol.name,\n\t\t\t\t\t\tfsPath: item.uri.fsPath,\n\t\t\t\t\t\trange: item.symbol.range,\n\t\t\t\t\t\tkind: item.symbol.kind\n\t\t\t\t\t}], event);\n\t\t\t\t}\n\n\t\t\t\tif (dragEditor && model.editor?.input) {\n\t\t\t\t\tconst editorTransfer = LocalSelectionTransfer.getInstance<DraggedEditorIdentifier>();\n\t\t\t\t\teditorTransfer.setData([new DraggedEditorIdentifier({ editor: model.editor.input, groupId: model.editor.group.id })], DraggedEditorIdentifier.prototype);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tapplyDragImage(event, container, label);\n\t\t}\n\t});\n}\n\nexport interface IBreadcrumbsControlOptions {\n\treadonly showFileIcons: boolean;\n\treadonly showSymbolIcons: boolean;\n\treadonly showDecorationColors: boolean;\n\treadonly showPlaceholder: boolean;\n\treadonly dragEditor: boolean;\n\treadonly widgetStyles?: IBreadcrumbsWidgetStyles;\n}\n\nconst separatorIcon = registerIcon('breadcrumb-separator', Codicon.chevronRight, localize('separatorIcon', 'Icon for the separator in the breadcrumbs.'));\n\nexport class BreadcrumbsControl {\n\n\tstatic readonly HEIGHT = 22;\n\n\tprivate static readonly SCROLLBAR_SIZES = {\n\t\tdefault: 3,\n\t\tlarge: 8\n\t};\n\n\tprivate static readonly SCROLLBAR_VISIBILITY = {\n\t\tauto: ScrollbarVisibility.Auto,\n\t\tvisible: ScrollbarVisibility.Visible,\n\t\thidden: ScrollbarVisibility.Hidden\n\t};\n\n\tstatic readonly Payload_Reveal = {};\n\tstatic readonly Payload_RevealAside = {};\n\tstatic readonly Payload_Pick = {};\n\n\tstatic readonly CK_BreadcrumbsPossible = new RawContextKey('breadcrumbsPossible', false, localize('breadcrumbsPossible', \"Whether the editor can show breadcrumbs\"));\n\tstatic readonly CK_BreadcrumbsVisible = new RawContextKey('breadcrumbsVisible', false, localize('breadcrumbsVisible', \"Whether breadcrumbs are currently visible\"));\n\tstatic readonly CK_BreadcrumbsActive = new RawContextKey('breadcrumbsActive', false, localize('breadcrumbsActive', \"Whether breadcrumbs have focus\"));\n\n\tprivate readonly _ckBreadcrumbsPossible: IContextKey<boolean>;\n\tprivate readonly _ckBreadcrumbsVisible: IContextKey<boolean>;\n\tprivate readonly _ckBreadcrumbsActive: IContextKey<boolean>;\n\n\tprivate readonly _cfUseQuickPick: BreadcrumbsConfig<boolean>;\n\tprivate readonly _cfShowIcons: BreadcrumbsConfig<boolean>;\n\tprivate readonly _cfTitleScrollbarSizing: BreadcrumbsConfig<IEditorPartOptions['titleScrollbarSizing']>;\n\tprivate readonly _cfTitleScrollbarVisibility: BreadcrumbsConfig<IEditorPartOptions['titleScrollbarVisibility']>;\n\n\treadonly domNode: HTMLDivElement;\n\tprivate readonly _widget: BreadcrumbsWidget;\n\n\tprivate readonly _disposables = new DisposableStore();\n\tprivate readonly _breadcrumbsDisposables = new DisposableStore();\n\tprivate readonly _labels: ResourceLabels;\n\tprivate readonly _model = new MutableDisposable<BreadcrumbsModel>();\n\tprivate _breadcrumbsPickerShowing = false;\n\tprivate _breadcrumbsPickerIgnoreOnceItem: BreadcrumbsItem | undefined;\n\n\tprivate readonly _hoverDelegate: IHoverDelegate;\n\n\tprivate readonly _onDidVisibilityChange = this._disposables.add(new Emitter<void>());\n\tget onDidVisibilityChange() { return this._onDidVisibilityChange.event; }\n\n\tconstructor(\n\t\tcontainer: HTMLElement,\n\t\tprivate readonly _options: IBreadcrumbsControlOptions,\n\t\tprivate readonly _editorGroup: IEditorGroupView,\n\t\t@IContextKeyService private readonly _contextKeyService: IContextKeyService,\n\t\t@IContextViewService private readonly _contextViewService: IContextViewService,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService,\n\t\t@IQuickInputService private readonly _quickInputService: IQuickInputService,\n\t\t@IFileService private readonly _fileService: IFileService,\n\t\t@IEditorService private readonly _editorService: IEditorService,\n\t\t@ILabelService private readonly _labelService: ILabelService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IBreadcrumbsService breadcrumbsService: IBreadcrumbsService\n\t) {\n\t\tthis.domNode = document.createElement('div');\n\t\tthis.domNode.classList.add('breadcrumbs-control');\n\t\tdom.append(container, this.domNode);\n\n\t\tthis._cfUseQuickPick = BreadcrumbsConfig.UseQuickPick.bindTo(configurationService);\n\t\tthis._cfShowIcons = BreadcrumbsConfig.Icons.bindTo(configurationService);\n\t\tthis._cfTitleScrollbarSizing = BreadcrumbsConfig.TitleScrollbarSizing.bindTo(configurationService);\n\t\tthis._cfTitleScrollbarVisibility = BreadcrumbsConfig.TitleScrollbarVisibility.bindTo(configurationService);\n\n\t\tthis._labels = this._instantiationService.createInstance(ResourceLabels, DEFAULT_LABELS_CONTAINER);\n\n\t\tconst sizing = this._cfTitleScrollbarSizing.getValue() ?? 'default';\n\t\tconst styles = _options.widgetStyles ?? defaultBreadcrumbsWidgetStyles;\n\t\tconst visibility = this._cfTitleScrollbarVisibility?.getValue() ?? 'auto';\n\n\t\tthis._widget = new BreadcrumbsWidget(\n\t\t\tthis.domNode,\n\t\t\tBreadcrumbsControl.SCROLLBAR_SIZES[sizing],\n\t\t\tBreadcrumbsControl.SCROLLBAR_VISIBILITY[visibility],\n\t\t\tseparatorIcon,\n\t\t\tstyles\n\t\t);\n\t\tthis._widget.onDidSelectItem(this._onSelectEvent, this, this._disposables);\n\t\tthis._widget.onDidFocusItem(this._onFocusEvent, this, this._disposables);\n\t\tthis._widget.onDidChangeFocus(this._updateCkBreadcrumbsActive, this, this._disposables);\n\n\t\tthis._ckBreadcrumbsPossible = BreadcrumbsControl.CK_BreadcrumbsPossible.bindTo(this._contextKeyService);\n\t\tthis._ckBreadcrumbsVisible = BreadcrumbsControl.CK_BreadcrumbsVisible.bindTo(this._contextKeyService);\n\t\tthis._ckBreadcrumbsActive = BreadcrumbsControl.CK_BreadcrumbsActive.bindTo(this._contextKeyService);\n\n\t\tthis._hoverDelegate = getDefaultHoverDelegate('mouse');\n\n\t\tthis._disposables.add(breadcrumbsService.register(this._editorGroup.id, this._widget));\n\t\tthis.hide();\n\t}\n\n\tdispose(): void {\n\t\tthis._disposables.dispose();\n\t\tthis._breadcrumbsDisposables.dispose();\n\t\tthis._model.dispose();\n\t\tthis._ckBreadcrumbsPossible.reset();\n\t\tthis._ckBreadcrumbsVisible.reset();\n\t\tthis._ckBreadcrumbsActive.reset();\n\t\tthis._cfUseQuickPick.dispose();\n\t\tthis._cfShowIcons.dispose();\n\t\tthis._cfTitleScrollbarSizing.dispose();\n\t\tthis._cfTitleScrollbarVisibility.dispose();\n\t\tthis._widget.dispose();\n\t\tthis._labels.dispose();\n\t\tthis.domNode.remove();\n\t}\n\n\tget model(): BreadcrumbsModel | undefined {\n\t\treturn this._model.value;\n\t}\n\n\tlayout(dim: dom.Dimension | undefined): void {\n\t\tthis._widget.layout(dim);\n\t}\n\n\tisHidden(): boolean {\n\t\treturn this.domNode.classList.contains('hidden');\n\t}\n\n\thide(): void {\n\t\tconst wasHidden = this.isHidden();\n\n\t\tthis._breadcrumbsDisposables.clear();\n\t\tthis._ckBreadcrumbsVisible.set(false);\n\t\tthis.domNode.classList.toggle('hidden', true);\n\n\t\tif (!wasHidden) {\n\t\t\tthis._onDidVisibilityChange.fire();\n\t\t}\n\t}\n\n\tprivate show(): void {\n\t\tconst wasHidden = this.isHidden();\n\n\t\tthis._ckBreadcrumbsVisible.set(true);\n\t\tthis.domNode.classList.toggle('hidden', false);\n\n\t\tif (wasHidden) {\n\t\t\tthis._onDidVisibilityChange.fire();\n\t\t}\n\t}\n\n\trevealLast(): void {\n\t\tthis._widget.revealLast();\n\t}\n\n\tupdate(): boolean {\n\t\tthis._breadcrumbsDisposables.clear();\n\n\t\t// honor diff editors and such\n\t\tconst uri = EditorResourceAccessor.getCanonicalUri(this._editorGroup.activeEditor, { supportSideBySide: SideBySideEditor.PRIMARY });\n\t\tconst wasHidden = this.isHidden();\n\n\t\tif (!uri || !this._fileService.hasProvider(uri)) {\n\t\t\t// cleanup and return when there is no input or when\n\t\t\t// we cannot handle this input\n\t\t\tthis._ckBreadcrumbsPossible.set(false);\n\t\t\tif (!wasHidden) {\n\t\t\t\tthis.hide();\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\t// display uri which can be derived from certain inputs\n\t\tconst fileInfoUri = EditorResourceAccessor.getOriginalUri(this._editorGroup.activeEditor, { supportSideBySide: SideBySideEditor.PRIMARY });\n\n\t\tthis.show();\n\t\tthis._ckBreadcrumbsPossible.set(true);\n\n\t\tconst model = this._instantiationService.createInstance(BreadcrumbsModel,\n\t\t\tfileInfoUri ?? uri,\n\t\t\tthis._editorGroup.activeEditorPane\n\t\t);\n\t\tthis._model.value = model;\n\n\t\tthis.domNode.classList.toggle('backslash-path', this._labelService.getSeparator(uri.scheme, uri.authority) === '\\\\');\n\n\t\tconst updateBreadcrumbs = () => {\n\t\t\tthis.domNode.classList.toggle('relative-path', model.isRelative());\n\t\t\tconst showIcons = this._cfShowIcons.getValue();\n\t\t\tconst options: IBreadcrumbsControlOptions = {\n\t\t\t\t...this._options,\n\t\t\t\tshowFileIcons: this._options.showFileIcons && showIcons,\n\t\t\t\tshowSymbolIcons: this._options.showSymbolIcons && showIcons\n\t\t\t};\n\t\t\tconst items = model.getElements().map(element => element instanceof FileElement\n\t\t\t\t? this._instantiationService.createInstance(FileItem, model, element, options, this._labels, this._hoverDelegate)\n\t\t\t\t: this._instantiationService.createInstance(OutlineItem, model, element, options));\n\t\t\tif (items.length === 0) {\n\t\t\t\tthis._widget.setEnabled(false);\n\t\t\t\tthis._widget.setItems([new class extends BreadcrumbsItem {\n\t\t\t\t\trender(container: HTMLElement): void {\n\t\t\t\t\t\tcontainer.textContent = localize('empty', \"no elements\");\n\t\t\t\t\t}\n\t\t\t\t\tequals(other: BreadcrumbsItem): boolean {\n\t\t\t\t\t\treturn other === this;\n\t\t\t\t\t}\n\t\t\t\t\tdispose(): void {\n\n\t\t\t\t\t}\n\t\t\t\t}]);\n\t\t\t} else {\n\t\t\t\tthis._widget.setEnabled(true);\n\t\t\t\tthis._widget.setItems(items);\n\t\t\t\tthis._widget.reveal(items[items.length - 1]);\n\t\t\t}\n\t\t};\n\t\tconst listener = model.onDidUpdate(updateBreadcrumbs);\n\t\tconst configListener = this._cfShowIcons.onDidChange(updateBreadcrumbs);\n\t\tupdateBreadcrumbs();\n\t\tthis._breadcrumbsDisposables.clear();\n\t\tthis._breadcrumbsDisposables.add(listener);\n\t\tthis._breadcrumbsDisposables.add(toDisposable(() => this._model.clear()));\n\t\tthis._breadcrumbsDisposables.add(configListener);\n\t\tthis._breadcrumbsDisposables.add(toDisposable(() => this._widget.setItems([])));\n\n\t\tconst updateScrollbarSizing = () => {\n\t\t\tconst sizing = this._cfTitleScrollbarSizing.getValue() ?? 'default';\n\t\t\tconst visibility = this._cfTitleScrollbarVisibility?.getValue() ?? 'auto';\n\n\t\t\tthis._widget.setHorizontalScrollbarSize(BreadcrumbsControl.SCROLLBAR_SIZES[sizing]);\n\t\t\tthis._widget.setHorizontalScrollbarVisibility(BreadcrumbsControl.SCROLLBAR_VISIBILITY[visibility]);\n\t\t};\n\t\tupdateScrollbarSizing();\n\t\tconst updateScrollbarSizeListener = this._cfTitleScrollbarSizing.onDidChange(updateScrollbarSizing);\n\t\tconst updateScrollbarVisibilityListener = this._cfTitleScrollbarVisibility.onDidChange(updateScrollbarSizing);\n\t\tthis._breadcrumbsDisposables.add(updateScrollbarSizeListener);\n\t\tthis._breadcrumbsDisposables.add(updateScrollbarVisibilityListener);\n\n\t\t// close picker on hide/update\n\t\tthis._breadcrumbsDisposables.add({\n\t\t\tdispose: () => {\n\t\t\t\tif (this._breadcrumbsPickerShowing) {\n\t\t\t\t\tthis._contextViewService.hideContextView({ source: this });\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn wasHidden !== this.isHidden();\n\t}\n\n\tprivate _onFocusEvent(event: IBreadcrumbsItemEvent): void {\n\t\tif (event.item && this._breadcrumbsPickerShowing) {\n\t\t\tthis._breadcrumbsPickerIgnoreOnceItem = undefined;\n\t\t\tthis._widget.setSelection(event.item);\n\t\t}\n\t}\n\n\tprivate _onSelectEvent(event: IBreadcrumbsItemEvent): void {\n\t\tif (!event.item) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (event.item === this._breadcrumbsPickerIgnoreOnceItem) {\n\t\t\tthis._breadcrumbsPickerIgnoreOnceItem = undefined;\n\t\t\tthis._widget.setFocused(undefined);\n\t\t\tthis._widget.setSelection(undefined);\n\t\t\treturn;\n\t\t}\n\n\t\tconst { element } = event.item as FileItem | OutlineItem;\n\t\tthis._editorGroup.focus();\n\n\t\tconst group = this._getEditorGroup(event.payload);\n\t\tif (group !== undefined) {\n\t\t\t// reveal the item\n\t\t\tthis._widget.setFocused(undefined);\n\t\t\tthis._widget.setSelection(undefined);\n\t\t\tthis._revealInEditor(event, element, group);\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._cfUseQuickPick.getValue()) {\n\t\t\t// using quick pick\n\t\t\tthis._widget.setFocused(undefined);\n\t\t\tthis._widget.setSelection(undefined);\n\t\t\tthis._quickInputService.quickAccess.show(element instanceof OutlineElement2 ? '@' : '');\n\t\t\treturn;\n\t\t}\n\n\t\t// show picker\n\t\tlet picker: BreadcrumbsFilePicker | BreadcrumbsOutlinePicker;\n\t\tlet pickerAnchor: { x: number; y: number };\n\n\t\tinterface IHideData { didPick?: boolean; source?: BreadcrumbsControl }\n\n\t\tthis._contextViewService.showContextView({\n\t\t\trender: (parent: HTMLElement) => {\n\t\t\t\tif (event.item instanceof FileItem) {\n\t\t\t\t\tpicker = this._instantiationService.createInstance(BreadcrumbsFilePicker, parent, event.item.model.resource);\n\t\t\t\t} else if (event.item instanceof OutlineItem) {\n\t\t\t\t\tpicker = this._instantiationService.createInstance(BreadcrumbsOutlinePicker, parent, event.item.model.resource);\n\t\t\t\t}\n\n\t\t\t\tconst selectListener = picker.onWillPickElement(() => this._contextViewService.hideContextView({ source: this, didPick: true }));\n\t\t\t\tconst zoomListener = PixelRatio.getInstance(dom.getWindow(this.domNode)).onDidChange(() => this._contextViewService.hideContextView({ source: this }));\n\n\t\t\t\tconst focusTracker = dom.trackFocus(parent);\n\t\t\t\tconst blurListener = focusTracker.onDidBlur(() => {\n\t\t\t\t\tthis._breadcrumbsPickerIgnoreOnceItem = this._widget.isDOMFocused() ? event.item : undefined;\n\t\t\t\t\tthis._contextViewService.hideContextView({ source: this });\n\t\t\t\t});\n\n\t\t\t\tthis._breadcrumbsPickerShowing = true;\n\t\t\t\tthis._updateCkBreadcrumbsActive();\n\n\t\t\t\treturn combinedDisposable(\n\t\t\t\t\tpicker,\n\t\t\t\t\tselectListener,\n\t\t\t\t\tzoomListener,\n\t\t\t\t\tfocusTracker,\n\t\t\t\t\tblurListener\n\t\t\t\t);\n\t\t\t},\n\t\t\tgetAnchor: () => {\n\t\t\t\tif (!pickerAnchor) {\n\t\t\t\t\tconst window = dom.getWindow(this.domNode);\n\t\t\t\t\tconst maxInnerWidth = window.innerWidth - 8 /*a little less the full widget*/;\n\t\t\t\t\tlet maxHeight = Math.min(window.innerHeight * 0.7, 300);\n\n\t\t\t\t\tconst pickerWidth = Math.min(maxInnerWidth, Math.max(240, maxInnerWidth / 4.17));\n\t\t\t\t\tconst pickerArrowSize = 8;\n\t\t\t\t\tlet pickerArrowOffset: number;\n\n\t\t\t\t\tconst data = dom.getDomNodePagePosition(event.node.firstChild as HTMLElement);\n\t\t\t\t\tconst y = data.top + data.height + pickerArrowSize;\n\t\t\t\t\tif (y + maxHeight >= window.innerHeight) {\n\t\t\t\t\t\tmaxHeight = window.innerHeight - y - 30 /* room for shadow and status bar*/;\n\t\t\t\t\t}\n\t\t\t\t\tlet x = data.left;\n\t\t\t\t\tif (x + pickerWidth >= maxInnerWidth) {\n\t\t\t\t\t\tx = maxInnerWidth - pickerWidth;\n\t\t\t\t\t}\n\t\t\t\t\tif (event.payload instanceof StandardMouseEvent) {\n\t\t\t\t\t\tconst maxPickerArrowOffset = pickerWidth - 2 * pickerArrowSize;\n\t\t\t\t\t\tpickerArrowOffset = event.payload.posx - x;\n\t\t\t\t\t\tif (pickerArrowOffset > maxPickerArrowOffset) {\n\t\t\t\t\t\t\tx = Math.min(maxInnerWidth - pickerWidth, x + pickerArrowOffset - maxPickerArrowOffset);\n\t\t\t\t\t\t\tpickerArrowOffset = maxPickerArrowOffset;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpickerArrowOffset = (data.left + (data.width * 0.3)) - x;\n\t\t\t\t\t}\n\t\t\t\t\tpicker.show(element, maxHeight, pickerWidth, pickerArrowSize, Math.max(0, pickerArrowOffset));\n\t\t\t\t\tpickerAnchor = { x, y };\n\t\t\t\t}\n\t\t\t\treturn pickerAnchor;\n\t\t\t},\n\t\t\tonHide: (data?: IHideData) => {\n\t\t\t\tif (!data?.didPick) {\n\t\t\t\t\tpicker.restoreViewState();\n\t\t\t\t}\n\t\t\t\tthis._breadcrumbsPickerShowing = false;\n\t\t\t\tthis._updateCkBreadcrumbsActive();\n\t\t\t\tif (data?.source === this) {\n\t\t\t\t\tthis._widget.setFocused(undefined);\n\t\t\t\t\tthis._widget.setSelection(undefined);\n\t\t\t\t}\n\t\t\t\tpicker.dispose();\n\t\t\t}\n\t\t});\n\t}\n\n\tprivate _updateCkBreadcrumbsActive(): void {\n\t\tconst value = this._widget.isDOMFocused() || this._breadcrumbsPickerShowing;\n\t\tthis._ckBreadcrumbsActive.set(value);\n\t}\n\n\tprivate async _revealInEditor(event: IBreadcrumbsItemEvent, element: FileElement | OutlineElement2, group: SIDE_GROUP_TYPE | ACTIVE_GROUP_TYPE | undefined, pinned: boolean = false): Promise<void> {\n\n\t\tif (element instanceof FileElement) {\n\t\t\tif (element.kind === FileKind.FILE) {\n\t\t\t\tawait this._editorService.openEditor({ resource: element.uri, options: { pinned } }, group);\n\t\t\t} else {\n\t\t\t\t// show next picker\n\t\t\t\tconst items = this._widget.getItems();\n\t\t\t\tconst idx = items.indexOf(event.item);\n\t\t\t\tthis._widget.setFocused(items[idx + 1]);\n\t\t\t\tthis._widget.setSelection(items[idx + 1], BreadcrumbsControl.Payload_Pick);\n\t\t\t}\n\t\t} else {\n\t\t\telement.outline.reveal(element, { pinned }, group === SIDE_GROUP, false);\n\t\t}\n\t}\n\n\tprivate _getEditorGroup(data: unknown): SIDE_GROUP_TYPE | ACTIVE_GROUP_TYPE | undefined {\n\t\tif (data === BreadcrumbsControl.Payload_RevealAside) {\n\t\t\treturn SIDE_GROUP;\n\t\t} else if (data === BreadcrumbsControl.Payload_Reveal) {\n\t\t\treturn ACTIVE_GROUP;\n\t\t} else {\n\t\t\treturn undefined;\n\t\t}\n\t}\n}\n\nexport class BreadcrumbsControlFactory {\n\n\tprivate readonly _disposables = new DisposableStore();\n\tprivate readonly _controlDisposables = new DisposableStore();\n\n\tprivate _control: BreadcrumbsControl | undefined;\n\tget control() { return this._control; }\n\n\tprivate readonly _onDidEnablementChange = this._disposables.add(new Emitter<void>());\n\tget onDidEnablementChange() { return this._onDidEnablementChange.event; }\n\n\tprivate readonly _onDidVisibilityChange = this._disposables.add(new Emitter<void>());\n\tget onDidVisibilityChange() { return this._onDidVisibilityChange.event; }\n\n\tconstructor(\n\t\tprivate readonly _container: HTMLElement,\n\t\tprivate readonly _editorGroup: IEditorGroupView,\n\t\tprivate readonly _options: IBreadcrumbsControlOptions,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IInstantiationService private readonly _instantiationService: IInstantiationService,\n\t\t@IFileService fileService: IFileService\n\t) {\n\t\tconst config = this._disposables.add(BreadcrumbsConfig.IsEnabled.bindTo(configurationService));\n\t\tthis._disposables.add(config.onDidChange(() => {\n\t\t\tconst value = config.getValue();\n\t\t\tif (!value && this._control) {\n\t\t\t\tthis._controlDisposables.clear();\n\t\t\t\tthis._control = undefined;\n\t\t\t\tthis._onDidEnablementChange.fire();\n\t\t\t} else if (value && !this._control) {\n\t\t\t\tthis._control = this.createControl();\n\t\t\t\tthis._control.update();\n\t\t\t\tthis._onDidEnablementChange.fire();\n\t\t\t}\n\t\t}));\n\n\t\tif (config.getValue()) {\n\t\t\tthis._control = this.createControl();\n\t\t}\n\n\t\tthis._disposables.add(fileService.onDidChangeFileSystemProviderRegistrations(e => {\n\t\t\tif (this._control?.model && this._control.model.resource.scheme !== e.scheme) {\n\t\t\t\t// ignore if the scheme of the breadcrumbs resource is not affected\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this._control?.update()) {\n\t\t\t\tthis._onDidEnablementChange.fire();\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate createControl(): BreadcrumbsControl {\n\t\tconst control = this._controlDisposables.add(this._instantiationService.createInstance(BreadcrumbsControl, this._container, this._options, this._editorGroup));\n\t\tthis._controlDisposables.add(control.onDidVisibilityChange(() => this._onDidVisibilityChange.fire()));\n\n\t\treturn control;\n\t}\n\n\tdispose(): void {\n\t\tthis._disposables.dispose();\n\t\tthis._controlDisposables.dispose();\n\t}\n}\n\n//#region commands\n\n// toggle command\nregisterAction2(class ToggleBreadcrumb extends Action2 {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'breadcrumbs.toggle',\n\t\t\ttitle: localize2('cmd.toggle', \"Toggle Breadcrumbs\"),\n\t\t\tcategory: Categories.View,\n\t\t\ttoggled: {\n\t\t\t\tcondition: ContextKeyExpr.equals('config.breadcrumbs.enabled', true),\n\t\t\t\ttitle: localize('cmd.toggle2', \"Toggle Breadcrumbs\"),\n\t\t\t\tmnemonicTitle: localize({ key: 'miBreadcrumbs2', comment: ['&& denotes a mnemonic'] }, \"&&Breadcrumbs\")\n\t\t\t},\n\t\t\tmenu: [\n\t\t\t\t{ id: MenuId.CommandPalette },\n\t\t\t\t{ id: MenuId.MenubarAppearanceMenu, group: '4_editor', order: 2 },\n\t\t\t\t{ id: MenuId.NotebookToolbar, group: 'notebookLayout', order: 2 },\n\t\t\t\t{ id: MenuId.StickyScrollContext },\n\t\t\t\t{ id: MenuId.NotebookStickyScrollContext, group: 'notebookView', order: 2 },\n\t\t\t\t{ id: MenuId.NotebookToolbarContext, group: 'notebookView', order: 2 }\n\t\t\t]\n\t\t});\n\t}\n\n\trun(accessor: ServicesAccessor): void {\n\t\tconst config = accessor.get(IConfigurationService);\n\t\tconst breadCrumbsConfig = BreadcrumbsConfig.IsEnabled.bindTo(config);\n\t\tconst value = breadCrumbsConfig.getValue();\n\t\tbreadCrumbsConfig.updateValue(!value);\n\t\tbreadCrumbsConfig.dispose();\n\t}\n\n});\n\n// focus/focus-and-select\nfunction focusAndSelectHandler(accessor: ServicesAccessor, select: boolean): void {\n\t// find widget and focus/select\n\tconst groups = accessor.get(IEditorGroupsService);\n\tconst breadcrumbs = accessor.get(IBreadcrumbsService);\n\tconst widget = breadcrumbs.getWidget(groups.activeGroup.id);\n\tif (widget) {\n\t\tconst item = widget.getItems().at(-1);\n\t\twidget.setFocused(item);\n\t\tif (select) {\n\t\t\twidget.setSelection(item, BreadcrumbsControl.Payload_Pick);\n\t\t}\n\t}\n}\nregisterAction2(class FocusAndSelectBreadcrumbs extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'breadcrumbs.focusAndSelect',\n\t\t\ttitle: localize2('cmd.focusAndSelect', \"Focus and Select Breadcrumbs\"),\n\t\t\tprecondition: BreadcrumbsControl.CK_BreadcrumbsVisible,\n\t\t\tkeybinding: {\n\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.Period,\n\t\t\t\twhen: BreadcrumbsControl.CK_BreadcrumbsPossible,\n\t\t\t},\n\t\t\tf1: true\n\t\t});\n\t}\n\trun(accessor: ServicesAccessor, ...args: unknown[]): void {\n\t\tfocusAndSelectHandler(accessor, true);\n\t}\n});\n\nregisterAction2(class FocusBreadcrumbs extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'breadcrumbs.focus',\n\t\t\ttitle: localize2('cmd.focus', \"Focus Breadcrumbs\"),\n\t\t\tprecondition: BreadcrumbsControl.CK_BreadcrumbsVisible,\n\t\t\tkeybinding: {\n\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.Semicolon,\n\t\t\t\twhen: BreadcrumbsControl.CK_BreadcrumbsPossible,\n\t\t\t},\n\t\t\tf1: true\n\t\t});\n\t}\n\trun(accessor: ServicesAccessor, ...args: unknown[]): void {\n\t\tfocusAndSelectHandler(accessor, false);\n\t}\n});\n\n// this commands is only enabled when breadcrumbs are\n// disabled which it then enables and focuses\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'breadcrumbs.toggleToOn',\n\tweight: KeybindingWeight.WorkbenchContrib,\n\tprimary: KeyMod.CtrlCmd | KeyMod.Shift | KeyCode.Period,\n\twhen: ContextKeyExpr.not('config.breadcrumbs.enabled'),\n\thandler: async accessor => {\n\t\tconst instant = accessor.get(IInstantiationService);\n\t\tconst config = accessor.get(IConfigurationService);\n\t\t// check if enabled and iff not enable\n\t\tconst isEnabled = BreadcrumbsConfig.IsEnabled.bindTo(config);\n\t\tif (!isEnabled.getValue()) {\n\t\t\tawait isEnabled.updateValue(true);\n\t\t\tawait timeout(50); // hacky - the widget might not be ready yet...\n\t\t}\n\t\tisEnabled.dispose();\n\t\treturn instant.invokeFunction(focusAndSelectHandler, true);\n\t}\n});\n\n// navigation\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'breadcrumbs.focusNext',\n\tweight: KeybindingWeight.WorkbenchContrib,\n\tprimary: KeyCode.RightArrow,\n\tsecondary: [KeyMod.CtrlCmd | KeyCode.RightArrow],\n\tmac: {\n\t\tprimary: KeyCode.RightArrow,\n\t\tsecondary: [KeyMod.Alt | KeyCode.RightArrow],\n\t},\n\twhen: ContextKeyExpr.and(BreadcrumbsControl.CK_BreadcrumbsVisible, BreadcrumbsControl.CK_BreadcrumbsActive),\n\thandler(accessor) {\n\t\tconst groups = accessor.get(IEditorGroupsService);\n\t\tconst breadcrumbs = accessor.get(IBreadcrumbsService);\n\t\tconst widget = breadcrumbs.getWidget(groups.activeGroup.id);\n\t\tif (!widget) {\n\t\t\treturn;\n\t\t}\n\t\twidget.focusNext();\n\t}\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'breadcrumbs.focusPrevious',\n\tweight: KeybindingWeight.WorkbenchContrib,\n\tprimary: KeyCode.LeftArrow,\n\tsecondary: [KeyMod.CtrlCmd | KeyCode.LeftArrow],\n\tmac: {\n\t\tprimary: KeyCode.LeftArrow,\n\t\tsecondary: [KeyMod.Alt | KeyCode.LeftArrow],\n\t},\n\twhen: ContextKeyExpr.and(BreadcrumbsControl.CK_BreadcrumbsVisible, BreadcrumbsControl.CK_BreadcrumbsActive),\n\thandler(accessor) {\n\t\tconst groups = accessor.get(IEditorGroupsService);\n\t\tconst breadcrumbs = accessor.get(IBreadcrumbsService);\n\t\tconst widget = breadcrumbs.getWidget(groups.activeGroup.id);\n\t\tif (!widget) {\n\t\t\treturn;\n\t\t}\n\t\twidget.focusPrev();\n\t}\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'breadcrumbs.focusNextWithPicker',\n\tweight: KeybindingWeight.WorkbenchContrib + 1,\n\tprimary: KeyMod.CtrlCmd | KeyCode.RightArrow,\n\tmac: {\n\t\tprimary: KeyMod.Alt | KeyCode.RightArrow,\n\t},\n\twhen: ContextKeyExpr.and(BreadcrumbsControl.CK_BreadcrumbsVisible, BreadcrumbsControl.CK_BreadcrumbsActive, WorkbenchListFocusContextKey),\n\thandler(accessor) {\n\t\tconst groups = accessor.get(IEditorGroupsService);\n\t\tconst breadcrumbs = accessor.get(IBreadcrumbsService);\n\t\tconst widget = breadcrumbs.getWidget(groups.activeGroup.id);\n\t\tif (!widget) {\n\t\t\treturn;\n\t\t}\n\t\twidget.focusNext();\n\t}\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'breadcrumbs.focusPreviousWithPicker',\n\tweight: KeybindingWeight.WorkbenchContrib + 1,\n\tprimary: KeyMod.CtrlCmd | KeyCode.LeftArrow,\n\tmac: {\n\t\tprimary: KeyMod.Alt | KeyCode.LeftArrow,\n\t},\n\twhen: ContextKeyExpr.and(BreadcrumbsControl.CK_BreadcrumbsVisible, BreadcrumbsControl.CK_BreadcrumbsActive, WorkbenchListFocusContextKey),\n\thandler(accessor) {\n\t\tconst groups = accessor.get(IEditorGroupsService);\n\t\tconst breadcrumbs = accessor.get(IBreadcrumbsService);\n\t\tconst widget = breadcrumbs.getWidget(groups.activeGroup.id);\n\t\tif (!widget) {\n\t\t\treturn;\n\t\t}\n\t\twidget.focusPrev();\n\t}\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'breadcrumbs.selectFocused',\n\tweight: KeybindingWeight.WorkbenchContrib,\n\tprimary: KeyCode.Enter,\n\tsecondary: [KeyCode.DownArrow],\n\twhen: ContextKeyExpr.and(BreadcrumbsControl.CK_BreadcrumbsVisible, BreadcrumbsControl.CK_BreadcrumbsActive),\n\thandler(accessor) {\n\t\tconst groups = accessor.get(IEditorGroupsService);\n\t\tconst breadcrumbs = accessor.get(IBreadcrumbsService);\n\t\tconst widget = breadcrumbs.getWidget(groups.activeGroup.id);\n\t\tif (!widget) {\n\t\t\treturn;\n\t\t}\n\t\twidget.setSelection(widget.getFocused(), BreadcrumbsControl.Payload_Pick);\n\t}\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'breadcrumbs.revealFocused',\n\tweight: KeybindingWeight.WorkbenchContrib,\n\tprimary: KeyCode.Space,\n\tsecondary: [KeyMod.CtrlCmd | KeyCode.Enter],\n\twhen: ContextKeyExpr.and(BreadcrumbsControl.CK_BreadcrumbsVisible, BreadcrumbsControl.CK_BreadcrumbsActive),\n\thandler(accessor) {\n\t\tconst groups = accessor.get(IEditorGroupsService);\n\t\tconst breadcrumbs = accessor.get(IBreadcrumbsService);\n\t\tconst widget = breadcrumbs.getWidget(groups.activeGroup.id);\n\t\tif (!widget) {\n\t\t\treturn;\n\t\t}\n\t\twidget.setSelection(widget.getFocused(), BreadcrumbsControl.Payload_Reveal);\n\t}\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'breadcrumbs.selectEditor',\n\tweight: KeybindingWeight.WorkbenchContrib + 1,\n\tprimary: KeyCode.Escape,\n\twhen: ContextKeyExpr.and(BreadcrumbsControl.CK_BreadcrumbsVisible, BreadcrumbsControl.CK_BreadcrumbsActive),\n\thandler(accessor) {\n\t\tconst groups = accessor.get(IEditorGroupsService);\n\t\tconst breadcrumbs = accessor.get(IBreadcrumbsService);\n\t\tconst widget = breadcrumbs.getWidget(groups.activeGroup.id);\n\t\tif (!widget) {\n\t\t\treturn;\n\t\t}\n\t\twidget.setFocused(undefined);\n\t\twidget.setSelection(undefined);\n\t\tgroups.activeGroup.activeEditorPane?.focus();\n\t}\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n\tid: 'breadcrumbs.revealFocusedFromTreeAside',\n\tweight: KeybindingWeight.WorkbenchContrib,\n\tprimary: KeyMod.CtrlCmd | KeyCode.Enter,\n\twhen: ContextKeyExpr.and(BreadcrumbsControl.CK_BreadcrumbsVisible, BreadcrumbsControl.CK_BreadcrumbsActive, WorkbenchListFocusContextKey),\n\thandler(accessor) {\n\t\tconst editors = accessor.get(IEditorService);\n\t\tconst lists = accessor.get(IListService);\n\n\t\tconst tree = lists.lastFocusedList;\n\t\tif (!(tree instanceof WorkbenchDataTree) && !(tree instanceof WorkbenchAsyncDataTree)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst element = <IFileStat | unknown>tree.getFocus()[0];\n\n\t\tif (URI.isUri((<IFileStat>element)?.resource)) {\n\t\t\t// IFileStat: open file in editor\n\t\t\treturn editors.openEditor({\n\t\t\t\tresource: (<IFileStat>element).resource,\n\t\t\t\toptions: { pinned: true }\n\t\t\t}, SIDE_GROUP);\n\t\t}\n\n\t\t// IOutline: check if this the outline and iff so reveal element\n\t\tconst input = tree.getInput();\n\t\tif (input && typeof (<IOutline<unknown>>input).outlineKind === 'string') {\n\t\t\treturn (<IOutline<unknown>>input).reveal(element, {\n\t\t\t\tpinned: true,\n\t\t\t\tpreserveFocus: false\n\t\t\t}, true, false);\n\t\t}\n\t}\n});\n//#endregion\n"]}