{"version":3,"sources":["vs/workbench/browser/parts/editor/diffEditorCommands.ts"],"names":[],"mappings":"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","file":"diffEditorCommands.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { KeyChord, KeyCode, KeyMod } from '../../../../base/common/keyCodes.js';\nimport { isEqual } from '../../../../base/common/resources.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ITextResourceConfigurationService } from '../../../../editor/common/services/textResourceConfiguration.js';\nimport { localize, localize2 } from '../../../../nls.js';\nimport { MenuId, MenuRegistry } from '../../../../platform/actions/common/actions.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { KeybindingsRegistry, KeybindingWeight } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { TextDiffEditor } from './textDiffEditor.js';\nimport { ActiveCompareEditorCanSwapContext, TextCompareEditorActiveContext, TextCompareEditorVisibleContext } from '../../../common/contextkeys.js';\nimport { DiffEditorInput } from '../../../common/editor/diffEditorInput.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { IUntypedEditorInput } from '../../../common/editor.js';\nimport { EditorContextKeys } from '../../../../editor/common/editorContextKeys.js';\nimport { IEditorGroupsService } from '../../../services/editor/common/editorGroupsService.js';\nimport { isDiffEditor } from '../../../../editor/browser/editorBrowser.js';\nimport { EditorInput } from '../../../common/editor/editorInput.js';\n\nexport const TOGGLE_DIFF_SIDE_BY_SIDE = 'toggle.diff.renderSideBySide';\nexport const GOTO_NEXT_CHANGE = 'workbench.action.compareEditor.nextChange';\nexport const GOTO_PREVIOUS_CHANGE = 'workbench.action.compareEditor.previousChange';\nexport const DIFF_FOCUS_PRIMARY_SIDE = 'workbench.action.compareEditor.focusPrimarySide';\nexport const DIFF_FOCUS_SECONDARY_SIDE = 'workbench.action.compareEditor.focusSecondarySide';\nexport const DIFF_FOCUS_OTHER_SIDE = 'workbench.action.compareEditor.focusOtherSide';\nexport const DIFF_OPEN_SIDE = 'workbench.action.compareEditor.openSide';\nexport const TOGGLE_DIFF_IGNORE_TRIM_WHITESPACE = 'toggle.diff.ignoreTrimWhitespace';\nexport const DIFF_SWAP_SIDES = 'workbench.action.compareEditor.swapSides';\n\nexport function registerDiffEditorCommands(): void {\n\tKeybindingsRegistry.registerCommandAndKeybindingRule({\n\t\tid: DIFF_OPEN_SIDE,\n\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\twhen: EditorContextKeys.inDiffEditor,\n\t\tprimary: KeyChord(KeyMod.CtrlCmd | KeyCode.KeyK, KeyMod.Shift | KeyCode.KeyO),\n\t\thandler: async accessor => {\n\t\t\tconst editorService = accessor.get(IEditorService);\n\t\t\tconst editorGroupsService = accessor.get(IEditorGroupsService);\n\n\t\t\tconst activeEditor = editorService.activeEditor;\n\t\t\tconst activeTextEditorControl = editorService.activeTextEditorControl;\n\t\t\tif (!isDiffEditor(activeTextEditorControl) || !(activeEditor instanceof DiffEditorInput)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet editor: EditorInput | undefined;\n\t\t\tconst originalEditor = activeTextEditorControl.getOriginalEditor();\n\t\t\tif (originalEditor.hasTextFocus()) {\n\t\t\t\teditor = activeEditor.original;\n\t\t\t} else {\n\t\t\t\teditor = activeEditor.modified;\n\t\t\t}\n\n\t\t\treturn editorGroupsService.activeGroup.openEditor(editor);\n\t\t}\n\t});\n\n\tMenuRegistry.appendMenuItem(MenuId.CommandPalette, {\n\t\tcommand: {\n\t\t\tid: DIFF_OPEN_SIDE,\n\t\t\ttitle: localize2('compare.openSide', 'Open Active Diff Side'),\n\t\t}\n\t});\n\n\tKeybindingsRegistry.registerCommandAndKeybindingRule({\n\t\tid: GOTO_NEXT_CHANGE,\n\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\twhen: TextCompareEditorVisibleContext,\n\t\tprimary: KeyMod.Alt | KeyCode.F5,\n\t\thandler: (accessor, ...args) => navigateInDiffEditor(accessor, args, true)\n\t});\n\n\tMenuRegistry.appendMenuItem(MenuId.CommandPalette, {\n\t\tcommand: {\n\t\t\tid: GOTO_NEXT_CHANGE,\n\t\t\ttitle: localize2('compare.nextChange', 'Go to Next Change'),\n\t\t}\n\t});\n\n\tKeybindingsRegistry.registerCommandAndKeybindingRule({\n\t\tid: GOTO_PREVIOUS_CHANGE,\n\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\twhen: TextCompareEditorVisibleContext,\n\t\tprimary: KeyMod.Alt | KeyMod.Shift | KeyCode.F5,\n\t\thandler: (accessor, ...args) => navigateInDiffEditor(accessor, args, false)\n\t});\n\n\tMenuRegistry.appendMenuItem(MenuId.CommandPalette, {\n\t\tcommand: {\n\t\t\tid: GOTO_PREVIOUS_CHANGE,\n\t\t\ttitle: localize2('compare.previousChange', 'Go to Previous Change'),\n\t\t}\n\t});\n\n\n\tfunction getActiveTextDiffEditor(accessor: ServicesAccessor, args: unknown[]): TextDiffEditor | undefined {\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst resource = args.length > 0 && args[0] instanceof URI ? args[0] : undefined;\n\n\t\tfor (const editor of [editorService.activeEditorPane, ...editorService.visibleEditorPanes]) {\n\t\t\tif (editor instanceof TextDiffEditor && (!resource || editor.input instanceof DiffEditorInput && isEqual(editor.input.primary.resource, resource))) {\n\t\t\t\treturn editor;\n\t\t\t}\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tfunction navigateInDiffEditor(accessor: ServicesAccessor, args: unknown[], next: boolean): void {\n\t\tconst activeTextDiffEditor = getActiveTextDiffEditor(accessor, args);\n\n\t\tif (activeTextDiffEditor) {\n\t\t\tactiveTextDiffEditor.getControl()?.goToDiff(next ? 'next' : 'previous');\n\t\t}\n\t}\n\n\tenum FocusTextDiffEditorMode {\n\t\tOriginal,\n\t\tModified,\n\t\tToggle\n\t}\n\n\tfunction focusInDiffEditor(accessor: ServicesAccessor, args: unknown[], mode: FocusTextDiffEditorMode): void {\n\t\tconst activeTextDiffEditor = getActiveTextDiffEditor(accessor, args);\n\n\t\tif (activeTextDiffEditor) {\n\t\t\tswitch (mode) {\n\t\t\t\tcase FocusTextDiffEditorMode.Original:\n\t\t\t\t\tactiveTextDiffEditor.getControl()?.getOriginalEditor().focus();\n\t\t\t\t\tbreak;\n\t\t\t\tcase FocusTextDiffEditorMode.Modified:\n\t\t\t\t\tactiveTextDiffEditor.getControl()?.getModifiedEditor().focus();\n\t\t\t\t\tbreak;\n\t\t\t\tcase FocusTextDiffEditorMode.Toggle:\n\t\t\t\t\tif (activeTextDiffEditor.getControl()?.getModifiedEditor().hasWidgetFocus()) {\n\t\t\t\t\t\treturn focusInDiffEditor(accessor, args, FocusTextDiffEditorMode.Original);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn focusInDiffEditor(accessor, args, FocusTextDiffEditorMode.Modified);\n\t\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction toggleDiffSideBySide(accessor: ServicesAccessor, args: unknown[]): void {\n\t\tconst configService = accessor.get(ITextResourceConfigurationService);\n\t\tconst activeTextDiffEditor = getActiveTextDiffEditor(accessor, args);\n\n\t\tconst m = activeTextDiffEditor?.getControl()?.getModifiedEditor()?.getModel();\n\t\tif (!m) { return; }\n\n\t\tconst key = 'diffEditor.renderSideBySide';\n\t\tconst val = configService.getValue(m.uri, key);\n\t\tconfigService.updateValue(m.uri, key, !val);\n\t}\n\n\tfunction toggleDiffIgnoreTrimWhitespace(accessor: ServicesAccessor, args: unknown[]): void {\n\t\tconst configService = accessor.get(ITextResourceConfigurationService);\n\t\tconst activeTextDiffEditor = getActiveTextDiffEditor(accessor, args);\n\n\t\tconst m = activeTextDiffEditor?.getControl()?.getModifiedEditor()?.getModel();\n\t\tif (!m) { return; }\n\n\t\tconst key = 'diffEditor.ignoreTrimWhitespace';\n\t\tconst val = configService.getValue(m.uri, key);\n\t\tconfigService.updateValue(m.uri, key, !val);\n\t}\n\n\tasync function swapDiffSides(accessor: ServicesAccessor, args: unknown[]): Promise<void> {\n\t\tconst editorService = accessor.get(IEditorService);\n\n\t\tconst diffEditor = getActiveTextDiffEditor(accessor, args);\n\t\tconst activeGroup = diffEditor?.group;\n\t\tconst diffInput = diffEditor?.input;\n\t\tif (!diffEditor || typeof activeGroup === 'undefined' || !(diffInput instanceof DiffEditorInput) || !diffInput.modified.resource) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst untypedDiffInput = diffInput.toUntyped({ preserveViewState: activeGroup.id, preserveResource: true });\n\t\tif (!untypedDiffInput) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Since we are about to replace the diff editor, make\n\t\t// sure to first open the modified side if it is not\n\t\t// yet opened. This ensures that the swapping is not\n\t\t// bringing up a confirmation dialog to save.\n\t\tif (diffInput.modified.isModified() && editorService.findEditors({ resource: diffInput.modified.resource, typeId: diffInput.modified.typeId, editorId: diffInput.modified.editorId }).length === 0) {\n\t\t\tconst editorToOpen: IUntypedEditorInput = { ...untypedDiffInput.modified };\n\t\t\tif (!editorToOpen.options) {\n\t\t\t\teditorToOpen.options = {};\n\t\t\t}\n\t\t\teditorToOpen.options.pinned = true;\n\t\t\teditorToOpen.options.inactive = true;\n\n\t\t\tawait editorService.openEditor(editorToOpen, activeGroup);\n\t\t}\n\n\t\t// Replace the input with the swapped variant\n\t\tawait editorService.replaceEditors([\n\t\t\t{\n\t\t\t\teditor: diffInput,\n\t\t\t\treplacement: {\n\t\t\t\t\t...untypedDiffInput,\n\t\t\t\t\toriginal: untypedDiffInput.modified,\n\t\t\t\t\tmodified: untypedDiffInput.original,\n\t\t\t\t\toptions: {\n\t\t\t\t\t\t...untypedDiffInput.options,\n\t\t\t\t\t\tpinned: true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t], activeGroup);\n\t}\n\n\tKeybindingsRegistry.registerCommandAndKeybindingRule({\n\t\tid: TOGGLE_DIFF_SIDE_BY_SIDE,\n\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\twhen: undefined,\n\t\tprimary: undefined,\n\t\thandler: (accessor, ...args) => toggleDiffSideBySide(accessor, args)\n\t});\n\n\tKeybindingsRegistry.registerCommandAndKeybindingRule({\n\t\tid: DIFF_FOCUS_PRIMARY_SIDE,\n\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\twhen: undefined,\n\t\tprimary: undefined,\n\t\thandler: (accessor, ...args) => focusInDiffEditor(accessor, args, FocusTextDiffEditorMode.Modified)\n\t});\n\n\tKeybindingsRegistry.registerCommandAndKeybindingRule({\n\t\tid: DIFF_FOCUS_SECONDARY_SIDE,\n\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\twhen: undefined,\n\t\tprimary: undefined,\n\t\thandler: (accessor, ...args) => focusInDiffEditor(accessor, args, FocusTextDiffEditorMode.Original)\n\t});\n\n\tKeybindingsRegistry.registerCommandAndKeybindingRule({\n\t\tid: DIFF_FOCUS_OTHER_SIDE,\n\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\twhen: undefined,\n\t\tprimary: undefined,\n\t\thandler: (accessor, ...args) => focusInDiffEditor(accessor, args, FocusTextDiffEditorMode.Toggle)\n\t});\n\n\tKeybindingsRegistry.registerCommandAndKeybindingRule({\n\t\tid: TOGGLE_DIFF_IGNORE_TRIM_WHITESPACE,\n\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\twhen: undefined,\n\t\tprimary: undefined,\n\t\thandler: (accessor, ...args) => toggleDiffIgnoreTrimWhitespace(accessor, args)\n\t});\n\n\tKeybindingsRegistry.registerCommandAndKeybindingRule({\n\t\tid: DIFF_SWAP_SIDES,\n\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\twhen: undefined,\n\t\tprimary: undefined,\n\t\thandler: (accessor, ...args) => swapDiffSides(accessor, args)\n\t});\n\n\tMenuRegistry.appendMenuItem(MenuId.CommandPalette, {\n\t\tcommand: {\n\t\t\tid: TOGGLE_DIFF_SIDE_BY_SIDE,\n\t\t\ttitle: localize2('toggleInlineView', \"Toggle Inline View\"),\n\t\t\tcategory: localize('compare', \"Compare\")\n\t\t},\n\t\twhen: TextCompareEditorActiveContext\n\t});\n\n\tMenuRegistry.appendMenuItem(MenuId.CommandPalette, {\n\t\tcommand: {\n\t\t\tid: DIFF_SWAP_SIDES,\n\t\t\ttitle: localize2('swapDiffSides', \"Swap Left and Right Editor Side\"),\n\t\t\tcategory: localize('compare', \"Compare\")\n\t\t},\n\t\twhen: ContextKeyExpr.and(TextCompareEditorActiveContext, ActiveCompareEditorCanSwapContext)\n\t});\n}\n"]}