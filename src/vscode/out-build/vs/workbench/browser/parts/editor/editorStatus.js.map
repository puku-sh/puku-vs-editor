{"version":3,"sources":["vs/workbench/browser/parts/editor/editorStatus.ts"],"names":[],"mappings":"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","file":"editorStatus.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport './media/editorstatus.css';\nimport { localize, localize2 } from '../../../../nls.js';\nimport { getWindowById, runAtThisOrScheduleAtNextAnimationFrame } from '../../../../base/browser/dom.js';\nimport { format, compare, splitLines } from '../../../../base/common/strings.js';\nimport { extname, basename, isEqual } from '../../../../base/common/resources.js';\nimport { areFunctions, assertReturnsDefined } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { Action } from '../../../../base/common/actions.js';\nimport { Language } from '../../../../base/common/platform.js';\nimport { UntitledTextEditorInput } from '../../../services/untitled/common/untitledTextEditorInput.js';\nimport { IFileEditorInput, EditorResourceAccessor, IEditorPane, SideBySideEditor } from '../../../common/editor.js';\nimport { EditorInput } from '../../../common/editor/editorInput.js';\nimport { Disposable, MutableDisposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { IEditorAction } from '../../../../editor/common/editorCommon.js';\nimport { EndOfLineSequence } from '../../../../editor/common/model.js';\nimport { TrimTrailingWhitespaceAction } from '../../../../editor/contrib/linesOperations/browser/linesOperations.js';\nimport { IndentUsingSpaces, IndentUsingTabs, ChangeTabDisplaySize, DetectIndentation, IndentationToSpacesAction, IndentationToTabsAction } from '../../../../editor/contrib/indentation/browser/indentation.js';\nimport { BaseBinaryResourceEditor } from './binaryEditor.js';\nimport { BinaryResourceDiffEditor } from './binaryDiffEditor.js';\nimport { IEditorService } from '../../../services/editor/common/editorService.js';\nimport { IFileService, FILES_ASSOCIATIONS_CONFIG } from '../../../../platform/files/common/files.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { ILanguageService, ILanguageSelection } from '../../../../editor/common/languages/language.js';\nimport { Range } from '../../../../editor/common/core/range.js';\nimport { Selection } from '../../../../editor/common/core/selection.js';\nimport { ICommandService, CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nimport { IExtensionGalleryService } from '../../../../platform/extensionManagement/common/extensionManagement.js';\nimport { EncodingMode, IEncodingSupport, ILanguageSupport, ITextFileService } from '../../../services/textfile/common/textfiles.js';\nimport { SUPPORTED_ENCODINGS } from '../../../services/textfile/common/encoding.js';\nimport { ConfigurationChangedEvent, EditorOption } from '../../../../editor/common/config/editorOptions.js';\nimport { ITextResourceConfigurationService } from '../../../../editor/common/services/textResourceConfiguration.js';\nimport { ConfigurationTarget, IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { deepClone } from '../../../../base/common/objects.js';\nimport { ICodeEditor, getCodeEditor } from '../../../../editor/browser/editorBrowser.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport { IPreferencesService } from '../../../services/preferences/common/preferences.js';\nimport { IQuickInputService, IQuickPickItem, QuickPickInput } from '../../../../platform/quickinput/common/quickInput.js';\nimport { getIconClassesForLanguageId } from '../../../../editor/common/services/getIconClasses.js';\nimport { Promises, timeout } from '../../../../base/common/async.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { IWorkbenchContribution } from '../../../common/contributions.js';\nimport { IStatusbarEntryAccessor, IStatusbarService, StatusbarAlignment, IStatusbarEntry } from '../../../services/statusbar/browser/statusbar.js';\nimport { IMarker, IMarkerService, MarkerSeverity, IMarkerData } from '../../../../platform/markers/common/markers.js';\nimport { ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nimport { SideBySideEditorInput } from '../../../common/editor/sideBySideEditorInput.js';\nimport { AutomaticLanguageDetectionLikelyWrongClassification, AutomaticLanguageDetectionLikelyWrongId, IAutomaticLanguageDetectionLikelyWrongData, ILanguageDetectionService } from '../../../services/languageDetection/common/languageDetectionWorkerService.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { Action2 } from '../../../../platform/actions/common/actions.js';\nimport { ServicesAccessor } from '../../../../editor/browser/editorExtensions.js';\nimport { KeybindingWeight } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { KeyChord, KeyCode, KeyMod } from '../../../../base/common/keyCodes.js';\nimport { TabFocus } from '../../../../editor/browser/config/tabFocus.js';\nimport { IEditorGroupsService, IEditorPart } from '../../../services/editor/common/editorGroupsService.js';\nimport { InputMode } from '../../../../editor/common/inputMode.js';\nimport { IDialogService } from '../../../../platform/dialogs/common/dialogs.js';\n\nclass SideBySideEditorEncodingSupport implements IEncodingSupport {\n\tconstructor(private primary: IEncodingSupport, private secondary: IEncodingSupport) { }\n\n\tgetEncoding(): string | undefined {\n\t\treturn this.primary.getEncoding(); // always report from modified (right hand) side\n\t}\n\n\tasync setEncoding(encoding: string, mode: EncodingMode): Promise<void> {\n\t\tawait Promises.settled([this.primary, this.secondary].map(editor => editor.setEncoding(encoding, mode)));\n\t}\n}\n\nclass SideBySideEditorLanguageSupport implements ILanguageSupport {\n\n\tconstructor(private primary: ILanguageSupport, private secondary: ILanguageSupport) { }\n\n\tsetLanguageId(languageId: string, source?: string): void {\n\t\t[this.primary, this.secondary].forEach(editor => editor.setLanguageId(languageId, source));\n\t}\n}\n\nfunction toEditorWithEncodingSupport(input: EditorInput): IEncodingSupport | null {\n\n\t// Untitled Text Editor\n\tif (input instanceof UntitledTextEditorInput) {\n\t\treturn input;\n\t}\n\n\t// Side by Side (diff) Editor\n\tif (input instanceof SideBySideEditorInput) {\n\t\tconst primaryEncodingSupport = toEditorWithEncodingSupport(input.primary);\n\t\tconst secondaryEncodingSupport = toEditorWithEncodingSupport(input.secondary);\n\n\t\tif (primaryEncodingSupport && secondaryEncodingSupport) {\n\t\t\treturn new SideBySideEditorEncodingSupport(primaryEncodingSupport, secondaryEncodingSupport);\n\t\t}\n\n\t\treturn primaryEncodingSupport;\n\t}\n\n\t// File or Resource Editor\n\tconst encodingSupport = input as IFileEditorInput;\n\tif (areFunctions(encodingSupport.setEncoding, encodingSupport.getEncoding)) {\n\t\treturn encodingSupport;\n\t}\n\n\t// Unsupported for any other editor\n\treturn null;\n}\n\nfunction toEditorWithLanguageSupport(input: EditorInput): ILanguageSupport | null {\n\n\t// Untitled Text Editor\n\tif (input instanceof UntitledTextEditorInput) {\n\t\treturn input;\n\t}\n\n\t// Side by Side (diff) Editor\n\tif (input instanceof SideBySideEditorInput) {\n\t\tconst primaryLanguageSupport = toEditorWithLanguageSupport(input.primary);\n\t\tconst secondaryLanguageSupport = toEditorWithLanguageSupport(input.secondary);\n\n\t\tif (primaryLanguageSupport && secondaryLanguageSupport) {\n\t\t\treturn new SideBySideEditorLanguageSupport(primaryLanguageSupport, secondaryLanguageSupport);\n\t\t}\n\n\t\treturn primaryLanguageSupport;\n\t}\n\n\t// File or Resource Editor\n\tconst languageSupport = input as IFileEditorInput;\n\tif (typeof languageSupport.setLanguageId === 'function') {\n\t\treturn languageSupport;\n\t}\n\n\t// Unsupported for any other editor\n\treturn null;\n}\n\ninterface IEditorSelectionStatus {\n\tselections?: Selection[];\n\tcharactersSelected?: number;\n}\n\nclass StateChange {\n\tindentation: boolean = false;\n\tselectionStatus: boolean = false;\n\tlanguageId: boolean = false;\n\tlanguageStatus: boolean = false;\n\tencoding: boolean = false;\n\tEOL: boolean = false;\n\ttabFocusMode: boolean = false;\n\tinputMode: boolean = false;\n\tcolumnSelectionMode: boolean = false;\n\tmetadata: boolean = false;\n\n\tcombine(other: StateChange) {\n\t\tthis.indentation = this.indentation || other.indentation;\n\t\tthis.selectionStatus = this.selectionStatus || other.selectionStatus;\n\t\tthis.languageId = this.languageId || other.languageId;\n\t\tthis.languageStatus = this.languageStatus || other.languageStatus;\n\t\tthis.encoding = this.encoding || other.encoding;\n\t\tthis.EOL = this.EOL || other.EOL;\n\t\tthis.tabFocusMode = this.tabFocusMode || other.tabFocusMode;\n\t\tthis.inputMode = this.inputMode || other.inputMode;\n\t\tthis.columnSelectionMode = this.columnSelectionMode || other.columnSelectionMode;\n\t\tthis.metadata = this.metadata || other.metadata;\n\t}\n\n\thasChanges(): boolean {\n\t\treturn this.indentation\n\t\t\t|| this.selectionStatus\n\t\t\t|| this.languageId\n\t\t\t|| this.languageStatus\n\t\t\t|| this.encoding\n\t\t\t|| this.EOL\n\t\t\t|| this.tabFocusMode\n\t\t\t|| this.inputMode\n\t\t\t|| this.columnSelectionMode\n\t\t\t|| this.metadata;\n\t}\n}\n\ntype StateDelta = (\n\t{ type: 'selectionStatus'; selectionStatus: string | undefined }\n\t| { type: 'languageId'; languageId: string | undefined }\n\t| { type: 'encoding'; encoding: string | undefined }\n\t| { type: 'EOL'; EOL: string | undefined }\n\t| { type: 'indentation'; indentation: string | undefined }\n\t| { type: 'tabFocusMode'; tabFocusMode: boolean }\n\t| { type: 'columnSelectionMode'; columnSelectionMode: boolean }\n\t| { type: 'metadata'; metadata: string | undefined }\n\t| { type: 'inputMode'; inputMode: 'overtype' | 'insert' }\n);\n\nclass State {\n\n\tprivate _selectionStatus: string | undefined;\n\tget selectionStatus(): string | undefined { return this._selectionStatus; }\n\n\tprivate _languageId: string | undefined;\n\tget languageId(): string | undefined { return this._languageId; }\n\n\tprivate _encoding: string | undefined;\n\tget encoding(): string | undefined { return this._encoding; }\n\n\tprivate _EOL: string | undefined;\n\tget EOL(): string | undefined { return this._EOL; }\n\n\tprivate _indentation: string | undefined;\n\tget indentation(): string | undefined { return this._indentation; }\n\n\tprivate _tabFocusMode: boolean | undefined;\n\tget tabFocusMode(): boolean | undefined { return this._tabFocusMode; }\n\n\tprivate _inputMode: 'overtype' | 'insert' | undefined;\n\tget inputMode(): 'overtype' | 'insert' | undefined { return this._inputMode; }\n\n\tprivate _columnSelectionMode: boolean | undefined;\n\tget columnSelectionMode(): boolean | undefined { return this._columnSelectionMode; }\n\n\tprivate _metadata: string | undefined;\n\tget metadata(): string | undefined { return this._metadata; }\n\n\tupdate(update: StateDelta): StateChange {\n\t\tconst change = new StateChange();\n\n\t\tswitch (update.type) {\n\t\t\tcase 'selectionStatus':\n\t\t\t\tif (this._selectionStatus !== update.selectionStatus) {\n\t\t\t\t\tthis._selectionStatus = update.selectionStatus;\n\t\t\t\t\tchange.selectionStatus = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'indentation':\n\t\t\t\tif (this._indentation !== update.indentation) {\n\t\t\t\t\tthis._indentation = update.indentation;\n\t\t\t\t\tchange.indentation = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'languageId':\n\t\t\t\tif (this._languageId !== update.languageId) {\n\t\t\t\t\tthis._languageId = update.languageId;\n\t\t\t\t\tchange.languageId = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'encoding':\n\t\t\t\tif (this._encoding !== update.encoding) {\n\t\t\t\t\tthis._encoding = update.encoding;\n\t\t\t\t\tchange.encoding = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'EOL':\n\t\t\t\tif (this._EOL !== update.EOL) {\n\t\t\t\t\tthis._EOL = update.EOL;\n\t\t\t\t\tchange.EOL = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'tabFocusMode':\n\t\t\t\tif (this._tabFocusMode !== update.tabFocusMode) {\n\t\t\t\t\tthis._tabFocusMode = update.tabFocusMode;\n\t\t\t\t\tchange.tabFocusMode = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'inputMode':\n\t\t\t\tif (this._inputMode !== update.inputMode) {\n\t\t\t\t\tthis._inputMode = update.inputMode;\n\t\t\t\t\tchange.inputMode = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'columnSelectionMode':\n\t\t\t\tif (this._columnSelectionMode !== update.columnSelectionMode) {\n\t\t\t\t\tthis._columnSelectionMode = update.columnSelectionMode;\n\t\t\t\t\tchange.columnSelectionMode = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'metadata':\n\t\t\t\tif (this._metadata !== update.metadata) {\n\t\t\t\t\tthis._metadata = update.metadata;\n\t\t\t\t\tchange.metadata = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn change;\n\t}\n}\n\nclass TabFocusMode extends Disposable {\n\n\tprivate readonly _onDidChange = this._register(new Emitter<boolean>());\n\treadonly onDidChange = this._onDidChange.event;\n\n\tconstructor(@IConfigurationService private readonly configurationService: IConfigurationService) {\n\t\tsuper();\n\n\t\tthis.registerListeners();\n\n\t\tconst tabFocusModeConfig = configurationService.getValue<boolean>('editor.tabFocusMode') === true;\n\t\tTabFocus.setTabFocusMode(tabFocusModeConfig);\n\t}\n\n\tprivate registerListeners(): void {\n\t\tthis._register(TabFocus.onDidChangeTabFocus(tabFocusMode => this._onDidChange.fire(tabFocusMode)));\n\n\t\tthis._register(this.configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration('editor.tabFocusMode')) {\n\t\t\t\tconst tabFocusModeConfig = this.configurationService.getValue<boolean>('editor.tabFocusMode') === true;\n\t\t\t\tTabFocus.setTabFocusMode(tabFocusModeConfig);\n\n\t\t\t\tthis._onDidChange.fire(tabFocusModeConfig);\n\t\t\t}\n\t\t}));\n\t}\n}\n\nclass StatusInputMode extends Disposable {\n\n\tprivate readonly _onDidChange = this._register(new Emitter<'overtype' | 'insert'>());\n\tpublic readonly onDidChange = this._onDidChange.event;\n\n\tconstructor() {\n\t\tsuper();\n\t\tInputMode.setInputMode('insert');\n\t\tthis._register(InputMode.onDidChangeInputMode(inputMode => this._onDidChange.fire(inputMode)));\n\t}\n}\n\nconst nlsSingleSelectionRange = localize('singleSelectionRange', \"Ln {0}, Col {1} ({2} selected)\");\nconst nlsSingleSelection = localize('singleSelection', \"Ln {0}, Col {1}\");\nconst nlsMultiSelectionRange = localize('multiSelectionRange', \"{0} selections ({1} characters selected)\");\nconst nlsMultiSelection = localize('multiSelection', \"{0} selections\");\nconst nlsEOLLF = localize('endOfLineLineFeed', \"LF\");\nconst nlsEOLCRLF = localize('endOfLineCarriageReturnLineFeed', \"CRLF\");\n\nclass EditorStatus extends Disposable {\n\n\tprivate readonly tabFocusModeElement = this._register(new MutableDisposable<IStatusbarEntryAccessor>());\n\tprivate readonly inputModeElement = this._register(new MutableDisposable<IStatusbarEntryAccessor>());\n\tprivate readonly columnSelectionModeElement = this._register(new MutableDisposable<IStatusbarEntryAccessor>());\n\tprivate readonly indentationElement = this._register(new MutableDisposable<IStatusbarEntryAccessor>());\n\tprivate readonly selectionElement = this._register(new MutableDisposable<IStatusbarEntryAccessor>());\n\tprivate readonly encodingElement = this._register(new MutableDisposable<IStatusbarEntryAccessor>());\n\tprivate readonly eolElement = this._register(new MutableDisposable<IStatusbarEntryAccessor>());\n\tprivate readonly languageElement = this._register(new MutableDisposable<IStatusbarEntryAccessor>());\n\tprivate readonly metadataElement = this._register(new MutableDisposable<IStatusbarEntryAccessor>());\n\n\tprivate readonly currentMarkerStatus: ShowCurrentMarkerInStatusbarContribution;\n\tprivate readonly tabFocusMode: TabFocusMode;\n\tprivate readonly inputMode: StatusInputMode;\n\n\tprivate readonly state = new State();\n\tprivate toRender: StateChange | undefined = undefined;\n\n\tprivate readonly activeEditorListeners = this._register(new DisposableStore());\n\tprivate readonly delayedRender = this._register(new MutableDisposable());\n\n\tconstructor(\n\t\tprivate readonly targetWindowId: number,\n\t\t@IEditorService private readonly editorService: IEditorService,\n\t\t@IQuickInputService private readonly quickInputService: IQuickInputService,\n\t\t@ILanguageService private readonly languageService: ILanguageService,\n\t\t@ITextFileService private readonly textFileService: ITextFileService,\n\t\t@IStatusbarService private readonly statusbarService: IStatusbarService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService\n\t) {\n\t\tsuper();\n\n\t\tthis.currentMarkerStatus = this._register(instantiationService.createInstance(ShowCurrentMarkerInStatusbarContribution));\n\t\tthis.tabFocusMode = this._register(instantiationService.createInstance(TabFocusMode));\n\t\tthis.inputMode = this._register(instantiationService.createInstance(StatusInputMode));\n\n\t\tthis.registerCommands();\n\t\tthis.registerListeners();\n\t}\n\n\tprivate registerListeners(): void {\n\t\tthis._register(this.editorService.onDidActiveEditorChange(() => this.updateStatusBar()));\n\t\tthis._register(this.textFileService.untitled.onDidChangeEncoding(model => this.onResourceEncodingChange(model.resource)));\n\t\tthis._register(this.textFileService.files.onDidChangeEncoding(model => this.onResourceEncodingChange((model.resource))));\n\t\tthis._register(Event.runAndSubscribe(this.tabFocusMode.onDidChange, (tabFocusMode) => {\n\t\t\tif (tabFocusMode !== undefined) {\n\t\t\t\tthis.onTabFocusModeChange(tabFocusMode);\n\t\t\t} else {\n\t\t\t\tthis.onTabFocusModeChange(this.configurationService.getValue('editor.tabFocusMode'));\n\t\t\t}\n\t\t}));\n\t\tthis._register(Event.runAndSubscribe(this.inputMode.onDidChange, (inputMode) => this.onInputModeChange(inputMode ?? 'insert')));\n\t}\n\n\tprivate registerCommands(): void {\n\t\tthis._register(CommandsRegistry.registerCommand({ id: `changeEditorIndentation${this.targetWindowId}`, handler: () => this.showIndentationPicker() }));\n\t}\n\n\tprivate async showIndentationPicker(): Promise<unknown> {\n\t\tconst activeTextEditorControl = getCodeEditor(this.editorService.activeTextEditorControl);\n\t\tif (!activeTextEditorControl) {\n\t\t\treturn this.quickInputService.pick([{ label: localize('noEditor', \"No text editor active at this time\") }]);\n\t\t}\n\n\t\tif (this.editorService.activeEditor?.isReadonly()) {\n\t\t\treturn this.quickInputService.pick([{ label: localize('noWritableCodeEditor', \"The active code editor is read-only.\") }]);\n\t\t}\n\n\t\tconst picks: QuickPickInput<IQuickPickItem & { run(): void }>[] = [\n\t\t\tassertReturnsDefined(activeTextEditorControl.getAction(IndentUsingSpaces.ID)),\n\t\t\tassertReturnsDefined(activeTextEditorControl.getAction(IndentUsingTabs.ID)),\n\t\t\tassertReturnsDefined(activeTextEditorControl.getAction(ChangeTabDisplaySize.ID)),\n\t\t\tassertReturnsDefined(activeTextEditorControl.getAction(DetectIndentation.ID)),\n\t\t\tassertReturnsDefined(activeTextEditorControl.getAction(IndentationToSpacesAction.ID)),\n\t\t\tassertReturnsDefined(activeTextEditorControl.getAction(IndentationToTabsAction.ID)),\n\t\t\tassertReturnsDefined(activeTextEditorControl.getAction(TrimTrailingWhitespaceAction.ID))\n\t\t].map((a: IEditorAction) => {\n\t\t\treturn {\n\t\t\t\tid: a.id,\n\t\t\t\tlabel: a.label,\n\t\t\t\tdetail: (Language.isDefaultVariant() || a.label === a.alias) ? undefined : a.alias,\n\t\t\t\trun: () => {\n\t\t\t\t\tactiveTextEditorControl.focus();\n\t\t\t\t\ta.run();\n\t\t\t\t}\n\t\t\t};\n\t\t});\n\n\t\tpicks.splice(3, 0, { type: 'separator', label: localize('indentConvert', \"convert file\") });\n\t\tpicks.unshift({ type: 'separator', label: localize('indentView', \"change view\") });\n\n\t\tconst action = await this.quickInputService.pick(picks, { placeHolder: localize('pickAction', \"Select Action\"), matchOnDetail: true });\n\t\treturn action?.run();\n\t}\n\n\tprivate updateTabFocusModeElement(visible: boolean): void {\n\t\tif (visible) {\n\t\t\tif (!this.tabFocusModeElement.value) {\n\t\t\t\tconst text = localize('tabFocusModeEnabled', \"Tab Moves Focus\");\n\t\t\t\tthis.tabFocusModeElement.value = this.statusbarService.addEntry({\n\t\t\t\t\tname: localize('status.editor.tabFocusMode', \"Accessibility Mode\"),\n\t\t\t\t\ttext,\n\t\t\t\t\tariaLabel: text,\n\t\t\t\t\ttooltip: localize('disableTabMode', \"Disable Accessibility Mode\"),\n\t\t\t\t\tcommand: 'editor.action.toggleTabFocusMode',\n\t\t\t\t\tkind: 'prominent'\n\t\t\t\t}, 'status.editor.tabFocusMode', StatusbarAlignment.RIGHT, 100.7);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.tabFocusModeElement.clear();\n\t\t}\n\t}\n\n\tprivate updateInputModeElement(inputMode: 'overtype' | 'insert' | undefined): void {\n\t\tif (inputMode === 'overtype') {\n\t\t\tif (!this.inputModeElement.value) {\n\t\t\t\tconst text = localize('inputModeOvertype', 'OVR');\n\t\t\t\tconst name = localize('status.editor.enableInsertMode', \"Enable Insert Mode\");\n\t\t\t\tthis.inputModeElement.value = this.statusbarService.addEntry({\n\t\t\t\t\tname,\n\t\t\t\t\ttext,\n\t\t\t\t\tariaLabel: text,\n\t\t\t\t\ttooltip: name,\n\t\t\t\t\tcommand: 'editor.action.toggleOvertypeInsertMode',\n\t\t\t\t\tkind: 'prominent'\n\t\t\t\t}, 'status.editor.inputMode', StatusbarAlignment.RIGHT, 100.6);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.inputModeElement.clear();\n\t\t}\n\t}\n\n\tprivate updateColumnSelectionModeElement(visible: boolean): void {\n\t\tif (visible) {\n\t\t\tif (!this.columnSelectionModeElement.value) {\n\t\t\t\tconst text = localize('columnSelectionModeEnabled', \"Column Selection\");\n\t\t\t\tthis.columnSelectionModeElement.value = this.statusbarService.addEntry({\n\t\t\t\t\tname: localize('status.editor.columnSelectionMode', \"Column Selection Mode\"),\n\t\t\t\t\ttext,\n\t\t\t\t\tariaLabel: text,\n\t\t\t\t\ttooltip: localize('disableColumnSelectionMode', \"Disable Column Selection Mode\"),\n\t\t\t\t\tcommand: 'editor.action.toggleColumnSelection',\n\t\t\t\t\tkind: 'prominent'\n\t\t\t\t}, 'status.editor.columnSelectionMode', StatusbarAlignment.RIGHT, 100.8);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.columnSelectionModeElement.clear();\n\t\t}\n\t}\n\n\tprivate updateSelectionElement(text: string | undefined): void {\n\t\tif (!text) {\n\t\t\tthis.selectionElement.clear();\n\t\t\treturn;\n\t\t}\n\n\t\tconst editorURI = getCodeEditor(this.editorService.activeTextEditorControl)?.getModel()?.uri;\n\t\tif (editorURI?.scheme === Schemas.vscodeNotebookCell) {\n\t\t\tthis.selectionElement.clear();\n\t\t\treturn;\n\t\t}\n\n\t\tconst props: IStatusbarEntry = {\n\t\t\tname: localize('status.editor.selection', \"Editor Selection\"),\n\t\t\ttext,\n\t\t\tariaLabel: text,\n\t\t\ttooltip: localize('gotoLine', \"Go to Line/Column\"),\n\t\t\tcommand: 'workbench.action.gotoLine'\n\t\t};\n\n\t\tthis.updateElement(this.selectionElement, props, 'status.editor.selection', StatusbarAlignment.RIGHT, 100.5);\n\t}\n\n\tprivate updateIndentationElement(text: string | undefined): void {\n\t\tif (!text) {\n\t\t\tthis.indentationElement.clear();\n\t\t\treturn;\n\t\t}\n\n\t\tconst editorURI = getCodeEditor(this.editorService.activeTextEditorControl)?.getModel()?.uri;\n\t\tif (editorURI?.scheme === Schemas.vscodeNotebookCell) {\n\t\t\tthis.indentationElement.clear();\n\t\t\treturn;\n\t\t}\n\n\t\tconst props: IStatusbarEntry = {\n\t\t\tname: localize('status.editor.indentation', \"Editor Indentation\"),\n\t\t\ttext,\n\t\t\tariaLabel: text,\n\t\t\ttooltip: localize('selectIndentation', \"Select Indentation\"),\n\t\t\tcommand: `changeEditorIndentation${this.targetWindowId}`\n\t\t};\n\n\t\tthis.updateElement(this.indentationElement, props, 'status.editor.indentation', StatusbarAlignment.RIGHT, 100.4);\n\t}\n\n\tprivate updateEncodingElement(text: string | undefined): void {\n\t\tif (!text) {\n\t\t\tthis.encodingElement.clear();\n\t\t\treturn;\n\t\t}\n\n\t\tconst props: IStatusbarEntry = {\n\t\t\tname: localize('status.editor.encoding', \"Editor Encoding\"),\n\t\t\ttext,\n\t\t\tariaLabel: text,\n\t\t\ttooltip: localize('selectEncoding', \"Select Encoding\"),\n\t\t\tcommand: 'workbench.action.editor.changeEncoding'\n\t\t};\n\n\t\tthis.updateElement(this.encodingElement, props, 'status.editor.encoding', StatusbarAlignment.RIGHT, 100.3);\n\t}\n\n\tprivate updateEOLElement(text: string | undefined): void {\n\t\tif (!text) {\n\t\t\tthis.eolElement.clear();\n\t\t\treturn;\n\t\t}\n\n\t\tconst props: IStatusbarEntry = {\n\t\t\tname: localize('status.editor.eol', \"Editor End of Line\"),\n\t\t\ttext,\n\t\t\tariaLabel: text,\n\t\t\ttooltip: localize('selectEOL', \"Select End of Line Sequence\"),\n\t\t\tcommand: 'workbench.action.editor.changeEOL'\n\t\t};\n\n\t\tthis.updateElement(this.eolElement, props, 'status.editor.eol', StatusbarAlignment.RIGHT, 100.2);\n\t}\n\n\tprivate updateLanguageIdElement(text: string | undefined): void {\n\t\tif (!text) {\n\t\t\tthis.languageElement.clear();\n\t\t\treturn;\n\t\t}\n\n\t\tconst props: IStatusbarEntry = {\n\t\t\tname: localize('status.editor.mode', \"Editor Language\"),\n\t\t\ttext,\n\t\t\tariaLabel: text,\n\t\t\ttooltip: localize('selectLanguageMode', \"Select Language Mode\"),\n\t\t\tcommand: 'workbench.action.editor.changeLanguageMode'\n\t\t};\n\n\t\tthis.updateElement(this.languageElement, props, 'status.editor.mode', StatusbarAlignment.RIGHT, 100.1);\n\t}\n\n\tprivate updateMetadataElement(text: string | undefined): void {\n\t\tif (!text) {\n\t\t\tthis.metadataElement.clear();\n\t\t\treturn;\n\t\t}\n\n\t\tconst props: IStatusbarEntry = {\n\t\t\tname: localize('status.editor.info', \"File Information\"),\n\t\t\ttext,\n\t\t\tariaLabel: text,\n\t\t\ttooltip: localize('fileInfo', \"File Information\")\n\t\t};\n\n\t\tthis.updateElement(this.metadataElement, props, 'status.editor.info', StatusbarAlignment.RIGHT, 100);\n\t}\n\n\tprivate updateElement(element: MutableDisposable<IStatusbarEntryAccessor>, props: IStatusbarEntry, id: string, alignment: StatusbarAlignment, priority: number) {\n\t\tif (!element.value) {\n\t\t\telement.value = this.statusbarService.addEntry(props, id, alignment, priority);\n\t\t} else {\n\t\t\telement.value.update(props);\n\t\t}\n\t}\n\n\tprivate updateState(update: StateDelta): void {\n\t\tconst changed = this.state.update(update);\n\t\tif (!changed.hasChanges()) {\n\t\t\treturn; // Nothing really changed\n\t\t}\n\n\t\tif (!this.toRender) {\n\t\t\tthis.toRender = changed;\n\n\t\t\tthis.delayedRender.value = runAtThisOrScheduleAtNextAnimationFrame(getWindowById(this.targetWindowId, true).window, () => {\n\t\t\t\tthis.delayedRender.clear();\n\n\t\t\t\tconst toRender = this.toRender;\n\t\t\t\tthis.toRender = undefined;\n\t\t\t\tif (toRender) {\n\t\t\t\t\tthis.doRenderNow();\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tthis.toRender.combine(changed);\n\t\t}\n\t}\n\n\tprivate doRenderNow(): void {\n\t\tthis.updateTabFocusModeElement(!!this.state.tabFocusMode);\n\t\tthis.updateInputModeElement(this.state.inputMode);\n\t\tthis.updateColumnSelectionModeElement(!!this.state.columnSelectionMode);\n\t\tthis.updateIndentationElement(this.state.indentation);\n\t\tthis.updateSelectionElement(this.state.selectionStatus);\n\t\tthis.updateEncodingElement(this.state.encoding);\n\t\tthis.updateEOLElement(this.state.EOL ? this.state.EOL === '\\r\\n' ? nlsEOLCRLF : nlsEOLLF : undefined);\n\t\tthis.updateLanguageIdElement(this.state.languageId);\n\t\tthis.updateMetadataElement(this.state.metadata);\n\t}\n\n\tprivate getSelectionLabel(info: IEditorSelectionStatus): string | undefined {\n\t\tif (!info?.selections) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (info.selections.length === 1) {\n\t\t\tif (info.charactersSelected) {\n\t\t\t\treturn format(nlsSingleSelectionRange, info.selections[0].positionLineNumber, info.selections[0].positionColumn, info.charactersSelected);\n\t\t\t}\n\n\t\t\treturn format(nlsSingleSelection, info.selections[0].positionLineNumber, info.selections[0].positionColumn);\n\t\t}\n\n\t\tif (info.charactersSelected) {\n\t\t\treturn format(nlsMultiSelectionRange, info.selections.length, info.charactersSelected);\n\t\t}\n\n\t\tif (info.selections.length > 0) {\n\t\t\treturn format(nlsMultiSelection, info.selections.length);\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\tprivate updateStatusBar(): void {\n\t\tconst activeInput = this.editorService.activeEditor;\n\t\tconst activeEditorPane = this.editorService.activeEditorPane;\n\t\tconst activeCodeEditor = activeEditorPane ? getCodeEditor(activeEditorPane.getControl()) ?? undefined : undefined;\n\n\t\t// Update all states\n\t\tthis.onColumnSelectionModeChange(activeCodeEditor);\n\t\tthis.onSelectionChange(activeCodeEditor);\n\t\tthis.onLanguageChange(activeCodeEditor, activeInput);\n\t\tthis.onEOLChange(activeCodeEditor);\n\t\tthis.onEncodingChange(activeEditorPane, activeCodeEditor);\n\t\tthis.onIndentationChange(activeCodeEditor);\n\t\tthis.onMetadataChange(activeEditorPane);\n\t\tthis.currentMarkerStatus.update(activeCodeEditor);\n\n\t\t// Dispose old active editor listeners\n\t\tthis.activeEditorListeners.clear();\n\n\t\t// Attach new listeners to active editor\n\t\tif (activeEditorPane) {\n\t\t\tthis.activeEditorListeners.add(activeEditorPane.onDidChangeControl(() => {\n\t\t\t\t// Since our editor status is mainly observing the\n\t\t\t\t// active editor control, do a full update whenever\n\t\t\t\t// the control changes.\n\t\t\t\tthis.updateStatusBar();\n\t\t\t}));\n\t\t}\n\n\t\t// Attach new listeners to active code editor\n\t\tif (activeCodeEditor) {\n\n\t\t\t// Hook Listener for Configuration changes\n\t\t\tthis.activeEditorListeners.add(activeCodeEditor.onDidChangeConfiguration((event: ConfigurationChangedEvent) => {\n\t\t\t\tif (event.hasChanged(EditorOption.columnSelection)) {\n\t\t\t\t\tthis.onColumnSelectionModeChange(activeCodeEditor);\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\t// Hook Listener for Selection changes\n\t\t\tthis.activeEditorListeners.add(Event.defer(activeCodeEditor.onDidChangeCursorPosition)(() => {\n\t\t\t\tthis.onSelectionChange(activeCodeEditor);\n\t\t\t\tthis.currentMarkerStatus.update(activeCodeEditor);\n\t\t\t}));\n\n\t\t\t// Hook Listener for language changes\n\t\t\tthis.activeEditorListeners.add(activeCodeEditor.onDidChangeModelLanguage(() => {\n\t\t\t\tthis.onLanguageChange(activeCodeEditor, activeInput);\n\t\t\t}));\n\n\t\t\t// Hook Listener for content changes\n\t\t\tthis.activeEditorListeners.add(Event.accumulate(activeCodeEditor.onDidChangeModelContent)(e => {\n\t\t\t\tthis.onEOLChange(activeCodeEditor);\n\t\t\t\tthis.currentMarkerStatus.update(activeCodeEditor);\n\n\t\t\t\tconst selections = activeCodeEditor.getSelections();\n\t\t\t\tif (selections) {\n\t\t\t\t\tfor (const inner of e) {\n\t\t\t\t\t\tfor (const change of inner.changes) {\n\t\t\t\t\t\t\tif (selections.some(selection => Range.areIntersecting(selection, change.range))) {\n\t\t\t\t\t\t\t\tthis.onSelectionChange(activeCodeEditor);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}));\n\n\t\t\t// Hook Listener for content options changes\n\t\t\tthis.activeEditorListeners.add(activeCodeEditor.onDidChangeModelOptions(() => {\n\t\t\t\tthis.onIndentationChange(activeCodeEditor);\n\t\t\t}));\n\t\t}\n\n\t\t// Handle binary editors\n\t\telse if (activeEditorPane instanceof BaseBinaryResourceEditor || activeEditorPane instanceof BinaryResourceDiffEditor) {\n\t\t\tconst binaryEditors: BaseBinaryResourceEditor[] = [];\n\t\t\tif (activeEditorPane instanceof BinaryResourceDiffEditor) {\n\t\t\t\tconst primary = activeEditorPane.getPrimaryEditorPane();\n\t\t\t\tif (primary instanceof BaseBinaryResourceEditor) {\n\t\t\t\t\tbinaryEditors.push(primary);\n\t\t\t\t}\n\n\t\t\t\tconst secondary = activeEditorPane.getSecondaryEditorPane();\n\t\t\t\tif (secondary instanceof BaseBinaryResourceEditor) {\n\t\t\t\t\tbinaryEditors.push(secondary);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tbinaryEditors.push(activeEditorPane);\n\t\t\t}\n\n\t\t\tfor (const editor of binaryEditors) {\n\t\t\t\tthis.activeEditorListeners.add(editor.onDidChangeMetadata(() => {\n\t\t\t\t\tthis.onMetadataChange(activeEditorPane);\n\t\t\t\t}));\n\n\t\t\t\tthis.activeEditorListeners.add(editor.onDidOpenInPlace(() => {\n\t\t\t\t\tthis.updateStatusBar();\n\t\t\t\t}));\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate onLanguageChange(editorWidget: ICodeEditor | undefined, editorInput: EditorInput | undefined): void {\n\t\tconst info: StateDelta = { type: 'languageId', languageId: undefined };\n\n\t\t// We only support text based editors\n\t\tif (editorWidget && editorInput && toEditorWithLanguageSupport(editorInput)) {\n\t\t\tconst textModel = editorWidget.getModel();\n\t\t\tif (textModel) {\n\t\t\t\tconst languageId = textModel.getLanguageId();\n\t\t\t\tinfo.languageId = this.languageService.getLanguageName(languageId) ?? undefined;\n\t\t\t}\n\t\t}\n\n\t\tthis.updateState(info);\n\t}\n\n\tprivate onIndentationChange(editorWidget: ICodeEditor | undefined): void {\n\t\tconst update: StateDelta = { type: 'indentation', indentation: undefined };\n\n\t\tif (editorWidget) {\n\t\t\tconst model = editorWidget.getModel();\n\t\t\tif (model) {\n\t\t\t\tconst modelOpts = model.getOptions();\n\t\t\t\tupdate.indentation = (\n\t\t\t\t\tmodelOpts.insertSpaces\n\t\t\t\t\t\t? modelOpts.tabSize === modelOpts.indentSize\n\t\t\t\t\t\t\t? localize('spacesSize', \"Spaces: {0}\", modelOpts.indentSize)\n\t\t\t\t\t\t\t: localize('spacesAndTabsSize', \"Spaces: {0} (Tab Size: {1})\", modelOpts.indentSize, modelOpts.tabSize)\n\t\t\t\t\t\t: localize({ key: 'tabSize', comment: ['Tab corresponds to the tab key'] }, \"Tab Size: {0}\", modelOpts.tabSize)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tthis.updateState(update);\n\t}\n\n\tprivate onMetadataChange(editor: IEditorPane | undefined): void {\n\t\tconst update: StateDelta = { type: 'metadata', metadata: undefined };\n\n\t\tif (editor instanceof BaseBinaryResourceEditor || editor instanceof BinaryResourceDiffEditor) {\n\t\t\tupdate.metadata = editor.getMetadata();\n\t\t}\n\n\t\tthis.updateState(update);\n\t}\n\n\tprivate onColumnSelectionModeChange(editorWidget: ICodeEditor | undefined): void {\n\t\tconst info: StateDelta = { type: 'columnSelectionMode', columnSelectionMode: false };\n\n\t\tif (editorWidget?.getOption(EditorOption.columnSelection)) {\n\t\t\tinfo.columnSelectionMode = true;\n\t\t}\n\n\t\tthis.updateState(info);\n\t}\n\n\tprivate onSelectionChange(editorWidget: ICodeEditor | undefined): void {\n\t\tconst info: IEditorSelectionStatus = Object.create(null);\n\n\t\t// We only support text based editors\n\t\tif (editorWidget) {\n\n\t\t\t// Compute selection(s)\n\t\t\tinfo.selections = editorWidget.getSelections() || [];\n\n\t\t\t// Compute selection length\n\t\t\tinfo.charactersSelected = 0;\n\t\t\tconst textModel = editorWidget.getModel();\n\t\t\tif (textModel) {\n\t\t\t\tfor (const selection of info.selections) {\n\t\t\t\t\tif (typeof info.charactersSelected !== 'number') {\n\t\t\t\t\t\tinfo.charactersSelected = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tinfo.charactersSelected += textModel.getCharacterCountInRange(selection);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Compute the visible column for one selection. This will properly handle tabs and their configured widths\n\t\t\tif (info.selections.length === 1) {\n\t\t\t\tconst editorPosition = editorWidget.getPosition();\n\n\t\t\t\tconst selectionClone = new Selection(\n\t\t\t\t\tinfo.selections[0].selectionStartLineNumber,\n\t\t\t\t\tinfo.selections[0].selectionStartColumn,\n\t\t\t\t\tinfo.selections[0].positionLineNumber,\n\t\t\t\t\teditorPosition ? editorWidget.getStatusbarColumn(editorPosition) : info.selections[0].positionColumn\n\t\t\t\t);\n\n\t\t\t\tinfo.selections[0] = selectionClone;\n\t\t\t}\n\t\t}\n\n\t\tthis.updateState({ type: 'selectionStatus', selectionStatus: this.getSelectionLabel(info) });\n\t}\n\n\tprivate onEOLChange(editorWidget: ICodeEditor | undefined): void {\n\t\tconst info: StateDelta = { type: 'EOL', EOL: undefined };\n\n\t\tif (editorWidget && !editorWidget.getOption(EditorOption.readOnly)) {\n\t\t\tconst codeEditorModel = editorWidget.getModel();\n\t\t\tif (codeEditorModel) {\n\t\t\t\tinfo.EOL = codeEditorModel.getEOL();\n\t\t\t}\n\t\t}\n\n\t\tthis.updateState(info);\n\t}\n\n\tprivate onEncodingChange(editor: IEditorPane | undefined, editorWidget: ICodeEditor | undefined): void {\n\t\tif (editor && !this.isActiveEditor(editor)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst info: StateDelta = { type: 'encoding', encoding: undefined };\n\n\t\t// We only support text based editors that have a model associated\n\t\t// This ensures we do not show the encoding picker while an editor\n\t\t// is still loading.\n\t\tif (editor && editorWidget?.hasModel()) {\n\t\t\tconst encodingSupport: IEncodingSupport | null = editor.input ? toEditorWithEncodingSupport(editor.input) : null;\n\t\t\tif (encodingSupport) {\n\t\t\t\tconst rawEncoding = encodingSupport.getEncoding();\n\t\t\t\tconst encodingInfo = typeof rawEncoding === 'string' ? SUPPORTED_ENCODINGS[rawEncoding] : undefined;\n\t\t\t\tif (encodingInfo) {\n\t\t\t\t\tinfo.encoding = encodingInfo.labelShort; // if we have a label, take it from there\n\t\t\t\t} else {\n\t\t\t\t\tinfo.encoding = rawEncoding; // otherwise use it raw\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.updateState(info);\n\t}\n\n\tprivate onResourceEncodingChange(resource: URI): void {\n\t\tconst activeEditorPane = this.editorService.activeEditorPane;\n\t\tif (activeEditorPane) {\n\t\t\tconst activeResource = EditorResourceAccessor.getCanonicalUri(activeEditorPane.input, { supportSideBySide: SideBySideEditor.PRIMARY });\n\t\t\tif (activeResource && isEqual(activeResource, resource)) {\n\t\t\t\tconst activeCodeEditor = getCodeEditor(activeEditorPane.getControl()) ?? undefined;\n\n\t\t\t\treturn this.onEncodingChange(activeEditorPane, activeCodeEditor); // only update if the encoding changed for the active resource\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate onTabFocusModeChange(tabFocusMode: boolean): void {\n\t\tconst info: StateDelta = { type: 'tabFocusMode', tabFocusMode };\n\t\tthis.updateState(info);\n\t}\n\n\tprivate onInputModeChange(inputMode: 'insert' | 'overtype'): void {\n\t\tconst info: StateDelta = { type: 'inputMode', inputMode };\n\t\tthis.updateState(info);\n\t}\n\n\tprivate isActiveEditor(control: IEditorPane): boolean {\n\t\tconst activeEditorPane = this.editorService.activeEditorPane;\n\n\t\treturn !!activeEditorPane && activeEditorPane === control;\n\t}\n}\n\nexport class EditorStatusContribution extends Disposable implements IWorkbenchContribution {\n\n\tstatic readonly ID = 'workbench.contrib.editorStatus';\n\n\tconstructor(\n\t\t@IEditorGroupsService private readonly editorGroupService: IEditorGroupsService,\n\t) {\n\t\tsuper();\n\n\t\tfor (const part of editorGroupService.parts) {\n\t\t\tthis.createEditorStatus(part);\n\t\t}\n\n\t\tthis._register(editorGroupService.onDidCreateAuxiliaryEditorPart(part => this.createEditorStatus(part)));\n\t}\n\n\tprivate createEditorStatus(part: IEditorPart): void {\n\t\tconst disposables = new DisposableStore();\n\t\tEvent.once(part.onWillDispose)(() => disposables.dispose());\n\n\t\tconst scopedInstantiationService = this.editorGroupService.getScopedInstantiationService(part);\n\t\tdisposables.add(scopedInstantiationService.createInstance(EditorStatus, part.windowId));\n\t}\n}\n\nclass ShowCurrentMarkerInStatusbarContribution extends Disposable {\n\n\tprivate readonly statusBarEntryAccessor: MutableDisposable<IStatusbarEntryAccessor>;\n\tprivate editor: ICodeEditor | undefined = undefined;\n\tprivate markers: IMarker[] = [];\n\tprivate currentMarker: IMarker | null = null;\n\n\tconstructor(\n\t\t@IStatusbarService private readonly statusbarService: IStatusbarService,\n\t\t@IMarkerService private readonly markerService: IMarkerService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t) {\n\t\tsuper();\n\n\t\tthis.statusBarEntryAccessor = this._register(new MutableDisposable<IStatusbarEntryAccessor>());\n\n\t\tthis._register(markerService.onMarkerChanged(changedResources => this.onMarkerChanged(changedResources)));\n\t\tthis._register(Event.filter(configurationService.onDidChangeConfiguration, e => e.affectsConfiguration('problems.showCurrentInStatus'))(() => this.updateStatus()));\n\t}\n\n\tupdate(editor: ICodeEditor | undefined): void {\n\t\tthis.editor = editor;\n\n\t\tthis.updateMarkers();\n\t\tthis.updateStatus();\n\t}\n\n\tprivate updateStatus(): void {\n\t\tconst previousMarker = this.currentMarker;\n\t\tthis.currentMarker = this.getMarker();\n\t\tif (this.hasToUpdateStatus(previousMarker, this.currentMarker)) {\n\t\t\tif (this.currentMarker) {\n\t\t\t\tconst line = splitLines(this.currentMarker.message)[0];\n\t\t\t\tconst text = `${this.getType(this.currentMarker)} ${line}`;\n\t\t\t\tif (!this.statusBarEntryAccessor.value) {\n\t\t\t\t\tthis.statusBarEntryAccessor.value = this.statusbarService.addEntry({ name: localize('currentProblem', \"Current Problem\"), text, ariaLabel: text }, 'statusbar.currentProblem', StatusbarAlignment.LEFT);\n\t\t\t\t} else {\n\t\t\t\t\tthis.statusBarEntryAccessor.value.update({ name: localize('currentProblem', \"Current Problem\"), text, ariaLabel: text });\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.statusBarEntryAccessor.clear();\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate hasToUpdateStatus(previousMarker: IMarker | null, currentMarker: IMarker | null): boolean {\n\t\tif (!currentMarker) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (!previousMarker) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn IMarkerData.makeKey(previousMarker) !== IMarkerData.makeKey(currentMarker);\n\t}\n\n\tprivate getType(marker: IMarker): string {\n\t\tswitch (marker.severity) {\n\t\t\tcase MarkerSeverity.Error: return '$(error)';\n\t\t\tcase MarkerSeverity.Warning: return '$(warning)';\n\t\t\tcase MarkerSeverity.Info: return '$(info)';\n\t\t}\n\n\t\treturn '';\n\t}\n\n\tprivate getMarker(): IMarker | null {\n\t\tif (!this.configurationService.getValue<boolean>('problems.showCurrentInStatus')) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (!this.editor) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst model = this.editor.getModel();\n\t\tif (!model) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst position = this.editor.getPosition();\n\t\tif (!position) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this.markers.find(marker => Range.containsPosition(marker, position)) || null;\n\t}\n\n\tprivate onMarkerChanged(changedResources: readonly URI[]): void {\n\t\tif (!this.editor) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst model = this.editor.getModel();\n\t\tif (!model) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (model && !changedResources.some(r => isEqual(model.uri, r))) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.updateMarkers();\n\t}\n\n\tprivate updateMarkers(): void {\n\t\tif (!this.editor) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst model = this.editor.getModel();\n\t\tif (!model) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (model) {\n\t\t\tthis.markers = this.markerService.read({\n\t\t\t\tresource: model.uri,\n\t\t\t\tseverities: MarkerSeverity.Error | MarkerSeverity.Warning | MarkerSeverity.Info\n\t\t\t});\n\t\t\tthis.markers.sort(this.compareMarker);\n\t\t} else {\n\t\t\tthis.markers = [];\n\t\t}\n\n\t\tthis.updateStatus();\n\t}\n\n\tprivate compareMarker(a: IMarker, b: IMarker): number {\n\t\tlet res = compare(a.resource.toString(), b.resource.toString());\n\t\tif (res === 0) {\n\t\t\tres = MarkerSeverity.compare(a.severity, b.severity);\n\t\t}\n\n\t\tif (res === 0) {\n\t\t\tres = Range.compareRangesUsingStarts(a, b);\n\t\t}\n\n\t\treturn res;\n\t}\n}\n\nexport class ShowLanguageExtensionsAction extends Action {\n\n\tstatic readonly ID = 'workbench.action.showLanguageExtensions';\n\n\tconstructor(\n\t\tprivate fileExtension: string,\n\t\t@ICommandService private readonly commandService: ICommandService,\n\t\t@IExtensionGalleryService galleryService: IExtensionGalleryService\n\t) {\n\t\tsuper(ShowLanguageExtensionsAction.ID, localize('showLanguageExtensions', \"Search Marketplace Extensions for '{0}'...\", fileExtension));\n\n\t\tthis.enabled = galleryService.isEnabled();\n\t}\n\n\toverride async run(): Promise<void> {\n\t\tawait this.commandService.executeCommand('workbench.extensions.action.showExtensionsForLanguage', this.fileExtension);\n\t}\n}\n\nexport class ChangeLanguageAction extends Action2 {\n\n\tstatic readonly ID = 'workbench.action.editor.changeLanguageMode';\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: ChangeLanguageAction.ID,\n\t\t\ttitle: localize2('changeMode', 'Change Language Mode'),\n\t\t\tf1: true,\n\t\t\tkeybinding: {\n\t\t\t\tweight: KeybindingWeight.WorkbenchContrib,\n\t\t\t\tprimary: KeyChord(KeyMod.CtrlCmd | KeyCode.KeyK, KeyCode.KeyM)\n\t\t\t},\n\t\t\tprecondition: ContextKeyExpr.not('notebookEditorFocused'),\n\t\t\tmetadata: {\n\t\t\t\tdescription: localize('changeLanguageMode.description', \"Change the language mode of the active text editor.\"),\n\t\t\t\targs: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: localize('changeLanguageMode.arg.name', \"The name of the language mode to change to.\"),\n\t\t\t\t\t\tconstraint: (value: unknown) => typeof value === 'string',\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t});\n\t}\n\n\toverride async run(accessor: ServicesAccessor, languageMode?: string): Promise<void> {\n\t\tconst quickInputService = accessor.get(IQuickInputService);\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst languageService = accessor.get(ILanguageService);\n\t\tconst languageDetectionService = accessor.get(ILanguageDetectionService);\n\t\tconst textFileService = accessor.get(ITextFileService);\n\t\tconst preferencesService = accessor.get(IPreferencesService);\n\t\tconst instantiationService = accessor.get(IInstantiationService);\n\t\tconst configurationService = accessor.get(IConfigurationService);\n\t\tconst telemetryService = accessor.get(ITelemetryService);\n\n\t\tconst activeTextEditorControl = getCodeEditor(editorService.activeTextEditorControl);\n\t\tif (!activeTextEditorControl) {\n\t\t\tawait quickInputService.pick([{ label: localize('noEditor', \"No text editor active at this time\") }]);\n\t\t\treturn;\n\t\t}\n\n\t\tconst textModel = activeTextEditorControl.getModel();\n\t\tconst resource = EditorResourceAccessor.getOriginalUri(editorService.activeEditor, { supportSideBySide: SideBySideEditor.PRIMARY });\n\n\t\t// Compute language\n\t\tlet currentLanguageName: string | undefined;\n\t\tlet currentLanguageId: string | undefined;\n\t\tif (textModel) {\n\t\t\tcurrentLanguageId = textModel.getLanguageId();\n\t\t\tcurrentLanguageName = languageService.getLanguageName(currentLanguageId) ?? undefined;\n\t\t}\n\n\t\tlet hasLanguageSupport = !!resource;\n\t\tif (resource?.scheme === Schemas.untitled && !textFileService.untitled.get(resource)?.hasAssociatedFilePath) {\n\t\t\thasLanguageSupport = false; // no configuration for untitled resources (e.g. \"Untitled-1\")\n\t\t}\n\n\t\t// All languages are valid picks\n\t\tconst languages = languageService.getSortedRegisteredLanguageNames();\n\t\tconst picks: QuickPickInput[] = languages\n\t\t\t.map(({ languageName, languageId }) => {\n\t\t\t\tconst extensions = languageService.getExtensions(languageId).join(' ');\n\t\t\t\tlet description: string;\n\t\t\t\tif (currentLanguageName === languageName) {\n\t\t\t\t\tdescription = localize('languageDescription', \"({0}) - Configured Language\", languageId);\n\t\t\t\t} else {\n\t\t\t\t\tdescription = localize('languageDescriptionConfigured', \"({0})\", languageId);\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tlabel: languageName,\n\t\t\t\t\tmeta: extensions,\n\t\t\t\t\ticonClasses: getIconClassesForLanguageId(languageId),\n\t\t\t\t\tdescription\n\t\t\t\t};\n\t\t\t});\n\n\t\tpicks.unshift({ type: 'separator', label: localize('languagesPicks', \"languages (identifier)\") });\n\n\t\t// Offer action to configure via settings\n\t\tlet configureLanguageAssociations: IQuickPickItem | undefined;\n\t\tlet configureLanguageSettings: IQuickPickItem | undefined;\n\t\tlet galleryAction: Action | undefined;\n\t\tif (hasLanguageSupport && resource) {\n\t\t\tconst ext = extname(resource) || basename(resource);\n\n\t\t\tgalleryAction = instantiationService.createInstance(ShowLanguageExtensionsAction, ext);\n\t\t\tif (galleryAction.enabled) {\n\t\t\t\tpicks.unshift(galleryAction);\n\t\t\t}\n\n\t\t\tconfigureLanguageSettings = { label: localize('configureModeSettings', \"Configure '{0}' language based settings...\", currentLanguageName) };\n\t\t\tpicks.unshift(configureLanguageSettings);\n\t\t\tconfigureLanguageAssociations = { label: localize('configureAssociationsExt', \"Configure File Association for '{0}'...\", ext) };\n\t\t\tpicks.unshift(configureLanguageAssociations);\n\t\t}\n\n\t\t// Offer to \"Auto Detect\", but only if the document is not empty.\n\t\tconst autoDetectLanguage: IQuickPickItem = { label: localize('autoDetect', \"Auto Detect\") };\n\t\tif (textModel && textModel.getValueLength() > 0) {\n\t\t\tpicks.unshift(autoDetectLanguage);\n\t\t}\n\n\t\tconst pick = typeof languageMode === 'string' ? { label: languageMode } : await quickInputService.pick(picks, { placeHolder: localize('pickLanguage', \"Select Language Mode\"), matchOnDescription: true });\n\t\tif (!pick) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (pick === galleryAction) {\n\t\t\tgalleryAction.run();\n\t\t\treturn;\n\t\t}\n\n\t\t// User decided to permanently configure associations, return right after\n\t\tif (pick === configureLanguageAssociations) {\n\t\t\tif (resource) {\n\t\t\t\tthis.configureFileAssociation(resource, languageService, quickInputService, configurationService);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t// User decided to configure settings for current language\n\t\tif (pick === configureLanguageSettings) {\n\t\t\tpreferencesService.openUserSettings({ jsonEditor: true, revealSetting: { key: `[${currentLanguageId ?? null}]`, edit: true } });\n\t\t\treturn;\n\t\t}\n\n\t\t// Change language for active editor\n\t\tconst activeEditor = editorService.activeEditor;\n\t\tif (activeEditor) {\n\t\t\tconst languageSupport = toEditorWithLanguageSupport(activeEditor);\n\t\t\tif (languageSupport) {\n\n\t\t\t\t// Find language\n\t\t\t\tlet languageSelection: ILanguageSelection | undefined;\n\t\t\t\tlet detectedLanguage: string | undefined;\n\t\t\t\tif (pick === autoDetectLanguage) {\n\t\t\t\t\tif (textModel) {\n\t\t\t\t\t\tconst resource = EditorResourceAccessor.getOriginalUri(activeEditor, { supportSideBySide: SideBySideEditor.PRIMARY });\n\t\t\t\t\t\tif (resource) {\n\t\t\t\t\t\t\t// Detect languages since we are in an untitled file\n\t\t\t\t\t\t\tlet languageId: string | undefined = languageService.guessLanguageIdByFilepathOrFirstLine(resource, textModel.getLineContent(1)) ?? undefined;\n\t\t\t\t\t\t\tif (!languageId || languageId === 'unknown') {\n\t\t\t\t\t\t\t\tdetectedLanguage = await languageDetectionService.detectLanguage(resource);\n\t\t\t\t\t\t\t\tlanguageId = detectedLanguage;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (languageId) {\n\t\t\t\t\t\t\t\tlanguageSelection = languageService.createById(languageId);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tconst languageId = languageService.getLanguageIdByLanguageName(pick.label);\n\t\t\t\t\tlanguageSelection = languageService.createById(languageId);\n\n\t\t\t\t\tif (resource) {\n\t\t\t\t\t\t// fire and forget to not slow things down\n\t\t\t\t\t\tlanguageDetectionService.detectLanguage(resource).then(detectedLanguageId => {\n\t\t\t\t\t\t\tconst chosenLanguageId = languageService.getLanguageIdByLanguageName(pick.label) || 'unknown';\n\t\t\t\t\t\t\tif (detectedLanguageId === currentLanguageId && currentLanguageId !== chosenLanguageId) {\n\t\t\t\t\t\t\t\t// If they didn't choose the detected language (which should also be the active language if automatic detection is enabled)\n\t\t\t\t\t\t\t\t// then the automatic language detection was likely wrong and the user is correcting it. In this case, we want telemetry.\n\t\t\t\t\t\t\t\t// Keep track of what model was preferred and length of input to help track down potential differences between the result quality across models and content size.\n\t\t\t\t\t\t\t\tconst modelPreference = configurationService.getValue<boolean>('workbench.editor.preferHistoryBasedLanguageDetection') ? 'history' : 'classic';\n\t\t\t\t\t\t\t\ttelemetryService.publicLog2<IAutomaticLanguageDetectionLikelyWrongData, AutomaticLanguageDetectionLikelyWrongClassification>(AutomaticLanguageDetectionLikelyWrongId, {\n\t\t\t\t\t\t\t\t\tcurrentLanguageId: currentLanguageName ?? 'unknown',\n\t\t\t\t\t\t\t\t\tnextLanguageId: pick.label,\n\t\t\t\t\t\t\t\t\tlineCount: textModel?.getLineCount() ?? -1,\n\t\t\t\t\t\t\t\t\tmodelPreference,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Change language\n\t\t\t\tif (typeof languageSelection !== 'undefined') {\n\t\t\t\t\tlanguageSupport.setLanguageId(languageSelection.languageId, ChangeLanguageAction.ID);\n\n\t\t\t\t\tif (resource?.scheme === Schemas.untitled) {\n\t\t\t\t\t\ttype SetUntitledDocumentLanguageEvent = { to: string; from: string; modelPreference: string };\n\t\t\t\t\t\ttype SetUntitledDocumentLanguageClassification = {\n\t\t\t\t\t\t\towner: 'TylerLeonhardt';\n\t\t\t\t\t\t\tcomment: 'Helps understand what the automatic language detection does for untitled files';\n\t\t\t\t\t\t\tto: {\n\t\t\t\t\t\t\t\tclassification: 'SystemMetaData';\n\t\t\t\t\t\t\t\tpurpose: 'FeatureInsight';\n\t\t\t\t\t\t\t\towner: 'TylerLeonhardt';\n\t\t\t\t\t\t\t\tcomment: 'Help understand effectiveness of automatic language detection';\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tfrom: {\n\t\t\t\t\t\t\t\tclassification: 'SystemMetaData';\n\t\t\t\t\t\t\t\tpurpose: 'FeatureInsight';\n\t\t\t\t\t\t\t\towner: 'TylerLeonhardt';\n\t\t\t\t\t\t\t\tcomment: 'Help understand effectiveness of automatic language detection';\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tmodelPreference: {\n\t\t\t\t\t\t\t\tclassification: 'SystemMetaData';\n\t\t\t\t\t\t\t\tpurpose: 'FeatureInsight';\n\t\t\t\t\t\t\t\towner: 'TylerLeonhardt';\n\t\t\t\t\t\t\t\tcomment: 'Help understand effectiveness of automatic language detection';\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t};\n\t\t\t\t\t\tconst modelPreference = configurationService.getValue<boolean>('workbench.editor.preferHistoryBasedLanguageDetection') ? 'history' : 'classic';\n\t\t\t\t\t\ttelemetryService.publicLog2<SetUntitledDocumentLanguageEvent, SetUntitledDocumentLanguageClassification>('setUntitledDocumentLanguage', {\n\t\t\t\t\t\t\tto: languageSelection.languageId,\n\t\t\t\t\t\t\tfrom: currentLanguageId ?? 'none',\n\t\t\t\t\t\t\tmodelPreference,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tactiveTextEditorControl.focus();\n\t\t}\n\t}\n\n\tprivate configureFileAssociation(resource: URI, languageService: ILanguageService, quickInputService: IQuickInputService, configurationService: IConfigurationService): void {\n\t\tconst extension = extname(resource);\n\t\tconst base = basename(resource);\n\t\tconst currentAssociation = languageService.guessLanguageIdByFilepathOrFirstLine(URI.file(base));\n\n\t\tconst languages = languageService.getSortedRegisteredLanguageNames();\n\t\tconst picks: IQuickPickItem[] = languages.map(({ languageName, languageId }) => {\n\t\t\treturn {\n\t\t\t\tid: languageId,\n\t\t\t\tlabel: languageName,\n\t\t\t\ticonClasses: getIconClassesForLanguageId(languageId),\n\t\t\t\tdescription: (languageId === currentAssociation) ? localize('currentAssociation', \"Current Association\") : undefined\n\t\t\t};\n\t\t});\n\n\t\tsetTimeout(async () => {\n\t\t\tconst language = await quickInputService.pick(picks, { placeHolder: localize('pickLanguageToConfigure', \"Select Language Mode to Associate with '{0}'\", extension || base) });\n\t\t\tif (language) {\n\t\t\t\tconst fileAssociationsConfig = configurationService.inspect<{}>(FILES_ASSOCIATIONS_CONFIG);\n\n\t\t\t\tlet associationKey: string;\n\t\t\t\tif (extension && base[0] !== '.') {\n\t\t\t\t\tassociationKey = `*${extension}`; // only use \"*.ext\" if the file path is in the form of <name>.<ext>\n\t\t\t\t} else {\n\t\t\t\t\tassociationKey = base; // otherwise use the basename (e.g. .gitignore, Dockerfile)\n\t\t\t\t}\n\n\t\t\t\t// If the association is already being made in the workspace, make sure to target workspace settings\n\t\t\t\tlet target = ConfigurationTarget.USER;\n\t\t\t\tif (fileAssociationsConfig.workspaceValue?.[associationKey as keyof typeof fileAssociationsConfig.workspaceValue]) {\n\t\t\t\t\ttarget = ConfigurationTarget.WORKSPACE;\n\t\t\t\t}\n\n\t\t\t\t// Make sure to write into the value of the target and not the merged value from USER and WORKSPACE config\n\t\t\t\tconst currentAssociations = deepClone((target === ConfigurationTarget.WORKSPACE) ? fileAssociationsConfig.workspaceValue : fileAssociationsConfig.userValue) || Object.create(null);\n\t\t\t\tcurrentAssociations[associationKey] = language.id;\n\n\t\t\t\tconfigurationService.updateValue(FILES_ASSOCIATIONS_CONFIG, currentAssociations, target);\n\t\t\t}\n\t\t}, 50 /* quick input is sensitive to being opened so soon after another */);\n\t}\n}\n\ninterface IChangeEOLEntry extends IQuickPickItem {\n\teol: EndOfLineSequence;\n}\n\nexport class ChangeEOLAction extends Action2 {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.action.editor.changeEOL',\n\t\t\ttitle: localize2('changeEndOfLine', 'Change End of Line Sequence'),\n\t\t\tf1: true\n\t\t});\n\t}\n\n\toverride async run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst quickInputService = accessor.get(IQuickInputService);\n\n\t\tconst activeTextEditorControl = getCodeEditor(editorService.activeTextEditorControl);\n\t\tif (!activeTextEditorControl) {\n\t\t\tawait quickInputService.pick([{ label: localize('noEditor', \"No text editor active at this time\") }]);\n\t\t\treturn;\n\t\t}\n\n\t\tif (editorService.activeEditor?.isReadonly()) {\n\t\t\tawait quickInputService.pick([{ label: localize('noWritableCodeEditor', \"The active code editor is read-only.\") }]);\n\t\t\treturn;\n\t\t}\n\n\t\tlet textModel = activeTextEditorControl.getModel();\n\n\t\tconst EOLOptions: IChangeEOLEntry[] = [\n\t\t\t{ label: nlsEOLLF, eol: EndOfLineSequence.LF },\n\t\t\t{ label: nlsEOLCRLF, eol: EndOfLineSequence.CRLF },\n\t\t];\n\n\t\tconst selectedIndex = (textModel?.getEOL() === '\\n') ? 0 : 1;\n\n\t\tconst eol = await quickInputService.pick(EOLOptions, { placeHolder: localize('pickEndOfLine', \"Select End of Line Sequence\"), activeItem: EOLOptions[selectedIndex] });\n\t\tif (eol) {\n\t\t\tconst activeCodeEditor = getCodeEditor(editorService.activeTextEditorControl);\n\t\t\tif (activeCodeEditor?.hasModel() && !editorService.activeEditor?.isReadonly()) {\n\t\t\t\ttextModel = activeCodeEditor.getModel();\n\t\t\t\ttextModel.pushStackElement();\n\t\t\t\ttextModel.pushEOL(eol.eol);\n\t\t\t\ttextModel.pushStackElement();\n\t\t\t}\n\t\t}\n\n\t\tactiveTextEditorControl.focus();\n\t}\n}\n\nexport class ChangeEncodingAction extends Action2 {\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'workbench.action.editor.changeEncoding',\n\t\t\ttitle: localize2('changeEncoding', 'Change File Encoding'),\n\t\t\tf1: true\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst editorService = accessor.get(IEditorService);\n\t\tconst quickInputService = accessor.get(IQuickInputService);\n\t\tconst fileService = accessor.get(IFileService);\n\t\tconst textFileService = accessor.get(ITextFileService);\n\t\tconst textResourceConfigurationService = accessor.get(ITextResourceConfigurationService);\n\t\tconst dialogService = accessor.get(IDialogService);\n\n\t\tconst activeTextEditorControl = getCodeEditor(editorService.activeTextEditorControl);\n\t\tif (!activeTextEditorControl) {\n\t\t\tawait quickInputService.pick([{ label: localize('noEditor', \"No text editor active at this time\") }]);\n\t\t\treturn;\n\t\t}\n\n\t\tconst activeEditorPane = editorService.activeEditorPane;\n\t\tif (!activeEditorPane) {\n\t\t\tawait quickInputService.pick([{ label: localize('noEditor', \"No text editor active at this time\") }]);\n\t\t\treturn;\n\t\t}\n\n\t\tconst encodingSupport: IEncodingSupport | null = toEditorWithEncodingSupport(activeEditorPane.input);\n\t\tif (!encodingSupport) {\n\t\t\tawait quickInputService.pick([{ label: localize('noFileEditor', \"No file active at this time\") }]);\n\t\t\treturn;\n\t\t}\n\n\t\tconst saveWithEncodingPick: IQuickPickItem = { label: localize('saveWithEncoding', \"Save with Encoding\") };\n\t\tconst reopenWithEncodingPick: IQuickPickItem = { label: localize('reopenWithEncoding', \"Reopen with Encoding\") };\n\n\t\tif (!Language.isDefaultVariant()) {\n\t\t\tconst saveWithEncodingAlias = 'Save with Encoding';\n\t\t\tif (saveWithEncodingAlias !== saveWithEncodingPick.label) {\n\t\t\t\tsaveWithEncodingPick.detail = saveWithEncodingAlias;\n\t\t\t}\n\n\t\t\tconst reopenWithEncodingAlias = 'Reopen with Encoding';\n\t\t\tif (reopenWithEncodingAlias !== reopenWithEncodingPick.label) {\n\t\t\t\treopenWithEncodingPick.detail = reopenWithEncodingAlias;\n\t\t\t}\n\t\t}\n\n\t\tlet action: IQuickPickItem | undefined;\n\t\tif (encodingSupport instanceof UntitledTextEditorInput) {\n\t\t\taction = saveWithEncodingPick;\n\t\t} else if (activeEditorPane.input.isReadonly()) {\n\t\t\taction = reopenWithEncodingPick;\n\t\t} else {\n\t\t\taction = await quickInputService.pick([reopenWithEncodingPick, saveWithEncodingPick], { placeHolder: localize('pickAction', \"Select Action\"), matchOnDetail: true });\n\t\t}\n\n\t\tif (!action) {\n\t\t\treturn;\n\t\t}\n\n\t\tawait timeout(50); // quick input is sensitive to being opened so soon after another\n\n\t\tconst resource = EditorResourceAccessor.getOriginalUri(activeEditorPane.input, { supportSideBySide: SideBySideEditor.PRIMARY });\n\t\tif (!resource || (!fileService.hasProvider(resource) && resource.scheme !== Schemas.untitled)) {\n\t\t\treturn; // encoding detection only possible for resources the file service can handle or that are untitled\n\t\t}\n\n\t\tlet guessedEncoding: string | undefined = undefined;\n\t\tif (fileService.hasProvider(resource)) {\n\t\t\tconst content = await textFileService.readStream(resource, {\n\t\t\t\tautoGuessEncoding: true,\n\t\t\t\tcandidateGuessEncodings: textResourceConfigurationService.getValue(resource, 'files.candidateGuessEncodings')\n\t\t\t});\n\t\t\tguessedEncoding = content.encoding;\n\t\t}\n\n\t\tconst isReopenWithEncoding = (action === reopenWithEncodingPick);\n\n\t\tconst configuredEncoding = textResourceConfigurationService.getValue(resource, 'files.encoding');\n\n\t\tlet directMatchIndex: number | undefined;\n\t\tlet aliasMatchIndex: number | undefined;\n\n\t\t// All encodings are valid picks\n\t\tconst picks: QuickPickInput[] = Object.keys(SUPPORTED_ENCODINGS)\n\t\t\t.sort((k1, k2) => {\n\t\t\t\tif (k1 === configuredEncoding) {\n\t\t\t\t\treturn -1;\n\t\t\t\t} else if (k2 === configuredEncoding) {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\n\t\t\t\treturn SUPPORTED_ENCODINGS[k1].order - SUPPORTED_ENCODINGS[k2].order;\n\t\t\t})\n\t\t\t.filter(k => {\n\t\t\t\tif (k === guessedEncoding && guessedEncoding !== configuredEncoding) {\n\t\t\t\t\treturn false; // do not show encoding if it is the guessed encoding that does not match the configured\n\t\t\t\t}\n\n\t\t\t\treturn !isReopenWithEncoding || !SUPPORTED_ENCODINGS[k].encodeOnly; // hide those that can only be used for encoding if we are about to decode\n\t\t\t})\n\t\t\t.map((key, index) => {\n\t\t\t\tif (key === encodingSupport.getEncoding()) {\n\t\t\t\t\tdirectMatchIndex = index;\n\t\t\t\t} else if (SUPPORTED_ENCODINGS[key].alias === encodingSupport.getEncoding()) {\n\t\t\t\t\taliasMatchIndex = index;\n\t\t\t\t}\n\n\t\t\t\treturn { id: key, label: SUPPORTED_ENCODINGS[key].labelLong, description: key };\n\t\t\t});\n\n\t\tconst items = picks.slice() as IQuickPickItem[];\n\n\t\t// If we have a guessed encoding, show it first unless it matches the configured encoding\n\t\tif (guessedEncoding && configuredEncoding !== guessedEncoding && SUPPORTED_ENCODINGS[guessedEncoding]) {\n\t\t\tpicks.unshift({ type: 'separator' });\n\t\t\tpicks.unshift({ id: guessedEncoding, label: SUPPORTED_ENCODINGS[guessedEncoding].labelLong, description: localize('guessedEncoding', \"Guessed from content\") });\n\t\t}\n\n\t\tconst encoding = await quickInputService.pick(picks, {\n\t\t\tplaceHolder: isReopenWithEncoding ? localize('pickEncodingForReopen', \"Select File Encoding to Reopen File\") : localize('pickEncodingForSave', \"Select File Encoding to Save with\"),\n\t\t\tactiveItem: items[typeof directMatchIndex === 'number' ? directMatchIndex : typeof aliasMatchIndex === 'number' ? aliasMatchIndex : -1]\n\t\t});\n\n\t\tif (!encoding) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!editorService.activeEditorPane) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst activeEncodingSupport = toEditorWithEncodingSupport(editorService.activeEditorPane.input);\n\t\tif (typeof encoding.id !== 'undefined' && activeEncodingSupport) {\n\n\t\t\t// Re-open with encoding does not work on dirty editors, ask to revert\n\t\t\tif (isReopenWithEncoding && editorService.activeEditorPane.input.isDirty()) {\n\t\t\t\tconst { confirmed } = await dialogService.confirm({\n\t\t\t\t\tmessage: localize('reopenWithEncodingWarning', \"Do you want to revert the active text editor and reopen with a different encoding?\"),\n\t\t\t\t\tdetail: localize('reopenWithEncodingDetail', \"This will discard any unsaved changes.\"),\n\t\t\t\t\tprimaryButton: localize('reopen', \"Discard Changes and Reopen\")\n\t\t\t\t});\n\n\t\t\t\tif (!confirmed) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tawait editorService.activeEditorPane.input.revert(editorService.activeEditorPane.group.id);\n\t\t\t}\n\n\t\t\t// Set new encoding\n\t\t\tawait activeEncodingSupport.setEncoding(encoding.id, isReopenWithEncoding ? EncodingMode.Decode : EncodingMode.Encode);\n\t\t}\n\n\t\tactiveTextEditorControl.focus();\n\t}\n}\n"]}