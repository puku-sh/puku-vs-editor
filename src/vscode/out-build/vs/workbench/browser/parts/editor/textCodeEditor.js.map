{"version":3,"sources":["vs/workbench/browser/parts/editor/textCodeEditor.ts"],"names":[],"mappings":"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","file":"textCodeEditor.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { localize } from '../../../../nls.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { assertReturnsDefined } from '../../../../base/common/types.js';\nimport { ITextEditorPane } from '../../../common/editor.js';\nimport { applyTextEditorOptions } from '../../../common/editor/editorOptions.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { ITextEditorOptions } from '../../../../platform/editor/common/editor.js';\nimport { isEqual } from '../../../../base/common/resources.js';\nimport { IEditorOptions as ICodeEditorOptions } from '../../../../editor/common/config/editorOptions.js';\nimport { CodeEditorWidget, ICodeEditorWidgetOptions } from '../../../../editor/browser/widget/codeEditor/codeEditorWidget.js';\nimport { IEditorViewState, ScrollType } from '../../../../editor/common/editorCommon.js';\nimport { ICodeEditor } from '../../../../editor/browser/editorBrowser.js';\nimport { AbstractTextEditor } from './textEditor.js';\nimport { Dimension } from '../../../../base/browser/dom.js';\n\n/**\n * A text editor using the code editor widget.\n */\nexport abstract class AbstractTextCodeEditor<T extends IEditorViewState> extends AbstractTextEditor<T> implements ITextEditorPane {\n\n\tprotected editorControl: ICodeEditor | undefined = undefined;\n\n\toverride get scopedContextKeyService(): IContextKeyService | undefined {\n\t\treturn this.editorControl?.invokeWithinContext(accessor => accessor.get(IContextKeyService));\n\t}\n\n\toverride getTitle(): string {\n\t\tif (this.input) {\n\t\t\treturn this.input.getName();\n\t\t}\n\n\t\treturn localize('textEditor', \"Text Editor\");\n\t}\n\n\tprotected createEditorControl(parent: HTMLElement, initialOptions: ICodeEditorOptions): void {\n\t\tthis.editorControl = this._register(this.instantiationService.createInstance(CodeEditorWidget, parent, initialOptions, this.getCodeEditorWidgetOptions()));\n\t}\n\n\tprotected getCodeEditorWidgetOptions(): ICodeEditorWidgetOptions {\n\t\treturn Object.create(null);\n\t}\n\n\tprotected updateEditorControlOptions(options: ICodeEditorOptions): void {\n\t\tthis.editorControl?.updateOptions(options);\n\t}\n\n\tprotected getMainControl(): ICodeEditor | undefined {\n\t\treturn this.editorControl;\n\t}\n\n\toverride getControl(): ICodeEditor | undefined {\n\t\treturn this.editorControl;\n\t}\n\n\tprotected override computeEditorViewState(resource: URI): T | undefined {\n\t\tif (!this.editorControl) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst model = this.editorControl.getModel();\n\t\tif (!model) {\n\t\t\treturn undefined; // view state always needs a model\n\t\t}\n\n\t\tconst modelUri = model.uri;\n\t\tif (!modelUri) {\n\t\t\treturn undefined; // model URI is needed to make sure we save the view state correctly\n\t\t}\n\n\t\tif (!isEqual(modelUri, resource)) {\n\t\t\treturn undefined; // prevent saving view state for a model that is not the expected one\n\t\t}\n\n\t\treturn this.editorControl.saveViewState() as unknown as T ?? undefined;\n\t}\n\n\toverride setOptions(options: ITextEditorOptions | undefined): void {\n\t\tsuper.setOptions(options);\n\n\t\tif (options) {\n\t\t\tapplyTextEditorOptions(options, assertReturnsDefined(this.editorControl), ScrollType.Smooth);\n\t\t}\n\t}\n\n\toverride focus(): void {\n\t\tsuper.focus();\n\n\t\tthis.editorControl?.focus();\n\t}\n\n\toverride hasFocus(): boolean {\n\t\treturn this.editorControl?.hasTextFocus() || super.hasFocus();\n\t}\n\n\tprotected override setEditorVisible(visible: boolean): void {\n\t\tsuper.setEditorVisible(visible);\n\n\t\tif (visible) {\n\t\t\tthis.editorControl?.onVisible();\n\t\t} else {\n\t\t\tthis.editorControl?.onHide();\n\t\t}\n\t}\n\n\toverride layout(dimension: Dimension): void {\n\t\tthis.editorControl?.layout(dimension);\n\t}\n}\n"]}