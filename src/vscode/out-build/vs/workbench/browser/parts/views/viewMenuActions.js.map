{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/browser/parts/views/viewMenuActions.ts","vs/workbench/browser/parts/views/viewMenuActions.ts"],"names":[],"mappings":"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","file":"viewMenuActions.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IAction } from '../../../../base/common/actions.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { getActionBarActions, PrimaryAndSecondaryActions } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { MenuId, IMenuActionOptions, IMenuService, IMenu } from '../../../../platform/actions/common/actions.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IViewDescriptorService, ViewContainer, ViewContainerLocationToString } from '../../../common/views.js';\n\nexport class ViewMenuActions extends Disposable {\n\n\tprivate readonly menu: IMenu;\n\n\tprivate readonly _onDidChange = this._register(new Emitter<void>());\n\treadonly onDidChange = this._onDidChange.event;\n\n\tconstructor(\n\t\treadonly menuId: MenuId,\n\t\tprivate readonly contextMenuId: MenuId | undefined,\n\t\tprivate readonly options: IMenuActionOptions | undefined,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IMenuService private readonly menuService: IMenuService,\n\t) {\n\t\tsuper();\n\t\tthis.menu = this._register(menuService.createMenu(menuId, contextKeyService, { emitEventsForSubmenuChanges: true }));\n\t\tthis._register(this.menu.onDidChange(() => {\n\t\t\tthis.actions = undefined;\n\t\t\tthis._onDidChange.fire();\n\t\t}));\n\t}\n\n\tprivate actions: PrimaryAndSecondaryActions | undefined;\n\tprivate getActions(): PrimaryAndSecondaryActions {\n\t\tif (!this.actions) {\n\t\t\tthis.actions = getActionBarActions(this.menu.getActions(this.options));\n\t\t}\n\t\treturn this.actions;\n\t}\n\n\tgetPrimaryActions(): IAction[] {\n\t\treturn this.getActions().primary;\n\t}\n\n\tgetSecondaryActions(): IAction[] {\n\t\treturn this.getActions().secondary;\n\t}\n\n\tgetContextMenuActions(): IAction[] {\n\t\tif (this.contextMenuId) {\n\t\t\tconst menu = this.menuService.getMenuActions(this.contextMenuId, this.contextKeyService, this.options);\n\t\t\treturn getActionBarActions(menu).secondary;\n\t\t}\n\t\treturn [];\n\t}\n}\n\nexport class ViewContainerMenuActions extends ViewMenuActions {\n\tconstructor(\n\t\telement: HTMLElement,\n\t\tviewContainer: ViewContainer,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IMenuService menuService: IMenuService,\n\t) {\n\t\tconst scopedContextKeyService = contextKeyService.createScoped(element);\n\t\tscopedContextKeyService.createKey('viewContainer', viewContainer.id);\n\t\tconst viewContainerLocationKey = scopedContextKeyService.createKey('viewContainerLocation', ViewContainerLocationToString(viewDescriptorService.getViewContainerLocation(viewContainer)!));\n\t\tsuper(MenuId.ViewContainerTitle, MenuId.ViewContainerTitleContext, { shouldForwardArgs: true, renderShortTitle: true }, scopedContextKeyService, menuService);\n\t\tthis._register(scopedContextKeyService);\n\t\tthis._register(Event.filter(viewDescriptorService.onDidChangeContainerLocation, e => e.viewContainer === viewContainer)(() => viewContainerLocationKey.set(ViewContainerLocationToString(viewDescriptorService.getViewContainerLocation(viewContainer)!))));\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IAction } from '../../../../base/common/actions.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { Disposable } from '../../../../base/common/lifecycle.js';\nimport { getActionBarActions, PrimaryAndSecondaryActions } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { MenuId, IMenuActionOptions, IMenuService, IMenu } from '../../../../platform/actions/common/actions.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IViewDescriptorService, ViewContainer, ViewContainerLocationToString } from '../../../common/views.js';\n\nexport class ViewMenuActions extends Disposable {\n\n\tprivate readonly menu: IMenu;\n\n\tprivate readonly _onDidChange = this._register(new Emitter<void>());\n\treadonly onDidChange = this._onDidChange.event;\n\n\tconstructor(\n\t\treadonly menuId: MenuId,\n\t\tprivate readonly contextMenuId: MenuId | undefined,\n\t\tprivate readonly options: IMenuActionOptions | undefined,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IMenuService private readonly menuService: IMenuService,\n\t) {\n\t\tsuper();\n\t\tthis.menu = this._register(menuService.createMenu(menuId, contextKeyService, { emitEventsForSubmenuChanges: true }));\n\t\tthis._register(this.menu.onDidChange(() => {\n\t\t\tthis.actions = undefined;\n\t\t\tthis._onDidChange.fire();\n\t\t}));\n\t}\n\n\tprivate actions: PrimaryAndSecondaryActions | undefined;\n\tprivate getActions(): PrimaryAndSecondaryActions {\n\t\tif (!this.actions) {\n\t\t\tthis.actions = getActionBarActions(this.menu.getActions(this.options));\n\t\t}\n\t\treturn this.actions;\n\t}\n\n\tgetPrimaryActions(): IAction[] {\n\t\treturn this.getActions().primary;\n\t}\n\n\tgetSecondaryActions(): IAction[] {\n\t\treturn this.getActions().secondary;\n\t}\n\n\tgetContextMenuActions(): IAction[] {\n\t\tif (this.contextMenuId) {\n\t\t\tconst menu = this.menuService.getMenuActions(this.contextMenuId, this.contextKeyService, this.options);\n\t\t\treturn getActionBarActions(menu).secondary;\n\t\t}\n\t\treturn [];\n\t}\n}\n\nexport class ViewContainerMenuActions extends ViewMenuActions {\n\tconstructor(\n\t\telement: HTMLElement,\n\t\tviewContainer: ViewContainer,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IMenuService menuService: IMenuService,\n\t) {\n\t\tconst scopedContextKeyService = contextKeyService.createScoped(element);\n\t\tscopedContextKeyService.createKey('viewContainer', viewContainer.id);\n\t\tconst viewContainerLocationKey = scopedContextKeyService.createKey('viewContainerLocation', ViewContainerLocationToString(viewDescriptorService.getViewContainerLocation(viewContainer)!));\n\t\tsuper(MenuId.ViewContainerTitle, MenuId.ViewContainerTitleContext, { shouldForwardArgs: true, renderShortTitle: true }, scopedContextKeyService, menuService);\n\t\tthis._register(scopedContextKeyService);\n\t\tthis._register(Event.filter(viewDescriptorService.onDidChangeContainerLocation, e => e.viewContainer === viewContainer)(() => viewContainerLocationKey.set(ViewContainerLocationToString(viewDescriptorService.getViewContainerLocation(viewContainer)!))));\n\t}\n}\n"]}