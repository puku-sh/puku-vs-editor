{"version":3,"sources":["vs/workbench/browser/parts/views/treeView.ts"],"names":[],"mappings":"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","file":"treeView.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { DataTransfers, IDragAndDropData } from '../../../../base/browser/dnd.js';\nimport * as DOM from '../../../../base/browser/dom.js';\nimport * as cssJs from '../../../../base/browser/cssValue.js';\nimport { IRenderedMarkdown, renderAsPlaintext } from '../../../../base/browser/markdownRenderer.js';\nimport { ActionBar, IActionViewItemProvider } from '../../../../base/browser/ui/actionbar/actionbar.js';\nimport { ActionViewItem } from '../../../../base/browser/ui/actionbar/actionViewItems.js';\nimport { IHoverDelegate } from '../../../../base/browser/ui/hover/hoverDelegate.js';\nimport { IIdentityProvider, IListVirtualDelegate } from '../../../../base/browser/ui/list/list.js';\nimport { ElementsDragAndDropData, ListViewTargetSector } from '../../../../base/browser/ui/list/listView.js';\nimport { IAsyncDataSource, ITreeContextMenuEvent, ITreeDragAndDrop, ITreeDragOverReaction, ITreeNode, ITreeRenderer, TreeDragOverBubble } from '../../../../base/browser/ui/tree/tree.js';\nimport { CollapseAllAction } from '../../../../base/browser/ui/tree/treeDefaults.js';\nimport { ActionRunner, IAction, Separator } from '../../../../base/common/actions.js';\nimport { timeout } from '../../../../base/common/async.js';\nimport { CancellationToken, CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { isCancellationError } from '../../../../base/common/errors.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { createMatches, FuzzyScore } from '../../../../base/common/filters.js';\nimport { IMarkdownString, isMarkdownString, MarkdownString } from '../../../../base/common/htmlContent.js';\nimport { Disposable, DisposableStore, IDisposable, MutableDisposable, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { Mimes } from '../../../../base/common/mime.js';\nimport { Schemas } from '../../../../base/common/network.js';\nimport { basename, dirname } from '../../../../base/common/resources.js';\nimport { isFalsyOrWhitespace } from '../../../../base/common/strings.js';\nimport { isString } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { generateUuid } from '../../../../base/common/uuid.js';\nimport './media/views.css';\nimport { VSDataTransfer } from '../../../../base/common/dataTransfer.js';\nimport { localize } from '../../../../nls.js';\nimport { createActionViewItem, getContextMenuActions } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { Action2, IMenuService, MenuId, MenuRegistry, registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { CommandsRegistry, ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { ContextKeyExpr, ContextKeyExpression, IContextKey, IContextKeyChangeEvent, IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { FileKind } from '../../../../platform/files/common/files.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { ILabelService } from '../../../../platform/label/common/label.js';\nimport { WorkbenchAsyncDataTree } from '../../../../platform/list/browser/listService.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nimport { IOpenerService } from '../../../../platform/opener/common/opener.js';\nimport { IProgressService } from '../../../../platform/progress/common/progress.js';\nimport { Registry } from '../../../../platform/registry/common/platform.js';\nimport { ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nimport { isDark } from '../../../../platform/theme/common/theme.js';\nimport { FileThemeIcon, FolderThemeIcon, IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { fillEditorsDragData } from '../../dnd.js';\nimport { IResourceLabel, ResourceLabels } from '../../labels.js';\nimport { API_OPEN_DIFF_EDITOR_COMMAND_ID, API_OPEN_EDITOR_COMMAND_ID } from '../editor/editorCommands.js';\nimport { getLocationBasedViewColors, IViewPaneOptions, ViewPane } from './viewPane.js';\nimport { IViewletViewOptions } from './viewsViewlet.js';\nimport { Extensions, ITreeItem, ITreeItemLabel, ITreeView, ITreeViewDataProvider, ITreeViewDescriptor, ITreeViewDragAndDropController, IViewBadge, IViewDescriptorService, IViewsRegistry, ResolvableTreeItem, TreeCommand, TreeItemCollapsibleState, TreeViewItemHandleArg, TreeViewPaneHandleArg, ViewContainer, ViewContainerLocation } from '../../../common/views.js';\nimport { IActivityService, NumberBadge } from '../../../services/activity/common/activity.js';\nimport { IExtensionService } from '../../../services/extensions/common/extensions.js';\nimport { IHoverService, WorkbenchHoverDelegate } from '../../../../platform/hover/browser/hover.js';\nimport { CodeDataTransfers, LocalSelectionTransfer } from '../../../../platform/dnd/browser/dnd.js';\nimport { toExternalVSDataTransfer } from '../../../../editor/browser/dataTransfer.js';\nimport { CheckboxStateHandler, TreeItemCheckbox } from './checkbox.js';\nimport { setTimeout0 } from '../../../../base/common/platform.js';\nimport { AriaRole } from '../../../../base/browser/ui/aria/aria.js';\nimport { TelemetryTrustedValue } from '../../../../platform/telemetry/common/telemetryUtils.js';\nimport { ITreeViewsDnDService } from '../../../../editor/common/services/treeViewsDndService.js';\nimport { DraggedTreeItemsIdentifier } from '../../../../editor/common/services/treeViewsDnd.js';\nimport { IMarkdownRendererService } from '../../../../platform/markdown/browser/markdownRenderer.js';\nimport type { IManagedHoverTooltipMarkdownString } from '../../../../base/browser/ui/hover/hover.js';\nimport { parseLinkedText } from '../../../../base/common/linkedText.js';\nimport { Button } from '../../../../base/browser/ui/button/button.js';\nimport { defaultButtonStyles } from '../../../../platform/theme/browser/defaultStyles.js';\nimport { IAccessibleViewInformationService } from '../../../services/accessibility/common/accessibleViewInformationService.js';\nimport { Command } from '../../../../editor/common/languages.js';\n\nexport class TreeViewPane extends ViewPane {\n\n\tprotected readonly treeView: ITreeView;\n\tprivate _container: HTMLElement | undefined;\n\tprivate _actionRunner: MultipleSelectionActionRunner;\n\n\tconstructor(\n\t\toptions: IViewletViewOptions,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@IOpenerService openerService: IOpenerService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@INotificationService notificationService: INotificationService,\n\t\t@IHoverService hoverService: IHoverService,\n\t\t@IAccessibleViewInformationService accessibleViewService: IAccessibleViewInformationService,\n\t) {\n\t\tsuper({ ...(options as IViewPaneOptions), titleMenuId: MenuId.ViewTitle, donotForwardArgs: false }, keybindingService, contextMenuService, configurationService, contextKeyService, viewDescriptorService, instantiationService, openerService, themeService, hoverService, accessibleViewService);\n\t\tconst { treeView } = (<ITreeViewDescriptor>Registry.as<IViewsRegistry>(Extensions.ViewsRegistry).getView(options.id));\n\t\tthis.treeView = treeView;\n\t\tthis._register(this.treeView.onDidChangeActions(() => this.updateActions(), this));\n\t\tthis._register(this.treeView.onDidChangeTitle((newTitle) => this.updateTitle(newTitle)));\n\t\tthis._register(this.treeView.onDidChangeDescription((newDescription) => this.updateTitleDescription(newDescription)));\n\t\tthis._register(toDisposable(() => {\n\t\t\tif (this._container && this.treeView.container && (this._container === this.treeView.container)) {\n\t\t\t\tthis.treeView.setVisibility(false);\n\t\t\t}\n\t\t}));\n\t\tthis._register(this.onDidChangeBodyVisibility(() => this.updateTreeVisibility()));\n\t\tthis._register(this.treeView.onDidChangeWelcomeState(() => this._onDidChangeViewWelcomeState.fire()));\n\t\tif (options.title !== this.treeView.title) {\n\t\t\tthis.updateTitle(this.treeView.title);\n\t\t}\n\t\tif (options.titleDescription !== this.treeView.description) {\n\t\t\tthis.updateTitleDescription(this.treeView.description);\n\t\t}\n\t\tthis._actionRunner = this._register(new MultipleSelectionActionRunner(notificationService, () => this.treeView.getSelection()));\n\n\t\tthis.updateTreeVisibility();\n\t}\n\n\toverride focus(): void {\n\t\tsuper.focus();\n\t\tthis.treeView.focus();\n\t}\n\n\tprotected override renderBody(container: HTMLElement): void {\n\t\tthis._container = container;\n\t\tsuper.renderBody(container);\n\t\tthis.renderTreeView(container);\n\t}\n\n\toverride shouldShowWelcome(): boolean {\n\t\treturn ((this.treeView.dataProvider === undefined) || !!this.treeView.dataProvider.isTreeEmpty) && ((this.treeView.message === undefined) || (this.treeView.message === ''));\n\t}\n\n\tprotected override layoutBody(height: number, width: number): void {\n\t\tsuper.layoutBody(height, width);\n\t\tthis.layoutTreeView(height, width);\n\t}\n\n\toverride getOptimalWidth(): number {\n\t\treturn this.treeView.getOptimalWidth();\n\t}\n\n\tprotected renderTreeView(container: HTMLElement): void {\n\t\tthis.treeView.show(container);\n\t}\n\n\tprotected layoutTreeView(height: number, width: number): void {\n\t\tthis.treeView.layout(height, width);\n\t}\n\n\tprivate updateTreeVisibility(): void {\n\t\tthis.treeView.setVisibility(this.isBodyVisible());\n\t}\n\n\toverride getActionRunner() {\n\t\treturn this._actionRunner;\n\t}\n\n\toverride getActionsContext(): TreeViewPaneHandleArg {\n\t\treturn { $treeViewId: this.id, $focusedTreeItem: true, $selectedTreeItems: true };\n\t}\n\n}\n\nclass Root implements ITreeItem {\n\tlabel = { label: 'root' };\n\thandle = '0';\n\tparentHandle: string | undefined = undefined;\n\tcollapsibleState = TreeItemCollapsibleState.Expanded;\n\tchildren: ITreeItem[] | undefined = undefined;\n}\n\nfunction commandPreconditions(commandId: string): ContextKeyExpression | undefined {\n\tconst command = CommandsRegistry.getCommand(commandId);\n\tif (command) {\n\t\tconst commandAction = MenuRegistry.getCommand(command.id);\n\t\treturn commandAction?.precondition;\n\t}\n\treturn undefined;\n}\n\nfunction isTreeCommandEnabled(treeCommand: TreeCommand | Command, contextKeyService: IContextKeyService): boolean {\n\tconst commandId: string = (treeCommand as TreeCommand).originalId ? (treeCommand as TreeCommand).originalId! : treeCommand.id;\n\tconst precondition = commandPreconditions(commandId);\n\tif (precondition) {\n\t\treturn contextKeyService.contextMatchesRules(precondition);\n\t}\n\n\treturn true;\n}\n\ninterface RenderedMessage { element: HTMLElement; disposables: DisposableStore }\n\nfunction isRenderedMessageValue(messageValue: string | RenderedMessage | undefined): messageValue is RenderedMessage {\n\treturn !!messageValue && typeof messageValue !== 'string' && !!messageValue.element && !!messageValue.disposables;\n}\n\nconst noDataProviderMessage = localize('no-dataprovider', \"There is no data provider registered that can provide view data.\");\n\nexport const RawCustomTreeViewContextKey = new RawContextKey<boolean>('customTreeView', false);\n\nclass Tree extends WorkbenchAsyncDataTree<ITreeItem, ITreeItem, FuzzyScore> { }\n\nabstract class AbstractTreeView extends Disposable implements ITreeView {\n\n\tprivate isVisible: boolean = false;\n\tprivate _hasIconForParentNode = false;\n\tprivate _hasIconForLeafNode = false;\n\n\tprivate collapseAllContextKey: RawContextKey<boolean> | undefined;\n\tprivate collapseAllContext: IContextKey<boolean> | undefined;\n\tprivate collapseAllToggleContextKey: RawContextKey<boolean> | undefined;\n\tprivate collapseAllToggleContext: IContextKey<boolean> | undefined;\n\tprivate refreshContextKey: RawContextKey<boolean> | undefined;\n\tprivate refreshContext: IContextKey<boolean> | undefined;\n\n\tprivate focused: boolean = false;\n\tprivate domNode!: HTMLElement;\n\tprivate treeContainer: HTMLElement | undefined;\n\tprivate _messageValue: string | { element: HTMLElement; disposables: DisposableStore } | undefined;\n\tprivate _canSelectMany: boolean = false;\n\tprivate _manuallyManageCheckboxes: boolean = false;\n\tprivate messageElement: HTMLElement | undefined;\n\tprivate tree: Tree | undefined;\n\tprivate treeLabels: ResourceLabels | undefined;\n\tprivate treeViewDnd: CustomTreeViewDragAndDrop | undefined;\n\tprivate _container: HTMLElement | undefined;\n\n\tprivate root: ITreeItem;\n\tprivate elementsToRefresh: ITreeItem[] = [];\n\tprivate lastSelection: readonly ITreeItem[] = [];\n\tprivate lastActive: ITreeItem;\n\n\tprivate readonly _onDidExpandItem: Emitter<ITreeItem> = this._register(new Emitter<ITreeItem>());\n\tget onDidExpandItem(): Event<ITreeItem> { return this._onDidExpandItem.event; }\n\n\tprivate readonly _onDidCollapseItem: Emitter<ITreeItem> = this._register(new Emitter<ITreeItem>());\n\tget onDidCollapseItem(): Event<ITreeItem> { return this._onDidCollapseItem.event; }\n\n\tprivate _onDidChangeSelectionAndFocus: Emitter<{ selection: readonly ITreeItem[]; focus: ITreeItem }> = this._register(new Emitter<{ selection: readonly ITreeItem[]; focus: ITreeItem }>());\n\tget onDidChangeSelectionAndFocus(): Event<{ selection: readonly ITreeItem[]; focus: ITreeItem }> { return this._onDidChangeSelectionAndFocus.event; }\n\n\tprivate readonly _onDidChangeVisibility: Emitter<boolean> = this._register(new Emitter<boolean>());\n\tget onDidChangeVisibility(): Event<boolean> { return this._onDidChangeVisibility.event; }\n\n\tprivate readonly _onDidChangeActions: Emitter<void> = this._register(new Emitter<void>());\n\tget onDidChangeActions(): Event<void> { return this._onDidChangeActions.event; }\n\n\tprivate readonly _onDidChangeWelcomeState: Emitter<void> = this._register(new Emitter<void>());\n\tget onDidChangeWelcomeState(): Event<void> { return this._onDidChangeWelcomeState.event; }\n\n\tprivate readonly _onDidChangeTitle: Emitter<string> = this._register(new Emitter<string>());\n\tget onDidChangeTitle(): Event<string> { return this._onDidChangeTitle.event; }\n\n\tprivate readonly _onDidChangeDescription: Emitter<string | undefined> = this._register(new Emitter<string | undefined>());\n\tget onDidChangeDescription(): Event<string | undefined> { return this._onDidChangeDescription.event; }\n\n\tprivate readonly _onDidChangeCheckboxState: Emitter<readonly ITreeItem[]> = this._register(new Emitter<readonly ITreeItem[]>());\n\tget onDidChangeCheckboxState(): Event<readonly ITreeItem[]> { return this._onDidChangeCheckboxState.event; }\n\n\tprivate readonly _onDidCompleteRefresh: Emitter<void> = this._register(new Emitter<void>());\n\n\tconstructor(\n\t\treadonly id: string,\n\t\tprivate _title: string,\n\t\t@IThemeService private readonly themeService: IThemeService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@ICommandService private readonly commandService: ICommandService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@IProgressService protected readonly progressService: IProgressService,\n\t\t@IContextMenuService private readonly contextMenuService: IContextMenuService,\n\t\t@IKeybindingService private readonly keybindingService: IKeybindingService,\n\t\t@INotificationService private readonly notificationService: INotificationService,\n\t\t@IViewDescriptorService private readonly viewDescriptorService: IViewDescriptorService,\n\t\t@IHoverService private readonly hoverService: IHoverService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IActivityService private readonly activityService: IActivityService,\n\t\t@ILogService private readonly logService: ILogService,\n\t\t@IOpenerService private readonly openerService: IOpenerService,\n\t\t@IMarkdownRendererService private readonly markdownRendererService: IMarkdownRendererService,\n\t) {\n\t\tsuper();\n\t\tthis.root = new Root();\n\t\tthis.lastActive = this.root;\n\t\t// Try not to add anything that could be costly to this constructor. It gets called once per tree view\n\t\t// during startup, and anything added here can affect performance.\n\t}\n\n\tprivate _isInitialized: boolean = false;\n\tprivate initialize() {\n\t\tif (this._isInitialized) {\n\t\t\treturn;\n\t\t}\n\t\tthis._isInitialized = true;\n\n\t\t// Remember when adding to this method that it isn't called until the view is visible, meaning that\n\t\t// properties could be set and events could be fired before we're initialized and that this needs to be handled.\n\n\t\tthis.contextKeyService.bufferChangeEvents(() => {\n\t\t\tthis.initializeShowCollapseAllAction();\n\t\t\tthis.initializeCollapseAllToggle();\n\t\t\tthis.initializeShowRefreshAction();\n\t\t});\n\n\t\tthis.treeViewDnd = this.instantiationService.createInstance(CustomTreeViewDragAndDrop, this.id);\n\t\tif (this._dragAndDropController) {\n\t\t\tthis.treeViewDnd.controller = this._dragAndDropController;\n\t\t}\n\n\t\tthis._register(this.configurationService.onDidChangeConfiguration(e => {\n\t\t\tif (e.affectsConfiguration('explorer.decorations')) {\n\t\t\t\tthis.doRefresh([this.root]); /** soft refresh **/\n\t\t\t}\n\t\t}));\n\t\tthis._register(this.viewDescriptorService.onDidChangeLocation(({ views, from, to }) => {\n\t\t\tif (views.some(v => v.id === this.id)) {\n\t\t\t\tthis.tree?.updateOptions({ overrideStyles: getLocationBasedViewColors(this.viewLocation).listOverrideStyles });\n\t\t\t}\n\t\t}));\n\t\tthis.registerActions();\n\n\t\tthis.create();\n\t}\n\n\tget viewContainer(): ViewContainer {\n\t\treturn this.viewDescriptorService.getViewContainerByViewId(this.id)!;\n\t}\n\n\tget viewLocation(): ViewContainerLocation {\n\t\treturn this.viewDescriptorService.getViewLocationById(this.id)!;\n\t}\n\tprivate _dragAndDropController: ITreeViewDragAndDropController | undefined;\n\tget dragAndDropController(): ITreeViewDragAndDropController | undefined {\n\t\treturn this._dragAndDropController;\n\t}\n\tset dragAndDropController(dnd: ITreeViewDragAndDropController | undefined) {\n\t\tthis._dragAndDropController = dnd;\n\t\tif (this.treeViewDnd) {\n\t\t\tthis.treeViewDnd.controller = dnd;\n\t\t}\n\t}\n\n\tprivate _dataProvider: ITreeViewDataProvider | undefined;\n\tget dataProvider(): ITreeViewDataProvider | undefined {\n\t\treturn this._dataProvider;\n\t}\n\n\tset dataProvider(dataProvider: ITreeViewDataProvider | undefined) {\n\t\tif (dataProvider) {\n\t\t\tif (this.visible) {\n\t\t\t\tthis.activate();\n\t\t\t}\n\t\t\tconst self = this;\n\t\t\tthis._dataProvider = new class implements ITreeViewDataProvider {\n\t\t\t\tprivate _isEmpty: boolean = true;\n\t\t\t\tprivate _onDidChangeEmpty: Emitter<void> = new Emitter();\n\t\t\t\tpublic onDidChangeEmpty: Event<void> = this._onDidChangeEmpty.event;\n\n\t\t\t\tget isTreeEmpty(): boolean {\n\t\t\t\t\treturn this._isEmpty;\n\t\t\t\t}\n\n\t\t\t\tasync getChildren(element?: ITreeItem): Promise<ITreeItem[] | undefined> {\n\t\t\t\t\tconst batches = await this.getChildrenBatch(element ? [element] : undefined);\n\t\t\t\t\treturn batches?.[0];\n\t\t\t\t}\n\n\t\t\t\tprivate updateEmptyState(nodes: ITreeItem[], childrenGroups: ITreeItem[][]): void {\n\t\t\t\t\tif ((nodes.length === 1) && (nodes[0] instanceof Root)) {\n\t\t\t\t\t\tconst oldEmpty = this._isEmpty;\n\t\t\t\t\t\tthis._isEmpty = (childrenGroups.length === 0) || (childrenGroups[0].length === 0);\n\t\t\t\t\t\tif (oldEmpty !== this._isEmpty) {\n\t\t\t\t\t\t\tthis._onDidChangeEmpty.fire();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tprivate findCheckboxesUpdated(nodes: ITreeItem[], childrenGroups: ITreeItem[][]): ITreeItem[] {\n\t\t\t\t\tif (childrenGroups.length === 0) {\n\t\t\t\t\t\treturn [];\n\t\t\t\t\t}\n\t\t\t\t\tconst checkboxesUpdated: ITreeItem[] = [];\n\n\t\t\t\t\tfor (let i = 0; i < nodes.length; i++) {\n\t\t\t\t\t\tconst node = nodes[i];\n\t\t\t\t\t\tconst children = childrenGroups[i];\n\t\t\t\t\t\tfor (const child of children) {\n\t\t\t\t\t\t\tchild.parent = node;\n\t\t\t\t\t\t\tif (!self.manuallyManageCheckboxes && (node?.checkbox?.isChecked === true) && (child.checkbox?.isChecked === false)) {\n\t\t\t\t\t\t\t\tchild.checkbox.isChecked = true;\n\t\t\t\t\t\t\t\tcheckboxesUpdated.push(child);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn checkboxesUpdated;\n\t\t\t\t}\n\n\t\t\t\tasync getChildrenBatch(nodes?: ITreeItem[]): Promise<ITreeItem[][]> {\n\t\t\t\t\tlet childrenGroups: ITreeItem[][];\n\t\t\t\t\tlet checkboxesUpdated: ITreeItem[] = [];\n\t\t\t\t\tif (nodes?.every((node): node is Required<ITreeItem & { children: ITreeItem[] }> => !!node.children)) {\n\t\t\t\t\t\tchildrenGroups = nodes.map(node => node.children);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnodes = nodes ?? [self.root];\n\t\t\t\t\t\tconst batchedChildren = await (nodes.length === 1 && nodes[0] instanceof Root ? doGetChildrenOrBatch(dataProvider, undefined) : doGetChildrenOrBatch(dataProvider, nodes));\n\t\t\t\t\t\tfor (let i = 0; i < nodes.length; i++) {\n\t\t\t\t\t\t\tconst node = nodes[i];\n\t\t\t\t\t\t\tnode.children = batchedChildren ? batchedChildren[i] : undefined;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tchildrenGroups = batchedChildren ?? [];\n\t\t\t\t\t\tcheckboxesUpdated = this.findCheckboxesUpdated(nodes, childrenGroups);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.updateEmptyState(nodes, childrenGroups);\n\n\t\t\t\t\tif (checkboxesUpdated.length > 0) {\n\t\t\t\t\t\tself._onDidChangeCheckboxState.fire(checkboxesUpdated);\n\t\t\t\t\t}\n\t\t\t\t\treturn childrenGroups;\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (this._dataProvider.onDidChangeEmpty) {\n\t\t\t\tthis._register(this._dataProvider.onDidChangeEmpty(() => {\n\t\t\t\t\tthis.updateCollapseAllToggle();\n\t\t\t\t\tthis._onDidChangeWelcomeState.fire();\n\t\t\t\t}));\n\t\t\t}\n\t\t\tthis.updateMessage();\n\t\t\tthis.refresh();\n\t\t} else {\n\t\t\tthis._dataProvider = undefined;\n\t\t\tthis.treeDisposables.clear();\n\t\t\tthis.activated = false;\n\t\t\tthis.updateMessage();\n\t\t}\n\n\t\tthis._onDidChangeWelcomeState.fire();\n\t}\n\n\tprivate _message: string | IMarkdownString | undefined;\n\tget message(): string | IMarkdownString | undefined {\n\t\treturn this._message;\n\t}\n\n\tset message(message: string | IMarkdownString | undefined) {\n\t\tthis._message = message;\n\t\tthis.updateMessage();\n\t\tthis._onDidChangeWelcomeState.fire();\n\t}\n\n\tget title(): string {\n\t\treturn this._title;\n\t}\n\n\tset title(name: string) {\n\t\tthis._title = name;\n\t\tif (this.tree) {\n\t\t\tthis.tree.ariaLabel = this._title;\n\t\t}\n\t\tthis._onDidChangeTitle.fire(this._title);\n\t}\n\n\tprivate _description: string | undefined;\n\tget description(): string | undefined {\n\t\treturn this._description;\n\t}\n\n\tset description(description: string | undefined) {\n\t\tthis._description = description;\n\t\tthis._onDidChangeDescription.fire(this._description);\n\t}\n\n\tprivate _badge: IViewBadge | undefined;\n\tprivate readonly _activity = this._register(new MutableDisposable<IDisposable>());\n\n\tget badge(): IViewBadge | undefined {\n\t\treturn this._badge;\n\t}\n\n\tset badge(badge: IViewBadge | undefined) {\n\n\t\tif (this._badge?.value === badge?.value &&\n\t\t\tthis._badge?.tooltip === badge?.tooltip) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._badge = badge;\n\t\tif (badge) {\n\t\t\tconst activity = {\n\t\t\t\tbadge: new NumberBadge(badge.value, () => badge.tooltip),\n\t\t\t\tpriority: 50\n\t\t\t};\n\t\t\tthis._activity.value = this.activityService.showViewActivity(this.id, activity);\n\t\t} else {\n\t\t\tthis._activity.clear();\n\t\t}\n\t}\n\n\tget canSelectMany(): boolean {\n\t\treturn this._canSelectMany;\n\t}\n\n\tset canSelectMany(canSelectMany: boolean) {\n\t\tconst oldCanSelectMany = this._canSelectMany;\n\t\tthis._canSelectMany = canSelectMany;\n\t\tif (this._canSelectMany !== oldCanSelectMany) {\n\t\t\tthis.tree?.updateOptions({ multipleSelectionSupport: this.canSelectMany });\n\t\t}\n\t}\n\n\tget manuallyManageCheckboxes(): boolean {\n\t\treturn this._manuallyManageCheckboxes;\n\t}\n\n\tset manuallyManageCheckboxes(manuallyManageCheckboxes: boolean) {\n\t\tthis._manuallyManageCheckboxes = manuallyManageCheckboxes;\n\t}\n\n\tget hasIconForParentNode(): boolean {\n\t\treturn this._hasIconForParentNode;\n\t}\n\n\tget hasIconForLeafNode(): boolean {\n\t\treturn this._hasIconForLeafNode;\n\t}\n\n\tget visible(): boolean {\n\t\treturn this.isVisible;\n\t}\n\n\tprivate initializeShowCollapseAllAction(startingValue: boolean = false) {\n\t\tif (!this.collapseAllContext) {\n\t\t\tthis.collapseAllContextKey = new RawContextKey<boolean>(`treeView.${this.id}.enableCollapseAll`, startingValue, localize('treeView.enableCollapseAll', \"Whether the tree view with id {0} enables collapse all.\", this.id));\n\t\t\tthis.collapseAllContext = this.collapseAllContextKey.bindTo(this.contextKeyService);\n\t\t}\n\t\treturn true;\n\t}\n\n\tget showCollapseAllAction(): boolean {\n\t\tthis.initializeShowCollapseAllAction();\n\t\treturn !!this.collapseAllContext?.get();\n\t}\n\n\tset showCollapseAllAction(showCollapseAllAction: boolean) {\n\t\tthis.initializeShowCollapseAllAction(showCollapseAllAction);\n\t\tthis.collapseAllContext?.set(showCollapseAllAction);\n\t}\n\n\n\tprivate initializeShowRefreshAction(startingValue: boolean = false) {\n\t\tif (!this.refreshContext) {\n\t\t\tthis.refreshContextKey = new RawContextKey<boolean>(`treeView.${this.id}.enableRefresh`, startingValue, localize('treeView.enableRefresh', \"Whether the tree view with id {0} enables refresh.\", this.id));\n\t\t\tthis.refreshContext = this.refreshContextKey.bindTo(this.contextKeyService);\n\t\t}\n\t}\n\n\tget showRefreshAction(): boolean {\n\t\tthis.initializeShowRefreshAction();\n\t\treturn !!this.refreshContext?.get();\n\t}\n\n\tset showRefreshAction(showRefreshAction: boolean) {\n\t\tthis.initializeShowRefreshAction(showRefreshAction);\n\t\tthis.refreshContext?.set(showRefreshAction);\n\t}\n\n\tprivate registerActions() {\n\t\tconst that = this;\n\t\tthis._register(registerAction2(class extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: `workbench.actions.treeView.${that.id}.refresh`,\n\t\t\t\t\ttitle: localize('refresh', \"Refresh\"),\n\t\t\t\t\tmenu: {\n\t\t\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.equals('view', that.id), that.refreshContextKey),\n\t\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\t\torder: Number.MAX_SAFE_INTEGER - 1,\n\t\t\t\t\t},\n\t\t\t\t\ticon: Codicon.refresh\n\t\t\t\t});\n\t\t\t}\n\t\t\tasync run(): Promise<void> {\n\t\t\t\treturn that.refresh();\n\t\t\t}\n\t\t}));\n\t\tthis._register(registerAction2(class extends Action2 {\n\t\t\tconstructor() {\n\t\t\t\tsuper({\n\t\t\t\t\tid: `workbench.actions.treeView.${that.id}.collapseAll`,\n\t\t\t\t\ttitle: localize('collapseAll', \"Collapse All\"),\n\t\t\t\t\tmenu: {\n\t\t\t\t\t\tid: MenuId.ViewTitle,\n\t\t\t\t\t\twhen: ContextKeyExpr.and(ContextKeyExpr.equals('view', that.id), that.collapseAllContextKey),\n\t\t\t\t\t\tgroup: 'navigation',\n\t\t\t\t\t\torder: Number.MAX_SAFE_INTEGER,\n\t\t\t\t\t},\n\t\t\t\t\tprecondition: that.collapseAllToggleContextKey,\n\t\t\t\t\ticon: Codicon.collapseAll\n\t\t\t\t});\n\t\t\t}\n\t\t\tasync run(): Promise<void> {\n\t\t\t\tif (that.tree) {\n\t\t\t\t\treturn new CollapseAllAction<ITreeItem, ITreeItem, FuzzyScore>(that.tree, true).run();\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t}\n\n\tsetVisibility(isVisible: boolean): void {\n\t\t// Throughout setVisibility we need to check if the tree view's data provider still exists.\n\t\t// This can happen because the `getChildren` call to the extension can return\n\t\t// after the tree has been disposed.\n\n\t\tthis.initialize();\n\t\tisVisible = !!isVisible;\n\t\tif (this.isVisible === isVisible) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.isVisible = isVisible;\n\n\t\tif (this.tree) {\n\t\t\tif (this.isVisible) {\n\t\t\t\tDOM.show(this.tree.getHTMLElement());\n\t\t\t} else {\n\t\t\t\tDOM.hide(this.tree.getHTMLElement()); // make sure the tree goes out of the tabindex world by hiding it\n\t\t\t}\n\n\t\t\tif (this.isVisible && this.elementsToRefresh.length && this.dataProvider) {\n\t\t\t\tthis.doRefresh(this.elementsToRefresh);\n\t\t\t\tthis.elementsToRefresh = [];\n\t\t\t}\n\t\t}\n\n\t\tsetTimeout0(() => {\n\t\t\tif (this.dataProvider) {\n\t\t\t\tthis._onDidChangeVisibility.fire(this.isVisible);\n\t\t\t}\n\t\t});\n\n\t\tif (this.visible) {\n\t\t\tthis.activate();\n\t\t}\n\t}\n\n\tprotected activated: boolean = false;\n\tprotected abstract activate(): void;\n\n\tfocus(reveal: boolean = true, revealItem?: ITreeItem): void {\n\t\tif (this.tree && this.root.children && this.root.children.length > 0) {\n\t\t\t// Make sure the current selected element is revealed\n\t\t\tconst element = revealItem ?? this.tree.getSelection()[0];\n\t\t\tif (element && reveal) {\n\t\t\t\tthis.tree.reveal(element, 0.5);\n\t\t\t}\n\n\t\t\t// Pass Focus to Viewer\n\t\t\tthis.tree.domFocus();\n\t\t} else if (this.tree && this.treeContainer && !this.treeContainer.classList.contains('hide')) {\n\t\t\tthis.tree.domFocus();\n\t\t} else {\n\t\t\tthis.domNode.focus();\n\t\t}\n\t}\n\n\tshow(container: HTMLElement): void {\n\t\tthis._container = container;\n\t\tDOM.append(container, this.domNode);\n\t}\n\n\tprivate create() {\n\t\tthis.domNode = DOM.$('.tree-explorer-viewlet-tree-view');\n\t\tthis.messageElement = DOM.append(this.domNode, DOM.$('.message'));\n\t\tthis.updateMessage();\n\t\tthis.treeContainer = DOM.append(this.domNode, DOM.$('.customview-tree'));\n\t\tthis.treeContainer.classList.add('file-icon-themable-tree', 'show-file-icons');\n\t\tconst focusTracker = this._register(DOM.trackFocus(this.domNode));\n\t\tthis._register(focusTracker.onDidFocus(() => this.focused = true));\n\t\tthis._register(focusTracker.onDidBlur(() => this.focused = false));\n\t}\n\n\tprivate readonly treeDisposables: DisposableStore = this._register(new DisposableStore());\n\tprotected createTree() {\n\t\tthis.treeDisposables.clear();\n\t\tconst actionViewItemProvider = createActionViewItem.bind(undefined, this.instantiationService);\n\t\tconst treeMenus = this.treeDisposables.add(this.instantiationService.createInstance(TreeMenus, this.id));\n\t\tthis.treeLabels = this.treeDisposables.add(this.instantiationService.createInstance(ResourceLabels, this));\n\t\tconst dataSource = this.instantiationService.createInstance(TreeDataSource, this, <T>(task: Promise<T>) => this.progressService.withProgress({ location: this.id }, () => task));\n\t\tconst aligner = this.treeDisposables.add(new Aligner(this.themeService));\n\t\tconst checkboxStateHandler = this.treeDisposables.add(new CheckboxStateHandler());\n\t\tconst renderer = this.treeDisposables.add(this.instantiationService.createInstance(TreeRenderer, this.id, treeMenus, this.treeLabels, actionViewItemProvider, aligner, checkboxStateHandler, () => this.manuallyManageCheckboxes));\n\t\tthis.treeDisposables.add(renderer.onDidChangeCheckboxState(e => this._onDidChangeCheckboxState.fire(e)));\n\n\t\tconst widgetAriaLabel = this._title;\n\n\t\tthis.tree = this.treeDisposables.add(this.instantiationService.createInstance(Tree, this.id, this.treeContainer!, new TreeViewDelegate(), [renderer],\n\t\t\tdataSource, {\n\t\t\tidentityProvider: new TreeViewIdentityProvider(),\n\t\t\taccessibilityProvider: {\n\t\t\t\tgetAriaLabel(element: ITreeItem): string | null {\n\t\t\t\t\tif (element.accessibilityInformation) {\n\t\t\t\t\t\treturn element.accessibilityInformation.label;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (isString(element.tooltip)) {\n\t\t\t\t\t\treturn element.tooltip;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (element.resourceUri && !element.label) {\n\t\t\t\t\t\t\t// The custom tree has no good information on what should be used for the aria label.\n\t\t\t\t\t\t\t// Allow the tree widget's default aria label to be used.\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet buildAriaLabel: string = '';\n\t\t\t\t\t\tif (element.label) {\n\t\t\t\t\t\t\tconst labelText = isMarkdownString(element.label.label) ? element.label.label.value : element.label.label;\n\t\t\t\t\t\t\tbuildAriaLabel += labelText + ' ';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (element.description) {\n\t\t\t\t\t\t\tbuildAriaLabel += element.description;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn buildAriaLabel;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tgetRole(element: ITreeItem): AriaRole | undefined {\n\t\t\t\t\treturn element.accessibilityInformation?.role ?? 'treeitem';\n\t\t\t\t},\n\t\t\t\tgetWidgetAriaLabel(): string {\n\t\t\t\t\treturn widgetAriaLabel;\n\t\t\t\t}\n\t\t\t},\n\t\t\tkeyboardNavigationLabelProvider: {\n\t\t\t\tgetKeyboardNavigationLabel: (item: ITreeItem) => {\n\t\t\t\t\tif (item.label) {\n\t\t\t\t\t\treturn isMarkdownString(item.label.label) ? item.label.label.value : item.label.label;\n\t\t\t\t\t}\n\t\t\t\t\treturn item.resourceUri ? basename(URI.revive(item.resourceUri)) : undefined;\n\t\t\t\t}\n\t\t\t},\n\t\t\texpandOnlyOnTwistieClick: (e: ITreeItem) => {\n\t\t\t\treturn !!e.command || !!e.checkbox || this.configurationService.getValue<'singleClick' | 'doubleClick'>('workbench.tree.expandMode') === 'doubleClick';\n\t\t\t},\n\t\t\tcollapseByDefault: (e: ITreeItem): boolean => {\n\t\t\t\treturn e.collapsibleState !== TreeItemCollapsibleState.Expanded;\n\t\t\t},\n\t\t\tmultipleSelectionSupport: this.canSelectMany,\n\t\t\tdnd: this.treeViewDnd,\n\t\t\toverrideStyles: getLocationBasedViewColors(this.viewLocation).listOverrideStyles\n\t\t}));\n\n\t\tthis.treeDisposables.add(renderer.onDidChangeMenuContext(e => e.forEach(e => this.tree?.rerender(e))));\n\n\t\tthis.treeDisposables.add(this.tree);\n\t\ttreeMenus.setContextKeyService(this.tree.contextKeyService);\n\t\taligner.tree = this.tree;\n\t\tconst actionRunner = this.treeDisposables.add(new MultipleSelectionActionRunner(this.notificationService, () => this.tree!.getSelection()));\n\t\trenderer.actionRunner = actionRunner;\n\n\t\tthis.tree.contextKeyService.createKey<boolean>(this.id, true);\n\t\tconst customTreeKey = RawCustomTreeViewContextKey.bindTo(this.tree.contextKeyService);\n\t\tcustomTreeKey.set(true);\n\t\tthis.treeDisposables.add(this.tree.onContextMenu(e => this.onContextMenu(treeMenus, e, actionRunner)));\n\n\t\tthis.treeDisposables.add(this.tree.onDidChangeSelection(e => {\n\t\t\tthis.lastSelection = e.elements;\n\t\t\tthis.lastActive = this.tree?.getFocus()[0] ?? this.lastActive;\n\t\t\tthis._onDidChangeSelectionAndFocus.fire({ selection: this.lastSelection, focus: this.lastActive });\n\t\t}));\n\t\tthis.treeDisposables.add(this.tree.onDidChangeFocus(e => {\n\t\t\tif (e.elements.length && (e.elements[0] !== this.lastActive)) {\n\t\t\t\tthis.lastActive = e.elements[0];\n\t\t\t\tthis.lastSelection = this.tree?.getSelection() ?? this.lastSelection;\n\t\t\t\tthis._onDidChangeSelectionAndFocus.fire({ selection: this.lastSelection, focus: this.lastActive });\n\t\t\t}\n\t\t}));\n\t\tthis.treeDisposables.add(this.tree.onDidChangeCollapseState(e => {\n\t\t\tif (!e.node.element) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst element: ITreeItem = Array.isArray(e.node.element.element) ? e.node.element.element[0] : e.node.element.element;\n\t\t\tif (e.node.collapsed) {\n\t\t\t\tthis._onDidCollapseItem.fire(element);\n\t\t\t} else {\n\t\t\t\tthis._onDidExpandItem.fire(element);\n\t\t\t}\n\t\t}));\n\t\tthis.tree.setInput(this.root).then(() => this.updateContentAreas());\n\n\t\tthis.treeDisposables.add(this.tree.onDidOpen(async (e) => {\n\t\t\tif (!e.browserEvent) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (e.browserEvent.target && (e.browserEvent.target as HTMLElement).classList.contains(TreeItemCheckbox.checkboxClass)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst selection = this.tree!.getSelection();\n\t\t\tconst command = await this.resolveCommand(selection.length === 1 ? selection[0] : undefined);\n\n\t\t\tif (command && isTreeCommandEnabled(command, this.contextKeyService)) {\n\t\t\t\tlet args = command.arguments || [];\n\t\t\t\tif (command.id === API_OPEN_EDITOR_COMMAND_ID || command.id === API_OPEN_DIFF_EDITOR_COMMAND_ID) {\n\t\t\t\t\t// Some commands owned by us should receive the\n\t\t\t\t\t// `IOpenEvent` as context to open properly\n\t\t\t\t\targs = [...args, e];\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tawait this.commandService.executeCommand(command.id, ...args);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tthis.notificationService.error(err);\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\n\t\tthis.treeDisposables.add(treeMenus.onDidChange((changed) => {\n\t\t\tif (this.tree?.hasNode(changed)) {\n\t\t\t\tthis.tree?.rerender(changed);\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate async resolveCommand(element: ITreeItem | undefined): Promise<TreeCommand | undefined> {\n\t\tlet command = element?.command;\n\t\tif (element && !command) {\n\t\t\tif ((element instanceof ResolvableTreeItem) && element.hasResolve) {\n\t\t\t\tawait element.resolve(CancellationToken.None);\n\t\t\t\tcommand = element.command;\n\t\t\t}\n\t\t}\n\t\treturn command;\n\t}\n\n\n\tprivate onContextMenu(treeMenus: TreeMenus, treeEvent: ITreeContextMenuEvent<ITreeItem>, actionRunner: MultipleSelectionActionRunner): void {\n\t\tthis.hoverService.hideHover();\n\t\tconst node: ITreeItem | null = treeEvent.element;\n\t\tif (node === null) {\n\t\t\treturn;\n\t\t}\n\t\tconst event: UIEvent = treeEvent.browserEvent;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tthis.tree!.setFocus([node]);\n\t\tlet selected = this.canSelectMany ? this.getSelection() : [];\n\t\tif (!selected.find(item => item.handle === node.handle)) {\n\t\t\tselected = [node];\n\t\t}\n\n\t\tconst actions = treeMenus.getResourceContextActions(selected);\n\t\tif (!actions.length) {\n\t\t\treturn;\n\t\t}\n\t\tthis.contextMenuService.showContextMenu({\n\t\t\tgetAnchor: () => treeEvent.anchor,\n\n\t\t\tgetActions: () => actions,\n\n\t\t\tgetActionViewItem: (action) => {\n\t\t\t\tconst keybinding = this.keybindingService.lookupKeybinding(action.id);\n\t\t\t\tif (keybinding) {\n\t\t\t\t\treturn new ActionViewItem(action, action, { label: true, keybinding: keybinding.getLabel() });\n\t\t\t\t}\n\t\t\t\treturn undefined;\n\t\t\t},\n\n\t\t\tonHide: (wasCancelled?: boolean) => {\n\t\t\t\tif (wasCancelled) {\n\t\t\t\t\tthis.tree!.domFocus();\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tgetActionsContext: () => ({ $treeViewId: this.id, $treeItemHandle: node.handle } satisfies TreeViewItemHandleArg),\n\n\t\t\tactionRunner\n\t\t});\n\t}\n\n\tprotected updateMessage(): void {\n\t\tif (this._message) {\n\t\t\tthis.showMessage(this._message);\n\t\t} else if (!this.dataProvider) {\n\t\t\tthis.showMessage(noDataProviderMessage);\n\t\t} else {\n\t\t\tthis.hideMessage();\n\t\t}\n\t\tthis.updateContentAreas();\n\t}\n\n\tprivate processMessage(message: IMarkdownString, disposables: DisposableStore): HTMLElement {\n\t\tconst lines = message.value.split('\\n');\n\t\tconst result: (IRenderedMarkdown | HTMLElement)[] = [];\n\t\tlet hasFoundButton = false;\n\t\tfor (const line of lines) {\n\t\t\tconst linkedText = parseLinkedText(line);\n\n\t\t\tif (linkedText.nodes.length === 1 && typeof linkedText.nodes[0] !== 'string') {\n\t\t\t\tconst node = linkedText.nodes[0];\n\t\t\t\tconst buttonContainer = document.createElement('div');\n\t\t\t\tbuttonContainer.classList.add('button-container');\n\t\t\t\tconst button = new Button(buttonContainer, { title: node.title, secondary: hasFoundButton, supportIcons: true, ...defaultButtonStyles });\n\t\t\t\tbutton.label = node.label;\n\t\t\t\tbutton.onDidClick(_ => {\n\t\t\t\t\tthis.openerService.open(node.href, { allowCommands: true });\n\t\t\t\t}, null, disposables);\n\n\t\t\t\tconst href = URI.parse(node.href);\n\t\t\t\tif (href.scheme === Schemas.command) {\n\t\t\t\t\tconst preConditions = commandPreconditions(href.path);\n\t\t\t\t\tif (preConditions) {\n\t\t\t\t\t\tbutton.enabled = this.contextKeyService.contextMatchesRules(preConditions);\n\t\t\t\t\t\tdisposables.add(this.contextKeyService.onDidChangeContext(e => {\n\t\t\t\t\t\t\tif (e.affectsSome(new Set(preConditions.keys()))) {\n\t\t\t\t\t\t\t\tbutton.enabled = this.contextKeyService.contextMatchesRules(preConditions);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tdisposables.add(button);\n\t\t\t\thasFoundButton = true;\n\t\t\t\tresult.push(buttonContainer);\n\t\t\t} else {\n\t\t\t\thasFoundButton = false;\n\t\t\t\tconst rendered = this.markdownRendererService.render(new MarkdownString(line, { isTrusted: message.isTrusted, supportThemeIcons: message.supportThemeIcons, supportHtml: message.supportHtml }));\n\t\t\t\tresult.push(rendered.element);\n\t\t\t\tdisposables.add(rendered);\n\t\t\t}\n\t\t}\n\n\t\tconst container = document.createElement('div');\n\t\tcontainer.classList.add('rendered-message');\n\t\tfor (const child of result) {\n\t\t\tif (DOM.isHTMLElement(child)) {\n\t\t\t\tcontainer.appendChild(child);\n\t\t\t} else {\n\t\t\t\tcontainer.appendChild(child.element);\n\t\t\t}\n\t\t}\n\t\treturn container;\n\t}\n\n\tprivate showMessage(message: string | IMarkdownString): void {\n\t\tif (isRenderedMessageValue(this._messageValue)) {\n\t\t\tthis._messageValue.disposables.dispose();\n\t\t}\n\t\tif (isMarkdownString(message)) {\n\t\t\tconst disposables = new DisposableStore();\n\t\t\tconst renderedMessage = this.processMessage(message, disposables);\n\t\t\tthis._messageValue = { element: renderedMessage, disposables };\n\t\t} else {\n\t\t\tthis._messageValue = message;\n\t\t}\n\t\tif (!this.messageElement) {\n\t\t\treturn;\n\t\t}\n\t\tthis.messageElement.classList.remove('hide');\n\t\tthis.resetMessageElement();\n\t\tif (typeof this._messageValue === 'string' && !isFalsyOrWhitespace(this._messageValue)) {\n\t\t\tthis.messageElement.textContent = this._messageValue;\n\t\t} else if (isRenderedMessageValue(this._messageValue)) {\n\t\t\tthis.messageElement.appendChild(this._messageValue.element);\n\t\t}\n\t\tthis.layout(this._height, this._width);\n\t}\n\n\tprivate hideMessage(): void {\n\t\tthis.resetMessageElement();\n\t\tthis.messageElement?.classList.add('hide');\n\t\tthis.layout(this._height, this._width);\n\t}\n\n\tprivate resetMessageElement(): void {\n\t\tif (this.messageElement) {\n\t\t\tDOM.clearNode(this.messageElement);\n\t\t}\n\t}\n\n\tprivate _height: number = 0;\n\tprivate _width: number = 0;\n\tlayout(height: number, width: number) {\n\t\tif (height && width && this.messageElement && this.treeContainer) {\n\t\t\tthis._height = height;\n\t\t\tthis._width = width;\n\t\t\tconst treeHeight = height - DOM.getTotalHeight(this.messageElement);\n\t\t\tthis.treeContainer.style.height = treeHeight + 'px';\n\t\t\tthis.tree?.layout(treeHeight, width);\n\t\t}\n\t}\n\n\tgetOptimalWidth(): number {\n\t\tif (this.tree) {\n\t\t\tconst parentNode = this.tree.getHTMLElement();\n\t\t\t// eslint-disable-next-line no-restricted-syntax\n\t\t\tconst childNodes = ([] as HTMLElement[]).slice.call(parentNode.querySelectorAll('.outline-item-label > a'));\n\t\t\treturn DOM.getLargestChildWidth(parentNode, childNodes);\n\t\t}\n\t\treturn 0;\n\t}\n\n\tprivate updateCheckboxes(elements: readonly ITreeItem[]): ITreeItem[] {\n\t\treturn setCascadingCheckboxUpdates(elements);\n\t}\n\n\tasync refresh(elements?: readonly ITreeItem[], checkboxes?: readonly ITreeItem[]): Promise<void> {\n\t\tif (this.dataProvider && this.tree) {\n\t\t\tif (this.refreshing) {\n\t\t\t\tawait Event.toPromise(this._onDidCompleteRefresh.event);\n\t\t\t}\n\t\t\tif (!elements) {\n\t\t\t\telements = [this.root];\n\t\t\t\t// remove all waiting elements to refresh if root is asked to refresh\n\t\t\t\tthis.elementsToRefresh = [];\n\t\t\t}\n\t\t\tfor (const element of elements) {\n\t\t\t\telement.children = undefined; // reset children\n\t\t\t}\n\t\t\tif (this.isVisible) {\n\t\t\t\tconst affectedElements = this.updateCheckboxes(checkboxes ?? []);\n\t\t\t\treturn this.doRefresh(elements.concat(affectedElements));\n\t\t\t} else {\n\t\t\t\tif (this.elementsToRefresh.length) {\n\t\t\t\t\tconst seen: Set<string> = new Set<string>();\n\t\t\t\t\tthis.elementsToRefresh.forEach(element => seen.add(element.handle));\n\t\t\t\t\tfor (const element of elements) {\n\t\t\t\t\t\tif (!seen.has(element.handle)) {\n\t\t\t\t\t\t\tthis.elementsToRefresh.push(element);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.elementsToRefresh.push(...elements);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tasync expand(itemOrItems: ITreeItem | ITreeItem[]): Promise<void> {\n\t\tconst tree = this.tree;\n\t\tif (!tree) {\n\t\t\treturn;\n\t\t}\n\t\ttry {\n\t\t\titemOrItems = Array.isArray(itemOrItems) ? itemOrItems : [itemOrItems];\n\t\t\tfor (const element of itemOrItems) {\n\t\t\t\tawait tree.expand(element, false);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t// The extension could have changed the tree during the reveal.\n\t\t\t// Because of that, we ignore errors.\n\t\t}\n\t}\n\n\tisCollapsed(item: ITreeItem): boolean {\n\t\treturn !!this.tree?.isCollapsed(item);\n\t}\n\n\tsetSelection(items: ITreeItem[]): void {\n\t\tthis.tree?.setSelection(items);\n\t}\n\n\tgetSelection(): ITreeItem[] {\n\t\treturn this.tree?.getSelection() ?? [];\n\t}\n\n\tsetFocus(item?: ITreeItem): void {\n\t\tif (this.tree) {\n\t\t\tif (item) {\n\t\t\t\tthis.focus(true, item);\n\t\t\t\tthis.tree.setFocus([item]);\n\t\t\t} else if (this.tree.getFocus().length === 0) {\n\t\t\t\tthis.tree.setFocus([]);\n\t\t\t}\n\t\t}\n\t}\n\n\tasync reveal(item: ITreeItem): Promise<void> {\n\t\tif (this.tree) {\n\t\t\treturn this.tree.reveal(item);\n\t\t}\n\t}\n\n\tprivate refreshing: boolean = false;\n\tprivate async doRefresh(elements: readonly ITreeItem[]): Promise<void> {\n\t\tconst tree = this.tree;\n\t\tif (tree && this.visible) {\n\t\t\tthis.refreshing = true;\n\t\t\tconst oldSelection = tree.getSelection();\n\t\t\ttry {\n\t\t\t\tawait Promise.all(elements.map(element => tree.updateChildren(element, true, true)));\n\t\t\t} catch (e) {\n\t\t\t\t// When multiple calls are made to refresh the tree in quick succession,\n\t\t\t\t// we can get a \"Tree element not found\" error. This is expected.\n\t\t\t\t// Ideally this is fixable, so log instead of ignoring so the error is preserved.\n\t\t\t\tthis.logService.error(e);\n\t\t\t}\n\t\t\tconst newSelection = tree.getSelection();\n\t\t\tif (oldSelection.length !== newSelection.length || oldSelection.some((value, index) => value.handle !== newSelection[index].handle)) {\n\t\t\t\tthis.lastSelection = newSelection;\n\t\t\t\tthis._onDidChangeSelectionAndFocus.fire({ selection: this.lastSelection, focus: this.lastActive });\n\t\t\t}\n\t\t\tthis.refreshing = false;\n\t\t\tthis._onDidCompleteRefresh.fire();\n\t\t\tthis.updateContentAreas();\n\t\t\tif (this.focused) {\n\t\t\t\tthis.focus(false);\n\t\t\t}\n\t\t\tthis.updateCollapseAllToggle();\n\t\t}\n\t}\n\n\tprivate initializeCollapseAllToggle() {\n\t\tif (!this.collapseAllToggleContext) {\n\t\t\tthis.collapseAllToggleContextKey = new RawContextKey<boolean>(`treeView.${this.id}.toggleCollapseAll`, false, localize('treeView.toggleCollapseAll', \"Whether collapse all is toggled for the tree view with id {0}.\", this.id));\n\t\t\tthis.collapseAllToggleContext = this.collapseAllToggleContextKey.bindTo(this.contextKeyService);\n\t\t}\n\t}\n\n\tprivate updateCollapseAllToggle() {\n\t\tif (this.showCollapseAllAction) {\n\t\t\tthis.initializeCollapseAllToggle();\n\t\t\tthis.collapseAllToggleContext?.set(!!this.root.children && (this.root.children.length > 0) &&\n\t\t\t\tthis.root.children.some(value => value.collapsibleState !== TreeItemCollapsibleState.None));\n\t\t}\n\t}\n\n\tprivate updateContentAreas(): void {\n\t\tconst isTreeEmpty = !this.root.children || this.root.children.length === 0;\n\t\t// Hide tree container only when there is a message and tree is empty and not refreshing\n\t\tif (this._messageValue && isTreeEmpty && !this.refreshing && this.treeContainer) {\n\t\t\t// If there's a dnd controller then hiding the tree prevents it from being dragged into.\n\t\t\tif (!this.dragAndDropController) {\n\t\t\t\tthis.treeContainer.classList.add('hide');\n\t\t\t}\n\t\t\tthis.domNode.setAttribute('tabindex', '0');\n\t\t} else if (this.treeContainer) {\n\t\t\tthis.treeContainer.classList.remove('hide');\n\t\t\tif (this.domNode === DOM.getActiveElement()) {\n\t\t\t\tthis.focus();\n\t\t\t}\n\t\t\tthis.domNode.removeAttribute('tabindex');\n\t\t}\n\t}\n\n\tget container(): HTMLElement | undefined {\n\t\treturn this._container;\n\t}\n}\n\nclass TreeViewIdentityProvider implements IIdentityProvider<ITreeItem> {\n\tgetId(element: ITreeItem): { toString(): string } {\n\t\treturn element.handle;\n\t}\n}\n\nclass TreeViewDelegate implements IListVirtualDelegate<ITreeItem> {\n\n\tgetHeight(element: ITreeItem): number {\n\t\treturn TreeRenderer.ITEM_HEIGHT;\n\t}\n\n\tgetTemplateId(element: ITreeItem): string {\n\t\treturn TreeRenderer.TREE_TEMPLATE_ID;\n\t}\n}\n\nasync function doGetChildrenOrBatch(dataProvider: ITreeViewDataProvider, nodes: ITreeItem[] | undefined): Promise<ITreeItem[][] | undefined> {\n\tif (dataProvider.getChildrenBatch) {\n\t\treturn dataProvider.getChildrenBatch(nodes);\n\t} else {\n\t\tif (nodes) {\n\t\t\treturn Promise.all(nodes.map(node => dataProvider.getChildren(node).then(children => children ?? [])));\n\t\t} else {\n\t\t\treturn [await dataProvider.getChildren()].filter(children => children !== undefined);\n\t\t}\n\t}\n}\n\nclass TreeDataSource implements IAsyncDataSource<ITreeItem, ITreeItem> {\n\n\tconstructor(\n\t\tprivate treeView: ITreeView,\n\t\tprivate withProgress: <T>(task: Promise<T>) => Promise<T>\n\t) {\n\t}\n\n\thasChildren(element: ITreeItem): boolean {\n\t\treturn !!this.treeView.dataProvider && (element.collapsibleState !== TreeItemCollapsibleState.None);\n\t}\n\n\tprivate batch: ITreeItem[] | undefined;\n\tprivate batchPromise: Promise<ITreeItem[][] | undefined> | undefined;\n\tasync getChildren(element: ITreeItem): Promise<ITreeItem[]> {\n\t\tconst dataProvider = this.treeView.dataProvider;\n\t\tif (!dataProvider) {\n\t\t\treturn [];\n\t\t}\n\t\tif (this.batch === undefined) {\n\t\t\tthis.batch = [element];\n\t\t\tthis.batchPromise = undefined;\n\t\t} else {\n\t\t\tthis.batch.push(element);\n\t\t}\n\t\tconst indexInBatch = this.batch.length - 1;\n\t\treturn new Promise<ITreeItem[]>((resolve, reject) => {\n\t\t\tsetTimeout(async () => {\n\t\t\t\tconst batch = this.batch;\n\t\t\t\tthis.batch = undefined;\n\t\t\t\tif (!this.batchPromise) {\n\t\t\t\t\tthis.batchPromise = this.withProgress(doGetChildrenOrBatch(dataProvider, batch));\n\t\t\t\t}\n\t\t\t\ttry {\n\t\t\t\t\tconst result = await this.batchPromise;\n\t\t\t\t\tresolve((result && (indexInBatch < result.length)) ? result[indexInBatch] : []);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tif (!(<string>e.message).startsWith('Bad progress location:')) {\n\t\t\t\t\t\treject(e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, 0);\n\t\t});\n\t}\n}\n\ninterface ITreeExplorerTemplateData {\n\treadonly container: HTMLElement;\n\treadonly resourceLabel: IResourceLabel;\n\treadonly icon: HTMLElement;\n\treadonly checkboxContainer: HTMLElement;\n\tcheckbox?: TreeItemCheckbox;\n\treadonly actionBar: ActionBar;\n}\n\nclass TreeRenderer extends Disposable implements ITreeRenderer<ITreeItem, FuzzyScore, ITreeExplorerTemplateData> {\n\tstatic readonly ITEM_HEIGHT = 22;\n\tstatic readonly TREE_TEMPLATE_ID = 'treeExplorer';\n\n\tprivate readonly _onDidChangeCheckboxState: Emitter<readonly ITreeItem[]> = this._register(new Emitter<readonly ITreeItem[]>());\n\treadonly onDidChangeCheckboxState: Event<readonly ITreeItem[]> = this._onDidChangeCheckboxState.event;\n\n\tprivate _onDidChangeMenuContext: Emitter<readonly ITreeItem[]> = this._register(new Emitter<readonly ITreeItem[]>());\n\treadonly onDidChangeMenuContext: Event<readonly ITreeItem[]> = this._onDidChangeMenuContext.event;\n\n\tprivate _actionRunner: MultipleSelectionActionRunner | undefined;\n\tprivate _hoverDelegate: IHoverDelegate;\n\tprivate _hasCheckbox: boolean = false;\n\tprivate _renderedElements = new Map<string, { original: ITreeNode<ITreeItem, FuzzyScore>; rendered: ITreeExplorerTemplateData }[]>(); // tree item handle to template data\n\n\tconstructor(\n\t\tprivate treeViewId: string,\n\t\tprivate menus: TreeMenus,\n\t\tprivate labels: ResourceLabels,\n\t\tprivate actionViewItemProvider: IActionViewItemProvider,\n\t\tprivate aligner: Aligner,\n\t\tprivate checkboxStateHandler: CheckboxStateHandler,\n\t\tprivate readonly manuallyManageCheckboxes: () => boolean,\n\t\t@IThemeService private readonly themeService: IThemeService,\n\t\t@IConfigurationService private readonly configurationService: IConfigurationService,\n\t\t@ILabelService private readonly labelService: ILabelService,\n\t\t@IContextKeyService private readonly contextKeyService: IContextKeyService,\n\t\t@IHoverService private readonly hoverService: IHoverService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t) {\n\t\tsuper();\n\t\tthis._hoverDelegate = this._register(instantiationService.createInstance(WorkbenchHoverDelegate, 'mouse', undefined, {}));\n\t\tthis._register(this.themeService.onDidFileIconThemeChange(() => this.rerender()));\n\t\tthis._register(this.themeService.onDidColorThemeChange(() => this.rerender()));\n\t\tthis._register(checkboxStateHandler.onDidChangeCheckboxState(items => {\n\t\t\tthis.updateCheckboxes(items);\n\t\t}));\n\t\tthis._register(this.contextKeyService.onDidChangeContext(e => this.onDidChangeContext(e)));\n\t}\n\n\tget templateId(): string {\n\t\treturn TreeRenderer.TREE_TEMPLATE_ID;\n\t}\n\n\tset actionRunner(actionRunner: MultipleSelectionActionRunner) {\n\t\tthis._actionRunner = actionRunner;\n\t}\n\n\trenderTemplate(container: HTMLElement): ITreeExplorerTemplateData {\n\t\tcontainer.classList.add('custom-view-tree-node-item');\n\n\t\tconst checkboxContainer = DOM.append(container, DOM.$(''));\n\t\tconst resourceLabel = this.labels.create(container, { supportHighlights: true, hoverDelegate: this._hoverDelegate });\n\t\tconst icon = DOM.prepend(resourceLabel.element, DOM.$('.custom-view-tree-node-item-icon'));\n\t\tconst actionsContainer = DOM.append(resourceLabel.element, DOM.$('.actions'));\n\t\tconst actionBar = new ActionBar(actionsContainer, {\n\t\t\tactionViewItemProvider: this.actionViewItemProvider\n\t\t});\n\n\t\treturn { resourceLabel, icon, checkboxContainer, actionBar, container };\n\t}\n\n\tprivate getHover(label: string | IMarkdownString | undefined, resource: URI | null, node: ITreeItem): string | IManagedHoverTooltipMarkdownString | undefined {\n\t\tif (!(node instanceof ResolvableTreeItem) || !node.hasResolve) {\n\t\t\tif (resource && !node.tooltip) {\n\t\t\t\treturn undefined;\n\t\t\t} else if (node.tooltip === undefined) {\n\t\t\t\tif (isMarkdownString(label)) {\n\t\t\t\t\treturn { markdown: label, markdownNotSupportedFallback: label.value };\n\t\t\t\t} else {\n\t\t\t\t\treturn label;\n\t\t\t\t}\n\t\t\t} else if (!isString(node.tooltip)) {\n\t\t\t\treturn { markdown: node.tooltip, markdownNotSupportedFallback: resource ? undefined : renderAsPlaintext(node.tooltip) }; // Passing undefined as the fallback for a resource falls back to the old native hover\n\t\t\t} else if (node.tooltip !== '') {\n\t\t\t\treturn node.tooltip;\n\t\t\t} else {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tmarkdown: typeof node.tooltip === 'string' ? node.tooltip :\n\t\t\t\t(token: CancellationToken): Promise<IMarkdownString | string | undefined> => {\n\t\t\t\t\treturn new Promise<IMarkdownString | string | undefined>((resolve) => {\n\t\t\t\t\t\tnode.resolve(token).then(() => resolve(node.tooltip));\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\tmarkdownNotSupportedFallback: resource ? undefined : (label ? (isMarkdownString(label) ? label.value : label) : '') // Passing undefined as the fallback for a resource falls back to the old native hover\n\t\t};\n\t}\n\n\tprivate processLabel(label: string | IMarkdownString | undefined, matches: { start: number; end: number }[] | undefined): { label: string | undefined; bold?: boolean; italic?: boolean; strikethrough?: boolean; supportIcons?: boolean } {\n\t\tif (!isMarkdownString(label)) {\n\t\t\treturn { label };\n\t\t}\n\n\t\tlet text = label.value.trim();\n\t\tlet bold = false;\n\t\tlet italic = false;\n\t\tlet strikethrough = false;\n\n\t\tfunction moveMatches(offset: number) {\n\t\t\tif (matches) {\n\t\t\t\tfor (const match of matches) {\n\t\t\t\t\tmatch.start -= offset;\n\t\t\t\t\tmatch.end -= offset;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst syntaxes = [\n\t\t\t{ open: '~~', close: '~~', mark: () => { strikethrough = true; } },\n\t\t\t{ open: '**', close: '**', mark: () => { bold = true; } },\n\t\t\t{ open: '*', close: '*', mark: () => { italic = true; } },\n\t\t\t{ open: '_', close: '_', mark: () => { italic = true; } }\n\t\t];\n\n\t\tfunction checkSyntaxes(): boolean {\n\t\t\tlet didChange = false;\n\t\t\tfor (const syntax of syntaxes) {\n\t\t\t\tif (text.startsWith(syntax.open) && text.endsWith(syntax.close)) {\n\t\t\t\t\t// If there is a match within the markers, stop processing\n\t\t\t\t\tif (matches?.some(match => match.start < syntax.open.length || match.end > text.length - syntax.close.length)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tsyntax.mark();\n\t\t\t\t\ttext = text.substring(syntax.open.length, text.length - syntax.close.length);\n\t\t\t\t\tmoveMatches(syntax.open.length);\n\t\t\t\t\tdidChange = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn didChange;\n\t\t}\n\n\t\t// Arbitrary max # of iterations\n\t\tfor (let i = 0; i < 10; i++) {\n\t\t\tif (!checkSyntaxes()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tlabel: text,\n\t\t\tbold,\n\t\t\titalic,\n\t\t\tstrikethrough,\n\t\t\tsupportIcons: label.supportThemeIcons\n\t\t};\n\t}\n\n\trenderElement(element: ITreeNode<ITreeItem, FuzzyScore>, index: number, templateData: ITreeExplorerTemplateData): void {\n\t\tconst node = element.element;\n\t\tconst resource = node.resourceUri ? URI.revive(node.resourceUri) : null;\n\t\tconst treeItemLabel: ITreeItemLabel | undefined = node.label ? node.label : (resource ? { label: basename(resource) } : undefined);\n\t\tconst description = isString(node.description) ? node.description : resource && node.description === true ? this.labelService.getUriLabel(dirname(resource), { relative: true }) : undefined;\n\t\tconst labelStr = treeItemLabel ? isMarkdownString(treeItemLabel.label) ? treeItemLabel.label.value : treeItemLabel.label : undefined;\n\t\tconst matches = (treeItemLabel?.highlights && labelStr) ? treeItemLabel.highlights.map(([start, end]) => {\n\t\t\tif (start < 0) {\n\t\t\t\tstart = labelStr.length + start;\n\t\t\t}\n\t\t\tif (end < 0) {\n\t\t\t\tend = labelStr.length + end;\n\t\t\t}\n\t\t\tif ((start >= labelStr.length) || (end > labelStr.length)) {\n\t\t\t\treturn ({ start: 0, end: 0 });\n\t\t\t}\n\t\t\tif (start > end) {\n\t\t\t\tconst swap = start;\n\t\t\t\tstart = end;\n\t\t\t\tend = swap;\n\t\t\t}\n\t\t\treturn ({ start, end });\n\t\t}) : undefined;\n\t\tconst { label, bold, italic, strikethrough, supportIcons } = this.processLabel(treeItemLabel?.label, matches);\n\t\tconst icon = !isDark(this.themeService.getColorTheme().type) ? node.icon : node.iconDark;\n\t\tconst iconUrl = icon ? URI.revive(icon) : undefined;\n\t\tconst title = this.getHover(treeItemLabel?.label, resource, node);\n\n\t\t// reset\n\t\ttemplateData.actionBar.clear();\n\t\ttemplateData.icon.style.color = '';\n\n\t\tlet commandEnabled = true;\n\t\tif (node.command) {\n\t\t\tcommandEnabled = isTreeCommandEnabled(node.command, this.contextKeyService);\n\t\t}\n\n\t\tthis.renderCheckbox(node, templateData);\n\n\t\tif (resource) {\n\t\t\tconst fileDecorations = this.configurationService.getValue<{ colors: boolean; badges: boolean }>('explorer.decorations');\n\t\t\tconst labelResource = resource ? resource : URI.parse('missing:_icon_resource');\n\t\t\ttemplateData.resourceLabel.setResource({ name: label, description, resource: labelResource }, {\n\t\t\t\tfileKind: this.getFileKind(node),\n\t\t\t\ttitle,\n\t\t\t\thideIcon: this.shouldHideResourceLabelIcon(iconUrl, node.themeIcon),\n\t\t\t\tfileDecorations,\n\t\t\t\textraClasses: ['custom-view-tree-node-item-resourceLabel'],\n\t\t\t\tmatches: matches ? matches : createMatches(element.filterData),\n\t\t\t\tbold,\n\t\t\t\titalic,\n\t\t\t\tstrikethrough,\n\t\t\t\tdisabledCommand: !commandEnabled,\n\t\t\t\tlabelEscapeNewLines: true,\n\t\t\t\tforceLabel: !!node.label,\n\t\t\t\tsupportIcons\n\t\t\t});\n\t\t} else {\n\t\t\ttemplateData.resourceLabel.setResource({ name: label, description }, {\n\t\t\t\ttitle,\n\t\t\t\thideIcon: true,\n\t\t\t\textraClasses: ['custom-view-tree-node-item-resourceLabel'],\n\t\t\t\tmatches: matches ? matches : createMatches(element.filterData),\n\t\t\t\tbold,\n\t\t\t\titalic,\n\t\t\t\tstrikethrough,\n\t\t\t\tdisabledCommand: !commandEnabled,\n\t\t\t\tlabelEscapeNewLines: true,\n\t\t\t\tsupportIcons\n\t\t\t});\n\t\t}\n\n\t\tif (iconUrl) {\n\t\t\ttemplateData.icon.className = 'custom-view-tree-node-item-icon';\n\t\t\ttemplateData.icon.style.backgroundImage = cssJs.asCSSUrl(iconUrl);\n\t\t} else {\n\t\t\tlet iconClass: string | undefined;\n\t\t\tif (this.shouldShowThemeIcon(!!resource, node.themeIcon)) {\n\t\t\t\ticonClass = ThemeIcon.asClassName(node.themeIcon);\n\t\t\t\tif (node.themeIcon.color) {\n\t\t\t\t\ttemplateData.icon.style.color = this.themeService.getColorTheme().getColor(node.themeIcon.color.id)?.toString() ?? '';\n\t\t\t\t}\n\t\t\t}\n\t\t\ttemplateData.icon.className = iconClass ? `custom-view-tree-node-item-icon ${iconClass}` : '';\n\t\t\ttemplateData.icon.style.backgroundImage = '';\n\t\t}\n\n\t\tif (!commandEnabled) {\n\t\t\ttemplateData.icon.className = templateData.icon.className + ' disabled';\n\t\t\tif (templateData.container.parentElement) {\n\t\t\t\ttemplateData.container.parentElement.className = templateData.container.parentElement.className + ' disabled';\n\t\t\t}\n\t\t}\n\n\t\ttemplateData.actionBar.context = { $treeViewId: this.treeViewId, $treeItemHandle: node.handle } satisfies TreeViewItemHandleArg;\n\n\t\tconst menuActions = this.menus.getResourceActions([node]);\n\t\ttemplateData.actionBar.push(menuActions, { icon: true, label: false });\n\n\t\tif (this._actionRunner) {\n\t\t\ttemplateData.actionBar.actionRunner = this._actionRunner;\n\t\t}\n\t\tthis.setAlignment(templateData.container, node);\n\t\tif (node.collapsibleState === TreeItemCollapsibleState.None) {\n\t\t\ttemplateData.container.classList.add('no-twisty');\n\t\t} else {\n\t\t\ttemplateData.container.classList.remove('no-twisty');\n\t\t}\n\n\t\t// remember rendered element, an element can be rendered multiple times\n\t\tconst renderedItems = this._renderedElements.get(element.element.handle) ?? [];\n\t\tthis._renderedElements.set(element.element.handle, [...renderedItems, { original: element, rendered: templateData }]);\n\t}\n\n\tprivate rerender() {\n\t\t// As we add items to the map during this call we can't directly use the map in the for loop\n\t\t// but have to create a copy of the keys first\n\t\tconst keys = new Set(this._renderedElements.keys());\n\t\tfor (const key of keys) {\n\t\t\tconst values = this._renderedElements.get(key) ?? [];\n\t\t\tfor (const value of values) {\n\t\t\t\tthis.disposeElement(value.original, 0, value.rendered);\n\t\t\t\tthis.renderElement(value.original, 0, value.rendered);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate renderCheckbox(node: ITreeItem, templateData: ITreeExplorerTemplateData) {\n\t\tif (node.checkbox) {\n\t\t\t// The first time we find a checkbox we want to rerender the visible tree to adapt the alignment\n\t\t\tif (!this._hasCheckbox) {\n\t\t\t\tthis._hasCheckbox = true;\n\t\t\t\tthis.rerender();\n\t\t\t}\n\t\t\tif (!templateData.checkbox) {\n\t\t\t\tconst checkbox = new TreeItemCheckbox(templateData.checkboxContainer, this.checkboxStateHandler, this._hoverDelegate, this.hoverService);\n\t\t\t\ttemplateData.checkbox = checkbox;\n\t\t\t}\n\t\t\ttemplateData.checkbox.render(node);\n\t\t} else if (templateData.checkbox) {\n\t\t\ttemplateData.checkbox.dispose();\n\t\t\ttemplateData.checkbox = undefined;\n\t\t}\n\t}\n\n\tprivate setAlignment(container: HTMLElement, treeItem: ITreeItem) {\n\t\tcontainer.parentElement!.classList.toggle('align-icon-with-twisty', this.aligner.alignIconWithTwisty(treeItem));\n\t}\n\n\tprivate shouldHideResourceLabelIcon(iconUrl: URI | undefined, icon: ThemeIcon | undefined): boolean {\n\t\t// We always hide the resource label in favor of the iconUrl when it's provided.\n\t\t// When `ThemeIcon` is provided, we hide the resource label icon in favor of it only if it's a not a file icon.\n\t\treturn (!!iconUrl || (!!icon && !this.isFileKindThemeIcon(icon)));\n\t}\n\n\tprivate shouldShowThemeIcon(hasResource: boolean, icon: ThemeIcon | undefined): icon is ThemeIcon {\n\t\tif (!icon) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// If there's a resource and the icon is a file icon, then the icon (or lack thereof) will already be coming from the\n\t\t// icon theme and should use whatever the icon theme has provided.\n\t\treturn !(hasResource && this.isFileKindThemeIcon(icon));\n\t}\n\n\tprivate isFileKindThemeIcon(icon: ThemeIcon | undefined): boolean {\n\t\treturn ThemeIcon.isFile(icon) || ThemeIcon.isFolder(icon);\n\t}\n\n\tprivate getFileKind(node: ITreeItem): FileKind {\n\t\tif (node.themeIcon) {\n\t\t\tswitch (node.themeIcon.id) {\n\t\t\t\tcase FileThemeIcon.id:\n\t\t\t\t\treturn FileKind.FILE;\n\t\t\t\tcase FolderThemeIcon.id:\n\t\t\t\t\treturn FileKind.FOLDER;\n\t\t\t}\n\t\t}\n\t\treturn node.collapsibleState === TreeItemCollapsibleState.Collapsed || node.collapsibleState === TreeItemCollapsibleState.Expanded ? FileKind.FOLDER : FileKind.FILE;\n\t}\n\n\tprivate onDidChangeContext(e: IContextKeyChangeEvent) {\n\t\tconst affectsEntireMenuContexts = e.affectsSome(this.menus.getEntireMenuContexts());\n\n\t\tconst items: ITreeItem[] = [];\n\t\tfor (const [_, elements] of this._renderedElements) {\n\t\t\tfor (const element of elements) {\n\t\t\t\tif (affectsEntireMenuContexts || e.affectsSome(this.menus.getElementOverlayContexts(element.original.element))) {\n\t\t\t\t\titems.push(element.original.element);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (items.length) {\n\t\t\tthis._onDidChangeMenuContext.fire(items);\n\t\t}\n\t}\n\n\tprivate updateCheckboxes(items: ITreeItem[]) {\n\t\tlet allItems: ITreeItem[] = [];\n\n\t\tif (!this.manuallyManageCheckboxes()) {\n\t\t\tallItems = setCascadingCheckboxUpdates(items);\n\t\t} else {\n\t\t\tallItems = items;\n\t\t}\n\n\t\tallItems.forEach(item => {\n\t\t\tconst renderedItems = this._renderedElements.get(item.handle);\n\t\t\tif (renderedItems) {\n\t\t\t\trenderedItems.forEach(renderedItems => renderedItems.rendered.checkbox?.render(item));\n\t\t\t}\n\t\t});\n\t\tthis._onDidChangeCheckboxState.fire(allItems);\n\t}\n\n\tdisposeElement(resource: ITreeNode<ITreeItem, FuzzyScore>, index: number, templateData: ITreeExplorerTemplateData): void {\n\t\tconst itemRenders = this._renderedElements.get(resource.element.handle) ?? [];\n\t\tconst renderedIndex = itemRenders.findIndex(renderedItem => templateData === renderedItem.rendered);\n\n\t\tif (itemRenders.length === 1) {\n\t\t\tthis._renderedElements.delete(resource.element.handle);\n\t\t} else if (itemRenders.length > 0) {\n\t\t\titemRenders.splice(renderedIndex, 1);\n\t\t}\n\n\t\ttemplateData.checkbox?.dispose();\n\t\ttemplateData.checkbox = undefined;\n\t}\n\n\tdisposeTemplate(templateData: ITreeExplorerTemplateData): void {\n\t\ttemplateData.resourceLabel.dispose();\n\t\ttemplateData.actionBar.dispose();\n\t}\n}\n\nclass Aligner extends Disposable {\n\tprivate _tree: WorkbenchAsyncDataTree<ITreeItem, ITreeItem, FuzzyScore> | undefined;\n\n\tconstructor(private themeService: IThemeService) {\n\t\tsuper();\n\t}\n\n\tset tree(tree: WorkbenchAsyncDataTree<ITreeItem, ITreeItem, FuzzyScore>) {\n\t\tthis._tree = tree;\n\t}\n\n\tpublic alignIconWithTwisty(treeItem: ITreeItem): boolean {\n\t\tif (treeItem.collapsibleState !== TreeItemCollapsibleState.None) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!this.hasIconOrCheckbox(treeItem)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (this._tree) {\n\t\t\tconst root = this._tree.getInput();\n\t\t\tconst parent: ITreeItem = this._tree.getParentElement(treeItem) || root;\n\t\t\tif (this.hasIconOrCheckbox(parent)) {\n\t\t\t\treturn !!parent.children && parent.children.some(c => c.collapsibleState !== TreeItemCollapsibleState.None && !this.hasIconOrCheckbox(c));\n\t\t\t}\n\t\t\treturn !!parent.children && parent.children.every(c => c.collapsibleState === TreeItemCollapsibleState.None || !this.hasIconOrCheckbox(c));\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tprivate hasIconOrCheckbox(node: ITreeItem): boolean {\n\t\treturn this.hasIcon(node) || !!node.checkbox;\n\t}\n\n\tprivate hasIcon(node: ITreeItem): boolean {\n\t\tconst icon = !isDark(this.themeService.getColorTheme().type) ? node.icon : node.iconDark;\n\t\tif (icon) {\n\t\t\treturn true;\n\t\t}\n\t\tif (node.resourceUri || node.themeIcon) {\n\t\t\tconst fileIconTheme = this.themeService.getFileIconTheme();\n\t\t\tconst isFolder = node.themeIcon ? node.themeIcon.id === FolderThemeIcon.id : node.collapsibleState !== TreeItemCollapsibleState.None;\n\t\t\tif (isFolder) {\n\t\t\t\treturn fileIconTheme.hasFileIcons && fileIconTheme.hasFolderIcons;\n\t\t\t}\n\t\t\treturn fileIconTheme.hasFileIcons;\n\t\t}\n\t\treturn false;\n\t}\n}\n\nclass MultipleSelectionActionRunner extends ActionRunner {\n\n\tconstructor(notificationService: INotificationService, private getSelectedResources: (() => ITreeItem[])) {\n\t\tsuper();\n\t\tthis._register(this.onDidRun(e => {\n\t\t\tif (e.error && !isCancellationError(e.error)) {\n\t\t\t\tnotificationService.error(localize('command-error', 'Error running command {1}: {0}. This is likely caused by the extension that contributes {1}.', e.error.message, e.action.id));\n\t\t\t}\n\t\t}));\n\t}\n\n\tprotected override async runAction(action: IAction, context: TreeViewItemHandleArg | TreeViewPaneHandleArg): Promise<void> {\n\t\tconst selection = this.getSelectedResources();\n\t\tlet selectionHandleArgs: TreeViewItemHandleArg[] | undefined = undefined;\n\t\tlet actionInSelected: boolean = false;\n\t\tif (selection.length > 1) {\n\t\t\tselectionHandleArgs = selection.map(selected => {\n\t\t\t\tif ((selected.handle === (context as TreeViewItemHandleArg).$treeItemHandle) || (context as TreeViewPaneHandleArg).$selectedTreeItems) {\n\t\t\t\t\tactionInSelected = true;\n\t\t\t\t}\n\t\t\t\treturn { $treeViewId: context.$treeViewId, $treeItemHandle: selected.handle };\n\t\t\t});\n\t\t}\n\n\t\tif (!actionInSelected && selectionHandleArgs) {\n\t\t\tselectionHandleArgs = undefined;\n\t\t}\n\n\t\tawait action.run(context, selectionHandleArgs);\n\t}\n}\n\nclass TreeMenus implements IDisposable {\n\tprivate contextKeyService: IContextKeyService | undefined;\n\tprivate _onDidChange = new Emitter<ITreeItem>();\n\tpublic readonly onDidChange = this._onDidChange.event;\n\n\tconstructor(\n\t\tprivate id: string,\n\t\t@IMenuService private readonly menuService: IMenuService\n\t) { }\n\n\t/**\n\t * Gets only the actions that apply to all of the given elements.\n\t */\n\tgetResourceActions(elements: ITreeItem[]): IAction[] {\n\t\tconst actions = this.getActions(this.getMenuId(), elements);\n\t\treturn actions.primary;\n\t}\n\n\t/**\n\t * Gets only the actions that apply to all of the given elements.\n\t */\n\tgetResourceContextActions(elements: ITreeItem[]): IAction[] {\n\t\treturn this.getActions(this.getMenuId(), elements).secondary;\n\t}\n\n\tpublic setContextKeyService(service: IContextKeyService) {\n\t\tthis.contextKeyService = service;\n\t}\n\n\tprivate filterNonUniversalActions(groups: Map<string, IAction>[], newActions: IAction[]) {\n\t\tconst newActionsSet: Set<string> = new Set(newActions.map(a => a.id));\n\t\tfor (const group of groups) {\n\t\t\tconst actions = group.keys();\n\t\t\tfor (const action of actions) {\n\t\t\t\tif (!newActionsSet.has(action)) {\n\t\t\t\t\tgroup.delete(action);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate buildMenu(groups: Map<string, IAction>[]): IAction[] {\n\t\tconst result: IAction[] = [];\n\t\tfor (const group of groups) {\n\t\t\tif (group.size > 0) {\n\t\t\t\tif (result.length) {\n\t\t\t\t\tresult.push(new Separator());\n\t\t\t\t}\n\t\t\t\tresult.push(...group.values());\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tprivate createGroups(actions: IAction[]): Map<string, IAction>[] {\n\t\tconst groups: Map<string, IAction>[] = [];\n\t\tlet group: Map<string, IAction> = new Map();\n\t\tfor (const action of actions) {\n\t\t\tif (action instanceof Separator) {\n\t\t\t\tgroups.push(group);\n\t\t\t\tgroup = new Map();\n\t\t\t} else {\n\t\t\t\tgroup.set(action.id, action);\n\t\t\t}\n\t\t}\n\t\tgroups.push(group);\n\t\treturn groups;\n\t}\n\n\tpublic getElementOverlayContexts(element: ITreeItem): Map<string, unknown> {\n\t\treturn new Map([\n\t\t\t['view', this.id],\n\t\t\t['viewItem', element.contextValue]\n\t\t]);\n\t}\n\n\tpublic getEntireMenuContexts(): ReadonlySet<string> {\n\t\treturn this.menuService.getMenuContexts(this.getMenuId());\n\t}\n\n\tpublic getMenuId(): MenuId {\n\t\treturn MenuId.ViewItemContext;\n\t}\n\n\tprivate getActions(menuId: MenuId, elements: ITreeItem[]): { primary: IAction[]; secondary: IAction[] } {\n\t\tif (!this.contextKeyService) {\n\t\t\treturn { primary: [], secondary: [] };\n\t\t}\n\n\t\tlet primaryGroups: Map<string, IAction>[] = [];\n\t\tlet secondaryGroups: Map<string, IAction>[] = [];\n\t\tfor (let i = 0; i < elements.length; i++) {\n\t\t\tconst element = elements[i];\n\t\t\tconst contextKeyService = this.contextKeyService.createOverlay(this.getElementOverlayContexts(element));\n\n\t\t\tconst menuData = this.menuService.getMenuActions(menuId, contextKeyService, { shouldForwardArgs: true });\n\n\t\t\tconst result = getContextMenuActions(menuData, 'inline');\n\t\t\tif (i === 0) {\n\t\t\t\tprimaryGroups = this.createGroups(result.primary);\n\t\t\t\tsecondaryGroups = this.createGroups(result.secondary);\n\t\t\t} else {\n\t\t\t\tthis.filterNonUniversalActions(primaryGroups, result.primary);\n\t\t\t\tthis.filterNonUniversalActions(secondaryGroups, result.secondary);\n\t\t\t}\n\t\t}\n\n\t\treturn { primary: this.buildMenu(primaryGroups), secondary: this.buildMenu(secondaryGroups) };\n\t}\n\n\tdispose() {\n\t\tthis.contextKeyService = undefined;\n\t}\n}\n\nexport class CustomTreeView extends AbstractTreeView {\n\n\tconstructor(\n\t\tid: string,\n\t\ttitle: string,\n\t\tprivate readonly extensionId: string,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IInstantiationService instantiationService: IInstantiationService,\n\t\t@ICommandService commandService: ICommandService,\n\t\t@IConfigurationService configurationService: IConfigurationService,\n\t\t@IProgressService progressService: IProgressService,\n\t\t@IContextMenuService contextMenuService: IContextMenuService,\n\t\t@IKeybindingService keybindingService: IKeybindingService,\n\t\t@INotificationService notificationService: INotificationService,\n\t\t@IViewDescriptorService viewDescriptorService: IViewDescriptorService,\n\t\t@IContextKeyService contextKeyService: IContextKeyService,\n\t\t@IHoverService hoverService: IHoverService,\n\t\t@IExtensionService private readonly extensionService: IExtensionService,\n\t\t@IActivityService activityService: IActivityService,\n\t\t@ITelemetryService private readonly telemetryService: ITelemetryService,\n\t\t@ILogService logService: ILogService,\n\t\t@IOpenerService openerService: IOpenerService,\n\t\t@IMarkdownRendererService markdownRendererService: IMarkdownRendererService,\n\t) {\n\t\tsuper(id, title, themeService, instantiationService, commandService, configurationService, progressService, contextMenuService, keybindingService, notificationService, viewDescriptorService, hoverService, contextKeyService, activityService, logService, openerService, markdownRendererService);\n\t}\n\n\tprotected activate() {\n\t\tif (!this.activated) {\n\t\t\ttype ExtensionViewTelemetry = {\n\t\t\t\textensionId: TelemetryTrustedValue<string>;\n\t\t\t\tid: string;\n\t\t\t};\n\t\t\ttype ExtensionViewTelemetryMeta = {\n\t\t\t\textensionId: { classification: 'SystemMetaData'; purpose: 'FeatureInsight'; comment: 'Id of the extension' };\n\t\t\t\tid: { classification: 'SystemMetaData'; purpose: 'FeatureInsight'; comment: 'Id of the view' };\n\t\t\t\towner: 'digitarald';\n\t\t\t\tcomment: 'Helps to gain insights on what extension contributed views are most popular';\n\t\t\t};\n\t\t\tthis.telemetryService.publicLog2<ExtensionViewTelemetry, ExtensionViewTelemetryMeta>('Extension:ViewActivate', {\n\t\t\t\textensionId: new TelemetryTrustedValue(this.extensionId),\n\t\t\t\tid: this.id,\n\t\t\t});\n\t\t\tthis.createTree();\n\t\t\tthis.progressService.withProgress({ location: this.id }, () => this.extensionService.activateByEvent(`onView:${this.id}`))\n\t\t\t\t.then(() => timeout(2000))\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.updateMessage();\n\t\t\t\t});\n\t\t\tthis.activated = true;\n\t\t}\n\t}\n}\n\nexport class TreeView extends AbstractTreeView {\n\n\tprotected activate() {\n\t\tif (!this.activated) {\n\t\t\tthis.createTree();\n\t\t\tthis.activated = true;\n\t\t}\n\t}\n}\n\ninterface TreeDragSourceInfo {\n\tid: string;\n\titemHandles: string[];\n}\n\nexport class CustomTreeViewDragAndDrop implements ITreeDragAndDrop<ITreeItem> {\n\tprivate readonly treeMimeType: string;\n\tprivate readonly treeItemsTransfer = LocalSelectionTransfer.getInstance<DraggedTreeItemsIdentifier>();\n\tprivate dragCancellationToken: CancellationTokenSource | undefined;\n\n\tconstructor(\n\t\tprivate readonly treeId: string,\n\t\t@ILabelService private readonly labelService: ILabelService,\n\t\t@IInstantiationService private readonly instantiationService: IInstantiationService,\n\t\t@ITreeViewsDnDService private readonly treeViewsDragAndDropService: ITreeViewsDnDService,\n\t\t@ILogService private readonly logService: ILogService) {\n\t\tthis.treeMimeType = `application/vnd.code.tree.${treeId.toLowerCase()}`;\n\t}\n\n\tprivate dndController: ITreeViewDragAndDropController | undefined;\n\tset controller(controller: ITreeViewDragAndDropController | undefined) {\n\t\tthis.dndController = controller;\n\t}\n\n\tprivate handleDragAndLog(dndController: ITreeViewDragAndDropController, itemHandles: string[], uuid: string, dragCancellationToken: CancellationToken): Promise<VSDataTransfer | undefined> {\n\t\treturn dndController.handleDrag(itemHandles, uuid, dragCancellationToken).then(additionalDataTransfer => {\n\t\t\tif (additionalDataTransfer) {\n\t\t\t\tconst unlistedTypes: string[] = [];\n\t\t\t\tfor (const item of additionalDataTransfer) {\n\t\t\t\t\tif ((item[0] !== this.treeMimeType) && (dndController.dragMimeTypes.findIndex(value => value === item[0]) < 0)) {\n\t\t\t\t\t\tunlistedTypes.push(item[0]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (unlistedTypes.length) {\n\t\t\t\t\tthis.logService.warn(`Drag and drop controller for tree ${this.treeId} adds the following data transfer types but does not declare them in dragMimeTypes: ${unlistedTypes.join(', ')}`);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn additionalDataTransfer;\n\t\t});\n\t}\n\n\tprivate addExtensionProvidedTransferTypes(originalEvent: DragEvent, itemHandles: string[]) {\n\t\tif (!originalEvent.dataTransfer || !this.dndController) {\n\t\t\treturn;\n\t\t}\n\t\tconst uuid = generateUuid();\n\n\t\tthis.dragCancellationToken = new CancellationTokenSource();\n\t\tthis.treeViewsDragAndDropService.addDragOperationTransfer(uuid, this.handleDragAndLog(this.dndController, itemHandles, uuid, this.dragCancellationToken.token));\n\t\tthis.treeItemsTransfer.setData([new DraggedTreeItemsIdentifier(uuid)], DraggedTreeItemsIdentifier.prototype);\n\t\toriginalEvent.dataTransfer.clearData(Mimes.text);\n\t\tif (this.dndController.dragMimeTypes.find((element) => element === Mimes.uriList)) {\n\t\t\t// Add the type that the editor knows\n\t\t\toriginalEvent.dataTransfer?.setData(DataTransfers.RESOURCES, '');\n\t\t}\n\t\tthis.dndController.dragMimeTypes.forEach(supportedType => {\n\t\t\toriginalEvent.dataTransfer?.setData(supportedType, '');\n\t\t});\n\t}\n\n\tprivate addResourceInfoToTransfer(originalEvent: DragEvent, resources: URI[]) {\n\t\tif (resources.length && originalEvent.dataTransfer) {\n\t\t\t// Apply some datatransfer types to allow for dragging the element outside of the application\n\t\t\tthis.instantiationService.invokeFunction(accessor => fillEditorsDragData(accessor, resources, originalEvent));\n\n\t\t\t// The only custom data transfer we set from the explorer is a file transfer\n\t\t\t// to be able to DND between multiple code file explorers across windows\n\t\t\tconst fileResources = resources.filter(s => s.scheme === Schemas.file).map(r => r.fsPath);\n\t\t\tif (fileResources.length) {\n\t\t\t\toriginalEvent.dataTransfer.setData(CodeDataTransfers.FILES, JSON.stringify(fileResources));\n\t\t\t}\n\t\t}\n\t}\n\n\tonDragStart(data: IDragAndDropData, originalEvent: DragEvent): void {\n\t\tif (originalEvent.dataTransfer) {\n\t\t\tconst treeItemsData = (data as ElementsDragAndDropData<ITreeItem, ITreeItem[]>).getData();\n\t\t\tconst resources: URI[] = [];\n\t\t\tconst sourceInfo: TreeDragSourceInfo = {\n\t\t\t\tid: this.treeId,\n\t\t\t\titemHandles: []\n\t\t\t};\n\t\t\ttreeItemsData.forEach(item => {\n\t\t\t\tsourceInfo.itemHandles.push(item.handle);\n\t\t\t\tif (item.resourceUri) {\n\t\t\t\t\tresources.push(URI.revive(item.resourceUri));\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.addResourceInfoToTransfer(originalEvent, resources);\n\t\t\tthis.addExtensionProvidedTransferTypes(originalEvent, sourceInfo.itemHandles);\n\t\t\toriginalEvent.dataTransfer.setData(this.treeMimeType,\n\t\t\t\tJSON.stringify(sourceInfo));\n\t\t}\n\t}\n\n\tprivate debugLog(types: Set<string>) {\n\t\tif (types.size) {\n\t\t\tthis.logService.debug(`TreeView dragged mime types: ${Array.from(types).join(', ')}`);\n\t\t} else {\n\t\t\tthis.logService.debug(`TreeView dragged with no supported mime types.`);\n\t\t}\n\t}\n\n\tonDragOver(data: IDragAndDropData, targetElement: ITreeItem, targetIndex: number, targetSector: ListViewTargetSector | undefined, originalEvent: DragEvent): boolean | ITreeDragOverReaction {\n\t\tconst dataTransfer = toExternalVSDataTransfer(originalEvent.dataTransfer!);\n\n\t\tconst types = new Set<string>(Array.from(dataTransfer, x => x[0]));\n\n\t\tif (originalEvent.dataTransfer) {\n\t\t\t// Also add uri-list if we have any files. At this stage we can't actually access the file itself though.\n\t\t\tfor (const item of originalEvent.dataTransfer.items) {\n\t\t\t\tif (item.kind === 'file' || item.type === DataTransfers.RESOURCES.toLowerCase()) {\n\t\t\t\t\ttypes.add(Mimes.uriList);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.debugLog(types);\n\n\t\tconst dndController = this.dndController;\n\t\tif (!dndController || !originalEvent.dataTransfer || (dndController.dropMimeTypes.length === 0)) {\n\t\t\treturn false;\n\t\t}\n\t\tconst dragContainersSupportedType = Array.from(types).some((value, index) => {\n\t\t\tif (value === this.treeMimeType) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn dndController.dropMimeTypes.indexOf(value) >= 0;\n\t\t\t}\n\t\t});\n\t\tif (dragContainersSupportedType) {\n\t\t\treturn { accept: true, bubble: TreeDragOverBubble.Down, autoExpand: true };\n\t\t}\n\t\treturn false;\n\t}\n\n\tgetDragURI(element: ITreeItem): string | null {\n\t\tif (!this.dndController) {\n\t\t\treturn null;\n\t\t}\n\t\treturn element.resourceUri ? URI.revive(element.resourceUri).toString() : element.handle;\n\t}\n\n\tgetDragLabel?(elements: ITreeItem[]): string | undefined {\n\t\tif (!this.dndController) {\n\t\t\treturn undefined;\n\t\t}\n\t\tif (elements.length > 1) {\n\t\t\treturn String(elements.length);\n\t\t}\n\t\tconst element = elements[0];\n\t\tif (element.label) {\n\t\t\treturn isMarkdownString(element.label.label) ? element.label.label.value : element.label.label;\n\t\t}\n\t\treturn element.resourceUri ? this.labelService.getUriLabel(URI.revive(element.resourceUri)) : undefined;\n\t}\n\n\tasync drop(data: IDragAndDropData, targetNode: ITreeItem | undefined, targetIndex: number | undefined, targetSector: ListViewTargetSector | undefined, originalEvent: DragEvent): Promise<void> {\n\t\tconst dndController = this.dndController;\n\t\tif (!originalEvent.dataTransfer || !dndController) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet treeSourceInfo: TreeDragSourceInfo | undefined;\n\t\tlet willDropUuid: string | undefined;\n\t\tif (this.treeItemsTransfer.hasData(DraggedTreeItemsIdentifier.prototype)) {\n\t\t\twillDropUuid = this.treeItemsTransfer.getData(DraggedTreeItemsIdentifier.prototype)![0].identifier;\n\t\t}\n\n\t\tconst originalDataTransfer = toExternalVSDataTransfer(originalEvent.dataTransfer, true);\n\n\t\tconst outDataTransfer = new VSDataTransfer();\n\t\tfor (const [type, item] of originalDataTransfer) {\n\t\t\tif (type === this.treeMimeType || dndController.dropMimeTypes.includes(type) || (item.asFile() && dndController.dropMimeTypes.includes(DataTransfers.FILES.toLowerCase()))) {\n\t\t\t\toutDataTransfer.append(type, item);\n\t\t\t\tif (type === this.treeMimeType) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\ttreeSourceInfo = JSON.parse(await item.asString());\n\t\t\t\t\t} catch {\n\t\t\t\t\t\t// noop\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst additionalDataTransfer = await this.treeViewsDragAndDropService.removeDragOperationTransfer(willDropUuid);\n\t\tif (additionalDataTransfer) {\n\t\t\tfor (const [type, item] of additionalDataTransfer) {\n\t\t\t\toutDataTransfer.append(type, item);\n\t\t\t}\n\t\t}\n\t\treturn dndController.handleDrop(outDataTransfer, targetNode, CancellationToken.None, willDropUuid, treeSourceInfo?.id, treeSourceInfo?.itemHandles);\n\t}\n\n\tonDragEnd(originalEvent: DragEvent): void {\n\t\t// Check if the drag was cancelled.\n\t\tif (originalEvent.dataTransfer?.dropEffect === 'none') {\n\t\t\tthis.dragCancellationToken?.cancel();\n\t\t}\n\t}\n\n\tdispose(): void { }\n}\n\nfunction setCascadingCheckboxUpdates(items: readonly ITreeItem[]) {\n\tconst additionalItems: ITreeItem[] = [];\n\n\tfor (const item of items) {\n\t\tif (item.checkbox !== undefined) {\n\n\t\t\tconst checkChildren = (currentItem: ITreeItem) => {\n\t\t\t\tfor (const child of (currentItem.children ?? [])) {\n\t\t\t\t\tif ((child.checkbox !== undefined) && (currentItem.checkbox !== undefined) && (child.checkbox.isChecked !== currentItem.checkbox.isChecked)) {\n\t\t\t\t\t\tchild.checkbox.isChecked = currentItem.checkbox.isChecked;\n\t\t\t\t\t\tadditionalItems.push(child);\n\t\t\t\t\t\tcheckChildren(child);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tcheckChildren(item);\n\n\t\t\tconst visitedParents: Set<ITreeItem> = new Set();\n\t\t\tconst checkParents = (currentItem: ITreeItem) => {\n\t\t\t\tif (currentItem.parent?.checkbox !== undefined && currentItem.parent.children) {\n\t\t\t\t\tif (visitedParents.has(currentItem.parent)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvisitedParents.add(currentItem.parent);\n\t\t\t\t\t}\n\n\t\t\t\t\tlet someUnchecked = false;\n\t\t\t\t\tlet someChecked = false;\n\t\t\t\t\tfor (const child of currentItem.parent.children) {\n\t\t\t\t\t\tif (someUnchecked && someChecked) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (child.checkbox !== undefined) {\n\t\t\t\t\t\t\tif (child.checkbox.isChecked) {\n\t\t\t\t\t\t\t\tsomeChecked = true;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsomeUnchecked = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (someChecked && !someUnchecked && (currentItem.parent.checkbox.isChecked !== true)) {\n\t\t\t\t\t\tcurrentItem.parent.checkbox.isChecked = true;\n\t\t\t\t\t\tadditionalItems.push(currentItem.parent);\n\t\t\t\t\t\tcheckParents(currentItem.parent);\n\t\t\t\t\t} else if (someUnchecked && (currentItem.parent.checkbox.isChecked !== false)) {\n\t\t\t\t\t\tcurrentItem.parent.checkbox.isChecked = false;\n\t\t\t\t\t\tadditionalItems.push(currentItem.parent);\n\t\t\t\t\t\tcheckParents(currentItem.parent);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tcheckParents(item);\n\t\t}\n\t}\n\n\treturn items.concat(additionalItems);\n}\n"]}