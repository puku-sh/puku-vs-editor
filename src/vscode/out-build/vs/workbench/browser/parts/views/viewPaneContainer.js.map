{"version":3,"sources":["vs/workbench/browser/parts/views/viewPaneContainer.ts"],"names":[],"mappings":"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","file":"viewPaneContainer.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { $, addDisposableListener, Dimension, DragAndDropObserver, EventType, getWindow, isAncestor } from '../../../../base/browser/dom.js';\nimport { StandardMouseEvent } from '../../../../base/browser/mouseEvent.js';\nimport { EventType as TouchEventType, Gesture } from '../../../../base/browser/touch.js';\nimport { IActionViewItem } from '../../../../base/browser/ui/actionbar/actionbar.js';\nimport { IBoundarySashes, Orientation } from '../../../../base/browser/ui/sash/sash.js';\nimport { IPaneViewOptions, PaneView } from '../../../../base/browser/ui/splitview/paneview.js';\nimport { IAction } from '../../../../base/common/actions.js';\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { Emitter, Event } from '../../../../base/common/event.js';\nimport { KeyChord, KeyCode, KeyMod } from '../../../../base/common/keyCodes.js';\nimport { combinedDisposable, DisposableStore, IDisposable, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { assertReturnsDefined } from '../../../../base/common/types.js';\nimport './media/paneviewlet.css';\nimport * as nls from '../../../../nls.js';\nimport { createActionViewItem } from '../../../../platform/actions/browser/menuEntryActionViewItem.js';\nimport { Action2, IAction2Options, ISubmenuItem, MenuId, MenuRegistry, registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { IInstantiationService, ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\nimport { KeybindingWeight } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { IStorageService, StorageScope, StorageTarget } from '../../../../platform/storage/common/storage.js';\nimport { ITelemetryService } from '../../../../platform/telemetry/common/telemetry.js';\nimport { activeContrastBorder, asCssVariable } from '../../../../platform/theme/common/colorRegistry.js';\nimport { IThemeService, Themable } from '../../../../platform/theme/common/themeService.js';\nimport { IWorkspaceContextService } from '../../../../platform/workspace/common/workspace.js';\nimport { CompositeDragAndDropObserver, toggleDropEffect } from '../../dnd.js';\nimport { ViewPane } from './viewPane.js';\nimport { IViewletViewOptions } from './viewsViewlet.js';\nimport { Component } from '../../../common/component.js';\nimport { PANEL_SECTION_BORDER, PANEL_SECTION_DRAG_AND_DROP_BACKGROUND, PANEL_SECTION_HEADER_BACKGROUND, PANEL_SECTION_HEADER_BORDER, PANEL_SECTION_HEADER_FOREGROUND, SIDE_BAR_DRAG_AND_DROP_BACKGROUND, SIDE_BAR_SECTION_HEADER_BACKGROUND, SIDE_BAR_SECTION_HEADER_BORDER, SIDE_BAR_SECTION_HEADER_FOREGROUND } from '../../../common/theme.js';\nimport { IAddedViewDescriptorRef, ICustomViewDescriptor, IView, IViewContainerModel, IViewDescriptor, IViewDescriptorRef, IViewDescriptorService, IViewPaneContainer, ViewContainer, ViewContainerLocation, ViewVisibilityState } from '../../../common/views.js';\nimport { IViewsService } from '../../../services/views/common/viewsService.js';\nimport { FocusedViewContext } from '../../../common/contextkeys.js';\nimport { IExtensionService } from '../../../services/extensions/common/extensions.js';\nimport { isHorizontal, IWorkbenchLayoutService, LayoutSettings } from '../../../services/layout/browser/layoutService.js';\nimport { IBaseActionViewItemOptions } from '../../../../base/browser/ui/actionbar/actionViewItems.js';\nimport { ILogService } from '../../../../platform/log/common/log.js';\nimport { ViewContainerMenuActions } from './viewMenuActions.js';\n\nexport const ViewsSubMenu = new MenuId('Views');\nMenuRegistry.appendMenuItem(MenuId.ViewContainerTitle, {\n\tsubmenu: ViewsSubMenu,\n\ttitle: nls.localize('views', \"Views\"),\n\torder: 1,\n} satisfies ISubmenuItem);\n\nexport interface IViewPaneContainerOptions extends IPaneViewOptions {\n\tmergeViewWithContainerWhenSingleView: boolean;\n}\n\ninterface IViewPaneItem {\n\tpane: ViewPane;\n\tdisposable: IDisposable;\n}\n\nconst enum DropDirection {\n\tUP,\n\tDOWN,\n\tLEFT,\n\tRIGHT\n}\n\ntype BoundingRect = { top: number; left: number; bottom: number; right: number };\n\nclass ViewPaneDropOverlay extends Themable {\n\n\tprivate static readonly OVERLAY_ID = 'monaco-pane-drop-overlay';\n\n\tprivate container!: HTMLElement;\n\tprivate overlay!: HTMLElement;\n\n\tprivate _currentDropOperation: DropDirection | undefined;\n\n\t// private currentDropOperation: IDropOperation | undefined;\n\tprivate _disposed: boolean | undefined;\n\n\tprivate cleanupOverlayScheduler: RunOnceScheduler;\n\n\tget currentDropOperation(): DropDirection | undefined {\n\t\treturn this._currentDropOperation;\n\t}\n\n\tconstructor(\n\t\tprivate paneElement: HTMLElement,\n\t\tprivate orientation: Orientation | undefined,\n\t\tprivate bounds: BoundingRect | undefined,\n\t\tprotected location: ViewContainerLocation,\n\t\tthemeService: IThemeService,\n\t) {\n\t\tsuper(themeService);\n\t\tthis.cleanupOverlayScheduler = this._register(new RunOnceScheduler(() => this.dispose(), 300));\n\n\t\tthis.create();\n\t}\n\n\tget disposed(): boolean {\n\t\treturn !!this._disposed;\n\t}\n\n\tprivate create(): void {\n\n\t\t// Container\n\t\tthis.container = $('div', { id: ViewPaneDropOverlay.OVERLAY_ID });\n\t\tthis.container.style.top = '0px';\n\n\t\t// Parent\n\t\tthis.paneElement.appendChild(this.container);\n\t\tthis.paneElement.classList.add('dragged-over');\n\t\tthis._register(toDisposable(() => {\n\t\t\tthis.container.remove();\n\t\t\tthis.paneElement.classList.remove('dragged-over');\n\t\t}));\n\n\t\t// Overlay\n\t\tthis.overlay = $('.pane-overlay-indicator');\n\t\tthis.container.appendChild(this.overlay);\n\n\t\t// Overlay Event Handling\n\t\tthis.registerListeners();\n\n\t\t// Styles\n\t\tthis.updateStyles();\n\t}\n\n\toverride updateStyles(): void {\n\n\t\t// Overlay drop background\n\t\tthis.overlay.style.backgroundColor = this.getColor(this.location === ViewContainerLocation.Panel ? PANEL_SECTION_DRAG_AND_DROP_BACKGROUND : SIDE_BAR_DRAG_AND_DROP_BACKGROUND) || '';\n\n\t\t// Overlay contrast border (if any)\n\t\tconst activeContrastBorderColor = this.getColor(activeContrastBorder);\n\t\tthis.overlay.style.outlineColor = activeContrastBorderColor || '';\n\t\tthis.overlay.style.outlineOffset = activeContrastBorderColor ? '-2px' : '';\n\t\tthis.overlay.style.outlineStyle = activeContrastBorderColor ? 'dashed' : '';\n\t\tthis.overlay.style.outlineWidth = activeContrastBorderColor ? '2px' : '';\n\n\t\tthis.overlay.style.borderColor = activeContrastBorderColor || '';\n\t\tthis.overlay.style.borderStyle = 'solid';\n\t\tthis.overlay.style.borderWidth = '0px';\n\t}\n\n\tprivate registerListeners(): void {\n\t\tthis._register(new DragAndDropObserver(this.container, {\n\t\t\tonDragOver: e => {\n\n\t\t\t\t// Position overlay\n\t\t\t\tthis.positionOverlay(e.offsetX, e.offsetY);\n\n\t\t\t\t// Make sure to stop any running cleanup scheduler to remove the overlay\n\t\t\t\tif (this.cleanupOverlayScheduler.isScheduled()) {\n\t\t\t\t\tthis.cleanupOverlayScheduler.cancel();\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tonDragLeave: e => this.dispose(),\n\t\t\tonDragEnd: e => this.dispose(),\n\n\t\t\tonDrop: e => {\n\t\t\t\t// Dispose overlay\n\t\t\t\tthis.dispose();\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(addDisposableListener(this.container, EventType.MOUSE_OVER, () => {\n\t\t\t// Under some circumstances we have seen reports where the drop overlay is not being\n\t\t\t// cleaned up and as such the editor area remains under the overlay so that you cannot\n\t\t\t// type into the editor anymore. This seems related to using VMs and DND via host and\n\t\t\t// guest OS, though some users also saw it without VMs.\n\t\t\t// To protect against this issue we always destroy the overlay as soon as we detect a\n\t\t\t// mouse event over it. The delay is used to guarantee we are not interfering with the\n\t\t\t// actual DROP event that can also trigger a mouse over event.\n\t\t\tif (!this.cleanupOverlayScheduler.isScheduled()) {\n\t\t\t\tthis.cleanupOverlayScheduler.schedule();\n\t\t\t}\n\t\t}));\n\t}\n\n\tprivate positionOverlay(mousePosX: number, mousePosY: number): void {\n\t\tconst paneWidth = this.paneElement.clientWidth;\n\t\tconst paneHeight = this.paneElement.clientHeight;\n\n\t\tconst splitWidthThreshold = paneWidth / 2;\n\t\tconst splitHeightThreshold = paneHeight / 2;\n\n\t\tlet dropDirection: DropDirection | undefined;\n\n\t\tif (this.orientation === Orientation.VERTICAL) {\n\t\t\tif (mousePosY < splitHeightThreshold) {\n\t\t\t\tdropDirection = DropDirection.UP;\n\t\t\t} else if (mousePosY >= splitHeightThreshold) {\n\t\t\t\tdropDirection = DropDirection.DOWN;\n\t\t\t}\n\t\t} else if (this.orientation === Orientation.HORIZONTAL) {\n\t\t\tif (mousePosX < splitWidthThreshold) {\n\t\t\t\tdropDirection = DropDirection.LEFT;\n\t\t\t} else if (mousePosX >= splitWidthThreshold) {\n\t\t\t\tdropDirection = DropDirection.RIGHT;\n\t\t\t}\n\t\t}\n\n\t\t// Draw overlay based on split direction\n\t\tswitch (dropDirection) {\n\t\t\tcase DropDirection.UP:\n\t\t\t\tthis.doPositionOverlay({ top: '0', left: '0', width: '100%', height: '50%' });\n\t\t\t\tbreak;\n\t\t\tcase DropDirection.DOWN:\n\t\t\t\tthis.doPositionOverlay({ bottom: '0', left: '0', width: '100%', height: '50%' });\n\t\t\t\tbreak;\n\t\t\tcase DropDirection.LEFT:\n\t\t\t\tthis.doPositionOverlay({ top: '0', left: '0', width: '50%', height: '100%' });\n\t\t\t\tbreak;\n\t\t\tcase DropDirection.RIGHT:\n\t\t\t\tthis.doPositionOverlay({ top: '0', right: '0', width: '50%', height: '100%' });\n\t\t\t\tbreak;\n\t\t\tdefault: {\n\t\t\t\t// const top = this.bounds?.top || 0;\n\t\t\t\t// const left = this.bounds?.bottom || 0;\n\n\t\t\t\tlet top = '0';\n\t\t\t\tlet left = '0';\n\t\t\t\tlet width = '100%';\n\t\t\t\tlet height = '100%';\n\t\t\t\tif (this.bounds) {\n\t\t\t\t\tconst boundingRect = this.container.getBoundingClientRect();\n\t\t\t\t\ttop = `${this.bounds.top - boundingRect.top}px`;\n\t\t\t\t\tleft = `${this.bounds.left - boundingRect.left}px`;\n\t\t\t\t\theight = `${this.bounds.bottom - this.bounds.top}px`;\n\t\t\t\t\twidth = `${this.bounds.right - this.bounds.left}px`;\n\t\t\t\t}\n\n\t\t\t\tthis.doPositionOverlay({ top, left, width, height });\n\t\t\t}\n\t\t}\n\n\t\tif ((this.orientation === Orientation.VERTICAL && paneHeight <= 25) ||\n\t\t\t(this.orientation === Orientation.HORIZONTAL && paneWidth <= 25)) {\n\t\t\tthis.doUpdateOverlayBorder(dropDirection);\n\t\t} else {\n\t\t\tthis.doUpdateOverlayBorder(undefined);\n\t\t}\n\n\t\t// Make sure the overlay is visible now\n\t\tthis.overlay.style.opacity = '1';\n\n\t\t// Enable transition after a timeout to prevent initial animation\n\t\tsetTimeout(() => this.overlay.classList.add('overlay-move-transition'), 0);\n\n\t\t// Remember as current split direction\n\t\tthis._currentDropOperation = dropDirection;\n\t}\n\n\tprivate doUpdateOverlayBorder(direction: DropDirection | undefined): void {\n\t\tthis.overlay.style.borderTopWidth = direction === DropDirection.UP ? '2px' : '0px';\n\t\tthis.overlay.style.borderLeftWidth = direction === DropDirection.LEFT ? '2px' : '0px';\n\t\tthis.overlay.style.borderBottomWidth = direction === DropDirection.DOWN ? '2px' : '0px';\n\t\tthis.overlay.style.borderRightWidth = direction === DropDirection.RIGHT ? '2px' : '0px';\n\t}\n\n\tprivate doPositionOverlay(options: { top?: string; bottom?: string; left?: string; right?: string; width: string; height: string }): void {\n\n\t\t// Container\n\t\tthis.container.style.height = '100%';\n\n\t\t// Overlay\n\t\tthis.overlay.style.top = options.top || '';\n\t\tthis.overlay.style.left = options.left || '';\n\t\tthis.overlay.style.bottom = options.bottom || '';\n\t\tthis.overlay.style.right = options.right || '';\n\t\tthis.overlay.style.width = options.width;\n\t\tthis.overlay.style.height = options.height;\n\t}\n\n\n\tcontains(element: HTMLElement): boolean {\n\t\treturn element === this.container || element === this.overlay;\n\t}\n\n\toverride dispose(): void {\n\t\tsuper.dispose();\n\n\t\tthis._disposed = true;\n\t}\n}\n\nexport class ViewPaneContainer<MementoType extends object = object> extends Component<MementoType> implements IViewPaneContainer {\n\n\treadonly viewContainer: ViewContainer;\n\tprivate lastFocusedPane: ViewPane | undefined;\n\tprivate lastMergedCollapsedPane: ViewPane | undefined;\n\tprivate paneItems: IViewPaneItem[] = [];\n\tprivate paneview?: PaneView;\n\n\tprivate visible: boolean = false;\n\n\tprivate areExtensionsReady: boolean = false;\n\n\tprivate didLayout = false;\n\tprivate dimension: Dimension | undefined;\n\tprivate _boundarySashes: IBoundarySashes | undefined;\n\n\tprivate readonly visibleViewsCountFromCache: number | undefined;\n\tprivate readonly visibleViewsStorageId: string;\n\tprotected readonly viewContainerModel: IViewContainerModel;\n\n\tprivate readonly _onTitleAreaUpdate: Emitter<void> = this._register(new Emitter<void>());\n\treadonly onTitleAreaUpdate: Event<void> = this._onTitleAreaUpdate.event;\n\n\tprivate readonly _onDidChangeVisibility = this._register(new Emitter<boolean>());\n\treadonly onDidChangeVisibility = this._onDidChangeVisibility.event;\n\n\tprivate readonly _onDidAddViews = this._register(new Emitter<IView[]>());\n\treadonly onDidAddViews = this._onDidAddViews.event;\n\n\tprivate readonly _onDidRemoveViews = this._register(new Emitter<IView[]>());\n\treadonly onDidRemoveViews = this._onDidRemoveViews.event;\n\n\tprivate readonly _onDidChangeViewVisibility = this._register(new Emitter<IView>());\n\treadonly onDidChangeViewVisibility = this._onDidChangeViewVisibility.event;\n\n\tprivate readonly _onDidFocusView = this._register(new Emitter<IView>());\n\treadonly onDidFocusView = this._onDidFocusView.event;\n\n\tprivate readonly _onDidBlurView = this._register(new Emitter<IView>());\n\treadonly onDidBlurView = this._onDidBlurView.event;\n\n\tget onDidSashChange(): Event<number> {\n\t\treturn assertReturnsDefined(this.paneview).onDidSashChange;\n\t}\n\n\tget panes(): ViewPane[] {\n\t\treturn this.paneItems.map(i => i.pane);\n\t}\n\n\tget views(): IView[] {\n\t\treturn this.panes;\n\t}\n\n\tget length(): number {\n\t\treturn this.paneItems.length;\n\t}\n\n\tprivate _menuActions?: ViewContainerMenuActions;\n\tget menuActions(): ViewContainerMenuActions | undefined {\n\t\treturn this._menuActions;\n\t}\n\n\tconstructor(\n\t\tid: string,\n\t\tprivate options: IViewPaneContainerOptions,\n\t\t@IInstantiationService protected instantiationService: IInstantiationService,\n\t\t@IConfigurationService protected configurationService: IConfigurationService,\n\t\t@IWorkbenchLayoutService protected layoutService: IWorkbenchLayoutService,\n\t\t@IContextMenuService protected contextMenuService: IContextMenuService,\n\t\t@ITelemetryService protected telemetryService: ITelemetryService,\n\t\t@IExtensionService protected extensionService: IExtensionService,\n\t\t@IThemeService themeService: IThemeService,\n\t\t@IStorageService protected storageService: IStorageService,\n\t\t@IWorkspaceContextService protected contextService: IWorkspaceContextService,\n\t\t@IViewDescriptorService protected viewDescriptorService: IViewDescriptorService,\n\t\t@ILogService protected readonly logService: ILogService,\n\t) {\n\n\t\tsuper(id, themeService, storageService);\n\n\t\tconst container = this.viewDescriptorService.getViewContainerById(id);\n\t\tif (!container) {\n\t\t\tthrow new Error('Could not find container');\n\t\t}\n\n\n\t\tthis.viewContainer = container;\n\t\tthis.visibleViewsStorageId = `${id}.numberOfVisibleViews`;\n\t\tthis.visibleViewsCountFromCache = this.storageService.getNumber(this.visibleViewsStorageId, StorageScope.WORKSPACE, undefined);\n\t\tthis.viewContainerModel = this.viewDescriptorService.getViewContainerModel(container);\n\t}\n\n\tcreate(parent: HTMLElement): void {\n\t\tconst options = this.options as IPaneViewOptions;\n\t\toptions.orientation = this.orientation;\n\t\tthis.paneview = this._register(new PaneView(parent, this.options));\n\n\t\tif (this._boundarySashes) {\n\t\t\tthis.paneview.setBoundarySashes(this._boundarySashes);\n\t\t}\n\n\t\tthis._register(this.paneview.onDidDrop(({ from, to }) => this.movePane(from as ViewPane, to as ViewPane)));\n\t\tthis._register(this.paneview.onDidScroll(_ => this.onDidScrollPane()));\n\t\tthis._register(this.paneview.onDidSashReset((index) => this.onDidSashReset(index)));\n\t\tthis._register(addDisposableListener(parent, EventType.CONTEXT_MENU, (e: MouseEvent) => this.showContextMenu(new StandardMouseEvent(getWindow(parent), e))));\n\t\tthis._register(Gesture.addTarget(parent));\n\t\tthis._register(addDisposableListener(parent, TouchEventType.Contextmenu, (e: MouseEvent) => this.showContextMenu(new StandardMouseEvent(getWindow(parent), e))));\n\n\t\tthis._menuActions = this._register(this.instantiationService.createInstance(ViewContainerMenuActions, this.paneview.element, this.viewContainer));\n\t\tthis._register(this._menuActions.onDidChange(() => this.updateTitleArea()));\n\n\t\tlet overlay: ViewPaneDropOverlay | undefined;\n\t\tconst getOverlayBounds: () => BoundingRect = () => {\n\t\t\tconst fullSize = parent.getBoundingClientRect();\n\t\t\tconst lastPane = this.panes[this.panes.length - 1].element.getBoundingClientRect();\n\t\t\tconst top = this.orientation === Orientation.VERTICAL ? lastPane.bottom : fullSize.top;\n\t\t\tconst left = this.orientation === Orientation.HORIZONTAL ? lastPane.right : fullSize.left;\n\n\t\t\treturn {\n\t\t\t\ttop,\n\t\t\t\tbottom: fullSize.bottom,\n\t\t\t\tleft,\n\t\t\t\tright: fullSize.right,\n\t\t\t};\n\t\t};\n\n\t\tconst inBounds = (bounds: BoundingRect, pos: { x: number; y: number }) => {\n\t\t\treturn pos.x >= bounds.left && pos.x <= bounds.right && pos.y >= bounds.top && pos.y <= bounds.bottom;\n\t\t};\n\n\n\t\tlet bounds: BoundingRect;\n\n\t\tthis._register(CompositeDragAndDropObserver.INSTANCE.registerTarget(parent, {\n\t\t\tonDragEnter: (e) => {\n\t\t\t\tbounds = getOverlayBounds();\n\t\t\t\tif (overlay?.disposed) {\n\t\t\t\t\toverlay = undefined;\n\t\t\t\t}\n\n\t\t\t\tif (!overlay && inBounds(bounds, e.eventData)) {\n\t\t\t\t\tconst dropData = e.dragAndDropData.getData();\n\t\t\t\t\tif (dropData.type === 'view') {\n\n\t\t\t\t\t\tconst oldViewContainer = this.viewDescriptorService.getViewContainerByViewId(dropData.id);\n\t\t\t\t\t\tconst viewDescriptor = this.viewDescriptorService.getViewDescriptorById(dropData.id);\n\n\t\t\t\t\t\tif (oldViewContainer !== this.viewContainer && (!viewDescriptor || !viewDescriptor.canMoveView || this.viewContainer.rejectAddedViews)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\toverlay = new ViewPaneDropOverlay(parent, undefined, bounds, this.viewDescriptorService.getViewContainerLocation(this.viewContainer)!, this.themeService);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (dropData.type === 'composite' && dropData.id !== this.viewContainer.id) {\n\t\t\t\t\t\tconst container = this.viewDescriptorService.getViewContainerById(dropData.id)!;\n\t\t\t\t\t\tconst viewsToMove = this.viewDescriptorService.getViewContainerModel(container).allViewDescriptors;\n\n\t\t\t\t\t\tif (!viewsToMove.some(v => !v.canMoveView) && viewsToMove.length > 0) {\n\t\t\t\t\t\t\toverlay = new ViewPaneDropOverlay(parent, undefined, bounds, this.viewDescriptorService.getViewContainerLocation(this.viewContainer)!, this.themeService);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tonDragOver: (e) => {\n\t\t\t\tif (overlay?.disposed) {\n\t\t\t\t\toverlay = undefined;\n\t\t\t\t}\n\n\t\t\t\tif (overlay && !inBounds(bounds, e.eventData)) {\n\t\t\t\t\toverlay.dispose();\n\t\t\t\t\toverlay = undefined;\n\t\t\t\t}\n\n\t\t\t\tif (inBounds(bounds, e.eventData)) {\n\t\t\t\t\ttoggleDropEffect(e.eventData.dataTransfer, 'move', overlay !== undefined);\n\t\t\t\t}\n\t\t\t},\n\t\t\tonDragLeave: (e) => {\n\t\t\t\toverlay?.dispose();\n\t\t\t\toverlay = undefined;\n\t\t\t},\n\t\t\tonDrop: (e) => {\n\t\t\t\tif (overlay) {\n\t\t\t\t\tconst dropData = e.dragAndDropData.getData();\n\t\t\t\t\tconst viewsToMove: IViewDescriptor[] = [];\n\n\t\t\t\t\tif (dropData.type === 'composite' && dropData.id !== this.viewContainer.id) {\n\t\t\t\t\t\tconst container = this.viewDescriptorService.getViewContainerById(dropData.id)!;\n\t\t\t\t\t\tconst allViews = this.viewDescriptorService.getViewContainerModel(container).allViewDescriptors;\n\t\t\t\t\t\tif (!allViews.some(v => !v.canMoveView)) {\n\t\t\t\t\t\t\tviewsToMove.push(...allViews);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (dropData.type === 'view') {\n\t\t\t\t\t\tconst oldViewContainer = this.viewDescriptorService.getViewContainerByViewId(dropData.id);\n\t\t\t\t\t\tconst viewDescriptor = this.viewDescriptorService.getViewDescriptorById(dropData.id);\n\t\t\t\t\t\tif (oldViewContainer !== this.viewContainer && viewDescriptor?.canMoveView) {\n\t\t\t\t\t\t\tthis.viewDescriptorService.moveViewsToContainer([viewDescriptor], this.viewContainer, undefined, 'dnd');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tconst paneCount = this.panes.length;\n\n\t\t\t\t\tif (viewsToMove.length > 0) {\n\t\t\t\t\t\tthis.viewDescriptorService.moveViewsToContainer(viewsToMove, this.viewContainer, undefined, 'dnd');\n\t\t\t\t\t}\n\n\t\t\t\t\tif (paneCount > 0) {\n\t\t\t\t\t\tfor (const view of viewsToMove) {\n\t\t\t\t\t\t\tconst paneToMove = this.panes.find(p => p.id === view.id);\n\t\t\t\t\t\t\tif (paneToMove) {\n\t\t\t\t\t\t\t\tthis.movePane(paneToMove, this.panes[this.panes.length - 1]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\toverlay?.dispose();\n\t\t\t\toverlay = undefined;\n\t\t\t}\n\t\t}));\n\n\t\tthis._register(this.onDidSashChange(() => this.saveViewSizes()));\n\t\tthis._register(this.viewContainerModel.onDidAddVisibleViewDescriptors(added => this.onDidAddViewDescriptors(added)));\n\t\tthis._register(this.viewContainerModel.onDidRemoveVisibleViewDescriptors(removed => this.onDidRemoveViewDescriptors(removed)));\n\t\tconst addedViews: IAddedViewDescriptorRef[] = this.viewContainerModel.visibleViewDescriptors.map((viewDescriptor, index) => {\n\t\t\tconst size = this.viewContainerModel.getSize(viewDescriptor.id);\n\t\t\tconst collapsed = this.viewContainerModel.isCollapsed(viewDescriptor.id);\n\t\t\treturn ({ viewDescriptor, index, size, collapsed });\n\t\t});\n\t\tif (addedViews.length) {\n\t\t\tthis.onDidAddViewDescriptors(addedViews);\n\t\t}\n\n\t\t// Update headers after and title contributed views after available, since we read from cache in the beginning to know if the viewlet has single view or not. Ref #29609\n\t\tthis.extensionService.whenInstalledExtensionsRegistered().then(() => {\n\t\t\tthis.areExtensionsReady = true;\n\t\t\tif (this.panes.length) {\n\t\t\t\tthis.updateTitleArea();\n\t\t\t\tthis.updateViewHeaders();\n\t\t\t}\n\t\t\tthis._register(this.configurationService.onDidChangeConfiguration(e => {\n\t\t\t\tif (e.affectsConfiguration(LayoutSettings.ACTIVITY_BAR_LOCATION)) {\n\t\t\t\t\tthis.updateViewHeaders();\n\t\t\t\t}\n\t\t\t}));\n\t\t});\n\n\t\tthis._register(this.viewContainerModel.onDidChangeActiveViewDescriptors(() => this._onTitleAreaUpdate.fire()));\n\t}\n\n\tgetTitle(): string {\n\t\tconst containerTitle = this.viewContainerModel.title;\n\n\t\tif (this.isViewMergedWithContainer()) {\n\t\t\tconst singleViewPaneContainerTitle = this.paneItems[0].pane.singleViewPaneContainerTitle;\n\t\t\tif (singleViewPaneContainerTitle) {\n\t\t\t\treturn singleViewPaneContainerTitle;\n\t\t\t}\n\n\t\t\tconst paneItemTitle = this.paneItems[0].pane.title;\n\t\t\tif (containerTitle === paneItemTitle) {\n\t\t\t\treturn paneItemTitle;\n\t\t\t}\n\n\t\t\treturn paneItemTitle ? `${containerTitle}: ${paneItemTitle}` : containerTitle;\n\t\t}\n\n\t\treturn containerTitle;\n\t}\n\n\tprivate showContextMenu(event: StandardMouseEvent): void {\n\t\tfor (const paneItem of this.paneItems) {\n\t\t\t// Do not show context menu if target is coming from inside pane views\n\t\t\tif (isAncestor(event.target, paneItem.pane.element)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\n\t\tthis.contextMenuService.showContextMenu({\n\t\t\tgetAnchor: () => event,\n\t\t\tgetActions: () => this.menuActions?.getContextMenuActions() ?? []\n\t\t});\n\t}\n\n\tgetActionsContext(): unknown {\n\t\tif (this.isViewMergedWithContainer()) {\n\t\t\treturn this.panes[0].getActionsContext();\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tgetActionViewItem(action: IAction, options: IBaseActionViewItemOptions): IActionViewItem | undefined {\n\t\tif (this.isViewMergedWithContainer()) {\n\t\t\treturn this.paneItems[0].pane.createActionViewItem(action, options);\n\t\t}\n\t\treturn createActionViewItem(this.instantiationService, action, options);\n\t}\n\n\tfocus(): void {\n\t\tlet paneToFocus: ViewPane | undefined = undefined;\n\t\tif (this.lastFocusedPane) {\n\t\t\tpaneToFocus = this.lastFocusedPane;\n\t\t} else if (this.paneItems.length > 0) {\n\t\t\tfor (const { pane } of this.paneItems) {\n\t\t\t\tif (pane.isExpanded()) {\n\t\t\t\t\tpaneToFocus = pane;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (paneToFocus) {\n\t\t\tpaneToFocus.focus();\n\t\t}\n\t}\n\n\tprivate get orientation(): Orientation {\n\t\tswitch (this.viewDescriptorService.getViewContainerLocation(this.viewContainer)) {\n\t\t\tcase ViewContainerLocation.Sidebar:\n\t\t\tcase ViewContainerLocation.AuxiliaryBar:\n\t\t\t\treturn Orientation.VERTICAL;\n\t\t\tcase ViewContainerLocation.Panel: {\n\t\t\t\treturn isHorizontal(this.layoutService.getPanelPosition()) ? Orientation.HORIZONTAL : Orientation.VERTICAL;\n\t\t\t}\n\t\t}\n\n\t\treturn Orientation.VERTICAL;\n\t}\n\n\tlayout(dimension: Dimension): void {\n\t\tif (this.paneview) {\n\t\t\tif (this.paneview.orientation !== this.orientation) {\n\t\t\t\tthis.paneview.flipOrientation(dimension.height, dimension.width);\n\t\t\t}\n\n\t\t\tthis.paneview.layout(dimension.height, dimension.width);\n\t\t}\n\n\t\tthis.dimension = dimension;\n\t\tif (this.didLayout) {\n\t\t\tthis.saveViewSizes();\n\t\t} else {\n\t\t\tthis.didLayout = true;\n\t\t\tthis.restoreViewSizes();\n\t\t}\n\t}\n\n\tsetBoundarySashes(sashes: IBoundarySashes): void {\n\t\tthis._boundarySashes = sashes;\n\t\tthis.paneview?.setBoundarySashes(sashes);\n\t}\n\n\tgetOptimalWidth(): number {\n\t\tconst additionalMargin = 16;\n\t\tconst optimalWidth = Math.max(...this.panes.map(view => view.getOptimalWidth() || 0));\n\t\treturn optimalWidth + additionalMargin;\n\t}\n\n\taddPanes(panes: { pane: ViewPane; size: number; index?: number; disposable: IDisposable }[]): void {\n\t\tconst wasMerged = this.isViewMergedWithContainer();\n\n\t\tfor (const { pane, size, index, disposable } of panes) {\n\t\t\tthis.addPane(pane, size, disposable, index);\n\t\t}\n\n\t\tthis.updateViewHeaders();\n\t\tif (this.isViewMergedWithContainer() !== wasMerged) {\n\t\t\tthis.updateTitleArea();\n\t\t}\n\n\t\tthis._onDidAddViews.fire(panes.map(({ pane }) => pane));\n\t}\n\n\tsetVisible(visible: boolean): void {\n\t\tif (this.visible !== !!visible) {\n\t\t\tthis.visible = visible;\n\n\t\t\tthis._onDidChangeVisibility.fire(visible);\n\t\t}\n\n\t\tthis.panes.filter(view => view.isVisible() !== visible)\n\t\t\t.map((view) => view.setVisible(visible));\n\t}\n\n\tisVisible(): boolean {\n\t\treturn this.visible;\n\t}\n\n\tprotected updateTitleArea(): void {\n\t\tthis._onTitleAreaUpdate.fire();\n\t}\n\n\tprotected createView(viewDescriptor: IViewDescriptor, options: IViewletViewOptions): ViewPane {\n\t\treturn this.instantiationService.createInstance(viewDescriptor.ctorDescriptor.ctor, ...(viewDescriptor.ctorDescriptor.staticArguments || []), options);\n\t}\n\n\tgetView(id: string): ViewPane | undefined {\n\t\treturn this.panes.filter(view => view.id === id)[0];\n\t}\n\n\tprivate saveViewSizes(): void {\n\t\t// Save size only when the layout has happened\n\t\tif (this.didLayout) {\n\t\t\tthis.viewContainerModel.setSizes(this.panes.map(view => ({ id: view.id, size: this.getPaneSize(view) })));\n\t\t}\n\t}\n\n\tprivate restoreViewSizes(): void {\n\t\t// Restore sizes only when the layout has happened\n\t\tif (this.didLayout) {\n\t\t\tlet initialSizes;\n\t\t\tfor (let i = 0; i < this.viewContainerModel.visibleViewDescriptors.length; i++) {\n\t\t\t\tconst pane = this.panes[i];\n\t\t\t\tconst viewDescriptor = this.viewContainerModel.visibleViewDescriptors[i];\n\t\t\t\tconst size = this.viewContainerModel.getSize(viewDescriptor.id);\n\n\t\t\t\tif (typeof size === 'number') {\n\t\t\t\t\tthis.resizePane(pane, size);\n\t\t\t\t} else {\n\t\t\t\t\tinitialSizes = initialSizes ? initialSizes : this.computeInitialSizes();\n\t\t\t\t\tthis.resizePane(pane, initialSizes.get(pane.id) || 200);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate computeInitialSizes(): Map<string, number> {\n\t\tconst sizes: Map<string, number> = new Map<string, number>();\n\t\tif (this.dimension) {\n\t\t\tconst totalWeight = this.viewContainerModel.visibleViewDescriptors.reduce((totalWeight, { weight }) => totalWeight + (weight || 20), 0);\n\t\t\tfor (const viewDescriptor of this.viewContainerModel.visibleViewDescriptors) {\n\t\t\t\tif (this.orientation === Orientation.VERTICAL) {\n\t\t\t\t\tsizes.set(viewDescriptor.id, this.dimension.height * (viewDescriptor.weight || 20) / totalWeight);\n\t\t\t\t} else {\n\t\t\t\t\tsizes.set(viewDescriptor.id, this.dimension.width * (viewDescriptor.weight || 20) / totalWeight);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn sizes;\n\t}\n\n\tprotected override saveState(): void {\n\t\tthis.panes.forEach((view) => view.saveState());\n\t\tthis.storageService.store(this.visibleViewsStorageId, this.length, StorageScope.WORKSPACE, StorageTarget.MACHINE);\n\t}\n\n\tprivate onContextMenu(event: StandardMouseEvent, viewPane: ViewPane): void {\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\n\t\tconst actions: IAction[] = viewPane.menuActions.getContextMenuActions();\n\n\t\tthis.contextMenuService.showContextMenu({\n\t\t\tgetAnchor: () => event,\n\t\t\tgetActions: () => actions\n\t\t});\n\t}\n\n\topenView(id: string, focus?: boolean): IView | undefined {\n\t\tlet view = this.getView(id);\n\t\tif (!view) {\n\t\t\tthis.toggleViewVisibility(id);\n\t\t}\n\t\tview = this.getView(id);\n\t\tif (view) {\n\t\t\tview.setExpanded(true);\n\t\t\tif (focus) {\n\t\t\t\tview.focus();\n\t\t\t}\n\t\t}\n\t\treturn view;\n\t}\n\n\tprotected onDidAddViewDescriptors(added: IAddedViewDescriptorRef[]): ViewPane[] {\n\t\tconst panesToAdd: { pane: ViewPane; size: number; index: number; disposable: IDisposable }[] = [];\n\n\t\tfor (const { viewDescriptor, collapsed, index, size } of added) {\n\t\t\tconst pane = this.createView(viewDescriptor,\n\t\t\t\t{\n\t\t\t\t\tid: viewDescriptor.id,\n\t\t\t\t\ttitle: viewDescriptor.name.value,\n\t\t\t\t\tfromExtensionId: (viewDescriptor as Partial<ICustomViewDescriptor>).extensionId,\n\t\t\t\t\texpanded: !collapsed,\n\t\t\t\t\tsingleViewPaneContainerTitle: viewDescriptor.singleViewPaneContainerTitle,\n\t\t\t\t});\n\n\t\t\ttry {\n\t\t\t\tpane.render();\n\t\t\t} catch (error) {\n\t\t\t\tthis.logService.error(`Fail to render view ${viewDescriptor.id}`, error);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (pane.draggableElement) {\n\t\t\t\tconst contextMenuDisposable = addDisposableListener(pane.draggableElement, 'contextmenu', e => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tthis.onContextMenu(new StandardMouseEvent(getWindow(pane.draggableElement), e), pane);\n\t\t\t\t});\n\n\t\t\t\tconst collapseDisposable = Event.latch(Event.map(pane.onDidChange, () => !pane.isExpanded()))(collapsed => {\n\t\t\t\t\tthis.viewContainerModel.setCollapsed(viewDescriptor.id, collapsed);\n\t\t\t\t});\n\n\t\t\t\tpanesToAdd.push({ pane, size: size || pane.minimumSize, index, disposable: combinedDisposable(contextMenuDisposable, collapseDisposable) });\n\t\t\t}\n\t\t}\n\n\t\tthis.addPanes(panesToAdd);\n\t\tthis.restoreViewSizes();\n\n\t\tconst panes: ViewPane[] = [];\n\t\tfor (const { pane } of panesToAdd) {\n\t\t\tpane.setVisible(this.isVisible());\n\t\t\tpanes.push(pane);\n\t\t}\n\t\treturn panes;\n\t}\n\n\tprivate onDidRemoveViewDescriptors(removed: IViewDescriptorRef[]): void {\n\t\tremoved = removed.sort((a, b) => b.index - a.index);\n\t\tconst panesToRemove: ViewPane[] = [];\n\t\tfor (const { index } of removed) {\n\t\t\tconst paneItem = this.paneItems[index];\n\t\t\tif (paneItem) {\n\t\t\t\tpanesToRemove.push(this.paneItems[index].pane);\n\t\t\t}\n\t\t}\n\n\t\tif (panesToRemove.length) {\n\t\t\tthis.removePanes(panesToRemove);\n\n\t\t\tfor (const pane of panesToRemove) {\n\t\t\t\tpane.setVisible(false);\n\t\t\t}\n\t\t}\n\t}\n\n\ttoggleViewVisibility(viewId: string): void {\n\t\t// Check if view is active\n\t\tif (this.viewContainerModel.activeViewDescriptors.some(viewDescriptor => viewDescriptor.id === viewId)) {\n\t\t\tconst visible = !this.viewContainerModel.isVisible(viewId);\n\t\t\tthis.viewContainerModel.setVisible(viewId, visible);\n\t\t}\n\t}\n\n\tprivate addPane(pane: ViewPane, size: number, disposable: IDisposable, index = this.paneItems.length - 1): void {\n\t\tconst onDidFocus = pane.onDidFocus(() => {\n\t\t\tthis._onDidFocusView.fire(pane);\n\t\t\tthis.lastFocusedPane = pane;\n\t\t});\n\t\tconst onDidBlur = pane.onDidBlur(() => this._onDidBlurView.fire(pane));\n\t\tconst onDidChangeTitleArea = pane.onDidChangeTitleArea(() => {\n\t\t\tif (this.isViewMergedWithContainer()) {\n\t\t\t\tthis.updateTitleArea();\n\t\t\t}\n\t\t});\n\n\t\tconst onDidChangeVisibility = pane.onDidChangeBodyVisibility(() => this._onDidChangeViewVisibility.fire(pane));\n\t\tconst onDidChange = pane.onDidChange(() => {\n\t\t\tif (pane === this.lastFocusedPane && !pane.isExpanded()) {\n\t\t\t\tthis.lastFocusedPane = undefined;\n\t\t\t}\n\t\t});\n\n\t\tconst isPanel = this.viewDescriptorService.getViewContainerLocation(this.viewContainer) === ViewContainerLocation.Panel;\n\t\tpane.style({\n\t\t\theaderForeground: asCssVariable(isPanel ? PANEL_SECTION_HEADER_FOREGROUND : SIDE_BAR_SECTION_HEADER_FOREGROUND),\n\t\t\theaderBackground: asCssVariable(isPanel ? PANEL_SECTION_HEADER_BACKGROUND : SIDE_BAR_SECTION_HEADER_BACKGROUND),\n\t\t\theaderBorder: asCssVariable(isPanel ? PANEL_SECTION_HEADER_BORDER : SIDE_BAR_SECTION_HEADER_BORDER),\n\t\t\tdropBackground: asCssVariable(isPanel ? PANEL_SECTION_DRAG_AND_DROP_BACKGROUND : SIDE_BAR_DRAG_AND_DROP_BACKGROUND),\n\t\t\tleftBorder: isPanel ? asCssVariable(PANEL_SECTION_BORDER) : undefined\n\t\t});\n\n\t\tconst store = new DisposableStore();\n\t\tstore.add(disposable);\n\t\tstore.add(combinedDisposable(pane, onDidFocus, onDidBlur, onDidChangeTitleArea, onDidChange, onDidChangeVisibility));\n\t\tconst paneItem: IViewPaneItem = { pane, disposable: store };\n\n\t\tthis.paneItems.splice(index, 0, paneItem);\n\t\tassertReturnsDefined(this.paneview).addPane(pane, size, index);\n\n\t\tlet overlay: ViewPaneDropOverlay | undefined;\n\n\t\tif (pane.draggableElement) {\n\t\t\tstore.add(CompositeDragAndDropObserver.INSTANCE.registerDraggable(pane.draggableElement, () => { return { type: 'view', id: pane.id }; }, {}));\n\t\t}\n\n\t\tstore.add(CompositeDragAndDropObserver.INSTANCE.registerTarget(pane.dropTargetElement, {\n\t\t\tonDragEnter: (e) => {\n\t\t\t\tif (!overlay) {\n\t\t\t\t\tconst dropData = e.dragAndDropData.getData();\n\t\t\t\t\tif (dropData.type === 'view' && dropData.id !== pane.id) {\n\n\t\t\t\t\t\tconst oldViewContainer = this.viewDescriptorService.getViewContainerByViewId(dropData.id);\n\t\t\t\t\t\tconst viewDescriptor = this.viewDescriptorService.getViewDescriptorById(dropData.id);\n\n\t\t\t\t\t\tif (oldViewContainer !== this.viewContainer && (!viewDescriptor || !viewDescriptor.canMoveView || this.viewContainer.rejectAddedViews)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\toverlay = new ViewPaneDropOverlay(pane.dropTargetElement, this.orientation ?? Orientation.VERTICAL, undefined, this.viewDescriptorService.getViewContainerLocation(this.viewContainer)!, this.themeService);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (dropData.type === 'composite' && dropData.id !== this.viewContainer.id && !this.viewContainer.rejectAddedViews) {\n\t\t\t\t\t\tconst container = this.viewDescriptorService.getViewContainerById(dropData.id)!;\n\t\t\t\t\t\tconst viewsToMove = this.viewDescriptorService.getViewContainerModel(container).allViewDescriptors;\n\n\t\t\t\t\t\tif (!viewsToMove.some(v => !v.canMoveView) && viewsToMove.length > 0) {\n\t\t\t\t\t\t\toverlay = new ViewPaneDropOverlay(pane.dropTargetElement, this.orientation ?? Orientation.VERTICAL, undefined, this.viewDescriptorService.getViewContainerLocation(this.viewContainer)!, this.themeService);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tonDragOver: (e) => {\n\t\t\t\ttoggleDropEffect(e.eventData.dataTransfer, 'move', overlay !== undefined);\n\t\t\t},\n\t\t\tonDragLeave: (e) => {\n\t\t\t\toverlay?.dispose();\n\t\t\t\toverlay = undefined;\n\t\t\t},\n\t\t\tonDrop: (e) => {\n\t\t\t\tif (overlay) {\n\t\t\t\t\tconst dropData = e.dragAndDropData.getData();\n\t\t\t\t\tconst viewsToMove: IViewDescriptor[] = [];\n\t\t\t\t\tlet anchorView: IViewDescriptor | undefined;\n\n\t\t\t\t\tif (dropData.type === 'composite' && dropData.id !== this.viewContainer.id && !this.viewContainer.rejectAddedViews) {\n\t\t\t\t\t\tconst container = this.viewDescriptorService.getViewContainerById(dropData.id)!;\n\t\t\t\t\t\tconst allViews = this.viewDescriptorService.getViewContainerModel(container).allViewDescriptors;\n\n\t\t\t\t\t\tif (allViews.length > 0 && !allViews.some(v => !v.canMoveView)) {\n\t\t\t\t\t\t\tviewsToMove.push(...allViews);\n\t\t\t\t\t\t\tanchorView = allViews[0];\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (dropData.type === 'view') {\n\t\t\t\t\t\tconst oldViewContainer = this.viewDescriptorService.getViewContainerByViewId(dropData.id);\n\t\t\t\t\t\tconst viewDescriptor = this.viewDescriptorService.getViewDescriptorById(dropData.id);\n\t\t\t\t\t\tif (oldViewContainer !== this.viewContainer && viewDescriptor && viewDescriptor.canMoveView && !this.viewContainer.rejectAddedViews) {\n\t\t\t\t\t\t\tviewsToMove.push(viewDescriptor);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (viewDescriptor) {\n\t\t\t\t\t\t\tanchorView = viewDescriptor;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (viewsToMove) {\n\t\t\t\t\t\tthis.viewDescriptorService.moveViewsToContainer(viewsToMove, this.viewContainer, undefined, 'dnd');\n\t\t\t\t\t}\n\n\t\t\t\t\tif (anchorView) {\n\t\t\t\t\t\tif (overlay.currentDropOperation === DropDirection.DOWN ||\n\t\t\t\t\t\t\toverlay.currentDropOperation === DropDirection.RIGHT) {\n\n\t\t\t\t\t\t\tconst fromIndex = this.panes.findIndex(p => p.id === anchorView!.id);\n\t\t\t\t\t\t\tlet toIndex = this.panes.findIndex(p => p.id === pane.id);\n\n\t\t\t\t\t\t\tif (fromIndex >= 0 && toIndex >= 0) {\n\t\t\t\t\t\t\t\tif (fromIndex > toIndex) {\n\t\t\t\t\t\t\t\t\ttoIndex++;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (toIndex < this.panes.length && toIndex !== fromIndex) {\n\t\t\t\t\t\t\t\t\tthis.movePane(this.panes[fromIndex], this.panes[toIndex]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (overlay.currentDropOperation === DropDirection.UP ||\n\t\t\t\t\t\t\toverlay.currentDropOperation === DropDirection.LEFT) {\n\t\t\t\t\t\t\tconst fromIndex = this.panes.findIndex(p => p.id === anchorView!.id);\n\t\t\t\t\t\t\tlet toIndex = this.panes.findIndex(p => p.id === pane.id);\n\n\t\t\t\t\t\t\tif (fromIndex >= 0 && toIndex >= 0) {\n\t\t\t\t\t\t\t\tif (fromIndex < toIndex) {\n\t\t\t\t\t\t\t\t\ttoIndex--;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (toIndex >= 0 && toIndex !== fromIndex) {\n\t\t\t\t\t\t\t\t\tthis.movePane(this.panes[fromIndex], this.panes[toIndex]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (viewsToMove.length > 1) {\n\t\t\t\t\t\t\tviewsToMove.slice(1).forEach(view => {\n\t\t\t\t\t\t\t\tlet toIndex = this.panes.findIndex(p => p.id === anchorView!.id);\n\t\t\t\t\t\t\t\tconst fromIndex = this.panes.findIndex(p => p.id === view.id);\n\t\t\t\t\t\t\t\tif (fromIndex >= 0 && toIndex >= 0) {\n\t\t\t\t\t\t\t\t\tif (fromIndex > toIndex) {\n\t\t\t\t\t\t\t\t\t\ttoIndex++;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif (toIndex < this.panes.length && toIndex !== fromIndex) {\n\t\t\t\t\t\t\t\t\t\tthis.movePane(this.panes[fromIndex], this.panes[toIndex]);\n\t\t\t\t\t\t\t\t\t\tanchorView = view;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\toverlay?.dispose();\n\t\t\t\toverlay = undefined;\n\t\t\t}\n\t\t}));\n\t}\n\n\tremovePanes(panes: ViewPane[]): void {\n\t\tconst wasMerged = this.isViewMergedWithContainer();\n\n\t\tpanes.forEach(pane => this.removePane(pane));\n\n\t\tthis.updateViewHeaders();\n\t\tif (wasMerged !== this.isViewMergedWithContainer()) {\n\t\t\tthis.updateTitleArea();\n\t\t}\n\n\t\tthis._onDidRemoveViews.fire(panes);\n\t}\n\n\tprivate removePane(pane: ViewPane): void {\n\t\tconst index = this.paneItems.findIndex(i => i.pane === pane);\n\n\t\tif (index === -1) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.lastFocusedPane === pane) {\n\t\t\tthis.lastFocusedPane = undefined;\n\t\t}\n\n\t\tassertReturnsDefined(this.paneview).removePane(pane);\n\t\tconst [paneItem] = this.paneItems.splice(index, 1);\n\t\tpaneItem.disposable.dispose();\n\n\t}\n\n\tmovePane(from: ViewPane, to: ViewPane): void {\n\t\tconst fromIndex = this.paneItems.findIndex(item => item.pane === from);\n\t\tconst toIndex = this.paneItems.findIndex(item => item.pane === to);\n\n\t\tconst fromViewDescriptor = this.viewContainerModel.visibleViewDescriptors[fromIndex];\n\t\tconst toViewDescriptor = this.viewContainerModel.visibleViewDescriptors[toIndex];\n\n\t\tif (fromIndex < 0 || fromIndex >= this.paneItems.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (toIndex < 0 || toIndex >= this.paneItems.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst [paneItem] = this.paneItems.splice(fromIndex, 1);\n\t\tthis.paneItems.splice(toIndex, 0, paneItem);\n\n\t\tassertReturnsDefined(this.paneview).movePane(from, to);\n\n\t\tthis.viewContainerModel.move(fromViewDescriptor.id, toViewDescriptor.id);\n\n\t\tthis.updateTitleArea();\n\t}\n\n\tresizePane(pane: ViewPane, size: number): void {\n\t\tassertReturnsDefined(this.paneview).resizePane(pane, size);\n\t}\n\n\tgetPaneSize(pane: ViewPane): number {\n\t\treturn assertReturnsDefined(this.paneview).getPaneSize(pane);\n\t}\n\n\tprivate updateViewHeaders(): void {\n\t\tif (this.isViewMergedWithContainer()) {\n\t\t\tif (this.paneItems[0].pane.isExpanded()) {\n\t\t\t\tthis.lastMergedCollapsedPane = undefined;\n\t\t\t} else {\n\t\t\t\tthis.lastMergedCollapsedPane = this.paneItems[0].pane;\n\t\t\t\tthis.paneItems[0].pane.setExpanded(true);\n\t\t\t}\n\t\t\tthis.paneItems[0].pane.headerVisible = false;\n\t\t\tthis.paneItems[0].pane.collapsible = true;\n\t\t} else {\n\t\t\tif (this.paneItems.length === 1) {\n\t\t\t\tthis.paneItems[0].pane.headerVisible = true;\n\t\t\t\tif (this.paneItems[0].pane === this.lastMergedCollapsedPane) {\n\t\t\t\t\tthis.paneItems[0].pane.setExpanded(false);\n\t\t\t\t}\n\t\t\t\tthis.paneItems[0].pane.collapsible = false;\n\t\t\t} else {\n\t\t\t\tthis.paneItems.forEach(i => {\n\t\t\t\t\ti.pane.headerVisible = true;\n\t\t\t\t\ti.pane.collapsible = true;\n\t\t\t\t\tif (i.pane === this.lastMergedCollapsedPane) {\n\t\t\t\t\t\ti.pane.setExpanded(false);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.lastMergedCollapsedPane = undefined;\n\t\t}\n\t}\n\n\tisViewMergedWithContainer(): boolean {\n\t\tif (!(this.options.mergeViewWithContainerWhenSingleView && this.paneItems.length === 1)) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!this.areExtensionsReady) {\n\t\t\tif (this.visibleViewsCountFromCache === undefined) {\n\t\t\t\treturn this.paneItems[0].pane.isExpanded();\n\t\t\t}\n\t\t\t// Check in cache so that view do not jump. See #29609\n\t\t\treturn this.visibleViewsCountFromCache === 1;\n\t\t}\n\t\treturn true;\n\t}\n\n\tprivate onDidScrollPane() {\n\t\tfor (const pane of this.panes) {\n\t\t\tpane.onDidScrollRoot();\n\t\t}\n\t}\n\n\tprivate onDidSashReset(index: number) {\n\t\tlet firstPane = undefined;\n\t\tlet secondPane = undefined;\n\n\t\t// Deal with collapsed views: to be clever, we split the space taken by the nearest uncollapsed views\n\t\tfor (let i = index; i >= 0; i--) {\n\t\t\tif (this.paneItems[i].pane?.isVisible() && this.paneItems[i]?.pane.isExpanded()) {\n\t\t\t\tfirstPane = this.paneItems[i].pane;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tfor (let i = index + 1; i < this.paneItems.length; i++) {\n\t\t\tif (this.paneItems[i].pane?.isVisible() && this.paneItems[i]?.pane.isExpanded()) {\n\t\t\t\tsecondPane = this.paneItems[i].pane;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (firstPane && secondPane) {\n\t\t\tconst firstPaneSize = this.getPaneSize(firstPane);\n\t\t\tconst secondPaneSize = this.getPaneSize(secondPane);\n\n\t\t\t// Avoid rounding errors and be consistent when resizing\n\t\t\t// The first pane always get half rounded up and the second is half rounded down\n\t\t\tconst newFirstPaneSize = Math.ceil((firstPaneSize + secondPaneSize) / 2);\n\t\t\tconst newSecondPaneSize = Math.floor((firstPaneSize + secondPaneSize) / 2);\n\n\t\t\t// Shrink the larger pane first, then grow the smaller pane\n\t\t\t// This prevents interfering with other view sizes\n\t\t\tif (firstPaneSize > secondPaneSize) {\n\t\t\t\tthis.resizePane(firstPane, newFirstPaneSize);\n\t\t\t\tthis.resizePane(secondPane, newSecondPaneSize);\n\t\t\t} else {\n\t\t\t\tthis.resizePane(secondPane, newSecondPaneSize);\n\t\t\t\tthis.resizePane(firstPane, newFirstPaneSize);\n\t\t\t}\n\t\t}\n\t}\n\n\toverride dispose(): void {\n\t\tsuper.dispose();\n\t\tthis.paneItems.forEach(i => i.disposable.dispose());\n\t\tif (this.paneview) {\n\t\t\tthis.paneview.dispose();\n\t\t}\n\t}\n}\n\nexport abstract class ViewPaneContainerAction<T extends IViewPaneContainer> extends Action2 {\n\toverride readonly desc: Readonly<IAction2Options> & { viewPaneContainerId: string };\n\tconstructor(desc: Readonly<IAction2Options> & { viewPaneContainerId: string }) {\n\t\tsuper(desc);\n\t\tthis.desc = desc;\n\t}\n\n\trun(accessor: ServicesAccessor, ...args: unknown[]): unknown {\n\t\tconst viewPaneContainer = accessor.get(IViewsService).getActiveViewPaneContainerWithId(this.desc.viewPaneContainerId);\n\t\tif (viewPaneContainer) {\n\t\t\treturn this.runInViewPaneContainer(accessor, <T>viewPaneContainer, ...args);\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tabstract runInViewPaneContainer(accessor: ServicesAccessor, viewPaneContainer: T, ...args: unknown[]): unknown;\n}\n\nclass MoveViewPosition extends Action2 {\n\tconstructor(desc: Readonly<IAction2Options>, private readonly offset: number) {\n\t\tsuper(desc);\n\t}\n\n\tasync run(accessor: ServicesAccessor): Promise<void> {\n\t\tconst viewDescriptorService = accessor.get(IViewDescriptorService);\n\t\tconst contextKeyService = accessor.get(IContextKeyService);\n\n\t\tconst viewId = FocusedViewContext.getValue(contextKeyService);\n\t\tif (viewId === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst viewContainer = viewDescriptorService.getViewContainerByViewId(viewId)!;\n\t\tconst model = viewDescriptorService.getViewContainerModel(viewContainer);\n\n\t\tconst viewDescriptor = model.visibleViewDescriptors.find(vd => vd.id === viewId)!;\n\t\tconst currentIndex = model.visibleViewDescriptors.indexOf(viewDescriptor);\n\t\tif (currentIndex + this.offset < 0 || currentIndex + this.offset >= model.visibleViewDescriptors.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst newPosition = model.visibleViewDescriptors[currentIndex + this.offset];\n\n\t\tmodel.move(viewDescriptor.id, newPosition.id);\n\t}\n}\n\nregisterAction2(\n\tclass MoveViewUp extends MoveViewPosition {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: 'views.moveViewUp',\n\t\t\t\ttitle: nls.localize('viewMoveUp', \"Move View Up\"),\n\t\t\t\tkeybinding: {\n\t\t\t\t\tprimary: KeyChord(KeyMod.CtrlCmd + KeyCode.KeyK, KeyCode.UpArrow),\n\t\t\t\t\tweight: KeybindingWeight.WorkbenchContrib + 1,\n\t\t\t\t\twhen: FocusedViewContext.notEqualsTo('')\n\t\t\t\t}\n\t\t\t}, -1);\n\t\t}\n\t}\n);\n\nregisterAction2(\n\tclass MoveViewLeft extends MoveViewPosition {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: 'views.moveViewLeft',\n\t\t\t\ttitle: nls.localize('viewMoveLeft', \"Move View Left\"),\n\t\t\t\tkeybinding: {\n\t\t\t\t\tprimary: KeyChord(KeyMod.CtrlCmd + KeyCode.KeyK, KeyCode.LeftArrow),\n\t\t\t\t\tweight: KeybindingWeight.WorkbenchContrib + 1,\n\t\t\t\t\twhen: FocusedViewContext.notEqualsTo('')\n\t\t\t\t}\n\t\t\t}, -1);\n\t\t}\n\t}\n);\n\nregisterAction2(\n\tclass MoveViewDown extends MoveViewPosition {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: 'views.moveViewDown',\n\t\t\t\ttitle: nls.localize('viewMoveDown', \"Move View Down\"),\n\t\t\t\tkeybinding: {\n\t\t\t\t\tprimary: KeyChord(KeyMod.CtrlCmd + KeyCode.KeyK, KeyCode.DownArrow),\n\t\t\t\t\tweight: KeybindingWeight.WorkbenchContrib + 1,\n\t\t\t\t\twhen: FocusedViewContext.notEqualsTo('')\n\t\t\t\t}\n\t\t\t}, 1);\n\t\t}\n\t}\n);\n\nregisterAction2(\n\tclass MoveViewRight extends MoveViewPosition {\n\t\tconstructor() {\n\t\t\tsuper({\n\t\t\t\tid: 'views.moveViewRight',\n\t\t\t\ttitle: nls.localize('viewMoveRight', \"Move View Right\"),\n\t\t\t\tkeybinding: {\n\t\t\t\t\tprimary: KeyChord(KeyMod.CtrlCmd + KeyCode.KeyK, KeyCode.RightArrow),\n\t\t\t\t\tweight: KeybindingWeight.WorkbenchContrib + 1,\n\t\t\t\t\twhen: FocusedViewContext.notEqualsTo('')\n\t\t\t\t}\n\t\t\t}, 1);\n\t\t}\n\t}\n);\n\n\nregisterAction2(class MoveViews extends Action2 {\n\tconstructor() {\n\t\tsuper({\n\t\t\tid: 'vscode.moveViews',\n\t\t\ttitle: nls.localize('viewsMove', \"Move Views\"),\n\t\t});\n\t}\n\n\tasync run(accessor: ServicesAccessor, options: { viewIds: string[]; destinationId: string }): Promise<void> {\n\t\tif (!Array.isArray(options?.viewIds) || typeof options?.destinationId !== 'string') {\n\t\t\treturn Promise.reject('Invalid arguments');\n\t\t}\n\n\t\tconst viewDescriptorService = accessor.get(IViewDescriptorService);\n\n\t\tconst destination = viewDescriptorService.getViewContainerById(options.destinationId);\n\t\tif (!destination) {\n\t\t\treturn;\n\t\t}\n\n\t\t// FYI, don't use `moveViewsToContainer` in 1 shot, because it expects all views to have the same current location\n\t\tfor (const viewId of options.viewIds) {\n\t\t\tconst viewDescriptor = viewDescriptorService.getViewDescriptorById(viewId);\n\t\t\tif (viewDescriptor?.canMoveView) {\n\t\t\t\tviewDescriptorService.moveViewsToContainer([viewDescriptor], destination, ViewVisibilityState.Default, this.desc.id);\n\t\t\t}\n\t\t}\n\n\t\tawait accessor.get(IViewsService).openViewContainer(destination.id, true);\n\t}\n});\n"]}