{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/workbench/browser/part.ts","vs/workbench/browser/part.ts"],"names":[],"mappings":"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","file":"part.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport './media/part.css';\nimport { Component } from '../common/component.js';\nimport { IThemeService, IColorTheme } from '../../platform/theme/common/themeService.js';\nimport { Dimension, size, IDimension, getActiveDocument, prepend, IDomPosition } from '../../base/browser/dom.js';\nimport { IStorageService } from '../../platform/storage/common/storage.js';\nimport { ISerializableView, IViewSize } from '../../base/browser/ui/grid/grid.js';\nimport { Event, Emitter } from '../../base/common/event.js';\nimport { IWorkbenchLayoutService } from '../services/layout/browser/layoutService.js';\nimport { assertReturnsDefined } from '../../base/common/types.js';\nimport { IDisposable, toDisposable } from '../../base/common/lifecycle.js';\n\nexport interface IPartOptions {\n\treadonly hasTitle?: boolean;\n\treadonly borderWidth?: () => number;\n}\n\nexport interface ILayoutContentResult {\n\treadonly headerSize: IDimension;\n\treadonly titleSize: IDimension;\n\treadonly contentSize: IDimension;\n\treadonly footerSize: IDimension;\n}\n\n/**\n * Parts are layed out in the workbench and have their own layout that\n * arranges an optional title and mandatory content area to show content.\n */\nexport abstract class Part<MementoType extends object = object> extends Component<MementoType> implements ISerializableView {\n\n\tprivate _dimension: Dimension | undefined;\n\tget dimension(): Dimension | undefined { return this._dimension; }\n\n\tprivate _contentPosition: IDomPosition | undefined;\n\tget contentPosition(): IDomPosition | undefined { return this._contentPosition; }\n\n\tprotected _onDidVisibilityChange = this._register(new Emitter<boolean>());\n\treadonly onDidVisibilityChange = this._onDidVisibilityChange.event;\n\n\tprivate parent: HTMLElement | undefined;\n\tprivate headerArea: HTMLElement | undefined;\n\tprotected titleArea: HTMLElement | undefined;\n\tprotected contentArea: HTMLElement | undefined;\n\tprivate footerArea: HTMLElement | undefined;\n\tprivate partLayout: PartLayout | undefined;\n\n\tconstructor(\n\t\tid: string,\n\t\tprivate options: IPartOptions,\n\t\tthemeService: IThemeService,\n\t\tstorageService: IStorageService,\n\t\tprotected readonly layoutService: IWorkbenchLayoutService\n\t) {\n\t\tsuper(id, themeService, storageService);\n\n\t\tthis._register(layoutService.registerPart(this));\n\t}\n\n\tprotected override onThemeChange(theme: IColorTheme): void {\n\n\t\t// only call if our create() method has been called\n\t\tif (this.parent) {\n\t\t\tsuper.onThemeChange(theme);\n\t\t}\n\t}\n\n\t/**\n\t * Note: Clients should not call this method, the workbench calls this\n\t * method. Calling it otherwise may result in unexpected behavior.\n\t *\n\t * Called to create title and content area of the part.\n\t */\n\tcreate(parent: HTMLElement, options?: object): void {\n\t\tthis.parent = parent;\n\t\tthis.titleArea = this.createTitleArea(parent, options);\n\t\tthis.contentArea = this.createContentArea(parent, options);\n\n\t\tthis.partLayout = new PartLayout(this.options, this.contentArea);\n\n\t\tthis.updateStyles();\n\t}\n\n\t/**\n\t * Returns the overall part container.\n\t */\n\tgetContainer(): HTMLElement | undefined {\n\t\treturn this.parent;\n\t}\n\n\t/**\n\t * Subclasses override to provide a title area implementation.\n\t */\n\tprotected createTitleArea(parent: HTMLElement, options?: object): HTMLElement | undefined {\n\t\treturn undefined;\n\t}\n\n\t/**\n\t * Subclasses override to provide a content area implementation.\n\t */\n\tprotected createContentArea(parent: HTMLElement, options?: object): HTMLElement | undefined {\n\t\treturn undefined;\n\t}\n\n\tprotected setHeaderArea(headerContainer: HTMLElement): void {\n\t\tif (this.headerArea) {\n\t\t\tthrow new Error('Header already exists');\n\t\t}\n\n\t\tif (!this.parent || !this.titleArea) {\n\t\t\treturn;\n\t\t}\n\n\t\tprepend(this.parent, headerContainer);\n\t\theaderContainer.classList.add('header-or-footer');\n\t\theaderContainer.classList.add('header');\n\n\t\tthis.headerArea = headerContainer;\n\t\tthis.partLayout?.setHeaderVisibility(true);\n\t\tthis.relayout();\n\t}\n\n\tprotected setFooterArea(footerContainer: HTMLElement): void {\n\t\tif (this.footerArea) {\n\t\t\tthrow new Error('Footer already exists');\n\t\t}\n\n\t\tif (!this.parent || !this.titleArea) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.parent.appendChild(footerContainer);\n\t\tfooterContainer.classList.add('header-or-footer');\n\t\tfooterContainer.classList.add('footer');\n\n\t\tthis.footerArea = footerContainer;\n\t\tthis.partLayout?.setFooterVisibility(true);\n\t\tthis.relayout();\n\t}\n\n\tprotected removeHeaderArea(): void {\n\t\tif (this.headerArea) {\n\t\t\tthis.headerArea.remove();\n\t\t\tthis.headerArea = undefined;\n\t\t\tthis.partLayout?.setHeaderVisibility(false);\n\t\t\tthis.relayout();\n\t\t}\n\t}\n\n\tprotected removeFooterArea(): void {\n\t\tif (this.footerArea) {\n\t\t\tthis.footerArea.remove();\n\t\t\tthis.footerArea = undefined;\n\t\t\tthis.partLayout?.setFooterVisibility(false);\n\t\t\tthis.relayout();\n\t\t}\n\t}\n\n\tprivate relayout() {\n\t\tif (this.dimension && this.contentPosition) {\n\t\t\tthis.layout(this.dimension.width, this.dimension.height, this.contentPosition.top, this.contentPosition.left);\n\t\t}\n\t}\n\t/**\n\t * Layout title and content area in the given dimension.\n\t */\n\tprotected layoutContents(width: number, height: number): ILayoutContentResult {\n\t\tconst partLayout = assertReturnsDefined(this.partLayout);\n\n\t\treturn partLayout.layout(width, height);\n\t}\n\n\t//#region ISerializableView\n\n\tprotected _onDidChange = this._register(new Emitter<IViewSize | undefined>());\n\tget onDidChange(): Event<IViewSize | undefined> { return this._onDidChange.event; }\n\n\telement!: HTMLElement;\n\n\tabstract minimumWidth: number;\n\tabstract maximumWidth: number;\n\tabstract minimumHeight: number;\n\tabstract maximumHeight: number;\n\n\tlayout(width: number, height: number, top: number, left: number): void {\n\t\tthis._dimension = new Dimension(width, height);\n\t\tthis._contentPosition = { top, left };\n\t}\n\n\tsetVisible(visible: boolean) {\n\t\tthis._onDidVisibilityChange.fire(visible);\n\t}\n\n\tabstract toJSON(): object;\n\n\t//#endregion\n}\n\nclass PartLayout {\n\n\tprivate static readonly HEADER_HEIGHT = 35;\n\tprivate static readonly TITLE_HEIGHT = 35;\n\tprivate static readonly Footer_HEIGHT = 35;\n\n\tprivate headerVisible: boolean = false;\n\tprivate footerVisible: boolean = false;\n\n\tconstructor(private options: IPartOptions, private contentArea: HTMLElement | undefined) { }\n\n\tlayout(width: number, height: number): ILayoutContentResult {\n\n\t\t// Title Size: Width (Fill), Height (Variable)\n\t\tlet titleSize: Dimension;\n\t\tif (this.options.hasTitle) {\n\t\t\ttitleSize = new Dimension(width, Math.min(height, PartLayout.TITLE_HEIGHT));\n\t\t} else {\n\t\t\ttitleSize = Dimension.None;\n\t\t}\n\n\t\t// Header Size: Width (Fill), Height (Variable)\n\t\tlet headerSize: Dimension;\n\t\tif (this.headerVisible) {\n\t\t\theaderSize = new Dimension(width, Math.min(height, PartLayout.HEADER_HEIGHT));\n\t\t} else {\n\t\t\theaderSize = Dimension.None;\n\t\t}\n\n\t\t// Footer Size: Width (Fill), Height (Variable)\n\t\tlet footerSize: Dimension;\n\t\tif (this.footerVisible) {\n\t\t\tfooterSize = new Dimension(width, Math.min(height, PartLayout.Footer_HEIGHT));\n\t\t} else {\n\t\t\tfooterSize = Dimension.None;\n\t\t}\n\n\t\tlet contentWidth = width;\n\t\tif (this.options && typeof this.options.borderWidth === 'function') {\n\t\t\tcontentWidth -= this.options.borderWidth(); // adjust for border size\n\t\t}\n\n\t\t// Content Size: Width (Fill), Height (Variable)\n\t\tconst contentSize = new Dimension(contentWidth, height - titleSize.height - headerSize.height - footerSize.height);\n\n\t\t// Content\n\t\tif (this.contentArea) {\n\t\t\tsize(this.contentArea, contentSize.width, contentSize.height);\n\t\t}\n\n\t\treturn { headerSize, titleSize, contentSize, footerSize };\n\t}\n\n\tsetFooterVisibility(visible: boolean): void {\n\t\tthis.footerVisible = visible;\n\t}\n\n\tsetHeaderVisibility(visible: boolean): void {\n\t\tthis.headerVisible = visible;\n\t}\n}\n\nexport interface IMultiWindowPart {\n\treadonly element: HTMLElement;\n}\n\nexport abstract class MultiWindowParts<T extends IMultiWindowPart, MementoType extends object = object> extends Component<MementoType> {\n\n\tprotected readonly _parts = new Set<T>();\n\tget parts() { return Array.from(this._parts); }\n\n\tabstract readonly mainPart: T;\n\n\tregisterPart(part: T): IDisposable {\n\t\tthis._parts.add(part);\n\n\t\treturn toDisposable(() => this.unregisterPart(part));\n\t}\n\n\tprotected unregisterPart(part: T): void {\n\t\tthis._parts.delete(part);\n\t}\n\n\tgetPart(container: HTMLElement): T {\n\t\treturn this.getPartByDocument(container.ownerDocument);\n\t}\n\n\tprotected getPartByDocument(document: Document): T {\n\t\tif (this._parts.size > 1) {\n\t\t\tfor (const part of this._parts) {\n\t\t\t\tif (part.element?.ownerDocument === document) {\n\t\t\t\t\treturn part;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.mainPart;\n\t}\n\n\tget activePart(): T {\n\t\treturn this.getPartByDocument(getActiveDocument());\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport './media/part.css';\nimport { Component } from '../common/component.js';\nimport { IThemeService, IColorTheme } from '../../platform/theme/common/themeService.js';\nimport { Dimension, size, IDimension, getActiveDocument, prepend, IDomPosition } from '../../base/browser/dom.js';\nimport { IStorageService } from '../../platform/storage/common/storage.js';\nimport { ISerializableView, IViewSize } from '../../base/browser/ui/grid/grid.js';\nimport { Event, Emitter } from '../../base/common/event.js';\nimport { IWorkbenchLayoutService } from '../services/layout/browser/layoutService.js';\nimport { assertReturnsDefined } from '../../base/common/types.js';\nimport { IDisposable, toDisposable } from '../../base/common/lifecycle.js';\n\nexport interface IPartOptions {\n\treadonly hasTitle?: boolean;\n\treadonly borderWidth?: () => number;\n}\n\nexport interface ILayoutContentResult {\n\treadonly headerSize: IDimension;\n\treadonly titleSize: IDimension;\n\treadonly contentSize: IDimension;\n\treadonly footerSize: IDimension;\n}\n\n/**\n * Parts are layed out in the workbench and have their own layout that\n * arranges an optional title and mandatory content area to show content.\n */\nexport abstract class Part<MementoType extends object = object> extends Component<MementoType> implements ISerializableView {\n\n\tprivate _dimension: Dimension | undefined;\n\tget dimension(): Dimension | undefined { return this._dimension; }\n\n\tprivate _contentPosition: IDomPosition | undefined;\n\tget contentPosition(): IDomPosition | undefined { return this._contentPosition; }\n\n\tprotected _onDidVisibilityChange = this._register(new Emitter<boolean>());\n\treadonly onDidVisibilityChange = this._onDidVisibilityChange.event;\n\n\tprivate parent: HTMLElement | undefined;\n\tprivate headerArea: HTMLElement | undefined;\n\tprotected titleArea: HTMLElement | undefined;\n\tprotected contentArea: HTMLElement | undefined;\n\tprivate footerArea: HTMLElement | undefined;\n\tprivate partLayout: PartLayout | undefined;\n\n\tconstructor(\n\t\tid: string,\n\t\tprivate options: IPartOptions,\n\t\tthemeService: IThemeService,\n\t\tstorageService: IStorageService,\n\t\tprotected readonly layoutService: IWorkbenchLayoutService\n\t) {\n\t\tsuper(id, themeService, storageService);\n\n\t\tthis._register(layoutService.registerPart(this));\n\t}\n\n\tprotected override onThemeChange(theme: IColorTheme): void {\n\n\t\t// only call if our create() method has been called\n\t\tif (this.parent) {\n\t\t\tsuper.onThemeChange(theme);\n\t\t}\n\t}\n\n\t/**\n\t * Note: Clients should not call this method, the workbench calls this\n\t * method. Calling it otherwise may result in unexpected behavior.\n\t *\n\t * Called to create title and content area of the part.\n\t */\n\tcreate(parent: HTMLElement, options?: object): void {\n\t\tthis.parent = parent;\n\t\tthis.titleArea = this.createTitleArea(parent, options);\n\t\tthis.contentArea = this.createContentArea(parent, options);\n\n\t\tthis.partLayout = new PartLayout(this.options, this.contentArea);\n\n\t\tthis.updateStyles();\n\t}\n\n\t/**\n\t * Returns the overall part container.\n\t */\n\tgetContainer(): HTMLElement | undefined {\n\t\treturn this.parent;\n\t}\n\n\t/**\n\t * Subclasses override to provide a title area implementation.\n\t */\n\tprotected createTitleArea(parent: HTMLElement, options?: object): HTMLElement | undefined {\n\t\treturn undefined;\n\t}\n\n\t/**\n\t * Subclasses override to provide a content area implementation.\n\t */\n\tprotected createContentArea(parent: HTMLElement, options?: object): HTMLElement | undefined {\n\t\treturn undefined;\n\t}\n\n\tprotected setHeaderArea(headerContainer: HTMLElement): void {\n\t\tif (this.headerArea) {\n\t\t\tthrow new Error('Header already exists');\n\t\t}\n\n\t\tif (!this.parent || !this.titleArea) {\n\t\t\treturn;\n\t\t}\n\n\t\tprepend(this.parent, headerContainer);\n\t\theaderContainer.classList.add('header-or-footer');\n\t\theaderContainer.classList.add('header');\n\n\t\tthis.headerArea = headerContainer;\n\t\tthis.partLayout?.setHeaderVisibility(true);\n\t\tthis.relayout();\n\t}\n\n\tprotected setFooterArea(footerContainer: HTMLElement): void {\n\t\tif (this.footerArea) {\n\t\t\tthrow new Error('Footer already exists');\n\t\t}\n\n\t\tif (!this.parent || !this.titleArea) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.parent.appendChild(footerContainer);\n\t\tfooterContainer.classList.add('header-or-footer');\n\t\tfooterContainer.classList.add('footer');\n\n\t\tthis.footerArea = footerContainer;\n\t\tthis.partLayout?.setFooterVisibility(true);\n\t\tthis.relayout();\n\t}\n\n\tprotected removeHeaderArea(): void {\n\t\tif (this.headerArea) {\n\t\t\tthis.headerArea.remove();\n\t\t\tthis.headerArea = undefined;\n\t\t\tthis.partLayout?.setHeaderVisibility(false);\n\t\t\tthis.relayout();\n\t\t}\n\t}\n\n\tprotected removeFooterArea(): void {\n\t\tif (this.footerArea) {\n\t\t\tthis.footerArea.remove();\n\t\t\tthis.footerArea = undefined;\n\t\t\tthis.partLayout?.setFooterVisibility(false);\n\t\t\tthis.relayout();\n\t\t}\n\t}\n\n\tprivate relayout() {\n\t\tif (this.dimension && this.contentPosition) {\n\t\t\tthis.layout(this.dimension.width, this.dimension.height, this.contentPosition.top, this.contentPosition.left);\n\t\t}\n\t}\n\t/**\n\t * Layout title and content area in the given dimension.\n\t */\n\tprotected layoutContents(width: number, height: number): ILayoutContentResult {\n\t\tconst partLayout = assertReturnsDefined(this.partLayout);\n\n\t\treturn partLayout.layout(width, height);\n\t}\n\n\t//#region ISerializableView\n\n\tprotected _onDidChange = this._register(new Emitter<IViewSize | undefined>());\n\tget onDidChange(): Event<IViewSize | undefined> { return this._onDidChange.event; }\n\n\telement!: HTMLElement;\n\n\tabstract minimumWidth: number;\n\tabstract maximumWidth: number;\n\tabstract minimumHeight: number;\n\tabstract maximumHeight: number;\n\n\tlayout(width: number, height: number, top: number, left: number): void {\n\t\tthis._dimension = new Dimension(width, height);\n\t\tthis._contentPosition = { top, left };\n\t}\n\n\tsetVisible(visible: boolean) {\n\t\tthis._onDidVisibilityChange.fire(visible);\n\t}\n\n\tabstract toJSON(): object;\n\n\t//#endregion\n}\n\nclass PartLayout {\n\n\tprivate static readonly HEADER_HEIGHT = 35;\n\tprivate static readonly TITLE_HEIGHT = 35;\n\tprivate static readonly Footer_HEIGHT = 35;\n\n\tprivate headerVisible: boolean = false;\n\tprivate footerVisible: boolean = false;\n\n\tconstructor(private options: IPartOptions, private contentArea: HTMLElement | undefined) { }\n\n\tlayout(width: number, height: number): ILayoutContentResult {\n\n\t\t// Title Size: Width (Fill), Height (Variable)\n\t\tlet titleSize: Dimension;\n\t\tif (this.options.hasTitle) {\n\t\t\ttitleSize = new Dimension(width, Math.min(height, PartLayout.TITLE_HEIGHT));\n\t\t} else {\n\t\t\ttitleSize = Dimension.None;\n\t\t}\n\n\t\t// Header Size: Width (Fill), Height (Variable)\n\t\tlet headerSize: Dimension;\n\t\tif (this.headerVisible) {\n\t\t\theaderSize = new Dimension(width, Math.min(height, PartLayout.HEADER_HEIGHT));\n\t\t} else {\n\t\t\theaderSize = Dimension.None;\n\t\t}\n\n\t\t// Footer Size: Width (Fill), Height (Variable)\n\t\tlet footerSize: Dimension;\n\t\tif (this.footerVisible) {\n\t\t\tfooterSize = new Dimension(width, Math.min(height, PartLayout.Footer_HEIGHT));\n\t\t} else {\n\t\t\tfooterSize = Dimension.None;\n\t\t}\n\n\t\tlet contentWidth = width;\n\t\tif (this.options && typeof this.options.borderWidth === 'function') {\n\t\t\tcontentWidth -= this.options.borderWidth(); // adjust for border size\n\t\t}\n\n\t\t// Content Size: Width (Fill), Height (Variable)\n\t\tconst contentSize = new Dimension(contentWidth, height - titleSize.height - headerSize.height - footerSize.height);\n\n\t\t// Content\n\t\tif (this.contentArea) {\n\t\t\tsize(this.contentArea, contentSize.width, contentSize.height);\n\t\t}\n\n\t\treturn { headerSize, titleSize, contentSize, footerSize };\n\t}\n\n\tsetFooterVisibility(visible: boolean): void {\n\t\tthis.footerVisible = visible;\n\t}\n\n\tsetHeaderVisibility(visible: boolean): void {\n\t\tthis.headerVisible = visible;\n\t}\n}\n\nexport interface IMultiWindowPart {\n\treadonly element: HTMLElement;\n}\n\nexport abstract class MultiWindowParts<T extends IMultiWindowPart, MementoType extends object = object> extends Component<MementoType> {\n\n\tprotected readonly _parts = new Set<T>();\n\tget parts() { return Array.from(this._parts); }\n\n\tabstract readonly mainPart: T;\n\n\tregisterPart(part: T): IDisposable {\n\t\tthis._parts.add(part);\n\n\t\treturn toDisposable(() => this.unregisterPart(part));\n\t}\n\n\tprotected unregisterPart(part: T): void {\n\t\tthis._parts.delete(part);\n\t}\n\n\tgetPart(container: HTMLElement): T {\n\t\treturn this.getPartByDocument(container.ownerDocument);\n\t}\n\n\tprotected getPartByDocument(document: Document): T {\n\t\tif (this._parts.size > 1) {\n\t\t\tfor (const part of this._parts) {\n\t\t\t\tif (part.element?.ownerDocument === document) {\n\t\t\t\t\treturn part;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.mainPart;\n\t}\n\n\tget activePart(): T {\n\t\treturn this.getPartByDocument(getActiveDocument());\n\t}\n}\n"]}