{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/editor/common/model/textModelStringEdit.ts","vs/editor/common/model/textModelStringEdit.ts"],"names":[],"mappings":"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","file":"textModelStringEdit.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { EditOperation } from '../core/editOperation.js';\nimport { Range } from '../core/range.js';\nimport { StringEdit, StringReplacement } from '../core/edits/stringEdit.js';\nimport { OffsetRange } from '../core/ranges/offsetRange.js';\nimport { DetailedLineRangeMapping } from '../diff/rangeMapping.js';\nimport { ITextModel, IIdentifiedSingleEditOperation } from '../model.js';\nimport { IModelContentChange } from './mirrorTextModel.js';\nimport { LengthEdit } from '../core/edits/lengthEdit.js';\nimport { countEOL } from '../core/misc/eolCounter.js';\n\nexport function offsetEditToEditOperations(offsetEdit: StringEdit, doc: ITextModel): IIdentifiedSingleEditOperation[] {\n\tconst edits: IIdentifiedSingleEditOperation[] = [];\n\tfor (const singleEdit of offsetEdit.replacements) {\n\t\tconst range = Range.fromPositions(\n\t\t\tdoc.getPositionAt(singleEdit.replaceRange.start),\n\t\t\tdoc.getPositionAt(singleEdit.replaceRange.start + singleEdit.replaceRange.length)\n\t\t);\n\t\tedits.push(EditOperation.replace(range, singleEdit.newText));\n\t}\n\treturn edits;\n}\n\nexport function offsetEditFromContentChanges(contentChanges: readonly IModelContentChange[]) {\n\tconst editsArr = contentChanges.map(c => new StringReplacement(OffsetRange.ofStartAndLength(c.rangeOffset, c.rangeLength), c.text));\n\teditsArr.reverse();\n\tconst edits = new StringEdit(editsArr);\n\treturn edits;\n}\n\nexport function offsetEditFromLineRangeMapping(original: ITextModel, modified: ITextModel, changes: readonly DetailedLineRangeMapping[]): StringEdit {\n\tconst edits: StringReplacement[] = [];\n\tfor (const c of changes) {\n\t\tfor (const i of c.innerChanges ?? []) {\n\t\t\tconst newText = modified.getValueInRange(i.modifiedRange);\n\n\t\t\tconst startOrig = original.getOffsetAt(i.originalRange.getStartPosition());\n\t\t\tconst endExOrig = original.getOffsetAt(i.originalRange.getEndPosition());\n\t\t\tconst origRange = new OffsetRange(startOrig, endExOrig);\n\n\t\t\tedits.push(new StringReplacement(origRange, newText));\n\t\t}\n\t}\n\n\treturn new StringEdit(edits);\n}\n\nexport function linesLengthEditFromModelContentChange(c: IModelContentChange[]): LengthEdit {\n\tconst contentChanges = c.slice().reverse();\n\tconst lengthEdits = contentChanges.map(c => LengthEdit.replace(\n\t\t// Expand the edit range to include the entire line\n\t\tnew OffsetRange(c.range.startLineNumber - 1, c.range.endLineNumber),\n\t\tcountEOL(c.text)[0] + 1)\n\t);\n\tconst lengthEdit = LengthEdit.compose(lengthEdits);\n\treturn lengthEdit;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { EditOperation } from '../core/editOperation.js';\nimport { Range } from '../core/range.js';\nimport { StringEdit, StringReplacement } from '../core/edits/stringEdit.js';\nimport { OffsetRange } from '../core/ranges/offsetRange.js';\nimport { DetailedLineRangeMapping } from '../diff/rangeMapping.js';\nimport { ITextModel, IIdentifiedSingleEditOperation } from '../model.js';\nimport { IModelContentChange } from './mirrorTextModel.js';\nimport { LengthEdit } from '../core/edits/lengthEdit.js';\nimport { countEOL } from '../core/misc/eolCounter.js';\n\nexport function offsetEditToEditOperations(offsetEdit: StringEdit, doc: ITextModel): IIdentifiedSingleEditOperation[] {\n\tconst edits: IIdentifiedSingleEditOperation[] = [];\n\tfor (const singleEdit of offsetEdit.replacements) {\n\t\tconst range = Range.fromPositions(\n\t\t\tdoc.getPositionAt(singleEdit.replaceRange.start),\n\t\t\tdoc.getPositionAt(singleEdit.replaceRange.start + singleEdit.replaceRange.length)\n\t\t);\n\t\tedits.push(EditOperation.replace(range, singleEdit.newText));\n\t}\n\treturn edits;\n}\n\nexport function offsetEditFromContentChanges(contentChanges: readonly IModelContentChange[]) {\n\tconst editsArr = contentChanges.map(c => new StringReplacement(OffsetRange.ofStartAndLength(c.rangeOffset, c.rangeLength), c.text));\n\teditsArr.reverse();\n\tconst edits = new StringEdit(editsArr);\n\treturn edits;\n}\n\nexport function offsetEditFromLineRangeMapping(original: ITextModel, modified: ITextModel, changes: readonly DetailedLineRangeMapping[]): StringEdit {\n\tconst edits: StringReplacement[] = [];\n\tfor (const c of changes) {\n\t\tfor (const i of c.innerChanges ?? []) {\n\t\t\tconst newText = modified.getValueInRange(i.modifiedRange);\n\n\t\t\tconst startOrig = original.getOffsetAt(i.originalRange.getStartPosition());\n\t\t\tconst endExOrig = original.getOffsetAt(i.originalRange.getEndPosition());\n\t\t\tconst origRange = new OffsetRange(startOrig, endExOrig);\n\n\t\t\tedits.push(new StringReplacement(origRange, newText));\n\t\t}\n\t}\n\n\treturn new StringEdit(edits);\n}\n\nexport function linesLengthEditFromModelContentChange(c: IModelContentChange[]): LengthEdit {\n\tconst contentChanges = c.slice().reverse();\n\tconst lengthEdits = contentChanges.map(c => LengthEdit.replace(\n\t\t// Expand the edit range to include the entire line\n\t\tnew OffsetRange(c.range.startLineNumber - 1, c.range.endLineNumber),\n\t\tcountEOL(c.text)[0] + 1)\n\t);\n\tconst lengthEdit = LengthEdit.compose(lengthEdits);\n\treturn lengthEdit;\n}\n"]}