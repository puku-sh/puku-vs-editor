{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/editor/test/common/core/textEdit.test.ts","vs/editor/test/common/core/textEdit.test.ts"],"names":[],"mappings":"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","file":"textEdit.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\nimport { OffsetRange } from '../../../common/core/ranges/offsetRange.js';\nimport { StringText } from '../../../common/core/text/abstractText.js';\nimport { Random } from './random.js';\n\nsuite('TextEdit', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tsuite('inverse', () => {\n\t\tfunction runTest(seed: number): void {\n\t\t\tconst rand = Random.create(seed);\n\t\t\tconst source = new StringText(rand.nextMultiLineString(10, new OffsetRange(0, 10)));\n\n\t\t\tconst edit = rand.nextTextEdit(source, rand.nextIntRange(1, 5));\n\t\t\tconst invEdit = edit.inverse(source);\n\n\t\t\tconst s1 = edit.apply(source);\n\t\t\tconst s2 = invEdit.applyToString(s1);\n\n\t\t\tassert.deepStrictEqual(s2, source.value);\n\t\t}\n\n\t\ttest.skip('brute-force', () => {\n\t\t\tfor (let i = 0; i < 100_000; i++) {\n\t\t\t\trunTest(i);\n\t\t\t}\n\t\t});\n\n\t\tfor (let seed = 0; seed < 20; seed++) {\n\t\t\ttest(`test ${seed}`, () => runTest(seed));\n\t\t}\n\t});\n\n\tsuite('compose', () => {\n\t\tfunction runTest(seed: number): void {\n\t\t\tconst rand = Random.create(seed);\n\n\t\t\tconst s0 = new StringText(rand.nextMultiLineString(10, new OffsetRange(0, 10)));\n\n\t\t\tconst edits1 = rand.nextTextEdit(s0, rand.nextIntRange(1, 4));\n\t\t\tconst s1 = edits1.applyToString(s0.value);\n\n\t\t\tconst s1Text = new StringText(s1);\n\t\t\tconst edits2 = rand.nextTextEdit(s1Text, rand.nextIntRange(1, 4));\n\t\t\tconst s2 = edits2.applyToString(s1);\n\n\t\t\tconst combinedEdits = edits1.compose(edits2);\n\t\t\tconst s2C = combinedEdits.applyToString(s0.value);\n\t\t\tassert.strictEqual(s2C, s2);\n\t\t}\n\n\t\ttest.skip('fuzz', function () {\n\t\t\tthis.timeout(0);\n\t\t\tfor (let i = 0; i < 1_000_000; i++) {\n\t\t\t\trunTest(i);\n\t\t\t}\n\t\t});\n\n\t\tfor (let seed = 0; seed < 100; seed++) {\n\t\t\ttest(`case ${seed}`, () => runTest(seed));\n\t\t}\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\nimport { OffsetRange } from '../../../common/core/ranges/offsetRange.js';\nimport { StringText } from '../../../common/core/text/abstractText.js';\nimport { Random } from './random.js';\n\nsuite('TextEdit', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tsuite('inverse', () => {\n\t\tfunction runTest(seed: number): void {\n\t\t\tconst rand = Random.create(seed);\n\t\t\tconst source = new StringText(rand.nextMultiLineString(10, new OffsetRange(0, 10)));\n\n\t\t\tconst edit = rand.nextTextEdit(source, rand.nextIntRange(1, 5));\n\t\t\tconst invEdit = edit.inverse(source);\n\n\t\t\tconst s1 = edit.apply(source);\n\t\t\tconst s2 = invEdit.applyToString(s1);\n\n\t\t\tassert.deepStrictEqual(s2, source.value);\n\t\t}\n\n\t\ttest.skip('brute-force', () => {\n\t\t\tfor (let i = 0; i < 100_000; i++) {\n\t\t\t\trunTest(i);\n\t\t\t}\n\t\t});\n\n\t\tfor (let seed = 0; seed < 20; seed++) {\n\t\t\ttest(`test ${seed}`, () => runTest(seed));\n\t\t}\n\t});\n\n\tsuite('compose', () => {\n\t\tfunction runTest(seed: number): void {\n\t\t\tconst rand = Random.create(seed);\n\n\t\t\tconst s0 = new StringText(rand.nextMultiLineString(10, new OffsetRange(0, 10)));\n\n\t\t\tconst edits1 = rand.nextTextEdit(s0, rand.nextIntRange(1, 4));\n\t\t\tconst s1 = edits1.applyToString(s0.value);\n\n\t\t\tconst s1Text = new StringText(s1);\n\t\t\tconst edits2 = rand.nextTextEdit(s1Text, rand.nextIntRange(1, 4));\n\t\t\tconst s2 = edits2.applyToString(s1);\n\n\t\t\tconst combinedEdits = edits1.compose(edits2);\n\t\t\tconst s2C = combinedEdits.applyToString(s0.value);\n\t\t\tassert.strictEqual(s2C, s2);\n\t\t}\n\n\t\ttest.skip('fuzz', function () {\n\t\t\tthis.timeout(0);\n\t\t\tfor (let i = 0; i < 1_000_000; i++) {\n\t\t\t\trunTest(i);\n\t\t\t}\n\t\t});\n\n\t\tfor (let seed = 0; seed < 100; seed++) {\n\t\t\ttest(`case ${seed}`, () => runTest(seed));\n\t\t}\n\t});\n});\n"]}