{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/editor/test/common/viewModel/glyphLanesModel.test.ts","vs/editor/test/common/viewModel/glyphLanesModel.test.ts"],"names":[],"mappings":"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","file":"glyphLanesModel.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\nimport { GlyphMarginLanesModel, } from '../../../common/viewModel/glyphLanesModel.js';\nimport { Range } from '../../../common/core/range.js';\nimport { GlyphMarginLane } from '../../../common/model.js';\n\nsuite('GlyphLanesModel', () => {\n\tlet model: GlyphMarginLanesModel;\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tconst lineRange = (startLineNumber: number, endLineNumber: number) => new Range(startLineNumber, 1, endLineNumber, 1);\n\tconst assertLines = (fromLine: number, n: number, expected: GlyphMarginLane[][]) => {\n\t\tconst result: GlyphMarginLane[][] = [];\n\t\tfor (let i = 0; i < n; i++) {\n\t\t\tresult.push(model.getLanesAtLine(fromLine + i));\n\t\t}\n\t\tassert.deepStrictEqual(result, expected, `fromLine: ${fromLine}, n: ${n}`);\n\t};\n\n\tsetup(() => {\n\t\tmodel = new GlyphMarginLanesModel(10);\n\t});\n\n\ttest('handles empty', () => {\n\t\tassert.equal(model.requiredLanes, 1);\n\t\tassertLines(1, 1, [\n\t\t\t[GlyphMarginLane.Center],\n\t\t]);\n\t});\n\n\ttest('works with a single line range', () => {\n\t\tmodel.push(GlyphMarginLane.Left, lineRange(2, 3));\n\t\tassert.equal(model.requiredLanes, 1);\n\t\tassertLines(1, 5, [\n\t\t\t[GlyphMarginLane.Center], // 1\n\t\t\t[GlyphMarginLane.Left], // 2\n\t\t\t[GlyphMarginLane.Left], // 3\n\t\t\t[GlyphMarginLane.Center], // 4\n\t\t\t[GlyphMarginLane.Center], // 5\n\t\t]);\n\t});\n\n\ttest('persists ranges', () => {\n\t\tmodel.push(GlyphMarginLane.Left, lineRange(2, 3), true);\n\t\tassert.equal(model.requiredLanes, 1);\n\t\tassertLines(1, 5, [\n\t\t\t[GlyphMarginLane.Left], // 1\n\t\t\t[GlyphMarginLane.Left], // 2\n\t\t\t[GlyphMarginLane.Left], // 3\n\t\t\t[GlyphMarginLane.Left], // 4\n\t\t\t[GlyphMarginLane.Left], // 5\n\t\t]);\n\t});\n\n\ttest('handles overlaps', () => {\n\t\tmodel.push(GlyphMarginLane.Left, lineRange(6, 9));\n\t\tmodel.push(GlyphMarginLane.Right, lineRange(5, 7));\n\t\tmodel.push(GlyphMarginLane.Center, lineRange(7, 8));\n\t\tassert.equal(model.requiredLanes, 3);\n\t\tassertLines(5, 6, [\n\t\t\t[GlyphMarginLane.Right], // 5\n\t\t\t[GlyphMarginLane.Left, GlyphMarginLane.Right], // 6\n\t\t\t[GlyphMarginLane.Left, GlyphMarginLane.Center, GlyphMarginLane.Right], // 7\n\t\t\t[GlyphMarginLane.Left, GlyphMarginLane.Center], // 8\n\t\t\t[GlyphMarginLane.Left], // 9\n\t\t\t[GlyphMarginLane.Center], // 10\n\t\t]);\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\nimport { GlyphMarginLanesModel, } from '../../../common/viewModel/glyphLanesModel.js';\nimport { Range } from '../../../common/core/range.js';\nimport { GlyphMarginLane } from '../../../common/model.js';\n\nsuite('GlyphLanesModel', () => {\n\tlet model: GlyphMarginLanesModel;\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tconst lineRange = (startLineNumber: number, endLineNumber: number) => new Range(startLineNumber, 1, endLineNumber, 1);\n\tconst assertLines = (fromLine: number, n: number, expected: GlyphMarginLane[][]) => {\n\t\tconst result: GlyphMarginLane[][] = [];\n\t\tfor (let i = 0; i < n; i++) {\n\t\t\tresult.push(model.getLanesAtLine(fromLine + i));\n\t\t}\n\t\tassert.deepStrictEqual(result, expected, `fromLine: ${fromLine}, n: ${n}`);\n\t};\n\n\tsetup(() => {\n\t\tmodel = new GlyphMarginLanesModel(10);\n\t});\n\n\ttest('handles empty', () => {\n\t\tassert.equal(model.requiredLanes, 1);\n\t\tassertLines(1, 1, [\n\t\t\t[GlyphMarginLane.Center],\n\t\t]);\n\t});\n\n\ttest('works with a single line range', () => {\n\t\tmodel.push(GlyphMarginLane.Left, lineRange(2, 3));\n\t\tassert.equal(model.requiredLanes, 1);\n\t\tassertLines(1, 5, [\n\t\t\t[GlyphMarginLane.Center], // 1\n\t\t\t[GlyphMarginLane.Left], // 2\n\t\t\t[GlyphMarginLane.Left], // 3\n\t\t\t[GlyphMarginLane.Center], // 4\n\t\t\t[GlyphMarginLane.Center], // 5\n\t\t]);\n\t});\n\n\ttest('persists ranges', () => {\n\t\tmodel.push(GlyphMarginLane.Left, lineRange(2, 3), true);\n\t\tassert.equal(model.requiredLanes, 1);\n\t\tassertLines(1, 5, [\n\t\t\t[GlyphMarginLane.Left], // 1\n\t\t\t[GlyphMarginLane.Left], // 2\n\t\t\t[GlyphMarginLane.Left], // 3\n\t\t\t[GlyphMarginLane.Left], // 4\n\t\t\t[GlyphMarginLane.Left], // 5\n\t\t]);\n\t});\n\n\ttest('handles overlaps', () => {\n\t\tmodel.push(GlyphMarginLane.Left, lineRange(6, 9));\n\t\tmodel.push(GlyphMarginLane.Right, lineRange(5, 7));\n\t\tmodel.push(GlyphMarginLane.Center, lineRange(7, 8));\n\t\tassert.equal(model.requiredLanes, 3);\n\t\tassertLines(5, 6, [\n\t\t\t[GlyphMarginLane.Right], // 5\n\t\t\t[GlyphMarginLane.Left, GlyphMarginLane.Right], // 6\n\t\t\t[GlyphMarginLane.Left, GlyphMarginLane.Center, GlyphMarginLane.Right], // 7\n\t\t\t[GlyphMarginLane.Left, GlyphMarginLane.Center], // 8\n\t\t\t[GlyphMarginLane.Left], // 9\n\t\t\t[GlyphMarginLane.Center], // 10\n\t\t]);\n\t});\n});\n"]}