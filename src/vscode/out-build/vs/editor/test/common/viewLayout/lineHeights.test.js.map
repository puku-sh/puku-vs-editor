{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/editor/test/common/viewLayout/lineHeights.test.ts","vs/editor/test/common/viewLayout/lineHeights.test.ts"],"names":[],"mappings":"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","file":"lineHeights.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { LineHeightsManager } from '../../../common/viewLayout/lineHeights.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\n\nsuite('Editor ViewLayout - LineHeightsManager', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('default line height is used when no custom heights exist', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\n\t\t// Check individual line heights\n\t\tassert.strictEqual(manager.heightForLineNumber(1), 10);\n\t\tassert.strictEqual(manager.heightForLineNumber(5), 10);\n\t\tassert.strictEqual(manager.heightForLineNumber(100), 10);\n\n\t\t// Check accumulated heights\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(1), 10);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(5), 50);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(10), 100);\n\t});\n\n\ttest('can change default line height', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.defaultLineHeight = 20;\n\n\t\t// Check individual line heights\n\t\tassert.strictEqual(manager.heightForLineNumber(1), 20);\n\t\tassert.strictEqual(manager.heightForLineNumber(5), 20);\n\n\t\t// Check accumulated heights\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(1), 20);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(5), 100);\n\t});\n\n\ttest('can add single custom line height', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.insertOrChangeCustomLineHeight('dec1', 3, 3, 20);\n\t\tmanager.commit();\n\n\t\t// Check individual line heights\n\t\tassert.strictEqual(manager.heightForLineNumber(1), 10);\n\t\tassert.strictEqual(manager.heightForLineNumber(2), 10);\n\t\tassert.strictEqual(manager.heightForLineNumber(3), 20);\n\t\tassert.strictEqual(manager.heightForLineNumber(4), 10);\n\n\t\t// Check accumulated heights\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(1), 10);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(2), 20);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(3), 40);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(4), 50);\n\t});\n\n\ttest('can add multiple custom line heights', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.insertOrChangeCustomLineHeight('dec1', 2, 2, 15);\n\t\tmanager.insertOrChangeCustomLineHeight('dec2', 4, 4, 25);\n\t\tmanager.commit();\n\n\t\t// Check individual line heights\n\t\tassert.strictEqual(manager.heightForLineNumber(1), 10);\n\t\tassert.strictEqual(manager.heightForLineNumber(2), 15);\n\t\tassert.strictEqual(manager.heightForLineNumber(3), 10);\n\t\tassert.strictEqual(manager.heightForLineNumber(4), 25);\n\t\tassert.strictEqual(manager.heightForLineNumber(5), 10);\n\n\t\t// Check accumulated heights\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(1), 10);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(2), 25);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(3), 35);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(4), 60);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(5), 70);\n\t});\n\n\ttest('can add range of custom line heights', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.insertOrChangeCustomLineHeight('dec1', 2, 4, 15);\n\t\tmanager.commit();\n\n\t\t// Check individual line heights\n\t\tassert.strictEqual(manager.heightForLineNumber(1), 10);\n\t\tassert.strictEqual(manager.heightForLineNumber(2), 15);\n\t\tassert.strictEqual(manager.heightForLineNumber(3), 15);\n\t\tassert.strictEqual(manager.heightForLineNumber(4), 15);\n\t\tassert.strictEqual(manager.heightForLineNumber(5), 10);\n\n\t\t// Check accumulated heights\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(1), 10);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(2), 25);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(3), 40);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(4), 55);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(5), 65);\n\t});\n\n\ttest('can change existing custom line height', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.insertOrChangeCustomLineHeight('dec1', 3, 3, 20);\n\t\tmanager.commit();\n\t\tassert.strictEqual(manager.heightForLineNumber(3), 20);\n\n\t\tmanager.insertOrChangeCustomLineHeight('dec1', 3, 3, 30);\n\t\tmanager.commit();\n\t\tassert.strictEqual(manager.heightForLineNumber(3), 30);\n\n\t\t// Check accumulated heights after change\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(3), 50);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(4), 60);\n\t});\n\n\ttest('can remove custom line height', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.insertOrChangeCustomLineHeight('dec1', 3, 3, 20);\n\t\tmanager.commit();\n\t\tassert.strictEqual(manager.heightForLineNumber(3), 20);\n\n\t\tmanager.removeCustomLineHeight('dec1');\n\t\tmanager.commit();\n\t\tassert.strictEqual(manager.heightForLineNumber(3), 10);\n\n\t\t// Check accumulated heights after removal\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(3), 30);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(4), 40);\n\t});\n\n\ttest('handles overlapping custom line heights (last one wins)', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.insertOrChangeCustomLineHeight('dec1', 3, 5, 20);\n\t\tmanager.insertOrChangeCustomLineHeight('dec2', 4, 6, 30);\n\t\tmanager.commit();\n\n\t\tassert.strictEqual(manager.heightForLineNumber(2), 10);\n\t\tassert.strictEqual(manager.heightForLineNumber(3), 20);\n\t\tassert.strictEqual(manager.heightForLineNumber(4), 30);\n\t\tassert.strictEqual(manager.heightForLineNumber(5), 30);\n\t\tassert.strictEqual(manager.heightForLineNumber(6), 30);\n\t\tassert.strictEqual(manager.heightForLineNumber(7), 10);\n\t});\n\n\ttest('handles deleting lines before custom line heights', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.insertOrChangeCustomLineHeight('dec1', 10, 12, 20);\n\t\tmanager.commit();\n\n\t\tmanager.onLinesDeleted(5, 7); // Delete lines 5-7\n\n\t\tassert.strictEqual(manager.heightForLineNumber(7), 20); // Was line 10\n\t\tassert.strictEqual(manager.heightForLineNumber(8), 20); // Was line 11\n\t\tassert.strictEqual(manager.heightForLineNumber(9), 20); // Was line 12\n\t\tassert.strictEqual(manager.heightForLineNumber(10), 10);\n\t});\n\n\ttest('handles deleting lines overlapping with custom line heights', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.insertOrChangeCustomLineHeight('dec1', 5, 10, 20);\n\t\tmanager.commit();\n\n\t\tmanager.onLinesDeleted(7, 12); // Delete lines 7-12, including part of decoration\n\n\t\tassert.strictEqual(manager.heightForLineNumber(5), 20);\n\t\tassert.strictEqual(manager.heightForLineNumber(6), 20);\n\t\tassert.strictEqual(manager.heightForLineNumber(7), 10);\n\t});\n\n\ttest('handles deleting lines containing custom line heights completely', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.insertOrChangeCustomLineHeight('dec1', 5, 7, 20);\n\t\tmanager.commit();\n\n\t\tmanager.onLinesDeleted(4, 8); // Delete lines 4-8, completely contains decoration\n\n\t\t// The decoration collapses to a single line which matches the behavior in the text buffer\n\t\tassert.strictEqual(manager.heightForLineNumber(3), 10);\n\t\tassert.strictEqual(manager.heightForLineNumber(4), 20);\n\t\tassert.strictEqual(manager.heightForLineNumber(5), 10);\n\t});\n\n\ttest('handles deleting lines at the very beginning', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.insertOrChangeCustomLineHeight('decA', 1, 1, 40);\n\t\tmanager.commit();\n\n\t\tmanager.onLinesDeleted(2, 4); // Delete lines 2-4 after the variable line height\n\n\t\t// Check individual line heights\n\t\tassert.strictEqual(manager.heightForLineNumber(1), 40);\n\t});\n\n\ttest('handles inserting lines before custom line heights', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.insertOrChangeCustomLineHeight('dec1', 5, 7, 20);\n\t\tmanager.commit();\n\n\t\tmanager.onLinesInserted(3, 4); // Insert 2 lines at line 3\n\n\t\tassert.strictEqual(manager.heightForLineNumber(5), 10);\n\t\tassert.strictEqual(manager.heightForLineNumber(6), 10);\n\t\tassert.strictEqual(manager.heightForLineNumber(7), 20); // Was line 5\n\t\tassert.strictEqual(manager.heightForLineNumber(8), 20); // Was line 6\n\t\tassert.strictEqual(manager.heightForLineNumber(9), 20); // Was line 7\n\t});\n\n\ttest('handles inserting lines inside custom line heights range', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.insertOrChangeCustomLineHeight('dec1', 5, 7, 20);\n\t\tmanager.commit();\n\n\t\tmanager.onLinesInserted(6, 7); // Insert 2 lines at line 6\n\n\t\tassert.strictEqual(manager.heightForLineNumber(5), 20);\n\t\tassert.strictEqual(manager.heightForLineNumber(6), 20);\n\t\tassert.strictEqual(manager.heightForLineNumber(7), 20);\n\t\tassert.strictEqual(manager.heightForLineNumber(8), 20);\n\t\tassert.strictEqual(manager.heightForLineNumber(9), 20);\n\t});\n\n\ttest('changing decoration id maintains custom line height', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.insertOrChangeCustomLineHeight('dec1', 5, 7, 20);\n\t\tmanager.commit();\n\n\t\tmanager.removeCustomLineHeight('dec1');\n\t\tmanager.insertOrChangeCustomLineHeight('dec2', 5, 7, 20);\n\t\tmanager.commit();\n\n\t\tassert.strictEqual(manager.heightForLineNumber(5), 20);\n\t\tassert.strictEqual(manager.heightForLineNumber(6), 20);\n\t\tassert.strictEqual(manager.heightForLineNumber(7), 20);\n\t});\n\n\ttest('accumulates heights correctly with complex setup', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.insertOrChangeCustomLineHeight('dec1', 3, 3, 15);\n\t\tmanager.insertOrChangeCustomLineHeight('dec2', 5, 7, 20);\n\t\tmanager.insertOrChangeCustomLineHeight('dec3', 10, 10, 30);\n\t\tmanager.commit();\n\n\t\t// Check accumulated heights\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(1), 10);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(2), 20);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(3), 35);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(4), 45);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(5), 65);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(7), 105);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(9), 125);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(10), 155);\n\t});\n\n\ttest('partial deletion with multiple lines for the same decoration ID', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.insertOrChangeCustomLineHeight('decSame', 5, 5, 20);\n\t\tmanager.insertOrChangeCustomLineHeight('decSame', 6, 6, 25);\n\t\tmanager.commit();\n\n\t\t// Delete one line that partially intersects the same decoration\n\t\tmanager.onLinesDeleted(6, 6);\n\n\t\t// Check individual line heights\n\t\tassert.strictEqual(manager.heightForLineNumber(5), 20);\n\t\tassert.strictEqual(manager.heightForLineNumber(6), 10);\n\t});\n\n\ttest('overlapping decorations use maximum line height', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.insertOrChangeCustomLineHeight('decA', 3, 5, 40);\n\t\tmanager.insertOrChangeCustomLineHeight('decB', 4, 6, 30);\n\t\tmanager.commit();\n\n\t\t// Check individual line heights\n\t\tassert.strictEqual(manager.heightForLineNumber(3), 40);\n\t\tassert.strictEqual(manager.heightForLineNumber(4), 40);\n\t\tassert.strictEqual(manager.heightForLineNumber(5), 40);\n\t\tassert.strictEqual(manager.heightForLineNumber(6), 30);\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { LineHeightsManager } from '../../../common/viewLayout/lineHeights.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\n\nsuite('Editor ViewLayout - LineHeightsManager', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('default line height is used when no custom heights exist', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\n\t\t// Check individual line heights\n\t\tassert.strictEqual(manager.heightForLineNumber(1), 10);\n\t\tassert.strictEqual(manager.heightForLineNumber(5), 10);\n\t\tassert.strictEqual(manager.heightForLineNumber(100), 10);\n\n\t\t// Check accumulated heights\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(1), 10);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(5), 50);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(10), 100);\n\t});\n\n\ttest('can change default line height', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.defaultLineHeight = 20;\n\n\t\t// Check individual line heights\n\t\tassert.strictEqual(manager.heightForLineNumber(1), 20);\n\t\tassert.strictEqual(manager.heightForLineNumber(5), 20);\n\n\t\t// Check accumulated heights\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(1), 20);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(5), 100);\n\t});\n\n\ttest('can add single custom line height', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.insertOrChangeCustomLineHeight('dec1', 3, 3, 20);\n\t\tmanager.commit();\n\n\t\t// Check individual line heights\n\t\tassert.strictEqual(manager.heightForLineNumber(1), 10);\n\t\tassert.strictEqual(manager.heightForLineNumber(2), 10);\n\t\tassert.strictEqual(manager.heightForLineNumber(3), 20);\n\t\tassert.strictEqual(manager.heightForLineNumber(4), 10);\n\n\t\t// Check accumulated heights\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(1), 10);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(2), 20);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(3), 40);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(4), 50);\n\t});\n\n\ttest('can add multiple custom line heights', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.insertOrChangeCustomLineHeight('dec1', 2, 2, 15);\n\t\tmanager.insertOrChangeCustomLineHeight('dec2', 4, 4, 25);\n\t\tmanager.commit();\n\n\t\t// Check individual line heights\n\t\tassert.strictEqual(manager.heightForLineNumber(1), 10);\n\t\tassert.strictEqual(manager.heightForLineNumber(2), 15);\n\t\tassert.strictEqual(manager.heightForLineNumber(3), 10);\n\t\tassert.strictEqual(manager.heightForLineNumber(4), 25);\n\t\tassert.strictEqual(manager.heightForLineNumber(5), 10);\n\n\t\t// Check accumulated heights\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(1), 10);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(2), 25);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(3), 35);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(4), 60);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(5), 70);\n\t});\n\n\ttest('can add range of custom line heights', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.insertOrChangeCustomLineHeight('dec1', 2, 4, 15);\n\t\tmanager.commit();\n\n\t\t// Check individual line heights\n\t\tassert.strictEqual(manager.heightForLineNumber(1), 10);\n\t\tassert.strictEqual(manager.heightForLineNumber(2), 15);\n\t\tassert.strictEqual(manager.heightForLineNumber(3), 15);\n\t\tassert.strictEqual(manager.heightForLineNumber(4), 15);\n\t\tassert.strictEqual(manager.heightForLineNumber(5), 10);\n\n\t\t// Check accumulated heights\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(1), 10);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(2), 25);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(3), 40);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(4), 55);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(5), 65);\n\t});\n\n\ttest('can change existing custom line height', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.insertOrChangeCustomLineHeight('dec1', 3, 3, 20);\n\t\tmanager.commit();\n\t\tassert.strictEqual(manager.heightForLineNumber(3), 20);\n\n\t\tmanager.insertOrChangeCustomLineHeight('dec1', 3, 3, 30);\n\t\tmanager.commit();\n\t\tassert.strictEqual(manager.heightForLineNumber(3), 30);\n\n\t\t// Check accumulated heights after change\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(3), 50);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(4), 60);\n\t});\n\n\ttest('can remove custom line height', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.insertOrChangeCustomLineHeight('dec1', 3, 3, 20);\n\t\tmanager.commit();\n\t\tassert.strictEqual(manager.heightForLineNumber(3), 20);\n\n\t\tmanager.removeCustomLineHeight('dec1');\n\t\tmanager.commit();\n\t\tassert.strictEqual(manager.heightForLineNumber(3), 10);\n\n\t\t// Check accumulated heights after removal\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(3), 30);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(4), 40);\n\t});\n\n\ttest('handles overlapping custom line heights (last one wins)', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.insertOrChangeCustomLineHeight('dec1', 3, 5, 20);\n\t\tmanager.insertOrChangeCustomLineHeight('dec2', 4, 6, 30);\n\t\tmanager.commit();\n\n\t\tassert.strictEqual(manager.heightForLineNumber(2), 10);\n\t\tassert.strictEqual(manager.heightForLineNumber(3), 20);\n\t\tassert.strictEqual(manager.heightForLineNumber(4), 30);\n\t\tassert.strictEqual(manager.heightForLineNumber(5), 30);\n\t\tassert.strictEqual(manager.heightForLineNumber(6), 30);\n\t\tassert.strictEqual(manager.heightForLineNumber(7), 10);\n\t});\n\n\ttest('handles deleting lines before custom line heights', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.insertOrChangeCustomLineHeight('dec1', 10, 12, 20);\n\t\tmanager.commit();\n\n\t\tmanager.onLinesDeleted(5, 7); // Delete lines 5-7\n\n\t\tassert.strictEqual(manager.heightForLineNumber(7), 20); // Was line 10\n\t\tassert.strictEqual(manager.heightForLineNumber(8), 20); // Was line 11\n\t\tassert.strictEqual(manager.heightForLineNumber(9), 20); // Was line 12\n\t\tassert.strictEqual(manager.heightForLineNumber(10), 10);\n\t});\n\n\ttest('handles deleting lines overlapping with custom line heights', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.insertOrChangeCustomLineHeight('dec1', 5, 10, 20);\n\t\tmanager.commit();\n\n\t\tmanager.onLinesDeleted(7, 12); // Delete lines 7-12, including part of decoration\n\n\t\tassert.strictEqual(manager.heightForLineNumber(5), 20);\n\t\tassert.strictEqual(manager.heightForLineNumber(6), 20);\n\t\tassert.strictEqual(manager.heightForLineNumber(7), 10);\n\t});\n\n\ttest('handles deleting lines containing custom line heights completely', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.insertOrChangeCustomLineHeight('dec1', 5, 7, 20);\n\t\tmanager.commit();\n\n\t\tmanager.onLinesDeleted(4, 8); // Delete lines 4-8, completely contains decoration\n\n\t\t// The decoration collapses to a single line which matches the behavior in the text buffer\n\t\tassert.strictEqual(manager.heightForLineNumber(3), 10);\n\t\tassert.strictEqual(manager.heightForLineNumber(4), 20);\n\t\tassert.strictEqual(manager.heightForLineNumber(5), 10);\n\t});\n\n\ttest('handles deleting lines at the very beginning', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.insertOrChangeCustomLineHeight('decA', 1, 1, 40);\n\t\tmanager.commit();\n\n\t\tmanager.onLinesDeleted(2, 4); // Delete lines 2-4 after the variable line height\n\n\t\t// Check individual line heights\n\t\tassert.strictEqual(manager.heightForLineNumber(1), 40);\n\t});\n\n\ttest('handles inserting lines before custom line heights', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.insertOrChangeCustomLineHeight('dec1', 5, 7, 20);\n\t\tmanager.commit();\n\n\t\tmanager.onLinesInserted(3, 4); // Insert 2 lines at line 3\n\n\t\tassert.strictEqual(manager.heightForLineNumber(5), 10);\n\t\tassert.strictEqual(manager.heightForLineNumber(6), 10);\n\t\tassert.strictEqual(manager.heightForLineNumber(7), 20); // Was line 5\n\t\tassert.strictEqual(manager.heightForLineNumber(8), 20); // Was line 6\n\t\tassert.strictEqual(manager.heightForLineNumber(9), 20); // Was line 7\n\t});\n\n\ttest('handles inserting lines inside custom line heights range', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.insertOrChangeCustomLineHeight('dec1', 5, 7, 20);\n\t\tmanager.commit();\n\n\t\tmanager.onLinesInserted(6, 7); // Insert 2 lines at line 6\n\n\t\tassert.strictEqual(manager.heightForLineNumber(5), 20);\n\t\tassert.strictEqual(manager.heightForLineNumber(6), 20);\n\t\tassert.strictEqual(manager.heightForLineNumber(7), 20);\n\t\tassert.strictEqual(manager.heightForLineNumber(8), 20);\n\t\tassert.strictEqual(manager.heightForLineNumber(9), 20);\n\t});\n\n\ttest('changing decoration id maintains custom line height', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.insertOrChangeCustomLineHeight('dec1', 5, 7, 20);\n\t\tmanager.commit();\n\n\t\tmanager.removeCustomLineHeight('dec1');\n\t\tmanager.insertOrChangeCustomLineHeight('dec2', 5, 7, 20);\n\t\tmanager.commit();\n\n\t\tassert.strictEqual(manager.heightForLineNumber(5), 20);\n\t\tassert.strictEqual(manager.heightForLineNumber(6), 20);\n\t\tassert.strictEqual(manager.heightForLineNumber(7), 20);\n\t});\n\n\ttest('accumulates heights correctly with complex setup', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.insertOrChangeCustomLineHeight('dec1', 3, 3, 15);\n\t\tmanager.insertOrChangeCustomLineHeight('dec2', 5, 7, 20);\n\t\tmanager.insertOrChangeCustomLineHeight('dec3', 10, 10, 30);\n\t\tmanager.commit();\n\n\t\t// Check accumulated heights\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(1), 10);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(2), 20);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(3), 35);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(4), 45);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(5), 65);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(7), 105);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(9), 125);\n\t\tassert.strictEqual(manager.getAccumulatedLineHeightsIncludingLineNumber(10), 155);\n\t});\n\n\ttest('partial deletion with multiple lines for the same decoration ID', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.insertOrChangeCustomLineHeight('decSame', 5, 5, 20);\n\t\tmanager.insertOrChangeCustomLineHeight('decSame', 6, 6, 25);\n\t\tmanager.commit();\n\n\t\t// Delete one line that partially intersects the same decoration\n\t\tmanager.onLinesDeleted(6, 6);\n\n\t\t// Check individual line heights\n\t\tassert.strictEqual(manager.heightForLineNumber(5), 20);\n\t\tassert.strictEqual(manager.heightForLineNumber(6), 10);\n\t});\n\n\ttest('overlapping decorations use maximum line height', () => {\n\t\tconst manager = new LineHeightsManager(10, []);\n\t\tmanager.insertOrChangeCustomLineHeight('decA', 3, 5, 40);\n\t\tmanager.insertOrChangeCustomLineHeight('decB', 4, 6, 30);\n\t\tmanager.commit();\n\n\t\t// Check individual line heights\n\t\tassert.strictEqual(manager.heightForLineNumber(3), 40);\n\t\tassert.strictEqual(manager.heightForLineNumber(4), 40);\n\t\tassert.strictEqual(manager.heightForLineNumber(5), 40);\n\t\tassert.strictEqual(manager.heightForLineNumber(6), 30);\n\t});\n});\n"]}