{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/editor/test/common/viewLayout/viewLineRenderer.test.ts","vs/editor/test/common/viewLayout/viewLineRenderer.test.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,MAAM,MAAM,QAAQ,CAAC;AAE5B,OAAO,KAAK,OAAO,MAAM,oCAAoC,CAAC;AAC9D,OAAO,EAAE,cAAc,EAAE,MAAM,0CAA0C,CAAC;AAC1E,OAAO,EAAE,uCAAuC,EAAE,MAAM,uCAAuC,CAAC;AAChG,OAAO,EAAE,WAAW,EAAE,MAAM,4CAA4C,CAAC;AAGzE,OAAO,EAAE,cAAc,EAAE,MAAM,+CAA+C,CAAC;AAC/E,OAAO,EAAoB,WAAW,EAA2B,eAAe,EAAqB,eAAe,IAAI,cAAc,EAAE,MAAM,gDAAgD,CAAC;AAE/L,OAAO,EAAE,aAAa,EAAE,cAAc,EAAE,MAAM,0BAA0B,CAAC;AAEzE,MAAM,cAAc,GAAG,EAAE,SAAS,EAAE,MAAM,EAAE,CAAC;AAE7C,SAAS,oBAAoB,CAAC,cAA+B;IAC5D,OAAO,IAAI,cAAc,CAAC,cAAc,CAAC,CAAC;AAC3C,CAAC;AAED,SAAS,UAAU,CAAC,QAAgB,EAAE,UAAkB;IACvD,OAAO,IAAI,aAAa,CAAC,QAAQ,EAAE,CAClC,UAAU,6CAAoC,CAC9C,KAAK,CAAC,CAAC,CAAC;AACV,CAAC;AAED,SAAS,uBAAuB,CAAC,gBAAmC;IACnE,uDAAuD;IACvD,IAAI,IAAI,GAAG,gBAAgB,CAAC,IAAI,CAAC;IACjC,IAAI,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,EAAE,CAAC;QAC/B,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;IACpC,CAAC;IACD,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;IACrC,MAAM,KAAK,GAAa,EAAE,CAAC;IAC3B,IAAI,SAAS,GAAG,CAAC,CAAC;IAClB,GAAG,CAAC;QACH,MAAM,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,SAAS,GAAG,CAAC,CAAC,CAAC;QACtD,IAAI,QAAQ,KAAK,CAAC,CAAC,EAAE,CAAC;YACrB,MAAM;QACP,CAAC;QACD,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC,CAAC;QAChD,SAAS,GAAG,QAAQ,CAAC;IACtB,CAAC,QAAQ,IAAI,EAAE;IACf,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC;IAEtC,OAAO;QACN,IAAI,EAAE,KAAK;QACX,OAAO,EAAE,gBAAgB,CAAC,gBAAgB,CAAC,OAAO,EAAE;KACpD,CAAC;AACH,CAAC;AAID,MAAM,6BAA6B,GAA4B;IAC9D,yBAAyB,EAAE,KAAK;IAChC,8BAA8B,EAAE,IAAI;IACpC,WAAW,EAAE,EAAE;IACf,wBAAwB,EAAE,KAAK;IAC/B,YAAY,EAAE,IAAI;IAClB,WAAW,EAAE,KAAK;IAClB,gBAAgB,EAAE,CAAC;IACnB,UAAU,EAAE,oBAAoB,CAAC,EAAE,CAAC;IACpC,eAAe,EAAE,EAAE;IACnB,OAAO,EAAE,CAAC;IACV,kBAAkB,EAAE,CAAC;IACrB,UAAU,EAAE,EAAE;IACd,WAAW,EAAE,EAAE;IACf,aAAa,EAAE,EAAE;IACjB,sBAAsB,EAAE,CAAC,CAAC;IAC1B,gBAAgB,EAAE,MAAM;IACxB,uBAAuB,EAAE,KAAK;IAC9B,aAAa,EAAE,KAAK;IACpB,gBAAgB,EAAE,IAAI;IACtB,aAAa,EAAE,IAAI;IACnB,qBAAqB,EAAE,EAAE;IACzB,sBAAsB,EAAE,KAAK;CAC7B,CAAC;AAEF,SAAS,4BAA4B,CAAC,IAAoC;IACzE,OAAO;QACN,GAAG,6BAA6B;QAChC,GAAG,IAAI;KACP,CAAC;AACH,CAAC;AAED,SAAS,qBAAqB,CAAC,IAAoC;IAClE,MAAM,OAAO,GAAG,4BAA4B,CAAC,IAAI,CAAC,CAAC;IACnD,OAAO,IAAI,eAAe,CACzB,OAAO,CAAC,yBAAyB,EACjC,OAAO,CAAC,8BAA8B,EACtC,OAAO,CAAC,WAAW,EACnB,OAAO,CAAC,wBAAwB,EAChC,OAAO,CAAC,YAAY,EACpB,OAAO,CAAC,WAAW,EACnB,OAAO,CAAC,gBAAgB,EACxB,OAAO,CAAC,UAAU,EAClB,OAAO,CAAC,eAAe,EACvB,OAAO,CAAC,OAAO,EACf,OAAO,CAAC,kBAAkB,EAC1B,OAAO,CAAC,UAAU,EAClB,OAAO,CAAC,WAAW,EACnB,OAAO,CAAC,aAAa,EACrB,OAAO,CAAC,sBAAsB,EAC9B,OAAO,CAAC,gBAAgB,EACxB,OAAO,CAAC,uBAAuB,EAC/B,OAAO,CAAC,aAAa,EACrB,OAAO,CAAC,gBAAgB,EACxB,OAAO,CAAC,aAAa,EACrB,OAAO,CAAC,qBAAqB,EAC7B,OAAO,CAAC,sBAAsB,CAC9B,CAAC;AACH,CAAC;AAED,KAAK,CAAC,6BAA6B,EAAE,GAAG,EAAE;IAEzC,uCAAuC,EAAE,CAAC;IAE1C,SAAS,0BAA0B,CAAC,WAAmB,EAAE,OAAe,EAAE,QAAgB,EAAE,wBAAkC;QAC7H,MAAM,OAAO,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACpD,WAAW;YACX,YAAY,EAAE,OAAO,CAAC,YAAY,CAAC,WAAW,CAAC;YAC/C,UAAU,EAAE,oBAAoB,CAAC,CAAC,IAAI,aAAa,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC;YAC5E,OAAO;YACP,UAAU,EAAE,CAAC;YACb,WAAW,EAAE,CAAC;YACd,aAAa,EAAE,CAAC;SAChB,CAAC,CAAC,CAAC;QAEJ,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,EAAE,2BAA2B,GAAG,QAAQ,GAAG,gBAAgB,CAAC,CAAC;QAC5F,MAAM,IAAI,GAAG,wBAAwB,CAAC,GAAG,CAAuB,CAAC,cAAc,EAAE,EAAE,CAAC,CAAC,cAAc,EAAE,CAAC,CAAC,EAAE,cAAc,CAAC,CAAC,CAAC,CAAC;QAC3H,uBAAuB,CAAC,OAAO,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC;IACzD,CAAC;IAED,IAAI,CAAC,iBAAiB,EAAE,GAAG,EAAE;QAC5B,0BAA0B,CAAC,GAAG,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACrD,0BAA0B,CAAC,IAAI,EAAE,CAAC,EAAE,cAAc,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAC/D,0BAA0B,CAAC,MAAM,EAAE,CAAC,EAAE,gBAAgB,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAC1E,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,qBAAqB,EAAE,GAAG,EAAE;QAChC,0BAA0B,CAAC,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAC7D,0BAA0B,CAAC,KAAK,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAC7D,0BAA0B,CAAC,KAAK,EAAE,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAC/D,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,8BAA8B,EAAE,GAAG,EAAE;QACzC,0BAA0B,CAAC,MAAM,EAAE,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAC/D,0BAA0B,CAAC,GAAG,GAAG,MAAM,CAAC,YAAY,+BAAmB,GAAG,GAAG,EAAE,CAAC,EAAE,UAAU,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAC5G,0BAA0B,CAAC,UAAU,EAAE,CAAC,EAAE,UAAU,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACrE,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,cAAc,EAAE,GAAG,EAAE;QACzB,0BAA0B,CAAC,IAAI,EAAE,CAAC,EAAE,0BAA0B,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACxE,0BAA0B,CAAC,KAAK,EAAE,CAAC,EAAE,qBAAqB,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACvE,0BAA0B,CAAC,MAAM,EAAE,CAAC,EAAE,gBAAgB,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACtE,0BAA0B,CAAC,OAAO,EAAE,CAAC,EAAE,WAAW,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACrE,0BAA0B,CAAC,QAAQ,EAAE,CAAC,EAAE,8BAA8B,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAC7F,CAAC,CAAC,CAAC;IAEH,SAAS,WAAW,CAAC,WAAmB,EAAE,OAAe,EAAE,KAAsB,EAAE,QAAgB,EAAE,IAA4B;QAChI,MAAM,OAAO,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACpD,WAAW;YACX,UAAU,EAAE,oBAAoB,CAAC,KAAK,CAAC;YACvC,OAAO;YACP,UAAU,EAAE,CAAC;YACb,WAAW,EAAE,CAAC;YACd,aAAa,EAAE,CAAC;SAChB,CAAC,CAAC,CAAC;QAEJ,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,EAAE,QAAQ,GAAG,QAAQ,GAAG,SAAS,CAAC,CAAC;QAClE,uBAAuB,CAAC,OAAO,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC;IACzD,CAAC;IAED,IAAI,CAAC,YAAY,EAAE,GAAG,EAAE;QACvB,WAAW,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,eAAe,EAAE,EAAE,CAAC,CAAC;IAC7C,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,gBAAgB,EAAE,GAAG,EAAE;QAC3B,WAAW,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,8BAA8B,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACrG,WAAW,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,8BAA8B,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACrG,WAAW,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,8BAA8B,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACtG,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,WAAW,EAAE,GAAG,EAAE;QACtB,WAAW,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,wDAAwD,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC9J,WAAW,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,yDAAyD,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7K,WAAW,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,yDAAyD,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9K,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,UAAU,EAAE,KAAK,IAAI,EAAE;QAC3B,MAAM,OAAO,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACpD,WAAW,EAAE,cAAc;YAC3B,UAAU,EAAE,oBAAoB,CAAC;gBAChC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;gBAChB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;gBAChB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;gBAChB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;gBAChB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;gBAChB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;gBAChB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;gBAChB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;gBAChB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;gBAChB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;gBACjB,UAAU,CAAC,EAAE,EAAE,EAAE,CAAC;gBAClB,UAAU,CAAC,EAAE,EAAE,EAAE,CAAC;aAClB,CAAC;YACF,sBAAsB,EAAE,CAAC;YACzB,gBAAgB,EAAE,UAAU;SAC5B,CAAC,CAAC,CAAC;QAEJ,MAAM,QAAQ,GAAG,uBAAuB,CAAC,OAAO,CAAC,CAAC;QAClD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,cAAc,EAAE,KAAK,IAAI,EAAE;QAC/B,MAAM,WAAW,GAAG,mDAAmD,CAAC;QACxE,MAAM,UAAU,GAAG,oBAAoB,CAAC;YACvC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;YACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;YACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;YACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;YACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;YACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;YACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;YACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;YACjB,UAAU,CAAC,EAAE,EAAE,EAAE,CAAC;YAClB,UAAU,CAAC,EAAE,EAAE,EAAE,CAAC;YAClB,UAAU,CAAC,EAAE,EAAE,EAAE,CAAC;SAClB,CAAC,CAAC;QACH,MAAM,OAAO,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACpD,WAAW;YACX,UAAU;YACV,gBAAgB,EAAE,UAAU;SAC5B,CAAC,CAAC,CAAC;QAEJ,MAAM,QAAQ,GAAG,uBAAuB,CAAC,OAAO,CAAC,CAAC;QAClD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,0CAA0C,EAAE,KAAK,IAAI,EAAE;QAC3D,MAAM,WAAW,GAAG,+EAA+E,CAAC;QACpG,MAAM,UAAU,GAAG,oBAAoB,CAAC;YACvC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,UAAU;YAC5B,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,WAAW;YAC9B,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,UAAU;YAC7B,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,SAAS;YAC5B,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,WAAW;YAC9B,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,UAAU;YAC7B,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,SAAS;YAC5B,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,WAAW;YAC9B,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,SAAS;YAC5B,UAAU,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,UAAU;SAC9B,CAAC,CAAC;QACH,MAAM,OAAO,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACpD,WAAW;YACX,UAAU;SACV,CAAC,CAAC,CAAC;QAEJ,MAAM,QAAQ,GAAG,uBAAuB,CAAC,OAAO,CAAC,CAAC;QAClD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,0CAA0C,EAAE,KAAK,IAAI,EAAE;QAC3D,MAAM,WAAW,GAAG,gFAAgF,CAAC;QAErG,MAAM,UAAU,GAAG,oBAAoB,CAAC;YACvC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,UAAU;YAC5B,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,WAAW;YAC9B,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,UAAU;YAC7B,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,SAAS;YAC5B,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,WAAW;YAC9B,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,UAAU;YAC7B,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,SAAS;YAC5B,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,WAAW;YAC9B,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,SAAS;YAC5B,UAAU,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,UAAU;SAC9B,CAAC,CAAC;QACH,MAAM,OAAO,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACpD,WAAW;YACX,UAAU;SACV,CAAC,CAAC,CAAC;QAEJ,MAAM,QAAQ,GAAG,uBAAuB,CAAC,OAAO,CAAC,CAAC;QAClD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,yDAAyD,EAAE,KAAK,IAAI,EAAE;QAC1E,MAAM,WAAW,GAAG,kBAAkB,CAAC;QACvC,MAAM,UAAU,GAAG,oBAAoB,CAAC;YACvC,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;SACjB,CAAC,CAAC;QACH,MAAM,MAAM,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACnD,yBAAyB,EAAE,IAAI;YAC/B,8BAA8B,EAAE,KAAK;YACrC,WAAW;YACX,UAAU;YACV,eAAe,EAAE;gBAChB,IAAI,cAAc,CAAC,EAAE,EAAE,EAAE,EAAE,MAAM,qCAA6B;gBAC9D,IAAI,cAAc,CAAC,EAAE,EAAE,EAAE,EAAE,MAAM,sCAA8B;aAC/D;SACD,CAAC,CAAC,CAAC;QAEJ,MAAM,QAAQ,GAAG,uBAAuB,CAAC,MAAM,CAAC,CAAC;QACjD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,qFAAqF,EAAE,KAAK,IAAI,EAAE;QACtG,MAAM,WAAW,GAAG,wEAAwE,CAAC;QAC7F,MAAM,UAAU,GAAG,oBAAoB,CAAC;YACvC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;YACjB,UAAU,CAAC,EAAE,EAAE,EAAE,CAAC;YAClB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;SACjB,CAAC,CAAC;QACH,MAAM,OAAO,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACpD,WAAW;YACX,YAAY,EAAE,KAAK;YACnB,WAAW,EAAE,IAAI;YACjB,UAAU;SACV,CAAC,CAAC,CAAC;QAEJ,MAAM,QAAQ,GAAG,uBAAuB,CAAC,OAAO,CAAC,CAAC;QAClD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,0DAA0D,EAAE,KAAK,IAAI,EAAE;QAC3E,MAAM,WAAW,GAAG,4CAA4C,CAAC;QACjE,MAAM,UAAU,GAAG,oBAAoB,CAAC;YACvC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;YACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;YACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;YACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;YACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;YACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;YACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;YACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;SACjB,CAAC,CAAC;QACH,MAAM,OAAO,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACpD,WAAW;YACX,YAAY,EAAE,KAAK;YACnB,WAAW,EAAE,IAAI;YACjB,UAAU;SACV,CAAC,CAAC,CAAC;QAEJ,MAAM,QAAQ,GAAG,uBAAuB,CAAC,OAAO,CAAC,CAAC;QAClD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,2DAA2D,EAAE,KAAK,IAAI,EAAE;QAC5E,MAAM,WAAW,GAAG,yCAAyC,CAAC;QAC9D,MAAM,UAAU,GAAG,oBAAoB,CAAC;YACvC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;YACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;YACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;YACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;SACjB,CAAC,CAAC;QACH,MAAM,OAAO,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACpD,yBAAyB,EAAE,IAAI;YAC/B,WAAW;YACX,YAAY,EAAE,KAAK;YACnB,WAAW,EAAE,IAAI;YACjB,UAAU;YACV,gBAAgB,EAAE,KAAK;SACvB,CAAC,CAAC,CAAC;QAEJ,MAAM,QAAQ,GAAG,uBAAuB,CAAC,OAAO,CAAC,CAAC;QAClD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,2EAA2E,EAAE,KAAK,IAAI,EAAE;QAC5F,4EAA4E;QAC5E,yFAAyF;QACzF,MAAM,WAAW,GAAG,qDAAqD,CAAC;QAC1E,MAAM,UAAU,GAAG,oBAAoB,CAAC;YACvC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EAAI,IAAI;YACxB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EAAI,IAAI;YACxB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EAAI,UAAU;YAC9B,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EAAI,QAAQ;YAC5B,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EAAI,IAAI;YACxB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,EAAG,IAAI;YACxB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,EAAG,UAAU;YAC9B,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,EAAG,IAAI;YACxB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,EAAG,UAAU;YAC9B,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,EAAG,QAAQ;YAC5B,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,EAAG,IAAI;YACxB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,EAAG,IAAI;YACxB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,EAAG,8DAA8D;YAClF,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,EAAG,mCAAmC;YACvD,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,EAAG,IAAI;YACxB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,EAAG,+DAA+D;YACnF,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,EAAG,IAAI;YACxB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,EAAG,IAAI;YACxB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,EAAG,IAAI;YACxB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,EAAG,IAAI;SACxB,CAAC,CAAC;QACH,MAAM,OAAO,GAAG,cAAc,CAAC,IAAI,eAAe,CACjD,KAAK,EACL,IAAI,EACJ,WAAW,EACX,KAAK,EACL,KAAK,EACL,IAAI,EACJ,CAAC,EACD,UAAU,EACV,EAAE,EACF,CAAC,EACD,CAAC,EACD,EAAE,EACF,EAAE,EACF,EAAE,EACF,CAAC,CAAC,EACF,MAAM,EACN,KAAK,EACL,KAAK,EACL,IAAI,EACJ,IAAI,EACJ,EAAE,CACF,CAAC,CAAC;QAEH,MAAM,QAAQ,GAAG,uBAAuB,CAAC,OAAO,CAAC,CAAC;QAClD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,kCAAkC,EAAE,KAAK,IAAI,EAAE;QACnD,yIAAyI;QACzI,yIAAyI;QACzI,6IAA6I;QAC7I,MAAM,SAAS,GAAG,6HAA6H,CAAC;QAEhJ,SAAS,kBAAkB,CAAC,OAAe,EAAE,WAAmB,EAAE,cAAwB;YACzF,MAAM,UAAU,GAAG,oBAAoB,CAAC,CAAC,UAAU,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;YAC7E,MAAM,MAAM,GAAG,cAAc,CAAC,qBAAqB,CAAC;gBACnD,WAAW;gBACX,UAAU;aACV,CAAC,CAAC,CAAC;YACJ,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,GAAG,cAAc,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,SAAS,EAAE,OAAO,CAAC,CAAC;QAC1F,CAAC;QAED,wBAAwB;QACxB,CAAC;YACA,kBAAkB,CACjB,UAAU,EACV,SAAS,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,EACvB;gBACC,0HAA0H;aAC1H,CACD,CAAC;QACH,CAAC;QAED,wBAAwB;QACxB,CAAC;YACA,kBAAkB,CACjB,UAAU,EACV,SAAS,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,EACvB;gBACC,2HAA2H;aAC3H,CACD,CAAC;QACH,CAAC;QAED,wBAAwB;QACxB,CAAC;YACA,kBAAkB,CACjB,UAAU,EACV,SAAS,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,EACvB;gBACC,2HAA2H;gBAC3H,6BAA6B;aAC7B,CACD,CAAC;QACH,CAAC;QAED,wBAAwB;QACxB,CAAC;YACA,kBAAkB,CACjB,UAAU,EACV,SAAS,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,EACvB;gBACC,2HAA2H;gBAC3H,0HAA0H;aAC1H,CACD,CAAC;QACH,CAAC;QAED,yBAAyB;QACzB,CAAC;YACA,kBAAkB,CACjB,WAAW,EACX,SAAS,CAAC,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,EACxB;gBACC,2HAA2H;gBAC3H,2HAA2H;aAC3H,CACD,CAAC;QACH,CAAC;QAED,yBAAyB;QACzB,CAAC;YACA,kBAAkB,CACjB,WAAW,EACX,SAAS,CAAC,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,EACxB;gBACC,2HAA2H;gBAC3H,2HAA2H;gBAC3H,kCAAkC;aAClC,CACD,CAAC;QACH,CAAC;IACF,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,iEAAiE,EAAE,KAAK,IAAI,EAAE;QAClF,yIAAyI;QACzI,yIAAyI;QACzI,6IAA6I;QAC7I,MAAM,SAAS,GAAG,6HAA6H,CAAC;QAEhJ,SAAS,kBAAkB,CAAC,OAAe,EAAE,WAAmB,EAAE,cAAwB;YACzF,MAAM,UAAU,GAAG,oBAAoB,CAAC,CAAC,UAAU,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;YAC7E,MAAM,MAAM,GAAG,cAAc,CAAC,qBAAqB,CAAC;gBACnD,WAAW;gBACX,UAAU;gBACV,aAAa,EAAE,IAAI;aACnB,CAAC,CAAC,CAAC;YACJ,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,GAAG,cAAc,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,SAAS,EAAE,OAAO,CAAC,CAAC;QAC1F,CAAC;QAED,yBAAyB;QACzB,CAAC;YACA,kBAAkB,CACjB,WAAW,EACX,SAAS,CAAC,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,EACxB;gBACC,qHAAqH;gBACrH,yHAAyH;gBACzH,0CAA0C;aAC1C,CACD,CAAC;QACH,CAAC;IACF,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,kFAAkF,EAAE,KAAK,IAAI,EAAE;QACnG,MAAM,WAAW,GAAG,mPAAmP,CAAC;QACxQ,MAAM,UAAU,GAAG,oBAAoB,CAAC,CAAC,UAAU,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7E,MAAM,MAAM,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACnD,WAAW;YACX,YAAY,EAAE,KAAK;YACnB,UAAU;SACV,CAAC,CAAC,CAAC;QAEJ,MAAM,cAAc,CAAC,uBAAuB,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;IACrF,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,sDAAsD,EAAE,KAAK,IAAI,EAAE;QACvE,MAAM,WAAW,GAAG,oNAAoN,CAAC;QACzO,MAAM,UAAU,GAAG,oBAAoB,CAAC,CAAC,UAAU,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7E,MAAM,MAAM,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACnD,WAAW;YACX,YAAY,EAAE,KAAK;YACnB,WAAW,EAAE,IAAI;YACjB,UAAU;SACV,CAAC,CAAC,CAAC;QAEJ,MAAM,cAAc,CAAC,MAAM,CAAC,IAAI,EAAE,cAAc,CAAC,CAAC;IACnD,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,0EAA0E,EAAE,KAAK,IAAI,EAAE;QAC3F,MAAM,WAAW,GAAG,6CAA6C,CAAC;QAClE,MAAM,UAAU,GAAG,oBAAoB,CAAC,CAAC,UAAU,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7E,MAAM,MAAM,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACnD,WAAW;YACX,YAAY,EAAE,KAAK;YACnB,UAAU;SACV,CAAC,CAAC,CAAC;QACJ,MAAM,QAAQ,GAAG,uBAAuB,CAAC,MAAM,CAAC,CAAC;QACjD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,2DAA2D,EAAE,KAAK,IAAI,EAAE;QAC5E,MAAM,WAAW,GAAG,oCAAoC,CAAC;QACzD,MAAM,UAAU,GAAG,oBAAoB,CAAC;YACvC,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;YACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;YACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;YACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;YACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;YACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;YACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;YACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;SACjB,CAAC,CAAC;QACH,MAAM,OAAO,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACpD,yBAAyB,EAAE,IAAI;YAC/B,WAAW;YACX,gBAAgB,EAAE,CAAC;YACnB,UAAU;SACV,CAAC,CAAC,CAAC;QAEJ,MAAM,QAAQ,GAAG,uBAAuB,CAAC,OAAO,CAAC,CAAC;QAClD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC,CAAC;AAIH,SAAS,uBAAuB,CAAC,MAAwB,EAAE,YAAoC;IAC9F,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,YAAY,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;QAC9C,MAAM,CAAC,gBAAgB,EAAE,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC;QAEnE,MAAM,iBAAiB,GAAG,MAAM,CAAC,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QACvD,MAAM,CAAC,eAAe,CAAC,iBAAiB,EAAE,IAAI,WAAW,CAAC,SAAS,EAAE,SAAS,CAAC,EAAE,kBAAkB,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QAE7G,IAAI,UAAU,GAAG,SAAS,GAAG,CAAC,CAAC;QAC/B,KAAK,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,YAAY,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YAClD,MAAM,CAAC,EAAE,CAAC,aAAa,EAAE,aAAa,CAAC,CAAC,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC;YAC3D,IAAI,aAAa,KAAK,SAAS,EAAE,CAAC;gBACjC,UAAU,GAAG,aAAa,GAAG,CAAC,CAAC;YAChC,CAAC;iBAAM,CAAC;gBACP,MAAM;YACP,CAAC;QACF,CAAC;QAED,MAAM,YAAY,GAAG,MAAM,CAAC,SAAS,CAAC,IAAI,WAAW,CAAC,SAAS,EAAE,SAAS,CAAC,EAAE,UAAU,CAAC,CAAC;QACzF,MAAM,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC,GAAG,CAAC,EAAE,oBAAoB,SAAS,KAAK,SAAS,GAAG,CAAC,CAAC;QAExF,MAAM,sBAAsB,GAAG,MAAM,CAAC,mBAAmB,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QACjE,MAAM,CAAC,WAAW,CAAC,sBAAsB,EAAE,gBAAgB,EAAE,8BAA8B,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACtG,CAAC;IAED,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,MAAM,EAAE,YAAY,CAAC,MAAM,EAAE,iBAAiB,CAAC,CAAC;AAC3E,CAAC;AAED,KAAK,CAAC,+BAA+B,EAAE,GAAG,EAAE;IAE3C,uCAAuC,EAAE,CAAC;IAE1C,SAAS,mBAAmB,CAAC,eAAwB,EAAE,WAAmB,EAAE,MAAuB,EAAE,gBAAwB,EAAE,gBAAwE,EAAE,UAAgC;QACxO,MAAM,MAAM,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACnD,yBAAyB,EAAE,eAAe;YAC1C,WAAW;YACX,gBAAgB;YAChB,UAAU,EAAE,oBAAoB,CAAC,MAAM,CAAC;YACxC,gBAAgB;YAChB,gBAAgB,EAAE,UAAU;SAC5B,CAAC,CAAC,CAAC;QACJ,OAAO,uBAAuB,CAAC,MAAM,CAAC,CAAC;IACxC,CAAC;IAED,IAAI,CAAC,mFAAmF,EAAE,KAAK,IAAI,EAAE;QACpG,MAAM,WAAW,GAAG,uBAAuB,CAAC;QAC5C,MAAM,MAAM,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACnD,WAAW;YACX,UAAU,EAAE,oBAAoB,CAAC,CAAC,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;YACrD,eAAe,EAAE,CAAC,IAAI,cAAc,CAAC,CAAC,EAAE,EAAE,EAAE,MAAM,uCAA+B,CAAC;SAClF,CAAC,CAAC,CAAC;QAEJ,MAAM,QAAQ,GAAG,uBAAuB,CAAC,MAAM,CAAC,CAAC;QACjD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,yDAAyD,EAAE,KAAK,IAAI,EAAE;QAC1E,MAAM,WAAW,GAAG,4FAA4F,CAAC;QACjH,MAAM,MAAM,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACnD,yBAAyB,EAAE,IAAI;YAC/B,WAAW;YACX,UAAU,EAAE,oBAAoB,CAAC;gBAChC,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;gBACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;gBACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;gBACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;gBACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;aACjB,CAAC;YACF,eAAe,EAAE;gBAChB,IAAI,cAAc,CAAC,EAAE,EAAE,EAAE,EAAE,eAAe,uCAA+B;aACzE;SACD,CAAC,CAAC,CAAC;QAEJ,MAAM,QAAQ,GAAG,uBAAuB,CAAC,MAAM,CAAC,CAAC;QACjD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,wBAAwB,EAAE,KAAK,IAAI,EAAE;QACzC,MAAM,MAAM,GAAG,mBAAmB,CACjC,KAAK,EACL,cAAc,EACd;YACC,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;SACjB,EACD,CAAC,EACD,MAAM,EACN,IAAI,CACJ,CAAC;QACF,MAAM,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC3D,MAAM,cAAc,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,mCAAmC,EAAE,KAAK,IAAI,EAAE;QACpD,MAAM,MAAM,GAAG,mBAAmB,CACjC,KAAK,EACL,cAAc,EACd;YACC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;SACjB,EACD,CAAC,EACD,MAAM,EACN,IAAI,CACJ,CAAC;QACF,MAAM,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC3D,MAAM,cAAc,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,sDAAsD,EAAE,KAAK,IAAI,EAAE;QACvE,MAAM,MAAM,GAAG,mBAAmB,CACjC,KAAK,EACL,sBAAsB,EACtB;YACC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;SACjB,EACD,CAAC,EACD,UAAU,EACV,IAAI,CACJ,CAAC;QACF,MAAM,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC3D,MAAM,cAAc,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,sDAAsD,EAAE,KAAK,IAAI,EAAE;QACvE,MAAM,MAAM,GAAG,mBAAmB,CACjC,KAAK,EACL,8BAA8B,EAC9B;YACC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;YACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;SACjB,EACD,CAAC,EACD,UAAU,EACV,IAAI,CACJ,CAAC;QACF,MAAM,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC3D,MAAM,cAAc,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,oDAAoD,EAAE,KAAK,IAAI,EAAE;QACrE,MAAM,MAAM,GAAG,mBAAmB,CACjC,KAAK,EACL,oBAAoB,EACpB;YACC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;SACjB,EACD,CAAC,EACD,UAAU,EACV,IAAI,CACJ,CAAC;QACF,MAAM,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC3D,MAAM,cAAc,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,mEAAmE,EAAE,KAAK,IAAI,EAAE;QACpF,MAAM,MAAM,GAAG,mBAAmB,CACjC,KAAK,EACL,sCAAsC,EACtC;YACC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;SACjB,EACD,CAAC,EACD,UAAU,EACV,IAAI,CACJ,CAAC;QACF,MAAM,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC3D,MAAM,cAAc,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,qDAAqD,EAAE,KAAK,IAAI,EAAE;QACtE,MAAM,MAAM,GAAG,mBAAmB,CACjC,KAAK,EACL,oCAAoC,EACpC;YACC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;SACjB,EACD,CAAC,EACD,UAAU,EACV,IAAI,CACJ,CAAC;QACF,MAAM,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC3D,MAAM,cAAc,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,yDAAyD,EAAE,KAAK,IAAI,EAAE;QAC1E,MAAM,MAAM,GAAG,mBAAmB,CACjC,IAAI,EACJ,oCAAoC,EACpC;YACC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;SACjB,EACD,CAAC,EACD,UAAU,EACV,IAAI,CACJ,CAAC;QACF,MAAM,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC3D,MAAM,cAAc,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,mEAAmE,EAAE,KAAK,IAAI,EAAE;QACpF,MAAM,MAAM,GAAG,mBAAmB,CACjC,KAAK,EACL,eAAe,EACf;YACC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;SACjB,EACD,CAAC,EACD,UAAU,EACV,IAAI,CACJ,CAAC;QACF,MAAM,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC3D,MAAM,cAAc,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,qDAAqD,EAAE,KAAK,IAAI,EAAE;QACtE,MAAM,MAAM,GAAG,mBAAmB,CACjC,KAAK,EACL,iBAAiB,EACjB;YACC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;SACjB,EACD,CAAC,EACD,KAAK,EACL,IAAI,CACJ,CAAC;QACF,MAAM,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC3D,MAAM,cAAc,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,oEAAoE,EAAE,KAAK,IAAI,EAAE;QACrF,MAAM,MAAM,GAAG,mBAAmB,CACjC,KAAK,EACL,iBAAiB,EACjB;YACC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;SACjB,EACD,CAAC,EACD,WAAW,EACX,IAAI,CACJ,CAAC;QACF,MAAM,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC3D,MAAM,cAAc,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,2EAA2E,EAAE,KAAK,IAAI,EAAE;QAC5F,MAAM,MAAM,GAAG,mBAAmB,CACjC,KAAK,EACL,iBAAiB,EACjB;YACC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;SACjB,EACD,CAAC,EACD,WAAW,EACX,CAAC,IAAI,WAAW,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CACxB,CAAC;QACF,MAAM,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC3D,MAAM,cAAc,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,4FAA4F,EAAE,KAAK,IAAI,EAAE;QAC7G,MAAM,MAAM,GAAG,mBAAmB,CACjC,KAAK,EACL,iBAAiB,EACjB;YACC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;SACjB,EACD,CAAC,EACD,WAAW,EACX,CAAC,IAAI,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CACvB,CAAC;QACF,MAAM,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC3D,MAAM,cAAc,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,0EAA0E,EAAE,KAAK,IAAI,EAAE;QAC3F,MAAM,MAAM,GAAG,mBAAmB,CACjC,KAAK,EACL,iBAAiB,EACjB;YACC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;SACjB,EACD,CAAC,EACD,WAAW,EACX,CAAC,IAAI,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,WAAW,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAC/C,CAAC;QACF,MAAM,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC3D,MAAM,cAAc,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,8FAA8F,EAAE,KAAK,IAAI,EAAE;QAC/G,MAAM,MAAM,GAAG,mBAAmB,CACjC,KAAK,EACL,iBAAiB,EACjB;YACC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;SACjB,EACD,CAAC,EACD,WAAW,EACX,CAAC,IAAI,WAAW,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,IAAI,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAC/C,CAAC;QACF,MAAM,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC3D,MAAM,cAAc,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,oFAAoF,EAAE,KAAK,IAAI,EAAE;QACrG,MAAM,MAAM,GAAG,mBAAmB,CACjC,KAAK,EACL,MAAM,EACN;YACC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;SAChB,EACD,CAAC,EACD,WAAW,EACX,CAAC,IAAI,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CACrE,CAAC;QACF,MAAM,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC3D,MAAM,cAAc,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,qGAAqG,EAAE,KAAK,IAAI,EAAE;QACtH,MAAM,MAAM,GAAG,mBAAmB,CACjC,KAAK,EACL,eAAe,EACf;YACC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;SACjB,EACD,CAAC,EACD,UAAU,EACV,IAAI,CACJ,CAAC;QACF,MAAM,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC3D,MAAM,cAAc,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,6FAA6F,EAAE,KAAK,IAAI,EAAE;QAC9G,MAAM,MAAM,GAAG,mBAAmB,CACjC,KAAK,EACL,kBAAkB,EAClB;YACC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;SACjB,EACD,CAAC,EACD,UAAU,EACV,IAAI,CACJ,CAAC;QACF,MAAM,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC3D,MAAM,cAAc,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,0FAA0F,EAAE,KAAK,IAAI,EAAE;QAC3G,MAAM,MAAM,GAAG,mBAAmB,CACjC,KAAK,EACL,8BAA8B,EAC9B;YACC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;YACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;SACjB,EACD,CAAC,EACD,UAAU,EACV,IAAI,CACJ,CAAC;QACF,MAAM,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC3D,MAAM,cAAc,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,sFAAsF,EAAE,KAAK,IAAI,EAAE;QACvG,MAAM,MAAM,GAAG,mBAAmB,CACjC,KAAK,EACL,MAAM,EACN;YACC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;SAChB,EACD,CAAC,EACD,UAAU,EACV,IAAI,CACJ,CAAC;QACF,MAAM,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC3D,MAAM,cAAc,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,wDAAwD,EAAE,KAAK,IAAI,EAAE;QACzE,MAAM,MAAM,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACnD,WAAW,EAAE,aAAa;YAC1B,UAAU,EAAE,oBAAoB,CAAC,CAAC,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;YACrD,eAAe,EAAE;gBAChB,IAAI,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,uCAA+B;gBAC3D,IAAI,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,uCAA+B;gBAC3D,IAAI,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,uCAA+B;aAC3D;SACD,CAAC,CAAC,CAAC;QAEJ,cAAc;QACd,cAAc;QACd,cAAc;QACd,cAAc;QACd,cAAc;QAEd,MAAM,QAAQ,GAAG,uBAAuB,CAAC,MAAM,CAAC,CAAC;QACjD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,6EAA6E,EAAE,KAAK,IAAI,EAAE;QAE9F,MAAM,WAAW,GAAG,OAAO,CAAC;QAE5B,MAAM,MAAM,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACnD,WAAW;YACX,UAAU,EAAE,oBAAoB,CAAC,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YACpD,eAAe,EAAE,CAAC,IAAI,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,QAAQ,sCAA8B,CAAC;YAClF,gBAAgB,EAAE,KAAK;YACvB,aAAa,EAAE,IAAI;SACnB,CAAC,CAAC,CAAC;QAEJ,MAAM,QAAQ,GAAG,uBAAuB,CAAC,MAAM,CAAC,CAAC;QACjD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,+FAA+F,EAAE,KAAK,IAAI,EAAE;QAEhH,MAAM,WAAW,GAAG,OAAO,CAAC;QAE5B,MAAM,MAAM,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACnD,WAAW;YACX,UAAU,EAAE,oBAAoB,CAAC,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YACpD,eAAe,EAAE,CAAC,IAAI,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,QAAQ,sCAA8B,CAAC;YAClF,gBAAgB,EAAE,KAAK;YACvB,aAAa,EAAE,IAAI;SACnB,CAAC,CAAC,CAAC;QAEJ,MAAM,QAAQ,GAAG,uBAAuB,CAAC,MAAM,CAAC,CAAC;QACjD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,4DAA4D,EAAE,KAAK,IAAI,EAAE;QAE7E,MAAM,WAAW,GAAG,EAAE,CAAC;QAEvB,MAAM,MAAM,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACnD,WAAW;YACX,UAAU,EAAE,oBAAoB,CAAC,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YACpD,eAAe,EAAE,CAAC,IAAI,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,QAAQ,sCAA8B,CAAC;YAClF,gBAAgB,EAAE,KAAK;YACvB,aAAa,EAAE,IAAI;SACnB,CAAC,CAAC,CAAC;QAEJ,MAAM,QAAQ,GAAG,uBAAuB,CAAC,MAAM,CAAC,CAAC;QACjD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,uGAAuG,EAAE,KAAK,IAAI,EAAE;QAExH,MAAM,MAAM,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACnD,yBAAyB,EAAE,IAAI;YAC/B,WAAW,EAAE,SAAS;YACtB,YAAY,EAAE,KAAK;YACnB,UAAU,EAAE,oBAAoB,CAAC,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YACpD,eAAe,EAAE,CAAC,IAAI,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,eAAe,qCAA6B,CAAC;YACxF,OAAO,EAAE,CAAC;YACV,sBAAsB,EAAE,KAAK;SAC7B,CAAC,CAAC,CAAC;QAEJ,MAAM,QAAQ,GAAG,uBAAuB,CAAC,MAAM,CAAC,CAAC;QACjD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,4EAA4E,EAAE,KAAK,IAAI,EAAE;QAE7F,MAAM,MAAM,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACnD,yBAAyB,EAAE,IAAI;YAC/B,WAAW,EAAE,EAAE;YACf,UAAU,EAAE,oBAAoB,CAAC,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YACpD,eAAe,EAAE;gBAChB,IAAI,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,QAAQ,sCAA8B;gBAC/D,IAAI,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,OAAO,qCAA6B;aAC7D;YACD,OAAO,EAAE,CAAC;YACV,sBAAsB,EAAE,KAAK;SAC7B,CAAC,CAAC,CAAC;QAEJ,MAAM,QAAQ,GAAG,uBAAuB,CAAC,MAAM,CAAC,CAAC;QACjD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,uEAAuE,EAAE,KAAK,IAAI,EAAE;QAExF,MAAM,MAAM,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACnD,yBAAyB,EAAE,IAAI;YAC/B,WAAW,EAAE,EAAE;YACf,UAAU,EAAE,oBAAoB,CAAC,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YACpD,eAAe,EAAE;gBAChB,IAAI,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,QAAQ,qCAA6B;gBAC9D,IAAI,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,QAAQ,qCAA6B;gBAC9D,IAAI,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,SAAS,sCAA8B;gBAChE,IAAI,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,SAAS,sCAA8B;aAChE;YACD,OAAO,EAAE,CAAC;YACV,sBAAsB,EAAE,KAAK;SAC7B,CAAC,CAAC,CAAC;QAEJ,MAAM,QAAQ,GAAG,uBAAuB,CAAC,MAAM,CAAC,CAAC;QACjD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,6DAA6D,EAAE,KAAK,IAAI,EAAE;QAE9E,MAAM,MAAM,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACnD,yBAAyB,EAAE,IAAI;YAC/B,WAAW,EAAE,KAAK;YAClB,UAAU,EAAE,oBAAoB,CAAC,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YACpD,eAAe,EAAE;gBAChB,IAAI,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,0EAA0E,sCAA8B;gBACjI,IAAI,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,0EAA0E,qCAA6B;aAChI;YACD,sBAAsB,EAAE,KAAK;SAC7B,CAAC,CAAC,CAAC;QAEJ,MAAM,QAAQ,GAAG,uBAAuB,CAAC,MAAM,CAAC,CAAC;QACjD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,2GAA2G,EAAE,KAAK,IAAI,EAAE;QAE5H,MAAM,MAAM,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACnD,yBAAyB,EAAE,IAAI;YAC/B,WAAW,EAAE,aAAa;YAC1B,YAAY,EAAE,KAAK;YACnB,UAAU,EAAE,oBAAoB,CAAC,CAAC,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;YACrD,eAAe,EAAE;gBAChB,IAAI,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,YAAY,qCAA6B;gBAClE,IAAI,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,YAAY,sCAA8B;aACnE;YACD,sBAAsB,EAAE,KAAK;YAC7B,uBAAuB,EAAE,IAAI;SAC7B,CAAC,CAAC,CAAC;QAEJ,MAAM,QAAQ,GAAG,uBAAuB,CAAC,MAAM,CAAC,CAAC;QACjD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,iEAAiE,EAAE,KAAK,IAAI,EAAE;QAElF,MAAM,MAAM,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACnD,yBAAyB,EAAE,IAAI;YAC/B,WAAW,EAAE,mBAAmB;YAChC,YAAY,EAAE,KAAK;YACnB,UAAU,EAAE,oBAAoB,CAAC,CAAC,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;YACrD,sBAAsB,EAAE,KAAK;SAC7B,CAAC,CAAC,CAAC;QAEJ,MAAM,QAAQ,GAAG,uBAAuB,CAAC,MAAM,CAAC,CAAC;QACjD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,qFAAqF,EAAE,KAAK,IAAI,EAAE;QAEtG,MAAM,MAAM,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACnD,yBAAyB,EAAE,IAAI;YAC/B,WAAW,EAAE,mBAAmB;YAChC,YAAY,EAAE,KAAK;YACnB,UAAU,EAAE,oBAAoB,CAAC,CAAC,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;YACrD,sBAAsB,EAAE,KAAK;YAC7B,gBAAgB,EAAE,KAAK;SACvB,CAAC,CAAC,CAAC;QAEJ,MAAM,QAAQ,GAAG,uBAAuB,CAAC,MAAM,CAAC,CAAC;QACjD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,+CAA+C,EAAE,KAAK,IAAI,EAAE;QAEhE,MAAM,MAAM,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACnD,yBAAyB,EAAE,IAAI;YAC/B,WAAW,EAAE,uDAAuD;YACpE,YAAY,EAAE,KAAK;YACnB,UAAU,EAAE,oBAAoB,CAAC,CAAC,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;YACrD,sBAAsB,EAAE,KAAK;SAC7B,CAAC,CAAC,CAAC;QAEJ,MAAM,QAAQ,GAAG,uBAAuB,CAAC,MAAM,CAAC,CAAC;QACjD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,kEAAkE,EAAE,KAAK,IAAI,EAAE;QAEnF,MAAM,MAAM,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACnD,yBAAyB,EAAE,IAAI;YAC/B,WAAW,EAAE,sGAAsG;YACnH,YAAY,EAAE,KAAK;YACnB,UAAU,EAAE,oBAAoB,CAAC,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YACtD,sBAAsB,EAAE,KAAK;SAC7B,CAAC,CAAC,CAAC;QAEJ,MAAM,QAAQ,GAAG,uBAAuB,CAAC,MAAM,CAAC,CAAC;QACjD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,gEAAgE,EAAE,KAAK,IAAI,EAAE;QAEjF,MAAM,MAAM,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACnD,yBAAyB,EAAE,IAAI;YAC/B,WAAW,EAAE,2GAA2G;YACxH,YAAY,EAAE,KAAK;YACnB,UAAU,EAAE,oBAAoB,CAAC,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YACtD,sBAAsB,EAAE,KAAK;SAC7B,CAAC,CAAC,CAAC;QAEJ,MAAM,QAAQ,GAAG,uBAAuB,CAAC,MAAM,CAAC,CAAC;QACjD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,8GAA8G,EAAE,KAAK,IAAI,EAAE;QAC/H,MAAM,MAAM,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACnD,yBAAyB,EAAE,IAAI;YAC/B,WAAW,EAAE,6DAA6D;YAC1E,wBAAwB,EAAE,IAAI;YAC9B,UAAU,EAAE,oBAAoB,CAAC,CAAC,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;YACrD,sBAAsB,EAAE,KAAK;YAC7B,gBAAgB,EAAE,UAAU;SAC5B,CAAC,CAAC,CAAC;QAEJ,MAAM,QAAQ,GAAG,uBAAuB,CAAC,MAAM,CAAC,CAAC;QACjD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,+EAA+E,EAAE,KAAK,IAAI,EAAE;QAChG,MAAM,MAAM,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACnD,8BAA8B,EAAE,KAAK;YACrC,WAAW,EAAE,oMAAoM;YACjN,UAAU,EAAE,oBAAoB,CAAC,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YACtD,sBAAsB,EAAE,KAAK;YAC7B,aAAa,EAAE,IAAI;SACnB,CAAC,CAAC,CAAC;QAEJ,MAAM,QAAQ,GAAG,uBAAuB,CAAC,MAAM,CAAC,CAAC;QACjD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,8FAA8F,EAAE,KAAK,IAAI,EAAE;QAC/G,MAAM,MAAM,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACnD,8BAA8B,EAAE,KAAK;YACrC,WAAW,EAAE,8JAA8J;YAC3K,UAAU,EAAE,oBAAoB,CAAC,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YACtD,sBAAsB,EAAE,KAAK;YAC7B,aAAa,EAAE,IAAI;SACnB,CAAC,CAAC,CAAC;QAEJ,MAAM,QAAQ,GAAG,uBAAuB,CAAC,MAAM,CAAC,CAAC;QACjD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,kFAAkF,EAAE,KAAK,IAAI,EAAE;QACnG,MAAM,MAAM,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACnD,WAAW,EAAE,oDAAoD;YACjE,UAAU,EAAE,oBAAoB,CAAC;gBAChC,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;gBACjB,UAAU,CAAC,EAAE,EAAE,EAAE,CAAC;gBAClB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;gBACjB,UAAU,CAAC,EAAE,EAAE,EAAE,CAAC;gBAClB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;gBACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;gBACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;gBACjB,UAAU,CAAC,EAAE,EAAE,EAAE,CAAC;gBAClB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;gBACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;gBACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;gBACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;gBACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;gBACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;gBACjB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;gBACjB,UAAU,CAAC,EAAE,EAAE,EAAE,CAAC;gBAClB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;gBACjB,UAAU,CAAC,EAAE,EAAE,EAAE,CAAC;aAClB,CAAC;YACF,sBAAsB,EAAE,KAAK;YAC7B,gBAAgB,EAAE,WAAW;YAC7B,gBAAgB,EAAE,CAAC,IAAI,WAAW,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;YAC1C,WAAW,EAAE,EAAE;YACf,aAAa,EAAE,EAAE;SACjB,CAAC,CAAC,CAAC;QAEJ,MAAM,QAAQ,GAAG,uBAAuB,CAAC,MAAM,CAAC,CAAC;QACjD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,8EAA8E,EAAE,KAAK,IAAI,EAAE;QAC/F,MAAM,MAAM,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACnD,8BAA8B,EAAE,KAAK;YACrC,WAAW,EAAE,GAAG,GAAG,MAAM,CAAC,YAAY,CAAC,GAAG,CAAC,GAAG,KAAK,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC,GAAG,GAAG;YAClF,UAAU,EAAE,oBAAoB,CAAC,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YACpD,sBAAsB,EAAE,KAAK;YAC7B,uBAAuB,EAAE,IAAI;YAC7B,aAAa,EAAE,IAAI;SACnB,CAAC,CAAC,CAAC;QAEJ,MAAM,QAAQ,GAAG,uBAAuB,CAAC,MAAM,CAAC,CAAC;QACjD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,8DAA8D,EAAE,KAAK,IAAI,EAAE;QAC/E,MAAM,MAAM,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACnD,8BAA8B,EAAE,KAAK;YACrC,WAAW,EAAE,wBAAwB,MAAM,CAAC,YAAY,CAAC,MAAM,CAAC,YAAY,MAAM,CAAC,YAAY,CAAC,MAAM,CAAC,UAAU;YACjH,YAAY,EAAE,KAAK;YACnB,UAAU,EAAE,oBAAoB,CAAC,CAAC,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;YACrD,sBAAsB,EAAE,KAAK;YAC7B,uBAAuB,EAAE,IAAI;SAC7B,CAAC,CAAC,CAAC;QAEJ,MAAM,QAAQ,GAAG,uBAAuB,CAAC,MAAM,CAAC,CAAC;QACjD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,iEAAiE,EAAE,KAAK,IAAI,EAAE;QAClF,MAAM,MAAM,GAAG,cAAc,CAAC,qBAAqB,CAAC;YACnD,yBAAyB,EAAE,IAAI;YAC/B,8BAA8B,EAAE,KAAK;YACrC,WAAW,EAAE,QAAQ;YACrB,UAAU,EAAE,oBAAoB,CAAC,CAAC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YACtE,eAAe,EAAE;gBAChB,IAAI,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,8EAA8E,sCAA8B;gBACrI,IAAI,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,8EAA8E,qCAA6B;gBACpI,IAAI,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,oBAAoB,qCAA6B;aAC1E;YACD,sBAAsB,EAAE,KAAK;YAC7B,gBAAgB,EAAE,KAAK;SACvB,CAAC,CAAC,CAAC;QAEJ,MAAM,QAAQ,GAAG,uBAAuB,CAAC,MAAM,CAAC,CAAC;QACjD,MAAM,cAAc,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;QAC7D,MAAM,cAAc,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC,CAAC,CAAC;IAEH,SAAS,mCAAmC,CAAC,WAAmB,EAAE,OAAe,EAAE,KAAsB,EAAE,mBAA6B;QACvI,MAAM,gBAAgB,GAAG,cAAc,CAAC,qBAAqB,CAAC;YAC7D,WAAW;YACX,OAAO;YACP,UAAU,EAAE,oBAAoB,CAAC,KAAK,CAAC;SACvC,CAAC,CAAC,CAAC;QAEJ,OAAO,CAAC,SAAiB,EAAE,UAAkB,EAAE,MAAc,EAAE,QAAgB,EAAE,EAAE;YAClF,MAAM,YAAY,GAAG,gBAAgB,CAAC,gBAAgB,CAAC,SAAS,CAAC,IAAI,WAAW,CAAC,SAAS,EAAE,MAAM,CAAC,EAAE,UAAU,CAAC,CAAC;YACjH,MAAM,CAAC,WAAW,CAAC,YAAY,EAAE,QAAQ,EAAE,gBAAgB,GAAG,SAAS,GAAG,IAAI,GAAG,MAAM,CAAC,CAAC;QAC1F,CAAC,CAAC;IACH,CAAC;IAED,IAAI,CAAC,2CAA2C,EAAE,GAAG,EAAE;QACtD,MAAM,6BAA6B,GAAG,mCAAmC,CACxE,aAAa,EACb,CAAC,EACD;YACC,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;SACjB,EACD,CAAC,EAAE,CAAC,CACJ,CAAC;QACF,6BAA6B,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC3C,6BAA6B,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC3C,6BAA6B,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC3C,6BAA6B,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC3C,6BAA6B,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC3C,6BAA6B,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC3C,6BAA6B,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC3C,6BAA6B,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC3C,6BAA6B,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC3C,6BAA6B,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;QAC5C,6BAA6B,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QAC7C,6BAA6B,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;IAC9C,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,0CAA0C,EAAE,GAAG,EAAE;QACrD,MAAM,6BAA6B,GAAG,mCAAmC,CACxE,YAAY,EACZ,CAAC,EACD;YACC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;SACjB,EACD,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAClB,CAAC;QACF,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;QAC3C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;QAC3C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;IAC5C,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,mDAAmD,EAAE,GAAG,EAAE;QAC9D,MAAM,6BAA6B,GAAG,mCAAmC,CACxE,IAAI,EACJ,CAAC,EACD;YACC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;SAChB,EACD,CAAC,CAAC,CAAC,CACH,CAAC;QACF,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3C,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,8DAA8D,EAAE,GAAG,EAAE;QACzE,MAAM,6BAA6B,GAAG,mCAAmC,CACxE,YAAY,EACZ,CAAC,EACD;YACC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;SAChB,EACD,CAAC,CAAC,EAAE,CAAC,CAAC,CACN,CAAC;QACF,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;IAC5C,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,+DAA+D,EAAE,GAAG,EAAE;QAC1E,MAAM,6BAA6B,GAAG,mCAAmC,CACxE,cAAc,EACd,CAAC,EACD;YACC,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC;YAChB,UAAU,CAAC,EAAE,EAAE,CAAC,CAAC;SACjB,EACD,CAAC,CAAC,EAAE,CAAC,CAAC,CACN,CAAC;QACF,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;QAC3C,6BAA6B,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;IAC5C,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC,CAAC","file":"viewLineRenderer.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { CharCode } from '../../../../base/common/charCode.js';\nimport * as strings from '../../../../base/common/strings.js';\nimport { assertSnapshot } from '../../../../base/test/common/snapshot.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\nimport { OffsetRange } from '../../../common/core/ranges/offsetRange.js';\nimport { MetadataConsts } from '../../../common/encodedTokenAttributes.js';\nimport { IViewLineTokens } from '../../../common/tokens/lineTokens.js';\nimport { LineDecoration } from '../../../common/viewLayout/lineDecorations.js';\nimport { CharacterMapping, DomPosition, IRenderLineInputOptions, RenderLineInput, RenderLineOutput2, renderViewLine2 as renderViewLine } from '../../../common/viewLayout/viewLineRenderer.js';\nimport { InlineDecorationType } from '../../../common/viewModel/inlineDecorations.js';\nimport { TestLineToken, TestLineTokens } from '../core/testLineToken.js';\n\nconst HTML_EXTENSION = { extension: 'html' };\n\nfunction createViewLineTokens(viewLineTokens: TestLineToken[]): IViewLineTokens {\n\treturn new TestLineTokens(viewLineTokens);\n}\n\nfunction createPart(endIndex: number, foreground: number): TestLineToken {\n\treturn new TestLineToken(endIndex, (\n\t\tforeground << MetadataConsts.FOREGROUND_OFFSET\n\t) >>> 0);\n}\n\nfunction inflateRenderLineOutput(renderLineOutput: RenderLineOutput2) {\n\t// remove encompassing <span> to simplify test writing.\n\tlet html = renderLineOutput.html;\n\tif (html.startsWith('<span>')) {\n\t\thtml = html.replace(/^<span>/, '');\n\t}\n\thtml = html.replace(/<\\/span>$/, '');\n\tconst spans: string[] = [];\n\tlet lastIndex = 0;\n\tdo {\n\t\tconst newIndex = html.indexOf('<span', lastIndex + 1);\n\t\tif (newIndex === -1) {\n\t\t\tbreak;\n\t\t}\n\t\tspans.push(html.substring(lastIndex, newIndex));\n\t\tlastIndex = newIndex;\n\t} while (true);\n\tspans.push(html.substring(lastIndex));\n\n\treturn {\n\t\thtml: spans,\n\t\tmapping: renderLineOutput.characterMapping.inflate(),\n\t};\n}\n\ntype IRelaxedRenderLineInputOptions = Partial<IRenderLineInputOptions>;\n\nconst defaultRenderLineInputOptions: IRenderLineInputOptions = {\n\tuseMonospaceOptimizations: false,\n\tcanUseHalfwidthRightwardsArrow: true,\n\tlineContent: '',\n\tcontinuesWithWrappedLine: false,\n\tisBasicASCII: true,\n\tcontainsRTL: false,\n\tfauxIndentLength: 0,\n\tlineTokens: createViewLineTokens([]),\n\tlineDecorations: [],\n\ttabSize: 4,\n\tstartVisibleColumn: 0,\n\tspaceWidth: 10,\n\tmiddotWidth: 10,\n\twsmiddotWidth: 10,\n\tstopRenderingLineAfter: -1,\n\trenderWhitespace: 'none',\n\trenderControlCharacters: false,\n\tfontLigatures: false,\n\tselectionsOnLine: null,\n\ttextDirection: null,\n\tverticalScrollbarSize: 14,\n\trenderNewLineWhenEmpty: false\n};\n\nfunction createRenderLineInputOptions(opts: IRelaxedRenderLineInputOptions): IRenderLineInputOptions {\n\treturn {\n\t\t...defaultRenderLineInputOptions,\n\t\t...opts\n\t};\n}\n\nfunction createRenderLineInput(opts: IRelaxedRenderLineInputOptions): RenderLineInput {\n\tconst options = createRenderLineInputOptions(opts);\n\treturn new RenderLineInput(\n\t\toptions.useMonospaceOptimizations,\n\t\toptions.canUseHalfwidthRightwardsArrow,\n\t\toptions.lineContent,\n\t\toptions.continuesWithWrappedLine,\n\t\toptions.isBasicASCII,\n\t\toptions.containsRTL,\n\t\toptions.fauxIndentLength,\n\t\toptions.lineTokens,\n\t\toptions.lineDecorations,\n\t\toptions.tabSize,\n\t\toptions.startVisibleColumn,\n\t\toptions.spaceWidth,\n\t\toptions.middotWidth,\n\t\toptions.wsmiddotWidth,\n\t\toptions.stopRenderingLineAfter,\n\t\toptions.renderWhitespace,\n\t\toptions.renderControlCharacters,\n\t\toptions.fontLigatures,\n\t\toptions.selectionsOnLine,\n\t\toptions.textDirection,\n\t\toptions.verticalScrollbarSize,\n\t\toptions.renderNewLineWhenEmpty\n\t);\n}\n\nsuite('viewLineRenderer.renderLine', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tfunction assertCharacterReplacement(lineContent: string, tabSize: number, expected: string, expectedCharOffsetInPart: number[]): void {\n\t\tconst _actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent,\n\t\t\tisBasicASCII: strings.isBasicASCII(lineContent),\n\t\t\tlineTokens: createViewLineTokens([new TestLineToken(lineContent.length, 0)]),\n\t\t\ttabSize,\n\t\t\tspaceWidth: 0,\n\t\t\tmiddotWidth: 0,\n\t\t\twsmiddotWidth: 0\n\t\t}));\n\n\t\tassert.strictEqual(_actual.html, '<span><span class=\"mtk0\">' + expected + '</span></span>');\n\t\tconst info = expectedCharOffsetInPart.map<CharacterMappingInfo>((absoluteOffset) => [absoluteOffset, [0, absoluteOffset]]);\n\t\tassertCharacterMapping3(_actual.characterMapping, info);\n\t}\n\n\ttest('replaces spaces', () => {\n\t\tassertCharacterReplacement(' ', 4, '\\u00a0', [0, 1]);\n\t\tassertCharacterReplacement('  ', 4, '\\u00a0\\u00a0', [0, 1, 2]);\n\t\tassertCharacterReplacement('a  b', 4, 'a\\u00a0\\u00a0b', [0, 1, 2, 3, 4]);\n\t});\n\n\ttest('escapes HTML markup', () => {\n\t\tassertCharacterReplacement('a<b', 4, 'a&lt;b', [0, 1, 2, 3]);\n\t\tassertCharacterReplacement('a>b', 4, 'a&gt;b', [0, 1, 2, 3]);\n\t\tassertCharacterReplacement('a&b', 4, 'a&amp;b', [0, 1, 2, 3]);\n\t});\n\n\ttest('replaces some bad characters', () => {\n\t\tassertCharacterReplacement('a\\0b', 4, 'a&#00;b', [0, 1, 2, 3]);\n\t\tassertCharacterReplacement('a' + String.fromCharCode(CharCode.UTF8_BOM) + 'b', 4, 'a\\ufffdb', [0, 1, 2, 3]);\n\t\tassertCharacterReplacement('a\\u2028b', 4, 'a\\ufffdb', [0, 1, 2, 3]);\n\t});\n\n\ttest('handles tabs', () => {\n\t\tassertCharacterReplacement('\\t', 4, '\\u00a0\\u00a0\\u00a0\\u00a0', [0, 4]);\n\t\tassertCharacterReplacement('x\\t', 4, 'x\\u00a0\\u00a0\\u00a0', [0, 1, 4]);\n\t\tassertCharacterReplacement('xx\\t', 4, 'xx\\u00a0\\u00a0', [0, 1, 2, 4]);\n\t\tassertCharacterReplacement('xxx\\t', 4, 'xxx\\u00a0', [0, 1, 2, 3, 4]);\n\t\tassertCharacterReplacement('xxxx\\t', 4, 'xxxx\\u00a0\\u00a0\\u00a0\\u00a0', [0, 1, 2, 3, 4, 8]);\n\t});\n\n\tfunction assertParts(lineContent: string, tabSize: number, parts: TestLineToken[], expected: string, info: CharacterMappingInfo[]): void {\n\t\tconst _actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent,\n\t\t\tlineTokens: createViewLineTokens(parts),\n\t\t\ttabSize,\n\t\t\tspaceWidth: 0,\n\t\t\tmiddotWidth: 0,\n\t\t\twsmiddotWidth: 0\n\t\t}));\n\n\t\tassert.strictEqual(_actual.html, '<span>' + expected + '</span>');\n\t\tassertCharacterMapping3(_actual.characterMapping, info);\n\t}\n\n\ttest('empty line', () => {\n\t\tassertParts('', 4, [], '<span></span>', []);\n\t});\n\n\ttest('uses part type', () => {\n\t\tassertParts('x', 4, [createPart(1, 10)], '<span class=\"mtk10\">x</span>', [[0, [0, 0]], [1, [0, 1]]]);\n\t\tassertParts('x', 4, [createPart(1, 20)], '<span class=\"mtk20\">x</span>', [[0, [0, 0]], [1, [0, 1]]]);\n\t\tassertParts('x', 4, [createPart(1, 30)], '<span class=\"mtk30\">x</span>', [[0, [0, 0]], [1, [0, 1]]]);\n\t});\n\n\ttest('two parts', () => {\n\t\tassertParts('xy', 4, [createPart(1, 1), createPart(2, 2)], '<span class=\"mtk1\">x</span><span class=\"mtk2\">y</span>', [[0, [0, 0]], [1, [1, 0]], [2, [1, 1]]]);\n\t\tassertParts('xyz', 4, [createPart(1, 1), createPart(3, 2)], '<span class=\"mtk1\">x</span><span class=\"mtk2\">yz</span>', [[0, [0, 0]], [1, [1, 0]], [2, [1, 1]], [3, [1, 2]]]);\n\t\tassertParts('xyz', 4, [createPart(2, 1), createPart(3, 2)], '<span class=\"mtk1\">xy</span><span class=\"mtk2\">z</span>', [[0, [0, 0]], [1, [0, 1]], [2, [1, 0]], [3, [1, 1]]]);\n\t});\n\n\ttest('overflow', async () => {\n\t\tconst _actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent: 'Hello world!',\n\t\t\tlineTokens: createViewLineTokens([\n\t\t\t\tcreatePart(1, 0),\n\t\t\t\tcreatePart(2, 1),\n\t\t\t\tcreatePart(3, 2),\n\t\t\t\tcreatePart(4, 3),\n\t\t\t\tcreatePart(5, 4),\n\t\t\t\tcreatePart(6, 5),\n\t\t\t\tcreatePart(7, 6),\n\t\t\t\tcreatePart(8, 7),\n\t\t\t\tcreatePart(9, 8),\n\t\t\t\tcreatePart(10, 9),\n\t\t\t\tcreatePart(11, 10),\n\t\t\t\tcreatePart(12, 11),\n\t\t\t]),\n\t\t\tstopRenderingLineAfter: 6,\n\t\t\trenderWhitespace: 'boundary'\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(_actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('typical line', async () => {\n\t\tconst lineContent = '\\t    export class Game { // http://test.com     ';\n\t\tconst lineTokens = createViewLineTokens([\n\t\t\tcreatePart(5, 1),\n\t\t\tcreatePart(11, 2),\n\t\t\tcreatePart(12, 3),\n\t\t\tcreatePart(17, 4),\n\t\t\tcreatePart(18, 5),\n\t\t\tcreatePart(22, 6),\n\t\t\tcreatePart(23, 7),\n\t\t\tcreatePart(24, 8),\n\t\t\tcreatePart(25, 9),\n\t\t\tcreatePart(28, 10),\n\t\t\tcreatePart(43, 11),\n\t\t\tcreatePart(48, 12),\n\t\t]);\n\t\tconst _actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent,\n\t\t\tlineTokens,\n\t\t\trenderWhitespace: 'boundary'\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(_actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #2255: Weird line rendering part 1', async () => {\n\t\tconst lineContent = '\\t\\t\\tcursorStyle:\\t\\t\\t\\t\\t\\t(prevOpts.cursorStyle !== newOpts.cursorStyle),';\n\t\tconst lineTokens = createViewLineTokens([\n\t\t\tcreatePart(3, 1), // 3 chars\n\t\t\tcreatePart(15, 2), // 12 chars\n\t\t\tcreatePart(21, 3), // 6 chars\n\t\t\tcreatePart(22, 4), // 1 char\n\t\t\tcreatePart(43, 5), // 21 chars\n\t\t\tcreatePart(45, 6), // 2 chars\n\t\t\tcreatePart(46, 7), // 1 char\n\t\t\tcreatePart(66, 8), // 20 chars\n\t\t\tcreatePart(67, 9), // 1 char\n\t\t\tcreatePart(68, 10), // 2 chars\n\t\t]);\n\t\tconst _actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent,\n\t\t\tlineTokens\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(_actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #2255: Weird line rendering part 2', async () => {\n\t\tconst lineContent = ' \\t\\t\\tcursorStyle:\\t\\t\\t\\t\\t\\t(prevOpts.cursorStyle !== newOpts.cursorStyle),';\n\n\t\tconst lineTokens = createViewLineTokens([\n\t\t\tcreatePart(4, 1), // 4 chars\n\t\t\tcreatePart(16, 2), // 12 chars\n\t\t\tcreatePart(22, 3), // 6 chars\n\t\t\tcreatePart(23, 4), // 1 char\n\t\t\tcreatePart(44, 5), // 21 chars\n\t\t\tcreatePart(46, 6), // 2 chars\n\t\t\tcreatePart(47, 7), // 1 char\n\t\t\tcreatePart(67, 8), // 20 chars\n\t\t\tcreatePart(68, 9), // 1 char\n\t\t\tcreatePart(69, 10), // 2 chars\n\t\t]);\n\t\tconst _actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent,\n\t\t\tlineTokens\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(_actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #91178: after decoration type shown before cursor', async () => {\n\t\tconst lineContent = '//just a comment';\n\t\tconst lineTokens = createViewLineTokens([\n\t\t\tcreatePart(16, 1)\n\t\t]);\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: true,\n\t\t\tcanUseHalfwidthRightwardsArrow: false,\n\t\t\tlineContent,\n\t\t\tlineTokens,\n\t\t\tlineDecorations: [\n\t\t\t\tnew LineDecoration(13, 13, 'dec1', InlineDecorationType.After),\n\t\t\t\tnew LineDecoration(13, 13, 'dec2', InlineDecorationType.Before),\n\t\t\t]\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue microsoft/monaco-editor#280: Improved source code rendering for RTL languages', async () => {\n\t\tconst lineContent = 'var  = \\\"  \\' ,     , \\\";';\n\t\tconst lineTokens = createViewLineTokens([\n\t\t\tcreatePart(3, 6),\n\t\t\tcreatePart(13, 1),\n\t\t\tcreatePart(66, 20),\n\t\t\tcreatePart(67, 1),\n\t\t]);\n\t\tconst _actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent,\n\t\t\tisBasicASCII: false,\n\t\t\tcontainsRTL: true,\n\t\t\tlineTokens\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(_actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #137036: Issue in RTL languages in recent versions', async () => {\n\t\tconst lineContent = '<option value=\\\"\\\"></option>';\n\t\tconst lineTokens = createViewLineTokens([\n\t\t\tcreatePart(1, 2),\n\t\t\tcreatePart(7, 3),\n\t\t\tcreatePart(8, 4),\n\t\t\tcreatePart(13, 5),\n\t\t\tcreatePart(14, 4),\n\t\t\tcreatePart(23, 6),\n\t\t\tcreatePart(24, 2),\n\t\t\tcreatePart(31, 4),\n\t\t\tcreatePart(33, 2),\n\t\t\tcreatePart(39, 3),\n\t\t\tcreatePart(40, 2),\n\t\t]);\n\t\tconst _actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent,\n\t\t\tisBasicASCII: false,\n\t\t\tcontainsRTL: true,\n\t\t\tlineTokens\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(_actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #99589: Rendering whitespace influences bidi layout', async () => {\n\t\tconst lineContent = '    [\\\"  \\\",\\\" \\\"]';\n\t\tconst lineTokens = createViewLineTokens([\n\t\t\tcreatePart(5, 2),\n\t\t\tcreatePart(21, 3),\n\t\t\tcreatePart(22, 2),\n\t\t\tcreatePart(34, 3),\n\t\t\tcreatePart(35, 2),\n\t\t]);\n\t\tconst _actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: true,\n\t\t\tlineContent,\n\t\t\tisBasicASCII: false,\n\t\t\tcontainsRTL: true,\n\t\t\tlineTokens,\n\t\t\trenderWhitespace: 'all'\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(_actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #260239: HTML containing bidirectional text is rendered incorrectly', async () => {\n\t\t// Simulating HTML like: <p class=\"myclass\" title=\"\"> !</p>\n\t\t// The line contains both LTR (class=\"myclass\") and RTL (title=\"\") attribute values\n\t\tconst lineContent = '<p class=\"myclass\" title=\"\"> !</p>';\n\t\tconst lineTokens = createViewLineTokens([\n\t\t\tcreatePart(1, 1),   // <\n\t\t\tcreatePart(2, 2),   // p\n\t\t\tcreatePart(3, 3),   // (space)\n\t\t\tcreatePart(8, 4),   // class\n\t\t\tcreatePart(9, 5),   // =\n\t\t\tcreatePart(10, 6),  // \"\n\t\t\tcreatePart(17, 7),  // myclass\n\t\t\tcreatePart(18, 6),  // \"\n\t\t\tcreatePart(19, 3),  // (space)\n\t\t\tcreatePart(24, 4),  // title\n\t\t\tcreatePart(25, 5),  // =\n\t\t\tcreatePart(26, 6),  // \"\n\t\t\tcreatePart(32, 8),  //  (RTL text) - 6 Arabic characters from position 26-31\n\t\t\tcreatePart(33, 6),  // \" - closing quote at position 32\n\t\t\tcreatePart(34, 1),  // >\n\t\t\tcreatePart(47, 9),  //  ! (RTL text) - 13 characters from position 34-46\n\t\t\tcreatePart(48, 1),  // <\n\t\t\tcreatePart(49, 2),  // /\n\t\t\tcreatePart(50, 2),  // p\n\t\t\tcreatePart(51, 1),  // >\n\t\t]);\n\t\tconst _actual = renderViewLine(new RenderLineInput(\n\t\t\tfalse,\n\t\t\ttrue,\n\t\t\tlineContent,\n\t\t\tfalse,\n\t\t\tfalse,\n\t\t\ttrue,\n\t\t\t0,\n\t\t\tlineTokens,\n\t\t\t[],\n\t\t\t4,\n\t\t\t0,\n\t\t\t10,\n\t\t\t10,\n\t\t\t10,\n\t\t\t-1,\n\t\t\t'none',\n\t\t\tfalse,\n\t\t\tfalse,\n\t\t\tnull,\n\t\t\tnull,\n\t\t\t14\n\t\t));\n\n\t\tconst inflated = inflateRenderLineOutput(_actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #6885: Splits large tokens', async () => {\n\t\t//                                                                                                                  1         1         1\n\t\t//                        1         2         3         4         5         6         7         8         9         0         1         2\n\t\t//               1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234\n\t\tconst _lineText = 'This is just a long line that contains very interesting text. This is just a long line that contains very interesting text.';\n\n\t\tfunction assertSplitsTokens(message: string, lineContent: string, expectedOutput: string[]): void {\n\t\t\tconst lineTokens = createViewLineTokens([createPart(lineContent.length, 1)]);\n\t\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\t\tlineContent,\n\t\t\t\tlineTokens\n\t\t\t}));\n\t\t\tassert.strictEqual(actual.html, '<span>' + expectedOutput.join('') + '</span>', message);\n\t\t}\n\n\t\t// A token with 49 chars\n\t\t{\n\t\t\tassertSplitsTokens(\n\t\t\t\t'49 chars',\n\t\t\t\t_lineText.substr(0, 49),\n\t\t\t\t[\n\t\t\t\t\t'<span class=\"mtk1\">This\\u00a0is\\u00a0just\\u00a0a\\u00a0long\\u00a0line\\u00a0that\\u00a0contains\\u00a0very\\u00a0inter</span>',\n\t\t\t\t]\n\t\t\t);\n\t\t}\n\n\t\t// A token with 50 chars\n\t\t{\n\t\t\tassertSplitsTokens(\n\t\t\t\t'50 chars',\n\t\t\t\t_lineText.substr(0, 50),\n\t\t\t\t[\n\t\t\t\t\t'<span class=\"mtk1\">This\\u00a0is\\u00a0just\\u00a0a\\u00a0long\\u00a0line\\u00a0that\\u00a0contains\\u00a0very\\u00a0intere</span>',\n\t\t\t\t]\n\t\t\t);\n\t\t}\n\n\t\t// A token with 51 chars\n\t\t{\n\t\t\tassertSplitsTokens(\n\t\t\t\t'51 chars',\n\t\t\t\t_lineText.substr(0, 51),\n\t\t\t\t[\n\t\t\t\t\t'<span class=\"mtk1\">This\\u00a0is\\u00a0just\\u00a0a\\u00a0long\\u00a0line\\u00a0that\\u00a0contains\\u00a0very\\u00a0intere</span>',\n\t\t\t\t\t'<span class=\"mtk1\">s</span>',\n\t\t\t\t]\n\t\t\t);\n\t\t}\n\n\t\t// A token with 99 chars\n\t\t{\n\t\t\tassertSplitsTokens(\n\t\t\t\t'99 chars',\n\t\t\t\t_lineText.substr(0, 99),\n\t\t\t\t[\n\t\t\t\t\t'<span class=\"mtk1\">This\\u00a0is\\u00a0just\\u00a0a\\u00a0long\\u00a0line\\u00a0that\\u00a0contains\\u00a0very\\u00a0intere</span>',\n\t\t\t\t\t'<span class=\"mtk1\">sting\\u00a0text.\\u00a0This\\u00a0is\\u00a0just\\u00a0a\\u00a0long\\u00a0line\\u00a0that\\u00a0contain</span>',\n\t\t\t\t]\n\t\t\t);\n\t\t}\n\n\t\t// A token with 100 chars\n\t\t{\n\t\t\tassertSplitsTokens(\n\t\t\t\t'100 chars',\n\t\t\t\t_lineText.substr(0, 100),\n\t\t\t\t[\n\t\t\t\t\t'<span class=\"mtk1\">This\\u00a0is\\u00a0just\\u00a0a\\u00a0long\\u00a0line\\u00a0that\\u00a0contains\\u00a0very\\u00a0intere</span>',\n\t\t\t\t\t'<span class=\"mtk1\">sting\\u00a0text.\\u00a0This\\u00a0is\\u00a0just\\u00a0a\\u00a0long\\u00a0line\\u00a0that\\u00a0contains</span>',\n\t\t\t\t]\n\t\t\t);\n\t\t}\n\n\t\t// A token with 101 chars\n\t\t{\n\t\t\tassertSplitsTokens(\n\t\t\t\t'101 chars',\n\t\t\t\t_lineText.substr(0, 101),\n\t\t\t\t[\n\t\t\t\t\t'<span class=\"mtk1\">This\\u00a0is\\u00a0just\\u00a0a\\u00a0long\\u00a0line\\u00a0that\\u00a0contains\\u00a0very\\u00a0intere</span>',\n\t\t\t\t\t'<span class=\"mtk1\">sting\\u00a0text.\\u00a0This\\u00a0is\\u00a0just\\u00a0a\\u00a0long\\u00a0line\\u00a0that\\u00a0contains</span>',\n\t\t\t\t\t'<span class=\"mtk1\">\\u00a0</span>',\n\t\t\t\t]\n\t\t\t);\n\t\t}\n\t});\n\n\ttest('issue #21476: Does not split large tokens when ligatures are on', async () => {\n\t\t//                                                                                                                  1         1         1\n\t\t//                        1         2         3         4         5         6         7         8         9         0         1         2\n\t\t//               1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234\n\t\tconst _lineText = 'This is just a long line that contains very interesting text. This is just a long line that contains very interesting text.';\n\n\t\tfunction assertSplitsTokens(message: string, lineContent: string, expectedOutput: string[]): void {\n\t\t\tconst lineTokens = createViewLineTokens([createPart(lineContent.length, 1)]);\n\t\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\t\tlineContent,\n\t\t\t\tlineTokens,\n\t\t\t\tfontLigatures: true\n\t\t\t}));\n\t\t\tassert.strictEqual(actual.html, '<span>' + expectedOutput.join('') + '</span>', message);\n\t\t}\n\n\t\t// A token with 101 chars\n\t\t{\n\t\t\tassertSplitsTokens(\n\t\t\t\t'101 chars',\n\t\t\t\t_lineText.substr(0, 101),\n\t\t\t\t[\n\t\t\t\t\t'<span class=\"mtk1\">This\\u00a0is\\u00a0just\\u00a0a\\u00a0long\\u00a0line\\u00a0that\\u00a0contains\\u00a0very\\u00a0</span>',\n\t\t\t\t\t'<span class=\"mtk1\">interesting\\u00a0text.\\u00a0This\\u00a0is\\u00a0just\\u00a0a\\u00a0long\\u00a0line\\u00a0that\\u00a0</span>',\n\t\t\t\t\t'<span class=\"mtk1\">contains\\u00a0</span>',\n\t\t\t\t]\n\t\t\t);\n\t\t}\n\t});\n\n\ttest('issue #20624: Unaligned surrogate pairs are corrupted at multiples of 50 columns', async () => {\n\t\tconst lineContent = 'a';\n\t\tconst lineTokens = createViewLineTokens([createPart(lineContent.length, 1)]);\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent,\n\t\t\tisBasicASCII: false,\n\t\t\tlineTokens\n\t\t}));\n\n\t\tawait assertSnapshot(inflateRenderLineOutput(actual).html.join(''), HTML_EXTENSION);\n\t});\n\n\ttest('issue #6885: Does not split large tokens in RTL text', async () => {\n\t\tconst lineContent = '   ,    ,    .     ,    .     ,     ,    .    .';\n\t\tconst lineTokens = createViewLineTokens([createPart(lineContent.length, 1)]);\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent,\n\t\t\tisBasicASCII: false,\n\t\t\tcontainsRTL: true,\n\t\t\tlineTokens\n\t\t}));\n\n\t\tawait assertSnapshot(actual.html, HTML_EXTENSION);\n\t});\n\n\ttest('issue #95685: Uses unicode replacement character for Paragraph Separator', async () => {\n\t\tconst lineContent = 'var ftext = [\\u2029\"Und\", \"dann\", \"eines\"];';\n\t\tconst lineTokens = createViewLineTokens([createPart(lineContent.length, 1)]);\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent,\n\t\t\tisBasicASCII: false,\n\t\t\tlineTokens\n\t\t}));\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #19673: Monokai Theme bad-highlighting in line wrap', async () => {\n\t\tconst lineContent = '    MongoCallback<string>): void {';\n\t\tconst lineTokens = createViewLineTokens([\n\t\t\tcreatePart(17, 1),\n\t\t\tcreatePart(18, 2),\n\t\t\tcreatePart(24, 3),\n\t\t\tcreatePart(26, 4),\n\t\t\tcreatePart(27, 5),\n\t\t\tcreatePart(28, 6),\n\t\t\tcreatePart(32, 7),\n\t\t\tcreatePart(34, 8),\n\t\t]);\n\t\tconst _actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: true,\n\t\t\tlineContent,\n\t\t\tfauxIndentLength: 4,\n\t\t\tlineTokens\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(_actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n});\n\ntype CharacterMappingInfo = [number, [number, number]];\n\nfunction assertCharacterMapping3(actual: CharacterMapping, expectedInfo: CharacterMappingInfo[]): void {\n\tfor (let i = 0; i < expectedInfo.length; i++) {\n\t\tconst [horizontalOffset, [partIndex, charIndex]] = expectedInfo[i];\n\n\t\tconst actualDomPosition = actual.getDomPosition(i + 1);\n\t\tassert.deepStrictEqual(actualDomPosition, new DomPosition(partIndex, charIndex), `getDomPosition(${i + 1})`);\n\n\t\tlet partLength = charIndex + 1;\n\t\tfor (let j = i + 1; j < expectedInfo.length; j++) {\n\t\t\tconst [, [nextPartIndex, nextCharIndex]] = expectedInfo[j];\n\t\t\tif (nextPartIndex === partIndex) {\n\t\t\t\tpartLength = nextCharIndex + 1;\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tconst actualColumn = actual.getColumn(new DomPosition(partIndex, charIndex), partLength);\n\t\tassert.strictEqual(actualColumn, i + 1, `actual.getColumn(${partIndex}, ${charIndex})`);\n\n\t\tconst actualHorizontalOffset = actual.getHorizontalOffset(i + 1);\n\t\tassert.strictEqual(actualHorizontalOffset, horizontalOffset, `actual.getHorizontalOffset(${i + 1})`);\n\t}\n\n\tassert.strictEqual(actual.length, expectedInfo.length, `length mismatch`);\n}\n\nsuite('viewLineRenderer.renderLine 2', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tfunction testCreateLineParts(fontIsMonospace: boolean, lineContent: string, tokens: TestLineToken[], fauxIndentLength: number, renderWhitespace: 'none' | 'boundary' | 'selection' | 'trailing' | 'all', selections: OffsetRange[] | null) {\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: fontIsMonospace,\n\t\t\tlineContent,\n\t\t\tfauxIndentLength,\n\t\t\tlineTokens: createViewLineTokens(tokens),\n\t\t\trenderWhitespace,\n\t\t\tselectionsOnLine: selections\n\t\t}));\n\t\treturn inflateRenderLineOutput(actual);\n\t}\n\n\ttest('issue #18616: Inline decorations ending at the text length are no longer rendered', async () => {\n\t\tconst lineContent = 'https://microsoft.com';\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent,\n\t\t\tlineTokens: createViewLineTokens([createPart(21, 3)]),\n\t\t\tlineDecorations: [new LineDecoration(1, 22, 'link', InlineDecorationType.Regular)]\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #19207: Link in Monokai is not rendered correctly', async () => {\n\t\tconst lineContent = '\\'let url = `http://***/_api/web/lists/GetByTitle(\\\\\\'Teambuildingaanvragen\\\\\\')/items`;\\'';\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: true,\n\t\t\tlineContent,\n\t\t\tlineTokens: createViewLineTokens([\n\t\t\t\tcreatePart(49, 6),\n\t\t\t\tcreatePart(51, 4),\n\t\t\t\tcreatePart(72, 6),\n\t\t\t\tcreatePart(74, 4),\n\t\t\t\tcreatePart(84, 6),\n\t\t\t]),\n\t\t\tlineDecorations: [\n\t\t\t\tnew LineDecoration(13, 51, 'detected-link', InlineDecorationType.Regular)\n\t\t\t]\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('createLineParts simple', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t'Hello world!',\n\t\t\t[\n\t\t\t\tcreatePart(12, 1)\n\t\t\t],\n\t\t\t0,\n\t\t\t'none',\n\t\t\tnull\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts simple two tokens', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t'Hello world!',\n\t\t\t[\n\t\t\t\tcreatePart(6, 1),\n\t\t\t\tcreatePart(12, 2)\n\t\t\t],\n\t\t\t0,\n\t\t\t'none',\n\t\t\tnull\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace - 4 leading spaces', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t'    Hello world!    ',\n\t\t\t[\n\t\t\t\tcreatePart(4, 1),\n\t\t\t\tcreatePart(6, 2),\n\t\t\t\tcreatePart(20, 3)\n\t\t\t],\n\t\t\t0,\n\t\t\t'boundary',\n\t\t\tnull\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace - 8 leading spaces', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t'        Hello world!        ',\n\t\t\t[\n\t\t\t\tcreatePart(8, 1),\n\t\t\t\tcreatePart(10, 2),\n\t\t\t\tcreatePart(28, 3)\n\t\t\t],\n\t\t\t0,\n\t\t\t'boundary',\n\t\t\tnull\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace - 2 leading tabs', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t'\\t\\tHello world!\\t',\n\t\t\t[\n\t\t\t\tcreatePart(2, 1),\n\t\t\t\tcreatePart(4, 2),\n\t\t\t\tcreatePart(15, 3)\n\t\t\t],\n\t\t\t0,\n\t\t\t'boundary',\n\t\t\tnull\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace - mixed leading spaces and tabs', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t'  \\t\\t  Hello world! \\t  \\t   \\t    ',\n\t\t\t[\n\t\t\t\tcreatePart(6, 1),\n\t\t\t\tcreatePart(8, 2),\n\t\t\t\tcreatePart(31, 3)\n\t\t\t],\n\t\t\t0,\n\t\t\t'boundary',\n\t\t\tnull\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace skips faux indent', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t'\\t\\t  Hello world! \\t  \\t   \\t    ',\n\t\t\t[\n\t\t\t\tcreatePart(4, 1),\n\t\t\t\tcreatePart(6, 2),\n\t\t\t\tcreatePart(29, 3)\n\t\t\t],\n\t\t\t2,\n\t\t\t'boundary',\n\t\t\tnull\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts does not emit width for monospace fonts', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\ttrue,\n\t\t\t'\\t\\t  Hello world! \\t  \\t   \\t    ',\n\t\t\t[\n\t\t\t\tcreatePart(4, 1),\n\t\t\t\tcreatePart(6, 2),\n\t\t\t\tcreatePart(29, 3)\n\t\t\t],\n\t\t\t2,\n\t\t\t'boundary',\n\t\t\tnull\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace in middle but not for one space', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t'it  it it  it',\n\t\t\t[\n\t\t\t\tcreatePart(6, 1),\n\t\t\t\tcreatePart(7, 2),\n\t\t\t\tcreatePart(13, 3)\n\t\t\t],\n\t\t\t0,\n\t\t\t'boundary',\n\t\t\tnull\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace for all in middle', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t' Hello world!\\t',\n\t\t\t[\n\t\t\t\tcreatePart(4, 0),\n\t\t\t\tcreatePart(6, 1),\n\t\t\t\tcreatePart(14, 2)\n\t\t\t],\n\t\t\t0,\n\t\t\t'all',\n\t\t\tnull\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace for selection with no selections', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t' Hello world!\\t',\n\t\t\t[\n\t\t\t\tcreatePart(4, 0),\n\t\t\t\tcreatePart(6, 1),\n\t\t\t\tcreatePart(14, 2)\n\t\t\t],\n\t\t\t0,\n\t\t\t'selection',\n\t\t\tnull\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace for selection with whole line selection', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t' Hello world!\\t',\n\t\t\t[\n\t\t\t\tcreatePart(4, 0),\n\t\t\t\tcreatePart(6, 1),\n\t\t\t\tcreatePart(14, 2)\n\t\t\t],\n\t\t\t0,\n\t\t\t'selection',\n\t\t\t[new OffsetRange(0, 14)]\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace for selection with selection spanning part of whitespace', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t' Hello world!\\t',\n\t\t\t[\n\t\t\t\tcreatePart(4, 0),\n\t\t\t\tcreatePart(6, 1),\n\t\t\t\tcreatePart(14, 2)\n\t\t\t],\n\t\t\t0,\n\t\t\t'selection',\n\t\t\t[new OffsetRange(0, 5)]\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace for selection with multiple selections', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t' Hello world!\\t',\n\t\t\t[\n\t\t\t\tcreatePart(4, 0),\n\t\t\t\tcreatePart(6, 1),\n\t\t\t\tcreatePart(14, 2)\n\t\t\t],\n\t\t\t0,\n\t\t\t'selection',\n\t\t\t[new OffsetRange(0, 5), new OffsetRange(9, 14)]\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace for selection with multiple, initially unsorted selections', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t' Hello world!\\t',\n\t\t\t[\n\t\t\t\tcreatePart(4, 0),\n\t\t\t\tcreatePart(6, 1),\n\t\t\t\tcreatePart(14, 2)\n\t\t\t],\n\t\t\t0,\n\t\t\t'selection',\n\t\t\t[new OffsetRange(9, 14), new OffsetRange(0, 5)]\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace for selection with selections next to each other', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t' * S',\n\t\t\t[\n\t\t\t\tcreatePart(4, 0)\n\t\t\t],\n\t\t\t0,\n\t\t\t'selection',\n\t\t\t[new OffsetRange(0, 1), new OffsetRange(1, 2), new OffsetRange(2, 3)]\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace for trailing with leading, inner, and without trailing whitespace', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t' Hello world!',\n\t\t\t[\n\t\t\t\tcreatePart(4, 0),\n\t\t\t\tcreatePart(6, 1),\n\t\t\t\tcreatePart(14, 2)\n\t\t\t],\n\t\t\t0,\n\t\t\t'trailing',\n\t\t\tnull\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace for trailing with leading, inner, and trailing whitespace', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t' Hello world! \\t',\n\t\t\t[\n\t\t\t\tcreatePart(4, 0),\n\t\t\t\tcreatePart(6, 1),\n\t\t\t\tcreatePart(15, 2)\n\t\t\t],\n\t\t\t0,\n\t\t\t'trailing',\n\t\t\tnull\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace for trailing with 8 leading and 8 trailing whitespaces', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t'        Hello world!        ',\n\t\t\t[\n\t\t\t\tcreatePart(8, 1),\n\t\t\t\tcreatePart(10, 2),\n\t\t\t\tcreatePart(28, 3)\n\t\t\t],\n\t\t\t0,\n\t\t\t'trailing',\n\t\t\tnull\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace for trailing with line containing only whitespaces', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t' \\t ',\n\t\t\t[\n\t\t\t\tcreatePart(2, 0),\n\t\t\t\tcreatePart(3, 1),\n\t\t\t],\n\t\t\t0,\n\t\t\t'trailing',\n\t\t\tnull\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts can handle unsorted inline decorations', async () => {\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent: 'Hello world',\n\t\t\tlineTokens: createViewLineTokens([createPart(11, 0)]),\n\t\t\tlineDecorations: [\n\t\t\t\tnew LineDecoration(5, 7, 'a', InlineDecorationType.Regular),\n\t\t\t\tnew LineDecoration(1, 3, 'b', InlineDecorationType.Regular),\n\t\t\t\tnew LineDecoration(2, 8, 'c', InlineDecorationType.Regular),\n\t\t\t]\n\t\t}));\n\n\t\t// 01234567890\n\t\t// Hello world\n\t\t// ----aa-----\n\t\t// bb---------\n\t\t// -cccccc----\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #11485: Visible whitespace conflicts with before decorator attachment', async () => {\n\n\t\tconst lineContent = '\\tbla';\n\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent,\n\t\t\tlineTokens: createViewLineTokens([createPart(4, 3)]),\n\t\t\tlineDecorations: [new LineDecoration(1, 2, 'before', InlineDecorationType.Before)],\n\t\t\trenderWhitespace: 'all',\n\t\t\tfontLigatures: true\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #32436: Non-monospace font + visible whitespace + After decorator causes line to \"jump\"', async () => {\n\n\t\tconst lineContent = '\\tbla';\n\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent,\n\t\t\tlineTokens: createViewLineTokens([createPart(4, 3)]),\n\t\t\tlineDecorations: [new LineDecoration(2, 3, 'before', InlineDecorationType.Before)],\n\t\t\trenderWhitespace: 'all',\n\t\t\tfontLigatures: true\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #30133: Empty lines don\\'t render inline decorations', async () => {\n\n\t\tconst lineContent = '';\n\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent,\n\t\t\tlineTokens: createViewLineTokens([createPart(0, 3)]),\n\t\t\tlineDecorations: [new LineDecoration(1, 2, 'before', InlineDecorationType.Before)],\n\t\t\trenderWhitespace: 'all',\n\t\t\tfontLigatures: true\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #37208: Collapsing bullet point containing emoji in Markdown document results in [??] character', async () => {\n\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: true,\n\t\t\tlineContent: '  1. ',\n\t\t\tisBasicASCII: false,\n\t\t\tlineTokens: createViewLineTokens([createPart(7, 3)]),\n\t\t\tlineDecorations: [new LineDecoration(7, 8, 'inline-folded', InlineDecorationType.After)],\n\t\t\ttabSize: 2,\n\t\t\tstopRenderingLineAfter: 10000\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #37401 #40127: Allow both before and after decorations on empty line', async () => {\n\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: true,\n\t\t\tlineContent: '',\n\t\t\tlineTokens: createViewLineTokens([createPart(0, 3)]),\n\t\t\tlineDecorations: [\n\t\t\t\tnew LineDecoration(1, 1, 'before', InlineDecorationType.Before),\n\t\t\t\tnew LineDecoration(1, 1, 'after', InlineDecorationType.After),\n\t\t\t],\n\t\t\ttabSize: 2,\n\t\t\tstopRenderingLineAfter: 10000\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #118759: enable multiple text editor decorations in empty lines', async () => {\n\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: true,\n\t\t\tlineContent: '',\n\t\t\tlineTokens: createViewLineTokens([createPart(0, 3)]),\n\t\t\tlineDecorations: [\n\t\t\t\tnew LineDecoration(1, 1, 'after1', InlineDecorationType.After),\n\t\t\t\tnew LineDecoration(1, 1, 'after2', InlineDecorationType.After),\n\t\t\t\tnew LineDecoration(1, 1, 'before1', InlineDecorationType.Before),\n\t\t\t\tnew LineDecoration(1, 1, 'before2', InlineDecorationType.Before),\n\t\t\t],\n\t\t\ttabSize: 2,\n\t\t\tstopRenderingLineAfter: 10000\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #38935: GitLens end-of-line blame no longer rendering', async () => {\n\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: true,\n\t\t\tlineContent: '\\t}',\n\t\t\tlineTokens: createViewLineTokens([createPart(2, 3)]),\n\t\t\tlineDecorations: [\n\t\t\t\tnew LineDecoration(3, 3, 'ced-TextEditorDecorationType2-5e9b9b3f-3 ced-TextEditorDecorationType2-3', InlineDecorationType.Before),\n\t\t\t\tnew LineDecoration(3, 3, 'ced-TextEditorDecorationType2-5e9b9b3f-4 ced-TextEditorDecorationType2-4', InlineDecorationType.After),\n\t\t\t],\n\t\t\tstopRenderingLineAfter: 10000\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #136622: Inline decorations are not rendering on non-ASCII lines when renderControlCharacters is on', async () => {\n\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: true,\n\t\t\tlineContent: 'some text ',\n\t\t\tisBasicASCII: false,\n\t\t\tlineTokens: createViewLineTokens([createPart(11, 3)]),\n\t\t\tlineDecorations: [\n\t\t\t\tnew LineDecoration(5, 5, 'inlineDec1', InlineDecorationType.After),\n\t\t\t\tnew LineDecoration(6, 6, 'inlineDec2', InlineDecorationType.Before),\n\t\t\t],\n\t\t\tstopRenderingLineAfter: 10000,\n\t\t\trenderControlCharacters: true\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #22832: Consider fullwidth characters when rendering tabs', async () => {\n\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: true,\n\t\t\tlineContent: 'asd = \"\"\\t\\t#asd',\n\t\t\tisBasicASCII: false,\n\t\t\tlineTokens: createViewLineTokens([createPart(15, 3)]),\n\t\t\tstopRenderingLineAfter: 10000\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #22832: Consider fullwidth characters when rendering tabs (render whitespace)', async () => {\n\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: true,\n\t\t\tlineContent: 'asd = \"\"\\t\\t#asd',\n\t\t\tisBasicASCII: false,\n\t\t\tlineTokens: createViewLineTokens([createPart(15, 3)]),\n\t\t\tstopRenderingLineAfter: 10000,\n\t\t\trenderWhitespace: 'all'\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #22352: COMBINING ACUTE ACCENT (U+0301)', async () => {\n\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: true,\n\t\t\tlineContent: '12345689012345678901234568901234567890123456890ababa',\n\t\t\tisBasicASCII: false,\n\t\t\tlineTokens: createViewLineTokens([createPart(53, 3)]),\n\t\t\tstopRenderingLineAfter: 10000\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #22352: Partially Broken Complex Script Rendering of Tamil', async () => {\n\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: true,\n\t\t\tlineContent: ' JoyShare , , , ,     ',\n\t\t\tisBasicASCII: false,\n\t\t\tlineTokens: createViewLineTokens([createPart(100, 3)]),\n\t\t\tstopRenderingLineAfter: 10000\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #42700: Hindi characters are not being rendered properly', async () => {\n\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: true,\n\t\t\tlineContent: '                          ',\n\t\t\tisBasicASCII: false,\n\t\t\tlineTokens: createViewLineTokens([createPart(105, 3)]),\n\t\t\tstopRenderingLineAfter: 10000\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #38123: editor.renderWhitespace: \"boundary\" renders whitespace at line wrap point when line is wrapped', async () => {\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: true,\n\t\t\tlineContent: 'This is a long line which never uses more than two spaces. ',\n\t\t\tcontinuesWithWrappedLine: true,\n\t\t\tlineTokens: createViewLineTokens([createPart(59, 3)]),\n\t\t\tstopRenderingLineAfter: 10000,\n\t\t\trenderWhitespace: 'boundary'\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #33525: Long line with ligatures takes a long time to paint decorations', async () => {\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tcanUseHalfwidthRightwardsArrow: false,\n\t\t\tlineContent: 'append data to append data to append data to append data to append data to append data to append data to append data to append data to append data to append data to append data to append data to',\n\t\t\tlineTokens: createViewLineTokens([createPart(194, 3)]),\n\t\t\tstopRenderingLineAfter: 10000,\n\t\t\tfontLigatures: true\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #33525: Long line with ligatures takes a long time to paint decorations - not possible', async () => {\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tcanUseHalfwidthRightwardsArrow: false,\n\t\t\tlineContent: 'appenddatatoappenddatatoappenddatatoappenddatatoappenddatatoappenddatatoappenddatatoappenddatatoappenddatatoappenddatatoappenddatatoappenddatatoappenddatato',\n\t\t\tlineTokens: createViewLineTokens([createPart(194, 3)]),\n\t\t\tstopRenderingLineAfter: 10000,\n\t\t\tfontLigatures: true\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #91936: Semantic token color highlighting fails on line with selected text', async () => {\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent: '                    else if ($s = 08) then \\'\\\\b\\'',\n\t\t\tlineTokens: createViewLineTokens([\n\t\t\t\tcreatePart(20, 1),\n\t\t\t\tcreatePart(24, 15),\n\t\t\t\tcreatePart(25, 1),\n\t\t\t\tcreatePart(27, 15),\n\t\t\t\tcreatePart(28, 1),\n\t\t\t\tcreatePart(29, 1),\n\t\t\t\tcreatePart(29, 1),\n\t\t\t\tcreatePart(31, 16),\n\t\t\t\tcreatePart(32, 1),\n\t\t\t\tcreatePart(33, 1),\n\t\t\t\tcreatePart(34, 1),\n\t\t\t\tcreatePart(36, 6),\n\t\t\t\tcreatePart(36, 1),\n\t\t\t\tcreatePart(37, 1),\n\t\t\t\tcreatePart(38, 1),\n\t\t\t\tcreatePart(42, 15),\n\t\t\t\tcreatePart(43, 1),\n\t\t\t\tcreatePart(47, 11)\n\t\t\t]),\n\t\t\tstopRenderingLineAfter: 10000,\n\t\t\trenderWhitespace: 'selection',\n\t\t\tselectionsOnLine: [new OffsetRange(0, 47)],\n\t\t\tmiddotWidth: 11,\n\t\t\twsmiddotWidth: 11\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #119416: Delete Control Character (U+007F / &#127;) displayed as space', async () => {\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tcanUseHalfwidthRightwardsArrow: false,\n\t\t\tlineContent: '[' + String.fromCharCode(127) + '] [' + String.fromCharCode(0) + ']',\n\t\t\tlineTokens: createViewLineTokens([createPart(7, 3)]),\n\t\t\tstopRenderingLineAfter: 10000,\n\t\t\trenderControlCharacters: true,\n\t\t\tfontLigatures: true\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #116939: Important control characters aren\\'t rendered', async () => {\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tcanUseHalfwidthRightwardsArrow: false,\n\t\t\tlineContent: `transferBalance(5678,${String.fromCharCode(0x202E)}6776,4321${String.fromCharCode(0x202C)},\"USD\");`,\n\t\t\tisBasicASCII: false,\n\t\t\tlineTokens: createViewLineTokens([createPart(42, 3)]),\n\t\t\tstopRenderingLineAfter: 10000,\n\t\t\trenderControlCharacters: true\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #124038: Multiple end-of-line text decorations get merged', async () => {\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: true,\n\t\t\tcanUseHalfwidthRightwardsArrow: false,\n\t\t\tlineContent: '    if',\n\t\t\tlineTokens: createViewLineTokens([createPart(4, 1), createPart(6, 2)]),\n\t\t\tlineDecorations: [\n\t\t\t\tnew LineDecoration(7, 7, 'ced-1-TextEditorDecorationType2-17c14d98-3 ced-1-TextEditorDecorationType2-3', InlineDecorationType.Before),\n\t\t\t\tnew LineDecoration(7, 7, 'ced-1-TextEditorDecorationType2-17c14d98-4 ced-1-TextEditorDecorationType2-4', InlineDecorationType.After),\n\t\t\t\tnew LineDecoration(7, 7, 'ced-ghost-text-1-4', InlineDecorationType.After),\n\t\t\t],\n\t\t\tstopRenderingLineAfter: 10000,\n\t\t\trenderWhitespace: 'all'\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\tfunction createTestGetColumnOfLinePartOffset(lineContent: string, tabSize: number, parts: TestLineToken[], expectedPartLengths: number[]): (partIndex: number, partLength: number, offset: number, expected: number) => void {\n\t\tconst renderLineOutput = renderViewLine(createRenderLineInput({\n\t\t\tlineContent,\n\t\t\ttabSize,\n\t\t\tlineTokens: createViewLineTokens(parts)\n\t\t}));\n\n\t\treturn (partIndex: number, partLength: number, offset: number, expected: number) => {\n\t\t\tconst actualColumn = renderLineOutput.characterMapping.getColumn(new DomPosition(partIndex, offset), partLength);\n\t\t\tassert.strictEqual(actualColumn, expected, 'getColumn for ' + partIndex + ', ' + offset);\n\t\t};\n\t}\n\n\ttest('getColumnOfLinePartOffset 1 - simple text', () => {\n\t\tconst testGetColumnOfLinePartOffset = createTestGetColumnOfLinePartOffset(\n\t\t\t'hello world',\n\t\t\t4,\n\t\t\t[\n\t\t\t\tcreatePart(11, 1)\n\t\t\t],\n\t\t\t[11]\n\t\t);\n\t\ttestGetColumnOfLinePartOffset(0, 11, 0, 1);\n\t\ttestGetColumnOfLinePartOffset(0, 11, 1, 2);\n\t\ttestGetColumnOfLinePartOffset(0, 11, 2, 3);\n\t\ttestGetColumnOfLinePartOffset(0, 11, 3, 4);\n\t\ttestGetColumnOfLinePartOffset(0, 11, 4, 5);\n\t\ttestGetColumnOfLinePartOffset(0, 11, 5, 6);\n\t\ttestGetColumnOfLinePartOffset(0, 11, 6, 7);\n\t\ttestGetColumnOfLinePartOffset(0, 11, 7, 8);\n\t\ttestGetColumnOfLinePartOffset(0, 11, 8, 9);\n\t\ttestGetColumnOfLinePartOffset(0, 11, 9, 10);\n\t\ttestGetColumnOfLinePartOffset(0, 11, 10, 11);\n\t\ttestGetColumnOfLinePartOffset(0, 11, 11, 12);\n\t});\n\n\ttest('getColumnOfLinePartOffset 2 - regular JS', () => {\n\t\tconst testGetColumnOfLinePartOffset = createTestGetColumnOfLinePartOffset(\n\t\t\t'var x = 3;',\n\t\t\t4,\n\t\t\t[\n\t\t\t\tcreatePart(3, 1),\n\t\t\t\tcreatePart(4, 2),\n\t\t\t\tcreatePart(5, 3),\n\t\t\t\tcreatePart(8, 4),\n\t\t\t\tcreatePart(9, 5),\n\t\t\t\tcreatePart(10, 6),\n\t\t\t],\n\t\t\t[3, 1, 1, 3, 1, 1]\n\t\t);\n\t\ttestGetColumnOfLinePartOffset(0, 3, 0, 1);\n\t\ttestGetColumnOfLinePartOffset(0, 3, 1, 2);\n\t\ttestGetColumnOfLinePartOffset(0, 3, 2, 3);\n\t\ttestGetColumnOfLinePartOffset(0, 3, 3, 4);\n\t\ttestGetColumnOfLinePartOffset(1, 1, 0, 4);\n\t\ttestGetColumnOfLinePartOffset(1, 1, 1, 5);\n\t\ttestGetColumnOfLinePartOffset(2, 1, 0, 5);\n\t\ttestGetColumnOfLinePartOffset(2, 1, 1, 6);\n\t\ttestGetColumnOfLinePartOffset(3, 3, 0, 6);\n\t\ttestGetColumnOfLinePartOffset(3, 3, 1, 7);\n\t\ttestGetColumnOfLinePartOffset(3, 3, 2, 8);\n\t\ttestGetColumnOfLinePartOffset(3, 3, 3, 9);\n\t\ttestGetColumnOfLinePartOffset(4, 1, 0, 9);\n\t\ttestGetColumnOfLinePartOffset(4, 1, 1, 10);\n\t\ttestGetColumnOfLinePartOffset(5, 1, 0, 10);\n\t\ttestGetColumnOfLinePartOffset(5, 1, 1, 11);\n\t});\n\n\ttest('getColumnOfLinePartOffset 3 - tab with tab size 6', () => {\n\t\tconst testGetColumnOfLinePartOffset = createTestGetColumnOfLinePartOffset(\n\t\t\t'\\t',\n\t\t\t6,\n\t\t\t[\n\t\t\t\tcreatePart(1, 1)\n\t\t\t],\n\t\t\t[6]\n\t\t);\n\t\ttestGetColumnOfLinePartOffset(0, 6, 0, 1);\n\t\ttestGetColumnOfLinePartOffset(0, 6, 1, 1);\n\t\ttestGetColumnOfLinePartOffset(0, 6, 2, 1);\n\t\ttestGetColumnOfLinePartOffset(0, 6, 3, 1);\n\t\ttestGetColumnOfLinePartOffset(0, 6, 4, 2);\n\t\ttestGetColumnOfLinePartOffset(0, 6, 5, 2);\n\t\ttestGetColumnOfLinePartOffset(0, 6, 6, 2);\n\t});\n\n\ttest('getColumnOfLinePartOffset 4 - once indented line, tab size 4', () => {\n\t\tconst testGetColumnOfLinePartOffset = createTestGetColumnOfLinePartOffset(\n\t\t\t'\\tfunction',\n\t\t\t4,\n\t\t\t[\n\t\t\t\tcreatePart(1, 1),\n\t\t\t\tcreatePart(9, 2),\n\t\t\t],\n\t\t\t[4, 8]\n\t\t);\n\t\ttestGetColumnOfLinePartOffset(0, 4, 0, 1);\n\t\ttestGetColumnOfLinePartOffset(0, 4, 1, 1);\n\t\ttestGetColumnOfLinePartOffset(0, 4, 2, 1);\n\t\ttestGetColumnOfLinePartOffset(0, 4, 3, 2);\n\t\ttestGetColumnOfLinePartOffset(0, 4, 4, 2);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 0, 2);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 1, 3);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 2, 4);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 3, 5);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 4, 6);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 5, 7);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 6, 8);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 7, 9);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 8, 10);\n\t});\n\n\ttest('getColumnOfLinePartOffset 5 - twice indented line, tab size 4', () => {\n\t\tconst testGetColumnOfLinePartOffset = createTestGetColumnOfLinePartOffset(\n\t\t\t'\\t\\tfunction',\n\t\t\t4,\n\t\t\t[\n\t\t\t\tcreatePart(2, 1),\n\t\t\t\tcreatePart(10, 2),\n\t\t\t],\n\t\t\t[8, 8]\n\t\t);\n\t\ttestGetColumnOfLinePartOffset(0, 8, 0, 1);\n\t\ttestGetColumnOfLinePartOffset(0, 8, 1, 1);\n\t\ttestGetColumnOfLinePartOffset(0, 8, 2, 1);\n\t\ttestGetColumnOfLinePartOffset(0, 8, 3, 2);\n\t\ttestGetColumnOfLinePartOffset(0, 8, 4, 2);\n\t\ttestGetColumnOfLinePartOffset(0, 8, 5, 2);\n\t\ttestGetColumnOfLinePartOffset(0, 8, 6, 2);\n\t\ttestGetColumnOfLinePartOffset(0, 8, 7, 3);\n\t\ttestGetColumnOfLinePartOffset(0, 8, 8, 3);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 0, 3);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 1, 4);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 2, 5);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 3, 6);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 4, 7);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 5, 8);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 6, 9);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 7, 10);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 8, 11);\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { CharCode } from '../../../../base/common/charCode.js';\nimport * as strings from '../../../../base/common/strings.js';\nimport { assertSnapshot } from '../../../../base/test/common/snapshot.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\nimport { OffsetRange } from '../../../common/core/ranges/offsetRange.js';\nimport { MetadataConsts } from '../../../common/encodedTokenAttributes.js';\nimport { IViewLineTokens } from '../../../common/tokens/lineTokens.js';\nimport { LineDecoration } from '../../../common/viewLayout/lineDecorations.js';\nimport { CharacterMapping, DomPosition, IRenderLineInputOptions, RenderLineInput, RenderLineOutput2, renderViewLine2 as renderViewLine } from '../../../common/viewLayout/viewLineRenderer.js';\nimport { InlineDecorationType } from '../../../common/viewModel/inlineDecorations.js';\nimport { TestLineToken, TestLineTokens } from '../core/testLineToken.js';\n\nconst HTML_EXTENSION = { extension: 'html' };\n\nfunction createViewLineTokens(viewLineTokens: TestLineToken[]): IViewLineTokens {\n\treturn new TestLineTokens(viewLineTokens);\n}\n\nfunction createPart(endIndex: number, foreground: number): TestLineToken {\n\treturn new TestLineToken(endIndex, (\n\t\tforeground << MetadataConsts.FOREGROUND_OFFSET\n\t) >>> 0);\n}\n\nfunction inflateRenderLineOutput(renderLineOutput: RenderLineOutput2) {\n\t// remove encompassing <span> to simplify test writing.\n\tlet html = renderLineOutput.html;\n\tif (html.startsWith('<span>')) {\n\t\thtml = html.replace(/^<span>/, '');\n\t}\n\thtml = html.replace(/<\\/span>$/, '');\n\tconst spans: string[] = [];\n\tlet lastIndex = 0;\n\tdo {\n\t\tconst newIndex = html.indexOf('<span', lastIndex + 1);\n\t\tif (newIndex === -1) {\n\t\t\tbreak;\n\t\t}\n\t\tspans.push(html.substring(lastIndex, newIndex));\n\t\tlastIndex = newIndex;\n\t} while (true);\n\tspans.push(html.substring(lastIndex));\n\n\treturn {\n\t\thtml: spans,\n\t\tmapping: renderLineOutput.characterMapping.inflate(),\n\t};\n}\n\ntype IRelaxedRenderLineInputOptions = Partial<IRenderLineInputOptions>;\n\nconst defaultRenderLineInputOptions: IRenderLineInputOptions = {\n\tuseMonospaceOptimizations: false,\n\tcanUseHalfwidthRightwardsArrow: true,\n\tlineContent: '',\n\tcontinuesWithWrappedLine: false,\n\tisBasicASCII: true,\n\tcontainsRTL: false,\n\tfauxIndentLength: 0,\n\tlineTokens: createViewLineTokens([]),\n\tlineDecorations: [],\n\ttabSize: 4,\n\tstartVisibleColumn: 0,\n\tspaceWidth: 10,\n\tmiddotWidth: 10,\n\twsmiddotWidth: 10,\n\tstopRenderingLineAfter: -1,\n\trenderWhitespace: 'none',\n\trenderControlCharacters: false,\n\tfontLigatures: false,\n\tselectionsOnLine: null,\n\ttextDirection: null,\n\tverticalScrollbarSize: 14,\n\trenderNewLineWhenEmpty: false\n};\n\nfunction createRenderLineInputOptions(opts: IRelaxedRenderLineInputOptions): IRenderLineInputOptions {\n\treturn {\n\t\t...defaultRenderLineInputOptions,\n\t\t...opts\n\t};\n}\n\nfunction createRenderLineInput(opts: IRelaxedRenderLineInputOptions): RenderLineInput {\n\tconst options = createRenderLineInputOptions(opts);\n\treturn new RenderLineInput(\n\t\toptions.useMonospaceOptimizations,\n\t\toptions.canUseHalfwidthRightwardsArrow,\n\t\toptions.lineContent,\n\t\toptions.continuesWithWrappedLine,\n\t\toptions.isBasicASCII,\n\t\toptions.containsRTL,\n\t\toptions.fauxIndentLength,\n\t\toptions.lineTokens,\n\t\toptions.lineDecorations,\n\t\toptions.tabSize,\n\t\toptions.startVisibleColumn,\n\t\toptions.spaceWidth,\n\t\toptions.middotWidth,\n\t\toptions.wsmiddotWidth,\n\t\toptions.stopRenderingLineAfter,\n\t\toptions.renderWhitespace,\n\t\toptions.renderControlCharacters,\n\t\toptions.fontLigatures,\n\t\toptions.selectionsOnLine,\n\t\toptions.textDirection,\n\t\toptions.verticalScrollbarSize,\n\t\toptions.renderNewLineWhenEmpty\n\t);\n}\n\nsuite('viewLineRenderer.renderLine', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tfunction assertCharacterReplacement(lineContent: string, tabSize: number, expected: string, expectedCharOffsetInPart: number[]): void {\n\t\tconst _actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent,\n\t\t\tisBasicASCII: strings.isBasicASCII(lineContent),\n\t\t\tlineTokens: createViewLineTokens([new TestLineToken(lineContent.length, 0)]),\n\t\t\ttabSize,\n\t\t\tspaceWidth: 0,\n\t\t\tmiddotWidth: 0,\n\t\t\twsmiddotWidth: 0\n\t\t}));\n\n\t\tassert.strictEqual(_actual.html, '<span><span class=\"mtk0\">' + expected + '</span></span>');\n\t\tconst info = expectedCharOffsetInPart.map<CharacterMappingInfo>((absoluteOffset) => [absoluteOffset, [0, absoluteOffset]]);\n\t\tassertCharacterMapping3(_actual.characterMapping, info);\n\t}\n\n\ttest('replaces spaces', () => {\n\t\tassertCharacterReplacement(' ', 4, '\\u00a0', [0, 1]);\n\t\tassertCharacterReplacement('  ', 4, '\\u00a0\\u00a0', [0, 1, 2]);\n\t\tassertCharacterReplacement('a  b', 4, 'a\\u00a0\\u00a0b', [0, 1, 2, 3, 4]);\n\t});\n\n\ttest('escapes HTML markup', () => {\n\t\tassertCharacterReplacement('a<b', 4, 'a&lt;b', [0, 1, 2, 3]);\n\t\tassertCharacterReplacement('a>b', 4, 'a&gt;b', [0, 1, 2, 3]);\n\t\tassertCharacterReplacement('a&b', 4, 'a&amp;b', [0, 1, 2, 3]);\n\t});\n\n\ttest('replaces some bad characters', () => {\n\t\tassertCharacterReplacement('a\\0b', 4, 'a&#00;b', [0, 1, 2, 3]);\n\t\tassertCharacterReplacement('a' + String.fromCharCode(CharCode.UTF8_BOM) + 'b', 4, 'a\\ufffdb', [0, 1, 2, 3]);\n\t\tassertCharacterReplacement('a\\u2028b', 4, 'a\\ufffdb', [0, 1, 2, 3]);\n\t});\n\n\ttest('handles tabs', () => {\n\t\tassertCharacterReplacement('\\t', 4, '\\u00a0\\u00a0\\u00a0\\u00a0', [0, 4]);\n\t\tassertCharacterReplacement('x\\t', 4, 'x\\u00a0\\u00a0\\u00a0', [0, 1, 4]);\n\t\tassertCharacterReplacement('xx\\t', 4, 'xx\\u00a0\\u00a0', [0, 1, 2, 4]);\n\t\tassertCharacterReplacement('xxx\\t', 4, 'xxx\\u00a0', [0, 1, 2, 3, 4]);\n\t\tassertCharacterReplacement('xxxx\\t', 4, 'xxxx\\u00a0\\u00a0\\u00a0\\u00a0', [0, 1, 2, 3, 4, 8]);\n\t});\n\n\tfunction assertParts(lineContent: string, tabSize: number, parts: TestLineToken[], expected: string, info: CharacterMappingInfo[]): void {\n\t\tconst _actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent,\n\t\t\tlineTokens: createViewLineTokens(parts),\n\t\t\ttabSize,\n\t\t\tspaceWidth: 0,\n\t\t\tmiddotWidth: 0,\n\t\t\twsmiddotWidth: 0\n\t\t}));\n\n\t\tassert.strictEqual(_actual.html, '<span>' + expected + '</span>');\n\t\tassertCharacterMapping3(_actual.characterMapping, info);\n\t}\n\n\ttest('empty line', () => {\n\t\tassertParts('', 4, [], '<span></span>', []);\n\t});\n\n\ttest('uses part type', () => {\n\t\tassertParts('x', 4, [createPart(1, 10)], '<span class=\"mtk10\">x</span>', [[0, [0, 0]], [1, [0, 1]]]);\n\t\tassertParts('x', 4, [createPart(1, 20)], '<span class=\"mtk20\">x</span>', [[0, [0, 0]], [1, [0, 1]]]);\n\t\tassertParts('x', 4, [createPart(1, 30)], '<span class=\"mtk30\">x</span>', [[0, [0, 0]], [1, [0, 1]]]);\n\t});\n\n\ttest('two parts', () => {\n\t\tassertParts('xy', 4, [createPart(1, 1), createPart(2, 2)], '<span class=\"mtk1\">x</span><span class=\"mtk2\">y</span>', [[0, [0, 0]], [1, [1, 0]], [2, [1, 1]]]);\n\t\tassertParts('xyz', 4, [createPart(1, 1), createPart(3, 2)], '<span class=\"mtk1\">x</span><span class=\"mtk2\">yz</span>', [[0, [0, 0]], [1, [1, 0]], [2, [1, 1]], [3, [1, 2]]]);\n\t\tassertParts('xyz', 4, [createPart(2, 1), createPart(3, 2)], '<span class=\"mtk1\">xy</span><span class=\"mtk2\">z</span>', [[0, [0, 0]], [1, [0, 1]], [2, [1, 0]], [3, [1, 1]]]);\n\t});\n\n\ttest('overflow', async () => {\n\t\tconst _actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent: 'Hello world!',\n\t\t\tlineTokens: createViewLineTokens([\n\t\t\t\tcreatePart(1, 0),\n\t\t\t\tcreatePart(2, 1),\n\t\t\t\tcreatePart(3, 2),\n\t\t\t\tcreatePart(4, 3),\n\t\t\t\tcreatePart(5, 4),\n\t\t\t\tcreatePart(6, 5),\n\t\t\t\tcreatePart(7, 6),\n\t\t\t\tcreatePart(8, 7),\n\t\t\t\tcreatePart(9, 8),\n\t\t\t\tcreatePart(10, 9),\n\t\t\t\tcreatePart(11, 10),\n\t\t\t\tcreatePart(12, 11),\n\t\t\t]),\n\t\t\tstopRenderingLineAfter: 6,\n\t\t\trenderWhitespace: 'boundary'\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(_actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('typical line', async () => {\n\t\tconst lineContent = '\\t    export class Game { // http://test.com     ';\n\t\tconst lineTokens = createViewLineTokens([\n\t\t\tcreatePart(5, 1),\n\t\t\tcreatePart(11, 2),\n\t\t\tcreatePart(12, 3),\n\t\t\tcreatePart(17, 4),\n\t\t\tcreatePart(18, 5),\n\t\t\tcreatePart(22, 6),\n\t\t\tcreatePart(23, 7),\n\t\t\tcreatePart(24, 8),\n\t\t\tcreatePart(25, 9),\n\t\t\tcreatePart(28, 10),\n\t\t\tcreatePart(43, 11),\n\t\t\tcreatePart(48, 12),\n\t\t]);\n\t\tconst _actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent,\n\t\t\tlineTokens,\n\t\t\trenderWhitespace: 'boundary'\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(_actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #2255: Weird line rendering part 1', async () => {\n\t\tconst lineContent = '\\t\\t\\tcursorStyle:\\t\\t\\t\\t\\t\\t(prevOpts.cursorStyle !== newOpts.cursorStyle),';\n\t\tconst lineTokens = createViewLineTokens([\n\t\t\tcreatePart(3, 1), // 3 chars\n\t\t\tcreatePart(15, 2), // 12 chars\n\t\t\tcreatePart(21, 3), // 6 chars\n\t\t\tcreatePart(22, 4), // 1 char\n\t\t\tcreatePart(43, 5), // 21 chars\n\t\t\tcreatePart(45, 6), // 2 chars\n\t\t\tcreatePart(46, 7), // 1 char\n\t\t\tcreatePart(66, 8), // 20 chars\n\t\t\tcreatePart(67, 9), // 1 char\n\t\t\tcreatePart(68, 10), // 2 chars\n\t\t]);\n\t\tconst _actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent,\n\t\t\tlineTokens\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(_actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #2255: Weird line rendering part 2', async () => {\n\t\tconst lineContent = ' \\t\\t\\tcursorStyle:\\t\\t\\t\\t\\t\\t(prevOpts.cursorStyle !== newOpts.cursorStyle),';\n\n\t\tconst lineTokens = createViewLineTokens([\n\t\t\tcreatePart(4, 1), // 4 chars\n\t\t\tcreatePart(16, 2), // 12 chars\n\t\t\tcreatePart(22, 3), // 6 chars\n\t\t\tcreatePart(23, 4), // 1 char\n\t\t\tcreatePart(44, 5), // 21 chars\n\t\t\tcreatePart(46, 6), // 2 chars\n\t\t\tcreatePart(47, 7), // 1 char\n\t\t\tcreatePart(67, 8), // 20 chars\n\t\t\tcreatePart(68, 9), // 1 char\n\t\t\tcreatePart(69, 10), // 2 chars\n\t\t]);\n\t\tconst _actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent,\n\t\t\tlineTokens\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(_actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #91178: after decoration type shown before cursor', async () => {\n\t\tconst lineContent = '//just a comment';\n\t\tconst lineTokens = createViewLineTokens([\n\t\t\tcreatePart(16, 1)\n\t\t]);\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: true,\n\t\t\tcanUseHalfwidthRightwardsArrow: false,\n\t\t\tlineContent,\n\t\t\tlineTokens,\n\t\t\tlineDecorations: [\n\t\t\t\tnew LineDecoration(13, 13, 'dec1', InlineDecorationType.After),\n\t\t\t\tnew LineDecoration(13, 13, 'dec2', InlineDecorationType.Before),\n\t\t\t]\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue microsoft/monaco-editor#280: Improved source code rendering for RTL languages', async () => {\n\t\tconst lineContent = 'var  = \\\"  \\' ,     , \\\";';\n\t\tconst lineTokens = createViewLineTokens([\n\t\t\tcreatePart(3, 6),\n\t\t\tcreatePart(13, 1),\n\t\t\tcreatePart(66, 20),\n\t\t\tcreatePart(67, 1),\n\t\t]);\n\t\tconst _actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent,\n\t\t\tisBasicASCII: false,\n\t\t\tcontainsRTL: true,\n\t\t\tlineTokens\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(_actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #137036: Issue in RTL languages in recent versions', async () => {\n\t\tconst lineContent = '<option value=\\\"\\\"></option>';\n\t\tconst lineTokens = createViewLineTokens([\n\t\t\tcreatePart(1, 2),\n\t\t\tcreatePart(7, 3),\n\t\t\tcreatePart(8, 4),\n\t\t\tcreatePart(13, 5),\n\t\t\tcreatePart(14, 4),\n\t\t\tcreatePart(23, 6),\n\t\t\tcreatePart(24, 2),\n\t\t\tcreatePart(31, 4),\n\t\t\tcreatePart(33, 2),\n\t\t\tcreatePart(39, 3),\n\t\t\tcreatePart(40, 2),\n\t\t]);\n\t\tconst _actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent,\n\t\t\tisBasicASCII: false,\n\t\t\tcontainsRTL: true,\n\t\t\tlineTokens\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(_actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #99589: Rendering whitespace influences bidi layout', async () => {\n\t\tconst lineContent = '    [\\\"  \\\",\\\" \\\"]';\n\t\tconst lineTokens = createViewLineTokens([\n\t\t\tcreatePart(5, 2),\n\t\t\tcreatePart(21, 3),\n\t\t\tcreatePart(22, 2),\n\t\t\tcreatePart(34, 3),\n\t\t\tcreatePart(35, 2),\n\t\t]);\n\t\tconst _actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: true,\n\t\t\tlineContent,\n\t\t\tisBasicASCII: false,\n\t\t\tcontainsRTL: true,\n\t\t\tlineTokens,\n\t\t\trenderWhitespace: 'all'\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(_actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #260239: HTML containing bidirectional text is rendered incorrectly', async () => {\n\t\t// Simulating HTML like: <p class=\"myclass\" title=\"\"> !</p>\n\t\t// The line contains both LTR (class=\"myclass\") and RTL (title=\"\") attribute values\n\t\tconst lineContent = '<p class=\"myclass\" title=\"\"> !</p>';\n\t\tconst lineTokens = createViewLineTokens([\n\t\t\tcreatePart(1, 1),   // <\n\t\t\tcreatePart(2, 2),   // p\n\t\t\tcreatePart(3, 3),   // (space)\n\t\t\tcreatePart(8, 4),   // class\n\t\t\tcreatePart(9, 5),   // =\n\t\t\tcreatePart(10, 6),  // \"\n\t\t\tcreatePart(17, 7),  // myclass\n\t\t\tcreatePart(18, 6),  // \"\n\t\t\tcreatePart(19, 3),  // (space)\n\t\t\tcreatePart(24, 4),  // title\n\t\t\tcreatePart(25, 5),  // =\n\t\t\tcreatePart(26, 6),  // \"\n\t\t\tcreatePart(32, 8),  //  (RTL text) - 6 Arabic characters from position 26-31\n\t\t\tcreatePart(33, 6),  // \" - closing quote at position 32\n\t\t\tcreatePart(34, 1),  // >\n\t\t\tcreatePart(47, 9),  //  ! (RTL text) - 13 characters from position 34-46\n\t\t\tcreatePart(48, 1),  // <\n\t\t\tcreatePart(49, 2),  // /\n\t\t\tcreatePart(50, 2),  // p\n\t\t\tcreatePart(51, 1),  // >\n\t\t]);\n\t\tconst _actual = renderViewLine(new RenderLineInput(\n\t\t\tfalse,\n\t\t\ttrue,\n\t\t\tlineContent,\n\t\t\tfalse,\n\t\t\tfalse,\n\t\t\ttrue,\n\t\t\t0,\n\t\t\tlineTokens,\n\t\t\t[],\n\t\t\t4,\n\t\t\t0,\n\t\t\t10,\n\t\t\t10,\n\t\t\t10,\n\t\t\t-1,\n\t\t\t'none',\n\t\t\tfalse,\n\t\t\tfalse,\n\t\t\tnull,\n\t\t\tnull,\n\t\t\t14\n\t\t));\n\n\t\tconst inflated = inflateRenderLineOutput(_actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #6885: Splits large tokens', async () => {\n\t\t//                                                                                                                  1         1         1\n\t\t//                        1         2         3         4         5         6         7         8         9         0         1         2\n\t\t//               1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234\n\t\tconst _lineText = 'This is just a long line that contains very interesting text. This is just a long line that contains very interesting text.';\n\n\t\tfunction assertSplitsTokens(message: string, lineContent: string, expectedOutput: string[]): void {\n\t\t\tconst lineTokens = createViewLineTokens([createPart(lineContent.length, 1)]);\n\t\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\t\tlineContent,\n\t\t\t\tlineTokens\n\t\t\t}));\n\t\t\tassert.strictEqual(actual.html, '<span>' + expectedOutput.join('') + '</span>', message);\n\t\t}\n\n\t\t// A token with 49 chars\n\t\t{\n\t\t\tassertSplitsTokens(\n\t\t\t\t'49 chars',\n\t\t\t\t_lineText.substr(0, 49),\n\t\t\t\t[\n\t\t\t\t\t'<span class=\"mtk1\">This\\u00a0is\\u00a0just\\u00a0a\\u00a0long\\u00a0line\\u00a0that\\u00a0contains\\u00a0very\\u00a0inter</span>',\n\t\t\t\t]\n\t\t\t);\n\t\t}\n\n\t\t// A token with 50 chars\n\t\t{\n\t\t\tassertSplitsTokens(\n\t\t\t\t'50 chars',\n\t\t\t\t_lineText.substr(0, 50),\n\t\t\t\t[\n\t\t\t\t\t'<span class=\"mtk1\">This\\u00a0is\\u00a0just\\u00a0a\\u00a0long\\u00a0line\\u00a0that\\u00a0contains\\u00a0very\\u00a0intere</span>',\n\t\t\t\t]\n\t\t\t);\n\t\t}\n\n\t\t// A token with 51 chars\n\t\t{\n\t\t\tassertSplitsTokens(\n\t\t\t\t'51 chars',\n\t\t\t\t_lineText.substr(0, 51),\n\t\t\t\t[\n\t\t\t\t\t'<span class=\"mtk1\">This\\u00a0is\\u00a0just\\u00a0a\\u00a0long\\u00a0line\\u00a0that\\u00a0contains\\u00a0very\\u00a0intere</span>',\n\t\t\t\t\t'<span class=\"mtk1\">s</span>',\n\t\t\t\t]\n\t\t\t);\n\t\t}\n\n\t\t// A token with 99 chars\n\t\t{\n\t\t\tassertSplitsTokens(\n\t\t\t\t'99 chars',\n\t\t\t\t_lineText.substr(0, 99),\n\t\t\t\t[\n\t\t\t\t\t'<span class=\"mtk1\">This\\u00a0is\\u00a0just\\u00a0a\\u00a0long\\u00a0line\\u00a0that\\u00a0contains\\u00a0very\\u00a0intere</span>',\n\t\t\t\t\t'<span class=\"mtk1\">sting\\u00a0text.\\u00a0This\\u00a0is\\u00a0just\\u00a0a\\u00a0long\\u00a0line\\u00a0that\\u00a0contain</span>',\n\t\t\t\t]\n\t\t\t);\n\t\t}\n\n\t\t// A token with 100 chars\n\t\t{\n\t\t\tassertSplitsTokens(\n\t\t\t\t'100 chars',\n\t\t\t\t_lineText.substr(0, 100),\n\t\t\t\t[\n\t\t\t\t\t'<span class=\"mtk1\">This\\u00a0is\\u00a0just\\u00a0a\\u00a0long\\u00a0line\\u00a0that\\u00a0contains\\u00a0very\\u00a0intere</span>',\n\t\t\t\t\t'<span class=\"mtk1\">sting\\u00a0text.\\u00a0This\\u00a0is\\u00a0just\\u00a0a\\u00a0long\\u00a0line\\u00a0that\\u00a0contains</span>',\n\t\t\t\t]\n\t\t\t);\n\t\t}\n\n\t\t// A token with 101 chars\n\t\t{\n\t\t\tassertSplitsTokens(\n\t\t\t\t'101 chars',\n\t\t\t\t_lineText.substr(0, 101),\n\t\t\t\t[\n\t\t\t\t\t'<span class=\"mtk1\">This\\u00a0is\\u00a0just\\u00a0a\\u00a0long\\u00a0line\\u00a0that\\u00a0contains\\u00a0very\\u00a0intere</span>',\n\t\t\t\t\t'<span class=\"mtk1\">sting\\u00a0text.\\u00a0This\\u00a0is\\u00a0just\\u00a0a\\u00a0long\\u00a0line\\u00a0that\\u00a0contains</span>',\n\t\t\t\t\t'<span class=\"mtk1\">\\u00a0</span>',\n\t\t\t\t]\n\t\t\t);\n\t\t}\n\t});\n\n\ttest('issue #21476: Does not split large tokens when ligatures are on', async () => {\n\t\t//                                                                                                                  1         1         1\n\t\t//                        1         2         3         4         5         6         7         8         9         0         1         2\n\t\t//               1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234\n\t\tconst _lineText = 'This is just a long line that contains very interesting text. This is just a long line that contains very interesting text.';\n\n\t\tfunction assertSplitsTokens(message: string, lineContent: string, expectedOutput: string[]): void {\n\t\t\tconst lineTokens = createViewLineTokens([createPart(lineContent.length, 1)]);\n\t\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\t\tlineContent,\n\t\t\t\tlineTokens,\n\t\t\t\tfontLigatures: true\n\t\t\t}));\n\t\t\tassert.strictEqual(actual.html, '<span>' + expectedOutput.join('') + '</span>', message);\n\t\t}\n\n\t\t// A token with 101 chars\n\t\t{\n\t\t\tassertSplitsTokens(\n\t\t\t\t'101 chars',\n\t\t\t\t_lineText.substr(0, 101),\n\t\t\t\t[\n\t\t\t\t\t'<span class=\"mtk1\">This\\u00a0is\\u00a0just\\u00a0a\\u00a0long\\u00a0line\\u00a0that\\u00a0contains\\u00a0very\\u00a0</span>',\n\t\t\t\t\t'<span class=\"mtk1\">interesting\\u00a0text.\\u00a0This\\u00a0is\\u00a0just\\u00a0a\\u00a0long\\u00a0line\\u00a0that\\u00a0</span>',\n\t\t\t\t\t'<span class=\"mtk1\">contains\\u00a0</span>',\n\t\t\t\t]\n\t\t\t);\n\t\t}\n\t});\n\n\ttest('issue #20624: Unaligned surrogate pairs are corrupted at multiples of 50 columns', async () => {\n\t\tconst lineContent = 'a';\n\t\tconst lineTokens = createViewLineTokens([createPart(lineContent.length, 1)]);\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent,\n\t\t\tisBasicASCII: false,\n\t\t\tlineTokens\n\t\t}));\n\n\t\tawait assertSnapshot(inflateRenderLineOutput(actual).html.join(''), HTML_EXTENSION);\n\t});\n\n\ttest('issue #6885: Does not split large tokens in RTL text', async () => {\n\t\tconst lineContent = '   ,    ,    .     ,    .     ,     ,    .    .';\n\t\tconst lineTokens = createViewLineTokens([createPart(lineContent.length, 1)]);\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent,\n\t\t\tisBasicASCII: false,\n\t\t\tcontainsRTL: true,\n\t\t\tlineTokens\n\t\t}));\n\n\t\tawait assertSnapshot(actual.html, HTML_EXTENSION);\n\t});\n\n\ttest('issue #95685: Uses unicode replacement character for Paragraph Separator', async () => {\n\t\tconst lineContent = 'var ftext = [\\u2029\"Und\", \"dann\", \"eines\"];';\n\t\tconst lineTokens = createViewLineTokens([createPart(lineContent.length, 1)]);\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent,\n\t\t\tisBasicASCII: false,\n\t\t\tlineTokens\n\t\t}));\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #19673: Monokai Theme bad-highlighting in line wrap', async () => {\n\t\tconst lineContent = '    MongoCallback<string>): void {';\n\t\tconst lineTokens = createViewLineTokens([\n\t\t\tcreatePart(17, 1),\n\t\t\tcreatePart(18, 2),\n\t\t\tcreatePart(24, 3),\n\t\t\tcreatePart(26, 4),\n\t\t\tcreatePart(27, 5),\n\t\t\tcreatePart(28, 6),\n\t\t\tcreatePart(32, 7),\n\t\t\tcreatePart(34, 8),\n\t\t]);\n\t\tconst _actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: true,\n\t\t\tlineContent,\n\t\t\tfauxIndentLength: 4,\n\t\t\tlineTokens\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(_actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n});\n\ntype CharacterMappingInfo = [number, [number, number]];\n\nfunction assertCharacterMapping3(actual: CharacterMapping, expectedInfo: CharacterMappingInfo[]): void {\n\tfor (let i = 0; i < expectedInfo.length; i++) {\n\t\tconst [horizontalOffset, [partIndex, charIndex]] = expectedInfo[i];\n\n\t\tconst actualDomPosition = actual.getDomPosition(i + 1);\n\t\tassert.deepStrictEqual(actualDomPosition, new DomPosition(partIndex, charIndex), `getDomPosition(${i + 1})`);\n\n\t\tlet partLength = charIndex + 1;\n\t\tfor (let j = i + 1; j < expectedInfo.length; j++) {\n\t\t\tconst [, [nextPartIndex, nextCharIndex]] = expectedInfo[j];\n\t\t\tif (nextPartIndex === partIndex) {\n\t\t\t\tpartLength = nextCharIndex + 1;\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tconst actualColumn = actual.getColumn(new DomPosition(partIndex, charIndex), partLength);\n\t\tassert.strictEqual(actualColumn, i + 1, `actual.getColumn(${partIndex}, ${charIndex})`);\n\n\t\tconst actualHorizontalOffset = actual.getHorizontalOffset(i + 1);\n\t\tassert.strictEqual(actualHorizontalOffset, horizontalOffset, `actual.getHorizontalOffset(${i + 1})`);\n\t}\n\n\tassert.strictEqual(actual.length, expectedInfo.length, `length mismatch`);\n}\n\nsuite('viewLineRenderer.renderLine 2', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tfunction testCreateLineParts(fontIsMonospace: boolean, lineContent: string, tokens: TestLineToken[], fauxIndentLength: number, renderWhitespace: 'none' | 'boundary' | 'selection' | 'trailing' | 'all', selections: OffsetRange[] | null) {\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: fontIsMonospace,\n\t\t\tlineContent,\n\t\t\tfauxIndentLength,\n\t\t\tlineTokens: createViewLineTokens(tokens),\n\t\t\trenderWhitespace,\n\t\t\tselectionsOnLine: selections\n\t\t}));\n\t\treturn inflateRenderLineOutput(actual);\n\t}\n\n\ttest('issue #18616: Inline decorations ending at the text length are no longer rendered', async () => {\n\t\tconst lineContent = 'https://microsoft.com';\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent,\n\t\t\tlineTokens: createViewLineTokens([createPart(21, 3)]),\n\t\t\tlineDecorations: [new LineDecoration(1, 22, 'link', InlineDecorationType.Regular)]\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #19207: Link in Monokai is not rendered correctly', async () => {\n\t\tconst lineContent = '\\'let url = `http://***/_api/web/lists/GetByTitle(\\\\\\'Teambuildingaanvragen\\\\\\')/items`;\\'';\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: true,\n\t\t\tlineContent,\n\t\t\tlineTokens: createViewLineTokens([\n\t\t\t\tcreatePart(49, 6),\n\t\t\t\tcreatePart(51, 4),\n\t\t\t\tcreatePart(72, 6),\n\t\t\t\tcreatePart(74, 4),\n\t\t\t\tcreatePart(84, 6),\n\t\t\t]),\n\t\t\tlineDecorations: [\n\t\t\t\tnew LineDecoration(13, 51, 'detected-link', InlineDecorationType.Regular)\n\t\t\t]\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('createLineParts simple', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t'Hello world!',\n\t\t\t[\n\t\t\t\tcreatePart(12, 1)\n\t\t\t],\n\t\t\t0,\n\t\t\t'none',\n\t\t\tnull\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts simple two tokens', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t'Hello world!',\n\t\t\t[\n\t\t\t\tcreatePart(6, 1),\n\t\t\t\tcreatePart(12, 2)\n\t\t\t],\n\t\t\t0,\n\t\t\t'none',\n\t\t\tnull\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace - 4 leading spaces', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t'    Hello world!    ',\n\t\t\t[\n\t\t\t\tcreatePart(4, 1),\n\t\t\t\tcreatePart(6, 2),\n\t\t\t\tcreatePart(20, 3)\n\t\t\t],\n\t\t\t0,\n\t\t\t'boundary',\n\t\t\tnull\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace - 8 leading spaces', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t'        Hello world!        ',\n\t\t\t[\n\t\t\t\tcreatePart(8, 1),\n\t\t\t\tcreatePart(10, 2),\n\t\t\t\tcreatePart(28, 3)\n\t\t\t],\n\t\t\t0,\n\t\t\t'boundary',\n\t\t\tnull\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace - 2 leading tabs', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t'\\t\\tHello world!\\t',\n\t\t\t[\n\t\t\t\tcreatePart(2, 1),\n\t\t\t\tcreatePart(4, 2),\n\t\t\t\tcreatePart(15, 3)\n\t\t\t],\n\t\t\t0,\n\t\t\t'boundary',\n\t\t\tnull\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace - mixed leading spaces and tabs', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t'  \\t\\t  Hello world! \\t  \\t   \\t    ',\n\t\t\t[\n\t\t\t\tcreatePart(6, 1),\n\t\t\t\tcreatePart(8, 2),\n\t\t\t\tcreatePart(31, 3)\n\t\t\t],\n\t\t\t0,\n\t\t\t'boundary',\n\t\t\tnull\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace skips faux indent', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t'\\t\\t  Hello world! \\t  \\t   \\t    ',\n\t\t\t[\n\t\t\t\tcreatePart(4, 1),\n\t\t\t\tcreatePart(6, 2),\n\t\t\t\tcreatePart(29, 3)\n\t\t\t],\n\t\t\t2,\n\t\t\t'boundary',\n\t\t\tnull\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts does not emit width for monospace fonts', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\ttrue,\n\t\t\t'\\t\\t  Hello world! \\t  \\t   \\t    ',\n\t\t\t[\n\t\t\t\tcreatePart(4, 1),\n\t\t\t\tcreatePart(6, 2),\n\t\t\t\tcreatePart(29, 3)\n\t\t\t],\n\t\t\t2,\n\t\t\t'boundary',\n\t\t\tnull\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace in middle but not for one space', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t'it  it it  it',\n\t\t\t[\n\t\t\t\tcreatePart(6, 1),\n\t\t\t\tcreatePart(7, 2),\n\t\t\t\tcreatePart(13, 3)\n\t\t\t],\n\t\t\t0,\n\t\t\t'boundary',\n\t\t\tnull\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace for all in middle', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t' Hello world!\\t',\n\t\t\t[\n\t\t\t\tcreatePart(4, 0),\n\t\t\t\tcreatePart(6, 1),\n\t\t\t\tcreatePart(14, 2)\n\t\t\t],\n\t\t\t0,\n\t\t\t'all',\n\t\t\tnull\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace for selection with no selections', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t' Hello world!\\t',\n\t\t\t[\n\t\t\t\tcreatePart(4, 0),\n\t\t\t\tcreatePart(6, 1),\n\t\t\t\tcreatePart(14, 2)\n\t\t\t],\n\t\t\t0,\n\t\t\t'selection',\n\t\t\tnull\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace for selection with whole line selection', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t' Hello world!\\t',\n\t\t\t[\n\t\t\t\tcreatePart(4, 0),\n\t\t\t\tcreatePart(6, 1),\n\t\t\t\tcreatePart(14, 2)\n\t\t\t],\n\t\t\t0,\n\t\t\t'selection',\n\t\t\t[new OffsetRange(0, 14)]\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace for selection with selection spanning part of whitespace', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t' Hello world!\\t',\n\t\t\t[\n\t\t\t\tcreatePart(4, 0),\n\t\t\t\tcreatePart(6, 1),\n\t\t\t\tcreatePart(14, 2)\n\t\t\t],\n\t\t\t0,\n\t\t\t'selection',\n\t\t\t[new OffsetRange(0, 5)]\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace for selection with multiple selections', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t' Hello world!\\t',\n\t\t\t[\n\t\t\t\tcreatePart(4, 0),\n\t\t\t\tcreatePart(6, 1),\n\t\t\t\tcreatePart(14, 2)\n\t\t\t],\n\t\t\t0,\n\t\t\t'selection',\n\t\t\t[new OffsetRange(0, 5), new OffsetRange(9, 14)]\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace for selection with multiple, initially unsorted selections', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t' Hello world!\\t',\n\t\t\t[\n\t\t\t\tcreatePart(4, 0),\n\t\t\t\tcreatePart(6, 1),\n\t\t\t\tcreatePart(14, 2)\n\t\t\t],\n\t\t\t0,\n\t\t\t'selection',\n\t\t\t[new OffsetRange(9, 14), new OffsetRange(0, 5)]\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace for selection with selections next to each other', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t' * S',\n\t\t\t[\n\t\t\t\tcreatePart(4, 0)\n\t\t\t],\n\t\t\t0,\n\t\t\t'selection',\n\t\t\t[new OffsetRange(0, 1), new OffsetRange(1, 2), new OffsetRange(2, 3)]\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace for trailing with leading, inner, and without trailing whitespace', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t' Hello world!',\n\t\t\t[\n\t\t\t\tcreatePart(4, 0),\n\t\t\t\tcreatePart(6, 1),\n\t\t\t\tcreatePart(14, 2)\n\t\t\t],\n\t\t\t0,\n\t\t\t'trailing',\n\t\t\tnull\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace for trailing with leading, inner, and trailing whitespace', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t' Hello world! \\t',\n\t\t\t[\n\t\t\t\tcreatePart(4, 0),\n\t\t\t\tcreatePart(6, 1),\n\t\t\t\tcreatePart(15, 2)\n\t\t\t],\n\t\t\t0,\n\t\t\t'trailing',\n\t\t\tnull\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace for trailing with 8 leading and 8 trailing whitespaces', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t'        Hello world!        ',\n\t\t\t[\n\t\t\t\tcreatePart(8, 1),\n\t\t\t\tcreatePart(10, 2),\n\t\t\t\tcreatePart(28, 3)\n\t\t\t],\n\t\t\t0,\n\t\t\t'trailing',\n\t\t\tnull\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts render whitespace for trailing with line containing only whitespaces', async () => {\n\t\tconst actual = testCreateLineParts(\n\t\t\tfalse,\n\t\t\t' \\t ',\n\t\t\t[\n\t\t\t\tcreatePart(2, 0),\n\t\t\t\tcreatePart(3, 1),\n\t\t\t],\n\t\t\t0,\n\t\t\t'trailing',\n\t\t\tnull\n\t\t);\n\t\tawait assertSnapshot(actual.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(actual.mapping);\n\t});\n\n\ttest('createLineParts can handle unsorted inline decorations', async () => {\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent: 'Hello world',\n\t\t\tlineTokens: createViewLineTokens([createPart(11, 0)]),\n\t\t\tlineDecorations: [\n\t\t\t\tnew LineDecoration(5, 7, 'a', InlineDecorationType.Regular),\n\t\t\t\tnew LineDecoration(1, 3, 'b', InlineDecorationType.Regular),\n\t\t\t\tnew LineDecoration(2, 8, 'c', InlineDecorationType.Regular),\n\t\t\t]\n\t\t}));\n\n\t\t// 01234567890\n\t\t// Hello world\n\t\t// ----aa-----\n\t\t// bb---------\n\t\t// -cccccc----\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #11485: Visible whitespace conflicts with before decorator attachment', async () => {\n\n\t\tconst lineContent = '\\tbla';\n\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent,\n\t\t\tlineTokens: createViewLineTokens([createPart(4, 3)]),\n\t\t\tlineDecorations: [new LineDecoration(1, 2, 'before', InlineDecorationType.Before)],\n\t\t\trenderWhitespace: 'all',\n\t\t\tfontLigatures: true\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #32436: Non-monospace font + visible whitespace + After decorator causes line to \"jump\"', async () => {\n\n\t\tconst lineContent = '\\tbla';\n\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent,\n\t\t\tlineTokens: createViewLineTokens([createPart(4, 3)]),\n\t\t\tlineDecorations: [new LineDecoration(2, 3, 'before', InlineDecorationType.Before)],\n\t\t\trenderWhitespace: 'all',\n\t\t\tfontLigatures: true\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #30133: Empty lines don\\'t render inline decorations', async () => {\n\n\t\tconst lineContent = '';\n\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent,\n\t\t\tlineTokens: createViewLineTokens([createPart(0, 3)]),\n\t\t\tlineDecorations: [new LineDecoration(1, 2, 'before', InlineDecorationType.Before)],\n\t\t\trenderWhitespace: 'all',\n\t\t\tfontLigatures: true\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #37208: Collapsing bullet point containing emoji in Markdown document results in [??] character', async () => {\n\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: true,\n\t\t\tlineContent: '  1. ',\n\t\t\tisBasicASCII: false,\n\t\t\tlineTokens: createViewLineTokens([createPart(7, 3)]),\n\t\t\tlineDecorations: [new LineDecoration(7, 8, 'inline-folded', InlineDecorationType.After)],\n\t\t\ttabSize: 2,\n\t\t\tstopRenderingLineAfter: 10000\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #37401 #40127: Allow both before and after decorations on empty line', async () => {\n\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: true,\n\t\t\tlineContent: '',\n\t\t\tlineTokens: createViewLineTokens([createPart(0, 3)]),\n\t\t\tlineDecorations: [\n\t\t\t\tnew LineDecoration(1, 1, 'before', InlineDecorationType.Before),\n\t\t\t\tnew LineDecoration(1, 1, 'after', InlineDecorationType.After),\n\t\t\t],\n\t\t\ttabSize: 2,\n\t\t\tstopRenderingLineAfter: 10000\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #118759: enable multiple text editor decorations in empty lines', async () => {\n\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: true,\n\t\t\tlineContent: '',\n\t\t\tlineTokens: createViewLineTokens([createPart(0, 3)]),\n\t\t\tlineDecorations: [\n\t\t\t\tnew LineDecoration(1, 1, 'after1', InlineDecorationType.After),\n\t\t\t\tnew LineDecoration(1, 1, 'after2', InlineDecorationType.After),\n\t\t\t\tnew LineDecoration(1, 1, 'before1', InlineDecorationType.Before),\n\t\t\t\tnew LineDecoration(1, 1, 'before2', InlineDecorationType.Before),\n\t\t\t],\n\t\t\ttabSize: 2,\n\t\t\tstopRenderingLineAfter: 10000\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #38935: GitLens end-of-line blame no longer rendering', async () => {\n\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: true,\n\t\t\tlineContent: '\\t}',\n\t\t\tlineTokens: createViewLineTokens([createPart(2, 3)]),\n\t\t\tlineDecorations: [\n\t\t\t\tnew LineDecoration(3, 3, 'ced-TextEditorDecorationType2-5e9b9b3f-3 ced-TextEditorDecorationType2-3', InlineDecorationType.Before),\n\t\t\t\tnew LineDecoration(3, 3, 'ced-TextEditorDecorationType2-5e9b9b3f-4 ced-TextEditorDecorationType2-4', InlineDecorationType.After),\n\t\t\t],\n\t\t\tstopRenderingLineAfter: 10000\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #136622: Inline decorations are not rendering on non-ASCII lines when renderControlCharacters is on', async () => {\n\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: true,\n\t\t\tlineContent: 'some text ',\n\t\t\tisBasicASCII: false,\n\t\t\tlineTokens: createViewLineTokens([createPart(11, 3)]),\n\t\t\tlineDecorations: [\n\t\t\t\tnew LineDecoration(5, 5, 'inlineDec1', InlineDecorationType.After),\n\t\t\t\tnew LineDecoration(6, 6, 'inlineDec2', InlineDecorationType.Before),\n\t\t\t],\n\t\t\tstopRenderingLineAfter: 10000,\n\t\t\trenderControlCharacters: true\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #22832: Consider fullwidth characters when rendering tabs', async () => {\n\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: true,\n\t\t\tlineContent: 'asd = \"\"\\t\\t#asd',\n\t\t\tisBasicASCII: false,\n\t\t\tlineTokens: createViewLineTokens([createPart(15, 3)]),\n\t\t\tstopRenderingLineAfter: 10000\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #22832: Consider fullwidth characters when rendering tabs (render whitespace)', async () => {\n\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: true,\n\t\t\tlineContent: 'asd = \"\"\\t\\t#asd',\n\t\t\tisBasicASCII: false,\n\t\t\tlineTokens: createViewLineTokens([createPart(15, 3)]),\n\t\t\tstopRenderingLineAfter: 10000,\n\t\t\trenderWhitespace: 'all'\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #22352: COMBINING ACUTE ACCENT (U+0301)', async () => {\n\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: true,\n\t\t\tlineContent: '12345689012345678901234568901234567890123456890ababa',\n\t\t\tisBasicASCII: false,\n\t\t\tlineTokens: createViewLineTokens([createPart(53, 3)]),\n\t\t\tstopRenderingLineAfter: 10000\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #22352: Partially Broken Complex Script Rendering of Tamil', async () => {\n\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: true,\n\t\t\tlineContent: ' JoyShare , , , ,     ',\n\t\t\tisBasicASCII: false,\n\t\t\tlineTokens: createViewLineTokens([createPart(100, 3)]),\n\t\t\tstopRenderingLineAfter: 10000\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #42700: Hindi characters are not being rendered properly', async () => {\n\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: true,\n\t\t\tlineContent: '                          ',\n\t\t\tisBasicASCII: false,\n\t\t\tlineTokens: createViewLineTokens([createPart(105, 3)]),\n\t\t\tstopRenderingLineAfter: 10000\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #38123: editor.renderWhitespace: \"boundary\" renders whitespace at line wrap point when line is wrapped', async () => {\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: true,\n\t\t\tlineContent: 'This is a long line which never uses more than two spaces. ',\n\t\t\tcontinuesWithWrappedLine: true,\n\t\t\tlineTokens: createViewLineTokens([createPart(59, 3)]),\n\t\t\tstopRenderingLineAfter: 10000,\n\t\t\trenderWhitespace: 'boundary'\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #33525: Long line with ligatures takes a long time to paint decorations', async () => {\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tcanUseHalfwidthRightwardsArrow: false,\n\t\t\tlineContent: 'append data to append data to append data to append data to append data to append data to append data to append data to append data to append data to append data to append data to append data to',\n\t\t\tlineTokens: createViewLineTokens([createPart(194, 3)]),\n\t\t\tstopRenderingLineAfter: 10000,\n\t\t\tfontLigatures: true\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #33525: Long line with ligatures takes a long time to paint decorations - not possible', async () => {\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tcanUseHalfwidthRightwardsArrow: false,\n\t\t\tlineContent: 'appenddatatoappenddatatoappenddatatoappenddatatoappenddatatoappenddatatoappenddatatoappenddatatoappenddatatoappenddatatoappenddatatoappenddatatoappenddatato',\n\t\t\tlineTokens: createViewLineTokens([createPart(194, 3)]),\n\t\t\tstopRenderingLineAfter: 10000,\n\t\t\tfontLigatures: true\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #91936: Semantic token color highlighting fails on line with selected text', async () => {\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tlineContent: '                    else if ($s = 08) then \\'\\\\b\\'',\n\t\t\tlineTokens: createViewLineTokens([\n\t\t\t\tcreatePart(20, 1),\n\t\t\t\tcreatePart(24, 15),\n\t\t\t\tcreatePart(25, 1),\n\t\t\t\tcreatePart(27, 15),\n\t\t\t\tcreatePart(28, 1),\n\t\t\t\tcreatePart(29, 1),\n\t\t\t\tcreatePart(29, 1),\n\t\t\t\tcreatePart(31, 16),\n\t\t\t\tcreatePart(32, 1),\n\t\t\t\tcreatePart(33, 1),\n\t\t\t\tcreatePart(34, 1),\n\t\t\t\tcreatePart(36, 6),\n\t\t\t\tcreatePart(36, 1),\n\t\t\t\tcreatePart(37, 1),\n\t\t\t\tcreatePart(38, 1),\n\t\t\t\tcreatePart(42, 15),\n\t\t\t\tcreatePart(43, 1),\n\t\t\t\tcreatePart(47, 11)\n\t\t\t]),\n\t\t\tstopRenderingLineAfter: 10000,\n\t\t\trenderWhitespace: 'selection',\n\t\t\tselectionsOnLine: [new OffsetRange(0, 47)],\n\t\t\tmiddotWidth: 11,\n\t\t\twsmiddotWidth: 11\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #119416: Delete Control Character (U+007F / &#127;) displayed as space', async () => {\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tcanUseHalfwidthRightwardsArrow: false,\n\t\t\tlineContent: '[' + String.fromCharCode(127) + '] [' + String.fromCharCode(0) + ']',\n\t\t\tlineTokens: createViewLineTokens([createPart(7, 3)]),\n\t\t\tstopRenderingLineAfter: 10000,\n\t\t\trenderControlCharacters: true,\n\t\t\tfontLigatures: true\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #116939: Important control characters aren\\'t rendered', async () => {\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tcanUseHalfwidthRightwardsArrow: false,\n\t\t\tlineContent: `transferBalance(5678,${String.fromCharCode(0x202E)}6776,4321${String.fromCharCode(0x202C)},\"USD\");`,\n\t\t\tisBasicASCII: false,\n\t\t\tlineTokens: createViewLineTokens([createPart(42, 3)]),\n\t\t\tstopRenderingLineAfter: 10000,\n\t\t\trenderControlCharacters: true\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\ttest('issue #124038: Multiple end-of-line text decorations get merged', async () => {\n\t\tconst actual = renderViewLine(createRenderLineInput({\n\t\t\tuseMonospaceOptimizations: true,\n\t\t\tcanUseHalfwidthRightwardsArrow: false,\n\t\t\tlineContent: '    if',\n\t\t\tlineTokens: createViewLineTokens([createPart(4, 1), createPart(6, 2)]),\n\t\t\tlineDecorations: [\n\t\t\t\tnew LineDecoration(7, 7, 'ced-1-TextEditorDecorationType2-17c14d98-3 ced-1-TextEditorDecorationType2-3', InlineDecorationType.Before),\n\t\t\t\tnew LineDecoration(7, 7, 'ced-1-TextEditorDecorationType2-17c14d98-4 ced-1-TextEditorDecorationType2-4', InlineDecorationType.After),\n\t\t\t\tnew LineDecoration(7, 7, 'ced-ghost-text-1-4', InlineDecorationType.After),\n\t\t\t],\n\t\t\tstopRenderingLineAfter: 10000,\n\t\t\trenderWhitespace: 'all'\n\t\t}));\n\n\t\tconst inflated = inflateRenderLineOutput(actual);\n\t\tawait assertSnapshot(inflated.html.join(''), HTML_EXTENSION);\n\t\tawait assertSnapshot(inflated.mapping);\n\t});\n\n\tfunction createTestGetColumnOfLinePartOffset(lineContent: string, tabSize: number, parts: TestLineToken[], expectedPartLengths: number[]): (partIndex: number, partLength: number, offset: number, expected: number) => void {\n\t\tconst renderLineOutput = renderViewLine(createRenderLineInput({\n\t\t\tlineContent,\n\t\t\ttabSize,\n\t\t\tlineTokens: createViewLineTokens(parts)\n\t\t}));\n\n\t\treturn (partIndex: number, partLength: number, offset: number, expected: number) => {\n\t\t\tconst actualColumn = renderLineOutput.characterMapping.getColumn(new DomPosition(partIndex, offset), partLength);\n\t\t\tassert.strictEqual(actualColumn, expected, 'getColumn for ' + partIndex + ', ' + offset);\n\t\t};\n\t}\n\n\ttest('getColumnOfLinePartOffset 1 - simple text', () => {\n\t\tconst testGetColumnOfLinePartOffset = createTestGetColumnOfLinePartOffset(\n\t\t\t'hello world',\n\t\t\t4,\n\t\t\t[\n\t\t\t\tcreatePart(11, 1)\n\t\t\t],\n\t\t\t[11]\n\t\t);\n\t\ttestGetColumnOfLinePartOffset(0, 11, 0, 1);\n\t\ttestGetColumnOfLinePartOffset(0, 11, 1, 2);\n\t\ttestGetColumnOfLinePartOffset(0, 11, 2, 3);\n\t\ttestGetColumnOfLinePartOffset(0, 11, 3, 4);\n\t\ttestGetColumnOfLinePartOffset(0, 11, 4, 5);\n\t\ttestGetColumnOfLinePartOffset(0, 11, 5, 6);\n\t\ttestGetColumnOfLinePartOffset(0, 11, 6, 7);\n\t\ttestGetColumnOfLinePartOffset(0, 11, 7, 8);\n\t\ttestGetColumnOfLinePartOffset(0, 11, 8, 9);\n\t\ttestGetColumnOfLinePartOffset(0, 11, 9, 10);\n\t\ttestGetColumnOfLinePartOffset(0, 11, 10, 11);\n\t\ttestGetColumnOfLinePartOffset(0, 11, 11, 12);\n\t});\n\n\ttest('getColumnOfLinePartOffset 2 - regular JS', () => {\n\t\tconst testGetColumnOfLinePartOffset = createTestGetColumnOfLinePartOffset(\n\t\t\t'var x = 3;',\n\t\t\t4,\n\t\t\t[\n\t\t\t\tcreatePart(3, 1),\n\t\t\t\tcreatePart(4, 2),\n\t\t\t\tcreatePart(5, 3),\n\t\t\t\tcreatePart(8, 4),\n\t\t\t\tcreatePart(9, 5),\n\t\t\t\tcreatePart(10, 6),\n\t\t\t],\n\t\t\t[3, 1, 1, 3, 1, 1]\n\t\t);\n\t\ttestGetColumnOfLinePartOffset(0, 3, 0, 1);\n\t\ttestGetColumnOfLinePartOffset(0, 3, 1, 2);\n\t\ttestGetColumnOfLinePartOffset(0, 3, 2, 3);\n\t\ttestGetColumnOfLinePartOffset(0, 3, 3, 4);\n\t\ttestGetColumnOfLinePartOffset(1, 1, 0, 4);\n\t\ttestGetColumnOfLinePartOffset(1, 1, 1, 5);\n\t\ttestGetColumnOfLinePartOffset(2, 1, 0, 5);\n\t\ttestGetColumnOfLinePartOffset(2, 1, 1, 6);\n\t\ttestGetColumnOfLinePartOffset(3, 3, 0, 6);\n\t\ttestGetColumnOfLinePartOffset(3, 3, 1, 7);\n\t\ttestGetColumnOfLinePartOffset(3, 3, 2, 8);\n\t\ttestGetColumnOfLinePartOffset(3, 3, 3, 9);\n\t\ttestGetColumnOfLinePartOffset(4, 1, 0, 9);\n\t\ttestGetColumnOfLinePartOffset(4, 1, 1, 10);\n\t\ttestGetColumnOfLinePartOffset(5, 1, 0, 10);\n\t\ttestGetColumnOfLinePartOffset(5, 1, 1, 11);\n\t});\n\n\ttest('getColumnOfLinePartOffset 3 - tab with tab size 6', () => {\n\t\tconst testGetColumnOfLinePartOffset = createTestGetColumnOfLinePartOffset(\n\t\t\t'\\t',\n\t\t\t6,\n\t\t\t[\n\t\t\t\tcreatePart(1, 1)\n\t\t\t],\n\t\t\t[6]\n\t\t);\n\t\ttestGetColumnOfLinePartOffset(0, 6, 0, 1);\n\t\ttestGetColumnOfLinePartOffset(0, 6, 1, 1);\n\t\ttestGetColumnOfLinePartOffset(0, 6, 2, 1);\n\t\ttestGetColumnOfLinePartOffset(0, 6, 3, 1);\n\t\ttestGetColumnOfLinePartOffset(0, 6, 4, 2);\n\t\ttestGetColumnOfLinePartOffset(0, 6, 5, 2);\n\t\ttestGetColumnOfLinePartOffset(0, 6, 6, 2);\n\t});\n\n\ttest('getColumnOfLinePartOffset 4 - once indented line, tab size 4', () => {\n\t\tconst testGetColumnOfLinePartOffset = createTestGetColumnOfLinePartOffset(\n\t\t\t'\\tfunction',\n\t\t\t4,\n\t\t\t[\n\t\t\t\tcreatePart(1, 1),\n\t\t\t\tcreatePart(9, 2),\n\t\t\t],\n\t\t\t[4, 8]\n\t\t);\n\t\ttestGetColumnOfLinePartOffset(0, 4, 0, 1);\n\t\ttestGetColumnOfLinePartOffset(0, 4, 1, 1);\n\t\ttestGetColumnOfLinePartOffset(0, 4, 2, 1);\n\t\ttestGetColumnOfLinePartOffset(0, 4, 3, 2);\n\t\ttestGetColumnOfLinePartOffset(0, 4, 4, 2);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 0, 2);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 1, 3);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 2, 4);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 3, 5);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 4, 6);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 5, 7);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 6, 8);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 7, 9);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 8, 10);\n\t});\n\n\ttest('getColumnOfLinePartOffset 5 - twice indented line, tab size 4', () => {\n\t\tconst testGetColumnOfLinePartOffset = createTestGetColumnOfLinePartOffset(\n\t\t\t'\\t\\tfunction',\n\t\t\t4,\n\t\t\t[\n\t\t\t\tcreatePart(2, 1),\n\t\t\t\tcreatePart(10, 2),\n\t\t\t],\n\t\t\t[8, 8]\n\t\t);\n\t\ttestGetColumnOfLinePartOffset(0, 8, 0, 1);\n\t\ttestGetColumnOfLinePartOffset(0, 8, 1, 1);\n\t\ttestGetColumnOfLinePartOffset(0, 8, 2, 1);\n\t\ttestGetColumnOfLinePartOffset(0, 8, 3, 2);\n\t\ttestGetColumnOfLinePartOffset(0, 8, 4, 2);\n\t\ttestGetColumnOfLinePartOffset(0, 8, 5, 2);\n\t\ttestGetColumnOfLinePartOffset(0, 8, 6, 2);\n\t\ttestGetColumnOfLinePartOffset(0, 8, 7, 3);\n\t\ttestGetColumnOfLinePartOffset(0, 8, 8, 3);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 0, 3);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 1, 4);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 2, 5);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 3, 6);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 4, 7);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 5, 8);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 6, 9);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 7, 10);\n\t\ttestGetColumnOfLinePartOffset(1, 8, 8, 11);\n\t});\n});\n"]}