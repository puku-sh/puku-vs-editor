{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/editor/test/common/languages/defaultDocumentColorsComputer.test.ts","vs/editor/test/common/languages/defaultDocumentColorsComputer.test.ts"],"names":[],"mappings":"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","file":"defaultDocumentColorsComputer.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as assert from 'assert';\nimport { computeDefaultDocumentColors } from '../../../common/languages/defaultDocumentColorsComputer.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\n\nsuite('Default Document Colors Computer', () => {\n\n\tclass TestDocumentModel {\n\t\tconstructor(private content: string) { }\n\n\t\tgetValue(): string {\n\t\t\treturn this.content;\n\t\t}\n\n\t\tpositionAt(offset: number) {\n\t\t\tconst lines = this.content.substring(0, offset).split('\\n');\n\t\t\treturn {\n\t\t\t\tlineNumber: lines.length,\n\t\t\t\tcolumn: lines[lines.length - 1].length + 1\n\t\t\t};\n\t\t}\n\n\t\tfindMatches(regex: RegExp): RegExpMatchArray[] {\n\t\t\treturn [...this.content.matchAll(regex)];\n\t\t}\n\t}\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('Hex colors in strings should be detected', () => {\n\t\t// Test case from issue: hex color inside string is not detected\n\t\tconst model = new TestDocumentModel(`const color = '#ff0000';`);\n\t\tconst colors = computeDefaultDocumentColors(model);\n\n\t\tassert.strictEqual(colors.length, 1, 'Should detect one hex color');\n\t\tassert.strictEqual(colors[0].color.red, 1, 'Red component should be 1 (255/255)');\n\t\tassert.strictEqual(colors[0].color.green, 0, 'Green component should be 0');\n\t\tassert.strictEqual(colors[0].color.blue, 0, 'Blue component should be 0');\n\t\tassert.strictEqual(colors[0].color.alpha, 1, 'Alpha should be 1');\n\t});\n\n\ttest('Hex colors in double quotes should be detected', () => {\n\t\tconst model = new TestDocumentModel('const color = \"#00ff00\";');\n\t\tconst colors = computeDefaultDocumentColors(model);\n\n\t\tassert.strictEqual(colors.length, 1, 'Should detect one hex color');\n\t\tassert.strictEqual(colors[0].color.red, 0, 'Red component should be 0');\n\t\tassert.strictEqual(colors[0].color.green, 1, 'Green component should be 1 (255/255)');\n\t\tassert.strictEqual(colors[0].color.blue, 0, 'Blue component should be 0');\n\t});\n\n\ttest('Multiple hex colors in array should be detected', () => {\n\t\tconst model = new TestDocumentModel(`const colors = ['#ff0000', '#00ff00', '#0000ff'];`);\n\t\tconst colors = computeDefaultDocumentColors(model);\n\n\t\tassert.strictEqual(colors.length, 3, 'Should detect three hex colors');\n\n\t\t// First color: red\n\t\tassert.strictEqual(colors[0].color.red, 1, 'First color red component should be 1');\n\t\tassert.strictEqual(colors[0].color.green, 0, 'First color green component should be 0');\n\t\tassert.strictEqual(colors[0].color.blue, 0, 'First color blue component should be 0');\n\n\t\t// Second color: green\n\t\tassert.strictEqual(colors[1].color.red, 0, 'Second color red component should be 0');\n\t\tassert.strictEqual(colors[1].color.green, 1, 'Second color green component should be 1');\n\t\tassert.strictEqual(colors[1].color.blue, 0, 'Second color blue component should be 0');\n\n\t\t// Third color: blue\n\t\tassert.strictEqual(colors[2].color.red, 0, 'Third color red component should be 0');\n\t\tassert.strictEqual(colors[2].color.green, 0, 'Third color green component should be 0');\n\t\tassert.strictEqual(colors[2].color.blue, 1, 'Third color blue component should be 1');\n\t});\n\n\ttest('Existing functionality should still work', () => {\n\t\t// Test cases that were already working\n\t\tconst testCases = [\n\t\t\t{ content: `const color = ' #ff0000';`, name: 'hex with space before' },\n\t\t\t{ content: '#ff0000', name: 'hex at start of line' },\n\t\t\t{ content: '  #ff0000', name: 'hex with whitespace before' }\n\t\t];\n\n\t\ttestCases.forEach(testCase => {\n\t\t\tconst model = new TestDocumentModel(testCase.content);\n\t\t\tconst colors = computeDefaultDocumentColors(model);\n\t\t\tassert.strictEqual(colors.length, 1, `Should still detect ${testCase.name}`);\n\t\t});\n\t});\n\n\ttest('8-digit hex colors should also work', () => {\n\t\tconst model = new TestDocumentModel(`const color = '#ff0000ff';`);\n\t\tconst colors = computeDefaultDocumentColors(model);\n\n\t\tassert.strictEqual(colors.length, 1, 'Should detect one 8-digit hex color');\n\t\tassert.strictEqual(colors[0].color.red, 1, 'Red component should be 1');\n\t\tassert.strictEqual(colors[0].color.green, 0, 'Green component should be 0');\n\t\tassert.strictEqual(colors[0].color.blue, 0, 'Blue component should be 0');\n\t\tassert.strictEqual(colors[0].color.alpha, 1, 'Alpha should be 1 (ff/255)');\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as assert from 'assert';\nimport { computeDefaultDocumentColors } from '../../../common/languages/defaultDocumentColorsComputer.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\n\nsuite('Default Document Colors Computer', () => {\n\n\tclass TestDocumentModel {\n\t\tconstructor(private content: string) { }\n\n\t\tgetValue(): string {\n\t\t\treturn this.content;\n\t\t}\n\n\t\tpositionAt(offset: number) {\n\t\t\tconst lines = this.content.substring(0, offset).split('\\n');\n\t\t\treturn {\n\t\t\t\tlineNumber: lines.length,\n\t\t\t\tcolumn: lines[lines.length - 1].length + 1\n\t\t\t};\n\t\t}\n\n\t\tfindMatches(regex: RegExp): RegExpMatchArray[] {\n\t\t\treturn [...this.content.matchAll(regex)];\n\t\t}\n\t}\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('Hex colors in strings should be detected', () => {\n\t\t// Test case from issue: hex color inside string is not detected\n\t\tconst model = new TestDocumentModel(`const color = '#ff0000';`);\n\t\tconst colors = computeDefaultDocumentColors(model);\n\n\t\tassert.strictEqual(colors.length, 1, 'Should detect one hex color');\n\t\tassert.strictEqual(colors[0].color.red, 1, 'Red component should be 1 (255/255)');\n\t\tassert.strictEqual(colors[0].color.green, 0, 'Green component should be 0');\n\t\tassert.strictEqual(colors[0].color.blue, 0, 'Blue component should be 0');\n\t\tassert.strictEqual(colors[0].color.alpha, 1, 'Alpha should be 1');\n\t});\n\n\ttest('Hex colors in double quotes should be detected', () => {\n\t\tconst model = new TestDocumentModel('const color = \"#00ff00\";');\n\t\tconst colors = computeDefaultDocumentColors(model);\n\n\t\tassert.strictEqual(colors.length, 1, 'Should detect one hex color');\n\t\tassert.strictEqual(colors[0].color.red, 0, 'Red component should be 0');\n\t\tassert.strictEqual(colors[0].color.green, 1, 'Green component should be 1 (255/255)');\n\t\tassert.strictEqual(colors[0].color.blue, 0, 'Blue component should be 0');\n\t});\n\n\ttest('Multiple hex colors in array should be detected', () => {\n\t\tconst model = new TestDocumentModel(`const colors = ['#ff0000', '#00ff00', '#0000ff'];`);\n\t\tconst colors = computeDefaultDocumentColors(model);\n\n\t\tassert.strictEqual(colors.length, 3, 'Should detect three hex colors');\n\n\t\t// First color: red\n\t\tassert.strictEqual(colors[0].color.red, 1, 'First color red component should be 1');\n\t\tassert.strictEqual(colors[0].color.green, 0, 'First color green component should be 0');\n\t\tassert.strictEqual(colors[0].color.blue, 0, 'First color blue component should be 0');\n\n\t\t// Second color: green\n\t\tassert.strictEqual(colors[1].color.red, 0, 'Second color red component should be 0');\n\t\tassert.strictEqual(colors[1].color.green, 1, 'Second color green component should be 1');\n\t\tassert.strictEqual(colors[1].color.blue, 0, 'Second color blue component should be 0');\n\n\t\t// Third color: blue\n\t\tassert.strictEqual(colors[2].color.red, 0, 'Third color red component should be 0');\n\t\tassert.strictEqual(colors[2].color.green, 0, 'Third color green component should be 0');\n\t\tassert.strictEqual(colors[2].color.blue, 1, 'Third color blue component should be 1');\n\t});\n\n\ttest('Existing functionality should still work', () => {\n\t\t// Test cases that were already working\n\t\tconst testCases = [\n\t\t\t{ content: `const color = ' #ff0000';`, name: 'hex with space before' },\n\t\t\t{ content: '#ff0000', name: 'hex at start of line' },\n\t\t\t{ content: '  #ff0000', name: 'hex with whitespace before' }\n\t\t];\n\n\t\ttestCases.forEach(testCase => {\n\t\t\tconst model = new TestDocumentModel(testCase.content);\n\t\t\tconst colors = computeDefaultDocumentColors(model);\n\t\t\tassert.strictEqual(colors.length, 1, `Should still detect ${testCase.name}`);\n\t\t});\n\t});\n\n\ttest('8-digit hex colors should also work', () => {\n\t\tconst model = new TestDocumentModel(`const color = '#ff0000ff';`);\n\t\tconst colors = computeDefaultDocumentColors(model);\n\n\t\tassert.strictEqual(colors.length, 1, 'Should detect one 8-digit hex color');\n\t\tassert.strictEqual(colors[0].color.red, 1, 'Red component should be 1');\n\t\tassert.strictEqual(colors[0].color.green, 0, 'Green component should be 0');\n\t\tassert.strictEqual(colors[0].color.blue, 0, 'Blue component should be 0');\n\t\tassert.strictEqual(colors[0].color.alpha, 1, 'Alpha should be 1 (ff/255)');\n\t});\n});\n"]}