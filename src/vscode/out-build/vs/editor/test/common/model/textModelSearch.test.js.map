{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/editor/test/common/model/textModelSearch.test.ts","vs/editor/test/common/model/textModelSearch.test.ts"],"names":[],"mappings":"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","file":"textModelSearch.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { getMapForWordSeparators } from '../../../common/core/wordCharacterClassifier.js';\nimport { USUAL_WORD_SEPARATORS } from '../../../common/core/wordHelper.js';\nimport { EndOfLineSequence, FindMatch, SearchData } from '../../../common/model.js';\nimport { TextModel } from '../../../common/model/textModel.js';\nimport { SearchParams, TextModelSearch, isMultilineRegexSource } from '../../../common/model/textModelSearch.js';\nimport { createTextModel } from '../testTextModel.js';\n\n// --------- Find\nsuite('TextModelSearch', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tconst usualWordSeparators = getMapForWordSeparators(USUAL_WORD_SEPARATORS, []);\n\n\tfunction assertFindMatch(actual: FindMatch | null, expectedRange: Range, expectedMatches: string[] | null = null): void {\n\t\tassert.deepStrictEqual(actual, new FindMatch(expectedRange, expectedMatches));\n\t}\n\n\tfunction _assertFindMatches(model: TextModel, searchParams: SearchParams, expectedMatches: FindMatch[]): void {\n\t\tconst actual = TextModelSearch.findMatches(model, searchParams, model.getFullModelRange(), false, 1000);\n\t\tassert.deepStrictEqual(actual, expectedMatches, 'findMatches OK');\n\n\t\t// test `findNextMatch`\n\t\tlet startPos = new Position(1, 1);\n\t\tlet match = TextModelSearch.findNextMatch(model, searchParams, startPos, false);\n\t\tassert.deepStrictEqual(match, expectedMatches[0], `findNextMatch ${startPos}`);\n\t\tfor (const expectedMatch of expectedMatches) {\n\t\t\tstartPos = expectedMatch.range.getStartPosition();\n\t\t\tmatch = TextModelSearch.findNextMatch(model, searchParams, startPos, false);\n\t\t\tassert.deepStrictEqual(match, expectedMatch, `findNextMatch ${startPos}`);\n\t\t}\n\n\t\t// test `findPrevMatch`\n\t\tstartPos = new Position(model.getLineCount(), model.getLineMaxColumn(model.getLineCount()));\n\t\tmatch = TextModelSearch.findPreviousMatch(model, searchParams, startPos, false);\n\t\tassert.deepStrictEqual(match, expectedMatches[expectedMatches.length - 1], `findPrevMatch ${startPos}`);\n\t\tfor (const expectedMatch of expectedMatches) {\n\t\t\tstartPos = expectedMatch.range.getEndPosition();\n\t\t\tmatch = TextModelSearch.findPreviousMatch(model, searchParams, startPos, false);\n\t\t\tassert.deepStrictEqual(match, expectedMatch, `findPrevMatch ${startPos}`);\n\t\t}\n\t}\n\n\tfunction assertFindMatches(text: string, searchString: string, isRegex: boolean, matchCase: boolean, wordSeparators: string | null, _expected: [number, number, number, number][]): void {\n\t\tconst expectedRanges = _expected.map(entry => new Range(entry[0], entry[1], entry[2], entry[3]));\n\t\tconst expectedMatches = expectedRanges.map(entry => new FindMatch(entry, null));\n\t\tconst searchParams = new SearchParams(searchString, isRegex, matchCase, wordSeparators);\n\n\t\tconst model = createTextModel(text);\n\t\t_assertFindMatches(model, searchParams, expectedMatches);\n\t\tmodel.dispose();\n\n\n\t\tconst model2 = createTextModel(text);\n\t\tmodel2.setEOL(EndOfLineSequence.CRLF);\n\t\t_assertFindMatches(model2, searchParams, expectedMatches);\n\t\tmodel2.dispose();\n\t}\n\n\tconst regularText = [\n\t\t'This is some foo - bar text which contains foo and bar - as in Barcelona.',\n\t\t'Now it begins a word fooBar and now it is caps Foo-isn\\'t this great?',\n\t\t'And here\\'s a dull line with nothing interesting in it',\n\t\t'It is also interesting if it\\'s part of a word like amazingFooBar',\n\t\t'Again nothing interesting here'\n\t];\n\n\ttest('Simple find', () => {\n\t\tassertFindMatches(\n\t\t\tregularText.join('\\n'),\n\t\t\t'foo', false, false, null,\n\t\t\t[\n\t\t\t\t[1, 14, 1, 17],\n\t\t\t\t[1, 44, 1, 47],\n\t\t\t\t[2, 22, 2, 25],\n\t\t\t\t[2, 48, 2, 51],\n\t\t\t\t[4, 59, 4, 62]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('Case sensitive find', () => {\n\t\tassertFindMatches(\n\t\t\tregularText.join('\\n'),\n\t\t\t'foo', false, true, null,\n\t\t\t[\n\t\t\t\t[1, 14, 1, 17],\n\t\t\t\t[1, 44, 1, 47],\n\t\t\t\t[2, 22, 2, 25]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('Whole words find', () => {\n\t\tassertFindMatches(\n\t\t\tregularText.join('\\n'),\n\t\t\t'foo', false, false, USUAL_WORD_SEPARATORS,\n\t\t\t[\n\t\t\t\t[1, 14, 1, 17],\n\t\t\t\t[1, 44, 1, 47],\n\t\t\t\t[2, 48, 2, 51]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('/^/ find', () => {\n\t\tassertFindMatches(\n\t\t\tregularText.join('\\n'),\n\t\t\t'^', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 1, 1, 1],\n\t\t\t\t[2, 1, 2, 1],\n\t\t\t\t[3, 1, 3, 1],\n\t\t\t\t[4, 1, 4, 1],\n\t\t\t\t[5, 1, 5, 1]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('/$/ find', () => {\n\t\tassertFindMatches(\n\t\t\tregularText.join('\\n'),\n\t\t\t'$', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 74, 1, 74],\n\t\t\t\t[2, 69, 2, 69],\n\t\t\t\t[3, 54, 3, 54],\n\t\t\t\t[4, 65, 4, 65],\n\t\t\t\t[5, 31, 5, 31]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('/.*/ find', () => {\n\t\tassertFindMatches(\n\t\t\tregularText.join('\\n'),\n\t\t\t'.*', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 1, 1, 74],\n\t\t\t\t[2, 1, 2, 69],\n\t\t\t\t[3, 1, 3, 54],\n\t\t\t\t[4, 1, 4, 65],\n\t\t\t\t[5, 1, 5, 31]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('/^$/ find', () => {\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'This is some foo - bar text which contains foo and bar - as in Barcelona.',\n\t\t\t\t'',\n\t\t\t\t'And here\\'s a dull line with nothing interesting in it',\n\t\t\t\t'',\n\t\t\t\t'Again nothing interesting here'\n\t\t\t].join('\\n'),\n\t\t\t'^$', true, false, null,\n\t\t\t[\n\t\t\t\t[2, 1, 2, 1],\n\t\t\t\t[4, 1, 4, 1]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('multiline find 1', () => {\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'Just some text text',\n\t\t\t\t'Just some text text',\n\t\t\t\t'some text again',\n\t\t\t\t'again some text'\n\t\t\t].join('\\n'),\n\t\t\t'text\\\\n', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 16, 2, 1],\n\t\t\t\t[2, 16, 3, 1],\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('multiline find 2', () => {\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'Just some text text',\n\t\t\t\t'Just some text text',\n\t\t\t\t'some text again',\n\t\t\t\t'again some text'\n\t\t\t].join('\\n'),\n\t\t\t'text\\\\nJust', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 16, 2, 5]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('multiline find 3', () => {\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'Just some text text',\n\t\t\t\t'Just some text text',\n\t\t\t\t'some text again',\n\t\t\t\t'again some text'\n\t\t\t].join('\\n'),\n\t\t\t'\\\\nagain', true, false, null,\n\t\t\t[\n\t\t\t\t[3, 16, 4, 6]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('multiline find 4', () => {\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'Just some text text',\n\t\t\t\t'Just some text text',\n\t\t\t\t'some text again',\n\t\t\t\t'again some text'\n\t\t\t].join('\\n'),\n\t\t\t'.*\\\\nJust.*\\\\n', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 1, 3, 1]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('multiline find with line beginning regex', () => {\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'if',\n\t\t\t\t'else',\n\t\t\t\t'',\n\t\t\t\t'if',\n\t\t\t\t'else'\n\t\t\t].join('\\n'),\n\t\t\t'^if\\\\nelse', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 1, 2, 5],\n\t\t\t\t[4, 1, 5, 5]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('matching empty lines using boundary expression', () => {\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'if',\n\t\t\t\t'',\n\t\t\t\t'else',\n\t\t\t\t'  ',\n\t\t\t\t'if',\n\t\t\t\t' ',\n\t\t\t\t'else'\n\t\t\t].join('\\n'),\n\t\t\t'^\\\\s*$\\\\n', true, false, null,\n\t\t\t[\n\t\t\t\t[2, 1, 3, 1],\n\t\t\t\t[4, 1, 5, 1],\n\t\t\t\t[6, 1, 7, 1]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('matching lines starting with A and ending with B', () => {\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'a if b',\n\t\t\t\t'a',\n\t\t\t\t'ab',\n\t\t\t\t'eb'\n\t\t\t].join('\\n'),\n\t\t\t'^a.*b$', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 1, 1, 7],\n\t\t\t\t[3, 1, 3, 3]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('multiline find with line ending regex', () => {\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'if',\n\t\t\t\t'else',\n\t\t\t\t'',\n\t\t\t\t'if',\n\t\t\t\t'elseif',\n\t\t\t\t'else'\n\t\t\t].join('\\n'),\n\t\t\t'if\\\\nelse$', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 1, 2, 5],\n\t\t\t\t[5, 5, 6, 5]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('issue #4836 - ^.*$', () => {\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'Just some text text',\n\t\t\t\t'',\n\t\t\t\t'some text again',\n\t\t\t\t'',\n\t\t\t\t'again some text'\n\t\t\t].join('\\n'),\n\t\t\t'^.*$', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 1, 1, 20],\n\t\t\t\t[2, 1, 2, 1],\n\t\t\t\t[3, 1, 3, 16],\n\t\t\t\t[4, 1, 4, 1],\n\t\t\t\t[5, 1, 5, 16],\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('multiline find for non-regex string', () => {\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'Just some text text',\n\t\t\t\t'some text text',\n\t\t\t\t'some text again',\n\t\t\t\t'again some text',\n\t\t\t\t'but not some'\n\t\t\t].join('\\n'),\n\t\t\t'text\\nsome', false, false, null,\n\t\t\t[\n\t\t\t\t[1, 16, 2, 5],\n\t\t\t\t[2, 11, 3, 5],\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('issue #3623: Match whole word does not work for not latin characters', () => {\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'я',\n\t\t\t\t'компилятор',\n\t\t\t\t'обфускация',\n\t\t\t\t':я-я'\n\t\t\t].join('\\n'),\n\t\t\t'я', false, false, USUAL_WORD_SEPARATORS,\n\t\t\t[\n\t\t\t\t[1, 1, 1, 2],\n\t\t\t\t[4, 2, 4, 3],\n\t\t\t\t[4, 4, 4, 5],\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('issue #27459: Match whole words regression', () => {\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'this._register(this._textAreaInput.onKeyDown((e: IKeyboardEvent) => {',\n\t\t\t\t'\tthis._viewController.emitKeyDown(e);',\n\t\t\t\t'}));',\n\t\t\t].join('\\n'),\n\t\t\t'((e: ', false, false, USUAL_WORD_SEPARATORS,\n\t\t\t[\n\t\t\t\t[1, 45, 1, 50]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('issue #27594: Search results disappear', () => {\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'this.server.listen(0);',\n\t\t\t].join('\\n'),\n\t\t\t'listen(', false, false, USUAL_WORD_SEPARATORS,\n\t\t\t[\n\t\t\t\t[1, 13, 1, 20]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('findNextMatch without regex', () => {\n\t\tconst model = createTextModel('line line one\\nline two\\nthree');\n\n\t\tconst searchParams = new SearchParams('line', false, false, null);\n\n\t\tlet actual = TextModelSearch.findNextMatch(model, searchParams, new Position(1, 1), false);\n\t\tassertFindMatch(actual, new Range(1, 1, 1, 5));\n\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, actual!.range.getEndPosition(), false);\n\t\tassertFindMatch(actual, new Range(1, 6, 1, 10));\n\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, new Position(1, 3), false);\n\t\tassertFindMatch(actual, new Range(1, 6, 1, 10));\n\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, actual!.range.getEndPosition(), false);\n\t\tassertFindMatch(actual, new Range(2, 1, 2, 5));\n\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, actual!.range.getEndPosition(), false);\n\t\tassertFindMatch(actual, new Range(1, 1, 1, 5));\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('findNextMatch with beginning boundary regex', () => {\n\t\tconst model = createTextModel('line one\\nline two\\nthree');\n\n\t\tconst searchParams = new SearchParams('^line', true, false, null);\n\n\t\tlet actual = TextModelSearch.findNextMatch(model, searchParams, new Position(1, 1), false);\n\t\tassertFindMatch(actual, new Range(1, 1, 1, 5));\n\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, actual!.range.getEndPosition(), false);\n\t\tassertFindMatch(actual, new Range(2, 1, 2, 5));\n\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, new Position(1, 3), false);\n\t\tassertFindMatch(actual, new Range(2, 1, 2, 5));\n\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, actual!.range.getEndPosition(), false);\n\t\tassertFindMatch(actual, new Range(1, 1, 1, 5));\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('findNextMatch with beginning boundary regex and line has repetitive beginnings', () => {\n\t\tconst model = createTextModel('line line one\\nline two\\nthree');\n\n\t\tconst searchParams = new SearchParams('^line', true, false, null);\n\n\t\tlet actual = TextModelSearch.findNextMatch(model, searchParams, new Position(1, 1), false);\n\t\tassertFindMatch(actual, new Range(1, 1, 1, 5));\n\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, actual!.range.getEndPosition(), false);\n\t\tassertFindMatch(actual, new Range(2, 1, 2, 5));\n\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, new Position(1, 3), false);\n\t\tassertFindMatch(actual, new Range(2, 1, 2, 5));\n\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, actual!.range.getEndPosition(), false);\n\t\tassertFindMatch(actual, new Range(1, 1, 1, 5));\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('findNextMatch with beginning boundary multiline regex and line has repetitive beginnings', () => {\n\t\tconst model = createTextModel('line line one\\nline two\\nline three\\nline four');\n\n\t\tconst searchParams = new SearchParams('^line.*\\\\nline', true, false, null);\n\n\t\tlet actual = TextModelSearch.findNextMatch(model, searchParams, new Position(1, 1), false);\n\t\tassertFindMatch(actual, new Range(1, 1, 2, 5));\n\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, actual!.range.getEndPosition(), false);\n\t\tassertFindMatch(actual, new Range(3, 1, 4, 5));\n\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, new Position(2, 1), false);\n\t\tassertFindMatch(actual, new Range(2, 1, 3, 5));\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('findNextMatch with ending boundary regex', () => {\n\t\tconst model = createTextModel('one line line\\ntwo line\\nthree');\n\n\t\tconst searchParams = new SearchParams('line$', true, false, null);\n\n\t\tlet actual = TextModelSearch.findNextMatch(model, searchParams, new Position(1, 1), false);\n\t\tassertFindMatch(actual, new Range(1, 10, 1, 14));\n\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, new Position(1, 4), false);\n\t\tassertFindMatch(actual, new Range(1, 10, 1, 14));\n\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, actual!.range.getEndPosition(), false);\n\t\tassertFindMatch(actual, new Range(2, 5, 2, 9));\n\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, actual!.range.getEndPosition(), false);\n\t\tassertFindMatch(actual, new Range(1, 10, 1, 14));\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('findMatches with capturing matches', () => {\n\t\tconst model = createTextModel('one line line\\ntwo line\\nthree');\n\n\t\tconst searchParams = new SearchParams('(l(in)e)', true, false, null);\n\n\t\tconst actual = TextModelSearch.findMatches(model, searchParams, model.getFullModelRange(), true, 100);\n\t\tassert.deepStrictEqual(actual, [\n\t\t\tnew FindMatch(new Range(1, 5, 1, 9), ['line', 'line', 'in']),\n\t\t\tnew FindMatch(new Range(1, 10, 1, 14), ['line', 'line', 'in']),\n\t\t\tnew FindMatch(new Range(2, 5, 2, 9), ['line', 'line', 'in']),\n\t\t]);\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('findMatches multiline with capturing matches', () => {\n\t\tconst model = createTextModel('one line line\\ntwo line\\nthree');\n\n\t\tconst searchParams = new SearchParams('(l(in)e)\\\\n', true, false, null);\n\n\t\tconst actual = TextModelSearch.findMatches(model, searchParams, model.getFullModelRange(), true, 100);\n\t\tassert.deepStrictEqual(actual, [\n\t\t\tnew FindMatch(new Range(1, 10, 2, 1), ['line\\n', 'line', 'in']),\n\t\t\tnew FindMatch(new Range(2, 5, 3, 1), ['line\\n', 'line', 'in']),\n\t\t]);\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('findNextMatch with capturing matches', () => {\n\t\tconst model = createTextModel('one line line\\ntwo line\\nthree');\n\n\t\tconst searchParams = new SearchParams('(l(in)e)', true, false, null);\n\n\t\tconst actual = TextModelSearch.findNextMatch(model, searchParams, new Position(1, 1), true);\n\t\tassertFindMatch(actual, new Range(1, 5, 1, 9), ['line', 'line', 'in']);\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('findNextMatch multiline with capturing matches', () => {\n\t\tconst model = createTextModel('one line line\\ntwo line\\nthree');\n\n\t\tconst searchParams = new SearchParams('(l(in)e)\\\\n', true, false, null);\n\n\t\tconst actual = TextModelSearch.findNextMatch(model, searchParams, new Position(1, 1), true);\n\t\tassertFindMatch(actual, new Range(1, 10, 2, 1), ['line\\n', 'line', 'in']);\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('findPreviousMatch with capturing matches', () => {\n\t\tconst model = createTextModel('one line line\\ntwo line\\nthree');\n\n\t\tconst searchParams = new SearchParams('(l(in)e)', true, false, null);\n\n\t\tconst actual = TextModelSearch.findPreviousMatch(model, searchParams, new Position(1, 1), true);\n\t\tassertFindMatch(actual, new Range(2, 5, 2, 9), ['line', 'line', 'in']);\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('findPreviousMatch multiline with capturing matches', () => {\n\t\tconst model = createTextModel('one line line\\ntwo line\\nthree');\n\n\t\tconst searchParams = new SearchParams('(l(in)e)\\\\n', true, false, null);\n\n\t\tconst actual = TextModelSearch.findPreviousMatch(model, searchParams, new Position(1, 1), true);\n\t\tassertFindMatch(actual, new Range(2, 5, 3, 1), ['line\\n', 'line', 'in']);\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('\\\\n matches \\\\r\\\\n', () => {\n\t\tconst model = createTextModel('a\\r\\nb\\r\\nc\\r\\nd\\r\\ne\\r\\nf\\r\\ng\\r\\nh\\r\\ni');\n\n\t\tassert.strictEqual(model.getEOL(), '\\r\\n');\n\n\t\tlet searchParams = new SearchParams('h\\\\n', true, false, null);\n\t\tlet actual = TextModelSearch.findNextMatch(model, searchParams, new Position(1, 1), true);\n\t\tactual = TextModelSearch.findMatches(model, searchParams, model.getFullModelRange(), true, 1000)[0];\n\t\tassertFindMatch(actual, new Range(8, 1, 9, 1), ['h\\n']);\n\n\t\tsearchParams = new SearchParams('g\\\\nh\\\\n', true, false, null);\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, new Position(1, 1), true);\n\t\tactual = TextModelSearch.findMatches(model, searchParams, model.getFullModelRange(), true, 1000)[0];\n\t\tassertFindMatch(actual, new Range(7, 1, 9, 1), ['g\\nh\\n']);\n\n\t\tsearchParams = new SearchParams('\\\\ni', true, false, null);\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, new Position(1, 1), true);\n\t\tactual = TextModelSearch.findMatches(model, searchParams, model.getFullModelRange(), true, 1000)[0];\n\t\tassertFindMatch(actual, new Range(8, 2, 9, 2), ['\\ni']);\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('\\\\r can never be found', () => {\n\t\tconst model = createTextModel('a\\r\\nb\\r\\nc\\r\\nd\\r\\ne\\r\\nf\\r\\ng\\r\\nh\\r\\ni');\n\n\t\tassert.strictEqual(model.getEOL(), '\\r\\n');\n\n\t\tconst searchParams = new SearchParams('\\\\r\\\\n', true, false, null);\n\t\tconst actual = TextModelSearch.findNextMatch(model, searchParams, new Position(1, 1), true);\n\t\tassert.strictEqual(actual, null);\n\t\tassert.deepStrictEqual(TextModelSearch.findMatches(model, searchParams, model.getFullModelRange(), true, 1000), []);\n\n\t\tmodel.dispose();\n\t});\n\n\tfunction assertParseSearchResult(searchString: string, isRegex: boolean, matchCase: boolean, wordSeparators: string | null, expected: SearchData | null): void {\n\t\tconst searchParams = new SearchParams(searchString, isRegex, matchCase, wordSeparators);\n\t\tconst actual = searchParams.parseSearchRequest();\n\n\t\tif (expected === null) {\n\t\t\tassert.ok(actual === null);\n\t\t} else {\n\t\t\tassert.deepStrictEqual(actual!.regex, expected.regex);\n\t\t\tassert.deepStrictEqual(actual!.simpleSearch, expected.simpleSearch);\n\t\t\tif (wordSeparators) {\n\t\t\t\tassert.ok(actual!.wordSeparators !== null);\n\t\t\t} else {\n\t\t\t\tassert.ok(actual!.wordSeparators === null);\n\t\t\t}\n\t\t}\n\t}\n\n\ttest('parseSearchRequest invalid', () => {\n\t\tassertParseSearchResult('', true, true, USUAL_WORD_SEPARATORS, null);\n\t\tassertParseSearchResult('(', true, false, null, null);\n\t});\n\n\ttest('parseSearchRequest non regex', () => {\n\t\tassertParseSearchResult('foo', false, false, null, new SearchData(/foo/giu, null, null));\n\t\tassertParseSearchResult('foo', false, false, USUAL_WORD_SEPARATORS, new SearchData(/foo/giu, usualWordSeparators, null));\n\t\tassertParseSearchResult('foo', false, true, null, new SearchData(/foo/gu, null, 'foo'));\n\t\tassertParseSearchResult('foo', false, true, USUAL_WORD_SEPARATORS, new SearchData(/foo/gu, usualWordSeparators, 'foo'));\n\t\tassertParseSearchResult('foo\\\\n', false, false, null, new SearchData(/foo\\\\n/giu, null, null));\n\t\tassertParseSearchResult('foo\\\\\\\\n', false, false, null, new SearchData(/foo\\\\\\\\n/giu, null, null));\n\t\tassertParseSearchResult('foo\\\\r', false, false, null, new SearchData(/foo\\\\r/giu, null, null));\n\t\tassertParseSearchResult('foo\\\\\\\\r', false, false, null, new SearchData(/foo\\\\\\\\r/giu, null, null));\n\t});\n\n\ttest('parseSearchRequest regex', () => {\n\t\tassertParseSearchResult('foo', true, false, null, new SearchData(/foo/giu, null, null));\n\t\tassertParseSearchResult('foo', true, false, USUAL_WORD_SEPARATORS, new SearchData(/foo/giu, usualWordSeparators, null));\n\t\tassertParseSearchResult('foo', true, true, null, new SearchData(/foo/gu, null, null));\n\t\tassertParseSearchResult('foo', true, true, USUAL_WORD_SEPARATORS, new SearchData(/foo/gu, usualWordSeparators, null));\n\t\tassertParseSearchResult('foo\\\\n', true, false, null, new SearchData(/foo\\n/gimu, null, null));\n\t\tassertParseSearchResult('foo\\\\\\\\n', true, false, null, new SearchData(/foo\\\\n/giu, null, null));\n\t\tassertParseSearchResult('foo\\\\r', true, false, null, new SearchData(/foo\\r/gimu, null, null));\n\t\tassertParseSearchResult('foo\\\\\\\\r', true, false, null, new SearchData(/foo\\\\r/giu, null, null));\n\t});\n\n\ttest('issue #53415. \\W should match line break.', () => {\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'text',\n\t\t\t\t'180702-',\n\t\t\t\t'180703-180704'\n\t\t\t].join('\\n'),\n\t\t\t'\\\\d{6}-\\\\W', true, false, null,\n\t\t\t[\n\t\t\t\t[2, 1, 3, 1]\n\t\t\t]\n\t\t);\n\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'Just some text',\n\t\t\t\t'',\n\t\t\t\t'Just'\n\t\t\t].join('\\n'),\n\t\t\t'\\\\W', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 5, 1, 6],\n\t\t\t\t[1, 10, 1, 11],\n\t\t\t\t[1, 15, 2, 1],\n\t\t\t\t[2, 1, 3, 1]\n\t\t\t]\n\t\t);\n\n\t\t// Line break doesn't affect the result as we always use \\n as line break when doing search\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'Just some text',\n\t\t\t\t'',\n\t\t\t\t'Just'\n\t\t\t].join('\\r\\n'),\n\t\t\t'\\\\W', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 5, 1, 6],\n\t\t\t\t[1, 10, 1, 11],\n\t\t\t\t[1, 15, 2, 1],\n\t\t\t\t[2, 1, 3, 1]\n\t\t\t]\n\t\t);\n\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'Just some text',\n\t\t\t\t'\\tJust',\n\t\t\t\t'Just'\n\t\t\t].join('\\n'),\n\t\t\t'\\\\W', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 5, 1, 6],\n\t\t\t\t[1, 10, 1, 11],\n\t\t\t\t[1, 15, 2, 1],\n\t\t\t\t[2, 1, 2, 2],\n\t\t\t\t[2, 6, 3, 1],\n\t\t\t]\n\t\t);\n\n\t\t// line break is seen as one non-word character\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'Just  some text',\n\t\t\t\t'',\n\t\t\t\t'Just'\n\t\t\t].join('\\n'),\n\t\t\t'\\\\W{2}', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 5, 1, 7],\n\t\t\t\t[1, 16, 3, 1]\n\t\t\t]\n\t\t);\n\n\t\t// even if it's \\r\\n\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'Just  some text',\n\t\t\t\t'',\n\t\t\t\t'Just'\n\t\t\t].join('\\r\\n'),\n\t\t\t'\\\\W{2}', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 5, 1, 7],\n\t\t\t\t[1, 16, 3, 1]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('Simple find using unicode escape sequences', () => {\n\t\tassertFindMatches(\n\t\t\tregularText.join('\\n'),\n\t\t\t'\\\\u{0066}\\\\u006f\\\\u006F', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 14, 1, 17],\n\t\t\t\t[1, 44, 1, 47],\n\t\t\t\t[2, 22, 2, 25],\n\t\t\t\t[2, 48, 2, 51],\n\t\t\t\t[4, 59, 4, 62]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('isMultilineRegexSource', () => {\n\t\tassert(!isMultilineRegexSource('foo'));\n\t\tassert(!isMultilineRegexSource(''));\n\t\tassert(!isMultilineRegexSource('foo\\\\sbar'));\n\t\tassert(!isMultilineRegexSource('\\\\\\\\notnewline'));\n\n\t\tassert(isMultilineRegexSource('foo\\\\nbar'));\n\t\tassert(isMultilineRegexSource('foo\\\\nbar\\\\s'));\n\t\tassert(isMultilineRegexSource('foo\\\\r\\\\n'));\n\t\tassert(isMultilineRegexSource('\\\\n'));\n\t\tassert(isMultilineRegexSource('foo\\\\W'));\n\t\tassert(isMultilineRegexSource('foo\\n'));\n\t\tassert(isMultilineRegexSource('foo\\r\\n'));\n\t});\n\n\ttest('isMultilineRegexSource correctly identifies multiline patterns', () => {\n\t\tconst singleLinePatterns = [\n\t\t\t'MARK:\\\\s*(?<label>.*)$',\n\t\t\t'^// Header$',\n\t\t\t'\\\\s*[-=]+\\\\s*',\n\t\t];\n\n\t\tconst multiLinePatterns = [\n\t\t\t'^\\/\\/ =+\\\\n^\\/\\/ (?<label>[^\\\\n]+?)\\\\n^\\/\\/ =+$',\n\t\t\t'header\\\\r\\\\nfooter',\n\t\t\t'start\\\\r|\\\\nend',\n\t\t\t'top\\nmiddle\\r\\nbottom'\n\t\t];\n\n\t\tfor (const pattern of singleLinePatterns) {\n\t\t\tassert.strictEqual(isMultilineRegexSource(pattern), false, `Pattern should not be multiline: ${pattern}`);\n\t\t}\n\n\t\tfor (const pattern of multiLinePatterns) {\n\t\t\tassert.strictEqual(isMultilineRegexSource(pattern), true, `Pattern should be multiline: ${pattern}`);\n\t\t}\n\t});\n\n\ttest('issue #74715. \\\\d* finds empty string and stops searching.', () => {\n\t\tconst model = createTextModel('10.243.30.10');\n\n\t\tconst searchParams = new SearchParams('\\\\d*', true, false, null);\n\n\t\tconst actual = TextModelSearch.findMatches(model, searchParams, model.getFullModelRange(), true, 100);\n\t\tassert.deepStrictEqual(actual, [\n\t\t\tnew FindMatch(new Range(1, 1, 1, 3), ['10']),\n\t\t\tnew FindMatch(new Range(1, 3, 1, 3), ['']),\n\t\t\tnew FindMatch(new Range(1, 4, 1, 7), ['243']),\n\t\t\tnew FindMatch(new Range(1, 7, 1, 7), ['']),\n\t\t\tnew FindMatch(new Range(1, 8, 1, 10), ['30']),\n\t\t\tnew FindMatch(new Range(1, 10, 1, 10), ['']),\n\t\t\tnew FindMatch(new Range(1, 11, 1, 13), ['10'])\n\t\t]);\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('issue #100134. Zero-length matches should properly step over surrogate pairs', () => {\n\t\t// 1[Laptop]1 - there shoud be no matches inside of [Laptop] emoji\n\t\tassertFindMatches('1\\uD83D\\uDCBB1', '()', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 1, 1, 1],\n\t\t\t\t[1, 2, 1, 2],\n\t\t\t\t[1, 4, 1, 4],\n\t\t\t\t[1, 5, 1, 5],\n\n\t\t\t]\n\t\t);\n\t\t// 1[Hacker Cat]1 = 1[Cat Face][ZWJ][Laptop]1 - there shoud be matches between emoji and ZWJ\n\t\t// there shoud be no matches inside of [Cat Face] and [Laptop] emoji\n\t\tassertFindMatches('1\\uD83D\\uDC31\\u200D\\uD83D\\uDCBB1', '()', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 1, 1, 1],\n\t\t\t\t[1, 2, 1, 2],\n\t\t\t\t[1, 4, 1, 4],\n\t\t\t\t[1, 5, 1, 5],\n\t\t\t\t[1, 7, 1, 7],\n\t\t\t\t[1, 8, 1, 8]\n\t\t\t]\n\t\t);\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { getMapForWordSeparators } from '../../../common/core/wordCharacterClassifier.js';\nimport { USUAL_WORD_SEPARATORS } from '../../../common/core/wordHelper.js';\nimport { EndOfLineSequence, FindMatch, SearchData } from '../../../common/model.js';\nimport { TextModel } from '../../../common/model/textModel.js';\nimport { SearchParams, TextModelSearch, isMultilineRegexSource } from '../../../common/model/textModelSearch.js';\nimport { createTextModel } from '../testTextModel.js';\n\n// --------- Find\nsuite('TextModelSearch', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tconst usualWordSeparators = getMapForWordSeparators(USUAL_WORD_SEPARATORS, []);\n\n\tfunction assertFindMatch(actual: FindMatch | null, expectedRange: Range, expectedMatches: string[] | null = null): void {\n\t\tassert.deepStrictEqual(actual, new FindMatch(expectedRange, expectedMatches));\n\t}\n\n\tfunction _assertFindMatches(model: TextModel, searchParams: SearchParams, expectedMatches: FindMatch[]): void {\n\t\tconst actual = TextModelSearch.findMatches(model, searchParams, model.getFullModelRange(), false, 1000);\n\t\tassert.deepStrictEqual(actual, expectedMatches, 'findMatches OK');\n\n\t\t// test `findNextMatch`\n\t\tlet startPos = new Position(1, 1);\n\t\tlet match = TextModelSearch.findNextMatch(model, searchParams, startPos, false);\n\t\tassert.deepStrictEqual(match, expectedMatches[0], `findNextMatch ${startPos}`);\n\t\tfor (const expectedMatch of expectedMatches) {\n\t\t\tstartPos = expectedMatch.range.getStartPosition();\n\t\t\tmatch = TextModelSearch.findNextMatch(model, searchParams, startPos, false);\n\t\t\tassert.deepStrictEqual(match, expectedMatch, `findNextMatch ${startPos}`);\n\t\t}\n\n\t\t// test `findPrevMatch`\n\t\tstartPos = new Position(model.getLineCount(), model.getLineMaxColumn(model.getLineCount()));\n\t\tmatch = TextModelSearch.findPreviousMatch(model, searchParams, startPos, false);\n\t\tassert.deepStrictEqual(match, expectedMatches[expectedMatches.length - 1], `findPrevMatch ${startPos}`);\n\t\tfor (const expectedMatch of expectedMatches) {\n\t\t\tstartPos = expectedMatch.range.getEndPosition();\n\t\t\tmatch = TextModelSearch.findPreviousMatch(model, searchParams, startPos, false);\n\t\t\tassert.deepStrictEqual(match, expectedMatch, `findPrevMatch ${startPos}`);\n\t\t}\n\t}\n\n\tfunction assertFindMatches(text: string, searchString: string, isRegex: boolean, matchCase: boolean, wordSeparators: string | null, _expected: [number, number, number, number][]): void {\n\t\tconst expectedRanges = _expected.map(entry => new Range(entry[0], entry[1], entry[2], entry[3]));\n\t\tconst expectedMatches = expectedRanges.map(entry => new FindMatch(entry, null));\n\t\tconst searchParams = new SearchParams(searchString, isRegex, matchCase, wordSeparators);\n\n\t\tconst model = createTextModel(text);\n\t\t_assertFindMatches(model, searchParams, expectedMatches);\n\t\tmodel.dispose();\n\n\n\t\tconst model2 = createTextModel(text);\n\t\tmodel2.setEOL(EndOfLineSequence.CRLF);\n\t\t_assertFindMatches(model2, searchParams, expectedMatches);\n\t\tmodel2.dispose();\n\t}\n\n\tconst regularText = [\n\t\t'This is some foo - bar text which contains foo and bar - as in Barcelona.',\n\t\t'Now it begins a word fooBar and now it is caps Foo-isn\\'t this great?',\n\t\t'And here\\'s a dull line with nothing interesting in it',\n\t\t'It is also interesting if it\\'s part of a word like amazingFooBar',\n\t\t'Again nothing interesting here'\n\t];\n\n\ttest('Simple find', () => {\n\t\tassertFindMatches(\n\t\t\tregularText.join('\\n'),\n\t\t\t'foo', false, false, null,\n\t\t\t[\n\t\t\t\t[1, 14, 1, 17],\n\t\t\t\t[1, 44, 1, 47],\n\t\t\t\t[2, 22, 2, 25],\n\t\t\t\t[2, 48, 2, 51],\n\t\t\t\t[4, 59, 4, 62]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('Case sensitive find', () => {\n\t\tassertFindMatches(\n\t\t\tregularText.join('\\n'),\n\t\t\t'foo', false, true, null,\n\t\t\t[\n\t\t\t\t[1, 14, 1, 17],\n\t\t\t\t[1, 44, 1, 47],\n\t\t\t\t[2, 22, 2, 25]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('Whole words find', () => {\n\t\tassertFindMatches(\n\t\t\tregularText.join('\\n'),\n\t\t\t'foo', false, false, USUAL_WORD_SEPARATORS,\n\t\t\t[\n\t\t\t\t[1, 14, 1, 17],\n\t\t\t\t[1, 44, 1, 47],\n\t\t\t\t[2, 48, 2, 51]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('/^/ find', () => {\n\t\tassertFindMatches(\n\t\t\tregularText.join('\\n'),\n\t\t\t'^', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 1, 1, 1],\n\t\t\t\t[2, 1, 2, 1],\n\t\t\t\t[3, 1, 3, 1],\n\t\t\t\t[4, 1, 4, 1],\n\t\t\t\t[5, 1, 5, 1]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('/$/ find', () => {\n\t\tassertFindMatches(\n\t\t\tregularText.join('\\n'),\n\t\t\t'$', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 74, 1, 74],\n\t\t\t\t[2, 69, 2, 69],\n\t\t\t\t[3, 54, 3, 54],\n\t\t\t\t[4, 65, 4, 65],\n\t\t\t\t[5, 31, 5, 31]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('/.*/ find', () => {\n\t\tassertFindMatches(\n\t\t\tregularText.join('\\n'),\n\t\t\t'.*', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 1, 1, 74],\n\t\t\t\t[2, 1, 2, 69],\n\t\t\t\t[3, 1, 3, 54],\n\t\t\t\t[4, 1, 4, 65],\n\t\t\t\t[5, 1, 5, 31]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('/^$/ find', () => {\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'This is some foo - bar text which contains foo and bar - as in Barcelona.',\n\t\t\t\t'',\n\t\t\t\t'And here\\'s a dull line with nothing interesting in it',\n\t\t\t\t'',\n\t\t\t\t'Again nothing interesting here'\n\t\t\t].join('\\n'),\n\t\t\t'^$', true, false, null,\n\t\t\t[\n\t\t\t\t[2, 1, 2, 1],\n\t\t\t\t[4, 1, 4, 1]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('multiline find 1', () => {\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'Just some text text',\n\t\t\t\t'Just some text text',\n\t\t\t\t'some text again',\n\t\t\t\t'again some text'\n\t\t\t].join('\\n'),\n\t\t\t'text\\\\n', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 16, 2, 1],\n\t\t\t\t[2, 16, 3, 1],\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('multiline find 2', () => {\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'Just some text text',\n\t\t\t\t'Just some text text',\n\t\t\t\t'some text again',\n\t\t\t\t'again some text'\n\t\t\t].join('\\n'),\n\t\t\t'text\\\\nJust', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 16, 2, 5]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('multiline find 3', () => {\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'Just some text text',\n\t\t\t\t'Just some text text',\n\t\t\t\t'some text again',\n\t\t\t\t'again some text'\n\t\t\t].join('\\n'),\n\t\t\t'\\\\nagain', true, false, null,\n\t\t\t[\n\t\t\t\t[3, 16, 4, 6]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('multiline find 4', () => {\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'Just some text text',\n\t\t\t\t'Just some text text',\n\t\t\t\t'some text again',\n\t\t\t\t'again some text'\n\t\t\t].join('\\n'),\n\t\t\t'.*\\\\nJust.*\\\\n', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 1, 3, 1]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('multiline find with line beginning regex', () => {\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'if',\n\t\t\t\t'else',\n\t\t\t\t'',\n\t\t\t\t'if',\n\t\t\t\t'else'\n\t\t\t].join('\\n'),\n\t\t\t'^if\\\\nelse', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 1, 2, 5],\n\t\t\t\t[4, 1, 5, 5]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('matching empty lines using boundary expression', () => {\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'if',\n\t\t\t\t'',\n\t\t\t\t'else',\n\t\t\t\t'  ',\n\t\t\t\t'if',\n\t\t\t\t' ',\n\t\t\t\t'else'\n\t\t\t].join('\\n'),\n\t\t\t'^\\\\s*$\\\\n', true, false, null,\n\t\t\t[\n\t\t\t\t[2, 1, 3, 1],\n\t\t\t\t[4, 1, 5, 1],\n\t\t\t\t[6, 1, 7, 1]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('matching lines starting with A and ending with B', () => {\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'a if b',\n\t\t\t\t'a',\n\t\t\t\t'ab',\n\t\t\t\t'eb'\n\t\t\t].join('\\n'),\n\t\t\t'^a.*b$', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 1, 1, 7],\n\t\t\t\t[3, 1, 3, 3]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('multiline find with line ending regex', () => {\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'if',\n\t\t\t\t'else',\n\t\t\t\t'',\n\t\t\t\t'if',\n\t\t\t\t'elseif',\n\t\t\t\t'else'\n\t\t\t].join('\\n'),\n\t\t\t'if\\\\nelse$', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 1, 2, 5],\n\t\t\t\t[5, 5, 6, 5]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('issue #4836 - ^.*$', () => {\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'Just some text text',\n\t\t\t\t'',\n\t\t\t\t'some text again',\n\t\t\t\t'',\n\t\t\t\t'again some text'\n\t\t\t].join('\\n'),\n\t\t\t'^.*$', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 1, 1, 20],\n\t\t\t\t[2, 1, 2, 1],\n\t\t\t\t[3, 1, 3, 16],\n\t\t\t\t[4, 1, 4, 1],\n\t\t\t\t[5, 1, 5, 16],\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('multiline find for non-regex string', () => {\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'Just some text text',\n\t\t\t\t'some text text',\n\t\t\t\t'some text again',\n\t\t\t\t'again some text',\n\t\t\t\t'but not some'\n\t\t\t].join('\\n'),\n\t\t\t'text\\nsome', false, false, null,\n\t\t\t[\n\t\t\t\t[1, 16, 2, 5],\n\t\t\t\t[2, 11, 3, 5],\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('issue #3623: Match whole word does not work for not latin characters', () => {\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'я',\n\t\t\t\t'компилятор',\n\t\t\t\t'обфускация',\n\t\t\t\t':я-я'\n\t\t\t].join('\\n'),\n\t\t\t'я', false, false, USUAL_WORD_SEPARATORS,\n\t\t\t[\n\t\t\t\t[1, 1, 1, 2],\n\t\t\t\t[4, 2, 4, 3],\n\t\t\t\t[4, 4, 4, 5],\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('issue #27459: Match whole words regression', () => {\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'this._register(this._textAreaInput.onKeyDown((e: IKeyboardEvent) => {',\n\t\t\t\t'\tthis._viewController.emitKeyDown(e);',\n\t\t\t\t'}));',\n\t\t\t].join('\\n'),\n\t\t\t'((e: ', false, false, USUAL_WORD_SEPARATORS,\n\t\t\t[\n\t\t\t\t[1, 45, 1, 50]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('issue #27594: Search results disappear', () => {\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'this.server.listen(0);',\n\t\t\t].join('\\n'),\n\t\t\t'listen(', false, false, USUAL_WORD_SEPARATORS,\n\t\t\t[\n\t\t\t\t[1, 13, 1, 20]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('findNextMatch without regex', () => {\n\t\tconst model = createTextModel('line line one\\nline two\\nthree');\n\n\t\tconst searchParams = new SearchParams('line', false, false, null);\n\n\t\tlet actual = TextModelSearch.findNextMatch(model, searchParams, new Position(1, 1), false);\n\t\tassertFindMatch(actual, new Range(1, 1, 1, 5));\n\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, actual!.range.getEndPosition(), false);\n\t\tassertFindMatch(actual, new Range(1, 6, 1, 10));\n\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, new Position(1, 3), false);\n\t\tassertFindMatch(actual, new Range(1, 6, 1, 10));\n\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, actual!.range.getEndPosition(), false);\n\t\tassertFindMatch(actual, new Range(2, 1, 2, 5));\n\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, actual!.range.getEndPosition(), false);\n\t\tassertFindMatch(actual, new Range(1, 1, 1, 5));\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('findNextMatch with beginning boundary regex', () => {\n\t\tconst model = createTextModel('line one\\nline two\\nthree');\n\n\t\tconst searchParams = new SearchParams('^line', true, false, null);\n\n\t\tlet actual = TextModelSearch.findNextMatch(model, searchParams, new Position(1, 1), false);\n\t\tassertFindMatch(actual, new Range(1, 1, 1, 5));\n\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, actual!.range.getEndPosition(), false);\n\t\tassertFindMatch(actual, new Range(2, 1, 2, 5));\n\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, new Position(1, 3), false);\n\t\tassertFindMatch(actual, new Range(2, 1, 2, 5));\n\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, actual!.range.getEndPosition(), false);\n\t\tassertFindMatch(actual, new Range(1, 1, 1, 5));\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('findNextMatch with beginning boundary regex and line has repetitive beginnings', () => {\n\t\tconst model = createTextModel('line line one\\nline two\\nthree');\n\n\t\tconst searchParams = new SearchParams('^line', true, false, null);\n\n\t\tlet actual = TextModelSearch.findNextMatch(model, searchParams, new Position(1, 1), false);\n\t\tassertFindMatch(actual, new Range(1, 1, 1, 5));\n\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, actual!.range.getEndPosition(), false);\n\t\tassertFindMatch(actual, new Range(2, 1, 2, 5));\n\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, new Position(1, 3), false);\n\t\tassertFindMatch(actual, new Range(2, 1, 2, 5));\n\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, actual!.range.getEndPosition(), false);\n\t\tassertFindMatch(actual, new Range(1, 1, 1, 5));\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('findNextMatch with beginning boundary multiline regex and line has repetitive beginnings', () => {\n\t\tconst model = createTextModel('line line one\\nline two\\nline three\\nline four');\n\n\t\tconst searchParams = new SearchParams('^line.*\\\\nline', true, false, null);\n\n\t\tlet actual = TextModelSearch.findNextMatch(model, searchParams, new Position(1, 1), false);\n\t\tassertFindMatch(actual, new Range(1, 1, 2, 5));\n\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, actual!.range.getEndPosition(), false);\n\t\tassertFindMatch(actual, new Range(3, 1, 4, 5));\n\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, new Position(2, 1), false);\n\t\tassertFindMatch(actual, new Range(2, 1, 3, 5));\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('findNextMatch with ending boundary regex', () => {\n\t\tconst model = createTextModel('one line line\\ntwo line\\nthree');\n\n\t\tconst searchParams = new SearchParams('line$', true, false, null);\n\n\t\tlet actual = TextModelSearch.findNextMatch(model, searchParams, new Position(1, 1), false);\n\t\tassertFindMatch(actual, new Range(1, 10, 1, 14));\n\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, new Position(1, 4), false);\n\t\tassertFindMatch(actual, new Range(1, 10, 1, 14));\n\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, actual!.range.getEndPosition(), false);\n\t\tassertFindMatch(actual, new Range(2, 5, 2, 9));\n\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, actual!.range.getEndPosition(), false);\n\t\tassertFindMatch(actual, new Range(1, 10, 1, 14));\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('findMatches with capturing matches', () => {\n\t\tconst model = createTextModel('one line line\\ntwo line\\nthree');\n\n\t\tconst searchParams = new SearchParams('(l(in)e)', true, false, null);\n\n\t\tconst actual = TextModelSearch.findMatches(model, searchParams, model.getFullModelRange(), true, 100);\n\t\tassert.deepStrictEqual(actual, [\n\t\t\tnew FindMatch(new Range(1, 5, 1, 9), ['line', 'line', 'in']),\n\t\t\tnew FindMatch(new Range(1, 10, 1, 14), ['line', 'line', 'in']),\n\t\t\tnew FindMatch(new Range(2, 5, 2, 9), ['line', 'line', 'in']),\n\t\t]);\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('findMatches multiline with capturing matches', () => {\n\t\tconst model = createTextModel('one line line\\ntwo line\\nthree');\n\n\t\tconst searchParams = new SearchParams('(l(in)e)\\\\n', true, false, null);\n\n\t\tconst actual = TextModelSearch.findMatches(model, searchParams, model.getFullModelRange(), true, 100);\n\t\tassert.deepStrictEqual(actual, [\n\t\t\tnew FindMatch(new Range(1, 10, 2, 1), ['line\\n', 'line', 'in']),\n\t\t\tnew FindMatch(new Range(2, 5, 3, 1), ['line\\n', 'line', 'in']),\n\t\t]);\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('findNextMatch with capturing matches', () => {\n\t\tconst model = createTextModel('one line line\\ntwo line\\nthree');\n\n\t\tconst searchParams = new SearchParams('(l(in)e)', true, false, null);\n\n\t\tconst actual = TextModelSearch.findNextMatch(model, searchParams, new Position(1, 1), true);\n\t\tassertFindMatch(actual, new Range(1, 5, 1, 9), ['line', 'line', 'in']);\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('findNextMatch multiline with capturing matches', () => {\n\t\tconst model = createTextModel('one line line\\ntwo line\\nthree');\n\n\t\tconst searchParams = new SearchParams('(l(in)e)\\\\n', true, false, null);\n\n\t\tconst actual = TextModelSearch.findNextMatch(model, searchParams, new Position(1, 1), true);\n\t\tassertFindMatch(actual, new Range(1, 10, 2, 1), ['line\\n', 'line', 'in']);\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('findPreviousMatch with capturing matches', () => {\n\t\tconst model = createTextModel('one line line\\ntwo line\\nthree');\n\n\t\tconst searchParams = new SearchParams('(l(in)e)', true, false, null);\n\n\t\tconst actual = TextModelSearch.findPreviousMatch(model, searchParams, new Position(1, 1), true);\n\t\tassertFindMatch(actual, new Range(2, 5, 2, 9), ['line', 'line', 'in']);\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('findPreviousMatch multiline with capturing matches', () => {\n\t\tconst model = createTextModel('one line line\\ntwo line\\nthree');\n\n\t\tconst searchParams = new SearchParams('(l(in)e)\\\\n', true, false, null);\n\n\t\tconst actual = TextModelSearch.findPreviousMatch(model, searchParams, new Position(1, 1), true);\n\t\tassertFindMatch(actual, new Range(2, 5, 3, 1), ['line\\n', 'line', 'in']);\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('\\\\n matches \\\\r\\\\n', () => {\n\t\tconst model = createTextModel('a\\r\\nb\\r\\nc\\r\\nd\\r\\ne\\r\\nf\\r\\ng\\r\\nh\\r\\ni');\n\n\t\tassert.strictEqual(model.getEOL(), '\\r\\n');\n\n\t\tlet searchParams = new SearchParams('h\\\\n', true, false, null);\n\t\tlet actual = TextModelSearch.findNextMatch(model, searchParams, new Position(1, 1), true);\n\t\tactual = TextModelSearch.findMatches(model, searchParams, model.getFullModelRange(), true, 1000)[0];\n\t\tassertFindMatch(actual, new Range(8, 1, 9, 1), ['h\\n']);\n\n\t\tsearchParams = new SearchParams('g\\\\nh\\\\n', true, false, null);\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, new Position(1, 1), true);\n\t\tactual = TextModelSearch.findMatches(model, searchParams, model.getFullModelRange(), true, 1000)[0];\n\t\tassertFindMatch(actual, new Range(7, 1, 9, 1), ['g\\nh\\n']);\n\n\t\tsearchParams = new SearchParams('\\\\ni', true, false, null);\n\t\tactual = TextModelSearch.findNextMatch(model, searchParams, new Position(1, 1), true);\n\t\tactual = TextModelSearch.findMatches(model, searchParams, model.getFullModelRange(), true, 1000)[0];\n\t\tassertFindMatch(actual, new Range(8, 2, 9, 2), ['\\ni']);\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('\\\\r can never be found', () => {\n\t\tconst model = createTextModel('a\\r\\nb\\r\\nc\\r\\nd\\r\\ne\\r\\nf\\r\\ng\\r\\nh\\r\\ni');\n\n\t\tassert.strictEqual(model.getEOL(), '\\r\\n');\n\n\t\tconst searchParams = new SearchParams('\\\\r\\\\n', true, false, null);\n\t\tconst actual = TextModelSearch.findNextMatch(model, searchParams, new Position(1, 1), true);\n\t\tassert.strictEqual(actual, null);\n\t\tassert.deepStrictEqual(TextModelSearch.findMatches(model, searchParams, model.getFullModelRange(), true, 1000), []);\n\n\t\tmodel.dispose();\n\t});\n\n\tfunction assertParseSearchResult(searchString: string, isRegex: boolean, matchCase: boolean, wordSeparators: string | null, expected: SearchData | null): void {\n\t\tconst searchParams = new SearchParams(searchString, isRegex, matchCase, wordSeparators);\n\t\tconst actual = searchParams.parseSearchRequest();\n\n\t\tif (expected === null) {\n\t\t\tassert.ok(actual === null);\n\t\t} else {\n\t\t\tassert.deepStrictEqual(actual!.regex, expected.regex);\n\t\t\tassert.deepStrictEqual(actual!.simpleSearch, expected.simpleSearch);\n\t\t\tif (wordSeparators) {\n\t\t\t\tassert.ok(actual!.wordSeparators !== null);\n\t\t\t} else {\n\t\t\t\tassert.ok(actual!.wordSeparators === null);\n\t\t\t}\n\t\t}\n\t}\n\n\ttest('parseSearchRequest invalid', () => {\n\t\tassertParseSearchResult('', true, true, USUAL_WORD_SEPARATORS, null);\n\t\tassertParseSearchResult('(', true, false, null, null);\n\t});\n\n\ttest('parseSearchRequest non regex', () => {\n\t\tassertParseSearchResult('foo', false, false, null, new SearchData(/foo/giu, null, null));\n\t\tassertParseSearchResult('foo', false, false, USUAL_WORD_SEPARATORS, new SearchData(/foo/giu, usualWordSeparators, null));\n\t\tassertParseSearchResult('foo', false, true, null, new SearchData(/foo/gu, null, 'foo'));\n\t\tassertParseSearchResult('foo', false, true, USUAL_WORD_SEPARATORS, new SearchData(/foo/gu, usualWordSeparators, 'foo'));\n\t\tassertParseSearchResult('foo\\\\n', false, false, null, new SearchData(/foo\\\\n/giu, null, null));\n\t\tassertParseSearchResult('foo\\\\\\\\n', false, false, null, new SearchData(/foo\\\\\\\\n/giu, null, null));\n\t\tassertParseSearchResult('foo\\\\r', false, false, null, new SearchData(/foo\\\\r/giu, null, null));\n\t\tassertParseSearchResult('foo\\\\\\\\r', false, false, null, new SearchData(/foo\\\\\\\\r/giu, null, null));\n\t});\n\n\ttest('parseSearchRequest regex', () => {\n\t\tassertParseSearchResult('foo', true, false, null, new SearchData(/foo/giu, null, null));\n\t\tassertParseSearchResult('foo', true, false, USUAL_WORD_SEPARATORS, new SearchData(/foo/giu, usualWordSeparators, null));\n\t\tassertParseSearchResult('foo', true, true, null, new SearchData(/foo/gu, null, null));\n\t\tassertParseSearchResult('foo', true, true, USUAL_WORD_SEPARATORS, new SearchData(/foo/gu, usualWordSeparators, null));\n\t\tassertParseSearchResult('foo\\\\n', true, false, null, new SearchData(/foo\\n/gimu, null, null));\n\t\tassertParseSearchResult('foo\\\\\\\\n', true, false, null, new SearchData(/foo\\\\n/giu, null, null));\n\t\tassertParseSearchResult('foo\\\\r', true, false, null, new SearchData(/foo\\r/gimu, null, null));\n\t\tassertParseSearchResult('foo\\\\\\\\r', true, false, null, new SearchData(/foo\\\\r/giu, null, null));\n\t});\n\n\ttest('issue #53415. \\W should match line break.', () => {\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'text',\n\t\t\t\t'180702-',\n\t\t\t\t'180703-180704'\n\t\t\t].join('\\n'),\n\t\t\t'\\\\d{6}-\\\\W', true, false, null,\n\t\t\t[\n\t\t\t\t[2, 1, 3, 1]\n\t\t\t]\n\t\t);\n\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'Just some text',\n\t\t\t\t'',\n\t\t\t\t'Just'\n\t\t\t].join('\\n'),\n\t\t\t'\\\\W', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 5, 1, 6],\n\t\t\t\t[1, 10, 1, 11],\n\t\t\t\t[1, 15, 2, 1],\n\t\t\t\t[2, 1, 3, 1]\n\t\t\t]\n\t\t);\n\n\t\t// Line break doesn't affect the result as we always use \\n as line break when doing search\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'Just some text',\n\t\t\t\t'',\n\t\t\t\t'Just'\n\t\t\t].join('\\r\\n'),\n\t\t\t'\\\\W', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 5, 1, 6],\n\t\t\t\t[1, 10, 1, 11],\n\t\t\t\t[1, 15, 2, 1],\n\t\t\t\t[2, 1, 3, 1]\n\t\t\t]\n\t\t);\n\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'Just some text',\n\t\t\t\t'\\tJust',\n\t\t\t\t'Just'\n\t\t\t].join('\\n'),\n\t\t\t'\\\\W', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 5, 1, 6],\n\t\t\t\t[1, 10, 1, 11],\n\t\t\t\t[1, 15, 2, 1],\n\t\t\t\t[2, 1, 2, 2],\n\t\t\t\t[2, 6, 3, 1],\n\t\t\t]\n\t\t);\n\n\t\t// line break is seen as one non-word character\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'Just  some text',\n\t\t\t\t'',\n\t\t\t\t'Just'\n\t\t\t].join('\\n'),\n\t\t\t'\\\\W{2}', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 5, 1, 7],\n\t\t\t\t[1, 16, 3, 1]\n\t\t\t]\n\t\t);\n\n\t\t// even if it's \\r\\n\n\t\tassertFindMatches(\n\t\t\t[\n\t\t\t\t'Just  some text',\n\t\t\t\t'',\n\t\t\t\t'Just'\n\t\t\t].join('\\r\\n'),\n\t\t\t'\\\\W{2}', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 5, 1, 7],\n\t\t\t\t[1, 16, 3, 1]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('Simple find using unicode escape sequences', () => {\n\t\tassertFindMatches(\n\t\t\tregularText.join('\\n'),\n\t\t\t'\\\\u{0066}\\\\u006f\\\\u006F', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 14, 1, 17],\n\t\t\t\t[1, 44, 1, 47],\n\t\t\t\t[2, 22, 2, 25],\n\t\t\t\t[2, 48, 2, 51],\n\t\t\t\t[4, 59, 4, 62]\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('isMultilineRegexSource', () => {\n\t\tassert(!isMultilineRegexSource('foo'));\n\t\tassert(!isMultilineRegexSource(''));\n\t\tassert(!isMultilineRegexSource('foo\\\\sbar'));\n\t\tassert(!isMultilineRegexSource('\\\\\\\\notnewline'));\n\n\t\tassert(isMultilineRegexSource('foo\\\\nbar'));\n\t\tassert(isMultilineRegexSource('foo\\\\nbar\\\\s'));\n\t\tassert(isMultilineRegexSource('foo\\\\r\\\\n'));\n\t\tassert(isMultilineRegexSource('\\\\n'));\n\t\tassert(isMultilineRegexSource('foo\\\\W'));\n\t\tassert(isMultilineRegexSource('foo\\n'));\n\t\tassert(isMultilineRegexSource('foo\\r\\n'));\n\t});\n\n\ttest('isMultilineRegexSource correctly identifies multiline patterns', () => {\n\t\tconst singleLinePatterns = [\n\t\t\t'MARK:\\\\s*(?<label>.*)$',\n\t\t\t'^// Header$',\n\t\t\t'\\\\s*[-=]+\\\\s*',\n\t\t];\n\n\t\tconst multiLinePatterns = [\n\t\t\t'^\\/\\/ =+\\\\n^\\/\\/ (?<label>[^\\\\n]+?)\\\\n^\\/\\/ =+$',\n\t\t\t'header\\\\r\\\\nfooter',\n\t\t\t'start\\\\r|\\\\nend',\n\t\t\t'top\\nmiddle\\r\\nbottom'\n\t\t];\n\n\t\tfor (const pattern of singleLinePatterns) {\n\t\t\tassert.strictEqual(isMultilineRegexSource(pattern), false, `Pattern should not be multiline: ${pattern}`);\n\t\t}\n\n\t\tfor (const pattern of multiLinePatterns) {\n\t\t\tassert.strictEqual(isMultilineRegexSource(pattern), true, `Pattern should be multiline: ${pattern}`);\n\t\t}\n\t});\n\n\ttest('issue #74715. \\\\d* finds empty string and stops searching.', () => {\n\t\tconst model = createTextModel('10.243.30.10');\n\n\t\tconst searchParams = new SearchParams('\\\\d*', true, false, null);\n\n\t\tconst actual = TextModelSearch.findMatches(model, searchParams, model.getFullModelRange(), true, 100);\n\t\tassert.deepStrictEqual(actual, [\n\t\t\tnew FindMatch(new Range(1, 1, 1, 3), ['10']),\n\t\t\tnew FindMatch(new Range(1, 3, 1, 3), ['']),\n\t\t\tnew FindMatch(new Range(1, 4, 1, 7), ['243']),\n\t\t\tnew FindMatch(new Range(1, 7, 1, 7), ['']),\n\t\t\tnew FindMatch(new Range(1, 8, 1, 10), ['30']),\n\t\t\tnew FindMatch(new Range(1, 10, 1, 10), ['']),\n\t\t\tnew FindMatch(new Range(1, 11, 1, 13), ['10'])\n\t\t]);\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('issue #100134. Zero-length matches should properly step over surrogate pairs', () => {\n\t\t// 1[Laptop]1 - there shoud be no matches inside of [Laptop] emoji\n\t\tassertFindMatches('1\\uD83D\\uDCBB1', '()', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 1, 1, 1],\n\t\t\t\t[1, 2, 1, 2],\n\t\t\t\t[1, 4, 1, 4],\n\t\t\t\t[1, 5, 1, 5],\n\n\t\t\t]\n\t\t);\n\t\t// 1[Hacker Cat]1 = 1[Cat Face][ZWJ][Laptop]1 - there shoud be matches between emoji and ZWJ\n\t\t// there shoud be no matches inside of [Cat Face] and [Laptop] emoji\n\t\tassertFindMatches('1\\uD83D\\uDC31\\u200D\\uD83D\\uDCBB1', '()', true, false, null,\n\t\t\t[\n\t\t\t\t[1, 1, 1, 1],\n\t\t\t\t[1, 2, 1, 2],\n\t\t\t\t[1, 4, 1, 4],\n\t\t\t\t[1, 5, 1, 5],\n\t\t\t\t[1, 7, 1, 7],\n\t\t\t\t[1, 8, 1, 8]\n\t\t\t]\n\t\t);\n\t});\n});\n"]}