{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/editor/test/common/model/editableTextModel.test.ts","vs/editor/test/common/model/editableTextModel.test.ts"],"names":[],"mappings":"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","file":"editableTextModel.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { IDisposable } from '../../../../base/common/lifecycle.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\nimport { ISingleEditOperation } from '../../../common/core/editOperation.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EndOfLinePreference, EndOfLineSequence } from '../../../common/model.js';\nimport { MirrorTextModel } from '../../../common/model/mirrorTextModel.js';\nimport { IModelContentChangedEvent } from '../../../common/textModelEvents.js';\nimport { assertSyncedModels, testApplyEditsWithSyncedModels } from './editableTextModelTestUtils.js';\nimport { createTextModel } from '../testTextModel.js';\n\nsuite('EditorModel - EditableTextModel.applyEdits updates mightContainRTL', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tfunction testApplyEdits(original: string[], edits: ISingleEditOperation[], before: boolean, after: boolean): void {\n\t\tconst model = createTextModel(original.join('\\n'));\n\t\tmodel.setEOL(EndOfLineSequence.LF);\n\n\t\tassert.strictEqual(model.mightContainRTL(), before);\n\n\t\tmodel.applyEdits(edits);\n\t\tassert.strictEqual(model.mightContainRTL(), after);\n\t\tmodel.dispose();\n\t}\n\n\tfunction editOp(startLineNumber: number, startColumn: number, endLineNumber: number, endColumn: number, text: string[]): ISingleEditOperation {\n\t\treturn {\n\t\t\trange: new Range(startLineNumber, startColumn, endLineNumber, endColumn),\n\t\t\ttext: text.join('\\n')\n\t\t};\n\t}\n\n\ttest('start with RTL, insert LTR', () => {\n\t\ttestApplyEdits(['Hello,\\n×–×•×”×™ ×¢×•×‘×“×” ×ž×‘×•×¡×¡×ª ×©×“×¢×ª×•'], [editOp(1, 1, 1, 1, ['hello'])], true, true);\n\t});\n\n\ttest('start with RTL, delete RTL', () => {\n\t\ttestApplyEdits(['Hello,\\n×–×•×”×™ ×¢×•×‘×“×” ×ž×‘×•×¡×¡×ª ×©×“×¢×ª×•'], [editOp(1, 1, 10, 10, [''])], true, true);\n\t});\n\n\ttest('start with RTL, insert RTL', () => {\n\t\ttestApplyEdits(['Hello,\\n×–×•×”×™ ×¢×•×‘×“×” ×ž×‘×•×¡×¡×ª ×©×“×¢×ª×•'], [editOp(1, 1, 1, 1, ['Ù‡Ù†Ø§Ùƒ Ø­Ù‚ÙŠÙ‚Ø© Ù…Ø«Ø¨ØªØ© Ù…Ù†Ø° Ø²Ù…Ù† Ø·ÙˆÙŠÙ„'])], true, true);\n\t});\n\n\ttest('start with LTR, insert LTR', () => {\n\t\ttestApplyEdits(['Hello,\\nworld!'], [editOp(1, 1, 1, 1, ['hello'])], false, false);\n\t});\n\n\ttest('start with LTR, insert RTL 1', () => {\n\t\ttestApplyEdits(['Hello,\\nworld!'], [editOp(1, 1, 1, 1, ['Ù‡Ù†Ø§Ùƒ Ø­Ù‚ÙŠÙ‚Ø© Ù…Ø«Ø¨ØªØ© Ù…Ù†Ø° Ø²Ù…Ù† Ø·ÙˆÙŠÙ„'])], false, true);\n\t});\n\n\ttest('start with LTR, insert RTL 2', () => {\n\t\ttestApplyEdits(['Hello,\\nworld!'], [editOp(1, 1, 1, 1, ['×–×•×”×™ ×¢×•×‘×“×” ×ž×‘×•×¡×¡×ª ×©×“×¢×ª×•'])], false, true);\n\t});\n});\n\n\nsuite('EditorModel - EditableTextModel.applyEdits updates mightContainNonBasicASCII', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tfunction testApplyEdits(original: string[], edits: ISingleEditOperation[], before: boolean, after: boolean): void {\n\t\tconst model = createTextModel(original.join('\\n'));\n\t\tmodel.setEOL(EndOfLineSequence.LF);\n\n\t\tassert.strictEqual(model.mightContainNonBasicASCII(), before);\n\n\t\tmodel.applyEdits(edits);\n\t\tassert.strictEqual(model.mightContainNonBasicASCII(), after);\n\t\tmodel.dispose();\n\t}\n\n\tfunction editOp(startLineNumber: number, startColumn: number, endLineNumber: number, endColumn: number, text: string[]): ISingleEditOperation {\n\t\treturn {\n\t\t\trange: new Range(startLineNumber, startColumn, endLineNumber, endColumn),\n\t\t\ttext: text.join('\\n')\n\t\t};\n\t}\n\n\ttest('start with NON-ASCII, insert ASCII', () => {\n\t\ttestApplyEdits(['Hello,\\nZÃ¼rich'], [editOp(1, 1, 1, 1, ['hello', 'second line'])], true, true);\n\t});\n\n\ttest('start with NON-ASCII, delete NON-ASCII', () => {\n\t\ttestApplyEdits(['Hello,\\nZÃ¼rich'], [editOp(1, 1, 10, 10, [''])], true, true);\n\t});\n\n\ttest('start with NON-ASCII, insert NON-ASCII', () => {\n\t\ttestApplyEdits(['Hello,\\nZÃ¼rich'], [editOp(1, 1, 1, 1, ['ZÃ¼rich'])], true, true);\n\t});\n\n\ttest('start with ASCII, insert ASCII', () => {\n\t\ttestApplyEdits(['Hello,\\nworld!'], [editOp(1, 1, 1, 1, ['hello', 'second line'])], false, false);\n\t});\n\n\ttest('start with ASCII, insert NON-ASCII', () => {\n\t\ttestApplyEdits(['Hello,\\nworld!'], [editOp(1, 1, 1, 1, ['ZÃ¼rich', 'ZÃ¼rich'])], false, true);\n\t});\n\n});\n\nsuite('EditorModel - EditableTextModel.applyEdits', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tfunction editOp(startLineNumber: number, startColumn: number, endLineNumber: number, endColumn: number, text: string[]): ISingleEditOperation {\n\t\treturn {\n\t\t\trange: new Range(startLineNumber, startColumn, endLineNumber, endColumn),\n\t\t\ttext: text.join('\\n'),\n\t\t\tforceMoveMarkers: false\n\t\t};\n\t}\n\n\ttest('high-low surrogates 1', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'ðŸ“šsome',\n\t\t\t\t'very nice',\n\t\t\t\t'text'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 2, 1, 2, ['a'])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'aðŸ“šsome',\n\t\t\t\t'very nice',\n\t\t\t\t'text'\n\t\t\t],\n/*inputEditsAreInvalid*/true\n\t\t);\n\t});\n\ttest('high-low surrogates 2', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'ðŸ“šsome',\n\t\t\t\t'very nice',\n\t\t\t\t'text'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 2, 1, 3, ['a'])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'asome',\n\t\t\t\t'very nice',\n\t\t\t\t'text'\n\t\t\t],\n/*inputEditsAreInvalid*/true\n\t\t);\n\t});\n\ttest('high-low surrogates 3', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'ðŸ“šsome',\n\t\t\t\t'very nice',\n\t\t\t\t'text'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 2, ['a'])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'asome',\n\t\t\t\t'very nice',\n\t\t\t\t'text'\n\t\t\t],\n/*inputEditsAreInvalid*/true\n\t\t);\n\t});\n\ttest('high-low surrogates 4', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'ðŸ“šsome',\n\t\t\t\t'very nice',\n\t\t\t\t'text'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 3, ['a'])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'asome',\n\t\t\t\t'very nice',\n\t\t\t\t'text'\n\t\t\t],\n/*inputEditsAreInvalid*/true\n\t\t);\n\t});\n\n\ttest('Bug 19872: Undo is funky', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'something',\n\t\t\t\t' A',\n\t\t\t\t'',\n\t\t\t\t' B',\n\t\t\t\t'something else'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(2, 1, 2, 2, ['']),\n\t\t\t\teditOp(3, 1, 4, 2, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'something',\n\t\t\t\t'A',\n\t\t\t\t'B',\n\t\t\t\t'something else'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('Bug 19872: Undo is funky (2)', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'something',\n\t\t\t\t'A',\n\t\t\t\t'B',\n\t\t\t\t'something else'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(2, 1, 2, 1, [' ']),\n\t\t\t\teditOp(3, 1, 3, 1, ['', ' '])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'something',\n\t\t\t\t' A',\n\t\t\t\t'',\n\t\t\t\t' B',\n\t\t\t\t'something else'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('insert empty text', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('last op is no-op', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 2, ['']),\n\t\t\t\teditOp(4, 1, 4, 1, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'y First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('insert text without newline 1', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, ['foo '])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'foo My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('insert text without newline 2', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 3, 1, 3, [' foo'])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My foo First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('insert one newline', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 4, 1, 4, ['', ''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My ',\n\t\t\t\t'First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('insert text with one newline', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 3, 1, 3, [' new line', 'No longer'])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My new line',\n\t\t\t\t'No longer First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('insert text with two newlines', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 3, 1, 3, [' new line', 'One more line in the middle', 'No longer'])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My new line',\n\t\t\t\t'One more line in the middle',\n\t\t\t\t'No longer First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('insert text with many newlines', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 3, 1, 3, ['', '', '', '', ''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My',\n\t\t\t\t'',\n\t\t\t\t'',\n\t\t\t\t'',\n\t\t\t\t' First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('insert multiple newlines', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 3, 1, 3, ['', '', '', '', '']),\n\t\t\t\teditOp(3, 15, 3, 15, ['a', 'b'])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My',\n\t\t\t\t'',\n\t\t\t\t'',\n\t\t\t\t'',\n\t\t\t\t' First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Linea',\n\t\t\t\t'b',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('delete empty text', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('delete text from one line', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 2, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'y First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('delete text from one line 2', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 3, ['a'])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'a First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('delete all text from a line', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 14, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('delete text from two lines', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 4, 2, 6, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('delete text from many lines', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 4, 3, 5, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('delete everything', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 5, 2, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t''\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two unrelated edits', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(2, 1, 2, 3, ['\\t']),\n\t\t\t\teditOp(3, 1, 3, 5, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\tMy Second Line',\n\t\t\t\t'Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two edits on one line', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'\\t\\tfirst\\t    ',\n\t\t\t\t'\\t\\tsecond line',\n\t\t\t\t'\\tthird line',\n\t\t\t\t'fourth line',\n\t\t\t\t'\\t\\t<!@#fifth#@!>\\t\\t'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(5, 3, 5, 7, ['']),\n\t\t\t\teditOp(5, 12, 5, 16, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'\\t\\tfirst\\t    ',\n\t\t\t\t'\\t\\tsecond line',\n\t\t\t\t'\\tthird line',\n\t\t\t\t'fourth line',\n\t\t\t\t'\\t\\tfifth\\t\\t'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('many edits', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'{\"x\" : 1}'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 2, 1, 2, ['\\n  ']),\n\t\t\t\teditOp(1, 5, 1, 6, ['']),\n\t\t\t\teditOp(1, 9, 1, 9, ['\\n'])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'{',\n\t\t\t\t'  \"x\": 1',\n\t\t\t\t'}'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('many edits reversed', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'{',\n\t\t\t\t'  \"x\": 1',\n\t\t\t\t'}'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 2, 2, 3, ['']),\n\t\t\t\teditOp(2, 6, 2, 6, [' ']),\n\t\t\t\teditOp(2, 9, 3, 1, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'{\"x\" : 1}'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('replacing newlines 1', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'{',\n\t\t\t\t'\"a\": true,',\n\t\t\t\t'',\n\t\t\t\t'\"b\": true',\n\t\t\t\t'}'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 2, 2, 1, ['', '\\t']),\n\t\t\t\teditOp(2, 11, 4, 1, ['', '\\t'])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'{',\n\t\t\t\t'\\t\"a\": true,',\n\t\t\t\t'\\t\"b\": true',\n\t\t\t\t'}'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('replacing newlines 2', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'some text',\n\t\t\t\t'some more text',\n\t\t\t\t'now comes an empty line',\n\t\t\t\t'',\n\t\t\t\t'after empty line',\n\t\t\t\t'and the last line'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 5, 3, 1, [' text', 'some more text', 'some more text']),\n\t\t\t\teditOp(3, 2, 4, 1, ['o more lines', 'asd', 'asd', 'asd']),\n\t\t\t\teditOp(5, 1, 5, 6, ['zzzzzzzz']),\n\t\t\t\teditOp(5, 11, 6, 16, ['1', '2', '3', '4'])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'some text',\n\t\t\t\t'some more text',\n\t\t\t\t'some more textno more lines',\n\t\t\t\t'asd',\n\t\t\t\t'asd',\n\t\t\t\t'asd',\n\t\t\t\t'zzzzzzzz empt1',\n\t\t\t\t'2',\n\t\t\t\t'3',\n\t\t\t\t'4ne'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('advanced 1', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t' {       \"d\": [',\n\t\t\t\t'             null',\n\t\t\t\t'        ] /*comment*/',\n\t\t\t\t'        ,\"e\": /*comment*/ [null] }',\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 2, ['']),\n\t\t\t\teditOp(1, 3, 1, 10, ['', '  ']),\n\t\t\t\teditOp(1, 16, 2, 14, ['', '    ']),\n\t\t\t\teditOp(2, 18, 3, 9, ['', '  ']),\n\t\t\t\teditOp(3, 22, 4, 9, ['']),\n\t\t\t\teditOp(4, 10, 4, 10, ['', '  ']),\n\t\t\t\teditOp(4, 28, 4, 28, ['', '    ']),\n\t\t\t\teditOp(4, 32, 4, 32, ['', '  ']),\n\t\t\t\teditOp(4, 33, 4, 34, ['', ''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'{',\n\t\t\t\t'  \"d\": [',\n\t\t\t\t'    null',\n\t\t\t\t'  ] /*comment*/,',\n\t\t\t\t'  \"e\": /*comment*/ [',\n\t\t\t\t'    null',\n\t\t\t\t'  ]',\n\t\t\t\t'}',\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('advanced simplified', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'   abc',\n\t\t\t\t' ,def'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 4, ['']),\n\t\t\t\teditOp(1, 7, 2, 2, ['']),\n\t\t\t\teditOp(2, 3, 2, 3, ['', ''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'abc,',\n\t\t\t\t'def'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('issue #144', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'package caddy',\n\t\t\t\t'',\n\t\t\t\t'func main() {',\n\t\t\t\t'\\tfmt.Println(\"Hello World! :)\")',\n\t\t\t\t'}',\n\t\t\t\t''\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 6, 1, [\n\t\t\t\t\t'package caddy',\n\t\t\t\t\t'',\n\t\t\t\t\t'import \"fmt\"',\n\t\t\t\t\t'',\n\t\t\t\t\t'func main() {',\n\t\t\t\t\t'\\tfmt.Println(\"Hello World! :)\")',\n\t\t\t\t\t'}',\n\t\t\t\t\t''\n\t\t\t\t])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'package caddy',\n\t\t\t\t'',\n\t\t\t\t'import \"fmt\"',\n\t\t\t\t'',\n\t\t\t\t'func main() {',\n\t\t\t\t'\\tfmt.Println(\"Hello World! :)\")',\n\t\t\t\t'}',\n\t\t\t\t''\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('issue #2586 Replacing selected end-of-line with newline locks up the document', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'something',\n\t\t\t\t'interesting'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 10, 2, 1, ['', ''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'something',\n\t\t\t\t'interesting'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('issue #3980', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'class A {',\n\t\t\t\t'    someProperty = false;',\n\t\t\t\t'    someMethod() {',\n\t\t\t\t'    this.someMethod();',\n\t\t\t\t'    }',\n\t\t\t\t'}',\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 8, 1, 9, ['', '']),\n\t\t\t\teditOp(3, 17, 3, 18, ['', '']),\n\t\t\t\teditOp(3, 18, 3, 18, ['    ']),\n\t\t\t\teditOp(4, 5, 4, 5, ['    ']),\n\t\t\t],\n\t\t\t[\n\t\t\t\t'class A',\n\t\t\t\t'{',\n\t\t\t\t'    someProperty = false;',\n\t\t\t\t'    someMethod()',\n\t\t\t\t'    {',\n\t\t\t\t'        this.someMethod();',\n\t\t\t\t'    }',\n\t\t\t\t'}',\n\t\t\t]\n\t\t);\n\t});\n\n\tfunction testApplyEditsFails(original: string[], edits: ISingleEditOperation[]): void {\n\t\tconst model = createTextModel(original.join('\\n'));\n\n\t\tlet hasThrown = false;\n\t\ttry {\n\t\t\tmodel.applyEdits(edits);\n\t\t} catch (err) {\n\t\t\thasThrown = true;\n\t\t}\n\t\tassert.ok(hasThrown, 'expected model.applyEdits to fail.');\n\n\t\tmodel.dispose();\n\t}\n\n\ttest('touching edits: two inserts at the same position', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'hello world'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, ['a']),\n\t\t\t\teditOp(1, 1, 1, 1, ['b']),\n\t\t\t],\n\t\t\t[\n\t\t\t\t'abhello world'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('touching edits: insert and replace touching', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'hello world'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, ['b']),\n\t\t\t\teditOp(1, 1, 1, 3, ['ab']),\n\t\t\t],\n\t\t\t[\n\t\t\t\t'babllo world'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('overlapping edits: two overlapping replaces', () => {\n\t\ttestApplyEditsFails(\n\t\t\t[\n\t\t\t\t'hello world'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 2, ['b']),\n\t\t\t\teditOp(1, 1, 1, 3, ['ab']),\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('overlapping edits: two overlapping deletes', () => {\n\t\ttestApplyEditsFails(\n\t\t\t[\n\t\t\t\t'hello world'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 2, ['']),\n\t\t\t\teditOp(1, 1, 1, 3, ['']),\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('touching edits: two touching replaces', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'hello world'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 2, ['H']),\n\t\t\t\teditOp(1, 2, 1, 3, ['E']),\n\t\t\t],\n\t\t\t[\n\t\t\t\t'HEllo world'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('touching edits: two touching deletes', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'hello world'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 2, ['']),\n\t\t\t\teditOp(1, 2, 1, 3, ['']),\n\t\t\t],\n\t\t\t[\n\t\t\t\t'llo world'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('touching edits: insert and replace', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'hello world'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, ['H']),\n\t\t\t\teditOp(1, 1, 1, 3, ['e']),\n\t\t\t],\n\t\t\t[\n\t\t\t\t'Hello world'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('touching edits: replace and insert', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'hello world'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 3, ['H']),\n\t\t\t\teditOp(1, 3, 1, 3, ['e']),\n\t\t\t],\n\t\t\t[\n\t\t\t\t'Hello world'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('change while emitting events 1', () => {\n\t\tlet disposable!: IDisposable;\n\t\tassertSyncedModels('Hello', (model, assertMirrorModels) => {\n\t\t\tmodel.applyEdits([{\n\t\t\t\trange: new Range(1, 6, 1, 6),\n\t\t\t\ttext: ' world!',\n\t\t\t\t// forceMoveMarkers: false\n\t\t\t}]);\n\n\t\t\tassertMirrorModels();\n\n\t\t}, (model) => {\n\t\t\tlet isFirstTime = true;\n\t\t\tdisposable = model.onDidChangeContent(() => {\n\t\t\t\tif (!isFirstTime) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tisFirstTime = false;\n\n\t\t\t\tmodel.applyEdits([{\n\t\t\t\t\trange: new Range(1, 13, 1, 13),\n\t\t\t\t\ttext: ' How are you?',\n\t\t\t\t\t// forceMoveMarkers: false\n\t\t\t\t}]);\n\t\t\t});\n\t\t});\n\t\tdisposable.dispose();\n\t});\n\n\ttest('change while emitting events 2', () => {\n\t\tlet disposable!: IDisposable;\n\t\tassertSyncedModels('Hello', (model, assertMirrorModels) => {\n\t\t\tmodel.applyEdits([{\n\t\t\t\trange: new Range(1, 6, 1, 6),\n\t\t\t\ttext: ' world!',\n\t\t\t\t// forceMoveMarkers: false\n\t\t\t}]);\n\n\t\t\tassertMirrorModels();\n\n\t\t}, (model) => {\n\t\t\tlet isFirstTime = true;\n\t\t\tdisposable = model.onDidChangeContent((e: IModelContentChangedEvent) => {\n\t\t\t\tif (!isFirstTime) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tisFirstTime = false;\n\n\t\t\t\tmodel.applyEdits([{\n\t\t\t\t\trange: new Range(1, 13, 1, 13),\n\t\t\t\t\ttext: ' How are you?',\n\t\t\t\t\t// forceMoveMarkers: false\n\t\t\t\t}]);\n\t\t\t});\n\t\t});\n\t\tdisposable.dispose();\n\t});\n\n\ttest('issue #1580: Changes in line endings are not correctly reflected in the extension host, leading to invalid offsets sent to external refactoring tools', () => {\n\t\tconst model = createTextModel('Hello\\nWorld!');\n\t\tassert.strictEqual(model.getEOL(), '\\n');\n\n\t\tconst mirrorModel2 = new MirrorTextModel(null!, model.getLinesContent(), model.getEOL(), model.getVersionId());\n\t\tlet mirrorModel2PrevVersionId = model.getVersionId();\n\n\t\tconst disposable = model.onDidChangeContent((e: IModelContentChangedEvent) => {\n\t\t\tconst versionId = e.versionId;\n\t\t\tif (versionId < mirrorModel2PrevVersionId) {\n\t\t\t\tconsole.warn('Model version id did not advance between edits (2)');\n\t\t\t}\n\t\t\tmirrorModel2PrevVersionId = versionId;\n\t\t\tmirrorModel2.onEvents(e);\n\t\t});\n\n\t\tconst assertMirrorModels = () => {\n\t\t\tassert.strictEqual(mirrorModel2.getText(), model.getValue(), 'mirror model 2 text OK');\n\t\t\tassert.strictEqual(mirrorModel2.version, model.getVersionId(), 'mirror model 2 version OK');\n\t\t};\n\n\t\tmodel.setEOL(EndOfLineSequence.CRLF);\n\t\tassertMirrorModels();\n\n\t\tdisposable.dispose();\n\t\tmodel.dispose();\n\t\tmirrorModel2.dispose();\n\t});\n\n\ttest('issue #47733: Undo mangles unicode characters', () => {\n\t\tconst model = createTextModel('\\'ðŸ‘\\'');\n\n\t\tmodel.applyEdits([\n\t\t\t{ range: new Range(1, 1, 1, 1), text: '\"' },\n\t\t\t{ range: new Range(1, 2, 1, 2), text: '\"' },\n\t\t]);\n\n\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\"\\'\"ðŸ‘\\'');\n\n\t\tassert.deepStrictEqual(model.validateRange(new Range(1, 3, 1, 4)), new Range(1, 3, 1, 4));\n\n\t\tmodel.applyEdits([\n\t\t\t{ range: new Range(1, 1, 1, 2), text: null },\n\t\t\t{ range: new Range(1, 3, 1, 4), text: null },\n\t\t]);\n\n\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\'ðŸ‘\\'');\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('issue #48741: Broken undo stack with move lines up with multiple cursors', () => {\n\t\tconst model = createTextModel([\n\t\t\t'line1',\n\t\t\t'line2',\n\t\t\t'line3',\n\t\t\t'',\n\t\t].join('\\n'));\n\n\t\tconst undoEdits = model.applyEdits([\n\t\t\t{ range: new Range(4, 1, 4, 1), text: 'line3', },\n\t\t\t{ range: new Range(3, 1, 3, 6), text: null, },\n\t\t\t{ range: new Range(2, 1, 3, 1), text: null, },\n\t\t\t{ range: new Range(3, 6, 3, 6), text: '\\nline2' }\n\t\t], true);\n\n\t\tmodel.applyEdits(undoEdits);\n\n\t\tassert.deepStrictEqual(model.getValue(), 'line1\\nline2\\nline3\\n');\n\n\t\tmodel.dispose();\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { IDisposable } from '../../../../base/common/lifecycle.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\nimport { ISingleEditOperation } from '../../../common/core/editOperation.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EndOfLinePreference, EndOfLineSequence } from '../../../common/model.js';\nimport { MirrorTextModel } from '../../../common/model/mirrorTextModel.js';\nimport { IModelContentChangedEvent } from '../../../common/textModelEvents.js';\nimport { assertSyncedModels, testApplyEditsWithSyncedModels } from './editableTextModelTestUtils.js';\nimport { createTextModel } from '../testTextModel.js';\n\nsuite('EditorModel - EditableTextModel.applyEdits updates mightContainRTL', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tfunction testApplyEdits(original: string[], edits: ISingleEditOperation[], before: boolean, after: boolean): void {\n\t\tconst model = createTextModel(original.join('\\n'));\n\t\tmodel.setEOL(EndOfLineSequence.LF);\n\n\t\tassert.strictEqual(model.mightContainRTL(), before);\n\n\t\tmodel.applyEdits(edits);\n\t\tassert.strictEqual(model.mightContainRTL(), after);\n\t\tmodel.dispose();\n\t}\n\n\tfunction editOp(startLineNumber: number, startColumn: number, endLineNumber: number, endColumn: number, text: string[]): ISingleEditOperation {\n\t\treturn {\n\t\t\trange: new Range(startLineNumber, startColumn, endLineNumber, endColumn),\n\t\t\ttext: text.join('\\n')\n\t\t};\n\t}\n\n\ttest('start with RTL, insert LTR', () => {\n\t\ttestApplyEdits(['Hello,\\n×–×•×”×™ ×¢×•×‘×“×” ×ž×‘×•×¡×¡×ª ×©×“×¢×ª×•'], [editOp(1, 1, 1, 1, ['hello'])], true, true);\n\t});\n\n\ttest('start with RTL, delete RTL', () => {\n\t\ttestApplyEdits(['Hello,\\n×–×•×”×™ ×¢×•×‘×“×” ×ž×‘×•×¡×¡×ª ×©×“×¢×ª×•'], [editOp(1, 1, 10, 10, [''])], true, true);\n\t});\n\n\ttest('start with RTL, insert RTL', () => {\n\t\ttestApplyEdits(['Hello,\\n×–×•×”×™ ×¢×•×‘×“×” ×ž×‘×•×¡×¡×ª ×©×“×¢×ª×•'], [editOp(1, 1, 1, 1, ['Ù‡Ù†Ø§Ùƒ Ø­Ù‚ÙŠÙ‚Ø© Ù…Ø«Ø¨ØªØ© Ù…Ù†Ø° Ø²Ù…Ù† Ø·ÙˆÙŠÙ„'])], true, true);\n\t});\n\n\ttest('start with LTR, insert LTR', () => {\n\t\ttestApplyEdits(['Hello,\\nworld!'], [editOp(1, 1, 1, 1, ['hello'])], false, false);\n\t});\n\n\ttest('start with LTR, insert RTL 1', () => {\n\t\ttestApplyEdits(['Hello,\\nworld!'], [editOp(1, 1, 1, 1, ['Ù‡Ù†Ø§Ùƒ Ø­Ù‚ÙŠÙ‚Ø© Ù…Ø«Ø¨ØªØ© Ù…Ù†Ø° Ø²Ù…Ù† Ø·ÙˆÙŠÙ„'])], false, true);\n\t});\n\n\ttest('start with LTR, insert RTL 2', () => {\n\t\ttestApplyEdits(['Hello,\\nworld!'], [editOp(1, 1, 1, 1, ['×–×•×”×™ ×¢×•×‘×“×” ×ž×‘×•×¡×¡×ª ×©×“×¢×ª×•'])], false, true);\n\t});\n});\n\n\nsuite('EditorModel - EditableTextModel.applyEdits updates mightContainNonBasicASCII', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tfunction testApplyEdits(original: string[], edits: ISingleEditOperation[], before: boolean, after: boolean): void {\n\t\tconst model = createTextModel(original.join('\\n'));\n\t\tmodel.setEOL(EndOfLineSequence.LF);\n\n\t\tassert.strictEqual(model.mightContainNonBasicASCII(), before);\n\n\t\tmodel.applyEdits(edits);\n\t\tassert.strictEqual(model.mightContainNonBasicASCII(), after);\n\t\tmodel.dispose();\n\t}\n\n\tfunction editOp(startLineNumber: number, startColumn: number, endLineNumber: number, endColumn: number, text: string[]): ISingleEditOperation {\n\t\treturn {\n\t\t\trange: new Range(startLineNumber, startColumn, endLineNumber, endColumn),\n\t\t\ttext: text.join('\\n')\n\t\t};\n\t}\n\n\ttest('start with NON-ASCII, insert ASCII', () => {\n\t\ttestApplyEdits(['Hello,\\nZÃ¼rich'], [editOp(1, 1, 1, 1, ['hello', 'second line'])], true, true);\n\t});\n\n\ttest('start with NON-ASCII, delete NON-ASCII', () => {\n\t\ttestApplyEdits(['Hello,\\nZÃ¼rich'], [editOp(1, 1, 10, 10, [''])], true, true);\n\t});\n\n\ttest('start with NON-ASCII, insert NON-ASCII', () => {\n\t\ttestApplyEdits(['Hello,\\nZÃ¼rich'], [editOp(1, 1, 1, 1, ['ZÃ¼rich'])], true, true);\n\t});\n\n\ttest('start with ASCII, insert ASCII', () => {\n\t\ttestApplyEdits(['Hello,\\nworld!'], [editOp(1, 1, 1, 1, ['hello', 'second line'])], false, false);\n\t});\n\n\ttest('start with ASCII, insert NON-ASCII', () => {\n\t\ttestApplyEdits(['Hello,\\nworld!'], [editOp(1, 1, 1, 1, ['ZÃ¼rich', 'ZÃ¼rich'])], false, true);\n\t});\n\n});\n\nsuite('EditorModel - EditableTextModel.applyEdits', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tfunction editOp(startLineNumber: number, startColumn: number, endLineNumber: number, endColumn: number, text: string[]): ISingleEditOperation {\n\t\treturn {\n\t\t\trange: new Range(startLineNumber, startColumn, endLineNumber, endColumn),\n\t\t\ttext: text.join('\\n'),\n\t\t\tforceMoveMarkers: false\n\t\t};\n\t}\n\n\ttest('high-low surrogates 1', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'ðŸ“šsome',\n\t\t\t\t'very nice',\n\t\t\t\t'text'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 2, 1, 2, ['a'])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'aðŸ“šsome',\n\t\t\t\t'very nice',\n\t\t\t\t'text'\n\t\t\t],\n/*inputEditsAreInvalid*/true\n\t\t);\n\t});\n\ttest('high-low surrogates 2', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'ðŸ“šsome',\n\t\t\t\t'very nice',\n\t\t\t\t'text'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 2, 1, 3, ['a'])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'asome',\n\t\t\t\t'very nice',\n\t\t\t\t'text'\n\t\t\t],\n/*inputEditsAreInvalid*/true\n\t\t);\n\t});\n\ttest('high-low surrogates 3', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'ðŸ“šsome',\n\t\t\t\t'very nice',\n\t\t\t\t'text'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 2, ['a'])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'asome',\n\t\t\t\t'very nice',\n\t\t\t\t'text'\n\t\t\t],\n/*inputEditsAreInvalid*/true\n\t\t);\n\t});\n\ttest('high-low surrogates 4', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'ðŸ“šsome',\n\t\t\t\t'very nice',\n\t\t\t\t'text'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 3, ['a'])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'asome',\n\t\t\t\t'very nice',\n\t\t\t\t'text'\n\t\t\t],\n/*inputEditsAreInvalid*/true\n\t\t);\n\t});\n\n\ttest('Bug 19872: Undo is funky', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'something',\n\t\t\t\t' A',\n\t\t\t\t'',\n\t\t\t\t' B',\n\t\t\t\t'something else'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(2, 1, 2, 2, ['']),\n\t\t\t\teditOp(3, 1, 4, 2, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'something',\n\t\t\t\t'A',\n\t\t\t\t'B',\n\t\t\t\t'something else'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('Bug 19872: Undo is funky (2)', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'something',\n\t\t\t\t'A',\n\t\t\t\t'B',\n\t\t\t\t'something else'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(2, 1, 2, 1, [' ']),\n\t\t\t\teditOp(3, 1, 3, 1, ['', ' '])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'something',\n\t\t\t\t' A',\n\t\t\t\t'',\n\t\t\t\t' B',\n\t\t\t\t'something else'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('insert empty text', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('last op is no-op', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 2, ['']),\n\t\t\t\teditOp(4, 1, 4, 1, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'y First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('insert text without newline 1', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, ['foo '])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'foo My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('insert text without newline 2', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 3, 1, 3, [' foo'])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My foo First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('insert one newline', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 4, 1, 4, ['', ''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My ',\n\t\t\t\t'First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('insert text with one newline', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 3, 1, 3, [' new line', 'No longer'])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My new line',\n\t\t\t\t'No longer First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('insert text with two newlines', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 3, 1, 3, [' new line', 'One more line in the middle', 'No longer'])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My new line',\n\t\t\t\t'One more line in the middle',\n\t\t\t\t'No longer First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('insert text with many newlines', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 3, 1, 3, ['', '', '', '', ''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My',\n\t\t\t\t'',\n\t\t\t\t'',\n\t\t\t\t'',\n\t\t\t\t' First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('insert multiple newlines', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 3, 1, 3, ['', '', '', '', '']),\n\t\t\t\teditOp(3, 15, 3, 15, ['a', 'b'])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My',\n\t\t\t\t'',\n\t\t\t\t'',\n\t\t\t\t'',\n\t\t\t\t' First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Linea',\n\t\t\t\t'b',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('delete empty text', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('delete text from one line', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 2, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'y First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('delete text from one line 2', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 3, ['a'])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'a First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('delete all text from a line', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 14, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('delete text from two lines', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 4, 2, 6, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('delete text from many lines', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 4, 3, 5, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('delete everything', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 5, 2, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t''\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two unrelated edits', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(2, 1, 2, 3, ['\\t']),\n\t\t\t\teditOp(3, 1, 3, 5, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\tMy Second Line',\n\t\t\t\t'Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two edits on one line', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'\\t\\tfirst\\t    ',\n\t\t\t\t'\\t\\tsecond line',\n\t\t\t\t'\\tthird line',\n\t\t\t\t'fourth line',\n\t\t\t\t'\\t\\t<!@#fifth#@!>\\t\\t'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(5, 3, 5, 7, ['']),\n\t\t\t\teditOp(5, 12, 5, 16, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'\\t\\tfirst\\t    ',\n\t\t\t\t'\\t\\tsecond line',\n\t\t\t\t'\\tthird line',\n\t\t\t\t'fourth line',\n\t\t\t\t'\\t\\tfifth\\t\\t'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('many edits', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'{\"x\" : 1}'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 2, 1, 2, ['\\n  ']),\n\t\t\t\teditOp(1, 5, 1, 6, ['']),\n\t\t\t\teditOp(1, 9, 1, 9, ['\\n'])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'{',\n\t\t\t\t'  \"x\": 1',\n\t\t\t\t'}'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('many edits reversed', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'{',\n\t\t\t\t'  \"x\": 1',\n\t\t\t\t'}'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 2, 2, 3, ['']),\n\t\t\t\teditOp(2, 6, 2, 6, [' ']),\n\t\t\t\teditOp(2, 9, 3, 1, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'{\"x\" : 1}'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('replacing newlines 1', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'{',\n\t\t\t\t'\"a\": true,',\n\t\t\t\t'',\n\t\t\t\t'\"b\": true',\n\t\t\t\t'}'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 2, 2, 1, ['', '\\t']),\n\t\t\t\teditOp(2, 11, 4, 1, ['', '\\t'])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'{',\n\t\t\t\t'\\t\"a\": true,',\n\t\t\t\t'\\t\"b\": true',\n\t\t\t\t'}'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('replacing newlines 2', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'some text',\n\t\t\t\t'some more text',\n\t\t\t\t'now comes an empty line',\n\t\t\t\t'',\n\t\t\t\t'after empty line',\n\t\t\t\t'and the last line'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 5, 3, 1, [' text', 'some more text', 'some more text']),\n\t\t\t\teditOp(3, 2, 4, 1, ['o more lines', 'asd', 'asd', 'asd']),\n\t\t\t\teditOp(5, 1, 5, 6, ['zzzzzzzz']),\n\t\t\t\teditOp(5, 11, 6, 16, ['1', '2', '3', '4'])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'some text',\n\t\t\t\t'some more text',\n\t\t\t\t'some more textno more lines',\n\t\t\t\t'asd',\n\t\t\t\t'asd',\n\t\t\t\t'asd',\n\t\t\t\t'zzzzzzzz empt1',\n\t\t\t\t'2',\n\t\t\t\t'3',\n\t\t\t\t'4ne'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('advanced 1', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t' {       \"d\": [',\n\t\t\t\t'             null',\n\t\t\t\t'        ] /*comment*/',\n\t\t\t\t'        ,\"e\": /*comment*/ [null] }',\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 2, ['']),\n\t\t\t\teditOp(1, 3, 1, 10, ['', '  ']),\n\t\t\t\teditOp(1, 16, 2, 14, ['', '    ']),\n\t\t\t\teditOp(2, 18, 3, 9, ['', '  ']),\n\t\t\t\teditOp(3, 22, 4, 9, ['']),\n\t\t\t\teditOp(4, 10, 4, 10, ['', '  ']),\n\t\t\t\teditOp(4, 28, 4, 28, ['', '    ']),\n\t\t\t\teditOp(4, 32, 4, 32, ['', '  ']),\n\t\t\t\teditOp(4, 33, 4, 34, ['', ''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'{',\n\t\t\t\t'  \"d\": [',\n\t\t\t\t'    null',\n\t\t\t\t'  ] /*comment*/,',\n\t\t\t\t'  \"e\": /*comment*/ [',\n\t\t\t\t'    null',\n\t\t\t\t'  ]',\n\t\t\t\t'}',\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('advanced simplified', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'   abc',\n\t\t\t\t' ,def'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 4, ['']),\n\t\t\t\teditOp(1, 7, 2, 2, ['']),\n\t\t\t\teditOp(2, 3, 2, 3, ['', ''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'abc,',\n\t\t\t\t'def'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('issue #144', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'package caddy',\n\t\t\t\t'',\n\t\t\t\t'func main() {',\n\t\t\t\t'\\tfmt.Println(\"Hello World! :)\")',\n\t\t\t\t'}',\n\t\t\t\t''\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 6, 1, [\n\t\t\t\t\t'package caddy',\n\t\t\t\t\t'',\n\t\t\t\t\t'import \"fmt\"',\n\t\t\t\t\t'',\n\t\t\t\t\t'func main() {',\n\t\t\t\t\t'\\tfmt.Println(\"Hello World! :)\")',\n\t\t\t\t\t'}',\n\t\t\t\t\t''\n\t\t\t\t])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'package caddy',\n\t\t\t\t'',\n\t\t\t\t'import \"fmt\"',\n\t\t\t\t'',\n\t\t\t\t'func main() {',\n\t\t\t\t'\\tfmt.Println(\"Hello World! :)\")',\n\t\t\t\t'}',\n\t\t\t\t''\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('issue #2586 Replacing selected end-of-line with newline locks up the document', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'something',\n\t\t\t\t'interesting'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 10, 2, 1, ['', ''])\n\t\t\t],\n\t\t\t[\n\t\t\t\t'something',\n\t\t\t\t'interesting'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('issue #3980', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'class A {',\n\t\t\t\t'    someProperty = false;',\n\t\t\t\t'    someMethod() {',\n\t\t\t\t'    this.someMethod();',\n\t\t\t\t'    }',\n\t\t\t\t'}',\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 8, 1, 9, ['', '']),\n\t\t\t\teditOp(3, 17, 3, 18, ['', '']),\n\t\t\t\teditOp(3, 18, 3, 18, ['    ']),\n\t\t\t\teditOp(4, 5, 4, 5, ['    ']),\n\t\t\t],\n\t\t\t[\n\t\t\t\t'class A',\n\t\t\t\t'{',\n\t\t\t\t'    someProperty = false;',\n\t\t\t\t'    someMethod()',\n\t\t\t\t'    {',\n\t\t\t\t'        this.someMethod();',\n\t\t\t\t'    }',\n\t\t\t\t'}',\n\t\t\t]\n\t\t);\n\t});\n\n\tfunction testApplyEditsFails(original: string[], edits: ISingleEditOperation[]): void {\n\t\tconst model = createTextModel(original.join('\\n'));\n\n\t\tlet hasThrown = false;\n\t\ttry {\n\t\t\tmodel.applyEdits(edits);\n\t\t} catch (err) {\n\t\t\thasThrown = true;\n\t\t}\n\t\tassert.ok(hasThrown, 'expected model.applyEdits to fail.');\n\n\t\tmodel.dispose();\n\t}\n\n\ttest('touching edits: two inserts at the same position', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'hello world'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, ['a']),\n\t\t\t\teditOp(1, 1, 1, 1, ['b']),\n\t\t\t],\n\t\t\t[\n\t\t\t\t'abhello world'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('touching edits: insert and replace touching', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'hello world'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, ['b']),\n\t\t\t\teditOp(1, 1, 1, 3, ['ab']),\n\t\t\t],\n\t\t\t[\n\t\t\t\t'babllo world'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('overlapping edits: two overlapping replaces', () => {\n\t\ttestApplyEditsFails(\n\t\t\t[\n\t\t\t\t'hello world'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 2, ['b']),\n\t\t\t\teditOp(1, 1, 1, 3, ['ab']),\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('overlapping edits: two overlapping deletes', () => {\n\t\ttestApplyEditsFails(\n\t\t\t[\n\t\t\t\t'hello world'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 2, ['']),\n\t\t\t\teditOp(1, 1, 1, 3, ['']),\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('touching edits: two touching replaces', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'hello world'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 2, ['H']),\n\t\t\t\teditOp(1, 2, 1, 3, ['E']),\n\t\t\t],\n\t\t\t[\n\t\t\t\t'HEllo world'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('touching edits: two touching deletes', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'hello world'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 2, ['']),\n\t\t\t\teditOp(1, 2, 1, 3, ['']),\n\t\t\t],\n\t\t\t[\n\t\t\t\t'llo world'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('touching edits: insert and replace', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'hello world'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, ['H']),\n\t\t\t\teditOp(1, 1, 1, 3, ['e']),\n\t\t\t],\n\t\t\t[\n\t\t\t\t'Hello world'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('touching edits: replace and insert', () => {\n\t\ttestApplyEditsWithSyncedModels(\n\t\t\t[\n\t\t\t\t'hello world'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 3, ['H']),\n\t\t\t\teditOp(1, 3, 1, 3, ['e']),\n\t\t\t],\n\t\t\t[\n\t\t\t\t'Hello world'\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('change while emitting events 1', () => {\n\t\tlet disposable!: IDisposable;\n\t\tassertSyncedModels('Hello', (model, assertMirrorModels) => {\n\t\t\tmodel.applyEdits([{\n\t\t\t\trange: new Range(1, 6, 1, 6),\n\t\t\t\ttext: ' world!',\n\t\t\t\t// forceMoveMarkers: false\n\t\t\t}]);\n\n\t\t\tassertMirrorModels();\n\n\t\t}, (model) => {\n\t\t\tlet isFirstTime = true;\n\t\t\tdisposable = model.onDidChangeContent(() => {\n\t\t\t\tif (!isFirstTime) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tisFirstTime = false;\n\n\t\t\t\tmodel.applyEdits([{\n\t\t\t\t\trange: new Range(1, 13, 1, 13),\n\t\t\t\t\ttext: ' How are you?',\n\t\t\t\t\t// forceMoveMarkers: false\n\t\t\t\t}]);\n\t\t\t});\n\t\t});\n\t\tdisposable.dispose();\n\t});\n\n\ttest('change while emitting events 2', () => {\n\t\tlet disposable!: IDisposable;\n\t\tassertSyncedModels('Hello', (model, assertMirrorModels) => {\n\t\t\tmodel.applyEdits([{\n\t\t\t\trange: new Range(1, 6, 1, 6),\n\t\t\t\ttext: ' world!',\n\t\t\t\t// forceMoveMarkers: false\n\t\t\t}]);\n\n\t\t\tassertMirrorModels();\n\n\t\t}, (model) => {\n\t\t\tlet isFirstTime = true;\n\t\t\tdisposable = model.onDidChangeContent((e: IModelContentChangedEvent) => {\n\t\t\t\tif (!isFirstTime) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tisFirstTime = false;\n\n\t\t\t\tmodel.applyEdits([{\n\t\t\t\t\trange: new Range(1, 13, 1, 13),\n\t\t\t\t\ttext: ' How are you?',\n\t\t\t\t\t// forceMoveMarkers: false\n\t\t\t\t}]);\n\t\t\t});\n\t\t});\n\t\tdisposable.dispose();\n\t});\n\n\ttest('issue #1580: Changes in line endings are not correctly reflected in the extension host, leading to invalid offsets sent to external refactoring tools', () => {\n\t\tconst model = createTextModel('Hello\\nWorld!');\n\t\tassert.strictEqual(model.getEOL(), '\\n');\n\n\t\tconst mirrorModel2 = new MirrorTextModel(null!, model.getLinesContent(), model.getEOL(), model.getVersionId());\n\t\tlet mirrorModel2PrevVersionId = model.getVersionId();\n\n\t\tconst disposable = model.onDidChangeContent((e: IModelContentChangedEvent) => {\n\t\t\tconst versionId = e.versionId;\n\t\t\tif (versionId < mirrorModel2PrevVersionId) {\n\t\t\t\tconsole.warn('Model version id did not advance between edits (2)');\n\t\t\t}\n\t\t\tmirrorModel2PrevVersionId = versionId;\n\t\t\tmirrorModel2.onEvents(e);\n\t\t});\n\n\t\tconst assertMirrorModels = () => {\n\t\t\tassert.strictEqual(mirrorModel2.getText(), model.getValue(), 'mirror model 2 text OK');\n\t\t\tassert.strictEqual(mirrorModel2.version, model.getVersionId(), 'mirror model 2 version OK');\n\t\t};\n\n\t\tmodel.setEOL(EndOfLineSequence.CRLF);\n\t\tassertMirrorModels();\n\n\t\tdisposable.dispose();\n\t\tmodel.dispose();\n\t\tmirrorModel2.dispose();\n\t});\n\n\ttest('issue #47733: Undo mangles unicode characters', () => {\n\t\tconst model = createTextModel('\\'ðŸ‘\\'');\n\n\t\tmodel.applyEdits([\n\t\t\t{ range: new Range(1, 1, 1, 1), text: '\"' },\n\t\t\t{ range: new Range(1, 2, 1, 2), text: '\"' },\n\t\t]);\n\n\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\"\\'\"ðŸ‘\\'');\n\n\t\tassert.deepStrictEqual(model.validateRange(new Range(1, 3, 1, 4)), new Range(1, 3, 1, 4));\n\n\t\tmodel.applyEdits([\n\t\t\t{ range: new Range(1, 1, 1, 2), text: null },\n\t\t\t{ range: new Range(1, 3, 1, 4), text: null },\n\t\t]);\n\n\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\'ðŸ‘\\'');\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('issue #48741: Broken undo stack with move lines up with multiple cursors', () => {\n\t\tconst model = createTextModel([\n\t\t\t'line1',\n\t\t\t'line2',\n\t\t\t'line3',\n\t\t\t'',\n\t\t].join('\\n'));\n\n\t\tconst undoEdits = model.applyEdits([\n\t\t\t{ range: new Range(4, 1, 4, 1), text: 'line3', },\n\t\t\t{ range: new Range(3, 1, 3, 6), text: null, },\n\t\t\t{ range: new Range(2, 1, 3, 1), text: null, },\n\t\t\t{ range: new Range(3, 6, 3, 6), text: '\\nline2' }\n\t\t], true);\n\n\t\tmodel.applyEdits(undoEdits);\n\n\t\tassert.deepStrictEqual(model.getValue(), 'line1\\nline2\\nline3\\n');\n\n\t\tmodel.dispose();\n\t});\n});\n"]}