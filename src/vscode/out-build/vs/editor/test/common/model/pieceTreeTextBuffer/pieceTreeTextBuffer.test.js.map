{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/editor/test/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer.test.ts","vs/editor/test/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer.test.ts"],"names":[],"mappings":"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","file":"pieceTreeTextBuffer.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { WordCharacterClassifier } from '../../../../common/core/wordCharacterClassifier.js';\nimport { Position } from '../../../../common/core/position.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { DefaultEndOfLine, ITextSnapshot, SearchData } from '../../../../common/model.js';\nimport { PieceTreeBase } from '../../../../common/model/pieceTreeTextBuffer/pieceTreeBase.js';\nimport { PieceTreeTextBuffer } from '../../../../common/model/pieceTreeTextBuffer/pieceTreeTextBuffer.js';\nimport { PieceTreeTextBufferBuilder } from '../../../../common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder.js';\nimport { NodeColor, SENTINEL, TreeNode } from '../../../../common/model/pieceTreeTextBuffer/rbTreeBase.js';\nimport { createTextModel } from '../../testTextModel.js';\nimport { splitLines } from '../../../../../base/common/strings.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\n\nconst alphabet = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\\r\\n';\n\nfunction randomChar() {\n\treturn alphabet[randomInt(alphabet.length)];\n}\n\nfunction randomInt(bound: number) {\n\treturn Math.floor(Math.random() * bound);\n}\n\nfunction randomStr(len: number) {\n\tif (len === null) {\n\t\tlen = 10;\n\t}\n\treturn (function () {\n\t\tlet j, ref;\n\t\tconst results = [];\n\t\tfor (\n\t\t\tj = 1, ref = len;\n\t\t\t1 <= ref ? j < ref : j > ref;\n\t\t\t1 <= ref ? j++ : j--\n\t\t) {\n\t\t\tresults.push(randomChar());\n\t\t}\n\t\treturn results;\n\t})().join('');\n}\n\nfunction trimLineFeed(text: string): string {\n\tif (text.length === 0) {\n\t\treturn text;\n\t}\n\n\tif (text.length === 1) {\n\t\tif (\n\t\t\ttext.charCodeAt(text.length - 1) === 10 ||\n\t\t\ttext.charCodeAt(text.length - 1) === 13\n\t\t) {\n\t\t\treturn '';\n\t\t}\n\t\treturn text;\n\t}\n\n\tif (text.charCodeAt(text.length - 1) === 10) {\n\t\tif (text.charCodeAt(text.length - 2) === 13) {\n\t\t\treturn text.slice(0, -2);\n\t\t}\n\t\treturn text.slice(0, -1);\n\t}\n\n\tif (text.charCodeAt(text.length - 1) === 13) {\n\t\treturn text.slice(0, -1);\n\t}\n\n\treturn text;\n}\n\n//#region Assertion\n\nfunction testLinesContent(str: string, pieceTable: PieceTreeBase) {\n\tconst lines = splitLines(str);\n\tassert.strictEqual(pieceTable.getLineCount(), lines.length);\n\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\tfor (let i = 0; i < lines.length; i++) {\n\t\tassert.strictEqual(pieceTable.getLineContent(i + 1), lines[i]);\n\t\tassert.strictEqual(\n\t\t\ttrimLineFeed(\n\t\t\t\tpieceTable.getValueInRange(\n\t\t\t\t\tnew Range(\n\t\t\t\t\t\ti + 1,\n\t\t\t\t\t\t1,\n\t\t\t\t\t\ti + 1,\n\t\t\t\t\t\tlines[i].length + (i === lines.length - 1 ? 1 : 2)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t),\n\t\t\tlines[i]\n\t\t);\n\t}\n}\n\nfunction testLineStarts(str: string, pieceTable: PieceTreeBase) {\n\tconst lineStarts = [0];\n\n\t// Reset regex to search from the beginning\n\tconst _regex = new RegExp(/\\r\\n|\\r|\\n/g);\n\t_regex.lastIndex = 0;\n\tlet prevMatchStartIndex = -1;\n\tlet prevMatchLength = 0;\n\n\tlet m: RegExpExecArray | null;\n\tdo {\n\t\tif (prevMatchStartIndex + prevMatchLength === str.length) {\n\t\t\t// Reached the end of the line\n\t\t\tbreak;\n\t\t}\n\n\t\tm = _regex.exec(str);\n\t\tif (!m) {\n\t\t\tbreak;\n\t\t}\n\n\t\tconst matchStartIndex = m.index;\n\t\tconst matchLength = m[0].length;\n\n\t\tif (\n\t\t\tmatchStartIndex === prevMatchStartIndex &&\n\t\t\tmatchLength === prevMatchLength\n\t\t) {\n\t\t\t// Exit early if the regex matches the same range twice\n\t\t\tbreak;\n\t\t}\n\n\t\tprevMatchStartIndex = matchStartIndex;\n\t\tprevMatchLength = matchLength;\n\n\t\tlineStarts.push(matchStartIndex + matchLength);\n\t} while (m);\n\n\tfor (let i = 0; i < lineStarts.length; i++) {\n\t\tassert.deepStrictEqual(\n\t\t\tpieceTable.getPositionAt(lineStarts[i]),\n\t\t\tnew Position(i + 1, 1)\n\t\t);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(i + 1, 1), lineStarts[i]);\n\t}\n\n\tfor (let i = 1; i < lineStarts.length; i++) {\n\t\tconst pos = pieceTable.getPositionAt(lineStarts[i] - 1);\n\t\tassert.strictEqual(\n\t\t\tpieceTable.getOffsetAt(pos.lineNumber, pos.column),\n\t\t\tlineStarts[i] - 1\n\t\t);\n\t}\n}\n\nfunction createTextBuffer(val: string[], normalizeEOL: boolean = true): PieceTreeTextBuffer {\n\tconst bufferBuilder = new PieceTreeTextBufferBuilder();\n\tfor (const chunk of val) {\n\t\tbufferBuilder.acceptChunk(chunk);\n\t}\n\tconst factory = bufferBuilder.finish(normalizeEOL);\n\treturn (<PieceTreeTextBuffer>factory.create(DefaultEndOfLine.LF).textBuffer);\n}\n\nfunction assertTreeInvariants(T: PieceTreeBase): void {\n\tassert(SENTINEL.color === NodeColor.Black);\n\tassert(SENTINEL.parent === SENTINEL);\n\tassert(SENTINEL.left === SENTINEL);\n\tassert(SENTINEL.right === SENTINEL);\n\tassert(SENTINEL.size_left === 0);\n\tassert(SENTINEL.lf_left === 0);\n\tassertValidTree(T);\n}\n\nfunction depth(n: TreeNode): number {\n\tif (n === SENTINEL) {\n\t\t// The leafs are black\n\t\treturn 1;\n\t}\n\tassert(depth(n.left) === depth(n.right));\n\treturn (n.color === NodeColor.Black ? 1 : 0) + depth(n.left);\n}\n\nfunction assertValidNode(n: TreeNode): { size: number; lf_cnt: number } {\n\tif (n === SENTINEL) {\n\t\treturn { size: 0, lf_cnt: 0 };\n\t}\n\n\tconst l = n.left;\n\tconst r = n.right;\n\n\tif (n.color === NodeColor.Red) {\n\t\tassert(l.color === NodeColor.Black);\n\t\tassert(r.color === NodeColor.Black);\n\t}\n\n\tconst actualLeft = assertValidNode(l);\n\tassert(actualLeft.lf_cnt === n.lf_left);\n\tassert(actualLeft.size === n.size_left);\n\tconst actualRight = assertValidNode(r);\n\n\treturn { size: n.size_left + n.piece.length + actualRight.size, lf_cnt: n.lf_left + n.piece.lineFeedCnt + actualRight.lf_cnt };\n}\n\nfunction assertValidTree(T: PieceTreeBase): void {\n\tif (T.root === SENTINEL) {\n\t\treturn;\n\t}\n\tassert(T.root.color === NodeColor.Black);\n\tassert(depth(T.root.left) === depth(T.root.right));\n\tassertValidNode(T.root);\n}\n\n//#endregion\n\nsuite('inserts and deletes', () => {\n\tconst ds = ensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('basic insert/delete', () => {\n\t\tconst pieceTree = createTextBuffer([\n\t\t\t'This is a document with some text.'\n\t\t]);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(34, 'This is some more text to insert at offset 34.');\n\t\tassert.strictEqual(\n\t\t\tpieceTable.getLinesRawContent(),\n\t\t\t'This is a document with some text.This is some more text to insert at offset 34.'\n\t\t);\n\t\tpieceTable.delete(42, 5);\n\t\tassert.strictEqual(\n\t\t\tpieceTable.getLinesRawContent(),\n\t\t\t'This is a document with some text.This is more text to insert at offset 34.'\n\t\t);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('more inserts', () => {\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pt = pieceTree.getPieceTree();\n\t\tpt.insert(0, 'AAA');\n\t\tassert.strictEqual(pt.getLinesRawContent(), 'AAA');\n\t\tpt.insert(0, 'BBB');\n\t\tassert.strictEqual(pt.getLinesRawContent(), 'BBBAAA');\n\t\tpt.insert(6, 'CCC');\n\t\tassert.strictEqual(pt.getLinesRawContent(), 'BBBAAACCC');\n\t\tpt.insert(5, 'DDD');\n\t\tassert.strictEqual(pt.getLinesRawContent(), 'BBBAADDDACCC');\n\t\tassertTreeInvariants(pt);\n\t});\n\n\ttest('more deletes', () => {\n\t\tconst pieceTree = createTextBuffer(['012345678']);\n\t\tds.add(pieceTree);\n\t\tconst pt = pieceTree.getPieceTree();\n\n\t\tpt.delete(8, 1);\n\t\tassert.strictEqual(pt.getLinesRawContent(), '01234567');\n\t\tpt.delete(0, 1);\n\t\tassert.strictEqual(pt.getLinesRawContent(), '1234567');\n\t\tpt.delete(5, 1);\n\t\tassert.strictEqual(pt.getLinesRawContent(), '123457');\n\t\tpt.delete(5, 1);\n\t\tassert.strictEqual(pt.getLinesRawContent(), '12345');\n\t\tpt.delete(0, 5);\n\t\tassert.strictEqual(pt.getLinesRawContent(), '');\n\t\tassertTreeInvariants(pt);\n\t});\n\n\ttest('random test 1', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(0, 'ceLPHmFzvCtFeHkCBej ');\n\t\tstr = str.substring(0, 0) + 'ceLPHmFzvCtFeHkCBej ' + str.substring(0);\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\tpieceTable.insert(8, 'gDCEfNYiBUNkSwtvB K ');\n\t\tstr = str.substring(0, 8) + 'gDCEfNYiBUNkSwtvB K ' + str.substring(8);\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\tpieceTable.insert(38, 'cyNcHxjNPPoehBJldLS ');\n\t\tstr = str.substring(0, 38) + 'cyNcHxjNPPoehBJldLS ' + str.substring(38);\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\tpieceTable.insert(59, 'ejMx\\nOTgWlbpeDExjOk ');\n\t\tstr = str.substring(0, 59) + 'ejMx\\nOTgWlbpeDExjOk ' + str.substring(59);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random test 2', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, 'VgPG ');\n\t\tstr = str.substring(0, 0) + 'VgPG ' + str.substring(0);\n\t\tpieceTable.insert(2, 'DdWF ');\n\t\tstr = str.substring(0, 2) + 'DdWF ' + str.substring(2);\n\t\tpieceTable.insert(0, 'hUJc ');\n\t\tstr = str.substring(0, 0) + 'hUJc ' + str.substring(0);\n\t\tpieceTable.insert(8, 'lQEq ');\n\t\tstr = str.substring(0, 8) + 'lQEq ' + str.substring(8);\n\t\tpieceTable.insert(10, 'Gbtp ');\n\t\tstr = str.substring(0, 10) + 'Gbtp ' + str.substring(10);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random test 3', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, 'gYSz');\n\t\tstr = str.substring(0, 0) + 'gYSz' + str.substring(0);\n\t\tpieceTable.insert(1, 'mDQe');\n\t\tstr = str.substring(0, 1) + 'mDQe' + str.substring(1);\n\t\tpieceTable.insert(1, 'DTMQ');\n\t\tstr = str.substring(0, 1) + 'DTMQ' + str.substring(1);\n\t\tpieceTable.insert(2, 'GGZB');\n\t\tstr = str.substring(0, 2) + 'GGZB' + str.substring(2);\n\t\tpieceTable.insert(12, 'wXpq');\n\t\tstr = str.substring(0, 12) + 'wXpq' + str.substring(12);\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t});\n\n\ttest('random delete 1', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(0, 'vfb');\n\t\tstr = str.substring(0, 0) + 'vfb' + str.substring(0);\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\tpieceTable.insert(0, 'zRq');\n\t\tstr = str.substring(0, 0) + 'zRq' + str.substring(0);\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\n\t\tpieceTable.delete(5, 1);\n\t\tstr = str.substring(0, 5) + str.substring(5 + 1);\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\n\t\tpieceTable.insert(1, 'UNw');\n\t\tstr = str.substring(0, 1) + 'UNw' + str.substring(1);\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\n\t\tpieceTable.delete(4, 3);\n\t\tstr = str.substring(0, 4) + str.substring(4 + 3);\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\n\t\tpieceTable.delete(1, 4);\n\t\tstr = str.substring(0, 1) + str.substring(1 + 4);\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\n\t\tpieceTable.delete(0, 1);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 1);\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random delete 2', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(0, 'IDT');\n\t\tstr = str.substring(0, 0) + 'IDT' + str.substring(0);\n\t\tpieceTable.insert(3, 'wwA');\n\t\tstr = str.substring(0, 3) + 'wwA' + str.substring(3);\n\t\tpieceTable.insert(3, 'Gnr');\n\t\tstr = str.substring(0, 3) + 'Gnr' + str.substring(3);\n\t\tpieceTable.delete(6, 3);\n\t\tstr = str.substring(0, 6) + str.substring(6 + 3);\n\t\tpieceTable.insert(4, 'eHp');\n\t\tstr = str.substring(0, 4) + 'eHp' + str.substring(4);\n\t\tpieceTable.insert(1, 'UAi');\n\t\tstr = str.substring(0, 1) + 'UAi' + str.substring(1);\n\t\tpieceTable.insert(2, 'FrR');\n\t\tstr = str.substring(0, 2) + 'FrR' + str.substring(2);\n\t\tpieceTable.delete(6, 7);\n\t\tstr = str.substring(0, 6) + str.substring(6 + 7);\n\t\tpieceTable.delete(3, 5);\n\t\tstr = str.substring(0, 3) + str.substring(3 + 5);\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random delete 3', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, 'PqM');\n\t\tstr = str.substring(0, 0) + 'PqM' + str.substring(0);\n\t\tpieceTable.delete(1, 2);\n\t\tstr = str.substring(0, 1) + str.substring(1 + 2);\n\t\tpieceTable.insert(1, 'zLc');\n\t\tstr = str.substring(0, 1) + 'zLc' + str.substring(1);\n\t\tpieceTable.insert(0, 'MEX');\n\t\tstr = str.substring(0, 0) + 'MEX' + str.substring(0);\n\t\tpieceTable.insert(0, 'jZh');\n\t\tstr = str.substring(0, 0) + 'jZh' + str.substring(0);\n\t\tpieceTable.insert(8, 'GwQ');\n\t\tstr = str.substring(0, 8) + 'GwQ' + str.substring(8);\n\t\tpieceTable.delete(5, 6);\n\t\tstr = str.substring(0, 5) + str.substring(5 + 6);\n\t\tpieceTable.insert(4, 'ktw');\n\t\tstr = str.substring(0, 4) + 'ktw' + str.substring(4);\n\t\tpieceTable.insert(5, 'GVu');\n\t\tstr = str.substring(0, 5) + 'GVu' + str.substring(5);\n\t\tpieceTable.insert(9, 'jdm');\n\t\tstr = str.substring(0, 9) + 'jdm' + str.substring(9);\n\t\tpieceTable.insert(15, 'na\\n');\n\t\tstr = str.substring(0, 15) + 'na\\n' + str.substring(15);\n\t\tpieceTable.delete(5, 8);\n\t\tstr = str.substring(0, 5) + str.substring(5 + 8);\n\t\tpieceTable.delete(3, 4);\n\t\tstr = str.substring(0, 3) + str.substring(3 + 4);\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random insert/delete \\\\r bug 1', () => {\n\t\tlet str = 'a';\n\t\tconst pieceTree = createTextBuffer(['a']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.delete(0, 1);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 1);\n\t\tpieceTable.insert(0, '\\r\\r\\n\\n');\n\t\tstr = str.substring(0, 0) + '\\r\\r\\n\\n' + str.substring(0);\n\t\tpieceTable.delete(3, 1);\n\t\tstr = str.substring(0, 3) + str.substring(3 + 1);\n\t\tpieceTable.insert(2, '\\n\\n\\ra');\n\t\tstr = str.substring(0, 2) + '\\n\\n\\ra' + str.substring(2);\n\t\tpieceTable.delete(4, 3);\n\t\tstr = str.substring(0, 4) + str.substring(4 + 3);\n\t\tpieceTable.insert(2, '\\na\\r\\r');\n\t\tstr = str.substring(0, 2) + '\\na\\r\\r' + str.substring(2);\n\t\tpieceTable.insert(6, '\\ra\\n\\n');\n\t\tstr = str.substring(0, 6) + '\\ra\\n\\n' + str.substring(6);\n\t\tpieceTable.insert(0, 'aa\\n\\n');\n\t\tstr = str.substring(0, 0) + 'aa\\n\\n' + str.substring(0);\n\t\tpieceTable.insert(5, '\\n\\na\\r');\n\t\tstr = str.substring(0, 5) + '\\n\\na\\r' + str.substring(5);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random insert/delete \\\\r bug 2', () => {\n\t\tlet str = 'a';\n\t\tconst pieceTree = createTextBuffer(['a']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(1, '\\naa\\r');\n\t\tstr = str.substring(0, 1) + '\\naa\\r' + str.substring(1);\n\t\tpieceTable.delete(0, 4);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 4);\n\t\tpieceTable.insert(1, '\\r\\r\\na');\n\t\tstr = str.substring(0, 1) + '\\r\\r\\na' + str.substring(1);\n\t\tpieceTable.insert(2, '\\n\\r\\ra');\n\t\tstr = str.substring(0, 2) + '\\n\\r\\ra' + str.substring(2);\n\t\tpieceTable.delete(4, 1);\n\t\tstr = str.substring(0, 4) + str.substring(4 + 1);\n\t\tpieceTable.insert(8, '\\r\\n\\r\\r');\n\t\tstr = str.substring(0, 8) + '\\r\\n\\r\\r' + str.substring(8);\n\t\tpieceTable.insert(7, '\\n\\n\\na');\n\t\tstr = str.substring(0, 7) + '\\n\\n\\na' + str.substring(7);\n\t\tpieceTable.insert(13, 'a\\n\\na');\n\t\tstr = str.substring(0, 13) + 'a\\n\\na' + str.substring(13);\n\t\tpieceTable.delete(17, 3);\n\t\tstr = str.substring(0, 17) + str.substring(17 + 3);\n\t\tpieceTable.insert(2, 'a\\ra\\n');\n\t\tstr = str.substring(0, 2) + 'a\\ra\\n' + str.substring(2);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random insert/delete \\\\r bug 3', () => {\n\t\tlet str = 'a';\n\t\tconst pieceTree = createTextBuffer(['a']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, '\\r\\na\\r');\n\t\tstr = str.substring(0, 0) + '\\r\\na\\r' + str.substring(0);\n\t\tpieceTable.delete(2, 3);\n\t\tstr = str.substring(0, 2) + str.substring(2 + 3);\n\t\tpieceTable.insert(2, 'a\\r\\n\\r');\n\t\tstr = str.substring(0, 2) + 'a\\r\\n\\r' + str.substring(2);\n\t\tpieceTable.delete(4, 2);\n\t\tstr = str.substring(0, 4) + str.substring(4 + 2);\n\t\tpieceTable.insert(4, 'a\\n\\r\\n');\n\t\tstr = str.substring(0, 4) + 'a\\n\\r\\n' + str.substring(4);\n\t\tpieceTable.insert(1, 'aa\\n\\r');\n\t\tstr = str.substring(0, 1) + 'aa\\n\\r' + str.substring(1);\n\t\tpieceTable.insert(7, '\\na\\r\\n');\n\t\tstr = str.substring(0, 7) + '\\na\\r\\n' + str.substring(7);\n\t\tpieceTable.insert(5, '\\n\\na\\r');\n\t\tstr = str.substring(0, 5) + '\\n\\na\\r' + str.substring(5);\n\t\tpieceTable.insert(10, '\\r\\r\\n\\r');\n\t\tstr = str.substring(0, 10) + '\\r\\r\\n\\r' + str.substring(10);\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\tpieceTable.delete(21, 3);\n\t\tstr = str.substring(0, 21) + str.substring(21 + 3);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random insert/delete \\\\r bug 4s', () => {\n\t\tlet str = 'a';\n\t\tconst pieceTree = createTextBuffer(['a']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.delete(0, 1);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 1);\n\t\tpieceTable.insert(0, '\\naaa');\n\t\tstr = str.substring(0, 0) + '\\naaa' + str.substring(0);\n\t\tpieceTable.insert(2, '\\n\\naa');\n\t\tstr = str.substring(0, 2) + '\\n\\naa' + str.substring(2);\n\t\tpieceTable.delete(1, 4);\n\t\tstr = str.substring(0, 1) + str.substring(1 + 4);\n\t\tpieceTable.delete(3, 1);\n\t\tstr = str.substring(0, 3) + str.substring(3 + 1);\n\t\tpieceTable.delete(1, 2);\n\t\tstr = str.substring(0, 1) + str.substring(1 + 2);\n\t\tpieceTable.delete(0, 1);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 1);\n\t\tpieceTable.insert(0, 'a\\n\\n\\r');\n\t\tstr = str.substring(0, 0) + 'a\\n\\n\\r' + str.substring(0);\n\t\tpieceTable.insert(2, 'aa\\r\\n');\n\t\tstr = str.substring(0, 2) + 'aa\\r\\n' + str.substring(2);\n\t\tpieceTable.insert(3, 'a\\naa');\n\t\tstr = str.substring(0, 3) + 'a\\naa' + str.substring(3);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\ttest('random insert/delete \\\\r bug 5', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, '\\n\\n\\n\\r');\n\t\tstr = str.substring(0, 0) + '\\n\\n\\n\\r' + str.substring(0);\n\t\tpieceTable.insert(1, '\\n\\n\\n\\r');\n\t\tstr = str.substring(0, 1) + '\\n\\n\\n\\r' + str.substring(1);\n\t\tpieceTable.insert(2, '\\n\\r\\r\\r');\n\t\tstr = str.substring(0, 2) + '\\n\\r\\r\\r' + str.substring(2);\n\t\tpieceTable.insert(8, '\\n\\r\\n\\r');\n\t\tstr = str.substring(0, 8) + '\\n\\r\\n\\r' + str.substring(8);\n\t\tpieceTable.delete(5, 2);\n\t\tstr = str.substring(0, 5) + str.substring(5 + 2);\n\t\tpieceTable.insert(4, '\\n\\r\\r\\r');\n\t\tstr = str.substring(0, 4) + '\\n\\r\\r\\r' + str.substring(4);\n\t\tpieceTable.insert(8, '\\n\\n\\n\\r');\n\t\tstr = str.substring(0, 8) + '\\n\\n\\n\\r' + str.substring(8);\n\t\tpieceTable.delete(0, 7);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 7);\n\t\tpieceTable.insert(1, '\\r\\n\\r\\r');\n\t\tstr = str.substring(0, 1) + '\\r\\n\\r\\r' + str.substring(1);\n\t\tpieceTable.insert(15, '\\n\\r\\r\\r');\n\t\tstr = str.substring(0, 15) + '\\n\\r\\r\\r' + str.substring(15);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n});\n\nsuite('prefix sum for line feed', () => {\n\tconst ds = ensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('basic', () => {\n\t\tconst pieceTree = createTextBuffer(['1\\n2\\n3\\n4']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tassert.strictEqual(pieceTable.getLineCount(), 4);\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(0), new Position(1, 1));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(1), new Position(1, 2));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(2), new Position(2, 1));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(3), new Position(2, 2));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(4), new Position(3, 1));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(5), new Position(3, 2));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(6), new Position(4, 1));\n\n\t\tassert.strictEqual(pieceTable.getOffsetAt(1, 1), 0);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(1, 2), 1);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(2, 1), 2);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(2, 2), 3);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(3, 1), 4);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(3, 2), 5);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(4, 1), 6);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('append', () => {\n\t\tconst pieceTree = createTextBuffer(['a\\nb\\nc\\nde']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(8, 'fh\\ni\\njk');\n\n\t\tassert.strictEqual(pieceTable.getLineCount(), 6);\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(9), new Position(4, 4));\n\t\tassert.strictEqual(pieceTable.getOffsetAt(1, 1), 0);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('insert', () => {\n\t\tconst pieceTree = createTextBuffer(['a\\nb\\nc\\nde']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(7, 'fh\\ni\\njk');\n\n\t\tassert.strictEqual(pieceTable.getLineCount(), 6);\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(6), new Position(4, 1));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(7), new Position(4, 2));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(8), new Position(4, 3));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(9), new Position(4, 4));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(12), new Position(6, 1));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(13), new Position(6, 2));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(14), new Position(6, 3));\n\n\t\tassert.strictEqual(pieceTable.getOffsetAt(4, 1), 6);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(4, 2), 7);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(4, 3), 8);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(4, 4), 9);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(6, 1), 12);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(6, 2), 13);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(6, 3), 14);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('delete', () => {\n\t\tconst pieceTree = createTextBuffer(['a\\nb\\nc\\ndefh\\ni\\njk']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.delete(7, 2);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), 'a\\nb\\nc\\ndh\\ni\\njk');\n\t\tassert.strictEqual(pieceTable.getLineCount(), 6);\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(6), new Position(4, 1));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(7), new Position(4, 2));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(8), new Position(4, 3));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(9), new Position(5, 1));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(11), new Position(6, 1));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(12), new Position(6, 2));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(13), new Position(6, 3));\n\n\t\tassert.strictEqual(pieceTable.getOffsetAt(4, 1), 6);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(4, 2), 7);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(4, 3), 8);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(5, 1), 9);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(6, 1), 11);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(6, 2), 12);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(6, 3), 13);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('add+delete 1', () => {\n\t\tconst pieceTree = createTextBuffer(['a\\nb\\nc\\nde']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(8, 'fh\\ni\\njk');\n\t\tpieceTable.delete(7, 2);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), 'a\\nb\\nc\\ndh\\ni\\njk');\n\t\tassert.strictEqual(pieceTable.getLineCount(), 6);\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(6), new Position(4, 1));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(7), new Position(4, 2));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(8), new Position(4, 3));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(9), new Position(5, 1));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(11), new Position(6, 1));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(12), new Position(6, 2));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(13), new Position(6, 3));\n\n\t\tassert.strictEqual(pieceTable.getOffsetAt(4, 1), 6);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(4, 2), 7);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(4, 3), 8);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(5, 1), 9);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(6, 1), 11);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(6, 2), 12);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(6, 3), 13);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('insert random bug 1: prefixSumComputer.removeValues(start, cnt) cnt is 1 based.', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, ' ZX \\n Z\\nZ\\n YZ\\nY\\nZXX ');\n\t\tstr =\n\t\t\tstr.substring(0, 0) +\n\t\t\t' ZX \\n Z\\nZ\\n YZ\\nY\\nZXX ' +\n\t\t\tstr.substring(0);\n\t\tpieceTable.insert(14, 'X ZZ\\nYZZYZXXY Y XY\\n ');\n\t\tstr =\n\t\t\tstr.substring(0, 14) + 'X ZZ\\nYZZYZXXY Y XY\\n ' + str.substring(14);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\ttestLineStarts(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('insert random bug 2: prefixSumComputer initialize does not do deep copy of UInt32Array.', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, 'ZYZ\\nYY XY\\nX \\nZ Y \\nZ ');\n\t\tstr =\n\t\t\tstr.substring(0, 0) + 'ZYZ\\nYY XY\\nX \\nZ Y \\nZ ' + str.substring(0);\n\t\tpieceTable.insert(3, 'XXY \\n\\nY Y YYY  ZYXY ');\n\t\tstr = str.substring(0, 3) + 'XXY \\n\\nY Y YYY  ZYXY ' + str.substring(3);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\ttestLineStarts(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('delete random bug 1: I forgot to update the lineFeedCnt when deletion is on one single piece.', () => {\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, 'ba\\na\\nca\\nba\\ncbab\\ncaa ');\n\t\tpieceTable.insert(13, 'cca\\naabb\\ncac\\nccc\\nab ');\n\t\tpieceTable.delete(5, 8);\n\t\tpieceTable.delete(30, 2);\n\t\tpieceTable.insert(24, 'cbbacccbac\\nbaaab\\n\\nc ');\n\t\tpieceTable.delete(29, 3);\n\t\tpieceTable.delete(23, 9);\n\t\tpieceTable.delete(21, 5);\n\t\tpieceTable.delete(30, 3);\n\t\tpieceTable.insert(3, 'cb\\nac\\nc\\n\\nacc\\nbb\\nb\\nc ');\n\t\tpieceTable.delete(19, 5);\n\t\tpieceTable.insert(18, '\\nbb\\n\\nacbc\\ncbb\\nc\\nbb\\n ');\n\t\tpieceTable.insert(65, 'cbccbac\\nbc\\n\\nccabba\\n ');\n\t\tpieceTable.insert(77, 'a\\ncacb\\n\\nac\\n\\n\\n\\n\\nabab ');\n\t\tpieceTable.delete(30, 9);\n\t\tpieceTable.insert(45, 'b\\n\\nc\\nba\\n\\nbbbba\\n\\naa\\n ');\n\t\tpieceTable.insert(82, 'ab\\nbb\\ncabacab\\ncbc\\na ');\n\t\tpieceTable.delete(123, 9);\n\t\tpieceTable.delete(71, 2);\n\t\tpieceTable.insert(33, 'acaa\\nacb\\n\\naa\\n\\nc\\n\\n\\n\\n ');\n\n\t\tconst str = pieceTable.getLinesRawContent();\n\t\ttestLineStarts(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('delete random bug rb tree 1', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer([str]);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, 'YXXZ\\n\\nYY\\n');\n\t\tstr = str.substring(0, 0) + 'YXXZ\\n\\nYY\\n' + str.substring(0);\n\t\tpieceTable.delete(0, 5);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 5);\n\t\tpieceTable.insert(0, 'ZXYY\\nX\\nZ\\n');\n\t\tstr = str.substring(0, 0) + 'ZXYY\\nX\\nZ\\n' + str.substring(0);\n\t\tpieceTable.insert(10, '\\nXY\\nYXYXY');\n\t\tstr = str.substring(0, 10) + '\\nXY\\nYXYXY' + str.substring(10);\n\t\ttestLineStarts(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('delete random bug rb tree 2', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer([str]);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, 'YXXZ\\n\\nYY\\n');\n\t\tstr = str.substring(0, 0) + 'YXXZ\\n\\nYY\\n' + str.substring(0);\n\t\tpieceTable.insert(0, 'ZXYY\\nX\\nZ\\n');\n\t\tstr = str.substring(0, 0) + 'ZXYY\\nX\\nZ\\n' + str.substring(0);\n\t\tpieceTable.insert(10, '\\nXY\\nYXYXY');\n\t\tstr = str.substring(0, 10) + '\\nXY\\nYXYXY' + str.substring(10);\n\t\tpieceTable.insert(8, 'YZXY\\nZ\\nYX');\n\t\tstr = str.substring(0, 8) + 'YZXY\\nZ\\nYX' + str.substring(8);\n\t\tpieceTable.insert(12, 'XX\\nXXYXYZ');\n\t\tstr = str.substring(0, 12) + 'XX\\nXXYXYZ' + str.substring(12);\n\t\tpieceTable.delete(0, 4);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 4);\n\n\t\ttestLineStarts(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('delete random bug rb tree 3', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer([str]);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, 'YXXZ\\n\\nYY\\n');\n\t\tstr = str.substring(0, 0) + 'YXXZ\\n\\nYY\\n' + str.substring(0);\n\t\tpieceTable.delete(7, 2);\n\t\tstr = str.substring(0, 7) + str.substring(7 + 2);\n\t\tpieceTable.delete(6, 1);\n\t\tstr = str.substring(0, 6) + str.substring(6 + 1);\n\t\tpieceTable.delete(0, 5);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 5);\n\t\tpieceTable.insert(0, 'ZXYY\\nX\\nZ\\n');\n\t\tstr = str.substring(0, 0) + 'ZXYY\\nX\\nZ\\n' + str.substring(0);\n\t\tpieceTable.insert(10, '\\nXY\\nYXYXY');\n\t\tstr = str.substring(0, 10) + '\\nXY\\nYXYXY' + str.substring(10);\n\t\tpieceTable.insert(8, 'YZXY\\nZ\\nYX');\n\t\tstr = str.substring(0, 8) + 'YZXY\\nZ\\nYX' + str.substring(8);\n\t\tpieceTable.insert(12, 'XX\\nXXYXYZ');\n\t\tstr = str.substring(0, 12) + 'XX\\nXXYXYZ' + str.substring(12);\n\t\tpieceTable.delete(0, 4);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 4);\n\t\tpieceTable.delete(30, 3);\n\t\tstr = str.substring(0, 30) + str.substring(30 + 3);\n\n\t\ttestLineStarts(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n});\n\nsuite('offset 2 position', () => {\n\tconst ds = ensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('random tests bug 1', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, 'huuyYzUfKOENwGgZLqn ');\n\t\tstr = str.substring(0, 0) + 'huuyYzUfKOENwGgZLqn ' + str.substring(0);\n\t\tpieceTable.delete(18, 2);\n\t\tstr = str.substring(0, 18) + str.substring(18 + 2);\n\t\tpieceTable.delete(3, 1);\n\t\tstr = str.substring(0, 3) + str.substring(3 + 1);\n\t\tpieceTable.delete(12, 4);\n\t\tstr = str.substring(0, 12) + str.substring(12 + 4);\n\t\tpieceTable.insert(3, 'hMbnVEdTSdhLlPevXKF ');\n\t\tstr = str.substring(0, 3) + 'hMbnVEdTSdhLlPevXKF ' + str.substring(3);\n\t\tpieceTable.delete(22, 8);\n\t\tstr = str.substring(0, 22) + str.substring(22 + 8);\n\t\tpieceTable.insert(4, 'S umSnYrqOmOAV\\nEbZJ ');\n\t\tstr = str.substring(0, 4) + 'S umSnYrqOmOAV\\nEbZJ ' + str.substring(4);\n\n\t\ttestLineStarts(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n});\n\nsuite('get text in range', () => {\n\tconst ds = ensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('getContentInRange', () => {\n\t\tconst pieceTree = createTextBuffer(['a\\nb\\nc\\nde']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(8, 'fh\\ni\\njk');\n\t\tpieceTable.delete(7, 2);\n\t\t// 'a\\nb\\nc\\ndh\\ni\\njk'\n\n\t\tassert.strictEqual(pieceTable.getValueInRange(new Range(1, 1, 1, 3)), 'a\\n');\n\t\tassert.strictEqual(pieceTable.getValueInRange(new Range(2, 1, 2, 3)), 'b\\n');\n\t\tassert.strictEqual(pieceTable.getValueInRange(new Range(3, 1, 3, 3)), 'c\\n');\n\t\tassert.strictEqual(pieceTable.getValueInRange(new Range(4, 1, 4, 4)), 'dh\\n');\n\t\tassert.strictEqual(pieceTable.getValueInRange(new Range(5, 1, 5, 3)), 'i\\n');\n\t\tassert.strictEqual(pieceTable.getValueInRange(new Range(6, 1, 6, 3)), 'jk');\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random test value in range', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer([str]);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(0, 'ZXXY');\n\t\tstr = str.substring(0, 0) + 'ZXXY' + str.substring(0);\n\t\tpieceTable.insert(1, 'XZZY');\n\t\tstr = str.substring(0, 1) + 'XZZY' + str.substring(1);\n\t\tpieceTable.insert(5, '\\nX\\n\\n');\n\t\tstr = str.substring(0, 5) + '\\nX\\n\\n' + str.substring(5);\n\t\tpieceTable.insert(3, '\\nXX\\n');\n\t\tstr = str.substring(0, 3) + '\\nXX\\n' + str.substring(3);\n\t\tpieceTable.insert(12, 'YYYX');\n\t\tstr = str.substring(0, 12) + 'YYYX' + str.substring(12);\n\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\ttest('random test value in range exception', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer([str]);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(0, 'XZ\\nZ');\n\t\tstr = str.substring(0, 0) + 'XZ\\nZ' + str.substring(0);\n\t\tpieceTable.delete(0, 3);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 3);\n\t\tpieceTable.delete(0, 1);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 1);\n\t\tpieceTable.insert(0, 'ZYX\\n');\n\t\tstr = str.substring(0, 0) + 'ZYX\\n' + str.substring(0);\n\t\tpieceTable.delete(0, 4);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 4);\n\n\t\tpieceTable.getValueInRange(new Range(1, 1, 1, 1));\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random tests bug 1', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, 'huuyYzUfKOENwGgZLqn ');\n\t\tstr = str.substring(0, 0) + 'huuyYzUfKOENwGgZLqn ' + str.substring(0);\n\t\tpieceTable.delete(18, 2);\n\t\tstr = str.substring(0, 18) + str.substring(18 + 2);\n\t\tpieceTable.delete(3, 1);\n\t\tstr = str.substring(0, 3) + str.substring(3 + 1);\n\t\tpieceTable.delete(12, 4);\n\t\tstr = str.substring(0, 12) + str.substring(12 + 4);\n\t\tpieceTable.insert(3, 'hMbnVEdTSdhLlPevXKF ');\n\t\tstr = str.substring(0, 3) + 'hMbnVEdTSdhLlPevXKF ' + str.substring(3);\n\t\tpieceTable.delete(22, 8);\n\t\tstr = str.substring(0, 22) + str.substring(22 + 8);\n\t\tpieceTable.insert(4, 'S umSnYrqOmOAV\\nEbZJ ');\n\t\tstr = str.substring(0, 4) + 'S umSnYrqOmOAV\\nEbZJ ' + str.substring(4);\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random tests bug 2', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, 'xfouRDZwdAHjVXJAMV\\n ');\n\t\tstr = str.substring(0, 0) + 'xfouRDZwdAHjVXJAMV\\n ' + str.substring(0);\n\t\tpieceTable.insert(16, 'dBGndxpFZBEAIKykYYx ');\n\t\tstr = str.substring(0, 16) + 'dBGndxpFZBEAIKykYYx ' + str.substring(16);\n\t\tpieceTable.delete(7, 6);\n\t\tstr = str.substring(0, 7) + str.substring(7 + 6);\n\t\tpieceTable.delete(9, 7);\n\t\tstr = str.substring(0, 9) + str.substring(9 + 7);\n\t\tpieceTable.delete(17, 6);\n\t\tstr = str.substring(0, 17) + str.substring(17 + 6);\n\t\tpieceTable.delete(0, 4);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 4);\n\t\tpieceTable.insert(9, 'qvEFXCNvVkWgvykahYt ');\n\t\tstr = str.substring(0, 9) + 'qvEFXCNvVkWgvykahYt ' + str.substring(9);\n\t\tpieceTable.delete(4, 6);\n\t\tstr = str.substring(0, 4) + str.substring(4 + 6);\n\t\tpieceTable.insert(11, 'OcSChUYT\\nzPEBOpsGmR ');\n\t\tstr =\n\t\t\tstr.substring(0, 11) + 'OcSChUYT\\nzPEBOpsGmR ' + str.substring(11);\n\t\tpieceTable.insert(15, 'KJCozaXTvkE\\nxnqAeTz ');\n\t\tstr =\n\t\t\tstr.substring(0, 15) + 'KJCozaXTvkE\\nxnqAeTz ' + str.substring(15);\n\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('get line content', () => {\n\t\tconst pieceTree = createTextBuffer(['1']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tassert.strictEqual(pieceTable.getLineRawContent(1), '1');\n\t\tpieceTable.insert(1, '2');\n\t\tassert.strictEqual(pieceTable.getLineRawContent(1), '12');\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('get line content basic', () => {\n\t\tconst pieceTree = createTextBuffer(['1\\n2\\n3\\n4']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tassert.strictEqual(pieceTable.getLineRawContent(1), '1\\n');\n\t\tassert.strictEqual(pieceTable.getLineRawContent(2), '2\\n');\n\t\tassert.strictEqual(pieceTable.getLineRawContent(3), '3\\n');\n\t\tassert.strictEqual(pieceTable.getLineRawContent(4), '4');\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('get line content after inserts/deletes', () => {\n\t\tconst pieceTree = createTextBuffer(['a\\nb\\nc\\nde']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(8, 'fh\\ni\\njk');\n\t\tpieceTable.delete(7, 2);\n\t\t// 'a\\nb\\nc\\ndh\\ni\\njk'\n\n\t\tassert.strictEqual(pieceTable.getLineRawContent(1), 'a\\n');\n\t\tassert.strictEqual(pieceTable.getLineRawContent(2), 'b\\n');\n\t\tassert.strictEqual(pieceTable.getLineRawContent(3), 'c\\n');\n\t\tassert.strictEqual(pieceTable.getLineRawContent(4), 'dh\\n');\n\t\tassert.strictEqual(pieceTable.getLineRawContent(5), 'i\\n');\n\t\tassert.strictEqual(pieceTable.getLineRawContent(6), 'jk');\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random 1', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(0, 'J eNnDzQpnlWyjmUu\\ny ');\n\t\tstr = str.substring(0, 0) + 'J eNnDzQpnlWyjmUu\\ny ' + str.substring(0);\n\t\tpieceTable.insert(0, 'QPEeRAQmRwlJqtZSWhQ ');\n\t\tstr = str.substring(0, 0) + 'QPEeRAQmRwlJqtZSWhQ ' + str.substring(0);\n\t\tpieceTable.delete(5, 1);\n\t\tstr = str.substring(0, 5) + str.substring(5 + 1);\n\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random 2', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, 'DZoQ tglPCRHMltejRI ');\n\t\tstr = str.substring(0, 0) + 'DZoQ tglPCRHMltejRI ' + str.substring(0);\n\t\tpieceTable.insert(10, 'JRXiyYqJ qqdcmbfkKX ');\n\t\tstr = str.substring(0, 10) + 'JRXiyYqJ qqdcmbfkKX ' + str.substring(10);\n\t\tpieceTable.delete(16, 3);\n\t\tstr = str.substring(0, 16) + str.substring(16 + 3);\n\t\tpieceTable.delete(25, 1);\n\t\tstr = str.substring(0, 25) + str.substring(25 + 1);\n\t\tpieceTable.insert(18, 'vH\\nNlvfqQJPm\\nSFkhMc ');\n\t\tstr =\n\t\t\tstr.substring(0, 18) + 'vH\\nNlvfqQJPm\\nSFkhMc ' + str.substring(18);\n\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n});\n\nsuite('CRLF', () => {\n\tconst ds = ensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('delete CR in CRLF 1', () => {\n\t\tconst pieceTree = createTextBuffer([''], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, 'a\\r\\nb');\n\t\tpieceTable.delete(0, 2);\n\n\t\tassert.strictEqual(pieceTable.getLineCount(), 2);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('delete CR in CRLF 2', () => {\n\t\tconst pieceTree = createTextBuffer([''], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, 'a\\r\\nb');\n\t\tpieceTable.delete(2, 2);\n\n\t\tassert.strictEqual(pieceTable.getLineCount(), 2);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random bug 1', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer([''], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, '\\n\\n\\r\\r');\n\t\tstr = str.substring(0, 0) + '\\n\\n\\r\\r' + str.substring(0);\n\t\tpieceTable.insert(1, '\\r\\n\\r\\n');\n\t\tstr = str.substring(0, 1) + '\\r\\n\\r\\n' + str.substring(1);\n\t\tpieceTable.delete(5, 3);\n\t\tstr = str.substring(0, 5) + str.substring(5 + 3);\n\t\tpieceTable.delete(2, 3);\n\t\tstr = str.substring(0, 2) + str.substring(2 + 3);\n\n\t\tconst lines = splitLines(str);\n\t\tassert.strictEqual(pieceTable.getLineCount(), lines.length);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\ttest('random bug 2', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer([''], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(0, '\\n\\r\\n\\r');\n\t\tstr = str.substring(0, 0) + '\\n\\r\\n\\r' + str.substring(0);\n\t\tpieceTable.insert(2, '\\n\\r\\r\\r');\n\t\tstr = str.substring(0, 2) + '\\n\\r\\r\\r' + str.substring(2);\n\t\tpieceTable.delete(4, 1);\n\t\tstr = str.substring(0, 4) + str.substring(4 + 1);\n\n\t\tconst lines = splitLines(str);\n\t\tassert.strictEqual(pieceTable.getLineCount(), lines.length);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\ttest('random bug 3', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer([''], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(0, '\\n\\n\\n\\r');\n\t\tstr = str.substring(0, 0) + '\\n\\n\\n\\r' + str.substring(0);\n\t\tpieceTable.delete(2, 2);\n\t\tstr = str.substring(0, 2) + str.substring(2 + 2);\n\t\tpieceTable.delete(0, 2);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 2);\n\t\tpieceTable.insert(0, '\\r\\r\\r\\r');\n\t\tstr = str.substring(0, 0) + '\\r\\r\\r\\r' + str.substring(0);\n\t\tpieceTable.insert(2, '\\r\\n\\r\\r');\n\t\tstr = str.substring(0, 2) + '\\r\\n\\r\\r' + str.substring(2);\n\t\tpieceTable.insert(3, '\\r\\r\\r\\n');\n\t\tstr = str.substring(0, 3) + '\\r\\r\\r\\n' + str.substring(3);\n\n\t\tconst lines = splitLines(str);\n\t\tassert.strictEqual(pieceTable.getLineCount(), lines.length);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\ttest('random bug 4', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer([''], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(0, '\\n\\n\\n\\n');\n\t\tstr = str.substring(0, 0) + '\\n\\n\\n\\n' + str.substring(0);\n\t\tpieceTable.delete(3, 1);\n\t\tstr = str.substring(0, 3) + str.substring(3 + 1);\n\t\tpieceTable.insert(1, '\\r\\r\\r\\r');\n\t\tstr = str.substring(0, 1) + '\\r\\r\\r\\r' + str.substring(1);\n\t\tpieceTable.insert(6, '\\r\\n\\n\\r');\n\t\tstr = str.substring(0, 6) + '\\r\\n\\n\\r' + str.substring(6);\n\t\tpieceTable.delete(5, 3);\n\t\tstr = str.substring(0, 5) + str.substring(5 + 3);\n\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\ttest('random bug 5', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer([''], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(0, '\\n\\n\\n\\n');\n\t\tstr = str.substring(0, 0) + '\\n\\n\\n\\n' + str.substring(0);\n\t\tpieceTable.delete(3, 1);\n\t\tstr = str.substring(0, 3) + str.substring(3 + 1);\n\t\tpieceTable.insert(0, '\\n\\r\\r\\n');\n\t\tstr = str.substring(0, 0) + '\\n\\r\\r\\n' + str.substring(0);\n\t\tpieceTable.insert(4, '\\n\\r\\r\\n');\n\t\tstr = str.substring(0, 4) + '\\n\\r\\r\\n' + str.substring(4);\n\t\tpieceTable.delete(4, 3);\n\t\tstr = str.substring(0, 4) + str.substring(4 + 3);\n\t\tpieceTable.insert(5, '\\r\\r\\n\\r');\n\t\tstr = str.substring(0, 5) + '\\r\\r\\n\\r' + str.substring(5);\n\t\tpieceTable.insert(12, '\\n\\n\\n\\r');\n\t\tstr = str.substring(0, 12) + '\\n\\n\\n\\r' + str.substring(12);\n\t\tpieceTable.insert(5, '\\r\\r\\r\\n');\n\t\tstr = str.substring(0, 5) + '\\r\\r\\r\\n' + str.substring(5);\n\t\tpieceTable.insert(20, '\\n\\n\\r\\n');\n\t\tstr = str.substring(0, 20) + '\\n\\n\\r\\n' + str.substring(20);\n\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\ttest('random bug 6', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer([''], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(0, '\\n\\r\\r\\n');\n\t\tstr = str.substring(0, 0) + '\\n\\r\\r\\n' + str.substring(0);\n\t\tpieceTable.insert(4, '\\r\\n\\n\\r');\n\t\tstr = str.substring(0, 4) + '\\r\\n\\n\\r' + str.substring(4);\n\t\tpieceTable.insert(3, '\\r\\n\\n\\n');\n\t\tstr = str.substring(0, 3) + '\\r\\n\\n\\n' + str.substring(3);\n\t\tpieceTable.delete(4, 8);\n\t\tstr = str.substring(0, 4) + str.substring(4 + 8);\n\t\tpieceTable.insert(4, '\\r\\n\\n\\r');\n\t\tstr = str.substring(0, 4) + '\\r\\n\\n\\r' + str.substring(4);\n\t\tpieceTable.insert(0, '\\r\\n\\n\\r');\n\t\tstr = str.substring(0, 0) + '\\r\\n\\n\\r' + str.substring(0);\n\t\tpieceTable.delete(4, 0);\n\t\tstr = str.substring(0, 4) + str.substring(4 + 0);\n\t\tpieceTable.delete(8, 4);\n\t\tstr = str.substring(0, 8) + str.substring(8 + 4);\n\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\ttest('random bug 8', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer([''], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(0, '\\r\\n\\n\\r');\n\t\tstr = str.substring(0, 0) + '\\r\\n\\n\\r' + str.substring(0);\n\t\tpieceTable.delete(1, 0);\n\t\tstr = str.substring(0, 1) + str.substring(1 + 0);\n\t\tpieceTable.insert(3, '\\n\\n\\n\\r');\n\t\tstr = str.substring(0, 3) + '\\n\\n\\n\\r' + str.substring(3);\n\t\tpieceTable.insert(7, '\\n\\n\\r\\n');\n\t\tstr = str.substring(0, 7) + '\\n\\n\\r\\n' + str.substring(7);\n\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\ttest('random bug 7', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer([''], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(0, '\\r\\r\\n\\n');\n\t\tstr = str.substring(0, 0) + '\\r\\r\\n\\n' + str.substring(0);\n\t\tpieceTable.insert(4, '\\r\\n\\n\\r');\n\t\tstr = str.substring(0, 4) + '\\r\\n\\n\\r' + str.substring(4);\n\t\tpieceTable.insert(7, '\\n\\r\\r\\r');\n\t\tstr = str.substring(0, 7) + '\\n\\r\\r\\r' + str.substring(7);\n\t\tpieceTable.insert(11, '\\n\\n\\r\\n');\n\t\tstr = str.substring(0, 11) + '\\n\\n\\r\\n' + str.substring(11);\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random bug 10', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer([''], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(0, 'qneW');\n\t\tstr = str.substring(0, 0) + 'qneW' + str.substring(0);\n\t\tpieceTable.insert(0, 'YhIl');\n\t\tstr = str.substring(0, 0) + 'YhIl' + str.substring(0);\n\t\tpieceTable.insert(0, 'qdsm');\n\t\tstr = str.substring(0, 0) + 'qdsm' + str.substring(0);\n\t\tpieceTable.delete(7, 0);\n\t\tstr = str.substring(0, 7) + str.substring(7 + 0);\n\t\tpieceTable.insert(12, 'iiPv');\n\t\tstr = str.substring(0, 12) + 'iiPv' + str.substring(12);\n\t\tpieceTable.insert(9, 'V\\rSA');\n\t\tstr = str.substring(0, 9) + 'V\\rSA' + str.substring(9);\n\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random bug 9', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer([''], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(0, '\\n\\n\\n\\n');\n\t\tstr = str.substring(0, 0) + '\\n\\n\\n\\n' + str.substring(0);\n\t\tpieceTable.insert(3, '\\n\\r\\n\\r');\n\t\tstr = str.substring(0, 3) + '\\n\\r\\n\\r' + str.substring(3);\n\t\tpieceTable.insert(2, '\\n\\r\\n\\n');\n\t\tstr = str.substring(0, 2) + '\\n\\r\\n\\n' + str.substring(2);\n\t\tpieceTable.insert(0, '\\n\\n\\r\\r');\n\t\tstr = str.substring(0, 0) + '\\n\\n\\r\\r' + str.substring(0);\n\t\tpieceTable.insert(3, '\\r\\r\\r\\r');\n\t\tstr = str.substring(0, 3) + '\\r\\r\\r\\r' + str.substring(3);\n\t\tpieceTable.insert(3, '\\n\\n\\r\\r');\n\t\tstr = str.substring(0, 3) + '\\n\\n\\r\\r' + str.substring(3);\n\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n});\n\nsuite('centralized lineStarts with CRLF', () => {\n\tconst ds = ensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('delete CR in CRLF 1', () => {\n\t\tconst pieceTree = createTextBuffer(['a\\r\\nb'], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.delete(2, 2);\n\t\tassert.strictEqual(pieceTable.getLineCount(), 2);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\ttest('delete CR in CRLF 2', () => {\n\t\tconst pieceTree = createTextBuffer(['a\\r\\nb']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.delete(0, 2);\n\n\t\tassert.strictEqual(pieceTable.getLineCount(), 2);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random bug 1', () => {\n\t\tlet str = '\\n\\n\\r\\r';\n\t\tconst pieceTree = createTextBuffer(['\\n\\n\\r\\r'], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(1, '\\r\\n\\r\\n');\n\t\tstr = str.substring(0, 1) + '\\r\\n\\r\\n' + str.substring(1);\n\t\tpieceTable.delete(5, 3);\n\t\tstr = str.substring(0, 5) + str.substring(5 + 3);\n\t\tpieceTable.delete(2, 3);\n\t\tstr = str.substring(0, 2) + str.substring(2 + 3);\n\n\t\tconst lines = splitLines(str);\n\t\tassert.strictEqual(pieceTable.getLineCount(), lines.length);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\ttest('random bug 2', () => {\n\t\tlet str = '\\n\\r\\n\\r';\n\t\tconst pieceTree = createTextBuffer(['\\n\\r\\n\\r'], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(2, '\\n\\r\\r\\r');\n\t\tstr = str.substring(0, 2) + '\\n\\r\\r\\r' + str.substring(2);\n\t\tpieceTable.delete(4, 1);\n\t\tstr = str.substring(0, 4) + str.substring(4 + 1);\n\n\t\tconst lines = splitLines(str);\n\t\tassert.strictEqual(pieceTable.getLineCount(), lines.length);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random bug 3', () => {\n\t\tlet str = '\\n\\n\\n\\r';\n\t\tconst pieceTree = createTextBuffer(['\\n\\n\\n\\r'], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.delete(2, 2);\n\t\tstr = str.substring(0, 2) + str.substring(2 + 2);\n\t\tpieceTable.delete(0, 2);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 2);\n\t\tpieceTable.insert(0, '\\r\\r\\r\\r');\n\t\tstr = str.substring(0, 0) + '\\r\\r\\r\\r' + str.substring(0);\n\t\tpieceTable.insert(2, '\\r\\n\\r\\r');\n\t\tstr = str.substring(0, 2) + '\\r\\n\\r\\r' + str.substring(2);\n\t\tpieceTable.insert(3, '\\r\\r\\r\\n');\n\t\tstr = str.substring(0, 3) + '\\r\\r\\r\\n' + str.substring(3);\n\n\t\tconst lines = splitLines(str);\n\t\tassert.strictEqual(pieceTable.getLineCount(), lines.length);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random bug 4', () => {\n\t\tlet str = '\\n\\n\\n\\n';\n\t\tconst pieceTree = createTextBuffer(['\\n\\n\\n\\n'], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.delete(3, 1);\n\t\tstr = str.substring(0, 3) + str.substring(3 + 1);\n\t\tpieceTable.insert(1, '\\r\\r\\r\\r');\n\t\tstr = str.substring(0, 1) + '\\r\\r\\r\\r' + str.substring(1);\n\t\tpieceTable.insert(6, '\\r\\n\\n\\r');\n\t\tstr = str.substring(0, 6) + '\\r\\n\\n\\r' + str.substring(6);\n\t\tpieceTable.delete(5, 3);\n\t\tstr = str.substring(0, 5) + str.substring(5 + 3);\n\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random bug 5', () => {\n\t\tlet str = '\\n\\n\\n\\n';\n\t\tconst pieceTree = createTextBuffer(['\\n\\n\\n\\n'], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.delete(3, 1);\n\t\tstr = str.substring(0, 3) + str.substring(3 + 1);\n\t\tpieceTable.insert(0, '\\n\\r\\r\\n');\n\t\tstr = str.substring(0, 0) + '\\n\\r\\r\\n' + str.substring(0);\n\t\tpieceTable.insert(4, '\\n\\r\\r\\n');\n\t\tstr = str.substring(0, 4) + '\\n\\r\\r\\n' + str.substring(4);\n\t\tpieceTable.delete(4, 3);\n\t\tstr = str.substring(0, 4) + str.substring(4 + 3);\n\t\tpieceTable.insert(5, '\\r\\r\\n\\r');\n\t\tstr = str.substring(0, 5) + '\\r\\r\\n\\r' + str.substring(5);\n\t\tpieceTable.insert(12, '\\n\\n\\n\\r');\n\t\tstr = str.substring(0, 12) + '\\n\\n\\n\\r' + str.substring(12);\n\t\tpieceTable.insert(5, '\\r\\r\\r\\n');\n\t\tstr = str.substring(0, 5) + '\\r\\r\\r\\n' + str.substring(5);\n\t\tpieceTable.insert(20, '\\n\\n\\r\\n');\n\t\tstr = str.substring(0, 20) + '\\n\\n\\r\\n' + str.substring(20);\n\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random bug 6', () => {\n\t\tlet str = '\\n\\r\\r\\n';\n\t\tconst pieceTree = createTextBuffer(['\\n\\r\\r\\n'], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(4, '\\r\\n\\n\\r');\n\t\tstr = str.substring(0, 4) + '\\r\\n\\n\\r' + str.substring(4);\n\t\tpieceTable.insert(3, '\\r\\n\\n\\n');\n\t\tstr = str.substring(0, 3) + '\\r\\n\\n\\n' + str.substring(3);\n\t\tpieceTable.delete(4, 8);\n\t\tstr = str.substring(0, 4) + str.substring(4 + 8);\n\t\tpieceTable.insert(4, '\\r\\n\\n\\r');\n\t\tstr = str.substring(0, 4) + '\\r\\n\\n\\r' + str.substring(4);\n\t\tpieceTable.insert(0, '\\r\\n\\n\\r');\n\t\tstr = str.substring(0, 0) + '\\r\\n\\n\\r' + str.substring(0);\n\t\tpieceTable.delete(4, 0);\n\t\tstr = str.substring(0, 4) + str.substring(4 + 0);\n\t\tpieceTable.delete(8, 4);\n\t\tstr = str.substring(0, 8) + str.substring(8 + 4);\n\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random bug 7', () => {\n\t\tlet str = '\\r\\n\\n\\r';\n\t\tconst pieceTree = createTextBuffer(['\\r\\n\\n\\r'], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.delete(1, 0);\n\t\tstr = str.substring(0, 1) + str.substring(1 + 0);\n\t\tpieceTable.insert(3, '\\n\\n\\n\\r');\n\t\tstr = str.substring(0, 3) + '\\n\\n\\n\\r' + str.substring(3);\n\t\tpieceTable.insert(7, '\\n\\n\\r\\n');\n\t\tstr = str.substring(0, 7) + '\\n\\n\\r\\n' + str.substring(7);\n\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random bug 8', () => {\n\t\tlet str = '\\r\\r\\n\\n';\n\t\tconst pieceTree = createTextBuffer(['\\r\\r\\n\\n'], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(4, '\\r\\n\\n\\r');\n\t\tstr = str.substring(0, 4) + '\\r\\n\\n\\r' + str.substring(4);\n\t\tpieceTable.insert(7, '\\n\\r\\r\\r');\n\t\tstr = str.substring(0, 7) + '\\n\\r\\r\\r' + str.substring(7);\n\t\tpieceTable.insert(11, '\\n\\n\\r\\n');\n\t\tstr = str.substring(0, 11) + '\\n\\n\\r\\n' + str.substring(11);\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random bug 9', () => {\n\t\tlet str = 'qneW';\n\t\tconst pieceTree = createTextBuffer(['qneW'], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(0, 'YhIl');\n\t\tstr = str.substring(0, 0) + 'YhIl' + str.substring(0);\n\t\tpieceTable.insert(0, 'qdsm');\n\t\tstr = str.substring(0, 0) + 'qdsm' + str.substring(0);\n\t\tpieceTable.delete(7, 0);\n\t\tstr = str.substring(0, 7) + str.substring(7 + 0);\n\t\tpieceTable.insert(12, 'iiPv');\n\t\tstr = str.substring(0, 12) + 'iiPv' + str.substring(12);\n\t\tpieceTable.insert(9, 'V\\rSA');\n\t\tstr = str.substring(0, 9) + 'V\\rSA' + str.substring(9);\n\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random bug 10', () => {\n\t\tlet str = '\\n\\n\\n\\n';\n\t\tconst pieceTree = createTextBuffer(['\\n\\n\\n\\n'], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(3, '\\n\\r\\n\\r');\n\t\tstr = str.substring(0, 3) + '\\n\\r\\n\\r' + str.substring(3);\n\t\tpieceTable.insert(2, '\\n\\r\\n\\n');\n\t\tstr = str.substring(0, 2) + '\\n\\r\\n\\n' + str.substring(2);\n\t\tpieceTable.insert(0, '\\n\\n\\r\\r');\n\t\tstr = str.substring(0, 0) + '\\n\\n\\r\\r' + str.substring(0);\n\t\tpieceTable.insert(3, '\\r\\r\\r\\r');\n\t\tstr = str.substring(0, 3) + '\\r\\r\\r\\r' + str.substring(3);\n\t\tpieceTable.insert(3, '\\n\\n\\r\\r');\n\t\tstr = str.substring(0, 3) + '\\n\\n\\r\\r' + str.substring(3);\n\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random chunk bug 1', () => {\n\t\tconst pieceTree = createTextBuffer(['\\n\\r\\r\\n\\n\\n\\r\\n\\r'], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tlet str = '\\n\\r\\r\\n\\n\\n\\r\\n\\r';\n\t\tpieceTable.delete(0, 2);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 2);\n\t\tpieceTable.insert(1, '\\r\\r\\n\\n');\n\t\tstr = str.substring(0, 1) + '\\r\\r\\n\\n' + str.substring(1);\n\t\tpieceTable.insert(7, '\\r\\r\\r\\r');\n\t\tstr = str.substring(0, 7) + '\\r\\r\\r\\r' + str.substring(7);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\ttestLineStarts(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random chunk bug 2', () => {\n\t\tconst pieceTree = createTextBuffer([\n\t\t\t'\\n\\r\\n\\n\\n\\r\\n\\r\\n\\r\\r\\n\\n\\n\\r\\r\\n\\r\\n'\n\t\t], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tlet str = '\\n\\r\\n\\n\\n\\r\\n\\r\\n\\r\\r\\n\\n\\n\\r\\r\\n\\r\\n';\n\t\tpieceTable.insert(16, '\\r\\n\\r\\r');\n\t\tstr = str.substring(0, 16) + '\\r\\n\\r\\r' + str.substring(16);\n\t\tpieceTable.insert(13, '\\n\\n\\r\\r');\n\t\tstr = str.substring(0, 13) + '\\n\\n\\r\\r' + str.substring(13);\n\t\tpieceTable.insert(19, '\\n\\n\\r\\n');\n\t\tstr = str.substring(0, 19) + '\\n\\n\\r\\n' + str.substring(19);\n\t\tpieceTable.delete(5, 0);\n\t\tstr = str.substring(0, 5) + str.substring(5 + 0);\n\t\tpieceTable.delete(11, 2);\n\t\tstr = str.substring(0, 11) + str.substring(11 + 2);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\ttestLineStarts(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random chunk bug 3', () => {\n\t\tconst pieceTree = createTextBuffer(['\\r\\n\\n\\n\\n\\n\\n\\r\\n'], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tlet str = '\\r\\n\\n\\n\\n\\n\\n\\r\\n';\n\t\tpieceTable.insert(4, '\\n\\n\\r\\n\\r\\r\\n\\n\\r');\n\t\tstr = str.substring(0, 4) + '\\n\\n\\r\\n\\r\\r\\n\\n\\r' + str.substring(4);\n\t\tpieceTable.delete(4, 4);\n\t\tstr = str.substring(0, 4) + str.substring(4 + 4);\n\t\tpieceTable.insert(11, '\\r\\n\\r\\n\\n\\r\\r\\n\\n');\n\t\tstr = str.substring(0, 11) + '\\r\\n\\r\\n\\n\\r\\r\\n\\n' + str.substring(11);\n\t\tpieceTable.delete(1, 2);\n\t\tstr = str.substring(0, 1) + str.substring(1 + 2);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\ttestLineStarts(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random chunk bug 4', () => {\n\t\tconst pieceTree = createTextBuffer(['\\n\\r\\n\\r'], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tlet str = '\\n\\r\\n\\r';\n\t\tpieceTable.insert(4, '\\n\\n\\r\\n');\n\t\tstr = str.substring(0, 4) + '\\n\\n\\r\\n' + str.substring(4);\n\t\tpieceTable.insert(3, '\\r\\n\\n\\n');\n\t\tstr = str.substring(0, 3) + '\\r\\n\\n\\n' + str.substring(3);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\ttestLineStarts(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n});\n\nsuite('random is unsupervised', () => {\n\tconst ds = ensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('splitting large change buffer', function () {\n\t\tconst pieceTree = createTextBuffer([''], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tlet str = '';\n\n\t\tpieceTable.insert(0, 'WUZ\\nXVZY\\n');\n\t\tstr = str.substring(0, 0) + 'WUZ\\nXVZY\\n' + str.substring(0);\n\t\tpieceTable.insert(8, '\\r\\r\\nZXUWVW');\n\t\tstr = str.substring(0, 8) + '\\r\\r\\nZXUWVW' + str.substring(8);\n\t\tpieceTable.delete(10, 7);\n\t\tstr = str.substring(0, 10) + str.substring(10 + 7);\n\t\tpieceTable.delete(10, 1);\n\t\tstr = str.substring(0, 10) + str.substring(10 + 1);\n\t\tpieceTable.insert(4, 'VX\\r\\r\\nWZVZ');\n\t\tstr = str.substring(0, 4) + 'VX\\r\\r\\nWZVZ' + str.substring(4);\n\t\tpieceTable.delete(11, 3);\n\t\tstr = str.substring(0, 11) + str.substring(11 + 3);\n\t\tpieceTable.delete(12, 4);\n\t\tstr = str.substring(0, 12) + str.substring(12 + 4);\n\t\tpieceTable.delete(8, 0);\n\t\tstr = str.substring(0, 8) + str.substring(8 + 0);\n\t\tpieceTable.delete(10, 2);\n\t\tstr = str.substring(0, 10) + str.substring(10 + 2);\n\t\tpieceTable.insert(0, 'VZXXZYZX\\r');\n\t\tstr = str.substring(0, 0) + 'VZXXZYZX\\r' + str.substring(0);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\n\t\ttestLineStarts(str, pieceTable);\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random insert delete', function () {\n\t\tthis.timeout(500000);\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer([str], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\t// let output = '';\n\t\tfor (let i = 0; i < 1000; i++) {\n\t\t\tif (Math.random() < 0.6) {\n\t\t\t\t// insert\n\t\t\t\tconst text = randomStr(100);\n\t\t\t\tconst pos = randomInt(str.length + 1);\n\t\t\t\tpieceTable.insert(pos, text);\n\t\t\t\tstr = str.substring(0, pos) + text + str.substring(pos);\n\t\t\t\t// output += `pieceTable.insert(${pos}, '${text.replace(/\\n/g, '\\\\n').replace(/\\r/g, '\\\\r')}');\\n`;\n\t\t\t\t// output += `str = str.substring(0, ${pos}) + '${text.replace(/\\n/g, '\\\\n').replace(/\\r/g, '\\\\r')}' + str.substring(${pos});\\n`;\n\t\t\t} else {\n\t\t\t\t// delete\n\t\t\t\tconst pos = randomInt(str.length);\n\t\t\t\tconst length = Math.min(\n\t\t\t\t\tstr.length - pos,\n\t\t\t\t\tMath.floor(Math.random() * 10)\n\t\t\t\t);\n\t\t\t\tpieceTable.delete(pos, length);\n\t\t\t\tstr = str.substring(0, pos) + str.substring(pos + length);\n\t\t\t\t// output += `pieceTable.delete(${pos}, ${length});\\n`;\n\t\t\t\t// output += `str = str.substring(0, ${pos}) + str.substring(${pos} + ${length});\\n`\n\n\t\t\t}\n\t\t}\n\t\t// console.log(output);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\n\t\ttestLineStarts(str, pieceTable);\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random chunks', function () {\n\t\tthis.timeout(500000);\n\t\tconst chunks: string[] = [];\n\t\tfor (let i = 0; i < 5; i++) {\n\t\t\tchunks.push(randomStr(1000));\n\t\t}\n\n\t\tconst pieceTree = createTextBuffer(chunks, false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tlet str = chunks.join('');\n\n\t\tfor (let i = 0; i < 1000; i++) {\n\t\t\tif (Math.random() < 0.6) {\n\t\t\t\t// insert\n\t\t\t\tconst text = randomStr(100);\n\t\t\t\tconst pos = randomInt(str.length + 1);\n\t\t\t\tpieceTable.insert(pos, text);\n\t\t\t\tstr = str.substring(0, pos) + text + str.substring(pos);\n\t\t\t} else {\n\t\t\t\t// delete\n\t\t\t\tconst pos = randomInt(str.length);\n\t\t\t\tconst length = Math.min(\n\t\t\t\t\tstr.length - pos,\n\t\t\t\t\tMath.floor(Math.random() * 10)\n\t\t\t\t);\n\t\t\t\tpieceTable.delete(pos, length);\n\t\t\t\tstr = str.substring(0, pos) + str.substring(pos + length);\n\t\t\t}\n\t\t}\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\ttestLineStarts(str, pieceTable);\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random chunks 2', function () {\n\t\tthis.timeout(500000);\n\t\tconst chunks: string[] = [];\n\t\tchunks.push(randomStr(1000));\n\n\t\tconst pieceTree = createTextBuffer(chunks, false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tlet str = chunks.join('');\n\n\t\tfor (let i = 0; i < 50; i++) {\n\t\t\tif (Math.random() < 0.6) {\n\t\t\t\t// insert\n\t\t\t\tconst text = randomStr(30);\n\t\t\t\tconst pos = randomInt(str.length + 1);\n\t\t\t\tpieceTable.insert(pos, text);\n\t\t\t\tstr = str.substring(0, pos) + text + str.substring(pos);\n\t\t\t} else {\n\t\t\t\t// delete\n\t\t\t\tconst pos = randomInt(str.length);\n\t\t\t\tconst length = Math.min(\n\t\t\t\t\tstr.length - pos,\n\t\t\t\t\tMath.floor(Math.random() * 10)\n\t\t\t\t);\n\t\t\t\tpieceTable.delete(pos, length);\n\t\t\t\tstr = str.substring(0, pos) + str.substring(pos + length);\n\t\t\t}\n\t\t\ttestLinesContent(str, pieceTable);\n\t\t}\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\ttestLineStarts(str, pieceTable);\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n});\n\nsuite('buffer api', () => {\n\tconst ds = ensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('equal', () => {\n\t\tconst a = createTextBuffer(['abc']);\n\t\tconst b = createTextBuffer(['ab', 'c']);\n\t\tconst c = createTextBuffer(['abd']);\n\t\tconst d = createTextBuffer(['abcd']);\n\t\tds.add(a);\n\t\tds.add(b);\n\t\tds.add(c);\n\t\tds.add(d);\n\n\t\tassert(a.getPieceTree().equal(b.getPieceTree()));\n\t\tassert(!a.getPieceTree().equal(c.getPieceTree()));\n\t\tassert(!a.getPieceTree().equal(d.getPieceTree()));\n\t});\n\n\ttest('equal with more chunks', () => {\n\t\tconst a = createTextBuffer(['ab', 'cd', 'e']);\n\t\tconst b = createTextBuffer(['ab', 'c', 'de']);\n\t\tds.add(a);\n\t\tds.add(b);\n\t\tassert(a.getPieceTree().equal(b.getPieceTree()));\n\t});\n\n\ttest('equal 2, empty buffer', () => {\n\t\tconst a = createTextBuffer(['']);\n\t\tconst b = createTextBuffer(['']);\n\t\tds.add(a);\n\t\tds.add(b);\n\n\t\tassert(a.getPieceTree().equal(b.getPieceTree()));\n\t});\n\n\ttest('equal 3, empty buffer', () => {\n\t\tconst a = createTextBuffer(['a']);\n\t\tconst b = createTextBuffer(['']);\n\t\tds.add(a);\n\t\tds.add(b);\n\n\t\tassert(!a.getPieceTree().equal(b.getPieceTree()));\n\t});\n\n\ttest('getLineCharCode - issue #45735', () => {\n\t\tconst pieceTree = createTextBuffer(['LINE1\\nline2']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tassert.strictEqual(pieceTable.getLineCharCode(1, 0), 'L'.charCodeAt(0), 'L');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(1, 1), 'I'.charCodeAt(0), 'I');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(1, 2), 'N'.charCodeAt(0), 'N');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(1, 3), 'E'.charCodeAt(0), 'E');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(1, 4), '1'.charCodeAt(0), '1');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(1, 5), '\\n'.charCodeAt(0), '\\\\n');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(2, 0), 'l'.charCodeAt(0), 'l');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(2, 1), 'i'.charCodeAt(0), 'i');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(2, 2), 'n'.charCodeAt(0), 'n');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(2, 3), 'e'.charCodeAt(0), 'e');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(2, 4), '2'.charCodeAt(0), '2');\n\t});\n\n\n\ttest('getLineCharCode - issue #47733', () => {\n\t\tconst pieceTree = createTextBuffer(['', 'LINE1\\n', 'line2']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tassert.strictEqual(pieceTable.getLineCharCode(1, 0), 'L'.charCodeAt(0), 'L');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(1, 1), 'I'.charCodeAt(0), 'I');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(1, 2), 'N'.charCodeAt(0), 'N');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(1, 3), 'E'.charCodeAt(0), 'E');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(1, 4), '1'.charCodeAt(0), '1');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(1, 5), '\\n'.charCodeAt(0), '\\\\n');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(2, 0), 'l'.charCodeAt(0), 'l');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(2, 1), 'i'.charCodeAt(0), 'i');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(2, 2), 'n'.charCodeAt(0), 'n');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(2, 3), 'e'.charCodeAt(0), 'e');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(2, 4), '2'.charCodeAt(0), '2');\n\t});\n\n\ttest('getNearestChunk', () => {\n\t\tconst pieceTree = createTextBuffer(['012345678']);\n\t\tds.add(pieceTree);\n\t\tconst pt = pieceTree.getPieceTree();\n\n\t\tpt.insert(3, 'ABC');\n\t\tassert.equal(pt.getLineContent(1), '012ABC345678');\n\t\tassert.equal(pt.getNearestChunk(3), 'ABC');\n\t\tassert.equal(pt.getNearestChunk(6), '345678');\n\n\t\tpt.delete(9, 1);\n\t\tassert.equal(pt.getLineContent(1), '012ABC34578');\n\t\tassert.equal(pt.getNearestChunk(6), '345');\n\t\tassert.equal(pt.getNearestChunk(9), '78');\n\t});\n});\n\nsuite('search offset cache', () => {\n\tconst ds = ensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('render white space exception', () => {\n\t\tconst pieceTree = createTextBuffer(['class Name{\\n\\t\\n\\t\\t\\tget() {\\n\\n\\t\\t\\t}\\n\\t\\t}']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tlet str = 'class Name{\\n\\t\\n\\t\\t\\tget() {\\n\\n\\t\\t\\t}\\n\\t\\t}';\n\n\t\tpieceTable.insert(12, 's');\n\t\tstr = str.substring(0, 12) + 's' + str.substring(12);\n\n\t\tpieceTable.insert(13, 'e');\n\t\tstr = str.substring(0, 13) + 'e' + str.substring(13);\n\n\t\tpieceTable.insert(14, 't');\n\t\tstr = str.substring(0, 14) + 't' + str.substring(14);\n\n\t\tpieceTable.insert(15, '()');\n\t\tstr = str.substring(0, 15) + '()' + str.substring(15);\n\n\t\tpieceTable.delete(16, 1);\n\t\tstr = str.substring(0, 16) + str.substring(16 + 1);\n\n\t\tpieceTable.insert(17, '()');\n\t\tstr = str.substring(0, 17) + '()' + str.substring(17);\n\n\t\tpieceTable.delete(18, 1);\n\t\tstr = str.substring(0, 18) + str.substring(18 + 1);\n\n\t\tpieceTable.insert(18, '}');\n\t\tstr = str.substring(0, 18) + '}' + str.substring(18);\n\n\t\tpieceTable.insert(12, '\\n');\n\t\tstr = str.substring(0, 12) + '\\n' + str.substring(12);\n\n\t\tpieceTable.delete(12, 1);\n\t\tstr = str.substring(0, 12) + str.substring(12 + 1);\n\n\t\tpieceTable.delete(18, 1);\n\t\tstr = str.substring(0, 18) + str.substring(18 + 1);\n\n\t\tpieceTable.insert(18, '}');\n\t\tstr = str.substring(0, 18) + '}' + str.substring(18);\n\n\t\tpieceTable.delete(17, 2);\n\t\tstr = str.substring(0, 17) + str.substring(17 + 2);\n\n\t\tpieceTable.delete(16, 1);\n\t\tstr = str.substring(0, 16) + str.substring(16 + 1);\n\n\t\tpieceTable.insert(16, ')');\n\t\tstr = str.substring(0, 16) + ')' + str.substring(16);\n\n\t\tpieceTable.delete(15, 2);\n\t\tstr = str.substring(0, 15) + str.substring(15 + 2);\n\n\t\tconst content = pieceTable.getLinesRawContent();\n\t\tassert(content === str);\n\t});\n\n\ttest('Line breaks replacement is not necessary when EOL is normalized', () => {\n\t\tconst pieceTree = createTextBuffer(['abc']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tlet str = 'abc';\n\n\t\tpieceTable.insert(3, 'def\\nabc');\n\t\tstr = str + 'def\\nabc';\n\n\t\ttestLineStarts(str, pieceTable);\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('Line breaks replacement is not necessary when EOL is normalized 2', () => {\n\t\tconst pieceTree = createTextBuffer(['abc\\n']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tlet str = 'abc\\n';\n\n\t\tpieceTable.insert(4, 'def\\nabc');\n\t\tstr = str + 'def\\nabc';\n\n\t\ttestLineStarts(str, pieceTable);\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('Line breaks replacement is not necessary when EOL is normalized 3', () => {\n\t\tconst pieceTree = createTextBuffer(['abc\\n']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tlet str = 'abc\\n';\n\n\t\tpieceTable.insert(2, 'def\\nabc');\n\t\tstr = str.substring(0, 2) + 'def\\nabc' + str.substring(2);\n\n\t\ttestLineStarts(str, pieceTable);\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('Line breaks replacement is not necessary when EOL is normalized 4', () => {\n\t\tconst pieceTree = createTextBuffer(['abc\\n']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tlet str = 'abc\\n';\n\n\t\tpieceTable.insert(3, 'def\\nabc');\n\t\tstr = str.substring(0, 3) + 'def\\nabc' + str.substring(3);\n\n\t\ttestLineStarts(str, pieceTable);\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n});\n\nfunction getValueInSnapshot(snapshot: ITextSnapshot) {\n\tlet ret = '';\n\tlet tmp = snapshot.read();\n\n\twhile (tmp !== null) {\n\t\tret += tmp;\n\t\ttmp = snapshot.read();\n\t}\n\n\treturn ret;\n}\nsuite('snapshot', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('bug #45564, piece tree pieces should be immutable', () => {\n\t\tconst model = createTextModel('\\n');\n\t\tmodel.applyEdits([\n\t\t\t{\n\t\t\t\trange: new Range(2, 1, 2, 1),\n\t\t\t\ttext: '!'\n\t\t\t}\n\t\t]);\n\t\tconst snapshot = model.createSnapshot();\n\t\tconst snapshot1 = model.createSnapshot();\n\t\tassert.strictEqual(model.getLinesContent().join('\\n'), getValueInSnapshot(snapshot));\n\n\t\tmodel.applyEdits([\n\t\t\t{\n\t\t\t\trange: new Range(2, 1, 2, 2),\n\t\t\t\ttext: ''\n\t\t\t}\n\t\t]);\n\t\tmodel.applyEdits([\n\t\t\t{\n\t\t\t\trange: new Range(2, 1, 2, 1),\n\t\t\t\ttext: '!'\n\t\t\t}\n\t\t]);\n\n\t\tassert.strictEqual(model.getLinesContent().join('\\n'), getValueInSnapshot(snapshot1));\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('immutable snapshot 1', () => {\n\t\tconst model = createTextModel('abc\\ndef');\n\t\tconst snapshot = model.createSnapshot();\n\t\tmodel.applyEdits([\n\t\t\t{\n\t\t\t\trange: new Range(2, 1, 2, 4),\n\t\t\t\ttext: ''\n\t\t\t}\n\t\t]);\n\n\t\tmodel.applyEdits([\n\t\t\t{\n\t\t\t\trange: new Range(1, 1, 2, 1),\n\t\t\t\ttext: 'abc\\ndef'\n\t\t\t}\n\t\t]);\n\n\t\tassert.strictEqual(model.getLinesContent().join('\\n'), getValueInSnapshot(snapshot));\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('immutable snapshot 2', () => {\n\t\tconst model = createTextModel('abc\\ndef');\n\t\tconst snapshot = model.createSnapshot();\n\t\tmodel.applyEdits([\n\t\t\t{\n\t\t\t\trange: new Range(2, 1, 2, 1),\n\t\t\t\ttext: '!'\n\t\t\t}\n\t\t]);\n\n\t\tmodel.applyEdits([\n\t\t\t{\n\t\t\t\trange: new Range(2, 1, 2, 2),\n\t\t\t\ttext: ''\n\t\t\t}\n\t\t]);\n\n\t\tassert.strictEqual(model.getLinesContent().join('\\n'), getValueInSnapshot(snapshot));\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('immutable snapshot 3', () => {\n\t\tconst model = createTextModel('abc\\ndef');\n\t\tmodel.applyEdits([\n\t\t\t{\n\t\t\t\trange: new Range(2, 4, 2, 4),\n\t\t\t\ttext: '!'\n\t\t\t}\n\t\t]);\n\t\tconst snapshot = model.createSnapshot();\n\t\tmodel.applyEdits([\n\t\t\t{\n\t\t\t\trange: new Range(2, 5, 2, 5),\n\t\t\t\ttext: '!'\n\t\t\t}\n\t\t]);\n\n\t\tassert.notStrictEqual(model.getLinesContent().join('\\n'), getValueInSnapshot(snapshot));\n\n\t\tmodel.dispose();\n\t});\n});\n\nsuite('chunk based search', () => {\n\tconst ds = ensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('#45892. For some cases, the buffer is empty but we still try to search', () => {\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.delete(0, 1);\n\t\tconst ret = pieceTree.findMatchesLineByLine(new Range(1, 1, 1, 1), new SearchData(/abc/, new WordCharacterClassifier(',./', []), 'abc'), true, 1000);\n\t\tassert.strictEqual(ret.length, 0);\n\t});\n\n\ttest('#45770. FindInNode should not cross node boundary.', () => {\n\t\tconst pieceTree = createTextBuffer([\n\t\t\t[\n\t\t\t\t'balabalababalabalababalabalaba',\n\t\t\t\t'balabalababalabalababalabalaba',\n\t\t\t\t'',\n\t\t\t\t'* [ ] task1',\n\t\t\t\t'* [x] task2 balabalaba',\n\t\t\t\t'* [ ] task 3'\n\t\t\t].join('\\n')\n\t\t]);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.delete(0, 62);\n\t\tpieceTable.delete(16, 1);\n\n\t\tpieceTable.insert(16, ' ');\n\t\tconst ret = pieceTable.findMatchesLineByLine(new Range(1, 1, 4, 13), new SearchData(/\\[/gi, new WordCharacterClassifier(',./', []), '['), true, 1000);\n\t\tassert.strictEqual(ret.length, 3);\n\n\t\tassert.deepStrictEqual(ret[0].range, new Range(2, 3, 2, 4));\n\t\tassert.deepStrictEqual(ret[1].range, new Range(3, 3, 3, 4));\n\t\tassert.deepStrictEqual(ret[2].range, new Range(4, 3, 4, 4));\n\t});\n\n\ttest('search searching from the middle', () => {\n\t\tconst pieceTree = createTextBuffer([\n\t\t\t[\n\t\t\t\t'def',\n\t\t\t\t'dbcabc'\n\t\t\t].join('\\n')\n\t\t]);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.delete(4, 1);\n\t\tlet ret = pieceTable.findMatchesLineByLine(new Range(2, 3, 2, 6), new SearchData(/a/gi, null, 'a'), true, 1000);\n\t\tassert.strictEqual(ret.length, 1);\n\t\tassert.deepStrictEqual(ret[0].range, new Range(2, 3, 2, 4));\n\n\t\tpieceTable.delete(4, 1);\n\t\tret = pieceTable.findMatchesLineByLine(new Range(2, 2, 2, 5), new SearchData(/a/gi, null, 'a'), true, 1000);\n\t\tassert.strictEqual(ret.length, 1);\n\t\tassert.deepStrictEqual(ret[0].range, new Range(2, 2, 2, 3));\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { WordCharacterClassifier } from '../../../../common/core/wordCharacterClassifier.js';\nimport { Position } from '../../../../common/core/position.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { DefaultEndOfLine, ITextSnapshot, SearchData } from '../../../../common/model.js';\nimport { PieceTreeBase } from '../../../../common/model/pieceTreeTextBuffer/pieceTreeBase.js';\nimport { PieceTreeTextBuffer } from '../../../../common/model/pieceTreeTextBuffer/pieceTreeTextBuffer.js';\nimport { PieceTreeTextBufferBuilder } from '../../../../common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder.js';\nimport { NodeColor, SENTINEL, TreeNode } from '../../../../common/model/pieceTreeTextBuffer/rbTreeBase.js';\nimport { createTextModel } from '../../testTextModel.js';\nimport { splitLines } from '../../../../../base/common/strings.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\n\nconst alphabet = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\\r\\n';\n\nfunction randomChar() {\n\treturn alphabet[randomInt(alphabet.length)];\n}\n\nfunction randomInt(bound: number) {\n\treturn Math.floor(Math.random() * bound);\n}\n\nfunction randomStr(len: number) {\n\tif (len === null) {\n\t\tlen = 10;\n\t}\n\treturn (function () {\n\t\tlet j, ref;\n\t\tconst results = [];\n\t\tfor (\n\t\t\tj = 1, ref = len;\n\t\t\t1 <= ref ? j < ref : j > ref;\n\t\t\t1 <= ref ? j++ : j--\n\t\t) {\n\t\t\tresults.push(randomChar());\n\t\t}\n\t\treturn results;\n\t})().join('');\n}\n\nfunction trimLineFeed(text: string): string {\n\tif (text.length === 0) {\n\t\treturn text;\n\t}\n\n\tif (text.length === 1) {\n\t\tif (\n\t\t\ttext.charCodeAt(text.length - 1) === 10 ||\n\t\t\ttext.charCodeAt(text.length - 1) === 13\n\t\t) {\n\t\t\treturn '';\n\t\t}\n\t\treturn text;\n\t}\n\n\tif (text.charCodeAt(text.length - 1) === 10) {\n\t\tif (text.charCodeAt(text.length - 2) === 13) {\n\t\t\treturn text.slice(0, -2);\n\t\t}\n\t\treturn text.slice(0, -1);\n\t}\n\n\tif (text.charCodeAt(text.length - 1) === 13) {\n\t\treturn text.slice(0, -1);\n\t}\n\n\treturn text;\n}\n\n//#region Assertion\n\nfunction testLinesContent(str: string, pieceTable: PieceTreeBase) {\n\tconst lines = splitLines(str);\n\tassert.strictEqual(pieceTable.getLineCount(), lines.length);\n\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\tfor (let i = 0; i < lines.length; i++) {\n\t\tassert.strictEqual(pieceTable.getLineContent(i + 1), lines[i]);\n\t\tassert.strictEqual(\n\t\t\ttrimLineFeed(\n\t\t\t\tpieceTable.getValueInRange(\n\t\t\t\t\tnew Range(\n\t\t\t\t\t\ti + 1,\n\t\t\t\t\t\t1,\n\t\t\t\t\t\ti + 1,\n\t\t\t\t\t\tlines[i].length + (i === lines.length - 1 ? 1 : 2)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t),\n\t\t\tlines[i]\n\t\t);\n\t}\n}\n\nfunction testLineStarts(str: string, pieceTable: PieceTreeBase) {\n\tconst lineStarts = [0];\n\n\t// Reset regex to search from the beginning\n\tconst _regex = new RegExp(/\\r\\n|\\r|\\n/g);\n\t_regex.lastIndex = 0;\n\tlet prevMatchStartIndex = -1;\n\tlet prevMatchLength = 0;\n\n\tlet m: RegExpExecArray | null;\n\tdo {\n\t\tif (prevMatchStartIndex + prevMatchLength === str.length) {\n\t\t\t// Reached the end of the line\n\t\t\tbreak;\n\t\t}\n\n\t\tm = _regex.exec(str);\n\t\tif (!m) {\n\t\t\tbreak;\n\t\t}\n\n\t\tconst matchStartIndex = m.index;\n\t\tconst matchLength = m[0].length;\n\n\t\tif (\n\t\t\tmatchStartIndex === prevMatchStartIndex &&\n\t\t\tmatchLength === prevMatchLength\n\t\t) {\n\t\t\t// Exit early if the regex matches the same range twice\n\t\t\tbreak;\n\t\t}\n\n\t\tprevMatchStartIndex = matchStartIndex;\n\t\tprevMatchLength = matchLength;\n\n\t\tlineStarts.push(matchStartIndex + matchLength);\n\t} while (m);\n\n\tfor (let i = 0; i < lineStarts.length; i++) {\n\t\tassert.deepStrictEqual(\n\t\t\tpieceTable.getPositionAt(lineStarts[i]),\n\t\t\tnew Position(i + 1, 1)\n\t\t);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(i + 1, 1), lineStarts[i]);\n\t}\n\n\tfor (let i = 1; i < lineStarts.length; i++) {\n\t\tconst pos = pieceTable.getPositionAt(lineStarts[i] - 1);\n\t\tassert.strictEqual(\n\t\t\tpieceTable.getOffsetAt(pos.lineNumber, pos.column),\n\t\t\tlineStarts[i] - 1\n\t\t);\n\t}\n}\n\nfunction createTextBuffer(val: string[], normalizeEOL: boolean = true): PieceTreeTextBuffer {\n\tconst bufferBuilder = new PieceTreeTextBufferBuilder();\n\tfor (const chunk of val) {\n\t\tbufferBuilder.acceptChunk(chunk);\n\t}\n\tconst factory = bufferBuilder.finish(normalizeEOL);\n\treturn (<PieceTreeTextBuffer>factory.create(DefaultEndOfLine.LF).textBuffer);\n}\n\nfunction assertTreeInvariants(T: PieceTreeBase): void {\n\tassert(SENTINEL.color === NodeColor.Black);\n\tassert(SENTINEL.parent === SENTINEL);\n\tassert(SENTINEL.left === SENTINEL);\n\tassert(SENTINEL.right === SENTINEL);\n\tassert(SENTINEL.size_left === 0);\n\tassert(SENTINEL.lf_left === 0);\n\tassertValidTree(T);\n}\n\nfunction depth(n: TreeNode): number {\n\tif (n === SENTINEL) {\n\t\t// The leafs are black\n\t\treturn 1;\n\t}\n\tassert(depth(n.left) === depth(n.right));\n\treturn (n.color === NodeColor.Black ? 1 : 0) + depth(n.left);\n}\n\nfunction assertValidNode(n: TreeNode): { size: number; lf_cnt: number } {\n\tif (n === SENTINEL) {\n\t\treturn { size: 0, lf_cnt: 0 };\n\t}\n\n\tconst l = n.left;\n\tconst r = n.right;\n\n\tif (n.color === NodeColor.Red) {\n\t\tassert(l.color === NodeColor.Black);\n\t\tassert(r.color === NodeColor.Black);\n\t}\n\n\tconst actualLeft = assertValidNode(l);\n\tassert(actualLeft.lf_cnt === n.lf_left);\n\tassert(actualLeft.size === n.size_left);\n\tconst actualRight = assertValidNode(r);\n\n\treturn { size: n.size_left + n.piece.length + actualRight.size, lf_cnt: n.lf_left + n.piece.lineFeedCnt + actualRight.lf_cnt };\n}\n\nfunction assertValidTree(T: PieceTreeBase): void {\n\tif (T.root === SENTINEL) {\n\t\treturn;\n\t}\n\tassert(T.root.color === NodeColor.Black);\n\tassert(depth(T.root.left) === depth(T.root.right));\n\tassertValidNode(T.root);\n}\n\n//#endregion\n\nsuite('inserts and deletes', () => {\n\tconst ds = ensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('basic insert/delete', () => {\n\t\tconst pieceTree = createTextBuffer([\n\t\t\t'This is a document with some text.'\n\t\t]);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(34, 'This is some more text to insert at offset 34.');\n\t\tassert.strictEqual(\n\t\t\tpieceTable.getLinesRawContent(),\n\t\t\t'This is a document with some text.This is some more text to insert at offset 34.'\n\t\t);\n\t\tpieceTable.delete(42, 5);\n\t\tassert.strictEqual(\n\t\t\tpieceTable.getLinesRawContent(),\n\t\t\t'This is a document with some text.This is more text to insert at offset 34.'\n\t\t);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('more inserts', () => {\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pt = pieceTree.getPieceTree();\n\t\tpt.insert(0, 'AAA');\n\t\tassert.strictEqual(pt.getLinesRawContent(), 'AAA');\n\t\tpt.insert(0, 'BBB');\n\t\tassert.strictEqual(pt.getLinesRawContent(), 'BBBAAA');\n\t\tpt.insert(6, 'CCC');\n\t\tassert.strictEqual(pt.getLinesRawContent(), 'BBBAAACCC');\n\t\tpt.insert(5, 'DDD');\n\t\tassert.strictEqual(pt.getLinesRawContent(), 'BBBAADDDACCC');\n\t\tassertTreeInvariants(pt);\n\t});\n\n\ttest('more deletes', () => {\n\t\tconst pieceTree = createTextBuffer(['012345678']);\n\t\tds.add(pieceTree);\n\t\tconst pt = pieceTree.getPieceTree();\n\n\t\tpt.delete(8, 1);\n\t\tassert.strictEqual(pt.getLinesRawContent(), '01234567');\n\t\tpt.delete(0, 1);\n\t\tassert.strictEqual(pt.getLinesRawContent(), '1234567');\n\t\tpt.delete(5, 1);\n\t\tassert.strictEqual(pt.getLinesRawContent(), '123457');\n\t\tpt.delete(5, 1);\n\t\tassert.strictEqual(pt.getLinesRawContent(), '12345');\n\t\tpt.delete(0, 5);\n\t\tassert.strictEqual(pt.getLinesRawContent(), '');\n\t\tassertTreeInvariants(pt);\n\t});\n\n\ttest('random test 1', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(0, 'ceLPHmFzvCtFeHkCBej ');\n\t\tstr = str.substring(0, 0) + 'ceLPHmFzvCtFeHkCBej ' + str.substring(0);\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\tpieceTable.insert(8, 'gDCEfNYiBUNkSwtvB K ');\n\t\tstr = str.substring(0, 8) + 'gDCEfNYiBUNkSwtvB K ' + str.substring(8);\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\tpieceTable.insert(38, 'cyNcHxjNPPoehBJldLS ');\n\t\tstr = str.substring(0, 38) + 'cyNcHxjNPPoehBJldLS ' + str.substring(38);\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\tpieceTable.insert(59, 'ejMx\\nOTgWlbpeDExjOk ');\n\t\tstr = str.substring(0, 59) + 'ejMx\\nOTgWlbpeDExjOk ' + str.substring(59);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random test 2', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, 'VgPG ');\n\t\tstr = str.substring(0, 0) + 'VgPG ' + str.substring(0);\n\t\tpieceTable.insert(2, 'DdWF ');\n\t\tstr = str.substring(0, 2) + 'DdWF ' + str.substring(2);\n\t\tpieceTable.insert(0, 'hUJc ');\n\t\tstr = str.substring(0, 0) + 'hUJc ' + str.substring(0);\n\t\tpieceTable.insert(8, 'lQEq ');\n\t\tstr = str.substring(0, 8) + 'lQEq ' + str.substring(8);\n\t\tpieceTable.insert(10, 'Gbtp ');\n\t\tstr = str.substring(0, 10) + 'Gbtp ' + str.substring(10);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random test 3', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, 'gYSz');\n\t\tstr = str.substring(0, 0) + 'gYSz' + str.substring(0);\n\t\tpieceTable.insert(1, 'mDQe');\n\t\tstr = str.substring(0, 1) + 'mDQe' + str.substring(1);\n\t\tpieceTable.insert(1, 'DTMQ');\n\t\tstr = str.substring(0, 1) + 'DTMQ' + str.substring(1);\n\t\tpieceTable.insert(2, 'GGZB');\n\t\tstr = str.substring(0, 2) + 'GGZB' + str.substring(2);\n\t\tpieceTable.insert(12, 'wXpq');\n\t\tstr = str.substring(0, 12) + 'wXpq' + str.substring(12);\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t});\n\n\ttest('random delete 1', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(0, 'vfb');\n\t\tstr = str.substring(0, 0) + 'vfb' + str.substring(0);\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\tpieceTable.insert(0, 'zRq');\n\t\tstr = str.substring(0, 0) + 'zRq' + str.substring(0);\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\n\t\tpieceTable.delete(5, 1);\n\t\tstr = str.substring(0, 5) + str.substring(5 + 1);\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\n\t\tpieceTable.insert(1, 'UNw');\n\t\tstr = str.substring(0, 1) + 'UNw' + str.substring(1);\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\n\t\tpieceTable.delete(4, 3);\n\t\tstr = str.substring(0, 4) + str.substring(4 + 3);\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\n\t\tpieceTable.delete(1, 4);\n\t\tstr = str.substring(0, 1) + str.substring(1 + 4);\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\n\t\tpieceTable.delete(0, 1);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 1);\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random delete 2', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(0, 'IDT');\n\t\tstr = str.substring(0, 0) + 'IDT' + str.substring(0);\n\t\tpieceTable.insert(3, 'wwA');\n\t\tstr = str.substring(0, 3) + 'wwA' + str.substring(3);\n\t\tpieceTable.insert(3, 'Gnr');\n\t\tstr = str.substring(0, 3) + 'Gnr' + str.substring(3);\n\t\tpieceTable.delete(6, 3);\n\t\tstr = str.substring(0, 6) + str.substring(6 + 3);\n\t\tpieceTable.insert(4, 'eHp');\n\t\tstr = str.substring(0, 4) + 'eHp' + str.substring(4);\n\t\tpieceTable.insert(1, 'UAi');\n\t\tstr = str.substring(0, 1) + 'UAi' + str.substring(1);\n\t\tpieceTable.insert(2, 'FrR');\n\t\tstr = str.substring(0, 2) + 'FrR' + str.substring(2);\n\t\tpieceTable.delete(6, 7);\n\t\tstr = str.substring(0, 6) + str.substring(6 + 7);\n\t\tpieceTable.delete(3, 5);\n\t\tstr = str.substring(0, 3) + str.substring(3 + 5);\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random delete 3', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, 'PqM');\n\t\tstr = str.substring(0, 0) + 'PqM' + str.substring(0);\n\t\tpieceTable.delete(1, 2);\n\t\tstr = str.substring(0, 1) + str.substring(1 + 2);\n\t\tpieceTable.insert(1, 'zLc');\n\t\tstr = str.substring(0, 1) + 'zLc' + str.substring(1);\n\t\tpieceTable.insert(0, 'MEX');\n\t\tstr = str.substring(0, 0) + 'MEX' + str.substring(0);\n\t\tpieceTable.insert(0, 'jZh');\n\t\tstr = str.substring(0, 0) + 'jZh' + str.substring(0);\n\t\tpieceTable.insert(8, 'GwQ');\n\t\tstr = str.substring(0, 8) + 'GwQ' + str.substring(8);\n\t\tpieceTable.delete(5, 6);\n\t\tstr = str.substring(0, 5) + str.substring(5 + 6);\n\t\tpieceTable.insert(4, 'ktw');\n\t\tstr = str.substring(0, 4) + 'ktw' + str.substring(4);\n\t\tpieceTable.insert(5, 'GVu');\n\t\tstr = str.substring(0, 5) + 'GVu' + str.substring(5);\n\t\tpieceTable.insert(9, 'jdm');\n\t\tstr = str.substring(0, 9) + 'jdm' + str.substring(9);\n\t\tpieceTable.insert(15, 'na\\n');\n\t\tstr = str.substring(0, 15) + 'na\\n' + str.substring(15);\n\t\tpieceTable.delete(5, 8);\n\t\tstr = str.substring(0, 5) + str.substring(5 + 8);\n\t\tpieceTable.delete(3, 4);\n\t\tstr = str.substring(0, 3) + str.substring(3 + 4);\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random insert/delete \\\\r bug 1', () => {\n\t\tlet str = 'a';\n\t\tconst pieceTree = createTextBuffer(['a']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.delete(0, 1);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 1);\n\t\tpieceTable.insert(0, '\\r\\r\\n\\n');\n\t\tstr = str.substring(0, 0) + '\\r\\r\\n\\n' + str.substring(0);\n\t\tpieceTable.delete(3, 1);\n\t\tstr = str.substring(0, 3) + str.substring(3 + 1);\n\t\tpieceTable.insert(2, '\\n\\n\\ra');\n\t\tstr = str.substring(0, 2) + '\\n\\n\\ra' + str.substring(2);\n\t\tpieceTable.delete(4, 3);\n\t\tstr = str.substring(0, 4) + str.substring(4 + 3);\n\t\tpieceTable.insert(2, '\\na\\r\\r');\n\t\tstr = str.substring(0, 2) + '\\na\\r\\r' + str.substring(2);\n\t\tpieceTable.insert(6, '\\ra\\n\\n');\n\t\tstr = str.substring(0, 6) + '\\ra\\n\\n' + str.substring(6);\n\t\tpieceTable.insert(0, 'aa\\n\\n');\n\t\tstr = str.substring(0, 0) + 'aa\\n\\n' + str.substring(0);\n\t\tpieceTable.insert(5, '\\n\\na\\r');\n\t\tstr = str.substring(0, 5) + '\\n\\na\\r' + str.substring(5);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random insert/delete \\\\r bug 2', () => {\n\t\tlet str = 'a';\n\t\tconst pieceTree = createTextBuffer(['a']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(1, '\\naa\\r');\n\t\tstr = str.substring(0, 1) + '\\naa\\r' + str.substring(1);\n\t\tpieceTable.delete(0, 4);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 4);\n\t\tpieceTable.insert(1, '\\r\\r\\na');\n\t\tstr = str.substring(0, 1) + '\\r\\r\\na' + str.substring(1);\n\t\tpieceTable.insert(2, '\\n\\r\\ra');\n\t\tstr = str.substring(0, 2) + '\\n\\r\\ra' + str.substring(2);\n\t\tpieceTable.delete(4, 1);\n\t\tstr = str.substring(0, 4) + str.substring(4 + 1);\n\t\tpieceTable.insert(8, '\\r\\n\\r\\r');\n\t\tstr = str.substring(0, 8) + '\\r\\n\\r\\r' + str.substring(8);\n\t\tpieceTable.insert(7, '\\n\\n\\na');\n\t\tstr = str.substring(0, 7) + '\\n\\n\\na' + str.substring(7);\n\t\tpieceTable.insert(13, 'a\\n\\na');\n\t\tstr = str.substring(0, 13) + 'a\\n\\na' + str.substring(13);\n\t\tpieceTable.delete(17, 3);\n\t\tstr = str.substring(0, 17) + str.substring(17 + 3);\n\t\tpieceTable.insert(2, 'a\\ra\\n');\n\t\tstr = str.substring(0, 2) + 'a\\ra\\n' + str.substring(2);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random insert/delete \\\\r bug 3', () => {\n\t\tlet str = 'a';\n\t\tconst pieceTree = createTextBuffer(['a']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, '\\r\\na\\r');\n\t\tstr = str.substring(0, 0) + '\\r\\na\\r' + str.substring(0);\n\t\tpieceTable.delete(2, 3);\n\t\tstr = str.substring(0, 2) + str.substring(2 + 3);\n\t\tpieceTable.insert(2, 'a\\r\\n\\r');\n\t\tstr = str.substring(0, 2) + 'a\\r\\n\\r' + str.substring(2);\n\t\tpieceTable.delete(4, 2);\n\t\tstr = str.substring(0, 4) + str.substring(4 + 2);\n\t\tpieceTable.insert(4, 'a\\n\\r\\n');\n\t\tstr = str.substring(0, 4) + 'a\\n\\r\\n' + str.substring(4);\n\t\tpieceTable.insert(1, 'aa\\n\\r');\n\t\tstr = str.substring(0, 1) + 'aa\\n\\r' + str.substring(1);\n\t\tpieceTable.insert(7, '\\na\\r\\n');\n\t\tstr = str.substring(0, 7) + '\\na\\r\\n' + str.substring(7);\n\t\tpieceTable.insert(5, '\\n\\na\\r');\n\t\tstr = str.substring(0, 5) + '\\n\\na\\r' + str.substring(5);\n\t\tpieceTable.insert(10, '\\r\\r\\n\\r');\n\t\tstr = str.substring(0, 10) + '\\r\\r\\n\\r' + str.substring(10);\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\tpieceTable.delete(21, 3);\n\t\tstr = str.substring(0, 21) + str.substring(21 + 3);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random insert/delete \\\\r bug 4s', () => {\n\t\tlet str = 'a';\n\t\tconst pieceTree = createTextBuffer(['a']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.delete(0, 1);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 1);\n\t\tpieceTable.insert(0, '\\naaa');\n\t\tstr = str.substring(0, 0) + '\\naaa' + str.substring(0);\n\t\tpieceTable.insert(2, '\\n\\naa');\n\t\tstr = str.substring(0, 2) + '\\n\\naa' + str.substring(2);\n\t\tpieceTable.delete(1, 4);\n\t\tstr = str.substring(0, 1) + str.substring(1 + 4);\n\t\tpieceTable.delete(3, 1);\n\t\tstr = str.substring(0, 3) + str.substring(3 + 1);\n\t\tpieceTable.delete(1, 2);\n\t\tstr = str.substring(0, 1) + str.substring(1 + 2);\n\t\tpieceTable.delete(0, 1);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 1);\n\t\tpieceTable.insert(0, 'a\\n\\n\\r');\n\t\tstr = str.substring(0, 0) + 'a\\n\\n\\r' + str.substring(0);\n\t\tpieceTable.insert(2, 'aa\\r\\n');\n\t\tstr = str.substring(0, 2) + 'aa\\r\\n' + str.substring(2);\n\t\tpieceTable.insert(3, 'a\\naa');\n\t\tstr = str.substring(0, 3) + 'a\\naa' + str.substring(3);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\ttest('random insert/delete \\\\r bug 5', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, '\\n\\n\\n\\r');\n\t\tstr = str.substring(0, 0) + '\\n\\n\\n\\r' + str.substring(0);\n\t\tpieceTable.insert(1, '\\n\\n\\n\\r');\n\t\tstr = str.substring(0, 1) + '\\n\\n\\n\\r' + str.substring(1);\n\t\tpieceTable.insert(2, '\\n\\r\\r\\r');\n\t\tstr = str.substring(0, 2) + '\\n\\r\\r\\r' + str.substring(2);\n\t\tpieceTable.insert(8, '\\n\\r\\n\\r');\n\t\tstr = str.substring(0, 8) + '\\n\\r\\n\\r' + str.substring(8);\n\t\tpieceTable.delete(5, 2);\n\t\tstr = str.substring(0, 5) + str.substring(5 + 2);\n\t\tpieceTable.insert(4, '\\n\\r\\r\\r');\n\t\tstr = str.substring(0, 4) + '\\n\\r\\r\\r' + str.substring(4);\n\t\tpieceTable.insert(8, '\\n\\n\\n\\r');\n\t\tstr = str.substring(0, 8) + '\\n\\n\\n\\r' + str.substring(8);\n\t\tpieceTable.delete(0, 7);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 7);\n\t\tpieceTable.insert(1, '\\r\\n\\r\\r');\n\t\tstr = str.substring(0, 1) + '\\r\\n\\r\\r' + str.substring(1);\n\t\tpieceTable.insert(15, '\\n\\r\\r\\r');\n\t\tstr = str.substring(0, 15) + '\\n\\r\\r\\r' + str.substring(15);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n});\n\nsuite('prefix sum for line feed', () => {\n\tconst ds = ensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('basic', () => {\n\t\tconst pieceTree = createTextBuffer(['1\\n2\\n3\\n4']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tassert.strictEqual(pieceTable.getLineCount(), 4);\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(0), new Position(1, 1));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(1), new Position(1, 2));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(2), new Position(2, 1));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(3), new Position(2, 2));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(4), new Position(3, 1));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(5), new Position(3, 2));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(6), new Position(4, 1));\n\n\t\tassert.strictEqual(pieceTable.getOffsetAt(1, 1), 0);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(1, 2), 1);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(2, 1), 2);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(2, 2), 3);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(3, 1), 4);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(3, 2), 5);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(4, 1), 6);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('append', () => {\n\t\tconst pieceTree = createTextBuffer(['a\\nb\\nc\\nde']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(8, 'fh\\ni\\njk');\n\n\t\tassert.strictEqual(pieceTable.getLineCount(), 6);\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(9), new Position(4, 4));\n\t\tassert.strictEqual(pieceTable.getOffsetAt(1, 1), 0);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('insert', () => {\n\t\tconst pieceTree = createTextBuffer(['a\\nb\\nc\\nde']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(7, 'fh\\ni\\njk');\n\n\t\tassert.strictEqual(pieceTable.getLineCount(), 6);\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(6), new Position(4, 1));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(7), new Position(4, 2));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(8), new Position(4, 3));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(9), new Position(4, 4));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(12), new Position(6, 1));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(13), new Position(6, 2));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(14), new Position(6, 3));\n\n\t\tassert.strictEqual(pieceTable.getOffsetAt(4, 1), 6);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(4, 2), 7);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(4, 3), 8);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(4, 4), 9);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(6, 1), 12);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(6, 2), 13);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(6, 3), 14);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('delete', () => {\n\t\tconst pieceTree = createTextBuffer(['a\\nb\\nc\\ndefh\\ni\\njk']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.delete(7, 2);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), 'a\\nb\\nc\\ndh\\ni\\njk');\n\t\tassert.strictEqual(pieceTable.getLineCount(), 6);\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(6), new Position(4, 1));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(7), new Position(4, 2));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(8), new Position(4, 3));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(9), new Position(5, 1));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(11), new Position(6, 1));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(12), new Position(6, 2));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(13), new Position(6, 3));\n\n\t\tassert.strictEqual(pieceTable.getOffsetAt(4, 1), 6);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(4, 2), 7);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(4, 3), 8);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(5, 1), 9);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(6, 1), 11);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(6, 2), 12);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(6, 3), 13);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('add+delete 1', () => {\n\t\tconst pieceTree = createTextBuffer(['a\\nb\\nc\\nde']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(8, 'fh\\ni\\njk');\n\t\tpieceTable.delete(7, 2);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), 'a\\nb\\nc\\ndh\\ni\\njk');\n\t\tassert.strictEqual(pieceTable.getLineCount(), 6);\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(6), new Position(4, 1));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(7), new Position(4, 2));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(8), new Position(4, 3));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(9), new Position(5, 1));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(11), new Position(6, 1));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(12), new Position(6, 2));\n\t\tassert.deepStrictEqual(pieceTable.getPositionAt(13), new Position(6, 3));\n\n\t\tassert.strictEqual(pieceTable.getOffsetAt(4, 1), 6);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(4, 2), 7);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(4, 3), 8);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(5, 1), 9);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(6, 1), 11);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(6, 2), 12);\n\t\tassert.strictEqual(pieceTable.getOffsetAt(6, 3), 13);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('insert random bug 1: prefixSumComputer.removeValues(start, cnt) cnt is 1 based.', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, ' ZX \\n Z\\nZ\\n YZ\\nY\\nZXX ');\n\t\tstr =\n\t\t\tstr.substring(0, 0) +\n\t\t\t' ZX \\n Z\\nZ\\n YZ\\nY\\nZXX ' +\n\t\t\tstr.substring(0);\n\t\tpieceTable.insert(14, 'X ZZ\\nYZZYZXXY Y XY\\n ');\n\t\tstr =\n\t\t\tstr.substring(0, 14) + 'X ZZ\\nYZZYZXXY Y XY\\n ' + str.substring(14);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\ttestLineStarts(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('insert random bug 2: prefixSumComputer initialize does not do deep copy of UInt32Array.', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, 'ZYZ\\nYY XY\\nX \\nZ Y \\nZ ');\n\t\tstr =\n\t\t\tstr.substring(0, 0) + 'ZYZ\\nYY XY\\nX \\nZ Y \\nZ ' + str.substring(0);\n\t\tpieceTable.insert(3, 'XXY \\n\\nY Y YYY  ZYXY ');\n\t\tstr = str.substring(0, 3) + 'XXY \\n\\nY Y YYY  ZYXY ' + str.substring(3);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\ttestLineStarts(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('delete random bug 1: I forgot to update the lineFeedCnt when deletion is on one single piece.', () => {\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, 'ba\\na\\nca\\nba\\ncbab\\ncaa ');\n\t\tpieceTable.insert(13, 'cca\\naabb\\ncac\\nccc\\nab ');\n\t\tpieceTable.delete(5, 8);\n\t\tpieceTable.delete(30, 2);\n\t\tpieceTable.insert(24, 'cbbacccbac\\nbaaab\\n\\nc ');\n\t\tpieceTable.delete(29, 3);\n\t\tpieceTable.delete(23, 9);\n\t\tpieceTable.delete(21, 5);\n\t\tpieceTable.delete(30, 3);\n\t\tpieceTable.insert(3, 'cb\\nac\\nc\\n\\nacc\\nbb\\nb\\nc ');\n\t\tpieceTable.delete(19, 5);\n\t\tpieceTable.insert(18, '\\nbb\\n\\nacbc\\ncbb\\nc\\nbb\\n ');\n\t\tpieceTable.insert(65, 'cbccbac\\nbc\\n\\nccabba\\n ');\n\t\tpieceTable.insert(77, 'a\\ncacb\\n\\nac\\n\\n\\n\\n\\nabab ');\n\t\tpieceTable.delete(30, 9);\n\t\tpieceTable.insert(45, 'b\\n\\nc\\nba\\n\\nbbbba\\n\\naa\\n ');\n\t\tpieceTable.insert(82, 'ab\\nbb\\ncabacab\\ncbc\\na ');\n\t\tpieceTable.delete(123, 9);\n\t\tpieceTable.delete(71, 2);\n\t\tpieceTable.insert(33, 'acaa\\nacb\\n\\naa\\n\\nc\\n\\n\\n\\n ');\n\n\t\tconst str = pieceTable.getLinesRawContent();\n\t\ttestLineStarts(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('delete random bug rb tree 1', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer([str]);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, 'YXXZ\\n\\nYY\\n');\n\t\tstr = str.substring(0, 0) + 'YXXZ\\n\\nYY\\n' + str.substring(0);\n\t\tpieceTable.delete(0, 5);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 5);\n\t\tpieceTable.insert(0, 'ZXYY\\nX\\nZ\\n');\n\t\tstr = str.substring(0, 0) + 'ZXYY\\nX\\nZ\\n' + str.substring(0);\n\t\tpieceTable.insert(10, '\\nXY\\nYXYXY');\n\t\tstr = str.substring(0, 10) + '\\nXY\\nYXYXY' + str.substring(10);\n\t\ttestLineStarts(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('delete random bug rb tree 2', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer([str]);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, 'YXXZ\\n\\nYY\\n');\n\t\tstr = str.substring(0, 0) + 'YXXZ\\n\\nYY\\n' + str.substring(0);\n\t\tpieceTable.insert(0, 'ZXYY\\nX\\nZ\\n');\n\t\tstr = str.substring(0, 0) + 'ZXYY\\nX\\nZ\\n' + str.substring(0);\n\t\tpieceTable.insert(10, '\\nXY\\nYXYXY');\n\t\tstr = str.substring(0, 10) + '\\nXY\\nYXYXY' + str.substring(10);\n\t\tpieceTable.insert(8, 'YZXY\\nZ\\nYX');\n\t\tstr = str.substring(0, 8) + 'YZXY\\nZ\\nYX' + str.substring(8);\n\t\tpieceTable.insert(12, 'XX\\nXXYXYZ');\n\t\tstr = str.substring(0, 12) + 'XX\\nXXYXYZ' + str.substring(12);\n\t\tpieceTable.delete(0, 4);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 4);\n\n\t\ttestLineStarts(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('delete random bug rb tree 3', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer([str]);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, 'YXXZ\\n\\nYY\\n');\n\t\tstr = str.substring(0, 0) + 'YXXZ\\n\\nYY\\n' + str.substring(0);\n\t\tpieceTable.delete(7, 2);\n\t\tstr = str.substring(0, 7) + str.substring(7 + 2);\n\t\tpieceTable.delete(6, 1);\n\t\tstr = str.substring(0, 6) + str.substring(6 + 1);\n\t\tpieceTable.delete(0, 5);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 5);\n\t\tpieceTable.insert(0, 'ZXYY\\nX\\nZ\\n');\n\t\tstr = str.substring(0, 0) + 'ZXYY\\nX\\nZ\\n' + str.substring(0);\n\t\tpieceTable.insert(10, '\\nXY\\nYXYXY');\n\t\tstr = str.substring(0, 10) + '\\nXY\\nYXYXY' + str.substring(10);\n\t\tpieceTable.insert(8, 'YZXY\\nZ\\nYX');\n\t\tstr = str.substring(0, 8) + 'YZXY\\nZ\\nYX' + str.substring(8);\n\t\tpieceTable.insert(12, 'XX\\nXXYXYZ');\n\t\tstr = str.substring(0, 12) + 'XX\\nXXYXYZ' + str.substring(12);\n\t\tpieceTable.delete(0, 4);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 4);\n\t\tpieceTable.delete(30, 3);\n\t\tstr = str.substring(0, 30) + str.substring(30 + 3);\n\n\t\ttestLineStarts(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n});\n\nsuite('offset 2 position', () => {\n\tconst ds = ensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('random tests bug 1', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, 'huuyYzUfKOENwGgZLqn ');\n\t\tstr = str.substring(0, 0) + 'huuyYzUfKOENwGgZLqn ' + str.substring(0);\n\t\tpieceTable.delete(18, 2);\n\t\tstr = str.substring(0, 18) + str.substring(18 + 2);\n\t\tpieceTable.delete(3, 1);\n\t\tstr = str.substring(0, 3) + str.substring(3 + 1);\n\t\tpieceTable.delete(12, 4);\n\t\tstr = str.substring(0, 12) + str.substring(12 + 4);\n\t\tpieceTable.insert(3, 'hMbnVEdTSdhLlPevXKF ');\n\t\tstr = str.substring(0, 3) + 'hMbnVEdTSdhLlPevXKF ' + str.substring(3);\n\t\tpieceTable.delete(22, 8);\n\t\tstr = str.substring(0, 22) + str.substring(22 + 8);\n\t\tpieceTable.insert(4, 'S umSnYrqOmOAV\\nEbZJ ');\n\t\tstr = str.substring(0, 4) + 'S umSnYrqOmOAV\\nEbZJ ' + str.substring(4);\n\n\t\ttestLineStarts(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n});\n\nsuite('get text in range', () => {\n\tconst ds = ensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('getContentInRange', () => {\n\t\tconst pieceTree = createTextBuffer(['a\\nb\\nc\\nde']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(8, 'fh\\ni\\njk');\n\t\tpieceTable.delete(7, 2);\n\t\t// 'a\\nb\\nc\\ndh\\ni\\njk'\n\n\t\tassert.strictEqual(pieceTable.getValueInRange(new Range(1, 1, 1, 3)), 'a\\n');\n\t\tassert.strictEqual(pieceTable.getValueInRange(new Range(2, 1, 2, 3)), 'b\\n');\n\t\tassert.strictEqual(pieceTable.getValueInRange(new Range(3, 1, 3, 3)), 'c\\n');\n\t\tassert.strictEqual(pieceTable.getValueInRange(new Range(4, 1, 4, 4)), 'dh\\n');\n\t\tassert.strictEqual(pieceTable.getValueInRange(new Range(5, 1, 5, 3)), 'i\\n');\n\t\tassert.strictEqual(pieceTable.getValueInRange(new Range(6, 1, 6, 3)), 'jk');\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random test value in range', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer([str]);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(0, 'ZXXY');\n\t\tstr = str.substring(0, 0) + 'ZXXY' + str.substring(0);\n\t\tpieceTable.insert(1, 'XZZY');\n\t\tstr = str.substring(0, 1) + 'XZZY' + str.substring(1);\n\t\tpieceTable.insert(5, '\\nX\\n\\n');\n\t\tstr = str.substring(0, 5) + '\\nX\\n\\n' + str.substring(5);\n\t\tpieceTable.insert(3, '\\nXX\\n');\n\t\tstr = str.substring(0, 3) + '\\nXX\\n' + str.substring(3);\n\t\tpieceTable.insert(12, 'YYYX');\n\t\tstr = str.substring(0, 12) + 'YYYX' + str.substring(12);\n\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\ttest('random test value in range exception', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer([str]);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(0, 'XZ\\nZ');\n\t\tstr = str.substring(0, 0) + 'XZ\\nZ' + str.substring(0);\n\t\tpieceTable.delete(0, 3);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 3);\n\t\tpieceTable.delete(0, 1);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 1);\n\t\tpieceTable.insert(0, 'ZYX\\n');\n\t\tstr = str.substring(0, 0) + 'ZYX\\n' + str.substring(0);\n\t\tpieceTable.delete(0, 4);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 4);\n\n\t\tpieceTable.getValueInRange(new Range(1, 1, 1, 1));\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random tests bug 1', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, 'huuyYzUfKOENwGgZLqn ');\n\t\tstr = str.substring(0, 0) + 'huuyYzUfKOENwGgZLqn ' + str.substring(0);\n\t\tpieceTable.delete(18, 2);\n\t\tstr = str.substring(0, 18) + str.substring(18 + 2);\n\t\tpieceTable.delete(3, 1);\n\t\tstr = str.substring(0, 3) + str.substring(3 + 1);\n\t\tpieceTable.delete(12, 4);\n\t\tstr = str.substring(0, 12) + str.substring(12 + 4);\n\t\tpieceTable.insert(3, 'hMbnVEdTSdhLlPevXKF ');\n\t\tstr = str.substring(0, 3) + 'hMbnVEdTSdhLlPevXKF ' + str.substring(3);\n\t\tpieceTable.delete(22, 8);\n\t\tstr = str.substring(0, 22) + str.substring(22 + 8);\n\t\tpieceTable.insert(4, 'S umSnYrqOmOAV\\nEbZJ ');\n\t\tstr = str.substring(0, 4) + 'S umSnYrqOmOAV\\nEbZJ ' + str.substring(4);\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random tests bug 2', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, 'xfouRDZwdAHjVXJAMV\\n ');\n\t\tstr = str.substring(0, 0) + 'xfouRDZwdAHjVXJAMV\\n ' + str.substring(0);\n\t\tpieceTable.insert(16, 'dBGndxpFZBEAIKykYYx ');\n\t\tstr = str.substring(0, 16) + 'dBGndxpFZBEAIKykYYx ' + str.substring(16);\n\t\tpieceTable.delete(7, 6);\n\t\tstr = str.substring(0, 7) + str.substring(7 + 6);\n\t\tpieceTable.delete(9, 7);\n\t\tstr = str.substring(0, 9) + str.substring(9 + 7);\n\t\tpieceTable.delete(17, 6);\n\t\tstr = str.substring(0, 17) + str.substring(17 + 6);\n\t\tpieceTable.delete(0, 4);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 4);\n\t\tpieceTable.insert(9, 'qvEFXCNvVkWgvykahYt ');\n\t\tstr = str.substring(0, 9) + 'qvEFXCNvVkWgvykahYt ' + str.substring(9);\n\t\tpieceTable.delete(4, 6);\n\t\tstr = str.substring(0, 4) + str.substring(4 + 6);\n\t\tpieceTable.insert(11, 'OcSChUYT\\nzPEBOpsGmR ');\n\t\tstr =\n\t\t\tstr.substring(0, 11) + 'OcSChUYT\\nzPEBOpsGmR ' + str.substring(11);\n\t\tpieceTable.insert(15, 'KJCozaXTvkE\\nxnqAeTz ');\n\t\tstr =\n\t\t\tstr.substring(0, 15) + 'KJCozaXTvkE\\nxnqAeTz ' + str.substring(15);\n\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('get line content', () => {\n\t\tconst pieceTree = createTextBuffer(['1']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tassert.strictEqual(pieceTable.getLineRawContent(1), '1');\n\t\tpieceTable.insert(1, '2');\n\t\tassert.strictEqual(pieceTable.getLineRawContent(1), '12');\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('get line content basic', () => {\n\t\tconst pieceTree = createTextBuffer(['1\\n2\\n3\\n4']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tassert.strictEqual(pieceTable.getLineRawContent(1), '1\\n');\n\t\tassert.strictEqual(pieceTable.getLineRawContent(2), '2\\n');\n\t\tassert.strictEqual(pieceTable.getLineRawContent(3), '3\\n');\n\t\tassert.strictEqual(pieceTable.getLineRawContent(4), '4');\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('get line content after inserts/deletes', () => {\n\t\tconst pieceTree = createTextBuffer(['a\\nb\\nc\\nde']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(8, 'fh\\ni\\njk');\n\t\tpieceTable.delete(7, 2);\n\t\t// 'a\\nb\\nc\\ndh\\ni\\njk'\n\n\t\tassert.strictEqual(pieceTable.getLineRawContent(1), 'a\\n');\n\t\tassert.strictEqual(pieceTable.getLineRawContent(2), 'b\\n');\n\t\tassert.strictEqual(pieceTable.getLineRawContent(3), 'c\\n');\n\t\tassert.strictEqual(pieceTable.getLineRawContent(4), 'dh\\n');\n\t\tassert.strictEqual(pieceTable.getLineRawContent(5), 'i\\n');\n\t\tassert.strictEqual(pieceTable.getLineRawContent(6), 'jk');\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random 1', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(0, 'J eNnDzQpnlWyjmUu\\ny ');\n\t\tstr = str.substring(0, 0) + 'J eNnDzQpnlWyjmUu\\ny ' + str.substring(0);\n\t\tpieceTable.insert(0, 'QPEeRAQmRwlJqtZSWhQ ');\n\t\tstr = str.substring(0, 0) + 'QPEeRAQmRwlJqtZSWhQ ' + str.substring(0);\n\t\tpieceTable.delete(5, 1);\n\t\tstr = str.substring(0, 5) + str.substring(5 + 1);\n\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random 2', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, 'DZoQ tglPCRHMltejRI ');\n\t\tstr = str.substring(0, 0) + 'DZoQ tglPCRHMltejRI ' + str.substring(0);\n\t\tpieceTable.insert(10, 'JRXiyYqJ qqdcmbfkKX ');\n\t\tstr = str.substring(0, 10) + 'JRXiyYqJ qqdcmbfkKX ' + str.substring(10);\n\t\tpieceTable.delete(16, 3);\n\t\tstr = str.substring(0, 16) + str.substring(16 + 3);\n\t\tpieceTable.delete(25, 1);\n\t\tstr = str.substring(0, 25) + str.substring(25 + 1);\n\t\tpieceTable.insert(18, 'vH\\nNlvfqQJPm\\nSFkhMc ');\n\t\tstr =\n\t\t\tstr.substring(0, 18) + 'vH\\nNlvfqQJPm\\nSFkhMc ' + str.substring(18);\n\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n});\n\nsuite('CRLF', () => {\n\tconst ds = ensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('delete CR in CRLF 1', () => {\n\t\tconst pieceTree = createTextBuffer([''], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, 'a\\r\\nb');\n\t\tpieceTable.delete(0, 2);\n\n\t\tassert.strictEqual(pieceTable.getLineCount(), 2);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('delete CR in CRLF 2', () => {\n\t\tconst pieceTree = createTextBuffer([''], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, 'a\\r\\nb');\n\t\tpieceTable.delete(2, 2);\n\n\t\tassert.strictEqual(pieceTable.getLineCount(), 2);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random bug 1', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer([''], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.insert(0, '\\n\\n\\r\\r');\n\t\tstr = str.substring(0, 0) + '\\n\\n\\r\\r' + str.substring(0);\n\t\tpieceTable.insert(1, '\\r\\n\\r\\n');\n\t\tstr = str.substring(0, 1) + '\\r\\n\\r\\n' + str.substring(1);\n\t\tpieceTable.delete(5, 3);\n\t\tstr = str.substring(0, 5) + str.substring(5 + 3);\n\t\tpieceTable.delete(2, 3);\n\t\tstr = str.substring(0, 2) + str.substring(2 + 3);\n\n\t\tconst lines = splitLines(str);\n\t\tassert.strictEqual(pieceTable.getLineCount(), lines.length);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\ttest('random bug 2', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer([''], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(0, '\\n\\r\\n\\r');\n\t\tstr = str.substring(0, 0) + '\\n\\r\\n\\r' + str.substring(0);\n\t\tpieceTable.insert(2, '\\n\\r\\r\\r');\n\t\tstr = str.substring(0, 2) + '\\n\\r\\r\\r' + str.substring(2);\n\t\tpieceTable.delete(4, 1);\n\t\tstr = str.substring(0, 4) + str.substring(4 + 1);\n\n\t\tconst lines = splitLines(str);\n\t\tassert.strictEqual(pieceTable.getLineCount(), lines.length);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\ttest('random bug 3', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer([''], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(0, '\\n\\n\\n\\r');\n\t\tstr = str.substring(0, 0) + '\\n\\n\\n\\r' + str.substring(0);\n\t\tpieceTable.delete(2, 2);\n\t\tstr = str.substring(0, 2) + str.substring(2 + 2);\n\t\tpieceTable.delete(0, 2);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 2);\n\t\tpieceTable.insert(0, '\\r\\r\\r\\r');\n\t\tstr = str.substring(0, 0) + '\\r\\r\\r\\r' + str.substring(0);\n\t\tpieceTable.insert(2, '\\r\\n\\r\\r');\n\t\tstr = str.substring(0, 2) + '\\r\\n\\r\\r' + str.substring(2);\n\t\tpieceTable.insert(3, '\\r\\r\\r\\n');\n\t\tstr = str.substring(0, 3) + '\\r\\r\\r\\n' + str.substring(3);\n\n\t\tconst lines = splitLines(str);\n\t\tassert.strictEqual(pieceTable.getLineCount(), lines.length);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\ttest('random bug 4', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer([''], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(0, '\\n\\n\\n\\n');\n\t\tstr = str.substring(0, 0) + '\\n\\n\\n\\n' + str.substring(0);\n\t\tpieceTable.delete(3, 1);\n\t\tstr = str.substring(0, 3) + str.substring(3 + 1);\n\t\tpieceTable.insert(1, '\\r\\r\\r\\r');\n\t\tstr = str.substring(0, 1) + '\\r\\r\\r\\r' + str.substring(1);\n\t\tpieceTable.insert(6, '\\r\\n\\n\\r');\n\t\tstr = str.substring(0, 6) + '\\r\\n\\n\\r' + str.substring(6);\n\t\tpieceTable.delete(5, 3);\n\t\tstr = str.substring(0, 5) + str.substring(5 + 3);\n\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\ttest('random bug 5', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer([''], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(0, '\\n\\n\\n\\n');\n\t\tstr = str.substring(0, 0) + '\\n\\n\\n\\n' + str.substring(0);\n\t\tpieceTable.delete(3, 1);\n\t\tstr = str.substring(0, 3) + str.substring(3 + 1);\n\t\tpieceTable.insert(0, '\\n\\r\\r\\n');\n\t\tstr = str.substring(0, 0) + '\\n\\r\\r\\n' + str.substring(0);\n\t\tpieceTable.insert(4, '\\n\\r\\r\\n');\n\t\tstr = str.substring(0, 4) + '\\n\\r\\r\\n' + str.substring(4);\n\t\tpieceTable.delete(4, 3);\n\t\tstr = str.substring(0, 4) + str.substring(4 + 3);\n\t\tpieceTable.insert(5, '\\r\\r\\n\\r');\n\t\tstr = str.substring(0, 5) + '\\r\\r\\n\\r' + str.substring(5);\n\t\tpieceTable.insert(12, '\\n\\n\\n\\r');\n\t\tstr = str.substring(0, 12) + '\\n\\n\\n\\r' + str.substring(12);\n\t\tpieceTable.insert(5, '\\r\\r\\r\\n');\n\t\tstr = str.substring(0, 5) + '\\r\\r\\r\\n' + str.substring(5);\n\t\tpieceTable.insert(20, '\\n\\n\\r\\n');\n\t\tstr = str.substring(0, 20) + '\\n\\n\\r\\n' + str.substring(20);\n\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\ttest('random bug 6', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer([''], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(0, '\\n\\r\\r\\n');\n\t\tstr = str.substring(0, 0) + '\\n\\r\\r\\n' + str.substring(0);\n\t\tpieceTable.insert(4, '\\r\\n\\n\\r');\n\t\tstr = str.substring(0, 4) + '\\r\\n\\n\\r' + str.substring(4);\n\t\tpieceTable.insert(3, '\\r\\n\\n\\n');\n\t\tstr = str.substring(0, 3) + '\\r\\n\\n\\n' + str.substring(3);\n\t\tpieceTable.delete(4, 8);\n\t\tstr = str.substring(0, 4) + str.substring(4 + 8);\n\t\tpieceTable.insert(4, '\\r\\n\\n\\r');\n\t\tstr = str.substring(0, 4) + '\\r\\n\\n\\r' + str.substring(4);\n\t\tpieceTable.insert(0, '\\r\\n\\n\\r');\n\t\tstr = str.substring(0, 0) + '\\r\\n\\n\\r' + str.substring(0);\n\t\tpieceTable.delete(4, 0);\n\t\tstr = str.substring(0, 4) + str.substring(4 + 0);\n\t\tpieceTable.delete(8, 4);\n\t\tstr = str.substring(0, 8) + str.substring(8 + 4);\n\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\ttest('random bug 8', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer([''], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(0, '\\r\\n\\n\\r');\n\t\tstr = str.substring(0, 0) + '\\r\\n\\n\\r' + str.substring(0);\n\t\tpieceTable.delete(1, 0);\n\t\tstr = str.substring(0, 1) + str.substring(1 + 0);\n\t\tpieceTable.insert(3, '\\n\\n\\n\\r');\n\t\tstr = str.substring(0, 3) + '\\n\\n\\n\\r' + str.substring(3);\n\t\tpieceTable.insert(7, '\\n\\n\\r\\n');\n\t\tstr = str.substring(0, 7) + '\\n\\n\\r\\n' + str.substring(7);\n\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\ttest('random bug 7', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer([''], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(0, '\\r\\r\\n\\n');\n\t\tstr = str.substring(0, 0) + '\\r\\r\\n\\n' + str.substring(0);\n\t\tpieceTable.insert(4, '\\r\\n\\n\\r');\n\t\tstr = str.substring(0, 4) + '\\r\\n\\n\\r' + str.substring(4);\n\t\tpieceTable.insert(7, '\\n\\r\\r\\r');\n\t\tstr = str.substring(0, 7) + '\\n\\r\\r\\r' + str.substring(7);\n\t\tpieceTable.insert(11, '\\n\\n\\r\\n');\n\t\tstr = str.substring(0, 11) + '\\n\\n\\r\\n' + str.substring(11);\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random bug 10', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer([''], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(0, 'qneW');\n\t\tstr = str.substring(0, 0) + 'qneW' + str.substring(0);\n\t\tpieceTable.insert(0, 'YhIl');\n\t\tstr = str.substring(0, 0) + 'YhIl' + str.substring(0);\n\t\tpieceTable.insert(0, 'qdsm');\n\t\tstr = str.substring(0, 0) + 'qdsm' + str.substring(0);\n\t\tpieceTable.delete(7, 0);\n\t\tstr = str.substring(0, 7) + str.substring(7 + 0);\n\t\tpieceTable.insert(12, 'iiPv');\n\t\tstr = str.substring(0, 12) + 'iiPv' + str.substring(12);\n\t\tpieceTable.insert(9, 'V\\rSA');\n\t\tstr = str.substring(0, 9) + 'V\\rSA' + str.substring(9);\n\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random bug 9', () => {\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer([''], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(0, '\\n\\n\\n\\n');\n\t\tstr = str.substring(0, 0) + '\\n\\n\\n\\n' + str.substring(0);\n\t\tpieceTable.insert(3, '\\n\\r\\n\\r');\n\t\tstr = str.substring(0, 3) + '\\n\\r\\n\\r' + str.substring(3);\n\t\tpieceTable.insert(2, '\\n\\r\\n\\n');\n\t\tstr = str.substring(0, 2) + '\\n\\r\\n\\n' + str.substring(2);\n\t\tpieceTable.insert(0, '\\n\\n\\r\\r');\n\t\tstr = str.substring(0, 0) + '\\n\\n\\r\\r' + str.substring(0);\n\t\tpieceTable.insert(3, '\\r\\r\\r\\r');\n\t\tstr = str.substring(0, 3) + '\\r\\r\\r\\r' + str.substring(3);\n\t\tpieceTable.insert(3, '\\n\\n\\r\\r');\n\t\tstr = str.substring(0, 3) + '\\n\\n\\r\\r' + str.substring(3);\n\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n});\n\nsuite('centralized lineStarts with CRLF', () => {\n\tconst ds = ensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('delete CR in CRLF 1', () => {\n\t\tconst pieceTree = createTextBuffer(['a\\r\\nb'], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.delete(2, 2);\n\t\tassert.strictEqual(pieceTable.getLineCount(), 2);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\ttest('delete CR in CRLF 2', () => {\n\t\tconst pieceTree = createTextBuffer(['a\\r\\nb']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.delete(0, 2);\n\n\t\tassert.strictEqual(pieceTable.getLineCount(), 2);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random bug 1', () => {\n\t\tlet str = '\\n\\n\\r\\r';\n\t\tconst pieceTree = createTextBuffer(['\\n\\n\\r\\r'], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(1, '\\r\\n\\r\\n');\n\t\tstr = str.substring(0, 1) + '\\r\\n\\r\\n' + str.substring(1);\n\t\tpieceTable.delete(5, 3);\n\t\tstr = str.substring(0, 5) + str.substring(5 + 3);\n\t\tpieceTable.delete(2, 3);\n\t\tstr = str.substring(0, 2) + str.substring(2 + 3);\n\n\t\tconst lines = splitLines(str);\n\t\tassert.strictEqual(pieceTable.getLineCount(), lines.length);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\ttest('random bug 2', () => {\n\t\tlet str = '\\n\\r\\n\\r';\n\t\tconst pieceTree = createTextBuffer(['\\n\\r\\n\\r'], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(2, '\\n\\r\\r\\r');\n\t\tstr = str.substring(0, 2) + '\\n\\r\\r\\r' + str.substring(2);\n\t\tpieceTable.delete(4, 1);\n\t\tstr = str.substring(0, 4) + str.substring(4 + 1);\n\n\t\tconst lines = splitLines(str);\n\t\tassert.strictEqual(pieceTable.getLineCount(), lines.length);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random bug 3', () => {\n\t\tlet str = '\\n\\n\\n\\r';\n\t\tconst pieceTree = createTextBuffer(['\\n\\n\\n\\r'], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.delete(2, 2);\n\t\tstr = str.substring(0, 2) + str.substring(2 + 2);\n\t\tpieceTable.delete(0, 2);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 2);\n\t\tpieceTable.insert(0, '\\r\\r\\r\\r');\n\t\tstr = str.substring(0, 0) + '\\r\\r\\r\\r' + str.substring(0);\n\t\tpieceTable.insert(2, '\\r\\n\\r\\r');\n\t\tstr = str.substring(0, 2) + '\\r\\n\\r\\r' + str.substring(2);\n\t\tpieceTable.insert(3, '\\r\\r\\r\\n');\n\t\tstr = str.substring(0, 3) + '\\r\\r\\r\\n' + str.substring(3);\n\n\t\tconst lines = splitLines(str);\n\t\tassert.strictEqual(pieceTable.getLineCount(), lines.length);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random bug 4', () => {\n\t\tlet str = '\\n\\n\\n\\n';\n\t\tconst pieceTree = createTextBuffer(['\\n\\n\\n\\n'], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.delete(3, 1);\n\t\tstr = str.substring(0, 3) + str.substring(3 + 1);\n\t\tpieceTable.insert(1, '\\r\\r\\r\\r');\n\t\tstr = str.substring(0, 1) + '\\r\\r\\r\\r' + str.substring(1);\n\t\tpieceTable.insert(6, '\\r\\n\\n\\r');\n\t\tstr = str.substring(0, 6) + '\\r\\n\\n\\r' + str.substring(6);\n\t\tpieceTable.delete(5, 3);\n\t\tstr = str.substring(0, 5) + str.substring(5 + 3);\n\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random bug 5', () => {\n\t\tlet str = '\\n\\n\\n\\n';\n\t\tconst pieceTree = createTextBuffer(['\\n\\n\\n\\n'], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.delete(3, 1);\n\t\tstr = str.substring(0, 3) + str.substring(3 + 1);\n\t\tpieceTable.insert(0, '\\n\\r\\r\\n');\n\t\tstr = str.substring(0, 0) + '\\n\\r\\r\\n' + str.substring(0);\n\t\tpieceTable.insert(4, '\\n\\r\\r\\n');\n\t\tstr = str.substring(0, 4) + '\\n\\r\\r\\n' + str.substring(4);\n\t\tpieceTable.delete(4, 3);\n\t\tstr = str.substring(0, 4) + str.substring(4 + 3);\n\t\tpieceTable.insert(5, '\\r\\r\\n\\r');\n\t\tstr = str.substring(0, 5) + '\\r\\r\\n\\r' + str.substring(5);\n\t\tpieceTable.insert(12, '\\n\\n\\n\\r');\n\t\tstr = str.substring(0, 12) + '\\n\\n\\n\\r' + str.substring(12);\n\t\tpieceTable.insert(5, '\\r\\r\\r\\n');\n\t\tstr = str.substring(0, 5) + '\\r\\r\\r\\n' + str.substring(5);\n\t\tpieceTable.insert(20, '\\n\\n\\r\\n');\n\t\tstr = str.substring(0, 20) + '\\n\\n\\r\\n' + str.substring(20);\n\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random bug 6', () => {\n\t\tlet str = '\\n\\r\\r\\n';\n\t\tconst pieceTree = createTextBuffer(['\\n\\r\\r\\n'], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(4, '\\r\\n\\n\\r');\n\t\tstr = str.substring(0, 4) + '\\r\\n\\n\\r' + str.substring(4);\n\t\tpieceTable.insert(3, '\\r\\n\\n\\n');\n\t\tstr = str.substring(0, 3) + '\\r\\n\\n\\n' + str.substring(3);\n\t\tpieceTable.delete(4, 8);\n\t\tstr = str.substring(0, 4) + str.substring(4 + 8);\n\t\tpieceTable.insert(4, '\\r\\n\\n\\r');\n\t\tstr = str.substring(0, 4) + '\\r\\n\\n\\r' + str.substring(4);\n\t\tpieceTable.insert(0, '\\r\\n\\n\\r');\n\t\tstr = str.substring(0, 0) + '\\r\\n\\n\\r' + str.substring(0);\n\t\tpieceTable.delete(4, 0);\n\t\tstr = str.substring(0, 4) + str.substring(4 + 0);\n\t\tpieceTable.delete(8, 4);\n\t\tstr = str.substring(0, 8) + str.substring(8 + 4);\n\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random bug 7', () => {\n\t\tlet str = '\\r\\n\\n\\r';\n\t\tconst pieceTree = createTextBuffer(['\\r\\n\\n\\r'], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.delete(1, 0);\n\t\tstr = str.substring(0, 1) + str.substring(1 + 0);\n\t\tpieceTable.insert(3, '\\n\\n\\n\\r');\n\t\tstr = str.substring(0, 3) + '\\n\\n\\n\\r' + str.substring(3);\n\t\tpieceTable.insert(7, '\\n\\n\\r\\n');\n\t\tstr = str.substring(0, 7) + '\\n\\n\\r\\n' + str.substring(7);\n\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random bug 8', () => {\n\t\tlet str = '\\r\\r\\n\\n';\n\t\tconst pieceTree = createTextBuffer(['\\r\\r\\n\\n'], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(4, '\\r\\n\\n\\r');\n\t\tstr = str.substring(0, 4) + '\\r\\n\\n\\r' + str.substring(4);\n\t\tpieceTable.insert(7, '\\n\\r\\r\\r');\n\t\tstr = str.substring(0, 7) + '\\n\\r\\r\\r' + str.substring(7);\n\t\tpieceTable.insert(11, '\\n\\n\\r\\n');\n\t\tstr = str.substring(0, 11) + '\\n\\n\\r\\n' + str.substring(11);\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random bug 9', () => {\n\t\tlet str = 'qneW';\n\t\tconst pieceTree = createTextBuffer(['qneW'], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(0, 'YhIl');\n\t\tstr = str.substring(0, 0) + 'YhIl' + str.substring(0);\n\t\tpieceTable.insert(0, 'qdsm');\n\t\tstr = str.substring(0, 0) + 'qdsm' + str.substring(0);\n\t\tpieceTable.delete(7, 0);\n\t\tstr = str.substring(0, 7) + str.substring(7 + 0);\n\t\tpieceTable.insert(12, 'iiPv');\n\t\tstr = str.substring(0, 12) + 'iiPv' + str.substring(12);\n\t\tpieceTable.insert(9, 'V\\rSA');\n\t\tstr = str.substring(0, 9) + 'V\\rSA' + str.substring(9);\n\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random bug 10', () => {\n\t\tlet str = '\\n\\n\\n\\n';\n\t\tconst pieceTree = createTextBuffer(['\\n\\n\\n\\n'], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.insert(3, '\\n\\r\\n\\r');\n\t\tstr = str.substring(0, 3) + '\\n\\r\\n\\r' + str.substring(3);\n\t\tpieceTable.insert(2, '\\n\\r\\n\\n');\n\t\tstr = str.substring(0, 2) + '\\n\\r\\n\\n' + str.substring(2);\n\t\tpieceTable.insert(0, '\\n\\n\\r\\r');\n\t\tstr = str.substring(0, 0) + '\\n\\n\\r\\r' + str.substring(0);\n\t\tpieceTable.insert(3, '\\r\\r\\r\\r');\n\t\tstr = str.substring(0, 3) + '\\r\\r\\r\\r' + str.substring(3);\n\t\tpieceTable.insert(3, '\\n\\n\\r\\r');\n\t\tstr = str.substring(0, 3) + '\\n\\n\\r\\r' + str.substring(3);\n\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random chunk bug 1', () => {\n\t\tconst pieceTree = createTextBuffer(['\\n\\r\\r\\n\\n\\n\\r\\n\\r'], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tlet str = '\\n\\r\\r\\n\\n\\n\\r\\n\\r';\n\t\tpieceTable.delete(0, 2);\n\t\tstr = str.substring(0, 0) + str.substring(0 + 2);\n\t\tpieceTable.insert(1, '\\r\\r\\n\\n');\n\t\tstr = str.substring(0, 1) + '\\r\\r\\n\\n' + str.substring(1);\n\t\tpieceTable.insert(7, '\\r\\r\\r\\r');\n\t\tstr = str.substring(0, 7) + '\\r\\r\\r\\r' + str.substring(7);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\ttestLineStarts(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random chunk bug 2', () => {\n\t\tconst pieceTree = createTextBuffer([\n\t\t\t'\\n\\r\\n\\n\\n\\r\\n\\r\\n\\r\\r\\n\\n\\n\\r\\r\\n\\r\\n'\n\t\t], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tlet str = '\\n\\r\\n\\n\\n\\r\\n\\r\\n\\r\\r\\n\\n\\n\\r\\r\\n\\r\\n';\n\t\tpieceTable.insert(16, '\\r\\n\\r\\r');\n\t\tstr = str.substring(0, 16) + '\\r\\n\\r\\r' + str.substring(16);\n\t\tpieceTable.insert(13, '\\n\\n\\r\\r');\n\t\tstr = str.substring(0, 13) + '\\n\\n\\r\\r' + str.substring(13);\n\t\tpieceTable.insert(19, '\\n\\n\\r\\n');\n\t\tstr = str.substring(0, 19) + '\\n\\n\\r\\n' + str.substring(19);\n\t\tpieceTable.delete(5, 0);\n\t\tstr = str.substring(0, 5) + str.substring(5 + 0);\n\t\tpieceTable.delete(11, 2);\n\t\tstr = str.substring(0, 11) + str.substring(11 + 2);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\ttestLineStarts(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random chunk bug 3', () => {\n\t\tconst pieceTree = createTextBuffer(['\\r\\n\\n\\n\\n\\n\\n\\r\\n'], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tlet str = '\\r\\n\\n\\n\\n\\n\\n\\r\\n';\n\t\tpieceTable.insert(4, '\\n\\n\\r\\n\\r\\r\\n\\n\\r');\n\t\tstr = str.substring(0, 4) + '\\n\\n\\r\\n\\r\\r\\n\\n\\r' + str.substring(4);\n\t\tpieceTable.delete(4, 4);\n\t\tstr = str.substring(0, 4) + str.substring(4 + 4);\n\t\tpieceTable.insert(11, '\\r\\n\\r\\n\\n\\r\\r\\n\\n');\n\t\tstr = str.substring(0, 11) + '\\r\\n\\r\\n\\n\\r\\r\\n\\n' + str.substring(11);\n\t\tpieceTable.delete(1, 2);\n\t\tstr = str.substring(0, 1) + str.substring(1 + 2);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\ttestLineStarts(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random chunk bug 4', () => {\n\t\tconst pieceTree = createTextBuffer(['\\n\\r\\n\\r'], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tlet str = '\\n\\r\\n\\r';\n\t\tpieceTable.insert(4, '\\n\\n\\r\\n');\n\t\tstr = str.substring(0, 4) + '\\n\\n\\r\\n' + str.substring(4);\n\t\tpieceTable.insert(3, '\\r\\n\\n\\n');\n\t\tstr = str.substring(0, 3) + '\\r\\n\\n\\n' + str.substring(3);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\ttestLineStarts(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n});\n\nsuite('random is unsupervised', () => {\n\tconst ds = ensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('splitting large change buffer', function () {\n\t\tconst pieceTree = createTextBuffer([''], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tlet str = '';\n\n\t\tpieceTable.insert(0, 'WUZ\\nXVZY\\n');\n\t\tstr = str.substring(0, 0) + 'WUZ\\nXVZY\\n' + str.substring(0);\n\t\tpieceTable.insert(8, '\\r\\r\\nZXUWVW');\n\t\tstr = str.substring(0, 8) + '\\r\\r\\nZXUWVW' + str.substring(8);\n\t\tpieceTable.delete(10, 7);\n\t\tstr = str.substring(0, 10) + str.substring(10 + 7);\n\t\tpieceTable.delete(10, 1);\n\t\tstr = str.substring(0, 10) + str.substring(10 + 1);\n\t\tpieceTable.insert(4, 'VX\\r\\r\\nWZVZ');\n\t\tstr = str.substring(0, 4) + 'VX\\r\\r\\nWZVZ' + str.substring(4);\n\t\tpieceTable.delete(11, 3);\n\t\tstr = str.substring(0, 11) + str.substring(11 + 3);\n\t\tpieceTable.delete(12, 4);\n\t\tstr = str.substring(0, 12) + str.substring(12 + 4);\n\t\tpieceTable.delete(8, 0);\n\t\tstr = str.substring(0, 8) + str.substring(8 + 0);\n\t\tpieceTable.delete(10, 2);\n\t\tstr = str.substring(0, 10) + str.substring(10 + 2);\n\t\tpieceTable.insert(0, 'VZXXZYZX\\r');\n\t\tstr = str.substring(0, 0) + 'VZXXZYZX\\r' + str.substring(0);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\n\t\ttestLineStarts(str, pieceTable);\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random insert delete', function () {\n\t\tthis.timeout(500000);\n\t\tlet str = '';\n\t\tconst pieceTree = createTextBuffer([str], false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\t// let output = '';\n\t\tfor (let i = 0; i < 1000; i++) {\n\t\t\tif (Math.random() < 0.6) {\n\t\t\t\t// insert\n\t\t\t\tconst text = randomStr(100);\n\t\t\t\tconst pos = randomInt(str.length + 1);\n\t\t\t\tpieceTable.insert(pos, text);\n\t\t\t\tstr = str.substring(0, pos) + text + str.substring(pos);\n\t\t\t\t// output += `pieceTable.insert(${pos}, '${text.replace(/\\n/g, '\\\\n').replace(/\\r/g, '\\\\r')}');\\n`;\n\t\t\t\t// output += `str = str.substring(0, ${pos}) + '${text.replace(/\\n/g, '\\\\n').replace(/\\r/g, '\\\\r')}' + str.substring(${pos});\\n`;\n\t\t\t} else {\n\t\t\t\t// delete\n\t\t\t\tconst pos = randomInt(str.length);\n\t\t\t\tconst length = Math.min(\n\t\t\t\t\tstr.length - pos,\n\t\t\t\t\tMath.floor(Math.random() * 10)\n\t\t\t\t);\n\t\t\t\tpieceTable.delete(pos, length);\n\t\t\t\tstr = str.substring(0, pos) + str.substring(pos + length);\n\t\t\t\t// output += `pieceTable.delete(${pos}, ${length});\\n`;\n\t\t\t\t// output += `str = str.substring(0, ${pos}) + str.substring(${pos} + ${length});\\n`\n\n\t\t\t}\n\t\t}\n\t\t// console.log(output);\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\n\t\ttestLineStarts(str, pieceTable);\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random chunks', function () {\n\t\tthis.timeout(500000);\n\t\tconst chunks: string[] = [];\n\t\tfor (let i = 0; i < 5; i++) {\n\t\t\tchunks.push(randomStr(1000));\n\t\t}\n\n\t\tconst pieceTree = createTextBuffer(chunks, false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tlet str = chunks.join('');\n\n\t\tfor (let i = 0; i < 1000; i++) {\n\t\t\tif (Math.random() < 0.6) {\n\t\t\t\t// insert\n\t\t\t\tconst text = randomStr(100);\n\t\t\t\tconst pos = randomInt(str.length + 1);\n\t\t\t\tpieceTable.insert(pos, text);\n\t\t\t\tstr = str.substring(0, pos) + text + str.substring(pos);\n\t\t\t} else {\n\t\t\t\t// delete\n\t\t\t\tconst pos = randomInt(str.length);\n\t\t\t\tconst length = Math.min(\n\t\t\t\t\tstr.length - pos,\n\t\t\t\t\tMath.floor(Math.random() * 10)\n\t\t\t\t);\n\t\t\t\tpieceTable.delete(pos, length);\n\t\t\t\tstr = str.substring(0, pos) + str.substring(pos + length);\n\t\t\t}\n\t\t}\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\ttestLineStarts(str, pieceTable);\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('random chunks 2', function () {\n\t\tthis.timeout(500000);\n\t\tconst chunks: string[] = [];\n\t\tchunks.push(randomStr(1000));\n\n\t\tconst pieceTree = createTextBuffer(chunks, false);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tlet str = chunks.join('');\n\n\t\tfor (let i = 0; i < 50; i++) {\n\t\t\tif (Math.random() < 0.6) {\n\t\t\t\t// insert\n\t\t\t\tconst text = randomStr(30);\n\t\t\t\tconst pos = randomInt(str.length + 1);\n\t\t\t\tpieceTable.insert(pos, text);\n\t\t\t\tstr = str.substring(0, pos) + text + str.substring(pos);\n\t\t\t} else {\n\t\t\t\t// delete\n\t\t\t\tconst pos = randomInt(str.length);\n\t\t\t\tconst length = Math.min(\n\t\t\t\t\tstr.length - pos,\n\t\t\t\t\tMath.floor(Math.random() * 10)\n\t\t\t\t);\n\t\t\t\tpieceTable.delete(pos, length);\n\t\t\t\tstr = str.substring(0, pos) + str.substring(pos + length);\n\t\t\t}\n\t\t\ttestLinesContent(str, pieceTable);\n\t\t}\n\n\t\tassert.strictEqual(pieceTable.getLinesRawContent(), str);\n\t\ttestLineStarts(str, pieceTable);\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n});\n\nsuite('buffer api', () => {\n\tconst ds = ensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('equal', () => {\n\t\tconst a = createTextBuffer(['abc']);\n\t\tconst b = createTextBuffer(['ab', 'c']);\n\t\tconst c = createTextBuffer(['abd']);\n\t\tconst d = createTextBuffer(['abcd']);\n\t\tds.add(a);\n\t\tds.add(b);\n\t\tds.add(c);\n\t\tds.add(d);\n\n\t\tassert(a.getPieceTree().equal(b.getPieceTree()));\n\t\tassert(!a.getPieceTree().equal(c.getPieceTree()));\n\t\tassert(!a.getPieceTree().equal(d.getPieceTree()));\n\t});\n\n\ttest('equal with more chunks', () => {\n\t\tconst a = createTextBuffer(['ab', 'cd', 'e']);\n\t\tconst b = createTextBuffer(['ab', 'c', 'de']);\n\t\tds.add(a);\n\t\tds.add(b);\n\t\tassert(a.getPieceTree().equal(b.getPieceTree()));\n\t});\n\n\ttest('equal 2, empty buffer', () => {\n\t\tconst a = createTextBuffer(['']);\n\t\tconst b = createTextBuffer(['']);\n\t\tds.add(a);\n\t\tds.add(b);\n\n\t\tassert(a.getPieceTree().equal(b.getPieceTree()));\n\t});\n\n\ttest('equal 3, empty buffer', () => {\n\t\tconst a = createTextBuffer(['a']);\n\t\tconst b = createTextBuffer(['']);\n\t\tds.add(a);\n\t\tds.add(b);\n\n\t\tassert(!a.getPieceTree().equal(b.getPieceTree()));\n\t});\n\n\ttest('getLineCharCode - issue #45735', () => {\n\t\tconst pieceTree = createTextBuffer(['LINE1\\nline2']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tassert.strictEqual(pieceTable.getLineCharCode(1, 0), 'L'.charCodeAt(0), 'L');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(1, 1), 'I'.charCodeAt(0), 'I');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(1, 2), 'N'.charCodeAt(0), 'N');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(1, 3), 'E'.charCodeAt(0), 'E');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(1, 4), '1'.charCodeAt(0), '1');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(1, 5), '\\n'.charCodeAt(0), '\\\\n');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(2, 0), 'l'.charCodeAt(0), 'l');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(2, 1), 'i'.charCodeAt(0), 'i');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(2, 2), 'n'.charCodeAt(0), 'n');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(2, 3), 'e'.charCodeAt(0), 'e');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(2, 4), '2'.charCodeAt(0), '2');\n\t});\n\n\n\ttest('getLineCharCode - issue #47733', () => {\n\t\tconst pieceTree = createTextBuffer(['', 'LINE1\\n', 'line2']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tassert.strictEqual(pieceTable.getLineCharCode(1, 0), 'L'.charCodeAt(0), 'L');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(1, 1), 'I'.charCodeAt(0), 'I');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(1, 2), 'N'.charCodeAt(0), 'N');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(1, 3), 'E'.charCodeAt(0), 'E');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(1, 4), '1'.charCodeAt(0), '1');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(1, 5), '\\n'.charCodeAt(0), '\\\\n');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(2, 0), 'l'.charCodeAt(0), 'l');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(2, 1), 'i'.charCodeAt(0), 'i');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(2, 2), 'n'.charCodeAt(0), 'n');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(2, 3), 'e'.charCodeAt(0), 'e');\n\t\tassert.strictEqual(pieceTable.getLineCharCode(2, 4), '2'.charCodeAt(0), '2');\n\t});\n\n\ttest('getNearestChunk', () => {\n\t\tconst pieceTree = createTextBuffer(['012345678']);\n\t\tds.add(pieceTree);\n\t\tconst pt = pieceTree.getPieceTree();\n\n\t\tpt.insert(3, 'ABC');\n\t\tassert.equal(pt.getLineContent(1), '012ABC345678');\n\t\tassert.equal(pt.getNearestChunk(3), 'ABC');\n\t\tassert.equal(pt.getNearestChunk(6), '345678');\n\n\t\tpt.delete(9, 1);\n\t\tassert.equal(pt.getLineContent(1), '012ABC34578');\n\t\tassert.equal(pt.getNearestChunk(6), '345');\n\t\tassert.equal(pt.getNearestChunk(9), '78');\n\t});\n});\n\nsuite('search offset cache', () => {\n\tconst ds = ensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('render white space exception', () => {\n\t\tconst pieceTree = createTextBuffer(['class Name{\\n\\t\\n\\t\\t\\tget() {\\n\\n\\t\\t\\t}\\n\\t\\t}']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tlet str = 'class Name{\\n\\t\\n\\t\\t\\tget() {\\n\\n\\t\\t\\t}\\n\\t\\t}';\n\n\t\tpieceTable.insert(12, 's');\n\t\tstr = str.substring(0, 12) + 's' + str.substring(12);\n\n\t\tpieceTable.insert(13, 'e');\n\t\tstr = str.substring(0, 13) + 'e' + str.substring(13);\n\n\t\tpieceTable.insert(14, 't');\n\t\tstr = str.substring(0, 14) + 't' + str.substring(14);\n\n\t\tpieceTable.insert(15, '()');\n\t\tstr = str.substring(0, 15) + '()' + str.substring(15);\n\n\t\tpieceTable.delete(16, 1);\n\t\tstr = str.substring(0, 16) + str.substring(16 + 1);\n\n\t\tpieceTable.insert(17, '()');\n\t\tstr = str.substring(0, 17) + '()' + str.substring(17);\n\n\t\tpieceTable.delete(18, 1);\n\t\tstr = str.substring(0, 18) + str.substring(18 + 1);\n\n\t\tpieceTable.insert(18, '}');\n\t\tstr = str.substring(0, 18) + '}' + str.substring(18);\n\n\t\tpieceTable.insert(12, '\\n');\n\t\tstr = str.substring(0, 12) + '\\n' + str.substring(12);\n\n\t\tpieceTable.delete(12, 1);\n\t\tstr = str.substring(0, 12) + str.substring(12 + 1);\n\n\t\tpieceTable.delete(18, 1);\n\t\tstr = str.substring(0, 18) + str.substring(18 + 1);\n\n\t\tpieceTable.insert(18, '}');\n\t\tstr = str.substring(0, 18) + '}' + str.substring(18);\n\n\t\tpieceTable.delete(17, 2);\n\t\tstr = str.substring(0, 17) + str.substring(17 + 2);\n\n\t\tpieceTable.delete(16, 1);\n\t\tstr = str.substring(0, 16) + str.substring(16 + 1);\n\n\t\tpieceTable.insert(16, ')');\n\t\tstr = str.substring(0, 16) + ')' + str.substring(16);\n\n\t\tpieceTable.delete(15, 2);\n\t\tstr = str.substring(0, 15) + str.substring(15 + 2);\n\n\t\tconst content = pieceTable.getLinesRawContent();\n\t\tassert(content === str);\n\t});\n\n\ttest('Line breaks replacement is not necessary when EOL is normalized', () => {\n\t\tconst pieceTree = createTextBuffer(['abc']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tlet str = 'abc';\n\n\t\tpieceTable.insert(3, 'def\\nabc');\n\t\tstr = str + 'def\\nabc';\n\n\t\ttestLineStarts(str, pieceTable);\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('Line breaks replacement is not necessary when EOL is normalized 2', () => {\n\t\tconst pieceTree = createTextBuffer(['abc\\n']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tlet str = 'abc\\n';\n\n\t\tpieceTable.insert(4, 'def\\nabc');\n\t\tstr = str + 'def\\nabc';\n\n\t\ttestLineStarts(str, pieceTable);\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('Line breaks replacement is not necessary when EOL is normalized 3', () => {\n\t\tconst pieceTree = createTextBuffer(['abc\\n']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tlet str = 'abc\\n';\n\n\t\tpieceTable.insert(2, 'def\\nabc');\n\t\tstr = str.substring(0, 2) + 'def\\nabc' + str.substring(2);\n\n\t\ttestLineStarts(str, pieceTable);\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n\ttest('Line breaks replacement is not necessary when EOL is normalized 4', () => {\n\t\tconst pieceTree = createTextBuffer(['abc\\n']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tlet str = 'abc\\n';\n\n\t\tpieceTable.insert(3, 'def\\nabc');\n\t\tstr = str.substring(0, 3) + 'def\\nabc' + str.substring(3);\n\n\t\ttestLineStarts(str, pieceTable);\n\t\ttestLinesContent(str, pieceTable);\n\t\tassertTreeInvariants(pieceTable);\n\t});\n\n});\n\nfunction getValueInSnapshot(snapshot: ITextSnapshot) {\n\tlet ret = '';\n\tlet tmp = snapshot.read();\n\n\twhile (tmp !== null) {\n\t\tret += tmp;\n\t\ttmp = snapshot.read();\n\t}\n\n\treturn ret;\n}\nsuite('snapshot', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('bug #45564, piece tree pieces should be immutable', () => {\n\t\tconst model = createTextModel('\\n');\n\t\tmodel.applyEdits([\n\t\t\t{\n\t\t\t\trange: new Range(2, 1, 2, 1),\n\t\t\t\ttext: '!'\n\t\t\t}\n\t\t]);\n\t\tconst snapshot = model.createSnapshot();\n\t\tconst snapshot1 = model.createSnapshot();\n\t\tassert.strictEqual(model.getLinesContent().join('\\n'), getValueInSnapshot(snapshot));\n\n\t\tmodel.applyEdits([\n\t\t\t{\n\t\t\t\trange: new Range(2, 1, 2, 2),\n\t\t\t\ttext: ''\n\t\t\t}\n\t\t]);\n\t\tmodel.applyEdits([\n\t\t\t{\n\t\t\t\trange: new Range(2, 1, 2, 1),\n\t\t\t\ttext: '!'\n\t\t\t}\n\t\t]);\n\n\t\tassert.strictEqual(model.getLinesContent().join('\\n'), getValueInSnapshot(snapshot1));\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('immutable snapshot 1', () => {\n\t\tconst model = createTextModel('abc\\ndef');\n\t\tconst snapshot = model.createSnapshot();\n\t\tmodel.applyEdits([\n\t\t\t{\n\t\t\t\trange: new Range(2, 1, 2, 4),\n\t\t\t\ttext: ''\n\t\t\t}\n\t\t]);\n\n\t\tmodel.applyEdits([\n\t\t\t{\n\t\t\t\trange: new Range(1, 1, 2, 1),\n\t\t\t\ttext: 'abc\\ndef'\n\t\t\t}\n\t\t]);\n\n\t\tassert.strictEqual(model.getLinesContent().join('\\n'), getValueInSnapshot(snapshot));\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('immutable snapshot 2', () => {\n\t\tconst model = createTextModel('abc\\ndef');\n\t\tconst snapshot = model.createSnapshot();\n\t\tmodel.applyEdits([\n\t\t\t{\n\t\t\t\trange: new Range(2, 1, 2, 1),\n\t\t\t\ttext: '!'\n\t\t\t}\n\t\t]);\n\n\t\tmodel.applyEdits([\n\t\t\t{\n\t\t\t\trange: new Range(2, 1, 2, 2),\n\t\t\t\ttext: ''\n\t\t\t}\n\t\t]);\n\n\t\tassert.strictEqual(model.getLinesContent().join('\\n'), getValueInSnapshot(snapshot));\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('immutable snapshot 3', () => {\n\t\tconst model = createTextModel('abc\\ndef');\n\t\tmodel.applyEdits([\n\t\t\t{\n\t\t\t\trange: new Range(2, 4, 2, 4),\n\t\t\t\ttext: '!'\n\t\t\t}\n\t\t]);\n\t\tconst snapshot = model.createSnapshot();\n\t\tmodel.applyEdits([\n\t\t\t{\n\t\t\t\trange: new Range(2, 5, 2, 5),\n\t\t\t\ttext: '!'\n\t\t\t}\n\t\t]);\n\n\t\tassert.notStrictEqual(model.getLinesContent().join('\\n'), getValueInSnapshot(snapshot));\n\n\t\tmodel.dispose();\n\t});\n});\n\nsuite('chunk based search', () => {\n\tconst ds = ensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('#45892. For some cases, the buffer is empty but we still try to search', () => {\n\t\tconst pieceTree = createTextBuffer(['']);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\t\tpieceTable.delete(0, 1);\n\t\tconst ret = pieceTree.findMatchesLineByLine(new Range(1, 1, 1, 1), new SearchData(/abc/, new WordCharacterClassifier(',./', []), 'abc'), true, 1000);\n\t\tassert.strictEqual(ret.length, 0);\n\t});\n\n\ttest('#45770. FindInNode should not cross node boundary.', () => {\n\t\tconst pieceTree = createTextBuffer([\n\t\t\t[\n\t\t\t\t'balabalababalabalababalabalaba',\n\t\t\t\t'balabalababalabalababalabalaba',\n\t\t\t\t'',\n\t\t\t\t'* [ ] task1',\n\t\t\t\t'* [x] task2 balabalaba',\n\t\t\t\t'* [ ] task 3'\n\t\t\t].join('\\n')\n\t\t]);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.delete(0, 62);\n\t\tpieceTable.delete(16, 1);\n\n\t\tpieceTable.insert(16, ' ');\n\t\tconst ret = pieceTable.findMatchesLineByLine(new Range(1, 1, 4, 13), new SearchData(/\\[/gi, new WordCharacterClassifier(',./', []), '['), true, 1000);\n\t\tassert.strictEqual(ret.length, 3);\n\n\t\tassert.deepStrictEqual(ret[0].range, new Range(2, 3, 2, 4));\n\t\tassert.deepStrictEqual(ret[1].range, new Range(3, 3, 3, 4));\n\t\tassert.deepStrictEqual(ret[2].range, new Range(4, 3, 4, 4));\n\t});\n\n\ttest('search searching from the middle', () => {\n\t\tconst pieceTree = createTextBuffer([\n\t\t\t[\n\t\t\t\t'def',\n\t\t\t\t'dbcabc'\n\t\t\t].join('\\n')\n\t\t]);\n\t\tds.add(pieceTree);\n\t\tconst pieceTable = pieceTree.getPieceTree();\n\n\t\tpieceTable.delete(4, 1);\n\t\tlet ret = pieceTable.findMatchesLineByLine(new Range(2, 3, 2, 6), new SearchData(/a/gi, null, 'a'), true, 1000);\n\t\tassert.strictEqual(ret.length, 1);\n\t\tassert.deepStrictEqual(ret[0].range, new Range(2, 3, 2, 4));\n\n\t\tpieceTable.delete(4, 1);\n\t\tret = pieceTable.findMatchesLineByLine(new Range(2, 2, 2, 5), new SearchData(/a/gi, null, 'a'), true, 1000);\n\t\tassert.strictEqual(ret.length, 1);\n\t\tassert.deepStrictEqual(ret[0].range, new Range(2, 2, 2, 3));\n\t});\n});\n"]}