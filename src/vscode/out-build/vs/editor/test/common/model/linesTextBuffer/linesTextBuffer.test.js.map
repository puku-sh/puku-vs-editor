{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/editor/test/common/model/linesTextBuffer/linesTextBuffer.test.ts","vs/editor/test/common/model/linesTextBuffer/linesTextBuffer.test.ts"],"names":[],"mappings":"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","file":"linesTextBuffer.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { DefaultEndOfLine } from '../../../../common/model.js';\nimport { IValidatedEditOperation, PieceTreeTextBuffer } from '../../../../common/model/pieceTreeTextBuffer/pieceTreeTextBuffer.js';\nimport { createTextBufferFactory } from '../../../../common/model/textModel.js';\n\nsuite('PieceTreeTextBuffer._getInverseEdits', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tfunction editOp(startLineNumber: number, startColumn: number, endLineNumber: number, endColumn: number, text: string[] | null): IValidatedEditOperation {\n\t\treturn {\n\t\t\tsortIndex: 0,\n\t\t\tidentifier: null,\n\t\t\trange: new Range(startLineNumber, startColumn, endLineNumber, endColumn),\n\t\t\trangeOffset: 0,\n\t\t\trangeLength: 0,\n\t\t\ttext: text ? text.join('\\n') : '',\n\t\t\teolCount: text ? text.length - 1 : 0,\n\t\t\tfirstLineLength: text ? text[0].length : 0,\n\t\t\tlastLineLength: text ? text[text.length - 1].length : 0,\n\t\t\tforceMoveMarkers: false,\n\t\t\tisAutoWhitespaceEdit: false\n\t\t};\n\t}\n\n\tfunction inverseEditOp(startLineNumber: number, startColumn: number, endLineNumber: number, endColumn: number): Range {\n\t\treturn new Range(startLineNumber, startColumn, endLineNumber, endColumn);\n\t}\n\n\tfunction assertInverseEdits(ops: IValidatedEditOperation[], expected: Range[]): void {\n\t\tconst actual = PieceTreeTextBuffer._getInverseEditRanges(ops);\n\t\tassert.deepStrictEqual(actual, expected);\n\t}\n\n\ttest('single insert', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, ['hello'])\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 6)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('Bug 19872: Undo is funky', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(2, 1, 2, 2, ['']),\n\t\t\t\teditOp(3, 1, 4, 2, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(2, 1, 2, 1),\n\t\t\t\tinverseEditOp(3, 1, 3, 1)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two single unrelated inserts', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, ['hello']),\n\t\t\t\teditOp(2, 1, 2, 1, ['world'])\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 6),\n\t\t\t\tinverseEditOp(2, 1, 2, 6)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two single inserts 1', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, ['hello']),\n\t\t\t\teditOp(1, 2, 1, 2, ['world'])\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 6),\n\t\t\t\tinverseEditOp(1, 7, 1, 12)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two single inserts 2', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, ['hello']),\n\t\t\t\teditOp(1, 4, 1, 4, ['world'])\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 6),\n\t\t\t\tinverseEditOp(1, 9, 1, 14)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('multiline insert', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, ['hello', 'world'])\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 2, 6)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two unrelated multiline inserts', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, ['hello', 'world']),\n\t\t\t\teditOp(2, 1, 2, 1, ['how', 'are', 'you?']),\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 2, 6),\n\t\t\t\tinverseEditOp(3, 1, 5, 5),\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two multiline inserts 1', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, ['hello', 'world']),\n\t\t\t\teditOp(1, 2, 1, 2, ['how', 'are', 'you?']),\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 2, 6),\n\t\t\t\tinverseEditOp(2, 7, 4, 5),\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('single delete', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 6, null)\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 1)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two single unrelated deletes', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 6, null),\n\t\t\t\teditOp(2, 1, 2, 6, null)\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 1),\n\t\t\t\tinverseEditOp(2, 1, 2, 1)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two single deletes 1', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 6, null),\n\t\t\t\teditOp(1, 7, 1, 12, null)\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 1),\n\t\t\t\tinverseEditOp(1, 2, 1, 2)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two single deletes 2', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 6, null),\n\t\t\t\teditOp(1, 9, 1, 14, null)\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 1),\n\t\t\t\tinverseEditOp(1, 4, 1, 4)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('multiline delete', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 2, 6, null)\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 1)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two unrelated multiline deletes', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 2, 6, null),\n\t\t\t\teditOp(3, 1, 5, 5, null),\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 1),\n\t\t\t\tinverseEditOp(2, 1, 2, 1),\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two multiline deletes 1', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 2, 6, null),\n\t\t\t\teditOp(2, 7, 4, 5, null),\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 1),\n\t\t\t\tinverseEditOp(1, 2, 1, 2),\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('single replace', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 6, ['Hello world'])\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 12)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two replaces', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 6, ['Hello world']),\n\t\t\t\teditOp(1, 7, 1, 8, ['How are you?']),\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 12),\n\t\t\t\tinverseEditOp(1, 13, 1, 25)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('many edits', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 2, 1, 2, ['', '  ']),\n\t\t\t\teditOp(1, 5, 1, 6, ['']),\n\t\t\t\teditOp(1, 9, 1, 9, ['', ''])\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 2, 2, 3),\n\t\t\t\tinverseEditOp(2, 6, 2, 6),\n\t\t\t\tinverseEditOp(2, 9, 3, 1)\n\t\t\t]\n\t\t);\n\t});\n});\n\nsuite('PieceTreeTextBuffer._toSingleEditOperation', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tfunction editOp(startLineNumber: number, startColumn: number, endLineNumber: number, endColumn: number, rangeOffset: number, rangeLength: number, text: string[] | null): IValidatedEditOperation {\n\t\treturn {\n\t\t\tsortIndex: 0,\n\t\t\tidentifier: null,\n\t\t\trange: new Range(startLineNumber, startColumn, endLineNumber, endColumn),\n\t\t\trangeOffset: rangeOffset,\n\t\t\trangeLength: rangeLength,\n\t\t\ttext: text ? text.join('\\n') : '',\n\t\t\teolCount: text ? text.length - 1 : 0,\n\t\t\tfirstLineLength: text ? text[0].length : 0,\n\t\t\tlastLineLength: text ? text[text.length - 1].length : 0,\n\t\t\tforceMoveMarkers: false,\n\t\t\tisAutoWhitespaceEdit: false\n\t\t};\n\t}\n\n\tfunction testToSingleEditOperation(original: string[], edits: IValidatedEditOperation[], expected: IValidatedEditOperation): void {\n\t\tconst { disposable, textBuffer } = createTextBufferFactory(original.join('\\n')).create(DefaultEndOfLine.LF);\n\n\t\tconst actual = (<PieceTreeTextBuffer>textBuffer)._toSingleEditOperation(edits);\n\t\tassert.deepStrictEqual(actual, expected);\n\t\tdisposable.dispose();\n\t}\n\n\ttest('one edit op is unchanged', () => {\n\t\ttestToSingleEditOperation(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 3, 1, 3, 2, 0, [' new line', 'No longer'])\n\t\t\t],\n\t\t\teditOp(1, 3, 1, 3, 2, 0, [' new line', 'No longer'])\n\t\t);\n\t});\n\n\ttest('two edits on one line', () => {\n\t\ttestToSingleEditOperation([\n\t\t\t'My First Line',\n\t\t\t'\\t\\tMy Second Line',\n\t\t\t'    Third Line',\n\t\t\t'',\n\t\t\t'1'\n\t\t], [\n\t\t\teditOp(1, 1, 1, 3, 0, 2, ['Your']),\n\t\t\teditOp(1, 4, 1, 4, 3, 0, ['Interesting ']),\n\t\t\teditOp(2, 3, 2, 6, 16, 3, null)\n\t\t],\n\t\t\teditOp(1, 1, 2, 6, 0, 19, [\n\t\t\t\t'Your Interesting First Line',\n\t\t\t\t'\\t\\t'\n\t\t\t]));\n\t});\n\n\ttest('insert multiple newlines', () => {\n\t\ttestToSingleEditOperation(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 3, 1, 3, 2, 0, ['', '', '', '', '']),\n\t\t\t\teditOp(3, 15, 3, 15, 45, 0, ['a', 'b'])\n\t\t\t],\n\t\t\teditOp(1, 3, 3, 15, 2, 43, [\n\t\t\t\t'',\n\t\t\t\t'',\n\t\t\t\t'',\n\t\t\t\t'',\n\t\t\t\t' First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Linea',\n\t\t\t\t'b'\n\t\t\t])\n\t\t);\n\t});\n\n\ttest('delete empty text', () => {\n\t\ttestToSingleEditOperation(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, 0, 0, [''])\n\t\t\t],\n\t\t\teditOp(1, 1, 1, 1, 0, 0, [''])\n\t\t);\n\t});\n\n\ttest('two unrelated edits', () => {\n\t\ttestToSingleEditOperation(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(2, 1, 2, 3, 14, 2, ['\\t']),\n\t\t\t\teditOp(3, 1, 3, 5, 31, 4, [''])\n\t\t\t],\n\t\t\teditOp(2, 1, 3, 5, 14, 21, ['\\tMy Second Line', ''])\n\t\t);\n\t});\n\n\ttest('many edits', () => {\n\t\ttestToSingleEditOperation(\n\t\t\t[\n\t\t\t\t'{\"x\" : 1}'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 2, 1, 2, 1, 0, ['\\n  ']),\n\t\t\t\teditOp(1, 5, 1, 6, 4, 1, ['']),\n\t\t\t\teditOp(1, 9, 1, 9, 8, 0, ['\\n'])\n\t\t\t],\n\t\t\teditOp(1, 2, 1, 9, 1, 7, [\n\t\t\t\t'',\n\t\t\t\t'  \"x\": 1',\n\t\t\t\t''\n\t\t\t])\n\t\t);\n\t});\n\n\ttest('many edits reversed', () => {\n\t\ttestToSingleEditOperation(\n\t\t\t[\n\t\t\t\t'{',\n\t\t\t\t'  \"x\": 1',\n\t\t\t\t'}'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 2, 2, 3, 1, 3, ['']),\n\t\t\t\teditOp(2, 6, 2, 6, 7, 0, [' ']),\n\t\t\t\teditOp(2, 9, 3, 1, 10, 1, [''])\n\t\t\t],\n\t\t\teditOp(1, 2, 3, 1, 1, 10, ['\"x\" : 1'])\n\t\t);\n\t});\n\n\ttest('replacing newlines 1', () => {\n\t\ttestToSingleEditOperation(\n\t\t\t[\n\t\t\t\t'{',\n\t\t\t\t'\"a\": true,',\n\t\t\t\t'',\n\t\t\t\t'\"b\": true',\n\t\t\t\t'}'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 2, 2, 1, 1, 1, ['', '\\t']),\n\t\t\t\teditOp(2, 11, 4, 1, 12, 2, ['', '\\t'])\n\t\t\t],\n\t\t\teditOp(1, 2, 4, 1, 1, 13, [\n\t\t\t\t'',\n\t\t\t\t'\\t\"a\": true,',\n\t\t\t\t'\\t'\n\t\t\t])\n\t\t);\n\t});\n\n\ttest('replacing newlines 2', () => {\n\t\ttestToSingleEditOperation(\n\t\t\t[\n\t\t\t\t'some text',\n\t\t\t\t'some more text',\n\t\t\t\t'now comes an empty line',\n\t\t\t\t'',\n\t\t\t\t'after empty line',\n\t\t\t\t'and the last line'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 5, 3, 1, 4, 21, [' text', 'some more text', 'some more text']),\n\t\t\t\teditOp(3, 2, 4, 1, 26, 23, ['o more lines', 'asd', 'asd', 'asd']),\n\t\t\t\teditOp(5, 1, 5, 6, 50, 5, ['zzzzzzzz']),\n\t\t\t\teditOp(5, 11, 6, 16, 60, 22, ['1', '2', '3', '4'])\n\t\t\t],\n\t\t\teditOp(1, 5, 6, 16, 4, 78, [\n\t\t\t\t' text',\n\t\t\t\t'some more text',\n\t\t\t\t'some more textno more lines',\n\t\t\t\t'asd',\n\t\t\t\t'asd',\n\t\t\t\t'asd',\n\t\t\t\t'zzzzzzzz empt1',\n\t\t\t\t'2',\n\t\t\t\t'3',\n\t\t\t\t'4'\n\t\t\t])\n\t\t);\n\t});\n\n\ttest('advanced', () => {\n\t\ttestToSingleEditOperation(\n\t\t\t[\n\t\t\t\t' {       \"d\": [',\n\t\t\t\t'             null',\n\t\t\t\t'        ] /*comment*/',\n\t\t\t\t'        ,\"e\": /*comment*/ [null] }',\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 2, 0, 1, ['']),\n\t\t\t\teditOp(1, 3, 1, 10, 2, 7, ['', '  ']),\n\t\t\t\teditOp(1, 16, 2, 14, 15, 14, ['', '    ']),\n\t\t\t\teditOp(2, 18, 3, 9, 33, 9, ['', '  ']),\n\t\t\t\teditOp(3, 22, 4, 9, 55, 9, ['']),\n\t\t\t\teditOp(4, 10, 4, 10, 65, 0, ['', '  ']),\n\t\t\t\teditOp(4, 28, 4, 28, 83, 0, ['', '    ']),\n\t\t\t\teditOp(4, 32, 4, 32, 87, 0, ['', '  ']),\n\t\t\t\teditOp(4, 33, 4, 34, 88, 1, ['', ''])\n\t\t\t],\n\t\t\teditOp(1, 1, 4, 34, 0, 89, [\n\t\t\t\t'{',\n\t\t\t\t'  \"d\": [',\n\t\t\t\t'    null',\n\t\t\t\t'  ] /*comment*/,',\n\t\t\t\t'  \"e\": /*comment*/ [',\n\t\t\t\t'    null',\n\t\t\t\t'  ]',\n\t\t\t\t''\n\t\t\t])\n\t\t);\n\t});\n\n\ttest('advanced simplified', () => {\n\t\ttestToSingleEditOperation(\n\t\t\t[\n\t\t\t\t'   abc',\n\t\t\t\t' ,def'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 4, 0, 3, ['']),\n\t\t\t\teditOp(1, 7, 2, 2, 6, 2, ['']),\n\t\t\t\teditOp(2, 3, 2, 3, 9, 0, ['', ''])\n\t\t\t],\n\t\t\teditOp(1, 1, 2, 3, 0, 9, [\n\t\t\t\t'abc,',\n\t\t\t\t''\n\t\t\t])\n\t\t);\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { DefaultEndOfLine } from '../../../../common/model.js';\nimport { IValidatedEditOperation, PieceTreeTextBuffer } from '../../../../common/model/pieceTreeTextBuffer/pieceTreeTextBuffer.js';\nimport { createTextBufferFactory } from '../../../../common/model/textModel.js';\n\nsuite('PieceTreeTextBuffer._getInverseEdits', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tfunction editOp(startLineNumber: number, startColumn: number, endLineNumber: number, endColumn: number, text: string[] | null): IValidatedEditOperation {\n\t\treturn {\n\t\t\tsortIndex: 0,\n\t\t\tidentifier: null,\n\t\t\trange: new Range(startLineNumber, startColumn, endLineNumber, endColumn),\n\t\t\trangeOffset: 0,\n\t\t\trangeLength: 0,\n\t\t\ttext: text ? text.join('\\n') : '',\n\t\t\teolCount: text ? text.length - 1 : 0,\n\t\t\tfirstLineLength: text ? text[0].length : 0,\n\t\t\tlastLineLength: text ? text[text.length - 1].length : 0,\n\t\t\tforceMoveMarkers: false,\n\t\t\tisAutoWhitespaceEdit: false\n\t\t};\n\t}\n\n\tfunction inverseEditOp(startLineNumber: number, startColumn: number, endLineNumber: number, endColumn: number): Range {\n\t\treturn new Range(startLineNumber, startColumn, endLineNumber, endColumn);\n\t}\n\n\tfunction assertInverseEdits(ops: IValidatedEditOperation[], expected: Range[]): void {\n\t\tconst actual = PieceTreeTextBuffer._getInverseEditRanges(ops);\n\t\tassert.deepStrictEqual(actual, expected);\n\t}\n\n\ttest('single insert', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, ['hello'])\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 6)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('Bug 19872: Undo is funky', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(2, 1, 2, 2, ['']),\n\t\t\t\teditOp(3, 1, 4, 2, [''])\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(2, 1, 2, 1),\n\t\t\t\tinverseEditOp(3, 1, 3, 1)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two single unrelated inserts', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, ['hello']),\n\t\t\t\teditOp(2, 1, 2, 1, ['world'])\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 6),\n\t\t\t\tinverseEditOp(2, 1, 2, 6)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two single inserts 1', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, ['hello']),\n\t\t\t\teditOp(1, 2, 1, 2, ['world'])\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 6),\n\t\t\t\tinverseEditOp(1, 7, 1, 12)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two single inserts 2', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, ['hello']),\n\t\t\t\teditOp(1, 4, 1, 4, ['world'])\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 6),\n\t\t\t\tinverseEditOp(1, 9, 1, 14)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('multiline insert', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, ['hello', 'world'])\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 2, 6)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two unrelated multiline inserts', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, ['hello', 'world']),\n\t\t\t\teditOp(2, 1, 2, 1, ['how', 'are', 'you?']),\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 2, 6),\n\t\t\t\tinverseEditOp(3, 1, 5, 5),\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two multiline inserts 1', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, ['hello', 'world']),\n\t\t\t\teditOp(1, 2, 1, 2, ['how', 'are', 'you?']),\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 2, 6),\n\t\t\t\tinverseEditOp(2, 7, 4, 5),\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('single delete', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 6, null)\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 1)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two single unrelated deletes', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 6, null),\n\t\t\t\teditOp(2, 1, 2, 6, null)\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 1),\n\t\t\t\tinverseEditOp(2, 1, 2, 1)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two single deletes 1', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 6, null),\n\t\t\t\teditOp(1, 7, 1, 12, null)\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 1),\n\t\t\t\tinverseEditOp(1, 2, 1, 2)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two single deletes 2', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 6, null),\n\t\t\t\teditOp(1, 9, 1, 14, null)\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 1),\n\t\t\t\tinverseEditOp(1, 4, 1, 4)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('multiline delete', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 2, 6, null)\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 1)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two unrelated multiline deletes', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 2, 6, null),\n\t\t\t\teditOp(3, 1, 5, 5, null),\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 1),\n\t\t\t\tinverseEditOp(2, 1, 2, 1),\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two multiline deletes 1', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 2, 6, null),\n\t\t\t\teditOp(2, 7, 4, 5, null),\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 1),\n\t\t\t\tinverseEditOp(1, 2, 1, 2),\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('single replace', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 6, ['Hello world'])\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 12)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('two replaces', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 6, ['Hello world']),\n\t\t\t\teditOp(1, 7, 1, 8, ['How are you?']),\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 1, 1, 12),\n\t\t\t\tinverseEditOp(1, 13, 1, 25)\n\t\t\t]\n\t\t);\n\t});\n\n\ttest('many edits', () => {\n\t\tassertInverseEdits(\n\t\t\t[\n\t\t\t\teditOp(1, 2, 1, 2, ['', '  ']),\n\t\t\t\teditOp(1, 5, 1, 6, ['']),\n\t\t\t\teditOp(1, 9, 1, 9, ['', ''])\n\t\t\t],\n\t\t\t[\n\t\t\t\tinverseEditOp(1, 2, 2, 3),\n\t\t\t\tinverseEditOp(2, 6, 2, 6),\n\t\t\t\tinverseEditOp(2, 9, 3, 1)\n\t\t\t]\n\t\t);\n\t});\n});\n\nsuite('PieceTreeTextBuffer._toSingleEditOperation', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tfunction editOp(startLineNumber: number, startColumn: number, endLineNumber: number, endColumn: number, rangeOffset: number, rangeLength: number, text: string[] | null): IValidatedEditOperation {\n\t\treturn {\n\t\t\tsortIndex: 0,\n\t\t\tidentifier: null,\n\t\t\trange: new Range(startLineNumber, startColumn, endLineNumber, endColumn),\n\t\t\trangeOffset: rangeOffset,\n\t\t\trangeLength: rangeLength,\n\t\t\ttext: text ? text.join('\\n') : '',\n\t\t\teolCount: text ? text.length - 1 : 0,\n\t\t\tfirstLineLength: text ? text[0].length : 0,\n\t\t\tlastLineLength: text ? text[text.length - 1].length : 0,\n\t\t\tforceMoveMarkers: false,\n\t\t\tisAutoWhitespaceEdit: false\n\t\t};\n\t}\n\n\tfunction testToSingleEditOperation(original: string[], edits: IValidatedEditOperation[], expected: IValidatedEditOperation): void {\n\t\tconst { disposable, textBuffer } = createTextBufferFactory(original.join('\\n')).create(DefaultEndOfLine.LF);\n\n\t\tconst actual = (<PieceTreeTextBuffer>textBuffer)._toSingleEditOperation(edits);\n\t\tassert.deepStrictEqual(actual, expected);\n\t\tdisposable.dispose();\n\t}\n\n\ttest('one edit op is unchanged', () => {\n\t\ttestToSingleEditOperation(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 3, 1, 3, 2, 0, [' new line', 'No longer'])\n\t\t\t],\n\t\t\teditOp(1, 3, 1, 3, 2, 0, [' new line', 'No longer'])\n\t\t);\n\t});\n\n\ttest('two edits on one line', () => {\n\t\ttestToSingleEditOperation([\n\t\t\t'My First Line',\n\t\t\t'\\t\\tMy Second Line',\n\t\t\t'    Third Line',\n\t\t\t'',\n\t\t\t'1'\n\t\t], [\n\t\t\teditOp(1, 1, 1, 3, 0, 2, ['Your']),\n\t\t\teditOp(1, 4, 1, 4, 3, 0, ['Interesting ']),\n\t\t\teditOp(2, 3, 2, 6, 16, 3, null)\n\t\t],\n\t\t\teditOp(1, 1, 2, 6, 0, 19, [\n\t\t\t\t'Your Interesting First Line',\n\t\t\t\t'\\t\\t'\n\t\t\t]));\n\t});\n\n\ttest('insert multiple newlines', () => {\n\t\ttestToSingleEditOperation(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 3, 1, 3, 2, 0, ['', '', '', '', '']),\n\t\t\t\teditOp(3, 15, 3, 15, 45, 0, ['a', 'b'])\n\t\t\t],\n\t\t\teditOp(1, 3, 3, 15, 2, 43, [\n\t\t\t\t'',\n\t\t\t\t'',\n\t\t\t\t'',\n\t\t\t\t'',\n\t\t\t\t' First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Linea',\n\t\t\t\t'b'\n\t\t\t])\n\t\t);\n\t});\n\n\ttest('delete empty text', () => {\n\t\ttestToSingleEditOperation(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 1, 0, 0, [''])\n\t\t\t],\n\t\t\teditOp(1, 1, 1, 1, 0, 0, [''])\n\t\t);\n\t});\n\n\ttest('two unrelated edits', () => {\n\t\ttestToSingleEditOperation(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(2, 1, 2, 3, 14, 2, ['\\t']),\n\t\t\t\teditOp(3, 1, 3, 5, 31, 4, [''])\n\t\t\t],\n\t\t\teditOp(2, 1, 3, 5, 14, 21, ['\\tMy Second Line', ''])\n\t\t);\n\t});\n\n\ttest('many edits', () => {\n\t\ttestToSingleEditOperation(\n\t\t\t[\n\t\t\t\t'{\"x\" : 1}'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 2, 1, 2, 1, 0, ['\\n  ']),\n\t\t\t\teditOp(1, 5, 1, 6, 4, 1, ['']),\n\t\t\t\teditOp(1, 9, 1, 9, 8, 0, ['\\n'])\n\t\t\t],\n\t\t\teditOp(1, 2, 1, 9, 1, 7, [\n\t\t\t\t'',\n\t\t\t\t'  \"x\": 1',\n\t\t\t\t''\n\t\t\t])\n\t\t);\n\t});\n\n\ttest('many edits reversed', () => {\n\t\ttestToSingleEditOperation(\n\t\t\t[\n\t\t\t\t'{',\n\t\t\t\t'  \"x\": 1',\n\t\t\t\t'}'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 2, 2, 3, 1, 3, ['']),\n\t\t\t\teditOp(2, 6, 2, 6, 7, 0, [' ']),\n\t\t\t\teditOp(2, 9, 3, 1, 10, 1, [''])\n\t\t\t],\n\t\t\teditOp(1, 2, 3, 1, 1, 10, ['\"x\" : 1'])\n\t\t);\n\t});\n\n\ttest('replacing newlines 1', () => {\n\t\ttestToSingleEditOperation(\n\t\t\t[\n\t\t\t\t'{',\n\t\t\t\t'\"a\": true,',\n\t\t\t\t'',\n\t\t\t\t'\"b\": true',\n\t\t\t\t'}'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 2, 2, 1, 1, 1, ['', '\\t']),\n\t\t\t\teditOp(2, 11, 4, 1, 12, 2, ['', '\\t'])\n\t\t\t],\n\t\t\teditOp(1, 2, 4, 1, 1, 13, [\n\t\t\t\t'',\n\t\t\t\t'\\t\"a\": true,',\n\t\t\t\t'\\t'\n\t\t\t])\n\t\t);\n\t});\n\n\ttest('replacing newlines 2', () => {\n\t\ttestToSingleEditOperation(\n\t\t\t[\n\t\t\t\t'some text',\n\t\t\t\t'some more text',\n\t\t\t\t'now comes an empty line',\n\t\t\t\t'',\n\t\t\t\t'after empty line',\n\t\t\t\t'and the last line'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 5, 3, 1, 4, 21, [' text', 'some more text', 'some more text']),\n\t\t\t\teditOp(3, 2, 4, 1, 26, 23, ['o more lines', 'asd', 'asd', 'asd']),\n\t\t\t\teditOp(5, 1, 5, 6, 50, 5, ['zzzzzzzz']),\n\t\t\t\teditOp(5, 11, 6, 16, 60, 22, ['1', '2', '3', '4'])\n\t\t\t],\n\t\t\teditOp(1, 5, 6, 16, 4, 78, [\n\t\t\t\t' text',\n\t\t\t\t'some more text',\n\t\t\t\t'some more textno more lines',\n\t\t\t\t'asd',\n\t\t\t\t'asd',\n\t\t\t\t'asd',\n\t\t\t\t'zzzzzzzz empt1',\n\t\t\t\t'2',\n\t\t\t\t'3',\n\t\t\t\t'4'\n\t\t\t])\n\t\t);\n\t});\n\n\ttest('advanced', () => {\n\t\ttestToSingleEditOperation(\n\t\t\t[\n\t\t\t\t' {       \"d\": [',\n\t\t\t\t'             null',\n\t\t\t\t'        ] /*comment*/',\n\t\t\t\t'        ,\"e\": /*comment*/ [null] }',\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 2, 0, 1, ['']),\n\t\t\t\teditOp(1, 3, 1, 10, 2, 7, ['', '  ']),\n\t\t\t\teditOp(1, 16, 2, 14, 15, 14, ['', '    ']),\n\t\t\t\teditOp(2, 18, 3, 9, 33, 9, ['', '  ']),\n\t\t\t\teditOp(3, 22, 4, 9, 55, 9, ['']),\n\t\t\t\teditOp(4, 10, 4, 10, 65, 0, ['', '  ']),\n\t\t\t\teditOp(4, 28, 4, 28, 83, 0, ['', '    ']),\n\t\t\t\teditOp(4, 32, 4, 32, 87, 0, ['', '  ']),\n\t\t\t\teditOp(4, 33, 4, 34, 88, 1, ['', ''])\n\t\t\t],\n\t\t\teditOp(1, 1, 4, 34, 0, 89, [\n\t\t\t\t'{',\n\t\t\t\t'  \"d\": [',\n\t\t\t\t'    null',\n\t\t\t\t'  ] /*comment*/,',\n\t\t\t\t'  \"e\": /*comment*/ [',\n\t\t\t\t'    null',\n\t\t\t\t'  ]',\n\t\t\t\t''\n\t\t\t])\n\t\t);\n\t});\n\n\ttest('advanced simplified', () => {\n\t\ttestToSingleEditOperation(\n\t\t\t[\n\t\t\t\t'   abc',\n\t\t\t\t' ,def'\n\t\t\t],\n\t\t\t[\n\t\t\t\teditOp(1, 1, 1, 4, 0, 3, ['']),\n\t\t\t\teditOp(1, 7, 2, 2, 6, 2, ['']),\n\t\t\t\teditOp(2, 3, 2, 3, 9, 0, ['', ''])\n\t\t\t],\n\t\t\teditOp(1, 1, 2, 3, 0, 9, [\n\t\t\t\t'abc,',\n\t\t\t\t''\n\t\t\t])\n\t\t);\n\t});\n});\n"]}