{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/editor/test/common/modes/linkComputer.test.ts","vs/editor/test/common/modes/linkComputer.test.ts"],"names":[],"mappings":"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","file":"linkComputer.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport assert from 'assert';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\nimport { ILink } from '../../../common/languages.js';\nimport { ILinkComputerTarget, computeLinks } from '../../../common/languages/linkComputer.js';\n\nclass SimpleLinkComputerTarget implements ILinkComputerTarget {\n\n\tconstructor(private _lines: string[]) {\n\t\t// Intentional Empty\n\t}\n\n\tpublic getLineCount(): number {\n\t\treturn this._lines.length;\n\t}\n\n\tpublic getLineContent(lineNumber: number): string {\n\t\treturn this._lines[lineNumber - 1];\n\t}\n}\n\nfunction myComputeLinks(lines: string[]): ILink[] {\n\tconst target = new SimpleLinkComputerTarget(lines);\n\treturn computeLinks(target);\n}\n\nfunction assertLink(text: string, extractedLink: string): void {\n\tlet startColumn = 0,\n\t\tendColumn = 0,\n\t\tchr: string,\n\t\ti = 0;\n\n\tfor (i = 0; i < extractedLink.length; i++) {\n\t\tchr = extractedLink.charAt(i);\n\t\tif (chr !== ' ' && chr !== '\\t') {\n\t\t\tstartColumn = i + 1;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tfor (i = extractedLink.length - 1; i >= 0; i--) {\n\t\tchr = extractedLink.charAt(i);\n\t\tif (chr !== ' ' && chr !== '\\t') {\n\t\t\tendColumn = i + 2;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tconst r = myComputeLinks([text]);\n\tassert.deepStrictEqual(r, [{\n\t\trange: {\n\t\t\tstartLineNumber: 1,\n\t\t\tstartColumn: startColumn,\n\t\t\tendLineNumber: 1,\n\t\t\tendColumn: endColumn\n\t\t},\n\t\turl: extractedLink.substring(startColumn - 1, endColumn - 1)\n\t}]);\n}\n\nsuite('Editor Modes - Link Computer', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('Null model', () => {\n\t\tconst r = computeLinks(null);\n\t\tassert.deepStrictEqual(r, []);\n\t});\n\n\ttest('Parsing', () => {\n\n\t\tassertLink(\n\t\t\t'x = \"http://foo.bar\";',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\n\t\tassertLink(\n\t\t\t'x = (http://foo.bar);',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\n\t\tassertLink(\n\t\t\t'x = [http://foo.bar];',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\n\t\tassertLink(\n\t\t\t'x = \\'http://foo.bar\\';',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\n\t\tassertLink(\n\t\t\t'x =  http://foo.bar ;',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\n\t\tassertLink(\n\t\t\t'x = <http://foo.bar>;',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\n\t\tassertLink(\n\t\t\t'x = {http://foo.bar};',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\n\t\tassertLink(\n\t\t\t'(see http://foo.bar)',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\t\tassertLink(\n\t\t\t'[see http://foo.bar]',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\t\tassertLink(\n\t\t\t'{see http://foo.bar}',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\t\tassertLink(\n\t\t\t'<see http://foo.bar>',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\t\tassertLink(\n\t\t\t'<url>http://mylink.com</url>',\n\t\t\t'     http://mylink.com      '\n\t\t);\n\t\tassertLink(\n\t\t\t'// Click here to learn more. https://go.microsoft.com/fwlink/?LinkID=513275&clcid=0x409',\n\t\t\t'                             https://go.microsoft.com/fwlink/?LinkID=513275&clcid=0x409'\n\t\t);\n\t\tassertLink(\n\t\t\t'// Click here to learn more. https://msdn.microsoft.com/en-us/library/windows/desktop/aa365247(v=vs.85).aspx',\n\t\t\t'                             https://msdn.microsoft.com/en-us/library/windows/desktop/aa365247(v=vs.85).aspx'\n\t\t);\n\t\tassertLink(\n\t\t\t'// https://github.com/projectkudu/kudu/blob/master/Kudu.Core/Scripts/selectNodeVersion.js',\n\t\t\t'   https://github.com/projectkudu/kudu/blob/master/Kudu.Core/Scripts/selectNodeVersion.js'\n\t\t);\n\t\tassertLink(\n\t\t\t'<!-- !!! Do not remove !!!   WebContentRef(link:https://go.microsoft.com/fwlink/?LinkId=166007, area:Admin, updated:2015, nextUpdate:2016, tags:SqlServer)   !!! Do not remove !!! -->',\n\t\t\t'                                                https://go.microsoft.com/fwlink/?LinkId=166007                                                                                        '\n\t\t);\n\t\tassertLink(\n\t\t\t'For instructions, see https://go.microsoft.com/fwlink/?LinkId=166007.</value>',\n\t\t\t'                      https://go.microsoft.com/fwlink/?LinkId=166007         '\n\t\t);\n\t\tassertLink(\n\t\t\t'For instructions, see https://msdn.microsoft.com/en-us/library/windows/desktop/aa365247(v=vs.85).aspx.</value>',\n\t\t\t'                      https://msdn.microsoft.com/en-us/library/windows/desktop/aa365247(v=vs.85).aspx         '\n\t\t);\n\t\tassertLink(\n\t\t\t'x = \"https://en.wikipedia.org/wiki/Zürich\";',\n\t\t\t'     https://en.wikipedia.org/wiki/Zürich  '\n\t\t);\n\t\tassertLink(\n\t\t\t'請參閱 http://go.microsoft.com/fwlink/?LinkId=761051。',\n\t\t\t'    http://go.microsoft.com/fwlink/?LinkId=761051 '\n\t\t);\n\t\tassertLink(\n\t\t\t'（請參閱 http://go.microsoft.com/fwlink/?LinkId=761051）',\n\t\t\t'     http://go.microsoft.com/fwlink/?LinkId=761051 '\n\t\t);\n\n\t\tassertLink(\n\t\t\t'x = \"file:///foo.bar\";',\n\t\t\t'     file:///foo.bar  '\n\t\t);\n\t\tassertLink(\n\t\t\t'x = \"file://c:/foo.bar\";',\n\t\t\t'     file://c:/foo.bar  '\n\t\t);\n\n\t\tassertLink(\n\t\t\t'x = \"file://shares/foo.bar\";',\n\t\t\t'     file://shares/foo.bar  '\n\t\t);\n\n\t\tassertLink(\n\t\t\t'x = \"file://shäres/foo.bar\";',\n\t\t\t'     file://shäres/foo.bar  '\n\t\t);\n\t\tassertLink(\n\t\t\t'Some text, then http://www.bing.com.',\n\t\t\t'                http://www.bing.com '\n\t\t);\n\t\tassertLink(\n\t\t\t'let url = `http://***/_api/web/lists/GetByTitle(\\'Teambuildingaanvragen\\')/items`;',\n\t\t\t'           http://***/_api/web/lists/GetByTitle(\\'Teambuildingaanvragen\\')/items  '\n\t\t);\n\t});\n\n\ttest('issue #7855', () => {\n\t\tassertLink(\n\t\t\t'7. At this point, ServiceMain has been called.  There is no functionality presently in ServiceMain, but you can consult the [MSDN documentation](https://msdn.microsoft.com/en-us/library/windows/desktop/ms687414(v=vs.85).aspx) to add functionality as desired!',\n\t\t\t'                                                                                                                                                 https://msdn.microsoft.com/en-us/library/windows/desktop/ms687414(v=vs.85).aspx                                  '\n\t\t);\n\t});\n\n\ttest('issue #62278: \"Ctrl + click to follow link\" for IPv6 URLs', () => {\n\t\tassertLink(\n\t\t\t'let x = \"http://[::1]:5000/connect/token\"',\n\t\t\t'         http://[::1]:5000/connect/token  '\n\t\t);\n\t});\n\n\ttest('issue #70254: bold links dont open in markdown file using editor mode with ctrl + click', () => {\n\t\tassertLink(\n\t\t\t'2. Navigate to **https://portal.azure.com**',\n\t\t\t'                 https://portal.azure.com  '\n\t\t);\n\t});\n\n\ttest('issue #86358: URL wrong recognition pattern', () => {\n\t\tassertLink(\n\t\t\t'POST|https://portal.azure.com|2019-12-05|',\n\t\t\t'     https://portal.azure.com            '\n\t\t);\n\t});\n\n\ttest('issue #67022: Space as end of hyperlink isn\\'t always good idea', () => {\n\t\tassertLink(\n\t\t\t'aa  https://foo.bar/[this is foo site]  aa',\n\t\t\t'    https://foo.bar/[this is foo site]    '\n\t\t);\n\t});\n\n\ttest('issue #100353: Link detection stops at ＆(double-byte)', () => {\n\t\tassertLink(\n\t\t\t'aa  http://tree-mark.chips.jp/レーズン＆ベリーミックス  aa',\n\t\t\t'    http://tree-mark.chips.jp/レーズン＆ベリーミックス    '\n\t\t);\n\t});\n\n\ttest('issue #121438: Link detection stops at【...】', () => {\n\t\tassertLink(\n\t\t\t'aa  https://zh.wikipedia.org/wiki/【我推的孩子】 aa',\n\t\t\t'    https://zh.wikipedia.org/wiki/【我推的孩子】   '\n\t\t);\n\t});\n\n\ttest('issue #121438: Link detection stops at《...》', () => {\n\t\tassertLink(\n\t\t\t'aa  https://zh.wikipedia.org/wiki/《新青年》编辑部旧址 aa',\n\t\t\t'    https://zh.wikipedia.org/wiki/《新青年》编辑部旧址   '\n\t\t);\n\t});\n\n\ttest('issue #121438: Link detection stops at “...”', () => {\n\t\tassertLink(\n\t\t\t'aa  https://zh.wikipedia.org/wiki/“常凯申”误译事件 aa',\n\t\t\t'    https://zh.wikipedia.org/wiki/“常凯申”误译事件   '\n\t\t);\n\t});\n\n\ttest('issue #150905: Colon after bare hyperlink is treated as its part', () => {\n\t\tassertLink(\n\t\t\t'https://site.web/page.html: blah blah blah',\n\t\t\t'https://site.web/page.html                '\n\t\t);\n\t});\n\n\t// Removed because of #156875\n\t// test('issue #151631: Link parsing stoped where comments include a single quote ', () => {\n\t// \tassertLink(\n\t// \t\t`aa https://regexper.com/#%2F''%2F aa`,\n\t// \t\t`   https://regexper.com/#%2F''%2F   `,\n\t// \t);\n\t// });\n\n\ttest('issue #156875: Links include quotes ', () => {\n\t\tassertLink(\n\t\t\t`\"This file has been converted from https://github.com/jeff-hykin/better-c-syntax/blob/master/autogenerated/c.tmLanguage.json\",`,\n\t\t\t`                                   https://github.com/jeff-hykin/better-c-syntax/blob/master/autogenerated/c.tmLanguage.json  `,\n\t\t);\n\t});\n\n\ttest('issue #225513: Cmd-Click doesn\\'t work on JSDoc {@link URL|LinkText} format ', () => {\n\t\tassertLink(\n\t\t\t` * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/withResolvers|Promise.withResolvers}`,\n\t\t\t`          https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/withResolvers                       `,\n\t\t);\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport assert from 'assert';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\nimport { ILink } from '../../../common/languages.js';\nimport { ILinkComputerTarget, computeLinks } from '../../../common/languages/linkComputer.js';\n\nclass SimpleLinkComputerTarget implements ILinkComputerTarget {\n\n\tconstructor(private _lines: string[]) {\n\t\t// Intentional Empty\n\t}\n\n\tpublic getLineCount(): number {\n\t\treturn this._lines.length;\n\t}\n\n\tpublic getLineContent(lineNumber: number): string {\n\t\treturn this._lines[lineNumber - 1];\n\t}\n}\n\nfunction myComputeLinks(lines: string[]): ILink[] {\n\tconst target = new SimpleLinkComputerTarget(lines);\n\treturn computeLinks(target);\n}\n\nfunction assertLink(text: string, extractedLink: string): void {\n\tlet startColumn = 0,\n\t\tendColumn = 0,\n\t\tchr: string,\n\t\ti = 0;\n\n\tfor (i = 0; i < extractedLink.length; i++) {\n\t\tchr = extractedLink.charAt(i);\n\t\tif (chr !== ' ' && chr !== '\\t') {\n\t\t\tstartColumn = i + 1;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tfor (i = extractedLink.length - 1; i >= 0; i--) {\n\t\tchr = extractedLink.charAt(i);\n\t\tif (chr !== ' ' && chr !== '\\t') {\n\t\t\tendColumn = i + 2;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tconst r = myComputeLinks([text]);\n\tassert.deepStrictEqual(r, [{\n\t\trange: {\n\t\t\tstartLineNumber: 1,\n\t\t\tstartColumn: startColumn,\n\t\t\tendLineNumber: 1,\n\t\t\tendColumn: endColumn\n\t\t},\n\t\turl: extractedLink.substring(startColumn - 1, endColumn - 1)\n\t}]);\n}\n\nsuite('Editor Modes - Link Computer', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('Null model', () => {\n\t\tconst r = computeLinks(null);\n\t\tassert.deepStrictEqual(r, []);\n\t});\n\n\ttest('Parsing', () => {\n\n\t\tassertLink(\n\t\t\t'x = \"http://foo.bar\";',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\n\t\tassertLink(\n\t\t\t'x = (http://foo.bar);',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\n\t\tassertLink(\n\t\t\t'x = [http://foo.bar];',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\n\t\tassertLink(\n\t\t\t'x = \\'http://foo.bar\\';',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\n\t\tassertLink(\n\t\t\t'x =  http://foo.bar ;',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\n\t\tassertLink(\n\t\t\t'x = <http://foo.bar>;',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\n\t\tassertLink(\n\t\t\t'x = {http://foo.bar};',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\n\t\tassertLink(\n\t\t\t'(see http://foo.bar)',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\t\tassertLink(\n\t\t\t'[see http://foo.bar]',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\t\tassertLink(\n\t\t\t'{see http://foo.bar}',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\t\tassertLink(\n\t\t\t'<see http://foo.bar>',\n\t\t\t'     http://foo.bar  '\n\t\t);\n\t\tassertLink(\n\t\t\t'<url>http://mylink.com</url>',\n\t\t\t'     http://mylink.com      '\n\t\t);\n\t\tassertLink(\n\t\t\t'// Click here to learn more. https://go.microsoft.com/fwlink/?LinkID=513275&clcid=0x409',\n\t\t\t'                             https://go.microsoft.com/fwlink/?LinkID=513275&clcid=0x409'\n\t\t);\n\t\tassertLink(\n\t\t\t'// Click here to learn more. https://msdn.microsoft.com/en-us/library/windows/desktop/aa365247(v=vs.85).aspx',\n\t\t\t'                             https://msdn.microsoft.com/en-us/library/windows/desktop/aa365247(v=vs.85).aspx'\n\t\t);\n\t\tassertLink(\n\t\t\t'// https://github.com/projectkudu/kudu/blob/master/Kudu.Core/Scripts/selectNodeVersion.js',\n\t\t\t'   https://github.com/projectkudu/kudu/blob/master/Kudu.Core/Scripts/selectNodeVersion.js'\n\t\t);\n\t\tassertLink(\n\t\t\t'<!-- !!! Do not remove !!!   WebContentRef(link:https://go.microsoft.com/fwlink/?LinkId=166007, area:Admin, updated:2015, nextUpdate:2016, tags:SqlServer)   !!! Do not remove !!! -->',\n\t\t\t'                                                https://go.microsoft.com/fwlink/?LinkId=166007                                                                                        '\n\t\t);\n\t\tassertLink(\n\t\t\t'For instructions, see https://go.microsoft.com/fwlink/?LinkId=166007.</value>',\n\t\t\t'                      https://go.microsoft.com/fwlink/?LinkId=166007         '\n\t\t);\n\t\tassertLink(\n\t\t\t'For instructions, see https://msdn.microsoft.com/en-us/library/windows/desktop/aa365247(v=vs.85).aspx.</value>',\n\t\t\t'                      https://msdn.microsoft.com/en-us/library/windows/desktop/aa365247(v=vs.85).aspx         '\n\t\t);\n\t\tassertLink(\n\t\t\t'x = \"https://en.wikipedia.org/wiki/Zürich\";',\n\t\t\t'     https://en.wikipedia.org/wiki/Zürich  '\n\t\t);\n\t\tassertLink(\n\t\t\t'請參閱 http://go.microsoft.com/fwlink/?LinkId=761051。',\n\t\t\t'    http://go.microsoft.com/fwlink/?LinkId=761051 '\n\t\t);\n\t\tassertLink(\n\t\t\t'（請參閱 http://go.microsoft.com/fwlink/?LinkId=761051）',\n\t\t\t'     http://go.microsoft.com/fwlink/?LinkId=761051 '\n\t\t);\n\n\t\tassertLink(\n\t\t\t'x = \"file:///foo.bar\";',\n\t\t\t'     file:///foo.bar  '\n\t\t);\n\t\tassertLink(\n\t\t\t'x = \"file://c:/foo.bar\";',\n\t\t\t'     file://c:/foo.bar  '\n\t\t);\n\n\t\tassertLink(\n\t\t\t'x = \"file://shares/foo.bar\";',\n\t\t\t'     file://shares/foo.bar  '\n\t\t);\n\n\t\tassertLink(\n\t\t\t'x = \"file://shäres/foo.bar\";',\n\t\t\t'     file://shäres/foo.bar  '\n\t\t);\n\t\tassertLink(\n\t\t\t'Some text, then http://www.bing.com.',\n\t\t\t'                http://www.bing.com '\n\t\t);\n\t\tassertLink(\n\t\t\t'let url = `http://***/_api/web/lists/GetByTitle(\\'Teambuildingaanvragen\\')/items`;',\n\t\t\t'           http://***/_api/web/lists/GetByTitle(\\'Teambuildingaanvragen\\')/items  '\n\t\t);\n\t});\n\n\ttest('issue #7855', () => {\n\t\tassertLink(\n\t\t\t'7. At this point, ServiceMain has been called.  There is no functionality presently in ServiceMain, but you can consult the [MSDN documentation](https://msdn.microsoft.com/en-us/library/windows/desktop/ms687414(v=vs.85).aspx) to add functionality as desired!',\n\t\t\t'                                                                                                                                                 https://msdn.microsoft.com/en-us/library/windows/desktop/ms687414(v=vs.85).aspx                                  '\n\t\t);\n\t});\n\n\ttest('issue #62278: \"Ctrl + click to follow link\" for IPv6 URLs', () => {\n\t\tassertLink(\n\t\t\t'let x = \"http://[::1]:5000/connect/token\"',\n\t\t\t'         http://[::1]:5000/connect/token  '\n\t\t);\n\t});\n\n\ttest('issue #70254: bold links dont open in markdown file using editor mode with ctrl + click', () => {\n\t\tassertLink(\n\t\t\t'2. Navigate to **https://portal.azure.com**',\n\t\t\t'                 https://portal.azure.com  '\n\t\t);\n\t});\n\n\ttest('issue #86358: URL wrong recognition pattern', () => {\n\t\tassertLink(\n\t\t\t'POST|https://portal.azure.com|2019-12-05|',\n\t\t\t'     https://portal.azure.com            '\n\t\t);\n\t});\n\n\ttest('issue #67022: Space as end of hyperlink isn\\'t always good idea', () => {\n\t\tassertLink(\n\t\t\t'aa  https://foo.bar/[this is foo site]  aa',\n\t\t\t'    https://foo.bar/[this is foo site]    '\n\t\t);\n\t});\n\n\ttest('issue #100353: Link detection stops at ＆(double-byte)', () => {\n\t\tassertLink(\n\t\t\t'aa  http://tree-mark.chips.jp/レーズン＆ベリーミックス  aa',\n\t\t\t'    http://tree-mark.chips.jp/レーズン＆ベリーミックス    '\n\t\t);\n\t});\n\n\ttest('issue #121438: Link detection stops at【...】', () => {\n\t\tassertLink(\n\t\t\t'aa  https://zh.wikipedia.org/wiki/【我推的孩子】 aa',\n\t\t\t'    https://zh.wikipedia.org/wiki/【我推的孩子】   '\n\t\t);\n\t});\n\n\ttest('issue #121438: Link detection stops at《...》', () => {\n\t\tassertLink(\n\t\t\t'aa  https://zh.wikipedia.org/wiki/《新青年》编辑部旧址 aa',\n\t\t\t'    https://zh.wikipedia.org/wiki/《新青年》编辑部旧址   '\n\t\t);\n\t});\n\n\ttest('issue #121438: Link detection stops at “...”', () => {\n\t\tassertLink(\n\t\t\t'aa  https://zh.wikipedia.org/wiki/“常凯申”误译事件 aa',\n\t\t\t'    https://zh.wikipedia.org/wiki/“常凯申”误译事件   '\n\t\t);\n\t});\n\n\ttest('issue #150905: Colon after bare hyperlink is treated as its part', () => {\n\t\tassertLink(\n\t\t\t'https://site.web/page.html: blah blah blah',\n\t\t\t'https://site.web/page.html                '\n\t\t);\n\t});\n\n\t// Removed because of #156875\n\t// test('issue #151631: Link parsing stoped where comments include a single quote ', () => {\n\t// \tassertLink(\n\t// \t\t`aa https://regexper.com/#%2F''%2F aa`,\n\t// \t\t`   https://regexper.com/#%2F''%2F   `,\n\t// \t);\n\t// });\n\n\ttest('issue #156875: Links include quotes ', () => {\n\t\tassertLink(\n\t\t\t`\"This file has been converted from https://github.com/jeff-hykin/better-c-syntax/blob/master/autogenerated/c.tmLanguage.json\",`,\n\t\t\t`                                   https://github.com/jeff-hykin/better-c-syntax/blob/master/autogenerated/c.tmLanguage.json  `,\n\t\t);\n\t});\n\n\ttest('issue #225513: Cmd-Click doesn\\'t work on JSDoc {@link URL|LinkText} format ', () => {\n\t\tassertLink(\n\t\t\t` * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/withResolvers|Promise.withResolvers}`,\n\t\t\t`          https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/withResolvers                       `,\n\t\t);\n\t});\n});\n"]}