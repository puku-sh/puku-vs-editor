{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/editor/test/common/diff/diffComputer.test.ts","vs/editor/test/common/diff/diffComputer.test.ts"],"names":[],"mappings":"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ACxC,gBAAgB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;gBACxC,gBAAgB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;gBACxC,gBAAgB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;gBACxC,gBAAgB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;gBACxC,gBAAgB,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;gBAC5C,gBAAgB,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;gBAC5C,gBAAgB,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;gBAC5C,gBAAgB,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;gBAC5C,gBAAgB,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;gBAC5C,gBAAgB,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;gBAC5C,gBAAgB,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;gBAC5C,gBAAgB,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;gBAC5C,gBAAgB,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","file":"diffComputer.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport assert from 'assert';\nimport { Constants } from '../../../../base/common/uint.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\nimport { Range } from '../../../common/core/range.js';\nimport { DiffComputer, ICharChange, ILineChange } from '../../../common/diff/legacyLinesDiffComputer.js';\nimport { IIdentifiedSingleEditOperation, ITextModel } from '../../../common/model.js';\nimport { createTextModel } from '../testTextModel.js';\n\nfunction assertDiff(originalLines: string[], modifiedLines: string[], expectedChanges: ILineChange[], shouldComputeCharChanges: boolean = true, shouldPostProcessCharChanges: boolean = false, shouldIgnoreTrimWhitespace: boolean = false) {\n\tconst diffComputer = new DiffComputer(originalLines, modifiedLines, {\n\t\tshouldComputeCharChanges,\n\t\tshouldPostProcessCharChanges,\n\t\tshouldIgnoreTrimWhitespace,\n\t\tshouldMakePrettyDiff: true,\n\t\tmaxComputationTime: 0\n\t});\n\tconst changes = diffComputer.computeDiff().changes;\n\n\tconst mapCharChange = (charChange: ICharChange) => {\n\t\treturn {\n\t\t\toriginalStartLineNumber: charChange.originalStartLineNumber,\n\t\t\toriginalStartColumn: charChange.originalStartColumn,\n\t\t\toriginalEndLineNumber: charChange.originalEndLineNumber,\n\t\t\toriginalEndColumn: charChange.originalEndColumn,\n\t\t\tmodifiedStartLineNumber: charChange.modifiedStartLineNumber,\n\t\t\tmodifiedStartColumn: charChange.modifiedStartColumn,\n\t\t\tmodifiedEndLineNumber: charChange.modifiedEndLineNumber,\n\t\t\tmodifiedEndColumn: charChange.modifiedEndColumn,\n\t\t};\n\t};\n\n\tconst actual = changes.map((lineChange) => {\n\t\treturn {\n\t\t\toriginalStartLineNumber: lineChange.originalStartLineNumber,\n\t\t\toriginalEndLineNumber: lineChange.originalEndLineNumber,\n\t\t\tmodifiedStartLineNumber: lineChange.modifiedStartLineNumber,\n\t\t\tmodifiedEndLineNumber: lineChange.modifiedEndLineNumber,\n\t\t\tcharChanges: (lineChange.charChanges ? lineChange.charChanges.map(mapCharChange) : undefined)\n\t\t};\n\t});\n\n\tassert.deepStrictEqual(actual, expectedChanges);\n\n\tif (!shouldIgnoreTrimWhitespace) {\n\t\t// The diffs should describe how to apply edits to the original text model to get to the modified text model.\n\n\t\tconst modifiedTextModel = createTextModel(modifiedLines.join('\\n'));\n\t\tconst expectedValue = modifiedTextModel.getValue();\n\n\t\t{\n\t\t\t// Line changes:\n\t\t\tconst originalTextModel = createTextModel(originalLines.join('\\n'));\n\t\t\toriginalTextModel.applyEdits(changes.map(c => getLineEdit(c, modifiedTextModel)));\n\t\t\tassert.deepStrictEqual(originalTextModel.getValue(), expectedValue);\n\t\t\toriginalTextModel.dispose();\n\t\t}\n\n\t\tif (shouldComputeCharChanges) {\n\t\t\t// Char changes:\n\t\t\tconst originalTextModel = createTextModel(originalLines.join('\\n'));\n\t\t\toriginalTextModel.applyEdits(changes.flatMap(c => getCharEdits(c, modifiedTextModel)));\n\t\t\tassert.deepStrictEqual(originalTextModel.getValue(), expectedValue);\n\t\t\toriginalTextModel.dispose();\n\t\t}\n\n\t\tmodifiedTextModel.dispose();\n\t}\n}\n\nfunction getCharEdits(lineChange: ILineChange, modifiedTextModel: ITextModel): IIdentifiedSingleEditOperation[] {\n\tif (!lineChange.charChanges) {\n\t\treturn [getLineEdit(lineChange, modifiedTextModel)];\n\t}\n\treturn lineChange.charChanges.map(c => {\n\t\tconst originalRange = new Range(c.originalStartLineNumber, c.originalStartColumn, c.originalEndLineNumber, c.originalEndColumn);\n\t\tconst modifiedRange = new Range(c.modifiedStartLineNumber, c.modifiedStartColumn, c.modifiedEndLineNumber, c.modifiedEndColumn);\n\t\treturn {\n\t\t\trange: originalRange,\n\t\t\ttext: modifiedTextModel.getValueInRange(modifiedRange)\n\t\t};\n\t});\n}\n\nfunction getLineEdit(lineChange: ILineChange, modifiedTextModel: ITextModel): IIdentifiedSingleEditOperation {\n\tlet originalRange: LineRange;\n\tif (lineChange.originalEndLineNumber === 0) {\n\t\t// Insertion\n\t\toriginalRange = new LineRange(lineChange.originalStartLineNumber + 1, 0);\n\t} else {\n\t\toriginalRange = new LineRange(lineChange.originalStartLineNumber, lineChange.originalEndLineNumber - lineChange.originalStartLineNumber + 1);\n\t}\n\n\tlet modifiedRange: LineRange;\n\tif (lineChange.modifiedEndLineNumber === 0) {\n\t\t// Deletion\n\t\tmodifiedRange = new LineRange(lineChange.modifiedStartLineNumber + 1, 0);\n\t} else {\n\t\tmodifiedRange = new LineRange(lineChange.modifiedStartLineNumber, lineChange.modifiedEndLineNumber - lineChange.modifiedStartLineNumber + 1);\n\t}\n\n\tconst [r1, r2] = diffFromLineRanges(originalRange, modifiedRange);\n\treturn {\n\t\trange: r1,\n\t\ttext: modifiedTextModel.getValueInRange(r2),\n\t};\n}\n\nfunction diffFromLineRanges(originalRange: LineRange, modifiedRange: LineRange): [Range, Range] {\n\tif (originalRange.startLineNumber === 1 || modifiedRange.startLineNumber === 1) {\n\t\tif (!originalRange.isEmpty && !modifiedRange.isEmpty) {\n\t\t\treturn [\n\t\t\t\tnew Range(\n\t\t\t\t\toriginalRange.startLineNumber,\n\t\t\t\t\t1,\n\t\t\t\t\toriginalRange.endLineNumberExclusive - 1,\n\t\t\t\t\tConstants.MAX_SAFE_SMALL_INTEGER,\n\t\t\t\t),\n\t\t\t\tnew Range(\n\t\t\t\t\tmodifiedRange.startLineNumber,\n\t\t\t\t\t1,\n\t\t\t\t\tmodifiedRange.endLineNumberExclusive - 1,\n\t\t\t\t\tConstants.MAX_SAFE_SMALL_INTEGER,\n\t\t\t\t)\n\t\t\t];\n\t\t}\n\n\t\t// When one of them is one and one of them is empty, the other cannot be the last line of the document\n\t\treturn [\n\t\t\tnew Range(\n\t\t\t\toriginalRange.startLineNumber,\n\t\t\t\t1,\n\t\t\t\toriginalRange.endLineNumberExclusive,\n\t\t\t\t1,\n\t\t\t),\n\t\t\tnew Range(\n\t\t\t\tmodifiedRange.startLineNumber,\n\t\t\t\t1,\n\t\t\t\tmodifiedRange.endLineNumberExclusive,\n\t\t\t\t1,\n\t\t\t)\n\t\t];\n\t}\n\n\treturn [\n\t\tnew Range(\n\t\t\toriginalRange.startLineNumber - 1,\n\t\t\tConstants.MAX_SAFE_SMALL_INTEGER,\n\t\t\toriginalRange.endLineNumberExclusive - 1,\n\t\t\tConstants.MAX_SAFE_SMALL_INTEGER,\n\t\t),\n\t\tnew Range(\n\t\t\tmodifiedRange.startLineNumber - 1,\n\t\t\tConstants.MAX_SAFE_SMALL_INTEGER,\n\t\t\tmodifiedRange.endLineNumberExclusive - 1,\n\t\t\tConstants.MAX_SAFE_SMALL_INTEGER,\n\t\t)\n\t];\n}\n\nclass LineRange {\n\tpublic constructor(\n\t\tpublic readonly startLineNumber: number,\n\t\tpublic readonly lineCount: number\n\t) { }\n\n\tpublic get isEmpty(): boolean {\n\t\treturn this.lineCount === 0;\n\t}\n\n\tpublic get endLineNumberExclusive(): number {\n\t\treturn this.startLineNumber + this.lineCount;\n\t}\n}\n\nfunction createLineDeletion(startLineNumber: number, endLineNumber: number, modifiedLineNumber: number): ILineChange {\n\treturn {\n\t\toriginalStartLineNumber: startLineNumber,\n\t\toriginalEndLineNumber: endLineNumber,\n\t\tmodifiedStartLineNumber: modifiedLineNumber,\n\t\tmodifiedEndLineNumber: 0,\n\t\tcharChanges: undefined\n\t};\n}\n\nfunction createLineInsertion(startLineNumber: number, endLineNumber: number, originalLineNumber: number): ILineChange {\n\treturn {\n\t\toriginalStartLineNumber: originalLineNumber,\n\t\toriginalEndLineNumber: 0,\n\t\tmodifiedStartLineNumber: startLineNumber,\n\t\tmodifiedEndLineNumber: endLineNumber,\n\t\tcharChanges: undefined\n\t};\n}\n\nfunction createLineChange(originalStartLineNumber: number, originalEndLineNumber: number, modifiedStartLineNumber: number, modifiedEndLineNumber: number, charChanges?: ICharChange[]): ILineChange {\n\treturn {\n\t\toriginalStartLineNumber: originalStartLineNumber,\n\t\toriginalEndLineNumber: originalEndLineNumber,\n\t\tmodifiedStartLineNumber: modifiedStartLineNumber,\n\t\tmodifiedEndLineNumber: modifiedEndLineNumber,\n\t\tcharChanges: charChanges\n\t};\n}\n\nfunction createCharChange(\n\toriginalStartLineNumber: number, originalStartColumn: number, originalEndLineNumber: number, originalEndColumn: number,\n\tmodifiedStartLineNumber: number, modifiedStartColumn: number, modifiedEndLineNumber: number, modifiedEndColumn: number\n) {\n\treturn {\n\t\toriginalStartLineNumber: originalStartLineNumber,\n\t\toriginalStartColumn: originalStartColumn,\n\t\toriginalEndLineNumber: originalEndLineNumber,\n\t\toriginalEndColumn: originalEndColumn,\n\t\tmodifiedStartLineNumber: modifiedStartLineNumber,\n\t\tmodifiedStartColumn: modifiedStartColumn,\n\t\tmodifiedEndLineNumber: modifiedEndLineNumber,\n\t\tmodifiedEndColumn: modifiedEndColumn\n\t};\n}\n\nsuite('Editor Diff - DiffComputer', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\t// ---- insertions\n\n\ttest('one inserted line below', () => {\n\t\tconst original = ['line'];\n\t\tconst modified = ['line', 'new line'];\n\t\tconst expected = [createLineInsertion(2, 2, 1)];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('two inserted lines below', () => {\n\t\tconst original = ['line'];\n\t\tconst modified = ['line', 'new line', 'another new line'];\n\t\tconst expected = [createLineInsertion(2, 3, 1)];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('one inserted line above', () => {\n\t\tconst original = ['line'];\n\t\tconst modified = ['new line', 'line'];\n\t\tconst expected = [createLineInsertion(1, 1, 0)];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('two inserted lines above', () => {\n\t\tconst original = ['line'];\n\t\tconst modified = ['new line', 'another new line', 'line'];\n\t\tconst expected = [createLineInsertion(1, 2, 0)];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('one inserted line in middle', () => {\n\t\tconst original = ['line1', 'line2', 'line3', 'line4'];\n\t\tconst modified = ['line1', 'line2', 'new line', 'line3', 'line4'];\n\t\tconst expected = [createLineInsertion(3, 3, 2)];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('two inserted lines in middle', () => {\n\t\tconst original = ['line1', 'line2', 'line3', 'line4'];\n\t\tconst modified = ['line1', 'line2', 'new line', 'another new line', 'line3', 'line4'];\n\t\tconst expected = [createLineInsertion(3, 4, 2)];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('two inserted lines in middle interrupted', () => {\n\t\tconst original = ['line1', 'line2', 'line3', 'line4'];\n\t\tconst modified = ['line1', 'line2', 'new line', 'line3', 'another new line', 'line4'];\n\t\tconst expected = [createLineInsertion(3, 3, 2), createLineInsertion(5, 5, 3)];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\t// ---- deletions\n\n\ttest('one deleted line below', () => {\n\t\tconst original = ['line', 'new line'];\n\t\tconst modified = ['line'];\n\t\tconst expected = [createLineDeletion(2, 2, 1)];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('two deleted lines below', () => {\n\t\tconst original = ['line', 'new line', 'another new line'];\n\t\tconst modified = ['line'];\n\t\tconst expected = [createLineDeletion(2, 3, 1)];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('one deleted lines above', () => {\n\t\tconst original = ['new line', 'line'];\n\t\tconst modified = ['line'];\n\t\tconst expected = [createLineDeletion(1, 1, 0)];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('two deleted lines above', () => {\n\t\tconst original = ['new line', 'another new line', 'line'];\n\t\tconst modified = ['line'];\n\t\tconst expected = [createLineDeletion(1, 2, 0)];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('one deleted line in middle', () => {\n\t\tconst original = ['line1', 'line2', 'new line', 'line3', 'line4'];\n\t\tconst modified = ['line1', 'line2', 'line3', 'line4'];\n\t\tconst expected = [createLineDeletion(3, 3, 2)];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('two deleted lines in middle', () => {\n\t\tconst original = ['line1', 'line2', 'new line', 'another new line', 'line3', 'line4'];\n\t\tconst modified = ['line1', 'line2', 'line3', 'line4'];\n\t\tconst expected = [createLineDeletion(3, 4, 2)];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('two deleted lines in middle interrupted', () => {\n\t\tconst original = ['line1', 'line2', 'new line', 'line3', 'another new line', 'line4'];\n\t\tconst modified = ['line1', 'line2', 'line3', 'line4'];\n\t\tconst expected = [createLineDeletion(3, 3, 2), createLineDeletion(5, 5, 3)];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\t// ---- changes\n\n\ttest('one line changed: chars inserted at the end', () => {\n\t\tconst original = ['line'];\n\t\tconst modified = ['line changed'];\n\t\tconst expected = [\n\t\t\tcreateLineChange(1, 1, 1, 1, [\n\t\t\t\tcreateCharChange(1, 5, 1, 5, 1, 5, 1, 13)\n\t\t\t])\n\t\t];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('one line changed: chars inserted at the beginning', () => {\n\t\tconst original = ['line'];\n\t\tconst modified = ['my line'];\n\t\tconst expected = [\n\t\t\tcreateLineChange(1, 1, 1, 1, [\n\t\t\t\tcreateCharChange(1, 1, 1, 1, 1, 1, 1, 4)\n\t\t\t])\n\t\t];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('one line changed: chars inserted in the middle', () => {\n\t\tconst original = ['abba'];\n\t\tconst modified = ['abzzba'];\n\t\tconst expected = [\n\t\t\tcreateLineChange(1, 1, 1, 1, [\n\t\t\t\tcreateCharChange(1, 3, 1, 3, 1, 3, 1, 5)\n\t\t\t])\n\t\t];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('one line changed: chars inserted in the middle (two spots)', () => {\n\t\tconst original = ['abba'];\n\t\tconst modified = ['abzzbzza'];\n\t\tconst expected = [\n\t\t\tcreateLineChange(1, 1, 1, 1, [\n\t\t\t\tcreateCharChange(1, 3, 1, 3, 1, 3, 1, 5),\n\t\t\t\tcreateCharChange(1, 4, 1, 4, 1, 6, 1, 8)\n\t\t\t])\n\t\t];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('one line changed: chars deleted 1', () => {\n\t\tconst original = ['abcdefg'];\n\t\tconst modified = ['abcfg'];\n\t\tconst expected = [\n\t\t\tcreateLineChange(1, 1, 1, 1, [\n\t\t\t\tcreateCharChange(1, 4, 1, 6, 1, 4, 1, 4)\n\t\t\t])\n\t\t];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('one line changed: chars deleted 2', () => {\n\t\tconst original = ['abcdefg'];\n\t\tconst modified = ['acfg'];\n\t\tconst expected = [\n\t\t\tcreateLineChange(1, 1, 1, 1, [\n\t\t\t\tcreateCharChange(1, 2, 1, 3, 1, 2, 1, 2),\n\t\t\t\tcreateCharChange(1, 4, 1, 6, 1, 3, 1, 3)\n\t\t\t])\n\t\t];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('two lines changed 1', () => {\n\t\tconst original = ['abcd', 'efgh'];\n\t\tconst modified = ['abcz'];\n\t\tconst expected = [\n\t\t\tcreateLineChange(1, 2, 1, 1, [\n\t\t\t\tcreateCharChange(1, 4, 2, 5, 1, 4, 1, 5)\n\t\t\t])\n\t\t];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('two lines changed 2', () => {\n\t\tconst original = ['foo', 'abcd', 'efgh', 'BAR'];\n\t\tconst modified = ['foo', 'abcz', 'BAR'];\n\t\tconst expected = [\n\t\t\tcreateLineChange(2, 3, 2, 2, [\n\t\t\t\tcreateCharChange(2, 4, 3, 5, 2, 4, 2, 5)\n\t\t\t])\n\t\t];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('two lines changed 3', () => {\n\t\tconst original = ['foo', 'abcd', 'efgh', 'BAR'];\n\t\tconst modified = ['foo', 'abcz', 'zzzzefgh', 'BAR'];\n\t\tconst expected = [\n\t\t\tcreateLineChange(2, 3, 2, 3, [\n\t\t\t\tcreateCharChange(2, 4, 2, 5, 2, 4, 2, 5),\n\t\t\t\tcreateCharChange(3, 1, 3, 1, 3, 1, 3, 5)\n\t\t\t])\n\t\t];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('two lines changed 4', () => {\n\t\tconst original = ['abc'];\n\t\tconst modified = ['', '', 'axc', ''];\n\t\tconst expected = [\n\t\t\tcreateLineChange(1, 1, 1, 4, [\n\t\t\t\tcreateCharChange(1, 1, 1, 1, 1, 1, 3, 1),\n\t\t\t\tcreateCharChange(1, 2, 1, 3, 3, 2, 3, 3),\n\t\t\t\tcreateCharChange(1, 4, 1, 4, 3, 4, 4, 1)\n\t\t\t])\n\t\t];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('empty original sequence in char diff', () => {\n\t\tconst original = ['abc', '', 'xyz'];\n\t\tconst modified = ['abc', 'qwe', 'rty', 'xyz'];\n\t\tconst expected = [\n\t\t\tcreateLineChange(2, 2, 2, 3)\n\t\t];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('three lines changed', () => {\n\t\tconst original = ['foo', 'abcd', 'efgh', 'BAR'];\n\t\tconst modified = ['foo', 'zzzefgh', 'xxx', 'BAR'];\n\t\tconst expected = [\n\t\t\tcreateLineChange(2, 3, 2, 3, [\n\t\t\t\tcreateCharChange(2, 1, 3, 1, 2, 1, 2, 4),\n\t\t\t\tcreateCharChange(3, 5, 3, 5, 2, 8, 3, 4),\n\t\t\t])\n\t\t];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('big change part 1', () => {\n\t\tconst original = ['foo', 'abcd', 'efgh', 'BAR'];\n\t\tconst modified = ['hello', 'foo', 'zzzefgh', 'xxx', 'BAR'];\n\t\tconst expected = [\n\t\t\tcreateLineInsertion(1, 1, 0),\n\t\t\tcreateLineChange(2, 3, 3, 4, [\n\t\t\t\tcreateCharChange(2, 1, 3, 1, 3, 1, 3, 4),\n\t\t\t\tcreateCharChange(3, 5, 3, 5, 3, 8, 4, 4)\n\t\t\t])\n\t\t];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('big change part 2', () => {\n\t\tconst original = ['foo', 'abcd', 'efgh', 'BAR', 'RAB'];\n\t\tconst modified = ['hello', 'foo', 'zzzefgh', 'xxx', 'BAR'];\n\t\tconst expected = [\n\t\t\tcreateLineInsertion(1, 1, 0),\n\t\t\tcreateLineChange(2, 3, 3, 4, [\n\t\t\t\tcreateCharChange(2, 1, 3, 1, 3, 1, 3, 4),\n\t\t\t\tcreateCharChange(3, 5, 3, 5, 3, 8, 4, 4)\n\t\t\t]),\n\t\t\tcreateLineDeletion(5, 5, 5)\n\t\t];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('char change postprocessing merges', () => {\n\t\tconst original = ['abba'];\n\t\tconst modified = ['azzzbzzzbzzza'];\n\t\tconst expected = [\n\t\t\tcreateLineChange(1, 1, 1, 1, [\n\t\t\t\tcreateCharChange(1, 2, 1, 4, 1, 2, 1, 13)\n\t\t\t])\n\t\t];\n\t\tassertDiff(original, modified, expected, true, true);\n\t});\n\n\ttest('ignore trim whitespace', () => {\n\t\tconst original = ['\\t\\t foo ', 'abcd', 'efgh', '\\t\\t BAR\\t\\t'];\n\t\tconst modified = ['  hello\\t', '\\t foo   \\t', 'zzzefgh', 'xxx', '   BAR   \\t'];\n\t\tconst expected = [\n\t\t\tcreateLineInsertion(1, 1, 0),\n\t\t\tcreateLineChange(2, 3, 3, 4, [\n\t\t\t\tcreateCharChange(2, 1, 2, 5, 3, 1, 3, 4),\n\t\t\t\tcreateCharChange(3, 5, 3, 5, 4, 1, 4, 4)\n\t\t\t])\n\t\t];\n\t\tassertDiff(original, modified, expected, true, false, true);\n\t});\n\n\ttest('issue #12122 r.hasOwnProperty is not a function', () => {\n\t\tconst original = ['hasOwnProperty'];\n\t\tconst modified = ['hasOwnProperty', 'and another line'];\n\t\tconst expected = [\n\t\t\tcreateLineInsertion(2, 2, 1)\n\t\t];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('empty diff 1', () => {\n\t\tconst original = [''];\n\t\tconst modified = ['something'];\n\t\tconst expected = [\n\t\t\tcreateLineChange(1, 1, 1, 1, undefined)\n\t\t];\n\t\tassertDiff(original, modified, expected, true, false, true);\n\t});\n\n\ttest('empty diff 2', () => {\n\t\tconst original = [''];\n\t\tconst modified = ['something', 'something else'];\n\t\tconst expected = [\n\t\t\tcreateLineChange(1, 1, 1, 2, undefined)\n\t\t];\n\t\tassertDiff(original, modified, expected, true, false, true);\n\t});\n\n\ttest('empty diff 3', () => {\n\t\tconst original = ['something', 'something else'];\n\t\tconst modified = [''];\n\t\tconst expected = [\n\t\t\tcreateLineChange(1, 2, 1, 1, undefined)\n\t\t];\n\t\tassertDiff(original, modified, expected, true, false, true);\n\t});\n\n\ttest('empty diff 4', () => {\n\t\tconst original = ['something'];\n\t\tconst modified = [''];\n\t\tconst expected = [\n\t\t\tcreateLineChange(1, 1, 1, 1, undefined)\n\t\t];\n\t\tassertDiff(original, modified, expected, true, false, true);\n\t});\n\n\ttest('empty diff 5', () => {\n\t\tconst original = [''];\n\t\tconst modified = [''];\n\t\tconst expected: ILineChange[] = [];\n\t\tassertDiff(original, modified, expected, true, false, true);\n\t});\n\n\ttest('pretty diff 1', () => {\n\t\tconst original = [\n\t\t\t'suite(function () {',\n\t\t\t'\ttest1() {',\n\t\t\t'\t\tassert.ok(true);',\n\t\t\t'\t}',\n\t\t\t'',\n\t\t\t'\ttest2() {',\n\t\t\t'\t\tassert.ok(true);',\n\t\t\t'\t}',\n\t\t\t'});',\n\t\t\t'',\n\t\t];\n\t\tconst modified = [\n\t\t\t'// An insertion',\n\t\t\t'suite(function () {',\n\t\t\t'\ttest1() {',\n\t\t\t'\t\tassert.ok(true);',\n\t\t\t'\t}',\n\t\t\t'',\n\t\t\t'\ttest2() {',\n\t\t\t'\t\tassert.ok(true);',\n\t\t\t'\t}',\n\t\t\t'',\n\t\t\t'\ttest3() {',\n\t\t\t'\t\tassert.ok(true);',\n\t\t\t'\t}',\n\t\t\t'});',\n\t\t\t'',\n\t\t];\n\t\tconst expected = [\n\t\t\tcreateLineInsertion(1, 1, 0),\n\t\t\tcreateLineInsertion(10, 13, 8)\n\t\t];\n\t\tassertDiff(original, modified, expected, true, false, true);\n\t});\n\n\ttest('pretty diff 2', () => {\n\t\tconst original = [\n\t\t\t'// Just a comment',\n\t\t\t'',\n\t\t\t'function compute(a, b, c, d) {',\n\t\t\t'\tif (a) {',\n\t\t\t'\t\tif (b) {',\n\t\t\t'\t\t\tif (c) {',\n\t\t\t'\t\t\t\treturn 5;',\n\t\t\t'\t\t\t}',\n\t\t\t'\t\t}',\n\t\t\t'\t\t// These next lines will be deleted',\n\t\t\t'\t\tif (d) {',\n\t\t\t'\t\t\treturn -1;',\n\t\t\t'\t\t}',\n\t\t\t'\t\treturn 0;',\n\t\t\t'\t}',\n\t\t\t'}',\n\t\t];\n\t\tconst modified = [\n\t\t\t'// Here is an inserted line',\n\t\t\t'// and another inserted line',\n\t\t\t'// and another one',\n\t\t\t'// Just a comment',\n\t\t\t'',\n\t\t\t'function compute(a, b, c, d) {',\n\t\t\t'\tif (a) {',\n\t\t\t'\t\tif (b) {',\n\t\t\t'\t\t\tif (c) {',\n\t\t\t'\t\t\t\treturn 5;',\n\t\t\t'\t\t\t}',\n\t\t\t'\t\t}',\n\t\t\t'\t\treturn 0;',\n\t\t\t'\t}',\n\t\t\t'}',\n\t\t];\n\t\tconst expected = [\n\t\t\tcreateLineInsertion(1, 3, 0),\n\t\t\tcreateLineDeletion(10, 13, 12),\n\t\t];\n\t\tassertDiff(original, modified, expected, true, false, true);\n\t});\n\n\ttest('pretty diff 3', () => {\n\t\tconst original = [\n\t\t\t'class A {',\n\t\t\t'\t/**',\n\t\t\t'\t * m1',\n\t\t\t'\t */',\n\t\t\t'\tmethod1() {}',\n\t\t\t'',\n\t\t\t'\t/**',\n\t\t\t'\t * m3',\n\t\t\t'\t */',\n\t\t\t'\tmethod3() {}',\n\t\t\t'}',\n\t\t];\n\t\tconst modified = [\n\t\t\t'class A {',\n\t\t\t'\t/**',\n\t\t\t'\t * m1',\n\t\t\t'\t */',\n\t\t\t'\tmethod1() {}',\n\t\t\t'',\n\t\t\t'\t/**',\n\t\t\t'\t * m2',\n\t\t\t'\t */',\n\t\t\t'\tmethod2() {}',\n\t\t\t'',\n\t\t\t'\t/**',\n\t\t\t'\t * m3',\n\t\t\t'\t */',\n\t\t\t'\tmethod3() {}',\n\t\t\t'}',\n\t\t];\n\t\tconst expected = [\n\t\t\tcreateLineInsertion(7, 11, 6)\n\t\t];\n\t\tassertDiff(original, modified, expected, true, false, true);\n\t});\n\n\ttest('issue #23636', () => {\n\t\tconst original = [\n\t\t\t'if(!TextDrawLoad[playerid])',\n\t\t\t'{',\n\t\t\t'',\n\t\t\t'\tTextDrawHideForPlayer(playerid,TD_AppleJob[3]);',\n\t\t\t'\tTextDrawHideForPlayer(playerid,TD_AppleJob[4]);',\n\t\t\t'\tif(!AppleJobTreesType[AppleJobTreesPlayerNum[playerid]])',\n\t\t\t'\t{',\n\t\t\t'\t\tfor(new i=0;i<10;i++) if(StatusTD_AppleJobApples[playerid][i]) TextDrawHideForPlayer(playerid,TD_AppleJob[5+i]);',\n\t\t\t'\t}',\n\t\t\t'\telse',\n\t\t\t'\t{',\n\t\t\t'\t\tfor(new i=0;i<10;i++) if(StatusTD_AppleJobApples[playerid][i]) TextDrawHideForPlayer(playerid,TD_AppleJob[15+i]);',\n\t\t\t'\t}',\n\t\t\t'}',\n\t\t\t'else',\n\t\t\t'{',\n\t\t\t'\tTextDrawHideForPlayer(playerid,TD_AppleJob[3]);',\n\t\t\t'\tTextDrawHideForPlayer(playerid,TD_AppleJob[27]);',\n\t\t\t'\tif(!AppleJobTreesType[AppleJobTreesPlayerNum[playerid]])',\n\t\t\t'\t{',\n\t\t\t'\t\tfor(new i=0;i<10;i++) if(StatusTD_AppleJobApples[playerid][i]) TextDrawHideForPlayer(playerid,TD_AppleJob[28+i]);',\n\t\t\t'\t}',\n\t\t\t'\telse',\n\t\t\t'\t{',\n\t\t\t'\t\tfor(new i=0;i<10;i++) if(StatusTD_AppleJobApples[playerid][i]) TextDrawHideForPlayer(playerid,TD_AppleJob[38+i]);',\n\t\t\t'\t}',\n\t\t\t'}',\n\t\t];\n\t\tconst modified = [\n\t\t\t'\tif(!TextDrawLoad[playerid])',\n\t\t\t'\t{',\n\t\t\t'\t',\n\t\t\t'\t\tTextDrawHideForPlayer(playerid,TD_AppleJob[3]);',\n\t\t\t'\t\tTextDrawHideForPlayer(playerid,TD_AppleJob[4]);',\n\t\t\t'\t\tif(!AppleJobTreesType[AppleJobTreesPlayerNum[playerid]])',\n\t\t\t'\t\t{',\n\t\t\t'\t\t\tfor(new i=0;i<10;i++) if(StatusTD_AppleJobApples[playerid][i]) TextDrawHideForPlayer(playerid,TD_AppleJob[5+i]);',\n\t\t\t'\t\t}',\n\t\t\t'\t\telse',\n\t\t\t'\t\t{',\n\t\t\t'\t\t\tfor(new i=0;i<10;i++) if(StatusTD_AppleJobApples[playerid][i]) TextDrawHideForPlayer(playerid,TD_AppleJob[15+i]);',\n\t\t\t'\t\t}',\n\t\t\t'\t}',\n\t\t\t'\telse',\n\t\t\t'\t{',\n\t\t\t'\t\tTextDrawHideForPlayer(playerid,TD_AppleJob[3]);',\n\t\t\t'\t\tTextDrawHideForPlayer(playerid,TD_AppleJob[27]);',\n\t\t\t'\t\tif(!AppleJobTreesType[AppleJobTreesPlayerNum[playerid]])',\n\t\t\t'\t\t{',\n\t\t\t'\t\t\tfor(new i=0;i<10;i++) if(StatusTD_AppleJobApples[playerid][i]) TextDrawHideForPlayer(playerid,TD_AppleJob[28+i]);',\n\t\t\t'\t\t}',\n\t\t\t'\t\telse',\n\t\t\t'\t\t{',\n\t\t\t'\t\t\tfor(new i=0;i<10;i++) if(StatusTD_AppleJobApples[playerid][i]) TextDrawHideForPlayer(playerid,TD_AppleJob[38+i]);',\n\t\t\t'\t\t}',\n\t\t\t'\t}',\n\t\t];\n\t\tconst expected = [\n\t\t\tcreateLineChange(\n\t\t\t\t1, 27, 1, 27,\n\t\t\t\t[\n\t\t\t\t\tcreateCharChange(1, 1, 1, 1, 1, 1, 1, 2),\n\t\t\t\t\tcreateCharChange(2, 1, 2, 1, 2, 1, 2, 2),\n\t\t\t\t\tcreateCharChange(3, 1, 3, 1, 3, 1, 3, 2),\n\t\t\t\t\tcreateCharChange(4, 1, 4, 1, 4, 1, 4, 2),\n\t\t\t\t\tcreateCharChange(5, 1, 5, 1, 5, 1, 5, 2),\n\t\t\t\t\tcreateCharChange(6, 1, 6, 1, 6, 1, 6, 2),\n\t\t\t\t\tcreateCharChange(7, 1, 7, 1, 7, 1, 7, 2),\n\t\t\t\t\tcreateCharChange(8, 1, 8, 1, 8, 1, 8, 2),\n\t\t\t\t\tcreateCharChange(9, 1, 9, 1, 9, 1, 9, 2),\n\t\t\t\t\tcreateCharChange(10, 1, 10, 1, 10, 1, 10, 2),\n\t\t\t\t\tcreateCharChange(11, 1, 11, 1, 11, 1, 11, 2),\n\t\t\t\t\tcreateCharChange(12, 1, 12, 1, 12, 1, 12, 2),\n\t\t\t\t\tcreateCharChange(13, 1, 13, 1, 13, 1, 13, 2),\n\t\t\t\t\tcreateCharChange(14, 1, 14, 1, 14, 1, 14, 2),\n\t\t\t\t\tcreateCharChange(15, 1, 15, 1, 15, 1, 15, 2),\n\t\t\t\t\tcreateCharChange(16, 1, 16, 1, 16, 1, 16, 2),\n\t\t\t\t\tcreateCharChange(17, 1, 17, 1, 17, 1, 17, 2),\n\t\t\t\t\tcreateCharChange(18, 1, 18, 1, 18, 1, 18, 2),\n\t\t\t\t\tcreateCharChange(19, 1, 19, 1, 19, 1, 19, 2),\n\t\t\t\t\tcreateCharChange(20, 1, 20, 1, 20, 1, 20, 2),\n\t\t\t\t\tcreateCharChange(21, 1, 21, 1, 21, 1, 21, 2),\n\t\t\t\t\tcreateCharChange(22, 1, 22, 1, 22, 1, 22, 2),\n\t\t\t\t\tcreateCharChange(23, 1, 23, 1, 23, 1, 23, 2),\n\t\t\t\t\tcreateCharChange(24, 1, 24, 1, 24, 1, 24, 2),\n\t\t\t\t\tcreateCharChange(25, 1, 25, 1, 25, 1, 25, 2),\n\t\t\t\t\tcreateCharChange(26, 1, 26, 1, 26, 1, 26, 2),\n\t\t\t\t\tcreateCharChange(27, 1, 27, 1, 27, 1, 27, 2),\n\t\t\t\t]\n\t\t\t)\n\t\t\t// createLineInsertion(7, 11, 6)\n\t\t];\n\t\tassertDiff(original, modified, expected, true, true, false);\n\t});\n\n\ttest('issue #43922', () => {\n\t\tconst original = [\n\t\t\t' * `yarn [install]` -- Install project NPM dependencies. This is automatically done when you first create the project. You should only need to run this if you add dependencies in `package.json`.',\n\t\t];\n\t\tconst modified = [\n\t\t\t' * `yarn` -- Install project NPM dependencies. You should only need to run this if you add dependencies in `package.json`.',\n\t\t];\n\t\tconst expected = [\n\t\t\tcreateLineChange(\n\t\t\t\t1, 1, 1, 1,\n\t\t\t\t[\n\t\t\t\t\tcreateCharChange(1, 9, 1, 19, 1, 9, 1, 9),\n\t\t\t\t\tcreateCharChange(1, 58, 1, 120, 1, 48, 1, 48),\n\t\t\t\t]\n\t\t\t)\n\t\t];\n\t\tassertDiff(original, modified, expected, true, true, false);\n\t});\n\n\ttest('issue #42751', () => {\n\t\tconst original = [\n\t\t\t'    1',\n\t\t\t'  2',\n\t\t];\n\t\tconst modified = [\n\t\t\t'    1',\n\t\t\t'   3',\n\t\t];\n\t\tconst expected = [\n\t\t\tcreateLineChange(\n\t\t\t\t2, 2, 2, 2,\n\t\t\t\t[\n\t\t\t\t\tcreateCharChange(2, 3, 2, 4, 2, 3, 2, 5)\n\t\t\t\t]\n\t\t\t)\n\t\t];\n\t\tassertDiff(original, modified, expected, true, true, false);\n\t});\n\n\ttest('does not give character changes', () => {\n\t\tconst original = [\n\t\t\t'    1',\n\t\t\t'  2',\n\t\t\t'A',\n\t\t];\n\t\tconst modified = [\n\t\t\t'    1',\n\t\t\t'   3',\n\t\t\t' A',\n\t\t];\n\t\tconst expected = [\n\t\t\tcreateLineChange(\n\t\t\t\t2, 3, 2, 3\n\t\t\t)\n\t\t];\n\t\tassertDiff(original, modified, expected, false, false, false);\n\t});\n\n\ttest('issue #44422: Less than ideal diff results', () => {\n\t\tconst original = [\n\t\t\t'export class C {',\n\t\t\t'',\n\t\t\t'\tpublic m1(): void {',\n\t\t\t'\t\t{',\n\t\t\t'\t\t//2',\n\t\t\t'\t\t//3',\n\t\t\t'\t\t//4',\n\t\t\t'\t\t//5',\n\t\t\t'\t\t//6',\n\t\t\t'\t\t//7',\n\t\t\t'\t\t//8',\n\t\t\t'\t\t//9',\n\t\t\t'\t\t//10',\n\t\t\t'\t\t//11',\n\t\t\t'\t\t//12',\n\t\t\t'\t\t//13',\n\t\t\t'\t\t//14',\n\t\t\t'\t\t//15',\n\t\t\t'\t\t//16',\n\t\t\t'\t\t//17',\n\t\t\t'\t\t//18',\n\t\t\t'\t\t}',\n\t\t\t'\t}',\n\t\t\t'',\n\t\t\t'\tpublic m2(): void {',\n\t\t\t'\t\tif (a) {',\n\t\t\t'\t\t\tif (b) {',\n\t\t\t'\t\t\t\t//A1',\n\t\t\t'\t\t\t\t//A2',\n\t\t\t'\t\t\t\t//A3',\n\t\t\t'\t\t\t\t//A4',\n\t\t\t'\t\t\t\t//A5',\n\t\t\t'\t\t\t\t//A6',\n\t\t\t'\t\t\t\t//A7',\n\t\t\t'\t\t\t\t//A8',\n\t\t\t'\t\t\t}',\n\t\t\t'\t\t}',\n\t\t\t'',\n\t\t\t'\t\t//A9',\n\t\t\t'\t\t//A10',\n\t\t\t'\t\t//A11',\n\t\t\t'\t\t//A12',\n\t\t\t'\t\t//A13',\n\t\t\t'\t\t//A14',\n\t\t\t'\t\t//A15',\n\t\t\t'\t}',\n\t\t\t'',\n\t\t\t'\tpublic m3(): void {',\n\t\t\t'\t\tif (a) {',\n\t\t\t'\t\t\t//B1',\n\t\t\t'\t\t}',\n\t\t\t'\t\t//B2',\n\t\t\t'\t\t//B3',\n\t\t\t'\t}',\n\t\t\t'',\n\t\t\t'\tpublic m4(): boolean {',\n\t\t\t'\t\t//1',\n\t\t\t'\t\t//2',\n\t\t\t'\t\t//3',\n\t\t\t'\t\t//4',\n\t\t\t'\t}',\n\t\t\t'',\n\t\t\t'}',\n\t\t];\n\t\tconst modified = [\n\t\t\t'export class C {',\n\t\t\t'',\n\t\t\t'\tconstructor() {',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'\t}',\n\t\t\t'',\n\t\t\t'\tpublic m1(): void {',\n\t\t\t'\t\t{',\n\t\t\t'\t\t//2',\n\t\t\t'\t\t//3',\n\t\t\t'\t\t//4',\n\t\t\t'\t\t//5',\n\t\t\t'\t\t//6',\n\t\t\t'\t\t//7',\n\t\t\t'\t\t//8',\n\t\t\t'\t\t//9',\n\t\t\t'\t\t//10',\n\t\t\t'\t\t//11',\n\t\t\t'\t\t//12',\n\t\t\t'\t\t//13',\n\t\t\t'\t\t//14',\n\t\t\t'\t\t//15',\n\t\t\t'\t\t//16',\n\t\t\t'\t\t//17',\n\t\t\t'\t\t//18',\n\t\t\t'\t\t}',\n\t\t\t'\t}',\n\t\t\t'',\n\t\t\t'\tpublic m4(): boolean {',\n\t\t\t'\t\t//1',\n\t\t\t'\t\t//2',\n\t\t\t'\t\t//3',\n\t\t\t'\t\t//4',\n\t\t\t'\t}',\n\t\t\t'',\n\t\t\t'}',\n\t\t];\n\t\tconst expected = [\n\t\t\tcreateLineChange(\n\t\t\t\t2, 0, 3, 9\n\t\t\t),\n\t\t\tcreateLineChange(\n\t\t\t\t25, 55, 31, 0\n\t\t\t)\n\t\t];\n\t\tassertDiff(original, modified, expected, false, false, false);\n\t});\n\n\ttest('gives preference to matching longer lines', () => {\n\t\tconst original = [\n\t\t\t'A',\n\t\t\t'A',\n\t\t\t'BB',\n\t\t\t'C',\n\t\t];\n\t\tconst modified = [\n\t\t\t'A',\n\t\t\t'BB',\n\t\t\t'A',\n\t\t\t'D',\n\t\t\t'E',\n\t\t\t'A',\n\t\t\t'C',\n\t\t];\n\t\tconst expected = [\n\t\t\tcreateLineChange(\n\t\t\t\t2, 2, 1, 0\n\t\t\t),\n\t\t\tcreateLineChange(\n\t\t\t\t3, 0, 3, 6\n\t\t\t)\n\t\t];\n\t\tassertDiff(original, modified, expected, false, false, false);\n\t});\n\n\ttest('issue #119051: gives preference to fewer diff hunks', () => {\n\t\tconst original = [\n\t\t\t'1',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'2',\n\t\t\t'',\n\t\t];\n\t\tconst modified = [\n\t\t\t'1',\n\t\t\t'',\n\t\t\t'1.5',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'2',\n\t\t\t'',\n\t\t\t'3',\n\t\t\t'',\n\t\t];\n\t\tconst expected = [\n\t\t\tcreateLineChange(\n\t\t\t\t2, 0, 3, 4\n\t\t\t),\n\t\t\tcreateLineChange(\n\t\t\t\t5, 0, 8, 9\n\t\t\t)\n\t\t];\n\t\tassertDiff(original, modified, expected, false, false, false);\n\t});\n\n\ttest('issue #121436: Diff chunk contains an unchanged line part 1', () => {\n\t\tconst original = [\n\t\t\t'if (cond) {',\n\t\t\t'    cmd',\n\t\t\t'}',\n\t\t];\n\t\tconst modified = [\n\t\t\t'if (cond) {',\n\t\t\t'    if (other_cond) {',\n\t\t\t'        cmd',\n\t\t\t'    }',\n\t\t\t'}',\n\t\t];\n\t\tconst expected = [\n\t\t\tcreateLineChange(\n\t\t\t\t1, 0, 2, 2\n\t\t\t),\n\t\t\tcreateLineChange(\n\t\t\t\t2, 0, 4, 4\n\t\t\t)\n\t\t];\n\t\tassertDiff(original, modified, expected, false, false, true);\n\t});\n\n\ttest('issue #121436: Diff chunk contains an unchanged line part 2', () => {\n\t\tconst original = [\n\t\t\t'if (cond) {',\n\t\t\t'    cmd',\n\t\t\t'}',\n\t\t];\n\t\tconst modified = [\n\t\t\t'if (cond) {',\n\t\t\t'    if (other_cond) {',\n\t\t\t'        cmd',\n\t\t\t'    }',\n\t\t\t'}',\n\t\t];\n\t\tconst expected = [\n\t\t\tcreateLineChange(\n\t\t\t\t1, 0, 2, 2\n\t\t\t),\n\t\t\tcreateLineChange(\n\t\t\t\t2, 2, 3, 3\n\t\t\t),\n\t\t\tcreateLineChange(\n\t\t\t\t2, 0, 4, 4\n\t\t\t)\n\t\t];\n\t\tassertDiff(original, modified, expected, false, false, false);\n\t});\n\n\ttest('issue #169552: Assertion error when having both leading and trailing whitespace diffs', () => {\n\t\tconst original = [\n\t\t\t'if True:',\n\t\t\t'    print(2)',\n\t\t];\n\t\tconst modified = [\n\t\t\t'if True:',\n\t\t\t'\\tprint(2) ',\n\t\t];\n\t\tconst expected = [\n\t\t\tcreateLineChange(\n\t\t\t\t2, 2, 2, 2,\n\t\t\t\t[\n\t\t\t\t\tcreateCharChange(2, 1, 2, 5, 2, 1, 2, 2),\n\t\t\t\t\tcreateCharChange(2, 13, 2, 13, 2, 10, 2, 11),\n\t\t\t\t]\n\t\t\t),\n\t\t];\n\t\tassertDiff(original, modified, expected, true, false, false);\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport assert from 'assert';\nimport { Constants } from '../../../../base/common/uint.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\nimport { Range } from '../../../common/core/range.js';\nimport { DiffComputer, ICharChange, ILineChange } from '../../../common/diff/legacyLinesDiffComputer.js';\nimport { IIdentifiedSingleEditOperation, ITextModel } from '../../../common/model.js';\nimport { createTextModel } from '../testTextModel.js';\n\nfunction assertDiff(originalLines: string[], modifiedLines: string[], expectedChanges: ILineChange[], shouldComputeCharChanges: boolean = true, shouldPostProcessCharChanges: boolean = false, shouldIgnoreTrimWhitespace: boolean = false) {\n\tconst diffComputer = new DiffComputer(originalLines, modifiedLines, {\n\t\tshouldComputeCharChanges,\n\t\tshouldPostProcessCharChanges,\n\t\tshouldIgnoreTrimWhitespace,\n\t\tshouldMakePrettyDiff: true,\n\t\tmaxComputationTime: 0\n\t});\n\tconst changes = diffComputer.computeDiff().changes;\n\n\tconst mapCharChange = (charChange: ICharChange) => {\n\t\treturn {\n\t\t\toriginalStartLineNumber: charChange.originalStartLineNumber,\n\t\t\toriginalStartColumn: charChange.originalStartColumn,\n\t\t\toriginalEndLineNumber: charChange.originalEndLineNumber,\n\t\t\toriginalEndColumn: charChange.originalEndColumn,\n\t\t\tmodifiedStartLineNumber: charChange.modifiedStartLineNumber,\n\t\t\tmodifiedStartColumn: charChange.modifiedStartColumn,\n\t\t\tmodifiedEndLineNumber: charChange.modifiedEndLineNumber,\n\t\t\tmodifiedEndColumn: charChange.modifiedEndColumn,\n\t\t};\n\t};\n\n\tconst actual = changes.map((lineChange) => {\n\t\treturn {\n\t\t\toriginalStartLineNumber: lineChange.originalStartLineNumber,\n\t\t\toriginalEndLineNumber: lineChange.originalEndLineNumber,\n\t\t\tmodifiedStartLineNumber: lineChange.modifiedStartLineNumber,\n\t\t\tmodifiedEndLineNumber: lineChange.modifiedEndLineNumber,\n\t\t\tcharChanges: (lineChange.charChanges ? lineChange.charChanges.map(mapCharChange) : undefined)\n\t\t};\n\t});\n\n\tassert.deepStrictEqual(actual, expectedChanges);\n\n\tif (!shouldIgnoreTrimWhitespace) {\n\t\t// The diffs should describe how to apply edits to the original text model to get to the modified text model.\n\n\t\tconst modifiedTextModel = createTextModel(modifiedLines.join('\\n'));\n\t\tconst expectedValue = modifiedTextModel.getValue();\n\n\t\t{\n\t\t\t// Line changes:\n\t\t\tconst originalTextModel = createTextModel(originalLines.join('\\n'));\n\t\t\toriginalTextModel.applyEdits(changes.map(c => getLineEdit(c, modifiedTextModel)));\n\t\t\tassert.deepStrictEqual(originalTextModel.getValue(), expectedValue);\n\t\t\toriginalTextModel.dispose();\n\t\t}\n\n\t\tif (shouldComputeCharChanges) {\n\t\t\t// Char changes:\n\t\t\tconst originalTextModel = createTextModel(originalLines.join('\\n'));\n\t\t\toriginalTextModel.applyEdits(changes.flatMap(c => getCharEdits(c, modifiedTextModel)));\n\t\t\tassert.deepStrictEqual(originalTextModel.getValue(), expectedValue);\n\t\t\toriginalTextModel.dispose();\n\t\t}\n\n\t\tmodifiedTextModel.dispose();\n\t}\n}\n\nfunction getCharEdits(lineChange: ILineChange, modifiedTextModel: ITextModel): IIdentifiedSingleEditOperation[] {\n\tif (!lineChange.charChanges) {\n\t\treturn [getLineEdit(lineChange, modifiedTextModel)];\n\t}\n\treturn lineChange.charChanges.map(c => {\n\t\tconst originalRange = new Range(c.originalStartLineNumber, c.originalStartColumn, c.originalEndLineNumber, c.originalEndColumn);\n\t\tconst modifiedRange = new Range(c.modifiedStartLineNumber, c.modifiedStartColumn, c.modifiedEndLineNumber, c.modifiedEndColumn);\n\t\treturn {\n\t\t\trange: originalRange,\n\t\t\ttext: modifiedTextModel.getValueInRange(modifiedRange)\n\t\t};\n\t});\n}\n\nfunction getLineEdit(lineChange: ILineChange, modifiedTextModel: ITextModel): IIdentifiedSingleEditOperation {\n\tlet originalRange: LineRange;\n\tif (lineChange.originalEndLineNumber === 0) {\n\t\t// Insertion\n\t\toriginalRange = new LineRange(lineChange.originalStartLineNumber + 1, 0);\n\t} else {\n\t\toriginalRange = new LineRange(lineChange.originalStartLineNumber, lineChange.originalEndLineNumber - lineChange.originalStartLineNumber + 1);\n\t}\n\n\tlet modifiedRange: LineRange;\n\tif (lineChange.modifiedEndLineNumber === 0) {\n\t\t// Deletion\n\t\tmodifiedRange = new LineRange(lineChange.modifiedStartLineNumber + 1, 0);\n\t} else {\n\t\tmodifiedRange = new LineRange(lineChange.modifiedStartLineNumber, lineChange.modifiedEndLineNumber - lineChange.modifiedStartLineNumber + 1);\n\t}\n\n\tconst [r1, r2] = diffFromLineRanges(originalRange, modifiedRange);\n\treturn {\n\t\trange: r1,\n\t\ttext: modifiedTextModel.getValueInRange(r2),\n\t};\n}\n\nfunction diffFromLineRanges(originalRange: LineRange, modifiedRange: LineRange): [Range, Range] {\n\tif (originalRange.startLineNumber === 1 || modifiedRange.startLineNumber === 1) {\n\t\tif (!originalRange.isEmpty && !modifiedRange.isEmpty) {\n\t\t\treturn [\n\t\t\t\tnew Range(\n\t\t\t\t\toriginalRange.startLineNumber,\n\t\t\t\t\t1,\n\t\t\t\t\toriginalRange.endLineNumberExclusive - 1,\n\t\t\t\t\tConstants.MAX_SAFE_SMALL_INTEGER,\n\t\t\t\t),\n\t\t\t\tnew Range(\n\t\t\t\t\tmodifiedRange.startLineNumber,\n\t\t\t\t\t1,\n\t\t\t\t\tmodifiedRange.endLineNumberExclusive - 1,\n\t\t\t\t\tConstants.MAX_SAFE_SMALL_INTEGER,\n\t\t\t\t)\n\t\t\t];\n\t\t}\n\n\t\t// When one of them is one and one of them is empty, the other cannot be the last line of the document\n\t\treturn [\n\t\t\tnew Range(\n\t\t\t\toriginalRange.startLineNumber,\n\t\t\t\t1,\n\t\t\t\toriginalRange.endLineNumberExclusive,\n\t\t\t\t1,\n\t\t\t),\n\t\t\tnew Range(\n\t\t\t\tmodifiedRange.startLineNumber,\n\t\t\t\t1,\n\t\t\t\tmodifiedRange.endLineNumberExclusive,\n\t\t\t\t1,\n\t\t\t)\n\t\t];\n\t}\n\n\treturn [\n\t\tnew Range(\n\t\t\toriginalRange.startLineNumber - 1,\n\t\t\tConstants.MAX_SAFE_SMALL_INTEGER,\n\t\t\toriginalRange.endLineNumberExclusive - 1,\n\t\t\tConstants.MAX_SAFE_SMALL_INTEGER,\n\t\t),\n\t\tnew Range(\n\t\t\tmodifiedRange.startLineNumber - 1,\n\t\t\tConstants.MAX_SAFE_SMALL_INTEGER,\n\t\t\tmodifiedRange.endLineNumberExclusive - 1,\n\t\t\tConstants.MAX_SAFE_SMALL_INTEGER,\n\t\t)\n\t];\n}\n\nclass LineRange {\n\tpublic constructor(\n\t\tpublic readonly startLineNumber: number,\n\t\tpublic readonly lineCount: number\n\t) { }\n\n\tpublic get isEmpty(): boolean {\n\t\treturn this.lineCount === 0;\n\t}\n\n\tpublic get endLineNumberExclusive(): number {\n\t\treturn this.startLineNumber + this.lineCount;\n\t}\n}\n\nfunction createLineDeletion(startLineNumber: number, endLineNumber: number, modifiedLineNumber: number): ILineChange {\n\treturn {\n\t\toriginalStartLineNumber: startLineNumber,\n\t\toriginalEndLineNumber: endLineNumber,\n\t\tmodifiedStartLineNumber: modifiedLineNumber,\n\t\tmodifiedEndLineNumber: 0,\n\t\tcharChanges: undefined\n\t};\n}\n\nfunction createLineInsertion(startLineNumber: number, endLineNumber: number, originalLineNumber: number): ILineChange {\n\treturn {\n\t\toriginalStartLineNumber: originalLineNumber,\n\t\toriginalEndLineNumber: 0,\n\t\tmodifiedStartLineNumber: startLineNumber,\n\t\tmodifiedEndLineNumber: endLineNumber,\n\t\tcharChanges: undefined\n\t};\n}\n\nfunction createLineChange(originalStartLineNumber: number, originalEndLineNumber: number, modifiedStartLineNumber: number, modifiedEndLineNumber: number, charChanges?: ICharChange[]): ILineChange {\n\treturn {\n\t\toriginalStartLineNumber: originalStartLineNumber,\n\t\toriginalEndLineNumber: originalEndLineNumber,\n\t\tmodifiedStartLineNumber: modifiedStartLineNumber,\n\t\tmodifiedEndLineNumber: modifiedEndLineNumber,\n\t\tcharChanges: charChanges\n\t};\n}\n\nfunction createCharChange(\n\toriginalStartLineNumber: number, originalStartColumn: number, originalEndLineNumber: number, originalEndColumn: number,\n\tmodifiedStartLineNumber: number, modifiedStartColumn: number, modifiedEndLineNumber: number, modifiedEndColumn: number\n) {\n\treturn {\n\t\toriginalStartLineNumber: originalStartLineNumber,\n\t\toriginalStartColumn: originalStartColumn,\n\t\toriginalEndLineNumber: originalEndLineNumber,\n\t\toriginalEndColumn: originalEndColumn,\n\t\tmodifiedStartLineNumber: modifiedStartLineNumber,\n\t\tmodifiedStartColumn: modifiedStartColumn,\n\t\tmodifiedEndLineNumber: modifiedEndLineNumber,\n\t\tmodifiedEndColumn: modifiedEndColumn\n\t};\n}\n\nsuite('Editor Diff - DiffComputer', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\t// ---- insertions\n\n\ttest('one inserted line below', () => {\n\t\tconst original = ['line'];\n\t\tconst modified = ['line', 'new line'];\n\t\tconst expected = [createLineInsertion(2, 2, 1)];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('two inserted lines below', () => {\n\t\tconst original = ['line'];\n\t\tconst modified = ['line', 'new line', 'another new line'];\n\t\tconst expected = [createLineInsertion(2, 3, 1)];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('one inserted line above', () => {\n\t\tconst original = ['line'];\n\t\tconst modified = ['new line', 'line'];\n\t\tconst expected = [createLineInsertion(1, 1, 0)];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('two inserted lines above', () => {\n\t\tconst original = ['line'];\n\t\tconst modified = ['new line', 'another new line', 'line'];\n\t\tconst expected = [createLineInsertion(1, 2, 0)];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('one inserted line in middle', () => {\n\t\tconst original = ['line1', 'line2', 'line3', 'line4'];\n\t\tconst modified = ['line1', 'line2', 'new line', 'line3', 'line4'];\n\t\tconst expected = [createLineInsertion(3, 3, 2)];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('two inserted lines in middle', () => {\n\t\tconst original = ['line1', 'line2', 'line3', 'line4'];\n\t\tconst modified = ['line1', 'line2', 'new line', 'another new line', 'line3', 'line4'];\n\t\tconst expected = [createLineInsertion(3, 4, 2)];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('two inserted lines in middle interrupted', () => {\n\t\tconst original = ['line1', 'line2', 'line3', 'line4'];\n\t\tconst modified = ['line1', 'line2', 'new line', 'line3', 'another new line', 'line4'];\n\t\tconst expected = [createLineInsertion(3, 3, 2), createLineInsertion(5, 5, 3)];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\t// ---- deletions\n\n\ttest('one deleted line below', () => {\n\t\tconst original = ['line', 'new line'];\n\t\tconst modified = ['line'];\n\t\tconst expected = [createLineDeletion(2, 2, 1)];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('two deleted lines below', () => {\n\t\tconst original = ['line', 'new line', 'another new line'];\n\t\tconst modified = ['line'];\n\t\tconst expected = [createLineDeletion(2, 3, 1)];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('one deleted lines above', () => {\n\t\tconst original = ['new line', 'line'];\n\t\tconst modified = ['line'];\n\t\tconst expected = [createLineDeletion(1, 1, 0)];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('two deleted lines above', () => {\n\t\tconst original = ['new line', 'another new line', 'line'];\n\t\tconst modified = ['line'];\n\t\tconst expected = [createLineDeletion(1, 2, 0)];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('one deleted line in middle', () => {\n\t\tconst original = ['line1', 'line2', 'new line', 'line3', 'line4'];\n\t\tconst modified = ['line1', 'line2', 'line3', 'line4'];\n\t\tconst expected = [createLineDeletion(3, 3, 2)];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('two deleted lines in middle', () => {\n\t\tconst original = ['line1', 'line2', 'new line', 'another new line', 'line3', 'line4'];\n\t\tconst modified = ['line1', 'line2', 'line3', 'line4'];\n\t\tconst expected = [createLineDeletion(3, 4, 2)];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('two deleted lines in middle interrupted', () => {\n\t\tconst original = ['line1', 'line2', 'new line', 'line3', 'another new line', 'line4'];\n\t\tconst modified = ['line1', 'line2', 'line3', 'line4'];\n\t\tconst expected = [createLineDeletion(3, 3, 2), createLineDeletion(5, 5, 3)];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\t// ---- changes\n\n\ttest('one line changed: chars inserted at the end', () => {\n\t\tconst original = ['line'];\n\t\tconst modified = ['line changed'];\n\t\tconst expected = [\n\t\t\tcreateLineChange(1, 1, 1, 1, [\n\t\t\t\tcreateCharChange(1, 5, 1, 5, 1, 5, 1, 13)\n\t\t\t])\n\t\t];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('one line changed: chars inserted at the beginning', () => {\n\t\tconst original = ['line'];\n\t\tconst modified = ['my line'];\n\t\tconst expected = [\n\t\t\tcreateLineChange(1, 1, 1, 1, [\n\t\t\t\tcreateCharChange(1, 1, 1, 1, 1, 1, 1, 4)\n\t\t\t])\n\t\t];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('one line changed: chars inserted in the middle', () => {\n\t\tconst original = ['abba'];\n\t\tconst modified = ['abzzba'];\n\t\tconst expected = [\n\t\t\tcreateLineChange(1, 1, 1, 1, [\n\t\t\t\tcreateCharChange(1, 3, 1, 3, 1, 3, 1, 5)\n\t\t\t])\n\t\t];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('one line changed: chars inserted in the middle (two spots)', () => {\n\t\tconst original = ['abba'];\n\t\tconst modified = ['abzzbzza'];\n\t\tconst expected = [\n\t\t\tcreateLineChange(1, 1, 1, 1, [\n\t\t\t\tcreateCharChange(1, 3, 1, 3, 1, 3, 1, 5),\n\t\t\t\tcreateCharChange(1, 4, 1, 4, 1, 6, 1, 8)\n\t\t\t])\n\t\t];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('one line changed: chars deleted 1', () => {\n\t\tconst original = ['abcdefg'];\n\t\tconst modified = ['abcfg'];\n\t\tconst expected = [\n\t\t\tcreateLineChange(1, 1, 1, 1, [\n\t\t\t\tcreateCharChange(1, 4, 1, 6, 1, 4, 1, 4)\n\t\t\t])\n\t\t];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('one line changed: chars deleted 2', () => {\n\t\tconst original = ['abcdefg'];\n\t\tconst modified = ['acfg'];\n\t\tconst expected = [\n\t\t\tcreateLineChange(1, 1, 1, 1, [\n\t\t\t\tcreateCharChange(1, 2, 1, 3, 1, 2, 1, 2),\n\t\t\t\tcreateCharChange(1, 4, 1, 6, 1, 3, 1, 3)\n\t\t\t])\n\t\t];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('two lines changed 1', () => {\n\t\tconst original = ['abcd', 'efgh'];\n\t\tconst modified = ['abcz'];\n\t\tconst expected = [\n\t\t\tcreateLineChange(1, 2, 1, 1, [\n\t\t\t\tcreateCharChange(1, 4, 2, 5, 1, 4, 1, 5)\n\t\t\t])\n\t\t];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('two lines changed 2', () => {\n\t\tconst original = ['foo', 'abcd', 'efgh', 'BAR'];\n\t\tconst modified = ['foo', 'abcz', 'BAR'];\n\t\tconst expected = [\n\t\t\tcreateLineChange(2, 3, 2, 2, [\n\t\t\t\tcreateCharChange(2, 4, 3, 5, 2, 4, 2, 5)\n\t\t\t])\n\t\t];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('two lines changed 3', () => {\n\t\tconst original = ['foo', 'abcd', 'efgh', 'BAR'];\n\t\tconst modified = ['foo', 'abcz', 'zzzzefgh', 'BAR'];\n\t\tconst expected = [\n\t\t\tcreateLineChange(2, 3, 2, 3, [\n\t\t\t\tcreateCharChange(2, 4, 2, 5, 2, 4, 2, 5),\n\t\t\t\tcreateCharChange(3, 1, 3, 1, 3, 1, 3, 5)\n\t\t\t])\n\t\t];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('two lines changed 4', () => {\n\t\tconst original = ['abc'];\n\t\tconst modified = ['', '', 'axc', ''];\n\t\tconst expected = [\n\t\t\tcreateLineChange(1, 1, 1, 4, [\n\t\t\t\tcreateCharChange(1, 1, 1, 1, 1, 1, 3, 1),\n\t\t\t\tcreateCharChange(1, 2, 1, 3, 3, 2, 3, 3),\n\t\t\t\tcreateCharChange(1, 4, 1, 4, 3, 4, 4, 1)\n\t\t\t])\n\t\t];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('empty original sequence in char diff', () => {\n\t\tconst original = ['abc', '', 'xyz'];\n\t\tconst modified = ['abc', 'qwe', 'rty', 'xyz'];\n\t\tconst expected = [\n\t\t\tcreateLineChange(2, 2, 2, 3)\n\t\t];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('three lines changed', () => {\n\t\tconst original = ['foo', 'abcd', 'efgh', 'BAR'];\n\t\tconst modified = ['foo', 'zzzefgh', 'xxx', 'BAR'];\n\t\tconst expected = [\n\t\t\tcreateLineChange(2, 3, 2, 3, [\n\t\t\t\tcreateCharChange(2, 1, 3, 1, 2, 1, 2, 4),\n\t\t\t\tcreateCharChange(3, 5, 3, 5, 2, 8, 3, 4),\n\t\t\t])\n\t\t];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('big change part 1', () => {\n\t\tconst original = ['foo', 'abcd', 'efgh', 'BAR'];\n\t\tconst modified = ['hello', 'foo', 'zzzefgh', 'xxx', 'BAR'];\n\t\tconst expected = [\n\t\t\tcreateLineInsertion(1, 1, 0),\n\t\t\tcreateLineChange(2, 3, 3, 4, [\n\t\t\t\tcreateCharChange(2, 1, 3, 1, 3, 1, 3, 4),\n\t\t\t\tcreateCharChange(3, 5, 3, 5, 3, 8, 4, 4)\n\t\t\t])\n\t\t];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('big change part 2', () => {\n\t\tconst original = ['foo', 'abcd', 'efgh', 'BAR', 'RAB'];\n\t\tconst modified = ['hello', 'foo', 'zzzefgh', 'xxx', 'BAR'];\n\t\tconst expected = [\n\t\t\tcreateLineInsertion(1, 1, 0),\n\t\t\tcreateLineChange(2, 3, 3, 4, [\n\t\t\t\tcreateCharChange(2, 1, 3, 1, 3, 1, 3, 4),\n\t\t\t\tcreateCharChange(3, 5, 3, 5, 3, 8, 4, 4)\n\t\t\t]),\n\t\t\tcreateLineDeletion(5, 5, 5)\n\t\t];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('char change postprocessing merges', () => {\n\t\tconst original = ['abba'];\n\t\tconst modified = ['azzzbzzzbzzza'];\n\t\tconst expected = [\n\t\t\tcreateLineChange(1, 1, 1, 1, [\n\t\t\t\tcreateCharChange(1, 2, 1, 4, 1, 2, 1, 13)\n\t\t\t])\n\t\t];\n\t\tassertDiff(original, modified, expected, true, true);\n\t});\n\n\ttest('ignore trim whitespace', () => {\n\t\tconst original = ['\\t\\t foo ', 'abcd', 'efgh', '\\t\\t BAR\\t\\t'];\n\t\tconst modified = ['  hello\\t', '\\t foo   \\t', 'zzzefgh', 'xxx', '   BAR   \\t'];\n\t\tconst expected = [\n\t\t\tcreateLineInsertion(1, 1, 0),\n\t\t\tcreateLineChange(2, 3, 3, 4, [\n\t\t\t\tcreateCharChange(2, 1, 2, 5, 3, 1, 3, 4),\n\t\t\t\tcreateCharChange(3, 5, 3, 5, 4, 1, 4, 4)\n\t\t\t])\n\t\t];\n\t\tassertDiff(original, modified, expected, true, false, true);\n\t});\n\n\ttest('issue #12122 r.hasOwnProperty is not a function', () => {\n\t\tconst original = ['hasOwnProperty'];\n\t\tconst modified = ['hasOwnProperty', 'and another line'];\n\t\tconst expected = [\n\t\t\tcreateLineInsertion(2, 2, 1)\n\t\t];\n\t\tassertDiff(original, modified, expected);\n\t});\n\n\ttest('empty diff 1', () => {\n\t\tconst original = [''];\n\t\tconst modified = ['something'];\n\t\tconst expected = [\n\t\t\tcreateLineChange(1, 1, 1, 1, undefined)\n\t\t];\n\t\tassertDiff(original, modified, expected, true, false, true);\n\t});\n\n\ttest('empty diff 2', () => {\n\t\tconst original = [''];\n\t\tconst modified = ['something', 'something else'];\n\t\tconst expected = [\n\t\t\tcreateLineChange(1, 1, 1, 2, undefined)\n\t\t];\n\t\tassertDiff(original, modified, expected, true, false, true);\n\t});\n\n\ttest('empty diff 3', () => {\n\t\tconst original = ['something', 'something else'];\n\t\tconst modified = [''];\n\t\tconst expected = [\n\t\t\tcreateLineChange(1, 2, 1, 1, undefined)\n\t\t];\n\t\tassertDiff(original, modified, expected, true, false, true);\n\t});\n\n\ttest('empty diff 4', () => {\n\t\tconst original = ['something'];\n\t\tconst modified = [''];\n\t\tconst expected = [\n\t\t\tcreateLineChange(1, 1, 1, 1, undefined)\n\t\t];\n\t\tassertDiff(original, modified, expected, true, false, true);\n\t});\n\n\ttest('empty diff 5', () => {\n\t\tconst original = [''];\n\t\tconst modified = [''];\n\t\tconst expected: ILineChange[] = [];\n\t\tassertDiff(original, modified, expected, true, false, true);\n\t});\n\n\ttest('pretty diff 1', () => {\n\t\tconst original = [\n\t\t\t'suite(function () {',\n\t\t\t'\ttest1() {',\n\t\t\t'\t\tassert.ok(true);',\n\t\t\t'\t}',\n\t\t\t'',\n\t\t\t'\ttest2() {',\n\t\t\t'\t\tassert.ok(true);',\n\t\t\t'\t}',\n\t\t\t'});',\n\t\t\t'',\n\t\t];\n\t\tconst modified = [\n\t\t\t'// An insertion',\n\t\t\t'suite(function () {',\n\t\t\t'\ttest1() {',\n\t\t\t'\t\tassert.ok(true);',\n\t\t\t'\t}',\n\t\t\t'',\n\t\t\t'\ttest2() {',\n\t\t\t'\t\tassert.ok(true);',\n\t\t\t'\t}',\n\t\t\t'',\n\t\t\t'\ttest3() {',\n\t\t\t'\t\tassert.ok(true);',\n\t\t\t'\t}',\n\t\t\t'});',\n\t\t\t'',\n\t\t];\n\t\tconst expected = [\n\t\t\tcreateLineInsertion(1, 1, 0),\n\t\t\tcreateLineInsertion(10, 13, 8)\n\t\t];\n\t\tassertDiff(original, modified, expected, true, false, true);\n\t});\n\n\ttest('pretty diff 2', () => {\n\t\tconst original = [\n\t\t\t'// Just a comment',\n\t\t\t'',\n\t\t\t'function compute(a, b, c, d) {',\n\t\t\t'\tif (a) {',\n\t\t\t'\t\tif (b) {',\n\t\t\t'\t\t\tif (c) {',\n\t\t\t'\t\t\t\treturn 5;',\n\t\t\t'\t\t\t}',\n\t\t\t'\t\t}',\n\t\t\t'\t\t// These next lines will be deleted',\n\t\t\t'\t\tif (d) {',\n\t\t\t'\t\t\treturn -1;',\n\t\t\t'\t\t}',\n\t\t\t'\t\treturn 0;',\n\t\t\t'\t}',\n\t\t\t'}',\n\t\t];\n\t\tconst modified = [\n\t\t\t'// Here is an inserted line',\n\t\t\t'// and another inserted line',\n\t\t\t'// and another one',\n\t\t\t'// Just a comment',\n\t\t\t'',\n\t\t\t'function compute(a, b, c, d) {',\n\t\t\t'\tif (a) {',\n\t\t\t'\t\tif (b) {',\n\t\t\t'\t\t\tif (c) {',\n\t\t\t'\t\t\t\treturn 5;',\n\t\t\t'\t\t\t}',\n\t\t\t'\t\t}',\n\t\t\t'\t\treturn 0;',\n\t\t\t'\t}',\n\t\t\t'}',\n\t\t];\n\t\tconst expected = [\n\t\t\tcreateLineInsertion(1, 3, 0),\n\t\t\tcreateLineDeletion(10, 13, 12),\n\t\t];\n\t\tassertDiff(original, modified, expected, true, false, true);\n\t});\n\n\ttest('pretty diff 3', () => {\n\t\tconst original = [\n\t\t\t'class A {',\n\t\t\t'\t/**',\n\t\t\t'\t * m1',\n\t\t\t'\t */',\n\t\t\t'\tmethod1() {}',\n\t\t\t'',\n\t\t\t'\t/**',\n\t\t\t'\t * m3',\n\t\t\t'\t */',\n\t\t\t'\tmethod3() {}',\n\t\t\t'}',\n\t\t];\n\t\tconst modified = [\n\t\t\t'class A {',\n\t\t\t'\t/**',\n\t\t\t'\t * m1',\n\t\t\t'\t */',\n\t\t\t'\tmethod1() {}',\n\t\t\t'',\n\t\t\t'\t/**',\n\t\t\t'\t * m2',\n\t\t\t'\t */',\n\t\t\t'\tmethod2() {}',\n\t\t\t'',\n\t\t\t'\t/**',\n\t\t\t'\t * m3',\n\t\t\t'\t */',\n\t\t\t'\tmethod3() {}',\n\t\t\t'}',\n\t\t];\n\t\tconst expected = [\n\t\t\tcreateLineInsertion(7, 11, 6)\n\t\t];\n\t\tassertDiff(original, modified, expected, true, false, true);\n\t});\n\n\ttest('issue #23636', () => {\n\t\tconst original = [\n\t\t\t'if(!TextDrawLoad[playerid])',\n\t\t\t'{',\n\t\t\t'',\n\t\t\t'\tTextDrawHideForPlayer(playerid,TD_AppleJob[3]);',\n\t\t\t'\tTextDrawHideForPlayer(playerid,TD_AppleJob[4]);',\n\t\t\t'\tif(!AppleJobTreesType[AppleJobTreesPlayerNum[playerid]])',\n\t\t\t'\t{',\n\t\t\t'\t\tfor(new i=0;i<10;i++) if(StatusTD_AppleJobApples[playerid][i]) TextDrawHideForPlayer(playerid,TD_AppleJob[5+i]);',\n\t\t\t'\t}',\n\t\t\t'\telse',\n\t\t\t'\t{',\n\t\t\t'\t\tfor(new i=0;i<10;i++) if(StatusTD_AppleJobApples[playerid][i]) TextDrawHideForPlayer(playerid,TD_AppleJob[15+i]);',\n\t\t\t'\t}',\n\t\t\t'}',\n\t\t\t'else',\n\t\t\t'{',\n\t\t\t'\tTextDrawHideForPlayer(playerid,TD_AppleJob[3]);',\n\t\t\t'\tTextDrawHideForPlayer(playerid,TD_AppleJob[27]);',\n\t\t\t'\tif(!AppleJobTreesType[AppleJobTreesPlayerNum[playerid]])',\n\t\t\t'\t{',\n\t\t\t'\t\tfor(new i=0;i<10;i++) if(StatusTD_AppleJobApples[playerid][i]) TextDrawHideForPlayer(playerid,TD_AppleJob[28+i]);',\n\t\t\t'\t}',\n\t\t\t'\telse',\n\t\t\t'\t{',\n\t\t\t'\t\tfor(new i=0;i<10;i++) if(StatusTD_AppleJobApples[playerid][i]) TextDrawHideForPlayer(playerid,TD_AppleJob[38+i]);',\n\t\t\t'\t}',\n\t\t\t'}',\n\t\t];\n\t\tconst modified = [\n\t\t\t'\tif(!TextDrawLoad[playerid])',\n\t\t\t'\t{',\n\t\t\t'\t',\n\t\t\t'\t\tTextDrawHideForPlayer(playerid,TD_AppleJob[3]);',\n\t\t\t'\t\tTextDrawHideForPlayer(playerid,TD_AppleJob[4]);',\n\t\t\t'\t\tif(!AppleJobTreesType[AppleJobTreesPlayerNum[playerid]])',\n\t\t\t'\t\t{',\n\t\t\t'\t\t\tfor(new i=0;i<10;i++) if(StatusTD_AppleJobApples[playerid][i]) TextDrawHideForPlayer(playerid,TD_AppleJob[5+i]);',\n\t\t\t'\t\t}',\n\t\t\t'\t\telse',\n\t\t\t'\t\t{',\n\t\t\t'\t\t\tfor(new i=0;i<10;i++) if(StatusTD_AppleJobApples[playerid][i]) TextDrawHideForPlayer(playerid,TD_AppleJob[15+i]);',\n\t\t\t'\t\t}',\n\t\t\t'\t}',\n\t\t\t'\telse',\n\t\t\t'\t{',\n\t\t\t'\t\tTextDrawHideForPlayer(playerid,TD_AppleJob[3]);',\n\t\t\t'\t\tTextDrawHideForPlayer(playerid,TD_AppleJob[27]);',\n\t\t\t'\t\tif(!AppleJobTreesType[AppleJobTreesPlayerNum[playerid]])',\n\t\t\t'\t\t{',\n\t\t\t'\t\t\tfor(new i=0;i<10;i++) if(StatusTD_AppleJobApples[playerid][i]) TextDrawHideForPlayer(playerid,TD_AppleJob[28+i]);',\n\t\t\t'\t\t}',\n\t\t\t'\t\telse',\n\t\t\t'\t\t{',\n\t\t\t'\t\t\tfor(new i=0;i<10;i++) if(StatusTD_AppleJobApples[playerid][i]) TextDrawHideForPlayer(playerid,TD_AppleJob[38+i]);',\n\t\t\t'\t\t}',\n\t\t\t'\t}',\n\t\t];\n\t\tconst expected = [\n\t\t\tcreateLineChange(\n\t\t\t\t1, 27, 1, 27,\n\t\t\t\t[\n\t\t\t\t\tcreateCharChange(1, 1, 1, 1, 1, 1, 1, 2),\n\t\t\t\t\tcreateCharChange(2, 1, 2, 1, 2, 1, 2, 2),\n\t\t\t\t\tcreateCharChange(3, 1, 3, 1, 3, 1, 3, 2),\n\t\t\t\t\tcreateCharChange(4, 1, 4, 1, 4, 1, 4, 2),\n\t\t\t\t\tcreateCharChange(5, 1, 5, 1, 5, 1, 5, 2),\n\t\t\t\t\tcreateCharChange(6, 1, 6, 1, 6, 1, 6, 2),\n\t\t\t\t\tcreateCharChange(7, 1, 7, 1, 7, 1, 7, 2),\n\t\t\t\t\tcreateCharChange(8, 1, 8, 1, 8, 1, 8, 2),\n\t\t\t\t\tcreateCharChange(9, 1, 9, 1, 9, 1, 9, 2),\n\t\t\t\t\tcreateCharChange(10, 1, 10, 1, 10, 1, 10, 2),\n\t\t\t\t\tcreateCharChange(11, 1, 11, 1, 11, 1, 11, 2),\n\t\t\t\t\tcreateCharChange(12, 1, 12, 1, 12, 1, 12, 2),\n\t\t\t\t\tcreateCharChange(13, 1, 13, 1, 13, 1, 13, 2),\n\t\t\t\t\tcreateCharChange(14, 1, 14, 1, 14, 1, 14, 2),\n\t\t\t\t\tcreateCharChange(15, 1, 15, 1, 15, 1, 15, 2),\n\t\t\t\t\tcreateCharChange(16, 1, 16, 1, 16, 1, 16, 2),\n\t\t\t\t\tcreateCharChange(17, 1, 17, 1, 17, 1, 17, 2),\n\t\t\t\t\tcreateCharChange(18, 1, 18, 1, 18, 1, 18, 2),\n\t\t\t\t\tcreateCharChange(19, 1, 19, 1, 19, 1, 19, 2),\n\t\t\t\t\tcreateCharChange(20, 1, 20, 1, 20, 1, 20, 2),\n\t\t\t\t\tcreateCharChange(21, 1, 21, 1, 21, 1, 21, 2),\n\t\t\t\t\tcreateCharChange(22, 1, 22, 1, 22, 1, 22, 2),\n\t\t\t\t\tcreateCharChange(23, 1, 23, 1, 23, 1, 23, 2),\n\t\t\t\t\tcreateCharChange(24, 1, 24, 1, 24, 1, 24, 2),\n\t\t\t\t\tcreateCharChange(25, 1, 25, 1, 25, 1, 25, 2),\n\t\t\t\t\tcreateCharChange(26, 1, 26, 1, 26, 1, 26, 2),\n\t\t\t\t\tcreateCharChange(27, 1, 27, 1, 27, 1, 27, 2),\n\t\t\t\t]\n\t\t\t)\n\t\t\t// createLineInsertion(7, 11, 6)\n\t\t];\n\t\tassertDiff(original, modified, expected, true, true, false);\n\t});\n\n\ttest('issue #43922', () => {\n\t\tconst original = [\n\t\t\t' * `yarn [install]` -- Install project NPM dependencies. This is automatically done when you first create the project. You should only need to run this if you add dependencies in `package.json`.',\n\t\t];\n\t\tconst modified = [\n\t\t\t' * `yarn` -- Install project NPM dependencies. You should only need to run this if you add dependencies in `package.json`.',\n\t\t];\n\t\tconst expected = [\n\t\t\tcreateLineChange(\n\t\t\t\t1, 1, 1, 1,\n\t\t\t\t[\n\t\t\t\t\tcreateCharChange(1, 9, 1, 19, 1, 9, 1, 9),\n\t\t\t\t\tcreateCharChange(1, 58, 1, 120, 1, 48, 1, 48),\n\t\t\t\t]\n\t\t\t)\n\t\t];\n\t\tassertDiff(original, modified, expected, true, true, false);\n\t});\n\n\ttest('issue #42751', () => {\n\t\tconst original = [\n\t\t\t'    1',\n\t\t\t'  2',\n\t\t];\n\t\tconst modified = [\n\t\t\t'    1',\n\t\t\t'   3',\n\t\t];\n\t\tconst expected = [\n\t\t\tcreateLineChange(\n\t\t\t\t2, 2, 2, 2,\n\t\t\t\t[\n\t\t\t\t\tcreateCharChange(2, 3, 2, 4, 2, 3, 2, 5)\n\t\t\t\t]\n\t\t\t)\n\t\t];\n\t\tassertDiff(original, modified, expected, true, true, false);\n\t});\n\n\ttest('does not give character changes', () => {\n\t\tconst original = [\n\t\t\t'    1',\n\t\t\t'  2',\n\t\t\t'A',\n\t\t];\n\t\tconst modified = [\n\t\t\t'    1',\n\t\t\t'   3',\n\t\t\t' A',\n\t\t];\n\t\tconst expected = [\n\t\t\tcreateLineChange(\n\t\t\t\t2, 3, 2, 3\n\t\t\t)\n\t\t];\n\t\tassertDiff(original, modified, expected, false, false, false);\n\t});\n\n\ttest('issue #44422: Less than ideal diff results', () => {\n\t\tconst original = [\n\t\t\t'export class C {',\n\t\t\t'',\n\t\t\t'\tpublic m1(): void {',\n\t\t\t'\t\t{',\n\t\t\t'\t\t//2',\n\t\t\t'\t\t//3',\n\t\t\t'\t\t//4',\n\t\t\t'\t\t//5',\n\t\t\t'\t\t//6',\n\t\t\t'\t\t//7',\n\t\t\t'\t\t//8',\n\t\t\t'\t\t//9',\n\t\t\t'\t\t//10',\n\t\t\t'\t\t//11',\n\t\t\t'\t\t//12',\n\t\t\t'\t\t//13',\n\t\t\t'\t\t//14',\n\t\t\t'\t\t//15',\n\t\t\t'\t\t//16',\n\t\t\t'\t\t//17',\n\t\t\t'\t\t//18',\n\t\t\t'\t\t}',\n\t\t\t'\t}',\n\t\t\t'',\n\t\t\t'\tpublic m2(): void {',\n\t\t\t'\t\tif (a) {',\n\t\t\t'\t\t\tif (b) {',\n\t\t\t'\t\t\t\t//A1',\n\t\t\t'\t\t\t\t//A2',\n\t\t\t'\t\t\t\t//A3',\n\t\t\t'\t\t\t\t//A4',\n\t\t\t'\t\t\t\t//A5',\n\t\t\t'\t\t\t\t//A6',\n\t\t\t'\t\t\t\t//A7',\n\t\t\t'\t\t\t\t//A8',\n\t\t\t'\t\t\t}',\n\t\t\t'\t\t}',\n\t\t\t'',\n\t\t\t'\t\t//A9',\n\t\t\t'\t\t//A10',\n\t\t\t'\t\t//A11',\n\t\t\t'\t\t//A12',\n\t\t\t'\t\t//A13',\n\t\t\t'\t\t//A14',\n\t\t\t'\t\t//A15',\n\t\t\t'\t}',\n\t\t\t'',\n\t\t\t'\tpublic m3(): void {',\n\t\t\t'\t\tif (a) {',\n\t\t\t'\t\t\t//B1',\n\t\t\t'\t\t}',\n\t\t\t'\t\t//B2',\n\t\t\t'\t\t//B3',\n\t\t\t'\t}',\n\t\t\t'',\n\t\t\t'\tpublic m4(): boolean {',\n\t\t\t'\t\t//1',\n\t\t\t'\t\t//2',\n\t\t\t'\t\t//3',\n\t\t\t'\t\t//4',\n\t\t\t'\t}',\n\t\t\t'',\n\t\t\t'}',\n\t\t];\n\t\tconst modified = [\n\t\t\t'export class C {',\n\t\t\t'',\n\t\t\t'\tconstructor() {',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'\t}',\n\t\t\t'',\n\t\t\t'\tpublic m1(): void {',\n\t\t\t'\t\t{',\n\t\t\t'\t\t//2',\n\t\t\t'\t\t//3',\n\t\t\t'\t\t//4',\n\t\t\t'\t\t//5',\n\t\t\t'\t\t//6',\n\t\t\t'\t\t//7',\n\t\t\t'\t\t//8',\n\t\t\t'\t\t//9',\n\t\t\t'\t\t//10',\n\t\t\t'\t\t//11',\n\t\t\t'\t\t//12',\n\t\t\t'\t\t//13',\n\t\t\t'\t\t//14',\n\t\t\t'\t\t//15',\n\t\t\t'\t\t//16',\n\t\t\t'\t\t//17',\n\t\t\t'\t\t//18',\n\t\t\t'\t\t}',\n\t\t\t'\t}',\n\t\t\t'',\n\t\t\t'\tpublic m4(): boolean {',\n\t\t\t'\t\t//1',\n\t\t\t'\t\t//2',\n\t\t\t'\t\t//3',\n\t\t\t'\t\t//4',\n\t\t\t'\t}',\n\t\t\t'',\n\t\t\t'}',\n\t\t];\n\t\tconst expected = [\n\t\t\tcreateLineChange(\n\t\t\t\t2, 0, 3, 9\n\t\t\t),\n\t\t\tcreateLineChange(\n\t\t\t\t25, 55, 31, 0\n\t\t\t)\n\t\t];\n\t\tassertDiff(original, modified, expected, false, false, false);\n\t});\n\n\ttest('gives preference to matching longer lines', () => {\n\t\tconst original = [\n\t\t\t'A',\n\t\t\t'A',\n\t\t\t'BB',\n\t\t\t'C',\n\t\t];\n\t\tconst modified = [\n\t\t\t'A',\n\t\t\t'BB',\n\t\t\t'A',\n\t\t\t'D',\n\t\t\t'E',\n\t\t\t'A',\n\t\t\t'C',\n\t\t];\n\t\tconst expected = [\n\t\t\tcreateLineChange(\n\t\t\t\t2, 2, 1, 0\n\t\t\t),\n\t\t\tcreateLineChange(\n\t\t\t\t3, 0, 3, 6\n\t\t\t)\n\t\t];\n\t\tassertDiff(original, modified, expected, false, false, false);\n\t});\n\n\ttest('issue #119051: gives preference to fewer diff hunks', () => {\n\t\tconst original = [\n\t\t\t'1',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'2',\n\t\t\t'',\n\t\t];\n\t\tconst modified = [\n\t\t\t'1',\n\t\t\t'',\n\t\t\t'1.5',\n\t\t\t'',\n\t\t\t'',\n\t\t\t'2',\n\t\t\t'',\n\t\t\t'3',\n\t\t\t'',\n\t\t];\n\t\tconst expected = [\n\t\t\tcreateLineChange(\n\t\t\t\t2, 0, 3, 4\n\t\t\t),\n\t\t\tcreateLineChange(\n\t\t\t\t5, 0, 8, 9\n\t\t\t)\n\t\t];\n\t\tassertDiff(original, modified, expected, false, false, false);\n\t});\n\n\ttest('issue #121436: Diff chunk contains an unchanged line part 1', () => {\n\t\tconst original = [\n\t\t\t'if (cond) {',\n\t\t\t'    cmd',\n\t\t\t'}',\n\t\t];\n\t\tconst modified = [\n\t\t\t'if (cond) {',\n\t\t\t'    if (other_cond) {',\n\t\t\t'        cmd',\n\t\t\t'    }',\n\t\t\t'}',\n\t\t];\n\t\tconst expected = [\n\t\t\tcreateLineChange(\n\t\t\t\t1, 0, 2, 2\n\t\t\t),\n\t\t\tcreateLineChange(\n\t\t\t\t2, 0, 4, 4\n\t\t\t)\n\t\t];\n\t\tassertDiff(original, modified, expected, false, false, true);\n\t});\n\n\ttest('issue #121436: Diff chunk contains an unchanged line part 2', () => {\n\t\tconst original = [\n\t\t\t'if (cond) {',\n\t\t\t'    cmd',\n\t\t\t'}',\n\t\t];\n\t\tconst modified = [\n\t\t\t'if (cond) {',\n\t\t\t'    if (other_cond) {',\n\t\t\t'        cmd',\n\t\t\t'    }',\n\t\t\t'}',\n\t\t];\n\t\tconst expected = [\n\t\t\tcreateLineChange(\n\t\t\t\t1, 0, 2, 2\n\t\t\t),\n\t\t\tcreateLineChange(\n\t\t\t\t2, 2, 3, 3\n\t\t\t),\n\t\t\tcreateLineChange(\n\t\t\t\t2, 0, 4, 4\n\t\t\t)\n\t\t];\n\t\tassertDiff(original, modified, expected, false, false, false);\n\t});\n\n\ttest('issue #169552: Assertion error when having both leading and trailing whitespace diffs', () => {\n\t\tconst original = [\n\t\t\t'if True:',\n\t\t\t'    print(2)',\n\t\t];\n\t\tconst modified = [\n\t\t\t'if True:',\n\t\t\t'\\tprint(2) ',\n\t\t];\n\t\tconst expected = [\n\t\t\tcreateLineChange(\n\t\t\t\t2, 2, 2, 2,\n\t\t\t\t[\n\t\t\t\t\tcreateCharChange(2, 1, 2, 5, 2, 1, 2, 2),\n\t\t\t\t\tcreateCharChange(2, 13, 2, 13, 2, 10, 2, 11),\n\t\t\t\t]\n\t\t\t),\n\t\t];\n\t\tassertDiff(original, modified, expected, true, false, false);\n\t});\n});\n"]}