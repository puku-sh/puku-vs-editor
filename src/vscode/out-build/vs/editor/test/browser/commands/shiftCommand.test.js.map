{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/editor/test/browser/commands/shiftCommand.test.ts","vs/editor/test/browser/commands/shiftCommand.test.ts"],"names":[],"mappings":"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","file":"shiftCommand.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\nimport { ShiftCommand } from '../../../common/commands/shiftCommand.js';\nimport { EditorAutoIndentStrategy } from '../../../common/config/editorOptions.js';\nimport { ISingleEditOperation } from '../../../common/core/editOperation.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { ILanguageService } from '../../../common/languages/language.js';\nimport { ILanguageConfigurationService } from '../../../common/languages/languageConfigurationRegistry.js';\nimport { getEditOperation, testCommand } from '../testCommand.js';\nimport { javascriptOnEnterRules } from '../../common/modes/supports/onEnterRules.js';\nimport { TestLanguageConfigurationService } from '../../common/modes/testLanguageConfigurationService.js';\nimport { withEditorModel } from '../../common/testTextModel.js';\nimport { ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\n\n/**\n * Create single edit operation\n */\nfunction createSingleEditOp(text: string, positionLineNumber: number, positionColumn: number, selectionLineNumber: number = positionLineNumber, selectionColumn: number = positionColumn): ISingleEditOperation {\n\treturn {\n\t\trange: new Range(selectionLineNumber, selectionColumn, positionLineNumber, positionColumn),\n\t\ttext: text,\n\t\tforceMoveMarkers: false\n\t};\n}\n\nclass DocBlockCommentMode extends Disposable {\n\n\tpublic static languageId = 'commentMode';\n\tpublic readonly languageId = DocBlockCommentMode.languageId;\n\n\tconstructor(\n\t\t@ILanguageService languageService: ILanguageService,\n\t\t@ILanguageConfigurationService languageConfigurationService: ILanguageConfigurationService\n\t) {\n\t\tsuper();\n\t\tthis._register(languageService.registerLanguage({ id: this.languageId }));\n\t\tthis._register(languageConfigurationService.register(this.languageId, {\n\t\t\tbrackets: [\n\t\t\t\t['(', ')'],\n\t\t\t\t['{', '}'],\n\t\t\t\t['[', ']']\n\t\t\t],\n\n\t\t\tonEnterRules: javascriptOnEnterRules\n\t\t}));\n\t}\n}\n\nfunction testShiftCommand(lines: string[], languageId: string | null, useTabStops: boolean, selection: Selection, expectedLines: string[], expectedSelection: Selection, prepare?: (accessor: ServicesAccessor, disposables: DisposableStore) => void): void {\n\ttestCommand(lines, languageId, selection, (accessor, sel) => new ShiftCommand(sel, {\n\t\tisUnshift: false,\n\t\ttabSize: 4,\n\t\tindentSize: 4,\n\t\tinsertSpaces: false,\n\t\tuseTabStops: useTabStops,\n\t\tautoIndent: EditorAutoIndentStrategy.Full,\n\t}, accessor.get(ILanguageConfigurationService)), expectedLines, expectedSelection, undefined, prepare);\n}\n\nfunction testUnshiftCommand(lines: string[], languageId: string | null, useTabStops: boolean, selection: Selection, expectedLines: string[], expectedSelection: Selection, prepare?: (accessor: ServicesAccessor, disposables: DisposableStore) => void): void {\n\ttestCommand(lines, languageId, selection, (accessor, sel) => new ShiftCommand(sel, {\n\t\tisUnshift: true,\n\t\ttabSize: 4,\n\t\tindentSize: 4,\n\t\tinsertSpaces: false,\n\t\tuseTabStops: useTabStops,\n\t\tautoIndent: EditorAutoIndentStrategy.Full,\n\t}, accessor.get(ILanguageConfigurationService)), expectedLines, expectedSelection, undefined, prepare);\n}\n\nfunction prepareDocBlockCommentLanguage(accessor: ServicesAccessor, disposables: DisposableStore) {\n\tconst languageConfigurationService = accessor.get(ILanguageConfigurationService);\n\tconst languageService = accessor.get(ILanguageService);\n\tdisposables.add(new DocBlockCommentMode(languageService, languageConfigurationService));\n}\n\nsuite('Editor Commands - ShiftCommand', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\t// --------- shift\n\n\ttest('Bug 9503: Shifting without any selection', () => {\n\t\ttestShiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(1, 1, 1, 1),\n\t\t\t[\n\t\t\t\t'\\tMy First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(1, 2, 1, 2)\n\t\t);\n\t});\n\n\ttest('shift on single line selection 1', () => {\n\t\ttestShiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(1, 3, 1, 1),\n\t\t\t[\n\t\t\t\t'\\tMy First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(1, 4, 1, 1)\n\t\t);\n\t});\n\n\ttest('shift on single line selection 2', () => {\n\t\ttestShiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(1, 1, 1, 3),\n\t\t\t[\n\t\t\t\t'\\tMy First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 1, 4)\n\t\t);\n\t});\n\n\ttest('simple shift', () => {\n\t\ttestShiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(1, 1, 2, 1),\n\t\t\t[\n\t\t\t\t'\\tMy First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 2, 1)\n\t\t);\n\t});\n\n\ttest('shifting on two separate lines', () => {\n\t\ttestShiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(1, 1, 2, 1),\n\t\t\t[\n\t\t\t\t'\\tMy First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 2, 1)\n\t\t);\n\n\t\ttestShiftCommand(\n\t\t\t[\n\t\t\t\t'\\tMy First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(2, 1, 3, 1),\n\t\t\t[\n\t\t\t\t'\\tMy First Line',\n\t\t\t\t'\\t\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(2, 1, 3, 1)\n\t\t);\n\t});\n\n\ttest('shifting on two lines', () => {\n\t\ttestShiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(1, 2, 2, 2),\n\t\t\t[\n\t\t\t\t'\\tMy First Line',\n\t\t\t\t'\\t\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(1, 3, 2, 2)\n\t\t);\n\t});\n\n\ttest('shifting on two lines again', () => {\n\t\ttestShiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(2, 2, 1, 2),\n\t\t\t[\n\t\t\t\t'\\tMy First Line',\n\t\t\t\t'\\t\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(2, 2, 1, 3)\n\t\t);\n\t});\n\n\ttest('shifting at end of file', () => {\n\t\ttestShiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(4, 1, 5, 2),\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'\\t123'\n\t\t\t],\n\t\t\tnew Selection(4, 1, 5, 3)\n\t\t);\n\t});\n\n\ttest('issue #1120 TAB should not indent empty lines in a multi-line selection', () => {\n\t\ttestShiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(1, 1, 5, 2),\n\t\t\t[\n\t\t\t\t'\\tMy First Line',\n\t\t\t\t'\\t\\t\\tMy Second Line',\n\t\t\t\t'\\t\\tThird Line',\n\t\t\t\t'',\n\t\t\t\t'\\t123'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 5, 3)\n\t\t);\n\n\t\ttestShiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(4, 1, 5, 1),\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'\\t',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(4, 1, 5, 1)\n\t\t);\n\t});\n\n\t// --------- unshift\n\n\ttest('unshift on single line selection 1', () => {\n\t\ttestShiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(2, 3, 2, 1),\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(2, 3, 2, 1)\n\t\t);\n\t});\n\n\ttest('unshift on single line selection 2', () => {\n\t\ttestShiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(2, 1, 2, 3),\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(2, 1, 2, 3)\n\t\t);\n\t});\n\n\ttest('simple unshift', () => {\n\t\ttestUnshiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(1, 1, 2, 1),\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 2, 1)\n\t\t);\n\t});\n\n\ttest('unshifting on two lines 1', () => {\n\t\ttestUnshiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(1, 2, 2, 2),\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(1, 2, 2, 2)\n\t\t);\n\t});\n\n\ttest('unshifting on two lines 2', () => {\n\t\ttestUnshiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(2, 3, 2, 1),\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(2, 2, 2, 1)\n\t\t);\n\t});\n\n\ttest('unshifting at the end of the file', () => {\n\t\ttestUnshiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(4, 1, 5, 2),\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(4, 1, 5, 2)\n\t\t);\n\t});\n\n\ttest('unshift many times + shift', () => {\n\t\ttestUnshiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(1, 1, 5, 4),\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\tMy Second Line',\n\t\t\t\t'Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 5, 4)\n\t\t);\n\n\t\ttestUnshiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\tMy Second Line',\n\t\t\t\t'Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(1, 1, 5, 4),\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'My Second Line',\n\t\t\t\t'Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 5, 4)\n\t\t);\n\n\t\ttestShiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'My Second Line',\n\t\t\t\t'Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(1, 1, 5, 4),\n\t\t\t[\n\t\t\t\t'\\tMy First Line',\n\t\t\t\t'\\tMy Second Line',\n\t\t\t\t'\\tThird Line',\n\t\t\t\t'',\n\t\t\t\t'\\t123'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 5, 5)\n\t\t);\n\t});\n\n\ttest('Bug 9119: Unshift from first column doesn\\'t work', () => {\n\t\ttestUnshiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(2, 1, 2, 1),\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(2, 1, 2, 1)\n\t\t);\n\t});\n\n\ttest('issue #348: indenting around doc block comments', () => {\n\t\ttestShiftCommand(\n\t\t\t[\n\t\t\t\t'',\n\t\t\t\t'/**',\n\t\t\t\t' * a doc comment',\n\t\t\t\t' */',\n\t\t\t\t'function hello() {}'\n\t\t\t],\n\t\t\tDocBlockCommentMode.languageId,\n\t\t\ttrue,\n\t\t\tnew Selection(1, 1, 5, 20),\n\t\t\t[\n\t\t\t\t'',\n\t\t\t\t'\\t/**',\n\t\t\t\t'\\t * a doc comment',\n\t\t\t\t'\\t */',\n\t\t\t\t'\\tfunction hello() {}'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 5, 21),\n\t\t\tprepareDocBlockCommentLanguage\n\t\t);\n\n\t\ttestUnshiftCommand(\n\t\t\t[\n\t\t\t\t'',\n\t\t\t\t'/**',\n\t\t\t\t' * a doc comment',\n\t\t\t\t' */',\n\t\t\t\t'function hello() {}'\n\t\t\t],\n\t\t\tDocBlockCommentMode.languageId,\n\t\t\ttrue,\n\t\t\tnew Selection(1, 1, 5, 20),\n\t\t\t[\n\t\t\t\t'',\n\t\t\t\t'/**',\n\t\t\t\t' * a doc comment',\n\t\t\t\t' */',\n\t\t\t\t'function hello() {}'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 5, 20),\n\t\t\tprepareDocBlockCommentLanguage\n\t\t);\n\n\t\ttestUnshiftCommand(\n\t\t\t[\n\t\t\t\t'\\t',\n\t\t\t\t'\\t/**',\n\t\t\t\t'\\t * a doc comment',\n\t\t\t\t'\\t */',\n\t\t\t\t'\\tfunction hello() {}'\n\t\t\t],\n\t\t\tDocBlockCommentMode.languageId,\n\t\t\ttrue,\n\t\t\tnew Selection(1, 1, 5, 21),\n\t\t\t[\n\t\t\t\t'',\n\t\t\t\t'/**',\n\t\t\t\t' * a doc comment',\n\t\t\t\t' */',\n\t\t\t\t'function hello() {}'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 5, 20),\n\t\t\tprepareDocBlockCommentLanguage\n\t\t);\n\t});\n\n\ttest('issue #1609: Wrong indentation of block comments', () => {\n\t\ttestShiftCommand(\n\t\t\t[\n\t\t\t\t'',\n\t\t\t\t'/**',\n\t\t\t\t' * test',\n\t\t\t\t' *',\n\t\t\t\t' * @type {number}',\n\t\t\t\t' */',\n\t\t\t\t'var foo = 0;'\n\t\t\t],\n\t\t\tDocBlockCommentMode.languageId,\n\t\t\ttrue,\n\t\t\tnew Selection(1, 1, 7, 13),\n\t\t\t[\n\t\t\t\t'',\n\t\t\t\t'\\t/**',\n\t\t\t\t'\\t * test',\n\t\t\t\t'\\t *',\n\t\t\t\t'\\t * @type {number}',\n\t\t\t\t'\\t */',\n\t\t\t\t'\\tvar foo = 0;'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 7, 14),\n\t\t\tprepareDocBlockCommentLanguage\n\t\t);\n\t});\n\n\ttest('issue #1620: a) Line indent doesn\\'t handle leading whitespace properly', () => {\n\t\ttestCommand(\n\t\t\t[\n\t\t\t\t'   Written | Numeric',\n\t\t\t\t'       one | 1',\n\t\t\t\t'       two | 2',\n\t\t\t\t'     three | 3',\n\t\t\t\t'      four | 4',\n\t\t\t\t'      five | 5',\n\t\t\t\t'       six | 6',\n\t\t\t\t'     seven | 7',\n\t\t\t\t'     eight | 8',\n\t\t\t\t'      nine | 9',\n\t\t\t\t'       ten | 10',\n\t\t\t\t'    eleven | 11',\n\t\t\t\t'',\n\t\t\t],\n\t\t\tnull,\n\t\t\tnew Selection(1, 1, 13, 1),\n\t\t\t(accessor, sel) => new ShiftCommand(sel, {\n\t\t\t\tisUnshift: false,\n\t\t\t\ttabSize: 4,\n\t\t\t\tindentSize: 4,\n\t\t\t\tinsertSpaces: true,\n\t\t\t\tuseTabStops: false,\n\t\t\t\tautoIndent: EditorAutoIndentStrategy.Full,\n\t\t\t}, accessor.get(ILanguageConfigurationService)),\n\t\t\t[\n\t\t\t\t'       Written | Numeric',\n\t\t\t\t'           one | 1',\n\t\t\t\t'           two | 2',\n\t\t\t\t'         three | 3',\n\t\t\t\t'          four | 4',\n\t\t\t\t'          five | 5',\n\t\t\t\t'           six | 6',\n\t\t\t\t'         seven | 7',\n\t\t\t\t'         eight | 8',\n\t\t\t\t'          nine | 9',\n\t\t\t\t'           ten | 10',\n\t\t\t\t'        eleven | 11',\n\t\t\t\t'',\n\t\t\t],\n\t\t\tnew Selection(1, 1, 13, 1)\n\t\t);\n\t});\n\n\ttest('issue #1620: b) Line indent doesn\\'t handle leading whitespace properly', () => {\n\t\ttestCommand(\n\t\t\t[\n\t\t\t\t'       Written | Numeric',\n\t\t\t\t'           one | 1',\n\t\t\t\t'           two | 2',\n\t\t\t\t'         three | 3',\n\t\t\t\t'          four | 4',\n\t\t\t\t'          five | 5',\n\t\t\t\t'           six | 6',\n\t\t\t\t'         seven | 7',\n\t\t\t\t'         eight | 8',\n\t\t\t\t'          nine | 9',\n\t\t\t\t'           ten | 10',\n\t\t\t\t'        eleven | 11',\n\t\t\t\t'',\n\t\t\t],\n\t\t\tnull,\n\t\t\tnew Selection(1, 1, 13, 1),\n\t\t\t(accessor, sel) => new ShiftCommand(sel, {\n\t\t\t\tisUnshift: true,\n\t\t\t\ttabSize: 4,\n\t\t\t\tindentSize: 4,\n\t\t\t\tinsertSpaces: true,\n\t\t\t\tuseTabStops: false,\n\t\t\t\tautoIndent: EditorAutoIndentStrategy.Full,\n\t\t\t}, accessor.get(ILanguageConfigurationService)),\n\t\t\t[\n\t\t\t\t'   Written | Numeric',\n\t\t\t\t'       one | 1',\n\t\t\t\t'       two | 2',\n\t\t\t\t'     three | 3',\n\t\t\t\t'      four | 4',\n\t\t\t\t'      five | 5',\n\t\t\t\t'       six | 6',\n\t\t\t\t'     seven | 7',\n\t\t\t\t'     eight | 8',\n\t\t\t\t'      nine | 9',\n\t\t\t\t'       ten | 10',\n\t\t\t\t'    eleven | 11',\n\t\t\t\t'',\n\t\t\t],\n\t\t\tnew Selection(1, 1, 13, 1)\n\t\t);\n\t});\n\n\ttest('issue #1620: c) Line indent doesn\\'t handle leading whitespace properly', () => {\n\t\ttestCommand(\n\t\t\t[\n\t\t\t\t'       Written | Numeric',\n\t\t\t\t'           one | 1',\n\t\t\t\t'           two | 2',\n\t\t\t\t'         three | 3',\n\t\t\t\t'          four | 4',\n\t\t\t\t'          five | 5',\n\t\t\t\t'           six | 6',\n\t\t\t\t'         seven | 7',\n\t\t\t\t'         eight | 8',\n\t\t\t\t'          nine | 9',\n\t\t\t\t'           ten | 10',\n\t\t\t\t'        eleven | 11',\n\t\t\t\t'',\n\t\t\t],\n\t\t\tnull,\n\t\t\tnew Selection(1, 1, 13, 1),\n\t\t\t(accessor, sel) => new ShiftCommand(sel, {\n\t\t\t\tisUnshift: true,\n\t\t\t\ttabSize: 4,\n\t\t\t\tindentSize: 4,\n\t\t\t\tinsertSpaces: false,\n\t\t\t\tuseTabStops: false,\n\t\t\t\tautoIndent: EditorAutoIndentStrategy.Full,\n\t\t\t}, accessor.get(ILanguageConfigurationService)),\n\t\t\t[\n\t\t\t\t'   Written | Numeric',\n\t\t\t\t'       one | 1',\n\t\t\t\t'       two | 2',\n\t\t\t\t'     three | 3',\n\t\t\t\t'      four | 4',\n\t\t\t\t'      five | 5',\n\t\t\t\t'       six | 6',\n\t\t\t\t'     seven | 7',\n\t\t\t\t'     eight | 8',\n\t\t\t\t'      nine | 9',\n\t\t\t\t'       ten | 10',\n\t\t\t\t'    eleven | 11',\n\t\t\t\t'',\n\t\t\t],\n\t\t\tnew Selection(1, 1, 13, 1)\n\t\t);\n\t});\n\n\ttest('issue #1620: d) Line indent doesn\\'t handle leading whitespace properly', () => {\n\t\ttestCommand(\n\t\t\t[\n\t\t\t\t'\\t   Written | Numeric',\n\t\t\t\t'\\t       one | 1',\n\t\t\t\t'\\t       two | 2',\n\t\t\t\t'\\t     three | 3',\n\t\t\t\t'\\t      four | 4',\n\t\t\t\t'\\t      five | 5',\n\t\t\t\t'\\t       six | 6',\n\t\t\t\t'\\t     seven | 7',\n\t\t\t\t'\\t     eight | 8',\n\t\t\t\t'\\t      nine | 9',\n\t\t\t\t'\\t       ten | 10',\n\t\t\t\t'\\t    eleven | 11',\n\t\t\t\t'',\n\t\t\t],\n\t\t\tnull,\n\t\t\tnew Selection(1, 1, 13, 1),\n\t\t\t(accessor, sel) => new ShiftCommand(sel, {\n\t\t\t\tisUnshift: true,\n\t\t\t\ttabSize: 4,\n\t\t\t\tindentSize: 4,\n\t\t\t\tinsertSpaces: true,\n\t\t\t\tuseTabStops: false,\n\t\t\t\tautoIndent: EditorAutoIndentStrategy.Full,\n\t\t\t}, accessor.get(ILanguageConfigurationService)),\n\t\t\t[\n\t\t\t\t'   Written | Numeric',\n\t\t\t\t'       one | 1',\n\t\t\t\t'       two | 2',\n\t\t\t\t'     three | 3',\n\t\t\t\t'      four | 4',\n\t\t\t\t'      five | 5',\n\t\t\t\t'       six | 6',\n\t\t\t\t'     seven | 7',\n\t\t\t\t'     eight | 8',\n\t\t\t\t'      nine | 9',\n\t\t\t\t'       ten | 10',\n\t\t\t\t'    eleven | 11',\n\t\t\t\t'',\n\t\t\t],\n\t\t\tnew Selection(1, 1, 13, 1)\n\t\t);\n\t});\n\n\ttest('issue microsoft/monaco-editor#443: Indentation of a single row deletes selected text in some cases', () => {\n\t\ttestCommand(\n\t\t\t[\n\t\t\t\t'Hello world!',\n\t\t\t\t'another line'\n\t\t\t],\n\t\t\tnull,\n\t\t\tnew Selection(1, 1, 1, 13),\n\t\t\t(accessor, sel) => new ShiftCommand(sel, {\n\t\t\t\tisUnshift: false,\n\t\t\t\ttabSize: 4,\n\t\t\t\tindentSize: 4,\n\t\t\t\tinsertSpaces: false,\n\t\t\t\tuseTabStops: true,\n\t\t\t\tautoIndent: EditorAutoIndentStrategy.Full,\n\t\t\t}, accessor.get(ILanguageConfigurationService)),\n\t\t\t[\n\t\t\t\t'\\tHello world!',\n\t\t\t\t'another line'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 1, 14)\n\t\t);\n\t});\n\n\ttest('bug #16815:Shift+Tab doesn\\'t go back to tabstop', () => {\n\n\t\tconst repeatStr = (str: string, cnt: number): string => {\n\t\t\tlet r = '';\n\t\t\tfor (let i = 0; i < cnt; i++) {\n\t\t\t\tr += str;\n\t\t\t}\n\t\t\treturn r;\n\t\t};\n\n\t\tconst testOutdent = (tabSize: number, indentSize: number, insertSpaces: boolean, lineText: string, expectedIndents: number) => {\n\t\t\tconst oneIndent = insertSpaces ? repeatStr(' ', indentSize) : '\\t';\n\t\t\tconst expectedIndent = repeatStr(oneIndent, expectedIndents);\n\t\t\tif (lineText.length > 0) {\n\t\t\t\t_assertUnshiftCommand(tabSize, indentSize, insertSpaces, [lineText + 'aaa'], [createSingleEditOp(expectedIndent, 1, 1, 1, lineText.length + 1)]);\n\t\t\t} else {\n\t\t\t\t_assertUnshiftCommand(tabSize, indentSize, insertSpaces, [lineText + 'aaa'], []);\n\t\t\t}\n\t\t};\n\n\t\tconst testIndent = (tabSize: number, indentSize: number, insertSpaces: boolean, lineText: string, expectedIndents: number) => {\n\t\t\tconst oneIndent = insertSpaces ? repeatStr(' ', indentSize) : '\\t';\n\t\t\tconst expectedIndent = repeatStr(oneIndent, expectedIndents);\n\t\t\t_assertShiftCommand(tabSize, indentSize, insertSpaces, [lineText + 'aaa'], [createSingleEditOp(expectedIndent, 1, 1, 1, lineText.length + 1)]);\n\t\t};\n\n\t\tconst testIndentation = (tabSize: number, indentSize: number, lineText: string, expectedOnOutdent: number, expectedOnIndent: number) => {\n\t\t\ttestOutdent(tabSize, indentSize, true, lineText, expectedOnOutdent);\n\t\t\ttestOutdent(tabSize, indentSize, false, lineText, expectedOnOutdent);\n\n\t\t\ttestIndent(tabSize, indentSize, true, lineText, expectedOnIndent);\n\t\t\ttestIndent(tabSize, indentSize, false, lineText, expectedOnIndent);\n\t\t};\n\n\t\t// insertSpaces: true\n\t\t// 0 => 0\n\t\ttestIndentation(4, 4, '', 0, 1);\n\n\t\t// 1 => 0\n\t\ttestIndentation(4, 4, '\\t', 0, 2);\n\t\ttestIndentation(4, 4, ' ', 0, 1);\n\t\ttestIndentation(4, 4, ' \\t', 0, 2);\n\t\ttestIndentation(4, 4, '  ', 0, 1);\n\t\ttestIndentation(4, 4, '  \\t', 0, 2);\n\t\ttestIndentation(4, 4, '   ', 0, 1);\n\t\ttestIndentation(4, 4, '   \\t', 0, 2);\n\t\ttestIndentation(4, 4, '    ', 0, 2);\n\n\t\t// 2 => 1\n\t\ttestIndentation(4, 4, '\\t\\t', 1, 3);\n\t\ttestIndentation(4, 4, '\\t ', 1, 2);\n\t\ttestIndentation(4, 4, '\\t \\t', 1, 3);\n\t\ttestIndentation(4, 4, '\\t  ', 1, 2);\n\t\ttestIndentation(4, 4, '\\t  \\t', 1, 3);\n\t\ttestIndentation(4, 4, '\\t   ', 1, 2);\n\t\ttestIndentation(4, 4, '\\t   \\t', 1, 3);\n\t\ttestIndentation(4, 4, '\\t    ', 1, 3);\n\t\ttestIndentation(4, 4, ' \\t\\t', 1, 3);\n\t\ttestIndentation(4, 4, ' \\t ', 1, 2);\n\t\ttestIndentation(4, 4, ' \\t \\t', 1, 3);\n\t\ttestIndentation(4, 4, ' \\t  ', 1, 2);\n\t\ttestIndentation(4, 4, ' \\t  \\t', 1, 3);\n\t\ttestIndentation(4, 4, ' \\t   ', 1, 2);\n\t\ttestIndentation(4, 4, ' \\t   \\t', 1, 3);\n\t\ttestIndentation(4, 4, ' \\t    ', 1, 3);\n\t\ttestIndentation(4, 4, '  \\t\\t', 1, 3);\n\t\ttestIndentation(4, 4, '  \\t ', 1, 2);\n\t\ttestIndentation(4, 4, '  \\t \\t', 1, 3);\n\t\ttestIndentation(4, 4, '  \\t  ', 1, 2);\n\t\ttestIndentation(4, 4, '  \\t  \\t', 1, 3);\n\t\ttestIndentation(4, 4, '  \\t   ', 1, 2);\n\t\ttestIndentation(4, 4, '  \\t   \\t', 1, 3);\n\t\ttestIndentation(4, 4, '  \\t    ', 1, 3);\n\t\ttestIndentation(4, 4, '   \\t\\t', 1, 3);\n\t\ttestIndentation(4, 4, '   \\t ', 1, 2);\n\t\ttestIndentation(4, 4, '   \\t \\t', 1, 3);\n\t\ttestIndentation(4, 4, '   \\t  ', 1, 2);\n\t\ttestIndentation(4, 4, '   \\t  \\t', 1, 3);\n\t\ttestIndentation(4, 4, '   \\t   ', 1, 2);\n\t\ttestIndentation(4, 4, '   \\t   \\t', 1, 3);\n\t\ttestIndentation(4, 4, '   \\t    ', 1, 3);\n\t\ttestIndentation(4, 4, '    \\t', 1, 3);\n\t\ttestIndentation(4, 4, '     ', 1, 2);\n\t\ttestIndentation(4, 4, '     \\t', 1, 3);\n\t\ttestIndentation(4, 4, '      ', 1, 2);\n\t\ttestIndentation(4, 4, '      \\t', 1, 3);\n\t\ttestIndentation(4, 4, '       ', 1, 2);\n\t\ttestIndentation(4, 4, '       \\t', 1, 3);\n\t\ttestIndentation(4, 4, '        ', 1, 3);\n\n\t\t// 3 => 2\n\t\ttestIndentation(4, 4, '         ', 2, 3);\n\n\t\tfunction _assertUnshiftCommand(tabSize: number, indentSize: number, insertSpaces: boolean, text: string[], expected: ISingleEditOperation[]): void {\n\t\t\treturn withEditorModel(text, (model) => {\n\t\t\t\tconst testLanguageConfigurationService = new TestLanguageConfigurationService();\n\t\t\t\tconst op = new ShiftCommand(new Selection(1, 1, text.length + 1, 1), {\n\t\t\t\t\tisUnshift: true,\n\t\t\t\t\ttabSize: tabSize,\n\t\t\t\t\tindentSize: indentSize,\n\t\t\t\t\tinsertSpaces: insertSpaces,\n\t\t\t\t\tuseTabStops: true,\n\t\t\t\t\tautoIndent: EditorAutoIndentStrategy.Full,\n\t\t\t\t}, testLanguageConfigurationService);\n\t\t\t\tconst actual = getEditOperation(model, op);\n\t\t\t\tassert.deepStrictEqual(actual, expected);\n\t\t\t\ttestLanguageConfigurationService.dispose();\n\t\t\t});\n\t\t}\n\n\t\tfunction _assertShiftCommand(tabSize: number, indentSize: number, insertSpaces: boolean, text: string[], expected: ISingleEditOperation[]): void {\n\t\t\treturn withEditorModel(text, (model) => {\n\t\t\t\tconst testLanguageConfigurationService = new TestLanguageConfigurationService();\n\t\t\t\tconst op = new ShiftCommand(new Selection(1, 1, text.length + 1, 1), {\n\t\t\t\t\tisUnshift: false,\n\t\t\t\t\ttabSize: tabSize,\n\t\t\t\t\tindentSize: indentSize,\n\t\t\t\t\tinsertSpaces: insertSpaces,\n\t\t\t\t\tuseTabStops: true,\n\t\t\t\t\tautoIndent: EditorAutoIndentStrategy.Full,\n\t\t\t\t}, testLanguageConfigurationService);\n\t\t\t\tconst actual = getEditOperation(model, op);\n\t\t\t\tassert.deepStrictEqual(actual, expected);\n\t\t\t\ttestLanguageConfigurationService.dispose();\n\t\t\t});\n\t\t}\n\t});\n\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\nimport { ShiftCommand } from '../../../common/commands/shiftCommand.js';\nimport { EditorAutoIndentStrategy } from '../../../common/config/editorOptions.js';\nimport { ISingleEditOperation } from '../../../common/core/editOperation.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { ILanguageService } from '../../../common/languages/language.js';\nimport { ILanguageConfigurationService } from '../../../common/languages/languageConfigurationRegistry.js';\nimport { getEditOperation, testCommand } from '../testCommand.js';\nimport { javascriptOnEnterRules } from '../../common/modes/supports/onEnterRules.js';\nimport { TestLanguageConfigurationService } from '../../common/modes/testLanguageConfigurationService.js';\nimport { withEditorModel } from '../../common/testTextModel.js';\nimport { ServicesAccessor } from '../../../../platform/instantiation/common/instantiation.js';\n\n/**\n * Create single edit operation\n */\nfunction createSingleEditOp(text: string, positionLineNumber: number, positionColumn: number, selectionLineNumber: number = positionLineNumber, selectionColumn: number = positionColumn): ISingleEditOperation {\n\treturn {\n\t\trange: new Range(selectionLineNumber, selectionColumn, positionLineNumber, positionColumn),\n\t\ttext: text,\n\t\tforceMoveMarkers: false\n\t};\n}\n\nclass DocBlockCommentMode extends Disposable {\n\n\tpublic static languageId = 'commentMode';\n\tpublic readonly languageId = DocBlockCommentMode.languageId;\n\n\tconstructor(\n\t\t@ILanguageService languageService: ILanguageService,\n\t\t@ILanguageConfigurationService languageConfigurationService: ILanguageConfigurationService\n\t) {\n\t\tsuper();\n\t\tthis._register(languageService.registerLanguage({ id: this.languageId }));\n\t\tthis._register(languageConfigurationService.register(this.languageId, {\n\t\t\tbrackets: [\n\t\t\t\t['(', ')'],\n\t\t\t\t['{', '}'],\n\t\t\t\t['[', ']']\n\t\t\t],\n\n\t\t\tonEnterRules: javascriptOnEnterRules\n\t\t}));\n\t}\n}\n\nfunction testShiftCommand(lines: string[], languageId: string | null, useTabStops: boolean, selection: Selection, expectedLines: string[], expectedSelection: Selection, prepare?: (accessor: ServicesAccessor, disposables: DisposableStore) => void): void {\n\ttestCommand(lines, languageId, selection, (accessor, sel) => new ShiftCommand(sel, {\n\t\tisUnshift: false,\n\t\ttabSize: 4,\n\t\tindentSize: 4,\n\t\tinsertSpaces: false,\n\t\tuseTabStops: useTabStops,\n\t\tautoIndent: EditorAutoIndentStrategy.Full,\n\t}, accessor.get(ILanguageConfigurationService)), expectedLines, expectedSelection, undefined, prepare);\n}\n\nfunction testUnshiftCommand(lines: string[], languageId: string | null, useTabStops: boolean, selection: Selection, expectedLines: string[], expectedSelection: Selection, prepare?: (accessor: ServicesAccessor, disposables: DisposableStore) => void): void {\n\ttestCommand(lines, languageId, selection, (accessor, sel) => new ShiftCommand(sel, {\n\t\tisUnshift: true,\n\t\ttabSize: 4,\n\t\tindentSize: 4,\n\t\tinsertSpaces: false,\n\t\tuseTabStops: useTabStops,\n\t\tautoIndent: EditorAutoIndentStrategy.Full,\n\t}, accessor.get(ILanguageConfigurationService)), expectedLines, expectedSelection, undefined, prepare);\n}\n\nfunction prepareDocBlockCommentLanguage(accessor: ServicesAccessor, disposables: DisposableStore) {\n\tconst languageConfigurationService = accessor.get(ILanguageConfigurationService);\n\tconst languageService = accessor.get(ILanguageService);\n\tdisposables.add(new DocBlockCommentMode(languageService, languageConfigurationService));\n}\n\nsuite('Editor Commands - ShiftCommand', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\t// --------- shift\n\n\ttest('Bug 9503: Shifting without any selection', () => {\n\t\ttestShiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(1, 1, 1, 1),\n\t\t\t[\n\t\t\t\t'\\tMy First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(1, 2, 1, 2)\n\t\t);\n\t});\n\n\ttest('shift on single line selection 1', () => {\n\t\ttestShiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(1, 3, 1, 1),\n\t\t\t[\n\t\t\t\t'\\tMy First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(1, 4, 1, 1)\n\t\t);\n\t});\n\n\ttest('shift on single line selection 2', () => {\n\t\ttestShiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(1, 1, 1, 3),\n\t\t\t[\n\t\t\t\t'\\tMy First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 1, 4)\n\t\t);\n\t});\n\n\ttest('simple shift', () => {\n\t\ttestShiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(1, 1, 2, 1),\n\t\t\t[\n\t\t\t\t'\\tMy First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 2, 1)\n\t\t);\n\t});\n\n\ttest('shifting on two separate lines', () => {\n\t\ttestShiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(1, 1, 2, 1),\n\t\t\t[\n\t\t\t\t'\\tMy First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 2, 1)\n\t\t);\n\n\t\ttestShiftCommand(\n\t\t\t[\n\t\t\t\t'\\tMy First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(2, 1, 3, 1),\n\t\t\t[\n\t\t\t\t'\\tMy First Line',\n\t\t\t\t'\\t\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(2, 1, 3, 1)\n\t\t);\n\t});\n\n\ttest('shifting on two lines', () => {\n\t\ttestShiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(1, 2, 2, 2),\n\t\t\t[\n\t\t\t\t'\\tMy First Line',\n\t\t\t\t'\\t\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(1, 3, 2, 2)\n\t\t);\n\t});\n\n\ttest('shifting on two lines again', () => {\n\t\ttestShiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(2, 2, 1, 2),\n\t\t\t[\n\t\t\t\t'\\tMy First Line',\n\t\t\t\t'\\t\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(2, 2, 1, 3)\n\t\t);\n\t});\n\n\ttest('shifting at end of file', () => {\n\t\ttestShiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(4, 1, 5, 2),\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'\\t123'\n\t\t\t],\n\t\t\tnew Selection(4, 1, 5, 3)\n\t\t);\n\t});\n\n\ttest('issue #1120 TAB should not indent empty lines in a multi-line selection', () => {\n\t\ttestShiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(1, 1, 5, 2),\n\t\t\t[\n\t\t\t\t'\\tMy First Line',\n\t\t\t\t'\\t\\t\\tMy Second Line',\n\t\t\t\t'\\t\\tThird Line',\n\t\t\t\t'',\n\t\t\t\t'\\t123'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 5, 3)\n\t\t);\n\n\t\ttestShiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(4, 1, 5, 1),\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'\\t',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(4, 1, 5, 1)\n\t\t);\n\t});\n\n\t// --------- unshift\n\n\ttest('unshift on single line selection 1', () => {\n\t\ttestShiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(2, 3, 2, 1),\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(2, 3, 2, 1)\n\t\t);\n\t});\n\n\ttest('unshift on single line selection 2', () => {\n\t\ttestShiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(2, 1, 2, 3),\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(2, 1, 2, 3)\n\t\t);\n\t});\n\n\ttest('simple unshift', () => {\n\t\ttestUnshiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(1, 1, 2, 1),\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 2, 1)\n\t\t);\n\t});\n\n\ttest('unshifting on two lines 1', () => {\n\t\ttestUnshiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(1, 2, 2, 2),\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(1, 2, 2, 2)\n\t\t);\n\t});\n\n\ttest('unshifting on two lines 2', () => {\n\t\ttestUnshiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(2, 3, 2, 1),\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(2, 2, 2, 1)\n\t\t);\n\t});\n\n\ttest('unshifting at the end of the file', () => {\n\t\ttestUnshiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(4, 1, 5, 2),\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(4, 1, 5, 2)\n\t\t);\n\t});\n\n\ttest('unshift many times + shift', () => {\n\t\ttestUnshiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(1, 1, 5, 4),\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\tMy Second Line',\n\t\t\t\t'Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 5, 4)\n\t\t);\n\n\t\ttestUnshiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\tMy Second Line',\n\t\t\t\t'Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(1, 1, 5, 4),\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'My Second Line',\n\t\t\t\t'Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 5, 4)\n\t\t);\n\n\t\ttestShiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'My Second Line',\n\t\t\t\t'Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(1, 1, 5, 4),\n\t\t\t[\n\t\t\t\t'\\tMy First Line',\n\t\t\t\t'\\tMy Second Line',\n\t\t\t\t'\\tThird Line',\n\t\t\t\t'',\n\t\t\t\t'\\t123'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 5, 5)\n\t\t);\n\t});\n\n\ttest('Bug 9119: Unshift from first column doesn\\'t work', () => {\n\t\ttestUnshiftCommand(\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\t\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnew Selection(2, 1, 2, 1),\n\t\t\t[\n\t\t\t\t'My First Line',\n\t\t\t\t'\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'123'\n\t\t\t],\n\t\t\tnew Selection(2, 1, 2, 1)\n\t\t);\n\t});\n\n\ttest('issue #348: indenting around doc block comments', () => {\n\t\ttestShiftCommand(\n\t\t\t[\n\t\t\t\t'',\n\t\t\t\t'/**',\n\t\t\t\t' * a doc comment',\n\t\t\t\t' */',\n\t\t\t\t'function hello() {}'\n\t\t\t],\n\t\t\tDocBlockCommentMode.languageId,\n\t\t\ttrue,\n\t\t\tnew Selection(1, 1, 5, 20),\n\t\t\t[\n\t\t\t\t'',\n\t\t\t\t'\\t/**',\n\t\t\t\t'\\t * a doc comment',\n\t\t\t\t'\\t */',\n\t\t\t\t'\\tfunction hello() {}'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 5, 21),\n\t\t\tprepareDocBlockCommentLanguage\n\t\t);\n\n\t\ttestUnshiftCommand(\n\t\t\t[\n\t\t\t\t'',\n\t\t\t\t'/**',\n\t\t\t\t' * a doc comment',\n\t\t\t\t' */',\n\t\t\t\t'function hello() {}'\n\t\t\t],\n\t\t\tDocBlockCommentMode.languageId,\n\t\t\ttrue,\n\t\t\tnew Selection(1, 1, 5, 20),\n\t\t\t[\n\t\t\t\t'',\n\t\t\t\t'/**',\n\t\t\t\t' * a doc comment',\n\t\t\t\t' */',\n\t\t\t\t'function hello() {}'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 5, 20),\n\t\t\tprepareDocBlockCommentLanguage\n\t\t);\n\n\t\ttestUnshiftCommand(\n\t\t\t[\n\t\t\t\t'\\t',\n\t\t\t\t'\\t/**',\n\t\t\t\t'\\t * a doc comment',\n\t\t\t\t'\\t */',\n\t\t\t\t'\\tfunction hello() {}'\n\t\t\t],\n\t\t\tDocBlockCommentMode.languageId,\n\t\t\ttrue,\n\t\t\tnew Selection(1, 1, 5, 21),\n\t\t\t[\n\t\t\t\t'',\n\t\t\t\t'/**',\n\t\t\t\t' * a doc comment',\n\t\t\t\t' */',\n\t\t\t\t'function hello() {}'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 5, 20),\n\t\t\tprepareDocBlockCommentLanguage\n\t\t);\n\t});\n\n\ttest('issue #1609: Wrong indentation of block comments', () => {\n\t\ttestShiftCommand(\n\t\t\t[\n\t\t\t\t'',\n\t\t\t\t'/**',\n\t\t\t\t' * test',\n\t\t\t\t' *',\n\t\t\t\t' * @type {number}',\n\t\t\t\t' */',\n\t\t\t\t'var foo = 0;'\n\t\t\t],\n\t\t\tDocBlockCommentMode.languageId,\n\t\t\ttrue,\n\t\t\tnew Selection(1, 1, 7, 13),\n\t\t\t[\n\t\t\t\t'',\n\t\t\t\t'\\t/**',\n\t\t\t\t'\\t * test',\n\t\t\t\t'\\t *',\n\t\t\t\t'\\t * @type {number}',\n\t\t\t\t'\\t */',\n\t\t\t\t'\\tvar foo = 0;'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 7, 14),\n\t\t\tprepareDocBlockCommentLanguage\n\t\t);\n\t});\n\n\ttest('issue #1620: a) Line indent doesn\\'t handle leading whitespace properly', () => {\n\t\ttestCommand(\n\t\t\t[\n\t\t\t\t'   Written | Numeric',\n\t\t\t\t'       one | 1',\n\t\t\t\t'       two | 2',\n\t\t\t\t'     three | 3',\n\t\t\t\t'      four | 4',\n\t\t\t\t'      five | 5',\n\t\t\t\t'       six | 6',\n\t\t\t\t'     seven | 7',\n\t\t\t\t'     eight | 8',\n\t\t\t\t'      nine | 9',\n\t\t\t\t'       ten | 10',\n\t\t\t\t'    eleven | 11',\n\t\t\t\t'',\n\t\t\t],\n\t\t\tnull,\n\t\t\tnew Selection(1, 1, 13, 1),\n\t\t\t(accessor, sel) => new ShiftCommand(sel, {\n\t\t\t\tisUnshift: false,\n\t\t\t\ttabSize: 4,\n\t\t\t\tindentSize: 4,\n\t\t\t\tinsertSpaces: true,\n\t\t\t\tuseTabStops: false,\n\t\t\t\tautoIndent: EditorAutoIndentStrategy.Full,\n\t\t\t}, accessor.get(ILanguageConfigurationService)),\n\t\t\t[\n\t\t\t\t'       Written | Numeric',\n\t\t\t\t'           one | 1',\n\t\t\t\t'           two | 2',\n\t\t\t\t'         three | 3',\n\t\t\t\t'          four | 4',\n\t\t\t\t'          five | 5',\n\t\t\t\t'           six | 6',\n\t\t\t\t'         seven | 7',\n\t\t\t\t'         eight | 8',\n\t\t\t\t'          nine | 9',\n\t\t\t\t'           ten | 10',\n\t\t\t\t'        eleven | 11',\n\t\t\t\t'',\n\t\t\t],\n\t\t\tnew Selection(1, 1, 13, 1)\n\t\t);\n\t});\n\n\ttest('issue #1620: b) Line indent doesn\\'t handle leading whitespace properly', () => {\n\t\ttestCommand(\n\t\t\t[\n\t\t\t\t'       Written | Numeric',\n\t\t\t\t'           one | 1',\n\t\t\t\t'           two | 2',\n\t\t\t\t'         three | 3',\n\t\t\t\t'          four | 4',\n\t\t\t\t'          five | 5',\n\t\t\t\t'           six | 6',\n\t\t\t\t'         seven | 7',\n\t\t\t\t'         eight | 8',\n\t\t\t\t'          nine | 9',\n\t\t\t\t'           ten | 10',\n\t\t\t\t'        eleven | 11',\n\t\t\t\t'',\n\t\t\t],\n\t\t\tnull,\n\t\t\tnew Selection(1, 1, 13, 1),\n\t\t\t(accessor, sel) => new ShiftCommand(sel, {\n\t\t\t\tisUnshift: true,\n\t\t\t\ttabSize: 4,\n\t\t\t\tindentSize: 4,\n\t\t\t\tinsertSpaces: true,\n\t\t\t\tuseTabStops: false,\n\t\t\t\tautoIndent: EditorAutoIndentStrategy.Full,\n\t\t\t}, accessor.get(ILanguageConfigurationService)),\n\t\t\t[\n\t\t\t\t'   Written | Numeric',\n\t\t\t\t'       one | 1',\n\t\t\t\t'       two | 2',\n\t\t\t\t'     three | 3',\n\t\t\t\t'      four | 4',\n\t\t\t\t'      five | 5',\n\t\t\t\t'       six | 6',\n\t\t\t\t'     seven | 7',\n\t\t\t\t'     eight | 8',\n\t\t\t\t'      nine | 9',\n\t\t\t\t'       ten | 10',\n\t\t\t\t'    eleven | 11',\n\t\t\t\t'',\n\t\t\t],\n\t\t\tnew Selection(1, 1, 13, 1)\n\t\t);\n\t});\n\n\ttest('issue #1620: c) Line indent doesn\\'t handle leading whitespace properly', () => {\n\t\ttestCommand(\n\t\t\t[\n\t\t\t\t'       Written | Numeric',\n\t\t\t\t'           one | 1',\n\t\t\t\t'           two | 2',\n\t\t\t\t'         three | 3',\n\t\t\t\t'          four | 4',\n\t\t\t\t'          five | 5',\n\t\t\t\t'           six | 6',\n\t\t\t\t'         seven | 7',\n\t\t\t\t'         eight | 8',\n\t\t\t\t'          nine | 9',\n\t\t\t\t'           ten | 10',\n\t\t\t\t'        eleven | 11',\n\t\t\t\t'',\n\t\t\t],\n\t\t\tnull,\n\t\t\tnew Selection(1, 1, 13, 1),\n\t\t\t(accessor, sel) => new ShiftCommand(sel, {\n\t\t\t\tisUnshift: true,\n\t\t\t\ttabSize: 4,\n\t\t\t\tindentSize: 4,\n\t\t\t\tinsertSpaces: false,\n\t\t\t\tuseTabStops: false,\n\t\t\t\tautoIndent: EditorAutoIndentStrategy.Full,\n\t\t\t}, accessor.get(ILanguageConfigurationService)),\n\t\t\t[\n\t\t\t\t'   Written | Numeric',\n\t\t\t\t'       one | 1',\n\t\t\t\t'       two | 2',\n\t\t\t\t'     three | 3',\n\t\t\t\t'      four | 4',\n\t\t\t\t'      five | 5',\n\t\t\t\t'       six | 6',\n\t\t\t\t'     seven | 7',\n\t\t\t\t'     eight | 8',\n\t\t\t\t'      nine | 9',\n\t\t\t\t'       ten | 10',\n\t\t\t\t'    eleven | 11',\n\t\t\t\t'',\n\t\t\t],\n\t\t\tnew Selection(1, 1, 13, 1)\n\t\t);\n\t});\n\n\ttest('issue #1620: d) Line indent doesn\\'t handle leading whitespace properly', () => {\n\t\ttestCommand(\n\t\t\t[\n\t\t\t\t'\\t   Written | Numeric',\n\t\t\t\t'\\t       one | 1',\n\t\t\t\t'\\t       two | 2',\n\t\t\t\t'\\t     three | 3',\n\t\t\t\t'\\t      four | 4',\n\t\t\t\t'\\t      five | 5',\n\t\t\t\t'\\t       six | 6',\n\t\t\t\t'\\t     seven | 7',\n\t\t\t\t'\\t     eight | 8',\n\t\t\t\t'\\t      nine | 9',\n\t\t\t\t'\\t       ten | 10',\n\t\t\t\t'\\t    eleven | 11',\n\t\t\t\t'',\n\t\t\t],\n\t\t\tnull,\n\t\t\tnew Selection(1, 1, 13, 1),\n\t\t\t(accessor, sel) => new ShiftCommand(sel, {\n\t\t\t\tisUnshift: true,\n\t\t\t\ttabSize: 4,\n\t\t\t\tindentSize: 4,\n\t\t\t\tinsertSpaces: true,\n\t\t\t\tuseTabStops: false,\n\t\t\t\tautoIndent: EditorAutoIndentStrategy.Full,\n\t\t\t}, accessor.get(ILanguageConfigurationService)),\n\t\t\t[\n\t\t\t\t'   Written | Numeric',\n\t\t\t\t'       one | 1',\n\t\t\t\t'       two | 2',\n\t\t\t\t'     three | 3',\n\t\t\t\t'      four | 4',\n\t\t\t\t'      five | 5',\n\t\t\t\t'       six | 6',\n\t\t\t\t'     seven | 7',\n\t\t\t\t'     eight | 8',\n\t\t\t\t'      nine | 9',\n\t\t\t\t'       ten | 10',\n\t\t\t\t'    eleven | 11',\n\t\t\t\t'',\n\t\t\t],\n\t\t\tnew Selection(1, 1, 13, 1)\n\t\t);\n\t});\n\n\ttest('issue microsoft/monaco-editor#443: Indentation of a single row deletes selected text in some cases', () => {\n\t\ttestCommand(\n\t\t\t[\n\t\t\t\t'Hello world!',\n\t\t\t\t'another line'\n\t\t\t],\n\t\t\tnull,\n\t\t\tnew Selection(1, 1, 1, 13),\n\t\t\t(accessor, sel) => new ShiftCommand(sel, {\n\t\t\t\tisUnshift: false,\n\t\t\t\ttabSize: 4,\n\t\t\t\tindentSize: 4,\n\t\t\t\tinsertSpaces: false,\n\t\t\t\tuseTabStops: true,\n\t\t\t\tautoIndent: EditorAutoIndentStrategy.Full,\n\t\t\t}, accessor.get(ILanguageConfigurationService)),\n\t\t\t[\n\t\t\t\t'\\tHello world!',\n\t\t\t\t'another line'\n\t\t\t],\n\t\t\tnew Selection(1, 1, 1, 14)\n\t\t);\n\t});\n\n\ttest('bug #16815:Shift+Tab doesn\\'t go back to tabstop', () => {\n\n\t\tconst repeatStr = (str: string, cnt: number): string => {\n\t\t\tlet r = '';\n\t\t\tfor (let i = 0; i < cnt; i++) {\n\t\t\t\tr += str;\n\t\t\t}\n\t\t\treturn r;\n\t\t};\n\n\t\tconst testOutdent = (tabSize: number, indentSize: number, insertSpaces: boolean, lineText: string, expectedIndents: number) => {\n\t\t\tconst oneIndent = insertSpaces ? repeatStr(' ', indentSize) : '\\t';\n\t\t\tconst expectedIndent = repeatStr(oneIndent, expectedIndents);\n\t\t\tif (lineText.length > 0) {\n\t\t\t\t_assertUnshiftCommand(tabSize, indentSize, insertSpaces, [lineText + 'aaa'], [createSingleEditOp(expectedIndent, 1, 1, 1, lineText.length + 1)]);\n\t\t\t} else {\n\t\t\t\t_assertUnshiftCommand(tabSize, indentSize, insertSpaces, [lineText + 'aaa'], []);\n\t\t\t}\n\t\t};\n\n\t\tconst testIndent = (tabSize: number, indentSize: number, insertSpaces: boolean, lineText: string, expectedIndents: number) => {\n\t\t\tconst oneIndent = insertSpaces ? repeatStr(' ', indentSize) : '\\t';\n\t\t\tconst expectedIndent = repeatStr(oneIndent, expectedIndents);\n\t\t\t_assertShiftCommand(tabSize, indentSize, insertSpaces, [lineText + 'aaa'], [createSingleEditOp(expectedIndent, 1, 1, 1, lineText.length + 1)]);\n\t\t};\n\n\t\tconst testIndentation = (tabSize: number, indentSize: number, lineText: string, expectedOnOutdent: number, expectedOnIndent: number) => {\n\t\t\ttestOutdent(tabSize, indentSize, true, lineText, expectedOnOutdent);\n\t\t\ttestOutdent(tabSize, indentSize, false, lineText, expectedOnOutdent);\n\n\t\t\ttestIndent(tabSize, indentSize, true, lineText, expectedOnIndent);\n\t\t\ttestIndent(tabSize, indentSize, false, lineText, expectedOnIndent);\n\t\t};\n\n\t\t// insertSpaces: true\n\t\t// 0 => 0\n\t\ttestIndentation(4, 4, '', 0, 1);\n\n\t\t// 1 => 0\n\t\ttestIndentation(4, 4, '\\t', 0, 2);\n\t\ttestIndentation(4, 4, ' ', 0, 1);\n\t\ttestIndentation(4, 4, ' \\t', 0, 2);\n\t\ttestIndentation(4, 4, '  ', 0, 1);\n\t\ttestIndentation(4, 4, '  \\t', 0, 2);\n\t\ttestIndentation(4, 4, '   ', 0, 1);\n\t\ttestIndentation(4, 4, '   \\t', 0, 2);\n\t\ttestIndentation(4, 4, '    ', 0, 2);\n\n\t\t// 2 => 1\n\t\ttestIndentation(4, 4, '\\t\\t', 1, 3);\n\t\ttestIndentation(4, 4, '\\t ', 1, 2);\n\t\ttestIndentation(4, 4, '\\t \\t', 1, 3);\n\t\ttestIndentation(4, 4, '\\t  ', 1, 2);\n\t\ttestIndentation(4, 4, '\\t  \\t', 1, 3);\n\t\ttestIndentation(4, 4, '\\t   ', 1, 2);\n\t\ttestIndentation(4, 4, '\\t   \\t', 1, 3);\n\t\ttestIndentation(4, 4, '\\t    ', 1, 3);\n\t\ttestIndentation(4, 4, ' \\t\\t', 1, 3);\n\t\ttestIndentation(4, 4, ' \\t ', 1, 2);\n\t\ttestIndentation(4, 4, ' \\t \\t', 1, 3);\n\t\ttestIndentation(4, 4, ' \\t  ', 1, 2);\n\t\ttestIndentation(4, 4, ' \\t  \\t', 1, 3);\n\t\ttestIndentation(4, 4, ' \\t   ', 1, 2);\n\t\ttestIndentation(4, 4, ' \\t   \\t', 1, 3);\n\t\ttestIndentation(4, 4, ' \\t    ', 1, 3);\n\t\ttestIndentation(4, 4, '  \\t\\t', 1, 3);\n\t\ttestIndentation(4, 4, '  \\t ', 1, 2);\n\t\ttestIndentation(4, 4, '  \\t \\t', 1, 3);\n\t\ttestIndentation(4, 4, '  \\t  ', 1, 2);\n\t\ttestIndentation(4, 4, '  \\t  \\t', 1, 3);\n\t\ttestIndentation(4, 4, '  \\t   ', 1, 2);\n\t\ttestIndentation(4, 4, '  \\t   \\t', 1, 3);\n\t\ttestIndentation(4, 4, '  \\t    ', 1, 3);\n\t\ttestIndentation(4, 4, '   \\t\\t', 1, 3);\n\t\ttestIndentation(4, 4, '   \\t ', 1, 2);\n\t\ttestIndentation(4, 4, '   \\t \\t', 1, 3);\n\t\ttestIndentation(4, 4, '   \\t  ', 1, 2);\n\t\ttestIndentation(4, 4, '   \\t  \\t', 1, 3);\n\t\ttestIndentation(4, 4, '   \\t   ', 1, 2);\n\t\ttestIndentation(4, 4, '   \\t   \\t', 1, 3);\n\t\ttestIndentation(4, 4, '   \\t    ', 1, 3);\n\t\ttestIndentation(4, 4, '    \\t', 1, 3);\n\t\ttestIndentation(4, 4, '     ', 1, 2);\n\t\ttestIndentation(4, 4, '     \\t', 1, 3);\n\t\ttestIndentation(4, 4, '      ', 1, 2);\n\t\ttestIndentation(4, 4, '      \\t', 1, 3);\n\t\ttestIndentation(4, 4, '       ', 1, 2);\n\t\ttestIndentation(4, 4, '       \\t', 1, 3);\n\t\ttestIndentation(4, 4, '        ', 1, 3);\n\n\t\t// 3 => 2\n\t\ttestIndentation(4, 4, '         ', 2, 3);\n\n\t\tfunction _assertUnshiftCommand(tabSize: number, indentSize: number, insertSpaces: boolean, text: string[], expected: ISingleEditOperation[]): void {\n\t\t\treturn withEditorModel(text, (model) => {\n\t\t\t\tconst testLanguageConfigurationService = new TestLanguageConfigurationService();\n\t\t\t\tconst op = new ShiftCommand(new Selection(1, 1, text.length + 1, 1), {\n\t\t\t\t\tisUnshift: true,\n\t\t\t\t\ttabSize: tabSize,\n\t\t\t\t\tindentSize: indentSize,\n\t\t\t\t\tinsertSpaces: insertSpaces,\n\t\t\t\t\tuseTabStops: true,\n\t\t\t\t\tautoIndent: EditorAutoIndentStrategy.Full,\n\t\t\t\t}, testLanguageConfigurationService);\n\t\t\t\tconst actual = getEditOperation(model, op);\n\t\t\t\tassert.deepStrictEqual(actual, expected);\n\t\t\t\ttestLanguageConfigurationService.dispose();\n\t\t\t});\n\t\t}\n\n\t\tfunction _assertShiftCommand(tabSize: number, indentSize: number, insertSpaces: boolean, text: string[], expected: ISingleEditOperation[]): void {\n\t\t\treturn withEditorModel(text, (model) => {\n\t\t\t\tconst testLanguageConfigurationService = new TestLanguageConfigurationService();\n\t\t\t\tconst op = new ShiftCommand(new Selection(1, 1, text.length + 1, 1), {\n\t\t\t\t\tisUnshift: false,\n\t\t\t\t\ttabSize: tabSize,\n\t\t\t\t\tindentSize: indentSize,\n\t\t\t\t\tinsertSpaces: insertSpaces,\n\t\t\t\t\tuseTabStops: true,\n\t\t\t\t\tautoIndent: EditorAutoIndentStrategy.Full,\n\t\t\t\t}, testLanguageConfigurationService);\n\t\t\t\tconst actual = getEditOperation(model, op);\n\t\t\t\tassert.deepStrictEqual(actual, expected);\n\t\t\t\ttestLanguageConfigurationService.dispose();\n\t\t\t});\n\t\t}\n\t});\n\n});\n"]}