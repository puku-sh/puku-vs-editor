{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/editor/test/browser/controller/cursor.test.ts","vs/editor/test/browser/controller/cursor.test.ts"],"names":[],"mappings":"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","file":"cursor.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\nimport { CoreEditingCommands, CoreNavigationCommands } from '../../../browser/coreCommands.js';\nimport { IEditorOptions } from '../../../common/config/editorOptions.js';\nimport { EditOperation } from '../../../common/core/editOperation.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { ICursorPositionChangedEvent } from '../../../common/cursorEvents.js';\nimport { ICommand, ICursorStateComputerData, IEditOperationBuilder } from '../../../common/editorCommon.js';\nimport { MetadataConsts, StandardTokenType } from '../../../common/encodedTokenAttributes.js';\nimport { EncodedTokenizationResult, IState, ITokenizationSupport, TokenizationRegistry } from '../../../common/languages.js';\nimport { ILanguageService } from '../../../common/languages/language.js';\nimport { IndentAction, IndentationRule } from '../../../common/languages/languageConfiguration.js';\nimport { ILanguageConfigurationService } from '../../../common/languages/languageConfigurationRegistry.js';\nimport { NullState } from '../../../common/languages/nullTokenize.js';\nimport { EndOfLinePreference, EndOfLineSequence, ITextModel } from '../../../common/model.js';\nimport { TextModel } from '../../../common/model/textModel.js';\nimport { ViewModel } from '../../../common/viewModel/viewModelImpl.js';\nimport { OutgoingViewModelEventKind } from '../../../common/viewModelEventDispatcher.js';\nimport { ITestCodeEditor, TestCodeEditorInstantiationOptions, createCodeEditorServices, instantiateTestCodeEditor, withTestCodeEditor } from '../testCodeEditor.js';\nimport { IRelaxedTextModelCreationOptions, createTextModel, instantiateTextModel } from '../../common/testTextModel.js';\nimport { TestInstantiationService } from '../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { InputMode } from '../../../common/inputMode.js';\nimport { EditSources } from '../../../common/textModelEditSource.js';\n\n// --------- utils\n\nfunction moveTo(editor: ITestCodeEditor, viewModel: ViewModel, lineNumber: number, column: number, inSelectionMode: boolean = false) {\n\tif (inSelectionMode) {\n\t\tCoreNavigationCommands.MoveToSelect.runCoreEditorCommand(viewModel, {\n\t\t\tposition: new Position(lineNumber, column)\n\t\t});\n\t} else {\n\t\tCoreNavigationCommands.MoveTo.runCoreEditorCommand(viewModel, {\n\t\t\tposition: new Position(lineNumber, column)\n\t\t});\n\t}\n}\n\nfunction moveLeft(editor: ITestCodeEditor, viewModel: ViewModel, inSelectionMode: boolean = false) {\n\tif (inSelectionMode) {\n\t\tCoreNavigationCommands.CursorLeftSelect.runCoreEditorCommand(viewModel, {});\n\t} else {\n\t\tCoreNavigationCommands.CursorLeft.runCoreEditorCommand(viewModel, {});\n\t}\n}\n\nfunction moveRight(editor: ITestCodeEditor, viewModel: ViewModel, inSelectionMode: boolean = false) {\n\tif (inSelectionMode) {\n\t\tCoreNavigationCommands.CursorRightSelect.runCoreEditorCommand(viewModel, {});\n\t} else {\n\t\tCoreNavigationCommands.CursorRight.runCoreEditorCommand(viewModel, {});\n\t}\n}\n\nfunction moveDown(editor: ITestCodeEditor, viewModel: ViewModel, inSelectionMode: boolean = false) {\n\tif (inSelectionMode) {\n\t\tCoreNavigationCommands.CursorDownSelect.runCoreEditorCommand(viewModel, {});\n\t} else {\n\t\tCoreNavigationCommands.CursorDown.runCoreEditorCommand(viewModel, {});\n\t}\n}\n\nfunction moveUp(editor: ITestCodeEditor, viewModel: ViewModel, inSelectionMode: boolean = false) {\n\tif (inSelectionMode) {\n\t\tCoreNavigationCommands.CursorUpSelect.runCoreEditorCommand(viewModel, {});\n\t} else {\n\t\tCoreNavigationCommands.CursorUp.runCoreEditorCommand(viewModel, {});\n\t}\n}\n\nfunction moveToBeginningOfLine(editor: ITestCodeEditor, viewModel: ViewModel, inSelectionMode: boolean = false) {\n\tif (inSelectionMode) {\n\t\tCoreNavigationCommands.CursorHomeSelect.runCoreEditorCommand(viewModel, {});\n\t} else {\n\t\tCoreNavigationCommands.CursorHome.runCoreEditorCommand(viewModel, {});\n\t}\n}\n\nfunction moveToEndOfLine(editor: ITestCodeEditor, viewModel: ViewModel, inSelectionMode: boolean = false) {\n\tif (inSelectionMode) {\n\t\tCoreNavigationCommands.CursorEndSelect.runCoreEditorCommand(viewModel, {});\n\t} else {\n\t\tCoreNavigationCommands.CursorEnd.runCoreEditorCommand(viewModel, {});\n\t}\n}\n\nfunction moveToBeginningOfBuffer(editor: ITestCodeEditor, viewModel: ViewModel, inSelectionMode: boolean = false) {\n\tif (inSelectionMode) {\n\t\tCoreNavigationCommands.CursorTopSelect.runCoreEditorCommand(viewModel, {});\n\t} else {\n\t\tCoreNavigationCommands.CursorTop.runCoreEditorCommand(viewModel, {});\n\t}\n}\n\nfunction moveToEndOfBuffer(editor: ITestCodeEditor, viewModel: ViewModel, inSelectionMode: boolean = false) {\n\tif (inSelectionMode) {\n\t\tCoreNavigationCommands.CursorBottomSelect.runCoreEditorCommand(viewModel, {});\n\t} else {\n\t\tCoreNavigationCommands.CursorBottom.runCoreEditorCommand(viewModel, {});\n\t}\n}\n\nfunction assertCursor(viewModel: ViewModel, what: Position | Selection | Selection[]): void {\n\tlet selections: Selection[];\n\tif (what instanceof Position) {\n\t\tselections = [new Selection(what.lineNumber, what.column, what.lineNumber, what.column)];\n\t} else if (what instanceof Selection) {\n\t\tselections = [what];\n\t} else {\n\t\tselections = what;\n\t}\n\tconst actual = viewModel.getSelections().map(s => s.toString());\n\tconst expected = selections.map(s => s.toString());\n\n\tassert.deepStrictEqual(actual, expected);\n}\n\nsuite('Editor Controller - Cursor', () => {\n\tconst LINE1 = '    \\tMy First Line\\t ';\n\tconst LINE2 = '\\tMy Second Line';\n\tconst LINE3 = '    Third Line';\n\tconst LINE4 = '';\n\tconst LINE5 = '1';\n\n\tconst TEXT =\n\t\tLINE1 + '\\r\\n' +\n\t\tLINE2 + '\\n' +\n\t\tLINE3 + '\\n' +\n\t\tLINE4 + '\\r\\n' +\n\t\tLINE5;\n\n\tfunction runTest(callback: (editor: ITestCodeEditor, viewModel: ViewModel) => void): void {\n\t\twithTestCodeEditor(TEXT, {}, (editor, viewModel) => {\n\t\t\tcallback(editor, viewModel);\n\t\t});\n\t}\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('cursor initialized', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\t\t});\n\t});\n\n\t// --------- absolute move\n\n\ttest('no move', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 1);\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\t\t});\n\t});\n\n\ttest('move', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 2);\n\t\t\tassertCursor(viewModel, new Position(1, 2));\n\t\t});\n\t});\n\n\ttest('move in selection mode', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 2, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 1, 1, 2));\n\t\t});\n\t});\n\n\ttest('move beyond line end', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 25);\n\t\t\tassertCursor(viewModel, new Position(1, LINE1.length + 1));\n\t\t});\n\t});\n\n\ttest('move empty line', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 4, 20);\n\t\t\tassertCursor(viewModel, new Position(4, 1));\n\t\t});\n\t});\n\n\ttest('move one char line', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 5, 20);\n\t\t\tassertCursor(viewModel, new Position(5, 2));\n\t\t});\n\t});\n\n\ttest('selection down', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 1, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 1, 2, 1));\n\t\t});\n\t});\n\n\ttest('move and then select', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 3);\n\t\t\tassertCursor(viewModel, new Position(2, 3));\n\n\t\t\tmoveTo(editor, viewModel, 2, 15, true);\n\t\t\tassertCursor(viewModel, new Selection(2, 3, 2, 15));\n\n\t\t\tmoveTo(editor, viewModel, 1, 2, true);\n\t\t\tassertCursor(viewModel, new Selection(2, 3, 1, 2));\n\t\t});\n\t});\n\n\t// --------- move left\n\n\ttest('move left on top left position', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveLeft(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\t\t});\n\t});\n\n\ttest('move left', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 3);\n\t\t\tassertCursor(viewModel, new Position(1, 3));\n\t\t\tmoveLeft(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 2));\n\t\t});\n\t});\n\n\ttest('move left with surrogate pair', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 17);\n\t\t\tassertCursor(viewModel, new Position(3, 17));\n\t\t\tmoveLeft(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(3, 15));\n\t\t});\n\t});\n\n\ttest('move left goes to previous row', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 1);\n\t\t\tassertCursor(viewModel, new Position(2, 1));\n\t\t\tmoveLeft(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 21));\n\t\t});\n\t});\n\n\ttest('move left selection', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 1);\n\t\t\tassertCursor(viewModel, new Position(2, 1));\n\t\t\tmoveLeft(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(2, 1, 1, 21));\n\t\t});\n\t});\n\n\t// --------- move right\n\n\ttest('move right on bottom right position', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 5, 2);\n\t\t\tassertCursor(viewModel, new Position(5, 2));\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(5, 2));\n\t\t});\n\t});\n\n\ttest('move right', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 3);\n\t\t\tassertCursor(viewModel, new Position(1, 3));\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 4));\n\t\t});\n\t});\n\n\ttest('move right with surrogate pair', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 15);\n\t\t\tassertCursor(viewModel, new Position(3, 15));\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(3, 17));\n\t\t});\n\t});\n\n\ttest('move right goes to next row', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 21);\n\t\t\tassertCursor(viewModel, new Position(1, 21));\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(2, 1));\n\t\t});\n\t});\n\n\ttest('move right selection', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 21);\n\t\t\tassertCursor(viewModel, new Position(1, 21));\n\t\t\tmoveRight(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 21, 2, 1));\n\t\t});\n\t});\n\n\t// --------- move down\n\n\ttest('move down', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(2, 1));\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(3, 1));\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(4, 1));\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(5, 1));\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(5, 2));\n\t\t});\n\t});\n\n\ttest('move down with selection', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveDown(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 1, 2, 1));\n\t\t\tmoveDown(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 1, 3, 1));\n\t\t\tmoveDown(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 1, 4, 1));\n\t\t\tmoveDown(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 1, 5, 1));\n\t\t\tmoveDown(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 1, 5, 2));\n\t\t});\n\t});\n\n\ttest('move down with tabs', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 5);\n\t\t\tassertCursor(viewModel, new Position(1, 5));\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(2, 2));\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(3, 5));\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(4, 1));\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(5, 2));\n\t\t});\n\t});\n\n\t// --------- move up\n\n\ttest('move up', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 5);\n\t\t\tassertCursor(viewModel, new Position(3, 5));\n\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(2, 2));\n\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 5));\n\t\t});\n\t});\n\n\ttest('move up with selection', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 5);\n\t\t\tassertCursor(viewModel, new Position(3, 5));\n\n\t\t\tmoveUp(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(3, 5, 2, 2));\n\n\t\t\tmoveUp(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(3, 5, 1, 5));\n\t\t});\n\t});\n\n\ttest('move up and down with tabs', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 5);\n\t\t\tassertCursor(viewModel, new Position(1, 5));\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(5, 2));\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(4, 1));\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(3, 5));\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(2, 2));\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 5));\n\t\t});\n\t});\n\n\ttest('move up and down with end of lines starting from a long one', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveToEndOfLine(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, LINE1.length + 1));\n\t\t\tmoveToEndOfLine(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, LINE1.length + 1));\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(2, LINE2.length + 1));\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(3, LINE3.length + 1));\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(4, LINE4.length + 1));\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(5, LINE5.length + 1));\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, LINE1.length + 1));\n\t\t});\n\t});\n\n\ttest('issue #44465: cursor position not correct when move', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 5, 1, 5)]);\n\t\t\t// going once up on the first line remembers the offset visual columns\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(2, 2));\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 5));\n\n\t\t\t// going twice up on the first line discards the offset visual columns\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(2, 1));\n\t\t});\n\t});\n\n\ttest('issue #144041: Cursor up/down works', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'Word1 Word2 Word3 Word4',\n\t\t\t\t'Word5 Word6 Word7 Word8',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, { wrappingIndent: 'indent', wordWrap: 'wordWrapColumn', wordWrapColumn: 20 }, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 1, 1, 1)]);\n\n\t\t\tconst cursorPositions: any[] = [];\n\t\t\tfunction reportCursorPosition() {\n\t\t\t\tcursorPositions.push(viewModel.getCursorStates()[0].viewState.position.toString());\n\t\t\t}\n\n\t\t\treportCursorPosition();\n\t\t\teditor.runCommand(CoreNavigationCommands.CursorDown, null);\n\t\t\treportCursorPosition();\n\t\t\teditor.runCommand(CoreNavigationCommands.CursorDown, null);\n\t\t\treportCursorPosition();\n\t\t\teditor.runCommand(CoreNavigationCommands.CursorDown, null);\n\t\t\treportCursorPosition();\n\t\t\teditor.runCommand(CoreNavigationCommands.CursorDown, null);\n\n\t\t\treportCursorPosition();\n\t\t\teditor.runCommand(CoreNavigationCommands.CursorUp, null);\n\t\t\treportCursorPosition();\n\t\t\teditor.runCommand(CoreNavigationCommands.CursorUp, null);\n\t\t\treportCursorPosition();\n\t\t\teditor.runCommand(CoreNavigationCommands.CursorUp, null);\n\t\t\treportCursorPosition();\n\t\t\teditor.runCommand(CoreNavigationCommands.CursorUp, null);\n\t\t\treportCursorPosition();\n\n\t\t\tassert.deepStrictEqual(cursorPositions, [\n\t\t\t\t'(1,1)',\n\t\t\t\t'(2,5)',\n\t\t\t\t'(3,1)',\n\t\t\t\t'(4,5)',\n\t\t\t\t'(4,10)',\n\t\t\t\t'(3,1)',\n\t\t\t\t'(2,5)',\n\t\t\t\t'(1,1)',\n\t\t\t\t'(1,1)',\n\t\t\t]);\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('issue #140195: Cursor up/down makes progress', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'Word1 Word2 Word3 Word4',\n\t\t\t\t'Word5 Word6 Word7 Word8',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, { wrappingIndent: 'indent', wordWrap: 'wordWrapColumn', wordWrapColumn: 20 }, (editor, viewModel) => {\n\t\t\teditor.changeDecorations((changeAccessor) => {\n\t\t\t\tchangeAccessor.deltaDecorations([], [\n\t\t\t\t\t{\n\t\t\t\t\t\trange: new Range(1, 22, 1, 22),\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\tshowIfCollapsed: true,\n\t\t\t\t\t\t\tdescription: 'test',\n\t\t\t\t\t\t\tafter: {\n\t\t\t\t\t\t\t\tcontent: 'some very very very very very very very very long text',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]);\n\t\t\t});\n\t\t\tviewModel.setSelections('test', [new Selection(1, 1, 1, 1)]);\n\n\t\t\tconst cursorPositions: any[] = [];\n\t\t\tfunction reportCursorPosition() {\n\t\t\t\tcursorPositions.push(viewModel.getCursorStates()[0].viewState.position.toString());\n\t\t\t}\n\n\t\t\treportCursorPosition();\n\t\t\teditor.runCommand(CoreNavigationCommands.CursorDown, null);\n\t\t\treportCursorPosition();\n\t\t\teditor.runCommand(CoreNavigationCommands.CursorDown, null);\n\t\t\treportCursorPosition();\n\t\t\teditor.runCommand(CoreNavigationCommands.CursorDown, null);\n\t\t\treportCursorPosition();\n\t\t\teditor.runCommand(CoreNavigationCommands.CursorDown, null);\n\n\t\t\treportCursorPosition();\n\t\t\teditor.runCommand(CoreNavigationCommands.CursorUp, null);\n\t\t\treportCursorPosition();\n\t\t\teditor.runCommand(CoreNavigationCommands.CursorUp, null);\n\t\t\treportCursorPosition();\n\t\t\teditor.runCommand(CoreNavigationCommands.CursorUp, null);\n\t\t\treportCursorPosition();\n\t\t\teditor.runCommand(CoreNavigationCommands.CursorUp, null);\n\t\t\treportCursorPosition();\n\n\t\t\tassert.deepStrictEqual(cursorPositions, [\n\t\t\t\t'(1,1)',\n\t\t\t\t'(2,5)',\n\t\t\t\t'(5,19)',\n\t\t\t\t'(6,1)',\n\t\t\t\t'(7,5)',\n\t\t\t\t'(6,1)',\n\t\t\t\t'(2,8)',\n\t\t\t\t'(1,1)',\n\t\t\t\t'(1,1)',\n\t\t\t]);\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\t// --------- move to beginning of line\n\n\ttest('move to beginning of line', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveToBeginningOfLine(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 6));\n\t\t\tmoveToBeginningOfLine(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\t\t});\n\t});\n\n\ttest('move to beginning of line from within line', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 8);\n\t\t\tmoveToBeginningOfLine(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 6));\n\t\t\tmoveToBeginningOfLine(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\t\t});\n\t});\n\n\ttest('move to beginning of line from whitespace at beginning of line', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 2);\n\t\t\tmoveToBeginningOfLine(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 6));\n\t\t\tmoveToBeginningOfLine(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\t\t});\n\t});\n\n\ttest('move to beginning of line from within line selection', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 8);\n\t\t\tmoveToBeginningOfLine(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 8, 1, 6));\n\t\t\tmoveToBeginningOfLine(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 8, 1, 1));\n\t\t});\n\t});\n\n\ttest('move to beginning of line with selection multiline forward', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 8);\n\t\t\tmoveTo(editor, viewModel, 3, 9, true);\n\t\t\tmoveToBeginningOfLine(editor, viewModel, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 5, 3, 5));\n\t\t});\n\t});\n\n\ttest('move to beginning of line with selection multiline backward', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 9);\n\t\t\tmoveTo(editor, viewModel, 1, 8, true);\n\t\t\tmoveToBeginningOfLine(editor, viewModel, false);\n\t\t\tassertCursor(viewModel, new Selection(1, 6, 1, 6));\n\t\t});\n\t});\n\n\ttest('move to beginning of line with selection single line forward', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 2);\n\t\t\tmoveTo(editor, viewModel, 3, 9, true);\n\t\t\tmoveToBeginningOfLine(editor, viewModel, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 5, 3, 5));\n\t\t});\n\t});\n\n\ttest('move to beginning of line with selection single line backward', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 9);\n\t\t\tmoveTo(editor, viewModel, 3, 2, true);\n\t\t\tmoveToBeginningOfLine(editor, viewModel, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 5, 3, 5));\n\t\t});\n\t});\n\n\ttest('issue #15401: \"End\" key is behaving weird when text is selected part 1', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 8);\n\t\t\tmoveTo(editor, viewModel, 3, 9, true);\n\t\t\tmoveToBeginningOfLine(editor, viewModel, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 5, 3, 5));\n\t\t});\n\t});\n\n\ttest('issue #17011: Shift+home/end now go to the end of the selection start\\'s line, not the selection\\'s end', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 8);\n\t\t\tmoveTo(editor, viewModel, 3, 9, true);\n\t\t\tmoveToBeginningOfLine(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 8, 3, 5));\n\t\t});\n\t});\n\n\t// --------- move to end of line\n\n\ttest('move to end of line', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveToEndOfLine(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, LINE1.length + 1));\n\t\t\tmoveToEndOfLine(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, LINE1.length + 1));\n\t\t});\n\t});\n\n\ttest('move to end of line from within line', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 6);\n\t\t\tmoveToEndOfLine(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, LINE1.length + 1));\n\t\t\tmoveToEndOfLine(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, LINE1.length + 1));\n\t\t});\n\t});\n\n\ttest('move to end of line from whitespace at end of line', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 20);\n\t\t\tmoveToEndOfLine(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, LINE1.length + 1));\n\t\t\tmoveToEndOfLine(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, LINE1.length + 1));\n\t\t});\n\t});\n\n\ttest('move to end of line from within line selection', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 6);\n\t\t\tmoveToEndOfLine(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 6, 1, LINE1.length + 1));\n\t\t\tmoveToEndOfLine(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 6, 1, LINE1.length + 1));\n\t\t});\n\t});\n\n\ttest('move to end of line with selection multiline forward', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 1);\n\t\t\tmoveTo(editor, viewModel, 3, 9, true);\n\t\t\tmoveToEndOfLine(editor, viewModel, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 17, 3, 17));\n\t\t});\n\t});\n\n\ttest('move to end of line with selection multiline backward', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 9);\n\t\t\tmoveTo(editor, viewModel, 1, 1, true);\n\t\t\tmoveToEndOfLine(editor, viewModel, false);\n\t\t\tassertCursor(viewModel, new Selection(1, 21, 1, 21));\n\t\t});\n\t});\n\n\ttest('move to end of line with selection single line forward', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 1);\n\t\t\tmoveTo(editor, viewModel, 3, 9, true);\n\t\t\tmoveToEndOfLine(editor, viewModel, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 17, 3, 17));\n\t\t});\n\t});\n\n\ttest('move to end of line with selection single line backward', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 9);\n\t\t\tmoveTo(editor, viewModel, 3, 1, true);\n\t\t\tmoveToEndOfLine(editor, viewModel, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 17, 3, 17));\n\t\t});\n\t});\n\n\ttest('issue #15401: \"End\" key is behaving weird when text is selected part 2', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 1);\n\t\t\tmoveTo(editor, viewModel, 3, 9, true);\n\t\t\tmoveToEndOfLine(editor, viewModel, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 17, 3, 17));\n\t\t});\n\t});\n\n\t// --------- move to beginning of buffer\n\n\ttest('move to beginning of buffer', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveToBeginningOfBuffer(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\t\t});\n\t});\n\n\ttest('move to beginning of buffer from within first line', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 3);\n\t\t\tmoveToBeginningOfBuffer(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\t\t});\n\t});\n\n\ttest('move to beginning of buffer from within another line', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 3);\n\t\t\tmoveToBeginningOfBuffer(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\t\t});\n\t});\n\n\ttest('move to beginning of buffer from within first line selection', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 3);\n\t\t\tmoveToBeginningOfBuffer(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 3, 1, 1));\n\t\t});\n\t});\n\n\ttest('move to beginning of buffer from within another line selection', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 3);\n\t\t\tmoveToBeginningOfBuffer(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(3, 3, 1, 1));\n\t\t});\n\t});\n\n\t// --------- move to end of buffer\n\n\ttest('move to end of buffer', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveToEndOfBuffer(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(5, LINE5.length + 1));\n\t\t});\n\t});\n\n\ttest('move to end of buffer from within last line', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 5, 1);\n\t\t\tmoveToEndOfBuffer(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(5, LINE5.length + 1));\n\t\t});\n\t});\n\n\ttest('move to end of buffer from within another line', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 3);\n\t\t\tmoveToEndOfBuffer(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(5, LINE5.length + 1));\n\t\t});\n\t});\n\n\ttest('move to end of buffer from within last line selection', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 5, 1);\n\t\t\tmoveToEndOfBuffer(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(5, 1, 5, LINE5.length + 1));\n\t\t});\n\t});\n\n\ttest('move to end of buffer from within another line selection', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 3);\n\t\t\tmoveToEndOfBuffer(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(3, 3, 5, LINE5.length + 1));\n\t\t});\n\t});\n\n\t// --------- misc\n\n\ttest('select all', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tCoreNavigationCommands.SelectAll.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, new Selection(1, 1, 5, LINE5.length + 1));\n\t\t});\n\t});\n\n\t// --------- eventing\n\n\ttest('no move doesn\\'t trigger event', () => {\n\n\t\trunTest((editor, viewModel) => {\n\t\t\tconst disposable = viewModel.onEvent((e) => {\n\t\t\t\tassert.ok(false, 'was not expecting event');\n\t\t\t});\n\t\t\tmoveTo(editor, viewModel, 1, 1);\n\t\t\tdisposable.dispose();\n\t\t});\n\t});\n\n\ttest('move eventing', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tlet events = 0;\n\t\t\tconst disposable = viewModel.onEvent((e) => {\n\t\t\t\tif (e.kind === OutgoingViewModelEventKind.CursorStateChanged) {\n\t\t\t\t\tevents++;\n\t\t\t\t\tassert.deepStrictEqual(e.selections, [new Selection(1, 2, 1, 2)]);\n\t\t\t\t}\n\t\t\t});\n\t\t\tmoveTo(editor, viewModel, 1, 2);\n\t\t\tassert.strictEqual(events, 1, 'receives 1 event');\n\t\t\tdisposable.dispose();\n\t\t});\n\t});\n\n\ttest('move in selection mode eventing', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tlet events = 0;\n\t\t\tconst disposable = viewModel.onEvent((e) => {\n\t\t\t\tif (e.kind === OutgoingViewModelEventKind.CursorStateChanged) {\n\t\t\t\t\tevents++;\n\t\t\t\t\tassert.deepStrictEqual(e.selections, [new Selection(1, 1, 1, 2)]);\n\t\t\t\t}\n\t\t\t});\n\t\t\tmoveTo(editor, viewModel, 1, 2, true);\n\t\t\tassert.strictEqual(events, 1, 'receives 1 event');\n\t\t\tdisposable.dispose();\n\t\t});\n\t});\n\n\t// --------- state save & restore\n\n\ttest('saveState & restoreState', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 1, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 1, 2, 1));\n\n\t\t\tconst savedState = JSON.stringify(viewModel.saveCursorState());\n\n\t\t\tmoveTo(editor, viewModel, 1, 1, false);\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\n\t\t\tviewModel.restoreCursorState(JSON.parse(savedState));\n\t\t\tassertCursor(viewModel, new Selection(1, 1, 2, 1));\n\t\t});\n\t});\n\n\t// --------- updating cursor\n\n\ttest('Independent model edit 1', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 16, true);\n\n\t\t\teditor.getModel().applyEdits([EditOperation.delete(new Range(2, 1, 2, 2))]);\n\t\t\tassertCursor(viewModel, new Selection(1, 1, 2, 15));\n\t\t});\n\t});\n\n\ttest('column select 1', () => {\n\t\twithTestCodeEditor([\n\t\t\t'\\tprivate compute(a:number): boolean {',\n\t\t\t'\\t\\tif (a + 3 === 0 || a + 5 === 0) {',\n\t\t\t'\\t\\t\\treturn false;',\n\t\t\t'\\t\\t}',\n\t\t\t'\\t}'\n\t\t], {}, (editor, viewModel) => {\n\n\t\t\tmoveTo(editor, viewModel, 1, 7, false);\n\t\t\tassertCursor(viewModel, new Position(1, 7));\n\n\t\t\tCoreNavigationCommands.ColumnSelect.runCoreEditorCommand(viewModel, {\n\t\t\t\tposition: new Position(4, 4),\n\t\t\t\tviewPosition: new Position(4, 4),\n\t\t\t\tmouseColumn: 15,\n\t\t\t\tdoColumnSelect: true\n\t\t\t});\n\n\t\t\tconst expectedSelections = [\n\t\t\t\tnew Selection(1, 7, 1, 12),\n\t\t\t\tnew Selection(2, 4, 2, 9),\n\t\t\t\tnew Selection(3, 3, 3, 6),\n\t\t\t\tnew Selection(4, 4, 4, 4),\n\t\t\t];\n\n\t\t\tassertCursor(viewModel, expectedSelections);\n\n\t\t});\n\t});\n\n\ttest('grapheme breaking', () => {\n\t\twithTestCodeEditor([\n\t\t\t'abcabc',\n\t\t\t'aaaaaa',\n\t\t\t'',\n\t\t\t'',\n\t\t], {}, (editor, viewModel) => {\n\n\t\t\tviewModel.setSelections('test', [new Selection(2, 1, 2, 1)]);\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(2, 3));\n\t\t\tmoveLeft(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(2, 1));\n\n\t\t\tviewModel.setSelections('test', [new Selection(3, 1, 3, 1)]);\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(3, 4));\n\t\t\tmoveLeft(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(3, 1));\n\n\t\t\tviewModel.setSelections('test', [new Selection(4, 1, 4, 1)]);\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(4, 3));\n\t\t\tmoveLeft(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(4, 1));\n\n\t\t\tviewModel.setSelections('test', [new Selection(1, 3, 1, 3)]);\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(2, 5));\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(3, 4));\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(2, 5));\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 3));\n\n\t\t});\n\t});\n\n\ttest('issue #4905 - column select is biased to the right', () => {\n\t\twithTestCodeEditor([\n\t\t\t'var gulp = require(\"gulp\");',\n\t\t\t'var path = require(\"path\");',\n\t\t\t'var rimraf = require(\"rimraf\");',\n\t\t\t'var isarray = require(\"isarray\");',\n\t\t\t'var merge = require(\"merge-stream\");',\n\t\t\t'var concat = require(\"gulp-concat\");',\n\t\t\t'var newer = require(\"gulp-newer\");',\n\t\t].join('\\n'), {}, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 4, false);\n\t\t\tassertCursor(viewModel, new Position(1, 4));\n\n\t\t\tCoreNavigationCommands.ColumnSelect.runCoreEditorCommand(viewModel, {\n\t\t\t\tposition: new Position(4, 1),\n\t\t\t\tviewPosition: new Position(4, 1),\n\t\t\t\tmouseColumn: 1,\n\t\t\t\tdoColumnSelect: true\n\t\t\t});\n\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 1),\n\t\t\t\tnew Selection(2, 4, 2, 1),\n\t\t\t\tnew Selection(3, 4, 3, 1),\n\t\t\t\tnew Selection(4, 4, 4, 1),\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('issue #20087: column select with mouse', () => {\n\t\twithTestCodeEditor([\n\t\t\t'<property id=\"SomeThing\" key=\"SomeKey\" value=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" key=\"SomeKey\" value=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" Key=\"SomeKey\" value=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" key=\"SomeKey\" value=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" key=\"SoMEKEy\" value=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" key=\"SomeKey\" value=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" key=\"SomeKey\" value=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" key=\"SomeKey\" valuE=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" key=\"SomeKey\" value=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" key=\"SomeKey\" value=\"00X\"/>',\n\t\t].join('\\n'), {}, (editor, viewModel) => {\n\n\t\t\tmoveTo(editor, viewModel, 10, 10, false);\n\t\t\tassertCursor(viewModel, new Position(10, 10));\n\n\t\t\tCoreNavigationCommands.ColumnSelect.runCoreEditorCommand(viewModel, {\n\t\t\t\tposition: new Position(1, 1),\n\t\t\t\tviewPosition: new Position(1, 1),\n\t\t\t\tmouseColumn: 1,\n\t\t\t\tdoColumnSelect: true\n\t\t\t});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(10, 10, 10, 1),\n\t\t\t\tnew Selection(9, 10, 9, 1),\n\t\t\t\tnew Selection(8, 10, 8, 1),\n\t\t\t\tnew Selection(7, 10, 7, 1),\n\t\t\t\tnew Selection(6, 10, 6, 1),\n\t\t\t\tnew Selection(5, 10, 5, 1),\n\t\t\t\tnew Selection(4, 10, 4, 1),\n\t\t\t\tnew Selection(3, 10, 3, 1),\n\t\t\t\tnew Selection(2, 10, 2, 1),\n\t\t\t\tnew Selection(1, 10, 1, 1),\n\t\t\t]);\n\n\t\t\tCoreNavigationCommands.ColumnSelect.runCoreEditorCommand(viewModel, {\n\t\t\t\tposition: new Position(1, 1),\n\t\t\t\tviewPosition: new Position(1, 1),\n\t\t\t\tmouseColumn: 1,\n\t\t\t\tdoColumnSelect: true\n\t\t\t});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(10, 10, 10, 1),\n\t\t\t\tnew Selection(9, 10, 9, 1),\n\t\t\t\tnew Selection(8, 10, 8, 1),\n\t\t\t\tnew Selection(7, 10, 7, 1),\n\t\t\t\tnew Selection(6, 10, 6, 1),\n\t\t\t\tnew Selection(5, 10, 5, 1),\n\t\t\t\tnew Selection(4, 10, 4, 1),\n\t\t\t\tnew Selection(3, 10, 3, 1),\n\t\t\t\tnew Selection(2, 10, 2, 1),\n\t\t\t\tnew Selection(1, 10, 1, 1),\n\t\t\t]);\n\n\t\t});\n\t});\n\n\ttest('issue #20087: column select with keyboard', () => {\n\t\twithTestCodeEditor([\n\t\t\t'<property id=\"SomeThing\" key=\"SomeKey\" value=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" key=\"SomeKey\" value=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" Key=\"SomeKey\" value=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" key=\"SomeKey\" value=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" key=\"SoMEKEy\" value=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" key=\"SomeKey\" value=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" key=\"SomeKey\" value=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" key=\"SomeKey\" valuE=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" key=\"SomeKey\" value=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" key=\"SomeKey\" value=\"00X\"/>',\n\t\t].join('\\n'), {}, (editor, viewModel) => {\n\n\t\t\tmoveTo(editor, viewModel, 10, 10, false);\n\t\t\tassertCursor(viewModel, new Position(10, 10));\n\n\t\t\tCoreNavigationCommands.CursorColumnSelectLeft.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(10, 10, 10, 9)\n\t\t\t]);\n\n\t\t\tCoreNavigationCommands.CursorColumnSelectLeft.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(10, 10, 10, 8)\n\t\t\t]);\n\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(10, 10, 10, 9)\n\t\t\t]);\n\n\t\t\tCoreNavigationCommands.CursorColumnSelectUp.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(10, 10, 10, 9),\n\t\t\t\tnew Selection(9, 10, 9, 9),\n\t\t\t]);\n\n\t\t\tCoreNavigationCommands.CursorColumnSelectDown.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(10, 10, 10, 9)\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('issue #118062: Column selection cannot select first position of a line', () => {\n\t\twithTestCodeEditor([\n\t\t\t'hello world',\n\t\t].join('\\n'), {}, (editor, viewModel) => {\n\n\t\t\tmoveTo(editor, viewModel, 1, 2, false);\n\t\t\tassertCursor(viewModel, new Position(1, 2));\n\n\t\t\tCoreNavigationCommands.CursorColumnSelectLeft.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 2, 1, 1)\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('column select with keyboard', () => {\n\t\twithTestCodeEditor([\n\t\t\t'var gulp = require(\"gulp\");',\n\t\t\t'var path = require(\"path\");',\n\t\t\t'var rimraf = require(\"rimraf\");',\n\t\t\t'var isarray = require(\"isarray\");',\n\t\t\t'var merge = require(\"merge-stream\");',\n\t\t\t'var concat = require(\"gulp-concat\");',\n\t\t\t'var newer = require(\"gulp-newer\");',\n\t\t].join('\\n'), {}, (editor, viewModel) => {\n\n\t\t\tmoveTo(editor, viewModel, 1, 4, false);\n\t\t\tassertCursor(viewModel, new Position(1, 4));\n\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 5)\n\t\t\t]);\n\n\t\t\tCoreNavigationCommands.CursorColumnSelectDown.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 5),\n\t\t\t\tnew Selection(2, 4, 2, 5)\n\t\t\t]);\n\n\t\t\tCoreNavigationCommands.CursorColumnSelectDown.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 5),\n\t\t\t\tnew Selection(2, 4, 2, 5),\n\t\t\t\tnew Selection(3, 4, 3, 5),\n\t\t\t]);\n\n\t\t\tCoreNavigationCommands.CursorColumnSelectDown.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectDown.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectDown.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectDown.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 5),\n\t\t\t\tnew Selection(2, 4, 2, 5),\n\t\t\t\tnew Selection(3, 4, 3, 5),\n\t\t\t\tnew Selection(4, 4, 4, 5),\n\t\t\t\tnew Selection(5, 4, 5, 5),\n\t\t\t\tnew Selection(6, 4, 6, 5),\n\t\t\t\tnew Selection(7, 4, 7, 5),\n\t\t\t]);\n\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 6),\n\t\t\t\tnew Selection(2, 4, 2, 6),\n\t\t\t\tnew Selection(3, 4, 3, 6),\n\t\t\t\tnew Selection(4, 4, 4, 6),\n\t\t\t\tnew Selection(5, 4, 5, 6),\n\t\t\t\tnew Selection(6, 4, 6, 6),\n\t\t\t\tnew Selection(7, 4, 7, 6),\n\t\t\t]);\n\n\t\t\t// 10 times\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 16),\n\t\t\t\tnew Selection(2, 4, 2, 16),\n\t\t\t\tnew Selection(3, 4, 3, 16),\n\t\t\t\tnew Selection(4, 4, 4, 16),\n\t\t\t\tnew Selection(5, 4, 5, 16),\n\t\t\t\tnew Selection(6, 4, 6, 16),\n\t\t\t\tnew Selection(7, 4, 7, 16),\n\t\t\t]);\n\n\t\t\t// 10 times\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 26),\n\t\t\t\tnew Selection(2, 4, 2, 26),\n\t\t\t\tnew Selection(3, 4, 3, 26),\n\t\t\t\tnew Selection(4, 4, 4, 26),\n\t\t\t\tnew Selection(5, 4, 5, 26),\n\t\t\t\tnew Selection(6, 4, 6, 26),\n\t\t\t\tnew Selection(7, 4, 7, 26),\n\t\t\t]);\n\n\t\t\t// 2 times => reaching the ending of lines 1 and 2\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 28),\n\t\t\t\tnew Selection(2, 4, 2, 28),\n\t\t\t\tnew Selection(3, 4, 3, 28),\n\t\t\t\tnew Selection(4, 4, 4, 28),\n\t\t\t\tnew Selection(5, 4, 5, 28),\n\t\t\t\tnew Selection(6, 4, 6, 28),\n\t\t\t\tnew Selection(7, 4, 7, 28),\n\t\t\t]);\n\n\t\t\t// 4 times => reaching the ending of line 3\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 28),\n\t\t\t\tnew Selection(2, 4, 2, 28),\n\t\t\t\tnew Selection(3, 4, 3, 32),\n\t\t\t\tnew Selection(4, 4, 4, 32),\n\t\t\t\tnew Selection(5, 4, 5, 32),\n\t\t\t\tnew Selection(6, 4, 6, 32),\n\t\t\t\tnew Selection(7, 4, 7, 32),\n\t\t\t]);\n\n\t\t\t// 2 times => reaching the ending of line 4\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 28),\n\t\t\t\tnew Selection(2, 4, 2, 28),\n\t\t\t\tnew Selection(3, 4, 3, 32),\n\t\t\t\tnew Selection(4, 4, 4, 34),\n\t\t\t\tnew Selection(5, 4, 5, 34),\n\t\t\t\tnew Selection(6, 4, 6, 34),\n\t\t\t\tnew Selection(7, 4, 7, 34),\n\t\t\t]);\n\n\t\t\t// 1 time => reaching the ending of line 7\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 28),\n\t\t\t\tnew Selection(2, 4, 2, 28),\n\t\t\t\tnew Selection(3, 4, 3, 32),\n\t\t\t\tnew Selection(4, 4, 4, 34),\n\t\t\t\tnew Selection(5, 4, 5, 35),\n\t\t\t\tnew Selection(6, 4, 6, 35),\n\t\t\t\tnew Selection(7, 4, 7, 35),\n\t\t\t]);\n\n\t\t\t// 3 times => reaching the ending of lines 5 & 6\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 28),\n\t\t\t\tnew Selection(2, 4, 2, 28),\n\t\t\t\tnew Selection(3, 4, 3, 32),\n\t\t\t\tnew Selection(4, 4, 4, 34),\n\t\t\t\tnew Selection(5, 4, 5, 37),\n\t\t\t\tnew Selection(6, 4, 6, 37),\n\t\t\t\tnew Selection(7, 4, 7, 35),\n\t\t\t]);\n\n\t\t\t// cannot go anywhere anymore\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 28),\n\t\t\t\tnew Selection(2, 4, 2, 28),\n\t\t\t\tnew Selection(3, 4, 3, 32),\n\t\t\t\tnew Selection(4, 4, 4, 34),\n\t\t\t\tnew Selection(5, 4, 5, 37),\n\t\t\t\tnew Selection(6, 4, 6, 37),\n\t\t\t\tnew Selection(7, 4, 7, 35),\n\t\t\t]);\n\n\t\t\t// cannot go anywhere anymore even if we insist\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 28),\n\t\t\t\tnew Selection(2, 4, 2, 28),\n\t\t\t\tnew Selection(3, 4, 3, 32),\n\t\t\t\tnew Selection(4, 4, 4, 34),\n\t\t\t\tnew Selection(5, 4, 5, 37),\n\t\t\t\tnew Selection(6, 4, 6, 37),\n\t\t\t\tnew Selection(7, 4, 7, 35),\n\t\t\t]);\n\n\t\t\t// can easily go back\n\t\t\tCoreNavigationCommands.CursorColumnSelectLeft.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 28),\n\t\t\t\tnew Selection(2, 4, 2, 28),\n\t\t\t\tnew Selection(3, 4, 3, 32),\n\t\t\t\tnew Selection(4, 4, 4, 34),\n\t\t\t\tnew Selection(5, 4, 5, 36),\n\t\t\t\tnew Selection(6, 4, 6, 36),\n\t\t\t\tnew Selection(7, 4, 7, 35),\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('setSelection / setPosition with source', () => {\n\n\t\tconst tokenizationSupport: ITokenizationSupport = {\n\t\t\tgetInitialState: () => NullState,\n\t\t\ttokenize: undefined!,\n\t\t\ttokenizeEncoded: (line: string, hasEOL: boolean, state: IState): EncodedTokenizationResult => {\n\t\t\t\treturn new EncodedTokenizationResult(new Uint32Array(0), state);\n\t\t\t}\n\t\t};\n\n\t\tconst LANGUAGE_ID = 'modelModeTest1';\n\t\tconst languageRegistration = TokenizationRegistry.register(LANGUAGE_ID, tokenizationSupport);\n\t\tconst model = createTextModel('Just text', LANGUAGE_ID);\n\n\t\twithTestCodeEditor(model, {}, (editor1, cursor1) => {\n\t\t\tlet event: ICursorPositionChangedEvent | undefined = undefined;\n\t\t\tconst disposable = editor1.onDidChangeCursorPosition(e => {\n\t\t\t\tevent = e;\n\t\t\t});\n\n\t\t\teditor1.setSelection(new Range(1, 2, 1, 3), 'navigation');\n\t\t\tassert.strictEqual(event!.source, 'navigation');\n\n\t\t\tevent = undefined;\n\t\t\teditor1.setPosition(new Position(1, 2), 'navigation');\n\t\t\tassert.strictEqual(event!.source, 'navigation');\n\t\t\tdisposable.dispose();\n\t\t});\n\n\t\tlanguageRegistration.dispose();\n\t\tmodel.dispose();\n\t});\n});\n\nsuite('Editor Controller', () => {\n\n\tconst surroundingLanguageId = 'surroundingLanguage';\n\tconst indentRulesLanguageId = 'indentRulesLanguage';\n\tconst electricCharLanguageId = 'electricCharLanguage';\n\tconst autoClosingLanguageId = 'autoClosingLanguage';\n\tconst emptyClosingSurroundLanguageId = 'emptyClosingSurroundLanguage';\n\n\tlet disposables: DisposableStore;\n\tlet instantiationService: TestInstantiationService;\n\tlet languageConfigurationService: ILanguageConfigurationService;\n\tlet languageService: ILanguageService;\n\n\tsetup(() => {\n\t\tdisposables = new DisposableStore();\n\t\tinstantiationService = createCodeEditorServices(disposables);\n\t\tlanguageConfigurationService = instantiationService.get(ILanguageConfigurationService);\n\t\tlanguageService = instantiationService.get(ILanguageService);\n\n\t\tdisposables.add(languageService.registerLanguage({ id: surroundingLanguageId }));\n\t\tdisposables.add(languageConfigurationService.register(surroundingLanguageId, {\n\t\t\tautoClosingPairs: [{ open: '(', close: ')' }]\n\t\t}));\n\n\t\tdisposables.add(languageService.registerLanguage({ id: emptyClosingSurroundLanguageId }));\n\t\tdisposables.add(languageConfigurationService.register(emptyClosingSurroundLanguageId, {\n\t\t\tsurroundingPairs: [{ open: '<', close: '' }]\n\t\t}));\n\n\t\tsetupIndentRulesLanguage(indentRulesLanguageId, {\n\t\t\tdecreaseIndentPattern: /^\\s*((?!\\S.*\\/[*]).*[*]\\/\\s*)?[})\\]]|^\\s*(case\\b.*|default):\\s*(\\/\\/.*|\\/[*].*[*]\\/\\s*)?$/,\n\t\t\tincreaseIndentPattern: /^((?!\\/\\/).)*(\\{[^}\"'`]*|\\([^)\"']*|\\[[^\\]\"']*|^\\s*(\\{\\}|\\(\\)|\\[\\]|(case\\b.*|default):))\\s*(\\/\\/.*|\\/[*].*[*]\\/\\s*)?$/,\n\t\t\tindentNextLinePattern: /^\\s*(for|while|if|else)\\b(?!.*[;{}]\\s*(\\/\\/.*|\\/[*].*[*]\\/\\s*)?$)/,\n\t\t\tunIndentedLinePattern: /^(?!.*([;{}]|\\S:)\\s*(\\/\\/.*|\\/[*].*[*]\\/\\s*)?$)(?!.*(\\{[^}\"']*|\\([^)\"']*|\\[[^\\]\"']*|^\\s*(\\{\\}|\\(\\)|\\[\\]|(case\\b.*|default):))\\s*(\\/\\/.*|\\/[*].*[*]\\/\\s*)?$)(?!^\\s*((?!\\S.*\\/[*]).*[*]\\/\\s*)?[})\\]]|^\\s*(case\\b.*|default):\\s*(\\/\\/.*|\\/[*].*[*]\\/\\s*)?$)(?!^\\s*(for|while|if|else)\\b(?!.*[;{}]\\s*(\\/\\/.*|\\/[*].*[*]\\/\\s*)?$))/\n\t\t});\n\n\t\tdisposables.add(languageService.registerLanguage({ id: electricCharLanguageId }));\n\t\tdisposables.add(languageConfigurationService.register(electricCharLanguageId, {\n\t\t\t__electricCharacterSupport: {\n\t\t\t\tdocComment: { open: '/**', close: ' */' }\n\t\t\t},\n\t\t\tbrackets: [\n\t\t\t\t['{', '}'],\n\t\t\t\t['[', ']'],\n\t\t\t\t['(', ')']\n\t\t\t]\n\t\t}));\n\n\t\tsetupAutoClosingLanguage();\n\t});\n\n\tteardown(() => {\n\t\tdisposables.dispose();\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tfunction setupOnEnterLanguage(indentAction: IndentAction): string {\n\t\tconst onEnterLanguageId = 'onEnterMode';\n\n\t\tdisposables.add(languageService.registerLanguage({ id: onEnterLanguageId }));\n\t\tdisposables.add(languageConfigurationService.register(onEnterLanguageId, {\n\t\t\tonEnterRules: [{\n\t\t\t\tbeforeText: /.*/,\n\t\t\t\taction: {\n\t\t\t\t\tindentAction: indentAction\n\t\t\t\t}\n\t\t\t}]\n\t\t}));\n\t\treturn onEnterLanguageId;\n\t}\n\n\tfunction setupIndentRulesLanguage(languageId: string, indentationRules: IndentationRule): string {\n\t\tdisposables.add(languageService.registerLanguage({ id: languageId }));\n\t\tdisposables.add(languageConfigurationService.register(languageId, {\n\t\t\tindentationRules: indentationRules\n\t\t}));\n\t\treturn languageId;\n\t}\n\n\tfunction setupAutoClosingLanguage() {\n\t\tdisposables.add(languageService.registerLanguage({ id: autoClosingLanguageId }));\n\t\tdisposables.add(languageConfigurationService.register(autoClosingLanguageId, {\n\t\t\tcomments: {\n\t\t\t\tblockComment: ['/*', '*/']\n\t\t\t},\n\t\t\tautoClosingPairs: [\n\t\t\t\t{ open: '{', close: '}' },\n\t\t\t\t{ open: '[', close: ']' },\n\t\t\t\t{ open: '(', close: ')' },\n\t\t\t\t{ open: '\\'', close: '\\'', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: '\\\"', close: '\\\"', notIn: ['string'] },\n\t\t\t\t{ open: '`', close: '`', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: '/**', close: ' */', notIn: ['string'] },\n\t\t\t\t{ open: 'begin', close: 'end', notIn: ['string'] }\n\t\t\t],\n\t\t\t__electricCharacterSupport: {\n\t\t\t\tdocComment: { open: '/**', close: ' */' }\n\t\t\t}\n\t\t}));\n\t}\n\n\tfunction setupAutoClosingLanguageTokenization() {\n\t\tclass BaseState implements IState {\n\t\t\tconstructor(\n\t\t\t\tpublic readonly parent: State | null = null\n\t\t\t) { }\n\t\t\tclone(): IState { return this; }\n\t\t\tequals(other: IState): boolean {\n\t\t\t\tif (!(other instanceof BaseState)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (!this.parent && !other.parent) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif (!this.parent || !other.parent) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn this.parent.equals(other.parent);\n\t\t\t}\n\t\t}\n\t\tclass StringState implements IState {\n\t\t\tconstructor(\n\t\t\t\tpublic readonly char: string,\n\t\t\t\tpublic readonly parentState: State\n\t\t\t) { }\n\t\t\tclone(): IState { return this; }\n\t\t\tequals(other: IState): boolean { return other instanceof StringState && this.char === other.char && this.parentState.equals(other.parentState); }\n\t\t}\n\t\tclass BlockCommentState implements IState {\n\t\t\tconstructor(\n\t\t\t\tpublic readonly parentState: State\n\t\t\t) { }\n\t\t\tclone(): IState { return this; }\n\t\t\tequals(other: IState): boolean { return other instanceof StringState && this.parentState.equals(other.parentState); }\n\t\t}\n\t\ttype State = BaseState | StringState | BlockCommentState;\n\n\t\tconst encodedLanguageId = languageService.languageIdCodec.encodeLanguageId(autoClosingLanguageId);\n\t\tdisposables.add(TokenizationRegistry.register(autoClosingLanguageId, {\n\t\t\tgetInitialState: () => new BaseState(),\n\t\t\ttokenize: undefined!,\n\t\t\ttokenizeEncoded: function (line: string, hasEOL: boolean, _state: IState): EncodedTokenizationResult {\n\t\t\t\tlet state = <State>_state;\n\t\t\t\tconst tokens: { length: number; type: StandardTokenType }[] = [];\n\t\t\t\tconst generateToken = (length: number, type: StandardTokenType, newState?: State) => {\n\t\t\t\t\tif (tokens.length > 0 && tokens[tokens.length - 1].type === type) {\n\t\t\t\t\t\t// grow last tokens\n\t\t\t\t\t\ttokens[tokens.length - 1].length += length;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttokens.push({ length, type });\n\t\t\t\t\t}\n\t\t\t\t\tline = line.substring(length);\n\t\t\t\t\tif (newState) {\n\t\t\t\t\t\tstate = newState;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\twhile (line.length > 0) {\n\t\t\t\t\tadvance();\n\t\t\t\t}\n\t\t\t\tconst result = new Uint32Array(tokens.length * 2);\n\t\t\t\tlet startIndex = 0;\n\t\t\t\tfor (let i = 0; i < tokens.length; i++) {\n\t\t\t\t\tresult[2 * i] = startIndex;\n\t\t\t\t\tresult[2 * i + 1] = (\n\t\t\t\t\t\t(encodedLanguageId << MetadataConsts.LANGUAGEID_OFFSET)\n\t\t\t\t\t\t| (tokens[i].type << MetadataConsts.TOKEN_TYPE_OFFSET)\n\t\t\t\t\t);\n\t\t\t\t\tstartIndex += tokens[i].length;\n\t\t\t\t}\n\t\t\t\treturn new EncodedTokenizationResult(result, state);\n\n\t\t\t\tfunction advance(): void {\n\t\t\t\t\tif (state instanceof BaseState) {\n\t\t\t\t\t\tconst m1 = line.match(/^[^'\"`{}/]+/g);\n\t\t\t\t\t\tif (m1) {\n\t\t\t\t\t\t\treturn generateToken(m1[0].length, StandardTokenType.Other);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (/^['\"`]/.test(line)) {\n\t\t\t\t\t\t\treturn generateToken(1, StandardTokenType.String, new StringState(line.charAt(0), state));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (/^{/.test(line)) {\n\t\t\t\t\t\t\treturn generateToken(1, StandardTokenType.Other, new BaseState(state));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (/^}/.test(line)) {\n\t\t\t\t\t\t\treturn generateToken(1, StandardTokenType.Other, state.parent || new BaseState());\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (/^\\/\\//.test(line)) {\n\t\t\t\t\t\t\treturn generateToken(line.length, StandardTokenType.Comment, state);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (/^\\/\\*/.test(line)) {\n\t\t\t\t\t\t\treturn generateToken(2, StandardTokenType.Comment, new BlockCommentState(state));\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn generateToken(1, StandardTokenType.Other, state);\n\t\t\t\t\t} else if (state instanceof StringState) {\n\t\t\t\t\t\tconst m1 = line.match(/^[^\\\\'\"`\\$]+/g);\n\t\t\t\t\t\tif (m1) {\n\t\t\t\t\t\t\treturn generateToken(m1[0].length, StandardTokenType.String);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (/^\\\\/.test(line)) {\n\t\t\t\t\t\t\treturn generateToken(2, StandardTokenType.String);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (line.charAt(0) === state.char) {\n\t\t\t\t\t\t\treturn generateToken(1, StandardTokenType.String, state.parentState);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (/^\\$\\{/.test(line)) {\n\t\t\t\t\t\t\treturn generateToken(2, StandardTokenType.Other, new BaseState(state));\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn generateToken(1, StandardTokenType.Other, state);\n\t\t\t\t\t} else if (state instanceof BlockCommentState) {\n\t\t\t\t\t\tconst m1 = line.match(/^[^*]+/g);\n\t\t\t\t\t\tif (m1) {\n\t\t\t\t\t\t\treturn generateToken(m1[0].length, StandardTokenType.String);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (/^\\*\\//.test(line)) {\n\t\t\t\t\t\t\treturn generateToken(2, StandardTokenType.Comment, state.parentState);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn generateToken(1, StandardTokenType.Other, state);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new Error(`unknown state`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t}\n\n\tfunction setAutoClosingLanguageEnabledSet(chars: string): void {\n\t\tdisposables.add(languageConfigurationService.register(autoClosingLanguageId, {\n\t\t\tautoCloseBefore: chars,\n\t\t\tautoClosingPairs: [\n\t\t\t\t{ open: '{', close: '}' },\n\t\t\t\t{ open: '[', close: ']' },\n\t\t\t\t{ open: '(', close: ')' },\n\t\t\t\t{ open: '\\'', close: '\\'', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: '\\\"', close: '\\\"', notIn: ['string'] },\n\t\t\t\t{ open: '`', close: '`', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: '/**', close: ' */', notIn: ['string'] }\n\t\t\t],\n\t\t}));\n\t}\n\n\tfunction createTextModel(text: string, languageId: string | null = null, options: IRelaxedTextModelCreationOptions = TextModel.DEFAULT_CREATION_OPTIONS, uri: URI | null = null): TextModel {\n\t\treturn disposables.add(instantiateTextModel(instantiationService, text, languageId, options, uri));\n\t}\n\n\tfunction withTestCodeEditor(text: ITextModel | string | string[], options: TestCodeEditorInstantiationOptions, callback: (editor: ITestCodeEditor, viewModel: ViewModel) => void): void {\n\t\tlet model: ITextModel;\n\t\tif (typeof text === 'string') {\n\t\t\tmodel = createTextModel(text);\n\t\t} else if (Array.isArray(text)) {\n\t\t\tmodel = createTextModel(text.join('\\n'));\n\t\t} else {\n\t\t\tmodel = text;\n\t\t}\n\t\tconst editor = disposables.add(instantiateTestCodeEditor(instantiationService, model, options));\n\t\tconst viewModel = editor.getViewModel()!;\n\t\tviewModel.setHasFocus(true);\n\t\tcallback(editor, viewModel);\n\t}\n\n\tinterface ICursorOpts {\n\t\ttext: string[];\n\t\tlanguageId?: string | null;\n\t\tmodelOpts?: IRelaxedTextModelCreationOptions;\n\t\teditorOpts?: IEditorOptions;\n\t}\n\n\tfunction usingCursor(opts: ICursorOpts, callback: (editor: ITestCodeEditor, model: TextModel, viewModel: ViewModel) => void): void {\n\t\tconst model = createTextModel(opts.text.join('\\n'), opts.languageId, opts.modelOpts);\n\t\tconst editorOptions: TestCodeEditorInstantiationOptions = opts.editorOpts || {};\n\t\twithTestCodeEditor(model, editorOptions, (editor, viewModel) => {\n\t\t\tcallback(editor, model, viewModel);\n\t\t});\n\t}\n\n\tconst enum AutoClosingColumnType {\n\t\tNormal = 0,\n\t\tSpecial1 = 1,\n\t\tSpecial2 = 2\n\t}\n\n\tfunction extractAutoClosingSpecialColumns(maxColumn: number, annotatedLine: string): AutoClosingColumnType[] {\n\t\tconst result: AutoClosingColumnType[] = [];\n\t\tfor (let j = 1; j <= maxColumn; j++) {\n\t\t\tresult[j] = AutoClosingColumnType.Normal;\n\t\t}\n\t\tlet column = 1;\n\t\tfor (let j = 0; j < annotatedLine.length; j++) {\n\t\t\tif (annotatedLine.charAt(j) === '|') {\n\t\t\t\tresult[column] = AutoClosingColumnType.Special1;\n\t\t\t} else if (annotatedLine.charAt(j) === '!') {\n\t\t\t\tresult[column] = AutoClosingColumnType.Special2;\n\t\t\t} else {\n\t\t\t\tcolumn++;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction assertType(editor: ITestCodeEditor, model: ITextModel, viewModel: ViewModel, lineNumber: number, column: number, chr: string, expectedInsert: string, message: string): void {\n\t\tconst lineContent = model.getLineContent(lineNumber);\n\t\tconst expected = lineContent.substr(0, column - 1) + expectedInsert + lineContent.substr(column - 1);\n\t\tmoveTo(editor, viewModel, lineNumber, column);\n\t\tviewModel.type(chr, 'keyboard');\n\t\tassert.deepStrictEqual(model.getLineContent(lineNumber), expected, message);\n\t\tmodel.undo();\n\t}\n\n\ttest('issue microsoft/monaco-editor#443: Indentation of a single row deletes selected text in some cases', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'Hello world!',\n\t\t\t\t'another line'\n\t\t\t].join('\\n'),\n\t\t\tundefined,\n\t\t\t{\n\t\t\t\tinsertSpaces: false\n\t\t\t},\n\t\t);\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 1, 1, 13)]);\n\n\t\t\t// Check that indenting maintains the selection start at column 1\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.deepStrictEqual(viewModel.getSelection(), new Selection(1, 1, 1, 14));\n\t\t});\n\t});\n\n\ttest('Bug 9121: Auto indent + undo + redo is funky', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t''\n\t\t\t].join('\\n'),\n\t\t\tundefined,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t\ttrimAutoWhitespace: false\n\t\t\t},\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n', 'assert1');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\t', 'assert2');\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\t\\n\\t', 'assert3');\n\n\t\t\tviewModel.type('x');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\t\\n\\tx', 'assert4');\n\n\t\t\tCoreNavigationCommands.CursorLeft.runCoreEditorCommand(viewModel, {});\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\t\\n\\tx', 'assert5');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\t\\nx', 'assert6');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\tx', 'assert7');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\nx', 'assert8');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), 'x', 'assert9');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\nx', 'assert10');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\t\\nx', 'assert11');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\t\\n\\tx', 'assert12');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Redo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\t\\nx', 'assert13');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Redo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\nx', 'assert14');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Redo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), 'x', 'assert15');\n\t\t});\n\t});\n\n\ttest('issue #23539: Setting model EOL isn\\'t undoable', () => {\n\t\twithTestCodeEditor([\n\t\t\t'Hello',\n\t\t\t'world'\n\t\t], {}, (editor, viewModel) => {\n\t\t\tconst model = editor.getModel()!;\n\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\t\t\tmodel.setEOL(EndOfLineSequence.LF);\n\t\t\tassert.strictEqual(model.getValue(), 'Hello\\nworld');\n\n\t\t\tmodel.pushEOL(EndOfLineSequence.CRLF);\n\t\t\tassert.strictEqual(model.getValue(), 'Hello\\r\\nworld');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(), 'Hello\\nworld');\n\t\t});\n\t});\n\n\ttest('issue #47733: Undo mangles unicode characters', () => {\n\t\tconst languageId = 'myMode';\n\n\t\tdisposables.add(languageService.registerLanguage({ id: languageId }));\n\t\tdisposables.add(languageConfigurationService.register(languageId, {\n\t\t\tsurroundingPairs: [{ open: '%', close: '%' }]\n\t\t}));\n\n\t\tconst model = createTextModel('\\'\\'', languageId);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\teditor.setSelection(new Selection(1, 1, 1, 2));\n\n\t\t\tviewModel.type('%', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '%\\'%\\'', 'assert1');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\'\\'', 'assert2');\n\t\t});\n\t});\n\n\ttest('issue #46208: Allow empty selections in the undo/redo stack', () => {\n\t\tconst model = createTextModel('');\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.type('Hello', 'keyboard');\n\t\t\tviewModel.type(' ', 'keyboard');\n\t\t\tviewModel.type('world', 'keyboard');\n\t\t\tviewModel.type(' ', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'Hello world ');\n\t\t\tassertCursor(viewModel, new Position(1, 13));\n\n\t\t\tmoveLeft(editor, viewModel);\n\t\t\tmoveRight(editor, viewModel);\n\n\t\t\tmodel.pushEditOperations([], [EditOperation.replaceMove(new Range(1, 12, 1, 13), '')], () => []);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'Hello world');\n\t\t\tassertCursor(viewModel, new Position(1, 12));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'Hello world ');\n\t\t\tassertCursor(viewModel, new Selection(1, 13, 1, 13));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'Hello world');\n\t\t\tassertCursor(viewModel, new Position(1, 12));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'Hello');\n\t\t\tassertCursor(viewModel, new Position(1, 6));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), '');\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Redo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'Hello');\n\t\t\tassertCursor(viewModel, new Position(1, 6));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Redo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'Hello world');\n\t\t\tassertCursor(viewModel, new Position(1, 12));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Redo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'Hello world ');\n\t\t\tassertCursor(viewModel, new Position(1, 13));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Redo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'Hello world');\n\t\t\tassertCursor(viewModel, new Position(1, 12));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Redo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'Hello world');\n\t\t\tassertCursor(viewModel, new Position(1, 12));\n\t\t});\n\t});\n\n\ttest('bug #16815:Shift+Tab doesn\\'t go back to tabstop', () => {\n\t\tconst languageId = setupOnEnterLanguage(IndentAction.IndentOutdent);\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'     function baz() {'\n\t\t\t].join('\\n'),\n\t\t\tlanguageId\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 6, false);\n\t\t\tassertCursor(viewModel, new Selection(1, 6, 1, 6));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Outdent, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), '    function baz() {');\n\t\t\tassertCursor(viewModel, new Selection(1, 5, 1, 5));\n\t\t});\n\t});\n\n\ttest('Bug #18293:[regression][editor] Can\\'t outdent whitespace line', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'      '\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 7, false);\n\t\t\tassertCursor(viewModel, new Selection(1, 7, 1, 7));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Outdent, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), '    ');\n\t\t\tassertCursor(viewModel, new Selection(1, 5, 1, 5));\n\t\t});\n\t});\n\n\ttest('issue #95591: Unindenting moves cursor to beginning of line', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'        '\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, { useTabStops: false }, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 9, false);\n\t\t\tassertCursor(viewModel, new Selection(1, 9, 1, 9));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Outdent, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), '    ');\n\t\t\tassertCursor(viewModel, new Selection(1, 5, 1, 5));\n\t\t});\n\t});\n\n\ttest('Bug #16657: [editor] Tab on empty line of zero indentation moves cursor to position (1,1)', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'function baz() {',\n\t\t\t\t'\\tfunction hello() { // something here',\n\t\t\t\t'\\t',\n\t\t\t\t'',\n\t\t\t\t'\\t}',\n\t\t\t\t'}',\n\t\t\t\t''\n\t\t\t].join('\\n'),\n\t\t\tundefined,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t},\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 7, 1, false);\n\t\t\tassertCursor(viewModel, new Selection(7, 1, 7, 1));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(7), '\\t');\n\t\t\tassertCursor(viewModel, new Selection(7, 2, 7, 2));\n\t\t});\n\t});\n\n\ttest('bug #16740: [editor] Cut line doesn\\'t quite cut the last line', () => {\n\n\t\t// Part 1 => there is text on the last line\n\t\twithTestCodeEditor([\n\t\t\t'asdasd',\n\t\t\t'qwerty'\n\t\t], {}, (editor, viewModel) => {\n\t\t\tconst model = editor.getModel()!;\n\n\t\t\tmoveTo(editor, viewModel, 2, 1, false);\n\t\t\tassertCursor(viewModel, new Selection(2, 1, 2, 1));\n\n\t\t\tviewModel.cut('keyboard');\n\t\t\tassert.strictEqual(model.getLineCount(), 1);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'asdasd');\n\n\t\t});\n\n\t\t// Part 2 => there is no text on the last line\n\t\twithTestCodeEditor([\n\t\t\t'asdasd',\n\t\t\t''\n\t\t], {}, (editor, viewModel) => {\n\t\t\tconst model = editor.getModel()!;\n\n\t\t\tmoveTo(editor, viewModel, 2, 1, false);\n\t\t\tassertCursor(viewModel, new Selection(2, 1, 2, 1));\n\n\t\t\tviewModel.cut('keyboard');\n\t\t\tassert.strictEqual(model.getLineCount(), 1);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'asdasd');\n\n\t\t\tviewModel.cut('keyboard');\n\t\t\tassert.strictEqual(model.getLineCount(), 1);\n\t\t\tassert.strictEqual(model.getLineContent(1), '');\n\t\t});\n\t});\n\n\ttest('issue #128602: When cutting multiple lines (ctrl x), the last line will not be erased', () => {\n\t\twithTestCodeEditor([\n\t\t\t'a1',\n\t\t\t'a2',\n\t\t\t'a3'\n\t\t], {}, (editor, viewModel) => {\n\t\t\tconst model = editor.getModel()!;\n\n\t\t\tviewModel.setSelections('test', [\n\t\t\t\tnew Selection(1, 1, 1, 1),\n\t\t\t\tnew Selection(2, 1, 2, 1),\n\t\t\t\tnew Selection(3, 1, 3, 1),\n\t\t\t]);\n\n\t\t\tviewModel.cut('keyboard');\n\t\t\tassert.strictEqual(model.getLineCount(), 1);\n\t\t\tassert.strictEqual(model.getLineContent(1), '');\n\t\t});\n\t});\n\n\ttest('Bug #11476: Double bracket surrounding + undo is broken', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'hello'\n\t\t\t],\n\t\t\tlanguageId: surroundingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 3, false);\n\t\t\tmoveTo(editor, viewModel, 1, 5, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 3, 1, 5));\n\n\t\t\tviewModel.type('(', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(1, 4, 1, 6));\n\n\t\t\tviewModel.type('(', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(1, 5, 1, 7));\n\t\t});\n\t});\n\n\ttest('issue #206774: SurroundSelectionCommand with empty charAfterSelection should not throw', () => {\n\t\t// This test reproduces the issue where SurroundSelectionCommand throws when charAfterSelection is empty\n\t\t// The problem is that addTrackedEditOperation ignores empty strings, causing computeCursorState to fail\n\t\t// when trying to access inverseEditOperations[1].range (which is undefined)\n\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'hello world'\n\t\t\t],\n\t\t\tlanguageId: emptyClosingSurroundLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\t// Select \"hello\"\n\t\t\tmoveTo(editor, viewModel, 1, 1, false);\n\t\t\tmoveTo(editor, viewModel, 1, 6, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 1, 1, 6));\n\n\t\t\t// Type < which should surround with '<' and empty string\n\t\t\t// This reproduces the crash where charAfterSelection is empty\n\t\t\tviewModel.type('<', 'keyboard');\n\n\t\t\t// Test passes if we don't crash - the exact cursor position depends on the fix\n\t\t\t// The main issue is that computeCursorState fails when charAfterSelection is empty\n\t\t\tassert.strictEqual(model.getValue(), '<hello world');\n\t\t});\n\t});\n\n\ttest('issue #1140: Backspace stops prematurely', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'function baz() {',\n\t\t\t\t'  return 1;',\n\t\t\t\t'};'\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 2, false);\n\t\t\tmoveTo(editor, viewModel, 1, 14, true);\n\t\t\tassertCursor(viewModel, new Selection(3, 2, 1, 14));\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassertCursor(viewModel, new Selection(1, 14, 1, 14));\n\t\t\tassert.strictEqual(model.getLineCount(), 1);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'function baz(;');\n\t\t});\n\t});\n\n\ttest('issue #10212: Pasting entire line does not replace selection', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'line1',\n\t\t\t\t'line2'\n\t\t\t],\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 1, false);\n\t\t\tmoveTo(editor, viewModel, 2, 6, true);\n\n\t\t\tviewModel.paste('line1\\n', true);\n\n\t\t\tassert.strictEqual(model.getLineContent(1), 'line1');\n\t\t\tassert.strictEqual(model.getLineContent(2), 'line1');\n\t\t\tassert.strictEqual(model.getLineContent(3), '');\n\t\t});\n\t});\n\n\ttest('issue #74722: Pasting whole line does not replace selection', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'line1',\n\t\t\t\t'line sel 2',\n\t\t\t\t'line3'\n\t\t\t],\n\t\t}, (editor, model, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(2, 6, 2, 9)]);\n\n\t\t\tviewModel.paste('line1\\n', true);\n\n\t\t\tassert.strictEqual(model.getLineContent(1), 'line1');\n\t\t\tassert.strictEqual(model.getLineContent(2), 'line line1');\n\t\t\tassert.strictEqual(model.getLineContent(3), ' 2');\n\t\t\tassert.strictEqual(model.getLineContent(4), 'line3');\n\t\t});\n\t});\n\n\ttest('issue #4996: Multiple cursor paste pastes contents of all cursors', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'line1',\n\t\t\t\t'line2',\n\t\t\t\t'line3'\n\t\t\t],\n\t\t}, (editor, model, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 1, 1, 1), new Selection(2, 1, 2, 1)]);\n\n\t\t\tviewModel.paste(\n\t\t\t\t'a\\nb\\nc\\nd',\n\t\t\t\tfalse,\n\t\t\t\t[\n\t\t\t\t\t'a\\nb',\n\t\t\t\t\t'c\\nd'\n\t\t\t\t]\n\t\t\t);\n\n\t\t\tassert.strictEqual(model.getValue(), [\n\t\t\t\t'a',\n\t\t\t\t'bline1',\n\t\t\t\t'c',\n\t\t\t\t'dline2',\n\t\t\t\t'line3'\n\t\t\t].join('\\n'));\n\t\t});\n\t});\n\n\ttest('issue #16155: Paste into multiple cursors has edge case when number of lines equals number of cursors - 1', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'test',\n\t\t\t\t'test',\n\t\t\t\t'test',\n\t\t\t\t'test'\n\t\t\t],\n\t\t}, (editor, model, viewModel) => {\n\t\t\tviewModel.setSelections('test', [\n\t\t\t\tnew Selection(1, 1, 1, 5),\n\t\t\t\tnew Selection(2, 1, 2, 5),\n\t\t\t\tnew Selection(3, 1, 3, 5),\n\t\t\t\tnew Selection(4, 1, 4, 5),\n\t\t\t]);\n\n\t\t\tviewModel.paste(\n\t\t\t\t'aaa\\nbbb\\nccc\\n',\n\t\t\t\tfalse,\n\t\t\t\tnull\n\t\t\t);\n\n\t\t\tassert.strictEqual(model.getValue(), [\n\t\t\t\t'aaa',\n\t\t\t\t'bbb',\n\t\t\t\t'ccc',\n\t\t\t\t'',\n\t\t\t\t'aaa',\n\t\t\t\t'bbb',\n\t\t\t\t'ccc',\n\t\t\t\t'',\n\t\t\t\t'aaa',\n\t\t\t\t'bbb',\n\t\t\t\t'ccc',\n\t\t\t\t'',\n\t\t\t\t'aaa',\n\t\t\t\t'bbb',\n\t\t\t\t'ccc',\n\t\t\t\t'',\n\t\t\t].join('\\n'));\n\t\t});\n\t});\n\n\ttest('issue #43722: Multiline paste doesn\\'t work anymore', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'test',\n\t\t\t\t'test',\n\t\t\t\t'test',\n\t\t\t\t'test'\n\t\t\t],\n\t\t}, (editor, model, viewModel) => {\n\t\t\tviewModel.setSelections('test', [\n\t\t\t\tnew Selection(1, 1, 1, 5),\n\t\t\t\tnew Selection(2, 1, 2, 5),\n\t\t\t\tnew Selection(3, 1, 3, 5),\n\t\t\t\tnew Selection(4, 1, 4, 5),\n\t\t\t]);\n\n\t\t\tviewModel.paste(\n\t\t\t\t'aaa\\r\\nbbb\\r\\nccc\\r\\nddd\\r\\n',\n\t\t\t\tfalse,\n\t\t\t\tnull\n\t\t\t);\n\n\t\t\tassert.strictEqual(model.getValue(), [\n\t\t\t\t'aaa',\n\t\t\t\t'bbb',\n\t\t\t\t'ccc',\n\t\t\t\t'ddd',\n\t\t\t].join('\\n'));\n\t\t});\n\t});\n\n\ttest('issue #46440: (1) Pasting a multi-line selection pastes entire selection into every insertion point', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'line1',\n\t\t\t\t'line2',\n\t\t\t\t'line3'\n\t\t\t],\n\t\t}, (editor, model, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 1, 1, 1), new Selection(2, 1, 2, 1), new Selection(3, 1, 3, 1)]);\n\n\t\t\tviewModel.paste(\n\t\t\t\t'a\\nb\\nc',\n\t\t\t\tfalse,\n\t\t\t\tnull\n\t\t\t);\n\n\t\t\tassert.strictEqual(model.getValue(), [\n\t\t\t\t'aline1',\n\t\t\t\t'bline2',\n\t\t\t\t'cline3'\n\t\t\t].join('\\n'));\n\t\t});\n\t});\n\n\ttest('issue #46440: (2) Pasting a multi-line selection pastes entire selection into every insertion point', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'line1',\n\t\t\t\t'line2',\n\t\t\t\t'line3'\n\t\t\t],\n\t\t}, (editor, model, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 1, 1, 1), new Selection(2, 1, 2, 1), new Selection(3, 1, 3, 1)]);\n\n\t\t\tviewModel.paste(\n\t\t\t\t'a\\nb\\nc\\n',\n\t\t\t\tfalse,\n\t\t\t\tnull\n\t\t\t);\n\n\t\t\tassert.strictEqual(model.getValue(), [\n\t\t\t\t'aline1',\n\t\t\t\t'bline2',\n\t\t\t\t'cline3'\n\t\t\t].join('\\n'));\n\t\t});\n\t});\n\n\ttest('issue #3071: Investigate why undo stack gets corrupted', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'some lines',\n\t\t\t\t'and more lines',\n\t\t\t\t'just some text',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 1, false);\n\t\t\tmoveTo(editor, viewModel, 3, 4, true);\n\n\t\t\tlet isFirst = true;\n\t\t\tconst disposable = model.onDidChangeContent(() => {\n\t\t\t\tif (isFirst) {\n\t\t\t\t\tisFirst = false;\n\t\t\t\t\tviewModel.type('\\t', 'keyboard');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getValue(), [\n\t\t\t\t'\\t just some text'\n\t\t\t].join('\\n'), '001');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(), [\n\t\t\t\t'    some lines',\n\t\t\t\t'    and more lines',\n\t\t\t\t'    just some text',\n\t\t\t].join('\\n'), '002');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(), [\n\t\t\t\t'some lines',\n\t\t\t\t'and more lines',\n\t\t\t\t'just some text',\n\t\t\t].join('\\n'), '003');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(), [\n\t\t\t\t'some lines',\n\t\t\t\t'and more lines',\n\t\t\t\t'just some text',\n\t\t\t].join('\\n'), '004');\n\n\t\t\tdisposable.dispose();\n\t\t});\n\t});\n\n\ttest('issue #12950: Cannot Double Click To Insert Emoji Using OSX Emoji Panel', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'some lines',\n\t\t\t\t'and more lines',\n\t\t\t\t'just some text',\n\t\t\t],\n\t\t\tlanguageId: null\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 1, false);\n\n\t\t\tviewModel.type('', 'keyboard');\n\n\t\t\tassert.strictEqual(model.getValue(), [\n\t\t\t\t'some lines',\n\t\t\t\t'and more lines',\n\t\t\t\t'just some text',\n\t\t\t].join('\\n'));\n\t\t});\n\t});\n\n\ttest('issue #3463: pressing tab adds spaces, but not as many as for a tab', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'function a() {',\n\t\t\t\t'\\tvar a = {',\n\t\t\t\t'\\t\\tx: 3',\n\t\t\t\t'\\t};',\n\t\t\t\t'}',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 2, false);\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(3), '\\t    \\tx: 3');\n\t\t});\n\t});\n\n\ttest('issue #4312: trying to type a tab character over a sequence of spaces results in unexpected behaviour', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'var foo = 123;       // this is a comment',\n\t\t\t\t'var bar = 4;       // another comment'\n\t\t\t].join('\\n'),\n\t\t\tundefined,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 15, false);\n\t\t\tmoveTo(editor, viewModel, 1, 22, true);\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'var foo = 123;\\t// this is a comment');\n\t\t});\n\t});\n\n\ttest('issue #832: word right', () => {\n\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'   /* Just some   more   text a+= 3 +5-3 + 7 */  '\n\t\t\t],\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 1, false);\n\n\t\t\tfunction assertWordRight(col: number, expectedCol: number) {\n\t\t\t\tconst args = {\n\t\t\t\t\tposition: {\n\t\t\t\t\t\tlineNumber: 1,\n\t\t\t\t\t\tcolumn: col\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tif (col === 1) {\n\t\t\t\t\tCoreNavigationCommands.WordSelect.runCoreEditorCommand(viewModel, args);\n\t\t\t\t} else {\n\t\t\t\t\tCoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(viewModel, args);\n\t\t\t\t}\n\n\t\t\t\tassert.strictEqual(viewModel.getSelection().startColumn, 1, 'TEST FOR ' + col);\n\t\t\t\tassert.strictEqual(viewModel.getSelection().endColumn, expectedCol, 'TEST FOR ' + col);\n\t\t\t}\n\n\t\t\tassertWordRight(1, '   '.length + 1);\n\t\t\tassertWordRight(2, '   '.length + 1);\n\t\t\tassertWordRight(3, '   '.length + 1);\n\t\t\tassertWordRight(4, '   '.length + 1);\n\t\t\tassertWordRight(5, '   /'.length + 1);\n\t\t\tassertWordRight(6, '   /*'.length + 1);\n\t\t\tassertWordRight(7, '   /* '.length + 1);\n\t\t\tassertWordRight(8, '   /* Just'.length + 1);\n\t\t\tassertWordRight(9, '   /* Just'.length + 1);\n\t\t\tassertWordRight(10, '   /* Just'.length + 1);\n\t\t\tassertWordRight(11, '   /* Just'.length + 1);\n\t\t\tassertWordRight(12, '   /* Just '.length + 1);\n\t\t\tassertWordRight(13, '   /* Just some'.length + 1);\n\t\t\tassertWordRight(14, '   /* Just some'.length + 1);\n\t\t\tassertWordRight(15, '   /* Just some'.length + 1);\n\t\t\tassertWordRight(16, '   /* Just some'.length + 1);\n\t\t\tassertWordRight(17, '   /* Just some '.length + 1);\n\t\t\tassertWordRight(18, '   /* Just some  '.length + 1);\n\t\t\tassertWordRight(19, '   /* Just some   '.length + 1);\n\t\t\tassertWordRight(20, '   /* Just some   more'.length + 1);\n\t\t\tassertWordRight(21, '   /* Just some   more'.length + 1);\n\t\t\tassertWordRight(22, '   /* Just some   more'.length + 1);\n\t\t\tassertWordRight(23, '   /* Just some   more'.length + 1);\n\t\t\tassertWordRight(24, '   /* Just some   more '.length + 1);\n\t\t\tassertWordRight(25, '   /* Just some   more  '.length + 1);\n\t\t\tassertWordRight(26, '   /* Just some   more   '.length + 1);\n\t\t\tassertWordRight(27, '   /* Just some   more   text'.length + 1);\n\t\t\tassertWordRight(28, '   /* Just some   more   text'.length + 1);\n\t\t\tassertWordRight(29, '   /* Just some   more   text'.length + 1);\n\t\t\tassertWordRight(30, '   /* Just some   more   text'.length + 1);\n\t\t\tassertWordRight(31, '   /* Just some   more   text '.length + 1);\n\t\t\tassertWordRight(32, '   /* Just some   more   text a'.length + 1);\n\t\t\tassertWordRight(33, '   /* Just some   more   text a+'.length + 1);\n\t\t\tassertWordRight(34, '   /* Just some   more   text a+='.length + 1);\n\t\t\tassertWordRight(35, '   /* Just some   more   text a+= '.length + 1);\n\t\t\tassertWordRight(36, '   /* Just some   more   text a+= 3'.length + 1);\n\t\t\tassertWordRight(37, '   /* Just some   more   text a+= 3 '.length + 1);\n\t\t\tassertWordRight(38, '   /* Just some   more   text a+= 3 +'.length + 1);\n\t\t\tassertWordRight(39, '   /* Just some   more   text a+= 3 +5'.length + 1);\n\t\t\tassertWordRight(40, '   /* Just some   more   text a+= 3 +5-'.length + 1);\n\t\t\tassertWordRight(41, '   /* Just some   more   text a+= 3 +5-3'.length + 1);\n\t\t\tassertWordRight(42, '   /* Just some   more   text a+= 3 +5-3 '.length + 1);\n\t\t\tassertWordRight(43, '   /* Just some   more   text a+= 3 +5-3 +'.length + 1);\n\t\t\tassertWordRight(44, '   /* Just some   more   text a+= 3 +5-3 + '.length + 1);\n\t\t\tassertWordRight(45, '   /* Just some   more   text a+= 3 +5-3 + 7'.length + 1);\n\t\t\tassertWordRight(46, '   /* Just some   more   text a+= 3 +5-3 + 7 '.length + 1);\n\t\t\tassertWordRight(47, '   /* Just some   more   text a+= 3 +5-3 + 7 *'.length + 1);\n\t\t\tassertWordRight(48, '   /* Just some   more   text a+= 3 +5-3 + 7 */'.length + 1);\n\t\t\tassertWordRight(49, '   /* Just some   more   text a+= 3 +5-3 + 7 */ '.length + 1);\n\t\t\tassertWordRight(50, '   /* Just some   more   text a+= 3 +5-3 + 7 */  '.length + 1);\n\t\t});\n\t});\n\n\ttest('issue #33788: Wrong cursor position when double click to select a word', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'Just some text'\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tCoreNavigationCommands.WordSelect.runCoreEditorCommand(viewModel, { position: new Position(1, 8) });\n\t\t\tassert.deepStrictEqual(viewModel.getSelection(), new Selection(1, 6, 1, 10));\n\n\t\t\tCoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(viewModel, { position: new Position(1, 8) });\n\t\t\tassert.deepStrictEqual(viewModel.getSelection(), new Selection(1, 6, 1, 10));\n\t\t});\n\t});\n\n\ttest('issue #12887: Double-click highlighting separating white space', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'abc def'\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tCoreNavigationCommands.WordSelect.runCoreEditorCommand(viewModel, { position: new Position(1, 5) });\n\t\t\tassert.deepStrictEqual(viewModel.getSelection(), new Selection(1, 5, 1, 8));\n\t\t});\n\t});\n\n\ttest('Double-click on punctuation should select the character, not adjacent space', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'// a b c 1 2 3 ~ ! @ # $ % ^ & * ( ) _ + \\\\ /'\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\t// Test double-click on '@' at position 20\n\t\t\tCoreNavigationCommands.WordSelect.runCoreEditorCommand(viewModel, { position: new Position(1, 20) });\n\t\t\tassert.deepStrictEqual(viewModel.getSelection(), new Selection(1, 20, 1, 21), 'Should select @ character');\n\n\t\t\t// Test double-click on '#' at position 22\n\t\t\tCoreNavigationCommands.WordSelect.runCoreEditorCommand(viewModel, { position: new Position(1, 22) });\n\t\t\tassert.deepStrictEqual(viewModel.getSelection(), new Selection(1, 22, 1, 23), 'Should select # character');\n\n\t\t\t// Test double-click on '!' at position 18\n\t\t\tCoreNavigationCommands.WordSelect.runCoreEditorCommand(viewModel, { position: new Position(1, 18) });\n\t\t\tassert.deepStrictEqual(viewModel.getSelection(), new Selection(1, 18, 1, 19), 'Should select ! character');\n\n\t\t\t// Test double-click on first '/' in '//' at position 1\n\t\t\tCoreNavigationCommands.WordSelect.runCoreEditorCommand(viewModel, { position: new Position(1, 1) });\n\t\t\tassert.deepStrictEqual(viewModel.getSelection(), new Selection(1, 1, 1, 3), 'Should select // token');\n\n\t\t\t// Test double-click on second '/' in '//' at position 2\n\t\t\tCoreNavigationCommands.WordSelect.runCoreEditorCommand(viewModel, { position: new Position(1, 2) });\n\t\t\tassert.deepStrictEqual(viewModel.getSelection(), new Selection(1, 1, 1, 3), 'Should select // token');\n\n\t\t\t// Test double-click on '\\' at position 42\n\t\t\tCoreNavigationCommands.WordSelect.runCoreEditorCommand(viewModel, { position: new Position(1, 42) });\n\t\t\tassert.deepStrictEqual(viewModel.getSelection(), new Selection(1, 42, 1, 43), 'Should select \\\\ character');\n\t\t});\n\t});\n\n\ttest('issue #9675: Undo/Redo adds a stop in between CHN Characters', () => {\n\t\twithTestCodeEditor([], {}, (editor, viewModel) => {\n\t\t\tconst model = editor.getModel()!;\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\n\t\t\t// Typing sennsei in Japanese - Hiragana\n\t\t\tviewModel.type('', 'keyboard');\n\t\t\tviewModel.compositionType('', 1, 0, 0);\n\t\t\tviewModel.compositionType('', 1, 0, 0);\n\t\t\tviewModel.compositionType('', 2, 0, 0);\n\t\t\tviewModel.compositionType('', 2, 0, 0);\n\t\t\tviewModel.compositionType('', 3, 0, 0);\n\t\t\tviewModel.compositionType('', 3, 0, 0);\n\t\t\tviewModel.compositionType('', 3, 0, 0);\n\t\t\tviewModel.compositionType('', 4, 0, 0);\n\t\t\tviewModel.compositionType('', 4, 0, 0);\n\t\t\tviewModel.compositionType('', 4, 0, 0);\n\n\t\t\tassert.strictEqual(model.getLineContent(1), '');\n\t\t\tassertCursor(viewModel, new Position(1, 5));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), '');\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\t\t});\n\t});\n\n\ttest('issue #23983: Calling model.setEOL does not reset cursor position', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'first line',\n\t\t\t\t'second line'\n\t\t\t]\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmodel.setEOL(EndOfLineSequence.CRLF);\n\n\t\t\tviewModel.setSelections('test', [new Selection(2, 2, 2, 2)]);\n\t\t\tmodel.setEOL(EndOfLineSequence.LF);\n\n\t\t\tassertCursor(viewModel, new Selection(2, 2, 2, 2));\n\t\t});\n\t});\n\n\ttest('issue #23983: Calling model.setValue() resets cursor position', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'first line',\n\t\t\t\t'second line'\n\t\t\t]\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmodel.setEOL(EndOfLineSequence.CRLF);\n\n\t\t\tviewModel.setSelections('test', [new Selection(2, 2, 2, 2)]);\n\t\t\tmodel.setValue([\n\t\t\t\t'different first line',\n\t\t\t\t'different second line',\n\t\t\t\t'new third line'\n\t\t\t].join('\\n'));\n\n\t\t\tassertCursor(viewModel, new Selection(1, 1, 1, 1));\n\t\t});\n\t});\n\n\ttest('issue #36740: wordwrap creates an extra step / character at the wrapping point', () => {\n\t\t// a single model line => 4 view lines\n\t\twithTestCodeEditor([\n\t\t\t[\n\t\t\t\t'Lorem ipsum ',\n\t\t\t\t'dolor sit amet ',\n\t\t\t\t'consectetur ',\n\t\t\t\t'adipiscing elit',\n\t\t\t].join('')\n\t\t], { wordWrap: 'wordWrapColumn', wordWrapColumn: 16 }, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 7, 1, 7)]);\n\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Selection(1, 8, 1, 8));\n\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Selection(1, 9, 1, 9));\n\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Selection(1, 10, 1, 10));\n\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Selection(1, 11, 1, 11));\n\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Selection(1, 12, 1, 12));\n\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Selection(1, 13, 1, 13));\n\n\t\t\t// moving to view line 2\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Selection(1, 14, 1, 14));\n\n\t\t\tmoveLeft(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Selection(1, 13, 1, 13));\n\n\t\t\t// moving back to view line 1\n\t\t\tmoveLeft(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Selection(1, 12, 1, 12));\n\t\t});\n\t});\n\n\ttest('issue #110376: multiple selections with wordwrap behave differently', () => {\n\t\t// a single model line => 4 view lines\n\t\twithTestCodeEditor([\n\t\t\t[\n\t\t\t\t'just a sentence. just a ',\n\t\t\t\t'sentence. just a sentence.',\n\t\t\t].join('')\n\t\t], { wordWrap: 'wordWrapColumn', wordWrapColumn: 25 }, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [\n\t\t\t\tnew Selection(1, 1, 1, 16),\n\t\t\t\tnew Selection(1, 18, 1, 33),\n\t\t\t\tnew Selection(1, 35, 1, 50),\n\t\t\t]);\n\n\t\t\tmoveLeft(editor, viewModel);\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 1, 1, 1),\n\t\t\t\tnew Selection(1, 18, 1, 18),\n\t\t\t\tnew Selection(1, 35, 1, 35),\n\t\t\t]);\n\n\t\t\tviewModel.setSelections('test', [\n\t\t\t\tnew Selection(1, 1, 1, 16),\n\t\t\t\tnew Selection(1, 18, 1, 33),\n\t\t\t\tnew Selection(1, 35, 1, 50),\n\t\t\t]);\n\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 16, 1, 16),\n\t\t\t\tnew Selection(1, 33, 1, 33),\n\t\t\t\tnew Selection(1, 50, 1, 50),\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('issue #98320: Multi-Cursor, Wrap lines and cursorSelectRight ==> cursors out of sync', () => {\n\t\t// a single model line => 4 view lines\n\t\twithTestCodeEditor([\n\t\t\t[\n\t\t\t\t'lorem_ipsum-1993x11x13',\n\t\t\t\t'dolor_sit_amet-1998x04x27',\n\t\t\t\t'consectetur-2007x10x08',\n\t\t\t\t'adipiscing-2012x07x27',\n\t\t\t\t'elit-2015x02x27',\n\t\t\t].join('\\n')\n\t\t], { wordWrap: 'wordWrapColumn', wordWrapColumn: 16 }, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [\n\t\t\t\tnew Selection(1, 13, 1, 13),\n\t\t\t\tnew Selection(2, 16, 2, 16),\n\t\t\t\tnew Selection(3, 13, 3, 13),\n\t\t\t\tnew Selection(4, 12, 4, 12),\n\t\t\t\tnew Selection(5, 6, 5, 6),\n\t\t\t]);\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 13, 1, 13),\n\t\t\t\tnew Selection(2, 16, 2, 16),\n\t\t\t\tnew Selection(3, 13, 3, 13),\n\t\t\t\tnew Selection(4, 12, 4, 12),\n\t\t\t\tnew Selection(5, 6, 5, 6),\n\t\t\t]);\n\n\t\t\tmoveRight(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 13, 1, 14),\n\t\t\t\tnew Selection(2, 16, 2, 17),\n\t\t\t\tnew Selection(3, 13, 3, 14),\n\t\t\t\tnew Selection(4, 12, 4, 13),\n\t\t\t\tnew Selection(5, 6, 5, 7),\n\t\t\t]);\n\n\t\t\tmoveRight(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 13, 1, 15),\n\t\t\t\tnew Selection(2, 16, 2, 18),\n\t\t\t\tnew Selection(3, 13, 3, 15),\n\t\t\t\tnew Selection(4, 12, 4, 14),\n\t\t\t\tnew Selection(5, 6, 5, 8),\n\t\t\t]);\n\n\t\t\tmoveRight(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 13, 1, 16),\n\t\t\t\tnew Selection(2, 16, 2, 19),\n\t\t\t\tnew Selection(3, 13, 3, 16),\n\t\t\t\tnew Selection(4, 12, 4, 15),\n\t\t\t\tnew Selection(5, 6, 5, 9),\n\t\t\t]);\n\n\t\t\tmoveRight(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 13, 1, 17),\n\t\t\t\tnew Selection(2, 16, 2, 20),\n\t\t\t\tnew Selection(3, 13, 3, 17),\n\t\t\t\tnew Selection(4, 12, 4, 16),\n\t\t\t\tnew Selection(5, 6, 5, 10),\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('issue #41573 - delete across multiple lines does not shrink the selection when word wraps', () => {\n\t\twithTestCodeEditor([\n\t\t\t'Authorization: \\'Bearer pHKRfCTFSnGxs6akKlb9ddIXcca0sIUSZJutPHYqz7vEeHdMTMh0SGN0IGU3a0n59DXjTLRsj5EJ2u33qLNIFi9fk5XF8pK39PndLYUZhPt4QvHGLScgSkK0L4gwzkzMloTQPpKhqiikiIOvyNNSpd2o8j29NnOmdTUOKi9DVt74PD2ohKxyOrWZ6oZprTkb3eKajcpnS0LABKfaw2rmv4\\','\n\t\t].join('\\n'), { wordWrap: 'wordWrapColumn', wordWrapColumn: 100 }, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 43, false);\n\t\t\tmoveTo(editor, viewModel, 1, 147, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 43, 1, 147));\n\n\t\t\teditor.getModel().applyEdits([{\n\t\t\t\trange: new Range(1, 1, 1, 43),\n\t\t\t\ttext: ''\n\t\t\t}]);\n\n\t\t\tassertCursor(viewModel, new Selection(1, 1, 1, 105));\n\t\t});\n\t});\n\n\ttest('issue #22717: Moving text cursor cause an incorrect position in Chinese', () => {\n\t\t// a single model line => 4 view lines\n\t\twithTestCodeEditor([\n\t\t\t[\n\t\t\t\t'',\n\t\t\t\t'12345678901234567890',\n\t\t\t].join('\\n')\n\t\t], {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 5, 1, 5)]);\n\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Selection(2, 9, 2, 9));\n\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Selection(2, 10, 2, 10));\n\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Selection(2, 11, 2, 11));\n\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Selection(1, 6, 1, 6));\n\t\t});\n\t});\n\n\ttest('issue #112301: new stickyTabStops feature interferes with word wrap', () => {\n\t\twithTestCodeEditor([\n\t\t\t[\n\t\t\t\t'function hello() {',\n\t\t\t\t'        console.log(`this is a long console message`)',\n\t\t\t\t'}',\n\t\t\t].join('\\n')\n\t\t], { wordWrap: 'wordWrapColumn', wordWrapColumn: 32, stickyTabStops: true }, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [\n\t\t\t\tnew Selection(2, 31, 2, 31)\n\t\t\t]);\n\t\t\tmoveRight(editor, viewModel, false);\n\t\t\tassertCursor(viewModel, new Position(2, 32));\n\n\t\t\tmoveRight(editor, viewModel, false);\n\t\t\tassertCursor(viewModel, new Position(2, 33));\n\n\t\t\tmoveRight(editor, viewModel, false);\n\t\t\tassertCursor(viewModel, new Position(2, 34));\n\n\t\t\tmoveLeft(editor, viewModel, false);\n\t\t\tassertCursor(viewModel, new Position(2, 33));\n\n\t\t\tmoveLeft(editor, viewModel, false);\n\t\t\tassertCursor(viewModel, new Position(2, 32));\n\n\t\t\tmoveLeft(editor, viewModel, false);\n\t\t\tassertCursor(viewModel, new Position(2, 31));\n\t\t});\n\t});\n\n\ttest('issue #44805: Should not be able to undo in readonly editor', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t''\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, { readOnly: true }, (editor, viewModel) => {\n\t\t\tmodel.pushEditOperations([new Selection(1, 1, 1, 1)], [{\n\t\t\t\trange: new Range(1, 1, 1, 1),\n\t\t\t\ttext: 'Hello world!'\n\t\t\t}], () => [new Selection(1, 1, 1, 1)]);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), 'Hello world!');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), 'Hello world!');\n\t\t});\n\t});\n\n\ttest('issue #46314: ViewModel is out of sync with Model!', () => {\n\n\t\tconst tokenizationSupport: ITokenizationSupport = {\n\t\t\tgetInitialState: () => NullState,\n\t\t\ttokenize: undefined!,\n\t\t\ttokenizeEncoded: (line: string, hasEOL: boolean, state: IState): EncodedTokenizationResult => {\n\t\t\t\treturn new EncodedTokenizationResult(new Uint32Array(0), state);\n\t\t\t}\n\t\t};\n\n\t\tconst LANGUAGE_ID = 'modelModeTest1';\n\t\tconst languageRegistration = TokenizationRegistry.register(LANGUAGE_ID, tokenizationSupport);\n\t\tconst model = createTextModel('Just text', LANGUAGE_ID);\n\n\t\twithTestCodeEditor(model, {}, (editor1, cursor1) => {\n\t\t\twithTestCodeEditor(model, {}, (editor2, cursor2) => {\n\n\t\t\t\tconst disposable = editor1.onDidChangeCursorPosition(() => {\n\t\t\t\t\tmodel.tokenization.tokenizeIfCheap(1);\n\t\t\t\t});\n\n\t\t\t\tmodel.applyEdits([{ range: new Range(1, 1, 1, 1), text: '-' }]);\n\n\t\t\t\tdisposable.dispose();\n\t\t\t});\n\t\t});\n\n\t\tlanguageRegistration.dispose();\n\t\tmodel.dispose();\n\t});\n\n\ttest('issue #37967: problem replacing consecutive characters', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'const a = \"foo\";',\n\t\t\t\t'const b = \"\"'\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, { multiCursorMergeOverlapping: false }, (editor, viewModel) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 12, 1, 12),\n\t\t\t\tnew Selection(1, 16, 1, 16),\n\t\t\t\tnew Selection(2, 12, 2, 12),\n\t\t\t\tnew Selection(2, 13, 2, 13),\n\t\t\t]);\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 11, 1, 11),\n\t\t\t\tnew Selection(1, 14, 1, 14),\n\t\t\t\tnew Selection(2, 11, 2, 11),\n\t\t\t\tnew Selection(2, 11, 2, 11),\n\t\t\t]);\n\n\t\t\tviewModel.type('\\'', 'keyboard');\n\n\t\t\tassert.strictEqual(model.getLineContent(1), 'const a = \\'foo\\';');\n\t\t\tassert.strictEqual(model.getLineContent(2), 'const b = \\'\\'');\n\t\t});\n\t});\n\n\ttest('issue #15761: Cursor doesn\\'t move in a redo operation', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'hello'\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 4, 1, 4)\n\t\t\t]);\n\n\t\t\teditor.executeEdits('test', [{\n\t\t\t\trange: new Range(1, 1, 1, 1),\n\t\t\t\ttext: '*',\n\t\t\t\tforceMoveMarkers: true\n\t\t\t}]);\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 5, 1, 5),\n\t\t\t]);\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 4),\n\t\t\t]);\n\n\t\t\teditor.runCommand(CoreEditingCommands.Redo, null);\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 5, 1, 5),\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('issue #42783: API Calls with Undo Leave Cursor in Wrong Position', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'ab'\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 1, 1, 1)\n\t\t\t]);\n\n\t\t\teditor.executeEdits('test', [{\n\t\t\t\trange: new Range(1, 1, 1, 3),\n\t\t\t\ttext: ''\n\t\t\t}]);\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 1, 1, 1),\n\t\t\t]);\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 1, 1, 1),\n\t\t\t]);\n\n\t\t\teditor.executeEdits('test', [{\n\t\t\t\trange: new Range(1, 1, 1, 2),\n\t\t\t\ttext: ''\n\t\t\t}]);\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 1, 1, 1),\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('issue #85712: Paste line moves cursor to start of current line rather than start of next line', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'abc123',\n\t\t\t\t''\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(2, 1, 2, 1)\n\t\t\t]);\n\t\t\tviewModel.paste('something\\n', true);\n\t\t\tassert.strictEqual(model.getValue(), [\n\t\t\t\t'abc123',\n\t\t\t\t'something',\n\t\t\t\t''\n\t\t\t].join('\\n'));\n\t\t\tassertCursor(viewModel, new Position(3, 1));\n\t\t});\n\t});\n\n\ttest('issue #84897: Left delete behavior in some languages is changed', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t''\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 7, 1, 7)\n\t\t\t]);\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\t\t});\n\t});\n\n\ttest('issue #122914: Left delete behavior in some languages is changed (useTabStops: false)', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t''\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, { useTabStops: false }, (editor, viewModel) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 7, 1, 7)\n\t\t\t]);\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\t\t});\n\t});\n\n\ttest('issue #99629: Emoji modifiers in text treated separately when using backspace', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t''\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, { useTabStops: false }, (editor, viewModel) => {\n\t\t\tconst len = model.getValueLength();\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 1 + len, 1, 1 + len)\n\t\t\t]);\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\t\t});\n\t});\n\n\ttest('issue #99629: Emoji modifiers in text treated separately when using backspace (ZWJ sequence)', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t''\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, { useTabStops: false }, (editor, viewModel) => {\n\t\t\tconst len = model.getValueLength();\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 1 + len, 1, 1 + len)\n\t\t\t]);\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\t\t});\n\t});\n\n\ttest('issue #105730: move left behaves differently for multiple cursors', () => {\n\t\tconst model = createTextModel('asdfghjkl, asdfghjkl, asdfghjkl, ');\n\n\t\twithTestCodeEditor(\n\t\t\tmodel,\n\t\t\t{\n\t\t\t\twordWrap: 'wordWrapColumn',\n\t\t\t\twordWrapColumn: 24\n\t\t\t},\n\t\t\t(editor, viewModel) => {\n\t\t\t\tviewModel.setSelections('test', [\n\t\t\t\t\tnew Selection(1, 10, 1, 12),\n\t\t\t\t\tnew Selection(1, 21, 1, 23),\n\t\t\t\t\tnew Selection(1, 32, 1, 34)\n\t\t\t\t]);\n\t\t\t\tmoveLeft(editor, viewModel, false);\n\t\t\t\tassertCursor(viewModel, [\n\t\t\t\t\tnew Selection(1, 10, 1, 10),\n\t\t\t\t\tnew Selection(1, 21, 1, 21),\n\t\t\t\t\tnew Selection(1, 32, 1, 32)\n\t\t\t\t]);\n\n\t\t\t\tviewModel.setSelections('test', [\n\t\t\t\t\tnew Selection(1, 10, 1, 12),\n\t\t\t\t\tnew Selection(1, 21, 1, 23),\n\t\t\t\t\tnew Selection(1, 32, 1, 34)\n\t\t\t\t]);\n\t\t\t\tmoveLeft(editor, viewModel, true);\n\t\t\t\tassertCursor(viewModel, [\n\t\t\t\t\tnew Selection(1, 10, 1, 11),\n\t\t\t\t\tnew Selection(1, 21, 1, 22),\n\t\t\t\t\tnew Selection(1, 32, 1, 33)\n\t\t\t\t]);\n\t\t\t});\n\t});\n\n\ttest('issue #105730: move right should always skip wrap point', () => {\n\t\tconst model = createTextModel('asdfghjkl, asdfghjkl, asdfghjkl, \\nasdfghjkl,');\n\n\t\twithTestCodeEditor(\n\t\t\tmodel,\n\t\t\t{\n\t\t\t\twordWrap: 'wordWrapColumn',\n\t\t\t\twordWrapColumn: 24\n\t\t\t},\n\t\t\t(editor, viewModel) => {\n\t\t\t\tviewModel.setSelections('test', [\n\t\t\t\t\tnew Selection(1, 22, 1, 22)\n\t\t\t\t]);\n\t\t\t\tmoveRight(editor, viewModel, false);\n\t\t\t\tmoveRight(editor, viewModel, false);\n\t\t\t\tassertCursor(viewModel, [\n\t\t\t\t\tnew Selection(1, 24, 1, 24),\n\t\t\t\t]);\n\n\t\t\t\tviewModel.setSelections('test', [\n\t\t\t\t\tnew Selection(1, 22, 1, 22)\n\t\t\t\t]);\n\t\t\t\tmoveRight(editor, viewModel, true);\n\t\t\t\tmoveRight(editor, viewModel, true);\n\t\t\t\tassertCursor(viewModel, [\n\t\t\t\t\tnew Selection(1, 22, 1, 24),\n\t\t\t\t]);\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('issue #123178: sticky tab in consecutive wrapped lines', () => {\n\t\tconst model = createTextModel('    aaaa        aaaa', undefined, { tabSize: 4 });\n\n\t\twithTestCodeEditor(\n\t\t\tmodel,\n\t\t\t{\n\t\t\t\twordWrap: 'wordWrapColumn',\n\t\t\t\twordWrapColumn: 8,\n\t\t\t\tstickyTabStops: true,\n\t\t\t},\n\t\t\t(editor, viewModel) => {\n\t\t\t\tviewModel.setSelections('test', [\n\t\t\t\t\tnew Selection(1, 9, 1, 9)\n\t\t\t\t]);\n\t\t\t\tmoveRight(editor, viewModel, false);\n\t\t\t\tassertCursor(viewModel, [\n\t\t\t\t\tnew Selection(1, 10, 1, 10),\n\t\t\t\t]);\n\n\t\t\t\tmoveLeft(editor, viewModel, false);\n\t\t\t\tassertCursor(viewModel, [\n\t\t\t\t\tnew Selection(1, 9, 1, 9),\n\t\t\t\t]);\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('Cursor honors insertSpaces configuration on new line', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'    \\tMy First Line\\t ',\n\t\t\t\t'\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t}, (editor, model, viewModel) => {\n\t\t\tCoreNavigationCommands.MoveTo.runCoreEditorCommand(viewModel, { position: new Position(1, 21), source: 'keyboard' });\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '    \\tMy First Line\\t ');\n\t\t\tassert.strictEqual(model.getLineContent(2), '        ');\n\t\t});\n\t});\n\n\ttest('Cursor honors insertSpaces configuration on tab', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'    \\tMy First Line\\t ',\n\t\t\t\t'My Second Line123',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t].join('\\n'),\n\t\t\tundefined,\n\t\t\t{\n\t\t\t\ttabSize: 13,\n\t\t\t\tindentSize: 13,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\t// Tab on column 1\n\t\t\tCoreNavigationCommands.MoveTo.runCoreEditorCommand(viewModel, { position: new Position(2, 1) });\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), '             My Second Line123');\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\n\t\t\t// Tab on column 2\n\t\t\tassert.strictEqual(model.getLineContent(2), 'My Second Line123');\n\t\t\tCoreNavigationCommands.MoveTo.runCoreEditorCommand(viewModel, { position: new Position(2, 2) });\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'M            y Second Line123');\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\n\t\t\t// Tab on column 3\n\t\t\tassert.strictEqual(model.getLineContent(2), 'My Second Line123');\n\t\t\tCoreNavigationCommands.MoveTo.runCoreEditorCommand(viewModel, { position: new Position(2, 3) });\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'My            Second Line123');\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\n\t\t\t// Tab on column 4\n\t\t\tassert.strictEqual(model.getLineContent(2), 'My Second Line123');\n\t\t\tCoreNavigationCommands.MoveTo.runCoreEditorCommand(viewModel, { position: new Position(2, 4) });\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'My           Second Line123');\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\n\t\t\t// Tab on column 5\n\t\t\tassert.strictEqual(model.getLineContent(2), 'My Second Line123');\n\t\t\tCoreNavigationCommands.MoveTo.runCoreEditorCommand(viewModel, { position: new Position(2, 5) });\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'My S         econd Line123');\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\n\t\t\t// Tab on column 5\n\t\t\tassert.strictEqual(model.getLineContent(2), 'My Second Line123');\n\t\t\tCoreNavigationCommands.MoveTo.runCoreEditorCommand(viewModel, { position: new Position(2, 5) });\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'My S         econd Line123');\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\n\t\t\t// Tab on column 13\n\t\t\tassert.strictEqual(model.getLineContent(2), 'My Second Line123');\n\t\t\tCoreNavigationCommands.MoveTo.runCoreEditorCommand(viewModel, { position: new Position(2, 13) });\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'My Second Li ne123');\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\n\t\t\t// Tab on column 14\n\t\t\tassert.strictEqual(model.getLineContent(2), 'My Second Line123');\n\t\t\tCoreNavigationCommands.MoveTo.runCoreEditorCommand(viewModel, { position: new Position(2, 14) });\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'My Second Lin             e123');\n\t\t});\n\t});\n\n\ttest('Enter auto-indents with insertSpaces setting 1', () => {\n\t\tconst languageId = setupOnEnterLanguage(IndentAction.Indent);\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'\\thello'\n\t\t\t],\n\t\t\tlanguageId: languageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 7, false);\n\t\t\tassertCursor(viewModel, new Selection(1, 7, 1, 7));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.CRLF), '\\thello\\r\\n        ');\n\t\t});\n\t});\n\n\ttest('Enter auto-indents with insertSpaces setting 2', () => {\n\t\tconst languageId = setupOnEnterLanguage(IndentAction.None);\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'\\thello'\n\t\t\t],\n\t\t\tlanguageId: languageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 7, false);\n\t\t\tassertCursor(viewModel, new Selection(1, 7, 1, 7));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.CRLF), '\\thello\\r\\n    ');\n\t\t});\n\t});\n\n\ttest('Enter auto-indents with insertSpaces setting 3', () => {\n\t\tconst languageId = setupOnEnterLanguage(IndentAction.IndentOutdent);\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'\\thell()'\n\t\t\t],\n\t\t\tlanguageId: languageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 7, false);\n\t\t\tassertCursor(viewModel, new Selection(1, 7, 1, 7));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.CRLF), '\\thell(\\r\\n        \\r\\n    )');\n\t\t});\n\t});\n\n\ttest('issue #148256: Pressing Enter creates line with bad indent with insertSpaces: true', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'  \\t'\n\t\t\t],\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 4, false);\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), '  \\t\\n    ');\n\t\t});\n\t});\n\n\ttest('issue #148256: Pressing Enter creates line with bad indent with insertSpaces: false', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'  \\t'\n\t\t\t]\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmodel.updateOptions({\n\t\t\t\tinsertSpaces: false\n\t\t\t});\n\t\t\tmoveTo(editor, viewModel, 1, 4, false);\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), '  \\t\\n\\t');\n\t\t});\n\t});\n\n\ttest('removeAutoWhitespace off', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'    some  line abc  '\n\t\t\t],\n\t\t\tmodelOpts: {\n\t\t\t\ttrimAutoWhitespace: false\n\t\t\t}\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\t// Move cursor to the end, verify that we do not trim whitespaces if line has values\n\t\t\tmoveTo(editor, viewModel, 1, model.getLineContent(1).length + 1);\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '    some  line abc  ');\n\t\t\tassert.strictEqual(model.getLineContent(2), '    ');\n\n\t\t\t// Try to enter again, we should trimmed previous line\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '    some  line abc  ');\n\t\t\tassert.strictEqual(model.getLineContent(2), '    ');\n\t\t\tassert.strictEqual(model.getLineContent(3), '    ');\n\t\t});\n\t});\n\n\ttest('removeAutoWhitespace on: removes only whitespace the cursor added 1', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'    '\n\t\t\t]\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, model.getLineContent(1).length + 1);\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '    ');\n\t\t\tassert.strictEqual(model.getLineContent(2), '    ');\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '    ');\n\t\t\tassert.strictEqual(model.getLineContent(2), '');\n\t\t\tassert.strictEqual(model.getLineContent(3), '    ');\n\t\t});\n\t});\n\n\ttest('issue #115033: indent and appendText', () => {\n\t\tconst languageId = 'onEnterMode';\n\n\t\tdisposables.add(languageService.registerLanguage({ id: languageId }));\n\t\tdisposables.add(languageConfigurationService.register(languageId, {\n\t\t\tonEnterRules: [{\n\t\t\t\tbeforeText: /.*/,\n\t\t\t\taction: {\n\t\t\t\t\tindentAction: IndentAction.Indent,\n\t\t\t\t\tappendText: 'x'\n\t\t\t\t}\n\t\t\t}]\n\t\t}));\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'text'\n\t\t\t],\n\t\t\tlanguageId: languageId,\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tmoveTo(editor, viewModel, 1, 5);\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'text');\n\t\t\tassert.strictEqual(model.getLineContent(2), '    x');\n\t\t\tassertCursor(viewModel, new Position(2, 6));\n\t\t});\n\t});\n\n\ttest('issue #6862: Editor removes auto inserted indentation when formatting on type', () => {\n\t\tconst languageId = setupOnEnterLanguage(IndentAction.IndentOutdent);\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'function foo (params: string) {}'\n\t\t\t],\n\t\t\tlanguageId: languageId,\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tmoveTo(editor, viewModel, 1, 32);\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'function foo (params: string) {');\n\t\t\tassert.strictEqual(model.getLineContent(2), '    ');\n\t\t\tassert.strictEqual(model.getLineContent(3), '}');\n\n\t\t\tclass TestCommand implements ICommand {\n\n\t\t\t\tprivate _selectionId: string | null = null;\n\n\t\t\t\tpublic getEditOperations(model: ITextModel, builder: IEditOperationBuilder): void {\n\t\t\t\t\tbuilder.addEditOperation(new Range(1, 13, 1, 14), '');\n\t\t\t\t\tthis._selectionId = builder.trackSelection(viewModel.getSelection());\n\t\t\t\t}\n\n\t\t\t\tpublic computeCursorState(model: ITextModel, helper: ICursorStateComputerData): Selection {\n\t\t\t\t\treturn helper.getTrackedSelection(this._selectionId!);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tviewModel.executeCommand(new TestCommand(), 'autoFormat');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'function foo(params: string) {');\n\t\t\tassert.strictEqual(model.getLineContent(2), '    ');\n\t\t\tassert.strictEqual(model.getLineContent(3), '}');\n\t\t});\n\t});\n\n\ttest('removeAutoWhitespace on: removes only whitespace the cursor added 2', () => {\n\t\tconst languageId = 'testLang';\n\t\tconst registration = languageService.registerLanguage({ id: languageId });\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'    if (a) {',\n\t\t\t\t'        ',\n\t\t\t\t'',\n\t\t\t\t'',\n\t\t\t\t'    }'\n\t\t\t].join('\\n'),\n\t\t\tlanguageId\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\n\t\t\tmoveTo(editor, viewModel, 3, 1);\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), '    if (a) {');\n\t\t\tassert.strictEqual(model.getLineContent(2), '        ');\n\t\t\tassert.strictEqual(model.getLineContent(3), '    ');\n\t\t\tassert.strictEqual(model.getLineContent(4), '');\n\t\t\tassert.strictEqual(model.getLineContent(5), '    }');\n\n\t\t\tmoveTo(editor, viewModel, 4, 1);\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), '    if (a) {');\n\t\t\tassert.strictEqual(model.getLineContent(2), '        ');\n\t\t\tassert.strictEqual(model.getLineContent(3), '');\n\t\t\tassert.strictEqual(model.getLineContent(4), '    ');\n\t\t\tassert.strictEqual(model.getLineContent(5), '    }');\n\n\t\t\tmoveTo(editor, viewModel, 5, model.getLineMaxColumn(5));\n\t\t\tviewModel.type('something', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '    if (a) {');\n\t\t\tassert.strictEqual(model.getLineContent(2), '        ');\n\t\t\tassert.strictEqual(model.getLineContent(3), '');\n\t\t\tassert.strictEqual(model.getLineContent(4), '');\n\t\t\tassert.strictEqual(model.getLineContent(5), '    }something');\n\t\t});\n\n\t\tregistration.dispose();\n\t});\n\n\ttest('removeAutoWhitespace on: test 1', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'    some  line abc  '\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\n\t\t\t// Move cursor to the end, verify that we do not trim whitespaces if line has values\n\t\t\tmoveTo(editor, viewModel, 1, model.getLineContent(1).length + 1);\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '    some  line abc  ');\n\t\t\tassert.strictEqual(model.getLineContent(2), '    ');\n\n\t\t\t// Try to enter again, we should trimmed previous line\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '    some  line abc  ');\n\t\t\tassert.strictEqual(model.getLineContent(2), '');\n\t\t\tassert.strictEqual(model.getLineContent(3), '    ');\n\n\t\t\t// More whitespaces\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), '    some  line abc  ');\n\t\t\tassert.strictEqual(model.getLineContent(2), '');\n\t\t\tassert.strictEqual(model.getLineContent(3), '        ');\n\n\t\t\t// Enter and verify that trimmed again\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '    some  line abc  ');\n\t\t\tassert.strictEqual(model.getLineContent(2), '');\n\t\t\tassert.strictEqual(model.getLineContent(3), '');\n\t\t\tassert.strictEqual(model.getLineContent(4), '        ');\n\n\t\t\t// Trimmed if we will keep only text\n\t\t\tmoveTo(editor, viewModel, 1, 5);\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '    ');\n\t\t\tassert.strictEqual(model.getLineContent(2), '    some  line abc  ');\n\t\t\tassert.strictEqual(model.getLineContent(3), '');\n\t\t\tassert.strictEqual(model.getLineContent(4), '');\n\t\t\tassert.strictEqual(model.getLineContent(5), '');\n\n\t\t\t// Trimmed if we will keep only text by selection\n\t\t\tmoveTo(editor, viewModel, 2, 5);\n\t\t\tmoveTo(editor, viewModel, 3, 1, true);\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '    ');\n\t\t\tassert.strictEqual(model.getLineContent(2), '    ');\n\t\t\tassert.strictEqual(model.getLineContent(3), '    ');\n\t\t\tassert.strictEqual(model.getLineContent(4), '');\n\t\t\tassert.strictEqual(model.getLineContent(5), '');\n\t\t});\n\t});\n\n\ttest('issue #15118: remove auto whitespace when pasting entire line', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'    function f() {',\n\t\t\t\t'        // I\\'m gonna copy this line',\n\t\t\t\t'        return 3;',\n\t\t\t\t'    }',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\n\t\t\tmoveTo(editor, viewModel, 3, model.getLineMaxColumn(3));\n\t\t\tviewModel.type('\\n', 'keyboard');\n\n\t\t\tassert.strictEqual(model.getValue(), [\n\t\t\t\t'    function f() {',\n\t\t\t\t'        // I\\'m gonna copy this line',\n\t\t\t\t'        return 3;',\n\t\t\t\t'        ',\n\t\t\t\t'    }',\n\t\t\t].join('\\n'));\n\t\t\tassertCursor(viewModel, new Position(4, model.getLineMaxColumn(4)));\n\n\t\t\tviewModel.paste('        // I\\'m gonna copy this line\\n', true);\n\t\t\tassert.strictEqual(model.getValue(), [\n\t\t\t\t'    function f() {',\n\t\t\t\t'        // I\\'m gonna copy this line',\n\t\t\t\t'        return 3;',\n\t\t\t\t'        // I\\'m gonna copy this line',\n\t\t\t\t'',\n\t\t\t\t'    }',\n\t\t\t].join('\\n'));\n\t\t\tassertCursor(viewModel, new Position(5, 1));\n\t\t});\n\t});\n\n\ttest('issue #40695: maintain cursor position when copying lines using ctrl+c, ctrl+v', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'    function f() {',\n\t\t\t\t'        // I\\'m gonna copy this line',\n\t\t\t\t'        // Another line',\n\t\t\t\t'        return 3;',\n\t\t\t\t'    }',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\n\t\t\teditor.setSelections([new Selection(4, 10, 4, 10)]);\n\t\t\tviewModel.paste('        // I\\'m gonna copy this line\\n', true);\n\n\t\t\tassert.strictEqual(model.getValue(), [\n\t\t\t\t'    function f() {',\n\t\t\t\t'        // I\\'m gonna copy this line',\n\t\t\t\t'        // Another line',\n\t\t\t\t'        // I\\'m gonna copy this line',\n\t\t\t\t'        return 3;',\n\t\t\t\t'    }',\n\t\t\t].join('\\n'));\n\t\t\tassertCursor(viewModel, new Position(5, 10));\n\t\t});\n\t});\n\n\ttest('UseTabStops is off', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'    x',\n\t\t\t\t'        a    ',\n\t\t\t\t'    '\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, { useTabStops: false }, (editor, viewModel) => {\n\t\t\t// DeleteLeft removes just one whitespace\n\t\t\tmoveTo(editor, viewModel, 2, 9);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), '       a    ');\n\t\t});\n\t});\n\n\ttest('Backspace removes whitespaces with tab size', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t' \\t \\t     x',\n\t\t\t\t'        a    ',\n\t\t\t\t'    '\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, { useTabStops: true }, (editor, viewModel) => {\n\t\t\t// DeleteLeft does not remove tab size, because some text exists before\n\t\t\tmoveTo(editor, viewModel, 2, model.getLineContent(2).length + 1);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), '        a   ');\n\n\t\t\t// DeleteLeft removes tab size = 4\n\t\t\tmoveTo(editor, viewModel, 2, 9);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), '    a   ');\n\n\t\t\t// DeleteLeft removes tab size = 4\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'a   ');\n\n\t\t\t// Undo DeleteLeft - get us back to original indentation\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), '        a   ');\n\n\t\t\t// Nothing is broken when cursor is in (1,1)\n\t\t\tmoveTo(editor, viewModel, 1, 1);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), ' \\t \\t     x');\n\n\t\t\t// DeleteLeft stops at tab stops even in mixed whitespace case\n\t\t\tmoveTo(editor, viewModel, 1, 10);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), ' \\t \\t    x');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), ' \\t \\tx');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), ' \\tx');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x');\n\n\t\t\t// DeleteLeft on last line\n\t\t\tmoveTo(editor, viewModel, 3, model.getLineContent(3).length + 1);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(3), '');\n\n\t\t\t// DeleteLeft with removing new line symbol\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), 'x\\n        a   ');\n\n\t\t\t// In case of selection DeleteLeft only deletes selected text\n\t\t\tmoveTo(editor, viewModel, 2, 3);\n\t\t\tmoveTo(editor, viewModel, 2, 4, true);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), '       a   ');\n\t\t});\n\t});\n\n\ttest('PR #5423: Auto indent + undo + redo is funky', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t''\n\t\t\t].join('\\n'),\n\t\t\tundefined,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n', 'assert1');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\t', 'assert2');\n\n\t\t\tviewModel.type('y', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\ty', 'assert2');\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\ty\\n\\t', 'assert3');\n\n\t\t\tviewModel.type('x');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\ty\\n\\tx', 'assert4');\n\n\t\t\tCoreNavigationCommands.CursorLeft.runCoreEditorCommand(viewModel, {});\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\ty\\n\\tx', 'assert5');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\ty\\nx', 'assert6');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\tyx', 'assert7');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\tx', 'assert8');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\nx', 'assert9');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), 'x', 'assert10');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\nx', 'assert11');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\ty\\nx', 'assert12');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\ty\\n\\tx', 'assert13');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Redo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\ty\\nx', 'assert14');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Redo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\nx', 'assert15');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Redo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), 'x', 'assert16');\n\t\t});\n\t});\n\n\ttest('issue #90973: Undo brings back model alternative version', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t''\n\t\t\t].join('\\n'),\n\t\t\tundefined,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tconst beforeVersion = model.getVersionId();\n\t\t\tconst beforeAltVersion = model.getAlternativeVersionId();\n\t\t\tviewModel.type('Hello', 'keyboard');\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tconst afterVersion = model.getVersionId();\n\t\t\tconst afterAltVersion = model.getAlternativeVersionId();\n\n\t\t\tassert.notStrictEqual(beforeVersion, afterVersion);\n\t\t\tassert.strictEqual(beforeAltVersion, afterAltVersion);\n\t\t});\n\t});\n\n\ttest('Enter honors increaseIndentPattern', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'\\tif (true) {'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t\tmodelOpts: { insertSpaces: false },\n\t\t\teditorOpts: { autoIndent: 'full' }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 12, false);\n\t\t\tassertCursor(viewModel, new Selection(1, 12, 1, 12));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\tassertCursor(viewModel, new Selection(2, 2, 2, 2));\n\n\t\t\tmoveTo(editor, viewModel, 3, 13, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 13, 3, 13));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(4, 3, 4, 3));\n\t\t});\n\t});\n\n\ttest('Type honors decreaseIndentPattern', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'\\t'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t\teditorOpts: { autoIndent: 'full' }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 2, false);\n\t\t\tassertCursor(viewModel, new Selection(2, 2, 2, 2));\n\n\t\t\tviewModel.type('}', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(2, 2, 2, 2));\n\t\t\tassert.strictEqual(model.getLineContent(2), '}', '001');\n\t\t});\n\t});\n\n\ttest('Enter honors unIndentedLinePattern', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'\\t\\t\\treturn true'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t\tmodelOpts: { insertSpaces: false },\n\t\t\teditorOpts: { autoIndent: 'full' }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 15, false);\n\t\t\tassertCursor(viewModel, new Selection(2, 15, 2, 15));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(3, 2, 3, 2));\n\t\t});\n\t});\n\n\ttest('Enter honors indentNextLinePattern', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true)',\n\t\t\t\t'\\treturn true;',\n\t\t\t\t'if (true)',\n\t\t\t\t'\\t\\t\\t\\treturn true'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t\tmodelOpts: { insertSpaces: false },\n\t\t\teditorOpts: { autoIndent: 'full' }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 14, false);\n\t\t\tassertCursor(viewModel, new Selection(2, 14, 2, 14));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\tassertCursor(viewModel, new Selection(3, 1, 3, 1));\n\n\t\t\tmoveTo(editor, viewModel, 5, 16, false);\n\t\t\tassertCursor(viewModel, new Selection(5, 16, 5, 16));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(6, 2, 6, 2));\n\t\t});\n\t});\n\n\ttest('Enter honors indentNextLinePattern 2', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'if (true)',\n\t\t\t\t'\\tif (true)'\n\t\t\t].join('\\n'),\n\t\t\tindentRulesLanguageId,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, { autoIndent: 'full' }, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 11, false);\n\t\t\tassertCursor(viewModel, new Selection(2, 11, 2, 11));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\tassertCursor(viewModel, new Selection(3, 3, 3, 3));\n\n\t\t\tviewModel.type('console.log();', 'keyboard');\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(4, 1, 4, 1));\n\t\t});\n\t});\n\n\ttest('Enter honors intential indent', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'\\tif (true) {',\n\t\t\t\t'return true;',\n\t\t\t\t'}}'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t\teditorOpts: { autoIndent: 'full' }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 13, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 13, 3, 13));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(4, 1, 4, 1));\n\t\t\tassert.strictEqual(model.getLineContent(3), 'return true;', '001');\n\t\t});\n\t});\n\n\ttest('Enter supports selection 1', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'\\tif (true) {',\n\t\t\t\t'\\t\\treturn true;',\n\t\t\t\t'\\t}a}'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t\tmodelOpts: { insertSpaces: false }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 4, 3, false);\n\t\t\tmoveTo(editor, viewModel, 4, 4, true);\n\t\t\tassertCursor(viewModel, new Selection(4, 3, 4, 4));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(5, 1, 5, 1));\n\t\t\tassert.strictEqual(model.getLineContent(4), '\\t}', '001');\n\t\t});\n\t});\n\n\ttest('Enter supports selection 2', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'\\tif (true) {'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t\tmodelOpts: { insertSpaces: false }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 12, false);\n\t\t\tmoveTo(editor, viewModel, 2, 13, true);\n\t\t\tassertCursor(viewModel, new Selection(2, 12, 2, 13));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(3, 3, 3, 3));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(4, 3, 4, 3));\n\t\t});\n\t});\n\n\ttest('Enter honors tabSize and insertSpaces 1', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'\\tif (true) {'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 12, false);\n\t\t\tassertCursor(viewModel, new Selection(1, 12, 1, 12));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(2, 5, 2, 5));\n\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\n\t\t\tmoveTo(editor, viewModel, 3, 13, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 13, 3, 13));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(4, 9, 4, 9));\n\t\t});\n\t});\n\n\ttest('Enter honors tabSize and insertSpaces 2', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'    if (true) {'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 12, false);\n\t\t\tassertCursor(viewModel, new Selection(1, 12, 1, 12));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\tassertCursor(viewModel, new Selection(2, 5, 2, 5));\n\n\t\t\tmoveTo(editor, viewModel, 3, 16, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 16, 3, 16));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(3), '    if (true) {');\n\t\t\tassertCursor(viewModel, new Selection(4, 9, 4, 9));\n\t\t});\n\t});\n\n\ttest('Enter honors tabSize and insertSpaces 3', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'    if (true) {'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t\tmodelOpts: { insertSpaces: false }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 12, false);\n\t\t\tassertCursor(viewModel, new Selection(1, 12, 1, 12));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\tassertCursor(viewModel, new Selection(2, 2, 2, 2));\n\n\t\t\tmoveTo(editor, viewModel, 3, 16, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 16, 3, 16));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(3), '    if (true) {');\n\t\t\tassertCursor(viewModel, new Selection(4, 3, 4, 3));\n\t\t});\n\t});\n\n\ttest('Enter supports intentional indentation', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'\\tif (true) {',\n\t\t\t\t'\\t\\tswitch(true) {',\n\t\t\t\t'\\t\\t\\tcase true:',\n\t\t\t\t'\\t\\t\\t\\tbreak;',\n\t\t\t\t'\\t\\t}',\n\t\t\t\t'\\t}'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t\tmodelOpts: { insertSpaces: false },\n\t\t\teditorOpts: { autoIndent: 'full' }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 5, 4, false);\n\t\t\tassertCursor(viewModel, new Selection(5, 4, 5, 4));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(5), '\\t\\t}');\n\t\t\tassertCursor(viewModel, new Selection(6, 3, 6, 3));\n\t\t});\n\t});\n\n\ttest('Enter should not adjust cursor position when press enter in the middle of a line 1', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'\\tif (true) {',\n\t\t\t\t'\\t\\treturn true;',\n\t\t\t\t'\\t}a}'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t\tmodelOpts: { insertSpaces: false }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 9, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 9, 3, 9));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(4, 3, 4, 3));\n\t\t\tassert.strictEqual(model.getLineContent(4), '\\t\\t true;', '001');\n\t\t});\n\t});\n\n\ttest('Enter should not adjust cursor position when press enter in the middle of a line 2', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'\\tif (true) {',\n\t\t\t\t'\\t\\treturn true;',\n\t\t\t\t'\\t}a}'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t\tmodelOpts: { insertSpaces: false }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 3, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 3, 3, 3));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(4, 3, 4, 3));\n\t\t\tassert.strictEqual(model.getLineContent(4), '\\t\\treturn true;', '001');\n\t\t});\n\t});\n\n\ttest('Enter should not adjust cursor position when press enter in the middle of a line 3', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'  if (true) {',\n\t\t\t\t'    return true;',\n\t\t\t\t'  }a}'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 11, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 11, 3, 11));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(4, 5, 4, 5));\n\t\t\tassert.strictEqual(model.getLineContent(4), '     true;', '001');\n\t\t});\n\t});\n\n\ttest('Enter should adjust cursor position when press enter in the middle of leading whitespaces 1', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'\\tif (true) {',\n\t\t\t\t'\\t\\treturn true;',\n\t\t\t\t'\\t}a}'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t\tmodelOpts: { insertSpaces: false }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 2, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 2, 3, 2));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(4, 2, 4, 2));\n\t\t\tassert.strictEqual(model.getLineContent(4), '\\t\\treturn true;', '001');\n\n\t\t\tmoveTo(editor, viewModel, 4, 1, false);\n\t\t\tassertCursor(viewModel, new Selection(4, 1, 4, 1));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(5, 1, 5, 1));\n\t\t\tassert.strictEqual(model.getLineContent(5), '\\t\\treturn true;', '002');\n\t\t});\n\t});\n\n\ttest('Enter should adjust cursor position when press enter in the middle of leading whitespaces 2', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'\\tif (true) {',\n\t\t\t\t'\\t\\tif (true) {',\n\t\t\t\t'\\t    \\treturn true;',\n\t\t\t\t'\\t\\t}a}'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t\tmodelOpts: { insertSpaces: false }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 4, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 4, 3, 4));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(4, 3, 4, 3));\n\t\t\tassert.strictEqual(model.getLineContent(4), '\\t\\t\\treturn true;', '001');\n\n\t\t\tmoveTo(editor, viewModel, 4, 1, false);\n\t\t\tassertCursor(viewModel, new Selection(4, 1, 4, 1));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(5, 1, 5, 1));\n\t\t\tassert.strictEqual(model.getLineContent(5), '\\t\\t\\treturn true;', '002');\n\t\t});\n\t});\n\n\ttest('Enter should adjust cursor position when press enter in the middle of leading whitespaces 3', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'  if (true) {',\n\t\t\t\t'    return true;',\n\t\t\t\t'}a}'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 2, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 2, 3, 2));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(4, 2, 4, 2));\n\t\t\tassert.strictEqual(model.getLineContent(4), '    return true;', '001');\n\n\t\t\tmoveTo(editor, viewModel, 4, 3, false);\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(5, 3, 5, 3));\n\t\t\tassert.strictEqual(model.getLineContent(5), '    return true;', '002');\n\t\t});\n\t});\n\n\ttest('Enter should adjust cursor position when press enter in the middle of leading whitespaces 4', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'  if (true) {',\n\t\t\t\t'\\t  return true;',\n\t\t\t\t'}a}',\n\t\t\t\t'',\n\t\t\t\t'if (true) {',\n\t\t\t\t'  if (true) {',\n\t\t\t\t'\\t  return true;',\n\t\t\t\t'}a}'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t\tmodelOpts: {\n\t\t\t\ttabSize: 2,\n\t\t\t\tindentSize: 2\n\t\t\t}\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 3, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 3, 3, 3));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(4, 4, 4, 4));\n\t\t\tassert.strictEqual(model.getLineContent(4), '    return true;', '001');\n\n\t\t\tmoveTo(editor, viewModel, 9, 4, false);\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(10, 5, 10, 5));\n\t\t\tassert.strictEqual(model.getLineContent(10), '    return true;', '001');\n\t\t});\n\t});\n\n\ttest('Enter should adjust cursor position when press enter in the middle of leading whitespaces 5', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'  if (true) {',\n\t\t\t\t'    return true;',\n\t\t\t\t'    return true;',\n\t\t\t\t''\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t\tmodelOpts: { tabSize: 2 }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 5, false);\n\t\t\tmoveTo(editor, viewModel, 4, 3, true);\n\t\t\tassertCursor(viewModel, new Selection(3, 5, 4, 3));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(4, 3, 4, 3));\n\t\t\tassert.strictEqual(model.getLineContent(4), '    return true;', '001');\n\t\t});\n\t});\n\n\ttest('issue microsoft/monaco-editor#108 part 1/2: Auto indentation on Enter with selection is half broken', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'function baz() {',\n\t\t\t\t'\\tvar x = 1;',\n\t\t\t\t'\\t\\t\\t\\t\\t\\t\\treturn x;',\n\t\t\t\t'}'\n\t\t\t],\n\t\t\tmodelOpts: {\n\t\t\t\tinsertSpaces: false,\n\t\t\t},\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 8, false);\n\t\t\tmoveTo(editor, viewModel, 2, 12, true);\n\t\t\tassertCursor(viewModel, new Selection(3, 8, 2, 12));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(3), '\\treturn x;');\n\t\t\tassertCursor(viewModel, new Position(3, 2));\n\t\t});\n\t});\n\n\ttest('issue microsoft/monaco-editor#108 part 2/2: Auto indentation on Enter with selection is half broken', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'function baz() {',\n\t\t\t\t'\\tvar x = 1;',\n\t\t\t\t'\\t\\t\\t\\t\\t\\t\\treturn x;',\n\t\t\t\t'}'\n\t\t\t],\n\t\t\tmodelOpts: {\n\t\t\t\tinsertSpaces: false,\n\t\t\t},\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 12, false);\n\t\t\tmoveTo(editor, viewModel, 3, 8, true);\n\t\t\tassertCursor(viewModel, new Selection(2, 12, 3, 8));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(3), '\\treturn x;');\n\t\t\tassertCursor(viewModel, new Position(3, 2));\n\t\t});\n\t});\n\n\ttest('onEnter works if there are no indentation rules', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'<?',\n\t\t\t\t'\\tif (true) {',\n\t\t\t\t'\\t\\techo $hi;',\n\t\t\t\t'\\t\\techo $bye;',\n\t\t\t\t'\\t}',\n\t\t\t\t'?>'\n\t\t\t],\n\t\t\tmodelOpts: { insertSpaces: false }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 5, 3, false);\n\t\t\tassertCursor(viewModel, new Selection(5, 3, 5, 3));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(6), '\\t');\n\t\t\tassertCursor(viewModel, new Selection(6, 2, 6, 2));\n\t\t\tassert.strictEqual(model.getLineContent(5), '\\t}');\n\t\t});\n\t});\n\n\ttest('onEnter works if there are no indentation rules 2', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'\tif (5)',\n\t\t\t\t'\t\treturn 5;',\n\t\t\t\t'\t'\n\t\t\t],\n\t\t\tmodelOpts: { insertSpaces: false }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 2, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 2, 3, 2));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(4, 2, 4, 2));\n\t\t\tassert.strictEqual(model.getLineContent(4), '\\t');\n\t\t});\n\t});\n\n\ttest('bug #16543: Tab should indent to correct indentation spot immediately', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'function baz() {',\n\t\t\t\t'\\tfunction hello() { // something here',\n\t\t\t\t'\\t',\n\t\t\t\t'',\n\t\t\t\t'\\t}',\n\t\t\t\t'}'\n\t\t\t].join('\\n'),\n\t\t\tindentRulesLanguageId,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 4, 1, false);\n\t\t\tassertCursor(viewModel, new Selection(4, 1, 4, 1));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(4), '\\t\\t');\n\t\t});\n\t});\n\n\n\ttest('bug #2938 (1): When pressing Tab on white-space only lines, indent straight to the right spot (similar to empty lines)', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'\\tfunction baz() {',\n\t\t\t\t'\\t\\tfunction hello() { // something here',\n\t\t\t\t'\\t\\t',\n\t\t\t\t'\\t',\n\t\t\t\t'\\t\\t}',\n\t\t\t\t'\\t}'\n\t\t\t].join('\\n'),\n\t\t\tindentRulesLanguageId,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 4, 2, false);\n\t\t\tassertCursor(viewModel, new Selection(4, 2, 4, 2));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(4), '\\t\\t\\t');\n\t\t});\n\t});\n\n\n\ttest('bug #2938 (2): When pressing Tab on white-space only lines, indent straight to the right spot (similar to empty lines)', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'\\tfunction baz() {',\n\t\t\t\t'\\t\\tfunction hello() { // something here',\n\t\t\t\t'\\t\\t',\n\t\t\t\t'    ',\n\t\t\t\t'\\t\\t}',\n\t\t\t\t'\\t}'\n\t\t\t].join('\\n'),\n\t\t\tindentRulesLanguageId,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 4, 1, false);\n\t\t\tassertCursor(viewModel, new Selection(4, 1, 4, 1));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(4), '\\t\\t\\t');\n\t\t});\n\t});\n\n\ttest('bug #2938 (3): When pressing Tab on white-space only lines, indent straight to the right spot (similar to empty lines)', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'\\tfunction baz() {',\n\t\t\t\t'\\t\\tfunction hello() { // something here',\n\t\t\t\t'\\t\\t',\n\t\t\t\t'\\t\\t\\t',\n\t\t\t\t'\\t\\t}',\n\t\t\t\t'\\t}'\n\t\t\t].join('\\n'),\n\t\t\tindentRulesLanguageId,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 4, 3, false);\n\t\t\tassertCursor(viewModel, new Selection(4, 3, 4, 3));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(4), '\\t\\t\\t\\t');\n\t\t});\n\t});\n\n\ttest('bug #2938 (4): When pressing Tab on white-space only lines, indent straight to the right spot (similar to empty lines)', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'\\tfunction baz() {',\n\t\t\t\t'\\t\\tfunction hello() { // something here',\n\t\t\t\t'\\t\\t',\n\t\t\t\t'\\t\\t\\t\\t',\n\t\t\t\t'\\t\\t}',\n\t\t\t\t'\\t}'\n\t\t\t].join('\\n'),\n\t\t\tindentRulesLanguageId,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 4, 4, false);\n\t\t\tassertCursor(viewModel, new Selection(4, 4, 4, 4));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(4), '\\t\\t\\t\\t\\t');\n\t\t});\n\t});\n\n\ttest('bug #31015: When pressing Tab on lines and Enter rules are avail, indent straight to the right spotTab', () => {\n\t\tconst onEnterLanguageId = setupOnEnterLanguage(IndentAction.Indent);\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'    if (a) {',\n\t\t\t\t'        ',\n\t\t\t\t'',\n\t\t\t\t'',\n\t\t\t\t'    }'\n\t\t\t].join('\\n'),\n\t\t\tonEnterLanguageId\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\n\t\t\tmoveTo(editor, viewModel, 3, 1);\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), '    if (a) {');\n\t\t\tassert.strictEqual(model.getLineContent(2), '        ');\n\t\t\tassert.strictEqual(model.getLineContent(3), '        ');\n\t\t\tassert.strictEqual(model.getLineContent(4), '');\n\t\t\tassert.strictEqual(model.getLineContent(5), '    }');\n\t\t});\n\t});\n\n\ttest('type honors indentation rules: ruby keywords', () => {\n\t\tconst rubyLanguageId = setupIndentRulesLanguage('ruby', {\n\t\t\tincreaseIndentPattern: /^\\s*((begin|class|def|else|elsif|ensure|for|if|module|rescue|unless|until|when|while)|(.*\\sdo\\b))\\b[^\\{;]*$/,\n\t\t\tdecreaseIndentPattern: /^\\s*([}\\]]([,)]?\\s*(#|$)|\\.[a-zA-Z_]\\w*\\b)|(end|rescue|ensure|else|elsif|when)\\b)/\n\t\t});\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'class Greeter',\n\t\t\t\t'  def initialize(name)',\n\t\t\t\t'    @name = name',\n\t\t\t\t'    en'\n\t\t\t].join('\\n'),\n\t\t\trubyLanguageId\n\t\t);\n\n\t\twithTestCodeEditor(model, { autoIndent: 'full' }, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 4, 7, false);\n\t\t\tassertCursor(viewModel, new Selection(4, 7, 4, 7));\n\n\t\t\tviewModel.type('d', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(4), '  end');\n\t\t});\n\t});\n\n\ttest('Auto indent on type: increaseIndentPattern has higher priority than decreaseIndent when inheriting', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'\\tif (true) {',\n\t\t\t\t'\\t\\tconsole.log();',\n\t\t\t\t'\\t} else if {',\n\t\t\t\t'\\t\\tconsole.log()',\n\t\t\t\t'\\t}'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 5, 3, false);\n\t\t\tassertCursor(viewModel, new Selection(5, 3, 5, 3));\n\n\t\t\tviewModel.type('e', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(5, 4, 5, 4));\n\t\t\tassert.strictEqual(model.getLineContent(5), '\\t}e', 'This line should not decrease indent');\n\t\t});\n\t});\n\n\ttest('type honors users indentation adjustment', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'\\tif (true ||',\n\t\t\t\t'\\t ) {',\n\t\t\t\t'\\t}',\n\t\t\t\t'if (true ||',\n\t\t\t\t') {',\n\t\t\t\t'}'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 3, false);\n\t\t\tassertCursor(viewModel, new Selection(2, 3, 2, 3));\n\n\t\t\tviewModel.type(' ', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(2, 4, 2, 4));\n\t\t\tassert.strictEqual(model.getLineContent(2), '\\t  ) {', 'This line should not decrease indent');\n\t\t});\n\t});\n\n\ttest('bug 29972: if a line is line comment, open bracket should not indent next line', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'\\t// {',\n\t\t\t\t'\\t\\t'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t\teditorOpts: { autoIndent: 'full' }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 3, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 3, 3, 3));\n\n\t\t\tviewModel.type('}', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(3, 2, 3, 2));\n\t\t\tassert.strictEqual(model.getLineContent(3), '}');\n\t\t});\n\t});\n\n\n\ttest('issue #38261: TAB key results in bizarre indentation in C++ mode ', () => {\n\t\tconst languageId = 'indentRulesMode';\n\n\t\tdisposables.add(languageService.registerLanguage({ id: languageId }));\n\t\tdisposables.add(languageConfigurationService.register(languageId, {\n\t\t\tbrackets: [\n\t\t\t\t['{', '}'],\n\t\t\t\t['[', ']'],\n\t\t\t\t['(', ')']\n\t\t\t],\n\t\t\tindentationRules: {\n\t\t\t\tincreaseIndentPattern: new RegExp('(^.*\\\\{[^}]*$)'),\n\t\t\t\tdecreaseIndentPattern: new RegExp('^\\\\s*\\\\}')\n\t\t\t}\n\t\t}));\n\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'int main() {',\n\t\t\t\t'  return 0;',\n\t\t\t\t'}',\n\t\t\t\t'',\n\t\t\t\t'bool Foo::bar(const string &a,',\n\t\t\t\t'              const string &b) {',\n\t\t\t\t'  foo();',\n\t\t\t\t'',\n\t\t\t\t')',\n\t\t\t].join('\\n'),\n\t\t\tlanguageId,\n\t\t\t{\n\t\t\t\ttabSize: 2,\n\t\t\t\tindentSize: 2\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, { autoIndent: 'advanced' }, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 8, 1, false);\n\t\t\tassertCursor(viewModel, new Selection(8, 1, 8, 1));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getValue(),\n\t\t\t\t[\n\t\t\t\t\t'int main() {',\n\t\t\t\t\t'  return 0;',\n\t\t\t\t\t'}',\n\t\t\t\t\t'',\n\t\t\t\t\t'bool Foo::bar(const string &a,',\n\t\t\t\t\t'              const string &b) {',\n\t\t\t\t\t'  foo();',\n\t\t\t\t\t'  ',\n\t\t\t\t\t')',\n\t\t\t\t].join('\\n')\n\t\t\t);\n\t\t\tassert.deepStrictEqual(viewModel.getSelection(), new Selection(8, 3, 8, 3));\n\t\t});\n\t});\n\n\ttest('issue #57197: indent rules regex should be stateless', () => {\n\t\tconst languageId = setupIndentRulesLanguage('lang', {\n\t\t\tdecreaseIndentPattern: /^\\s*}$/gm,\n\t\t\tincreaseIndentPattern: /^(?![^\\S\\n]*(?!--||)(?:[-xX+]|\\[[ xX+-]?\\])\\s[^\\n]*)[^\\S\\n]*(.+:)[^\\S\\n]*(?:(?=@[^\\s*~(]+(?::\\/\\/[^\\s*~(:]+)?(?:\\([^)]*\\))?)|$)/gm,\n\t\t});\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'Project:',\n\t\t\t],\n\t\t\tlanguageId: languageId,\n\t\t\tmodelOpts: { insertSpaces: false },\n\t\t\teditorOpts: { autoIndent: 'full' }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 9, false);\n\t\t\tassertCursor(viewModel, new Selection(1, 9, 1, 9));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\tassertCursor(viewModel, new Selection(2, 2, 2, 2));\n\n\t\t\tmoveTo(editor, viewModel, 1, 9, false);\n\t\t\tassertCursor(viewModel, new Selection(1, 9, 1, 9));\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\tassertCursor(viewModel, new Selection(2, 2, 2, 2));\n\t\t});\n\t});\n\n\ttest('typing in json', () => {\n\t\tconst languageId = 'indentRulesMode';\n\n\t\tdisposables.add(languageService.registerLanguage({ id: languageId }));\n\t\tdisposables.add(languageConfigurationService.register(languageId, {\n\t\t\tbrackets: [\n\t\t\t\t['{', '}'],\n\t\t\t\t['[', ']'],\n\t\t\t\t['(', ')']\n\t\t\t],\n\t\t\tindentationRules: {\n\t\t\t\tincreaseIndentPattern: new RegExp('({+(?=([^\"]*\"[^\"]*\")*[^\"}]*$))|(\\\\[+(?=([^\"]*\"[^\"]*\")*[^\"\\\\]]*$))'),\n\t\t\t\tdecreaseIndentPattern: new RegExp('^\\\\s*[}\\\\]],?\\\\s*$')\n\t\t\t}\n\t\t}));\n\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'{',\n\t\t\t\t'  \"scripts: {\"',\n\t\t\t\t'    \"watch\": \"a {\"',\n\t\t\t\t'    \"build{\": \"b\"',\n\t\t\t\t'    \"tasks\": []',\n\t\t\t\t'    \"tasks\": [\"a\"]',\n\t\t\t\t'  \"}\"',\n\t\t\t\t'\"}\"'\n\t\t\t].join('\\n'),\n\t\t\tlanguageId,\n\t\t\t{\n\t\t\t\ttabSize: 2,\n\t\t\t\tindentSize: 2\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, { autoIndent: 'full' }, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 19, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 19, 3, 19));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(4), '    ');\n\n\t\t\tmoveTo(editor, viewModel, 5, 18, false);\n\t\t\tassertCursor(viewModel, new Selection(5, 18, 5, 18));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(6), '    ');\n\n\t\t\tmoveTo(editor, viewModel, 7, 15, false);\n\t\t\tassertCursor(viewModel, new Selection(7, 15, 7, 15));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(8), '      ');\n\t\t\tassert.deepStrictEqual(model.getLineContent(9), '    ]');\n\n\t\t\tmoveTo(editor, viewModel, 10, 18, false);\n\t\t\tassertCursor(viewModel, new Selection(10, 18, 10, 18));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(11), '    ]');\n\t\t});\n\t});\n\n\ttest('issue #111128: Multicursor `Enter` issue with indentation', () => {\n\t\tconst model = createTextModel('    let a, b, c;', indentRulesLanguageId, { detectIndentation: false, insertSpaces: false, tabSize: 4 });\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 11, 1, 11),\n\t\t\t\tnew Selection(1, 14, 1, 14),\n\t\t\t]);\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), '    let a,\\n\\t b,\\n\\t c;');\n\t\t});\n\t});\n\n\ttest('issue #122714: tabSize=1 prevent typing a string matching decreaseIndentPattern in an empty file', () => {\n\t\tconst latextLanguageId = setupIndentRulesLanguage('latex', {\n\t\t\tincreaseIndentPattern: new RegExp('\\\\\\\\begin{(?!document)([^}]*)}(?!.*\\\\\\\\end{\\\\1})'),\n\t\t\tdecreaseIndentPattern: new RegExp('^\\\\s*\\\\\\\\end{(?!document)')\n\t\t});\n\t\tconst model = createTextModel(\n\t\t\t'\\\\end',\n\t\t\tlatextLanguageId,\n\t\t\t{ tabSize: 1 }\n\t\t);\n\n\t\twithTestCodeEditor(model, { autoIndent: 'full' }, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 5, false);\n\t\t\tassertCursor(viewModel, new Selection(1, 5, 1, 5));\n\n\t\t\tviewModel.type('{', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '\\\\end{}');\n\t\t});\n\t});\n\n\ttest('ElectricCharacter - does nothing if no electric char', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'  if (a) {',\n\t\t\t\t''\n\t\t\t],\n\t\t\tlanguageId: electricCharLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 1);\n\t\t\tviewModel.type('*', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(2), '*');\n\t\t});\n\t});\n\n\ttest('ElectricCharacter - indents in order to match bracket', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'  if (a) {',\n\t\t\t\t''\n\t\t\t],\n\t\t\tlanguageId: electricCharLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 1);\n\t\t\tviewModel.type('}', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(2), '  }');\n\t\t});\n\t});\n\n\ttest('ElectricCharacter - unindents in order to match bracket', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'  if (a) {',\n\t\t\t\t'    '\n\t\t\t],\n\t\t\tlanguageId: electricCharLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 5);\n\t\t\tviewModel.type('}', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(2), '  }');\n\t\t});\n\t});\n\n\ttest('ElectricCharacter - matches with correct bracket', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'  if (a) {',\n\t\t\t\t'    if (b) {',\n\t\t\t\t'    }',\n\t\t\t\t'    '\n\t\t\t],\n\t\t\tlanguageId: electricCharLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 4, 1);\n\t\t\tviewModel.type('}', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(4), '  }    ');\n\t\t});\n\t});\n\n\ttest('ElectricCharacter - does nothing if bracket does not match', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'  if (a) {',\n\t\t\t\t'    if (b) {',\n\t\t\t\t'    }',\n\t\t\t\t'  }  '\n\t\t\t],\n\t\t\tlanguageId: electricCharLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 4, 6);\n\t\t\tviewModel.type('}', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(4), '  }  }');\n\t\t});\n\t});\n\n\ttest('ElectricCharacter - matches bracket even in line with content', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'  if (a) {',\n\t\t\t\t'// hello'\n\t\t\t],\n\t\t\tlanguageId: electricCharLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 1);\n\t\t\tviewModel.type('}', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(2), '  }// hello');\n\t\t});\n\t});\n\n\ttest('ElectricCharacter - is no-op if bracket is lined up', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'  if (a) {',\n\t\t\t\t'  '\n\t\t\t],\n\t\t\tlanguageId: electricCharLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 3);\n\t\t\tviewModel.type('}', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(2), '  }');\n\t\t});\n\t});\n\n\ttest('ElectricCharacter - is no-op if there is non-whitespace text before', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'  if (a) {',\n\t\t\t\t'a'\n\t\t\t],\n\t\t\tlanguageId: electricCharLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 2);\n\t\t\tviewModel.type('}', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(2), 'a}');\n\t\t});\n\t});\n\n\ttest('ElectricCharacter - is no-op if pairs are all matched before', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'foo(() => {',\n\t\t\t\t'  ( 1 + 2 ) ',\n\t\t\t\t'})'\n\t\t\t],\n\t\t\tlanguageId: electricCharLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 13);\n\t\t\tviewModel.type('*', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(2), '  ( 1 + 2 ) *');\n\t\t});\n\t});\n\n\ttest('ElectricCharacter - is no-op if matching bracket is on the same line', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'(div',\n\t\t\t],\n\t\t\tlanguageId: electricCharLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 5);\n\t\t\tlet changeText: string | null = null;\n\t\t\tconst disposable = model.onDidChangeContent(e => {\n\t\t\t\tchangeText = e.changes[0].text;\n\t\t\t});\n\t\t\tviewModel.type(')', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(1), '(div)');\n\t\t\tassert.deepStrictEqual(changeText, ')');\n\t\t\tdisposable.dispose();\n\t\t});\n\t});\n\n\ttest('ElectricCharacter - is no-op if the line has other content', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'Math.max(',\n\t\t\t\t'\\t2',\n\t\t\t\t'\\t3'\n\t\t\t],\n\t\t\tlanguageId: electricCharLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 3);\n\t\t\tviewModel.type(')', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(3), '\\t3)');\n\t\t});\n\t});\n\n\ttest('ElectricCharacter - appends text', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'  if (a) {',\n\t\t\t\t'/*'\n\t\t\t],\n\t\t\tlanguageId: electricCharLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 3);\n\t\t\tviewModel.type('*', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(2), '/** */');\n\t\t});\n\t});\n\n\ttest('ElectricCharacter - appends text 2', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'  if (a) {',\n\t\t\t\t'  /*'\n\t\t\t],\n\t\t\tlanguageId: electricCharLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 5);\n\t\t\tviewModel.type('*', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(2), '  /** */');\n\t\t});\n\t});\n\n\ttest('ElectricCharacter - issue #23711: Replacing selected text with )]} fails to delete old text with backwards-dragged selection', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'{',\n\t\t\t\t'word'\n\t\t\t],\n\t\t\tlanguageId: electricCharLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 5);\n\t\t\tmoveTo(editor, viewModel, 2, 1, true);\n\t\t\tviewModel.type('}', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(2), '}');\n\t\t});\n\t});\n\n\ttest('issue #61070: backtick (`) should auto-close after a word character', () => {\n\t\tusingCursor({\n\t\t\ttext: ['const markup = highlight'],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmodel.tokenization.forceTokenization(1);\n\t\t\tassertType(editor, model, viewModel, 1, 25, '`', '``', `auto closes \\` @ (1, 25)`);\n\t\t});\n\t});\n\n\ttest('issue #132912: quotes should not auto-close if they are closing a string', () => {\n\t\tsetupAutoClosingLanguageTokenization();\n\t\tconst model = createTextModel('const t2 = `something ${t1}', autoClosingLanguageId);\n\t\twithTestCodeEditor(\n\t\t\tmodel,\n\t\t\t{},\n\t\t\t(editor, viewModel) => {\n\t\t\t\tconst model = viewModel.model;\n\t\t\t\tmodel.tokenization.forceTokenization(1);\n\t\t\t\tassertType(editor, model, viewModel, 1, 28, '`', '`', `does not auto close \\` @ (1, 28)`);\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('autoClosingPairs - open parens: default', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'var a = [];',\n\t\t\t\t'var b = `asd`;',\n\t\t\t\t'var c = \\'asd\\';',\n\t\t\t\t'var d = \"asd\";',\n\t\t\t\t'var e = /*3*/\t3;',\n\t\t\t\t'var f = /** 3 */3;',\n\t\t\t\t'var g = (3+5);',\n\t\t\t\t'var h = { a: \\'value\\' };',\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tconst autoClosePositions = [\n\t\t\t\t'var| a| |=| [|]|;|',\n\t\t\t\t'var| b| |=| |`asd|`|;|',\n\t\t\t\t'var| c| |=| |\\'asd|\\'|;|',\n\t\t\t\t'var| d| |=| |\"asd|\"|;|',\n\t\t\t\t'var| e| |=| /*3*/|\t3|;|',\n\t\t\t\t'var| f| |=| /**| 3| */3|;|',\n\t\t\t\t'var| g| |=| (3+5|)|;|',\n\t\t\t\t'var| h| |=| {| a|:| |\\'value|\\'| |}|;|',\n\t\t\t];\n\t\t\tfor (let i = 0, len = autoClosePositions.length; i < len; i++) {\n\t\t\t\tconst lineNumber = i + 1;\n\t\t\t\tconst autoCloseColumns = extractAutoClosingSpecialColumns(model.getLineMaxColumn(lineNumber), autoClosePositions[i]);\n\n\t\t\t\tfor (let column = 1; column < autoCloseColumns.length; column++) {\n\t\t\t\t\tmodel.tokenization.forceTokenization(lineNumber);\n\t\t\t\t\tif (autoCloseColumns[column] === AutoClosingColumnType.Special1) {\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '(', '()', `auto closes @ (${lineNumber}, ${column})`);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '(', '(', `does not auto close @ (${lineNumber}, ${column})`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\ttest('autoClosingPairs - open parens: whitespace', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'var a = [];',\n\t\t\t\t'var b = `asd`;',\n\t\t\t\t'var c = \\'asd\\';',\n\t\t\t\t'var d = \"asd\";',\n\t\t\t\t'var e = /*3*/\t3;',\n\t\t\t\t'var f = /** 3 */3;',\n\t\t\t\t'var g = (3+5);',\n\t\t\t\t'var h = { a: \\'value\\' };',\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId,\n\t\t\teditorOpts: {\n\t\t\t\tautoClosingBrackets: 'beforeWhitespace'\n\t\t\t}\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tconst autoClosePositions = [\n\t\t\t\t'var| a| =| [|];|',\n\t\t\t\t'var| b| =| `asd`;|',\n\t\t\t\t'var| c| =| \\'asd\\';|',\n\t\t\t\t'var| d| =| \"asd\";|',\n\t\t\t\t'var| e| =| /*3*/|\t3;|',\n\t\t\t\t'var| f| =| /**| 3| */3;|',\n\t\t\t\t'var| g| =| (3+5|);|',\n\t\t\t\t'var| h| =| {| a:| \\'value\\'| |};|',\n\t\t\t];\n\t\t\tfor (let i = 0, len = autoClosePositions.length; i < len; i++) {\n\t\t\t\tconst lineNumber = i + 1;\n\t\t\t\tconst autoCloseColumns = extractAutoClosingSpecialColumns(model.getLineMaxColumn(lineNumber), autoClosePositions[i]);\n\n\t\t\t\tfor (let column = 1; column < autoCloseColumns.length; column++) {\n\t\t\t\t\tmodel.tokenization.forceTokenization(lineNumber);\n\t\t\t\t\tif (autoCloseColumns[column] === AutoClosingColumnType.Special1) {\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '(', '()', `auto closes @ (${lineNumber}, ${column})`);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '(', '(', `does not auto close @ (${lineNumber}, ${column})`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\ttest('autoClosingPairs - open parens disabled/enabled open quotes enabled/disabled', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'var a = [];',\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId,\n\t\t\teditorOpts: {\n\t\t\t\tautoClosingBrackets: 'beforeWhitespace',\n\t\t\t\tautoClosingQuotes: 'never'\n\t\t\t}\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tconst autoClosePositions = [\n\t\t\t\t'var| a| =| [|];|',\n\t\t\t];\n\t\t\tfor (let i = 0, len = autoClosePositions.length; i < len; i++) {\n\t\t\t\tconst lineNumber = i + 1;\n\t\t\t\tconst autoCloseColumns = extractAutoClosingSpecialColumns(model.getLineMaxColumn(lineNumber), autoClosePositions[i]);\n\n\t\t\t\tfor (let column = 1; column < autoCloseColumns.length; column++) {\n\t\t\t\t\tmodel.tokenization.forceTokenization(lineNumber);\n\t\t\t\t\tif (autoCloseColumns[column] === AutoClosingColumnType.Special1) {\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '(', '()', `auto closes @ (${lineNumber}, ${column})`);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '(', '(', `does not auto close @ (${lineNumber}, ${column})`);\n\t\t\t\t\t}\n\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '\\'', '\\'', `does not auto close @ (${lineNumber}, ${column})`);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'var b = [];',\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId,\n\t\t\teditorOpts: {\n\t\t\t\tautoClosingBrackets: 'never',\n\t\t\t\tautoClosingQuotes: 'beforeWhitespace'\n\t\t\t}\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tconst autoClosePositions = [\n\t\t\t\t'var b =| [|];|',\n\t\t\t];\n\t\t\tfor (let i = 0, len = autoClosePositions.length; i < len; i++) {\n\t\t\t\tconst lineNumber = i + 1;\n\t\t\t\tconst autoCloseColumns = extractAutoClosingSpecialColumns(model.getLineMaxColumn(lineNumber), autoClosePositions[i]);\n\n\t\t\t\tfor (let column = 1; column < autoCloseColumns.length; column++) {\n\t\t\t\t\tmodel.tokenization.forceTokenization(lineNumber);\n\t\t\t\t\tif (autoCloseColumns[column] === AutoClosingColumnType.Special1) {\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '\\'', '\\'\\'', `auto closes @ (${lineNumber}, ${column})`);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '\\'', '\\'', `does not auto close @ (${lineNumber}, ${column})`);\n\t\t\t\t\t}\n\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '(', '(', `does not auto close @ (${lineNumber}, ${column})`);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\ttest('autoClosingPairs - configurable open parens', () => {\n\t\tsetAutoClosingLanguageEnabledSet('abc');\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'var a = [];',\n\t\t\t\t'var b = `asd`;',\n\t\t\t\t'var c = \\'asd\\';',\n\t\t\t\t'var d = \"asd\";',\n\t\t\t\t'var e = /*3*/\t3;',\n\t\t\t\t'var f = /** 3 */3;',\n\t\t\t\t'var g = (3+5);',\n\t\t\t\t'var h = { a: \\'value\\' };',\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId,\n\t\t\teditorOpts: {\n\t\t\t\tautoClosingBrackets: 'languageDefined'\n\t\t\t}\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tconst autoClosePositions = [\n\t\t\t\t'v|ar |a = [|];|',\n\t\t\t\t'v|ar |b = `|asd`;|',\n\t\t\t\t'v|ar |c = \\'|asd\\';|',\n\t\t\t\t'v|ar d = \"|asd\";|',\n\t\t\t\t'v|ar e = /*3*/\t3;|',\n\t\t\t\t'v|ar f = /** 3| */3;|',\n\t\t\t\t'v|ar g = (3+5|);|',\n\t\t\t\t'v|ar h = { |a: \\'v|alue\\' |};|',\n\t\t\t];\n\t\t\tfor (let i = 0, len = autoClosePositions.length; i < len; i++) {\n\t\t\t\tconst lineNumber = i + 1;\n\t\t\t\tconst autoCloseColumns = extractAutoClosingSpecialColumns(model.getLineMaxColumn(lineNumber), autoClosePositions[i]);\n\n\t\t\t\tfor (let column = 1; column < autoCloseColumns.length; column++) {\n\t\t\t\t\tmodel.tokenization.forceTokenization(lineNumber);\n\t\t\t\t\tif (autoCloseColumns[column] === AutoClosingColumnType.Special1) {\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '(', '()', `auto closes @ (${lineNumber}, ${column})`);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '(', '(', `does not auto close @ (${lineNumber}, ${column})`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\ttest('autoClosingPairs - auto-pairing can be disabled', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'var a = [];',\n\t\t\t\t'var b = `asd`;',\n\t\t\t\t'var c = \\'asd\\';',\n\t\t\t\t'var d = \"asd\";',\n\t\t\t\t'var e = /*3*/\t3;',\n\t\t\t\t'var f = /** 3 */3;',\n\t\t\t\t'var g = (3+5);',\n\t\t\t\t'var h = { a: \\'value\\' };',\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId,\n\t\t\teditorOpts: {\n\t\t\t\tautoClosingBrackets: 'never',\n\t\t\t\tautoClosingQuotes: 'never'\n\t\t\t}\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tconst autoClosePositions = [\n\t\t\t\t'var a = [];',\n\t\t\t\t'var b = `asd`;',\n\t\t\t\t'var c = \\'asd\\';',\n\t\t\t\t'var d = \"asd\";',\n\t\t\t\t'var e = /*3*/\t3;',\n\t\t\t\t'var f = /** 3 */3;',\n\t\t\t\t'var g = (3+5);',\n\t\t\t\t'var h = { a: \\'value\\' };',\n\t\t\t];\n\t\t\tfor (let i = 0, len = autoClosePositions.length; i < len; i++) {\n\t\t\t\tconst lineNumber = i + 1;\n\t\t\t\tconst autoCloseColumns = extractAutoClosingSpecialColumns(model.getLineMaxColumn(lineNumber), autoClosePositions[i]);\n\n\t\t\t\tfor (let column = 1; column < autoCloseColumns.length; column++) {\n\t\t\t\t\tmodel.tokenization.forceTokenization(lineNumber);\n\t\t\t\t\tif (autoCloseColumns[column] === AutoClosingColumnType.Special1) {\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '(', '()', `auto closes @ (${lineNumber}, ${column})`);\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '\"', '\"\"', `auto closes @ (${lineNumber}, ${column})`);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '(', '(', `does not auto close @ (${lineNumber}, ${column})`);\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '\"', '\"', `does not auto close @ (${lineNumber}, ${column})`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\ttest('autoClosingPairs - auto wrapping is configurable', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'var a = asd'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tviewModel.setSelections('test', [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(1, 9, 1, 12),\n\t\t\t]);\n\n\t\t\t// type a `\n\t\t\tviewModel.type('`', 'keyboard');\n\n\t\t\tassert.strictEqual(model.getValue(), '`var` a = `asd`');\n\n\t\t\t// type a (\n\t\t\tviewModel.type('(', 'keyboard');\n\n\t\t\tassert.strictEqual(model.getValue(), '`(var)` a = `(asd)`');\n\t\t});\n\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'var a = asd'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId,\n\t\t\teditorOpts: {\n\t\t\t\tautoSurround: 'never'\n\t\t\t}\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tviewModel.setSelections('test', [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t]);\n\n\t\t\t// type a `\n\t\t\tviewModel.type('`', 'keyboard');\n\n\t\t\tassert.strictEqual(model.getValue(), '` a = asd');\n\t\t});\n\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'var a = asd'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId,\n\t\t\teditorOpts: {\n\t\t\t\tautoSurround: 'quotes'\n\t\t\t}\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tviewModel.setSelections('test', [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t]);\n\n\t\t\t// type a `\n\t\t\tviewModel.type('`', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), '`var` a = asd');\n\n\t\t\t// type a (\n\t\t\tviewModel.type('(', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), '`(` a = asd');\n\t\t});\n\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'var a = asd'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId,\n\t\t\teditorOpts: {\n\t\t\t\tautoSurround: 'brackets'\n\t\t\t}\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tviewModel.setSelections('test', [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t]);\n\n\t\t\t// type a (\n\t\t\tviewModel.type('(', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), '(var) a = asd');\n\n\t\t\t// type a `\n\t\t\tviewModel.type('`', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), '(`) a = asd');\n\t\t});\n\t});\n\n\ttest('autoClosingPairs - quote', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'var a = [];',\n\t\t\t\t'var b = `asd`;',\n\t\t\t\t'var c = \\'asd\\';',\n\t\t\t\t'var d = \"asd\";',\n\t\t\t\t'var e = /*3*/\t3;',\n\t\t\t\t'var f = /** 3 */3;',\n\t\t\t\t'var g = (3+5);',\n\t\t\t\t'var h = { a: \\'value\\' };',\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tconst autoClosePositions = [\n\t\t\t\t'var a |=| [|]|;|',\n\t\t\t\t'var b |=| `asd`|;|',\n\t\t\t\t'var c |=| \\'asd\\'|;|',\n\t\t\t\t'var d |=| \"asd\"|;|',\n\t\t\t\t'var e |=| /*3*/|\t3;|',\n\t\t\t\t'var f |=| /**| 3 */3;|',\n\t\t\t\t'var g |=| (3+5)|;|',\n\t\t\t\t'var h |=| {| a:| \\'value\\'| |}|;|',\n\t\t\t];\n\t\t\tfor (let i = 0, len = autoClosePositions.length; i < len; i++) {\n\t\t\t\tconst lineNumber = i + 1;\n\t\t\t\tconst autoCloseColumns = extractAutoClosingSpecialColumns(model.getLineMaxColumn(lineNumber), autoClosePositions[i]);\n\n\t\t\t\tfor (let column = 1; column < autoCloseColumns.length; column++) {\n\t\t\t\t\tmodel.tokenization.forceTokenization(lineNumber);\n\t\t\t\t\tif (autoCloseColumns[column] === AutoClosingColumnType.Special1) {\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '\\'', '\\'\\'', `auto closes @ (${lineNumber}, ${column})`);\n\t\t\t\t\t} else if (autoCloseColumns[column] === AutoClosingColumnType.Special2) {\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '\\'', '', `over types @ (${lineNumber}, ${column})`);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '\\'', '\\'', `does not auto close @ (${lineNumber}, ${column})`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\ttest('autoClosingPairs - multi-character autoclose', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'',\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tmodel.setValue('begi');\n\t\t\tviewModel.setSelections('test', [new Selection(1, 5, 1, 5)]);\n\t\t\tviewModel.type('n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'beginend');\n\n\t\t\tmodel.setValue('/*');\n\t\t\tviewModel.setSelections('test', [new Selection(1, 3, 1, 3)]);\n\t\t\tviewModel.type('*', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '/** */');\n\t\t});\n\t});\n\n\ttest('autoClosingPairs - doc comments can be turned off', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'',\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId,\n\t\t\teditorOpts: {\n\t\t\t\tautoClosingComments: 'never'\n\t\t\t}\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tmodel.setValue('/*');\n\t\t\tviewModel.setSelections('test', [new Selection(1, 3, 1, 3)]);\n\t\t\tviewModel.type('*', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '/**');\n\t\t});\n\t});\n\n\ttest('issue #72177: multi-character autoclose with conflicting patterns', () => {\n\t\tconst languageId = 'autoClosingModeMultiChar';\n\n\t\tdisposables.add(languageService.registerLanguage({ id: languageId }));\n\t\tdisposables.add(languageConfigurationService.register(languageId, {\n\t\t\tautoClosingPairs: [\n\t\t\t\t{ open: '(', close: ')' },\n\t\t\t\t{ open: '(*', close: '*)' },\n\t\t\t\t{ open: '<@', close: '@>' },\n\t\t\t\t{ open: '<@@', close: '@@>' },\n\t\t\t],\n\t\t}));\n\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'',\n\t\t\t],\n\t\t\tlanguageId: languageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tviewModel.type('(', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '()');\n\t\t\tviewModel.type('*', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '(**)', `doesn't add entire close when already closed substring is there`);\n\n\t\t\tmodel.setValue('(');\n\t\t\tviewModel.setSelections('test', [new Selection(1, 2, 1, 2)]);\n\t\t\tviewModel.type('*', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '(**)', `does add entire close if not already there`);\n\n\t\t\tmodel.setValue('');\n\t\t\tviewModel.type('<@', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '<@@>');\n\t\t\tviewModel.type('@', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '<@@@@>', `autocloses when before multi-character closing brace`);\n\t\t\tviewModel.type('(', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '<@@()@@>', `autocloses when before multi-character closing brace`);\n\t\t});\n\t});\n\n\ttest('issue #55314: Do not auto-close when ending with open', () => {\n\t\tconst languageId = 'myElectricMode';\n\n\t\tdisposables.add(languageService.registerLanguage({ id: languageId }));\n\t\tdisposables.add(languageConfigurationService.register(languageId, {\n\t\t\tautoClosingPairs: [\n\t\t\t\t{ open: '{', close: '}' },\n\t\t\t\t{ open: '[', close: ']' },\n\t\t\t\t{ open: '(', close: ')' },\n\t\t\t\t{ open: '\\'', close: '\\'', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: '\\\"', close: '\\\"', notIn: ['string'] },\n\t\t\t\t{ open: 'B\\\"', close: '\\\"', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: '`', close: '`', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: '/**', close: ' */', notIn: ['string'] }\n\t\t\t],\n\t\t}));\n\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'little goat',\n\t\t\t\t'little LAMB',\n\t\t\t\t'little sheep',\n\t\t\t\t'Big LAMB'\n\t\t\t],\n\t\t\tlanguageId: languageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\tassertType(editor, model, viewModel, 1, 4, '\"', '\"', `does not double quote when ending with open`);\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\tassertType(editor, model, viewModel, 2, 4, '\"', '\"', `does not double quote when ending with open`);\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\tassertType(editor, model, viewModel, 3, 4, '\"', '\"', `does not double quote when ending with open`);\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\tassertType(editor, model, viewModel, 4, 2, '\"', '\"', `does not double quote when ending with open`);\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\tassertType(editor, model, viewModel, 4, 3, '\"', '\"', `does not double quote when ending with open`);\n\t\t});\n\t});\n\n\ttest('issue #27937: Trying to add an item to the front of a list is cumbersome', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'var arr = [\"b\", \"c\"];'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tassertType(editor, model, viewModel, 1, 12, '\"', '\"', `does not over type and will not auto close`);\n\t\t});\n\t});\n\n\ttest('issue #25658 - Do not auto-close single/double quotes after word characters', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'',\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tfunction typeCharacters(viewModel: ViewModel, chars: string): void {\n\t\t\t\tfor (let i = 0, len = chars.length; i < len; i++) {\n\t\t\t\t\tviewModel.type(chars[i], 'keyboard');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// First gif\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\ttypeCharacters(viewModel, 'teste1 = teste\\' ok');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'teste1 = teste\\' ok');\n\n\t\t\tviewModel.setSelections('test', [new Selection(1, 1000, 1, 1000)]);\n\t\t\ttypeCharacters(viewModel, '\\n');\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\ttypeCharacters(viewModel, 'teste2 = teste \\'ok');\n\t\t\tassert.strictEqual(model.getLineContent(2), 'teste2 = teste \\'ok\\'');\n\n\t\t\tviewModel.setSelections('test', [new Selection(2, 1000, 2, 1000)]);\n\t\t\ttypeCharacters(viewModel, '\\n');\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\ttypeCharacters(viewModel, 'teste3 = teste\" ok');\n\t\t\tassert.strictEqual(model.getLineContent(3), 'teste3 = teste\" ok');\n\n\t\t\tviewModel.setSelections('test', [new Selection(3, 1000, 3, 1000)]);\n\t\t\ttypeCharacters(viewModel, '\\n');\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\ttypeCharacters(viewModel, 'teste4 = teste \"ok');\n\t\t\tassert.strictEqual(model.getLineContent(4), 'teste4 = teste \"ok\"');\n\n\t\t\t// Second gif\n\t\t\tviewModel.setSelections('test', [new Selection(4, 1000, 4, 1000)]);\n\t\t\ttypeCharacters(viewModel, '\\n');\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\ttypeCharacters(viewModel, 'teste \\'');\n\t\t\tassert.strictEqual(model.getLineContent(5), 'teste \\'\\'');\n\n\t\t\tviewModel.setSelections('test', [new Selection(5, 1000, 5, 1000)]);\n\t\t\ttypeCharacters(viewModel, '\\n');\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\ttypeCharacters(viewModel, 'teste \"');\n\t\t\tassert.strictEqual(model.getLineContent(6), 'teste \"\"');\n\n\t\t\tviewModel.setSelections('test', [new Selection(6, 1000, 6, 1000)]);\n\t\t\ttypeCharacters(viewModel, '\\n');\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\ttypeCharacters(viewModel, 'teste\\'');\n\t\t\tassert.strictEqual(model.getLineContent(7), 'teste\\'');\n\n\t\t\tviewModel.setSelections('test', [new Selection(7, 1000, 7, 1000)]);\n\t\t\ttypeCharacters(viewModel, '\\n');\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\ttypeCharacters(viewModel, 'teste\"');\n\t\t\tassert.strictEqual(model.getLineContent(8), 'teste\"');\n\t\t});\n\t});\n\n\ttest('issue #37315 - overtypes only those characters that it inserted', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'',\n\t\t\t\t'y=();'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\n\t\t\tviewModel.type('x=(', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=()');\n\n\t\t\tviewModel.type('asd', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=(asd)');\n\n\t\t\t// overtype!\n\t\t\tviewModel.type(')', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=(asd)');\n\n\t\t\t// do not overtype!\n\t\t\tviewModel.setSelections('test', [new Selection(2, 4, 2, 4)]);\n\t\t\tviewModel.type(')', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(2), 'y=());');\n\n\t\t});\n\t});\n\n\ttest('issue #37315 - stops overtyping once cursor leaves area', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'',\n\t\t\t\t'y=();'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\n\t\t\tviewModel.type('x=(', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=()');\n\n\t\t\tviewModel.setSelections('test', [new Selection(1, 5, 1, 5)]);\n\t\t\tviewModel.type(')', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=())');\n\t\t});\n\t});\n\n\ttest('issue #37315 - it overtypes only once', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'',\n\t\t\t\t'y=();'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\n\t\t\tviewModel.type('x=(', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=()');\n\n\t\t\tviewModel.type(')', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=()');\n\n\t\t\tviewModel.setSelections('test', [new Selection(1, 4, 1, 4)]);\n\t\t\tviewModel.type(')', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=())');\n\t\t});\n\t});\n\n\ttest('issue #37315 - it can remember multiple auto-closed instances', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'',\n\t\t\t\t'y=();'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\n\t\t\tviewModel.type('x=(', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=()');\n\n\t\t\tviewModel.type('(', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=(())');\n\n\t\t\tviewModel.type(')', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=(())');\n\n\t\t\tviewModel.type(')', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=(())');\n\t\t});\n\t});\n\n\ttest('issue #118270 - auto closing deletes only those characters that it inserted', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'',\n\t\t\t\t'y=();'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\n\t\t\tviewModel.type('x=(', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=()');\n\n\t\t\tviewModel.type('asd', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=(asd)');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=()');\n\n\t\t\t// delete closing char!\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=');\n\n\t\t\t// do not delete closing char!\n\t\t\tviewModel.setSelections('test', [new Selection(2, 4, 2, 4)]);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'y=);');\n\n\t\t});\n\t});\n\n\ttest('issue #78527 - does not close quote on odd count', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'std::cout << \\'\"\\' << entryMap'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 29, 1, 29)]);\n\n\t\t\tviewModel.type('[', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'std::cout << \\'\"\\' << entryMap[]');\n\n\t\t\tviewModel.type('\"', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'std::cout << \\'\"\\' << entryMap[\"\"]');\n\n\t\t\tviewModel.type('a', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'std::cout << \\'\"\\' << entryMap[\"a\"]');\n\n\t\t\tviewModel.type('\"', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'std::cout << \\'\"\\' << entryMap[\"a\"]');\n\n\t\t\tviewModel.type(']', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'std::cout << \\'\"\\' << entryMap[\"a\"]');\n\t\t});\n\t});\n\n\ttest('issue #85983 - editor.autoClosingBrackets: beforeWhitespace is incorrect for Python', () => {\n\t\tconst languageId = 'pythonMode';\n\n\t\tdisposables.add(languageService.registerLanguage({ id: languageId }));\n\t\tdisposables.add(languageConfigurationService.register(languageId, {\n\t\t\tautoClosingPairs: [\n\t\t\t\t{ open: '{', close: '}' },\n\t\t\t\t{ open: '[', close: ']' },\n\t\t\t\t{ open: '(', close: ')' },\n\t\t\t\t{ open: '\\\"', close: '\\\"', notIn: ['string'] },\n\t\t\t\t{ open: 'r\\\"', close: '\\\"', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: 'R\\\"', close: '\\\"', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: 'u\\\"', close: '\\\"', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: 'U\\\"', close: '\\\"', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: 'f\\\"', close: '\\\"', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: 'F\\\"', close: '\\\"', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: 'b\\\"', close: '\\\"', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: 'B\\\"', close: '\\\"', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: '\\'', close: '\\'', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: 'r\\'', close: '\\'', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: 'R\\'', close: '\\'', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: 'u\\'', close: '\\'', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: 'U\\'', close: '\\'', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: 'f\\'', close: '\\'', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: 'F\\'', close: '\\'', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: 'b\\'', close: '\\'', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: 'B\\'', close: '\\'', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: '`', close: '`', notIn: ['string'] }\n\t\t\t],\n\t\t}));\n\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'foo\\'hello\\''\n\t\t\t],\n\t\t\teditorOpts: {\n\t\t\t\tautoClosingBrackets: 'beforeWhitespace'\n\t\t\t},\n\t\t\tlanguageId: languageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tassertType(editor, model, viewModel, 1, 4, '(', '(', `does not auto close @ (1, 4)`);\n\t\t});\n\t});\n\n\ttest('issue #78975 - Parentheses swallowing does not work when parentheses are inserted by autocomplete', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'<div id'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 8, 1, 8)]);\n\n\t\t\tviewModel.executeEdits('snippet', [{ range: new Range(1, 6, 1, 8), text: 'id=\"\"' }], () => [new Selection(1, 10, 1, 10)], EditSources.unknown({}));\n\t\t\tassert.strictEqual(model.getLineContent(1), '<div id=\"\"');\n\n\t\t\tviewModel.type('a', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '<div id=\"a\"');\n\n\t\t\tviewModel.type('\"', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '<div id=\"a\"');\n\t\t});\n\t});\n\n\ttest('issue #78833 - Add config to use old brackets/quotes overtyping', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'',\n\t\t\t\t'y=();'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId,\n\t\t\teditorOpts: {\n\t\t\t\tautoClosingOvertype: 'always'\n\t\t\t}\n\t\t}, (editor, model, viewModel) => {\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\n\t\t\tviewModel.type('x=(', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=()');\n\n\t\t\tviewModel.type(')', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=()');\n\n\t\t\tviewModel.setSelections('test', [new Selection(1, 4, 1, 4)]);\n\t\t\tviewModel.type(')', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=()');\n\n\t\t\tviewModel.setSelections('test', [new Selection(2, 4, 2, 4)]);\n\t\t\tviewModel.type(')', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(2), 'y=();');\n\t\t});\n\t});\n\n\ttest('issue #15825: accents on mac US intl keyboard', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\n\t\t\t// Typing ` + e on the mac US intl kb layout\n\t\t\tviewModel.startComposition();\n\t\t\tviewModel.type('`', 'keyboard');\n\t\t\tviewModel.compositionType('', 1, 0, 0, 'keyboard');\n\t\t\tviewModel.endComposition('keyboard');\n\n\t\t\tassert.strictEqual(model.getValue(), '');\n\t\t});\n\t});\n\n\ttest('issue #90016: allow accents on mac US intl keyboard to surround selection', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'test'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 1, 1, 5)]);\n\n\t\t\t// Typing ` + e on the mac US intl kb layout\n\t\t\tviewModel.startComposition();\n\t\t\tviewModel.type('\\'', 'keyboard');\n\t\t\tviewModel.compositionType('\\'', 1, 0, 0, 'keyboard');\n\t\t\tviewModel.compositionType('\\'', 1, 0, 0, 'keyboard');\n\t\t\tviewModel.endComposition('keyboard');\n\n\t\t\tassert.strictEqual(model.getValue(), '\\'test\\'');\n\t\t});\n\t});\n\n\ttest('issue #53357: Over typing ignores characters after backslash', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'console.log();'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tviewModel.setSelections('test', [new Selection(1, 13, 1, 13)]);\n\n\t\t\tviewModel.type('\\'', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), 'console.log(\\'\\');');\n\n\t\t\tviewModel.type('it', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), 'console.log(\\'it\\');');\n\n\t\t\tviewModel.type('\\\\', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), 'console.log(\\'it\\\\\\');');\n\n\t\t\tviewModel.type('\\'', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), 'console.log(\\'it\\\\\\'\\');');\n\t\t});\n\t});\n\n\ttest('issue #84998: Overtyping Brackets doesn\\'t work after backslash', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t''\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tviewModel.setSelections('test', [new Selection(1, 1, 1, 1)]);\n\n\t\t\tviewModel.type('\\\\', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), '\\\\');\n\n\t\t\tviewModel.type('(', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), '\\\\()');\n\n\t\t\tviewModel.type('abc', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), '\\\\(abc)');\n\n\t\t\tviewModel.type('\\\\', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), '\\\\(abc\\\\)');\n\n\t\t\tviewModel.type(')', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), '\\\\(abc\\\\)');\n\t\t});\n\t});\n\n\ttest('issue #2773: Accents (`^, others?) are inserted in the wrong position (Mac)', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'hello',\n\t\t\t\t'world'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\n\t\t\t// Typing ` and pressing shift+down on the mac US intl kb layout\n\t\t\t// Here we're just replaying what the cursor gets\n\t\t\tviewModel.startComposition();\n\t\t\tviewModel.type('`', 'keyboard');\n\t\t\tmoveDown(editor, viewModel, true);\n\t\t\tviewModel.compositionType('`', 1, 0, 0, 'keyboard');\n\t\t\tviewModel.compositionType('`', 1, 0, 0, 'keyboard');\n\t\t\tviewModel.endComposition('keyboard');\n\n\t\t\tassert.strictEqual(model.getValue(), '`hello\\nworld');\n\t\t\tassertCursor(viewModel, new Selection(1, 2, 2, 2));\n\t\t});\n\t});\n\n\ttest('issue #26820: auto close quotes when not used as accents', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t''\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\n\t\t\t// on the mac US intl kb layout\n\n\t\t\t// Typing ' + space\n\t\t\tviewModel.startComposition();\n\t\t\tviewModel.type('\\'', 'keyboard');\n\t\t\tviewModel.compositionType('\\'', 1, 0, 0, 'keyboard');\n\t\t\tviewModel.endComposition('keyboard');\n\t\t\tassert.strictEqual(model.getValue(), '\\'\\'');\n\n\t\t\t// Typing one more ' + space\n\t\t\tviewModel.startComposition();\n\t\t\tviewModel.type('\\'', 'keyboard');\n\t\t\tviewModel.compositionType('\\'', 1, 0, 0, 'keyboard');\n\t\t\tviewModel.endComposition('keyboard');\n\t\t\tassert.strictEqual(model.getValue(), '\\'\\'');\n\n\t\t\t// Typing ' as a closing tag\n\t\t\tmodel.setValue('\\'abc');\n\t\t\tviewModel.setSelections('test', [new Selection(1, 5, 1, 5)]);\n\t\t\tviewModel.startComposition();\n\t\t\tviewModel.type('\\'', 'keyboard');\n\t\t\tviewModel.compositionType('\\'', 1, 0, 0, 'keyboard');\n\t\t\tviewModel.endComposition('keyboard');\n\n\t\t\tassert.strictEqual(model.getValue(), '\\'abc\\'');\n\n\t\t\t// quotes before the newly added character are all paired.\n\t\t\tmodel.setValue('\\'abc\\'def ');\n\t\t\tviewModel.setSelections('test', [new Selection(1, 10, 1, 10)]);\n\t\t\tviewModel.startComposition();\n\t\t\tviewModel.type('\\'', 'keyboard');\n\t\t\tviewModel.compositionType('\\'', 1, 0, 0, 'keyboard');\n\t\t\tviewModel.endComposition('keyboard');\n\n\t\t\tassert.strictEqual(model.getValue(), '\\'abc\\'def \\'\\'');\n\n\t\t\t// No auto closing if there is non-whitespace character after the cursor\n\t\t\tmodel.setValue('abc');\n\t\t\tviewModel.setSelections('test', [new Selection(1, 1, 1, 1)]);\n\t\t\tviewModel.startComposition();\n\t\t\tviewModel.type('\\'', 'keyboard');\n\t\t\tviewModel.compositionType('\\'', 1, 0, 0, 'keyboard');\n\t\t\tviewModel.endComposition('keyboard');\n\n\t\t\t// No auto closing if it's after a word.\n\t\t\tmodel.setValue('abc');\n\t\t\tviewModel.setSelections('test', [new Selection(1, 4, 1, 4)]);\n\t\t\tviewModel.startComposition();\n\t\t\tviewModel.type('\\'', 'keyboard');\n\t\t\tviewModel.compositionType('\\'', 1, 0, 0, 'keyboard');\n\t\t\tviewModel.endComposition('keyboard');\n\n\t\t\tassert.strictEqual(model.getValue(), 'abc\\'');\n\t\t});\n\t});\n\n\ttest('issue #144690: Quotes do not overtype when using US Intl PC keyboard layout', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t''\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\n\t\t\t// Pressing ' + ' + ;\n\n\t\t\tviewModel.startComposition();\n\t\t\tviewModel.type(`'`, 'keyboard');\n\t\t\tviewModel.compositionType(`'`, 1, 0, 0, 'keyboard');\n\t\t\tviewModel.compositionType(`'`, 1, 0, 0, 'keyboard');\n\t\t\tviewModel.endComposition('keyboard');\n\t\t\tviewModel.startComposition();\n\t\t\tviewModel.type(`'`, 'keyboard');\n\t\t\tviewModel.compositionType(`';`, 1, 0, 0, 'keyboard');\n\t\t\tviewModel.compositionType(`';`, 2, 0, 0, 'keyboard');\n\t\t\tviewModel.endComposition('keyboard');\n\n\t\t\tassert.strictEqual(model.getValue(), `'';`);\n\t\t});\n\t});\n\n\ttest('issue #144693: Typing a quote using US Intl PC keyboard layout always surrounds words', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'const hello = 3;'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 7, 1, 12)]);\n\n\t\t\t// Pressing ' + e\n\n\t\t\tviewModel.startComposition();\n\t\t\tviewModel.type(`'`, 'keyboard');\n\t\t\tviewModel.compositionType(``, 1, 0, 0, 'keyboard');\n\t\t\tviewModel.compositionType(``, 1, 0, 0, 'keyboard');\n\t\t\tviewModel.endComposition('keyboard');\n\n\t\t\tassert.strictEqual(model.getValue(), `const  = 3;`);\n\t\t});\n\t});\n\n\ttest('issue #82701: auto close does not execute when IME is canceled via backspace', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'{}'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 2, 1, 2)]);\n\n\t\t\t// Typing a + backspace\n\t\t\tviewModel.startComposition();\n\t\t\tviewModel.type('a', 'keyboard');\n\t\t\tviewModel.compositionType('', 1, 0, 0, 'keyboard');\n\t\t\tviewModel.endComposition('keyboard');\n\t\t\tassert.strictEqual(model.getValue(), '{}');\n\t\t});\n\t});\n\n\ttest('issue #20891: All cursors should do the same thing', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'var a = asd'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tviewModel.setSelections('test', [\n\t\t\t\tnew Selection(1, 9, 1, 9),\n\t\t\t\tnew Selection(1, 12, 1, 12),\n\t\t\t]);\n\n\t\t\t// type a `\n\t\t\tviewModel.type('`', 'keyboard');\n\n\t\t\tassert.strictEqual(model.getValue(), 'var a = `asd`');\n\t\t});\n\t});\n\n\ttest('issue #41825: Special handling of quotes in surrounding pairs', () => {\n\t\tconst languageId = 'myMode';\n\n\t\tdisposables.add(languageService.registerLanguage({ id: languageId }));\n\t\tdisposables.add(languageConfigurationService.register(languageId, {\n\t\t\tsurroundingPairs: [\n\t\t\t\t{ open: '\"', close: '\"' },\n\t\t\t\t{ open: '\\'', close: '\\'' },\n\t\t\t]\n\t\t}));\n\n\t\tconst model = createTextModel('var x = \\'hi\\';', languageId);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 9, 1, 10),\n\t\t\t\tnew Selection(1, 12, 1, 13)\n\t\t\t]);\n\t\t\tviewModel.type('\"', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), 'var x = \"hi\";', 'assert1');\n\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 9, 1, 10),\n\t\t\t\tnew Selection(1, 12, 1, 13)\n\t\t\t]);\n\t\t\tviewModel.type('\\'', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), 'var x = \\'hi\\';', 'assert2');\n\t\t});\n\t});\n\n\ttest('All cursors should do the same thing when deleting left', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'var a = ()'\n\t\t\t].join('\\n'),\n\t\t\tautoClosingLanguageId\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [\n\t\t\t\tnew Selection(1, 4, 1, 4),\n\t\t\t\tnew Selection(1, 10, 1, 10),\n\t\t\t]);\n\n\t\t\t// delete left\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\n\t\t\tassert.strictEqual(model.getValue(), 'va a = )');\n\t\t});\n\t});\n\n\ttest('issue #7100: Mouse word selection is strange when non-word character is at the end of line', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'before.a',\n\t\t\t\t'before',\n\t\t\t\t'hello:',\n\t\t\t\t'there:',\n\t\t\t\t'this is strange:',\n\t\t\t\t'here',\n\t\t\t\t'it',\n\t\t\t\t'is',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\teditor.runCommand(CoreNavigationCommands.WordSelect, {\n\t\t\t\tposition: new Position(3, 7)\n\t\t\t});\n\t\t\tassertCursor(viewModel, new Selection(3, 7, 3, 7));\n\n\t\t\teditor.runCommand(CoreNavigationCommands.WordSelectDrag, {\n\t\t\t\tposition: new Position(4, 7)\n\t\t\t});\n\t\t\tassertCursor(viewModel, new Selection(3, 7, 4, 7));\n\t\t});\n\t});\n\n\ttest('issue #112039: shift-continuing a double/triple-click and drag selection does not remember its starting mode', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'just some text',\n\t\t\t\t'and another line',\n\t\t\t\t'and another one',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\teditor.runCommand(CoreNavigationCommands.WordSelect, {\n\t\t\t\tposition: new Position(2, 6)\n\t\t\t});\n\t\t\teditor.runCommand(CoreNavigationCommands.MoveToSelect, {\n\t\t\t\tposition: new Position(1, 8),\n\t\t\t});\n\t\t\tassertCursor(viewModel, new Selection(2, 12, 1, 6));\n\t\t});\n\t});\n\n\ttest('issue #158236: Shift click selection does not work on line number indicator', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'just some text',\n\t\t\t\t'and another line',\n\t\t\t\t'and another one',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\teditor.runCommand(CoreNavigationCommands.MoveTo, {\n\t\t\t\tposition: new Position(3, 5)\n\t\t\t});\n\t\t\teditor.runCommand(CoreNavigationCommands.LineSelectDrag, {\n\t\t\t\tposition: new Position(2, 1)\n\t\t\t});\n\t\t\tassertCursor(viewModel, new Selection(3, 5, 2, 1));\n\t\t});\n\t});\n\n\ttest('issue #111513: Text gets automatically selected when typing at the same location in another editor', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'just',\n\t\t\t\t'',\n\t\t\t\t'some text',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor1, viewModel1) => {\n\t\t\teditor1.setSelections([\n\t\t\t\tnew Selection(2, 1, 2, 1)\n\t\t\t]);\n\t\t\twithTestCodeEditor(model, {}, (editor2, viewModel2) => {\n\t\t\t\teditor2.setSelections([\n\t\t\t\t\tnew Selection(2, 1, 2, 1)\n\t\t\t\t]);\n\t\t\t\tviewModel2.type('e', 'keyboard');\n\t\t\t\tassertCursor(viewModel2, new Position(2, 2));\n\t\t\t\tassertCursor(viewModel1, new Position(2, 2));\n\t\t\t});\n\t\t});\n\t});\n});\n\nsuite('Undo stops', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('there is an undo stop between typing and deleting left', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'A  line',\n\t\t\t\t'Another line',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 3, 1, 3)]);\n\t\t\tviewModel.type('first', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'A first line');\n\t\t\tassertCursor(viewModel, new Selection(1, 8, 1, 8));\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'A fir line');\n\t\t\tassertCursor(viewModel, new Selection(1, 6, 1, 6));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'A first line');\n\t\t\tassertCursor(viewModel, new Selection(1, 8, 1, 8));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'A  line');\n\t\t\tassertCursor(viewModel, new Selection(1, 3, 1, 3));\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('there is an undo stop between typing and deleting right', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'A  line',\n\t\t\t\t'Another line',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 3, 1, 3)]);\n\t\t\tviewModel.type('first', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'A first line');\n\t\t\tassertCursor(viewModel, new Selection(1, 8, 1, 8));\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteRight, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteRight, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'A firstine');\n\t\t\tassertCursor(viewModel, new Selection(1, 8, 1, 8));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'A first line');\n\t\t\tassertCursor(viewModel, new Selection(1, 8, 1, 8));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'A  line');\n\t\t\tassertCursor(viewModel, new Selection(1, 3, 1, 3));\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('there is an undo stop between deleting left and typing', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'A  line',\n\t\t\t\t'Another line',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(2, 8, 2, 8)]);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), ' line');\n\t\t\tassertCursor(viewModel, new Selection(2, 1, 2, 1));\n\n\t\t\tviewModel.type('Second', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(2), 'Second line');\n\t\t\tassertCursor(viewModel, new Selection(2, 7, 2, 7));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), ' line');\n\t\t\tassertCursor(viewModel, new Selection(2, 1, 2, 1));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'Another line');\n\t\t\tassertCursor(viewModel, new Selection(2, 8, 2, 8));\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('there is an undo stop between deleting left and deleting right', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'A  line',\n\t\t\t\t'Another line',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(2, 8, 2, 8)]);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), ' line');\n\t\t\tassertCursor(viewModel, new Selection(2, 1, 2, 1));\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteRight, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteRight, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteRight, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteRight, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteRight, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), '');\n\t\t\tassertCursor(viewModel, new Selection(2, 1, 2, 1));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), ' line');\n\t\t\tassertCursor(viewModel, new Selection(2, 1, 2, 1));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'Another line');\n\t\t\tassertCursor(viewModel, new Selection(2, 8, 2, 8));\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('there is an undo stop between deleting right and typing', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'A  line',\n\t\t\t\t'Another line',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(2, 9, 2, 9)]);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteRight, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteRight, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteRight, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteRight, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'Another ');\n\t\t\tassertCursor(viewModel, new Selection(2, 9, 2, 9));\n\n\t\t\tviewModel.type('text', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(2), 'Another text');\n\t\t\tassertCursor(viewModel, new Selection(2, 13, 2, 13));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'Another ');\n\t\t\tassertCursor(viewModel, new Selection(2, 9, 2, 9));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'Another line');\n\t\t\tassertCursor(viewModel, new Selection(2, 9, 2, 9));\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('there is an undo stop between deleting right and deleting left', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'A  line',\n\t\t\t\t'Another line',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(2, 9, 2, 9)]);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteRight, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteRight, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteRight, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteRight, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'Another ');\n\t\t\tassertCursor(viewModel, new Selection(2, 9, 2, 9));\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'An');\n\t\t\tassertCursor(viewModel, new Selection(2, 3, 2, 3));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'Another ');\n\t\t\tassertCursor(viewModel, new Selection(2, 9, 2, 9));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'Another line');\n\t\t\tassertCursor(viewModel, new Selection(2, 9, 2, 9));\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('inserts undo stop when typing space', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'A  line',\n\t\t\t\t'Another line',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 3, 1, 3)]);\n\t\t\tviewModel.type('first and interesting', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'A first and interesting line');\n\t\t\tassertCursor(viewModel, new Selection(1, 24, 1, 24));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'A first and line');\n\t\t\tassertCursor(viewModel, new Selection(1, 12, 1, 12));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'A first line');\n\t\t\tassertCursor(viewModel, new Selection(1, 8, 1, 8));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'A  line');\n\t\t\tassertCursor(viewModel, new Selection(1, 3, 1, 3));\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('can undo typing and EOL change in one undo stop', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'A  line',\n\t\t\t\t'Another line',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 3, 1, 3)]);\n\t\t\tviewModel.type('first', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), 'A first line\\nAnother line');\n\t\t\tassertCursor(viewModel, new Selection(1, 8, 1, 8));\n\n\t\t\tmodel.pushEOL(EndOfLineSequence.CRLF);\n\t\t\tassert.strictEqual(model.getValue(), 'A first line\\r\\nAnother line');\n\t\t\tassertCursor(viewModel, new Selection(1, 8, 1, 8));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(), 'A  line\\nAnother line');\n\t\t\tassertCursor(viewModel, new Selection(1, 3, 1, 3));\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('issue #93585: Undo multi cursor edit corrupts document', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'hello world',\n\t\t\t\t'hello world',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [\n\t\t\t\tnew Selection(2, 7, 2, 12),\n\t\t\t\tnew Selection(1, 7, 1, 12),\n\t\t\t]);\n\t\t\tviewModel.type('no', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), 'hello no\\nhello no');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(), 'hello world\\nhello world');\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('there is a single undo stop for consecutive whitespaces', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t''\n\t\t\t].join('\\n'),\n\t\t\tundefined,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.type('a', 'keyboard');\n\t\t\tviewModel.type('b', 'keyboard');\n\t\t\tviewModel.type(' ', 'keyboard');\n\t\t\tviewModel.type(' ', 'keyboard');\n\t\t\tviewModel.type('c', 'keyboard');\n\t\t\tviewModel.type('d', 'keyboard');\n\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), 'ab  cd', 'assert1');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), 'ab  ', 'assert2');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), 'ab', 'assert3');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '', 'assert4');\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('there is no undo stop after a single whitespace', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t''\n\t\t\t].join('\\n'),\n\t\t\tundefined,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.type('a', 'keyboard');\n\t\t\tviewModel.type('b', 'keyboard');\n\t\t\tviewModel.type(' ', 'keyboard');\n\t\t\tviewModel.type('c', 'keyboard');\n\t\t\tviewModel.type('d', 'keyboard');\n\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), 'ab cd', 'assert1');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), 'ab', 'assert3');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '', 'assert4');\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n});\n\nsuite('Overtype Mode', () => {\n\n\tsetup(() => {\n\t\tInputMode.setInputMode('overtype');\n\t});\n\n\tteardown(() => {\n\t\tInputMode.setInputMode('insert');\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('simple type', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'123456789',\n\t\t\t\t'123456789',\n\t\t\t].join('\\n'),\n\t\t\tundefined,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 3, 1, 3)]);\n\t\t\tviewModel.type('a', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), [\n\t\t\t\t'12a456789',\n\t\t\t\t'123456789',\n\t\t\t].join('\\n'), 'assert1');\n\n\t\t\tviewModel.setSelections('test', [new Selection(1, 9, 1, 9)]);\n\t\t\tviewModel.type('bbb', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), [\n\t\t\t\t'12a45678bbb',\n\t\t\t\t'123456789',\n\t\t\t].join('\\n'), 'assert2');\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('multi-line selection type', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'123456789',\n\t\t\t\t'123456789',\n\t\t\t].join('\\n'),\n\t\t\tundefined,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 5, 2, 3)]);\n\t\t\tviewModel.type('cc', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), [\n\t\t\t\t'1234cc456789',\n\t\t\t].join('\\n'), 'assert1');\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('simple paste', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'123456789',\n\t\t\t\t'123456789',\n\t\t\t].join('\\n'),\n\t\t\tundefined,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 5, 1, 5)]);\n\t\t\tviewModel.paste('cc', false);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), [\n\t\t\t\t'1234cc789',\n\t\t\t\t'123456789',\n\t\t\t].join('\\n'), 'assert1');\n\n\t\t\tviewModel.setSelections('test', [new Selection(1, 5, 1, 5)]);\n\t\t\tviewModel.paste('dddddddd', false);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), [\n\t\t\t\t'1234dddddddd',\n\t\t\t\t'123456789',\n\t\t\t].join('\\n'), 'assert2');\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('multi-line selection paste', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'123456789',\n\t\t\t\t'123456789',\n\t\t\t].join('\\n'),\n\t\t\tundefined,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 5, 2, 3)]);\n\t\t\tviewModel.paste('cc', false);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), [\n\t\t\t\t'1234cc456789',\n\t\t\t].join('\\n'), 'assert1');\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('paste multi-line text', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'123456789',\n\t\t\t\t'123456789',\n\t\t\t].join('\\n'),\n\t\t\tundefined,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 5, 1, 5)]);\n\t\t\tviewModel.paste([\n\t\t\t\t'aaaaaaa',\n\t\t\t\t'bbbbbbb'\n\t\t\t].join('\\n'), false);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), [\n\t\t\t\t'1234aaaaaaa',\n\t\t\t\t'bbbbbbb',\n\t\t\t\t'123456789',\n\t\t\t].join('\\n'), 'assert1');\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('composition type', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'123456789',\n\t\t\t\t'123456789',\n\t\t\t].join('\\n'),\n\t\t\tundefined,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 5, 1, 5)]);\n\t\t\tviewModel.startComposition();\n\t\t\tviewModel.compositionType('', 0, 0, 0, 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), [\n\t\t\t\t'123456789',\n\t\t\t\t'123456789',\n\t\t\t].join('\\n'), 'assert1');\n\n\t\t\tviewModel.endComposition('keyboard');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), [\n\t\t\t\t'12346789',\n\t\t\t\t'123456789',\n\t\t\t].join('\\n'), 'assert1');\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\nimport { CoreEditingCommands, CoreNavigationCommands } from '../../../browser/coreCommands.js';\nimport { IEditorOptions } from '../../../common/config/editorOptions.js';\nimport { EditOperation } from '../../../common/core/editOperation.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { ICursorPositionChangedEvent } from '../../../common/cursorEvents.js';\nimport { ICommand, ICursorStateComputerData, IEditOperationBuilder } from '../../../common/editorCommon.js';\nimport { MetadataConsts, StandardTokenType } from '../../../common/encodedTokenAttributes.js';\nimport { EncodedTokenizationResult, IState, ITokenizationSupport, TokenizationRegistry } from '../../../common/languages.js';\nimport { ILanguageService } from '../../../common/languages/language.js';\nimport { IndentAction, IndentationRule } from '../../../common/languages/languageConfiguration.js';\nimport { ILanguageConfigurationService } from '../../../common/languages/languageConfigurationRegistry.js';\nimport { NullState } from '../../../common/languages/nullTokenize.js';\nimport { EndOfLinePreference, EndOfLineSequence, ITextModel } from '../../../common/model.js';\nimport { TextModel } from '../../../common/model/textModel.js';\nimport { ViewModel } from '../../../common/viewModel/viewModelImpl.js';\nimport { OutgoingViewModelEventKind } from '../../../common/viewModelEventDispatcher.js';\nimport { ITestCodeEditor, TestCodeEditorInstantiationOptions, createCodeEditorServices, instantiateTestCodeEditor, withTestCodeEditor } from '../testCodeEditor.js';\nimport { IRelaxedTextModelCreationOptions, createTextModel, instantiateTextModel } from '../../common/testTextModel.js';\nimport { TestInstantiationService } from '../../../../platform/instantiation/test/common/instantiationServiceMock.js';\nimport { InputMode } from '../../../common/inputMode.js';\nimport { EditSources } from '../../../common/textModelEditSource.js';\n\n// --------- utils\n\nfunction moveTo(editor: ITestCodeEditor, viewModel: ViewModel, lineNumber: number, column: number, inSelectionMode: boolean = false) {\n\tif (inSelectionMode) {\n\t\tCoreNavigationCommands.MoveToSelect.runCoreEditorCommand(viewModel, {\n\t\t\tposition: new Position(lineNumber, column)\n\t\t});\n\t} else {\n\t\tCoreNavigationCommands.MoveTo.runCoreEditorCommand(viewModel, {\n\t\t\tposition: new Position(lineNumber, column)\n\t\t});\n\t}\n}\n\nfunction moveLeft(editor: ITestCodeEditor, viewModel: ViewModel, inSelectionMode: boolean = false) {\n\tif (inSelectionMode) {\n\t\tCoreNavigationCommands.CursorLeftSelect.runCoreEditorCommand(viewModel, {});\n\t} else {\n\t\tCoreNavigationCommands.CursorLeft.runCoreEditorCommand(viewModel, {});\n\t}\n}\n\nfunction moveRight(editor: ITestCodeEditor, viewModel: ViewModel, inSelectionMode: boolean = false) {\n\tif (inSelectionMode) {\n\t\tCoreNavigationCommands.CursorRightSelect.runCoreEditorCommand(viewModel, {});\n\t} else {\n\t\tCoreNavigationCommands.CursorRight.runCoreEditorCommand(viewModel, {});\n\t}\n}\n\nfunction moveDown(editor: ITestCodeEditor, viewModel: ViewModel, inSelectionMode: boolean = false) {\n\tif (inSelectionMode) {\n\t\tCoreNavigationCommands.CursorDownSelect.runCoreEditorCommand(viewModel, {});\n\t} else {\n\t\tCoreNavigationCommands.CursorDown.runCoreEditorCommand(viewModel, {});\n\t}\n}\n\nfunction moveUp(editor: ITestCodeEditor, viewModel: ViewModel, inSelectionMode: boolean = false) {\n\tif (inSelectionMode) {\n\t\tCoreNavigationCommands.CursorUpSelect.runCoreEditorCommand(viewModel, {});\n\t} else {\n\t\tCoreNavigationCommands.CursorUp.runCoreEditorCommand(viewModel, {});\n\t}\n}\n\nfunction moveToBeginningOfLine(editor: ITestCodeEditor, viewModel: ViewModel, inSelectionMode: boolean = false) {\n\tif (inSelectionMode) {\n\t\tCoreNavigationCommands.CursorHomeSelect.runCoreEditorCommand(viewModel, {});\n\t} else {\n\t\tCoreNavigationCommands.CursorHome.runCoreEditorCommand(viewModel, {});\n\t}\n}\n\nfunction moveToEndOfLine(editor: ITestCodeEditor, viewModel: ViewModel, inSelectionMode: boolean = false) {\n\tif (inSelectionMode) {\n\t\tCoreNavigationCommands.CursorEndSelect.runCoreEditorCommand(viewModel, {});\n\t} else {\n\t\tCoreNavigationCommands.CursorEnd.runCoreEditorCommand(viewModel, {});\n\t}\n}\n\nfunction moveToBeginningOfBuffer(editor: ITestCodeEditor, viewModel: ViewModel, inSelectionMode: boolean = false) {\n\tif (inSelectionMode) {\n\t\tCoreNavigationCommands.CursorTopSelect.runCoreEditorCommand(viewModel, {});\n\t} else {\n\t\tCoreNavigationCommands.CursorTop.runCoreEditorCommand(viewModel, {});\n\t}\n}\n\nfunction moveToEndOfBuffer(editor: ITestCodeEditor, viewModel: ViewModel, inSelectionMode: boolean = false) {\n\tif (inSelectionMode) {\n\t\tCoreNavigationCommands.CursorBottomSelect.runCoreEditorCommand(viewModel, {});\n\t} else {\n\t\tCoreNavigationCommands.CursorBottom.runCoreEditorCommand(viewModel, {});\n\t}\n}\n\nfunction assertCursor(viewModel: ViewModel, what: Position | Selection | Selection[]): void {\n\tlet selections: Selection[];\n\tif (what instanceof Position) {\n\t\tselections = [new Selection(what.lineNumber, what.column, what.lineNumber, what.column)];\n\t} else if (what instanceof Selection) {\n\t\tselections = [what];\n\t} else {\n\t\tselections = what;\n\t}\n\tconst actual = viewModel.getSelections().map(s => s.toString());\n\tconst expected = selections.map(s => s.toString());\n\n\tassert.deepStrictEqual(actual, expected);\n}\n\nsuite('Editor Controller - Cursor', () => {\n\tconst LINE1 = '    \\tMy First Line\\t ';\n\tconst LINE2 = '\\tMy Second Line';\n\tconst LINE3 = '    Third Line';\n\tconst LINE4 = '';\n\tconst LINE5 = '1';\n\n\tconst TEXT =\n\t\tLINE1 + '\\r\\n' +\n\t\tLINE2 + '\\n' +\n\t\tLINE3 + '\\n' +\n\t\tLINE4 + '\\r\\n' +\n\t\tLINE5;\n\n\tfunction runTest(callback: (editor: ITestCodeEditor, viewModel: ViewModel) => void): void {\n\t\twithTestCodeEditor(TEXT, {}, (editor, viewModel) => {\n\t\t\tcallback(editor, viewModel);\n\t\t});\n\t}\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('cursor initialized', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\t\t});\n\t});\n\n\t// --------- absolute move\n\n\ttest('no move', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 1);\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\t\t});\n\t});\n\n\ttest('move', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 2);\n\t\t\tassertCursor(viewModel, new Position(1, 2));\n\t\t});\n\t});\n\n\ttest('move in selection mode', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 2, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 1, 1, 2));\n\t\t});\n\t});\n\n\ttest('move beyond line end', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 25);\n\t\t\tassertCursor(viewModel, new Position(1, LINE1.length + 1));\n\t\t});\n\t});\n\n\ttest('move empty line', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 4, 20);\n\t\t\tassertCursor(viewModel, new Position(4, 1));\n\t\t});\n\t});\n\n\ttest('move one char line', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 5, 20);\n\t\t\tassertCursor(viewModel, new Position(5, 2));\n\t\t});\n\t});\n\n\ttest('selection down', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 1, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 1, 2, 1));\n\t\t});\n\t});\n\n\ttest('move and then select', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 3);\n\t\t\tassertCursor(viewModel, new Position(2, 3));\n\n\t\t\tmoveTo(editor, viewModel, 2, 15, true);\n\t\t\tassertCursor(viewModel, new Selection(2, 3, 2, 15));\n\n\t\t\tmoveTo(editor, viewModel, 1, 2, true);\n\t\t\tassertCursor(viewModel, new Selection(2, 3, 1, 2));\n\t\t});\n\t});\n\n\t// --------- move left\n\n\ttest('move left on top left position', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveLeft(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\t\t});\n\t});\n\n\ttest('move left', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 3);\n\t\t\tassertCursor(viewModel, new Position(1, 3));\n\t\t\tmoveLeft(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 2));\n\t\t});\n\t});\n\n\ttest('move left with surrogate pair', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 17);\n\t\t\tassertCursor(viewModel, new Position(3, 17));\n\t\t\tmoveLeft(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(3, 15));\n\t\t});\n\t});\n\n\ttest('move left goes to previous row', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 1);\n\t\t\tassertCursor(viewModel, new Position(2, 1));\n\t\t\tmoveLeft(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 21));\n\t\t});\n\t});\n\n\ttest('move left selection', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 1);\n\t\t\tassertCursor(viewModel, new Position(2, 1));\n\t\t\tmoveLeft(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(2, 1, 1, 21));\n\t\t});\n\t});\n\n\t// --------- move right\n\n\ttest('move right on bottom right position', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 5, 2);\n\t\t\tassertCursor(viewModel, new Position(5, 2));\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(5, 2));\n\t\t});\n\t});\n\n\ttest('move right', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 3);\n\t\t\tassertCursor(viewModel, new Position(1, 3));\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 4));\n\t\t});\n\t});\n\n\ttest('move right with surrogate pair', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 15);\n\t\t\tassertCursor(viewModel, new Position(3, 15));\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(3, 17));\n\t\t});\n\t});\n\n\ttest('move right goes to next row', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 21);\n\t\t\tassertCursor(viewModel, new Position(1, 21));\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(2, 1));\n\t\t});\n\t});\n\n\ttest('move right selection', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 21);\n\t\t\tassertCursor(viewModel, new Position(1, 21));\n\t\t\tmoveRight(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 21, 2, 1));\n\t\t});\n\t});\n\n\t// --------- move down\n\n\ttest('move down', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(2, 1));\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(3, 1));\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(4, 1));\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(5, 1));\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(5, 2));\n\t\t});\n\t});\n\n\ttest('move down with selection', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveDown(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 1, 2, 1));\n\t\t\tmoveDown(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 1, 3, 1));\n\t\t\tmoveDown(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 1, 4, 1));\n\t\t\tmoveDown(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 1, 5, 1));\n\t\t\tmoveDown(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 1, 5, 2));\n\t\t});\n\t});\n\n\ttest('move down with tabs', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 5);\n\t\t\tassertCursor(viewModel, new Position(1, 5));\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(2, 2));\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(3, 5));\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(4, 1));\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(5, 2));\n\t\t});\n\t});\n\n\t// --------- move up\n\n\ttest('move up', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 5);\n\t\t\tassertCursor(viewModel, new Position(3, 5));\n\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(2, 2));\n\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 5));\n\t\t});\n\t});\n\n\ttest('move up with selection', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 5);\n\t\t\tassertCursor(viewModel, new Position(3, 5));\n\n\t\t\tmoveUp(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(3, 5, 2, 2));\n\n\t\t\tmoveUp(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(3, 5, 1, 5));\n\t\t});\n\t});\n\n\ttest('move up and down with tabs', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 5);\n\t\t\tassertCursor(viewModel, new Position(1, 5));\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(5, 2));\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(4, 1));\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(3, 5));\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(2, 2));\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 5));\n\t\t});\n\t});\n\n\ttest('move up and down with end of lines starting from a long one', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveToEndOfLine(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, LINE1.length + 1));\n\t\t\tmoveToEndOfLine(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, LINE1.length + 1));\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(2, LINE2.length + 1));\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(3, LINE3.length + 1));\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(4, LINE4.length + 1));\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(5, LINE5.length + 1));\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, LINE1.length + 1));\n\t\t});\n\t});\n\n\ttest('issue #44465: cursor position not correct when move', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 5, 1, 5)]);\n\t\t\t// going once up on the first line remembers the offset visual columns\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(2, 2));\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 5));\n\n\t\t\t// going twice up on the first line discards the offset visual columns\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(2, 1));\n\t\t});\n\t});\n\n\ttest('issue #144041: Cursor up/down works', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'Word1 Word2 Word3 Word4',\n\t\t\t\t'Word5 Word6 Word7 Word8',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, { wrappingIndent: 'indent', wordWrap: 'wordWrapColumn', wordWrapColumn: 20 }, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 1, 1, 1)]);\n\n\t\t\tconst cursorPositions: any[] = [];\n\t\t\tfunction reportCursorPosition() {\n\t\t\t\tcursorPositions.push(viewModel.getCursorStates()[0].viewState.position.toString());\n\t\t\t}\n\n\t\t\treportCursorPosition();\n\t\t\teditor.runCommand(CoreNavigationCommands.CursorDown, null);\n\t\t\treportCursorPosition();\n\t\t\teditor.runCommand(CoreNavigationCommands.CursorDown, null);\n\t\t\treportCursorPosition();\n\t\t\teditor.runCommand(CoreNavigationCommands.CursorDown, null);\n\t\t\treportCursorPosition();\n\t\t\teditor.runCommand(CoreNavigationCommands.CursorDown, null);\n\n\t\t\treportCursorPosition();\n\t\t\teditor.runCommand(CoreNavigationCommands.CursorUp, null);\n\t\t\treportCursorPosition();\n\t\t\teditor.runCommand(CoreNavigationCommands.CursorUp, null);\n\t\t\treportCursorPosition();\n\t\t\teditor.runCommand(CoreNavigationCommands.CursorUp, null);\n\t\t\treportCursorPosition();\n\t\t\teditor.runCommand(CoreNavigationCommands.CursorUp, null);\n\t\t\treportCursorPosition();\n\n\t\t\tassert.deepStrictEqual(cursorPositions, [\n\t\t\t\t'(1,1)',\n\t\t\t\t'(2,5)',\n\t\t\t\t'(3,1)',\n\t\t\t\t'(4,5)',\n\t\t\t\t'(4,10)',\n\t\t\t\t'(3,1)',\n\t\t\t\t'(2,5)',\n\t\t\t\t'(1,1)',\n\t\t\t\t'(1,1)',\n\t\t\t]);\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('issue #140195: Cursor up/down makes progress', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'Word1 Word2 Word3 Word4',\n\t\t\t\t'Word5 Word6 Word7 Word8',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, { wrappingIndent: 'indent', wordWrap: 'wordWrapColumn', wordWrapColumn: 20 }, (editor, viewModel) => {\n\t\t\teditor.changeDecorations((changeAccessor) => {\n\t\t\t\tchangeAccessor.deltaDecorations([], [\n\t\t\t\t\t{\n\t\t\t\t\t\trange: new Range(1, 22, 1, 22),\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\tshowIfCollapsed: true,\n\t\t\t\t\t\t\tdescription: 'test',\n\t\t\t\t\t\t\tafter: {\n\t\t\t\t\t\t\t\tcontent: 'some very very very very very very very very long text',\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]);\n\t\t\t});\n\t\t\tviewModel.setSelections('test', [new Selection(1, 1, 1, 1)]);\n\n\t\t\tconst cursorPositions: any[] = [];\n\t\t\tfunction reportCursorPosition() {\n\t\t\t\tcursorPositions.push(viewModel.getCursorStates()[0].viewState.position.toString());\n\t\t\t}\n\n\t\t\treportCursorPosition();\n\t\t\teditor.runCommand(CoreNavigationCommands.CursorDown, null);\n\t\t\treportCursorPosition();\n\t\t\teditor.runCommand(CoreNavigationCommands.CursorDown, null);\n\t\t\treportCursorPosition();\n\t\t\teditor.runCommand(CoreNavigationCommands.CursorDown, null);\n\t\t\treportCursorPosition();\n\t\t\teditor.runCommand(CoreNavigationCommands.CursorDown, null);\n\n\t\t\treportCursorPosition();\n\t\t\teditor.runCommand(CoreNavigationCommands.CursorUp, null);\n\t\t\treportCursorPosition();\n\t\t\teditor.runCommand(CoreNavigationCommands.CursorUp, null);\n\t\t\treportCursorPosition();\n\t\t\teditor.runCommand(CoreNavigationCommands.CursorUp, null);\n\t\t\treportCursorPosition();\n\t\t\teditor.runCommand(CoreNavigationCommands.CursorUp, null);\n\t\t\treportCursorPosition();\n\n\t\t\tassert.deepStrictEqual(cursorPositions, [\n\t\t\t\t'(1,1)',\n\t\t\t\t'(2,5)',\n\t\t\t\t'(5,19)',\n\t\t\t\t'(6,1)',\n\t\t\t\t'(7,5)',\n\t\t\t\t'(6,1)',\n\t\t\t\t'(2,8)',\n\t\t\t\t'(1,1)',\n\t\t\t\t'(1,1)',\n\t\t\t]);\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\t// --------- move to beginning of line\n\n\ttest('move to beginning of line', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveToBeginningOfLine(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 6));\n\t\t\tmoveToBeginningOfLine(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\t\t});\n\t});\n\n\ttest('move to beginning of line from within line', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 8);\n\t\t\tmoveToBeginningOfLine(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 6));\n\t\t\tmoveToBeginningOfLine(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\t\t});\n\t});\n\n\ttest('move to beginning of line from whitespace at beginning of line', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 2);\n\t\t\tmoveToBeginningOfLine(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 6));\n\t\t\tmoveToBeginningOfLine(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\t\t});\n\t});\n\n\ttest('move to beginning of line from within line selection', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 8);\n\t\t\tmoveToBeginningOfLine(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 8, 1, 6));\n\t\t\tmoveToBeginningOfLine(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 8, 1, 1));\n\t\t});\n\t});\n\n\ttest('move to beginning of line with selection multiline forward', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 8);\n\t\t\tmoveTo(editor, viewModel, 3, 9, true);\n\t\t\tmoveToBeginningOfLine(editor, viewModel, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 5, 3, 5));\n\t\t});\n\t});\n\n\ttest('move to beginning of line with selection multiline backward', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 9);\n\t\t\tmoveTo(editor, viewModel, 1, 8, true);\n\t\t\tmoveToBeginningOfLine(editor, viewModel, false);\n\t\t\tassertCursor(viewModel, new Selection(1, 6, 1, 6));\n\t\t});\n\t});\n\n\ttest('move to beginning of line with selection single line forward', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 2);\n\t\t\tmoveTo(editor, viewModel, 3, 9, true);\n\t\t\tmoveToBeginningOfLine(editor, viewModel, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 5, 3, 5));\n\t\t});\n\t});\n\n\ttest('move to beginning of line with selection single line backward', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 9);\n\t\t\tmoveTo(editor, viewModel, 3, 2, true);\n\t\t\tmoveToBeginningOfLine(editor, viewModel, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 5, 3, 5));\n\t\t});\n\t});\n\n\ttest('issue #15401: \"End\" key is behaving weird when text is selected part 1', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 8);\n\t\t\tmoveTo(editor, viewModel, 3, 9, true);\n\t\t\tmoveToBeginningOfLine(editor, viewModel, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 5, 3, 5));\n\t\t});\n\t});\n\n\ttest('issue #17011: Shift+home/end now go to the end of the selection start\\'s line, not the selection\\'s end', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 8);\n\t\t\tmoveTo(editor, viewModel, 3, 9, true);\n\t\t\tmoveToBeginningOfLine(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 8, 3, 5));\n\t\t});\n\t});\n\n\t// --------- move to end of line\n\n\ttest('move to end of line', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveToEndOfLine(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, LINE1.length + 1));\n\t\t\tmoveToEndOfLine(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, LINE1.length + 1));\n\t\t});\n\t});\n\n\ttest('move to end of line from within line', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 6);\n\t\t\tmoveToEndOfLine(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, LINE1.length + 1));\n\t\t\tmoveToEndOfLine(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, LINE1.length + 1));\n\t\t});\n\t});\n\n\ttest('move to end of line from whitespace at end of line', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 20);\n\t\t\tmoveToEndOfLine(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, LINE1.length + 1));\n\t\t\tmoveToEndOfLine(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, LINE1.length + 1));\n\t\t});\n\t});\n\n\ttest('move to end of line from within line selection', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 6);\n\t\t\tmoveToEndOfLine(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 6, 1, LINE1.length + 1));\n\t\t\tmoveToEndOfLine(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 6, 1, LINE1.length + 1));\n\t\t});\n\t});\n\n\ttest('move to end of line with selection multiline forward', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 1);\n\t\t\tmoveTo(editor, viewModel, 3, 9, true);\n\t\t\tmoveToEndOfLine(editor, viewModel, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 17, 3, 17));\n\t\t});\n\t});\n\n\ttest('move to end of line with selection multiline backward', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 9);\n\t\t\tmoveTo(editor, viewModel, 1, 1, true);\n\t\t\tmoveToEndOfLine(editor, viewModel, false);\n\t\t\tassertCursor(viewModel, new Selection(1, 21, 1, 21));\n\t\t});\n\t});\n\n\ttest('move to end of line with selection single line forward', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 1);\n\t\t\tmoveTo(editor, viewModel, 3, 9, true);\n\t\t\tmoveToEndOfLine(editor, viewModel, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 17, 3, 17));\n\t\t});\n\t});\n\n\ttest('move to end of line with selection single line backward', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 9);\n\t\t\tmoveTo(editor, viewModel, 3, 1, true);\n\t\t\tmoveToEndOfLine(editor, viewModel, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 17, 3, 17));\n\t\t});\n\t});\n\n\ttest('issue #15401: \"End\" key is behaving weird when text is selected part 2', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 1);\n\t\t\tmoveTo(editor, viewModel, 3, 9, true);\n\t\t\tmoveToEndOfLine(editor, viewModel, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 17, 3, 17));\n\t\t});\n\t});\n\n\t// --------- move to beginning of buffer\n\n\ttest('move to beginning of buffer', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveToBeginningOfBuffer(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\t\t});\n\t});\n\n\ttest('move to beginning of buffer from within first line', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 3);\n\t\t\tmoveToBeginningOfBuffer(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\t\t});\n\t});\n\n\ttest('move to beginning of buffer from within another line', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 3);\n\t\t\tmoveToBeginningOfBuffer(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\t\t});\n\t});\n\n\ttest('move to beginning of buffer from within first line selection', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 3);\n\t\t\tmoveToBeginningOfBuffer(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 3, 1, 1));\n\t\t});\n\t});\n\n\ttest('move to beginning of buffer from within another line selection', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 3);\n\t\t\tmoveToBeginningOfBuffer(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(3, 3, 1, 1));\n\t\t});\n\t});\n\n\t// --------- move to end of buffer\n\n\ttest('move to end of buffer', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveToEndOfBuffer(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(5, LINE5.length + 1));\n\t\t});\n\t});\n\n\ttest('move to end of buffer from within last line', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 5, 1);\n\t\t\tmoveToEndOfBuffer(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(5, LINE5.length + 1));\n\t\t});\n\t});\n\n\ttest('move to end of buffer from within another line', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 3);\n\t\t\tmoveToEndOfBuffer(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(5, LINE5.length + 1));\n\t\t});\n\t});\n\n\ttest('move to end of buffer from within last line selection', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 5, 1);\n\t\t\tmoveToEndOfBuffer(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(5, 1, 5, LINE5.length + 1));\n\t\t});\n\t});\n\n\ttest('move to end of buffer from within another line selection', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 3);\n\t\t\tmoveToEndOfBuffer(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, new Selection(3, 3, 5, LINE5.length + 1));\n\t\t});\n\t});\n\n\t// --------- misc\n\n\ttest('select all', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tCoreNavigationCommands.SelectAll.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, new Selection(1, 1, 5, LINE5.length + 1));\n\t\t});\n\t});\n\n\t// --------- eventing\n\n\ttest('no move doesn\\'t trigger event', () => {\n\n\t\trunTest((editor, viewModel) => {\n\t\t\tconst disposable = viewModel.onEvent((e) => {\n\t\t\t\tassert.ok(false, 'was not expecting event');\n\t\t\t});\n\t\t\tmoveTo(editor, viewModel, 1, 1);\n\t\t\tdisposable.dispose();\n\t\t});\n\t});\n\n\ttest('move eventing', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tlet events = 0;\n\t\t\tconst disposable = viewModel.onEvent((e) => {\n\t\t\t\tif (e.kind === OutgoingViewModelEventKind.CursorStateChanged) {\n\t\t\t\t\tevents++;\n\t\t\t\t\tassert.deepStrictEqual(e.selections, [new Selection(1, 2, 1, 2)]);\n\t\t\t\t}\n\t\t\t});\n\t\t\tmoveTo(editor, viewModel, 1, 2);\n\t\t\tassert.strictEqual(events, 1, 'receives 1 event');\n\t\t\tdisposable.dispose();\n\t\t});\n\t});\n\n\ttest('move in selection mode eventing', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tlet events = 0;\n\t\t\tconst disposable = viewModel.onEvent((e) => {\n\t\t\t\tif (e.kind === OutgoingViewModelEventKind.CursorStateChanged) {\n\t\t\t\t\tevents++;\n\t\t\t\t\tassert.deepStrictEqual(e.selections, [new Selection(1, 1, 1, 2)]);\n\t\t\t\t}\n\t\t\t});\n\t\t\tmoveTo(editor, viewModel, 1, 2, true);\n\t\t\tassert.strictEqual(events, 1, 'receives 1 event');\n\t\t\tdisposable.dispose();\n\t\t});\n\t});\n\n\t// --------- state save & restore\n\n\ttest('saveState & restoreState', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 1, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 1, 2, 1));\n\n\t\t\tconst savedState = JSON.stringify(viewModel.saveCursorState());\n\n\t\t\tmoveTo(editor, viewModel, 1, 1, false);\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\n\t\t\tviewModel.restoreCursorState(JSON.parse(savedState));\n\t\t\tassertCursor(viewModel, new Selection(1, 1, 2, 1));\n\t\t});\n\t});\n\n\t// --------- updating cursor\n\n\ttest('Independent model edit 1', () => {\n\t\trunTest((editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 16, true);\n\n\t\t\teditor.getModel().applyEdits([EditOperation.delete(new Range(2, 1, 2, 2))]);\n\t\t\tassertCursor(viewModel, new Selection(1, 1, 2, 15));\n\t\t});\n\t});\n\n\ttest('column select 1', () => {\n\t\twithTestCodeEditor([\n\t\t\t'\\tprivate compute(a:number): boolean {',\n\t\t\t'\\t\\tif (a + 3 === 0 || a + 5 === 0) {',\n\t\t\t'\\t\\t\\treturn false;',\n\t\t\t'\\t\\t}',\n\t\t\t'\\t}'\n\t\t], {}, (editor, viewModel) => {\n\n\t\t\tmoveTo(editor, viewModel, 1, 7, false);\n\t\t\tassertCursor(viewModel, new Position(1, 7));\n\n\t\t\tCoreNavigationCommands.ColumnSelect.runCoreEditorCommand(viewModel, {\n\t\t\t\tposition: new Position(4, 4),\n\t\t\t\tviewPosition: new Position(4, 4),\n\t\t\t\tmouseColumn: 15,\n\t\t\t\tdoColumnSelect: true\n\t\t\t});\n\n\t\t\tconst expectedSelections = [\n\t\t\t\tnew Selection(1, 7, 1, 12),\n\t\t\t\tnew Selection(2, 4, 2, 9),\n\t\t\t\tnew Selection(3, 3, 3, 6),\n\t\t\t\tnew Selection(4, 4, 4, 4),\n\t\t\t];\n\n\t\t\tassertCursor(viewModel, expectedSelections);\n\n\t\t});\n\t});\n\n\ttest('grapheme breaking', () => {\n\t\twithTestCodeEditor([\n\t\t\t'abcabc',\n\t\t\t'aaaaaa',\n\t\t\t'',\n\t\t\t'',\n\t\t], {}, (editor, viewModel) => {\n\n\t\t\tviewModel.setSelections('test', [new Selection(2, 1, 2, 1)]);\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(2, 3));\n\t\t\tmoveLeft(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(2, 1));\n\n\t\t\tviewModel.setSelections('test', [new Selection(3, 1, 3, 1)]);\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(3, 4));\n\t\t\tmoveLeft(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(3, 1));\n\n\t\t\tviewModel.setSelections('test', [new Selection(4, 1, 4, 1)]);\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(4, 3));\n\t\t\tmoveLeft(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(4, 1));\n\n\t\t\tviewModel.setSelections('test', [new Selection(1, 3, 1, 3)]);\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(2, 5));\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(3, 4));\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(2, 5));\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Position(1, 3));\n\n\t\t});\n\t});\n\n\ttest('issue #4905 - column select is biased to the right', () => {\n\t\twithTestCodeEditor([\n\t\t\t'var gulp = require(\"gulp\");',\n\t\t\t'var path = require(\"path\");',\n\t\t\t'var rimraf = require(\"rimraf\");',\n\t\t\t'var isarray = require(\"isarray\");',\n\t\t\t'var merge = require(\"merge-stream\");',\n\t\t\t'var concat = require(\"gulp-concat\");',\n\t\t\t'var newer = require(\"gulp-newer\");',\n\t\t].join('\\n'), {}, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 4, false);\n\t\t\tassertCursor(viewModel, new Position(1, 4));\n\n\t\t\tCoreNavigationCommands.ColumnSelect.runCoreEditorCommand(viewModel, {\n\t\t\t\tposition: new Position(4, 1),\n\t\t\t\tviewPosition: new Position(4, 1),\n\t\t\t\tmouseColumn: 1,\n\t\t\t\tdoColumnSelect: true\n\t\t\t});\n\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 1),\n\t\t\t\tnew Selection(2, 4, 2, 1),\n\t\t\t\tnew Selection(3, 4, 3, 1),\n\t\t\t\tnew Selection(4, 4, 4, 1),\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('issue #20087: column select with mouse', () => {\n\t\twithTestCodeEditor([\n\t\t\t'<property id=\"SomeThing\" key=\"SomeKey\" value=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" key=\"SomeKey\" value=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" Key=\"SomeKey\" value=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" key=\"SomeKey\" value=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" key=\"SoMEKEy\" value=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" key=\"SomeKey\" value=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" key=\"SomeKey\" value=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" key=\"SomeKey\" valuE=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" key=\"SomeKey\" value=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" key=\"SomeKey\" value=\"00X\"/>',\n\t\t].join('\\n'), {}, (editor, viewModel) => {\n\n\t\t\tmoveTo(editor, viewModel, 10, 10, false);\n\t\t\tassertCursor(viewModel, new Position(10, 10));\n\n\t\t\tCoreNavigationCommands.ColumnSelect.runCoreEditorCommand(viewModel, {\n\t\t\t\tposition: new Position(1, 1),\n\t\t\t\tviewPosition: new Position(1, 1),\n\t\t\t\tmouseColumn: 1,\n\t\t\t\tdoColumnSelect: true\n\t\t\t});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(10, 10, 10, 1),\n\t\t\t\tnew Selection(9, 10, 9, 1),\n\t\t\t\tnew Selection(8, 10, 8, 1),\n\t\t\t\tnew Selection(7, 10, 7, 1),\n\t\t\t\tnew Selection(6, 10, 6, 1),\n\t\t\t\tnew Selection(5, 10, 5, 1),\n\t\t\t\tnew Selection(4, 10, 4, 1),\n\t\t\t\tnew Selection(3, 10, 3, 1),\n\t\t\t\tnew Selection(2, 10, 2, 1),\n\t\t\t\tnew Selection(1, 10, 1, 1),\n\t\t\t]);\n\n\t\t\tCoreNavigationCommands.ColumnSelect.runCoreEditorCommand(viewModel, {\n\t\t\t\tposition: new Position(1, 1),\n\t\t\t\tviewPosition: new Position(1, 1),\n\t\t\t\tmouseColumn: 1,\n\t\t\t\tdoColumnSelect: true\n\t\t\t});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(10, 10, 10, 1),\n\t\t\t\tnew Selection(9, 10, 9, 1),\n\t\t\t\tnew Selection(8, 10, 8, 1),\n\t\t\t\tnew Selection(7, 10, 7, 1),\n\t\t\t\tnew Selection(6, 10, 6, 1),\n\t\t\t\tnew Selection(5, 10, 5, 1),\n\t\t\t\tnew Selection(4, 10, 4, 1),\n\t\t\t\tnew Selection(3, 10, 3, 1),\n\t\t\t\tnew Selection(2, 10, 2, 1),\n\t\t\t\tnew Selection(1, 10, 1, 1),\n\t\t\t]);\n\n\t\t});\n\t});\n\n\ttest('issue #20087: column select with keyboard', () => {\n\t\twithTestCodeEditor([\n\t\t\t'<property id=\"SomeThing\" key=\"SomeKey\" value=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" key=\"SomeKey\" value=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" Key=\"SomeKey\" value=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" key=\"SomeKey\" value=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" key=\"SoMEKEy\" value=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" key=\"SomeKey\" value=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" key=\"SomeKey\" value=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" key=\"SomeKey\" valuE=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" key=\"SomeKey\" value=\"000\"/>',\n\t\t\t'<property id=\"SomeThing\" key=\"SomeKey\" value=\"00X\"/>',\n\t\t].join('\\n'), {}, (editor, viewModel) => {\n\n\t\t\tmoveTo(editor, viewModel, 10, 10, false);\n\t\t\tassertCursor(viewModel, new Position(10, 10));\n\n\t\t\tCoreNavigationCommands.CursorColumnSelectLeft.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(10, 10, 10, 9)\n\t\t\t]);\n\n\t\t\tCoreNavigationCommands.CursorColumnSelectLeft.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(10, 10, 10, 8)\n\t\t\t]);\n\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(10, 10, 10, 9)\n\t\t\t]);\n\n\t\t\tCoreNavigationCommands.CursorColumnSelectUp.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(10, 10, 10, 9),\n\t\t\t\tnew Selection(9, 10, 9, 9),\n\t\t\t]);\n\n\t\t\tCoreNavigationCommands.CursorColumnSelectDown.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(10, 10, 10, 9)\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('issue #118062: Column selection cannot select first position of a line', () => {\n\t\twithTestCodeEditor([\n\t\t\t'hello world',\n\t\t].join('\\n'), {}, (editor, viewModel) => {\n\n\t\t\tmoveTo(editor, viewModel, 1, 2, false);\n\t\t\tassertCursor(viewModel, new Position(1, 2));\n\n\t\t\tCoreNavigationCommands.CursorColumnSelectLeft.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 2, 1, 1)\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('column select with keyboard', () => {\n\t\twithTestCodeEditor([\n\t\t\t'var gulp = require(\"gulp\");',\n\t\t\t'var path = require(\"path\");',\n\t\t\t'var rimraf = require(\"rimraf\");',\n\t\t\t'var isarray = require(\"isarray\");',\n\t\t\t'var merge = require(\"merge-stream\");',\n\t\t\t'var concat = require(\"gulp-concat\");',\n\t\t\t'var newer = require(\"gulp-newer\");',\n\t\t].join('\\n'), {}, (editor, viewModel) => {\n\n\t\t\tmoveTo(editor, viewModel, 1, 4, false);\n\t\t\tassertCursor(viewModel, new Position(1, 4));\n\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 5)\n\t\t\t]);\n\n\t\t\tCoreNavigationCommands.CursorColumnSelectDown.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 5),\n\t\t\t\tnew Selection(2, 4, 2, 5)\n\t\t\t]);\n\n\t\t\tCoreNavigationCommands.CursorColumnSelectDown.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 5),\n\t\t\t\tnew Selection(2, 4, 2, 5),\n\t\t\t\tnew Selection(3, 4, 3, 5),\n\t\t\t]);\n\n\t\t\tCoreNavigationCommands.CursorColumnSelectDown.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectDown.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectDown.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectDown.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 5),\n\t\t\t\tnew Selection(2, 4, 2, 5),\n\t\t\t\tnew Selection(3, 4, 3, 5),\n\t\t\t\tnew Selection(4, 4, 4, 5),\n\t\t\t\tnew Selection(5, 4, 5, 5),\n\t\t\t\tnew Selection(6, 4, 6, 5),\n\t\t\t\tnew Selection(7, 4, 7, 5),\n\t\t\t]);\n\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 6),\n\t\t\t\tnew Selection(2, 4, 2, 6),\n\t\t\t\tnew Selection(3, 4, 3, 6),\n\t\t\t\tnew Selection(4, 4, 4, 6),\n\t\t\t\tnew Selection(5, 4, 5, 6),\n\t\t\t\tnew Selection(6, 4, 6, 6),\n\t\t\t\tnew Selection(7, 4, 7, 6),\n\t\t\t]);\n\n\t\t\t// 10 times\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 16),\n\t\t\t\tnew Selection(2, 4, 2, 16),\n\t\t\t\tnew Selection(3, 4, 3, 16),\n\t\t\t\tnew Selection(4, 4, 4, 16),\n\t\t\t\tnew Selection(5, 4, 5, 16),\n\t\t\t\tnew Selection(6, 4, 6, 16),\n\t\t\t\tnew Selection(7, 4, 7, 16),\n\t\t\t]);\n\n\t\t\t// 10 times\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 26),\n\t\t\t\tnew Selection(2, 4, 2, 26),\n\t\t\t\tnew Selection(3, 4, 3, 26),\n\t\t\t\tnew Selection(4, 4, 4, 26),\n\t\t\t\tnew Selection(5, 4, 5, 26),\n\t\t\t\tnew Selection(6, 4, 6, 26),\n\t\t\t\tnew Selection(7, 4, 7, 26),\n\t\t\t]);\n\n\t\t\t// 2 times => reaching the ending of lines 1 and 2\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 28),\n\t\t\t\tnew Selection(2, 4, 2, 28),\n\t\t\t\tnew Selection(3, 4, 3, 28),\n\t\t\t\tnew Selection(4, 4, 4, 28),\n\t\t\t\tnew Selection(5, 4, 5, 28),\n\t\t\t\tnew Selection(6, 4, 6, 28),\n\t\t\t\tnew Selection(7, 4, 7, 28),\n\t\t\t]);\n\n\t\t\t// 4 times => reaching the ending of line 3\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 28),\n\t\t\t\tnew Selection(2, 4, 2, 28),\n\t\t\t\tnew Selection(3, 4, 3, 32),\n\t\t\t\tnew Selection(4, 4, 4, 32),\n\t\t\t\tnew Selection(5, 4, 5, 32),\n\t\t\t\tnew Selection(6, 4, 6, 32),\n\t\t\t\tnew Selection(7, 4, 7, 32),\n\t\t\t]);\n\n\t\t\t// 2 times => reaching the ending of line 4\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 28),\n\t\t\t\tnew Selection(2, 4, 2, 28),\n\t\t\t\tnew Selection(3, 4, 3, 32),\n\t\t\t\tnew Selection(4, 4, 4, 34),\n\t\t\t\tnew Selection(5, 4, 5, 34),\n\t\t\t\tnew Selection(6, 4, 6, 34),\n\t\t\t\tnew Selection(7, 4, 7, 34),\n\t\t\t]);\n\n\t\t\t// 1 time => reaching the ending of line 7\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 28),\n\t\t\t\tnew Selection(2, 4, 2, 28),\n\t\t\t\tnew Selection(3, 4, 3, 32),\n\t\t\t\tnew Selection(4, 4, 4, 34),\n\t\t\t\tnew Selection(5, 4, 5, 35),\n\t\t\t\tnew Selection(6, 4, 6, 35),\n\t\t\t\tnew Selection(7, 4, 7, 35),\n\t\t\t]);\n\n\t\t\t// 3 times => reaching the ending of lines 5 & 6\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 28),\n\t\t\t\tnew Selection(2, 4, 2, 28),\n\t\t\t\tnew Selection(3, 4, 3, 32),\n\t\t\t\tnew Selection(4, 4, 4, 34),\n\t\t\t\tnew Selection(5, 4, 5, 37),\n\t\t\t\tnew Selection(6, 4, 6, 37),\n\t\t\t\tnew Selection(7, 4, 7, 35),\n\t\t\t]);\n\n\t\t\t// cannot go anywhere anymore\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 28),\n\t\t\t\tnew Selection(2, 4, 2, 28),\n\t\t\t\tnew Selection(3, 4, 3, 32),\n\t\t\t\tnew Selection(4, 4, 4, 34),\n\t\t\t\tnew Selection(5, 4, 5, 37),\n\t\t\t\tnew Selection(6, 4, 6, 37),\n\t\t\t\tnew Selection(7, 4, 7, 35),\n\t\t\t]);\n\n\t\t\t// cannot go anywhere anymore even if we insist\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tCoreNavigationCommands.CursorColumnSelectRight.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 28),\n\t\t\t\tnew Selection(2, 4, 2, 28),\n\t\t\t\tnew Selection(3, 4, 3, 32),\n\t\t\t\tnew Selection(4, 4, 4, 34),\n\t\t\t\tnew Selection(5, 4, 5, 37),\n\t\t\t\tnew Selection(6, 4, 6, 37),\n\t\t\t\tnew Selection(7, 4, 7, 35),\n\t\t\t]);\n\n\t\t\t// can easily go back\n\t\t\tCoreNavigationCommands.CursorColumnSelectLeft.runCoreEditorCommand(viewModel, {});\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 28),\n\t\t\t\tnew Selection(2, 4, 2, 28),\n\t\t\t\tnew Selection(3, 4, 3, 32),\n\t\t\t\tnew Selection(4, 4, 4, 34),\n\t\t\t\tnew Selection(5, 4, 5, 36),\n\t\t\t\tnew Selection(6, 4, 6, 36),\n\t\t\t\tnew Selection(7, 4, 7, 35),\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('setSelection / setPosition with source', () => {\n\n\t\tconst tokenizationSupport: ITokenizationSupport = {\n\t\t\tgetInitialState: () => NullState,\n\t\t\ttokenize: undefined!,\n\t\t\ttokenizeEncoded: (line: string, hasEOL: boolean, state: IState): EncodedTokenizationResult => {\n\t\t\t\treturn new EncodedTokenizationResult(new Uint32Array(0), state);\n\t\t\t}\n\t\t};\n\n\t\tconst LANGUAGE_ID = 'modelModeTest1';\n\t\tconst languageRegistration = TokenizationRegistry.register(LANGUAGE_ID, tokenizationSupport);\n\t\tconst model = createTextModel('Just text', LANGUAGE_ID);\n\n\t\twithTestCodeEditor(model, {}, (editor1, cursor1) => {\n\t\t\tlet event: ICursorPositionChangedEvent | undefined = undefined;\n\t\t\tconst disposable = editor1.onDidChangeCursorPosition(e => {\n\t\t\t\tevent = e;\n\t\t\t});\n\n\t\t\teditor1.setSelection(new Range(1, 2, 1, 3), 'navigation');\n\t\t\tassert.strictEqual(event!.source, 'navigation');\n\n\t\t\tevent = undefined;\n\t\t\teditor1.setPosition(new Position(1, 2), 'navigation');\n\t\t\tassert.strictEqual(event!.source, 'navigation');\n\t\t\tdisposable.dispose();\n\t\t});\n\n\t\tlanguageRegistration.dispose();\n\t\tmodel.dispose();\n\t});\n});\n\nsuite('Editor Controller', () => {\n\n\tconst surroundingLanguageId = 'surroundingLanguage';\n\tconst indentRulesLanguageId = 'indentRulesLanguage';\n\tconst electricCharLanguageId = 'electricCharLanguage';\n\tconst autoClosingLanguageId = 'autoClosingLanguage';\n\tconst emptyClosingSurroundLanguageId = 'emptyClosingSurroundLanguage';\n\n\tlet disposables: DisposableStore;\n\tlet instantiationService: TestInstantiationService;\n\tlet languageConfigurationService: ILanguageConfigurationService;\n\tlet languageService: ILanguageService;\n\n\tsetup(() => {\n\t\tdisposables = new DisposableStore();\n\t\tinstantiationService = createCodeEditorServices(disposables);\n\t\tlanguageConfigurationService = instantiationService.get(ILanguageConfigurationService);\n\t\tlanguageService = instantiationService.get(ILanguageService);\n\n\t\tdisposables.add(languageService.registerLanguage({ id: surroundingLanguageId }));\n\t\tdisposables.add(languageConfigurationService.register(surroundingLanguageId, {\n\t\t\tautoClosingPairs: [{ open: '(', close: ')' }]\n\t\t}));\n\n\t\tdisposables.add(languageService.registerLanguage({ id: emptyClosingSurroundLanguageId }));\n\t\tdisposables.add(languageConfigurationService.register(emptyClosingSurroundLanguageId, {\n\t\t\tsurroundingPairs: [{ open: '<', close: '' }]\n\t\t}));\n\n\t\tsetupIndentRulesLanguage(indentRulesLanguageId, {\n\t\t\tdecreaseIndentPattern: /^\\s*((?!\\S.*\\/[*]).*[*]\\/\\s*)?[})\\]]|^\\s*(case\\b.*|default):\\s*(\\/\\/.*|\\/[*].*[*]\\/\\s*)?$/,\n\t\t\tincreaseIndentPattern: /^((?!\\/\\/).)*(\\{[^}\"'`]*|\\([^)\"']*|\\[[^\\]\"']*|^\\s*(\\{\\}|\\(\\)|\\[\\]|(case\\b.*|default):))\\s*(\\/\\/.*|\\/[*].*[*]\\/\\s*)?$/,\n\t\t\tindentNextLinePattern: /^\\s*(for|while|if|else)\\b(?!.*[;{}]\\s*(\\/\\/.*|\\/[*].*[*]\\/\\s*)?$)/,\n\t\t\tunIndentedLinePattern: /^(?!.*([;{}]|\\S:)\\s*(\\/\\/.*|\\/[*].*[*]\\/\\s*)?$)(?!.*(\\{[^}\"']*|\\([^)\"']*|\\[[^\\]\"']*|^\\s*(\\{\\}|\\(\\)|\\[\\]|(case\\b.*|default):))\\s*(\\/\\/.*|\\/[*].*[*]\\/\\s*)?$)(?!^\\s*((?!\\S.*\\/[*]).*[*]\\/\\s*)?[})\\]]|^\\s*(case\\b.*|default):\\s*(\\/\\/.*|\\/[*].*[*]\\/\\s*)?$)(?!^\\s*(for|while|if|else)\\b(?!.*[;{}]\\s*(\\/\\/.*|\\/[*].*[*]\\/\\s*)?$))/\n\t\t});\n\n\t\tdisposables.add(languageService.registerLanguage({ id: electricCharLanguageId }));\n\t\tdisposables.add(languageConfigurationService.register(electricCharLanguageId, {\n\t\t\t__electricCharacterSupport: {\n\t\t\t\tdocComment: { open: '/**', close: ' */' }\n\t\t\t},\n\t\t\tbrackets: [\n\t\t\t\t['{', '}'],\n\t\t\t\t['[', ']'],\n\t\t\t\t['(', ')']\n\t\t\t]\n\t\t}));\n\n\t\tsetupAutoClosingLanguage();\n\t});\n\n\tteardown(() => {\n\t\tdisposables.dispose();\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tfunction setupOnEnterLanguage(indentAction: IndentAction): string {\n\t\tconst onEnterLanguageId = 'onEnterMode';\n\n\t\tdisposables.add(languageService.registerLanguage({ id: onEnterLanguageId }));\n\t\tdisposables.add(languageConfigurationService.register(onEnterLanguageId, {\n\t\t\tonEnterRules: [{\n\t\t\t\tbeforeText: /.*/,\n\t\t\t\taction: {\n\t\t\t\t\tindentAction: indentAction\n\t\t\t\t}\n\t\t\t}]\n\t\t}));\n\t\treturn onEnterLanguageId;\n\t}\n\n\tfunction setupIndentRulesLanguage(languageId: string, indentationRules: IndentationRule): string {\n\t\tdisposables.add(languageService.registerLanguage({ id: languageId }));\n\t\tdisposables.add(languageConfigurationService.register(languageId, {\n\t\t\tindentationRules: indentationRules\n\t\t}));\n\t\treturn languageId;\n\t}\n\n\tfunction setupAutoClosingLanguage() {\n\t\tdisposables.add(languageService.registerLanguage({ id: autoClosingLanguageId }));\n\t\tdisposables.add(languageConfigurationService.register(autoClosingLanguageId, {\n\t\t\tcomments: {\n\t\t\t\tblockComment: ['/*', '*/']\n\t\t\t},\n\t\t\tautoClosingPairs: [\n\t\t\t\t{ open: '{', close: '}' },\n\t\t\t\t{ open: '[', close: ']' },\n\t\t\t\t{ open: '(', close: ')' },\n\t\t\t\t{ open: '\\'', close: '\\'', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: '\\\"', close: '\\\"', notIn: ['string'] },\n\t\t\t\t{ open: '`', close: '`', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: '/**', close: ' */', notIn: ['string'] },\n\t\t\t\t{ open: 'begin', close: 'end', notIn: ['string'] }\n\t\t\t],\n\t\t\t__electricCharacterSupport: {\n\t\t\t\tdocComment: { open: '/**', close: ' */' }\n\t\t\t}\n\t\t}));\n\t}\n\n\tfunction setupAutoClosingLanguageTokenization() {\n\t\tclass BaseState implements IState {\n\t\t\tconstructor(\n\t\t\t\tpublic readonly parent: State | null = null\n\t\t\t) { }\n\t\t\tclone(): IState { return this; }\n\t\t\tequals(other: IState): boolean {\n\t\t\t\tif (!(other instanceof BaseState)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (!this.parent && !other.parent) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif (!this.parent || !other.parent) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn this.parent.equals(other.parent);\n\t\t\t}\n\t\t}\n\t\tclass StringState implements IState {\n\t\t\tconstructor(\n\t\t\t\tpublic readonly char: string,\n\t\t\t\tpublic readonly parentState: State\n\t\t\t) { }\n\t\t\tclone(): IState { return this; }\n\t\t\tequals(other: IState): boolean { return other instanceof StringState && this.char === other.char && this.parentState.equals(other.parentState); }\n\t\t}\n\t\tclass BlockCommentState implements IState {\n\t\t\tconstructor(\n\t\t\t\tpublic readonly parentState: State\n\t\t\t) { }\n\t\t\tclone(): IState { return this; }\n\t\t\tequals(other: IState): boolean { return other instanceof StringState && this.parentState.equals(other.parentState); }\n\t\t}\n\t\ttype State = BaseState | StringState | BlockCommentState;\n\n\t\tconst encodedLanguageId = languageService.languageIdCodec.encodeLanguageId(autoClosingLanguageId);\n\t\tdisposables.add(TokenizationRegistry.register(autoClosingLanguageId, {\n\t\t\tgetInitialState: () => new BaseState(),\n\t\t\ttokenize: undefined!,\n\t\t\ttokenizeEncoded: function (line: string, hasEOL: boolean, _state: IState): EncodedTokenizationResult {\n\t\t\t\tlet state = <State>_state;\n\t\t\t\tconst tokens: { length: number; type: StandardTokenType }[] = [];\n\t\t\t\tconst generateToken = (length: number, type: StandardTokenType, newState?: State) => {\n\t\t\t\t\tif (tokens.length > 0 && tokens[tokens.length - 1].type === type) {\n\t\t\t\t\t\t// grow last tokens\n\t\t\t\t\t\ttokens[tokens.length - 1].length += length;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttokens.push({ length, type });\n\t\t\t\t\t}\n\t\t\t\t\tline = line.substring(length);\n\t\t\t\t\tif (newState) {\n\t\t\t\t\t\tstate = newState;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\twhile (line.length > 0) {\n\t\t\t\t\tadvance();\n\t\t\t\t}\n\t\t\t\tconst result = new Uint32Array(tokens.length * 2);\n\t\t\t\tlet startIndex = 0;\n\t\t\t\tfor (let i = 0; i < tokens.length; i++) {\n\t\t\t\t\tresult[2 * i] = startIndex;\n\t\t\t\t\tresult[2 * i + 1] = (\n\t\t\t\t\t\t(encodedLanguageId << MetadataConsts.LANGUAGEID_OFFSET)\n\t\t\t\t\t\t| (tokens[i].type << MetadataConsts.TOKEN_TYPE_OFFSET)\n\t\t\t\t\t);\n\t\t\t\t\tstartIndex += tokens[i].length;\n\t\t\t\t}\n\t\t\t\treturn new EncodedTokenizationResult(result, state);\n\n\t\t\t\tfunction advance(): void {\n\t\t\t\t\tif (state instanceof BaseState) {\n\t\t\t\t\t\tconst m1 = line.match(/^[^'\"`{}/]+/g);\n\t\t\t\t\t\tif (m1) {\n\t\t\t\t\t\t\treturn generateToken(m1[0].length, StandardTokenType.Other);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (/^['\"`]/.test(line)) {\n\t\t\t\t\t\t\treturn generateToken(1, StandardTokenType.String, new StringState(line.charAt(0), state));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (/^{/.test(line)) {\n\t\t\t\t\t\t\treturn generateToken(1, StandardTokenType.Other, new BaseState(state));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (/^}/.test(line)) {\n\t\t\t\t\t\t\treturn generateToken(1, StandardTokenType.Other, state.parent || new BaseState());\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (/^\\/\\//.test(line)) {\n\t\t\t\t\t\t\treturn generateToken(line.length, StandardTokenType.Comment, state);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (/^\\/\\*/.test(line)) {\n\t\t\t\t\t\t\treturn generateToken(2, StandardTokenType.Comment, new BlockCommentState(state));\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn generateToken(1, StandardTokenType.Other, state);\n\t\t\t\t\t} else if (state instanceof StringState) {\n\t\t\t\t\t\tconst m1 = line.match(/^[^\\\\'\"`\\$]+/g);\n\t\t\t\t\t\tif (m1) {\n\t\t\t\t\t\t\treturn generateToken(m1[0].length, StandardTokenType.String);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (/^\\\\/.test(line)) {\n\t\t\t\t\t\t\treturn generateToken(2, StandardTokenType.String);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (line.charAt(0) === state.char) {\n\t\t\t\t\t\t\treturn generateToken(1, StandardTokenType.String, state.parentState);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (/^\\$\\{/.test(line)) {\n\t\t\t\t\t\t\treturn generateToken(2, StandardTokenType.Other, new BaseState(state));\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn generateToken(1, StandardTokenType.Other, state);\n\t\t\t\t\t} else if (state instanceof BlockCommentState) {\n\t\t\t\t\t\tconst m1 = line.match(/^[^*]+/g);\n\t\t\t\t\t\tif (m1) {\n\t\t\t\t\t\t\treturn generateToken(m1[0].length, StandardTokenType.String);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (/^\\*\\//.test(line)) {\n\t\t\t\t\t\t\treturn generateToken(2, StandardTokenType.Comment, state.parentState);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn generateToken(1, StandardTokenType.Other, state);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new Error(`unknown state`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}));\n\t}\n\n\tfunction setAutoClosingLanguageEnabledSet(chars: string): void {\n\t\tdisposables.add(languageConfigurationService.register(autoClosingLanguageId, {\n\t\t\tautoCloseBefore: chars,\n\t\t\tautoClosingPairs: [\n\t\t\t\t{ open: '{', close: '}' },\n\t\t\t\t{ open: '[', close: ']' },\n\t\t\t\t{ open: '(', close: ')' },\n\t\t\t\t{ open: '\\'', close: '\\'', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: '\\\"', close: '\\\"', notIn: ['string'] },\n\t\t\t\t{ open: '`', close: '`', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: '/**', close: ' */', notIn: ['string'] }\n\t\t\t],\n\t\t}));\n\t}\n\n\tfunction createTextModel(text: string, languageId: string | null = null, options: IRelaxedTextModelCreationOptions = TextModel.DEFAULT_CREATION_OPTIONS, uri: URI | null = null): TextModel {\n\t\treturn disposables.add(instantiateTextModel(instantiationService, text, languageId, options, uri));\n\t}\n\n\tfunction withTestCodeEditor(text: ITextModel | string | string[], options: TestCodeEditorInstantiationOptions, callback: (editor: ITestCodeEditor, viewModel: ViewModel) => void): void {\n\t\tlet model: ITextModel;\n\t\tif (typeof text === 'string') {\n\t\t\tmodel = createTextModel(text);\n\t\t} else if (Array.isArray(text)) {\n\t\t\tmodel = createTextModel(text.join('\\n'));\n\t\t} else {\n\t\t\tmodel = text;\n\t\t}\n\t\tconst editor = disposables.add(instantiateTestCodeEditor(instantiationService, model, options));\n\t\tconst viewModel = editor.getViewModel()!;\n\t\tviewModel.setHasFocus(true);\n\t\tcallback(editor, viewModel);\n\t}\n\n\tinterface ICursorOpts {\n\t\ttext: string[];\n\t\tlanguageId?: string | null;\n\t\tmodelOpts?: IRelaxedTextModelCreationOptions;\n\t\teditorOpts?: IEditorOptions;\n\t}\n\n\tfunction usingCursor(opts: ICursorOpts, callback: (editor: ITestCodeEditor, model: TextModel, viewModel: ViewModel) => void): void {\n\t\tconst model = createTextModel(opts.text.join('\\n'), opts.languageId, opts.modelOpts);\n\t\tconst editorOptions: TestCodeEditorInstantiationOptions = opts.editorOpts || {};\n\t\twithTestCodeEditor(model, editorOptions, (editor, viewModel) => {\n\t\t\tcallback(editor, model, viewModel);\n\t\t});\n\t}\n\n\tconst enum AutoClosingColumnType {\n\t\tNormal = 0,\n\t\tSpecial1 = 1,\n\t\tSpecial2 = 2\n\t}\n\n\tfunction extractAutoClosingSpecialColumns(maxColumn: number, annotatedLine: string): AutoClosingColumnType[] {\n\t\tconst result: AutoClosingColumnType[] = [];\n\t\tfor (let j = 1; j <= maxColumn; j++) {\n\t\t\tresult[j] = AutoClosingColumnType.Normal;\n\t\t}\n\t\tlet column = 1;\n\t\tfor (let j = 0; j < annotatedLine.length; j++) {\n\t\t\tif (annotatedLine.charAt(j) === '|') {\n\t\t\t\tresult[column] = AutoClosingColumnType.Special1;\n\t\t\t} else if (annotatedLine.charAt(j) === '!') {\n\t\t\t\tresult[column] = AutoClosingColumnType.Special2;\n\t\t\t} else {\n\t\t\t\tcolumn++;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction assertType(editor: ITestCodeEditor, model: ITextModel, viewModel: ViewModel, lineNumber: number, column: number, chr: string, expectedInsert: string, message: string): void {\n\t\tconst lineContent = model.getLineContent(lineNumber);\n\t\tconst expected = lineContent.substr(0, column - 1) + expectedInsert + lineContent.substr(column - 1);\n\t\tmoveTo(editor, viewModel, lineNumber, column);\n\t\tviewModel.type(chr, 'keyboard');\n\t\tassert.deepStrictEqual(model.getLineContent(lineNumber), expected, message);\n\t\tmodel.undo();\n\t}\n\n\ttest('issue microsoft/monaco-editor#443: Indentation of a single row deletes selected text in some cases', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'Hello world!',\n\t\t\t\t'another line'\n\t\t\t].join('\\n'),\n\t\t\tundefined,\n\t\t\t{\n\t\t\t\tinsertSpaces: false\n\t\t\t},\n\t\t);\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 1, 1, 13)]);\n\n\t\t\t// Check that indenting maintains the selection start at column 1\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.deepStrictEqual(viewModel.getSelection(), new Selection(1, 1, 1, 14));\n\t\t});\n\t});\n\n\ttest('Bug 9121: Auto indent + undo + redo is funky', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t''\n\t\t\t].join('\\n'),\n\t\t\tundefined,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t\ttrimAutoWhitespace: false\n\t\t\t},\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n', 'assert1');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\t', 'assert2');\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\t\\n\\t', 'assert3');\n\n\t\t\tviewModel.type('x');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\t\\n\\tx', 'assert4');\n\n\t\t\tCoreNavigationCommands.CursorLeft.runCoreEditorCommand(viewModel, {});\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\t\\n\\tx', 'assert5');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\t\\nx', 'assert6');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\tx', 'assert7');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\nx', 'assert8');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), 'x', 'assert9');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\nx', 'assert10');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\t\\nx', 'assert11');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\t\\n\\tx', 'assert12');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Redo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\t\\nx', 'assert13');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Redo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\nx', 'assert14');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Redo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), 'x', 'assert15');\n\t\t});\n\t});\n\n\ttest('issue #23539: Setting model EOL isn\\'t undoable', () => {\n\t\twithTestCodeEditor([\n\t\t\t'Hello',\n\t\t\t'world'\n\t\t], {}, (editor, viewModel) => {\n\t\t\tconst model = editor.getModel()!;\n\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\t\t\tmodel.setEOL(EndOfLineSequence.LF);\n\t\t\tassert.strictEqual(model.getValue(), 'Hello\\nworld');\n\n\t\t\tmodel.pushEOL(EndOfLineSequence.CRLF);\n\t\t\tassert.strictEqual(model.getValue(), 'Hello\\r\\nworld');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(), 'Hello\\nworld');\n\t\t});\n\t});\n\n\ttest('issue #47733: Undo mangles unicode characters', () => {\n\t\tconst languageId = 'myMode';\n\n\t\tdisposables.add(languageService.registerLanguage({ id: languageId }));\n\t\tdisposables.add(languageConfigurationService.register(languageId, {\n\t\t\tsurroundingPairs: [{ open: '%', close: '%' }]\n\t\t}));\n\n\t\tconst model = createTextModel('\\'\\'', languageId);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\teditor.setSelection(new Selection(1, 1, 1, 2));\n\n\t\t\tviewModel.type('%', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '%\\'%\\'', 'assert1');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\'\\'', 'assert2');\n\t\t});\n\t});\n\n\ttest('issue #46208: Allow empty selections in the undo/redo stack', () => {\n\t\tconst model = createTextModel('');\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.type('Hello', 'keyboard');\n\t\t\tviewModel.type(' ', 'keyboard');\n\t\t\tviewModel.type('world', 'keyboard');\n\t\t\tviewModel.type(' ', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'Hello world ');\n\t\t\tassertCursor(viewModel, new Position(1, 13));\n\n\t\t\tmoveLeft(editor, viewModel);\n\t\t\tmoveRight(editor, viewModel);\n\n\t\t\tmodel.pushEditOperations([], [EditOperation.replaceMove(new Range(1, 12, 1, 13), '')], () => []);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'Hello world');\n\t\t\tassertCursor(viewModel, new Position(1, 12));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'Hello world ');\n\t\t\tassertCursor(viewModel, new Selection(1, 13, 1, 13));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'Hello world');\n\t\t\tassertCursor(viewModel, new Position(1, 12));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'Hello');\n\t\t\tassertCursor(viewModel, new Position(1, 6));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), '');\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Redo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'Hello');\n\t\t\tassertCursor(viewModel, new Position(1, 6));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Redo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'Hello world');\n\t\t\tassertCursor(viewModel, new Position(1, 12));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Redo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'Hello world ');\n\t\t\tassertCursor(viewModel, new Position(1, 13));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Redo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'Hello world');\n\t\t\tassertCursor(viewModel, new Position(1, 12));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Redo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'Hello world');\n\t\t\tassertCursor(viewModel, new Position(1, 12));\n\t\t});\n\t});\n\n\ttest('bug #16815:Shift+Tab doesn\\'t go back to tabstop', () => {\n\t\tconst languageId = setupOnEnterLanguage(IndentAction.IndentOutdent);\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'     function baz() {'\n\t\t\t].join('\\n'),\n\t\t\tlanguageId\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 6, false);\n\t\t\tassertCursor(viewModel, new Selection(1, 6, 1, 6));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Outdent, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), '    function baz() {');\n\t\t\tassertCursor(viewModel, new Selection(1, 5, 1, 5));\n\t\t});\n\t});\n\n\ttest('Bug #18293:[regression][editor] Can\\'t outdent whitespace line', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'      '\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 7, false);\n\t\t\tassertCursor(viewModel, new Selection(1, 7, 1, 7));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Outdent, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), '    ');\n\t\t\tassertCursor(viewModel, new Selection(1, 5, 1, 5));\n\t\t});\n\t});\n\n\ttest('issue #95591: Unindenting moves cursor to beginning of line', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'        '\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, { useTabStops: false }, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 9, false);\n\t\t\tassertCursor(viewModel, new Selection(1, 9, 1, 9));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Outdent, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), '    ');\n\t\t\tassertCursor(viewModel, new Selection(1, 5, 1, 5));\n\t\t});\n\t});\n\n\ttest('Bug #16657: [editor] Tab on empty line of zero indentation moves cursor to position (1,1)', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'function baz() {',\n\t\t\t\t'\\tfunction hello() { // something here',\n\t\t\t\t'\\t',\n\t\t\t\t'',\n\t\t\t\t'\\t}',\n\t\t\t\t'}',\n\t\t\t\t''\n\t\t\t].join('\\n'),\n\t\t\tundefined,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t},\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 7, 1, false);\n\t\t\tassertCursor(viewModel, new Selection(7, 1, 7, 1));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(7), '\\t');\n\t\t\tassertCursor(viewModel, new Selection(7, 2, 7, 2));\n\t\t});\n\t});\n\n\ttest('bug #16740: [editor] Cut line doesn\\'t quite cut the last line', () => {\n\n\t\t// Part 1 => there is text on the last line\n\t\twithTestCodeEditor([\n\t\t\t'asdasd',\n\t\t\t'qwerty'\n\t\t], {}, (editor, viewModel) => {\n\t\t\tconst model = editor.getModel()!;\n\n\t\t\tmoveTo(editor, viewModel, 2, 1, false);\n\t\t\tassertCursor(viewModel, new Selection(2, 1, 2, 1));\n\n\t\t\tviewModel.cut('keyboard');\n\t\t\tassert.strictEqual(model.getLineCount(), 1);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'asdasd');\n\n\t\t});\n\n\t\t// Part 2 => there is no text on the last line\n\t\twithTestCodeEditor([\n\t\t\t'asdasd',\n\t\t\t''\n\t\t], {}, (editor, viewModel) => {\n\t\t\tconst model = editor.getModel()!;\n\n\t\t\tmoveTo(editor, viewModel, 2, 1, false);\n\t\t\tassertCursor(viewModel, new Selection(2, 1, 2, 1));\n\n\t\t\tviewModel.cut('keyboard');\n\t\t\tassert.strictEqual(model.getLineCount(), 1);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'asdasd');\n\n\t\t\tviewModel.cut('keyboard');\n\t\t\tassert.strictEqual(model.getLineCount(), 1);\n\t\t\tassert.strictEqual(model.getLineContent(1), '');\n\t\t});\n\t});\n\n\ttest('issue #128602: When cutting multiple lines (ctrl x), the last line will not be erased', () => {\n\t\twithTestCodeEditor([\n\t\t\t'a1',\n\t\t\t'a2',\n\t\t\t'a3'\n\t\t], {}, (editor, viewModel) => {\n\t\t\tconst model = editor.getModel()!;\n\n\t\t\tviewModel.setSelections('test', [\n\t\t\t\tnew Selection(1, 1, 1, 1),\n\t\t\t\tnew Selection(2, 1, 2, 1),\n\t\t\t\tnew Selection(3, 1, 3, 1),\n\t\t\t]);\n\n\t\t\tviewModel.cut('keyboard');\n\t\t\tassert.strictEqual(model.getLineCount(), 1);\n\t\t\tassert.strictEqual(model.getLineContent(1), '');\n\t\t});\n\t});\n\n\ttest('Bug #11476: Double bracket surrounding + undo is broken', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'hello'\n\t\t\t],\n\t\t\tlanguageId: surroundingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 3, false);\n\t\t\tmoveTo(editor, viewModel, 1, 5, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 3, 1, 5));\n\n\t\t\tviewModel.type('(', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(1, 4, 1, 6));\n\n\t\t\tviewModel.type('(', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(1, 5, 1, 7));\n\t\t});\n\t});\n\n\ttest('issue #206774: SurroundSelectionCommand with empty charAfterSelection should not throw', () => {\n\t\t// This test reproduces the issue where SurroundSelectionCommand throws when charAfterSelection is empty\n\t\t// The problem is that addTrackedEditOperation ignores empty strings, causing computeCursorState to fail\n\t\t// when trying to access inverseEditOperations[1].range (which is undefined)\n\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'hello world'\n\t\t\t],\n\t\t\tlanguageId: emptyClosingSurroundLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\t// Select \"hello\"\n\t\t\tmoveTo(editor, viewModel, 1, 1, false);\n\t\t\tmoveTo(editor, viewModel, 1, 6, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 1, 1, 6));\n\n\t\t\t// Type < which should surround with '<' and empty string\n\t\t\t// This reproduces the crash where charAfterSelection is empty\n\t\t\tviewModel.type('<', 'keyboard');\n\n\t\t\t// Test passes if we don't crash - the exact cursor position depends on the fix\n\t\t\t// The main issue is that computeCursorState fails when charAfterSelection is empty\n\t\t\tassert.strictEqual(model.getValue(), '<hello world');\n\t\t});\n\t});\n\n\ttest('issue #1140: Backspace stops prematurely', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'function baz() {',\n\t\t\t\t'  return 1;',\n\t\t\t\t'};'\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 2, false);\n\t\t\tmoveTo(editor, viewModel, 1, 14, true);\n\t\t\tassertCursor(viewModel, new Selection(3, 2, 1, 14));\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassertCursor(viewModel, new Selection(1, 14, 1, 14));\n\t\t\tassert.strictEqual(model.getLineCount(), 1);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'function baz(;');\n\t\t});\n\t});\n\n\ttest('issue #10212: Pasting entire line does not replace selection', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'line1',\n\t\t\t\t'line2'\n\t\t\t],\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 1, false);\n\t\t\tmoveTo(editor, viewModel, 2, 6, true);\n\n\t\t\tviewModel.paste('line1\\n', true);\n\n\t\t\tassert.strictEqual(model.getLineContent(1), 'line1');\n\t\t\tassert.strictEqual(model.getLineContent(2), 'line1');\n\t\t\tassert.strictEqual(model.getLineContent(3), '');\n\t\t});\n\t});\n\n\ttest('issue #74722: Pasting whole line does not replace selection', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'line1',\n\t\t\t\t'line sel 2',\n\t\t\t\t'line3'\n\t\t\t],\n\t\t}, (editor, model, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(2, 6, 2, 9)]);\n\n\t\t\tviewModel.paste('line1\\n', true);\n\n\t\t\tassert.strictEqual(model.getLineContent(1), 'line1');\n\t\t\tassert.strictEqual(model.getLineContent(2), 'line line1');\n\t\t\tassert.strictEqual(model.getLineContent(3), ' 2');\n\t\t\tassert.strictEqual(model.getLineContent(4), 'line3');\n\t\t});\n\t});\n\n\ttest('issue #4996: Multiple cursor paste pastes contents of all cursors', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'line1',\n\t\t\t\t'line2',\n\t\t\t\t'line3'\n\t\t\t],\n\t\t}, (editor, model, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 1, 1, 1), new Selection(2, 1, 2, 1)]);\n\n\t\t\tviewModel.paste(\n\t\t\t\t'a\\nb\\nc\\nd',\n\t\t\t\tfalse,\n\t\t\t\t[\n\t\t\t\t\t'a\\nb',\n\t\t\t\t\t'c\\nd'\n\t\t\t\t]\n\t\t\t);\n\n\t\t\tassert.strictEqual(model.getValue(), [\n\t\t\t\t'a',\n\t\t\t\t'bline1',\n\t\t\t\t'c',\n\t\t\t\t'dline2',\n\t\t\t\t'line3'\n\t\t\t].join('\\n'));\n\t\t});\n\t});\n\n\ttest('issue #16155: Paste into multiple cursors has edge case when number of lines equals number of cursors - 1', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'test',\n\t\t\t\t'test',\n\t\t\t\t'test',\n\t\t\t\t'test'\n\t\t\t],\n\t\t}, (editor, model, viewModel) => {\n\t\t\tviewModel.setSelections('test', [\n\t\t\t\tnew Selection(1, 1, 1, 5),\n\t\t\t\tnew Selection(2, 1, 2, 5),\n\t\t\t\tnew Selection(3, 1, 3, 5),\n\t\t\t\tnew Selection(4, 1, 4, 5),\n\t\t\t]);\n\n\t\t\tviewModel.paste(\n\t\t\t\t'aaa\\nbbb\\nccc\\n',\n\t\t\t\tfalse,\n\t\t\t\tnull\n\t\t\t);\n\n\t\t\tassert.strictEqual(model.getValue(), [\n\t\t\t\t'aaa',\n\t\t\t\t'bbb',\n\t\t\t\t'ccc',\n\t\t\t\t'',\n\t\t\t\t'aaa',\n\t\t\t\t'bbb',\n\t\t\t\t'ccc',\n\t\t\t\t'',\n\t\t\t\t'aaa',\n\t\t\t\t'bbb',\n\t\t\t\t'ccc',\n\t\t\t\t'',\n\t\t\t\t'aaa',\n\t\t\t\t'bbb',\n\t\t\t\t'ccc',\n\t\t\t\t'',\n\t\t\t].join('\\n'));\n\t\t});\n\t});\n\n\ttest('issue #43722: Multiline paste doesn\\'t work anymore', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'test',\n\t\t\t\t'test',\n\t\t\t\t'test',\n\t\t\t\t'test'\n\t\t\t],\n\t\t}, (editor, model, viewModel) => {\n\t\t\tviewModel.setSelections('test', [\n\t\t\t\tnew Selection(1, 1, 1, 5),\n\t\t\t\tnew Selection(2, 1, 2, 5),\n\t\t\t\tnew Selection(3, 1, 3, 5),\n\t\t\t\tnew Selection(4, 1, 4, 5),\n\t\t\t]);\n\n\t\t\tviewModel.paste(\n\t\t\t\t'aaa\\r\\nbbb\\r\\nccc\\r\\nddd\\r\\n',\n\t\t\t\tfalse,\n\t\t\t\tnull\n\t\t\t);\n\n\t\t\tassert.strictEqual(model.getValue(), [\n\t\t\t\t'aaa',\n\t\t\t\t'bbb',\n\t\t\t\t'ccc',\n\t\t\t\t'ddd',\n\t\t\t].join('\\n'));\n\t\t});\n\t});\n\n\ttest('issue #46440: (1) Pasting a multi-line selection pastes entire selection into every insertion point', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'line1',\n\t\t\t\t'line2',\n\t\t\t\t'line3'\n\t\t\t],\n\t\t}, (editor, model, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 1, 1, 1), new Selection(2, 1, 2, 1), new Selection(3, 1, 3, 1)]);\n\n\t\t\tviewModel.paste(\n\t\t\t\t'a\\nb\\nc',\n\t\t\t\tfalse,\n\t\t\t\tnull\n\t\t\t);\n\n\t\t\tassert.strictEqual(model.getValue(), [\n\t\t\t\t'aline1',\n\t\t\t\t'bline2',\n\t\t\t\t'cline3'\n\t\t\t].join('\\n'));\n\t\t});\n\t});\n\n\ttest('issue #46440: (2) Pasting a multi-line selection pastes entire selection into every insertion point', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'line1',\n\t\t\t\t'line2',\n\t\t\t\t'line3'\n\t\t\t],\n\t\t}, (editor, model, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 1, 1, 1), new Selection(2, 1, 2, 1), new Selection(3, 1, 3, 1)]);\n\n\t\t\tviewModel.paste(\n\t\t\t\t'a\\nb\\nc\\n',\n\t\t\t\tfalse,\n\t\t\t\tnull\n\t\t\t);\n\n\t\t\tassert.strictEqual(model.getValue(), [\n\t\t\t\t'aline1',\n\t\t\t\t'bline2',\n\t\t\t\t'cline3'\n\t\t\t].join('\\n'));\n\t\t});\n\t});\n\n\ttest('issue #3071: Investigate why undo stack gets corrupted', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'some lines',\n\t\t\t\t'and more lines',\n\t\t\t\t'just some text',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 1, false);\n\t\t\tmoveTo(editor, viewModel, 3, 4, true);\n\n\t\t\tlet isFirst = true;\n\t\t\tconst disposable = model.onDidChangeContent(() => {\n\t\t\t\tif (isFirst) {\n\t\t\t\t\tisFirst = false;\n\t\t\t\t\tviewModel.type('\\t', 'keyboard');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getValue(), [\n\t\t\t\t'\\t just some text'\n\t\t\t].join('\\n'), '001');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(), [\n\t\t\t\t'    some lines',\n\t\t\t\t'    and more lines',\n\t\t\t\t'    just some text',\n\t\t\t].join('\\n'), '002');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(), [\n\t\t\t\t'some lines',\n\t\t\t\t'and more lines',\n\t\t\t\t'just some text',\n\t\t\t].join('\\n'), '003');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(), [\n\t\t\t\t'some lines',\n\t\t\t\t'and more lines',\n\t\t\t\t'just some text',\n\t\t\t].join('\\n'), '004');\n\n\t\t\tdisposable.dispose();\n\t\t});\n\t});\n\n\ttest('issue #12950: Cannot Double Click To Insert Emoji Using OSX Emoji Panel', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'some lines',\n\t\t\t\t'and more lines',\n\t\t\t\t'just some text',\n\t\t\t],\n\t\t\tlanguageId: null\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 1, false);\n\n\t\t\tviewModel.type('', 'keyboard');\n\n\t\t\tassert.strictEqual(model.getValue(), [\n\t\t\t\t'some lines',\n\t\t\t\t'and more lines',\n\t\t\t\t'just some text',\n\t\t\t].join('\\n'));\n\t\t});\n\t});\n\n\ttest('issue #3463: pressing tab adds spaces, but not as many as for a tab', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'function a() {',\n\t\t\t\t'\\tvar a = {',\n\t\t\t\t'\\t\\tx: 3',\n\t\t\t\t'\\t};',\n\t\t\t\t'}',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 2, false);\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(3), '\\t    \\tx: 3');\n\t\t});\n\t});\n\n\ttest('issue #4312: trying to type a tab character over a sequence of spaces results in unexpected behaviour', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'var foo = 123;       // this is a comment',\n\t\t\t\t'var bar = 4;       // another comment'\n\t\t\t].join('\\n'),\n\t\t\tundefined,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 15, false);\n\t\t\tmoveTo(editor, viewModel, 1, 22, true);\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'var foo = 123;\\t// this is a comment');\n\t\t});\n\t});\n\n\ttest('issue #832: word right', () => {\n\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'   /* Just some   more   text a+= 3 +5-3 + 7 */  '\n\t\t\t],\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 1, false);\n\n\t\t\tfunction assertWordRight(col: number, expectedCol: number) {\n\t\t\t\tconst args = {\n\t\t\t\t\tposition: {\n\t\t\t\t\t\tlineNumber: 1,\n\t\t\t\t\t\tcolumn: col\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tif (col === 1) {\n\t\t\t\t\tCoreNavigationCommands.WordSelect.runCoreEditorCommand(viewModel, args);\n\t\t\t\t} else {\n\t\t\t\t\tCoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(viewModel, args);\n\t\t\t\t}\n\n\t\t\t\tassert.strictEqual(viewModel.getSelection().startColumn, 1, 'TEST FOR ' + col);\n\t\t\t\tassert.strictEqual(viewModel.getSelection().endColumn, expectedCol, 'TEST FOR ' + col);\n\t\t\t}\n\n\t\t\tassertWordRight(1, '   '.length + 1);\n\t\t\tassertWordRight(2, '   '.length + 1);\n\t\t\tassertWordRight(3, '   '.length + 1);\n\t\t\tassertWordRight(4, '   '.length + 1);\n\t\t\tassertWordRight(5, '   /'.length + 1);\n\t\t\tassertWordRight(6, '   /*'.length + 1);\n\t\t\tassertWordRight(7, '   /* '.length + 1);\n\t\t\tassertWordRight(8, '   /* Just'.length + 1);\n\t\t\tassertWordRight(9, '   /* Just'.length + 1);\n\t\t\tassertWordRight(10, '   /* Just'.length + 1);\n\t\t\tassertWordRight(11, '   /* Just'.length + 1);\n\t\t\tassertWordRight(12, '   /* Just '.length + 1);\n\t\t\tassertWordRight(13, '   /* Just some'.length + 1);\n\t\t\tassertWordRight(14, '   /* Just some'.length + 1);\n\t\t\tassertWordRight(15, '   /* Just some'.length + 1);\n\t\t\tassertWordRight(16, '   /* Just some'.length + 1);\n\t\t\tassertWordRight(17, '   /* Just some '.length + 1);\n\t\t\tassertWordRight(18, '   /* Just some  '.length + 1);\n\t\t\tassertWordRight(19, '   /* Just some   '.length + 1);\n\t\t\tassertWordRight(20, '   /* Just some   more'.length + 1);\n\t\t\tassertWordRight(21, '   /* Just some   more'.length + 1);\n\t\t\tassertWordRight(22, '   /* Just some   more'.length + 1);\n\t\t\tassertWordRight(23, '   /* Just some   more'.length + 1);\n\t\t\tassertWordRight(24, '   /* Just some   more '.length + 1);\n\t\t\tassertWordRight(25, '   /* Just some   more  '.length + 1);\n\t\t\tassertWordRight(26, '   /* Just some   more   '.length + 1);\n\t\t\tassertWordRight(27, '   /* Just some   more   text'.length + 1);\n\t\t\tassertWordRight(28, '   /* Just some   more   text'.length + 1);\n\t\t\tassertWordRight(29, '   /* Just some   more   text'.length + 1);\n\t\t\tassertWordRight(30, '   /* Just some   more   text'.length + 1);\n\t\t\tassertWordRight(31, '   /* Just some   more   text '.length + 1);\n\t\t\tassertWordRight(32, '   /* Just some   more   text a'.length + 1);\n\t\t\tassertWordRight(33, '   /* Just some   more   text a+'.length + 1);\n\t\t\tassertWordRight(34, '   /* Just some   more   text a+='.length + 1);\n\t\t\tassertWordRight(35, '   /* Just some   more   text a+= '.length + 1);\n\t\t\tassertWordRight(36, '   /* Just some   more   text a+= 3'.length + 1);\n\t\t\tassertWordRight(37, '   /* Just some   more   text a+= 3 '.length + 1);\n\t\t\tassertWordRight(38, '   /* Just some   more   text a+= 3 +'.length + 1);\n\t\t\tassertWordRight(39, '   /* Just some   more   text a+= 3 +5'.length + 1);\n\t\t\tassertWordRight(40, '   /* Just some   more   text a+= 3 +5-'.length + 1);\n\t\t\tassertWordRight(41, '   /* Just some   more   text a+= 3 +5-3'.length + 1);\n\t\t\tassertWordRight(42, '   /* Just some   more   text a+= 3 +5-3 '.length + 1);\n\t\t\tassertWordRight(43, '   /* Just some   more   text a+= 3 +5-3 +'.length + 1);\n\t\t\tassertWordRight(44, '   /* Just some   more   text a+= 3 +5-3 + '.length + 1);\n\t\t\tassertWordRight(45, '   /* Just some   more   text a+= 3 +5-3 + 7'.length + 1);\n\t\t\tassertWordRight(46, '   /* Just some   more   text a+= 3 +5-3 + 7 '.length + 1);\n\t\t\tassertWordRight(47, '   /* Just some   more   text a+= 3 +5-3 + 7 *'.length + 1);\n\t\t\tassertWordRight(48, '   /* Just some   more   text a+= 3 +5-3 + 7 */'.length + 1);\n\t\t\tassertWordRight(49, '   /* Just some   more   text a+= 3 +5-3 + 7 */ '.length + 1);\n\t\t\tassertWordRight(50, '   /* Just some   more   text a+= 3 +5-3 + 7 */  '.length + 1);\n\t\t});\n\t});\n\n\ttest('issue #33788: Wrong cursor position when double click to select a word', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'Just some text'\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tCoreNavigationCommands.WordSelect.runCoreEditorCommand(viewModel, { position: new Position(1, 8) });\n\t\t\tassert.deepStrictEqual(viewModel.getSelection(), new Selection(1, 6, 1, 10));\n\n\t\t\tCoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(viewModel, { position: new Position(1, 8) });\n\t\t\tassert.deepStrictEqual(viewModel.getSelection(), new Selection(1, 6, 1, 10));\n\t\t});\n\t});\n\n\ttest('issue #12887: Double-click highlighting separating white space', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'abc def'\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tCoreNavigationCommands.WordSelect.runCoreEditorCommand(viewModel, { position: new Position(1, 5) });\n\t\t\tassert.deepStrictEqual(viewModel.getSelection(), new Selection(1, 5, 1, 8));\n\t\t});\n\t});\n\n\ttest('Double-click on punctuation should select the character, not adjacent space', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'// a b c 1 2 3 ~ ! @ # $ % ^ & * ( ) _ + \\\\ /'\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\t// Test double-click on '@' at position 20\n\t\t\tCoreNavigationCommands.WordSelect.runCoreEditorCommand(viewModel, { position: new Position(1, 20) });\n\t\t\tassert.deepStrictEqual(viewModel.getSelection(), new Selection(1, 20, 1, 21), 'Should select @ character');\n\n\t\t\t// Test double-click on '#' at position 22\n\t\t\tCoreNavigationCommands.WordSelect.runCoreEditorCommand(viewModel, { position: new Position(1, 22) });\n\t\t\tassert.deepStrictEqual(viewModel.getSelection(), new Selection(1, 22, 1, 23), 'Should select # character');\n\n\t\t\t// Test double-click on '!' at position 18\n\t\t\tCoreNavigationCommands.WordSelect.runCoreEditorCommand(viewModel, { position: new Position(1, 18) });\n\t\t\tassert.deepStrictEqual(viewModel.getSelection(), new Selection(1, 18, 1, 19), 'Should select ! character');\n\n\t\t\t// Test double-click on first '/' in '//' at position 1\n\t\t\tCoreNavigationCommands.WordSelect.runCoreEditorCommand(viewModel, { position: new Position(1, 1) });\n\t\t\tassert.deepStrictEqual(viewModel.getSelection(), new Selection(1, 1, 1, 3), 'Should select // token');\n\n\t\t\t// Test double-click on second '/' in '//' at position 2\n\t\t\tCoreNavigationCommands.WordSelect.runCoreEditorCommand(viewModel, { position: new Position(1, 2) });\n\t\t\tassert.deepStrictEqual(viewModel.getSelection(), new Selection(1, 1, 1, 3), 'Should select // token');\n\n\t\t\t// Test double-click on '\\' at position 42\n\t\t\tCoreNavigationCommands.WordSelect.runCoreEditorCommand(viewModel, { position: new Position(1, 42) });\n\t\t\tassert.deepStrictEqual(viewModel.getSelection(), new Selection(1, 42, 1, 43), 'Should select \\\\ character');\n\t\t});\n\t});\n\n\ttest('issue #9675: Undo/Redo adds a stop in between CHN Characters', () => {\n\t\twithTestCodeEditor([], {}, (editor, viewModel) => {\n\t\t\tconst model = editor.getModel()!;\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\n\t\t\t// Typing sennsei in Japanese - Hiragana\n\t\t\tviewModel.type('', 'keyboard');\n\t\t\tviewModel.compositionType('', 1, 0, 0);\n\t\t\tviewModel.compositionType('', 1, 0, 0);\n\t\t\tviewModel.compositionType('', 2, 0, 0);\n\t\t\tviewModel.compositionType('', 2, 0, 0);\n\t\t\tviewModel.compositionType('', 3, 0, 0);\n\t\t\tviewModel.compositionType('', 3, 0, 0);\n\t\t\tviewModel.compositionType('', 3, 0, 0);\n\t\t\tviewModel.compositionType('', 4, 0, 0);\n\t\t\tviewModel.compositionType('', 4, 0, 0);\n\t\t\tviewModel.compositionType('', 4, 0, 0);\n\n\t\t\tassert.strictEqual(model.getLineContent(1), '');\n\t\t\tassertCursor(viewModel, new Position(1, 5));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), '');\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\t\t});\n\t});\n\n\ttest('issue #23983: Calling model.setEOL does not reset cursor position', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'first line',\n\t\t\t\t'second line'\n\t\t\t]\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmodel.setEOL(EndOfLineSequence.CRLF);\n\n\t\t\tviewModel.setSelections('test', [new Selection(2, 2, 2, 2)]);\n\t\t\tmodel.setEOL(EndOfLineSequence.LF);\n\n\t\t\tassertCursor(viewModel, new Selection(2, 2, 2, 2));\n\t\t});\n\t});\n\n\ttest('issue #23983: Calling model.setValue() resets cursor position', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'first line',\n\t\t\t\t'second line'\n\t\t\t]\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmodel.setEOL(EndOfLineSequence.CRLF);\n\n\t\t\tviewModel.setSelections('test', [new Selection(2, 2, 2, 2)]);\n\t\t\tmodel.setValue([\n\t\t\t\t'different first line',\n\t\t\t\t'different second line',\n\t\t\t\t'new third line'\n\t\t\t].join('\\n'));\n\n\t\t\tassertCursor(viewModel, new Selection(1, 1, 1, 1));\n\t\t});\n\t});\n\n\ttest('issue #36740: wordwrap creates an extra step / character at the wrapping point', () => {\n\t\t// a single model line => 4 view lines\n\t\twithTestCodeEditor([\n\t\t\t[\n\t\t\t\t'Lorem ipsum ',\n\t\t\t\t'dolor sit amet ',\n\t\t\t\t'consectetur ',\n\t\t\t\t'adipiscing elit',\n\t\t\t].join('')\n\t\t], { wordWrap: 'wordWrapColumn', wordWrapColumn: 16 }, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 7, 1, 7)]);\n\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Selection(1, 8, 1, 8));\n\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Selection(1, 9, 1, 9));\n\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Selection(1, 10, 1, 10));\n\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Selection(1, 11, 1, 11));\n\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Selection(1, 12, 1, 12));\n\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Selection(1, 13, 1, 13));\n\n\t\t\t// moving to view line 2\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Selection(1, 14, 1, 14));\n\n\t\t\tmoveLeft(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Selection(1, 13, 1, 13));\n\n\t\t\t// moving back to view line 1\n\t\t\tmoveLeft(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Selection(1, 12, 1, 12));\n\t\t});\n\t});\n\n\ttest('issue #110376: multiple selections with wordwrap behave differently', () => {\n\t\t// a single model line => 4 view lines\n\t\twithTestCodeEditor([\n\t\t\t[\n\t\t\t\t'just a sentence. just a ',\n\t\t\t\t'sentence. just a sentence.',\n\t\t\t].join('')\n\t\t], { wordWrap: 'wordWrapColumn', wordWrapColumn: 25 }, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [\n\t\t\t\tnew Selection(1, 1, 1, 16),\n\t\t\t\tnew Selection(1, 18, 1, 33),\n\t\t\t\tnew Selection(1, 35, 1, 50),\n\t\t\t]);\n\n\t\t\tmoveLeft(editor, viewModel);\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 1, 1, 1),\n\t\t\t\tnew Selection(1, 18, 1, 18),\n\t\t\t\tnew Selection(1, 35, 1, 35),\n\t\t\t]);\n\n\t\t\tviewModel.setSelections('test', [\n\t\t\t\tnew Selection(1, 1, 1, 16),\n\t\t\t\tnew Selection(1, 18, 1, 33),\n\t\t\t\tnew Selection(1, 35, 1, 50),\n\t\t\t]);\n\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 16, 1, 16),\n\t\t\t\tnew Selection(1, 33, 1, 33),\n\t\t\t\tnew Selection(1, 50, 1, 50),\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('issue #98320: Multi-Cursor, Wrap lines and cursorSelectRight ==> cursors out of sync', () => {\n\t\t// a single model line => 4 view lines\n\t\twithTestCodeEditor([\n\t\t\t[\n\t\t\t\t'lorem_ipsum-1993x11x13',\n\t\t\t\t'dolor_sit_amet-1998x04x27',\n\t\t\t\t'consectetur-2007x10x08',\n\t\t\t\t'adipiscing-2012x07x27',\n\t\t\t\t'elit-2015x02x27',\n\t\t\t].join('\\n')\n\t\t], { wordWrap: 'wordWrapColumn', wordWrapColumn: 16 }, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [\n\t\t\t\tnew Selection(1, 13, 1, 13),\n\t\t\t\tnew Selection(2, 16, 2, 16),\n\t\t\t\tnew Selection(3, 13, 3, 13),\n\t\t\t\tnew Selection(4, 12, 4, 12),\n\t\t\t\tnew Selection(5, 6, 5, 6),\n\t\t\t]);\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 13, 1, 13),\n\t\t\t\tnew Selection(2, 16, 2, 16),\n\t\t\t\tnew Selection(3, 13, 3, 13),\n\t\t\t\tnew Selection(4, 12, 4, 12),\n\t\t\t\tnew Selection(5, 6, 5, 6),\n\t\t\t]);\n\n\t\t\tmoveRight(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 13, 1, 14),\n\t\t\t\tnew Selection(2, 16, 2, 17),\n\t\t\t\tnew Selection(3, 13, 3, 14),\n\t\t\t\tnew Selection(4, 12, 4, 13),\n\t\t\t\tnew Selection(5, 6, 5, 7),\n\t\t\t]);\n\n\t\t\tmoveRight(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 13, 1, 15),\n\t\t\t\tnew Selection(2, 16, 2, 18),\n\t\t\t\tnew Selection(3, 13, 3, 15),\n\t\t\t\tnew Selection(4, 12, 4, 14),\n\t\t\t\tnew Selection(5, 6, 5, 8),\n\t\t\t]);\n\n\t\t\tmoveRight(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 13, 1, 16),\n\t\t\t\tnew Selection(2, 16, 2, 19),\n\t\t\t\tnew Selection(3, 13, 3, 16),\n\t\t\t\tnew Selection(4, 12, 4, 15),\n\t\t\t\tnew Selection(5, 6, 5, 9),\n\t\t\t]);\n\n\t\t\tmoveRight(editor, viewModel, true);\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 13, 1, 17),\n\t\t\t\tnew Selection(2, 16, 2, 20),\n\t\t\t\tnew Selection(3, 13, 3, 17),\n\t\t\t\tnew Selection(4, 12, 4, 16),\n\t\t\t\tnew Selection(5, 6, 5, 10),\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('issue #41573 - delete across multiple lines does not shrink the selection when word wraps', () => {\n\t\twithTestCodeEditor([\n\t\t\t'Authorization: \\'Bearer pHKRfCTFSnGxs6akKlb9ddIXcca0sIUSZJutPHYqz7vEeHdMTMh0SGN0IGU3a0n59DXjTLRsj5EJ2u33qLNIFi9fk5XF8pK39PndLYUZhPt4QvHGLScgSkK0L4gwzkzMloTQPpKhqiikiIOvyNNSpd2o8j29NnOmdTUOKi9DVt74PD2ohKxyOrWZ6oZprTkb3eKajcpnS0LABKfaw2rmv4\\','\n\t\t].join('\\n'), { wordWrap: 'wordWrapColumn', wordWrapColumn: 100 }, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 43, false);\n\t\t\tmoveTo(editor, viewModel, 1, 147, true);\n\t\t\tassertCursor(viewModel, new Selection(1, 43, 1, 147));\n\n\t\t\teditor.getModel().applyEdits([{\n\t\t\t\trange: new Range(1, 1, 1, 43),\n\t\t\t\ttext: ''\n\t\t\t}]);\n\n\t\t\tassertCursor(viewModel, new Selection(1, 1, 1, 105));\n\t\t});\n\t});\n\n\ttest('issue #22717: Moving text cursor cause an incorrect position in Chinese', () => {\n\t\t// a single model line => 4 view lines\n\t\twithTestCodeEditor([\n\t\t\t[\n\t\t\t\t'',\n\t\t\t\t'12345678901234567890',\n\t\t\t].join('\\n')\n\t\t], {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 5, 1, 5)]);\n\n\t\t\tmoveDown(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Selection(2, 9, 2, 9));\n\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Selection(2, 10, 2, 10));\n\n\t\t\tmoveRight(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Selection(2, 11, 2, 11));\n\n\t\t\tmoveUp(editor, viewModel);\n\t\t\tassertCursor(viewModel, new Selection(1, 6, 1, 6));\n\t\t});\n\t});\n\n\ttest('issue #112301: new stickyTabStops feature interferes with word wrap', () => {\n\t\twithTestCodeEditor([\n\t\t\t[\n\t\t\t\t'function hello() {',\n\t\t\t\t'        console.log(`this is a long console message`)',\n\t\t\t\t'}',\n\t\t\t].join('\\n')\n\t\t], { wordWrap: 'wordWrapColumn', wordWrapColumn: 32, stickyTabStops: true }, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [\n\t\t\t\tnew Selection(2, 31, 2, 31)\n\t\t\t]);\n\t\t\tmoveRight(editor, viewModel, false);\n\t\t\tassertCursor(viewModel, new Position(2, 32));\n\n\t\t\tmoveRight(editor, viewModel, false);\n\t\t\tassertCursor(viewModel, new Position(2, 33));\n\n\t\t\tmoveRight(editor, viewModel, false);\n\t\t\tassertCursor(viewModel, new Position(2, 34));\n\n\t\t\tmoveLeft(editor, viewModel, false);\n\t\t\tassertCursor(viewModel, new Position(2, 33));\n\n\t\t\tmoveLeft(editor, viewModel, false);\n\t\t\tassertCursor(viewModel, new Position(2, 32));\n\n\t\t\tmoveLeft(editor, viewModel, false);\n\t\t\tassertCursor(viewModel, new Position(2, 31));\n\t\t});\n\t});\n\n\ttest('issue #44805: Should not be able to undo in readonly editor', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t''\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, { readOnly: true }, (editor, viewModel) => {\n\t\t\tmodel.pushEditOperations([new Selection(1, 1, 1, 1)], [{\n\t\t\t\trange: new Range(1, 1, 1, 1),\n\t\t\t\ttext: 'Hello world!'\n\t\t\t}], () => [new Selection(1, 1, 1, 1)]);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), 'Hello world!');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), 'Hello world!');\n\t\t});\n\t});\n\n\ttest('issue #46314: ViewModel is out of sync with Model!', () => {\n\n\t\tconst tokenizationSupport: ITokenizationSupport = {\n\t\t\tgetInitialState: () => NullState,\n\t\t\ttokenize: undefined!,\n\t\t\ttokenizeEncoded: (line: string, hasEOL: boolean, state: IState): EncodedTokenizationResult => {\n\t\t\t\treturn new EncodedTokenizationResult(new Uint32Array(0), state);\n\t\t\t}\n\t\t};\n\n\t\tconst LANGUAGE_ID = 'modelModeTest1';\n\t\tconst languageRegistration = TokenizationRegistry.register(LANGUAGE_ID, tokenizationSupport);\n\t\tconst model = createTextModel('Just text', LANGUAGE_ID);\n\n\t\twithTestCodeEditor(model, {}, (editor1, cursor1) => {\n\t\t\twithTestCodeEditor(model, {}, (editor2, cursor2) => {\n\n\t\t\t\tconst disposable = editor1.onDidChangeCursorPosition(() => {\n\t\t\t\t\tmodel.tokenization.tokenizeIfCheap(1);\n\t\t\t\t});\n\n\t\t\t\tmodel.applyEdits([{ range: new Range(1, 1, 1, 1), text: '-' }]);\n\n\t\t\t\tdisposable.dispose();\n\t\t\t});\n\t\t});\n\n\t\tlanguageRegistration.dispose();\n\t\tmodel.dispose();\n\t});\n\n\ttest('issue #37967: problem replacing consecutive characters', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'const a = \"foo\";',\n\t\t\t\t'const b = \"\"'\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, { multiCursorMergeOverlapping: false }, (editor, viewModel) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 12, 1, 12),\n\t\t\t\tnew Selection(1, 16, 1, 16),\n\t\t\t\tnew Selection(2, 12, 2, 12),\n\t\t\t\tnew Selection(2, 13, 2, 13),\n\t\t\t]);\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 11, 1, 11),\n\t\t\t\tnew Selection(1, 14, 1, 14),\n\t\t\t\tnew Selection(2, 11, 2, 11),\n\t\t\t\tnew Selection(2, 11, 2, 11),\n\t\t\t]);\n\n\t\t\tviewModel.type('\\'', 'keyboard');\n\n\t\t\tassert.strictEqual(model.getLineContent(1), 'const a = \\'foo\\';');\n\t\t\tassert.strictEqual(model.getLineContent(2), 'const b = \\'\\'');\n\t\t});\n\t});\n\n\ttest('issue #15761: Cursor doesn\\'t move in a redo operation', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'hello'\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 4, 1, 4)\n\t\t\t]);\n\n\t\t\teditor.executeEdits('test', [{\n\t\t\t\trange: new Range(1, 1, 1, 1),\n\t\t\t\ttext: '*',\n\t\t\t\tforceMoveMarkers: true\n\t\t\t}]);\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 5, 1, 5),\n\t\t\t]);\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 4, 1, 4),\n\t\t\t]);\n\n\t\t\teditor.runCommand(CoreEditingCommands.Redo, null);\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 5, 1, 5),\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('issue #42783: API Calls with Undo Leave Cursor in Wrong Position', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'ab'\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 1, 1, 1)\n\t\t\t]);\n\n\t\t\teditor.executeEdits('test', [{\n\t\t\t\trange: new Range(1, 1, 1, 3),\n\t\t\t\ttext: ''\n\t\t\t}]);\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 1, 1, 1),\n\t\t\t]);\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 1, 1, 1),\n\t\t\t]);\n\n\t\t\teditor.executeEdits('test', [{\n\t\t\t\trange: new Range(1, 1, 1, 2),\n\t\t\t\ttext: ''\n\t\t\t}]);\n\t\t\tassertCursor(viewModel, [\n\t\t\t\tnew Selection(1, 1, 1, 1),\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('issue #85712: Paste line moves cursor to start of current line rather than start of next line', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'abc123',\n\t\t\t\t''\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(2, 1, 2, 1)\n\t\t\t]);\n\t\t\tviewModel.paste('something\\n', true);\n\t\t\tassert.strictEqual(model.getValue(), [\n\t\t\t\t'abc123',\n\t\t\t\t'something',\n\t\t\t\t''\n\t\t\t].join('\\n'));\n\t\t\tassertCursor(viewModel, new Position(3, 1));\n\t\t});\n\t});\n\n\ttest('issue #84897: Left delete behavior in some languages is changed', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t''\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 7, 1, 7)\n\t\t\t]);\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\t\t});\n\t});\n\n\ttest('issue #122914: Left delete behavior in some languages is changed (useTabStops: false)', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t''\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, { useTabStops: false }, (editor, viewModel) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 7, 1, 7)\n\t\t\t]);\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\t\t});\n\t});\n\n\ttest('issue #99629: Emoji modifiers in text treated separately when using backspace', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t''\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, { useTabStops: false }, (editor, viewModel) => {\n\t\t\tconst len = model.getValueLength();\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 1 + len, 1, 1 + len)\n\t\t\t]);\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\t\t});\n\t});\n\n\ttest('issue #99629: Emoji modifiers in text treated separately when using backspace (ZWJ sequence)', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t''\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, { useTabStops: false }, (editor, viewModel) => {\n\t\t\tconst len = model.getValueLength();\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 1 + len, 1, 1 + len)\n\t\t\t]);\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '');\n\t\t});\n\t});\n\n\ttest('issue #105730: move left behaves differently for multiple cursors', () => {\n\t\tconst model = createTextModel('asdfghjkl, asdfghjkl, asdfghjkl, ');\n\n\t\twithTestCodeEditor(\n\t\t\tmodel,\n\t\t\t{\n\t\t\t\twordWrap: 'wordWrapColumn',\n\t\t\t\twordWrapColumn: 24\n\t\t\t},\n\t\t\t(editor, viewModel) => {\n\t\t\t\tviewModel.setSelections('test', [\n\t\t\t\t\tnew Selection(1, 10, 1, 12),\n\t\t\t\t\tnew Selection(1, 21, 1, 23),\n\t\t\t\t\tnew Selection(1, 32, 1, 34)\n\t\t\t\t]);\n\t\t\t\tmoveLeft(editor, viewModel, false);\n\t\t\t\tassertCursor(viewModel, [\n\t\t\t\t\tnew Selection(1, 10, 1, 10),\n\t\t\t\t\tnew Selection(1, 21, 1, 21),\n\t\t\t\t\tnew Selection(1, 32, 1, 32)\n\t\t\t\t]);\n\n\t\t\t\tviewModel.setSelections('test', [\n\t\t\t\t\tnew Selection(1, 10, 1, 12),\n\t\t\t\t\tnew Selection(1, 21, 1, 23),\n\t\t\t\t\tnew Selection(1, 32, 1, 34)\n\t\t\t\t]);\n\t\t\t\tmoveLeft(editor, viewModel, true);\n\t\t\t\tassertCursor(viewModel, [\n\t\t\t\t\tnew Selection(1, 10, 1, 11),\n\t\t\t\t\tnew Selection(1, 21, 1, 22),\n\t\t\t\t\tnew Selection(1, 32, 1, 33)\n\t\t\t\t]);\n\t\t\t});\n\t});\n\n\ttest('issue #105730: move right should always skip wrap point', () => {\n\t\tconst model = createTextModel('asdfghjkl, asdfghjkl, asdfghjkl, \\nasdfghjkl,');\n\n\t\twithTestCodeEditor(\n\t\t\tmodel,\n\t\t\t{\n\t\t\t\twordWrap: 'wordWrapColumn',\n\t\t\t\twordWrapColumn: 24\n\t\t\t},\n\t\t\t(editor, viewModel) => {\n\t\t\t\tviewModel.setSelections('test', [\n\t\t\t\t\tnew Selection(1, 22, 1, 22)\n\t\t\t\t]);\n\t\t\t\tmoveRight(editor, viewModel, false);\n\t\t\t\tmoveRight(editor, viewModel, false);\n\t\t\t\tassertCursor(viewModel, [\n\t\t\t\t\tnew Selection(1, 24, 1, 24),\n\t\t\t\t]);\n\n\t\t\t\tviewModel.setSelections('test', [\n\t\t\t\t\tnew Selection(1, 22, 1, 22)\n\t\t\t\t]);\n\t\t\t\tmoveRight(editor, viewModel, true);\n\t\t\t\tmoveRight(editor, viewModel, true);\n\t\t\t\tassertCursor(viewModel, [\n\t\t\t\t\tnew Selection(1, 22, 1, 24),\n\t\t\t\t]);\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('issue #123178: sticky tab in consecutive wrapped lines', () => {\n\t\tconst model = createTextModel('    aaaa        aaaa', undefined, { tabSize: 4 });\n\n\t\twithTestCodeEditor(\n\t\t\tmodel,\n\t\t\t{\n\t\t\t\twordWrap: 'wordWrapColumn',\n\t\t\t\twordWrapColumn: 8,\n\t\t\t\tstickyTabStops: true,\n\t\t\t},\n\t\t\t(editor, viewModel) => {\n\t\t\t\tviewModel.setSelections('test', [\n\t\t\t\t\tnew Selection(1, 9, 1, 9)\n\t\t\t\t]);\n\t\t\t\tmoveRight(editor, viewModel, false);\n\t\t\t\tassertCursor(viewModel, [\n\t\t\t\t\tnew Selection(1, 10, 1, 10),\n\t\t\t\t]);\n\n\t\t\t\tmoveLeft(editor, viewModel, false);\n\t\t\t\tassertCursor(viewModel, [\n\t\t\t\t\tnew Selection(1, 9, 1, 9),\n\t\t\t\t]);\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('Cursor honors insertSpaces configuration on new line', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'    \\tMy First Line\\t ',\n\t\t\t\t'\\tMy Second Line',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t]\n\t\t}, (editor, model, viewModel) => {\n\t\t\tCoreNavigationCommands.MoveTo.runCoreEditorCommand(viewModel, { position: new Position(1, 21), source: 'keyboard' });\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '    \\tMy First Line\\t ');\n\t\t\tassert.strictEqual(model.getLineContent(2), '        ');\n\t\t});\n\t});\n\n\ttest('Cursor honors insertSpaces configuration on tab', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'    \\tMy First Line\\t ',\n\t\t\t\t'My Second Line123',\n\t\t\t\t'    Third Line',\n\t\t\t\t'',\n\t\t\t\t'1'\n\t\t\t].join('\\n'),\n\t\t\tundefined,\n\t\t\t{\n\t\t\t\ttabSize: 13,\n\t\t\t\tindentSize: 13,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\t// Tab on column 1\n\t\t\tCoreNavigationCommands.MoveTo.runCoreEditorCommand(viewModel, { position: new Position(2, 1) });\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), '             My Second Line123');\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\n\t\t\t// Tab on column 2\n\t\t\tassert.strictEqual(model.getLineContent(2), 'My Second Line123');\n\t\t\tCoreNavigationCommands.MoveTo.runCoreEditorCommand(viewModel, { position: new Position(2, 2) });\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'M            y Second Line123');\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\n\t\t\t// Tab on column 3\n\t\t\tassert.strictEqual(model.getLineContent(2), 'My Second Line123');\n\t\t\tCoreNavigationCommands.MoveTo.runCoreEditorCommand(viewModel, { position: new Position(2, 3) });\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'My            Second Line123');\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\n\t\t\t// Tab on column 4\n\t\t\tassert.strictEqual(model.getLineContent(2), 'My Second Line123');\n\t\t\tCoreNavigationCommands.MoveTo.runCoreEditorCommand(viewModel, { position: new Position(2, 4) });\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'My           Second Line123');\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\n\t\t\t// Tab on column 5\n\t\t\tassert.strictEqual(model.getLineContent(2), 'My Second Line123');\n\t\t\tCoreNavigationCommands.MoveTo.runCoreEditorCommand(viewModel, { position: new Position(2, 5) });\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'My S         econd Line123');\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\n\t\t\t// Tab on column 5\n\t\t\tassert.strictEqual(model.getLineContent(2), 'My Second Line123');\n\t\t\tCoreNavigationCommands.MoveTo.runCoreEditorCommand(viewModel, { position: new Position(2, 5) });\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'My S         econd Line123');\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\n\t\t\t// Tab on column 13\n\t\t\tassert.strictEqual(model.getLineContent(2), 'My Second Line123');\n\t\t\tCoreNavigationCommands.MoveTo.runCoreEditorCommand(viewModel, { position: new Position(2, 13) });\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'My Second Li ne123');\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\n\t\t\t// Tab on column 14\n\t\t\tassert.strictEqual(model.getLineContent(2), 'My Second Line123');\n\t\t\tCoreNavigationCommands.MoveTo.runCoreEditorCommand(viewModel, { position: new Position(2, 14) });\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'My Second Lin             e123');\n\t\t});\n\t});\n\n\ttest('Enter auto-indents with insertSpaces setting 1', () => {\n\t\tconst languageId = setupOnEnterLanguage(IndentAction.Indent);\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'\\thello'\n\t\t\t],\n\t\t\tlanguageId: languageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 7, false);\n\t\t\tassertCursor(viewModel, new Selection(1, 7, 1, 7));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.CRLF), '\\thello\\r\\n        ');\n\t\t});\n\t});\n\n\ttest('Enter auto-indents with insertSpaces setting 2', () => {\n\t\tconst languageId = setupOnEnterLanguage(IndentAction.None);\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'\\thello'\n\t\t\t],\n\t\t\tlanguageId: languageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 7, false);\n\t\t\tassertCursor(viewModel, new Selection(1, 7, 1, 7));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.CRLF), '\\thello\\r\\n    ');\n\t\t});\n\t});\n\n\ttest('Enter auto-indents with insertSpaces setting 3', () => {\n\t\tconst languageId = setupOnEnterLanguage(IndentAction.IndentOutdent);\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'\\thell()'\n\t\t\t],\n\t\t\tlanguageId: languageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 7, false);\n\t\t\tassertCursor(viewModel, new Selection(1, 7, 1, 7));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.CRLF), '\\thell(\\r\\n        \\r\\n    )');\n\t\t});\n\t});\n\n\ttest('issue #148256: Pressing Enter creates line with bad indent with insertSpaces: true', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'  \\t'\n\t\t\t],\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 4, false);\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), '  \\t\\n    ');\n\t\t});\n\t});\n\n\ttest('issue #148256: Pressing Enter creates line with bad indent with insertSpaces: false', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'  \\t'\n\t\t\t]\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmodel.updateOptions({\n\t\t\t\tinsertSpaces: false\n\t\t\t});\n\t\t\tmoveTo(editor, viewModel, 1, 4, false);\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), '  \\t\\n\\t');\n\t\t});\n\t});\n\n\ttest('removeAutoWhitespace off', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'    some  line abc  '\n\t\t\t],\n\t\t\tmodelOpts: {\n\t\t\t\ttrimAutoWhitespace: false\n\t\t\t}\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\t// Move cursor to the end, verify that we do not trim whitespaces if line has values\n\t\t\tmoveTo(editor, viewModel, 1, model.getLineContent(1).length + 1);\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '    some  line abc  ');\n\t\t\tassert.strictEqual(model.getLineContent(2), '    ');\n\n\t\t\t// Try to enter again, we should trimmed previous line\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '    some  line abc  ');\n\t\t\tassert.strictEqual(model.getLineContent(2), '    ');\n\t\t\tassert.strictEqual(model.getLineContent(3), '    ');\n\t\t});\n\t});\n\n\ttest('removeAutoWhitespace on: removes only whitespace the cursor added 1', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'    '\n\t\t\t]\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, model.getLineContent(1).length + 1);\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '    ');\n\t\t\tassert.strictEqual(model.getLineContent(2), '    ');\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '    ');\n\t\t\tassert.strictEqual(model.getLineContent(2), '');\n\t\t\tassert.strictEqual(model.getLineContent(3), '    ');\n\t\t});\n\t});\n\n\ttest('issue #115033: indent and appendText', () => {\n\t\tconst languageId = 'onEnterMode';\n\n\t\tdisposables.add(languageService.registerLanguage({ id: languageId }));\n\t\tdisposables.add(languageConfigurationService.register(languageId, {\n\t\t\tonEnterRules: [{\n\t\t\t\tbeforeText: /.*/,\n\t\t\t\taction: {\n\t\t\t\t\tindentAction: IndentAction.Indent,\n\t\t\t\t\tappendText: 'x'\n\t\t\t\t}\n\t\t\t}]\n\t\t}));\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'text'\n\t\t\t],\n\t\t\tlanguageId: languageId,\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tmoveTo(editor, viewModel, 1, 5);\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'text');\n\t\t\tassert.strictEqual(model.getLineContent(2), '    x');\n\t\t\tassertCursor(viewModel, new Position(2, 6));\n\t\t});\n\t});\n\n\ttest('issue #6862: Editor removes auto inserted indentation when formatting on type', () => {\n\t\tconst languageId = setupOnEnterLanguage(IndentAction.IndentOutdent);\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'function foo (params: string) {}'\n\t\t\t],\n\t\t\tlanguageId: languageId,\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tmoveTo(editor, viewModel, 1, 32);\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'function foo (params: string) {');\n\t\t\tassert.strictEqual(model.getLineContent(2), '    ');\n\t\t\tassert.strictEqual(model.getLineContent(3), '}');\n\n\t\t\tclass TestCommand implements ICommand {\n\n\t\t\t\tprivate _selectionId: string | null = null;\n\n\t\t\t\tpublic getEditOperations(model: ITextModel, builder: IEditOperationBuilder): void {\n\t\t\t\t\tbuilder.addEditOperation(new Range(1, 13, 1, 14), '');\n\t\t\t\t\tthis._selectionId = builder.trackSelection(viewModel.getSelection());\n\t\t\t\t}\n\n\t\t\t\tpublic computeCursorState(model: ITextModel, helper: ICursorStateComputerData): Selection {\n\t\t\t\t\treturn helper.getTrackedSelection(this._selectionId!);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tviewModel.executeCommand(new TestCommand(), 'autoFormat');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'function foo(params: string) {');\n\t\t\tassert.strictEqual(model.getLineContent(2), '    ');\n\t\t\tassert.strictEqual(model.getLineContent(3), '}');\n\t\t});\n\t});\n\n\ttest('removeAutoWhitespace on: removes only whitespace the cursor added 2', () => {\n\t\tconst languageId = 'testLang';\n\t\tconst registration = languageService.registerLanguage({ id: languageId });\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'    if (a) {',\n\t\t\t\t'        ',\n\t\t\t\t'',\n\t\t\t\t'',\n\t\t\t\t'    }'\n\t\t\t].join('\\n'),\n\t\t\tlanguageId\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\n\t\t\tmoveTo(editor, viewModel, 3, 1);\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), '    if (a) {');\n\t\t\tassert.strictEqual(model.getLineContent(2), '        ');\n\t\t\tassert.strictEqual(model.getLineContent(3), '    ');\n\t\t\tassert.strictEqual(model.getLineContent(4), '');\n\t\t\tassert.strictEqual(model.getLineContent(5), '    }');\n\n\t\t\tmoveTo(editor, viewModel, 4, 1);\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), '    if (a) {');\n\t\t\tassert.strictEqual(model.getLineContent(2), '        ');\n\t\t\tassert.strictEqual(model.getLineContent(3), '');\n\t\t\tassert.strictEqual(model.getLineContent(4), '    ');\n\t\t\tassert.strictEqual(model.getLineContent(5), '    }');\n\n\t\t\tmoveTo(editor, viewModel, 5, model.getLineMaxColumn(5));\n\t\t\tviewModel.type('something', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '    if (a) {');\n\t\t\tassert.strictEqual(model.getLineContent(2), '        ');\n\t\t\tassert.strictEqual(model.getLineContent(3), '');\n\t\t\tassert.strictEqual(model.getLineContent(4), '');\n\t\t\tassert.strictEqual(model.getLineContent(5), '    }something');\n\t\t});\n\n\t\tregistration.dispose();\n\t});\n\n\ttest('removeAutoWhitespace on: test 1', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'    some  line abc  '\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\n\t\t\t// Move cursor to the end, verify that we do not trim whitespaces if line has values\n\t\t\tmoveTo(editor, viewModel, 1, model.getLineContent(1).length + 1);\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '    some  line abc  ');\n\t\t\tassert.strictEqual(model.getLineContent(2), '    ');\n\n\t\t\t// Try to enter again, we should trimmed previous line\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '    some  line abc  ');\n\t\t\tassert.strictEqual(model.getLineContent(2), '');\n\t\t\tassert.strictEqual(model.getLineContent(3), '    ');\n\n\t\t\t// More whitespaces\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), '    some  line abc  ');\n\t\t\tassert.strictEqual(model.getLineContent(2), '');\n\t\t\tassert.strictEqual(model.getLineContent(3), '        ');\n\n\t\t\t// Enter and verify that trimmed again\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '    some  line abc  ');\n\t\t\tassert.strictEqual(model.getLineContent(2), '');\n\t\t\tassert.strictEqual(model.getLineContent(3), '');\n\t\t\tassert.strictEqual(model.getLineContent(4), '        ');\n\n\t\t\t// Trimmed if we will keep only text\n\t\t\tmoveTo(editor, viewModel, 1, 5);\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '    ');\n\t\t\tassert.strictEqual(model.getLineContent(2), '    some  line abc  ');\n\t\t\tassert.strictEqual(model.getLineContent(3), '');\n\t\t\tassert.strictEqual(model.getLineContent(4), '');\n\t\t\tassert.strictEqual(model.getLineContent(5), '');\n\n\t\t\t// Trimmed if we will keep only text by selection\n\t\t\tmoveTo(editor, viewModel, 2, 5);\n\t\t\tmoveTo(editor, viewModel, 3, 1, true);\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '    ');\n\t\t\tassert.strictEqual(model.getLineContent(2), '    ');\n\t\t\tassert.strictEqual(model.getLineContent(3), '    ');\n\t\t\tassert.strictEqual(model.getLineContent(4), '');\n\t\t\tassert.strictEqual(model.getLineContent(5), '');\n\t\t});\n\t});\n\n\ttest('issue #15118: remove auto whitespace when pasting entire line', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'    function f() {',\n\t\t\t\t'        // I\\'m gonna copy this line',\n\t\t\t\t'        return 3;',\n\t\t\t\t'    }',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\n\t\t\tmoveTo(editor, viewModel, 3, model.getLineMaxColumn(3));\n\t\t\tviewModel.type('\\n', 'keyboard');\n\n\t\t\tassert.strictEqual(model.getValue(), [\n\t\t\t\t'    function f() {',\n\t\t\t\t'        // I\\'m gonna copy this line',\n\t\t\t\t'        return 3;',\n\t\t\t\t'        ',\n\t\t\t\t'    }',\n\t\t\t].join('\\n'));\n\t\t\tassertCursor(viewModel, new Position(4, model.getLineMaxColumn(4)));\n\n\t\t\tviewModel.paste('        // I\\'m gonna copy this line\\n', true);\n\t\t\tassert.strictEqual(model.getValue(), [\n\t\t\t\t'    function f() {',\n\t\t\t\t'        // I\\'m gonna copy this line',\n\t\t\t\t'        return 3;',\n\t\t\t\t'        // I\\'m gonna copy this line',\n\t\t\t\t'',\n\t\t\t\t'    }',\n\t\t\t].join('\\n'));\n\t\t\tassertCursor(viewModel, new Position(5, 1));\n\t\t});\n\t});\n\n\ttest('issue #40695: maintain cursor position when copying lines using ctrl+c, ctrl+v', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'    function f() {',\n\t\t\t\t'        // I\\'m gonna copy this line',\n\t\t\t\t'        // Another line',\n\t\t\t\t'        return 3;',\n\t\t\t\t'    }',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\n\t\t\teditor.setSelections([new Selection(4, 10, 4, 10)]);\n\t\t\tviewModel.paste('        // I\\'m gonna copy this line\\n', true);\n\n\t\t\tassert.strictEqual(model.getValue(), [\n\t\t\t\t'    function f() {',\n\t\t\t\t'        // I\\'m gonna copy this line',\n\t\t\t\t'        // Another line',\n\t\t\t\t'        // I\\'m gonna copy this line',\n\t\t\t\t'        return 3;',\n\t\t\t\t'    }',\n\t\t\t].join('\\n'));\n\t\t\tassertCursor(viewModel, new Position(5, 10));\n\t\t});\n\t});\n\n\ttest('UseTabStops is off', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'    x',\n\t\t\t\t'        a    ',\n\t\t\t\t'    '\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, { useTabStops: false }, (editor, viewModel) => {\n\t\t\t// DeleteLeft removes just one whitespace\n\t\t\tmoveTo(editor, viewModel, 2, 9);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), '       a    ');\n\t\t});\n\t});\n\n\ttest('Backspace removes whitespaces with tab size', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t' \\t \\t     x',\n\t\t\t\t'        a    ',\n\t\t\t\t'    '\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, { useTabStops: true }, (editor, viewModel) => {\n\t\t\t// DeleteLeft does not remove tab size, because some text exists before\n\t\t\tmoveTo(editor, viewModel, 2, model.getLineContent(2).length + 1);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), '        a   ');\n\n\t\t\t// DeleteLeft removes tab size = 4\n\t\t\tmoveTo(editor, viewModel, 2, 9);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), '    a   ');\n\n\t\t\t// DeleteLeft removes tab size = 4\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'a   ');\n\n\t\t\t// Undo DeleteLeft - get us back to original indentation\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), '        a   ');\n\n\t\t\t// Nothing is broken when cursor is in (1,1)\n\t\t\tmoveTo(editor, viewModel, 1, 1);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), ' \\t \\t     x');\n\n\t\t\t// DeleteLeft stops at tab stops even in mixed whitespace case\n\t\t\tmoveTo(editor, viewModel, 1, 10);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), ' \\t \\t    x');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), ' \\t \\tx');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), ' \\tx');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x');\n\n\t\t\t// DeleteLeft on last line\n\t\t\tmoveTo(editor, viewModel, 3, model.getLineContent(3).length + 1);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(3), '');\n\n\t\t\t// DeleteLeft with removing new line symbol\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), 'x\\n        a   ');\n\n\t\t\t// In case of selection DeleteLeft only deletes selected text\n\t\t\tmoveTo(editor, viewModel, 2, 3);\n\t\t\tmoveTo(editor, viewModel, 2, 4, true);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), '       a   ');\n\t\t});\n\t});\n\n\ttest('PR #5423: Auto indent + undo + redo is funky', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t''\n\t\t\t].join('\\n'),\n\t\t\tundefined,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n', 'assert1');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\t', 'assert2');\n\n\t\t\tviewModel.type('y', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\ty', 'assert2');\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\ty\\n\\t', 'assert3');\n\n\t\t\tviewModel.type('x');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\ty\\n\\tx', 'assert4');\n\n\t\t\tCoreNavigationCommands.CursorLeft.runCoreEditorCommand(viewModel, {});\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\ty\\n\\tx', 'assert5');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\ty\\nx', 'assert6');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\tyx', 'assert7');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\tx', 'assert8');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\nx', 'assert9');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), 'x', 'assert10');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\nx', 'assert11');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\ty\\nx', 'assert12');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\ty\\n\\tx', 'assert13');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Redo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\n\\ty\\nx', 'assert14');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Redo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '\\nx', 'assert15');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Redo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), 'x', 'assert16');\n\t\t});\n\t});\n\n\ttest('issue #90973: Undo brings back model alternative version', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t''\n\t\t\t].join('\\n'),\n\t\t\tundefined,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tconst beforeVersion = model.getVersionId();\n\t\t\tconst beforeAltVersion = model.getAlternativeVersionId();\n\t\t\tviewModel.type('Hello', 'keyboard');\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tconst afterVersion = model.getVersionId();\n\t\t\tconst afterAltVersion = model.getAlternativeVersionId();\n\n\t\t\tassert.notStrictEqual(beforeVersion, afterVersion);\n\t\t\tassert.strictEqual(beforeAltVersion, afterAltVersion);\n\t\t});\n\t});\n\n\ttest('Enter honors increaseIndentPattern', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'\\tif (true) {'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t\tmodelOpts: { insertSpaces: false },\n\t\t\teditorOpts: { autoIndent: 'full' }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 12, false);\n\t\t\tassertCursor(viewModel, new Selection(1, 12, 1, 12));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\tassertCursor(viewModel, new Selection(2, 2, 2, 2));\n\n\t\t\tmoveTo(editor, viewModel, 3, 13, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 13, 3, 13));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(4, 3, 4, 3));\n\t\t});\n\t});\n\n\ttest('Type honors decreaseIndentPattern', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'\\t'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t\teditorOpts: { autoIndent: 'full' }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 2, false);\n\t\t\tassertCursor(viewModel, new Selection(2, 2, 2, 2));\n\n\t\t\tviewModel.type('}', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(2, 2, 2, 2));\n\t\t\tassert.strictEqual(model.getLineContent(2), '}', '001');\n\t\t});\n\t});\n\n\ttest('Enter honors unIndentedLinePattern', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'\\t\\t\\treturn true'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t\tmodelOpts: { insertSpaces: false },\n\t\t\teditorOpts: { autoIndent: 'full' }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 15, false);\n\t\t\tassertCursor(viewModel, new Selection(2, 15, 2, 15));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(3, 2, 3, 2));\n\t\t});\n\t});\n\n\ttest('Enter honors indentNextLinePattern', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true)',\n\t\t\t\t'\\treturn true;',\n\t\t\t\t'if (true)',\n\t\t\t\t'\\t\\t\\t\\treturn true'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t\tmodelOpts: { insertSpaces: false },\n\t\t\teditorOpts: { autoIndent: 'full' }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 14, false);\n\t\t\tassertCursor(viewModel, new Selection(2, 14, 2, 14));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\tassertCursor(viewModel, new Selection(3, 1, 3, 1));\n\n\t\t\tmoveTo(editor, viewModel, 5, 16, false);\n\t\t\tassertCursor(viewModel, new Selection(5, 16, 5, 16));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(6, 2, 6, 2));\n\t\t});\n\t});\n\n\ttest('Enter honors indentNextLinePattern 2', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'if (true)',\n\t\t\t\t'\\tif (true)'\n\t\t\t].join('\\n'),\n\t\t\tindentRulesLanguageId,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, { autoIndent: 'full' }, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 11, false);\n\t\t\tassertCursor(viewModel, new Selection(2, 11, 2, 11));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\tassertCursor(viewModel, new Selection(3, 3, 3, 3));\n\n\t\t\tviewModel.type('console.log();', 'keyboard');\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(4, 1, 4, 1));\n\t\t});\n\t});\n\n\ttest('Enter honors intential indent', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'\\tif (true) {',\n\t\t\t\t'return true;',\n\t\t\t\t'}}'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t\teditorOpts: { autoIndent: 'full' }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 13, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 13, 3, 13));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(4, 1, 4, 1));\n\t\t\tassert.strictEqual(model.getLineContent(3), 'return true;', '001');\n\t\t});\n\t});\n\n\ttest('Enter supports selection 1', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'\\tif (true) {',\n\t\t\t\t'\\t\\treturn true;',\n\t\t\t\t'\\t}a}'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t\tmodelOpts: { insertSpaces: false }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 4, 3, false);\n\t\t\tmoveTo(editor, viewModel, 4, 4, true);\n\t\t\tassertCursor(viewModel, new Selection(4, 3, 4, 4));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(5, 1, 5, 1));\n\t\t\tassert.strictEqual(model.getLineContent(4), '\\t}', '001');\n\t\t});\n\t});\n\n\ttest('Enter supports selection 2', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'\\tif (true) {'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t\tmodelOpts: { insertSpaces: false }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 12, false);\n\t\t\tmoveTo(editor, viewModel, 2, 13, true);\n\t\t\tassertCursor(viewModel, new Selection(2, 12, 2, 13));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(3, 3, 3, 3));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(4, 3, 4, 3));\n\t\t});\n\t});\n\n\ttest('Enter honors tabSize and insertSpaces 1', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'\\tif (true) {'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 12, false);\n\t\t\tassertCursor(viewModel, new Selection(1, 12, 1, 12));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(2, 5, 2, 5));\n\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\n\t\t\tmoveTo(editor, viewModel, 3, 13, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 13, 3, 13));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(4, 9, 4, 9));\n\t\t});\n\t});\n\n\ttest('Enter honors tabSize and insertSpaces 2', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'    if (true) {'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 12, false);\n\t\t\tassertCursor(viewModel, new Selection(1, 12, 1, 12));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\tassertCursor(viewModel, new Selection(2, 5, 2, 5));\n\n\t\t\tmoveTo(editor, viewModel, 3, 16, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 16, 3, 16));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(3), '    if (true) {');\n\t\t\tassertCursor(viewModel, new Selection(4, 9, 4, 9));\n\t\t});\n\t});\n\n\ttest('Enter honors tabSize and insertSpaces 3', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'    if (true) {'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t\tmodelOpts: { insertSpaces: false }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 12, false);\n\t\t\tassertCursor(viewModel, new Selection(1, 12, 1, 12));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\tassertCursor(viewModel, new Selection(2, 2, 2, 2));\n\n\t\t\tmoveTo(editor, viewModel, 3, 16, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 16, 3, 16));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(3), '    if (true) {');\n\t\t\tassertCursor(viewModel, new Selection(4, 3, 4, 3));\n\t\t});\n\t});\n\n\ttest('Enter supports intentional indentation', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'\\tif (true) {',\n\t\t\t\t'\\t\\tswitch(true) {',\n\t\t\t\t'\\t\\t\\tcase true:',\n\t\t\t\t'\\t\\t\\t\\tbreak;',\n\t\t\t\t'\\t\\t}',\n\t\t\t\t'\\t}'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t\tmodelOpts: { insertSpaces: false },\n\t\t\teditorOpts: { autoIndent: 'full' }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 5, 4, false);\n\t\t\tassertCursor(viewModel, new Selection(5, 4, 5, 4));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(5), '\\t\\t}');\n\t\t\tassertCursor(viewModel, new Selection(6, 3, 6, 3));\n\t\t});\n\t});\n\n\ttest('Enter should not adjust cursor position when press enter in the middle of a line 1', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'\\tif (true) {',\n\t\t\t\t'\\t\\treturn true;',\n\t\t\t\t'\\t}a}'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t\tmodelOpts: { insertSpaces: false }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 9, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 9, 3, 9));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(4, 3, 4, 3));\n\t\t\tassert.strictEqual(model.getLineContent(4), '\\t\\t true;', '001');\n\t\t});\n\t});\n\n\ttest('Enter should not adjust cursor position when press enter in the middle of a line 2', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'\\tif (true) {',\n\t\t\t\t'\\t\\treturn true;',\n\t\t\t\t'\\t}a}'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t\tmodelOpts: { insertSpaces: false }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 3, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 3, 3, 3));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(4, 3, 4, 3));\n\t\t\tassert.strictEqual(model.getLineContent(4), '\\t\\treturn true;', '001');\n\t\t});\n\t});\n\n\ttest('Enter should not adjust cursor position when press enter in the middle of a line 3', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'  if (true) {',\n\t\t\t\t'    return true;',\n\t\t\t\t'  }a}'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 11, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 11, 3, 11));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(4, 5, 4, 5));\n\t\t\tassert.strictEqual(model.getLineContent(4), '     true;', '001');\n\t\t});\n\t});\n\n\ttest('Enter should adjust cursor position when press enter in the middle of leading whitespaces 1', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'\\tif (true) {',\n\t\t\t\t'\\t\\treturn true;',\n\t\t\t\t'\\t}a}'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t\tmodelOpts: { insertSpaces: false }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 2, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 2, 3, 2));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(4, 2, 4, 2));\n\t\t\tassert.strictEqual(model.getLineContent(4), '\\t\\treturn true;', '001');\n\n\t\t\tmoveTo(editor, viewModel, 4, 1, false);\n\t\t\tassertCursor(viewModel, new Selection(4, 1, 4, 1));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(5, 1, 5, 1));\n\t\t\tassert.strictEqual(model.getLineContent(5), '\\t\\treturn true;', '002');\n\t\t});\n\t});\n\n\ttest('Enter should adjust cursor position when press enter in the middle of leading whitespaces 2', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'\\tif (true) {',\n\t\t\t\t'\\t\\tif (true) {',\n\t\t\t\t'\\t    \\treturn true;',\n\t\t\t\t'\\t\\t}a}'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t\tmodelOpts: { insertSpaces: false }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 4, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 4, 3, 4));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(4, 3, 4, 3));\n\t\t\tassert.strictEqual(model.getLineContent(4), '\\t\\t\\treturn true;', '001');\n\n\t\t\tmoveTo(editor, viewModel, 4, 1, false);\n\t\t\tassertCursor(viewModel, new Selection(4, 1, 4, 1));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(5, 1, 5, 1));\n\t\t\tassert.strictEqual(model.getLineContent(5), '\\t\\t\\treturn true;', '002');\n\t\t});\n\t});\n\n\ttest('Enter should adjust cursor position when press enter in the middle of leading whitespaces 3', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'  if (true) {',\n\t\t\t\t'    return true;',\n\t\t\t\t'}a}'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 2, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 2, 3, 2));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(4, 2, 4, 2));\n\t\t\tassert.strictEqual(model.getLineContent(4), '    return true;', '001');\n\n\t\t\tmoveTo(editor, viewModel, 4, 3, false);\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(5, 3, 5, 3));\n\t\t\tassert.strictEqual(model.getLineContent(5), '    return true;', '002');\n\t\t});\n\t});\n\n\ttest('Enter should adjust cursor position when press enter in the middle of leading whitespaces 4', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'  if (true) {',\n\t\t\t\t'\\t  return true;',\n\t\t\t\t'}a}',\n\t\t\t\t'',\n\t\t\t\t'if (true) {',\n\t\t\t\t'  if (true) {',\n\t\t\t\t'\\t  return true;',\n\t\t\t\t'}a}'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t\tmodelOpts: {\n\t\t\t\ttabSize: 2,\n\t\t\t\tindentSize: 2\n\t\t\t}\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 3, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 3, 3, 3));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(4, 4, 4, 4));\n\t\t\tassert.strictEqual(model.getLineContent(4), '    return true;', '001');\n\n\t\t\tmoveTo(editor, viewModel, 9, 4, false);\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(10, 5, 10, 5));\n\t\t\tassert.strictEqual(model.getLineContent(10), '    return true;', '001');\n\t\t});\n\t});\n\n\ttest('Enter should adjust cursor position when press enter in the middle of leading whitespaces 5', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'  if (true) {',\n\t\t\t\t'    return true;',\n\t\t\t\t'    return true;',\n\t\t\t\t''\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t\tmodelOpts: { tabSize: 2 }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 5, false);\n\t\t\tmoveTo(editor, viewModel, 4, 3, true);\n\t\t\tassertCursor(viewModel, new Selection(3, 5, 4, 3));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(4, 3, 4, 3));\n\t\t\tassert.strictEqual(model.getLineContent(4), '    return true;', '001');\n\t\t});\n\t});\n\n\ttest('issue microsoft/monaco-editor#108 part 1/2: Auto indentation on Enter with selection is half broken', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'function baz() {',\n\t\t\t\t'\\tvar x = 1;',\n\t\t\t\t'\\t\\t\\t\\t\\t\\t\\treturn x;',\n\t\t\t\t'}'\n\t\t\t],\n\t\t\tmodelOpts: {\n\t\t\t\tinsertSpaces: false,\n\t\t\t},\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 8, false);\n\t\t\tmoveTo(editor, viewModel, 2, 12, true);\n\t\t\tassertCursor(viewModel, new Selection(3, 8, 2, 12));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(3), '\\treturn x;');\n\t\t\tassertCursor(viewModel, new Position(3, 2));\n\t\t});\n\t});\n\n\ttest('issue microsoft/monaco-editor#108 part 2/2: Auto indentation on Enter with selection is half broken', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'function baz() {',\n\t\t\t\t'\\tvar x = 1;',\n\t\t\t\t'\\t\\t\\t\\t\\t\\t\\treturn x;',\n\t\t\t\t'}'\n\t\t\t],\n\t\t\tmodelOpts: {\n\t\t\t\tinsertSpaces: false,\n\t\t\t},\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 12, false);\n\t\t\tmoveTo(editor, viewModel, 3, 8, true);\n\t\t\tassertCursor(viewModel, new Selection(2, 12, 3, 8));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(3), '\\treturn x;');\n\t\t\tassertCursor(viewModel, new Position(3, 2));\n\t\t});\n\t});\n\n\ttest('onEnter works if there are no indentation rules', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'<?',\n\t\t\t\t'\\tif (true) {',\n\t\t\t\t'\\t\\techo $hi;',\n\t\t\t\t'\\t\\techo $bye;',\n\t\t\t\t'\\t}',\n\t\t\t\t'?>'\n\t\t\t],\n\t\t\tmodelOpts: { insertSpaces: false }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 5, 3, false);\n\t\t\tassertCursor(viewModel, new Selection(5, 3, 5, 3));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(6), '\\t');\n\t\t\tassertCursor(viewModel, new Selection(6, 2, 6, 2));\n\t\t\tassert.strictEqual(model.getLineContent(5), '\\t}');\n\t\t});\n\t});\n\n\ttest('onEnter works if there are no indentation rules 2', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'\tif (5)',\n\t\t\t\t'\t\treturn 5;',\n\t\t\t\t'\t'\n\t\t\t],\n\t\t\tmodelOpts: { insertSpaces: false }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 2, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 2, 3, 2));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(4, 2, 4, 2));\n\t\t\tassert.strictEqual(model.getLineContent(4), '\\t');\n\t\t});\n\t});\n\n\ttest('bug #16543: Tab should indent to correct indentation spot immediately', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'function baz() {',\n\t\t\t\t'\\tfunction hello() { // something here',\n\t\t\t\t'\\t',\n\t\t\t\t'',\n\t\t\t\t'\\t}',\n\t\t\t\t'}'\n\t\t\t].join('\\n'),\n\t\t\tindentRulesLanguageId,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 4, 1, false);\n\t\t\tassertCursor(viewModel, new Selection(4, 1, 4, 1));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(4), '\\t\\t');\n\t\t});\n\t});\n\n\n\ttest('bug #2938 (1): When pressing Tab on white-space only lines, indent straight to the right spot (similar to empty lines)', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'\\tfunction baz() {',\n\t\t\t\t'\\t\\tfunction hello() { // something here',\n\t\t\t\t'\\t\\t',\n\t\t\t\t'\\t',\n\t\t\t\t'\\t\\t}',\n\t\t\t\t'\\t}'\n\t\t\t].join('\\n'),\n\t\t\tindentRulesLanguageId,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 4, 2, false);\n\t\t\tassertCursor(viewModel, new Selection(4, 2, 4, 2));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(4), '\\t\\t\\t');\n\t\t});\n\t});\n\n\n\ttest('bug #2938 (2): When pressing Tab on white-space only lines, indent straight to the right spot (similar to empty lines)', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'\\tfunction baz() {',\n\t\t\t\t'\\t\\tfunction hello() { // something here',\n\t\t\t\t'\\t\\t',\n\t\t\t\t'    ',\n\t\t\t\t'\\t\\t}',\n\t\t\t\t'\\t}'\n\t\t\t].join('\\n'),\n\t\t\tindentRulesLanguageId,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 4, 1, false);\n\t\t\tassertCursor(viewModel, new Selection(4, 1, 4, 1));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(4), '\\t\\t\\t');\n\t\t});\n\t});\n\n\ttest('bug #2938 (3): When pressing Tab on white-space only lines, indent straight to the right spot (similar to empty lines)', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'\\tfunction baz() {',\n\t\t\t\t'\\t\\tfunction hello() { // something here',\n\t\t\t\t'\\t\\t',\n\t\t\t\t'\\t\\t\\t',\n\t\t\t\t'\\t\\t}',\n\t\t\t\t'\\t}'\n\t\t\t].join('\\n'),\n\t\t\tindentRulesLanguageId,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 4, 3, false);\n\t\t\tassertCursor(viewModel, new Selection(4, 3, 4, 3));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(4), '\\t\\t\\t\\t');\n\t\t});\n\t});\n\n\ttest('bug #2938 (4): When pressing Tab on white-space only lines, indent straight to the right spot (similar to empty lines)', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'\\tfunction baz() {',\n\t\t\t\t'\\t\\tfunction hello() { // something here',\n\t\t\t\t'\\t\\t',\n\t\t\t\t'\\t\\t\\t\\t',\n\t\t\t\t'\\t\\t}',\n\t\t\t\t'\\t}'\n\t\t\t].join('\\n'),\n\t\t\tindentRulesLanguageId,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 4, 4, false);\n\t\t\tassertCursor(viewModel, new Selection(4, 4, 4, 4));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(4), '\\t\\t\\t\\t\\t');\n\t\t});\n\t});\n\n\ttest('bug #31015: When pressing Tab on lines and Enter rules are avail, indent straight to the right spotTab', () => {\n\t\tconst onEnterLanguageId = setupOnEnterLanguage(IndentAction.Indent);\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'    if (a) {',\n\t\t\t\t'        ',\n\t\t\t\t'',\n\t\t\t\t'',\n\t\t\t\t'    }'\n\t\t\t].join('\\n'),\n\t\t\tonEnterLanguageId\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\n\t\t\tmoveTo(editor, viewModel, 3, 1);\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), '    if (a) {');\n\t\t\tassert.strictEqual(model.getLineContent(2), '        ');\n\t\t\tassert.strictEqual(model.getLineContent(3), '        ');\n\t\t\tassert.strictEqual(model.getLineContent(4), '');\n\t\t\tassert.strictEqual(model.getLineContent(5), '    }');\n\t\t});\n\t});\n\n\ttest('type honors indentation rules: ruby keywords', () => {\n\t\tconst rubyLanguageId = setupIndentRulesLanguage('ruby', {\n\t\t\tincreaseIndentPattern: /^\\s*((begin|class|def|else|elsif|ensure|for|if|module|rescue|unless|until|when|while)|(.*\\sdo\\b))\\b[^\\{;]*$/,\n\t\t\tdecreaseIndentPattern: /^\\s*([}\\]]([,)]?\\s*(#|$)|\\.[a-zA-Z_]\\w*\\b)|(end|rescue|ensure|else|elsif|when)\\b)/\n\t\t});\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'class Greeter',\n\t\t\t\t'  def initialize(name)',\n\t\t\t\t'    @name = name',\n\t\t\t\t'    en'\n\t\t\t].join('\\n'),\n\t\t\trubyLanguageId\n\t\t);\n\n\t\twithTestCodeEditor(model, { autoIndent: 'full' }, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 4, 7, false);\n\t\t\tassertCursor(viewModel, new Selection(4, 7, 4, 7));\n\n\t\t\tviewModel.type('d', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(4), '  end');\n\t\t});\n\t});\n\n\ttest('Auto indent on type: increaseIndentPattern has higher priority than decreaseIndent when inheriting', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'\\tif (true) {',\n\t\t\t\t'\\t\\tconsole.log();',\n\t\t\t\t'\\t} else if {',\n\t\t\t\t'\\t\\tconsole.log()',\n\t\t\t\t'\\t}'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 5, 3, false);\n\t\t\tassertCursor(viewModel, new Selection(5, 3, 5, 3));\n\n\t\t\tviewModel.type('e', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(5, 4, 5, 4));\n\t\t\tassert.strictEqual(model.getLineContent(5), '\\t}e', 'This line should not decrease indent');\n\t\t});\n\t});\n\n\ttest('type honors users indentation adjustment', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'\\tif (true ||',\n\t\t\t\t'\\t ) {',\n\t\t\t\t'\\t}',\n\t\t\t\t'if (true ||',\n\t\t\t\t') {',\n\t\t\t\t'}'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 3, false);\n\t\t\tassertCursor(viewModel, new Selection(2, 3, 2, 3));\n\n\t\t\tviewModel.type(' ', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(2, 4, 2, 4));\n\t\t\tassert.strictEqual(model.getLineContent(2), '\\t  ) {', 'This line should not decrease indent');\n\t\t});\n\t});\n\n\ttest('bug 29972: if a line is line comment, open bracket should not indent next line', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'if (true) {',\n\t\t\t\t'\\t// {',\n\t\t\t\t'\\t\\t'\n\t\t\t],\n\t\t\tlanguageId: indentRulesLanguageId,\n\t\t\teditorOpts: { autoIndent: 'full' }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 3, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 3, 3, 3));\n\n\t\t\tviewModel.type('}', 'keyboard');\n\t\t\tassertCursor(viewModel, new Selection(3, 2, 3, 2));\n\t\t\tassert.strictEqual(model.getLineContent(3), '}');\n\t\t});\n\t});\n\n\n\ttest('issue #38261: TAB key results in bizarre indentation in C++ mode ', () => {\n\t\tconst languageId = 'indentRulesMode';\n\n\t\tdisposables.add(languageService.registerLanguage({ id: languageId }));\n\t\tdisposables.add(languageConfigurationService.register(languageId, {\n\t\t\tbrackets: [\n\t\t\t\t['{', '}'],\n\t\t\t\t['[', ']'],\n\t\t\t\t['(', ')']\n\t\t\t],\n\t\t\tindentationRules: {\n\t\t\t\tincreaseIndentPattern: new RegExp('(^.*\\\\{[^}]*$)'),\n\t\t\t\tdecreaseIndentPattern: new RegExp('^\\\\s*\\\\}')\n\t\t\t}\n\t\t}));\n\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'int main() {',\n\t\t\t\t'  return 0;',\n\t\t\t\t'}',\n\t\t\t\t'',\n\t\t\t\t'bool Foo::bar(const string &a,',\n\t\t\t\t'              const string &b) {',\n\t\t\t\t'  foo();',\n\t\t\t\t'',\n\t\t\t\t')',\n\t\t\t].join('\\n'),\n\t\t\tlanguageId,\n\t\t\t{\n\t\t\t\ttabSize: 2,\n\t\t\t\tindentSize: 2\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, { autoIndent: 'advanced' }, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 8, 1, false);\n\t\t\tassertCursor(viewModel, new Selection(8, 1, 8, 1));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Tab, null);\n\t\t\tassert.strictEqual(model.getValue(),\n\t\t\t\t[\n\t\t\t\t\t'int main() {',\n\t\t\t\t\t'  return 0;',\n\t\t\t\t\t'}',\n\t\t\t\t\t'',\n\t\t\t\t\t'bool Foo::bar(const string &a,',\n\t\t\t\t\t'              const string &b) {',\n\t\t\t\t\t'  foo();',\n\t\t\t\t\t'  ',\n\t\t\t\t\t')',\n\t\t\t\t].join('\\n')\n\t\t\t);\n\t\t\tassert.deepStrictEqual(viewModel.getSelection(), new Selection(8, 3, 8, 3));\n\t\t});\n\t});\n\n\ttest('issue #57197: indent rules regex should be stateless', () => {\n\t\tconst languageId = setupIndentRulesLanguage('lang', {\n\t\t\tdecreaseIndentPattern: /^\\s*}$/gm,\n\t\t\tincreaseIndentPattern: /^(?![^\\S\\n]*(?!--||)(?:[-xX+]|\\[[ xX+-]?\\])\\s[^\\n]*)[^\\S\\n]*(.+:)[^\\S\\n]*(?:(?=@[^\\s*~(]+(?::\\/\\/[^\\s*~(:]+)?(?:\\([^)]*\\))?)|$)/gm,\n\t\t});\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'Project:',\n\t\t\t],\n\t\t\tlanguageId: languageId,\n\t\t\tmodelOpts: { insertSpaces: false },\n\t\t\teditorOpts: { autoIndent: 'full' }\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 9, false);\n\t\t\tassertCursor(viewModel, new Selection(1, 9, 1, 9));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\tassertCursor(viewModel, new Selection(2, 2, 2, 2));\n\n\t\t\tmoveTo(editor, viewModel, 1, 9, false);\n\t\t\tassertCursor(viewModel, new Selection(1, 9, 1, 9));\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\tassertCursor(viewModel, new Selection(2, 2, 2, 2));\n\t\t});\n\t});\n\n\ttest('typing in json', () => {\n\t\tconst languageId = 'indentRulesMode';\n\n\t\tdisposables.add(languageService.registerLanguage({ id: languageId }));\n\t\tdisposables.add(languageConfigurationService.register(languageId, {\n\t\t\tbrackets: [\n\t\t\t\t['{', '}'],\n\t\t\t\t['[', ']'],\n\t\t\t\t['(', ')']\n\t\t\t],\n\t\t\tindentationRules: {\n\t\t\t\tincreaseIndentPattern: new RegExp('({+(?=([^\"]*\"[^\"]*\")*[^\"}]*$))|(\\\\[+(?=([^\"]*\"[^\"]*\")*[^\"\\\\]]*$))'),\n\t\t\t\tdecreaseIndentPattern: new RegExp('^\\\\s*[}\\\\]],?\\\\s*$')\n\t\t\t}\n\t\t}));\n\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'{',\n\t\t\t\t'  \"scripts: {\"',\n\t\t\t\t'    \"watch\": \"a {\"',\n\t\t\t\t'    \"build{\": \"b\"',\n\t\t\t\t'    \"tasks\": []',\n\t\t\t\t'    \"tasks\": [\"a\"]',\n\t\t\t\t'  \"}\"',\n\t\t\t\t'\"}\"'\n\t\t\t].join('\\n'),\n\t\t\tlanguageId,\n\t\t\t{\n\t\t\t\ttabSize: 2,\n\t\t\t\tindentSize: 2\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, { autoIndent: 'full' }, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 19, false);\n\t\t\tassertCursor(viewModel, new Selection(3, 19, 3, 19));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(4), '    ');\n\n\t\t\tmoveTo(editor, viewModel, 5, 18, false);\n\t\t\tassertCursor(viewModel, new Selection(5, 18, 5, 18));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(6), '    ');\n\n\t\t\tmoveTo(editor, viewModel, 7, 15, false);\n\t\t\tassertCursor(viewModel, new Selection(7, 15, 7, 15));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(8), '      ');\n\t\t\tassert.deepStrictEqual(model.getLineContent(9), '    ]');\n\n\t\t\tmoveTo(editor, viewModel, 10, 18, false);\n\t\t\tassertCursor(viewModel, new Selection(10, 18, 10, 18));\n\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(11), '    ]');\n\t\t});\n\t});\n\n\ttest('issue #111128: Multicursor `Enter` issue with indentation', () => {\n\t\tconst model = createTextModel('    let a, b, c;', indentRulesLanguageId, { detectIndentation: false, insertSpaces: false, tabSize: 4 });\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 11, 1, 11),\n\t\t\t\tnew Selection(1, 14, 1, 14),\n\t\t\t]);\n\t\t\tviewModel.type('\\n', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), '    let a,\\n\\t b,\\n\\t c;');\n\t\t});\n\t});\n\n\ttest('issue #122714: tabSize=1 prevent typing a string matching decreaseIndentPattern in an empty file', () => {\n\t\tconst latextLanguageId = setupIndentRulesLanguage('latex', {\n\t\t\tincreaseIndentPattern: new RegExp('\\\\\\\\begin{(?!document)([^}]*)}(?!.*\\\\\\\\end{\\\\1})'),\n\t\t\tdecreaseIndentPattern: new RegExp('^\\\\s*\\\\\\\\end{(?!document)')\n\t\t});\n\t\tconst model = createTextModel(\n\t\t\t'\\\\end',\n\t\t\tlatextLanguageId,\n\t\t\t{ tabSize: 1 }\n\t\t);\n\n\t\twithTestCodeEditor(model, { autoIndent: 'full' }, (editor, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 5, false);\n\t\t\tassertCursor(viewModel, new Selection(1, 5, 1, 5));\n\n\t\t\tviewModel.type('{', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '\\\\end{}');\n\t\t});\n\t});\n\n\ttest('ElectricCharacter - does nothing if no electric char', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'  if (a) {',\n\t\t\t\t''\n\t\t\t],\n\t\t\tlanguageId: electricCharLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 1);\n\t\t\tviewModel.type('*', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(2), '*');\n\t\t});\n\t});\n\n\ttest('ElectricCharacter - indents in order to match bracket', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'  if (a) {',\n\t\t\t\t''\n\t\t\t],\n\t\t\tlanguageId: electricCharLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 1);\n\t\t\tviewModel.type('}', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(2), '  }');\n\t\t});\n\t});\n\n\ttest('ElectricCharacter - unindents in order to match bracket', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'  if (a) {',\n\t\t\t\t'    '\n\t\t\t],\n\t\t\tlanguageId: electricCharLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 5);\n\t\t\tviewModel.type('}', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(2), '  }');\n\t\t});\n\t});\n\n\ttest('ElectricCharacter - matches with correct bracket', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'  if (a) {',\n\t\t\t\t'    if (b) {',\n\t\t\t\t'    }',\n\t\t\t\t'    '\n\t\t\t],\n\t\t\tlanguageId: electricCharLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 4, 1);\n\t\t\tviewModel.type('}', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(4), '  }    ');\n\t\t});\n\t});\n\n\ttest('ElectricCharacter - does nothing if bracket does not match', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'  if (a) {',\n\t\t\t\t'    if (b) {',\n\t\t\t\t'    }',\n\t\t\t\t'  }  '\n\t\t\t],\n\t\t\tlanguageId: electricCharLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 4, 6);\n\t\t\tviewModel.type('}', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(4), '  }  }');\n\t\t});\n\t});\n\n\ttest('ElectricCharacter - matches bracket even in line with content', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'  if (a) {',\n\t\t\t\t'// hello'\n\t\t\t],\n\t\t\tlanguageId: electricCharLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 1);\n\t\t\tviewModel.type('}', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(2), '  }// hello');\n\t\t});\n\t});\n\n\ttest('ElectricCharacter - is no-op if bracket is lined up', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'  if (a) {',\n\t\t\t\t'  '\n\t\t\t],\n\t\t\tlanguageId: electricCharLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 3);\n\t\t\tviewModel.type('}', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(2), '  }');\n\t\t});\n\t});\n\n\ttest('ElectricCharacter - is no-op if there is non-whitespace text before', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'  if (a) {',\n\t\t\t\t'a'\n\t\t\t],\n\t\t\tlanguageId: electricCharLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 2);\n\t\t\tviewModel.type('}', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(2), 'a}');\n\t\t});\n\t});\n\n\ttest('ElectricCharacter - is no-op if pairs are all matched before', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'foo(() => {',\n\t\t\t\t'  ( 1 + 2 ) ',\n\t\t\t\t'})'\n\t\t\t],\n\t\t\tlanguageId: electricCharLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 13);\n\t\t\tviewModel.type('*', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(2), '  ( 1 + 2 ) *');\n\t\t});\n\t});\n\n\ttest('ElectricCharacter - is no-op if matching bracket is on the same line', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'(div',\n\t\t\t],\n\t\t\tlanguageId: electricCharLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 1, 5);\n\t\t\tlet changeText: string | null = null;\n\t\t\tconst disposable = model.onDidChangeContent(e => {\n\t\t\t\tchangeText = e.changes[0].text;\n\t\t\t});\n\t\t\tviewModel.type(')', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(1), '(div)');\n\t\t\tassert.deepStrictEqual(changeText, ')');\n\t\t\tdisposable.dispose();\n\t\t});\n\t});\n\n\ttest('ElectricCharacter - is no-op if the line has other content', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'Math.max(',\n\t\t\t\t'\\t2',\n\t\t\t\t'\\t3'\n\t\t\t],\n\t\t\tlanguageId: electricCharLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 3, 3);\n\t\t\tviewModel.type(')', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(3), '\\t3)');\n\t\t});\n\t});\n\n\ttest('ElectricCharacter - appends text', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'  if (a) {',\n\t\t\t\t'/*'\n\t\t\t],\n\t\t\tlanguageId: electricCharLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 3);\n\t\t\tviewModel.type('*', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(2), '/** */');\n\t\t});\n\t});\n\n\ttest('ElectricCharacter - appends text 2', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'  if (a) {',\n\t\t\t\t'  /*'\n\t\t\t],\n\t\t\tlanguageId: electricCharLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 5);\n\t\t\tviewModel.type('*', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(2), '  /** */');\n\t\t});\n\t});\n\n\ttest('ElectricCharacter - issue #23711: Replacing selected text with )]} fails to delete old text with backwards-dragged selection', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'{',\n\t\t\t\t'word'\n\t\t\t],\n\t\t\tlanguageId: electricCharLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmoveTo(editor, viewModel, 2, 5);\n\t\t\tmoveTo(editor, viewModel, 2, 1, true);\n\t\t\tviewModel.type('}', 'keyboard');\n\t\t\tassert.deepStrictEqual(model.getLineContent(2), '}');\n\t\t});\n\t});\n\n\ttest('issue #61070: backtick (`) should auto-close after a word character', () => {\n\t\tusingCursor({\n\t\t\ttext: ['const markup = highlight'],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmodel.tokenization.forceTokenization(1);\n\t\t\tassertType(editor, model, viewModel, 1, 25, '`', '``', `auto closes \\` @ (1, 25)`);\n\t\t});\n\t});\n\n\ttest('issue #132912: quotes should not auto-close if they are closing a string', () => {\n\t\tsetupAutoClosingLanguageTokenization();\n\t\tconst model = createTextModel('const t2 = `something ${t1}', autoClosingLanguageId);\n\t\twithTestCodeEditor(\n\t\t\tmodel,\n\t\t\t{},\n\t\t\t(editor, viewModel) => {\n\t\t\t\tconst model = viewModel.model;\n\t\t\t\tmodel.tokenization.forceTokenization(1);\n\t\t\t\tassertType(editor, model, viewModel, 1, 28, '`', '`', `does not auto close \\` @ (1, 28)`);\n\t\t\t}\n\t\t);\n\t});\n\n\ttest('autoClosingPairs - open parens: default', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'var a = [];',\n\t\t\t\t'var b = `asd`;',\n\t\t\t\t'var c = \\'asd\\';',\n\t\t\t\t'var d = \"asd\";',\n\t\t\t\t'var e = /*3*/\t3;',\n\t\t\t\t'var f = /** 3 */3;',\n\t\t\t\t'var g = (3+5);',\n\t\t\t\t'var h = { a: \\'value\\' };',\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tconst autoClosePositions = [\n\t\t\t\t'var| a| |=| [|]|;|',\n\t\t\t\t'var| b| |=| |`asd|`|;|',\n\t\t\t\t'var| c| |=| |\\'asd|\\'|;|',\n\t\t\t\t'var| d| |=| |\"asd|\"|;|',\n\t\t\t\t'var| e| |=| /*3*/|\t3|;|',\n\t\t\t\t'var| f| |=| /**| 3| */3|;|',\n\t\t\t\t'var| g| |=| (3+5|)|;|',\n\t\t\t\t'var| h| |=| {| a|:| |\\'value|\\'| |}|;|',\n\t\t\t];\n\t\t\tfor (let i = 0, len = autoClosePositions.length; i < len; i++) {\n\t\t\t\tconst lineNumber = i + 1;\n\t\t\t\tconst autoCloseColumns = extractAutoClosingSpecialColumns(model.getLineMaxColumn(lineNumber), autoClosePositions[i]);\n\n\t\t\t\tfor (let column = 1; column < autoCloseColumns.length; column++) {\n\t\t\t\t\tmodel.tokenization.forceTokenization(lineNumber);\n\t\t\t\t\tif (autoCloseColumns[column] === AutoClosingColumnType.Special1) {\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '(', '()', `auto closes @ (${lineNumber}, ${column})`);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '(', '(', `does not auto close @ (${lineNumber}, ${column})`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\ttest('autoClosingPairs - open parens: whitespace', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'var a = [];',\n\t\t\t\t'var b = `asd`;',\n\t\t\t\t'var c = \\'asd\\';',\n\t\t\t\t'var d = \"asd\";',\n\t\t\t\t'var e = /*3*/\t3;',\n\t\t\t\t'var f = /** 3 */3;',\n\t\t\t\t'var g = (3+5);',\n\t\t\t\t'var h = { a: \\'value\\' };',\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId,\n\t\t\teditorOpts: {\n\t\t\t\tautoClosingBrackets: 'beforeWhitespace'\n\t\t\t}\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tconst autoClosePositions = [\n\t\t\t\t'var| a| =| [|];|',\n\t\t\t\t'var| b| =| `asd`;|',\n\t\t\t\t'var| c| =| \\'asd\\';|',\n\t\t\t\t'var| d| =| \"asd\";|',\n\t\t\t\t'var| e| =| /*3*/|\t3;|',\n\t\t\t\t'var| f| =| /**| 3| */3;|',\n\t\t\t\t'var| g| =| (3+5|);|',\n\t\t\t\t'var| h| =| {| a:| \\'value\\'| |};|',\n\t\t\t];\n\t\t\tfor (let i = 0, len = autoClosePositions.length; i < len; i++) {\n\t\t\t\tconst lineNumber = i + 1;\n\t\t\t\tconst autoCloseColumns = extractAutoClosingSpecialColumns(model.getLineMaxColumn(lineNumber), autoClosePositions[i]);\n\n\t\t\t\tfor (let column = 1; column < autoCloseColumns.length; column++) {\n\t\t\t\t\tmodel.tokenization.forceTokenization(lineNumber);\n\t\t\t\t\tif (autoCloseColumns[column] === AutoClosingColumnType.Special1) {\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '(', '()', `auto closes @ (${lineNumber}, ${column})`);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '(', '(', `does not auto close @ (${lineNumber}, ${column})`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\ttest('autoClosingPairs - open parens disabled/enabled open quotes enabled/disabled', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'var a = [];',\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId,\n\t\t\teditorOpts: {\n\t\t\t\tautoClosingBrackets: 'beforeWhitespace',\n\t\t\t\tautoClosingQuotes: 'never'\n\t\t\t}\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tconst autoClosePositions = [\n\t\t\t\t'var| a| =| [|];|',\n\t\t\t];\n\t\t\tfor (let i = 0, len = autoClosePositions.length; i < len; i++) {\n\t\t\t\tconst lineNumber = i + 1;\n\t\t\t\tconst autoCloseColumns = extractAutoClosingSpecialColumns(model.getLineMaxColumn(lineNumber), autoClosePositions[i]);\n\n\t\t\t\tfor (let column = 1; column < autoCloseColumns.length; column++) {\n\t\t\t\t\tmodel.tokenization.forceTokenization(lineNumber);\n\t\t\t\t\tif (autoCloseColumns[column] === AutoClosingColumnType.Special1) {\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '(', '()', `auto closes @ (${lineNumber}, ${column})`);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '(', '(', `does not auto close @ (${lineNumber}, ${column})`);\n\t\t\t\t\t}\n\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '\\'', '\\'', `does not auto close @ (${lineNumber}, ${column})`);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'var b = [];',\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId,\n\t\t\teditorOpts: {\n\t\t\t\tautoClosingBrackets: 'never',\n\t\t\t\tautoClosingQuotes: 'beforeWhitespace'\n\t\t\t}\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tconst autoClosePositions = [\n\t\t\t\t'var b =| [|];|',\n\t\t\t];\n\t\t\tfor (let i = 0, len = autoClosePositions.length; i < len; i++) {\n\t\t\t\tconst lineNumber = i + 1;\n\t\t\t\tconst autoCloseColumns = extractAutoClosingSpecialColumns(model.getLineMaxColumn(lineNumber), autoClosePositions[i]);\n\n\t\t\t\tfor (let column = 1; column < autoCloseColumns.length; column++) {\n\t\t\t\t\tmodel.tokenization.forceTokenization(lineNumber);\n\t\t\t\t\tif (autoCloseColumns[column] === AutoClosingColumnType.Special1) {\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '\\'', '\\'\\'', `auto closes @ (${lineNumber}, ${column})`);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '\\'', '\\'', `does not auto close @ (${lineNumber}, ${column})`);\n\t\t\t\t\t}\n\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '(', '(', `does not auto close @ (${lineNumber}, ${column})`);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\ttest('autoClosingPairs - configurable open parens', () => {\n\t\tsetAutoClosingLanguageEnabledSet('abc');\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'var a = [];',\n\t\t\t\t'var b = `asd`;',\n\t\t\t\t'var c = \\'asd\\';',\n\t\t\t\t'var d = \"asd\";',\n\t\t\t\t'var e = /*3*/\t3;',\n\t\t\t\t'var f = /** 3 */3;',\n\t\t\t\t'var g = (3+5);',\n\t\t\t\t'var h = { a: \\'value\\' };',\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId,\n\t\t\teditorOpts: {\n\t\t\t\tautoClosingBrackets: 'languageDefined'\n\t\t\t}\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tconst autoClosePositions = [\n\t\t\t\t'v|ar |a = [|];|',\n\t\t\t\t'v|ar |b = `|asd`;|',\n\t\t\t\t'v|ar |c = \\'|asd\\';|',\n\t\t\t\t'v|ar d = \"|asd\";|',\n\t\t\t\t'v|ar e = /*3*/\t3;|',\n\t\t\t\t'v|ar f = /** 3| */3;|',\n\t\t\t\t'v|ar g = (3+5|);|',\n\t\t\t\t'v|ar h = { |a: \\'v|alue\\' |};|',\n\t\t\t];\n\t\t\tfor (let i = 0, len = autoClosePositions.length; i < len; i++) {\n\t\t\t\tconst lineNumber = i + 1;\n\t\t\t\tconst autoCloseColumns = extractAutoClosingSpecialColumns(model.getLineMaxColumn(lineNumber), autoClosePositions[i]);\n\n\t\t\t\tfor (let column = 1; column < autoCloseColumns.length; column++) {\n\t\t\t\t\tmodel.tokenization.forceTokenization(lineNumber);\n\t\t\t\t\tif (autoCloseColumns[column] === AutoClosingColumnType.Special1) {\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '(', '()', `auto closes @ (${lineNumber}, ${column})`);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '(', '(', `does not auto close @ (${lineNumber}, ${column})`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\ttest('autoClosingPairs - auto-pairing can be disabled', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'var a = [];',\n\t\t\t\t'var b = `asd`;',\n\t\t\t\t'var c = \\'asd\\';',\n\t\t\t\t'var d = \"asd\";',\n\t\t\t\t'var e = /*3*/\t3;',\n\t\t\t\t'var f = /** 3 */3;',\n\t\t\t\t'var g = (3+5);',\n\t\t\t\t'var h = { a: \\'value\\' };',\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId,\n\t\t\teditorOpts: {\n\t\t\t\tautoClosingBrackets: 'never',\n\t\t\t\tautoClosingQuotes: 'never'\n\t\t\t}\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tconst autoClosePositions = [\n\t\t\t\t'var a = [];',\n\t\t\t\t'var b = `asd`;',\n\t\t\t\t'var c = \\'asd\\';',\n\t\t\t\t'var d = \"asd\";',\n\t\t\t\t'var e = /*3*/\t3;',\n\t\t\t\t'var f = /** 3 */3;',\n\t\t\t\t'var g = (3+5);',\n\t\t\t\t'var h = { a: \\'value\\' };',\n\t\t\t];\n\t\t\tfor (let i = 0, len = autoClosePositions.length; i < len; i++) {\n\t\t\t\tconst lineNumber = i + 1;\n\t\t\t\tconst autoCloseColumns = extractAutoClosingSpecialColumns(model.getLineMaxColumn(lineNumber), autoClosePositions[i]);\n\n\t\t\t\tfor (let column = 1; column < autoCloseColumns.length; column++) {\n\t\t\t\t\tmodel.tokenization.forceTokenization(lineNumber);\n\t\t\t\t\tif (autoCloseColumns[column] === AutoClosingColumnType.Special1) {\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '(', '()', `auto closes @ (${lineNumber}, ${column})`);\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '\"', '\"\"', `auto closes @ (${lineNumber}, ${column})`);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '(', '(', `does not auto close @ (${lineNumber}, ${column})`);\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '\"', '\"', `does not auto close @ (${lineNumber}, ${column})`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\ttest('autoClosingPairs - auto wrapping is configurable', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'var a = asd'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tviewModel.setSelections('test', [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(1, 9, 1, 12),\n\t\t\t]);\n\n\t\t\t// type a `\n\t\t\tviewModel.type('`', 'keyboard');\n\n\t\t\tassert.strictEqual(model.getValue(), '`var` a = `asd`');\n\n\t\t\t// type a (\n\t\t\tviewModel.type('(', 'keyboard');\n\n\t\t\tassert.strictEqual(model.getValue(), '`(var)` a = `(asd)`');\n\t\t});\n\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'var a = asd'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId,\n\t\t\teditorOpts: {\n\t\t\t\tautoSurround: 'never'\n\t\t\t}\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tviewModel.setSelections('test', [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t]);\n\n\t\t\t// type a `\n\t\t\tviewModel.type('`', 'keyboard');\n\n\t\t\tassert.strictEqual(model.getValue(), '` a = asd');\n\t\t});\n\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'var a = asd'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId,\n\t\t\teditorOpts: {\n\t\t\t\tautoSurround: 'quotes'\n\t\t\t}\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tviewModel.setSelections('test', [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t]);\n\n\t\t\t// type a `\n\t\t\tviewModel.type('`', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), '`var` a = asd');\n\n\t\t\t// type a (\n\t\t\tviewModel.type('(', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), '`(` a = asd');\n\t\t});\n\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'var a = asd'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId,\n\t\t\teditorOpts: {\n\t\t\t\tautoSurround: 'brackets'\n\t\t\t}\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tviewModel.setSelections('test', [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t]);\n\n\t\t\t// type a (\n\t\t\tviewModel.type('(', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), '(var) a = asd');\n\n\t\t\t// type a `\n\t\t\tviewModel.type('`', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), '(`) a = asd');\n\t\t});\n\t});\n\n\ttest('autoClosingPairs - quote', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'var a = [];',\n\t\t\t\t'var b = `asd`;',\n\t\t\t\t'var c = \\'asd\\';',\n\t\t\t\t'var d = \"asd\";',\n\t\t\t\t'var e = /*3*/\t3;',\n\t\t\t\t'var f = /** 3 */3;',\n\t\t\t\t'var g = (3+5);',\n\t\t\t\t'var h = { a: \\'value\\' };',\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tconst autoClosePositions = [\n\t\t\t\t'var a |=| [|]|;|',\n\t\t\t\t'var b |=| `asd`|;|',\n\t\t\t\t'var c |=| \\'asd\\'|;|',\n\t\t\t\t'var d |=| \"asd\"|;|',\n\t\t\t\t'var e |=| /*3*/|\t3;|',\n\t\t\t\t'var f |=| /**| 3 */3;|',\n\t\t\t\t'var g |=| (3+5)|;|',\n\t\t\t\t'var h |=| {| a:| \\'value\\'| |}|;|',\n\t\t\t];\n\t\t\tfor (let i = 0, len = autoClosePositions.length; i < len; i++) {\n\t\t\t\tconst lineNumber = i + 1;\n\t\t\t\tconst autoCloseColumns = extractAutoClosingSpecialColumns(model.getLineMaxColumn(lineNumber), autoClosePositions[i]);\n\n\t\t\t\tfor (let column = 1; column < autoCloseColumns.length; column++) {\n\t\t\t\t\tmodel.tokenization.forceTokenization(lineNumber);\n\t\t\t\t\tif (autoCloseColumns[column] === AutoClosingColumnType.Special1) {\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '\\'', '\\'\\'', `auto closes @ (${lineNumber}, ${column})`);\n\t\t\t\t\t} else if (autoCloseColumns[column] === AutoClosingColumnType.Special2) {\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '\\'', '', `over types @ (${lineNumber}, ${column})`);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tassertType(editor, model, viewModel, lineNumber, column, '\\'', '\\'', `does not auto close @ (${lineNumber}, ${column})`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n\ttest('autoClosingPairs - multi-character autoclose', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'',\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tmodel.setValue('begi');\n\t\t\tviewModel.setSelections('test', [new Selection(1, 5, 1, 5)]);\n\t\t\tviewModel.type('n', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'beginend');\n\n\t\t\tmodel.setValue('/*');\n\t\t\tviewModel.setSelections('test', [new Selection(1, 3, 1, 3)]);\n\t\t\tviewModel.type('*', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '/** */');\n\t\t});\n\t});\n\n\ttest('autoClosingPairs - doc comments can be turned off', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'',\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId,\n\t\t\teditorOpts: {\n\t\t\t\tautoClosingComments: 'never'\n\t\t\t}\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tmodel.setValue('/*');\n\t\t\tviewModel.setSelections('test', [new Selection(1, 3, 1, 3)]);\n\t\t\tviewModel.type('*', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '/**');\n\t\t});\n\t});\n\n\ttest('issue #72177: multi-character autoclose with conflicting patterns', () => {\n\t\tconst languageId = 'autoClosingModeMultiChar';\n\n\t\tdisposables.add(languageService.registerLanguage({ id: languageId }));\n\t\tdisposables.add(languageConfigurationService.register(languageId, {\n\t\t\tautoClosingPairs: [\n\t\t\t\t{ open: '(', close: ')' },\n\t\t\t\t{ open: '(*', close: '*)' },\n\t\t\t\t{ open: '<@', close: '@>' },\n\t\t\t\t{ open: '<@@', close: '@@>' },\n\t\t\t],\n\t\t}));\n\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'',\n\t\t\t],\n\t\t\tlanguageId: languageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tviewModel.type('(', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '()');\n\t\t\tviewModel.type('*', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '(**)', `doesn't add entire close when already closed substring is there`);\n\n\t\t\tmodel.setValue('(');\n\t\t\tviewModel.setSelections('test', [new Selection(1, 2, 1, 2)]);\n\t\t\tviewModel.type('*', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '(**)', `does add entire close if not already there`);\n\n\t\t\tmodel.setValue('');\n\t\t\tviewModel.type('<@', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '<@@>');\n\t\t\tviewModel.type('@', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '<@@@@>', `autocloses when before multi-character closing brace`);\n\t\t\tviewModel.type('(', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '<@@()@@>', `autocloses when before multi-character closing brace`);\n\t\t});\n\t});\n\n\ttest('issue #55314: Do not auto-close when ending with open', () => {\n\t\tconst languageId = 'myElectricMode';\n\n\t\tdisposables.add(languageService.registerLanguage({ id: languageId }));\n\t\tdisposables.add(languageConfigurationService.register(languageId, {\n\t\t\tautoClosingPairs: [\n\t\t\t\t{ open: '{', close: '}' },\n\t\t\t\t{ open: '[', close: ']' },\n\t\t\t\t{ open: '(', close: ')' },\n\t\t\t\t{ open: '\\'', close: '\\'', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: '\\\"', close: '\\\"', notIn: ['string'] },\n\t\t\t\t{ open: 'B\\\"', close: '\\\"', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: '`', close: '`', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: '/**', close: ' */', notIn: ['string'] }\n\t\t\t],\n\t\t}));\n\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'little goat',\n\t\t\t\t'little LAMB',\n\t\t\t\t'little sheep',\n\t\t\t\t'Big LAMB'\n\t\t\t],\n\t\t\tlanguageId: languageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\tassertType(editor, model, viewModel, 1, 4, '\"', '\"', `does not double quote when ending with open`);\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\tassertType(editor, model, viewModel, 2, 4, '\"', '\"', `does not double quote when ending with open`);\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\tassertType(editor, model, viewModel, 3, 4, '\"', '\"', `does not double quote when ending with open`);\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\tassertType(editor, model, viewModel, 4, 2, '\"', '\"', `does not double quote when ending with open`);\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\tassertType(editor, model, viewModel, 4, 3, '\"', '\"', `does not double quote when ending with open`);\n\t\t});\n\t});\n\n\ttest('issue #27937: Trying to add an item to the front of a list is cumbersome', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'var arr = [\"b\", \"c\"];'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tassertType(editor, model, viewModel, 1, 12, '\"', '\"', `does not over type and will not auto close`);\n\t\t});\n\t});\n\n\ttest('issue #25658 - Do not auto-close single/double quotes after word characters', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'',\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tfunction typeCharacters(viewModel: ViewModel, chars: string): void {\n\t\t\t\tfor (let i = 0, len = chars.length; i < len; i++) {\n\t\t\t\t\tviewModel.type(chars[i], 'keyboard');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// First gif\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\ttypeCharacters(viewModel, 'teste1 = teste\\' ok');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'teste1 = teste\\' ok');\n\n\t\t\tviewModel.setSelections('test', [new Selection(1, 1000, 1, 1000)]);\n\t\t\ttypeCharacters(viewModel, '\\n');\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\ttypeCharacters(viewModel, 'teste2 = teste \\'ok');\n\t\t\tassert.strictEqual(model.getLineContent(2), 'teste2 = teste \\'ok\\'');\n\n\t\t\tviewModel.setSelections('test', [new Selection(2, 1000, 2, 1000)]);\n\t\t\ttypeCharacters(viewModel, '\\n');\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\ttypeCharacters(viewModel, 'teste3 = teste\" ok');\n\t\t\tassert.strictEqual(model.getLineContent(3), 'teste3 = teste\" ok');\n\n\t\t\tviewModel.setSelections('test', [new Selection(3, 1000, 3, 1000)]);\n\t\t\ttypeCharacters(viewModel, '\\n');\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\ttypeCharacters(viewModel, 'teste4 = teste \"ok');\n\t\t\tassert.strictEqual(model.getLineContent(4), 'teste4 = teste \"ok\"');\n\n\t\t\t// Second gif\n\t\t\tviewModel.setSelections('test', [new Selection(4, 1000, 4, 1000)]);\n\t\t\ttypeCharacters(viewModel, '\\n');\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\ttypeCharacters(viewModel, 'teste \\'');\n\t\t\tassert.strictEqual(model.getLineContent(5), 'teste \\'\\'');\n\n\t\t\tviewModel.setSelections('test', [new Selection(5, 1000, 5, 1000)]);\n\t\t\ttypeCharacters(viewModel, '\\n');\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\ttypeCharacters(viewModel, 'teste \"');\n\t\t\tassert.strictEqual(model.getLineContent(6), 'teste \"\"');\n\n\t\t\tviewModel.setSelections('test', [new Selection(6, 1000, 6, 1000)]);\n\t\t\ttypeCharacters(viewModel, '\\n');\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\ttypeCharacters(viewModel, 'teste\\'');\n\t\t\tassert.strictEqual(model.getLineContent(7), 'teste\\'');\n\n\t\t\tviewModel.setSelections('test', [new Selection(7, 1000, 7, 1000)]);\n\t\t\ttypeCharacters(viewModel, '\\n');\n\t\t\tmodel.tokenization.forceTokenization(model.getLineCount());\n\t\t\ttypeCharacters(viewModel, 'teste\"');\n\t\t\tassert.strictEqual(model.getLineContent(8), 'teste\"');\n\t\t});\n\t});\n\n\ttest('issue #37315 - overtypes only those characters that it inserted', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'',\n\t\t\t\t'y=();'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\n\t\t\tviewModel.type('x=(', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=()');\n\n\t\t\tviewModel.type('asd', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=(asd)');\n\n\t\t\t// overtype!\n\t\t\tviewModel.type(')', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=(asd)');\n\n\t\t\t// do not overtype!\n\t\t\tviewModel.setSelections('test', [new Selection(2, 4, 2, 4)]);\n\t\t\tviewModel.type(')', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(2), 'y=());');\n\n\t\t});\n\t});\n\n\ttest('issue #37315 - stops overtyping once cursor leaves area', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'',\n\t\t\t\t'y=();'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\n\t\t\tviewModel.type('x=(', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=()');\n\n\t\t\tviewModel.setSelections('test', [new Selection(1, 5, 1, 5)]);\n\t\t\tviewModel.type(')', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=())');\n\t\t});\n\t});\n\n\ttest('issue #37315 - it overtypes only once', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'',\n\t\t\t\t'y=();'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\n\t\t\tviewModel.type('x=(', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=()');\n\n\t\t\tviewModel.type(')', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=()');\n\n\t\t\tviewModel.setSelections('test', [new Selection(1, 4, 1, 4)]);\n\t\t\tviewModel.type(')', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=())');\n\t\t});\n\t});\n\n\ttest('issue #37315 - it can remember multiple auto-closed instances', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'',\n\t\t\t\t'y=();'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\n\t\t\tviewModel.type('x=(', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=()');\n\n\t\t\tviewModel.type('(', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=(())');\n\n\t\t\tviewModel.type(')', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=(())');\n\n\t\t\tviewModel.type(')', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=(())');\n\t\t});\n\t});\n\n\ttest('issue #118270 - auto closing deletes only those characters that it inserted', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'',\n\t\t\t\t'y=();'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\n\t\t\tviewModel.type('x=(', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=()');\n\n\t\t\tviewModel.type('asd', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=(asd)');\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=()');\n\n\t\t\t// delete closing char!\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=');\n\n\t\t\t// do not delete closing char!\n\t\t\tviewModel.setSelections('test', [new Selection(2, 4, 2, 4)]);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'y=);');\n\n\t\t});\n\t});\n\n\ttest('issue #78527 - does not close quote on odd count', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'std::cout << \\'\"\\' << entryMap'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 29, 1, 29)]);\n\n\t\t\tviewModel.type('[', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'std::cout << \\'\"\\' << entryMap[]');\n\n\t\t\tviewModel.type('\"', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'std::cout << \\'\"\\' << entryMap[\"\"]');\n\n\t\t\tviewModel.type('a', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'std::cout << \\'\"\\' << entryMap[\"a\"]');\n\n\t\t\tviewModel.type('\"', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'std::cout << \\'\"\\' << entryMap[\"a\"]');\n\n\t\t\tviewModel.type(']', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'std::cout << \\'\"\\' << entryMap[\"a\"]');\n\t\t});\n\t});\n\n\ttest('issue #85983 - editor.autoClosingBrackets: beforeWhitespace is incorrect for Python', () => {\n\t\tconst languageId = 'pythonMode';\n\n\t\tdisposables.add(languageService.registerLanguage({ id: languageId }));\n\t\tdisposables.add(languageConfigurationService.register(languageId, {\n\t\t\tautoClosingPairs: [\n\t\t\t\t{ open: '{', close: '}' },\n\t\t\t\t{ open: '[', close: ']' },\n\t\t\t\t{ open: '(', close: ')' },\n\t\t\t\t{ open: '\\\"', close: '\\\"', notIn: ['string'] },\n\t\t\t\t{ open: 'r\\\"', close: '\\\"', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: 'R\\\"', close: '\\\"', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: 'u\\\"', close: '\\\"', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: 'U\\\"', close: '\\\"', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: 'f\\\"', close: '\\\"', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: 'F\\\"', close: '\\\"', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: 'b\\\"', close: '\\\"', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: 'B\\\"', close: '\\\"', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: '\\'', close: '\\'', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: 'r\\'', close: '\\'', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: 'R\\'', close: '\\'', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: 'u\\'', close: '\\'', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: 'U\\'', close: '\\'', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: 'f\\'', close: '\\'', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: 'F\\'', close: '\\'', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: 'b\\'', close: '\\'', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: 'B\\'', close: '\\'', notIn: ['string', 'comment'] },\n\t\t\t\t{ open: '`', close: '`', notIn: ['string'] }\n\t\t\t],\n\t\t}));\n\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'foo\\'hello\\''\n\t\t\t],\n\t\t\teditorOpts: {\n\t\t\t\tautoClosingBrackets: 'beforeWhitespace'\n\t\t\t},\n\t\t\tlanguageId: languageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tassertType(editor, model, viewModel, 1, 4, '(', '(', `does not auto close @ (1, 4)`);\n\t\t});\n\t});\n\n\ttest('issue #78975 - Parentheses swallowing does not work when parentheses are inserted by autocomplete', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'<div id'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 8, 1, 8)]);\n\n\t\t\tviewModel.executeEdits('snippet', [{ range: new Range(1, 6, 1, 8), text: 'id=\"\"' }], () => [new Selection(1, 10, 1, 10)], EditSources.unknown({}));\n\t\t\tassert.strictEqual(model.getLineContent(1), '<div id=\"\"');\n\n\t\t\tviewModel.type('a', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '<div id=\"a\"');\n\n\t\t\tviewModel.type('\"', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), '<div id=\"a\"');\n\t\t});\n\t});\n\n\ttest('issue #78833 - Add config to use old brackets/quotes overtyping', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'',\n\t\t\t\t'y=();'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId,\n\t\t\teditorOpts: {\n\t\t\t\tautoClosingOvertype: 'always'\n\t\t\t}\n\t\t}, (editor, model, viewModel) => {\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\n\t\t\tviewModel.type('x=(', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=()');\n\n\t\t\tviewModel.type(')', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=()');\n\n\t\t\tviewModel.setSelections('test', [new Selection(1, 4, 1, 4)]);\n\t\t\tviewModel.type(')', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'x=()');\n\n\t\t\tviewModel.setSelections('test', [new Selection(2, 4, 2, 4)]);\n\t\t\tviewModel.type(')', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(2), 'y=();');\n\t\t});\n\t});\n\n\ttest('issue #15825: accents on mac US intl keyboard', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\n\t\t\t// Typing ` + e on the mac US intl kb layout\n\t\t\tviewModel.startComposition();\n\t\t\tviewModel.type('`', 'keyboard');\n\t\t\tviewModel.compositionType('', 1, 0, 0, 'keyboard');\n\t\t\tviewModel.endComposition('keyboard');\n\n\t\t\tassert.strictEqual(model.getValue(), '');\n\t\t});\n\t});\n\n\ttest('issue #90016: allow accents on mac US intl keyboard to surround selection', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'test'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 1, 1, 5)]);\n\n\t\t\t// Typing ` + e on the mac US intl kb layout\n\t\t\tviewModel.startComposition();\n\t\t\tviewModel.type('\\'', 'keyboard');\n\t\t\tviewModel.compositionType('\\'', 1, 0, 0, 'keyboard');\n\t\t\tviewModel.compositionType('\\'', 1, 0, 0, 'keyboard');\n\t\t\tviewModel.endComposition('keyboard');\n\n\t\t\tassert.strictEqual(model.getValue(), '\\'test\\'');\n\t\t});\n\t});\n\n\ttest('issue #53357: Over typing ignores characters after backslash', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'console.log();'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tviewModel.setSelections('test', [new Selection(1, 13, 1, 13)]);\n\n\t\t\tviewModel.type('\\'', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), 'console.log(\\'\\');');\n\n\t\t\tviewModel.type('it', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), 'console.log(\\'it\\');');\n\n\t\t\tviewModel.type('\\\\', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), 'console.log(\\'it\\\\\\');');\n\n\t\t\tviewModel.type('\\'', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), 'console.log(\\'it\\\\\\'\\');');\n\t\t});\n\t});\n\n\ttest('issue #84998: Overtyping Brackets doesn\\'t work after backslash', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t''\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tviewModel.setSelections('test', [new Selection(1, 1, 1, 1)]);\n\n\t\t\tviewModel.type('\\\\', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), '\\\\');\n\n\t\t\tviewModel.type('(', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), '\\\\()');\n\n\t\t\tviewModel.type('abc', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), '\\\\(abc)');\n\n\t\t\tviewModel.type('\\\\', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), '\\\\(abc\\\\)');\n\n\t\t\tviewModel.type(')', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), '\\\\(abc\\\\)');\n\t\t});\n\t});\n\n\ttest('issue #2773: Accents (`^, others?) are inserted in the wrong position (Mac)', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'hello',\n\t\t\t\t'world'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\n\t\t\t// Typing ` and pressing shift+down on the mac US intl kb layout\n\t\t\t// Here we're just replaying what the cursor gets\n\t\t\tviewModel.startComposition();\n\t\t\tviewModel.type('`', 'keyboard');\n\t\t\tmoveDown(editor, viewModel, true);\n\t\t\tviewModel.compositionType('`', 1, 0, 0, 'keyboard');\n\t\t\tviewModel.compositionType('`', 1, 0, 0, 'keyboard');\n\t\t\tviewModel.endComposition('keyboard');\n\n\t\t\tassert.strictEqual(model.getValue(), '`hello\\nworld');\n\t\t\tassertCursor(viewModel, new Selection(1, 2, 2, 2));\n\t\t});\n\t});\n\n\ttest('issue #26820: auto close quotes when not used as accents', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t''\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\n\t\t\t// on the mac US intl kb layout\n\n\t\t\t// Typing ' + space\n\t\t\tviewModel.startComposition();\n\t\t\tviewModel.type('\\'', 'keyboard');\n\t\t\tviewModel.compositionType('\\'', 1, 0, 0, 'keyboard');\n\t\t\tviewModel.endComposition('keyboard');\n\t\t\tassert.strictEqual(model.getValue(), '\\'\\'');\n\n\t\t\t// Typing one more ' + space\n\t\t\tviewModel.startComposition();\n\t\t\tviewModel.type('\\'', 'keyboard');\n\t\t\tviewModel.compositionType('\\'', 1, 0, 0, 'keyboard');\n\t\t\tviewModel.endComposition('keyboard');\n\t\t\tassert.strictEqual(model.getValue(), '\\'\\'');\n\n\t\t\t// Typing ' as a closing tag\n\t\t\tmodel.setValue('\\'abc');\n\t\t\tviewModel.setSelections('test', [new Selection(1, 5, 1, 5)]);\n\t\t\tviewModel.startComposition();\n\t\t\tviewModel.type('\\'', 'keyboard');\n\t\t\tviewModel.compositionType('\\'', 1, 0, 0, 'keyboard');\n\t\t\tviewModel.endComposition('keyboard');\n\n\t\t\tassert.strictEqual(model.getValue(), '\\'abc\\'');\n\n\t\t\t// quotes before the newly added character are all paired.\n\t\t\tmodel.setValue('\\'abc\\'def ');\n\t\t\tviewModel.setSelections('test', [new Selection(1, 10, 1, 10)]);\n\t\t\tviewModel.startComposition();\n\t\t\tviewModel.type('\\'', 'keyboard');\n\t\t\tviewModel.compositionType('\\'', 1, 0, 0, 'keyboard');\n\t\t\tviewModel.endComposition('keyboard');\n\n\t\t\tassert.strictEqual(model.getValue(), '\\'abc\\'def \\'\\'');\n\n\t\t\t// No auto closing if there is non-whitespace character after the cursor\n\t\t\tmodel.setValue('abc');\n\t\t\tviewModel.setSelections('test', [new Selection(1, 1, 1, 1)]);\n\t\t\tviewModel.startComposition();\n\t\t\tviewModel.type('\\'', 'keyboard');\n\t\t\tviewModel.compositionType('\\'', 1, 0, 0, 'keyboard');\n\t\t\tviewModel.endComposition('keyboard');\n\n\t\t\t// No auto closing if it's after a word.\n\t\t\tmodel.setValue('abc');\n\t\t\tviewModel.setSelections('test', [new Selection(1, 4, 1, 4)]);\n\t\t\tviewModel.startComposition();\n\t\t\tviewModel.type('\\'', 'keyboard');\n\t\t\tviewModel.compositionType('\\'', 1, 0, 0, 'keyboard');\n\t\t\tviewModel.endComposition('keyboard');\n\n\t\t\tassert.strictEqual(model.getValue(), 'abc\\'');\n\t\t});\n\t});\n\n\ttest('issue #144690: Quotes do not overtype when using US Intl PC keyboard layout', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t''\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tassertCursor(viewModel, new Position(1, 1));\n\n\t\t\t// Pressing ' + ' + ;\n\n\t\t\tviewModel.startComposition();\n\t\t\tviewModel.type(`'`, 'keyboard');\n\t\t\tviewModel.compositionType(`'`, 1, 0, 0, 'keyboard');\n\t\t\tviewModel.compositionType(`'`, 1, 0, 0, 'keyboard');\n\t\t\tviewModel.endComposition('keyboard');\n\t\t\tviewModel.startComposition();\n\t\t\tviewModel.type(`'`, 'keyboard');\n\t\t\tviewModel.compositionType(`';`, 1, 0, 0, 'keyboard');\n\t\t\tviewModel.compositionType(`';`, 2, 0, 0, 'keyboard');\n\t\t\tviewModel.endComposition('keyboard');\n\n\t\t\tassert.strictEqual(model.getValue(), `'';`);\n\t\t});\n\t});\n\n\ttest('issue #144693: Typing a quote using US Intl PC keyboard layout always surrounds words', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'const hello = 3;'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 7, 1, 12)]);\n\n\t\t\t// Pressing ' + e\n\n\t\t\tviewModel.startComposition();\n\t\t\tviewModel.type(`'`, 'keyboard');\n\t\t\tviewModel.compositionType(``, 1, 0, 0, 'keyboard');\n\t\t\tviewModel.compositionType(``, 1, 0, 0, 'keyboard');\n\t\t\tviewModel.endComposition('keyboard');\n\n\t\t\tassert.strictEqual(model.getValue(), `const  = 3;`);\n\t\t});\n\t});\n\n\ttest('issue #82701: auto close does not execute when IME is canceled via backspace', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'{}'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 2, 1, 2)]);\n\n\t\t\t// Typing a + backspace\n\t\t\tviewModel.startComposition();\n\t\t\tviewModel.type('a', 'keyboard');\n\t\t\tviewModel.compositionType('', 1, 0, 0, 'keyboard');\n\t\t\tviewModel.endComposition('keyboard');\n\t\t\tassert.strictEqual(model.getValue(), '{}');\n\t\t});\n\t});\n\n\ttest('issue #20891: All cursors should do the same thing', () => {\n\t\tusingCursor({\n\t\t\ttext: [\n\t\t\t\t'var a = asd'\n\t\t\t],\n\t\t\tlanguageId: autoClosingLanguageId\n\t\t}, (editor, model, viewModel) => {\n\n\t\t\tviewModel.setSelections('test', [\n\t\t\t\tnew Selection(1, 9, 1, 9),\n\t\t\t\tnew Selection(1, 12, 1, 12),\n\t\t\t]);\n\n\t\t\t// type a `\n\t\t\tviewModel.type('`', 'keyboard');\n\n\t\t\tassert.strictEqual(model.getValue(), 'var a = `asd`');\n\t\t});\n\t});\n\n\ttest('issue #41825: Special handling of quotes in surrounding pairs', () => {\n\t\tconst languageId = 'myMode';\n\n\t\tdisposables.add(languageService.registerLanguage({ id: languageId }));\n\t\tdisposables.add(languageConfigurationService.register(languageId, {\n\t\t\tsurroundingPairs: [\n\t\t\t\t{ open: '\"', close: '\"' },\n\t\t\t\t{ open: '\\'', close: '\\'' },\n\t\t\t]\n\t\t}));\n\n\t\tconst model = createTextModel('var x = \\'hi\\';', languageId);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 9, 1, 10),\n\t\t\t\tnew Selection(1, 12, 1, 13)\n\t\t\t]);\n\t\t\tviewModel.type('\"', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), 'var x = \"hi\";', 'assert1');\n\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 9, 1, 10),\n\t\t\t\tnew Selection(1, 12, 1, 13)\n\t\t\t]);\n\t\t\tviewModel.type('\\'', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), 'var x = \\'hi\\';', 'assert2');\n\t\t});\n\t});\n\n\ttest('All cursors should do the same thing when deleting left', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'var a = ()'\n\t\t\t].join('\\n'),\n\t\t\tautoClosingLanguageId\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [\n\t\t\t\tnew Selection(1, 4, 1, 4),\n\t\t\t\tnew Selection(1, 10, 1, 10),\n\t\t\t]);\n\n\t\t\t// delete left\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\n\t\t\tassert.strictEqual(model.getValue(), 'va a = )');\n\t\t});\n\t});\n\n\ttest('issue #7100: Mouse word selection is strange when non-word character is at the end of line', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'before.a',\n\t\t\t\t'before',\n\t\t\t\t'hello:',\n\t\t\t\t'there:',\n\t\t\t\t'this is strange:',\n\t\t\t\t'here',\n\t\t\t\t'it',\n\t\t\t\t'is',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\teditor.runCommand(CoreNavigationCommands.WordSelect, {\n\t\t\t\tposition: new Position(3, 7)\n\t\t\t});\n\t\t\tassertCursor(viewModel, new Selection(3, 7, 3, 7));\n\n\t\t\teditor.runCommand(CoreNavigationCommands.WordSelectDrag, {\n\t\t\t\tposition: new Position(4, 7)\n\t\t\t});\n\t\t\tassertCursor(viewModel, new Selection(3, 7, 4, 7));\n\t\t});\n\t});\n\n\ttest('issue #112039: shift-continuing a double/triple-click and drag selection does not remember its starting mode', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'just some text',\n\t\t\t\t'and another line',\n\t\t\t\t'and another one',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\teditor.runCommand(CoreNavigationCommands.WordSelect, {\n\t\t\t\tposition: new Position(2, 6)\n\t\t\t});\n\t\t\teditor.runCommand(CoreNavigationCommands.MoveToSelect, {\n\t\t\t\tposition: new Position(1, 8),\n\t\t\t});\n\t\t\tassertCursor(viewModel, new Selection(2, 12, 1, 6));\n\t\t});\n\t});\n\n\ttest('issue #158236: Shift click selection does not work on line number indicator', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'just some text',\n\t\t\t\t'and another line',\n\t\t\t\t'and another one',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\teditor.runCommand(CoreNavigationCommands.MoveTo, {\n\t\t\t\tposition: new Position(3, 5)\n\t\t\t});\n\t\t\teditor.runCommand(CoreNavigationCommands.LineSelectDrag, {\n\t\t\t\tposition: new Position(2, 1)\n\t\t\t});\n\t\t\tassertCursor(viewModel, new Selection(3, 5, 2, 1));\n\t\t});\n\t});\n\n\ttest('issue #111513: Text gets automatically selected when typing at the same location in another editor', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'just',\n\t\t\t\t'',\n\t\t\t\t'some text',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor1, viewModel1) => {\n\t\t\teditor1.setSelections([\n\t\t\t\tnew Selection(2, 1, 2, 1)\n\t\t\t]);\n\t\t\twithTestCodeEditor(model, {}, (editor2, viewModel2) => {\n\t\t\t\teditor2.setSelections([\n\t\t\t\t\tnew Selection(2, 1, 2, 1)\n\t\t\t\t]);\n\t\t\t\tviewModel2.type('e', 'keyboard');\n\t\t\t\tassertCursor(viewModel2, new Position(2, 2));\n\t\t\t\tassertCursor(viewModel1, new Position(2, 2));\n\t\t\t});\n\t\t});\n\t});\n});\n\nsuite('Undo stops', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('there is an undo stop between typing and deleting left', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'A  line',\n\t\t\t\t'Another line',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 3, 1, 3)]);\n\t\t\tviewModel.type('first', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'A first line');\n\t\t\tassertCursor(viewModel, new Selection(1, 8, 1, 8));\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'A fir line');\n\t\t\tassertCursor(viewModel, new Selection(1, 6, 1, 6));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'A first line');\n\t\t\tassertCursor(viewModel, new Selection(1, 8, 1, 8));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'A  line');\n\t\t\tassertCursor(viewModel, new Selection(1, 3, 1, 3));\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('there is an undo stop between typing and deleting right', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'A  line',\n\t\t\t\t'Another line',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 3, 1, 3)]);\n\t\t\tviewModel.type('first', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'A first line');\n\t\t\tassertCursor(viewModel, new Selection(1, 8, 1, 8));\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteRight, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteRight, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'A firstine');\n\t\t\tassertCursor(viewModel, new Selection(1, 8, 1, 8));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'A first line');\n\t\t\tassertCursor(viewModel, new Selection(1, 8, 1, 8));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'A  line');\n\t\t\tassertCursor(viewModel, new Selection(1, 3, 1, 3));\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('there is an undo stop between deleting left and typing', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'A  line',\n\t\t\t\t'Another line',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(2, 8, 2, 8)]);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), ' line');\n\t\t\tassertCursor(viewModel, new Selection(2, 1, 2, 1));\n\n\t\t\tviewModel.type('Second', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(2), 'Second line');\n\t\t\tassertCursor(viewModel, new Selection(2, 7, 2, 7));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), ' line');\n\t\t\tassertCursor(viewModel, new Selection(2, 1, 2, 1));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'Another line');\n\t\t\tassertCursor(viewModel, new Selection(2, 8, 2, 8));\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('there is an undo stop between deleting left and deleting right', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'A  line',\n\t\t\t\t'Another line',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(2, 8, 2, 8)]);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), ' line');\n\t\t\tassertCursor(viewModel, new Selection(2, 1, 2, 1));\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteRight, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteRight, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteRight, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteRight, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteRight, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), '');\n\t\t\tassertCursor(viewModel, new Selection(2, 1, 2, 1));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), ' line');\n\t\t\tassertCursor(viewModel, new Selection(2, 1, 2, 1));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'Another line');\n\t\t\tassertCursor(viewModel, new Selection(2, 8, 2, 8));\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('there is an undo stop between deleting right and typing', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'A  line',\n\t\t\t\t'Another line',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(2, 9, 2, 9)]);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteRight, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteRight, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteRight, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteRight, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'Another ');\n\t\t\tassertCursor(viewModel, new Selection(2, 9, 2, 9));\n\n\t\t\tviewModel.type('text', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(2), 'Another text');\n\t\t\tassertCursor(viewModel, new Selection(2, 13, 2, 13));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'Another ');\n\t\t\tassertCursor(viewModel, new Selection(2, 9, 2, 9));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'Another line');\n\t\t\tassertCursor(viewModel, new Selection(2, 9, 2, 9));\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('there is an undo stop between deleting right and deleting left', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'A  line',\n\t\t\t\t'Another line',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(2, 9, 2, 9)]);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteRight, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteRight, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteRight, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteRight, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'Another ');\n\t\t\tassertCursor(viewModel, new Selection(2, 9, 2, 9));\n\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\teditor.runCommand(CoreEditingCommands.DeleteLeft, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'An');\n\t\t\tassertCursor(viewModel, new Selection(2, 3, 2, 3));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'Another ');\n\t\t\tassertCursor(viewModel, new Selection(2, 9, 2, 9));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(2), 'Another line');\n\t\t\tassertCursor(viewModel, new Selection(2, 9, 2, 9));\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('inserts undo stop when typing space', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'A  line',\n\t\t\t\t'Another line',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 3, 1, 3)]);\n\t\t\tviewModel.type('first and interesting', 'keyboard');\n\t\t\tassert.strictEqual(model.getLineContent(1), 'A first and interesting line');\n\t\t\tassertCursor(viewModel, new Selection(1, 24, 1, 24));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'A first and line');\n\t\t\tassertCursor(viewModel, new Selection(1, 12, 1, 12));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'A first line');\n\t\t\tassertCursor(viewModel, new Selection(1, 8, 1, 8));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getLineContent(1), 'A  line');\n\t\t\tassertCursor(viewModel, new Selection(1, 3, 1, 3));\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('can undo typing and EOL change in one undo stop', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'A  line',\n\t\t\t\t'Another line',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 3, 1, 3)]);\n\t\t\tviewModel.type('first', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), 'A first line\\nAnother line');\n\t\t\tassertCursor(viewModel, new Selection(1, 8, 1, 8));\n\n\t\t\tmodel.pushEOL(EndOfLineSequence.CRLF);\n\t\t\tassert.strictEqual(model.getValue(), 'A first line\\r\\nAnother line');\n\t\t\tassertCursor(viewModel, new Selection(1, 8, 1, 8));\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(), 'A  line\\nAnother line');\n\t\t\tassertCursor(viewModel, new Selection(1, 3, 1, 3));\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('issue #93585: Undo multi cursor edit corrupts document', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'hello world',\n\t\t\t\t'hello world',\n\t\t\t].join('\\n')\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [\n\t\t\t\tnew Selection(2, 7, 2, 12),\n\t\t\t\tnew Selection(1, 7, 1, 12),\n\t\t\t]);\n\t\t\tviewModel.type('no', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(), 'hello no\\nhello no');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(), 'hello world\\nhello world');\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('there is a single undo stop for consecutive whitespaces', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t''\n\t\t\t].join('\\n'),\n\t\t\tundefined,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.type('a', 'keyboard');\n\t\t\tviewModel.type('b', 'keyboard');\n\t\t\tviewModel.type(' ', 'keyboard');\n\t\t\tviewModel.type(' ', 'keyboard');\n\t\t\tviewModel.type('c', 'keyboard');\n\t\t\tviewModel.type('d', 'keyboard');\n\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), 'ab  cd', 'assert1');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), 'ab  ', 'assert2');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), 'ab', 'assert3');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '', 'assert4');\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('there is no undo stop after a single whitespace', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t''\n\t\t\t].join('\\n'),\n\t\t\tundefined,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.type('a', 'keyboard');\n\t\t\tviewModel.type('b', 'keyboard');\n\t\t\tviewModel.type(' ', 'keyboard');\n\t\t\tviewModel.type('c', 'keyboard');\n\t\t\tviewModel.type('d', 'keyboard');\n\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), 'ab cd', 'assert1');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), 'ab', 'assert3');\n\n\t\t\teditor.runCommand(CoreEditingCommands.Undo, null);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), '', 'assert4');\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n});\n\nsuite('Overtype Mode', () => {\n\n\tsetup(() => {\n\t\tInputMode.setInputMode('overtype');\n\t});\n\n\tteardown(() => {\n\t\tInputMode.setInputMode('insert');\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('simple type', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'123456789',\n\t\t\t\t'123456789',\n\t\t\t].join('\\n'),\n\t\t\tundefined,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 3, 1, 3)]);\n\t\t\tviewModel.type('a', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), [\n\t\t\t\t'12a456789',\n\t\t\t\t'123456789',\n\t\t\t].join('\\n'), 'assert1');\n\n\t\t\tviewModel.setSelections('test', [new Selection(1, 9, 1, 9)]);\n\t\t\tviewModel.type('bbb', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), [\n\t\t\t\t'12a45678bbb',\n\t\t\t\t'123456789',\n\t\t\t].join('\\n'), 'assert2');\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('multi-line selection type', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'123456789',\n\t\t\t\t'123456789',\n\t\t\t].join('\\n'),\n\t\t\tundefined,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 5, 2, 3)]);\n\t\t\tviewModel.type('cc', 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), [\n\t\t\t\t'1234cc456789',\n\t\t\t].join('\\n'), 'assert1');\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('simple paste', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'123456789',\n\t\t\t\t'123456789',\n\t\t\t].join('\\n'),\n\t\t\tundefined,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 5, 1, 5)]);\n\t\t\tviewModel.paste('cc', false);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), [\n\t\t\t\t'1234cc789',\n\t\t\t\t'123456789',\n\t\t\t].join('\\n'), 'assert1');\n\n\t\t\tviewModel.setSelections('test', [new Selection(1, 5, 1, 5)]);\n\t\t\tviewModel.paste('dddddddd', false);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), [\n\t\t\t\t'1234dddddddd',\n\t\t\t\t'123456789',\n\t\t\t].join('\\n'), 'assert2');\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('multi-line selection paste', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'123456789',\n\t\t\t\t'123456789',\n\t\t\t].join('\\n'),\n\t\t\tundefined,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 5, 2, 3)]);\n\t\t\tviewModel.paste('cc', false);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), [\n\t\t\t\t'1234cc456789',\n\t\t\t].join('\\n'), 'assert1');\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('paste multi-line text', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'123456789',\n\t\t\t\t'123456789',\n\t\t\t].join('\\n'),\n\t\t\tundefined,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 5, 1, 5)]);\n\t\t\tviewModel.paste([\n\t\t\t\t'aaaaaaa',\n\t\t\t\t'bbbbbbb'\n\t\t\t].join('\\n'), false);\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), [\n\t\t\t\t'1234aaaaaaa',\n\t\t\t\t'bbbbbbb',\n\t\t\t\t'123456789',\n\t\t\t].join('\\n'), 'assert1');\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n\n\ttest('composition type', () => {\n\t\tconst model = createTextModel(\n\t\t\t[\n\t\t\t\t'123456789',\n\t\t\t\t'123456789',\n\t\t\t].join('\\n'),\n\t\t\tundefined,\n\t\t\t{\n\t\t\t\tinsertSpaces: false,\n\t\t\t}\n\t\t);\n\n\t\twithTestCodeEditor(model, {}, (editor, viewModel) => {\n\t\t\tviewModel.setSelections('test', [new Selection(1, 5, 1, 5)]);\n\t\t\tviewModel.startComposition();\n\t\t\tviewModel.compositionType('', 0, 0, 0, 'keyboard');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), [\n\t\t\t\t'123456789',\n\t\t\t\t'123456789',\n\t\t\t].join('\\n'), 'assert1');\n\n\t\t\tviewModel.endComposition('keyboard');\n\t\t\tassert.strictEqual(model.getValue(EndOfLinePreference.LF), [\n\t\t\t\t'12346789',\n\t\t\t\t'123456789',\n\t\t\t].join('\\n'), 'assert1');\n\t\t});\n\n\t\tmodel.dispose();\n\t});\n});\n"]}