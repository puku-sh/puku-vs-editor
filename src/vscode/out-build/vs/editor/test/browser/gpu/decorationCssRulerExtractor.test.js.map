{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/editor/test/browser/gpu/decorationCssRulerExtractor.test.ts","vs/editor/test/browser/gpu/decorationCssRulerExtractor.test.ts"],"names":[],"mappings":"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","file":"decorationCssRulerExtractor.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { deepStrictEqual } from 'assert';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\nimport { DecorationCssRuleExtractor } from '../../../browser/gpu/css/decorationCssRuleExtractor.js';\nimport { generateUuid } from '../../../../base/common/uuid.js';\nimport { $, getActiveDocument } from '../../../../base/browser/dom.js';\n\nfunction randomClass(): string {\n\treturn 'test-class-' + generateUuid();\n}\n\nsuite('DecorationCssRulerExtractor', () => {\n\tconst store = ensureNoDisposablesAreLeakedInTestSuite();\n\n\tlet doc: Document;\n\tlet container: HTMLElement;\n\tlet extractor: DecorationCssRuleExtractor;\n\tlet testClassName: string;\n\n\tfunction addStyleElement(content: string): void {\n\t\tconst styleElement = $('style');\n\t\tstyleElement.textContent = content;\n\t\tcontainer.append(styleElement);\n\t}\n\n\tfunction assertStyles(className: string, expectedCssText: string[]): void {\n\t\tdeepStrictEqual(extractor.getStyleRules(container, className).map(e => e.cssText), expectedCssText);\n\t}\n\n\tsetup(() => {\n\t\tdoc = getActiveDocument();\n\t\textractor = store.add(new DecorationCssRuleExtractor());\n\t\ttestClassName = randomClass();\n\t\tcontainer = $('div');\n\t\tdoc.body.append(container);\n\t});\n\n\tteardown(() => {\n\t\tcontainer.remove();\n\t});\n\n\ttest('unknown class should give no styles', () => {\n\t\tassertStyles(randomClass(), []);\n\t});\n\n\ttest('single style should be picked up', () => {\n\t\taddStyleElement(`.${testClassName} { color: red; }`);\n\t\tassertStyles(testClassName, [\n\t\t\t`.${testClassName} { color: red; }`\n\t\t]);\n\t});\n\n\ttest('multiple styles from the same selector should be picked up', () => {\n\t\taddStyleElement(`.${testClassName} { color: red; opacity: 0.5; }`);\n\t\tassertStyles(testClassName, [\n\t\t\t`.${testClassName} { color: red; opacity: 0.5; }`\n\t\t]);\n\t});\n\n\ttest('multiple styles from  different selectors should be picked up', () => {\n\t\taddStyleElement([\n\t\t\t`.${testClassName} { color: red; opacity: 0.5; }`,\n\t\t\t`.${testClassName}:hover { opacity: 1; }`,\n\t\t].join('\\n'));\n\t\tassertStyles(testClassName, [\n\t\t\t`.${testClassName} { color: red; opacity: 0.5; }`,\n\t\t\t`.${testClassName}:hover { opacity: 1; }`,\n\t\t]);\n\t});\n\n\ttest('multiple styles from the different stylesheets should be picked up', () => {\n\t\taddStyleElement(`.${testClassName} { color: red; opacity: 0.5; }`);\n\t\taddStyleElement(`.${testClassName}:hover { opacity: 1; }`);\n\t\tassertStyles(testClassName, [\n\t\t\t`.${testClassName} { color: red; opacity: 0.5; }`,\n\t\t\t`.${testClassName}:hover { opacity: 1; }`,\n\t\t]);\n\t});\n\n\ttest('should not pick up styles from selectors where the prefix is the class', () => {\n\t\taddStyleElement([\n\t\t\t`.${testClassName} { color: red; }`,\n\t\t\t`.${testClassName}-ignoreme { opacity: 1; }`,\n\t\t\t`.${testClassName}fake { opacity: 1; }`,\n\t\t].join('\\n'));\n\t\tassertStyles(testClassName, [\n\t\t\t`.${testClassName} { color: red; }`,\n\t\t]);\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { deepStrictEqual } from 'assert';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\nimport { DecorationCssRuleExtractor } from '../../../browser/gpu/css/decorationCssRuleExtractor.js';\nimport { generateUuid } from '../../../../base/common/uuid.js';\nimport { $, getActiveDocument } from '../../../../base/browser/dom.js';\n\nfunction randomClass(): string {\n\treturn 'test-class-' + generateUuid();\n}\n\nsuite('DecorationCssRulerExtractor', () => {\n\tconst store = ensureNoDisposablesAreLeakedInTestSuite();\n\n\tlet doc: Document;\n\tlet container: HTMLElement;\n\tlet extractor: DecorationCssRuleExtractor;\n\tlet testClassName: string;\n\n\tfunction addStyleElement(content: string): void {\n\t\tconst styleElement = $('style');\n\t\tstyleElement.textContent = content;\n\t\tcontainer.append(styleElement);\n\t}\n\n\tfunction assertStyles(className: string, expectedCssText: string[]): void {\n\t\tdeepStrictEqual(extractor.getStyleRules(container, className).map(e => e.cssText), expectedCssText);\n\t}\n\n\tsetup(() => {\n\t\tdoc = getActiveDocument();\n\t\textractor = store.add(new DecorationCssRuleExtractor());\n\t\ttestClassName = randomClass();\n\t\tcontainer = $('div');\n\t\tdoc.body.append(container);\n\t});\n\n\tteardown(() => {\n\t\tcontainer.remove();\n\t});\n\n\ttest('unknown class should give no styles', () => {\n\t\tassertStyles(randomClass(), []);\n\t});\n\n\ttest('single style should be picked up', () => {\n\t\taddStyleElement(`.${testClassName} { color: red; }`);\n\t\tassertStyles(testClassName, [\n\t\t\t`.${testClassName} { color: red; }`\n\t\t]);\n\t});\n\n\ttest('multiple styles from the same selector should be picked up', () => {\n\t\taddStyleElement(`.${testClassName} { color: red; opacity: 0.5; }`);\n\t\tassertStyles(testClassName, [\n\t\t\t`.${testClassName} { color: red; opacity: 0.5; }`\n\t\t]);\n\t});\n\n\ttest('multiple styles from  different selectors should be picked up', () => {\n\t\taddStyleElement([\n\t\t\t`.${testClassName} { color: red; opacity: 0.5; }`,\n\t\t\t`.${testClassName}:hover { opacity: 1; }`,\n\t\t].join('\\n'));\n\t\tassertStyles(testClassName, [\n\t\t\t`.${testClassName} { color: red; opacity: 0.5; }`,\n\t\t\t`.${testClassName}:hover { opacity: 1; }`,\n\t\t]);\n\t});\n\n\ttest('multiple styles from the different stylesheets should be picked up', () => {\n\t\taddStyleElement(`.${testClassName} { color: red; opacity: 0.5; }`);\n\t\taddStyleElement(`.${testClassName}:hover { opacity: 1; }`);\n\t\tassertStyles(testClassName, [\n\t\t\t`.${testClassName} { color: red; opacity: 0.5; }`,\n\t\t\t`.${testClassName}:hover { opacity: 1; }`,\n\t\t]);\n\t});\n\n\ttest('should not pick up styles from selectors where the prefix is the class', () => {\n\t\taddStyleElement([\n\t\t\t`.${testClassName} { color: red; }`,\n\t\t\t`.${testClassName}-ignoreme { opacity: 1; }`,\n\t\t\t`.${testClassName}fake { opacity: 1; }`,\n\t\t].join('\\n'));\n\t\tassertStyles(testClassName, [\n\t\t\t`.${testClassName} { color: red; }`,\n\t\t]);\n\t});\n});\n"]}