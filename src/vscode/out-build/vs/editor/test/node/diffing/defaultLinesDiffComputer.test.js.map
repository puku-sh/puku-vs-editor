{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/editor/test/node/diffing/defaultLinesDiffComputer.test.ts","vs/editor/test/node/diffing/defaultLinesDiffComputer.test.ts"],"names":[],"mappings":"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","file":"defaultLinesDiffComputer.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { Range } from '../../../common/core/range.js';\nimport { getLineRangeMapping, RangeMapping } from '../../../common/diff/rangeMapping.js';\nimport { OffsetRange } from '../../../common/core/ranges/offsetRange.js';\nimport { LinesSliceCharSequence } from '../../../common/diff/defaultLinesDiffComputer/linesSliceCharSequence.js';\nimport { MyersDiffAlgorithm } from '../../../common/diff/defaultLinesDiffComputer/algorithms/myersDiffAlgorithm.js';\nimport { DynamicProgrammingDiffing } from '../../../common/diff/defaultLinesDiffComputer/algorithms/dynamicProgrammingDiffing.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\nimport { ArrayText } from '../../../common/core/text/abstractText.js';\n\nsuite('myers', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('1', () => {\n\t\tconst s1 = new LinesSliceCharSequence(['hello world'], new Range(1, 1, 1, Number.MAX_SAFE_INTEGER), true);\n\t\tconst s2 = new LinesSliceCharSequence(['hallo welt'], new Range(1, 1, 1, Number.MAX_SAFE_INTEGER), true);\n\n\t\tconst a = true ? new MyersDiffAlgorithm() : new DynamicProgrammingDiffing();\n\t\ta.compute(s1, s2);\n\t});\n});\n\nsuite('lineRangeMapping', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('Simple', () => {\n\t\tassert.deepStrictEqual(\n\t\t\tgetLineRangeMapping(\n\t\t\t\tnew RangeMapping(\n\t\t\t\t\tnew Range(2, 1, 3, 1),\n\t\t\t\t\tnew Range(2, 1, 2, 1)\n\t\t\t\t),\n\t\t\t\tnew ArrayText([\n\t\t\t\t\t'const abc = \"helloworld\".split(\"\");',\n\t\t\t\t\t'',\n\t\t\t\t\t''\n\t\t\t\t]),\n\t\t\t\tnew ArrayText([\n\t\t\t\t\t'const asciiLower = \"helloworld\".split(\"\");',\n\t\t\t\t\t''\n\t\t\t\t])\n\t\t\t).toString(),\n\t\t\t'{[2,3)->[2,2)}'\n\t\t);\n\t});\n\n\ttest('Empty Lines', () => {\n\t\tassert.deepStrictEqual(\n\t\t\tgetLineRangeMapping(\n\t\t\t\tnew RangeMapping(\n\t\t\t\t\tnew Range(2, 1, 2, 1),\n\t\t\t\t\tnew Range(2, 1, 4, 1),\n\t\t\t\t),\n\t\t\t\tnew ArrayText([\n\t\t\t\t\t'',\n\t\t\t\t\t'',\n\t\t\t\t]),\n\t\t\t\tnew ArrayText([\n\t\t\t\t\t'',\n\t\t\t\t\t'',\n\t\t\t\t\t'',\n\t\t\t\t\t'',\n\t\t\t\t])\n\t\t\t).toString(),\n\t\t\t'{[2,2)->[2,4)}'\n\t\t);\n\t});\n});\n\nsuite('LinesSliceCharSequence', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tconst sequence = new LinesSliceCharSequence(\n\t\t[\n\t\t\t'line1: foo',\n\t\t\t'line2: fizzbuzz',\n\t\t\t'line3: barr',\n\t\t\t'line4: hello world',\n\t\t\t'line5: bazz',\n\t\t],\n\t\tnew Range(2, 1, 5, 1), true\n\t);\n\n\ttest('translateOffset', () => {\n\t\tassert.deepStrictEqual(\n\t\t\t{ result: OffsetRange.ofLength(sequence.length).map(offset => sequence.translateOffset(offset).toString()) },\n\t\t\t({\n\t\t\t\tresult: [\n\t\t\t\t\t'(2,1)', '(2,2)', '(2,3)', '(2,4)', '(2,5)', '(2,6)', '(2,7)', '(2,8)', '(2,9)', '(2,10)', '(2,11)',\n\t\t\t\t\t'(2,12)', '(2,13)', '(2,14)', '(2,15)', '(2,16)',\n\n\t\t\t\t\t'(3,1)', '(3,2)', '(3,3)', '(3,4)', '(3,5)', '(3,6)', '(3,7)', '(3,8)', '(3,9)', '(3,10)', '(3,11)', '(3,12)',\n\n\t\t\t\t\t'(4,1)', '(4,2)', '(4,3)', '(4,4)', '(4,5)', '(4,6)', '(4,7)', '(4,8)', '(4,9)',\n\t\t\t\t\t'(4,10)', '(4,11)', '(4,12)', '(4,13)', '(4,14)', '(4,15)', '(4,16)', '(4,17)',\n\t\t\t\t\t'(4,18)', '(4,19)'\n\t\t\t\t]\n\t\t\t})\n\t\t);\n\t});\n\n\ttest('extendToFullLines', () => {\n\t\tassert.deepStrictEqual(\n\t\t\t{ result: sequence.getText(sequence.extendToFullLines(new OffsetRange(20, 25))) },\n\t\t\t({ result: 'line3: barr\\n' })\n\t\t);\n\n\t\tassert.deepStrictEqual(\n\t\t\t{ result: sequence.getText(sequence.extendToFullLines(new OffsetRange(20, 45))) },\n\t\t\t({ result: 'line3: barr\\nline4: hello world\\n' })\n\t\t);\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { Range } from '../../../common/core/range.js';\nimport { getLineRangeMapping, RangeMapping } from '../../../common/diff/rangeMapping.js';\nimport { OffsetRange } from '../../../common/core/ranges/offsetRange.js';\nimport { LinesSliceCharSequence } from '../../../common/diff/defaultLinesDiffComputer/linesSliceCharSequence.js';\nimport { MyersDiffAlgorithm } from '../../../common/diff/defaultLinesDiffComputer/algorithms/myersDiffAlgorithm.js';\nimport { DynamicProgrammingDiffing } from '../../../common/diff/defaultLinesDiffComputer/algorithms/dynamicProgrammingDiffing.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../base/test/common/utils.js';\nimport { ArrayText } from '../../../common/core/text/abstractText.js';\n\nsuite('myers', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('1', () => {\n\t\tconst s1 = new LinesSliceCharSequence(['hello world'], new Range(1, 1, 1, Number.MAX_SAFE_INTEGER), true);\n\t\tconst s2 = new LinesSliceCharSequence(['hallo welt'], new Range(1, 1, 1, Number.MAX_SAFE_INTEGER), true);\n\n\t\tconst a = true ? new MyersDiffAlgorithm() : new DynamicProgrammingDiffing();\n\t\ta.compute(s1, s2);\n\t});\n});\n\nsuite('lineRangeMapping', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('Simple', () => {\n\t\tassert.deepStrictEqual(\n\t\t\tgetLineRangeMapping(\n\t\t\t\tnew RangeMapping(\n\t\t\t\t\tnew Range(2, 1, 3, 1),\n\t\t\t\t\tnew Range(2, 1, 2, 1)\n\t\t\t\t),\n\t\t\t\tnew ArrayText([\n\t\t\t\t\t'const abc = \"helloworld\".split(\"\");',\n\t\t\t\t\t'',\n\t\t\t\t\t''\n\t\t\t\t]),\n\t\t\t\tnew ArrayText([\n\t\t\t\t\t'const asciiLower = \"helloworld\".split(\"\");',\n\t\t\t\t\t''\n\t\t\t\t])\n\t\t\t).toString(),\n\t\t\t'{[2,3)->[2,2)}'\n\t\t);\n\t});\n\n\ttest('Empty Lines', () => {\n\t\tassert.deepStrictEqual(\n\t\t\tgetLineRangeMapping(\n\t\t\t\tnew RangeMapping(\n\t\t\t\t\tnew Range(2, 1, 2, 1),\n\t\t\t\t\tnew Range(2, 1, 4, 1),\n\t\t\t\t),\n\t\t\t\tnew ArrayText([\n\t\t\t\t\t'',\n\t\t\t\t\t'',\n\t\t\t\t]),\n\t\t\t\tnew ArrayText([\n\t\t\t\t\t'',\n\t\t\t\t\t'',\n\t\t\t\t\t'',\n\t\t\t\t\t'',\n\t\t\t\t])\n\t\t\t).toString(),\n\t\t\t'{[2,2)->[2,4)}'\n\t\t);\n\t});\n});\n\nsuite('LinesSliceCharSequence', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tconst sequence = new LinesSliceCharSequence(\n\t\t[\n\t\t\t'line1: foo',\n\t\t\t'line2: fizzbuzz',\n\t\t\t'line3: barr',\n\t\t\t'line4: hello world',\n\t\t\t'line5: bazz',\n\t\t],\n\t\tnew Range(2, 1, 5, 1), true\n\t);\n\n\ttest('translateOffset', () => {\n\t\tassert.deepStrictEqual(\n\t\t\t{ result: OffsetRange.ofLength(sequence.length).map(offset => sequence.translateOffset(offset).toString()) },\n\t\t\t({\n\t\t\t\tresult: [\n\t\t\t\t\t'(2,1)', '(2,2)', '(2,3)', '(2,4)', '(2,5)', '(2,6)', '(2,7)', '(2,8)', '(2,9)', '(2,10)', '(2,11)',\n\t\t\t\t\t'(2,12)', '(2,13)', '(2,14)', '(2,15)', '(2,16)',\n\n\t\t\t\t\t'(3,1)', '(3,2)', '(3,3)', '(3,4)', '(3,5)', '(3,6)', '(3,7)', '(3,8)', '(3,9)', '(3,10)', '(3,11)', '(3,12)',\n\n\t\t\t\t\t'(4,1)', '(4,2)', '(4,3)', '(4,4)', '(4,5)', '(4,6)', '(4,7)', '(4,8)', '(4,9)',\n\t\t\t\t\t'(4,10)', '(4,11)', '(4,12)', '(4,13)', '(4,14)', '(4,15)', '(4,16)', '(4,17)',\n\t\t\t\t\t'(4,18)', '(4,19)'\n\t\t\t\t]\n\t\t\t})\n\t\t);\n\t});\n\n\ttest('extendToFullLines', () => {\n\t\tassert.deepStrictEqual(\n\t\t\t{ result: sequence.getText(sequence.extendToFullLines(new OffsetRange(20, 25))) },\n\t\t\t({ result: 'line3: barr\\n' })\n\t\t);\n\n\t\tassert.deepStrictEqual(\n\t\t\t{ result: sequence.getText(sequence.extendToFullLines(new OffsetRange(20, 45))) },\n\t\t\t({ result: 'line3: barr\\nline4: hello world\\n' })\n\t\t);\n\t});\n});\n"]}