{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/editor/contrib/inlineCompletions/test/browser/getSecondaryEdits.test.ts","vs/editor/contrib/inlineCompletions/test/browser/getSecondaryEdits.test.ts"],"names":[],"mappings":"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","file":"getSecondaryEdits.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport assert from 'assert';\nimport { Position } from '../../../../common/core/position.js';\nimport { getSecondaryEdits } from '../../browser/model/inlineCompletionsModel.js';\nimport { TextEdit, TextReplacement } from '../../../../common/core/edits/textEdit.js';\nimport { createTextModel } from '../../../../test/common/testTextModel.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { isDefined } from '../../../../../base/common/types.js';\n\nsuite('getSecondaryEdits', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('basic', async function () {\n\n\t\tconst textModel = createTextModel([\n\t\t\t'function fib(',\n\t\t\t'function fib('\n\t\t].join('\\n'));\n\t\tconst positions = [\n\t\t\tnew Position(1, 14),\n\t\t\tnew Position(2, 14)\n\t\t];\n\t\tconst primaryEdit = new TextReplacement(new Range(1, 1, 1, 14), 'function fib() {');\n\t\tconst secondaryEdits = getSecondaryEdits(textModel, positions, primaryEdit);\n\t\tassert.deepStrictEqual(secondaryEdits, [new TextReplacement(\n\t\t\tnew Range(2, 14, 2, 14),\n\t\t\t') {'\n\t\t)]);\n\t\ttextModel.dispose();\n\t});\n\n\ttest('cursor not on same line as primary edit 1', async function () {\n\n\t\tconst textModel = createTextModel([\n\t\t\t'function fib(',\n\t\t\t'',\n\t\t\t'function fib(',\n\t\t\t''\n\t\t].join('\\n'));\n\t\tconst positions = [\n\t\t\tnew Position(2, 1),\n\t\t\tnew Position(4, 1)\n\t\t];\n\t\tconst primaryEdit = new TextReplacement(new Range(1, 1, 2, 1), [\n\t\t\t'function fib() {',\n\t\t\t'\treturn 0;',\n\t\t\t'}'\n\t\t].join('\\n'));\n\t\tconst secondaryEdits = getSecondaryEdits(textModel, positions, primaryEdit);\n\t\tassert.deepStrictEqual(TextEdit.fromParallelReplacementsUnsorted(secondaryEdits.filter(isDefined)).toString(textModel.getValue()), '...ction fib(❰\\n↦) {\\n\\t... 0;\\n}❱');\n\t\ttextModel.dispose();\n\t});\n\n\ttest('cursor not on same line as primary edit 2', async function () {\n\n\t\tconst textModel = createTextModel([\n\t\t\t'class A {',\n\t\t\t'',\n\t\t\t'class B {',\n\t\t\t'',\n\t\t\t'function f() {}'\n\t\t].join('\\n'));\n\t\tconst positions = [\n\t\t\tnew Position(2, 1),\n\t\t\tnew Position(4, 1)\n\t\t];\n\t\tconst primaryEdit = new TextReplacement(new Range(1, 1, 2, 1), [\n\t\t\t'class A {',\n\t\t\t'\tpublic x: number = 0;',\n\t\t\t'   public y: number = 0;',\n\t\t\t'}'\n\t\t].join('\\n'));\n\t\tconst secondaryEdits = getSecondaryEdits(textModel, positions, primaryEdit);\n\t\tassert.deepStrictEqual(secondaryEdits, [new TextReplacement(\n\t\t\tnew Range(4, 1, 4, 1), [\n\t\t\t\t'\tpublic x: number = 0;',\n\t\t\t\t'   public y: number = 0;',\n\t\t\t\t'}'\n\t\t\t].join('\\n')\n\t\t)]);\n\t\ttextModel.dispose();\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport assert from 'assert';\nimport { Position } from '../../../../common/core/position.js';\nimport { getSecondaryEdits } from '../../browser/model/inlineCompletionsModel.js';\nimport { TextEdit, TextReplacement } from '../../../../common/core/edits/textEdit.js';\nimport { createTextModel } from '../../../../test/common/testTextModel.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { isDefined } from '../../../../../base/common/types.js';\n\nsuite('getSecondaryEdits', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('basic', async function () {\n\n\t\tconst textModel = createTextModel([\n\t\t\t'function fib(',\n\t\t\t'function fib('\n\t\t].join('\\n'));\n\t\tconst positions = [\n\t\t\tnew Position(1, 14),\n\t\t\tnew Position(2, 14)\n\t\t];\n\t\tconst primaryEdit = new TextReplacement(new Range(1, 1, 1, 14), 'function fib() {');\n\t\tconst secondaryEdits = getSecondaryEdits(textModel, positions, primaryEdit);\n\t\tassert.deepStrictEqual(secondaryEdits, [new TextReplacement(\n\t\t\tnew Range(2, 14, 2, 14),\n\t\t\t') {'\n\t\t)]);\n\t\ttextModel.dispose();\n\t});\n\n\ttest('cursor not on same line as primary edit 1', async function () {\n\n\t\tconst textModel = createTextModel([\n\t\t\t'function fib(',\n\t\t\t'',\n\t\t\t'function fib(',\n\t\t\t''\n\t\t].join('\\n'));\n\t\tconst positions = [\n\t\t\tnew Position(2, 1),\n\t\t\tnew Position(4, 1)\n\t\t];\n\t\tconst primaryEdit = new TextReplacement(new Range(1, 1, 2, 1), [\n\t\t\t'function fib() {',\n\t\t\t'\treturn 0;',\n\t\t\t'}'\n\t\t].join('\\n'));\n\t\tconst secondaryEdits = getSecondaryEdits(textModel, positions, primaryEdit);\n\t\tassert.deepStrictEqual(TextEdit.fromParallelReplacementsUnsorted(secondaryEdits.filter(isDefined)).toString(textModel.getValue()), '...ction fib(❰\\n↦) {\\n\\t... 0;\\n}❱');\n\t\ttextModel.dispose();\n\t});\n\n\ttest('cursor not on same line as primary edit 2', async function () {\n\n\t\tconst textModel = createTextModel([\n\t\t\t'class A {',\n\t\t\t'',\n\t\t\t'class B {',\n\t\t\t'',\n\t\t\t'function f() {}'\n\t\t].join('\\n'));\n\t\tconst positions = [\n\t\t\tnew Position(2, 1),\n\t\t\tnew Position(4, 1)\n\t\t];\n\t\tconst primaryEdit = new TextReplacement(new Range(1, 1, 2, 1), [\n\t\t\t'class A {',\n\t\t\t'\tpublic x: number = 0;',\n\t\t\t'   public y: number = 0;',\n\t\t\t'}'\n\t\t].join('\\n'));\n\t\tconst secondaryEdits = getSecondaryEdits(textModel, positions, primaryEdit);\n\t\tassert.deepStrictEqual(secondaryEdits, [new TextReplacement(\n\t\t\tnew Range(4, 1, 4, 1), [\n\t\t\t\t'\tpublic x: number = 0;',\n\t\t\t\t'   public y: number = 0;',\n\t\t\t\t'}'\n\t\t\t].join('\\n')\n\t\t)]);\n\t\ttextModel.dispose();\n\t});\n});\n"]}