{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/editor/contrib/wordOperations/test/browser/wordTestUtils.ts","vs/editor/contrib/wordOperations/test/browser/wordTestUtils.ts"],"names":[],"mappings":"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","file":"wordTestUtils.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Position } from '../../../../common/core/position.js';\nimport { ITestCodeEditor, TestCodeEditorInstantiationOptions, withTestCodeEditor } from '../../../../test/browser/testCodeEditor.js';\n\nexport function deserializePipePositions(text: string): [string, Position[]] {\n\tlet resultText = '';\n\tlet lineNumber = 1;\n\tlet charIndex = 0;\n\tconst positions: Position[] = [];\n\tfor (let i = 0, len = text.length; i < len; i++) {\n\t\tconst chr = text.charAt(i);\n\t\tif (chr === '\\n') {\n\t\t\tresultText += chr;\n\t\t\tlineNumber++;\n\t\t\tcharIndex = 0;\n\t\t\tcontinue;\n\t\t}\n\t\tif (chr === '|') {\n\t\t\tpositions.push(new Position(lineNumber, charIndex + 1));\n\t\t} else {\n\t\t\tresultText += chr;\n\t\t\tcharIndex++;\n\t\t}\n\t}\n\treturn [resultText, positions];\n}\n\nexport function serializePipePositions(text: string, positions: Position[]): string {\n\tpositions.sort(Position.compare);\n\tlet resultText = '';\n\tlet lineNumber = 1;\n\tlet charIndex = 0;\n\tfor (let i = 0, len = text.length; i < len; i++) {\n\t\tconst chr = text.charAt(i);\n\t\tif (positions.length > 0 && positions[0].lineNumber === lineNumber && positions[0].column === charIndex + 1) {\n\t\t\tresultText += '|';\n\t\t\tpositions.shift();\n\t\t}\n\t\tresultText += chr;\n\t\tif (chr === '\\n') {\n\t\t\tlineNumber++;\n\t\t\tcharIndex = 0;\n\t\t} else {\n\t\t\tcharIndex++;\n\t\t}\n\t}\n\tif (positions.length > 0 && positions[0].lineNumber === lineNumber && positions[0].column === charIndex + 1) {\n\t\tresultText += '|';\n\t\tpositions.shift();\n\t}\n\tif (positions.length > 0) {\n\t\tthrow new Error(`Unexpected left over positions!!!`);\n\t}\n\treturn resultText;\n}\n\nexport function testRepeatedActionAndExtractPositions(text: string, initialPosition: Position, action: (editor: ITestCodeEditor) => void, record: (editor: ITestCodeEditor) => Position, stopCondition: (editor: ITestCodeEditor) => boolean, options: TestCodeEditorInstantiationOptions = {}): Position[] {\n\tconst actualStops: Position[] = [];\n\twithTestCodeEditor(text, options, (editor) => {\n\t\teditor.setPosition(initialPosition);\n\t\twhile (true) {\n\t\t\taction(editor);\n\t\t\tactualStops.push(record(editor));\n\t\t\tif (stopCondition(editor)) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (actualStops.length > 1000) {\n\t\t\t\tthrow new Error(`Endless loop detected involving position ${editor.getPosition()}!`);\n\t\t\t}\n\t\t}\n\t});\n\treturn actualStops;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Position } from '../../../../common/core/position.js';\nimport { ITestCodeEditor, TestCodeEditorInstantiationOptions, withTestCodeEditor } from '../../../../test/browser/testCodeEditor.js';\n\nexport function deserializePipePositions(text: string): [string, Position[]] {\n\tlet resultText = '';\n\tlet lineNumber = 1;\n\tlet charIndex = 0;\n\tconst positions: Position[] = [];\n\tfor (let i = 0, len = text.length; i < len; i++) {\n\t\tconst chr = text.charAt(i);\n\t\tif (chr === '\\n') {\n\t\t\tresultText += chr;\n\t\t\tlineNumber++;\n\t\t\tcharIndex = 0;\n\t\t\tcontinue;\n\t\t}\n\t\tif (chr === '|') {\n\t\t\tpositions.push(new Position(lineNumber, charIndex + 1));\n\t\t} else {\n\t\t\tresultText += chr;\n\t\t\tcharIndex++;\n\t\t}\n\t}\n\treturn [resultText, positions];\n}\n\nexport function serializePipePositions(text: string, positions: Position[]): string {\n\tpositions.sort(Position.compare);\n\tlet resultText = '';\n\tlet lineNumber = 1;\n\tlet charIndex = 0;\n\tfor (let i = 0, len = text.length; i < len; i++) {\n\t\tconst chr = text.charAt(i);\n\t\tif (positions.length > 0 && positions[0].lineNumber === lineNumber && positions[0].column === charIndex + 1) {\n\t\t\tresultText += '|';\n\t\t\tpositions.shift();\n\t\t}\n\t\tresultText += chr;\n\t\tif (chr === '\\n') {\n\t\t\tlineNumber++;\n\t\t\tcharIndex = 0;\n\t\t} else {\n\t\t\tcharIndex++;\n\t\t}\n\t}\n\tif (positions.length > 0 && positions[0].lineNumber === lineNumber && positions[0].column === charIndex + 1) {\n\t\tresultText += '|';\n\t\tpositions.shift();\n\t}\n\tif (positions.length > 0) {\n\t\tthrow new Error(`Unexpected left over positions!!!`);\n\t}\n\treturn resultText;\n}\n\nexport function testRepeatedActionAndExtractPositions(text: string, initialPosition: Position, action: (editor: ITestCodeEditor) => void, record: (editor: ITestCodeEditor) => Position, stopCondition: (editor: ITestCodeEditor) => boolean, options: TestCodeEditorInstantiationOptions = {}): Position[] {\n\tconst actualStops: Position[] = [];\n\twithTestCodeEditor(text, options, (editor) => {\n\t\teditor.setPosition(initialPosition);\n\t\twhile (true) {\n\t\t\taction(editor);\n\t\t\tactualStops.push(record(editor));\n\t\t\tif (stopCondition(editor)) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (actualStops.length > 1000) {\n\t\t\t\tthrow new Error(`Endless loop detected involving position ${editor.getPosition()}!`);\n\t\t\t}\n\t\t}\n\t});\n\treturn actualStops;\n}\n"]}