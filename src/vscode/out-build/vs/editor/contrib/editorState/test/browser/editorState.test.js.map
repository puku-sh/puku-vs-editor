{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/editor/contrib/editorState/test/browser/editorState.test.ts","vs/editor/contrib/editorState/test/browser/editorState.test.ts"],"names":[],"mappings":"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","file":"editorState.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { ICodeEditor } from '../../../../browser/editorBrowser.js';\nimport { Position } from '../../../../common/core/position.js';\nimport { Selection } from '../../../../common/core/selection.js';\nimport { ITextModel } from '../../../../common/model.js';\nimport { CodeEditorStateFlag, EditorState } from '../../browser/editorState.js';\n\ninterface IStubEditorState {\n\tmodel?: { uri?: URI; version?: number };\n\tposition?: Position;\n\tselection?: Selection;\n\tscroll?: { left?: number; top?: number };\n}\n\nsuite('Editor Core - Editor State', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tconst allFlags = (\n\t\tCodeEditorStateFlag.Value\n\t\t| CodeEditorStateFlag.Selection\n\t\t| CodeEditorStateFlag.Position\n\t\t| CodeEditorStateFlag.Scroll\n\t);\n\n\ttest('empty editor state should be valid', () => {\n\t\tconst result = validate({}, {});\n\t\tassert.strictEqual(result, true);\n\t});\n\n\ttest('different model URIs should be invalid', () => {\n\t\tconst result = validate(\n\t\t\t{ model: { uri: URI.parse('http://test1') } },\n\t\t\t{ model: { uri: URI.parse('http://test2') } }\n\t\t);\n\n\t\tassert.strictEqual(result, false);\n\t});\n\n\ttest('different model versions should be invalid', () => {\n\t\tconst result = validate(\n\t\t\t{ model: { version: 1 } },\n\t\t\t{ model: { version: 2 } }\n\t\t);\n\n\t\tassert.strictEqual(result, false);\n\t});\n\n\ttest('different positions should be invalid', () => {\n\t\tconst result = validate(\n\t\t\t{ position: new Position(1, 2) },\n\t\t\t{ position: new Position(2, 3) }\n\t\t);\n\n\t\tassert.strictEqual(result, false);\n\t});\n\n\ttest('different selections should be invalid', () => {\n\t\tconst result = validate(\n\t\t\t{ selection: new Selection(1, 2, 3, 4) },\n\t\t\t{ selection: new Selection(5, 2, 3, 4) }\n\t\t);\n\n\t\tassert.strictEqual(result, false);\n\t});\n\n\ttest('different scroll positions should be invalid', () => {\n\t\tconst result = validate(\n\t\t\t{ scroll: { left: 1, top: 2 } },\n\t\t\t{ scroll: { left: 3, top: 2 } }\n\t\t);\n\n\t\tassert.strictEqual(result, false);\n\t});\n\n\n\tfunction validate(source: IStubEditorState, target: IStubEditorState) {\n\t\tconst sourceEditor = createEditor(source),\n\t\t\ttargetEditor = createEditor(target);\n\n\t\tconst result = new EditorState(sourceEditor, allFlags).validate(targetEditor);\n\n\t\treturn result;\n\t}\n\n\tfunction createEditor({ model, position, selection, scroll }: IStubEditorState = {}): ICodeEditor {\n\t\tconst mappedModel = model ? { uri: model.uri ? model.uri : URI.parse('http://dummy.org'), getVersionId: () => model.version } : null;\n\n\t\treturn {\n\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\tgetModel: (): ITextModel => <any>mappedModel,\n\t\t\tgetPosition: (): Position | undefined => position,\n\t\t\tgetSelection: (): Selection | undefined => selection,\n\t\t\tgetScrollLeft: (): number | undefined => scroll && scroll.left,\n\t\t\tgetScrollTop: (): number | undefined => scroll && scroll.top\n\t\t} as ICodeEditor;\n\t}\n\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { ICodeEditor } from '../../../../browser/editorBrowser.js';\nimport { Position } from '../../../../common/core/position.js';\nimport { Selection } from '../../../../common/core/selection.js';\nimport { ITextModel } from '../../../../common/model.js';\nimport { CodeEditorStateFlag, EditorState } from '../../browser/editorState.js';\n\ninterface IStubEditorState {\n\tmodel?: { uri?: URI; version?: number };\n\tposition?: Position;\n\tselection?: Selection;\n\tscroll?: { left?: number; top?: number };\n}\n\nsuite('Editor Core - Editor State', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tconst allFlags = (\n\t\tCodeEditorStateFlag.Value\n\t\t| CodeEditorStateFlag.Selection\n\t\t| CodeEditorStateFlag.Position\n\t\t| CodeEditorStateFlag.Scroll\n\t);\n\n\ttest('empty editor state should be valid', () => {\n\t\tconst result = validate({}, {});\n\t\tassert.strictEqual(result, true);\n\t});\n\n\ttest('different model URIs should be invalid', () => {\n\t\tconst result = validate(\n\t\t\t{ model: { uri: URI.parse('http://test1') } },\n\t\t\t{ model: { uri: URI.parse('http://test2') } }\n\t\t);\n\n\t\tassert.strictEqual(result, false);\n\t});\n\n\ttest('different model versions should be invalid', () => {\n\t\tconst result = validate(\n\t\t\t{ model: { version: 1 } },\n\t\t\t{ model: { version: 2 } }\n\t\t);\n\n\t\tassert.strictEqual(result, false);\n\t});\n\n\ttest('different positions should be invalid', () => {\n\t\tconst result = validate(\n\t\t\t{ position: new Position(1, 2) },\n\t\t\t{ position: new Position(2, 3) }\n\t\t);\n\n\t\tassert.strictEqual(result, false);\n\t});\n\n\ttest('different selections should be invalid', () => {\n\t\tconst result = validate(\n\t\t\t{ selection: new Selection(1, 2, 3, 4) },\n\t\t\t{ selection: new Selection(5, 2, 3, 4) }\n\t\t);\n\n\t\tassert.strictEqual(result, false);\n\t});\n\n\ttest('different scroll positions should be invalid', () => {\n\t\tconst result = validate(\n\t\t\t{ scroll: { left: 1, top: 2 } },\n\t\t\t{ scroll: { left: 3, top: 2 } }\n\t\t);\n\n\t\tassert.strictEqual(result, false);\n\t});\n\n\n\tfunction validate(source: IStubEditorState, target: IStubEditorState) {\n\t\tconst sourceEditor = createEditor(source),\n\t\t\ttargetEditor = createEditor(target);\n\n\t\tconst result = new EditorState(sourceEditor, allFlags).validate(targetEditor);\n\n\t\treturn result;\n\t}\n\n\tfunction createEditor({ model, position, selection, scroll }: IStubEditorState = {}): ICodeEditor {\n\t\tconst mappedModel = model ? { uri: model.uri ? model.uri : URI.parse('http://dummy.org'), getVersionId: () => model.version } : null;\n\n\t\treturn {\n\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\tgetModel: (): ITextModel => <any>mappedModel,\n\t\t\tgetPosition: (): Position | undefined => position,\n\t\t\tgetSelection: (): Selection | undefined => selection,\n\t\t\tgetScrollLeft: (): number | undefined => scroll && scroll.left,\n\t\t\tgetScrollTop: (): number | undefined => scroll && scroll.top\n\t\t} as ICodeEditor;\n\t}\n\n});\n"]}