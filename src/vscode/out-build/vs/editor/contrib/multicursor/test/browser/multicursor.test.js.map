{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/editor/contrib/multicursor/test/browser/multicursor.test.ts","vs/editor/contrib/multicursor/test/browser/multicursor.test.ts"],"names":[],"mappings":"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","file":"multicursor.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport assert from 'assert';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { Selection } from '../../../../common/core/selection.js';\nimport { Handler } from '../../../../common/editorCommon.js';\nimport { EndOfLineSequence } from '../../../../common/model.js';\nimport { CommonFindController } from '../../../find/browser/findController.js';\nimport { AddSelectionToNextFindMatchAction, InsertCursorAbove, InsertCursorBelow, MultiCursorSelectionController, SelectHighlightsAction } from '../../browser/multicursor.js';\nimport { ITestCodeEditor, withTestCodeEditor } from '../../../../test/browser/testCodeEditor.js';\nimport { ServiceCollection } from '../../../../../platform/instantiation/common/serviceCollection.js';\nimport { IStorageService, InMemoryStorageService } from '../../../../../platform/storage/common/storage.js';\n\nsuite('Multicursor', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('issue #26393: Multiple cursors + Word wrap', () => {\n\t\twithTestCodeEditor([\n\t\t\t'a'.repeat(20),\n\t\t\t'a'.repeat(20),\n\t\t], { wordWrap: 'wordWrapColumn', wordWrapColumn: 10 }, (editor, viewModel) => {\n\t\t\tconst addCursorDownAction = new InsertCursorBelow();\n\t\t\taddCursorDownAction.run(null!, editor, {});\n\n\t\t\tassert.strictEqual(viewModel.getCursorStates().length, 2);\n\n\t\t\tassert.strictEqual(viewModel.getCursorStates()[0].viewState.position.lineNumber, 1);\n\t\t\tassert.strictEqual(viewModel.getCursorStates()[1].viewState.position.lineNumber, 3);\n\n\t\t\teditor.setPosition({ lineNumber: 4, column: 1 });\n\t\t\tconst addCursorUpAction = new InsertCursorAbove();\n\t\t\taddCursorUpAction.run(null!, editor, {});\n\n\t\t\tassert.strictEqual(viewModel.getCursorStates().length, 2);\n\n\t\t\tassert.strictEqual(viewModel.getCursorStates()[0].viewState.position.lineNumber, 4);\n\t\t\tassert.strictEqual(viewModel.getCursorStates()[1].viewState.position.lineNumber, 2);\n\t\t});\n\t});\n\n\ttest('issue #2205: Multi-cursor pastes in reverse order', () => {\n\t\twithTestCodeEditor([\n\t\t\t'abc',\n\t\t\t'def'\n\t\t], {}, (editor, viewModel) => {\n\t\t\tconst addCursorUpAction = new InsertCursorAbove();\n\n\t\t\teditor.setSelection(new Selection(2, 1, 2, 1));\n\t\t\taddCursorUpAction.run(null!, editor, {});\n\t\t\tassert.strictEqual(viewModel.getSelections().length, 2);\n\n\t\t\teditor.trigger('test', Handler.Paste, {\n\t\t\t\ttext: '1\\n2',\n\t\t\t\tmulticursorText: [\n\t\t\t\t\t'1',\n\t\t\t\t\t'2'\n\t\t\t\t]\n\t\t\t});\n\n\t\t\tassert.strictEqual(editor.getModel()!.getLineContent(1), '1abc');\n\t\t\tassert.strictEqual(editor.getModel()!.getLineContent(2), '2def');\n\t\t});\n\t});\n\n\ttest('issue #1336: Insert cursor below on last line adds a cursor to the end of the current line', () => {\n\t\twithTestCodeEditor([\n\t\t\t'abc'\n\t\t], {}, (editor, viewModel) => {\n\t\t\tconst addCursorDownAction = new InsertCursorBelow();\n\t\t\taddCursorDownAction.run(null!, editor, {});\n\t\t\tassert.strictEqual(viewModel.getSelections().length, 1);\n\t\t});\n\t});\n\n});\n\nfunction fromRange(rng: Range): number[] {\n\treturn [rng.startLineNumber, rng.startColumn, rng.endLineNumber, rng.endColumn];\n}\n\nsuite('Multicursor selection', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tconst serviceCollection = new ServiceCollection();\n\tserviceCollection.set(IStorageService, new InMemoryStorageService());\n\n\ttest('issue #8817: Cursor position changes when you cancel multicursor', () => {\n\t\twithTestCodeEditor([\n\t\t\t'var x = (3 * 5)',\n\t\t\t'var y = (3 * 5)',\n\t\t\t'var z = (3 * 5)',\n\t\t], { serviceCollection: serviceCollection }, (editor) => {\n\n\t\t\tconst findController = editor.registerAndInstantiateContribution(CommonFindController.ID, CommonFindController);\n\t\t\tconst multiCursorSelectController = editor.registerAndInstantiateContribution(MultiCursorSelectionController.ID, MultiCursorSelectionController);\n\t\t\tconst selectHighlightsAction = new SelectHighlightsAction();\n\n\t\t\teditor.setSelection(new Selection(2, 9, 2, 16));\n\n\t\t\tselectHighlightsAction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections()!.map(fromRange), [\n\t\t\t\t[2, 9, 2, 16],\n\t\t\t\t[1, 9, 1, 16],\n\t\t\t\t[3, 9, 3, 16],\n\t\t\t]);\n\n\t\t\teditor.trigger('test', 'removeSecondaryCursors', null);\n\n\t\t\tassert.deepStrictEqual(fromRange(editor.getSelection()!), [2, 9, 2, 16]);\n\n\t\t\tmultiCursorSelectController.dispose();\n\t\t\tfindController.dispose();\n\t\t});\n\t});\n\n\ttest('issue #5400: \"Select All Occurrences of Find Match\" does not select all if find uses regex', () => {\n\t\twithTestCodeEditor([\n\t\t\t'something',\n\t\t\t'someething',\n\t\t\t'someeething',\n\t\t\t'nothing'\n\t\t], { serviceCollection: serviceCollection }, (editor) => {\n\n\t\t\tconst findController = editor.registerAndInstantiateContribution(CommonFindController.ID, CommonFindController);\n\t\t\tconst multiCursorSelectController = editor.registerAndInstantiateContribution(MultiCursorSelectionController.ID, MultiCursorSelectionController);\n\t\t\tconst selectHighlightsAction = new SelectHighlightsAction();\n\n\t\t\teditor.setSelection(new Selection(1, 1, 1, 1));\n\t\t\tfindController.getState().change({ searchString: 'some+thing', isRegex: true, isRevealed: true }, false);\n\n\t\t\tselectHighlightsAction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections()!.map(fromRange), [\n\t\t\t\t[1, 1, 1, 10],\n\t\t\t\t[2, 1, 2, 11],\n\t\t\t\t[3, 1, 3, 12],\n\t\t\t]);\n\n\t\t\tassert.strictEqual(findController.getState().searchString, 'some+thing');\n\n\t\t\tmultiCursorSelectController.dispose();\n\t\t\tfindController.dispose();\n\t\t});\n\t});\n\n\ttest('AddSelectionToNextFindMatchAction can work with multiline', () => {\n\t\twithTestCodeEditor([\n\t\t\t'',\n\t\t\t'qwe',\n\t\t\t'rty',\n\t\t\t'',\n\t\t\t'qwe',\n\t\t\t'',\n\t\t\t'rty',\n\t\t\t'qwe',\n\t\t\t'rty'\n\t\t], { serviceCollection: serviceCollection }, (editor) => {\n\n\t\t\tconst findController = editor.registerAndInstantiateContribution(CommonFindController.ID, CommonFindController);\n\t\t\tconst multiCursorSelectController = editor.registerAndInstantiateContribution(MultiCursorSelectionController.ID, MultiCursorSelectionController);\n\t\t\tconst addSelectionToNextFindMatch = new AddSelectionToNextFindMatchAction();\n\n\t\t\teditor.setSelection(new Selection(2, 1, 3, 4));\n\n\t\t\taddSelectionToNextFindMatch.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections()!.map(fromRange), [\n\t\t\t\t[2, 1, 3, 4],\n\t\t\t\t[8, 1, 9, 4]\n\t\t\t]);\n\n\t\t\teditor.trigger('test', 'removeSecondaryCursors', null);\n\n\t\t\tassert.deepStrictEqual(fromRange(editor.getSelection()!), [2, 1, 3, 4]);\n\n\t\t\tmultiCursorSelectController.dispose();\n\t\t\tfindController.dispose();\n\t\t});\n\t});\n\n\ttest('issue #6661: AddSelectionToNextFindMatchAction can work with touching ranges', () => {\n\t\twithTestCodeEditor([\n\t\t\t'abcabc',\n\t\t\t'abc',\n\t\t\t'abcabc',\n\t\t], { serviceCollection: serviceCollection }, (editor) => {\n\n\t\t\tconst findController = editor.registerAndInstantiateContribution(CommonFindController.ID, CommonFindController);\n\t\t\tconst multiCursorSelectController = editor.registerAndInstantiateContribution(MultiCursorSelectionController.ID, MultiCursorSelectionController);\n\t\t\tconst addSelectionToNextFindMatch = new AddSelectionToNextFindMatchAction();\n\n\t\t\teditor.setSelection(new Selection(1, 1, 1, 4));\n\n\t\t\taddSelectionToNextFindMatch.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections()!.map(fromRange), [\n\t\t\t\t[1, 1, 1, 4],\n\t\t\t\t[1, 4, 1, 7]\n\t\t\t]);\n\n\t\t\taddSelectionToNextFindMatch.run(null!, editor);\n\t\t\taddSelectionToNextFindMatch.run(null!, editor);\n\t\t\taddSelectionToNextFindMatch.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections()!.map(fromRange), [\n\t\t\t\t[1, 1, 1, 4],\n\t\t\t\t[1, 4, 1, 7],\n\t\t\t\t[2, 1, 2, 4],\n\t\t\t\t[3, 1, 3, 4],\n\t\t\t\t[3, 4, 3, 7]\n\t\t\t]);\n\n\t\t\teditor.trigger('test', Handler.Type, { text: 'z' });\n\t\t\tassert.deepStrictEqual(editor.getSelections()!.map(fromRange), [\n\t\t\t\t[1, 2, 1, 2],\n\t\t\t\t[1, 3, 1, 3],\n\t\t\t\t[2, 2, 2, 2],\n\t\t\t\t[3, 2, 3, 2],\n\t\t\t\t[3, 3, 3, 3]\n\t\t\t]);\n\t\t\tassert.strictEqual(editor.getValue(), [\n\t\t\t\t'zz',\n\t\t\t\t'z',\n\t\t\t\t'zz',\n\t\t\t].join('\\n'));\n\n\t\t\tmultiCursorSelectController.dispose();\n\t\t\tfindController.dispose();\n\t\t});\n\t});\n\n\ttest('issue #23541: Multiline Ctrl+D does not work in CRLF files', () => {\n\t\twithTestCodeEditor([\n\t\t\t'',\n\t\t\t'qwe',\n\t\t\t'rty',\n\t\t\t'',\n\t\t\t'qwe',\n\t\t\t'',\n\t\t\t'rty',\n\t\t\t'qwe',\n\t\t\t'rty'\n\t\t], { serviceCollection: serviceCollection }, (editor) => {\n\n\t\t\teditor.getModel()!.setEOL(EndOfLineSequence.CRLF);\n\n\t\t\tconst findController = editor.registerAndInstantiateContribution(CommonFindController.ID, CommonFindController);\n\t\t\tconst multiCursorSelectController = editor.registerAndInstantiateContribution(MultiCursorSelectionController.ID, MultiCursorSelectionController);\n\t\t\tconst addSelectionToNextFindMatch = new AddSelectionToNextFindMatchAction();\n\n\t\t\teditor.setSelection(new Selection(2, 1, 3, 4));\n\n\t\t\taddSelectionToNextFindMatch.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections()!.map(fromRange), [\n\t\t\t\t[2, 1, 3, 4],\n\t\t\t\t[8, 1, 9, 4]\n\t\t\t]);\n\n\t\t\teditor.trigger('test', 'removeSecondaryCursors', null);\n\n\t\t\tassert.deepStrictEqual(fromRange(editor.getSelection()!), [2, 1, 3, 4]);\n\n\t\t\tmultiCursorSelectController.dispose();\n\t\t\tfindController.dispose();\n\t\t});\n\t});\n\n\tfunction testMulticursor(text: string[], callback: (editor: ITestCodeEditor, findController: CommonFindController) => void): void {\n\t\twithTestCodeEditor(text, { serviceCollection: serviceCollection }, (editor) => {\n\t\t\tconst findController = editor.registerAndInstantiateContribution(CommonFindController.ID, CommonFindController);\n\t\t\tconst multiCursorSelectController = editor.registerAndInstantiateContribution(MultiCursorSelectionController.ID, MultiCursorSelectionController);\n\n\t\t\tcallback(editor, findController);\n\n\t\t\tmultiCursorSelectController.dispose();\n\t\t\tfindController.dispose();\n\t\t});\n\t}\n\n\tfunction testAddSelectionToNextFindMatchAction(text: string[], callback: (editor: ITestCodeEditor, action: AddSelectionToNextFindMatchAction, findController: CommonFindController) => void): void {\n\t\ttestMulticursor(text, (editor, findController) => {\n\t\t\tconst action = new AddSelectionToNextFindMatchAction();\n\t\t\tcallback(editor, action, findController);\n\t\t});\n\t}\n\n\ttest('AddSelectionToNextFindMatchAction starting with single collapsed selection', () => {\n\t\tconst text = [\n\t\t\t'abc pizza',\n\t\t\t'abc house',\n\t\t\t'abc bar'\n\t\t];\n\t\ttestAddSelectionToNextFindMatchAction(text, (editor, action, findController) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 2, 1, 2),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t\tnew Selection(3, 1, 3, 4),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t\tnew Selection(3, 1, 3, 4),\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('AddSelectionToNextFindMatchAction starting with two selections, one being collapsed 1)', () => {\n\t\tconst text = [\n\t\t\t'abc pizza',\n\t\t\t'abc house',\n\t\t\t'abc bar'\n\t\t];\n\t\ttestAddSelectionToNextFindMatchAction(text, (editor, action, findController) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 2, 2, 2),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t\tnew Selection(3, 1, 3, 4),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t\tnew Selection(3, 1, 3, 4),\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('AddSelectionToNextFindMatchAction starting with two selections, one being collapsed 2)', () => {\n\t\tconst text = [\n\t\t\t'abc pizza',\n\t\t\t'abc house',\n\t\t\t'abc bar'\n\t\t];\n\t\ttestAddSelectionToNextFindMatchAction(text, (editor, action, findController) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 2, 1, 2),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t\tnew Selection(3, 1, 3, 4),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t\tnew Selection(3, 1, 3, 4),\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('AddSelectionToNextFindMatchAction starting with all collapsed selections', () => {\n\t\tconst text = [\n\t\t\t'abc pizza',\n\t\t\t'abc house',\n\t\t\t'abc bar'\n\t\t];\n\t\ttestAddSelectionToNextFindMatchAction(text, (editor, action, findController) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 2, 1, 2),\n\t\t\t\tnew Selection(2, 2, 2, 2),\n\t\t\t\tnew Selection(3, 1, 3, 1),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t\tnew Selection(3, 1, 3, 4),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t\tnew Selection(3, 1, 3, 4),\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('AddSelectionToNextFindMatchAction starting with all collapsed selections on different words', () => {\n\t\tconst text = [\n\t\t\t'abc pizza',\n\t\t\t'abc house',\n\t\t\t'abc bar'\n\t\t];\n\t\ttestAddSelectionToNextFindMatchAction(text, (editor, action, findController) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 6, 1, 6),\n\t\t\t\tnew Selection(2, 6, 2, 6),\n\t\t\t\tnew Selection(3, 6, 3, 6),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 5, 1, 10),\n\t\t\t\tnew Selection(2, 5, 2, 10),\n\t\t\t\tnew Selection(3, 5, 3, 8),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 5, 1, 10),\n\t\t\t\tnew Selection(2, 5, 2, 10),\n\t\t\t\tnew Selection(3, 5, 3, 8),\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('issue #20651: AddSelectionToNextFindMatchAction case insensitive', () => {\n\t\tconst text = [\n\t\t\t'test',\n\t\t\t'testte',\n\t\t\t'Test',\n\t\t\t'testte',\n\t\t\t'test'\n\t\t];\n\t\ttestAddSelectionToNextFindMatchAction(text, (editor, action, findController) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 1, 1, 5),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 5),\n\t\t\t\tnew Selection(2, 1, 2, 5),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 5),\n\t\t\t\tnew Selection(2, 1, 2, 5),\n\t\t\t\tnew Selection(3, 1, 3, 5),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 5),\n\t\t\t\tnew Selection(2, 1, 2, 5),\n\t\t\t\tnew Selection(3, 1, 3, 5),\n\t\t\t\tnew Selection(4, 1, 4, 5),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 5),\n\t\t\t\tnew Selection(2, 1, 2, 5),\n\t\t\t\tnew Selection(3, 1, 3, 5),\n\t\t\t\tnew Selection(4, 1, 4, 5),\n\t\t\t\tnew Selection(5, 1, 5, 5),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 5),\n\t\t\t\tnew Selection(2, 1, 2, 5),\n\t\t\t\tnew Selection(3, 1, 3, 5),\n\t\t\t\tnew Selection(4, 1, 4, 5),\n\t\t\t\tnew Selection(5, 1, 5, 5),\n\t\t\t]);\n\t\t});\n\t});\n\n\tsuite('Find state disassociation', () => {\n\n\t\tconst text = [\n\t\t\t'app',\n\t\t\t'apples',\n\t\t\t'whatsapp',\n\t\t\t'app',\n\t\t\t'App',\n\t\t\t' app'\n\t\t];\n\n\t\ttest('enters mode', () => {\n\t\t\ttestAddSelectionToNextFindMatchAction(text, (editor, action, findController) => {\n\t\t\t\teditor.setSelections([\n\t\t\t\t\tnew Selection(1, 2, 1, 2),\n\t\t\t\t]);\n\n\t\t\t\taction.run(null!, editor);\n\t\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\t]);\n\n\t\t\t\taction.run(null!, editor);\n\t\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\t\tnew Selection(4, 1, 4, 4),\n\t\t\t\t]);\n\n\t\t\t\taction.run(null!, editor);\n\t\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\t\tnew Selection(4, 1, 4, 4),\n\t\t\t\t\tnew Selection(6, 2, 6, 5),\n\t\t\t\t]);\n\t\t\t});\n\t\t});\n\n\t\ttest('leaves mode when selection changes', () => {\n\t\t\ttestAddSelectionToNextFindMatchAction(text, (editor, action, findController) => {\n\t\t\t\teditor.setSelections([\n\t\t\t\t\tnew Selection(1, 2, 1, 2),\n\t\t\t\t]);\n\n\t\t\t\taction.run(null!, editor);\n\t\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\t]);\n\n\t\t\t\taction.run(null!, editor);\n\t\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\t\tnew Selection(4, 1, 4, 4),\n\t\t\t\t]);\n\n\t\t\t\t// change selection\n\t\t\t\teditor.setSelections([\n\t\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\t]);\n\n\t\t\t\taction.run(null!, editor);\n\t\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t\t]);\n\t\t\t});\n\t\t});\n\n\t\ttest('Select Highlights respects mode ', () => {\n\t\t\ttestMulticursor(text, (editor, findController) => {\n\t\t\t\tconst action = new SelectHighlightsAction();\n\t\t\t\teditor.setSelections([\n\t\t\t\t\tnew Selection(1, 2, 1, 2),\n\t\t\t\t]);\n\n\t\t\t\taction.run(null!, editor);\n\t\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\t\tnew Selection(4, 1, 4, 4),\n\t\t\t\t\tnew Selection(6, 2, 6, 5),\n\t\t\t\t]);\n\n\t\t\t\taction.run(null!, editor);\n\t\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\t\tnew Selection(4, 1, 4, 4),\n\t\t\t\t\tnew Selection(6, 2, 6, 5),\n\t\t\t\t]);\n\t\t\t});\n\t\t});\n\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport assert from 'assert';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { Selection } from '../../../../common/core/selection.js';\nimport { Handler } from '../../../../common/editorCommon.js';\nimport { EndOfLineSequence } from '../../../../common/model.js';\nimport { CommonFindController } from '../../../find/browser/findController.js';\nimport { AddSelectionToNextFindMatchAction, InsertCursorAbove, InsertCursorBelow, MultiCursorSelectionController, SelectHighlightsAction } from '../../browser/multicursor.js';\nimport { ITestCodeEditor, withTestCodeEditor } from '../../../../test/browser/testCodeEditor.js';\nimport { ServiceCollection } from '../../../../../platform/instantiation/common/serviceCollection.js';\nimport { IStorageService, InMemoryStorageService } from '../../../../../platform/storage/common/storage.js';\n\nsuite('Multicursor', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('issue #26393: Multiple cursors + Word wrap', () => {\n\t\twithTestCodeEditor([\n\t\t\t'a'.repeat(20),\n\t\t\t'a'.repeat(20),\n\t\t], { wordWrap: 'wordWrapColumn', wordWrapColumn: 10 }, (editor, viewModel) => {\n\t\t\tconst addCursorDownAction = new InsertCursorBelow();\n\t\t\taddCursorDownAction.run(null!, editor, {});\n\n\t\t\tassert.strictEqual(viewModel.getCursorStates().length, 2);\n\n\t\t\tassert.strictEqual(viewModel.getCursorStates()[0].viewState.position.lineNumber, 1);\n\t\t\tassert.strictEqual(viewModel.getCursorStates()[1].viewState.position.lineNumber, 3);\n\n\t\t\teditor.setPosition({ lineNumber: 4, column: 1 });\n\t\t\tconst addCursorUpAction = new InsertCursorAbove();\n\t\t\taddCursorUpAction.run(null!, editor, {});\n\n\t\t\tassert.strictEqual(viewModel.getCursorStates().length, 2);\n\n\t\t\tassert.strictEqual(viewModel.getCursorStates()[0].viewState.position.lineNumber, 4);\n\t\t\tassert.strictEqual(viewModel.getCursorStates()[1].viewState.position.lineNumber, 2);\n\t\t});\n\t});\n\n\ttest('issue #2205: Multi-cursor pastes in reverse order', () => {\n\t\twithTestCodeEditor([\n\t\t\t'abc',\n\t\t\t'def'\n\t\t], {}, (editor, viewModel) => {\n\t\t\tconst addCursorUpAction = new InsertCursorAbove();\n\n\t\t\teditor.setSelection(new Selection(2, 1, 2, 1));\n\t\t\taddCursorUpAction.run(null!, editor, {});\n\t\t\tassert.strictEqual(viewModel.getSelections().length, 2);\n\n\t\t\teditor.trigger('test', Handler.Paste, {\n\t\t\t\ttext: '1\\n2',\n\t\t\t\tmulticursorText: [\n\t\t\t\t\t'1',\n\t\t\t\t\t'2'\n\t\t\t\t]\n\t\t\t});\n\n\t\t\tassert.strictEqual(editor.getModel()!.getLineContent(1), '1abc');\n\t\t\tassert.strictEqual(editor.getModel()!.getLineContent(2), '2def');\n\t\t});\n\t});\n\n\ttest('issue #1336: Insert cursor below on last line adds a cursor to the end of the current line', () => {\n\t\twithTestCodeEditor([\n\t\t\t'abc'\n\t\t], {}, (editor, viewModel) => {\n\t\t\tconst addCursorDownAction = new InsertCursorBelow();\n\t\t\taddCursorDownAction.run(null!, editor, {});\n\t\t\tassert.strictEqual(viewModel.getSelections().length, 1);\n\t\t});\n\t});\n\n});\n\nfunction fromRange(rng: Range): number[] {\n\treturn [rng.startLineNumber, rng.startColumn, rng.endLineNumber, rng.endColumn];\n}\n\nsuite('Multicursor selection', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tconst serviceCollection = new ServiceCollection();\n\tserviceCollection.set(IStorageService, new InMemoryStorageService());\n\n\ttest('issue #8817: Cursor position changes when you cancel multicursor', () => {\n\t\twithTestCodeEditor([\n\t\t\t'var x = (3 * 5)',\n\t\t\t'var y = (3 * 5)',\n\t\t\t'var z = (3 * 5)',\n\t\t], { serviceCollection: serviceCollection }, (editor) => {\n\n\t\t\tconst findController = editor.registerAndInstantiateContribution(CommonFindController.ID, CommonFindController);\n\t\t\tconst multiCursorSelectController = editor.registerAndInstantiateContribution(MultiCursorSelectionController.ID, MultiCursorSelectionController);\n\t\t\tconst selectHighlightsAction = new SelectHighlightsAction();\n\n\t\t\teditor.setSelection(new Selection(2, 9, 2, 16));\n\n\t\t\tselectHighlightsAction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections()!.map(fromRange), [\n\t\t\t\t[2, 9, 2, 16],\n\t\t\t\t[1, 9, 1, 16],\n\t\t\t\t[3, 9, 3, 16],\n\t\t\t]);\n\n\t\t\teditor.trigger('test', 'removeSecondaryCursors', null);\n\n\t\t\tassert.deepStrictEqual(fromRange(editor.getSelection()!), [2, 9, 2, 16]);\n\n\t\t\tmultiCursorSelectController.dispose();\n\t\t\tfindController.dispose();\n\t\t});\n\t});\n\n\ttest('issue #5400: \"Select All Occurrences of Find Match\" does not select all if find uses regex', () => {\n\t\twithTestCodeEditor([\n\t\t\t'something',\n\t\t\t'someething',\n\t\t\t'someeething',\n\t\t\t'nothing'\n\t\t], { serviceCollection: serviceCollection }, (editor) => {\n\n\t\t\tconst findController = editor.registerAndInstantiateContribution(CommonFindController.ID, CommonFindController);\n\t\t\tconst multiCursorSelectController = editor.registerAndInstantiateContribution(MultiCursorSelectionController.ID, MultiCursorSelectionController);\n\t\t\tconst selectHighlightsAction = new SelectHighlightsAction();\n\n\t\t\teditor.setSelection(new Selection(1, 1, 1, 1));\n\t\t\tfindController.getState().change({ searchString: 'some+thing', isRegex: true, isRevealed: true }, false);\n\n\t\t\tselectHighlightsAction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections()!.map(fromRange), [\n\t\t\t\t[1, 1, 1, 10],\n\t\t\t\t[2, 1, 2, 11],\n\t\t\t\t[3, 1, 3, 12],\n\t\t\t]);\n\n\t\t\tassert.strictEqual(findController.getState().searchString, 'some+thing');\n\n\t\t\tmultiCursorSelectController.dispose();\n\t\t\tfindController.dispose();\n\t\t});\n\t});\n\n\ttest('AddSelectionToNextFindMatchAction can work with multiline', () => {\n\t\twithTestCodeEditor([\n\t\t\t'',\n\t\t\t'qwe',\n\t\t\t'rty',\n\t\t\t'',\n\t\t\t'qwe',\n\t\t\t'',\n\t\t\t'rty',\n\t\t\t'qwe',\n\t\t\t'rty'\n\t\t], { serviceCollection: serviceCollection }, (editor) => {\n\n\t\t\tconst findController = editor.registerAndInstantiateContribution(CommonFindController.ID, CommonFindController);\n\t\t\tconst multiCursorSelectController = editor.registerAndInstantiateContribution(MultiCursorSelectionController.ID, MultiCursorSelectionController);\n\t\t\tconst addSelectionToNextFindMatch = new AddSelectionToNextFindMatchAction();\n\n\t\t\teditor.setSelection(new Selection(2, 1, 3, 4));\n\n\t\t\taddSelectionToNextFindMatch.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections()!.map(fromRange), [\n\t\t\t\t[2, 1, 3, 4],\n\t\t\t\t[8, 1, 9, 4]\n\t\t\t]);\n\n\t\t\teditor.trigger('test', 'removeSecondaryCursors', null);\n\n\t\t\tassert.deepStrictEqual(fromRange(editor.getSelection()!), [2, 1, 3, 4]);\n\n\t\t\tmultiCursorSelectController.dispose();\n\t\t\tfindController.dispose();\n\t\t});\n\t});\n\n\ttest('issue #6661: AddSelectionToNextFindMatchAction can work with touching ranges', () => {\n\t\twithTestCodeEditor([\n\t\t\t'abcabc',\n\t\t\t'abc',\n\t\t\t'abcabc',\n\t\t], { serviceCollection: serviceCollection }, (editor) => {\n\n\t\t\tconst findController = editor.registerAndInstantiateContribution(CommonFindController.ID, CommonFindController);\n\t\t\tconst multiCursorSelectController = editor.registerAndInstantiateContribution(MultiCursorSelectionController.ID, MultiCursorSelectionController);\n\t\t\tconst addSelectionToNextFindMatch = new AddSelectionToNextFindMatchAction();\n\n\t\t\teditor.setSelection(new Selection(1, 1, 1, 4));\n\n\t\t\taddSelectionToNextFindMatch.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections()!.map(fromRange), [\n\t\t\t\t[1, 1, 1, 4],\n\t\t\t\t[1, 4, 1, 7]\n\t\t\t]);\n\n\t\t\taddSelectionToNextFindMatch.run(null!, editor);\n\t\t\taddSelectionToNextFindMatch.run(null!, editor);\n\t\t\taddSelectionToNextFindMatch.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections()!.map(fromRange), [\n\t\t\t\t[1, 1, 1, 4],\n\t\t\t\t[1, 4, 1, 7],\n\t\t\t\t[2, 1, 2, 4],\n\t\t\t\t[3, 1, 3, 4],\n\t\t\t\t[3, 4, 3, 7]\n\t\t\t]);\n\n\t\t\teditor.trigger('test', Handler.Type, { text: 'z' });\n\t\t\tassert.deepStrictEqual(editor.getSelections()!.map(fromRange), [\n\t\t\t\t[1, 2, 1, 2],\n\t\t\t\t[1, 3, 1, 3],\n\t\t\t\t[2, 2, 2, 2],\n\t\t\t\t[3, 2, 3, 2],\n\t\t\t\t[3, 3, 3, 3]\n\t\t\t]);\n\t\t\tassert.strictEqual(editor.getValue(), [\n\t\t\t\t'zz',\n\t\t\t\t'z',\n\t\t\t\t'zz',\n\t\t\t].join('\\n'));\n\n\t\t\tmultiCursorSelectController.dispose();\n\t\t\tfindController.dispose();\n\t\t});\n\t});\n\n\ttest('issue #23541: Multiline Ctrl+D does not work in CRLF files', () => {\n\t\twithTestCodeEditor([\n\t\t\t'',\n\t\t\t'qwe',\n\t\t\t'rty',\n\t\t\t'',\n\t\t\t'qwe',\n\t\t\t'',\n\t\t\t'rty',\n\t\t\t'qwe',\n\t\t\t'rty'\n\t\t], { serviceCollection: serviceCollection }, (editor) => {\n\n\t\t\teditor.getModel()!.setEOL(EndOfLineSequence.CRLF);\n\n\t\t\tconst findController = editor.registerAndInstantiateContribution(CommonFindController.ID, CommonFindController);\n\t\t\tconst multiCursorSelectController = editor.registerAndInstantiateContribution(MultiCursorSelectionController.ID, MultiCursorSelectionController);\n\t\t\tconst addSelectionToNextFindMatch = new AddSelectionToNextFindMatchAction();\n\n\t\t\teditor.setSelection(new Selection(2, 1, 3, 4));\n\n\t\t\taddSelectionToNextFindMatch.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections()!.map(fromRange), [\n\t\t\t\t[2, 1, 3, 4],\n\t\t\t\t[8, 1, 9, 4]\n\t\t\t]);\n\n\t\t\teditor.trigger('test', 'removeSecondaryCursors', null);\n\n\t\t\tassert.deepStrictEqual(fromRange(editor.getSelection()!), [2, 1, 3, 4]);\n\n\t\t\tmultiCursorSelectController.dispose();\n\t\t\tfindController.dispose();\n\t\t});\n\t});\n\n\tfunction testMulticursor(text: string[], callback: (editor: ITestCodeEditor, findController: CommonFindController) => void): void {\n\t\twithTestCodeEditor(text, { serviceCollection: serviceCollection }, (editor) => {\n\t\t\tconst findController = editor.registerAndInstantiateContribution(CommonFindController.ID, CommonFindController);\n\t\t\tconst multiCursorSelectController = editor.registerAndInstantiateContribution(MultiCursorSelectionController.ID, MultiCursorSelectionController);\n\n\t\t\tcallback(editor, findController);\n\n\t\t\tmultiCursorSelectController.dispose();\n\t\t\tfindController.dispose();\n\t\t});\n\t}\n\n\tfunction testAddSelectionToNextFindMatchAction(text: string[], callback: (editor: ITestCodeEditor, action: AddSelectionToNextFindMatchAction, findController: CommonFindController) => void): void {\n\t\ttestMulticursor(text, (editor, findController) => {\n\t\t\tconst action = new AddSelectionToNextFindMatchAction();\n\t\t\tcallback(editor, action, findController);\n\t\t});\n\t}\n\n\ttest('AddSelectionToNextFindMatchAction starting with single collapsed selection', () => {\n\t\tconst text = [\n\t\t\t'abc pizza',\n\t\t\t'abc house',\n\t\t\t'abc bar'\n\t\t];\n\t\ttestAddSelectionToNextFindMatchAction(text, (editor, action, findController) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 2, 1, 2),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t\tnew Selection(3, 1, 3, 4),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t\tnew Selection(3, 1, 3, 4),\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('AddSelectionToNextFindMatchAction starting with two selections, one being collapsed 1)', () => {\n\t\tconst text = [\n\t\t\t'abc pizza',\n\t\t\t'abc house',\n\t\t\t'abc bar'\n\t\t];\n\t\ttestAddSelectionToNextFindMatchAction(text, (editor, action, findController) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 2, 2, 2),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t\tnew Selection(3, 1, 3, 4),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t\tnew Selection(3, 1, 3, 4),\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('AddSelectionToNextFindMatchAction starting with two selections, one being collapsed 2)', () => {\n\t\tconst text = [\n\t\t\t'abc pizza',\n\t\t\t'abc house',\n\t\t\t'abc bar'\n\t\t];\n\t\ttestAddSelectionToNextFindMatchAction(text, (editor, action, findController) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 2, 1, 2),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t\tnew Selection(3, 1, 3, 4),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t\tnew Selection(3, 1, 3, 4),\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('AddSelectionToNextFindMatchAction starting with all collapsed selections', () => {\n\t\tconst text = [\n\t\t\t'abc pizza',\n\t\t\t'abc house',\n\t\t\t'abc bar'\n\t\t];\n\t\ttestAddSelectionToNextFindMatchAction(text, (editor, action, findController) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 2, 1, 2),\n\t\t\t\tnew Selection(2, 2, 2, 2),\n\t\t\t\tnew Selection(3, 1, 3, 1),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t\tnew Selection(3, 1, 3, 4),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t\tnew Selection(3, 1, 3, 4),\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('AddSelectionToNextFindMatchAction starting with all collapsed selections on different words', () => {\n\t\tconst text = [\n\t\t\t'abc pizza',\n\t\t\t'abc house',\n\t\t\t'abc bar'\n\t\t];\n\t\ttestAddSelectionToNextFindMatchAction(text, (editor, action, findController) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 6, 1, 6),\n\t\t\t\tnew Selection(2, 6, 2, 6),\n\t\t\t\tnew Selection(3, 6, 3, 6),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 5, 1, 10),\n\t\t\t\tnew Selection(2, 5, 2, 10),\n\t\t\t\tnew Selection(3, 5, 3, 8),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 5, 1, 10),\n\t\t\t\tnew Selection(2, 5, 2, 10),\n\t\t\t\tnew Selection(3, 5, 3, 8),\n\t\t\t]);\n\t\t});\n\t});\n\n\ttest('issue #20651: AddSelectionToNextFindMatchAction case insensitive', () => {\n\t\tconst text = [\n\t\t\t'test',\n\t\t\t'testte',\n\t\t\t'Test',\n\t\t\t'testte',\n\t\t\t'test'\n\t\t];\n\t\ttestAddSelectionToNextFindMatchAction(text, (editor, action, findController) => {\n\t\t\teditor.setSelections([\n\t\t\t\tnew Selection(1, 1, 1, 5),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 5),\n\t\t\t\tnew Selection(2, 1, 2, 5),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 5),\n\t\t\t\tnew Selection(2, 1, 2, 5),\n\t\t\t\tnew Selection(3, 1, 3, 5),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 5),\n\t\t\t\tnew Selection(2, 1, 2, 5),\n\t\t\t\tnew Selection(3, 1, 3, 5),\n\t\t\t\tnew Selection(4, 1, 4, 5),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 5),\n\t\t\t\tnew Selection(2, 1, 2, 5),\n\t\t\t\tnew Selection(3, 1, 3, 5),\n\t\t\t\tnew Selection(4, 1, 4, 5),\n\t\t\t\tnew Selection(5, 1, 5, 5),\n\t\t\t]);\n\n\t\t\taction.run(null!, editor);\n\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\tnew Selection(1, 1, 1, 5),\n\t\t\t\tnew Selection(2, 1, 2, 5),\n\t\t\t\tnew Selection(3, 1, 3, 5),\n\t\t\t\tnew Selection(4, 1, 4, 5),\n\t\t\t\tnew Selection(5, 1, 5, 5),\n\t\t\t]);\n\t\t});\n\t});\n\n\tsuite('Find state disassociation', () => {\n\n\t\tconst text = [\n\t\t\t'app',\n\t\t\t'apples',\n\t\t\t'whatsapp',\n\t\t\t'app',\n\t\t\t'App',\n\t\t\t' app'\n\t\t];\n\n\t\ttest('enters mode', () => {\n\t\t\ttestAddSelectionToNextFindMatchAction(text, (editor, action, findController) => {\n\t\t\t\teditor.setSelections([\n\t\t\t\t\tnew Selection(1, 2, 1, 2),\n\t\t\t\t]);\n\n\t\t\t\taction.run(null!, editor);\n\t\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\t]);\n\n\t\t\t\taction.run(null!, editor);\n\t\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\t\tnew Selection(4, 1, 4, 4),\n\t\t\t\t]);\n\n\t\t\t\taction.run(null!, editor);\n\t\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\t\tnew Selection(4, 1, 4, 4),\n\t\t\t\t\tnew Selection(6, 2, 6, 5),\n\t\t\t\t]);\n\t\t\t});\n\t\t});\n\n\t\ttest('leaves mode when selection changes', () => {\n\t\t\ttestAddSelectionToNextFindMatchAction(text, (editor, action, findController) => {\n\t\t\t\teditor.setSelections([\n\t\t\t\t\tnew Selection(1, 2, 1, 2),\n\t\t\t\t]);\n\n\t\t\t\taction.run(null!, editor);\n\t\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\t]);\n\n\t\t\t\taction.run(null!, editor);\n\t\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\t\tnew Selection(4, 1, 4, 4),\n\t\t\t\t]);\n\n\t\t\t\t// change selection\n\t\t\t\teditor.setSelections([\n\t\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\t]);\n\n\t\t\t\taction.run(null!, editor);\n\t\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\t\tnew Selection(2, 1, 2, 4),\n\t\t\t\t]);\n\t\t\t});\n\t\t});\n\n\t\ttest('Select Highlights respects mode ', () => {\n\t\t\ttestMulticursor(text, (editor, findController) => {\n\t\t\t\tconst action = new SelectHighlightsAction();\n\t\t\t\teditor.setSelections([\n\t\t\t\t\tnew Selection(1, 2, 1, 2),\n\t\t\t\t]);\n\n\t\t\t\taction.run(null!, editor);\n\t\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\t\tnew Selection(4, 1, 4, 4),\n\t\t\t\t\tnew Selection(6, 2, 6, 5),\n\t\t\t\t]);\n\n\t\t\t\taction.run(null!, editor);\n\t\t\t\tassert.deepStrictEqual(editor.getSelections(), [\n\t\t\t\t\tnew Selection(1, 1, 1, 4),\n\t\t\t\t\tnew Selection(4, 1, 4, 4),\n\t\t\t\t\tnew Selection(6, 2, 6, 5),\n\t\t\t\t]);\n\t\t\t});\n\t\t});\n\n\t});\n});\n"]}