{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/editor/contrib/smartSelect/test/browser/smartSelect.test.ts","vs/editor/contrib/smartSelect/test/browser/smartSelect.test.ts"],"names":[],"mappings":"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","file":"smartSelect.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport assert from 'assert';\nimport { CancellationToken } from '../../../../../base/common/cancellation.js';\nimport { Event } from '../../../../../base/common/event.js';\nimport { DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { Position } from '../../../../common/core/position.js';\nimport { IRange, Range } from '../../../../common/core/range.js';\nimport { SelectionRangeProvider } from '../../../../common/languages.js';\nimport { ILanguageConfigurationService } from '../../../../common/languages/languageConfigurationRegistry.js';\nimport { IModelService } from '../../../../common/services/model.js';\nimport { BracketSelectionRangeProvider } from '../../browser/bracketSelections.js';\nimport { provideSelectionRanges } from '../../browser/smartSelect.js';\nimport { WordSelectionRangeProvider } from '../../browser/wordSelections.js';\nimport { createModelServices } from '../../../../test/common/testTextModel.js';\nimport { javascriptOnEnterRules } from '../../../../test/common/modes/supports/onEnterRules.js';\nimport { LanguageFeatureRegistry } from '../../../../common/languageFeatureRegistry.js';\nimport { ILanguageSelection, ILanguageService } from '../../../../common/languages/language.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\n\nclass StaticLanguageSelector implements ILanguageSelection {\n\treadonly onDidChange: Event<string> = Event.None;\n\tconstructor(public readonly languageId: string) { }\n}\n\nsuite('SmartSelect', () => {\n\n\tconst OriginalBracketSelectionRangeProviderMaxDuration = BracketSelectionRangeProvider._maxDuration;\n\n\tsuiteSetup(() => {\n\t\tBracketSelectionRangeProvider._maxDuration = 5000; // 5 seconds\n\t});\n\n\tsuiteTeardown(() => {\n\t\tBracketSelectionRangeProvider._maxDuration = OriginalBracketSelectionRangeProviderMaxDuration;\n\t});\n\n\tconst languageId = 'mockJSMode';\n\tlet disposables: DisposableStore;\n\tlet modelService: IModelService;\n\tconst providers = new LanguageFeatureRegistry<SelectionRangeProvider>();\n\n\tsetup(() => {\n\t\tdisposables = new DisposableStore();\n\t\tconst instantiationService = createModelServices(disposables);\n\t\tmodelService = instantiationService.get(IModelService);\n\t\tconst languagConfigurationService = instantiationService.get(ILanguageConfigurationService);\n\t\tconst languageService = instantiationService.get(ILanguageService);\n\t\tdisposables.add(languageService.registerLanguage({ id: languageId }));\n\t\tdisposables.add(languagConfigurationService.register(languageId, {\n\t\t\tbrackets: [\n\t\t\t\t['(', ')'],\n\t\t\t\t['{', '}'],\n\t\t\t\t['[', ']']\n\t\t\t],\n\t\t\tonEnterRules: javascriptOnEnterRules,\n\t\t\twordPattern: /(-?\\d*\\.\\d\\w*)|([^\\`\\~\\!\\@\\#\\$\\%\\^\\&\\*\\(\\)\\=\\+\\[\\{\\]\\}\\\\\\;\\:\\'\\\"\\,\\.\\<\\>\\/\\?\\s]+)/g\n\t\t}));\n\t});\n\n\tteardown(() => {\n\t\tdisposables.dispose();\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tasync function assertGetRangesToPosition(text: string[], lineNumber: number, column: number, ranges: Range[], selectLeadingAndTrailingWhitespace = true): Promise<void> {\n\t\tconst uri = URI.file('test.js');\n\t\tconst model = modelService.createModel(text.join('\\n'), new StaticLanguageSelector(languageId), uri);\n\t\tconst [actual] = await provideSelectionRanges(providers, model, [new Position(lineNumber, column)], { selectLeadingAndTrailingWhitespace, selectSubwords: true }, CancellationToken.None);\n\t\tconst actualStr = actual.map(r => new Range(r.startLineNumber, r.startColumn, r.endLineNumber, r.endColumn).toString());\n\t\tconst desiredStr = ranges.reverse().map(r => String(r));\n\n\t\tassert.deepStrictEqual(actualStr, desiredStr, `\\nA: ${actualStr} VS \\nE: ${desiredStr}`);\n\t\tmodelService.destroyModel(uri);\n\t}\n\n\ttest('getRangesToPosition #1', () => {\n\n\t\treturn assertGetRangesToPosition([\n\t\t\t'function a(bar, foo){',\n\t\t\t'\\tif (bar) {',\n\t\t\t'\\t\\treturn (bar + (2 * foo))',\n\t\t\t'\\t}',\n\t\t\t'}'\n\t\t], 3, 20, [\n\t\t\tnew Range(1, 1, 5, 2), // all\n\t\t\tnew Range(1, 21, 5, 2), // {} outside\n\t\t\tnew Range(1, 22, 5, 1), // {} inside\n\t\t\tnew Range(2, 1, 4, 3), // block\n\t\t\tnew Range(2, 1, 4, 3),\n\t\t\tnew Range(2, 2, 4, 3),\n\t\t\tnew Range(2, 11, 4, 3),\n\t\t\tnew Range(2, 12, 4, 2),\n\t\t\tnew Range(3, 1, 3, 27), // line w/ triva\n\t\t\tnew Range(3, 3, 3, 27), // line w/o triva\n\t\t\tnew Range(3, 10, 3, 27), // () outside\n\t\t\tnew Range(3, 11, 3, 26), // () inside\n\t\t\tnew Range(3, 17, 3, 26), // () outside\n\t\t\tnew Range(3, 18, 3, 25), // () inside\n\t\t]);\n\t});\n\n\ttest('config: selectLeadingAndTrailingWhitespace', async () => {\n\n\t\tawait assertGetRangesToPosition([\n\t\t\t'aaa',\n\t\t\t'\\tbbb',\n\t\t\t''\n\t\t], 2, 3, [\n\t\t\tnew Range(1, 1, 3, 1), // all\n\t\t\tnew Range(2, 1, 2, 5), // line w/ triva\n\t\t\tnew Range(2, 2, 2, 5), // bbb\n\t\t], true);\n\n\t\tawait assertGetRangesToPosition([\n\t\t\t'aaa',\n\t\t\t'\\tbbb',\n\t\t\t''\n\t\t], 2, 3, [\n\t\t\tnew Range(1, 1, 3, 1), // all\n\t\t\tnew Range(2, 2, 2, 5), // () inside\n\t\t], false);\n\t});\n\n\ttest('getRangesToPosition #56886. Skip empty lines correctly.', () => {\n\n\t\treturn assertGetRangesToPosition([\n\t\t\t'function a(bar, foo){',\n\t\t\t'\\tif (bar) {',\n\t\t\t'',\n\t\t\t'\\t}',\n\t\t\t'}'\n\t\t], 3, 1, [\n\t\t\tnew Range(1, 1, 5, 2),\n\t\t\tnew Range(1, 21, 5, 2),\n\t\t\tnew Range(1, 22, 5, 1),\n\t\t\tnew Range(2, 1, 4, 3),\n\t\t\tnew Range(2, 1, 4, 3),\n\t\t\tnew Range(2, 2, 4, 3),\n\t\t\tnew Range(2, 11, 4, 3),\n\t\t\tnew Range(2, 12, 4, 2),\n\t\t]);\n\t});\n\n\ttest('getRangesToPosition #56886. Do not skip lines with only whitespaces.', () => {\n\n\t\treturn assertGetRangesToPosition([\n\t\t\t'function a(bar, foo){',\n\t\t\t'\\tif (bar) {',\n\t\t\t' ',\n\t\t\t'\\t}',\n\t\t\t'}'\n\t\t], 3, 1, [\n\t\t\tnew Range(1, 1, 5, 2), // all\n\t\t\tnew Range(1, 21, 5, 2), // {} outside\n\t\t\tnew Range(1, 22, 5, 1), // {} inside\n\t\t\tnew Range(2, 1, 4, 3),\n\t\t\tnew Range(2, 1, 4, 3),\n\t\t\tnew Range(2, 2, 4, 3),\n\t\t\tnew Range(2, 11, 4, 3),\n\t\t\tnew Range(2, 12, 4, 2),\n\t\t\tnew Range(3, 1, 3, 2), // block\n\t\t\tnew Range(3, 1, 3, 2) // empty line\n\t\t]);\n\t});\n\n\ttest('getRangesToPosition #40658. Cursor at first position inside brackets should select line inside.', () => {\n\n\t\treturn assertGetRangesToPosition([\n\t\t\t' [ ]',\n\t\t\t' { } ',\n\t\t\t'( ) '\n\t\t], 2, 3, [\n\t\t\tnew Range(1, 1, 3, 5),\n\t\t\tnew Range(2, 1, 2, 6), // line w/ triava\n\t\t\tnew Range(2, 2, 2, 5), // {} inside, line w/o triva\n\t\t\tnew Range(2, 3, 2, 4) // {} inside\n\t\t]);\n\t});\n\n\ttest('getRangesToPosition #40658. Cursor in empty brackets should reveal brackets first.', () => {\n\n\t\treturn assertGetRangesToPosition([\n\t\t\t' [] ',\n\t\t\t' { } ',\n\t\t\t'  ( ) '\n\t\t], 1, 3, [\n\t\t\tnew Range(1, 1, 3, 7), // all\n\t\t\tnew Range(1, 1, 1, 5), // line w/ trival\n\t\t\tnew Range(1, 2, 1, 4), // [] outside, line w/o trival\n\t\t\tnew Range(1, 3, 1, 3), // [] inside\n\t\t]);\n\t});\n\n\ttest('getRangesToPosition #40658. Tokens before bracket will be revealed first.', () => {\n\n\t\treturn assertGetRangesToPosition([\n\t\t\t'  [] ',\n\t\t\t' { } ',\n\t\t\t'selectthis( ) '\n\t\t], 3, 11, [\n\t\t\tnew Range(1, 1, 3, 15), // all\n\t\t\tnew Range(3, 1, 3, 15), // line w/ trivia\n\t\t\tnew Range(3, 1, 3, 14), // line w/o trivia\n\t\t\tnew Range(3, 1, 3, 11) // word\n\t\t]);\n\t});\n\n\t// -- bracket selections\n\n\tasync function assertRanges(provider: SelectionRangeProvider, value: string, ...expected: IRange[]): Promise<void> {\n\t\tconst index = value.indexOf('|');\n\t\tvalue = value.replace('|', ''); // CodeQL [SM02383] js/incomplete-sanitization this is purpose only the first | character\n\n\t\tconst model = modelService.createModel(value, new StaticLanguageSelector(languageId), URI.parse('fake:lang'));\n\t\tconst pos = model.getPositionAt(index);\n\t\tconst all = await provider.provideSelectionRanges(model, [pos], CancellationToken.None);\n\t\tconst ranges = all![0];\n\n\t\tmodelService.destroyModel(model.uri);\n\n\t\tassert.strictEqual(expected.length, ranges.length);\n\t\tfor (const range of ranges) {\n\t\t\tconst exp = expected.shift() || null;\n\t\t\tassert.ok(Range.equalsRange(range.range, exp), `A=${range.range} <> E=${exp}`);\n\t\t}\n\t}\n\n\ttest('bracket selection', async () => {\n\t\tawait assertRanges(new BracketSelectionRangeProvider(), '(|)',\n\t\t\tnew Range(1, 2, 1, 2), new Range(1, 1, 1, 3)\n\t\t);\n\n\t\tawait assertRanges(new BracketSelectionRangeProvider(), '[[[](|)]]',\n\t\t\tnew Range(1, 6, 1, 6), new Range(1, 5, 1, 7), // ()\n\t\t\tnew Range(1, 3, 1, 7), new Range(1, 2, 1, 8), // [[]()]\n\t\t\tnew Range(1, 2, 1, 8), new Range(1, 1, 1, 9), // [[[]()]]\n\t\t);\n\n\t\tawait assertRanges(new BracketSelectionRangeProvider(), '[a[](|)a]',\n\t\t\tnew Range(1, 6, 1, 6), new Range(1, 5, 1, 7),\n\t\t\tnew Range(1, 2, 1, 8), new Range(1, 1, 1, 9),\n\t\t);\n\n\t\t// no bracket\n\t\tawait assertRanges(new BracketSelectionRangeProvider(), 'fofof|fofo');\n\n\t\t// empty\n\t\tawait assertRanges(new BracketSelectionRangeProvider(), '[[[]()]]|');\n\t\tawait assertRanges(new BracketSelectionRangeProvider(), '|[[[]()]]');\n\n\t\t// edge\n\t\tawait assertRanges(new BracketSelectionRangeProvider(), '[|[[]()]]', new Range(1, 2, 1, 8), new Range(1, 1, 1, 9));\n\t\tawait assertRanges(new BracketSelectionRangeProvider(), '[[[]()]|]', new Range(1, 2, 1, 8), new Range(1, 1, 1, 9));\n\n\t\tawait assertRanges(new BracketSelectionRangeProvider(), 'aaa(aaa)bbb(b|b)ccc(ccc)', new Range(1, 13, 1, 15), new Range(1, 12, 1, 16));\n\t\tawait assertRanges(new BracketSelectionRangeProvider(), '(aaa(aaa)bbb(b|b)ccc(ccc))', new Range(1, 14, 1, 16), new Range(1, 13, 1, 17), new Range(1, 2, 1, 25), new Range(1, 1, 1, 26));\n\t});\n\n\ttest('bracket with leading/trailing', async () => {\n\n\t\tawait assertRanges(new BracketSelectionRangeProvider(), 'for(a of b){\\n  foo(|);\\n}',\n\t\t\tnew Range(2, 7, 2, 7), new Range(2, 6, 2, 8),\n\t\t\tnew Range(1, 13, 3, 1), new Range(1, 12, 3, 2),\n\t\t\tnew Range(1, 1, 3, 2), new Range(1, 1, 3, 2),\n\t\t);\n\n\t\tawait assertRanges(new BracketSelectionRangeProvider(), 'for(a of b)\\n{\\n  foo(|);\\n}',\n\t\t\tnew Range(3, 7, 3, 7), new Range(3, 6, 3, 8),\n\t\t\tnew Range(2, 2, 4, 1), new Range(2, 1, 4, 2),\n\t\t\tnew Range(1, 1, 4, 2), new Range(1, 1, 4, 2),\n\t\t);\n\t});\n\n\ttest('in-word ranges', async () => {\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(), 'f|ooBar',\n\t\t\tnew Range(1, 1, 1, 4), // foo\n\t\t\tnew Range(1, 1, 1, 7), // fooBar\n\t\t\tnew Range(1, 1, 1, 7), // doc\n\t\t);\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(), 'f|oo_Ba',\n\t\t\tnew Range(1, 1, 1, 4),\n\t\t\tnew Range(1, 1, 1, 7),\n\t\t\tnew Range(1, 1, 1, 7),\n\t\t);\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(), 'f|oo-Ba',\n\t\t\tnew Range(1, 1, 1, 4),\n\t\t\tnew Range(1, 1, 1, 7),\n\t\t\tnew Range(1, 1, 1, 7),\n\t\t);\n\t});\n\n\ttest('in-word ranges with selectSubwords=false', async () => {\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(false), 'f|ooBar',\n\t\t\tnew Range(1, 1, 1, 7),\n\t\t\tnew Range(1, 1, 1, 7),\n\t\t);\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(false), 'f|oo_Ba',\n\t\t\tnew Range(1, 1, 1, 7),\n\t\t\tnew Range(1, 1, 1, 7),\n\t\t);\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(false), 'f|oo-Ba',\n\t\t\tnew Range(1, 1, 1, 7),\n\t\t\tnew Range(1, 1, 1, 7),\n\t\t);\n\t});\n\n\ttest('Default selection should select current word/hump first in camelCase #67493', async function () {\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(), 'Abs|tractSmartSelect',\n\t\t\tnew Range(1, 1, 1, 9),\n\t\t\tnew Range(1, 1, 1, 20),\n\t\t\tnew Range(1, 1, 1, 20),\n\t\t);\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(), 'AbstractSma|rtSelect',\n\t\t\tnew Range(1, 9, 1, 14),\n\t\t\tnew Range(1, 1, 1, 20),\n\t\t\tnew Range(1, 1, 1, 20),\n\t\t);\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(), 'Abstrac-Sma|rt-elect',\n\t\t\tnew Range(1, 9, 1, 14),\n\t\t\tnew Range(1, 1, 1, 20),\n\t\t\tnew Range(1, 1, 1, 20),\n\t\t);\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(), 'Abstrac_Sma|rt_elect',\n\t\t\tnew Range(1, 9, 1, 14),\n\t\t\tnew Range(1, 1, 1, 20),\n\t\t\tnew Range(1, 1, 1, 20),\n\t\t);\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(), 'Abstrac_Sma|rt-elect',\n\t\t\tnew Range(1, 9, 1, 14),\n\t\t\tnew Range(1, 1, 1, 20),\n\t\t\tnew Range(1, 1, 1, 20),\n\t\t);\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(), 'Abstrac_Sma|rtSelect',\n\t\t\tnew Range(1, 9, 1, 14),\n\t\t\tnew Range(1, 1, 1, 20),\n\t\t\tnew Range(1, 1, 1, 20),\n\t\t);\n\t});\n\n\ttest('Smart select: only add line ranges if they\\'re contained by the next range #73850', async function () {\n\n\t\tconst reg = providers.register('*', {\n\t\t\tprovideSelectionRanges() {\n\t\t\t\treturn [[\n\t\t\t\t\t{ range: { startLineNumber: 1, startColumn: 10, endLineNumber: 1, endColumn: 11 } },\n\t\t\t\t\t{ range: { startLineNumber: 1, startColumn: 10, endLineNumber: 3, endColumn: 2 } },\n\t\t\t\t\t{ range: { startLineNumber: 1, startColumn: 1, endLineNumber: 3, endColumn: 2 } },\n\t\t\t\t]];\n\t\t\t}\n\t\t});\n\n\t\tawait assertGetRangesToPosition(['type T = {', '\\tx: number', '}'], 1, 10, [\n\t\t\tnew Range(1, 1, 3, 2), // all\n\t\t\tnew Range(1, 10, 3, 2), // { ... }\n\t\t\tnew Range(1, 10, 1, 11), // {\n\t\t]);\n\n\t\treg.dispose();\n\t});\n\n\ttest('Expand selection in words with underscores is inconsistent #90589', async function () {\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(), 'Hel|lo_World',\n\t\t\tnew Range(1, 1, 1, 6),\n\t\t\tnew Range(1, 1, 1, 12),\n\t\t\tnew Range(1, 1, 1, 12),\n\t\t);\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(), 'Hello_Wo|rld',\n\t\t\tnew Range(1, 7, 1, 12),\n\t\t\tnew Range(1, 1, 1, 12),\n\t\t\tnew Range(1, 1, 1, 12),\n\t\t);\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(), 'Hello|_World',\n\t\t\tnew Range(1, 1, 1, 6),\n\t\t\tnew Range(1, 1, 1, 12),\n\t\t\tnew Range(1, 1, 1, 12),\n\t\t);\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(), 'Hello_|World',\n\t\t\tnew Range(1, 7, 1, 12),\n\t\t\tnew Range(1, 1, 1, 12),\n\t\t\tnew Range(1, 1, 1, 12),\n\t\t);\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(), 'Hello|-World',\n\t\t\tnew Range(1, 1, 1, 6),\n\t\t\tnew Range(1, 1, 1, 12),\n\t\t\tnew Range(1, 1, 1, 12),\n\t\t);\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(), 'Hello-|World',\n\t\t\tnew Range(1, 7, 1, 12),\n\t\t\tnew Range(1, 1, 1, 12),\n\t\t\tnew Range(1, 1, 1, 12),\n\t\t);\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(), 'Hello|World',\n\t\t\tnew Range(1, 6, 1, 11),\n\t\t\tnew Range(1, 1, 1, 11),\n\t\t\tnew Range(1, 1, 1, 11),\n\t\t);\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport assert from 'assert';\nimport { CancellationToken } from '../../../../../base/common/cancellation.js';\nimport { Event } from '../../../../../base/common/event.js';\nimport { DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { Position } from '../../../../common/core/position.js';\nimport { IRange, Range } from '../../../../common/core/range.js';\nimport { SelectionRangeProvider } from '../../../../common/languages.js';\nimport { ILanguageConfigurationService } from '../../../../common/languages/languageConfigurationRegistry.js';\nimport { IModelService } from '../../../../common/services/model.js';\nimport { BracketSelectionRangeProvider } from '../../browser/bracketSelections.js';\nimport { provideSelectionRanges } from '../../browser/smartSelect.js';\nimport { WordSelectionRangeProvider } from '../../browser/wordSelections.js';\nimport { createModelServices } from '../../../../test/common/testTextModel.js';\nimport { javascriptOnEnterRules } from '../../../../test/common/modes/supports/onEnterRules.js';\nimport { LanguageFeatureRegistry } from '../../../../common/languageFeatureRegistry.js';\nimport { ILanguageSelection, ILanguageService } from '../../../../common/languages/language.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\n\nclass StaticLanguageSelector implements ILanguageSelection {\n\treadonly onDidChange: Event<string> = Event.None;\n\tconstructor(public readonly languageId: string) { }\n}\n\nsuite('SmartSelect', () => {\n\n\tconst OriginalBracketSelectionRangeProviderMaxDuration = BracketSelectionRangeProvider._maxDuration;\n\n\tsuiteSetup(() => {\n\t\tBracketSelectionRangeProvider._maxDuration = 5000; // 5 seconds\n\t});\n\n\tsuiteTeardown(() => {\n\t\tBracketSelectionRangeProvider._maxDuration = OriginalBracketSelectionRangeProviderMaxDuration;\n\t});\n\n\tconst languageId = 'mockJSMode';\n\tlet disposables: DisposableStore;\n\tlet modelService: IModelService;\n\tconst providers = new LanguageFeatureRegistry<SelectionRangeProvider>();\n\n\tsetup(() => {\n\t\tdisposables = new DisposableStore();\n\t\tconst instantiationService = createModelServices(disposables);\n\t\tmodelService = instantiationService.get(IModelService);\n\t\tconst languagConfigurationService = instantiationService.get(ILanguageConfigurationService);\n\t\tconst languageService = instantiationService.get(ILanguageService);\n\t\tdisposables.add(languageService.registerLanguage({ id: languageId }));\n\t\tdisposables.add(languagConfigurationService.register(languageId, {\n\t\t\tbrackets: [\n\t\t\t\t['(', ')'],\n\t\t\t\t['{', '}'],\n\t\t\t\t['[', ']']\n\t\t\t],\n\t\t\tonEnterRules: javascriptOnEnterRules,\n\t\t\twordPattern: /(-?\\d*\\.\\d\\w*)|([^\\`\\~\\!\\@\\#\\$\\%\\^\\&\\*\\(\\)\\=\\+\\[\\{\\]\\}\\\\\\;\\:\\'\\\"\\,\\.\\<\\>\\/\\?\\s]+)/g\n\t\t}));\n\t});\n\n\tteardown(() => {\n\t\tdisposables.dispose();\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tasync function assertGetRangesToPosition(text: string[], lineNumber: number, column: number, ranges: Range[], selectLeadingAndTrailingWhitespace = true): Promise<void> {\n\t\tconst uri = URI.file('test.js');\n\t\tconst model = modelService.createModel(text.join('\\n'), new StaticLanguageSelector(languageId), uri);\n\t\tconst [actual] = await provideSelectionRanges(providers, model, [new Position(lineNumber, column)], { selectLeadingAndTrailingWhitespace, selectSubwords: true }, CancellationToken.None);\n\t\tconst actualStr = actual.map(r => new Range(r.startLineNumber, r.startColumn, r.endLineNumber, r.endColumn).toString());\n\t\tconst desiredStr = ranges.reverse().map(r => String(r));\n\n\t\tassert.deepStrictEqual(actualStr, desiredStr, `\\nA: ${actualStr} VS \\nE: ${desiredStr}`);\n\t\tmodelService.destroyModel(uri);\n\t}\n\n\ttest('getRangesToPosition #1', () => {\n\n\t\treturn assertGetRangesToPosition([\n\t\t\t'function a(bar, foo){',\n\t\t\t'\\tif (bar) {',\n\t\t\t'\\t\\treturn (bar + (2 * foo))',\n\t\t\t'\\t}',\n\t\t\t'}'\n\t\t], 3, 20, [\n\t\t\tnew Range(1, 1, 5, 2), // all\n\t\t\tnew Range(1, 21, 5, 2), // {} outside\n\t\t\tnew Range(1, 22, 5, 1), // {} inside\n\t\t\tnew Range(2, 1, 4, 3), // block\n\t\t\tnew Range(2, 1, 4, 3),\n\t\t\tnew Range(2, 2, 4, 3),\n\t\t\tnew Range(2, 11, 4, 3),\n\t\t\tnew Range(2, 12, 4, 2),\n\t\t\tnew Range(3, 1, 3, 27), // line w/ triva\n\t\t\tnew Range(3, 3, 3, 27), // line w/o triva\n\t\t\tnew Range(3, 10, 3, 27), // () outside\n\t\t\tnew Range(3, 11, 3, 26), // () inside\n\t\t\tnew Range(3, 17, 3, 26), // () outside\n\t\t\tnew Range(3, 18, 3, 25), // () inside\n\t\t]);\n\t});\n\n\ttest('config: selectLeadingAndTrailingWhitespace', async () => {\n\n\t\tawait assertGetRangesToPosition([\n\t\t\t'aaa',\n\t\t\t'\\tbbb',\n\t\t\t''\n\t\t], 2, 3, [\n\t\t\tnew Range(1, 1, 3, 1), // all\n\t\t\tnew Range(2, 1, 2, 5), // line w/ triva\n\t\t\tnew Range(2, 2, 2, 5), // bbb\n\t\t], true);\n\n\t\tawait assertGetRangesToPosition([\n\t\t\t'aaa',\n\t\t\t'\\tbbb',\n\t\t\t''\n\t\t], 2, 3, [\n\t\t\tnew Range(1, 1, 3, 1), // all\n\t\t\tnew Range(2, 2, 2, 5), // () inside\n\t\t], false);\n\t});\n\n\ttest('getRangesToPosition #56886. Skip empty lines correctly.', () => {\n\n\t\treturn assertGetRangesToPosition([\n\t\t\t'function a(bar, foo){',\n\t\t\t'\\tif (bar) {',\n\t\t\t'',\n\t\t\t'\\t}',\n\t\t\t'}'\n\t\t], 3, 1, [\n\t\t\tnew Range(1, 1, 5, 2),\n\t\t\tnew Range(1, 21, 5, 2),\n\t\t\tnew Range(1, 22, 5, 1),\n\t\t\tnew Range(2, 1, 4, 3),\n\t\t\tnew Range(2, 1, 4, 3),\n\t\t\tnew Range(2, 2, 4, 3),\n\t\t\tnew Range(2, 11, 4, 3),\n\t\t\tnew Range(2, 12, 4, 2),\n\t\t]);\n\t});\n\n\ttest('getRangesToPosition #56886. Do not skip lines with only whitespaces.', () => {\n\n\t\treturn assertGetRangesToPosition([\n\t\t\t'function a(bar, foo){',\n\t\t\t'\\tif (bar) {',\n\t\t\t' ',\n\t\t\t'\\t}',\n\t\t\t'}'\n\t\t], 3, 1, [\n\t\t\tnew Range(1, 1, 5, 2), // all\n\t\t\tnew Range(1, 21, 5, 2), // {} outside\n\t\t\tnew Range(1, 22, 5, 1), // {} inside\n\t\t\tnew Range(2, 1, 4, 3),\n\t\t\tnew Range(2, 1, 4, 3),\n\t\t\tnew Range(2, 2, 4, 3),\n\t\t\tnew Range(2, 11, 4, 3),\n\t\t\tnew Range(2, 12, 4, 2),\n\t\t\tnew Range(3, 1, 3, 2), // block\n\t\t\tnew Range(3, 1, 3, 2) // empty line\n\t\t]);\n\t});\n\n\ttest('getRangesToPosition #40658. Cursor at first position inside brackets should select line inside.', () => {\n\n\t\treturn assertGetRangesToPosition([\n\t\t\t' [ ]',\n\t\t\t' { } ',\n\t\t\t'( ) '\n\t\t], 2, 3, [\n\t\t\tnew Range(1, 1, 3, 5),\n\t\t\tnew Range(2, 1, 2, 6), // line w/ triava\n\t\t\tnew Range(2, 2, 2, 5), // {} inside, line w/o triva\n\t\t\tnew Range(2, 3, 2, 4) // {} inside\n\t\t]);\n\t});\n\n\ttest('getRangesToPosition #40658. Cursor in empty brackets should reveal brackets first.', () => {\n\n\t\treturn assertGetRangesToPosition([\n\t\t\t' [] ',\n\t\t\t' { } ',\n\t\t\t'  ( ) '\n\t\t], 1, 3, [\n\t\t\tnew Range(1, 1, 3, 7), // all\n\t\t\tnew Range(1, 1, 1, 5), // line w/ trival\n\t\t\tnew Range(1, 2, 1, 4), // [] outside, line w/o trival\n\t\t\tnew Range(1, 3, 1, 3), // [] inside\n\t\t]);\n\t});\n\n\ttest('getRangesToPosition #40658. Tokens before bracket will be revealed first.', () => {\n\n\t\treturn assertGetRangesToPosition([\n\t\t\t'  [] ',\n\t\t\t' { } ',\n\t\t\t'selectthis( ) '\n\t\t], 3, 11, [\n\t\t\tnew Range(1, 1, 3, 15), // all\n\t\t\tnew Range(3, 1, 3, 15), // line w/ trivia\n\t\t\tnew Range(3, 1, 3, 14), // line w/o trivia\n\t\t\tnew Range(3, 1, 3, 11) // word\n\t\t]);\n\t});\n\n\t// -- bracket selections\n\n\tasync function assertRanges(provider: SelectionRangeProvider, value: string, ...expected: IRange[]): Promise<void> {\n\t\tconst index = value.indexOf('|');\n\t\tvalue = value.replace('|', ''); // CodeQL [SM02383] js/incomplete-sanitization this is purpose only the first | character\n\n\t\tconst model = modelService.createModel(value, new StaticLanguageSelector(languageId), URI.parse('fake:lang'));\n\t\tconst pos = model.getPositionAt(index);\n\t\tconst all = await provider.provideSelectionRanges(model, [pos], CancellationToken.None);\n\t\tconst ranges = all![0];\n\n\t\tmodelService.destroyModel(model.uri);\n\n\t\tassert.strictEqual(expected.length, ranges.length);\n\t\tfor (const range of ranges) {\n\t\t\tconst exp = expected.shift() || null;\n\t\t\tassert.ok(Range.equalsRange(range.range, exp), `A=${range.range} <> E=${exp}`);\n\t\t}\n\t}\n\n\ttest('bracket selection', async () => {\n\t\tawait assertRanges(new BracketSelectionRangeProvider(), '(|)',\n\t\t\tnew Range(1, 2, 1, 2), new Range(1, 1, 1, 3)\n\t\t);\n\n\t\tawait assertRanges(new BracketSelectionRangeProvider(), '[[[](|)]]',\n\t\t\tnew Range(1, 6, 1, 6), new Range(1, 5, 1, 7), // ()\n\t\t\tnew Range(1, 3, 1, 7), new Range(1, 2, 1, 8), // [[]()]\n\t\t\tnew Range(1, 2, 1, 8), new Range(1, 1, 1, 9), // [[[]()]]\n\t\t);\n\n\t\tawait assertRanges(new BracketSelectionRangeProvider(), '[a[](|)a]',\n\t\t\tnew Range(1, 6, 1, 6), new Range(1, 5, 1, 7),\n\t\t\tnew Range(1, 2, 1, 8), new Range(1, 1, 1, 9),\n\t\t);\n\n\t\t// no bracket\n\t\tawait assertRanges(new BracketSelectionRangeProvider(), 'fofof|fofo');\n\n\t\t// empty\n\t\tawait assertRanges(new BracketSelectionRangeProvider(), '[[[]()]]|');\n\t\tawait assertRanges(new BracketSelectionRangeProvider(), '|[[[]()]]');\n\n\t\t// edge\n\t\tawait assertRanges(new BracketSelectionRangeProvider(), '[|[[]()]]', new Range(1, 2, 1, 8), new Range(1, 1, 1, 9));\n\t\tawait assertRanges(new BracketSelectionRangeProvider(), '[[[]()]|]', new Range(1, 2, 1, 8), new Range(1, 1, 1, 9));\n\n\t\tawait assertRanges(new BracketSelectionRangeProvider(), 'aaa(aaa)bbb(b|b)ccc(ccc)', new Range(1, 13, 1, 15), new Range(1, 12, 1, 16));\n\t\tawait assertRanges(new BracketSelectionRangeProvider(), '(aaa(aaa)bbb(b|b)ccc(ccc))', new Range(1, 14, 1, 16), new Range(1, 13, 1, 17), new Range(1, 2, 1, 25), new Range(1, 1, 1, 26));\n\t});\n\n\ttest('bracket with leading/trailing', async () => {\n\n\t\tawait assertRanges(new BracketSelectionRangeProvider(), 'for(a of b){\\n  foo(|);\\n}',\n\t\t\tnew Range(2, 7, 2, 7), new Range(2, 6, 2, 8),\n\t\t\tnew Range(1, 13, 3, 1), new Range(1, 12, 3, 2),\n\t\t\tnew Range(1, 1, 3, 2), new Range(1, 1, 3, 2),\n\t\t);\n\n\t\tawait assertRanges(new BracketSelectionRangeProvider(), 'for(a of b)\\n{\\n  foo(|);\\n}',\n\t\t\tnew Range(3, 7, 3, 7), new Range(3, 6, 3, 8),\n\t\t\tnew Range(2, 2, 4, 1), new Range(2, 1, 4, 2),\n\t\t\tnew Range(1, 1, 4, 2), new Range(1, 1, 4, 2),\n\t\t);\n\t});\n\n\ttest('in-word ranges', async () => {\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(), 'f|ooBar',\n\t\t\tnew Range(1, 1, 1, 4), // foo\n\t\t\tnew Range(1, 1, 1, 7), // fooBar\n\t\t\tnew Range(1, 1, 1, 7), // doc\n\t\t);\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(), 'f|oo_Ba',\n\t\t\tnew Range(1, 1, 1, 4),\n\t\t\tnew Range(1, 1, 1, 7),\n\t\t\tnew Range(1, 1, 1, 7),\n\t\t);\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(), 'f|oo-Ba',\n\t\t\tnew Range(1, 1, 1, 4),\n\t\t\tnew Range(1, 1, 1, 7),\n\t\t\tnew Range(1, 1, 1, 7),\n\t\t);\n\t});\n\n\ttest('in-word ranges with selectSubwords=false', async () => {\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(false), 'f|ooBar',\n\t\t\tnew Range(1, 1, 1, 7),\n\t\t\tnew Range(1, 1, 1, 7),\n\t\t);\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(false), 'f|oo_Ba',\n\t\t\tnew Range(1, 1, 1, 7),\n\t\t\tnew Range(1, 1, 1, 7),\n\t\t);\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(false), 'f|oo-Ba',\n\t\t\tnew Range(1, 1, 1, 7),\n\t\t\tnew Range(1, 1, 1, 7),\n\t\t);\n\t});\n\n\ttest('Default selection should select current word/hump first in camelCase #67493', async function () {\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(), 'Abs|tractSmartSelect',\n\t\t\tnew Range(1, 1, 1, 9),\n\t\t\tnew Range(1, 1, 1, 20),\n\t\t\tnew Range(1, 1, 1, 20),\n\t\t);\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(), 'AbstractSma|rtSelect',\n\t\t\tnew Range(1, 9, 1, 14),\n\t\t\tnew Range(1, 1, 1, 20),\n\t\t\tnew Range(1, 1, 1, 20),\n\t\t);\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(), 'Abstrac-Sma|rt-elect',\n\t\t\tnew Range(1, 9, 1, 14),\n\t\t\tnew Range(1, 1, 1, 20),\n\t\t\tnew Range(1, 1, 1, 20),\n\t\t);\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(), 'Abstrac_Sma|rt_elect',\n\t\t\tnew Range(1, 9, 1, 14),\n\t\t\tnew Range(1, 1, 1, 20),\n\t\t\tnew Range(1, 1, 1, 20),\n\t\t);\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(), 'Abstrac_Sma|rt-elect',\n\t\t\tnew Range(1, 9, 1, 14),\n\t\t\tnew Range(1, 1, 1, 20),\n\t\t\tnew Range(1, 1, 1, 20),\n\t\t);\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(), 'Abstrac_Sma|rtSelect',\n\t\t\tnew Range(1, 9, 1, 14),\n\t\t\tnew Range(1, 1, 1, 20),\n\t\t\tnew Range(1, 1, 1, 20),\n\t\t);\n\t});\n\n\ttest('Smart select: only add line ranges if they\\'re contained by the next range #73850', async function () {\n\n\t\tconst reg = providers.register('*', {\n\t\t\tprovideSelectionRanges() {\n\t\t\t\treturn [[\n\t\t\t\t\t{ range: { startLineNumber: 1, startColumn: 10, endLineNumber: 1, endColumn: 11 } },\n\t\t\t\t\t{ range: { startLineNumber: 1, startColumn: 10, endLineNumber: 3, endColumn: 2 } },\n\t\t\t\t\t{ range: { startLineNumber: 1, startColumn: 1, endLineNumber: 3, endColumn: 2 } },\n\t\t\t\t]];\n\t\t\t}\n\t\t});\n\n\t\tawait assertGetRangesToPosition(['type T = {', '\\tx: number', '}'], 1, 10, [\n\t\t\tnew Range(1, 1, 3, 2), // all\n\t\t\tnew Range(1, 10, 3, 2), // { ... }\n\t\t\tnew Range(1, 10, 1, 11), // {\n\t\t]);\n\n\t\treg.dispose();\n\t});\n\n\ttest('Expand selection in words with underscores is inconsistent #90589', async function () {\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(), 'Hel|lo_World',\n\t\t\tnew Range(1, 1, 1, 6),\n\t\t\tnew Range(1, 1, 1, 12),\n\t\t\tnew Range(1, 1, 1, 12),\n\t\t);\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(), 'Hello_Wo|rld',\n\t\t\tnew Range(1, 7, 1, 12),\n\t\t\tnew Range(1, 1, 1, 12),\n\t\t\tnew Range(1, 1, 1, 12),\n\t\t);\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(), 'Hello|_World',\n\t\t\tnew Range(1, 1, 1, 6),\n\t\t\tnew Range(1, 1, 1, 12),\n\t\t\tnew Range(1, 1, 1, 12),\n\t\t);\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(), 'Hello_|World',\n\t\t\tnew Range(1, 7, 1, 12),\n\t\t\tnew Range(1, 1, 1, 12),\n\t\t\tnew Range(1, 1, 1, 12),\n\t\t);\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(), 'Hello|-World',\n\t\t\tnew Range(1, 1, 1, 6),\n\t\t\tnew Range(1, 1, 1, 12),\n\t\t\tnew Range(1, 1, 1, 12),\n\t\t);\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(), 'Hello-|World',\n\t\t\tnew Range(1, 7, 1, 12),\n\t\t\tnew Range(1, 1, 1, 12),\n\t\t\tnew Range(1, 1, 1, 12),\n\t\t);\n\n\t\tawait assertRanges(new WordSelectionRangeProvider(), 'Hello|World',\n\t\t\tnew Range(1, 6, 1, 11),\n\t\t\tnew Range(1, 1, 1, 11),\n\t\t\tnew Range(1, 1, 1, 11),\n\t\t);\n\t});\n});\n"]}