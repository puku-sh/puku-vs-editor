{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/editor/contrib/folding/test/browser/hiddenRangeModel.test.ts","vs/editor/contrib/folding/test/browser/hiddenRangeModel.test.ts"],"names":[],"mappings":"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","file":"hiddenRangeModel.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport assert from 'assert';\nimport { IRange } from '../../../../common/core/range.js';\nimport { FoldingModel } from '../../browser/foldingModel.js';\nimport { HiddenRangeModel } from '../../browser/hiddenRangeModel.js';\nimport { computeRanges } from '../../browser/indentRangeProvider.js';\nimport { createTextModel } from '../../../../test/common/testTextModel.js';\nimport { TestDecorationProvider } from './foldingModel.test.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\n\n\ninterface ExpectedRange {\n\tstartLineNumber: number;\n\tendLineNumber: number;\n}\n\nsuite('Hidden Range Model', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tfunction r(startLineNumber: number, endLineNumber: number): ExpectedRange {\n\t\treturn { startLineNumber, endLineNumber };\n\t}\n\n\tfunction assertRanges(actual: IRange[], expectedRegions: ExpectedRange[], message?: string) {\n\t\tassert.deepStrictEqual(actual.map(r => ({ startLineNumber: r.startLineNumber, endLineNumber: r.endLineNumber })), expectedRegions, message);\n\t}\n\n\ttest('hasRanges', () => {\n\t\tconst lines = [\n\t\t/* 1*/\t'/**',\n\t\t/* 2*/\t' * Comment',\n\t\t/* 3*/\t' */',\n\t\t/* 4*/\t'class A {',\n\t\t/* 5*/\t'  void foo() {',\n\t\t/* 6*/\t'    if (true) {',\n\t\t/* 7*/\t'      //hello',\n\t\t/* 8*/\t'    }',\n\t\t/* 9*/\t'  }',\n\t\t/* 10*/\t'}'];\n\n\t\tconst textModel = createTextModel(lines.join('\\n'));\n\t\tconst foldingModel = new FoldingModel(textModel, new TestDecorationProvider(textModel));\n\t\tconst hiddenRangeModel = new HiddenRangeModel(foldingModel);\n\t\ttry {\n\t\t\tassert.strictEqual(hiddenRangeModel.hasRanges(), false);\n\n\t\t\tconst ranges = computeRanges(textModel, false, undefined);\n\t\t\tfoldingModel.update(ranges);\n\n\t\t\tfoldingModel.toggleCollapseState([foldingModel.getRegionAtLine(1)!, foldingModel.getRegionAtLine(6)!]);\n\t\t\tassertRanges(hiddenRangeModel.hiddenRanges, [r(2, 3), r(7, 7)]);\n\n\t\t\tassert.strictEqual(hiddenRangeModel.hasRanges(), true);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(1), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(2), true);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(3), true);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(4), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(5), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(6), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(7), true);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(8), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(9), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(10), false);\n\n\t\t\tfoldingModel.toggleCollapseState([foldingModel.getRegionAtLine(4)!]);\n\t\t\tassertRanges(hiddenRangeModel.hiddenRanges, [r(2, 3), r(5, 9)]);\n\n\t\t\tassert.strictEqual(hiddenRangeModel.hasRanges(), true);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(1), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(2), true);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(3), true);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(4), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(5), true);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(6), true);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(7), true);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(8), true);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(9), true);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(10), false);\n\n\t\t\tfoldingModel.toggleCollapseState([foldingModel.getRegionAtLine(1)!, foldingModel.getRegionAtLine(6)!, foldingModel.getRegionAtLine(4)!]);\n\t\t\tassertRanges(hiddenRangeModel.hiddenRanges, []);\n\t\t\tassert.strictEqual(hiddenRangeModel.hasRanges(), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(1), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(2), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(3), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(4), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(5), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(6), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(7), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(8), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(9), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(10), false);\n\t\t} finally {\n\t\t\ttextModel.dispose();\n\t\t\thiddenRangeModel.dispose();\n\t\t}\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport assert from 'assert';\nimport { IRange } from '../../../../common/core/range.js';\nimport { FoldingModel } from '../../browser/foldingModel.js';\nimport { HiddenRangeModel } from '../../browser/hiddenRangeModel.js';\nimport { computeRanges } from '../../browser/indentRangeProvider.js';\nimport { createTextModel } from '../../../../test/common/testTextModel.js';\nimport { TestDecorationProvider } from './foldingModel.test.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\n\n\ninterface ExpectedRange {\n\tstartLineNumber: number;\n\tendLineNumber: number;\n}\n\nsuite('Hidden Range Model', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tfunction r(startLineNumber: number, endLineNumber: number): ExpectedRange {\n\t\treturn { startLineNumber, endLineNumber };\n\t}\n\n\tfunction assertRanges(actual: IRange[], expectedRegions: ExpectedRange[], message?: string) {\n\t\tassert.deepStrictEqual(actual.map(r => ({ startLineNumber: r.startLineNumber, endLineNumber: r.endLineNumber })), expectedRegions, message);\n\t}\n\n\ttest('hasRanges', () => {\n\t\tconst lines = [\n\t\t/* 1*/\t'/**',\n\t\t/* 2*/\t' * Comment',\n\t\t/* 3*/\t' */',\n\t\t/* 4*/\t'class A {',\n\t\t/* 5*/\t'  void foo() {',\n\t\t/* 6*/\t'    if (true) {',\n\t\t/* 7*/\t'      //hello',\n\t\t/* 8*/\t'    }',\n\t\t/* 9*/\t'  }',\n\t\t/* 10*/\t'}'];\n\n\t\tconst textModel = createTextModel(lines.join('\\n'));\n\t\tconst foldingModel = new FoldingModel(textModel, new TestDecorationProvider(textModel));\n\t\tconst hiddenRangeModel = new HiddenRangeModel(foldingModel);\n\t\ttry {\n\t\t\tassert.strictEqual(hiddenRangeModel.hasRanges(), false);\n\n\t\t\tconst ranges = computeRanges(textModel, false, undefined);\n\t\t\tfoldingModel.update(ranges);\n\n\t\t\tfoldingModel.toggleCollapseState([foldingModel.getRegionAtLine(1)!, foldingModel.getRegionAtLine(6)!]);\n\t\t\tassertRanges(hiddenRangeModel.hiddenRanges, [r(2, 3), r(7, 7)]);\n\n\t\t\tassert.strictEqual(hiddenRangeModel.hasRanges(), true);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(1), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(2), true);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(3), true);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(4), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(5), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(6), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(7), true);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(8), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(9), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(10), false);\n\n\t\t\tfoldingModel.toggleCollapseState([foldingModel.getRegionAtLine(4)!]);\n\t\t\tassertRanges(hiddenRangeModel.hiddenRanges, [r(2, 3), r(5, 9)]);\n\n\t\t\tassert.strictEqual(hiddenRangeModel.hasRanges(), true);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(1), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(2), true);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(3), true);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(4), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(5), true);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(6), true);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(7), true);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(8), true);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(9), true);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(10), false);\n\n\t\t\tfoldingModel.toggleCollapseState([foldingModel.getRegionAtLine(1)!, foldingModel.getRegionAtLine(6)!, foldingModel.getRegionAtLine(4)!]);\n\t\t\tassertRanges(hiddenRangeModel.hiddenRanges, []);\n\t\t\tassert.strictEqual(hiddenRangeModel.hasRanges(), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(1), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(2), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(3), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(4), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(5), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(6), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(7), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(8), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(9), false);\n\t\t\tassert.strictEqual(hiddenRangeModel.isHidden(10), false);\n\t\t} finally {\n\t\t\ttextModel.dispose();\n\t\t\thiddenRangeModel.dispose();\n\t\t}\n\t});\n});\n"]}