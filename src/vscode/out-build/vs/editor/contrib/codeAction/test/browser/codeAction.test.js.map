{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/editor/contrib/codeAction/test/browser/codeAction.test.ts","vs/editor/contrib/codeAction/test/browser/codeAction.test.ts"],"names":[],"mappings":"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","file":"codeAction.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport assert from 'assert';\nimport { CancellationToken } from '../../../../../base/common/cancellation.js';\nimport { HierarchicalKind } from '../../../../../base/common/hierarchicalKind.js';\nimport { DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { LanguageFeatureRegistry } from '../../../../common/languageFeatureRegistry.js';\nimport * as languages from '../../../../common/languages.js';\nimport { TextModel } from '../../../../common/model/textModel.js';\nimport { getCodeActions } from '../../browser/codeAction.js';\nimport { CodeActionItem, CodeActionKind, CodeActionTriggerSource } from '../../common/types.js';\nimport { createTextModel } from '../../../../test/common/testTextModel.js';\nimport { IMarkerData, MarkerSeverity } from '../../../../../platform/markers/common/markers.js';\nimport { Progress } from '../../../../../platform/progress/common/progress.js';\n\nfunction staticCodeActionProvider(...actions: languages.CodeAction[]): languages.CodeActionProvider {\n\treturn new class implements languages.CodeActionProvider {\n\t\tprovideCodeActions(): languages.CodeActionList {\n\t\t\treturn {\n\t\t\t\tactions: actions,\n\t\t\t\tdispose: () => { }\n\t\t\t};\n\t\t}\n\t};\n}\n\n\nsuite('CodeAction', () => {\n\n\tconst langId = 'fooLang';\n\tconst uri = URI.parse('untitled:path');\n\tlet model: TextModel;\n\tlet registry: LanguageFeatureRegistry<languages.CodeActionProvider>;\n\tconst disposables = new DisposableStore();\n\tconst testData = {\n\t\tdiagnostics: {\n\t\t\tabc: {\n\t\t\t\ttitle: 'bTitle',\n\t\t\t\tdiagnostics: [{\n\t\t\t\t\tstartLineNumber: 1,\n\t\t\t\t\tstartColumn: 1,\n\t\t\t\t\tendLineNumber: 2,\n\t\t\t\t\tendColumn: 1,\n\t\t\t\t\tseverity: MarkerSeverity.Error,\n\t\t\t\t\tmessage: 'abc'\n\t\t\t\t}]\n\t\t\t},\n\t\t\tbcd: {\n\t\t\t\ttitle: 'aTitle',\n\t\t\t\tdiagnostics: [{\n\t\t\t\t\tstartLineNumber: 1,\n\t\t\t\t\tstartColumn: 1,\n\t\t\t\t\tendLineNumber: 2,\n\t\t\t\t\tendColumn: 1,\n\t\t\t\t\tseverity: MarkerSeverity.Error,\n\t\t\t\t\tmessage: 'bcd'\n\t\t\t\t}]\n\t\t\t}\n\t\t},\n\t\tcommand: {\n\t\t\tabc: {\n\t\t\t\tcommand: new class implements languages.Command {\n\t\t\t\t\tid!: '1';\n\t\t\t\t\ttitle!: 'abc';\n\t\t\t\t},\n\t\t\t\ttitle: 'Extract to inner function in function \"test\"'\n\t\t\t}\n\t\t},\n\t\tspelling: {\n\t\t\tbcd: {\n\t\t\t\tdiagnostics: <IMarkerData[]>[],\n\t\t\t\tedit: new class implements languages.WorkspaceEdit {\n\t\t\t\t\tedits!: languages.IWorkspaceTextEdit[];\n\t\t\t\t},\n\t\t\t\ttitle: 'abc'\n\t\t\t}\n\t\t},\n\t\ttsLint: {\n\t\t\tabc: {\n\t\t\t\t$ident: 'funny' + 57,\n\t\t\t\targuments: <IMarkerData[]>[],\n\t\t\t\tid: '_internal_command_delegation',\n\t\t\t\ttitle: 'abc'\n\t\t\t},\n\t\t\tbcd: {\n\t\t\t\t$ident: 'funny' + 47,\n\t\t\t\targuments: <IMarkerData[]>[],\n\t\t\t\tid: '_internal_command_delegation',\n\t\t\t\ttitle: 'bcd'\n\t\t\t}\n\t\t}\n\t};\n\n\tsetup(() => {\n\t\tregistry = new LanguageFeatureRegistry();\n\t\tdisposables.clear();\n\t\tmodel = createTextModel('test1\\ntest2\\ntest3', langId, undefined, uri);\n\t\tdisposables.add(model);\n\t});\n\n\tteardown(() => {\n\t\tdisposables.clear();\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('CodeActions are sorted by type, #38623', async () => {\n\n\t\tconst provider = staticCodeActionProvider(\n\t\t\ttestData.command.abc,\n\t\t\ttestData.diagnostics.bcd,\n\t\t\ttestData.spelling.bcd,\n\t\t\ttestData.tsLint.bcd,\n\t\t\ttestData.tsLint.abc,\n\t\t\ttestData.diagnostics.abc\n\t\t);\n\n\t\tdisposables.add(registry.register('fooLang', provider));\n\n\t\tconst expected = [\n\t\t\t// CodeActions with a diagnostics array are shown first without further sorting\n\t\t\tnew CodeActionItem(testData.diagnostics.bcd, provider),\n\t\t\tnew CodeActionItem(testData.diagnostics.abc, provider),\n\n\t\t\t// CodeActions without diagnostics are shown in the given order without any further sorting\n\t\t\tnew CodeActionItem(testData.command.abc, provider),\n\t\t\tnew CodeActionItem(testData.spelling.bcd, provider),\n\t\t\tnew CodeActionItem(testData.tsLint.bcd, provider),\n\t\t\tnew CodeActionItem(testData.tsLint.abc, provider)\n\t\t];\n\n\t\tconst { validActions: actions } = disposables.add(await getCodeActions(registry, model, new Range(1, 1, 2, 1), { type: languages.CodeActionTriggerType.Invoke, triggerAction: CodeActionTriggerSource.Default }, Progress.None, CancellationToken.None));\n\t\tassert.strictEqual(actions.length, 6);\n\t\tassert.deepStrictEqual(actions, expected);\n\t});\n\n\ttest('getCodeActions should filter by scope', async () => {\n\t\tconst provider = staticCodeActionProvider(\n\t\t\t{ title: 'a', kind: 'a' },\n\t\t\t{ title: 'b', kind: 'b' },\n\t\t\t{ title: 'a.b', kind: 'a.b' }\n\t\t);\n\n\t\tdisposables.add(registry.register('fooLang', provider));\n\n\t\t{\n\t\t\tconst { validActions: actions } = disposables.add(await getCodeActions(registry, model, new Range(1, 1, 2, 1), { type: languages.CodeActionTriggerType.Auto, triggerAction: CodeActionTriggerSource.Default, filter: { include: new HierarchicalKind('a') } }, Progress.None, CancellationToken.None));\n\t\t\tassert.strictEqual(actions.length, 2);\n\t\t\tassert.strictEqual(actions[0].action.title, 'a');\n\t\t\tassert.strictEqual(actions[1].action.title, 'a.b');\n\t\t}\n\n\t\t{\n\t\t\tconst { validActions: actions } = disposables.add(await getCodeActions(registry, model, new Range(1, 1, 2, 1), { type: languages.CodeActionTriggerType.Auto, triggerAction: CodeActionTriggerSource.Default, filter: { include: new HierarchicalKind('a.b') } }, Progress.None, CancellationToken.None));\n\t\t\tassert.strictEqual(actions.length, 1);\n\t\t\tassert.strictEqual(actions[0].action.title, 'a.b');\n\t\t}\n\n\t\t{\n\t\t\tconst { validActions: actions } = disposables.add(await getCodeActions(registry, model, new Range(1, 1, 2, 1), { type: languages.CodeActionTriggerType.Auto, triggerAction: CodeActionTriggerSource.Default, filter: { include: new HierarchicalKind('a.b.c') } }, Progress.None, CancellationToken.None));\n\t\t\tassert.strictEqual(actions.length, 0);\n\t\t}\n\t});\n\n\ttest('getCodeActions should forward requested scope to providers', async () => {\n\t\tconst provider = new class implements languages.CodeActionProvider {\n\t\t\tprovideCodeActions(_model: any, _range: Range, context: languages.CodeActionContext, _token: any): languages.CodeActionList {\n\t\t\t\treturn {\n\t\t\t\t\tactions: [\n\t\t\t\t\t\t{ title: context.only || '', kind: context.only }\n\t\t\t\t\t],\n\t\t\t\t\tdispose: () => { }\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\n\t\tdisposables.add(registry.register('fooLang', provider));\n\n\t\tconst { validActions: actions } = disposables.add(await getCodeActions(registry, model, new Range(1, 1, 2, 1), { type: languages.CodeActionTriggerType.Auto, triggerAction: CodeActionTriggerSource.Default, filter: { include: new HierarchicalKind('a') } }, Progress.None, CancellationToken.None));\n\t\tassert.strictEqual(actions.length, 1);\n\t\tassert.strictEqual(actions[0].action.title, 'a');\n\t});\n\n\ttest('getCodeActions should not return source code action by default', async () => {\n\t\tconst provider = staticCodeActionProvider(\n\t\t\t{ title: 'a', kind: CodeActionKind.Source.value },\n\t\t\t{ title: 'b', kind: 'b' }\n\t\t);\n\n\t\tdisposables.add(registry.register('fooLang', provider));\n\n\t\t{\n\t\t\tconst { validActions: actions } = disposables.add(await getCodeActions(registry, model, new Range(1, 1, 2, 1), { type: languages.CodeActionTriggerType.Auto, triggerAction: CodeActionTriggerSource.SourceAction }, Progress.None, CancellationToken.None));\n\t\t\tassert.strictEqual(actions.length, 1);\n\t\t\tassert.strictEqual(actions[0].action.title, 'b');\n\t\t}\n\n\t\t{\n\t\t\tconst { validActions: actions } = disposables.add(await getCodeActions(registry, model, new Range(1, 1, 2, 1), { type: languages.CodeActionTriggerType.Auto, triggerAction: CodeActionTriggerSource.Default, filter: { include: CodeActionKind.Source, includeSourceActions: true } }, Progress.None, CancellationToken.None));\n\t\t\tassert.strictEqual(actions.length, 1);\n\t\t\tassert.strictEqual(actions[0].action.title, 'a');\n\t\t}\n\t});\n\n\ttest('getCodeActions should support filtering out some requested source code actions #84602', async () => {\n\t\tconst provider = staticCodeActionProvider(\n\t\t\t{ title: 'a', kind: CodeActionKind.Source.value },\n\t\t\t{ title: 'b', kind: CodeActionKind.Source.append('test').value },\n\t\t\t{ title: 'c', kind: 'c' }\n\t\t);\n\n\t\tdisposables.add(registry.register('fooLang', provider));\n\n\t\t{\n\t\t\tconst { validActions: actions } = disposables.add(await getCodeActions(registry, model, new Range(1, 1, 2, 1), {\n\t\t\t\ttype: languages.CodeActionTriggerType.Auto, triggerAction: CodeActionTriggerSource.SourceAction, filter: {\n\t\t\t\t\tinclude: CodeActionKind.Source.append('test'),\n\t\t\t\t\texcludes: [CodeActionKind.Source],\n\t\t\t\t\tincludeSourceActions: true,\n\t\t\t\t}\n\t\t\t}, Progress.None, CancellationToken.None));\n\t\t\tassert.strictEqual(actions.length, 1);\n\t\t\tassert.strictEqual(actions[0].action.title, 'b');\n\t\t}\n\t});\n\n\ttest('getCodeActions no invoke a provider that has been excluded #84602', async () => {\n\t\tconst baseType = CodeActionKind.Refactor;\n\t\tconst subType = CodeActionKind.Refactor.append('sub');\n\n\t\tdisposables.add(registry.register('fooLang', staticCodeActionProvider(\n\t\t\t{ title: 'a', kind: baseType.value }\n\t\t)));\n\n\t\tlet didInvoke = false;\n\t\tdisposables.add(registry.register('fooLang', new class implements languages.CodeActionProvider {\n\n\t\t\tprovidedCodeActionKinds = [subType.value];\n\n\t\t\tprovideCodeActions(): languages.ProviderResult<languages.CodeActionList> {\n\t\t\t\tdidInvoke = true;\n\t\t\t\treturn {\n\t\t\t\t\tactions: [\n\t\t\t\t\t\t{ title: 'x', kind: subType.value }\n\t\t\t\t\t],\n\t\t\t\t\tdispose: () => { }\n\t\t\t\t};\n\t\t\t}\n\t\t}));\n\n\t\t{\n\t\t\tconst { validActions: actions } = disposables.add(await getCodeActions(registry, model, new Range(1, 1, 2, 1), {\n\t\t\t\ttype: languages.CodeActionTriggerType.Auto, triggerAction: CodeActionTriggerSource.Refactor, filter: {\n\t\t\t\t\tinclude: baseType,\n\t\t\t\t\texcludes: [subType],\n\t\t\t\t}\n\t\t\t}, Progress.None, CancellationToken.None));\n\t\t\tassert.strictEqual(didInvoke, false);\n\t\t\tassert.strictEqual(actions.length, 1);\n\t\t\tassert.strictEqual(actions[0].action.title, 'a');\n\t\t}\n\t});\n\n\ttest('getCodeActions should not invoke code action providers filtered out by providedCodeActionKinds', async () => {\n\t\tlet wasInvoked = false;\n\t\tconst provider = new class implements languages.CodeActionProvider {\n\t\t\tprovideCodeActions(): languages.CodeActionList {\n\t\t\t\twasInvoked = true;\n\t\t\t\treturn { actions: [], dispose: () => { } };\n\t\t\t}\n\n\t\t\tprovidedCodeActionKinds = [CodeActionKind.Refactor.value];\n\t\t};\n\n\t\tdisposables.add(registry.register('fooLang', provider));\n\n\t\tconst { validActions: actions } = disposables.add(await getCodeActions(registry, model, new Range(1, 1, 2, 1), {\n\t\t\ttype: languages.CodeActionTriggerType.Auto, triggerAction: CodeActionTriggerSource.Refactor,\n\t\t\tfilter: {\n\t\t\t\tinclude: CodeActionKind.QuickFix\n\t\t\t}\n\t\t}, Progress.None, CancellationToken.None));\n\t\tassert.strictEqual(actions.length, 0);\n\t\tassert.strictEqual(wasInvoked, false);\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport assert from 'assert';\nimport { CancellationToken } from '../../../../../base/common/cancellation.js';\nimport { HierarchicalKind } from '../../../../../base/common/hierarchicalKind.js';\nimport { DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { URI } from '../../../../../base/common/uri.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { LanguageFeatureRegistry } from '../../../../common/languageFeatureRegistry.js';\nimport * as languages from '../../../../common/languages.js';\nimport { TextModel } from '../../../../common/model/textModel.js';\nimport { getCodeActions } from '../../browser/codeAction.js';\nimport { CodeActionItem, CodeActionKind, CodeActionTriggerSource } from '../../common/types.js';\nimport { createTextModel } from '../../../../test/common/testTextModel.js';\nimport { IMarkerData, MarkerSeverity } from '../../../../../platform/markers/common/markers.js';\nimport { Progress } from '../../../../../platform/progress/common/progress.js';\n\nfunction staticCodeActionProvider(...actions: languages.CodeAction[]): languages.CodeActionProvider {\n\treturn new class implements languages.CodeActionProvider {\n\t\tprovideCodeActions(): languages.CodeActionList {\n\t\t\treturn {\n\t\t\t\tactions: actions,\n\t\t\t\tdispose: () => { }\n\t\t\t};\n\t\t}\n\t};\n}\n\n\nsuite('CodeAction', () => {\n\n\tconst langId = 'fooLang';\n\tconst uri = URI.parse('untitled:path');\n\tlet model: TextModel;\n\tlet registry: LanguageFeatureRegistry<languages.CodeActionProvider>;\n\tconst disposables = new DisposableStore();\n\tconst testData = {\n\t\tdiagnostics: {\n\t\t\tabc: {\n\t\t\t\ttitle: 'bTitle',\n\t\t\t\tdiagnostics: [{\n\t\t\t\t\tstartLineNumber: 1,\n\t\t\t\t\tstartColumn: 1,\n\t\t\t\t\tendLineNumber: 2,\n\t\t\t\t\tendColumn: 1,\n\t\t\t\t\tseverity: MarkerSeverity.Error,\n\t\t\t\t\tmessage: 'abc'\n\t\t\t\t}]\n\t\t\t},\n\t\t\tbcd: {\n\t\t\t\ttitle: 'aTitle',\n\t\t\t\tdiagnostics: [{\n\t\t\t\t\tstartLineNumber: 1,\n\t\t\t\t\tstartColumn: 1,\n\t\t\t\t\tendLineNumber: 2,\n\t\t\t\t\tendColumn: 1,\n\t\t\t\t\tseverity: MarkerSeverity.Error,\n\t\t\t\t\tmessage: 'bcd'\n\t\t\t\t}]\n\t\t\t}\n\t\t},\n\t\tcommand: {\n\t\t\tabc: {\n\t\t\t\tcommand: new class implements languages.Command {\n\t\t\t\t\tid!: '1';\n\t\t\t\t\ttitle!: 'abc';\n\t\t\t\t},\n\t\t\t\ttitle: 'Extract to inner function in function \"test\"'\n\t\t\t}\n\t\t},\n\t\tspelling: {\n\t\t\tbcd: {\n\t\t\t\tdiagnostics: <IMarkerData[]>[],\n\t\t\t\tedit: new class implements languages.WorkspaceEdit {\n\t\t\t\t\tedits!: languages.IWorkspaceTextEdit[];\n\t\t\t\t},\n\t\t\t\ttitle: 'abc'\n\t\t\t}\n\t\t},\n\t\ttsLint: {\n\t\t\tabc: {\n\t\t\t\t$ident: 'funny' + 57,\n\t\t\t\targuments: <IMarkerData[]>[],\n\t\t\t\tid: '_internal_command_delegation',\n\t\t\t\ttitle: 'abc'\n\t\t\t},\n\t\t\tbcd: {\n\t\t\t\t$ident: 'funny' + 47,\n\t\t\t\targuments: <IMarkerData[]>[],\n\t\t\t\tid: '_internal_command_delegation',\n\t\t\t\ttitle: 'bcd'\n\t\t\t}\n\t\t}\n\t};\n\n\tsetup(() => {\n\t\tregistry = new LanguageFeatureRegistry();\n\t\tdisposables.clear();\n\t\tmodel = createTextModel('test1\\ntest2\\ntest3', langId, undefined, uri);\n\t\tdisposables.add(model);\n\t});\n\n\tteardown(() => {\n\t\tdisposables.clear();\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('CodeActions are sorted by type, #38623', async () => {\n\n\t\tconst provider = staticCodeActionProvider(\n\t\t\ttestData.command.abc,\n\t\t\ttestData.diagnostics.bcd,\n\t\t\ttestData.spelling.bcd,\n\t\t\ttestData.tsLint.bcd,\n\t\t\ttestData.tsLint.abc,\n\t\t\ttestData.diagnostics.abc\n\t\t);\n\n\t\tdisposables.add(registry.register('fooLang', provider));\n\n\t\tconst expected = [\n\t\t\t// CodeActions with a diagnostics array are shown first without further sorting\n\t\t\tnew CodeActionItem(testData.diagnostics.bcd, provider),\n\t\t\tnew CodeActionItem(testData.diagnostics.abc, provider),\n\n\t\t\t// CodeActions without diagnostics are shown in the given order without any further sorting\n\t\t\tnew CodeActionItem(testData.command.abc, provider),\n\t\t\tnew CodeActionItem(testData.spelling.bcd, provider),\n\t\t\tnew CodeActionItem(testData.tsLint.bcd, provider),\n\t\t\tnew CodeActionItem(testData.tsLint.abc, provider)\n\t\t];\n\n\t\tconst { validActions: actions } = disposables.add(await getCodeActions(registry, model, new Range(1, 1, 2, 1), { type: languages.CodeActionTriggerType.Invoke, triggerAction: CodeActionTriggerSource.Default }, Progress.None, CancellationToken.None));\n\t\tassert.strictEqual(actions.length, 6);\n\t\tassert.deepStrictEqual(actions, expected);\n\t});\n\n\ttest('getCodeActions should filter by scope', async () => {\n\t\tconst provider = staticCodeActionProvider(\n\t\t\t{ title: 'a', kind: 'a' },\n\t\t\t{ title: 'b', kind: 'b' },\n\t\t\t{ title: 'a.b', kind: 'a.b' }\n\t\t);\n\n\t\tdisposables.add(registry.register('fooLang', provider));\n\n\t\t{\n\t\t\tconst { validActions: actions } = disposables.add(await getCodeActions(registry, model, new Range(1, 1, 2, 1), { type: languages.CodeActionTriggerType.Auto, triggerAction: CodeActionTriggerSource.Default, filter: { include: new HierarchicalKind('a') } }, Progress.None, CancellationToken.None));\n\t\t\tassert.strictEqual(actions.length, 2);\n\t\t\tassert.strictEqual(actions[0].action.title, 'a');\n\t\t\tassert.strictEqual(actions[1].action.title, 'a.b');\n\t\t}\n\n\t\t{\n\t\t\tconst { validActions: actions } = disposables.add(await getCodeActions(registry, model, new Range(1, 1, 2, 1), { type: languages.CodeActionTriggerType.Auto, triggerAction: CodeActionTriggerSource.Default, filter: { include: new HierarchicalKind('a.b') } }, Progress.None, CancellationToken.None));\n\t\t\tassert.strictEqual(actions.length, 1);\n\t\t\tassert.strictEqual(actions[0].action.title, 'a.b');\n\t\t}\n\n\t\t{\n\t\t\tconst { validActions: actions } = disposables.add(await getCodeActions(registry, model, new Range(1, 1, 2, 1), { type: languages.CodeActionTriggerType.Auto, triggerAction: CodeActionTriggerSource.Default, filter: { include: new HierarchicalKind('a.b.c') } }, Progress.None, CancellationToken.None));\n\t\t\tassert.strictEqual(actions.length, 0);\n\t\t}\n\t});\n\n\ttest('getCodeActions should forward requested scope to providers', async () => {\n\t\tconst provider = new class implements languages.CodeActionProvider {\n\t\t\tprovideCodeActions(_model: any, _range: Range, context: languages.CodeActionContext, _token: any): languages.CodeActionList {\n\t\t\t\treturn {\n\t\t\t\t\tactions: [\n\t\t\t\t\t\t{ title: context.only || '', kind: context.only }\n\t\t\t\t\t],\n\t\t\t\t\tdispose: () => { }\n\t\t\t\t};\n\t\t\t}\n\t\t};\n\n\t\tdisposables.add(registry.register('fooLang', provider));\n\n\t\tconst { validActions: actions } = disposables.add(await getCodeActions(registry, model, new Range(1, 1, 2, 1), { type: languages.CodeActionTriggerType.Auto, triggerAction: CodeActionTriggerSource.Default, filter: { include: new HierarchicalKind('a') } }, Progress.None, CancellationToken.None));\n\t\tassert.strictEqual(actions.length, 1);\n\t\tassert.strictEqual(actions[0].action.title, 'a');\n\t});\n\n\ttest('getCodeActions should not return source code action by default', async () => {\n\t\tconst provider = staticCodeActionProvider(\n\t\t\t{ title: 'a', kind: CodeActionKind.Source.value },\n\t\t\t{ title: 'b', kind: 'b' }\n\t\t);\n\n\t\tdisposables.add(registry.register('fooLang', provider));\n\n\t\t{\n\t\t\tconst { validActions: actions } = disposables.add(await getCodeActions(registry, model, new Range(1, 1, 2, 1), { type: languages.CodeActionTriggerType.Auto, triggerAction: CodeActionTriggerSource.SourceAction }, Progress.None, CancellationToken.None));\n\t\t\tassert.strictEqual(actions.length, 1);\n\t\t\tassert.strictEqual(actions[0].action.title, 'b');\n\t\t}\n\n\t\t{\n\t\t\tconst { validActions: actions } = disposables.add(await getCodeActions(registry, model, new Range(1, 1, 2, 1), { type: languages.CodeActionTriggerType.Auto, triggerAction: CodeActionTriggerSource.Default, filter: { include: CodeActionKind.Source, includeSourceActions: true } }, Progress.None, CancellationToken.None));\n\t\t\tassert.strictEqual(actions.length, 1);\n\t\t\tassert.strictEqual(actions[0].action.title, 'a');\n\t\t}\n\t});\n\n\ttest('getCodeActions should support filtering out some requested source code actions #84602', async () => {\n\t\tconst provider = staticCodeActionProvider(\n\t\t\t{ title: 'a', kind: CodeActionKind.Source.value },\n\t\t\t{ title: 'b', kind: CodeActionKind.Source.append('test').value },\n\t\t\t{ title: 'c', kind: 'c' }\n\t\t);\n\n\t\tdisposables.add(registry.register('fooLang', provider));\n\n\t\t{\n\t\t\tconst { validActions: actions } = disposables.add(await getCodeActions(registry, model, new Range(1, 1, 2, 1), {\n\t\t\t\ttype: languages.CodeActionTriggerType.Auto, triggerAction: CodeActionTriggerSource.SourceAction, filter: {\n\t\t\t\t\tinclude: CodeActionKind.Source.append('test'),\n\t\t\t\t\texcludes: [CodeActionKind.Source],\n\t\t\t\t\tincludeSourceActions: true,\n\t\t\t\t}\n\t\t\t}, Progress.None, CancellationToken.None));\n\t\t\tassert.strictEqual(actions.length, 1);\n\t\t\tassert.strictEqual(actions[0].action.title, 'b');\n\t\t}\n\t});\n\n\ttest('getCodeActions no invoke a provider that has been excluded #84602', async () => {\n\t\tconst baseType = CodeActionKind.Refactor;\n\t\tconst subType = CodeActionKind.Refactor.append('sub');\n\n\t\tdisposables.add(registry.register('fooLang', staticCodeActionProvider(\n\t\t\t{ title: 'a', kind: baseType.value }\n\t\t)));\n\n\t\tlet didInvoke = false;\n\t\tdisposables.add(registry.register('fooLang', new class implements languages.CodeActionProvider {\n\n\t\t\tprovidedCodeActionKinds = [subType.value];\n\n\t\t\tprovideCodeActions(): languages.ProviderResult<languages.CodeActionList> {\n\t\t\t\tdidInvoke = true;\n\t\t\t\treturn {\n\t\t\t\t\tactions: [\n\t\t\t\t\t\t{ title: 'x', kind: subType.value }\n\t\t\t\t\t],\n\t\t\t\t\tdispose: () => { }\n\t\t\t\t};\n\t\t\t}\n\t\t}));\n\n\t\t{\n\t\t\tconst { validActions: actions } = disposables.add(await getCodeActions(registry, model, new Range(1, 1, 2, 1), {\n\t\t\t\ttype: languages.CodeActionTriggerType.Auto, triggerAction: CodeActionTriggerSource.Refactor, filter: {\n\t\t\t\t\tinclude: baseType,\n\t\t\t\t\texcludes: [subType],\n\t\t\t\t}\n\t\t\t}, Progress.None, CancellationToken.None));\n\t\t\tassert.strictEqual(didInvoke, false);\n\t\t\tassert.strictEqual(actions.length, 1);\n\t\t\tassert.strictEqual(actions[0].action.title, 'a');\n\t\t}\n\t});\n\n\ttest('getCodeActions should not invoke code action providers filtered out by providedCodeActionKinds', async () => {\n\t\tlet wasInvoked = false;\n\t\tconst provider = new class implements languages.CodeActionProvider {\n\t\t\tprovideCodeActions(): languages.CodeActionList {\n\t\t\t\twasInvoked = true;\n\t\t\t\treturn { actions: [], dispose: () => { } };\n\t\t\t}\n\n\t\t\tprovidedCodeActionKinds = [CodeActionKind.Refactor.value];\n\t\t};\n\n\t\tdisposables.add(registry.register('fooLang', provider));\n\n\t\tconst { validActions: actions } = disposables.add(await getCodeActions(registry, model, new Range(1, 1, 2, 1), {\n\t\t\ttype: languages.CodeActionTriggerType.Auto, triggerAction: CodeActionTriggerSource.Refactor,\n\t\t\tfilter: {\n\t\t\t\tinclude: CodeActionKind.QuickFix\n\t\t\t}\n\t\t}, Progress.None, CancellationToken.None));\n\t\tassert.strictEqual(actions.length, 0);\n\t\tassert.strictEqual(wasInvoked, false);\n\t});\n});\n"]}