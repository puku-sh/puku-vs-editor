{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/editor/contrib/codeAction/test/browser/codeActionKeybindingResolver.test.ts","vs/editor/contrib/codeAction/test/browser/codeActionKeybindingResolver.test.ts"],"names":[],"mappings":"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","file":"codeActionKeybindingResolver.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { KeyCodeChord } from '../../../../../base/common/keybindings.js';\nimport { KeyCode } from '../../../../../base/common/keyCodes.js';\nimport { OperatingSystem } from '../../../../../base/common/platform.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { organizeImportsCommandId, refactorCommandId } from '../../browser/codeAction.js';\nimport { CodeActionKeybindingResolver } from '../../browser/codeActionKeybindingResolver.js';\nimport { CodeActionKind } from '../../common/types.js';\nimport { IKeybindingService } from '../../../../../platform/keybinding/common/keybinding.js';\nimport { ResolvedKeybindingItem } from '../../../../../platform/keybinding/common/resolvedKeybindingItem.js';\nimport { USLayoutResolvedKeybinding } from '../../../../../platform/keybinding/common/usLayoutResolvedKeybinding.js';\n\nsuite('CodeActionKeybindingResolver', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tconst refactorKeybinding = createCodeActionKeybinding(\n\t\tKeyCode.KeyA,\n\t\trefactorCommandId,\n\t\t{ kind: CodeActionKind.Refactor.value });\n\n\tconst refactorExtractKeybinding = createCodeActionKeybinding(\n\t\tKeyCode.KeyB,\n\t\trefactorCommandId,\n\t\t{ kind: CodeActionKind.Refactor.append('extract').value });\n\n\tconst organizeImportsKeybinding = createCodeActionKeybinding(\n\t\tKeyCode.KeyC,\n\t\torganizeImportsCommandId,\n\t\tundefined);\n\n\ttest('Should match refactor keybindings', async function () {\n\t\tconst resolver = new CodeActionKeybindingResolver(\n\t\t\tcreateMockKeyBindingService([refactorKeybinding])\n\t\t).getResolver();\n\n\t\tassert.strictEqual(\n\t\t\tresolver({ title: '' }),\n\t\t\tundefined);\n\n\t\tassert.strictEqual(\n\t\t\tresolver({ title: '', kind: CodeActionKind.Refactor.value }),\n\t\t\trefactorKeybinding.resolvedKeybinding);\n\n\t\tassert.strictEqual(\n\t\t\tresolver({ title: '', kind: CodeActionKind.Refactor.append('extract').value }),\n\t\t\trefactorKeybinding.resolvedKeybinding);\n\n\t\tassert.strictEqual(\n\t\t\tresolver({ title: '', kind: CodeActionKind.QuickFix.value }),\n\t\t\tundefined);\n\t});\n\n\ttest('Should prefer most specific keybinding', async function () {\n\t\tconst resolver = new CodeActionKeybindingResolver(\n\t\t\tcreateMockKeyBindingService([refactorKeybinding, refactorExtractKeybinding, organizeImportsKeybinding])\n\t\t).getResolver();\n\n\t\tassert.strictEqual(\n\t\t\tresolver({ title: '', kind: CodeActionKind.Refactor.value }),\n\t\t\trefactorKeybinding.resolvedKeybinding);\n\n\t\tassert.strictEqual(\n\t\t\tresolver({ title: '', kind: CodeActionKind.Refactor.append('extract').value }),\n\t\t\trefactorExtractKeybinding.resolvedKeybinding);\n\t});\n\n\ttest('Organize imports should still return a keybinding even though it does not have args', async function () {\n\t\tconst resolver = new CodeActionKeybindingResolver(\n\t\t\tcreateMockKeyBindingService([refactorKeybinding, refactorExtractKeybinding, organizeImportsKeybinding])\n\t\t).getResolver();\n\n\t\tassert.strictEqual(\n\t\t\tresolver({ title: '', kind: CodeActionKind.SourceOrganizeImports.value }),\n\t\t\torganizeImportsKeybinding.resolvedKeybinding);\n\t});\n});\n\nfunction createMockKeyBindingService(items: ResolvedKeybindingItem[]): IKeybindingService {\n\treturn <IKeybindingService>{\n\t\tgetKeybindings: (): readonly ResolvedKeybindingItem[] => {\n\t\t\treturn items;\n\t\t},\n\t};\n}\n\nfunction createCodeActionKeybinding(keycode: KeyCode, command: string, commandArgs: any) {\n\treturn new ResolvedKeybindingItem(\n\t\tnew USLayoutResolvedKeybinding(\n\t\t\t[new KeyCodeChord(false, true, false, false, keycode)],\n\t\t\tOperatingSystem.Linux),\n\t\tcommand,\n\t\tcommandArgs,\n\t\tundefined,\n\t\tfalse,\n\t\tnull,\n\t\tfalse);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { KeyCodeChord } from '../../../../../base/common/keybindings.js';\nimport { KeyCode } from '../../../../../base/common/keyCodes.js';\nimport { OperatingSystem } from '../../../../../base/common/platform.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { organizeImportsCommandId, refactorCommandId } from '../../browser/codeAction.js';\nimport { CodeActionKeybindingResolver } from '../../browser/codeActionKeybindingResolver.js';\nimport { CodeActionKind } from '../../common/types.js';\nimport { IKeybindingService } from '../../../../../platform/keybinding/common/keybinding.js';\nimport { ResolvedKeybindingItem } from '../../../../../platform/keybinding/common/resolvedKeybindingItem.js';\nimport { USLayoutResolvedKeybinding } from '../../../../../platform/keybinding/common/usLayoutResolvedKeybinding.js';\n\nsuite('CodeActionKeybindingResolver', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tconst refactorKeybinding = createCodeActionKeybinding(\n\t\tKeyCode.KeyA,\n\t\trefactorCommandId,\n\t\t{ kind: CodeActionKind.Refactor.value });\n\n\tconst refactorExtractKeybinding = createCodeActionKeybinding(\n\t\tKeyCode.KeyB,\n\t\trefactorCommandId,\n\t\t{ kind: CodeActionKind.Refactor.append('extract').value });\n\n\tconst organizeImportsKeybinding = createCodeActionKeybinding(\n\t\tKeyCode.KeyC,\n\t\torganizeImportsCommandId,\n\t\tundefined);\n\n\ttest('Should match refactor keybindings', async function () {\n\t\tconst resolver = new CodeActionKeybindingResolver(\n\t\t\tcreateMockKeyBindingService([refactorKeybinding])\n\t\t).getResolver();\n\n\t\tassert.strictEqual(\n\t\t\tresolver({ title: '' }),\n\t\t\tundefined);\n\n\t\tassert.strictEqual(\n\t\t\tresolver({ title: '', kind: CodeActionKind.Refactor.value }),\n\t\t\trefactorKeybinding.resolvedKeybinding);\n\n\t\tassert.strictEqual(\n\t\t\tresolver({ title: '', kind: CodeActionKind.Refactor.append('extract').value }),\n\t\t\trefactorKeybinding.resolvedKeybinding);\n\n\t\tassert.strictEqual(\n\t\t\tresolver({ title: '', kind: CodeActionKind.QuickFix.value }),\n\t\t\tundefined);\n\t});\n\n\ttest('Should prefer most specific keybinding', async function () {\n\t\tconst resolver = new CodeActionKeybindingResolver(\n\t\t\tcreateMockKeyBindingService([refactorKeybinding, refactorExtractKeybinding, organizeImportsKeybinding])\n\t\t).getResolver();\n\n\t\tassert.strictEqual(\n\t\t\tresolver({ title: '', kind: CodeActionKind.Refactor.value }),\n\t\t\trefactorKeybinding.resolvedKeybinding);\n\n\t\tassert.strictEqual(\n\t\t\tresolver({ title: '', kind: CodeActionKind.Refactor.append('extract').value }),\n\t\t\trefactorExtractKeybinding.resolvedKeybinding);\n\t});\n\n\ttest('Organize imports should still return a keybinding even though it does not have args', async function () {\n\t\tconst resolver = new CodeActionKeybindingResolver(\n\t\t\tcreateMockKeyBindingService([refactorKeybinding, refactorExtractKeybinding, organizeImportsKeybinding])\n\t\t).getResolver();\n\n\t\tassert.strictEqual(\n\t\t\tresolver({ title: '', kind: CodeActionKind.SourceOrganizeImports.value }),\n\t\t\torganizeImportsKeybinding.resolvedKeybinding);\n\t});\n});\n\nfunction createMockKeyBindingService(items: ResolvedKeybindingItem[]): IKeybindingService {\n\treturn <IKeybindingService>{\n\t\tgetKeybindings: (): readonly ResolvedKeybindingItem[] => {\n\t\t\treturn items;\n\t\t},\n\t};\n}\n\nfunction createCodeActionKeybinding(keycode: KeyCode, command: string, commandArgs: any) {\n\treturn new ResolvedKeybindingItem(\n\t\tnew USLayoutResolvedKeybinding(\n\t\t\t[new KeyCodeChord(false, true, false, false, keycode)],\n\t\t\tOperatingSystem.Linux),\n\t\tcommand,\n\t\tcommandArgs,\n\t\tundefined,\n\t\tfalse,\n\t\tnull,\n\t\tfalse);\n}\n"]}