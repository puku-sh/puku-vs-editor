{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/editor/contrib/dropOrPasteInto/test/browser/editSort.test.ts","vs/editor/contrib/dropOrPasteInto/test/browser/editSort.test.ts"],"names":[],"mappings":"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","file":"editSort.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport assert from 'assert';\nimport { HierarchicalKind } from '../../../../../base/common/hierarchicalKind.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { DocumentDropEdit } from '../../../../common/languages.js';\nimport { sortEditsByYieldTo } from '../../browser/edit.js';\n\n\nfunction createTestEdit(kind: string, args?: Partial<DocumentDropEdit>): DocumentDropEdit {\n\treturn {\n\t\ttitle: '',\n\t\tinsertText: '',\n\t\tkind: new HierarchicalKind(kind),\n\t\t...args,\n\t};\n}\n\nsuite('sortEditsByYieldTo', () => {\n\n\ttest('Should noop for empty edits', () => {\n\t\tconst edits: DocumentDropEdit[] = [];\n\n\t\tassert.deepStrictEqual(sortEditsByYieldTo(edits), []);\n\t});\n\n\ttest('Yielded to edit should get sorted after target', () => {\n\t\tconst edits: DocumentDropEdit[] = [\n\t\t\tcreateTestEdit('a', { yieldTo: [{ kind: new HierarchicalKind('b') }] }),\n\t\t\tcreateTestEdit('b'),\n\t\t];\n\t\tassert.deepStrictEqual(sortEditsByYieldTo(edits).map(x => x.kind?.value), ['b', 'a']);\n\t});\n\n\ttest('Should handle chain of yield to', () => {\n\t\t{\n\t\t\tconst edits: DocumentDropEdit[] = [\n\t\t\t\tcreateTestEdit('c', { yieldTo: [{ kind: new HierarchicalKind('a') }] }),\n\t\t\t\tcreateTestEdit('a', { yieldTo: [{ kind: new HierarchicalKind('b') }] }),\n\t\t\t\tcreateTestEdit('b'),\n\t\t\t];\n\n\t\t\tassert.deepStrictEqual(sortEditsByYieldTo(edits).map(x => x.kind?.value), ['b', 'a', 'c']);\n\t\t}\n\t\t{\n\t\t\tconst edits: DocumentDropEdit[] = [\n\t\t\t\tcreateTestEdit('a', { yieldTo: [{ kind: new HierarchicalKind('b') }] }),\n\t\t\t\tcreateTestEdit('c', { yieldTo: [{ kind: new HierarchicalKind('a') }] }),\n\t\t\t\tcreateTestEdit('b'),\n\t\t\t];\n\n\t\t\tassert.deepStrictEqual(sortEditsByYieldTo(edits).map(x => x.kind?.value), ['b', 'a', 'c']);\n\t\t}\n\t});\n\n\ttest(`Should not reorder when yield to isn't used`, () => {\n\t\tconst edits: DocumentDropEdit[] = [\n\t\t\tcreateTestEdit('c', { yieldTo: [{ kind: new HierarchicalKind('x') }] }),\n\t\t\tcreateTestEdit('a', { yieldTo: [{ kind: new HierarchicalKind('y') }] }),\n\t\t\tcreateTestEdit('b'),\n\t\t];\n\n\t\tassert.deepStrictEqual(sortEditsByYieldTo(edits).map(x => x.kind?.value), ['c', 'a', 'b']);\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport assert from 'assert';\nimport { HierarchicalKind } from '../../../../../base/common/hierarchicalKind.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { DocumentDropEdit } from '../../../../common/languages.js';\nimport { sortEditsByYieldTo } from '../../browser/edit.js';\n\n\nfunction createTestEdit(kind: string, args?: Partial<DocumentDropEdit>): DocumentDropEdit {\n\treturn {\n\t\ttitle: '',\n\t\tinsertText: '',\n\t\tkind: new HierarchicalKind(kind),\n\t\t...args,\n\t};\n}\n\nsuite('sortEditsByYieldTo', () => {\n\n\ttest('Should noop for empty edits', () => {\n\t\tconst edits: DocumentDropEdit[] = [];\n\n\t\tassert.deepStrictEqual(sortEditsByYieldTo(edits), []);\n\t});\n\n\ttest('Yielded to edit should get sorted after target', () => {\n\t\tconst edits: DocumentDropEdit[] = [\n\t\t\tcreateTestEdit('a', { yieldTo: [{ kind: new HierarchicalKind('b') }] }),\n\t\t\tcreateTestEdit('b'),\n\t\t];\n\t\tassert.deepStrictEqual(sortEditsByYieldTo(edits).map(x => x.kind?.value), ['b', 'a']);\n\t});\n\n\ttest('Should handle chain of yield to', () => {\n\t\t{\n\t\t\tconst edits: DocumentDropEdit[] = [\n\t\t\t\tcreateTestEdit('c', { yieldTo: [{ kind: new HierarchicalKind('a') }] }),\n\t\t\t\tcreateTestEdit('a', { yieldTo: [{ kind: new HierarchicalKind('b') }] }),\n\t\t\t\tcreateTestEdit('b'),\n\t\t\t];\n\n\t\t\tassert.deepStrictEqual(sortEditsByYieldTo(edits).map(x => x.kind?.value), ['b', 'a', 'c']);\n\t\t}\n\t\t{\n\t\t\tconst edits: DocumentDropEdit[] = [\n\t\t\t\tcreateTestEdit('a', { yieldTo: [{ kind: new HierarchicalKind('b') }] }),\n\t\t\t\tcreateTestEdit('c', { yieldTo: [{ kind: new HierarchicalKind('a') }] }),\n\t\t\t\tcreateTestEdit('b'),\n\t\t\t];\n\n\t\t\tassert.deepStrictEqual(sortEditsByYieldTo(edits).map(x => x.kind?.value), ['b', 'a', 'c']);\n\t\t}\n\t});\n\n\ttest(`Should not reorder when yield to isn't used`, () => {\n\t\tconst edits: DocumentDropEdit[] = [\n\t\t\tcreateTestEdit('c', { yieldTo: [{ kind: new HierarchicalKind('x') }] }),\n\t\t\tcreateTestEdit('a', { yieldTo: [{ kind: new HierarchicalKind('y') }] }),\n\t\t\tcreateTestEdit('b'),\n\t\t];\n\n\t\tassert.deepStrictEqual(sortEditsByYieldTo(edits).map(x => x.kind?.value), ['c', 'a', 'b']);\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n});\n"]}