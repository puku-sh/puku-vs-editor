{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/editor/contrib/linesOperations/test/browser/copyLinesCommand.test.ts","vs/editor/contrib/linesOperations/test/browser/copyLinesCommand.test.ts"],"names":[],"mappings":"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","file":"copyLinesCommand.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { Selection } from '../../../../common/core/selection.js';\nimport { CopyLinesCommand } from '../../browser/copyLinesCommand.js';\nimport { DuplicateSelectionAction } from '../../browser/linesOperations.js';\nimport { withTestCodeEditor } from '../../../../test/browser/testCodeEditor.js';\nimport { testCommand } from '../../../../test/browser/testCommand.js';\n\nfunction testCopyLinesDownCommand(lines: string[], selection: Selection, expectedLines: string[], expectedSelection: Selection): void {\n\ttestCommand(lines, null, selection, (accessor, sel) => new CopyLinesCommand(sel, true), expectedLines, expectedSelection);\n}\n\nfunction testCopyLinesUpCommand(lines: string[], selection: Selection, expectedLines: string[], expectedSelection: Selection): void {\n\ttestCommand(lines, null, selection, (accessor, sel) => new CopyLinesCommand(sel, false), expectedLines, expectedSelection);\n}\n\nsuite('Editor Contrib - Copy Lines Command', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('copy first line down', function () {\n\t\ttestCopyLinesDownCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 3, 1, 1),\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(2, 3, 2, 1)\n\t\t);\n\t});\n\n\ttest('copy first line up', function () {\n\t\ttestCopyLinesUpCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 3, 1, 1),\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 3, 1, 1)\n\t\t);\n\t});\n\n\ttest('copy last line down', function () {\n\t\ttestCopyLinesDownCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(5, 3, 5, 1),\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(6, 3, 6, 1)\n\t\t);\n\t});\n\n\ttest('copy last line up', function () {\n\t\ttestCopyLinesUpCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(5, 3, 5, 1),\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(5, 3, 5, 1)\n\t\t);\n\t});\n\n\ttest('issue #1322: copy line up', function () {\n\t\ttestCopyLinesUpCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(3, 11, 3, 11),\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(3, 11, 3, 11)\n\t\t);\n\t});\n\n\ttest('issue #1322: copy last line up', function () {\n\t\ttestCopyLinesUpCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(5, 6, 5, 6),\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(5, 6, 5, 6)\n\t\t);\n\t});\n\n\ttest('copy many lines up', function () {\n\t\ttestCopyLinesUpCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(4, 3, 2, 1),\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(4, 3, 2, 1)\n\t\t);\n\t});\n\n\ttest('ignore empty selection', function () {\n\t\ttestCopyLinesUpCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(2, 1, 1, 1),\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(2, 1, 1, 1)\n\t\t);\n\t});\n});\n\nsuite('Editor Contrib - Duplicate Selection', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tconst duplicateSelectionAction = new DuplicateSelectionAction();\n\n\tfunction testDuplicateSelectionAction(lines: string[], selections: Selection[], expectedLines: string[], expectedSelections: Selection[]): void {\n\t\twithTestCodeEditor(lines.join('\\n'), {}, (editor) => {\n\t\t\teditor.setSelections(selections);\n\t\t\tduplicateSelectionAction.run(null!, editor, {});\n\t\t\tassert.deepStrictEqual(editor.getValue(), expectedLines.join('\\n'));\n\t\t\tassert.deepStrictEqual(editor.getSelections()!.map(s => s.toString()), expectedSelections.map(s => s.toString()));\n\t\t});\n\t}\n\n\ttest('empty selection', function () {\n\t\ttestDuplicateSelectionAction(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\t[new Selection(2, 2, 2, 2), new Selection(3, 2, 3, 2)],\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\t[new Selection(3, 2, 3, 2), new Selection(5, 2, 5, 2)]\n\t\t);\n\t});\n\n\ttest('with selection', function () {\n\t\ttestDuplicateSelectionAction(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\t[new Selection(2, 1, 2, 4), new Selection(3, 1, 3, 4)],\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'secsecond line',\n\t\t\t\t'thithird line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\t[new Selection(2, 4, 2, 7), new Selection(3, 4, 3, 7)]\n\t\t);\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../../../../../base/test/common/utils.js';\nimport { Selection } from '../../../../common/core/selection.js';\nimport { CopyLinesCommand } from '../../browser/copyLinesCommand.js';\nimport { DuplicateSelectionAction } from '../../browser/linesOperations.js';\nimport { withTestCodeEditor } from '../../../../test/browser/testCodeEditor.js';\nimport { testCommand } from '../../../../test/browser/testCommand.js';\n\nfunction testCopyLinesDownCommand(lines: string[], selection: Selection, expectedLines: string[], expectedSelection: Selection): void {\n\ttestCommand(lines, null, selection, (accessor, sel) => new CopyLinesCommand(sel, true), expectedLines, expectedSelection);\n}\n\nfunction testCopyLinesUpCommand(lines: string[], selection: Selection, expectedLines: string[], expectedSelection: Selection): void {\n\ttestCommand(lines, null, selection, (accessor, sel) => new CopyLinesCommand(sel, false), expectedLines, expectedSelection);\n}\n\nsuite('Editor Contrib - Copy Lines Command', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('copy first line down', function () {\n\t\ttestCopyLinesDownCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 3, 1, 1),\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(2, 3, 2, 1)\n\t\t);\n\t});\n\n\ttest('copy first line up', function () {\n\t\ttestCopyLinesUpCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 3, 1, 1),\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(1, 3, 1, 1)\n\t\t);\n\t});\n\n\ttest('copy last line down', function () {\n\t\ttestCopyLinesDownCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(5, 3, 5, 1),\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(6, 3, 6, 1)\n\t\t);\n\t});\n\n\ttest('copy last line up', function () {\n\t\ttestCopyLinesUpCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(5, 3, 5, 1),\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(5, 3, 5, 1)\n\t\t);\n\t});\n\n\ttest('issue #1322: copy line up', function () {\n\t\ttestCopyLinesUpCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(3, 11, 3, 11),\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(3, 11, 3, 11)\n\t\t);\n\t});\n\n\ttest('issue #1322: copy last line up', function () {\n\t\ttestCopyLinesUpCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(5, 6, 5, 6),\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(5, 6, 5, 6)\n\t\t);\n\t});\n\n\ttest('copy many lines up', function () {\n\t\ttestCopyLinesUpCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(4, 3, 2, 1),\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(4, 3, 2, 1)\n\t\t);\n\t});\n\n\ttest('ignore empty selection', function () {\n\t\ttestCopyLinesUpCommand(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(2, 1, 1, 1),\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\tnew Selection(2, 1, 1, 1)\n\t\t);\n\t});\n});\n\nsuite('Editor Contrib - Duplicate Selection', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tconst duplicateSelectionAction = new DuplicateSelectionAction();\n\n\tfunction testDuplicateSelectionAction(lines: string[], selections: Selection[], expectedLines: string[], expectedSelections: Selection[]): void {\n\t\twithTestCodeEditor(lines.join('\\n'), {}, (editor) => {\n\t\t\teditor.setSelections(selections);\n\t\t\tduplicateSelectionAction.run(null!, editor, {});\n\t\t\tassert.deepStrictEqual(editor.getValue(), expectedLines.join('\\n'));\n\t\t\tassert.deepStrictEqual(editor.getSelections()!.map(s => s.toString()), expectedSelections.map(s => s.toString()));\n\t\t});\n\t}\n\n\ttest('empty selection', function () {\n\t\ttestDuplicateSelectionAction(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\t[new Selection(2, 2, 2, 2), new Selection(3, 2, 3, 2)],\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\t[new Selection(3, 2, 3, 2), new Selection(5, 2, 5, 2)]\n\t\t);\n\t});\n\n\ttest('with selection', function () {\n\t\ttestDuplicateSelectionAction(\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'second line',\n\t\t\t\t'third line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\t[new Selection(2, 1, 2, 4), new Selection(3, 1, 3, 4)],\n\t\t\t[\n\t\t\t\t'first',\n\t\t\t\t'secsecond line',\n\t\t\t\t'thithird line',\n\t\t\t\t'fourth line',\n\t\t\t\t'fifth'\n\t\t\t],\n\t\t\t[new Selection(2, 4, 2, 7), new Selection(3, 4, 3, 7)]\n\t\t);\n\t});\n});\n"]}