{"version":3,"sources":["vs/code/node/cliProcessMain.ts"],"names":[],"mappings":"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","file":"cliProcessMain.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { setDefaultResultOrder } from 'dns';\nimport * as fs from 'fs';\nimport { hostname, release } from 'os';\nimport { raceTimeout } from '../../base/common/async.js';\nimport { toErrorMessage } from '../../base/common/errorMessage.js';\nimport { isSigPipeError, onUnexpectedError, setUnexpectedErrorHandler } from '../../base/common/errors.js';\nimport { Disposable } from '../../base/common/lifecycle.js';\nimport { Schemas } from '../../base/common/network.js';\nimport { isAbsolute, join } from '../../base/common/path.js';\nimport { isWindows, isMacintosh, isLinux } from '../../base/common/platform.js';\nimport { cwd } from '../../base/common/process.js';\nimport { URI } from '../../base/common/uri.js';\nimport { IConfigurationService } from '../../platform/configuration/common/configuration.js';\nimport { ConfigurationService } from '../../platform/configuration/common/configurationService.js';\nimport { IDownloadService } from '../../platform/download/common/download.js';\nimport { DownloadService } from '../../platform/download/common/downloadService.js';\nimport { NativeParsedArgs } from '../../platform/environment/common/argv.js';\nimport { INativeEnvironmentService } from '../../platform/environment/common/environment.js';\nimport { NativeEnvironmentService } from '../../platform/environment/node/environmentService.js';\nimport { ExtensionGalleryServiceWithNoStorageService } from '../../platform/extensionManagement/common/extensionGalleryService.js';\nimport { IAllowedExtensionsService, IExtensionGalleryService, InstallOptions } from '../../platform/extensionManagement/common/extensionManagement.js';\nimport { ExtensionSignatureVerificationService, IExtensionSignatureVerificationService } from '../../platform/extensionManagement/node/extensionSignatureVerificationService.js';\nimport { ExtensionManagementCLI } from '../../platform/extensionManagement/common/extensionManagementCLI.js';\nimport { IExtensionsProfileScannerService } from '../../platform/extensionManagement/common/extensionsProfileScannerService.js';\nimport { IExtensionsScannerService } from '../../platform/extensionManagement/common/extensionsScannerService.js';\nimport { ExtensionManagementService, INativeServerExtensionManagementService } from '../../platform/extensionManagement/node/extensionManagementService.js';\nimport { ExtensionsScannerService } from '../../platform/extensionManagement/node/extensionsScannerService.js';\nimport { IFileService } from '../../platform/files/common/files.js';\nimport { FileService } from '../../platform/files/common/fileService.js';\nimport { DiskFileSystemProvider } from '../../platform/files/node/diskFileSystemProvider.js';\nimport { SyncDescriptor } from '../../platform/instantiation/common/descriptors.js';\nimport { IInstantiationService } from '../../platform/instantiation/common/instantiation.js';\nimport { InstantiationService } from '../../platform/instantiation/common/instantiationService.js';\nimport { ServiceCollection } from '../../platform/instantiation/common/serviceCollection.js';\nimport { ILanguagePackService } from '../../platform/languagePacks/common/languagePacks.js';\nimport { NativeLanguagePackService } from '../../platform/languagePacks/node/languagePacks.js';\nimport { ConsoleLogger, getLogLevel, ILogger, ILoggerService, ILogService, LogLevel } from '../../platform/log/common/log.js';\nimport { FilePolicyService } from '../../platform/policy/common/filePolicyService.js';\nimport { IPolicyService, NullPolicyService } from '../../platform/policy/common/policy.js';\nimport { NativePolicyService } from '../../platform/policy/node/nativePolicyService.js';\nimport product from '../../platform/product/common/product.js';\nimport { IProductService } from '../../platform/product/common/productService.js';\nimport { IRequestService } from '../../platform/request/common/request.js';\nimport { RequestService } from '../../platform/request/node/requestService.js';\nimport { SaveStrategy, StateReadonlyService } from '../../platform/state/node/stateService.js';\nimport { resolveCommonProperties } from '../../platform/telemetry/common/commonProperties.js';\nimport { ITelemetryService } from '../../platform/telemetry/common/telemetry.js';\nimport { ITelemetryServiceConfig, TelemetryService } from '../../platform/telemetry/common/telemetryService.js';\nimport { supportsTelemetry, NullTelemetryService, getPiiPathsFromEnvironment, isInternalTelemetry, ITelemetryAppender } from '../../platform/telemetry/common/telemetryUtils.js';\nimport { OneDataSystemAppender } from '../../platform/telemetry/node/1dsAppender.js';\nimport { buildTelemetryMessage } from '../../platform/telemetry/node/telemetry.js';\nimport { IUriIdentityService } from '../../platform/uriIdentity/common/uriIdentity.js';\nimport { UriIdentityService } from '../../platform/uriIdentity/common/uriIdentityService.js';\nimport { IUserDataProfile, IUserDataProfilesService } from '../../platform/userDataProfile/common/userDataProfile.js';\nimport { UserDataProfilesReadonlyService } from '../../platform/userDataProfile/node/userDataProfile.js';\nimport { resolveMachineId, resolveSqmId, resolveDevDeviceId } from '../../platform/telemetry/node/telemetryUtils.js';\nimport { ExtensionsProfileScannerService } from '../../platform/extensionManagement/node/extensionsProfileScannerService.js';\nimport { LogService } from '../../platform/log/common/logService.js';\nimport { LoggerService } from '../../platform/log/node/loggerService.js';\nimport { localize } from '../../nls.js';\nimport { FileUserDataProvider } from '../../platform/userData/common/fileUserDataProvider.js';\nimport { addUNCHostToAllowlist, getUNCHost } from '../../base/node/unc.js';\nimport { AllowedExtensionsService } from '../../platform/extensionManagement/common/allowedExtensionsService.js';\nimport { McpManagementCli } from '../../platform/mcp/common/mcpManagementCli.js';\nimport { IExtensionGalleryManifestService } from '../../platform/extensionManagement/common/extensionGalleryManifest.js';\nimport { ExtensionGalleryManifestService } from '../../platform/extensionManagement/common/extensionGalleryManifestService.js';\nimport { IAllowedMcpServersService, IMcpGalleryService, IMcpManagementService } from '../../platform/mcp/common/mcpManagement.js';\nimport { McpManagementService } from '../../platform/mcp/node/mcpManagementService.js';\nimport { IMcpResourceScannerService, McpResourceScannerService } from '../../platform/mcp/common/mcpResourceScannerService.js';\nimport { McpGalleryService } from '../../platform/mcp/common/mcpGalleryService.js';\nimport { AllowedMcpServersService } from '../../platform/mcp/common/allowedMcpServersService.js';\nimport { IMcpGalleryManifestService } from '../../platform/mcp/common/mcpGalleryManifest.js';\nimport { McpGalleryManifestService } from '../../platform/mcp/common/mcpGalleryManifestService.js';\nimport { LINUX_SYSTEM_POLICY_FILE_PATH } from '../../base/common/policy.js';\n\nclass CliMain extends Disposable {\n\n\tconstructor(\n\t\tprivate argv: NativeParsedArgs\n\t) {\n\t\tsuper();\n\n\t\tthis.registerListeners();\n\t}\n\n\tprivate registerListeners(): void {\n\n\t\t// Dispose on exit\n\t\tprocess.once('exit', () => this.dispose());\n\t}\n\n\tasync run(): Promise<void> {\n\n\t\t// Services\n\t\tconst [instantiationService, appenders] = await this.initServices();\n\n\t\treturn instantiationService.invokeFunction(async accessor => {\n\t\t\tconst logService = accessor.get(ILogService);\n\t\t\tconst fileService = accessor.get(IFileService);\n\t\t\tconst environmentService = accessor.get(INativeEnvironmentService);\n\t\t\tconst userDataProfilesService = accessor.get(IUserDataProfilesService);\n\n\t\t\t// Log info\n\t\t\tlogService.info('CLI main', this.argv);\n\n\t\t\t// Error handler\n\t\t\tthis.registerErrorHandler(logService);\n\n\t\t\t// DNS result order\n\t\t\t// Refs https://github.com/microsoft/vscode/issues/264136\n\t\t\tsetDefaultResultOrder('ipv4first');\n\n\t\t\t// Run based on argv\n\t\t\tawait this.doRun(environmentService, fileService, userDataProfilesService, instantiationService);\n\n\t\t\t// Flush the remaining data in AI adapter (with 1s timeout)\n\t\t\tawait Promise.all(appenders.map(a => {\n\t\t\t\traceTimeout(a.flush(), 1000);\n\t\t\t}));\n\t\t\treturn;\n\t\t});\n\t}\n\n\tprivate async initServices(): Promise<[IInstantiationService, ITelemetryAppender[]]> {\n\t\tconst services = new ServiceCollection();\n\n\t\t// Product\n\t\tconst productService = { _serviceBrand: undefined, ...product };\n\t\tservices.set(IProductService, productService);\n\n\t\t// Environment\n\t\tconst environmentService = new NativeEnvironmentService(this.argv, productService);\n\t\tservices.set(INativeEnvironmentService, environmentService);\n\n\t\t// Init folders\n\t\tawait Promise.all([\n\t\t\tthis.allowWindowsUNCPath(environmentService.appSettingsHome.with({ scheme: Schemas.file }).fsPath),\n\t\t\tthis.allowWindowsUNCPath(environmentService.extensionsPath)\n\t\t].map(path => path ? fs.promises.mkdir(path, { recursive: true }) : undefined));\n\n\t\t// Logger\n\t\tconst loggerService = new LoggerService(getLogLevel(environmentService), environmentService.logsHome);\n\t\tservices.set(ILoggerService, loggerService);\n\n\t\t// Log\n\t\tconst logger = this._register(loggerService.createLogger('cli', { name: localize('cli', \"CLI\") }));\n\t\tconst otherLoggers: ILogger[] = [];\n\t\tif (loggerService.getLogLevel() === LogLevel.Trace) {\n\t\t\totherLoggers.push(new ConsoleLogger(loggerService.getLogLevel()));\n\t\t}\n\n\t\tconst logService = this._register(new LogService(logger, otherLoggers));\n\t\tservices.set(ILogService, logService);\n\n\t\t// Files\n\t\tconst fileService = this._register(new FileService(logService));\n\t\tservices.set(IFileService, fileService);\n\n\t\tconst diskFileSystemProvider = this._register(new DiskFileSystemProvider(logService));\n\t\tfileService.registerProvider(Schemas.file, diskFileSystemProvider);\n\n\t\t// Uri Identity\n\t\tconst uriIdentityService = new UriIdentityService(fileService);\n\t\tservices.set(IUriIdentityService, uriIdentityService);\n\n\t\t// User Data Profiles\n\t\tconst stateService = new StateReadonlyService(SaveStrategy.DELAYED, environmentService, logService, fileService);\n\t\tconst userDataProfilesService = new UserDataProfilesReadonlyService(stateService, uriIdentityService, environmentService, fileService, logService);\n\t\tservices.set(IUserDataProfilesService, userDataProfilesService);\n\n\t\t// Use FileUserDataProvider for user data to\n\t\t// enable atomic read / write operations.\n\t\tfileService.registerProvider(Schemas.vscodeUserData, new FileUserDataProvider(Schemas.file, diskFileSystemProvider, Schemas.vscodeUserData, userDataProfilesService, uriIdentityService, logService));\n\n\t\t// Policy\n\t\tlet policyService: IPolicyService | undefined;\n\t\tif (isWindows && productService.win32RegValueName) {\n\t\t\tpolicyService = this._register(new NativePolicyService(logService, productService.win32RegValueName));\n\t\t} else if (isMacintosh && productService.darwinBundleIdentifier) {\n\t\t\tpolicyService = this._register(new NativePolicyService(logService, productService.darwinBundleIdentifier));\n\t\t} else if (isLinux) {\n\t\t\tpolicyService = this._register(new FilePolicyService(URI.file(LINUX_SYSTEM_POLICY_FILE_PATH), fileService, logService));\n\t\t} else if (environmentService.policyFile) {\n\t\t\tpolicyService = this._register(new FilePolicyService(environmentService.policyFile, fileService, logService));\n\t\t} else {\n\t\t\tpolicyService = new NullPolicyService();\n\t\t}\n\t\tservices.set(IPolicyService, policyService);\n\n\t\t// Configuration\n\t\tconst configurationService = this._register(new ConfigurationService(userDataProfilesService.defaultProfile.settingsResource, fileService, policyService, logService));\n\t\tservices.set(IConfigurationService, configurationService);\n\n\t\t// Initialize\n\t\tawait Promise.all([\n\t\t\tstateService.init(),\n\t\t\tconfigurationService.initialize()\n\t\t]);\n\n\t\t// Get machine ID\n\t\tlet machineId: string | undefined = undefined;\n\t\ttry {\n\t\t\tmachineId = await resolveMachineId(stateService, logService);\n\t\t} catch (error) {\n\t\t\tif (error.code !== 'ENOENT') {\n\t\t\t\tlogService.error(error);\n\t\t\t}\n\t\t}\n\t\tconst sqmId = await resolveSqmId(stateService, logService);\n\t\tconst devDeviceId = await resolveDevDeviceId(stateService, logService);\n\n\t\t// Initialize user data profiles after initializing the state\n\t\tuserDataProfilesService.init();\n\n\t\t// URI Identity\n\t\tservices.set(IUriIdentityService, new UriIdentityService(fileService));\n\n\t\t// Request\n\t\tconst requestService = new RequestService('local', configurationService, environmentService, logService);\n\t\tservices.set(IRequestService, requestService);\n\n\t\t// Download Service\n\t\tservices.set(IDownloadService, new SyncDescriptor(DownloadService, undefined, true));\n\n\t\t// Extensions\n\t\tservices.set(IExtensionsProfileScannerService, new SyncDescriptor(ExtensionsProfileScannerService, undefined, true));\n\t\tservices.set(IExtensionsScannerService, new SyncDescriptor(ExtensionsScannerService, undefined, true));\n\t\tservices.set(IExtensionSignatureVerificationService, new SyncDescriptor(ExtensionSignatureVerificationService, undefined, true));\n\t\tservices.set(IAllowedExtensionsService, new SyncDescriptor(AllowedExtensionsService, undefined, true));\n\t\tservices.set(INativeServerExtensionManagementService, new SyncDescriptor(ExtensionManagementService, undefined, true));\n\t\tservices.set(IExtensionGalleryManifestService, new SyncDescriptor(ExtensionGalleryManifestService));\n\t\tservices.set(IExtensionGalleryService, new SyncDescriptor(ExtensionGalleryServiceWithNoStorageService, undefined, true));\n\n\t\t// Localizations\n\t\tservices.set(ILanguagePackService, new SyncDescriptor(NativeLanguagePackService, undefined, false));\n\n\t\t// MCP\n\t\tservices.set(IAllowedMcpServersService, new SyncDescriptor(AllowedMcpServersService, undefined, true));\n\t\tservices.set(IMcpResourceScannerService, new SyncDescriptor(McpResourceScannerService, undefined, true));\n\t\tservices.set(IMcpGalleryManifestService, new SyncDescriptor(McpGalleryManifestService, undefined, true));\n\t\tservices.set(IMcpGalleryService, new SyncDescriptor(McpGalleryService, undefined, true));\n\t\tservices.set(IMcpManagementService, new SyncDescriptor(McpManagementService, undefined, true));\n\n\t\t// Telemetry\n\t\tconst appenders: ITelemetryAppender[] = [];\n\t\tconst isInternal = isInternalTelemetry(productService, configurationService);\n\t\tif (supportsTelemetry(productService, environmentService)) {\n\t\t\tif (productService.aiConfig?.ariaKey) {\n\t\t\t\tappenders.push(new OneDataSystemAppender(requestService, isInternal, 'monacoworkbench', null, productService.aiConfig.ariaKey));\n\t\t\t}\n\n\t\t\tconst config: ITelemetryServiceConfig = {\n\t\t\t\tappenders,\n\t\t\t\tsendErrorTelemetry: false,\n\t\t\t\tcommonProperties: resolveCommonProperties(release(), hostname(), process.arch, productService.commit, productService.version, machineId, sqmId, devDeviceId, isInternal, productService.date),\n\t\t\t\tpiiPaths: getPiiPathsFromEnvironment(environmentService)\n\t\t\t};\n\n\t\t\tservices.set(ITelemetryService, new SyncDescriptor(TelemetryService, [config], false));\n\n\t\t} else {\n\t\t\tservices.set(ITelemetryService, NullTelemetryService);\n\t\t}\n\n\t\treturn [new InstantiationService(services), appenders];\n\t}\n\n\tprivate allowWindowsUNCPath(path: string): string {\n\t\tif (isWindows) {\n\t\t\tconst host = getUNCHost(path);\n\t\t\tif (host) {\n\t\t\t\taddUNCHostToAllowlist(host);\n\t\t\t}\n\t\t}\n\n\t\treturn path;\n\t}\n\n\tprivate registerErrorHandler(logService: ILogService): void {\n\n\t\t// Install handler for unexpected errors\n\t\tsetUnexpectedErrorHandler(error => {\n\t\t\tconst message = toErrorMessage(error, true);\n\t\t\tif (!message) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlogService.error(`[uncaught exception in CLI]: ${message}`);\n\t\t});\n\n\t\t// Handle unhandled errors that can occur\n\t\tprocess.on('uncaughtException', err => {\n\t\t\tif (!isSigPipeError(err)) {\n\t\t\t\tonUnexpectedError(err);\n\t\t\t}\n\t\t});\n\t\tprocess.on('unhandledRejection', (reason: unknown) => onUnexpectedError(reason));\n\t}\n\n\tprivate async doRun(environmentService: INativeEnvironmentService, fileService: IFileService, userDataProfilesService: IUserDataProfilesService, instantiationService: IInstantiationService): Promise<void> {\n\t\tlet profile: IUserDataProfile | undefined = undefined;\n\t\tif (environmentService.args.profile) {\n\t\t\tprofile = userDataProfilesService.profiles.find(p => p.name === environmentService.args.profile);\n\t\t\tif (!profile) {\n\t\t\t\tthrow new Error(`Profile '${environmentService.args.profile}' not found.`);\n\t\t\t}\n\t\t}\n\t\tconst profileLocation = (profile ?? userDataProfilesService.defaultProfile).extensionsResource;\n\n\t\t// List Extensions\n\t\tif (this.argv['list-extensions']) {\n\t\t\treturn instantiationService.createInstance(ExtensionManagementCLI, new ConsoleLogger(LogLevel.Info, false)).listExtensions(!!this.argv['show-versions'], this.argv['category'], profileLocation);\n\t\t}\n\n\t\t// Install Extension\n\t\telse if (this.argv['install-extension'] || this.argv['install-builtin-extension']) {\n\t\t\tconst installOptions: InstallOptions = { isMachineScoped: !!this.argv['do-not-sync'], installPreReleaseVersion: !!this.argv['pre-release'], donotIncludePackAndDependencies: !!this.argv['do-not-include-pack-dependencies'], profileLocation };\n\t\t\treturn instantiationService.createInstance(ExtensionManagementCLI, new ConsoleLogger(LogLevel.Info, false)).installExtensions(this.asExtensionIdOrVSIX(this.argv['install-extension'] || []), this.asExtensionIdOrVSIX(this.argv['install-builtin-extension'] || []), installOptions, !!this.argv['force']);\n\t\t}\n\n\t\t// Uninstall Extension\n\t\telse if (this.argv['uninstall-extension']) {\n\t\t\treturn instantiationService.createInstance(ExtensionManagementCLI, new ConsoleLogger(LogLevel.Info, false)).uninstallExtensions(this.asExtensionIdOrVSIX(this.argv['uninstall-extension']), !!this.argv['force'], profileLocation);\n\t\t}\n\n\t\telse if (this.argv['update-extensions']) {\n\t\t\treturn instantiationService.createInstance(ExtensionManagementCLI, new ConsoleLogger(LogLevel.Info, false)).updateExtensions(profileLocation);\n\t\t}\n\n\t\t// Locate Extension\n\t\telse if (this.argv['locate-extension']) {\n\t\t\treturn instantiationService.createInstance(ExtensionManagementCLI, new ConsoleLogger(LogLevel.Info, false)).locateExtension(this.argv['locate-extension']);\n\t\t}\n\n\t\t// Install MCP server\n\t\telse if (this.argv['add-mcp']) {\n\t\t\treturn instantiationService.createInstance(McpManagementCli, new ConsoleLogger(LogLevel.Info, false)).addMcpDefinitions(this.argv['add-mcp']);\n\t\t}\n\n\t\t// Telemetry\n\t\telse if (this.argv['telemetry']) {\n\t\t\tconsole.log(await buildTelemetryMessage(environmentService.appRoot, environmentService.extensionsPath));\n\t\t}\n\t}\n\n\tprivate asExtensionIdOrVSIX(inputs: string[]): (string | URI)[] {\n\t\treturn inputs.map(input => /\\.vsix$/i.test(input) ? URI.file(isAbsolute(input) ? input : join(cwd(), input)) : input);\n\t}\n}\n\nexport async function main(argv: NativeParsedArgs): Promise<void> {\n\tconst cliMain = new CliMain(argv);\n\n\ttry {\n\t\tawait cliMain.run();\n\t} finally {\n\t\tcliMain.dispose();\n\t}\n}\n"]}