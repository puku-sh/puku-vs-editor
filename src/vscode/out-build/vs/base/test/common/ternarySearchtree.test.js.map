{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/base/test/common/ternarySearchtree.test.ts","vs/base/test/common/ternarySearchtree.test.ts"],"names":[],"mappings":"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","file":"ternarySearchtree.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { shuffle } from '../../common/arrays.js';\nimport { randomPath } from '../../common/extpath.js';\nimport { StopWatch } from '../../common/stopwatch.js';\nimport { ConfigKeysIterator, PathIterator, StringIterator, TernarySearchTree, UriIterator } from '../../common/ternarySearchTree.js';\nimport { URI } from '../../common/uri.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from './utils.js';\n\nsuite('Ternary Search Tree', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('PathIterator', () => {\n\t\tconst iter = new PathIterator();\n\t\titer.reset('file:///usr/bin/file.txt');\n\n\t\tassert.strictEqual(iter.value(), 'file:');\n\t\tassert.strictEqual(iter.hasNext(), true);\n\t\tassert.strictEqual(iter.cmp('file:'), 0);\n\t\tassert.ok(iter.cmp('a') < 0);\n\t\tassert.ok(iter.cmp('aile:') < 0);\n\t\tassert.ok(iter.cmp('z') > 0);\n\t\tassert.ok(iter.cmp('zile:') > 0);\n\n\t\titer.next();\n\t\tassert.strictEqual(iter.value(), 'usr');\n\t\tassert.strictEqual(iter.hasNext(), true);\n\n\t\titer.next();\n\t\tassert.strictEqual(iter.value(), 'bin');\n\t\tassert.strictEqual(iter.hasNext(), true);\n\n\t\titer.next();\n\t\tassert.strictEqual(iter.value(), 'file.txt');\n\t\tassert.strictEqual(iter.hasNext(), false);\n\n\t\titer.next();\n\t\tassert.strictEqual(iter.value(), '');\n\t\tassert.strictEqual(iter.hasNext(), false);\n\t\titer.next();\n\t\tassert.strictEqual(iter.value(), '');\n\t\tassert.strictEqual(iter.hasNext(), false);\n\n\t\t//\n\t\titer.reset('/foo/bar/');\n\t\tassert.strictEqual(iter.value(), 'foo');\n\t\tassert.strictEqual(iter.hasNext(), true);\n\n\t\titer.next();\n\t\tassert.strictEqual(iter.value(), 'bar');\n\t\tassert.strictEqual(iter.hasNext(), false);\n\t});\n\n\ttest('URIIterator', function () {\n\t\tconst iter = new UriIterator(() => false, () => false);\n\t\titer.reset(URI.parse('file:///usr/bin/file.txt'));\n\n\t\tassert.strictEqual(iter.value(), 'file');\n\t\t// assert.strictEqual(iter.cmp('FILE'), 0);\n\t\tassert.strictEqual(iter.cmp('file'), 0);\n\t\tassert.strictEqual(iter.hasNext(), true);\n\t\titer.next();\n\n\t\tassert.strictEqual(iter.value(), 'usr');\n\t\tassert.strictEqual(iter.hasNext(), true);\n\t\titer.next();\n\n\t\tassert.strictEqual(iter.value(), 'bin');\n\t\tassert.strictEqual(iter.hasNext(), true);\n\t\titer.next();\n\n\t\tassert.strictEqual(iter.value(), 'file.txt');\n\t\tassert.strictEqual(iter.hasNext(), false);\n\n\n\t\titer.reset(URI.parse('file://share/usr/bin/file.txt?foo'));\n\n\t\t// scheme\n\t\tassert.strictEqual(iter.value(), 'file');\n\t\t// assert.strictEqual(iter.cmp('FILE'), 0);\n\t\tassert.strictEqual(iter.cmp('file'), 0);\n\t\tassert.strictEqual(iter.hasNext(), true);\n\t\titer.next();\n\n\t\t// authority\n\t\tassert.strictEqual(iter.value(), 'share');\n\t\tassert.strictEqual(iter.cmp('SHARe'), 0);\n\t\tassert.strictEqual(iter.hasNext(), true);\n\t\titer.next();\n\n\t\t// path\n\t\tassert.strictEqual(iter.value(), 'usr');\n\t\tassert.strictEqual(iter.hasNext(), true);\n\t\titer.next();\n\n\t\t// path\n\t\tassert.strictEqual(iter.value(), 'bin');\n\t\tassert.strictEqual(iter.hasNext(), true);\n\t\titer.next();\n\n\t\t// path\n\t\tassert.strictEqual(iter.value(), 'file.txt');\n\t\tassert.strictEqual(iter.hasNext(), true);\n\t\titer.next();\n\n\t\t// query\n\t\tassert.strictEqual(iter.value(), 'foo');\n\t\tassert.strictEqual(iter.cmp('z') > 0, true);\n\t\tassert.strictEqual(iter.cmp('a') < 0, true);\n\t\tassert.strictEqual(iter.hasNext(), false);\n\t});\n\n\ttest('URIIterator - ignore query/fragment', function () {\n\t\tconst iter = new UriIterator(() => false, () => true);\n\t\titer.reset(URI.parse('file:///usr/bin/file.txt'));\n\n\t\tassert.strictEqual(iter.value(), 'file');\n\t\t// assert.strictEqual(iter.cmp('FILE'), 0);\n\t\tassert.strictEqual(iter.cmp('file'), 0);\n\t\tassert.strictEqual(iter.hasNext(), true);\n\t\titer.next();\n\n\t\tassert.strictEqual(iter.value(), 'usr');\n\t\tassert.strictEqual(iter.hasNext(), true);\n\t\titer.next();\n\n\t\tassert.strictEqual(iter.value(), 'bin');\n\t\tassert.strictEqual(iter.hasNext(), true);\n\t\titer.next();\n\n\t\tassert.strictEqual(iter.value(), 'file.txt');\n\t\tassert.strictEqual(iter.hasNext(), false);\n\n\n\t\titer.reset(URI.parse('file://share/usr/bin/file.txt?foo'));\n\n\t\t// scheme\n\t\tassert.strictEqual(iter.value(), 'file');\n\t\t// assert.strictEqual(iter.cmp('FILE'), 0);\n\t\tassert.strictEqual(iter.cmp('file'), 0);\n\t\tassert.strictEqual(iter.hasNext(), true);\n\t\titer.next();\n\n\t\t// authority\n\t\tassert.strictEqual(iter.value(), 'share');\n\t\tassert.strictEqual(iter.cmp('SHARe'), 0);\n\t\tassert.strictEqual(iter.hasNext(), true);\n\t\titer.next();\n\n\t\t// path\n\t\tassert.strictEqual(iter.value(), 'usr');\n\t\tassert.strictEqual(iter.hasNext(), true);\n\t\titer.next();\n\n\t\t// path\n\t\tassert.strictEqual(iter.value(), 'bin');\n\t\tassert.strictEqual(iter.hasNext(), true);\n\t\titer.next();\n\n\t\t// path\n\t\tassert.strictEqual(iter.value(), 'file.txt');\n\t\tassert.strictEqual(iter.hasNext(), false);\n\t});\n\n\tfunction assertTstDfs<E>(trie: TernarySearchTree<string, E>, ...elements: [string, E][]) {\n\n\t\tassert.ok(trie._isBalanced(), 'TST is not balanced');\n\n\t\tlet i = 0;\n\t\tfor (const [key, value] of trie) {\n\t\t\tconst expected = elements[i++];\n\t\t\tassert.ok(expected);\n\t\t\tassert.strictEqual(key, expected[0]);\n\t\t\tassert.strictEqual(value, expected[1]);\n\t\t}\n\n\t\tassert.strictEqual(i, elements.length);\n\n\t\tconst map = new Map<string, E>();\n\t\tfor (const [key, value] of elements) {\n\t\t\tmap.set(key, value);\n\t\t}\n\t\tmap.forEach((value, key) => {\n\t\t\tassert.strictEqual(trie.get(key), value);\n\t\t});\n\n\t\t// forEach\n\t\tlet forEachCount = 0;\n\t\ttrie.forEach((element, key) => {\n\t\t\tassert.strictEqual(element, map.get(key));\n\t\t\tforEachCount++;\n\t\t});\n\t\tassert.strictEqual(map.size, forEachCount);\n\n\t\t// iterator\n\t\tlet iterCount = 0;\n\t\tfor (const [key, value] of trie) {\n\t\t\tassert.strictEqual(value, map.get(key));\n\t\t\titerCount++;\n\t\t}\n\t\tassert.strictEqual(map.size, iterCount);\n\n\t}\n\n\ttest('TernarySearchTree - set', function () {\n\n\t\tlet trie = TernarySearchTree.forStrings<number>();\n\t\ttrie.set('foobar', 1);\n\t\ttrie.set('foobaz', 2);\n\n\t\tassertTstDfs(trie, ['foobar', 1], ['foobaz', 2]); // longer\n\n\t\ttrie = TernarySearchTree.forStrings<number>();\n\t\ttrie.set('foobar', 1);\n\t\ttrie.set('fooba', 2);\n\t\tassertTstDfs(trie, ['fooba', 2], ['foobar', 1]); // shorter\n\n\t\ttrie = TernarySearchTree.forStrings<number>();\n\t\ttrie.set('foo', 1);\n\t\ttrie.set('foo', 2);\n\t\tassertTstDfs(trie, ['foo', 2]);\n\n\t\ttrie = TernarySearchTree.forStrings<number>();\n\t\ttrie.set('foo', 1);\n\t\ttrie.set('foobar', 2);\n\t\ttrie.set('bar', 3);\n\t\ttrie.set('foob', 4);\n\t\ttrie.set('bazz', 5);\n\n\t\tassertTstDfs(trie,\n\t\t\t['bar', 3],\n\t\t\t['bazz', 5],\n\t\t\t['foo', 1],\n\t\t\t['foob', 4],\n\t\t\t['foobar', 2],\n\t\t);\n\t});\n\n\ttest('TernarySearchTree - set w/ undefined', function () {\n\n\t\tconst trie = TernarySearchTree.forStrings<any>();\n\t\ttrie.set('foobar', undefined);\n\t\ttrie.set('foobaz', 2);\n\n\t\tassert.strictEqual(trie.get('foobar'), undefined);\n\t\tassert.strictEqual(trie.get('foobaz'), 2);\n\t\tassert.strictEqual(trie.get('NOT HERE'), undefined);\n\n\t\tassert.ok(trie.has('foobaz'));\n\t\tassert.ok(trie.has('foobar'));\n\t\tassert.ok(!trie.has('NOT HERE'));\n\n\t\tassertTstDfs(trie, ['foobar', undefined], ['foobaz', 2]); // should check for undefined value\n\n\t\tconst oldValue = trie.set('foobar', 3);\n\t\tassert.strictEqual(oldValue, undefined);\n\t\tassert.strictEqual(trie.get('foobar'), 3);\n\t});\n\n\ttest('TernarySearchTree - findLongestMatch', function () {\n\n\t\tconst trie = TernarySearchTree.forStrings<number>();\n\t\ttrie.set('foo', 1);\n\t\ttrie.set('foobar', 2);\n\t\ttrie.set('foobaz', 3);\n\t\tassertTstDfs(trie, ['foo', 1], ['foobar', 2], ['foobaz', 3]);\n\n\t\tassert.strictEqual(trie.findSubstr('f'), undefined);\n\t\tassert.strictEqual(trie.findSubstr('z'), undefined);\n\t\tassert.strictEqual(trie.findSubstr('foo'), 1);\n\t\tassert.strictEqual(trie.findSubstr('foo'), 1);\n\t\tassert.strictEqual(trie.findSubstr('fooba'), 1);\n\t\tassert.strictEqual(trie.findSubstr('foobarr'), 2);\n\t\tassert.strictEqual(trie.findSubstr('foobazrr'), 3);\n\t});\n\n\ttest('TernarySearchTree - basics', function () {\n\t\tconst trie = new TernarySearchTree<string, number>(new StringIterator());\n\n\t\ttrie.set('foo', 1);\n\t\ttrie.set('bar', 2);\n\t\ttrie.set('foobar', 3);\n\t\tassertTstDfs(trie, ['bar', 2], ['foo', 1], ['foobar', 3]);\n\n\t\tassert.strictEqual(trie.get('foo'), 1);\n\t\tassert.strictEqual(trie.get('bar'), 2);\n\t\tassert.strictEqual(trie.get('foobar'), 3);\n\t\tassert.strictEqual(trie.get('foobaz'), undefined);\n\t\tassert.strictEqual(trie.get('foobarr'), undefined);\n\n\t\tassert.strictEqual(trie.findSubstr('fo'), undefined);\n\t\tassert.strictEqual(trie.findSubstr('foo'), 1);\n\t\tassert.strictEqual(trie.findSubstr('foooo'), 1);\n\n\n\t\ttrie.delete('foobar');\n\t\ttrie.delete('bar');\n\t\tassert.strictEqual(trie.get('foobar'), undefined);\n\t\tassert.strictEqual(trie.get('bar'), undefined);\n\n\t\ttrie.set('foobar', 17);\n\t\ttrie.set('barr', 18);\n\t\tassert.strictEqual(trie.get('foobar'), 17);\n\t\tassert.strictEqual(trie.get('barr'), 18);\n\t\tassert.strictEqual(trie.get('bar'), undefined);\n\t});\n\n\ttest('TernarySearchTree - delete & cleanup', function () {\n\t\t// normal delete\n\t\tlet trie = new TernarySearchTree<string, number>(new StringIterator());\n\t\ttrie.set('foo', 1);\n\t\ttrie.set('foobar', 2);\n\t\ttrie.set('bar', 3);\n\t\tassertTstDfs(trie, ['bar', 3], ['foo', 1], ['foobar', 2]);\n\t\ttrie.delete('foo');\n\t\tassertTstDfs(trie, ['bar', 3], ['foobar', 2]);\n\t\ttrie.delete('foobar');\n\t\tassertTstDfs(trie, ['bar', 3]);\n\n\t\t// superstr-delete\n\t\ttrie = new TernarySearchTree<string, number>(new StringIterator());\n\t\ttrie.set('foo', 1);\n\t\ttrie.set('foobar', 2);\n\t\ttrie.set('bar', 3);\n\t\ttrie.set('foobarbaz', 4);\n\t\ttrie.deleteSuperstr('foo');\n\t\tassertTstDfs(trie, ['bar', 3], ['foo', 1]);\n\n\t\ttrie = new TernarySearchTree<string, number>(new StringIterator());\n\t\ttrie.set('foo', 1);\n\t\ttrie.set('foobar', 2);\n\t\ttrie.set('bar', 3);\n\t\ttrie.set('foobarbaz', 4);\n\t\ttrie.deleteSuperstr('fo');\n\t\tassertTstDfs(trie, ['bar', 3]);\n\n\t\t// trie = new TernarySearchTree<string, number>(new StringIterator());\n\t\t// trie.set('foo', 1);\n\t\t// trie.set('foobar', 2);\n\t\t// trie.set('bar', 3);\n\t\t// trie.deleteSuperStr('f');\n\t\t// assertTernarySearchTree(trie, ['bar', 3]);\n\t});\n\n\ttest('TernarySearchTree (PathSegments) - basics', function () {\n\t\tconst trie = new TernarySearchTree<string, number>(new PathIterator());\n\n\t\ttrie.set('/user/foo/bar', 1);\n\t\ttrie.set('/user/foo', 2);\n\t\ttrie.set('/user/foo/flip/flop', 3);\n\n\t\tassert.strictEqual(trie.get('/user/foo/bar'), 1);\n\t\tassert.strictEqual(trie.get('/user/foo'), 2);\n\t\tassert.strictEqual(trie.get('/user//foo'), 2);\n\t\tassert.strictEqual(trie.get('/user\\\\foo'), 2);\n\t\tassert.strictEqual(trie.get('/user/foo/flip/flop'), 3);\n\n\t\tassert.strictEqual(trie.findSubstr('/user/bar'), undefined);\n\t\tassert.strictEqual(trie.findSubstr('/user/foo'), 2);\n\t\tassert.strictEqual(trie.findSubstr('\\\\user\\\\foo'), 2);\n\t\tassert.strictEqual(trie.findSubstr('/user//foo'), 2);\n\t\tassert.strictEqual(trie.findSubstr('/user/foo/ba'), 2);\n\t\tassert.strictEqual(trie.findSubstr('/user/foo/far/boo'), 2);\n\t\tassert.strictEqual(trie.findSubstr('/user/foo/bar'), 1);\n\t\tassert.strictEqual(trie.findSubstr('/user/foo/bar/far/boo'), 1);\n\t});\n\n\ttest('TernarySearchTree - (AVL) set', function () {\n\t\t{\n\t\t\t// rotate left\n\t\t\tconst trie = new TernarySearchTree<string, number>(new PathIterator());\n\t\t\ttrie.set('/fileA', 1);\n\t\t\ttrie.set('/fileB', 2);\n\t\t\ttrie.set('/fileC', 3);\n\t\t\tassertTstDfs(trie, ['/fileA', 1], ['/fileB', 2], ['/fileC', 3]);\n\t\t}\n\n\t\t{\n\t\t\t// rotate left (inside middle)\n\t\t\tconst trie = new TernarySearchTree<string, number>(new PathIterator());\n\t\t\ttrie.set('/foo/fileA', 1);\n\t\t\ttrie.set('/foo/fileB', 2);\n\t\t\ttrie.set('/foo/fileC', 3);\n\t\t\tassertTstDfs(trie, ['/foo/fileA', 1], ['/foo/fileB', 2], ['/foo/fileC', 3]);\n\t\t}\n\n\t\t{\n\t\t\t// rotate right\n\t\t\tconst trie = new TernarySearchTree<string, number>(new PathIterator());\n\t\t\ttrie.set('/fileC', 3);\n\t\t\ttrie.set('/fileB', 2);\n\t\t\ttrie.set('/fileA', 1);\n\t\t\tassertTstDfs(trie, ['/fileA', 1], ['/fileB', 2], ['/fileC', 3]);\n\t\t}\n\n\t\t{\n\t\t\t// rotate right (inside middle)\n\t\t\tconst trie = new TernarySearchTree<string, number>(new PathIterator());\n\t\t\ttrie.set('/mid/fileC', 3);\n\t\t\ttrie.set('/mid/fileB', 2);\n\t\t\ttrie.set('/mid/fileA', 1);\n\t\t\tassertTstDfs(trie, ['/mid/fileA', 1], ['/mid/fileB', 2], ['/mid/fileC', 3]);\n\t\t}\n\n\t\t{\n\t\t\t// rotate right, left\n\t\t\tconst trie = new TernarySearchTree<string, number>(new PathIterator());\n\t\t\ttrie.set('/fileD', 7);\n\t\t\ttrie.set('/fileB', 2);\n\t\t\ttrie.set('/fileG', 42);\n\t\t\ttrie.set('/fileF', 24);\n\t\t\ttrie.set('/fileZ', 73);\n\t\t\ttrie.set('/fileE', 15);\n\t\t\tassertTstDfs(trie, ['/fileB', 2], ['/fileD', 7], ['/fileE', 15], ['/fileF', 24], ['/fileG', 42], ['/fileZ', 73]);\n\t\t}\n\n\t\t{\n\t\t\t// rotate left, right\n\t\t\tconst trie = new TernarySearchTree<string, number>(new PathIterator());\n\t\t\ttrie.set('/fileJ', 42);\n\t\t\ttrie.set('/fileZ', 73);\n\t\t\ttrie.set('/fileE', 15);\n\t\t\ttrie.set('/fileB', 2);\n\t\t\ttrie.set('/fileF', 7);\n\t\t\ttrie.set('/fileG', 1);\n\t\t\tassertTstDfs(trie, ['/fileB', 2], ['/fileE', 15], ['/fileF', 7], ['/fileG', 1], ['/fileJ', 42], ['/fileZ', 73]);\n\t\t}\n\t});\n\n\ttest('TernarySearchTree - (BST) delete', function () {\n\n\t\tconst trie = new TernarySearchTree<string, number>(new StringIterator());\n\n\t\t// delete root\n\t\ttrie.set('d', 1);\n\t\tassertTstDfs(trie, ['d', 1]);\n\t\ttrie.delete('d');\n\t\tassertTstDfs(trie);\n\n\t\t// delete node with two element\n\t\ttrie.clear();\n\t\ttrie.set('d', 1);\n\t\ttrie.set('b', 1);\n\t\ttrie.set('f', 1);\n\t\tassertTstDfs(trie, ['b', 1], ['d', 1], ['f', 1]);\n\t\ttrie.delete('d');\n\t\tassertTstDfs(trie, ['b', 1], ['f', 1]);\n\n\t\t// single child node\n\t\ttrie.clear();\n\t\ttrie.set('d', 1);\n\t\ttrie.set('b', 1);\n\t\ttrie.set('f', 1);\n\t\ttrie.set('e', 1);\n\t\tassertTstDfs(trie, ['b', 1], ['d', 1], ['e', 1], ['f', 1]);\n\t\ttrie.delete('f');\n\t\tassertTstDfs(trie, ['b', 1], ['d', 1], ['e', 1]);\n\t});\n\n\ttest('TernarySearchTree - (AVL) delete', function () {\n\n\t\tconst trie = new TernarySearchTree<string, number>(new StringIterator());\n\n\t\ttrie.clear();\n\t\ttrie.set('d', 1);\n\t\ttrie.set('b', 1);\n\t\ttrie.set('f', 1);\n\t\ttrie.set('e', 1);\n\t\ttrie.set('z', 1);\n\t\tassertTstDfs(trie, ['b', 1], ['d', 1], ['e', 1], ['f', 1], ['z', 1]);\n\n\t\t// right, right\n\t\ttrie.delete('b');\n\t\tassertTstDfs(trie, ['d', 1], ['e', 1], ['f', 1], ['z', 1]);\n\n\t\ttrie.clear();\n\t\ttrie.set('d', 1);\n\t\ttrie.set('c', 1);\n\t\ttrie.set('f', 1);\n\t\ttrie.set('a', 1);\n\t\ttrie.set('b', 1);\n\t\tassertTstDfs(trie, ['a', 1], ['b', 1], ['c', 1], ['d', 1], ['f', 1]);\n\n\t\t// left, left\n\t\ttrie.delete('f');\n\t\tassertTstDfs(trie, ['a', 1], ['b', 1], ['c', 1], ['d', 1]);\n\n\t\t// mid\n\t\ttrie.clear();\n\t\ttrie.set('a', 1);\n\t\ttrie.set('ad', 1);\n\t\ttrie.set('ab', 1);\n\t\ttrie.set('af', 1);\n\t\ttrie.set('ae', 1);\n\t\ttrie.set('az', 1);\n\t\tassertTstDfs(trie, ['a', 1], ['ab', 1], ['ad', 1], ['ae', 1], ['af', 1], ['az', 1]);\n\n\t\ttrie.delete('ab');\n\t\tassertTstDfs(trie, ['a', 1], ['ad', 1], ['ae', 1], ['af', 1], ['az', 1]);\n\n\t\ttrie.delete('a');\n\t\tassertTstDfs(trie, ['ad', 1], ['ae', 1], ['af', 1], ['az', 1]);\n\t});\n\n\ttest('TernarySearchTree: Cannot read property \\'1\\' of undefined #138284', function () {\n\n\t\tconst keys = [\n\t\t\tURI.parse('fake-fs:/C'),\n\t\t\tURI.parse('fake-fs:/A'),\n\t\t\tURI.parse('fake-fs:/D'),\n\t\t\tURI.parse('fake-fs:/B'),\n\t\t];\n\n\t\tconst tst = TernarySearchTree.forUris<boolean>();\n\n\t\tfor (const item of keys) {\n\t\t\ttst.set(item, true);\n\t\t}\n\n\t\tassert.ok(tst._isBalanced());\n\t\ttst.delete(keys[0]);\n\t\tassert.ok(tst._isBalanced());\n\t});\n\n\ttest('TernarySearchTree: Cannot read property \\'1\\' of undefined #138284 (simple)', function () {\n\n\t\tconst keys = ['C', 'A', 'D', 'B',];\n\t\tconst tst = TernarySearchTree.forStrings<boolean>();\n\t\tfor (const item of keys) {\n\t\t\ttst.set(item, true);\n\t\t}\n\t\tassertTstDfs(tst, ['A', true], ['B', true], ['C', true], ['D', true]);\n\n\t\ttst.delete(keys[0]);\n\t\tassertTstDfs(tst, ['A', true], ['B', true], ['D', true]);\n\n\t\t{\n\t\t\tconst tst = TernarySearchTree.forStrings<boolean>();\n\t\t\ttst.set('C', true);\n\t\t\ttst.set('A', true);\n\t\t\ttst.set('B', true);\n\t\t\tassertTstDfs(tst, ['A', true], ['B', true], ['C', true]);\n\t\t}\n\n\t});\n\n\ttest('TernarySearchTree: Cannot read property \\'1\\' of undefined #138284 (random)', function () {\n\t\tfor (let round = 10; round >= 0; round--) {\n\t\t\tconst keys: URI[] = [];\n\t\t\tfor (let i = 0; i < 100; i++) {\n\t\t\t\tkeys.push(URI.from({ scheme: 'fake-fs', path: randomPath(undefined, undefined, 10) }));\n\t\t\t}\n\t\t\tconst tst = TernarySearchTree.forUris<boolean>();\n\n\t\t\ttry {\n\t\t\t\tfor (const item of keys) {\n\t\t\t\t\ttst.set(item, true);\n\t\t\t\t\tassert.ok(tst._isBalanced(), `SET${item}|${keys.map(String).join()}`);\n\t\t\t\t}\n\n\t\t\t\tfor (const item of keys) {\n\t\t\t\t\ttst.delete(item);\n\t\t\t\t\tassert.ok(tst._isBalanced(), `DEL${item}|${keys.map(String).join()}`);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tassert.ok(false, `FAILED with keys: ${keys.map(String).join()}`);\n\t\t\t}\n\t\t}\n\t});\n\n\ttest('https://github.com/microsoft/vscode/issues/227147', function () {\n\n\t\tconst raw = `fake-fs:CAOnRvUuxO,fake-fs:1qcbfq54rg,fake-fs:UtDstYUQ56,fake-fs:d5ktqDysll,fake-fs:w5NSAKA4Ch,fake-fs:QcIIIY6WHX,fake-fs:WCedQu9Ogd,fake-fs:cKUC5LunBr,fake-fs:XrIIYjI3HB,fake-fs:xgTkoneFzF,fake-fs:QYkCVx2nYC,fake-fs:ePrIDEKEpJ,fake-fs:nrOPYCW81a,fake-fs:MQbkFLcDsA,fake-fs:wXG8YiOrBI,fake-fs:4tHTWi240D,fake-fs:5uQWjgZGGJ,fake-fs:famP6pZXyx,fake-fs:aB9sUhwP1J,fake-fs:DlS0CssyhG,fake-fs:9vK2k3rL2V,fake-fs:iqWeu7zF6t,fake-fs:8vC6bQX2WH,fake-fs:nFILXMQTRg,fake-fs:miiV72aajE,fake-fs:9VRbqvaw0q,fake-fs:WnEHS1arfZ,fake-fs:Fco75PJ5pM,fake-fs:6CsEpoZ7VW,fake-fs:B2PrCtDpWu,fake-fs:y8Hi94Oekg,fake-fs:wyEjPNa5lo,fake-fs:zw1Ljv0erc,fake-fs:y4KWPUOMx0,fake-fs:1basrPTlTp,fake-fs:5iErr4YM34,fake-fs:Q2TQaujh8Q,fake-fs:QxcYzNNxZw,fake-fs:3QUDHjU55a,fake-fs:23ymf9ggMV,fake-fs:qQhuKFdy29,fake-fs:JuwmxA33oJ,fake-fs:NQeUyfMNUo,fake-fs:2Vo3eR1jxM,fake-fs:NzUXQidwel,fake-fs:aESYKGPxIx,fake-fs:mxLdeJartN,fake-fs:PhSd2xLwVe,fake-fs:9nmWjUUMRz,fake-fs:Wc6a4RsGhn,fake-fs:5a0AlFHALQ,fake-fs:Q93jnNZBxJ,fake-fs:4CuVkbfPSG,fake-fs:mdFlJ7WQva,fake-fs:fgVsaRm1KG,fake-fs:P7UXWiRJYj,fake-fs:q6nz5Q9BEW,fake-fs:1UZmGkvNTn,fake-fs:AKY8cnUQFl,fake-fs:RezYuPU7FD,fake-fs:5zaYc72Bit,fake-fs:yh8FTxFfQq,fake-fs:ayNPgEuc2q,fake-fs:EdOb27cRhF,fake-fs:h4c2uNyI4l,fake-fs:BhzOLNL4JO,fake-fs:HVPTdAMWpS,fake-fs:7K7IlacaZe,fake-fs:iUKJonC5eq,fake-fs:Y9E3NX3eJD,fake-fs:66h80uK32I,fake-fs:gFXpry1Y09,fake-fs:qOqvvXPcu4,fake-fs:UbbLn2NFSJ,fake-fs:TzJ07HsAGz,fake-fs:nQngmvgx4m,fake-fs:6bZQCR8epb,fake-fs:xb3SJKX1bi,fake-fs:GF3DPK4zDj,fake-fs:HmxgAqEegt,fake-fs:yT2OAMQYal,fake-fs:MiVX4VYXHk,fake-fs:QMbsUbjJTI,fake-fs:KzAbDNsmPc,fake-fs:m6CGOwOcdT,fake-fs:0cyHx9zsA3,fake-fs:SIwjWfFLSY,fake-fs:uZSDXCEqLY,fake-fs:HuoTL3nK7k,fake-fs:oyoejYE0CI,fake-fs:56WLhiCxbz,fake-fs:SqYOi0z5sM,fake-fs:LZq3ei28Ez,fake-fs:pTc4pCtwk8,fake-fs:AAJSFf0RHS,fake-fs:up6EHkEbO9,fake-fs:GB1Pesdnxd,fake-fs:Oyvq4Z96S4,fake-fs:rYXrhklgf6,fake-fs:g1HdUkQziH`;\n\t\tconst keys: URI[] = raw.split(',').map(value => URI.parse(value, true));\n\n\n\t\tconst tst = TernarySearchTree.forUris<boolean>();\n\t\tfor (const item of keys) {\n\t\t\ttst.set(item, true);\n\t\t\tassert.ok(tst._isBalanced(), `SET${item}|${keys.map(String).join()}`);\n\t\t}\n\n\t\tconst lengthNow = Array.from(tst).length;\n\t\tassert.strictEqual(lengthNow, keys.length);\n\n\t\tconst keys2 = keys.slice(0);\n\n\t\tfor (const [index, item] of keys.entries()) {\n\t\t\ttst.delete(item);\n\t\t\tassert.ok(tst._isBalanced(), `DEL${item}|${keys.map(String).join()}`);\n\n\t\t\tconst idx = keys2.indexOf(item);\n\t\t\tassert.ok(idx >= 0);\n\t\t\tkeys2.splice(idx, 1);\n\n\t\t\tconst actualKeys = Array.from(tst).map(value => value[0]);\n\n\t\t\tassert.strictEqual(\n\t\t\t\tactualKeys.length,\n\t\t\t\tkeys2.length,\n\t\t\t\t`FAILED with ${index} -> ${item.toString()}\\nWANTED:${keys2.map(String).sort().join()}\\nACTUAL:${actualKeys.map(String).sort().join()}`\n\t\t\t);\n\t\t}\n\n\t\tassert.strictEqual(Array.from(tst).length, 0);\n\t});\n\n\ttest('TernarySearchTree: Cannot read properties of undefined (reading \\'length\\'): #161618 (simple)', function () {\n\t\tconst raw = 'config.debug.toolBarLocation,floating,config.editor.renderControlCharacters,true,config.editor.renderWhitespace,selection,config.files.autoSave,off,config.git.enabled,true,config.notebook.globalToolbar,true,config.terminal.integrated.tabs.enabled,true,config.terminal.integrated.tabs.showActions,singleTerminalOrNarrow,config.terminal.integrated.tabs.showActiveTerminal,singleTerminalOrNarrow,config.workbench.activityBar.visible,true,config.workbench.experimental.settingsProfiles.enabled,true,config.workbench.layoutControl.type,both,config.workbench.sideBar.location,left,config.workbench.statusBar.visible,true';\n\t\tconst array = raw.split(',');\n\t\tconst tuples: [string, string][] = [];\n\t\tfor (let i = 0; i < array.length; i += 2) {\n\t\t\ttuples.push([array[i], array[i + 1]]);\n\t\t}\n\n\t\tconst map = TernarySearchTree.forConfigKeys<string>();\n\t\tmap.fill(tuples);\n\n\t\tassert.strictEqual([...map].join(), raw);\n\t\tassert.ok(map.has('config.editor.renderWhitespace'));\n\n\t\tconst len = [...map].length;\n\t\tmap.delete('config.editor.renderWhitespace');\n\t\tassert.ok(map._isBalanced());\n\t\tassert.strictEqual([...map].length, len - 1);\n\t});\n\n\ttest('TernarySearchTree: Cannot read properties of undefined (reading \\'length\\'): #161618 (random)', function () {\n\t\tconst raw = 'config.debug.toolBarLocation,floating,config.editor.renderControlCharacters,true,config.editor.renderWhitespace,selection,config.files.autoSave,off,config.git.enabled,true,config.notebook.globalToolbar,true,config.terminal.integrated.tabs.enabled,true,config.terminal.integrated.tabs.showActions,singleTerminalOrNarrow,config.terminal.integrated.tabs.showActiveTerminal,singleTerminalOrNarrow,config.workbench.activityBar.visible,true,config.workbench.experimental.settingsProfiles.enabled,true,config.workbench.layoutControl.type,both,config.workbench.sideBar.location,left,config.workbench.statusBar.visible,true';\n\t\tconst array = raw.split(',');\n\t\tconst tuples: [string, string][] = [];\n\t\tfor (let i = 0; i < array.length; i += 2) {\n\t\t\ttuples.push([array[i], array[i + 1]]);\n\t\t}\n\n\t\tfor (let round = 100; round >= 0; round--) {\n\t\t\tshuffle(tuples);\n\t\t\tconst map = TernarySearchTree.forConfigKeys<string>();\n\t\t\tmap.fill(tuples);\n\n\t\t\tassert.strictEqual([...map].join(), raw);\n\t\t\tassert.ok(map.has('config.editor.renderWhitespace'));\n\n\t\t\tconst len = [...map].length;\n\t\t\tmap.delete('config.editor.renderWhitespace');\n\t\t\tassert.ok(map._isBalanced());\n\t\t\tassert.strictEqual([...map].length, len - 1);\n\t\t}\n\t});\n\n\ttest('TernarySearchTree (PathSegments) - lookup', function () {\n\n\t\tconst map = new TernarySearchTree<string, number>(new PathIterator());\n\t\tmap.set('/user/foo/bar', 1);\n\t\tmap.set('/user/foo', 2);\n\t\tmap.set('/user/foo/flip/flop', 3);\n\n\t\tassert.strictEqual(map.get('/foo'), undefined);\n\t\tassert.strictEqual(map.get('/user'), undefined);\n\t\tassert.strictEqual(map.get('/user/foo'), 2);\n\t\tassert.strictEqual(map.get('/user/foo/bar'), 1);\n\t\tassert.strictEqual(map.get('/user/foo/bar/boo'), undefined);\n\t});\n\n\ttest('TernarySearchTree (PathSegments) - superstr', function () {\n\n\t\tconst map = new TernarySearchTree<string, number>(new PathIterator());\n\t\tmap.set('/user/foo/bar', 1);\n\t\tmap.set('/user/foo', 2);\n\t\tmap.set('/user/foo/flip/flop', 3);\n\t\tmap.set('/usr/foo', 4);\n\n\t\tlet item: IteratorResult<[string, number]>;\n\t\tlet iter = map.findSuperstr('/user');\n\n\t\titem = iter!.next();\n\t\tassert.strictEqual(item.value[1], 2);\n\t\tassert.strictEqual(item.done, false);\n\t\titem = iter!.next();\n\t\tassert.strictEqual(item.value[1], 1);\n\t\tassert.strictEqual(item.done, false);\n\t\titem = iter!.next();\n\t\tassert.strictEqual(item.value[1], 3);\n\t\tassert.strictEqual(item.done, false);\n\t\titem = iter!.next();\n\t\tassert.strictEqual(item.value, undefined);\n\t\tassert.strictEqual(item.done, true);\n\n\t\titer = map.findSuperstr('/usr');\n\t\titem = iter!.next();\n\t\tassert.strictEqual(item.value[1], 4);\n\t\tassert.strictEqual(item.done, false);\n\n\t\titem = iter!.next();\n\t\tassert.strictEqual(item.value, undefined);\n\t\tassert.strictEqual(item.done, true);\n\n\t\tassert.strictEqual(map.findSuperstr('/not'), undefined);\n\t\tassert.strictEqual(map.findSuperstr('/us'), undefined);\n\t\tassert.strictEqual(map.findSuperstr('/usrr'), undefined);\n\t\tassert.strictEqual(map.findSuperstr('/userr'), undefined);\n\t});\n\n\n\ttest('TernarySearchTree (PathSegments) - delete_superstr', function () {\n\n\t\tconst map = new TernarySearchTree<string, number>(new PathIterator());\n\t\tmap.set('/user/foo/bar', 1);\n\t\tmap.set('/user/foo', 2);\n\t\tmap.set('/user/foo/flip/flop', 3);\n\t\tmap.set('/usr/foo', 4);\n\n\t\tassertTstDfs(map,\n\t\t\t['/user/foo', 2],\n\t\t\t['/user/foo/bar', 1],\n\t\t\t['/user/foo/flip/flop', 3],\n\t\t\t['/usr/foo', 4],\n\t\t);\n\n\t\t// not a segment\n\t\tmap.deleteSuperstr('/user/fo');\n\t\tassertTstDfs(map,\n\t\t\t['/user/foo', 2],\n\t\t\t['/user/foo/bar', 1],\n\t\t\t['/user/foo/flip/flop', 3],\n\t\t\t['/usr/foo', 4],\n\t\t);\n\n\t\t// delete a segment\n\t\tmap.set('/user/foo/bar', 1);\n\t\tmap.set('/user/foo', 2);\n\t\tmap.set('/user/foo/flip/flop', 3);\n\t\tmap.set('/usr/foo', 4);\n\t\tmap.deleteSuperstr('/user/foo');\n\t\tassertTstDfs(map,\n\t\t\t['/user/foo', 2],\n\t\t\t['/usr/foo', 4],\n\t\t);\n\t});\n\n\ttest('TernarySearchTree (URI) - basics', function () {\n\t\tconst trie = new TernarySearchTree<URI, number>(new UriIterator(() => false, () => false));\n\n\t\ttrie.set(URI.file('/user/foo/bar'), 1);\n\t\ttrie.set(URI.file('/user/foo'), 2);\n\t\ttrie.set(URI.file('/user/foo/flip/flop'), 3);\n\n\t\tassert.strictEqual(trie.get(URI.file('/user/foo/bar')), 1);\n\t\tassert.strictEqual(trie.get(URI.file('/user/foo')), 2);\n\t\tassert.strictEqual(trie.get(URI.file('/user/foo/flip/flop')), 3);\n\n\t\tassert.strictEqual(trie.findSubstr(URI.file('/user/bar')), undefined);\n\t\tassert.strictEqual(trie.findSubstr(URI.file('/user/foo')), 2);\n\t\tassert.strictEqual(trie.findSubstr(URI.file('/user/foo/ba')), 2);\n\t\tassert.strictEqual(trie.findSubstr(URI.file('/user/foo/far/boo')), 2);\n\t\tassert.strictEqual(trie.findSubstr(URI.file('/user/foo/bar')), 1);\n\t\tassert.strictEqual(trie.findSubstr(URI.file('/user/foo/bar/far/boo')), 1);\n\t});\n\n\ttest('TernarySearchTree (URI) - query parameters', function () {\n\t\tconst trie = new TernarySearchTree<URI, number>(new UriIterator(() => false, () => true));\n\t\tconst root = URI.parse('memfs:/?param=1');\n\t\ttrie.set(root, 1);\n\n\t\tassert.strictEqual(trie.get(URI.parse('memfs:/?param=1')), 1);\n\n\t\tassert.strictEqual(trie.findSubstr(URI.parse('memfs:/?param=1')), 1);\n\t\tassert.strictEqual(trie.findSubstr(URI.parse('memfs:/aaa?param=1')), 1);\n\t});\n\n\ttest('TernarySearchTree (URI) - lookup', function () {\n\n\t\tconst map = new TernarySearchTree<URI, number>(new UriIterator(() => false, () => false));\n\t\tmap.set(URI.parse('http://foo.bar/user/foo/bar'), 1);\n\t\tmap.set(URI.parse('http://foo.bar/user/foo?query'), 2);\n\t\tmap.set(URI.parse('http://foo.bar/user/foo?QUERY'), 3);\n\t\tmap.set(URI.parse('http://foo.bar/user/foo/flip/flop'), 3);\n\n\t\tassert.strictEqual(map.get(URI.parse('http://foo.bar/foo')), undefined);\n\t\tassert.strictEqual(map.get(URI.parse('http://foo.bar/user')), undefined);\n\t\tassert.strictEqual(map.get(URI.parse('http://foo.bar/user/foo/bar')), 1);\n\t\tassert.strictEqual(map.get(URI.parse('http://foo.bar/user/foo?query')), 2);\n\t\tassert.strictEqual(map.get(URI.parse('http://foo.bar/user/foo?Query')), undefined);\n\t\tassert.strictEqual(map.get(URI.parse('http://foo.bar/user/foo?QUERY')), 3);\n\t\tassert.strictEqual(map.get(URI.parse('http://foo.bar/user/foo/bar/boo')), undefined);\n\t});\n\n\ttest('TernarySearchTree (URI) - lookup, casing', function () {\n\n\t\tconst map = new TernarySearchTree<URI, number>(new UriIterator(uri => /^https?$/.test(uri.scheme), () => false));\n\t\tmap.set(URI.parse('http://foo.bar/user/foo/bar'), 1);\n\t\tassert.strictEqual(map.get(URI.parse('http://foo.bar/USER/foo/bar')), 1);\n\n\t\tmap.set(URI.parse('foo://foo.bar/user/foo/bar'), 1);\n\t\tassert.strictEqual(map.get(URI.parse('foo://foo.bar/USER/foo/bar')), undefined);\n\t});\n\n\ttest('TernarySearchTree (URI) - superstr', function () {\n\n\t\tconst map = new TernarySearchTree<URI, number>(new UriIterator(() => false, () => false));\n\t\tmap.set(URI.file('/user/foo/bar'), 1);\n\t\tmap.set(URI.file('/user/foo'), 2);\n\t\tmap.set(URI.file('/user/foo/flip/flop'), 3);\n\t\tmap.set(URI.file('/usr/foo'), 4);\n\n\t\tlet item: IteratorResult<[URI, number]>;\n\t\tlet iter = map.findSuperstr(URI.file('/user'))!;\n\n\t\titem = iter.next();\n\t\tassert.strictEqual(item.value[1], 2);\n\t\tassert.strictEqual(item.done, false);\n\t\titem = iter.next();\n\t\tassert.strictEqual(item.value[1], 1);\n\t\tassert.strictEqual(item.done, false);\n\t\titem = iter.next();\n\t\tassert.strictEqual(item.value[1], 3);\n\t\tassert.strictEqual(item.done, false);\n\t\titem = iter.next();\n\t\tassert.strictEqual(item.value, undefined);\n\t\tassert.strictEqual(item.done, true);\n\n\t\titer = map.findSuperstr(URI.file('/usr'))!;\n\t\titem = iter.next();\n\t\tassert.strictEqual(item.value[1], 4);\n\t\tassert.strictEqual(item.done, false);\n\n\t\titem = iter.next();\n\t\tassert.strictEqual(item.value, undefined);\n\t\tassert.strictEqual(item.done, true);\n\n\t\titer = map.findSuperstr(URI.file('/'))!;\n\t\titem = iter.next();\n\t\tassert.strictEqual(item.value[1], 2);\n\t\tassert.strictEqual(item.done, false);\n\t\titem = iter.next();\n\t\tassert.strictEqual(item.value[1], 1);\n\t\tassert.strictEqual(item.done, false);\n\t\titem = iter.next();\n\t\tassert.strictEqual(item.value[1], 3);\n\t\tassert.strictEqual(item.done, false);\n\t\titem = iter.next();\n\t\tassert.strictEqual(item.value[1], 4);\n\t\tassert.strictEqual(item.done, false);\n\t\titem = iter.next();\n\t\tassert.strictEqual(item.value, undefined);\n\t\tassert.strictEqual(item.done, true);\n\n\t\tassert.strictEqual(map.findSuperstr(URI.file('/not')), undefined);\n\t\tassert.strictEqual(map.findSuperstr(URI.file('/us')), undefined);\n\t\tassert.strictEqual(map.findSuperstr(URI.file('/usrr')), undefined);\n\t\tassert.strictEqual(map.findSuperstr(URI.file('/userr')), undefined);\n\t});\n\n\ttest('TernarySearchTree (ConfigKeySegments) - basics', function () {\n\t\tconst trie = new TernarySearchTree<string, number>(new ConfigKeysIterator());\n\n\t\ttrie.set('config.foo.bar', 1);\n\t\ttrie.set('config.foo', 2);\n\t\ttrie.set('config.foo.flip.flop', 3);\n\n\t\tassert.strictEqual(trie.get('config.foo.bar'), 1);\n\t\tassert.strictEqual(trie.get('config.foo'), 2);\n\t\tassert.strictEqual(trie.get('config.foo.flip.flop'), 3);\n\n\t\tassert.strictEqual(trie.findSubstr('config.bar'), undefined);\n\t\tassert.strictEqual(trie.findSubstr('config.foo'), 2);\n\t\tassert.strictEqual(trie.findSubstr('config.foo.ba'), 2);\n\t\tassert.strictEqual(trie.findSubstr('config.foo.far.boo'), 2);\n\t\tassert.strictEqual(trie.findSubstr('config.foo.bar'), 1);\n\t\tassert.strictEqual(trie.findSubstr('config.foo.bar.far.boo'), 1);\n\t});\n\n\ttest('TernarySearchTree (ConfigKeySegments) - lookup', function () {\n\n\t\tconst map = new TernarySearchTree<string, number>(new ConfigKeysIterator());\n\t\tmap.set('config.foo.bar', 1);\n\t\tmap.set('config.foo', 2);\n\t\tmap.set('config.foo.flip.flop', 3);\n\n\t\tassert.strictEqual(map.get('foo'), undefined);\n\t\tassert.strictEqual(map.get('config'), undefined);\n\t\tassert.strictEqual(map.get('config.foo'), 2);\n\t\tassert.strictEqual(map.get('config.foo.bar'), 1);\n\t\tassert.strictEqual(map.get('config.foo.bar.boo'), undefined);\n\t});\n\n\ttest('TernarySearchTree (ConfigKeySegments) - superstr', function () {\n\n\t\tconst map = new TernarySearchTree<string, number>(new ConfigKeysIterator());\n\t\tmap.set('config.foo.bar', 1);\n\t\tmap.set('config.foo', 2);\n\t\tmap.set('config.foo.flip.flop', 3);\n\t\tmap.set('boo', 4);\n\n\t\tlet item: IteratorResult<[string, number]>;\n\t\tconst iter = map.findSuperstr('config');\n\n\t\titem = iter!.next();\n\t\tassert.strictEqual(item.value[1], 2);\n\t\tassert.strictEqual(item.done, false);\n\t\titem = iter!.next();\n\t\tassert.strictEqual(item.value[1], 1);\n\t\tassert.strictEqual(item.done, false);\n\t\titem = iter!.next();\n\t\tassert.strictEqual(item.value[1], 3);\n\t\tassert.strictEqual(item.done, false);\n\t\titem = iter!.next();\n\t\tassert.strictEqual(item.value, undefined);\n\t\tassert.strictEqual(item.done, true);\n\n\t\tassert.strictEqual(map.findSuperstr('foo'), undefined);\n\t\tassert.strictEqual(map.findSuperstr('config.foo.no'), undefined);\n\t\tassert.strictEqual(map.findSuperstr('config.foop'), undefined);\n\t});\n\n\n\ttest('TernarySearchTree (ConfigKeySegments) - delete_superstr', function () {\n\n\t\tconst map = new TernarySearchTree<string, number>(new ConfigKeysIterator());\n\t\tmap.set('config.foo.bar', 1);\n\t\tmap.set('config.foo', 2);\n\t\tmap.set('config.foo.flip.flop', 3);\n\t\tmap.set('boo', 4);\n\n\t\tassertTstDfs(map,\n\t\t\t['boo', 4],\n\t\t\t['config.foo', 2],\n\t\t\t['config.foo.bar', 1],\n\t\t\t['config.foo.flip.flop', 3],\n\t\t);\n\n\t\t// not a segment\n\t\tmap.deleteSuperstr('config.fo');\n\t\tassertTstDfs(map,\n\t\t\t['boo', 4],\n\t\t\t['config.foo', 2],\n\t\t\t['config.foo.bar', 1],\n\t\t\t['config.foo.flip.flop', 3],\n\t\t);\n\n\t\t// delete a segment\n\t\tmap.set('config.foo.bar', 1);\n\t\tmap.set('config.foo', 2);\n\t\tmap.set('config.foo.flip.flop', 3);\n\t\tmap.set('config.boo', 4);\n\t\tmap.deleteSuperstr('config.foo');\n\t\tassertTstDfs(map,\n\t\t\t['boo', 4],\n\t\t\t['config.foo', 2],\n\t\t);\n\t});\n\n\ttest('TST, fill', function () {\n\t\tconst tst = TernarySearchTree.forStrings();\n\n\t\tconst keys = ['foo', 'bar', 'bang', 'bazz'];\n\t\tObject.freeze(keys);\n\t\ttst.fill(true, keys);\n\n\t\tfor (const key of keys) {\n\t\t\tassert.ok(tst.get(key), key);\n\t\t}\n\t});\n});\n\n\nsuite.skip('TST, perf', function () {\n\n\tfunction createRandomUris(n: number): URI[] {\n\t\tconst uris: URI[] = [];\n\t\tfunction randomWord(): string {\n\t\t\tlet result = '';\n\t\t\tconst length = 4 + Math.floor(Math.random() * 4);\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tresult += (Math.random() * 26 + 65).toString(36);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\t// generate 10000 random words\n\t\tconst words: string[] = [];\n\t\tfor (let i = 0; i < 10000; i++) {\n\t\t\twords.push(randomWord());\n\t\t}\n\n\t\tfor (let i = 0; i < n; i++) {\n\n\t\t\tlet len = 4 + Math.floor(Math.random() * 4);\n\n\t\t\tconst segments: string[] = [];\n\t\t\tfor (; len >= 0; len--) {\n\t\t\t\tsegments.push(words[Math.floor(Math.random() * words.length)]);\n\t\t\t}\n\n\t\t\turis.push(URI.from({ scheme: 'file', path: segments.join('/') }));\n\t\t}\n\n\t\treturn uris;\n\t}\n\n\tlet tree: TernarySearchTree<URI, boolean>;\n\tlet sampleUris: URI[] = [];\n\tlet candidates: URI[] = [];\n\n\tsuiteSetup(() => {\n\t\tconst len = 50_000;\n\t\tsampleUris = createRandomUris(len);\n\t\tcandidates = [...sampleUris.slice(0, len / 2), ...createRandomUris(len / 2)];\n\t\tshuffle(candidates);\n\t});\n\n\tsetup(() => {\n\t\ttree = TernarySearchTree.forUris();\n\t\tfor (const uri of sampleUris) {\n\t\t\ttree.set(uri, true);\n\t\t}\n\t});\n\n\tconst _profile = false;\n\n\tfunction perfTest(name: string, callback: Function) {\n\t\ttest(name, function () {\n\t\t\tif (_profile) { console.profile(name); }\n\t\t\tconst sw = new StopWatch();\n\t\t\tcallback();\n\t\t\tconsole.log(name, sw.elapsed());\n\t\t\tif (_profile) { console.profileEnd(); }\n\t\t});\n\t}\n\n\tperfTest('TST, clear', function () {\n\t\ttree.clear();\n\t});\n\n\tperfTest('TST, insert', function () {\n\t\tconst insertTree = TernarySearchTree.forUris();\n\t\tfor (const uri of sampleUris) {\n\t\t\tinsertTree.set(uri, true);\n\t\t}\n\t});\n\n\tperfTest('TST, lookup', function () {\n\t\tlet match = 0;\n\t\tfor (const candidate of candidates) {\n\t\t\tif (tree.has(candidate)) {\n\t\t\t\tmatch += 1;\n\t\t\t}\n\t\t}\n\t\tassert.strictEqual(match, sampleUris.length / 2);\n\t});\n\n\tperfTest('TST, substr', function () {\n\t\tlet match = 0;\n\t\tfor (const candidate of candidates) {\n\t\t\tif (tree.findSubstr(candidate)) {\n\t\t\t\tmatch += 1;\n\t\t\t}\n\t\t}\n\t\tassert.strictEqual(match, sampleUris.length / 2);\n\t});\n\n\tperfTest('TST, superstr', function () {\n\t\tfor (const candidate of candidates) {\n\t\t\ttree.findSuperstr(candidate);\n\t\t}\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { shuffle } from '../../common/arrays.js';\nimport { randomPath } from '../../common/extpath.js';\nimport { StopWatch } from '../../common/stopwatch.js';\nimport { ConfigKeysIterator, PathIterator, StringIterator, TernarySearchTree, UriIterator } from '../../common/ternarySearchTree.js';\nimport { URI } from '../../common/uri.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from './utils.js';\n\nsuite('Ternary Search Tree', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('PathIterator', () => {\n\t\tconst iter = new PathIterator();\n\t\titer.reset('file:///usr/bin/file.txt');\n\n\t\tassert.strictEqual(iter.value(), 'file:');\n\t\tassert.strictEqual(iter.hasNext(), true);\n\t\tassert.strictEqual(iter.cmp('file:'), 0);\n\t\tassert.ok(iter.cmp('a') < 0);\n\t\tassert.ok(iter.cmp('aile:') < 0);\n\t\tassert.ok(iter.cmp('z') > 0);\n\t\tassert.ok(iter.cmp('zile:') > 0);\n\n\t\titer.next();\n\t\tassert.strictEqual(iter.value(), 'usr');\n\t\tassert.strictEqual(iter.hasNext(), true);\n\n\t\titer.next();\n\t\tassert.strictEqual(iter.value(), 'bin');\n\t\tassert.strictEqual(iter.hasNext(), true);\n\n\t\titer.next();\n\t\tassert.strictEqual(iter.value(), 'file.txt');\n\t\tassert.strictEqual(iter.hasNext(), false);\n\n\t\titer.next();\n\t\tassert.strictEqual(iter.value(), '');\n\t\tassert.strictEqual(iter.hasNext(), false);\n\t\titer.next();\n\t\tassert.strictEqual(iter.value(), '');\n\t\tassert.strictEqual(iter.hasNext(), false);\n\n\t\t//\n\t\titer.reset('/foo/bar/');\n\t\tassert.strictEqual(iter.value(), 'foo');\n\t\tassert.strictEqual(iter.hasNext(), true);\n\n\t\titer.next();\n\t\tassert.strictEqual(iter.value(), 'bar');\n\t\tassert.strictEqual(iter.hasNext(), false);\n\t});\n\n\ttest('URIIterator', function () {\n\t\tconst iter = new UriIterator(() => false, () => false);\n\t\titer.reset(URI.parse('file:///usr/bin/file.txt'));\n\n\t\tassert.strictEqual(iter.value(), 'file');\n\t\t// assert.strictEqual(iter.cmp('FILE'), 0);\n\t\tassert.strictEqual(iter.cmp('file'), 0);\n\t\tassert.strictEqual(iter.hasNext(), true);\n\t\titer.next();\n\n\t\tassert.strictEqual(iter.value(), 'usr');\n\t\tassert.strictEqual(iter.hasNext(), true);\n\t\titer.next();\n\n\t\tassert.strictEqual(iter.value(), 'bin');\n\t\tassert.strictEqual(iter.hasNext(), true);\n\t\titer.next();\n\n\t\tassert.strictEqual(iter.value(), 'file.txt');\n\t\tassert.strictEqual(iter.hasNext(), false);\n\n\n\t\titer.reset(URI.parse('file://share/usr/bin/file.txt?foo'));\n\n\t\t// scheme\n\t\tassert.strictEqual(iter.value(), 'file');\n\t\t// assert.strictEqual(iter.cmp('FILE'), 0);\n\t\tassert.strictEqual(iter.cmp('file'), 0);\n\t\tassert.strictEqual(iter.hasNext(), true);\n\t\titer.next();\n\n\t\t// authority\n\t\tassert.strictEqual(iter.value(), 'share');\n\t\tassert.strictEqual(iter.cmp('SHARe'), 0);\n\t\tassert.strictEqual(iter.hasNext(), true);\n\t\titer.next();\n\n\t\t// path\n\t\tassert.strictEqual(iter.value(), 'usr');\n\t\tassert.strictEqual(iter.hasNext(), true);\n\t\titer.next();\n\n\t\t// path\n\t\tassert.strictEqual(iter.value(), 'bin');\n\t\tassert.strictEqual(iter.hasNext(), true);\n\t\titer.next();\n\n\t\t// path\n\t\tassert.strictEqual(iter.value(), 'file.txt');\n\t\tassert.strictEqual(iter.hasNext(), true);\n\t\titer.next();\n\n\t\t// query\n\t\tassert.strictEqual(iter.value(), 'foo');\n\t\tassert.strictEqual(iter.cmp('z') > 0, true);\n\t\tassert.strictEqual(iter.cmp('a') < 0, true);\n\t\tassert.strictEqual(iter.hasNext(), false);\n\t});\n\n\ttest('URIIterator - ignore query/fragment', function () {\n\t\tconst iter = new UriIterator(() => false, () => true);\n\t\titer.reset(URI.parse('file:///usr/bin/file.txt'));\n\n\t\tassert.strictEqual(iter.value(), 'file');\n\t\t// assert.strictEqual(iter.cmp('FILE'), 0);\n\t\tassert.strictEqual(iter.cmp('file'), 0);\n\t\tassert.strictEqual(iter.hasNext(), true);\n\t\titer.next();\n\n\t\tassert.strictEqual(iter.value(), 'usr');\n\t\tassert.strictEqual(iter.hasNext(), true);\n\t\titer.next();\n\n\t\tassert.strictEqual(iter.value(), 'bin');\n\t\tassert.strictEqual(iter.hasNext(), true);\n\t\titer.next();\n\n\t\tassert.strictEqual(iter.value(), 'file.txt');\n\t\tassert.strictEqual(iter.hasNext(), false);\n\n\n\t\titer.reset(URI.parse('file://share/usr/bin/file.txt?foo'));\n\n\t\t// scheme\n\t\tassert.strictEqual(iter.value(), 'file');\n\t\t// assert.strictEqual(iter.cmp('FILE'), 0);\n\t\tassert.strictEqual(iter.cmp('file'), 0);\n\t\tassert.strictEqual(iter.hasNext(), true);\n\t\titer.next();\n\n\t\t// authority\n\t\tassert.strictEqual(iter.value(), 'share');\n\t\tassert.strictEqual(iter.cmp('SHARe'), 0);\n\t\tassert.strictEqual(iter.hasNext(), true);\n\t\titer.next();\n\n\t\t// path\n\t\tassert.strictEqual(iter.value(), 'usr');\n\t\tassert.strictEqual(iter.hasNext(), true);\n\t\titer.next();\n\n\t\t// path\n\t\tassert.strictEqual(iter.value(), 'bin');\n\t\tassert.strictEqual(iter.hasNext(), true);\n\t\titer.next();\n\n\t\t// path\n\t\tassert.strictEqual(iter.value(), 'file.txt');\n\t\tassert.strictEqual(iter.hasNext(), false);\n\t});\n\n\tfunction assertTstDfs<E>(trie: TernarySearchTree<string, E>, ...elements: [string, E][]) {\n\n\t\tassert.ok(trie._isBalanced(), 'TST is not balanced');\n\n\t\tlet i = 0;\n\t\tfor (const [key, value] of trie) {\n\t\t\tconst expected = elements[i++];\n\t\t\tassert.ok(expected);\n\t\t\tassert.strictEqual(key, expected[0]);\n\t\t\tassert.strictEqual(value, expected[1]);\n\t\t}\n\n\t\tassert.strictEqual(i, elements.length);\n\n\t\tconst map = new Map<string, E>();\n\t\tfor (const [key, value] of elements) {\n\t\t\tmap.set(key, value);\n\t\t}\n\t\tmap.forEach((value, key) => {\n\t\t\tassert.strictEqual(trie.get(key), value);\n\t\t});\n\n\t\t// forEach\n\t\tlet forEachCount = 0;\n\t\ttrie.forEach((element, key) => {\n\t\t\tassert.strictEqual(element, map.get(key));\n\t\t\tforEachCount++;\n\t\t});\n\t\tassert.strictEqual(map.size, forEachCount);\n\n\t\t// iterator\n\t\tlet iterCount = 0;\n\t\tfor (const [key, value] of trie) {\n\t\t\tassert.strictEqual(value, map.get(key));\n\t\t\titerCount++;\n\t\t}\n\t\tassert.strictEqual(map.size, iterCount);\n\n\t}\n\n\ttest('TernarySearchTree - set', function () {\n\n\t\tlet trie = TernarySearchTree.forStrings<number>();\n\t\ttrie.set('foobar', 1);\n\t\ttrie.set('foobaz', 2);\n\n\t\tassertTstDfs(trie, ['foobar', 1], ['foobaz', 2]); // longer\n\n\t\ttrie = TernarySearchTree.forStrings<number>();\n\t\ttrie.set('foobar', 1);\n\t\ttrie.set('fooba', 2);\n\t\tassertTstDfs(trie, ['fooba', 2], ['foobar', 1]); // shorter\n\n\t\ttrie = TernarySearchTree.forStrings<number>();\n\t\ttrie.set('foo', 1);\n\t\ttrie.set('foo', 2);\n\t\tassertTstDfs(trie, ['foo', 2]);\n\n\t\ttrie = TernarySearchTree.forStrings<number>();\n\t\ttrie.set('foo', 1);\n\t\ttrie.set('foobar', 2);\n\t\ttrie.set('bar', 3);\n\t\ttrie.set('foob', 4);\n\t\ttrie.set('bazz', 5);\n\n\t\tassertTstDfs(trie,\n\t\t\t['bar', 3],\n\t\t\t['bazz', 5],\n\t\t\t['foo', 1],\n\t\t\t['foob', 4],\n\t\t\t['foobar', 2],\n\t\t);\n\t});\n\n\ttest('TernarySearchTree - set w/ undefined', function () {\n\n\t\tconst trie = TernarySearchTree.forStrings<any>();\n\t\ttrie.set('foobar', undefined);\n\t\ttrie.set('foobaz', 2);\n\n\t\tassert.strictEqual(trie.get('foobar'), undefined);\n\t\tassert.strictEqual(trie.get('foobaz'), 2);\n\t\tassert.strictEqual(trie.get('NOT HERE'), undefined);\n\n\t\tassert.ok(trie.has('foobaz'));\n\t\tassert.ok(trie.has('foobar'));\n\t\tassert.ok(!trie.has('NOT HERE'));\n\n\t\tassertTstDfs(trie, ['foobar', undefined], ['foobaz', 2]); // should check for undefined value\n\n\t\tconst oldValue = trie.set('foobar', 3);\n\t\tassert.strictEqual(oldValue, undefined);\n\t\tassert.strictEqual(trie.get('foobar'), 3);\n\t});\n\n\ttest('TernarySearchTree - findLongestMatch', function () {\n\n\t\tconst trie = TernarySearchTree.forStrings<number>();\n\t\ttrie.set('foo', 1);\n\t\ttrie.set('foobar', 2);\n\t\ttrie.set('foobaz', 3);\n\t\tassertTstDfs(trie, ['foo', 1], ['foobar', 2], ['foobaz', 3]);\n\n\t\tassert.strictEqual(trie.findSubstr('f'), undefined);\n\t\tassert.strictEqual(trie.findSubstr('z'), undefined);\n\t\tassert.strictEqual(trie.findSubstr('foo'), 1);\n\t\tassert.strictEqual(trie.findSubstr('foo'), 1);\n\t\tassert.strictEqual(trie.findSubstr('fooba'), 1);\n\t\tassert.strictEqual(trie.findSubstr('foobarr'), 2);\n\t\tassert.strictEqual(trie.findSubstr('foobazrr'), 3);\n\t});\n\n\ttest('TernarySearchTree - basics', function () {\n\t\tconst trie = new TernarySearchTree<string, number>(new StringIterator());\n\n\t\ttrie.set('foo', 1);\n\t\ttrie.set('bar', 2);\n\t\ttrie.set('foobar', 3);\n\t\tassertTstDfs(trie, ['bar', 2], ['foo', 1], ['foobar', 3]);\n\n\t\tassert.strictEqual(trie.get('foo'), 1);\n\t\tassert.strictEqual(trie.get('bar'), 2);\n\t\tassert.strictEqual(trie.get('foobar'), 3);\n\t\tassert.strictEqual(trie.get('foobaz'), undefined);\n\t\tassert.strictEqual(trie.get('foobarr'), undefined);\n\n\t\tassert.strictEqual(trie.findSubstr('fo'), undefined);\n\t\tassert.strictEqual(trie.findSubstr('foo'), 1);\n\t\tassert.strictEqual(trie.findSubstr('foooo'), 1);\n\n\n\t\ttrie.delete('foobar');\n\t\ttrie.delete('bar');\n\t\tassert.strictEqual(trie.get('foobar'), undefined);\n\t\tassert.strictEqual(trie.get('bar'), undefined);\n\n\t\ttrie.set('foobar', 17);\n\t\ttrie.set('barr', 18);\n\t\tassert.strictEqual(trie.get('foobar'), 17);\n\t\tassert.strictEqual(trie.get('barr'), 18);\n\t\tassert.strictEqual(trie.get('bar'), undefined);\n\t});\n\n\ttest('TernarySearchTree - delete & cleanup', function () {\n\t\t// normal delete\n\t\tlet trie = new TernarySearchTree<string, number>(new StringIterator());\n\t\ttrie.set('foo', 1);\n\t\ttrie.set('foobar', 2);\n\t\ttrie.set('bar', 3);\n\t\tassertTstDfs(trie, ['bar', 3], ['foo', 1], ['foobar', 2]);\n\t\ttrie.delete('foo');\n\t\tassertTstDfs(trie, ['bar', 3], ['foobar', 2]);\n\t\ttrie.delete('foobar');\n\t\tassertTstDfs(trie, ['bar', 3]);\n\n\t\t// superstr-delete\n\t\ttrie = new TernarySearchTree<string, number>(new StringIterator());\n\t\ttrie.set('foo', 1);\n\t\ttrie.set('foobar', 2);\n\t\ttrie.set('bar', 3);\n\t\ttrie.set('foobarbaz', 4);\n\t\ttrie.deleteSuperstr('foo');\n\t\tassertTstDfs(trie, ['bar', 3], ['foo', 1]);\n\n\t\ttrie = new TernarySearchTree<string, number>(new StringIterator());\n\t\ttrie.set('foo', 1);\n\t\ttrie.set('foobar', 2);\n\t\ttrie.set('bar', 3);\n\t\ttrie.set('foobarbaz', 4);\n\t\ttrie.deleteSuperstr('fo');\n\t\tassertTstDfs(trie, ['bar', 3]);\n\n\t\t// trie = new TernarySearchTree<string, number>(new StringIterator());\n\t\t// trie.set('foo', 1);\n\t\t// trie.set('foobar', 2);\n\t\t// trie.set('bar', 3);\n\t\t// trie.deleteSuperStr('f');\n\t\t// assertTernarySearchTree(trie, ['bar', 3]);\n\t});\n\n\ttest('TernarySearchTree (PathSegments) - basics', function () {\n\t\tconst trie = new TernarySearchTree<string, number>(new PathIterator());\n\n\t\ttrie.set('/user/foo/bar', 1);\n\t\ttrie.set('/user/foo', 2);\n\t\ttrie.set('/user/foo/flip/flop', 3);\n\n\t\tassert.strictEqual(trie.get('/user/foo/bar'), 1);\n\t\tassert.strictEqual(trie.get('/user/foo'), 2);\n\t\tassert.strictEqual(trie.get('/user//foo'), 2);\n\t\tassert.strictEqual(trie.get('/user\\\\foo'), 2);\n\t\tassert.strictEqual(trie.get('/user/foo/flip/flop'), 3);\n\n\t\tassert.strictEqual(trie.findSubstr('/user/bar'), undefined);\n\t\tassert.strictEqual(trie.findSubstr('/user/foo'), 2);\n\t\tassert.strictEqual(trie.findSubstr('\\\\user\\\\foo'), 2);\n\t\tassert.strictEqual(trie.findSubstr('/user//foo'), 2);\n\t\tassert.strictEqual(trie.findSubstr('/user/foo/ba'), 2);\n\t\tassert.strictEqual(trie.findSubstr('/user/foo/far/boo'), 2);\n\t\tassert.strictEqual(trie.findSubstr('/user/foo/bar'), 1);\n\t\tassert.strictEqual(trie.findSubstr('/user/foo/bar/far/boo'), 1);\n\t});\n\n\ttest('TernarySearchTree - (AVL) set', function () {\n\t\t{\n\t\t\t// rotate left\n\t\t\tconst trie = new TernarySearchTree<string, number>(new PathIterator());\n\t\t\ttrie.set('/fileA', 1);\n\t\t\ttrie.set('/fileB', 2);\n\t\t\ttrie.set('/fileC', 3);\n\t\t\tassertTstDfs(trie, ['/fileA', 1], ['/fileB', 2], ['/fileC', 3]);\n\t\t}\n\n\t\t{\n\t\t\t// rotate left (inside middle)\n\t\t\tconst trie = new TernarySearchTree<string, number>(new PathIterator());\n\t\t\ttrie.set('/foo/fileA', 1);\n\t\t\ttrie.set('/foo/fileB', 2);\n\t\t\ttrie.set('/foo/fileC', 3);\n\t\t\tassertTstDfs(trie, ['/foo/fileA', 1], ['/foo/fileB', 2], ['/foo/fileC', 3]);\n\t\t}\n\n\t\t{\n\t\t\t// rotate right\n\t\t\tconst trie = new TernarySearchTree<string, number>(new PathIterator());\n\t\t\ttrie.set('/fileC', 3);\n\t\t\ttrie.set('/fileB', 2);\n\t\t\ttrie.set('/fileA', 1);\n\t\t\tassertTstDfs(trie, ['/fileA', 1], ['/fileB', 2], ['/fileC', 3]);\n\t\t}\n\n\t\t{\n\t\t\t// rotate right (inside middle)\n\t\t\tconst trie = new TernarySearchTree<string, number>(new PathIterator());\n\t\t\ttrie.set('/mid/fileC', 3);\n\t\t\ttrie.set('/mid/fileB', 2);\n\t\t\ttrie.set('/mid/fileA', 1);\n\t\t\tassertTstDfs(trie, ['/mid/fileA', 1], ['/mid/fileB', 2], ['/mid/fileC', 3]);\n\t\t}\n\n\t\t{\n\t\t\t// rotate right, left\n\t\t\tconst trie = new TernarySearchTree<string, number>(new PathIterator());\n\t\t\ttrie.set('/fileD', 7);\n\t\t\ttrie.set('/fileB', 2);\n\t\t\ttrie.set('/fileG', 42);\n\t\t\ttrie.set('/fileF', 24);\n\t\t\ttrie.set('/fileZ', 73);\n\t\t\ttrie.set('/fileE', 15);\n\t\t\tassertTstDfs(trie, ['/fileB', 2], ['/fileD', 7], ['/fileE', 15], ['/fileF', 24], ['/fileG', 42], ['/fileZ', 73]);\n\t\t}\n\n\t\t{\n\t\t\t// rotate left, right\n\t\t\tconst trie = new TernarySearchTree<string, number>(new PathIterator());\n\t\t\ttrie.set('/fileJ', 42);\n\t\t\ttrie.set('/fileZ', 73);\n\t\t\ttrie.set('/fileE', 15);\n\t\t\ttrie.set('/fileB', 2);\n\t\t\ttrie.set('/fileF', 7);\n\t\t\ttrie.set('/fileG', 1);\n\t\t\tassertTstDfs(trie, ['/fileB', 2], ['/fileE', 15], ['/fileF', 7], ['/fileG', 1], ['/fileJ', 42], ['/fileZ', 73]);\n\t\t}\n\t});\n\n\ttest('TernarySearchTree - (BST) delete', function () {\n\n\t\tconst trie = new TernarySearchTree<string, number>(new StringIterator());\n\n\t\t// delete root\n\t\ttrie.set('d', 1);\n\t\tassertTstDfs(trie, ['d', 1]);\n\t\ttrie.delete('d');\n\t\tassertTstDfs(trie);\n\n\t\t// delete node with two element\n\t\ttrie.clear();\n\t\ttrie.set('d', 1);\n\t\ttrie.set('b', 1);\n\t\ttrie.set('f', 1);\n\t\tassertTstDfs(trie, ['b', 1], ['d', 1], ['f', 1]);\n\t\ttrie.delete('d');\n\t\tassertTstDfs(trie, ['b', 1], ['f', 1]);\n\n\t\t// single child node\n\t\ttrie.clear();\n\t\ttrie.set('d', 1);\n\t\ttrie.set('b', 1);\n\t\ttrie.set('f', 1);\n\t\ttrie.set('e', 1);\n\t\tassertTstDfs(trie, ['b', 1], ['d', 1], ['e', 1], ['f', 1]);\n\t\ttrie.delete('f');\n\t\tassertTstDfs(trie, ['b', 1], ['d', 1], ['e', 1]);\n\t});\n\n\ttest('TernarySearchTree - (AVL) delete', function () {\n\n\t\tconst trie = new TernarySearchTree<string, number>(new StringIterator());\n\n\t\ttrie.clear();\n\t\ttrie.set('d', 1);\n\t\ttrie.set('b', 1);\n\t\ttrie.set('f', 1);\n\t\ttrie.set('e', 1);\n\t\ttrie.set('z', 1);\n\t\tassertTstDfs(trie, ['b', 1], ['d', 1], ['e', 1], ['f', 1], ['z', 1]);\n\n\t\t// right, right\n\t\ttrie.delete('b');\n\t\tassertTstDfs(trie, ['d', 1], ['e', 1], ['f', 1], ['z', 1]);\n\n\t\ttrie.clear();\n\t\ttrie.set('d', 1);\n\t\ttrie.set('c', 1);\n\t\ttrie.set('f', 1);\n\t\ttrie.set('a', 1);\n\t\ttrie.set('b', 1);\n\t\tassertTstDfs(trie, ['a', 1], ['b', 1], ['c', 1], ['d', 1], ['f', 1]);\n\n\t\t// left, left\n\t\ttrie.delete('f');\n\t\tassertTstDfs(trie, ['a', 1], ['b', 1], ['c', 1], ['d', 1]);\n\n\t\t// mid\n\t\ttrie.clear();\n\t\ttrie.set('a', 1);\n\t\ttrie.set('ad', 1);\n\t\ttrie.set('ab', 1);\n\t\ttrie.set('af', 1);\n\t\ttrie.set('ae', 1);\n\t\ttrie.set('az', 1);\n\t\tassertTstDfs(trie, ['a', 1], ['ab', 1], ['ad', 1], ['ae', 1], ['af', 1], ['az', 1]);\n\n\t\ttrie.delete('ab');\n\t\tassertTstDfs(trie, ['a', 1], ['ad', 1], ['ae', 1], ['af', 1], ['az', 1]);\n\n\t\ttrie.delete('a');\n\t\tassertTstDfs(trie, ['ad', 1], ['ae', 1], ['af', 1], ['az', 1]);\n\t});\n\n\ttest('TernarySearchTree: Cannot read property \\'1\\' of undefined #138284', function () {\n\n\t\tconst keys = [\n\t\t\tURI.parse('fake-fs:/C'),\n\t\t\tURI.parse('fake-fs:/A'),\n\t\t\tURI.parse('fake-fs:/D'),\n\t\t\tURI.parse('fake-fs:/B'),\n\t\t];\n\n\t\tconst tst = TernarySearchTree.forUris<boolean>();\n\n\t\tfor (const item of keys) {\n\t\t\ttst.set(item, true);\n\t\t}\n\n\t\tassert.ok(tst._isBalanced());\n\t\ttst.delete(keys[0]);\n\t\tassert.ok(tst._isBalanced());\n\t});\n\n\ttest('TernarySearchTree: Cannot read property \\'1\\' of undefined #138284 (simple)', function () {\n\n\t\tconst keys = ['C', 'A', 'D', 'B',];\n\t\tconst tst = TernarySearchTree.forStrings<boolean>();\n\t\tfor (const item of keys) {\n\t\t\ttst.set(item, true);\n\t\t}\n\t\tassertTstDfs(tst, ['A', true], ['B', true], ['C', true], ['D', true]);\n\n\t\ttst.delete(keys[0]);\n\t\tassertTstDfs(tst, ['A', true], ['B', true], ['D', true]);\n\n\t\t{\n\t\t\tconst tst = TernarySearchTree.forStrings<boolean>();\n\t\t\ttst.set('C', true);\n\t\t\ttst.set('A', true);\n\t\t\ttst.set('B', true);\n\t\t\tassertTstDfs(tst, ['A', true], ['B', true], ['C', true]);\n\t\t}\n\n\t});\n\n\ttest('TernarySearchTree: Cannot read property \\'1\\' of undefined #138284 (random)', function () {\n\t\tfor (let round = 10; round >= 0; round--) {\n\t\t\tconst keys: URI[] = [];\n\t\t\tfor (let i = 0; i < 100; i++) {\n\t\t\t\tkeys.push(URI.from({ scheme: 'fake-fs', path: randomPath(undefined, undefined, 10) }));\n\t\t\t}\n\t\t\tconst tst = TernarySearchTree.forUris<boolean>();\n\n\t\t\ttry {\n\t\t\t\tfor (const item of keys) {\n\t\t\t\t\ttst.set(item, true);\n\t\t\t\t\tassert.ok(tst._isBalanced(), `SET${item}|${keys.map(String).join()}`);\n\t\t\t\t}\n\n\t\t\t\tfor (const item of keys) {\n\t\t\t\t\ttst.delete(item);\n\t\t\t\t\tassert.ok(tst._isBalanced(), `DEL${item}|${keys.map(String).join()}`);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tassert.ok(false, `FAILED with keys: ${keys.map(String).join()}`);\n\t\t\t}\n\t\t}\n\t});\n\n\ttest('https://github.com/microsoft/vscode/issues/227147', function () {\n\n\t\tconst raw = `fake-fs:CAOnRvUuxO,fake-fs:1qcbfq54rg,fake-fs:UtDstYUQ56,fake-fs:d5ktqDysll,fake-fs:w5NSAKA4Ch,fake-fs:QcIIIY6WHX,fake-fs:WCedQu9Ogd,fake-fs:cKUC5LunBr,fake-fs:XrIIYjI3HB,fake-fs:xgTkoneFzF,fake-fs:QYkCVx2nYC,fake-fs:ePrIDEKEpJ,fake-fs:nrOPYCW81a,fake-fs:MQbkFLcDsA,fake-fs:wXG8YiOrBI,fake-fs:4tHTWi240D,fake-fs:5uQWjgZGGJ,fake-fs:famP6pZXyx,fake-fs:aB9sUhwP1J,fake-fs:DlS0CssyhG,fake-fs:9vK2k3rL2V,fake-fs:iqWeu7zF6t,fake-fs:8vC6bQX2WH,fake-fs:nFILXMQTRg,fake-fs:miiV72aajE,fake-fs:9VRbqvaw0q,fake-fs:WnEHS1arfZ,fake-fs:Fco75PJ5pM,fake-fs:6CsEpoZ7VW,fake-fs:B2PrCtDpWu,fake-fs:y8Hi94Oekg,fake-fs:wyEjPNa5lo,fake-fs:zw1Ljv0erc,fake-fs:y4KWPUOMx0,fake-fs:1basrPTlTp,fake-fs:5iErr4YM34,fake-fs:Q2TQaujh8Q,fake-fs:QxcYzNNxZw,fake-fs:3QUDHjU55a,fake-fs:23ymf9ggMV,fake-fs:qQhuKFdy29,fake-fs:JuwmxA33oJ,fake-fs:NQeUyfMNUo,fake-fs:2Vo3eR1jxM,fake-fs:NzUXQidwel,fake-fs:aESYKGPxIx,fake-fs:mxLdeJartN,fake-fs:PhSd2xLwVe,fake-fs:9nmWjUUMRz,fake-fs:Wc6a4RsGhn,fake-fs:5a0AlFHALQ,fake-fs:Q93jnNZBxJ,fake-fs:4CuVkbfPSG,fake-fs:mdFlJ7WQva,fake-fs:fgVsaRm1KG,fake-fs:P7UXWiRJYj,fake-fs:q6nz5Q9BEW,fake-fs:1UZmGkvNTn,fake-fs:AKY8cnUQFl,fake-fs:RezYuPU7FD,fake-fs:5zaYc72Bit,fake-fs:yh8FTxFfQq,fake-fs:ayNPgEuc2q,fake-fs:EdOb27cRhF,fake-fs:h4c2uNyI4l,fake-fs:BhzOLNL4JO,fake-fs:HVPTdAMWpS,fake-fs:7K7IlacaZe,fake-fs:iUKJonC5eq,fake-fs:Y9E3NX3eJD,fake-fs:66h80uK32I,fake-fs:gFXpry1Y09,fake-fs:qOqvvXPcu4,fake-fs:UbbLn2NFSJ,fake-fs:TzJ07HsAGz,fake-fs:nQngmvgx4m,fake-fs:6bZQCR8epb,fake-fs:xb3SJKX1bi,fake-fs:GF3DPK4zDj,fake-fs:HmxgAqEegt,fake-fs:yT2OAMQYal,fake-fs:MiVX4VYXHk,fake-fs:QMbsUbjJTI,fake-fs:KzAbDNsmPc,fake-fs:m6CGOwOcdT,fake-fs:0cyHx9zsA3,fake-fs:SIwjWfFLSY,fake-fs:uZSDXCEqLY,fake-fs:HuoTL3nK7k,fake-fs:oyoejYE0CI,fake-fs:56WLhiCxbz,fake-fs:SqYOi0z5sM,fake-fs:LZq3ei28Ez,fake-fs:pTc4pCtwk8,fake-fs:AAJSFf0RHS,fake-fs:up6EHkEbO9,fake-fs:GB1Pesdnxd,fake-fs:Oyvq4Z96S4,fake-fs:rYXrhklgf6,fake-fs:g1HdUkQziH`;\n\t\tconst keys: URI[] = raw.split(',').map(value => URI.parse(value, true));\n\n\n\t\tconst tst = TernarySearchTree.forUris<boolean>();\n\t\tfor (const item of keys) {\n\t\t\ttst.set(item, true);\n\t\t\tassert.ok(tst._isBalanced(), `SET${item}|${keys.map(String).join()}`);\n\t\t}\n\n\t\tconst lengthNow = Array.from(tst).length;\n\t\tassert.strictEqual(lengthNow, keys.length);\n\n\t\tconst keys2 = keys.slice(0);\n\n\t\tfor (const [index, item] of keys.entries()) {\n\t\t\ttst.delete(item);\n\t\t\tassert.ok(tst._isBalanced(), `DEL${item}|${keys.map(String).join()}`);\n\n\t\t\tconst idx = keys2.indexOf(item);\n\t\t\tassert.ok(idx >= 0);\n\t\t\tkeys2.splice(idx, 1);\n\n\t\t\tconst actualKeys = Array.from(tst).map(value => value[0]);\n\n\t\t\tassert.strictEqual(\n\t\t\t\tactualKeys.length,\n\t\t\t\tkeys2.length,\n\t\t\t\t`FAILED with ${index} -> ${item.toString()}\\nWANTED:${keys2.map(String).sort().join()}\\nACTUAL:${actualKeys.map(String).sort().join()}`\n\t\t\t);\n\t\t}\n\n\t\tassert.strictEqual(Array.from(tst).length, 0);\n\t});\n\n\ttest('TernarySearchTree: Cannot read properties of undefined (reading \\'length\\'): #161618 (simple)', function () {\n\t\tconst raw = 'config.debug.toolBarLocation,floating,config.editor.renderControlCharacters,true,config.editor.renderWhitespace,selection,config.files.autoSave,off,config.git.enabled,true,config.notebook.globalToolbar,true,config.terminal.integrated.tabs.enabled,true,config.terminal.integrated.tabs.showActions,singleTerminalOrNarrow,config.terminal.integrated.tabs.showActiveTerminal,singleTerminalOrNarrow,config.workbench.activityBar.visible,true,config.workbench.experimental.settingsProfiles.enabled,true,config.workbench.layoutControl.type,both,config.workbench.sideBar.location,left,config.workbench.statusBar.visible,true';\n\t\tconst array = raw.split(',');\n\t\tconst tuples: [string, string][] = [];\n\t\tfor (let i = 0; i < array.length; i += 2) {\n\t\t\ttuples.push([array[i], array[i + 1]]);\n\t\t}\n\n\t\tconst map = TernarySearchTree.forConfigKeys<string>();\n\t\tmap.fill(tuples);\n\n\t\tassert.strictEqual([...map].join(), raw);\n\t\tassert.ok(map.has('config.editor.renderWhitespace'));\n\n\t\tconst len = [...map].length;\n\t\tmap.delete('config.editor.renderWhitespace');\n\t\tassert.ok(map._isBalanced());\n\t\tassert.strictEqual([...map].length, len - 1);\n\t});\n\n\ttest('TernarySearchTree: Cannot read properties of undefined (reading \\'length\\'): #161618 (random)', function () {\n\t\tconst raw = 'config.debug.toolBarLocation,floating,config.editor.renderControlCharacters,true,config.editor.renderWhitespace,selection,config.files.autoSave,off,config.git.enabled,true,config.notebook.globalToolbar,true,config.terminal.integrated.tabs.enabled,true,config.terminal.integrated.tabs.showActions,singleTerminalOrNarrow,config.terminal.integrated.tabs.showActiveTerminal,singleTerminalOrNarrow,config.workbench.activityBar.visible,true,config.workbench.experimental.settingsProfiles.enabled,true,config.workbench.layoutControl.type,both,config.workbench.sideBar.location,left,config.workbench.statusBar.visible,true';\n\t\tconst array = raw.split(',');\n\t\tconst tuples: [string, string][] = [];\n\t\tfor (let i = 0; i < array.length; i += 2) {\n\t\t\ttuples.push([array[i], array[i + 1]]);\n\t\t}\n\n\t\tfor (let round = 100; round >= 0; round--) {\n\t\t\tshuffle(tuples);\n\t\t\tconst map = TernarySearchTree.forConfigKeys<string>();\n\t\t\tmap.fill(tuples);\n\n\t\t\tassert.strictEqual([...map].join(), raw);\n\t\t\tassert.ok(map.has('config.editor.renderWhitespace'));\n\n\t\t\tconst len = [...map].length;\n\t\t\tmap.delete('config.editor.renderWhitespace');\n\t\t\tassert.ok(map._isBalanced());\n\t\t\tassert.strictEqual([...map].length, len - 1);\n\t\t}\n\t});\n\n\ttest('TernarySearchTree (PathSegments) - lookup', function () {\n\n\t\tconst map = new TernarySearchTree<string, number>(new PathIterator());\n\t\tmap.set('/user/foo/bar', 1);\n\t\tmap.set('/user/foo', 2);\n\t\tmap.set('/user/foo/flip/flop', 3);\n\n\t\tassert.strictEqual(map.get('/foo'), undefined);\n\t\tassert.strictEqual(map.get('/user'), undefined);\n\t\tassert.strictEqual(map.get('/user/foo'), 2);\n\t\tassert.strictEqual(map.get('/user/foo/bar'), 1);\n\t\tassert.strictEqual(map.get('/user/foo/bar/boo'), undefined);\n\t});\n\n\ttest('TernarySearchTree (PathSegments) - superstr', function () {\n\n\t\tconst map = new TernarySearchTree<string, number>(new PathIterator());\n\t\tmap.set('/user/foo/bar', 1);\n\t\tmap.set('/user/foo', 2);\n\t\tmap.set('/user/foo/flip/flop', 3);\n\t\tmap.set('/usr/foo', 4);\n\n\t\tlet item: IteratorResult<[string, number]>;\n\t\tlet iter = map.findSuperstr('/user');\n\n\t\titem = iter!.next();\n\t\tassert.strictEqual(item.value[1], 2);\n\t\tassert.strictEqual(item.done, false);\n\t\titem = iter!.next();\n\t\tassert.strictEqual(item.value[1], 1);\n\t\tassert.strictEqual(item.done, false);\n\t\titem = iter!.next();\n\t\tassert.strictEqual(item.value[1], 3);\n\t\tassert.strictEqual(item.done, false);\n\t\titem = iter!.next();\n\t\tassert.strictEqual(item.value, undefined);\n\t\tassert.strictEqual(item.done, true);\n\n\t\titer = map.findSuperstr('/usr');\n\t\titem = iter!.next();\n\t\tassert.strictEqual(item.value[1], 4);\n\t\tassert.strictEqual(item.done, false);\n\n\t\titem = iter!.next();\n\t\tassert.strictEqual(item.value, undefined);\n\t\tassert.strictEqual(item.done, true);\n\n\t\tassert.strictEqual(map.findSuperstr('/not'), undefined);\n\t\tassert.strictEqual(map.findSuperstr('/us'), undefined);\n\t\tassert.strictEqual(map.findSuperstr('/usrr'), undefined);\n\t\tassert.strictEqual(map.findSuperstr('/userr'), undefined);\n\t});\n\n\n\ttest('TernarySearchTree (PathSegments) - delete_superstr', function () {\n\n\t\tconst map = new TernarySearchTree<string, number>(new PathIterator());\n\t\tmap.set('/user/foo/bar', 1);\n\t\tmap.set('/user/foo', 2);\n\t\tmap.set('/user/foo/flip/flop', 3);\n\t\tmap.set('/usr/foo', 4);\n\n\t\tassertTstDfs(map,\n\t\t\t['/user/foo', 2],\n\t\t\t['/user/foo/bar', 1],\n\t\t\t['/user/foo/flip/flop', 3],\n\t\t\t['/usr/foo', 4],\n\t\t);\n\n\t\t// not a segment\n\t\tmap.deleteSuperstr('/user/fo');\n\t\tassertTstDfs(map,\n\t\t\t['/user/foo', 2],\n\t\t\t['/user/foo/bar', 1],\n\t\t\t['/user/foo/flip/flop', 3],\n\t\t\t['/usr/foo', 4],\n\t\t);\n\n\t\t// delete a segment\n\t\tmap.set('/user/foo/bar', 1);\n\t\tmap.set('/user/foo', 2);\n\t\tmap.set('/user/foo/flip/flop', 3);\n\t\tmap.set('/usr/foo', 4);\n\t\tmap.deleteSuperstr('/user/foo');\n\t\tassertTstDfs(map,\n\t\t\t['/user/foo', 2],\n\t\t\t['/usr/foo', 4],\n\t\t);\n\t});\n\n\ttest('TernarySearchTree (URI) - basics', function () {\n\t\tconst trie = new TernarySearchTree<URI, number>(new UriIterator(() => false, () => false));\n\n\t\ttrie.set(URI.file('/user/foo/bar'), 1);\n\t\ttrie.set(URI.file('/user/foo'), 2);\n\t\ttrie.set(URI.file('/user/foo/flip/flop'), 3);\n\n\t\tassert.strictEqual(trie.get(URI.file('/user/foo/bar')), 1);\n\t\tassert.strictEqual(trie.get(URI.file('/user/foo')), 2);\n\t\tassert.strictEqual(trie.get(URI.file('/user/foo/flip/flop')), 3);\n\n\t\tassert.strictEqual(trie.findSubstr(URI.file('/user/bar')), undefined);\n\t\tassert.strictEqual(trie.findSubstr(URI.file('/user/foo')), 2);\n\t\tassert.strictEqual(trie.findSubstr(URI.file('/user/foo/ba')), 2);\n\t\tassert.strictEqual(trie.findSubstr(URI.file('/user/foo/far/boo')), 2);\n\t\tassert.strictEqual(trie.findSubstr(URI.file('/user/foo/bar')), 1);\n\t\tassert.strictEqual(trie.findSubstr(URI.file('/user/foo/bar/far/boo')), 1);\n\t});\n\n\ttest('TernarySearchTree (URI) - query parameters', function () {\n\t\tconst trie = new TernarySearchTree<URI, number>(new UriIterator(() => false, () => true));\n\t\tconst root = URI.parse('memfs:/?param=1');\n\t\ttrie.set(root, 1);\n\n\t\tassert.strictEqual(trie.get(URI.parse('memfs:/?param=1')), 1);\n\n\t\tassert.strictEqual(trie.findSubstr(URI.parse('memfs:/?param=1')), 1);\n\t\tassert.strictEqual(trie.findSubstr(URI.parse('memfs:/aaa?param=1')), 1);\n\t});\n\n\ttest('TernarySearchTree (URI) - lookup', function () {\n\n\t\tconst map = new TernarySearchTree<URI, number>(new UriIterator(() => false, () => false));\n\t\tmap.set(URI.parse('http://foo.bar/user/foo/bar'), 1);\n\t\tmap.set(URI.parse('http://foo.bar/user/foo?query'), 2);\n\t\tmap.set(URI.parse('http://foo.bar/user/foo?QUERY'), 3);\n\t\tmap.set(URI.parse('http://foo.bar/user/foo/flip/flop'), 3);\n\n\t\tassert.strictEqual(map.get(URI.parse('http://foo.bar/foo')), undefined);\n\t\tassert.strictEqual(map.get(URI.parse('http://foo.bar/user')), undefined);\n\t\tassert.strictEqual(map.get(URI.parse('http://foo.bar/user/foo/bar')), 1);\n\t\tassert.strictEqual(map.get(URI.parse('http://foo.bar/user/foo?query')), 2);\n\t\tassert.strictEqual(map.get(URI.parse('http://foo.bar/user/foo?Query')), undefined);\n\t\tassert.strictEqual(map.get(URI.parse('http://foo.bar/user/foo?QUERY')), 3);\n\t\tassert.strictEqual(map.get(URI.parse('http://foo.bar/user/foo/bar/boo')), undefined);\n\t});\n\n\ttest('TernarySearchTree (URI) - lookup, casing', function () {\n\n\t\tconst map = new TernarySearchTree<URI, number>(new UriIterator(uri => /^https?$/.test(uri.scheme), () => false));\n\t\tmap.set(URI.parse('http://foo.bar/user/foo/bar'), 1);\n\t\tassert.strictEqual(map.get(URI.parse('http://foo.bar/USER/foo/bar')), 1);\n\n\t\tmap.set(URI.parse('foo://foo.bar/user/foo/bar'), 1);\n\t\tassert.strictEqual(map.get(URI.parse('foo://foo.bar/USER/foo/bar')), undefined);\n\t});\n\n\ttest('TernarySearchTree (URI) - superstr', function () {\n\n\t\tconst map = new TernarySearchTree<URI, number>(new UriIterator(() => false, () => false));\n\t\tmap.set(URI.file('/user/foo/bar'), 1);\n\t\tmap.set(URI.file('/user/foo'), 2);\n\t\tmap.set(URI.file('/user/foo/flip/flop'), 3);\n\t\tmap.set(URI.file('/usr/foo'), 4);\n\n\t\tlet item: IteratorResult<[URI, number]>;\n\t\tlet iter = map.findSuperstr(URI.file('/user'))!;\n\n\t\titem = iter.next();\n\t\tassert.strictEqual(item.value[1], 2);\n\t\tassert.strictEqual(item.done, false);\n\t\titem = iter.next();\n\t\tassert.strictEqual(item.value[1], 1);\n\t\tassert.strictEqual(item.done, false);\n\t\titem = iter.next();\n\t\tassert.strictEqual(item.value[1], 3);\n\t\tassert.strictEqual(item.done, false);\n\t\titem = iter.next();\n\t\tassert.strictEqual(item.value, undefined);\n\t\tassert.strictEqual(item.done, true);\n\n\t\titer = map.findSuperstr(URI.file('/usr'))!;\n\t\titem = iter.next();\n\t\tassert.strictEqual(item.value[1], 4);\n\t\tassert.strictEqual(item.done, false);\n\n\t\titem = iter.next();\n\t\tassert.strictEqual(item.value, undefined);\n\t\tassert.strictEqual(item.done, true);\n\n\t\titer = map.findSuperstr(URI.file('/'))!;\n\t\titem = iter.next();\n\t\tassert.strictEqual(item.value[1], 2);\n\t\tassert.strictEqual(item.done, false);\n\t\titem = iter.next();\n\t\tassert.strictEqual(item.value[1], 1);\n\t\tassert.strictEqual(item.done, false);\n\t\titem = iter.next();\n\t\tassert.strictEqual(item.value[1], 3);\n\t\tassert.strictEqual(item.done, false);\n\t\titem = iter.next();\n\t\tassert.strictEqual(item.value[1], 4);\n\t\tassert.strictEqual(item.done, false);\n\t\titem = iter.next();\n\t\tassert.strictEqual(item.value, undefined);\n\t\tassert.strictEqual(item.done, true);\n\n\t\tassert.strictEqual(map.findSuperstr(URI.file('/not')), undefined);\n\t\tassert.strictEqual(map.findSuperstr(URI.file('/us')), undefined);\n\t\tassert.strictEqual(map.findSuperstr(URI.file('/usrr')), undefined);\n\t\tassert.strictEqual(map.findSuperstr(URI.file('/userr')), undefined);\n\t});\n\n\ttest('TernarySearchTree (ConfigKeySegments) - basics', function () {\n\t\tconst trie = new TernarySearchTree<string, number>(new ConfigKeysIterator());\n\n\t\ttrie.set('config.foo.bar', 1);\n\t\ttrie.set('config.foo', 2);\n\t\ttrie.set('config.foo.flip.flop', 3);\n\n\t\tassert.strictEqual(trie.get('config.foo.bar'), 1);\n\t\tassert.strictEqual(trie.get('config.foo'), 2);\n\t\tassert.strictEqual(trie.get('config.foo.flip.flop'), 3);\n\n\t\tassert.strictEqual(trie.findSubstr('config.bar'), undefined);\n\t\tassert.strictEqual(trie.findSubstr('config.foo'), 2);\n\t\tassert.strictEqual(trie.findSubstr('config.foo.ba'), 2);\n\t\tassert.strictEqual(trie.findSubstr('config.foo.far.boo'), 2);\n\t\tassert.strictEqual(trie.findSubstr('config.foo.bar'), 1);\n\t\tassert.strictEqual(trie.findSubstr('config.foo.bar.far.boo'), 1);\n\t});\n\n\ttest('TernarySearchTree (ConfigKeySegments) - lookup', function () {\n\n\t\tconst map = new TernarySearchTree<string, number>(new ConfigKeysIterator());\n\t\tmap.set('config.foo.bar', 1);\n\t\tmap.set('config.foo', 2);\n\t\tmap.set('config.foo.flip.flop', 3);\n\n\t\tassert.strictEqual(map.get('foo'), undefined);\n\t\tassert.strictEqual(map.get('config'), undefined);\n\t\tassert.strictEqual(map.get('config.foo'), 2);\n\t\tassert.strictEqual(map.get('config.foo.bar'), 1);\n\t\tassert.strictEqual(map.get('config.foo.bar.boo'), undefined);\n\t});\n\n\ttest('TernarySearchTree (ConfigKeySegments) - superstr', function () {\n\n\t\tconst map = new TernarySearchTree<string, number>(new ConfigKeysIterator());\n\t\tmap.set('config.foo.bar', 1);\n\t\tmap.set('config.foo', 2);\n\t\tmap.set('config.foo.flip.flop', 3);\n\t\tmap.set('boo', 4);\n\n\t\tlet item: IteratorResult<[string, number]>;\n\t\tconst iter = map.findSuperstr('config');\n\n\t\titem = iter!.next();\n\t\tassert.strictEqual(item.value[1], 2);\n\t\tassert.strictEqual(item.done, false);\n\t\titem = iter!.next();\n\t\tassert.strictEqual(item.value[1], 1);\n\t\tassert.strictEqual(item.done, false);\n\t\titem = iter!.next();\n\t\tassert.strictEqual(item.value[1], 3);\n\t\tassert.strictEqual(item.done, false);\n\t\titem = iter!.next();\n\t\tassert.strictEqual(item.value, undefined);\n\t\tassert.strictEqual(item.done, true);\n\n\t\tassert.strictEqual(map.findSuperstr('foo'), undefined);\n\t\tassert.strictEqual(map.findSuperstr('config.foo.no'), undefined);\n\t\tassert.strictEqual(map.findSuperstr('config.foop'), undefined);\n\t});\n\n\n\ttest('TernarySearchTree (ConfigKeySegments) - delete_superstr', function () {\n\n\t\tconst map = new TernarySearchTree<string, number>(new ConfigKeysIterator());\n\t\tmap.set('config.foo.bar', 1);\n\t\tmap.set('config.foo', 2);\n\t\tmap.set('config.foo.flip.flop', 3);\n\t\tmap.set('boo', 4);\n\n\t\tassertTstDfs(map,\n\t\t\t['boo', 4],\n\t\t\t['config.foo', 2],\n\t\t\t['config.foo.bar', 1],\n\t\t\t['config.foo.flip.flop', 3],\n\t\t);\n\n\t\t// not a segment\n\t\tmap.deleteSuperstr('config.fo');\n\t\tassertTstDfs(map,\n\t\t\t['boo', 4],\n\t\t\t['config.foo', 2],\n\t\t\t['config.foo.bar', 1],\n\t\t\t['config.foo.flip.flop', 3],\n\t\t);\n\n\t\t// delete a segment\n\t\tmap.set('config.foo.bar', 1);\n\t\tmap.set('config.foo', 2);\n\t\tmap.set('config.foo.flip.flop', 3);\n\t\tmap.set('config.boo', 4);\n\t\tmap.deleteSuperstr('config.foo');\n\t\tassertTstDfs(map,\n\t\t\t['boo', 4],\n\t\t\t['config.foo', 2],\n\t\t);\n\t});\n\n\ttest('TST, fill', function () {\n\t\tconst tst = TernarySearchTree.forStrings();\n\n\t\tconst keys = ['foo', 'bar', 'bang', 'bazz'];\n\t\tObject.freeze(keys);\n\t\ttst.fill(true, keys);\n\n\t\tfor (const key of keys) {\n\t\t\tassert.ok(tst.get(key), key);\n\t\t}\n\t});\n});\n\n\nsuite.skip('TST, perf', function () {\n\n\tfunction createRandomUris(n: number): URI[] {\n\t\tconst uris: URI[] = [];\n\t\tfunction randomWord(): string {\n\t\t\tlet result = '';\n\t\t\tconst length = 4 + Math.floor(Math.random() * 4);\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tresult += (Math.random() * 26 + 65).toString(36);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\t// generate 10000 random words\n\t\tconst words: string[] = [];\n\t\tfor (let i = 0; i < 10000; i++) {\n\t\t\twords.push(randomWord());\n\t\t}\n\n\t\tfor (let i = 0; i < n; i++) {\n\n\t\t\tlet len = 4 + Math.floor(Math.random() * 4);\n\n\t\t\tconst segments: string[] = [];\n\t\t\tfor (; len >= 0; len--) {\n\t\t\t\tsegments.push(words[Math.floor(Math.random() * words.length)]);\n\t\t\t}\n\n\t\t\turis.push(URI.from({ scheme: 'file', path: segments.join('/') }));\n\t\t}\n\n\t\treturn uris;\n\t}\n\n\tlet tree: TernarySearchTree<URI, boolean>;\n\tlet sampleUris: URI[] = [];\n\tlet candidates: URI[] = [];\n\n\tsuiteSetup(() => {\n\t\tconst len = 50_000;\n\t\tsampleUris = createRandomUris(len);\n\t\tcandidates = [...sampleUris.slice(0, len / 2), ...createRandomUris(len / 2)];\n\t\tshuffle(candidates);\n\t});\n\n\tsetup(() => {\n\t\ttree = TernarySearchTree.forUris();\n\t\tfor (const uri of sampleUris) {\n\t\t\ttree.set(uri, true);\n\t\t}\n\t});\n\n\tconst _profile = false;\n\n\tfunction perfTest(name: string, callback: Function) {\n\t\ttest(name, function () {\n\t\t\tif (_profile) { console.profile(name); }\n\t\t\tconst sw = new StopWatch();\n\t\t\tcallback();\n\t\t\tconsole.log(name, sw.elapsed());\n\t\t\tif (_profile) { console.profileEnd(); }\n\t\t});\n\t}\n\n\tperfTest('TST, clear', function () {\n\t\ttree.clear();\n\t});\n\n\tperfTest('TST, insert', function () {\n\t\tconst insertTree = TernarySearchTree.forUris();\n\t\tfor (const uri of sampleUris) {\n\t\t\tinsertTree.set(uri, true);\n\t\t}\n\t});\n\n\tperfTest('TST, lookup', function () {\n\t\tlet match = 0;\n\t\tfor (const candidate of candidates) {\n\t\t\tif (tree.has(candidate)) {\n\t\t\t\tmatch += 1;\n\t\t\t}\n\t\t}\n\t\tassert.strictEqual(match, sampleUris.length / 2);\n\t});\n\n\tperfTest('TST, substr', function () {\n\t\tlet match = 0;\n\t\tfor (const candidate of candidates) {\n\t\t\tif (tree.findSubstr(candidate)) {\n\t\t\t\tmatch += 1;\n\t\t\t}\n\t\t}\n\t\tassert.strictEqual(match, sampleUris.length / 2);\n\t});\n\n\tperfTest('TST, superstr', function () {\n\t\tfor (const candidate of candidates) {\n\t\t\ttree.findSuperstr(candidate);\n\t\t}\n\t});\n});\n"]}