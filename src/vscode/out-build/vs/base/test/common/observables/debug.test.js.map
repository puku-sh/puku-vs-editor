{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/base/test/common/observables/debug.test.ts","vs/base/test/common/observables/debug.test.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,MAAM,MAAM,QAAQ,CAAC;AAC5B,OAAO,EAAE,eAAe,EAAE,OAAO,EAAE,OAAO,EAAE,MAAM,+BAA+B,CAAC;AAClF,OAAO,EAAE,uCAAuC,EAAE,MAAM,aAAa,CAAC;AACtE,iEAAiE;AACjE,OAAO,EAAE,uBAAuB,EAAE,MAAM,uEAAuE,CAAC;AAEhH,KAAK,CAAC,OAAO,EAAE,GAAG,EAAE;IACnB,MAAM,EAAE,GAAG,uCAAuC,EAAE,CAAC;IAErD,IAAI,CAAC,yBAAyB,EAAE,GAAG,EAAE;QACpC,MAAM,aAAa,GAAG,eAAe,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC;QAC1D,MAAM,aAAa,GAAG,eAAe,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC;QAE1D,MAAM,WAAW,GAAG,OAAO,CAAC,MAAM,CAAC,EAAE;YACpC,+BAA+B;YAC/B,MAAM,MAAM,GAAG,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC1C,MAAM,MAAM,GAAG,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC1C,MAAM,GAAG,GAAG,MAAM,GAAG,MAAM,CAAC;YAC5B,OAAO,GAAG,CAAC;QACZ,CAAC,CAAC,CAAC;QAEH,MAAM,WAAW,GAAG,OAAO,CAAC,MAAM,CAAC,EAAE;YACpC,+BAA+B;YAC/B,MAAM,MAAM,GAAG,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACxC,MAAM,MAAM,GAAG,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC1C,MAAM,MAAM,GAAG,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC1C,MAAM,GAAG,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,CAAC;YACrC,OAAO,GAAG,CAAC;QACZ,CAAC,CAAC,CAAC;QAEH,MAAM,WAAW,GAAG,OAAO,CAAC,MAAM,CAAC,EAAE;YACpC,+BAA+B;YAC/B,MAAM,MAAM,GAAG,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACxC,MAAM,MAAM,GAAG,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC1C,MAAM,MAAM,GAAG,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC1C,MAAM,GAAG,GAAG,MAAM,GAAG,MAAM,GAAG,MAAM,CAAC;YACrC,OAAO,GAAG,CAAC;QACZ,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;YACvB,6BAA6B;YAC7B,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC1B,CAAC,CAAC,CAAC,CAAC;QAGJ,IAAI,GAAG,GAAG,CAAC,CAAC;QACZ,MAAM,CAAC,eAAe,CACrB,uBAAuB,CAAC,WAAW,EAAE,EAAE,IAAI,EAAE,cAAc,EAAE,sBAAsB,EAAE,IAAI,CAAC,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE,EAAE,CAAC,EAC9G,gnBAAgnB,CAChnB,CAAC;IACH,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC,CAAC","file":"debug.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { observableValue, derived, autorun } from '../../../common/observable.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../utils.js';\n// eslint-disable-next-line local/code-no-deep-import-of-internal\nimport { debugGetObservableGraph } from '../../../common/observableInternal/logging/debugGetDependencyGraph.js';\n\nsuite('debug', () => {\n\tconst ds = ensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('debugGetDependencyGraph', () => {\n\t\tconst myObservable1 = observableValue('myObservable1', 0);\n\t\tconst myObservable2 = observableValue('myObservable2', 0);\n\n\t\tconst myComputed1 = derived(reader => {\n\t\t\t/** @description myComputed1 */\n\t\t\tconst value1 = myObservable1.read(reader);\n\t\t\tconst value2 = myObservable2.read(reader);\n\t\t\tconst sum = value1 + value2;\n\t\t\treturn sum;\n\t\t});\n\n\t\tconst myComputed2 = derived(reader => {\n\t\t\t/** @description myComputed2 */\n\t\t\tconst value1 = myComputed1.read(reader);\n\t\t\tconst value2 = myObservable1.read(reader);\n\t\t\tconst value3 = myObservable2.read(reader);\n\t\t\tconst sum = value1 + value2 + value3;\n\t\t\treturn sum;\n\t\t});\n\n\t\tconst myComputed3 = derived(reader => {\n\t\t\t/** @description myComputed3 */\n\t\t\tconst value1 = myComputed2.read(reader);\n\t\t\tconst value2 = myObservable1.read(reader);\n\t\t\tconst value3 = myObservable2.read(reader);\n\t\t\tconst sum = value1 + value2 + value3;\n\t\t\treturn sum;\n\t\t});\n\n\t\tds.add(autorun(reader => {\n\t\t\t/** @description myAutorun */\n\t\t\tmyComputed3.read(reader);\n\t\t}));\n\n\n\t\tlet idx = 0;\n\t\tassert.deepStrictEqual(\n\t\t\tdebugGetObservableGraph(myComputed3, { type: 'dependencies', debugNamePostProcessor: name => `name${++idx}` }),\n\t\t\t'* derived name1:\\n  value: 0\\n  state: upToDate\\n  dependencies:\\n\\t\\t* derived name2:\\n\\t\\t  value: 0\\n\\t\\t  state: upToDate\\n\\t\\t  dependencies:\\n\\t\\t\\t\\t* derived name3:\\n\\t\\t\\t\\t  value: 0\\n\\t\\t\\t\\t  state: upToDate\\n\\t\\t\\t\\t  dependencies:\\n\\t\\t\\t\\t\\t\\t* observableValue name4:\\n\\t\\t\\t\\t\\t\\t  value: 0\\n\\t\\t\\t\\t\\t\\t  state: upToDate\\n\\t\\t\\t\\t\\t\\t* observableValue name5:\\n\\t\\t\\t\\t\\t\\t  value: 0\\n\\t\\t\\t\\t\\t\\t  state: upToDate\\n\\t\\t\\t\\t* observableValue name6 (already listed)\\n\\t\\t\\t\\t* observableValue name7 (already listed)\\n\\t\\t* observableValue name8 (already listed)\\n\\t\\t* observableValue name9 (already listed)',\n\t\t);\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { observableValue, derived, autorun } from '../../../common/observable.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../utils.js';\n// eslint-disable-next-line local/code-no-deep-import-of-internal\nimport { debugGetObservableGraph } from '../../../common/observableInternal/logging/debugGetDependencyGraph.js';\n\nsuite('debug', () => {\n\tconst ds = ensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('debugGetDependencyGraph', () => {\n\t\tconst myObservable1 = observableValue('myObservable1', 0);\n\t\tconst myObservable2 = observableValue('myObservable2', 0);\n\n\t\tconst myComputed1 = derived(reader => {\n\t\t\t/** @description myComputed1 */\n\t\t\tconst value1 = myObservable1.read(reader);\n\t\t\tconst value2 = myObservable2.read(reader);\n\t\t\tconst sum = value1 + value2;\n\t\t\treturn sum;\n\t\t});\n\n\t\tconst myComputed2 = derived(reader => {\n\t\t\t/** @description myComputed2 */\n\t\t\tconst value1 = myComputed1.read(reader);\n\t\t\tconst value2 = myObservable1.read(reader);\n\t\t\tconst value3 = myObservable2.read(reader);\n\t\t\tconst sum = value1 + value2 + value3;\n\t\t\treturn sum;\n\t\t});\n\n\t\tconst myComputed3 = derived(reader => {\n\t\t\t/** @description myComputed3 */\n\t\t\tconst value1 = myComputed2.read(reader);\n\t\t\tconst value2 = myObservable1.read(reader);\n\t\t\tconst value3 = myObservable2.read(reader);\n\t\t\tconst sum = value1 + value2 + value3;\n\t\t\treturn sum;\n\t\t});\n\n\t\tds.add(autorun(reader => {\n\t\t\t/** @description myAutorun */\n\t\t\tmyComputed3.read(reader);\n\t\t}));\n\n\n\t\tlet idx = 0;\n\t\tassert.deepStrictEqual(\n\t\t\tdebugGetObservableGraph(myComputed3, { type: 'dependencies', debugNamePostProcessor: name => `name${++idx}` }),\n\t\t\t'* derived name1:\\n  value: 0\\n  state: upToDate\\n  dependencies:\\n\\t\\t* derived name2:\\n\\t\\t  value: 0\\n\\t\\t  state: upToDate\\n\\t\\t  dependencies:\\n\\t\\t\\t\\t* derived name3:\\n\\t\\t\\t\\t  value: 0\\n\\t\\t\\t\\t  state: upToDate\\n\\t\\t\\t\\t  dependencies:\\n\\t\\t\\t\\t\\t\\t* observableValue name4:\\n\\t\\t\\t\\t\\t\\t  value: 0\\n\\t\\t\\t\\t\\t\\t  state: upToDate\\n\\t\\t\\t\\t\\t\\t* observableValue name5:\\n\\t\\t\\t\\t\\t\\t  value: 0\\n\\t\\t\\t\\t\\t\\t  state: upToDate\\n\\t\\t\\t\\t* observableValue name6 (already listed)\\n\\t\\t\\t\\t* observableValue name7 (already listed)\\n\\t\\t* observableValue name8 (already listed)\\n\\t\\t* observableValue name9 (already listed)',\n\t\t);\n\t});\n});\n"]}