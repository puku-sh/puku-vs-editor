{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/base/test/common/scrollable.test.ts","vs/base/test/common/scrollable.test.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,MAAM,MAAM,QAAQ,CAAC;AAC5B,OAAO,EAAE,wBAAwB,EAAyB,MAAM,4BAA4B,CAAC;AAC7F,OAAO,EAAE,uCAAuC,EAAE,MAAM,YAAY,CAAC;AAErE,MAAM,4BAA6B,SAAQ,wBAAwB;IAElE,YAAY,IAAY,EAAE,EAAU,EAAE,YAAoB,EAAE,SAAiB,EAAE,QAAgB;QAC9F,QAAQ,GAAG,QAAQ,GAAG,EAAE,CAAC;QACzB,SAAS,GAAG,SAAS,GAAG,EAAE,CAAC;QAE3B,KAAK,CACJ,EAAE,UAAU,EAAE,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,EAAE,MAAM,EAAE,YAAY,EAAE,EAClE,EAAE,UAAU,EAAE,CAAC,EAAE,SAAS,EAAE,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,MAAM,EAAE,YAAY,EAAE,EAChE,SAAS,EACT,QAAQ,CACR,CAAC;IACH,CAAC;IAEM,QAAQ,CAAC,GAAW;QAC1B,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IACxB,CAAC;CAED;AAED,KAAK,CAAC,0BAA0B,EAAE,GAAG,EAAE;IAEtC,MAAM,eAAe,GAAG,GAAG,CAAC;IAC5B,MAAM,kBAAkB,GAAG,GAAG,CAAC;IAC/B,MAAM,WAAW,GAAG,EAAE,CAAC;IAEvB,uCAAuC,EAAE,CAAC;IAE1C,SAAS,YAAY,CAAC,UAAwC,EAAE,GAAW;QAC1E,MAAM,SAAS,GAAG,UAAU,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC;QACrD,MAAM,YAAY,GAAG,SAAS,GAAG,eAAe,CAAC;QAEjD,MAAM,eAAe,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,WAAW,CAAC,CAAC;QAC5D,MAAM,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC,CAAC;QAE5D,OAAO,CAAC,eAAe,EAAE,aAAa,CAAC,CAAC;IACzC,CAAC;IAED,SAAS,oBAAoB,CAAC,IAAY,EAAE,EAAU;QACrD,MAAM,UAAU,GAAG,IAAI,4BAA4B,CAAC,IAAI,EAAE,EAAE,EAAE,eAAe,EAAE,CAAC,EAAE,kBAAkB,CAAC,CAAC;QAEtG,MAAM,MAAM,GAAuB,EAAE,CAAC;QACtC,IAAI,SAAS,GAAG,CAAC,CAAC;QAClB,MAAM,CAAC,SAAS,EAAE,CAAC,GAAG,YAAY,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;QAClD,MAAM,CAAC,SAAS,EAAE,CAAC,GAAG,YAAY,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC;QACnD,MAAM,CAAC,SAAS,EAAE,CAAC,GAAG,YAAY,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC;QACnD,MAAM,CAAC,SAAS,EAAE,CAAC,GAAG,YAAY,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC;QACnD,MAAM,CAAC,SAAS,EAAE,CAAC,GAAG,YAAY,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;QACpD,MAAM,CAAC,SAAS,EAAE,CAAC,GAAG,YAAY,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;QACpD,OAAO,MAAM,CAAC;IACf,CAAC;IAED,SAAS,kBAAkB,CAAC,IAAY,EAAE,EAAU,EAAE,QAA4B;QACjF,MAAM,MAAM,GAAG,oBAAoB,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;QAC9C,MAAM,CAAC,eAAe,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;IAC1C,CAAC;IAED,IAAI,CAAC,0BAA0B,EAAE,GAAG,EAAE;QACrC,kBAAkB,CAAC,CAAC,EAAE,GAAG,EAAE;YAC1B,CAAC,CAAC,EAAE,EAAE,CAAC;YACP,CAAC,EAAE,EAAE,EAAE,CAAC;YACR,CAAC,EAAE,EAAE,EAAE,CAAC;YACR,CAAC,EAAE,EAAE,EAAE,CAAC;YACR,CAAC,EAAE,EAAE,EAAE,CAAC;YACR,CAAC,EAAE,EAAE,EAAE,CAAC;SACR,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,0BAA0B,EAAE,GAAG,EAAE;QACrC,kBAAkB,CAAC,CAAC,EAAE,IAAI,EAAE;YAC3B,CAAC,EAAE,EAAE,EAAE,CAAC;YACR,CAAC,EAAE,EAAE,EAAE,CAAC;YACR,CAAC,EAAE,EAAE,GAAG,CAAC;YACT,CAAC,EAAE,EAAE,GAAG,CAAC;YACT,CAAC,EAAE,EAAE,GAAG,CAAC;YACT,CAAC,EAAE,EAAE,GAAG,CAAC;SACT,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,2BAA2B,EAAE,GAAG,EAAE;QACtC,kBAAkB,CAAC,CAAC,EAAE,IAAI,EAAE;YAC3B,CAAC,EAAE,EAAE,EAAE,CAAC;YACR,CAAC,EAAE,EAAE,GAAG,CAAC;YACT,CAAC,EAAE,EAAE,GAAG,CAAC;YACT,CAAC,EAAE,EAAE,GAAG,CAAC;YACT,CAAC,EAAE,EAAE,GAAG,CAAC;YACT,CAAC,GAAG,EAAE,GAAG,CAAC;SACV,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,2BAA2B,EAAE,GAAG,EAAE;QACtC,kBAAkB,CAAC,CAAC,EAAE,IAAI,EAAE;YAC3B,CAAC,EAAE,EAAE,EAAE,CAAC;YACR,CAAC,EAAE,EAAE,EAAE,CAAC;YACR,CAAC,GAAG,EAAE,GAAG,CAAC;YACV,CAAC,GAAG,EAAE,GAAG,CAAC;YACV,CAAC,GAAG,EAAE,GAAG,CAAC;YACV,CAAC,GAAG,EAAE,GAAG,CAAC;SACV,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,2BAA2B,EAAE,GAAG,EAAE;QACtC,kBAAkB,CAAC,CAAC,EAAE,KAAK,EAAE;YAC5B,CAAC,EAAE,EAAE,EAAE,CAAC;YACR,CAAC,EAAE,EAAE,EAAE,CAAC;YACR,CAAC,GAAG,EAAE,GAAG,CAAC;YACV,CAAC,GAAG,EAAE,GAAG,CAAC;YACV,CAAC,GAAG,EAAE,GAAG,CAAC;YACV,CAAC,GAAG,EAAE,GAAG,CAAC;SACV,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC;AAEJ,CAAC,CAAC,CAAC","file":"scrollable.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { SmoothScrollingOperation, SmoothScrollingUpdate } from '../../common/scrollable.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from './utils.js';\n\nclass TestSmoothScrollingOperation extends SmoothScrollingOperation {\n\n\tconstructor(from: number, to: number, viewportSize: number, startTime: number, duration: number) {\n\t\tduration = duration + 10;\n\t\tstartTime = startTime - 10;\n\n\t\tsuper(\n\t\t\t{ scrollLeft: 0, scrollTop: from, width: 0, height: viewportSize },\n\t\t\t{ scrollLeft: 0, scrollTop: to, width: 0, height: viewportSize },\n\t\t\tstartTime,\n\t\t\tduration\n\t\t);\n\t}\n\n\tpublic testTick(now: number): SmoothScrollingUpdate {\n\t\treturn this._tick(now);\n\t}\n\n}\n\nsuite('SmoothScrollingOperation', () => {\n\n\tconst VIEWPORT_HEIGHT = 800;\n\tconst ANIMATION_DURATION = 125;\n\tconst LINE_HEIGHT = 20;\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tfunction extractLines(scrollable: TestSmoothScrollingOperation, now: number): [number, number] {\n\t\tconst scrollTop = scrollable.testTick(now).scrollTop;\n\t\tconst scrollBottom = scrollTop + VIEWPORT_HEIGHT;\n\n\t\tconst startLineNumber = Math.floor(scrollTop / LINE_HEIGHT);\n\t\tconst endLineNumber = Math.ceil(scrollBottom / LINE_HEIGHT);\n\n\t\treturn [startLineNumber, endLineNumber];\n\t}\n\n\tfunction simulateSmoothScroll(from: number, to: number): [number, number][] {\n\t\tconst scrollable = new TestSmoothScrollingOperation(from, to, VIEWPORT_HEIGHT, 0, ANIMATION_DURATION);\n\n\t\tconst result: [number, number][] = [];\n\t\tlet resultLen = 0;\n\t\tresult[resultLen++] = extractLines(scrollable, 0);\n\t\tresult[resultLen++] = extractLines(scrollable, 25);\n\t\tresult[resultLen++] = extractLines(scrollable, 50);\n\t\tresult[resultLen++] = extractLines(scrollable, 75);\n\t\tresult[resultLen++] = extractLines(scrollable, 100);\n\t\tresult[resultLen++] = extractLines(scrollable, 125);\n\t\treturn result;\n\t}\n\n\tfunction assertSmoothScroll(from: number, to: number, expected: [number, number][]): void {\n\t\tconst actual = simulateSmoothScroll(from, to);\n\t\tassert.deepStrictEqual(actual, expected);\n\t}\n\n\ttest('scroll 25 lines (40 fit)', () => {\n\t\tassertSmoothScroll(0, 500, [\n\t\t\t[5, 46],\n\t\t\t[14, 55],\n\t\t\t[20, 61],\n\t\t\t[23, 64],\n\t\t\t[24, 65],\n\t\t\t[25, 65],\n\t\t]);\n\t});\n\n\ttest('scroll 75 lines (40 fit)', () => {\n\t\tassertSmoothScroll(0, 1500, [\n\t\t\t[15, 56],\n\t\t\t[44, 85],\n\t\t\t[62, 103],\n\t\t\t[71, 112],\n\t\t\t[74, 115],\n\t\t\t[75, 115],\n\t\t]);\n\t});\n\n\ttest('scroll 100 lines (40 fit)', () => {\n\t\tassertSmoothScroll(0, 2000, [\n\t\t\t[20, 61],\n\t\t\t[59, 100],\n\t\t\t[82, 123],\n\t\t\t[94, 135],\n\t\t\t[99, 140],\n\t\t\t[100, 140],\n\t\t]);\n\t});\n\n\ttest('scroll 125 lines (40 fit)', () => {\n\t\tassertSmoothScroll(0, 2500, [\n\t\t\t[16, 57],\n\t\t\t[29, 70],\n\t\t\t[107, 148],\n\t\t\t[119, 160],\n\t\t\t[124, 165],\n\t\t\t[125, 165],\n\t\t]);\n\t});\n\n\ttest('scroll 500 lines (40 fit)', () => {\n\t\tassertSmoothScroll(0, 10000, [\n\t\t\t[16, 57],\n\t\t\t[29, 70],\n\t\t\t[482, 523],\n\t\t\t[494, 535],\n\t\t\t[499, 540],\n\t\t\t[500, 540],\n\t\t]);\n\t});\n\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { SmoothScrollingOperation, SmoothScrollingUpdate } from '../../common/scrollable.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from './utils.js';\n\nclass TestSmoothScrollingOperation extends SmoothScrollingOperation {\n\n\tconstructor(from: number, to: number, viewportSize: number, startTime: number, duration: number) {\n\t\tduration = duration + 10;\n\t\tstartTime = startTime - 10;\n\n\t\tsuper(\n\t\t\t{ scrollLeft: 0, scrollTop: from, width: 0, height: viewportSize },\n\t\t\t{ scrollLeft: 0, scrollTop: to, width: 0, height: viewportSize },\n\t\t\tstartTime,\n\t\t\tduration\n\t\t);\n\t}\n\n\tpublic testTick(now: number): SmoothScrollingUpdate {\n\t\treturn this._tick(now);\n\t}\n\n}\n\nsuite('SmoothScrollingOperation', () => {\n\n\tconst VIEWPORT_HEIGHT = 800;\n\tconst ANIMATION_DURATION = 125;\n\tconst LINE_HEIGHT = 20;\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tfunction extractLines(scrollable: TestSmoothScrollingOperation, now: number): [number, number] {\n\t\tconst scrollTop = scrollable.testTick(now).scrollTop;\n\t\tconst scrollBottom = scrollTop + VIEWPORT_HEIGHT;\n\n\t\tconst startLineNumber = Math.floor(scrollTop / LINE_HEIGHT);\n\t\tconst endLineNumber = Math.ceil(scrollBottom / LINE_HEIGHT);\n\n\t\treturn [startLineNumber, endLineNumber];\n\t}\n\n\tfunction simulateSmoothScroll(from: number, to: number): [number, number][] {\n\t\tconst scrollable = new TestSmoothScrollingOperation(from, to, VIEWPORT_HEIGHT, 0, ANIMATION_DURATION);\n\n\t\tconst result: [number, number][] = [];\n\t\tlet resultLen = 0;\n\t\tresult[resultLen++] = extractLines(scrollable, 0);\n\t\tresult[resultLen++] = extractLines(scrollable, 25);\n\t\tresult[resultLen++] = extractLines(scrollable, 50);\n\t\tresult[resultLen++] = extractLines(scrollable, 75);\n\t\tresult[resultLen++] = extractLines(scrollable, 100);\n\t\tresult[resultLen++] = extractLines(scrollable, 125);\n\t\treturn result;\n\t}\n\n\tfunction assertSmoothScroll(from: number, to: number, expected: [number, number][]): void {\n\t\tconst actual = simulateSmoothScroll(from, to);\n\t\tassert.deepStrictEqual(actual, expected);\n\t}\n\n\ttest('scroll 25 lines (40 fit)', () => {\n\t\tassertSmoothScroll(0, 500, [\n\t\t\t[5, 46],\n\t\t\t[14, 55],\n\t\t\t[20, 61],\n\t\t\t[23, 64],\n\t\t\t[24, 65],\n\t\t\t[25, 65],\n\t\t]);\n\t});\n\n\ttest('scroll 75 lines (40 fit)', () => {\n\t\tassertSmoothScroll(0, 1500, [\n\t\t\t[15, 56],\n\t\t\t[44, 85],\n\t\t\t[62, 103],\n\t\t\t[71, 112],\n\t\t\t[74, 115],\n\t\t\t[75, 115],\n\t\t]);\n\t});\n\n\ttest('scroll 100 lines (40 fit)', () => {\n\t\tassertSmoothScroll(0, 2000, [\n\t\t\t[20, 61],\n\t\t\t[59, 100],\n\t\t\t[82, 123],\n\t\t\t[94, 135],\n\t\t\t[99, 140],\n\t\t\t[100, 140],\n\t\t]);\n\t});\n\n\ttest('scroll 125 lines (40 fit)', () => {\n\t\tassertSmoothScroll(0, 2500, [\n\t\t\t[16, 57],\n\t\t\t[29, 70],\n\t\t\t[107, 148],\n\t\t\t[119, 160],\n\t\t\t[124, 165],\n\t\t\t[125, 165],\n\t\t]);\n\t});\n\n\ttest('scroll 500 lines (40 fit)', () => {\n\t\tassertSmoothScroll(0, 10000, [\n\t\t\t[16, 57],\n\t\t\t[29, 70],\n\t\t\t[482, 523],\n\t\t\t[494, 535],\n\t\t\t[499, 540],\n\t\t\t[500, 540],\n\t\t]);\n\t});\n\n});\n"]}