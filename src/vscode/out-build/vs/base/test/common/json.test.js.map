{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/base/test/common/json.test.ts","vs/base/test/common/json.test.ts"],"names":[],"mappings":"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","file":"json.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport assert from 'assert';\nimport { createScanner, Node, parse, ParseError, ParseErrorCode, ParseOptions, parseTree, ScanError, SyntaxKind } from '../../common/json.js';\nimport { getParseErrorMessage } from '../../common/jsonErrorMessages.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from './utils.js';\n\nfunction assertKinds(text: string, ...kinds: SyntaxKind[]): void {\n\tconst scanner = createScanner(text);\n\tlet kind: SyntaxKind;\n\twhile ((kind = scanner.scan()) !== SyntaxKind.EOF) {\n\t\tassert.strictEqual(kind, kinds.shift());\n\t}\n\tassert.strictEqual(kinds.length, 0);\n}\nfunction assertScanError(text: string, expectedKind: SyntaxKind, scanError: ScanError): void {\n\tconst scanner = createScanner(text);\n\tscanner.scan();\n\tassert.strictEqual(scanner.getToken(), expectedKind);\n\tassert.strictEqual(scanner.getTokenError(), scanError);\n}\n\nfunction assertValidParse(input: string, expected: any, options?: ParseOptions): void {\n\tconst errors: ParseError[] = [];\n\tconst actual = parse(input, errors, options);\n\n\tif (errors.length !== 0) {\n\t\tassert(false, getParseErrorMessage(errors[0].error));\n\t}\n\tassert.deepStrictEqual(actual, expected);\n}\n\nfunction assertInvalidParse(input: string, expected: any, options?: ParseOptions): void {\n\tconst errors: ParseError[] = [];\n\tconst actual = parse(input, errors, options);\n\n\tassert(errors.length > 0);\n\tassert.deepStrictEqual(actual, expected);\n}\n\nfunction assertTree(input: string, expected: any, expectedErrors: number[] = [], options?: ParseOptions): void {\n\tconst errors: ParseError[] = [];\n\tconst actual = parseTree(input, errors, options);\n\n\tassert.deepStrictEqual(errors.map(e => e.error, expected), expectedErrors);\n\tconst checkParent = (node: Node) => {\n\t\tif (node.children) {\n\t\t\tfor (const child of node.children) {\n\t\t\t\tassert.strictEqual(node, child.parent);\n\t\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\t\tdelete (<any>child).parent; // delete to avoid recursion in deep equal\n\t\t\t\tcheckParent(child);\n\t\t\t}\n\t\t}\n\t};\n\tcheckParent(actual);\n\n\tassert.deepStrictEqual(actual, expected);\n}\n\nsuite('JSON', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('tokens', () => {\n\t\tassertKinds('{', SyntaxKind.OpenBraceToken);\n\t\tassertKinds('}', SyntaxKind.CloseBraceToken);\n\t\tassertKinds('[', SyntaxKind.OpenBracketToken);\n\t\tassertKinds(']', SyntaxKind.CloseBracketToken);\n\t\tassertKinds(':', SyntaxKind.ColonToken);\n\t\tassertKinds(',', SyntaxKind.CommaToken);\n\t});\n\n\ttest('comments', () => {\n\t\tassertKinds('// this is a comment', SyntaxKind.LineCommentTrivia);\n\t\tassertKinds('// this is a comment\\n', SyntaxKind.LineCommentTrivia, SyntaxKind.LineBreakTrivia);\n\t\tassertKinds('/* this is a comment*/', SyntaxKind.BlockCommentTrivia);\n\t\tassertKinds('/* this is a \\r\\ncomment*/', SyntaxKind.BlockCommentTrivia);\n\t\tassertKinds('/* this is a \\ncomment*/', SyntaxKind.BlockCommentTrivia);\n\n\t\t// unexpected end\n\t\tassertKinds('/* this is a', SyntaxKind.BlockCommentTrivia);\n\t\tassertKinds('/* this is a \\ncomment', SyntaxKind.BlockCommentTrivia);\n\n\t\t// broken comment\n\t\tassertKinds('/ ttt', SyntaxKind.Unknown, SyntaxKind.Trivia, SyntaxKind.Unknown);\n\t});\n\n\ttest('strings', () => {\n\t\tassertKinds('\"test\"', SyntaxKind.StringLiteral);\n\t\tassertKinds('\"\\\\\"\"', SyntaxKind.StringLiteral);\n\t\tassertKinds('\"\\\\/\"', SyntaxKind.StringLiteral);\n\t\tassertKinds('\"\\\\b\"', SyntaxKind.StringLiteral);\n\t\tassertKinds('\"\\\\f\"', SyntaxKind.StringLiteral);\n\t\tassertKinds('\"\\\\n\"', SyntaxKind.StringLiteral);\n\t\tassertKinds('\"\\\\r\"', SyntaxKind.StringLiteral);\n\t\tassertKinds('\"\\\\t\"', SyntaxKind.StringLiteral);\n\t\tassertKinds('\"\\\\v\"', SyntaxKind.StringLiteral);\n\t\tassertKinds('\"\\u88ff\"', SyntaxKind.StringLiteral);\n\t\tassertKinds('\"​\\u2028\"', SyntaxKind.StringLiteral);\n\n\t\t// unexpected end\n\t\tassertKinds('\"test', SyntaxKind.StringLiteral);\n\t\tassertKinds('\"test\\n\"', SyntaxKind.StringLiteral, SyntaxKind.LineBreakTrivia, SyntaxKind.StringLiteral);\n\n\t\t// invalid characters\n\t\tassertScanError('\"\\t\"', SyntaxKind.StringLiteral, ScanError.InvalidCharacter);\n\t\tassertScanError('\"\\t \"', SyntaxKind.StringLiteral, ScanError.InvalidCharacter);\n\t});\n\n\ttest('numbers', () => {\n\t\tassertKinds('0', SyntaxKind.NumericLiteral);\n\t\tassertKinds('0.1', SyntaxKind.NumericLiteral);\n\t\tassertKinds('-0.1', SyntaxKind.NumericLiteral);\n\t\tassertKinds('-1', SyntaxKind.NumericLiteral);\n\t\tassertKinds('1', SyntaxKind.NumericLiteral);\n\t\tassertKinds('123456789', SyntaxKind.NumericLiteral);\n\t\tassertKinds('10', SyntaxKind.NumericLiteral);\n\t\tassertKinds('90', SyntaxKind.NumericLiteral);\n\t\tassertKinds('90E+123', SyntaxKind.NumericLiteral);\n\t\tassertKinds('90e+123', SyntaxKind.NumericLiteral);\n\t\tassertKinds('90e-123', SyntaxKind.NumericLiteral);\n\t\tassertKinds('90E-123', SyntaxKind.NumericLiteral);\n\t\tassertKinds('90E123', SyntaxKind.NumericLiteral);\n\t\tassertKinds('90e123', SyntaxKind.NumericLiteral);\n\n\t\t// zero handling\n\t\tassertKinds('01', SyntaxKind.NumericLiteral, SyntaxKind.NumericLiteral);\n\t\tassertKinds('-01', SyntaxKind.NumericLiteral, SyntaxKind.NumericLiteral);\n\n\t\t// unexpected end\n\t\tassertKinds('-', SyntaxKind.Unknown);\n\t\tassertKinds('.0', SyntaxKind.Unknown);\n\t});\n\n\ttest('keywords: true, false, null', () => {\n\t\tassertKinds('true', SyntaxKind.TrueKeyword);\n\t\tassertKinds('false', SyntaxKind.FalseKeyword);\n\t\tassertKinds('null', SyntaxKind.NullKeyword);\n\n\n\t\tassertKinds('true false null',\n\t\t\tSyntaxKind.TrueKeyword,\n\t\t\tSyntaxKind.Trivia,\n\t\t\tSyntaxKind.FalseKeyword,\n\t\t\tSyntaxKind.Trivia,\n\t\t\tSyntaxKind.NullKeyword);\n\n\t\t// invalid words\n\t\tassertKinds('nulllll', SyntaxKind.Unknown);\n\t\tassertKinds('True', SyntaxKind.Unknown);\n\t\tassertKinds('foo-bar', SyntaxKind.Unknown);\n\t\tassertKinds('foo bar', SyntaxKind.Unknown, SyntaxKind.Trivia, SyntaxKind.Unknown);\n\t});\n\n\ttest('trivia', () => {\n\t\tassertKinds(' ', SyntaxKind.Trivia);\n\t\tassertKinds('  \\t  ', SyntaxKind.Trivia);\n\t\tassertKinds('  \\t  \\n  \\t  ', SyntaxKind.Trivia, SyntaxKind.LineBreakTrivia, SyntaxKind.Trivia);\n\t\tassertKinds('\\r\\n', SyntaxKind.LineBreakTrivia);\n\t\tassertKinds('\\r', SyntaxKind.LineBreakTrivia);\n\t\tassertKinds('\\n', SyntaxKind.LineBreakTrivia);\n\t\tassertKinds('\\n\\r', SyntaxKind.LineBreakTrivia, SyntaxKind.LineBreakTrivia);\n\t\tassertKinds('\\n   \\n', SyntaxKind.LineBreakTrivia, SyntaxKind.Trivia, SyntaxKind.LineBreakTrivia);\n\t});\n\n\ttest('parse: literals', () => {\n\n\t\tassertValidParse('true', true);\n\t\tassertValidParse('false', false);\n\t\tassertValidParse('null', null);\n\t\tassertValidParse('\"foo\"', 'foo');\n\t\tassertValidParse('\"\\\\\"-\\\\\\\\-\\\\/-\\\\b-\\\\f-\\\\n-\\\\r-\\\\t\"', '\"-\\\\-/-\\b-\\f-\\n-\\r-\\t');\n\t\tassertValidParse('\"\\\\u00DC\"', 'Ü');\n\t\tassertValidParse('9', 9);\n\t\tassertValidParse('-9', -9);\n\t\tassertValidParse('0.129', 0.129);\n\t\tassertValidParse('23e3', 23e3);\n\t\tassertValidParse('1.2E+3', 1.2E+3);\n\t\tassertValidParse('1.2E-3', 1.2E-3);\n\t\tassertValidParse('1.2E-3 // comment', 1.2E-3);\n\t});\n\n\ttest('parse: objects', () => {\n\t\tassertValidParse('{}', {});\n\t\tassertValidParse('{ \"foo\": true }', { foo: true });\n\t\tassertValidParse('{ \"bar\": 8, \"xoo\": \"foo\" }', { bar: 8, xoo: 'foo' });\n\t\tassertValidParse('{ \"hello\": [], \"world\": {} }', { hello: [], world: {} });\n\t\tassertValidParse('{ \"a\": false, \"b\": true, \"c\": [ 7.4 ] }', { a: false, b: true, c: [7.4] });\n\t\tassertValidParse('{ \"lineComment\": \"//\", \"blockComment\": [\"/*\", \"*/\"], \"brackets\": [ [\"{\", \"}\"], [\"[\", \"]\"], [\"(\", \")\"] ] }', { lineComment: '//', blockComment: ['/*', '*/'], brackets: [['{', '}'], ['[', ']'], ['(', ')']] });\n\t\tassertValidParse('{ \"hello\": [], \"world\": {} }', { hello: [], world: {} });\n\t\tassertValidParse('{ \"hello\": { \"again\": { \"inside\": 5 }, \"world\": 1 }}', { hello: { again: { inside: 5 }, world: 1 } });\n\t\tassertValidParse('{ \"foo\": /*hello*/true }', { foo: true });\n\t});\n\n\ttest('parse: arrays', () => {\n\t\tassertValidParse('[]', []);\n\t\tassertValidParse('[ [],  [ [] ]]', [[], [[]]]);\n\t\tassertValidParse('[ 1, 2, 3 ]', [1, 2, 3]);\n\t\tassertValidParse('[ { \"a\": null } ]', [{ a: null }]);\n\t});\n\n\ttest('parse: objects with errors', () => {\n\t\tassertInvalidParse('{,}', {});\n\t\tassertInvalidParse('{ \"foo\": true, }', { foo: true }, { allowTrailingComma: false });\n\t\tassertInvalidParse('{ \"bar\": 8 \"xoo\": \"foo\" }', { bar: 8, xoo: 'foo' });\n\t\tassertInvalidParse('{ ,\"bar\": 8 }', { bar: 8 });\n\t\tassertInvalidParse('{ ,\"bar\": 8, \"foo\" }', { bar: 8 });\n\t\tassertInvalidParse('{ \"bar\": 8, \"foo\": }', { bar: 8 });\n\t\tassertInvalidParse('{ 8, \"foo\": 9 }', { foo: 9 });\n\t});\n\n\ttest('parse: array with errors', () => {\n\t\tassertInvalidParse('[,]', []);\n\t\tassertInvalidParse('[ 1, 2, ]', [1, 2], { allowTrailingComma: false });\n\t\tassertInvalidParse('[ 1 2, 3 ]', [1, 2, 3]);\n\t\tassertInvalidParse('[ ,1, 2, 3 ]', [1, 2, 3]);\n\t\tassertInvalidParse('[ ,1, 2, 3, ]', [1, 2, 3], { allowTrailingComma: false });\n\t});\n\n\ttest('parse: disallow commments', () => {\n\t\tconst options = { disallowComments: true };\n\n\t\tassertValidParse('[ 1, 2, null, \"foo\" ]', [1, 2, null, 'foo'], options);\n\t\tassertValidParse('{ \"hello\": [], \"world\": {} }', { hello: [], world: {} }, options);\n\n\t\tassertInvalidParse('{ \"foo\": /*comment*/ true }', { foo: true }, options);\n\t});\n\n\ttest('parse: trailing comma', () => {\n\t\t// default is allow\n\t\tassertValidParse('{ \"hello\": [], }', { hello: [] });\n\n\t\tlet options = { allowTrailingComma: true };\n\t\tassertValidParse('{ \"hello\": [], }', { hello: [] }, options);\n\t\tassertValidParse('{ \"hello\": [] }', { hello: [] }, options);\n\t\tassertValidParse('{ \"hello\": [], \"world\": {}, }', { hello: [], world: {} }, options);\n\t\tassertValidParse('{ \"hello\": [], \"world\": {} }', { hello: [], world: {} }, options);\n\t\tassertValidParse('{ \"hello\": [1,] }', { hello: [1] }, options);\n\n\t\toptions = { allowTrailingComma: false };\n\t\tassertInvalidParse('{ \"hello\": [], }', { hello: [] }, options);\n\t\tassertInvalidParse('{ \"hello\": [], \"world\": {}, }', { hello: [], world: {} }, options);\n\t});\n\n\ttest('tree: literals', () => {\n\t\tassertTree('true', { type: 'boolean', offset: 0, length: 4, value: true });\n\t\tassertTree('false', { type: 'boolean', offset: 0, length: 5, value: false });\n\t\tassertTree('null', { type: 'null', offset: 0, length: 4, value: null });\n\t\tassertTree('23', { type: 'number', offset: 0, length: 2, value: 23 });\n\t\tassertTree('-1.93e-19', { type: 'number', offset: 0, length: 9, value: -1.93e-19 });\n\t\tassertTree('\"hello\"', { type: 'string', offset: 0, length: 7, value: 'hello' });\n\t});\n\n\ttest('tree: arrays', () => {\n\t\tassertTree('[]', { type: 'array', offset: 0, length: 2, children: [] });\n\t\tassertTree('[ 1 ]', { type: 'array', offset: 0, length: 5, children: [{ type: 'number', offset: 2, length: 1, value: 1 }] });\n\t\tassertTree('[ 1,\"x\"]', {\n\t\t\ttype: 'array', offset: 0, length: 8, children: [\n\t\t\t\t{ type: 'number', offset: 2, length: 1, value: 1 },\n\t\t\t\t{ type: 'string', offset: 4, length: 3, value: 'x' }\n\t\t\t]\n\t\t});\n\t\tassertTree('[[]]', {\n\t\t\ttype: 'array', offset: 0, length: 4, children: [\n\t\t\t\t{ type: 'array', offset: 1, length: 2, children: [] }\n\t\t\t]\n\t\t});\n\t});\n\n\ttest('tree: objects', () => {\n\t\tassertTree('{ }', { type: 'object', offset: 0, length: 3, children: [] });\n\t\tassertTree('{ \"val\": 1 }', {\n\t\t\ttype: 'object', offset: 0, length: 12, children: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'property', offset: 2, length: 8, colonOffset: 7, children: [\n\t\t\t\t\t\t{ type: 'string', offset: 2, length: 5, value: 'val' },\n\t\t\t\t\t\t{ type: 'number', offset: 9, length: 1, value: 1 }\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\t\tassertTree('{\"id\": \"$\", \"v\": [ null, null] }',\n\t\t\t{\n\t\t\t\ttype: 'object', offset: 0, length: 32, children: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'property', offset: 1, length: 9, colonOffset: 5, children: [\n\t\t\t\t\t\t\t{ type: 'string', offset: 1, length: 4, value: 'id' },\n\t\t\t\t\t\t\t{ type: 'string', offset: 7, length: 3, value: '$' }\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'property', offset: 12, length: 18, colonOffset: 15, children: [\n\t\t\t\t\t\t\t{ type: 'string', offset: 12, length: 3, value: 'v' },\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'array', offset: 17, length: 13, children: [\n\t\t\t\t\t\t\t\t\t{ type: 'null', offset: 19, length: 4, value: null },\n\t\t\t\t\t\t\t\t\t{ type: 'null', offset: 25, length: 4, value: null }\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t);\n\t\tassertTree('{  \"id\": { \"foo\": { } } , }',\n\t\t\t{\n\t\t\t\ttype: 'object', offset: 0, length: 27, children: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'property', offset: 3, length: 20, colonOffset: 7, children: [\n\t\t\t\t\t\t\t{ type: 'string', offset: 3, length: 4, value: 'id' },\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'object', offset: 9, length: 14, children: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ttype: 'property', offset: 11, length: 10, colonOffset: 16, children: [\n\t\t\t\t\t\t\t\t\t\t\t{ type: 'string', offset: 11, length: 5, value: 'foo' },\n\t\t\t\t\t\t\t\t\t\t\t{ type: 'object', offset: 18, length: 3, children: [] }\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t\t, [ParseErrorCode.PropertyNameExpected, ParseErrorCode.ValueExpected], { allowTrailingComma: false });\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport assert from 'assert';\nimport { createScanner, Node, parse, ParseError, ParseErrorCode, ParseOptions, parseTree, ScanError, SyntaxKind } from '../../common/json.js';\nimport { getParseErrorMessage } from '../../common/jsonErrorMessages.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from './utils.js';\n\nfunction assertKinds(text: string, ...kinds: SyntaxKind[]): void {\n\tconst scanner = createScanner(text);\n\tlet kind: SyntaxKind;\n\twhile ((kind = scanner.scan()) !== SyntaxKind.EOF) {\n\t\tassert.strictEqual(kind, kinds.shift());\n\t}\n\tassert.strictEqual(kinds.length, 0);\n}\nfunction assertScanError(text: string, expectedKind: SyntaxKind, scanError: ScanError): void {\n\tconst scanner = createScanner(text);\n\tscanner.scan();\n\tassert.strictEqual(scanner.getToken(), expectedKind);\n\tassert.strictEqual(scanner.getTokenError(), scanError);\n}\n\nfunction assertValidParse(input: string, expected: any, options?: ParseOptions): void {\n\tconst errors: ParseError[] = [];\n\tconst actual = parse(input, errors, options);\n\n\tif (errors.length !== 0) {\n\t\tassert(false, getParseErrorMessage(errors[0].error));\n\t}\n\tassert.deepStrictEqual(actual, expected);\n}\n\nfunction assertInvalidParse(input: string, expected: any, options?: ParseOptions): void {\n\tconst errors: ParseError[] = [];\n\tconst actual = parse(input, errors, options);\n\n\tassert(errors.length > 0);\n\tassert.deepStrictEqual(actual, expected);\n}\n\nfunction assertTree(input: string, expected: any, expectedErrors: number[] = [], options?: ParseOptions): void {\n\tconst errors: ParseError[] = [];\n\tconst actual = parseTree(input, errors, options);\n\n\tassert.deepStrictEqual(errors.map(e => e.error, expected), expectedErrors);\n\tconst checkParent = (node: Node) => {\n\t\tif (node.children) {\n\t\t\tfor (const child of node.children) {\n\t\t\t\tassert.strictEqual(node, child.parent);\n\t\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\t\tdelete (<any>child).parent; // delete to avoid recursion in deep equal\n\t\t\t\tcheckParent(child);\n\t\t\t}\n\t\t}\n\t};\n\tcheckParent(actual);\n\n\tassert.deepStrictEqual(actual, expected);\n}\n\nsuite('JSON', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('tokens', () => {\n\t\tassertKinds('{', SyntaxKind.OpenBraceToken);\n\t\tassertKinds('}', SyntaxKind.CloseBraceToken);\n\t\tassertKinds('[', SyntaxKind.OpenBracketToken);\n\t\tassertKinds(']', SyntaxKind.CloseBracketToken);\n\t\tassertKinds(':', SyntaxKind.ColonToken);\n\t\tassertKinds(',', SyntaxKind.CommaToken);\n\t});\n\n\ttest('comments', () => {\n\t\tassertKinds('// this is a comment', SyntaxKind.LineCommentTrivia);\n\t\tassertKinds('// this is a comment\\n', SyntaxKind.LineCommentTrivia, SyntaxKind.LineBreakTrivia);\n\t\tassertKinds('/* this is a comment*/', SyntaxKind.BlockCommentTrivia);\n\t\tassertKinds('/* this is a \\r\\ncomment*/', SyntaxKind.BlockCommentTrivia);\n\t\tassertKinds('/* this is a \\ncomment*/', SyntaxKind.BlockCommentTrivia);\n\n\t\t// unexpected end\n\t\tassertKinds('/* this is a', SyntaxKind.BlockCommentTrivia);\n\t\tassertKinds('/* this is a \\ncomment', SyntaxKind.BlockCommentTrivia);\n\n\t\t// broken comment\n\t\tassertKinds('/ ttt', SyntaxKind.Unknown, SyntaxKind.Trivia, SyntaxKind.Unknown);\n\t});\n\n\ttest('strings', () => {\n\t\tassertKinds('\"test\"', SyntaxKind.StringLiteral);\n\t\tassertKinds('\"\\\\\"\"', SyntaxKind.StringLiteral);\n\t\tassertKinds('\"\\\\/\"', SyntaxKind.StringLiteral);\n\t\tassertKinds('\"\\\\b\"', SyntaxKind.StringLiteral);\n\t\tassertKinds('\"\\\\f\"', SyntaxKind.StringLiteral);\n\t\tassertKinds('\"\\\\n\"', SyntaxKind.StringLiteral);\n\t\tassertKinds('\"\\\\r\"', SyntaxKind.StringLiteral);\n\t\tassertKinds('\"\\\\t\"', SyntaxKind.StringLiteral);\n\t\tassertKinds('\"\\\\v\"', SyntaxKind.StringLiteral);\n\t\tassertKinds('\"\\u88ff\"', SyntaxKind.StringLiteral);\n\t\tassertKinds('\"​\\u2028\"', SyntaxKind.StringLiteral);\n\n\t\t// unexpected end\n\t\tassertKinds('\"test', SyntaxKind.StringLiteral);\n\t\tassertKinds('\"test\\n\"', SyntaxKind.StringLiteral, SyntaxKind.LineBreakTrivia, SyntaxKind.StringLiteral);\n\n\t\t// invalid characters\n\t\tassertScanError('\"\\t\"', SyntaxKind.StringLiteral, ScanError.InvalidCharacter);\n\t\tassertScanError('\"\\t \"', SyntaxKind.StringLiteral, ScanError.InvalidCharacter);\n\t});\n\n\ttest('numbers', () => {\n\t\tassertKinds('0', SyntaxKind.NumericLiteral);\n\t\tassertKinds('0.1', SyntaxKind.NumericLiteral);\n\t\tassertKinds('-0.1', SyntaxKind.NumericLiteral);\n\t\tassertKinds('-1', SyntaxKind.NumericLiteral);\n\t\tassertKinds('1', SyntaxKind.NumericLiteral);\n\t\tassertKinds('123456789', SyntaxKind.NumericLiteral);\n\t\tassertKinds('10', SyntaxKind.NumericLiteral);\n\t\tassertKinds('90', SyntaxKind.NumericLiteral);\n\t\tassertKinds('90E+123', SyntaxKind.NumericLiteral);\n\t\tassertKinds('90e+123', SyntaxKind.NumericLiteral);\n\t\tassertKinds('90e-123', SyntaxKind.NumericLiteral);\n\t\tassertKinds('90E-123', SyntaxKind.NumericLiteral);\n\t\tassertKinds('90E123', SyntaxKind.NumericLiteral);\n\t\tassertKinds('90e123', SyntaxKind.NumericLiteral);\n\n\t\t// zero handling\n\t\tassertKinds('01', SyntaxKind.NumericLiteral, SyntaxKind.NumericLiteral);\n\t\tassertKinds('-01', SyntaxKind.NumericLiteral, SyntaxKind.NumericLiteral);\n\n\t\t// unexpected end\n\t\tassertKinds('-', SyntaxKind.Unknown);\n\t\tassertKinds('.0', SyntaxKind.Unknown);\n\t});\n\n\ttest('keywords: true, false, null', () => {\n\t\tassertKinds('true', SyntaxKind.TrueKeyword);\n\t\tassertKinds('false', SyntaxKind.FalseKeyword);\n\t\tassertKinds('null', SyntaxKind.NullKeyword);\n\n\n\t\tassertKinds('true false null',\n\t\t\tSyntaxKind.TrueKeyword,\n\t\t\tSyntaxKind.Trivia,\n\t\t\tSyntaxKind.FalseKeyword,\n\t\t\tSyntaxKind.Trivia,\n\t\t\tSyntaxKind.NullKeyword);\n\n\t\t// invalid words\n\t\tassertKinds('nulllll', SyntaxKind.Unknown);\n\t\tassertKinds('True', SyntaxKind.Unknown);\n\t\tassertKinds('foo-bar', SyntaxKind.Unknown);\n\t\tassertKinds('foo bar', SyntaxKind.Unknown, SyntaxKind.Trivia, SyntaxKind.Unknown);\n\t});\n\n\ttest('trivia', () => {\n\t\tassertKinds(' ', SyntaxKind.Trivia);\n\t\tassertKinds('  \\t  ', SyntaxKind.Trivia);\n\t\tassertKinds('  \\t  \\n  \\t  ', SyntaxKind.Trivia, SyntaxKind.LineBreakTrivia, SyntaxKind.Trivia);\n\t\tassertKinds('\\r\\n', SyntaxKind.LineBreakTrivia);\n\t\tassertKinds('\\r', SyntaxKind.LineBreakTrivia);\n\t\tassertKinds('\\n', SyntaxKind.LineBreakTrivia);\n\t\tassertKinds('\\n\\r', SyntaxKind.LineBreakTrivia, SyntaxKind.LineBreakTrivia);\n\t\tassertKinds('\\n   \\n', SyntaxKind.LineBreakTrivia, SyntaxKind.Trivia, SyntaxKind.LineBreakTrivia);\n\t});\n\n\ttest('parse: literals', () => {\n\n\t\tassertValidParse('true', true);\n\t\tassertValidParse('false', false);\n\t\tassertValidParse('null', null);\n\t\tassertValidParse('\"foo\"', 'foo');\n\t\tassertValidParse('\"\\\\\"-\\\\\\\\-\\\\/-\\\\b-\\\\f-\\\\n-\\\\r-\\\\t\"', '\"-\\\\-/-\\b-\\f-\\n-\\r-\\t');\n\t\tassertValidParse('\"\\\\u00DC\"', 'Ü');\n\t\tassertValidParse('9', 9);\n\t\tassertValidParse('-9', -9);\n\t\tassertValidParse('0.129', 0.129);\n\t\tassertValidParse('23e3', 23e3);\n\t\tassertValidParse('1.2E+3', 1.2E+3);\n\t\tassertValidParse('1.2E-3', 1.2E-3);\n\t\tassertValidParse('1.2E-3 // comment', 1.2E-3);\n\t});\n\n\ttest('parse: objects', () => {\n\t\tassertValidParse('{}', {});\n\t\tassertValidParse('{ \"foo\": true }', { foo: true });\n\t\tassertValidParse('{ \"bar\": 8, \"xoo\": \"foo\" }', { bar: 8, xoo: 'foo' });\n\t\tassertValidParse('{ \"hello\": [], \"world\": {} }', { hello: [], world: {} });\n\t\tassertValidParse('{ \"a\": false, \"b\": true, \"c\": [ 7.4 ] }', { a: false, b: true, c: [7.4] });\n\t\tassertValidParse('{ \"lineComment\": \"//\", \"blockComment\": [\"/*\", \"*/\"], \"brackets\": [ [\"{\", \"}\"], [\"[\", \"]\"], [\"(\", \")\"] ] }', { lineComment: '//', blockComment: ['/*', '*/'], brackets: [['{', '}'], ['[', ']'], ['(', ')']] });\n\t\tassertValidParse('{ \"hello\": [], \"world\": {} }', { hello: [], world: {} });\n\t\tassertValidParse('{ \"hello\": { \"again\": { \"inside\": 5 }, \"world\": 1 }}', { hello: { again: { inside: 5 }, world: 1 } });\n\t\tassertValidParse('{ \"foo\": /*hello*/true }', { foo: true });\n\t});\n\n\ttest('parse: arrays', () => {\n\t\tassertValidParse('[]', []);\n\t\tassertValidParse('[ [],  [ [] ]]', [[], [[]]]);\n\t\tassertValidParse('[ 1, 2, 3 ]', [1, 2, 3]);\n\t\tassertValidParse('[ { \"a\": null } ]', [{ a: null }]);\n\t});\n\n\ttest('parse: objects with errors', () => {\n\t\tassertInvalidParse('{,}', {});\n\t\tassertInvalidParse('{ \"foo\": true, }', { foo: true }, { allowTrailingComma: false });\n\t\tassertInvalidParse('{ \"bar\": 8 \"xoo\": \"foo\" }', { bar: 8, xoo: 'foo' });\n\t\tassertInvalidParse('{ ,\"bar\": 8 }', { bar: 8 });\n\t\tassertInvalidParse('{ ,\"bar\": 8, \"foo\" }', { bar: 8 });\n\t\tassertInvalidParse('{ \"bar\": 8, \"foo\": }', { bar: 8 });\n\t\tassertInvalidParse('{ 8, \"foo\": 9 }', { foo: 9 });\n\t});\n\n\ttest('parse: array with errors', () => {\n\t\tassertInvalidParse('[,]', []);\n\t\tassertInvalidParse('[ 1, 2, ]', [1, 2], { allowTrailingComma: false });\n\t\tassertInvalidParse('[ 1 2, 3 ]', [1, 2, 3]);\n\t\tassertInvalidParse('[ ,1, 2, 3 ]', [1, 2, 3]);\n\t\tassertInvalidParse('[ ,1, 2, 3, ]', [1, 2, 3], { allowTrailingComma: false });\n\t});\n\n\ttest('parse: disallow commments', () => {\n\t\tconst options = { disallowComments: true };\n\n\t\tassertValidParse('[ 1, 2, null, \"foo\" ]', [1, 2, null, 'foo'], options);\n\t\tassertValidParse('{ \"hello\": [], \"world\": {} }', { hello: [], world: {} }, options);\n\n\t\tassertInvalidParse('{ \"foo\": /*comment*/ true }', { foo: true }, options);\n\t});\n\n\ttest('parse: trailing comma', () => {\n\t\t// default is allow\n\t\tassertValidParse('{ \"hello\": [], }', { hello: [] });\n\n\t\tlet options = { allowTrailingComma: true };\n\t\tassertValidParse('{ \"hello\": [], }', { hello: [] }, options);\n\t\tassertValidParse('{ \"hello\": [] }', { hello: [] }, options);\n\t\tassertValidParse('{ \"hello\": [], \"world\": {}, }', { hello: [], world: {} }, options);\n\t\tassertValidParse('{ \"hello\": [], \"world\": {} }', { hello: [], world: {} }, options);\n\t\tassertValidParse('{ \"hello\": [1,] }', { hello: [1] }, options);\n\n\t\toptions = { allowTrailingComma: false };\n\t\tassertInvalidParse('{ \"hello\": [], }', { hello: [] }, options);\n\t\tassertInvalidParse('{ \"hello\": [], \"world\": {}, }', { hello: [], world: {} }, options);\n\t});\n\n\ttest('tree: literals', () => {\n\t\tassertTree('true', { type: 'boolean', offset: 0, length: 4, value: true });\n\t\tassertTree('false', { type: 'boolean', offset: 0, length: 5, value: false });\n\t\tassertTree('null', { type: 'null', offset: 0, length: 4, value: null });\n\t\tassertTree('23', { type: 'number', offset: 0, length: 2, value: 23 });\n\t\tassertTree('-1.93e-19', { type: 'number', offset: 0, length: 9, value: -1.93e-19 });\n\t\tassertTree('\"hello\"', { type: 'string', offset: 0, length: 7, value: 'hello' });\n\t});\n\n\ttest('tree: arrays', () => {\n\t\tassertTree('[]', { type: 'array', offset: 0, length: 2, children: [] });\n\t\tassertTree('[ 1 ]', { type: 'array', offset: 0, length: 5, children: [{ type: 'number', offset: 2, length: 1, value: 1 }] });\n\t\tassertTree('[ 1,\"x\"]', {\n\t\t\ttype: 'array', offset: 0, length: 8, children: [\n\t\t\t\t{ type: 'number', offset: 2, length: 1, value: 1 },\n\t\t\t\t{ type: 'string', offset: 4, length: 3, value: 'x' }\n\t\t\t]\n\t\t});\n\t\tassertTree('[[]]', {\n\t\t\ttype: 'array', offset: 0, length: 4, children: [\n\t\t\t\t{ type: 'array', offset: 1, length: 2, children: [] }\n\t\t\t]\n\t\t});\n\t});\n\n\ttest('tree: objects', () => {\n\t\tassertTree('{ }', { type: 'object', offset: 0, length: 3, children: [] });\n\t\tassertTree('{ \"val\": 1 }', {\n\t\t\ttype: 'object', offset: 0, length: 12, children: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'property', offset: 2, length: 8, colonOffset: 7, children: [\n\t\t\t\t\t\t{ type: 'string', offset: 2, length: 5, value: 'val' },\n\t\t\t\t\t\t{ type: 'number', offset: 9, length: 1, value: 1 }\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\t\tassertTree('{\"id\": \"$\", \"v\": [ null, null] }',\n\t\t\t{\n\t\t\t\ttype: 'object', offset: 0, length: 32, children: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'property', offset: 1, length: 9, colonOffset: 5, children: [\n\t\t\t\t\t\t\t{ type: 'string', offset: 1, length: 4, value: 'id' },\n\t\t\t\t\t\t\t{ type: 'string', offset: 7, length: 3, value: '$' }\n\t\t\t\t\t\t]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'property', offset: 12, length: 18, colonOffset: 15, children: [\n\t\t\t\t\t\t\t{ type: 'string', offset: 12, length: 3, value: 'v' },\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'array', offset: 17, length: 13, children: [\n\t\t\t\t\t\t\t\t\t{ type: 'null', offset: 19, length: 4, value: null },\n\t\t\t\t\t\t\t\t\t{ type: 'null', offset: 25, length: 4, value: null }\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t);\n\t\tassertTree('{  \"id\": { \"foo\": { } } , }',\n\t\t\t{\n\t\t\t\ttype: 'object', offset: 0, length: 27, children: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'property', offset: 3, length: 20, colonOffset: 7, children: [\n\t\t\t\t\t\t\t{ type: 'string', offset: 3, length: 4, value: 'id' },\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: 'object', offset: 9, length: 14, children: [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\ttype: 'property', offset: 11, length: 10, colonOffset: 16, children: [\n\t\t\t\t\t\t\t\t\t\t\t{ type: 'string', offset: 11, length: 5, value: 'foo' },\n\t\t\t\t\t\t\t\t\t\t\t{ type: 'object', offset: 18, length: 3, children: [] }\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t\t, [ParseErrorCode.PropertyNameExpected, ParseErrorCode.ValueExpected], { allowTrailingComma: false });\n\t});\n});\n"]}