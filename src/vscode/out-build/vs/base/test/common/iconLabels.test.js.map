{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/base/test/common/iconLabels.test.ts","vs/base/test/common/iconLabels.test.ts"],"names":[],"mappings":"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","file":"iconLabels.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { IMatch } from '../../common/filters.js';\nimport { escapeIcons, getCodiconAriaLabel, IParsedLabelWithIcons, markdownEscapeEscapedIcons, matchesFuzzyIconAware, parseLabelWithIcons, stripIcons } from '../../common/iconLabels.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from './utils.js';\n\ninterface IIconFilter {\n\t// Returns null if word doesn't match.\n\t(query: string, target: IParsedLabelWithIcons): IMatch[] | null;\n}\n\nfunction filterOk(filter: IIconFilter, word: string, target: IParsedLabelWithIcons, highlights?: { start: number; end: number }[]) {\n\tconst r = filter(word, target);\n\tassert(r);\n\tif (highlights) {\n\t\tassert.deepStrictEqual(r, highlights);\n\t}\n}\n\nsuite('Icon Labels', () => {\n\ttest('Can get proper aria labels', () => {\n\t\t// note, the spaces in the results are important\n\t\tconst testCases = new Map<string, string>([\n\t\t\t['', ''],\n\t\t\t['asdf', 'asdf'],\n\t\t\t['asdf$(squirrel)asdf', 'asdf squirrel asdf'],\n\t\t\t['asdf $(squirrel) asdf', 'asdf  squirrel  asdf'],\n\t\t\t['$(rocket)asdf', 'rocket asdf'],\n\t\t\t['$(rocket) asdf', 'rocket  asdf'],\n\t\t\t['$(rocket)$(rocket)$(rocket)asdf', 'rocket  rocket  rocket asdf'],\n\t\t\t['$(rocket) asdf $(rocket)', 'rocket  asdf  rocket'],\n\t\t\t['$(rocket)asdf$(rocket)', 'rocket asdf rocket'],\n\t\t]);\n\n\t\tfor (const [input, expected] of testCases) {\n\t\t\tassert.strictEqual(getCodiconAriaLabel(input), expected);\n\t\t}\n\t});\n\n\ttest('matchesFuzzyIconAware', () => {\n\n\t\t// Camel Case\n\n\t\tfilterOk(matchesFuzzyIconAware, 'ccr', parseLabelWithIcons('$(codicon)CamelCaseRocks$(codicon)'), [\n\t\t\t{ start: 10, end: 11 },\n\t\t\t{ start: 15, end: 16 },\n\t\t\t{ start: 19, end: 20 }\n\t\t]);\n\n\t\tfilterOk(matchesFuzzyIconAware, 'ccr', parseLabelWithIcons('$(codicon) CamelCaseRocks $(codicon)'), [\n\t\t\t{ start: 11, end: 12 },\n\t\t\t{ start: 16, end: 17 },\n\t\t\t{ start: 20, end: 21 }\n\t\t]);\n\n\t\tfilterOk(matchesFuzzyIconAware, 'iut', parseLabelWithIcons('$(codicon) Indent $(octico) Using $(octic) Tpaces'), [\n\t\t\t{ start: 11, end: 12 },\n\t\t\t{ start: 28, end: 29 },\n\t\t\t{ start: 43, end: 44 },\n\t\t]);\n\n\t\t// Prefix\n\n\t\tfilterOk(matchesFuzzyIconAware, 'using', parseLabelWithIcons('$(codicon) Indent Using Spaces'), [\n\t\t\t{ start: 18, end: 23 },\n\t\t]);\n\n\t\t// Broken Codicon\n\n\t\tfilterOk(matchesFuzzyIconAware, 'codicon', parseLabelWithIcons('This $(codicon Indent Using Spaces'), [\n\t\t\t{ start: 7, end: 14 },\n\t\t]);\n\n\t\tfilterOk(matchesFuzzyIconAware, 'indent', parseLabelWithIcons('This $codicon Indent Using Spaces'), [\n\t\t\t{ start: 14, end: 20 },\n\t\t]);\n\n\t\t// Testing #59343\n\t\tfilterOk(matchesFuzzyIconAware, 'unt', parseLabelWithIcons('$(primitive-dot) $(file-text) Untitled-1'), [\n\t\t\t{ start: 30, end: 33 },\n\t\t]);\n\n\t\t// Testing #136172\n\t\tfilterOk(matchesFuzzyIconAware, 's', parseLabelWithIcons('$(loading~spin) start'), [\n\t\t\t{ start: 16, end: 17 },\n\t\t]);\n\t});\n\n\ttest('stripIcons', () => {\n\t\tassert.strictEqual(stripIcons('Hello World'), 'Hello World');\n\t\tassert.strictEqual(stripIcons('$(Hello World'), '$(Hello World');\n\t\tassert.strictEqual(stripIcons('$(Hello) World'), ' World');\n\t\tassert.strictEqual(stripIcons('$(Hello) W$(oi)rld'), ' Wrld');\n\t});\n\n\n\ttest('escapeIcons', () => {\n\t\tassert.strictEqual(escapeIcons('Hello World'), 'Hello World');\n\t\tassert.strictEqual(escapeIcons('$(Hello World'), '$(Hello World');\n\t\tassert.strictEqual(escapeIcons('$(Hello) World'), '\\\\$(Hello) World');\n\t\tassert.strictEqual(escapeIcons('\\\\$(Hello) W$(oi)rld'), '\\\\$(Hello) W\\\\$(oi)rld');\n\t});\n\n\ttest('markdownEscapeEscapedIcons', () => {\n\t\tassert.strictEqual(markdownEscapeEscapedIcons('Hello World'), 'Hello World');\n\t\tassert.strictEqual(markdownEscapeEscapedIcons('$(Hello) World'), '$(Hello) World');\n\t\tassert.strictEqual(markdownEscapeEscapedIcons('\\\\$(Hello) World'), '\\\\\\\\$(Hello) World');\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { IMatch } from '../../common/filters.js';\nimport { escapeIcons, getCodiconAriaLabel, IParsedLabelWithIcons, markdownEscapeEscapedIcons, matchesFuzzyIconAware, parseLabelWithIcons, stripIcons } from '../../common/iconLabels.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from './utils.js';\n\ninterface IIconFilter {\n\t// Returns null if word doesn't match.\n\t(query: string, target: IParsedLabelWithIcons): IMatch[] | null;\n}\n\nfunction filterOk(filter: IIconFilter, word: string, target: IParsedLabelWithIcons, highlights?: { start: number; end: number }[]) {\n\tconst r = filter(word, target);\n\tassert(r);\n\tif (highlights) {\n\t\tassert.deepStrictEqual(r, highlights);\n\t}\n}\n\nsuite('Icon Labels', () => {\n\ttest('Can get proper aria labels', () => {\n\t\t// note, the spaces in the results are important\n\t\tconst testCases = new Map<string, string>([\n\t\t\t['', ''],\n\t\t\t['asdf', 'asdf'],\n\t\t\t['asdf$(squirrel)asdf', 'asdf squirrel asdf'],\n\t\t\t['asdf $(squirrel) asdf', 'asdf  squirrel  asdf'],\n\t\t\t['$(rocket)asdf', 'rocket asdf'],\n\t\t\t['$(rocket) asdf', 'rocket  asdf'],\n\t\t\t['$(rocket)$(rocket)$(rocket)asdf', 'rocket  rocket  rocket asdf'],\n\t\t\t['$(rocket) asdf $(rocket)', 'rocket  asdf  rocket'],\n\t\t\t['$(rocket)asdf$(rocket)', 'rocket asdf rocket'],\n\t\t]);\n\n\t\tfor (const [input, expected] of testCases) {\n\t\t\tassert.strictEqual(getCodiconAriaLabel(input), expected);\n\t\t}\n\t});\n\n\ttest('matchesFuzzyIconAware', () => {\n\n\t\t// Camel Case\n\n\t\tfilterOk(matchesFuzzyIconAware, 'ccr', parseLabelWithIcons('$(codicon)CamelCaseRocks$(codicon)'), [\n\t\t\t{ start: 10, end: 11 },\n\t\t\t{ start: 15, end: 16 },\n\t\t\t{ start: 19, end: 20 }\n\t\t]);\n\n\t\tfilterOk(matchesFuzzyIconAware, 'ccr', parseLabelWithIcons('$(codicon) CamelCaseRocks $(codicon)'), [\n\t\t\t{ start: 11, end: 12 },\n\t\t\t{ start: 16, end: 17 },\n\t\t\t{ start: 20, end: 21 }\n\t\t]);\n\n\t\tfilterOk(matchesFuzzyIconAware, 'iut', parseLabelWithIcons('$(codicon) Indent $(octico) Using $(octic) Tpaces'), [\n\t\t\t{ start: 11, end: 12 },\n\t\t\t{ start: 28, end: 29 },\n\t\t\t{ start: 43, end: 44 },\n\t\t]);\n\n\t\t// Prefix\n\n\t\tfilterOk(matchesFuzzyIconAware, 'using', parseLabelWithIcons('$(codicon) Indent Using Spaces'), [\n\t\t\t{ start: 18, end: 23 },\n\t\t]);\n\n\t\t// Broken Codicon\n\n\t\tfilterOk(matchesFuzzyIconAware, 'codicon', parseLabelWithIcons('This $(codicon Indent Using Spaces'), [\n\t\t\t{ start: 7, end: 14 },\n\t\t]);\n\n\t\tfilterOk(matchesFuzzyIconAware, 'indent', parseLabelWithIcons('This $codicon Indent Using Spaces'), [\n\t\t\t{ start: 14, end: 20 },\n\t\t]);\n\n\t\t// Testing #59343\n\t\tfilterOk(matchesFuzzyIconAware, 'unt', parseLabelWithIcons('$(primitive-dot) $(file-text) Untitled-1'), [\n\t\t\t{ start: 30, end: 33 },\n\t\t]);\n\n\t\t// Testing #136172\n\t\tfilterOk(matchesFuzzyIconAware, 's', parseLabelWithIcons('$(loading~spin) start'), [\n\t\t\t{ start: 16, end: 17 },\n\t\t]);\n\t});\n\n\ttest('stripIcons', () => {\n\t\tassert.strictEqual(stripIcons('Hello World'), 'Hello World');\n\t\tassert.strictEqual(stripIcons('$(Hello World'), '$(Hello World');\n\t\tassert.strictEqual(stripIcons('$(Hello) World'), ' World');\n\t\tassert.strictEqual(stripIcons('$(Hello) W$(oi)rld'), ' Wrld');\n\t});\n\n\n\ttest('escapeIcons', () => {\n\t\tassert.strictEqual(escapeIcons('Hello World'), 'Hello World');\n\t\tassert.strictEqual(escapeIcons('$(Hello World'), '$(Hello World');\n\t\tassert.strictEqual(escapeIcons('$(Hello) World'), '\\\\$(Hello) World');\n\t\tassert.strictEqual(escapeIcons('\\\\$(Hello) W$(oi)rld'), '\\\\$(Hello) W\\\\$(oi)rld');\n\t});\n\n\ttest('markdownEscapeEscapedIcons', () => {\n\t\tassert.strictEqual(markdownEscapeEscapedIcons('Hello World'), 'Hello World');\n\t\tassert.strictEqual(markdownEscapeEscapedIcons('$(Hello) World'), '$(Hello) World');\n\t\tassert.strictEqual(markdownEscapeEscapedIcons('\\\\$(Hello) World'), '\\\\\\\\$(Hello) World');\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n});\n"]}