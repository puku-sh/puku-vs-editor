{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/base/test/common/jsonSchema.test.ts","vs/base/test/common/jsonSchema.test.ts"],"names":[],"mappings":"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","file":"jsonSchema.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport assert from 'assert';\nimport { getCompressedContent, IJSONSchema } from '../../common/jsonSchema.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from './utils.js';\n\nsuite('JSON Schema', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('getCompressedContent 1', () => {\n\n\t\tconst schema: IJSONSchema = {\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\ta: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tdescription: 'a',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tb: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\tc: {\n\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\td: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\te: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tdescription: 'e',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tb: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\tc: {\n\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\td: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tconst expected: IJSONSchema = {\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\ta: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tdescription: 'a',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tb: {\n\t\t\t\t\t\t\t$ref: '#/$defs/_0'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\te: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tdescription: 'e',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tb: {\n\t\t\t\t\t\t\t$ref: '#/$defs/_0'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t$defs: {\n\t\t\t\t'_0': {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tc: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\td: {\n\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t\tassert.deepEqual(getCompressedContent(schema), JSON.stringify(expected));\n\t});\n\n\ttest('getCompressedContent 2', () => {\n\n\t\tconst schema: IJSONSchema = {\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\ta: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tb: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\tc: {\n\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\td: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\te: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tb: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\tc: {\n\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\td: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tconst expected: IJSONSchema = {\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\ta: {\n\t\t\t\t\t$ref: '#/$defs/_0'\n\n\t\t\t\t},\n\t\t\t\te: {\n\t\t\t\t\t$ref: '#/$defs/_0'\n\t\t\t\t}\n\t\t\t},\n\t\t\t$defs: {\n\t\t\t\t'_0': {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tb: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\tc: {\n\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\td: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t\tassert.deepEqual(getCompressedContent(schema), JSON.stringify(expected));\n\t});\n\n\ttest('getCompressedContent 3', () => {\n\n\n\t\tconst schema: IJSONSchema = {\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\ta: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\toneOf: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallOf: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\tname: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tdescription: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\tstreet: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallOf: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\tname: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tdescription: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\triver: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallOf: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\tname: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tdescription: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\tmountain: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\tb: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tstreet: {\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\tstreet: {\n\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tconst expected: IJSONSchema = {\n\t\t\t'type': 'object',\n\t\t\t'properties': {\n\t\t\t\t'a': {\n\t\t\t\t\t'type': 'object',\n\t\t\t\t\t'oneOf': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'allOf': [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t'$ref': '#/$defs/_0'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t'$ref': '#/$defs/_1'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'allOf': [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t'$ref': '#/$defs/_0'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t'properties': {\n\t\t\t\t\t\t\t\t\t\t'river': {\n\t\t\t\t\t\t\t\t\t\t\t'type': 'string'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'allOf': [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t'$ref': '#/$defs/_0'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t'properties': {\n\t\t\t\t\t\t\t\t\t\t'mountain': {\n\t\t\t\t\t\t\t\t\t\t\t'type': 'string'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t'b': {\n\t\t\t\t\t'type': 'object',\n\t\t\t\t\t'properties': {\n\t\t\t\t\t\t'street': {\n\t\t\t\t\t\t\t'$ref': '#/$defs/_1'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t'$defs': {\n\t\t\t\t'_0': {\n\t\t\t\t\t'properties': {\n\t\t\t\t\t\t'name': {\n\t\t\t\t\t\t\t'type': 'string'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'description': {\n\t\t\t\t\t\t\t'type': 'string'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'_1': {\n\t\t\t\t\t'properties': {\n\t\t\t\t\t\t'street': {\n\t\t\t\t\t\t\t'type': 'string'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tconst actual = getCompressedContent(schema);\n\t\tassert.deepEqual(actual, JSON.stringify(expected));\n\t});\n\n\ttest('getCompressedContent 4', () => {\n\n\t\tconst schema: IJSONSchema = {\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\ta: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tb: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\tc: {\n\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\td: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\te: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tb: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\tc: {\n\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\td: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tf: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\td: {\n\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tconst expected: IJSONSchema = {\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\ta: {\n\t\t\t\t\t$ref: '#/$defs/_0'\n\t\t\t\t},\n\t\t\t\te: {\n\t\t\t\t\t$ref: '#/$defs/_0'\n\t\t\t\t},\n\t\t\t\tf: {\n\t\t\t\t\t$ref: '#/$defs/_1'\n\t\t\t\t}\n\t\t\t},\n\t\t\t$defs: {\n\t\t\t\t'_0': {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tb: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\tc: {\n\t\t\t\t\t\t\t\t\t$ref: '#/$defs/_1'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'_1': {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\td: {\n\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t\tassert.deepEqual(getCompressedContent(schema), JSON.stringify(expected));\n\t});\n\n\ttest('getCompressedContent 5', () => {\n\n\t\tconst schema: IJSONSchema = {\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\ta: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\titems: {\n\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\tc: {\n\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\td: {\n\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\te: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\titems: {\n\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\tc: {\n\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\td: {\n\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tf: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tb: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\tc: {\n\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\td: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tg: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tb: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\tc: {\n\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\td: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tconst expected: IJSONSchema = {\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\ta: {\n\t\t\t\t\t$ref: '#/$defs/_0'\n\t\t\t\t},\n\t\t\t\te: {\n\t\t\t\t\t$ref: '#/$defs/_0'\n\t\t\t\t},\n\t\t\t\tf: {\n\t\t\t\t\t$ref: '#/$defs/_1'\n\t\t\t\t},\n\t\t\t\tg: {\n\t\t\t\t\t$ref: '#/$defs/_1'\n\t\t\t\t}\n\t\t\t},\n\t\t\t$defs: {\n\t\t\t\t'_0': {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\titems: {\n\t\t\t\t\t\t$ref: '#/$defs/_2'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'_1': {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tb: {\n\t\t\t\t\t\t\t$ref: '#/$defs/_2'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'_2': {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tc: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\td: {\n\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t\tassert.deepEqual(getCompressedContent(schema), JSON.stringify(expected));\n\t});\n\n\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport assert from 'assert';\nimport { getCompressedContent, IJSONSchema } from '../../common/jsonSchema.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from './utils.js';\n\nsuite('JSON Schema', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('getCompressedContent 1', () => {\n\n\t\tconst schema: IJSONSchema = {\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\ta: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tdescription: 'a',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tb: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\tc: {\n\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\td: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\te: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tdescription: 'e',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tb: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\tc: {\n\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\td: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tconst expected: IJSONSchema = {\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\ta: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tdescription: 'a',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tb: {\n\t\t\t\t\t\t\t$ref: '#/$defs/_0'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\te: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tdescription: 'e',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tb: {\n\t\t\t\t\t\t\t$ref: '#/$defs/_0'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t$defs: {\n\t\t\t\t'_0': {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tc: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\td: {\n\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t\tassert.deepEqual(getCompressedContent(schema), JSON.stringify(expected));\n\t});\n\n\ttest('getCompressedContent 2', () => {\n\n\t\tconst schema: IJSONSchema = {\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\ta: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tb: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\tc: {\n\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\td: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\te: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tb: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\tc: {\n\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\td: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tconst expected: IJSONSchema = {\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\ta: {\n\t\t\t\t\t$ref: '#/$defs/_0'\n\n\t\t\t\t},\n\t\t\t\te: {\n\t\t\t\t\t$ref: '#/$defs/_0'\n\t\t\t\t}\n\t\t\t},\n\t\t\t$defs: {\n\t\t\t\t'_0': {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tb: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\tc: {\n\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\td: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t\tassert.deepEqual(getCompressedContent(schema), JSON.stringify(expected));\n\t});\n\n\ttest('getCompressedContent 3', () => {\n\n\n\t\tconst schema: IJSONSchema = {\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\ta: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\toneOf: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallOf: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\tname: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tdescription: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\tstreet: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallOf: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\tname: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tdescription: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\triver: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallOf: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\tname: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tdescription: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\tmountain: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\tb: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tstreet: {\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\tstreet: {\n\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tconst expected: IJSONSchema = {\n\t\t\t'type': 'object',\n\t\t\t'properties': {\n\t\t\t\t'a': {\n\t\t\t\t\t'type': 'object',\n\t\t\t\t\t'oneOf': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'allOf': [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t'$ref': '#/$defs/_0'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t'$ref': '#/$defs/_1'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'allOf': [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t'$ref': '#/$defs/_0'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t'properties': {\n\t\t\t\t\t\t\t\t\t\t'river': {\n\t\t\t\t\t\t\t\t\t\t\t'type': 'string'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'allOf': [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t'$ref': '#/$defs/_0'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t'properties': {\n\t\t\t\t\t\t\t\t\t\t'mountain': {\n\t\t\t\t\t\t\t\t\t\t\t'type': 'string'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t'b': {\n\t\t\t\t\t'type': 'object',\n\t\t\t\t\t'properties': {\n\t\t\t\t\t\t'street': {\n\t\t\t\t\t\t\t'$ref': '#/$defs/_1'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t'$defs': {\n\t\t\t\t'_0': {\n\t\t\t\t\t'properties': {\n\t\t\t\t\t\t'name': {\n\t\t\t\t\t\t\t'type': 'string'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'description': {\n\t\t\t\t\t\t\t'type': 'string'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'_1': {\n\t\t\t\t\t'properties': {\n\t\t\t\t\t\t'street': {\n\t\t\t\t\t\t\t'type': 'string'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tconst actual = getCompressedContent(schema);\n\t\tassert.deepEqual(actual, JSON.stringify(expected));\n\t});\n\n\ttest('getCompressedContent 4', () => {\n\n\t\tconst schema: IJSONSchema = {\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\ta: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tb: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\tc: {\n\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\td: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\te: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tb: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\tc: {\n\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\td: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tf: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\td: {\n\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tconst expected: IJSONSchema = {\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\ta: {\n\t\t\t\t\t$ref: '#/$defs/_0'\n\t\t\t\t},\n\t\t\t\te: {\n\t\t\t\t\t$ref: '#/$defs/_0'\n\t\t\t\t},\n\t\t\t\tf: {\n\t\t\t\t\t$ref: '#/$defs/_1'\n\t\t\t\t}\n\t\t\t},\n\t\t\t$defs: {\n\t\t\t\t'_0': {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tb: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\tc: {\n\t\t\t\t\t\t\t\t\t$ref: '#/$defs/_1'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'_1': {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\td: {\n\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t\tassert.deepEqual(getCompressedContent(schema), JSON.stringify(expected));\n\t});\n\n\ttest('getCompressedContent 5', () => {\n\n\t\tconst schema: IJSONSchema = {\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\ta: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\titems: {\n\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\tc: {\n\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\td: {\n\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\te: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\titems: {\n\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\tc: {\n\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\td: {\n\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tf: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tb: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\tc: {\n\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\td: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tg: {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tb: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\tc: {\n\t\t\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\t\t\td: {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tconst expected: IJSONSchema = {\n\t\t\ttype: 'object',\n\t\t\tproperties: {\n\t\t\t\ta: {\n\t\t\t\t\t$ref: '#/$defs/_0'\n\t\t\t\t},\n\t\t\t\te: {\n\t\t\t\t\t$ref: '#/$defs/_0'\n\t\t\t\t},\n\t\t\t\tf: {\n\t\t\t\t\t$ref: '#/$defs/_1'\n\t\t\t\t},\n\t\t\t\tg: {\n\t\t\t\t\t$ref: '#/$defs/_1'\n\t\t\t\t}\n\t\t\t},\n\t\t\t$defs: {\n\t\t\t\t'_0': {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\titems: {\n\t\t\t\t\t\t$ref: '#/$defs/_2'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'_1': {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tb: {\n\t\t\t\t\t\t\t$ref: '#/$defs/_2'\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'_2': {\n\t\t\t\t\ttype: 'object',\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\tc: {\n\t\t\t\t\t\t\ttype: 'object',\n\t\t\t\t\t\t\tproperties: {\n\t\t\t\t\t\t\t\td: {\n\t\t\t\t\t\t\t\t\ttype: 'string'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t\tassert.deepEqual(getCompressedContent(schema), JSON.stringify(expected));\n\t});\n\n\n});\n"]}