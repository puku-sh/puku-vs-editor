{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/base/test/common/jsonFormatter.test.ts","vs/base/test/common/jsonFormatter.test.ts"],"names":[],"mappings":"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","file":"jsonFormatter.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport assert from 'assert';\nimport * as Formatter from '../../common/jsonFormatter.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from './utils.js';\n\nsuite('JSON - formatter', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tfunction format(content: string, expected: string, insertSpaces = true) {\n\t\tlet range: Formatter.Range | undefined = undefined;\n\t\tconst rangeStart = content.indexOf('|');\n\t\tconst rangeEnd = content.lastIndexOf('|');\n\t\tif (rangeStart !== -1 && rangeEnd !== -1) {\n\t\t\tcontent = content.substring(0, rangeStart) + content.substring(rangeStart + 1, rangeEnd) + content.substring(rangeEnd + 1);\n\t\t\trange = { offset: rangeStart, length: rangeEnd - rangeStart };\n\t\t}\n\n\t\tconst edits = Formatter.format(content, range, { tabSize: 2, insertSpaces: insertSpaces, eol: '\\n' });\n\n\t\tlet lastEditOffset = content.length;\n\t\tfor (let i = edits.length - 1; i >= 0; i--) {\n\t\t\tconst edit = edits[i];\n\t\t\tassert(edit.offset >= 0 && edit.length >= 0 && edit.offset + edit.length <= content.length);\n\t\t\tassert(typeof edit.content === 'string');\n\t\t\tassert(lastEditOffset >= edit.offset + edit.length); // make sure all edits are ordered\n\t\t\tlastEditOffset = edit.offset;\n\t\t\tcontent = content.substring(0, edit.offset) + edit.content + content.substring(edit.offset + edit.length);\n\t\t}\n\n\t\tassert.strictEqual(content, expected);\n\t}\n\n\ttest('object - single property', () => {\n\t\tconst content = [\n\t\t\t'{\"x\" : 1}'\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'{',\n\t\t\t'  \"x\": 1',\n\t\t\t'}'\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\ttest('object - multiple properties', () => {\n\t\tconst content = [\n\t\t\t'{\"x\" : 1,  \"y\" : \"foo\", \"z\"  : true}'\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'{',\n\t\t\t'  \"x\": 1,',\n\t\t\t'  \"y\": \"foo\",',\n\t\t\t'  \"z\": true',\n\t\t\t'}'\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\ttest('object - no properties ', () => {\n\t\tconst content = [\n\t\t\t'{\"x\" : {    },  \"y\" : {}}'\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'{',\n\t\t\t'  \"x\": {},',\n\t\t\t'  \"y\": {}',\n\t\t\t'}'\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\ttest('object - nesting', () => {\n\t\tconst content = [\n\t\t\t'{\"x\" : {  \"y\" : { \"z\"  : { }}, \"a\": true}}'\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'{',\n\t\t\t'  \"x\": {',\n\t\t\t'    \"y\": {',\n\t\t\t'      \"z\": {}',\n\t\t\t'    },',\n\t\t\t'    \"a\": true',\n\t\t\t'  }',\n\t\t\t'}'\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('array - single items', () => {\n\t\tconst content = [\n\t\t\t'[\"[]\"]'\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'[',\n\t\t\t'  \"[]\"',\n\t\t\t']'\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('array - multiple items', () => {\n\t\tconst content = [\n\t\t\t'[true,null,1.2]'\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'[',\n\t\t\t'  true,',\n\t\t\t'  null,',\n\t\t\t'  1.2',\n\t\t\t']'\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('array - no items', () => {\n\t\tconst content = [\n\t\t\t'[      ]'\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'[]'\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('array - nesting', () => {\n\t\tconst content = [\n\t\t\t'[ [], [ [ {} ], \"a\" ]  ]'\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'[',\n\t\t\t'  [],',\n\t\t\t'  [',\n\t\t\t'    [',\n\t\t\t'      {}',\n\t\t\t'    ],',\n\t\t\t'    \"a\"',\n\t\t\t'  ]',\n\t\t\t']',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('syntax errors', () => {\n\t\tconst content = [\n\t\t\t'[ null 1.2 ]'\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'[',\n\t\t\t'  null 1.2',\n\t\t\t']',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('empty lines', () => {\n\t\tconst content = [\n\t\t\t'{',\n\t\t\t'\"a\": true,',\n\t\t\t'',\n\t\t\t'\"b\": true',\n\t\t\t'}',\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'{',\n\t\t\t'\\t\"a\": true,',\n\t\t\t'\\t\"b\": true',\n\t\t\t'}',\n\t\t].join('\\n');\n\n\t\tformat(content, expected, false);\n\t});\n\ttest('single line comment', () => {\n\t\tconst content = [\n\t\t\t'[ ',\n\t\t\t'//comment',\n\t\t\t'\"foo\", \"bar\"',\n\t\t\t'] '\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'[',\n\t\t\t'  //comment',\n\t\t\t'  \"foo\",',\n\t\t\t'  \"bar\"',\n\t\t\t']',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\ttest('block line comment', () => {\n\t\tconst content = [\n\t\t\t'[{',\n\t\t\t'        /*comment*/     ',\n\t\t\t'\"foo\" : true',\n\t\t\t'}] '\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'[',\n\t\t\t'  {',\n\t\t\t'    /*comment*/',\n\t\t\t'    \"foo\": true',\n\t\t\t'  }',\n\t\t\t']',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\ttest('single line comment on same line', () => {\n\t\tconst content = [\n\t\t\t' {  ',\n\t\t\t'        \"a\": {}// comment    ',\n\t\t\t' } '\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'{',\n\t\t\t'  \"a\": {} // comment    ',\n\t\t\t'}',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\ttest('single line comment on same line 2', () => {\n\t\tconst content = [\n\t\t\t'{ //comment',\n\t\t\t'}'\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'{ //comment',\n\t\t\t'}'\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\ttest('block comment on same line', () => {\n\t\tconst content = [\n\t\t\t'{      \"a\": {}, /*comment*/    ',\n\t\t\t'        /*comment*/ \"b\": {},    ',\n\t\t\t'        \"c\": {/*comment*/}    } ',\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'{',\n\t\t\t'  \"a\": {}, /*comment*/',\n\t\t\t'  /*comment*/ \"b\": {},',\n\t\t\t'  \"c\": { /*comment*/}',\n\t\t\t'}',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('block comment on same line advanced', () => {\n\t\tconst content = [\n\t\t\t' {       \"d\": [',\n\t\t\t'             null',\n\t\t\t'        ] /*comment*/',\n\t\t\t'        ,\"e\": /*comment*/ [null] }',\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'{',\n\t\t\t'  \"d\": [',\n\t\t\t'    null',\n\t\t\t'  ] /*comment*/,',\n\t\t\t'  \"e\": /*comment*/ [',\n\t\t\t'    null',\n\t\t\t'  ]',\n\t\t\t'}',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('multiple block comments on same line', () => {\n\t\tconst content = [\n\t\t\t'{      \"a\": {} /*comment*/, /*comment*/   ',\n\t\t\t'        /*comment*/ \"b\": {}  /*comment*/  } '\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'{',\n\t\t\t'  \"a\": {} /*comment*/, /*comment*/',\n\t\t\t'  /*comment*/ \"b\": {} /*comment*/',\n\t\t\t'}',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\ttest('multiple mixed comments on same line', () => {\n\t\tconst content = [\n\t\t\t'[ /*comment*/  /*comment*/   // comment ',\n\t\t\t']'\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'[ /*comment*/ /*comment*/ // comment ',\n\t\t\t']'\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('range', () => {\n\t\tconst content = [\n\t\t\t'{ \"a\": {},',\n\t\t\t'|\"b\": [null, null]|',\n\t\t\t'} '\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'{ \"a\": {},',\n\t\t\t'\"b\": [',\n\t\t\t'  null,',\n\t\t\t'  null',\n\t\t\t']',\n\t\t\t'} ',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('range with existing indent', () => {\n\t\tconst content = [\n\t\t\t'{ \"a\": {},',\n\t\t\t'   |\"b\": [null],',\n\t\t\t'\"c\": {}',\n\t\t\t'}|'\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'{ \"a\": {},',\n\t\t\t'   \"b\": [',\n\t\t\t'    null',\n\t\t\t'  ],',\n\t\t\t'  \"c\": {}',\n\t\t\t'}',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('range with existing indent - tabs', () => {\n\t\tconst content = [\n\t\t\t'{ \"a\": {},',\n\t\t\t'|  \"b\": [null],   ',\n\t\t\t'\"c\": {}',\n\t\t\t'} |    '\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'{ \"a\": {},',\n\t\t\t'\\t\"b\": [',\n\t\t\t'\\t\\tnull',\n\t\t\t'\\t],',\n\t\t\t'\\t\"c\": {}',\n\t\t\t'}',\n\t\t].join('\\n');\n\n\t\tformat(content, expected, false);\n\t});\n\n\n\ttest('block comment none-line breaking symbols', () => {\n\t\tconst content = [\n\t\t\t'{ \"a\": [ 1',\n\t\t\t'/* comment */',\n\t\t\t', 2',\n\t\t\t'/* comment */',\n\t\t\t']',\n\t\t\t'/* comment */',\n\t\t\t',',\n\t\t\t' \"b\": true',\n\t\t\t'/* comment */',\n\t\t\t'}'\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'{',\n\t\t\t'  \"a\": [',\n\t\t\t'    1',\n\t\t\t'    /* comment */',\n\t\t\t'    ,',\n\t\t\t'    2',\n\t\t\t'    /* comment */',\n\t\t\t'  ]',\n\t\t\t'  /* comment */',\n\t\t\t'  ,',\n\t\t\t'  \"b\": true',\n\t\t\t'  /* comment */',\n\t\t\t'}',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\ttest('line comment after none-line breaking symbols', () => {\n\t\tconst content = [\n\t\t\t'{ \"a\":',\n\t\t\t'// comment',\n\t\t\t'null,',\n\t\t\t' \"b\"',\n\t\t\t'// comment',\n\t\t\t': null',\n\t\t\t'// comment',\n\t\t\t'}'\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'{',\n\t\t\t'  \"a\":',\n\t\t\t'  // comment',\n\t\t\t'  null,',\n\t\t\t'  \"b\"',\n\t\t\t'  // comment',\n\t\t\t'  : null',\n\t\t\t'  // comment',\n\t\t\t'}',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('toFormattedString', () => {\n\t\tconst obj = {\n\t\t\ta: { b: 1, d: ['hello'] }\n\t\t};\n\n\n\t\tconst getExpected = (tab: string, eol: string) => {\n\t\t\treturn [\n\t\t\t\t`{`,\n\t\t\t\t`${tab}\"a\": {`,\n\t\t\t\t`${tab}${tab}\"b\": 1,`,\n\t\t\t\t`${tab}${tab}\"d\": [`,\n\t\t\t\t`${tab}${tab}${tab}\"hello\"`,\n\t\t\t\t`${tab}${tab}]`,\n\t\t\t\t`${tab}}`,\n\t\t\t\t'}'\n\t\t\t].join(eol);\n\t\t};\n\n\t\tlet actual = Formatter.toFormattedString(obj, { insertSpaces: true, tabSize: 2, eol: '\\n' });\n\t\tassert.strictEqual(actual, getExpected('  ', '\\n'));\n\n\t\tactual = Formatter.toFormattedString(obj, { insertSpaces: true, tabSize: 2, eol: '\\r\\n' });\n\t\tassert.strictEqual(actual, getExpected('  ', '\\r\\n'));\n\n\t\tactual = Formatter.toFormattedString(obj, { insertSpaces: false, eol: '\\r\\n' });\n\t\tassert.strictEqual(actual, getExpected('\\t', '\\r\\n'));\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport assert from 'assert';\nimport * as Formatter from '../../common/jsonFormatter.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from './utils.js';\n\nsuite('JSON - formatter', () => {\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\tfunction format(content: string, expected: string, insertSpaces = true) {\n\t\tlet range: Formatter.Range | undefined = undefined;\n\t\tconst rangeStart = content.indexOf('|');\n\t\tconst rangeEnd = content.lastIndexOf('|');\n\t\tif (rangeStart !== -1 && rangeEnd !== -1) {\n\t\t\tcontent = content.substring(0, rangeStart) + content.substring(rangeStart + 1, rangeEnd) + content.substring(rangeEnd + 1);\n\t\t\trange = { offset: rangeStart, length: rangeEnd - rangeStart };\n\t\t}\n\n\t\tconst edits = Formatter.format(content, range, { tabSize: 2, insertSpaces: insertSpaces, eol: '\\n' });\n\n\t\tlet lastEditOffset = content.length;\n\t\tfor (let i = edits.length - 1; i >= 0; i--) {\n\t\t\tconst edit = edits[i];\n\t\t\tassert(edit.offset >= 0 && edit.length >= 0 && edit.offset + edit.length <= content.length);\n\t\t\tassert(typeof edit.content === 'string');\n\t\t\tassert(lastEditOffset >= edit.offset + edit.length); // make sure all edits are ordered\n\t\t\tlastEditOffset = edit.offset;\n\t\t\tcontent = content.substring(0, edit.offset) + edit.content + content.substring(edit.offset + edit.length);\n\t\t}\n\n\t\tassert.strictEqual(content, expected);\n\t}\n\n\ttest('object - single property', () => {\n\t\tconst content = [\n\t\t\t'{\"x\" : 1}'\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'{',\n\t\t\t'  \"x\": 1',\n\t\t\t'}'\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\ttest('object - multiple properties', () => {\n\t\tconst content = [\n\t\t\t'{\"x\" : 1,  \"y\" : \"foo\", \"z\"  : true}'\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'{',\n\t\t\t'  \"x\": 1,',\n\t\t\t'  \"y\": \"foo\",',\n\t\t\t'  \"z\": true',\n\t\t\t'}'\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\ttest('object - no properties ', () => {\n\t\tconst content = [\n\t\t\t'{\"x\" : {    },  \"y\" : {}}'\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'{',\n\t\t\t'  \"x\": {},',\n\t\t\t'  \"y\": {}',\n\t\t\t'}'\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\ttest('object - nesting', () => {\n\t\tconst content = [\n\t\t\t'{\"x\" : {  \"y\" : { \"z\"  : { }}, \"a\": true}}'\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'{',\n\t\t\t'  \"x\": {',\n\t\t\t'    \"y\": {',\n\t\t\t'      \"z\": {}',\n\t\t\t'    },',\n\t\t\t'    \"a\": true',\n\t\t\t'  }',\n\t\t\t'}'\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('array - single items', () => {\n\t\tconst content = [\n\t\t\t'[\"[]\"]'\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'[',\n\t\t\t'  \"[]\"',\n\t\t\t']'\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('array - multiple items', () => {\n\t\tconst content = [\n\t\t\t'[true,null,1.2]'\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'[',\n\t\t\t'  true,',\n\t\t\t'  null,',\n\t\t\t'  1.2',\n\t\t\t']'\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('array - no items', () => {\n\t\tconst content = [\n\t\t\t'[      ]'\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'[]'\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('array - nesting', () => {\n\t\tconst content = [\n\t\t\t'[ [], [ [ {} ], \"a\" ]  ]'\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'[',\n\t\t\t'  [],',\n\t\t\t'  [',\n\t\t\t'    [',\n\t\t\t'      {}',\n\t\t\t'    ],',\n\t\t\t'    \"a\"',\n\t\t\t'  ]',\n\t\t\t']',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('syntax errors', () => {\n\t\tconst content = [\n\t\t\t'[ null 1.2 ]'\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'[',\n\t\t\t'  null 1.2',\n\t\t\t']',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('empty lines', () => {\n\t\tconst content = [\n\t\t\t'{',\n\t\t\t'\"a\": true,',\n\t\t\t'',\n\t\t\t'\"b\": true',\n\t\t\t'}',\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'{',\n\t\t\t'\\t\"a\": true,',\n\t\t\t'\\t\"b\": true',\n\t\t\t'}',\n\t\t].join('\\n');\n\n\t\tformat(content, expected, false);\n\t});\n\ttest('single line comment', () => {\n\t\tconst content = [\n\t\t\t'[ ',\n\t\t\t'//comment',\n\t\t\t'\"foo\", \"bar\"',\n\t\t\t'] '\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'[',\n\t\t\t'  //comment',\n\t\t\t'  \"foo\",',\n\t\t\t'  \"bar\"',\n\t\t\t']',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\ttest('block line comment', () => {\n\t\tconst content = [\n\t\t\t'[{',\n\t\t\t'        /*comment*/     ',\n\t\t\t'\"foo\" : true',\n\t\t\t'}] '\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'[',\n\t\t\t'  {',\n\t\t\t'    /*comment*/',\n\t\t\t'    \"foo\": true',\n\t\t\t'  }',\n\t\t\t']',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\ttest('single line comment on same line', () => {\n\t\tconst content = [\n\t\t\t' {  ',\n\t\t\t'        \"a\": {}// comment    ',\n\t\t\t' } '\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'{',\n\t\t\t'  \"a\": {} // comment    ',\n\t\t\t'}',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\ttest('single line comment on same line 2', () => {\n\t\tconst content = [\n\t\t\t'{ //comment',\n\t\t\t'}'\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'{ //comment',\n\t\t\t'}'\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\ttest('block comment on same line', () => {\n\t\tconst content = [\n\t\t\t'{      \"a\": {}, /*comment*/    ',\n\t\t\t'        /*comment*/ \"b\": {},    ',\n\t\t\t'        \"c\": {/*comment*/}    } ',\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'{',\n\t\t\t'  \"a\": {}, /*comment*/',\n\t\t\t'  /*comment*/ \"b\": {},',\n\t\t\t'  \"c\": { /*comment*/}',\n\t\t\t'}',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('block comment on same line advanced', () => {\n\t\tconst content = [\n\t\t\t' {       \"d\": [',\n\t\t\t'             null',\n\t\t\t'        ] /*comment*/',\n\t\t\t'        ,\"e\": /*comment*/ [null] }',\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'{',\n\t\t\t'  \"d\": [',\n\t\t\t'    null',\n\t\t\t'  ] /*comment*/,',\n\t\t\t'  \"e\": /*comment*/ [',\n\t\t\t'    null',\n\t\t\t'  ]',\n\t\t\t'}',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('multiple block comments on same line', () => {\n\t\tconst content = [\n\t\t\t'{      \"a\": {} /*comment*/, /*comment*/   ',\n\t\t\t'        /*comment*/ \"b\": {}  /*comment*/  } '\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'{',\n\t\t\t'  \"a\": {} /*comment*/, /*comment*/',\n\t\t\t'  /*comment*/ \"b\": {} /*comment*/',\n\t\t\t'}',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\ttest('multiple mixed comments on same line', () => {\n\t\tconst content = [\n\t\t\t'[ /*comment*/  /*comment*/   // comment ',\n\t\t\t']'\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'[ /*comment*/ /*comment*/ // comment ',\n\t\t\t']'\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('range', () => {\n\t\tconst content = [\n\t\t\t'{ \"a\": {},',\n\t\t\t'|\"b\": [null, null]|',\n\t\t\t'} '\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'{ \"a\": {},',\n\t\t\t'\"b\": [',\n\t\t\t'  null,',\n\t\t\t'  null',\n\t\t\t']',\n\t\t\t'} ',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('range with existing indent', () => {\n\t\tconst content = [\n\t\t\t'{ \"a\": {},',\n\t\t\t'   |\"b\": [null],',\n\t\t\t'\"c\": {}',\n\t\t\t'}|'\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'{ \"a\": {},',\n\t\t\t'   \"b\": [',\n\t\t\t'    null',\n\t\t\t'  ],',\n\t\t\t'  \"c\": {}',\n\t\t\t'}',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('range with existing indent - tabs', () => {\n\t\tconst content = [\n\t\t\t'{ \"a\": {},',\n\t\t\t'|  \"b\": [null],   ',\n\t\t\t'\"c\": {}',\n\t\t\t'} |    '\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'{ \"a\": {},',\n\t\t\t'\\t\"b\": [',\n\t\t\t'\\t\\tnull',\n\t\t\t'\\t],',\n\t\t\t'\\t\"c\": {}',\n\t\t\t'}',\n\t\t].join('\\n');\n\n\t\tformat(content, expected, false);\n\t});\n\n\n\ttest('block comment none-line breaking symbols', () => {\n\t\tconst content = [\n\t\t\t'{ \"a\": [ 1',\n\t\t\t'/* comment */',\n\t\t\t', 2',\n\t\t\t'/* comment */',\n\t\t\t']',\n\t\t\t'/* comment */',\n\t\t\t',',\n\t\t\t' \"b\": true',\n\t\t\t'/* comment */',\n\t\t\t'}'\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'{',\n\t\t\t'  \"a\": [',\n\t\t\t'    1',\n\t\t\t'    /* comment */',\n\t\t\t'    ,',\n\t\t\t'    2',\n\t\t\t'    /* comment */',\n\t\t\t'  ]',\n\t\t\t'  /* comment */',\n\t\t\t'  ,',\n\t\t\t'  \"b\": true',\n\t\t\t'  /* comment */',\n\t\t\t'}',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\ttest('line comment after none-line breaking symbols', () => {\n\t\tconst content = [\n\t\t\t'{ \"a\":',\n\t\t\t'// comment',\n\t\t\t'null,',\n\t\t\t' \"b\"',\n\t\t\t'// comment',\n\t\t\t': null',\n\t\t\t'// comment',\n\t\t\t'}'\n\t\t].join('\\n');\n\n\t\tconst expected = [\n\t\t\t'{',\n\t\t\t'  \"a\":',\n\t\t\t'  // comment',\n\t\t\t'  null,',\n\t\t\t'  \"b\"',\n\t\t\t'  // comment',\n\t\t\t'  : null',\n\t\t\t'  // comment',\n\t\t\t'}',\n\t\t].join('\\n');\n\n\t\tformat(content, expected);\n\t});\n\n\ttest('toFormattedString', () => {\n\t\tconst obj = {\n\t\t\ta: { b: 1, d: ['hello'] }\n\t\t};\n\n\n\t\tconst getExpected = (tab: string, eol: string) => {\n\t\t\treturn [\n\t\t\t\t`{`,\n\t\t\t\t`${tab}\"a\": {`,\n\t\t\t\t`${tab}${tab}\"b\": 1,`,\n\t\t\t\t`${tab}${tab}\"d\": [`,\n\t\t\t\t`${tab}${tab}${tab}\"hello\"`,\n\t\t\t\t`${tab}${tab}]`,\n\t\t\t\t`${tab}}`,\n\t\t\t\t'}'\n\t\t\t].join(eol);\n\t\t};\n\n\t\tlet actual = Formatter.toFormattedString(obj, { insertSpaces: true, tabSize: 2, eol: '\\n' });\n\t\tassert.strictEqual(actual, getExpected('  ', '\\n'));\n\n\t\tactual = Formatter.toFormattedString(obj, { insertSpaces: true, tabSize: 2, eol: '\\r\\n' });\n\t\tassert.strictEqual(actual, getExpected('  ', '\\r\\n'));\n\n\t\tactual = Formatter.toFormattedString(obj, { insertSpaces: false, eol: '\\r\\n' });\n\t\tassert.strictEqual(actual, getExpected('\\t', '\\r\\n'));\n\t});\n});\n"]}