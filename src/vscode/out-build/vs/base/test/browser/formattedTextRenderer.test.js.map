{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/base/test/browser/formattedTextRenderer.test.ts","vs/base/test/browser/formattedTextRenderer.test.ts"],"names":[],"mappings":"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","file":"formattedTextRenderer.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { renderFormattedText, renderText } from '../../browser/formattedTextRenderer.js';\nimport { DisposableStore } from '../../common/lifecycle.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../common/utils.js';\nimport { $ } from '../../browser/dom.js';\n\nsuite('FormattedTextRenderer', () => {\n\tconst store = new DisposableStore();\n\n\tsetup(() => {\n\t\tstore.clear();\n\t});\n\n\tteardown(() => {\n\t\tstore.clear();\n\t});\n\n\ttest('render simple element', () => {\n\t\tconst result: HTMLElement = renderText('testing');\n\n\t\tassert.strictEqual(result.nodeType, document.ELEMENT_NODE);\n\t\tassert.strictEqual(result.textContent, 'testing');\n\t\tassert.strictEqual(result.tagName, 'DIV');\n\t});\n\n\ttest('render element with target', () => {\n\t\tconst target = $('div.testClass');\n\t\tconst result = renderText('testing', {}, target);\n\t\tassert.strictEqual(result.nodeType, document.ELEMENT_NODE);\n\t\tassert.strictEqual(result, target);\n\t\tassert.strictEqual(result.className, 'testClass');\n\t});\n\n\ttest('simple formatting', () => {\n\t\tlet result: HTMLElement = renderFormattedText('**bold**');\n\t\tassert.strictEqual(result.children.length, 1);\n\t\tassert.strictEqual(result.firstChild!.textContent, 'bold');\n\t\tassert.strictEqual((<HTMLElement>result.firstChild).tagName, 'B');\n\t\tassert.strictEqual(result.innerHTML, '<b>bold</b>');\n\n\t\tresult = renderFormattedText('__italics__');\n\t\tassert.strictEqual(result.innerHTML, '<i>italics</i>');\n\n\t\tresult = renderFormattedText('``code``');\n\t\tassert.strictEqual(result.innerHTML, '``code``');\n\n\t\tresult = renderFormattedText('``code``', { renderCodeSegments: true });\n\t\tassert.strictEqual(result.innerHTML, '<code>code</code>');\n\n\t\tresult = renderFormattedText('this string has **bold**, __italics__, and ``code``!!', { renderCodeSegments: true });\n\t\tassert.strictEqual(result.innerHTML, 'this string has <b>bold</b>, <i>italics</i>, and <code>code</code>!!');\n\t});\n\n\ttest('no formatting', () => {\n\t\tconst result: HTMLElement = renderFormattedText('this is just a string');\n\t\tassert.strictEqual(result.innerHTML, 'this is just a string');\n\t});\n\n\ttest('preserve newlines', () => {\n\t\tconst result: HTMLElement = renderFormattedText('line one\\nline two');\n\t\tassert.strictEqual(result.innerHTML, 'line one<br>line two');\n\t});\n\n\ttest('action', () => {\n\t\tlet callbackCalled = false;\n\t\tconst result: HTMLElement = renderFormattedText('[[action]]', {\n\t\t\tactionHandler: {\n\t\t\t\tcallback(content) {\n\t\t\t\t\tassert.strictEqual(content, '0');\n\t\t\t\t\tcallbackCalled = true;\n\t\t\t\t},\n\t\t\t\tdisposables: store\n\t\t\t}\n\t\t});\n\t\tassert.strictEqual(result.innerHTML, '<a>action</a>');\n\n\t\tconst event: MouseEvent = document.createEvent('MouseEvent');\n\t\tevent.initEvent('click', true, true);\n\t\tresult.firstChild!.dispatchEvent(event);\n\t\tassert.strictEqual(callbackCalled, true);\n\t});\n\n\ttest('fancy action', () => {\n\t\tlet callbackCalled = false;\n\t\tconst result: HTMLElement = renderFormattedText('__**[[action]]**__', {\n\t\t\tactionHandler: {\n\t\t\t\tcallback(content) {\n\t\t\t\t\tassert.strictEqual(content, '0');\n\t\t\t\t\tcallbackCalled = true;\n\t\t\t\t},\n\t\t\t\tdisposables: store\n\t\t\t}\n\t\t});\n\t\tassert.strictEqual(result.innerHTML, '<i><b><a>action</a></b></i>');\n\n\t\tconst event: MouseEvent = document.createEvent('MouseEvent');\n\t\tevent.initEvent('click', true, true);\n\t\tresult.firstChild!.firstChild!.firstChild!.dispatchEvent(event);\n\t\tassert.strictEqual(callbackCalled, true);\n\t});\n\n\ttest('fancier action', () => {\n\t\tlet callbackCalled = false;\n\t\tconst result: HTMLElement = renderFormattedText('``__**[[action]]**__``', {\n\t\t\trenderCodeSegments: true,\n\t\t\tactionHandler: {\n\t\t\t\tcallback(content) {\n\t\t\t\t\tassert.strictEqual(content, '0');\n\t\t\t\t\tcallbackCalled = true;\n\t\t\t\t},\n\t\t\t\tdisposables: store\n\t\t\t}\n\t\t});\n\t\tassert.strictEqual(result.innerHTML, '<code><i><b><a>action</a></b></i></code>');\n\n\t\tconst event: MouseEvent = document.createEvent('MouseEvent');\n\t\tevent.initEvent('click', true, true);\n\t\tresult.firstChild!.firstChild!.firstChild!.firstChild!.dispatchEvent(event);\n\t\tassert.strictEqual(callbackCalled, true);\n\t});\n\n\ttest('escaped formatting', () => {\n\t\tconst result: HTMLElement = renderFormattedText('\\\\*\\\\*bold\\\\*\\\\*');\n\t\tassert.strictEqual(result.children.length, 0);\n\t\tassert.strictEqual(result.innerHTML, '**bold**');\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport assert from 'assert';\nimport { renderFormattedText, renderText } from '../../browser/formattedTextRenderer.js';\nimport { DisposableStore } from '../../common/lifecycle.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../common/utils.js';\nimport { $ } from '../../browser/dom.js';\n\nsuite('FormattedTextRenderer', () => {\n\tconst store = new DisposableStore();\n\n\tsetup(() => {\n\t\tstore.clear();\n\t});\n\n\tteardown(() => {\n\t\tstore.clear();\n\t});\n\n\ttest('render simple element', () => {\n\t\tconst result: HTMLElement = renderText('testing');\n\n\t\tassert.strictEqual(result.nodeType, document.ELEMENT_NODE);\n\t\tassert.strictEqual(result.textContent, 'testing');\n\t\tassert.strictEqual(result.tagName, 'DIV');\n\t});\n\n\ttest('render element with target', () => {\n\t\tconst target = $('div.testClass');\n\t\tconst result = renderText('testing', {}, target);\n\t\tassert.strictEqual(result.nodeType, document.ELEMENT_NODE);\n\t\tassert.strictEqual(result, target);\n\t\tassert.strictEqual(result.className, 'testClass');\n\t});\n\n\ttest('simple formatting', () => {\n\t\tlet result: HTMLElement = renderFormattedText('**bold**');\n\t\tassert.strictEqual(result.children.length, 1);\n\t\tassert.strictEqual(result.firstChild!.textContent, 'bold');\n\t\tassert.strictEqual((<HTMLElement>result.firstChild).tagName, 'B');\n\t\tassert.strictEqual(result.innerHTML, '<b>bold</b>');\n\n\t\tresult = renderFormattedText('__italics__');\n\t\tassert.strictEqual(result.innerHTML, '<i>italics</i>');\n\n\t\tresult = renderFormattedText('``code``');\n\t\tassert.strictEqual(result.innerHTML, '``code``');\n\n\t\tresult = renderFormattedText('``code``', { renderCodeSegments: true });\n\t\tassert.strictEqual(result.innerHTML, '<code>code</code>');\n\n\t\tresult = renderFormattedText('this string has **bold**, __italics__, and ``code``!!', { renderCodeSegments: true });\n\t\tassert.strictEqual(result.innerHTML, 'this string has <b>bold</b>, <i>italics</i>, and <code>code</code>!!');\n\t});\n\n\ttest('no formatting', () => {\n\t\tconst result: HTMLElement = renderFormattedText('this is just a string');\n\t\tassert.strictEqual(result.innerHTML, 'this is just a string');\n\t});\n\n\ttest('preserve newlines', () => {\n\t\tconst result: HTMLElement = renderFormattedText('line one\\nline two');\n\t\tassert.strictEqual(result.innerHTML, 'line one<br>line two');\n\t});\n\n\ttest('action', () => {\n\t\tlet callbackCalled = false;\n\t\tconst result: HTMLElement = renderFormattedText('[[action]]', {\n\t\t\tactionHandler: {\n\t\t\t\tcallback(content) {\n\t\t\t\t\tassert.strictEqual(content, '0');\n\t\t\t\t\tcallbackCalled = true;\n\t\t\t\t},\n\t\t\t\tdisposables: store\n\t\t\t}\n\t\t});\n\t\tassert.strictEqual(result.innerHTML, '<a>action</a>');\n\n\t\tconst event: MouseEvent = document.createEvent('MouseEvent');\n\t\tevent.initEvent('click', true, true);\n\t\tresult.firstChild!.dispatchEvent(event);\n\t\tassert.strictEqual(callbackCalled, true);\n\t});\n\n\ttest('fancy action', () => {\n\t\tlet callbackCalled = false;\n\t\tconst result: HTMLElement = renderFormattedText('__**[[action]]**__', {\n\t\t\tactionHandler: {\n\t\t\t\tcallback(content) {\n\t\t\t\t\tassert.strictEqual(content, '0');\n\t\t\t\t\tcallbackCalled = true;\n\t\t\t\t},\n\t\t\t\tdisposables: store\n\t\t\t}\n\t\t});\n\t\tassert.strictEqual(result.innerHTML, '<i><b><a>action</a></b></i>');\n\n\t\tconst event: MouseEvent = document.createEvent('MouseEvent');\n\t\tevent.initEvent('click', true, true);\n\t\tresult.firstChild!.firstChild!.firstChild!.dispatchEvent(event);\n\t\tassert.strictEqual(callbackCalled, true);\n\t});\n\n\ttest('fancier action', () => {\n\t\tlet callbackCalled = false;\n\t\tconst result: HTMLElement = renderFormattedText('``__**[[action]]**__``', {\n\t\t\trenderCodeSegments: true,\n\t\t\tactionHandler: {\n\t\t\t\tcallback(content) {\n\t\t\t\t\tassert.strictEqual(content, '0');\n\t\t\t\t\tcallbackCalled = true;\n\t\t\t\t},\n\t\t\t\tdisposables: store\n\t\t\t}\n\t\t});\n\t\tassert.strictEqual(result.innerHTML, '<code><i><b><a>action</a></b></i></code>');\n\n\t\tconst event: MouseEvent = document.createEvent('MouseEvent');\n\t\tevent.initEvent('click', true, true);\n\t\tresult.firstChild!.firstChild!.firstChild!.firstChild!.dispatchEvent(event);\n\t\tassert.strictEqual(callbackCalled, true);\n\t});\n\n\ttest('escaped formatting', () => {\n\t\tconst result: HTMLElement = renderFormattedText('\\\\*\\\\*bold\\\\*\\\\*');\n\t\tassert.strictEqual(result.children.length, 0);\n\t\tassert.strictEqual(result.innerHTML, '**bold**');\n\t});\n\n\tensureNoDisposablesAreLeakedInTestSuite();\n});\n"]}