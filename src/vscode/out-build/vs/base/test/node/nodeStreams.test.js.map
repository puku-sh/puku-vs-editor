{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/base/test/node/nodeStreams.test.ts","vs/base/test/node/nodeStreams.test.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAGhG,OAAO,EAAE,QAAQ,EAAE,MAAM,QAAQ,CAAC;AAClC,OAAO,MAAM,MAAM,QAAQ,CAAC;AAC5B,OAAO,EAAE,cAAc,EAAE,MAAM,2BAA2B,CAAC;AAC3D,OAAO,EAAE,uCAAuC,EAAE,MAAM,oBAAoB,CAAC;AAE7E,KAAK,CAAC,gBAAgB,EAAE,GAAG,EAAE;IAC5B,uCAAuC,EAAE,CAAC;IAE1C,IAAI,CAAC,sDAAsD,EAAE,CAAC,IAAI,EAAE,EAAE;QACrE,MAAM,MAAM,GAAa,EAAE,CAAC;QAC5B,MAAM,QAAQ,GAAG,IAAI,cAAc,CAAC,IAAI,CAAC,CAAC;QAC1C,MAAM,QAAQ,GAAG,IAAI,QAAQ,CAAC;YAC7B,KAAK,CAAC,KAAK,EAAE,SAAS,EAAE,QAAQ;gBAC/B,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC;gBAC9B,QAAQ,EAAE,CAAC;YACZ,CAAC;SACD,CAAC,CAAC;QAEH,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACxB,QAAQ,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;QAC7B,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QACvB,QAAQ,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;QAC9B,QAAQ,CAAC,GAAG,CAAC,GAAG,EAAE;YACjB,MAAM,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;YAC9E,IAAI,EAAE,CAAC;QACR,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,qDAAqD,EAAE,CAAC,IAAI,EAAE,EAAE;QACpE,MAAM,MAAM,GAAa,EAAE,CAAC;QAC5B,MAAM,QAAQ,GAAG,IAAI,cAAc,CAAC,KAAK,CAAC,CAAC;QAC3C,MAAM,QAAQ,GAAG,IAAI,QAAQ,CAAC;YAC7B,KAAK,CAAC,KAAK,EAAE,SAAS,EAAE,QAAQ;gBAC/B,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC;gBAC9B,QAAQ,EAAE,CAAC;YACZ,CAAC;SACD,CAAC,CAAC;QAEH,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACxB,QAAQ,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;QAC9B,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QACxB,QAAQ,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;QAChC,QAAQ,CAAC,GAAG,CAAC,GAAG,EAAE;YACjB,MAAM,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC,UAAU,EAAE,UAAU,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC;YAClF,IAAI,EAAE,CAAC;QACR,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC,CAAC","file":"nodeStreams.test.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n\nimport { Writable } from 'stream';\nimport assert from 'assert';\nimport { StreamSplitter } from '../../node/nodeStreams.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../common/utils.js';\n\nsuite('StreamSplitter', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('should split a stream on a single character splitter', (done) => {\n\t\tconst chunks: string[] = [];\n\t\tconst splitter = new StreamSplitter('\\n');\n\t\tconst writable = new Writable({\n\t\t\twrite(chunk, _encoding, callback) {\n\t\t\t\tchunks.push(chunk.toString());\n\t\t\t\tcallback();\n\t\t\t},\n\t\t});\n\n\t\tsplitter.pipe(writable);\n\t\tsplitter.write('hello\\nwor');\n\t\tsplitter.write('ld\\n');\n\t\tsplitter.write('foo\\nbar\\nz');\n\t\tsplitter.end(() => {\n\t\t\tassert.deepStrictEqual(chunks, ['hello\\n', 'world\\n', 'foo\\n', 'bar\\n', 'z']);\n\t\t\tdone();\n\t\t});\n\t});\n\n\ttest('should split a stream on a multi-character splitter', (done) => {\n\t\tconst chunks: string[] = [];\n\t\tconst splitter = new StreamSplitter('---');\n\t\tconst writable = new Writable({\n\t\t\twrite(chunk, _encoding, callback) {\n\t\t\t\tchunks.push(chunk.toString());\n\t\t\t\tcallback();\n\t\t\t},\n\t\t});\n\n\t\tsplitter.pipe(writable);\n\t\tsplitter.write('hello---wor');\n\t\tsplitter.write('ld---');\n\t\tsplitter.write('foo---bar---z');\n\t\tsplitter.end(() => {\n\t\t\tassert.deepStrictEqual(chunks, ['hello---', 'world---', 'foo---', 'bar---', 'z']);\n\t\t\tdone();\n\t\t});\n\t});\n});\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n\nimport { Writable } from 'stream';\nimport assert from 'assert';\nimport { StreamSplitter } from '../../node/nodeStreams.js';\nimport { ensureNoDisposablesAreLeakedInTestSuite } from '../common/utils.js';\n\nsuite('StreamSplitter', () => {\n\tensureNoDisposablesAreLeakedInTestSuite();\n\n\ttest('should split a stream on a single character splitter', (done) => {\n\t\tconst chunks: string[] = [];\n\t\tconst splitter = new StreamSplitter('\\n');\n\t\tconst writable = new Writable({\n\t\t\twrite(chunk, _encoding, callback) {\n\t\t\t\tchunks.push(chunk.toString());\n\t\t\t\tcallback();\n\t\t\t},\n\t\t});\n\n\t\tsplitter.pipe(writable);\n\t\tsplitter.write('hello\\nwor');\n\t\tsplitter.write('ld\\n');\n\t\tsplitter.write('foo\\nbar\\nz');\n\t\tsplitter.end(() => {\n\t\t\tassert.deepStrictEqual(chunks, ['hello\\n', 'world\\n', 'foo\\n', 'bar\\n', 'z']);\n\t\t\tdone();\n\t\t});\n\t});\n\n\ttest('should split a stream on a multi-character splitter', (done) => {\n\t\tconst chunks: string[] = [];\n\t\tconst splitter = new StreamSplitter('---');\n\t\tconst writable = new Writable({\n\t\t\twrite(chunk, _encoding, callback) {\n\t\t\t\tchunks.push(chunk.toString());\n\t\t\t\tcallback();\n\t\t\t},\n\t\t});\n\n\t\tsplitter.pipe(writable);\n\t\tsplitter.write('hello---wor');\n\t\tsplitter.write('ld---');\n\t\tsplitter.write('foo---bar---z');\n\t\tsplitter.end(() => {\n\t\t\tassert.deepStrictEqual(chunks, ['hello---', 'world---', 'foo---', 'bar---', 'z']);\n\t\t\tdone();\n\t\t});\n\t});\n});\n"]}