{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/base/parts/contextmenu/electron-main/contextmenu.ts","vs/base/parts/contextmenu/electron-main/contextmenu.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,EAAgB,IAAI,EAAE,QAAQ,EAAE,MAAM,UAAU,CAAC;AACxD,OAAO,EAAE,gBAAgB,EAAE,MAAM,oCAAoC,CAAC;AACtE,OAAO,EAAE,oBAAoB,EAAE,0BAA0B,EAA+C,MAAM,0BAA0B,CAAC;AAEzI,MAAM,UAAU,2BAA2B;IAC1C,gBAAgB,CAAC,EAAE,CAAC,oBAAoB,EAAE,CAAC,KAAmB,EAAE,aAAqB,EAAE,KAAqC,EAAE,cAAsB,EAAE,OAAuB,EAAE,EAAE;QAChL,MAAM,IAAI,GAAG,UAAU,CAAC,KAAK,EAAE,cAAc,EAAE,KAAK,CAAC,CAAC;QAEtD,IAAI,CAAC,KAAK,CAAC;YACV,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS;YAClC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS;YAClC,eAAe,EAAE,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC,CAAC,SAAS;YAC9D,QAAQ,EAAE,GAAG,EAAE;gBACd,kEAAkE;gBAClE,kEAAkE;gBAClE,mEAAmE;gBACnE,IAAI,IAAI,EAAE,CAAC;oBACV,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,0BAA0B,EAAE,aAAa,CAAC,CAAC;gBAC9D,CAAC;YACF,CAAC;SACD,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC;AACJ,CAAC;AAED,SAAS,UAAU,CAAC,KAAmB,EAAE,cAAsB,EAAE,KAAqC;IACrG,MAAM,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;IAExB,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;QACpB,IAAI,QAAkB,CAAC;QAEvB,YAAY;QACZ,IAAI,IAAI,CAAC,IAAI,KAAK,WAAW,EAAE,CAAC;YAC/B,QAAQ,GAAG,IAAI,QAAQ,CAAC;gBACvB,IAAI,EAAE,IAAI,CAAC,IAAI;aACf,CAAC,CAAC;QACJ,CAAC;QAED,WAAW;aACN,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC;YACtC,QAAQ,GAAG,IAAI,QAAQ,CAAC;gBACvB,OAAO,EAAE,UAAU,CAAC,KAAK,EAAE,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC;gBACxD,KAAK,EAAE,IAAI,CAAC,KAAK;aACjB,CAAC,CAAC;QACJ,CAAC;QAED,mBAAmB;aACd,CAAC;YACL,QAAQ,GAAG,IAAI,QAAQ,CAAC;gBACvB,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,IAAI,EAAE,IAAI,CAAC,IAAI;gBACf,WAAW,EAAE,IAAI,CAAC,WAAW;gBAC7B,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,KAAK,EAAE,CAAC,QAAQ,EAAE,GAAG,EAAE,gBAAgB,EAAE,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,EAAE,EAAE,gBAAgB,CAAC;aACxG,CAAC,CAAC;QACJ,CAAC;QAED,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IACvB,CAAC,CAAC,CAAC;IAEH,OAAO,IAAI,CAAC;AACb,CAAC","file":"contextmenu.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IpcMainEvent, Menu, MenuItem } from 'electron';\nimport { validatedIpcMain } from '../../ipc/electron-main/ipcMain.js';\nimport { CONTEXT_MENU_CHANNEL, CONTEXT_MENU_CLOSE_CHANNEL, IPopupOptions, ISerializableContextMenuItem } from '../common/contextmenu.js';\n\nexport function registerContextMenuListener(): void {\n\tvalidatedIpcMain.on(CONTEXT_MENU_CHANNEL, (event: IpcMainEvent, contextMenuId: number, items: ISerializableContextMenuItem[], onClickChannel: string, options?: IPopupOptions) => {\n\t\tconst menu = createMenu(event, onClickChannel, items);\n\n\t\tmenu.popup({\n\t\t\tx: options ? options.x : undefined,\n\t\t\ty: options ? options.y : undefined,\n\t\t\tpositioningItem: options ? options.positioningItem : undefined,\n\t\t\tcallback: () => {\n\t\t\t\t// Workaround for https://github.com/microsoft/vscode/issues/72447\n\t\t\t\t// It turns out that the menu gets GC'ed if not referenced anymore\n\t\t\t\t// As such we drag it into this scope so that it is not being GC'ed\n\t\t\t\tif (menu) {\n\t\t\t\t\tevent.sender.send(CONTEXT_MENU_CLOSE_CHANNEL, contextMenuId);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n}\n\nfunction createMenu(event: IpcMainEvent, onClickChannel: string, items: ISerializableContextMenuItem[]): Menu {\n\tconst menu = new Menu();\n\n\titems.forEach(item => {\n\t\tlet menuitem: MenuItem;\n\n\t\t// Separator\n\t\tif (item.type === 'separator') {\n\t\t\tmenuitem = new MenuItem({\n\t\t\t\ttype: item.type,\n\t\t\t});\n\t\t}\n\n\t\t// Sub Menu\n\t\telse if (Array.isArray(item.submenu)) {\n\t\t\tmenuitem = new MenuItem({\n\t\t\t\tsubmenu: createMenu(event, onClickChannel, item.submenu),\n\t\t\t\tlabel: item.label\n\t\t\t});\n\t\t}\n\n\t\t// Normal Menu Item\n\t\telse {\n\t\t\tmenuitem = new MenuItem({\n\t\t\t\tlabel: item.label,\n\t\t\t\ttype: item.type,\n\t\t\t\taccelerator: item.accelerator,\n\t\t\t\tchecked: item.checked,\n\t\t\t\tenabled: item.enabled,\n\t\t\t\tvisible: item.visible,\n\t\t\t\tclick: (menuItem, win, contextmenuEvent) => event.sender.send(onClickChannel, item.id, contextmenuEvent)\n\t\t\t});\n\t\t}\n\n\t\tmenu.append(menuitem);\n\t});\n\n\treturn menu;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IpcMainEvent, Menu, MenuItem } from 'electron';\nimport { validatedIpcMain } from '../../ipc/electron-main/ipcMain.js';\nimport { CONTEXT_MENU_CHANNEL, CONTEXT_MENU_CLOSE_CHANNEL, IPopupOptions, ISerializableContextMenuItem } from '../common/contextmenu.js';\n\nexport function registerContextMenuListener(): void {\n\tvalidatedIpcMain.on(CONTEXT_MENU_CHANNEL, (event: IpcMainEvent, contextMenuId: number, items: ISerializableContextMenuItem[], onClickChannel: string, options?: IPopupOptions) => {\n\t\tconst menu = createMenu(event, onClickChannel, items);\n\n\t\tmenu.popup({\n\t\t\tx: options ? options.x : undefined,\n\t\t\ty: options ? options.y : undefined,\n\t\t\tpositioningItem: options ? options.positioningItem : undefined,\n\t\t\tcallback: () => {\n\t\t\t\t// Workaround for https://github.com/microsoft/vscode/issues/72447\n\t\t\t\t// It turns out that the menu gets GC'ed if not referenced anymore\n\t\t\t\t// As such we drag it into this scope so that it is not being GC'ed\n\t\t\t\tif (menu) {\n\t\t\t\t\tevent.sender.send(CONTEXT_MENU_CLOSE_CHANNEL, contextMenuId);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n}\n\nfunction createMenu(event: IpcMainEvent, onClickChannel: string, items: ISerializableContextMenuItem[]): Menu {\n\tconst menu = new Menu();\n\n\titems.forEach(item => {\n\t\tlet menuitem: MenuItem;\n\n\t\t// Separator\n\t\tif (item.type === 'separator') {\n\t\t\tmenuitem = new MenuItem({\n\t\t\t\ttype: item.type,\n\t\t\t});\n\t\t}\n\n\t\t// Sub Menu\n\t\telse if (Array.isArray(item.submenu)) {\n\t\t\tmenuitem = new MenuItem({\n\t\t\t\tsubmenu: createMenu(event, onClickChannel, item.submenu),\n\t\t\t\tlabel: item.label\n\t\t\t});\n\t\t}\n\n\t\t// Normal Menu Item\n\t\telse {\n\t\t\tmenuitem = new MenuItem({\n\t\t\t\tlabel: item.label,\n\t\t\t\ttype: item.type,\n\t\t\t\taccelerator: item.accelerator,\n\t\t\t\tchecked: item.checked,\n\t\t\t\tenabled: item.enabled,\n\t\t\t\tvisible: item.visible,\n\t\t\t\tclick: (menuItem, win, contextmenuEvent) => event.sender.send(onClickChannel, item.id, contextmenuEvent)\n\t\t\t});\n\t\t}\n\n\t\tmenu.append(menuitem);\n\t});\n\n\treturn menu;\n}\n"]}