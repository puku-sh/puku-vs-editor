{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/base/common/envfile.ts","vs/base/common/envfile.ts"],"names":[],"mappings":"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","file":"envfile.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/**\n * Parses a standard .env/.envrc file into a map of the environment variables\n * it defines.\n *\n * todo@connor4312: this can go away (if only used in Node.js targets) and be\n * replaced with `util.parseEnv`. However, currently calling that makes the\n * extension host crash.\n */\nexport function parseEnvFile(src: string) {\n\tconst result = new Map<string, string>();\n\n\t// Normalize line breaks\n\tconst normalizedSrc = src.replace(/\\r\\n?/g, '\\n');\n\tconst lines = normalizedSrc.split('\\n');\n\n\tfor (let line of lines) {\n\t\t// Skip empty lines and comments\n\t\tline = line.trim();\n\t\tif (!line || line.startsWith('#')) {\n\t\t\tcontinue;\n\t\t}\n\n\t\t// Parse the line into key and value\n\t\tconst [key, value] = parseLine(line);\n\t\tif (key) {\n\t\t\tresult.set(key, value);\n\t\t}\n\t}\n\n\treturn result;\n\n\tfunction parseLine(line: string): [string, string] | [null, null] {\n\t\t// Handle export prefix\n\t\tif (line.startsWith('export ')) {\n\t\t\tline = line.substring(7).trim();\n\t\t}\n\n\t\t// Find the key-value separator\n\t\tconst separatorIndex = findIndexOutsideQuotes(line, c => c === '=' || c === ':');\n\t\tif (separatorIndex === -1) {\n\t\t\treturn [null, null];\n\t\t}\n\n\t\tconst key = line.substring(0, separatorIndex).trim();\n\t\tlet value = line.substring(separatorIndex + 1).trim();\n\n\t\t// Handle comments and remove them\n\t\tconst commentIndex = findIndexOutsideQuotes(value, c => c === '#');\n\t\tif (commentIndex !== -1) {\n\t\t\tvalue = value.substring(0, commentIndex).trim();\n\t\t}\n\n\t\t// Process quoted values\n\t\tif (value.length >= 2) {\n\t\t\tconst firstChar = value[0];\n\t\t\tconst lastChar = value[value.length - 1];\n\n\t\t\tif ((firstChar === '\"' && lastChar === '\"') ||\n\t\t\t\t(firstChar === '\\'' && lastChar === '\\'') ||\n\t\t\t\t(firstChar === '`' && lastChar === '`')) {\n\t\t\t\t// Remove surrounding quotes\n\t\t\t\tvalue = value.substring(1, value.length - 1);\n\n\t\t\t\t// Handle escaped characters in double quotes\n\t\t\t\tif (firstChar === '\"') {\n\t\t\t\t\tvalue = value.replace(/\\\\n/g, '\\n').replace(/\\\\r/g, '\\r');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn [key, value];\n\t}\n\n\tfunction findIndexOutsideQuotes(text: string, predicate: (char: string) => boolean): number {\n\t\tlet inQuote = false;\n\t\tlet quoteChar = '';\n\n\t\tfor (let i = 0; i < text.length; i++) {\n\t\t\tconst char = text[i];\n\n\t\t\tif (inQuote) {\n\t\t\t\tif (char === quoteChar && text[i - 1] !== '\\\\') {\n\t\t\t\t\tinQuote = false;\n\t\t\t\t}\n\t\t\t} else if (char === '\"' || char === '\\'' || char === '`') {\n\t\t\t\tinQuote = true;\n\t\t\t\tquoteChar = char;\n\t\t\t} else if (predicate(char)) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/**\n * Parses a standard .env/.envrc file into a map of the environment variables\n * it defines.\n *\n * todo@connor4312: this can go away (if only used in Node.js targets) and be\n * replaced with `util.parseEnv`. However, currently calling that makes the\n * extension host crash.\n */\nexport function parseEnvFile(src: string) {\n\tconst result = new Map<string, string>();\n\n\t// Normalize line breaks\n\tconst normalizedSrc = src.replace(/\\r\\n?/g, '\\n');\n\tconst lines = normalizedSrc.split('\\n');\n\n\tfor (let line of lines) {\n\t\t// Skip empty lines and comments\n\t\tline = line.trim();\n\t\tif (!line || line.startsWith('#')) {\n\t\t\tcontinue;\n\t\t}\n\n\t\t// Parse the line into key and value\n\t\tconst [key, value] = parseLine(line);\n\t\tif (key) {\n\t\t\tresult.set(key, value);\n\t\t}\n\t}\n\n\treturn result;\n\n\tfunction parseLine(line: string): [string, string] | [null, null] {\n\t\t// Handle export prefix\n\t\tif (line.startsWith('export ')) {\n\t\t\tline = line.substring(7).trim();\n\t\t}\n\n\t\t// Find the key-value separator\n\t\tconst separatorIndex = findIndexOutsideQuotes(line, c => c === '=' || c === ':');\n\t\tif (separatorIndex === -1) {\n\t\t\treturn [null, null];\n\t\t}\n\n\t\tconst key = line.substring(0, separatorIndex).trim();\n\t\tlet value = line.substring(separatorIndex + 1).trim();\n\n\t\t// Handle comments and remove them\n\t\tconst commentIndex = findIndexOutsideQuotes(value, c => c === '#');\n\t\tif (commentIndex !== -1) {\n\t\t\tvalue = value.substring(0, commentIndex).trim();\n\t\t}\n\n\t\t// Process quoted values\n\t\tif (value.length >= 2) {\n\t\t\tconst firstChar = value[0];\n\t\t\tconst lastChar = value[value.length - 1];\n\n\t\t\tif ((firstChar === '\"' && lastChar === '\"') ||\n\t\t\t\t(firstChar === '\\'' && lastChar === '\\'') ||\n\t\t\t\t(firstChar === '`' && lastChar === '`')) {\n\t\t\t\t// Remove surrounding quotes\n\t\t\t\tvalue = value.substring(1, value.length - 1);\n\n\t\t\t\t// Handle escaped characters in double quotes\n\t\t\t\tif (firstChar === '\"') {\n\t\t\t\t\tvalue = value.replace(/\\\\n/g, '\\n').replace(/\\\\r/g, '\\r');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn [key, value];\n\t}\n\n\tfunction findIndexOutsideQuotes(text: string, predicate: (char: string) => boolean): number {\n\t\tlet inQuote = false;\n\t\tlet quoteChar = '';\n\n\t\tfor (let i = 0; i < text.length; i++) {\n\t\t\tconst char = text[i];\n\n\t\t\tif (inQuote) {\n\t\t\t\tif (char === quoteChar && text[i - 1] !== '\\\\') {\n\t\t\t\t\tinQuote = false;\n\t\t\t\t}\n\t\t\t} else if (char === '\"' || char === '\\'' || char === '`') {\n\t\t\t\tinQuote = true;\n\t\t\t\tquoteChar = char;\n\t\t\t} else if (predicate(char)) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t}\n}\n"]}