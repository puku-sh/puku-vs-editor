{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/base/common/observableInternal/map.ts","vs/base/common/observableInternal/map.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAGhG,OAAO,EAAE,mBAAmB,EAAE,MAAM,sCAAsC,CAAC;AAG3E,MAAM,OAAO,aAAa;IAA1B;QACkB,UAAK,GAAG,IAAI,GAAG,EAAQ,CAAC;QAExB,SAAI,GAAG,mBAAmB,CAAC,EAAE,QAAQ,EAAE,GAAG,EAAE,CAAC,KAAK,EAAE,EAAE,IAAI,CAAC,CAAC;QAEpE,eAAU,GAA2B,IAAI,CAAC,IAAI,CAAC;IAgEzD,CAAC;IA9DA,IAAI,IAAI;QACP,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;IACxB,CAAC;IAED,GAAG,CAAC,GAAM;QACT,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAC5B,CAAC;IAED,GAAG,CAAC,GAAM;QACT,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAC5B,CAAC;IAED,GAAG,CAAC,GAAM,EAAE,KAAQ,EAAE,EAAiB;QACtC,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACnC,MAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACrC,IAAI,CAAC,MAAM,IAAI,QAAQ,KAAK,KAAK,EAAE,CAAC;YACnC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;YAC3B,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;QACzB,CAAC;QACD,OAAO,IAAI,CAAC;IACb,CAAC;IAED,MAAM,CAAC,GAAM,EAAE,EAAiB;QAC/B,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QACtC,IAAI,MAAM,EAAE,CAAC;YACZ,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;QACzB,CAAC;QACD,OAAO,MAAM,CAAC;IACf,CAAC;IAED,KAAK,CAAC,EAAiB;QACtB,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,EAAE,CAAC;YACzB,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;YACnB,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;QACzB,CAAC;IACF,CAAC;IAED,OAAO,CAAC,UAAsD,EAAE,OAAiB;QAChF,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE;YACvC,UAAU,CAAC,IAAI,CAAC,OAAO,EAAE,KAAK,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;QAC5C,CAAC,CAAC,CAAC;IACJ,CAAC;IAED,CAAC,OAAO;QACP,KAAK,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED,CAAC,IAAI;QACJ,KAAK,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;IAC1B,CAAC;IAED,CAAC,MAAM;QACN,KAAK,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;IAC5B,CAAC;IAED,CAAC,MAAM,CAAC,QAAQ,CAAC;QAChB,OAAO,IAAI,CAAC,OAAO,EAAE,CAAC;IACvB,CAAC;IAED,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC;QACvB,OAAO,eAAe,CAAC;IACxB,CAAC;CACD","file":"map.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IObservable, ITransaction } from '../observable.js';\nimport { observableValueOpts } from './observables/observableValueOpts.js';\n\n\nexport class ObservableMap<K, V> implements Map<K, V> {\n\tprivate readonly _data = new Map<K, V>();\n\n\tprivate readonly _obs = observableValueOpts({ equalsFn: () => false }, this);\n\n\treadonly observable: IObservable<Map<K, V>> = this._obs;\n\n\tget size(): number {\n\t\treturn this._data.size;\n\t}\n\n\thas(key: K): boolean {\n\t\treturn this._data.has(key);\n\t}\n\n\tget(key: K): V | undefined {\n\t\treturn this._data.get(key);\n\t}\n\n\tset(key: K, value: V, tx?: ITransaction): this {\n\t\tconst hadKey = this._data.has(key);\n\t\tconst oldValue = this._data.get(key);\n\t\tif (!hadKey || oldValue !== value) {\n\t\t\tthis._data.set(key, value);\n\t\t\tthis._obs.set(this, tx);\n\t\t}\n\t\treturn this;\n\t}\n\n\tdelete(key: K, tx?: ITransaction): boolean {\n\t\tconst result = this._data.delete(key);\n\t\tif (result) {\n\t\t\tthis._obs.set(this, tx);\n\t\t}\n\t\treturn result;\n\t}\n\n\tclear(tx?: ITransaction): void {\n\t\tif (this._data.size > 0) {\n\t\t\tthis._data.clear();\n\t\t\tthis._obs.set(this, tx);\n\t\t}\n\t}\n\n\tforEach(callbackfn: (value: V, key: K, map: Map<K, V>) => void, thisArg?: unknown): void {\n\t\tthis._data.forEach((value, key, _map) => {\n\t\t\tcallbackfn.call(thisArg, value, key, this);\n\t\t});\n\t}\n\n\t*entries(): IterableIterator<[K, V]> {\n\t\tyield* this._data.entries();\n\t}\n\n\t*keys(): IterableIterator<K> {\n\t\tyield* this._data.keys();\n\t}\n\n\t*values(): IterableIterator<V> {\n\t\tyield* this._data.values();\n\t}\n\n\t[Symbol.iterator](): IterableIterator<[K, V]> {\n\t\treturn this.entries();\n\t}\n\n\tget [Symbol.toStringTag](): string {\n\t\treturn 'ObservableMap';\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IObservable, ITransaction } from '../observable.js';\nimport { observableValueOpts } from './observables/observableValueOpts.js';\n\n\nexport class ObservableMap<K, V> implements Map<K, V> {\n\tprivate readonly _data = new Map<K, V>();\n\n\tprivate readonly _obs = observableValueOpts({ equalsFn: () => false }, this);\n\n\treadonly observable: IObservable<Map<K, V>> = this._obs;\n\n\tget size(): number {\n\t\treturn this._data.size;\n\t}\n\n\thas(key: K): boolean {\n\t\treturn this._data.has(key);\n\t}\n\n\tget(key: K): V | undefined {\n\t\treturn this._data.get(key);\n\t}\n\n\tset(key: K, value: V, tx?: ITransaction): this {\n\t\tconst hadKey = this._data.has(key);\n\t\tconst oldValue = this._data.get(key);\n\t\tif (!hadKey || oldValue !== value) {\n\t\t\tthis._data.set(key, value);\n\t\t\tthis._obs.set(this, tx);\n\t\t}\n\t\treturn this;\n\t}\n\n\tdelete(key: K, tx?: ITransaction): boolean {\n\t\tconst result = this._data.delete(key);\n\t\tif (result) {\n\t\t\tthis._obs.set(this, tx);\n\t\t}\n\t\treturn result;\n\t}\n\n\tclear(tx?: ITransaction): void {\n\t\tif (this._data.size > 0) {\n\t\t\tthis._data.clear();\n\t\t\tthis._obs.set(this, tx);\n\t\t}\n\t}\n\n\tforEach(callbackfn: (value: V, key: K, map: Map<K, V>) => void, thisArg?: unknown): void {\n\t\tthis._data.forEach((value, key, _map) => {\n\t\t\tcallbackfn.call(thisArg, value, key, this);\n\t\t});\n\t}\n\n\t*entries(): IterableIterator<[K, V]> {\n\t\tyield* this._data.entries();\n\t}\n\n\t*keys(): IterableIterator<K> {\n\t\tyield* this._data.keys();\n\t}\n\n\t*values(): IterableIterator<V> {\n\t\tyield* this._data.values();\n\t}\n\n\t[Symbol.iterator](): IterableIterator<[K, V]> {\n\t\treturn this.entries();\n\t}\n\n\tget [Symbol.toStringTag](): string {\n\t\treturn 'ObservableMap';\n\t}\n}\n"]}