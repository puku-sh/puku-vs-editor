{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/base/common/verifier.ts","vs/base/common/verifier.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,OAAO,EAAE,QAAQ,EAAE,MAAM,YAAY,CAAC;AAMtC,MAAe,QAAQ;IAEtB,YAA+B,YAAe;QAAf,iBAAY,GAAZ,YAAY,CAAG;IAAI,CAAC;IAEnD,MAAM,CAAC,KAAc;QACpB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC;YACzB,OAAO,IAAI,CAAC,YAAY,CAAC;QAC1B,CAAC;QAED,OAAO,KAAK,CAAC;IACd,CAAC;CAGD;AAED,MAAM,OAAO,eAAgB,SAAQ,QAAiB;IAC3C,MAAM,CAAC,KAAc;QAC9B,OAAO,OAAO,KAAK,KAAK,SAAS,CAAC;IACnC,CAAC;CACD;AAED,MAAM,OAAO,cAAe,SAAQ,QAAgB;IACzC,MAAM,CAAC,KAAc;QAC9B,OAAO,OAAO,KAAK,KAAK,QAAQ,CAAC;IAClC,CAAC;CACD;AAED,MAAM,OAAO,WAAe,SAAQ,QAAgB;IACzC,MAAM,CAAC,KAAc;QAC9B,OAAO,KAAK,YAAY,GAAG,CAAC;IAC7B,CAAC;CACD;AAED,MAAM,OAAO,YAAgB,SAAQ,QAAW;IAG/C,YAAY,YAAe,EAAE,aAA+B;QAC3D,KAAK,CAAC,YAAY,CAAC,CAAC;QACpB,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC;IACpC,CAAC;IAES,MAAM,CAAC,KAAc;QAC9B,OAAO,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,KAAU,CAAC,CAAC;IAChD,CAAC;CACD;AAED,MAAM,OAAO,cAAiC,SAAQ,QAAW;IAEhE,YAAY,YAAe,EAAmB,QAA6C;QAC1F,KAAK,CAAC,YAAY,CAAC,CAAC;QADyB,aAAQ,GAAR,QAAQ,CAAqC;IAE3F,CAAC;IAEQ,MAAM,CAAC,KAAc;QAC7B,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC;YACzB,OAAO,IAAI,CAAC,YAAY,CAAC;QAC1B,CAAC;QACD,OAAO,YAAY,CAAI,IAAI,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;IAC9C,CAAC;IAES,MAAM,CAAC,KAAc;QAC9B,OAAO,QAAQ,CAAC,KAAK,CAAC,CAAC;IACxB,CAAC;CACD;AAED,MAAM,UAAU,YAAY,CAAmB,SAA8C,EAAE,KAAa;IAC3G,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAEnC,KAAK,MAAM,GAAG,IAAI,SAAS,EAAE,CAAC;QAC7B,IAAI,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,EAAE,GAAG,CAAC,EAAE,CAAC;YAChD,MAAM,QAAQ,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC;YAChC,mDAAmD;YACnD,MAAM,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC,MAAM,CAAE,KAAa,CAAC,GAAG,CAAC,CAAC,CAAC;QACpD,CAAC;IACF,CAAC;IAED,OAAO,MAAM,CAAC;AACf,CAAC","file":"verifier.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { isObject } from './types.js';\n\ninterface IVerifier<T> {\n\tverify(value: unknown): T;\n}\n\nabstract class Verifier<T> implements IVerifier<T> {\n\n\tconstructor(protected readonly defaultValue: T) { }\n\n\tverify(value: unknown): T {\n\t\tif (!this.isType(value)) {\n\t\t\treturn this.defaultValue;\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tprotected abstract isType(value: unknown): value is T;\n}\n\nexport class BooleanVerifier extends Verifier<boolean> {\n\tprotected isType(value: unknown): value is boolean {\n\t\treturn typeof value === 'boolean';\n\t}\n}\n\nexport class NumberVerifier extends Verifier<number> {\n\tprotected isType(value: unknown): value is number {\n\t\treturn typeof value === 'number';\n\t}\n}\n\nexport class SetVerifier<T> extends Verifier<Set<T>> {\n\tprotected isType(value: unknown): value is Set<T> {\n\t\treturn value instanceof Set;\n\t}\n}\n\nexport class EnumVerifier<T> extends Verifier<T> {\n\tprivate readonly allowedValues: ReadonlyArray<T>;\n\n\tconstructor(defaultValue: T, allowedValues: ReadonlyArray<T>) {\n\t\tsuper(defaultValue);\n\t\tthis.allowedValues = allowedValues;\n\t}\n\n\tprotected isType(value: unknown): value is T {\n\t\treturn this.allowedValues.includes(value as T);\n\t}\n}\n\nexport class ObjectVerifier<T extends Object> extends Verifier<T> {\n\n\tconstructor(defaultValue: T, private readonly verifier: { [K in keyof T]: IVerifier<T[K]> }) {\n\t\tsuper(defaultValue);\n\t}\n\n\toverride verify(value: unknown): T {\n\t\tif (!this.isType(value)) {\n\t\t\treturn this.defaultValue;\n\t\t}\n\t\treturn verifyObject<T>(this.verifier, value);\n\t}\n\n\tprotected isType(value: unknown): value is T {\n\t\treturn isObject(value);\n\t}\n}\n\nexport function verifyObject<T extends Object>(verifiers: { [K in keyof T]: IVerifier<T[K]> }, value: Object): T {\n\tconst result = Object.create(null);\n\n\tfor (const key in verifiers) {\n\t\tif (Object.hasOwnProperty.call(verifiers, key)) {\n\t\t\tconst verifier = verifiers[key];\n\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\tresult[key] = verifier.verify((value as any)[key]);\n\t\t}\n\t}\n\n\treturn result;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { isObject } from './types.js';\n\ninterface IVerifier<T> {\n\tverify(value: unknown): T;\n}\n\nabstract class Verifier<T> implements IVerifier<T> {\n\n\tconstructor(protected readonly defaultValue: T) { }\n\n\tverify(value: unknown): T {\n\t\tif (!this.isType(value)) {\n\t\t\treturn this.defaultValue;\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tprotected abstract isType(value: unknown): value is T;\n}\n\nexport class BooleanVerifier extends Verifier<boolean> {\n\tprotected isType(value: unknown): value is boolean {\n\t\treturn typeof value === 'boolean';\n\t}\n}\n\nexport class NumberVerifier extends Verifier<number> {\n\tprotected isType(value: unknown): value is number {\n\t\treturn typeof value === 'number';\n\t}\n}\n\nexport class SetVerifier<T> extends Verifier<Set<T>> {\n\tprotected isType(value: unknown): value is Set<T> {\n\t\treturn value instanceof Set;\n\t}\n}\n\nexport class EnumVerifier<T> extends Verifier<T> {\n\tprivate readonly allowedValues: ReadonlyArray<T>;\n\n\tconstructor(defaultValue: T, allowedValues: ReadonlyArray<T>) {\n\t\tsuper(defaultValue);\n\t\tthis.allowedValues = allowedValues;\n\t}\n\n\tprotected isType(value: unknown): value is T {\n\t\treturn this.allowedValues.includes(value as T);\n\t}\n}\n\nexport class ObjectVerifier<T extends Object> extends Verifier<T> {\n\n\tconstructor(defaultValue: T, private readonly verifier: { [K in keyof T]: IVerifier<T[K]> }) {\n\t\tsuper(defaultValue);\n\t}\n\n\toverride verify(value: unknown): T {\n\t\tif (!this.isType(value)) {\n\t\t\treturn this.defaultValue;\n\t\t}\n\t\treturn verifyObject<T>(this.verifier, value);\n\t}\n\n\tprotected isType(value: unknown): value is T {\n\t\treturn isObject(value);\n\t}\n}\n\nexport function verifyObject<T extends Object>(verifiers: { [K in keyof T]: IVerifier<T[K]> }, value: Object): T {\n\tconst result = Object.create(null);\n\n\tfor (const key in verifiers) {\n\t\tif (Object.hasOwnProperty.call(verifiers, key)) {\n\t\t\tconst verifier = verifiers[key];\n\t\t\t// eslint-disable-next-line local/code-no-any-casts\n\t\t\tresult[key] = verifier.verify((value as any)[key]);\n\t\t}\n\t}\n\n\treturn result;\n}\n"]}