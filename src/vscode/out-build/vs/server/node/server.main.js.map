{"version":3,"sources":["file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src/vs/server/node/server.main.ts","vs/server/node/server.main.ts"],"names":[],"mappings":"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","file":"server.main.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as os from 'os';\nimport * as fs from 'fs';\nimport * as net from 'net';\nimport { FileAccess } from '../../base/common/network.js';\nimport { run as runCli } from './remoteExtensionHostAgentCli.js';\nimport { createServer as doCreateServer, IServerAPI } from './remoteExtensionHostAgentServer.js';\nimport { parseArgs, ErrorReporter } from '../../platform/environment/node/argv.js';\nimport { join, dirname } from '../../base/common/path.js';\nimport { performance } from 'perf_hooks';\nimport { serverOptions } from './serverEnvironmentService.js';\nimport product from '../../platform/product/common/product.js';\nimport * as perf from '../../base/common/performance.js';\n\nperf.mark('code/server/codeLoaded');\n(global as unknown as { vscodeServerCodeLoadedTime?: number }).vscodeServerCodeLoadedTime = performance.now();\n\nconst errorReporter: ErrorReporter = {\n\tonMultipleValues: (id: string, usedValue: string) => {\n\t\tconsole.error(`Option '${id}' can only be defined once. Using value ${usedValue}.`);\n\t},\n\tonEmptyValue: (id) => {\n\t\tconsole.error(`Ignoring option '${id}': Value must not be empty.`);\n\t},\n\tonUnknownOption: (id: string) => {\n\t\tconsole.error(`Ignoring option '${id}': not supported for server.`);\n\t},\n\tonDeprecatedOption: (deprecatedOption: string, message) => {\n\t\tconsole.warn(`Option '${deprecatedOption}' is deprecated: ${message}`);\n\t}\n};\n\nconst args = parseArgs(process.argv.slice(2), serverOptions, errorReporter);\n\nconst REMOTE_DATA_FOLDER = args['server-data-dir'] || process.env['VSCODE_AGENT_FOLDER'] || join(os.homedir(), product.serverDataFolderName || '.vscode-remote');\nconst USER_DATA_PATH = join(REMOTE_DATA_FOLDER, 'data');\nconst APP_SETTINGS_HOME = join(USER_DATA_PATH, 'User');\nconst GLOBAL_STORAGE_HOME = join(APP_SETTINGS_HOME, 'globalStorage');\nconst LOCAL_HISTORY_HOME = join(APP_SETTINGS_HOME, 'History');\nconst MACHINE_SETTINGS_HOME = join(USER_DATA_PATH, 'Machine');\nargs['user-data-dir'] = USER_DATA_PATH;\nconst APP_ROOT = dirname(FileAccess.asFileUri('').fsPath);\nconst BUILTIN_EXTENSIONS_FOLDER_PATH = join(APP_ROOT, 'extensions');\nargs['builtin-extensions-dir'] = BUILTIN_EXTENSIONS_FOLDER_PATH;\nargs['extensions-dir'] = args['extensions-dir'] || join(REMOTE_DATA_FOLDER, 'extensions');\n\n[REMOTE_DATA_FOLDER, args['extensions-dir'], USER_DATA_PATH, APP_SETTINGS_HOME, MACHINE_SETTINGS_HOME, GLOBAL_STORAGE_HOME, LOCAL_HISTORY_HOME].forEach(f => {\n\ttry {\n\t\tif (!fs.existsSync(f)) {\n\t\t\tfs.mkdirSync(f, { mode: 0o700 });\n\t\t}\n\t} catch (err) { console.error(err); }\n});\n\n/**\n * invoked by server-main.js\n */\nexport function spawnCli() {\n\trunCli(args, REMOTE_DATA_FOLDER, serverOptions);\n}\n\n/**\n * invoked by server-main.js\n */\nexport function createServer(address: string | net.AddressInfo | null): Promise<IServerAPI> {\n\treturn doCreateServer(address, args, REMOTE_DATA_FOLDER);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as os from 'os';\nimport * as fs from 'fs';\nimport * as net from 'net';\nimport { FileAccess } from '../../base/common/network.js';\nimport { run as runCli } from './remoteExtensionHostAgentCli.js';\nimport { createServer as doCreateServer, IServerAPI } from './remoteExtensionHostAgentServer.js';\nimport { parseArgs, ErrorReporter } from '../../platform/environment/node/argv.js';\nimport { join, dirname } from '../../base/common/path.js';\nimport { performance } from 'perf_hooks';\nimport { serverOptions } from './serverEnvironmentService.js';\nimport product from '../../platform/product/common/product.js';\nimport * as perf from '../../base/common/performance.js';\n\nperf.mark('code/server/codeLoaded');\n(global as unknown as { vscodeServerCodeLoadedTime?: number }).vscodeServerCodeLoadedTime = performance.now();\n\nconst errorReporter: ErrorReporter = {\n\tonMultipleValues: (id: string, usedValue: string) => {\n\t\tconsole.error(`Option '${id}' can only be defined once. Using value ${usedValue}.`);\n\t},\n\tonEmptyValue: (id) => {\n\t\tconsole.error(`Ignoring option '${id}': Value must not be empty.`);\n\t},\n\tonUnknownOption: (id: string) => {\n\t\tconsole.error(`Ignoring option '${id}': not supported for server.`);\n\t},\n\tonDeprecatedOption: (deprecatedOption: string, message) => {\n\t\tconsole.warn(`Option '${deprecatedOption}' is deprecated: ${message}`);\n\t}\n};\n\nconst args = parseArgs(process.argv.slice(2), serverOptions, errorReporter);\n\nconst REMOTE_DATA_FOLDER = args['server-data-dir'] || process.env['VSCODE_AGENT_FOLDER'] || join(os.homedir(), product.serverDataFolderName || '.vscode-remote');\nconst USER_DATA_PATH = join(REMOTE_DATA_FOLDER, 'data');\nconst APP_SETTINGS_HOME = join(USER_DATA_PATH, 'User');\nconst GLOBAL_STORAGE_HOME = join(APP_SETTINGS_HOME, 'globalStorage');\nconst LOCAL_HISTORY_HOME = join(APP_SETTINGS_HOME, 'History');\nconst MACHINE_SETTINGS_HOME = join(USER_DATA_PATH, 'Machine');\nargs['user-data-dir'] = USER_DATA_PATH;\nconst APP_ROOT = dirname(FileAccess.asFileUri('').fsPath);\nconst BUILTIN_EXTENSIONS_FOLDER_PATH = join(APP_ROOT, 'extensions');\nargs['builtin-extensions-dir'] = BUILTIN_EXTENSIONS_FOLDER_PATH;\nargs['extensions-dir'] = args['extensions-dir'] || join(REMOTE_DATA_FOLDER, 'extensions');\n\n[REMOTE_DATA_FOLDER, args['extensions-dir'], USER_DATA_PATH, APP_SETTINGS_HOME, MACHINE_SETTINGS_HOME, GLOBAL_STORAGE_HOME, LOCAL_HISTORY_HOME].forEach(f => {\n\ttry {\n\t\tif (!fs.existsSync(f)) {\n\t\t\tfs.mkdirSync(f, { mode: 0o700 });\n\t\t}\n\t} catch (err) { console.error(err); }\n});\n\n/**\n * invoked by server-main.js\n */\nexport function spawnCli() {\n\trunCli(args, REMOTE_DATA_FOLDER, serverOptions);\n}\n\n/**\n * invoked by server-main.js\n */\nexport function createServer(address: string | net.AddressInfo | null): Promise<IServerAPI> {\n\treturn doCreateServer(address, args, REMOTE_DATA_FOLDER);\n}\n"]}