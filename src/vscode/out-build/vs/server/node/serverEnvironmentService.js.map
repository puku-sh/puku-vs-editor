{"version":3,"sources":["vs/server/node/serverEnvironmentService.ts"],"names":[],"mappings":"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","file":"serverEnvironmentService.js","sourceRoot":"file:///Users/sahamed/Desktop/puku-vs-editor/puku-editor/github/vscode/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as nls from '../../nls.js';\n\nimport { NativeEnvironmentService } from '../../platform/environment/node/environmentService.js';\nimport { OPTIONS, OptionDescriptions } from '../../platform/environment/node/argv.js';\nimport { refineServiceDecorator } from '../../platform/instantiation/common/instantiation.js';\nimport { IEnvironmentService, INativeEnvironmentService } from '../../platform/environment/common/environment.js';\nimport { memoize } from '../../base/common/decorators.js';\nimport { URI } from '../../base/common/uri.js';\nimport { joinPath } from '../../base/common/resources.js';\nimport { join } from '../../base/common/path.js';\nimport { ProtocolConstants } from '../../base/parts/ipc/common/ipc.net.js';\n\nexport const serverOptions: OptionDescriptions<Required<ServerParsedArgs>> = {\n\n\t/* ----- server setup ----- */\n\n\t'host': { type: 'string', cat: 'o', args: 'ip-address', description: nls.localize('host', \"The host name or IP address the server should listen to. If not set, defaults to 'localhost'.\") },\n\t'port': { type: 'string', cat: 'o', args: 'port | port range', description: nls.localize('port', \"The port the server should listen to. If 0 is passed a random free port is picked. If a range in the format num-num is passed, a free port from the range (end inclusive) is selected.\") },\n\t'socket-path': { type: 'string', cat: 'o', args: 'path', description: nls.localize('socket-path', \"The path to a socket file for the server to listen to.\") },\n\t'server-base-path': { type: 'string', cat: 'o', args: 'path', description: nls.localize('server-base-path', \"The path under which the web UI and the code server is provided. Defaults to '/'.`\") },\n\t'connection-token': { type: 'string', cat: 'o', args: 'token', deprecates: ['connectionToken'], description: nls.localize('connection-token', \"A secret that must be included with all requests.\") },\n\t'connection-token-file': { type: 'string', cat: 'o', args: 'path', deprecates: ['connection-secret', 'connectionTokenFile'], description: nls.localize('connection-token-file', \"Path to a file that contains the connection token.\") },\n\t'without-connection-token': { type: 'boolean', cat: 'o', description: nls.localize('without-connection-token', \"Run without a connection token. Only use this if the connection is secured by other means.\") },\n\t'disable-websocket-compression': { type: 'boolean' },\n\t'print-startup-performance': { type: 'boolean' },\n\t'print-ip-address': { type: 'boolean' },\n\t'accept-server-license-terms': { type: 'boolean', cat: 'o', description: nls.localize('acceptLicenseTerms', \"If set, the user accepts the server license terms and the server will be started without a user prompt.\") },\n\t'server-data-dir': { type: 'string', cat: 'o', description: nls.localize('serverDataDir', \"Specifies the directory that server data is kept in.\") },\n\t'telemetry-level': { type: 'string', cat: 'o', args: 'level', description: nls.localize('telemetry-level', \"Sets the initial telemetry level. Valid levels are: 'off', 'crash', 'error' and 'all'. If not specified, the server will send telemetry until a client connects, it will then use the clients telemetry setting. Setting this to 'off' is equivalent to --disable-telemetry\") },\n\n\t/* ----- vs code options ---\t-- */\n\n\t'user-data-dir': OPTIONS['user-data-dir'],\n\t'enable-smoke-test-driver': OPTIONS['enable-smoke-test-driver'],\n\t'disable-telemetry': OPTIONS['disable-telemetry'],\n\t'disable-experiments': OPTIONS['disable-experiments'],\n\t'disable-workspace-trust': OPTIONS['disable-workspace-trust'],\n\t'file-watcher-polling': { type: 'string', deprecates: ['fileWatcherPolling'] },\n\t'log': OPTIONS['log'],\n\t'logsPath': OPTIONS['logsPath'],\n\t'force-disable-user-env': OPTIONS['force-disable-user-env'],\n\t'enable-proposed-api': OPTIONS['enable-proposed-api'],\n\n\t/* ----- vs code web options ----- */\n\n\t'folder': { type: 'string', deprecationMessage: 'No longer supported. Folder needs to be provided in the browser URL or with `default-folder`.' },\n\t'workspace': { type: 'string', deprecationMessage: 'No longer supported. Workspace needs to be provided in the browser URL or with `default-workspace`.' },\n\n\t'default-folder': { type: 'string', description: nls.localize('default-folder', 'The workspace folder to open when no input is specified in the browser URL. A relative or absolute path resolved against the current working directory.') },\n\t'default-workspace': { type: 'string', description: nls.localize('default-workspace', 'The workspace to open when no input is specified in the browser URL. A relative or absolute path resolved against the current working directory.') },\n\n\t'enable-sync': { type: 'boolean' },\n\t'github-auth': { type: 'string' },\n\t'use-test-resolver': { type: 'boolean' },\n\n\t/* ----- extension management ----- */\n\n\t'extensions-dir': OPTIONS['extensions-dir'],\n\t'extensions-download-dir': OPTIONS['extensions-download-dir'],\n\t'builtin-extensions-dir': OPTIONS['builtin-extensions-dir'],\n\t'install-extension': OPTIONS['install-extension'],\n\t'install-builtin-extension': OPTIONS['install-builtin-extension'],\n\t'update-extensions': OPTIONS['update-extensions'],\n\t'uninstall-extension': OPTIONS['uninstall-extension'],\n\t'list-extensions': OPTIONS['list-extensions'],\n\t'locate-extension': OPTIONS['locate-extension'],\n\n\t'show-versions': OPTIONS['show-versions'],\n\t'category': OPTIONS['category'],\n\t'force': OPTIONS['force'],\n\t'do-not-sync': OPTIONS['do-not-sync'],\n\t'do-not-include-pack-dependencies': OPTIONS['do-not-include-pack-dependencies'],\n\t'pre-release': OPTIONS['pre-release'],\n\t'start-server': { type: 'boolean', cat: 'e', description: nls.localize('start-server', \"Start the server when installing or uninstalling extensions. To be used in combination with 'install-extension', 'install-builtin-extension' and 'uninstall-extension'.\") },\n\n\n\t/* ----- remote development options ----- */\n\n\t'enable-remote-auto-shutdown': { type: 'boolean' },\n\t'remote-auto-shutdown-without-delay': { type: 'boolean' },\n\t'inspect-ptyhost': { type: 'string', allowEmptyValue: true },\n\n\t'use-host-proxy': { type: 'boolean' },\n\t'without-browser-env-var': { type: 'boolean' },\n\t'reconnection-grace-time': { type: 'string', cat: 'o', args: 'seconds', description: nls.localize('reconnection-grace-time', \"Override the reconnection grace time window in seconds. Defaults to 10800 (3 hours).\") },\n\n\t/* ----- server cli ----- */\n\n\t'help': OPTIONS['help'],\n\t'version': OPTIONS['version'],\n\t'locate-shell-integration-path': OPTIONS['locate-shell-integration-path'],\n\n\t'compatibility': { type: 'string' },\n\n\t_: OPTIONS['_']\n};\n\nexport interface ServerParsedArgs {\n\n\t/* ----- server setup ----- */\n\n\thost?: string;\n\t/**\n\t * A port or a port range\n\t */\n\tport?: string;\n\t'socket-path'?: string;\n\n\t/**\n\t * The path under which the web UI and the code server is provided.\n\t * By defaults it is '/'.`\n\t */\n\t'server-base-path'?: string;\n\n\t/**\n\t * A secret token that must be provided by the web client with all requests.\n\t * Use only `[0-9A-Za-z\\-]`.\n\t *\n\t * By default, a UUID will be generated every time the server starts up.\n\t *\n\t * If the server is running on a multi-user system, then consider\n\t * using `--connection-token-file` which has the advantage that the token cannot\n\t * be seen by other users using `ps` or similar commands.\n\t */\n\t'connection-token'?: string;\n\t/**\n\t * A path to a filename which will be read on startup.\n\t * Consider placing this file in a folder readable only by the same user (a `chmod 0700` directory).\n\t *\n\t * The contents of the file will be used as the connection token. Use only `[0-9A-Z\\-]` as contents in the file.\n\t * The file can optionally end in a `\\n` which will be ignored.\n\t *\n\t * This secret must be communicated to any vscode instance via the resolver or embedder API.\n\t */\n\t'connection-token-file'?: string;\n\n\t/**\n\t * Run the server without a connection token\n\t */\n\t'without-connection-token'?: boolean;\n\n\t'disable-websocket-compression'?: boolean;\n\n\t'print-startup-performance'?: boolean;\n\t'print-ip-address'?: boolean;\n\n\t'accept-server-license-terms': boolean;\n\n\t'server-data-dir'?: string;\n\n\t'telemetry-level'?: string;\n\n\t'disable-workspace-trust'?: boolean;\n\n\t/* ----- vs code options ----- */\n\n\t'user-data-dir'?: string;\n\n\t'enable-smoke-test-driver'?: boolean;\n\n\t'disable-telemetry'?: boolean;\n\t'disable-experiments'?: boolean;\n\t'file-watcher-polling'?: string;\n\n\t'log'?: string[];\n\t'logsPath'?: string;\n\n\t'force-disable-user-env'?: boolean;\n\t'enable-proposed-api'?: string[];\n\n\t/* ----- vs code web options ----- */\n\n\t'default-workspace'?: string;\n\t'default-folder'?: string;\n\n\t/** @deprecated use default-workspace instead */\n\tworkspace: string;\n\t/** @deprecated use default-folder instead */\n\tfolder: string;\n\n\n\t'enable-sync'?: boolean;\n\t'github-auth'?: string;\n\t'use-test-resolver'?: boolean;\n\n\t/* ----- extension management ----- */\n\n\t'extensions-dir'?: string;\n\t'extensions-download-dir'?: string;\n\t'builtin-extensions-dir'?: string;\n\t'install-extension'?: string[];\n\t'install-builtin-extension'?: string[];\n\t'update-extensions'?: boolean;\n\t'uninstall-extension'?: string[];\n\t'list-extensions'?: boolean;\n\t'locate-extension'?: string[];\n\t'show-versions'?: boolean;\n\t'category'?: string;\n\tforce?: boolean; // used by install-extension\n\t'do-not-sync'?: boolean; // used by install-extension\n\t'pre-release'?: boolean; // used by install-extension\n\t'do-not-include-pack-dependencies'?: boolean; // used by install-extension\n\n\n\t'start-server'?: boolean;\n\n\t/* ----- remote development options ----- */\n\n\t'enable-remote-auto-shutdown'?: boolean;\n\t'remote-auto-shutdown-without-delay'?: boolean;\n\t'inspect-ptyhost'?: string;\n\n\t'use-host-proxy'?: boolean;\n\t'without-browser-env-var'?: boolean;\n\t'reconnection-grace-time'?: string;\n\n\t/* ----- server cli ----- */\n\thelp: boolean;\n\tversion: boolean;\n\t'locate-shell-integration-path'?: string;\n\n\tcompatibility: string;\n\n\t_: string[];\n}\n\nexport const IServerEnvironmentService = refineServiceDecorator<IEnvironmentService, IServerEnvironmentService>(IEnvironmentService);\n\nexport interface IServerEnvironmentService extends INativeEnvironmentService {\n\treadonly machineSettingsResource: URI;\n\treadonly mcpResource: URI;\n\treadonly args: ServerParsedArgs;\n\treadonly reconnectionGraceTime: number;\n}\n\nexport class ServerEnvironmentService extends NativeEnvironmentService implements IServerEnvironmentService {\n\t@memoize\n\toverride get userRoamingDataHome(): URI { return this.appSettingsHome; }\n\t@memoize\n\tget machineSettingsResource(): URI { return joinPath(URI.file(join(this.userDataPath, 'Machine')), 'settings.json'); }\n\t@memoize\n\tget mcpResource(): URI { return joinPath(URI.file(join(this.userDataPath, 'User')), 'mcp.json'); }\n\toverride get args(): ServerParsedArgs { return super.args as ServerParsedArgs; }\n\t@memoize\n\tget reconnectionGraceTime(): number { return parseGraceTime(this.args['reconnection-grace-time'], ProtocolConstants.ReconnectionGraceTime); }\n}\n\nfunction parseGraceTime(rawValue: string | undefined, fallback: number): number {\n\tif (typeof rawValue !== 'string' || rawValue.trim().length === 0) {\n\t\tconsole.log(`[reconnection-grace-time] No CLI argument provided, using default: ${fallback}ms (${Math.floor(fallback / 1000)}s)`);\n\t\treturn fallback;\n\t}\n\tconst parsedSeconds = Number(rawValue);\n\tif (!isFinite(parsedSeconds) || parsedSeconds < 0) {\n\t\tconsole.log(`[reconnection-grace-time] Invalid value '${rawValue}', using default: ${fallback}ms (${Math.floor(fallback / 1000)}s)`);\n\t\treturn fallback;\n\t}\n\tconst millis = Math.floor(parsedSeconds * 1000);\n\tif (!isFinite(millis) || millis > Number.MAX_SAFE_INTEGER) {\n\t\tconsole.log(`[reconnection-grace-time] Value too large '${rawValue}', using default: ${fallback}ms (${Math.floor(fallback / 1000)}s)`);\n\t\treturn fallback;\n\t}\n\tconsole.log(`[reconnection-grace-time] Parsed CLI argument: ${parsedSeconds}s -> ${millis}ms`);\n\treturn millis;\n}\n"]}